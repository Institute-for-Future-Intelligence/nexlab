const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-CavwZ0vh.js","assets/vendor-DeqkGhWy.js","assets/ui-D5nznrun.js","assets/firebase-BO95i_cQ.js","assets/index-BrdY1DTS.js","assets/index-DFC_x7eX.js","assets/index-VZokvahn.js","assets/purify.es-CQJ0hv7W.js","assets/SupplementalMaterials-k0u2Kzav.js"])))=>i.map(i=>d[i]);
var J$=Object.defineProperty;var Z$=(t,r,n)=>r in t?J$(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n;var vt=(t,r,n)=>Z$(t,typeof r!="symbol"?r+"":r,n);import{r as K,R as f1,j as C,C as di,P as Fn,E as tP,T as Ve,B as Fe,a as xt,b as X$,A as xr,H as eW,c as nP,d as st,e as Gs,f as Ik,g as tW,h as rP,G as Kt,D as Us,I as ir,i as Tk,k as Fc,l as IA,m as td,n as uo,o as ho,p as fo,q as fs,s as po,t as iP,u as vg,v as _g,w as Zr,x as Oc,y as Ag,L as Cg,M as nW,S as Wo,z as rk,F as Hf,J as $f,K as Sn,N as ik,O as rW,Q as iW,U as oW,V as Ar,W as oP,X as Zt,Y as sW,Z as aW,_ as sP,$ as aP,a0 as ok,a1 as Gu,a2 as Yu,a3 as Ql,a4 as lW,a5 as lP,a6 as nd,a7 as rd,a8 as id,a9 as mo,aa as It,ab as od,ac as cW,ad as uW,ae as Vu,af as Hu,ag as dW,ah as hW,ai as fW,aj as cP,ak as pW,al as uP,am as rI,an as mW,ao as gW,ap as iI,aq as TA,ar as bW,as as kW,at as wW,au as yW,av as Ya,aw as Pl,ax as dP,ay as Nk,az as hP,aA as fP,aB as NA,aC as pP,aD as Mk,aE as vW,aF as _W,aG as AW,aH as CW,aI as uv,aJ as xW,aK as SW,aL as EW,aM as mP,aN as DW,aO as gP,aP as MA,aQ as Th,aR as Xl,aS as He,aT as wn,aU as IW,aV as bP,aW as bn,aX as TW,aY as NW,aZ as MW,a_ as PW}from"./ui-D5nznrun.js";import{a as OW,g as Hc,b as $c,r as LW,c as Ru}from"./vendor-DeqkGhWy.js";import{g as BW,G as jW,o as RW,b as FW,a as zW,s as UW,c as qW,d as VW,P as Xn,e as An,f as us,h as Jf,m as kP,i as Rr,j as HW,k as p1,R as yp,x as $W,_ as Zn,I as WW,y as Ug,r as PA,u as wP,l as OA,n as Pk,p as Sa,q as go,K as GW,W as LA,t as qg,Q as YW}from"./firebase-BO95i_cQ.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var M0={},oI;function KW(){if(oI)return M0;oI=1;var t=OW();return M0.createRoot=t.createRoot,M0.hydrateRoot=t.hydrateRoot,M0}var QW=KW();const JW=Hc(QW);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},xg.apply(this,arguments)}var oh;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(oh||(oh={}));const sI="popstate";function ZW(t){t===void 0&&(t={});function r(o,a){let{pathname:c,search:d,hash:f}=o.location;return A_("",{pathname:c,search:d,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){return typeof a=="string"?a:vP(a)}return eG(r,n,null,t)}function To(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function yP(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function XW(){return Math.random().toString(36).substr(2,8)}function aI(t,r){return{usr:t.state,key:t.key,idx:r}}function A_(t,r,n,o){return n===void 0&&(n=null),xg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof r=="string"?Vg(r):r,{state:n,key:r&&r.key||o||XW()})}function vP(t){let{pathname:r="/",search:n="",hash:o=""}=t;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function Vg(t){let r={};if(t){let n=t.indexOf("#");n>=0&&(r.hash=t.substr(n),t=t.substr(0,n));let o=t.indexOf("?");o>=0&&(r.search=t.substr(o),t=t.substr(0,o)),t&&(r.pathname=t)}return r}function eG(t,r,n,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:c=!1}=o,d=a.history,f=oh.Pop,p=null,g=k();g==null&&(g=0,d.replaceState(xg({},d.state,{idx:g}),""));function k(){return(d.state||{idx:null}).idx}function v(){f=oh.Pop;let D=k(),E=D==null?null:D-g;g=D,p&&p({action:f,location:A.location,delta:E})}function y(D,E){f=oh.Push;let M=A_(A.location,D,E);g=k()+1;let P=aI(M,g),F=A.createHref(M);try{d.pushState(P,"",F)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(F)}c&&p&&p({action:f,location:A.location,delta:1})}function w(D,E){f=oh.Replace;let M=A_(A.location,D,E);g=k();let P=aI(M,g),F=A.createHref(M);d.replaceState(P,"",F),c&&p&&p({action:f,location:A.location,delta:0})}function x(D){let E=a.location.origin!=="null"?a.location.origin:a.location.href,M=typeof D=="string"?D:vP(D);return M=M.replace(/ $/,"%20"),To(E,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,E)}let A={get action(){return f},get location(){return t(a,d)},listen(D){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(sI,v),p=D,()=>{a.removeEventListener(sI,v),p=null}},createHref(D){return r(a,D)},createURL:x,encodeLocation(D){let E=x(D);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:w,go(D){return d.go(D)}};return A}var lI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lI||(lI={}));function tG(t,r,n){return n===void 0&&(n="/"),nG(t,r,n)}function nG(t,r,n,o){let a=typeof r=="string"?Vg(r):r,c=CP(a.pathname||"/",n);if(c==null)return null;let d=_P(t);rG(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let g=mG(c);f=hG(d[p],g)}return f}function _P(t,r,n,o){r===void 0&&(r=[]),n===void 0&&(n=[]),o===void 0&&(o="");let a=(c,d,f)=>{let p={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(To(p.relativePath.startsWith(o),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(o.length));let g=hh([o,p.relativePath]),k=n.concat(p);c.children&&c.children.length>0&&(To(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),_P(c.children,r,k,g)),!(c.path==null&&!c.index)&&r.push({path:g,score:uG(g,c.index),routesMeta:k})};return t.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))a(c,d);else for(let p of AP(c.path))a(c,d,p)}),r}function AP(t){let r=t.split("/");if(r.length===0)return[];let[n,...o]=r,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(o.length===0)return a?[c,""]:[c];let d=AP(o.join("/")),f=[];return f.push(...d.map(p=>p===""?c:[c,p].join("/"))),a&&f.push(...d),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function rG(t){t.sort((r,n)=>r.score!==n.score?n.score-r.score:dG(r.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const iG=/^:[\w-]+$/,oG=3,sG=2,aG=1,lG=10,cG=-2,cI=t=>t==="*";function uG(t,r){let n=t.split("/"),o=n.length;return n.some(cI)&&(o+=cG),r&&(o+=sG),n.filter(a=>!cI(a)).reduce((a,c)=>a+(iG.test(c)?oG:c===""?aG:lG),o)}function dG(t,r){return t.length===r.length&&t.slice(0,-1).every((o,a)=>o===r[a])?t[t.length-1]-r[r.length-1]:0}function hG(t,r,n){let{routesMeta:o}=t,a={},c="/",d=[];for(let f=0;f<o.length;++f){let p=o[f],g=f===o.length-1,k=c==="/"?r:r.slice(c.length)||"/",v=fG({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},k),y=p.route;if(!v)return null;Object.assign(a,v.params),d.push({params:a,pathname:hh([c,v.pathname]),pathnameBase:wG(hh([c,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(c=hh([c,v.pathnameBase]))}return d}function fG(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,o]=pG(t.path,t.caseSensitive,t.end),a=r.match(n);if(!a)return null;let c=a[0],d=c.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:o.reduce((g,k,v)=>{let{paramName:y,isOptional:w}=k;if(y==="*"){let A=f[v]||"";d=c.slice(0,c.length-A.length).replace(/(.)\/+$/,"$1")}const x=f[v];return w&&!x?g[y]=void 0:g[y]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:t}}function pG(t,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),yP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(o.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,r?void 0:"i"),o]}function mG(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return yP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),t}}function CP(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,o=t.charAt(n);return o&&o!=="/"?null:t.slice(n)||"/"}function gG(t,r){r===void 0&&(r="/");let{pathname:n,search:o="",hash:a=""}=typeof t=="string"?Vg(t):t;return{pathname:n?n.startsWith("/")?n:bG(n,r):r,search:yG(o),hash:vG(a)}}function bG(t,r){let n=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function dv(t,r,n,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kG(t){return t.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function xP(t,r){let n=kG(t);return r?n.map((o,a)=>a===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function SP(t,r,n,o){o===void 0&&(o=!1);let a;typeof t=="string"?a=Vg(t):(a=xg({},t),To(!a.pathname||!a.pathname.includes("?"),dv("?","pathname","search",a)),To(!a.pathname||!a.pathname.includes("#"),dv("#","pathname","hash",a)),To(!a.search||!a.search.includes("#"),dv("#","search","hash",a)));let c=t===""||a.pathname==="",d=c?"/":a.pathname,f;if(d==null)f=n;else{let v=r.length-1;if(!o&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),v-=1;a.pathname=y.join("/")}f=v>=0?r[v]:"/"}let p=gG(a,f),g=d&&d!=="/"&&d.endsWith("/"),k=(c||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||k)&&(p.pathname+="/"),p}const hh=t=>t.join("/").replace(/\/\/+/g,"/"),wG=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yG=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vG=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _G(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const EP=["post","put","patch","delete"];new Set(EP);const AG=["get",...EP];new Set(AG);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ok(){return Ok=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ok.apply(this,arguments)}const BA=K.createContext(null),CG=K.createContext(null),Hg=K.createContext(null),jA=K.createContext(null),sd=K.createContext({outlet:null,matches:[],isDataRoute:!1}),DP=K.createContext(null);function $g(){return K.useContext(jA)!=null}function m1(){return $g()||To(!1),K.useContext(jA).location}function IP(t){K.useContext(Hg).static||K.useLayoutEffect(t)}function Fr(){let{isDataRoute:t}=K.useContext(sd);return t?jG():xG()}function xG(){$g()||To(!1);let t=K.useContext(BA),{basename:r,future:n,navigator:o}=K.useContext(Hg),{matches:a}=K.useContext(sd),{pathname:c}=m1(),d=JSON.stringify(xP(a,n.v7_relativeSplatPath)),f=K.useRef(!1);return IP(()=>{f.current=!0}),K.useCallback(function(g,k){if(k===void 0&&(k={}),!f.current)return;if(typeof g=="number"){o.go(g);return}let v=SP(g,JSON.parse(d),c,k.relative==="path");t==null&&r!=="/"&&(v.pathname=v.pathname==="/"?r:hh([r,v.pathname])),(k.replace?o.replace:o.push)(v,k.state,k)},[r,o,d,c,t])}function RA(){let{matches:t}=K.useContext(sd),r=t[t.length-1];return r?r.params:{}}function SG(t,r){return EG(t)}function EG(t,r,n,o){$g()||To(!1);let{navigator:a}=K.useContext(Hg),{matches:c}=K.useContext(sd),d=c[c.length-1],f=d?d.params:{};d&&d.pathname;let p=d?d.pathnameBase:"/";d&&d.route;let g=m1(),k;k=g;let v=k.pathname||"/",y=v;if(p!=="/"){let A=p.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(A.length).join("/")}let w=tG(t,{pathname:y});return MG(w&&w.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:hh([p,a.encodeLocation?a.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:hh([p,a.encodeLocation?a.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),c,n,o)}function DG(){let t=BG(),r=_G(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},r),n?K.createElement("pre",{style:a},n):null,null)}const IG=K.createElement(DG,null);class TG extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?K.createElement(sd.Provider,{value:this.props.routeContext},K.createElement(DP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NG(t){let{routeContext:r,match:n,children:o}=t,a=K.useContext(BA);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),K.createElement(sd.Provider,{value:r},o)}function MG(t,r,n,o){var a;if(r===void 0&&(r=[]),n===void 0&&(n=null),o===void 0&&(o=null),t==null){var c;if(!n)return null;if(n.errors)t=n.matches;else if((c=o)!=null&&c.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let d=t,f=(a=n)==null?void 0:a.errors;if(f!=null){let k=d.findIndex(v=>v.route.id&&(f==null?void 0:f[v.route.id])!==void 0);k>=0||To(!1),d=d.slice(0,Math.min(d.length,k+1))}let p=!1,g=-1;if(n&&o&&o.v7_partialHydration)for(let k=0;k<d.length;k++){let v=d[k];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=k),v.route.id){let{loaderData:y,errors:w}=n,x=v.route.loader&&y[v.route.id]===void 0&&(!w||w[v.route.id]===void 0);if(v.route.lazy||x){p=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((k,v,y)=>{let w,x=!1,A=null,D=null;n&&(w=f&&v.route.id?f[v.route.id]:void 0,A=v.route.errorElement||IG,p&&(g<0&&y===0?(RG("route-fallback"),x=!0,D=null):g===y&&(x=!0,D=v.route.hydrateFallbackElement||null)));let E=r.concat(d.slice(0,y+1)),M=()=>{let P;return w?P=A:x?P=D:v.route.Component?P=K.createElement(v.route.Component,null):v.route.element?P=v.route.element:P=k,K.createElement(NG,{match:v,routeContext:{outlet:k,matches:E,isDataRoute:n!=null},children:P})};return n&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?K.createElement(TG,{location:n.location,revalidation:n.revalidation,component:A,error:w,children:M(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):M()},null)}var TP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(TP||{}),NP=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(NP||{});function PG(t){let r=K.useContext(BA);return r||To(!1),r}function OG(t){let r=K.useContext(CG);return r||To(!1),r}function LG(t){let r=K.useContext(sd);return r||To(!1),r}function MP(t){let r=LG(),n=r.matches[r.matches.length-1];return n.route.id||To(!1),n.route.id}function BG(){var t;let r=K.useContext(DP),n=OG(),o=MP();return r!==void 0?r:(t=n.errors)==null?void 0:t[o]}function jG(){let{router:t}=PG(TP.UseNavigateStable),r=MP(NP.UseNavigateStable),n=K.useRef(!1);return IP(()=>{n.current=!0}),K.useCallback(function(a,c){c===void 0&&(c={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Ok({fromRouteId:r},c)))},[t,r])}const uI={};function RG(t,r,n){uI[t]||(uI[t]=!0)}function FG(t,r){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function PP(t){let{to:r,replace:n,state:o,relative:a}=t;$g()||To(!1);let{future:c,static:d}=K.useContext(Hg),{matches:f}=K.useContext(sd),{pathname:p}=m1(),g=Fr(),k=SP(r,xP(f,c.v7_relativeSplatPath),p,a==="path"),v=JSON.stringify(k);return K.useEffect(()=>g(JSON.parse(v),{replace:n,state:o,relative:a}),[g,v,a,n,o]),null}function zG(t){let{basename:r="/",children:n=null,location:o,navigationType:a=oh.Pop,navigator:c,static:d=!1,future:f}=t;$g()&&To(!1);let p=r.replace(/^\/*/,"/"),g=K.useMemo(()=>({basename:p,navigator:c,static:d,future:Ok({v7_relativeSplatPath:!1},f)}),[p,f,c,d]);typeof o=="string"&&(o=Vg(o));let{pathname:k="/",search:v="",hash:y="",state:w=null,key:x="default"}=o,A=K.useMemo(()=>{let D=CP(k,p);return D==null?null:{location:{pathname:D,search:v,hash:y,state:w,key:x},navigationType:a}},[p,k,v,y,w,x,a]);return A==null?null:K.createElement(Hg.Provider,{value:g},K.createElement(jA.Provider,{children:n,value:A}))}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function C_(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((r,n)=>{let o=t[n];return r.concat(Array.isArray(o)?o.map(a=>[n,a]):[[n,o]])},[]))}function UG(t,r){let n=C_(t);return r&&r.forEach((o,a)=>{n.has(a)||r.getAll(a).forEach(c=>{n.append(a,c)})}),n}const qG="6";try{window.__reactRouterVersion=qG}catch{}const VG="startTransition",dI=f1[VG];function HG(t){let{basename:r,children:n,future:o,window:a}=t,c=K.useRef();c.current==null&&(c.current=ZW({window:a,v5Compat:!0}));let d=c.current,[f,p]=K.useState({action:d.action,location:d.location}),{v7_startTransition:g}=o||{},k=K.useCallback(v=>{g&&dI?dI(()=>p(v)):p(v)},[p,g]);return K.useLayoutEffect(()=>d.listen(k),[d,k]),K.useEffect(()=>FG(o),[o]),K.createElement(zG,{basename:r,children:n,location:f.location,navigationType:f.action,navigator:d,future:o})}var hI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hI||(hI={}));var fI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fI||(fI={}));function g1(t){let r=K.useRef(C_(t)),n=K.useRef(!1),o=m1(),a=K.useMemo(()=>UG(o.search,n.current?null:r.current),[o.search]),c=Fr(),d=K.useCallback((f,p)=>{const g=C_(typeof f=="function"?f(a):f);n.current=!0,c("?"+g,p)},[c,a]);return[a,d]}const $G="modulepreload",WG=function(t){return"/nexlab/"+t},pI={},co=function(r,n,o){let a=Promise.resolve();if(n&&n.length>0){let d=function(g){return Promise.all(g.map(k=>Promise.resolve(k).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));a=d(n.map(g=>{if(g=WG(g),g in pI)return;pI[g]=!0;const k=g.endsWith(".css"),v=k?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const y=document.createElement("link");if(y.rel=k?"stylesheet":$G,k||(y.as="script"),y.crossOrigin="",y.href=g,p&&y.setAttribute("nonce",p),document.head.appendChild(y),k)return new Promise((w,x)=>{y.addEventListener("load",w),y.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return a.then(d=>{for(const f of d||[])f.status==="rejected"&&c(f.reason);return r().catch(c)})};var Os=(t=>(t.NETWORK="NETWORK",t.AUTHENTICATION="AUTHENTICATION",t.AUTHORIZATION="AUTHORIZATION",t.VALIDATION="VALIDATION",t.NOT_FOUND="NOT_FOUND",t.SERVER_ERROR="SERVER_ERROR",t.UNKNOWN="UNKNOWN",t))(Os||{});const mI={"auth/user-not-found":{type:"AUTHENTICATION",message:"No user found with this email address."},"auth/wrong-password":{type:"AUTHENTICATION",message:"Incorrect password. Please try again."},"auth/user-disabled":{type:"AUTHORIZATION",message:"This account has been disabled. Please contact support."},"auth/too-many-requests":{type:"NETWORK",message:"Too many failed attempts. Please try again later."},"auth/network-request-failed":{type:"NETWORK",message:"Network error. Please check your connection and try again."},"permission-denied":{type:"AUTHORIZATION",message:"You do not have permission for this action."},"not-found":{type:"NOT_FOUND",message:"The requested resource was not found."},unavailable:{type:"NETWORK",message:"Service is temporarily unavailable. Please try again."}},ih=class ih{constructor(){vt(this,"errorQueue",[]);vt(this,"maxErrorQueueSize",50)}static getInstance(){return ih.instance||(ih.instance=new ih),ih.instance}handleError(r,n){const o=this.createAppError(r,n);return this.logError(o),this.queueError(o),o}createAppError(r,n){let o="UNKNOWN",a="An unexpected error occurred.";if(r!=null&&r.code&&mI[r.code]){const c=mI[r.code];o=c.type,a=c.message}else r!=null&&r.message&&(a=r.message,r.message.includes("network")||r.message.includes("fetch")?o="NETWORK":r.message.includes("unauthorized")||r.message.includes("permission")?o="AUTHORIZATION":r.message.includes("not found")?o="NOT_FOUND":r.message.includes("validation")&&(o="VALIDATION"));return{type:o,message:a,originalError:r instanceof Error?r:new Error(String(r)),context:{...n,userAgent:navigator.userAgent,url:window.location.href,timestamp:new Date().toISOString()},timestamp:new Date,userId:n==null?void 0:n.userId}}logError(r){const n=`[${r.type}] ${r.message}`,o={error:r.originalError,context:r.context,timestamp:r.timestamp};switch(r.type){case"NETWORK":case"NOT_FOUND":console.warn(n,o);break;case"AUTHENTICATION":case"AUTHORIZATION":case"VALIDATION":console.error(n,o);break;case"SERVER_ERROR":case"UNKNOWN":console.error(n,o);break}}queueError(r){this.errorQueue.push(r),this.errorQueue.length>this.maxErrorQueueSize&&this.errorQueue.shift()}getErrorQueue(){return[...this.errorQueue]}clearErrorQueue(){this.errorQueue=[]}getUserFriendlyMessage(r){return r.message}shouldRetry(r){return r.type==="NETWORK"}};vt(ih,"instance");let Sg=ih;const gI=async(t,r)=>{try{return{data:await t()}}catch(n){return{error:Sg.getInstance().handleError(n,r)}}},GG=()=>{const t=Sg.getInstance();return{handleError:(a,c)=>t.handleError(a,c),getUserFriendlyMessage:a=>t.getUserFriendlyMessage(a),shouldRetry:a=>t.shouldRetry(a)}};Sg.getInstance();class YG{constructor(){vt(this,"auth",null);vt(this,"googleProvider",null)}initialize(){this.auth||(co(()=>Promise.resolve().then(()=>Zf),void 0),this.auth=BW(),this.googleProvider=new jW)}async signInWithGoogle(r=!0){this.initialize();const n=await gI(async()=>{const o=r?FW:zW;await UW(this.auth,o);const a=await qW(this.auth,this.googleProvider);if(!a.user)throw new Error("No user returned from authentication");return a.user},{operation:"google_sign_in",keepSignedIn:r});if(n.error)throw n.error;return n.data}async signOut(){this.initialize();const r=await gI(async()=>{await VW(this.auth)},{operation:"sign_out"});if(r.error)throw r.error}onAuthStateChanged(r){return this.initialize(),RW(this.auth,r)}getCurrentUser(){return this.initialize(),this.auth.currentUser}getErrorMessage(r){return{"auth/network-request-failed":"Login Failed: Network error, please check your connection.","auth/popup-closed-by-user":"Login Failed: The sign-in popup was closed before completion.","auth/cancelled-popup-request":"Login Failed: Another sign-in request was made before the first one was completed.","auth/popup-blocked":"Login Failed: The sign-in popup was blocked by the browser. Please allow popups for this site.","auth/user-disabled":"Login Failed: This account has been disabled.","auth/user-not-found":"Login Failed: No account found with this email.","auth/wrong-password":"Login Failed: Incorrect password.","auth/too-many-requests":"Login Failed: Too many failed attempts. Please try again later."}[r]||"Login Failed: An unexpected error occurred."}}const OP=new YG;class KG{constructor(){vt(this,"db",null);vt(this,"publicCourseId");if(this.publicCourseId="rqoyheM9Lf8jGftIoZyT",!this.publicCourseId)throw new Error("Public course ID is not defined in environment variables.")}initialize(){this.db||(co(()=>Promise.resolve().then(()=>Zf),void 0),this.db=Xn())}async getUserDetails(r){this.initialize();try{const n=An(this.db,"users",r),o=await us(n);return o.exists()?{...o.data(),uid:r}:null}catch(n){throw console.error("Error fetching user details:",n),new Error("Failed to fetch user details")}}async createUserDocument(r){this.initialize();try{const n=await this.getPublicCourseInfo(),o=An(this.db,"users",r.uid),a={isAdmin:!1,isSuperAdmin:!1,lastLogin:Jf(),classes:{[this.publicCourseId]:n}};return await kP(o,a),{uid:r.uid,isAdmin:!1,isSuperAdmin:!1,lastLogin:Jf(),classes:{[this.publicCourseId]:n}}}catch(n){throw console.error("Error creating user document:",n),new Error("Failed to create user document")}}async updateUserLogin(r){this.initialize();try{const n=An(this.db,"users",r);await Rr(n,{lastLogin:Jf()})}catch(n){throw console.error("Error updating user login:",n),new Error("Failed to update user login")}}async refreshUserDetails(r){return this.getUserDetails(r)}async ensurePublicCourseAccess(r,n){this.initialize();try{if(n.classes&&n.classes[this.publicCourseId])return n;const o=await this.getPublicCourseInfo(),a=An(this.db,"users",r);return await Rr(a,{[`classes.${this.publicCourseId}`]:o}),{...n,classes:{...n.classes||{},[this.publicCourseId]:o}}}catch(o){throw console.error("Error ensuring public course access:",o),new Error("Failed to ensure public course access")}}async getPublicCourseInfo(){this.initialize();try{const r=An(this.db,"courses",this.publicCourseId),n=await us(r);if(!n.exists())throw new Error("Public course document does not exist in the courses collection!");const o=n.data();if(!o||!o.number||!o.title)throw new Error("Public course data is incomplete or invalid.");return{number:o.number,title:o.title,isCourseAdmin:!1}}catch(r){throw console.error("Error fetching public course info:",r),new Error("Failed to fetch public course information")}}}const jm=new KG,QG={apiKey:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",authDomain:"nexlab-prod.firebaseapp.com",projectId:"nexlab-prod",storageBucket:"nexlab-prod.firebasestorage.app",messagingSenderId:"922352392986",appId:"1:922352392986:web:6c4d6e16b5e615bd4daaa3"},FA=HW(QG),LP=Xn(FA),JG=p1(FA),Zf=Object.freeze(Object.defineProperty({__proto__:null,app:FA,db:LP,storage:JG},Symbol.toStringTag,{value:"Module"})),BP=K.createContext(void 0),ZG=({children:t})=>{const[r,n]=K.useState(null),[o,a]=K.useState(null),[c,d]=K.useState(!1),[f,p]=K.useState(!0),[g,k]=K.useState(null);K.useEffect(()=>{const y=OP.onAuthStateChanged(async w=>{p(!0),k(null);try{if(w){console.log("User is signed in with UID:",w.uid);let x=await jm.getUserDetails(w.uid);x?(await jm.updateUserLogin(w.uid),x=await jm.ensurePublicCourseAccess(w.uid,x)):(console.log("User document does not exist. Creating a new one..."),x=await jm.createUserDocument(w)),a(x),d(x.isSuperAdmin||!1)}else a(null),d(!1);n(w)}catch(x){console.error("Error managing user authentication:",x),k(x instanceof Error?x:new Error("Failed to manage user authentication")),n(null),a(null),d(!1)}finally{p(!1)}});return()=>y()},[]);const v=async()=>{if(!r){console.warn("No user signed in, cannot refresh user details");return}try{const y=await jm.refreshUserDetails(r.uid);y?(a(y),d(y.isSuperAdmin||!1)):(console.error("User document does not exist. Unable to refresh user details."),k(new Error("User document not found")))}catch(y){console.error("Error refreshing user details:",y),k(y instanceof Error?y:new Error("Failed to refresh user details"))}};return C.jsx(BP.Provider,{value:{user:r,userDetails:o,setUserDetails:a,refreshUserDetails:v,loading:f,error:g,isSuperAdmin:c},children:t})},xi=()=>{const t=K.useContext(BP);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t},is=({element:t})=>{const{userDetails:r,loading:n}=xi();return n?C.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:C.jsx(di,{})}):r?C.jsx(t,{}):C.jsx(PP,{to:"/"})};let jP=class extends K.Component{constructor(n){super(n);vt(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,o){console.error("ErrorBoundary caught an error:",n,o),this.setState({error:n,errorInfo:o}),this.props.onError&&this.props.onError(n,o)}render(){var n;return this.state.hasError?this.props.fallbackComponent?this.props.fallbackComponent:C.jsxs(Fn,{elevation:3,sx:{p:4,m:2,textAlign:"center",backgroundColor:"#fafafa",border:"1px solid #e0e0e0"},children:[C.jsx(tP,{color:"error",sx:{fontSize:48,mb:2}}),C.jsx(Ve,{variant:"h5",gutterBottom:!0,color:"error",children:"Something went wrong"}),C.jsx(Ve,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),C.jsxs(Fe,{sx:{mb:3},children:[C.jsx(xt,{variant:"contained",color:"primary",startIcon:C.jsx(X$,{}),onClick:this.handleRetry,sx:{mr:2},children:"Try Again"}),C.jsx(xt,{variant:"outlined",color:"primary",onClick:()=>window.location.reload(),children:"Refresh Page"})]}),this.props.showDetails&&this.state.error&&C.jsxs(xr,{severity:"error",sx:{textAlign:"left",mt:2},children:[C.jsx(Ve,{variant:"subtitle2",gutterBottom:!0,children:"Error Details:"}),C.jsxs(Ve,{variant:"body2",component:"pre",sx:{whiteSpace:"pre-wrap",fontSize:"0.75rem",fontFamily:"monospace"},children:[this.state.error.message,((n=this.state.errorInfo)==null?void 0:n.componentStack)&&C.jsxs(C.Fragment,{children:[`

Component Stack:`,this.state.errorInfo.componentStack]})]})]})]}):this.props.children}};const XG=()=>{const t=Fr();return C.jsxs(Fn,{elevation:3,sx:{p:4,m:4,textAlign:"center",backgroundColor:"#fafafa",border:"1px solid #e0e0e0",maxWidth:600,mx:"auto",mt:8},children:[C.jsx(tP,{color:"error",sx:{fontSize:64,mb:2}}),C.jsx(Ve,{variant:"h4",gutterBottom:!0,color:"error",children:"Page Error"}),C.jsx(Ve,{variant:"body1",sx:{mb:4,color:"text.secondary"},children:"This page encountered an error and cannot be displayed. You can try going back to the previous page or return to the home page."}),C.jsxs(Fe,{sx:{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:[C.jsx(xt,{variant:"contained",color:"primary",startIcon:C.jsx(eW,{}),onClick:()=>t("/"),children:"Go to Home"}),C.jsx(xt,{variant:"outlined",color:"primary",startIcon:C.jsx(nP,{}),onClick:()=>t(-1),children:"Go Back"}),C.jsx(xt,{variant:"outlined",color:"secondary",onClick:()=>window.location.reload(),children:"Refresh Page"})]})]})},RP=({children:t,showDetails:r})=>C.jsx(jP,{fallbackComponent:C.jsx(XG,{}),showDetails:r,onError:(n,o)=>{console.error("Route Error:",{error:n.message,stack:n.stack,componentStack:o.componentStack,url:window.location.href,timestamp:new Date().toISOString()})},children:t});class eY{constructor(){vt(this,"db",null);vt(this,"cacheKey","messages")}initialize(){this.db||(co(()=>Promise.resolve().then(()=>Zf),void 0),this.db=Xn())}subscribeToMessages(r){this.initialize();const n=yp(Zn(this.db,"messages"),$W("postedOn","desc"));return WW(n,o=>{const a=o.docs.map(c=>({id:c.id,...c.data()}));r(a),this.setCachedMessages(a)},o=>{console.error("Error listening to messages:",o);const a=this.getCachedMessages();a&&r(a)})}getCachedMessages(){try{const r=sessionStorage.getItem(this.cacheKey);return r?JSON.parse(r):null}catch(r){return console.error("Error reading cached messages:",r),null}}setCachedMessages(r){try{sessionStorage.setItem(this.cacheKey,JSON.stringify(r))}catch(n){console.error("Error caching messages:",n)}}clearCache(){try{sessionStorage.removeItem(this.cacheKey)}catch(r){console.error("Error clearing message cache:",r)}}async togglePinMessage(r,n){this.initialize();try{const o=An(this.db,"messages",r);await Rr(o,{isPinned:!n})}catch(o){throw console.error("Error toggling pin status:",o),o}}async deleteMessage(r){try{const n=An(this.db,"messages",r);await Ug(n)}catch(n){throw console.error("Error deleting message:",n),n}}}const P0=new eY,bI=t=>{let r;const n=new Set,o=(g,k)=>{const v=typeof g=="function"?g(r):g;if(!Object.is(v,r)){const y=r;r=k??(typeof v!="object"||v===null)?v:Object.assign({},r,v),n.forEach(w=>w(r,y))}},a=()=>r,f={setState:o,getState:a,getInitialState:()=>p,subscribe:g=>(n.add(g),()=>n.delete(g))},p=r=t(o,a,f);return f},tY=t=>t?bI(t):bI,nY=t=>t;function rY(t,r=nY){const n=st.useSyncExternalStore(t.subscribe,()=>r(t.getState()),()=>r(t.getInitialState()));return st.useDebugValue(n),n}const kI=t=>{const r=tY(t),n=o=>rY(r,o);return Object.assign(n,r),n},b1=t=>t?kI(t):kI,iY=()=>Math.random().toString(36).substr(2,9),oY=t=>{switch(t){case Os.NETWORK:return"🌐";case Os.AUTHENTICATION:return"🔒";case Os.AUTHORIZATION:return"⛔";case Os.VALIDATION:return"⚠️";case Os.NOT_FOUND:return"🔍";case Os.SERVER_ERROR:return"🚨";default:return"❌"}},sY=t=>{switch(t){case Os.NETWORK:return 8e3;case Os.AUTHENTICATION:case Os.AUTHORIZATION:return 1e4;case Os.VALIDATION:return 6e3;case Os.NOT_FOUND:return 5e3;default:return 7e3}},FP=b1((t,r)=>({notifications:[],addNotification:n=>{const o={...n,id:iY(),timestamp:new Date,duration:n.duration??5e3};t(a=>({notifications:[...a.notifications,o]})),o.duration>0&&setTimeout(()=>{r().removeNotification(o.id)},o.duration)},removeNotification:n=>{t(o=>({notifications:o.notifications.filter(a=>a.id!==n)}))},clearAll:()=>{t({notifications:[]})},showError:(n,o)=>{const a=oY(n.type),c=sY(n.type),d=[];n.type===Os.NETWORK&&d.push({label:"Retry",action:()=>{console.log("Retry requested for:",n)},primary:!0}),r().addNotification({type:"error",title:`${a} ${n.type.replace("_"," ")} Error`,message:n.message,duration:c,actions:o||d,error:n})},showSuccess:(n,o)=>{r().addNotification({type:"success",title:o||"✅ Success",message:n,duration:4e3})},showWarning:(n,o)=>{r().addNotification({type:"warning",title:o||"⚠️ Warning",message:n,duration:6e3})},showInfo:(n,o)=>{r().addNotification({type:"info",title:o||"ℹ️ Info",message:n,duration:5e3})}})),aY=()=>{const[t,r]=K.useState([]),[n,o]=K.useState(!0),[a,c]=K.useState(null),{handleError:d}=GG(),{showError:f,showSuccess:p}=FP();return K.useEffect(()=>{const y=P0.getCachedMessages();y&&(r(y),o(!1));const w=P0.subscribeToMessages(x=>{r(x),c(null),y||o(!1)});return()=>{w()}},[]),{messages:t,loading:n,error:a,deleteMessage:async y=>{try{await P0.deleteMessage(y),p("Message deleted successfully")}catch(w){const x=d(w,{operation:"delete_message",messageId:y});c(x.message),f(x)}},togglePinMessage:async(y,w)=>{try{await P0.togglePinMessage(y,w),p(`Message ${w?"unpinned":"pinned"} successfully`)}catch(x){const A=d(x,{operation:"toggle_pin_message",messageId:y,currentPinStatus:w});c(A.message),f(A)}},clearError:()=>{c(null)}}},Qa=({title:t,onClick:r,disabled:n=!1,disabledTooltip:o,lockIcon:a=!1,className:c="menu-item"})=>{const d=C.jsx(Ik,{className:c,children:C.jsx(tW,{onClick:r,disabled:n,children:C.jsx(rP,{children:C.jsxs(Ve,{className:"menu-item-typography",variant:"h6",component:"div",sx:n?{color:"#9e9e9e",opacity:.5}:{},children:[t,a&&C.jsx("span",{style:{marginLeft:8},children:"🔒"})]})})})});return n&&o?C.jsx(Gs,{title:o,children:C.jsx("span",{children:d})}):d},lY=({userDetails:t})=>{const r=Fr(),n=t&&!t.isAdmin&&(!t.classes||Object.keys(t.classes).length===0);return C.jsxs(C.Fragment,{children:[C.jsx(Kt,{item:!0,xs:12,children:C.jsx(Qa,{title:"My Account",onClick:()=>r("/my-profile")})}),C.jsx(Kt,{item:!0,xs:12,children:C.jsx(Qa,{title:"Laboratory Notebook",onClick:()=>r("/laboratory-notebooks"),disabled:n,disabledTooltip:"The Laboratory Notebook is accessible to users enrolled in an academic course. Please enroll in a course via 'My Account' by following the instructions provided by your academic instructor.",lockIcon:n})}),C.jsx(Kt,{item:!0,xs:12,children:C.jsx(Qa,{title:"Course Materials",onClick:()=>r("/supplemental-materials")})})]})},wI={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"256599ed-a0a2-496f-990d-c51faaefd71a",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},Eg=new Map,O0=t=>{const r=Eg.get(t);return r?Object.fromEntries(Object.entries(r.stores).map(([n,o])=>[n,o.getState()])):{}},cY=(t,r,n)=>{if(t===void 0)return{type:"untracked",connection:r.connect(n)};const o=Eg.get(n.name);if(o)return{type:"tracked",store:t,...o};const a={connection:r.connect(n),stores:{}};return Eg.set(n.name,a),{type:"tracked",store:t,...a}},uY=(t,r)=>{if(r===void 0)return;const n=Eg.get(t);n&&(delete n.stores[r],Object.keys(n.stores).length===0&&Eg.delete(t))},dY=t=>{var r,n;if(!t)return;const o=t.split(`
`),a=o.findIndex(d=>d.includes("api.setState"));if(a<0)return;const c=((r=o[a+1])==null?void 0:r.trim())||"";return(n=/.+ (.+) .+/.exec(c))==null?void 0:n[1]},hY=(t,r={})=>(n,o,a)=>{const{enabled:c,anonymousActionType:d,store:f,...p}=r;let g;try{g=(c??(wI?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!g)return t(n,o,a);const{connection:k,...v}=cY(f,g,p);let y=!0;a.setState=(A,D,E)=>{const M=n(A,D);if(!y)return M;const P=E===void 0?{type:d||dY(new Error().stack)||"anonymous"}:typeof E=="string"?{type:E}:E;return f===void 0?(k==null||k.send(P,o()),M):(k==null||k.send({...P,type:`${f}/${P.type}`},{...O0(p.name),[f]:a.getState()}),M)},a.devtools={cleanup:()=>{k&&typeof k.unsubscribe=="function"&&k.unsubscribe(),uY(p.name,f)}};const w=(...A)=>{const D=y;y=!1,n(...A),y=D},x=t(a.setState,o,a);if(v.type==="untracked"?k==null||k.init(x):(v.stores[v.store]=a,k==null||k.init(Object.fromEntries(Object.entries(v.stores).map(([A,D])=>[A,A===v.store?x:D.getState()])))),a.dispatchFromDevtools&&typeof a.dispatch=="function"){let A=!1;const D=a.dispatch;a.dispatch=(...E)=>{(wI?"production":void 0)!=="production"&&E[0].type==="__setState"&&!A&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),A=!0),D(...E)}}return k.subscribe(A=>{var D;switch(A.type){case"ACTION":if(typeof A.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return hv(A.payload,E=>{if(E.type==="__setState"){if(f===void 0){w(E.state);return}Object.keys(E.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const M=E.state[f];if(M==null)return;JSON.stringify(a.getState())!==JSON.stringify(M)&&w(M);return}a.dispatchFromDevtools&&typeof a.dispatch=="function"&&a.dispatch(E)});case"DISPATCH":switch(A.payload.type){case"RESET":return w(x),f===void 0?k==null?void 0:k.init(a.getState()):k==null?void 0:k.init(O0(p.name));case"COMMIT":if(f===void 0){k==null||k.init(a.getState());return}return k==null?void 0:k.init(O0(p.name));case"ROLLBACK":return hv(A.state,E=>{if(f===void 0){w(E),k==null||k.init(a.getState());return}w(E[f]),k==null||k.init(O0(p.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return hv(A.state,E=>{if(f===void 0){w(E);return}JSON.stringify(a.getState())!==JSON.stringify(E[f])&&w(E[f])});case"IMPORT_STATE":{const{nextLiftedState:E}=A.payload,M=(D=E.computedStates.slice(-1)[0])==null?void 0:D.state;if(!M)return;w(f===void 0?M:M[f]),k==null||k.send(null,E);return}case"PAUSE_RECORDING":return y=!y}return}}),x},zA=hY,hv=(t,r)=>{let n;try{n=JSON.parse(t)}catch(o){console.error("[zustand devtools middleware] Could not parse the received json",o)}n!==void 0&&r(n)};function fY(t,r){let n;try{n=t()}catch{return}return{getItem:a=>{var c;const d=p=>p===null?null:JSON.parse(p,void 0),f=(c=n.getItem(a))!=null?c:null;return f instanceof Promise?f.then(d):d(f)},setItem:(a,c)=>n.setItem(a,JSON.stringify(c,void 0)),removeItem:a=>n.removeItem(a)}}const x_=t=>r=>{try{const n=t(r);return n instanceof Promise?n:{then(o){return x_(o)(n)},catch(o){return this}}}catch(n){return{then(o){return this},catch(o){return x_(o)(n)}}}},pY=(t,r)=>(n,o,a)=>{let c={storage:fY(()=>localStorage),partialize:A=>A,version:0,merge:(A,D)=>({...D,...A}),...r},d=!1;const f=new Set,p=new Set;let g=c.storage;if(!g)return t((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),n(...A)},o,a);const k=()=>{const A=c.partialize({...o()});return g.setItem(c.name,{state:A,version:c.version})},v=a.setState;a.setState=(A,D)=>{v(A,D),k()};const y=t((...A)=>{n(...A),k()},o,a);a.getInitialState=()=>y;let w;const x=()=>{var A,D;if(!g)return;d=!1,f.forEach(M=>{var P;return M((P=o())!=null?P:y)});const E=((D=c.onRehydrateStorage)==null?void 0:D.call(c,(A=o())!=null?A:y))||void 0;return x_(g.getItem.bind(g))(c.name).then(M=>{if(M)if(typeof M.version=="number"&&M.version!==c.version){if(c.migrate){const P=c.migrate(M.state,M.version);return P instanceof Promise?P.then(F=>[!0,F]):[!0,P]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,M.state];return[!1,void 0]}).then(M=>{var P;const[F,H]=M;if(w=c.merge(H,(P=o())!=null?P:y),n(w,!0),F)return k()}).then(()=>{E==null||E(w,void 0),w=o(),d=!0,p.forEach(M=>M(w))}).catch(M=>{E==null||E(void 0,M)})};return a.persist={setOptions:A=>{c={...c,...A},A.storage&&(g=A.storage)},clearStorage:()=>{g==null||g.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>x(),hasHydrated:()=>d,onHydrate:A=>(f.add(A),()=>{f.delete(A)}),onFinishHydration:A=>(p.add(A),()=>{p.delete(A)})},c.skipHydration||x(),w||y},zP=pY,UP=b1()(zA(zP((t,r)=>({globalLoading:!1,pageLoading:{},openDialogs:{},currentPage:"/",previousPage:null,navigationSections:{educatorExpanded:!1,superAdminExpanded:!1},sidebarCollapsed:!1,theme:"light",setGlobalLoading:n=>t({globalLoading:n}),setPageLoading:(n,o)=>t(a=>({pageLoading:{...a.pageLoading,[n]:o}})),openDialog:n=>t(o=>({openDialogs:{...o.openDialogs,[n]:!0}})),closeDialog:n=>t(o=>({openDialogs:{...o.openDialogs,[n]:!1}})),toggleDialog:n=>t(o=>({openDialogs:{...o.openDialogs,[n]:!o.openDialogs[n]}})),isDialogOpen:n=>!!r().openDialogs[n],setCurrentPage:n=>t(o=>({currentPage:n,previousPage:o.currentPage})),toggleEducatorSection:()=>t(n=>({navigationSections:{...n.navigationSections,educatorExpanded:!n.navigationSections.educatorExpanded}})),toggleSuperAdminSection:()=>t(n=>({navigationSections:{...n.navigationSections,superAdminExpanded:!n.navigationSections.superAdminExpanded}})),setEducatorSectionExpanded:n=>t(o=>({navigationSections:{...o.navigationSections,educatorExpanded:n}})),setSuperAdminSectionExpanded:n=>t(o=>({navigationSections:{...o.navigationSections,superAdminExpanded:n}})),setSidebarCollapsed:n=>t({sidebarCollapsed:n}),toggleSidebar:()=>t(n=>({sidebarCollapsed:!n.sidebarCollapsed})),setTheme:n=>t({theme:n}),toggleTheme:()=>t(n=>({theme:n.theme==="light"?"dark":"light"}))}),{name:"ui-preferences",partialize:t=>({sidebarCollapsed:t.sidebarCollapsed,theme:t.theme,navigationSections:t.navigationSections})}))),mY=()=>{const t=Fr(),{navigationSections:r,toggleEducatorSection:n}=UP(),o=r.educatorExpanded;return C.jsx(C.Fragment,{children:C.jsxs(Kt,{item:!0,xs:12,children:[C.jsx(Us,{sx:{my:2}}),C.jsxs(Fe,{sx:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",py:1.5,px:2,mx:1,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},borderRadius:2,transition:"background-color 0.2s"},onClick:n,children:[C.jsx(Ve,{className:"general-menu-title",variant:"h6",component:"h2",sx:{flexGrow:1,textAlign:"center"},children:"Educator Access"}),C.jsx(ir,{size:"small",sx:{ml:2,p:.5,color:"primary.main","&:hover":{backgroundColor:"primary.light",color:"primary.contrastText"}},"aria-label":o?"collapse educator section":"expand educator section",children:o?C.jsx(Tk,{fontSize:"small"}):C.jsx(Fc,{fontSize:"small"})})]}),C.jsx(IA,{in:o,timeout:"auto",unmountOnExit:!0,children:C.jsxs(Fe,{sx:{mt:2,px:1},children:[C.jsx(Qa,{title:"Course Management",onClick:()=>t("/course-management")}),C.jsx(Fe,{sx:{mt:1},children:C.jsx(Qa,{title:"Chatbot Management",onClick:()=>t("/chatbot-management")})})]})})]})})},gY=()=>{const t=Fr(),{navigationSections:r,toggleSuperAdminSection:n}=UP(),o=r.superAdminExpanded;return C.jsx(C.Fragment,{children:C.jsxs(Kt,{item:!0,xs:12,children:[C.jsx(Us,{sx:{my:2}}),C.jsxs(Fe,{sx:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",py:1.5,px:2,mx:1,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},borderRadius:2,transition:"background-color 0.2s"},onClick:n,children:[C.jsx(Ve,{className:"general-menu-title",variant:"h6",component:"h2",sx:{flexGrow:1,textAlign:"center"},children:"Super-Admin Access"}),C.jsx(ir,{size:"small",sx:{ml:2,p:.5,color:"primary.main","&:hover":{backgroundColor:"primary.light",color:"primary.contrastText"}},"aria-label":o?"collapse super-admin section":"expand super-admin section",children:o?C.jsx(Tk,{fontSize:"small"}):C.jsx(Fc,{fontSize:"small"})})]}),C.jsx(IA,{in:o,timeout:"auto",unmountOnExit:!0,children:C.jsxs(Fe,{sx:{mt:2,px:1},children:[C.jsx(Qa,{title:"User Management",onClick:()=>t("/user-management")}),C.jsx(Fe,{sx:{mt:1},children:C.jsx(Qa,{title:"Course Management",onClick:()=>t("/super-admin-course-management")})}),C.jsx(Fe,{sx:{mt:1},children:C.jsx(Qa,{title:"Educator Requests",onClick:()=>t("/educator-requests")})}),C.jsx(Fe,{sx:{mt:1},children:C.jsx(Qa,{title:"Course Requests",onClick:()=>t("/course-requests")})}),C.jsx(Fe,{sx:{mt:1},children:C.jsx(Qa,{title:"Chatbot Requests",onClick:()=>t("/super-admin-chatbot-requests")})}),C.jsx(Fe,{sx:{mt:1},children:C.jsx(Qa,{title:"Chatbot Conversations",onClick:()=>t("/chatbot-conversations")})})]})})]})})},bY=({userDetails:t,isSuperAdmin:r})=>C.jsx(Fe,{className:"menu-container",children:C.jsxs(Kt,{container:!0,spacing:2,justifyContent:"center",children:[C.jsx(lY,{userDetails:t}),(t==null?void 0:t.isAdmin)&&C.jsx(mY,{}),r&&C.jsx(gY,{})]})}),yI=({messageId:t,onDelete:r})=>{const[n,o]=K.useState(!1),a=Xn(),c=()=>{o(!0)},d=()=>{o(!1)},f=async()=>{try{await Ug(An(a,"messages",t)),r(t),d()}catch(p){console.error("Error deleting message: ",p)}};return C.jsxs(C.Fragment,{children:[C.jsx(ir,{onClick:c,children:C.jsx(td,{})}),C.jsxs(uo,{open:n,onClose:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[C.jsx(ho,{id:"alert-dialog-title",children:"Confirm Delete"}),C.jsx(fo,{children:C.jsx(fs,{id:"alert-dialog-description",children:"Are you sure you want to delete this message? This action cannot be undone."})}),C.jsxs(po,{children:[C.jsx(xt,{onClick:d,color:"primary",children:"Cancel"}),C.jsx(xt,{onClick:f,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},vI=({message:t,togglePinMessage:r})=>{const n=async()=>{try{await r(t.id,t.isPinned||!1)}catch(o){console.error("Error updating pin status: ",o)}};return C.jsx(ir,{onClick:n,sx:{marginRight:1},children:C.jsx(iP,{color:t.isPinned?"primary":"inherit"})})},Fu=t=>t?typeof t=="object"&&"toDate"in t?t.toDate().toLocaleString():typeof t=="object"&&"seconds"in t?new Date(t.seconds*1e3).toLocaleString():"N/A":"No data available",kY=({messages:t,userDetails:r,navigate:n,handleDeleteMessage:o,togglePinMessage:a})=>{const[c,d]=K.useState(0),f=3,p=t.filter(P=>(r==null?void 0:r.classes)&&P.course in r.classes),g=p.filter(P=>P.isPinned),k=p.filter(P=>!P.isPinned),v=(c+1)*f,y=v-f,w=k.slice(y,v),x=Math.ceil(k.length/f),A=()=>d(P=>P+1),D=()=>d(P=>P-1),E=P=>{var F,H;return!!(r!=null&&r.isSuperAdmin||(H=(F=r==null?void 0:r.classes)==null?void 0:F[P.course])!=null&&H.isCourseAdmin)},M=P=>{var H;const F=(H=r==null?void 0:r.classes)==null?void 0:H[P];return F?`${F.number}`:"Unknown Course"};return C.jsxs(Fe,{className:"messages-display-container",children:[" ",g.length>0&&C.jsxs(Fn,{elevation:3,sx:{mb:3,p:2,backgroundColor:"#FBFADA",borderRadius:"15px"},children:[C.jsxs(Fe,{className:"pinned-section",children:[C.jsx(iP,{color:"primary",sx:{mr:1}}),C.jsx(Ve,{variant:"h6",className:"pinned-title",children:"Pinned"})]}),g.map(P=>C.jsx(Ik,{className:"messages-card",children:C.jsxs(vg,{children:[C.jsx(_g,{expandIcon:C.jsx(Fc,{}),"aria-controls":`panel-${P.id}-content`,id:`panel-${P.id}-header`,children:C.jsxs(Kt,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[C.jsxs(Kt,{item:!0,children:[C.jsxs(Fe,{display:"flex",alignItems:"center",children:[C.jsx(Zr,{label:M(P.course),color:"primary",variant:"outlined",className:"message-chip",sx:{marginRight:1}}),C.jsxs(Ve,{variant:"subtitle2",className:"message-posted-on",children:["Posted On: ",Fu(P.postedOn)," |"]}),P.lastUpdatedOn&&C.jsxs(Ve,{variant:"subtitle2",className:"message-updated-on",children:["| Last Updated: ",Fu(P.lastUpdatedOn)]})]}),C.jsxs(Ve,{variant:"h6",className:"message-title",children:["Subject: ",P.title]})]}),E(P)&&C.jsxs(Kt,{item:!0,children:[C.jsx(vI,{message:P,togglePinMessage:a}),C.jsx(ir,{onClick:()=>n(`/edit-message/${P.id}`),sx:{marginRight:1},children:C.jsx(Oc,{})}),C.jsx(yI,{messageId:P.id,onDelete:o})]})]})}),C.jsx(Ag,{children:C.jsxs(Fe,{sx:{border:"1px solid #e0e0e0",padding:"20px",borderRadius:"4px",backgroundColor:"#fafafa",marginBottom:"16px"},children:[C.jsx(Ve,{variant:"body1",className:"message-description",children:P.description}),P.links&&P.links.some(F=>F.title&&F.url)&&C.jsxs(Fe,{sx:{mt:1},children:[C.jsx(Ve,{variant:"subtitle2",className:"message-links-title",children:"Links:"}),P.links.map((F,H)=>F.title&&F.url&&C.jsxs(Fe,{sx:{mt:1},children:[C.jsxs(Ve,{variant:"body2",component:"span",className:"message-link",children:["🔗 ",F.title,": "]}),C.jsx(Cg,{href:F.url,target:"_blank",rel:"noopener",children:F.url})]},H))]})]})})]})},P.id))]}),C.jsx(Fn,{elevation:3,sx:{mb:3,p:2,backgroundColor:"#f5f5f5",borderRadius:"15px"},children:w.map(P=>C.jsx(Ik,{className:"messages-card",children:C.jsxs(vg,{children:[C.jsx(_g,{expandIcon:C.jsx(Fc,{}),"aria-controls":`panel-${P.id}-content`,id:`panel-${P.id}-header`,children:C.jsxs(Kt,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[C.jsxs(Kt,{item:!0,children:[C.jsxs(Fe,{display:"flex",alignItems:"center",children:[C.jsx(Zr,{label:M(P.course),color:"primary",variant:"outlined",className:"message-chip",sx:{marginRight:1}}),C.jsxs(Ve,{variant:"subtitle2",className:"message-posted-on",children:["Posted On: ",Fu(P.postedOn)]}),P.lastUpdatedOn&&C.jsxs(Ve,{variant:"subtitle2",className:"message-updated-on",children:["Last Updated: ",Fu(P.lastUpdatedOn)]})]}),C.jsxs(Ve,{variant:"h6",className:"message-title",children:["Subject: ",P.title]})]}),E(P)&&C.jsxs(Kt,{item:!0,children:[C.jsx(vI,{message:P,togglePinMessage:a}),C.jsx(ir,{onClick:()=>n(`/edit-message/${P.id}`),sx:{marginRight:1},children:C.jsx(Oc,{})}),C.jsx(yI,{messageId:P.id,onDelete:o})]})]})}),C.jsx(Ag,{children:C.jsxs(Fe,{sx:{border:"1px solid #e0e0e0",padding:"20px",borderRadius:"4px",backgroundColor:"#fafafa",marginBottom:"16px"},children:[C.jsx(Ve,{variant:"body1",className:"message-description",children:P.description}),P.links&&P.links.some(F=>F.title&&F.url)&&C.jsxs(Fe,{sx:{mt:1},children:[C.jsx(Ve,{variant:"subtitle2",className:"message-links-title",children:"Links:"}),P.links.map((F,H)=>F.title&&F.url&&C.jsxs(Fe,{sx:{mt:1},children:[C.jsxs(Ve,{variant:"body2",component:"span",className:"message-link",children:["🔗 ",F.title,": "]}),C.jsx(Cg,{href:F.url,target:"_blank",rel:"noopener",children:F.url})]},H))]})]})})]})},P.id))}),C.jsxs(Fe,{className:"pagination-container",children:[" ",C.jsx(xt,{onClick:D,disabled:c===0,className:"pagination-button",children:"Previous"}),C.jsx(xt,{onClick:A,disabled:c>=x-1,className:"pagination-button",children:"Next"})]})]})},wY=({messages:t,loading:r,userDetails:n,handleDeleteMessage:o,togglePinMessage:a})=>{const c=Fr();return C.jsxs(Fe,{className:"messages-container",children:[C.jsxs(Fe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[C.jsxs(Fe,{sx:{display:"flex",alignItems:"center"},children:[C.jsx(nW,{sx:{mr:1}}),C.jsx(Ve,{variant:"h5",component:"h4",className:"inbox-text",children:"Inbox"})]}),(n==null?void 0:n.isAdmin)&&C.jsx(xt,{variant:"contained",onClick:()=>c("/add-message"),sx:{backgroundColor:"#CDDAFF",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",border:"0px solid #0B53C0"}},children:"+ Add Message"})]}),r?C.jsx(Fe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px"},children:C.jsx(di,{})}):C.jsx(kY,{messages:t,userDetails:n,navigate:c,handleDeleteMessage:o,togglePinMessage:a})]})},yY=()=>{const{userDetails:t,isSuperAdmin:r}=xi(),[n,o]=K.useState(!1),{messages:a,loading:c,deleteMessage:d,togglePinMessage:f}=aY(),p=(k,v)=>{v!=="clickaway"&&o(!1)},g=k=>{d(k)};return C.jsxs(Fe,{sx:{flexGrow:1,padding:3},children:[C.jsxs(Kt,{container:!0,spacing:3,children:[C.jsx(Kt,{item:!0,xs:12,md:3,children:C.jsx(bY,{userDetails:t,isSuperAdmin:r})}),C.jsx(Kt,{item:!0,xs:12,md:9,children:C.jsx(wY,{messages:a,loading:c,userDetails:t,handleDeleteMessage:g,togglePinMessage:f})})]}),C.jsx(Wo,{open:n,autoHideDuration:6e3,onClose:p,children:C.jsx(xr,{onClose:p,severity:"success",sx:{width:"100%"},children:"User ID copied to clipboard!"})})]})};let L0;const vY=new Uint8Array(16);function _Y(){if(!L0&&(L0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!L0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return L0(vY)}const ao=[];for(let t=0;t<256;++t)ao.push((t+256).toString(16).slice(1));function AY(t,r=0){return ao[t[r+0]]+ao[t[r+1]]+ao[t[r+2]]+ao[t[r+3]]+"-"+ao[t[r+4]]+ao[t[r+5]]+"-"+ao[t[r+6]]+ao[t[r+7]]+"-"+ao[t[r+8]]+ao[t[r+9]]+"-"+ao[t[r+10]]+ao[t[r+11]]+ao[t[r+12]]+ao[t[r+13]]+ao[t[r+14]]+ao[t[r+15]]}const CY=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_I={randomUUID:CY};function og(t,r,n){if(_I.randomUUID&&!t)return _I.randomUUID();t=t||{};const o=t.random||(t.rng||_Y)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,AY(o)}const fv=({onDelete:t,itemType:r})=>{const[n,o]=st.useState(!1),a=()=>{o(!0)},c=()=>{o(!1)},d=()=>{t(),c()};return C.jsxs(C.Fragment,{children:[C.jsx(ir,{onClick:a,size:"small",children:C.jsx(td,{})}),C.jsxs(uo,{open:n,onClose:c,children:[C.jsx(ho,{children:`Delete ${r}`}),C.jsx(fo,{children:C.jsx(fs,{children:`Are you sure you want to delete this ${r}? This action cannot be undone.`})}),C.jsxs(po,{children:[C.jsx(xt,{onClick:c,color:"primary",children:"Cancel"}),C.jsx(xt,{onClick:d,color:"secondary",children:"Delete"})]})]})]})},qP=({sections:t,selected:r,onAddSection:n,onAddSubsection:o,onAddSubSubsection:a,onSelectSection:c,onUpdateSectionTitle:d,onUpdateSubsectionTitle:f,onUpdateSubSubsectionTitle:p,onDeleteSection:g,onDeleteSubsection:k,onDeleteSubSubsection:v,isViewMode:y})=>{const[w,x]=K.useState(null),[A,D]=K.useState(null),[E,M]=K.useState(null),[P,F]=K.useState(""),[H,V]=K.useState(t.map(()=>!0)),[N,j]=K.useState(t.reduce((ae,oe,ye)=>(ae[ye]=oe.subsections.map(()=>!0),ae),{}));K.useEffect(()=>{V(t.map(()=>!0))},[t]),K.useEffect(()=>{const ae=t.reduce((oe,ye,re)=>(oe[re]=ye.subsections.map(()=>!0),oe),{});j(ae)},[t]);const q=ae=>{const oe=[...H];oe[ae]=!oe[ae],V(oe)},Q=(ae,oe)=>{const ye={...N};ye[ae][oe]=!ye[ae][oe],j(ye)},$=(ae,oe)=>{w!==null?d(w,P):A?f(A.section,A.subsection,P):E&&p(E.section,E.subsection,E.subSubsection,P),x(ae),D(null),M(null),F(oe)},R=ae=>{d(ae,P),x(null),F("")},Y=(ae,oe,ye)=>{w!==null?d(w,P):A?f(A.section,A.subsection,P):E&&p(E.section,E.subsection,E.subSubsection,P),x(null),D({section:ae,subsection:oe}),M(null),F(ye)},B=(ae,oe)=>{f(ae,oe,P),D(null),F("")},ne=(ae,oe,ye,re)=>{w!==null?d(w,P):A?f(A.section,A.subsection,P):E&&p(E.section,E.subsection,E.subSubsection,P),x(null),D(null),M({section:ae,subsection:oe,subSubsection:ye}),F(re)},de=(ae,oe,ye)=>{p(ae,oe,ye,P),M(null),F("")};return C.jsxs(Fe,{sx:{width:"450px",borderRight:"1px solid #ddd",padding:2},children:[C.jsx(Ve,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Outline"}),!y&&C.jsx(xt,{variant:"contained",color:"primary",onClick:n,sx:{mb:2},children:"+ Add Section"}),C.jsxs(rk,{children:[C.jsx(Hf,{component:"div",onClick:()=>c("header"),sx:{backgroundColor:r.type==="header"?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:C.jsx($f,{primary:"Header"})}),t.map((ae,oe)=>C.jsxs(Fe,{children:[C.jsxs(Hf,{component:"div",onClick:()=>c(oe),sx:{backgroundColor:r.sectionIndex===oe&&r.subsectionIndex===void 0?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:[w===oe?C.jsxs(C.Fragment,{children:[C.jsx(Sn,{value:P,onChange:ye=>F(ye.target.value),size:"small",sx:{mr:1},disabled:y}),!y&&C.jsx(ir,{onClick:()=>R(oe),size:"small",children:C.jsx(ik,{})})]}):C.jsxs(C.Fragment,{children:[C.jsx($f,{primary:ae.title}),!y&&C.jsxs(C.Fragment,{children:[C.jsx(ir,{onClick:()=>$(oe,ae.title),size:"small",children:C.jsx(Oc,{})}),C.jsx(fv,{onDelete:()=>g(oe),itemType:"section"})]})]}),ae.subsections.length>0&&C.jsx(ir,{onClick:()=>q(oe),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:H[oe]?C.jsx(Tk,{sx:{fontSize:"20px"}}):C.jsx(Fc,{sx:{fontSize:"20px"}})}),!y&&C.jsx(xt,{variant:"text",onClick:()=>o(oe),size:"small",children:"+ Add Subsection"})]}),H[oe]&&C.jsx(rk,{sx:{pl:4},children:ae.subsections.map((ye,re)=>C.jsxs(Fe,{children:[C.jsxs(Hf,{component:"div",onClick:()=>c(oe,re),sx:{backgroundColor:r.sectionIndex===oe&&r.subsectionIndex===re&&r.subSubsectionIndex===void 0?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:[A&&A.section===oe&&A.subsection===re?C.jsxs(C.Fragment,{children:[C.jsx(Sn,{value:P,onChange:xe=>F(xe.target.value),size:"small",sx:{mr:1},disabled:y}),!y&&C.jsx(ir,{onClick:()=>B(oe,re),size:"small",children:C.jsx(ik,{})})]}):C.jsxs(C.Fragment,{children:[C.jsx($f,{primary:ye.title}),!y&&C.jsxs(C.Fragment,{children:[C.jsx(ir,{onClick:()=>Y(oe,re,ye.title),size:"small",children:C.jsx(Oc,{})}),C.jsx(fv,{onDelete:()=>k(oe,re),itemType:"subsection"})]})]}),ye.subSubsections.length>0&&C.jsx(ir,{onClick:()=>Q(oe,re),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:N[oe][re]?C.jsx(Tk,{sx:{fontSize:"20px"}}):C.jsx(Fc,{sx:{fontSize:"20px"}})}),!y&&C.jsx(xt,{variant:"text",onClick:()=>a(oe,re),size:"small",children:"+ Add Sub-Subsection"})]}),N[oe][re]&&C.jsx(rk,{sx:{pl:4},children:ye.subSubsections.map((xe,X)=>C.jsx(Hf,{component:"div",onClick:()=>c(oe,re,X),sx:{backgroundColor:r.sectionIndex===oe&&r.subsectionIndex===re&&r.subSubsectionIndex===X?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:E&&E.section===oe&&E.subsection===re&&E.subSubsection===X?C.jsxs(C.Fragment,{children:[C.jsx(Sn,{value:P,onChange:Z=>F(Z.target.value),size:"small",sx:{mr:1},disabled:y}),!y&&C.jsx(ir,{onClick:()=>de(oe,re,X),size:"small",children:C.jsx(ik,{})})]}):C.jsxs(C.Fragment,{children:[C.jsx($f,{primary:xe.title}),!y&&C.jsxs(C.Fragment,{children:[C.jsx(ir,{onClick:()=>ne(oe,re,X,xe.title),size:"small",children:C.jsx(Oc,{})}),C.jsx(fv,{onDelete:()=>v(oe,re,X),itemType:"subSubsection"})]})]})},xe.id))})]},ye.id))})]},ae.id)),C.jsx(Hf,{component:"div",onClick:()=>c("footer"),sx:{backgroundColor:r.type==="footer"?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:C.jsx($f,{primary:"Footer"})})]})]})},VP=({returnToSelection:t=!1})=>{const r=Fr(),[n]=g1(),o=n.get("course"),a=()=>{r(t||!o?"/supplemental-materials":`/supplemental-materials?course=${o}`)};return C.jsx(xt,{variant:"text",color:"primary",startIcon:C.jsx(nP,{}),onClick:a,className:"supplemental-back-button",children:t?"Course Selection":"Course Materials"})};var pv={exports:{}},AI;function xY(){return AI||(AI=1,(()=>{var t={d:(c,d)=>{for(var f in d)t.o(d,f)&&!t.o(c,f)&&Object.defineProperty(c,f,{enumerable:!0,get:d[f]})},o:(c,d)=>Object.prototype.hasOwnProperty.call(c,d),r:c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})}},r={};function n(c,d){for(var f=0;f<d.length;f++){var p=d[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}t.r(r),t.d(r,{default:()=>a});var o=function(){function c(){(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,c)}var d,f;return d=c,f=[{key:"changeHeightWidth",value:function(p,g,k,v,y,w){return k>v&&(p=Math.round(p*v/k),k=v),p>g&&(k=Math.round(k*g/p),p=g),y&&k<y&&(p=Math.round(p*y/k),k=y),w&&p<w&&(k=Math.round(k*w/p),p=w),{height:p,width:k}}},{key:"resizeAndRotateImage",value:function(p,g,k,v,y){var w=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",x=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,A=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,D=x/100,E=document.createElement("canvas"),M=p.width,P=p.height,F=this.changeHeightWidth(P,k,M,g,v,y);!A||A!==90&&A!==270?(E.width=F.width,E.height=F.height):(E.width=F.height,E.height=F.width),M=F.width,P=F.height;var H=E.getContext("2d");return H.fillStyle="rgba(0, 0, 0, 0)",H.fillRect(0,0,M,P),H.imageSmoothingEnabled&&H.imageSmoothingQuality&&(H.imageSmoothingQuality="high"),A&&(H.rotate(A*Math.PI/180),A===90?H.translate(0,-E.width):A===180?H.translate(-E.width,-E.height):A===270?H.translate(-E.height,0):A!==0&&A!==360||H.translate(0,0)),H.drawImage(p,0,0,M,P),E.toDataURL("image/".concat(w),D)}},{key:"b64toByteArrays",value:function(p,g){for(var k=atob(p.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),v=[],y=0;y<k.length;y+=512){for(var w=k.slice(y,y+512),x=new Array(w.length),A=0;A<w.length;A++)x[A]=w.charCodeAt(A);var D=new Uint8Array(x);v.push(D)}return v}},{key:"b64toBlob",value:function(p,g){var k=this.b64toByteArrays(p,g);return new Blob(k,{type:g,lastModified:new Date})}},{key:"b64toFile",value:function(p,g,k){var v=this.b64toByteArrays(p,k);return new File(v,g,{type:k,lastModified:new Date})}},{key:"createResizedImage",value:function(p,g,k,v,y,w,x){var A=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",D=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,E=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,M=new FileReader;if(!p)throw Error("File Not Found!");if(p.type&&!p.type.includes("image"))throw Error("File Is NOT Image!");M.readAsDataURL(p),M.onload=function(){var P=new Image;P.src=M.result,P.onload=function(){var F=c.resizeAndRotateImage(P,g,k,D,E,v,y,w),H="image/".concat(v);switch(A){case"blob":var V=c.b64toBlob(F,H);x(V);break;case"base64":x(F);break;case"file":var N=p.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(v.toString()),j=c.b64toFile(F,N,H);x(j);break;default:x(F)}}},M.onerror=function(P){throw Error(P)}}}],f&&n(d,f),c}();const a={imageFileResizer:function(c,d,f,p,g,k,v,y,w,x){return o.createResizedImage(c,d,f,p,g,k,v,y,w,x)}};pv.exports=r})()),pv.exports}var SY=xY();const EY=Hc(SY),DY=({sectionId:t,onImagesUploaded:r})=>{const[n,o]=K.useState(!1),[a,c]=K.useState(""),[d,f]=K.useState("success"),p=p1(),g=async y=>{if(y.target.files){const w=Array.from(y.target.files),x=[];for(const A of w)try{const D=await k(A),E=await v(D);x.push({url:E.url,title:`Image ${og()}`})}catch{c("Failed to upload images"),f("error"),o(!0)}r(x),c("Image(s) uploaded successfully"),f("success"),o(!0)}},k=y=>new Promise((w,x)=>{y.size>5*1024*1024?EY.imageFileResizer(y,500,500,"JPEG",70,0,A=>{typeof A=="string"?x(new Error("Compression returned a string instead of a file")):w(A)},"file"):w(y)}),v=y=>new Promise((w,x)=>{const A=PA(p,`materials/${t}/${y.name}`);wP(A,y).then(D=>{OA(D.ref).then(E=>{w({url:E,path:D.ref.fullPath})})}).catch(D=>x(D))});return C.jsxs(Fe,{children:[C.jsxs(Fe,{sx:{mt:2,display:"flex",alignItems:"center"},children:[C.jsx(rW,{sx:{mr:1}}),C.jsx(Ve,{variant:"h6",children:"Images"})]}),C.jsxs(Fe,{sx:{mt:2},children:[C.jsxs(xt,{variant:"contained",component:"label",color:"primary",children:["Add Image",C.jsx("input",{type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:g})]}),C.jsx(Wo,{open:n,autoHideDuration:6e3,onClose:()=>o(!1),children:C.jsx(xr,{onClose:()=>o(!1),severity:d,sx:{width:"100%"},children:a})})]})]})},IY=({imageTitle:t,onTitleChange:r})=>C.jsx(Sn,{variant:"outlined",fullWidth:!0,value:t,onChange:n=>r(n.target.value),placeholder:"Image Title",sx:{mt:1}}),TY=({links:t,onLinksChange:r})=>{const n=()=>{const a={title:"",url:"",description:""};r([...t,a])},o=a=>{const c=t.filter((d,f)=>f!==a);r(c)};return C.jsxs(Fe,{children:[C.jsxs(Fe,{sx:{mt:2,display:"flex",alignItems:"center"},children:[C.jsx(iW,{sx:{mr:1}}),C.jsx(Ve,{variant:"h6",children:"Links"})]}),C.jsx(Fe,{sx:{mt:1},children:t.map((a,c)=>C.jsxs(Fe,{sx:{display:"flex",alignItems:"center",mb:1},children:[C.jsx(Sn,{label:"Title",value:a.title,onChange:d=>{const f=[...t];f[c].title=d.target.value,r(f)},sx:{flexBasis:"20%",mr:1}}),C.jsx(Sn,{label:"URL",value:a.url,onChange:d=>{const f=[...t];f[c].url=d.target.value,r(f)},sx:{flexBasis:"40%",mr:1}}),C.jsx(Sn,{label:"Description",value:a.description,onChange:d=>{const f=[...t];f[c].description=d.target.value,r(f)},sx:{flexBasis:"40%"}}),C.jsx(ir,{onClick:()=>o(c),children:C.jsx(td,{})})]},c))}),C.jsx(xt,{variant:"contained",onClick:n,sx:{mt:2},children:"Add Link"})]})};var mv={exports:{}};/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class UA{constructor(r){vt(this,"crashes",[]);vt(this,"state","initializing");vt(this,"_crashNumberLimit");vt(this,"_now",Date.now);vt(this,"_minimumNonErrorTimePeriod");vt(this,"_boundErrorHandler");vt(this,"_listeners");if(this.crashes=[],this._crashNumberLimit=typeof r.crashNumberLimit=="number"?r.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof r.minimumNonErrorTimePeriod=="number"?r.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=n=>{const o="error"in n?n.error:n.reason;o instanceof Error&&this._handleError(o,n)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(r,n){this._listeners[r]||(this._listeners[r]=[]),this._listeners[r].push(n)}off(r,n){this._listeners[r]=this._listeners[r].filter(o=>o!==n)}_fire(r,...n){const o=this._listeners[r]||[];for(const a of o)a.apply(this,[null,...n])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(r,n){if(this._shouldReactToError(r)){this.crashes.push({message:r.message,stack:r.stack,filename:n instanceof ErrorEvent?n.filename:void 0,lineno:n instanceof ErrorEvent?n.lineno:void 0,colno:n instanceof ErrorEvent?n.colno:void 0,date:this._now()});const o=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:r,causesRestart:o}),o?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(r){return r.is&&r.is("CKEditorError")&&r.context!==void 0&&r.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(r)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const r=this.crashes[this.crashes.length-1].date,n=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(r-n)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function NY(t){return t==null||typeof t!="object"&&typeof t!="function"}function MY(t){return Object.getOwnPropertySymbols(t).filter(r=>Object.prototype.propertyIsEnumerable.call(t,r))}function PY(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const OY="[object RegExp]",HP="[object String]",$P="[object Number]",WP="[object Boolean]",GP="[object Arguments]",LY="[object Symbol]",BY="[object Date]",jY="[object Map]",RY="[object Set]",FY="[object Array]",zY="[object ArrayBuffer]",UY="[object Object]",qY="[object DataView]",VY="[object Uint8Array]",HY="[object Uint8ClampedArray]",$Y="[object Uint16Array]",WY="[object Uint32Array]",GY="[object Int8Array]",YY="[object Int16Array]",KY="[object Int32Array]",QY="[object Float32Array]",JY="[object Float64Array]";function ZY(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function XY(t,r){return Kf(t,void 0,t,new Map,r)}function Kf(t,r,n,o=new Map,a=void 0){const c=a==null?void 0:a(t,r,n,o);if(c!=null)return c;if(NY(t))return t;if(o.has(t))return o.get(t);if(Array.isArray(t)){const d=new Array(t.length);o.set(t,d);for(let f=0;f<t.length;f++)d[f]=Kf(t[f],f,n,o,a);return Object.hasOwn(t,"index")&&(d.index=t.index),Object.hasOwn(t,"input")&&(d.input=t.input),d}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const d=new RegExp(t.source,t.flags);return d.lastIndex=t.lastIndex,d}if(t instanceof Map){const d=new Map;o.set(t,d);for(const[f,p]of t)d.set(f,Kf(p,f,n,o,a));return d}if(t instanceof Set){const d=new Set;o.set(t,d);for(const f of t)d.add(Kf(f,void 0,n,o,a));return d}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(ZY(t)){const d=new(Object.getPrototypeOf(t)).constructor(t.length);o.set(t,d);for(let f=0;f<t.length;f++)d[f]=Kf(t[f],f,n,o,a);return d}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const d=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return o.set(t,d),th(d,t,n,o,a),d}if(typeof File<"u"&&t instanceof File){const d=new File([t],t.name,{type:t.type});return o.set(t,d),th(d,t,n,o,a),d}if(t instanceof Blob){const d=new Blob([t],{type:t.type});return o.set(t,d),th(d,t,n,o,a),d}if(t instanceof Error){const d=new t.constructor;return o.set(t,d),d.message=t.message,d.name=t.name,d.stack=t.stack,d.cause=t.cause,th(d,t,n,o,a),d}if(typeof t=="object"&&eK(t)){const d=Object.create(Object.getPrototypeOf(t));return o.set(t,d),th(d,t,n,o,a),d}return t}function th(t,r,n=t,o,a){const c=[...Object.keys(r),...MY(r)];for(let d=0;d<c.length;d++){const f=c[d],p=Object.getOwnPropertyDescriptor(t,f);(p==null||p.writable)&&(t[f]=Kf(r[f],f,n,o,a))}}function eK(t){switch(PY(t)){case GP:case FY:case zY:case qY:case WP:case BY:case QY:case JY:case GY:case YY:case KY:case jY:case $P:case UY:case OY:case RY:case HP:case LY:case VY:case HY:case $Y:case WY:return!0;default:return!1}}function tK(t,r){return XY(t,(n,o,a,c)=>{const d=r==null?void 0:r(n,o,a,c);if(d!=null)return d;if(typeof t=="object")switch(Object.prototype.toString.call(t)){case $P:case HP:case WP:{const f=new t.constructor(t==null?void 0:t.valueOf());return th(f,t),f}case GP:{const f={};return th(f,t),f.length=t.length,f[Symbol.iterator]=t[Symbol.iterator],f}default:return}})}function nK(t){return typeof t=="object"&&t!==null}function rK(t,r,{signal:n,edges:o}={}){let a,c=null;const d=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),p=()=>{c!==null&&(t.apply(a,c),a=void 0,c=null)},g=()=>{f&&p(),w()};let k=null;const v=()=>{k!=null&&clearTimeout(k),k=setTimeout(()=>{k=null,g()},r)},y=()=>{k!==null&&(clearTimeout(k),k=null)},w=()=>{y(),a=void 0,c=null},x=()=>{y(),p()},A=function(...D){if(n!=null&&n.aborted)return;a=this,c=D;const E=k==null;v(),d&&E&&p()};return A.schedule=v,A.cancel=w,A.flush=x,n==null||n.addEventListener("abort",w,{once:!0}),A}function iK(t,r=0,n={}){typeof n!="object"&&(n={});const{leading:o=!1,trailing:a=!0,maxWait:c}=n,d=Array(2);o&&(d[0]="leading"),a&&(d[1]="trailing");let f,p=null;const g=rK(function(...y){f=t.apply(this,y),p=null},r,{edges:d}),k=function(...y){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(f=t.apply(this,y),p=Date.now(),g.cancel(),g.schedule(),f):(g.apply(this,y),f)},v=()=>(g.flush(),f);return k.cancel=g.cancel,k.flush=v,k}function oK(t,r=0,n={}){typeof n!="object"&&(n={});const{leading:o=!0,trailing:a=!0}=n;return iK(t,r,{leading:o,trailing:a,maxWait:r})}function sK(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const o=t[Symbol.toStringTag];return o==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${o}]`}let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r}function CI(t){return nK(t)&&t.nodeType===1&&!sK(t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function S_(t,r=new Set){const n=[t],o=new Set;let a=0;for(;n.length>a;){const c=n[a++];if(!(o.has(c)||!aK(c)||r.has(c)))if(o.add(c),Symbol.iterator in c)try{for(const d of c)n.push(d)}catch{}else for(const d in c)d!=="defaultValue"&&n.push(c[d])}return o}function aK(t){const r=Object.prototype.toString.call(t),n=typeof t;return!(n==="number"||n==="boolean"||n==="string"||n==="symbol"||n==="function"||r==="[object Date]"||r==="[object RegExp]"||r==="[object Module]"||t===void 0||t===null||t._watchdogExcluded||t instanceof EventTarget||t instanceof Event)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function YP(t,r,n=new Set){if(t===r&&lK(t))return!0;const o=S_(t,n),a=S_(r,n);for(const c of o)if(a.has(c))return!0;return!1}function lK(t){return typeof t=="object"&&t!==null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class KP extends UA{constructor(n,o={}){super(o);vt(this,"_editor",null);vt(this,"_lifecyclePromise",null);vt(this,"_throttledSave");vt(this,"_data");vt(this,"_lastDocumentVersion");vt(this,"_elementOrData");vt(this,"_initUsingData",!0);vt(this,"_editables",{});vt(this,"_config");vt(this,"_excludedProps");this._throttledSave=oK(this._save.bind(this),typeof o.saveInterval=="number"?o.saveInterval:5e3),n&&(this._creator=(a,c)=>n.create(a,c)),this._destructor=a=>a.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(n){this._creator=n}setDestructor(n){this._destructor=n}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(n=>{console.error("An error happened during the editor destroying.",n)}).then(()=>{const n={},o=[],a=this._config.rootsAttributes||{},c={};for(const[f,p]of Object.entries(this._data.roots))p.isLoaded?(n[f]="",c[f]=a[f]||{}):o.push(f);const d={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:o,rootsAttributes:c,_watchdogInitialData:this._data};return delete d.initialData,d.extraPlugins.push(cK),this._initUsingData?this.create(n,d,d.context):CI(this._elementOrData)?this.create(this._elementOrData,d,d.context):this.create(this._editables,d,d.context)}).then(()=>{this._fire("restart")})}create(n=this._elementOrData,o=this._config,a){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=n,this._initUsingData=typeof n=="string"||Object.keys(n).length>0&&typeof Object.values(n)[0]=="string",this._config=this._cloneEditorConfiguration(o)||{},this._config.context=a,this._creator(n,this._config))).then(c=>{this._editor=c,c.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=c.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const n=this._editor;return this._editor=null,n.model.document.off("change:data",this._throttledSave),this._destructor(n)})}_save(){const n=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=n}catch(o){console.error(o,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(n){this._excludedProps=n}_getData(){const n=this._editor,o=n.model.document.roots.filter(p=>p.isAttached()&&p.rootName!="$graveyard"),{plugins:a}=n,c=a.has("CommentsRepository")&&a.get("CommentsRepository"),d=a.has("TrackChanges")&&a.get("TrackChanges"),f={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};o.forEach(p=>{f.roots[p.rootName]={content:JSON.stringify(Array.from(p.getChildren())),attributes:JSON.stringify(Array.from(p.getAttributes())),isLoaded:p._isLoaded}});for(const p of n.model.markers)p._affectsData&&(f.markers[p.name]={rangeJSON:p.getRange().toJSON(),usingOperation:p._managedUsingOperations,affectsData:p._affectsData});return c&&(f.commentThreads=JSON.stringify(c.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),d&&(f.suggestions=JSON.stringify(d.getSuggestions({toJSON:!0,skipNotAttached:!0}))),f}_getEditables(){const n={};for(const o of this.editor.model.document.getRootNames()){const a=this.editor.ui.getEditableElement(o);a&&(n[o]=a)}return n}_isErrorComingFromThisItem(n){return YP(this._editor,n.context,this._excludedProps)}_cloneEditorConfiguration(n){return tK(n,(o,a)=>{if(CI(o)||a==="context")return o})}}class cK{constructor(r){vt(this,"editor");vt(this,"_data");this.editor=r,this._data=r.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",r=>{r.stop(),this.editor.model.enqueueChange({isUndoable:!1},n=>{this._restoreCollaborationData(),this._restoreEditorData(n)}),this.editor.data.fire("ready")},{priority:999})}_createNode(r,n){if("name"in n){const o=r.createElement(n.name,n.attributes);if(n.children)for(const a of n.children)o._appendChild(this._createNode(r,a));return o}else return r.createText(n.data,n.attributes)}_restoreEditorData(r){const n=this.editor;Object.entries(this._data.roots).forEach(([o,{content:a,attributes:c}])=>{const d=JSON.parse(a),f=JSON.parse(c),p=n.model.document.getRoot(o);for(const[g,k]of f)r.setAttribute(g,k,p);for(const g of d){const k=this._createNode(r,g);r.insert(k,p,"end")}}),Object.entries(this._data.markers).forEach(([o,a])=>{const{document:c}=n.model,{rangeJSON:{start:d,end:f},...p}=a,g=c.getRoot(d.root),k=r.createPositionFromPath(g,d.path,d.stickiness),v=r.createPositionFromPath(g,f.path,f.stickiness),y=r.createRange(k,v);r.addMarker(o,{range:y,...p})})}_restoreCollaborationData(){const r=JSON.parse(this._data.commentThreads),n=JSON.parse(this._data.suggestions);r.forEach(o=>{const a=this.editor.config.get("collaboration.channelId"),c=this.editor.plugins.get("CommentsRepository");c.hasCommentThread(o.threadId)&&c.getCommentThread(o.threadId).remove(),c.addCommentThread({channelId:a,...o})}),n.forEach(o=>{const a=this.editor.plugins.get("TrackChangesEditing");if(a.hasSuggestion(o.id)){const c=a.getSuggestion(o.id);c.attributes=o.attributes}else a.addSuggestionData(o)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const cg=Symbol("MainQueueId");class uK extends UA{constructor(n,o={}){super(o);vt(this,"_watchdogs",new Map);vt(this,"_watchdogConfig");vt(this,"_context",null);vt(this,"_contextProps",new Set);vt(this,"_actionQueues",new dK);vt(this,"_contextConfig");vt(this,"_item");this._watchdogConfig=o,this._creator=a=>n.create(a),this._destructor=a=>a.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(n){this._creator=n}setDestructor(n){this._destructor=n}get context(){return this._context}create(n={}){return this._actionQueues.enqueue(cg,()=>(this._contextConfig=n,this._create()))}getItem(n){return this._getWatchdog(n)._item}getItemState(n){return this._getWatchdog(n).state}add(n){const o=xI(n);return Promise.all(o.map(a=>this._actionQueues.enqueue(a.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let c;if(this._watchdogs.has(a.id))throw new Error(`Item with the given id is already added: '${a.id}'.`);if(a.type==="editor")return c=new KP(null,this._watchdogConfig),c.setCreator(a.creator),c._setExcludedProperties(this._contextProps),a.destructor&&c.setDestructor(a.destructor),this._watchdogs.set(a.id,c),c.on("error",(d,{error:f,causesRestart:p})=>{this._fire("itemError",{itemId:a.id,error:f}),p&&this._actionQueues.enqueue(a.id,()=>new Promise(g=>{const k=()=>{c.off("restart",k),this._fire("itemRestart",{itemId:a.id}),g()};c.on("restart",k)}))}),c.create(a.sourceElementOrData,a.config,this._context);throw new Error(`Not supported item type: '${a.type}'.`)})))}remove(n){const o=xI(n);return Promise.all(o.map(a=>this._actionQueues.enqueue(a,()=>{const c=this._getWatchdog(a);return this._watchdogs.delete(a),c.destroy()})))}destroy(){return this._actionQueues.enqueue(cg,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(cg,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(n=>{console.error("An error happened during destroying the context or items.",n)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(n=>(this._context=n,this._contextProps=S_(this._context),Promise.all(Array.from(this._watchdogs.values()).map(o=>(o._setExcludedProperties(this._contextProps),o.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const n=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(o=>o.destroy())).then(()=>this._destructor(n))})}_getWatchdog(n){const o=this._watchdogs.get(n);if(!o)throw new Error(`Item with the given id was not registered: ${n}.`);return o}_isErrorComingFromThisItem(n){for(const o of this._watchdogs.values())if(o._isErrorComingFromThisItem(n))return!1;return YP(this._context,n.context)}}class dK{constructor(){vt(this,"_onEmptyCallbacks",[]);vt(this,"_queues",new Map);vt(this,"_activeActions",0)}onEmpty(r){this._onEmptyCallbacks.push(r)}enqueue(r,n){const o=r===cg;this._activeActions++,this._queues.get(r)||this._queues.set(r,Promise.resolve());const c=(o?Promise.all(this._queues.values()):Promise.all([this._queues.get(cg),this._queues.get(r)])).then(n),d=c.catch(()=>{});return this._queues.set(r,d),c.finally(()=>{this._activeActions--,this._queues.get(r)===d&&this._activeActions===0&&this._onEmptyCallbacks.forEach(f=>f())})}}function xI(t){return Array.isArray(t)?t:[t]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const hK=Object.freeze(Object.defineProperty({__proto__:null,ContextWatchdog:uK,EditorWatchdog:KP,Watchdog:UA},Symbol.toStringTag,{value:"Module"})),fK=$c(hK);/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */var SI;function pK(){return SI||(SI=1,function(t,r){(function(n,o){t.exports=o(LW(),oW(),fK)})(self,(n,o,a)=>(()=>{var c={546:g=>{g.exports=a},949:g=>{g.exports=o},155:g=>{g.exports=n}},d={};function f(g){var k=d[g];if(k!==void 0)return k.exports;var v=d[g]={exports:{}};return c[g](v,v.exports,f),v.exports}f.n=g=>{var k=g&&g.__esModule?()=>g.default:()=>g;return f.d(k,{a:k}),k},f.d=(g,k)=>{for(var v in k)f.o(k,v)&&!f.o(g,v)&&Object.defineProperty(g,v,{enumerable:!0,get:k[v]})},f.o=(g,k)=>Object.prototype.hasOwnProperty.call(g,k),f.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var p={};return(()=>{f.r(p),f.d(p,{CKEditor:()=>M,CKEditorContext:()=>D,useMultiRootEditor:()=>V});var g=f(155),k=f.n(g),v=f(949),y=f.n(v);const w=new Array(256).fill("").map((N,j)=>("0"+j.toString(16)).slice(-2));var x=f(546);const A=k().createContext("contextWatchdog");class D extends k().Component{constructor(j,q){super(j,q),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(j){return this._shouldComponentUpdate(j)}async _shouldComponentUpdate(j){return j.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(j.config)),j.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(j.config),!0):this.props.children!==j.children}render(){return k().createElement(A.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(j){this.contextWatchdog=new x.ContextWatchdog(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(q,Q)=>{this.props.onError(Q.error,{phase:"runtime",willContextRestart:Q.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(j).catch(q=>{this.props.onError(q,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}D.defaultProps={isLayoutReady:!0,onError:(N,j)=>console.error(N,j)},D.propTypes={id:y().string,isLayoutReady:y().bool,context:y().func,watchdogConfig:y().object,config:y().object,onReady:y().func,onError:y().func};const E="Lock from React integration (@ckeditor/ckeditor5-react)";class M extends k().Component{constructor(j){super(j),this.editorDestructionInProgress=null,this.domContainer=k().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:q}=window;if(q){const[Q]=q.split(".").map(Number);Q<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(j){return!!this.editor&&(j.id!==this.props.id||j.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(j)&&this.editor.data.set(j.data),"disabled"in j&&(j.disabled?this.editor.enableReadOnlyMode(E):this.editor.disableReadOnlyMode(E)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return k().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof x.ContextWatchdog?this.watchdog=new P(this.context):this.watchdog=new M._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((j,q)=>this._createEditor(j,q)),this.watchdog.on("error",(j,{error:q,causesRestart:Q})=>{(this.props.onError||console.error)(q,{phase:"runtime",willEditorRestart:Q})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(j=>{(this.props.onError||console.error)(j,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(j,q){return this.props.editor.create(j,q).then(Q=>{"disabled"in this.props&&this.props.disabled&&Q.enableReadOnlyMode(E);const $=Q.model.document,R=Q.editing.view.document;return $.on("change:data",Y=>{this.props.onChange&&this.props.onChange(Y,Q)}),R.on("focus",Y=>{this.props.onFocus&&this.props.onFocus(Y,Q)}),R.on("blur",Y=>{this.props.onBlur&&this.props.onBlur(Y,Q)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(Q)}),Q})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(j=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,j()):this.instance?(await this.instance.destroy(),this.instance=null,j()):void j())})}_shouldUpdateEditor(j){return this.props.data!==j.data&&this.editor.data.get()!==j.data}_getConfig(){const j=this.props.config||{};return this.props.data&&j.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...j,initialData:j.initialData||this.props.data||""}}}M.contextType=A,M.propTypes={editor:y().func.isRequired,data:y().string,config:y().object,disableWatchdog:y().bool,watchdogConfig:y().object,onChange:y().func,onReady:y().func,onFocus:y().func,onBlur:y().func,onError:y().func,disabled:y().bool,id:y().any},M._EditorWatchdog=x.EditorWatchdog;class P{constructor(j){this._contextWatchdog=j,this._id=function(){const q=4294967296*Math.random()>>>0,Q=4294967296*Math.random()>>>0,$=4294967296*Math.random()>>>0,R=4294967296*Math.random()>>>0;return"e"+w[255&q]+w[q>>8&255]+w[q>>16&255]+w[q>>24&255]+w[255&Q]+w[Q>>8&255]+w[Q>>16&255]+w[Q>>24&255]+w[255&$]+w[$>>8&255]+w[$>>16&255]+w[$>>24&255]+w[255&R]+w[R>>8&255]+w[R>>16&255]+w[R>>24&255]}()}setCreator(j){this._creator=j}create(j,q){return this._contextWatchdog.add({sourceElementOrData:j,config:q,creator:this._creator,id:this._id,type:"editor"})}on(j,q){this._contextWatchdog.on("itemError",(Q,{itemId:$,error:R})=>{$===this._id&&q(null,{error:R,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}const F="Lock from React integration (@ckeditor/ckeditor5-react)",H=({editor:N})=>{const j=(0,g.useRef)(null);return(0,g.useEffect)(()=>{const q=j.current;if(!N||!q)return;const Q=N.ui.view.toolbar.element;return q&&q.appendChild(Q),()=>{q&&q.removeChild(Q)}},[N&&N.id]),k().createElement("div",{ref:j})},V=N=>{const j=(0,g.useRef)(null),q=(0,g.useRef)(null),Q=(0,g.useContext)(A),[$,R]=(0,g.useState)(null),[Y,B]=(0,g.useState)(N.data),[ne,de]=(0,g.useState)(N.rootsAttributes||{}),[ae,oe]=(0,g.useState)([]),ye=(0,g.useRef)(!0);(0,g.useEffect)(()=>((async()=>(await q.current,N.isLayoutReady!==!1&&await se()))(),()=>{Z().then(()=>{q.current=null})}),[N.isLayoutReady]),(0,g.useEffect)(()=>{$&&(N.disabled?$.enableReadOnlyMode(F):$.disableReadOnlyMode(F))},[N.disabled]),(0,g.useEffect)(()=>{if($&&!q.current){const Qe=$.getFullData();B({...Qe}),de({...$.getRootsAttributes()}),oe([...Object.keys(Qe).map(ze=>xe($,ze))])}},[$&&$.id]);const re=()=>{const Qe=N.config||{};return N.data&&Qe.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` property. The config value takes precedence over `data` property and will be used when both are specified."),{...Qe,rootsAttributes:ne}},xe=(Qe,ze)=>k().createElement("div",{id:ze,key:ze,ref:J=>{if(J){const Ce=Qe.ui.view.createEditable(ze,J);Qe.ui.addEditable(Ce),Qe.editing.view.forceRender()}}}),X=(Qe,ze)=>N.editor.create(Qe,ze).then(J=>{N.disabled&&N.disabled&&J.enableReadOnlyMode(F);const Ce=J.model.document,ue=J.editing.view.document;return Ce.on("change:data",ge=>((he,_e)=>{const Me=he.model.document;if(!N.disableTwoWayDataBinding){const Ie={},Ae={};Me.differ.getChanges().forEach(Oe=>{let Ge;if(Ge=Oe.type=="insert"||Oe.type=="remove"?Oe.position.root:Oe.range.root,!Ge.isAttached())return;const{rootName:Xe}=Ge;Ie[Xe]=he.getData({rootName:Xe})}),Me.differ.getChangedRoots().forEach(Oe=>{if(Oe.state)return void(Ie[Oe.name]!==void 0&&delete Ie[Oe.name]);const Ge=Oe.name;Ae[Ge]=he.getRootAttributes(Ge)}),Object.keys(Ie).length&&B(Oe=>({...Oe,...Ie})),Object.keys(Ae).length&&de(Oe=>({...Oe,...Ae}))}N.onChange&&N.onChange(_e,he)})(J,ge)),J.on("addRoot",(ge,he)=>((_e,Me,Ie)=>{const Ae=Ie.rootName,Oe=xe(_e,Ae);N.disableTwoWayDataBinding||(B(Ge=>({...Ge,[Ae]:_e.getData({rootName:Ae})})),de(Ge=>({...Ge,[Ae]:_e.getRootAttributes(Ae)}))),oe(Ge=>[...Ge,Oe])})(J,0,he)),J.on("detachRoot",(ge,he)=>((_e,Me,Ie)=>{const Ae=Ie.rootName;oe(Oe=>Oe.filter(Ge=>Ge.props.id!==Ae)),N.disableTwoWayDataBinding||(B(Oe=>{const{[Ae]:Ge,...Xe}=Oe;return{...Xe}}),de(Oe=>{const{[Ae]:Ge,...Xe}=Oe;return{...Xe}})),_e.detachEditable(Ie)})(J,0,he)),ue.on("focus",ge=>{N.onFocus&&N.onFocus(ge,J)}),ue.on("blur",ge=>{N.onBlur&&N.onBlur(ge,J)}),R(J),N.onReady&&N.onReady(J),J}),Z=async()=>{R(null),B({}),de({}),oe([]),q.current=new Promise(Qe=>{setTimeout(async()=>j.current?(await j.current.destroy(),j.current=null,Qe()):$?(await $.destroy(),Qe()):void Qe())})},se=async()=>{if(N.disableWatchdog)return void await X(N.data,re());if(j.current)return;Q instanceof x.ContextWatchdog?j.current=new P(Q):j.current=new x.EditorWatchdog(N.editor,N.watchdogConfig);const Qe=j.current;Qe.setCreator((ze,J)=>X(ze,J)),Qe.on("error",(ze,{error:J,causesRestart:Ce})=>{(N.onError||console.error)(J,{phase:"runtime",willEditorRestart:Ce})}),await Qe.create(Y,re()).catch(ze=>{(N.onError||console.error)(ze,{phase:"initialization",willEditorRestart:!1})})};(0,g.useEffect)(()=>{if($&&ye.current){ye.current=!1;const Qe=Object.keys(Y),ze=Object.keys(ne);if(!Qe.every(Me=>ze.includes(Me)))throw new Error("`data` and `attributes` objects must have the same keys (roots).");const J=$.getFullData(),Ce=$.getRootsAttributes(),{addedKeys:ue,removedKeys:ge}=pe(J,Y||{}),he=Qe.some(Me=>J[Me]!==void 0&&JSON.stringify(J[Me])!==JSON.stringify(Y[Me])),_e=ze.filter(Me=>JSON.stringify(Ce[Me])!==JSON.stringify(ne[Me]));$.model.change(Me=>{we(ue),Pe(ge),he&&Te(),_e.length&&Ne(Me,_e)})}},[Y,ne]);const pe=(Qe,ze)=>{const J=Object.keys(Qe),Ce=Object.keys(ze);return{addedKeys:Ce.filter(ue=>!J.includes(ue)),removedKeys:J.filter(ue=>!Ce.includes(ue))}},we=Qe=>{Qe.forEach(ze=>{$.addRoot(ze,{data:Y[ze]||"",attributes:(ne==null?void 0:ne[ze])||{},isUndoable:!0})})},Pe=Qe=>{Qe.forEach(ze=>{$.detachRoot(ze,!0)})},Te=()=>{$.data.set(Y,{suppressErrorInCollaboration:!0})},Ne=(Qe,ze)=>{ze.forEach(J=>{Object.keys(ne[J]).forEach(Ce=>{$.registerRootAttribute(Ce)}),Qe.clearAttributes($.model.document.getRoot(J)),Qe.setAttributes(ne[J],$.model.document.getRoot(J))})},rt=(0,g.useCallback)(Qe=>{ye.current=!0,B(Qe)},[B]),Ke=(0,g.useCallback)(Qe=>{ye.current=!0,de(Qe)},[de]);return{editor:$,editableElements:ae,toolbarElement:k().createElement(H,{editor:$}),data:Y,setData:rt,attributes:ne,setAttributes:Ke}}})(),p})())}(mv)),mv.exports}var QP=pK(),sg={exports:{}};sg.exports;var EI;function mK(){return EI||(EI=1,function(t,r){(function(n){const o=n.en=n.en||{};o.dictionary=Object.assign(o.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent",Insert:"Insert","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lower–roman":"Lower–roman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower–latin list style":"Toggle the lower–latin list style","Toggle the lower–roman list style":"Toggle the lower–roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper–latin list style":"Toggle the upper–latin list style","Toggle the upper–roman list style":"Toggle the upper–roman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(n,o){t.exports=o()}(self,()=>(()=>{var n={9246:(d,f,p)=>{const g=p(6931),k={};for(const y of Object.keys(g))k[g[y]]=y;const v={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};d.exports=v;for(const y of Object.keys(v)){if(!("channels"in v[y]))throw new Error("missing channels property: "+y);if(!("labels"in v[y]))throw new Error("missing channel labels property: "+y);if(v[y].labels.length!==v[y].channels)throw new Error("channel and label counts mismatch: "+y);const{channels:w,labels:x}=v[y];delete v[y].channels,delete v[y].labels,Object.defineProperty(v[y],"channels",{value:w}),Object.defineProperty(v[y],"labels",{value:x})}v.rgb.hsl=function(y){const w=y[0]/255,x=y[1]/255,A=y[2]/255,D=Math.min(w,x,A),E=Math.max(w,x,A),M=E-D;let P,F;E===D?P=0:w===E?P=(x-A)/M:x===E?P=2+(A-w)/M:A===E&&(P=4+(w-x)/M),P=Math.min(60*P,360),P<0&&(P+=360);const H=(D+E)/2;return F=E===D?0:H<=.5?M/(E+D):M/(2-E-D),[P,100*F,100*H]},v.rgb.hsv=function(y){let w,x,A,D,E;const M=y[0]/255,P=y[1]/255,F=y[2]/255,H=Math.max(M,P,F),V=H-Math.min(M,P,F),N=function(j){return(H-j)/6/V+.5};return V===0?(D=0,E=0):(E=V/H,w=N(M),x=N(P),A=N(F),M===H?D=A-x:P===H?D=.3333333333333333+w-A:F===H&&(D=.6666666666666666+x-w),D<0?D+=1:D>1&&(D-=1)),[360*D,100*E,100*H]},v.rgb.hwb=function(y){const w=y[0],x=y[1];let A=y[2];const D=v.rgb.hsl(y)[0],E=1/255*Math.min(w,Math.min(x,A));return A=1-.00392156862745098*Math.max(w,Math.max(x,A)),[D,100*E,100*A]},v.rgb.cmyk=function(y){const w=y[0]/255,x=y[1]/255,A=y[2]/255,D=Math.min(1-w,1-x,1-A);return[100*((1-w-D)/(1-D)||0),100*((1-x-D)/(1-D)||0),100*((1-A-D)/(1-D)||0),100*D]},v.rgb.keyword=function(y){const w=k[y];if(w)return w;let x,A=1/0;for(const M of Object.keys(g)){const P=g[M],F=(E=P,((D=y)[0]-E[0])**2+(D[1]-E[1])**2+(D[2]-E[2])**2);F<A&&(A=F,x=M)}var D,E;return x},v.keyword.rgb=function(y){return g[y]},v.rgb.xyz=function(y){let w=y[0]/255,x=y[1]/255,A=y[2]/255;return w=w>.04045?((w+.055)/1.055)**2.4:w/12.92,x=x>.04045?((x+.055)/1.055)**2.4:x/12.92,A=A>.04045?((A+.055)/1.055)**2.4:A/12.92,[100*(.4124*w+.3576*x+.1805*A),100*(.2126*w+.7152*x+.0722*A),100*(.0193*w+.1192*x+.9505*A)]},v.rgb.lab=function(y){const w=v.rgb.xyz(y);let x=w[0],A=w[1],D=w[2];return x/=95.047,A/=100,D/=108.883,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,A=A>.008856?A**.3333333333333333:7.787*A+.13793103448275862,D=D>.008856?D**.3333333333333333:7.787*D+.13793103448275862,[116*A-16,500*(x-A),200*(A-D)]},v.hsl.rgb=function(y){const w=y[0]/360,x=y[1]/100,A=y[2]/100;let D,E,M;if(x===0)return M=255*A,[M,M,M];D=A<.5?A*(1+x):A+x-A*x;const P=2*A-D,F=[0,0,0];for(let H=0;H<3;H++)E=w+.3333333333333333*-(H-1),E<0&&E++,E>1&&E--,M=6*E<1?P+6*(D-P)*E:2*E<1?D:3*E<2?P+(D-P)*(.6666666666666666-E)*6:P,F[H]=255*M;return F},v.hsl.hsv=function(y){const w=y[0];let x=y[1]/100,A=y[2]/100,D=x;const E=Math.max(A,.01);return A*=2,x*=A<=1?A:2-A,D*=E<=1?E:2-E,[w,100*(A===0?2*D/(E+D):2*x/(A+x)),100*((A+x)/2)]},v.hsv.rgb=function(y){const w=y[0]/60,x=y[1]/100;let A=y[2]/100;const D=Math.floor(w)%6,E=w-Math.floor(w),M=255*A*(1-x),P=255*A*(1-x*E),F=255*A*(1-x*(1-E));switch(A*=255,D){case 0:return[A,F,M];case 1:return[P,A,M];case 2:return[M,A,F];case 3:return[M,P,A];case 4:return[F,M,A];case 5:return[A,M,P]}},v.hsv.hsl=function(y){const w=y[0],x=y[1]/100,A=y[2]/100,D=Math.max(A,.01);let E,M;M=(2-x)*A;const P=(2-x)*D;return E=x*D,E/=P<=1?P:2-P,E=E||0,M/=2,[w,100*E,100*M]},v.hwb.rgb=function(y){const w=y[0]/360;let x=y[1]/100,A=y[2]/100;const D=x+A;let E;D>1&&(x/=D,A/=D);const M=Math.floor(6*w),P=1-A;E=6*w-M,1&M&&(E=1-E);const F=x+E*(P-x);let H,V,N;switch(M){default:case 6:case 0:H=P,V=F,N=x;break;case 1:H=F,V=P,N=x;break;case 2:H=x,V=P,N=F;break;case 3:H=x,V=F,N=P;break;case 4:H=F,V=x,N=P;break;case 5:H=P,V=x,N=F}return[255*H,255*V,255*N]},v.cmyk.rgb=function(y){const w=y[0]/100,x=y[1]/100,A=y[2]/100,D=y[3]/100;return[255*(1-Math.min(1,w*(1-D)+D)),255*(1-Math.min(1,x*(1-D)+D)),255*(1-Math.min(1,A*(1-D)+D))]},v.xyz.rgb=function(y){const w=y[0]/100,x=y[1]/100,A=y[2]/100;let D,E,M;return D=3.2406*w+-1.5372*x+-.4986*A,E=-.9689*w+1.8758*x+.0415*A,M=.0557*w+-.204*x+1.057*A,D=D>.0031308?1.055*D**.4166666666666667-.055:12.92*D,E=E>.0031308?1.055*E**.4166666666666667-.055:12.92*E,M=M>.0031308?1.055*M**.4166666666666667-.055:12.92*M,D=Math.min(Math.max(0,D),1),E=Math.min(Math.max(0,E),1),M=Math.min(Math.max(0,M),1),[255*D,255*E,255*M]},v.xyz.lab=function(y){let w=y[0],x=y[1],A=y[2];return w/=95.047,x/=100,A/=108.883,w=w>.008856?w**.3333333333333333:7.787*w+.13793103448275862,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,A=A>.008856?A**.3333333333333333:7.787*A+.13793103448275862,[116*x-16,500*(w-x),200*(x-A)]},v.lab.xyz=function(y){let w,x,A;x=(y[0]+16)/116,w=y[1]/500+x,A=x-y[2]/200;const D=x**3,E=w**3,M=A**3;return x=D>.008856?D:(x-.13793103448275862)/7.787,w=E>.008856?E:(w-.13793103448275862)/7.787,A=M>.008856?M:(A-.13793103448275862)/7.787,w*=95.047,x*=100,A*=108.883,[w,x,A]},v.lab.lch=function(y){const w=y[0],x=y[1],A=y[2];let D;return D=360*Math.atan2(A,x)/2/Math.PI,D<0&&(D+=360),[w,Math.sqrt(x*x+A*A),D]},v.lch.lab=function(y){const w=y[0],x=y[1],A=y[2]/360*2*Math.PI;return[w,x*Math.cos(A),x*Math.sin(A)]},v.rgb.ansi16=function(y,w=null){const[x,A,D]=y;let E=w===null?v.rgb.hsv(y)[2]:w;if(E=Math.round(E/50),E===0)return 30;let M=30+(Math.round(D/255)<<2|Math.round(A/255)<<1|Math.round(x/255));return E===2&&(M+=60),M},v.hsv.ansi16=function(y){return v.rgb.ansi16(v.hsv.rgb(y),y[2])},v.rgb.ansi256=function(y){const w=y[0],x=y[1],A=y[2];return w===x&&x===A?w<8?16:w>248?231:Math.round((w-8)/247*24)+232:16+36*Math.round(w/255*5)+6*Math.round(x/255*5)+Math.round(A/255*5)},v.ansi16.rgb=function(y){let w=y%10;if(w===0||w===7)return y>50&&(w+=3.5),w=w/10.5*255,[w,w,w];const x=.5*(1+~~(y>50));return[(1&w)*x*255,(w>>1&1)*x*255,(w>>2&1)*x*255]},v.ansi256.rgb=function(y){if(y>=232){const x=10*(y-232)+8;return[x,x,x]}let w;return y-=16,[Math.floor(y/36)/5*255,Math.floor((w=y%36)/6)/5*255,w%6/5*255]},v.rgb.hex=function(y){const w=(((255&Math.round(y[0]))<<16)+((255&Math.round(y[1]))<<8)+(255&Math.round(y[2]))).toString(16).toUpperCase();return"000000".substring(w.length)+w},v.hex.rgb=function(y){const w=y.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!w)return[0,0,0];let x=w[0];w[0].length===3&&(x=x.split("").map(D=>D+D).join(""));const A=parseInt(x,16);return[A>>16&255,A>>8&255,255&A]},v.rgb.hcg=function(y){const w=y[0]/255,x=y[1]/255,A=y[2]/255,D=Math.max(Math.max(w,x),A),E=Math.min(Math.min(w,x),A),M=D-E;let P,F;return P=M<1?E/(1-M):0,F=M<=0?0:D===w?(x-A)/M%6:D===x?2+(A-w)/M:4+(w-x)/M,F/=6,F%=1,[360*F,100*M,100*P]},v.hsl.hcg=function(y){const w=y[1]/100,x=y[2]/100,A=x<.5?2*w*x:2*w*(1-x);let D=0;return A<1&&(D=(x-.5*A)/(1-A)),[y[0],100*A,100*D]},v.hsv.hcg=function(y){const w=y[1]/100,x=y[2]/100,A=w*x;let D=0;return A<1&&(D=(x-A)/(1-A)),[y[0],100*A,100*D]},v.hcg.rgb=function(y){const w=y[0]/360,x=y[1]/100,A=y[2]/100;if(x===0)return[255*A,255*A,255*A];const D=[0,0,0],E=w%1*6,M=E%1,P=1-M;let F=0;switch(Math.floor(E)){case 0:D[0]=1,D[1]=M,D[2]=0;break;case 1:D[0]=P,D[1]=1,D[2]=0;break;case 2:D[0]=0,D[1]=1,D[2]=M;break;case 3:D[0]=0,D[1]=P,D[2]=1;break;case 4:D[0]=M,D[1]=0,D[2]=1;break;default:D[0]=1,D[1]=0,D[2]=P}return F=(1-x)*A,[255*(x*D[0]+F),255*(x*D[1]+F),255*(x*D[2]+F)]},v.hcg.hsv=function(y){const w=y[1]/100,x=w+y[2]/100*(1-w);let A=0;return x>0&&(A=w/x),[y[0],100*A,100*x]},v.hcg.hsl=function(y){const w=y[1]/100,x=y[2]/100*(1-w)+.5*w;let A=0;return x>0&&x<.5?A=w/(2*x):x>=.5&&x<1&&(A=w/(2*(1-x))),[y[0],100*A,100*x]},v.hcg.hwb=function(y){const w=y[1]/100,x=w+y[2]/100*(1-w);return[y[0],100*(x-w),100*(1-x)]},v.hwb.hcg=function(y){const w=y[1]/100,x=1-y[2]/100,A=x-w;let D=0;return A<1&&(D=(x-A)/(1-A)),[y[0],100*A,100*D]},v.apple.rgb=function(y){return[y[0]/65535*255,y[1]/65535*255,y[2]/65535*255]},v.rgb.apple=function(y){return[y[0]/255*65535,y[1]/255*65535,y[2]/255*65535]},v.gray.rgb=function(y){return[y[0]/100*255,y[0]/100*255,y[0]/100*255]},v.gray.hsl=function(y){return[0,0,y[0]]},v.gray.hsv=v.gray.hsl,v.gray.hwb=function(y){return[0,100,y[0]]},v.gray.cmyk=function(y){return[0,0,0,y[0]]},v.gray.lab=function(y){return[y[0],0,0]},v.gray.hex=function(y){const w=255&Math.round(y[0]/100*255),x=((w<<16)+(w<<8)+w).toString(16).toUpperCase();return"000000".substring(x.length)+x},v.rgb.gray=function(y){return[(y[0]+y[1]+y[2])/3/255*100]}},9047:(d,f,p)=>{const g=p(9246),k=p(802),v={};Object.keys(g).forEach(y=>{v[y]={},Object.defineProperty(v[y],"channels",{value:g[y].channels}),Object.defineProperty(v[y],"labels",{value:g[y].labels});const w=k(y);Object.keys(w).forEach(x=>{const A=w[x];v[y][x]=function(D){const E=function(...M){const P=M[0];if(P==null)return P;P.length>1&&(M=P);const F=D(M);if(typeof F=="object")for(let H=F.length,V=0;V<H;V++)F[V]=Math.round(F[V]);return F};return"conversion"in D&&(E.conversion=D.conversion),E}(A),v[y][x].raw=function(D){const E=function(...M){const P=M[0];return P==null?P:(P.length>1&&(M=P),D(M))};return"conversion"in D&&(E.conversion=D.conversion),E}(A)})}),d.exports=v},802:(d,f,p)=>{const g=p(9246);function k(w){const x=function(){const D={},E=Object.keys(g);for(let M=E.length,P=0;P<M;P++)D[E[P]]={distance:-1,parent:null};return D}(),A=[w];for(x[w].distance=0;A.length;){const D=A.pop(),E=Object.keys(g[D]);for(let M=E.length,P=0;P<M;P++){const F=E[P],H=x[F];H.distance===-1&&(H.distance=x[D].distance+1,H.parent=D,A.unshift(F))}}return x}function v(w,x){return function(A){return x(w(A))}}function y(w,x){const A=[x[w].parent,w];let D=g[x[w].parent][w],E=x[w].parent;for(;x[E].parent;)A.unshift(x[E].parent),D=v(g[x[E].parent][E],D),E=x[E].parent;return D.conversion=A,D}d.exports=function(w){const x=k(w),A={},D=Object.keys(x);for(let E=D.length,M=0;M<E;M++){const P=D[M];x[P].parent!==null&&(A[P]=y(P,x))}return A}},6931:d=>{d.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4199:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const w=y},8708:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const w=y},1866:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Based on default CKBox theme colors */
	--ck-image-processing-highlight-color: hsl(220, 10%, 98%);
	--ck-image-processing-background-color: hsl(220, 10%, 90%);
}

.ck.ck-editor__editable {
	& .image {
		&.image-processing {
			position: relative;

			&:before {
				content: '';

				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;

				height: 100%;
				width: 100%;

				background: linear-gradient(
					90deg,
					var(--ck-image-processing-background-color),
					var(--ck-image-processing-highlight-color),
					var(--ck-image-processing-background-color)
				);
				background-size: 200% 100%;

				animation: ck-image-processing-animation 2s linear infinite;
			}

			& img {
				height: 100%;
			}
		}
	}
}

@keyframes ck-image-processing-animation {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
`],sourceRoot:""}]);const w=y},7793:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const w=y},7388:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DCED,eDeC,CAjBA,mKCMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAcF,CAjBA,8DAOC,wCAAsB,CAAtB,sBAUD,CARC,8FACC,uBACD,CAEA,qJAEC,QACD,CAMH,yCAEC,0CAA2C,CCtB3C,eDgCD,CAZA,yHChBE,qCAAsC,CDqBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-sticky-panel__content {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border: 1px solid var(--ck-color-base-border);
			border-bottom-width: 0;

			&.ck-sticky-panel__content_sticky {
				border-bottom-width: 1px;
			}

			& .ck-menu-bar,
			& .ck-toolbar {
				border: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const w=y},4098:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	@mixin ck-media-forced-colors {
		/*
		 * This is needed for Edge on Windows to use the right color for the placeholder content (::before).
		 * See https://github.com/ckeditor/ckeditor5/issues/14907.
		 */
		forced-color-adjust: preserve-parent-color;
	}

	&::before {
		cursor: text;

		@mixin ck-media-default-colors {
			color: var(--ck-color-engine-placeholder-text);
		}

		@mixin ck-media-forced-colors {
			/*
			 * In the high contrast mode there is no telling between regular and placeholder text. Using
			 * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			font-style: italic;

			/*
			 * Without this margin, the caret will not show up and blink when the user puts the selection
			 * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			margin-left: 1px;
		}
	}
}
`],sourceRoot:""}]);const w=y},8264:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const w=y},6269:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const w=y},265:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const w=y},5247:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@media (forced-colors: active) {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	@mixin ck-media-default-colors {
		animation: ck-image-caption-highlight .6s ease-out;
	}

	@media (prefers-reduced-motion: reduce) {
		animation: none;
	}
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const w=y},4642:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-image-custom-resize-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: flex-start;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const w=y},3350:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAMC,yDACC,YAAa,CACb,mCACD,CCFD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-url {
	& .ck-image-insert-url__action-row {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;
		padding: var(--ck-list-button-padding);

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`],sourceRoot:""}]);const w=y},7378:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& img.image_placeholder {
		background-size: 100% 100%;
	}
}
`],sourceRoot:""}]);const w=y},3469:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const w=y},6386:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const w=y},7693:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,sBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 0ms;

		&::after {
			animation: none;
			opacity: 1;
			width: 0.3em;
			height: 0.45em;
		}
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const w=y},1559:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const w=y},2267:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;

			@media (prefers-reduced-motion: reduce) {
				opacity: 1;
				animation: none;
			}
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const w=y},4062:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const w=y},7719:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const w=y},8762:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const w=y},3817:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;
	align-items: flex-start;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const w=y},4808:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,k2BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const w=y},1232:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const w=y},6903:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const w=y},9968:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const w=y},7141:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const w=y},8991:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAFA,wDApEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAoEA,CAhED,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAFA,wGAtGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAsGD,CAlGA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const w=y},70:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const w=y},7048:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OW0wIDQ1LjM5MWM2Ny4yNjUgMCA3NS4yMzMuMjU3IDEwMS43OTcgMS40NjkgMjQuNTYyIDEuMTIgMzcuOTAxIDUuMjI0IDQ2Ljc3OCA4LjY3NCAxMS43NTkgNC41NyAyMC4xNTEgMTAuMDI5IDI4Ljk2NiAxOC44NDVzMTQuMjc1IDE3LjIwNyAxOC44NDUgMjguOTY2YzMuNDUgOC44NzcgNy41NTQgMjIuMjE2IDguNjc0IDQ2Ljc3OCAxLjIxMiAyNi41NjQgMS40NjkgMzQuNTMyIDEuNDY5IDEwMS43OTggMCA2Ny4yNjUtLjI1NyA3NS4yMzMtMS40NjkgMTAxLjc5Ny0xLjEyIDI0LjU2Mi01LjIyNCAzNy45MDEtOC42NzQgNDYuNzc4LTQuNTcgMTEuNzU5LTEwLjAyOSAyMC4xNTEtMTguODQ1IDI4Ljk2NnMtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1Yy04Ljg3NyAzLjQ1LTIyLjIxNiA3LjU1NC00Ni43NzggOC42NzQtMjYuNTYgMS4yMTItMzQuNTI3IDEuNDY5LTEwMS43OTcgMS40NjktNjcuMjcxIDAtNzUuMjM3LS4yNTctMTAxLjc5OC0xLjQ2OS0yNC41NjItMS4xMi0zNy45MDEtNS4yMjQtNDYuNzc4LTguNjc0LTExLjc1OS00LjU3LTIwLjE1MS0xMC4wMjktMjguOTY2LTE4Ljg0NXMtMTQuMjc1LTE3LjIwNy0xOC44NDUtMjguOTY2Yy0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NnMxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDVjOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OSIgbWFzaz0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yNTEuOTIxIDMzNi4wNTNjLTQ2LjM3OCAwLTgzLjk3NC0zNy41OTYtODMuOTc0LTgzLjk3M3MzNy41OTYtODMuOTc0IDgzLjk3NC04My45NzRjNDYuMzc3IDAgODMuOTczIDM3LjU5NiA4My45NzMgODMuOTc0IDAgNDYuMzc3LTM3LjU5NiA4My45NzMtODMuOTczIDgzLjk3M20wLTIxMy4zMzhjLTcxLjQ0NyAwLTEyOS4zNjUgNTcuOTE4LTEyOS4zNjUgMTI5LjM2NSAwIDcxLjQ0NiA1Ny45MTggMTI5LjM2NCAxMjkuMzY1IDEyOS4zNjQgNzEuNDQ2IDAgMTI5LjM2NC01Ny45MTggMTI5LjM2NC0xMjkuMzY0IDAtNzEuNDQ3LTU3LjkxOC0xMjkuMzY1LTEyOS4zNjQtMTI5LjM2NU00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjNzMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzFjMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,goGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,o+GACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,g/BACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not read–only.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const w=y},5651:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const w=y},5506:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const w=y},4043:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const w=y},2655:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const w=y},5032:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const w=y},2329:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const w=y},4143:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@mixin ck-media-forced-colors {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	@mixin ck-media-default-colors {
		&.table__caption_highlighted {
			animation: ck-table-caption-highlight .6s ease-out;
		}
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const w=y},8986:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const w=y},8795:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const w=y},8137:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const w=y},1623:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8ECxCD,eD6DC,CArBA,mMCpCA,qCDyDA,CArBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CAXC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEAKD,CAHC,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;

			@media (prefers-reduced-motion: reduce) {
				animation: none;
			}
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const w=y},5562:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const w=y},8423:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const w=y},1801:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}

.ck.ck-aria-live-region-list {
	list-style-type: none;
}
`],sourceRoot:""}]);const w=y},5727:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const w=y},9715:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD+ID,CC5IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eFgJD,CA/IA,wIEGE,qCF4IF,CA/IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBA0ID,CAhHC,uCA/BD,6BAgCE,eA+GF,CA9GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAWD,CAZA,6FAIE,mCAQF,CAZA,6FAQE,oCAIF,CAZA,yEAWC,UACD,CAIC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCClIA,+CDsIA,CCnIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDmHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CClJC,mDDuJD,CCpJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDmID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		opacity: .5;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const w=y},4391:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eDgFA,CA5CA,yIChCC,qCD4ED,CA5CA,2DAKE,gBAuCF,CA5CA,2DAUE,iBAkCF,CA5CA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CA2BD,CAxBC,2ECxDD,eDuEC,CAfA,6LCpDA,qCAAsC,CDsDpC,8CAaF,CAfA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CAHC,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEpFA,kCFsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floating–point numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const w=y},25:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-list-button-padding);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const w=y},7317:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	transition: .2s ease box-shadow;

	@mixin ck-media-default-colors {
		width: var(--ck-color-grid-tile-size);
		height: var(--ck-color-grid-tile-size);
		min-width: var(--ck-color-grid-tile-size);
		min-height: var(--ck-color-grid-tile-size);
		padding: 0;
		border: 0;

		&.ck-on,
		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			/* Disable the default .ck-button's border ring. */
			border: 0;
		}

		&.ck-color-selector__color-tile_bordered {
			box-shadow: 0 0 0 1px var(--ck-color-base-border);
		}

		&.ck-on {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);
		}

		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
		}
	}

	/*
	 * In high contrast mode, the colors are replaced with text labels.
	 * See https://github.com/ckeditor/ckeditor5/issues/14907.
	 */
	@mixin ck-media-forced-colors {
		width: unset;
		height: unset;
		min-width: unset;
		min-height: unset;
		padding: 0 var(--ck-spacing-small);

		& .ck-button__label {
			display: inline-block;
		}
	}

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		& .ck.ck-icon {
			display: block;
		}
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const w=y},1905:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const w=y},6309:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const w=y},9819:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cEfC,oCAA8B,CFmB9B,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;

		& .ck-form__header__label {
			cursor: grab;
		}
	}

	@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const w=y},9822:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const w=y},8149:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const w=y},3629:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const w=y},1792:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const w=y},1666:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const w=y},8527:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const w=y},1185:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const w=y},7913:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const w=y},9529:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const w=y},7621:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const w=y},253:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eDmDD,CA9CA,iECDE,qCD+CF,CA9CA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CAhCC,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		@media (prefers-reduced-motion: reduce) {
			animation: none;
		}

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const w=y},7801:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const w=y},4962:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CA9GA,2FCDE,qCD+GF,CA3GC,mEACC,UAwCD,CAtCC,gFACC,KAoCD,CArCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBAgCF,CArCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAyBF,CArCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAQD,CAHC,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const w=y},5199:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,qJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAwCD,CA1CA,uCAME,eAoCF,CA1CA,uCAUE,gBAgCF,CA1CA,6BAgBC,qCA0BD,CAxBC,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.11 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& > .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& > .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const w=y},497:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;
	background: var(--ck-color-base-background);
	padding: var(--ck-spacing-small);
	gap: var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);
	width: 100%;
}
`],sourceRoot:""}]);const w=y},4:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	display: block;
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	&.ck-menu-bar__menu_top-level {
		max-width: 100%;
	}
}
`],sourceRoot:""}]);const w=y},3344:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,qCAAsC,CACtC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECdD,kCDgBC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAgBD,CAbC,+FAEC,iBAAkB,CADlB,WAED,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eAiDD,CA/CC,yFACC,wBAAyB,CACzB,eAKD,CAHC,qGACC,0DACD,CAID,iIACC,+DACD,CAEA,qHACC,mCASD,CAVA,+HAIE,wBAMF,CAVA,+HAQE,uBAEF,CAEA,iICrFD,kCDuFC,CAGC,+HAIC,sCAAuC,CAHvC,gCAID,CAIA,+HACC,+BAAgC,CAGhC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu  {
	& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * All menu buttons.
	 */
	& > .ck-menu-bar__menu__button {
		padding: var(--ck-list-button-padding);
		width: 100%;

		& > .ck-button__label {
			flex-grow: 1;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&.ck-disabled > .ck-button__label {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				padding-right: var(--ck-spacing-small);
			}
		}
	}

	/*
	 * Top-level menu buttons only.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {
		padding: var(--ck-spacing-small) var(--ck-spacing-medium);
		min-height: unset;

		& .ck-button__label {
			width: unset;
			line-height: unset;
		}

		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		& .ck-icon {
			display: none;
		}
	}

	/*
	 * Sub-menu buttons.
	 */
	&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {
		border-radius: 0;

		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}

		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}

		& > .ck-menu-bar__menu__button__arrow {
			width: var(--ck-dropdown-arrow-size);

			@mixin ck-dir ltr {
				transform: rotate(-90deg);
			}

			@mixin ck-dir rtl {
				transform: rotate(90deg);
			}
		}

		&.ck-disabled > .ck-menu-bar__menu__button__arrow {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			& > .ck-menu-bar__menu__button__arrow {
				right: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-left: var(--ck-spacing-standard);
			}
		}

		@mixin ck-dir rtl {
			& > .ck-menu-bar__menu__button__arrow {
				left: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-right: var(--ck-spacing-small);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const w=y},9481:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-item-min-width: 18em;
}

.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {
	min-width: var(--ck-menu-bar-menu-item-min-width);
}
`],sourceRoot:""}]);const w=y},977:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css"],names:[],mappings:"AASC,iEACC,eA0BD,CAxBC,0LAGC,8BACD,CAEA,uFAEC,4CAA+C,CAC/C,oCACD,CAMA,uEACC,wBAAyB,CACzB,eAKD,CAHC,mFACC,0DACD,CASD,uLACC,+DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/*
	 * List item buttons.
	 */
	& .ck-button.ck-menu-bar__menu__item__button {
		border-radius: 0;

		& > .ck-spinner-container,
		& > .ck-spinner-container .ck-spinner {
			/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
			--ck-toolbar-spinner-size: 20px;
		}

		& > .ck-spinner-container {
			/* These margins are the same as for .ck-icon. */
			margin-left: calc(-1 * var(--ck-spacing-small));
			margin-right: var(--ck-spacing-small);
		}

		/*
		 * Hovered items automatically get focused. Default focus styles look odd
		 * while moving across a huge list of items so let's get rid of them
		 */
		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}
	}

	/*
	 * First-level sub-menu item buttons.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__panel > ul > .ck-menu-bar__menu__item > .ck-menu-bar__menu__item__button {
		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}
	}
}


`],sourceRoot:""}]);const w=y},9108:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCpDD,MACC,uCACD,CAEA,mDCDC,eDmCD,CAlCA,6ICGE,qCD+BF,CAlCA,mDAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CETT,oCAA8B,CFU9B,kBAAmB,CACnB,iDA0BD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-max-width: 75vw;
	--ck-menu-bar-nested-menu-horizontal-offset: 5px;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	z-index: var(--ck-z-panel);
	max-width: var(--ck-menu-bar-menu-max-width);
	position: absolute;

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_nw {
		bottom: 100%;
	}

	&.ck-menu-bar__menu__panel_position_se,
	&.ck-menu-bar__menu__panel_position_sw {
		top: 100%;
		bottom: auto;
	}

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_se {
		left: 0px;
	}

	&.ck-menu-bar__menu__panel_position_nw,
	&.ck-menu-bar__menu__panel_position_sw {
		right: 0px;
	}

	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_en {
		left: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_es {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_en {
		bottom: 0px;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_wn {
		right: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_ws {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_wn {
		bottom: 0px;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-menu-bar-menu-panel-max-width: 75vw;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-menu-bar-menu-panel-max-width);

	/* Corner border radius consistent with the button. */
	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_se {
		border-top-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_sw {
		border-top-right-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_en,
	&.ck-menu-bar__menu__panel_position_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_wn,
	&.ck-menu-bar__menu__panel_position_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const w=y},3710:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const w=y},991:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const w=y},5380:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const w=y},8298:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const w=y},2722:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDrEH",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text,
			& .ck-input-number {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const w=y},8107:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const w=y},109:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCAAsC,CADtC,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 3s;
	}
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}
`],sourceRoot:""}]);const w=y},1671:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const w=y},2710:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const w=y},9677:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const w=y},9205:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-balloon-panel.ck-tooltip {
	@mixin ck-unselectable;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const w=y},7676:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;

	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const w=y},695:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAYD,CARC,yGCnCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YD2CA,CGvCA,4BACC,yGHoCC,iEGlCD,CACD,CHuCA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
		@mixin ck-media-default-colors {
			background-color: var(--ck-color-widget-editable-focus-background);
		}
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);

				@media (prefers-reduced-motion: reduce) {
					transition: none;
				}
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const w=y},4095:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const w=y},8508:(d,f,p)=>{p.d(f,{A:()=>w});var g=p(9372),k=p.n(g),v=p(935),y=p.n(v)()(k());y.push([d.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}

			@media (prefers-reduced-motion: reduce) {
				animation: none;

				& svg {
					& polyline {
						animation: none;
					}

					& line {
						animation: none;
					}
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const w=y},935:d=>{d.exports=function(f){var p=[];return p.toString=function(){return this.map(function(g){var k=f(g);return g[2]?"@media ".concat(g[2]," {").concat(k,"}"):k}).join("")},p.i=function(g,k,v){typeof g=="string"&&(g=[[null,g,""]]);var y={};if(v)for(var w=0;w<this.length;w++){var x=this[w][0];x!=null&&(y[x]=!0)}for(var A=0;A<g.length;A++){var D=[].concat(g[A]);v&&y[D[0]]||(k&&(D[2]?D[2]="".concat(k," and ").concat(D[2]):D[2]=k),p.push(D))}},p}},9372:d=>{function f(g,k){return function(v){if(Array.isArray(v))return v}(g)||function(v,y){var w=v&&(typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"]);if(w!=null){var x,A,D=[],E=!0,M=!1;try{for(w=w.call(v);!(E=(x=w.next()).done)&&(D.push(x.value),!y||D.length!==y);E=!0);}catch(P){M=!0,A=P}finally{try{E||w.return==null||w.return()}finally{if(M)throw A}}return D}}(g,k)||function(v,y){if(v){if(typeof v=="string")return p(v,y);var w=Object.prototype.toString.call(v).slice(8,-1);if(w==="Object"&&v.constructor&&(w=v.constructor.name),w==="Map"||w==="Set")return Array.from(v);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return p(v,y)}}(g,k)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p(g,k){(k==null||k>g.length)&&(k=g.length);for(var v=0,y=new Array(k);v<k;v++)y[v]=g[v];return y}d.exports=function(g){var k=f(g,4),v=k[1],y=k[3];if(!y)return v;if(typeof btoa=="function"){var w=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),x="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(w),A="/*# ".concat(x," */"),D=y.sources.map(function(E){return"/*# sourceURL=".concat(y.sourceRoot||"").concat(E," */")});return[v].concat(D).concat([A]).join(`
`)}return[v].join(`
`)}},2591:(d,f,p)=>{var g,k=function(){return g===void 0&&(g=!!(window&&document&&document.all&&!window.atob)),g},v=function(){var N={};return function(j){if(N[j]===void 0){var q=document.querySelector(j);if(window.HTMLIFrameElement&&q instanceof window.HTMLIFrameElement)try{q=q.contentDocument.head}catch{q=null}N[j]=q}return N[j]}}(),y=[];function w(N){for(var j=-1,q=0;q<y.length;q++)if(y[q].identifier===N){j=q;break}return j}function x(N,j){for(var q={},Q=[],$=0;$<N.length;$++){var R=N[$],Y=j.base?R[0]+j.base:R[0],B=q[Y]||0,ne="".concat(Y," ").concat(B);q[Y]=B+1;var de=w(ne),ae={css:R[1],media:R[2],sourceMap:R[3]};de!==-1?(y[de].references++,y[de].updater(ae)):y.push({identifier:ne,updater:V(ae,j),references:1}),Q.push(ne)}return Q}function A(N){var j=document.createElement("style"),q=N.attributes||{};if(q.nonce===void 0){var Q=p.nc;Q&&(q.nonce=Q)}if(Object.keys(q).forEach(function(R){j.setAttribute(R,q[R])}),typeof N.insert=="function")N.insert(j);else{var $=v(N.insert||"head");if(!$)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");$.appendChild(j)}return j}var D,E=(D=[],function(N,j){return D[N]=j,D.filter(Boolean).join(`
`)});function M(N,j,q,Q){var $=q?"":Q.media?"@media ".concat(Q.media," {").concat(Q.css,"}"):Q.css;if(N.styleSheet)N.styleSheet.cssText=E(j,$);else{var R=document.createTextNode($),Y=N.childNodes;Y[j]&&N.removeChild(Y[j]),Y.length?N.insertBefore(R,Y[j]):N.appendChild(R)}}function P(N,j,q){var Q=q.css,$=q.media,R=q.sourceMap;if($?N.setAttribute("media",$):N.removeAttribute("media"),R&&typeof btoa<"u"&&(Q+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(R))))," */")),N.styleSheet)N.styleSheet.cssText=Q;else{for(;N.firstChild;)N.removeChild(N.firstChild);N.appendChild(document.createTextNode(Q))}}var F=null,H=0;function V(N,j){var q,Q,$;if(j.singleton){var R=H++;q=F||(F=A(j)),Q=M.bind(null,q,R,!1),$=M.bind(null,q,R,!0)}else q=A(j),Q=P.bind(null,q,j),$=function(){(function(Y){if(Y.parentNode===null)return!1;Y.parentNode.removeChild(Y)})(q)};return Q(N),function(Y){if(Y){if(Y.css===N.css&&Y.media===N.media&&Y.sourceMap===N.sourceMap)return;Q(N=Y)}else $()}}d.exports=function(N,j){(j=j||{}).singleton||typeof j.singleton=="boolean"||(j.singleton=k());var q=x(N=N||[],j);return function(Q){if(Q=Q||[],Object.prototype.toString.call(Q)==="[object Array]"){for(var $=0;$<q.length;$++){var R=w(q[$]);y[R].references--}for(var Y=x(Q,j),B=0;B<q.length;B++){var ne=w(q[B]);y[ne].references===0&&(y[ne].updater(),y.splice(ne,1))}q=Y}}}}},o={};function a(d){var f=o[d];if(f!==void 0)return f.exports;var p=o[d]={id:d,exports:{}};return n[d](p,p.exports,a),p.exports}a.n=d=>{var f=d&&d.__esModule?()=>d.default:()=>d;return a.d(f,{a:f}),f},a.d=(d,f)=>{for(var p in f)a.o(f,p)&&!a.o(d,p)&&Object.defineProperty(d,p,{enumerable:!0,get:f[p]})},a.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),a.nc=void 0;var c={};return(()=>{let d;a.d(c,{default:()=>cv});try{d={window,document}}catch{d={window:{},document:{}}}const f=d,p=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var g;const k={isMac:v(p),isWindows:(g=p,g.indexOf("windows")>-1),isGecko:function(l){return!!l.match(/gecko\/\d+/)}(p),isSafari:function(l){return l.indexOf(" applewebkit/")>-1&&l.indexOf("chrome")===-1}(p),isiOS:function(l){return!!l.match(/iphone|ipad/i)||v(l)&&navigator.maxTouchPoints>0}(p),isAndroid:function(l){return l.indexOf("android")>-1}(p),isBlink:function(l){return l.indexOf("chrome/")>-1&&l.indexOf("edge/")<0}(p),features:{isRegExpUnicodePropertySupported:function(){let l=!1;try{l="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return l}()}};function v(l){return l.indexOf("macintosh")>-1}function y(l,e,i,s){i=i||function(_,S){return _===S};const u=Array.isArray(l)?l:Array.prototype.slice.call(l),h=Array.isArray(e)?e:Array.prototype.slice.call(e),m=function(_,S,T){const O=w(_,S,T);if(O===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const U=x(_,O),G=x(S,O),ee=w(U,G,T),ie=_.length-ee,be=S.length-ee;return{firstIndex:O,lastIndexOld:ie,lastIndexNew:be}}(u,h,i);return s?function(_,S){const{firstIndex:T,lastIndexOld:O,lastIndexNew:U}=_;if(T===-1)return Array(S).fill("equal");let G=[];return T>0&&(G=G.concat(Array(T).fill("equal"))),U-T>0&&(G=G.concat(Array(U-T).fill("insert"))),O-T>0&&(G=G.concat(Array(O-T).fill("delete"))),U<S&&(G=G.concat(Array(S-U).fill("equal"))),G}(m,h.length):function(_,S){const T=[],{firstIndex:O,lastIndexOld:U,lastIndexNew:G}=S;return G-O>0&&T.push({index:O,type:"insert",values:_.slice(O,G)}),U-O>0&&T.push({index:O+(G-O),type:"delete",howMany:U-O}),T}(h,m)}function w(l,e,i){for(let s=0;s<Math.max(l.length,e.length);s++)if(l[s]===void 0||e[s]===void 0||!i(l[s],e[s]))return s;return-1}function x(l,e){return l.slice(e).reverse()}function A(l,e,i){i=i||function(ie,be){return ie===be};const s=l.length,u=e.length;if(s>200||u>200||s+u>300)return A.fastDiff(l,e,i,!0);let h,m;if(u<s){const ie=l;l=e,e=ie,h="delete",m="insert"}else h="insert",m="delete";const b=l.length,_=e.length,S=_-b,T={},O={};function U(ie){const be=(O[ie-1]!==void 0?O[ie-1]:-1)+1,Se=O[ie+1]!==void 0?O[ie+1]:-1,Le=be>Se?-1:1;T[ie+Le]&&(T[ie]=T[ie+Le].slice(0)),T[ie]||(T[ie]=[]),T[ie].push(be>Se?h:m);let et=Math.max(be,Se),ft=et-ie;for(;ft<b&&et<_&&i(l[ft],e[et]);)ft++,et++,T[ie].push("equal");return et}let G,ee=0;do{for(G=-ee;G<S;G++)O[G]=U(G);for(G=S+ee;G>S;G--)O[G]=U(G);O[S]=U(S),ee++}while(O[S]!==_);return T[S].slice(1)}A.fastDiff=y;const D=function(){return function l(){l.called=!0}};class E{constructor(e,i){this.source=e,this.name=i,this.path=[],this.stop=D(),this.off=D()}}const M=new Array(256).fill("").map((l,e)=>("0"+e.toString(16)).slice(-2));function P(){const l=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,s=4294967296*Math.random()>>>0;return"e"+M[255&l]+M[l>>8&255]+M[l>>16&255]+M[l>>24&255]+M[255&e]+M[e>>8&255]+M[e>>16&255]+M[e>>24&255]+M[255&i]+M[i>>8&255]+M[i>>16&255]+M[i>>24&255]+M[255&s]+M[s>>8&255]+M[s>>16&255]+M[s>>24&255]}const F={get(l="normal"){return typeof l!="number"?this[l]||this.normal:l},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function H(l,e){const i=F.get(e.priority);for(let s=0;s<l.length;s++)if(F.get(l[s].priority)<i)return void l.splice(s,0,e);l.push(e)}const V="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class N extends Error{constructor(e,i,s){super(function(u,h){const m=new WeakSet,b=(T,O)=>{if(typeof O=="object"&&O!==null){if(m.has(O))return`[object ${O.constructor.name}]`;m.add(O)}return O},_=h?` ${JSON.stringify(h,b)}`:"",S=Q(u);return u+_+S}(e,s)),this.name="CKEditorError",this.context=i,this.data=s}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,i){if(e.is&&e.is("CKEditorError"))throw e;const s=new N(e.message,i);throw s.stack=e.stack,s}}function j(l,e){console.warn(...$(l,e))}function q(l,e){console.error(...$(l,e))}function Q(l){return`
Read more: ${V}#error-${l}`}function $(l,e){const i=Q(l);return e?[l,e,i]:[l,i]}const R="41.4.2",Y=new Date(2024,4,17);if(globalThis.CKEDITOR_VERSION)throw new N("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=R;const B=Symbol("listeningTo"),ne=Symbol("emitterId"),de=Symbol("delegations"),ae=oe(Object);function oe(l){return l?class extends l{on(e,i,s){this.listenTo(this,e,i,s)}once(e,i,s){let u=!1;this.listenTo(this,e,(h,...m)=>{u||(u=!0,h.off(),i.call(this,h,...m))},s)}off(e,i){this.stopListening(this,e,i)}listenTo(e,i,s,u={}){let h,m;this[B]||(this[B]={});const b=this[B];re(e)||ye(e);const _=re(e);(h=b[_])||(h=b[_]={emitter:e,callbacks:{}}),(m=h.callbacks[i])||(m=h.callbacks[i]=[]),m.push(s),function(S,T,O,U,G){T._addEventListener?T._addEventListener(O,U,G):S._addEventListener.call(T,O,U,G)}(this,e,i,s,u)}stopListening(e,i,s){const u=this[B];let h=e&&re(e);const m=u&&h?u[h]:void 0,b=m&&i?m.callbacks[i]:void 0;if(!(!u||e&&!m||i&&!b))if(s)pe(this,e,i,s),b.indexOf(s)!==-1&&(b.length===1?delete m.callbacks[i]:pe(this,e,i,s));else if(b){for(;s=b.pop();)pe(this,e,i,s);delete m.callbacks[i]}else if(m){for(i in m.callbacks)this.stopListening(e,i);delete u[h]}else{for(h in u)this.stopListening(u[h].emitter);delete this[B]}}fire(e,...i){try{const s=e instanceof E?e:new E(this,e),u=s.name;let h=Z(this,u);if(s.path.push(this),h){const b=[s,...i];h=Array.from(h);for(let _=0;_<h.length&&(h[_].callback.apply(this,b),s.off.called&&(delete s.off.called,this._removeEventListener(u,h[_].callback)),!s.stop.called);_++);}const m=this[de];if(m){const b=m.get(u),_=m.get("*");b&&se(b,s,i),_&&se(_,s,i)}return s.return}catch(s){N.rethrowUnexpectedError(s,this)}}delegate(...e){return{to:(i,s)=>{this[de]||(this[de]=new Map),e.forEach(u=>{const h=this[de].get(u);h?h.set(i,s):this[de].set(u,new Map([[i,s]]))})}}}stopDelegating(e,i){if(this[de])if(e)if(i){const s=this[de].get(e);s&&s.delete(i)}else this[de].delete(e);else this[de].clear()}_addEventListener(e,i,s){(function(m,b){const _=xe(m);if(_[b])return;let S=b,T=null;const O=[];for(;S!==""&&!_[S];)_[S]={callbacks:[],childEvents:[]},O.push(_[S]),T&&_[S].childEvents.push(T),T=S,S=S.substr(0,S.lastIndexOf(":"));if(S!==""){for(const U of O)U.callbacks=_[S].callbacks.slice();_[S].childEvents.push(T)}})(this,e);const u=X(this,e),h={callback:i,priority:F.get(s.priority)};for(const m of u)H(m,h)}_removeEventListener(e,i){const s=X(this,e);for(const u of s)for(let h=0;h<u.length;h++)u[h].callback==i&&(u.splice(h,1),h--)}}:ae}function ye(l,e){l[ne]||(l[ne]=e||P())}function re(l){return l[ne]}function xe(l){return l._events||Object.defineProperty(l,"_events",{value:{}}),l._events}function X(l,e){const i=xe(l)[e];if(!i)return[];let s=[i.callbacks];for(let u=0;u<i.childEvents.length;u++){const h=X(l,i.childEvents[u]);s=s.concat(h)}return s}function Z(l,e){let i;return l._events&&(i=l._events[e])&&i.callbacks.length?i.callbacks:e.indexOf(":")>-1?Z(l,e.substr(0,e.lastIndexOf(":"))):null}function se(l,e,i){for(let[s,u]of l){u?typeof u=="function"&&(u=u(e.name)):u=e.name;const h=new E(e.source,u);h.path=[...e.path],s.fire(h,...i)}}function pe(l,e,i,s){e._removeEventListener?e._removeEventListener(i,s):l._removeEventListener.call(e,i,s)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(l=>{oe[l]=ae.prototype[l]});const we=function(l){var e=typeof l;return l!=null&&(e=="object"||e=="function")},Pe=Symbol("observableProperties"),Te=Symbol("boundObservables"),Ne=Symbol("boundProperties"),rt=Symbol("decoratedMethods"),Ke=Symbol("decoratedOriginal"),Qe=ze(oe());function ze(l){return l?class extends l{set(e,i){if(we(e))return void Object.keys(e).forEach(u=>{this.set(u,e[u])},this);J(this);const s=this[Pe];if(e in this&&!s.has(e))throw new N("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>s.get(e),set(u){const h=s.get(e);let m=this.fire(`set:${e}`,e,u,h);m===void 0&&(m=u),h===m&&s.has(e)||(s.set(e,m),this.fire(`change:${e}`,e,m,h))}}),this[e]=i}bind(...e){if(!e.length||!ge(e))throw new N("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new N("observable-bind-duplicate-properties",this);J(this);const i=this[Ne];e.forEach(u=>{if(i.has(u))throw new N("observable-bind-rebind",this)});const s=new Map;return e.forEach(u=>{const h={property:u,to:[]};i.set(u,h),s.set(u,h)}),{to:Ce,toMany:ue,_observable:this,_bindProperties:e,_to:[],_bindings:s}}unbind(...e){if(!this[Pe])return;const i=this[Ne],s=this[Te];if(e.length){if(!ge(e))throw new N("observable-unbind-wrong-properties",this);e.forEach(u=>{const h=i.get(u);h&&(h.to.forEach(([m,b])=>{const _=s.get(m),S=_[b];S.delete(h),S.size||delete _[b],Object.keys(_).length||(s.delete(m),this.stopListening(m,"change"))}),i.delete(u))})}else s.forEach((u,h)=>{this.stopListening(h,"change")}),s.clear(),i.clear()}decorate(e){J(this);const i=this[e];if(!i)throw new N("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(s,u)=>{s.return=i.apply(this,u)}),this[e]=function(...s){return this.fire(e,s)},this[e][Ke]=i,this[rt]||(this[rt]=[]),this[rt].push(e)}stopListening(e,i,s){if(!e&&this[rt]){for(const u of this[rt])this[u]=this[u][Ke];delete this[rt]}super.stopListening(e,i,s)}}:Qe}function J(l){l[Pe]||(Object.defineProperty(l,Pe,{value:new Map}),Object.defineProperty(l,Te,{value:new Map}),Object.defineProperty(l,Ne,{value:new Map}))}function Ce(...l){const e=function(...h){if(!h.length)throw new N("observable-bind-to-parse-error",null);const m={to:[]};let b;return typeof h[h.length-1]=="function"&&(m.callback=h.pop()),h.forEach(_=>{if(typeof _=="string")b.properties.push(_);else{if(typeof _!="object")throw new N("observable-bind-to-parse-error",null);b={observable:_,properties:[]},m.to.push(b)}}),m}(...l),i=Array.from(this._bindings.keys()),s=i.length;if(!e.callback&&e.to.length>1)throw new N("observable-bind-to-no-callback",this);if(s>1&&e.callback)throw new N("observable-bind-to-extra-callback",this);var u;e.to.forEach(h=>{if(h.properties.length&&h.properties.length!==s)throw new N("observable-bind-to-properties-length",this);h.properties.length||(h.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(i[0]).callback=e.callback),u=this._observable,this._to.forEach(h=>{const m=u[Te];let b;m.get(h.observable)||u.listenTo(h.observable,"change",(_,S)=>{b=m.get(h.observable)[S],b&&b.forEach(T=>{he(u,T.property)})})}),function(h){let m;h._bindings.forEach((b,_)=>{h._to.forEach(S=>{m=S.properties[b.callback?0:h._bindProperties.indexOf(_)],b.to.push([S.observable,m]),function(T,O,U,G){const ee=T[Te],ie=ee.get(U),be=ie||{};be[G]||(be[G]=new Set),be[G].add(O),ie||ee.set(U,be)}(h._observable,b,S.observable,m)})})}(this),this._bindProperties.forEach(h=>{he(this._observable,h)})}function ue(l,e,i){if(this._bindings.size>1)throw new N("observable-bind-to-many-not-one-binding",this);this.to(...function(s,u){const h=s.map(m=>[m,u]);return Array.prototype.concat.apply([],h)}(l,e),i)}function ge(l){return l.every(e=>typeof e=="string")}function he(l,e){const i=l[Ne].get(e);let s;i.callback?s=i.callback.apply(l,i.to.map(u=>u[0][u[1]])):(s=i.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(l,e)?l[e]=s:l.set(e,s)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(l=>{ze[l]=Qe.prototype[l]});class _e{constructor(){this._replacedElements=[]}replace(e,i){this._replacedElements.push({element:e,newElement:i}),e.style.display="none",i&&e.parentNode.insertBefore(i,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:i})=>{e.style.display="",i&&i.remove()}),this._replacedElements=[]}}function Me(l){let e=0;for(const i of l)e++;return e}function Ie(l,e){const i=Math.min(l.length,e.length);for(let s=0;s<i;s++)if(l[s]!=e[s])return s;return l.length==e.length?"same":l.length<e.length?"prefix":"extension"}function Ae(l){return!(!l||!l[Symbol.iterator])}const Oe=typeof Ru=="object"&&Ru&&Ru.Object===Object&&Ru;var Ge=typeof self=="object"&&self&&self.Object===Object&&self;const Xe=Oe||Ge||Function("return this")(),dt=Xe.Symbol;var Ue=Object.prototype,We=Ue.hasOwnProperty,Ye=Ue.toString,St=dt?dt.toStringTag:void 0;const ht=function(l){var e=We.call(l,St),i=l[St];try{l[St]=void 0;var s=!0}catch{}var u=Ye.call(l);return s&&(e?l[St]=i:delete l[St]),u};var tn=Object.prototype.toString;const pt=function(l){return tn.call(l)};var Vt=dt?dt.toStringTag:void 0;const Rt=function(l){return l==null?l===void 0?"[object Undefined]":"[object Null]":Vt&&Vt in Object(l)?ht(l):pt(l)},zt=Array.isArray,Yt=function(l){return l!=null&&typeof l=="object"},pn=function(l){return typeof l=="string"||!zt(l)&&Yt(l)&&Rt(l)=="[object String]"};function En(l,e,i={},s=[]){const u=i&&i.xmlns,h=u?l.createElementNS(u,e):l.createElement(e);for(const m in i)h.setAttribute(m,i[m]);!pn(s)&&Ae(s)||(s=[s]);for(let m of s)pn(m)&&(m=l.createTextNode(m)),h.appendChild(m);return h}const zn=function(l,e){return function(i){return l(e(i))}},Mr=zn(Object.getPrototypeOf,Object);var qr=Function.prototype,Ln=Object.prototype,Xt=qr.toString,Dn=Ln.hasOwnProperty,No=Xt.call(Object);const Nn=function(l){if(!Yt(l)||Rt(l)!="[object Object]")return!1;var e=Mr(l);if(e===null)return!0;var i=Dn.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&Xt.call(i)==No},zi=function(){this.__data__=[],this.size=0},ei=function(l,e){return l===e||l!=l&&e!=e},Ht=function(l,e){for(var i=l.length;i--;)if(ei(l[i][0],e))return i;return-1};var Oi=Array.prototype.splice;const Ui=function(l){var e=this.__data__,i=Ht(e,l);return!(i<0)&&(i==e.length-1?e.pop():Oi.call(e,i,1),--this.size,!0)},kt=function(l){var e=this.__data__,i=Ht(e,l);return i<0?void 0:e[i][1]},At=function(l){return Ht(this.__data__,l)>-1},Ct=function(l,e){var i=this.__data__,s=Ht(i,l);return s<0?(++this.size,i.push([l,e])):i[s][1]=e,this};function Ot(l){var e=-1,i=l==null?0:l.length;for(this.clear();++e<i;){var s=l[e];this.set(s[0],s[1])}}Ot.prototype.clear=zi,Ot.prototype.delete=Ui,Ot.prototype.get=kt,Ot.prototype.has=At,Ot.prototype.set=Ct;const Qt=Ot,Wn=function(){this.__data__=new Qt,this.size=0},Pr=function(l){var e=this.__data__,i=e.delete(l);return this.size=e.size,i},Go=function(l){return this.__data__.get(l)},Mo=function(l){return this.__data__.has(l)},qi=function(l){if(!we(l))return!1;var e=Rt(l);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},bo=Xe["__core-js_shared__"];var ms=function(){var l=/[^.]+$/.exec(bo&&bo.keys&&bo.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}();const nc=function(l){return!!ms&&ms in l};var Gc=Function.prototype.toString;const Yo=function(l){if(l!=null){try{return Gc.call(l)}catch{}try{return l+""}catch{}}return""};var Yc=/^\[object .+?Constructor\]$/,Kc=Function.prototype,Lh=Object.prototype,Pp=Kc.toString,Op=Lh.hasOwnProperty,Qc=RegExp("^"+Pp.call(Op).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Bh=function(l){return!(!we(l)||nc(l))&&(qi(l)?Qc:Yc).test(Yo(l))},Lp=function(l,e){return l==null?void 0:l[e]},gs=function(l,e){var i=Lp(l,e);return Bh(i)?i:void 0},rc=gs(Xe,"Map"),ol=gs(Object,"create"),Bp=function(){this.__data__=ol?ol(null):{},this.size=0},Jc=function(l){var e=this.has(l)&&delete this.__data__[l];return this.size-=e?1:0,e};var jp=Object.prototype.hasOwnProperty;const Vr=function(l){var e=this.__data__;if(ol){var i=e[l];return i==="__lodash_hash_undefined__"?void 0:i}return jp.call(e,l)?e[l]:void 0};var jh=Object.prototype.hasOwnProperty;const Rh=function(l){var e=this.__data__;return ol?e[l]!==void 0:jh.call(e,l)},Fh=function(l,e){var i=this.__data__;return this.size+=this.has(l)?0:1,i[l]=ol&&e===void 0?"__lodash_hash_undefined__":e,this};function Ys(l){var e=-1,i=l==null?0:l.length;for(this.clear();++e<i;){var s=l[e];this.set(s[0],s[1])}}Ys.prototype.clear=Bp,Ys.prototype.delete=Jc,Ys.prototype.get=Vr,Ys.prototype.has=Rh,Ys.prototype.set=Fh;const zh=Ys,bs=function(){this.size=0,this.__data__={hash:new zh,map:new(rc||Qt),string:new zh}},Zc=function(l){var e=typeof l;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?l!=="__proto__":l===null},Li=function(l,e){var i=l.__data__;return Zc(e)?i[typeof e=="string"?"string":"hash"]:i.map},cd=function(l){var e=Li(this,l).delete(l);return this.size-=e?1:0,e},Uh=function(l){return Li(this,l).get(l)},Rp=function(l){return Li(this,l).has(l)},qh=function(l,e){var i=Li(this,l),s=i.size;return i.set(l,e),this.size+=i.size==s?0:1,this};function sl(l){var e=-1,i=l==null?0:l.length;for(this.clear();++e<i;){var s=l[e];this.set(s[0],s[1])}}sl.prototype.clear=bs,sl.prototype.delete=cd,sl.prototype.get=Uh,sl.prototype.has=Rp,sl.prototype.set=qh;const ic=sl,Fp=function(l,e){var i=this.__data__;if(i instanceof Qt){var s=i.__data__;if(!rc||s.length<199)return s.push([l,e]),this.size=++i.size,this;i=this.__data__=new ic(s)}return i.set(l,e),this.size=i.size,this};function Ks(l){var e=this.__data__=new Qt(l);this.size=e.size}Ks.prototype.clear=Wn,Ks.prototype.delete=Pr,Ks.prototype.get=Go,Ks.prototype.has=Mo,Ks.prototype.set=Fp;const al=Ks,zp=function(l,e){for(var i=-1,s=l==null?0:l.length;++i<s&&e(l[i],i,l)!==!1;);return l},Xc=function(){try{var l=gs(Object,"defineProperty");return l({},"",{}),l}catch{}}(),Ko=function(l,e,i){e=="__proto__"&&Xc?Xc(l,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):l[e]=i};var eu=Object.prototype.hasOwnProperty;const ll=function(l,e,i){var s=l[e];eu.call(l,e)&&ei(s,i)&&(i!==void 0||e in l)||Ko(l,e,i)},Pa=function(l,e,i,s){var u=!i;i||(i={});for(var h=-1,m=e.length;++h<m;){var b=e[h],_=void 0;_===void 0&&(_=l[b]),u?Ko(i,b,_):ll(i,b,_)}return i},Vi=function(l,e){for(var i=-1,s=Array(l);++i<l;)s[i]=e(i);return s},Vh=function(l){return Yt(l)&&Rt(l)=="[object Arguments]"};var ud=Object.prototype,cn=ud.hasOwnProperty,Up=ud.propertyIsEnumerable;const tu=Vh(function(){return arguments}())?Vh:function(l){return Yt(l)&&cn.call(l,"callee")&&!Up.call(l,"callee")},Qs=function(){return!1};var dd=r&&!r.nodeType&&r,hd=dd&&!0&&t&&!t.nodeType&&t,oc=hd&&hd.exports===dd?Xe.Buffer:void 0;const Oa=(oc?oc.isBuffer:void 0)||Qs;var qp=/^(?:0|[1-9]\d*)$/;const nu=function(l,e){var i=typeof l;return!!(e=e??9007199254740991)&&(i=="number"||i!="symbol"&&qp.test(l))&&l>-1&&l%1==0&&l<e},fd=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991};var Gn={};Gn["[object Float32Array]"]=Gn["[object Float64Array]"]=Gn["[object Int8Array]"]=Gn["[object Int16Array]"]=Gn["[object Int32Array]"]=Gn["[object Uint8Array]"]=Gn["[object Uint8ClampedArray]"]=Gn["[object Uint16Array]"]=Gn["[object Uint32Array]"]=!0,Gn["[object Arguments]"]=Gn["[object Array]"]=Gn["[object ArrayBuffer]"]=Gn["[object Boolean]"]=Gn["[object DataView]"]=Gn["[object Date]"]=Gn["[object Error]"]=Gn["[object Function]"]=Gn["[object Map]"]=Gn["[object Number]"]=Gn["[object Object]"]=Gn["[object RegExp]"]=Gn["[object Set]"]=Gn["[object String]"]=Gn["[object WeakMap]"]=!1;const sc=function(l){return Yt(l)&&fd(l.length)&&!!Gn[Rt(l)]},Js=function(l){return function(e){return l(e)}};var Hh=r&&!r.nodeType&&r,ks=Hh&&!0&&t&&!t.nodeType&&t,ac=ks&&ks.exports===Hh&&Oe.process;const ws=function(){try{var l=ks&&ks.require&&ks.require("util").types;return l||ac&&ac.binding&&ac.binding("util")}catch{}}();var pd=ws&&ws.isTypedArray;const ru=pd?Js(pd):sc;var $h=Object.prototype.hasOwnProperty;const md=function(l,e){var i=zt(l),s=!i&&tu(l),u=!i&&!s&&Oa(l),h=!i&&!s&&!u&&ru(l),m=i||s||u||h,b=m?Vi(l.length,String):[],_=b.length;for(var S in l)!e&&!$h.call(l,S)||m&&(S=="length"||u&&(S=="offset"||S=="parent")||h&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||nu(S,_))||b.push(S);return b};var Zs=Object.prototype;const ys=function(l){var e=l&&l.constructor;return l===(typeof e=="function"&&e.prototype||Zs)},Vp=zn(Object.keys,Object);var cl=Object.prototype.hasOwnProperty;const vs=function(l){if(!ys(l))return Vp(l);var e=[];for(var i in Object(l))cl.call(l,i)&&i!="constructor"&&e.push(i);return e},ul=function(l){return l!=null&&fd(l.length)&&!qi(l)},_s=function(l){return ul(l)?md(l):vs(l)},Hp=function(l,e){return l&&Pa(e,_s(e),l)},iu=function(l){var e=[];if(l!=null)for(var i in Object(l))e.push(i);return e};var $p=Object.prototype.hasOwnProperty;const gd=function(l){if(!we(l))return iu(l);var e=ys(l),i=[];for(var s in l)(s!="constructor"||!e&&$p.call(l,s))&&i.push(s);return i},Xs=function(l){return ul(l)?md(l,!0):gd(l)},Wh=function(l,e){return l&&Pa(e,Xs(e),l)};var lc=r&&!r.nodeType&&r,ou=lc&&!0&&t&&!t.nodeType&&t,su=ou&&ou.exports===lc?Xe.Buffer:void 0,bd=su?su.allocUnsafe:void 0;const Gh=function(l,e){if(e)return l.slice();var i=l.length,s=bd?bd(i):new l.constructor(i);return l.copy(s),s},cc=function(l,e){var i=-1,s=l.length;for(e||(e=Array(s));++i<s;)e[i]=l[i];return e},uc=function(l,e){for(var i=-1,s=l==null?0:l.length,u=0,h=[];++i<s;){var m=l[i];e(m,i,l)&&(h[u++]=m)}return h},au=function(){return[]};var dl=Object.prototype.propertyIsEnumerable,lu=Object.getOwnPropertySymbols;const z=lu?function(l){return l==null?[]:(l=Object(l),uc(lu(l),function(e){return dl.call(l,e)}))}:au,ce=function(l,e){return Pa(l,z(l),e)},De=function(l,e){for(var i=-1,s=e.length,u=l.length;++i<s;)l[u+i]=e[i];return l},Be=Object.getOwnPropertySymbols?function(l){for(var e=[];l;)De(e,z(l)),l=Mr(l);return e}:au,Je=function(l,e){return Pa(l,Be(l),e)},ut=function(l,e,i){var s=e(l);return zt(l)?s:De(s,i(l))},_t=function(l){return ut(l,_s,z)},Lt=function(l){return ut(l,Xs,Be)},Wt=gs(Xe,"DataView"),un=gs(Xe,"Promise"),ln=gs(Xe,"Set"),In=gs(Xe,"WeakMap");var vr="[object Map]",Er="[object Promise]",Hr="[object Set]",Bi="[object WeakMap]",fi="[object DataView]",As=Yo(Wt),Po=Yo(rc),ea=Yo(un),Yh=Yo(ln),kd=Yo(In),Cs=Rt;(Wt&&Cs(new Wt(new ArrayBuffer(1)))!=fi||rc&&Cs(new rc)!=vr||un&&Cs(un.resolve())!=Er||ln&&Cs(new ln)!=Hr||In&&Cs(new In)!=Bi)&&(Cs=function(l){var e=Rt(l),i=e=="[object Object]"?l.constructor:void 0,s=i?Yo(i):"";if(s)switch(s){case As:return fi;case Po:return vr;case ea:return Er;case Yh:return Hr;case kd:return Bi}return e});const ta=Cs;var wd=Object.prototype.hasOwnProperty;const yd=function(l){var e=l.length,i=new l.constructor(e);return e&&typeof l[0]=="string"&&wd.call(l,"index")&&(i.index=l.index,i.input=l.input),i},La=Xe.Uint8Array,pi=function(l){var e=new l.constructor(l.byteLength);return new La(e).set(new La(l)),e},cu=function(l,e){var i=e?pi(l.buffer):l.buffer;return new l.constructor(i,l.byteOffset,l.byteLength)};var uu=/\w*$/;const du=function(l){var e=new l.constructor(l.source,uu.exec(l));return e.lastIndex=l.lastIndex,e};var hu=dt?dt.prototype:void 0,Ji=hu?hu.valueOf:void 0;const Wp=function(l){return Ji?Object(Ji.call(l)):{}},fu=function(l,e){var i=e?pi(l.buffer):l.buffer;return new l.constructor(i,l.byteOffset,l.length)},Kh=function(l,e,i){var s=l.constructor;switch(e){case"[object ArrayBuffer]":return pi(l);case"[object Boolean]":case"[object Date]":return new s(+l);case"[object DataView]":return cu(l,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return fu(l,i);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(l);case"[object RegExp]":return du(l);case"[object Symbol]":return Wp(l)}};var Oo=Object.create;const pu=function(){function l(){}return function(e){if(!we(e))return{};if(Oo)return Oo(e);l.prototype=e;var i=new l;return l.prototype=void 0,i}}(),vd=function(l){return typeof l.constructor!="function"||ys(l)?{}:pu(Mr(l))},Qh=function(l){return Yt(l)&&ta(l)=="[object Map]"};var Ba=ws&&ws.isMap;const dc=Ba?Js(Ba):Qh,ko=function(l){return Yt(l)&&ta(l)=="[object Set]"};var Hi=ws&&ws.isSet;const hl=Hi?Js(Hi):ko;var na="[object Arguments]",ra="[object Function]",hc="[object Object]",On={};On[na]=On["[object Array]"]=On["[object ArrayBuffer]"]=On["[object DataView]"]=On["[object Boolean]"]=On["[object Date]"]=On["[object Float32Array]"]=On["[object Float64Array]"]=On["[object Int8Array]"]=On["[object Int16Array]"]=On["[object Int32Array]"]=On["[object Map]"]=On["[object Number]"]=On[hc]=On["[object RegExp]"]=On["[object Set]"]=On["[object String]"]=On["[object Symbol]"]=On["[object Uint8Array]"]=On["[object Uint8ClampedArray]"]=On["[object Uint16Array]"]=On["[object Uint32Array]"]=!0,On["[object Error]"]=On[ra]=On["[object WeakMap]"]=!1;const Dr=function l(e,i,s,u,h,m){var b,_=1&i,S=2&i,T=4&i;if(s&&(b=h?s(e,u,h,m):s(e)),b!==void 0)return b;if(!we(e))return e;var O=zt(e);if(O){if(b=yd(e),!_)return cc(e,b)}else{var U=ta(e),G=U==ra||U=="[object GeneratorFunction]";if(Oa(e))return Gh(e,_);if(U==hc||U==na||G&&!h){if(b=S||G?{}:vd(e),!_)return S?Je(e,Wh(b,e)):ce(e,Hp(b,e))}else{if(!On[U])return h?e:{};b=Kh(e,U,_)}}m||(m=new al);var ee=m.get(e);if(ee)return ee;m.set(e,b),hl(e)?e.forEach(function(be){b.add(l(be,i,s,be,e,m))}):dc(e)&&e.forEach(function(be,Se){b.set(Se,l(be,i,s,Se,e,m))});var ie=O?void 0:(T?S?Lt:_t:S?Xs:_s)(e);return zp(ie||e,function(be,Se){ie&&(be=e[Se=be]),ll(b,Se,l(be,i,s,Se,e,m))}),b},fc=function(l,e){return Dr(l,5,e=typeof e=="function"?e:void 0)},$r=function(l){return Yt(l)&&l.nodeType===1&&!Nn(l)};class Lo{constructor(e,i){this._config={},i&&this.define(pc(i)),e&&this._setObjectToTarget(this._config,e)}set(e,i){this._setToTarget(this._config,e,i)}define(e,i){this._setToTarget(this._config,e,i,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,i,s,u=!1){if(Nn(i))return void this._setObjectToTarget(e,i,u);const h=i.split(".");i=h.pop();for(const m of h)Nn(e[m])||(e[m]={}),e=e[m];if(Nn(s))return Nn(e[i])||(e[i]={}),e=e[i],void this._setObjectToTarget(e,s,u);u&&e[i]!==void 0||(e[i]=s)}_getFromSource(e,i){const s=i.split(".");i=s.pop();for(const u of s){if(!Nn(e[u])){e=null;break}e=e[u]}return e?pc(e[i]):void 0}_setObjectToTarget(e,i,s){Object.keys(i).forEach(u=>{this._setToTarget(e,u,i[u],s)})}}function pc(l){return fc(l,Jh)}function Jh(l){return $r(l)||typeof l=="function"?l:void 0}function Qo(l){if(l){if(l.defaultView)return l instanceof l.defaultView.Document;if(l.ownerDocument&&l.ownerDocument.defaultView)return l instanceof l.ownerDocument.defaultView.Node}return!1}function ia(l){const e=Object.prototype.toString.apply(l);return e=="[object Window]"||e=="[object global]"}const fl=mi(oe());function mi(l){return l?class extends l{listenTo(e,i,s,u={}){if(Qo(e)||ia(e)){const h={capture:!!u.useCapture,passive:!!u.usePassive},m=this._getProxyEmitter(e,h)||new mc(e,h);this.listenTo(m,i,s,u)}else super.listenTo(e,i,s,u)}stopListening(e,i,s){if(Qo(e)||ia(e)){const u=this._getAllProxyEmitters(e);for(const h of u)this.stopListening(h,i,s)}else super.stopListening(e,i,s)}_getProxyEmitter(e,i){return function(s,u){const h=s[B];return h&&h[u]?h[u].emitter:null}(this,gc(e,i))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(i=>this._getProxyEmitter(e,i)).filter(i=>!!i)}}:fl}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(l=>{mi[l]=fl.prototype[l]});class mc extends oe(){constructor(e,i){super(),ye(this,gc(e,i)),this._domNode=e,this._options=i}attach(e){if(this._domListeners&&this._domListeners[e])return;const i=this._createDomListener(e);this._domNode.addEventListener(e,i,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=i}detach(e){let i;!this._domListeners[e]||(i=this._events[e])&&i.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,i,s){this.attach(e),oe().prototype._addEventListener.call(this,e,i,s)}_removeEventListener(e,i){oe().prototype._removeEventListener.call(this,e,i),this.detach(e)}_createDomListener(e){const i=s=>{this.fire(e,s)};return i.removeListener=()=>{this._domNode.removeEventListener(e,i,this._options),delete this._domListeners[e]},i}}function gc(l,e){let i=function(s){return s["data-ck-expando"]||(s["data-ck-expando"]=P())}(l);for(const s of Object.keys(e).sort())e[s]&&(i+="-"+s);return i}function pl(l){const e=l.ownerDocument.defaultView.getComputedStyle(l);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function tr(l){return Object.prototype.toString.call(l)=="[object Text]"}function ml(l){return Object.prototype.toString.apply(l)=="[object Range]"}function Bo(l){return l&&l.parentNode?l.offsetParent===f.document.body?null:l.offsetParent:null}const jo=["top","right","bottom","left","width","height"];class Ut{constructor(e){const i=ml(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),Wr(e)||i)if(i){const s=Ut.getDomRangeRects(e);Yn(this,Ut.getBoundingRect(s))}else Yn(this,e.getBoundingClientRect());else if(ia(e)){const{innerWidth:s,innerHeight:u}=e;Yn(this,{top:0,right:s,bottom:u,left:0,width:s,height:u})}else Yn(this,e)}clone(){return new Ut(this)}moveTo(e,i){return this.top=i,this.right=e+this.width,this.bottom=i+this.height,this.left=e,this}moveBy(e,i){return this.top+=i,this.right+=e,this.left+=e,this.bottom+=i,this}getIntersection(e){const i={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<0||i.height<0)return null;{const s=new Ut(i);return s._source=this._source,s}}getIntersectionArea(e){const i=this.getIntersection(e);return i?i.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let i=this.clone();if(Or(e))return i;let s,u=e,h=e.parentNode||e.commonAncestorContainer;for(;h&&!Or(h);){const b=((m=h)instanceof HTMLElement?m.ownerDocument.defaultView.getComputedStyle(m).overflow:"visible")==="visible";u instanceof HTMLElement&&oa(u)==="absolute"&&(s=u);const _=oa(h);if(b||s&&(_==="relative"&&b||_!=="relative")){u=h,h=h.parentNode;continue}const S=new Ut(h),T=i.getIntersection(S);if(!T)return null;T.getArea()<i.getArea()&&(i=T),u=h,h=h.parentNode}var m;return i}isEqual(e){for(const i of jo)if(this[i]!==e[i])return!1;return!0}contains(e){const i=this.getIntersection(e);return!(!i||!i.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:i}=f.window,s=this.clone().moveBy(e,i);if(Wr(s._source)){const u=Bo(s._source);u&&function(h,m){const b=new Ut(m),_=pl(m);let S=0,T=0;S-=b.left,T-=b.top,S+=m.scrollLeft,T+=m.scrollTop,S-=_.left,T-=_.top,h.moveBy(S,T)}(s,u)}return s}excludeScrollbarsAndBorders(){const e=this._source;let i,s,u;if(ia(e))i=e.innerWidth-e.document.documentElement.clientWidth,s=e.innerHeight-e.document.documentElement.clientHeight,u=e.getComputedStyle(e.document.documentElement).direction;else{const h=pl(e);i=e.offsetWidth-e.clientWidth-h.left-h.right,s=e.offsetHeight-e.clientHeight-h.top-h.bottom,u=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=h.left,this.top+=h.top,this.right-=h.right,this.bottom-=h.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=i,u==="ltr"?this.right-=i:this.left+=i,this.height-=s,this.bottom-=s,this}static getDomRangeRects(e){const i=[],s=Array.from(e.getClientRects());if(s.length)for(const u of s)i.push(new Ut(u));else{let u=e.startContainer;tr(u)&&(u=u.parentNode);const h=new Ut(u.getBoundingClientRect());h.right=h.left,h.width=0,i.push(h)}return i}static getBoundingRect(e){const i={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let s=0;for(const u of e)s++,i.left=Math.min(i.left,u.left),i.top=Math.min(i.top,u.top),i.right=Math.max(i.right,u.right),i.bottom=Math.max(i.bottom,u.bottom);return s==0?null:(i.width=i.right-i.left,i.height=i.bottom-i.top,new Ut(i))}}function Yn(l,e){for(const i of jo)l[i]=e[i]}function Or(l){return!!Wr(l)&&l===l.ownerDocument.body}function Wr(l){return l!==null&&typeof l=="object"&&l.nodeType===1&&typeof l.getBoundingClientRect=="function"}function oa(l){return l instanceof HTMLElement?l.ownerDocument.defaultView.getComputedStyle(l).position:"static"}const kr=class{constructor(l,e){kr._observerInstance||kr._createObserver(),this._element=l,this._callback=e,kr._addElementCallback(l,e),kr._observerInstance.observe(l)}get element(){return this._element}destroy(){kr._deleteElementCallback(this._element,this._callback)}static _addElementCallback(l,e){kr._elementCallbacks||(kr._elementCallbacks=new Map);let i=kr._elementCallbacks.get(l);i||(i=new Set,kr._elementCallbacks.set(l,i)),i.add(e)}static _deleteElementCallback(l,e){const i=kr._getElementCallbacks(l);i&&(i.delete(e),i.size||(kr._elementCallbacks.delete(l),kr._observerInstance.unobserve(l))),kr._elementCallbacks&&!kr._elementCallbacks.size&&(kr._observerInstance=null,kr._elementCallbacks=null)}static _getElementCallbacks(l){return kr._elementCallbacks?kr._elementCallbacks.get(l):null}static _createObserver(){kr._observerInstance=new f.window.ResizeObserver(l=>{for(const e of l){const i=kr._getElementCallbacks(e.target);if(i)for(const s of i)s(e)}})}};let sa=kr;function _d(l,e){l instanceof HTMLTextAreaElement&&(l.value=e),l.innerHTML=e}function gl(l){return e=>e+l}function bl(l){let e=0;for(;l.previousSibling;)l=l.previousSibling,e++;return e}function wo(l,e,i){l.insertBefore(i,l.childNodes[e]||null)}function $i(l){return l&&l.nodeType===Node.COMMENT_NODE}function aa(l){return!!(l&&l.getClientRects&&l.getClientRects().length)}sa._observerInstance=null,sa._elementCallbacks=null;var Ad=Math.pow;function Cd({element:l,target:e,positions:i,limiter:s,fitInViewport:u,viewportOffsetConfig:h}){qi(e)&&(e=e()),qi(s)&&(s=s());const m=Bo(l),b=function(U){U=Object.assign({top:0,bottom:0,left:0,right:0},U);const G=new Ut(f.window);return G.top+=U.top,G.height-=U.top,G.bottom-=U.bottom,G.height-=U.bottom,G}(h),_=new Ut(l),S=xd(e,b);let T;if(!S||!b.getIntersection(S))return null;const O={targetRect:S,elementRect:_,positionedElementAncestor:m,viewportRect:b};if(s||u){if(s){const U=xd(s,b);U&&(O.limiterRect=U)}T=function(U,G){const{elementRect:ee}=G,ie=ee.getArea(),be=U.map(et=>new Sd(et,G)).filter(et=>!!et.name);let Se=0,Le=null;for(const et of be){const{limiterIntersectionArea:ft,viewportIntersectionArea:Mt}=et;if(ft===ie)return et;const nn=Ad(Mt,2)+Ad(ft,2);nn>Se&&(Se=nn,Le=et)}return Le}(i,O)}else T=new Sd(i[0],O);return T}function xd(l,e){const i=new Ut(l).getVisible();return i?i.getIntersection(e):null}class Sd{constructor(e,i){const s=e(i.targetRect,i.elementRect,i.viewportRect,i.limiterRect);if(!s)return;const{left:u,top:h,name:m,config:b}=s;this.name=m,this.config=b,this._positioningFunctionCoordinates={left:u,top:h},this._options=i}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function Zh(l){const e=l.parentNode;e&&e.removeChild(l)}function pb({window:l,rect:e,alignToTop:i,forceScroll:s,viewportOffset:u}){const h=e.clone().moveBy(0,u.bottom),m=e.clone().moveBy(0,-u.top),b=new Ut(l).excludeScrollbarsAndBorders(),_=i&&s,S=[m,h].every(ee=>b.contains(ee));let{scrollX:T,scrollY:O}=l;const U=T,G=O;_?O-=b.top-e.top+u.top:S||(Ed(m,b)?O-=b.top-e.top+u.top:Xh(h,b)&&(O+=i?e.top-b.top-u.top:e.bottom-b.bottom+u.bottom)),S||(ef(e,b)?T-=b.left-e.left+u.left:mb(e,b)&&(T+=e.right-b.right+u.right)),T==U&&O===G||l.scrollTo(T,O)}function Gp({parent:l,getRect:e,alignToTop:i,forceScroll:s,ancestorOffset:u=0,limiterElement:h}){const m=Yp(l),b=i&&s;let _,S,T;const O=h||m.document.body;for(;l!=O;)S=e(),_=new Ut(l).excludeScrollbarsAndBorders(),T=_.contains(S),b?l.scrollTop-=_.top-S.top+u:T||(Ed(S,_)?l.scrollTop-=_.top-S.top+u:Xh(S,_)&&(l.scrollTop+=i?S.top-_.top-u:S.bottom-_.bottom+u)),T||(ef(S,_)?l.scrollLeft-=_.left-S.left+u:mb(S,_)&&(l.scrollLeft+=S.right-_.right+u)),l=l.parentNode}function Xh(l,e){return l.bottom>e.bottom}function Ed(l,e){return l.top<e.top}function ef(l,e){return l.left<e.left}function mb(l,e){return l.right>e.right}function Yp(l){return ml(l)?l.startContainer.ownerDocument.defaultView:l.ownerDocument.defaultView}function gb(l){if(ml(l)){let e=l.commonAncestorContainer;return tr(e)&&(e=e.parentNode),e}return l.parentNode}function bb(l,e){const i=Yp(l),s=new Ut(l);if(i===e)return s;{let u=i;for(;u!=e;){const h=u.frameElement,m=new Ut(h).excludeScrollbarsAndBorders();s.moveBy(m.left,m.top),u=u.parent}}return s}const Cw={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},xw={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},kb={37:"←",38:"↑",39:"→",40:"↓",9:"⇥",33:"Page Up",34:"Page Down"},Mn=function(){const l={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)l[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)l[e-48]=e;for(let e=112;e<=123;e++)l["f"+(e-111)]=e;return Object.assign(l,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),l}(),Kp=Object.fromEntries(Object.entries(Mn).map(([l,e])=>{let i;return i=e in kb?kb[e]:l.charAt(0).toUpperCase()+l.slice(1),[e,i]}));function kl(l){let e;if(typeof l=="string"){if(e=Mn[l.toLowerCase()],!e)throw new N("keyboard-unknown-key",null,{key:l})}else e=l.keyCode+(l.altKey?Mn.alt:0)+(l.ctrlKey?Mn.ctrl:0)+(l.shiftKey?Mn.shift:0)+(l.metaKey?Mn.cmd:0);return e}function ja(l){return typeof l=="string"&&(l=function(e){return e.split("+").map(i=>i.trim())}(l)),l.map(e=>typeof e=="string"?function(i){if(i.endsWith("!"))return kl(i.slice(0,-1));const s=kl(i);return(k.isMac||k.isiOS)&&s==Mn.ctrl?Mn.cmd:s}(e):e).reduce((e,i)=>i+e,0)}function tf(l){let e=ja(l);return Object.entries(k.isMac||k.isiOS?Cw:xw).reduce((i,[s,u])=>(e&Mn[s]&&(e&=~Mn[s],i+=u),i),"")+(e?Kp[e]:"")}function Qp(l,e){const i=e==="ltr";switch(l){case Mn.arrowleft:return i?"left":"right";case Mn.arrowright:return i?"right":"left";case Mn.arrowup:return"up";case Mn.arrowdown:return"down"}}function nr(l){return Array.isArray(l)?l:[l]}const Jp=function(l,e,i){(i!==void 0&&!ei(l[e],i)||i===void 0&&!(e in l))&&Ko(l,e,i)},wb=function(l){return function(e,i,s){for(var u=-1,h=Object(e),m=s(e),b=m.length;b--;){var _=m[++u];if(i(h[_],_,h)===!1)break}return e}}(),Sw=function(l){return Yt(l)&&ul(l)},yb=function(l,e){if((e!=="constructor"||typeof l[e]!="function")&&e!="__proto__")return l[e]},wl=function(l){return Pa(l,Xs(l))},xs=function(l,e,i,s,u,h,m){var b=yb(l,i),_=yb(e,i),S=m.get(_);if(S)Jp(l,i,S);else{var T=void 0,O=T===void 0;if(O){var U=zt(_),G=!U&&Oa(_),ee=!U&&!G&&ru(_);T=_,U||G||ee?zt(b)?T=b:Sw(b)?T=cc(b):G?(O=!1,T=Gh(_,!0)):ee?(O=!1,T=fu(_,!0)):T=[]:Nn(_)||tu(_)?(T=b,tu(b)?T=wl(b):we(b)&&!qi(b)||(T=vd(_))):O=!1}O&&(m.set(_,T),u(T,_,s,h,m),m.delete(_)),Jp(l,i,T)}},Ra=function l(e,i,s,u,h){e!==i&&wb(i,function(m,b){if(h||(h=new al),we(m))xs(e,i,b,s,l,u,h);else{var _=void 0;_===void 0&&(_=m),Jp(e,b,_)}},Xs)},yl=function(l){return l},vb=function(l,e,i){switch(i.length){case 0:return l.call(e);case 1:return l.call(e,i[0]);case 2:return l.call(e,i[0],i[1]);case 3:return l.call(e,i[0],i[1],i[2])}return l.apply(e,i)};var Fa=Math.max;const Jo=function(l,e,i){return e=Fa(e===void 0?l.length-1:e,0),function(){for(var s=arguments,u=-1,h=Fa(s.length-e,0),m=Array(h);++u<h;)m[u]=s[e+u];u=-1;for(var b=Array(e+1);++u<e;)b[u]=s[u];return b[e]=i(m),vb(l,this,b)}},Ew=function(l){return function(){return l}},Dw=Xc?function(l,e){return Xc(l,"toString",{configurable:!0,enumerable:!1,value:Ew(e),writable:!0})}:yl;var _b=Date.now;const Ab=function(l){var e=0,i=0;return function(){var s=_b(),u=16-(s-i);if(i=s,u>0){if(++e>=800)return arguments[0]}else e=0;return l.apply(void 0,arguments)}}(Dw),Cb=function(l,e){return Ab(Jo(l,e,yl),l+"")},Tw=function(l,e,i){if(!we(i))return!1;var s=typeof e;return!!(s=="number"?ul(i)&&nu(e,i.length):s=="string"&&e in i)&&ei(i[e],l)},Dd=function(l){return Cb(function(e,i){var s=-1,u=i.length,h=u>1?i[u-1]:void 0,m=u>2?i[2]:void 0;for(h=l.length>3&&typeof h=="function"?(u--,h):void 0,m&&Tw(i[0],i[1],m)&&(h=u<3?void 0:h,u=1),e=Object(e);++s<u;){var b=i[s];b&&l(e,b,s,h)}return e})},mu=Dd(function(l,e,i){Ra(l,e,i)});function Id(l,e,i=1,s){if(typeof i!="number")throw new N("translation-service-quantity-not-a-number",null,{quantity:i});const u=s||f.window.CKEDITOR_TRANSLATIONS,h=function(T){return Object.keys(T).length}(u);h===1&&(l=Object.keys(u)[0]);const m=e.id||e.string;if(h===0||!function(T,O,U){return!!U[T]&&!!U[T].dictionary[O]}(l,m,u))return i!==1?e.plural:e.string;const b=u[l].dictionary,_=u[l].getPluralForm||(T=>T===1?0:1),S=b[m];return typeof S=="string"?S:S[Number(_(i))]}f.window.CKEDITOR_TRANSLATIONS||(f.window.CKEDITOR_TRANSLATIONS={});const Zp=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function xb(l){return Zp.includes(l)?"rtl":"ltr"}class Sb{constructor({uiLanguage:e="en",contentLanguage:i,translations:s}={}){this.uiLanguage=e,this.contentLanguage=i||this.uiLanguage,this.uiLanguageDirection=xb(this.uiLanguage),this.contentLanguageDirection=xb(this.contentLanguage),this.translations=function(u){return Array.isArray(u)?u.reduce((h,m)=>mu(h,m)):u}(s),this.t=(u,h)=>this._t(u,h)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,i=[]){i=nr(i),typeof e=="string"&&(e={string:e});const s=e.plural?i[0]:1;return function(u,h){return u.replace(/%(\d+)/g,(m,b)=>b<h.length?h[b]:m)}(Id(this.uiLanguage,e,s,this.translations),i)}}class Ss extends oe(){constructor(e={},i={}){super();const s=Ae(e);if(s||(i=e),this._items=[],this._itemMap=new Map,this._idProperty=i.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],s)for(const u of e)this._items.push(u),this._itemMap.set(this._getItemIdBeforeAdding(u),u)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,i){return this.addMany([e],i)}addMany(e,i){if(i===void 0)i=this._items.length;else if(i>this._items.length||i<0)throw new N("collection-add-item-invalid-index",this);let s=0;for(const u of e){const h=this._getItemIdBeforeAdding(u),m=i+s;this._items.splice(m,0,u),this._itemMap.set(h,u),this.fire("add",u,m),s++}return this.fire("change",{added:e,removed:[],index:i}),this}get(e){let i;if(typeof e=="string")i=this._itemMap.get(e);else{if(typeof e!="number")throw new N("collection-get-invalid-arg",this);i=this._items[e]}return i||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const i=e[this._idProperty];return i&&this._itemMap.has(i)}}getIndex(e){let i;return i=typeof e=="string"?this._itemMap.get(e):e,i?this._items.indexOf(i):-1}remove(e){const[i,s]=this._remove(e);return this.fire("change",{added:[],removed:[i],index:s}),i}map(e,i){return this._items.map(e,i)}forEach(e,i){this._items.forEach(e,i)}find(e,i){return this._items.find(e,i)}filter(e,i){return this._items.filter(e,i)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new N("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:i=>{this._setUpBindToBinding(s=>new i(s))},using:i=>{typeof i=="function"?this._setUpBindToBinding(i):this._setUpBindToBinding(s=>s[i])}}}_setUpBindToBinding(e){const i=this._bindToCollection,s=(u,h,m)=>{const b=i._bindToCollection==this,_=i._bindToInternalToExternalMap.get(h);if(b&&_)this._bindToExternalToInternalMap.set(h,_),this._bindToInternalToExternalMap.set(_,h);else{const S=e(h);if(!S)return void this._skippedIndexesFromExternal.push(m);let T=m;for(const O of this._skippedIndexesFromExternal)m>O&&T--;for(const O of i._skippedIndexesFromExternal)T>=O&&T++;this._bindToExternalToInternalMap.set(h,S),this._bindToInternalToExternalMap.set(S,h),this.add(S,T);for(let O=0;O<i._skippedIndexesFromExternal.length;O++)T<=i._skippedIndexesFromExternal[O]&&i._skippedIndexesFromExternal[O]++}};for(const u of i)s(0,u,i.getIndex(u));this.listenTo(i,"add",s),this.listenTo(i,"remove",(u,h,m)=>{const b=this._bindToExternalToInternalMap.get(h);b&&this.remove(b),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((_,S)=>(m<S&&_.push(S-1),m>S&&_.push(S),_),[])})}_getItemIdBeforeAdding(e){const i=this._idProperty;let s;if(i in e){if(s=e[i],typeof s!="string")throw new N("collection-add-invalid-id",this);if(this.get(s))throw new N("collection-add-item-already-exists",this)}else e[i]=s=P();return s}_remove(e){let i,s,u,h=!1;const m=this._idProperty;if(typeof e=="string"?(s=e,u=this._itemMap.get(s),h=!u,u&&(i=this._items.indexOf(u))):typeof e=="number"?(i=e,u=this._items[i],h=!u,u&&(s=u[m])):(u=e,s=u[m],i=this._items.indexOf(u),h=i==-1||!this._itemMap.get(s)),h)throw new N("collection-remove-404",this);this._items.splice(i,1),this._itemMap.delete(s);const b=this._bindToInternalToExternalMap.get(u);return this._bindToInternalToExternalMap.delete(u),this._bindToExternalToInternalMap.delete(b),this.fire("remove",u,i),[u,i]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Ii(l){const e=l.next();return e.done?null:e.value}class Ti extends mi(ze()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new N("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class Zi{constructor(){this._listener=new(mi())}listenTo(e){this._listener.listenTo(e,"keydown",(i,s)=>{this._listener.fire("_keydown:"+kl(s),s)})}set(e,i,s={}){const u=ja(e),h=s.priority;this._listener.listenTo(this._listener,"_keydown:"+u,(m,b)=>{i(b,()=>{b.preventDefault(),b.stopPropagation(),m.stop()}),m.return=!0},{priority:h})}press(e){return!!this._listener.fire("_keydown:"+kl(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function la(l){return Ae(l)?new Map(l):function(e){const i=new Map;for(const s in e)i.set(s,e[s]);return i}(l)}function Xp(l,e){let i;function s(...u){s.cancel(),i=setTimeout(()=>l(...u),e)}return s.cancel=()=>{clearTimeout(i)},s}function nf(l,e){return!!(i=l.charAt(e-1))&&i.length==1&&/[\ud800-\udbff]/.test(i)&&function(s){return!!s&&s.length==1&&/[\udc00-\udfff]/.test(s)}(l.charAt(e));var i}function gu(l,e){return!!(i=l.charAt(e))&&i.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(i);var i}const Nw=function(){const l=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,i="(?:"+l.map(s=>s.source).join("|")+")";return new RegExp(`${e}|${i}(?:‍${i})*`,"ug")}();function Eb(l,e){const i=String(l).matchAll(Nw);return Array.from(i).some(s=>s.index<e&&e<s.index+s[0].length)}class Ro extends Ss{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(i,s,u)=>{this._renderViewIntoCollectionParent(s,u)}),this.on("remove",(i,s)=>{s.element&&this._parentElement&&s.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const i of this)this._renderViewIntoCollectionParent(i)}delegate(...e){if(!e.length||!e.every(i=>typeof i=="string"))throw new N("ui-viewcollection-delegate-wrong-events",this);return{to:i=>{for(const s of this)for(const u of e)s.delegate(u).to(i);this.on("add",(s,u)=>{for(const h of e)u.delegate(h).to(i)}),this.on("remove",(s,u)=>{for(const h of e)u.stopDelegating(h,i)})}}}_renderViewIntoCollectionParent(e,i){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[i])}remove(e){return super.remove(e)}}class I extends oe(){constructor(e){super(),Object.assign(this,Re(Ee(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new N("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(i){if(i.children)for(const s of i.children)je(s)?yield s:qe(s)&&(yield*e(s))}(this)}static bind(e,i){return{to:(s,u)=>new W({eventNameOrFunction:s,attribute:s,observable:e,emitter:i,callback:u}),if:(s,u,h)=>new te({observable:e,emitter:i,attribute:s,valueIfTrue:u,callback:h})}}static extend(e,i){if(e._isRendered)throw new N("template-extend-render",[this,e]);bt(e,Re(Ee(i)))}_renderNode(e){let i;if(i=e.node?this.tag&&this.text:this.tag?this.text:!this.text,i)throw new N("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let i=e.node;return i||(i=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),i}_renderText(e){let i=e.node;return i?e.revertData.text=i.textContent:i=e.node=document.createTextNode(""),le(this.text)?this._bindToObservable({schema:this.text,updater:me(i),data:e}):i.textContent=this.text.join(""),i}_renderAttributes(e){if(!this.attributes)return;const i=e.node,s=e.revertData;for(const u in this.attributes){const h=i.getAttribute(u),m=this.attributes[u];s&&(s.attributes[u]=h);const b=wt(m)?m[0].ns:null;if(le(m)){const _=wt(m)?m[0].value:m;s&&gt(u)&&_.unshift(h),this._bindToObservable({schema:_,updater:ke(i,u,b),data:e})}else if(u=="style"&&typeof m[0]!="string")this._renderStyleAttribute(m[0],e);else{s&&h&&gt(u)&&m.unshift(h);const _=m.map(S=>S&&S.value||S).reduce((S,T)=>S.concat(T),[]).reduce(nt,"");ot(_)||i.setAttributeNS(b,u,_)}}}_renderStyleAttribute(e,i){const s=i.node;for(const u in e){const h=e[u];le(h)?this._bindToObservable({schema:[h],updater:ve(s,u),data:i}):s.style[u]=h}}_renderElementChildren(e){const i=e.node,s=e.intoFragment?document.createDocumentFragment():i,u=e.isApplying;let h=0;for(const m of this.children)if(mt(m)){if(!u){m.setParent(i);for(const b of m)s.appendChild(b.element)}}else if(je(m))u||(m.isRendered||m.render(),s.appendChild(m.element));else if(Qo(m))s.appendChild(m);else if(u){const b={children:[],bindings:[],attributes:{}};e.revertData.children.push(b),m._renderNode({intoFragment:!1,node:s.childNodes[h++],isApplying:!0,revertData:b})}else s.appendChild(m.render());e.intoFragment&&i.appendChild(s)}_setUpListeners(e){if(this.eventListeners)for(const i in this.eventListeners){const s=this.eventListeners[i].map(u=>{const[h,m]=i.split("@");return u.activateDomEventListener(h,m,e)});e.revertData&&e.revertData.bindings.push(s)}}_bindToObservable({schema:e,updater:i,data:s}){const u=s.revertData;fe(e,i,s);const h=e.filter(m=>!ot(m)).filter(m=>m.observable).map(m=>m.activateAttributeListener(e,i,s));u&&u.bindings.push(h)}_revertTemplateFromNode(e,i){for(const u of i.bindings)for(const h of u)h();if(i.text)return void(e.textContent=i.text);const s=e;for(const u in i.attributes){const h=i.attributes[u];h===null?s.removeAttribute(u):s.setAttribute(u,h)}for(let u=0;u<i.children.length;++u)this._revertTemplateFromNode(s.childNodes[u],i.children[u])}}class L{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const i=this.observable[this.attribute];return this.callback?this.callback(i,e):i}activateAttributeListener(e,i,s){const u=()=>fe(e,i,s);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,u),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,u)}}}class W extends L{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,i,s){const u=(h,m)=>{i&&!m.target.matches(i)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(m):this.observable.fire(this.eventNameOrFunction,m))};return this.emitter.listenTo(s.node,e,u),()=>{this.emitter.stopListening(s.node,e,u)}}}class te extends L{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!ot(super.getValue(e))&&(this.valueIfTrue||!0)}}function le(l){return!!l&&(l.value&&(l=l.value),Array.isArray(l)?l.some(le):l instanceof L)}function fe(l,e,{node:i}){const s=function(h,m){return h.map(b=>b instanceof L?b.getValue(m):b)}(l,i);let u;u=l.length==1&&l[0]instanceof te?s[0]:s.reduce(nt,""),ot(u)?e.remove():e.set(u)}function me(l){return{set(e){l.textContent=e},remove(){l.textContent=""}}}function ke(l,e,i){return{set(s){l.setAttributeNS(i,e,s)},remove(){l.removeAttributeNS(i,e)}}}function ve(l,e){return{set(i){l.style[e]=i},remove(){l.style[e]=null}}}function Ee(l){return fc(l,e=>{if(e&&(e instanceof L||qe(e)||je(e)||mt(e)))return e})}function Re(l){if(typeof l=="string"?l=function(e){return{text:[e]}}(l):l.text&&function(e){e.text=nr(e.text)}(l),l.on&&(l.eventListeners=function(e){for(const i in e)tt(e,i);return e}(l.on),delete l.on),!l.text){l.attributes&&function(i){for(const s in i)i[s].value&&(i[s].value=nr(i[s].value)),tt(i,s)}(l.attributes);const e=[];if(l.children)if(mt(l.children))e.push(l.children);else for(const i of l.children)qe(i)||je(i)||Qo(i)?e.push(i):e.push(new I(i));l.children=e}return l}function tt(l,e){l[e]=nr(l[e])}function nt(l,e){return ot(e)?l:ot(l)?e:`${l} ${e}`}function $e(l,e){for(const i in e)l[i]?l[i].push(...e[i]):l[i]=e[i]}function bt(l,e){if(e.attributes&&(l.attributes||(l.attributes={}),$e(l.attributes,e.attributes)),e.eventListeners&&(l.eventListeners||(l.eventListeners={}),$e(l.eventListeners,e.eventListeners)),e.text&&l.text.push(...e.text),e.children&&e.children.length){if(l.children.length!=e.children.length)throw new N("ui-template-extend-children-mismatch",l);let i=0;for(const s of e.children)bt(l.children[i++],s)}}function ot(l){return!l&&l!==0}function je(l){return l instanceof Nt}function qe(l){return l instanceof I}function mt(l){return l instanceof Ro}function wt(l){return we(l[0])&&l[0].ns}function gt(l){return l=="class"||l=="style"}var jt=a(2591),Ze=a.n(jt),Jt=a(7676),Pt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(Jt.A,Pt),Jt.A.locals;class Nt extends mi(ze()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Ss,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(i,s)=>{s.locale=e,s.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=I.bind(this,this)}createCollection(e){const i=new Ro(e);return this._viewCollections.add(i),i}registerChild(e){Ae(e)||(e=[e]);for(const i of e)this._unboundChildren.add(i)}deregisterChild(e){Ae(e)||(e=[e]);for(const i of e)this._unboundChildren.remove(i)}setTemplate(e){this.template=new I(e)}extendTemplate(e){I.extend(this.template,e)}render(){if(this.isRendered)throw new N("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}function Bn({emitter:l,activator:e,callback:i,contextElements:s}){l.listenTo(document,"mousedown",(u,h)=>{if(!e())return;const m=typeof h.composedPath=="function"?h.composedPath():[],b=typeof s=="function"?s():s;for(const _ of b)if(_.contains(h.target)||m.includes(_))return;i()})}function Pn(l){return class extends l{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function Cn({view:l}){l.listenTo(l.element,"submit",(e,i)=>{i.preventDefault(),l.fire("submit")},{useCapture:!0})}function sr({keystrokeHandler:l,focusTracker:e,gridItems:i,numberOfColumns:s,uiLanguageDirection:u}){const h=()=>s;function m(S){return T=>{const O=i.find(ee=>ee.element===e.focusedElement),U=i.getIndex(O),G=S(U,i);i.get(G).focus(),T.stopPropagation(),T.preventDefault()}}function b(S,T){return S===T-1?0:S+1}function _(S,T){return S===0?T-1:S-1}l.set("arrowright",m((S,T)=>u==="rtl"?_(S,T.length):b(S,T.length))),l.set("arrowleft",m((S,T)=>u==="rtl"?b(S,T.length):_(S,T.length))),l.set("arrowup",m((S,T)=>{let O=S-h();return O<0&&(O=S+h()*Math.floor(T.length/h()),O>T.length-1&&(O-=h())),O})),l.set("arrowdown",m((S,T)=>{let O=S+h();return O>T.length-1&&(O=S%h()),O}))}class lt extends ze(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",mn,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",mn),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function mn(l){l.return=!1,l.stop()}class $t extends ze(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",i=>{if(!this.affectsData)return;const s=e.model.document.selection,u=s.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(s);(e.isReadOnly||this._isEnabledBasedOnSelection&&!u)&&(i.return=!1,i.stop())},{priority:"highest"}),this.on("execute",i=>{this.isEnabled||i.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Xi,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Xi),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function Xi(l){l.return=!1,l.stop()}class Gr extends $t{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const i=this._getFirstEnabledCommand();return!!i&&i.execute(e)}registerChildCommand(e,i={}){H(this._childCommandsDefinitions,{command:e,priority:i.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:i})=>i.isEnabled);return e&&e.command}}class eo extends oe(){constructor(e,i=[],s=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const u of i)u.pluginName&&this._availablePlugins.set(u.pluginName,u);this._contextPlugins=new Map;for(const[u,h]of s)this._contextPlugins.set(u,h),this._contextPlugins.set(h,u),u.pluginName&&this._availablePlugins.set(u.pluginName,u)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const i=this._plugins.get(e);if(!i){let s=e;throw typeof e=="function"&&(s=e.pluginName||e.name),new N("plugincollection-plugin-not-loaded",this._context,{plugin:s})}return i}has(e){return this._plugins.has(e)}init(e,i=[],s=[]){const u=this,h=this._context;(function ee(ie,be=new Set){ie.forEach(Se=>{_(Se)&&(be.has(Se)||(be.add(Se),Se.pluginName&&!u._availablePlugins.has(Se.pluginName)&&u._availablePlugins.set(Se.pluginName,Se),Se.requires&&ee(Se.requires,be)))})})(e),U(e);const m=[...function ee(ie,be=new Set){return ie.map(Se=>_(Se)?Se:u._availablePlugins.get(Se)).reduce((Se,Le)=>be.has(Le)?Se:(be.add(Le),Le.requires&&(U(Le.requires,Le),ee(Le.requires,be).forEach(et=>Se.add(et))),Se.add(Le)),new Set)}(e.filter(ee=>!T(ee,i)))];(function(ee,ie){for(const be of ie){if(typeof be!="function")throw new N("plugincollection-replace-plugin-invalid-type",null,{pluginItem:be});const Se=be.pluginName;if(!Se)throw new N("plugincollection-replace-plugin-missing-name",null,{pluginItem:be});if(be.requires&&be.requires.length)throw new N("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:Se});const Le=u._availablePlugins.get(Se);if(!Le)throw new N("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:Se});const et=ee.indexOf(Le);if(et===-1){if(u._contextPlugins.has(Le))return;throw new N("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:Se})}if(Le.requires&&Le.requires.length)throw new N("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:Se});ee.splice(et,1,be),u._availablePlugins.set(Se,be)}})(m,s);const b=m.map(ee=>{let ie=u._contextPlugins.get(ee);return ie=ie||new ee(h),u._add(ee,ie),ie});return G(b,"init").then(()=>G(b,"afterInit")).then(()=>b);function _(ee){return typeof ee=="function"}function S(ee){return _(ee)&&!!ee.isContextPlugin}function T(ee,ie){return ie.some(be=>be===ee||O(ee)===be||O(be)===ee)}function O(ee){return _(ee)?ee.pluginName||ee.name:ee}function U(ee,ie=null){ee.map(be=>_(be)?be:u._availablePlugins.get(be)||be).forEach(be=>{(function(Se,Le){if(!_(Se))throw Le?new N("plugincollection-soft-required",h,{missingPlugin:Se,requiredBy:O(Le)}):new N("plugincollection-plugin-not-found",h,{plugin:Se})})(be,ie),function(Se,Le){if(S(Le)&&!S(Se))throw new N("plugincollection-context-required",h,{plugin:O(Se),requiredBy:O(Le)})}(be,ie),function(Se,Le){if(Le&&T(Se,i))throw new N("plugincollection-required",h,{plugin:O(Se),requiredBy:O(Le)})}(be,ie)})}function G(ee,ie){return ee.reduce((be,Se)=>Se[ie]?u._contextPlugins.has(Se)?be:be.then(Se[ie].bind(Se)):be,Promise.resolve())}}destroy(){const e=[];for(const[,i]of this)typeof i.destroy!="function"||this._contextPlugins.has(i)||e.push(i.destroy());return Promise.all(e)}_add(e,i){this._plugins.set(e,i);const s=e.pluginName;if(s){if(this._plugins.has(s))throw new N("plugincollection-plugin-name-conflict",null,{pluginName:s,plugin1:this._plugins.get(s).constructor,plugin2:e});this._plugins.set(s,i)}}}var $n=Object.getOwnPropertySymbols,Fo=Object.prototype.hasOwnProperty,zo=Object.prototype.propertyIsEnumerable;class gi{constructor(e){this._contextOwner=null;const i=e||{},{translations:s}=i,u=((b,_)=>{var S={};for(var T in b)Fo.call(b,T)&&_.indexOf(T)<0&&(S[T]=b[T]);if(b!=null&&$n)for(var T of $n(b))_.indexOf(T)<0&&zo.call(b,T)&&(S[T]=b[T]);return S})(i,["translations"]);this.config=new Lo(u,this.constructor.defaultConfig);const h=this.constructor.builtinPlugins;this.config.define("plugins",h),this.plugins=new eo(this,h);const m=this.config.get("language")||{};this.locale=new Sb({uiLanguage:typeof m=="string"?m:m.ui,contentLanguage:this.config.get("language.content"),translations:s}),this.t=this.locale.t,this.editors=new Ss}initPlugins(){const e=this.config.get("plugins")||[],i=this.config.get("substitutePlugins")||[];for(const s of e.concat(i)){if(typeof s!="function")throw new N("context-initplugins-constructor-only",null,{Plugin:s});if(s.isContextPlugin!==!0)throw new N("context-initplugins-invalid-plugin",null,{Plugin:s})}return this.plugins.init(e,[],i)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,i){if(this._contextOwner)throw new N("context-addeditor-private-context");this.editors.add(e),i&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const i of this.config.names())["plugins","removePlugins","extraPlugins"].includes(i)||(e[i]=this.config.get(i));return e}static create(e){return new Promise(i=>{const s=new this(e);i(s.initPlugins().then(()=>s))})}}class ti extends ze(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class to extends Zi{constructor(e){super(),this.editor=e}set(e,i,s={}){if(typeof i=="string"){const u=i;i=(h,m)=>{this.editor.execute(u),m()}}super.set(e,i,s)}}var Uo=a(4098),ca={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(Uo.A,ca),Uo.A.locals;const Yr=new WeakMap;let ua=!1;function vl({view:l,element:e,text:i,isDirectHost:s=!0,keepOnFocus:u=!1}){const h=l.document;function m(b){Yr.get(h).set(e,{text:b,isDirectHost:s,keepOnFocus:u,hostElement:s?e:null}),l.change(_=>Td(h,_))}Yr.has(h)||(Yr.set(h,new Map),h.registerPostFixer(b=>Td(h,b)),h.on("change:isComposing",()=>{l.change(b=>Td(h,b))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(b,_,S)=>{m(S)}),e.placeholder?m(e.placeholder):i&&m(i),i&&function(){ua||j("enableplaceholder-deprecated-text-option"),ua=!0}()}function bu(l,e){return!e.hasClass("ck-placeholder")&&(l.addClass("ck-placeholder",e),!0)}function _l(l,e){return!!e.hasClass("ck-placeholder")&&(l.removeClass("ck-placeholder",e),!0)}function Lr(l,e){if(!l.isAttached()||Array.from(l.getChildren()).some(u=>!u.is("uiElement")))return!1;const i=l.document,s=i.selection.anchor;return(!i.isComposing||!s||s.parent!==l)&&(!!e||!i.isFocused||!!s&&s.parent!==l)}function Td(l,e){const i=Yr.get(l),s=[];let u=!1;for(const[h,m]of i)m.isDirectHost&&(s.push(h),em(e,h,m)&&(u=!0));for(const[h,m]of i){if(m.isDirectHost)continue;const b=Db(h);b&&(s.includes(b)||(m.hostElement=b,em(e,h,m)&&(u=!0)))}return u}function em(l,e,i){const{text:s,isDirectHost:u,hostElement:h}=i;let m=!1;return h.getAttribute("data-placeholder")!==s&&(l.setAttribute("data-placeholder",s,h),m=!0),(u||e.childCount==1)&&Lr(h,i.keepOnFocus)?bu(l,h)&&(m=!0):_l(l,h)&&(m=!0),m}function Db(l){if(l.childCount){const e=l.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class da{is(){throw new Error("is() method is abstract")}}const ku=function(l){return Dr(l,4)};class ha extends oe(da){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new N("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.index),i=i.parent;return e}getAncestors(e={}){const i=[];let s=e.includeSelf?this:this.parent;for(;s;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}getCommonAncestor(e,i={}){const s=this.getAncestors(i),u=e.getAncestors(i);let h=0;for(;s[h]==u[h]&&s[h];)h++;return h===0?null:s[h-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),s=e.getPath(),u=Ie(i,s);switch(u){case"prefix":return!0;case"extension":return!1;default:return i[u]<s[u]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,i){this.fire(`change:${e}`,i),this.parent&&this.parent._fireChange(e,i)}toJSON(){const e=ku(this);return delete e.parent,e}}ha.prototype.is=function(l){return l==="node"||l==="view:node"};class xn extends ha{constructor(e,i){super(e),this._textData=i}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof xn&&(this===e||this.data===e.data)}_clone(){return new xn(this.document,this.data)}}xn.prototype.is=function(l){return l==="$text"||l==="view:$text"||l==="text"||l==="view:text"||l==="node"||l==="view:node"};class no extends da{constructor(e,i,s){if(super(),this.textNode=e,i<0||i>e.data.length)throw new N("view-textproxy-wrong-offsetintext",this);if(s<0||i+s>e.data.length)throw new N("view-textproxy-wrong-length",this);this.data=e.data.substring(i,i+s),this.offsetInText=i}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const i=[];let s=e.includeSelf?this.textNode:this.parent;for(;s!==null;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}}no.prototype.is=function(l){return l==="$textProxy"||l==="view:$textProxy"||l==="textProxy"||l==="view:textProxy"};class ro{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let i of e)(typeof i=="string"||i instanceof RegExp)&&(i={name:i}),this._patterns.push(i)}match(...e){for(const i of e)for(const s of this._patterns){const u=tm(i,s);if(u)return{element:i,pattern:s,match:u}}return null}matchAll(...e){const i=[];for(const s of e)for(const u of this._patterns){const h=tm(s,u);h&&i.push({element:s,pattern:u,match:h})}return i.length>0?i:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],i=e.name;return typeof e=="function"||!i||i instanceof RegExp?null:i}}function tm(l,e){if(typeof e=="function")return e(l);const i={};return e.name&&(i.name=function(s,u){return s instanceof RegExp?!!u.match(s):s===u}(e.name,l.name),!i.name)||e.attributes&&(i.attributes=function(s,u){const h=new Set(u.getAttributeKeys());return Nn(s)?(s.style!==void 0&&j("matcher-pattern-deprecated-attributes-style-key",s),s.class!==void 0&&j("matcher-pattern-deprecated-attributes-class-key",s)):(h.delete("style"),h.delete("class")),wu(s,h,m=>u.getAttribute(m))}(e.attributes,l),!i.attributes)||e.classes&&(i.classes=function(s,u){return wu(s,u.getClassNames(),()=>{})}(e.classes,l),!i.classes)||e.styles&&(i.styles=function(s,u){return wu(s,u.getStyleNames(!0),h=>u.getStyle(h))}(e.styles,l),!i.styles)?null:i}function wu(l,e,i){const s=function(m){return Array.isArray(m)?m.map(b=>Nn(b)?(b.key!==void 0&&b.value!==void 0||j("matcher-pattern-missing-key-or-value",b),[b.key,b.value]):[b,!0]):Nn(m)?Object.entries(m):[[m,!0]]}(l),u=Array.from(e),h=[];if(s.forEach(([m,b])=>{u.forEach(_=>{(function(S,T){return S===!0||S===T||S instanceof RegExp&&T.match(S)})(m,_)&&function(S,T,O){if(S===!0)return!0;const U=O(T);return S===U||S instanceof RegExp&&!!String(U).match(S)}(b,_,i)&&h.push(_)})}),s.length&&!(h.length<s.length))return h}const Nd=function(l){return typeof l=="symbol"||Yt(l)&&Rt(l)=="[object Symbol]"};var rf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nm=/^\w*$/;const yu=function(l,e){if(zt(l))return!1;var i=typeof l;return!(i!="number"&&i!="symbol"&&i!="boolean"&&l!=null&&!Nd(l))||nm.test(l)||!rf.test(l)||e!=null&&l in Object(e)};function bc(l,e){if(typeof l!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var i=function(){var s=arguments,u=e?e.apply(this,s):s[0],h=i.cache;if(h.has(u))return h.get(u);var m=l.apply(this,s);return i.cache=h.set(u,m)||h,m};return i.cache=new(bc.Cache||ic),i}bc.Cache=ic;const Mw=bc,Pw=function(l){var e=Mw(l,function(s){return i.size===500&&i.clear(),s}),i=e.cache;return e};var rm=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Al=/\\(\\)?/g,Ow=Pw(function(l){var e=[];return l.charCodeAt(0)===46&&e.push(""),l.replace(rm,function(i,s,u,h){e.push(u?h.replace(Al,"$1"):s||i)}),e});const Lw=Ow,Bw=function(l,e){for(var i=-1,s=l==null?0:l.length,u=Array(s);++i<s;)u[i]=e(l[i],i,l);return u};var im=dt?dt.prototype:void 0,Md=im?im.toString:void 0;const Ib=function l(e){if(typeof e=="string")return e;if(zt(e))return Bw(e,l)+"";if(Nd(e))return Md?Md.call(e):"";var i=e+"";return i=="0"&&1/e==-1/0?"-0":i},of=function(l){return l==null?"":Ib(l)},kc=function(l,e){return zt(l)?l:yu(l,e)?[l]:Lw(of(l))},om=function(l){var e=l==null?0:l.length;return e?l[e-1]:void 0},fa=function(l){if(typeof l=="string"||Nd(l))return l;var e=l+"";return e=="0"&&1/l==-1/0?"-0":e},sf=function(l,e){for(var i=0,s=(e=kc(e,l)).length;l!=null&&i<s;)l=l[fa(e[i++])];return i&&i==s?l:void 0},Tb=function(l,e,i){var s=-1,u=l.length;e<0&&(e=-e>u?0:u+e),(i=i>u?u:i)<0&&(i+=u),u=e>i?0:i-e>>>0,e>>>=0;for(var h=Array(u);++s<u;)h[s]=l[s+e];return h},af=function(l,e){return e.length<2?l:sf(l,Tb(e,0,-1))},Nb=function(l,e){return e=kc(e,l),(l=af(l,e))==null||delete l[fa(om(e))]},sm=function(l,e){return l==null||Nb(l,e)},Zo=function(l,e,i){var s=l==null?void 0:sf(l,e);return s===void 0?i:s},Mb=function(l,e,i,s){if(!we(l))return l;for(var u=-1,h=(e=kc(e,l)).length,m=h-1,b=l;b!=null&&++u<h;){var _=fa(e[u]),S=i;if(_==="__proto__"||_==="constructor"||_==="prototype")return l;if(u!=m){var T=b[_];(S=void 0)==void 0&&(S=we(T)?T:nu(e[u+1])?[]:{})}ll(b,_,S),b=b[_]}return l},Pb=function(l,e,i){return l==null?l:Mb(l,e,i)};class am{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const i=function(s){let u=null,h=0,m=0,b=null;const _=new Map;if(s==="")return _;s.charAt(s.length-1)!=";"&&(s+=";");for(let S=0;S<s.length;S++){const T=s.charAt(S);if(u===null)switch(T){case":":b||(b=s.substr(h,S-h),m=S+1);break;case'"':case"'":u=T;break;case";":{const O=s.substr(m,S-m);b&&_.set(b.trim(),O.trim()),b=null,h=S+1;break}}else T===u&&(u=null)}return _}(e);for(const[s,u]of i)this._styleProcessor.toNormalizedForm(s,u,this._styles)}has(e){if(this.isEmpty)return!1;const i=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(i)}set(e,i){if(we(e))for(const[s,u]of Object.entries(e))this._styleProcessor.toNormalizedForm(s,u,this._styles);else this._styleProcessor.toNormalizedForm(e,i,this._styles)}remove(e){const i=Cl(e);sm(this._styles,i),delete this._styles[e],this._cleanEmptyObjectsOnPath(i)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!we(this._styles[e]))return this._styles[e];const i=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(i)?i[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([i])=>i)}clear(){this._styles={}}getStylesEntries(){const e=[],i=Object.keys(this._styles);for(const s of i)e.push(...this._styleProcessor.getReducedForm(s,this._styles));return e}_cleanEmptyObjectsOnPath(e){const i=e.split(".");if(!(i.length>1))return;const s=i.splice(0,i.length-1).join("."),u=Zo(this._styles,s);u&&!Object.keys(u).length&&this.remove(s)}}class Ob{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,i,s){if(we(i))lm(s,Cl(e),i);else if(this._normalizers.has(e)){const u=this._normalizers.get(e),{path:h,value:m}=u(i);lm(s,h,m)}else lm(s,e,i)}getNormalized(e,i){if(!e)return mu({},i);if(i[e]!==void 0)return i[e];if(this._extractors.has(e)){const s=this._extractors.get(e);if(typeof s=="string")return Zo(i,s);const u=s(e,i);if(u)return u}return Zo(i,Cl(e))}getReducedForm(e,i){const s=this.getNormalized(e,i);return s===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(s):[[e,s]]}getStyleNames(e){const i=Array.from(this._consumables.keys()).filter(u=>{const h=this.getNormalized(u,e);return h&&typeof h=="object"?Object.keys(h).length:h}),s=new Set([...i,...Object.keys(e)]);return Array.from(s)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,i){this._normalizers.set(e,i)}setExtractor(e,i){this._extractors.set(e,i)}setReducer(e,i){this._reducers.set(e,i)}setStyleRelation(e,i){this._mapStyleNames(e,i);for(const s of i)this._mapStyleNames(s,[e])}_mapStyleNames(e,i){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...i)}}function Cl(l){return l.replace("-",".")}function lm(l,e,i){let s=i;we(i)&&(s=mu({},Zo(l,e),i)),Pb(l,e,s)}class yo extends ha{constructor(e,i,s,u){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=i,this._attrs=function(h){const m=la(h);for(const[b,_]of m)_===null?m.delete(b):typeof _!="string"&&m.set(b,String(_));return m}(s),this._children=[],u&&this._insertChild(0,u),this._classes=new Set,this._attrs.has("class")){const h=this._attrs.get("class");Lb(this._classes,h),this._attrs.delete("class")}this._styles=new am(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const i=this._styles.toString();return i==""?void 0:i}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof yo))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[i,s]of this._attrs)if(!e._attrs.has(i)||e._attrs.get(i)!==s)return!1;for(const i of this._classes)if(!e._classes.has(i))return!1;for(const i of this._styles.getStyleNames())if(!e._styles.has(i)||e._styles.getAsString(i)!==this._styles.getAsString(i))return!1;return!0}hasClass(...e){for(const i of e)if(!this._classes.has(i))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const i of e)if(!this._styles.has(i))return!1;return!0}findAncestor(...e){const i=new ro(...e);let s=this.parent;for(;s&&!s.is("documentFragment");){if(i.match(s))return s;s=s.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),i=this._styles.toString(),s=Array.from(this._attrs).map(u=>`${u[0]}="${u[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(i?` style="${i}"`:"")+(s==""?"":` ${s}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const i=[];if(e)for(const u of this.getChildren())i.push(u._clone(e));const s=new this.constructor(this.document,this.name,this._attrs,i);return s._classes=new Set(this._classes),s._styles.set(this._styles.getNormalized()),s._customProperties=new Map(this._customProperties),s.getFillerOffset=this.getFillerOffset,s._unsafeAttributesToRender=this._unsafeAttributesToRender,s}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,i){this._fireChange("children",this);let s=0;const u=function(h,m){return typeof m=="string"?[new xn(h,m)]:(Ae(m)||(m=[m]),Array.from(m).map(b=>typeof b=="string"?new xn(h,b):b instanceof no?new xn(h,b.data):b))}(this.document,i);for(const h of u)h.parent!==null&&h._remove(),h.parent=this,h.document=this.document,this._children.splice(e,0,h),e++,s++;return s}_removeChildren(e,i=1){this._fireChange("children",this);for(let s=e;s<e+i;s++)this._children[s].parent=null;return this._children.splice(e,i)}_setAttribute(e,i){const s=String(i);this._fireChange("attributes",this),e=="class"?Lb(this._classes,s):e=="style"?this._styles.setTo(s):this._attrs.set(e,s)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const i of nr(e))this._classes.add(i)}_removeClass(e){this._fireChange("attributes",this);for(const i of nr(e))this._classes.delete(i)}_setStyle(e,i){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,i)}_removeStyle(e){this._fireChange("attributes",this);for(const i of nr(e))this._styles.remove(i)}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function Lb(l,e){const i=e.split(/\s+/);l.clear(),i.forEach(s=>l.add(s))}yo.prototype.is=function(l,e){return e?e===this.name&&(l==="element"||l==="view:element"):l==="element"||l==="view:element"||l==="node"||l==="view:node"};class vu extends yo{constructor(e,i,s,u){super(e,i,s,u),this.getFillerOffset=jw}}function jw(){const l=[...this.getChildren()],e=l[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const i of l)if(!i.is("uiElement"))return null;return this.childCount}vu.prototype.is=function(l,e){return e?e===this.name&&(l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"):l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class xl extends ze(vu){constructor(e,i,s,u){super(e,i,s,u),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",h=>h&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}xl.prototype.is=function(l,e){return e?e===this.name&&(l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"):l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};const lf=Symbol("rootName");class Pd extends xl{constructor(e,i){super(e,i),this.rootName="main"}get rootName(){return this.getCustomProperty(lf)}set rootName(e){this._setCustomProperty(lf,e)}set _name(e){this.name=e}}Pd.prototype.is=function(l,e){return e?e===this.name&&(l==="rootElement"||l==="view:rootElement"||l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"):l==="rootElement"||l==="view:rootElement"||l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class io{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new N("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new N("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Dt._createAt(e.startPosition):this._position=Dt._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let i,s;do s=this.position,i=this.next();while(!i.done&&e(i.value));i.done||(this._position=s)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const i=this.position,s=e.parent;if(s.parent===null&&e.offset===s.childCount)return{done:!0,value:void 0};if(s===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let u;if(s instanceof xn){if(e.isAtEnd)return this._position=Dt._createAfter(s),this._next();u=s.data[e.offset]}else u=s.getChild(e.offset);if(u instanceof yo){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new Dt(u,0);return this._position=e,this._formatReturnValue("elementStart",u,i,e,1)}if(u instanceof xn){if(this.singleCharacters)return e=new Dt(u,0),this._position=e,this._next();let h,m=u.data.length;return u==this._boundaryEndParent?(m=this.boundaries.end.offset,h=new no(u,0,m),e=Dt._createAfter(h)):(h=new no(u,0,u.data.length),e.offset++),this._position=e,this._formatReturnValue("text",h,i,e,m)}if(typeof u=="string"){let h;this.singleCharacters?h=1:h=(s===this._boundaryEndParent?this.boundaries.end.offset:s.data.length)-e.offset;const m=new no(s,e.offset,h);return e.offset+=h,this._position=e,this._formatReturnValue("text",m,i,e,h)}return e=Dt._createAfter(s),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",s,i,e)}_previous(){let e=this.position.clone();const i=this.position,s=e.parent;if(s.parent===null&&e.offset===0)return{done:!0,value:void 0};if(s==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let u;if(s instanceof xn){if(e.isAtStart)return this._position=Dt._createBefore(s),this._previous();u=s.data[e.offset-1]}else u=s.getChild(e.offset-1);if(u instanceof yo)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",u,i,e,1)):(e=new Dt(u,u.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",u,i,e));if(u instanceof xn){if(this.singleCharacters)return e=new Dt(u,u.data.length),this._position=e,this._previous();let h,m=u.data.length;if(u==this._boundaryStartParent){const b=this.boundaries.start.offset;h=new no(u,b,u.data.length-b),m=h.data.length,e=Dt._createBefore(h)}else h=new no(u,0,u.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",h,i,e,m)}if(typeof u=="string"){let h;if(this.singleCharacters)h=1;else{const b=s===this._boundaryStartParent?this.boundaries.start.offset:0;h=e.offset-b}e.offset-=h;const m=new no(s,e.offset,h);return this._position=e,this._formatReturnValue("text",m,i,e,h)}return e=Dt._createBefore(s),this._position=e,this._formatReturnValue("elementStart",s,i,e,1)}_formatReturnValue(e,i,s,u,h){return i instanceof no&&(i.offsetInText+i.data.length==i.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?s=Dt._createAfter(i.textNode):(u=Dt._createAfter(i.textNode),this._position=u)),i.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?s=Dt._createBefore(i.textNode):(u=Dt._createBefore(i.textNode),this._position=u))),{done:!1,value:{type:e,item:i,previousPosition:s,nextPosition:u,length:h}}}}class Dt extends da{constructor(e,i){super(),this.parent=e,this.offset=i}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof xl);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const i=Dt._createAt(this),s=i.offset+e;return i.offset=s<0?0:s,i}getLastMatchingPosition(e,i={}){i.startPosition=this;const s=new io(i);return s.skip(e),s.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const i=this.getAncestors(),s=e.getAncestors();let u=0;for(;i[u]==s[u]&&i[u];)u++;return u===0?null:i[u-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const i=this.parent.is("node")?this.parent.getPath():[],s=e.parent.is("node")?e.parent.getPath():[];i.push(this.offset),s.push(e.offset);const u=Ie(i,s);switch(u){case"prefix":return"before";case"extension":return"after";default:return i[u]<s[u]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new io(e)}clone(){return new Dt(this.parent,this.offset)}static _createAt(e,i){if(e instanceof Dt)return new this(e.parent,e.offset);{const s=e;if(i=="end")i=s.is("$text")?s.data.length:s.childCount;else{if(i=="before")return this._createBefore(s);if(i=="after")return this._createAfter(s);if(i!==0&&!i)throw new N("view-createpositionat-offset-required",s)}return new Dt(s,i)}}static _createAfter(e){if(e.is("$textProxy"))return new Dt(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new N("view-position-after-root",e,{root:e});return new Dt(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Dt(e.textNode,e.offsetInText);if(!e.parent)throw new N("view-position-before-root",e,{root:e});return new Dt(e.parent,e.index)}}Dt.prototype.is=function(l){return l==="position"||l==="view:position"};class Gt extends da{constructor(e,i=null){super(),this.start=e.clone(),this.end=i?i.clone():e.clone()}*[Symbol.iterator](){yield*new io({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(wc,{direction:"backward"}),i=this.end.getLastMatchingPosition(wc);return e.parent.is("$text")&&e.isAtStart&&(e=Dt._createBefore(e.parent)),i.parent.is("$text")&&i.isAtEnd&&(i=Dt._createAfter(i.parent)),new Gt(e,i)}getTrimmed(){let e=this.start.getLastMatchingPosition(wc);if(e.isAfter(this.end)||e.isEqual(this.end))return new Gt(e,e);let i=this.end.getLastMatchingPosition(wc,{direction:"backward"});const s=e.nodeAfter,u=i.nodeBefore;return s&&s.is("$text")&&(e=new Dt(s,0)),u&&u.is("$text")&&(i=new Dt(u,u.data.length)),new Gt(e,i)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const s=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),u=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return s&&u}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new Gt(this.start,e.start)),this.containsPosition(e.end)&&i.push(new Gt(e.end,this.end))):i.push(this.clone()),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,s=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(s=e.end),new Gt(i,s)}return null}getWalker(e={}){return e.boundaries=this,new io(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,i=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(i=this.end.parent.previousSibling),e&&e.is("element")&&e===i?e:null}clone(){return new Gt(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new io(e);for(const s of i)yield s.item}*getPositions(e={}){e.boundaries=this;const i=new io(e);yield i.position;for(const s of i)yield s.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,i,s,u){return new this(new Dt(e,i),new Dt(s,u))}static _createFromPositionAndShift(e,i){const s=e,u=e.getShiftedBy(i);return i>0?new this(s,u):new this(u,s)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const i=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Dt._createBefore(e),i)}}function wc(l){return!(!l.item.is("attributeElement")&&!l.item.is("uiElement"))}Gt.prototype.is=function(l){return l==="range"||l==="view:range"};class qo extends oe(da){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const i of this._ranges)e&&!i.start.isBefore(e.start)||(e=i);return e?e.clone():null}getLastRange(){let e=null;for(const i of this._ranges)e&&!i.end.isAfter(e.end)||(e=i);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let s=!1;for(const u of e._ranges)if(i.isEqual(u)){s=!0;break}if(!s)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const i=Me(this.getRanges());if(i!=Me(e.getRanges()))return!1;if(i==0)return!0;for(let s of this.getRanges()){s=s.getTrimmed();let u=!1;for(let h of e.getRanges())if(h=h.getTrimmed(),s.start.isEqual(h.start)&&s.end.isEqual(h.end)){u=!0;break}if(!u)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[i,s,u]=e;if(typeof s=="object"&&(u=s,s=void 0),i===null)this._setRanges([]),this._setFakeOptions(u);else if(i instanceof qo||i instanceof cf)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof Gt)this._setRanges([i],u&&u.backward),this._setFakeOptions(u);else if(i instanceof Dt)this._setRanges([new Gt(i)]),this._setFakeOptions(u);else if(i instanceof ha){const h=!!u&&!!u.backward;let m;if(s===void 0)throw new N("view-selection-setto-required-second-parameter",this);m=s=="in"?Gt._createIn(i):s=="on"?Gt._createOn(i):new Gt(Dt._createAt(i,s)),this._setRanges([m],h),this._setFakeOptions(u)}else{if(!Ae(i))throw new N("view-selection-setto-not-selectable",this);this._setRanges(i,u&&u.backward),this._setFakeOptions(u)}this.fire("change")}setFocus(e,i){if(this.anchor===null)throw new N("view-selection-setfocus-no-ranges",this);const s=Dt._createAt(e,i);if(s.compareWith(this.focus)=="same")return;const u=this.anchor;this._ranges.pop(),s.compareWith(u)=="before"?this._addRange(new Gt(s,u),!0):this._addRange(new Gt(u,s)),this.fire("change")}_setRanges(e,i=!1){e=Array.from(e),this._ranges=[];for(const s of e)this._addRange(s);this._lastRangeBackward=!!i}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,i=!1){if(!(e instanceof Gt))throw new N("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!i}_pushRange(e){for(const i of this._ranges)if(e.isIntersecting(i))throw new N("view-selection-range-intersects",this,{addedRange:e,intersectingRange:i});this._ranges.push(new Gt(e.start,e.end))}}qo.prototype.is=function(l){return l==="selection"||l==="view:selection"};class cf extends oe(da){constructor(...e){super(),this._selection=new qo,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,i){this._selection.setFocus(e,i)}}cf.prototype.is=function(l){return l==="selection"||l=="documentSelection"||l=="view:selection"||l=="view:documentSelection"};class _u extends E{constructor(e,i,s){super(e,i),this.startRange=s,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Od=Symbol("bubbling contexts");function Ld(l){return class extends l{fire(e,...i){try{const s=e instanceof E?e:new E(this,e),u=Rw(this);if(!u.size)return;if(cm(s,"capturing",this),uf(u,"$capture",s,...i))return s.return;const h=s.startRange||this.selection.getFirstRange(),m=h?h.getContainedElement():null,b=!!m&&!!XC(u,m);let _=m||function(S){if(!S)return null;const T=S.start.parent,O=S.end.parent,U=T.getPath(),G=O.getPath();return U.length>G.length?T:O}(h);if(cm(s,"atTarget",_),!b){if(uf(u,"$text",s,...i))return s.return;cm(s,"bubbling",_)}for(;_;){if(_.is("rootElement")){if(uf(u,"$root",s,...i))return s.return}else if(_.is("element")&&uf(u,_.name,s,...i))return s.return;if(uf(u,_,s,...i))return s.return;_=_.parent,cm(s,"bubbling",_)}return cm(s,"bubbling",this),uf(u,"$document",s,...i),s.return}catch(s){N.rethrowUnexpectedError(s,this)}}_addEventListener(e,i,s){const u=nr(s.context||"$document"),h=Rw(this);for(const m of u){let b=h.get(m);b||(b=new(oe()),h.set(m,b)),this.listenTo(b,e,i,s)}}_removeEventListener(e,i){const s=Rw(this);for(const u of s.values())this.stopListening(u,e,i)}}}{const l=Ld(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Ld[e]=l.prototype[e]})}function cm(l,e,i){l instanceof _u&&(l._eventPhase=e,l._currentTarget=i)}function uf(l,e,i,...s){const u=typeof e=="string"?l.get(e):XC(l,e);return!!u&&(u.fire(i,...s),i.stop.called)}function XC(l,e){for(const[i,s]of l)if(typeof i=="function"&&i(e))return s;return null}function Rw(l){return l[Od]||(l[Od]=new Map),l[Od]}class Bb extends Ld(ze()){constructor(e){super(),this._postFixers=new Set,this.selection=new cf,this.roots=new Ss({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let i=!1;do for(const s of this._postFixers)if(i=s(e),i)break;while(i)}}class Bd extends yo{constructor(e,i,s,u){super(e,i,s,u),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=lj}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new N("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const i=super._clone(e);return i._priority=this._priority,i._id=this._id,i}}function lj(){if(Fw(this))return null;let l=this.parent;for(;l&&l.is("attributeElement");){if(Fw(l)>1)return null;l=l.parent}return!l||Fw(l)>1?null:this.childCount}function Fw(l){return Array.from(l.getChildren()).filter(e=>!e.is("uiElement")).length}Bd.DEFAULT_PRIORITY=10,Bd.prototype.is=function(l,e){return e?e===this.name&&(l==="attributeElement"||l==="view:attributeElement"||l==="element"||l==="view:element"):l==="attributeElement"||l==="view:attributeElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class zw extends yo{constructor(e,i,s,u){super(e,i,s,u),this.getFillerOffset=cj}_insertChild(e,i){if(i&&(i instanceof ha||Array.from(i).length>0))throw new N("view-emptyelement-cannot-add",[this,i]);return 0}}function cj(){return null}zw.prototype.is=function(l,e){return e?e===this.name&&(l==="emptyElement"||l==="view:emptyElement"||l==="element"||l==="view:element"):l==="emptyElement"||l==="view:emptyElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class jb extends yo{constructor(e,i,s,u){super(e,i,s,u),this.getFillerOffset=dj}_insertChild(e,i){if(i&&(i instanceof ha||Array.from(i).length>0))throw new N("view-uielement-cannot-add",[this,i]);return 0}render(e,i){return this.toDomElement(e)}toDomElement(e){const i=e.createElement(this.name);for(const s of this.getAttributeKeys())i.setAttribute(s,this.getAttribute(s));return i}}function uj(l){l.document.on("arrowKey",(e,i)=>function(s,u,h){if(u.keyCode==Mn.arrowright){const m=u.domTarget.ownerDocument.defaultView.getSelection(),b=m.rangeCount==1&&m.getRangeAt(0).collapsed;if(b||u.shiftKey){const _=m.focusNode,S=m.focusOffset,T=h.domPositionToView(_,S);if(T===null)return;let O=!1;const U=T.getLastMatchingPosition(G=>(G.item.is("uiElement")&&(O=!0),!(!G.item.is("uiElement")&&!G.item.is("attributeElement"))));if(O){const G=h.viewPositionToDom(U);b?m.collapse(G.parent,G.offset):m.extend(G.parent,G.offset)}}}}(0,i,l.domConverter),{priority:"low"})}function dj(){return null}jb.prototype.is=function(l,e){return e?e===this.name&&(l==="uiElement"||l==="view:uiElement"||l==="element"||l==="view:element"):l==="uiElement"||l==="view:uiElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class Uw extends yo{constructor(e,i,s,u){super(e,i,s,u),this.getFillerOffset=hj}_insertChild(e,i){if(i&&(i instanceof ha||Array.from(i).length>0))throw new N("view-rawelement-cannot-add",[this,i]);return 0}render(e,i){}}function hj(){return null}Uw.prototype.is=function(l,e){return e?e===this.name&&(l==="rawElement"||l==="view:rawElement"||l==="element"||l==="view:element"):l==="rawElement"||l==="view:rawElement"||l===this.name||l==="view:"+this.name||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class jd extends oe(da){constructor(e,i){super(),this._children=[],this._customProperties=new Map,this.document=e,i&&this._insertChild(0,i)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,i){this._fireChange("children",this);let s=0;const u=function(h,m){return typeof m=="string"?[new xn(h,m)]:(Ae(m)||(m=[m]),Array.from(m).map(b=>typeof b=="string"?new xn(h,b):b instanceof no?new xn(h,b.data):b))}(this.document,i);for(const h of u)h.parent!==null&&h._remove(),h.parent=this,this._children.splice(e,0,h),e++,s++;return s}_removeChildren(e,i=1){this._fireChange("children",this);for(let s=e;s<e+i;s++)this._children[s].parent=null;return this._children.splice(e,i)}_fireChange(e,i){this.fire("change:"+e,i)}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}}jd.prototype.is=function(l){return l==="documentFragment"||l==="view:documentFragment"};class e2{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,i){this.document.selection._setFocus(e,i)}createDocumentFragment(e){return new jd(this.document,e)}createText(e){return new xn(this.document,e)}createAttributeElement(e,i,s={}){const u=new Bd(this.document,e,i);return typeof s.priority=="number"&&(u._priority=s.priority),s.id&&(u._id=s.id),s.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),u}createContainerElement(e,i,s={},u={}){let h=null;Nn(s)?u=s:h=s;const m=new vu(this.document,e,i,h);return u.renderUnsafeAttributes&&m._unsafeAttributesToRender.push(...u.renderUnsafeAttributes),m}createEditableElement(e,i,s={}){const u=new xl(this.document,e,i);return s.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),u}createEmptyElement(e,i,s={}){const u=new zw(this.document,e,i);return s.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),u}createUIElement(e,i,s){const u=new jb(this.document,e,i);return s&&(u.render=s),u}createRawElement(e,i,s,u={}){const h=new Uw(this.document,e,i);return s&&(h.render=s),u.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...u.renderUnsafeAttributes),h}setAttribute(e,i,s){s._setAttribute(e,i)}removeAttribute(e,i){i._removeAttribute(e)}addClass(e,i){i._addClass(e)}removeClass(e,i){i._removeClass(e)}setStyle(e,i,s){Nn(e)&&s===void 0?i._setStyle(e):s._setStyle(e,i)}removeStyle(e,i){i._removeStyle(e)}setCustomProperty(e,i,s){s._setCustomProperty(e,i)}removeCustomProperty(e,i){return i._removeCustomProperty(e)}breakAttributes(e){return e instanceof Dt?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const i=e.parent;if(!i.is("containerElement"))throw new N("view-writer-break-non-container-element",this.document);if(!i.parent)throw new N("view-writer-break-root",this.document);if(e.isAtStart)return Dt._createBefore(i);if(!e.isAtEnd){const s=i._clone(!1);this.insert(Dt._createAfter(i),s);const u=new Gt(e,Dt._createAt(i,"end")),h=new Dt(s,0);this.move(u,h)}return Dt._createAfter(i)}mergeAttributes(e){const i=e.offset,s=e.parent;if(s.is("$text"))return e;if(s.is("attributeElement")&&s.childCount===0){const m=s.parent,b=s.index;return s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new Dt(m,b))}const u=s.getChild(i-1),h=s.getChild(i);if(!u||!h)return e;if(u.is("$text")&&h.is("$text"))return n2(u,h);if(u.is("attributeElement")&&h.is("attributeElement")&&u.isSimilar(h)){const m=u.childCount;return u._appendChild(h.getChildren()),h._remove(),this._removeFromClonedElementsGroup(h),this.mergeAttributes(new Dt(u,m))}return e}mergeContainers(e){const i=e.nodeBefore,s=e.nodeAfter;if(!(i&&s&&i.is("containerElement")&&s.is("containerElement")))throw new N("view-writer-merge-containers-invalid-position",this.document);const u=i.getChild(i.childCount-1),h=u instanceof xn?Dt._createAt(u,"end"):Dt._createAt(i,"end");return this.move(Gt._createIn(s),Dt._createAt(i,"end")),this.remove(Gt._createOn(s)),h}insert(e,i){r2(i=Ae(i)?[...i]:[i],this.document);const s=i.reduce((m,b)=>{const _=m[m.length-1],S=!b.is("uiElement");return _&&_.breakAttributes==S?_.nodes.push(b):m.push({breakAttributes:S,nodes:[b]}),m},[]);let u=null,h=e;for(const{nodes:m,breakAttributes:b}of s){const _=this._insertNodes(h,m,b);u||(u=_.start),h=_.end}return u?new Gt(u,h):new Gt(e)}remove(e){const i=e instanceof Gt?e:Gt._createOn(e);if(um(i,this.document),i.isCollapsed)return new jd(this.document);const{start:s,end:u}=this._breakAttributesRange(i,!0),h=s.parent,m=u.offset-s.offset,b=h._removeChildren(s.offset,m);for(const S of b)this._removeFromClonedElementsGroup(S);const _=this.mergeAttributes(s);return i.start=_,i.end=_.clone(),new jd(this.document,b)}clear(e,i){um(e,this.document);const s=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const u of s){const h=u.item;let m;if(h.is("element")&&i.isSimilar(h))m=Gt._createOn(h);else if(!u.nextPosition.isAfter(e.start)&&h.is("$textProxy")){const b=h.getAncestors().find(_=>_.is("element")&&i.isSimilar(_));b&&(m=Gt._createIn(b))}m&&(m.end.isAfter(e.end)&&(m.end=e.end),m.start.isBefore(e.start)&&(m.start=e.start),this.remove(m))}}move(e,i){let s;if(i.isAfter(e.end)){const u=(i=this._breakAttributes(i,!0)).parent,h=u.childCount;e=this._breakAttributesRange(e,!0),s=this.remove(e),i.offset+=u.childCount-h}else s=this.remove(e);return this.insert(i,s)}wrap(e,i){if(!(i instanceof Bd))throw new N("view-writer-wrap-invalid-attribute",this.document);if(um(e,this.document),e.isCollapsed){let u=e.start;u.parent.is("element")&&(s=u.parent,!Array.from(s.getChildren()).some(m=>!m.is("uiElement")))&&(u=u.getLastMatchingPosition(m=>m.item.is("uiElement"))),u=this._wrapPosition(u,i);const h=this.document.selection;return h.isCollapsed&&h.getFirstPosition().isEqual(e.start)&&this.setSelection(u),new Gt(u)}return this._wrapRange(e,i);var s}unwrap(e,i){if(!(i instanceof Bd))throw new N("view-writer-unwrap-invalid-attribute",this.document);if(um(e,this.document),e.isCollapsed)return e;const{start:s,end:u}=this._breakAttributesRange(e,!0),h=s.parent,m=this._unwrapChildren(h,s.offset,u.offset,i),b=this.mergeAttributes(m.start);b.isEqual(m.start)||m.end.offset--;const _=this.mergeAttributes(m.end);return new Gt(b,_)}rename(e,i){const s=new vu(this.document,e,i.getAttributes());return this.insert(Dt._createAfter(i),s),this.move(Gt._createIn(i),Dt._createAt(s,0)),this.remove(Gt._createOn(i)),s}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,i){return Dt._createAt(e,i)}createPositionAfter(e){return Dt._createAfter(e)}createPositionBefore(e){return Dt._createBefore(e)}createRange(e,i){return new Gt(e,i)}createRangeOn(e){return Gt._createOn(e)}createRangeIn(e){return Gt._createIn(e)}createSelection(...e){return new qo(...e)}createSlot(e="children"){if(!this._slotFactory)throw new N("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,i,s){let u,h;if(u=s?qw(e):e.parent.is("$text")?e.parent.parent:e.parent,!u)throw new N("view-writer-invalid-position-container",this.document);h=s?this._breakAttributes(e,!0):e.parent.is("$text")?Vw(e):e;const m=u._insertChild(h.offset,i);for(const T of i)this._addToClonedElementsGroup(T);const b=h.getShiftedBy(m),_=this.mergeAttributes(h);_.isEqual(h)||b.offset--;const S=this.mergeAttributes(b);return new Gt(_,S)}_wrapChildren(e,i,s,u){let h=i;const m=[];for(;h<s;){const _=e.getChild(h),S=_.is("$text"),T=_.is("attributeElement");if(T&&this._wrapAttributeElement(u,_))m.push(new Dt(e,h));else if(S||!T||fj(u,_)){const O=u._clone();_._remove(),O._appendChild(_),e._insertChild(h,O),this._addToClonedElementsGroup(O),m.push(new Dt(e,h))}else this._wrapChildren(_,0,_.childCount,u);h++}let b=0;for(const _ of m)_.offset-=b,_.offset!=i&&(this.mergeAttributes(_).isEqual(_)||(b++,s--));return Gt._createFromParentsAndOffsets(e,i,e,s)}_unwrapChildren(e,i,s,u){let h=i;const m=[];for(;h<s;){const _=e.getChild(h);if(_.is("attributeElement"))if(_.isSimilar(u)){const S=_.getChildren(),T=_.childCount;_._remove(),e._insertChild(h,S),this._removeFromClonedElementsGroup(_),m.push(new Dt(e,h),new Dt(e,h+T)),h+=T,s+=T-1}else this._unwrapAttributeElement(u,_)?(m.push(new Dt(e,h),new Dt(e,h+1)),h++):(this._unwrapChildren(_,0,_.childCount,u),h++);else h++}let b=0;for(const _ of m)_.offset-=b,!(_.offset==i||_.offset==s)&&(this.mergeAttributes(_).isEqual(_)||(b++,s--));return Gt._createFromParentsAndOffsets(e,i,e,s)}_wrapRange(e,i){const{start:s,end:u}=this._breakAttributesRange(e,!0),h=s.parent,m=this._wrapChildren(h,s.offset,u.offset,i),b=this.mergeAttributes(m.start);b.isEqual(m.start)||m.end.offset--;const _=this.mergeAttributes(m.end);return new Gt(b,_)}_wrapPosition(e,i){if(i.isSimilar(e.parent))return t2(e.clone());e.parent.is("$text")&&(e=Vw(e));const s=this.createAttributeElement("_wrapPosition-fake-element");s._priority=Number.POSITIVE_INFINITY,s.isSimilar=()=>!1,e.parent._insertChild(e.offset,s);const u=new Gt(e,e.getShiftedBy(1));this.wrap(u,i);const h=new Dt(s.parent,s.index);s._remove();const m=h.nodeBefore,b=h.nodeAfter;return m instanceof xn&&b instanceof xn?n2(m,b):t2(h)}_wrapAttributeElement(e,i){if(!i2(e,i)||e.name!==i.name||e.priority!==i.priority)return!1;for(const s of e.getAttributeKeys())if(s!=="class"&&s!=="style"&&i.hasAttribute(s)&&i.getAttribute(s)!==e.getAttribute(s))return!1;for(const s of e.getStyleNames())if(i.hasStyle(s)&&i.getStyle(s)!==e.getStyle(s))return!1;for(const s of e.getAttributeKeys())s!=="class"&&s!=="style"&&(i.hasAttribute(s)||this.setAttribute(s,e.getAttribute(s),i));for(const s of e.getStyleNames())i.hasStyle(s)||this.setStyle(s,e.getStyle(s),i);for(const s of e.getClassNames())i.hasClass(s)||this.addClass(s,i);return!0}_unwrapAttributeElement(e,i){if(!i2(e,i)||e.name!==i.name||e.priority!==i.priority)return!1;for(const s of e.getAttributeKeys())if(s!=="class"&&s!=="style"&&(!i.hasAttribute(s)||i.getAttribute(s)!==e.getAttribute(s)))return!1;if(!i.hasClass(...e.getClassNames()))return!1;for(const s of e.getStyleNames())if(!i.hasStyle(s)||i.getStyle(s)!==e.getStyle(s))return!1;for(const s of e.getAttributeKeys())s!=="class"&&s!=="style"&&this.removeAttribute(s,i);return this.removeClass(Array.from(e.getClassNames()),i),this.removeStyle(Array.from(e.getStyleNames()),i),!0}_breakAttributesRange(e,i=!1){const s=e.start,u=e.end;if(um(e,this.document),e.isCollapsed){const _=this._breakAttributes(e.start,i);return new Gt(_,_)}const h=this._breakAttributes(u,i),m=h.parent.childCount,b=this._breakAttributes(s,i);return h.offset+=h.parent.childCount-m,new Gt(b,h)}_breakAttributes(e,i=!1){const s=e.offset,u=e.parent;if(e.parent.is("emptyElement"))throw new N("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new N("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new N("view-writer-cannot-break-raw-element",this.document);if(!i&&u.is("$text")&&Hw(u.parent)||Hw(u))return e.clone();if(u.is("$text"))return this._breakAttributes(Vw(e),i);if(s==u.childCount){const h=new Dt(u.parent,u.index+1);return this._breakAttributes(h,i)}if(s===0){const h=new Dt(u.parent,u.index);return this._breakAttributes(h,i)}{const h=u.index+1,m=u._clone();u.parent._insertChild(h,m),this._addToClonedElementsGroup(m);const b=u.childCount-s,_=u._removeChildren(s,b);m._appendChild(_);const S=new Dt(u.parent,h);return this._breakAttributes(S,i)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const u of e.getChildren())this._addToClonedElementsGroup(u);const i=e.id;if(!i)return;let s=this._cloneGroups.get(i);s||(s=new Set,this._cloneGroups.set(i,s)),s.add(e),e._clonesGroup=s}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const u of e.getChildren())this._removeFromClonedElementsGroup(u);const i=e.id;if(!i)return;const s=this._cloneGroups.get(i);s&&s.delete(e)}}function qw(l){let e=l.parent;for(;!Hw(e);){if(!e)return;e=e.parent}return e}function fj(l,e){return l.priority<e.priority||!(l.priority>e.priority)&&l.getIdentity()<e.getIdentity()}function t2(l){const e=l.nodeBefore;if(e&&e.is("$text"))return new Dt(e,e.data.length);const i=l.nodeAfter;return i&&i.is("$text")?new Dt(i,0):l}function Vw(l){if(l.offset==l.parent.data.length)return new Dt(l.parent.parent,l.parent.index+1);if(l.offset===0)return new Dt(l.parent.parent,l.parent.index);const e=l.parent.data.slice(l.offset);return l.parent._data=l.parent.data.slice(0,l.offset),l.parent.parent._insertChild(l.parent.index+1,new xn(l.root.document,e)),new Dt(l.parent.parent,l.parent.index+1)}function n2(l,e){const i=l.data.length;return l._data+=e.data,e._remove(),new Dt(l,i)}const pj=[xn,Bd,vu,zw,Uw,jb];function r2(l,e){for(const i of l){if(!pj.some(s=>i instanceof s))throw new N("view-writer-insert-invalid-node-type",e);i.is("$text")||r2(i.getChildren(),e)}}function Hw(l){return l&&(l.is("containerElement")||l.is("documentFragment"))}function um(l,e){const i=qw(l.start),s=qw(l.end);if(!i||!s||i!==s)throw new N("view-writer-invalid-range-container",e)}function i2(l,e){return l.id===null&&e.id===null}const o2=l=>l.createTextNode(" "),s2=l=>{const e=l.createElement("span");return e.dataset.ckeFiller="true",e.innerText=" ",e},a2=l=>{const e=l.createElement("br");return e.dataset.ckeFiller="true",e},za=7,dm="⁠".repeat(za);function Es(l){return typeof l=="string"?l.substr(0,za)===dm:tr(l)&&l.data.substr(0,za)===dm}function df(l){return l.data.length==za&&Es(l)}function l2(l){const e=typeof l=="string"?l:l.data;return Es(l)?e.slice(za):e}function mj(l,e){if(e.keyCode==Mn.arrowleft){const i=e.domTarget.ownerDocument.defaultView.getSelection();if(i.rangeCount==1&&i.getRangeAt(0).collapsed){const s=i.getRangeAt(0).startContainer,u=i.getRangeAt(0).startOffset;Es(s)&&u<=za&&i.collapse(s,0)}}}var c2=a(8264),gj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(c2.A,gj),c2.A.locals;class bj extends ze(){constructor(e,i){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=i,this.set("isFocused",!1),this.set("isSelecting",!1),k.isBlink&&!k.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,i){if(e==="text")this.domConverter.mapViewToDom(i.parent)&&this.markedTexts.add(i);else{if(!this.domConverter.mapViewToDom(i))return;if(e==="attributes")this.markedAttributes.add(i);else{if(e!=="children")throw new N("view-renderer-unknown-type",this);this.markedChildren.add(i)}}}render(){if(this.isComposing&&!k.isAndroid)return;let e=null;const i=!(k.isBlink&&!k.isAndroid)||!this.isSelecting;for(const s of this.markedChildren)this._updateChildrenMappings(s);i?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Dt._createBefore(e.parent)));for(const s of this.markedAttributes)this._updateAttrs(s);for(const s of this.markedChildren)this._updateChildren(s,{inlineFillerPosition:e});for(const s of this.markedTexts)!this.markedChildren.has(s.parent)&&this.domConverter.mapViewToDom(s.parent)&&this._updateText(s,{inlineFillerPosition:e});if(i)if(e){const s=this.domConverter.viewPositionToDom(e),u=s.parent.ownerDocument;Es(s.parent)?this._inlineFiller=s.parent:this._inlineFiller=u2(u,s.parent,s.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const i=this.domConverter.mapViewToDom(e);if(!i)return;const s=Array.from(i.childNodes),u=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),h=this._diffNodeLists(s,u),m=this._findUpdateActions(h,s,u,kj);if(m.indexOf("update")!==-1){const b={equal:0,insert:0,delete:0};for(const _ of m)if(_==="update"){const S=b.equal+b.insert,T=b.equal+b.delete,O=e.getChild(S);!O||O.is("uiElement")||O.is("rawElement")||this._updateElementMappings(O,s[T]),Zh(u[S]),b.equal++}else b[_]++}}_updateElementMappings(e,i){this.domConverter.unbindDomElement(i),this.domConverter.bindElements(i,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Dt._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=this.domConverter.viewPositionToDom(e);return!!(i&&tr(i.parent)&&Es(i.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Es(e))throw new N("view-renderer-filler-was-lost",this);df(e)?e.remove():e.data=e.data.substr(za),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=e.parent,s=e.offset;if(!this.domConverter.mapViewToDom(i.root)||!i.is("element")||!function(m){if(m.getAttribute("contenteditable")=="false")return!1;const b=m.findAncestor(_=>_.hasAttribute("contenteditable"));return!b||b.getAttribute("contenteditable")=="true"}(i))return!1;const u=e.nodeBefore,h=e.nodeAfter;return!(u instanceof xn||h instanceof xn)&&!!(s!==i.getFillerOffset()||u&&u.is("element","br"))&&(!k.isAndroid||!u&&!h)}_updateText(e,i){const s=this.domConverter.findCorrespondingDomText(e);let u=this.domConverter.viewToDom(e).data;const h=i.inlineFillerPosition;h&&h.parent==e.parent&&h.offset==e.index&&(u=dm+u),d2(s,u)}_updateAttrs(e){const i=this.domConverter.mapViewToDom(e);if(!i)return;const s=Array.from(i.attributes).map(h=>h.name),u=e.getAttributeKeys();for(const h of u)this.domConverter.setDomElementAttribute(i,h,e.getAttribute(h),e);for(const h of s)e.hasAttribute(h)||this.domConverter.removeDomElementAttribute(i,h)}_updateChildren(e,i){const s=this.domConverter.mapViewToDom(e);if(!s)return;if(k.isAndroid){let O=null;for(const U of Array.from(s.childNodes)){if(O&&tr(O)&&tr(U)){s.normalize();break}O=U}}const u=i.inlineFillerPosition,h=s.childNodes,m=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));u&&u.parent===e&&u2(s.ownerDocument,m,u.offset);const b=this._diffNodeLists(h,m),_=this._findUpdateActions(b,h,m,wj);let S=0;const T=new Set;for(const O of _)O==="delete"?(T.add(h[S]),Zh(h[S])):O!=="equal"&&O!=="update"||S++;S=0;for(const O of _)O==="insert"?(wo(s,S,m[S]),S++):O==="update"?(d2(h[S],m[S].data),S++):O==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(m[S])),S++);for(const O of T)O.parentNode||this.domConverter.unbindDomElement(O)}_diffNodeLists(e,i){return e=function(s,u){const h=Array.from(s);return h.length==0||!u||h[h.length-1]==u&&h.pop(),h}(e,this._fakeSelectionContainer),A(e,i,yj.bind(null,this.domConverter))}_findUpdateActions(e,i,s,u){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let h=[],m=[],b=[];const _={equal:0,insert:0,delete:0};for(const S of e)S==="insert"?b.push(s[_.equal+_.insert]):S==="delete"?m.push(i[_.equal+_.delete]):(h=h.concat(A(m,b,u).map(T=>T==="equal"?"update":T)),h.push("equal"),m=[],b=[]),_[S]++;return h.concat(A(m,b,u).map(S=>S==="equal"?"update":S))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const i of e.getChildren())this._markDescendantTextToSync(i)}}_updateSelection(){if(k.isBlink&&!k.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&k.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const i=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(m){const b=m.createElement("div");return b.className="ck-fake-selection-container",Object.assign(b.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),b.textContent=" ",b}(i));const s=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(s,this.selection),!this._fakeSelectionNeedsUpdate(e))return;s.parentElement&&s.parentElement==e||e.appendChild(s),s.textContent=this.selection.fakeSelectionLabel||" ";const u=i.getSelection(),h=i.createRange();u.removeAllRanges(),h.selectNodeContents(s),u.addRange(h)}_updateDomSelection(e){const i=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(i))return;const s=this.domConverter.viewPositionToDom(this.selection.anchor),u=this.domConverter.viewPositionToDom(this.selection.focus);i.setBaseAndExtent(s.parent,s.offset,u.parent,u.offset),k.isGecko&&function(h,m){let b=h.parent,_=h.offset;if(tr(b)&&df(b)&&(_=bl(b)+1,b=b.parentNode),b.nodeType!=Node.ELEMENT_NODE||_!=b.childNodes.length-1)return;const S=b.childNodes[_];S&&S.tagName=="BR"&&m.addRange(m.getRangeAt(0))}(u,i)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const i=e&&this.domConverter.domSelectionToView(e);return(!i||!this.selection.isEqual(i))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(i))}_fakeSelectionNeedsUpdate(e){const i=this._fakeSelectionContainer,s=e.ownerDocument.getSelection();return!i||i.parentElement!==e||s.anchorNode!==i&&!i.contains(s.anchorNode)||i.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const i=e.getSelection();if(i.rangeCount){const s=e.activeElement,u=this.domConverter.mapDomToView(s);s&&u&&i.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function u2(l,e,i){const s=e instanceof Array?e:e.childNodes,u=s[i];if(tr(u))return u.data=dm+u.data,u;{const h=l.createTextNode(dm);return Array.isArray(e)?s.splice(i,0,h):wo(e,i,h),h}}function kj(l,e){return Qo(l)&&Qo(e)&&!tr(l)&&!tr(e)&&!$i(l)&&!$i(e)&&l.tagName.toLowerCase()===e.tagName.toLowerCase()}function wj(l,e){return Qo(l)&&Qo(e)&&tr(l)&&tr(e)}function yj(l,e,i){return e===i||(tr(e)&&tr(i)?e.data===i.data:!(!l.isBlockFiller(e)||!l.isBlockFiller(i)))}function d2(l,e){const i=l.data;if(i==e)return;const s=y(i,e);for(const u of s)u.type==="insert"?l.insertData(u.index,u.values.join("")):l.deleteData(u.index,u.howMany)}const vj=a2(f.document),_j=o2(f.document),Aj=s2(f.document),Rb="data-ck-unsafe-attribute-",h2="data-ck-unsafe-element";class Fb{constructor(e,{blockFillerMode:i,renderingMode:s="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new ro,this._inlineObjectElementMatcher=new ro,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=s,this.blockFillerMode=i||(s==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?f.document:f.document.implementation.createHTMLDocument("")}bindFakeSelection(e,i){this._fakeSelectionMapping.set(e,new qo(i))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,i){this._domToViewMapping.set(e,i),this._viewToDomMapping.set(i,e)}unbindDomElement(e){const i=this._domToViewMapping.get(e);if(i){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(i);for(const s of Array.from(e.children))this.unbindDomElement(s)}}bindDocumentFragments(e,i){this._domToViewMapping.set(e,i),this._viewToDomMapping.set(i,e)}shouldRenderAttribute(e,i,s){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!i.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(s==="img"&&(e==="src"||e==="srcset")||s==="source"&&e==="srcset"||!i.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,i){if(this.renderingMode==="data")return void(e.innerHTML=i);const s=new DOMParser().parseFromString(i,"text/html"),u=s.createDocumentFragment(),h=s.body.childNodes;for(;h.length>0;)u.appendChild(h[0]);const m=s.createTreeWalker(u,NodeFilter.SHOW_ELEMENT),b=[];let _;for(;_=m.nextNode();)b.push(_);for(const S of b){for(const O of S.getAttributeNames())this.setDomElementAttribute(S,O,S.getAttribute(O));const T=S.tagName.toLowerCase();this._shouldRenameElement(T)&&(m2(T),S.replaceWith(this._createReplacementDomElement(T,S)))}for(;e.firstChild;)e.firstChild.remove();e.append(u)}viewToDom(e,i={}){if(e.is("$text")){const s=this._processDataFromViewText(e);return this._domDocument.createTextNode(s)}{const s=e;if(this.mapViewToDom(s)){if(!s.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(s);this._elementsWithTemporaryCustomProperties.add(s)}let u;if(s.is("documentFragment"))u=this._domDocument.createDocumentFragment(),i.bind&&this.bindDocumentFragments(u,s);else{if(s.is("uiElement"))return u=s.name==="$comment"?this._domDocument.createComment(s.getCustomProperty("$rawContent")):s.render(this._domDocument,this),i.bind&&this.bindElements(u,s),u;this._shouldRenameElement(s.name)?(m2(s.name),u=this._createReplacementDomElement(s.name)):u=s.hasAttribute("xmlns")?this._domDocument.createElementNS(s.getAttribute("xmlns"),s.name):this._domDocument.createElement(s.name),s.is("rawElement")&&s.render(u,this),i.bind&&this.bindElements(u,s);for(const h of s.getAttributeKeys())this.setDomElementAttribute(u,h,s.getAttribute(h),s)}if(i.withChildren!==!1)for(const h of this.viewChildrenToDom(s,i))u instanceof HTMLTemplateElement?u.content.appendChild(h):u.appendChild(h);return u}}setDomElementAttribute(e,i,s,u){const h=this.shouldRenderAttribute(i,s,e.tagName.toLowerCase())||u&&u.shouldRenderUnsafeAttribute(i);h||j("domconverter-unsafe-attribute-detected",{domElement:e,key:i,value:s}),function(m){try{f.document.createAttribute(m)}catch{return!1}return!0}(i)?(e.hasAttribute(i)&&!h?e.removeAttribute(i):e.hasAttribute(Rb+i)&&h&&e.removeAttribute(Rb+i),e.setAttribute(h?i:Rb+i,s)):j("domconverter-invalid-attribute-detected",{domElement:e,key:i,value:s})}removeDomElementAttribute(e,i){i!=h2&&(e.removeAttribute(i),e.removeAttribute(Rb+i))}*viewChildrenToDom(e,i={}){const s=e.getFillerOffset&&e.getFillerOffset();let u=0;for(const h of e.getChildren()){s===u&&(yield this._getBlockFiller());const m=h.is("element")&&!!h.getCustomProperty("dataPipeline:transparentRendering")&&!Ii(h.getAttributes());m&&this.renderingMode=="data"?yield*this.viewChildrenToDom(h,i):(m&&j("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:h}),yield this.viewToDom(h,i)),u++}s===u&&(yield this._getBlockFiller())}viewRangeToDom(e){const i=this.viewPositionToDom(e.start),s=this.viewPositionToDom(e.end),u=this._domDocument.createRange();return u.setStart(i.parent,i.offset),u.setEnd(s.parent,s.offset),u}viewPositionToDom(e){const i=e.parent;if(i.is("$text")){const s=this.findCorrespondingDomText(i);if(!s)return null;let u=e.offset;return Es(s)&&(u+=za),{parent:s,offset:u}}{let s,u,h;if(e.offset===0){if(s=this.mapViewToDom(i),!s)return null;h=s.childNodes[0]}else{const m=e.nodeBefore;if(u=m.is("$text")?this.findCorrespondingDomText(m):this.mapViewToDom(m),!u)return null;s=u.parentNode,h=u.nextSibling}return tr(h)&&Es(h)?{parent:h,offset:za}:{parent:s,offset:u?bl(u)+1:0}}}domToView(e,i={}){const s=[],u=this._domToView(e,i,s),h=u.next().value;return h?(u.next(),this._processDomInlineNodes(null,s,i),h.is("$text")&&h.data.length==0?null:h):null}*domChildrenToView(e,i={},s=[]){let u=[];u=e instanceof HTMLTemplateElement?[...e.content.childNodes]:[...e.childNodes];for(let h=0;h<u.length;h++){const m=u[h],b=this._domToView(m,i,s),_=b.next().value;_!==null&&(this._isBlockViewElement(_)&&this._processDomInlineNodes(e,s,i),yield _,b.next())}this._processDomInlineNodes(e,s,i)}domSelectionToView(e){if(function(u){if(!k.isGecko||!u.rangeCount)return!1;const h=u.getRangeAt(0).startContainer;try{Object.prototype.toString.call(h)}catch{return!0}return!1}(e))return new qo([]);if(e.rangeCount===1){let u=e.getRangeAt(0).startContainer;tr(u)&&(u=u.parentNode);const h=this.fakeSelectionToView(u);if(h)return h}const i=this.isDomSelectionBackward(e),s=[];for(let u=0;u<e.rangeCount;u++){const h=e.getRangeAt(u),m=this.domRangeToView(h);m&&s.push(m)}return new qo(s,{backward:i})}domRangeToView(e){const i=this.domPositionToView(e.startContainer,e.startOffset),s=this.domPositionToView(e.endContainer,e.endOffset);return i&&s?new Gt(i,s):null}domPositionToView(e,i=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,bl(e));const s=this.mapDomToView(e);if(s&&(s.is("uiElement")||s.is("rawElement")))return Dt._createBefore(s);if(tr(e)){if(df(e))return this.domPositionToView(e.parentNode,bl(e));const u=this.findCorrespondingViewText(e);let h=i;return u?(Es(e)&&(h-=za,h=h<0?0:h),new Dt(u,h)):null}if(i===0){const u=this.mapDomToView(e);if(u)return new Dt(u,0)}else{const u=e.childNodes[i-1];if(tr(u)&&df(u)||u&&this.isBlockFiller(u))return this.domPositionToView(u.parentNode,bl(u));const h=tr(u)?this.findCorrespondingViewText(u):this.mapDomToView(u);if(h&&h.parent)return new Dt(h.parent,h.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(df(e))return null;const i=this.getHostViewElement(e);if(i)return i;const s=e.previousSibling;if(s){if(!this.isElement(s))return null;const u=this.mapDomToView(s);if(u){const h=u.nextSibling;return h instanceof xn?h:null}}else{const u=this.mapDomToView(e.parentNode);if(u){const h=u.getChild(0);return h instanceof xn?h:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const i=e.previousSibling;return i&&this.mapViewToDom(i)?this.mapViewToDom(i).nextSibling:!i&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const i=this.mapViewToDom(e);if(i&&i.ownerDocument.activeElement!==i){const{scrollX:s,scrollY:u}=f.window,h=[];f2(i,m=>{const{scrollLeft:b,scrollTop:_}=m;h.push([b,_])}),i.focus(),f2(i,m=>{const[b,_]=h.shift();m.scrollLeft=b,m.scrollTop=_}),f.window.scrollTo(s,u)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const i=e.ownerDocument.defaultView.getSelection(),s=this.domSelectionToView(i);s&&s.rangeCount>0&&i.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(vj):!(e.tagName!=="BR"||!p2(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(Aj)||function(i,s){return i.isEqualNode(_j)&&p2(i,s)&&i.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const i=this._domDocument.createRange();try{i.setStart(e.anchorNode,e.anchorOffset),i.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const s=i.collapsed;return i.detach(),s}getHostViewElement(e){const i=function(s){const u=[];let h=s;for(;h&&h.nodeType!=Node.DOCUMENT_NODE;)u.unshift(h),h=h.parentNode;return u}(e);for(i.pop();i.length;){const s=i.pop(),u=this._domToViewMapping.get(s);if(u&&(u.is("uiElement")||u.is("rawElement")))return u}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return o2(this._domDocument);case"markedNbsp":return s2(this._domDocument);case"br":return a2(this._domDocument)}}_isDomSelectionPositionCorrect(e,i){if(tr(e)&&Es(e)&&i<za||this.isElement(e)&&Es(e.childNodes[i]))return!1;const s=this.mapDomToView(e);return!s||!s.is("uiElement")&&!s.is("rawElement")}*_domToView(e,i,s){if(this.isBlockFiller(e))return null;const u=this.getHostViewElement(e);if(u)return u;if($i(e)&&i.skipComments)return null;if(tr(e)){if(df(e))return null;{const h=e.data;if(h==="")return null;const m=new xn(this.document,h);return s.push(m),m}}{let h=this.mapDomToView(e);if(h)return this._isInlineObjectElement(h)&&s.push(h),h;if(this.isDocumentFragment(e))h=new jd(this.document),i.bind&&this.bindDocumentFragments(e,h);else{h=this._createViewElement(e,i),i.bind&&this.bindElements(e,h);const b=e.attributes;if(b)for(let _=b.length,S=0;S<_;S++)h._setAttribute(b[S].name,b[S].value);if(this._isViewElementWithRawContent(h,i))return h._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(h)||s.push(h),h;if($i(e))return h._setCustomProperty("$rawContent",e.data),h}yield h;const m=[];if(i.withChildren!==!1)for(const b of this.domChildrenToView(e,i,m))h._appendChild(b);if(this._isInlineObjectElement(h))s.push(h);else for(const b of m)s.push(b)}}_processDomInlineNodes(e,i,s){if(!i.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let u=!1;for(let h=0;h<i.length;h++){const m=i[h];if(!m.is("$text")){u=!1;continue}let b,_=!1;if(Cj(m,this.preElements))b=l2(m.data);else{b=m.data.replace(/[ \n\t\r]{1,}/g," "),_=/[^\S\u00A0]/.test(b.charAt(b.length-1));const S=h>0?i[h-1]:null,T=h+1<i.length?i[h+1]:null,O=!S||S.is("element")&&S.name=="br"||u,U=!T&&!Es(m.data);s.withChildren!==!1&&(O&&(b=b.replace(/^ /,"")),U&&(b=b.replace(/ $/,""))),b=l2(b),b=b.replace(/ \u00A0/g,"  ");const G=T&&T.is("element")&&T.name!="br",ee=T&&T.is("$text")&&T.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(b)||!T||G||ee)&&(b=b.replace(/\u00A0$/," ")),(O||S&&S.is("element")&&S.name!="br")&&(b=b.replace(/^\u00A0/," "))}b.length==0&&m.parent?(m._remove(),i.splice(h,1),h--):(m._data=b,u=_)}i.length=0}_processDataFromViewText(e){let i=e.data;if(e.getAncestors().some(s=>this.preElements.includes(s.name)))return i;if(i.charAt(0)==" "){const s=this._getTouchingInlineViewNode(e,!1);!(s&&s.is("$textProxy")&&this._nodeEndsWithSpace(s))&&s||(i=" "+i.substr(1))}if(i.charAt(i.length-1)==" "){const s=this._getTouchingInlineViewNode(e,!0),u=s&&s.is("$textProxy")&&s.data.charAt(0)==" ";i.charAt(i.length-2)!=" "&&s&&!u||(i=i.substr(0,i.length-1)+" ")}return i.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(s=>this.preElements.includes(s.name)))return!1;const i=this._processDataFromViewText(e);return i.charAt(i.length-1)==" "}_getTouchingInlineViewNode(e,i){const s=new io({startPosition:i?Dt._createAfter(e):Dt._createBefore(e),direction:i?"forward":"backward"});for(const u of s){if(u.item.is("element","br"))return null;if(this._isInlineObjectElement(u.item))return u.item;if(u.item.is("containerElement"))return null;if(u.item.is("$textProxy"))return u.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,i){if($i(e))return new jb(this.document,"$comment");const s=i.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new yo(this.document,s)}_isViewElementWithRawContent(e,i){return i.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const i=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(i)}_createReplacementDomElement(e,i){const s=this._domDocument.createElement("span");if(s.setAttribute(h2,e),i){for(;i.firstChild;)s.appendChild(i.firstChild);for(const u of i.getAttributeNames())s.setAttribute(u,i.getAttribute(u))}return s}}function Cj(l,e){return l.getAncestors().some(i=>i.is("element")&&e.includes(i.name))}function f2(l,e){let i=l;for(;i;)e(i),i=i.parentElement}function p2(l,e){const i=l.parentNode;return!!i&&!!i.tagName&&e.includes(i.tagName.toLowerCase())}function m2(l){l==="script"&&j("domconverter-unsafe-script-element-detected"),l==="style"&&j("domconverter-unsafe-style-element-detected")}class Sl extends mi(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const g2=Dd(function(l,e){Pa(e,Xs(e),l)});class hf{constructor(e,i,s){this.view=e,this.document=e.document,this.domEvent=i,this.domTarget=i.target,g2(this,s)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Au extends Sl{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(i=>{this.listenTo(e,i,(s,u)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(u.target)&&this.onDomEvent(u)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,i,s){this.isEnabled&&this.document.fire(e,new hf(this.view,i,s))}}class xj extends Au{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const i={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return kl(this)}};this.fire(e.type,e,i)}}const $w=function(){return Xe.Date.now()};var Sj=/\s/;const Ej=function(l){for(var e=l.length;e--&&Sj.test(l.charAt(e)););return e};var Dj=/^\s+/;const Ij=function(l){return l&&l.slice(0,Ej(l)+1).replace(Dj,"")};var Tj=/^[-+]0x[0-9a-f]+$/i,Nj=/^0b[01]+$/i,Mj=/^0o[0-7]+$/i,Pj=parseInt;const b2=function(l){if(typeof l=="number")return l;if(Nd(l))return NaN;if(we(l)){var e=typeof l.valueOf=="function"?l.valueOf():l;l=we(e)?e+"":e}if(typeof l!="string")return l===0?l:+l;l=Ij(l);var i=Nj.test(l);return i||Mj.test(l)?Pj(l.slice(2),i?2:8):Tj.test(l)?NaN:+l};var Oj=Math.max,Lj=Math.min;const ff=function(l,e,i){var s,u,h,m,b,_,S=0,T=!1,O=!1,U=!0;if(typeof l!="function")throw new TypeError("Expected a function");function G(Le){var et=s,ft=u;return s=u=void 0,S=Le,m=l.apply(ft,et)}function ee(Le){var et=Le-_;return _===void 0||et>=e||et<0||O&&Le-S>=h}function ie(){var Le=$w();if(ee(Le))return be(Le);b=setTimeout(ie,function(et){var ft=e-(et-_);return O?Lj(ft,h-(et-S)):ft}(Le))}function be(Le){return b=void 0,U&&s?G(Le):(s=u=void 0,m)}function Se(){var Le=$w(),et=ee(Le);if(s=arguments,u=this,_=Le,et){if(b===void 0)return function(ft){return S=ft,b=setTimeout(ie,e),T?G(ft):m}(_);if(O)return clearTimeout(b),b=setTimeout(ie,e),G(_)}return b===void 0&&(b=setTimeout(ie,e)),m}return e=b2(e)||0,we(i)&&(T=!!i.leading,h=(O="maxWait"in i)?Oj(b2(i.maxWait)||0,e):h,U="trailing"in i?!!i.trailing:U),Se.cancel=function(){b!==void 0&&clearTimeout(b),S=0,s=_=u=b=void 0},Se.flush=function(){return b===void 0?m:be($w())},Se};class Bj extends Sl{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=ff(i=>{this.document.fire("selectionChangeDone",i)},200)}observe(){const e=this.document;e.on("arrowKey",(i,s)=>{e.selection.isFake&&this.isEnabled&&s.preventDefault()},{context:"$capture"}),e.on("arrowKey",(i,s)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(s.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const i=this.document.selection,s=new qo(i.getRanges(),{backward:i.isBackward,fake:!1});e!=Mn.arrowleft&&e!=Mn.arrowup||s.setTo(s.getFirstPosition()),e!=Mn.arrowright&&e!=Mn.arrowdown||s.setTo(s.getLastPosition());const u={oldSelection:i,newSelection:s,domSelection:null};this.document.fire("selectionChange",u),this._fireSelectionChangeDoneDebounced(u)}}const jj=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this},Rj=function(l){return this.__data__.has(l)};function zb(l){var e=-1,i=l==null?0:l.length;for(this.__data__=new ic;++e<i;)this.add(l[e])}zb.prototype.add=zb.prototype.push=jj,zb.prototype.has=Rj;const Fj=zb,zj=function(l,e){for(var i=-1,s=l==null?0:l.length;++i<s;)if(e(l[i],i,l))return!0;return!1},Uj=function(l,e){return l.has(e)},k2=function(l,e,i,s,u,h){var m=1&i,b=l.length,_=e.length;if(b!=_&&!(m&&_>b))return!1;var S=h.get(l),T=h.get(e);if(S&&T)return S==e&&T==l;var O=-1,U=!0,G=2&i?new Fj:void 0;for(h.set(l,e),h.set(e,l);++O<b;){var ee=l[O],ie=e[O];if(s)var be=m?s(ie,ee,O,e,l,h):s(ee,ie,O,l,e,h);if(be!==void 0){if(be)continue;U=!1;break}if(G){if(!zj(e,function(Se,Le){if(!Uj(G,Le)&&(ee===Se||u(ee,Se,i,s,h)))return G.push(Le)})){U=!1;break}}else if(ee!==ie&&!u(ee,ie,i,s,h)){U=!1;break}}return h.delete(l),h.delete(e),U},qj=function(l){var e=-1,i=Array(l.size);return l.forEach(function(s,u){i[++e]=[u,s]}),i},Vj=function(l){var e=-1,i=Array(l.size);return l.forEach(function(s){i[++e]=s}),i};var w2=dt?dt.prototype:void 0,Ww=w2?w2.valueOf:void 0;const Hj=function(l,e,i,s,u,h,m){switch(i){case"[object DataView]":if(l.byteLength!=e.byteLength||l.byteOffset!=e.byteOffset)return!1;l=l.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(l.byteLength!=e.byteLength||!h(new La(l),new La(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ei(+l,+e);case"[object Error]":return l.name==e.name&&l.message==e.message;case"[object RegExp]":case"[object String]":return l==e+"";case"[object Map]":var b=qj;case"[object Set]":var _=1&s;if(b||(b=Vj),l.size!=e.size&&!_)return!1;var S=m.get(l);if(S)return S==e;s|=2,m.set(l,e);var T=k2(b(l),b(e),s,u,h,m);return m.delete(l),T;case"[object Symbol]":if(Ww)return Ww.call(l)==Ww.call(e)}return!1};var $j=Object.prototype.hasOwnProperty;const Wj=function(l,e,i,s,u,h){var m=1&i,b=_t(l),_=b.length;if(_!=_t(e).length&&!m)return!1;for(var S=_;S--;){var T=b[S];if(!(m?T in e:$j.call(e,T)))return!1}var O=h.get(l),U=h.get(e);if(O&&U)return O==e&&U==l;var G=!0;h.set(l,e),h.set(e,l);for(var ee=m;++S<_;){var ie=l[T=b[S]],be=e[T];if(s)var Se=m?s(be,ie,T,e,l,h):s(ie,be,T,l,e,h);if(!(Se===void 0?ie===be||u(ie,be,i,s,h):Se)){G=!1;break}ee||(ee=T=="constructor")}if(G&&!ee){var Le=l.constructor,et=e.constructor;Le==et||!("constructor"in l)||!("constructor"in e)||typeof Le=="function"&&Le instanceof Le&&typeof et=="function"&&et instanceof et||(G=!1)}return h.delete(l),h.delete(e),G};var y2="[object Arguments]",v2="[object Array]",Ub="[object Object]",_2=Object.prototype.hasOwnProperty;const Gj=function(l,e,i,s,u,h){var m=zt(l),b=zt(e),_=m?v2:ta(l),S=b?v2:ta(e),T=(_=_==y2?Ub:_)==Ub,O=(S=S==y2?Ub:S)==Ub,U=_==S;if(U&&Oa(l)){if(!Oa(e))return!1;m=!0,T=!1}if(U&&!T)return h||(h=new al),m||ru(l)?k2(l,e,i,s,u,h):Hj(l,e,_,i,s,u,h);if(!(1&i)){var G=T&&_2.call(l,"__wrapped__"),ee=O&&_2.call(e,"__wrapped__");if(G||ee){var ie=G?l.value():l,be=ee?e.value():e;return h||(h=new al),u(ie,be,i,s,h)}}return!!U&&(h||(h=new al),Wj(l,e,i,s,u,h))},qb=function l(e,i,s,u,h){return e===i||(e==null||i==null||!Yt(e)&&!Yt(i)?e!=e&&i!=i:Gj(e,i,s,u,l,h))},Yj=function(l,e,i){var s=(i=typeof i=="function"?i:void 0)?i(l,e):void 0;return s===void 0?qb(l,e,void 0,i):!!s};class A2 extends Sl{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const i of this._domElements)this._mutationObserver.observe(i,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const i=this.domConverter,s=new Set,u=new Set;for(const m of e){const b=i.mapDomToView(m.target);b&&(b.is("uiElement")||b.is("rawElement")||m.type!=="childList"||this._isBogusBrMutation(m)||u.add(b))}for(const m of e){const b=i.mapDomToView(m.target);if((!b||!b.is("uiElement")&&!b.is("rawElement"))&&m.type==="characterData"){const _=i.findCorrespondingViewText(m.target);_&&!u.has(_.parent)?s.add(_):!_&&Es(m.target)&&u.add(i.mapDomToView(m.target.parentNode))}}let h=!1;for(const m of s)h=!0,this.renderer.markToSync("text",m);for(const m of u){const b=i.mapViewToDom(m),_=Array.from(m.getChildren()),S=Array.from(i.domChildrenToView(b,{withChildren:!1}));Yj(_,S,Kj)||(h=!0,this.renderer.markToSync("children",m))}h&&this.view.forceRender()}_isBogusBrMutation(e){let i=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(i=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),i&&i.is("element","br")}}function Kj(l,e){if(!Array.isArray(l))return l===e||!(!l.is("$text")||!e.is("$text"))&&l.data===e.data}class Vb extends Au{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const i=this.document;i.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),i.on("blur",(s,u)=>{const h=i.selection.editableElement;h!==null&&h!==u.target||(i.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Qj extends Sl{constructor(e){super(e),this.mutationObserver=e.getObserver(A2),this.focusObserver=e.getObserver(Vb),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=ff(i=>{this.document.fire("selectionChangeDone",i)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=ff(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const i=e.ownerDocument,s=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,i),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",s,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",s,{priority:"highest",useCapture:!0}),this._documents.has(i)||(this.listenTo(i,"mouseup",s,{priority:"highest",useCapture:!0}),this.listenTo(i,"selectionchange",(u,h)=>{this.document.isComposing&&!k.isAndroid||(this._handleSelectionChange(h,i),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(i))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,i){if(!this.isEnabled)return;const s=i.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(s.anchorNode))return;this.mutationObserver.flush();const u=this.domConverter.domSelectionToView(s);if(u.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(u)||!this.domConverter.isDomSelectionCorrect(s))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(u))this.view.forceRender();else{const h={oldSelection:this.selection,newSelection:u,domSelection:s};this.document.fire("selectionChange",h),this._fireSelectionChangeDoneDebounced(h)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Jj extends Au{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const i=this.document;i.on("compositionstart",()=>{i.isComposing=!0},{priority:"low"}),i.on("compositionend",()=>{i.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class C2{constructor(e,i={}){this._files=i.cacheFiles?x2(e):null,this._native=e}get files(){return this._files||(this._files=x2(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,i){this._native.setData(e,i)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,i,s){this._native.setDragImage(e,i,s)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function x2(l){const e=Array.from(l.files||[]),i=Array.from(l.items||[]);return e.length?e:i.filter(s=>s.kind==="file").map(s=>s.getAsFile())}class Zj extends Au{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const i=e.getTargetRanges(),s=this.view,u=s.document;let h=null,m=null,b=[];if(e.dataTransfer&&(h=new C2(e.dataTransfer)),e.data!==null?m=e.data:h&&(m=h.getData("text/plain")),u.selection.isFake)b=Array.from(u.selection.getRanges());else if(i.length)b=i.map(_=>{const S=s.domConverter.domPositionToView(_.startContainer,_.startOffset),T=s.domConverter.domPositionToView(_.endContainer,_.endOffset);return S?s.createRange(S,T):T?s.createRange(T):void 0}).filter(_=>!!_);else if(k.isAndroid){const _=e.target.ownerDocument.defaultView.getSelection();b=Array.from(s.domConverter.domSelectionToView(_).getRanges())}if(k.isAndroid&&e.inputType=="insertCompositionText"&&m&&m.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[s.createRange(b[0].end)]});else if(e.inputType=="insertText"&&m&&m.includes(`
`)){const _=m.split(/\n{1,2}/g);let S=b;for(let T=0;T<_.length;T++){const O=_[T];O!=""&&(this.fire(e.type,e,{data:O,dataTransfer:h,targetRanges:S,inputType:e.inputType,isComposing:e.isComposing}),S=[u.selection.getFirstRange()]),T+1<_.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:S}),S=[u.selection.getFirstRange()])}}else this.fire(e.type,e,{data:m,dataTransfer:h,targetRanges:b,inputType:e.inputType,isComposing:e.isComposing})}}class Xj extends Sl{constructor(e){super(e),this.document.on("keydown",(i,s)=>{if(this.isEnabled&&((u=s.keyCode)==Mn.arrowright||u==Mn.arrowleft||u==Mn.arrowup||u==Mn.arrowdown)){const h=new _u(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(h,s),h.stop.called&&i.stop()}var u})}observe(){}stopObserving(){}}class eR extends Sl{constructor(e){super(e);const i=this.document;i.on("keydown",(s,u)=>{if(!this.isEnabled||u.keyCode!=Mn.tab||u.ctrlKey)return;const h=new _u(i,"tab",i.selection.getFirstRange());i.fire(h,u),h.stop.called&&s.stop()})}observe(){}stopObserving(){}}const Ua=function(l){return Dr(l,5)};class tR extends ze(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Bb(e),this.domConverter=new Fb(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new bj(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new e2(this.document),this.addObserver(A2),this.addObserver(Vb),this.addObserver(Qj),this.addObserver(xj),this.addObserver(Bj),this.addObserver(Jj),this.addObserver(Xj),this.addObserver(Zj),this.addObserver(eR),this.document.on("arrowKey",mj,{priority:"low"}),uj(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),k.isiOS&&this.listenTo(this.document,"blur",(i,s)=>{this.domConverter.mapDomToView(s.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,i="main"){const s=this.document.getRoot(i);s._name=e.tagName.toLowerCase();const u={};for(const{name:m,value:b}of Array.from(e.attributes))u[m]=b,m==="class"?this._writer.addClass(b.split(" "),s):this._writer.setAttribute(m,b,s);this._initialDomRootAttributes.set(e,u);const h=()=>{this._writer.setAttribute("contenteditable",(!s.isReadOnly).toString(),s),s.isReadOnly?this._writer.addClass("ck-read-only",s):this._writer.removeClass("ck-read-only",s)};h(),this.domRoots.set(i,e),this.domConverter.bindElements(e,s),this._renderer.markToSync("children",s),this._renderer.markToSync("attributes",s),this._renderer.domDocuments.add(e.ownerDocument),s.on("change:children",(m,b)=>this._renderer.markToSync("children",b)),s.on("change:attributes",(m,b)=>this._renderer.markToSync("attributes",b)),s.on("change:text",(m,b)=>this._renderer.markToSync("text",b)),s.on("change:isReadOnly",()=>this.change(h)),s.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const m of this._observers.values())m.observe(e,i)}detachDomRoot(e){const i=this.domRoots.get(e);Array.from(i.attributes).forEach(({name:u})=>i.removeAttribute(u));const s=this._initialDomRootAttributes.get(i);for(const u in s)i.setAttribute(u,s[u]);this.domRoots.delete(e),this.domConverter.unbindDomElement(i);for(const u of this._observers.values())u.stopObserving(i)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let i=this._observers.get(e);if(i)return i;i=new e(this),this._observers.set(e,i);for(const[s,u]of this.domRoots)i.observe(u,s);return i.enable(),i}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:i,viewportOffset:s=20,ancestorOffset:u=20}={}){const h=this.document.selection.getFirstRange();if(!h)return;const m=Ua({alignToTop:e,forceScroll:i,viewportOffset:s,ancestorOffset:u});typeof s=="number"&&(s={top:s,bottom:s,left:s,right:s});const b={target:this.domConverter.viewRangeToDom(h),viewportOffset:s,ancestorOffset:u,alignToTop:e,forceScroll:i};this.fire("scrollToTheSelection",b,m),function({target:_,viewportOffset:S=0,ancestorOffset:T=0,alignToTop:O,forceScroll:U}){const G=Yp(_);let ee=G,ie=null;for(S=function(be){return typeof be=="number"?{top:be,bottom:be,left:be,right:be}:be}(S);ee;){let be;be=gb(ee==G?_:ie),Gp({parent:be,getRect:()=>bb(_,ee),alignToTop:O,ancestorOffset:T,forceScroll:U});const Se=bb(_,ee);if(pb({window:ee,rect:Se,viewportOffset:S,alignToTop:O,forceScroll:U}),ee.parent!=ee){if(ie=ee.frameElement,ee=ee.parent,!ie)return}else ee=null}}(b)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new N("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const i=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),i}catch(i){N.rethrowUnexpectedError(i,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Vb).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,i){return Dt._createAt(e,i)}createPositionAfter(e){return Dt._createAfter(e)}createPositionBefore(e){return Dt._createBefore(e)}createRange(e,i){return new Gt(e,i)}createRangeOn(e){return Gt._createOn(e)}createRangeIn(e){return Gt._createIn(e)}createSelection(...e){return new qo(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Cu{is(){throw new Error("is() method is abstract")}}class Rd extends Cu{constructor(e){super(),this.parent=null,this._attrs=la(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new N("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new N("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.startOffset),i=i.parent;return e}getAncestors(e={}){const i=[];let s=e.includeSelf?this:this.parent;for(;s;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}getCommonAncestor(e,i={}){const s=this.getAncestors(i),u=e.getAncestors(i);let h=0;for(;s[h]==u[h]&&s[h];)h++;return h===0?null:s[h-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),s=e.getPath(),u=Ie(i,s);switch(u){case"prefix":return!0;case"extension":return!1;default:return i[u]<s[u]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((i,s)=>(i[s[0]]=s[1],i),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,i){this._attrs.set(e,i)}_setAttributesTo(e){this._attrs=la(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Rd.prototype.is=function(l){return l==="node"||l==="model:node"};class hm{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,i)=>e+i.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const i=this._nodes.indexOf(e);return i==-1?null:i}getNodeStartOffset(e){const i=this.getNodeIndex(e);return i===null?null:this._nodes.slice(0,i).reduce((s,u)=>s+u.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const i=this._nodes[e];if(!i)throw new N("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(i)}offsetToIndex(e){let i=0;for(const s of this._nodes){if(e>=i&&e<i+s.offsetSize)return this.getNodeIndex(s);i+=s.offsetSize}if(i!=e)throw new N("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,i){for(const s of i)if(!(s instanceof Rd))throw new N("model-nodelist-insertnodes-not-node",this);this._nodes=function(s,u,h,m){if(Math.max(u.length,s.length)>1e4)return s.slice(0,h).concat(u).concat(s.slice(h+m,s.length));{const b=Array.from(s);return b.splice(h,m,...u),b}}(this._nodes,Array.from(i),e,0)}_removeNodes(e,i=1){return this._nodes.splice(e,i)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class fr extends Rd{constructor(e,i){super(i),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new fr(this.data,this.getAttributes())}static fromJSON(e){return new fr(e.data,e.attributes)}}fr.prototype.is=function(l){return l==="$text"||l==="model:$text"||l==="text"||l==="model:text"||l==="node"||l==="model:node"};class qa extends Cu{constructor(e,i,s){if(super(),this.textNode=e,i<0||i>e.offsetSize)throw new N("model-textproxy-wrong-offsetintext",this);if(s<0||i+s>e.offsetSize)throw new N("model-textproxy-wrong-length",this);this.data=e.data.substring(i,i+s),this.offsetInText=i}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const i=[];let s=e.includeSelf?this:this.parent;for(;s;)i[e.parentFirst?"push":"unshift"](s),s=s.parent;return i}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}qa.prototype.is=function(l){return l==="$textProxy"||l==="model:$textProxy"||l==="textProxy"||l==="model:textProxy"};class ar extends Rd{constructor(e,i,s){super(i),this._children=new hm,this.name=e,s&&this._insertChild(0,s)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let i=this;for(const s of e)i=i.getChild(i.offsetToIndex(s));return i}findAncestor(e,i={}){let s=i.includeSelf?this:this.parent;for(;s;){if(s.name===e)return s;s=s.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const i of this._children)e.children.push(i.toJSON())}return e}_clone(e=!1){const i=e?Array.from(this._children).map(s=>s._clone(!0)):void 0;return new ar(this.name,this.getAttributes(),i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const s=function(u){return typeof u=="string"?[new fr(u)]:(Ae(u)||(u=[u]),Array.from(u).map(h=>typeof h=="string"?new fr(h):h instanceof qa?new fr(h.data,h.getAttributes()):h))}(i);for(const u of s)u.parent!==null&&u._remove(),u.parent=this;this._children._insertNodes(e,s)}_removeChildren(e,i=1){const s=this._children._removeNodes(e,i);for(const u of s)u.parent=null;return s}static fromJSON(e){let i;if(e.children){i=[];for(const s of e.children)s.name?i.push(ar.fromJSON(s)):i.push(fr.fromJSON(s))}return new ar(e.name,e.attributes,i)}}ar.prototype.is=function(l,e){return e?e===this.name&&(l==="element"||l==="model:element"):l==="element"||l==="model:element"||l==="node"||l==="model:node"};class yc{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new N("model-tree-walker-no-start-position",null);const i=e.direction||"forward";if(i!="forward"&&i!="backward")throw new N("model-tree-walker-unknown-direction",e,{direction:i});this.direction=i,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=yt._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let i,s,u,h;do u=this.position,h=this._visitedParent,{done:i,value:s}=this.next();while(!i&&e(s));i||(this._position=u,this._visitedParent=h)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,i=this.position.clone(),s=this._visitedParent;if(s.parent===null&&i.offset===s.maxOffset)return{done:!0,value:void 0};if(s===this._boundaryEndParent&&i.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const u=fm(i,s),h=u||S2(i,s,u);if(h instanceof ar){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(i))return{done:!0,value:void 0};i.offset++}else i.path.push(0),this._visitedParent=h;return this._position=i,Fd("elementStart",h,e,i,1)}if(h instanceof fr){let m;if(this.singleCharacters)m=1;else{let S=h.endOffset;this._boundaryEndParent==s&&this.boundaries.end.offset<S&&(S=this.boundaries.end.offset),m=S-i.offset}const b=i.offset-h.startOffset,_=new qa(h,b,m);return i.offset+=m,this._position=i,Fd("text",_,e,i,m)}return i.path.pop(),i.offset++,this._position=i,this._visitedParent=s.parent,this.ignoreElementEnd?this._next():Fd("elementEnd",s,e,i)}_previous(){const e=this.position,i=this.position.clone(),s=this._visitedParent;if(s.parent===null&&i.offset===0)return{done:!0,value:void 0};if(s==this._boundaryStartParent&&i.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const u=i.parent,h=fm(i,u),m=h||E2(i,u,h);if(m instanceof ar)return i.offset--,this.shallow?(this._position=i,Fd("elementStart",m,e,i,1)):(i.path.push(m.maxOffset),this._position=i,this._visitedParent=m,this.ignoreElementEnd?this._previous():Fd("elementEnd",m,e,i));if(m instanceof fr){let b;if(this.singleCharacters)b=1;else{let T=m.startOffset;this._boundaryStartParent==s&&this.boundaries.start.offset>T&&(T=this.boundaries.start.offset),b=i.offset-T}const _=i.offset-m.startOffset,S=new qa(m,_-b,b);return i.offset-=b,this._position=i,Fd("text",S,e,i,b)}return i.path.pop(),this._position=i,this._visitedParent=s.parent,Fd("elementStart",s,e,i,1)}}function Fd(l,e,i,s,u){return{done:!1,value:{type:l,item:e,previousPosition:i,nextPosition:s,length:u}}}class yt extends Cu{constructor(e,i,s="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new N("model-position-root-invalid",e);if(!(i instanceof Array)||i.length===0)throw new N("model-position-path-incorrect-format",e,{path:i});e.is("rootElement")?i=i.slice():(i=[...e.getPath(),...i],e=e.root),this.root=e,this.path=i,this.stickiness=s}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let i=0;i<this.path.length-1;i++)if(e=e.getChild(e.offsetToIndex(this.path[i])),!e)throw new N("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new N("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return fm(this,this.parent)}get nodeAfter(){const e=this.parent;return S2(this,e,fm(this,e))}get nodeBefore(){const e=this.parent;return E2(this,e,fm(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const i=Ie(this.path,e.path);switch(i){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[i]<e.path[i]?"before":"after"}}getLastMatchingPosition(e,i={}){i.startPosition=this;const s=new yc(i);return s.skip(e),s.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const i=this.parent;return i.is("element")?i.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const i=Ie(this.path,e.path),s=typeof i=="string"?Math.min(this.path.length,e.path.length):i;return this.path.slice(0,s)}getCommonAncestor(e){const i=this.getAncestors(),s=e.getAncestors();let u=0;for(;i[u]==s[u]&&i[u];)u++;return u===0?null:i[u-1]}getShiftedBy(e){const i=this.clone(),s=i.offset+e;return i.offset=s<0?0:s,i}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const i=Math.min(this.path.length,e.path.length);for(let s=0;s<i;s++){const u=this.path[s]-e.path[s];if(u<-1||u>1)return!1;if(u===1)return D2(e,this,s);if(u===-1)return D2(this,e,s)}return this.path.length===e.path.length||(this.path.length>e.path.length?Gw(this.path,i):Gw(e.path,i))}hasSameParentAs(e){return this.root!==e.root?!1:Ie(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let i;switch(e.type){case"insert":i=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":i=this._getTransformedByMoveOperation(e);break;case"split":i=this._getTransformedBySplitOperation(e);break;case"merge":i=this._getTransformedByMergeOperation(e);break;default:i=yt._createAt(this)}return i}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const i=e.movedRange;return i.containsPosition(this)||i.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const i=e.movedRange;let s;return i.containsPosition(this)||i.start.isEqual(this)?(s=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(s=s._getTransformedByDeletion(e.deletionPosition,1))):s=this.isEqual(e.deletionPosition)?yt._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),s}_getTransformedByDeletion(e,i){const s=yt._createAt(this);if(this.root!=e.root)return s;if(Ie(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+i>this.offset)return null;s.offset-=i}}else if(Ie(e.getParentPath(),this.getParentPath())=="prefix"){const u=e.path.length-1;if(e.offset<=this.path[u]){if(e.offset+i>this.path[u])return null;s.path[u]-=i}}return s}_getTransformedByInsertion(e,i){const s=yt._createAt(this);if(this.root!=e.root)return s;if(Ie(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(s.offset+=i);else if(Ie(e.getParentPath(),this.getParentPath())=="prefix"){const u=e.path.length-1;e.offset<=this.path[u]&&(s.path[u]+=i)}return s}_getTransformedByMove(e,i,s){if(i=i._getTransformedByDeletion(e,s),e.isEqual(i))return yt._createAt(this);const u=this._getTransformedByDeletion(e,s);return u===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(s).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,i):u._getTransformedByInsertion(i,s)}_getCombined(e,i){const s=e.path.length-1,u=yt._createAt(i);return u.stickiness=this.stickiness,u.offset=u.offset+this.path[s]-e.offset,u.path=[...u.path,...this.path.slice(s+1)],u}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,i,s="toNone"){if(e instanceof yt)return new yt(e.root,e.path,e.stickiness);{const u=e;if(i=="end")i=u.maxOffset;else{if(i=="before")return this._createBefore(u,s);if(i=="after")return this._createAfter(u,s);if(i!==0&&!i)throw new N("model-createpositionat-offset-required",[this,e])}if(!u.is("element")&&!u.is("documentFragment"))throw new N("model-position-parent-incorrect",[this,e]);const h=u.getPath();return h.push(i),new this(u.root,h,s)}}static _createAfter(e,i){if(!e.parent)throw new N("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,i)}static _createBefore(e,i){if(!e.parent)throw new N("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,i)}static fromJSON(e,i){if(e.root==="$graveyard"){const s=new yt(i.graveyard,e.path);return s.stickiness=e.stickiness,s}if(!i.getRoot(e.root))throw new N("model-position-fromjson-no-root",i,{rootName:e.root});return new yt(i.getRoot(e.root),e.path,e.stickiness)}}function fm(l,e){const i=e.getChild(e.offsetToIndex(l.offset));return i&&i.is("$text")&&i.startOffset<l.offset?i:null}function S2(l,e,i){return i!==null?null:e.getChild(e.offsetToIndex(l.offset))}function E2(l,e,i){return i!==null?null:e.getChild(e.offsetToIndex(l.offset)-1)}function D2(l,e,i){return i+1!==l.path.length&&!!Gw(e.path,i+1)&&!!function(s,u){let h=s.parent,m=s.path.length-1,b=0;for(;m>=u;){if(s.path[m]+b!==h.maxOffset)return!1;b=1,m--,h=h.parent}return!0}(l,i+1)}function Gw(l,e){for(;e<l.length;){if(l[e]!==0)return!1;e++}return!0}yt.prototype.is=function(l){return l==="position"||l==="model:position"};class it extends Cu{constructor(e,i){super(),this.start=yt._createAt(e),this.end=i?yt._createAt(i):yt._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new yc({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return Ie(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const s=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),u=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return s&&u}containsItem(e){const i=yt._createBefore(e);return this.containsPosition(i)||this.start.isEqual(i)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new it(this.start,e.start)),this.containsPosition(e.end)&&i.push(new it(e.end,this.end))):i.push(new it(this.start,this.end)),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,s=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(s=e.end),new it(i,s)}return null}getJoined(e,i=!1){let s=this.isIntersecting(e);if(s||(s=this.start.isBefore(e.start)?i?this.end.isTouching(e.start):this.end.isEqual(e.start):i?e.end.isTouching(this.start):e.end.isEqual(this.start)),!s)return null;let u=this.start,h=this.end;return e.start.isBefore(u)&&(u=e.start),e.end.isAfter(h)&&(h=e.end),new it(u,h)}getMinimalFlatRanges(){const e=[],i=this.start.getCommonPath(this.end).length,s=yt._createAt(this.start);let u=s.parent;for(;s.path.length>i+1;){const h=u.maxOffset-s.offset;h!==0&&e.push(new it(s,s.getShiftedBy(h))),s.path=s.path.slice(0,-1),s.offset++,u=u.parent}for(;s.path.length<=this.end.path.length;){const h=this.end.path[s.path.length-1],m=h-s.offset;m!==0&&e.push(new it(s,s.getShiftedBy(m))),s.offset=h,s.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new yc(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new yc(e);for(const s of i)yield s.item}*getPositions(e={}){e.boundaries=this;const i=new yc(e);yield i.position;for(const s of i)yield s.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new it(this.start,this.end)]}getTransformedByOperations(e){const i=[new it(this.start,this.end)];for(const s of e)for(let u=0;u<i.length;u++){const h=i[u].getTransformedByOperation(s);i.splice(u,1,...h),u+=h.length-1}for(let s=0;s<i.length;s++){const u=i[s];for(let h=s+1;h<i.length;h++){const m=i[h];(u.containsRange(m)||m.containsRange(u)||u.isEqual(m))&&i.splice(h,1)}}return i}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,i=this.end.nodeBefore;return e&&e.is("element")&&e===i?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,i=!1){return this._getTransformedByInsertion(e.position,e.howMany,i)}_getTransformedByMoveOperation(e,i=!1){const s=e.sourcePosition,u=e.howMany,h=e.targetPosition;return this._getTransformedByMove(s,h,u,i)}_getTransformedBySplitOperation(e){const i=this.start._getTransformedBySplitOperation(e);let s=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(s=this.end.getShiftedBy(1)),i.root!=s.root&&(s=this.end.getShiftedBy(-1)),new it(i,s)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new it(this.start);let i=this.start._getTransformedByMergeOperation(e),s=this.end._getTransformedByMergeOperation(e);return i.root!=s.root&&(s=this.end.getShiftedBy(-1)),i.isAfter(s)?(e.sourcePosition.isBefore(e.targetPosition)?(i=yt._createAt(s),i.offset=0):(e.deletionPosition.isEqual(i)||(s=e.deletionPosition),i=e.targetPosition),new it(i,s)):new it(i,s)}_getTransformedByInsertion(e,i,s=!1){if(s&&this.containsPosition(e))return[new it(this.start,e),new it(e.getShiftedBy(i),this.end._getTransformedByInsertion(e,i))];{const u=new it(this.start,this.end);return u.start=u.start._getTransformedByInsertion(e,i),u.end=u.end._getTransformedByInsertion(e,i),[u]}}_getTransformedByMove(e,i,s,u=!1){if(this.isCollapsed){const O=this.start._getTransformedByMove(e,i,s);return[new it(O)]}const h=it._createFromPositionAndShift(e,s),m=i._getTransformedByDeletion(e,s);if(this.containsPosition(i)&&!u&&(h.containsPosition(this.start)||h.containsPosition(this.end))){const O=this.start._getTransformedByMove(e,i,s),U=this.end._getTransformedByMove(e,i,s);return[new it(O,U)]}let b;const _=this.getDifference(h);let S=null;const T=this.getIntersection(h);if(_.length==1?S=new it(_[0].start._getTransformedByDeletion(e,s),_[0].end._getTransformedByDeletion(e,s)):_.length==2&&(S=new it(this.start,this.end._getTransformedByDeletion(e,s))),b=S?S._getTransformedByInsertion(m,s,T!==null||u):[],T){const O=new it(T.start._getCombined(h.start,m),T.end._getCombined(h.start,m));b.length==2?b.splice(1,0,O):b.push(O)}return b}_getTransformedByDeletion(e,i){let s=this.start._getTransformedByDeletion(e,i),u=this.end._getTransformedByDeletion(e,i);return s==null&&u==null?null:(s==null&&(s=e),u==null&&(u=e),new it(s,u))}static _createFromPositionAndShift(e,i){const s=e,u=e.getShiftedBy(i);return i>0?new this(s,u):new this(u,s)}static _createIn(e){return new this(yt._createAt(e,0),yt._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(yt._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new N("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const i=e[0];e.sort((h,m)=>h.start.isAfter(m.start)?1:-1);const s=e.indexOf(i),u=new this(i.start,i.end);if(s>0)for(let h=s-1;e[h].end.isEqual(u.start);h++)u.start=yt._createAt(e[h].start);for(let h=s+1;h<e.length&&e[h].start.isEqual(u.end);h++)u.end=yt._createAt(e[h].end);return u}static fromJSON(e,i){return new this(yt.fromJSON(e.start,i),yt.fromJSON(e.end,i))}}it.prototype.is=function(l){return l==="range"||l==="model:range"};class I2 extends oe(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,i)=>{if(i.viewPosition)return;const s=this._modelToViewMapping.get(i.modelPosition.parent);if(!s)throw new N("mapping-model-position-view-parent-not-found",this,{modelPosition:i.modelPosition});i.viewPosition=this.findPositionIn(s,i.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,i)=>{if(i.modelPosition)return;const s=this.findMappedViewAncestor(i.viewPosition),u=this._viewToModelMapping.get(s),h=this._toModelOffset(i.viewPosition.parent,i.viewPosition.offset,s);i.modelPosition=yt._createAt(u,h)},{priority:"low"})}bindElements(e,i){this._modelToViewMapping.set(e,i),this._viewToModelMapping.set(i,e)}unbindViewElement(e,i={}){const s=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const u of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(u);i.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(s)==e&&this._modelToViewMapping.delete(s))}unbindModelElement(e){const i=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(i)==e&&this._viewToModelMapping.delete(i)}bindElementToMarker(e,i){const s=this._markerNameToElements.get(i)||new Set;s.add(e);const u=this._elementToMarkerNames.get(e)||new Set;u.add(i),this._markerNameToElements.set(i,s),this._elementToMarkerNames.set(e,u)}unbindElementFromMarkerName(e,i){const s=this._markerNameToElements.get(i);s&&(s.delete(e),s.size==0&&this._markerNameToElements.delete(i));const u=this._elementToMarkerNames.get(e);u&&(u.delete(i),u.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,i]of this._deferredBindingRemovals)e.root==i&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new it(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Gt(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const i={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",i),i.modelPosition}toViewPosition(e,i={}){const s={modelPosition:e,mapper:this,isPhantom:i.isPhantom};return this.fire("modelToViewPosition",s),s.viewPosition}markerNameToElements(e){const i=this._markerNameToElements.get(e);if(!i)return null;const s=new Set;for(const u of i)if(u.is("attributeElement"))for(const h of u.getElementsWithSameId())s.add(h);else s.add(u);return s}registerViewToModelLength(e,i){this._viewToModelLengthCallbacks.set(e,i)}findMappedViewAncestor(e){let i=e.parent;for(;!this._viewToModelMapping.has(i);)i=i.parent;return i}_toModelOffset(e,i,s){if(s!=e)return this._toModelOffset(e.parent,e.index,s)+this._toModelOffset(e,i,e);if(e.is("$text"))return i;let u=0;for(let h=0;h<i;h++)u+=this.getModelLength(e.getChild(h));return u}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let i=0;for(const s of e.getChildren())i+=this.getModelLength(s);return i}}findPositionIn(e,i){let s,u=0,h=0,m=0;if(e.is("$text"))return new Dt(e,i);for(;h<i;)s=e.getChild(m),u=this.getModelLength(s),h+=u,m++;return h==i?this._moveViewPositionToTextNode(new Dt(e,m)):this.findPositionIn(s,i-(h-u))}_moveViewPositionToTextNode(e){const i=e.nodeBefore,s=e.nodeAfter;return i instanceof xn?new Dt(i,i.data.length):s instanceof xn?new Dt(s,0):e}}class nR{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,i){i=Hb(i),e instanceof qa&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(i,!0)}consume(e,i){return i=Hb(i),e instanceof qa&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,i)&&(this._consumable.get(e).set(i,!1),!0)}test(e,i){i=Hb(i),e instanceof qa&&(e=this._getSymbolForTextProxy(e));const s=this._consumable.get(e);if(s===void 0)return null;const u=s.get(i);return u===void 0?null:u}revert(e,i){i=Hb(i),e instanceof qa&&(e=this._getSymbolForTextProxy(e));const s=this.test(e,i);return s===!1?(this._consumable.get(e).set(i,!0),!0):s!==!0&&null}verifyAllConsumed(e){const i=[];for(const[s,u]of this._consumable)for(const[h,m]of u){const b=h.split(":")[0];m&&e==b&&i.push({event:h,item:s.name||s.description})}if(i.length)throw new N("conversion-model-consumable-not-consumed",null,{items:i})}_getSymbolForTextProxy(e){let i=null;const s=this._textProxyRegistry.get(e.startOffset);if(s){const u=s.get(e.endOffset);u&&(i=u.get(e.parent))}return i||(i=this._addSymbolForTextProxy(e)),i}_addSymbolForTextProxy(e){const i=e.startOffset,s=e.endOffset,u=e.parent,h=Symbol("$textProxy:"+e.data);let m,b;return m=this._textProxyRegistry.get(i),m||(m=new Map,this._textProxyRegistry.set(i,m)),b=m.get(s),b||(b=new Map,m.set(s,b)),b.set(u,h),h}}function Hb(l){const e=l.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?l:e.length>1?e[0]+":"+e[1]:e[0]}var rR=Object.defineProperty,iR=Object.defineProperties,oR=Object.getOwnPropertyDescriptors,T2=Object.getOwnPropertySymbols,sR=Object.prototype.hasOwnProperty,aR=Object.prototype.propertyIsEnumerable,N2=(l,e,i)=>e in l?rR(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i,Yw=(l,e)=>{for(var i in e||(e={}))sR.call(e,i)&&N2(l,i,e[i]);if(T2)for(var i of T2(e))aR.call(e,i)&&N2(l,i,e[i]);return l},M2=(l,e)=>iR(l,oR(e));class P2 extends oe(){constructor(e){super(),this._conversionApi=Yw({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,i,s){const u=this._createConversionApi(s,e.getRefreshedItems());for(const m of e.getMarkersToRemove())this._convertMarkerRemove(m.name,m.range,u);const h=this._reduceChanges(e.getChanges());for(const m of h)m.type==="insert"?this._convertInsert(it._createFromPositionAndShift(m.position,m.length),u):m.type==="reinsert"?this._convertReinsert(it._createFromPositionAndShift(m.position,m.length),u):m.type==="remove"?this._convertRemove(m.position,m.length,m.name,u):this._convertAttribute(m.range,m.attributeKey,m.attributeOldValue,m.attributeNewValue,u);u.mapper.flushDeferredBindings();for(const m of u.mapper.flushUnboundMarkerNames()){const b=i.get(m).getRange();this._convertMarkerRemove(m,b,u),this._convertMarkerAdd(m,b,u)}for(const m of e.getMarkersToAdd())this._convertMarkerAdd(m.name,m.range,u);u.consumable.verifyAllConsumed("insert")}convert(e,i,s,u={}){const h=this._createConversionApi(s,void 0,u);this._convertInsert(e,h);for(const[m,b]of i)this._convertMarkerAdd(m,b,h);h.consumable.verifyAllConsumed("insert")}convertSelection(e,i,s){const u=this._createConversionApi(s);this.fire("cleanSelection",{selection:e},u);const h=e.getFirstPosition().root;if(!u.mapper.toViewElement(h))return;const m=Array.from(i.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(u.consumable,e,m),this.fire("selection",{selection:e},u),e.isCollapsed){for(const b of m)if(u.consumable.test(e,"addMarker:"+b.name)){const _=b.getRange();if(!lR(e.getFirstPosition(),b,u.mapper))continue;const S={item:e,markerName:b.name,markerRange:_};this.fire(`addMarker:${b.name}`,S,u)}for(const b of e.getAttributeKeys())if(u.consumable.test(e,"attribute:"+b)){const _={item:e,range:e.getFirstRange(),attributeKey:b,attributeOldValue:null,attributeNewValue:e.getAttribute(b)};this.fire(`attribute:${b}:$text`,_,u)}}}_convertInsert(e,i,s={}){s.doNotAddConsumables||this._addConsumablesForInsert(i.consumable,e);for(const u of Array.from(e.getWalker({shallow:!0})).map(O2))this._testAndFire("insert",u,i)}_convertRemove(e,i,s,u){this.fire(`remove:${s}`,{position:e,length:i},u)}_convertAttribute(e,i,s,u,h){this._addConsumablesForRange(h.consumable,e,`attribute:${i}`);for(const m of e){const b={item:m.item,range:it._createFromPositionAndShift(m.previousPosition,m.length),attributeKey:i,attributeOldValue:s,attributeNewValue:u};this._testAndFire(`attribute:${i}`,b,h)}}_convertReinsert(e,i){const s=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(i.consumable,s);for(const u of s.map(O2))this._testAndFire("insert",M2(Yw({},u),{reconversion:!0}),i)}_convertMarkerAdd(e,i,s){if(i.root.rootName=="$graveyard")return;const u=`addMarker:${e}`;if(s.consumable.add(i,u),this.fire(u,{markerName:e,markerRange:i},s),s.consumable.consume(i,u)){this._addConsumablesForRange(s.consumable,i,u);for(const h of i.getItems()){if(!s.consumable.test(h,u))continue;const m={item:h,range:it._createOn(h),markerName:e,markerRange:i};this.fire(u,m,s)}}}_convertMarkerRemove(e,i,s){i.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:i},s)}_reduceChanges(e){const i={changes:e};return this.fire("reduceChanges",i),i.changes}_addConsumablesForInsert(e,i){for(const s of i){const u=s.item;if(e.test(u,"insert")===null){e.add(u,"insert");for(const h of u.getAttributeKeys())e.add(u,"attribute:"+h)}}return e}_addConsumablesForRange(e,i,s){for(const u of i.getItems())e.add(u,s);return e}_addConsumablesForSelection(e,i,s){e.add(i,"selection");for(const u of s)e.add(i,"addMarker:"+u.name);for(const u of i.getAttributeKeys())e.add(i,"attribute:"+u);return e}_testAndFire(e,i,s){const u=function(_,S){const T=S.item.is("element")?S.item.name:"$text";return`${_}:${T}`}(e,i),h=i.item.is("$textProxy")?s.consumable._getSymbolForTextProxy(i.item):i.item,m=this._firedEventsMap.get(s),b=m.get(h);if(b){if(b.has(u))return;b.add(u)}else m.set(h,new Set([u]));this.fire(u,i,s)}_testAndFireAddAttributes(e,i){const s={item:e,range:it._createOn(e)};for(const u of s.item.getAttributeKeys())s.attributeKey=u,s.attributeOldValue=null,s.attributeNewValue=s.item.getAttribute(u),this._testAndFire(`attribute:${u}`,s,i)}_createConversionApi(e,i=new Set,s={}){const u=M2(Yw({},this._conversionApi),{consumable:new nR,writer:e,options:s,convertItem:h=>this._convertInsert(it._createOn(h),u),convertChildren:h=>this._convertInsert(it._createIn(h),u,{doNotAddConsumables:!0}),convertAttributes:h=>this._testAndFireAddAttributes(h,u),canReuseView:h=>!i.has(u.mapper.toModelElement(h))});return this._firedEventsMap.set(u,new Map),u}}function lR(l,e,i){const s=e.getRange(),u=Array.from(l.getAncestors());return u.shift(),u.reverse(),!u.some(h=>{if(s.containsItem(h))return!!i.toViewElement(h).getCustomProperty("addHighlight")})}function O2(l){return{item:l.item,range:it._createFromPositionAndShift(l.previousPosition,l.length)}}class Ds extends oe(Cu){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let s=!1;for(const u of e._ranges)if(i.isEqual(u)){s=!0;break}if(!s)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new it(e.start,e.end)}getFirstRange(){let e=null;for(const i of this._ranges)e&&!i.start.isBefore(e.start)||(e=i);return e?new it(e.start,e.end):null}getLastRange(){let e=null;for(const i of this._ranges)e&&!i.end.isAfter(e.end)||(e=i);return e?new it(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[i,s,u]=e;if(typeof s=="object"&&(u=s,s=void 0),i===null)this._setRanges([]);else if(i instanceof Ds)this._setRanges(i.getRanges(),i.isBackward);else if(i&&typeof i.getRanges=="function")this._setRanges(i.getRanges(),i.isBackward);else if(i instanceof it)this._setRanges([i],!!u&&!!u.backward);else if(i instanceof yt)this._setRanges([new it(i)]);else if(i instanceof Rd){const h=!!u&&!!u.backward;let m;if(s=="in")m=it._createIn(i);else if(s=="on")m=it._createOn(i);else{if(s===void 0)throw new N("model-selection-setto-required-second-parameter",[this,i]);m=new it(yt._createAt(i,s))}this._setRanges([m],h)}else{if(!Ae(i))throw new N("model-selection-setto-not-selectable",[this,i]);this._setRanges(i,u&&!!u.backward)}}_setRanges(e,i=!1){const s=Array.from(e),u=s.some(h=>{if(!(h instanceof it))throw new N("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(m=>!m.isEqual(h))});(s.length!==this._ranges.length||u)&&(this._replaceAllRanges(s),this._lastRangeBackward=!!i,this.fire("change:range",{directChange:!0}))}setFocus(e,i){if(this.anchor===null)throw new N("model-selection-setfocus-no-ranges",[this,e]);const s=yt._createAt(e,i);if(s.compareWith(this.focus)=="same")return;const u=this.anchor;this._ranges.length&&this._popRange(),s.compareWith(u)=="before"?(this._pushRange(new it(s,u)),this._lastRangeBackward=!0):(this._pushRange(new it(u,s)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,i){this.getAttribute(e)!==i&&(this._attrs.set(e,i),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const i of this.getRanges()){const s=B2(i.start,e);uR(s,i)&&(yield s);for(const h of i.getWalker()){const m=h.item;h.type=="elementEnd"&&cR(m,e,i)&&(yield m)}const u=B2(i.end,e);dR(u,i)&&(yield u)}}containsEntireContent(e=this.anchor.root){const i=yt._createAt(e,0),s=yt._createAt(e,"end");return i.isTouching(this.getFirstPosition())&&s.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new it(e.start,e.end))}_checkRange(e){for(let i=0;i<this._ranges.length;i++)if(e.isIntersecting(this._ranges[i]))throw new N("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[i]})}_replaceAllRanges(e){this._removeAllRanges();for(const i of e)this._pushRange(i)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function L2(l,e){return!e.has(l)&&(e.add(l),l.root.document.model.schema.isBlock(l)&&!!l.parent)}function cR(l,e,i){return L2(l,e)&&Kw(l,i)}function B2(l,e){const i=l.parent.root.document.model.schema,s=l.parent.getAncestors({parentFirst:!0,includeSelf:!0});let u=!1;const h=s.find(m=>!u&&(u=i.isLimit(m),!u&&L2(m,e)));return s.forEach(m=>e.add(m)),h}function Kw(l,e){const i=function(s){const u=s.root.document.model.schema;let h=s.parent;for(;h;){if(u.isBlock(h))return h;h=h.parent}}(l);return i?!e.containsRange(it._createOn(i),!0):!0}function uR(l,e){return!!l&&(!(!e.isCollapsed&&!l.isEmpty)||!e.start.isTouching(yt._createAt(l,l.maxOffset))&&Kw(l,e))}function dR(l,e){return!!l&&(!(!e.isCollapsed&&!l.isEmpty)||!e.end.isTouching(yt._createAt(l,0))&&Kw(l,e))}Ds.prototype.is=function(l){return l==="selection"||l==="model:selection"};class Is extends oe(it){constructor(e,i){super(e,i),hR.call(this)}detach(){this.stopListening()}toRange(){return new it(this.start,this.end)}static fromRange(e){return new Is(e.start,e.end)}}function hR(){this.listenTo(this.root.document.model,"applyOperation",(l,e)=>{const i=e[0];i.isDocumentOperation&&fR.call(this,i)},{priority:"low"})}function fR(l){const e=this.getTransformedByOperation(l),i=it._createFromRanges(e),s=!i.isEqual(this),u=function(m,b){switch(b.type){case"insert":return m.containsPosition(b.position);case"move":case"remove":case"reinsert":case"merge":return m.containsPosition(b.sourcePosition)||m.start.isEqual(b.sourcePosition)||m.containsPosition(b.targetPosition);case"split":return m.containsPosition(b.splitPosition)||m.containsPosition(b.insertionPosition)}return!1}(this,l);let h=null;if(s){i.root.rootName=="$graveyard"&&(h=l.type=="remove"?l.sourcePosition:l.deletionPosition);const m=this.toRange();this.start=i.start,this.end=i.end,this.fire("change:range",m,{deletionPosition:h})}else u&&this.fire("change:content",this.toRange(),{deletionPosition:h})}Is.prototype.is=function(l){return l==="liveRange"||l==="model:liveRange"||l=="range"||l==="model:range"};const $b="selection:";class Va extends oe(Cu){constructor(e){super(),this._selection=new pR(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,i){this._selection.setFocus(e,i)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,i){this._selection.setAttribute(e,i)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return $b+e}static _isStoreAttributeKey(e){return e.startsWith($b)}}Va.prototype.is=function(l){return l==="selection"||l=="model:selection"||l=="documentSelection"||l=="model:documentSelection"};class pR extends Ds{constructor(e){super(),this.markers=new Ss({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(i,s)=>{const u=s[0];u.isDocumentOperation&&u.type!="marker"&&u.type!="rename"&&u.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(i,s,u,h)=>{this._updateMarker(s,h)}),this.listenTo(this._document,"change",(i,s)=>{(function(u,h){const m=u.document.differ;for(const b of m.getChanges()){if(b.type!="insert")continue;const _=b.position.parent;b.length===_.maxOffset&&u.enqueueChange(h,S=>{const T=Array.from(_.getAttributeKeys()).filter(O=>O.startsWith($b));for(const O of T)S.removeAttribute(O,_)})}})(this._model,s)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,i){super.setFocus(e,i),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,i){if(this._setAttribute(e,i)){const s=[e];this.fire("change:attribute",{attributeKeys:s,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}overrideGravity(){const e=P();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new N("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const i=this._prepareRange(e);i&&this._ranges.push(i)}_validateSelectionRanges(e){for(const i of e)if(!this._document._validateSelectionRange(i))throw new N("document-selection-wrong-position",this,{range:i})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const i=Is.fromRange(e);return i.on("change:range",(s,u,h)=>{if(this._hasChangedRange=!0,i.root==this._document.graveyard){this._selectionRestorePosition=h.deletionPosition;const m=this._ranges.indexOf(i);this._ranges.splice(m,1),i.detach()}}),i}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let i=!1;for(const u of this._model.markers){const h=u.name.split(":",1)[0];if(!this._observedMarkers.has(h))continue;const m=u.getRange();for(const b of this.getRanges())m.containsRange(b,!b.isCollapsed)&&e.push(u)}const s=Array.from(this.markers);for(const u of e)this.markers.has(u)||(this.markers.add(u),i=!0);for(const u of Array.from(this.markers))e.includes(u)||(this.markers.remove(u),i=!0);i&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateMarker(e,i){const s=e.name.split(":",1)[0];if(!this._observedMarkers.has(s))return;let u=!1;const h=Array.from(this.markers),m=this.markers.has(e);if(i){let b=!1;for(const _ of this.getRanges())if(i.containsRange(_,!_.isCollapsed)){b=!0;break}b&&!m?(this.markers.add(e),u=!0):!b&&m&&(this.markers.remove(e),u=!0)}else m&&(this.markers.remove(e),u=!0);u&&this.fire("change:marker",{oldMarkers:h,directChange:!1})}_updateAttributes(e){const i=la(this._getSurroundingAttributes()),s=la(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[h,m]of this._attributePriority)m=="low"&&(this._attrs.delete(h),this._attributePriority.delete(h));this._setAttributesTo(i);const u=[];for(const[h,m]of this.getAttributes())s.has(h)&&s.get(h)===m||u.push(h);for(const[h]of s)this.hasAttribute(h)||u.push(h);u.length>0&&this.fire("change:attribute",{attributeKeys:u,directChange:!1})}_setAttribute(e,i,s=!0){const u=s?"normal":"low";return u=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==i&&(this._attrs.set(e,i),this._attributePriority.set(e,u),!0)}_removeAttribute(e,i=!0){const s=i?"normal":"low";return(s!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,s),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const i=new Set;for(const[s,u]of this.getAttributes())e.get(s)!==u&&this._removeAttribute(s,!1);for(const[s,u]of e)this._setAttribute(s,u,!1)&&i.add(s);return i}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const i of e.getAttributeKeys())i.startsWith($b)&&(yield[i.substr(10),e.getAttribute(i)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),i=this._model.schema;if(e.root.rootName=="$graveyard")return null;let s=null;if(this.isCollapsed){const u=e.textNode?e.textNode:e.nodeBefore,h=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(s=pm(u,i)),s||(s=pm(h,i)),!this.isGravityOverridden&&!s){let m=u;for(;m&&!s;)m=m.previousSibling,s=pm(m,i)}if(!s){let m=h;for(;m&&!s;)m=m.nextSibling,s=pm(m,i)}s||(s=this.getStoredAttributes())}else{const u=this.getFirstRange();for(const h of u){if(h.item.is("element")&&i.isObject(h.item)){s=pm(h.item,i);break}if(h.type=="text"){s=h.item.getAttributes();break}}}return s}_fixGraveyardSelection(e){const i=this._model.schema.getNearestSelectionRange(e);i&&this._pushRange(i)}}function pm(l,e){if(!l)return null;if(l instanceof qa||l instanceof fr)return l.getAttributes();if(!e.isInline(l))return null;if(!e.isObject(l))return[];const i=[];for(const[s,u]of l.getAttributes())e.checkAttribute("$text",s)&&e.getAttributeProperties(s).copyFromObject!==!1&&i.push([s,u]);return i}class j2{constructor(e){this._dispatchers=e}add(e){for(const i of this._dispatchers)e(i);return this}}class mR extends j2{elementToElement(e){return this.add(function(i){const s=z2(i.model),u=mm(i.view,"container");return s.attributes.length&&(s.children=!0),h=>{h.on(`insert:${s.name}`,bR(u,H2(s)),{priority:i.converterPriority||"normal"}),(s.children||s.attributes.length)&&h.on("reduceChanges",V2(s),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(i){const s=z2(i.model),u=mm(i.view,"container");return s.children=!0,h=>{if(h._conversionApi.schema.checkChild(s.name,"$text"))throw new N("conversion-element-to-structure-disallowed-text",h,{elementName:s.name});var m,b;h.on(`insert:${s.name}`,(m=u,b=H2(s),(_,S,T)=>{if(!b(S.item,T.consumable,{preflight:!0}))return;const O=new Map;T.writer._registerSlotFactory(function(ee,ie,be){return(Se,Le)=>{const et=Se.createContainerElement("$slot");let ft=null;if(Le==="children")ft=Array.from(ee.getChildren());else{if(typeof Le!="function")throw new N("conversion-slot-mode-unknown",be.dispatcher,{modeOrFilter:Le});ft=Array.from(ee.getChildren()).filter(Mt=>Le(Mt))}return ie.set(et,ft),et}}(S.item,O,T));const U=m(S.item,T,S);if(T.writer._clearSlotFactory(),!U)return;(function(ee,ie,be){const Se=Array.from(ie.values()).flat(),Le=new Set(Se);if(Le.size!=Se.length)throw new N("conversion-slot-filter-overlap",be.dispatcher,{element:ee});if(Le.size!=ee.childCount)throw new N("conversion-slot-filter-incomplete",be.dispatcher,{element:ee})})(S.item,O,T),b(S.item,T.consumable);const G=T.mapper.toViewPosition(S.range.start);T.mapper.bindElements(S.item,U),T.writer.insert(G,U),T.convertAttributes(S.item),function(ee,ie,be,Se){be.mapper.on("modelToViewPosition",ft,{priority:"highest"});let Le=null,et=null;for([Le,et]of ie)$2(ee,et,be,Se),be.writer.move(be.writer.createRangeIn(Le),be.writer.createPositionBefore(Le)),be.writer.remove(Le);function ft(Mt,nn){const gn=nn.modelPosition.nodeAfter,wr=et.indexOf(gn);wr<0||(nn.viewPosition=nn.mapper.findPositionIn(Le,wr))}be.mapper.off("modelToViewPosition",ft)}(U,O,T,{reconversion:S.reconversion})}),{priority:i.converterPriority||"normal"}),h.on("reduceChanges",V2(s),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(i){i=Ua(i);let s=i.model;typeof s=="string"&&(s={key:s});let u=`attribute:${s.key}`;if(s.name&&(u+=":"+s.name),s.values)for(const m of s.values)i.view[m]=mm(i.view[m],"attribute");else i.view=mm(i.view,"attribute");const h=U2(i);return m=>{m.on(u,gR(h),{priority:i.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(i){i=Ua(i);let s=i.model;typeof s=="string"&&(s={key:s});let u=`attribute:${s.key}`;if(s.name&&(u+=":"+s.name),s.values)for(const m of s.values)i.view[m]=q2(i.view[m]);else i.view=q2(i.view);const h=U2(i);return m=>{var b;m.on(u,(b=h,(_,S,T)=>{if(!T.consumable.test(S.item,_.name))return;const O=b(S.attributeOldValue,T,S),U=b(S.attributeNewValue,T,S);if(!O&&!U)return;T.consumable.consume(S.item,_.name);const G=T.mapper.toViewElement(S.item),ee=T.writer;if(!G)throw new N("conversion-attribute-to-attribute-on-text",T.dispatcher,S);if(S.attributeOldValue!==null&&O)if(O.key=="class"){const ie=typeof O.value=="string"?O.value.split(/\s+/):O.value;for(const be of ie)ee.removeClass(be,G)}else if(O.key=="style")if(typeof O.value=="string"){const ie=new am(ee.document.stylesProcessor);ie.setTo(O.value);for(const[be]of ie.getStylesEntries())ee.removeStyle(be,G)}else{const ie=Object.keys(O.value);for(const be of ie)ee.removeStyle(be,G)}else ee.removeAttribute(O.key,G);if(S.attributeNewValue!==null&&U)if(U.key=="class"){const ie=typeof U.value=="string"?U.value.split(/\s+/):U.value;for(const be of ie)ee.addClass(be,G)}else if(U.key=="style")if(typeof U.value=="string"){const ie=new am(ee.document.stylesProcessor);ie.setTo(U.value);for(const[be,Se]of ie.getStylesEntries())ee.setStyle(be,Se,G)}else{const ie=Object.keys(U.value);for(const be of ie)ee.setStyle(be,U.value[be],G)}else ee.setAttribute(U.key,U.value,G)}),{priority:i.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(i){const s=mm(i.view,"ui");return u=>{u.on(`addMarker:${i.model}`,kR(s),{priority:i.converterPriority||"normal"}),u.on(`removeMarker:${i.model}`,(h,m,b)=>{const _=b.mapper.markerNameToElements(m.markerName);if(_){for(const S of _)b.mapper.unbindElementFromMarkerName(S,m.markerName),b.writer.clear(b.writer.createRangeOn(S),S);b.writer.clearClonedElementsGroup(m.markerName),h.stop()}},{priority:i.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(i){return s=>{var u;s.on(`addMarker:${i.model}`,(u=i.view,(h,m,b)=>{if(!m.item||!(m.item instanceof Ds||m.item instanceof Va||m.item.is("$textProxy")))return;const _=Qw(u,m,b);if(!_||!b.consumable.consume(m.item,h.name))return;const S=b.writer,T=R2(S,_),O=S.document.selection;if(m.item instanceof Ds||m.item instanceof Va)S.wrap(O.getFirstRange(),T);else{const U=b.mapper.toViewRange(m.range),G=S.wrap(U,T);for(const ee of G.getItems())if(ee.is("attributeElement")&&ee.isSimilar(T)){b.mapper.bindElementToMarker(ee,m.markerName);break}}}),{priority:i.converterPriority||"normal"}),s.on(`addMarker:${i.model}`,function(h){return(m,b,_)=>{if(!b.item||!(b.item instanceof ar))return;const S=Qw(h,b,_);if(!S||!_.consumable.test(b.item,m.name))return;const T=_.mapper.toViewElement(b.item);if(T&&T.getCustomProperty("addHighlight")){_.consumable.consume(b.item,m.name);for(const O of it._createIn(b.item))_.consumable.consume(O.item,m.name);T.getCustomProperty("addHighlight")(T,S,_.writer),_.mapper.bindElementToMarker(T,b.markerName)}}}(i.view),{priority:i.converterPriority||"normal"}),s.on(`removeMarker:${i.model}`,function(h){return(m,b,_)=>{if(b.markerRange.isCollapsed)return;const S=Qw(h,b,_);if(!S)return;const T=R2(_.writer,S),O=_.mapper.markerNameToElements(b.markerName);if(O){for(const U of O)_.mapper.unbindElementFromMarkerName(U,b.markerName),U.is("attributeElement")?_.writer.unwrap(_.writer.createRangeOn(U),T):U.getCustomProperty("removeHighlight")(U,S.id,_.writer);_.writer.clearClonedElementsGroup(b.markerName),m.stop()}}}(i.view),{priority:i.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(i){i=Ua(i);const s=i.model;let u=i.view;return u||(u=h=>({group:s,name:h.substr(i.model.length+1)})),h=>{var m;h.on(`addMarker:${s}`,(m=u,(b,_,S)=>{const T=m(_.markerName,S);if(!T)return;const O=_.markerRange;S.consumable.consume(O,b.name)&&(F2(O,!1,S,_,T),F2(O,!0,S,_,T),b.stop())}),{priority:i.converterPriority||"normal"}),h.on(`removeMarker:${s}`,function(b){return(_,S,T)=>{const O=b(S.markerName,T);if(!O)return;const U=T.mapper.markerNameToElements(S.markerName);if(U){for(const ee of U)T.mapper.unbindElementFromMarkerName(ee,S.markerName),ee.is("containerElement")?(G(`data-${O.group}-start-before`,ee),G(`data-${O.group}-start-after`,ee),G(`data-${O.group}-end-before`,ee),G(`data-${O.group}-end-after`,ee)):T.writer.clear(T.writer.createRangeOn(ee),ee);T.writer.clearClonedElementsGroup(S.markerName),_.stop()}function G(ee,ie){if(ie.hasAttribute(ee)){const be=new Set(ie.getAttribute(ee).split(","));be.delete(O.name),be.size==0?T.writer.removeAttribute(ee,ie):T.writer.setAttribute(ee,Array.from(be).join(","),ie)}}}}(u),{priority:i.converterPriority||"normal"})}}(e))}}function R2(l,e){const i=l.createAttributeElement("span",e.attributes);return e.classes&&i._addClass(e.classes),typeof e.priority=="number"&&(i._priority=e.priority),i._id=e.id,i}function gR(l){return(e,i,s)=>{if(!s.consumable.test(i.item,e.name))return;const u=l(i.attributeOldValue,s,i),h=l(i.attributeNewValue,s,i);if(!u&&!h)return;s.consumable.consume(i.item,e.name);const m=s.writer,b=m.document.selection;if(i.item instanceof Ds||i.item instanceof Va)m.wrap(b.getFirstRange(),h);else{let _=s.mapper.toViewRange(i.range);i.attributeOldValue!==null&&u&&(_=m.unwrap(_,u)),i.attributeNewValue!==null&&h&&m.wrap(_,h)}}}function bR(l,e=yR){return(i,s,u)=>{if(!e(s.item,u.consumable,{preflight:!0}))return;const h=l(s.item,u,s);if(!h)return;e(s.item,u.consumable);const m=u.mapper.toViewPosition(s.range.start);u.mapper.bindElements(s.item,h),u.writer.insert(m,h),u.convertAttributes(s.item),$2(h,s.item.getChildren(),u,{reconversion:s.reconversion})}}function kR(l){return(e,i,s)=>{i.isOpening=!0;const u=l(i,s);i.isOpening=!1;const h=l(i,s);if(!u||!h)return;const m=i.markerRange;if(m.isCollapsed&&!s.consumable.consume(m,e.name))return;for(const S of m)if(!s.consumable.consume(S.item,e.name))return;const b=s.mapper,_=s.writer;_.insert(b.toViewPosition(m.start),u),s.mapper.bindElementToMarker(u,i.markerName),m.isCollapsed||(_.insert(b.toViewPosition(m.end),h),s.mapper.bindElementToMarker(h,i.markerName)),e.stop()}}function F2(l,e,i,s,u){const h=e?l.start:l.end,m=h.nodeAfter&&h.nodeAfter.is("element")?h.nodeAfter:null,b=h.nodeBefore&&h.nodeBefore.is("element")?h.nodeBefore:null;if(m||b){let _,S;e&&m||!e&&!b?(_=m,S=!0):(_=b,S=!1);const T=i.mapper.toViewElement(_);if(T)return void function(O,U,G,ee,ie,be){const Se=`data-${be.group}-${U?"start":"end"}-${G?"before":"after"}`,Le=O.hasAttribute(Se)?O.getAttribute(Se).split(","):[];Le.unshift(be.name),ee.writer.setAttribute(Se,Le.join(","),O),ee.mapper.bindElementToMarker(O,ie.markerName)}(T,e,S,i,s,u)}(function(_,S,T,O,U){const G=`${U.group}-${S?"start":"end"}`,ee=U.name?{name:U.name}:null,ie=T.writer.createUIElement(G,ee);T.writer.insert(_,ie),T.mapper.bindElementToMarker(ie,O.markerName)})(i.mapper.toViewPosition(h),e,i,s,u)}function z2(l){return typeof l=="string"&&(l={name:l}),{name:l.name,attributes:l.attributes?nr(l.attributes):[],children:!!l.children}}function mm(l,e){return typeof l=="function"?l:(i,s)=>function(u,h,m){typeof u=="string"&&(u={name:u});let b;const _=h.writer,S=Object.assign({},u.attributes);if(m=="container")b=_.createContainerElement(u.name,S);else if(m=="attribute"){const T={priority:u.priority||Bd.DEFAULT_PRIORITY};b=_.createAttributeElement(u.name,S,T)}else b=_.createUIElement(u.name,S);if(u.styles){const T=Object.keys(u.styles);for(const O of T)_.setStyle(O,u.styles[O],b)}if(u.classes){const T=u.classes;if(typeof T=="string")_.addClass(T,b);else for(const O of T)_.addClass(O,b)}return b}(l,s,e)}function U2(l){return l.model.values?(e,i,s)=>{const u=l.view[e];return u?u(e,i,s):null}:l.view}function q2(l){return typeof l=="string"?e=>({key:l,value:e}):typeof l=="object"?l.value?()=>l:e=>({key:l.key,value:e}):l}function Qw(l,e,i){const s=typeof l=="function"?l(e,i):l;return s?(s.priority||(s.priority=10),s.id||(s.id=e.markerName),s):null}function V2(l){const e=function(i){return(s,u)=>{if(!s.is("element",i.name))return!1;if(u.type=="attribute"){if(i.attributes.includes(u.attributeKey))return!0}else if(i.children)return!0;return!1}}(l);return(i,s)=>{const u=[];s.reconvertedElements||(s.reconvertedElements=new Set);for(const h of s.changes){const m=h.type=="attribute"?h.range.start.nodeAfter:h.position.parent;if(m&&e(m,h)){if(!s.reconvertedElements.has(m)){s.reconvertedElements.add(m);const b=yt._createBefore(m);let _=u.length;for(let S=u.length-1;S>=0;S--){const T=u[S],O=(T.type=="attribute"?T.range.start:T.position).compareWith(b);if(O=="before"||T.type=="remove"&&O=="same")break;_=S}u.splice(_,0,{type:"remove",name:m.name,position:b,length:1},{type:"reinsert",name:m.name,position:b,length:1})}}else u.push(h)}s.changes=u}}function H2(l){return(e,i,s={})=>{const u=["insert"];for(const h of l.attributes)e.hasAttribute(h)&&u.push(`attribute:${h}`);return!!u.every(h=>i.test(e,h))&&(s.preflight||u.forEach(h=>i.consume(e,h)),!0)}}function $2(l,e,i,s){for(const u of e)wR(l.root,u,i,s)||i.convertItem(u)}function wR(l,e,i,s){const{writer:u,mapper:h}=i;if(!s.reconversion)return!1;const m=h.toViewElement(e);return!(!m||m.root==l)&&!!i.canReuseView(m)&&(u.move(u.createRangeOn(m),h.toViewPosition(yt._createBefore(e))),!0)}function yR(l,e,{preflight:i}={}){return i?e.test(l,"insert"):e.consume(l,"insert")}function W2(l){const{schema:e,document:i}=l.model;for(const s of i.getRoots())if(s.isEmpty&&!e.checkChild(s,"$text")&&e.checkChild(s,"paragraph"))return l.insertElement("paragraph",s),!0;return!1}function G2(l,e,i){const s=i.createContext(l);return!!i.checkChild(s,"paragraph")&&!!i.checkChild(s.push("paragraph"),e)}function Y2(l,e){const i=e.createElement("paragraph");return e.insert(i,l),e.createPositionAt(i,0)}var vR=Object.defineProperty,_R=Object.defineProperties,AR=Object.getOwnPropertyDescriptors,K2=Object.getOwnPropertySymbols,CR=Object.prototype.hasOwnProperty,xR=Object.prototype.propertyIsEnumerable,Q2=(l,e,i)=>e in l?vR(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i;class SR extends j2{elementToElement(e){return this.add(J2(e))}elementToAttribute(e){return this.add(function(i){i=Ua(i),Z2(i);const s=X2(i,!1),u=Jw(i.view),h=u?`element:${u}`:"element";return m=>{m.on(h,s,{priority:i.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(i){i=Ua(i);let s=null;(typeof i.view=="string"||i.view.key)&&(s=function(h){typeof h.view=="string"&&(h.view={key:h.view});const m=h.view.key,b=h.view.value===void 0?/[\s\S]*/:h.view.value;let _;return m=="class"||m=="style"?_={[m=="class"?"classes":"styles"]:b}:_={attributes:{[m]:b}},h.view.name&&(_.name=h.view.name),h.view=_,m}(i)),Z2(i,s);const u=X2(i,!0);return h=>{h.on("element",u,{priority:i.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(i){const s=function(m){return(b,_)=>{const S=typeof m=="string"?m:m(b,_);return _.writer.createElement("$marker",{"data-name":S})}}(i.model);return J2((u=((m,b)=>{for(var _ in b||(b={}))CR.call(b,_)&&Q2(m,_,b[_]);if(K2)for(var _ of K2(b))xR.call(b,_)&&Q2(m,_,b[_]);return m})({},i),h={model:s},_R(u,AR(h))));var u,h}(e))}dataToMarker(e){return this.add(function(i){i=Ua(i),i.model||(i.model=m=>m?i.view+":"+m:i.view);const s={view:i.view,model:i.model},u=Zw(ex(s,"start")),h=Zw(ex(s,"end"));return m=>{m.on(`element:${i.view}-start`,u,{priority:i.converterPriority||"normal"}),m.on(`element:${i.view}-end`,h,{priority:i.converterPriority||"normal"});const b=F.low,_=F.highest,S=F.get(i.converterPriority)/_;m.on("element",function(T){return(O,U,G)=>{const ee=`data-${T.view}`;function ie(be,Se){for(const Le of Se){const et=T.model(Le,G),ft=G.writer.createElement("$marker",{"data-name":et});G.writer.insert(ft,be),U.modelCursor.isEqual(be)?U.modelCursor=U.modelCursor.getShiftedBy(1):U.modelCursor=U.modelCursor._getTransformedByInsertion(be,1),U.modelRange=U.modelRange._getTransformedByInsertion(be,1)[0]}}(G.consumable.test(U.viewItem,{attributes:ee+"-end-after"})||G.consumable.test(U.viewItem,{attributes:ee+"-start-after"})||G.consumable.test(U.viewItem,{attributes:ee+"-end-before"})||G.consumable.test(U.viewItem,{attributes:ee+"-start-before"}))&&(U.modelRange||Object.assign(U,G.convertChildren(U.viewItem,U.modelCursor)),G.consumable.consume(U.viewItem,{attributes:ee+"-end-after"})&&ie(U.modelRange.end,U.viewItem.getAttribute(ee+"-end-after").split(",")),G.consumable.consume(U.viewItem,{attributes:ee+"-start-after"})&&ie(U.modelRange.end,U.viewItem.getAttribute(ee+"-start-after").split(",")),G.consumable.consume(U.viewItem,{attributes:ee+"-end-before"})&&ie(U.modelRange.start,U.viewItem.getAttribute(ee+"-end-before").split(",")),G.consumable.consume(U.viewItem,{attributes:ee+"-start-before"})&&ie(U.modelRange.start,U.viewItem.getAttribute(ee+"-start-before").split(",")))}}(s),{priority:b+S})}}(e))}}function J2(l){const e=Zw(l=Ua(l)),i=Jw(l.view),s=i?`element:${i}`:"element";return u=>{u.on(s,e,{priority:l.converterPriority||"normal"})}}function Jw(l){return typeof l=="string"?l:typeof l=="object"&&typeof l.name=="string"?l.name:null}function Zw(l){const e=new ro(l.view);return(i,s,u)=>{const h=e.match(s.viewItem);if(!h)return;const m=h.match;if(m.name=!0,!u.consumable.test(s.viewItem,m))return;const b=function(_,S,T){return _ instanceof Function?_(S,T):T.writer.createElement(_)}(l.model,s.viewItem,u);b&&u.safeInsert(b,s.modelCursor)&&(u.consumable.consume(s.viewItem,m),u.convertChildren(s.viewItem,b),u.updateConversionResult(b,s))}}function Z2(l,e=null){const i=e===null||(h=>h.getAttribute(e)),s=typeof l.model!="object"?l.model:l.model.key,u=typeof l.model!="object"||l.model.value===void 0?i:l.model.value;l.model={key:s,value:u}}function X2(l,e){const i=new ro(l.view);return(s,u,h)=>{if(!u.modelRange&&e)return;const m=i.match(u.viewItem);if(!m||(function(T,O){const U=typeof T=="function"?T(O):T;return typeof U=="object"&&!Jw(U)?!1:!U.classes&&!U.attributes&&!U.styles}(l.view,u.viewItem)?m.match.name=!0:delete m.match.name,!h.consumable.test(u.viewItem,m.match)))return;const b=l.model.key,_=typeof l.model.value=="function"?l.model.value(u.viewItem,h):l.model.value;if(_===null)return;u.modelRange||Object.assign(u,h.convertChildren(u.viewItem,u.modelCursor)),function(T,O,U,G){let ee=!1;for(const ie of Array.from(T.getItems({shallow:U})))G.schema.checkAttribute(ie,O.key)&&(ee=!0,ie.hasAttribute(O.key)||G.writer.setAttribute(O.key,O.value,ie));return ee}(u.modelRange,{key:b,value:_},e,h)&&(h.consumable.test(u.viewItem,{name:!0})&&(m.match.name=!0),h.consumable.consume(u.viewItem,m.match))}}function ex(l,e){return{view:`${l.view}-${e}`,model:(i,s)=>{const u=i.getAttribute("name"),h=l.model(u,s);return s.writer.createElement("$marker",{"data-name":h})}}}function ER(l){l.document.registerPostFixer(e=>function(i,s){const u=s.document.selection,h=s.schema,m=[];let b=!1;for(const _ of u.getRanges()){const S=tx(_,h);S&&!S.isEqual(_)?(m.push(S),b=!0):m.push(_)}return b&&i.setSelection(function(_){const S=[..._],T=new Set;let O=1;for(;O<S.length;){const U=S[O],G=S.slice(0,O);for(const[ee,ie]of G.entries())if(!T.has(ee)){if(U.isEqual(ie))T.add(ee);else if(U.isIntersecting(ie)){T.add(ee),T.add(O);const be=U.getJoined(ie);S.push(be)}}O++}return S.filter((U,G)=>!T.has(G))}(m),{backward:u.isBackward}),!1}(e,l))}function tx(l,e){return l.isCollapsed?function(i,s){const u=i.start,h=s.getNearestSelectionRange(u);if(!h){const b=u.getAncestors().reverse().find(_=>s.isObject(_));return b?it._createOn(b):null}if(!h.isCollapsed)return h;const m=h.start;return u.isEqual(m)?null:new it(m)}(l,e):function(i,s){const{start:u,end:h}=i,m=s.checkChild(u,"$text"),b=s.checkChild(h,"$text"),_=s.getLimitElement(u),S=s.getLimitElement(h);if(_===S){if(m&&b)return null;if(function(U,G,ee){const ie=U.nodeAfter&&!ee.isLimit(U.nodeAfter)||ee.checkChild(U,"$text"),be=G.nodeBefore&&!ee.isLimit(G.nodeBefore)||ee.checkChild(G,"$text");return ie||be}(u,h,s)){const U=u.nodeAfter&&s.isSelectable(u.nodeAfter)?null:s.getNearestSelectionRange(u,"forward"),G=h.nodeBefore&&s.isSelectable(h.nodeBefore)?null:s.getNearestSelectionRange(h,"backward"),ee=U?U.start:u,ie=G?G.end:h;return new it(ee,ie)}}const T=_&&!_.is("rootElement"),O=S&&!S.is("rootElement");if(T||O){const U=u.nodeAfter&&h.nodeBefore&&u.nodeAfter.parent===h.nodeBefore.parent,G=T&&(!U||!rx(u.nodeAfter,s)),ee=O&&(!U||!rx(h.nodeBefore,s));let ie=u,be=h;return G&&(ie=yt._createBefore(nx(_,s))),ee&&(be=yt._createAfter(nx(S,s))),new it(ie,be)}return null}(l,e)}function nx(l,e){let i=l,s=i;for(;e.isLimit(s)&&s.parent;)i=s,s=s.parent;return i}function rx(l,e){return l&&e.isSelectable(l)}class DR extends ze(){constructor(e,i){super(),this.model=e,this.view=new tR(i),this.mapper=new I2,this.downcastDispatcher=new P2({mapper:this.mapper,schema:e.schema});const s=this.model.document,u=s.selection,h=this.model.markers;var m,b,_;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(s,"change",()=>{this.view.change(S=>{this.downcastDispatcher.convertChanges(s.differ,h,S),this.downcastDispatcher.convertSelection(u,h,S)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(S,T){return(O,U)=>{const G=U.newSelection,ee=[];for(const be of G.getRanges())ee.push(T.toModelRange(be));const ie=S.createSelection(ee,{backward:G.isBackward});ie.isEqual(S.document.selection)||S.change(be=>{be.setSelection(ie)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(m=this.mapper,b=this.model.schema,_=this.view,(S,T)=>{if(!_.document.isComposing||k.isAndroid)for(let O=0;O<T.targetRanges.length;O++){const U=T.targetRanges[O],G=m.toModelRange(U),ee=tx(G,b);ee&&!ee.isEqual(G)&&(T.targetRanges[O]=m.toViewRange(ee))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(S,T,O)=>{if(!O.consumable.consume(T.item,S.name))return;const U=O.writer,G=O.mapper.toViewPosition(T.range.start),ee=U.createText(T.item.data);U.insert(G,ee)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(S,T,O)=>{O.convertAttributes(T.item),T.reconversion||!T.item.is("element")||T.item.isEmpty||O.convertChildren(T.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(S,T,O)=>{const U=O.mapper.toViewPosition(T.position),G=T.position.getShiftedBy(T.length),ee=O.mapper.toViewPosition(G,{isPhantom:!0}),ie=O.writer.createRange(U,ee),be=O.writer.remove(ie.getTrimmed());for(const Se of O.writer.createRangeIn(be).getItems())O.mapper.unbindViewElement(Se,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(S,T,O)=>{const U=O.writer,G=U.document.selection;for(const ee of G.getRanges())ee.isCollapsed&&ee.end.parent.isAttached()&&O.writer.mergeAttributes(ee.start);U.setSelection(null)}),this.downcastDispatcher.on("selection",(S,T,O)=>{const U=T.selection;if(U.isCollapsed||!O.consumable.consume(U,"selection"))return;const G=[];for(const ee of U.getRanges())G.push(O.mapper.toViewRange(ee));O.writer.setSelection(G,{backward:U.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(S,T,O)=>{const U=T.selection;if(!U.isCollapsed||!O.consumable.consume(U,"selection"))return;const G=O.writer,ee=U.getFirstPosition(),ie=O.mapper.toViewPosition(ee),be=G.breakAttributes(ie);G.setSelection(be)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(S=>{if(S.rootName=="$graveyard")return null;const T=new Pd(this.view.document,S.name);return T.rootName=S.rootName,this.mapper.bindElements(S,T),T})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const i=typeof e=="string"?e:e.name,s=this.model.markers.get(i);if(!s)throw new N("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:i});this.model.change(()=>{this.model.markers._refresh(s)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class gm{constructor(){this._consumables=new Map}add(e,i){let s;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?s=this._consumables.get(e):(s=new IR(e),this._consumables.set(e,s)),s.add(i))}test(e,i){const s=this._consumables.get(e);return s===void 0?null:e.is("$text")||e.is("documentFragment")?s:s.test(i)}consume(e,i){return!!this.test(e,i)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(i),!0)}revert(e,i){const s=this._consumables.get(e);s!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):s.revert(i))}static consumablesFromElement(e){const i={element:e,name:!0,attributes:[],classes:[],styles:[]},s=e.getAttributeKeys();for(const m of s)m!="style"&&m!="class"&&i.attributes.push(m);const u=e.getClassNames();for(const m of u)i.classes.push(m);const h=e.getStyleNames();for(const m of h)i.styles.push(m);return i}static createFrom(e,i){if(i||(i=new gm),e.is("$text"))return i.add(e),i;e.is("element")&&i.add(e,gm.consumablesFromElement(e)),e.is("documentFragment")&&i.add(e);for(const s of e.getChildren())i=gm.createFrom(s,i);return i}}const Wb=["attributes","classes","styles"];class IR{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const i of Wb)i in e&&this._add(i,e[i])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const i of Wb)if(i in e){const s=this._test(i,e[i]);if(s!==!0)return s}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const i of Wb)i in e&&this._consume(i,e[i])}revert(e){e.name&&(this._canConsumeName=!0);for(const i of Wb)i in e&&this._revert(i,e[i])}_add(e,i){const s=nr(i),u=this._consumables[e];for(const h of s){if(e==="attributes"&&(h==="class"||h==="style"))throw new N("viewconsumable-invalid-attribute",this);if(u.set(h,!0),e==="styles")for(const m of this.element.document.stylesProcessor.getRelatedStyles(h))u.set(m,!0)}}_test(e,i){const s=nr(i),u=this._consumables[e];for(const h of s)if(e!=="attributes"||h!=="class"&&h!=="style"){const m=u.get(h);if(m===void 0)return null;if(!m)return!1}else{const m=h=="class"?"classes":"styles",b=this._test(m,[...this._consumables[m].keys()]);if(b!==!0)return b}return!0}_consume(e,i){const s=nr(i),u=this._consumables[e];for(const h of s)if(e!=="attributes"||h!=="class"&&h!=="style"){if(u.set(h,!1),e=="styles")for(const m of this.element.document.stylesProcessor.getRelatedStyles(h))u.set(m,!1)}else{const m=h=="class"?"classes":"styles";this._consume(m,[...this._consumables[m].keys()])}}_revert(e,i){const s=nr(i),u=this._consumables[e];for(const h of s)if(e!=="attributes"||h!=="class"&&h!=="style")u.get(h)===!1&&u.set(h,!0);else{const m=h=="class"?"classes":"styles";this._revert(m,[...this._consumables[m].keys()])}}}class TR extends ze(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,i)=>{i[0]=new zd(i[0])},{priority:"highest"}),this.on("checkChild",(e,i)=>{i[0]=new zd(i[0]),i[1]=this.getDefinition(i[1])},{priority:"highest"})}register(e,i){if(this._sourceDefinitions[e])throw new N("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},i)],this._clearCache()}extend(e,i){if(!this._sourceDefinitions[e])throw new N("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},i)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let i;return i=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[i]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const i=this.getDefinition(e);return!(!i||!i.isBlock)}isLimit(e){const i=this.getDefinition(e);return!!i&&!(!i.isLimit&&!i.isObject)}isObject(e){const i=this.getDefinition(e);return!!i&&!!(i.isObject||i.isLimit&&i.isSelectable&&i.isContent)}isInline(e){const i=this.getDefinition(e);return!(!i||!i.isInline)}isSelectable(e){const i=this.getDefinition(e);return!!i&&!(!i.isSelectable&&!i.isObject)}isContent(e){const i=this.getDefinition(e);return!!i&&!(!i.isContent&&!i.isObject)}checkChild(e,i){return!!i&&this._checkContextMatch(i,e)}checkAttribute(e,i){const s=this.getDefinition(e.last);return!!s&&s.allowAttributes.includes(i)}checkMerge(e,i){if(e instanceof yt){const s=e.nodeBefore,u=e.nodeAfter;if(!(s instanceof ar))throw new N("schema-check-merge-no-element-before",this);if(!(u instanceof ar))throw new N("schema-check-merge-no-element-after",this);return this.checkMerge(s,u)}for(const s of i.getChildren())if(!this.checkChild(e,s))return!1;return!0}addChildCheck(e){this.on("checkChild",(i,[s,u])=>{if(!u)return;const h=e(s,u);typeof h=="boolean"&&(i.stop(),i.return=h)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(i,[s,u])=>{const h=e(s,u);typeof h=="boolean"&&(i.stop(),i.return=h)},{priority:"high"})}setAttributeProperties(e,i){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),i)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let i;for(e instanceof yt?i=e.parent:i=(e instanceof it?[e]:Array.from(e.getRanges())).reduce((s,u)=>{const h=u.getCommonAncestor();return s?s.getCommonAncestor(h,{includeSelf:!0}):h},null);!this.isLimit(i)&&i.parent;)i=i.parent;return i}checkAttributeInSelection(e,i){if(e.isCollapsed){const s=[...e.getFirstPosition().getAncestors(),new fr("",e.getAttributes())];return this.checkAttribute(s,i)}{const s=e.getRanges();for(const u of s)for(const h of u)if(this.checkAttribute(h.item,i))return!0}return!1}*getValidRanges(e,i){e=function*(s){for(const u of s)yield*u.getMinimalFlatRanges()}(e);for(const s of e)yield*this._getValidRangesForRange(s,i)}getNearestSelectionRange(e,i="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new it(e);let s,u;const h=e.getAncestors().reverse().find(m=>this.isLimit(m))||e.root;i!="both"&&i!="backward"||(s=new yc({boundaries:it._createIn(h),startPosition:e,direction:"backward"})),i!="both"&&i!="forward"||(u=new yc({boundaries:it._createIn(h),startPosition:e}));for(const m of function*(b,_){let S=!1;for(;!S;){if(S=!0,b){const T=b.next();T.done||(S=!1,yield{walker:b,value:T.value})}if(_){const T=_.next();T.done||(S=!1,yield{walker:_,value:T.value})}}}(s,u)){const b=m.walker==s?"elementEnd":"elementStart",_=m.value;if(_.type==b&&this.isObject(_.item))return it._createOn(_.item);if(this.checkChild(_.nextPosition,"$text"))return new it(_.nextPosition)}return null}findAllowedParent(e,i){let s=e.parent;for(;s;){if(this.checkChild(s,i))return s;if(this.isLimit(s))return null;s=s.parent}return null}setAllowedAttributes(e,i,s){const u=s.model;for(const[h,m]of Object.entries(i))u.schema.checkAttribute(e,h)&&s.setAttribute(h,m,e)}removeDisallowedAttributes(e,i){for(const s of e)if(s.is("$text"))ix(this,s,i);else{const u=it._createIn(s).getPositions();for(const h of u)ix(this,h.nodeBefore||h.parent,i)}}getAttributesWithProperty(e,i,s){const u={};for(const[h,m]of e.getAttributes()){const b=this.getAttributeProperties(h);b[i]!==void 0&&(s!==void 0&&s!==b[i]||(u[h]=m))}return u}createContext(e){return new zd(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},i=this._sourceDefinitions,s=Object.keys(i);for(const u of s)e[u]=NR(i[u],u);for(const u of s)MR(e,u);for(const u of s)PR(e,u);for(const u of s)OR(e,u);for(const u of s)LR(e,u),BR(e,u);for(const u of s)jR(e,u),RR(e,u),FR(e,u);this._compiledDefinitions=e}_checkContextMatch(e,i,s=i.length-1){const u=i.getItem(s);if(e.allowIn.includes(u.name)){if(s==0)return!0;{const h=this.getDefinition(u);return this._checkContextMatch(h,i,s-1)}}return!1}*_getValidRangesForRange(e,i){let s=e.start,u=e.start;for(const h of e.getItems({shallow:!0}))h.is("element")&&(yield*this._getValidRangesForRange(it._createIn(h),i)),this.checkAttribute(h,i)||(s.isEqual(u)||(yield new it(s,u)),s=yt._createAfter(h)),u=yt._createAfter(h);s.isEqual(u)||(yield new it(s,u))}findOptimalInsertionRange(e,i){const s=e.getSelectedElement();if(s&&this.isObject(s)&&!this.isInline(s))return i=="before"||i=="after"?new it(yt._createAt(s,i)):it._createOn(s);const u=Ii(e.getSelectedBlocks());if(!u)return new it(e.focus);if(u.isEmpty)return new it(yt._createAt(u,0));const h=yt._createAfter(u);return e.focus.isTouching(h)?new it(h):new it(yt._createBefore(u))}}class zd{constructor(e){if(e instanceof zd)return e;let i;i=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=i.map(UR)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const i=new zd([e]);return i._items=[...this._items,...i._items],i}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function NR(l,e){const i={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(s,u){for(const h of s){const m=Object.keys(h).filter(b=>b.startsWith("is"));for(const b of m)u[b]=!!h[b]}}(l,i),Ud(l,i,"allowIn"),Ud(l,i,"allowContentOf"),Ud(l,i,"allowWhere"),Ud(l,i,"allowAttributes"),Ud(l,i,"allowAttributesOf"),Ud(l,i,"allowChildren"),Ud(l,i,"inheritTypesFrom"),function(s,u){for(const h of s){const m=h.inheritAllFrom;m&&(u.allowContentOf.push(m),u.allowWhere.push(m),u.allowAttributesOf.push(m),u.inheritTypesFrom.push(m))}}(l,i),i}function MR(l,e){const i=l[e];for(const s of i.allowChildren){const u=l[s];u&&u.allowIn.push(e)}i.allowChildren.length=0}function PR(l,e){for(const i of l[e].allowContentOf)l[i]&&zR(l,i).forEach(s=>{s.allowIn.push(e)});delete l[e].allowContentOf}function OR(l,e){for(const i of l[e].allowWhere){const s=l[i];if(s){const u=s.allowIn;l[e].allowIn.push(...u)}}delete l[e].allowWhere}function LR(l,e){for(const i of l[e].allowAttributesOf){const s=l[i];if(s){const u=s.allowAttributes;l[e].allowAttributes.push(...u)}}delete l[e].allowAttributesOf}function BR(l,e){const i=l[e];for(const s of i.inheritTypesFrom){const u=l[s];if(u){const h=Object.keys(u).filter(m=>m.startsWith("is"));for(const m of h)m in i||(i[m]=u[m])}}delete i.inheritTypesFrom}function jR(l,e){const i=l[e],s=i.allowIn.filter(u=>l[u]);i.allowIn=Array.from(new Set(s))}function RR(l,e){const i=l[e];for(const s of i.allowIn)l[s].allowChildren.push(e)}function FR(l,e){const i=l[e];i.allowAttributes=Array.from(new Set(i.allowAttributes))}function Ud(l,e,i){for(const s of l){const u=s[i];typeof u=="string"?e[i].push(u):Array.isArray(u)&&e[i].push(...u)}}function zR(l,e){const i=l[e];return(s=l,Object.keys(s).map(u=>s[u])).filter(u=>u.allowIn.includes(i.name));var s}function UR(l){return typeof l=="string"||l.is("documentFragment")?{name:typeof l=="string"?l:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:l.is("element")?l.name:"$text",*getAttributeKeys(){yield*l.getAttributeKeys()},getAttribute:e=>l.getAttribute(e)}}function ix(l,e,i){for(const s of e.getAttributeKeys())l.checkAttribute(e,s)||i.removeAttribute(s,e)}var qR=Object.defineProperty,VR=Object.defineProperties,HR=Object.getOwnPropertyDescriptors,ox=Object.getOwnPropertySymbols,$R=Object.prototype.hasOwnProperty,WR=Object.prototype.propertyIsEnumerable,sx=(l,e,i)=>e in l?qR(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i;class GR extends oe(){constructor(e){var i;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(i=((s,u)=>{for(var h in u||(u={}))$R.call(u,h)&&sx(s,h,u[h]);if(ox)for(var h of ox(u))WR.call(u,h)&&sx(s,h,u[h]);return s})({},e),VR(i,HR({consumable:null,writer:null,store:null,convertItem:(s,u)=>this._convertItem(s,u),convertChildren:(s,u)=>this._convertChildren(s,u),safeInsert:(s,u)=>this._safeInsert(s,u),updateConversionResult:(s,u)=>this._updateConversionResult(s,u),splitToAllowedParent:(s,u)=>this._splitToAllowedParent(s,u),getSplitParts:s=>this._getSplitParts(s),keepEmptyElement:s=>this._keepEmptyElement(s)})))}convert(e,i,s=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(m,b){let _;for(const S of new zd(m)){const T={};for(const U of S.getAttributeKeys())T[U]=S.getAttribute(U);const O=b.createElement(S.name,T);_&&b.insert(O,_),_=yt._createAt(O,0)}return _}(s,i),this.conversionApi.writer=i,this.conversionApi.consumable=gm.createFrom(e),this.conversionApi.store={};const{modelRange:u}=this._convertItem(e,this._modelCursor),h=i.createDocumentFragment();if(u){this._removeEmptyElements();for(const m of Array.from(this._modelCursor.parent.getChildren()))i.append(m,h);h.markers=function(m,b){const _=new Set,S=new Map,T=it._createIn(m).getItems();for(const O of T)O.is("element","$marker")&&_.add(O);for(const O of _){const U=O.getAttribute("data-name"),G=b.createPositionBefore(O);S.has(U)?S.get(U).end=G.clone():S.set(U,new it(G.clone())),b.remove(O)}return S}(h,i)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,h}_convertItem(e,i){const s={viewItem:e,modelCursor:i,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,s,this.conversionApi):e.is("$text")?this.fire("text",s,this.conversionApi):this.fire("documentFragment",s,this.conversionApi),s.modelRange&&!(s.modelRange instanceof it))throw new N("view-conversion-dispatcher-incorrect-result",this);return{modelRange:s.modelRange,modelCursor:s.modelCursor}}_convertChildren(e,i){let s=i.is("position")?i:yt._createAt(i,0);const u=new it(s);for(const h of Array.from(e.getChildren())){const m=this._convertItem(h,s);m.modelRange instanceof it&&(u.end=m.modelRange.end,s=m.modelCursor)}return{modelRange:u,modelCursor:s}}_safeInsert(e,i){const s=this._splitToAllowedParent(e,i);return!!s&&(this.conversionApi.writer.insert(e,s.position),!0)}_updateConversionResult(e,i){const s=this._getSplitParts(e),u=this.conversionApi.writer;i.modelRange||(i.modelRange=u.createRange(u.createPositionBefore(e),u.createPositionAfter(s[s.length-1])));const h=this._cursorParents.get(e);i.modelCursor=h?u.createPositionAt(h,0):i.modelRange.end}_splitToAllowedParent(e,i){const{schema:s,writer:u}=this.conversionApi;let h=s.findAllowedParent(i,e);if(h){if(h===i.parent)return{position:i};this._modelCursor.parent.getAncestors().includes(h)&&(h=null)}if(!h)return G2(i,e,s)?{position:Y2(i,u)}:null;const m=this.conversionApi.writer.split(i,h),b=[];for(const S of m.range.getWalker())if(S.type=="elementEnd")b.push(S.item);else{const T=b.pop(),O=S.item;this._registerSplitPair(T,O)}const _=m.range.end.parent;return this._cursorParents.set(e,_),{position:m.position,cursorParent:_}}_registerSplitPair(e,i){this._splitParts.has(e)||this._splitParts.set(e,[e]);const s=this._splitParts.get(e);this._splitParts.set(i,s),s.push(i)}_getSplitParts(e){let i;return i=this._splitParts.has(e)?this._splitParts.get(e):[e],i}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const i of this._splitParts.keys())i.isEmpty&&!this._emptyElementsToKeep.has(i)&&(this.conversionApi.writer.remove(i),this._splitParts.delete(i),e=!0);e&&this._removeEmptyElements()}}class YR{getHtml(e){const i=f.document.implementation.createHTMLDocument("").createElement("div");return i.appendChild(e),i.innerHTML}}class KR{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Fb(e,{renderingMode:"data"}),this.htmlWriter=new YR}toData(e){const i=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(i)}toView(e){const i=this._toDom(e);return this.domConverter.domToView(i,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const i=this.domParser.parseFromString(e,"text/html"),s=i.createDocumentFragment(),u=i.body.childNodes;for(;u.length>0;)s.appendChild(u[0]);return s}}class QR extends oe(){constructor(e,i){super(),this.model=e,this.mapper=new I2,this.downcastDispatcher=new P2({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(s,u,h)=>{if(!h.consumable.consume(u.item,s.name))return;const m=h.writer,b=h.mapper.toViewPosition(u.range.start),_=m.createText(u.item.data);m.insert(b,_)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(s,u,h)=>{h.convertAttributes(u.item),u.reconversion||!u.item.is("element")||u.item.isEmpty||h.convertChildren(u.item)},{priority:"lowest"}),this.upcastDispatcher=new GR({schema:e.schema}),this.viewDocument=new Bb(i),this.stylesProcessor=i,this.htmlProcessor=new KR(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new e2(this.viewDocument),this.upcastDispatcher.on("text",(s,u,{schema:h,consumable:m,writer:b})=>{let _=u.modelCursor;if(!m.test(u.viewItem))return;if(!h.checkChild(_,"$text")){if(!G2(_,"$text",h)||u.viewItem.data.trim().length==0)return;const T=_.nodeBefore;_=Y2(_,b),T&&T.is("element","$marker")&&(b.move(b.createRangeOn(T),_),_=b.createPositionAfter(T))}m.consume(u.viewItem);const S=b.createText(u.viewItem.data);b.insert(S,_),u.modelRange=b.createRange(_,_.getShiftedBy(S.offsetSize)),u.modelCursor=u.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(s,u,h)=>{if(!u.modelRange&&h.consumable.consume(u.viewItem,{name:!0})){const{modelRange:m,modelCursor:b}=h.convertChildren(u.viewItem,u.modelCursor);u.modelRange=m,u.modelCursor=b}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(s,u,h)=>{if(!u.modelRange&&h.consumable.consume(u.viewItem,{name:!0})){const{modelRange:m,modelCursor:b}=h.convertChildren(u.viewItem,u.modelCursor);u.modelRange=m,u.modelCursor=b}},{priority:"lowest"}),ze().prototype.decorate.call(this,"init"),ze().prototype.decorate.call(this,"set"),ze().prototype.decorate.call(this,"get"),ze().prototype.decorate.call(this,"toView"),ze().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},W2)},{priority:"lowest"})}get(e={}){const{rootName:i="main",trim:s="empty"}=e;if(!this._checkIfRootsExists([i]))throw new N("datacontroller-get-non-existent-root",this);const u=this.model.document.getRoot(i);return u.isAttached()||j("datacontroller-get-detached-root",this),s!=="empty"||this.model.hasContent(u,{ignoreWhitespaces:!0})?this.stringify(u,e):""}stringify(e,i={}){const s=this.toView(e,i);return this.processor.toData(s)}toView(e,i={}){const s=this.viewDocument,u=this._viewWriter;this.mapper.clearBindings();const h=it._createIn(e),m=new jd(s);this.mapper.bindElements(e,m);const b=e.is("documentFragment")?e.markers:function(_){const S=[],T=_.root.document;if(!T)return new Map;const O=it._createIn(_);for(const U of T.model.markers){const G=U.getRange(),ee=G.isCollapsed,ie=G.start.isEqual(O.start)||G.end.isEqual(O.end);if(ee&&ie)S.push([U.name,G]);else{const be=O.getIntersection(G);be&&S.push([U.name,be])}}return S.sort(([U,G],[ee,ie])=>{if(G.end.compareWith(ie.start)!=="after")return 1;if(G.start.compareWith(ie.end)!=="before")return-1;switch(G.start.compareWith(ie.start)){case"before":return 1;case"after":return-1;default:switch(G.end.compareWith(ie.end)){case"before":return 1;case"after":return-1;default:return ee.localeCompare(U)}}}),new Map(S)}(e);return this.downcastDispatcher.convert(h,b,u,i),m}init(e){if(this.model.document.version)throw new N("datacontroller-init-document-not-empty",this);let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new N("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},s=>{for(const u of Object.keys(i)){const h=this.model.document.getRoot(u);s.insert(this.parse(i[u],h),h,0)}}),Promise.resolve()}set(e,i={}){let s={};if(typeof e=="string"?s.main=e:s=e,!this._checkIfRootsExists(Object.keys(s)))throw new N("datacontroller-set-non-existent-root",this);this.model.enqueueChange(i.batchType||{},u=>{u.setSelection(null),u.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const h of Object.keys(s)){const m=this.model.document.getRoot(h);u.remove(u.createRangeIn(m)),u.insert(this.parse(s[h],m),m,0)}})}parse(e,i="$root"){const s=this.processor.toView(e);return this.toModel(s,i)}toModel(e,i="$root"){return this.model.change(s=>this.upcastDispatcher.convert(e,s,i))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const i of e)if(!this.model.document.getRoot(i))return!1;return!0}}class JR{constructor(e,i){this._helpers=new Map,this._downcast=nr(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=nr(i),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,i){const s=this._downcast.includes(i);if(!this._upcast.includes(i)&&!s)throw new N("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[i],isDowncast:s})}for(e){if(!this._helpers.has(e))throw new N("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:i,view:s}of Xw(e))this.for("upcast").elementToElement({model:i,view:s,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:i,view:s}of Xw(e))this.for("upcast").elementToAttribute({view:s,model:i,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:i,view:s}of Xw(e))this.for("upcast").attributeToAttribute({view:s,model:i})}_createConversionHelpers({name:e,dispatchers:i,isDowncast:s}){if(this._helpers.has(e))throw new N("conversion-group-exists",this);const u=s?new mR(i):new SR(i);this._helpers.set(e,u)}}function*Xw(l){if(l.model.values)for(const e of l.model.values){const i={key:l.model.key,value:e},s=l.view[e],u=l.upcastAlso?l.upcastAlso[e]:void 0;yield*ax(i,s,u)}else yield*ax(l.model,l.view,l.upcastAlso)}function*ax(l,e,i){if(yield{model:l,view:e},i)for(const s of nr(i))yield{model:l,view:s}}class Ts{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,i){return new this(e.baseVersion)}}function ey(l,e){const i=cx(e),s=i.reduce((m,b)=>m+b.offsetSize,0),u=l.parent;wm(l);const h=l.index;return u._insertChild(h,i),km(u,h+i.length),km(u,h),new it(l,l.getShiftedBy(s))}function lx(l){if(!l.isFlat)throw new N("operation-utils-remove-range-not-flat",this);const e=l.start.parent;wm(l.start),wm(l.end);const i=e._removeChildren(l.start.index,l.end.index-l.start.index);return km(e,l.start.index),i}function bm(l,e){if(!l.isFlat)throw new N("operation-utils-move-range-not-flat",this);const i=lx(l);return ey(e=e._getTransformedByDeletion(l.start,l.end.offset-l.start.offset),i)}function cx(l){const e=[];(function i(s){if(typeof s=="string")e.push(new fr(s));else if(s instanceof qa)e.push(new fr(s.data,s.getAttributes()));else if(s instanceof Rd)e.push(s);else if(Ae(s))for(const u of s)i(u)})(l);for(let i=1;i<e.length;i++){const s=e[i],u=e[i-1];s instanceof fr&&u instanceof fr&&ux(s,u)&&(e.splice(i-1,2,new fr(u.data+s.data,u.getAttributes())),i--)}return e}function km(l,e){const i=l.getChild(e-1),s=l.getChild(e);if(i&&s&&i.is("$text")&&s.is("$text")&&ux(i,s)){const u=new fr(i.data+s.data,i.getAttributes());l._removeChildren(e-1,2),l._insertChild(e-1,u)}}function wm(l){const e=l.textNode,i=l.parent;if(e){const s=l.offset-e.startOffset,u=e.index;i._removeChildren(u,1);const h=new fr(e.data.substr(0,s),e.getAttributes()),m=new fr(e.data.substr(s),e.getAttributes());i._insertChild(u,[h,m])}}function ux(l,e){const i=l.getAttributes(),s=e.getAttributes();for(const u of i){if(u[1]!==e.getAttribute(u[0]))return!1;s.next()}return s.next().done}class Un extends Ts{constructor(e,i,s,u){super(u),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=i,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[it._createFromPositionAndShift(this.sourcePosition,this.howMany),it._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Un(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Un(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent,s=this.sourcePosition.offset,u=this.targetPosition.offset;if(s+this.howMany>e.maxOffset)throw new N("move-operation-nodes-do-not-exist",this);if(e===i&&s<u&&u<s+this.howMany)throw new N("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Ie(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const h=this.sourcePosition.path.length-1;if(this.targetPosition.path[h]>=s&&this.targetPosition.path[h]<s+this.howMany)throw new N("move-operation-node-into-itself",this)}}_execute(){bm(it._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,i){const s=yt.fromJSON(e.sourcePosition,i),u=yt.fromJSON(e.targetPosition,i);return new this(s,e.howMany,u,e.baseVersion)}}class Wi extends Ts{constructor(e,i,s){super(s),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new hm(cx(i)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new hm([...this.nodes].map(s=>s._clone(!0))),i=new Wi(this.position,e,this.baseVersion);return i.shouldReceiveAttributes=this.shouldReceiveAttributes,i}getReversed(){const e=this.position.root.document.graveyard,i=new yt(e,[0]);return new Un(this.position,this.nodes.maxOffset,i,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new N("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new hm([...e].map(i=>i._clone(!0))),ey(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,i){const s=[];for(const h of e.nodes)h.name?s.push(ar.fromJSON(h)):s.push(fr.fromJSON(h));const u=new Wi(yt.fromJSON(e.position,i),s,e.baseVersion);return u.shouldReceiveAttributes=e.shouldReceiveAttributes,u}}class pr extends Ts{constructor(e,i,s,u,h){super(h),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=i,this.insertionPosition=s,this.graveyardPosition=u?u.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new yt(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new it(this.splitPosition,e)}get affectedSelectable(){const e=[it._createFromPositionAndShift(this.splitPosition,0),it._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(it._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new pr(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,i=new yt(e,[0]);return new ni(this.moveTargetPosition,this.howMany,this.splitPosition,i,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,i=this.splitPosition.offset;if(!e||e.maxOffset<i)throw new N("split-operation-position-invalid",this);if(!e.parent)throw new N("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new N("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new N("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)bm(it._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const i=e._clone();ey(this.insertionPosition,i)}bm(new it(yt._createAt(e,this.splitPosition.offset),yt._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const i=e.path.slice(0,-1);return i[i.length-1]++,new yt(e.root,i,"toPrevious")}static fromJSON(e,i){const s=yt.fromJSON(e.splitPosition,i),u=yt.fromJSON(e.insertionPosition,i),h=e.graveyardPosition?yt.fromJSON(e.graveyardPosition,i):null;return new this(s,e.howMany,u,h,e.baseVersion)}}class ni extends Ts{constructor(e,i,s,u,h){super(h),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=i,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=u.clone()}get type(){return"merge"}get deletionPosition(){return new yt(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new it(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[it._createOn(e),it._createFromPositionAndShift(this.targetPosition,0),it._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new ni(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),i=this.sourcePosition.path.slice(0,-1),s=new yt(this.sourcePosition.root,i)._getTransformedByMergeOperation(this);return new pr(e,this.howMany,s,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent;if(!e.parent)throw new N("merge-operation-source-position-invalid",this);if(!i.parent)throw new N("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new N("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;bm(it._createIn(e),this.targetPosition),bm(it._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,i){const s=yt.fromJSON(e.sourcePosition,i),u=yt.fromJSON(e.targetPosition,i),h=yt.fromJSON(e.graveyardPosition,i);return new this(s,e.howMany,u,h,e.baseVersion)}}class Xo extends Ts{constructor(e,i,s,u,h,m){super(m),this.name=e,this.oldRange=i?i.clone():null,this.newRange=s?s.clone():null,this.affectsData=h,this._markers=u}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new Xo(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Xo(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,i){return new Xo(e.name,e.oldRange?it.fromJSON(e.oldRange,i):null,e.newRange?it.fromJSON(e.newRange,i):null,i.model.markers,e.affectsData,e.baseVersion)}}const dx=function(l,e){return qb(l,e)};class bi extends Ts{constructor(e,i,s,u,h){super(h),this.range=e.clone(),this.key=i,this.oldValue=s===void 0?null:s,this.newValue=u===void 0?null:u}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new bi(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new bi(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new N("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!dx(e.getAttribute(this.key),this.oldValue))throw new N("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new N("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){dx(this.oldValue,this.newValue)||function(e,i,s){wm(e.start),wm(e.end);for(const u of e.getItems({shallow:!0})){const h=u.is("$textProxy")?u.textNode:u;s!==null?h._setAttribute(i,s):h._removeAttribute(i),km(h.parent,h.index)}km(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,i){return new bi(it.fromJSON(e.range,i),e.key,e.oldValue,e.newValue,e.baseVersion)}}class ji extends Ts{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new ji(this.baseVersion)}getReversed(){return new ji(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class es extends Ts{constructor(e,i,s,u){super(u),this.position=e,this.position.stickiness="toNext",this.oldName=i,this.newName=s}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new es(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new es(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof ar))throw new N("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new N("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,i){return new es(yt.fromJSON(e.position,i),e.oldName,e.newName,e.baseVersion)}}class vc extends Ts{constructor(e,i,s,u,h){super(h),this.root=e,this.key=i,this.oldValue=s===void 0?null:s,this.newValue=u===void 0?null:u}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new vc(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new vc(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new N("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new N("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new N("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,i){if(!i.getRoot(e.root))throw new N("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new vc(i.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class El extends Ts{constructor(e,i,s,u,h){super(h),this.rootName=e,this.elementName=i,this.isAdd=s,this._document=u,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new El(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new El(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,i){return new El(e.rootName,e.elementName,e.isAdd,i,e.baseVersion)}}const pa={};pa[bi.className]=bi,pa[Wi.className]=Wi,pa[Xo.className]=Xo,pa[Un.className]=Un,pa[ji.className]=ji,pa[Ts.className]=Ts,pa[es.className]=es,pa[vc.className]=vc,pa[El.className]=El,pa[pr.className]=pr,pa[ni.className]=ni;class ZR{static fromJSON(e,i){return pa[e.__className].fromJSON(e,i)}}const ty=new Map;function jn(l,e,i){let s=ty.get(l);s||(s=new Map,ty.set(l,s)),s.set(e,i)}function XR(l){return[l]}function hx(l,e,i={}){const s=function(u,h){const m=ty.get(u);return m&&m.has(h)?m.get(h):XR}(l.constructor,e.constructor);try{return s(l=l.clone(),e,i)}catch(u){throw u}}function e7(l,e,i){l=l.slice(),e=e.slice();const s=new t7(i.document,i.useRelations,i.forceWeakRemove);s.setOriginalOperations(l),s.setOriginalOperations(e);const u=s.originalOperations;if(l.length==0||e.length==0)return{operationsA:l,operationsB:e,originalOperations:u};const h=new WeakMap;for(const _ of l)h.set(_,0);const m={nextBaseVersionA:l[l.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:l.length,originalOperationsBCount:e.length};let b=0;for(;b<l.length;){const _=l[b],S=h.get(_);if(S==e.length){b++;continue}const T=e[S],O=hx(_,T,s.getContext(_,T,!0)),U=hx(T,_,s.getContext(T,_,!1));s.updateRelation(_,T),s.setOriginalOperations(O,_),s.setOriginalOperations(U,T);for(const G of O)h.set(G,S+U.length);l.splice(b,1,...O),e.splice(S,1,...U)}return fx(l,m.nextBaseVersionB),fx(e,m.nextBaseVersionA),{operationsA:l,operationsB:e,originalOperations:u}}class t7{constructor(e,i,s=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=i,this._forceWeakRemove=!!s,this._relations=new Map}setOriginalOperations(e,i=null){const s=i?this.originalOperations.get(i):null;for(const u of e)this.originalOperations.set(u,s||u)}updateRelation(e,i){if(e instanceof Un)i instanceof ni?e.targetPosition.isEqual(i.sourcePosition)||i.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,i,"insertAtSource"):e.targetPosition.isEqual(i.deletionPosition)?this._setRelation(e,i,"insertBetween"):e.targetPosition.isAfter(i.sourcePosition)&&this._setRelation(e,i,"moveTargetAfter"):i instanceof Un&&(e.targetPosition.isEqual(i.sourcePosition)||e.targetPosition.isBefore(i.sourcePosition)?this._setRelation(e,i,"insertBefore"):this._setRelation(e,i,"insertAfter"));else if(e instanceof pr){if(i instanceof ni)e.splitPosition.isBefore(i.sourcePosition)&&this._setRelation(e,i,"splitBefore");else if(i instanceof Un)if(e.splitPosition.isEqual(i.sourcePosition)||e.splitPosition.isBefore(i.sourcePosition))this._setRelation(e,i,"splitBefore");else{const s=it._createFromPositionAndShift(i.sourcePosition,i.howMany);if(e.splitPosition.hasSameParentAs(i.sourcePosition)&&s.containsPosition(e.splitPosition)){const u=s.end.offset-e.splitPosition.offset,h=e.splitPosition.offset-s.start.offset;this._setRelation(e,i,{howMany:u,offset:h})}}}else if(e instanceof ni)i instanceof ni?(e.targetPosition.isEqual(i.sourcePosition)||this._setRelation(e,i,"mergeTargetNotMoved"),e.sourcePosition.isEqual(i.targetPosition)&&this._setRelation(e,i,"mergeSourceNotMoved"),e.sourcePosition.isEqual(i.sourcePosition)&&this._setRelation(e,i,"mergeSameElement")):i instanceof pr?e.sourcePosition.isEqual(i.splitPosition)&&this._setRelation(e,i,"splitAtSource"):i instanceof Un&&i.howMany>0&&(e.sourcePosition.isEqual(i.sourcePosition.getShiftedBy(i.howMany))&&this._setRelation(e,i,"mergeSourceAffected"),e.targetPosition.isEqual(i.sourcePosition)&&this._setRelation(e,i,"mergeTargetWasBefore"));else if(e instanceof Xo){const s=e.newRange;if(!s)return;if(i instanceof Un){const u=it._createFromPositionAndShift(i.sourcePosition,i.howMany),h=u.containsPosition(s.start)||u.start.isEqual(s.start),m=u.containsPosition(s.end)||u.end.isEqual(s.end);!h&&!m||u.containsRange(s)||this._setRelation(e,i,{side:h?"left":"right",path:h?s.start.path.slice():s.end.path.slice()})}else if(i instanceof ni){const u=s.start.isEqual(i.targetPosition),h=s.start.isEqual(i.deletionPosition),m=s.end.isEqual(i.deletionPosition),b=s.end.isEqual(i.sourcePosition);(u||h||m||b)&&this._setRelation(e,i,{wasInLeftElement:u,wasStartBeforeMergedElement:h,wasEndBeforeMergedElement:m,wasInRightElement:b})}}}getContext(e,i,s){return{aIsStrong:s,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(i),abRelation:this._useRelations?this._getRelation(e,i):null,baRelation:this._useRelations?this._getRelation(i,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const i=this.originalOperations.get(e);return i.wasUndone||this._history.isUndoneOperation(i)}_getRelation(e,i){const s=this.originalOperations.get(i),u=this._history.getUndoneOperation(s);if(!u)return null;const h=this.originalOperations.get(e),m=this._relations.get(h);return m&&m.get(u)||null}_setRelation(e,i,s){const u=this.originalOperations.get(e),h=this.originalOperations.get(i);let m=this._relations.get(u);m||(m=new Map,this._relations.set(u,m)),m.set(h,s)}}function fx(l,e){for(const i of l)i.baseVersion=e++}function px(l,e,i){const s=l.nodes.getNode(0).getAttribute(e);if(s==i)return null;const u=new it(l.position,l.position.getShiftedBy(l.howMany));return new bi(u,e,s,i,0)}function mx(l,e){return l.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function pf(l,e){const i=[];for(let s=0;s<l.length;s++){const u=l[s],h=new Un(u.start,u.end.offset-u.start.offset,e,0);i.push(h);for(let m=s+1;m<l.length;m++)l[m]=l[m]._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany)[0];e=e._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany)}return i}jn(bi,bi,(l,e,i)=>{if(l.key===e.key&&l.range.start.hasSameParentAs(e.range.start)){const s=l.range.getDifference(e.range).map(h=>new bi(h,l.key,l.oldValue,l.newValue,0)),u=l.range.getIntersection(e.range);return u&&i.aIsStrong&&s.push(new bi(u,e.key,e.newValue,l.newValue,0)),s.length==0?[new ji(0)]:s}return[l]}),jn(bi,Wi,(l,e)=>{if(l.range.start.hasSameParentAs(e.position)&&l.range.containsPosition(e.position)){const i=l.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(s=>new bi(s,l.key,l.oldValue,l.newValue,l.baseVersion));if(e.shouldReceiveAttributes){const s=px(e,l.key,l.oldValue);s&&i.unshift(s)}return i}return l.range=l.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[l]}),jn(bi,ni,(l,e)=>{const i=[];l.range.start.hasSameParentAs(e.deletionPosition)&&(l.range.containsPosition(e.deletionPosition)||l.range.start.isEqual(e.deletionPosition))&&i.push(it._createFromPositionAndShift(e.graveyardPosition,1));const s=l.range._getTransformedByMergeOperation(e);return s.isCollapsed||i.push(s),i.map(u=>new bi(u,l.key,l.oldValue,l.newValue,l.baseVersion))}),jn(bi,Un,(l,e)=>function(s,u){const h=it._createFromPositionAndShift(u.sourcePosition,u.howMany);let m=null,b=[];h.containsRange(s,!0)?m=s:s.start.hasSameParentAs(h.start)?(b=s.getDifference(h),m=s.getIntersection(h)):b=[s];const _=[];for(let S of b){S=S._getTransformedByDeletion(u.sourcePosition,u.howMany);const T=u.getMovedRangeStart(),O=S.start.hasSameParentAs(T),U=S._getTransformedByInsertion(T,u.howMany,O);_.push(...U)}return m&&_.push(m._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany,!1)[0]),_}(l.range,e).map(s=>new bi(s,l.key,l.oldValue,l.newValue,l.baseVersion))),jn(bi,pr,(l,e)=>{if(l.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||l.range.end.offset++,[l];if(l.range.start.hasSameParentAs(e.splitPosition)&&l.range.containsPosition(e.splitPosition)){const i=l.clone();return i.range=new it(e.moveTargetPosition.clone(),l.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),l.range.end=e.splitPosition.clone(),l.range.end.stickiness="toPrevious",[l,i]}return l.range=l.range._getTransformedBySplitOperation(e),[l]}),jn(Wi,bi,(l,e)=>{const i=[l];if(l.shouldReceiveAttributes&&l.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(l.position)){const s=px(l,e.key,e.newValue);s&&i.push(s)}return i}),jn(Wi,Wi,(l,e,i)=>(l.position.isEqual(e.position)&&i.aIsStrong||(l.position=l.position._getTransformedByInsertOperation(e)),[l])),jn(Wi,Un,(l,e)=>(l.position=l.position._getTransformedByMoveOperation(e),[l])),jn(Wi,pr,(l,e)=>(l.position=l.position._getTransformedBySplitOperation(e),[l])),jn(Wi,ni,(l,e)=>(l.position=l.position._getTransformedByMergeOperation(e),[l])),jn(Xo,Wi,(l,e)=>(l.oldRange&&(l.oldRange=l.oldRange._getTransformedByInsertOperation(e)[0]),l.newRange&&(l.newRange=l.newRange._getTransformedByInsertOperation(e)[0]),[l])),jn(Xo,Xo,(l,e,i)=>{if(l.name==e.name){if(!i.aIsStrong)return[new ji(0)];l.oldRange=e.newRange?e.newRange.clone():null}return[l]}),jn(Xo,ni,(l,e)=>(l.oldRange&&(l.oldRange=l.oldRange._getTransformedByMergeOperation(e)),l.newRange&&(l.newRange=l.newRange._getTransformedByMergeOperation(e)),[l])),jn(Xo,Un,(l,e,i)=>{if(l.oldRange&&(l.oldRange=it._createFromRanges(l.oldRange._getTransformedByMoveOperation(e))),l.newRange){if(i.abRelation){const s=it._createFromRanges(l.newRange._getTransformedByMoveOperation(e));if(i.abRelation.side=="left"&&e.targetPosition.isEqual(l.newRange.start))return l.newRange.end=s.end,l.newRange.start.path=i.abRelation.path,[l];if(i.abRelation.side=="right"&&e.targetPosition.isEqual(l.newRange.end))return l.newRange.start=s.start,l.newRange.end.path=i.abRelation.path,[l]}l.newRange=it._createFromRanges(l.newRange._getTransformedByMoveOperation(e))}return[l]}),jn(Xo,pr,(l,e,i)=>{if(l.oldRange&&(l.oldRange=l.oldRange._getTransformedBySplitOperation(e)),l.newRange){if(i.abRelation){const s=l.newRange._getTransformedBySplitOperation(e);return l.newRange.start.isEqual(e.splitPosition)&&i.abRelation.wasStartBeforeMergedElement?l.newRange.start=yt._createAt(e.insertionPosition):l.newRange.start.isEqual(e.splitPosition)&&!i.abRelation.wasInLeftElement&&(l.newRange.start=yt._createAt(e.moveTargetPosition)),l.newRange.end.isEqual(e.splitPosition)&&i.abRelation.wasInRightElement?l.newRange.end=yt._createAt(e.moveTargetPosition):l.newRange.end.isEqual(e.splitPosition)&&i.abRelation.wasEndBeforeMergedElement?l.newRange.end=yt._createAt(e.insertionPosition):l.newRange.end=s.end,[l]}l.newRange=l.newRange._getTransformedBySplitOperation(e)}return[l]}),jn(ni,Wi,(l,e)=>(l.sourcePosition.hasSameParentAs(e.position)&&(l.howMany+=e.howMany),l.sourcePosition=l.sourcePosition._getTransformedByInsertOperation(e),l.targetPosition=l.targetPosition._getTransformedByInsertOperation(e),[l])),jn(ni,ni,(l,e,i)=>{if(l.sourcePosition.isEqual(e.sourcePosition)&&l.targetPosition.isEqual(e.targetPosition)){if(i.bWasUndone){const s=e.graveyardPosition.path.slice();return s.push(0),l.sourcePosition=new yt(e.graveyardPosition.root,s),l.howMany=0,[l]}return[new ji(0)]}if(l.sourcePosition.isEqual(e.sourcePosition)&&!l.targetPosition.isEqual(e.targetPosition)&&!i.bWasUndone&&i.abRelation!="splitAtSource"){const s=l.targetPosition.root.rootName=="$graveyard",u=e.targetPosition.root.rootName=="$graveyard";if(u&&!s||!(s&&!u)&&i.aIsStrong){const h=e.targetPosition._getTransformedByMergeOperation(e),m=l.targetPosition._getTransformedByMergeOperation(e);return[new Un(h,l.howMany,m,0)]}return[new ji(0)]}return l.sourcePosition.hasSameParentAs(e.targetPosition)&&(l.howMany+=e.howMany),l.sourcePosition=l.sourcePosition._getTransformedByMergeOperation(e),l.targetPosition=l.targetPosition._getTransformedByMergeOperation(e),l.graveyardPosition.isEqual(e.graveyardPosition)&&i.aIsStrong||(l.graveyardPosition=l.graveyardPosition._getTransformedByMergeOperation(e)),[l]}),jn(ni,Un,(l,e,i)=>{const s=it._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!i.bWasUndone&&!i.forceWeakRemove&&l.deletionPosition.hasSameParentAs(e.sourcePosition)&&s.containsPosition(l.sourcePosition)?[new ji(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(l.sourcePosition)?l.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(l.sourcePosition)&&i.abRelation=="mergeSourceAffected"?l.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(l.targetPosition)?(l.targetPosition.stickiness="toNone",l.howMany-=e.howMany):e.targetPosition.isEqual(l.targetPosition)&&i.abRelation=="mergeTargetWasBefore"?(l.targetPosition.stickiness="toPrevious",l.howMany+=e.howMany):(l.sourcePosition.hasSameParentAs(e.targetPosition)&&(l.howMany+=e.howMany),l.sourcePosition.hasSameParentAs(e.sourcePosition)&&(l.howMany-=e.howMany)),l.sourcePosition=l.sourcePosition._getTransformedByMoveOperation(e),l.targetPosition=l.targetPosition._getTransformedByMoveOperation(e),l.sourcePosition.stickiness="toPrevious",l.targetPosition.stickiness="toNext",l.graveyardPosition.isEqual(e.targetPosition)||(l.graveyardPosition=l.graveyardPosition._getTransformedByMoveOperation(e)),[l])}),jn(ni,pr,(l,e,i)=>{if(e.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),l.deletionPosition.isEqual(e.graveyardPosition)&&(l.howMany=e.howMany)),l.targetPosition.isEqual(e.splitPosition)){const s=e.howMany!=0,u=e.graveyardPosition&&l.deletionPosition.isEqual(e.graveyardPosition);if(s||u||i.abRelation=="mergeTargetNotMoved")return l.sourcePosition=l.sourcePosition._getTransformedBySplitOperation(e),[l]}if(l.sourcePosition.isEqual(e.splitPosition)){if(i.abRelation=="mergeSourceNotMoved")return l.howMany=0,l.targetPosition=l.targetPosition._getTransformedBySplitOperation(e),[l];if(i.abRelation=="mergeSameElement"||l.sourcePosition.offset>0)return l.sourcePosition=e.moveTargetPosition.clone(),l.targetPosition=l.targetPosition._getTransformedBySplitOperation(e),[l]}return l.sourcePosition.hasSameParentAs(e.splitPosition)&&(l.howMany=e.splitPosition.offset),l.sourcePosition=l.sourcePosition._getTransformedBySplitOperation(e),l.targetPosition=l.targetPosition._getTransformedBySplitOperation(e),[l]}),jn(Un,Wi,(l,e)=>{const i=it._createFromPositionAndShift(l.sourcePosition,l.howMany)._getTransformedByInsertOperation(e,!1)[0];return l.sourcePosition=i.start,l.howMany=i.end.offset-i.start.offset,l.targetPosition.isEqual(e.position)||(l.targetPosition=l.targetPosition._getTransformedByInsertOperation(e)),[l]}),jn(Un,Un,(l,e,i)=>{const s=it._createFromPositionAndShift(l.sourcePosition,l.howMany),u=it._createFromPositionAndShift(e.sourcePosition,e.howMany);let h,m=i.aIsStrong,b=!i.aIsStrong;if(i.abRelation=="insertBefore"||i.baRelation=="insertAfter"?b=!0:i.abRelation!="insertAfter"&&i.baRelation!="insertBefore"||(b=!1),h=l.targetPosition.isEqual(e.targetPosition)&&b?l.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):l.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),mx(l,e)&&mx(e,l))return[e.getReversed()];if(s.containsPosition(e.targetPosition)&&s.containsRange(u,!0))return s.start=s.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),s.end=s.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),pf([s],h);if(u.containsPosition(l.targetPosition)&&u.containsRange(s,!0))return s.start=s.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),s.end=s.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),pf([s],h);const _=Ie(l.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(_=="prefix"||_=="extension")return s.start=s.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),s.end=s.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),pf([s],h);l.type!="remove"||e.type=="remove"||i.aWasUndone||i.forceWeakRemove?l.type=="remove"||e.type!="remove"||i.bWasUndone||i.forceWeakRemove||(m=!1):m=!0;const S=[],T=s.getDifference(u);for(const U of T){U.start=U.start._getTransformedByDeletion(e.sourcePosition,e.howMany),U.end=U.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const G=Ie(U.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",ee=U._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,G);S.push(...ee)}const O=s.getIntersection(u);return O!==null&&m&&(O.start=O.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),O.end=O.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),S.length===0?S.push(O):S.length==1?u.start.isBefore(s.start)||u.start.isEqual(s.start)?S.unshift(O):S.push(O):S.splice(1,0,O)),S.length===0?[new ji(l.baseVersion)]:pf(S,h)}),jn(Un,pr,(l,e,i)=>{let s=l.targetPosition.clone();l.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&i.abRelation!="moveTargetAfter"||(s=l.targetPosition._getTransformedBySplitOperation(e));const u=it._createFromPositionAndShift(l.sourcePosition,l.howMany);if(u.end.isEqual(e.insertionPosition))return e.graveyardPosition||l.howMany++,l.targetPosition=s,[l];if(u.start.hasSameParentAs(e.splitPosition)&&u.containsPosition(e.splitPosition)){let m=new it(e.splitPosition,u.end);return m=m._getTransformedBySplitOperation(e),pf([new it(u.start,e.splitPosition),m],s)}l.targetPosition.isEqual(e.splitPosition)&&i.abRelation=="insertAtSource"&&(s=e.moveTargetPosition),l.targetPosition.isEqual(e.insertionPosition)&&i.abRelation=="insertBetween"&&(s=l.targetPosition);const h=[u._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const m=u.start.isEqual(e.graveyardPosition)||u.containsPosition(e.graveyardPosition);l.howMany>1&&m&&!i.aWasUndone&&h.push(it._createFromPositionAndShift(e.insertionPosition,1))}return pf(h,s)}),jn(Un,ni,(l,e,i)=>{const s=it._createFromPositionAndShift(l.sourcePosition,l.howMany);if(e.deletionPosition.hasSameParentAs(l.sourcePosition)&&s.containsPosition(e.sourcePosition)){if(l.type!="remove"||i.forceWeakRemove){if(l.howMany==1)return i.bWasUndone?(l.sourcePosition=e.graveyardPosition.clone(),l.targetPosition=l.targetPosition._getTransformedByMergeOperation(e),[l]):[new ji(0)]}else if(!i.aWasUndone){const h=[];let m=e.graveyardPosition.clone(),b=e.targetPosition._getTransformedByMergeOperation(e);l.howMany>1&&(h.push(new Un(l.sourcePosition,l.howMany-1,l.targetPosition,0)),m=m._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany-1),b=b._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany-1));const _=e.deletionPosition._getCombined(l.sourcePosition,l.targetPosition),S=new Un(m,1,_,0),T=S.getMovedRangeStart().path.slice();T.push(0);const O=new yt(S.targetPosition.root,T);b=b._getTransformedByMove(m,_,1);const U=new Un(b,e.howMany,O,0);return h.push(S),h.push(U),h}}const u=it._createFromPositionAndShift(l.sourcePosition,l.howMany)._getTransformedByMergeOperation(e);return l.sourcePosition=u.start,l.howMany=u.end.offset-u.start.offset,l.targetPosition=l.targetPosition._getTransformedByMergeOperation(e),[l]}),jn(es,Wi,(l,e)=>(l.position=l.position._getTransformedByInsertOperation(e),[l])),jn(es,ni,(l,e)=>l.position.isEqual(e.deletionPosition)?(l.position=e.graveyardPosition.clone(),l.position.stickiness="toNext",[l]):(l.position=l.position._getTransformedByMergeOperation(e),[l])),jn(es,Un,(l,e)=>(l.position=l.position._getTransformedByMoveOperation(e),[l])),jn(es,es,(l,e,i)=>{if(l.position.isEqual(e.position)){if(!i.aIsStrong)return[new ji(0)];l.oldName=e.newName}return[l]}),jn(es,pr,(l,e)=>{if(Ie(l.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const i=new es(l.position.getShiftedBy(1),l.oldName,l.newName,0);return[l,i]}return l.position=l.position._getTransformedBySplitOperation(e),[l]}),jn(vc,vc,(l,e,i)=>{if(l.root===e.root&&l.key===e.key){if(!i.aIsStrong||l.newValue===e.newValue)return[new ji(0)];l.oldValue=e.newValue}return[l]}),jn(El,El,(l,e)=>l.rootName===e.rootName&&l.isAdd===e.isAdd?[new ji(0)]:[l]),jn(pr,Wi,(l,e)=>(l.splitPosition.hasSameParentAs(e.position)&&l.splitPosition.offset<e.position.offset&&(l.howMany+=e.howMany),l.splitPosition=l.splitPosition._getTransformedByInsertOperation(e),l.insertionPosition=l.insertionPosition._getTransformedByInsertOperation(e),[l])),jn(pr,ni,(l,e,i)=>{if(!l.graveyardPosition&&!i.bWasUndone&&l.splitPosition.hasSameParentAs(e.sourcePosition)){const s=e.graveyardPosition.path.slice();s.push(0);const u=new yt(e.graveyardPosition.root,s),h=pr.getInsertionPosition(new yt(e.graveyardPosition.root,s)),m=new pr(u,0,h,null,0);return l.splitPosition=l.splitPosition._getTransformedByMergeOperation(e),l.insertionPosition=pr.getInsertionPosition(l.splitPosition),l.graveyardPosition=m.insertionPosition.clone(),l.graveyardPosition.stickiness="toNext",[m,l]}return l.splitPosition.hasSameParentAs(e.deletionPosition)&&!l.splitPosition.isAfter(e.deletionPosition)&&l.howMany--,l.splitPosition.hasSameParentAs(e.targetPosition)&&(l.howMany+=e.howMany),l.splitPosition=l.splitPosition._getTransformedByMergeOperation(e),l.insertionPosition=pr.getInsertionPosition(l.splitPosition),l.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedByMergeOperation(e)),[l]}),jn(pr,Un,(l,e,i)=>{const s=it._createFromPositionAndShift(e.sourcePosition,e.howMany);if(l.graveyardPosition){const h=s.start.isEqual(l.graveyardPosition)||s.containsPosition(l.graveyardPosition);if(!i.bWasUndone&&h){const m=l.splitPosition._getTransformedByMoveOperation(e),b=l.graveyardPosition._getTransformedByMoveOperation(e),_=b.path.slice();_.push(0);const S=new yt(b.root,_);return[new Un(m,l.howMany,S,0)]}l.graveyardPosition=l.graveyardPosition._getTransformedByMoveOperation(e)}const u=l.splitPosition.isEqual(e.targetPosition);if(u&&(i.baRelation=="insertAtSource"||i.abRelation=="splitBefore"))return l.howMany+=e.howMany,l.splitPosition=l.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),l.insertionPosition=pr.getInsertionPosition(l.splitPosition),[l];if(u&&i.abRelation&&i.abRelation.howMany){const{howMany:h,offset:m}=i.abRelation;return l.howMany+=h,l.splitPosition=l.splitPosition.getShiftedBy(m),[l]}if(l.splitPosition.hasSameParentAs(e.sourcePosition)&&s.containsPosition(l.splitPosition)){const h=e.howMany-(l.splitPosition.offset-e.sourcePosition.offset);return l.howMany-=h,l.splitPosition.hasSameParentAs(e.targetPosition)&&l.splitPosition.offset<e.targetPosition.offset&&(l.howMany+=e.howMany),l.splitPosition=e.sourcePosition.clone(),l.insertionPosition=pr.getInsertionPosition(l.splitPosition),[l]}return e.sourcePosition.isEqual(e.targetPosition)||(l.splitPosition.hasSameParentAs(e.sourcePosition)&&l.splitPosition.offset<=e.sourcePosition.offset&&(l.howMany-=e.howMany),l.splitPosition.hasSameParentAs(e.targetPosition)&&l.splitPosition.offset<e.targetPosition.offset&&(l.howMany+=e.howMany)),l.splitPosition.stickiness="toNone",l.splitPosition=l.splitPosition._getTransformedByMoveOperation(e),l.splitPosition.stickiness="toNext",l.graveyardPosition?l.insertionPosition=l.insertionPosition._getTransformedByMoveOperation(e):l.insertionPosition=pr.getInsertionPosition(l.splitPosition),[l]}),jn(pr,pr,(l,e,i)=>{if(l.splitPosition.isEqual(e.splitPosition)){if(!l.graveyardPosition&&!e.graveyardPosition)return[new ji(0)];if(l.graveyardPosition&&e.graveyardPosition&&l.graveyardPosition.isEqual(e.graveyardPosition))return[new ji(0)];if(i.abRelation=="splitBefore")return l.howMany=0,l.graveyardPosition=l.graveyardPosition._getTransformedBySplitOperation(e),[l]}if(l.graveyardPosition&&e.graveyardPosition&&l.graveyardPosition.isEqual(e.graveyardPosition)){const s=l.splitPosition.root.rootName=="$graveyard",u=e.splitPosition.root.rootName=="$graveyard";if(u&&!s||!(s&&!u)&&i.aIsStrong){const h=[];return e.howMany&&h.push(new Un(e.moveTargetPosition,e.howMany,e.splitPosition,0)),l.howMany&&h.push(new Un(l.splitPosition,l.howMany,l.moveTargetPosition,0)),h}return[new ji(0)]}if(l.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedBySplitOperation(e)),l.splitPosition.isEqual(e.insertionPosition)&&i.abRelation=="splitBefore")return l.howMany++,[l];if(e.splitPosition.isEqual(l.insertionPosition)&&i.baRelation=="splitBefore"){const s=e.insertionPosition.path.slice();s.push(0);const u=new yt(e.insertionPosition.root,s);return[l,new Un(l.insertionPosition,1,u,0)]}return l.splitPosition.hasSameParentAs(e.splitPosition)&&l.splitPosition.offset<e.splitPosition.offset&&(l.howMany-=e.howMany),l.splitPosition=l.splitPosition._getTransformedBySplitOperation(e),l.insertionPosition=pr.getInsertionPosition(l.splitPosition),[l]});class oo extends oe(yt){constructor(e,i,s="toNone"){if(super(e,i,s),!this.root.is("rootElement"))throw new N("model-liveposition-root-not-rootelement",e);n7.call(this)}detach(){this.stopListening()}toPosition(){return new yt(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,i){return new this(e.root,e.path.slice(),i||e.stickiness)}}function n7(){this.listenTo(this.root.document.model,"applyOperation",(l,e)=>{const i=e[0];i.isDocumentOperation&&r7.call(this,i)},{priority:"low"})}function r7(l){const e=this.getTransformedByOperation(l);if(!this.isEqual(e)){const i=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",i)}}oo.prototype.is=function(l){return l==="livePosition"||l==="model:livePosition"||l=="position"||l==="model:position"};class mf{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},j("batch-constructor-deprecated-string-type"));const{isUndoable:i=!0,isLocal:s=!0,isUndo:u=!1,isTyping:h=!1}=e;this.operations=[],this.isUndoable=i,this.isLocal=s,this.isUndo=u,this.isTyping=h}get type(){return j("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var i7=Object.defineProperty,o7=Object.defineProperties,s7=Object.getOwnPropertyDescriptors,gx=Object.getOwnPropertySymbols,a7=Object.prototype.hasOwnProperty,l7=Object.prototype.propertyIsEnumerable,bx=(l,e,i)=>e in l?i7(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i,kx=(l,e)=>{for(var i in e||(e={}))a7.call(e,i)&&bx(l,i,e[i]);if(gx)for(var i of gx(e))l7.call(e,i)&&bx(l,i,e[i]);return l};class c7{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const i=e;switch(i.type){case"insert":if(this._isInInsertedElement(i.position.parent))return;this._markInsert(i.position.parent,i.position.offset,i.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const s of i.range.getItems({shallow:!0}))this._isInInsertedElement(s.parent)||this._markAttribute(s);break;case"remove":case"move":case"reinsert":{if(i.sourcePosition.isEqual(i.targetPosition)||i.sourcePosition.getShiftedBy(i.howMany).isEqual(i.targetPosition))return;const s=this._isInInsertedElement(i.sourcePosition.parent),u=this._isInInsertedElement(i.targetPosition.parent);s||this._markRemove(i.sourcePosition.parent,i.sourcePosition.offset,i.howMany),u||this._markInsert(i.targetPosition.parent,i.getMovedRangeStart().offset,i.howMany);break}case"rename":{if(this._isInInsertedElement(i.position.parent))return;this._markRemove(i.position.parent,i.position.offset,1),this._markInsert(i.position.parent,i.position.offset,1);const s=it._createFromPositionAndShift(i.position,1);for(const u of this._markerCollection.getMarkersIntersectingRange(s)){const h=u.getData();this.bufferMarkerChange(u.name,h,h)}break}case"split":{const s=i.splitPosition.parent;this._isInInsertedElement(s)||this._markRemove(s,i.splitPosition.offset,i.howMany),this._isInInsertedElement(i.insertionPosition.parent)||this._markInsert(i.insertionPosition.parent,i.insertionPosition.offset,1),i.graveyardPosition&&this._markRemove(i.graveyardPosition.parent,i.graveyardPosition.offset,1);break}case"merge":{const s=i.sourcePosition.parent;this._isInInsertedElement(s.parent)||this._markRemove(s.parent,s.startOffset,1);const u=i.graveyardPosition.parent;this._markInsert(u,i.graveyardPosition.offset,1);const h=i.targetPosition.parent;this._isInInsertedElement(h)||this._markInsert(h,i.targetPosition.offset,s.maxOffset);break}case"detachRoot":case"addRoot":{const s=i.affectedSelectable;if(!s._isLoaded||s.isAttached()==i.isAdd)return;this._bufferRootStateChange(i.rootName,i.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!i.root._isLoaded)return;const s=i.root.rootName;this._bufferRootAttributeChange(s,i.key,i.oldValue,i.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,i,s){i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null),s.range&&s.range.root.is("rootElement")&&!s.range.root._isLoaded&&(s.range=null);let u=this._changedMarkers.get(e);u?u.newMarkerData=s:(u={newMarkerData:s,oldMarkerData:i},this._changedMarkers.set(e,u)),u.oldMarkerData.range==null&&s.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[i,s]of this._changedMarkers)s.oldMarkerData.range!=null&&e.push({name:i,range:s.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[i,s]of this._changedMarkers)s.newMarkerData.range!=null&&e.push({name:i,range:s.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,i])=>({name:e,data:{oldRange:i.oldMarkerData.range,newRange:i.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:i}of this._changedMarkers.values()){if(e.affectsData!==i.affectsData)return!0;if(e.affectsData){const s=e.range&&!i.range,u=!e.range&&i.range,h=e.range&&i.range&&!e.range.isEqual(i.range);if(s||u||h)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let i=[];for(const s of this._changesInElement.keys()){const u=this._changesInElement.get(s).sort((T,O)=>T.offset===O.offset?T.type!=O.type?T.type=="remove"?-1:1:0:T.offset<O.offset?-1:1),h=this._elementSnapshots.get(s),m=wx(s.getChildren()),b=u7(h.length,u);let _=0,S=0;for(const T of b)if(T==="i")i.push(this._getInsertDiff(s,_,m[_])),_++;else if(T==="r")i.push(this._getRemoveDiff(s,_,h[S])),S++;else if(T==="a"){const O=m[_].attributes,U=h[S].attributes;let G;if(m[_].name=="$text")G=new it(yt._createAt(s,_),yt._createAt(s,_+1));else{const ee=s.offsetToIndex(_);G=new it(yt._createAt(s,_),yt._createAt(s.getChild(ee),0))}i.push(...this._getAttributesDiff(G,U,O)),_++,S++}else _++,S++}i.sort((s,u)=>s.position.root!=u.position.root?s.position.root.rootName<u.position.root.rootName?-1:1:s.position.isEqual(u.position)?s.changeCount-u.changeCount:s.position.isBefore(u.position)?-1:1);for(let s=1,u=0;s<i.length;s++){const h=i[u],m=i[s],b=h.type=="remove"&&m.type=="remove"&&h.name=="$text"&&m.name=="$text"&&h.position.isEqual(m.position),_=h.type=="insert"&&m.type=="insert"&&h.name=="$text"&&m.name=="$text"&&h.position.parent==m.position.parent&&h.position.offset+h.length==m.position.offset,S=h.type=="attribute"&&m.type=="attribute"&&h.position.parent==m.position.parent&&h.range.isFlat&&m.range.isFlat&&h.position.offset+h.length==m.position.offset&&h.attributeKey==m.attributeKey&&h.attributeOldValue==m.attributeOldValue&&h.attributeNewValue==m.attributeNewValue;b||_||S?(h.length++,S&&(h.range.end=h.range.end.getShiftedBy(1)),i[s]=null):u=s}i=i.filter(s=>s);for(const s of i)delete s.changeCount,s.type=="attribute"&&(delete s.position,delete s.length);return this._changeCount=0,this._cachedChangesWithGraveyard=i,this._cachedChanges=i.filter(d7),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const i=kx({},e);return i.state!==void 0&&delete i.attributes,i})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,i){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:i?"attached":"detached"});const s=this._changedRoots.get(e);s.state!==void 0?(delete s.state,s.attributes===void 0&&this._changedRoots.delete(e)):s.state=i?"attached":"detached"}_bufferRootAttributeChange(e,i,s,u){const h=this._changedRoots.get(e)||{name:e},m=h.attributes||{};if(m[i]){const b=m[i];u===b.oldValue?delete m[i]:b.newValue=u}else m[i]={oldValue:s,newValue:u};Object.entries(m).length===0?(delete h.attributes,h.state===void 0&&this._changedRoots.delete(e)):(h.attributes=m,this._changedRoots.set(e,h))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const i=it._createOn(e);for(const s of this._markerCollection.getMarkersIntersectingRange(i)){const u=s.getData();this.bufferMarkerChange(s.name,u,u)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const s of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,s,null,e.getAttribute(s));for(const s of this._markerCollection)if(s.getRange().root==e){const u=s.getData();this.bufferMarkerChange(s.name,(i=kx({},u),o7(i,s7({range:null}))),u)}var i}}_markInsert(e,i,s){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const u={type:"insert",offset:i,howMany:s,count:this._changeCount++};this._markChange(e,u)}_markRemove(e,i,s){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const u={type:"remove",offset:i,howMany:s,count:this._changeCount++};this._markChange(e,u),this._removeAllNestedChanges(e,i,s)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const i={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,i)}_markChange(e,i){this._makeSnapshot(e);const s=this._getChangesForElement(e);this._handleChange(i,s),s.push(i);for(let u=0;u<s.length;u++)s[u].howMany<1&&(s.splice(u,1),u--)}_getChangesForElement(e){let i;return this._changesInElement.has(e)?i=this._changesInElement.get(e):(i=[],this._changesInElement.set(e,i)),i}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,wx(e.getChildren()))}_handleChange(e,i){e.nodesToHandle=e.howMany;for(const s of i){const u=e.offset+e.howMany,h=s.offset+s.howMany;if(e.type=="insert"&&(s.type=="insert"&&(e.offset<=s.offset?s.offset+=e.howMany:e.offset<h&&(s.howMany+=e.nodesToHandle,e.nodesToHandle=0)),s.type=="remove"&&e.offset<s.offset&&(s.offset+=e.howMany),s.type=="attribute")){if(e.offset<=s.offset)s.offset+=e.howMany;else if(e.offset<h){const m=s.howMany;s.howMany=e.offset-s.offset,i.unshift({type:"attribute",offset:u,howMany:m-s.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(s.type=="insert"){if(u<=s.offset)s.offset-=e.howMany;else if(u<=h)if(e.offset<s.offset){const m=u-s.offset;s.offset=e.offset,s.howMany-=m,e.nodesToHandle-=m}else s.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=s.offset)e.nodesToHandle-=s.howMany,s.howMany=0;else if(e.offset<h){const m=h-e.offset;s.howMany-=m,e.nodesToHandle-=m}}if(s.type=="remove"&&(u<=s.offset?s.offset-=e.howMany:e.offset<s.offset&&(e.nodesToHandle+=s.howMany,s.howMany=0)),s.type=="attribute"){if(u<=s.offset)s.offset-=e.howMany;else if(e.offset<s.offset){const m=u-s.offset;s.offset=e.offset,s.howMany-=m}else if(e.offset<h)if(u<=h){const m=s.howMany;s.howMany=e.offset-s.offset;const b=m-s.howMany-e.nodesToHandle;i.unshift({type:"attribute",offset:e.offset,howMany:b,count:this._changeCount++})}else s.howMany-=h-e.offset}}if(e.type=="attribute"){if(s.type=="insert")if(e.offset<s.offset&&u>s.offset){if(u>h){const m={type:"attribute",offset:h,howMany:u-h,count:this._changeCount++};this._handleChange(m,i),i.push(m)}e.nodesToHandle=s.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=s.offset&&e.offset<h&&(u>h?(e.nodesToHandle=u-h,e.offset=h):e.nodesToHandle=0);if(s.type=="remove"&&e.offset<s.offset&&u>s.offset){const m={type:"attribute",offset:s.offset,howMany:u-s.offset,count:this._changeCount++};this._handleChange(m,i),i.push(m),e.nodesToHandle=s.offset-e.offset,e.howMany=e.nodesToHandle}s.type=="attribute"&&(e.offset>=s.offset&&u<=h?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=s.offset&&u>=h&&(s.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,i,s){return{type:"insert",position:yt._createAt(e,i),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++,_element:s.element}}_getRemoveDiff(e,i,s){return{type:"remove",position:yt._createAt(e,i),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++,_element:s.element}}_getAttributesDiff(e,i,s){const u=[];s=new Map(s);for(const[h,m]of i){const b=s.has(h)?s.get(h):null;b!==m&&u.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:h,attributeOldValue:m,attributeNewValue:b,changeCount:this._changeCount++}),s.delete(h)}for(const[h,m]of s)u.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:h,attributeOldValue:null,attributeNewValue:m,changeCount:this._changeCount++});return u}_isInInsertedElement(e){const i=e.parent;if(!i)return!1;const s=this._changesInElement.get(i),u=e.startOffset;if(s){for(const h of s)if(h.type=="insert"&&u>=h.offset&&u<h.offset+h.howMany)return!0}return this._isInInsertedElement(i)}_removeAllNestedChanges(e,i,s){const u=new it(yt._createAt(e,i),yt._createAt(e,i+s));for(const h of u.getItems({shallow:!0}))h.is("element")&&(this._elementSnapshots.delete(h),this._changesInElement.delete(h),this._removeAllNestedChanges(h,0,h.maxOffset))}}function wx(l){const e=[];for(const i of l)if(i.is("$text"))for(let s=0;s<i.data.length;s++)e.push({name:"$text",attributes:new Map(i.getAttributes())});else e.push({name:i.name,attributes:new Map(i.getAttributes()),element:i});return e}function u7(l,e){const i=[];let s=0,u=0;for(const h of e){if(h.offset>s){for(let m=0;m<h.offset-s;m++)i.push("e");u+=h.offset-s}if(h.type=="insert"){for(let m=0;m<h.howMany;m++)i.push("i");s=h.offset+h.howMany}else if(h.type=="remove"){for(let m=0;m<h.howMany;m++)i.push("r");s=h.offset,u+=h.howMany}else i.push(..."a".repeat(h.howMany).split("")),s=h.offset+h.howMany,u+=h.howMany}if(u<l)for(let h=0;h<l-u-s;h++)i.push("e");return i}function d7(l){const e="position"in l&&l.position.root.rootName=="$graveyard",i="range"in l&&l.range.root.rootName=="$graveyard";return!e&&!i}class h7{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new N("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,i=this.version){if(!this._operations.length)return[];const s=this._operations[0];e===void 0&&(e=s.baseVersion);let u=i-1;for(const[b,_]of this._gaps)e>b&&e<_&&(e=_),u>b&&u<_&&(u=b-1);if(u<s.baseVersion||e>this.lastOperation.baseVersion)return[];let h=this._baseVersionToOperationIndex.get(e);h===void 0&&(h=0);let m=this._baseVersionToOperationIndex.get(u);return m===void 0&&(m=this._operations.length-1),this._operations.slice(h,m+1)}getOperation(e){const i=this._baseVersionToOperationIndex.get(e);if(i!==void 0)return this._operations[i]}setOperationAsUndone(e,i){this._undoPairs.set(i,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Gb extends ar{constructor(e,i,s="main"){super(i),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=s}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Gb.prototype.is=function(l,e){return e?e===this.name&&(l==="rootElement"||l==="model:rootElement"||l==="element"||l==="model:element"):l==="rootElement"||l==="model:rootElement"||l==="element"||l==="model:element"||l==="node"||l==="model:node"};var f7=Object.defineProperty,p7=Object.defineProperties,m7=Object.getOwnPropertyDescriptors,yx=Object.getOwnPropertySymbols,g7=Object.prototype.hasOwnProperty,b7=Object.prototype.propertyIsEnumerable,vx=(l,e,i)=>e in l?f7(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i,_x=(l,e)=>{for(var i in e||(e={}))g7.call(e,i)&&vx(l,i,e[i]);if(yx)for(var i of yx(e))b7.call(e,i)&&vx(l,i,e[i]);return l},Ax=(l,e)=>p7(l,m7(e));const Cx="$graveyard";class k7 extends oe(){constructor(e){super(),this.model=e,this.history=new h7,this.selection=new Va(this),this.roots=new Ss({idProperty:"rootName"}),this.differ=new c7(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Cx),this.listenTo(e,"applyOperation",(i,s)=>{const u=s[0];u.isDocumentOperation&&this.differ.bufferOperation(u)},{priority:"high"}),this.listenTo(e,"applyOperation",(i,s)=>{const u=s[0];u.isDocumentOperation&&this.history.addOperation(u)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(i,s,u,h,m)=>{const b=Ax(_x({},s.getData()),{range:h});this.differ.bufferMarkerChange(s.name,m,b),u===null&&s.on("change",(_,S)=>{const T=s.getData();this.differ.bufferMarkerChange(s.name,Ax(_x({},T),{range:S}),T)})}),this.registerPostFixer(i=>{let s=!1;for(const u of this.roots)u.isAttached()||u.isEmpty||(i.remove(i.createRangeIn(u)),s=!0);for(const u of this.model.markers)u.getRange().root.isAttached()||(i.removeMarker(u),s=!0);return s})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Cx)}createRoot(e="$root",i="main"){if(this.roots.get(i))throw new N("model-document-createroot-name-exists",this,{name:i});const s=new Gb(this,e,i);return this.roots.add(s),s}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(i=>i.rootName)}getRoots(e=!1){return this.roots.filter(i=>i!=this.graveyard&&(e||i.isAttached())&&i._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=ku(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),i=this.model,s=i.schema,u=i.createPositionFromPath(e,[0]);return s.getNearestSelectionRange(u)||i.createRange(u)}_validateSelectionRange(e){return xx(e.start)&&xx(e.end)}_callPostFixers(e){let i=!1;do for(const s of this._postFixers)if(this.selection.refresh(),i=s(e),i)break;while(i)}}function xx(l){const e=l.textNode;if(e){const i=e.data,s=l.offset-e.startOffset;return!nf(i,s)&&!gu(i,s)}return!0}var w7=Object.defineProperty,y7=Object.defineProperties,v7=Object.getOwnPropertyDescriptors,Sx=Object.getOwnPropertySymbols,_7=Object.prototype.hasOwnProperty,A7=Object.prototype.propertyIsEnumerable,Ex=(l,e,i)=>e in l?w7(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i;class C7 extends oe(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const i=e instanceof gf?e.name:e;return this._markers.has(i)}get(e){return this._markers.get(e)||null}_set(e,i,s=!1,u=!1){const h=e instanceof gf?e.name:e;if(h.includes(","))throw new N("markercollection-incorrect-marker-name",this);const m=this._markers.get(h);if(m){const T=m.getData(),O=m.getRange();let U=!1;return O.isEqual(i)||(m._attachLiveRange(Is.fromRange(i)),U=!0),s!=m.managedUsingOperations&&(m._managedUsingOperations=s,U=!0),typeof u=="boolean"&&u!=m.affectsData&&(m._affectsData=u,U=!0),U&&this.fire(`update:${h}`,m,O,i,T),m}const b=Is.fromRange(i),_=new gf(h,b,s,u);var S;return this._markers.set(h,_),this.fire(`update:${h}`,_,null,i,(S=((T,O)=>{for(var U in O||(O={}))_7.call(O,U)&&Ex(T,U,O[U]);if(Sx)for(var U of Sx(O))A7.call(O,U)&&Ex(T,U,O[U]);return T})({},_.getData()),y7(S,v7({range:null})))),_}_remove(e){const i=e instanceof gf?e.name:e,s=this._markers.get(i);return!!s&&(this._markers.delete(i),this.fire(`update:${i}`,s,s.getRange(),null,s.getData()),this._destroyMarker(s),!0)}_refresh(e){const i=e instanceof gf?e.name:e,s=this._markers.get(i);if(!s)throw new N("markercollection-refresh-marker-not-exists",this);const u=s.getRange();this.fire(`update:${i}`,s,u,u,s.getData())}*getMarkersAtPosition(e){for(const i of this)i.getRange().containsPosition(e)&&(yield i)}*getMarkersIntersectingRange(e){for(const i of this)i.getRange().getIntersection(e)!==null&&(yield i)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const i of this._markers.values())i.name.startsWith(e+":")&&(yield i)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class gf extends oe(Cu){constructor(e,i,s,u){super(),this.name=e,this._liveRange=this._attachLiveRange(i),this._managedUsingOperations=s,this._affectsData=u}get managedUsingOperations(){if(!this._liveRange)throw new N("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new N("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new N("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new N("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new N("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}gf.prototype.is=function(l){return l==="marker"||l==="model:marker"};class x7 extends Ts{constructor(e,i){super(null),this.sourcePosition=e.clone(),this.howMany=i}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new N("detach-operation-on-document-node",this)}_execute(){lx(it._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class _c extends Cu{constructor(e){super(),this.markers=new Map,this._children=new hm,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let i=this;for(const s of e)i=i.getChild(i.offsetToIndex(s));return i}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const i of this._children)e.push(i.toJSON());return e}static fromJSON(e){const i=[];for(const s of e)s.name?i.push(ar.fromJSON(s)):i.push(fr.fromJSON(s));return new _c(i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const s=function(u){return typeof u=="string"?[new fr(u)]:(Ae(u)||(u=[u]),Array.from(u).map(h=>typeof h=="string"?new fr(h):h instanceof qa?new fr(h.data,h.getAttributes()):h))}(i);for(const u of s)u.parent!==null&&u._remove(),u.parent=this;this._children._insertNodes(e,s)}_removeChildren(e,i=1){const s=this._children._removeNodes(e,i);for(const u of s)u.parent=null;return s}}_c.prototype.is=function(l){return l==="documentFragment"||l==="model:documentFragment"};class S7{constructor(e,i){this.model=e,this.batch=i}createText(e,i){return new fr(e,i)}createElement(e,i){return new ar(e,i)}createDocumentFragment(){return new _c}cloneElement(e,i=!0){return e._clone(i)}insert(e,i,s=0){if(this._assertWriterUsedCorrectly(),e instanceof fr&&e.data=="")return;const u=yt._createAt(i,s);if(e.parent){if(Tx(e.root,u.root))return void this.move(it._createOn(e),u);if(e.root.document)throw new N("model-writer-insert-forbidden-move",this);this.remove(e)}const h=u.root.document?u.root.document.version:null,m=new Wi(u,e,h);if(e instanceof fr&&(m.shouldReceiveAttributes=!0),this.batch.addOperation(m),this.model.applyOperation(m),e instanceof _c)for(const[b,_]of e.markers){const S=yt._createAt(_.root,0),T={range:new it(_.start._getCombined(S,u),_.end._getCombined(S,u)),usingOperation:!0,affectsData:!0};this.model.markers.has(b)?this.updateMarker(b,T):this.addMarker(b,T)}}insertText(e,i,s,u){i instanceof _c||i instanceof ar||i instanceof yt?this.insert(this.createText(e),i,s):this.insert(this.createText(e,i),s,u)}insertElement(e,i,s,u){i instanceof _c||i instanceof ar||i instanceof yt?this.insert(this.createElement(e),i,s):this.insert(this.createElement(e,i),s,u)}append(e,i){this.insert(e,i,"end")}appendText(e,i,s){i instanceof _c||i instanceof ar?this.insert(this.createText(e),i,"end"):this.insert(this.createText(e,i),s,"end")}appendElement(e,i,s){i instanceof _c||i instanceof ar?this.insert(this.createElement(e),i,"end"):this.insert(this.createElement(e,i),s,"end")}setAttribute(e,i,s){if(this._assertWriterUsedCorrectly(),s instanceof it){const u=s.getMinimalFlatRanges();for(const h of u)Dx(this,e,i,h)}else Ix(this,e,i,s)}setAttributes(e,i){for(const[s,u]of la(e))this.setAttribute(s,u,i)}removeAttribute(e,i){if(this._assertWriterUsedCorrectly(),i instanceof it){const s=i.getMinimalFlatRanges();for(const u of s)Dx(this,e,null,u)}else Ix(this,e,null,i)}clearAttributes(e){this._assertWriterUsedCorrectly();const i=s=>{for(const u of s.getAttributeKeys())this.removeAttribute(u,s)};if(e instanceof it)for(const s of e.getItems())i(s);else i(e)}move(e,i,s){if(this._assertWriterUsedCorrectly(),!(e instanceof it))throw new N("writer-move-invalid-range",this);if(!e.isFlat)throw new N("writer-move-range-not-flat",this);const u=yt._createAt(i,s);if(u.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!Tx(e.root,u.root))throw new N("writer-move-different-document",this);const h=e.root.document?e.root.document.version:null,m=new Un(e.start,e.end.offset-e.start.offset,u,h);this.batch.addOperation(m),this.model.applyOperation(m)}remove(e){this._assertWriterUsedCorrectly();const i=(e instanceof it?e:it._createOn(e)).getMinimalFlatRanges().reverse();for(const s of i)this._addOperationForAffectedMarkers("move",s),E7(s.start,s.end.offset-s.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const i=e.nodeBefore,s=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(i instanceof ar))throw new N("writer-merge-no-element-before",this);if(!(s instanceof ar))throw new N("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,i,s){return this.model.createPositionFromPath(e,i,s)}createPositionAt(e,i){return this.model.createPositionAt(e,i)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,i){return this.model.createRange(e,i)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const i=e.nodeBefore,s=e.nodeAfter;this.move(it._createIn(s),yt._createAt(i,"end")),this.remove(s)}_merge(e){const i=yt._createAt(e.nodeBefore,"end"),s=yt._createAt(e.nodeAfter,0),u=e.root.document.graveyard,h=new yt(u,[0]),m=e.root.document.version,b=new ni(s,e.nodeAfter.maxOffset,i,h,m);this.batch.addOperation(b),this.model.applyOperation(b)}rename(e,i){if(this._assertWriterUsedCorrectly(),!(e instanceof ar))throw new N("writer-rename-not-element-instance",this);const s=e.root.document?e.root.document.version:null,u=new es(yt._createBefore(e),e.name,i,s);this.batch.addOperation(u),this.model.applyOperation(u)}split(e,i){this._assertWriterUsedCorrectly();let s,u,h=e.parent;if(!h.parent)throw new N("writer-split-element-no-parent",this);if(i||(i=h.parent),!e.parent.getAncestors({includeSelf:!0}).includes(i))throw new N("writer-split-invalid-limit-element",this);do{const m=h.root.document?h.root.document.version:null,b=h.maxOffset-e.offset,_=pr.getInsertionPosition(e),S=new pr(e,b,_,null,m);this.batch.addOperation(S),this.model.applyOperation(S),s||u||(s=h,u=e.parent.nextSibling),h=(e=this.createPositionAfter(e.parent)).parent}while(h!==i);return{position:e,range:new it(yt._createAt(s,"end"),yt._createAt(u,0))}}wrap(e,i){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new N("writer-wrap-range-not-flat",this);const s=i instanceof ar?i:new ar(i);if(s.childCount>0)throw new N("writer-wrap-element-not-empty",this);if(s.parent!==null)throw new N("writer-wrap-element-attached",this);this.insert(s,e.start);const u=new it(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(u,yt._createAt(s,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new N("writer-unwrap-element-no-parent",this);this.move(it._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,i){if(this._assertWriterUsedCorrectly(),!i||typeof i.usingOperation!="boolean")throw new N("writer-addmarker-no-usingoperation",this);const s=i.usingOperation,u=i.range,h=i.affectsData!==void 0&&i.affectsData;if(this.model.markers.has(e))throw new N("writer-addmarker-marker-exists",this);if(!u)throw new N("writer-addmarker-no-range",this);return s?(ym(this,e,null,u,h),this.model.markers.get(e)):this.model.markers._set(e,u,s,h)}updateMarker(e,i){this._assertWriterUsedCorrectly();const s=typeof e=="string"?e:e.name,u=this.model.markers.get(s);if(!u)throw new N("writer-updatemarker-marker-not-exists",this);if(!i)return j("writer-updatemarker-reconvert-using-editingcontroller",{markerName:s}),void this.model.markers._refresh(u);const h=typeof i.usingOperation=="boolean",m=typeof i.affectsData=="boolean",b=m?i.affectsData:u.affectsData;if(!h&&!i.range&&!m)throw new N("writer-updatemarker-wrong-options",this);const _=u.getRange(),S=i.range?i.range:_;h&&i.usingOperation!==u.managedUsingOperations?i.usingOperation?ym(this,s,null,S,b):(ym(this,s,_,null,b),this.model.markers._set(s,S,void 0,b)):u.managedUsingOperations?ym(this,s,_,S,b):this.model.markers._set(s,S,void 0,b)}removeMarker(e){this._assertWriterUsedCorrectly();const i=typeof e=="string"?e:e.name;if(!this.model.markers.has(i))throw new N("writer-removemarker-no-marker",this);const s=this.model.markers.get(i);if(!s.managedUsingOperations)return void this.model.markers._remove(i);ym(this,i,s.getRange(),null,s.affectsData)}addRoot(e,i="$root"){this._assertWriterUsedCorrectly();const s=this.model.document.getRoot(e);if(s&&s.isAttached())throw new N("writer-addroot-root-exists",this);const u=this.model.document,h=new El(e,i,!0,u,u.version);return this.batch.addOperation(h),this.model.applyOperation(h),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const i=typeof e=="string"?this.model.document.getRoot(e):e;if(!i||!i.isAttached())throw new N("writer-detachroot-no-root",this);for(const h of this.model.markers)h.getRange().root===i&&this.removeMarker(h);for(const h of i.getAttributeKeys())this.removeAttribute(h,i);this.remove(this.createRangeIn(i));const s=this.model.document,u=new El(i.rootName,i.name,!1,s,s.version);this.batch.addOperation(u),this.model.applyOperation(u)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,i){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,i)}setSelectionAttribute(e,i){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,i);else for(const[s,u]of la(e))this._setSelectionAttribute(s,u)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const i of e)this._removeSelectionAttribute(i)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,i){const s=this.model.document.selection;if(s.isCollapsed&&s.anchor.parent.isEmpty){const u=Va._getStoreAttributeKey(e);this.setAttribute(u,i,s.anchor.parent)}s._setAttribute(e,i)}_removeSelectionAttribute(e){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const s=Va._getStoreAttributeKey(e);this.removeAttribute(s,i.anchor.parent)}i._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new N("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,i){for(const s of this.model.markers){if(!s.managedUsingOperations)continue;const u=s.getRange();let h=!1;if(e==="move"){const m=i;h=m.containsPosition(u.start)||m.start.isEqual(u.start)||m.containsPosition(u.end)||m.end.isEqual(u.end)}else{const m=i,b=m.nodeBefore,_=m.nodeAfter,S=u.start.parent==b&&u.start.isAtEnd,T=u.end.parent==_&&u.end.offset==0,O=u.end.nodeAfter==_,U=u.start.nodeAfter==_;h=S||T||O||U}h&&this.updateMarker(s.name,{range:u})}}}function Dx(l,e,i,s){const u=l.model,h=u.document;let m,b,_,S=s.start;for(const O of s.getWalker({shallow:!0}))_=O.item.getAttribute(e),m&&b!=_&&(b!=i&&T(),S=m),m=O.nextPosition,b=_;function T(){const O=new it(S,m),U=O.root.document?h.version:null,G=new bi(O,e,b,i,U);l.batch.addOperation(G),u.applyOperation(G)}m instanceof yt&&m!=S&&b!=i&&T()}function Ix(l,e,i,s){const u=l.model,h=u.document,m=s.getAttribute(e);let b,_;if(m!=i){if(s.root===s){const S=s.document?h.version:null;_=new vc(s,e,m,i,S)}else{b=new it(yt._createBefore(s),l.createPositionAfter(s));const S=b.root.document?h.version:null;_=new bi(b,e,m,i,S)}l.batch.addOperation(_),u.applyOperation(_)}}function ym(l,e,i,s,u){const h=l.model,m=h.document,b=new Xo(e,i,s,h.markers,!!u,m.version);l.batch.addOperation(b),h.applyOperation(b)}function E7(l,e,i,s){let u;if(l.root.document){const h=s.document,m=new yt(h.graveyard,[0]);u=new Un(l,e,m,h.version)}else u=new x7(l,e);i.addOperation(u),s.applyOperation(u)}function Tx(l,e){return l===e||l instanceof Gb&&e instanceof Gb}function D7(l,e,i={}){if(e.isCollapsed)return;const s=e.getFirstRange();if(s.root.rootName=="$graveyard")return;const u=l.schema;l.change(h=>{if(!i.doNotResetEntireContent&&function(S,T){const O=S.getLimitElement(T);if(!T.containsEntireContent(O))return!1;const U=T.getFirstRange();return U.start.parent==U.end.parent?!1:S.checkChild(O,"paragraph")}(u,e))return void function(S,T){const O=S.model.schema.getLimitElement(T);S.remove(S.createRangeIn(O)),Px(S,S.createPositionAt(O,0),T)}(h,e);const m={};if(!i.doNotAutoparagraph){const S=e.getSelectedElement();S&&Object.assign(m,u.getAttributesWithProperty(S,"copyOnReplace",!0))}const[b,_]=function(S){const T=S.root.document.model,O=S.start;let U=S.end;if(T.hasContent(S,{ignoreMarkers:!0})){const G=function(ee){const ie=ee.parent,be=ie.root.document.model.schema,Se=ie.getAncestors({parentFirst:!0,includeSelf:!0});for(const Le of Se){if(be.isLimit(Le))return null;if(be.isBlock(Le))return Le}}(U);if(G&&U.isTouching(T.createPositionAt(G,0))){const ee=T.createSelection(S);T.modifySelection(ee,{direction:"backward"});const ie=ee.getLastPosition(),be=T.createRange(ie,U);T.hasContent(be,{ignoreMarkers:!0})||(U=ie)}}return[oo.fromPosition(O,"toPrevious"),oo.fromPosition(U,"toNext")]}(s);b.isTouching(_)||h.remove(h.createRange(b,_)),i.leaveUnmerged||(function(S,T,O){const U=S.model;if(!ny(S.model.schema,T,O))return;const[G,ee]=function(ie,be){const Se=ie.getAncestors(),Le=be.getAncestors();let et=0;for(;Se[et]&&Se[et]==Le[et];)et++;return[Se[et],Le[et]]}(T,O);!G||!ee||(!U.hasContent(G,{ignoreMarkers:!0})&&U.hasContent(ee,{ignoreMarkers:!0})?Mx(S,T,O,G.parent):Nx(S,T,O,G.parent))}(h,b,_),u.removeDisallowedAttributes(b.parent.getChildren(),h)),Ox(h,e,b),!i.doNotAutoparagraph&&function(S,T){const O=S.checkChild(T,"$text"),U=S.checkChild(T,"paragraph");return!O&&U}(u,b)&&Px(h,b,e,m),b.detach(),_.detach()})}function Nx(l,e,i,s){const u=e.parent,h=i.parent;if(u!=s&&h!=s){for(e=l.createPositionAfter(u),(i=l.createPositionBefore(h)).isEqual(e)||l.insert(h,e),l.merge(e);i.parent.isEmpty;){const m=i.parent;i=l.createPositionBefore(m),l.remove(m)}ny(l.model.schema,e,i)&&Nx(l,e,i,s)}}function Mx(l,e,i,s){const u=e.parent,h=i.parent;if(u!=s&&h!=s){for(e=l.createPositionAfter(u),(i=l.createPositionBefore(h)).isEqual(e)||l.insert(u,i);e.parent.isEmpty;){const m=e.parent;e=l.createPositionBefore(m),l.remove(m)}i=l.createPositionBefore(h),function(m,b){const _=b.nodeBefore,S=b.nodeAfter;_.name!=S.name&&m.rename(_,S.name),m.clearAttributes(_),m.setAttributes(Object.fromEntries(S.getAttributes()),_),m.merge(b)}(l,i),ny(l.model.schema,e,i)&&Mx(l,e,i,s)}}function ny(l,e,i){const s=e.parent,u=i.parent;return s!=u&&!l.isLimit(s)&&!l.isLimit(u)&&function(h,m,b){const _=new it(h,m);for(const S of _.getWalker())if(b.isLimit(S.item))return!1;return!0}(e,i,l)}function Px(l,e,i,s={}){const u=l.createElement("paragraph");l.model.schema.setAllowedAttributes(u,s,l),l.insert(u,e),Ox(l,i,l.createPositionAt(u,0))}function Ox(l,e,i){e instanceof Va?l.setSelection(i):e.setTo(i)}function Lx(l,e){const i=[];Array.from(l.getItems({direction:"backward"})).map(s=>e.createRangeOn(s)).filter(s=>(s.start.isAfter(l.start)||s.start.isEqual(l.start))&&(s.end.isBefore(l.end)||s.end.isEqual(l.end))).forEach(s=>{i.push(s.start.parent),e.remove(s)}),i.forEach(s=>{let u=s;for(;u.parent&&u.isEmpty;){const h=e.createRangeOn(u);u=u.parent,e.remove(h)}})}class I7{constructor(e,i,s){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=i,this.position=s,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=i.createDocumentFragment(),this._documentFragmentPosition=i.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const i of Array.from(e))this._handleNode(i);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const i=this.writer.createPositionAfter(this._lastNode),s=this.writer.createPositionAfter(e);if(s.isAfter(i)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new N("insertcontent-invalid-insertion-position",this);this.position=s,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?it._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new it(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let i=this._checkAndAutoParagraphToAllowedPosition(e);i||(i=this._checkAndSplitToAllowedPosition(e),i)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=oo.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new N("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=oo.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=oo.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof ar)||!this._canMergeLeft(e))return;const i=oo._createBefore(e);i.stickiness="toNext";const s=oo.fromPosition(this.position,"toNext");this._affectedStart.isEqual(i)&&(this._affectedStart.detach(),this._affectedStart=oo._createAt(i.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=oo._createAt(i.nodeBefore,"end","toNext")),this.position=s.toPosition(),s.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof ar)||!this._canMergeRight(e))return;const i=oo._createAfter(e);if(i.stickiness="toNext",!this.position.isEqual(i))throw new N("insertcontent-invalid-insertion-position",this);this.position=yt._createAt(i.nodeBefore,"end");const s=oo.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(i)&&(this._affectedEnd.detach(),this._affectedEnd=oo._createAt(i.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=oo._createAt(i.nodeBefore,0,"toPrevious")),this.position=s.toPosition(),s.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_canMergeLeft(e){const i=e.previousSibling;return i instanceof ar&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(i,e)}_canMergeRight(e){const i=e.nextSibling;return i instanceof ar&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(e,i)}_tryAutoparagraphing(e){const i=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,i)&&this.schema.checkChild(i,e)&&(i._appendChild(e),this._handleNode(i))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const i=this.writer.createElement("paragraph");return this.writer.insert(i,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=i,this.position=this.writer.createPositionAt(i,0),!0}_checkAndSplitToAllowedPosition(e){const i=this._getAllowedIn(this.position.parent,e);if(!i)return!1;for(i!=this.position.parent&&this._insertPartialFragment();i!=this.position.parent;)if(this.position.isAtStart){const s=this.position.parent;this.position=this.writer.createPositionBefore(s),s.isEmpty&&s.parent===i&&this.writer.remove(s)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const s=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=s,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,i){return this.schema.checkChild(e,i)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,i)}}function T7(l,e,i,s={}){if(!l.schema.isObject(e))throw new N("insertobject-element-not-an-object",l,{object:e});const u=i||l.document.selection;let h=u;s.findOptimalPosition&&l.schema.isBlock(e)&&(h=l.createSelection(l.schema.findOptimalInsertionRange(u,s.findOptimalPosition)));const m=Ii(u.getSelectedBlocks()),b={};return m&&Object.assign(b,l.schema.getAttributesWithProperty(m,"copyOnReplace",!0)),l.change(_=>{h.isCollapsed||l.deleteContent(h,{doNotAutoparagraph:!0});let S=e;const T=h.anchor.parent;!l.schema.checkChild(T,e)&&l.schema.checkChild(T,"paragraph")&&l.schema.checkChild("paragraph",e)&&(S=_.createElement("paragraph"),_.insert(e,S)),l.schema.setAllowedAttributes(S,b,_);const O=l.insertContent(S,h);return O.isCollapsed||s.setSelection&&function(U,G,ee,ie){const be=U.model;if(ee=="on")return void U.setSelection(G,"on");if(ee!="after")throw new N("insertobject-invalid-place-parameter-value",be);let Se=G.nextSibling;if(be.schema.isInline(G))return void U.setSelection(G,"after");!(Se&&be.schema.checkChild(Se,"$text"))&&be.schema.checkChild(G.parent,"paragraph")&&(Se=U.createElement("paragraph"),be.schema.setAllowedAttributes(Se,ie,U),be.insertContent(Se,U.createPositionAfter(G))),Se&&U.setSelection(Se,0)}(_,e,s.setSelection,b),O})}const N7=' ,.?!:;"-()';function M7(l,e){const{isForward:i,walker:s,unit:u,schema:h,treatEmojiAsSingleUnit:m}=l,{type:b,item:_,nextPosition:S}=e;if(b=="text")return l.unit==="word"?function(T,O){let U=T.position.textNode;for(U||(U=O?T.position.nodeAfter:T.position.nodeBefore);U&&U.is("$text");){const G=T.position.offset-U.startOffset;if(L7(U,G,O))U=O?T.position.nodeAfter:T.position.nodeBefore;else{if(O7(U.data,G,O))break;T.next()}}return T.position}(s,i):function(T,O,U){const G=T.position.textNode;if(G){const ee=G.data;let ie=T.position.offset-G.startOffset;for(;nf(ee,ie)||O=="character"&&gu(ee,ie)||U&&Eb(ee,ie);)T.next(),ie=T.position.offset-G.startOffset}return T.position}(s,u,m);if(b==(i?"elementStart":"elementEnd")){if(h.isSelectable(_))return yt._createAt(_,i?"after":"before");if(h.checkChild(S,"$text"))return S}else{if(h.isLimit(_))return void s.skip(()=>!0);if(h.checkChild(S,"$text"))return S}}function P7(l,e){const i=l.root,s=yt._createAt(i,e?"end":0);return e?new it(l,s):new it(s,l)}function O7(l,e,i){const s=e+(i?0:-1);return N7.includes(l.charAt(s))}function L7(l,e,i){return e===(i?l.offsetSize:0)}class B7 extends ze(){constructor(){super(),this.markers=new C7,this.document=new k7(this),this.schema=new TR,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,i)=>{i[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,i)=>{if(i.name==="$marker")return!0}),ER(this),this.document.registerPostFixer(W2),this.on("insertContent",(e,[i,s])=>{e.return=function(u,h,m){return u.change(b=>{const _=m||u.document.selection;_.isCollapsed||u.deleteContent(_,{doNotAutoparagraph:!0});const S=new I7(u,b,_.anchor),T=[];let O;if(h.is("documentFragment")){if(h.markers.size){const ee=[];for(const[ie,be]of h.markers){const{start:Se,end:Le}=be,et=Se.isEqual(Le);ee.push({position:Se,name:ie,isCollapsed:et},{position:Le,name:ie,isCollapsed:et})}ee.sort(({position:ie},{position:be})=>ie.isBefore(be)?1:-1);for(const{position:ie,name:be,isCollapsed:Se}of ee){let Le=null,et=null;const ft=ie.parent===h&&ie.isAtStart,Mt=ie.parent===h&&ie.isAtEnd;ft||Mt?Se&&(et=ft?"start":"end"):(Le=b.createElement("$marker"),b.insert(Le,ie)),T.push({name:be,element:Le,collapsed:et})}}O=h.getChildren()}else O=[h];S.handleNodes(O);let U=S.getSelectionRange();if(h.is("documentFragment")&&T.length){const ee=U?Is.fromRange(U):null,ie={};for(let be=T.length-1;be>=0;be--){const{name:Se,element:Le,collapsed:et}=T[be],ft=!ie[Se];if(ft&&(ie[Se]=[]),Le){const Mt=b.createPositionAt(Le,"before");ie[Se].push(Mt),b.remove(Le)}else{const Mt=S.getAffectedRange();if(!Mt){et&&ie[Se].push(S.position);continue}et?ie[Se].push(Mt[et]):ie[Se].push(ft?Mt.start:Mt.end)}}for(const[be,[Se,Le]]of Object.entries(ie))Se&&Le&&Se.root===Le.root&&Se.root.document&&!b.model.markers.has(be)&&b.addMarker(be,{usingOperation:!0,affectsData:!0,range:new it(Se,Le)});ee&&(U=ee.toRange(),ee.detach())}U&&(_ instanceof Va?b.setSelection(U):_.setTo(U));const G=S.getAffectedRange()||u.createRange(_.anchor);return S.destroy(),G})}(this,i,s)}),this.on("insertObject",(e,[i,s,u])=>{e.return=T7(this,i,s,u)}),this.on("canEditAt",e=>{const i=!this.document.isReadOnly;e.return=i,i||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new mf,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(i){N.rethrowUnexpectedError(i,this)}}enqueueChange(e,i){try{e?typeof e=="function"?(i=e,e=new mf):e instanceof mf||(e=new mf(e)):e=new mf,this._pendingChanges.push({batch:e,callback:i}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(s){N.rethrowUnexpectedError(s,this)}}applyOperation(e){e._execute()}insertContent(e,i,s,...u){const h=ry(i,s);return this.fire("insertContent",[e,h,s,...u])}insertObject(e,i,s,u,...h){const m=ry(i,s);return this.fire("insertObject",[e,m,u,u,...h])}deleteContent(e,i){D7(this,e,i)}modifySelection(e,i){(function(s,u,h={}){const m=s.schema,b=h.direction!="backward",_=h.unit?h.unit:"character",S=!!h.treatEmojiAsSingleUnit,T=u.focus,O=new yc({boundaries:P7(T,b),singleCharacters:!0,direction:b?"forward":"backward"}),U={walker:O,schema:m,isForward:b,unit:_,treatEmojiAsSingleUnit:S};let G;for(;G=O.next();){if(G.done)return;const ee=M7(U,G.value);if(ee)return void(u instanceof Va?s.change(ie=>{ie.setSelectionFocus(ee)}):u.setFocus(ee))}})(this,e,i)}getSelectedContent(e){return function(i,s){return i.change(u=>{const h=u.createDocumentFragment(),m=s.getFirstRange();if(!m||m.isCollapsed)return h;const b=m.start.root,_=m.start.getCommonPath(m.end),S=b.getNodeByPath(_);let T;T=m.start.parent==m.end.parent?m:u.createRange(u.createPositionAt(S,m.start.path[_.length]),u.createPositionAt(S,m.end.path[_.length]+1));const O=T.end.offset-T.start.offset;for(const U of T.getItems({shallow:!0}))U.is("$textProxy")?u.appendText(U.data,U.getAttributes(),h):u.append(u.cloneElement(U,!0),h);if(T!=m){const U=m._getTransformedByMove(T.start,u.createPositionAt(h,0),O)[0],G=u.createRange(u.createPositionAt(h,0),U.start);Lx(u.createRange(U.end,u.createPositionAt(h,"end")),u),Lx(G,u)}return h})}(this,e)}hasContent(e,i={}){const s=e instanceof it?e:it._createIn(e);if(s.isCollapsed)return!1;const{ignoreWhitespaces:u=!1,ignoreMarkers:h=!1}=i;if(!h){for(const m of this.markers.getMarkersIntersectingRange(s))if(m.affectsData)return!0}for(const m of s.getItems())if(this.schema.isContent(m)&&(!m.is("$textProxy")||!u||m.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const i=ry(e);return this.fire("canEditAt",[i])}createPositionFromPath(e,i,s){return new yt(e,i,s)}createPositionAt(e,i){return yt._createAt(e,i)}createPositionAfter(e){return yt._createAfter(e)}createPositionBefore(e){return yt._createBefore(e)}createRange(e,i){return new it(e,i)}createRangeIn(e){return it._createIn(e)}createRangeOn(e){return it._createOn(e)}createSelection(...e){return new Ds(...e)}createBatch(e){return new mf(e)}createOperationFromJSON(e){return ZR.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const i=this._pendingChanges[0].batch;this._currentWriter=new S7(this,i);const s=this._pendingChanges[0].callback(this._currentWriter);e.push(s),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function ry(l,e){if(l)return l instanceof Ds||l instanceof Va?l:l instanceof Rd?e||e===0?new Ds(l,e):l.is("rootElement")?new Ds(l,"in"):new Ds(l,"on"):new Ds(l)}class j7 extends Au{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class iy extends Au{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class Ac{constructor(e){this.document=e}createDocumentFragment(e){return new jd(this.document,e)}createElement(e,i,s){return new yo(this.document,e,i,s)}createText(e){return new xn(this.document,e)}clone(e,i=!1){return e._clone(i)}appendChild(e,i){return i._appendChild(e)}insertChild(e,i,s){return s._insertChild(e,i)}removeChildren(e,i,s){return s._removeChildren(e,i)}remove(e){const i=e.parent;return i?this.removeChildren(i.getChildIndex(e),1,i):[]}replace(e,i){const s=e.parent;if(s){const u=s.getChildIndex(e);return this.removeChildren(u,1,s),this.insertChild(u,i,s),!0}return!1}unwrapElement(e){const i=e.parent;if(i){const s=i.getChildIndex(e);this.remove(e),this.insertChild(s,e.getChildren(),i)}}rename(e,i){const s=new yo(this.document,e,i.getAttributes(),i.getChildren());return this.replace(i,s)?s:null}setAttribute(e,i,s){s._setAttribute(e,i)}removeAttribute(e,i){i._removeAttribute(e)}addClass(e,i){i._addClass(e)}removeClass(e,i){i._removeClass(e)}setStyle(e,i,s){Nn(e)&&s===void 0?i._setStyle(e):s._setStyle(e,i)}removeStyle(e,i){i._removeStyle(e)}setCustomProperty(e,i,s){s._setCustomProperty(e,i)}removeCustomProperty(e,i){return i._removeCustomProperty(e)}createPositionAt(e,i){return Dt._createAt(e,i)}createPositionAfter(e){return Dt._createAfter(e)}createPositionBefore(e){return Dt._createBefore(e)}createRange(e,i){return new Gt(e,i)}createRangeOn(e){return Gt._createOn(e)}createRangeIn(e){return Gt._createIn(e)}createSelection(...e){return new qo(...e)}}class R7{constructor(){this._commands=new Map}add(e,i){this._commands.set(e,i)}get(e){return this._commands.get(e)}execute(e,...i){const s=this.get(e);if(!s)throw new N("commandcollection-command-not-found",this,{commandName:e});return s.execute(...i)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}var F7=Object.defineProperty,Bx=Object.getOwnPropertySymbols,z7=Object.prototype.hasOwnProperty,U7=Object.prototype.propertyIsEnumerable,jx=(l,e,i)=>e in l?F7(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i;const oy="contentEditing",Rx="common";class q7{constructor(e){this.keystrokeInfos=new Map,this._editor=e;const i=e.config.get("menuBar.isVisible"),s=e.locale.t;this.addKeystrokeInfoCategory({id:oy,label:s("Content editing keystrokes"),description:s("These keyboard shortcuts allow for quick access to content editing features.")});const u=[{label:s("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:s("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:s("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:s("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:s("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:s("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];i&&u.push({label:s("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:s("User interface and content navigation keystrokes"),description:s("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:u}]})}addKeystrokeInfoCategory({id:e,label:i,description:s,groups:u}){this.keystrokeInfos.set(e,{id:e,label:i,description:s,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:Rx}),u&&u.forEach(h=>{this.addKeystrokeInfoGroup(((m,b)=>{for(var _ in b||(b={}))z7.call(b,_)&&jx(m,_,b[_]);if(Bx)for(var _ of Bx(b))U7.call(b,_)&&jx(m,_,b[_]);return m})({categoryId:e},h))})}addKeystrokeInfoGroup({categoryId:e=oy,id:i,label:s,keystrokes:u}){const h=this.keystrokeInfos.get(e);if(!h)throw new N("accessibility-unknown-keystroke-info-category",this._editor,{groupId:i,categoryId:e});h.groups.set(i,{id:i,label:s,keystrokes:u||[]})}addKeystrokeInfos({categoryId:e=oy,groupId:i=Rx,keystrokes:s}){if(!this.keystrokeInfos.has(e))throw new N("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:s});const u=this.keystrokeInfos.get(e);if(!u.groups.has(i))throw new N("accessibility-unknown-keystroke-info-group",this._editor,{groupId:i,categoryId:e,keystrokes:s});u.groups.get(i).keystrokes.push(...s)}}var Fx=Object.getOwnPropertySymbols,V7=Object.prototype.hasOwnProperty,H7=Object.prototype.propertyIsEnumerable,zx=(l,e)=>{var i={};for(var s in l)V7.call(l,s)&&e.indexOf(s)<0&&(i[s]=l[s]);if(l!=null&&Fx)for(var s of Fx(l))e.indexOf(s)<0&&H7.call(l,s)&&(i[s]=l[s]);return i};class $7 extends ze(){constructor(e={}){super();const i=this.constructor,s=i.defaultConfig||{},{translations:u}=s,h=zx(s,["translations"]),m=e,{translations:b=u}=m,_=zx(m,["translations"]),S=e.language||h.language;this._context=e.context||new gi({language:S,translations:b}),this._context._addEditor(this,!e.context);const T=Array.from(i.builtinPlugins||[]);this.config=new Lo(_,h),this.config.define("plugins",T),this.config.define(this._context._getEditorConfig()),this.plugins=new eo(this,T,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new R7,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new B7,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const O=new Ob;this.data=new QR(this.model,O),this.editing=new DR(this.model,O),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new JR([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new to(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new q7(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new N("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new N("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new N("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,i=e.get("plugins"),s=e.get("removePlugins")||[],u=e.get("extraPlugins")||[],h=e.get("substitutePlugins")||[];return this.plugins.init(i.concat(u),s,h)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(i=>this.once("ready",i))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...i){try{return this.commands.execute(e,...i)}catch(s){N.rethrowUnexpectedError(s,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function sy(l){return class extends l{updateSourceElement(e){if(!this.sourceElement)throw new N("editor-missing-sourceelement",this);const i=this.config.get("updateSourceElementOnDestroy"),s=this.sourceElement instanceof HTMLTextAreaElement;if(!i&&!s)return void _d(this.sourceElement,"");const u=typeof e=="string"?e:this.data.get();_d(this.sourceElement,u)}}}sy.updateSourceElement=sy(Object).prototype.updateSourceElement;class Ux extends ti{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Ss({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new N("pendingactions-add-invalid-message",this);const i=new(ze());return i.set("message",e),this._actions.add(i),this.hasAny=!0,i}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const dn={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var qx=a(7801),W7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(qx.A,W7),qx.A.locals;class Yb extends Nt{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${P()}`;const i=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:i.to("for")},children:[{text:i.to("text")}]})}}class G7 extends Nt{constructor(e,i){super(e);const s=e.t,u=new Yb;u.text=s("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":u.id,role:"document",tabindex:-1},children:[En(document,"p",{},s("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(i.values())),u]})}focus(){this.element.focus()}_createCategories(e){return e.map(i=>{const s=[En(document,"h3",{},i.label),...Array.from(i.groups.values()).map(u=>this._createGroup(u)).flat()];return i.description&&s.splice(1,0,En(document,"p",{},i.description)),En(document,"section",{},s)})}_createGroup(e){const i=e.keystrokes.sort((u,h)=>u.label.localeCompare(h.label)).map(u=>this._createGroupRow(u)).flat(),s=[En(document,"dl",{},i)];return e.label&&s.unshift(En(document,"h4",{},e.label)),s}_createGroupRow(e){const i=this.locale.t,s=En(document,"dt"),u=En(document,"dd"),h=function(b){return typeof b=="string"?[[b]]:typeof b[0]=="string"?[b]:b}(e.keystroke),m=[];for(const b of h)m.push(b.map(Y7).join(""));return s.innerHTML=e.label,u.innerHTML=m.join(", ")+(e.mayRequireFn&&k.isMac?` ${i("(may require <kbd>Fn</kbd>)")}`:""),[s,u]}}function Y7(l){return tf(l).split("+").map(e=>`<kbd>${e}</kbd>`).join("+")}const Vx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var Hx=a(8527),K7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(Hx.A,K7),Hx.A.locals;class Q7 extends lt{constructor(){super(...arguments),this.contentView=null}static get requires(){return[Sc]}static get pluginName(){return"AccessibilityHelp"}init(){const e=this.editor,i=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const s=this._createButton(qn);return s.set({tooltip:!0,withText:!1,label:i("Accessibility help")}),s}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const s=this._createButton(Ns);return s.label=i("Accessibility"),s}),e.keystrokes.set("Alt+0",(s,u)=>{this._showDialog(),u()}),this._setupRootLabels()}_createButton(e){const i=new e(this.editor.locale);return i.set({keystroke:"Alt+0",icon:Vx}),i.on("execute",()=>this._showDialog()),i}_setupRootLabels(){const e=this.editor,i=e.editing.view,s=e.t;function u(h,m){const b=`${m.getAttribute("aria-label")}. ${s("Press %0 for help.",[tf("Alt+0")])}`;h.setAttribute("aria-label",b,m)}e.ui.on("ready",()=>{i.change(h=>{for(const m of i.document.roots)u(h,m)}),e.on("addRoot",(h,m)=>{const b=e.editing.view.document.getRoot(m.rootName);i.change(_=>u(_,b))},{priority:"low"})})}_showDialog(){const e=this.editor,i=e.plugins.get("Dialog"),s=e.locale.t;this.contentView||(this.contentView=new G7(e.locale,e.accessibility.keystrokeInfos)),i.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:s("Accessibility help"),icon:Vx,hasCloseButton:!0,content:this.contentView})}}class J7 extends Ro{constructor(e,i=[]){super(i),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new I({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=En(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var $x=a(7621),Z7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()($x.A,Z7),$x.A.locals;const Wx=class extends Nt{constructor(){super();const l=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",l.if("isVisible","ck-hidden",e=>!e),"ck-reset_all-excluded",l.if("isColorInherited","ck-icon_inherit-color")],viewBox:l.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const l=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=l.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:i,value:s}of Array.from(l.attributes))Wx.presentationalAttributeNames.includes(i)&&this.element.setAttribute(i,s);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;l.childNodes.length>0;)this.element.appendChild(l.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(l=>{l.style.fill=this.fillColor})}};let Cc=Wx;Cc.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class X7 extends Nt{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var Gx=a(9715),eF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(Gx.A,eF),Gx.A.locals;class qn extends Nt{constructor(e,i=new X7){super(e),this._focusDelayed=null;const s=this.bindTemplate,u=P();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${u}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(i),this.iconView=new Cc,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const h={tag:"button",attributes:{class:["ck","ck-button",s.to("class"),s.if("isEnabled","ck-disabled",m=>!m),s.if("isVisible","ck-hidden",m=>!m),s.to("isOn",m=>m?"ck-on":"ck-off"),s.if("withText","ck-button_with-text"),s.if("withKeystroke","ck-button_with-keystroke")],role:s.to("role"),type:s.to("type",m=>m||"button"),tabindex:s.to("tabindex"),"aria-checked":s.to("ariaChecked"),"aria-label":s.to("ariaLabel"),"aria-labelledby":s.to("ariaLabelledBy"),"aria-disabled":s.if("isEnabled",!0,m=>!m),"aria-pressed":s.to("isOn",m=>!!this.isToggleable&&String(!!m)),"data-cke-tooltip-text":s.to("_tooltipString"),"data-cke-tooltip-position":s.to("tooltipPosition")},children:this.children,on:{click:s.to(m=>{this.isEnabled?this.fire("execute"):m.preventDefault()})}};k.isSafari&&(this._focusDelayed||(this._focusDelayed=Xp(()=>this.focus(),0)),h.on.mousedown=s.to(()=>{this._focusDelayed()}),h.on.mouseup=s.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(h)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new Nt;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",i=>tf(i))}]}),e}_getTooltipString(e,i,s){return e?typeof e=="string"?e:(s&&(s=tf(s)),e instanceof Function?e(i,s):`${i}${s?` (${s})`:""}`):""}}var Yx=a(4391),tF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(Yx.A,tF),Yx.A.locals;class Kb extends qn{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Nt;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class Kx extends qn{constructor(e){super(e),this.buttonView=this,this._fileInputView=new nF(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class nF extends Nt{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:i.to("acceptedType"),multiple:i.to("allowMultipleFiles")},on:{change:i.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const Qb='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var Qx=a(25),rF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(Qx.A,rF),Qx.A.locals;class iF extends Nt{constructor(e,i){super(e);const s=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),i&&this.children.addMany(i),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",s.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:s.if("isCollapsed","hidden"),"aria-labelledby":s.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new qn(this.locale),i=e.bindTemplate;return e.set({withText:!0,icon:Qb}),e.extendTemplate({attributes:{"aria-expanded":i.to("isOn",s=>String(s))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",s=>!s),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}var Jx=a(7317),oF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(Jx.A,oF),Jx.A.locals,a(6931),a(9047);var Zx=a(4962),sF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(Zx.A,sF),Zx.A.locals;class Jb extends Nt{constructor(e,i){super(e);const s=`ck-labeled-field-view-${P()}`,u=`ck-labeled-field-view-status-${P()}`;this.fieldView=i(this,s,u),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(s),this.statusView=this._createStatusView(u),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(m,b)=>m||b);const h=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",h.to("class"),h.if("isEnabled","ck-disabled",m=>!m),h.if("isEmpty","ck-labeled-field-view_empty"),h.if("isFocused","ck-labeled-field-view_focused"),h.if("placeholder","ck-labeled-field-view_placeholder"),h.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const i=new Yb(this.locale);return i.for=e,i.bind("text").to(this,"label"),i}_createStatusView(e){const i=new Nt(this.locale),s=this.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",s.if("errorText","ck-labeled-field-view__status_error"),s.if("_statusText","ck-hidden",u=>!u)],id:e,role:s.if("errorText","alert")},children:[{text:s.to("_statusText")}]}),i}focus(e){this.fieldView.focus(e)}}class aF extends Nt{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new Ti,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",i.if("isFocused","ck-input_focused"),i.if("isEmpty","ck-input-text_empty"),i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),tabindex:i.to("tabIndex"),readonly:i.to("isReadOnly"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById"),"aria-label":i.to("ariaLabel")},on:{input:i.to((...s)=>{this.fire("input",...s),this._updateIsEmpty()}),change:i.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,i,s)=>{this._setDomElementValue(s),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}var Xx=a(253),lF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(Xx.A,lF),Xx.A.locals;class cF extends aF{constructor(e){super(e),this.set("inputMode","text");const i=this.bindTemplate;this.extendTemplate({attributes:{inputmode:i.to("inputMode")}})}}class uF extends cF{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var e5=a(1671),dF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(e5.A,dF),e5.A.locals;class hF extends Nt{constructor(e){super(e);const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",s=>`ck-dropdown__panel_${s}`),i.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:i.to(s=>{s.target.tagName.toLocaleLowerCase()!=="input"&&s.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():j("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var t5=a(8149),fF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(t5.A,fF),t5.A.locals;const ay=class extends Nt{constructor(l,e,i){super(l);const s=this.bindTemplate;this.buttonView=e,this.panelView=i,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Zi,this.focusTracker=new Ti,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",u=>!u)],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[e,i]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":s.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(e,i,s)=>{if(s)if(this.panelPosition==="auto"){const u=ay._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=u?u.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const l=(e,i)=>{this.isOpen&&(this.isOpen=!1,i())};this.keystrokes.set("arrowdown",(e,i)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,i())}),this.keystrokes.set("arrowright",(e,i)=>{this.isOpen&&i()}),this.keystrokes.set("arrowleft",l),this.keystrokes.set("esc",l)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:l,north:e,southEast:i,southWest:s,northEast:u,northWest:h,southMiddleEast:m,southMiddleWest:b,northMiddleEast:_,northMiddleWest:S}=ay.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[i,s,m,b,l,u,h,_,S,e]:[s,i,b,m,l,h,u,S,_,e]}};let ly=ay;ly.defaultPanelPositions={south:(l,e)=>({top:l.bottom,left:l.left-(e.width-l.width)/2,name:"s"}),southEast:l=>({top:l.bottom,left:l.left,name:"se"}),southWest:(l,e)=>({top:l.bottom,left:l.left-e.width+l.width,name:"sw"}),southMiddleEast:(l,e)=>({top:l.bottom,left:l.left-(e.width-l.width)/4,name:"sme"}),southMiddleWest:(l,e)=>({top:l.bottom,left:l.left-3*(e.width-l.width)/4,name:"smw"}),north:(l,e)=>({top:l.top-e.height,left:l.left-(e.width-l.width)/2,name:"n"}),northEast:(l,e)=>({top:l.top-e.height,left:l.left,name:"ne"}),northWest:(l,e)=>({top:l.top-e.height,left:l.left-e.width+l.width,name:"nw"}),northMiddleEast:(l,e)=>({top:l.top-e.height,left:l.left-(e.width-l.width)/4,name:"nme"}),northMiddleWest:(l,e)=>({top:l.top-e.height,left:l.left-3*(e.width-l.width)/4,name:"nmw"})},ly._getOptimalPosition=Cd;class pF extends qn{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Cc;return e.content=Qb,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class ma extends oe(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const i in e.actions){let s=e.actions[i];typeof s=="string"&&(s=[s]);for(const u of s)e.keystrokeHandler.set(u,(h,m)=>{this[i](),m()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(cy)||null}get last(){return this.focusables.filter(cy).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((i,s)=>{const u=i.element===this.focusTracker.focusedElement;return u&&(e=s),u}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}_focus(e,i){e&&this.focusTracker.focusedElement!==e.element&&e.focus(i)}_getDomFocusableItem(e){const i=this.focusables.length;if(!i)return null;const s=this.current;if(s===null)return this[e===1?"first":"last"];let u=this.focusables.get(s),h=(s+i+e)%i;do{const m=this.focusables.get(h);if(cy(m)){u=m;break}h=(h+i+e)%i}while(h!==s);return u}}function cy(l){return vm(l)&&aa(l.element)}function vm(l){return!(!("focus"in l)||typeof l.focus!="function")}class n5 extends Nt{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class mF extends Nt{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var gF=Object.defineProperty,r5=Object.getOwnPropertySymbols,bF=Object.prototype.hasOwnProperty,kF=Object.prototype.propertyIsEnumerable,i5=(l,e,i)=>e in l?gF(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i,o5=(l,e)=>{for(var i in e||(e={}))bF.call(e,i)&&i5(l,i,e[i]);if(r5)for(var i of r5(e))kF.call(e,i)&&i5(l,i,e[i]);return l};function s5(l){if(Array.isArray(l))return{items:l,removeItems:[]};const e={items:[],removeItems:[]};return l?o5(o5({},e),l):e}var a5=a(9677),wF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(a5.A,wF),a5.A.locals;const yF={alignLeft:dn.alignLeft,bold:dn.bold,importExport:dn.importExport,paragraph:dn.paragraph,plus:dn.plus,text:dn.text,threeVerticalDots:dn.threeVerticalDots,pilcrow:dn.pilcrow,dragIndicator:dn.dragIndicator};class uy extends Nt{constructor(e,i){super(e);const s=this.bindTemplate,u=this.t;this.options=i||{},this.set("ariaLabel",u("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Ti,this.keystrokes=new Zi,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new vF(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const h=e.uiLanguageDirection==="rtl";this._focusCycler=new ma({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[h?"arrowright":"arrowleft","arrowup"],focusNext:[h?"arrowleft":"arrowright","arrowdown"]}});const m=["ck","ck-toolbar",s.to("class"),s.if("isCompact","ck-toolbar_compact")];var b;this.options.shouldGroupWhenFull&&this.options.isFloating&&m.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:m,role:"toolbar","aria-label":s.to("ariaLabel"),style:{maxWidth:s.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(b=this,b.bindTemplate.to(_=>{_.target===b.element&&_.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new AF(this):new _F(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(e,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,i,s){this.items.addMany(this._buildItemsFromConfig(e,i,s))}_buildItemsFromConfig(e,i,s){const u=s5(e),h=s||u.removeItems;return this._cleanItemsConfiguration(u.items,i,h).map(m=>we(m)?this._createNestedToolbarDropdown(m,i,h):m==="|"?new n5:m==="-"?new mF:i.create(m)).filter(m=>!!m)}_cleanItemsConfiguration(e,i,s){const u=e.filter((h,m,b)=>h==="|"||s.indexOf(h)===-1&&(h==="-"?!this.options.shouldGroupWhenFull||(j("toolbarview-line-break-ignored-when-grouping-items",b),!1):!(!we(h)&&!i.has(h))||(j("toolbarview-item-unavailable",{item:h}),!1)));return this._cleanSeparatorsAndLineBreaks(u)}_cleanSeparatorsAndLineBreaks(e){const i=m=>m!=="-"&&m!=="|",s=e.length,u=e.findIndex(i);if(u===-1)return[];const h=s-e.slice().reverse().findIndex(i);return e.slice(u,h).filter((m,b,_)=>i(m)?!0:!(b>0&&_[b-1]===m))}_createNestedToolbarDropdown(e,i,s){let{label:u,icon:h,items:m,tooltip:b=!0,withText:_=!1}=e;if(m=this._cleanItemsConfiguration(m,i,s),!m.length)return null;const S=xc(this.locale);return u||j("toolbarview-nested-toolbar-dropdown-missing-label",e),S.class="ck-toolbar__nested-toolbar-dropdown",S.buttonView.set({label:u,tooltip:b,withText:!!_}),h!==!1?S.buttonView.icon=yF[h]||h||dn.threeVerticalDots:S.buttonView.withText=!0,fy(S,()=>S.toolbarView._buildItemsFromConfig(m,i,s)),S}}class vF extends Nt{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class _F{constructor(e){const i=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(s=>s),e.focusables.bindTo(e.items).using(s=>vm(s)?s:null),e.extendTemplate({attributes:{class:[i.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class AF{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(i=>i),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(i,s)=>{const u=s.index,h=Array.from(s.added);for(const m of s.removed)u>=this.ungroupedItems.length?this.groupedItems.remove(m):this.ungroupedItems.remove(m);for(let m=u;m<u+h.length;m++){const b=h[m-u];m>this.ungroupedItems.length?this.groupedItems.add(b,m-this.ungroupedItems.length):this.ungroupedItems.add(b,m)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!aa(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let i;for(;this._areItemsOverflowing;)this._groupLastItem(),i=!0;if(!i&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,i=this.viewLocale.uiLanguageDirection,s=new Ut(e.lastChild),u=new Ut(e);if(!this.cachedPadding){const h=f.window.getComputedStyle(e),m=i==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(h[m])}return i==="ltr"?s.right>u.right-this.cachedPadding:s.left<u.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new sa(this.viewElement,i=>{e&&e===i.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=i.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new n5),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,i=e.t,s=xc(e);return s.class="ck-toolbar__grouped-dropdown",s.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",fy(s,this.groupedItems),s.buttonView.set({label:i("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:dn.threeVerticalDots}),s}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{vm(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class bf extends Nt{constructor(e){super(e);const i=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",i.if("isVisible","ck-hidden",s=>!s)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class dy extends Nt{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class Zb extends Nt{constructor(e,i=new Yb){super(e);const s=this.bindTemplate,u=new hy(e);this.set({label:"",isVisible:!0}),this.labelView=i,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,u]),u.set({role:"group",ariaLabelledBy:i.id}),u.focusTracker.destroy(),u.keystrokes.destroy(),this.items=u.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",s.if("isVisible","ck-hidden",h=>!h)]},children:this.children})}focus(){if(this.items){const e=this.items.find(i=>!(i instanceof dy));e&&e.focus()}}}var l5=a(5199),CF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(l5.A,CF),l5.A.locals;class hy extends Nt{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const i=this.bindTemplate;this.focusables=new Ro,this.items=this.createCollection(),this.focusTracker=new Ti,this.keystrokes=new Zi,this._focusCycler=new ma({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:i.to("role"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof Zb?this._registerFocusableItemsGroup(e):e instanceof bf&&this._registerFocusableListItem(e);this.items.on("change",(e,i)=>{for(const s of i.removed)s instanceof Zb?this._deregisterFocusableItemsGroup(s):s instanceof bf&&this._deregisterFocusableListItem(s);for(const s of Array.from(i.added).reverse())s instanceof Zb?this._registerFocusableItemsGroup(s,i.index):this._registerFocusableListItem(s,i.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,i){this.focusTracker.add(e.element),this.focusables.add(e,i)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(i,s)=>{for(const u of s.removed)this._deregisterFocusableListItem(u);for(const u of Array.from(s.added).reverse())this._registerFocusableListItem(u,this.items.getIndex(e)+s.index)}}_registerFocusableItemsGroup(e,i){Array.from(e.items).forEach((u,h)=>{const m=i!==void 0?i+h:void 0;this._registerFocusableListItem(u,m)});const s=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,s),e.items.on("change",s)}_deregisterFocusableItemsGroup(e){for(const i of e.items)this._deregisterFocusableListItem(i);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}var c5=a(1792),xF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(c5.A,xF),c5.A.locals;class Xb extends Nt{constructor(e,i){super(e);const s=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(i),this.arrowView=this._createArrowView(),this.keystrokes=new Zi,this.focusTracker=new Ti,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",s.to("class"),s.if("isVisible","ck-hidden",u=>!u),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,i)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),i())}),this.keystrokes.set("arrowleft",(e,i)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),i())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const i=e||new qn;return e||i.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),i.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),i.delegate("execute").to(this),i}_createArrowView(){const e=new qn,i=e.bindTemplate;return e.icon=Qb,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":i.to("isOn"),"aria-haspopup":!0,"aria-expanded":i.to("isOn",s=>String(s))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var u5=a(1666),SF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(u5.A,SF),u5.A.locals;var d5=a(3629),EF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(d5.A,EF),d5.A.locals;function xc(l,e=pF){const i=typeof e=="function"?new e(l):e,s=new hF(l),u=new ly(l,i,s);return i.bind("isEnabled").to(u),i instanceof Xb?i.arrowView.bind("isOn").to(u,"isOpen"):i.bind("isOn").to(u,"isOpen"),function(h){(function(m){m.on("render",()=>{Bn({emitter:m,activator:()=>m.isOpen,callback:()=>{m.isOpen=!1},contextElements:()=>[m.element,...m.focusTracker._elements]})})})(h),function(m){m.on("execute",b=>{b.source instanceof Kb||(m.isOpen=!1)})}(h),function(m){m.focusTracker.on("change:isFocused",(b,_,S)=>{m.isOpen&&!S&&(m.isOpen=!1)})}(h),function(m){m.keystrokes.set("arrowdown",(b,_)=>{m.isOpen&&(m.panelView.focus(),_())}),m.keystrokes.set("arrowup",(b,_)=>{m.isOpen&&(m.panelView.focusLast(),_())})}(h),function(m){m.on("change:isOpen",(b,_,S)=>{if(S)return;const T=m.panelView.element;T&&T.contains(f.document.activeElement)&&m.buttonView.focus()})}(h),function(m){m.on("change:isOpen",(b,_,S)=>{S&&m.panelView.focus()},{priority:"low"})}(h)}(u),u}function fy(l,e,i={}){l.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),l.isOpen?h5(l,e,i):l.once("change:isOpen",()=>h5(l,e,i),{priority:"highest"}),i.enableActiveItemFocusOnDropdownOpen&&m5(l,()=>l.toolbarView.items.find(s=>s.isOn))}function h5(l,e,i){const s=l.locale,u=s.t,h=l.toolbarView=new uy(s),m=typeof e=="function"?e():e;h.ariaLabel=i.ariaLabel||u("Dropdown toolbar"),i.maxWidth&&(h.maxWidth=i.maxWidth),i.class&&(h.class=i.class),i.isCompact&&(h.isCompact=i.isCompact),i.isVertical&&(h.isVertical=!0),m instanceof Ro?h.items.bindTo(m).using(b=>b):h.items.addMany(m),l.panelView.children.add(h),h.items.delegate("execute").to(l)}function f5(l,e,i={}){l.isOpen?p5(l,e,i):l.once("change:isOpen",()=>p5(l,e,i),{priority:"highest"}),m5(l,()=>l.listView.items.find(s=>s instanceof bf&&s.children.first.isOn))}function p5(l,e,i){const s=l.locale,u=l.listView=new hy(s),h=typeof e=="function"?e():e;u.ariaLabel=i.ariaLabel,u.role=i.role,g5(l,u.items,h,s),l.panelView.children.add(u),u.items.delegate("execute").to(l)}function m5(l,e){l.on("change:isOpen",()=>{if(!l.isOpen)return;const i=e();i&&(typeof i.focus=="function"?i.focus():j("ui-dropdown-focus-child-on-open-child-missing-focus",{view:i}))},{priority:F.low-10})}function g5(l,e,i,s){e.bindTo(i).using(u=>{if(u.type==="separator")return new dy(s);if(u.type==="group"){const h=new Zb(s);return h.set({label:u.label}),g5(l,h.items,u.items,s),h.items.delegate("execute").to(l),h}if(u.type==="button"||u.type==="switchbutton"){const h=new bf(s);let m;return u.type==="button"?(m=new qn(s),m.bind("ariaChecked").to(m,"isOn")):m=new Kb(s),m.bind(...Object.keys(u.model)).to(u.model),m.delegate("execute").to(h),h.children.add(m),h}return null})}const e0=(l,e,i)=>{const s=new uF(l.locale);return s.set({id:e,ariaDescribedById:i}),s.bind("isReadOnly").to(l,"isEnabled",u=>!u),s.bind("hasError").to(l,"errorText",u=>!!u),s.on("input",()=>{l.errorText=null}),l.bind("isEmpty","isFocused","placeholder").to(s),s};var b5=a(1905),DF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(b5.A,DF),b5.A.locals;var k5=a(6309),IF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(k5.A,IF),k5.A.locals;class TF{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,i){this._components.set(py(e),{callback:i,originalName:e})}create(e){if(!this.has(e))throw new N("componentfactory-item-missing",this,{name:e});return this._components.get(py(e)).callback(this.editor.locale)}has(e){return this._components.has(py(e))}}function py(l){return String(l).toLowerCase()}var w5=a(7913),NF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(w5.A,NF),w5.A.locals;class MF extends Nt{constructor(e,i={}){super(e);const s=this.bindTemplate;this.set("label",i.label||""),this.set("class",i.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",s.to("class")]},children:this.children}),i.icon&&(this.iconView=new Cc,this.iconView.content=i.icon,this.children.add(this.iconView));const u=new Nt(e);u.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:s.to("label")}]}),this.children.add(u)}}var y5=a(9822),PF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(y5.A,PF),y5.A.locals;class OF extends Nt{constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new Zi,this._focusTracker=new Ti,this._focusables=new Ro,this.focusCycler=new ma({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const i of e){const s=new qn(this.locale);let u;for(u in s.on("execute",()=>i.onExecute()),i.onCreate&&i.onCreate(s),i)u!="onExecute"&&u!="onCreate"&&s.set(u,i[u]);this.children.add(s)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class LF extends Nt{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var v5=a(9819),BF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(v5.A,BF),v5.A.locals;const t0="screen-center",_5="editor-center",jF="editor-top-side",RF="editor-top-center",FF="editor-bottom-center",zF="editor-above-center",UF="editor-below-center",A5=gl("px"),C5=class extends function(l){return class extends l{constructor(...e){super(...e),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(f.document,"mouseup",this._onDragEndBound),this.listenTo(f.document,"touchend",this._onDragEndBound),this.listenTo(f.document,"mousemove",this._onDragBound),this.listenTo(f.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(f.document,"mouseup",this._onDragEndBound),this.stopListening(f.document,"touchend",this._onDragEndBound),this.stopListening(f.document,"mousemove",this._onDragBound),this.stopListening(f.document,"touchmove",this._onDragBound)}_onDragStart(e,i){if(!this._isHandleElementPressed(i))return;this._attachDragListeners();let s=0,u=0;i instanceof MouseEvent?(s=i.clientX,u=i.clientY):(s=i.touches[0].clientX,u=i.touches[0].clientY),this._lastDraggingCoordinates={x:s,y:u},this.isDragging=!0}_onDrag(e,i){if(!this.isDragging)return void this._detachDragListeners();let s=0,u=0;i instanceof MouseEvent?(s=i.clientX,u=i.clientY):(s=i.touches[0].clientX,u=i.touches[0].clientY),i.preventDefault(),this.fire("drag",{deltaX:Math.round(s-this._lastDraggingCoordinates.x),deltaY:Math.round(u-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:s,y:u}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(e){return!!this.dragHandleElement&&(this.dragHandleElement===e.target||e.target instanceof HTMLElement&&this.dragHandleElement.contains(e.target))}}}(Nt){constructor(l,{getCurrentDomRoot:e,getViewportOffset:i}){super(l),this.wasMoved=!1;const s=this.bindTemplate,u=l.t;this.set("className",""),this.set("ariaLabel",u("Editor dialog")),this.set("isModal",!1),this.set("position",t0),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=e,this._getViewportOffset=i,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new Zi,this.focusTracker=new Ti,this._focusables=new Ro,this._focusCycler=new ma({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",s.if("isModal","ck-dialog-overlay__transparent",h=>!h),s.if("_isVisible","ck-hidden",h=>!h)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",s.to("className")],role:"dialog","aria-label":s.to("ariaLabel"),style:{top:s.to("_top",h=>A5(h)),left:s.to("_left",h=>A5(h)),visibility:s.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(l,e)=>{this.fire("close",{source:"escKeyPress"}),e()}),this.on("drag",(l,{deltaX:e,deltaY:i})=>{this.wasMoved=!0,this.moveBy(e,i)}),this.listenTo(f.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(f.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(l,e,i)=>{i&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:l,title:e,hasCloseButton:i=!0,content:s,actionButtons:u}){e&&(this.headerView=new MF(this.locale,{icon:l}),i&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=e,this.ariaLabel=e,this.parts.add(this.headerView,0)),s&&(s instanceof Nt&&(s=[s]),this.contentView=new LF(this.locale),this.contentView.children.addMany(s),this.parts.add(this.contentView)),u&&(this.actionsView=new OF(this.locale),this.actionsView.setButtons(u),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(l,e){const i=this._getViewportRect(),s=this._getDialogRect();l+s.width>i.right&&(l=i.right-s.width),l<i.left&&(l=i.left),e<i.top&&(e=i.top),this._moveTo(l,e)}_moveTo(l,e){this._left=l,this._top=e}moveBy(l,e){this.moveTo(this._left+l,this._top+e)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const l=this._getViewportRect();let e,i=this.position;this._getCurrentDomRoot()?e=this._getVisibleDomRootRect(l):i=t0;const s=C5.defaultOffset,u=this._getDialogRect();switch(i){case jF:if(e){const h=this.locale.contentLanguageDirection==="ltr"?e.right-u.width-s:e.left+s;this.moveTo(h,e.top+s)}else this._moveOffScreen();break;case _5:e?this.moveTo(Math.round(e.left+e.width/2-u.width/2),Math.round(e.top+e.height/2-u.height/2)):this._moveOffScreen();break;case t0:this.moveTo(Math.round((l.width-u.width)/2),Math.round((l.height-u.height)/2));break;case RF:e?this.moveTo(Math.round(e.left+e.width/2-u.width/2),e.top+s):this._moveOffScreen();break;case FF:e?this.moveTo(Math.round(e.left+e.width/2-u.width/2),e.bottom-u.height-s):this._moveOffScreen();break;case zF:e?this.moveTo(Math.round(e.left+e.width/2-u.width/2),e.top-u.height-s):this._moveOffScreen();break;case UF:e?this.moveTo(Math.round(e.left+e.width/2-u.width/2),e.bottom+s):this._moveOffScreen()}}_getVisibleDomRootRect(l){let e=new Ut(this._getCurrentDomRoot()).getVisible();return e?(e=l.getIntersection(e),e||null):null}_getDialogRect(){return new Ut(this.element.firstElementChild)}_getViewportRect(){return function(l){l=Object.assign({top:0,bottom:0,left:0,right:0},l);const e=new Ut(f.window);return e.top+=l.top,e.height-=l.top,e.bottom-=l.bottom,e.height-=l.bottom,e.left+=l.left,e.right-=l.right,e.width-=l.left+l.right,e}(this._getViewportOffset())}_updateFocusCyclableItems(){const l=[];if(this.contentView)for(const e of this.contentView.children)vm(e)&&l.push(e);this.actionsView&&l.push(this.actionsView),this.closeButtonView&&l.push(this.closeButtonView),l.forEach(e=>{var i;this._focusables.add(e),this.focusTracker.add(e.element),vm(i=e)&&"focusCycler"in i&&i.focusCycler instanceof ma&&(this.listenTo(e.focusCycler,"forwardCycle",s=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&s.stop()}),this.listenTo(e.focusCycler,"backwardCycle",s=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&s.stop()}))})}_createCloseButton(){const l=new qn(this.locale),e=this.locale.t;return l.set({label:e("Close"),tooltip:!0,icon:dn.cancel}),l.on("execute",()=>this.fire("close",{source:"closeButton"})),l}};let n0=C5;n0.defaultOffset=15;class Sc extends lt{constructor(e){super(e);const i=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:i("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",(e,i)=>{this._show(i)}),this.on("show",(e,i)=>{i.onShow&&i.onShow(this)},{priority:"low"}),this.on("hide",()=>{Sc._visibleDialogPlugin&&Sc._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(i,s)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),s())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const i=e.document.differ.getChangedRoots();for(const s of i)s.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:i,title:s,hasCloseButton:u=!0,content:h,actionButtons:m,className:b,isModal:_,position:S,onHide:T}){const O=this.editor;this.view=new n0(O.locale,{getCurrentDomRoot:()=>O.editing.view.getDomRoot(O.model.document.selection.anchor.root.rootName),getViewportOffset:()=>O.ui.viewportOffset});const U=this.view;U.on("close",()=>{this.hide()}),O.ui.view.body.add(U),O.ui.focusTracker.add(U.element),O.keystrokes.listenTo(U.element),S||(S=_?t0:_5),U.set({position:S,_isVisible:!0,className:b,isModal:_}),U.setupParts({icon:i,title:s,hasCloseButton:u,content:h,actionButtons:m}),this.id=e,T&&(this._onHide=T),this.isOpen=!0,Sc._visibleDialogPlugin=this}hide(){Sc._visibleDialogPlugin&&Sc._visibleDialogPlugin.fire(`hide:${Sc._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,i=this.view;i.contentView&&i.contentView.reset(),e.ui.view.body.remove(i),e.ui.focusTracker.remove(i.element),e.keystrokes.stopListening(i.element),i.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,Sc._visibleDialogPlugin=null}}var x5=a(3710),qF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(x5.A,qF),x5.A.locals;var VF=Object.defineProperty,S5=Object.getOwnPropertySymbols,HF=Object.prototype.hasOwnProperty,$F=Object.prototype.propertyIsEnumerable,E5=(l,e,i)=>e in l?VF(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i,Vn=(l,e)=>{for(var i in e||(e={}))HF.call(e,i)&&E5(l,i,e[i]);if(S5)for(var i of S5(e))$F.call(e,i)&&E5(l,i,e[i]);return l};const D5=gl("px"),I5=f.document.body,WF={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},my=class extends Nt{constructor(l){super(l);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",i=>`ck-balloon-panel_${i}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",D5),left:e.to("left",D5)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(l){this.show();const e=my.defaultPositions,i=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:I5,fitInViewport:!0},l),s=my._getOptimalPosition(i)||WF,u=parseInt(s.left),h=parseInt(s.top),m=s.name,b=s.config||{},{withArrow:_=!0}=b;this.top=h,this.left=u,this.position=m,this.withArrow=_}pin(l){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(l):this._stopPinning()},this._startPinning(l),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(l){this.attachTo(l);const e=gy(l.target),i=l.limiter?gy(l.limiter):I5;this.listenTo(f.document,"scroll",(s,u)=>{const h=u.target,m=e&&h.contains(e),b=i&&h.contains(i);!m&&!b&&e&&i||this.attachTo(l)},{useCapture:!0}),this.listenTo(f.window,"resize",()=>{this.attachTo(l)})}_stopPinning(){this.stopListening(f.document,"scroll"),this.stopListening(f.window,"resize")}};let ts=my;function gy(l){return $r(l)?l:ml(l)?l.commonAncestorContainer:typeof l=="function"?gy(l()):null}function T5(l={}){const{sideOffset:e=ts.arrowSideOffset,heightOffset:i=ts.arrowHeightOffset,stickyVerticalOffset:s=ts.stickyVerticalOffset,config:u}=l;return{northWestArrowSouthWest:(b,_)=>Vn({top:h(b,_),left:b.left-e,name:"arrow_sw"},u&&{config:u}),northWestArrowSouthMiddleWest:(b,_)=>Vn({top:h(b,_),left:b.left-.25*_.width-e,name:"arrow_smw"},u&&{config:u}),northWestArrowSouth:(b,_)=>Vn({top:h(b,_),left:b.left-_.width/2,name:"arrow_s"},u&&{config:u}),northWestArrowSouthMiddleEast:(b,_)=>Vn({top:h(b,_),left:b.left-.75*_.width+e,name:"arrow_sme"},u&&{config:u}),northWestArrowSouthEast:(b,_)=>Vn({top:h(b,_),left:b.left-_.width+e,name:"arrow_se"},u&&{config:u}),northArrowSouthWest:(b,_)=>Vn({top:h(b,_),left:b.left+b.width/2-e,name:"arrow_sw"},u&&{config:u}),northArrowSouthMiddleWest:(b,_)=>Vn({top:h(b,_),left:b.left+b.width/2-.25*_.width-e,name:"arrow_smw"},u&&{config:u}),northArrowSouth:(b,_)=>Vn({top:h(b,_),left:b.left+b.width/2-_.width/2,name:"arrow_s"},u&&{config:u}),northArrowSouthMiddleEast:(b,_)=>Vn({top:h(b,_),left:b.left+b.width/2-.75*_.width+e,name:"arrow_sme"},u&&{config:u}),northArrowSouthEast:(b,_)=>Vn({top:h(b,_),left:b.left+b.width/2-_.width+e,name:"arrow_se"},u&&{config:u}),northEastArrowSouthWest:(b,_)=>Vn({top:h(b,_),left:b.right-e,name:"arrow_sw"},u&&{config:u}),northEastArrowSouthMiddleWest:(b,_)=>Vn({top:h(b,_),left:b.right-.25*_.width-e,name:"arrow_smw"},u&&{config:u}),northEastArrowSouth:(b,_)=>Vn({top:h(b,_),left:b.right-_.width/2,name:"arrow_s"},u&&{config:u}),northEastArrowSouthMiddleEast:(b,_)=>Vn({top:h(b,_),left:b.right-.75*_.width+e,name:"arrow_sme"},u&&{config:u}),northEastArrowSouthEast:(b,_)=>Vn({top:h(b,_),left:b.right-_.width+e,name:"arrow_se"},u&&{config:u}),southWestArrowNorthWest:b=>Vn({top:m(b),left:b.left-e,name:"arrow_nw"},u&&{config:u}),southWestArrowNorthMiddleWest:(b,_)=>Vn({top:m(b),left:b.left-.25*_.width-e,name:"arrow_nmw"},u&&{config:u}),southWestArrowNorth:(b,_)=>Vn({top:m(b),left:b.left-_.width/2,name:"arrow_n"},u&&{config:u}),southWestArrowNorthMiddleEast:(b,_)=>Vn({top:m(b),left:b.left-.75*_.width+e,name:"arrow_nme"},u&&{config:u}),southWestArrowNorthEast:(b,_)=>Vn({top:m(b),left:b.left-_.width+e,name:"arrow_ne"},u&&{config:u}),southArrowNorthWest:b=>Vn({top:m(b),left:b.left+b.width/2-e,name:"arrow_nw"},u&&{config:u}),southArrowNorthMiddleWest:(b,_)=>Vn({top:m(b),left:b.left+b.width/2-.25*_.width-e,name:"arrow_nmw"},u&&{config:u}),southArrowNorth:(b,_)=>Vn({top:m(b),left:b.left+b.width/2-_.width/2,name:"arrow_n"},u&&{config:u}),southArrowNorthMiddleEast:(b,_)=>Vn({top:m(b),left:b.left+b.width/2-.75*_.width+e,name:"arrow_nme"},u&&{config:u}),southArrowNorthEast:(b,_)=>Vn({top:m(b),left:b.left+b.width/2-_.width+e,name:"arrow_ne"},u&&{config:u}),southEastArrowNorthWest:b=>Vn({top:m(b),left:b.right-e,name:"arrow_nw"},u&&{config:u}),southEastArrowNorthMiddleWest:(b,_)=>Vn({top:m(b),left:b.right-.25*_.width-e,name:"arrow_nmw"},u&&{config:u}),southEastArrowNorth:(b,_)=>Vn({top:m(b),left:b.right-_.width/2,name:"arrow_n"},u&&{config:u}),southEastArrowNorthMiddleEast:(b,_)=>Vn({top:m(b),left:b.right-.75*_.width+e,name:"arrow_nme"},u&&{config:u}),southEastArrowNorthEast:(b,_)=>Vn({top:m(b),left:b.right-_.width+e,name:"arrow_ne"},u&&{config:u}),westArrowEast:(b,_)=>Vn({top:b.top+b.height/2-_.height/2,left:b.left-_.width-i,name:"arrow_e"},u&&{config:u}),eastArrowWest:(b,_)=>Vn({top:b.top+b.height/2-_.height/2,left:b.right+i,name:"arrow_w"},u&&{config:u}),viewportStickyNorth:(b,_,S,T)=>{const O=T||S;return b.getIntersection(O)?O.height-b.height>s?null:{top:O.top+s,left:b.left+b.width/2-_.width/2,name:"arrowless",config:Vn({withArrow:!1},u)}:null}};function h(b,_){return b.top-_.height-i}function m(b){return b.bottom+i}}ts.arrowSideOffset=25,ts.arrowHeightOffset=10,ts.stickyVerticalOffset=20,ts._getOptimalPosition=Cd,ts.defaultPositions=T5();var N5=a(9205),GF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(N5.A,GF),N5.A.locals;const M5="ck-tooltip",ns=class extends mi(){constructor(l){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,ns._editors.add(l),ns._instance)return ns._instance;ns._instance=this,this.tooltipTextView=new Nt(l.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new ts(l.locale),this.balloonPanelView.class=M5,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(e){const i=new MutationObserver(()=>{e()});return{attach(s){i.observe(s,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){i.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=ff(this._pinTooltip,600),this._unpinTooltipDebounced=ff(this._unpinTooltip,400),this.listenTo(f.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(f.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(f.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(f.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(f.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(f.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(l){const e=l.ui.view&&l.ui.view.body;ns._editors.delete(l),this.stopListening(l.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),ns._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),ns._instance=null)}static getPositioningFunctions(l){const e=ns.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[l]}_onKeyDown(l,e){e.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),e.stopPropagation())}_onEnterOrFocus(l,{target:e}){const i=by(e);i?i!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(i,P5(i))):l.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(l,{target:e,relatedTarget:i}){if(l.name==="mouseleave"){if(!$r(e))return;const s=this.balloonPanelView.element,u=s&&(s===i||s.contains(i)),h=!u&&e===s;if(u)return void this._unpinTooltipDebounced.cancel();if(!h&&this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const m=by(e),b=by(i);(h||m&&m!==b)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(l,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(l,{text:e,position:i,cssClass:s}){this._unpinTooltip();const u=Ii(ns._editors.values()).ui.view.body;u.has(this.balloonPanelView)||u.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:l,positions:ns.getPositioningFunctions(i)}),this._resizeObserver=new sa(l,()=>{aa(l)||this._unpinTooltip()}),this._mutationObserver.attach(l),this.balloonPanelView.class=[M5,s].filter(h=>h).join(" ");for(const h of ns._editors)this.listenTo(h.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=l,this._currentTooltipPosition=i}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const l of ns._editors)this.stopListening(l.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const l=P5(this._currentElementWithTooltip);aa(this._currentElementWithTooltip)&&l.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:ns.getPositioningFunctions(l.position)}):this._unpinTooltip()}};let r0=ns;function by(l){return $r(l)?l.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function P5(l){return{text:l.dataset.ckeTooltipText,position:l.dataset.ckeTooltipPosition||"s",cssClass:l.dataset.ckeTooltipClass||""}}r0.defaultBalloonPositions=T5({heightOffset:5,sideOffset:13}),r0._editors=new Set,r0._instance=null;const i0=function(l,e,i){var s=!0,u=!0;if(typeof l!="function")throw new TypeError("Expected a function");return we(i)&&(s="leading"in i?!!i.leading:s,u="trailing"in i?!!i.trailing:u),ff(l,e,{leading:s,maxWait:e,trailing:u})};var YF=Object.defineProperty,O5=Object.getOwnPropertySymbols,KF=Object.prototype.hasOwnProperty,QF=Object.prototype.propertyIsEnumerable,L5=(l,e,i)=>e in l?YF(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i,JF=(l,e)=>{for(var i in e||(e={}))KF.call(e,i)&&L5(l,i,e[i]);if(O5)for(var i of O5(e))QF.call(e,i)&&L5(l,i,e[i]);return l};const ZF=50,XF=350,e9="Powered by";class t9 extends mi(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=i0(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||function(i){function s(G){return G.length>=40&&G.length<=255?"VALID":"INVALID"}if(!i)return"INVALID";let u="";try{u=atob(i)}catch{return"INVALID"}const h=u.split("-"),m=h[0],b=h[1];if(!b)return s(i);try{atob(b)}catch{try{if(atob(m),!atob(m).length)return s(i)}catch{return s(i)}}if(m.length<40||m.length>255)return"INVALID";let _="";try{atob(m),_=atob(b)}catch{return"INVALID"}if(_.length!==8)return"INVALID";const S=Number(_.substring(0,4)),T=Number(_.substring(4,6))-1,O=Number(_.substring(6,8)),U=new Date(S,T,O);return U<Y||isNaN(Number(U))?"INVALID":"VALID"}(e.config.get("licenseKey"))!=="VALID")&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(i,s,u)=>{this._updateLastFocusedEditableElement(),u?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(i,s,u)=>{this._updateLastFocusedEditableElement(),u&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,i=this._balloonView=new ts,s=j5(e),u=new n9(e.locale,s.label);i.content.add(u),i.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(i),e.ui.focusTracker.add(i.element),this._balloonView=i}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(i,s){const u=j5(i),h=u.side==="right"?function(m,b){return B5(m,b,(_,S)=>_.left+_.width-S.width-b.horizontalOffset)}(s,u):function(m,b){return B5(m,b,_=>_.left+b.horizontalOffset)}(s,u);return{target:s,positions:[h]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,i=e.ui.focusTracker.isFocused,s=e.ui.focusTracker.focusedElement;if(!i||!s)return void(this._lastFocusedEditableElement=null);const u=Array.from(e.ui.getEditableElementsNames()).map(h=>e.ui.getEditableElement(h));u.includes(s)?this._lastFocusedEditableElement=s:this._lastFocusedEditableElement=u[0]}}class n9 extends Nt{constructor(e,i){super(e);const s=new Cc,u=this.bindTemplate;s.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),s.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...i?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[i]}]:[],s],on:{dragstart:u.to(h=>h.preventDefault())}}]})}}function B5(l,e,i){return(s,u)=>{const h=new Ut(l);if(h.width<XF||h.height<ZF)return null;let m;m=e.position==="inside"?h.bottom-u.height:h.bottom-u.height/2,m-=e.verticalOffset;const b=i(h,u),_=s.clone().moveTo(b,m).getIntersection(u.clone().moveTo(b,m)).getVisible();return!_||_.getArea()<u.getArea()?null:{top:m,left:b,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function j5(l){const e=l.config.get("ui.poweredBy"),i=e&&e.position||"border";return JF({position:i,label:e9,verticalOffset:i==="inside"?5:0,horizontalOffset:5,side:l.locale.contentLanguageDirection==="ltr"?"right":"left"},e)}var R5=a(1801),r9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(R5.A,r9),R5.A.locals;const F5={POLITE:"polite",ASSERTIVE:"assertive"};class i9{constructor(e){this.editor=e,e.once("ready",()=>{for(const i of Object.values(F5))this.announce("",i)})}announce(e,i=F5.POLITE){const s=this.editor;if(!s.ui.view)return;this.view||(this.view=new o9(s.locale),s.ui.view.body.add(this.view));const{politeness:u,isUnsafeHTML:h}=typeof i=="string"?{politeness:i}:i;let m=this.view.regionViews.find(b=>b.politeness===u);m||(m=new s9(s,u),this.view.regionViews.add(m)),m.announce({announcement:e,isUnsafeHTML:h})}}class o9 extends Nt{constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class s9 extends Nt{constructor(e,i){super(e.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":i,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=i,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:i}){if(!e.trim().length)return;const s=document.createElement("li");i?this._domConverter.setContentOf(s,e):s.innerText=e,this._listElement.appendChild(s)}get _listElement(){return this.element.querySelector("ul")}}var a9=Object.defineProperty,z5=Object.getOwnPropertySymbols,l9=Object.prototype.hasOwnProperty,c9=Object.prototype.propertyIsEnumerable,U5=(l,e,i)=>e in l?a9(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i;class u9 extends ze(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const i=e.editing.view;this.editor=e,this.componentFactory=new TF(e),this.focusTracker=new Ti,this.tooltipManager=new r0(e),this.poweredBy=new t9(e),this.ariaLiveAnnouncer=new i9(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(i.document,"layoutChanged",this.update.bind(this)),this.listenTo(i,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,i){this._editableElementsMap.set(e,i),i.ckeditorInstance||(i.ckeditorInstance=this.editor),this.focusTracker.add(i);const s=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(i)};this.isReady?s():this.once("ready",s)}removeEditableElement(e){const i=this._editableElementsMap.get(e);i&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(i),this.focusTracker.remove(i),i.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,i={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:i})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,i=e.config.get("ui.viewportOffset");if(i)return i;const s=e.config.get("toolbar.viewportTopOffset");return s?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:s}):{top:0}}_initFocusTracking(){const e=this.editor,i=e.editing.view;let s,u;e.keystrokes.set("Alt+F10",(h,m)=>{const b=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(b)&&!Array.from(i.domRoots.values()).includes(b)&&(s=b);const _=this._getCurrentFocusedToolbarDefinition();_&&u||(u=this._getFocusableCandidateToolbarDefinitions());for(let S=0;S<u.length;S++){const T=u.shift();if(u.push(T),T!==_&&this._focusFocusableCandidateToolbar(T)){_&&_.options.afterBlur&&_.options.afterBlur();break}}m()}),e.keystrokes.set("Esc",(h,m)=>{const b=this._getCurrentFocusedToolbarDefinition();b&&(s?(s.focus(),s=null):e.editing.view.focus(),b.options.afterBlur&&b.options.afterBlur(),m())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const i of this._focusableToolbarDefinitions){const{toolbarView:s,options:u}=i;(aa(s.element)||u.beforeFocus)&&e.push(i)}return e.sort((i,s)=>q5(i)-q5(s)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:i,options:{beforeFocus:s}}=e;return s&&s(),!!aa(i.element)&&(i.focus(),!0)}_handleScrollToTheSelection(e,i){const s=((u,h)=>{for(var m in h||(h={}))l9.call(h,m)&&U5(u,m,h[m]);if(z5)for(var m of z5(h))c9.call(h,m)&&U5(u,m,h[m]);return u})({top:0,bottom:0,left:0,right:0},this.viewportOffset);i.viewportOffset.top+=s.top,i.viewportOffset.bottom+=s.bottom,i.viewportOffset.left+=s.left,i.viewportOffset.right+=s.right}}function q5(l){const{toolbarView:e,options:i}=l;let s=10;return aa(e.element)&&s--,i.isContextual&&s--,s}var V5=a(1185),d9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(V5.A,d9),V5.A.locals;class h9 extends Nt{constructor(e){super(e),this.body=new J7(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class f9 extends h9{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,i=new Yb;return i.text=e("Rich Text Editor"),i.extendTemplate({attributes:{class:"ck-voice-label"}}),i}}class p9 extends Nt{constructor(e,i,s){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=s,this._hasExternalElement=!!this._editableElement,this._editingView=i}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function i(s){e.change(u=>{const h=e.document.getRoot(s.name);u.addClass(s.isFocused?"ck-focused":"ck-blurred",h),u.removeClass(s.isFocused?"ck-blurred":"ck-focused",h)})}e.isRenderingInProgress?function s(u){e.once("change:isRenderingInProgress",(h,m,b)=>{b?s(u):i(u)})}(this):i(this)}}class m9 extends p9{constructor(e,i,s,u={}){super(e,i,s);const h=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=u.label||(()=>h("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(i=>{const s=e.document.getRoot(this.name);i.setAttribute("aria-label",this._generateLabel(this),s)})}}class ky extends ti{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,i)=>{window.alert(i.message)},{priority:"lowest"})}showSuccess(e,i={}){this._showNotification({message:e,type:"success",namespace:i.namespace,title:i.title})}showInfo(e,i={}){this._showNotification({message:e,type:"info",namespace:i.namespace,title:i.title})}showWarning(e,i={}){this._showNotification({message:e,type:"warning",namespace:i.namespace,title:i.title})}_showNotification(e){const i=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(i,{message:e.message,type:e.type,title:e.title||""})}}class H5 extends ze(){constructor(e,i){super(),i&&g2(this,i),e&&this.set(e)}}var $5=a(991),g9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()($5.A,g9),$5.A.locals;var W5=a(5380),b9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(W5.A,b9),W5.A.locals;const o0=gl("px");class s0 extends lt{constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const i=this.editor.editing.view,s=i.document.selection.editableElement;return s?i.domConverter.mapViewToDom(s.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new N("contextualballoon-add-view-exist",[this,e]);const i=e.stackId||"main";if(!this._idToStack.has(i))return this._idToStack.set(i,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(i)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(i));const s=this._idToStack.get(i);e.singleViewMode&&this.showStack(i),s.set(e.view,e),this._viewToStack.set(e.view,s),s===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new N("contextualballoon-remove-view-not-exist",[this,e]);const i=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(i.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(i.values())[i.size-2])),i.size===1?(this._idToStack.delete(this._getStackId(i)),this._numberOfStacks=this._idToStack.size):i.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const i=this._idToStack.get(e);if(!i)throw new N("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==i&&this._showView(Array.from(i.values()).pop())}_createPanelView(){this._view=new ts(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(i=>i[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)+1;e[i]||(i=0),this.showStack(this._getStackId(e[i]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)-1;e[i]||(i=e.length-1),this.showStack(this._getStackId(e[i]))}_createRotatorView(){const e=new k9(this.editor.locale),i=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(s,u)=>!u&&s>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(s,u)=>{if(u<2)return"";const h=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return i("%0 of %1",[h,u])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new w9(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(i,s)=>!s&&i>=2?Math.min(i-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:i="",withArrow:s=!0,singleViewMode:u=!1}){this.view.class=i,this.view.withArrow=s,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),u&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class k9 extends Nt{constructor(e){super(e);const i=e.t,s=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Ti,this.buttonPrevView=this._createButtonView(i("Previous"),dn.previousArrow),this.buttonNextView=this._createButtonView(i("Next"),dn.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",s.to("isNavigationVisible",u=>u?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:s.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,i){const s=new qn(this.locale);return s.set({label:e,icon:i,tooltip:!0}),s}}class w9 extends Nt{constructor(e,i){super(e);const s=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=i,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",s.to("numberOfPanels",u=>u?"":"ck-hidden")],style:{top:s.to("top",o0),left:s.to("left",o0),width:s.to("width",o0),height:s.to("height",o0)}},children:this.content}),this.on("change:numberOfPanels",(u,h,m,b)=>{m>b?this._addPanels(m-b):this._removePanels(b-m),this.updatePosition()})}_addPanels(e){for(;e--;){const i=new Nt;i.setTemplate({tag:"div"}),this.content.add(i),this.registerChild(i)}}_removePanels(e){for(;e--;){const i=this.content.last;this.content.remove(i),this.deregisterChild(i),i.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:i}=this._balloonPanelView,{width:s,height:u}=new Ut(this._balloonPanelView.element);Object.assign(this,{top:e,left:i,width:s,height:u})}}}var G5=a(8298),y9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(G5.A,y9),G5.A.locals;const kf=gl("px");class v9 extends Nt{constructor(e){super(e);const i=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new I({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",s=>s?"block":"none"),height:i.to("isSticky",s=>s?kf(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new I({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",s=>s?kf(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:i.to("_stickyTopOffset",s=>s&&kf(s)),bottom:i.to("_stickyBottomOffset",s=>s&&kf(s)),marginLeft:i.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(f.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const e=new Ut(this.limiterElement);let i=e.getVisible();if(i){const s=new Ut(f.window);s.top+=this.viewportTopOffset,s.height-=this.viewportTopOffset,i=i.getIntersection(s)}if(i&&e.top<i.top){const s=i.top;if(s+this._contentPanelRect.height+this.limiterBottomOffset>i.bottom){const u=Math.max(e.bottom-i.bottom,0)+this.limiterBottomOffset;e.bottom-u>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(u):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(s):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=kf(-f.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=kf(-f.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Ut(this.contentPanelElement)}}class _9 extends Jb{constructor(e,i){const s=e.t,u=Object.assign({},{showResetButton:!0,showIcon:!0,creator:e0},i);super(e,u.creator),this.label=i.label,this._viewConfig=u,this._viewConfig.showIcon&&(this.iconView=new Cc,this.iconView.content=dn.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new qn(e),this.resetButtonView.set({label:s("Clear"),icon:dn.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",h=>!h),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class A9 extends Nt{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",i=>!i)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class C9 extends Nt{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new Ti,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new ma({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var Y5=/[\\^$.*+?()[\]{}|]/g,x9=RegExp(Y5.source);const K5=function(l){return(l=of(l))&&x9.test(l)?l.replace(Y5,"\\$&"):l};var Q5=a(8107),S9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(Q5.A,S9),Q5.A.locals;var E9=Object.defineProperty,J5=Object.getOwnPropertySymbols,D9=Object.prototype.hasOwnProperty,I9=Object.prototype.propertyIsEnumerable,Z5=(l,e,i)=>e in l?E9(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i;class T9 extends Nt{constructor(e,i){super(e),this._config=i,this.filteredView=i.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new Ti,this.keystrokes=new Zi,this.resultsView=new C9(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),i.infoView&&i.infoView.instance?this.infoView=i.infoView.instance:(this.infoView=new A9,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new ma({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(s,{resultsCount:u,totalItemsCount:h})=>{this.resultsCount=u,this.totalItemsCount=h}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",i.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=i=>i.stopPropagation();for(const i of this.focusableChildren)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const i=e?new RegExp(K5(e),"ig"):null,s=this.filteredView.filter(i);this.fire("search",((u,h)=>{for(var m in h||(h={}))D9.call(h,m)&&Z5(u,m,h[m]);if(J5)for(var m of J5(h))I9.call(h,m)&&Z5(u,m,h[m]);return u})({query:e},s))}_createSearchTextQueryView(){const e=new _9(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,i=this.infoView;function s(u,{query:h,resultsCount:m,totalItemsCount:b}){return typeof u=="function"?u(h,m,b):u}this.on("search",(u,h)=>{if(h.resultsCount)i.set({isVisible:!1});else{const m=this._config.infoView&&this._config.infoView.text;let b,_;h.totalItemsCount?m&&m.notFound?(b=m.notFound.primary,_=m.notFound.secondary):(b=e("No results found"),_=""):m&&m.noSearchableItems?(b=m.noSearchableItems.primary,_=m.noSearchableItems.secondary):(b=e("No searchable items"),_=""),i.set({primaryText:s(b,h),secondaryText:s(_,h),isVisible:!0})}})}}var X5=a(5727),N9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(X5.A,N9),X5.A.locals;const wy=class extends T9{constructor(l,e){super(l,e),this._config=e;const i=gl("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const s=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[s.if("isVisible","ck-hidden",u=>!u),s.to("_position",u=>`ck-search__results_${u}`)],style:{width:s.to("_width",i)}}}),this.focusTracker.on("change:isFocused",(u,h,m)=>{this._updateResultsVisibility(),m?this.resultsView.element.scrollTop=0:e.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(u,h)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,h())}),this.listenTo(f.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(u,{value:h})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=h,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new Ut(this.queryView.fieldView.element).width;const l=wy._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:wy.defaultResultsPositions});this.resultsView._position=l?l.name:"s"}_updateResultsVisibility(){const l=this._config.queryMinChars===void 0?0:this._config.queryMinChars,e=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&e>=l}};let eS=wy;eS.defaultResultsPositions=[l=>({top:l.bottom,left:l.left,name:"s"}),(l,e)=>({top:l.top-e.height,left:l.left,name:"n"})],eS._getOptimalPosition=Cd;var tS=a(9529),M9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(tS.A,M9),tS.A.locals;var nS=a(109),P9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(nS.A,P9),nS.A.locals;var rS=a(2710),O9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(rS.A,O9),rS.A.locals;var iS=a(3344),L9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(iS.A,L9),iS.A.locals;class B9 extends qn{constructor(e){super(e);const i=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",s=>String(s)),"data-cke-tooltip-disabled":i.to("isOn")},on:{mouseenter:i.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Cc;return e.content=Qb,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}var oS=a(9481),j9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(oS.A,j9),oS.A.locals;class yy extends bf{constructor(e,i){super(e);const s=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:s.to("mouseenter")}}),this.delegate("mouseenter").to(i)}}var R9=Object.defineProperty,sS=Object.getOwnPropertySymbols,F9=Object.prototype.hasOwnProperty,z9=Object.prototype.propertyIsEnumerable,aS=(l,e,i)=>e in l?R9(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i,lS=(l,e)=>{for(var i in e||(e={}))F9.call(e,i)&&aS(l,i,e[i]);if(sS)for(var i of sS(e))z9.call(e,i)&&aS(l,i,e[i]);return l};const _m={toggleMenusAndFocusItemsOnHover(l){l.on("menu:mouseenter",e=>{if(l.isOpen){for(const i of l.menus){const s=e.path[0],u=s instanceof yy&&s.children.first===i;i.isOpen=(e.path.includes(i)||u)&&i.isEnabled}e.source.focus()}})},focusCycleMenusOnArrows(l){const e=l.locale.uiLanguageDirection==="rtl";function i(s,u){const h=l.children.getIndex(s),m=s.isOpen,b=l.children.length,_=l.children.get((h+b+u)%b);s.isOpen=!1,m&&(_.isOpen=!0),_.buttonView.focus()}l.on("menu:arrowright",s=>{i(s.source,e?-1:1)}),l.on("menu:arrowleft",s=>{i(s.source,e?1:-1)})},closeMenusWhenTheBarCloses(l){l.on("change:isOpen",()=>{l.isOpen||l.menus.forEach(e=>{e.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(l){l.on("menu:change:isOpen",(e,i,s)=>{s&&l.menus.filter(u=>e.source.parentMenuView===u.parentMenuView&&e.source!==u&&u.isOpen).forEach(u=>{u.isOpen=!1})})},closeOnClickOutside(l){Bn({emitter:l,activator:()=>l.isOpen,callback:()=>l.close(),contextElements:()=>l.children.map(e=>e.element)})}},qd={openAndFocusPanelOnArrowDownKey(l){l.keystrokes.set("arrowdown",(e,i)=>{l.focusTracker.focusedElement===l.buttonView.element&&(l.isOpen||(l.isOpen=!0),l.panelView.focus(),i())})},openOnArrowRightKey(l){const e=l.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";l.keystrokes.set(e,(i,s)=>{l.focusTracker.focusedElement===l.buttonView.element&&l.isEnabled&&(l.isOpen||(l.isOpen=!0),l.panelView.focus(),s())})},openOnButtonClick(l){l.buttonView.on("execute",()=>{l.isOpen=!0,l.panelView.focus()})},toggleOnButtonClick(l){l.buttonView.on("execute",()=>{l.isOpen=!l.isOpen,l.isOpen&&l.panelView.focus()})},closeOnArrowLeftKey(l){const e=l.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";l.keystrokes.set(e,(i,s)=>{l.isOpen&&(l.isOpen=!1,l.focus(),s())})},closeOnEscKey(l){l.keystrokes.set("esc",(e,i)=>{l.isOpen&&(l.isOpen=!1,l.focus(),i())})},closeOnParentClose(l){l.parentMenuView.on("change:isOpen",(e,i,s)=>{s||e.source!==l.parentMenuView||(l.isOpen=!1)})}},U9={southEast:l=>({top:l.bottom,left:l.left,name:"se"}),southWest:(l,e)=>({top:l.bottom,left:l.left-e.width+l.width,name:"sw"}),northEast:(l,e)=>({top:l.top-e.height,left:l.left,name:"ne"}),northWest:(l,e)=>({top:l.top-e.height,left:l.left-e.width+l.width,name:"nw"}),eastSouth:l=>({top:l.top,left:l.right-5,name:"es"}),eastNorth:(l,e)=>({top:l.top-e.height,left:l.right-5,name:"en"}),westSouth:(l,e)=>({top:l.top,left:l.left-e.width+5,name:"ws"}),westNorth:(l,e)=>({top:l.top-e.height,left:l.left-e.width+5,name:"wn"})},q9=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function V9({normalizedConfig:l,locale:e,componentFactory:i}){const s=Ua(l);return function(u,h){const m=h.removeItems,b=[];h.items=h.items.filter(({menuId:_})=>!m.includes(_)||(b.push(_),!1)),wf(h.items,_=>{_.groups=_.groups.filter(({groupId:S})=>!m.includes(S)||(b.push(S),!1));for(const S of _.groups)S.items=S.items.filter(T=>{const O=dS(T);return!m.includes(O)||(b.push(O),!1)})});for(const _ of m)b.includes(_)||j("menu-bar-item-could-not-be-removed",{menuBarConfig:u,itemName:_})}(l,s),function(u,h){const m=h.addItems,b=[];for(const _ of m){const S=W9(_.position),T=G9(_.position);if(H9(_))if(T){const O=h.items.findIndex(U=>U.menuId===T);O!=-1?S==="before"?(h.items.splice(O,0,_.menu),b.push(_)):S==="after"&&(h.items.splice(O+1,0,_.menu),b.push(_)):cS(h,_.menu,T,S)&&b.push(_)}else S==="start"?(h.items.unshift(_.menu),b.push(_)):S==="end"&&(h.items.push(_.menu),b.push(_));else $9(_)?wf(h.items,O=>{if(O.menuId===T)S==="start"?(O.groups.unshift(_.group),b.push(_)):S==="end"&&(O.groups.push(_.group),b.push(_));else{const U=O.groups.findIndex(G=>G.groupId===T);U!==-1&&(S==="before"?(O.groups.splice(U,0,_.group),b.push(_)):S==="after"&&(O.groups.splice(U+1,0,_.group),b.push(_)))}}):cS(h,_.item,T,S)&&b.push(_)}for(const _ of m)b.includes(_)||j("menu-bar-item-could-not-be-added",{menuBarConfig:u,addedItemConfig:_})}(l,s),function(u,h,m){wf(h.items,b=>{for(const _ of b.groups)_.items=_.items.filter(S=>{const T=typeof S=="string"&&!m.has(S);return T&&!h.isUsingDefaultConfig&&j("menu-bar-item-unavailable",{menuBarConfig:u,parentMenuConfig:Ua(b),componentName:S}),!T})})}(l,s,i),uS(l,s),function(u,h){const m=h.t,b={File:m({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:m({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:m({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:m({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:m({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:m({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:m({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:m({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:m({string:"Font",id:"MENU_BAR_MENU_FONT"})};wf(u.items,_=>{_.label in b&&(_.label=b[_.label])})}(s,e),s}function cS(l,e,i,s){let u=!1;return wf(l.items,h=>{for(const{groupId:m,items:b}of h.groups){if(u)return;if(m===i)s==="start"?(b.unshift(e),u=!0):s==="end"&&(b.push(e),u=!0);else{const _=b.findIndex(S=>dS(S)===i);_!==-1&&(s==="before"?(b.splice(_,0,e),u=!0):s==="after"&&(b.splice(_+1,0,e),u=!0))}}}),u}function uS(l,e){const i=e.isUsingDefaultConfig;let s=!1;e.items=e.items.filter(u=>!!u.groups.length||(vy(l,u,i),!1)),e.items.length?(wf(e.items,u=>{u.groups=u.groups.filter(h=>!!h.items.length||(s=!0,!1));for(const h of u.groups)h.items=h.items.filter(m=>!(hS(m)&&!m.groups.length)||(vy(l,m,i),s=!0,!1))}),s&&uS(l,e)):vy(l,l,i)}function vy(l,e,i){i||j("menu-bar-menu-empty",{menuBarConfig:l,emptyMenuConfig:e})}function wf(l,e){if(Array.isArray(l))for(const s of l)i(s);function i(s){e(s);for(const u of s.groups)for(const h of u.items)hS(h)&&i(h)}}function H9(l){return typeof l=="object"&&"menu"in l}function $9(l){return typeof l=="object"&&"group"in l}function W9(l){return l.startsWith("start")?"start":l.startsWith("end")?"end":l.startsWith("after")?"after":"before"}function G9(l){const e=l.match(/^[^:]+:(.+)/);return e?e[1]:null}function dS(l){return typeof l=="string"?l:l.menuId}function hS(l){return typeof l=="object"&&"menuId"in l}function Y9(l,e){const i=e.element;l.ui.focusTracker.add(i),l.keystrokes.listenTo(i);const s=function(u){let h;return h="items"in u&&u.items?lS({items:u.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1},u):lS({items:Ua(q9),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0},u),h}(l.config.get("menuBar")||{});e.fillFromConfig(s,l.ui.componentFactory),l.keystrokes.set("Esc",(u,h)=>{i.contains(l.ui.focusTracker.focusedElement)&&(l.editing.view.focus(),h())}),l.keystrokes.set("Alt+F9",(u,h)=>{i.contains(l.ui.focusTracker.focusedElement)||(e.focus(),h())})}var fS=a(9108),K9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(fS.A,K9),fS.A.locals;class Q9 extends Nt{constructor(e){super(e);const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",i.to("position",s=>`ck-menu-bar__menu__panel_position_${s}`),i.if("isVisible","ck-hidden",s=>!s)],tabindex:"-1"},children:this.children,on:{selectstart:i.to(s=>{s.target.tagName.toLocaleLowerCase()!=="input"&&s.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}var pS=a(4),J9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(pS.A,J9),pS.A.locals;const mS=class extends Nt{constructor(l){super(l);const e=this.bindTemplate;this.buttonView=new B9(l),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new Q9(l),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Zi,this.focusTracker=new Ti,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",e.to("class"),e.if("isEnabled","ck-disabled",i=>!i),e.if("parentMenuView","ck-menu-bar__menu_top-level",i=>!i)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),qd.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(qd.openOnButtonClick(this),qd.openOnArrowRightKey(this),qd.closeOnArrowLeftKey(this),qd.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),qd.openAndFocusPanelOnArrowDownKey(this),qd.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(l,e)=>{this.fire("arrowright"),e()}),this.keystrokes.set("arrowleft",(l,e)=>{this.fire("arrowleft"),e()})}_repositionPanelOnOpen(){this.on("change:isOpen",(l,e,i)=>{if(!i)return;const s=mS._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=s?s.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:l,southWest:e,northEast:i,northWest:s,westSouth:u,eastSouth:h,westNorth:m,eastNorth:b}=U9;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[h,b,u,m]:[l,e,i,s]:this.parentMenuView?[u,m,h,b]:[e,l,s,i]}};let yf=mS;yf._getOptimalPosition=Cd;class _y extends hy{constructor(e){super(e),this.role="menu"}}var gS=a(977),Z9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(gS.A,Z9),gS.A.locals;class Ns extends qn{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class bS extends Kx{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var kS=a(497),X9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(kS.A,X9),kS.A.locals;const wS=["mouseenter","arrowleft","arrowright","change:isOpen"];class ez extends Nt{constructor(e){super(e),this.menus=[];const i=e.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":i("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,i){const s=V9({normalizedConfig:e,locale:this.locale,componentFactory:i}).items.map(u=>this._createMenu({componentFactory:i,menuDefinition:u}));this.children.addMany(s)}render(){super.render(),_m.toggleMenusAndFocusItemsOnHover(this),_m.closeMenusWhenTheBarCloses(this),_m.closeMenuWhenAnotherOnTheSameLevelOpens(this),_m.focusCycleMenusOnArrows(this),_m.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e,i=null){i?(e.delegate(...wS).to(i),e.parentMenuView=i):e.delegate(...wS).to(this,s=>"menu:"+s),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:i,parentMenuView:s}){const u=this.locale,h=new yf(u);return this.registerMenu(h,s),h.buttonView.set({label:i.label}),h.once("change:isOpen",()=>{const m=new _y(u);m.ariaLabel=i.label,h.panelView.children.add(m),m.items.addMany(this._createMenuItems({menuDefinition:i,parentMenuView:h,componentFactory:e}))}),h}_createMenuItems({menuDefinition:e,parentMenuView:i,componentFactory:s}){const u=this.locale,h=[];for(const m of e.groups){for(const b of m.items){const _=new yy(u,i);if(we(b))_.children.add(this._createMenu({componentFactory:s,menuDefinition:b,parentMenuView:i}));else{const S=this._createMenuItemContentFromFactory({componentName:b,componentFactory:s,parentMenuView:i});if(!S)continue;_.children.add(S)}h.push(_)}m!==e.groups[e.groups.length-1]&&h.push(new dy(u))}return h}_createMenuItemContentFromFactory({componentName:e,parentMenuView:i,componentFactory:s}){const u=s.create(e);return u instanceof yf||u instanceof Ns||u instanceof bS?(this._registerMenuTree(u,i),u.on("execute",()=>{this.close()}),u):(j("menu-bar-component-unsupported",{componentName:e,componentView:u}),null)}_registerMenuTree(e,i){if(!(e instanceof yf))return void e.delegate("mouseenter").to(i);this.registerMenu(e,i);const s=e.panelView.children.filter(h=>h instanceof _y)[0];if(!s)return void e.delegate("mouseenter").to(i);const u=s.items.filter(h=>h instanceof bf);for(const h of u)this._registerMenuTree(h.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(i,s,u)=>{clearTimeout(e),u?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(h=>h.isOpen)},0)})}}class tz extends u9{constructor(e,i){super(e),this.view=i,this._toolbarConfig=s5(e.config.get("toolbar")),this._elementReplacer=new _e,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const i=this.editor,s=this.view,u=i.editing.view,h=s.editable,m=u.document.getRoot();h.name=m.rootName,s.render();const b=h.element;this.setEditableElement(h.name,b),s.editable.bind("isFocused").to(this.focusTracker),u.attachDomRoot(b),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),s.menuBarView&&Y9(i,s.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,i=this.editor.editing.view;this._elementReplacer.restore(),i.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:i})=>i||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,i=e.editing.view,s=i.document.getRoot(),u=e.sourceElement;let h;const m=e.config.get("placeholder");m&&(h=typeof m=="string"?m:m[this.view.editable.name]),!h&&u&&u.tagName.toLowerCase()==="textarea"&&(h=u.getAttribute("placeholder")),h&&(s.placeholder=h),vl({view:i,element:s,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,i,s){const u=this.view.stickyPanel;if(u.isSticky){const h=new Ut(u.element).height;i.viewportOffset.top+=h}else{const h=()=>{this.editor.editing.view.scrollToTheSelection(s)};this.listenTo(u,"change:isSticky",h),setTimeout(()=>{this.stopListening(u,"change:isSticky",h)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,i=this.editor.plugins.get("Dialog");i.on("show",()=>{const s=i.view;s.on("moveTo",(u,h)=>{if(!e.isSticky||s.wasMoved)return;const m=new Ut(e.contentPanelElement);h[1]<m.bottom+n0.defaultOffset&&(h[1]=m.bottom+n0.defaultOffset)},{priority:"high"})},{priority:"low"})}}var yS=a(7388),nz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(yS.A,nz),yS.A.locals;class rz extends f9{constructor(e,i,s={}){super(e),this.stickyPanel=new v9(e),this.toolbar=new uy(e,{shouldGroupWhenFull:s.shouldToolbarGroupWhenFull}),s.useMenuBar&&(this.menuBarView=new ez(e)),this.editable=new m9(e,i)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class vS{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=i=>{const s="error"in i?i.error:i.reason;s instanceof Error&&this._handleError(s,i)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,i){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(i)}off(e,i){this._listeners[e]=this._listeners[e].filter(s=>s!==i)}_fire(e,...i){const s=this._listeners[e]||[];for(const u of s)u.apply(this,[null,...i])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,i){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:i instanceof ErrorEvent?i.filename:void 0,lineno:i instanceof ErrorEvent?i.lineno:void 0,colno:i instanceof ErrorEvent?i.colno:void 0,date:this._now()});const s=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:s}),s?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function Ay(l,e=new Set){const i=[l],s=new Set;let u=0;for(;i.length>u;){const h=i[u++];if(!s.has(h)&&iz(h)&&!e.has(h))if(s.add(h),Symbol.iterator in h)try{for(const m of h)i.push(m)}catch{}else for(const m in h)m!=="defaultValue"&&i.push(h[m])}return s}function iz(l){const e=Object.prototype.toString.call(l),i=typeof l;return!(i==="number"||i==="boolean"||i==="string"||i==="symbol"||i==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||l==null||l._watchdogExcluded||l instanceof EventTarget||l instanceof Event)}function _S(l,e,i=new Set){if(l===e&&typeof(s=l)=="object"&&s!==null)return!0;var s;const u=Ay(l,i),h=Ay(e,i);for(const m of u)if(h.has(m))return!0;return!1}var oz=Object.defineProperty,sz=Object.defineProperties,az=Object.getOwnPropertyDescriptors,a0=Object.getOwnPropertySymbols,AS=Object.prototype.hasOwnProperty,CS=Object.prototype.propertyIsEnumerable,xS=(l,e,i)=>e in l?oz(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i,Cy=(l,e)=>{for(var i in e||(e={}))AS.call(e,i)&&xS(l,i,e[i]);if(a0)for(var i of a0(e))CS.call(e,i)&&xS(l,i,e[i]);return l};class SS extends vS{constructor(e,i={}){super(i),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=i0(this._save.bind(this),typeof i.saveInterval=="number"?i.saveInterval:5e3),e&&(this._creator=(s,u)=>e.create(s,u)),this._destructor=s=>s.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},i=[],s=this._config.rootsAttributes||{},u={};for(const[_,S]of Object.entries(this._data.roots))S.isLoaded?(e[_]="",u[_]=s[_]||{}):i.push(_);const h=(m=Cy({},this._config),b={extraPlugins:this._config.extraPlugins||[],lazyRoots:i,rootsAttributes:u,_watchdogInitialData:this._data},sz(m,az(b)));var m,b;return delete h.initialData,h.extraPlugins.push(lz),this._initUsingData?this.create(e,h,h.context):$r(this._elementOrData)?this.create(this._elementOrData,h,h.context):this.create(this._editables,h,h.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,i=this._config,s){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(i)||{},this._config.context=s,this._creator(e,this._config))).then(u=>{this._editor=u,u.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=u.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(i){console.error(i,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,i=e.model.document.roots.filter(b=>b.isAttached()&&b.rootName!="$graveyard"),{plugins:s}=e,u=s.has("CommentsRepository")&&s.get("CommentsRepository"),h=s.has("TrackChanges")&&s.get("TrackChanges"),m={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};i.forEach(b=>{m.roots[b.rootName]={content:JSON.stringify(Array.from(b.getChildren())),attributes:JSON.stringify(Array.from(b.getAttributes())),isLoaded:b._isLoaded}});for(const b of e.model.markers)b._affectsData&&(m.markers[b.name]={rangeJSON:b.getRange().toJSON(),usingOperation:b._managedUsingOperations,affectsData:b._affectsData});return u&&(m.commentThreads=JSON.stringify(u.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),h&&(m.suggestions=JSON.stringify(h.getSuggestions({toJSON:!0,skipNotAttached:!0}))),m}_getEditables(){const e={};for(const i of this.editor.model.document.getRootNames()){const s=this.editor.ui.getEditableElement(i);s&&(e[i]=s)}return e}_isErrorComingFromThisItem(e){return _S(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return fc(e,(i,s)=>$r(i)||s==="context"?i:void 0)}}class lz{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},i=>{this._restoreCollaborationData(),this._restoreEditorData(i)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,i){if("name"in i){const s=e.createElement(i.name,i.attributes);if(i.children)for(const u of i.children)s._appendChild(this._createNode(e,u));return s}return e.createText(i.data,i.attributes)}_restoreEditorData(e){const i=this.editor;Object.entries(this._data.roots).forEach(([s,{content:u,attributes:h}])=>{const m=JSON.parse(u),b=JSON.parse(h),_=i.model.document.getRoot(s);for(const[S,T]of b)e.setAttribute(S,T,_);for(const S of m){const T=this._createNode(e,S);e.insert(T,_,"end")}}),Object.entries(this._data.markers).forEach(([s,u])=>{const{document:h}=i.model,m=u,{rangeJSON:{start:b,end:_}}=m,S=((ee,ie)=>{var be={};for(var Se in ee)AS.call(ee,Se)&&ie.indexOf(Se)<0&&(be[Se]=ee[Se]);if(ee!=null&&a0)for(var Se of a0(ee))ie.indexOf(Se)<0&&CS.call(ee,Se)&&(be[Se]=ee[Se]);return be})(m,["rangeJSON"]),T=h.getRoot(b.root),O=e.createPositionFromPath(T,b.path,b.stickiness),U=e.createPositionFromPath(T,_.path,_.stickiness),G=e.createRange(O,U);e.addMarker(s,Cy({range:G},S))})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),i=JSON.parse(this._data.suggestions);e.forEach(s=>{const u=this.editor.config.get("collaboration.channelId"),h=this.editor.plugins.get("CommentsRepository");h.hasCommentThread(s.threadId)&&h.getCommentThread(s.threadId).remove(),h.addCommentThread(Cy({channelId:u},s))}),i.forEach(s=>{const u=this.editor.plugins.get("TrackChangesEditing");u.hasSuggestion(s.id)?u.getSuggestion(s.id).attributes=s.attributes:u.addSuggestionData(s)})}}const Am=Symbol("MainQueueId");class cz{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,i){const s=e===Am;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const u=(s?Promise.all(this._queues.values()):Promise.all([this._queues.get(Am),this._queues.get(e)])).then(i),h=u.catch(()=>{});return this._queues.set(e,h),u.finally(()=>{this._activeActions--,this._queues.get(e)===h&&this._activeActions===0&&this._onEmptyCallbacks.forEach(m=>m())})}}function ES(l){return Array.isArray(l)?l:[l]}class l0 extends sy($7){constructor(e,i={}){if(!c0(e)&&i.initialData!==void 0)throw new N("editor-create-initial-data",null);super(i),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",function(m){return c0(m)?(b=m,b instanceof HTMLTextAreaElement?b.value:b.innerHTML):m;var b}(e)),c0(e)&&(this.sourceElement=e),this.model.document.createRoot();const s=!this.config.get("toolbar.shouldNotGroupWhenFull"),u=this.config.get("menuBar"),h=new rz(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:s,useMenuBar:u.isVisible});this.ui=new tz(this,h),function(m){if(!qi(m.updateSourceElement))throw new N("attachtoform-missing-elementapi-interface",m);const b=m.sourceElement;if(function(_){return!!_&&_.tagName.toLowerCase()==="textarea"}(b)&&b.form){let _;const S=b.form,T=()=>m.updateSourceElement();qi(S.submit)&&(_=S.submit,S.submit=()=>{T(),_.apply(S)}),S.addEventListener("submit",T),m.on("destroy",()=>{S.removeEventListener("submit",T),_&&(S.submit=_)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,i={}){return new Promise(s=>{const u=new this(e,i);s(u.initPlugins().then(()=>u.ui.init(c0(e)?e:null)).then(()=>u.data.init(u.config.get("initialData"))).then(()=>u.fire("ready")).then(()=>u))})}}function c0(l){return $r(l)}l0.Context=gi,l0.EditorWatchdog=SS,l0.ContextWatchdog=class extends vS{constructor(l,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new cz,this._watchdogConfig=e,this._creator=i=>l.create(i),this._destructor=i=>i.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(l){this._creator=l}setDestructor(l){this._destructor=l}get context(){return this._context}create(l={}){return this._actionQueues.enqueue(Am,()=>(this._contextConfig=l,this._create()))}getItem(l){return this._getWatchdog(l)._item}getItemState(l){return this._getWatchdog(l).state}add(l){const e=ES(l);return Promise.all(e.map(i=>this._actionQueues.enqueue(i.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let s;if(this._watchdogs.has(i.id))throw new Error(`Item with the given id is already added: '${i.id}'.`);if(i.type==="editor")return s=new SS(null,this._watchdogConfig),s.setCreator(i.creator),s._setExcludedProperties(this._contextProps),i.destructor&&s.setDestructor(i.destructor),this._watchdogs.set(i.id,s),s.on("error",(u,{error:h,causesRestart:m})=>{this._fire("itemError",{itemId:i.id,error:h}),m&&this._actionQueues.enqueue(i.id,()=>new Promise(b=>{const _=()=>{s.off("restart",_),this._fire("itemRestart",{itemId:i.id}),b()};s.on("restart",_)}))}),s.create(i.sourceElementOrData,i.config,this._context);throw new Error(`Not supported item type: '${i.type}'.`)})))}remove(l){const e=ES(l);return Promise.all(e.map(i=>this._actionQueues.enqueue(i,()=>{const s=this._getWatchdog(i);return this._watchdogs.delete(i),s.destroy()})))}destroy(){return this._actionQueues.enqueue(Am,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Am,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(l=>{console.error("An error happened during destroying the context or items.",l)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(l=>(this._context=l,this._contextProps=Ay(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const l=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(l))})}_getWatchdog(l){const e=this._watchdogs.get(l);if(!e)throw new Error(`Item with the given id was not registered: ${l}.`);return e}_isErrorComingFromThisItem(l){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(l))return!1;return _S(this._context,l.context)}};class Cm extends Au{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const i=this.document;function s(u){return(h,m)=>{m.preventDefault();const b=m.dropRange?[m.dropRange]:null,_=new E(i,u);i.fire(_,{dataTransfer:m.dataTransfer,method:h.name,targetRanges:b,target:m.target,domEvent:m.domEvent}),_.stop.called&&m.stopPropagation()}}this.listenTo(i,"paste",s("clipboardInput"),{priority:"low"}),this.listenTo(i,"drop",s("clipboardInput"),{priority:"low"}),this.listenTo(i,"dragover",s("dragging"),{priority:"low"})}onDomEvent(e){const i="clipboardData"in e?e.clipboardData:e.dataTransfer,s=e.type=="drop"||e.type=="paste",u={dataTransfer:new C2(i,{cacheFiles:s})};e.type!="drop"&&e.type!="dragover"||(u.dropRange=function(h,m){const b=m.target.ownerDocument,_=m.clientX,S=m.clientY;let T;return b.caretRangeFromPoint&&b.caretRangeFromPoint(_,S)?T=b.caretRangeFromPoint(_,S):m.rangeParent&&(T=b.createRange(),T.setStart(m.rangeParent,m.rangeOffset),T.collapse(!0)),T?h.domConverter.domRangeToView(T):null}(this.view,e)),this.fire(e.type,e,u)}}const DS=["figcaption","li"],IS=["ol","ul"];function TS(l){if(l.is("$text")||l.is("$textProxy"))return l.data;if(l.is("element","img")&&l.hasAttribute("alt"))return l.getAttribute("alt");if(l.is("element","br"))return`
`;let e="",i=null;for(const s of l.getChildren())e+=uz(s,i)+TS(s),i=s;return e}function uz(l,e){return e?l.is("element","li")&&!l.isEmpty&&l.getChild(0).is("containerElement")||IS.includes(l.name)&&IS.includes(e.name)?`

`:l.is("containerElement")||e.is("containerElement")?DS.includes(l.name)||DS.includes(e.name)?`
`:`

`:"":""}const dz=function(l,e){return l&&wb(l,e,_s)},hz=function(l,e,i,s){var u=i.length,h=u;if(l==null)return!h;for(l=Object(l);u--;){var m=i[u];if(m[2]?m[1]!==l[m[0]]:!(m[0]in l))return!1}for(;++u<h;){var b=(m=i[u])[0],_=l[b],S=m[1];if(m[2]){if(_===void 0&&!(b in l))return!1}else{var T=new al,O;if(!(O===void 0?qb(S,_,3,s,T):O))return!1}}return!0},NS=function(l){return l==l&&!we(l)},fz=function(l){for(var e=_s(l),i=e.length;i--;){var s=e[i],u=l[s];e[i]=[s,u,NS(u)]}return e},MS=function(l,e){return function(i){return i!=null&&i[l]===e&&(e!==void 0||l in Object(i))}},pz=function(l){var e=fz(l);return e.length==1&&e[0][2]?MS(e[0][0],e[0][1]):function(i){return i===l||hz(i,l,e)}},mz=function(l,e){return l!=null&&e in Object(l)},gz=function(l,e,i){for(var s=-1,u=(e=kc(e,l)).length,h=!1;++s<u;){var m=fa(e[s]);if(!(h=l!=null&&i(l,m)))break;l=l[m]}return h||++s!=u?h:!!(u=l==null?0:l.length)&&fd(u)&&nu(m,u)&&(zt(l)||tu(l))},bz=function(l,e){return l!=null&&gz(l,e,mz)},kz=function(l,e){return yu(l)&&NS(e)?MS(fa(l),e):function(i){var s=Zo(i,l);return s===void 0&&s===e?bz(i,l):qb(e,s,3)}},wz=function(l){return function(e){return e==null?void 0:e[l]}},yz=function(l){return function(e){return sf(e,l)}},vz=function(l){return yu(l)?wz(fa(l)):yz(l)},_z=function(l){return typeof l=="function"?l:l==null?yl:typeof l=="object"?zt(l)?kz(l[0],l[1]):pz(l):vz(l)},Az=function(l,e){var i={};return e=_z(e),dz(l,function(s,u,h){Ko(i,u,e(s,u,h))}),i};var Cz=Object.defineProperty,xz=Object.defineProperties,Sz=Object.getOwnPropertyDescriptors,PS=Object.getOwnPropertySymbols,Ez=Object.prototype.hasOwnProperty,Dz=Object.prototype.propertyIsEnumerable,OS=(l,e,i)=>e in l?Cz(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i;class xm extends lt{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(e,i){this._markersToCopy.set(e,i)}_copySelectedFragmentWithMarkers(e,i,s=u=>u.model.getSelectedContent(u.model.document.selection)){return this.editor.model.change(u=>{const h=u.model.document.selection;u.setSelection(i);const m=this._insertFakeMarkersIntoSelection(u,u.model.document.selection,e),b=s(u),_=this._removeFakeMarkersInsideElement(u,b);for(const[S,T]of Object.entries(m)){_[S]||(_[S]=u.createRangeIn(b));for(const O of T)u.remove(O)}b.markers.clear();for(const[S,T]of Object.entries(_))b.markers.set(S,T);return u.setSelection(h),b})}_pasteMarkersIntoTransformedElement(e,i){const s=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(u=>{const h=this._insertFakeMarkersElements(u,s),m=i(u),b=this._removeFakeMarkersInsideElement(u,m);for(const _ of Object.values(h).flat())u.remove(_);for(const[_,S]of Object.entries(b))u.model.markers.has(_)||u.addMarker(_,{usingOperation:!0,affectsData:!0,range:S});return m})}_pasteFragmentWithMarkers(e){const i=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const s of i)e.markers.set(s.name,s.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,i,s={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const u=this._markersToCopy.get(e);this._markersToCopy.set(e,s),i(),u?this._markersToCopy.set(e,u):this._markersToCopy.delete(e)}_isMarkerCopyable(e,i){const s=this._getMarkerClipboardConfig(e);if(!s)return!1;if(!i)return!0;const{allowedActions:u}=s;return u==="all"||u.includes(i)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[i]=e.split(":");return this._markersToCopy.get(i)||null}_insertFakeMarkersIntoSelection(e,i,s){const u=this._getCopyableMarkersFromSelection(e,i,s);return this._insertFakeMarkersElements(e,u)}_getCopyableMarkersFromSelection(e,i,s){const u=Array.from(i.getRanges()),h=new Set(u.flatMap(m=>Array.from(e.model.markers.getMarkersIntersectingRange(m))));return Array.from(h).filter(m=>{if(!this._isMarkerCopyable(m.name,s))return!1;const{copyPartiallySelected:b}=this._getMarkerClipboardConfig(m.name);if(!b){const _=m.getRange();return u.some(S=>S.containsRange(_,!0))}return!0}).map(m=>({name:s==="dragstart"?this._getUniqueMarkerName(m.name):m.name,range:m.getRange()}))}_getPasteMarkersFromRangeMap(e,i=null){const{model:s}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([u,h])=>{if(!this._hasMarkerConfiguration(u))return[{name:u,range:h}];if(this._isMarkerCopyable(u,i)){const m=this._getMarkerClipboardConfig(u),b=s.markers.has(u)&&s.markers.get(u).getRange().root.rootName==="$graveyard";return(m.duplicateOnPaste||b)&&(u=this._getUniqueMarkerName(u)),[{name:u,range:h}]}return[]})}_insertFakeMarkersElements(e,i){const s={},u=i.flatMap(h=>{const{start:m,end:b}=h.range;return[{position:m,marker:h,type:"start"},{position:b,marker:h,type:"end"}]}).sort(({position:h},{position:m})=>h.isBefore(m)?1:-1);for(const{position:h,marker:m,type:b}of u){const _=e.createElement("$marker",{"data-name":m.name,"data-type":b});s[m.name]||(s[m.name]=[]),s[m.name].push(_),e.insert(_,h)}return s}_removeFakeMarkersInsideElement(e,i){const s=this._getAllFakeMarkersFromElement(e,i).reduce((u,h)=>{const m=h.markerElement&&e.createPositionBefore(h.markerElement);let b=u[h.name],_=!1;b&&b.start&&b.end&&(this._getMarkerClipboardConfig(h.name).duplicateOnPaste?u[this._getUniqueMarkerName(h.name)]=u[h.name]:_=!0,b=null);var S,T;return _||(u[h.name]=(S=((O,U)=>{for(var G in U||(U={}))Ez.call(U,G)&&OS(O,G,U[G]);if(PS)for(var G of PS(U))Dz.call(U,G)&&OS(O,G,U[G]);return O})({},b),T={[h.type]:m},xz(S,Sz(T)))),h.markerElement&&e.remove(h.markerElement),u},{});return Az(s,u=>new it(u.start||e.createPositionFromPath(i,[0]),u.end||e.createPositionAt(i,"end")))}_getAllFakeMarkersFromElement(e,i){const s=Array.from(e.createRangeIn(i)).flatMap(({item:m})=>{if(!m.is("element","$marker"))return[];const b=m.getAttribute("data-name"),_=m.getAttribute("data-type");return[{markerElement:m,name:b,type:_}]}),u=[],h=[];for(const m of s)m.type==="end"&&(s.some(b=>b.name===m.name&&b.type==="start")||u.push({markerElement:null,name:m.name,type:"start"})),m.type==="start"&&(s.some(b=>b.name===m.name&&b.type==="end")||h.unshift({markerElement:null,name:m.name,type:"end"}));return[...u,...s,...h]}_getUniqueMarkerName(e){const i=e.split(":"),s=P().substring(1,6);return i.length===3?`${i.slice(0,2).join(":")}:${s}`:`${i.join(":")}:${s}`}}class ga extends lt{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[xm]}init(){this.editor.editing.view.addObserver(Cm),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,i,s){const u=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:s==="cut"},()=>{const h=u._copySelectedFragmentWithMarkers(s,i);this.fire("outputTransformation",{dataTransfer:e,content:h,method:s})})}_setupPasteDrop(){const e=this.editor,i=e.model,s=e.editing.view,u=s.document,h=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(u,"clipboardInput",(m,b)=>{b.method!="paste"||e.model.canEditAt(e.model.document.selection)||m.stop()},{priority:"highest"}),this.listenTo(u,"clipboardInput",(m,b)=>{const _=b.dataTransfer;let S;if(b.content)S=b.content;else{let U="";_.getData("text/html")?U=function(G){return G.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(ee,ie)=>ie.length==1?" ":ie).replace(/<!--[\s\S]*?-->/g,"")}(_.getData("text/html")):_.getData("text/plain")&&(((T=(T=_.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||T.includes("<br>"))&&(T=`<p>${T}</p>`),U=T),S=this.editor.data.htmlProcessor.toView(U)}var T;const O=new E(this,"inputTransformation");this.fire(O,{content:S,dataTransfer:_,targetRanges:b.targetRanges,method:b.method}),O.stop.called&&m.stop(),s.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(m,b)=>{if(b.content.isEmpty)return;const _=this.editor.data.toModel(b.content,"$clipboardHolder");_.childCount!=0&&(m.stop(),i.change(()=>{this.fire("contentInsertion",{content:_,method:b.method,dataTransfer:b.dataTransfer,targetRanges:b.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(m,b)=>{b.resultRange=h._pasteFragmentWithMarkers(b.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,i=e.model.document,s=e.editing.view.document,u=(h,m)=>{const b=m.dataTransfer;m.preventDefault(),this._fireOutputTransformationEvent(b,i.selection,h.name)};this.listenTo(s,"copy",u,{priority:"low"}),this.listenTo(s,"cut",(h,m)=>{e.model.canEditAt(e.model.document.selection)?u(h,m):m.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(h,m)=>{const b=e.data.toView(m.content);s.fire("clipboardOutput",{dataTransfer:m.dataTransfer,content:b,method:m.method})},{priority:"low"}),this.listenTo(s,"clipboardOutput",(h,m)=>{m.content.isEmpty||(m.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(m.content)),m.dataTransfer.setData("text/plain",TS(m.content))),m.method=="cut"&&e.model.deleteContent(i.selection)},{priority:"low"})}}class LS{constructor(e,i=20){this._batch=null,this.model=e,this._size=0,this.limit=i,this._isLocked=!1,this._changeCallback=(s,u)=>{u.isLocal&&u.isUndoable&&u!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class Iz extends $t{constructor(e,i){super(e),this._buffer=new LS(e.model,i),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const i=this.editor.model,s=i.document,u=e.text||"",h=u.length;let m=s.selection;if(e.selection?m=e.selection:e.range&&(m=i.createSelection(e.range)),!i.canEditAt(m))return;const b=e.resultRange;i.enqueueChange(this._buffer.batch,_=>{this._buffer.lock();const S=Array.from(s.selection.getAttributes());i.deleteContent(m),u&&i.insertContent(_.createText(u,S),m),b?_.setSelection(b):m.is("documentSelection")||_.setSelection(m),this._buffer.unlock(),this._buffer.input(h)})}}const BS=["insertText","insertReplacementText"];class Tz extends Sl{constructor(e){super(e),this.focusObserver=e.getObserver(Vb),k.isAndroid&&BS.push("insertCompositionText");const i=e.document;i.on("beforeinput",(s,u)=>{if(!this.isEnabled)return;const{data:h,targetRanges:m,inputType:b,domEvent:_}=u;if(!BS.includes(b))return;this.focusObserver.flush();const S=new E(i,"insertText");i.fire(S,new hf(e,_,{text:h,selection:e.createSelection(m)})),S.stop.called&&s.stop()}),i.on("compositionend",(s,{data:u,domEvent:h})=>{this.isEnabled&&!k.isAndroid&&u&&i.fire("insertText",new hf(e,h,{text:u,selection:i.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class jS extends lt{static get pluginName(){return"Input"}init(){const e=this.editor,i=e.model,s=e.editing.view,u=i.document.selection;s.addObserver(Tz);const h=new Iz(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",h),e.commands.add("input",h),this.listenTo(s.document,"insertText",(m,b)=>{s.document.isComposing||b.preventDefault();const{text:_,selection:S,resultRange:T}=b,O=Array.from(S.getRanges()).map(ee=>e.editing.mapper.toModelRange(ee));let U=_;if(k.isAndroid){const ee=Array.from(O[0].getItems()).reduce((ie,be)=>ie+(be.is("$textProxy")?be.data:""),"");ee&&(ee.length<=U.length?U.startsWith(ee)&&(U=U.substring(ee.length),O[0].start=O[0].start.getShiftedBy(ee.length)):ee.startsWith(U)&&(O[0].start=O[0].start.getShiftedBy(U.length),U=""))}const G={text:U,selection:i.createSelection(O)};T&&(G.resultRange=e.editing.mapper.toModelRange(T)),e.execute("insertText",G),s.scrollToTheSelection()}),k.isAndroid?this.listenTo(s.document,"keydown",(m,b)=>{!u.isCollapsed&&b.keyCode==229&&s.document.isComposing&&RS(i,h)}):this.listenTo(s.document,"compositionstart",()=>{u.isCollapsed||RS(i,h)})}}function RS(l,e){if(!e.isEnabled)return;const i=e.buffer;i.lock(),l.enqueueChange(i.batch,()=>{l.deleteContent(l.document.selection)}),i.unlock()}class FS extends $t{constructor(e,i){super(e),this.direction=i,this._buffer=new LS(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const i=this.editor.model,s=i.document;i.enqueueChange(this._buffer.batch,u=>{this._buffer.lock();const h=u.createSelection(e.selection||s.selection);if(!i.canEditAt(h))return;const m=e.sequence||1,b=h.isCollapsed;if(h.isCollapsed&&i.modifySelection(h,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(m))return void this._replaceEntireContentWithParagraph(u);if(this._shouldReplaceFirstBlockWithParagraph(h,m))return void this.editor.execute("paragraph",{selection:h});if(h.isCollapsed)return;let _=0;h.getFirstRange().getMinimalFlatRanges().forEach(S=>{_+=Me(S.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),i.deleteContent(h,{doNotResetEntireContent:b,direction:this.direction}),this._buffer.input(_),u.setSelection(h),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const i=this.editor.model,s=i.document.selection,u=i.schema.getLimitElement(s);if(!(s.isCollapsed&&s.containsEntireContent(u))||!i.schema.checkChild(u,"paragraph"))return!1;const h=u.getChild(0);return!h||!h.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const i=this.editor.model,s=i.document.selection,u=i.schema.getLimitElement(s),h=e.createElement("paragraph");e.remove(e.createRangeIn(u)),e.insert(h,u),e.setSelection(h,0)}_shouldReplaceFirstBlockWithParagraph(e,i){const s=this.editor.model;if(i>1||this.direction!="backward"||!e.isCollapsed)return!1;const u=e.getFirstPosition(),h=s.schema.getLimitElement(u),m=h.getChild(0);return u.parent==m&&!!e.containsEntireContent(m)&&!!s.schema.checkChild(h,"paragraph")&&m.name!="paragraph"}}const zS="word",xu="selection",vf="backward",Sm="forward",US={deleteContent:{unit:xu,direction:vf},deleteContentBackward:{unit:"codePoint",direction:vf},deleteWordBackward:{unit:zS,direction:vf},deleteHardLineBackward:{unit:xu,direction:vf},deleteSoftLineBackward:{unit:xu,direction:vf},deleteContentForward:{unit:"character",direction:Sm},deleteWordForward:{unit:zS,direction:Sm},deleteHardLineForward:{unit:xu,direction:Sm},deleteSoftLineForward:{unit:xu,direction:Sm}};class Nz extends Sl{constructor(e){super(e);const i=e.document;let s=0;i.on("keydown",()=>{s++}),i.on("keyup",()=>{s=0}),i.on("beforeinput",(u,h)=>{if(!this.isEnabled)return;const{targetRanges:m,domEvent:b,inputType:_}=h,S=US[_];if(!S)return;const T={direction:S.direction,unit:S.unit,sequence:s};T.unit==xu&&(T.selectionToRemove=e.createSelection(m[0])),_==="deleteContentBackward"&&(k.isAndroid&&(T.sequence=1),function(U){if(U.length!=1||U[0].isCollapsed)return!1;const G=U[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let ee=0;for(const{nextPosition:ie,item:be}of G){if(ie.parent.is("$text")){const Se=ie.parent.data,Le=ie.offset;if(nf(Se,Le)||gu(Se,Le)||Eb(Se,Le))continue;ee++}else(be.is("containerElement")||be.is("emptyElement"))&&ee++;if(ee>1)return!0}return!1}(m)&&(T.unit=xu,T.selectionToRemove=e.createSelection(m)));const O=new _u(i,"delete",m[0]);i.fire(O,new hf(e,b,T)),O.stop.called&&u.stop()}),k.isBlink&&function(u){const h=u.view,m=h.document;let b=null,_=!1;function S(O){return O==Mn.backspace||O==Mn.delete}function T(O){return O==Mn.backspace?vf:Sm}m.on("keydown",(O,{keyCode:U})=>{b=U,_=!1}),m.on("keyup",(O,{keyCode:U,domEvent:G})=>{const ee=m.selection,ie=u.isEnabled&&U==b&&S(U)&&!ee.isCollapsed&&!_;if(b=null,ie){const be=ee.getFirstRange(),Se=new _u(m,"delete",be),Le={unit:xu,direction:T(U),selectionToRemove:ee};m.fire(Se,new hf(h,G,Le))}}),m.on("beforeinput",(O,{inputType:U})=>{const G=US[U];S(b)&&G&&G.direction==T(b)&&(_=!0)},{priority:"high"}),m.on("beforeinput",(O,{inputType:U,data:G})=>{b==Mn.delete&&U=="insertText"&&G==""&&O.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class Ec extends lt{static get pluginName(){return"Delete"}init(){const e=this.editor,i=e.editing.view,s=i.document,u=e.model.document;i.addObserver(Nz),this._undoOnBackspace=!1;const h=new FS(e,"forward");e.commands.add("deleteForward",h),e.commands.add("forwardDelete",h),e.commands.add("delete",new FS(e,"backward")),this.listenTo(s,"delete",(m,b)=>{s.isComposing||b.preventDefault();const{direction:_,sequence:S,selectionToRemove:T,unit:O}=b,U=_==="forward"?"deleteForward":"delete",G={sequence:S};if(O=="selection"){const ee=Array.from(T.getRanges()).map(ie=>e.editing.mapper.toModelRange(ie));G.selection=e.model.createSelection(ee)}else G.unit=O;e.execute(U,G),i.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(s,"delete",(m,b)=>{this._undoOnBackspace&&b.direction=="backward"&&b.sequence==1&&b.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),b.preventDefault(),m.stop())},{context:"$capture"}),this.listenTo(u,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class Mz extends lt{static get requires(){return[jS,Ec]}static get pluginName(){return"Typing"}}function qS(l,e){let i=l.start;return{text:Array.from(l.getWalker({ignoreElementEnd:!1})).reduce((s,{item:u})=>u.is("$text")||u.is("$textProxy")?s+u.data:(i=e.createPositionAfter(u),""),""),range:e.createRange(i,l.end)}}class VS extends ze(){constructor(e,i){super(),this.model=e,this.testCallback=i,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(i,{directChange:s})=>{s&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(i,s)=>{!s.isUndo&&s.isLocal&&this._evaluateTextBeforeSelection("data",{batch:s})})}_evaluateTextBeforeSelection(e,i={}){const s=this.model,u=s.document.selection,h=s.createRange(s.createPositionAt(u.focus.parent,0),u.focus),{text:m,range:b}=qS(h,s),_=this.testCallback(m);if(!_&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!_,_){const S=Object.assign(i,{text:m,range:b});typeof _=="object"&&Object.assign(S,_),this.fire(`matched:${e}`,S)}}}class HS extends lt{constructor(e){super(e),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const e=this.editor,i=e.model,s=e.editing.view,u=e.locale,h=i.document.selection;this.listenTo(s.document,"arrowKey",(m,b)=>{if(!h.isCollapsed||b.shiftKey||b.altKey||b.ctrlKey)return;const _=b.keyCode==Mn.arrowright,S=b.keyCode==Mn.arrowleft;if(!_&&!S)return;const T=u.contentLanguageDirection;let O=!1;O=T==="ltr"&&_||T==="rtl"&&S?this._handleForwardMovement(b):this._handleBackwardMovement(b),O===!0&&m.stop()},{context:"$text",priority:"highest"}),this.listenTo(h,"change:range",(m,b)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!b.directChange&&ba(h.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const i=this.attributes,s=this.editor.model,u=s.document.selection,h=u.getFirstPosition();return!this._isGravityOverridden&&(!h.isAtStart||!Dc(u,i))&&!!ba(h,i)&&(Dm(e),Dc(u,i)&&ba(h,i,!0)?Em(s,i):this._overrideGravity(),!0)}_handleBackwardMovement(e){const i=this.attributes,s=this.editor.model,u=s.document.selection,h=u.getFirstPosition();return this._isGravityOverridden?(Dm(e),this._restoreGravity(),ba(h,i,!0)?Em(s,i):u0(s,i,h),!0):h.isAtStart?!!Dc(u,i)&&(Dm(e),u0(s,i,h),!0):!Dc(u,i)&&ba(h,i,!0)?(Dm(e),u0(s,i,h),!0):!!$S(h,i)&&(h.isAtEnd&&!Dc(u,i)&&ba(h,i)?(Dm(e),u0(s,i,h),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const e=this.editor,i=e.model,s=i.document.selection,u=e.editing.view.document;e.editing.view.addObserver(iy);let h=!1;this.listenTo(u,"mousedown",()=>{h=!0}),this.listenTo(u,"selectionChange",()=>{const m=this.attributes;if(!h||(h=!1,!s.isCollapsed)||!Dc(s,m))return;const b=s.getFirstPosition();ba(b,m)&&(b.isAtStart||ba(b,m,!0)?Em(i,m):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,i=e.document.selection,s=this.attributes;this.listenTo(e,"insertContent",()=>{const u=i.getFirstPosition();Dc(i,s)&&ba(u,s)&&Em(e,s)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,i=e.model,s=i.document.selection,u=e.editing.view;let h=!1,m=!1;this.listenTo(u.document,"delete",(b,_)=>{h=_.direction==="backward"},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{if(!h)return;const b=s.getFirstPosition();m=Dc(s,this.attributes)&&!$S(b,this.attributes)},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{h&&(h=!1,m||e.model.enqueueChange(()=>{const b=s.getFirstPosition();Dc(s,this.attributes)&&ba(b,this.attributes)&&(b.isAtStart||ba(b,this.attributes,!0)?Em(i,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Dc(l,e){for(const i of e)if(l.hasAttribute(i))return!0;return!1}function u0(l,e,i){const s=i.nodeBefore;l.change(u=>{if(s){const h=[],m=l.schema.isObject(s)&&l.schema.isInline(s);for(const[b,_]of s.getAttributes())!l.schema.checkAttribute("$text",b)||m&&l.schema.getAttributeProperties(b).copyFromObject===!1||h.push([b,_]);u.setSelectionAttribute(h)}else u.removeSelectionAttribute(e)})}function Em(l,e){l.change(i=>{i.removeSelectionAttribute(e)})}function Dm(l){l.preventDefault()}function $S(l,e){return ba(l.getShiftedBy(-1),e)}function ba(l,e,i=!1){const{nodeBefore:s,nodeAfter:u}=l;for(const h of e){const m=s?s.getAttribute(h):void 0,b=u?u.getAttribute(h):void 0;if((!i||m!==void 0&&b!==void 0)&&b!==m)return!0}return!1}const WS={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:_f('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:_f("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:_f("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:_f('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:_f('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:_f("'"),to:[null,"‚",null,"’"]}},GS={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Pz=["symbols","mathematical","typography","quotes"];function Oz(l){return typeof l=="string"?new RegExp(`(${K5(l)})$`):l}function Lz(l){return typeof l=="string"?()=>[l]:l instanceof Array?()=>l:l}function Bz(l){return(l.textNode?l.textNode:l.nodeAfter).getAttributes()}function _f(l){return new RegExp(`(^|\\s)(${l})([^${l}]*)(${l})$`)}function d0(l,e,i,s){return s.createRange(YS(l,e,i,!0,s),YS(l,e,i,!1,s))}function YS(l,e,i,s,u){let h=l.textNode||(s?l.nodeBefore:l.nodeAfter),m=null;for(;h&&h.getAttribute(e)==i;)m=h,h=s?h.previousSibling:h.nextSibling;return m?u.createPositionAt(m,s?"before":"after"):l}function*KS(l,e){for(const i of e)i&&l.getAttributeProperties(i[0]).copyOnEnter&&(yield i)}class jz extends $t{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const i=this.editor.model,s=i.document.selection,u=i.schema,h=s.isCollapsed,m=s.getFirstRange(),b=m.start.parent,_=m.end.parent;if(u.isLimit(b)||u.isLimit(_))return h||b!=_||i.deleteContent(s),!1;if(h){const S=KS(e.model.schema,s.getAttributes());return QS(e,m.start),e.setSelectionAttribute(S),!0}{const S=!(m.start.isAtStart&&m.end.isAtEnd),T=b==_;if(i.deleteContent(s,{leaveUnmerged:S}),S){if(T)return QS(e,s.focus),!0;e.setSelection(_,0)}}return!1}}function QS(l,e){l.split(e),l.setSelection(e.parent.nextSibling,0)}const Rz={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class JS extends Sl{constructor(e){super(e);const i=this.document;let s=!1;i.on("keydown",(u,h)=>{s=h.shiftKey}),i.on("beforeinput",(u,h)=>{if(!this.isEnabled)return;let m=h.inputType;k.isSafari&&s&&m=="insertParagraph"&&(m="insertLineBreak");const b=h.domEvent,_=Rz[m];if(!_)return;const S=new _u(i,"enter",h.targetRanges[0]);i.fire(S,new hf(e,b,{isSoft:_.isSoft})),S.stop.called&&u.stop()})}observe(){}stopObserving(){}}class h0 extends lt{static get pluginName(){return"Enter"}init(){const e=this.editor,i=e.editing.view,s=i.document,u=this.editor.t;i.addObserver(JS),e.commands.add("enter",new jz(e)),this.listenTo(s,"enter",(h,m)=>{s.isComposing||m.preventDefault(),m.isSoft||(e.execute("enter"),i.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:u("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class Fz extends $t{execute(){const e=this.editor.model,i=e.document;e.change(s=>{(function(u,h,m){const b=m.isCollapsed,_=m.getFirstRange(),S=_.start.parent,T=_.end.parent,O=S==T;if(b){const U=KS(u.schema,m.getAttributes());ZS(u,h,_.end),h.removeSelectionAttribute(m.getAttributeKeys()),h.setSelectionAttribute(U)}else{const U=!(_.start.isAtStart&&_.end.isAtEnd);u.deleteContent(m,{leaveUnmerged:U}),O?ZS(u,h,m.focus):U&&h.setSelection(T,0)}})(e,s,i.selection),this.fire("afterExecute",{writer:s})})}refresh(){const e=this.editor.model,i=e.document;this.isEnabled=function(s,u){if(u.rangeCount>1)return!1;const h=u.anchor;if(!h||!s.checkChild(h,"softBreak"))return!1;const m=u.getFirstRange(),b=m.start.parent,_=m.end.parent;return!((xy(b,s)||xy(_,s))&&b!==_)}(e.schema,i.selection)}}function ZS(l,e,i){const s=e.createElement("softBreak");l.insertContent(s,i),e.setSelection(s,"after")}function xy(l,e){return!l.is("rootElement")&&(e.isLimit(l)||xy(l.parent,e))}class zz extends lt{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,i=e.model.schema,s=e.conversion,u=e.editing.view,h=u.document,m=this.editor.t;i.register("softBreak",{allowWhere:"$text",isInline:!0}),s.for("upcast").elementToElement({model:"softBreak",view:"br"}),s.for("downcast").elementToElement({model:"softBreak",view:(b,{writer:_})=>_.createEmptyElement("br")}),u.addObserver(JS),e.commands.add("shiftEnter",new Fz(e)),this.listenTo(h,"enter",(b,_)=>{h.isComposing||_.preventDefault(),_.isSoft&&(e.execute("shiftEnter"),u.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:m("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class Uz extends oe(){constructor(){super(...arguments),this._stack=[]}add(e,i){const s=this._stack,u=s[0];this._insertDescriptor(e);const h=s[0];u===h||Sy(u,h)||this.fire("change:top",{oldDescriptor:u,newDescriptor:h,writer:i})}remove(e,i){const s=this._stack,u=s[0];this._removeDescriptor(e);const h=s[0];u===h||Sy(u,h)||this.fire("change:top",{oldDescriptor:u,newDescriptor:h,writer:i})}_insertDescriptor(e){const i=this._stack,s=i.findIndex(h=>h.id===e.id);if(Sy(e,i[s]))return;s>-1&&i.splice(s,1);let u=0;for(;i[u]&&qz(i[u],e);)u++;i.splice(u,0,e)}_removeDescriptor(e){const i=this._stack,s=i.findIndex(u=>u.id===e);s>-1&&i.splice(s,1)}}function Sy(l,e){return l&&e&&l.priority==e.priority&&f0(l.classes)==f0(e.classes)}function qz(l,e){return l.priority>e.priority||!(l.priority<e.priority)&&f0(l.classes)>f0(e.classes)}function f0(l){return Array.isArray(l)?l.sort().join(","):l}const Vz='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',Hz="ck-widget",XS="ck-widget_selected";function ki(l){return!!l.is("element")&&!!l.getCustomProperty("widget")}function Ey(l,e,i={}){if(!l.is("containerElement"))throw new N("widget-to-widget-wrong-element-type",null,{element:l});return e.setAttribute("contenteditable","false",l),e.addClass(Hz,l),e.setCustomProperty("widget",!0,l),l.getFillerOffset=Gz,e.setCustomProperty("widgetLabel",[],l),i.label&&function(s,u){s.getCustomProperty("widgetLabel").push(u)}(l,i.label),i.hasSelectionHandle&&function(s,u){const h=u.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(m){const b=this.toDomElement(m),_=new Cc;return _.set("content",Vz),_.render(),b.appendChild(_.element),b});u.insert(u.createPositionAt(s,0),h),u.addClass(["ck-widget_with-selection-handle"],s)}(l,e),e3(l,e),l}function $z(l,e,i){if(e.classes&&i.addClass(nr(e.classes),l),e.attributes)for(const s in e.attributes)i.setAttribute(s,e.attributes[s],l)}function Wz(l,e,i){if(e.classes&&i.removeClass(nr(e.classes),l),e.attributes)for(const s in e.attributes)i.removeAttribute(s,l)}function e3(l,e,i=$z,s=Wz){const u=new Uz;u.on("change:top",(h,m)=>{m.oldDescriptor&&s(l,m.oldDescriptor,m.writer),m.newDescriptor&&i(l,m.newDescriptor,m.writer)}),e.setCustomProperty("addHighlight",(h,m,b)=>u.add(m,b),l),e.setCustomProperty("removeHighlight",(h,m,b)=>u.remove(m,b),l)}function t3(l,e,i={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],l),e.setAttribute("role","textbox",l),e.setAttribute("tabindex","-1",l),i.label&&e.setAttribute("aria-label",i.label,l),e.setAttribute("contenteditable",l.isReadOnly?"false":"true",l),l.on("change:isReadOnly",(s,u,h)=>{e.setAttribute("contenteditable",h?"false":"true",l)}),l.on("change:isFocused",(s,u,h)=>{h?e.addClass("ck-editor__nested-editable_focused",l):e.removeClass("ck-editor__nested-editable_focused",l)}),e3(l,e),l}function n3(l,e){const i=l.getSelectedElement();if(i){const s=Su(l);if(s)return e.createRange(e.createPositionAt(i,s))}return e.schema.findOptimalInsertionRange(l)}function Gz(){return null}const Ic="widget-type-around";function Vd(l,e,i){return!!l&&ki(l)&&!i.isInline(e)}function Su(l){return l.getAttribute(Ic)}var r3=a(8508),Yz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(r3.A,Yz),r3.A.locals;const i3=["before","after"],Kz=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,o3="ck-widget__type-around_disabled";class Qz extends lt{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[h0,Ec]}init(){const e=this.editor,i=e.editing.view;this.on("change:isEnabled",(s,u,h)=>{i.change(m=>{for(const b of i.document.roots)h?m.removeClass(o3,b):m.addClass(o3,b)}),h||e.model.change(m=>{m.removeSelectionAttribute(Ic)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,i){const s=this.editor,u=s.editing.view,h=s.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);s.execute("insertParagraph",{position:s.model.createPositionAt(e,i),attributes:h}),u.focus(),u.scrollToTheSelection()}_listenToIfEnabled(e,i,s,u){this.listenTo(e,i,(...h)=>{this.isEnabled&&s(...h)},u)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,i=Su(e);if(!i)return!1;const s=e.getSelectedElement();return this._insertParagraph(s,i),!0}_enableTypeAroundUIInjection(){const e=this.editor,i=e.model.schema,s=e.locale.t,u={before:s("Insert paragraph before block"),after:s("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(h,m,b)=>{const _=b.mapper.toViewElement(m.item);_&&Vd(_,m.item,i)&&(function(S,T,O){const U=S.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(G){const ee=this.toDomElement(G);return function(ie,be){for(const Se of i3){const Le=new I({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${Se}`],title:be[Se],"aria-hidden":"true"},children:[ie.ownerDocument.importNode(Kz,!0)]});ie.appendChild(Le.render())}}(ee,T),function(ie){const be=new I({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});ie.appendChild(be.render())}(ee),ee});S.insert(S.createPositionAt(O,"end"),U)}(b.writer,u,_),_.getCustomProperty("widgetLabel").push(()=>this.isEnabled?s("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,i=e.model,s=i.document.selection,u=i.schema,h=e.editing.view;function m(b){return`ck-widget_type-around_show-fake-caret_${b}`}this._listenToIfEnabled(h.document,"arrowKey",(b,_)=>{this._handleArrowKeyPress(b,_)},{context:[ki,"$text"],priority:"high"}),this._listenToIfEnabled(s,"change:range",(b,_)=>{_.directChange&&e.model.change(S=>{S.removeSelectionAttribute(Ic)})}),this._listenToIfEnabled(i.document,"change:data",()=>{const b=s.getSelectedElement();b&&Vd(e.editing.mapper.toViewElement(b),b,u)||e.model.change(_=>{_.removeSelectionAttribute(Ic)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(b,_,S)=>{const T=S.writer;if(this._currentFakeCaretModelElement){const ee=S.mapper.toViewElement(this._currentFakeCaretModelElement);ee&&(T.removeClass(i3.map(m),ee),this._currentFakeCaretModelElement=null)}const O=_.selection.getSelectedElement();if(!O)return;const U=S.mapper.toViewElement(O);if(!Vd(U,O,u))return;const G=Su(_.selection);G&&(T.addClass(m(G),U),this._currentFakeCaretModelElement=O)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(b,_,S)=>{S||e.model.change(T=>{T.removeSelectionAttribute(Ic)})})}_handleArrowKeyPress(e,i){const s=this.editor,u=s.model,h=u.document.selection,m=u.schema,b=s.editing.view,_=function(O,U){const G=Qp(O,U);return G==="down"||G==="right"}(i.keyCode,s.locale.contentLanguageDirection),S=b.document.selection.getSelectedElement();let T;Vd(S,s.editing.mapper.toModelElement(S),m)?T=this._handleArrowKeyPressOnSelectedWidget(_):h.isCollapsed?T=this._handleArrowKeyPressWhenSelectionNextToAWidget(_):i.shiftKey||(T=this._handleArrowKeyPressWhenNonCollapsedSelection(_)),T&&(i.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const i=this.editor.model,s=Su(i.document.selection);return i.change(u=>s?s!==(e?"after":"before")?(u.removeSelectionAttribute(Ic),!0):!1:(u.setSelectionAttribute(Ic,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const i=this.editor,s=i.model,u=s.schema,h=i.plugins.get("Widget"),m=h._getObjectElementNextToSelection(e);return!!Vd(i.editing.mapper.toViewElement(m),m,u)&&(s.change(b=>{h._setSelectionOverElement(m),b.setSelectionAttribute(Ic,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const i=this.editor,s=i.model,u=s.schema,h=i.editing.mapper,m=s.document.selection,b=e?m.getLastPosition().nodeBefore:m.getFirstPosition().nodeAfter;return!!Vd(h.toViewElement(b),b,u)&&(s.change(_=>{_.setSelection(b,"on"),_.setSelectionAttribute(Ic,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,i=e.editing.view;this._listenToIfEnabled(i.document,"mousedown",(s,u)=>{const h=u.domTarget.closest(".ck-widget__type-around__button");if(!h)return;const m=function(S){return S.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(h),b=function(S,T){const O=S.closest(".ck-widget");return T.mapDomToView(O)}(h,i.domConverter),_=e.editing.mapper.toModelElement(b);this._insertParagraph(_,m),u.preventDefault(),s.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,i=e.model.document.selection,s=e.editing.view;this._listenToIfEnabled(s.document,"enter",(u,h)=>{if(u.eventPhase!="atTarget")return;const m=i.getSelectedElement(),b=e.editing.mapper.toViewElement(m),_=e.model.schema;let S;this._insertParagraphAccordingToFakeCaretPosition()?S=!0:Vd(b,m,_)&&(this._insertParagraph(m,h.isSoft?"before":"after"),S=!0),S&&(h.preventDefault(),u.stop())},{context:ki})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(i,s)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(s.selection=e.selection)},{priority:"high"}),k.isAndroid?this._listenToIfEnabled(e,"keydown",(i,s)=>{s.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,i=e.editing.view,s=e.model,u=s.schema;this._listenToIfEnabled(i.document,"delete",(h,m)=>{if(h.eventPhase!="atTarget")return;const b=Su(s.document.selection);if(!b)return;const _=m.direction,S=s.document.selection.getSelectedElement(),T=_=="forward";if(b==="before"===T)e.execute("delete",{selection:s.createSelection(S,"on")});else{const O=u.getNearestSelectionRange(s.createPositionAt(S,b),_);if(O)if(O.isCollapsed){const U=s.createSelection(O.start);if(s.modifySelection(U,{direction:_}),U.focus.isEqual(O.start)){const G=function(ee,ie){let be=ie;for(const Se of ie.getAncestors({parentFirst:!0})){if(Se.childCount>1||ee.isLimit(Se))break;be=Se}return be}(u,O.start.parent);s.deleteContent(s.createSelection(G,"on"),{doNotAutoparagraph:!0})}else s.change(G=>{G.setSelection(O),e.execute(T?"deleteForward":"delete")})}else s.change(U=>{U.setSelection(O),e.execute(T?"deleteForward":"delete")})}m.preventDefault(),h.stop()},{context:ki})}_enableInsertContentIntegration(){const e=this.editor,i=this.editor.model,s=i.document.selection;this._listenToIfEnabled(e.model,"insertContent",(u,[h,m])=>{if(m&&!m.is("documentSelection"))return;const b=Su(s);return b?(u.stop(),i.change(_=>{const S=s.getSelectedElement(),T=i.createPositionAt(S,b),O=_.createSelection(T),U=i.insertContent(h,O);return _.setSelection(O),U})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(s,u)=>{const[,h,m={}]=u;if(h&&!h.is("documentSelection"))return;const b=Su(i);b&&(m.findOptimalPosition=b,u[3]=m)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(s,[u])=>{u&&!u.is("documentSelection")||Su(i)&&s.stop()},{priority:"high"})}}function Jz(l){const e=l.model;return(i,s)=>{const u=s.keyCode==Mn.arrowup,h=s.keyCode==Mn.arrowdown,m=s.shiftKey,b=e.document.selection;if(!u&&!h)return;const _=h;if(m&&function(T,O){return!T.isCollapsed&&T.isBackward==O}(b,_))return;const S=function(T,O,U){const G=T.model;if(U){const ee=O.isCollapsed?O.focus:O.getLastPosition(),ie=s3(G,ee,"forward");if(!ie)return null;const be=G.createRange(ee,ie),Se=a3(G.schema,be,"backward");return Se?G.createRange(ee,Se):null}{const ee=O.isCollapsed?O.focus:O.getFirstPosition(),ie=s3(G,ee,"backward");if(!ie)return null;const be=G.createRange(ie,ee),Se=a3(G.schema,be,"forward");return Se?G.createRange(Se,ee):null}}(l,b,_);if(S){if(S.isCollapsed&&(b.isCollapsed||m))return;(S.isCollapsed||function(T,O,U){const G=T.model,ee=T.view.domConverter;if(U){const et=G.createSelection(O.start);G.modifySelection(et),et.focus.isAtEnd||O.start.isEqual(et.focus)||(O=G.createRange(et.focus,O.end))}const ie=T.mapper.toViewRange(O),be=ee.viewRangeToDom(ie),Se=Ut.getDomRangeRects(be);let Le;for(const et of Se)if(Le!==void 0){if(Math.round(et.top)>=Le)return!1;Le=Math.max(Le,Math.round(et.bottom))}else Le=Math.round(et.bottom);return!0}(l,S,_))&&(e.change(T=>{const O=_?S.end:S.start;if(m){const U=e.createSelection(b.anchor);U.setFocus(O),T.setSelection(U)}else T.setSelection(O)}),i.stop(),s.preventDefault(),s.stopPropagation())}}}function s3(l,e,i){const s=l.schema,u=l.createRangeIn(e.root),h=i=="forward"?"elementStart":"elementEnd";for(const{previousPosition:m,item:b,type:_}of u.getWalker({startPosition:e,direction:i})){if(s.isLimit(b)&&!s.isInline(b))return m;if(_==h&&s.isBlock(b))return null}return null}function a3(l,e,i){const s=i=="backward"?e.end:e.start;if(l.checkChild(s,"$text"))return s;for(const{nextPosition:u}of e.getWalker({direction:i}))if(l.checkChild(u,"$text"))return u;return null}var l3=a(695),Zz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(l3.A,Zz),l3.A.locals;class Im extends lt{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[Qz,Ec]}init(){const e=this.editor,i=e.editing.view,s=i.document,u=e.t;this.editor.editing.downcastDispatcher.on("selection",(h,m,b)=>{const _=b.writer,S=m.selection;if(S.isCollapsed)return;const T=S.getSelectedElement();if(!T)return;const O=e.editing.mapper.toViewElement(T);var U;ki(O)&&b.consumable.consume(S,"selection")&&_.setSelection(_.createRangeOn(O),{fake:!0,label:(U=O,U.getCustomProperty("widgetLabel").reduce((G,ee)=>typeof ee=="function"?G?G+". "+ee():ee():G?G+". "+ee:ee,""))})}),this.editor.editing.downcastDispatcher.on("selection",(h,m,b)=>{this._clearPreviouslySelectedWidgets(b.writer);const _=b.writer,S=_.document.selection;let T=null;for(const O of S.getRanges())for(const U of O){const G=U.item;ki(G)&&!Xz(G,T)&&(_.addClass(XS,G),this._previouslySelected.add(G),T=G)}},{priority:"low"}),i.addObserver(iy),this.listenTo(s,"mousedown",(...h)=>this._onMousedown(...h)),this.listenTo(s,"arrowKey",(...h)=>{this._handleSelectionChangeOnArrowKeyPress(...h)},{context:[ki,"$text"]}),this.listenTo(s,"arrowKey",(...h)=>{this._preventDefaultOnArrowKeyPress(...h)},{context:"$root"}),this.listenTo(s,"arrowKey",Jz(this.editor.editing),{context:"$text"}),this.listenTo(s,"delete",(h,m)=>{this._handleDelete(m.direction=="forward")&&(m.preventDefault(),h.stop())},{context:"$root"}),this.listenTo(s,"tab",(h,m)=>{h.eventPhase=="atTarget"&&(m.shiftKey||this._selectFirstNestedEditable()&&(m.preventDefault(),h.stop()))},{context:ki,priority:"low"}),this.listenTo(s,"tab",(h,m)=>{m.shiftKey&&this._selectAncestorWidget()&&(m.preventDefault(),h.stop())},{priority:"low"}),this.listenTo(s,"keydown",(h,m)=>{m.keystroke==Mn.esc&&this._selectAncestorWidget()&&(m.preventDefault(),h.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:u("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:u("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:u("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:u("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:u("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,i){const s=this.editor,u=s.editing.view,h=u.document;let m=i.target;if(i.domEvent.detail>=3)return void(this._selectBlockContent(m)&&i.preventDefault());if(function(_){let S=_;for(;S;){if(S.is("editableElement")&&!S.is("rootElement"))return!0;if(ki(S))return!1;S=S.parent}return!1}(m)||!ki(m)&&(m=m.findAncestor(ki),!m))return;k.isAndroid&&i.preventDefault(),h.isFocused||u.focus();const b=s.editing.mapper.toModelElement(m);this._setSelectionOverElement(b)}_selectBlockContent(e){const i=this.editor,s=i.model,u=i.editing.mapper,h=s.schema,m=u.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),b=function(_,S){for(const T of _.getAncestors({includeSelf:!0,parentFirst:!0})){if(S.checkChild(T,"$text"))return T;if(S.isLimit(T)&&!S.isObject(T))break}return null}(u.toModelElement(m),s.schema);return!!b&&(s.change(_=>{const S=h.isLimit(b)?null:function(U,G){const ee=new yc({startPosition:U});for(const{item:ie}of ee){if(G.isLimit(ie)||!ie.is("element"))return null;if(G.checkChild(ie,"$text"))return ie}return null}(_.createPositionAfter(b),h),T=_.createPositionAt(b,0),O=S?_.createPositionAt(S,0):_.createPositionAt(b,"end");_.setSelection(_.createRange(T,O))}),!0)}_handleSelectionChangeOnArrowKeyPress(e,i){const s=i.keyCode,u=this.editor.model,h=u.schema,m=u.document.selection,b=m.getSelectedElement(),_=Qp(s,this.editor.locale.contentLanguageDirection),S=_=="down"||_=="right",T=_=="up"||_=="down";if(b&&h.isObject(b)){const U=S?m.getLastPosition():m.getFirstPosition(),G=h.getNearestSelectionRange(U,S?"forward":"backward");return void(G&&(u.change(ee=>{ee.setSelection(G)}),i.preventDefault(),e.stop()))}if(!m.isCollapsed&&!i.shiftKey){const U=m.getFirstPosition(),G=m.getLastPosition(),ee=U.nodeAfter,ie=G.nodeBefore;return void((ee&&h.isObject(ee)||ie&&h.isObject(ie))&&(u.change(be=>{be.setSelection(S?G:U)}),i.preventDefault(),e.stop()))}if(!m.isCollapsed)return;const O=this._getObjectElementNextToSelection(S);if(O&&h.isObject(O)){if(h.isInline(O)&&T)return;this._setSelectionOverElement(O),i.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,i){const s=this.editor.model,u=s.schema,h=s.document.selection.getSelectedElement();h&&u.isObject(h)&&(i.preventDefault(),e.stop())}_handleDelete(e){const i=this.editor.model.document.selection;if(!this.editor.model.canEditAt(i)||!i.isCollapsed)return;const s=this._getObjectElementNextToSelection(e);return s?(this.editor.model.change(u=>{let h=i.anchor.parent;for(;h.isEmpty;){const m=h;h=m.parent,u.remove(m)}this._setSelectionOverElement(s)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(i=>{i.setSelection(i.createRangeOn(e))})}_getObjectElementNextToSelection(e){const i=this.editor.model,s=i.schema,u=i.document.selection,h=i.createSelection(u);if(i.modifySelection(h,{direction:e?"forward":"backward"}),h.isEqual(u))return null;const m=e?h.focus.nodeBefore:h.focus.nodeAfter;return m&&s.isObject(m)?m:null}_clearPreviouslySelectedWidgets(e){for(const i of this._previouslySelected)e.removeClass(XS,i);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,i=this.editor.editing.view.document;for(const s of i.selection.getFirstRange().getItems())if(s.is("editableElement")){const u=e.editing.mapper.toModelElement(s);if(!u)continue;const h=e.model.createPositionAt(u,0),m=e.model.schema.getNearestSelectionRange(h,"forward");return e.model.change(b=>{b.setSelection(m)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,i=e.editing.mapper,s=e.editing.view.document.selection.getFirstPosition().parent,u=(s.is("$text")?s.parent:s).findAncestor(ki);if(!u)return!1;const h=i.toModelElement(u);return!!h&&(e.model.change(m=>{m.setSelection(h,"on")}),!0)}}function Xz(l,e){return!!e&&Array.from(l.getAncestors()).includes(e)}class p0 extends lt{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[s0]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const i=e.plugins.get("BalloonToolbar");this.listenTo(i,"show",s=>{(function(u){const h=u.getSelectedElement();return!(!h||!ki(h))})(e.editing.view.document.selection)&&s.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:i,items:s,getRelatedElement:u,balloonClassName:h="ck-toolbar-container"}){if(!s.length)return void j("widget-toolbar-no-items",{toolbarId:e});const m=this.editor,b=m.t,_=new uy(m.locale);if(_.ariaLabel=i||b("Widget toolbar"),this._toolbarDefinitions.has(e))throw new N("widget-toolbar-duplicated",this,{toolbarId:e});const S={view:_,getRelatedElement:u,balloonClassName:h,itemsConfig:s,initialized:!1};m.ui.addToolbar(_,{isContextual:!0,beforeFocus:()=>{const T=u(m.editing.view.document.selection);T&&this._showToolbar(S,T)},afterBlur:()=>{this._hideToolbar(S)}}),this._toolbarDefinitions.set(e,S)}_updateToolbarsVisibility(){let e=0,i=null,s=null;for(const u of this._toolbarDefinitions.values()){const h=u.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&h)if(this.editor.ui.focusTracker.isFocused){const m=h.getAncestors().length;m>e&&(e=m,i=h,s=u)}else this._isToolbarVisible(u)&&this._hideToolbar(u);else this._isToolbarInBalloon(u)&&this._hideToolbar(u)}s&&this._showToolbar(s,i)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,i){this._isToolbarVisible(e)?c3(this.editor,i):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:u3(this.editor,i),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const s of this._toolbarDefinitions.values())if(this._isToolbarVisible(s)){const u=s.getRelatedElement(this.editor.editing.view.document.selection);c3(this.editor,u)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function c3(l,e){const i=l.plugins.get("ContextualBalloon"),s=u3(l,e);i.updatePosition(s)}function u3(l,e){const i=l.editing.view,s=ts.defaultPositions;return{target:i.domConverter.mapViewToDom(e),positions:[s.northArrowSouth,s.northArrowSouthWest,s.northArrowSouthEast,s.southArrowNorth,s.southArrowNorthWest,s.southArrowNorthEast,s.viewportStickyNorth]}}var d3=a(4095),eU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(d3.A,eU),d3.A.locals;const Dy=gl("px");class tU extends Nt{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",i=>!i)],style:{left:e.to("left",i=>Dy(i)),top:e.to("top",i=>Dy(i)),width:e.to("width",i=>Dy(i))}}})}}class m0 extends lt{constructor(){super(...arguments),this.removeDropMarkerDelayed=Xp(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=i0(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=i0(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new tU,this._domEmitter=new(mi()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,i,s,u,h,m){this.removeDropMarkerDelayed.cancel();const b=h3(this.editor,e,i,s,u,h,m);if(b)return m&&m.containsRange(b)?this.removeDropMarker():void this._updateDropMarkerThrottled(b)}getFinalDropRange(e,i,s,u,h,m){const b=h3(this.editor,e,i,s,u,h,m);return this.removeDropMarker(),b}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(i=>{i.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(i,{writer:s})=>{if(e.model.schema.checkChild(i.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(s);i.markerRange.isCollapsed?this._updateDropTargetLine(i.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const i=this.editor,s=i.model.markers;i.model.change(u=>{s.has("drop-target")?s.get("drop-target").getRange().isEqual(e)||u.updateMarker("drop-target",{range:e}):u.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(i){const s=this.toDomElement(i);return s.append("⁠",i.createElement("span"),"⁠"),s})}_updateDropTargetLine(e){const i=this.editor.editing,s=e.start.nodeBefore,u=e.start.nodeAfter,h=e.start.parent,m=s?i.mapper.toViewElement(s):null,b=m?i.view.domConverter.mapViewToDom(m):null,_=u?i.mapper.toViewElement(u):null,S=_?i.view.domConverter.mapViewToDom(_):null,T=i.mapper.toViewElement(h);if(!T)return;const O=i.view.domConverter.mapViewToDom(T),U=this._getScrollableRect(T),{scrollX:G,scrollY:ee}=f.window,ie=b?new Ut(b):null,be=S?new Ut(S):null,Se=new Ut(O).excludeScrollbarsAndBorders(),Le=ie?ie.bottom:Se.top,et=be?be.top:Se.bottom,ft=f.window.getComputedStyle(O),Mt=Le<=et?(Le+et)/2:et;if(U.top<Mt&&Mt<U.bottom){const nn=Se.left+parseFloat(ft.paddingLeft),gn=Se.right-parseFloat(ft.paddingRight),wr=Math.max(nn+G,U.left),Fi=Math.min(gn+G,U.right);this._dropTargetLineView.set({isVisible:!0,left:wr,top:Mt+ee,width:Fi-wr})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const i=e.root.rootName;let s;if(this._scrollables.has(i))s=this._scrollables.get(i).domElement;else{s=function(h){let m=h;do{m=m.parentElement;const b=f.window.getComputedStyle(m).overflowY;if(b=="auto"||b=="scroll")break}while(m.tagName!="BODY");return m}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(s,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const u=new sa(s,this._reconvertMarkerThrottled);this._scrollables.set(i,{domElement:s,resizeObserver:u})}return new Ut(s).excludeScrollbarsAndBorders()}}function h3(l,e,i,s,u,h,m){const b=l.model,_=l.editing.mapper;let S=p3(l,e);for(;S;){if(!h){if(b.schema.checkChild(S,"$text")){if(i){const T=i[0].start,O=_.toModelPosition(T);if(!m||Array.from(m.getItems()).every(U=>b.schema.checkChild(O,U))){if(b.schema.checkChild(O,"$text"))return b.createRange(O);if(T)return g0(l,p3(l,T.parent),s,u)}}}else if(b.schema.isInline(S))return g0(l,S,s,u)}if(b.schema.isBlock(S))return g0(l,S,s,u);if(b.schema.checkChild(S,"$block")){const T=Array.from(S.getChildren()).filter(G=>G.is("element")&&!nU(l,G));let O=0,U=T.length;if(U==0)return b.createRange(b.createPositionAt(S,"end"));for(;O<U-1;){const G=Math.floor((O+U)/2);f3(l,T[G],s,u)=="before"?U=G:O=G}return g0(l,T[O],s,u)}S=S.parent}return null}function nU(l,e){const i=l.editing.mapper,s=l.editing.view.domConverter,u=i.toViewElement(e);if(!u)return!0;const h=s.mapViewToDom(u);return f.window.getComputedStyle(h).float!="none"}function g0(l,e,i,s){const u=l.model;return u.createRange(u.createPositionAt(e,f3(l,e,i,s)))}function f3(l,e,i,s){const u=l.editing.mapper,h=l.editing.view.domConverter,m=u.toViewElement(e),b=h.mapViewToDom(m),_=new Ut(b);return l.model.schema.isInline(e)?i<(_.left+_.right)/2?"before":"after":s<(_.top+_.bottom)/2?"before":"after"}function p3(l,e){const i=l.editing.mapper,s=l.editing.view,u=i.toModelElement(e);if(u)return u;const h=s.createPositionBefore(e),m=i.findMappedViewAncestor(h);return i.toModelElement(m)}var rU=Object.defineProperty,iU=Object.defineProperties,oU=Object.getOwnPropertyDescriptors,m3=Object.getOwnPropertySymbols,sU=Object.prototype.hasOwnProperty,aU=Object.prototype.propertyIsEnumerable,g3=(l,e,i)=>e in l?rU(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i;class lU extends lt{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(mi())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(i,s,u)=>{u?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),k.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const i=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(i,"dragstart",(s,u)=>this._handleBlockDragStart(u)),this._domEmitter.listenTo(f.document,"dragover",(s,u)=>this._handleBlockDragging(u)),this._domEmitter.listenTo(f.document,"drop",(s,u)=>this._handleBlockDragging(u)),this._domEmitter.listenTo(f.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&i.setAttribute("draggable","true"),this.on("change:isEnabled",(s,u,h)=>{i.setAttribute("draggable",h?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const i=this.editor.model,s=i.document.selection,u=this.editor.editing.view,h=Array.from(s.getSelectedBlocks()),m=i.createRange(i.createPositionBefore(h[0]),i.createPositionAfter(h[h.length-1]));i.change(b=>b.setSelection(m)),this._isBlockDragging=!0,u.focus(),u.getObserver(Cm).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const i=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),s=e.clientY,u=document.elementFromPoint(i,s),h=this.editor.editing.view;var m,b;u&&u.closest(".ck-editor__editable")&&h.getObserver(Cm).onDomEvent((m=((_,S)=>{for(var T in S||(S={}))sU.call(S,T)&&g3(_,T,S[T]);if(m3)for(var T of m3(S))aU.call(S,T)&&g3(_,T,S[T]);return _})({},e),b={type:e.type,dataTransfer:e.dataTransfer,target:u,clientX:i,clientY:s,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()},iU(m,oU(b))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var b3=a(7793),cU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(b3.A,cU),b3.A.locals;class uU extends lt{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=Xp(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(mi())}static get pluginName(){return"DragDrop"}static get requires(){return[ga,Im,m0,lU]}init(){const e=this.editor,i=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,i.addObserver(Cm),i.addObserver(iy),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(s,u,h)=>{h?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(s,u,h)=>{h||this._finalizeDragging(!1)}),k.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,i=e.model,s=e.editing.view,u=s.document,h=e.plugins.get(m0);this.listenTo(u,"dragstart",(m,b)=>{if(b.target&&b.target.is("editableElement")||(this._prepareDraggedRange(b.target),!this._draggedRange))return void b.preventDefault();this._draggingUid=P(),b.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",b.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const _=i.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(b.dataTransfer,_,"dragstart");const{dataTransfer:S,domTarget:T,domEvent:O}=b,{clientX:U}=O;this._updatePreview({dataTransfer:S,domTarget:T,clientX:U}),b.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(u,"dragend",(m,b)=>{this._finalizeDragging(!b.dataTransfer.isCanceled&&b.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(f.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(u,"dragenter",()=>{this.isEnabled&&s.focus()}),this.listenTo(u,"dragleave",()=>{h.removeDropMarkerDelayed()}),this.listenTo(u,"dragging",(m,b)=>{if(!this.isEnabled)return void(b.dataTransfer.dropEffect="none");const{clientX:_,clientY:S}=b.domEvent;h.updateDropMarker(b.target,b.targetRanges,_,S,this._blockMode,this._draggedRange),this._draggedRange||(b.dataTransfer.dropEffect="copy"),k.isGecko||(b.dataTransfer.effectAllowed=="copy"?b.dataTransfer.dropEffect="copy":["all","copyMove"].includes(b.dataTransfer.effectAllowed)&&(b.dataTransfer.dropEffect="move")),m.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,i=e.editing.view.document,s=e.plugins.get(m0);this.listenTo(i,"clipboardInput",(u,h)=>{if(h.method!="drop")return;const{clientX:m,clientY:b}=h.domEvent,_=s.getFinalDropRange(h.target,h.targetRanges,m,b,this._blockMode,this._draggedRange);if(!_)return this._finalizeDragging(!1),void u.stop();if(this._draggedRange&&this._draggingUid!=h.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),k3(h.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(_,!0))return this._finalizeDragging(!1),void u.stop();h.targetRanges=[e.editing.mapper.toViewRange(_)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(ga);e.on("contentInsertion",(i,s)=>{if(!this.isEnabled||s.method!=="drop")return;const u=s.targetRanges.map(h=>this.editor.editing.mapper.toModelRange(h));this.editor.model.change(h=>h.setSelection(u))},{priority:"high"}),e.on("contentInsertion",(i,s)=>{if(!this.isEnabled||s.method!=="drop")return;const u=k3(s.dataTransfer)=="move",h=!s.resultRange||!s.resultRange.isCollapsed;this._finalizeDragging(h&&u)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,i=e.editing.view,s=i.document;this.listenTo(s,"mousedown",(u,h)=>{if(k.isAndroid||!h)return;this._clearDraggableAttributesDelayed.cancel();let m=w3(h.target);if(k.isBlink&&!e.isReadOnly&&!m&&!s.selection.isCollapsed){const b=s.selection.getSelectedElement();b&&ki(b)||(m=s.selection.editableElement)}m&&(i.change(b=>{b.setAttribute("draggable","true",m)}),this._draggableElement=e.editing.mapper.toModelElement(m))}),this.listenTo(s,"mouseup",()=>{k.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(i=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&i.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const i=this.editor,s=i.model;i.plugins.get(m0).removeDropMarker(),this._clearDraggableAttributes(),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&s.change(u=>{const h=s.createSelection(this._draggedRange);s.deleteContent(h,{doNotAutoparagraph:!0});const m=h.getFirstPosition().parent;m.isEmpty&&!s.schema.checkChild(m,"$text")&&s.schema.checkChild(m,"paragraph")&&u.insertElement("paragraph",m,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const i=this.editor,s=i.model,u=s.document.selection,h=e?w3(e):null;if(h){const S=i.editing.mapper.toModelElement(h);this._draggedRange=Is.fromRange(s.createRangeOn(S)),this._blockMode=s.schema.isBlock(S),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(u.isCollapsed&&!u.getFirstPosition().parent.isEmpty)return;const m=Array.from(u.getSelectedBlocks()),b=u.getFirstRange();if(m.length==0)return void(this._draggedRange=Is.fromRange(b));const _=y3(s,m);if(m.length>1)this._draggedRange=Is.fromRange(_),this._blockMode=!0;else if(m.length==1){const S=b.start.isTouching(_.start)&&b.end.isTouching(_.end);this._draggedRange=Is.fromRange(S?_:b),this._blockMode=S}s.change(S=>S.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:i,clientX:s}){const u=this.editor.editing.view,h=u.document.selection.editableElement,m=u.domConverter.mapViewToDom(h),b=f.window.getComputedStyle(m);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=En(f.document,"div",{style:"position: fixed; left: -999999px;"}),f.document.body.appendChild(this._previewContainer));const _=new Ut(m);if(m.contains(i))return;const S=parseFloat(b.paddingLeft),T=En(f.document,"div");T.className="ck ck-content",T.style.width=b.width,T.style.paddingLeft=`${_.left-s+S}px`,k.isiOS&&(T.style.backgroundColor="white"),T.innerHTML=e.getData("text/html"),e.setDragImage(T,0,0),this._previewContainer.appendChild(T)}}function k3(l){return k.isGecko?l.dropEffect:["all","copyMove"].includes(l.effectAllowed)?"move":"copy"}function w3(l){if(l.is("editableElement"))return null;if(l.hasClass("ck-widget__selection-handle"))return l.findAncestor(ki);if(ki(l))return l;const e=l.findAncestor(i=>ki(i)||i.is("editableElement"));return ki(e)?e:null}function y3(l,e){const i=e[0],s=e[e.length-1],u=i.getCommonAncestor(s),h=l.createPositionBefore(i),m=l.createPositionAfter(s);if(u&&u.is("element")&&!l.schema.isLimit(u)){const b=l.createRangeOn(u),_=h.isTouching(b.start),S=m.isTouching(b.end);if(_&&S)return y3(l,[u])}return l.createRange(h,m)}class dU extends lt{static get pluginName(){return"PastePlainText"}static get requires(){return[ga]}init(){const e=this.editor,i=e.model,s=e.editing.view,u=s.document,h=i.document.selection;let m=!1;s.addObserver(Cm),this.listenTo(u,"keydown",(b,_)=>{m=_.shiftKey}),e.plugins.get(ga).on("contentInsertion",(b,_)=>{(m||function(S,T){if(S.childCount>1)return!1;const O=S.getChild(0);return T.isObject(O)?!1:Array.from(O.getAttributeKeys()).length==0}(_.content,i.schema))&&i.change(S=>{const T=Array.from(h.getAttributes()).filter(([U])=>i.schema.getAttributeProperties(U).isFormatting);h.isCollapsed||i.deleteContent(h,{doNotAutoparagraph:!0}),T.push(...h.getAttributes());const O=S.createRangeIn(_.content);for(const U of O.getItems())U.is("$textProxy")&&S.setAttributes(T,U)})})}}class v3 extends lt{static get pluginName(){return"Clipboard"}static get requires(){return[xm,ga,uU,dU]}init(){const e=this.editor,i=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Copy selected content"),keystroke:"CTRL+C"},{label:i("Paste content"),keystroke:"CTRL+V"},{label:i("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class hU extends $t{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,i=e.document.selection;let s=e.schema.getLimitElement(i);if(i.containsEntireContent(s)||!_3(e.schema,s))do if(s=s.parent,!s)return;while(!_3(e.schema,s));e.change(u=>{u.setSelection(s,"in")})}}function _3(l,e){return l.isLimit(e)&&(l.checkChild(e,"$text")||l.checkChild(e,"paragraph"))}const fU=ja("Ctrl+A");class pU extends lt{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,i=e.t,s=e.editing.view.document;e.commands.add("selectAll",new hU(e)),this.listenTo(s,"keydown",(u,h)=>{kl(h)===fU&&(e.execute("selectAll"),h.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Select all"),keystroke:"CTRL+A"}]})}}class mU extends lt{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",()=>{const i=this._createButton(qn);return i.set({tooltip:!0}),i}),e.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(Ns))}_createButton(e){const i=this.editor,s=i.locale,u=i.commands.get("selectAll"),h=new e(i.locale),m=s.t;return h.set({label:m("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),h.bind("isEnabled").to(u,"isEnabled"),this.listenTo(h,"execute",()=>{i.execute("selectAll"),i.editing.view.focus()}),h}}class gU extends lt{static get requires(){return[pU,mU]}static get pluginName(){return"SelectAll"}}var bU=Object.defineProperty,A3=Object.getOwnPropertySymbols,kU=Object.prototype.hasOwnProperty,wU=Object.prototype.propertyIsEnumerable,C3=(l,e,i)=>e in l?bU(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i;class x3 extends $t{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(i,s)=>{s[1]=((h,m)=>{for(var b in m||(m={}))kU.call(m,b)&&C3(h,b,m[b]);if(A3)for(var b of A3(m))wU.call(m,b)&&C3(h,b,m[b]);return h})({},s[1]);const u=s[1];u.batchType||(u.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(i,s)=>{s[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const i=this.editor.model.document.selection,s={ranges:i.hasOwnRange?Array.from(i.getRanges()):[],isBackward:i.isBackward};this._stack.push({batch:e,selection:s}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,i,s){const u=this.editor.model,h=u.document,m=[],b=e.map(S=>S.getTransformedByOperations(s)),_=b.flat();for(const S of b){const T=S.filter(O=>O.root!=h.graveyard).filter(O=>!vU(O,_));T.length&&(yU(T),m.push(T[0]))}m.length&&u.change(S=>{S.setSelection(m,{backward:i})})}_undo(e,i){const s=this.editor.model,u=s.document;this._createdBatches.add(i);const h=e.operations.slice().filter(m=>m.isDocumentOperation);h.reverse();for(const m of h){const b=m.baseVersion+1,_=Array.from(u.history.getOperations(b)),S=e7([m.getReversed()],_,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let T of S){const O=T.affectedSelectable;O&&!s.canEditAt(O)&&(T=new ji(T.baseVersion)),i.addOperation(T),s.applyOperation(T),u.history.setOperationAsUndone(m,T)}}}}function yU(l){l.sort((e,i)=>e.start.isBefore(i.start)?-1:1);for(let e=1;e<l.length;e++){const i=l[e-1].getJoined(l[e],!0);i&&(e--,l.splice(e,2,i))}}function vU(l,e){return e.some(i=>i!==l&&i.containsRange(l,!0))}class _U extends x3{execute(e=null){const i=e?this._stack.findIndex(h=>h.batch==e):this._stack.length-1,s=this._stack.splice(i,1)[0],u=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(u,()=>{this._undo(s.batch,u);const h=this.editor.model.document.history.getOperations(s.batch.baseVersion);this._restoreSelection(s.selection.ranges,s.selection.isBackward,h)}),this.fire("revert",s.batch,u),this.refresh()}}class AU extends x3{execute(){const e=this._stack.pop(),i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,()=>{const s=e.batch.operations[e.batch.operations.length-1].baseVersion+1,u=this.editor.model.document.history.getOperations(s);this._restoreSelection(e.selection.ranges,e.selection.isBackward,u),this._undo(e.batch,i)}),this.refresh()}}class CU extends lt{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor,i=e.t;this._undoCommand=new _U(e),this._redoCommand=new AU(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(s,u)=>{const h=u[0];if(!h.isDocumentOperation)return;const m=h.batch,b=this._redoCommand.createdBatches.has(m),_=this._undoCommand.createdBatches.has(m);this._batchRegistry.has(m)||(this._batchRegistry.add(m),m.isUndoable&&(b?this._undoCommand.addBatch(m):_||(this._undoCommand.addBatch(m),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(s,u,h)=>{this._redoCommand.addBatch(h)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Undo"),keystroke:"CTRL+Z"},{label:i("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class xU extends lt{static get pluginName(){return"UndoUI"}init(){const e=this.editor,i=e.locale,s=e.t,u=i.uiLanguageDirection=="ltr"?dn.undo:dn.redo,h=i.uiLanguageDirection=="ltr"?dn.redo:dn.undo;this._addButtonsToFactory("undo",s("Undo"),"CTRL+Z",u),this._addButtonsToFactory("redo",s("Redo"),"CTRL+Y",h)}_addButtonsToFactory(e,i,s,u){const h=this.editor;h.ui.componentFactory.add(e,()=>{const m=this._createButton(qn,e,i,s,u);return m.set({tooltip:!0}),m}),h.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(Ns,e,i,s,u))}_createButton(e,i,s,u,h){const m=this.editor,b=m.locale,_=m.commands.get(i),S=new e(b);return S.set({label:s,icon:h,keystroke:u}),S.bind("isEnabled").to(_,"isEnabled"),this.listenTo(S,"execute",()=>{m.execute(i),m.editing.view.focus()}),S}}class S3 extends lt{static get requires(){return[CU,xU]}static get pluginName(){return"Undo"}}class SU extends ze(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=i=>{this.loaded=i.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const i=this._reader;return this.total=e.size,new Promise((s,u)=>{i.onload=()=>{const h=i.result;this._data=h,s(h)},i.onerror=()=>{u("error")},i.onabort=()=>{u("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class Ha extends lt{constructor(){super(...arguments),this.loaders=new Ss,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[Ux]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,i)=>i?e/i*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return j("filerepository-no-upload-adapter"),null;const i=new E3(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(i),this._loadersMap.set(e,i),e instanceof Promise&&i.file.then(s=>{this._loadersMap.set(s,i)}).catch(()=>{}),i.on("change:uploaded",()=>{let s=0;for(const u of this.loaders)s+=u.uploaded;this.uploaded=s}),i.on("change:uploadTotal",()=>{let s=0;for(const u of this.loaders)u.uploadTotal&&(s+=u.uploadTotal);this.uploadTotal=s}),i}destroyLoader(e){const i=e instanceof E3?e:this.getLoader(e);i._destroy(),this.loaders.remove(i),this._loadersMap.forEach((s,u)=>{s===i&&this._loadersMap.delete(u)})}_updatePendingAction(){const e=this.editor.plugins.get(Ux);if(this.loaders.length){if(!this._pendingAction){const i=this.editor.t,s=u=>`${i("Upload in progress")} ${parseInt(u)}%.`;this._pendingAction=e.add(s(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",s)}}else e.remove(this._pendingAction),this._pendingAction=null}}class E3 extends ze(){constructor(e,i){super(),this.id=P(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=i(this),this._reader=new SU,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(s,u)=>u?s/u*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new N("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new N("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const i={};return i.promise=new Promise((s,u)=>{i.rejecter=u,i.isFulfilled=!1,e.then(h=>{i.isFulfilled=!0,s(h)}).catch(h=>{i.isFulfilled=!0,u(h)})}),i}}const D3="ckCsrfToken",I3="abcdefghijklmnopqrstuvwxyz0123456789";function EU(){let l=function(s){s=s.toLowerCase();const u=document.cookie.split(";");for(const h of u){const m=h.split("=");if(decodeURIComponent(m[0].trim().toLowerCase())===s)return decodeURIComponent(m[1])}return null}(D3);var e,i;return l&&l.length==40||(l=function(s){let u="";const h=new Uint8Array(s);window.crypto.getRandomValues(h);for(let m=0;m<h.length;m++){const b=I3.charAt(h[m]%I3.length);u+=Math.random()>.5?b.toUpperCase():b}return u}(40),e=D3,i=l,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(i)+";path=/"),l}class DU{constructor(e,i,s){this.loader=e,this.url=i,this.t=s}upload(){return this.loader.file.then(e=>new Promise((i,s)=>{this._initRequest(),this._initListeners(i,s,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,i,s){const u=this.xhr,h=this.loader,m=(0,this.t)("Cannot upload file:")+` ${s.name}.`;u.addEventListener("error",()=>i(m)),u.addEventListener("abort",()=>i()),u.addEventListener("load",()=>{const b=u.response;if(!b||!b.uploaded)return i(b&&b.error&&b.error.message?b.error.message:m);e({default:b.url})}),u.upload&&u.upload.addEventListener("progress",b=>{b.lengthComputable&&(h.uploadTotal=b.total,h.uploaded=b.loaded)})}_sendRequest(e){const i=new FormData;i.append("upload",e),i.append("ckCsrfToken",EU()),this.xhr.send(i)}}function Eu(l,e,i,s){let u,h=null;typeof s=="function"?u=s:(h=l.commands.get(s),u=()=>{l.execute(s)}),l.model.document.on("change:data",(m,b)=>{if(h&&!h.isEnabled||!e.isEnabled)return;const _=Ii(l.model.document.selection.getRanges());if(!_.isCollapsed||b.isUndo||!b.isLocal)return;const S=Array.from(l.model.document.differ.getChanges()),T=S[0];if(S.length!=1||T.type!=="insert"||T.name!="$text"||T.length!=1)return;const O=T.position.parent;if(O.is("element","codeBlock")||O.is("element","listItem")&&typeof s!="function"&&!["numberedList","bulletedList","todoList"].includes(s)||h&&h.value===!0)return;const U=O.getChild(0),G=l.model.createRangeOn(U);if(!G.containsRange(_)&&!_.end.isEqual(G.end))return;const ee=i.exec(U.data.substr(0,_.end.offset));ee&&l.model.enqueueChange(ie=>{const be=ie.createPositionAt(O,0),Se=ie.createPositionAt(O,ee[0].length),Le=new Is(be,Se);if(u({match:ee})!==!1){ie.remove(Le);const et=l.model.document.selection.getFirstRange(),ft=ie.createRangeIn(O);!O.isEmpty||ft.isEqual(et)||ft.containsRange(et,!0)||ie.remove(O)}Le.detach(),l.model.enqueueChange(()=>{l.plugins.get("Delete").requestUndoOnBackspace()})})})}function Af(l,e,i,s){let u,h;i instanceof RegExp?u=i:h=i,h=h||(m=>{let b;const _=[],S=[];for(;(b=u.exec(m))!==null&&!(b&&b.length<4);){let{index:T,1:O,2:U,3:G}=b;const ee=O+U+G;T+=b[0].length-ee.length;const ie=[T,T+O.length],be=[T+O.length+U.length,T+O.length+U.length+G.length];_.push(ie),_.push(be),S.push([T+O.length,T+O.length+U.length])}return{remove:_,format:S}}),l.model.document.on("change:data",(m,b)=>{if(b.isUndo||!b.isLocal||!e.isEnabled)return;const _=l.model,S=_.document.selection;if(!S.isCollapsed)return;const T=Array.from(_.document.differ.getChanges()),O=T[0];if(T.length!=1||O.type!=="insert"||O.name!="$text"||O.length!=1)return;const U=S.focus,G=U.parent,{text:ee,range:ie}=function(et,ft){let Mt=et.start;return{text:Array.from(et.getItems()).reduce((gn,wr)=>!wr.is("$text")&&!wr.is("$textProxy")||wr.getAttribute("code")?(Mt=ft.createPositionAfter(wr),""):gn+wr.data,""),range:ft.createRange(Mt,et.end)}}(_.createRange(_.createPositionAt(G,0),U),_),be=h(ee),Se=T3(ie.start,be.format,_),Le=T3(ie.start,be.remove,_);Se.length&&Le.length&&_.enqueueChange(et=>{if(s(et,Se)!==!1){for(const ft of Le.reverse())et.remove(ft);_.enqueueChange(()=>{l.plugins.get("Delete").requestUndoOnBackspace()})}})})}function T3(l,e,i){return e.filter(s=>s[0]!==void 0&&s[1]!==void 0).map(s=>i.createRange(l.getShiftedBy(s[0]),l.getShiftedBy(s[1])))}function b0(l,e){return(i,s)=>{if(!l.commands.get(e).isEnabled)return!1;const u=l.model.schema.getValidRanges(s,e);for(const h of u)i.setAttribute(e,!0,h);i.removeSelectionAttribute(e)}}class N3 extends $t{constructor(e,i){super(e),this.attributeKey=i}refresh(){const e=this.editor.model,i=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(i.selection,this.attributeKey)}execute(e={}){const i=this.editor.model,s=i.document.selection,u=e.forceValue===void 0?!this.value:e.forceValue;i.change(h=>{if(s.isCollapsed)u?h.setSelectionAttribute(this.attributeKey,!0):h.removeSelectionAttribute(this.attributeKey);else{const m=i.schema.getValidRanges(s.getRanges(),this.attributeKey);for(const b of m)u?h.setAttribute(this.attributeKey,u,b):h.removeAttribute(this.attributeKey,b)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,i=e.schema,s=e.document.selection;if(s.isCollapsed)return s.hasAttribute(this.attributeKey);for(const u of s.getRanges())for(const h of u.getItems())if(i.checkAttribute(h,this.attributeKey))return h.hasAttribute(this.attributeKey);return!1}}const Cf="bold";class IU extends lt{static get pluginName(){return"BoldEditing"}init(){const e=this.editor,i=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Cf}),e.model.schema.setAttributeProperties(Cf,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Cf,view:"strong",upcastAlso:["b",s=>{const u=s.getStyle("font-weight");return u&&(u=="bold"||Number(u)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(Cf,new N3(e,Cf)),e.keystrokes.set("CTRL+B",Cf),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Bold text"),keystroke:"CTRL+B"}]})}}function M3({editor:l,commandName:e,plugin:i,icon:s,label:u,keystroke:h}){return m=>{const b=l.commands.get(e),_=new m(l.locale);return _.set({label:u,icon:s,keystroke:h,isToggleable:!0}),_.bind("isEnabled").to(b,"isEnabled"),i.listenTo(_,"execute",()=>{l.execute(e),l.editing.view.focus()}),_}}const k0="bold";class TU extends lt{static get pluginName(){return"BoldUI"}init(){const e=this.editor,i=e.locale.t,s=e.commands.get(k0),u=M3({editor:e,commandName:k0,plugin:this,icon:dn.bold,label:i("Bold"),keystroke:"CTRL+B"});e.ui.componentFactory.add(k0,()=>{const h=u(qn);return h.set({tooltip:!0}),h.bind("isOn").to(s,"value"),h}),e.ui.componentFactory.add("menuBar:"+k0,()=>u(Ns))}}var P3=a(4199),NU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(P3.A,NU),P3.A.locals;const xf="italic";class MU extends lt{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor,i=this.editor.t;e.model.schema.extend("$text",{allowAttributes:xf}),e.model.schema.setAttributeProperties(xf,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:xf,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(xf,new N3(e,xf)),e.keystrokes.set("CTRL+I",xf),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Italic text"),keystroke:"CTRL+I"}]})}}const w0="italic";class PU extends lt{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,i=e.commands.get(w0),s=e.locale.t,u=M3({editor:e,commandName:w0,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:s("Italic")});e.ui.componentFactory.add(w0,()=>{const h=u(qn);return h.set({tooltip:!0}),h.bind("isOn").to(i,"value"),h}),e.ui.componentFactory.add("menuBar:"+w0,()=>u(Ns))}}class OU extends $t{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,s=i.schema,u=i.document.selection,h=Array.from(u.getSelectedBlocks()),m=e.forceValue===void 0?!this.value:e.forceValue;i.change(b=>{if(m){const _=h.filter(S=>y0(S)||L3(s,S));this._applyQuote(b,_)}else this._removeQuote(b,h.filter(y0))})}_getValue(){const e=Ii(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!y0(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,i=this.editor.model.schema,s=Ii(e.getSelectedBlocks());return!!s&&L3(i,s)}_removeQuote(e,i){O3(e,i).reverse().forEach(s=>{if(s.start.isAtStart&&s.end.isAtEnd)return void e.unwrap(s.start.parent);if(s.start.isAtStart){const h=e.createPositionBefore(s.start.parent);return void e.move(s,h)}s.end.isAtEnd||e.split(s.end);const u=e.createPositionAfter(s.end.parent);e.move(s,u)})}_applyQuote(e,i){const s=[];O3(e,i).reverse().forEach(u=>{let h=y0(u.start);h||(h=e.createElement("blockQuote"),e.wrap(u,h)),s.push(h)}),s.reverse().reduce((u,h)=>u.nextSibling==h?(e.merge(e.createPositionAfter(u)),u):h)}}function y0(l){return l.parent.name=="blockQuote"?l.parent:null}function O3(l,e){let i,s=0;const u=[];for(;s<e.length;){const h=e[s],m=e[s+1];i||(i=l.createPositionBefore(h)),m&&h.nextSibling==m||(u.push(l.createRange(i,l.createPositionAfter(h))),i=null),s++}return u}function L3(l,e){const i=l.checkChild(e.parent,"blockQuote"),s=l.checkChild(["$root","blockQuote"],e);return i&&s}class LU extends lt{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[h0,Ec]}init(){const e=this.editor,i=e.model.schema;e.commands.add("blockQuote",new OU(e)),i.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(m=>{const b=e.model.document.differ.getChanges();for(const _ of b)if(_.type=="insert"){const S=_.position.nodeAfter;if(!S)continue;if(S.is("element","blockQuote")&&S.isEmpty)return m.remove(S),!0;if(S.is("element","blockQuote")&&!i.checkChild(_.position,S))return m.unwrap(S),!0;if(S.is("element")){const T=m.createRangeIn(S);for(const O of T.getItems())if(O.is("element","blockQuote")&&!i.checkChild(m.createPositionBefore(O),O))return m.unwrap(O),!0}}else if(_.type=="remove"){const S=_.position.parent;if(S.is("element","blockQuote")&&S.isEmpty)return m.remove(S),!0}return!1});const s=this.editor.editing.view.document,u=e.model.document.selection,h=e.commands.get("blockQuote");this.listenTo(s,"enter",(m,b)=>{!u.isCollapsed||!h.value||u.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),b.preventDefault(),m.stop())},{context:"blockquote"}),this.listenTo(s,"delete",(m,b)=>{if(b.direction!="backward"||!u.isCollapsed||!h.value)return;const _=u.getLastPosition().parent;_.isEmpty&&!_.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),b.preventDefault(),m.stop())},{context:"blockquote"})}}var B3=a(8708),BU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(B3.A,BU),B3.A.locals;class jU extends lt{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,i=e.commands.get("blockQuote");e.ui.componentFactory.add("blockQuote",()=>{const s=this._createButton(qn);return s.set({tooltip:!0}),s.bind("isOn").to(i,"value"),s}),e.ui.componentFactory.add("menuBar:blockQuote",()=>this._createButton(Ns))}_createButton(e){const i=this.editor,s=i.locale,u=i.commands.get("blockQuote"),h=new e(i.locale),m=s.t;return h.set({label:m("Block quote"),icon:dn.quote,isToggleable:!0}),h.bind("isEnabled").to(u,"isEnabled"),this.listenTo(h,"execute",()=>{i.execute("blockQuote"),i.editing.view.focus()}),h}}class RU extends lt{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor;if(!e.commands.get("ckbox"))return;const i=e.t,s=e.ui.componentFactory;if(s.add("ckbox",()=>{const u=this._createButton(qn);return u.tooltip=!0,u}),s.add("menuBar:ckbox",()=>this._createButton(Ns)),e.plugins.has("ImageInsertUI")){const u=e.plugins.get("ImageInsertUI");u.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckbox"),buttonViewCreator:()=>{const h=this.editor.ui.componentFactory.create("ckbox");return h.icon=dn.imageAssetManager,h.bind("label").to(u,"isImageSelected",m=>i(m?"Replace image with file manager":"Insert image with file manager")),h},formViewCreator:()=>{const h=this.editor.ui.componentFactory.create("ckbox");return h.icon=dn.imageAssetManager,h.withText=!0,h.bind("label").to(u,"isImageSelected",m=>i(m?"Replace with file manager":"Insert with file manager")),h.on("execute",()=>{u.dropdownView.isOpen=!1}),h}})}}_createButton(e){const i=this.editor,s=i.locale,u=new e(s),h=i.commands.get("ckbox"),m=s.t;return u.set({label:m("Open file manager"),icon:dn.browseFiles}),u.bind("isOn","isEnabled").to(h,"value","isEnabled"),u.on("execute",()=>{i.execute("ckbox")}),u}}var FU=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],Tm=l=>{let e=0;for(let i=0;i<l.length;i++){let s=l[i];e=83*e+FU.indexOf(s)}return e},Iy=l=>{let e=l/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},Ty=l=>{let e=Math.max(0,Math.min(1,l));return e<=.0031308?Math.trunc(12.92*e*255+.5):Math.trunc(255*(1.055*Math.pow(e,.4166666666666667)-.055)+.5)},Ny=(l,e)=>(i=>i<0?-1:1)(l)*Math.pow(Math.abs(l),e),j3=class extends Error{constructor(l){super(l),this.name="ValidationError",this.message=l}},zU=l=>{if(!l||l.length<6)throw new j3("The blurhash string must be at least 6 characters");let e=Tm(l[0]),i=Math.floor(e/9)+1,s=e%9+1;if(l.length!==4+2*s*i)throw new j3(`blurhash length mismatch: length is ${l.length} but it should be ${4+2*s*i}`)},UU=l=>{let e=l>>8&255,i=255&l;return[Iy(l>>16),Iy(e),Iy(i)]},qU=(l,e)=>{let i=Math.floor(l/361),s=Math.floor(l/19)%19,u=l%19;return[Ny((i-9)/9,2)*e,Ny((s-9)/9,2)*e,Ny((u-9)/9,2)*e]},VU=(l,e,i,s)=>{zU(l),s|=1;let u=Tm(l[0]),h=Math.floor(u/9)+1,m=u%9+1,b=(Tm(l[1])+1)/166,_=new Array(m*h);for(let O=0;O<_.length;O++)if(O===0){let U=Tm(l.substring(2,6));_[O]=UU(U)}else{let U=Tm(l.substring(4+2*O,6+2*O));_[O]=qU(U,b*s)}let S=4*e,T=new Uint8ClampedArray(S*i);for(let O=0;O<i;O++)for(let U=0;U<e;U++){let G=0,ee=0,ie=0;for(let et=0;et<h;et++)for(let ft=0;ft<m;ft++){let Mt=Math.cos(Math.PI*U*ft/e)*Math.cos(Math.PI*O*et/i),nn=_[ft+et*m];G+=nn[0]*Mt,ee+=nn[1]*Mt,ie+=nn[2]*Mt}let be=Ty(G),Se=Ty(ee),Le=Ty(ie);T[4*U+0+O*S]=be,T[4*U+1+O*S]=Se,T[4*U+2+O*S]=Le,T[4*U+3+O*S]=255}return T},HU=Object.defineProperty,R3=Object.getOwnPropertySymbols,$U=Object.prototype.hasOwnProperty,WU=Object.prototype.propertyIsEnumerable,F3=(l,e,i)=>e in l?HU(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i;function z3(l){const e=[];let i=0;for(const u in l){const h=parseInt(u,10);isNaN(h)||(h>i&&(i=h),e.push(`${l[u]} ${u}w`))}const s=[{srcset:e.join(","),sizes:`(max-width: ${i}px) 100vw, ${i}px`,type:"image/webp"}];return{imageFallbackUrl:l.default,imageSources:s}}const Nm=32;function U3({url:l,method:e="GET",data:i,onUploadProgress:s,signal:u,authorization:h}){const m=new XMLHttpRequest;m.open(e,l.toString()),m.setRequestHeader("Authorization",h),m.setRequestHeader("CKBox-Version","CKEditor 5"),m.responseType="json";const b=()=>{m.abort()};return new Promise((_,S)=>{u.throwIfAborted(),u.addEventListener("abort",b),m.addEventListener("loadstart",()=>{u.addEventListener("abort",b)}),m.addEventListener("loadend",()=>{u.removeEventListener("abort",b)}),m.addEventListener("error",()=>{S()}),m.addEventListener("abort",()=>{S()}),m.addEventListener("load",()=>{const T=m.response;if(!T||T.statusCode>=400)return S(T&&T.message);_(T)}),s&&m.upload.addEventListener("progress",T=>{s(T)}),m.send(i)})}const GU={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};function YU(l,e){return i=this,s=null,u=function*(){try{const h=yield fetch(l,((m,b)=>{for(var _ in b||(b={}))$U.call(b,_)&&F3(m,_,b[_]);if(R3)for(var _ of R3(b))WU.call(b,_)&&F3(m,_,b[_]);return m})({method:"HEAD",cache:"force-cache"},e));return h.ok&&h.headers.get("content-type")||""}catch{return""}},new Promise((h,m)=>{var b=T=>{try{S(u.next(T))}catch(O){m(O)}},_=T=>{try{S(u.throw(T))}catch(O){m(O)}},S=T=>T.done?h(T.value):Promise.resolve(T.value).then(b,_);S((u=u.apply(i,s)).next())});var i,s,u}var KU=Object.defineProperty,q3=Object.getOwnPropertySymbols,QU=Object.prototype.hasOwnProperty,JU=Object.prototype.propertyIsEnumerable,V3=(l,e,i)=>e in l?KU(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i,H3=(l,e)=>{for(var i in e||(e={}))QU.call(e,i)&&V3(l,i,e[i]);if(q3)for(var i of q3(e))JU.call(e,i)&&V3(l,i,e[i]);return l};class ZU extends $t{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");return!(!e.isEnabled&&!i.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,forceDemoLabel:e.forceDemoLabel,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:i=>this.fire("ckbox:choose",i)}}}_initListeners(){const e=this.editor,i=e.model,s=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=En(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,e.editing.view.focus())}),this.on("ckbox:choose",(u,h)=>{if(!this.isEnabled)return;const m=e.commands.get("insertImage"),b=e.commands.get("link"),_=function({assets:T,isImageAllowed:O,isLinkAllowed:U}){return T.map(G=>function(ee){const ie=ee.data.metadata;return ie?ie.width&&ie.height:!1}(G)?{id:G.data.id,type:"image",attributes:XU(G)}:{id:G.data.id,type:"link",attributes:eq(G)}).filter(G=>G.type==="image"?O:U)}({assets:h,isImageAllowed:m.isEnabled,isLinkAllowed:b.isEnabled}),S=_.length;S!==0&&(i.change(T=>{for(const O of _){const U=O===_[S-1],G=S===1;this._insertAsset(O,U,T,G),s&&(setTimeout(()=>this._chosenAssets.delete(O),1e3),this._chosenAssets.add(O))}}),e.editing.view.focus())}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,i,s,u){const h=this.editor.model.document.selection;s.removeSelectionAttribute("linkHref"),e.type==="image"?this._insertImage(e):this._insertLink(e,s,u),i||s.setSelection(h.getLastPosition())}_insertImage(e){const i=this.editor,{imageFallbackUrl:s,imageSources:u,imageTextAlternative:h,imageWidth:m,imageHeight:b,imagePlaceholder:_}=e.attributes;i.execute("insertImage",{source:H3({src:s,sources:u,alt:h,width:m,height:b},_?{placeholder:_}:null)})}_insertLink(e,i,s){const u=this.editor,h=u.model,m=h.document.selection,{linkName:b,linkHref:_}=e.attributes;if(m.isCollapsed){const S=la(m.getAttributes()),T=i.createText(b,S);if(!s){const U=m.getLastPosition(),G=U.parent;G.name==="paragraph"&&G.isEmpty||u.execute("insertParagraph",{position:U});const ee=h.insertContent(T);return i.setSelection(ee),void u.execute("link",_)}const O=h.insertContent(T);i.setSelection(O)}u.execute("link",_)}}function XU(l){const{imageFallbackUrl:e,imageSources:i}=z3(l.data.imageUrls),{description:s,width:u,height:h,blurHash:m}=l.data.metadata,b=function(_){if(_)try{const S=`${Nm}px`,T=document.createElement("canvas");T.setAttribute("width",S),T.setAttribute("height",S);const O=T.getContext("2d");if(!O)return;const U=O.createImageData(Nm,Nm),G=VU(_,Nm,Nm);return U.data.set(G),O.putImageData(U,0,0),T.toDataURL()}catch{return}}(m);return H3({imageFallbackUrl:e,imageSources:i,imageTextAlternative:s||"",imageWidth:u,imageHeight:h},b?{imagePlaceholder:b}:null)}function eq(l){return{linkName:l.data.name,linkHref:tq(l)}}function tq(l){const e=new URL(l.data.url);return e.searchParams.set("download","true"),e.toString()}var My=(l,e,i)=>new Promise((s,u)=>{var h=_=>{try{b(i.next(_))}catch(S){u(S)}},m=_=>{try{b(i.throw(_))}catch(S){u(S)}},b=_=>_.done?s(_.value):Promise.resolve(_.value).then(h,m);b((i=i.apply(l,e)).next())});class $3 extends lt{static get pluginName(){return"CKBoxUtils"}static get requires(){return["CloudServices"]}init(){return My(this,null,function*(){const e=this.editor,i=!!e.config.get("ckbox"),s=!!window.CKBox;if(!i&&!s)return;e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"lark",tokenUrl:e.config.get("cloudServices.tokenUrl")});const u=e.plugins.get("CloudServices"),h=e.config.get("cloudServices.tokenUrl"),m=e.config.get("ckbox.tokenUrl");if(!m)throw new N("ckbox-plugin-missing-token-url",this);this._token=m==h?u.token:yield u.registerTokenUrl(m)})}getToken(){return this._token}getWorkspaceId(){const e=(0,this.editor.t)("Cannot access default workspace."),i=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),s=function(u,h){const[,m]=u.value.split("."),b=JSON.parse(atob(m)),_=b.auth&&b.auth.ckbox&&b.auth.ckbox.workspaces||[b.aud];return h?(b.auth&&b.auth.ckbox&&b.auth.ckbox.role)=="superadmin"||_.includes(h)?h:null:_[0]}(this._token,i);if(s==null)throw q("ckbox-access-default-workspace-error"),e;return s}getCategoryIdForFile(e,i){return My(this,null,function*(){const s=(0,this.editor.t)("Cannot determine a category for the uploaded file."),u=this.editor.config.get("ckbox.defaultUploadCategories"),h=this._getAvailableCategories(i),m=typeof e=="string"?(b=yield YU(e,i),GU[b]):function(T){const O=T.name,U=new RegExp("\\.(?<ext>[^.]+)$");return O.match(U).groups.ext.toLowerCase()}(e);var b;const _=yield h;if(!_)throw s;if(u){const T=Object.keys(u).find(O=>u[O].find(U=>U.toLowerCase()==m));if(T){const O=_.find(U=>U.id===T||U.name===T);if(!O)throw s;return O.id}}const S=_.find(T=>T.extensions.find(O=>O.toLowerCase()==m));if(!S)throw s;return S.id})}_getAvailableCategories(e){return My(this,null,function*(){const i=this.editor,s=this._token,{signal:u}=e,h=i.config.get("ckbox.serviceOrigin"),m=this.getWorkspaceId();try{const _=[];let S,T=0;do{const O=yield b(T);_.push(...O.items),S=O.totalCount-(T+50),T+=50}while(S>0);return _}catch{return u.throwIfAborted(),void q("ckbox-fetch-category-http-error")}function b(_){const S=new URL("categories",h);return S.searchParams.set("limit","50"),S.searchParams.set("offset",_.toString()),S.searchParams.set("workspaceId",m),U3({url:S,signal:u,authorization:s.value})}})}}var Py=(l,e,i)=>new Promise((s,u)=>{var h=_=>{try{b(i.next(_))}catch(S){u(S)}},m=_=>{try{b(i.throw(_))}catch(S){u(S)}},b=_=>_.done?s(_.value):Promise.resolve(_.value).then(h,m);b((i=i.apply(l,e)).next())});class nq extends lt{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Ha,W3]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return Py(this,null,function*(){const e=this.editor,i=!!e.config.get("ckbox"),s=!!window.CKBox;if(!i&&!s)return;const u=e.plugins.get(Ha),h=e.plugins.get($3);u.createUploadAdapter=_=>new rq(_,e,h);const m=!e.config.get("ckbox.ignoreDataId"),b=e.plugins.get("ImageUploadEditing");m&&b.on("uploadComplete",(_,{imageElement:S,data:T})=>{e.model.change(O=>{O.setAttribute("ckboxImageId",T.ckboxImageId,S)})})})}}class rq{constructor(e,i,s){this.loader=e,this.token=s.getToken(),this.ckboxUtils=s,this.editor=i,this.controller=new AbortController,this.serviceOrigin=i.config.get("ckbox.serviceOrigin")}upload(){return Py(this,null,function*(){const e=this.ckboxUtils,i=this.editor.t,s=yield this.loader.file,u=yield e.getCategoryIdForFile(s,{signal:this.controller.signal}),h=new URL("assets",this.serviceOrigin),m=new FormData;return h.searchParams.set("workspaceId",e.getWorkspaceId()),m.append("categoryId",u),m.append("file",s),U3({method:"POST",url:h,data:m,onUploadProgress:b=>{b.lengthComputable&&(this.loader.uploadTotal=b.total,this.loader.uploaded=b.loaded)},signal:this.controller.signal,authorization:this.token.value}).then(b=>Py(this,null,function*(){const _=z3(b.imageUrls);return{ckboxImageId:b.id,default:_.imageFallbackUrl,sources:_.imageSources}})).catch(()=>{const b=i("Cannot upload file:")+` ${s.name}.`;return Promise.reject(b)})})}abort(){this.controller.abort()}}class W3 extends lt{static get pluginName(){return"CKBoxEditing"}static get requires(){return["LinkEditing","PictureEditing",nq,$3]}init(){const e=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),Y3()&&e.commands.add("ckbox",new ZU(e)))}afterInit(){const e=this.editor;this._shouldBeInitialised()&&(e.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||Y3()}_checkImagePlugins(){const e=this.editor;e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||q("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((i,s)=>{if(!i.last.getAttribute("linkHref")&&s==="ckboxLinkId")return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(s=>{s.on("attribute:ckboxLinkId:imageBlock",(u,h,m)=>{const{writer:b,mapper:_,consumable:S}=m;if(!S.consume(h.item,u.name))return;const T=[..._.toViewElement(h.item).getChildren()].find(O=>O.name==="a");T&&(h.item.hasAttribute("ckboxLinkId")?b.setAttribute("data-ckbox-resource-id",h.item.getAttribute("ckboxLinkId"),T):b.removeAttribute("data-ckbox-resource-id",T))},{priority:"low"}),s.on("attribute:ckboxLinkId",(u,h,m)=>{const{writer:b,mapper:_,consumable:S}=m;if(S.consume(h.item,u.name)){if(h.attributeOldValue){const T=G3(b,h.attributeOldValue);b.unwrap(_.toViewRange(h.range),T)}if(h.attributeNewValue){const T=G3(b,h.attributeNewValue);if(h.item.is("selection")){const O=b.document.selection;b.wrap(O.getFirstRange(),T)}else b.wrap(_.toViewRange(h.range),T)}}},{priority:"low"})}),e.conversion.for("upcast").add(s=>{s.on("element:a",(u,h,m)=>{const{writer:b,consumable:_}=m;if(!h.viewItem.getAttribute("href")||!_.consume(h.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const S=h.viewItem.getAttribute("data-ckbox-resource-id");if(S)if(h.modelRange)for(let T of h.modelRange.getItems())T.is("$textProxy")&&(T=T.textNode),oq(T)&&b.setAttribute("ckboxLinkId",S,T);else{const T=h.modelCursor.nodeBefore||h.modelCursor.parent;b.setAttribute("ckboxLinkId",S,T)}},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:s=>s.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const i=e.commands.get("replaceImageSource");i&&this.listenTo(i,"cleanupImage",(s,[u,h])=>{u.removeAttribute("ckboxImageId",h)})}_initFixers(){const e=this.editor,i=e.model,s=i.document.selection;i.document.registerPostFixer(function(u){return h=>{let m=!1;const b=u.model,_=u.commands.get("ckbox");if(!_)return m;for(const S of b.document.differ.getChanges()){if(S.type!=="insert"&&S.type!=="attribute")continue;const T=S.type==="insert"?new it(S.position,S.position.getShiftedBy(S.length)):S.range,O=S.type==="attribute"&&S.attributeKey==="linkHref"&&S.attributeNewValue===null;for(const U of T.getItems()){if(O&&U.hasAttribute("ckboxLinkId")){h.removeAttribute("ckboxLinkId",U),m=!0;continue}const G=iq(U,_._chosenAssets);for(const ee of G){const ie=ee.type==="image"?"ckboxImageId":"ckboxLinkId";ee.id!==U.getAttribute(ie)&&(h.setAttribute(ie,ee.id,U),m=!0)}}}return m}}(e)),i.document.registerPostFixer(function(u){return h=>!(u.hasAttribute("linkHref")||!u.hasAttribute("ckboxLinkId"))&&(h.removeSelectionAttribute("ckboxLinkId"),!0)}(s))}}function iq(l,e){const i=l.is("element","imageInline")||l.is("element","imageBlock"),s=l.hasAttribute("linkHref");return[...e].filter(u=>u.type==="image"&&i?u.attributes.imageFallbackUrl===l.getAttribute("src"):u.type==="link"&&s?u.attributes.linkHref===l.getAttribute("linkHref"):void 0)}function G3(l,e){const i=l.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return l.setCustomProperty("link",!0,i),i}function oq(l){return!!l.is("$text")||!(!l.is("element","imageInline")&&!l.is("element","imageBlock"))}function Y3(){return!!window.CKBox}var K3=a(1866),sq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(K3.A,sq),K3.A.locals;class aq extends lt{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,i=e.ui.componentFactory,s=e.t;if(i.add("ckfinder",u=>{const h=this._createButton(qn),m=u.t;return h.set({label:m("Insert image or file"),tooltip:!0}),h}),i.add("menuBar:ckfinder",u=>{const h=this._createButton(Ns),m=u.t;return h.label=m("Image or file"),h}),e.plugins.has("ImageInsertUI")){const u=e.plugins.get("ImageInsertUI");u.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckfinder"),buttonViewCreator:()=>{const h=this.editor.ui.componentFactory.create("ckfinder");return h.icon=dn.imageAssetManager,h.bind("label").to(u,"isImageSelected",m=>s(m?"Replace image with file manager":"Insert image with file manager")),h},formViewCreator:()=>{const h=this.editor.ui.componentFactory.create("ckfinder");return h.icon=dn.imageAssetManager,h.withText=!0,h.bind("label").to(u,"isImageSelected",m=>s(m?"Replace with file manager":"Insert with file manager")),h.on("execute",()=>{u.dropdownView.isOpen=!1}),h}})}}_createButton(e){const i=this.editor,s=new e(i.locale),u=i.commands.get("ckfinder");return s.icon=dn.browseFiles,s.bind("isEnabled").to(u),s.on("execute",()=>{i.execute("ckfinder"),i.editing.view.focus()}),s}}class lq extends $t{constructor(e){super(e),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");this.isEnabled=e.isEnabled||i.isEnabled}execute(){const e=this.editor,i=this.editor.config.get("ckfinder.openerMethod")||"modal";if(i!="popup"&&i!="modal")throw new N("ckfinder-unknown-openermethod",e);const s=this.editor.config.get("ckfinder.options")||{};s.chooseFiles=!0;const u=s.onInit;s.language||(s.language=e.locale.uiLanguage),s.onInit=h=>{u&&u(h),h.on("files:choose",m=>{const b=m.data.files.toArray(),_=b.filter(O=>!O.isImage()),S=b.filter(O=>O.isImage());for(const O of _)e.execute("link",O.getUrl());const T=[];for(const O of S){const U=O.getUrl();T.push(U||h.request("file:getProxyUrl",{file:O}))}T.length&&Q3(e,T)}),h.on("file:choose:resizedImage",m=>{const b=m.data.resizedUrl;if(b)Q3(e,[b]);else{const _=e.plugins.get("Notification"),S=e.locale.t;_.showWarning(S("Could not obtain resized image URL."),{title:S("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[i](s)}}function Q3(l,e){if(l.commands.get("insertImage").isEnabled)l.execute("insertImage",{source:e});else{const i=l.plugins.get("Notification"),s=l.locale.t;i.showWarning(s("Could not insert image at the current position."),{title:s("Inserting image failed"),namespace:"ckfinder"})}}class cq extends lt{static get pluginName(){return"CKFinderEditing"}static get requires(){return[ky,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new N("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new lq(e))}}class uq extends lt{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",Ha]}init(){const e=this.editor,i=e.plugins.get("CloudServices"),s=i.token,u=i.uploadUrl;if(!s)return;const h=e.plugins.get("CloudServicesCore");this._uploadGateway=h.createUploadGateway(s,u),e.plugins.get(Ha).createUploadAdapter=m=>new dq(this._uploadGateway,m)}}class dq{constructor(e,i){this.uploadGateway=e,this.loader=i}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(i,s)=>{this.loader.uploadTotal=s.total,this.loader.uploaded=s.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class hq extends $t{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,i=Ii(e.document.selection.getSelectedBlocks());this.value=!!i&&i.is("element","paragraph"),this.isEnabled=!!i&&J3(i,e.schema)}execute(e={}){const i=this.editor.model,s=i.document,u=e.selection||s.selection;i.canEditAt(u)&&i.change(h=>{const m=u.getSelectedBlocks();for(const b of m)!b.is("element","paragraph")&&J3(b,i.schema)&&h.rename(b,"paragraph")})}}function J3(l,e){return e.checkChild(l.parent,"paragraph")&&!e.isObject(l)}class fq extends $t{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const i=this.editor.model,s=e.attributes;let u=e.position;i.canEditAt(u)&&i.change(h=>{if(u=this._findPositionToInsertParagraph(u,h),!u)return;const m=h.createElement("paragraph");s&&i.schema.setAllowedAttributes(m,s,h),i.insertContent(m,u),h.setSelection(m,"in")})}_findPositionToInsertParagraph(e,i){const s=this.editor.model;if(s.schema.checkChild(e,"paragraph"))return e;const u=s.schema.findAllowedParent(e,"paragraph");if(!u)return null;const h=e.parent,m=s.schema.checkChild(h,"$text");return h.isEmpty||m&&e.isAtEnd?s.createPositionAfter(h):!h.isEmpty&&m&&e.isAtStart?s.createPositionBefore(h):i.split(e,u).position}}const Z3=class extends lt{static get pluginName(){return"Paragraph"}init(){const l=this.editor,e=l.model;l.commands.add("paragraph",new hq(l)),l.commands.add("insertParagraph",new fq(l)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),l.conversion.elementToElement({model:"paragraph",view:"p"}),l.conversion.for("upcast").elementToElement({model:(i,{writer:s})=>Z3.paragraphLikeElements.has(i.name)?i.isEmpty?null:s.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let Oy=Z3;Oy.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class pq extends $t{constructor(e,i){super(e),this.modelElements=i}refresh(){const e=Ii(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(i=>X3(e,i,this.editor.model.schema))}execute(e){const i=this.editor.model,s=i.document,u=e.value;i.change(h=>{const m=Array.from(s.selection.getSelectedBlocks()).filter(b=>X3(b,u,i.schema));for(const b of m)b.is("element",u)||h.rename(b,u)})}}function X3(l,e,i){return i.checkChild(l.parent,e)&&!i.isObject(l)}const eE="paragraph";class mq extends lt{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Oy]}init(){const e=this.editor,i=e.config.get("heading.options"),s=[];for(const u of i)u.model!=="paragraph"&&(e.model.schema.register(u.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(u),s.push(u.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new pq(e,s))}afterInit(){const e=this.editor,i=e.commands.get("enter"),s=e.config.get("heading.options");i&&this.listenTo(i,"afterExecute",(u,h)=>{const m=e.model.document.selection.getFirstPosition().parent;s.some(b=>m.is("element",b.model))&&!m.is("element",eE)&&m.childCount===0&&h.writer.rename(m,eE)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:F.low+1})}}var tE=a(6269),gq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(tE.A,gq),tE.A.locals;class bq extends lt{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,i=e.t,s=function(m){const b=m.t,_={Paragraph:b("Paragraph"),"Heading 1":b("Heading 1"),"Heading 2":b("Heading 2"),"Heading 3":b("Heading 3"),"Heading 4":b("Heading 4"),"Heading 5":b("Heading 5"),"Heading 6":b("Heading 6")};return m.config.get("heading.options").map(S=>{const T=_[S.title];return T&&T!=S.title&&(S.title=T),S})}(e),u=i("Choose heading"),h=i("Heading");e.ui.componentFactory.add("heading",m=>{const b={},_=new Ss,S=e.commands.get("heading"),T=e.commands.get("paragraph"),O=[S];for(const G of s){const ee={type:"button",model:new H5({label:G.title,class:G.class,role:"menuitemradio",withText:!0})};G.model==="paragraph"?(ee.model.bind("isOn").to(T,"value"),ee.model.set("commandName","paragraph"),O.push(T)):(ee.model.bind("isOn").to(S,"value",ie=>ie===G.model),ee.model.set({commandName:"heading",commandValue:G.model})),_.add(ee),b[G.model]=G.title}const U=xc(m);return f5(U,_,{ariaLabel:h,role:"menu"}),U.buttonView.set({ariaLabel:h,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:h}),U.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),U.bind("isEnabled").toMany(O,"isEnabled",(...G)=>G.some(ee=>ee)),U.buttonView.bind("label").to(S,"value",T,"value",(G,ee)=>{const ie=ee?"paragraph":G;return typeof ie=="boolean"?u:b[ie]?b[ie]:u}),U.buttonView.bind("ariaLabel").to(S,"value",T,"value",(G,ee)=>{const ie=ee?"paragraph":G;return typeof ie=="boolean"?h:b[ie]?`${b[ie]}, ${h}`:h}),this.listenTo(U,"execute",G=>{const{commandName:ee,commandValue:ie}=G.source;e.execute(ee,ie?{value:ie}:void 0),e.editing.view.focus()}),U}),e.ui.componentFactory.add("menuBar:heading",m=>{const b=new yf(m),_=e.commands.get("heading"),S=e.commands.get("paragraph"),T=[_],O=new _y(m);b.set({class:"ck-heading-dropdown"}),O.set({ariaLabel:i("Heading"),role:"menu"}),b.buttonView.set({label:i("Heading")}),b.panelView.children.add(O);for(const U of s){const G=new yy(m,b),ee=new Ns(m);G.children.add(ee),O.items.add(G),ee.set({label:U.title,role:"menuitemradio",class:U.class}),ee.bind("ariaChecked").to(ee,"isOn"),ee.delegate("execute").to(b),ee.on("execute",()=>{const ie=U.model==="paragraph"?"paragraph":"heading";e.execute(ie,{value:U.model}),e.editing.view.focus()}),U.model==="paragraph"?(ee.bind("isOn").to(S,"value"),T.push(S)):ee.bind("isOn").to(_,"value",ie=>ie===U.model)}return b.bind("isEnabled").toMany(T,"isEnabled",(...U)=>U.some(G=>G)),b})}}function nE(l){return l.createContainerElement("figure",{class:"image"},[l.createEmptyElement("img"),l.createSlot("children")])}function rE(l,e){const i=l.plugins.get("ImageUtils"),s=l.plugins.has("ImageInlineEditing")&&l.plugins.has("ImageBlockEditing");return h=>i.isInlineImageView(h)?s&&(h.getStyle("display")=="block"||h.findAncestor(i.isBlockImageView)?"imageBlock":"imageInline")!==e?null:u(h):null;function u(h){const m={name:!0};return h.hasAttribute("src")&&(m.attributes=["src"]),m}}function Ly(l,e){const i=Ii(e.getSelectedBlocks());return!i||l.isObject(i)||i.isEmpty&&i.name!="listItem"?"imageBlock":"imageInline"}function v0(l){return l&&l.endsWith("px")?parseInt(l):null}function iE(l){const e=v0(l.getStyle("width")),i=v0(l.getStyle("height"));return!(!e||!i)}var kq=Object.defineProperty,oE=Object.getOwnPropertySymbols,wq=Object.prototype.hasOwnProperty,yq=Object.prototype.propertyIsEnumerable,sE=(l,e,i)=>e in l?kq(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i,aE=(l,e)=>{for(var i in e||(e={}))wq.call(e,i)&&sE(l,i,e[i]);if(oE)for(var i of oE(e))yq.call(e,i)&&sE(l,i,e[i]);return l};const vq=/^(image|image-inline)$/;class rs extends lt{constructor(){super(...arguments),this._domEmitter=new(mi())}static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},i=null,s=null,u={}){const h=this.editor,m=h.model,b=m.document.selection,_=lE(h,i||b,s);e=aE(aE({},Object.fromEntries(b.getAttributes())),e);for(const S in e)m.schema.checkAttribute(_,S)||delete e[S];return m.change(S=>{const{setImageSizes:T=!0}=u,O=S.createElement(_,e);return m.insertObject(O,i,null,{setSelection:"on",findOptimalPosition:i||_=="imageInline"?void 0:"auto"}),O.parent?(T&&this.setImageNaturalSizeAttributes(O),O):null})}setImageNaturalSizeAttributes(e){const i=e.getAttribute("src");i&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(s=>{const u=new f.window.Image;this._domEmitter.listenTo(u,"load",()=>{e.getAttribute("width")||e.getAttribute("height")||this.editor.model.enqueueChange(s.batch,h=>{h.setAttribute("width",u.naturalWidth,e),h.setAttribute("height",u.naturalHeight,e)}),this._domEmitter.stopListening(u,"load")}),u.src=i}))}getClosestSelectedImageWidget(e){const i=e.getFirstPosition();if(!i)return null;const s=e.getSelectedElement();if(s&&this.isImageWidget(s))return s;let u=i.parent;for(;u;){if(u.is("element")&&this.isImageWidget(u))return u;u=u.parent}return null}getClosestSelectedImageElement(e){const i=e.getSelectedElement();return this.isImage(i)?i:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:vq})}isImageAllowed(){const e=this.editor.model.document.selection;return function(i,s){if(lE(i,s,null)=="imageBlock"){const h=function(m,b){const _=n3(m,b),S=_.start.parent;return S.isEmpty&&!S.is("element","$root")?S.parent:S}(s,i.model);if(i.model.schema.checkChild(h,"imageBlock"))return!0}else if(i.model.schema.checkChild(s.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(i){return[...i.focus.getAncestors()].every(s=>!s.is("element","imageBlock"))}(e)}toImageWidget(e,i,s){return i.setCustomProperty("image",!0,e),Ey(e,i,{label:()=>{const u=this.findViewImgElement(e).getAttribute("alt");return u?`${u} ${s}`:s}})}isImageWidget(e){return!!e.getCustomProperty("image")&&ki(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const i=this.editor.editing.view;for(const{item:s}of i.createRangeIn(e))if(this.isInlineImageView(s))return s}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function lE(l,e,i){const s=l.model.schema,u=l.config.get("image.insert.type");return l.plugins.has("ImageBlockEditing")?l.plugins.has("ImageInlineEditing")?i||(u==="inline"?"imageInline":u!=="auto"?"imageBlock":e.is("selection")?Ly(s,e):s.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class _q extends $t{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const i=this.editor,s=i.plugins.get("ImageUtils"),u=i.model,h=s.getClosestSelectedImageElement(u.document.selection);u.change(m=>{m.setAttribute("alt",e.newValue,h)})}}class Aq extends lt{static get requires(){return[rs]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new _q(this.editor))}}var cE=a(4062),Cq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(cE.A,Cq),cE.A.locals;var uE=a(2722),xq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(uE.A,xq),uE.A.locals;class Sq extends Nt{constructor(e){super(e);const i=this.locale.t;this.focusTracker=new Ti,this.keystrokes=new Zi,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(i("Save"),dn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),dn.cancel,"ck-button-cancel","cancel"),this._focusables=new Ro,this._focusCycler=new ma({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),Cn({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,i,s,u){const h=new qn(this.locale);return h.set({label:e,icon:i,tooltip:!0}),h.extendTemplate({attributes:{class:s}}),u&&h.delegate("execute").to(this,u),h}_createLabeledInputView(){const e=this.locale.t,i=new Jb(this.locale,e0);return i.label=e("Text alternative"),i}}function dE(l){const e=l.editing.view,i=ts.defaultPositions,s=l.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(s.getClosestSelectedImageWidget(e.document.selection)),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}class Eq extends lt{static get requires(){return[s0]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,i=e.t;e.ui.componentFactory.add("imageTextAlternative",s=>{const u=e.commands.get("imageTextAlternative"),h=new qn(s);return h.set({label:i("Change image text alternative"),icon:dn.textAlternative,tooltip:!0}),h.bind("isEnabled").to(u,"isEnabled"),h.bind("isOn").to(u,"value",m=>!!m),this.listenTo(h,"execute",()=>{this._showForm()}),h})}_createForm(){const e=this.editor,i=e.editing.view.document,s=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Pn(Sq))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(u,h)=>{this._hideForm(!0),h()}),this.listenTo(e.ui,"update",()=>{s.getClosestSelectedImageWidget(i.selection)?this._isVisible&&function(u){const h=u.plugins.get("ContextualBalloon");if(u.plugins.get("ImageUtils").getClosestSelectedImageWidget(u.editing.view.document.selection)){const m=dE(u);h.updatePosition(m)}}(e):this._hideForm(!0)}),Bn({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,i=e.commands.get("imageTextAlternative"),s=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:dE(e)}),s.fieldView.value=s.fieldView.element.value=i.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class hE extends lt{static get requires(){return[Aq,Eq]}static get pluginName(){return"ImageTextAlternative"}}function fE(l,e){const i=(s,u,h)=>{if(!h.consumable.consume(u.item,s.name))return;const m=h.writer,b=h.mapper.toViewElement(u.item),_=l.findViewImgElement(b);u.attributeNewValue===null?(m.removeAttribute("srcset",_),m.removeAttribute("sizes",_)):u.attributeNewValue&&(m.setAttribute("srcset",u.attributeNewValue,_),m.setAttribute("sizes","100vw",_))};return s=>{s.on(`attribute:srcset:${e}`,i)}}function _0(l,e,i){const s=(u,h,m)=>{if(!m.consumable.consume(h.item,u.name))return;const b=m.writer,_=m.mapper.toViewElement(h.item),S=l.findViewImgElement(_);b.setAttribute(h.attributeKey,h.attributeNewValue||"",S)};return u=>{u.on(`attribute:${i}:${e}`,s)}}class pE extends Sl{observe(e){this.listenTo(e,"load",(i,s)=>{const u=s.target;this.checkShouldIgnoreEventFromTarget(u)||u.tagName=="IMG"&&this._fireEvents(s)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}var Dq=Object.defineProperty,mE=Object.getOwnPropertySymbols,Iq=Object.prototype.hasOwnProperty,Tq=Object.prototype.propertyIsEnumerable,gE=(l,e,i)=>e in l?Dq(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i,A0=(l,e)=>{for(var i in e||(e={}))Iq.call(e,i)&&gE(l,i,e[i]);if(mE)for(var i of mE(e))Tq.call(e,i)&&gE(l,i,e[i]);return l};class Nq extends $t{constructor(e){super(e);const i=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||i==="block"&&j("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||i==="inline"&&j("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const i=nr(e.source),s=this.editor.model.document.selection,u=this.editor.plugins.get("ImageUtils"),h=Object.fromEntries(s.getAttributes());i.forEach((m,b)=>{const _=s.getSelectedElement();if(typeof m=="string"&&(m={src:m}),b&&_&&u.isImage(_)){const S=this.editor.model.createPositionAfter(_);u.insertImage(A0(A0({},m),h),S)}else u.insertImage(A0(A0({},m),h))})}}class Mq extends $t{constructor(e){super(e),this.decorate("cleanupImage")}refresh(){const e=this.editor.plugins.get("ImageUtils"),i=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(i),this.value=this.isEnabled?i.getAttribute("src"):null}execute(e){const i=this.editor.model.document.selection.getSelectedElement(),s=this.editor.plugins.get("ImageUtils");this.editor.model.change(u=>{u.setAttribute("src",e.source,i),this.cleanupImage(u,i),s.setImageNaturalSizeAttributes(i)})}cleanupImage(e,i){e.removeAttribute("srcset",i),e.removeAttribute("sizes",i),e.removeAttribute("sources",i),e.removeAttribute("width",i),e.removeAttribute("height",i),e.removeAttribute("alt",i)}}class By extends lt{static get requires(){return[rs]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,i=e.conversion;e.editing.view.addObserver(pE),i.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const s=new Nq(e),u=new Mq(e);e.commands.add("insertImage",s),e.commands.add("replaceImageSource",u),e.commands.add("imageInsert",s)}}class bE extends lt{static get requires(){return[rs]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const i=this.editor,s=i.plugins.get("ImageUtils"),u=e==="imageBlock"?"figure":"img";function h(m,b,_,S){m.on(`attribute:${b}:${e}`,(T,O,U)=>{if(!U.consumable.consume(O.item,T.name))return;const G=U.writer,ee=U.mapper.toViewElement(O.item),ie=s.findViewImgElement(ee);if(O.attributeNewValue!==null?G.setAttribute(_,O.attributeNewValue,ie):G.removeAttribute(_,ie),O.item.hasAttribute("sources"))return;const be=O.item.hasAttribute("resizedWidth");if(e==="imageInline"&&!be&&!S)return;const Se=O.item.getAttribute("width"),Le=O.item.getAttribute("height");Se&&Le&&G.setStyle("aspect-ratio",`${Se}/${Le}`,ie)})}i.conversion.for("upcast").attributeToAttribute({view:{name:u,styles:{width:/.+/}},model:{key:"width",value:m=>iE(m)?v0(m.getStyle("width")):null}}).attributeToAttribute({view:{name:u,key:"width"},model:"width"}).attributeToAttribute({view:{name:u,styles:{height:/.+/}},model:{key:"height",value:m=>iE(m)?v0(m.getStyle("height")):null}}).attributeToAttribute({view:{name:u,key:"height"},model:"height"}),i.conversion.for("editingDowncast").add(m=>{h(m,"width","width",!0),h(m,"height","height",!0)}),i.conversion.for("dataDowncast").add(m=>{h(m,"width","width",!1),h(m,"height","height",!1)})}}class kE extends $t{constructor(e,i){super(e),this._modelElementName=i}refresh(){const e=this.editor.plugins.get("ImageUtils"),i=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(i):this.isEnabled=e.isBlockImage(i)}execute(e={}){const i=this.editor,s=this.editor.model,u=i.plugins.get("ImageUtils"),h=u.getClosestSelectedImageElement(s.document.selection),m=Object.fromEntries(h.getAttributes());return m.src||m.uploadId?s.change(b=>{const{setImageSizes:_=!0}=e,S=Array.from(s.markers).filter(U=>U.getRange().containsItem(h)),T=u.insertImage(m,s.createSelection(h,"on"),this._modelElementName,{setImageSizes:_});if(!T)return null;const O=b.createRangeOn(T);for(const U of S){const G=U.getRange(),ee=G.root.rootName!="$graveyard"?G.getJoined(O,!0):O;b.updateMarker(U,{range:ee})}return{oldElement:h,newElement:T}}):null}}var wE=a(7378),Pq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(wE.A,Pq),wE.A.locals;class yE extends lt{static get requires(){return[rs]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const e=this.editor.model.schema;e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["placeholder"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const e=this.editor,i=e.conversion,s=e.plugins.get("ImageUtils");i.for("editingDowncast").add(u=>{u.on("attribute:placeholder",(h,m,b)=>{if(!b.consumable.test(m.item,h.name)||!m.item.is("element","imageBlock")&&!m.item.is("element","imageInline"))return;b.consumable.consume(m.item,h.name);const _=b.writer,S=b.mapper.toViewElement(m.item),T=s.findViewImgElement(S);m.attributeNewValue?(_.addClass("image_placeholder",T),_.setStyle("background-image",`url(${m.attributeNewValue})`,T),_.setCustomProperty("editingPipeline:doNotReuseOnce",!0,T)):(_.removeClass("image_placeholder",T),_.removeStyle("background-image",T))})})}_setupLoadListener(){const e=this.editor,i=e.model,s=e.editing,u=s.view,h=e.plugins.get("ImageUtils");u.addObserver(pE),this.listenTo(u.document,"imageLoaded",(m,b)=>{const _=u.domConverter.mapDomToView(b.target);if(!_)return;const S=h.getImageWidgetFromImageView(_);if(!S)return;const T=s.mapper.toModelElement(S);T&&T.hasAttribute("placeholder")&&i.enqueueChange({isUndoable:!1},O=>{O.removeAttribute("placeholder",T)})})}}class vE extends lt{static get requires(){return[By,bE,rs,yE,ga]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new kE(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,i=e.t,s=e.conversion,u=e.plugins.get("ImageUtils");s.for("dataDowncast").elementToStructure({model:"imageBlock",view:(h,{writer:m})=>nE(m)}),s.for("editingDowncast").elementToStructure({model:"imageBlock",view:(h,{writer:m})=>u.toImageWidget(nE(m),m,i("image widget"))}),s.for("downcast").add(_0(u,"imageBlock","src")).add(_0(u,"imageBlock","alt")).add(fE(u,"imageBlock")),s.for("upcast").elementToElement({view:rE(e,"imageBlock"),model:(h,{writer:m})=>m.createElement("imageBlock",h.hasAttribute("src")?{src:h.getAttribute("src")}:void 0)}).add(function(h){const m=(b,_,S)=>{if(!S.consumable.test(_.viewItem,{name:!0,classes:"image"}))return;const T=h.findViewImgElement(_.viewItem);if(!T||!S.consumable.test(T,{name:!0}))return;S.consumable.consume(_.viewItem,{name:!0,classes:"image"});const O=Ii(S.convertItem(T,_.modelCursor).modelRange.getItems());O?(S.convertChildren(_.viewItem,O),S.updateConversionResult(O,_)):S.consumable.revert(_.viewItem,{name:!0,classes:"image"})};return b=>{b.on("element:figure",m)}}(u))}_setupClipboardIntegration(){const e=this.editor,i=e.model,s=e.editing.view,u=e.plugins.get("ImageUtils"),h=e.plugins.get("ClipboardPipeline");this.listenTo(h,"inputTransformation",(m,b)=>{const _=Array.from(b.content.getChildren());let S;if(!_.every(u.isInlineImageView))return;S=b.targetRanges?e.editing.mapper.toModelRange(b.targetRanges[0]):i.document.selection.getFirstRange();const T=i.createSelection(S);if(Ly(i.schema,T)==="imageBlock"){const O=new Ac(s.document),U=_.map(G=>O.createElement("figure",{class:"image"},G));b.content=O.createDocumentFragment(U)}}),this.listenTo(h,"contentInsertion",(m,b)=>{b.method==="paste"&&i.change(_=>{const S=_.createRangeIn(b.content);for(const T of S.getItems())T.is("element","imageBlock")&&u.setImageNaturalSizeAttributes(T)})})}}var _E=a(3350),Oq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(_E.A,Oq),_E.A.locals;class Lq extends Nt{constructor(e,i=[]){super(e),this.focusTracker=new Ti,this.keystrokes=new Zi,this._focusables=new Ro,this.children=this.createCollection(),this._focusCycler=new ma({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const s of i)this.children.add(s),this._focusables.add(s),s instanceof iF&&this._focusables.addMany(s.children);if(this._focusables.length>1)for(const s of this._focusables)Bq(s)&&(s.focusCycler.on("forwardCycle",u=>{this._focusCycler.focusNext(),u.stop()}),s.focusCycler.on("backwardCycle",u=>{this._focusCycler.focusPrevious(),u.stop()}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),Cn({view:this});for(const i of this._focusables)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element);const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function Bq(l){return"focusCycler"in l}class AE extends lt{constructor(e){super(e),this._integrations=new Map,e.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get requires(){return[rs]}init(){const e=this.editor,i=e.model.document.selection,s=e.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(e.model.document,"change",()=>{this.isImageSelected=s.isImage(i.getSelectedElement())});const u=h=>this._createToolbarComponent(h);e.ui.componentFactory.add("insertImage",u),e.ui.componentFactory.add("imageInsert",u)}registerIntegration({name:e,observable:i,buttonViewCreator:s,formViewCreator:u,requiresForm:h}){this._integrations.has(e)&&j("image-insert-integration-exists",{name:e}),this._integrations.set(e,{observable:i,buttonViewCreator:s,formViewCreator:u,requiresForm:!!h})}_createToolbarComponent(e){const i=this.editor,s=e.t,u=this._prepareIntegrations();if(!u.length)return null;let h;const m=u[0];if(u.length==1){if(!m.requiresForm)return m.buttonViewCreator(!0);h=m.buttonViewCreator(!0)}else{const S=m.buttonViewCreator(!1);h=new Xb(e,S),h.tooltip=!0,h.bind("label").to(this,"isImageSelected",T=>s(T?"Replace image":"Insert image"))}const b=this.dropdownView=xc(e,h),_=u.map(({observable:S})=>typeof S=="function"?S():S);return b.bind("isEnabled").toMany(_,"isEnabled",(...S)=>S.some(T=>T)),b.once("change:isOpen",()=>{const S=u.map(({formViewCreator:O})=>O(u.length==1)),T=new Lq(i.locale,S);b.panelView.children.add(T)}),b}_prepareIntegrations(){const e=this.editor.config.get("image.insert.integrations"),i=[];if(!e.length)return j("image-insert-integrations-not-specified"),i;for(const s of e)this._integrations.has(s)?i.push(this._integrations.get(s)):["upload","assetManager","url"].includes(s)||j("image-insert-unknown-integration",{item:s});return i.length||j("image-insert-integrations-not-registered"),i}}var CE=a(265),jq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(CE.A,jq),CE.A.locals;class Rq extends lt{static get requires(){return[vE,Im,hE,AE]}static get pluginName(){return"ImageBlock"}}class Fq extends lt{static get requires(){return[By,bE,rs,yE,ga]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,i=e.model.schema;i.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),i.addChildCheck((s,u)=>{if(s.endsWith("caption")&&u.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new kE(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,i=e.t,s=e.conversion,u=e.plugins.get("ImageUtils");s.for("dataDowncast").elementToElement({model:"imageInline",view:(h,{writer:m})=>m.createEmptyElement("img")}),s.for("editingDowncast").elementToStructure({model:"imageInline",view:(h,{writer:m})=>u.toImageWidget(function(b){return b.createContainerElement("span",{class:"image-inline"},b.createEmptyElement("img"))}(m),m,i("image widget"))}),s.for("downcast").add(_0(u,"imageInline","src")).add(_0(u,"imageInline","alt")).add(fE(u,"imageInline")),s.for("upcast").elementToElement({view:rE(e,"imageInline"),model:(h,{writer:m})=>m.createElement("imageInline",h.hasAttribute("src")?{src:h.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,i=e.model,s=e.editing.view,u=e.plugins.get("ImageUtils"),h=e.plugins.get("ClipboardPipeline");this.listenTo(h,"inputTransformation",(m,b)=>{const _=Array.from(b.content.getChildren());let S;if(!_.every(u.isBlockImageView))return;S=b.targetRanges?e.editing.mapper.toModelRange(b.targetRanges[0]):i.document.selection.getFirstRange();const T=i.createSelection(S);if(Ly(i.schema,T)==="imageInline"){const O=new Ac(s.document),U=_.map(G=>G.childCount===1?(Array.from(G.getAttributes()).forEach(ee=>O.setAttribute(...ee,u.findViewImgElement(G))),G.getChild(0)):G);b.content=O.createDocumentFragment(U)}}),this.listenTo(h,"contentInsertion",(m,b)=>{b.method==="paste"&&i.change(_=>{const S=_.createRangeIn(b.content);for(const T of S.getItems())T.is("element","imageInline")&&u.setImageNaturalSizeAttributes(T)})})}}class zq extends lt{static get requires(){return[Fq,Im,hE,AE]}static get pluginName(){return"ImageInline"}}class xE extends lt{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[rs]}getCaptionFromImageModelElement(e){for(const i of e.getChildren())if(i&&i.is("element","caption"))return i;return null}getCaptionFromModelSelection(e){const i=this.editor.plugins.get("ImageUtils"),s=e.getFirstPosition().findAncestor("caption");return s&&i.isBlockImage(s.parent)?s:null}matchImageCaptionViewElement(e){const i=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&i.isBlockImageView(e.parent)?{name:!0}:null}}class Uq extends $t{refresh(){const e=this.editor,i=e.plugins.get("ImageCaptionUtils"),s=e.plugins.get("ImageUtils");if(!e.plugins.has(vE))return this.isEnabled=!1,void(this.value=!1);const u=e.model.document.selection,h=u.getSelectedElement();if(!h){const m=i.getCaptionFromModelSelection(u);return this.isEnabled=!!m,void(this.value=!!m)}this.isEnabled=s.isImage(h),this.isEnabled?this.value=!!i.getCaptionFromImageModelElement(h):this.value=!1}execute(e={}){const{focusCaptionOnShow:i}=e;this.editor.model.change(s=>{this.value?this._hideImageCaption(s):this._showImageCaption(s,i)})}_showImageCaption(e,i){const s=this.editor.model.document.selection,u=this.editor.plugins.get("ImageCaptionEditing"),h=this.editor.plugins.get("ImageUtils");let m=s.getSelectedElement();const b=u._getSavedCaption(m);h.isInlineImage(m)&&(this.editor.execute("imageTypeBlock"),m=s.getSelectedElement());const _=b||e.createElement("caption");e.append(_,m),i&&e.setSelection(_,"in")}_hideImageCaption(e){const i=this.editor,s=i.model.document.selection,u=i.plugins.get("ImageCaptionEditing"),h=i.plugins.get("ImageCaptionUtils");let m,b=s.getSelectedElement();b?m=h.getCaptionFromImageModelElement(b):(m=h.getCaptionFromModelSelection(s),b=m.parent),u._saveCaption(b,m),e.setSelection(b,"on"),e.remove(m)}}class qq extends lt{constructor(e){super(e),this._savedCaptionsMap=new WeakMap}static get requires(){return[rs,xE]}static get pluginName(){return"ImageCaptionEditing"}init(){const e=this.editor,i=e.model.schema;i.isRegistered("caption")?i.extend("caption",{allowIn:"imageBlock"}):i.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new Uq(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,i=e.editing.view,s=e.plugins.get("ImageUtils"),u=e.plugins.get("ImageCaptionUtils"),h=e.t;e.conversion.for("upcast").elementToElement({view:m=>u.matchImageCaptionViewElement(m),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(m,{writer:b})=>s.isBlockImage(m.parent)?b.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(m,{writer:b})=>{if(!s.isBlockImage(m.parent))return null;const _=b.createEditableElement("figcaption");b.setCustomProperty("imageCaption",!0,_),_.placeholder=h("Enter image caption"),vl({view:i,element:_,keepOnFocus:!0});const S=m.parent.getAttribute("alt");return t3(_,b,{label:S?h("Caption for image: %0",[S]):h("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,i=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils"),u=e.commands.get("imageTypeInline"),h=e.commands.get("imageTypeBlock"),m=b=>{if(!b.return)return;const{oldElement:_,newElement:S}=b.return;if(!_)return;if(i.isBlockImage(_)){const O=s.getCaptionFromImageModelElement(_);if(O)return void this._saveCaption(S,O)}const T=this._getSavedCaption(_);T&&this._saveCaption(S,T)};u&&this.listenTo(u,"execute",m,{priority:"low"}),h&&this.listenTo(h,"execute",m,{priority:"low"})}_getSavedCaption(e){const i=this._savedCaptionsMap.get(e);return i?ar.fromJSON(i):null}_saveCaption(e,i){this._savedCaptionsMap.set(e,i.toJSON())}_registerCaptionReconversion(){const e=this.editor,i=e.model,s=e.plugins.get("ImageUtils"),u=e.plugins.get("ImageCaptionUtils");i.document.on("change:data",()=>{const h=i.document.differ.getChanges();for(const m of h){if(m.attributeKey!=="alt")continue;const b=m.range.start.nodeAfter;if(s.isBlockImage(b)){const _=u.getCaptionFromImageModelElement(b);if(!_)return;e.editing.reconvertItem(_)}}})}}class Vq extends lt{static get requires(){return[xE]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,i=e.editing.view,s=e.plugins.get("ImageCaptionUtils"),u=e.t;e.ui.componentFactory.add("toggleImageCaption",h=>{const m=e.commands.get("toggleImageCaption"),b=new qn(h);return b.set({icon:dn.caption,tooltip:!0,isToggleable:!0}),b.bind("isOn","isEnabled").to(m,"value","isEnabled"),b.bind("label").to(m,"value",_=>u(_?"Toggle caption off":"Toggle caption on")),this.listenTo(b,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const _=s.getCaptionFromModelSelection(e.model.document.selection);if(_){const S=e.editing.mapper.toViewElement(_);i.scrollToTheSelection(),i.change(T=>{T.addClass("image__caption_highlighted",S)})}e.editing.view.focus()}),b})}}var SE=a(5247),Hq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(SE.A,Hq),SE.A.locals;function EE(l){const e=l.map(i=>i.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function $q(l){return new Promise((e,i)=>{const s=l.getAttribute("src");fetch(s).then(u=>u.blob()).then(u=>{const h=DE(u,s),m=h.replace("image/",""),b=new File([u],`image.${m}`,{type:h});e(b)}).catch(u=>u&&u.name==="TypeError"?function(h){return function(m){return new Promise((b,_)=>{const S=f.document.createElement("img");S.addEventListener("load",()=>{const T=f.document.createElement("canvas");T.width=S.width,T.height=S.height,T.getContext("2d").drawImage(S,0,0),T.toBlob(O=>O?b(O):_())}),S.addEventListener("error",()=>_()),S.src=m})}(h).then(m=>{const b=DE(m,h),_=b.replace("image/","");return new File([m],`image.${_}`,{type:b})})}(s).then(e).catch(i):i(u))})}function DE(l,e){return l.type?l.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class Wq extends lt{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,i=e.t,s=()=>{const u=this._createButton(Kx);return u.set({label:i("Upload image from computer"),tooltip:!0}),u};if(e.ui.componentFactory.add("uploadImage",s),e.ui.componentFactory.add("imageUpload",s),e.ui.componentFactory.add("menuBar:uploadImage",()=>{const u=this._createButton(bS);return u.label=i("Image from computer"),u}),e.plugins.has("ImageInsertUI")){const u=e.plugins.get("ImageInsertUI");u.registerIntegration({name:"upload",observable:()=>e.commands.get("uploadImage"),buttonViewCreator:()=>{const h=e.ui.componentFactory.create("uploadImage");return h.bind("label").to(u,"isImageSelected",m=>i(m?"Replace image from computer":"Upload image from computer")),h},formViewCreator:()=>{const h=e.ui.componentFactory.create("uploadImage");return h.withText=!0,h.bind("label").to(u,"isImageSelected",m=>i(m?"Replace from computer":"Upload from computer")),h.on("execute",()=>{u.dropdownView.isOpen=!1}),h}})}}_createButton(e){const i=this.editor,s=i.locale,u=i.commands.get("uploadImage"),h=i.config.get("image.upload.types"),m=EE(h),b=new e(i.locale),_=s.t;return b.set({acceptedType:h.map(S=>`image/${S}`).join(","),allowMultipleFiles:!0,label:_("Upload image from computer"),icon:dn.imageUpload}),b.bind("isEnabled").to(u),b.on("done",(S,T)=>{const O=Array.from(T).filter(U=>m.test(U.type));O.length&&(i.execute("uploadImage",{file:O}),i.editing.view.focus())}),b}}var IE=a(2267),Gq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(IE.A,Gq),IE.A.locals;var TE=a(7693),Yq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(TE.A,Yq),TE.A.locals;var NE=a(1559),Kq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(NE.A,Kq),NE.A.locals;class Qq extends lt{constructor(e){super(e),this.uploadStatusChange=(i,s,u)=>{const h=this.editor,m=s.item,b=m.getAttribute("uploadId");if(!u.consumable.consume(s.item,i.name))return;const _=h.plugins.get("ImageUtils"),S=h.plugins.get(Ha),T=b?s.attributeNewValue:null,O=this.placeholder,U=h.editing.mapper.toViewElement(m),G=u.writer;if(T=="reading")return ME(U,G),void PE(_,O,U,G);if(T=="uploading"){const ee=S.loaders.get(b);return ME(U,G),void(ee?(OE(U,G),function(ie,be,Se,Le){const et=function(ft){const Mt=ft.createUIElement("div",{class:"ck-progress-bar"});return ft.setCustomProperty("progressBar",!0,Mt),Mt}(be);be.insert(be.createPositionAt(ie,"end"),et),Se.on("change:uploadedPercent",(ft,Mt,nn)=>{Le.change(gn=>{gn.setStyle("width",nn+"%",et)})})}(U,G,ee,h.editing.view),function(ie,be,Se,Le){if(Le.data){const et=ie.findViewImgElement(be);Se.setAttribute("src",Le.data,et)}}(_,U,G,ee)):PE(_,O,U,G))}T=="complete"&&S.loaders.get(b)&&function(ee,ie,be){const Se=ie.createUIElement("div",{class:"ck-image-upload-complete-icon"});ie.insert(ie.createPositionAt(ee,"end"),Se),setTimeout(()=>{be.change(Le=>Le.remove(Le.createRangeOn(Se)))},3e3)}(U,G,h.editing.view),function(ee,ie){BE(ee,ie,"progressBar")}(U,G),OE(U,G),function(ee,ie){ie.removeClass("ck-appear",ee)}(U,G)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function ME(l,e){l.hasClass("ck-appear")||e.addClass("ck-appear",l)}function PE(l,e,i,s){i.hasClass("ck-image-upload-placeholder")||s.addClass("ck-image-upload-placeholder",i);const u=l.findViewImgElement(i);u.getAttribute("src")!==e&&s.setAttribute("src",e,u),LE(i,"placeholder")||s.insert(s.createPositionAfter(u),function(h){const m=h.createUIElement("div",{class:"ck-upload-placeholder-loader"});return h.setCustomProperty("placeholder",!0,m),m}(s))}function OE(l,e){l.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",l),BE(l,e,"placeholder")}function LE(l,e){for(const i of l.getChildren())if(i.getCustomProperty(e))return i}function BE(l,e,i){const s=LE(l,i);s&&e.remove(e.createRangeOn(s))}var Jq=Object.defineProperty,Zq=Object.defineProperties,Xq=Object.getOwnPropertyDescriptors,jE=Object.getOwnPropertySymbols,eV=Object.prototype.hasOwnProperty,tV=Object.prototype.propertyIsEnumerable,RE=(l,e,i)=>e in l?Jq(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i;class nV extends $t{refresh(){const e=this.editor,i=e.plugins.get("ImageUtils"),s=e.model.document.selection.getSelectedElement();this.isEnabled=i.isImageAllowed()||i.isImage(s)}execute(e){const i=nr(e.file),s=this.editor.model.document.selection,u=this.editor.plugins.get("ImageUtils"),h=Object.fromEntries(s.getAttributes());i.forEach((m,b)=>{const _=s.getSelectedElement();if(b&&_&&u.isImage(_)){const S=this.editor.model.createPositionAfter(_);this._uploadImage(m,h,S)}else this._uploadImage(m,h)})}_uploadImage(e,i,s){const u=this.editor,h=u.plugins.get(Ha).createLoader(e),m=u.plugins.get("ImageUtils");var b,_;h&&m.insertImage((b=((S,T)=>{for(var O in T||(T={}))eV.call(T,O)&&RE(S,O,T[O]);if(jE)for(var O of jE(T))tV.call(T,O)&&RE(S,O,T[O]);return S})({},i),_={uploadId:h.id},Zq(b,Xq(_))),s)}}class rV extends lt{constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[Ha,ky,ga,rs]}static get pluginName(){return"ImageUploadEditing"}init(){const e=this.editor,i=e.model.document,s=e.conversion,u=e.plugins.get(Ha),h=e.plugins.get("ImageUtils"),m=e.plugins.get("ClipboardPipeline"),b=EE(e.config.get("image.upload.types")),_=new nV(e);e.commands.add("uploadImage",_),e.commands.add("imageUpload",_),s.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(S,T)=>{if(O=T.dataTransfer,Array.from(O.types).includes("text/html")&&O.getData("text/html")!=="")return;var O;const U=Array.from(T.dataTransfer.files).filter(G=>!!G&&b.test(G.type));U.length&&(S.stop(),e.model.change(G=>{T.targetRanges&&G.setSelection(T.targetRanges.map(ee=>e.editing.mapper.toModelRange(ee))),e.execute("uploadImage",{file:U})}))}),this.listenTo(m,"inputTransformation",(S,T)=>{const O=Array.from(e.editing.view.createRangeIn(T.content)).map(G=>G.item).filter(G=>function(ee,ie){return!(!ee.isInlineImageView(ie)||!ie.getAttribute("src")||!ie.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!ie.getAttribute("src").match(/^blob:/g))}(h,G)&&!G.getAttribute("uploadProcessed")).map(G=>({promise:$q(G),imageElement:G}));if(!O.length)return;const U=new Ac(e.editing.view.document);for(const G of O){U.setAttribute("uploadProcessed",!0,G.imageElement);const ee=u.createLoader(G.promise);ee&&(U.setAttribute("src","",G.imageElement),U.setAttribute("uploadId",ee.id,G.imageElement))}}),e.editing.view.document.on("dragover",(S,T)=>{T.preventDefault()}),i.on("change",()=>{const S=i.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),T=new Set;for(const O of S)if(O.type=="insert"&&O.name!="$text"){const U=O.position.nodeAfter,G=O.position.root.rootName=="$graveyard";for(const ee of iV(e,U)){const ie=ee.getAttribute("uploadId");if(!ie)continue;const be=u.loaders.get(ie);be&&(G?T.has(ie)||be.abort():(T.add(ie),this._uploadImageElements.set(ie,ee),be.status=="idle"&&this._readAndUpload(be)))}}}),this.on("uploadComplete",(S,{imageElement:T,data:O})=>{const U=O.urls?O.urls:O;this.editor.model.change(G=>{G.setAttribute("src",U.default,T),this._parseAndSetSrcsetAttributeOnImage(U,T,G),h.setImageNaturalSizeAttributes(T)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const i=this.editor,s=i.model,u=i.locale.t,h=i.plugins.get(Ha),m=i.plugins.get(ky),b=i.plugins.get("ImageUtils"),_=this._uploadImageElements;return s.enqueueChange({isUndoable:!1},T=>{T.setAttribute("uploadStatus","reading",_.get(e.id))}),e.read().then(()=>{const T=e.upload(),O=_.get(e.id);if(k.isSafari){const U=i.editing.mapper.toViewElement(O),G=b.findViewImgElement(U);i.editing.view.once("render",()=>{if(!G.parent)return;const ee=i.editing.view.domConverter.mapViewToDom(G.parent);if(!ee)return;const ie=ee.style.display;ee.style.display="none",ee._ckHack=ee.offsetHeight,ee.style.display=ie})}return i.ui&&i.ui.ariaLiveAnnouncer.announce(u("Uploading image")),s.enqueueChange({isUndoable:!1},U=>{U.setAttribute("uploadStatus","uploading",O)}),T}).then(T=>{s.enqueueChange({isUndoable:!1},O=>{const U=_.get(e.id);O.setAttribute("uploadStatus","complete",U),i.ui&&i.ui.ariaLiveAnnouncer.announce(u("Image upload complete")),this.fire("uploadComplete",{data:T,imageElement:U})}),S()}).catch(T=>{if(i.ui&&i.ui.ariaLiveAnnouncer.announce(u("Error during image upload")),e.status!=="error"&&e.status!=="aborted")throw T;e.status=="error"&&T&&m.showWarning(T,{title:u("Upload failed"),namespace:"upload"}),s.enqueueChange({isUndoable:!1},O=>{O.remove(_.get(e.id))}),S()});function S(){s.enqueueChange({isUndoable:!1},T=>{const O=_.get(e.id);T.removeAttribute("uploadId",O),T.removeAttribute("uploadStatus",O),_.delete(e.id)}),h.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,i,s){let u=0;const h=Object.keys(e).filter(m=>{const b=parseInt(m,10);if(!isNaN(b))return u=Math.max(u,b),!0}).map(m=>`${e[m]} ${m}w`).join(", ");if(h!=""){const m={srcset:h};i.hasAttribute("width")||i.hasAttribute("height")||(m.width=u),s.setAttributes(m,i)}}}function iV(l,e){const i=l.plugins.get("ImageUtils");return Array.from(l.model.createRangeOn(e)).filter(s=>i.isImage(s.item)).map(s=>s.item)}var FE=a(4642),oV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(FE.A,oV),FE.A.locals;var zE=a(3469),sV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(zE.A,sV),zE.A.locals;class aV extends $t{constructor(e,i){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(i.map(s=>{if(s.isDefault)for(const u of s.modelElements)this._defaultStyles[u]=s.name;return[s.name,s]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const i=this.editor,s=i.model,u=i.plugins.get("ImageUtils");s.change(h=>{const m=e.value,{setImageSizes:b=!0}=e;let _=u.getClosestSelectedImageElement(s.document.selection);m&&this.shouldConvertImageType(m,_)&&(this.editor.execute(u.isBlockImage(_)?"imageTypeInline":"imageTypeBlock",{setImageSizes:b}),_=u.getClosestSelectedImageElement(s.document.selection)),!m||this._styles.get(m).isDefault?h.removeAttribute("imageStyle",_):h.setAttribute("imageStyle",m,_),b&&u.setImageNaturalSizeAttributes(_)})}shouldConvertImageType(e,i){return!this._styles.get(e).modelElements.includes(i.name)}}var lV=Object.defineProperty,UE=Object.getOwnPropertySymbols,cV=Object.prototype.hasOwnProperty,uV=Object.prototype.propertyIsEnumerable,qE=(l,e,i)=>e in l?lV(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i,VE=(l,e)=>{for(var i in e||(e={}))cV.call(e,i)&&qE(l,i,e[i]);if(UE)for(var i of UE(e))uV.call(e,i)&&qE(l,i,e[i]);return l};const{objectFullWidth:dV,objectInline:HE,objectLeft:$E,objectRight:jy,objectCenter:Ry,objectBlockLeft:WE,objectBlockRight:GE}=dn,C0={get inline(){return{name:"inline",title:"In line",icon:HE,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:$E,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:WE,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Ry,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:jy,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:GE,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Ry,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:jy,modelElements:["imageBlock"],className:"image-style-side"}}},YE={full:dV,left:WE,right:GE,center:Ry,inlineLeft:$E,inlineRight:jy,inline:HE},KE=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function QE(l){j("image-style-configuration-definition-invalid",l)}const Fy={normalizeStyles:function(l){return(l.configuredStyles.options||[]).map(e=>function(i){return i=typeof i=="string"?C0[i]?VE({},C0[i]):{name:i}:function(s,u){const h=VE({},u);for(const m in s)Object.prototype.hasOwnProperty.call(u,m)||(h[m]=s[m]);return h}(C0[i.name],i),typeof i.icon=="string"&&(i.icon=YE[i.icon]||i.icon),i}(e)).filter(e=>function(i,{isBlockPluginLoaded:s,isInlinePluginLoaded:u}){const{modelElements:h,name:m}=i;if(!(h&&h.length&&m))return QE({style:i}),!1;{const b=[s?"imageBlock":null,u?"imageInline":null];if(!h.some(_=>b.includes(_)))return j("image-style-missing-dependency",{style:i,missingPlugins:h.map(_=>_==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,l))},getDefaultStylesConfiguration:function(l,e){return l&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:l?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(l){return l.has("ImageBlockEditing")&&l.has("ImageInlineEditing")?[...KE]:[]},warnInvalidStyle:QE,DEFAULT_OPTIONS:C0,DEFAULT_ICONS:YE,DEFAULT_DROPDOWN_DEFINITIONS:KE};function JE(l,e){for(const i of e)if(i.name===l)return i}class ZE extends lt{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[rs]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:i}=Fy,s=this.editor,u=s.plugins.has("ImageBlockEditing"),h=s.plugins.has("ImageInlineEditing");s.config.define("image.styles",i(u,h)),this.normalizedStyles=e({configuredStyles:s.config.get("image.styles"),isBlockPluginLoaded:u,isInlinePluginLoaded:h}),this._setupConversion(u,h),this._setupPostFixer(),s.commands.add("imageStyle",new aV(s,this.normalizedStyles))}_setupConversion(e,i){const s=this.editor,u=s.model.schema,h=(m=this.normalizedStyles,(_,S,T)=>{if(!T.consumable.consume(S.item,_.name))return;const O=JE(S.attributeNewValue,m),U=JE(S.attributeOldValue,m),G=T.mapper.toViewElement(S.item),ee=T.writer;U&&ee.removeClass(U.className,G),O&&ee.addClass(O.className,G)});var m;const b=function(_){const S={imageInline:_.filter(T=>!T.isDefault&&T.modelElements.includes("imageInline")),imageBlock:_.filter(T=>!T.isDefault&&T.modelElements.includes("imageBlock"))};return(T,O,U)=>{if(!O.modelRange)return;const G=O.viewItem,ee=Ii(O.modelRange.getItems());if(ee&&U.schema.checkAttribute(ee,"imageStyle"))for(const ie of S[ee.name])U.consumable.consume(G,{classes:ie.className})&&U.writer.setAttribute("imageStyle",ie.name,ee)}}(this.normalizedStyles);s.editing.downcastDispatcher.on("attribute:imageStyle",h),s.data.downcastDispatcher.on("attribute:imageStyle",h),e&&(u.extend("imageBlock",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:figure",b,{priority:"low"})),i&&(u.extend("imageInline",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:img",b,{priority:"low"}))}_setupPostFixer(){const e=this.editor,i=e.model.document,s=e.plugins.get(rs),u=new Map(this.normalizedStyles.map(h=>[h.name,h]));i.registerPostFixer(h=>{let m=!1;for(const b of i.differ.getChanges())if(b.type=="insert"||b.type=="attribute"&&b.attributeKey=="imageStyle"){let _=b.type=="insert"?b.position.nodeAfter:b.range.start.nodeAfter;if(_&&_.is("element","paragraph")&&_.childCount>0&&(_=_.getChild(0)),!s.isImage(_))continue;const S=_.getAttribute("imageStyle");if(!S)continue;const T=u.get(S);T&&T.modelElements.includes(_.name)||(h.removeAttribute("imageStyle",_),m=!0)}return m})}}var XE=a(6386),hV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(XE.A,hV),XE.A.locals;class fV extends lt{static get requires(){return[ZE]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,i=this.editor.config.get("image.toolbar")||[],s=e4(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const h of s)this._createButton(h);const u=e4([...i.filter(we),...Fy.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const h of u)this._createDropdown(h,s)}_createDropdown(e,i){const s=this.editor.ui.componentFactory;s.add(e.name,u=>{let h;const{defaultItem:m,items:b,title:_}=e,S=b.filter(G=>i.find(({name:ee})=>t4(ee)===G)).map(G=>{const ee=s.create(G);return G===m&&(h=ee),ee});b.length!==S.length&&Fy.warnInvalidStyle({dropdown:e});const T=xc(u,Xb),O=T.buttonView,U=O.arrowView;return fy(T,S,{enableActiveItemFocusOnDropdownOpen:!0}),O.set({label:n4(_,h.label),class:null,tooltip:!0}),U.unbind("label"),U.set({label:_}),O.bind("icon").toMany(S,"isOn",(...G)=>{const ee=G.findIndex(yl);return ee<0?h.icon:S[ee].icon}),O.bind("label").toMany(S,"isOn",(...G)=>{const ee=G.findIndex(yl);return n4(_,ee<0?h.label:S[ee].label)}),O.bind("isOn").toMany(S,"isOn",(...G)=>G.some(yl)),O.bind("class").toMany(S,"isOn",(...G)=>G.some(yl)?"ck-splitbutton_flatten":void 0),O.on("execute",()=>{S.some(({isOn:G})=>G)?T.isOpen=!T.isOpen:h.fire("execute")}),T.bind("isEnabled").toMany(S,"isEnabled",(...G)=>G.some(yl)),this.listenTo(T,"execute",()=>{this.editor.editing.view.focus()}),T})}_createButton(e){const i=e.name;this.editor.ui.componentFactory.add(t4(i),s=>{const u=this.editor.commands.get("imageStyle"),h=new qn(s);return h.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),h.bind("isEnabled").to(u,"isEnabled"),h.bind("isOn").to(u,"value",m=>m===i),h.on("execute",this._executeCommand.bind(this,i)),h})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function e4(l,e){for(const i of l)e[i.title]&&(i.title=e[i.title]);return l}function t4(l){return`imageStyle:${l}`}function n4(l,e){return(l?l+": ":"")+e}class pV extends lt{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new Gr(e)),e.commands.add("outdent",new Gr(e))}}class mV extends lt{static get pluginName(){return"IndentUI"}init(){const e=this.editor,i=e.locale,s=e.t,u=i.uiLanguageDirection=="ltr"?dn.indent:dn.outdent,h=i.uiLanguageDirection=="ltr"?dn.outdent:dn.indent;this._defineButton("indent",s("Increase indent"),u),this._defineButton("outdent",s("Decrease indent"),h)}_defineButton(e,i,s){const u=this.editor;u.ui.componentFactory.add(e,()=>{const h=this._createButton(qn,e,i,s);return h.set({tooltip:!0}),h}),u.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(Ns,e,i,s))}_createButton(e,i,s,u){const h=this.editor,m=h.commands.get(i),b=new e(h.locale);return b.set({label:s,icon:u}),b.bind("isEnabled").to(m,"isEnabled"),this.listenTo(b,"execute",()=>{h.execute(i),h.editing.view.focus()}),b}}class gV{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(i=>this._definitions.add(i)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(i,s,u)=>{if(!u.consumable.test(s.item,"attribute:linkHref")||!s.item.is("selection")&&!u.schema.isInline(s.item))return;const h=u.writer,m=h.document.selection;for(const b of this._definitions){const _=h.createAttributeElement("a",b.attributes,{priority:5});b.classes&&h.addClass(b.classes,_);for(const S in b.styles)h.setStyle(S,b.styles[S],_);h.setCustomProperty("link",!0,_),b.callback(s.attributeNewValue)?s.item.is("selection")?h.wrap(m.getFirstRange(),_):h.wrap(u.mapper.toViewRange(s.range),_):h.unwrap(u.mapper.toViewRange(s.range),_)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(i,s,{writer:u,mapper:h})=>{const m=h.toViewElement(s.item),b=Array.from(m.getChildren()).find(_=>_.is("element","a"));for(const _ of this._definitions){const S=la(_.attributes);if(_.callback(s.attributeNewValue)){for(const[T,O]of S)T==="class"?u.addClass(O,b):u.setAttribute(T,O,b);_.classes&&u.addClass(_.classes,b);for(const T in _.styles)u.setStyle(T,_.styles[T],b)}else{for(const[T,O]of S)T==="class"?u.removeClass(O,b):u.removeAttribute(T,b);_.classes&&u.removeClass(_.classes,b);for(const T in _.styles)u.removeStyle(T,b)}}})}}}const bV=function(l,e,i){var s=l.length;return i=i===void 0?s:i,!e&&i>=s?l:Tb(l,e,i)};var kV=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const r4=function(l){return kV.test(l)},wV=function(l){return l.split("")};var i4="\\ud800-\\udfff",yV="["+i4+"]",zy="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Uy="\\ud83c[\\udffb-\\udfff]",o4="[^"+i4+"]",s4="(?:\\ud83c[\\udde6-\\uddff]){2}",a4="[\\ud800-\\udbff][\\udc00-\\udfff]",l4="(?:"+zy+"|"+Uy+")?",c4="[\\ufe0e\\ufe0f]?",vV=c4+l4+("(?:\\u200d(?:"+[o4,s4,a4].join("|")+")"+c4+l4+")*"),_V="(?:"+[o4+zy+"?",zy,s4,a4,yV].join("|")+")",AV=RegExp(Uy+"(?="+Uy+")|"+_V+vV,"g");const CV=function(l){return l.match(AV)||[]},xV=function(l){return r4(l)?CV(l):wV(l)},SV=function(l){return function(e){e=of(e);var i=r4(e)?xV(e):void 0,s=i?i[0]:e.charAt(0),u=i?bV(i,1).join(""):e.slice(1);return s[l]()+u}}("toUpperCase"),EV=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,DV=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,IV=/^((\w+:(\/{2,})?)|(\W))/i,TV=["https?","ftps?","mailto"],x0="Ctrl+K";function u4(l,{writer:e}){const i=e.createAttributeElement("a",{href:l},{priority:5});return e.setCustomProperty("link",!0,i),i}function d4(l,e=TV){const i=String(l),s=e.join("|");return function(u,h){return!!u.replace(EV,"").match(h)}(i,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",s)}`,"i"))?i:"#"}function qy(l,e){return!!l&&e.checkAttribute(l.name,"linkHref")}function Vy(l,e){const i=(s=l,DV.test(s)?"mailto:":e);var s;const u=!!i&&!h4(l);return l&&u?i+l:l}function h4(l){return IV.test(l)}function f4(l){window.open(l,"_blank","noopener")}class NV extends $t{constructor(){super(...arguments),this.manualDecorators=new Ss,this.automaticDecorators=new gV}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,i=e.document.selection,s=i.getSelectedElement()||Ii(i.getSelectedBlocks());qy(s,e.schema)?(this.value=s.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(s,"linkHref")):(this.value=i.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(i,"linkHref"));for(const u of this.manualDecorators)u.value=this._getDecoratorStateFromModel(u.id)}execute(e,i={}){const s=this.editor.model,u=s.document.selection,h=[],m=[];for(const b in i)i[b]?h.push(b):m.push(b);s.change(b=>{if(u.isCollapsed){const _=u.getFirstPosition();if(u.hasAttribute("linkHref")){const S=p4(u);let T=d0(_,"linkHref",u.getAttribute("linkHref"),s);u.getAttribute("linkHref")===S&&(T=this._updateLinkContent(s,b,T,e)),b.setAttribute("linkHref",e,T),h.forEach(O=>{b.setAttribute(O,!0,T)}),m.forEach(O=>{b.removeAttribute(O,T)}),b.setSelection(b.createPositionAfter(T.end.nodeBefore))}else if(e!==""){const S=la(u.getAttributes());S.set("linkHref",e),h.forEach(O=>{S.set(O,!0)});const{end:T}=s.insertContent(b.createText(e,S),_);b.setSelection(T)}["linkHref",...h,...m].forEach(S=>{b.removeSelectionAttribute(S)})}else{const _=s.schema.getValidRanges(u.getRanges(),"linkHref"),S=[];for(const O of u.getSelectedBlocks())s.schema.checkAttribute(O,"linkHref")&&S.push(b.createRangeOn(O));const T=S.slice();for(const O of _)this._isRangeToUpdate(O,S)&&T.push(O);for(const O of T){let U=O;if(T.length===1){const G=p4(u);u.getAttribute("linkHref")===G&&(U=this._updateLinkContent(s,b,O,e),b.setSelection(b.createSelection(U)))}b.setAttribute("linkHref",e,U),h.forEach(G=>{b.setAttribute(G,!0,U)}),m.forEach(G=>{b.removeAttribute(G,U)})}}})}_getDecoratorStateFromModel(e){const i=this.editor.model,s=i.document.selection,u=s.getSelectedElement();return qy(u,i.schema)?u.getAttribute(e):s.getAttribute(e)}_isRangeToUpdate(e,i){for(const s of i)if(s.containsRange(e))return!1;return!0}_updateLinkContent(e,i,s,u){const h=i.createText(u,{linkHref:u});return e.insertContent(h,s)}}function p4(l){if(l.isCollapsed){const e=l.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(l.getFirstRange().getItems());if(e.length>1)return null;const i=e[0];return i.is("$text")||i.is("$textProxy")?i.data:null}}class MV extends $t{refresh(){const e=this.editor.model,i=e.document.selection,s=i.getSelectedElement();qy(s,e.schema)?this.isEnabled=e.schema.checkAttribute(s,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(i,"linkHref")}execute(){const e=this.editor,i=this.editor.model,s=i.document.selection,u=e.commands.get("link");i.change(h=>{const m=s.isCollapsed?[d0(s.getFirstPosition(),"linkHref",s.getAttribute("linkHref"),i)]:i.schema.getValidRanges(s.getRanges(),"linkHref");for(const b of m)if(h.removeAttribute("linkHref",b),u)for(const _ of u.manualDecorators)h.removeAttribute(_.id,b)})}}class PV extends ze(){constructor({id:e,label:i,attributes:s,classes:u,styles:h,defaultValue:m}){super(),this.id=e,this.set("value",void 0),this.defaultValue=m,this.label=i,this.attributes=s,this.classes=u,this.styles=h}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var m4=a(7719),OV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(m4.A,OV),m4.A.locals;var LV=Object.defineProperty,g4=Object.getOwnPropertySymbols,BV=Object.prototype.hasOwnProperty,jV=Object.prototype.propertyIsEnumerable,b4=(l,e,i)=>e in l?LV(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i,RV=(l,e)=>{for(var i in e||(e={}))BV.call(e,i)&&b4(l,i,e[i]);if(g4)for(var i of g4(e))jV.call(e,i)&&b4(l,i,e[i]);return l};const k4="automatic",FV=/^(https?:)?\/\//;class w4 extends lt{static get pluginName(){return"LinkEditing"}static get requires(){return[HS,jS,ga]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const e=this.editor,i=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:u4}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(u,h)=>u4(d4(u,i),h)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:u=>u.getAttribute("href")}}),e.commands.add("link",new NV(e)),e.commands.add("unlink",new MV(e));const s=function(u,h){const m={"Open in a new tab":u("Open in a new tab"),Downloadable:u("Downloadable")};return h.forEach(b=>("label"in b&&m[b.label]&&(b.label=m[b.label]),b)),h}(e.t,function(u){const h=[];if(u)for(const[m,b]of Object.entries(u)){const _=Object.assign({},b,{id:`link${SV(m)}`});h.push(_)}return h}(e.config.get("link.decorators")));this._enableAutomaticDecorators(s.filter(u=>u.mode===k4)),this._enableManualDecorators(s.filter(u=>u.mode==="manual")),e.plugins.get(HS).registerAttribute("linkHref"),function(u,h,m,b){const _=u.editing.view,S=new Set;_.document.registerPostFixer(T=>{const O=u.model.document.selection;let U=!1;if(O.hasAttribute(h)){const G=d0(O.getFirstPosition(),h,O.getAttribute(h),u.model),ee=u.editing.mapper.toViewRange(G);for(const ie of ee.getItems())ie.is("element",m)&&!ie.hasClass(b)&&(T.addClass(b,ie),S.add(ie),U=!0)}return U}),u.conversion.for("editingDowncast").add(T=>{function O(){_.change(U=>{for(const G of S.values())U.removeClass(b,G),S.delete(G)})}T.on("insert",O,{priority:"highest"}),T.on("remove",O,{priority:"highest"}),T.on("attribute",O,{priority:"highest"}),T.on("selection",O,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const i=this.editor,s=i.commands.get("link").automaticDecorators;i.config.get("link.addTargetToExternalLinks")&&s.add({id:"linkIsExternal",mode:k4,callback:u=>!!u&&FV.test(u),attributes:{target:"_blank",rel:"noopener noreferrer"}}),s.add(e),s.length&&i.conversion.for("downcast").add(s.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const i=this.editor,s=i.commands.get("link").manualDecorators;e.forEach(u=>{i.model.schema.extend("$text",{allowAttributes:u.id});const h=new PV(u);s.add(h),i.conversion.for("downcast").attributeToElement({model:h.id,view:(m,{writer:b,schema:_},{item:S})=>{if((S.is("selection")||_.isInline(S))&&m){const T=b.createAttributeElement("a",h.attributes,{priority:5});h.classes&&b.addClass(h.classes,T);for(const O in h.styles)b.setStyle(O,h.styles[O],T);return b.setCustomProperty("link",!0,T),T}}}),i.conversion.for("upcast").elementToAttribute({view:RV({name:"a"},h._createPattern()),model:{key:h.id}})})}_enableLinkOpen(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",(s,u)=>{if(!(k.isMac?u.domEvent.metaKey:u.domEvent.ctrlKey))return;let h=u.domTarget;if(h.tagName.toLowerCase()!="a"&&(h=h.closest("a")),!h)return;const m=h.getAttribute("href");m&&(s.stop(),u.preventDefault(),f4(m))},{context:"$capture"}),this.listenTo(i,"keydown",(s,u)=>{const h=e.commands.get("link").value;h&&u.keyCode===Mn.enter&&u.altKey&&(s.stop(),f4(h))})}_enableSelectionAttributesFixer(){const e=this.editor.model,i=e.document.selection;this.listenTo(i,"change:attribute",(s,{attributeKeys:u})=>{u.includes("linkHref")&&!i.hasAttribute("linkHref")&&e.change(h=>{var m;(function(b,_){b.removeSelectionAttribute("linkHref");for(const S of _)b.removeSelectionAttribute(S)})(h,(m=e.schema,m.getDefinition("$text").allowAttributes.filter(b=>b.startsWith("link"))))})})}_enableClipboardIntegration(){const e=this.editor,i=e.model,s=this.editor.config.get("link.defaultProtocol");s&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(u,h)=>{i.change(m=>{const b=m.createRangeIn(h.content);for(const _ of b.getItems())if(_.hasAttribute("linkHref")){const S=Vy(_.getAttribute("linkHref"),s);m.setAttribute("linkHref",S,_)}})})}}var y4=a(3817),zV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(y4.A,zV),y4.A.locals;class UV extends Nt{constructor(e,i,s){super(e),this.focusTracker=new Ti,this.keystrokes=new Zi,this._focusables=new Ro;const u=e.t;this._validators=s,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(u("Save"),dn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(u("Cancel"),dn.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(i),this.children=this._createFormChildren(i.manualDecorators),this._focusCycler=new ma({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const h=["ck","ck-link-form","ck-responsive-form"];i.manualDecorators.length&&h.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:h,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,i)=>(e[i.name]=i.isOn,e),{})}render(){super.render(),Cn({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const e=this.locale.t,i=new Jb(this.locale,e0);return i.label=e("Link URL"),i}_createButton(e,i,s,u){const h=new qn(this.locale);return h.set({label:e,icon:i,tooltip:!0}),h.extendTemplate({attributes:{class:s}}),u&&h.delegate("execute").to(this,u),h}_createManualDecoratorSwitches(e){const i=this.createCollection();for(const s of e.manualDecorators){const u=new Kb(this.locale);u.set({name:s.id,label:s.label,withText:!0}),u.bind("isOn").toMany([s,e],"value",(h,m)=>m===void 0&&h===void 0?!!s.defaultValue:!!h),u.on("execute",()=>{s.set("value",!u.isOn)}),i.add(u)}return i}_createFormChildren(e){const i=this.createCollection();if(i.add(this.urlInputView),e.length){const s=new Nt;s.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(u=>({tag:"li",children:[u],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),i.add(s)}return i.add(this.saveButtonView),i.add(this.cancelButtonView),i}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}var v4=a(8762),qV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(v4.A,qV),v4.A.locals;class VV extends Nt{constructor(e,i={}){super(e),this.focusTracker=new Ti,this.keystrokes=new Zi,this._focusables=new Ro;const s=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(s("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(s("Edit link"),dn.pencil,"edit"),this.set("href",void 0),this._linkConfig=i,this._focusCycler=new ma({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,i,s){const u=new qn(this.locale);return u.set({label:e,icon:i,tooltip:!0}),u.delegate("execute").to(this,s),u}_createPreviewButton(){const e=new qn(this.locale),i=this.bindTemplate,s=this.t;return e.set({withText:!0,tooltip:s("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:i.to("href",u=>u&&d4(u,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",u=>u||s("This link has no URL")),e.bind("isEnabled").to(this,"href",u=>!!u),e.template.tag="a",e.template.eventListeners={},e}}const Dl="link-ui";class HV extends lt{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[s0]}static get pluginName(){return"LinkUI"}init(){const e=this.editor,i=this.editor.t;e.editing.view.addObserver(j7),this._balloon=e.plugins.get(s0),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Dl,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Dl,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Create link"),keystroke:x0},{label:i("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,i=new VV(e.locale,e.config.get("link")),s=e.commands.get("link"),u=e.commands.get("unlink");return i.bind("href").to(s,"value"),i.editButtonView.bind("isEnabled").to(s),i.unlinkButtonView.bind("isEnabled").to(u),this.listenTo(i,"edit",()=>{this._addFormView()}),this.listenTo(i,"unlink",()=>{e.execute("unlink"),this._hideUI()}),i.keystrokes.set("Esc",(h,m)=>{this._hideUI(),m()}),i.keystrokes.set(x0,(h,m)=>{this._addFormView(),m()}),i}_createFormView(){const e=this.editor,i=e.commands.get("link"),s=e.config.get("link.defaultProtocol"),u=new(Pn(UV))(e.locale,i,function(h){const m=h.t,b=h.config.get("link.allowCreatingEmptyLinks");return[_=>{if(!b&&!_.url.length)return m("Link URL must not be empty.")}]}(e));return u.urlInputView.fieldView.bind("value").to(i,"value"),u.urlInputView.bind("isEnabled").to(i,"isEnabled"),u.saveButtonView.bind("isEnabled").to(i,"isEnabled"),this.listenTo(u,"submit",()=>{if(u.isValid()){const{value:h}=u.urlInputView.fieldView.element,m=Vy(h,s);e.execute("link",m,u.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(u.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(u,"cancel",()=>{this._closeFormView()}),u.keystrokes.set("Esc",(h,m)=>{this._closeFormView(),m()}),u}_createToolbarLinkButton(){const e=this.editor,i=e.commands.get("link");e.ui.componentFactory.add("link",()=>{const s=this._createButton(qn);return s.set({tooltip:!0,isToggleable:!0}),s.bind("isOn").to(i,"value",u=>!!u),s}),e.ui.componentFactory.add("menuBar:link",()=>this._createButton(Ns))}_createButton(e){const i=this.editor,s=i.locale,u=i.commands.get("link"),h=new e(i.locale),m=s.t;return h.set({label:m("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:x0}),h.bind("isEnabled").to(u,"isEnabled"),this.listenTo(h,"execute",()=>this._showUI(!0)),h}_enableBalloonActivators(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(x0,(s,u)=>{u(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,i)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),i())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,i)=>{this._isUIVisible&&(this._hideUI(),i())}),Bn({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,i=e.editing.view.document;let s=this._getSelectedLinkElement(),u=m();const h=()=>{const b=this._getSelectedLinkElement(),_=m();s&&!b||!s&&_!==u?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),s=b,u=_};function m(){return i.selection.focus.getAncestors().reverse().find(b=>b.is("element"))}this.listenTo(e.ui,"update",h),this.listenTo(this._balloon,"change:visibleView",h)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,i=this.editor.model,s=e.document;let u;if(i.markers.has(Dl)){const h=Array.from(this.editor.editing.mapper.markerNameToElements(Dl)),m=e.createRange(e.createPositionBefore(h[0]),e.createPositionAfter(h[h.length-1]));u=e.domConverter.viewRangeToDom(m)}else u=()=>{const h=this._getSelectedLinkElement();return h?e.domConverter.mapViewToDom(h):e.domConverter.viewRangeToDom(s.selection.getFirstRange())};return{target:u}}_getSelectedLinkElement(){const e=this.editor.editing.view,i=e.document.selection,s=i.getSelectedElement();if(i.isCollapsed||s&&ki(s))return Hy(i.getFirstPosition());{const u=i.getFirstRange().getTrimmed(),h=Hy(u.start),m=Hy(u.end);return h&&h==m&&e.createRangeIn(h).getTrimmed().isEqual(u)?h:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(i=>{const s=e.document.selection.getFirstRange();if(e.markers.has(Dl))i.updateMarker(Dl,{range:s});else if(s.start.isAtEnd){const u=s.start.getLastMatchingPosition(({item:h})=>!e.schema.isContent(h),{boundaries:s});i.addMarker(Dl,{usingOperation:!1,affectsData:!1,range:i.createRange(u,s.end)})}else i.addMarker(Dl,{usingOperation:!1,affectsData:!1,range:s})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Dl)&&e.change(i=>{i.removeMarker(Dl)})}}function Hy(l){return l.getAncestors().find(e=>{return(i=e).is("attributeElement")&&!!i.getCustomProperty("link");var i})||null}const _4=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class $V extends lt{static get requires(){return[Ec,w4]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,i){return i.textNode&&i.textNode.hasAttribute("linkHref")?d0(i,"linkHref",i.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,i){const s=this.editor.model,u=s.document.selection,h=u.getFirstPosition(),m=u.getLastPosition();let b=i.getJoined(this._expandLinkRange(s,h)||i);b&&(b=b.getJoined(this._expandLinkRange(s,m)||i)),b&&(b.start.isBefore(h)||b.end.isAfter(m))&&e.setSelection(b)}_enablePasteLinking(){const e=this.editor,i=e.model,s=i.document.selection,u=e.plugins.get("ClipboardPipeline"),h=e.commands.get("link");u.on("inputTransformation",(m,b)=>{if(!this.isEnabled||!h.isEnabled||s.isCollapsed||b.method!=="paste"||s.rangeCount>1)return;const _=s.getFirstRange(),S=b.dataTransfer.getData("text/plain");if(!S)return;const T=S.match(_4);T&&T[2]===S&&(i.change(O=>{this._selectEntireLinks(O,_),h.execute(S)}),m.stop())},{priority:"high"})}_enableTypingHandling(){const e=this.editor,i=new VS(e.model,s=>{if(!function(h){return h.length>4&&h[h.length-1]===" "&&h[h.length-2]!==" "}(s))return;const u=A4(s.substr(0,s.length-1));return u?{url:u}:void 0});i.on("matched:data",(s,u)=>{const{batch:h,range:m,url:b}=u;if(!h.isTyping)return;const _=m.end.getShiftedBy(-1),S=_.getShiftedBy(-b.length),T=e.model.createRange(S,_);this._applyAutoLink(b,T)}),i.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,i=e.model,s=e.commands.get("enter");s&&s.on("execute",()=>{const u=i.document.selection.getFirstPosition();if(!u.parent.previousSibling)return;const h=i.createRangeIn(u.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(h)})}_enableShiftEnterHandling(){const e=this.editor,i=e.model,s=e.commands.get("shiftEnter");s&&s.on("execute",()=>{const u=i.document.selection.getFirstPosition(),h=i.createRange(i.createPositionAt(u.parent,0),u.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(h)})}_checkAndApplyAutoLinkOnRange(e){const i=this.editor.model,{text:s,range:u}=qS(e,i),h=A4(s);if(h){const m=i.createRange(u.end.getShiftedBy(-h.length),u.end);this._applyAutoLink(h,m)}}_applyAutoLink(e,i){const s=this.editor.model,u=Vy(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(h,m){return m.schema.checkAttributeInSelection(m.createSelection(h),"linkHref")}(i,s)&&h4(u)&&!function(h){const m=h.start.nodeAfter;return!!m&&m.hasAttribute("linkHref")}(i)&&this._persistAutoLink(u,i)}_persistAutoLink(e,i){const s=this.editor.model,u=this.editor.plugins.get("Delete");s.enqueueChange(h=>{h.setAttribute("linkHref",e,i),s.enqueueChange(()=>{u.requestUndoOnBackspace()})})}}function A4(l){const e=_4.exec(l);return e?e[2]:null}var C4=a(4808),WV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(C4.A,WV),C4.A.locals;class ka{constructor(e,i){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward=i.direction=="forward",this._includeSelf=!!i.includeSelf,this._sameAttributes=nr(i.sameAttributes||[]),this._sameIndent=!!i.sameIndent,this._lowerIndent=!!i.lowerIndent,this._higherIndent=!!i.higherIndent}static first(e,i){return Ii(new this(e,i)[Symbol.iterator]())}*[Symbol.iterator](){const e=[];for(const{node:i}of Mm(this._getStartNode(),this._isForward?"forward":"backward")){const s=i.getAttribute("listIndent");if(s<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=s}else if(s>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(i);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some(u=>i.getAttribute(u)!==this._startElement.getAttribute(u)))break}e.length&&(yield*e,e.length=0),yield i}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*Mm(l,e="forward"){const i=e=="forward",s=[];let u=null;for(;Ri(l);){let h=null;if(u){const m=l.getAttribute("listIndent"),b=u.getAttribute("listIndent");m>b?s[b]=u:m<b?(h=s[m],s.length=m):h=u}yield{node:l,previous:u,previousNodeInList:h},u=l,l=i?l.nextSibling:l.previousSibling}}class GV{constructor(e){this._listHead=e}[Symbol.iterator](){return Mm(this._listHead,"forward")}}var YV=Object.defineProperty,KV=Object.defineProperties,QV=Object.getOwnPropertyDescriptors,x4=Object.getOwnPropertySymbols,JV=Object.prototype.hasOwnProperty,ZV=Object.prototype.propertyIsEnumerable,S4=(l,e,i)=>e in l?YV(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i,Pm=(l,e)=>{for(var i in e||(e={}))JV.call(e,i)&&S4(l,i,e[i]);if(x4)for(var i of x4(e))ZV.call(e,i)&&S4(l,i,e[i]);return l},$y=(l,e)=>KV(l,QV(e));class Sf{static next(){return P()}}function Ri(l){return!!l&&l.is("element")&&l.hasAttribute("listItemId")}function Wy(l,e={}){return[...Du(l,$y(Pm({},e),{direction:"backward"})),...Du(l,$y(Pm({},e),{direction:"forward"}))]}function Du(l,e={}){const i=e.direction=="forward",s=Array.from(new ka(l,$y(Pm({},e),{includeSelf:i,sameIndent:!0,sameAttributes:"listItemId"})));return i?s:s.reverse()}function E4(l,e){const i=new ka(l,Pm({sameIndent:!0,sameAttributes:"listType"},e)),s=new ka(l,Pm({sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"},e));return[...Array.from(i).reverse(),...s]}function Hd(l){return!ka.first(l,{sameIndent:!0,sameAttributes:"listItemId"})}function D4(l){return!ka.first(l,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function Om(l,e={}){l=nr(l);const i=e.withNested!==!1,s=new Set;for(const u of l)for(const h of Wy(u,{higherIndent:i}))s.add(h);return $d(s)}function XV(l){l=nr(l);const e=new Set;for(const i of l)for(const s of E4(i))e.add(s);return $d(e)}function Gy(l,e){const i=Du(l,{direction:"forward"}),s=Sf.next();for(const u of i)e.setAttribute("listItemId",s,u);return i}function Yy(l,e,i){const s={};for(const[h,m]of e.getAttributes())h.startsWith("list")&&(s[h]=m);const u=Du(l,{direction:"forward"});for(const h of u)i.setAttributes(s,h);return u}function Ky(l,e,{expand:i,indentBy:s=1}={}){l=nr(l);const u=i?Om(l):l;for(const h of u){const m=h.getAttribute("listIndent")+s;m<0?S0(h,e):e.setAttribute("listIndent",m,h)}return u}function S0(l,e){l=nr(l);for(const i of l)i.is("element","listItem")&&e.rename(i,"paragraph");for(const i of l)for(const s of i.getAttributeKeys())s.startsWith("list")&&e.removeAttribute(s,i);return l}function Lm(l){if(!l.length)return!1;const e=l[0].getAttribute("listItemId");return!!e&&!l.some(i=>i.getAttribute("listItemId")!=e)}function $d(l){return Array.from(l).filter(e=>e.root.rootName!=="$graveyard").sort((e,i)=>e.index-i.index)}function Bm(l){const e=l.document.selection.getSelectedElement();return e&&l.schema.isObject(e)&&l.schema.isBlock(e)?e:null}function Qy(l,e){return e.checkChild(l.parent,"listItem")&&e.checkChild(l,"$text")&&!e.isObject(l)}function eH(l){return l=="numbered"||l=="customNumbered"}function tH(l,e,i){return Du(e,{direction:"forward"}).pop().index>l.index?Yy(l,e,i):[]}class I4 extends $t{constructor(e,i){super(e),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,i=T4(e.document.selection);e.change(s=>{const u=[];Lm(i)&&!Hd(i[0])?(this._direction=="forward"&&u.push(...Ky(i,s)),u.push(...Gy(i[0],s))):this._direction=="forward"?u.push(...Ky(i,s,{expand:!0})):u.push(...function(h,m){const b=Om(h=nr(h)),_=new Set,S=Math.min(...b.map(O=>O.getAttribute("listIndent"))),T=new Map;for(const O of b)T.set(O,ka.first(O,{lowerIndent:!0}));for(const O of b){if(_.has(O))continue;_.add(O);const U=O.getAttribute("listIndent")-1;if(U<0)S0(O,m);else{if(O.getAttribute("listIndent")==S){const G=tH(O,T.get(O),m);for(const ee of G)_.add(ee);if(G.length)continue}m.setAttribute("listIndent",U,O)}}return $d(_)}(i,s));for(const h of u){if(!h.hasAttribute("listType"))continue;const m=ka.first(h,{sameIndent:!0});m&&s.setAttribute("listType",m.getAttribute("listType"),h)}this._fireAfterExecute(u)})}_fireAfterExecute(e){this.fire("afterExecute",$d(new Set(e)))}_checkEnabled(){let e=T4(this.editor.model.document.selection),i=e[0];if(!i)return!1;if(this._direction=="backward"||Lm(e)&&!Hd(e[0]))return!0;e=Om(e),i=e[0];const s=ka.first(i,{sameIndent:!0});return!!s&&s.getAttribute("listType")==i.getAttribute("listType")}}function T4(l){const e=Array.from(l.getSelectedBlocks()),i=e.findIndex(s=>!Ri(s));return i!=-1&&(e.length=i),e}var nH=Object.defineProperty,rH=Object.defineProperties,iH=Object.getOwnPropertyDescriptors,N4=Object.getOwnPropertySymbols,oH=Object.prototype.hasOwnProperty,sH=Object.prototype.propertyIsEnumerable,M4=(l,e,i)=>e in l?nH(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i,Jy=(l,e)=>{for(var i in e||(e={}))oH.call(e,i)&&M4(l,i,e[i]);if(N4)for(var i of N4(e))sH.call(e,i)&&M4(l,i,e[i]);return l},Zy=(l,e)=>rH(l,iH(e));class E0 extends $t{constructor(e,i,s={}){super(e),this.type=i,this._listWalkerOptions=s.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,s=i.document,u=Bm(i),h=Array.from(s.selection.getSelectedBlocks()).filter(b=>i.schema.checkAttribute(b,"listType")||Qy(b,i.schema)),m=e.forceValue!==void 0?!e.forceValue:this.value;i.change(b=>{if(m){const _=h[h.length-1],S=Du(_,{direction:"forward"}),T=[];S.length>1&&T.push(...Gy(S[1],b)),T.push(...S0(h,b)),T.push(...function(O,U){const G=[];let ee=Number.POSITIVE_INFINITY;for(const{node:ie}of Mm(O.nextSibling,"forward")){const be=ie.getAttribute("listIndent");if(be==0)break;be<ee&&(ee=be);const Se=be-ee;U.setAttribute("listIndent",Se,ie),G.push(ie)}return G}(_,b)),this._fireAfterExecute(T)}else if((u||s.selection.isCollapsed)&&Ri(h[0])){const _=E4(u||h[0],this._listWalkerOptions);for(const S of _)b.setAttributes(Zy(Jy({},e.additionalAttributes),{listType:this.type}),S);this._fireAfterExecute(_)}else{const _=[];for(const S of h)if(S.hasAttribute("listType"))for(const T of Om(S,{withNested:!1}))T.getAttribute("listType")!=this.type&&(b.setAttributes(Zy(Jy({},e.additionalAttributes),{listType:this.type}),T),_.push(T));else!S.is("element","listItem")&&Qy(S,i.schema)&&b.rename(S,"listItem"),b.setAttributes(Zy(Jy({},e.additionalAttributes),{listIndent:0,listItemId:Sf.next(),listType:this.type}),S),_.push(S);this._fireAfterExecute(_)}})}_fireAfterExecute(e){this.fire("afterExecute",$d(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,i=Array.from(e.getSelectedBlocks());if(!i.length)return!1;for(const s of i)if(s.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,i=e.schema,s=e.document.selection,u=Array.from(s.getSelectedBlocks());if(!u.length)return!1;if(this.value)return!0;for(const h of u)if(i.checkAttribute(h,"listType")||Qy(h,i))return!0;return!1}}class P4 extends $t{constructor(e,i){super(e),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const i=this.editor.model,s=i.document.selection,u=[];i.change(h=>{const{firstElement:m,lastElement:b}=this._getMergeSubjectElements(s,e),_=m.getAttribute("listIndent")||0,S=b.getAttribute("listIndent"),T=b.getAttribute("listItemId");if(_!=S){const U=(O=b,Array.from(new ka(O,{direction:"forward",higherIndent:!0})));u.push(...Ky([b,...U],h,{indentBy:_-S,expand:_<S}))}var O;if(e){let U=s;s.isCollapsed&&(U=h.createSelection(h.createRange(h.createPositionAt(m,"end"),h.createPositionAt(b,0)))),i.deleteContent(U,{doNotResetEntireContent:s.isCollapsed});const G=U.getLastPosition().parent,ee=G.nextSibling;u.push(G),ee&&ee!==b&&ee.getAttribute("listItemId")==T&&u.push(...Yy(ee,G,h))}else u.push(...Yy(b,m,h));this._fireAfterExecute(u)})}_fireAfterExecute(e){this.fire("afterExecute",$d(new Set(e)))}_checkEnabled(){const e=this.editor.model,i=e.document.selection,s=Bm(e);if(i.isCollapsed||s){const u=s||i.getFirstPosition().parent;if(!Ri(u))return!1;const h=this._direction=="backward"?u.previousSibling:u.nextSibling;if(!h||Lm([u,h]))return!1}else{const u=i.getLastPosition(),h=i.getFirstPosition();if(u.parent===h.parent||!Ri(u.parent))return!1}return!0}_getMergeSubjectElements(e,i){const s=Bm(this.editor.model);let u,h;if(e.isCollapsed||s){const m=s||e.getFirstPosition().parent,b=Hd(m);this._direction=="backward"?(h=m,u=b&&!i?ka.first(m,{sameIndent:!0,lowerIndent:!0}):m.previousSibling):(u=m,h=m.nextSibling)}else u=e.getFirstPosition().parent,h=e.getLastPosition().parent;return{firstElement:u,lastElement:h}}}class O4 extends $t{constructor(e,i){super(e),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(e=>{const i=Gy(this._getStartBlock(),e);this._fireAfterExecute(i)})}_fireAfterExecute(e){this.fire("afterExecute",$d(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,i=this._getStartBlock();return e.isCollapsed&&Ri(i)&&!Hd(i)}_getStartBlock(){const e=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?e:e.nextSibling}}class aH extends lt{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(e){return XV(e)}isFirstBlockOfListItem(e){return Hd(e)}isListItemBlock(e){return Ri(e)}expandListBlocksToCompleteItems(e,i={}){return Om(e,i)}isNumberedListType(e){return eH(e)}}function L4(l){return l.is("element","ol")||l.is("element","ul")}function D0(l){return l.is("element","li")}function lH(l,e,i,s=j4(i,e)){return l.createAttributeElement(B4(i),null,{priority:2*e/100-100,id:s})}function cH(l,e,i){return l.createAttributeElement("li",null,{priority:(2*e+1)/100-100,id:i})}function B4(l){return l=="numbered"||l=="customNumbered"?"ol":"ul"}function j4(l,e){return`list-${l}-${e}`}function $a(l,e){const i=l.nodeBefore;if(Ri(i)){let s=i;for(const{node:u}of Mm(s,"backward"))if(s=u,e.has(s))return;e.set(i,s)}else{const s=l.nodeAfter;Ri(s)&&e.set(s,s)}}function uH(){return(l,e,i)=>{const{writer:s,schema:u}=i;if(!e.modelRange)return;const h=Array.from(e.modelRange.getItems({shallow:!0})).filter(O=>u.checkAttribute(O,"listItemId"));if(!h.length)return;const m=Sf.next(),b=function(O){let U=0,G=O.parent;for(;G;){if(D0(G))U++;else{const ee=G.previousSibling;ee&&D0(ee)&&U++}G=G.parent}return U}(e.viewItem);let _=e.viewItem.parent&&e.viewItem.parent.is("element","ol")?"numbered":"bulleted";const S=h[0].getAttribute("listType");S&&(_=S);const T={listItemId:m,listIndent:b,listType:_};for(const O of h)O.hasAttribute("listItemId")||s.setAttributes(T,O);h.length>1&&h[1].getAttribute("listItemId")!=T.listItemId&&i.keepEmptyElement(h[0])}}function R4(){return(l,e,i)=>{if(!i.consumable.test(e.viewItem,{name:!0}))return;const s=new Ac(e.viewItem.document);for(const u of Array.from(e.viewItem.getChildren()))D0(u)||L4(u)||s.remove(u)}}function F4(l,e,i,{dataPipeline:s}={}){const u=function(h){return(m,b)=>{const _=[];for(const S of h)m.hasAttribute(S)&&_.push(`attribute:${S}`);return!!_.every(S=>b.test(m,S)!==!1)&&(_.forEach(S=>b.consume(m,S)),!0)}}(l);return(h,m,b)=>{const{writer:_,mapper:S,consumable:T}=b,O=m.item;if(!l.includes(m.attributeKey)||!u(O,T))return;const U=function(ee,ie,be){const Se=be.createRangeOn(ee);return ie.toViewRange(Se).getTrimmed().end.nodeBefore}(O,S,i);U4(U,_,S),function(ee,ie){let be=ee.parent;for(;be.is("attributeElement")&&["ul","ol","li"].includes(be.name);){const Se=be.parent;ie.unwrap(ie.createRangeOn(ee),be),be=Se}}(U,_);const G=function(ee,ie,be,Se,{dataPipeline:Le}){let et=Se.createRangeOn(ie);if(!Hd(ee))return et;for(const ft of be){if(ft.scope!="itemMarker")continue;const Mt=ft.createElement(Se,ee,{dataPipeline:Le});if(!Mt||(Se.setCustomProperty("listItemMarker",!0,Mt),ft.canInjectMarkerIntoElement&&ft.canInjectMarkerIntoElement(ee)?Se.insert(Se.createPositionAt(ie,0),Mt):(Se.insert(et.start,Mt),et=Se.createRange(Se.createPositionBefore(Mt),Se.createPositionAfter(ie))),!ft.createWrapperElement||!ft.canWrapElement))continue;const nn=ft.createWrapperElement(Se,ee,{dataPipeline:Le});Se.setCustomProperty("listItemWrapper",!0,nn),ft.canWrapElement(ee)?et=Se.wrap(et,nn):(et=Se.wrap(Se.createRangeOn(Mt),nn),et=Se.createRange(et.start,Se.createPositionAfter(ie)))}return et}(O,U,e,_,{dataPipeline:s});(function(ee,ie,be,Se){if(!ee.hasAttribute("listIndent"))return;const Le=ee.getAttribute("listIndent");let et=ee;for(let ft=Le;ft>=0;ft--){const Mt=cH(Se,ft,et.getAttribute("listItemId")),nn=lH(Se,ft,et.getAttribute("listType"));for(const gn of be)gn.scope!="list"&&gn.scope!="item"||!et.hasAttribute(gn.attributeName)||gn.setAttributeOnDowncast(Se,et.getAttribute(gn.attributeName),gn.scope=="list"?nn:Mt);if(ie=Se.wrap(ie,Mt),ie=Se.wrap(ie,nn),ft==0||(et=ka.first(et,{lowerIndent:!0}),!et))break}})(O,G,e,_)}}function z4(l,{dataPipeline:e}={}){return(i,{writer:s})=>{if(!q4(i,l))return null;if(!e)return s.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const u=s.createContainerElement("p");return s.setCustomProperty("dataPipeline:transparentRendering",!0,u),u}}function U4(l,e,i){for(;l.parent.is("attributeElement")&&l.parent.getCustomProperty("listItemWrapper");)e.unwrap(e.createRangeOn(l),l.parent);const s=[];u(e.createPositionBefore(l).getWalker({direction:"backward"})),u(e.createRangeIn(l).getWalker());for(const h of s)e.remove(h);function u(h){for(const{item:m}of h){if(m.is("element")&&i.toModelElement(m))break;m.is("element")&&m.getCustomProperty("listItemMarker")&&s.push(m)}}}function q4(l,e,i=Wy(l)){if(!Ri(l))return!1;for(const s of l.getAttributeKeys())if(!s.startsWith("selection:")&&!e.includes(s))return!1;return i.length<2}var V4=a(1232),dH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(V4.A,dH),V4.A.locals;var H4=a(6903),hH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(H4.A,hH),H4.A.locals;const I0=["listType","listIndent","listItemId"];class fH extends lt{constructor(e){super(e),this._downcastStrategies=[],e.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get requires(){return[h0,Ec,aH,ga]}init(){const e=this.editor,i=e.model,s=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new N("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});i.schema.register("$listItem",{allowAttributes:I0}),s?(i.schema.extend("$container",{allowAttributesOf:"$listItem"}),i.schema.extend("$block",{allowAttributesOf:"$listItem"}),i.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):i.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const u of I0)i.schema.setAttributeProperties(u,{copyOnReplace:!0});e.commands.add("numberedList",new E0(e,"numbered")),e.commands.add("bulletedList",new E0(e,"bulleted")),e.commands.add("customNumberedList",new E0(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new E0(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new I4(e,"forward")),e.commands.add("outdentList",new I4(e,"backward")),e.commands.add("splitListItemBefore",new O4(e,"before")),e.commands.add("splitListItemAfter",new O4(e,"after")),s&&(e.commands.add("mergeListItemBackward",new P4(e,"backward")),e.commands.add("mergeListItemForward",new P4(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const e=this.editor.commands,i=e.get("indent"),s=e.get("outdent");i&&i.registerChildCommand(e.get("indentList"),{priority:"high"}),s&&s.registerChildCommand(e.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...I0,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,i=e.commands.get("mergeListItemBackward"),s=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(u,h)=>{const m=e.model.document.selection;Bm(e.model)||e.model.change(()=>{const b=m.getFirstPosition();if(m.isCollapsed&&h.direction=="backward"){if(!b.isAtStart)return;const _=b.parent;if(!Ri(_))return;if(ka.first(_,{sameAttributes:"listType",sameIndent:!0})||_.getAttribute("listIndent")!==0){if(!i||!i.isEnabled)return;i.execute({shouldMergeOnBlocksContentLevel:$4(e.model,"backward")})}else D4(_)||e.execute("splitListItemAfter"),e.execute("outdentList");h.preventDefault(),u.stop()}else{if(m.isCollapsed&&!m.getLastPosition().isAtEnd||!s||!s.isEnabled)return;s.execute({shouldMergeOnBlocksContentLevel:$4(e.model,"forward")}),h.preventDefault(),u.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,i=e.model,s=e.commands,u=s.get("enter");this.listenTo(e.editing.view.document,"enter",(h,m)=>{const b=i.document,_=b.selection.getFirstPosition().parent;if(b.selection.isCollapsed&&Ri(_)&&_.isEmpty&&!m.isSoft){const S=Hd(_),T=D4(_);S&&T?(e.execute("outdentList"),m.preventDefault(),h.stop()):S&&!T?(e.execute("splitListItemAfter"),m.preventDefault(),h.stop()):T&&(e.execute("splitListItemBefore"),m.preventDefault(),h.stop())}},{context:"li"}),this.listenTo(u,"afterExecute",()=>{const h=s.get("splitListItemBefore");h.refresh(),h.isEnabled&&Wy(e.model.document.selection.getLastPosition().parent).length===2&&h.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(i,s)=>{const u=s.shiftKey?"outdentList":"indentList";this.editor.commands.get(u).isEnabled&&(e.execute(u),s.stopPropagation(),s.preventDefault(),i.stop())},{context:"li"})}_setupConversion(){const e=this.editor,i=e.model,s=this.getListAttributeNames(),u=e.config.get("list.multiBlock"),h=u?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(S,{writer:T})=>T.createElement(h,{listType:""})}).elementToElement({view:"p",model:(S,{writer:T})=>S.parent&&S.parent.is("element","li")?T.createElement(h,{listType:""}):null,converterPriority:"high"}).add(S=>{S.on("element:li",uH()),S.on("element:ul",R4(),{priority:"high"}),S.on("element:ol",R4(),{priority:"high"})}),u||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:h,view:z4(s),converterPriority:"high"}).add(S=>{var T;S.on("attribute",F4(s,this._downcastStrategies,i)),S.on("remove",(T=i.schema,(O,U,G)=>{const{writer:ee,mapper:ie}=G,be=O.name.split(":")[1];if(!T.checkAttribute(be,"listItemId"))return;const Se=ie.toViewPosition(U.position),Le=U.position.getShiftedBy(U.length),et=ie.toViewPosition(Le,{isPhantom:!0}),ft=ee.createRange(Se,et).getTrimmed().end.nodeBefore;ft&&U4(ft,ee,ie)}))}),e.conversion.for("dataDowncast").elementToElement({model:h,view:z4(s,{dataPipeline:!0}),converterPriority:"high"}).add(S=>{S.on("attribute",F4(s,this._downcastStrategies,i,{dataPipeline:!0}))});const m=(b=this._downcastStrategies,_=e.editing.view,(S,T)=>{if(T.modelPosition.offset>0)return;const O=T.modelPosition.parent;if(!Ri(O)||!b.some(be=>be.scope=="itemMarker"&&be.canInjectMarkerIntoElement&&be.canInjectMarkerIntoElement(O)))return;const U=T.mapper.toViewElement(O),G=_.createRangeIn(U),ee=G.getWalker();let ie=G.start;for(const{item:be}of ee){if(be.is("element")&&T.mapper.toModelElement(be)||be.is("$textProxy"))break;be.is("element")&&be.getCustomProperty("listItemMarker")&&(ie=_.createPositionAfter(be),ee.skip(({previousPosition:Se})=>!Se.isEqual(ie)))}T.viewPosition=ie});var b,_;e.editing.mapper.on("modelToViewPosition",m),e.data.mapper.on("modelToViewPosition",m),this.listenTo(i.document,"change:data",function(S,T,O,U){return()=>{const be=S.document.differ.getChanges(),Se=[],Le=new Map,et=new Set;for(const ft of be)if(ft.type=="insert"&&ft.name!="$text")$a(ft.position,Le),ft.attributes.has("listItemId")?et.add(ft.position.nodeAfter):$a(ft.position.getShiftedBy(ft.length),Le);else if(ft.type=="remove"&&ft.attributes.has("listItemId"))$a(ft.position,Le);else if(ft.type=="attribute"){const Mt=ft.range.start.nodeAfter;O.includes(ft.attributeKey)?($a(ft.range.start,Le),ft.attributeNewValue===null?($a(ft.range.start.getShiftedBy(1),Le),ee(Mt)&&Se.push(Mt)):et.add(Mt)):Ri(Mt)&&ee(Mt)&&Se.push(Mt)}for(const ft of Le.values())Se.push(...G(ft,et));for(const ft of new Set(Se))T.reconvertItem(ft)};function G(be,Se){const Le=[],et=new Set,ft=[];for(const{node:Mt,previous:nn}of Mm(be,"forward")){if(et.has(Mt))continue;const gn=Mt.getAttribute("listIndent");nn&&gn<nn.getAttribute("listIndent")&&(ft.length=gn+1),ft[gn]=Object.fromEntries(Array.from(Mt.getAttributes()).filter(([Fi])=>O.includes(Fi)));const wr=Du(Mt,{direction:"forward"});for(const Fi of wr)et.add(Fi),(ee(Fi,wr)||ie(Fi,ft,Se))&&Le.push(Fi)}return Le}function ee(be,Se){const Le=T.mapper.toViewElement(be);if(!Le)return!1;if(U.fire("checkElement",{modelElement:be,viewElement:Le}))return!0;if(!be.is("element","paragraph")&&!be.is("element","listItem"))return!1;const et=q4(be,O,Se);return!(!et||!Le.is("element","p"))||!(et||!Le.is("element","span"))}function ie(be,Se,Le){if(Le.has(be))return!1;const et=T.mapper.toViewElement(be);let ft=Se.length-1;for(let Mt=et.parent;!Mt.is("editableElement");Mt=Mt.parent){const nn=D0(Mt),gn=L4(Mt);if(!gn&&!nn)continue;const wr="checkAttributes:"+(nn?"item":"list");if(U.fire(wr,{viewElement:Mt,modelAttributes:Se[ft]}))break;if(gn&&(ft--,ft<0))return!1}return!0}}(i,e.editing,s,this),{priority:"high"}),this.on("checkAttributes:item",(S,{viewElement:T,modelAttributes:O})=>{T.id!=O.listItemId&&(S.return=!0,S.stop())}),this.on("checkAttributes:list",(S,{viewElement:T,modelAttributes:O})=>{T.name==B4(O.listType)&&T.id==j4(O.listType,O.listIndent)||(S.return=!0,S.stop())})}_setupModelPostFixing(){const e=this.editor.model,i=this.getListAttributeNames();e.document.registerPostFixer(s=>function(u,h,m,b){const _=u.document.differ.getChanges(),S=new Map,T=b.editor.config.get("list.multiBlock");let O=!1;for(const G of _){if(G.type=="insert"&&G.name!="$text"){const ee=G.position.nodeAfter;if(!u.schema.checkAttribute(ee,"listItemId"))for(const ie of Array.from(ee.getAttributeKeys()))m.includes(ie)&&(h.removeAttribute(ie,ee),O=!0);$a(G.position,S),G.attributes.has("listItemId")||$a(G.position.getShiftedBy(G.length),S);for(const{item:ie,previousPosition:be}of u.createRangeIn(ee))Ri(ie)&&$a(be,S)}else G.type=="remove"?$a(G.position,S):G.type=="attribute"&&m.includes(G.attributeKey)&&($a(G.range.start,S),G.attributeNewValue===null&&$a(G.range.start.getShiftedBy(1),S));if(!T&&G.type=="attribute"&&I0.includes(G.attributeKey)){const ee=G.range.start.nodeAfter;G.attributeNewValue===null&&ee&&ee.is("element","listItem")?(h.rename(ee,"paragraph"),O=!0):G.attributeOldValue===null&&ee&&ee.is("element")&&ee.name!="listItem"&&(h.rename(ee,"listItem"),O=!0)}}const U=new Set;for(const G of S.values())O=b.fire("postFixer",{listNodes:new GV(G),listHead:G,writer:h,seenIds:U})||O;return O}(e,s,i,this)),this.on("postFixer",(s,{listNodes:u,writer:h})=>{s.return=function(m,b){let _=0,S=-1,T=null,O=!1;for(const{node:U}of m){const G=U.getAttribute("listIndent");if(G>_){let ee;T===null?(T=G-_,ee=_):(T>G&&(T=G),ee=G-T),ee>S+1&&(ee=S+1),b.setAttribute("listIndent",ee,U),O=!0,S=ee}else T=null,_=G+1,S=G}return O}(u,h)||s.return},{priority:"high"}),this.on("postFixer",(s,{listNodes:u,writer:h,seenIds:m})=>{s.return=function(b,_,S){const T=new Set;let O=!1;for(const{node:U}of b){if(T.has(U))continue;let G=U.getAttribute("listType"),ee=U.getAttribute("listItemId");if(_.has(ee)&&(ee=Sf.next()),_.add(ee),U.is("element","listItem"))U.getAttribute("listItemId")!=ee&&(S.setAttribute("listItemId",ee,U),O=!0);else for(const ie of Du(U,{direction:"forward"}))T.add(ie),ie.getAttribute("listType")!=G&&(ee=Sf.next(),G=ie.getAttribute("listType")),ie.getAttribute("listItemId")!=ee&&(S.setAttribute("listItemId",ee,ie),O=!0)}return O}(u,m,h)||s.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,i=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",function(s){return(u,[h,m])=>{const b=h.is("documentFragment")?Array.from(h.getChildren()):[h];if(!b.length)return;const _=(m?s.createSelection(m):s.document.selection).getFirstPosition();let S;if(Ri(_.parent))S=_.parent;else{if(!Ri(_.nodeBefore))return;S=_.nodeBefore}s.change(T=>{const O=S.getAttribute("listType"),U=S.getAttribute("listIndent"),G=b[0].getAttribute("listIndent")||0,ee=Math.max(U-G,0);for(const ie of b){const be=Ri(ie);S.is("element","listItem")&&ie.is("element","paragraph")&&T.rename(ie,"listItem"),T.setAttributes({listIndent:(be?ie.getAttribute("listIndent"):0)+ee,listItemId:be?ie.getAttribute("listItemId"):Sf.next(),listType:O},ie)}})}}(e),{priority:"high"}),this.listenTo(i,"outputTransformation",(s,u)=>{e.change(h=>{const m=Array.from(u.content.getChildren()),b=m[m.length-1];if(m.length>1&&b.is("element")&&b.isEmpty&&m.slice(0,-1).every(Ri)&&h.remove(b),u.method=="copy"||u.method=="cut"){const _=Array.from(u.content.getChildren());Lm(_)&&S0(_,h)}})})}_setupAccessibilityIntegration(){const e=this.editor,i=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:i("Keystrokes that can be used in a list"),keystrokes:[{label:i("Increase list item indent"),keystroke:"Tab"},{label:i("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function $4(l,e){const i=l.document.selection;if(!i.isCollapsed)return!Bm(l);if(e==="forward")return!0;const s=i.getFirstPosition().parent,u=s.previousSibling;return!l.schema.isObject(u)&&(!!u.isEmpty||Lm([s,u]))}function W4(l,e,i,s){l.ui.componentFactory.add(e,()=>{const u=G4(qn,l,e,i,s);return u.set({tooltip:!0,isToggleable:!0}),u}),l.ui.componentFactory.add(`menuBar:${e}`,()=>G4(Ns,l,e,i,s))}function G4(l,e,i,s,u){const h=e.commands.get(i),m=new l(e.locale);return m.set({label:s,icon:u}),m.bind("isOn","isEnabled").to(h,"value","isEnabled"),m.on("execute",()=>{e.execute(i),e.editing.view.focus()}),m}class pH extends lt{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||W4(this.editor,"numberedList",e("Numbered List"),dn.numberedList),this.editor.ui.componentFactory.has("bulletedList")||W4(this.editor,"bulletedList",e("Bulleted List"),dn.bulletedList)}}class mH extends lt{static get requires(){return[fH,pH]}static get pluginName(){return"List"}}const gH=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:l,typeAttribute:e,listType:i}of gH);var Y4=a(9968),bH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(Y4.A,bH),Y4.A.locals;var K4=a(7141),kH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(K4.A,kH),K4.A.locals,ja("Ctrl+Enter");var Q4=a(8991),wH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(Q4.A,wH),Q4.A.locals,ja("Ctrl+Enter");function J4(l,e){const i=(s,u,h)=>{if(!h.consumable.consume(u.item,s.name))return;const m=u.attributeNewValue,b=h.writer,_=h.mapper.toViewElement(u.item),S=[..._.getChildren()].find(O=>O.getCustomProperty("media-content"));b.remove(S);const T=l.getMediaViewElement(b,m,e);b.insert(b.createPositionAt(_,0),T)};return s=>{s.on("attribute:url:media",i)}}function Z4(l,e,i,s){return l.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(l,i,s),l.createSlot()])}function X4(l){const e=l.getSelectedElement();return e&&e.is("element","media")?e:null}function eD(l,e,i,s){l.change(u=>{const h=u.createElement("media",{url:e});l.insertObject(h,i,null,{setSelection:"on",findOptimalPosition:s?"auto":void 0})})}class yH extends $t{refresh(){const e=this.editor.model,i=e.document.selection,s=X4(i);this.value=s?s.getAttribute("url"):void 0,this.isEnabled=function(u){const h=u.getSelectedElement();return!!h&&h.name==="media"}(i)||function(u,h){let b=n3(u,h).start.parent;return b.isEmpty&&!h.schema.isLimit(b)&&(b=b.parent),h.schema.checkChild(b,"media")}(i,e)}execute(e){const i=this.editor.model,s=i.document.selection,u=X4(s);u?i.change(h=>{h.setAttribute("url",e,u)}):eD(i,e,s,!0)}}class vH{constructor(e,i){const s=i.providers,u=i.extraProviders||[],h=new Set(i.removeProviders),m=s.concat(u).filter(b=>{const _=b.name;return _?!h.has(_):(j("media-embed-no-provider-name",{provider:b}),!1)});this.locale=e,this.providerDefinitions=m}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,i,s){return this._getMedia(i).getViewElement(e,s)}_getMedia(e){if(!e)return new tD(this.locale);e=e.trim();for(const i of this.providerDefinitions){const s=i.html,u=nr(i.url);for(const h of u){const m=this._getUrlMatches(e,h);if(m)return new tD(this.locale,e,m,s)}}return null}_getUrlMatches(e,i){let s=e.match(i);if(s)return s;let u=e.replace(/^https?:\/\//,"");return s=u.match(i),s||(u=u.replace(/^www\./,""),s=u.match(i),s||null)}}class tD{constructor(e,i,s,u){this.url=this._getValidUrl(i),this._locale=e,this._match=s,this._previewRenderer=u}getViewElement(e,i){const s={};let u;if(i.renderForEditingView||i.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(s["data-oembed-url"]=this.url),i.renderForEditingView&&(s.class="ck-media__wrapper");const h=this._getPreviewHtml(i);u=e.createRawElement("div",s,(m,b)=>{b.setContentOf(m,h)})}else this.url&&(s.url=this.url),u=e.createEmptyElement(i.elementName,s);return e.setCustomProperty("media-content",!0,u),u}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new Cc,i=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new I({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":i("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var nD=a(7048),_H={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(nD.A,_H),nD.A.locals;class T0 extends lt{constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:i=>{const s=i[1],u=i[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${s}${u?`?start=${u}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new vH(e.locale,e.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const e=this.editor,i=e.model.schema,s=e.t,u=e.conversion,h=e.config.get("mediaEmbed.previewsInData"),m=e.config.get("mediaEmbed.elementName"),b=this.registry;e.commands.add("mediaEmbed",new yH(e)),i.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),u.for("dataDowncast").elementToStructure({model:"media",view:(_,{writer:S})=>{const T=_.getAttribute("url");return Z4(S,b,T,{elementName:m,renderMediaPreview:!!T&&h})}}),u.for("dataDowncast").add(J4(b,{elementName:m,renderMediaPreview:h})),u.for("editingDowncast").elementToStructure({model:"media",view:(_,{writer:S})=>{const T=_.getAttribute("url");return function(O,U,G){return U.setCustomProperty("media",!0,O),Ey(O,U,{label:G})}(Z4(S,b,T,{elementName:m,renderForEditingView:!0}),S,s("media widget"))}}),u.for("editingDowncast").add(J4(b,{elementName:m,renderForEditingView:!0})),u.for("upcast").elementToElement({view:_=>["oembed",m].includes(_.name)&&_.getAttribute("url")?{name:!0}:null,model:(_,{writer:S})=>{const T=_.getAttribute("url");return b.hasMedia(T)?S.createElement("media",{url:T}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(_,{writer:S})=>{const T=_.getAttribute("data-oembed-url");return b.hasMedia(T)?S.createElement("media",{url:T}):null}}).add(_=>{_.on("element:figure",(S,T,O)=>{if(!O.consumable.consume(T.viewItem,{name:!0,classes:"media"}))return;const{modelRange:U,modelCursor:G}=O.convertChildren(T.viewItem,T.modelCursor);T.modelRange=U,T.modelCursor=G,Ii(U.getItems())||O.consumable.revert(T.viewItem,{name:!0,classes:"media"})})})}}const AH=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class CH extends lt{constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[v3,Ec,S3]}static get pluginName(){return"AutoMediaEmbed"}init(){const e=this.editor,i=e.model.document,s=e.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",()=>{const u=i.selection.getFirstRange(),h=oo.fromPosition(u.start);h.stickiness="toPrevious";const m=oo.fromPosition(u.end);m.stickiness="toNext",i.once("change:data",()=>{this._embedMediaBetweenPositions(h,m),h.detach(),m.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(f.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,i){const s=this.editor,u=s.plugins.get(T0).registry,h=new Is(e,i),m=h.getWalker({ignoreElementEnd:!0});let b="";for(const _ of m)_.item.is("$textProxy")&&(b+=_.item.data);if(b=b.trim(),!b.match(AH)||!u.hasMedia(b))return void h.detach();s.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=oo.fromPosition(e),this._timeoutId=f.window.setTimeout(()=>{s.model.change(_=>{this._timeoutId=null,_.remove(h),h.detach();let S=null;this._positionToInsert.root.rootName!=="$graveyard"&&(S=this._positionToInsert),eD(s.model,b,S,!1),this._positionToInsert.detach(),this._positionToInsert=null}),s.plugins.get(Ec).requestUndoOnBackspace()},100)):h.detach()}}var rD=a(5651),xH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(rD.A,xH),rD.A.locals;class SH extends Nt{constructor(e,i){super(i);const s=i.t;this.focusTracker=new Ti,this.keystrokes=new Zi,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(s("Save"),dn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(s("Cancel"),dn.cancel,"ck-button-cancel","cancel"),this._focusables=new Ro,this._focusCycler=new ma({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),Cn({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element);const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,i=new Jb(this.locale,e0),s=i.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),i.label=e("Media URL"),i.infoText=this._urlInputViewInfoDefault,s.on("input",()=>{i.infoText=s.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=s.element.value.trim()}),i}_createButton(e,i,s,u){const h=new qn(this.locale);return h.set({label:e,icon:i,tooltip:!0}),h.extendTemplate({attributes:{class:s}}),u&&h.delegate("execute").to(this,u),h}}class EH extends lt{static get requires(){return[T0]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,i=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",s=>{const u=xc(s);return this._setUpDropdown(u,i),u})}_setUpDropdown(e,i){const s=this.editor,u=s.t,h=e.buttonView,m=s.plugins.get(T0).registry;e.once("change:isOpen",()=>{const b=new(Pn(SH))(function(_,S){return[T=>{if(!T.url.length)return _("The URL must not be empty.")},T=>{if(!S.hasMedia(T.url))return _("This media URL is not supported.")}]}(s.t,m),s.locale);e.panelView.children.add(b),h.on("open",()=>{b.disableCssTransitions(),b.url=i.value||"",b.urlInputView.fieldView.select(),b.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{b.isValid()&&(s.execute("mediaEmbed",b.url),s.editing.view.focus())}),e.on("change:isOpen",()=>b.resetFormStatus()),e.on("cancel",()=>{s.editing.view.focus()}),b.delegate("submit","cancel").to(e),b.urlInputView.fieldView.bind("value").to(i,"value"),b.urlInputView.on("change:errorText",()=>{s.ui.update()}),b.urlInputView.bind("isEnabled").to(i,"isEnabled")}),e.bind("isEnabled").to(i),h.set({label:u("Insert media"),icon:'<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',tooltip:!0})}}var iD=a(70),DH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(iD.A,DH),iD.A.locals;function oD(l){return l!==void 0&&l.endsWith("px")}function Ef(l){return l.toFixed(2).replace(/\.?0+$/,"")+"px"}var IH=Object.defineProperty,TH=Object.defineProperties,NH=Object.getOwnPropertyDescriptors,sD=Object.getOwnPropertySymbols,MH=Object.prototype.hasOwnProperty,PH=Object.prototype.propertyIsEnumerable,aD=(l,e,i)=>e in l?IH(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i,OH=(l,e)=>{for(var i in e||(e={}))MH.call(e,i)&&aD(l,i,e[i]);if(sD)for(var i of sD(e))PH.call(e,i)&&aD(l,i,e[i]);return l};function LH(l,e,i){if(!l.childCount)return;const s=new Ac(l.document),u=function(_,S){const T=S.createRangeIn(_),O=[],U=new Set;for(const G of T.getItems()){if(!G.is("element")||!G.name.match(/^(p|h\d+|li|div)$/))continue;let ee=VH(G);if(ee===void 0||parseFloat(ee)!=0||Array.from(G.getClassNames()).find(ie=>ie.startsWith("MsoList"))||(ee=void 0),G.hasStyle("mso-list")||ee!==void 0&&U.has(ee)){const ie=UH(G);O.push({element:G,id:ie.id,order:ie.order,indent:ie.indent,marginLeft:ee}),ee!==void 0&&U.add(ee)}else U.clear()}return O}(l,s);if(!u.length)return;const h={},m=[];for(const _ of u)if(_.indent!==void 0){BH(_)||(m.length=0);const S=`${_.id}:${_.indent}`,T=Math.min(_.indent-1,m.length);if(T<m.length&&m[T].id!==_.id&&(m.length=T),T<m.length-1)m.length=T+1;else{const U=RH(_,e);if(T>m.length-1||m[T].listElement.name!=U.type){T==0&&U.type=="ol"&&_.id!==void 0&&h[S]&&(U.startIndex=h[S]);const G=zH(U,s,i);if(oD(_.marginLeft)&&(T==0||oD(m[T-1].marginLeft))){let ee=_.marginLeft;T>0&&(ee=Ef(parseFloat(ee)-parseFloat(m[T-1].marginLeft))),s.setStyle("padding-left",ee,G)}if(m.length==0){const ee=_.element.parent,ie=ee.getChildIndex(_.element)+1;s.insertChild(ie,G,ee)}else{const ee=m[T-1].listItemElements;s.appendChild(G,ee[ee.length-1])}m[T]=(b=OH({},_),TH(b,NH({listElement:G,listItemElements:[]}))),T==0&&_.id!==void 0&&(h[S]=U.startIndex||1)}}const O=_.element.name=="li"?_.element:s.createElement("li");s.appendChild(O,m[T].listElement),m[T].listItemElements.push(O),T==0&&_.id!==void 0&&h[S]++,_.element!=O&&s.appendChild(_.element,O),qH(_.element,s),s.removeStyle("text-indent",_.element),s.removeStyle("margin-left",_.element)}else{const S=m.find(T=>T.marginLeft==_.marginLeft);if(S){const T=S.listItemElements;s.appendChild(_.element,T[T.length-1]),s.removeStyle("margin-left",_.element)}else m.length=0}var b}function BH(l){const e=l.element.previousSibling;return jH(e||l.element.parent)}function jH(l){return l.is("element","ol")||l.is("element","ul")}function RH(l,e){const i=new RegExp(`@list l${l.id}:level${l.indent}\\s*({[^}]*)`,"gi"),s=/mso-level-number-format:([^;]{0,100});/gi,u=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,h=new RegExp(`@list\\s+l${l.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),m=new RegExp(`@list l${l.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),b=h.exec(e),_=m.exec(e),S=b&&!_,T=i.exec(e);let O="decimal",U="ol",G=null;if(T&&T[1]){const ee=s.exec(T[1]);if(ee&&ee[1]&&(O=ee[1].trim(),U=O!=="bullet"&&O!=="image"?"ol":"ul"),O==="bullet"){const ie=function(be){if(be.name=="li"&&be.parent.name=="ul"&&be.parent.hasAttribute("type"))return be.parent.getAttribute("type");const Se=function(et){if(et.getChild(0).is("$text"))return null;for(const ft of et.getChildren()){if(!ft.is("element","span"))continue;const Mt=ft.getChild(0);if(Mt)return Mt.is("$text")?Mt:Mt.getChild(0)}return null}(be);if(!Se)return null;const Le=Se._data;return Le==="o"?"circle":Le==="·"?"disc":Le==="§"?"square":null}(l.element);ie&&(O=ie)}else{const ie=u.exec(T[1]);ie&&ie[1]&&(G=parseInt(ie[1]))}S&&(U="ol")}return{type:U,startIndex:G,style:FH(O),isLegalStyleList:S}}function FH(l){if(l.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(l){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return l;default:return null}}function zH(l,e,i){const s=e.createElement(l.type);return l.style&&e.setStyle("list-style-type",l.style,s),l.startIndex&&l.startIndex>1&&e.setAttribute("start",l.startIndex,s),l.isLegalStyleList&&i&&e.addClass("legal-list",s),s}function UH(l){const e=l.getStyle("mso-list");if(e===void 0)return{};const i=e.match(/(^|\s{1,100})l(\d+)/i),s=e.match(/\s{0,100}lfo(\d+)/i),u=e.match(/\s{0,100}level(\d+)/i);return i&&s&&u?{id:i[2],order:s[1],indent:parseInt(u[1])}:{indent:1}}function qH(l,e){const i=new ro({name:"span",styles:{"mso-list":"Ignore"}}),s=e.createRangeIn(l);for(const u of s)u.type==="elementStart"&&i.match(u.item)&&e.remove(u.item)}function VH(l){const e=l.getStyle("margin-left");return e===void 0||e.endsWith("px")?e:function(i){const s=parseFloat(i);return i.endsWith("pt")?Ef(96*s/72):i.endsWith("pc")?Ef(12*s*96/72):i.endsWith("in")?Ef(96*s):i.endsWith("cm")?Ef(96*s/2.54):i.endsWith("mm")?Ef(s/10*96/2.54):i}(e)}function HH(l,e){if(!l.childCount)return;const i=new Ac(l.document),s=function(h,m){const b=m.createRangeIn(h),_=new ro({name:/v:(.+)/}),S=[];for(const T of b){if(T.type!="elementStart")continue;const O=T.item,U=O.previousSibling,G=U&&U.is("element")?U.name:null,ee=["Chart"],ie=_.match(O),be=O.getAttribute("o:gfxdata"),Se=G==="v:shapetype",Le=be&&ee.some(et=>O.getAttribute("id").includes(et));ie&&be&&!Se&&!Le&&S.push(T.item.getAttribute("id"))}return S}(l,i);(function(h,m,b){const _=b.createRangeIn(m),S=new ro({name:"img"}),T=[];for(const O of _)if(O.item.is("element")&&S.match(O.item)){const U=O.item,G=U.getAttribute("v:shapes")?U.getAttribute("v:shapes").split(" "):[];G.length&&G.every(ee=>h.indexOf(ee)>-1)?T.push(U):U.getAttribute("src")||T.push(U)}for(const O of T)b.remove(O)})(s,l,i),function(h,m,b){const _=b.createRangeIn(m),S=[];for(const U of _)if(U.type=="elementStart"&&U.item.is("element","v:shape")){const G=U.item.getAttribute("id");if(h.includes(G))continue;T(U.item.parent.getChildren(),G)||S.push(U.item)}for(const U of S){const G={src:O(U)};U.hasAttribute("alt")&&(G.alt=U.getAttribute("alt"));const ee=b.createElement("img",G);b.insertChild(U.index+1,ee,U.parent)}function T(U,G){for(const ee of U)if(ee.is("element")&&(ee.name=="img"&&ee.getAttribute("v:shapes")==G||T(ee.getChildren(),G)))return!0;return!1}function O(U){for(const G of U.getChildren())if(G.is("element")&&G.getAttribute("src"))return G.getAttribute("src")}}(s,l,i),function(h,m){const b=m.createRangeIn(h),_=new ro({name:/v:(.+)/}),S=[];for(const T of b)T.type=="elementStart"&&_.match(T.item)&&S.push(T.item);for(const T of S)m.remove(T)}(l,i);const u=function(h,m){const b=m.createRangeIn(h),_=new ro({name:"img"}),S=[];for(const T of b)T.item.is("element")&&_.match(T.item)&&T.item.getAttribute("src").startsWith("file://")&&S.push(T.item);return S}(l,i);u.length&&function(h,m,b){if(h.length===m.length)for(let _=0;_<h.length;_++){const S=`data:${m[_].type};base64,${$H(m[_].hex)}`;b.setAttribute("src",S,h[_])}}(u,function(h){if(!h)return[];const m=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,b=new RegExp("(?:("+m.source+"))([\\da-fA-F\\s]+)\\}","g"),_=h.match(b),S=[];if(_)for(const T of _){let O=!1;T.includes("\\pngblip")?O="image/png":T.includes("\\jpegblip")&&(O="image/jpeg"),O&&S.push({hex:T.replace(m,"").replace(/[^\da-fA-F]/g,""),type:O})}return S}(e),i)}function $H(l){return btoa(l.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const WH=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,GH=/xmlns:o="urn:schemas-microsoft-com/i;class YH{constructor(e,i=!1){this.document=e,this.hasMultiLevelListPlugin=i}isActive(e){return WH.test(e)||GH.test(e)}execute(e){const{body:i,stylesString:s}=e._parsedData;LH(i,s,this.hasMultiLevelListPlugin),HH(i,e.dataTransfer.getData("text/rtf")),function(u){const h=[],m=new Ac(u.document);for(const{item:b}of m.createRangeIn(u))if(b.is("element")){for(const _ of b.getClassNames())/\bmso/gi.exec(_)&&m.removeClass(_,b);for(const _ of b.getStyleNames())/\bmso/gi.exec(_)&&m.removeStyle(_,b);(b.is("element","w:sdt")||b.is("element","w:sdtpr")&&b.isEmpty||b.is("element","o:p")&&b.isEmpty)&&h.push(b)}for(const b of h){const _=b.parent,S=_.getChildIndex(b);m.insertChild(S,b.getChildren(),_),m.remove(b)}}(i),e.content=i}}function lD(l,e,i,{blockElements:s,inlineObjectElements:u}){let h=i.createPositionAt(l,e=="forward"?"after":"before");return h=h.getLastMatchingPosition(({item:m})=>m.is("element")&&!s.includes(m.name)&&!u.includes(m.name),{direction:e}),e=="forward"?h.nodeAfter:h.nodeBefore}function cD(l,e){return!!l&&l.is("element")&&e.includes(l.name)}const KH=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class QH{constructor(e){this.document=e}isActive(e){return KH.test(e)}execute(e){const i=new Ac(this.document),{body:s}=e._parsedData;(function(u,h){for(const m of u.getChildren())if(m.is("element","b")&&m.getStyle("font-weight")==="normal"){const b=u.getChildIndex(m);h.remove(m),h.insertChild(b,m.getChildren(),u)}})(s,i),function(u,h){for(const m of h.createRangeIn(u)){const b=m.item;if(b.is("element","li")){const _=b.getChild(0);_&&_.is("element","p")&&h.unwrapElement(_)}}}(s,i),function(u,h){const m=new Bb(h.document.stylesProcessor),b=new Fb(m,{renderingMode:"data"}),_=b.blockElements,S=b.inlineObjectElements,T=[];for(const O of h.createRangeIn(u)){const U=O.item;if(U.is("element","br")){const G=lD(U,"forward",h,{blockElements:_,inlineObjectElements:S}),ee=lD(U,"backward",h,{blockElements:_,inlineObjectElements:S}),ie=cD(G,_);(cD(ee,_)||ie)&&T.push(U)}}for(const O of T)O.hasClass("Apple-interchange-newline")?h.remove(O):h.replace(O,h.createElement("p"))}(s,i),e.content=s}}const JH=/<google-sheets-html-origin/i;class ZH{constructor(e){this.document=e}isActive(e){return JH.test(e)}execute(e){const i=new Ac(this.document),{body:s}=e._parsedData;(function(u,h){for(const m of u.getChildren())if(m.is("element","google-sheets-html-origin")){const b=u.getChildIndex(m);h.remove(m),h.insertChild(b,m.getChildren(),u)}})(s,i),function(u,h){for(const m of u.getChildren())m.is("element","table")&&m.hasAttribute("xmlns")&&h.removeAttribute("xmlns",m)}(s,i),function(u,h){for(const m of u.getChildren())m.is("element","table")&&m.getStyle("width")==="0px"&&h.removeStyle("width",m)}(s,i),function(u,h){for(const m of Array.from(u.getChildren()))m.is("element","style")&&h.remove(m)}(s,i),e.content=s}}function uD(l){return l.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,i)=>i.length===1?" ":Array(i.length+1).join("  ").substr(0,i.length))}function XH(l,e){const i=new DOMParser,s=function(_){return uD(uD(_)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(_){const S="</body>",T="</html>",O=_.indexOf(S);if(O<0)return _;const U=_.indexOf(T,O+S.length);return _.substring(0,O+S.length)+(U>=0?_.substring(U):"")}(l=(l=l.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),u=i.parseFromString(s,"text/html");(function(_){_.querySelectorAll("span[style*=spacerun]").forEach(S=>{const T=S,O=T.innerText.length||0;T.innerText=Array(O+1).join("  ").substr(0,O)})})(u);const h=u.body.innerHTML,m=function(_,S){const T=new Bb(S),O=new Fb(T,{renderingMode:"data"}),U=_.createDocumentFragment(),G=_.body.childNodes;for(;G.length>0;)U.appendChild(G[0]);return O.domToView(U,{skipComments:!0})}(u,e),b=function(_){const S=[],T=[],O=Array.from(_.getElementsByTagName("style"));for(const U of O)U.sheet&&U.sheet.cssRules&&U.sheet.cssRules.length&&(S.push(U.sheet),T.push(U.innerHTML));return{styles:S,stylesString:T.join(" ")}}(u);return{body:m,bodyString:h,styles:b.styles,stylesString:b.stylesString}}function ri(l,e,i,s,u=1){e!=null&&u!=null&&e>u?s.setAttribute(l,e,i):s.removeAttribute(l,i)}function Wd(l,e,i={}){const s=l.createElement("tableCell",i);return l.insertElement("paragraph",s),l.insert(s,e),s}function Xy(l,e){const i=e.parent.parent,s=parseInt(i.getAttribute("headingColumns")||"0"),{column:u}=l.getCellLocation(e);return!!s&&u<s}function e$(){return l=>{l.on("element:table",(e,i,s)=>{const u=i.viewItem;if(!s.consumable.test(u,{name:!0}))return;const{rows:h,headingRows:m,headingColumns:b}=function(T){let O,U=0;const G=[],ee=[];let ie;for(const be of Array.from(T.getChildren())){if(be.name!=="tbody"&&be.name!=="thead"&&be.name!=="tfoot")continue;be.name!=="thead"||ie||(ie=be);const Se=Array.from(be.getChildren()).filter(Le=>Le.is("element","tr"));for(const Le of Se)if(ie&&be===ie||be.name==="tbody"&&Array.from(Le.getChildren()).length&&Array.from(Le.getChildren()).every(et=>et.is("element","th")))U++,G.push(Le);else{ee.push(Le);const et=t$(Le);(!O||et<O)&&(O=et)}}return{headingRows:U,headingColumns:O||0,rows:[...G,...ee]}}(u),_={};b&&(_.headingColumns=b),m&&(_.headingRows=m);const S=s.writer.createElement("table",_);if(s.safeInsert(S,i.modelCursor)){if(s.consumable.consume(u,{name:!0}),h.forEach(T=>s.convertItem(T,s.writer.createPositionAt(S,"end"))),s.convertChildren(u,s.writer.createPositionAt(S,"end")),S.isEmpty){const T=s.writer.createElement("tableRow");s.writer.insert(T,s.writer.createPositionAt(S,"end")),Wd(s.writer,s.writer.createPositionAt(T,"end"))}s.updateConversionResult(S,i)}})}}function dD(l){return e=>{e.on(`element:${l}`,(i,s,{writer:u})=>{if(!s.modelRange)return;const h=s.modelRange.start.nodeAfter,m=u.createPositionAt(h,0);if(s.viewItem.isEmpty)return void u.insertElement("paragraph",m);const b=Array.from(h.getChildren());if(b.every(_=>_.is("element","$marker"))){const _=u.createElement("paragraph");u.insert(_,u.createPositionAt(h,0));for(const S of b)u.move(u.createRangeOn(S),u.createPositionAt(_,"end"))}},{priority:"low"})}}function t$(l){let e=0,i=0;const s=Array.from(l.getChildren()).filter(u=>u.name==="th"||u.name==="td");for(;i<s.length&&s[i].name==="th";){const u=s[i];e+=parseInt(u.getAttribute("colspan")||"1"),i++}return e}class lr{constructor(e,i={}){this._jumpedToStartRow=!1,this._table=e,this._startRow=i.row!==void 0?i.row:i.startRow||0,this._endRow=i.row!==void 0?i.row:i.endRow,this._startColumn=i.column!==void 0?i.column:i.startColumn||0,this._endColumn=i.column!==void 0?i.column:i.endColumn,this._includeAllSlots=!!i.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let i=null;const s=this._getSpanned();if(s)this._includeAllSlots&&!this._shouldSkipSlot()&&(i=this._formatOutValue(s.cell,s.row,s.column));else{const u=e.getChild(this._cellIndex);if(!u)return this._advanceToNextRow();const h=parseInt(u.getAttribute("colspan")||"1"),m=parseInt(u.getAttribute("rowspan")||"1");(h>1||m>1)&&this._recordSpans(u,m,h),this._shouldSkipSlot()||(i=this._formatOutValue(u)),this._nextCellAtColumn=this._column+h}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,i||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,i=this._row,s=this._column){return{done:!1,value:new n$(this,e,i,s)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),i=this._row<this._startRow,s=this._column<this._startColumn,u=this._endColumn!==void 0&&this._column>this._endColumn;return e||i||s||u}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,i,s){const u={cell:e,row:this._row,column:this._column};for(let h=this._row;h<this._row+i;h++)for(let m=this._column;m<this._column+s;m++)h==this._row&&m==this._column||this._markSpannedCell(h,m,u)}_markSpannedCell(e,i,s){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(i,s)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let i=this._startRow;!this._jumpedToStartRow;i--)e===this._getRowLength(i)&&(this._row=i,this._rowIndex=i,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((i,s)=>i+parseInt(s.getAttribute("colspan")||"1"),0)}}class n${constructor(e,i,s,u){this.cell=i,this.row=e._row,this.column=e._column,this.cellAnchorRow=s,this.cellAnchorColumn=u,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function hD(l,e){return(i,{writer:s})=>{const u=i.getAttribute("headingRows")||0,h=s.createContainerElement("table",null,[]),m=s.createContainerElement("figure",{class:"table"},h);u>0&&s.insert(s.createPositionAt(h,"end"),s.createContainerElement("thead",null,s.createSlot(b=>b.is("element","tableRow")&&b.index<u))),u<l.getRows(i)&&s.insert(s.createPositionAt(h,"end"),s.createContainerElement("tbody",null,s.createSlot(b=>b.is("element","tableRow")&&b.index>=u)));for(const{positionOffset:b,filter:_}of e.additionalSlots)s.insert(s.createPositionAt(h,b),s.createSlot(_));return s.insert(s.createPositionAt(h,"after"),s.createSlot(b=>!b.is("element","tableRow")&&!e.additionalSlots.some(({filter:_})=>_(b)))),e.asWidget?function(b,_){return _.setCustomProperty("table",!0,b),Ey(b,_,{hasSelectionHandle:!0})}(m,s):m}}function fD(l={}){return(e,{writer:i})=>{const s=e.parent,u=s.parent,h=u.getChildIndex(s),m=new lr(u,{row:h}),b=u.getAttribute("headingRows")||0,_=u.getAttribute("headingColumns")||0;let S=null;for(const T of m)if(T.cell==e){const O=T.row<b||T.column<_?"th":"td";S=l.asWidget?t3(i.createEditableElement(O),i):i.createContainerElement(O);break}return S}}function pD(l={}){return(e,{writer:i})=>{if(!e.parent.is("element","tableCell")||!mD(e))return null;if(l.asWidget)return i.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const s=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,s),s}}}function mD(l){return l.parent.childCount==1&&!!l.getAttributeKeys().next().done}class r$ extends $t{refresh(){const e=this.editor.model,i=e.document.selection,s=e.schema;this.isEnabled=function(u,h){const m=u.getFirstPosition().parent,b=m===m.root?m:m.parent;return h.checkChild(b,"table")}(i,s)}execute(e={}){const i=this.editor,s=i.model,u=i.plugins.get("TableUtils"),h=i.config.get("table.defaultHeadings.rows"),m=i.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&h&&(e.headingRows=h),e.headingColumns===void 0&&m&&(e.headingColumns=m),s.change(b=>{const _=u.createTable(b,e);s.insertObject(_,null,null,{findOptimalPosition:"auto"}),b.setSelection(b.createPositionAt(_.getNodeByPath([0,0,0]),0))})}}class gD extends $t{constructor(e,i={}){super(e),this.order=i.order||"below"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,i=e.model.document.selection,s=e.plugins.get("TableUtils"),u=this.order==="above",h=s.getSelectionAffectedTableCells(i),m=s.getRowIndexes(h),b=u?m.first:m.last,_=h[0].findAncestor("table");s.insertRows(_,{at:u?b:b+1,copyStructureFromAbove:!u})}}class bD extends $t{constructor(e,i={}){super(e),this.order=i.order||"right"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,i=e.model.document.selection,s=e.plugins.get("TableUtils"),u=this.order==="left",h=s.getSelectionAffectedTableCells(i),m=s.getColumnIndexes(h),b=u?m.first:m.last,_=h[0].findAncestor("table");s.insertColumns(_,{columns:1,at:u?b:b+1})}}class kD extends $t{constructor(e,i={}){super(e),this.direction=i.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(i,2):e.splitCellVertically(i,2)}}function wD(l,e,i){const{startRow:s,startColumn:u,endRow:h,endColumn:m}=e,b=i.createElement("table"),_=h-s+1;for(let T=0;T<_;T++)i.insertElement("tableRow",b,"end");const S=[...new lr(l,{startRow:s,endRow:h,startColumn:u,endColumn:m,includeAllSlots:!0})];for(const{row:T,column:O,cell:U,isAnchor:G,cellAnchorRow:ee,cellAnchorColumn:ie}of S){const be=T-s,Se=b.getChild(be);if(G){const Le=i.cloneElement(U);i.append(Le,Se),CD(Le,T,O,h,m,i)}else(ee<s||ie<u)&&Wd(i,i.createPositionAt(Se,"end"))}return function(T,O,U,G,ee){const ie=parseInt(O.getAttribute("headingRows")||"0");ie>0&&ri("headingRows",ie-U,T,ee,0);const be=parseInt(O.getAttribute("headingColumns")||"0");be>0&&ri("headingColumns",be-G,T,ee,0)}(b,l,s,u,i),b}function yD(l,e,i=0){const s=[],u=new lr(l,{startRow:i,endRow:e-1});for(const h of u){const{row:m,cellHeight:b}=h;m<e&&e<=m+b-1&&s.push(h)}return s}function vD(l,e,i){const s=l.parent,u=s.parent,h=s.index,m=e-h,b={},_=parseInt(l.getAttribute("rowspan"))-m;_>1&&(b.rowspan=_);const S=parseInt(l.getAttribute("colspan")||"1");S>1&&(b.colspan=S);const T=h+m,O=[...new lr(u,{startRow:h,endRow:T,includeAllSlots:!0})];let U,G=null;for(const ee of O){const{row:ie,column:be,cell:Se}=ee;Se===l&&U===void 0&&(U=be),U!==void 0&&U===be&&ie===T&&(G=Wd(i,ee.getPositionBefore(),b))}return ri("rowspan",m,l,i),G}function _D(l,e){const i=[],s=new lr(l);for(const u of s){const{column:h,cellWidth:m}=u;h<e&&e<=h+m-1&&i.push(u)}return i}function AD(l,e,i,s){const u=i-e,h={},m=parseInt(l.getAttribute("colspan"))-u;m>1&&(h.colspan=m);const b=parseInt(l.getAttribute("rowspan")||"1");b>1&&(h.rowspan=b);const _=Wd(s,s.createPositionAfter(l),h);return ri("colspan",u,l,s),_}function CD(l,e,i,s,u,h){const m=parseInt(l.getAttribute("colspan")||"1"),b=parseInt(l.getAttribute("rowspan")||"1");i+m-1>u&&ri("colspan",u-i+1,l,h,1),e+b-1>s&&ri("rowspan",s-e+1,l,h,1)}function ev(l,e){const i=e.getColumns(l),s=new Array(i).fill(0);for(const{column:h}of new lr(l))s[h]++;const u=s.reduce((h,m,b)=>m?h:[...h,b],[]);if(u.length>0){const h=u[u.length-1];return e.removeColumns(l,{at:h}),!0}return!1}function tv(l,e){const i=[],s=e.getRows(l);for(let u=0;u<s;u++)l.getChild(u).isEmpty&&i.push(u);if(i.length>0){const u=i[i.length-1];return e.removeRows(l,{at:u}),!0}return!1}function nv(l,e){ev(l,e)||tv(l,e)}function xD(l,e){const i=Array.from(new lr(l,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(i.every(({cellHeight:u})=>u===1))return e.lastRow;const s=i[0].cellHeight-1;return e.lastRow+s}function SD(l,e){const i=Array.from(new lr(l,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(i.every(({cellWidth:u})=>u===1))return e.lastColumn;const s=i[0].cellWidth-1;return e.lastColumn+s}class N0 extends $t{constructor(e,i){super(e),this.direction=i.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,i=e.document,s=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(i.selection)[0],u=this.value,h=this.direction;e.change(m=>{const b=h=="right"||h=="down",_=b?s:u,S=b?u:s,T=S.parent;(function(ie,be,Se){ED(ie)||(ED(be)&&Se.remove(Se.createRangeIn(be)),Se.move(Se.createRangeIn(ie),Se.createPositionAt(be,"end"))),Se.remove(ie)})(S,_,m);const O=this.isHorizontal?"colspan":"rowspan",U=parseInt(s.getAttribute(O)||"1"),G=parseInt(u.getAttribute(O)||"1");m.setAttribute(O,U+G,_),m.setSelection(m.createRangeIn(_));const ee=this.editor.plugins.get("TableUtils");nv(T.findAncestor("table"),ee)})}_getMergeableCell(){const e=this.editor.model.document,i=this.editor.plugins.get("TableUtils"),s=i.getTableCellsContainingSelection(e.selection)[0];if(!s)return;const u=this.isHorizontal?function(b,_,S){const T=b.parent,O=T.parent,U=_=="right"?b.nextSibling:b.previousSibling,G=(O.getAttribute("headingColumns")||0)>0;if(!U)return;const ee=_=="right"?b:U,ie=_=="right"?U:b,{column:be}=S.getCellLocation(ee),{column:Se}=S.getCellLocation(ie),Le=parseInt(ee.getAttribute("colspan")||"1"),et=Xy(S,ee),ft=Xy(S,ie);if(!(G&&et!=ft))return be+Le===Se?U:void 0}(s,this.direction,i):function(b,_,S){const T=b.parent,O=T.parent,U=O.getChildIndex(T);if(_=="down"&&U===S.getRows(O)-1||_=="up"&&U===0)return null;const G=parseInt(b.getAttribute("rowspan")||"1"),ee=O.getAttribute("headingRows")||0,ie=_=="down"&&U+G===ee,be=_=="up"&&U===ee;if(ee&&(ie||be))return null;const Se=parseInt(b.getAttribute("rowspan")||"1"),Le=_=="down"?U+Se:U,et=[...new lr(O,{endRow:Le})],ft=et.find(gn=>gn.cell===b),Mt=ft.column,nn=et.find(({row:gn,cellHeight:wr,column:Fi})=>Fi===Mt&&(_=="down"?gn===Le:Le===gn+wr));return nn&&nn.cell?nn.cell:null}(s,this.direction,i);if(!u)return;const h=this.isHorizontal?"rowspan":"colspan",m=parseInt(s.getAttribute(h)||"1");return parseInt(u.getAttribute(h)||"1")===m?u:void 0}}function ED(l){const e=l.getChild(0);return l.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class i$ extends $t{refresh(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection),s=i[0];if(s){const u=s.findAncestor("table"),h=e.getRows(u)-1,m=e.getRowIndexes(i),b=m.first===0&&m.last===h;this.isEnabled=!b}else this.isEnabled=!1}execute(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(e.document.selection),u=i.getRowIndexes(s),h=s[0],m=h.findAncestor("table"),b=i.getCellLocation(h).column;e.change(_=>{const S=u.last-u.first+1;i.removeRows(m,{at:u.first,rows:S});const T=function(O,U,G,ee){const ie=O.getChild(Math.min(U,ee-1));let be=ie.getChild(0),Se=0;for(const Le of ie.getChildren()){if(Se>G)return be;be=Le,Se+=parseInt(Le.getAttribute("colspan")||"1")}return be}(m,u.first,b,i.getRows(m));_.setSelection(_.createPositionAt(T,0))})}}class o$ extends $t{refresh(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection),s=i[0];if(s){const u=s.findAncestor("table"),h=e.getColumns(u),{first:m,last:b}=e.getColumnIndexes(i);this.isEnabled=b-m<h-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[i,s]=function(_,S){const T=S.getSelectionAffectedTableCells(_),O=T[0],U=T.pop(),G=[O,U];return O.isBefore(U)?G:G.reverse()}(this.editor.model.document.selection,e),u=i.parent.parent,h=[...new lr(u)],m={first:h.find(_=>_.cell===i).column,last:h.find(_=>_.cell===s).column},b=function(_,S,T,O){return parseInt(T.getAttribute("colspan")||"1")>1?T:S.previousSibling||T.nextSibling?T.nextSibling||S.previousSibling:O.first?_.reverse().find(({column:G})=>G<O.first).cell:_.reverse().find(({column:G})=>G>O.last).cell}(h,i,s,m);this.editor.model.change(_=>{const S=m.last-m.first+1;e.removeColumns(u,{at:m.first,columns:S}),_.setSelection(_.createPositionAt(b,0))})}}class s$ extends $t{refresh(){const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,s=e.getSelectionAffectedTableCells(i.document.selection),u=s.length>0;this.isEnabled=u,this.value=u&&s.every(h=>this._isInHeading(h,h.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),s=this.editor.model,u=i.getSelectionAffectedTableCells(s.document.selection),h=u[0].findAncestor("table"),{first:m,last:b}=i.getRowIndexes(u),_=this.value?m:b+1,S=h.getAttribute("headingRows")||0;s.change(T=>{if(_){const O=yD(h,_,_>S?S:0);for(const{cell:U}of O)vD(U,_,T)}ri("headingRows",_,h,T,0)})}_isInHeading(e,i){const s=parseInt(i.getAttribute("headingRows")||"0");return!!s&&e.parent.index<s}}class a$ extends $t{refresh(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(e.document.selection),u=s.length>0;this.isEnabled=u,this.value=u&&s.every(h=>Xy(i,h))}execute(e={}){if(e.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),s=this.editor.model,u=i.getSelectionAffectedTableCells(s.document.selection),h=u[0].findAncestor("table"),{first:m,last:b}=i.getColumnIndexes(u),_=this.value?m:b+1;s.change(S=>{if(_){const T=_D(h,_);for(const{cell:O,column:U}of T)AD(O,U,_,S)}ri("headingColumns",_,h,S,0)})}}function l$(l){if(l.is("element","tableColumnGroup"))return l;const e=l.getChildren();return Array.from(e).find(i=>i.is("element","tableColumnGroup"))}function c$(l){const e=l$(l);return e?Array.from(e.getChildren()):[]}class so extends lt{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const i=e.parent,s=i.parent,u=s.getChildIndex(i),h=new lr(s,{row:u});for(const{cell:m,row:b,column:_}of h)if(m===e)return{row:b,column:_}}createTable(e,i){const s=e.createElement("table"),u=i.rows||2,h=i.columns||2;return rv(e,s,0,u,h),i.headingRows&&ri("headingRows",Math.min(i.headingRows,u),s,e,0),i.headingColumns&&ri("headingColumns",Math.min(i.headingColumns,h),s,e,0),s}insertRows(e,i={}){const s=this.editor.model,u=i.at||0,h=i.rows||1,m=i.copyStructureFromAbove!==void 0,b=i.copyStructureFromAbove?u-1:u,_=this.getRows(e),S=this.getColumns(e);if(u>_)throw new N("tableutils-insertrows-insert-out-of-range",this,{options:i});s.change(T=>{const O=e.getAttribute("headingRows")||0;if(O>u&&ri("headingRows",O+h,e,T,0),!m&&(u===0||u===_))return void rv(T,e,u,h,S);const U=m?Math.max(u,b):u,G=new lr(e,{endRow:U}),ee=new Array(S).fill(1);for(const{row:ie,column:be,cellHeight:Se,cellWidth:Le,cell:et}of G){const ft=ie+Se-1,Mt=ie<=b&&b<=ft;ie<u&&u<=ft?(T.setAttribute("rowspan",Se+h,et),ee[be]=-Le):m&&Mt&&(ee[be]=Le)}for(let ie=0;ie<h;ie++){const be=T.createElement("tableRow");T.insert(be,e,u);for(let Se=0;Se<ee.length;Se++){const Le=ee[Se],et=T.createPositionAt(be,"end");Le>0&&Wd(T,et,Le>1?{colspan:Le}:void 0),Se+=Math.abs(Le)-1}}})}insertColumns(e,i={}){const s=this.editor.model,u=i.at||0,h=i.columns||1;s.change(m=>{const b=e.getAttribute("headingColumns");u<b&&m.setAttribute("headingColumns",b+h,e);const _=this.getColumns(e);if(u===0||_===u){for(const T of e.getChildren())T.is("element","tableRow")&&Df(h,m,m.createPositionAt(T,u?"end":0));return}const S=new lr(e,{column:u,includeAllSlots:!0});for(const T of S){const{row:O,cell:U,cellAnchorColumn:G,cellAnchorRow:ee,cellWidth:ie,cellHeight:be}=T;if(G<u){m.setAttribute("colspan",ie+h,U);const Se=ee+be-1;for(let Le=O;Le<=Se;Le++)S.skipRow(Le)}else Df(h,m,T.getPositionBefore())}})}removeRows(e,i){const s=this.editor.model,u=i.rows||1,h=this.getRows(e),m=i.at,b=m+u-1;if(b>h-1)throw new N("tableutils-removerows-row-index-out-of-range",this,{table:e,options:i});s.change(_=>{const S={first:m,last:b},{cellsToMove:T,cellsToTrim:O}=function(U,{first:G,last:ee}){const ie=new Map,be=[];for(const{row:Se,column:Le,cellHeight:et,cell:ft}of new lr(U,{endRow:ee})){const Mt=Se+et-1;if(Se>=G&&Se<=ee&&Mt>ee){const nn=et-(ee-Se+1);ie.set(Le,{cell:ft,rowspan:nn})}if(Se<G&&Mt>=G){let nn;nn=Mt>=ee?ee-G+1:Mt-G+1,be.push({cell:ft,rowspan:et-nn})}}return{cellsToMove:ie,cellsToTrim:be}}(e,S);T.size&&function(U,G,ee,ie){const be=new lr(U,{includeAllSlots:!0,row:G}),Se=[...be],Le=U.getChild(G);let et;for(const{column:ft,cell:Mt,isAnchor:nn}of Se)if(ee.has(ft)){const{cell:gn,rowspan:wr}=ee.get(ft),Fi=et?ie.createPositionAfter(et):ie.createPositionAt(Le,0);ie.move(ie.createRangeOn(gn),Fi),ri("rowspan",wr,gn,ie),et=gn}else nn&&(et=Mt)}(e,b+1,T,_);for(let U=b;U>=m;U--)_.remove(e.getChild(U));for(const{rowspan:U,cell:G}of O)ri("rowspan",U,G,_);(function(U,{first:G,last:ee},ie){const be=U.getAttribute("headingRows")||0;G<be&&ri("headingRows",ee<be?be-(ee-G+1):G,U,ie,0)})(e,S,_),ev(e,this)||tv(e,this)})}removeColumns(e,i){const s=this.editor.model,u=i.at,h=i.columns||1,m=i.at+h-1;s.change(b=>{(function(S,T,O){const U=S.getAttribute("headingColumns")||0;if(U&&T.first<U){const G=Math.min(U-1,T.last)-T.first+1;O.setAttribute("headingColumns",U-G,S)}})(e,{first:u,last:m},b);const _=c$(e);for(let S=m;S>=u;S--){for(const{cell:T,column:O,cellWidth:U}of[...new lr(e)])O<=S&&U>1&&O+U>S?ri("colspan",U-1,T,b):O===S&&b.remove(T);if(_[S]){const T=S===0?_[1]:_[S-1],O=parseFloat(_[S].getAttribute("columnWidth")),U=parseFloat(T.getAttribute("columnWidth"));b.remove(_[S]),b.setAttribute("columnWidth",O+U+"%",T)}}tv(e,this)||ev(e,this)})}splitCellVertically(e,i=2){const s=this.editor.model,u=e.parent.parent,h=parseInt(e.getAttribute("rowspan")||"1"),m=parseInt(e.getAttribute("colspan")||"1");s.change(b=>{if(m>1){const{newCellsSpan:_,updatedSpan:S}=DD(m,i);ri("colspan",S,e,b);const T={};_>1&&(T.colspan=_),h>1&&(T.rowspan=h),Df(m>i?i-1:m-1,b,b.createPositionAfter(e),T)}if(m<i){const _=i-m,S=[...new lr(u)],{column:T}=S.find(({cell:ee})=>ee===e),O=S.filter(({cell:ee,cellWidth:ie,column:be})=>ee!==e&&be===T||be<T&&be+ie>T);for(const{cell:ee,cellWidth:ie}of O)b.setAttribute("colspan",ie+_,ee);const U={};h>1&&(U.rowspan=h),Df(_,b,b.createPositionAfter(e),U);const G=u.getAttribute("headingColumns")||0;G>T&&ri("headingColumns",G+_,u,b)}})}splitCellHorizontally(e,i=2){const s=this.editor.model,u=e.parent,h=u.parent,m=h.getChildIndex(u),b=parseInt(e.getAttribute("rowspan")||"1"),_=parseInt(e.getAttribute("colspan")||"1");s.change(S=>{if(b>1){const T=[...new lr(h,{startRow:m,endRow:m+b-1,includeAllSlots:!0})],{newCellsSpan:O,updatedSpan:U}=DD(b,i);ri("rowspan",U,e,S);const{column:G}=T.find(({cell:ie})=>ie===e),ee={};O>1&&(ee.rowspan=O),_>1&&(ee.colspan=_);for(const ie of T){const{column:be,row:Se}=ie;Se>=m+U&&be===G&&(Se+m+U)%O==0&&Df(1,S,ie.getPositionBefore(),ee)}}if(b<i){const T=i-b,O=[...new lr(h,{startRow:0,endRow:m})];for(const{cell:ee,cellHeight:ie,row:be}of O)if(ee!==e&&be+ie>m){const Se=ie+T;S.setAttribute("rowspan",Se,ee)}const U={};_>1&&(U.colspan=_),rv(S,h,m+1,T,1,U);const G=h.getAttribute("headingRows")||0;G>m&&ri("headingRows",G+T,h,S)}})}getColumns(e){return[...e.getChild(0).getChildren()].filter(i=>i.is("element","tableCell")).reduce((i,s)=>i+parseInt(s.getAttribute("colspan")||"1"),0)}getRows(e){return Array.from(e.getChildren()).reduce((i,s)=>s.is("element","tableRow")?i+1:i,0)}createTableWalker(e,i={}){return new lr(e,i)}getSelectedTableCells(e){const i=[];for(const s of this.sortRanges(e.getRanges())){const u=s.getContainedElement();u&&u.is("element","tableCell")&&i.push(u)}return i}getTableCellsContainingSelection(e){const i=[];for(const s of e.getRanges()){const u=s.start.findAncestor("tableCell");u&&i.push(u)}return i}getSelectionAffectedTableCells(e){const i=this.getSelectedTableCells(e);return i.length?i:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const i=e.map(s=>s.parent.index);return this._getFirstLastIndexesObject(i)}getColumnIndexes(e){const i=e[0].findAncestor("table"),s=[...new lr(i)].filter(u=>e.includes(u.cell)).map(u=>u.column);return this._getFirstLastIndexesObject(s)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const i=new Set,s=new Set;let u=0;for(const m of e){const{row:b,column:_}=this.getCellLocation(m),S=parseInt(m.getAttribute("rowspan"))||1,T=parseInt(m.getAttribute("colspan"))||1;i.add(b),s.add(_),S>1&&i.add(b+S-1),T>1&&s.add(_+T-1),u+=S*T}return function(m,b){const _=Array.from(m.values()),S=Array.from(b.values()),T=Math.max(..._),O=Math.min(..._),U=Math.max(...S),G=Math.min(...S);return(T-O+1)*(U-G+1)}(i,s)==u}sortRanges(e){return Array.from(e).sort(u$)}_getFirstLastIndexesObject(e){const i=e.sort((s,u)=>s-u);return{first:i[0],last:i[i.length-1]}}_areCellInTheSameTableSection(e){const i=e[0].findAncestor("table"),s=this.getRowIndexes(e),u=parseInt(i.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(s,u))return!1;const h=this.getColumnIndexes(e),m=parseInt(i.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(h,m)}_areIndexesInSameSection({first:e,last:i},s){return e<s==i<s}}function rv(l,e,i,s,u,h={}){for(let m=0;m<s;m++){const b=l.createElement("tableRow");l.insert(b,e,i),Df(u,l,l.createPositionAt(b,"end"),h)}}function Df(l,e,i,s={}){for(let u=0;u<l;u++)Wd(e,i,s)}function DD(l,e){if(l<e)return{newCellsSpan:1,updatedSpan:1};const i=Math.floor(l/e);return{newCellsSpan:i,updatedSpan:l-i*e+i}}function u$(l,e){const i=l.start,s=e.start;return i.isBefore(s)?-1:1}class d$ extends $t{refresh(){const e=this.editor.plugins.get(so),i=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(i)}execute(){const e=this.editor.model,i=this.editor.plugins.get(so);e.change(s=>{const u=i.getSelectedTableCells(e.document.selection),h=u.shift(),{mergeWidth:m,mergeHeight:b}=function(_,S,T){let O=0,U=0;for(const Se of S){const{row:Le,column:et}=T.getCellLocation(Se);O=TD(Se,et,O,"colspan"),U=TD(Se,Le,U,"rowspan")}const{row:G,column:ee}=T.getCellLocation(_),ie=O-ee,be=U-G;return{mergeWidth:ie,mergeHeight:be}}(h,u,i);ri("colspan",m,h,s),ri("rowspan",b,h,s);for(const _ of u)h$(_,h,s);nv(h.findAncestor("table"),i),s.setSelection(h,"in")})}}function h$(l,e,i){ID(l)||(ID(e)&&i.remove(i.createRangeIn(e)),i.move(i.createRangeIn(l),i.createPositionAt(e,"end"))),i.remove(l)}function ID(l){const e=l.getChild(0);return l.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function TD(l,e,i,s){const u=parseInt(l.getAttribute(s)||"1");return Math.max(i,e+u)}class f$ extends $t{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),s=i.getSelectionAffectedTableCells(e.document.selection),u=i.getRowIndexes(s),h=s[0].findAncestor("table"),m=[];for(let b=u.first;b<=u.last;b++)for(const _ of h.getChild(b).getChildren())m.push(e.createRangeOn(_));e.change(b=>{b.setSelection(m)})}}class p$ extends $t{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,s=e.getSelectionAffectedTableCells(i.document.selection),u=s[0],h=s.pop(),m=u.findAncestor("table"),b=e.getCellLocation(u),_=e.getCellLocation(h),S=Math.min(b.column,_.column),T=Math.max(b.column,_.column),O=[];for(const U of new lr(m,{startColumn:S,endColumn:T}))O.push(i.createRangeOn(U.cell));i.change(U=>{U.setSelection(O)})}}function m$(l){l.document.registerPostFixer(e=>function(i,s){const u=s.document.differ.getChanges();let h=!1;const m=new Set;for(const b of u){let _=null;b.type=="insert"&&b.name=="table"&&(_=b.position.nodeAfter),b.type!="insert"&&b.type!="remove"||b.name!="tableRow"&&b.name!="tableCell"||(_=b.position.findAncestor("table")),k$(b)&&(_=b.range.start.findAncestor("table")),_&&!m.has(_)&&(h=g$(_,i)||h,h=b$(_,i)||h,m.add(_))}return h}(e,l))}function g$(l,e){let i=!1;const s=function(u){const h=parseInt(u.getAttribute("headingRows")||"0"),m=Array.from(u.getChildren()).reduce((_,S)=>S.is("element","tableRow")?_+1:_,0),b=[];for(const{row:_,cell:S,cellHeight:T}of new lr(u)){if(T<2)continue;const O=_<h?h:m;if(_+T>O){const U=O-_;b.push({cell:S,rowspan:U})}}return b}(l);if(s.length){i=!0;for(const u of s)ri("rowspan",u.rowspan,u.cell,e,1)}return i}function b$(l,e){let i=!1;const s=function(b){const _=new Array(b.childCount).fill(0);for(const{rowIndex:S}of new lr(b,{includeAllSlots:!0}))_[S]++;return _}(l),u=[];for(const[b,_]of s.entries())!_&&l.getChild(b).is("element","tableRow")&&u.push(b);if(u.length){i=!0;for(const b of u.reverse())e.remove(l.getChild(b)),s.splice(b,1)}const h=s.filter((b,_)=>l.getChild(_).is("element","tableRow")),m=h[0];if(!h.every(b=>b===m)){const b=h.reduce((_,S)=>S>_?S:_,0);for(const[_,S]of h.entries()){const T=b-S;if(T){for(let O=0;O<T;O++)Wd(e,e.createPositionAt(l.getChild(_),"end"));i=!0}}}return i}function k$(l){if(l.type!=="attribute")return!1;const e=l.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function w$(l){l.document.registerPostFixer(e=>function(i,s){const u=s.document.differ.getChanges();let h=!1;for(const m of u)m.type=="insert"&&m.name=="table"&&(h=y$(m.position.nodeAfter,i)||h),m.type=="insert"&&m.name=="tableRow"&&(h=ND(m.position.nodeAfter,i)||h),m.type=="insert"&&m.name=="tableCell"&&(h=iv(m.position.nodeAfter,i)||h),m.type!="remove"&&m.type!="insert"||!v$(m)||(h=iv(m.position.parent,i)||h);return h}(e,l))}function y$(l,e){let i=!1;for(const s of l.getChildren())s.is("element","tableRow")&&(i=ND(s,e)||i);return i}function ND(l,e){let i=!1;for(const s of l.getChildren())i=iv(s,e)||i;return i}function iv(l,e){if(l.childCount==0)return e.insertElement("paragraph",l),!0;const i=Array.from(l.getChildren()).filter(s=>s.is("$text"));for(const s of i)e.wrap(e.createRangeOn(s),"paragraph");return!!i.length}function v$(l){return!!l.position.parent.is("element","tableCell")&&(l.type=="insert"&&l.name=="$text"||l.type=="remove")}function _$(l,e){if(!l.is("element","paragraph"))return!1;const i=e.toViewElement(l);return!!i&&mD(l)!==i.is("element","span")}var MD=a(8137),A$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(MD.A,A$),MD.A.locals;class C$ extends lt{constructor(e){super(e),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[so]}init(){const e=this.editor,i=e.model,s=i.schema,u=e.conversion,h=e.plugins.get(so);s.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),s.register("tableRow",{allowIn:"table",isLimit:!0}),s.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),u.for("upcast").add(m=>{m.on("element:figure",(b,_,S)=>{if(!S.consumable.test(_.viewItem,{name:!0,classes:"table"}))return;const T=function(U){for(const G of U.getChildren())if(G.is("element","table"))return G}(_.viewItem);if(!T||!S.consumable.test(T,{name:!0}))return;S.consumable.consume(_.viewItem,{name:!0,classes:"table"});const O=Ii(S.convertItem(T,_.modelCursor).modelRange.getItems());O?(S.convertChildren(_.viewItem,S.writer.createPositionAt(O,"end")),S.updateConversionResult(O,_)):S.consumable.revert(_.viewItem,{name:!0,classes:"table"})})}),u.for("upcast").add(e$()),u.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:hD(h,{asWidget:!0,additionalSlots:this._additionalSlots})}),u.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:hD(h,{additionalSlots:this._additionalSlots})}),u.for("upcast").elementToElement({model:"tableRow",view:"tr"}),u.for("upcast").add(m=>{m.on("element:tr",(b,_)=>{_.viewItem.isEmpty&&_.modelCursor.index==0&&b.stop()},{priority:"high"})}),u.for("downcast").elementToElement({model:"tableRow",view:(m,{writer:b})=>m.isEmpty?b.createEmptyElement("tr"):b.createContainerElement("tr")}),u.for("upcast").elementToElement({model:"tableCell",view:"td"}),u.for("upcast").elementToElement({model:"tableCell",view:"th"}),u.for("upcast").add(dD("td")),u.for("upcast").add(dD("th")),u.for("editingDowncast").elementToElement({model:"tableCell",view:fD({asWidget:!0})}),u.for("dataDowncast").elementToElement({model:"tableCell",view:fD()}),u.for("editingDowncast").elementToElement({model:"paragraph",view:pD({asWidget:!0}),converterPriority:"high"}),u.for("dataDowncast").elementToElement({model:"paragraph",view:pD(),converterPriority:"high"}),u.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),u.for("upcast").attributeToAttribute({model:{key:"colspan",value:PD("colspan")},view:"colspan"}),u.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),u.for("upcast").attributeToAttribute({model:{key:"rowspan",value:PD("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new r$(e)),e.commands.add("insertTableRowAbove",new gD(e,{order:"above"})),e.commands.add("insertTableRowBelow",new gD(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new bD(e,{order:"left"})),e.commands.add("insertTableColumnRight",new bD(e,{order:"right"})),e.commands.add("removeTableRow",new i$(e)),e.commands.add("removeTableColumn",new o$(e)),e.commands.add("splitTableCellVertically",new kD(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new kD(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new d$(e)),e.commands.add("mergeTableCellRight",new N0(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new N0(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new N0(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new N0(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new a$(e)),e.commands.add("setTableRowHeader",new s$(e)),e.commands.add("selectTableRow",new f$(e)),e.commands.add("selectTableColumn",new p$(e)),m$(i),w$(i),this.listenTo(i.document,"change:data",()=>{(function(m,b){const _=m.document.differ;for(const S of _.getChanges()){let T,O=!1;if(S.type=="attribute"){const ie=S.range.start.nodeAfter;if(!ie||!ie.is("element","table")||S.attributeKey!="headingRows"&&S.attributeKey!="headingColumns")continue;T=ie,O=S.attributeKey=="headingRows"}else S.name!="tableRow"&&S.name!="tableCell"||(T=S.position.findAncestor("table"),O=S.name=="tableRow");if(!T)continue;const U=T.getAttribute("headingRows")||0,G=T.getAttribute("headingColumns")||0,ee=new lr(T);for(const ie of ee){const be=ie.row<U||ie.column<G?"th":"td",Se=b.mapper.toViewElement(ie.cell);Se&&Se.is("element")&&Se.name!=be&&b.reconvertItem(O?ie.cell.parent:ie.cell)}}})(i,e.editing),function(m,b){const _=m.document.differ,S=new Set;for(const T of _.getChanges()){const O=T.type=="attribute"?T.range.start.parent:T.position.parent;O.is("element","tableCell")&&S.add(O)}for(const T of S.values()){const O=Array.from(T.getChildren()).filter(U=>_$(U,b.mapper));for(const U of O)b.reconvertItem(U)}}(i,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function PD(l){return e=>{const i=parseInt(e.getAttribute(l));return Number.isNaN(i)||i<=0?null:i}}var OD=a(5032),x$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(OD.A,x$),OD.A.locals;class LD extends Nt{constructor(e){super(e);const i=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Zi,this.focusTracker=new Ti,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(s,u)=>`${u} × ${s}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":i.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:i.to("label")}]}],on:{mousedown:i.to(s=>{s.preventDefault()}),click:i.to(()=>{this.fire("execute")})}}),this.on("boxover",(s,u)=>{const{row:h,column:m}=u.target.dataset;this.items.get(10*(parseInt(h,10)-1)+(parseInt(m,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(s,u,h)=>{if(!h)return;const{row:m,column:b}=h.dataset;this.set({rows:parseInt(m),columns:parseInt(b)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),sr({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,i=this.columns;this.items.map((s,u)=>{const h=Math.floor(u/10)<e&&u%10<i;s.set("isOn",h)})}_createGridButton(e,i,s,u){const h=new qn(e);return h.set({label:u,class:"ck-insert-table-dropdown-grid-box"}),h.extendTemplate({attributes:{"data-row":i,"data-column":s}}),h}_createGridCollection(){const e=[];for(let i=0;i<100;i++){const s=Math.floor(i/10),u=i%10,h=`${s+1} × ${u+1}`;e.push(this._createGridButton(this.locale,s+1,u+1,h))}return this.createCollection(e)}}class S$ extends lt{static get pluginName(){return"TableUI"}init(){const e=this.editor,i=this.editor.t,s=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",u=>{const h=e.commands.get("insertTable"),m=xc(u);let b;return m.bind("isEnabled").to(h),m.buttonView.set({icon:dn.table,label:i("Insert table"),tooltip:!0}),m.on("change:isOpen",()=>{b||(b=new LD(u),m.panelView.children.add(b),b.delegate("execute").to(m),m.on("execute",()=>{e.execute("insertTable",{rows:b.rows,columns:b.columns}),e.editing.view.focus()}))}),m}),e.ui.componentFactory.add("menuBar:insertTable",u=>{const h=e.commands.get("insertTable"),m=new yf(u),b=new LD(u);return b.delegate("execute").to(m),m.on("change:isOpen",(_,S,T)=>{T||b.reset()}),b.on("execute",()=>{e.execute("insertTable",{rows:b.rows,columns:b.columns}),e.editing.view.focus()}),m.buttonView.set({label:i("Table"),icon:dn.table}),m.panelView.children.add(b),m.bind("isEnabled").to(h),m}),e.ui.componentFactory.add("tableColumn",u=>{const h=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:i("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:s?"insertTableColumnLeft":"insertTableColumnRight",label:i("Insert column left")}},{type:"button",model:{commandName:s?"insertTableColumnRight":"insertTableColumnLeft",label:i("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:i("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:i("Select column")}}];return this._prepareDropdown(i("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',h,u)}),e.ui.componentFactory.add("tableRow",u=>{const h=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:i("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:i("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:i("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:i("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:i("Select row")}}];return this._prepareDropdown(i("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',h,u)}),e.ui.componentFactory.add("mergeTableCells",u=>{const h=[{type:"button",model:{commandName:"mergeTableCellUp",label:i("Merge cell up")}},{type:"button",model:{commandName:s?"mergeTableCellRight":"mergeTableCellLeft",label:i("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:i("Merge cell down")}},{type:"button",model:{commandName:s?"mergeTableCellLeft":"mergeTableCellRight",label:i("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:i("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:i("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(i("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',h,u)})}_prepareDropdown(e,i,s,u){const h=this.editor,m=xc(u),b=this._fillDropdownWithListOptions(m,s);return m.buttonView.set({label:e,icon:i,tooltip:!0}),m.bind("isEnabled").toMany(b,"isEnabled",(..._)=>_.some(S=>S)),this.listenTo(m,"execute",_=>{h.execute(_.source.commandName),_.source instanceof Kb||h.editing.view.focus()}),m}_prepareMergeSplitButtonDropdown(e,i,s,u){const h=this.editor,m=xc(u,Xb),b="mergeTableCells",_=h.commands.get(b),S=this._fillDropdownWithListOptions(m,s);return m.buttonView.set({label:e,icon:i,tooltip:!0,isEnabled:!0}),m.bind("isEnabled").toMany([_,...S],"isEnabled",(...T)=>T.some(O=>O)),this.listenTo(m.buttonView,"execute",()=>{h.execute(b),h.editing.view.focus()}),this.listenTo(m,"execute",T=>{h.execute(T.source.commandName),h.editing.view.focus()}),m}_fillDropdownWithListOptions(e,i){const s=this.editor,u=[],h=new Ss;for(const m of i)E$(m,s,u,h);return f5(e,h),u}}function E$(l,e,i,s){if(l.type==="button"||l.type==="switchbutton"){const u=l.model=new H5(l.model),{commandName:h,bindIsOn:m}=l.model,b=e.commands.get(h);i.push(b),u.set({commandName:h}),u.bind("isEnabled").to(b),m&&u.bind("isOn").to(b,"value"),u.set({withText:!0})}s.add(l)}var BD=a(8423),D$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(BD.A,D$),BD.A.locals;class Gd extends lt{static get pluginName(){return"TableSelection"}static get requires(){return[so,so]}init(){const e=this.editor,i=e.model,s=e.editing.view;this.listenTo(i,"deleteContent",(u,h)=>this._handleDeleteContent(u,h),{priority:"high"}),this.listenTo(s.document,"insertText",(u,h)=>this._handleInsertTextEvent(u,h),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(so),i=this.editor.model.document.selection,s=e.getSelectedTableCells(i);return s.length==0?null:s}getSelectionAsFragment(){const e=this.editor.plugins.get(so),i=this.getSelectedTableCells();return i?this.editor.model.change(s=>{const u=s.createDocumentFragment(),{first:h,last:m}=e.getColumnIndexes(i),{first:b,last:_}=e.getRowIndexes(i),S=i[0].findAncestor("table");let T=_,O=m;if(e.isSelectionRectangular(i)){const G={firstColumn:h,lastColumn:m,firstRow:b,lastRow:_};T=xD(S,G),O=SD(S,G)}const U=wD(S,{startRow:b,startColumn:h,endRow:T,endColumn:O},s);return s.insert(U,u,0),u}):null}setCellSelection(e,i){const s=this._getCellsToSelect(e,i);this.editor.model.change(u=>{u.setSelection(s.cells.map(h=>u.createRangeOn(h)),{backward:s.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=Ii(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,i=new Set;e.conversion.for("editingDowncast").add(s=>s.on("selection",(u,h,m)=>{const b=m.writer;(function(T){for(const O of i)T.removeClass("ck-editor__editable_selected",O);i.clear()})(b);const _=this.getSelectedTableCells();if(!_)return;for(const T of _){const O=m.mapper.toViewElement(T);b.addClass("ck-editor__editable_selected",O),i.add(O)}const S=m.mapper.toViewElement(_[_.length-1]);b.setSelection(S,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const i=this.getSelectedTableCells();if(!i)return;e.model.change(s=>{const u=s.createPositionAt(i[0],0),h=e.model.schema.getNearestSelectionRange(u);s.setSelection(h)})}})}_handleDeleteContent(e,i){const s=this.editor.plugins.get(so),u=i[0],h=i[1],m=this.editor.model,b=!h||h.direction=="backward",_=s.getSelectedTableCells(u);_.length&&(e.stop(),m.change(S=>{const T=_[b?_.length-1:0];m.change(U=>{for(const G of _)m.deleteContent(U.createSelection(G,"in"))});const O=m.schema.getNearestSelectionRange(S.createPositionAt(T,0));u.is("documentSelection")?S.setSelection(O):u.setTo(O)}))}_handleInsertTextEvent(e,i){const s=this.editor,u=this.getSelectedTableCells();if(!u)return;const h=s.editing.view,m=s.editing.mapper,b=u.map(_=>h.createRangeOn(m.toViewElement(_)));i.selection=h.createSelection(b)}_getCellsToSelect(e,i){const s=this.editor.plugins.get("TableUtils"),u=s.getCellLocation(e),h=s.getCellLocation(i),m=Math.min(u.row,h.row),b=Math.max(u.row,h.row),_=Math.min(u.column,h.column),S=Math.max(u.column,h.column),T=new Array(b-m+1).fill(null).map(()=>[]),O={startRow:m,endRow:b,startColumn:_,endColumn:S};for(const{row:ee,cell:ie}of new lr(e.findAncestor("table"),O))T[ee-m].push(ie);const U=h.row<u.row,G=h.column<u.column;return U&&T.reverse(),G&&T.forEach(ee=>ee.reverse()),{cells:T.flat(),backward:U||G}}}class I$ extends lt{static get pluginName(){return"TableClipboard"}static get requires(){return[xm,ga,Gd,so]}init(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"copy",(s,u)=>this._onCopyCut(s,u)),this.listenTo(i,"cut",(s,u)=>this._onCopyCut(s,u)),this.listenTo(e.model,"insertContent",(s,[u,h])=>this._onInsertContent(s,u,h),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,i){const s=this.editor.editing.view,u=this.editor.plugins.get(Gd),h=this.editor.plugins.get(xm);u.getSelectedTableCells()&&(e.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(i.preventDefault(),e.stop(),this.editor.model.enqueueChange({isUndoable:e.name==="cut"},()=>{const m=h._copySelectedFragmentWithMarkers(e.name,this.editor.model.document.selection,()=>u.getSelectionAsFragment());s.document.fire("clipboardOutput",{dataTransfer:i.dataTransfer,content:this.editor.data.toView(m),method:e.name})}))}_onInsertContent(e,i,s){if(s&&!s.is("documentSelection"))return;const u=this.editor.model,h=this.editor.plugins.get(so),m=this.editor.plugins.get(xm),b=this.getTableIfOnlyTableInContent(i,u);if(!b)return;const _=h.getSelectionAffectedTableCells(u.document.selection);_.length?(e.stop(),i.is("documentFragment")?m._pasteMarkersIntoTransformedElement(i.markers,S=>this._replaceSelectedCells(b,_,S)):this.editor.model.change(S=>{this._replaceSelectedCells(b,_,S)})):nv(b,h)}_replaceSelectedCells(e,i,s){const u=this.editor.plugins.get(so),h={width:u.getColumns(e),height:u.getRows(e)},m=function(O,U,G,ee){const ie=O[0].findAncestor("table"),be=ee.getColumnIndexes(O),Se=ee.getRowIndexes(O),Le={firstColumn:be.first,lastColumn:be.last,firstRow:Se.first,lastRow:Se.last},et=O.length===1;return et&&(Le.lastRow+=U.height-1,Le.lastColumn+=U.width-1,function(ft,Mt,nn,gn){const wr=gn.getColumns(ft),Fi=gn.getRows(ft);nn>wr&&gn.insertColumns(ft,{at:wr,columns:nn-wr}),Mt>Fi&&gn.insertRows(ft,{at:Fi,rows:Mt-Fi})}(ie,Le.lastRow+1,Le.lastColumn+1,ee)),et||!ee.isSelectionRectangular(O)?function(ft,Mt,nn){const{firstRow:gn,lastRow:wr,firstColumn:Fi,lastColumn:eI}=Mt,tI={first:gn,last:wr},nI={first:Fi,last:eI};sv(ft,Fi,tI,nn),sv(ft,eI+1,tI,nn),ov(ft,gn,nI,nn),ov(ft,wr+1,nI,nn,gn)}(ie,Le,G):(Le.lastRow=xD(ie,Le),Le.lastColumn=SD(ie,Le)),Le}(i,h,s,u),b=m.lastRow-m.firstRow+1,_=m.lastColumn-m.firstColumn+1;e=wD(e,{startRow:0,startColumn:0,endRow:Math.min(b,h.height)-1,endColumn:Math.min(_,h.width)-1},s);const S=i[0].findAncestor("table"),T=this._replaceSelectedCellsWithPasted(e,h,S,m,s);if(this.editor.plugins.get("TableSelection").isEnabled){const O=u.sortRanges(T.map(U=>s.createRangeOn(U)));s.setSelection(O)}else s.setSelection(T[0],0);return S}_replaceSelectedCellsWithPasted(e,i,s,u,h){const{width:m,height:b}=i,_=function(be,Se,Le){const et=new Array(Le).fill(null).map(()=>new Array(Se).fill(null));for(const{column:ft,row:Mt,cell:nn}of new lr(be))et[Mt][ft]=nn;return et}(e,m,b),S=[...new lr(s,{startRow:u.firstRow,endRow:u.lastRow,startColumn:u.firstColumn,endColumn:u.lastColumn,includeAllSlots:!0})],T=[];let O;for(const be of S){const{row:Se,column:Le}=be;Le===u.firstColumn&&(O=be.getPositionBefore());const et=Se-u.firstRow,ft=Le-u.firstColumn,Mt=_[et%b][ft%m],nn=Mt?h.cloneElement(Mt):null,gn=this._replaceTableSlotCell(be,nn,O,h);gn&&(CD(gn,Se,Le,u.lastRow,u.lastColumn,h),T.push(gn),O=h.createPositionAfter(gn))}const U=parseInt(s.getAttribute("headingRows")||"0"),G=parseInt(s.getAttribute("headingColumns")||"0"),ee=u.firstRow<U&&U<=u.lastRow,ie=u.firstColumn<G&&G<=u.lastColumn;if(ee){const be=ov(s,U,{first:u.firstColumn,last:u.lastColumn},h,u.firstRow);T.push(...be)}if(ie){const be=sv(s,G,{first:u.firstRow,last:u.lastRow},h);T.push(...be)}return T}_replaceTableSlotCell(e,i,s,u){const{cell:h,isAnchor:m}=e;return m&&u.remove(h),i?(u.insert(i,s),i):null}getTableIfOnlyTableInContent(e,i){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const s=i.createRangeIn(e);for(const u of s.getItems())if(u.is("element","table")){const h=i.createRange(s.start,i.createPositionBefore(u));if(i.hasContent(h,{ignoreWhitespaces:!0}))return null;const m=i.createRange(i.createPositionAfter(u),s.end);return i.hasContent(m,{ignoreWhitespaces:!0})?null:u}return null}}function ov(l,e,i,s,u=0){if(!(e<1))return yD(l,e,u).filter(({column:h,cellWidth:m})=>jD(h,m,i)).map(({cell:h})=>vD(h,e,s))}function sv(l,e,i,s){if(!(e<1))return _D(l,e).filter(({row:u,cellHeight:h})=>jD(u,h,i)).map(({cell:u,column:h})=>AD(u,h,e,s))}function jD(l,e,i){const s=l+e-1,{first:u,last:h}=i;return l>=u&&l<=h||l<u&&s>=u}class T$ extends lt{static get pluginName(){return"TableKeyboard"}static get requires(){return[Gd,so]}init(){const e=this.editor,i=e.editing.view.document,s=e.t;this.listenTo(i,"arrowKey",(...u)=>this._onArrowKey(...u),{context:"table"}),this.listenTo(i,"tab",(...u)=>this._handleTabOnSelectedTable(...u),{context:"figure"}),this.listenTo(i,"tab",(...u)=>this._handleTab(...u),{context:["th","td"]}),e.accessibility.addKeystrokeInfoGroup({id:"table",label:s("Keystrokes that can be used in a table cell"),keystrokes:[{label:s("Move the selection to the next cell"),keystroke:"Tab"},{label:s("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:s("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:s("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(e,i){const s=this.editor,u=s.model.document.selection.getSelectedElement();u&&u.is("element","table")&&(i.preventDefault(),i.stopPropagation(),e.stop(),s.model.change(h=>{h.setSelection(h.createRangeIn(u.getChild(0).getChild(0)))}))}_handleTab(e,i){const s=this.editor,u=this.editor.plugins.get(so),h=this.editor.plugins.get("TableSelection"),m=s.model.document.selection,b=!i.shiftKey;let _=u.getTableCellsContainingSelection(m)[0];if(_||(_=h.getFocusCell()),!_)return;i.preventDefault(),i.stopPropagation(),e.stop();const S=_.parent,T=S.parent,O=T.getChildIndex(S),U=S.getChildIndex(_),G=U===0;if(!b&&G&&O===0)return void s.model.change(Se=>{Se.setSelection(Se.createRangeOn(T))});const ee=U===S.childCount-1,ie=O===u.getRows(T)-1;if(b&&ie&&ee&&(s.execute("insertTableRowBelow"),O===u.getRows(T)-1))return void s.model.change(Se=>{Se.setSelection(Se.createRangeOn(T))});let be;if(b&&ee)be=T.getChild(O+1).getChild(0);else if(!b&&G){const Se=T.getChild(O-1);be=Se.getChild(Se.childCount-1)}else be=S.getChild(U+(b?1:-1));s.model.change(Se=>{Se.setSelection(Se.createRangeIn(be))})}_onArrowKey(e,i){const s=this.editor,u=Qp(i.keyCode,s.locale.contentLanguageDirection);this._handleArrowKeys(u,i.shiftKey)&&(i.preventDefault(),i.stopPropagation(),e.stop())}_handleArrowKeys(e,i){const s=this.editor.plugins.get(so),u=this.editor.plugins.get("TableSelection"),h=this.editor.model,m=h.document.selection,b=["right","down"].includes(e),_=s.getSelectedTableCells(m);if(_.length){let T;return T=i?u.getFocusCell():b?_[_.length-1]:_[0],this._navigateFromCellInDirection(T,e,i),!0}const S=m.focus.findAncestor("tableCell");if(!S)return!1;if(!m.isCollapsed)if(i){if(m.isBackward==b&&!m.containsEntireContent(S))return!1}else{const T=m.getSelectedElement();if(!T||!h.schema.isObject(T))return!1}return!!this._isSelectionAtCellEdge(m,S,b)&&(this._navigateFromCellInDirection(S,e,i),!0)}_isSelectionAtCellEdge(e,i,s){const u=this.editor.model,h=this.editor.model.schema,m=s?e.getLastPosition():e.getFirstPosition();if(!h.getLimitElement(m).is("element","tableCell"))return u.createPositionAt(i,s?"end":0).isTouching(m);const b=u.createSelection(m);return u.modifySelection(b,{direction:s?"forward":"backward"}),m.isEqual(b.focus)}_navigateFromCellInDirection(e,i,s=!1){const u=this.editor.model,h=e.findAncestor("table"),m=[...new lr(h,{includeAllSlots:!0})],{row:b,column:_}=m[m.length-1],S=m.find(({cell:ie})=>ie==e);let{row:T,column:O}=S;switch(i){case"left":O--;break;case"up":T--;break;case"right":O+=S.cellWidth;break;case"down":T+=S.cellHeight}if(T<0||T>b||O<0&&T<=0||O>_&&T>=b)return void u.change(ie=>{ie.setSelection(ie.createRangeOn(h))});O<0?(O=s?0:_,T--):O>_&&(O=s?_:0,T++);const U=m.find(ie=>ie.row==T&&ie.column==O).cell,G=["right","down"].includes(i),ee=this.editor.plugins.get("TableSelection");if(s&&ee.isEnabled){const ie=ee.getAnchorCell()||e;ee.setCellSelection(ie,U)}else{const ie=u.createPositionAt(U,G?0:"end");u.change(be=>{be.setSelection(ie)})}}}class N$ extends Au{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class M$ extends lt{static get pluginName(){return"TableMouse"}static get requires(){return[Gd,so]}init(){this.editor.editing.view.addObserver(N$),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,i=e.plugins.get(so);let s=!1;const u=e.plugins.get(Gd);this.listenTo(e.editing.view.document,"mousedown",(h,m)=>{const b=e.model.document.selection;if(!this.isEnabled||!u.isEnabled||!m.domEvent.shiftKey)return;const _=u.getAnchorCell()||i.getTableCellsContainingSelection(b)[0];if(!_)return;const S=this._getModelTableCellFromDomEvent(m);S&&RD(_,S)&&(s=!0,u.setCellSelection(_,S),m.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{s=!1}),this.listenTo(e.editing.view.document,"selectionChange",h=>{s&&h.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let i,s,u=!1,h=!1;const m=e.plugins.get(Gd);this.listenTo(e.editing.view.document,"mousedown",(b,_)=>{this.isEnabled&&m.isEnabled&&(_.domEvent.shiftKey||_.domEvent.ctrlKey||_.domEvent.altKey||(i=this._getModelTableCellFromDomEvent(_)))}),this.listenTo(e.editing.view.document,"mousemove",(b,_)=>{if(!_.domEvent.buttons||!i)return;const S=this._getModelTableCellFromDomEvent(_);S&&RD(i,S)&&(s=S,u||s==i||(u=!0)),u&&(h=!0,m.setCellSelection(i,s),_.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{u=!1,h=!1,i=null,s=null}),this.listenTo(e.editing.view.document,"selectionChange",b=>{h&&b.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const i=e.target,s=this.editor.editing.view.createPositionAt(i,0);return this.editor.editing.mapper.toModelPosition(s).parent.findAncestor("tableCell",{includeSelf:!0})}}function RD(l,e){return l.parent.parent==e.parent.parent}var FD=a(2329),P$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(FD.A,P$),FD.A.locals;function O$(l){const e=l.getSelectedElement();return e&&zD(e)?e:null}function L$(l){const e=l.getFirstPosition();if(!e)return null;let i=e.parent;for(;i;){if(i.is("element")&&zD(i))return i;i=i.parent}return null}function zD(l){return!!l.getCustomProperty("table")&&ki(l)}var UD=a(5506),B$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(UD.A,B$),UD.A.locals;var qD=a(2655),j$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(qD.A,j$),qD.A.locals;var VD=a(4043),R$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(VD.A,R$),VD.A.locals;var HD=a(1623),F$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(HD.A,F$),HD.A.locals;var $D=a(8986),z$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()($D.A,z$),$D.A.locals;const Yd=ts.defaultPositions;Yd.northArrowSouth,Yd.northArrowSouthWest,Yd.northArrowSouthEast,Yd.southArrowNorth,Yd.southArrowNorthWest,Yd.southArrowNorthEast,Yd.viewportStickyNorth;var WD=a(5562),U$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(WD.A,U$),WD.A.locals;var GD=a(4143),q$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(GD.A,q$),GD.A.locals;var YD=a(8795),V$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ze()(YD.A,V$),YD.A.locals;var H$=Object.defineProperty,KD=Object.getOwnPropertySymbols,$$=Object.prototype.hasOwnProperty,W$=Object.prototype.propertyIsEnumerable,QD=(l,e,i)=>e in l?H$(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i,JD=(l,e)=>{for(var i in e||(e={}))$$.call(e,i)&&QD(l,i,e[i]);if(KD)for(var i of KD(e))W$.call(e,i)&&QD(l,i,e[i]);return l};const G$={autoRefresh:!0},ZD=36e5;class av extends ze(){constructor(e,i={}){if(super(),!e)throw new N("token-missing-token-url",this);i.initValue&&this._validateTokenValue(i.initValue),this.set("value",i.initValue),this._refresh=typeof e=="function"?e:()=>{return s=e,new Promise((u,h)=>{const m=new XMLHttpRequest;m.open("GET",s),m.addEventListener("load",()=>{const b=m.status,_=m.response;return b<200||b>299?h(new N("token-cannot-download-new-token",null)):u(_)}),m.addEventListener("error",()=>h(new Error("Network Error"))),m.addEventListener("abort",()=>h(new Error("Abort"))),m.send()});var s},this._options=JD(JD({},G$),i)}init(){return new Promise((e,i)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(i)})}refreshToken(){return this._refresh().then(e=>(this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const i=typeof e=="string",s=!/^".*"$/.test(e),u=i&&e.split(".").length===3;if(!s||!u)throw new N("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:i}=JSON.parse(atob(e));return i?Math.floor((1e3*i-Date.now())/2):ZD}catch{return ZD}}static create(e,i={}){return new av(e,i).init()}}const lv=/^data:(\S*?);base64,/;class Y$ extends oe(){constructor(e,i,s){if(super(),!e)throw new N("fileuploader-missing-file",null);if(!i)throw new N("fileuploader-missing-token",null);if(!s)throw new N("fileuploader-missing-api-address",null);this.file=function(u){if(typeof u!="string")return!1;const h=u.match(lv);return!(!h||!h.length)}(e)?function(u,h=512){try{const m=u.match(lv)[1],b=atob(u.replace(lv,"")),_=[];for(let S=0;S<b.length;S+=h){const T=b.slice(S,S+h),O=new Array(T.length);for(let U=0;U<T.length;U++)O[U]=T.charCodeAt(U);_.push(new Uint8Array(O))}return new Blob(_,{type:m})}catch{throw new N("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=i,this._apiAddress=s}onProgress(e){return this.on("progress",(i,s)=>e(s)),this}onError(e){return this.once("error",(i,s)=>e(s)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,i=s=>()=>this.fire("error",s);e.addEventListener("error",i("Network Error")),e.addEventListener("abort",i("Abort")),e.upload&&e.upload.addEventListener("progress",s=>{s.lengthComputable&&this.fire("progress",{total:s.total,uploaded:s.loaded})}),e.addEventListener("load",()=>{const s=e.status,u=e.response;if(s<200||s>299)return this.fire("error",u.message||u.error)})}_sendRequest(){const e=new FormData,i=this.xhr;return e.append("file",this.file),new Promise((s,u)=>{i.addEventListener("load",()=>{const h=i.status,m=i.response;return h<200||h>299?m.message?u(new N("fileuploader-uploading-data-failed",this,{message:m.message})):u(m.error):s(m)}),i.addEventListener("error",()=>u(new Error("Network Error"))),i.addEventListener("abort",()=>u(new Error("Abort"))),i.send(e)})}}class K${constructor(e,i){if(!e)throw new N("uploadgateway-missing-token",null);if(!i)throw new N("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=i}upload(e){return new Y$(e,this._token,this._apiAddress)}}class Q$ extends ti{static get pluginName(){return"CloudServicesCore"}createToken(e,i){return new av(e,i)}createUploadGateway(e,i){return new K$(e,i)}}var XD=(l,e,i)=>new Promise((s,u)=>{var h=_=>{try{b(i.next(_))}catch(S){u(S)}},m=_=>{try{b(i.throw(_))}catch(S){u(S)}},b=_=>_.done?s(_.value):Promise.resolve(_.value).then(h,m);b((i=i.apply(l,e)).next())});class cv extends l0{}cv.builtinPlugins=[class extends lt{static get requires(){return[Q7,v3,h0,gU,zz,Mz,S3]}static get pluginName(){return"Essentials"}},class extends lt{static get requires(){return[Ha]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const l=this.editor.config.get("ckfinder.uploadUrl");l&&(this.editor.plugins.get(Ha).createUploadAdapter=e=>new DU(e,l,this.editor.t))}},class extends lt{static get requires(){return[Ec]}static get pluginName(){return"Autoformat"}afterInit(){const l=this.editor,e=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),l.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const l=this.editor.commands;l.get("bulletedList")&&Eu(this.editor,this,/^[*-]\s$/,"bulletedList"),l.get("numberedList")&&Eu(this.editor,this,/^1[.|)]\s$/,"numberedList"),l.get("todoList")&&Eu(this.editor,this,/^\[\s?\]\s$/,"todoList"),l.get("checkTodoList")&&Eu(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const l=this.editor.commands;if(l.get("bold")){const e=b0(this.editor,"bold");Af(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),Af(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(l.get("italic")){const e=b0(this.editor,"italic");Af(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),Af(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(l.get("code")){const e=b0(this.editor,"code");Af(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(l.get("strikethrough")){const e=b0(this.editor,"strikethrough");Af(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const l=this.editor.commands.get("heading");l&&l.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const i=e[7],s=new RegExp(`^(#{${i}})\\s$`);Eu(this.editor,this,s,()=>{if(!l.isEnabled||l.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Eu(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const l=this.editor,e=l.model.document.selection;l.commands.get("codeBlock")&&Eu(l,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Eu(this.editor,this,/^---$/,"horizontalLine")}},class extends lt{static get requires(){return[IU,TU]}static get pluginName(){return"Bold"}},class extends lt{static get requires(){return[MU,PU]}static get pluginName(){return"Italic"}},class extends lt{static get requires(){return[LU,jU]}static get pluginName(){return"BlockQuote"}},class extends lt{static get pluginName(){return"CKBox"}static get requires(){return[W3,RU]}},class extends lt{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",cq,aq]}},class extends ti{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[Q$]}init(){return XD(this,null,function*(){const l=this.context.config.get("cloudServices")||{};for(const[i,s]of Object.entries(l))this[i]=s;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore");this.token=yield e.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(l){return XD(this,null,function*(){if(this._tokens.has(l))return this.getTokenFor(l);const e=this.context.plugins.get("CloudServicesCore"),i=yield e.createToken(l).init();return this._tokens.set(l,i),i})}getTokenFor(l){const e=this._tokens.get(l);if(!e)throw new N("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const l of this._tokens.values())l.destroy()}},class extends lt{static get pluginName(){return"EasyImage"}static get requires(){return[uq,"ImageUpload"]}init(){const l=this.editor;l.plugins.has("ImageBlockEditing")||l.plugins.has("ImageInlineEditing")||j("easy-image-image-feature-missing",l)}},class extends lt{static get requires(){return[mq,bq]}static get pluginName(){return"Heading"}},class extends lt{static get requires(){return[Rq,zq]}static get pluginName(){return"Image"}},class extends lt{static get requires(){return[qq,Vq]}static get pluginName(){return"ImageCaption"}},class extends lt{static get requires(){return[ZE,fV]}static get pluginName(){return"ImageStyle"}},class extends lt{static get requires(){return[p0,rs]}static get pluginName(){return"ImageToolbar"}afterInit(){const l=this.editor,e=l.t,i=l.plugins.get(p0),s=l.plugins.get("ImageUtils");var u;i.register("image",{ariaLabel:e("Image toolbar"),items:(u=l.config.get("image.toolbar")||[],u.map(h=>we(h)?h.name:h)),getRelatedElement:h=>s.getClosestSelectedImageWidget(h)})}},class extends lt{static get pluginName(){return"ImageUpload"}static get requires(){return[rV,Wq,Qq]}},class extends lt{static get pluginName(){return"Indent"}static get requires(){return[pV,mV]}},class extends lt{static get requires(){return[w4,HV,$V]}static get pluginName(){return"Link"}},mH,class extends lt{static get requires(){return[T0,EH,CH,Im]}static get pluginName(){return"MediaEmbed"}},Oy,class extends lt{static get pluginName(){return"PasteFromOffice"}static get requires(){return[ga]}init(){const l=this.editor,e=l.plugins.get("ClipboardPipeline"),i=l.editing.view.document,s=[],u=this.editor.plugins.has("MultiLevelList");s.push(new YH(i,u)),s.push(new QH(i)),s.push(new ZH(i)),e.on("inputTransformation",(h,m)=>{if(m._isTransformedWithPasteFromOffice||l.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const b=m.dataTransfer.getData("text/html"),_=s.find(S=>S.isActive(b));_&&(m._parsedData||(m._parsedData=XH(b,i.stylesProcessor)),_.execute(m),m._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends lt{static get requires(){return[By,rs]}static get pluginName(){return"PictureEditing"}afterInit(){const l=this.editor;l.plugins.has("ImageBlockEditing")&&l.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),l.plugins.has("ImageInlineEditing")&&l.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const l=this.editor,e=l.conversion,i=l.plugins.get("ImageUtils");e.for("upcast").add(function(s){const u=["srcset","media","type","sizes"],h=(m,b,_)=>{const S=b.viewItem;if(!_.consumable.test(S,{name:!0}))return;const T=new Map;for(const G of S.getChildren())if(G.is("element","source")){const ee={};for(const ie of u)G.hasAttribute(ie)&&_.consumable.test(G,{attributes:ie})&&(ee[ie]=G.getAttribute(ie));Object.keys(ee).length&&T.set(G,ee)}const O=s.findViewImgElement(S);if(!O)return;let U=b.modelCursor.parent;if(!U.is("element","imageBlock")){const G=_.convertItem(O,b.modelCursor);b.modelRange=G.modelRange,b.modelCursor=G.modelCursor,U=Ii(G.modelRange.getItems())}_.consumable.consume(S,{name:!0});for(const[G,ee]of T)_.consumable.consume(G,{attributes:Object.keys(ee)});T.size&&_.writer.setAttribute("sources",Array.from(T.values()),U),_.convertChildren(S,U)};return m=>{m.on("element:picture",h)}}(i)),e.for("downcast").add(function(s){const u=(h,m,b)=>{if(!b.consumable.consume(m.item,h.name))return;const _=b.writer,S=b.mapper.toViewElement(m.item),T=s.findViewImgElement(S),O=m.attributeNewValue;if(O&&O.length){const U=_.createContainerElement("picture",null,O.map(ie=>_.createEmptyElement("source",ie))),G=[];let ee=T.parent;for(;ee&&ee.is("attributeElement");){const ie=ee.parent;_.unwrap(_.createRangeOn(T),ee),G.unshift(ee),ee=ie}_.insert(_.createPositionBefore(T),U),_.move(_.createRangeOn(T),_.createPositionAt(U,"end"));for(const ie of G)_.wrap(_.createRangeOn(U),ie)}else if(T.parent.is("element","picture")){const U=T.parent;_.move(_.createRangeOn(T),_.createPositionBefore(U)),_.remove(U)}};return h=>{h.on("attribute:sources:imageBlock",u),h.on("attribute:sources:imageInline",u)}}(i))}_setupImageUploadEditingIntegration(){const l=this.editor;if(!l.plugins.has("ImageUploadEditing"))return;const e=l.plugins.get("ImageUploadEditing");this.listenTo(e,"uploadComplete",(i,{imageElement:s,data:u})=>{const h=u.sources;h&&l.model.change(m=>{m.setAttributes({sources:h},s)})})}},class extends lt{static get requires(){return[C$,S$,Gd,M$,T$,I$,Im]}static get pluginName(){return"Table"}},class extends lt{static get requires(){return[p0]}static get pluginName(){return"TableToolbar"}afterInit(){const l=this.editor,e=l.t,i=l.plugins.get(p0),s=l.config.get("table.contentToolbar"),u=l.config.get("table.tableToolbar");s&&i.register("tableContent",{ariaLabel:e("Table toolbar"),items:s,getRelatedElement:L$}),u&&i.register("table",{ariaLabel:e("Table toolbar"),items:u,getRelatedElement:O$})}},class extends lt{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(l){super(l),l.config.define("typing",{transformations:{include:Pz}})}init(){const l=this.editor.model.document.selection;l.on("change:range",()=>{this.isEnabled=!l.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const l=this.editor,e=l.model,i=l.plugins.get("Delete"),s=function(h){const m=h.extra||[],b=h.remove||[],_=S=>!b.includes(S);return function(S){const T=new Set;for(const O of S)if(typeof O=="string"&&GS[O])for(const U of GS[O])T.add(U);else T.add(O);return Array.from(T)}(h.include.concat(m).filter(_)).filter(_).map(S=>typeof S=="string"&&WS[S]?WS[S]:S).filter(S=>typeof S=="object").map(S=>({from:Oz(S.from),to:Lz(S.to)}))}(l.config.get("typing.transformations")),u=new VS(l.model,h=>{for(const m of s)if(m.from.test(h))return{normalizedTransformation:m}});u.on("matched:data",(h,m)=>{if(!m.batch.isTyping)return;const{from:b,to:_}=m.normalizedTransformation,S=b.exec(m.text),T=_(S.slice(1)),O=m.range;let U=S.index;e.enqueueChange(G=>{for(let ee=1;ee<S.length;ee++){const ie=S[ee],be=T[ee-1];if(be==null){U+=ie.length;continue}const Se=O.start.getShiftedBy(U),Le=e.createRange(Se,Se.getShiftedBy(ie.length)),et=Bz(Se);e.insertContent(G.createText(be,et),Le),U+=be.length}e.enqueueChange(()=>{i.requestUndoOnBackspace()})})}),u.bind("isEnabled").to(this)}}],cv.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),c=c.default})())}(sg,sg.exports)),sg.exports}var gK=mK();const JP=Hc(gK),bK=({content:t,onChange:r})=>{const n=(o,a)=>{const c=a.getData();r(c)};return C.jsx(QP.CKEditor,{editor:JP,data:t,onChange:n,config:{toolbar:["undo","redo","|","heading","|","bold","italic","|","blockQuote","numberedList","bulletedList","|","insertTable","link","|"]}})},DI=({content:t,onChange:r})=>{const n=(o,a)=>{const c=a.getData();r(c)};return C.jsx(QP.CKEditor,{editor:JP,data:t,onChange:n,config:{toolbar:["heading","|","bold","italic","|","blockQuote","numberedList","bulletedList","|","link"]}})},kK=({value:t,onChange:r})=>{const[n,o]=K.useState([]),[a,c]=K.useState(!0),{userDetails:d}=xi();K.useEffect(()=>{if(console.log("User Details in CourseDropdown:",d),d!=null&&d.classes){const p=Object.entries(d.classes).filter(([g,k])=>k.isCourseAdmin||d.isSuperAdmin).map(([g,k])=>({id:g,number:k.number,title:k.title}));console.log("Filtered Courses for Dropdown:",p),o(p)}else o([]);c(!1)},[d]);const f=n.some(p=>p.id===t);return a?C.jsx(Fe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:C.jsx(di,{})}):C.jsx(Sn,{select:!0,label:"Select Course",value:f?t:"",onChange:p=>r(p.target.value),fullWidth:!0,sx:{mb:2},error:!f&&t!=="",helperText:!f&&t!==""?"Invalid course selected":"",children:n.length>0?n.map(p=>C.jsxs(Ar,{value:p.id,children:[p.number," - ",p.title]},p.id)):C.jsx(Ar,{disabled:!0,children:"No courses available"})})};function Ft(t){const r=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&r==="[object Date]"?new t.constructor(+t):typeof t=="number"||r==="[object Number]"||typeof t=="string"||r==="[object String]"?new Date(t):new Date(NaN)}function ur(t,r){return t instanceof Date?new t.constructor(r):new Date(r)}function Za(t,r){const n=Ft(t);return isNaN(r)?ur(t,NaN):(r&&n.setDate(n.getDate()+r),n)}function Xa(t,r){const n=Ft(t);if(isNaN(r))return ur(t,NaN);if(!r)return n;const o=n.getDate(),a=ur(t,n.getTime());a.setMonth(n.getMonth()+r+1,0);const c=a.getDate();return o>=c?a:(n.setFullYear(a.getFullYear(),a.getMonth(),o),n)}function qA(t,r){const n=+Ft(t);return ur(t,n+r)}const ZP=6048e5,wK=864e5,k1=6e4,w1=36e5,yK=1e3;function vK(t,r){return qA(t,r*w1)}let _K={};function Nh(){return _K}function zc(t,r){var f,p,g,k;const n=Nh(),o=(r==null?void 0:r.weekStartsOn)??((p=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((k=(g=n.locale)==null?void 0:g.options)==null?void 0:k.weekStartsOn)??0,a=Ft(t),c=a.getDay(),d=(c<o?7:0)+c-o;return a.setDate(a.getDate()-d),a.setHours(0,0,0,0),a}function dp(t){return zc(t,{weekStartsOn:1})}function XP(t){const r=Ft(t),n=r.getFullYear(),o=ur(t,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const a=dp(o),c=ur(t,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const d=dp(c);return r.getTime()>=a.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function _h(t){const r=Ft(t);return r.setHours(0,0,0,0),r}function Lk(t){const r=Ft(t),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+t-+n}function hp(t,r){const n=_h(t),o=_h(r),a=+n-Lk(n),c=+o-Lk(o);return Math.round((a-c)/wK)}function AK(t){const r=XP(t),n=ur(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),dp(n)}function E_(t,r){return qA(t,r*k1)}function VA(t,r){const n=r*3;return Xa(t,n)}function CK(t,r){return qA(t,r*1e3)}function Bk(t,r){const n=r*7;return Za(t,n)}function Lc(t,r){return Xa(t,r*12)}function II(t){let r;return t.forEach(function(n){const o=Ft(n);(r===void 0||r<o||isNaN(Number(o)))&&(r=o)}),r||new Date(NaN)}function TI(t){let r;return t.forEach(n=>{const o=Ft(n);(!r||r>o||isNaN(+o))&&(r=o)}),r||new Date(NaN)}function xK(t,r){const n=_h(t),o=_h(r);return+n==+o}function Bc(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function jk(t){if(!Bc(t)&&typeof t!="number")return!1;const r=Ft(t);return!isNaN(Number(r))}function Rk(t,r){const n=Ft(t),o=Ft(r),a=n.getFullYear()-o.getFullYear(),c=n.getMonth()-o.getMonth();return a*12+c}function fh(t){const r=Ft(t);return Math.trunc(r.getMonth()/3)+1}function Fk(t,r){const n=Ft(t),o=Ft(r),a=n.getFullYear()-o.getFullYear(),c=fh(n)-fh(o);return a*4+c}function zk(t,r){const n=Ft(t),o=Ft(r);return n.getFullYear()-o.getFullYear()}function SK(t,r){const n=Ft(t),o=Ft(r),a=NI(n,o),c=Math.abs(hp(n,o));n.setDate(n.getDate()-a*c);const d=+(NI(n,o)===-a),f=a*(c-d);return f===0?0:f}function NI(t,r){const n=t.getFullYear()-r.getFullYear()||t.getMonth()-r.getMonth()||t.getDate()-r.getDate()||t.getHours()-r.getHours()||t.getMinutes()-r.getMinutes()||t.getSeconds()-r.getSeconds()||t.getMilliseconds()-r.getMilliseconds();return n<0?-1:n>0?1:n}function eO(t){const r=Ft(t);return r.setHours(23,59,59,999),r}function tO(t){const r=Ft(t),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function D_(t){const r=Ft(t),n=r.getMonth(),o=n-n%3;return r.setMonth(o,1),r.setHours(0,0,0,0),r}function nO(t){const r=Ft(t);return r.setDate(1),r.setHours(0,0,0,0),r}function rO(t){const r=Ft(t),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function y1(t){const r=Ft(t),n=ur(t,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}function EK(t,r){var f,p;const n=Nh(),o=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,a=Ft(t),c=a.getDay(),d=(c<o?-7:0)+6-(c-o);return a.setDate(a.getDate()+d),a.setHours(23,59,59,999),a}const DK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},IK=(t,r,n)=>{let o;const a=DK[t];return typeof a=="string"?o=a:r===1?o=a.one:o=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function gv(t){return(r={})=>{const n=r.width?String(r.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const TK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},NK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},MK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},PK={date:gv({formats:TK,defaultWidth:"full"}),time:gv({formats:NK,defaultWidth:"full"}),dateTime:gv({formats:MK,defaultWidth:"full"})},OK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},LK=(t,r,n,o)=>OK[t];function Rm(t){return(r,n)=>{const o=n!=null&&n.context?String(n.context):"standalone";let a;if(o==="formatting"&&t.formattingValues){const d=t.defaultFormattingWidth||t.defaultWidth,f=n!=null&&n.width?String(n.width):d;a=t.formattingValues[f]||t.formattingValues[d]}else{const d=t.defaultWidth,f=n!=null&&n.width?String(n.width):t.defaultWidth;a=t.values[f]||t.values[d]}const c=t.argumentCallback?t.argumentCallback(r):r;return a[c]}}const BK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},RK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},FK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},UK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qK=(t,r)=>{const n=Number(t),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},VK={ordinalNumber:qK,era:Rm({values:BK,defaultWidth:"wide"}),quarter:Rm({values:jK,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Rm({values:RK,defaultWidth:"wide"}),day:Rm({values:FK,defaultWidth:"wide"}),dayPeriod:Rm({values:zK,defaultWidth:"wide",formattingValues:UK,defaultFormattingWidth:"wide"})};function Fm(t){return(r,n={})=>{const o=n.width,a=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],c=r.match(a);if(!c)return null;const d=c[0],f=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth],p=Array.isArray(f)?$K(f,v=>v.test(d)):HK(f,v=>v.test(d));let g;g=t.valueCallback?t.valueCallback(p):p,g=n.valueCallback?n.valueCallback(g):g;const k=r.slice(d.length);return{value:g,rest:k}}}function HK(t,r){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r(t[n]))return n}function $K(t,r){for(let n=0;n<t.length;n++)if(r(t[n]))return n}function WK(t){return(r,n={})=>{const o=r.match(t.matchPattern);if(!o)return null;const a=o[0],c=r.match(t.parsePattern);if(!c)return null;let d=t.valueCallback?t.valueCallback(c[0]):c[0];d=n.valueCallback?n.valueCallback(d):d;const f=r.slice(a.length);return{value:d,rest:f}}}const GK=/^(\d+)(th|st|nd|rd)?/i,YK=/\d+/i,KK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},QK={any:[/^b/i,/^(a|c)/i]},JK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ZK={any:[/1/i,/2/i,/3/i,/4/i]},XK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eQ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tQ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nQ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rQ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},iQ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},oQ={ordinalNumber:WK({matchPattern:GK,parsePattern:YK,valueCallback:t=>parseInt(t,10)}),era:Fm({matchPatterns:KK,defaultMatchWidth:"wide",parsePatterns:QK,defaultParseWidth:"any"}),quarter:Fm({matchPatterns:JK,defaultMatchWidth:"wide",parsePatterns:ZK,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Fm({matchPatterns:XK,defaultMatchWidth:"wide",parsePatterns:eQ,defaultParseWidth:"any"}),day:Fm({matchPatterns:tQ,defaultMatchWidth:"wide",parsePatterns:nQ,defaultParseWidth:"any"}),dayPeriod:Fm({matchPatterns:rQ,defaultMatchWidth:"any",parsePatterns:iQ,defaultParseWidth:"any"})},iO={code:"en-US",formatDistance:IK,formatLong:PK,formatRelative:LK,localize:VK,match:oQ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sQ(t){const r=Ft(t);return hp(r,y1(r))+1}function HA(t){const r=Ft(t),n=+dp(r)-+AK(r);return Math.round(n/ZP)+1}function $A(t,r){var k,v,y,w;const n=Ft(t),o=n.getFullYear(),a=Nh(),c=(r==null?void 0:r.firstWeekContainsDate)??((v=(k=r==null?void 0:r.locale)==null?void 0:k.options)==null?void 0:v.firstWeekContainsDate)??a.firstWeekContainsDate??((w=(y=a.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??1,d=ur(t,0);d.setFullYear(o+1,0,c),d.setHours(0,0,0,0);const f=zc(d,r),p=ur(t,0);p.setFullYear(o,0,c),p.setHours(0,0,0,0);const g=zc(p,r);return n.getTime()>=f.getTime()?o+1:n.getTime()>=g.getTime()?o:o-1}function aQ(t,r){var f,p,g,k;const n=Nh(),o=(r==null?void 0:r.firstWeekContainsDate)??((p=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((k=(g=n.locale)==null?void 0:g.options)==null?void 0:k.firstWeekContainsDate)??1,a=$A(t,r),c=ur(t,0);return c.setFullYear(a,0,o),c.setHours(0,0,0,0),zc(c,r)}function oO(t,r){const n=Ft(t),o=+zc(n,r)-+aQ(n,r);return Math.round(o/ZP)+1}function cr(t,r){const n=t<0?"-":"",o=Math.abs(t).toString().padStart(r,"0");return n+o}const Iu={y(t,r){const n=t.getFullYear(),o=n>0?n:1-n;return cr(r==="yy"?o%100:o,r.length)},M(t,r){const n=t.getMonth();return r==="M"?String(n+1):cr(n+1,2)},d(t,r){return cr(t.getDate(),r.length)},a(t,r){const n=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,r){return cr(t.getHours()%12||12,r.length)},H(t,r){return cr(t.getHours(),r.length)},m(t,r){return cr(t.getMinutes(),r.length)},s(t,r){return cr(t.getSeconds(),r.length)},S(t,r){const n=r.length,o=t.getMilliseconds(),a=Math.trunc(o*Math.pow(10,n-3));return cr(a,r.length)}},If={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},MI={G:function(t,r,n){const o=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});case"GGGG":default:return n.era(o,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){const o=t.getFullYear(),a=o>0?o:1-o;return n.ordinalNumber(a,{unit:"year"})}return Iu.y(t,r)},Y:function(t,r,n,o){const a=$A(t,o),c=a>0?a:1-a;if(r==="YY"){const d=c%100;return cr(d,2)}return r==="Yo"?n.ordinalNumber(c,{unit:"year"}):cr(c,r.length)},R:function(t,r){const n=XP(t);return cr(n,r.length)},u:function(t,r){const n=t.getFullYear();return cr(n,r.length)},Q:function(t,r,n){const o=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(o);case"QQ":return cr(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,r,n){const o=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(o);case"qq":return cr(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,r,n){const o=t.getMonth();switch(r){case"M":case"MM":return Iu.M(t,r);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(t,r,n){const o=t.getMonth();switch(r){case"L":return String(o+1);case"LL":return cr(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(t,r,n,o){const a=oO(t,o);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):cr(a,r.length)},I:function(t,r,n){const o=HA(t);return r==="Io"?n.ordinalNumber(o,{unit:"week"}):cr(o,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Iu.d(t,r)},D:function(t,r,n){const o=sQ(t);return r==="Do"?n.ordinalNumber(o,{unit:"dayOfYear"}):cr(o,r.length)},E:function(t,r,n){const o=t.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});case"EEEE":default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(t,r,n,o){const a=t.getDay(),c=(a-o.weekStartsOn+8)%7||7;switch(r){case"e":return String(c);case"ee":return cr(c,2);case"eo":return n.ordinalNumber(c,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,r,n,o){const a=t.getDay(),c=(a-o.weekStartsOn+8)%7||7;switch(r){case"c":return String(c);case"cc":return cr(c,r.length);case"co":return n.ordinalNumber(c,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,r,n){const o=t.getDay(),a=o===0?7:o;switch(r){case"i":return String(a);case"ii":return cr(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});case"iiii":default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(t,r,n){const a=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,r,n){const o=t.getHours();let a;switch(o===12?a=If.noon:o===0?a=If.midnight:a=o/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,r,n){const o=t.getHours();let a;switch(o>=17?a=If.evening:o>=12?a=If.afternoon:o>=4?a=If.morning:a=If.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){let o=t.getHours()%12;return o===0&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return Iu.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Iu.H(t,r)},K:function(t,r,n){const o=t.getHours()%12;return r==="Ko"?n.ordinalNumber(o,{unit:"hour"}):cr(o,r.length)},k:function(t,r,n){let o=t.getHours();return o===0&&(o=24),r==="ko"?n.ordinalNumber(o,{unit:"hour"}):cr(o,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Iu.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Iu.s(t,r)},S:function(t,r){return Iu.S(t,r)},X:function(t,r,n){const o=t.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return OI(o);case"XXXX":case"XX":return Xd(o);case"XXXXX":case"XXX":default:return Xd(o,":")}},x:function(t,r,n){const o=t.getTimezoneOffset();switch(r){case"x":return OI(o);case"xxxx":case"xx":return Xd(o);case"xxxxx":case"xxx":default:return Xd(o,":")}},O:function(t,r,n){const o=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+PI(o,":");case"OOOO":default:return"GMT"+Xd(o,":")}},z:function(t,r,n){const o=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+PI(o,":");case"zzzz":default:return"GMT"+Xd(o,":")}},t:function(t,r,n){const o=Math.trunc(t.getTime()/1e3);return cr(o,r.length)},T:function(t,r,n){const o=t.getTime();return cr(o,r.length)}};function PI(t,r=""){const n=t>0?"-":"+",o=Math.abs(t),a=Math.trunc(o/60),c=o%60;return c===0?n+String(a):n+String(a)+r+cr(c,2)}function OI(t,r){return t%60===0?(t>0?"-":"+")+cr(Math.abs(t)/60,2):Xd(t,r)}function Xd(t,r=""){const n=t>0?"-":"+",o=Math.abs(t),a=cr(Math.trunc(o/60),2),c=cr(o%60,2);return n+a+r+c}const LI=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},sO=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},lQ=(t,r)=>{const n=t.match(/(P+)(p+)?/)||[],o=n[1],a=n[2];if(!a)return LI(t,r);let c;switch(o){case"P":c=r.dateTime({width:"short"});break;case"PP":c=r.dateTime({width:"medium"});break;case"PPP":c=r.dateTime({width:"long"});break;case"PPPP":default:c=r.dateTime({width:"full"});break}return c.replace("{{date}}",LI(o,r)).replace("{{time}}",sO(a,r))},Uk={p:sO,P:lQ},cQ=/^D+$/,uQ=/^Y+$/,dQ=["D","DD","YY","YYYY"];function aO(t){return cQ.test(t)}function lO(t){return uQ.test(t)}function I_(t,r,n){const o=hQ(t,r,n);if(console.warn(o),dQ.includes(t))throw new RangeError(o)}function hQ(t,r,n){const o=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${o} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mQ=/^'([^]*?)'?$/,gQ=/''/g,bQ=/[a-zA-Z]/;function BI(t,r,n){var k,v,y,w,x,A,D,E;const o=Nh(),a=(n==null?void 0:n.locale)??o.locale??iO,c=(n==null?void 0:n.firstWeekContainsDate)??((v=(k=n==null?void 0:n.locale)==null?void 0:k.options)==null?void 0:v.firstWeekContainsDate)??o.firstWeekContainsDate??((w=(y=o.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((A=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:A.weekStartsOn)??o.weekStartsOn??((E=(D=o.locale)==null?void 0:D.options)==null?void 0:E.weekStartsOn)??0,f=Ft(t);if(!jk(f))throw new RangeError("Invalid time value");let p=r.match(pQ).map(M=>{const P=M[0];if(P==="p"||P==="P"){const F=Uk[P];return F(M,a.formatLong)}return M}).join("").match(fQ).map(M=>{if(M==="''")return{isToken:!1,value:"'"};const P=M[0];if(P==="'")return{isToken:!1,value:kQ(M)};if(MI[P])return{isToken:!0,value:M};if(P.match(bQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return{isToken:!1,value:M}});a.localize.preprocessor&&(p=a.localize.preprocessor(f,p));const g={firstWeekContainsDate:c,weekStartsOn:d,locale:a};return p.map(M=>{if(!M.isToken)return M.value;const P=M.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&lO(P)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&aO(P))&&I_(P,r,String(t));const F=MI[P[0]];return F(f,P,a.localize,g)}).join("")}function kQ(t){const r=t.match(mQ);return r?r[1].replace(gQ,"'"):t}function jI(t){return Ft(t).getDate()}function wQ(t){return Ft(t).getDay()}function yQ(t){const r=Ft(t),n=r.getFullYear(),o=r.getMonth(),a=ur(t,0);return a.setFullYear(n,o+1,0),a.setHours(0,0,0,0),a.getDate()}function vQ(){return Object.assign({},Nh())}function Hl(t){return Ft(t).getHours()}function _Q(t){let n=Ft(t).getDay();return n===0&&(n=7),n}function $l(t){return Ft(t).getMinutes()}function Ho(t){return Ft(t).getMonth()}function jc(t){return Ft(t).getSeconds()}function T_(t){return Ft(t).getTime()}function Tn(t){return Ft(t).getFullYear()}function Ku(t,r){const n=Ft(t),o=Ft(r);return n.getTime()>o.getTime()}function Ah(t,r){const n=Ft(t),o=Ft(r);return+n<+o}function AQ(t,r){const n=Ft(t),o=Ft(r);return+n==+o}function CQ(t,r){const n=r instanceof Date?ur(r,0):new r(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const xQ=10;class cO{constructor(){vt(this,"subPriority",0)}validate(r,n){return!0}}class SQ extends cO{constructor(r,n,o,a,c){super(),this.value=r,this.validateValue=n,this.setValue=o,this.priority=a,c&&(this.subPriority=c)}validate(r,n){return this.validateValue(r,this.value,n)}set(r,n,o){return this.setValue(r,n,this.value,o)}}class EQ extends cO{constructor(){super(...arguments);vt(this,"priority",xQ);vt(this,"subPriority",-1)}set(n,o){return o.timestampIsSet?n:ur(n,CQ(n,Date))}}let er=class{run(r,n,o,a){const c=this.parse(r,n,o,a);return c?{setter:new SQ(c.value,this.validate,this.set,this.priority,this.subPriority),rest:c.rest}:null}validate(r,n,o){return!0}};class DQ extends er{constructor(){super(...arguments);vt(this,"priority",140);vt(this,"incompatibleTokens",["R","u","t","T"])}parse(n,o,a){switch(o){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"})||a.era(n,{width:"narrow"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})||a.era(n,{width:"abbreviated"})||a.era(n,{width:"narrow"})}}set(n,o,a){return o.era=a,n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}const _i={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},jl={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ai(t,r){return t&&{value:r(t.value),rest:t.rest}}function Jr(t,r){const n=r.match(t);return n?{value:parseInt(n[0],10),rest:r.slice(n[0].length)}:null}function Rl(t,r){const n=r.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:r.slice(1)};const o=n[1]==="+"?1:-1,a=n[2]?parseInt(n[2],10):0,c=n[3]?parseInt(n[3],10):0,d=n[5]?parseInt(n[5],10):0;return{value:o*(a*w1+c*k1+d*yK),rest:r.slice(n[0].length)}}function uO(t){return Jr(_i.anyDigitsSigned,t)}function hi(t,r){switch(t){case 1:return Jr(_i.singleDigit,r);case 2:return Jr(_i.twoDigits,r);case 3:return Jr(_i.threeDigits,r);case 4:return Jr(_i.fourDigits,r);default:return Jr(new RegExp("^\\d{1,"+t+"}"),r)}}function qk(t,r){switch(t){case 1:return Jr(_i.singleDigitSigned,r);case 2:return Jr(_i.twoDigitsSigned,r);case 3:return Jr(_i.threeDigitsSigned,r);case 4:return Jr(_i.fourDigitsSigned,r);default:return Jr(new RegExp("^-?\\d{1,"+t+"}"),r)}}function WA(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function dO(t,r){const n=r>0,o=n?r:1-r;let a;if(o<=50)a=t||100;else{const c=o+50,d=Math.trunc(c/100)*100,f=t>=c%100;a=t+d-(f?100:0)}return n?a:1-a}function hO(t){return t%400===0||t%4===0&&t%100!==0}class IQ extends er{constructor(){super(...arguments);vt(this,"priority",130);vt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,o,a){const c=d=>({year:d,isTwoDigitYear:o==="yy"});switch(o){case"y":return Ai(hi(4,n),c);case"yo":return Ai(a.ordinalNumber(n,{unit:"year"}),c);default:return Ai(hi(o.length,n),c)}}validate(n,o){return o.isTwoDigitYear||o.year>0}set(n,o,a){const c=n.getFullYear();if(a.isTwoDigitYear){const f=dO(a.year,c);return n.setFullYear(f,0,1),n.setHours(0,0,0,0),n}const d=!("era"in o)||o.era===1?a.year:1-a.year;return n.setFullYear(d,0,1),n.setHours(0,0,0,0),n}}class TQ extends er{constructor(){super(...arguments);vt(this,"priority",130);vt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,o,a){const c=d=>({year:d,isTwoDigitYear:o==="YY"});switch(o){case"Y":return Ai(hi(4,n),c);case"Yo":return Ai(a.ordinalNumber(n,{unit:"year"}),c);default:return Ai(hi(o.length,n),c)}}validate(n,o){return o.isTwoDigitYear||o.year>0}set(n,o,a,c){const d=$A(n,c);if(a.isTwoDigitYear){const p=dO(a.year,d);return n.setFullYear(p,0,c.firstWeekContainsDate),n.setHours(0,0,0,0),zc(n,c)}const f=!("era"in o)||o.era===1?a.year:1-a.year;return n.setFullYear(f,0,c.firstWeekContainsDate),n.setHours(0,0,0,0),zc(n,c)}}class NQ extends er{constructor(){super(...arguments);vt(this,"priority",130);vt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,o){return qk(o==="R"?4:o.length,n)}set(n,o,a){const c=ur(n,0);return c.setFullYear(a,0,4),c.setHours(0,0,0,0),dp(c)}}class MQ extends er{constructor(){super(...arguments);vt(this,"priority",130);vt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,o){return qk(o==="u"?4:o.length,n)}set(n,o,a){return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}class PQ extends er{constructor(){super(...arguments);vt(this,"priority",120);vt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,o,a){switch(o){case"Q":case"QQ":return hi(o.length,n);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"})||a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})||a.quarter(n,{width:"abbreviated",context:"formatting"})||a.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=1&&o<=4}set(n,o,a){return n.setMonth((a-1)*3,1),n.setHours(0,0,0,0),n}}class OQ extends er{constructor(){super(...arguments);vt(this,"priority",120);vt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,o,a){switch(o){case"q":case"qq":return hi(o.length,n);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"})||a.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})||a.quarter(n,{width:"abbreviated",context:"standalone"})||a.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,o){return o>=1&&o<=4}set(n,o,a){return n.setMonth((a-1)*3,1),n.setHours(0,0,0,0),n}}class LQ extends er{constructor(){super(...arguments);vt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);vt(this,"priority",110)}parse(n,o,a){const c=d=>d-1;switch(o){case"M":return Ai(Jr(_i.month,n),c);case"MM":return Ai(hi(2,n),c);case"Mo":return Ai(a.ordinalNumber(n,{unit:"month"}),c);case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"})||a.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})||a.month(n,{width:"abbreviated",context:"formatting"})||a.month(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=0&&o<=11}set(n,o,a){return n.setMonth(a,1),n.setHours(0,0,0,0),n}}class BQ extends er{constructor(){super(...arguments);vt(this,"priority",110);vt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,o,a){const c=d=>d-1;switch(o){case"L":return Ai(Jr(_i.month,n),c);case"LL":return Ai(hi(2,n),c);case"Lo":return Ai(a.ordinalNumber(n,{unit:"month"}),c);case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"})||a.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})||a.month(n,{width:"abbreviated",context:"standalone"})||a.month(n,{width:"narrow",context:"standalone"})}}validate(n,o){return o>=0&&o<=11}set(n,o,a){return n.setMonth(a,1),n.setHours(0,0,0,0),n}}function jQ(t,r,n){const o=Ft(t),a=oO(o,n)-r;return o.setDate(o.getDate()-a*7),o}class RQ extends er{constructor(){super(...arguments);vt(this,"priority",100);vt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,o,a){switch(o){case"w":return Jr(_i.week,n);case"wo":return a.ordinalNumber(n,{unit:"week"});default:return hi(o.length,n)}}validate(n,o){return o>=1&&o<=53}set(n,o,a,c){return zc(jQ(n,a,c),c)}}function FQ(t,r){const n=Ft(t),o=HA(n)-r;return n.setDate(n.getDate()-o*7),n}class zQ extends er{constructor(){super(...arguments);vt(this,"priority",100);vt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,o,a){switch(o){case"I":return Jr(_i.week,n);case"Io":return a.ordinalNumber(n,{unit:"week"});default:return hi(o.length,n)}}validate(n,o){return o>=1&&o<=53}set(n,o,a){return dp(FQ(n,a))}}const UQ=[31,28,31,30,31,30,31,31,30,31,30,31],qQ=[31,29,31,30,31,30,31,31,30,31,30,31];class VQ extends er{constructor(){super(...arguments);vt(this,"priority",90);vt(this,"subPriority",1);vt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,o,a){switch(o){case"d":return Jr(_i.date,n);case"do":return a.ordinalNumber(n,{unit:"date"});default:return hi(o.length,n)}}validate(n,o){const a=n.getFullYear(),c=hO(a),d=n.getMonth();return c?o>=1&&o<=qQ[d]:o>=1&&o<=UQ[d]}set(n,o,a){return n.setDate(a),n.setHours(0,0,0,0),n}}class HQ extends er{constructor(){super(...arguments);vt(this,"priority",90);vt(this,"subpriority",1);vt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,o,a){switch(o){case"D":case"DD":return Jr(_i.dayOfYear,n);case"Do":return a.ordinalNumber(n,{unit:"date"});default:return hi(o.length,n)}}validate(n,o){const a=n.getFullYear();return hO(a)?o>=1&&o<=366:o>=1&&o<=365}set(n,o,a){return n.setMonth(0,a),n.setHours(0,0,0,0),n}}function GA(t,r,n){var v,y,w,x;const o=Nh(),a=(n==null?void 0:n.weekStartsOn)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??o.weekStartsOn??((x=(w=o.locale)==null?void 0:w.options)==null?void 0:x.weekStartsOn)??0,c=Ft(t),d=c.getDay(),p=(r%7+7)%7,g=7-a,k=r<0||r>6?r-(d+g)%7:(p+g)%7-(d+g)%7;return Za(c,k)}class $Q extends er{constructor(){super(...arguments);vt(this,"priority",90);vt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,o,a){switch(o){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=0&&o<=6}set(n,o,a,c){return n=GA(n,a,c),n.setHours(0,0,0,0),n}}class WQ extends er{constructor(){super(...arguments);vt(this,"priority",90);vt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,o,a,c){const d=f=>{const p=Math.floor((f-1)/7)*7;return(f+c.weekStartsOn+6)%7+p};switch(o){case"e":case"ee":return Ai(hi(o.length,n),d);case"eo":return Ai(a.ordinalNumber(n,{unit:"day"}),d);case"eee":return a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=0&&o<=6}set(n,o,a,c){return n=GA(n,a,c),n.setHours(0,0,0,0),n}}class GQ extends er{constructor(){super(...arguments);vt(this,"priority",90);vt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,o,a,c){const d=f=>{const p=Math.floor((f-1)/7)*7;return(f+c.weekStartsOn+6)%7+p};switch(o){case"c":case"cc":return Ai(hi(o.length,n),d);case"co":return Ai(a.ordinalNumber(n,{unit:"day"}),d);case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"})||a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})||a.day(n,{width:"abbreviated",context:"standalone"})||a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"})}}validate(n,o){return o>=0&&o<=6}set(n,o,a,c){return n=GA(n,a,c),n.setHours(0,0,0,0),n}}function YQ(t,r){const n=Ft(t),o=_Q(n),a=r-o;return Za(n,a)}class KQ extends er{constructor(){super(...arguments);vt(this,"priority",90);vt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,o,a){const c=d=>d===0?7:d;switch(o){case"i":case"ii":return hi(o.length,n);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return Ai(a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),c);case"iiiii":return Ai(a.day(n,{width:"narrow",context:"formatting"}),c);case"iiiiii":return Ai(a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),c);case"iiii":default:return Ai(a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),c)}}validate(n,o){return o>=1&&o<=7}set(n,o,a){return n=YQ(n,a),n.setHours(0,0,0,0),n}}class QQ extends er{constructor(){super(...arguments);vt(this,"priority",80);vt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,o,a){switch(o){case"a":case"aa":case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,o,a){return n.setHours(WA(a),0,0,0),n}}class JQ extends er{constructor(){super(...arguments);vt(this,"priority",80);vt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,o,a){switch(o){case"b":case"bb":case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,o,a){return n.setHours(WA(a),0,0,0),n}}class ZQ extends er{constructor(){super(...arguments);vt(this,"priority",80);vt(this,"incompatibleTokens",["a","b","t","T"])}parse(n,o,a){switch(o){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,o,a){return n.setHours(WA(a),0,0,0),n}}class XQ extends er{constructor(){super(...arguments);vt(this,"priority",70);vt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,o,a){switch(o){case"h":return Jr(_i.hour12h,n);case"ho":return a.ordinalNumber(n,{unit:"hour"});default:return hi(o.length,n)}}validate(n,o){return o>=1&&o<=12}set(n,o,a){const c=n.getHours()>=12;return c&&a<12?n.setHours(a+12,0,0,0):!c&&a===12?n.setHours(0,0,0,0):n.setHours(a,0,0,0),n}}class eJ extends er{constructor(){super(...arguments);vt(this,"priority",70);vt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,o,a){switch(o){case"H":return Jr(_i.hour23h,n);case"Ho":return a.ordinalNumber(n,{unit:"hour"});default:return hi(o.length,n)}}validate(n,o){return o>=0&&o<=23}set(n,o,a){return n.setHours(a,0,0,0),n}}class tJ extends er{constructor(){super(...arguments);vt(this,"priority",70);vt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,o,a){switch(o){case"K":return Jr(_i.hour11h,n);case"Ko":return a.ordinalNumber(n,{unit:"hour"});default:return hi(o.length,n)}}validate(n,o){return o>=0&&o<=11}set(n,o,a){return n.getHours()>=12&&a<12?n.setHours(a+12,0,0,0):n.setHours(a,0,0,0),n}}class nJ extends er{constructor(){super(...arguments);vt(this,"priority",70);vt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,o,a){switch(o){case"k":return Jr(_i.hour24h,n);case"ko":return a.ordinalNumber(n,{unit:"hour"});default:return hi(o.length,n)}}validate(n,o){return o>=1&&o<=24}set(n,o,a){const c=a<=24?a%24:a;return n.setHours(c,0,0,0),n}}class rJ extends er{constructor(){super(...arguments);vt(this,"priority",60);vt(this,"incompatibleTokens",["t","T"])}parse(n,o,a){switch(o){case"m":return Jr(_i.minute,n);case"mo":return a.ordinalNumber(n,{unit:"minute"});default:return hi(o.length,n)}}validate(n,o){return o>=0&&o<=59}set(n,o,a){return n.setMinutes(a,0,0),n}}class iJ extends er{constructor(){super(...arguments);vt(this,"priority",50);vt(this,"incompatibleTokens",["t","T"])}parse(n,o,a){switch(o){case"s":return Jr(_i.second,n);case"so":return a.ordinalNumber(n,{unit:"second"});default:return hi(o.length,n)}}validate(n,o){return o>=0&&o<=59}set(n,o,a){return n.setSeconds(a,0),n}}class oJ extends er{constructor(){super(...arguments);vt(this,"priority",30);vt(this,"incompatibleTokens",["t","T"])}parse(n,o){const a=c=>Math.trunc(c*Math.pow(10,-o.length+3));return Ai(hi(o.length,n),a)}set(n,o,a){return n.setMilliseconds(a),n}}class sJ extends er{constructor(){super(...arguments);vt(this,"priority",10);vt(this,"incompatibleTokens",["t","T","x"])}parse(n,o){switch(o){case"X":return Rl(jl.basicOptionalMinutes,n);case"XX":return Rl(jl.basic,n);case"XXXX":return Rl(jl.basicOptionalSeconds,n);case"XXXXX":return Rl(jl.extendedOptionalSeconds,n);case"XXX":default:return Rl(jl.extended,n)}}set(n,o,a){return o.timestampIsSet?n:ur(n,n.getTime()-Lk(n)-a)}}class aJ extends er{constructor(){super(...arguments);vt(this,"priority",10);vt(this,"incompatibleTokens",["t","T","X"])}parse(n,o){switch(o){case"x":return Rl(jl.basicOptionalMinutes,n);case"xx":return Rl(jl.basic,n);case"xxxx":return Rl(jl.basicOptionalSeconds,n);case"xxxxx":return Rl(jl.extendedOptionalSeconds,n);case"xxx":default:return Rl(jl.extended,n)}}set(n,o,a){return o.timestampIsSet?n:ur(n,n.getTime()-Lk(n)-a)}}class lJ extends er{constructor(){super(...arguments);vt(this,"priority",40);vt(this,"incompatibleTokens","*")}parse(n){return uO(n)}set(n,o,a){return[ur(n,a*1e3),{timestampIsSet:!0}]}}class cJ extends er{constructor(){super(...arguments);vt(this,"priority",20);vt(this,"incompatibleTokens","*")}parse(n){return uO(n)}set(n,o,a){return[ur(n,a),{timestampIsSet:!0}]}}const uJ={G:new DQ,y:new IQ,Y:new TQ,R:new NQ,u:new MQ,Q:new PQ,q:new OQ,M:new LQ,L:new BQ,w:new RQ,I:new zQ,d:new VQ,D:new HQ,E:new $Q,e:new WQ,c:new GQ,i:new KQ,a:new QQ,b:new JQ,B:new ZQ,h:new XQ,H:new eJ,K:new tJ,k:new nJ,m:new rJ,s:new iJ,S:new oJ,X:new sJ,x:new aJ,t:new lJ,T:new cJ},dJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fJ=/^'([^]*?)'?$/,pJ=/''/g,mJ=/\S/,gJ=/[a-zA-Z]/;function bv(t,r,n,o){var A,D,E,M,P,F,H,V;const a=vQ(),c=(o==null?void 0:o.locale)??a.locale??iO,d=(o==null?void 0:o.firstWeekContainsDate)??((D=(A=o==null?void 0:o.locale)==null?void 0:A.options)==null?void 0:D.firstWeekContainsDate)??a.firstWeekContainsDate??((M=(E=a.locale)==null?void 0:E.options)==null?void 0:M.firstWeekContainsDate)??1,f=(o==null?void 0:o.weekStartsOn)??((F=(P=o==null?void 0:o.locale)==null?void 0:P.options)==null?void 0:F.weekStartsOn)??a.weekStartsOn??((V=(H=a.locale)==null?void 0:H.options)==null?void 0:V.weekStartsOn)??0;if(r==="")return t===""?Ft(n):ur(n,NaN);const p={firstWeekContainsDate:d,weekStartsOn:f,locale:c},g=[new EQ],k=r.match(hJ).map(N=>{const j=N[0];if(j in Uk){const q=Uk[j];return q(N,c.formatLong)}return N}).join("").match(dJ),v=[];for(let N of k){!(o!=null&&o.useAdditionalWeekYearTokens)&&lO(N)&&I_(N,r,t),!(o!=null&&o.useAdditionalDayOfYearTokens)&&aO(N)&&I_(N,r,t);const j=N[0],q=uJ[j];if(q){const{incompatibleTokens:Q}=q;if(Array.isArray(Q)){const R=v.find(Y=>Q.includes(Y.token)||Y.token===j);if(R)throw new RangeError(`The format string mustn't contain \`${R.fullToken}\` and \`${N}\` at the same time`)}else if(q.incompatibleTokens==="*"&&v.length>0)throw new RangeError(`The format string mustn't contain \`${N}\` and any other token at the same time`);v.push({token:j,fullToken:N});const $=q.run(t,N,c.match,p);if(!$)return ur(n,NaN);g.push($.setter),t=$.rest}else{if(j.match(gJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");if(N==="''"?N="'":j==="'"&&(N=bJ(N)),t.indexOf(N)===0)t=t.slice(N.length);else return ur(n,NaN)}}if(t.length>0&&mJ.test(t))return ur(n,NaN);const y=g.map(N=>N.priority).sort((N,j)=>j-N).filter((N,j,q)=>q.indexOf(N)===j).map(N=>g.filter(j=>j.priority===N).sort((j,q)=>q.subPriority-j.subPriority)).map(N=>N[0]);let w=Ft(n);if(isNaN(w.getTime()))return ur(n,NaN);const x={};for(const N of y){if(!N.validate(w,p))return ur(n,NaN);const j=N.set(w,x,p);Array.isArray(j)?(w=j[0],Object.assign(x,j[1])):w=j}return ur(n,w)}function bJ(t){return t.match(fJ)[1].replace(pJ,"'")}function kJ(t,r){const n=Ft(t),o=Ft(r);return n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()}function wJ(t,r){const n=D_(t),o=D_(r);return+n==+o}function yJ(t,r){const n=Ft(t),o=Ft(r);return n.getFullYear()===o.getFullYear()}function Dg(t,r){const n=+Ft(t),[o,a]=[+Ft(r.start),+Ft(r.end)].sort((c,d)=>c-d);return n>=o&&n<=a}function vJ(t,r){return Za(t,-1)}function _J(t,r){const o=SJ(t);let a;if(o.date){const p=EJ(o.date,2);a=DJ(p.restDateString,p.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const c=a.getTime();let d=0,f;if(o.time&&(d=IJ(o.time),isNaN(d)))return new Date(NaN);if(o.timezone){if(f=TJ(o.timezone),isNaN(f))return new Date(NaN)}else{const p=new Date(c+d),g=new Date(0);return g.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),g.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),g}return new Date(c+d+f)}const B0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},AJ=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,CJ=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,xJ=/^([+-])(\d{2})(?::?(\d{2}))?$/;function SJ(t){const r={},n=t.split(B0.dateTimeDelimiter);let o;if(n.length>2)return r;if(/:/.test(n[0])?o=n[0]:(r.date=n[0],o=n[1],B0.timeZoneDelimiter.test(r.date)&&(r.date=t.split(B0.timeZoneDelimiter)[0],o=t.substr(r.date.length,t.length))),o){const a=B0.timezone.exec(o);a?(r.time=o.replace(a[1],""),r.timezone=a[1]):r.time=o}return r}function EJ(t,r){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),o=t.match(n);if(!o)return{year:NaN,restDateString:""};const a=o[1]?parseInt(o[1]):null,c=o[2]?parseInt(o[2]):null;return{year:c===null?a:c*100,restDateString:t.slice((o[1]||o[2]).length)}}function DJ(t,r){if(r===null)return new Date(NaN);const n=t.match(AJ);if(!n)return new Date(NaN);const o=!!n[4],a=zm(n[1]),c=zm(n[2])-1,d=zm(n[3]),f=zm(n[4]),p=zm(n[5])-1;if(o)return LJ(r,f,p)?NJ(r,f,p):new Date(NaN);{const g=new Date(0);return!PJ(r,c,d)||!OJ(r,a)?new Date(NaN):(g.setUTCFullYear(r,c,Math.max(a,d)),g)}}function zm(t){return t?parseInt(t):1}function IJ(t){const r=t.match(CJ);if(!r)return NaN;const n=kv(r[1]),o=kv(r[2]),a=kv(r[3]);return BJ(n,o,a)?n*w1+o*k1+a*1e3:NaN}function kv(t){return t&&parseFloat(t.replace(",","."))||0}function TJ(t){if(t==="Z")return 0;const r=t.match(xJ);if(!r)return 0;const n=r[1]==="+"?-1:1,o=parseInt(r[2]),a=r[3]&&parseInt(r[3])||0;return jJ(o,a)?n*(o*w1+a*k1):NaN}function NJ(t,r,n){const o=new Date(0);o.setUTCFullYear(t,0,4);const a=o.getUTCDay()||7,c=(r-1)*7+n+1-a;return o.setUTCDate(o.getUTCDate()+c),o}const MJ=[31,null,31,30,31,30,31,31,30,31,30,31];function fO(t){return t%400===0||t%4===0&&t%100!==0}function PJ(t,r,n){return r>=0&&r<=11&&n>=1&&n<=(MJ[r]||(fO(t)?29:28))}function OJ(t,r){return r>=1&&r<=(fO(t)?366:365)}function LJ(t,r,n){return r>=1&&r<=53&&n>=0&&n<=6}function BJ(t,r,n){return t===24?r===0&&n===0:n>=0&&n<60&&r>=0&&r<60&&t>=0&&t<25}function jJ(t,r){return r>=0&&r<=59}function Ps(t,r){const n=Ft(t),o=n.getFullYear(),a=n.getDate(),c=ur(t,0);c.setFullYear(o,r,15),c.setHours(0,0,0,0);const d=yQ(c);return n.setMonth(r,Math.min(a,d)),n}function RJ(t,r){let n=Ft(t);return isNaN(+n)?ur(t,NaN):(r.year!=null&&n.setFullYear(r.year),r.month!=null&&(n=Ps(n,r.month)),r.date!=null&&n.setDate(r.date),r.hours!=null&&n.setHours(r.hours),r.minutes!=null&&n.setMinutes(r.minutes),r.seconds!=null&&n.setSeconds(r.seconds),r.milliseconds!=null&&n.setMilliseconds(r.milliseconds),n)}function sk(t,r){const n=Ft(t);return n.setHours(r),n}function ak(t,r){const n=Ft(t);return n.setMinutes(r),n}function Wf(t,r){const n=Ft(t),o=Math.trunc(n.getMonth()/3)+1,a=r-o;return Ps(n,n.getMonth()+a*3)}function lk(t,r){const n=Ft(t);return n.setSeconds(r),n}function Ol(t,r){const n=Ft(t);return isNaN(+n)?ur(t,NaN):(n.setFullYear(r),n)}function ph(t,r){return Xa(t,-r)}function pO(t,r){return VA(t,-1)}function RI(t,r){return Bk(t,-1)}function fp(t,r){return Lc(t,-r)}function v1(){return typeof window<"u"}function vp(t){return mO(t)?(t.nodeName||"").toLowerCase():"#document"}function qs(t){var r;return(t==null||(r=t.ownerDocument)==null?void 0:r.defaultView)||window}function ec(t){var r;return(r=(mO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:r.documentElement}function mO(t){return v1()?t instanceof Node||t instanceof qs(t).Node:!1}function $o(t){return v1()?t instanceof Element||t instanceof qs(t).Element:!1}function Jl(t){return v1()?t instanceof HTMLElement||t instanceof qs(t).HTMLElement:!1}function FI(t){return!v1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof qs(t).ShadowRoot}const FJ=new Set(["inline","contents"]);function Wg(t){const{overflow:r,overflowX:n,overflowY:o,display:a}=Ea(t);return/auto|scroll|overlay|hidden|clip/.test(r+o+n)&&!FJ.has(a)}const zJ=new Set(["table","td","th"]);function UJ(t){return zJ.has(vp(t))}const qJ=[":popover-open",":modal"];function _1(t){return qJ.some(r=>{try{return t.matches(r)}catch{return!1}})}const VJ=["transform","translate","scale","rotate","perspective"],HJ=["transform","translate","scale","rotate","perspective","filter"],$J=["paint","layout","strict","content"];function YA(t){const r=KA(),n=$o(t)?Ea(t):t;return VJ.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!r&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!r&&(n.filter?n.filter!=="none":!1)||HJ.some(o=>(n.willChange||"").includes(o))||$J.some(o=>(n.contain||"").includes(o))}function WJ(t){let r=Qu(t);for(;Jl(r)&&!pp(r);){if(YA(r))return r;if(_1(r))return null;r=Qu(r)}return null}function KA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const GJ=new Set(["html","body","#document"]);function pp(t){return GJ.has(vp(t))}function Ea(t){return qs(t).getComputedStyle(t)}function A1(t){return $o(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Qu(t){if(vp(t)==="html")return t;const r=t.assignedSlot||t.parentNode||FI(t)&&t.host||ec(t);return FI(r)?r.host:r}function gO(t){const r=Qu(t);return pp(r)?t.ownerDocument?t.ownerDocument.body:t.body:Jl(r)&&Wg(r)?r:gO(r)}function Ig(t,r,n){var o;r===void 0&&(r=[]),n===void 0&&(n=!0);const a=gO(t),c=a===((o=t.ownerDocument)==null?void 0:o.body),d=qs(a);if(c){const f=N_(d);return r.concat(d,d.visualViewport||[],Wg(a)?a:[],f&&n?Ig(f):[])}return r.concat(a,Ig(a,[],n))}function N_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const mp=Math.min,mh=Math.max,Vk=Math.round,j0=Math.floor,Wl=t=>({x:t,y:t}),YJ={left:"right",right:"left",bottom:"top",top:"bottom"},KJ={start:"end",end:"start"};function QJ(t,r,n){return mh(t,mp(r,n))}function C1(t,r){return typeof t=="function"?t(r):t}function gp(t){return t.split("-")[0]}function Gg(t){return t.split("-")[1]}function JJ(t){return t==="x"?"y":"x"}function QA(t){return t==="y"?"height":"width"}const ZJ=new Set(["top","bottom"]);function sh(t){return ZJ.has(gp(t))?"y":"x"}function JA(t){return JJ(sh(t))}function XJ(t,r,n){n===void 0&&(n=!1);const o=Gg(t),a=JA(t),c=QA(a);let d=a==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return r.reference[c]>r.floating[c]&&(d=Hk(d)),[d,Hk(d)]}function eZ(t){const r=Hk(t);return[M_(t),r,M_(r)]}function M_(t){return t.replace(/start|end/g,r=>KJ[r])}const zI=["left","right"],UI=["right","left"],tZ=["top","bottom"],nZ=["bottom","top"];function rZ(t,r,n){switch(t){case"top":case"bottom":return n?r?UI:zI:r?zI:UI;case"left":case"right":return r?tZ:nZ;default:return[]}}function iZ(t,r,n,o){const a=Gg(t);let c=rZ(gp(t),n==="start",o);return a&&(c=c.map(d=>d+"-"+a),r&&(c=c.concat(c.map(M_)))),c}function Hk(t){return t.replace(/left|right|bottom|top/g,r=>YJ[r])}function oZ(t){return{top:0,right:0,bottom:0,left:0,...t}}function bO(t){return typeof t!="number"?oZ(t):{top:t,right:t,bottom:t,left:t}}function $k(t){const{x:r,y:n,width:o,height:a}=t;return{width:o,height:a,top:n,left:r,right:r+o,bottom:n+a,x:r,y:n}}var sZ=typeof document<"u",aZ=function(){},Wk=sZ?K.useLayoutEffect:aZ;const lZ={...f1},cZ=lZ.useInsertionEffect,uZ=cZ||(t=>t());function dZ(t){const r=K.useRef(()=>{});return uZ(()=>{r.current=t}),K.useCallback(function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r.current==null?void 0:r.current(...o)},[])}function qI(t,r,n){let{reference:o,floating:a}=t;const c=sh(r),d=JA(r),f=QA(d),p=gp(r),g=c==="y",k=o.x+o.width/2-a.width/2,v=o.y+o.height/2-a.height/2,y=o[f]/2-a[f]/2;let w;switch(p){case"top":w={x:k,y:o.y-a.height};break;case"bottom":w={x:k,y:o.y+o.height};break;case"right":w={x:o.x+o.width,y:v};break;case"left":w={x:o.x-a.width,y:v};break;default:w={x:o.x,y:o.y}}switch(Gg(r)){case"start":w[d]-=y*(n&&g?-1:1);break;case"end":w[d]+=y*(n&&g?-1:1);break}return w}const hZ=async(t,r,n)=>{const{placement:o="bottom",strategy:a="absolute",middleware:c=[],platform:d}=n,f=c.filter(Boolean),p=await(d.isRTL==null?void 0:d.isRTL(r));let g=await d.getElementRects({reference:t,floating:r,strategy:a}),{x:k,y:v}=qI(g,o,p),y=o,w={},x=0;for(let A=0;A<f.length;A++){const{name:D,fn:E}=f[A],{x:M,y:P,data:F,reset:H}=await E({x:k,y:v,initialPlacement:o,placement:y,strategy:a,middlewareData:w,rects:g,platform:d,elements:{reference:t,floating:r}});k=M??k,v=P??v,w={...w,[D]:{...w[D],...F}},H&&x<=50&&(x++,typeof H=="object"&&(H.placement&&(y=H.placement),H.rects&&(g=H.rects===!0?await d.getElementRects({reference:t,floating:r,strategy:a}):H.rects),{x:k,y:v}=qI(g,y,p)),A=-1)}return{x:k,y:v,placement:y,strategy:a,middlewareData:w}};async function fZ(t,r){var n;r===void 0&&(r={});const{x:o,y:a,platform:c,rects:d,elements:f,strategy:p}=t,{boundary:g="clippingAncestors",rootBoundary:k="viewport",elementContext:v="floating",altBoundary:y=!1,padding:w=0}=C1(r,t),x=bO(w),D=f[y?v==="floating"?"reference":"floating":v],E=$k(await c.getClippingRect({element:(n=await(c.isElement==null?void 0:c.isElement(D)))==null||n?D:D.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:g,rootBoundary:k,strategy:p})),M=v==="floating"?{x:o,y:a,width:d.floating.width,height:d.floating.height}:d.reference,P=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),F=await(c.isElement==null?void 0:c.isElement(P))?await(c.getScale==null?void 0:c.getScale(P))||{x:1,y:1}:{x:1,y:1},H=$k(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:M,offsetParent:P,strategy:p}):M);return{top:(E.top-H.top+x.top)/F.y,bottom:(H.bottom-E.bottom+x.bottom)/F.y,left:(E.left-H.left+x.left)/F.x,right:(H.right-E.right+x.right)/F.x}}const pZ=t=>({name:"arrow",options:t,async fn(r){const{x:n,y:o,placement:a,rects:c,platform:d,elements:f,middlewareData:p}=r,{element:g,padding:k=0}=C1(t,r)||{};if(g==null)return{};const v=bO(k),y={x:n,y:o},w=JA(a),x=QA(w),A=await d.getDimensions(g),D=w==="y",E=D?"top":"left",M=D?"bottom":"right",P=D?"clientHeight":"clientWidth",F=c.reference[x]+c.reference[w]-y[w]-c.floating[x],H=y[w]-c.reference[w],V=await(d.getOffsetParent==null?void 0:d.getOffsetParent(g));let N=V?V[P]:0;(!N||!await(d.isElement==null?void 0:d.isElement(V)))&&(N=f.floating[P]||c.floating[x]);const j=F/2-H/2,q=N/2-A[x]/2-1,Q=mp(v[E],q),$=mp(v[M],q),R=Q,Y=N-A[x]-$,B=N/2-A[x]/2+j,ne=QJ(R,B,Y),de=!p.arrow&&Gg(a)!=null&&B!==ne&&c.reference[x]/2-(B<R?Q:$)-A[x]/2<0,ae=de?B<R?B-R:B-Y:0;return{[w]:y[w]+ae,data:{[w]:ne,centerOffset:B-ne-ae,...de&&{alignmentOffset:ae}},reset:de}}}),mZ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(r){var n,o;const{placement:a,middlewareData:c,rects:d,initialPlacement:f,platform:p,elements:g}=r,{mainAxis:k=!0,crossAxis:v=!0,fallbackPlacements:y,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:A=!0,...D}=C1(t,r);if((n=c.arrow)!=null&&n.alignmentOffset)return{};const E=gp(a),M=sh(f),P=gp(f)===f,F=await(p.isRTL==null?void 0:p.isRTL(g.floating)),H=y||(P||!A?[Hk(f)]:eZ(f)),V=x!=="none";!y&&V&&H.push(...iZ(f,A,x,F));const N=[f,...H],j=await fZ(r,D),q=[];let Q=((o=c.flip)==null?void 0:o.overflows)||[];if(k&&q.push(j[E]),v){const B=XJ(a,d,F);q.push(j[B[0]],j[B[1]])}if(Q=[...Q,{placement:a,overflows:q}],!q.every(B=>B<=0)){var $,R;const B=((($=c.flip)==null?void 0:$.index)||0)+1,ne=N[B];if(ne&&(!(v==="alignment"?M!==sh(ne):!1)||Q.every(oe=>oe.overflows[0]>0&&sh(oe.placement)===M)))return{data:{index:B,overflows:Q},reset:{placement:ne}};let de=(R=Q.filter(ae=>ae.overflows[0]<=0).sort((ae,oe)=>ae.overflows[1]-oe.overflows[1])[0])==null?void 0:R.placement;if(!de)switch(w){case"bestFit":{var Y;const ae=(Y=Q.filter(oe=>{if(V){const ye=sh(oe.placement);return ye===M||ye==="y"}return!0}).map(oe=>[oe.placement,oe.overflows.filter(ye=>ye>0).reduce((ye,re)=>ye+re,0)]).sort((oe,ye)=>oe[1]-ye[1])[0])==null?void 0:Y[0];ae&&(de=ae);break}case"initialPlacement":de=f;break}if(a!==de)return{reset:{placement:de}}}return{}}}},gZ=new Set(["left","top"]);async function bZ(t,r){const{placement:n,platform:o,elements:a}=t,c=await(o.isRTL==null?void 0:o.isRTL(a.floating)),d=gp(n),f=Gg(n),p=sh(n)==="y",g=gZ.has(d)?-1:1,k=c&&p?-1:1,v=C1(r,t);let{mainAxis:y,crossAxis:w,alignmentAxis:x}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return f&&typeof x=="number"&&(w=f==="end"?x*-1:x),p?{x:w*k,y:y*g}:{x:y*g,y:w*k}}const kZ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(r){var n,o;const{x:a,y:c,placement:d,middlewareData:f}=r,p=await bZ(r,t);return d===((n=f.offset)==null?void 0:n.placement)&&(o=f.arrow)!=null&&o.alignmentOffset?{}:{x:a+p.x,y:c+p.y,data:{...p,placement:d}}}}};function kO(t){const r=Ea(t);let n=parseFloat(r.width)||0,o=parseFloat(r.height)||0;const a=Jl(t),c=a?t.offsetWidth:n,d=a?t.offsetHeight:o,f=Vk(n)!==c||Vk(o)!==d;return f&&(n=c,o=d),{width:n,height:o,$:f}}function ZA(t){return $o(t)?t:t.contextElement}function Xf(t){const r=ZA(t);if(!Jl(r))return Wl(1);const n=r.getBoundingClientRect(),{width:o,height:a,$:c}=kO(r);let d=(c?Vk(n.width):n.width)/o,f=(c?Vk(n.height):n.height)/a;return(!d||!Number.isFinite(d))&&(d=1),(!f||!Number.isFinite(f))&&(f=1),{x:d,y:f}}const wZ=Wl(0);function wO(t){const r=qs(t);return!KA()||!r.visualViewport?wZ:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function yZ(t,r,n){return r===void 0&&(r=!1),!n||r&&n!==qs(t)?!1:r}function Ch(t,r,n,o){r===void 0&&(r=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),c=ZA(t);let d=Wl(1);r&&(o?$o(o)&&(d=Xf(o)):d=Xf(t));const f=yZ(c,n,o)?wO(c):Wl(0);let p=(a.left+f.x)/d.x,g=(a.top+f.y)/d.y,k=a.width/d.x,v=a.height/d.y;if(c){const y=qs(c),w=o&&$o(o)?qs(o):o;let x=y,A=N_(x);for(;A&&o&&w!==x;){const D=Xf(A),E=A.getBoundingClientRect(),M=Ea(A),P=E.left+(A.clientLeft+parseFloat(M.paddingLeft))*D.x,F=E.top+(A.clientTop+parseFloat(M.paddingTop))*D.y;p*=D.x,g*=D.y,k*=D.x,v*=D.y,p+=P,g+=F,x=qs(A),A=N_(x)}}return $k({width:k,height:v,x:p,y:g})}function XA(t,r){const n=A1(t).scrollLeft;return r?r.left+n:Ch(ec(t)).left+n}function yO(t,r,n){n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=o.left+r.scrollLeft-(n?0:XA(t,o)),c=o.top+r.scrollTop;return{x:a,y:c}}function vZ(t){let{elements:r,rect:n,offsetParent:o,strategy:a}=t;const c=a==="fixed",d=ec(o),f=r?_1(r.floating):!1;if(o===d||f&&c)return n;let p={scrollLeft:0,scrollTop:0},g=Wl(1);const k=Wl(0),v=Jl(o);if((v||!v&&!c)&&((vp(o)!=="body"||Wg(d))&&(p=A1(o)),Jl(o))){const w=Ch(o);g=Xf(o),k.x=w.x+o.clientLeft,k.y=w.y+o.clientTop}const y=d&&!v&&!c?yO(d,p,!0):Wl(0);return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-p.scrollLeft*g.x+k.x+y.x,y:n.y*g.y-p.scrollTop*g.y+k.y+y.y}}function _Z(t){return Array.from(t.getClientRects())}function AZ(t){const r=ec(t),n=A1(t),o=t.ownerDocument.body,a=mh(r.scrollWidth,r.clientWidth,o.scrollWidth,o.clientWidth),c=mh(r.scrollHeight,r.clientHeight,o.scrollHeight,o.clientHeight);let d=-n.scrollLeft+XA(t);const f=-n.scrollTop;return Ea(o).direction==="rtl"&&(d+=mh(r.clientWidth,o.clientWidth)-a),{width:a,height:c,x:d,y:f}}function CZ(t,r){const n=qs(t),o=ec(t),a=n.visualViewport;let c=o.clientWidth,d=o.clientHeight,f=0,p=0;if(a){c=a.width,d=a.height;const g=KA();(!g||g&&r==="fixed")&&(f=a.offsetLeft,p=a.offsetTop)}return{width:c,height:d,x:f,y:p}}const xZ=new Set(["absolute","fixed"]);function SZ(t,r){const n=Ch(t,!0,r==="fixed"),o=n.top+t.clientTop,a=n.left+t.clientLeft,c=Jl(t)?Xf(t):Wl(1),d=t.clientWidth*c.x,f=t.clientHeight*c.y,p=a*c.x,g=o*c.y;return{width:d,height:f,x:p,y:g}}function VI(t,r,n){let o;if(r==="viewport")o=CZ(t,n);else if(r==="document")o=AZ(ec(t));else if($o(r))o=SZ(r,n);else{const a=wO(t);o={x:r.x-a.x,y:r.y-a.y,width:r.width,height:r.height}}return $k(o)}function vO(t,r){const n=Qu(t);return n===r||!$o(n)||pp(n)?!1:Ea(n).position==="fixed"||vO(n,r)}function EZ(t,r){const n=r.get(t);if(n)return n;let o=Ig(t,[],!1).filter(f=>$o(f)&&vp(f)!=="body"),a=null;const c=Ea(t).position==="fixed";let d=c?Qu(t):t;for(;$o(d)&&!pp(d);){const f=Ea(d),p=YA(d);!p&&f.position==="fixed"&&(a=null),(c?!p&&!a:!p&&f.position==="static"&&!!a&&xZ.has(a.position)||Wg(d)&&!p&&vO(t,d))?o=o.filter(k=>k!==d):a=f,d=Qu(d)}return r.set(t,o),o}function DZ(t){let{element:r,boundary:n,rootBoundary:o,strategy:a}=t;const d=[...n==="clippingAncestors"?_1(r)?[]:EZ(r,this._c):[].concat(n),o],f=d[0],p=d.reduce((g,k)=>{const v=VI(r,k,a);return g.top=mh(v.top,g.top),g.right=mp(v.right,g.right),g.bottom=mp(v.bottom,g.bottom),g.left=mh(v.left,g.left),g},VI(r,f,a));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function IZ(t){const{width:r,height:n}=kO(t);return{width:r,height:n}}function TZ(t,r,n){const o=Jl(r),a=ec(r),c=n==="fixed",d=Ch(t,!0,c,r);let f={scrollLeft:0,scrollTop:0};const p=Wl(0);function g(){p.x=XA(a)}if(o||!o&&!c)if((vp(r)!=="body"||Wg(a))&&(f=A1(r)),o){const w=Ch(r,!0,c,r);p.x=w.x+r.clientLeft,p.y=w.y+r.clientTop}else a&&g();c&&!o&&a&&g();const k=a&&!o&&!c?yO(a,f):Wl(0),v=d.left+f.scrollLeft-p.x-k.x,y=d.top+f.scrollTop-p.y-k.y;return{x:v,y,width:d.width,height:d.height}}function wv(t){return Ea(t).position==="static"}function HI(t,r){if(!Jl(t)||Ea(t).position==="fixed")return null;if(r)return r(t);let n=t.offsetParent;return ec(t)===n&&(n=n.ownerDocument.body),n}function _O(t,r){const n=qs(t);if(_1(t))return n;if(!Jl(t)){let a=Qu(t);for(;a&&!pp(a);){if($o(a)&&!wv(a))return a;a=Qu(a)}return n}let o=HI(t,r);for(;o&&UJ(o)&&wv(o);)o=HI(o,r);return o&&pp(o)&&wv(o)&&!YA(o)?n:o||WJ(t)||n}const NZ=async function(t){const r=this.getOffsetParent||_O,n=this.getDimensions,o=await n(t.floating);return{reference:TZ(t.reference,await r(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function MZ(t){return Ea(t).direction==="rtl"}const PZ={convertOffsetParentRelativeRectToViewportRelativeRect:vZ,getDocumentElement:ec,getClippingRect:DZ,getOffsetParent:_O,getElementRects:NZ,getClientRects:_Z,getDimensions:IZ,getScale:Xf,isElement:$o,isRTL:MZ};function AO(t,r){return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height}function OZ(t,r){let n=null,o;const a=ec(t);function c(){var f;clearTimeout(o),(f=n)==null||f.disconnect(),n=null}function d(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),c();const g=t.getBoundingClientRect(),{left:k,top:v,width:y,height:w}=g;if(f||r(),!y||!w)return;const x=j0(v),A=j0(a.clientWidth-(k+y)),D=j0(a.clientHeight-(v+w)),E=j0(k),P={rootMargin:-x+"px "+-A+"px "+-D+"px "+-E+"px",threshold:mh(0,mp(1,p))||1};let F=!0;function H(V){const N=V[0].intersectionRatio;if(N!==p){if(!F)return d();N?d(!1,N):o=setTimeout(()=>{d(!1,1e-7)},1e3)}N===1&&!AO(g,t.getBoundingClientRect())&&d(),F=!1}try{n=new IntersectionObserver(H,{...P,root:a.ownerDocument})}catch{n=new IntersectionObserver(H,P)}n.observe(t)}return d(!0),c}function LZ(t,r,n,o){o===void 0&&(o={});const{ancestorScroll:a=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=o,g=ZA(t),k=a||c?[...g?Ig(g):[],...Ig(r)]:[];k.forEach(E=>{a&&E.addEventListener("scroll",n,{passive:!0}),c&&E.addEventListener("resize",n)});const v=g&&f?OZ(g,n):null;let y=-1,w=null;d&&(w=new ResizeObserver(E=>{let[M]=E;M&&M.target===g&&w&&(w.unobserve(r),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var P;(P=w)==null||P.observe(r)})),n()}),g&&!p&&w.observe(g),w.observe(r));let x,A=p?Ch(t):null;p&&D();function D(){const E=Ch(t);A&&!AO(A,E)&&n(),A=E,x=requestAnimationFrame(D)}return n(),()=>{var E;k.forEach(M=>{a&&M.removeEventListener("scroll",n),c&&M.removeEventListener("resize",n)}),v==null||v(),(E=w)==null||E.disconnect(),w=null,p&&cancelAnimationFrame(x)}}const BZ=kZ,jZ=mZ,$I=pZ,RZ=(t,r,n)=>{const o=new Map,a={platform:PZ,...n},c={...a.platform,_c:o};return hZ(t,r,{...a,platform:c})};var FZ=typeof document<"u",zZ=function(){},ck=FZ?K.useLayoutEffect:zZ;function Gk(t,r){if(t===r)return!0;if(typeof t!=typeof r)return!1;if(typeof t=="function"&&t.toString()===r.toString())return!0;let n,o,a;if(t&&r&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==r.length)return!1;for(o=n;o--!==0;)if(!Gk(t[o],r[o]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(r,a[o]))return!1;for(o=n;o--!==0;){const c=a[o];if(!(c==="_owner"&&t.$$typeof)&&!Gk(t[c],r[c]))return!1}return!0}return t!==t&&r!==r}function CO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function WI(t,r){const n=CO(t);return Math.round(r*n)/n}function yv(t){const r=K.useRef(t);return ck(()=>{r.current=t}),r}function UZ(t){t===void 0&&(t={});const{placement:r="bottom",strategy:n="absolute",middleware:o=[],platform:a,elements:{reference:c,floating:d}={},transform:f=!0,whileElementsMounted:p,open:g}=t,[k,v]=K.useState({x:0,y:0,strategy:n,placement:r,middlewareData:{},isPositioned:!1}),[y,w]=K.useState(o);Gk(y,o)||w(o);const[x,A]=K.useState(null),[D,E]=K.useState(null),M=K.useCallback(oe=>{oe!==V.current&&(V.current=oe,A(oe))},[]),P=K.useCallback(oe=>{oe!==N.current&&(N.current=oe,E(oe))},[]),F=c||x,H=d||D,V=K.useRef(null),N=K.useRef(null),j=K.useRef(k),q=p!=null,Q=yv(p),$=yv(a),R=yv(g),Y=K.useCallback(()=>{if(!V.current||!N.current)return;const oe={placement:r,strategy:n,middleware:y};$.current&&(oe.platform=$.current),RZ(V.current,N.current,oe).then(ye=>{const re={...ye,isPositioned:R.current!==!1};B.current&&!Gk(j.current,re)&&(j.current=re,oP.flushSync(()=>{v(re)}))})},[y,r,n,$,R]);ck(()=>{g===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,v(oe=>({...oe,isPositioned:!1})))},[g]);const B=K.useRef(!1);ck(()=>(B.current=!0,()=>{B.current=!1}),[]),ck(()=>{if(F&&(V.current=F),H&&(N.current=H),F&&H){if(Q.current)return Q.current(F,H,Y);Y()}},[F,H,Y,Q,q]);const ne=K.useMemo(()=>({reference:V,floating:N,setReference:M,setFloating:P}),[M,P]),de=K.useMemo(()=>({reference:F,floating:H}),[F,H]),ae=K.useMemo(()=>{const oe={position:n,left:0,top:0};if(!de.floating)return oe;const ye=WI(de.floating,k.x),re=WI(de.floating,k.y);return f?{...oe,transform:"translate("+ye+"px, "+re+"px)",...CO(de.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ye,top:re}},[n,f,de.floating,k.x,k.y]);return K.useMemo(()=>({...k,update:Y,refs:ne,elements:de,floatingStyles:ae}),[k,Y,ne,de,ae])}const qZ=t=>{function r(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:a}=typeof t=="function"?t(n):t;return o&&r(o)?o.current!=null?$I({element:o.current,padding:a}).fn(n):{}:o?$I({element:o,padding:a}).fn(n):{}}}},VZ=(t,r)=>({...BZ(t),options:[t,r]}),HZ=(t,r)=>({...jZ(t),options:[t,r]}),$Z=(t,r)=>({...qZ(t),options:[t,r]}),WZ={...f1};let GI=!1,GZ=0;const YI=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+GZ++;function YZ(){const[t,r]=K.useState(()=>GI?YI():void 0);return Wk(()=>{t==null&&r(YI())},[]),K.useEffect(()=>{GI=!0},[]),t}const KZ=WZ.useId,xO=KZ||YZ,QZ=K.forwardRef(function(r,n){const{context:{placement:o,elements:{floating:a},middlewareData:{arrow:c,shift:d}},width:f=14,height:p=7,tipRadius:g=0,strokeWidth:k=0,staticOffset:v,stroke:y,d:w,style:{transform:x,...A}={},...D}=r,E=xO(),[M,P]=K.useState(!1);if(Wk(()=>{if(!a)return;Ea(a).direction==="rtl"&&P(!0)},[a]),!a)return null;const[F,H]=o.split("-"),V=F==="top"||F==="bottom";let N=v;(V&&d!=null&&d.x||!V&&d!=null&&d.y)&&(N=null);const j=k*2,q=j/2,Q=f/2*(g/-8+1),$=p/2*g/4,R=!!w,Y=N&&H==="end"?"bottom":"top";let B=N&&H==="end"?"right":"left";N&&M&&(B=H==="end"?"left":"right");const ne=(c==null?void 0:c.x)!=null?N||c.x:"",de=(c==null?void 0:c.y)!=null?N||c.y:"",ae=w||"M0,0"+(" H"+f)+(" L"+(f-Q)+","+(p-$))+(" Q"+f/2+","+p+" "+Q+","+(p-$))+" Z",oe={top:R?"rotate(180deg)":"",left:R?"rotate(90deg)":"rotate(-90deg)",bottom:R?"":"rotate(180deg)",right:R?"rotate(-90deg)":"rotate(90deg)"}[F];return C.jsxs("svg",{...D,"aria-hidden":!0,ref:n,width:R?f:f+j,height:f,viewBox:"0 0 "+f+" "+(p>f?p:f),style:{position:"absolute",pointerEvents:"none",[B]:ne,[Y]:de,[F]:V||R?"100%":"calc(100% - "+j/2+"px)",transform:[oe,x].filter(ye=>!!ye).join(" "),...A},children:[j>0&&C.jsx("path",{clipPath:"url(#"+E+")",fill:"none",stroke:y,strokeWidth:j+(w?0:1),d:ae}),C.jsx("path",{stroke:j&&!w?D.fill:"none",d:ae}),C.jsx("clipPath",{id:E,children:C.jsx("rect",{x:-q,y:q*(R?-1:1),width:f+j,height:f})})]})});function JZ(){const t=new Map;return{emit(r,n){var o;(o=t.get(r))==null||o.forEach(a=>a(n))},on(r,n){t.has(r)||t.set(r,new Set),t.get(r).add(n)},off(r,n){var o;(o=t.get(r))==null||o.delete(n)}}}const ZZ=K.createContext(null),XZ=K.createContext(null),eX=()=>{var t;return((t=K.useContext(ZZ))==null?void 0:t.id)||null},tX=()=>K.useContext(XZ);function nX(t){const{open:r=!1,onOpenChange:n,elements:o}=t,a=xO(),c=K.useRef({}),[d]=K.useState(()=>JZ()),f=eX()!=null,[p,g]=K.useState(o.reference),k=dZ((w,x,A)=>{c.current.openEvent=w?x:void 0,d.emit("openchange",{open:w,event:x,reason:A,nested:f}),n==null||n(w,x,A)}),v=K.useMemo(()=>({setPositionReference:g}),[]),y=K.useMemo(()=>({reference:p||o.reference||null,floating:o.floating||null,domReference:o.reference}),[p,o.reference,o.floating]);return K.useMemo(()=>({dataRef:c,open:r,onOpenChange:k,elements:y,events:d,floatingId:a,refs:v}),[r,k,y,d,a,v])}function rX(t){t===void 0&&(t={});const{nodeId:r}=t,n=nX({...t,elements:{reference:null,floating:null,...t.elements}}),o=t.rootContext||n,a=o.elements,[c,d]=K.useState(null),[f,p]=K.useState(null),k=(a==null?void 0:a.domReference)||c,v=K.useRef(null),y=tX();Wk(()=>{k&&(v.current=k)},[k]);const w=UZ({...t,elements:{...a,...f&&{reference:f}}}),x=K.useCallback(P=>{const F=$o(P)?{getBoundingClientRect:()=>P.getBoundingClientRect(),getClientRects:()=>P.getClientRects(),contextElement:P}:P;p(F),w.refs.setReference(F)},[w.refs]),A=K.useCallback(P=>{($o(P)||P===null)&&(v.current=P,d(P)),($o(w.refs.reference.current)||w.refs.reference.current===null||P!==null&&!$o(P))&&w.refs.setReference(P)},[w.refs]),D=K.useMemo(()=>({...w.refs,setReference:A,setPositionReference:x,domReference:v}),[w.refs,A,x]),E=K.useMemo(()=>({...w.elements,domReference:k}),[w.elements,k]),M=K.useMemo(()=>({...w,...o,refs:D,elements:E,nodeId:r}),[w,D,E,r,o]);return Wk(()=>{o.dataRef.current.floatingContext=M;const P=y==null?void 0:y.nodesRef.current.find(F=>F.id===r);P&&(P.context=M)}),K.useMemo(()=>({...w,context:M,refs:D,elements:E}),[w,D,E,M])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var P_=function(r,n){return P_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])},P_(r,n)};function Qi(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");P_(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var Hn=function(){return Hn=Object.assign||function(n){for(var o,a=1,c=arguments.length;a<c;a++){o=arguments[a];for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(n[d]=o[d])}return n},Hn.apply(this,arguments)};function ql(t,r,n){if(n||arguments.length===2)for(var o=0,a=r.length,c;o<a;o++)(c||!(o in r))&&(c||(c=Array.prototype.slice.call(r,0,o)),c[o]=r[o]);return t.concat(c||Array.prototype.slice.call(r))}var iX=function(t){var r=t.showTimeSelectOnly,n=r===void 0?!1:r,o=t.showTime,a=o===void 0?!1:o,c=t.className,d=t.children,f=n?"Choose Time":"Choose Date".concat(a?" and Time":"");return st.createElement("div",{className:c,role:"dialog","aria-label":f,"aria-modal":"true"},d)},oX=function(t,r){var n=K.useRef(null),o=K.useRef(t);o.current=t;var a=K.useCallback(function(c){var d;n.current&&!n.current.contains(c.target)&&(r&&c.target instanceof HTMLElement&&c.target.classList.contains(r)||(d=o.current)===null||d===void 0||d.call(o,c))},[r]);return K.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),n},x1=function(t){var r=t.children,n=t.onClickOutside,o=t.className,a=t.containerRef,c=t.style,d=t.ignoreClass,f=oX(n,d);return st.createElement("div",{className:o,style:c,ref:function(p){f.current=p,a&&(a.current=p)}},r)},Bt;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(Bt||(Bt={}));function SO(){var t=typeof window<"u"?window:globalThis;return t}var Yg=12,sX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function dr(t){if(t==null)return new Date;var r=typeof t=="string"?_J(t):Ft(t);return Mc(r)?r:new Date}function vv(t,r,n,o,a){var c,d=null,f=gh(n)||gh(ug()),p=!0;if(Array.isArray(r))return r.forEach(function(k){var v=bv(t,k,new Date,{locale:f,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});o&&(p=Mc(v,a)&&t===Tr(v,k,n)),Mc(v,a)&&p&&(d=v)}),d;if(d=bv(t,r,new Date,{locale:f,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),o)p=Mc(d)&&t===Tr(d,r,n);else if(!Mc(d)){var g=((c=r.match(sX))!==null&&c!==void 0?c:[]).map(function(k){var v=k[0];if(v==="p"||v==="P"){var y=Uk[v];return f?y(k,f.formatLong):v}return k}).join("");t.length>0&&(d=bv(t,g.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Mc(d)||(d=new Date(t))}return Mc(d)&&p?d:null}function Mc(t,r){return jk(t)&&!Ah(t,r??new Date("1/1/1800"))}function Tr(t,r,n){if(n==="en")return BI(t,r,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var o=n?gh(n):void 0;return n&&!o&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!o&&ug()&&gh(ug())&&(o=gh(ug())),BI(t,r,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function wa(t,r){var n=r.dateFormat,o=r.locale,a=Array.isArray(n)&&n.length>0?n[0]:n;return t&&Tr(t,a,o)||""}function aX(t,r,n){if(!t)return"";var o=wa(t,n),a=r?wa(r,n):"";return"".concat(o," - ").concat(a)}function lX(t,r){if(!(t!=null&&t.length))return"";var n=t[0]?wa(t[0],r):"";if(t.length===1)return n;if(t.length===2&&t[1]){var o=wa(t[1],r);return"".concat(n,", ").concat(o)}var a=t.length-1;return"".concat(n," (+").concat(a,")")}function _v(t,r){var n=r.hour,o=n===void 0?0:n,a=r.minute,c=a===void 0?0:a,d=r.second,f=d===void 0?0:d;return sk(ak(lk(t,f),c),o)}function cX(t){return HA(t)}function uX(t,r){return Tr(t,"ddd",r)}function uk(t){return _h(t)}function $u(t,r,n){var o=gh(r||ug());return zc(t,{locale:o,weekStartsOn:n})}function Rc(t){return nO(t)}function ag(t){return y1(t)}function KI(t){return D_(t)}function QI(){return _h(dr())}function JI(t){return eO(t)}function dX(t){return EK(t)}function hX(t){return tO(t)}function Ll(t,r){return t&&r?yJ(t,r):!t&&!r}function Vo(t,r){return t&&r?kJ(t,r):!t&&!r}function Yk(t,r){return t&&r?wJ(t,r):!t&&!r}function Rn(t,r){return t&&r?xK(t,r):!t&&!r}function ah(t,r){return t&&r?AQ(t,r):!t&&!r}function lg(t,r,n){var o,a=_h(r),c=eO(n);try{o=Dg(t,{start:a,end:c})}catch{o=!1}return o}function ug(){var t=SO();return t.__localeId__}function gh(t){if(typeof t=="string"){var r=SO();return r.__localeData__?r.__localeData__[t]:void 0}else return t}function fX(t,r,n){return r(Tr(t,"EEEE",n))}function pX(t,r){return Tr(t,"EEEEEE",r)}function mX(t,r){return Tr(t,"EEE",r)}function eC(t,r){return Tr(Ps(dr(),t),"LLLL",r)}function EO(t,r){return Tr(Ps(dr(),t),"LLL",r)}function gX(t,r){return Tr(Wf(dr(),t),"QQQ",r)}function va(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.maxDate,c=n.excludeDates,d=n.excludeDateIntervals,f=n.includeDates,p=n.includeDateIntervals,g=n.filterDate;return Kg(t,{minDate:o,maxDate:a})||c&&c.some(function(k){return k instanceof Date?Rn(t,k):Rn(t,k.date)})||d&&d.some(function(k){var v=k.start,y=k.end;return Dg(t,{start:v,end:y})})||f&&!f.some(function(k){return Rn(t,k)})||p&&!p.some(function(k){var v=k.start,y=k.end;return Dg(t,{start:v,end:y})})||g&&!g(dr(t))||!1}function tC(t,r){var n=r===void 0?{}:r,o=n.excludeDates,a=n.excludeDateIntervals;return a&&a.length>0?a.some(function(c){var d=c.start,f=c.end;return Dg(t,{start:d,end:f})}):o&&o.some(function(c){var d;return c instanceof Date?Rn(t,c):Rn(t,(d=c.date)!==null&&d!==void 0?d:new Date)})||!1}function DO(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.maxDate,c=n.excludeDates,d=n.includeDates,f=n.filterDate;return Kg(t,{minDate:o?nO(o):void 0,maxDate:a?tO(a):void 0})||(c==null?void 0:c.some(function(p){return Vo(t,p instanceof Date?p:p.date)}))||d&&!d.some(function(p){return Vo(t,p)})||f&&!f(dr(t))||!1}function R0(t,r,n,o){var a=Tn(t),c=Ho(t),d=Tn(r),f=Ho(r),p=Tn(o);return a===d&&a===p?c<=n&&n<=f:a<d?p===a&&c<=n||p===d&&f>=n||p<d&&p>a:!1}function bX(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.maxDate,c=n.excludeDates,d=n.includeDates;return Kg(t,{minDate:o,maxDate:a})||c&&c.some(function(f){return Vo(f instanceof Date?f:f.date,t)})||d&&!d.some(function(f){return Vo(f,t)})||!1}function F0(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.maxDate,c=n.excludeDates,d=n.includeDates,f=n.filterDate;return Kg(t,{minDate:o,maxDate:a})||(c==null?void 0:c.some(function(p){return Yk(t,p instanceof Date?p:p.date)}))||d&&!d.some(function(p){return Yk(t,p)})||f&&!f(dr(t))||!1}function z0(t,r,n){if(!r||!n||!jk(r)||!jk(n))return!1;var o=Tn(r),a=Tn(n);return o<=t&&a>=t}function dk(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.maxDate,c=n.excludeDates,d=n.includeDates,f=n.filterDate,p=new Date(t,0,1);return Kg(p,{minDate:o?y1(o):void 0,maxDate:a?rO(a):void 0})||(c==null?void 0:c.some(function(g){return Ll(p,g instanceof Date?g:g.date)}))||d&&!d.some(function(g){return Ll(p,g)})||f&&!f(dr(p))||!1}function U0(t,r,n,o){var a=Tn(t),c=fh(t),d=Tn(r),f=fh(r),p=Tn(o);return a===d&&a===p?c<=n&&n<=f:a<d?p===a&&c<=n||p===d&&f>=n||p<d&&p>a:!1}function Kg(t,r){var n,o=r===void 0?{}:r,a=o.minDate,c=o.maxDate;return(n=a&&hp(t,a)<0||c&&hp(t,c)>0)!==null&&n!==void 0?n:!1}function ZI(t,r){return r.some(function(n){return Hl(n)===Hl(t)&&$l(n)===$l(t)&&jc(n)===jc(t)})}function XI(t,r){var n=r===void 0?{}:r,o=n.excludeTimes,a=n.includeTimes,c=n.filterTime;return o&&ZI(t,o)||a&&!ZI(t,a)||c&&!c(t)||!1}function e6(t,r){var n=r.minTime,o=r.maxTime;if(!n||!o)throw new Error("Both minTime and maxTime props required");var a=dr();a=sk(a,Hl(t)),a=ak(a,$l(t)),a=lk(a,jc(t));var c=dr();c=sk(c,Hl(n)),c=ak(c,$l(n)),c=lk(c,jc(n));var d=dr();d=sk(d,Hl(o)),d=ak(d,$l(o)),d=lk(d,jc(o));var f;try{f=!Dg(a,{start:c,end:d})}catch{f=!1}return f}function t6(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.includeDates,c=ph(t,1);return o&&Rk(o,c)>0||a&&a.every(function(d){return Rk(d,c)>0})||!1}function n6(t,r){var n=r===void 0?{}:r,o=n.maxDate,a=n.includeDates,c=Xa(t,1);return o&&Rk(c,o)>0||a&&a.every(function(d){return Rk(c,d)>0})||!1}function kX(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.includeDates,c=y1(t),d=pO(c);return o&&Fk(o,d)>0||a&&a.every(function(f){return Fk(f,d)>0})||!1}function wX(t,r){var n=r===void 0?{}:r,o=n.maxDate,a=n.includeDates,c=rO(t),d=VA(c,1);return o&&Fk(d,o)>0||a&&a.every(function(f){return Fk(d,f)>0})||!1}function r6(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.includeDates,c=fp(t,1);return o&&zk(o,c)>0||a&&a.every(function(d){return zk(d,c)>0})||!1}function yX(t,r){var n=r===void 0?{}:r,o=n.minDate,a=n.yearItemNumber,c=a===void 0?Yg:a,d=ag(fp(t,c)),f=zu(d,c).endPeriod,p=o&&Tn(o);return p&&p>f||!1}function i6(t,r){var n=r===void 0?{}:r,o=n.maxDate,a=n.includeDates,c=Lc(t,1);return o&&zk(c,o)>0||a&&a.every(function(d){return zk(c,d)>0})||!1}function vX(t,r){var n=r===void 0?{}:r,o=n.maxDate,a=n.yearItemNumber,c=a===void 0?Yg:a,d=Lc(t,c),f=zu(d,c).startPeriod,p=o&&Tn(o);return p&&p<f||!1}function IO(t){var r=t.minDate,n=t.includeDates;if(n&&r){var o=n.filter(function(a){return hp(a,r)>=0});return TI(o)}else return n?TI(n):r}function TO(t){var r=t.maxDate,n=t.includeDates;if(n&&r){var o=n.filter(function(a){return hp(a,r)<=0});return II(o)}else return n?II(n):r}function o6(t,r){var n;t===void 0&&(t=[]),r===void 0&&(r="react-datepicker__day--highlighted");for(var o=new Map,a=0,c=t.length;a<c;a++){var d=t[a];if(Bc(d)){var f=Tr(d,"MM.dd.yyyy"),p=o.get(f)||[];p.includes(r)||(p.push(r),o.set(f,p))}else if(typeof d=="object"){var g=Object.keys(d),k=(n=g[0])!==null&&n!==void 0?n:"",v=d[k];if(typeof k=="string"&&Array.isArray(v))for(var y=0,w=v.length;y<w;y++){var x=v[y];if(x){var f=Tr(x,"MM.dd.yyyy"),p=o.get(f)||[];p.includes(k)||(p.push(k),o.set(f,p))}}}}return o}function _X(t,r){return t.length!==r.length?!1:t.every(function(n,o){return n===r[o]})}function AX(t,r){t===void 0&&(t=[]),r===void 0&&(r="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(o){var a=o.date,c=o.holidayName;if(Bc(a)){var d=Tr(a,"MM.dd.yyyy"),f=n.get(d)||{className:"",holidayNames:[]};if(!("className"in f&&f.className===r&&_X(f.holidayNames,[c]))){f.className=r;var p=f.holidayNames;f.holidayNames=p?ql(ql([],p,!0),[c],!1):[c],n.set(d,f)}}}),n}function CX(t,r,n,o,a){for(var c=a.length,d=[],f=0;f<c;f++){var p=t,g=a[f];g&&(p=vK(p,Hl(g)),p=E_(p,$l(g)),p=CK(p,jc(g)));var k=E_(t,(n+1)*o);Ku(p,r)&&Ah(p,k)&&g!=null&&d.push(g)}return d}function s6(t){return t<10?"0".concat(t):"".concat(t)}function zu(t,r){r===void 0&&(r=Yg);var n=Math.ceil(Tn(t)/r)*r,o=n-(r-1);return{startPeriod:o,endPeriod:n}}function xX(t){var r=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+r)/36e5)}function a6(t){var r=t.getSeconds(),n=t.getMilliseconds();return Ft(t.getTime()-r*1e3-n)}function SX(t,r){return a6(t).getTime()===a6(r).getTime()}function l6(t){if(!Bc(t))throw new Error("Invalid date");var r=new Date(t);return r.setHours(0,0,0,0),r}function c6(t,r){if(!Bc(t)||!Bc(r))throw new Error("Invalid date received");var n=l6(t),o=l6(r);return Ah(n,o)}function NO(t){return t.key===Bt.Space}var EX=function(t){Qi(r,t);function r(n){var o=t.call(this,n)||this;return o.inputRef=st.createRef(),o.onTimeChange=function(a){var c,d;o.setState({time:a});var f=o.props.date,p=f instanceof Date&&!isNaN(+f),g=p?f:new Date;if(a!=null&&a.includes(":")){var k=a.split(":"),v=k[0],y=k[1];g.setHours(Number(v)),g.setMinutes(Number(y))}(d=(c=o.props).onChange)===null||d===void 0||d.call(c,g)},o.renderTimeInput=function(){var a=o.state.time,c=o.props,d=c.date,f=c.timeString,p=c.customTimeInput;return p?K.cloneElement(p,{date:d,value:a,onChange:o.onTimeChange}):st.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:o.inputRef,onClick:function(){var g;(g=o.inputRef.current)===null||g===void 0||g.focus()},required:!0,value:a,onChange:function(g){o.onTimeChange(g.target.value||f)}})},o.state={time:o.props.timeString},o}return r.getDerivedStateFromProps=function(n,o){return n.timeString!==o.time?{time:n.timeString}:null},r.prototype.render=function(){return st.createElement("div",{className:"react-datepicker__input-time-container"},st.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),st.createElement("div",{className:"react-datepicker-time__input-container"},st.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},r}(K.Component),DX=function(t){Qi(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=K.createRef(),n.handleClick=function(o){!n.isDisabled()&&n.props.onClick&&n.props.onClick(o)},n.handleMouseEnter=function(o){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(o)},n.handleOnKeyDown=function(o){var a,c,d=o.key;d===Bt.Space&&(o.preventDefault(),o.key=Bt.Enter),(c=(a=n.props).handleOnKeyDown)===null||c===void 0||c.call(a,o)},n.isSameDay=function(o){return Rn(n.props.day,o)},n.isKeyboardSelected=function(){var o;if(n.props.disabledKeyboardNavigation)return!1;var a=n.props.selectsMultiple?(o=n.props.selectedDates)===null||o===void 0?void 0:o.some(function(d){return n.isSameDayOrWeek(d)}):n.isSameDayOrWeek(n.props.selected),c=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!a&&n.isSameDayOrWeek(n.props.preSelection)&&!c},n.isDisabled=function(o){return o===void 0&&(o=n.props.day),va(o,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return tC(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Rn(n.props.day,$u(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(o){return n.props.showWeekPicker&&Rn(o,$u(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(o){return n.isSameDay(o)||n.isSameWeek(o)},n.getHighLightedClass=function(){var o=n.props,a=o.day,c=o.highlightDates;if(!c)return!1;var d=Tr(a,"MM.dd.yyyy");return c.get(d)},n.getHolidaysClass=function(){var o,a=n.props,c=a.day,d=a.holidays;if(!d)return[void 0];var f=Tr(c,"MM.dd.yyyy");return d.has(f)?[(o=d.get(f))===null||o===void 0?void 0:o.className]:[void 0]},n.isInRange=function(){var o=n.props,a=o.day,c=o.startDate,d=o.endDate;return!c||!d?!1:lg(a,c,d)},n.isInSelectingRange=function(){var o,a=n.props,c=a.day,d=a.selectsStart,f=a.selectsEnd,p=a.selectsRange,g=a.selectsDisabledDaysInRange,k=a.startDate,v=a.endDate,y=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return!(d||f||p)||!y||!g&&n.isDisabled()?!1:d&&v&&(Ah(y,v)||ah(y,v))?lg(c,y,v):f&&k&&(Ku(y,k)||ah(y,k))||p&&k&&!v&&(Ku(y,k)||ah(y,k))?lg(c,k,y):!1},n.isSelectingRangeStart=function(){var o;if(!n.isInSelectingRange())return!1;var a=n.props,c=a.day,d=a.startDate,f=a.selectsStart,p=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return f?Rn(c,p):Rn(c,d)},n.isSelectingRangeEnd=function(){var o;if(!n.isInSelectingRange())return!1;var a=n.props,c=a.day,d=a.endDate,f=a.selectsEnd,p=a.selectsRange,g=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return f||p?Rn(c,g):Rn(c,d)},n.isRangeStart=function(){var o=n.props,a=o.day,c=o.startDate,d=o.endDate;return!c||!d?!1:Rn(c,a)},n.isRangeEnd=function(){var o=n.props,a=o.day,c=o.startDate,d=o.endDate;return!c||!d?!1:Rn(d,a)},n.isWeekend=function(){var o=wQ(n.props.day);return o===0||o===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Ho(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Ho(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(dr())},n.isSelected=function(){var o;return n.props.selectsMultiple?(o=n.props.selectedDates)===null||o===void 0?void 0:o.some(function(a){return n.isSameDayOrWeek(a)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(o){var a=n.props.dayClassName?n.props.dayClassName(o):void 0;return Zt("react-datepicker__day",a,"react-datepicker__day--"+uX(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var o=n.props,a=o.day,c=o.ariaLabelPrefixWhenEnabled,d=c===void 0?"Choose":c,f=o.ariaLabelPrefixWhenDisabled,p=f===void 0?"Not available":f,g=n.isDisabled()||n.isExcluded()?p:d;return"".concat(g," ").concat(Tr(a,"PPPP",n.props.locale))},n.getTitle=function(){var o=n.props,a=o.day,c=o.holidays,d=c===void 0?new Map:c,f=o.excludeDates,p=Tr(a,"MM.dd.yyyy"),g=[];return d.has(p)&&g.push.apply(g,d.get(p).holidayNames),n.isExcluded()&&g.push(f==null?void 0:f.filter(function(k){return k instanceof Date?Rn(k,a):Rn(k==null?void 0:k.date,a)}).map(function(k){if(!(k instanceof Date))return k==null?void 0:k.message})),g.join(", ")},n.getTabIndex=function(){var o=n.props.selected,a=n.props.preSelection,c=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(o)&&Rn(a,o))?0:-1;return c},n.handleFocusDay=function(){var o;n.shouldFocusDay()&&((o=n.dayEl.current)===null||o===void 0||o.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(jI(n.props.day),n.props.day):jI(n.props.day)},n.render=function(){return st.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&st.createElement("span",{className:"overlay"},n.getTitle()))},n}return r.prototype.componentDidMount=function(){this.handleFocusDay()},r.prototype.componentDidUpdate=function(){this.handleFocusDay()},r.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},r.prototype.isDayActiveElement=function(){var n,o,a;return((o=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||o===void 0?void 0:o.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},r.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},r}(K.Component),IX=function(t){Qi(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=K.createRef(),n.handleClick=function(o){n.props.onClick&&n.props.onClick(o)},n.handleOnKeyDown=function(o){var a,c,d=o.key;d===Bt.Space&&(o.preventDefault(),o.key=Bt.Enter),(c=(a=n.props).handleOnKeyDown)===null||c===void 0||c.call(a,o)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Rn(n.props.date,n.props.selected)&&Rn(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Rn(n.props.date,n.props.selected)&&Rn(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(o){var a=!1;n.getTabIndex()===0&&!(o!=null&&o.isInputFocused)&&Rn(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(a=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(r,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},r.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},r.prototype.render=function(){var n=this.props,o=n.weekNumber,a=n.isWeekDisabled,c=n.ariaLabelPrefix,d=c===void 0?r.defaultProps.ariaLabelPrefix:c,f=n.onClick,p={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!f&&!a,"react-datepicker__week-number--selected":!!f&&Rn(this.props.date,this.props.selected)};return st.createElement("div",{ref:this.weekNumberEl,className:Zt(p),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},o)},r}(K.Component),TX=function(t){Qi(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(o){return va(o,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(o,a){n.props.onDayClick&&n.props.onDayClick(o,a)},n.handleDayMouseEnter=function(o){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(o)},n.handleWeekClick=function(o,a,c){for(var d,f,p,g=new Date(o),k=0;k<7;k++){var v=new Date(o);v.setDate(v.getDate()+k);var y=!n.isDisabled(v);if(y){g=v;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(g,a,c),n.props.showWeekPicker&&n.handleDayClick(g,c),((d=n.props.shouldCloseOnSelect)!==null&&d!==void 0?d:r.defaultProps.shouldCloseOnSelect)&&((p=(f=n.props).setOpen)===null||p===void 0||p.call(f,!1))},n.formatWeekNumber=function(o){return n.props.formatWeekNumber?n.props.formatWeekNumber(o):cX(o)},n.isWeekDisabled=function(){for(var o=n.startOfWeek(),a=Za(o,6),c=new Date(o);c<=a;){if(!n.isDisabled(c))return!1;c=Za(c,1)}return!0},n.renderDays=function(){var o=n.startOfWeek(),a=[],c=n.formatWeekNumber(o);if(n.props.showWeekNumber){var d=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,o,c):void 0;a.push(st.createElement(IX,Hn({key:"W"},r.defaultProps,n.props,{weekNumber:c,isWeekDisabled:n.isWeekDisabled(),date:o,onClick:d})))}return a.concat([0,1,2,3,4,5,6].map(function(f){var p=Za(o,f);return st.createElement(DX,Hn({},r.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:p.valueOf(),day:p,onClick:n.handleDayClick.bind(n,p),onMouseEnter:n.handleDayMouseEnter.bind(n,p)}))}))},n.startOfWeek=function(){return $u(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Rn(n.startOfWeek(),n.props.selected)&&Rn(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(r,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Rn(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return st.createElement("div",{className:Zt(n)},this.renderDays())},r}(K.Component),Um,NX=6,ep={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Av=(Um={},Um[ep.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Um[ep.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Um[ep.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Um),q0=1;function u6(t,r){return t?ep.FOUR_COLUMNS:r?ep.TWO_COLUMNS:ep.THREE_COLUMNS}var MX=function(t){Qi(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=ql([],Array(12),!0).map(function(){return K.createRef()}),n.QUARTER_REFS=ql([],Array(4),!0).map(function(){return K.createRef()}),n.isDisabled=function(o){return va(o,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(o){return tC(o,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(o,a){var c,d;(d=(c=n.props).onDayClick)===null||d===void 0||d.call(c,o,a,n.props.orderInDisplay)},n.handleDayMouseEnter=function(o){var a,c;(c=(a=n.props).onDayMouseEnter)===null||c===void 0||c.call(a,o)},n.handleMouseLeave=function(){var o,a;(a=(o=n.props).onMouseLeave)===null||a===void 0||a.call(o)},n.isRangeStartMonth=function(o){var a=n.props,c=a.day,d=a.startDate,f=a.endDate;return!d||!f?!1:Vo(Ps(c,o),d)},n.isRangeStartQuarter=function(o){var a=n.props,c=a.day,d=a.startDate,f=a.endDate;return!d||!f?!1:Yk(Wf(c,o),d)},n.isRangeEndMonth=function(o){var a=n.props,c=a.day,d=a.startDate,f=a.endDate;return!d||!f?!1:Vo(Ps(c,o),f)},n.isRangeEndQuarter=function(o){var a=n.props,c=a.day,d=a.startDate,f=a.endDate;return!d||!f?!1:Yk(Wf(c,o),f)},n.isInSelectingRangeMonth=function(o){var a,c=n.props,d=c.day,f=c.selectsStart,p=c.selectsEnd,g=c.selectsRange,k=c.startDate,v=c.endDate,y=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(f||p||g)||!y?!1:f&&v?R0(y,v,o,d):p&&k||g&&k&&!v?R0(k,y,o,d):!1},n.isSelectingMonthRangeStart=function(o){var a;if(!n.isInSelectingRangeMonth(o))return!1;var c=n.props,d=c.day,f=c.startDate,p=c.selectsStart,g=Ps(d,o),k=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return p?Vo(g,k):Vo(g,f)},n.isSelectingMonthRangeEnd=function(o){var a;if(!n.isInSelectingRangeMonth(o))return!1;var c=n.props,d=c.day,f=c.endDate,p=c.selectsEnd,g=c.selectsRange,k=Ps(d,o),v=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return p||g?Vo(k,v):Vo(k,f)},n.isInSelectingRangeQuarter=function(o){var a,c=n.props,d=c.day,f=c.selectsStart,p=c.selectsEnd,g=c.selectsRange,k=c.startDate,v=c.endDate,y=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(f||p||g)||!y?!1:f&&v?U0(y,v,o,d):p&&k||g&&k&&!v?U0(k,y,o,d):!1},n.isWeekInMonth=function(o){var a=n.props.day,c=Za(o,6);return Vo(o,a)||Vo(c,a)},n.isCurrentMonth=function(o,a){return Tn(o)===Tn(dr())&&a===Ho(dr())},n.isCurrentQuarter=function(o,a){return Tn(o)===Tn(dr())&&a===fh(dr())},n.isSelectedMonth=function(o,a,c){return Ho(c)===a&&Tn(o)===Tn(c)},n.isSelectMonthInList=function(o,a,c){return c.some(function(d){return n.isSelectedMonth(o,a,d)})},n.isSelectedQuarter=function(o,a,c){return fh(o)===a&&Tn(o)===Tn(c)},n.renderWeeks=function(){for(var o=[],a=n.props.fixedHeight,c=0,d=!1,f=$u(Rc(n.props.day),n.props.locale,n.props.calendarStartDay),p=function(x){return n.props.showWeekPicker?$u(x,n.props.locale,n.props.calendarStartDay):n.props.preSelection},g=function(x){return n.props.showWeekPicker?$u(x,n.props.locale,n.props.calendarStartDay):n.props.selected},k=n.props.selected?g(n.props.selected):void 0,v=n.props.preSelection?p(n.props.preSelection):void 0;o.push(st.createElement(TX,Hn({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:c,day:f,month:Ho(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:k,preSelection:v,showWeekNumber:n.props.showWeekNumbers}))),!d;){c++,f=Bk(f,1);var y=a&&c>=NX,w=!a&&!n.isWeekInMonth(f);if(y||w)if(n.props.peekNextMonth)d=!0;else break}return o},n.onMonthClick=function(o,a){var c=n.isMonthDisabledForLabelDate(a),d=c.isDisabled,f=c.labelDate;d||n.handleDayClick(Rc(f),o)},n.onMonthMouseEnter=function(o){var a=n.isMonthDisabledForLabelDate(o),c=a.isDisabled,d=a.labelDate;c||n.handleDayMouseEnter(Rc(d))},n.handleMonthNavigation=function(o,a){var c,d,f,p;(d=(c=n.props).setPreSelection)===null||d===void 0||d.call(c,a),(p=(f=n.MONTH_REFS[o])===null||f===void 0?void 0:f.current)===null||p===void 0||p.focus()},n.handleKeyboardNavigation=function(o,a,c){var d,f=n.props,p=f.selected,g=f.preSelection,k=f.setPreSelection,v=f.minDate,y=f.maxDate,w=f.showFourColumnMonthYearPicker,x=f.showTwoColumnMonthYearPicker;if(g){var A=u6(w,x),D=n.getVerticalOffset(A),E=(d=Av[A])===null||d===void 0?void 0:d.grid,M=function(N,j,q){var Q,$,R=j,Y=q;switch(N){case Bt.ArrowRight:R=Xa(j,q0),Y=q===11?0:q+q0;break;case Bt.ArrowLeft:R=ph(j,q0),Y=q===0?11:q-q0;break;case Bt.ArrowUp:R=ph(j,D),Y=!((Q=E==null?void 0:E[0])===null||Q===void 0)&&Q.includes(q)?q+12-D:q-D;break;case Bt.ArrowDown:R=Xa(j,D),Y=!(($=E==null?void 0:E[E.length-1])===null||$===void 0)&&$.includes(q)?q-12+D:q+D;break}return{newCalculatedDate:R,newCalculatedMonth:Y}},P=function(N,j,q){for(var Q=40,$=N,R=!1,Y=0,B=M($,j,q),ne=B.newCalculatedDate,de=B.newCalculatedMonth;!R;){if(Y>=Q){ne=j,de=q;break}if(v&&ne<v){$=Bt.ArrowRight;var ae=M($,ne,de);ne=ae.newCalculatedDate,de=ae.newCalculatedMonth}if(y&&ne>y){$=Bt.ArrowLeft;var ae=M($,ne,de);ne=ae.newCalculatedDate,de=ae.newCalculatedMonth}if(bX(ne,n.props)){var ae=M($,ne,de);ne=ae.newCalculatedDate,de=ae.newCalculatedMonth}else R=!0;Y++}return{newCalculatedDate:ne,newCalculatedMonth:de}};if(a===Bt.Enter){n.isMonthDisabled(c)||(n.onMonthClick(o,c),k==null||k(p));return}var F=P(a,g,c),H=F.newCalculatedDate,V=F.newCalculatedMonth;switch(a){case Bt.ArrowRight:case Bt.ArrowLeft:case Bt.ArrowUp:case Bt.ArrowDown:n.handleMonthNavigation(V,H);break}}},n.getVerticalOffset=function(o){var a,c;return(c=(a=Av[o])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&c!==void 0?c:0},n.onMonthKeyDown=function(o,a){var c=n.props,d=c.disabledKeyboardNavigation,f=c.handleOnMonthKeyDown,p=o.key;p!==Bt.Tab&&o.preventDefault(),d||n.handleKeyboardNavigation(o,p,a),f&&f(o)},n.onQuarterClick=function(o,a){var c=Wf(n.props.day,a);F0(c,n.props)||n.handleDayClick(KI(c),o)},n.onQuarterMouseEnter=function(o){var a=Wf(n.props.day,o);F0(a,n.props)||n.handleDayMouseEnter(KI(a))},n.handleQuarterNavigation=function(o,a){var c,d,f,p;n.isDisabled(a)||n.isExcluded(a)||((d=(c=n.props).setPreSelection)===null||d===void 0||d.call(c,a),(p=(f=n.QUARTER_REFS[o-1])===null||f===void 0?void 0:f.current)===null||p===void 0||p.focus())},n.onQuarterKeyDown=function(o,a){var c,d,f=o.key;if(!n.props.disabledKeyboardNavigation)switch(f){case Bt.Enter:n.onQuarterClick(o,a),(d=(c=n.props).setPreSelection)===null||d===void 0||d.call(c,n.props.selected);break;case Bt.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(a===4?1:a+1,VA(n.props.preSelection,1));break;case Bt.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(a===1?4:a-1,pO(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(o){var a,c=n.props,d=c.day,f=c.minDate,p=c.maxDate,g=c.excludeDates,k=c.includeDates,v=Ps(d,o);return{isDisabled:(a=(f||p||g||k)&&DO(v,n.props))!==null&&a!==void 0?a:!1,labelDate:v}},n.isMonthDisabled=function(o){var a=n.isMonthDisabledForLabelDate(o).isDisabled;return a},n.getMonthClassNames=function(o){var a=n.props,c=a.day,d=a.startDate,f=a.endDate,p=a.preSelection,g=a.monthClassName,k=g?g(Ps(c,o)):void 0,v=n.getSelection();return Zt("react-datepicker__month-text","react-datepicker__month-".concat(o),k,{"react-datepicker__month-text--disabled":n.isMonthDisabled(o),"react-datepicker__month-text--selected":v?n.isSelectMonthInList(c,o,v):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&p&&n.isSelectedMonth(c,o,p)&&!n.isMonthDisabled(o),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(o),"react-datepicker__month-text--in-range":d&&f?R0(d,f,o,c):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(o),"react-datepicker__month-text--range-end":n.isRangeEndMonth(o),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(o),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(o),"react-datepicker__month-text--today":n.isCurrentMonth(c,o)})},n.getTabIndex=function(o){if(n.props.preSelection==null)return"-1";var a=Ho(n.props.preSelection),c=n.isMonthDisabledForLabelDate(a).isDisabled,d=o===a&&!(c||n.props.disabledKeyboardNavigation)?"0":"-1";return d},n.getQuarterTabIndex=function(o){if(n.props.preSelection==null)return"-1";var a=fh(n.props.preSelection),c=F0(n.props.day,n.props),d=o===a&&!(c||n.props.disabledKeyboardNavigation)?"0":"-1";return d},n.getAriaLabel=function(o){var a=n.props,c=a.chooseDayAriaLabelPrefix,d=c===void 0?"Choose":c,f=a.disabledDayAriaLabelPrefix,p=f===void 0?"Not available":f,g=a.day,k=a.locale,v=Ps(g,o),y=n.isDisabled(v)||n.isExcluded(v)?p:d;return"".concat(y," ").concat(Tr(v,"MMMM yyyy",k))},n.getQuarterClassNames=function(o){var a=n.props,c=a.day,d=a.startDate,f=a.endDate,p=a.selected,g=a.minDate,k=a.maxDate,v=a.excludeDates,y=a.includeDates,w=a.filterDate,x=a.preSelection,A=a.disabledKeyboardNavigation,D=(g||k||v||y||w)&&F0(Wf(c,o),n.props);return Zt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(o),{"react-datepicker__quarter-text--disabled":D,"react-datepicker__quarter-text--selected":p?n.isSelectedQuarter(c,o,p):void 0,"react-datepicker__quarter-text--keyboard-selected":!A&&x&&n.isSelectedQuarter(c,o,x)&&!D,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(o),"react-datepicker__quarter-text--in-range":d&&f?U0(d,f,o,c):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(o),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(o)})},n.getMonthContent=function(o){var a=n.props,c=a.showFullMonthYearPicker,d=a.renderMonthContent,f=a.locale,p=a.day,g=EO(o,f),k=eC(o,f);return d?d(o,g,k,p):c?k:g},n.getQuarterContent=function(o){var a,c=n.props,d=c.renderQuarterContent,f=c.locale,p=gX(o,f);return(a=d==null?void 0:d(o,p))!==null&&a!==void 0?a:p},n.renderMonths=function(){var o,a=n.props,c=a.showTwoColumnMonthYearPicker,d=a.showFourColumnMonthYearPicker,f=a.day,p=a.selected,g=(o=Av[u6(d,c)])===null||o===void 0?void 0:o.grid;return g==null?void 0:g.map(function(k,v){return st.createElement("div",{className:"react-datepicker__month-wrapper",key:v},k.map(function(y,w){return st.createElement("div",{ref:n.MONTH_REFS[y],key:w,onClick:function(x){n.onMonthClick(x,y)},onKeyDown:function(x){NO(x)&&(x.preventDefault(),x.key=Bt.Enter),n.onMonthKeyDown(x,y)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(y)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(y)}:void 0,tabIndex:Number(n.getTabIndex(y)),className:n.getMonthClassNames(y),"aria-disabled":n.isMonthDisabled(y),role:"option","aria-label":n.getAriaLabel(y),"aria-current":n.isCurrentMonth(f,y)?"date":void 0,"aria-selected":p?n.isSelectedMonth(f,y,p):void 0},n.getMonthContent(y))}))})},n.renderQuarters=function(){var o=n.props,a=o.day,c=o.selected,d=[1,2,3,4];return st.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(f,p){return st.createElement("div",{key:p,ref:n.QUARTER_REFS[p],role:"option",onClick:function(g){n.onQuarterClick(g,f)},onKeyDown:function(g){n.onQuarterKeyDown(g,f)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(f)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(f)}:void 0,className:n.getQuarterClassNames(f),"aria-selected":c?n.isSelectedQuarter(a,f,c):void 0,tabIndex:Number(n.getQuarterTabIndex(f)),"aria-current":n.isCurrentQuarter(a,f)?"date":void 0},n.getQuarterContent(f))}))},n.getClassNames=function(){var o=n.props,a=o.selectingDate,c=o.selectsStart,d=o.selectsEnd,f=o.showMonthYearPicker,p=o.showQuarterYearPicker,g=o.showWeekPicker;return Zt("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(c||d)},{"react-datepicker__monthPicker":f},{"react-datepicker__quarterPicker":p},{"react-datepicker__weekPicker":g})},n}return r.prototype.getSelection=function(){var n=this.props,o=n.selected,a=n.selectedDates,c=n.selectsMultiple;if(c)return a;if(o)return[o]},r.prototype.render=function(){var n=this.props,o=n.showMonthYearPicker,a=n.showQuarterYearPicker,c=n.day,d=n.ariaLabelPrefix,f=d===void 0?"Month ":d,p=f?f.trim()+" ":"";return st.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(p).concat(Tr(c,"MMMM, yyyy",this.props.locale)),role:"listbox"},o?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},r}(K.Component),PX=function(t){Qi(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(o){return n.props.month===o},n.renderOptions=function(){return n.props.monthNames.map(function(o,a){return st.createElement("div",{className:n.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:o,onClick:n.onChange.bind(n,a),"aria-selected":n.isSelectedMonth(a)?"true":void 0},n.isSelectedMonth(a)?st.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",o)})},n.onChange=function(o){return n.props.onChange(o)},n.handleClickOutside=function(){return n.props.onCancel()},n}return r.prototype.render=function(){return st.createElement(x1,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},r}(K.Component),OX=function(t){Qi(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(o){return o.map(function(a,c){return st.createElement("option",{key:a,value:c},a)})},n.renderSelectMode=function(o){return st.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(a){return n.onChange(parseInt(a.target.value))}},n.renderSelectOptions(o))},n.renderReadView=function(o,a){return st.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},st.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),st.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[n.props.month]))},n.renderDropdown=function(o){return st.createElement(PX,Hn({key:"dropdown"},n.props,{monthNames:o,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(o){var a=n.state.dropdownVisible,c=[n.renderReadView(!a,o)];return a&&c.unshift(n.renderDropdown(o)),c},n.onChange=function(o){n.toggleDropdown(),o!==n.props.month&&n.props.onChange(o)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return r.prototype.render=function(){var n=this,o=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(c){return EO(c,n.props.locale)}:function(c){return eC(c,n.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(o);break;case"select":a=this.renderSelectMode(o);break}return st.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},r}(K.Component);function LX(t,r){for(var n=[],o=Rc(t),a=Rc(r);!Ku(o,a);)n.push(dr(o)),o=Xa(o,1);return n}var BX=function(t){Qi(r,t);function r(n){var o=t.call(this,n)||this;return o.renderOptions=function(){return o.state.monthYearsList.map(function(a){var c=T_(a),d=Ll(o.props.date,a)&&Vo(o.props.date,a);return st.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:c,onClick:o.onChange.bind(o,c),"aria-selected":d?"true":void 0},d?st.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Tr(a,o.props.dateFormat,o.props.locale))})},o.onChange=function(a){return o.props.onChange(a)},o.handleClickOutside=function(){o.props.onCancel()},o.state={monthYearsList:LX(o.props.minDate,o.props.maxDate)},o}return r.prototype.render=function(){var n=Zt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return st.createElement(x1,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(K.Component),jX=function(t){Qi(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var o=Rc(n.props.minDate),a=Rc(n.props.maxDate),c=[];!Ku(o,a);){var d=T_(o);c.push(st.createElement("option",{key:d,value:d},Tr(o,n.props.dateFormat,n.props.locale))),o=Xa(o,1)}return c},n.onSelectChange=function(o){n.onChange(parseInt(o.target.value))},n.renderSelectMode=function(){return st.createElement("select",{value:T_(Rc(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(o){var a=Tr(n.props.date,n.props.dateFormat,n.props.locale);return st.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},st.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),st.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},n.renderDropdown=function(){return st.createElement(BX,Hn({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var o=n.state.dropdownVisible,a=[n.renderReadView(!o)];return o&&a.unshift(n.renderDropdown()),a},n.onChange=function(o){n.toggleDropdown();var a=dr(o);Ll(n.props.date,a)&&Vo(n.props.date,a)||n.props.onChange(a)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return r.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return st.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},r}(K.Component),RX=function(t){Qi(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var o,a,c;n.list&&(n.list.scrollTop=(c=n.centerLi&&r.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((a=(o=n.header)===null||o===void 0?void 0:o.clientHeight)!==null&&a!==void 0?a:0):n.list.clientHeight,n.centerLi))!==null&&c!==void 0?c:0)})},n.handleClick=function(o){var a,c;(n.props.minTime||n.props.maxTime)&&e6(o,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&XI(o,n.props)||(c=(a=n.props).onChange)===null||c===void 0||c.call(a,o)},n.isSelectedTime=function(o){return n.props.selected&&SX(n.props.selected,o)},n.isDisabledTime=function(o){return(n.props.minTime||n.props.maxTime)&&e6(o,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&XI(o,n.props)},n.liClasses=function(o){var a,c=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(o):void 0];return n.isSelectedTime(o)&&c.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(o)&&c.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Hl(o)*3600+$l(o)*60+jc(o))%(((a=n.props.intervals)!==null&&a!==void 0?a:r.defaultProps.intervals)*60)!==0&&c.push("react-datepicker__time-list-item--injected"),c.join(" ")},n.handleOnKeyDown=function(o,a){var c,d;o.key===Bt.Space&&(o.preventDefault(),o.key=Bt.Enter),(o.key===Bt.ArrowUp||o.key===Bt.ArrowLeft)&&o.target instanceof HTMLElement&&o.target.previousSibling&&(o.preventDefault(),o.target.previousSibling instanceof HTMLElement&&o.target.previousSibling.focus()),(o.key===Bt.ArrowDown||o.key===Bt.ArrowRight)&&o.target instanceof HTMLElement&&o.target.nextSibling&&(o.preventDefault(),o.target.nextSibling instanceof HTMLElement&&o.target.nextSibling.focus()),o.key===Bt.Enter&&n.handleClick(a),(d=(c=n.props).handleOnKeyDown)===null||d===void 0||d.call(c,o)},n.renderTimes=function(){for(var o,a=[],c=typeof n.props.format=="string"?n.props.format:"p",d=(o=n.props.intervals)!==null&&o!==void 0?o:r.defaultProps.intervals,f=n.props.selected||n.props.openToDate||dr(),p=uk(f),g=n.props.injectTimes&&n.props.injectTimes.sort(function(D,E){return D.getTime()-E.getTime()}),k=60*xX(f),v=k/d,y=0;y<v;y++){var w=E_(p,y*d);if(a.push(w),g){var x=CX(p,w,y,d,g);a=a.concat(x)}}var A=a.reduce(function(D,E){return E.getTime()<=f.getTime()?E:D},a[0]);return a.map(function(D){return st.createElement("li",{key:D.valueOf(),onClick:n.handleClick.bind(n,D),className:n.liClasses(D),ref:function(E){D===A&&(n.centerLi=E)},onKeyDown:function(E){n.handleOnKeyDown(E,D)},tabIndex:D===A?0:-1,role:"option","aria-selected":n.isSelectedTime(D)?"true":void 0,"aria-disabled":n.isDisabledTime(D)?"true":void 0},Tr(D,c,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?st.createElement(st.Fragment,null):st.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(o){n.header=o}},st.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(r,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},r.prototype.render=function(){var n=this,o,a=this.state.height;return st.createElement("div",{className:"react-datepicker__time-container ".concat(((o=this.props.todayButton)!==null&&o!==void 0?o:r.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),st.createElement("div",{className:"react-datepicker__time"},st.createElement("div",{className:"react-datepicker__time-box"},st.createElement("ul",{className:"react-datepicker__time-list",ref:function(c){n.list=c},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},r.calcCenterPosition=function(n,o){return o.offsetTop-(n/2-o.clientHeight/2)},r}(K.Component),d6=3,FX=function(t){Qi(r,t);function r(n){var o=t.call(this,n)||this;return o.YEAR_REFS=ql([],Array(o.props.yearItemNumber),!0).map(function(){return K.createRef()}),o.isDisabled=function(a){return va(a,{minDate:o.props.minDate,maxDate:o.props.maxDate,excludeDates:o.props.excludeDates,includeDates:o.props.includeDates,filterDate:o.props.filterDate})},o.isExcluded=function(a){return tC(a,{excludeDates:o.props.excludeDates})},o.selectingDate=function(){var a;return(a=o.props.selectingDate)!==null&&a!==void 0?a:o.props.preSelection},o.updateFocusOnPaginate=function(a){var c=function(){var d,f;(f=(d=o.YEAR_REFS[a])===null||d===void 0?void 0:d.current)===null||f===void 0||f.focus()};window.requestAnimationFrame(c)},o.handleYearClick=function(a,c){o.props.onDayClick&&o.props.onDayClick(a,c)},o.handleYearNavigation=function(a,c){var d,f,p,g,k=o.props,v=k.date,y=k.yearItemNumber;if(!(v===void 0||y===void 0)){var w=zu(v,y).startPeriod;o.isDisabled(c)||o.isExcluded(c)||((f=(d=o.props).setPreSelection)===null||f===void 0||f.call(d,c),a-w<0?o.updateFocusOnPaginate(y-(w-a)):a-w>=y?o.updateFocusOnPaginate(Math.abs(y-(a-w))):(g=(p=o.YEAR_REFS[a-w])===null||p===void 0?void 0:p.current)===null||g===void 0||g.focus())}},o.isSameDay=function(a,c){return Rn(a,c)},o.isCurrentYear=function(a){return a===Tn(dr())},o.isRangeStart=function(a){return o.props.startDate&&o.props.endDate&&Ll(Ol(dr(),a),o.props.startDate)},o.isRangeEnd=function(a){return o.props.startDate&&o.props.endDate&&Ll(Ol(dr(),a),o.props.endDate)},o.isInRange=function(a){return z0(a,o.props.startDate,o.props.endDate)},o.isInSelectingRange=function(a){var c=o.props,d=c.selectsStart,f=c.selectsEnd,p=c.selectsRange,g=c.startDate,k=c.endDate;return!(d||f||p)||!o.selectingDate()?!1:d&&k?z0(a,o.selectingDate(),k):f&&g||p&&g&&!k?z0(a,g,o.selectingDate()):!1},o.isSelectingRangeStart=function(a){var c;if(!o.isInSelectingRange(a))return!1;var d=o.props,f=d.startDate,p=d.selectsStart,g=Ol(dr(),a);return p?Ll(g,(c=o.selectingDate())!==null&&c!==void 0?c:null):Ll(g,f??null)},o.isSelectingRangeEnd=function(a){var c;if(!o.isInSelectingRange(a))return!1;var d=o.props,f=d.endDate,p=d.selectsEnd,g=d.selectsRange,k=Ol(dr(),a);return p||g?Ll(k,(c=o.selectingDate())!==null&&c!==void 0?c:null):Ll(k,f??null)},o.isKeyboardSelected=function(a){if(!(o.props.date===void 0||o.props.selected==null||o.props.preSelection==null)){var c=o.props,d=c.minDate,f=c.maxDate,p=c.excludeDates,g=c.includeDates,k=c.filterDate,v=ag(Ol(o.props.date,a)),y=(d||f||p||g||k)&&dk(a,o.props);return!o.props.disabledKeyboardNavigation&&!o.props.inline&&!Rn(v,ag(o.props.selected))&&Rn(v,ag(o.props.preSelection))&&!y}},o.onYearClick=function(a,c){var d=o.props.date;d!==void 0&&o.handleYearClick(ag(Ol(d,c)),a)},o.onYearKeyDown=function(a,c){var d,f,p=a.key,g=o.props,k=g.date,v=g.yearItemNumber,y=g.handleOnKeyDown;if(p!==Bt.Tab&&a.preventDefault(),!o.props.disabledKeyboardNavigation)switch(p){case Bt.Enter:if(o.props.selected==null)break;o.onYearClick(a,c),(f=(d=o.props).setPreSelection)===null||f===void 0||f.call(d,o.props.selected);break;case Bt.ArrowRight:if(o.props.preSelection==null)break;o.handleYearNavigation(c+1,Lc(o.props.preSelection,1));break;case Bt.ArrowLeft:if(o.props.preSelection==null)break;o.handleYearNavigation(c-1,fp(o.props.preSelection,1));break;case Bt.ArrowUp:{if(k===void 0||v===void 0||o.props.preSelection==null)break;var w=zu(k,v).startPeriod,x=d6,A=c-x;if(A<w){var D=v%x;c>=w&&c<w+D?x=D:x+=D,A=c-x}o.handleYearNavigation(A,fp(o.props.preSelection,x));break}case Bt.ArrowDown:{if(k===void 0||v===void 0||o.props.preSelection==null)break;var E=zu(k,v).endPeriod,x=d6,A=c+x;if(A>E){var D=v%x;c<=E&&c>E-D?x=D:x+=D,A=c+x}o.handleYearNavigation(A,Lc(o.props.preSelection,x));break}}y&&y(a)},o.getYearClassNames=function(a){var c=o.props,d=c.date,f=c.minDate,p=c.maxDate,g=c.selected,k=c.excludeDates,v=c.includeDates,y=c.filterDate,w=c.yearClassName;return Zt("react-datepicker__year-text","react-datepicker__year-".concat(a),d?w==null?void 0:w(Ol(d,a)):void 0,{"react-datepicker__year-text--selected":g?a===Tn(g):void 0,"react-datepicker__year-text--disabled":(f||p||k||v||y)&&dk(a,o.props),"react-datepicker__year-text--keyboard-selected":o.isKeyboardSelected(a),"react-datepicker__year-text--range-start":o.isRangeStart(a),"react-datepicker__year-text--range-end":o.isRangeEnd(a),"react-datepicker__year-text--in-range":o.isInRange(a),"react-datepicker__year-text--in-selecting-range":o.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":o.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":o.isSelectingRangeEnd(a),"react-datepicker__year-text--today":o.isCurrentYear(a)})},o.getYearTabIndex=function(a){if(o.props.disabledKeyboardNavigation||o.props.preSelection==null)return"-1";var c=Tn(o.props.preSelection),d=dk(a,o.props);return a===c&&!d?"0":"-1"},o.getYearContent=function(a){return o.props.renderYearContent?o.props.renderYearContent(a):a},o}return r.prototype.render=function(){var n=this,o=[],a=this.props,c=a.date,d=a.yearItemNumber,f=a.onYearMouseEnter,p=a.onYearMouseLeave;if(c===void 0)return null;for(var g=zu(c,d),k=g.startPeriod,v=g.endPeriod,y=function(A){o.push(st.createElement("div",{ref:w.YEAR_REFS[A-k],onClick:function(D){n.onYearClick(D,A)},onKeyDown:function(D){NO(D)&&(D.preventDefault(),D.key=Bt.Enter),n.onYearKeyDown(D,A)},tabIndex:Number(w.getYearTabIndex(A)),className:w.getYearClassNames(A),onMouseEnter:w.props.usePointerEvent?void 0:function(D){return f(D,A)},onPointerEnter:w.props.usePointerEvent?function(D){return f(D,A)}:void 0,onMouseLeave:w.props.usePointerEvent?void 0:function(D){return p(D,A)},onPointerLeave:w.props.usePointerEvent?function(D){return p(D,A)}:void 0,key:A,"aria-current":w.isCurrentYear(A)?"date":void 0},w.getYearContent(A)))},w=this,x=k;x<=v;x++)y(x);return st.createElement("div",{className:"react-datepicker__year"},st.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},o))},r}(K.Component);function zX(t,r,n,o){for(var a=[],c=0;c<2*r+1;c++){var d=t+r-c,f=!0;n&&(f=Tn(n)<=d),o&&f&&(f=Tn(o)>=d),f&&a.push(d)}return a}var UX=function(t){Qi(r,t);function r(n){var o=t.call(this,n)||this;o.renderOptions=function(){var f=o.props.year,p=o.state.yearsList.map(function(v){return st.createElement("div",{className:f===v?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:v,onClick:o.onChange.bind(o,v),"aria-selected":f===v?"true":void 0},f===v?st.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",v)}),g=o.props.minDate?Tn(o.props.minDate):null,k=o.props.maxDate?Tn(o.props.maxDate):null;return(!k||!o.state.yearsList.find(function(v){return v===k}))&&p.unshift(st.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:o.incrementYears},st.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!g||!o.state.yearsList.find(function(v){return v===g}))&&p.push(st.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:o.decrementYears},st.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),p},o.onChange=function(f){o.props.onChange(f)},o.handleClickOutside=function(){o.props.onCancel()},o.shiftYears=function(f){var p=o.state.yearsList.map(function(g){return g+f});o.setState({yearsList:p})},o.incrementYears=function(){return o.shiftYears(1)},o.decrementYears=function(){return o.shiftYears(-1)};var a=n.yearDropdownItemNumber,c=n.scrollableYearDropdown,d=a||(c?10:5);return o.state={yearsList:zX(o.props.year,d,o.props.minDate,o.props.maxDate)},o.dropdownRef=K.createRef(),o}return r.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var o=n.children?Array.from(n.children):null,a=o?o.find(function(c){return c.ariaSelected}):null;n.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},r.prototype.render=function(){var n=Zt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return st.createElement(x1,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(K.Component),qX=function(t){Qi(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var o=n.props.minDate?Tn(n.props.minDate):1900,a=n.props.maxDate?Tn(n.props.maxDate):2100,c=[],d=o;d<=a;d++)c.push(st.createElement("option",{key:d,value:d},d));return c},n.onSelectChange=function(o){n.onChange(parseInt(o.target.value))},n.renderSelectMode=function(){return st.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(o){return st.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return n.toggleDropdown(a)}},st.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),st.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return st.createElement(UX,Hn({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var o=n.state.dropdownVisible,a=[n.renderReadView(!o)];return o&&a.unshift(n.renderDropdown()),a},n.onChange=function(o){n.toggleDropdown(),o!==n.props.year&&n.props.onChange(o)},n.toggleDropdown=function(o){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,o)})},n.handleYearChange=function(o,a){var c;(c=n.onSelect)===null||c===void 0||c.call(n,o,a),n.setOpen()},n.onSelect=function(o,a){var c,d;(d=(c=n.props).onSelect)===null||d===void 0||d.call(c,o,a)},n.setOpen=function(){var o,a;(a=(o=n.props).setOpen)===null||a===void 0||a.call(o,!0)},n}return r.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return st.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},r}(K.Component),VX=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],HX=function(t){var r=(t.className||"").split(/\s+/);return VX.some(function(n){return r.indexOf(n)>=0})},$X=function(t){Qi(r,t);function r(n){var o=t.call(this,n)||this;return o.monthContainer=void 0,o.handleClickOutside=function(a){o.props.onClickOutside(a)},o.setClickOutsideRef=function(){return o.containerRef.current},o.handleDropdownFocus=function(a){var c,d;HX(a.target)&&((d=(c=o.props).onDropdownFocus)===null||d===void 0||d.call(c,a))},o.getDateInView=function(){var a=o.props,c=a.preSelection,d=a.selected,f=a.openToDate,p=IO(o.props),g=TO(o.props),k=dr(),v=f||d||c;return v||(p&&Ah(k,p)?p:g&&Ku(k,g)?g:k)},o.increaseMonth=function(){o.setState(function(a){var c=a.date;return{date:Xa(c,1)}},function(){return o.handleMonthChange(o.state.date)})},o.decreaseMonth=function(){o.setState(function(a){var c=a.date;return{date:ph(c,1)}},function(){return o.handleMonthChange(o.state.date)})},o.handleDayClick=function(a,c,d){o.props.onSelect(a,c,d),o.props.setPreSelection&&o.props.setPreSelection(a)},o.handleDayMouseEnter=function(a){o.setState({selectingDate:a}),o.props.onDayMouseEnter&&o.props.onDayMouseEnter(a)},o.handleMonthMouseLeave=function(){o.setState({selectingDate:void 0}),o.props.onMonthMouseLeave&&o.props.onMonthMouseLeave()},o.handleYearMouseEnter=function(a,c){o.setState({selectingDate:Ol(dr(),c)}),o.props.onYearMouseEnter&&o.props.onYearMouseEnter(a,c)},o.handleYearMouseLeave=function(a,c){o.props.onYearMouseLeave&&o.props.onYearMouseLeave(a,c)},o.handleYearChange=function(a){var c,d,f,p;(d=(c=o.props).onYearChange)===null||d===void 0||d.call(c,a),o.setState({isRenderAriaLiveMessage:!0}),o.props.adjustDateOnChange&&(o.props.onSelect(a),(p=(f=o.props).setOpen)===null||p===void 0||p.call(f,!0)),o.props.setPreSelection&&o.props.setPreSelection(a)},o.getEnabledPreSelectionDateForMonth=function(a){if(!va(a,o.props))return a;for(var c=Rc(a),d=hX(a),f=SK(d,c),p=null,g=0;g<=f;g++){var k=Za(c,g);if(!va(k,o.props)){p=k;break}}return p},o.handleMonthChange=function(a){var c,d,f,p=(c=o.getEnabledPreSelectionDateForMonth(a))!==null&&c!==void 0?c:a;o.handleCustomMonthChange(p),o.props.adjustDateOnChange&&(o.props.onSelect(p),(f=(d=o.props).setOpen)===null||f===void 0||f.call(d,!0)),o.props.setPreSelection&&o.props.setPreSelection(p)},o.handleCustomMonthChange=function(a){var c,d;(d=(c=o.props).onMonthChange)===null||d===void 0||d.call(c,a),o.setState({isRenderAriaLiveMessage:!0})},o.handleMonthYearChange=function(a){o.handleYearChange(a),o.handleMonthChange(a)},o.changeYear=function(a){o.setState(function(c){var d=c.date;return{date:Ol(d,Number(a))}},function(){return o.handleYearChange(o.state.date)})},o.changeMonth=function(a){o.setState(function(c){var d=c.date;return{date:Ps(d,Number(a))}},function(){return o.handleMonthChange(o.state.date)})},o.changeMonthYear=function(a){o.setState(function(c){var d=c.date;return{date:Ol(Ps(d,Ho(a)),Tn(a))}},function(){return o.handleMonthYearChange(o.state.date)})},o.header=function(a){a===void 0&&(a=o.state.date);var c=$u(a,o.props.locale,o.props.calendarStartDay),d=[];return o.props.showWeekNumbers&&d.push(st.createElement("div",{key:"W",className:"react-datepicker__day-name"},o.props.weekLabel||"#")),d.concat([0,1,2,3,4,5,6].map(function(f){var p=Za(c,f),g=o.formatWeekday(p,o.props.locale),k=o.props.weekDayClassName?o.props.weekDayClassName(p):void 0;return st.createElement("div",{key:f,"aria-label":Tr(p,"EEEE",o.props.locale),className:Zt("react-datepicker__day-name",k)},g)}))},o.formatWeekday=function(a,c){return o.props.formatWeekDay?fX(a,o.props.formatWeekDay,c):o.props.useWeekdaysShort?mX(a,c):pX(a,c)},o.decreaseYear=function(){o.setState(function(a){var c,d=a.date;return{date:fp(d,o.props.showYearPicker?(c=o.props.yearItemNumber)!==null&&c!==void 0?c:r.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.clearSelectingDate=function(){o.setState({selectingDate:void 0})},o.renderPreviousButton=function(){var a,c,d;if(!o.props.renderCustomHeader){var f=(a=o.props.monthsShown)!==null&&a!==void 0?a:r.defaultProps.monthsShown,p=o.props.showPreviousMonths?f-1:0,g=(c=o.props.monthSelectedIn)!==null&&c!==void 0?c:p,k=ph(o.state.date,g),v;switch(!0){case o.props.showMonthYearPicker:v=r6(o.state.date,o.props);break;case o.props.showYearPicker:v=yX(o.state.date,o.props);break;case o.props.showQuarterYearPicker:v=kX(o.state.date,o.props);break;default:v=t6(k,o.props);break}if(!(!((d=o.props.forceShowMonthNavigation)!==null&&d!==void 0?d:r.defaultProps.forceShowMonthNavigation)&&!o.props.showDisabledMonthNavigation&&v||o.props.showTimeSelectOnly)){var y=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],w=["react-datepicker__navigation","react-datepicker__navigation--previous"],x=o.decreaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(x=o.decreaseYear),v&&o.props.showDisabledMonthNavigation&&(w.push("react-datepicker__navigation--previous--disabled"),x=void 0);var A=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,D=o.props,E=D.previousMonthButtonLabel,M=E===void 0?r.defaultProps.previousMonthButtonLabel:E,P=D.previousYearButtonLabel,F=P===void 0?r.defaultProps.previousYearButtonLabel:P,H=o.props,V=H.previousMonthAriaLabel,N=V===void 0?typeof M=="string"?M:"Previous Month":V,j=H.previousYearAriaLabel,q=j===void 0?typeof F=="string"?F:"Previous Year":j;return st.createElement("button",{type:"button",className:w.join(" "),onClick:x,onKeyDown:o.props.handleOnKeyDown,"aria-label":A?q:N},st.createElement("span",{className:y.join(" ")},A?F:M))}}},o.increaseYear=function(){o.setState(function(a){var c,d=a.date;return{date:Lc(d,o.props.showYearPicker?(c=o.props.yearItemNumber)!==null&&c!==void 0?c:r.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.renderNextButton=function(){var a;if(!o.props.renderCustomHeader){var c;switch(!0){case o.props.showMonthYearPicker:c=i6(o.state.date,o.props);break;case o.props.showYearPicker:c=vX(o.state.date,o.props);break;case o.props.showQuarterYearPicker:c=wX(o.state.date,o.props);break;default:c=n6(o.state.date,o.props);break}if(!(!((a=o.props.forceShowMonthNavigation)!==null&&a!==void 0?a:r.defaultProps.forceShowMonthNavigation)&&!o.props.showDisabledMonthNavigation&&c||o.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],f=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];o.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),o.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var p=o.increaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(p=o.increaseYear),c&&o.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),p=void 0);var g=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,k=o.props,v=k.nextMonthButtonLabel,y=v===void 0?r.defaultProps.nextMonthButtonLabel:v,w=k.nextYearButtonLabel,x=w===void 0?r.defaultProps.nextYearButtonLabel:w,A=o.props,D=A.nextMonthAriaLabel,E=D===void 0?typeof y=="string"?y:"Next Month":D,M=A.nextYearAriaLabel,P=M===void 0?typeof x=="string"?x:"Next Year":M;return st.createElement("button",{type:"button",className:d.join(" "),onClick:p,onKeyDown:o.props.handleOnKeyDown,"aria-label":g?P:E},st.createElement("span",{className:f.join(" ")},g?x:y))}}},o.renderCurrentMonth=function(a){a===void 0&&(a=o.state.date);var c=["react-datepicker__current-month"];return o.props.showYearDropdown&&c.push("react-datepicker__current-month--hasYearDropdown"),o.props.showMonthDropdown&&c.push("react-datepicker__current-month--hasMonthDropdown"),o.props.showMonthYearDropdown&&c.push("react-datepicker__current-month--hasMonthYearDropdown"),st.createElement("h2",{className:c.join(" ")},Tr(a,o.props.dateFormat,o.props.locale))},o.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!o.props.showYearDropdown||a))return st.createElement(qX,Hn({},r.defaultProps,o.props,{date:o.state.date,onChange:o.changeYear,year:Tn(o.state.date)}))},o.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!o.props.showMonthDropdown||a))return st.createElement(OX,Hn({},r.defaultProps,o.props,{month:Ho(o.state.date),onChange:o.changeMonth}))},o.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!o.props.showMonthYearDropdown||a))return st.createElement(jX,Hn({},r.defaultProps,o.props,{date:o.state.date,onChange:o.changeMonthYear}))},o.handleTodayButtonClick=function(a){o.props.onSelect(QI(),a),o.props.setPreSelection&&o.props.setPreSelection(QI())},o.renderTodayButton=function(){if(!(!o.props.todayButton||o.props.showTimeSelectOnly))return st.createElement("div",{className:"react-datepicker__today-button",onClick:o.handleTodayButtonClick},o.props.todayButton)},o.renderDefaultHeader=function(a){var c=a.monthDate,d=a.i;return st.createElement("div",{className:"react-datepicker__header ".concat(o.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},o.renderCurrentMonth(c),st.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(o.props.dropdownMode),onFocus:o.handleDropdownFocus},o.renderMonthDropdown(d!==0),o.renderMonthYearDropdown(d!==0),o.renderYearDropdown(d!==0)),st.createElement("div",{className:"react-datepicker__day-names"},o.header(c)))},o.renderCustomHeader=function(a){var c,d,f=a.monthDate,p=a.i;if(o.props.showTimeSelect&&!o.state.monthContainer||o.props.showTimeSelectOnly)return null;var g=t6(o.state.date,o.props),k=n6(o.state.date,o.props),v=r6(o.state.date,o.props),y=i6(o.state.date,o.props),w=!o.props.showMonthYearPicker&&!o.props.showQuarterYearPicker&&!o.props.showYearPicker;return st.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:o.props.onDropdownFocus},(d=(c=o.props).renderCustomHeader)===null||d===void 0?void 0:d.call(c,Hn(Hn({},o.state),{customHeaderCount:p,monthDate:f,changeMonth:o.changeMonth,changeYear:o.changeYear,decreaseMonth:o.decreaseMonth,increaseMonth:o.increaseMonth,decreaseYear:o.decreaseYear,increaseYear:o.increaseYear,prevMonthButtonDisabled:g,nextMonthButtonDisabled:k,prevYearButtonDisabled:v,nextYearButtonDisabled:y})),w&&st.createElement("div",{className:"react-datepicker__day-names"},o.header(f)))},o.renderYearHeader=function(a){var c=a.monthDate,d=o.props,f=d.showYearPicker,p=d.yearItemNumber,g=p===void 0?r.defaultProps.yearItemNumber:p,k=zu(c,g),v=k.startPeriod,y=k.endPeriod;return st.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},f?"".concat(v," - ").concat(y):Tn(c))},o.renderHeader=function(a){var c=a.monthDate,d=a.i,f=d===void 0?0:d,p={monthDate:c,i:f};switch(!0){case o.props.renderCustomHeader!==void 0:return o.renderCustomHeader(p);case(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker):return o.renderYearHeader(p);default:return o.renderDefaultHeader(p)}},o.renderMonths=function(){var a,c;if(!(o.props.showTimeSelectOnly||o.props.showYearPicker)){for(var d=[],f=(a=o.props.monthsShown)!==null&&a!==void 0?a:r.defaultProps.monthsShown,p=o.props.showPreviousMonths?f-1:0,g=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?Lc(o.state.date,p):ph(o.state.date,p),k=(c=o.props.monthSelectedIn)!==null&&c!==void 0?c:p,v=0;v<f;++v){var y=v-k+p,w=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?Lc(g,y):Xa(g,y),x="month-".concat(v),A=v<f-1,D=v>0;d.push(st.createElement("div",{key:x,ref:function(E){o.monthContainer=E??void 0},className:"react-datepicker__month-container"},o.renderHeader({monthDate:w,i:v}),st.createElement(MX,Hn({},r.defaultProps,o.props,{ariaLabelPrefix:o.props.monthAriaLabelPrefix,day:w,onDayClick:o.handleDayClick,handleOnKeyDown:o.props.handleOnDayKeyDown,handleOnMonthKeyDown:o.props.handleOnKeyDown,onDayMouseEnter:o.handleDayMouseEnter,onMouseLeave:o.handleMonthMouseLeave,orderInDisplay:v,selectingDate:o.state.selectingDate,monthShowsDuplicateDaysEnd:A,monthShowsDuplicateDaysStart:D}))))}return d}},o.renderYears=function(){if(!o.props.showTimeSelectOnly&&o.props.showYearPicker)return st.createElement("div",{className:"react-datepicker__year--container"},o.renderHeader({monthDate:o.state.date}),st.createElement(FX,Hn({},r.defaultProps,o.props,{selectingDate:o.state.selectingDate,date:o.state.date,onDayClick:o.handleDayClick,clearSelectingDate:o.clearSelectingDate,onYearMouseEnter:o.handleYearMouseEnter,onYearMouseLeave:o.handleYearMouseLeave})))},o.renderTimeSection=function(){if(o.props.showTimeSelect&&(o.state.monthContainer||o.props.showTimeSelectOnly))return st.createElement(RX,Hn({},r.defaultProps,o.props,{onChange:o.props.onTimeChange,format:o.props.timeFormat,intervals:o.props.timeIntervals,monthRef:o.state.monthContainer}))},o.renderInputTimeSection=function(){var a=o.props.selected?new Date(o.props.selected):void 0,c=a&&Mc(a)&&!!o.props.selected,d=c?"".concat(s6(a.getHours()),":").concat(s6(a.getMinutes())):"";if(o.props.showTimeInput)return st.createElement(EX,Hn({},r.defaultProps,o.props,{date:a,timeString:d,onChange:o.props.onTimeChange}))},o.renderAriaLiveRegion=function(){var a,c=zu(o.state.date,(a=o.props.yearItemNumber)!==null&&a!==void 0?a:r.defaultProps.yearItemNumber),d=c.startPeriod,f=c.endPeriod,p;return o.props.showYearPicker?p="".concat(d," - ").concat(f):o.props.showMonthYearPicker||o.props.showQuarterYearPicker?p=Tn(o.state.date):p="".concat(eC(Ho(o.state.date),o.props.locale)," ").concat(Tn(o.state.date)),st.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},o.state.isRenderAriaLiveMessage&&p)},o.renderChildren=function(){if(o.props.children)return st.createElement("div",{className:"react-datepicker__children-container"},o.props.children)},o.containerRef=K.createRef(),o.state={date:o.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},o}return Object.defineProperty(r,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Yg}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},r.prototype.componentDidUpdate=function(n){var o=this;if(this.props.preSelection&&(!Rn(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var a=!Vo(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&o.handleCustomMonthChange(o.state.date)})}else this.props.openToDate&&!Rn(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},r.prototype.render=function(){var n=this.props.container||iX;return st.createElement(x1,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},st.createElement(n,{className:Zt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},r}(K.Component),WX=function(t){var r=t.icon,n=t.className,o=n===void 0?"":n,a=t.onClick,c="react-datepicker__calendar-icon";return typeof r=="string"?st.createElement("i",{className:"".concat(c," ").concat(r," ").concat(o),"aria-hidden":"true",onClick:a}):st.isValidElement(r)?st.cloneElement(r,{className:"".concat(r.props.className||""," ").concat(c," ").concat(o),onClick:function(d){typeof r.props.onClick=="function"&&r.props.onClick(d),typeof a=="function"&&a(d)}}):st.createElement("svg",{className:"".concat(c," ").concat(o),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},st.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},MO=function(t){Qi(r,t);function r(n){var o=t.call(this,n)||this;return o.portalRoot=null,o.el=document.createElement("div"),o}return r.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},r.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},r.prototype.render=function(){return sW.createPortal(this.props.children,this.el)},r}(K.Component),GX="[tabindex], a, button, input, select, textarea",YX=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},PO=function(t){Qi(r,t);function r(n){var o=t.call(this,n)||this;return o.getTabChildren=function(){var a;return Array.prototype.slice.call((a=o.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(GX),1,-1).filter(YX)},o.handleFocusStart=function(){var a=o.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},o.handleFocusEnd=function(){var a=o.getTabChildren();a&&a.length>1&&a[0].focus()},o.tabLoopRef=K.createRef(),o}return r.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:r.defaultProps.enableTabLoop)?st.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},st.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,st.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},r.defaultProps={enableTabLoop:!0},r}(K.Component);function KX(t){var r=function(n){var o,a=typeof n.hidePopper=="boolean"?n.hidePopper:!0,c=K.useRef(null),d=rX(Hn({open:!a,whileElementsMounted:LZ,placement:n.popperPlacement,middleware:ql([HZ({padding:15}),VZ(10),$Z({element:c})],(o=n.popperModifiers)!==null&&o!==void 0?o:[],!0)},n.popperProps)),f=Hn(Hn({},n),{hidePopper:a,popperProps:Hn(Hn({},d),{arrowRef:c})});return st.createElement(t,Hn({},f))};return r}var QX=function(t){Qi(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(r,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var n=this.props,o=n.className,a=n.wrapperClassName,c=n.hidePopper,d=c===void 0?r.defaultProps.hidePopper:c,f=n.popperComponent,p=n.targetComponent,g=n.enableTabLoop,k=n.popperOnKeyDown,v=n.portalId,y=n.portalHost,w=n.popperProps,x=n.showArrow,A=void 0;if(!d){var D=Zt("react-datepicker-popper",o);A=st.createElement(PO,{enableTabLoop:g},st.createElement("div",{ref:w.refs.setFloating,style:w.floatingStyles,className:D,"data-placement":w.placement,onKeyDown:k},f,x&&st.createElement(QZ,{ref:w.arrowRef,context:w.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(A=K.createElement(this.props.popperContainer,{},A)),v&&!d&&(A=st.createElement(MO,{portalId:v,portalHost:y},A));var E=Zt("react-datepicker-wrapper",a);return st.createElement(st.Fragment,null,st.createElement("div",{ref:w.refs.setReference,className:E},p),A)},r}(K.Component),JX=KX(QX),h6="react-datepicker-ignore-onclickoutside";function ZX(t,r){return t&&r?Ho(t)!==Ho(r)||Tn(t)!==Tn(r):t!==r}var Cv="Date input not valid.",XX=function(t){Qi(r,t);function r(n){var o=t.call(this,n)||this;return o.calendar=null,o.input=null,o.getPreSelection=function(){return o.props.openToDate?o.props.openToDate:o.props.selectsEnd&&o.props.startDate?o.props.startDate:o.props.selectsStart&&o.props.endDate?o.props.endDate:dr()},o.modifyHolidays=function(){var a;return(a=o.props.holidays)===null||a===void 0?void 0:a.reduce(function(c,d){var f=new Date(d.date);return Mc(f)?ql(ql([],c,!0),[Hn(Hn({},d),{date:f})],!1):c},[])},o.calcInitialState=function(){var a,c=o.getPreSelection(),d=IO(o.props),f=TO(o.props),p=d&&Ah(c,uk(d))?d:f&&Ku(c,JI(f))?f:c;return{open:o.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=o.props.selectsRange?o.props.startDate:o.props.selected)!==null&&a!==void 0?a:p,highlightDates:o6(o.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},o.resetHiddenStatus=function(){o.setState(Hn(Hn({},o.state),{wasHidden:!1}))},o.setHiddenStatus=function(){o.setState(Hn(Hn({},o.state),{wasHidden:!0}))},o.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&o.setHiddenStatus()},o.clearPreventFocusTimeout=function(){o.preventFocusTimeout&&clearTimeout(o.preventFocusTimeout)},o.safeFocus=function(){setTimeout(function(){var a,c;(c=(a=o.input)===null||a===void 0?void 0:a.focus)===null||c===void 0||c.call(a,{preventScroll:!0})},0)},o.safeBlur=function(){setTimeout(function(){var a,c;(c=(a=o.input)===null||a===void 0?void 0:a.blur)===null||c===void 0||c.call(a)},0)},o.setFocus=function(){o.safeFocus()},o.setBlur=function(){o.safeBlur(),o.cancelFocusInput()},o.setOpen=function(a,c){c===void 0&&(c=!1),o.setState({open:a,preSelection:a&&o.state.open?o.state.preSelection:o.calcInitialState().preSelection,lastPreSelectChange:xv},function(){a||o.setState(function(d){return{focused:c?d.focused:!1}},function(){!c&&o.setBlur(),o.setState({inputValue:null})})})},o.inputOk=function(){return Bc(o.state.preSelection)},o.isCalendarOpen=function(){return o.props.open===void 0?o.state.open&&!o.props.disabled&&!o.props.readOnly:o.props.open},o.handleFocus=function(a){var c,d,f=o.state.wasHidden,p=f?o.state.open:!0;f&&o.resetHiddenStatus(),!o.state.preventFocus&&p&&((d=(c=o.props).onFocus)===null||d===void 0||d.call(c,a),!o.props.preventOpenOnFocus&&!o.props.readOnly&&o.setOpen(!0)),o.setState({focused:!0})},o.sendFocusBackToInput=function(){o.preventFocusTimeout&&o.clearPreventFocusTimeout(),o.setState({preventFocus:!0},function(){o.preventFocusTimeout=setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})})},o.cancelFocusInput=function(){clearTimeout(o.inputFocusTimeout),o.inputFocusTimeout=void 0},o.deferFocusInput=function(){o.cancelFocusInput(),o.inputFocusTimeout=setTimeout(function(){return o.setFocus()},1)},o.handleDropdownFocus=function(){o.cancelFocusInput()},o.handleBlur=function(a){var c,d;(!o.state.open||o.props.withPortal||o.props.showTimeInput)&&((d=(c=o.props).onBlur)===null||d===void 0||d.call(c,a)),o.setState({focused:!1})},o.handleCalendarClickOutside=function(a){var c,d;o.props.inline||o.setOpen(!1),(d=(c=o.props).onClickOutside)===null||d===void 0||d.call(c,a),o.props.withPortal&&a.preventDefault()},o.handleChange=function(){for(var a,c,d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var p=d[0];if(!(o.props.onChangeRaw&&(o.props.onChangeRaw.apply(o,d),!p||typeof p.isDefaultPrevented!="function"||p.isDefaultPrevented()))){o.setState({inputValue:(p==null?void 0:p.target)instanceof HTMLInputElement?p.target.value:null,lastPreSelectChange:eee});var g=o.props,k=g.dateFormat,v=k===void 0?r.defaultProps.dateFormat:k,y=g.strictParsing,w=y===void 0?r.defaultProps.strictParsing:y,x=g.selectsRange,A=g.startDate,D=g.endDate,E=(p==null?void 0:p.target)instanceof HTMLInputElement?p.target.value:"";if(x){var M=E.split("-",2).map(function(Q){return Q.trim()}),P=M[0],F=M[1],H=vv(P??"",v,o.props.locale,w),V=vv(F??"",v,o.props.locale,w),N=(A==null?void 0:A.getTime())!==(H==null?void 0:H.getTime()),j=(D==null?void 0:D.getTime())!==(V==null?void 0:V.getTime());if(!N&&!j||H&&va(H,o.props)||V&&va(V,o.props))return;(c=(a=o.props).onChange)===null||c===void 0||c.call(a,[H,V],p)}else{var q=vv(E,v,o.props.locale,w,o.props.minDate);o.props.showTimeSelectOnly&&o.props.selected&&q&&!Rn(q,o.props.selected)&&(q=RJ(o.props.selected,{hours:Hl(q),minutes:$l(q),seconds:jc(q)})),(q||!E)&&o.setSelected(q,p,!0)}}},o.handleSelect=function(a,c,d){if(o.props.shouldCloseOnSelect&&!o.props.showTimeSelect&&o.sendFocusBackToInput(),o.props.onChangeRaw&&o.props.onChangeRaw(c),o.setSelected(a,c,!1,d),o.props.showDateSelect&&o.setState({isRenderAriaLiveMessage:!0}),!o.props.shouldCloseOnSelect||o.props.showTimeSelect)o.setPreSelection(a);else if(!o.props.inline){o.props.selectsRange||o.setOpen(!1);var f=o.props,p=f.startDate,g=f.endDate;p&&!g&&(o.props.swapRange||!c6(a,p))&&o.setOpen(!1)}},o.setSelected=function(a,c,d,f){var p,g,k=a;if(o.props.showYearPicker){if(k!==null&&dk(Tn(k),o.props))return}else if(o.props.showMonthYearPicker){if(k!==null&&DO(k,o.props))return}else if(k!==null&&va(k,o.props))return;var v=o.props,y=v.onChange,w=v.selectsRange,x=v.startDate,A=v.endDate,D=v.selectsMultiple,E=v.selectedDates,M=v.minTime,P=v.swapRange;if(!ah(o.props.selected,k)||o.props.allowSameDay||w||D)if(k!==null&&(o.props.selected&&(!d||!o.props.showTimeSelect&&!o.props.showTimeSelectOnly&&!o.props.showTimeInput)&&(k=_v(k,{hour:Hl(o.props.selected),minute:$l(o.props.selected),second:jc(o.props.selected)})),!d&&(o.props.showTimeSelect||o.props.showTimeSelectOnly)&&M&&(k=_v(k,{hour:M.getHours(),minute:M.getMinutes(),second:M.getSeconds()})),o.props.inline||o.setState({preSelection:k}),o.props.focusSelectedMonth||o.setState({monthSelectedIn:f})),w){var F=!x&&!A,H=x&&!A,V=x&&A;F?y==null||y([k,null],c):H&&(k===null?y==null||y([null,null],c):c6(k,x)?P?y==null||y([k,x],c):y==null||y([k,null],c):y==null||y([x,k],c)),V&&(y==null||y([k,null],c))}else if(D){if(k!==null)if(!(E!=null&&E.length))y==null||y([k],c);else{var N=E.some(function(q){return Rn(q,k)});if(N){var j=E.filter(function(q){return!Rn(q,k)});y==null||y(j,c)}else y==null||y(ql(ql([],E,!0),[k],!1),c)}}else y==null||y(k,c);d||((g=(p=o.props).onSelect)===null||g===void 0||g.call(p,k,c),o.setState({inputValue:null}))},o.setPreSelection=function(a){var c=Bc(o.props.minDate),d=Bc(o.props.maxDate),f=!0;if(a){var p=uk(a);if(c&&d)f=lg(a,o.props.minDate,o.props.maxDate);else if(c){var g=uk(o.props.minDate);f=Ku(a,g)||ah(p,g)}else if(d){var k=JI(o.props.maxDate);f=Ah(a,k)||ah(p,k)}}f&&o.setState({preSelection:a})},o.toggleCalendar=function(){o.setOpen(!o.state.open)},o.handleTimeChange=function(a){var c,d;if(!(o.props.selectsRange||o.props.selectsMultiple)){var f=o.props.selected?o.props.selected:o.getPreSelection(),p=o.props.selected?a:_v(f,{hour:Hl(a),minute:$l(a)});o.setState({preSelection:p}),(d=(c=o.props).onChange)===null||d===void 0||d.call(c,p),o.props.shouldCloseOnSelect&&!o.props.showTimeInput&&(o.sendFocusBackToInput(),o.setOpen(!1)),o.props.showTimeInput&&o.setOpen(!0),(o.props.showTimeSelectOnly||o.props.showTimeSelect)&&o.setState({isRenderAriaLiveMessage:!0}),o.setState({inputValue:null})}},o.onInputClick=function(){var a,c;!o.props.disabled&&!o.props.readOnly&&o.setOpen(!0),(c=(a=o.props).onInputClick)===null||c===void 0||c.call(a)},o.onInputKeyDown=function(a){var c,d,f,p,g,k;(d=(c=o.props).onKeyDown)===null||d===void 0||d.call(c,a);var v=a.key;if(!o.state.open&&!o.props.inline&&!o.props.preventOpenOnFocus){(v===Bt.ArrowDown||v===Bt.ArrowUp||v===Bt.Enter)&&((f=o.onInputClick)===null||f===void 0||f.call(o));return}if(o.state.open){if(v===Bt.ArrowDown||v===Bt.ArrowUp){a.preventDefault();var y=o.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":o.props.showWeekPicker&&o.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':o.props.showFullMonthYearPicker||o.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',w=((p=o.calendar)===null||p===void 0?void 0:p.containerRef.current)instanceof Element&&o.calendar.containerRef.current.querySelector(y);w instanceof HTMLElement&&w.focus({preventScroll:!0});return}var x=dr(o.state.preSelection);v===Bt.Enter?(a.preventDefault(),a.target.blur(),o.inputOk()&&o.state.lastPreSelectChange===xv?(o.handleSelect(x,a),!o.props.shouldCloseOnSelect&&o.setPreSelection(x)):o.setOpen(!1)):v===Bt.Escape?(a.preventDefault(),a.target.blur(),o.sendFocusBackToInput(),o.setOpen(!1)):v===Bt.Tab&&o.setOpen(!1),o.inputOk()||(k=(g=o.props).onInputError)===null||k===void 0||k.call(g,{code:1,msg:Cv})}},o.onPortalKeyDown=function(a){var c=a.key;c===Bt.Escape&&(a.preventDefault(),o.setState({preventFocus:!0},function(){o.setOpen(!1),setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})}))},o.onDayKeyDown=function(a){var c,d,f,p,g,k,v=o.props,y=v.minDate,w=v.maxDate,x=v.disabledKeyboardNavigation,A=v.showWeekPicker,D=v.shouldCloseOnSelect,E=v.locale,M=v.calendarStartDay,P=v.adjustDateOnChange,F=v.inline;if((d=(c=o.props).onKeyDown)===null||d===void 0||d.call(c,a),!x){var H=a.key,V=a.shiftKey,N=dr(o.state.preSelection),j=function(ne,de){var ae=de;switch(ne){case Bt.ArrowRight:ae=A?Bk(de,1):Za(de,1);break;case Bt.ArrowLeft:ae=A?RI(de):vJ(de);break;case Bt.ArrowUp:ae=RI(de);break;case Bt.ArrowDown:ae=Bk(de,1);break;case Bt.PageUp:ae=V?fp(de,1):ph(de,1);break;case Bt.PageDown:ae=V?Lc(de,1):Xa(de,1);break;case Bt.Home:ae=$u(de,E,M);break;case Bt.End:ae=dX(de);break}return ae},q=function(ne,de){for(var ae=40,oe=ne,ye=!1,re=0,xe=j(ne,de);!ye;){if(re>=ae){xe=de;break}y&&xe<y&&(oe=Bt.ArrowRight,xe=va(y,o.props)?j(oe,xe):y),w&&xe>w&&(oe=Bt.ArrowLeft,xe=va(w,o.props)?j(oe,xe):w),va(xe,o.props)?((oe===Bt.PageUp||oe===Bt.Home)&&(oe=Bt.ArrowRight),(oe===Bt.PageDown||oe===Bt.End)&&(oe=Bt.ArrowLeft),xe=j(oe,xe)):ye=!0,re++}return xe};if(H===Bt.Enter){a.preventDefault(),o.handleSelect(N,a),!D&&o.setPreSelection(N);return}else if(H===Bt.Escape){a.preventDefault(),o.setOpen(!1),o.inputOk()||(p=(f=o.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:Cv});return}var Q=null;switch(H){case Bt.ArrowLeft:case Bt.ArrowRight:case Bt.ArrowUp:case Bt.ArrowDown:case Bt.PageUp:case Bt.PageDown:case Bt.Home:case Bt.End:Q=q(H,N);break}if(!Q){(k=(g=o.props).onInputError)===null||k===void 0||k.call(g,{code:1,msg:Cv});return}if(a.preventDefault(),o.setState({lastPreSelectChange:xv}),P&&o.setSelected(Q),o.setPreSelection(Q),F){var $=Ho(N),R=Ho(Q),Y=Tn(N),B=Tn(Q);$!==R||Y!==B?o.setState({shouldFocusDayInline:!0}):o.setState({shouldFocusDayInline:!1})}}},o.onPopperKeyDown=function(a){var c=a.key;c===Bt.Escape&&(a.preventDefault(),o.sendFocusBackToInput())},o.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),o.sendFocusBackToInput();var c=o.props,d=c.selectsRange,f=c.onChange;d?f==null||f([null,null],a):f==null||f(null,a),o.setState({inputValue:null})},o.clear=function(){o.onClearClick()},o.onScroll=function(a){typeof o.props.closeOnScroll=="boolean"&&o.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&o.setOpen(!1):typeof o.props.closeOnScroll=="function"&&o.props.closeOnScroll(a)&&o.setOpen(!1)},o.renderCalendar=function(){var a,c;return!o.props.inline&&!o.isCalendarOpen()?null:st.createElement($X,Hn({showMonthYearDropdown:void 0,ref:function(d){o.calendar=d}},o.props,o.state,{setOpen:o.setOpen,dateFormat:(a=o.props.dateFormatCalendar)!==null&&a!==void 0?a:r.defaultProps.dateFormatCalendar,onSelect:o.handleSelect,onClickOutside:o.handleCalendarClickOutside,holidays:AX(o.modifyHolidays()),outsideClickIgnoreClass:h6,onDropdownFocus:o.handleDropdownFocus,onTimeChange:o.handleTimeChange,className:o.props.calendarClassName,container:o.props.calendarContainer,handleOnKeyDown:o.props.onKeyDown,handleOnDayKeyDown:o.onDayKeyDown,setPreSelection:o.setPreSelection,dropdownMode:(c=o.props.dropdownMode)!==null&&c!==void 0?c:r.defaultProps.dropdownMode}),o.props.children)},o.renderAriaLiveRegion=function(){var a=o.props,c=a.dateFormat,d=c===void 0?r.defaultProps.dateFormat:c,f=a.locale,p=o.props.showTimeInput||o.props.showTimeSelect,g=p?"PPPPp":"PPPP",k;return o.props.selectsRange?k="Selected start date: ".concat(wa(o.props.startDate,{dateFormat:g,locale:f}),". ").concat(o.props.endDate?"End date: "+wa(o.props.endDate,{dateFormat:g,locale:f}):""):o.props.showTimeSelectOnly?k="Selected time: ".concat(wa(o.props.selected,{dateFormat:d,locale:f})):o.props.showYearPicker?k="Selected year: ".concat(wa(o.props.selected,{dateFormat:"yyyy",locale:f})):o.props.showMonthYearPicker?k="Selected month: ".concat(wa(o.props.selected,{dateFormat:"MMMM yyyy",locale:f})):o.props.showQuarterYearPicker?k="Selected quarter: ".concat(wa(o.props.selected,{dateFormat:"yyyy, QQQ",locale:f})):k="Selected date: ".concat(wa(o.props.selected,{dateFormat:g,locale:f})),st.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},k)},o.renderDateInput=function(){var a,c,d,f=Zt(o.props.className,(a={},a[h6]=o.state.open,a)),p=o.props.customInput||st.createElement("input",{type:"text"}),g=o.props.customInputRef||"ref",k=o.props,v=k.dateFormat,y=v===void 0?r.defaultProps.dateFormat:v,w=k.locale,x=typeof o.props.value=="string"?o.props.value:typeof o.state.inputValue=="string"?o.state.inputValue:o.props.selectsRange?aX(o.props.startDate,o.props.endDate,{dateFormat:y,locale:w}):o.props.selectsMultiple?lX((d=o.props.selectedDates)!==null&&d!==void 0?d:[],{dateFormat:y,locale:w}):wa(o.props.selected,{dateFormat:y,locale:w});return K.cloneElement(p,(c={},c[g]=function(A){o.input=A},c.value=x,c.onBlur=o.handleBlur,c.onChange=o.handleChange,c.onClick=o.onInputClick,c.onFocus=o.handleFocus,c.onKeyDown=o.onInputKeyDown,c.id=o.props.id,c.name=o.props.name,c.form=o.props.form,c.autoFocus=o.props.autoFocus,c.placeholder=o.props.placeholderText,c.disabled=o.props.disabled,c.autoComplete=o.props.autoComplete,c.className=Zt(p.props.className,f),c.title=o.props.title,c.readOnly=o.props.readOnly,c.required=o.props.required,c.tabIndex=o.props.tabIndex,c["aria-describedby"]=o.props.ariaDescribedBy,c["aria-invalid"]=o.props.ariaInvalid,c["aria-labelledby"]=o.props.ariaLabelledBy,c["aria-required"]=o.props.ariaRequired,c))},o.renderClearButton=function(){var a=o.props,c=a.isClearable,d=a.disabled,f=a.selected,p=a.startDate,g=a.endDate,k=a.clearButtonTitle,v=a.clearButtonClassName,y=v===void 0?"":v,w=a.ariaLabelClose,x=w===void 0?"Close":w,A=a.selectedDates;return c&&(f!=null||p!=null||g!=null||A!=null&&A.length)?st.createElement("button",{type:"button",className:Zt("react-datepicker__close-icon",y,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":x,onClick:o.onClearClick,title:k,tabIndex:-1}):null},o.state=o.calcInitialState(),o.preventFocusTimeout=void 0,o}return Object.defineProperty(r,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Yg,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.componentDidUpdate=function(n,o){var a,c,d,f;n.inline&&ZX(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:o6(this.props.highlightDates)}),!o.focused&&!ah(n.selected,this.props.selected)&&this.setState({inputValue:null}),o.open!==this.state.open&&(o.open===!1&&this.state.open===!0&&((c=(a=this.props).onCalendarOpen)===null||c===void 0||c.call(a)),o.open===!0&&this.state.open===!1&&((f=(d=this.props).onCalendarClose)===null||f===void 0||f.call(d)))},r.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.renderInputContainer=function(){var n=this.props,o=n.showIcon,a=n.icon,c=n.calendarIconClassname,d=n.calendarIconClassName,f=n.toggleCalendarOnIconClick,p=this.state.open;return c&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),st.createElement("div",{className:"react-datepicker__input-container".concat(o?" react-datepicker__view-calendar-icon":"")},o&&st.createElement(WX,Hn({icon:a,className:Zt(d,!d&&c,p&&"react-datepicker-ignore-onclickoutside")},f?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},r.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var o=this.state.open?st.createElement(PO,{enableTabLoop:this.props.enableTabLoop},st.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(o=st.createElement(MO,Hn({portalId:this.props.portalId},this.props),o)),st.createElement("div",null,this.renderInputContainer(),o)}return st.createElement(JX,Hn({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},r}(K.Component),eee="input",xv="navigate";const tee=aW(Sn)({width:"100%"}),OO=st.forwardRef((t,r)=>C.jsx(tee,{...t,inputRef:r,fullWidth:!0}));OO.displayName="CustomInput";const nee=({value:t,onChange:r})=>C.jsx(Fe,{sx:{mb:2},children:C.jsx(XX,{selected:t,onChange:n=>r(n),showTimeSelect:!0,dateFormat:"Pp",customInput:C.jsx(OO,{label:"Schedule Publish Date & Time"})})}),LO=({materialData:t})=>{var _e,Me,Ie,Ae,Oe,Ge,Xe,dt,Ue,We,Ye,St,ht,tn,pt,Vt,Rt,zt,Yt,pn,En,zn,Mr,qr,Ln,Xt,Dn,No,Nn,zi,ei,Ht,Oi,Ui;const r=Fr(),{userDetails:n}=xi(),o=Xn(),[a]=g1(),c=a.get("course"),[d,f]=K.useState((t==null?void 0:t.course)||c||""),[p,g]=K.useState((t==null?void 0:t.id)||null),[k,v]=K.useState((t==null?void 0:t.title)||""),[y,w]=K.useState((t==null?void 0:t.header)||{title:"Header",content:""}),[x,A]=K.useState((t==null?void 0:t.footer)||{title:"Footer",content:""}),[D,E]=K.useState((t==null?void 0:t.sections)||[{id:og(),title:"Section 1",content:"",subsections:[],images:[],links:[]}]),[M,P]=K.useState({sectionIndex:0}),[F,H]=K.useState(!1),[V,N]=K.useState(""),[j,q]=K.useState("success"),[Q,$]=K.useState(!1),[R,Y]=K.useState(((_e=t==null?void 0:t.scheduledTimestamp)==null?void 0:_e.toDate())||null),[B,ne]=K.useState(!1);K.useEffect(()=>{const kt=At=>{At.key==="ArrowLeft"?Ce("prev"):At.key==="ArrowRight"&&Ce("next")};return window.addEventListener("keydown",kt),()=>{window.removeEventListener("keydown",kt)}},[M,D]);const de=async(kt,At=!1,Ct)=>{kt.preventDefault();try{if(p){const Ot=An(o,"materials",p);await Rr(Ot,{course:d,title:k,header:y,footer:x,sections:D,published:At,scheduledTimestamp:Ct?Pk.fromDate(Ct):null}),N("Material updated successfully")}else{const Ot=await Sa(Zn(o,"materials"),{course:d,title:k,header:y,footer:x,sections:D,author:(n==null?void 0:n.uid)||"",timestamp:Jf(),published:At,scheduledTimestamp:Ct?Pk.fromDate(Ct):null});g(Ot.id),N("Material saved successfully")}q("success"),H(!0),$(!0),setTimeout(()=>$(!1),3e3)}catch{N("Failed to save material"),q("error"),H(!0)}},ae=()=>{r(c?`/supplemental-materials?course=${c}`:"/supplemental-materials")},oe=kt=>{de(kt,!0)},ye=kt=>{B&&R?de(kt,!1,R):ne(!0)},re=()=>{E([...D,{id:og(),title:`Section ${D.length+1}`,content:"",subsections:[],images:[],links:[]}])},xe=kt=>{const At=[...D],Ct=At[kt];Ct.subsections.push({id:og(),title:`Subsection ${Ct.subsections.length+1}`,content:"",subSubsections:[],images:[],links:[]}),E(At),P({sectionIndex:kt,subsectionIndex:Ct.subsections.length-1})},X=(kt,At)=>{const Ct=[...D],Ot=Ct[kt].subsections[At];Ot.subSubsections.push({id:og(),title:`Sub-Subsection ${Ot.subSubsections.length+1}`,content:"",images:[],links:[]}),E(Ct),P({sectionIndex:kt,subsectionIndex:At,subSubsectionIndex:Ot.subSubsections.length-1})},Z=(kt,At,Ct,Ot)=>{const Qt=[...D];Ot!==void 0?Qt[kt].subsections[Ct].subSubsections[Ot].images=[...Qt[kt].subsections[Ct].subSubsections[Ot].images,...At]:Ct!==void 0?Qt[kt].subsections[Ct].images=[...Qt[kt].subsections[Ct].images,...At]:Qt[kt].images=[...Qt[kt].images,...At],E(Qt)},se=(kt,At,Ct,Ot)=>{const Qt=[...D];Ot!==void 0?Qt[kt].subsections[Ct].subSubsections[Ot].links=At:Ct!==void 0?Qt[kt].subsections[Ct].links=At:Qt[kt].links=At,E(Qt)},pe=(kt,At,Ct)=>{P({sectionIndex:typeof kt=="number"?kt:void 0,subsectionIndex:At,subSubsectionIndex:Ct,type:typeof kt=="string"?kt:void 0})},we=(kt,At)=>{const Ct=[...D];Ct[kt].title=At,E(Ct)},Pe=(kt,At,Ct)=>{const Ot=[...D];Ot[kt].subsections[At].title=Ct,E(Ot)},Te=(kt,At,Ct,Ot)=>{const Qt=[...D];Qt[kt].subsections[At].subSubsections[Ct].title=Ot,E(Qt)},Ne=(kt,At,Ct,Ot)=>{const Qt=[...D];Ot!==void 0?Qt[kt].subsections[Ct].subSubsections[Ot].content=At:Ct!==void 0?Qt[kt].subsections[Ct].content=At:Qt[kt].content=At,E(Qt)},rt=kt=>{w({...y,content:kt})},Ke=kt=>{A({...x,content:kt})},Qe=kt=>{const At=D.filter((Ct,Ot)=>Ot!==kt);E(At),At.length===0?P({sectionIndex:void 0,type:"header"}):kt>=At.length?P({sectionIndex:At.length-1}):P({sectionIndex:kt})},ze=(kt,At)=>{var Ot;const Ct=[...D];(Ot=Ct[kt])!=null&&Ot.subsections&&(Ct[kt].subsections=Ct[kt].subsections.filter((Qt,Wn)=>Wn!==At),E(Ct),Ct[kt].subsections.length===0?P({sectionIndex:kt}):At>=Ct[kt].subsections.length?P({sectionIndex:kt,subsectionIndex:Ct[kt].subsections.length-1}):P({sectionIndex:kt,subsectionIndex:At}))},J=(kt,At,Ct)=>{var Wn,Pr;const Ot=[...D],Qt=(Pr=(Wn=Ot[kt])==null?void 0:Wn.subsections)==null?void 0:Pr[At];Qt&&Qt.subSubsections&&(Qt.subSubsections=Qt.subSubsections.filter((Go,Mo)=>Mo!==Ct),E(Ot),Qt.subSubsections.length?Ct>=Qt.subSubsections.length?P({sectionIndex:kt,subsectionIndex:At,subSubsectionIndex:Qt.subSubsections.length-1}):P({sectionIndex:kt,subsectionIndex:At,subSubsectionIndex:Ct}):P({sectionIndex:kt,subsectionIndex:At}))},Ce=kt=>{const{sectionIndex:At,subsectionIndex:Ct,subSubsectionIndex:Ot,type:Qt}=M;if(kt==="prev")if(Ot!==void 0&&Ot>0)P({sectionIndex:At,subsectionIndex:Ct,subSubsectionIndex:Ot-1});else if(Ot!==void 0&&Ot===0)P({sectionIndex:At,subsectionIndex:Ct});else if(Ct!==void 0&&Ct>0)P({sectionIndex:At,subsectionIndex:Ct-1});else if(Ct!==void 0&&Ct===0)P({sectionIndex:At});else if(At>0){const Wn=D[At-1];P({sectionIndex:At-1,subsectionIndex:Wn.subsections.length?Wn.subsections.length-1:void 0,subSubsectionIndex:Wn.subsections.length?Wn.subsections[Wn.subsections.length-1].subSubsections.length-1:void 0})}else Qt==="footer"?P({sectionIndex:D.length-1,type:"footer"}):At===void 0&&Qt==="header"&&P({sectionIndex:D.length-1});else kt==="next"&&(Ot===void 0&&Ct!==void 0&&D[At].subsections[Ct].subSubsections.length?P({sectionIndex:At,subsectionIndex:Ct,subSubsectionIndex:0}):Ot!==void 0&&Ot<D[At].subsections[Ct].subSubsections.length-1?P({sectionIndex:At,subsectionIndex:Ct,subSubsectionIndex:Ot+1}):Ot!==void 0&&Ot===D[At].subsections[Ct].subSubsections.length-1&&Ct<D[At].subsections.length-1?P({sectionIndex:At,subsectionIndex:Ct+1}):Ct===void 0&&D[At].subsections.length?P({sectionIndex:At,subsectionIndex:0}):Ct!==void 0&&Ct<D[At].subsections.length-1?P({sectionIndex:At,subsectionIndex:Ct+1}):Ct!==void 0&&Ct===D[At].subsections.length-1&&At<D.length-1?P({sectionIndex:At+1}):At<D.length-1?P({sectionIndex:At+1}):At===D.length-1&&Ct===void 0&&P({sectionIndex:void 0,type:"footer"}))},ue=M.type==="header"||M.type==="footer"?"":M.sectionIndex!==void 0?M.subSubsectionIndex!==void 0?((Me=D[M.sectionIndex].subsections[M.subsectionIndex].subSubsections[M.subSubsectionIndex])==null?void 0:Me.content)||"":M.subsectionIndex!==void 0?((Ie=D[M.sectionIndex].subsections[M.subsectionIndex])==null?void 0:Ie.content)||"":((Ae=D[M.sectionIndex])==null?void 0:Ae.content)||"":"",ge=M.type==="header"||M.type==="footer"?"":M.sectionIndex!==void 0?M.subSubsectionIndex!==void 0?((Oe=D[M.sectionIndex].subsections[M.subsectionIndex].subSubsections[M.subSubsectionIndex])==null?void 0:Oe.title)||"":M.subsectionIndex!==void 0?((Ge=D[M.sectionIndex].subsections[M.subsectionIndex])==null?void 0:Ge.title)||"":((Xe=D[M.sectionIndex])==null?void 0:Xe.title)||"":"",he=(kt,At,Ct,Ot)=>{const Qt=[...D];Ot!==void 0?Qt[kt].subsections[Ct].subSubsections[Ot].images=Qt[kt].subsections[Ct].subSubsections[Ot].images.filter(Wn=>Wn.url!==At):Ct!==void 0?Qt[kt].subsections[Ct].images=Qt[kt].subsections[Ct].images.filter(Wn=>Wn.url!==At):Qt[kt].images=Qt[kt].images.filter(Wn=>Wn.url!==At),E(Qt)};return C.jsxs(Fe,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:[C.jsxs(Fe,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[C.jsx(Fe,{sx:{width:"450px",ml:2,mt:2},children:C.jsx(VP,{})}),C.jsxs(Fe,{sx:{display:"flex",flexGrow:1},children:[C.jsx(qP,{sections:D,selected:M,onAddSection:re,onAddSubsection:xe,onAddSubSubsection:X,onSelectSection:pe,onUpdateSectionTitle:we,onUpdateSubsectionTitle:Pe,onUpdateSubSubsectionTitle:Te,onDeleteSection:Qe,onDeleteSubsection:ze,onDeleteSubSubsection:J}),C.jsxs(Fe,{sx:{flexGrow:1,padding:3},children:[C.jsx(Sn,{label:"Material Title",variant:"outlined",fullWidth:!0,value:k,onChange:kt=>v(kt.target.value),sx:{mb:2}}),C.jsx(kK,{value:d,onChange:f}),R&&C.jsxs(Ve,{variant:"body1",gutterBottom:!0,children:["Scheduled Publish Date & Time: ",R.toLocaleString()]}),C.jsxs(Fe,{sx:{border:M.type==="header"?"2px solid blue":"none",borderRadius:1,padding:2,mb:2},children:[C.jsx(Fe,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:C.jsx(Ve,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Header"})}),C.jsx(DI,{content:y.content,onChange:rt})]}),C.jsx(Ve,{variant:"h4",align:"center",gutterBottom:!0,children:ge}),M.type!=="header"&&M.type!=="footer"&&C.jsxs(C.Fragment,{children:[C.jsx(bK,{content:ue,onChange:kt=>Ne(M.sectionIndex,kt,M.subsectionIndex,M.subSubsectionIndex)},`${M.sectionIndex}-${M.subsectionIndex}-${M.subSubsectionIndex}`),C.jsx(DY,{sectionId:M.sectionIndex!==void 0?M.subSubsectionIndex!==void 0&&M.subsectionIndex!==void 0?((St=(Ye=(We=(Ue=(dt=D[M.sectionIndex])==null?void 0:dt.subsections)==null?void 0:Ue[M.subsectionIndex])==null?void 0:We.subSubsections)==null?void 0:Ye[M.subSubsectionIndex])==null?void 0:St.id)||"":M.subsectionIndex!==void 0?((pt=(tn=(ht=D[M.sectionIndex])==null?void 0:ht.subsections)==null?void 0:tn[M.subsectionIndex])==null?void 0:pt.id)||"":((Vt=D[M.sectionIndex])==null?void 0:Vt.id)||"":"",onImagesUploaded:kt=>Z(M.sectionIndex,kt,M.subsectionIndex,M.subSubsectionIndex)}),(M.subSubsectionIndex!==void 0?((En=(pn=(Yt=(zt=(Rt=D[M.sectionIndex])==null?void 0:Rt.subsections)==null?void 0:zt[M.subsectionIndex])==null?void 0:Yt.subSubsections)==null?void 0:pn[M.subSubsectionIndex])==null?void 0:En.images)||[]:M.subsectionIndex!==void 0?((qr=(Mr=(zn=D[M.sectionIndex])==null?void 0:zn.subsections)==null?void 0:Mr[M.subsectionIndex])==null?void 0:qr.images)||[]:((Ln=D[M.sectionIndex])==null?void 0:Ln.images)||[]).map((kt,At)=>C.jsxs(Fe,{sx:{position:"relative",mt:2},children:[C.jsx("img",{src:kt.url,alt:`Section ${M.sectionIndex+1} Image ${At+1}`,style:{maxWidth:"50%",marginBottom:"16px"}}),C.jsx(IY,{imageTitle:kt.title,onTitleChange:Ct=>{var Qt,Wn;const Ot=[...D];if(M.sectionIndex!==void 0)if(M.subSubsectionIndex!==void 0&&M.subsectionIndex!==void 0){const Pr=(Wn=(Qt=Ot[M.sectionIndex].subsections)==null?void 0:Qt[M.subsectionIndex])==null?void 0:Wn.subSubsections;Pr&&Pr[M.subSubsectionIndex]&&(Pr[M.subSubsectionIndex].images[At].title=Ct)}else if(M.subsectionIndex!==void 0){const Pr=Ot[M.sectionIndex].subsections;Pr&&Pr[M.subsectionIndex]&&(Pr[M.subsectionIndex].images[At].title=Ct)}else Ot[M.sectionIndex].images[At].title=Ct;E(Ot)}}),C.jsx(ir,{sx:{position:"absolute",top:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.7)"},onClick:()=>he(M.sectionIndex,kt.url,M.subsectionIndex,M.subSubsectionIndex),children:C.jsx(td,{})})]},At)),C.jsx(TY,{links:M.sectionIndex!==void 0?M.subSubsectionIndex!==void 0&&M.subsectionIndex!==void 0?((zi=(Nn=(No=(Dn=(Xt=D[M.sectionIndex])==null?void 0:Xt.subsections)==null?void 0:Dn[M.subsectionIndex])==null?void 0:No.subSubsections)==null?void 0:Nn[M.subSubsectionIndex])==null?void 0:zi.links)||[]:M.subsectionIndex!==void 0?((Oi=(Ht=(ei=D[M.sectionIndex])==null?void 0:ei.subsections)==null?void 0:Ht[M.subsectionIndex])==null?void 0:Oi.links)||[]:((Ui=D[M.sectionIndex])==null?void 0:Ui.links)||[]:[],onLinksChange:kt=>se(M.sectionIndex,kt,M.subsectionIndex,M.subSubsectionIndex)})]}),C.jsxs(Fe,{sx:{border:M.type==="footer"?"2px solid blue":"none",borderRadius:1,padding:2,mt:2},children:[C.jsx(Fe,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:C.jsx(Ve,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Footer"})}),C.jsx(DI,{content:x.content,onChange:Ke})]}),C.jsxs(Fe,{sx:{display:"flex",justifyContent:"space-between"},children:[C.jsx(Gs,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:C.jsx("span",{children:C.jsx(ir,{onClick:()=>Ce("prev"),disabled:M.sectionIndex===0&&M.subsectionIndex===void 0&&M.type==="header",children:C.jsx(sP,{})})})}),C.jsx(Gs,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:C.jsx("span",{children:C.jsx(ir,{onClick:()=>Ce("next"),disabled:M.sectionIndex===D.length-1&&(M.subsectionIndex===void 0||M.subsectionIndex===D[M.sectionIndex].subsections.length-1)&&M.type==="footer",children:C.jsx(aP,{})})})})]}),C.jsxs(Fe,{sx:{mt:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[C.jsx(xt,{type:"button",variant:"outlined",onClick:ae,className:"supplemental-button cancel-button",children:"Cancel"}),C.jsxs(Fe,{sx:{display:"flex",alignItems:"center"},children:[C.jsx(xt,{type:"submit",variant:"outlined",onClick:kt=>de(kt,!1),className:"supplemental-button save-button",children:"Save"}),Q&&C.jsx(Ve,{variant:"body2",sx:{fontStyle:"italic",ml:1},children:"Changes Saved"})]}),C.jsx(xt,{type:"button",variant:"outlined",onClick:oe,className:"supplemental-button publish-button",children:"Publish"}),C.jsxs("div",{children:[B&&C.jsx(nee,{value:R,onChange:Y}),C.jsx(xt,{type:"button",variant:"outlined",onClick:ye,className:"supplemental-button schedule-publish-button",children:"Schedule Publish"})]})]})]})]})]}),C.jsx(Wo,{open:F,autoHideDuration:6e3,onClose:()=>H(!1),children:C.jsx(xr,{onClose:()=>H(!1),severity:j,sx:{width:"100%"},children:V})})]})},ree=()=>{const{id:t}=RA(),r=Xn(),{userDetails:n}=xi(),[o,a]=K.useState(null),c=K.useMemo(()=>n!=null&&n.classes?Object.entries(n.classes).filter(([f,p])=>p.isCourseAdmin).map(([f])=>f):[],[n==null?void 0:n.classes]);K.useEffect(()=>{t&&(async()=>{var p;try{const g=An(r,"materials",t),k=await us(g);if(k.exists()){const v={id:k.id,...k.data()};v.sections=((p=v.sections)==null?void 0:p.map(y=>{var w,x;return{...y,images:((w=y.images)==null?void 0:w.map(A=>({...A,title:A.title||""})))||[],subsections:((x=y.subsections)==null?void 0:x.map(A=>{var D,E;return{...A,images:((D=A.images)==null?void 0:D.map(M=>({...M,title:M.title||""})))||[],subSubsections:((E=A.subSubsections)==null?void 0:E.map(M=>{var P;return{...M,images:((P=M.images)==null?void 0:P.map(F=>({...F,title:F.title||""})))||[]}}))||[]}}))||[]}}))||[],v.course=c.includes(v.course)?v.course:c[0]||"",a(v)}}catch(g){console.error("Error fetching material:",g)}})()},[t,r,n,c]);const d=async f=>{try{if(t){const p=An(r,"materials",t);await Rr(p,{...f})}}catch(p){console.error("Error updating material:",p)}};return o?C.jsx(LO,{materialData:o,onSubmit:d}):C.jsx(Fe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:C.jsx(di,{})})},Sv=({images:t})=>C.jsx(Fe,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2},children:t.map((r,n)=>C.jsxs(Fe,{sx:{mb:4,textAlign:"center"},children:[C.jsx("img",{src:r.url,alt:`Image ${n+1}`,style:{maxWidth:"100%",maxHeight:"500px",marginBottom:"8px"}}),C.jsx(Ve,{variant:"body2",sx:{fontStyle:"italic"},children:r.title})]},n))}),iee=t=>!t.startsWith("http://")&&!t.startsWith("https://")?`https://${t}`:t,oee=({links:t})=>t.length===0?null:C.jsxs(Fe,{sx:{mt:2,width:"50%"},children:[C.jsx(Ve,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Links"}),C.jsxs(Fe,{sx:{display:"flex",mb:1,borderBottom:"1px solid gray"},children:[C.jsx(Ve,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"Title"}),C.jsx(Ve,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"URL"}),C.jsx(Ve,{sx:{flexBasis:"40%",fontWeight:"bold"},children:"Description"})]}),t.map((r,n)=>C.jsx(Fe,{children:C.jsxs(Fe,{sx:{display:"flex",alignItems:"center",mb:1,flexWrap:"wrap",borderBottom:"1px solid lightgray"},children:[C.jsx(Ve,{sx:{flexBasis:"30%",fontStyle:"italic",wordWrap:"break-word",paddingRight:"8px"},children:r.title}),C.jsx(Cg,{sx:{flexBasis:"30%",wordWrap:"break-word",paddingRight:"8px"},href:iee(r.url),target:"_blank",rel:"noopener",children:r.url}),C.jsx(Ve,{sx:{flexBasis:"40%",wordWrap:"break-word"},children:r.description})]})},n))]});function hr(t){"@babel/helpers - typeof";return hr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hr(t)}var So=Uint8Array,Rs=Uint16Array,nC=Int32Array,S1=new So([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),E1=new So([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),O_=new So([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),BO=function(t,r){for(var n=new Rs(31),o=0;o<31;++o)n[o]=r+=1<<t[o-1];for(var a=new nC(n[30]),o=1;o<30;++o)for(var c=n[o];c<n[o+1];++c)a[c]=c-n[o]<<5|o;return{b:n,r:a}},jO=BO(S1,2),RO=jO.b,L_=jO.r;RO[28]=258,L_[258]=28;var FO=BO(E1,0),see=FO.b,f6=FO.r,B_=new Rs(32768);for(var Ir=0;Ir<32768;++Ir){var Tu=(Ir&43690)>>1|(Ir&21845)<<1;Tu=(Tu&52428)>>2|(Tu&13107)<<2,Tu=(Tu&61680)>>4|(Tu&3855)<<4,B_[Ir]=((Tu&65280)>>8|(Tu&255)<<8)>>1}var Gl=function(t,r,n){for(var o=t.length,a=0,c=new Rs(r);a<o;++a)t[a]&&++c[t[a]-1];var d=new Rs(r);for(a=1;a<r;++a)d[a]=d[a-1]+c[a-1]<<1;var f;if(n){f=new Rs(1<<r);var p=15-r;for(a=0;a<o;++a)if(t[a])for(var g=a<<4|t[a],k=r-t[a],v=d[t[a]-1]++<<k,y=v|(1<<k)-1;v<=y;++v)f[B_[v]>>p]=g}else for(f=new Rs(o),a=0;a<o;++a)t[a]&&(f[a]=B_[d[t[a]-1]++]>>15-t[a]);return f},Ju=new So(288);for(var Ir=0;Ir<144;++Ir)Ju[Ir]=8;for(var Ir=144;Ir<256;++Ir)Ju[Ir]=9;for(var Ir=256;Ir<280;++Ir)Ju[Ir]=7;for(var Ir=280;Ir<288;++Ir)Ju[Ir]=8;var Tg=new So(32);for(var Ir=0;Ir<32;++Ir)Tg[Ir]=5;var aee=Gl(Ju,9,0),lee=Gl(Ju,9,1),cee=Gl(Tg,5,0),uee=Gl(Tg,5,1),Ev=function(t){for(var r=t[0],n=1;n<t.length;++n)t[n]>r&&(r=t[n]);return r},Wa=function(t,r,n){var o=r/8|0;return(t[o]|t[o+1]<<8)>>(r&7)&n},Dv=function(t,r){var n=r/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(r&7)},rC=function(t){return(t+7)/8|0},zO=function(t,r,n){return(n==null||n>t.length)&&(n=t.length),new So(t.subarray(r,n))},dee=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ka=function(t,r,n){var o=new Error(r||dee[t]);if(o.code=t,Error.captureStackTrace&&Error.captureStackTrace(o,Ka),!n)throw o;return o},hee=function(t,r,n,o){var a=t.length,c=0;if(!a||r.f&&!r.l)return n||new So(0);var d=!n,f=d||r.i!=2,p=r.i;d&&(n=new So(a*3));var g=function(Ke){var Qe=n.length;if(Ke>Qe){var ze=new So(Math.max(Qe*2,Ke));ze.set(n),n=ze}},k=r.f||0,v=r.p||0,y=r.b||0,w=r.l,x=r.d,A=r.m,D=r.n,E=a*8;do{if(!w){k=Wa(t,v,1);var M=Wa(t,v+1,3);if(v+=3,M)if(M==1)w=lee,x=uee,A=9,D=5;else if(M==2){var V=Wa(t,v,31)+257,N=Wa(t,v+10,15)+4,j=V+Wa(t,v+5,31)+1;v+=14;for(var q=new So(j),Q=new So(19),$=0;$<N;++$)Q[O_[$]]=Wa(t,v+$*3,7);v+=N*3;for(var R=Ev(Q),Y=(1<<R)-1,B=Gl(Q,R,1),$=0;$<j;){var ne=B[Wa(t,v,Y)];v+=ne&15;var P=ne>>4;if(P<16)q[$++]=P;else{var de=0,ae=0;for(P==16?(ae=3+Wa(t,v,3),v+=2,de=q[$-1]):P==17?(ae=3+Wa(t,v,7),v+=3):P==18&&(ae=11+Wa(t,v,127),v+=7);ae--;)q[$++]=de}}var oe=q.subarray(0,V),ye=q.subarray(V);A=Ev(oe),D=Ev(ye),w=Gl(oe,A,1),x=Gl(ye,D,1)}else Ka(1);else{var P=rC(v)+4,F=t[P-4]|t[P-3]<<8,H=P+F;if(H>a){p&&Ka(0);break}f&&g(y+F),n.set(t.subarray(P,H),y),r.b=y+=F,r.p=v=H*8,r.f=k;continue}if(v>E){p&&Ka(0);break}}f&&g(y+131072);for(var re=(1<<A)-1,xe=(1<<D)-1,X=v;;X=v){var de=w[Dv(t,v)&re],Z=de>>4;if(v+=de&15,v>E){p&&Ka(0);break}if(de||Ka(2),Z<256)n[y++]=Z;else if(Z==256){X=v,w=null;break}else{var se=Z-254;if(Z>264){var $=Z-257,pe=S1[$];se=Wa(t,v,(1<<pe)-1)+RO[$],v+=pe}var we=x[Dv(t,v)&xe],Pe=we>>4;we||Ka(3),v+=we&15;var ye=see[Pe];if(Pe>3){var pe=E1[Pe];ye+=Dv(t,v)&(1<<pe)-1,v+=pe}if(v>E){p&&Ka(0);break}f&&g(y+131072);var Te=y+se;if(y<ye){var Ne=c-ye,rt=Math.min(ye,Te);for(Ne+y<0&&Ka(3);y<rt;++y)n[y]=o[Ne+y]}for(;y<Te;++y)n[y]=n[y-ye]}}r.l=w,r.p=X,r.b=y,r.f=k,w&&(k=1,r.m=A,r.d=x,r.n=D)}while(!k);return y!=n.length&&d?zO(n,0,y):n.subarray(0,y)},Tc=function(t,r,n){n<<=r&7;var o=r/8|0;t[o]|=n,t[o+1]|=n>>8},qm=function(t,r,n){n<<=r&7;var o=r/8|0;t[o]|=n,t[o+1]|=n>>8,t[o+2]|=n>>16},Iv=function(t,r){for(var n=[],o=0;o<t.length;++o)t[o]&&n.push({s:o,f:t[o]});var a=n.length,c=n.slice();if(!a)return{t:qO,l:0};if(a==1){var d=new So(n[0].s+1);return d[n[0].s]=1,{t:d,l:1}}n.sort(function(H,V){return H.f-V.f}),n.push({s:-1,f:25001});var f=n[0],p=n[1],g=0,k=1,v=2;for(n[0]={s:-1,f:f.f+p.f,l:f,r:p};k!=a-1;)f=n[n[g].f<n[v].f?g++:v++],p=n[g!=k&&n[g].f<n[v].f?g++:v++],n[k++]={s:-1,f:f.f+p.f,l:f,r:p};for(var y=c[0].s,o=1;o<a;++o)c[o].s>y&&(y=c[o].s);var w=new Rs(y+1),x=j_(n[k-1],w,0);if(x>r){var o=0,A=0,D=x-r,E=1<<D;for(c.sort(function(V,N){return w[N.s]-w[V.s]||V.f-N.f});o<a;++o){var M=c[o].s;if(w[M]>r)A+=E-(1<<x-w[M]),w[M]=r;else break}for(A>>=D;A>0;){var P=c[o].s;w[P]<r?A-=1<<r-w[P]++-1:++o}for(;o>=0&&A;--o){var F=c[o].s;w[F]==r&&(--w[F],++A)}x=r}return{t:new So(w),l:x}},j_=function(t,r,n){return t.s==-1?Math.max(j_(t.l,r,n+1),j_(t.r,r,n+1)):r[t.s]=n},p6=function(t){for(var r=t.length;r&&!t[--r];);for(var n=new Rs(++r),o=0,a=t[0],c=1,d=function(p){n[o++]=p},f=1;f<=r;++f)if(t[f]==a&&f!=r)++c;else{if(!a&&c>2){for(;c>138;c-=138)d(32754);c>2&&(d(c>10?c-11<<5|28690:c-3<<5|12305),c=0)}else if(c>3){for(d(a),--c;c>6;c-=6)d(8304);c>2&&(d(c-3<<5|8208),c=0)}for(;c--;)d(a);c=1,a=t[f]}return{c:n.subarray(0,o),n:r}},Vm=function(t,r){for(var n=0,o=0;o<r.length;++o)n+=t[o]*r[o];return n},UO=function(t,r,n){var o=n.length,a=rC(r+2);t[a]=o&255,t[a+1]=o>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var c=0;c<o;++c)t[a+c+4]=n[c];return(a+4+o)*8},m6=function(t,r,n,o,a,c,d,f,p,g,k){Tc(r,k++,n),++a[256];for(var v=Iv(a,15),y=v.t,w=v.l,x=Iv(c,15),A=x.t,D=x.l,E=p6(y),M=E.c,P=E.n,F=p6(A),H=F.c,V=F.n,N=new Rs(19),j=0;j<M.length;++j)++N[M[j]&31];for(var j=0;j<H.length;++j)++N[H[j]&31];for(var q=Iv(N,7),Q=q.t,$=q.l,R=19;R>4&&!Q[O_[R-1]];--R);var Y=g+5<<3,B=Vm(a,Ju)+Vm(c,Tg)+d,ne=Vm(a,y)+Vm(c,A)+d+14+3*R+Vm(N,Q)+2*N[16]+3*N[17]+7*N[18];if(p>=0&&Y<=B&&Y<=ne)return UO(r,k,t.subarray(p,p+g));var de,ae,oe,ye;if(Tc(r,k,1+(ne<B)),k+=2,ne<B){de=Gl(y,w,0),ae=y,oe=Gl(A,D,0),ye=A;var re=Gl(Q,$,0);Tc(r,k,P-257),Tc(r,k+5,V-1),Tc(r,k+10,R-4),k+=14;for(var j=0;j<R;++j)Tc(r,k+3*j,Q[O_[j]]);k+=3*R;for(var xe=[M,H],X=0;X<2;++X)for(var Z=xe[X],j=0;j<Z.length;++j){var se=Z[j]&31;Tc(r,k,re[se]),k+=Q[se],se>15&&(Tc(r,k,Z[j]>>5&127),k+=Z[j]>>12)}}else de=aee,ae=Ju,oe=cee,ye=Tg;for(var j=0;j<f;++j){var pe=o[j];if(pe>255){var se=pe>>18&31;qm(r,k,de[se+257]),k+=ae[se+257],se>7&&(Tc(r,k,pe>>23&31),k+=S1[se]);var we=pe&31;qm(r,k,oe[we]),k+=ye[we],we>3&&(qm(r,k,pe>>5&8191),k+=E1[we])}else qm(r,k,de[pe]),k+=ae[pe]}return qm(r,k,de[256]),k+ae[256]},fee=new nC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),qO=new So(0),pee=function(t,r,n,o,a,c){var d=c.z||t.length,f=new So(o+d+5*(1+Math.ceil(d/7e3))+a),p=f.subarray(o,f.length-a),g=c.l,k=(c.r||0)&7;if(r){k&&(p[0]=c.r>>3);for(var v=fee[r-1],y=v>>13,w=v&8191,x=(1<<n)-1,A=c.p||new Rs(32768),D=c.h||new Rs(x+1),E=Math.ceil(n/3),M=2*E,P=function(J){return(t[J]^t[J+1]<<E^t[J+2]<<M)&x},F=new nC(25e3),H=new Rs(288),V=new Rs(32),N=0,j=0,q=c.i||0,Q=0,$=c.w||0,R=0;q+2<d;++q){var Y=P(q),B=q&32767,ne=D[Y];if(A[B]=ne,D[Y]=B,$<=q){var de=d-q;if((N>7e3||Q>24576)&&(de>423||!g)){k=m6(t,p,0,F,H,V,j,Q,R,q-R,k),Q=N=j=0,R=q;for(var ae=0;ae<286;++ae)H[ae]=0;for(var ae=0;ae<30;++ae)V[ae]=0}var oe=2,ye=0,re=w,xe=B-ne&32767;if(de>2&&Y==P(q-xe))for(var X=Math.min(y,de)-1,Z=Math.min(32767,q),se=Math.min(258,de);xe<=Z&&--re&&B!=ne;){if(t[q+oe]==t[q+oe-xe]){for(var pe=0;pe<se&&t[q+pe]==t[q+pe-xe];++pe);if(pe>oe){if(oe=pe,ye=xe,pe>X)break;for(var we=Math.min(xe,pe-2),Pe=0,ae=0;ae<we;++ae){var Te=q-xe+ae&32767,Ne=A[Te],rt=Te-Ne&32767;rt>Pe&&(Pe=rt,ne=Te)}}}B=ne,ne=A[B],xe+=B-ne&32767}if(ye){F[Q++]=268435456|L_[oe]<<18|f6[ye];var Ke=L_[oe]&31,Qe=f6[ye]&31;j+=S1[Ke]+E1[Qe],++H[257+Ke],++V[Qe],$=q+oe,++N}else F[Q++]=t[q],++H[t[q]]}}for(q=Math.max(q,$);q<d;++q)F[Q++]=t[q],++H[t[q]];k=m6(t,p,g,F,H,V,j,Q,R,q-R,k),g||(c.r=k&7|p[k/8|0]<<3,k-=7,c.h=D,c.p=A,c.i=q,c.w=$)}else{for(var q=c.w||0;q<d+g;q+=65535){var ze=q+65535;ze>=d&&(p[k/8|0]=g,ze=d),k=UO(p,k+1,t.subarray(q,ze))}c.i=d}return zO(f,0,o+rC(k)+a)},VO=function(){var t=1,r=0;return{p:function(n){for(var o=t,a=r,c=n.length|0,d=0;d!=c;){for(var f=Math.min(d+2655,c);d<f;++d)a+=o+=n[d];o=(o&65535)+15*(o>>16),a=(a&65535)+15*(a>>16)}t=o,r=a},d:function(){return t%=65521,r%=65521,(t&255)<<24|(t&65280)<<8|(r&255)<<8|r>>8}}},mee=function(t,r,n,o,a){if(!a&&(a={l:1},r.dictionary)){var c=r.dictionary.subarray(-32768),d=new So(c.length+t.length);d.set(c),d.set(t,c.length),t=d,a.w=c.length}return pee(t,r.level==null?6:r.level,r.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+r.mem,n,o,a)},HO=function(t,r,n){for(;n;++r)t[r]=n,n>>>=8},gee=function(t,r){var n=r.level,o=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=o<<6|(r.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,r.dictionary){var a=VO();a.p(r.dictionary),HO(t,2,a.d())}},bee=function(t,r){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Ka(6,"invalid zlib data"),(t[1]>>5&1)==1&&Ka(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function R_(t,r){r||(r={});var n=VO();n.p(t);var o=mee(t,r,r.dictionary?6:2,4);return gee(o,r),HO(o,o.length-4,n.d()),o}function kee(t,r){return hee(t.subarray(bee(t),-4),{i:2},r,r)}var wee=typeof TextDecoder<"u"&&new TextDecoder,yee=0;try{wee.decode(qO,{stream:!0}),yee=1}catch{}var an=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Tv(){an.console&&typeof an.console.log=="function"&&an.console.log.apply(an.console,arguments)}var yr={log:Tv,warn:function(t){an.console&&(typeof an.console.warn=="function"?an.console.warn.apply(an.console,arguments):Tv.call(null,arguments))},error:function(t){an.console&&(typeof an.console.error=="function"?an.console.error.apply(an.console,arguments):Tv(t))}};function Nv(t,r,n){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){eh(o.response,r,n)},o.onerror=function(){yr.error("could not download file")},o.send()}function g6(t){var r=new XMLHttpRequest;r.open("HEAD",t,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function V0(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(r)}}var dg,F_,eh=an.saveAs||((typeof window>"u"?"undefined":hr(window))!=="object"||window!==an?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,r,n){var o=an.URL||an.webkitURL,a=document.createElement("a");r=r||t.name||"download",a.download=r,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?g6(a.href)?Nv(t,r,n):V0(a,a.target="_blank"):V0(a)):(a.href=o.createObjectURL(t),setTimeout(function(){o.revokeObjectURL(a.href)},4e4),setTimeout(function(){V0(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,r,n){if(r=r||t.name||"download",typeof t=="string")if(g6(t))Nv(t,r,n);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout(function(){V0(o)})}else navigator.msSaveOrOpenBlob(function(a,c){return c===void 0?c={autoBom:!1}:hr(c)!=="object"&&(yr.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,n),r)}:function(t,r,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),typeof t=="string")return Nv(t,r,n);var a=t.type==="application/octet-stream",c=/constructor/i.test(an.HTMLElement)||an.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||a&&c)&&(typeof FileReader>"u"?"undefined":hr(FileReader))==="object"){var f=new FileReader;f.onloadend=function(){var k=f.result;k=d?k:k.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=k:location=k,o=null},f.readAsDataURL(t)}else{var p=an.URL||an.webkitURL,g=p.createObjectURL(t);o?o.location=g:location.href=g,o=null,setTimeout(function(){p.revokeObjectURL(g)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function $O(t){var r;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(f){return[parseInt(f[1]),parseInt(f[2]),parseInt(f[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(f){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(f){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}}],o=0;o<n.length;o++){var a=n[o].re,c=n[o].process,d=a.exec(t);d&&(r=c(d),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var f=this.r.toString(16),p=this.g.toString(16),g=this.b.toString(16);return f.length==1&&(f="0"+f),p.length==1&&(p="0"+p),g.length==1&&(g="0"+g),"#"+f+p+g}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Mv(t,r){var n=t[0],o=t[1],a=t[2],c=t[3];n=vo(n,o,a,c,r[0],7,-680876936),c=vo(c,n,o,a,r[1],12,-389564586),a=vo(a,c,n,o,r[2],17,606105819),o=vo(o,a,c,n,r[3],22,-1044525330),n=vo(n,o,a,c,r[4],7,-176418897),c=vo(c,n,o,a,r[5],12,1200080426),a=vo(a,c,n,o,r[6],17,-1473231341),o=vo(o,a,c,n,r[7],22,-45705983),n=vo(n,o,a,c,r[8],7,1770035416),c=vo(c,n,o,a,r[9],12,-1958414417),a=vo(a,c,n,o,r[10],17,-42063),o=vo(o,a,c,n,r[11],22,-1990404162),n=vo(n,o,a,c,r[12],7,1804603682),c=vo(c,n,o,a,r[13],12,-40341101),a=vo(a,c,n,o,r[14],17,-1502002290),n=_o(n,o=vo(o,a,c,n,r[15],22,1236535329),a,c,r[1],5,-165796510),c=_o(c,n,o,a,r[6],9,-1069501632),a=_o(a,c,n,o,r[11],14,643717713),o=_o(o,a,c,n,r[0],20,-373897302),n=_o(n,o,a,c,r[5],5,-701558691),c=_o(c,n,o,a,r[10],9,38016083),a=_o(a,c,n,o,r[15],14,-660478335),o=_o(o,a,c,n,r[4],20,-405537848),n=_o(n,o,a,c,r[9],5,568446438),c=_o(c,n,o,a,r[14],9,-1019803690),a=_o(a,c,n,o,r[3],14,-187363961),o=_o(o,a,c,n,r[8],20,1163531501),n=_o(n,o,a,c,r[13],5,-1444681467),c=_o(c,n,o,a,r[2],9,-51403784),a=_o(a,c,n,o,r[7],14,1735328473),n=Ao(n,o=_o(o,a,c,n,r[12],20,-1926607734),a,c,r[5],4,-378558),c=Ao(c,n,o,a,r[8],11,-2022574463),a=Ao(a,c,n,o,r[11],16,1839030562),o=Ao(o,a,c,n,r[14],23,-35309556),n=Ao(n,o,a,c,r[1],4,-1530992060),c=Ao(c,n,o,a,r[4],11,1272893353),a=Ao(a,c,n,o,r[7],16,-155497632),o=Ao(o,a,c,n,r[10],23,-1094730640),n=Ao(n,o,a,c,r[13],4,681279174),c=Ao(c,n,o,a,r[0],11,-358537222),a=Ao(a,c,n,o,r[3],16,-722521979),o=Ao(o,a,c,n,r[6],23,76029189),n=Ao(n,o,a,c,r[9],4,-640364487),c=Ao(c,n,o,a,r[12],11,-421815835),a=Ao(a,c,n,o,r[15],16,530742520),n=Co(n,o=Ao(o,a,c,n,r[2],23,-995338651),a,c,r[0],6,-198630844),c=Co(c,n,o,a,r[7],10,1126891415),a=Co(a,c,n,o,r[14],15,-1416354905),o=Co(o,a,c,n,r[5],21,-57434055),n=Co(n,o,a,c,r[12],6,1700485571),c=Co(c,n,o,a,r[3],10,-1894986606),a=Co(a,c,n,o,r[10],15,-1051523),o=Co(o,a,c,n,r[1],21,-2054922799),n=Co(n,o,a,c,r[8],6,1873313359),c=Co(c,n,o,a,r[15],10,-30611744),a=Co(a,c,n,o,r[6],15,-1560198380),o=Co(o,a,c,n,r[13],21,1309151649),n=Co(n,o,a,c,r[4],6,-145523070),c=Co(c,n,o,a,r[11],10,-1120210379),a=Co(a,c,n,o,r[2],15,718787259),o=Co(o,a,c,n,r[9],21,-343485551),t[0]=Uu(n,t[0]),t[1]=Uu(o,t[1]),t[2]=Uu(a,t[2]),t[3]=Uu(c,t[3])}function D1(t,r,n,o,a,c){return r=Uu(Uu(r,t),Uu(o,c)),Uu(r<<a|r>>>32-a,n)}function vo(t,r,n,o,a,c,d){return D1(r&n|~r&o,t,r,a,c,d)}function _o(t,r,n,o,a,c,d){return D1(r&o|n&~o,t,r,a,c,d)}function Ao(t,r,n,o,a,c,d){return D1(r^n^o,t,r,a,c,d)}function Co(t,r,n,o,a,c,d){return D1(n^(r|~o),t,r,a,c,d)}function WO(t){var r,n=t.length,o=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=t.length;r+=64)Mv(o,vee(t.substring(r-64,r)));t=t.substring(r-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<t.length;r++)a[r>>2]|=t.charCodeAt(r)<<(r%4<<3);if(a[r>>2]|=128<<(r%4<<3),r>55)for(Mv(o,a),r=0;r<16;r++)a[r]=0;return a[14]=8*n,Mv(o,a),o}function vee(t){var r,n=[];for(r=0;r<64;r+=4)n[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return n}dg=an.atob.bind(an),F_=an.btoa.bind(an);var b6="0123456789abcdef".split("");function _ee(t){for(var r="",n=0;n<4;n++)r+=b6[t>>8*n+4&15]+b6[t>>8*n&15];return r}function Aee(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function z_(t){return WO(t).map(Aee).join("")}var Cee=function(t){for(var r=0;r<t.length;r++)t[r]=_ee(t[r]);return t.join("")}(WO("hello"))!="5d41402abc4b2a76b9719d911017c592";function Uu(t,r){if(Cee){var n=(65535&t)+(65535&r);return(t>>16)+(r>>16)+(n>>16)<<16|65535&n}return t+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function U_(t,r){var n,o,a,c;if(t!==n){for(var d=(a=t,c=1+(256/t.length>>0),new Array(c+1).join(a)),f=[],p=0;p<256;p++)f[p]=p;var g=0;for(p=0;p<256;p++){var k=f[p];g=(g+k+d.charCodeAt(p))%256,f[p]=f[g],f[g]=k}n=t,o=f}else f=o;var v=r.length,y=0,w=0,x="";for(p=0;p<v;p++)w=(w+(k=f[y=(y+1)%256]))%256,f[y]=f[w],f[w]=k,d=f[(f[y]+f[w])%256],x+=String.fromCharCode(r.charCodeAt(p)^d);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k6={print:4,modify:8,copy:16,"annot-forms":32};function Gf(t,r,n,o){this.v=1,this.r=2;var a=192;t.forEach(function(f){if(k6.perm!==void 0)throw new Error("Invalid permission: "+f);a+=k6[f]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var c=(r+this.padding).substr(0,32),d=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(c,d),this.P=-(1+(255^a)),this.encryptionKey=z_(c+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(o)).substr(0,5),this.U=U_(this.encryptionKey,this.padding)}function Yf(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var r="",n=t.length,o=0;o<n;o++){var a=t.charCodeAt(o);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?r+="#"+("0"+a.toString(16)).slice(-2):r+=t[o]}return r}function w6(t){if(hr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(n,o,a){if(a=a||!1,typeof n!="string"||typeof o!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(n)||(r[n]={});var c=Math.random().toString(35);return r[n][c]=[o,!!a],c},this.unsubscribe=function(n){for(var o in r)if(r[o][n])return delete r[o][n],Object.keys(r[o]).length===0&&delete r[o],!0;return!1},this.publish=function(n){if(r.hasOwnProperty(n)){var o=Array.prototype.slice.call(arguments,1),a=[];for(var c in r[n]){var d=r[n][c];try{d[0].apply(t,o)}catch(f){an.console&&yr.error("jsPDF PubSub Error",f.message,f)}d[1]&&a.push(c)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function Kk(t){if(!(this instanceof Kk))return new Kk(t);var r="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&r.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function GO(t,r){this.gState=t,this.matrix=r,this.id="",this.objectNumber=-1}function nh(t,r,n,o,a){if(!(this instanceof nh))return new nh(t,r,n,o,a);this.type=t==="axial"?2:3,this.coords=r,this.colors=n,GO.call(this,o,a)}function Qf(t,r,n,o,a){if(!(this instanceof Qf))return new Qf(t,r,n,o,a);this.boundingBox=t,this.xStep=r,this.yStep=n,this.stream="",this.cloneIndex=0,GO.call(this,o,a)}function sn(t){var r,n=typeof arguments[0]=="string"?arguments[0]:"p",o=arguments[1],a=arguments[2],c=arguments[3],d=[],f=1,p=16,g="S",k=null;hr(t=t||{})==="object"&&(n=t.orientation,o=t.unit||o,a=t.format||a,c=t.compress||t.compressPdf||c,(k=t.encryption||null)!==null&&(k.userPassword=k.userPassword||"",k.ownerPassword=k.ownerPassword||"",k.userPermissions=k.userPermissions||[]),f=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(r=t.precision),t.floatPrecision!==void 0&&(p=t.floatPrecision),g=t.defaultPathOperation||"S"),d=t.filters||(c===!0?["FlateEncode"]:d),o=o||"mm",n=(""+(n||"P")).toLowerCase();var v=t.putOnlyUsedFonts||!1,y={},w={internal:{},__private__:{}};w.__private__.PubSub=w6;var x="1.3",A=w.__private__.getPdfVersion=function(){return x};w.__private__.setPdfVersion=function(z){x=z};var D={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return D};var E=w.__private__.getPageFormat=function(z){return D[z]};a=a||"a4";var M={COMPAT:"compat",ADVANCED:"advanced"},P=M.COMPAT;function F(){this.saveGraphicsState(),ue(new Ht(ht,0,0,-ht,0,dl()*ht).toString()+" cm"),this.setFontSize(this.getFontSize()/ht),g="n",P=M.ADVANCED}function H(){this.restoreGraphicsState(),g="S",P=M.COMPAT}var V=w.__private__.combineFontStyleAndFontWeight=function(z,ce){if(z=="bold"&&ce=="normal"||z=="bold"&&ce==400||z=="normal"&&ce=="italic"||z=="bold"&&ce=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ce&&(z=ce==400||ce==="normal"?z==="italic"?"italic":"normal":ce!=700&&ce!=="bold"||z!=="normal"?(ce==700?"bold":ce)+""+z:"bold"),z};w.advancedAPI=function(z){var ce=P===M.COMPAT;return ce&&F.call(this),typeof z!="function"||(z(this),ce&&H.call(this)),this},w.compatAPI=function(z){var ce=P===M.ADVANCED;return ce&&H.call(this),typeof z!="function"||(z(this),ce&&F.call(this)),this},w.isAdvancedAPI=function(){return P===M.ADVANCED};var N,j=function(z){if(P!==M.ADVANCED)throw new Error(z+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=w.roundToPrecision=w.__private__.roundToPrecision=function(z,ce){var De=r||ce;if(isNaN(z)||isNaN(De))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return z.toFixed(De).replace(/0+$/,"")};N=w.hpf=w.__private__.hpf=typeof p=="number"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return q(z,p)}:p==="smart"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return q(z,z>-1&&z<1?16:5)}:function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return q(z,16)};var Q=w.f2=w.__private__.f2=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f2");return q(z,2)},$=w.__private__.f3=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f3");return q(z,3)},R=w.scale=w.__private__.scale=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.scale");return P===M.COMPAT?z*ht:P===M.ADVANCED?z:void 0},Y=function(z){return P===M.COMPAT?dl()-z:P===M.ADVANCED?z:void 0},B=function(z){return R(Y(z))};w.__private__.setPrecision=w.setPrecision=function(z){typeof parseInt(z,10)=="number"&&(r=parseInt(z,10))};var ne,de="00000000000000000000000000000000",ae=w.__private__.getFileId=function(){return de},oe=w.__private__.setFileId=function(z){return de=z!==void 0&&/^[a-fA-F0-9]{32}$/.test(z)?z.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),k!==null&&(Vi=new Gf(k.userPermissions,k.userPassword,k.ownerPassword,de)),de};w.setFileId=function(z){return oe(z),this},w.getFileId=function(){return ae()};var ye=w.__private__.convertDateToPDFDate=function(z){var ce=z.getTimezoneOffset(),De=ce<0?"+":"-",Be=Math.floor(Math.abs(ce/60)),Je=Math.abs(ce%60),ut=[De,se(Be),"'",se(Je),"'"].join("");return["D:",z.getFullYear(),se(z.getMonth()+1),se(z.getDate()),se(z.getHours()),se(z.getMinutes()),se(z.getSeconds()),ut].join("")},re=w.__private__.convertPDFDateToDate=function(z){var ce=parseInt(z.substr(2,4),10),De=parseInt(z.substr(6,2),10)-1,Be=parseInt(z.substr(8,2),10),Je=parseInt(z.substr(10,2),10),ut=parseInt(z.substr(12,2),10),_t=parseInt(z.substr(14,2),10);return new Date(ce,De,Be,Je,ut,_t,0)},xe=w.__private__.setCreationDate=function(z){var ce;if(z===void 0&&(z=new Date),z instanceof Date)ce=ye(z);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(z))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ce=z}return ne=ce},X=w.__private__.getCreationDate=function(z){var ce=ne;return z==="jsDate"&&(ce=re(ne)),ce};w.setCreationDate=function(z){return xe(z),this},w.getCreationDate=function(z){return X(z)};var Z,se=w.__private__.padd2=function(z){return("0"+parseInt(z)).slice(-2)},pe=w.__private__.padd2Hex=function(z){return("00"+(z=z.toString())).substr(z.length)},we=0,Pe=[],Te=[],Ne=0,rt=[],Ke=[],Qe=!1,ze=Te,J=function(){we=0,Ne=0,Te=[],Pe=[],rt=[],Wn=Ct(),Pr=Ct()};w.__private__.setCustomOutputDestination=function(z){Qe=!0,ze=z};var Ce=function(z){Qe||(ze=z)};w.__private__.resetCustomOutputDestination=function(){Qe=!1,ze=Te};var ue=w.__private__.out=function(z){return z=z.toString(),Ne+=z.length+1,ze.push(z),ze},ge=w.__private__.write=function(z){return ue(arguments.length===1?z.toString():Array.prototype.join.call(arguments," "))},he=w.__private__.getArrayBuffer=function(z){for(var ce=z.length,De=new ArrayBuffer(ce),Be=new Uint8Array(De);ce--;)Be[ce]=z.charCodeAt(ce);return De},_e=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return _e};var Me=t.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(z){return Me=P===M.ADVANCED?z/ht:z,this};var Ie,Ae=w.__private__.getFontSize=w.getFontSize=function(){return P===M.COMPAT?Me:Me*ht},Oe=t.R2L||!1;w.__private__.setR2L=w.setR2L=function(z){return Oe=z,this},w.__private__.getR2L=w.getR2L=function(){return Oe};var Ge,Xe=w.__private__.setZoomMode=function(z){var ce=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(z))Ie=z;else if(isNaN(z)){if(ce.indexOf(z)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+z+'" is not recognized.');Ie=z}else Ie=parseInt(z,10)};w.__private__.getZoomMode=function(){return Ie};var dt,Ue=w.__private__.setPageMode=function(z){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(z)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+z+'" is not recognized.');Ge=z};w.__private__.getPageMode=function(){return Ge};var We=w.__private__.setLayoutMode=function(z){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(z)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+z+'" is not recognized.');dt=z};w.__private__.getLayoutMode=function(){return dt},w.__private__.setDisplayMode=w.setDisplayMode=function(z,ce,De){return Xe(z),We(ce),Ue(De),this};var Ye={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(z){if(Object.keys(Ye).indexOf(z)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ye[z]},w.__private__.getDocumentProperties=function(){return Ye},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(z){for(var ce in Ye)Ye.hasOwnProperty(ce)&&z[ce]&&(Ye[ce]=z[ce]);return this},w.__private__.setDocumentProperty=function(z,ce){if(Object.keys(Ye).indexOf(z)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ye[z]=ce};var St,ht,tn,pt,Vt,Rt={},zt={},Yt=[],pn={},En={},zn={},Mr={},qr=null,Ln=0,Xt=[],Dn=new w6(w),No=t.hotfixes||[],Nn={},zi={},ei=[],Ht=function z(ce,De,Be,Je,ut,_t){if(!(this instanceof z))return new z(ce,De,Be,Je,ut,_t);isNaN(ce)&&(ce=1),isNaN(De)&&(De=0),isNaN(Be)&&(Be=0),isNaN(Je)&&(Je=1),isNaN(ut)&&(ut=0),isNaN(_t)&&(_t=0),this._matrix=[ce,De,Be,Je,ut,_t]};Object.defineProperty(Ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(Ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(Ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(Ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(Ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(Ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(Ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(Ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(Ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(Ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(Ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(Ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(Ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ht.prototype.join=function(z){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(z)},Ht.prototype.multiply=function(z){var ce=z.sx*this.sx+z.shy*this.shx,De=z.sx*this.shy+z.shy*this.sy,Be=z.shx*this.sx+z.sy*this.shx,Je=z.shx*this.shy+z.sy*this.sy,ut=z.tx*this.sx+z.ty*this.shx+this.tx,_t=z.tx*this.shy+z.ty*this.sy+this.ty;return new Ht(ce,De,Be,Je,ut,_t)},Ht.prototype.decompose=function(){var z=this.sx,ce=this.shy,De=this.shx,Be=this.sy,Je=this.tx,ut=this.ty,_t=Math.sqrt(z*z+ce*ce),Lt=(z/=_t)*De+(ce/=_t)*Be;De-=z*Lt,Be-=ce*Lt;var Wt=Math.sqrt(De*De+Be*Be);return Lt/=Wt,z*(Be/=Wt)<ce*(De/=Wt)&&(z=-z,ce=-ce,Lt=-Lt,_t=-_t),{scale:new Ht(_t,0,0,Wt,0,0),translate:new Ht(1,0,0,1,Je,ut),rotate:new Ht(z,ce,-ce,z,0,0),skew:new Ht(1,0,Lt,1,0,0)}},Ht.prototype.toString=function(z){return this.join(" ")},Ht.prototype.inversed=function(){var z=this.sx,ce=this.shy,De=this.shx,Be=this.sy,Je=this.tx,ut=this.ty,_t=1/(z*Be-ce*De),Lt=Be*_t,Wt=-ce*_t,un=-De*_t,ln=z*_t;return new Ht(Lt,Wt,un,ln,-Lt*Je-un*ut,-Wt*Je-ln*ut)},Ht.prototype.applyToPoint=function(z){var ce=z.x*this.sx+z.y*this.shx+this.tx,De=z.x*this.shy+z.y*this.sy+this.ty;return new lc(ce,De)},Ht.prototype.applyToRectangle=function(z){var ce=this.applyToPoint(z),De=this.applyToPoint(new lc(z.x+z.w,z.y+z.h));return new ou(ce.x,ce.y,De.x-ce.x,De.y-ce.y)},Ht.prototype.clone=function(){var z=this.sx,ce=this.shy,De=this.shx,Be=this.sy,Je=this.tx,ut=this.ty;return new Ht(z,ce,De,Be,Je,ut)},w.Matrix=Ht;var Oi=w.matrixMult=function(z,ce){return ce.multiply(z)},Ui=new Ht(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Ui;var kt=function(z,ce){if(!En[z]){var De=(ce instanceof nh?"Sh":"P")+(Object.keys(pn).length+1).toString(10);ce.id=De,En[z]=De,pn[De]=ce,Dn.publish("addPattern",ce)}};w.ShadingPattern=nh,w.TilingPattern=Qf,w.addShadingPattern=function(z,ce){return j("addShadingPattern()"),kt(z,ce),this},w.beginTilingPattern=function(z){j("beginTilingPattern()"),bd(z.boundingBox[0],z.boundingBox[1],z.boundingBox[2]-z.boundingBox[0],z.boundingBox[3]-z.boundingBox[1],z.matrix)},w.endTilingPattern=function(z,ce){j("endTilingPattern()"),ce.stream=Ke[Z].join(`
`),kt(z,ce),Dn.publish("endTilingPattern",ce),ei.pop().restore()};var At=w.__private__.newObject=function(){var z=Ct();return Ot(z,!0),z},Ct=w.__private__.newObjectDeferred=function(){return we++,Pe[we]=function(){return Ne},we},Ot=function(z,ce){return ce=typeof ce=="boolean"&&ce,Pe[z]=Ne,ce&&ue(z+" 0 obj"),z},Qt=w.__private__.newAdditionalObject=function(){var z={objId:Ct(),content:""};return rt.push(z),z},Wn=Ct(),Pr=Ct(),Go=w.__private__.decodeColorString=function(z){var ce=z.split(" ");if(ce.length!==2||ce[1]!=="g"&&ce[1]!=="G")ce.length===5&&(ce[4]==="k"||ce[4]==="K")&&(ce=[(1-ce[0])*(1-ce[3]),(1-ce[1])*(1-ce[3]),(1-ce[2])*(1-ce[3]),"r"]);else{var De=parseFloat(ce[0]);ce=[De,De,De,"r"]}for(var Be="#",Je=0;Je<3;Je++)Be+=("0"+Math.floor(255*parseFloat(ce[Je])).toString(16)).slice(-2);return Be},Mo=w.__private__.encodeColorString=function(z){var ce;typeof z=="string"&&(z={ch1:z});var De=z.ch1,Be=z.ch2,Je=z.ch3,ut=z.ch4,_t=z.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof De=="string"&&De.charAt(0)!=="#"){var Lt=new $O(De);if(Lt.ok)De=Lt.toHex();else if(!/^\d*\.?\d*$/.test(De))throw new Error('Invalid color "'+De+'" passed to jsPDF.encodeColorString.')}if(typeof De=="string"&&/^#[0-9A-Fa-f]{3}$/.test(De)&&(De="#"+De[1]+De[1]+De[2]+De[2]+De[3]+De[3]),typeof De=="string"&&/^#[0-9A-Fa-f]{6}$/.test(De)){var Wt=parseInt(De.substr(1),16);De=Wt>>16&255,Be=Wt>>8&255,Je=255&Wt}if(Be===void 0||ut===void 0&&De===Be&&Be===Je)if(typeof De=="string")ce=De+" "+_t[0];else switch(z.precision){case 2:ce=Q(De/255)+" "+_t[0];break;case 3:default:ce=$(De/255)+" "+_t[0]}else if(ut===void 0||hr(ut)==="object"){if(ut&&!isNaN(ut.a)&&ut.a===0)return ce=["1.","1.","1.",_t[1]].join(" ");if(typeof De=="string")ce=[De,Be,Je,_t[1]].join(" ");else switch(z.precision){case 2:ce=[Q(De/255),Q(Be/255),Q(Je/255),_t[1]].join(" ");break;default:case 3:ce=[$(De/255),$(Be/255),$(Je/255),_t[1]].join(" ")}}else if(typeof De=="string")ce=[De,Be,Je,ut,_t[2]].join(" ");else switch(z.precision){case 2:ce=[Q(De),Q(Be),Q(Je),Q(ut),_t[2]].join(" ");break;case 3:default:ce=[$(De),$(Be),$(Je),$(ut),_t[2]].join(" ")}return ce},qi=w.__private__.getFilters=function(){return d},bo=w.__private__.putStream=function(z){var ce=(z=z||{}).data||"",De=z.filters||qi(),Be=z.alreadyAppliedFilters||[],Je=z.addLength1||!1,ut=ce.length,_t=z.objectId,Lt=function(Bi){return Bi};if(k!==null&&_t===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");k!==null&&(Lt=Vi.encryptor(_t,0));var Wt={};De===!0&&(De=["FlateEncode"]);var un=z.additionalKeyValues||[],ln=(Wt=sn.API.processDataByFilters!==void 0?sn.API.processDataByFilters(ce,De):{data:ce,reverseChain:[]}).reverseChain+(Array.isArray(Be)?Be.join(" "):Be.toString());if(Wt.data.length!==0&&(un.push({key:"Length",value:Wt.data.length}),Je===!0&&un.push({key:"Length1",value:ut})),ln.length!=0)if(ln.split("/").length-1==1)un.push({key:"Filter",value:ln});else{un.push({key:"Filter",value:"["+ln+"]"});for(var In=0;In<un.length;In+=1)if(un[In].key==="DecodeParms"){for(var vr=[],Er=0;Er<Wt.reverseChain.split("/").length-1;Er+=1)vr.push("null");vr.push(un[In].value),un[In].value="["+vr.join(" ")+"]"}}ue("<<");for(var Hr=0;Hr<un.length;Hr++)ue("/"+un[Hr].key+" "+un[Hr].value);ue(">>"),Wt.data.length!==0&&(ue("stream"),ue(Lt(Wt.data)),ue("endstream"))},ms=w.__private__.putPage=function(z){var ce=z.number,De=z.data,Be=z.objId,Je=z.contentsObjId;Ot(Be,!0),ue("<</Type /Page"),ue("/Parent "+z.rootDictionaryObjId+" 0 R"),ue("/Resources "+z.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(N(z.mediaBox.bottomLeftX))+" "+parseFloat(N(z.mediaBox.bottomLeftY))+" "+N(z.mediaBox.topRightX)+" "+N(z.mediaBox.topRightY)+"]"),z.cropBox!==null&&ue("/CropBox ["+N(z.cropBox.bottomLeftX)+" "+N(z.cropBox.bottomLeftY)+" "+N(z.cropBox.topRightX)+" "+N(z.cropBox.topRightY)+"]"),z.bleedBox!==null&&ue("/BleedBox ["+N(z.bleedBox.bottomLeftX)+" "+N(z.bleedBox.bottomLeftY)+" "+N(z.bleedBox.topRightX)+" "+N(z.bleedBox.topRightY)+"]"),z.trimBox!==null&&ue("/TrimBox ["+N(z.trimBox.bottomLeftX)+" "+N(z.trimBox.bottomLeftY)+" "+N(z.trimBox.topRightX)+" "+N(z.trimBox.topRightY)+"]"),z.artBox!==null&&ue("/ArtBox ["+N(z.artBox.bottomLeftX)+" "+N(z.artBox.bottomLeftY)+" "+N(z.artBox.topRightX)+" "+N(z.artBox.topRightY)+"]"),typeof z.userUnit=="number"&&z.userUnit!==1&&ue("/UserUnit "+z.userUnit),Dn.publish("putPage",{objId:Be,pageContext:Xt[ce],pageNumber:ce,page:De}),ue("/Contents "+Je+" 0 R"),ue(">>"),ue("endobj");var ut=De.join(`
`);return P===M.ADVANCED&&(ut+=`
Q`),Ot(Je,!0),bo({data:ut,filters:qi(),objectId:Je}),ue("endobj"),Be},nc=w.__private__.putPages=function(){var z,ce,De=[];for(z=1;z<=Ln;z++)Xt[z].objId=Ct(),Xt[z].contentsObjId=Ct();for(z=1;z<=Ln;z++)De.push(ms({number:z,data:Ke[z],objId:Xt[z].objId,contentsObjId:Xt[z].contentsObjId,mediaBox:Xt[z].mediaBox,cropBox:Xt[z].cropBox,bleedBox:Xt[z].bleedBox,trimBox:Xt[z].trimBox,artBox:Xt[z].artBox,userUnit:Xt[z].userUnit,rootDictionaryObjId:Wn,resourceDictionaryObjId:Pr}));Ot(Wn,!0),ue("<</Type /Pages");var Be="/Kids [";for(ce=0;ce<Ln;ce++)Be+=De[ce]+" 0 R ";ue(Be+"]"),ue("/Count "+Ln),ue(">>"),ue("endobj"),Dn.publish("postPutPages")},Gc=function(z){Dn.publish("putFont",{font:z,out:ue,newObject:At,putStream:bo}),z.isAlreadyPutted!==!0&&(z.objectNumber=At(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+Yf(z.postScriptName)),ue("/Subtype /Type1"),typeof z.encoding=="string"&&ue("/Encoding /"+z.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},Yo=function(){for(var z in Rt)Rt.hasOwnProperty(z)&&(v===!1||v===!0&&y.hasOwnProperty(z))&&Gc(Rt[z])},Yc=function(z){z.objectNumber=At();var ce=[];ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Form"}),ce.push({key:"BBox",value:"["+[N(z.x),N(z.y),N(z.x+z.width),N(z.y+z.height)].join(" ")+"]"}),ce.push({key:"Matrix",value:"["+z.matrix.toString()+"]"});var De=z.pages[1].join(`
`);bo({data:De,additionalKeyValues:ce,objectId:z.objectNumber}),ue("endobj")},Kc=function(){for(var z in Nn)Nn.hasOwnProperty(z)&&Yc(Nn[z])},Lh=function(z,ce){var De,Be=[],Je=1/(ce-1);for(De=0;De<1;De+=Je)Be.push(De);if(Be.push(1),z[0].offset!=0){var ut={offset:0,color:z[0].color};z.unshift(ut)}if(z[z.length-1].offset!=1){var _t={offset:1,color:z[z.length-1].color};z.push(_t)}for(var Lt="",Wt=0,un=0;un<Be.length;un++){for(De=Be[un];De>z[Wt+1].offset;)Wt++;var ln=z[Wt].offset,In=(De-ln)/(z[Wt+1].offset-ln),vr=z[Wt].color,Er=z[Wt+1].color;Lt+=pe(Math.round((1-In)*vr[0]+In*Er[0]).toString(16))+pe(Math.round((1-In)*vr[1]+In*Er[1]).toString(16))+pe(Math.round((1-In)*vr[2]+In*Er[2]).toString(16))}return Lt.trim()},Pp=function(z,ce){ce||(ce=21);var De=At(),Be=Lh(z.colors,ce),Je=[];Je.push({key:"FunctionType",value:"0"}),Je.push({key:"Domain",value:"[0.0 1.0]"}),Je.push({key:"Size",value:"["+ce+"]"}),Je.push({key:"BitsPerSample",value:"8"}),Je.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Je.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bo({data:Be,additionalKeyValues:Je,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:De}),ue("endobj"),z.objectNumber=At(),ue("<< /ShadingType "+z.type),ue("/ColorSpace /DeviceRGB");var ut="/Coords ["+N(parseFloat(z.coords[0]))+" "+N(parseFloat(z.coords[1]))+" ";z.type===2?ut+=N(parseFloat(z.coords[2]))+" "+N(parseFloat(z.coords[3])):ut+=N(parseFloat(z.coords[2]))+" "+N(parseFloat(z.coords[3]))+" "+N(parseFloat(z.coords[4]))+" "+N(parseFloat(z.coords[5])),ue(ut+="]"),z.matrix&&ue("/Matrix ["+z.matrix.toString()+"]"),ue("/Function "+De+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},Op=function(z,ce){var De=Ct(),Be=At();ce.push({resourcesOid:De,objectOid:Be}),z.objectNumber=Be;var Je=[];Je.push({key:"Type",value:"/Pattern"}),Je.push({key:"PatternType",value:"1"}),Je.push({key:"PaintType",value:"1"}),Je.push({key:"TilingType",value:"1"}),Je.push({key:"BBox",value:"["+z.boundingBox.map(N).join(" ")+"]"}),Je.push({key:"XStep",value:N(z.xStep)}),Je.push({key:"YStep",value:N(z.yStep)}),Je.push({key:"Resources",value:De+" 0 R"}),z.matrix&&Je.push({key:"Matrix",value:"["+z.matrix.toString()+"]"}),bo({data:z.stream,additionalKeyValues:Je,objectId:z.objectNumber}),ue("endobj")},Qc=function(z){var ce;for(ce in pn)pn.hasOwnProperty(ce)&&(pn[ce]instanceof nh?Pp(pn[ce]):pn[ce]instanceof Qf&&Op(pn[ce],z))},Bh=function(z){for(var ce in z.objectNumber=At(),ue("<<"),z)switch(ce){case"opacity":ue("/ca "+Q(z[ce]));break;case"stroke-opacity":ue("/CA "+Q(z[ce]))}ue(">>"),ue("endobj")},Lp=function(){var z;for(z in zn)zn.hasOwnProperty(z)&&Bh(zn[z])},gs=function(){for(var z in ue("/XObject <<"),Nn)Nn.hasOwnProperty(z)&&Nn[z].objectNumber>=0&&ue("/"+z+" "+Nn[z].objectNumber+" 0 R");Dn.publish("putXobjectDict"),ue(">>")},rc=function(){Vi.oid=At(),ue("<<"),ue("/Filter /Standard"),ue("/V "+Vi.v),ue("/R "+Vi.r),ue("/U <"+Vi.toHexString(Vi.U)+">"),ue("/O <"+Vi.toHexString(Vi.O)+">"),ue("/P "+Vi.P),ue(">>"),ue("endobj")},ol=function(){for(var z in ue("/Font <<"),Rt)Rt.hasOwnProperty(z)&&(v===!1||v===!0&&y.hasOwnProperty(z))&&ue("/"+z+" "+Rt[z].objectNumber+" 0 R");ue(">>")},Bp=function(){if(Object.keys(pn).length>0){for(var z in ue("/Shading <<"),pn)pn.hasOwnProperty(z)&&pn[z]instanceof nh&&pn[z].objectNumber>=0&&ue("/"+z+" "+pn[z].objectNumber+" 0 R");Dn.publish("putShadingPatternDict"),ue(">>")}},Jc=function(z){if(Object.keys(pn).length>0){for(var ce in ue("/Pattern <<"),pn)pn.hasOwnProperty(ce)&&pn[ce]instanceof w.TilingPattern&&pn[ce].objectNumber>=0&&pn[ce].objectNumber<z&&ue("/"+ce+" "+pn[ce].objectNumber+" 0 R");Dn.publish("putTilingPatternDict"),ue(">>")}},jp=function(){if(Object.keys(zn).length>0){var z;for(z in ue("/ExtGState <<"),zn)zn.hasOwnProperty(z)&&zn[z].objectNumber>=0&&ue("/"+z+" "+zn[z].objectNumber+" 0 R");Dn.publish("putGStateDict"),ue(">>")}},Vr=function(z){Ot(z.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ol(),Bp(),Jc(z.objectOid),jp(),gs(),ue(">>"),ue("endobj")},jh=function(){var z=[];Yo(),Lp(),Kc(),Qc(z),Dn.publish("putResources"),z.forEach(Vr),Vr({resourcesOid:Pr,objectOid:Number.MAX_SAFE_INTEGER}),Dn.publish("postPutResources")},Rh=function(){Dn.publish("putAdditionalObjects");for(var z=0;z<rt.length;z++){var ce=rt[z];Ot(ce.objId,!0),ue(ce.content),ue("endobj")}Dn.publish("postPutAdditionalObjects")},Fh=function(z){zt[z.fontName]=zt[z.fontName]||{},zt[z.fontName][z.fontStyle]=z.id},Ys=function(z,ce,De,Be,Je){var ut={id:"F"+(Object.keys(Rt).length+1).toString(10),postScriptName:z,fontName:ce,fontStyle:De,encoding:Be,isStandardFont:Je||!1,metadata:{}};return Dn.publish("addFont",{font:ut,instance:this}),Rt[ut.id]=ut,Fh(ut),ut.id},zh=function(z){for(var ce=0,De=_e.length;ce<De;ce++){var Be=Ys.call(this,z[ce][0],z[ce][1],z[ce][2],_e[ce][3],!0);v===!1&&(y[Be]=!0);var Je=z[ce][0].split("-");Fh({id:Be,fontName:Je[0],fontStyle:Je[1]||""})}Dn.publish("addFonts",{fonts:Rt,dictionary:zt})},bs=function(z){return z.foo=function(){try{return z.apply(this,arguments)}catch(Be){var ce=Be.stack||"";~ce.indexOf(" at ")&&(ce=ce.split(" at ")[1]);var De="Error in function "+ce.split(`
`)[0].split("<")[0]+": "+Be.message;if(!an.console)throw new Error(De);an.console.error(De,Be),an.alert&&alert(De)}},z.foo.bar=z,z.foo},Zc=function(z,ce){var De,Be,Je,ut,_t,Lt,Wt,un,ln;if(Je=(ce=ce||{}).sourceEncoding||"Unicode",_t=ce.outputEncoding,(ce.autoencode||_t)&&Rt[St].metadata&&Rt[St].metadata[Je]&&Rt[St].metadata[Je].encoding&&(ut=Rt[St].metadata[Je].encoding,!_t&&Rt[St].encoding&&(_t=Rt[St].encoding),!_t&&ut.codePages&&(_t=ut.codePages[0]),typeof _t=="string"&&(_t=ut[_t]),_t)){for(Wt=!1,Lt=[],De=0,Be=z.length;De<Be;De++)(un=_t[z.charCodeAt(De)])?Lt.push(String.fromCharCode(un)):Lt.push(z[De]),Lt[De].charCodeAt(0)>>8&&(Wt=!0);z=Lt.join("")}for(De=z.length;Wt===void 0&&De!==0;)z.charCodeAt(De-1)>>8&&(Wt=!0),De--;if(!Wt)return z;for(Lt=ce.noBOM?[]:[254,255],De=0,Be=z.length;De<Be;De++){if((ln=(un=z.charCodeAt(De))>>8)>>8)throw new Error("Character at position "+De+" of string '"+z+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Lt.push(ln),Lt.push(un-(ln<<8))}return String.fromCharCode.apply(void 0,Lt)},Li=w.__private__.pdfEscape=w.pdfEscape=function(z,ce){return Zc(z,ce).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cd=w.__private__.beginPage=function(z){Ke[++Ln]=[],Xt[Ln]={objId:0,contentsObjId:0,userUnit:Number(f),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(z[0]),topRightY:Number(z[1])}},qh(Ln),Ce(Ke[Z])},Uh=function(z,ce){var De,Be,Je;switch(n=ce||n,typeof z=="string"&&(De=E(z.toLowerCase()),Array.isArray(De)&&(Be=De[0],Je=De[1])),Array.isArray(z)&&(Be=z[0]*ht,Je=z[1]*ht),isNaN(Be)&&(Be=a[0],Je=a[1]),(Be>14400||Je>14400)&&(yr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Be=Math.min(14400,Be),Je=Math.min(14400,Je)),a=[Be,Je],n.substr(0,1)){case"l":Je>Be&&(a=[Je,Be]);break;case"p":Be>Je&&(a=[Je,Be])}cd(a),pd(ac),ue(vs),gd!==0&&ue(gd+" J"),Xs!==0&&ue(Xs+" j"),Dn.publish("addPage",{pageNumber:Ln})},Rp=function(z){z>0&&z<=Ln&&(Ke.splice(z,1),Xt.splice(z,1),Ln--,Z>Ln&&(Z=Ln),this.setPage(Z))},qh=function(z){z>0&&z<=Ln&&(Z=z)},sl=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return Ke.length-1},ic=function(z,ce,De){var Be,Je=void 0;return De=De||{},z=z!==void 0?z:Rt[St].fontName,ce=ce!==void 0?ce:Rt[St].fontStyle,Be=z.toLowerCase(),zt[Be]!==void 0&&zt[Be][ce]!==void 0?Je=zt[Be][ce]:zt[z]!==void 0&&zt[z][ce]!==void 0?Je=zt[z][ce]:De.disableWarning===!1&&yr.warn("Unable to look up font label for font '"+z+"', '"+ce+"'. Refer to getFontList() for available fonts."),Je||De.noFallback||(Je=zt.times[ce])==null&&(Je=zt.times.normal),Je},Fp=w.__private__.putInfo=function(){var z=At(),ce=function(Be){return Be};for(var De in k!==null&&(ce=Vi.encryptor(z,0)),ue("<<"),ue("/Producer ("+Li(ce("jsPDF "+sn.version))+")"),Ye)Ye.hasOwnProperty(De)&&Ye[De]&&ue("/"+De.substr(0,1).toUpperCase()+De.substr(1)+" ("+Li(ce(Ye[De]))+")");ue("/CreationDate ("+Li(ce(ne))+")"),ue(">>"),ue("endobj")},Ks=w.__private__.putCatalog=function(z){var ce=(z=z||{}).rootDictionaryObjId||Wn;switch(At(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+ce+" 0 R"),Ie||(Ie="fullwidth"),Ie){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var De=""+Ie;De.substr(De.length-1)==="%"&&(Ie=parseInt(Ie)/100),typeof Ie=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+Q(Ie)+"]")}switch(dt||(dt="continuous"),dt){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}Ge&&ue("/PageMode /"+Ge),Dn.publish("putCatalog"),ue(">>"),ue("endobj")},al=w.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(we+1)),ue("/Root "+we+" 0 R"),ue("/Info "+(we-1)+" 0 R"),k!==null&&ue("/Encrypt "+Vi.oid+" 0 R"),ue("/ID [ <"+de+"> <"+de+"> ]"),ue(">>")},zp=w.__private__.putHeader=function(){ue("%PDF-"+x),ue("%ºß¬à")},Xc=w.__private__.putXRef=function(){var z="0000000000";ue("xref"),ue("0 "+(we+1)),ue("0000000000 65535 f ");for(var ce=1;ce<=we;ce++)typeof Pe[ce]=="function"?ue((z+Pe[ce]()).slice(-10)+" 00000 n "):Pe[ce]!==void 0?ue((z+Pe[ce]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},Ko=w.__private__.buildDocument=function(){J(),Ce(Te),Dn.publish("buildDocument"),zp(),nc(),Rh(),jh(),k!==null&&rc(),Fp(),Ks();var z=Ne;return Xc(),al(),ue("startxref"),ue(""+z),ue("%%EOF"),Ce(Ke[Z]),Te.join(`
`)},eu=w.__private__.getBlob=function(z){return new Blob([he(z)],{type:"application/pdf"})},ll=w.output=w.__private__.output=bs(function(z,ce){switch(typeof(ce=ce||{})=="string"?ce={filename:ce}:ce.filename=ce.filename||"generated.pdf",z){case void 0:return Ko();case"save":w.save(ce.filename);break;case"arraybuffer":return he(Ko());case"blob":return eu(Ko());case"bloburi":case"bloburl":if(an.URL!==void 0&&typeof an.URL.createObjectURL=="function")return an.URL&&an.URL.createObjectURL(eu(Ko()))||void 0;yr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var De="",Be=Ko();try{De=F_(Be)}catch{De=F_(unescape(encodeURIComponent(Be)))}return"data:application/pdf;filename="+ce.filename+";base64,"+De;case"pdfobjectnewwindow":if(Object.prototype.toString.call(an)==="[object Window]"){var Je="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ut=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ce.pdfObjectUrl&&(Je=ce.pdfObjectUrl,ut="");var _t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Je+'"'+ut+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ce)+");<\/script></body></html>",Lt=an.open();return Lt!==null&&Lt.document.write(_t),Lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(an)==="[object Window]"){var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ce.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ce.filename+'" width="500px" height="400px" /></body></html>',un=an.open();if(un!==null){un.document.write(Wt);var ln=this;un.document.documentElement.querySelector("#pdfViewer").onload=function(){un.document.title=ce.filename,un.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ln.output("bloburl"))}}return un}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(an)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var In='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ce)+'"></iframe></body></html>',vr=an.open();if(vr!==null&&(vr.document.write(In),vr.document.title=ce.filename),vr||typeof safari>"u")return vr;break;case"datauri":case"dataurl":return an.document.location.href=this.output("datauristring",ce);default:return null}}),Pa=function(z){return Array.isArray(No)===!0&&No.indexOf(z)>-1};switch(o){case"pt":ht=1;break;case"mm":ht=72/25.4;break;case"cm":ht=72/2.54;break;case"in":ht=72;break;case"px":ht=Pa("px_scaling")==1?.75:96/72;break;case"pc":case"em":ht=12;break;case"ex":ht=6;break;default:if(typeof o!="number")throw new Error("Invalid unit: "+o);ht=o}var Vi=null;xe(),oe();var Vh=function(z){return k!==null?Vi.encryptor(z,0):function(ce){return ce}},ud=w.__private__.getPageInfo=w.getPageInfo=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Xt[z].objId,pageNumber:z,pageContext:Xt[z]}},cn=w.__private__.getPageInfoByObjId=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ce in Xt)if(Xt[ce].objId===z)break;return ud(ce)},Up=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:Xt[Z].objId,pageNumber:Z,pageContext:Xt[Z]}};w.addPage=function(){return Uh.apply(this,arguments),this},w.setPage=function(){return qh.apply(this,arguments),Ce.call(this,Ke[Z]),this},w.insertPage=function(z){return this.addPage(),this.movePage(Z,z),this},w.movePage=function(z,ce){var De,Be;if(z>ce){De=Ke[z],Be=Xt[z];for(var Je=z;Je>ce;Je--)Ke[Je]=Ke[Je-1],Xt[Je]=Xt[Je-1];Ke[ce]=De,Xt[ce]=Be,this.setPage(ce)}else if(z<ce){De=Ke[z],Be=Xt[z];for(var ut=z;ut<ce;ut++)Ke[ut]=Ke[ut+1],Xt[ut]=Xt[ut+1];Ke[ce]=De,Xt[ce]=Be,this.setPage(ce)}return this},w.deletePage=function(){return Rp.apply(this,arguments),this},w.__private__.text=w.text=function(z,ce,De,Be,Je){var ut,_t,Lt,Wt,un,ln,In,vr,Er,Hr=(Be=Be||{}).scope||this;if(typeof z=="number"&&typeof ce=="number"&&(typeof De=="string"||Array.isArray(De))){var Bi=De;De=ce,ce=z,z=Bi}if(arguments[3]instanceof Ht?(j("The transform parameter of text() with a Matrix value"),Er=Je):(Lt=arguments[4],Wt=arguments[5],hr(In=arguments[3])==="object"&&In!==null||(typeof Lt=="string"&&(Wt=Lt,Lt=null),typeof In=="string"&&(Wt=In,In=null),typeof In=="number"&&(Lt=In,In=null),Be={flags:In,angle:Lt,align:Wt})),isNaN(ce)||isNaN(De)||z==null)throw new Error("Invalid arguments passed to jsPDF.text");if(z.length===0)return Hr;var fi="",As=!1,Po=typeof Be.lineHeightFactor=="number"?Be.lineHeightFactor:ks,ea=Hr.internal.scaleFactor;function Yh(Ut){return Ut=Ut.split("	").join(Array(Be.TabLen||9).join(" ")),Li(Ut,In)}function kd(Ut){for(var Yn,Or=Ut.concat(),Wr=[],oa=Or.length;oa--;)typeof(Yn=Or.shift())=="string"?Wr.push(Yn):Array.isArray(Ut)&&(Yn.length===1||Yn[1]===void 0&&Yn[2]===void 0)?Wr.push(Yn[0]):Wr.push([Yn[0],Yn[1],Yn[2]]);return Wr}function Cs(Ut,Yn){var Or;if(typeof Ut=="string")Or=Yn(Ut)[0];else if(Array.isArray(Ut)){for(var Wr,oa,kr=Ut.concat(),sa=[],_d=kr.length;_d--;)typeof(Wr=kr.shift())=="string"?sa.push(Yn(Wr)[0]):Array.isArray(Wr)&&typeof Wr[0]=="string"&&(oa=Yn(Wr[0],Wr[1],Wr[2]),sa.push([oa[0],oa[1],oa[2]]));Or=sa}return Or}var ta=!1,wd=!0;if(typeof z=="string")ta=!0;else if(Array.isArray(z)){var yd=z.concat();_t=[];for(var La,pi=yd.length;pi--;)(typeof(La=yd.shift())!="string"||Array.isArray(La)&&typeof La[0]!="string")&&(wd=!1);ta=wd}if(ta===!1)throw new Error('Type of text must be string or Array. "'+z+'" is not recognized.');typeof z=="string"&&(z=z.match(/[\r?\n]/)?z.split(/\r\n|\r|\n/g):[z]);var cu=Me/Hr.internal.scaleFactor,uu=cu*(Po-1);switch(Be.baseline){case"bottom":De-=uu;break;case"top":De+=cu-uu;break;case"hanging":De+=cu-2*uu;break;case"middle":De+=cu/2-uu}if((ln=Be.maxWidth||0)>0&&(typeof z=="string"?z=Hr.splitTextToSize(z,ln):Object.prototype.toString.call(z)==="[object Array]"&&(z=z.reduce(function(Ut,Yn){return Ut.concat(Hr.splitTextToSize(Yn,ln))},[]))),ut={text:z,x:ce,y:De,options:Be,mutex:{pdfEscape:Li,activeFontKey:St,fonts:Rt,activeFontSize:Me}},Dn.publish("preProcessText",ut),z=ut.text,Lt=(Be=ut.options).angle,!(Er instanceof Ht)&&Lt&&typeof Lt=="number"){Lt*=Math.PI/180,Be.rotationDirection===0&&(Lt=-Lt),P===M.ADVANCED&&(Lt=-Lt);var du=Math.cos(Lt),hu=Math.sin(Lt);Er=new Ht(du,hu,-hu,du,0,0)}else Lt&&Lt instanceof Ht&&(Er=Lt);P!==M.ADVANCED||Er||(Er=Ui),(un=Be.charSpace||iu)!==void 0&&(fi+=N(R(un))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(vr=Be.horizontalScale)!==void 0&&(fi+=N(100*vr)+` Tz
`),Be.lang;var Ji=-1,Wp=Be.renderingMode!==void 0?Be.renderingMode:Be.stroke,fu=Hr.internal.getCurrentPageInfo().pageContext;switch(Wp){case 0:case!1:case"fill":Ji=0;break;case 1:case!0:case"stroke":Ji=1;break;case 2:case"fillThenStroke":Ji=2;break;case 3:case"invisible":Ji=3;break;case 4:case"fillAndAddForClipping":Ji=4;break;case 5:case"strokeAndAddPathForClipping":Ji=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ji=6;break;case 7:case"addToPathForClipping":Ji=7}var Kh=fu.usedRenderingMode!==void 0?fu.usedRenderingMode:-1;Ji!==-1?fi+=Ji+` Tr
`:Kh!==-1&&(fi+=`0 Tr
`),Ji!==-1&&(fu.usedRenderingMode=Ji),Wt=Be.align||"left";var Oo,pu=Me*Po,vd=Hr.internal.pageSize.getWidth(),Qh=Rt[St];un=Be.charSpace||iu,ln=Be.maxWidth||0,In=Object.assign({autoencode:!0,noBOM:!0},Be.flags);var Ba=[],dc=function(Ut){return Hr.getStringUnitWidth(Ut,{font:Qh,charSpace:un,fontSize:Me,doKerning:!1})*Me/ea};if(Object.prototype.toString.call(z)==="[object Array]"){var ko;_t=kd(z),Wt!=="left"&&(Oo=_t.map(dc));var Hi,hl=0;if(Wt==="right"){ce-=Oo[0],z=[],pi=_t.length;for(var na=0;na<pi;na++)na===0?(Hi=Zs(ce),ko=ys(De)):(Hi=R(hl-Oo[na]),ko=-pu),z.push([_t[na],Hi,ko]),hl=Oo[na]}else if(Wt==="center"){ce-=Oo[0]/2,z=[],pi=_t.length;for(var ra=0;ra<pi;ra++)ra===0?(Hi=Zs(ce),ko=ys(De)):(Hi=R((hl-Oo[ra])/2),ko=-pu),z.push([_t[ra],Hi,ko]),hl=Oo[ra]}else if(Wt==="left"){z=[],pi=_t.length;for(var hc=0;hc<pi;hc++)z.push(_t[hc])}else if(Wt==="justify"&&Qh.encoding==="Identity-H"){z=[],pi=_t.length,ln=ln!==0?ln:vd;for(var On=0,Dr=0;Dr<pi;Dr++)if(ko=Dr===0?ys(De):-pu,Hi=Dr===0?Zs(ce):On,Dr<pi-1){var fc=R((ln-Oo[Dr])/(_t[Dr].split(" ").length-1)),$r=_t[Dr].split(" ");z.push([$r[0]+" ",Hi,ko]),On=0;for(var Lo=1;Lo<$r.length;Lo++){var pc=(dc($r[Lo-1]+" "+$r[Lo])-dc($r[Lo]))*ea+fc;Lo==$r.length-1?z.push([$r[Lo],pc,0]):z.push([$r[Lo]+" ",pc,0]),On-=pc}}else z.push([_t[Dr],Hi,ko]);z.push(["",On,0])}else{if(Wt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(z=[],pi=_t.length,ln=ln!==0?ln:vd,Dr=0;Dr<pi;Dr++)ko=Dr===0?ys(De):-pu,Hi=Dr===0?Zs(ce):0,Dr<pi-1?Ba.push(N(R((ln-Oo[Dr])/(_t[Dr].split(" ").length-1)))):Ba.push(0),z.push([_t[Dr],Hi,ko])}}var Jh=typeof Be.R2L=="boolean"?Be.R2L:Oe;Jh===!0&&(z=Cs(z,function(Ut,Yn,Or){return[Ut.split("").reverse().join(""),Yn,Or]})),ut={text:z,x:ce,y:De,options:Be,mutex:{pdfEscape:Li,activeFontKey:St,fonts:Rt,activeFontSize:Me}},Dn.publish("postProcessText",ut),z=ut.text,As=ut.mutex.isHex||!1;var Qo=Rt[St].encoding;Qo!=="WinAnsiEncoding"&&Qo!=="StandardEncoding"||(z=Cs(z,function(Ut,Yn,Or){return[Yh(Ut),Yn,Or]})),_t=kd(z),z=[];for(var ia,fl,mi,mc=0,gc=1,pl=Array.isArray(_t[0])?gc:mc,tr="",ml=function(Ut,Yn,Or){var Wr="";return Or instanceof Ht?(Or=typeof Be.angle=="number"?Oi(Or,new Ht(1,0,0,1,Ut,Yn)):Oi(new Ht(1,0,0,1,Ut,Yn),Or),P===M.ADVANCED&&(Or=Oi(new Ht(1,0,0,-1,0,0),Or)),Wr=Or.join(" ")+` Tm
`):Wr=N(Ut)+" "+N(Yn)+` Td
`,Wr},Bo=0;Bo<_t.length;Bo++){switch(tr="",pl){case gc:mi=(As?"<":"(")+_t[Bo][0]+(As?">":")"),ia=parseFloat(_t[Bo][1]),fl=parseFloat(_t[Bo][2]);break;case mc:mi=(As?"<":"(")+_t[Bo]+(As?">":")"),ia=Zs(ce),fl=ys(De)}Ba!==void 0&&Ba[Bo]!==void 0&&(tr=Ba[Bo]+` Tw
`),Bo===0?z.push(tr+ml(ia,fl,Er)+mi):pl===mc?z.push(tr+mi):pl===gc&&z.push(tr+ml(ia,fl,Er)+mi)}z=pl===mc?z.join(` Tj
T* `):z.join(` Tj
`),z+=` Tj
`;var jo=`BT
/`;return jo+=St+" "+Me+` Tf
`,jo+=N(Me*Po)+` TL
`,jo+=_s+`
`,jo+=fi,jo+=z,ue(jo+="ET"),y[St]=!0,Hr};var tu=w.__private__.clip=w.clip=function(z){return ue(z==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return tu("evenodd")},w.__private__.discardPath=w.discardPath=function(){return ue("n"),this};var Qs=w.__private__.isValidStyle=function(z){var ce=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(z)!==-1&&(ce=!0),ce};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(z){return Qs(z)&&(g=z),this};var dd=w.__private__.getStyle=w.getStyle=function(z){var ce=g;switch(z){case"D":case"S":ce="S";break;case"F":ce="f";break;case"FD":case"DF":ce="B";break;case"f":case"f*":case"B":case"B*":ce=z}return ce},hd=w.close=function(){return ue("h"),this};w.stroke=function(){return ue("S"),this},w.fill=function(z){return oc("f",z),this},w.fillEvenOdd=function(z){return oc("f*",z),this},w.fillStroke=function(z){return oc("B",z),this},w.fillStrokeEvenOdd=function(z){return oc("B*",z),this};var oc=function(z,ce){hr(ce)==="object"?nu(ce,z):ue(z)},Oa=function(z){z===null||P===M.ADVANCED&&z===void 0||(z=dd(z),ue(z))};function qp(z,ce,De,Be,Je){var ut=new Qf(ce||this.boundingBox,De||this.xStep,Be||this.yStep,this.gState,Je||this.matrix);ut.stream=this.stream;var _t=z+"$$"+this.cloneIndex+++"$$";return kt(_t,ut),ut}var nu=function(z,ce){var De=En[z.key],Be=pn[De];if(Be instanceof nh)ue("q"),ue(fd(ce)),Be.gState&&w.setGState(Be.gState),ue(z.matrix.toString()+" cm"),ue("/"+De+" sh"),ue("Q");else if(Be instanceof Qf){var Je=new Ht(1,0,0,-1,0,dl());z.matrix&&(Je=Je.multiply(z.matrix||Ui),De=qp.call(Be,z.key,z.boundingBox,z.xStep,z.yStep,Je).id),ue("q"),ue("/Pattern cs"),ue("/"+De+" scn"),Be.gState&&w.setGState(Be.gState),ue(ce),ue("Q")}},fd=function(z){switch(z){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Gn=w.moveTo=function(z,ce){return ue(N(R(z))+" "+N(B(ce))+" m"),this},sc=w.lineTo=function(z,ce){return ue(N(R(z))+" "+N(B(ce))+" l"),this},Js=w.curveTo=function(z,ce,De,Be,Je,ut){return ue([N(R(z)),N(B(ce)),N(R(De)),N(B(Be)),N(R(Je)),N(B(ut)),"c"].join(" ")),this};w.__private__.line=w.line=function(z,ce,De,Be,Je){if(isNaN(z)||isNaN(ce)||isNaN(De)||isNaN(Be)||!Qs(Je))throw new Error("Invalid arguments passed to jsPDF.line");return P===M.COMPAT?this.lines([[De-z,Be-ce]],z,ce,[1,1],Je||"S"):this.lines([[De-z,Be-ce]],z,ce,[1,1]).stroke()},w.__private__.lines=w.lines=function(z,ce,De,Be,Je,ut){var _t,Lt,Wt,un,ln,In,vr,Er,Hr,Bi,fi,As;if(typeof z=="number"&&(As=De,De=ce,ce=z,z=As),Be=Be||[1,1],ut=ut||!1,isNaN(ce)||isNaN(De)||!Array.isArray(z)||!Array.isArray(Be)||!Qs(Je)||typeof ut!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Gn(ce,De),_t=Be[0],Lt=Be[1],un=z.length,Bi=ce,fi=De,Wt=0;Wt<un;Wt++)(ln=z[Wt]).length===2?(Bi=ln[0]*_t+Bi,fi=ln[1]*Lt+fi,sc(Bi,fi)):(In=ln[0]*_t+Bi,vr=ln[1]*Lt+fi,Er=ln[2]*_t+Bi,Hr=ln[3]*Lt+fi,Bi=ln[4]*_t+Bi,fi=ln[5]*Lt+fi,Js(In,vr,Er,Hr,Bi,fi));return ut&&hd(),Oa(Je),this},w.path=function(z){for(var ce=0;ce<z.length;ce++){var De=z[ce],Be=De.c;switch(De.op){case"m":Gn(Be[0],Be[1]);break;case"l":sc(Be[0],Be[1]);break;case"c":Js.apply(this,Be);break;case"h":hd()}}return this},w.__private__.rect=w.rect=function(z,ce,De,Be,Je){if(isNaN(z)||isNaN(ce)||isNaN(De)||isNaN(Be)||!Qs(Je))throw new Error("Invalid arguments passed to jsPDF.rect");return P===M.COMPAT&&(Be=-Be),ue([N(R(z)),N(B(ce)),N(R(De)),N(R(Be)),"re"].join(" ")),Oa(Je),this},w.__private__.triangle=w.triangle=function(z,ce,De,Be,Je,ut,_t){if(isNaN(z)||isNaN(ce)||isNaN(De)||isNaN(Be)||isNaN(Je)||isNaN(ut)||!Qs(_t))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[De-z,Be-ce],[Je-De,ut-Be],[z-Je,ce-ut]],z,ce,[1,1],_t,!0),this},w.__private__.roundedRect=w.roundedRect=function(z,ce,De,Be,Je,ut,_t){if(isNaN(z)||isNaN(ce)||isNaN(De)||isNaN(Be)||isNaN(Je)||isNaN(ut)||!Qs(_t))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Lt=4/3*(Math.SQRT2-1);return Je=Math.min(Je,.5*De),ut=Math.min(ut,.5*Be),this.lines([[De-2*Je,0],[Je*Lt,0,Je,ut-ut*Lt,Je,ut],[0,Be-2*ut],[0,ut*Lt,-Je*Lt,ut,-Je,ut],[2*Je-De,0],[-Je*Lt,0,-Je,-ut*Lt,-Je,-ut],[0,2*ut-Be],[0,-ut*Lt,Je*Lt,-ut,Je,-ut]],z+Je,ce,[1,1],_t,!0),this},w.__private__.ellipse=w.ellipse=function(z,ce,De,Be,Je){if(isNaN(z)||isNaN(ce)||isNaN(De)||isNaN(Be)||!Qs(Je))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ut=4/3*(Math.SQRT2-1)*De,_t=4/3*(Math.SQRT2-1)*Be;return Gn(z+De,ce),Js(z+De,ce-_t,z+ut,ce-Be,z,ce-Be),Js(z-ut,ce-Be,z-De,ce-_t,z-De,ce),Js(z-De,ce+_t,z-ut,ce+Be,z,ce+Be),Js(z+ut,ce+Be,z+De,ce+_t,z+De,ce),Oa(Je),this},w.__private__.circle=w.circle=function(z,ce,De,Be){if(isNaN(z)||isNaN(ce)||isNaN(De)||!Qs(Be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(z,ce,De,De,Be)},w.setFont=function(z,ce,De){return De&&(ce=V(ce,De)),St=ic(z,ce,{disableWarning:!1}),this};var Hh=w.__private__.getFont=w.getFont=function(){return Rt[ic.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var z,ce,De={};for(z in zt)if(zt.hasOwnProperty(z))for(ce in De[z]=[],zt[z])zt[z].hasOwnProperty(ce)&&De[z].push(ce);return De},w.addFont=function(z,ce,De,Be,Je){var ut=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ut.indexOf(arguments[3])!==-1?Je=arguments[3]:arguments[3]&&ut.indexOf(arguments[3])==-1&&(De=V(De,Be)),Je=Je||"Identity-H",Ys.call(this,z,ce,De,Je)};var ks,ac=t.lineWidth||.200025,ws=w.__private__.getLineWidth=w.getLineWidth=function(){return ac},pd=w.__private__.setLineWidth=w.setLineWidth=function(z){return ac=z,ue(N(R(z))+" w"),this};w.__private__.setLineDash=sn.API.setLineDash=sn.API.setLineDashPattern=function(z,ce){if(z=z||[],ce=ce||0,isNaN(ce)||!Array.isArray(z))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return z=z.map(function(De){return N(R(De))}).join(" "),ce=N(R(ce)),ue("["+z+"] "+ce+" d"),this};var ru=w.__private__.getLineHeight=w.getLineHeight=function(){return Me*ks};w.__private__.getLineHeight=w.getLineHeight=function(){return Me*ks};var $h=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(z){return typeof(z=z||1.15)=="number"&&(ks=z),this},md=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return ks};$h(t.lineHeight);var Zs=w.__private__.getHorizontalCoordinate=function(z){return R(z)},ys=w.__private__.getVerticalCoordinate=function(z){return P===M.ADVANCED?z:Xt[Z].mediaBox.topRightY-Xt[Z].mediaBox.bottomLeftY-R(z)},Vp=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(z){return N(Zs(z))},cl=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(z){return N(ys(z))},vs=t.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return Go(vs)},w.__private__.setStrokeColor=w.setDrawColor=function(z,ce,De,Be){return vs=Mo({ch1:z,ch2:ce,ch3:De,ch4:Be,pdfColorType:"draw",precision:2}),ue(vs),this};var ul=t.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return Go(ul)},w.__private__.setFillColor=w.setFillColor=function(z,ce,De,Be){return ul=Mo({ch1:z,ch2:ce,ch3:De,ch4:Be,pdfColorType:"fill",precision:2}),ue(ul),this};var _s=t.textColor||"0 g",Hp=w.__private__.getTextColor=w.getTextColor=function(){return Go(_s)};w.__private__.setTextColor=w.setTextColor=function(z,ce,De,Be){return _s=Mo({ch1:z,ch2:ce,ch3:De,ch4:Be,pdfColorType:"text",precision:3}),this};var iu=t.charSpace,$p=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(iu||0)};w.__private__.setCharSpace=w.setCharSpace=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return iu=z,this};var gd=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(z){var ce=w.CapJoinStyles[z];if(ce===void 0)throw new Error("Line cap style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gd=ce,ue(ce+" J"),this};var Xs=0;w.__private__.setLineJoin=w.setLineJoin=function(z){var ce=w.CapJoinStyles[z];if(ce===void 0)throw new Error("Line join style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xs=ce,ue(ce+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(z){if(z=z||0,isNaN(z))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(N(R(z))+" M"),this},w.GState=Kk,w.setGState=function(z){(z=typeof z=="string"?zn[Mr[z]]:Wh(null,z)).equals(qr)||(ue("/"+z.id+" gs"),qr=z)};var Wh=function(z,ce){if(!z||!Mr[z]){var De=!1;for(var Be in zn)if(zn.hasOwnProperty(Be)&&zn[Be].equals(ce)){De=!0;break}if(De)ce=zn[Be];else{var Je="GS"+(Object.keys(zn).length+1).toString(10);zn[Je]=ce,ce.id=Je}return z&&(Mr[z]=ce.id),Dn.publish("addGState",ce),ce}};w.addGState=function(z,ce){return Wh(z,ce),this},w.saveGraphicsState=function(){return ue("q"),Yt.push({key:St,size:Me,color:_s}),this},w.restoreGraphicsState=function(){ue("Q");var z=Yt.pop();return St=z.key,Me=z.size,_s=z.color,qr=null,this},w.setCurrentTransformationMatrix=function(z){return ue(z.toString()+" cm"),this},w.comment=function(z){return ue("#"+z),this};var lc=function(z,ce){var De=z||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return De},set:function(ut){isNaN(ut)||(De=parseFloat(ut))}});var Be=ce||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Be},set:function(ut){isNaN(ut)||(Be=parseFloat(ut))}});var Je="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Je},set:function(ut){Je=ut.toString()}}),this},ou=function(z,ce,De,Be){lc.call(this,z,ce),this.type="rect";var Je=De||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Je},set:function(_t){isNaN(_t)||(Je=parseFloat(_t))}});var ut=Be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ut},set:function(_t){isNaN(_t)||(ut=parseFloat(_t))}}),this},su=function(){this.page=Ln,this.currentPage=Z,this.pages=Ke.slice(0),this.pagesContext=Xt.slice(0),this.x=tn,this.y=pt,this.matrix=Vt,this.width=uc(Z),this.height=dl(Z),this.outputDestination=ze,this.id="",this.objectNumber=-1};su.prototype.restore=function(){Ln=this.page,Z=this.currentPage,Xt=this.pagesContext,Ke=this.pages,tn=this.x,pt=this.y,Vt=this.matrix,au(Z,this.width),lu(Z,this.height),ze=this.outputDestination};var bd=function(z,ce,De,Be,Je){ei.push(new su),Ln=Z=0,Ke=[],tn=z,pt=ce,Vt=Je,cd([De,Be])},Gh=function(z){if(zi[z])ei.pop().restore();else{var ce=new su,De="Xo"+(Object.keys(Nn).length+1).toString(10);ce.id=De,zi[z]=De,Nn[De]=ce,Dn.publish("addFormObject",ce),ei.pop().restore()}};for(var cc in w.beginFormObject=function(z,ce,De,Be,Je){return bd(z,ce,De,Be,Je),this},w.endFormObject=function(z){return Gh(z),this},w.doFormObject=function(z,ce){var De=Nn[zi[z]];return ue("q"),ue(ce.toString()+" cm"),ue("/"+De.id+" Do"),ue("Q"),this},w.getFormObject=function(z){var ce=Nn[zi[z]];return{x:ce.x,y:ce.y,width:ce.width,height:ce.height,matrix:ce.matrix}},w.save=function(z,ce){return z=z||"generated.pdf",(ce=ce||{}).returnPromise=ce.returnPromise||!1,ce.returnPromise===!1?(eh(eu(Ko()),z),typeof eh.unload=="function"&&an.setTimeout&&setTimeout(eh.unload,911),this):new Promise(function(De,Be){try{var Je=eh(eu(Ko()),z);typeof eh.unload=="function"&&an.setTimeout&&setTimeout(eh.unload,911),De(Je)}catch(ut){Be(ut.message)}})},sn.API)sn.API.hasOwnProperty(cc)&&(cc==="events"&&sn.API.events.length?function(z,ce){var De,Be,Je;for(Je=ce.length-1;Je!==-1;Je--)De=ce[Je][0],Be=ce[Je][1],z.subscribe.apply(z,[De].concat(typeof Be=="function"?[Be]:Be))}(Dn,sn.API.events):w[cc]=sn.API[cc]);var uc=w.getPageWidth=function(z){return(Xt[z=z||Z].mediaBox.topRightX-Xt[z].mediaBox.bottomLeftX)/ht},au=w.setPageWidth=function(z,ce){Xt[z].mediaBox.topRightX=ce*ht+Xt[z].mediaBox.bottomLeftX},dl=w.getPageHeight=function(z){return(Xt[z=z||Z].mediaBox.topRightY-Xt[z].mediaBox.bottomLeftY)/ht},lu=w.setPageHeight=function(z,ce){Xt[z].mediaBox.topRightY=ce*ht+Xt[z].mediaBox.bottomLeftY};return w.internal={pdfEscape:Li,getStyle:dd,getFont:Hh,getFontSize:Ae,getCharSpace:$p,getTextColor:Hp,getLineHeight:ru,getLineHeightFactor:md,getLineWidth:ws,write:ge,getHorizontalCoordinate:Zs,getVerticalCoordinate:ys,getCoordinateString:Vp,getVerticalCoordinateString:cl,collections:{},newObject:At,newAdditionalObject:Qt,newObjectDeferred:Ct,newObjectDeferredBegin:Ot,getFilters:qi,putStream:bo,events:Dn,scaleFactor:ht,pageSize:{getWidth:function(){return uc(Z)},setWidth:function(z){au(Z,z)},getHeight:function(){return dl(Z)},setHeight:function(z){lu(Z,z)}},encryptionOptions:k,encryption:Vi,getEncryptor:Vh,output:ll,getNumberOfPages:sl,pages:Ke,out:ue,f2:Q,f3:$,getPageInfo:ud,getPageInfoByObjId:cn,getCurrentPageInfo:Up,getPDFVersion:A,Point:lc,Rectangle:ou,Matrix:Ht,hasHotfix:Pa},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return uc(Z)},set:function(z){au(Z,z)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return dl(Z)},set:function(z){lu(Z,z)},enumerable:!0,configurable:!0}),zh.call(w,_e),St="F1",Uh(a,n),Dn.publish("initialized"),w}Gf.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Gf.prototype.toHexString=function(t){return t.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Gf.prototype.hexToBytes=function(t){for(var r=[],n=0;n<t.length;n+=2)r.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return r.join("")},Gf.prototype.processOwnerPassword=function(t,r){return U_(z_(r).substr(0,5),t)},Gf.prototype.encryptor=function(t,r){var n=z_(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&r,r>>8&255)).substr(0,10);return function(o){return U_(n,o)}},Kk.prototype.equals=function(t){var r,n="id,objectNumber,equals";if(!t||hr(t)!==hr(this))return!1;var o=0;for(r in this)if(!(n.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!t.hasOwnProperty(r)||this[r]!==t[r])return!1;o++}for(r in t)t.hasOwnProperty(r)&&n.indexOf(r)<0&&o--;return o===0},sn.API={events:[]},sn.version="3.0.1";var ui=sn.API,iC=1,Mh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tf=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},kn=function(t){return t.toFixed(2)},Nu=function(t){return t.toFixed(5)};ui.__acroform__={};var ps=function(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t},y6=function(t){return t*iC},Nl=function(t){var r=new KO,n=qt.internal.getHeight(t)||0,o=qt.internal.getWidth(t)||0;return r.BBox=[0,0,Number(kn(o)),Number(kn(n))],r},xee=ui.__acroform__.setBit=function(t,r){if(t=t||0,r=r||0,isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<r},See=ui.__acroform__.clearBit=function(t,r){if(t=t||0,r=r||0,isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<r)},Eee=ui.__acroform__.getBit=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<r)==0?0:1},wi=ui.__acroform__.getBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Eee(t,r-1)},yi=ui.__acroform__.setBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return xee(t,r-1)},vi=ui.__acroform__.clearBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return See(t,r-1)},Dee=ui.__acroform__.calculateCoordinates=function(t,r){var n=r.internal.getHorizontalCoordinate,o=r.internal.getVerticalCoordinate,a=t[0],c=t[1],d=t[2],f=t[3],p={};return p.lowerLeft_X=n(a)||0,p.lowerLeft_Y=o(c+f)||0,p.upperRight_X=n(a+d)||0,p.upperRight_Y=o(c)||0,[Number(kn(p.lowerLeft_X)),Number(kn(p.lowerLeft_Y)),Number(kn(p.upperRight_X)),Number(kn(p.upperRight_Y))]},Iee=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var r=[],n=t._V||t.DV,o=q_(t,n),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(t.scope.__private__.encodeColorString(t.color)),r.push("/"+a+" "+kn(o.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC");var c=Nl(t);return c.scope=t.scope,c.stream=r.join(`
`),c}},q_=function(t,r){var n=t.fontSize===0?t.maxFontSize:t.fontSize,o={text:"",fontSize:""},a=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");a=t.multiline?a.map(function($){return $.split(`
`)}):a.map(function($){return[$]});var c=n,d=qt.internal.getHeight(t)||0;d=d<0?-d:d;var f=qt.internal.getWidth(t)||0;f=f<0?-f:f;var p=function($,R,Y){if($+1<a.length){var B=R+" "+a[$+1][0];return H0(B,t,Y).width<=f-4}return!1};c++;e:for(;c>0;){r="",c--;var g,k,v=H0("3",t,c).height,y=t.multiline?d-c:(d-v)/2,w=y+=2,x=0,A=0,D=0;if(c<=0){r=`(...) Tj
`,r+="% Width of Text: "+H0(r,t,c=12).width+", FieldWidth:"+f+`
`;break}for(var E="",M=0,P=0;P<a.length;P++)if(a.hasOwnProperty(P)){var F=!1;if(a[P].length!==1&&D!==a[P].length-1){if((v+2)*(M+2)+2>d)continue e;E+=a[P][D],F=!0,A=P,P--}else{E=(E+=a[P][D]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var H=parseInt(P),V=p(H,E,c),N=P>=a.length-1;if(V&&!N){E+=" ",D=0;continue}if(V||N){if(N)A=H;else if(t.multiline&&(v+2)*(M+2)+2>d)continue e}else{if(!t.multiline||(v+2)*(M+2)+2>d)continue e;A=H}}for(var j="",q=x;q<=A;q++){var Q=a[q];if(t.multiline){if(q===A){j+=Q[D]+" ",D=(D+1)%Q.length;continue}if(q===x){j+=Q[Q.length-1]+" ";continue}}j+=Q[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,k=H0(j,t,c).width,t.textAlign){case"right":g=f-k-2;break;case"center":g=(f-k)/2;break;case"left":default:g=2}r+=kn(g)+" "+kn(w)+` Td
`,r+="("+Mh(j)+`) Tj
`,r+=-kn(g)+` 0 Td
`,w=-(c+2),k=0,x=F?A:A+1,M++,E=""}break}return o.text=r,o.fontSize=c,o},H0=function(t,r,n){var o=r.scope.internal.getFont(r.fontName,r.fontStyle),a=r.scope.getStringUnitWidth(t,{font:o,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:r.scope.getStringUnitWidth("3",{font:o,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},Tee={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Nee=function(t,r){var n={type:"reference",object:t};r.internal.getPageInfo(t.page).pageContext.annotations.find(function(o){return o.type===n.type&&o.object===n.object})===void 0&&r.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Mee=function(t,r){for(var n in t)if(t.hasOwnProperty(n)){var o=n,a=t[n];r.internal.newObjectDeferredBegin(a.objId,!0),hr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[o]}},Pee=function(t,r){if(r.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(el.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Tee)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");iC=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new QO,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var o=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in o)if(o.hasOwnProperty(a)){var c=o[a];c.objId=void 0,c.hasAnnotation&&Nee(c,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(o,a){var c=!o;for(var d in o||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),o=o||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(o.hasOwnProperty(d)){var f=o[d],p=[],g=f.Rect;if(f.Rect&&(f.Rect=Dee(f.Rect,a)),a.internal.newObjectDeferredBegin(f.objId,!0),f.DA=qt.createDefaultAppearanceStream(f),hr(f)==="object"&&typeof f.getKeyValueListForStream=="function"&&(p=f.getKeyValueListForStream()),f.Rect=g,f.hasAppearanceStream&&!f.appearanceStreamContent){var k=Iee(f);p.push({key:"AP",value:"<</N "+k+">>"}),a.internal.acroformPlugin.xForms.push(k)}if(f.appearanceStreamContent){var v="";for(var y in f.appearanceStreamContent)if(f.appearanceStreamContent.hasOwnProperty(y)){var w=f.appearanceStreamContent[y];if(v+="/"+y+" ",v+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var d in w)if(w.hasOwnProperty(d)){var x=w[d];typeof x=="function"&&(x=x.call(a,f)),v+="/"+d+" "+x+" ",a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x)}}else typeof(x=w)=="function"&&(x=x.call(a,f)),v+="/"+d+" "+x,a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x);v+=">>"}p.push({key:"AP",value:`<<
`+v+">>"})}a.internal.putStream({additionalKeyValues:p,objectId:f.objId}),a.internal.out("endobj")}c&&Mee(a.internal.acroformPlugin.xForms,a)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},YO=ui.__acroform__.arrayToPdfArray=function(t,r,n){var o=function(d){return d};if(Array.isArray(t)){for(var a="[",c=0;c<t.length;c++)switch(c!==0&&(a+=" "),hr(t[c])){case"boolean":case"number":case"object":a+=t[c].toString();break;case"string":t[c].substr(0,1)!=="/"?(r!==void 0&&n&&(o=n.internal.getEncryptor(r)),a+="("+Mh(o(t[c].toString()))+")"):a+=t[c].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Pv=function(t,r,n){var o=function(a){return a};return r!==void 0&&n&&(o=n.internal.getEncryptor(r)),(t=t||"").toString(),t="("+Mh(o(t))+")"},Vl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Vl.prototype.toString=function(){return this.objId+" 0 R"},Vl.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Vl.prototype.getKeyValueListForStream=function(){var t=[],r=Object.getOwnPropertyNames(this).filter(function(c){return c!="content"&&c!="appearanceStreamContent"&&c!="scope"&&c!="objId"&&c.substring(0,1)!="_"});for(var n in r)if(Object.getOwnPropertyDescriptor(this,r[n]).configurable===!1){var o=r[n],a=this[o];a&&(Array.isArray(a)?t.push({key:o,value:YO(a,this.objId,this.scope)}):a instanceof Vl?(a.scope=this.scope,t.push({key:o,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:o,value:a}))}return t};var KO=function(){Vl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};ps(KO,Vl);var QO=function(){Vl.call(this);var t,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(o){return o};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Mh(n(t))+")"}},set:function(n){t=n}})};ps(QO,Vl);var el=function t(){Vl.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');r=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!wi(r,3)},set:function(E){E?this.F=yi(r,3):this.F=vi(r,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');n=E}});var o=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(o.length!==0)return o},set:function(E){o=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[0])?0:o[0]},set:function(E){o[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[1])?0:o[1]},set:function(E){o[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[2])?0:o[2]},set:function(E){o[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[3])?0:o[3]},set:function(E){o[3]=E}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var c=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!c||c.length<1){if(this instanceof Qk)return;c="FieldObject"+t.FieldNum++}var E=function(M){return M};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+Mh(E(c))+")"},set:function(E){c=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return c},set:function(E){c=E}});var d="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return d},set:function(E){d=E}});var f="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return f},set:function(E){f=E}});var p=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return p},set:function(E){p=E}});var g=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return g===void 0?50/iC:g},set:function(E){g=E}});var k="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return k},set:function(E){k=E}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof Qk||this instanceof bh))return Pv(v,this.objId,this.scope)},set:function(E){E=E.toString(),v=E}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Yi?y:Pv(y,this.objId,this.scope)},set:function(E){E=E.toString(),y=this instanceof Yi?E:E.substr(0,1)==="("?Tf(E.substr(1,E.length-2)):Tf(E)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yi?Tf(y.substr(1,y.length-1)):y},set:function(E){E=E.toString(),y=this instanceof Yi?"/"+E:E}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Yi?w:Pv(w,this.objId,this.scope)},set:function(E){E=E.toString(),w=this instanceof Yi?E:E.substr(0,1)==="("?Tf(E.substr(1,E.length-2)):Tf(E)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yi?Tf(w.substr(1,w.length-1)):w},set:function(E){E=E.toString(),w=this instanceof Yi?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(E){E=!!E,A=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(E){x=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,1)},set:function(E){E?this.Ff=yi(this.Ff,1):this.Ff=vi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,2)},set:function(E){E?this.Ff=yi(this.Ff,2):this.Ff=vi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,3)},set:function(E){E?this.Ff=yi(this.Ff,3):this.Ff=vi(this.Ff,3)}});var D=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(D!==null)return D},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');D=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(D){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:D=2;break;case"center":case 1:D=1;break;case"left":case 0:default:D=0}}})};ps(el,Vl);var tp=function(){el.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return YO(r,this.objId,this.scope)},set:function(n){var o,a;a=[],typeof(o=n)=="string"&&(a=function(c,d,f){f||(f=1);for(var p,g=[];p=d.exec(c);)g.push(p[f]);return g}(o,/\((.*?)\)/g)),r=a}}),this.getOptions=function(){return r},this.setOptions=function(n){r=n,this.sort&&r.sort()},this.addOption=function(n){n=(n=n||"").toString(),r.push(n),this.sort&&r.sort()},this.removeOption=function(n,o){for(o=o||!1,n=(n=n||"").toString();r.indexOf(n)!==-1&&(r.splice(r.indexOf(n),1),o!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,18)},set:function(n){n?this.Ff=yi(this.Ff,18):this.Ff=vi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=yi(this.Ff,19):this.Ff=vi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,20)},set:function(n){n?(this.Ff=yi(this.Ff,20),r.sort()):this.Ff=vi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,22)},set:function(n){n?this.Ff=yi(this.Ff,22):this.Ff=vi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,23)},set:function(n){n?this.Ff=yi(this.Ff,23):this.Ff=vi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,27)},set:function(n){n?this.Ff=yi(this.Ff,27):this.Ff=vi(this.Ff,27)}}),this.hasAppearanceStream=!1};ps(tp,el);var np=function(){tp.call(this),this.fontName="helvetica",this.combo=!1};ps(np,tp);var rp=function(){np.call(this),this.combo=!0};ps(rp,np);var hk=function(){rp.call(this),this.edit=!0};ps(hk,rp);var Yi=function(){el.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,15)},set:function(n){n?this.Ff=yi(this.Ff,15):this.Ff=vi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,16)},set:function(n){n?this.Ff=yi(this.Ff,16):this.Ff=vi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,17)},set:function(n){n?this.Ff=yi(this.Ff,17):this.Ff=vi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,26)},set:function(n){n?this.Ff=yi(this.Ff,26):this.Ff=vi(this.Ff,26)}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(c){return c};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var o,a=[];for(o in a.push("<<"),r)a.push("/"+o+" ("+Mh(n(r[o]))+")");return a.push(">>"),a.join(`
`)}},set:function(n){hr(n)==="object"&&(r=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(n){typeof n=="string"&&(r.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};ps(Yi,el);var fk=function(){Yi.call(this),this.pushButton=!0};ps(fk,Yi);var ip=function(){Yi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r!==void 0?r:[]}})};ps(ip,Yi);var Qk=function(){var t,r;el.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(a){r=a}});var n,o={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(f){return f};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var c,d=[];for(c in d.push("<<"),o)d.push("/"+c+" ("+Mh(a(o[c]))+")");return d.push(">>"),d.join(`
`)},set:function(a){hr(a)==="object"&&(o=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return o.CA||""},set:function(a){typeof a=="string"&&(o.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(a){n="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=qt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ps(Qk,el),ip.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var n=this.Kids[r];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},ip.prototype.createOption=function(t){var r=new Qk;return r.Parent=this,r.optionName=t,this.Kids.push(r),Oee.call(this.scope,r),r};var pk=function(){Yi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=qt.CheckBox.createAppearanceStream()};ps(pk,Yi);var bh=function(){el.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,13)},set:function(r){r?this.Ff=yi(this.Ff,13):this.Ff=vi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,21)},set:function(r){r?this.Ff=yi(this.Ff,21):this.Ff=vi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,23)},set:function(r){r?this.Ff=yi(this.Ff,23):this.Ff=vi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,24)},set:function(r){r?this.Ff=yi(this.Ff,24):this.Ff=vi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,25)},set:function(r){r?this.Ff=yi(this.Ff,25):this.Ff=vi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,26)},set:function(r){r?this.Ff=yi(this.Ff,26):this.Ff=vi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){Number.isInteger(r)&&(t=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ps(bh,el);var mk=function(){bh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!wi(this.Ff,14)},set:function(t){t?this.Ff=yi(this.Ff,14):this.Ff=vi(this.Ff,14)}}),this.password=!0};ps(mk,bh);var qt={CheckBox:{createAppearanceStream:function(){return{N:{On:qt.CheckBox.YesNormal},D:{On:qt.CheckBox.YesPushDown,Off:qt.CheckBox.OffPushDown}}},YesPushDown:function(t){var r=Nl(t);r.scope=t.scope;var n=[],o=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),c=q_(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+kn(qt.internal.getWidth(t))+" "+kn(qt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+o+" "+kn(c.fontSize)+" Tf "+a),n.push("BT"),n.push(c.text),n.push("ET"),n.push("Q"),n.push("EMC"),r.stream=n.join(`
`),r},YesNormal:function(t){var r=Nl(t);r.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,o=t.scope.__private__.encodeColorString(t.color),a=[],c=qt.internal.getHeight(t),d=qt.internal.getWidth(t),f=q_(t,t.caption);return a.push("1 g"),a.push("0 0 "+kn(d)+" "+kn(c)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+kn(d-1)+" "+kn(c-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+kn(f.fontSize)+" Tf "+o),a.push(f.text),a.push("ET"),a.push("Q"),r.stream=a.join(`
`),r},OffPushDown:function(t){var r=Nl(t);r.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+kn(qt.internal.getWidth(t))+" "+kn(qt.internal.getHeight(t))+" re"),n.push("f"),r.stream=n.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(t){var r={D:{Off:qt.RadioButton.Circle.OffPushDown},N:{}};return r.N[t]=qt.RadioButton.Circle.YesNormal,r.D[t]=qt.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(t){var r=Nl(t);r.scope=t.scope;var n=[],o=qt.internal.getWidth(t)<=qt.internal.getHeight(t)?qt.internal.getWidth(t)/4:qt.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var a=qt.internal.Bezier_C,c=Number((o*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Nu(qt.internal.getWidth(t)/2)+" "+Nu(qt.internal.getHeight(t)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+c+" "+c+" "+o+" 0 "+o+" c"),n.push("-"+c+" "+o+" -"+o+" "+c+" -"+o+" 0 c"),n.push("-"+o+" -"+c+" -"+c+" -"+o+" 0 -"+o+" c"),n.push(c+" -"+o+" "+o+" -"+c+" "+o+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r},YesPushDown:function(t){var r=Nl(t);r.scope=t.scope;var n=[],o=qt.internal.getWidth(t)<=qt.internal.getHeight(t)?qt.internal.getWidth(t)/4:qt.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var a=Number((2*o).toFixed(5)),c=Number((a*qt.internal.Bezier_C).toFixed(5)),d=Number((o*qt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Nu(qt.internal.getWidth(t)/2)+" "+Nu(qt.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+c+" "+c+" "+a+" 0 "+a+" c"),n.push("-"+c+" "+a+" -"+a+" "+c+" -"+a+" 0 c"),n.push("-"+a+" -"+c+" -"+c+" -"+a+" 0 -"+a+" c"),n.push(c+" -"+a+" "+a+" -"+c+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Nu(qt.internal.getWidth(t)/2)+" "+Nu(qt.internal.getHeight(t)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+d+" "+d+" "+o+" 0 "+o+" c"),n.push("-"+d+" "+o+" -"+o+" "+d+" -"+o+" 0 c"),n.push("-"+o+" -"+d+" -"+d+" -"+o+" 0 -"+o+" c"),n.push(d+" -"+o+" "+o+" -"+d+" "+o+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r},OffPushDown:function(t){var r=Nl(t);r.scope=t.scope;var n=[],o=qt.internal.getWidth(t)<=qt.internal.getHeight(t)?qt.internal.getWidth(t)/4:qt.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var a=Number((2*o).toFixed(5)),c=Number((a*qt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Nu(qt.internal.getWidth(t)/2)+" "+Nu(qt.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+c+" "+c+" "+a+" 0 "+a+" c"),n.push("-"+c+" "+a+" -"+a+" "+c+" -"+a+" 0 c"),n.push("-"+a+" -"+c+" -"+c+" -"+a+" 0 -"+a+" c"),n.push(c+" -"+a+" "+a+" -"+c+" "+a+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r}},Cross:{createAppearanceStream:function(t){var r={D:{Off:qt.RadioButton.Cross.OffPushDown},N:{}};return r.N[t]=qt.RadioButton.Cross.YesNormal,r.D[t]=qt.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(t){var r=Nl(t);r.scope=t.scope;var n=[],o=qt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+kn(qt.internal.getWidth(t)-2)+" "+kn(qt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(kn(o.x1.x)+" "+kn(o.x1.y)+" m"),n.push(kn(o.x2.x)+" "+kn(o.x2.y)+" l"),n.push(kn(o.x4.x)+" "+kn(o.x4.y)+" m"),n.push(kn(o.x3.x)+" "+kn(o.x3.y)+" l"),n.push("s"),n.push("Q"),r.stream=n.join(`
`),r},YesPushDown:function(t){var r=Nl(t);r.scope=t.scope;var n=qt.internal.calculateCross(t),o=[];return o.push("0.749023 g"),o.push("0 0 "+kn(qt.internal.getWidth(t))+" "+kn(qt.internal.getHeight(t))+" re"),o.push("f"),o.push("q"),o.push("1 1 "+kn(qt.internal.getWidth(t)-2)+" "+kn(qt.internal.getHeight(t)-2)+" re"),o.push("W"),o.push("n"),o.push(kn(n.x1.x)+" "+kn(n.x1.y)+" m"),o.push(kn(n.x2.x)+" "+kn(n.x2.y)+" l"),o.push(kn(n.x4.x)+" "+kn(n.x4.y)+" m"),o.push(kn(n.x3.x)+" "+kn(n.x3.y)+" l"),o.push("s"),o.push("Q"),r.stream=o.join(`
`),r},OffPushDown:function(t){var r=Nl(t);r.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+kn(qt.internal.getWidth(t))+" "+kn(qt.internal.getHeight(t))+" re"),n.push("f"),r.stream=n.join(`
`),r}}},createDefaultAppearanceStream:function(t){var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+r+" "+t.fontSize+" Tf "+n}};qt.internal={Bezier_C:.551915024494,calculateCross:function(t){var r=qt.internal.getWidth(t),n=qt.internal.getHeight(t),o=Math.min(r,n);return{x1:{x:(r-o)/2,y:(n-o)/2+o},x2:{x:(r-o)/2+o,y:(n-o)/2},x3:{x:(r-o)/2,y:(n-o)/2},x4:{x:(r-o)/2+o,y:(n-o)/2+o}}}},qt.internal.getWidth=function(t){var r=0;return hr(t)==="object"&&(r=y6(t.Rect[2])),r},qt.internal.getHeight=function(t){var r=0;return hr(t)==="object"&&(r=y6(t.Rect[3])),r};var Oee=ui.addField=function(t){if(Pee(this,t),!(t instanceof el))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=t).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ui.AcroFormChoiceField=tp,ui.AcroFormListBox=np,ui.AcroFormComboBox=rp,ui.AcroFormEditBox=hk,ui.AcroFormButton=Yi,ui.AcroFormPushButton=fk,ui.AcroFormRadioButton=ip,ui.AcroFormCheckBox=pk,ui.AcroFormTextField=bh,ui.AcroFormPasswordField=mk,ui.AcroFormAppearance=qt,ui.AcroForm={ChoiceField:tp,ListBox:np,ComboBox:rp,EditBox:hk,Button:Yi,PushButton:fk,RadioButton:ip,CheckBox:pk,TextField:bh,PasswordField:mk,Appearance:qt},sn.AcroForm={ChoiceField:tp,ListBox:np,ComboBox:rp,EditBox:hk,Button:Yi,PushButton:fk,RadioButton:ip,CheckBox:pk,TextField:bh,PasswordField:mk,Appearance:qt};sn.AcroForm;function JO(t){return t.reduce(function(r,n,o){return r[n]=o,r},{})}(function(t){t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},o=t.__addimage__.getImageFileTypeByImageData=function($,R){var Y,B,ne,de,ae,oe=r;if((R=R||r)==="RGBA"||$.data!==void 0&&$.data instanceof Uint8ClampedArray&&"height"in $&&"width"in $)return"RGBA";if(V($))for(ae in n)for(ne=n[ae],Y=0;Y<ne.length;Y+=1){for(de=!0,B=0;B<ne[Y].length;B+=1)if(ne[Y][B]!==void 0&&ne[Y][B]!==$[B]){de=!1;break}if(de===!0){oe=ae;break}}else for(ae in n)for(ne=n[ae],Y=0;Y<ne.length;Y+=1){for(de=!0,B=0;B<ne[Y].length;B+=1)if(ne[Y][B]!==void 0&&ne[Y][B]!==$.charCodeAt(B)){de=!1;break}if(de===!0){oe=ae;break}}return oe===r&&R!==r&&(oe=R),oe},a=function $(R){for(var Y=this.internal.write,B=this.internal.putStream,ne=(0,this.internal.getFilters)();ne.indexOf("FlateEncode")!==-1;)ne.splice(ne.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:R.width}),de.push({key:"Height",value:R.height}),R.colorSpace===D.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===D.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var ae="",oe=0,ye=R.transparency.length;oe<ye;oe++)ae+=R.transparency[oe]+" "+R.transparency[oe]+" ";de.push({key:"Mask",value:"["+ae+"]"})}R.sMask!==void 0&&de.push({key:"SMask",value:R.objectId+1+" 0 R"});var re=R.filter!==void 0?["/"+R.filter]:void 0;if(B({data:R.data,additionalKeyValues:de,alreadyAppliedFilters:re,objectId:R.objectId}),Y("endobj"),"sMask"in R&&R.sMask!==void 0){var xe="/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,X={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:xe,data:R.sMask};"filter"in R&&(X.filter=R.filter),$.call(this,X)}if(R.colorSpace===D.INDEXED){var Z=this.internal.newObject();B({data:j(new Uint8Array(R.palette)),objectId:Z}),Y("endobj")}},c=function(){var $=this.internal.collections.addImage_images;for(var R in $)a.call(this,$[R])},d=function(){var $,R=this.internal.collections.addImage_images,Y=this.internal.write;for(var B in R)Y("/I"+($=R[B]).index,$.objectId,"0","R")},f=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",d))},p=function(){var $=this.internal.collections.addImage_images;return f.call(this),$},g=function(){return Object.keys(this.internal.collections.addImage_images).length},k=function($){return typeof t["process"+$.toUpperCase()]=="function"},v=function($){return hr($)==="object"&&$.nodeType===1},y=function($,R){if($.nodeName==="IMG"&&$.hasAttribute("src")){var Y=""+$.getAttribute("src");if(Y.indexOf("data:image/")===0)return dg(unescape(Y).split("base64,").pop());var B=t.loadFile(Y,!0);if(B!==void 0)return B}if($.nodeName==="CANVAS"){if($.width===0||$.height===0)throw new Error("Given canvas must have data. Canvas width: "+$.width+", height: "+$.height);var ne;switch(R){case"PNG":ne="image/png";break;case"WEBP":ne="image/webp";break;case"JPEG":case"JPG":default:ne="image/jpeg"}return dg($.toDataURL(ne,1).split("base64,").pop())}},w=function($){var R=this.internal.collections.addImage_images;if(R){for(var Y in R)if($===R[Y].alias)return R[Y]}},x=function($,R,Y){return $||R||($=-96,R=-96),$<0&&($=-1*Y.width*72/$/this.internal.scaleFactor),R<0&&(R=-1*Y.height*72/R/this.internal.scaleFactor),$===0&&($=R*Y.width/Y.height),R===0&&(R=$*Y.height/Y.width),[$,R]},A=function($,R,Y,B,ne,de){var ae=x.call(this,Y,B,ne),oe=this.internal.getCoordinateString,ye=this.internal.getVerticalCoordinateString,re=p.call(this);if(Y=ae[0],B=ae[1],re[ne.index]=ne,de){de*=Math.PI/180;var xe=Math.cos(de),X=Math.sin(de),Z=function(pe){return pe.toFixed(4)},se=[Z(xe),Z(X),Z(-1*X),Z(xe),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,oe($),ye(R+B),"cm"].join(" ")),this.internal.write(se.join(" ")),this.internal.write([oe(Y),"0","0",oe(B),"0","0","cm"].join(" "))):this.internal.write([oe(Y),"0","0",oe(B),oe($),ye(R+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ne.index+" Do"),this.internal.write("Q")},D=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},M=t.__addimage__.sHashCode=function($){var R,Y,B=0;if(typeof $=="string")for(Y=$.length,R=0;R<Y;R++)B=(B<<5)-B+$.charCodeAt(R),B|=0;else if(V($))for(Y=$.byteLength/2,R=0;R<Y;R++)B=(B<<5)-B+$[R],B|=0;return B},P=t.__addimage__.validateStringAsBase64=function($){($=$||"").toString().trim();var R=!0;return $.length===0&&(R=!1),$.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test($.substr(0,$.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test($.substr(-2))===!1&&(R=!1),R},F=t.__addimage__.extractImageFromDataUrl=function($){if($==null||!($=$.trim()).startsWith("data:"))return null;var R=$.indexOf(",");return R<0?null:$.substring(0,R).trim().endsWith("base64")?$.substring(R+1):null},H=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function($){return H()&&$ instanceof ArrayBuffer};var V=t.__addimage__.isArrayBufferView=function($){return H()&&typeof Uint32Array<"u"&&($ instanceof Int8Array||$ instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&$ instanceof Uint8ClampedArray||$ instanceof Int16Array||$ instanceof Uint16Array||$ instanceof Int32Array||$ instanceof Uint32Array||$ instanceof Float32Array||$ instanceof Float64Array)},N=t.__addimage__.binaryStringToUint8Array=function($){for(var R=$.length,Y=new Uint8Array(R),B=0;B<R;B++)Y[B]=$.charCodeAt(B);return Y},j=t.__addimage__.arrayBufferToBinaryString=function($){for(var R="",Y=V($)?$:new Uint8Array($),B=0;B<Y.length;B+=8192)R+=String.fromCharCode.apply(null,Y.subarray(B,B+8192));return R};t.addImage=function(){var $,R,Y,B,ne,de,ae,oe,ye;if(typeof arguments[1]=="number"?(R=r,Y=arguments[1],B=arguments[2],ne=arguments[3],de=arguments[4],ae=arguments[5],oe=arguments[6],ye=arguments[7]):(R=arguments[1],Y=arguments[2],B=arguments[3],ne=arguments[4],de=arguments[5],ae=arguments[6],oe=arguments[7],ye=arguments[8]),hr($=arguments[0])==="object"&&!v($)&&"imageData"in $){var re=$;$=re.imageData,R=re.format||R||r,Y=re.x||Y||0,B=re.y||B||0,ne=re.w||re.width||ne,de=re.h||re.height||de,ae=re.alias||ae,oe=re.compression||oe,ye=re.rotation||re.angle||ye}var xe=this.internal.getFilters();if(oe===void 0&&xe.indexOf("FlateEncode")!==-1&&(oe="SLOW"),isNaN(Y)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var X=q.call(this,$,R,ae,oe);return A.call(this,Y,B,ne,de,X,ye),this};var q=function($,R,Y,B){var ne,de,ae;if(typeof $=="string"&&o($)===r){$=unescape($);var oe=Q($,!1);(oe!==""||(oe=t.loadFile($,!0))!==void 0)&&($=oe)}if(v($)&&($=y($,R)),R=o($,R),!k(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((ae=Y)==null||ae.length===0)&&(Y=function(ye){return typeof ye=="string"||V(ye)?M(ye):V(ye.data)?M(ye.data):null}($)),(ne=w.call(this,Y))||(H()&&($ instanceof Uint8Array||R==="RGBA"||(de=$,$=N($))),ne=this["process"+R.toUpperCase()]($,g.call(this),Y,function(ye){return ye&&typeof ye=="string"&&(ye=ye.toUpperCase()),ye in t.image_compression?ye:E.NONE}(B),de)),!ne)throw new Error("An unknown error occurred whilst processing the image.");return ne},Q=t.__addimage__.convertBase64ToBinaryString=function($,R){R=typeof R!="boolean"||R;var Y,B="";if(typeof $=="string"){var ne;Y=(ne=F($))!==null&&ne!==void 0?ne:$;try{B=dg(Y)}catch(de){if(R)throw P(Y)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return B};t.getImageProperties=function($){var R,Y,B="";if(v($)&&($=y($)),typeof $=="string"&&o($)===r&&((B=Q($,!1))===""&&(B=t.loadFile($)||""),$=B),Y=o($),!k(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(!H()||$ instanceof Uint8Array||($=N($)),!(R=this["process"+Y.toUpperCase()]($)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=Y,R}})(sn.API),function(t){var r=function(n){if(n!==void 0&&n!="")return!0};sn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var o,a,c,d=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString,p=this.internal.getPageInfoByObjId(n.objId),g=n.pageContext.annotations,k=!1,v=0;v<g.length&&!k;v++)switch((o=g[v]).type){case"link":(r(o.options.url)||r(o.options.pageNumber))&&(k=!0);break;case"reference":case"text":case"freetext":k=!0}if(k!=0){this.internal.write("/Annots [");for(var y=0;y<g.length;y++){o=g[y];var w=this.internal.pdfEscape,x=this.internal.getEncryptor(n.objId);switch(o.type){case"reference":this.internal.write(" "+o.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),D=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(A.objId),M=o.title||"Note";c="<</Type /Annot /Subtype /Text "+(a="/Rect ["+d(o.bounds.x)+" "+f(o.bounds.y+o.bounds.h)+" "+d(o.bounds.x+o.bounds.w)+" "+f(o.bounds.y)+"] ")+"/Contents ("+w(E(o.contents))+")",c+=" /Popup "+D.objId+" 0 R",c+=" /P "+p.objId+" 0 R",c+=" /T ("+w(E(M))+") >>",A.content=c;var P=A.objId+" 0 R";c="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+d(o.bounds.x+30)+" "+f(o.bounds.y+o.bounds.h)+" "+d(o.bounds.x+o.bounds.w+30)+" "+f(o.bounds.y)+"] ")+" /Parent "+P,o.open&&(c+=" /Open true"),c+=" >>",D.content=c,this.internal.write(A.objId,"0 R",D.objId,"0 R");break;case"freetext":a="/Rect ["+d(o.bounds.x)+" "+f(o.bounds.y)+" "+d(o.bounds.x+o.bounds.w)+" "+f(o.bounds.y+o.bounds.h)+"] ";var F=o.color||"#000000";c="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+w(x(o.contents))+")",c+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",c+=" /Border [0 0 0]",c+=" >>",this.internal.write(c);break;case"link":if(o.options.name){var H=this.annotations._nameMap[o.options.name];o.options.pageNumber=H.page,o.options.top=H.y}else o.options.top||(o.options.top=0);if(a="/Rect ["+o.finalBounds.x+" "+o.finalBounds.y+" "+o.finalBounds.w+" "+o.finalBounds.h+"] ",c="",o.options.url)c="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+w(x(o.options.url))+") >>";else if(o.options.pageNumber)switch(c="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(o.options.pageNumber).objId+" 0 R",o.options.magFactor=o.options.magFactor||"XYZ",o.options.magFactor){case"Fit":c+=" /Fit]";break;case"FitH":c+=" /FitH "+o.options.top+"]";break;case"FitV":o.options.left=o.options.left||0,c+=" /FitV "+o.options.left+"]";break;case"XYZ":default:var V=f(o.options.top);o.options.left=o.options.left||0,o.options.zoom===void 0&&(o.options.zoom=0),c+=" /XYZ "+o.options.left+" "+V+" "+o.options.zoom+"]"}c!=""&&(c+=" >>",this.internal.write(c))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var o=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":o.pageContext.annotations.push(n)}},t.link=function(n,o,a,c,d){var f=this.internal.getCurrentPageInfo(),p=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString;f.pageContext.annotations.push({finalBounds:{x:p(n),y:g(o),w:p(n+a),h:g(o+c)},options:d,type:"link"})},t.textWithLink=function(n,o,a,c){var d,f,p=this.getTextWidth(n),g=this.internal.getLineHeight()/this.internal.scaleFactor;if(c.maxWidth!==void 0){f=c.maxWidth;var k=this.splitTextToSize(n,f).length;d=Math.ceil(g*k)}else f=p,d=g;return this.text(n,o,a,c),a+=.2*g,c.align==="center"&&(o-=p/2),c.align==="right"&&(o-=p),this.link(o,a-g,f,d,c),p},t.getTextWidth=function(n){var o=this.internal.getFontSize();return this.getStringUnitWidth(n)*o/this.internal.scaleFactor}}(sn.API),function(t){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},o={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var c=t.__arabicParser__.isInArabicSubstitutionA=function(A){return r[A.charCodeAt(0)]!==void 0},d=t.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},f=t.__arabicParser__.isArabicEndLetter=function(A){return d(A)&&c(A)&&r[A.charCodeAt(0)].length<=2},p=t.__arabicParser__.isArabicAlfLetter=function(A){return d(A)&&a.indexOf(A.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return d(A)&&c(A)&&r[A.charCodeAt(0)].length>=1};var g=t.__arabicParser__.arabicLetterHasFinalForm=function(A){return d(A)&&c(A)&&r[A.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(A){return d(A)&&c(A)&&r[A.charCodeAt(0)].length>=3};var k=t.__arabicParser__.arabicLetterHasMedialForm=function(A){return d(A)&&c(A)&&r[A.charCodeAt(0)].length==4},v=t.__arabicParser__.resolveLigatures=function(A){var D=0,E=n,M="",P=0;for(D=0;D<A.length;D+=1)E[A.charCodeAt(D)]!==void 0?(P++,typeof(E=E[A.charCodeAt(D)])=="number"&&(M+=String.fromCharCode(E),E=n,P=0),D===A.length-1&&(E=n,M+=A.charAt(D-(P-1)),D-=P-1,P=0)):(E=n,M+=A.charAt(D-P),D-=P,P=0);return M};t.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&o[A.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(A,D,E){return d(A)?c(A)===!1?-1:!g(A)||!d(D)&&!d(E)||!d(E)&&f(D)||f(A)&&!d(D)||f(A)&&p(D)||f(A)&&f(D)?0:k(A)&&d(D)&&!f(D)&&d(E)&&g(E)?3:f(A)||!d(E)?1:2:-1},w=function(A){var D=0,E=0,M=0,P="",F="",H="",V=(A=A||"").split("\\s+"),N=[];for(D=0;D<V.length;D+=1){for(N.push(""),E=0;E<V[D].length;E+=1)P=V[D][E],F=V[D][E-1],H=V[D][E+1],d(P)?(M=y(P,F,H),N[D]+=M!==-1?String.fromCharCode(r[P.charCodeAt(0)][M]):P):N[D]+=P;N[D]=v(N[D])}return N.join(" ")},x=t.__arabicParser__.processArabic=t.processArabic=function(){var A,D=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(D)){var M=0;for(E=[],M=0;M<D.length;M+=1)Array.isArray(D[M])?E.push([w(D[M][0]),D[M][1],D[M][2]]):E.push([w(D[M])]);A=E}else A=w(D);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};t.events.push(["preProcessText",x])}(sn.API),sn.API.autoPrint=function(t){var r;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})}return this},function(t){var r=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(f){n=f}});var o=150;Object.defineProperty(this,"width",{get:function(){return o},set:function(f){o=isNaN(f)||Number.isInteger(f)===!1||f<0?150:f,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=o+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(f){a=isNaN(f)||Number.isInteger(f)===!1||f<0?300:f,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var c=[];Object.defineProperty(this,"childNodes",{get:function(){return c},set:function(f){c=f}});var d={};Object.defineProperty(this,"style",{get:function(){return d},set:function(f){d=f}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(n,o){var a;if((n=n||"2d")!=="2d")return null;for(a in o)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=o[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])}(sn.API),function(t){var r={left:0,top:0,bottom:0,right:0},n=!1,o=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new c,this.internal.__cell__.pages=1},c=function(){var p=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return p},set:function(A){p=A}});var g=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return g},set:function(A){g=A}});var k=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return k},set:function(A){k=A}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(A){v=A}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(A){y=A}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(A){w=A}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(A){x=A}}),this};c.prototype.clone=function(){return new c(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},c.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(p){return o.call(this),this.internal.__cell__.headerFunction=typeof p=="function"?p:void 0,this},t.getTextDimensions=function(p,g){o.call(this);var k=(g=g||{}).fontSize||this.getFontSize(),v=g.font||this.getFont(),y=g.scaleFactor||this.internal.scaleFactor,w=0,x=0,A=0,D=this;if(!Array.isArray(p)&&typeof p!="string"){if(typeof p!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");p=String(p)}var E=g.maxWidth;E>0?typeof p=="string"?p=this.splitTextToSize(p,E):Object.prototype.toString.call(p)==="[object Array]"&&(p=p.reduce(function(P,F){return P.concat(D.splitTextToSize(F,E))},[])):p=Array.isArray(p)?p:[p];for(var M=0;M<p.length;M++)w<(A=this.getStringUnitWidth(p[M],{font:v})*k)&&(w=A);return w!==0&&(x=p.length),{w:w/=y,h:Math.max((x*k*this.getLineHeightFactor()-k*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){o.call(this),this.addPage();var p=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new c(p.left,p.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var d=t.cell=function(){var p;p=arguments[0]instanceof c?arguments[0]:new c(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),o.call(this);var g=this.internal.__cell__.lastCell,k=this.internal.__cell__.padding,v=this.internal.__cell__.margins||r,y=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return g.lineNumber!==void 0&&(g.lineNumber===p.lineNumber?(p.x=(g.x||0)+(g.width||0),p.y=g.y||0):g.y+g.height+p.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),p.y=v.top,w&&y&&(this.printHeaderRow(p.lineNumber,!0),p.y+=y[0].height)):p.y=g.y+g.height||p.y),p.text[0]!==void 0&&(this.rect(p.x,p.y,p.width,p.height,n===!0?"FD":void 0),p.align==="right"?this.text(p.text,p.x+p.width-k,p.y+k,{align:"right",baseline:"top"}):p.align==="center"?this.text(p.text,p.x+p.width/2,p.y+k,{align:"center",baseline:"top",maxWidth:p.width-k-k}):this.text(p.text,p.x+k,p.y+k,{align:"left",baseline:"top",maxWidth:p.width-k-k})),this.internal.__cell__.lastCell=p,this};t.table=function(p,g,k,v,y){if(o.call(this),!k)throw new Error("No data for PDF table.");var w,x,A,D,E=[],M=[],P=[],F={},H={},V=[],N=[],j=(y=y||{}).autoSize||!1,q=y.printHeaders!==!1,Q=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,$=y.margins||Object.assign({width:this.getPageWidth()},r),R=typeof y.padding=="number"?y.padding:3,Y=y.headerBackgroundColor||"#c8c8c8",B=y.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=q,this.internal.__cell__.margins=$,this.internal.__cell__.table_font_size=Q,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=Y,this.internal.__cell__.headerTextColor=B,this.setFontSize(Q),v==null)M=E=Object.keys(k[0]),P=E.map(function(){return"left"});else if(Array.isArray(v)&&hr(v[0])==="object")for(E=v.map(function(re){return re.name}),M=v.map(function(re){return re.prompt||re.name||""}),P=v.map(function(re){return re.align||"left"}),w=0;w<v.length;w+=1)H[v[w].name]=v[w].width*(19.049976/25.4);else Array.isArray(v)&&typeof v[0]=="string"&&(M=E=v,P=E.map(function(){return"left"}));if(j||Array.isArray(v)&&typeof v[0]=="string")for(w=0;w<E.length;w+=1){for(F[D=E[w]]=k.map(function(re){return re[D]}),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(M[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=F[D],this.setFont(void 0,"normal"),A=0;A<x.length;A+=1)V.push(this.getTextDimensions(x[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);H[D]=Math.max.apply(null,V)+R+R,V=[]}if(q){var ne={};for(w=0;w<E.length;w+=1)ne[E[w]]={},ne[E[w]].text=M[w],ne[E[w]].align=P[w];var de=f.call(this,ne,H);N=E.map(function(re){return new c(p,g,H[re],de,ne[re].text,void 0,ne[re].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var ae=v.reduce(function(re,xe){return re[xe.name]=xe.align,re},{});for(w=0;w<k.length;w+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:w,data:k[w]},this);var oe=f.call(this,k[w],H);for(A=0;A<E.length;A+=1){var ye=k[w][E[A]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:w,col:A,data:ye},this),d.call(this,new c(p,g,H[E[A]],oe,ye,w+2,ae[E[A]]))}}return this.internal.__cell__.table_x=p,this.internal.__cell__.table_y=g,this};var f=function(p,g){var k=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(p).map(function(w){var x=p[w];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,g[w]-k-k)},this).map(function(w){return this.getLineHeightFactor()*w.length*v/y+k+k},this).reduce(function(w,x){return Math.max(w,x)},0)};t.setTableHeaderRow=function(p){o.call(this),this.internal.__cell__.tableHeaderRow=p},t.printHeaderRow=function(p,g){if(o.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var k;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new c(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){k=this.internal.__cell__.tableHeaderRow[w].clone(),g&&(k.y=this.internal.__cell__.margins.top||0,y.push(k)),k.lineNumber=p;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),d.call(this,k),this.setTextColor(x)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),n=!1}}(sn.API);var ZO={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},XO=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],V_=JO(XO),e8=[100,200,300,400,500,600,700,800,900],Lee=JO(e8);function H_(t){var r=t.family.replace(/"|'/g,"").toLowerCase(),n=function(c){return ZO[c=c||"normal"]?c:"normal"}(t.style),o=function(c){if(!c)return 400;if(typeof c=="number")return c>=100&&c<=900&&c%100==0?c:400;if(/^\d00$/.test(c))return parseInt(c);switch(c){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(c){return typeof V_[c=c||"normal"]=="number"?c:"normal"}(t.stretch);return{family:r,style:n,weight:o,stretch:a,src:t.src||[],ref:t.ref||{name:r,style:[a,n,o].join(" ")}}}function v6(t,r,n,o){var a;for(a=n;a>=0&&a<r.length;a+=o)if(t[r[a]])return t[r[a]];for(a=n;a>=0&&a<r.length;a-=o)if(t[r[a]])return t[r[a]]}var Bee={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},_6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function A6(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function jee(t,r,n){for(var o=(n=n||{}).defaultFontFamily||"times",a=Object.assign({},Bee,n.genericFontFamilies||{}),c=null,d=null,f=0;f<r.length;++f)if(a[(c=H_(r[f])).family]&&(c.family=a[c.family]),t.hasOwnProperty(c.family)){d=t[c.family];break}if(!(d=d||t[o]))throw new Error("Could not find a font-family for the rule '"+A6(c)+"' and default family '"+o+"'.");if(d=function(p,g){if(g[p])return g[p];var k=V_[p],v=k<=V_.normal?-1:1,y=v6(g,XO,k,v);if(!y)throw new Error("Could not find a matching font-stretch value for "+p);return y}(c.stretch,d),d=function(p,g){if(g[p])return g[p];for(var k=ZO[p],v=0;v<k.length;++v)if(g[k[v]])return g[k[v]];throw new Error("Could not find a matching font-style for "+p)}(c.style,d),!(d=function(p,g){if(g[p])return g[p];if(p===400&&g[500])return g[500];if(p===500&&g[400])return g[400];var k=Lee[p],v=v6(g,e8,k,p<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+p);return v}(c.weight,d)))throw new Error("Failed to resolve a font for the rule '"+A6(c)+"'.");return d}function C6(t){return t.trimLeft()}function Ree(t,r){for(var n=0;n<t.length;){if(t.charAt(n)===r)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Fee(t){var r=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],t.substring(r[0].length)]}var $0,x6,S6,Ov=["times"];(function(t){var r,n,o,a,c,d,f,p,g,k=function(X){return X=X||{},this.isStrokeTransparent=X.isStrokeTransparent||!1,this.strokeOpacity=X.strokeOpacity||1,this.strokeStyle=X.strokeStyle||"#000000",this.fillStyle=X.fillStyle||"#000000",this.isFillTransparent=X.isFillTransparent||!1,this.fillOpacity=X.fillOpacity||1,this.font=X.font||"10px sans-serif",this.textBaseline=X.textBaseline||"alphabetic",this.textAlign=X.textAlign||"left",this.lineWidth=X.lineWidth||1,this.lineJoin=X.lineJoin||"miter",this.lineCap=X.lineCap||"butt",this.path=X.path||[],this.transform=X.transform!==void 0?X.transform.clone():new p,this.globalCompositeOperation=X.globalCompositeOperation||"normal",this.globalAlpha=X.globalAlpha||1,this.clip_path=X.clip_path||[],this.currentPoint=X.currentPoint||new d,this.miterLimit=X.miterLimit||10,this.lastPoint=X.lastPoint||new d,this.lineDashOffset=X.lineDashOffset||0,this.lineDash=X.lineDash||[],this.margin=X.margin||[0,0,0,0],this.prevPageLastElemOffset=X.prevPageLastElemOffset||0,this.ignoreClearRect=typeof X.ignoreClearRect!="boolean"||X.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new v(this),r=this.internal.f2,n=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,c=this.internal.getVerticalCoordinate,d=this.internal.Point,f=this.internal.Rectangle,p=this.internal.Matrix,g=new k}]);var v=function(X){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Z=X;Object.defineProperty(this,"pdf",{get:function(){return Z}});var se=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return se},set:function(Ce){se=!!Ce}});var pe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return pe},set:function(Ce){pe=!!Ce}});var we=0;Object.defineProperty(this,"posX",{get:function(){return we},set:function(Ce){isNaN(Ce)||(we=Ce)}});var Pe=0;Object.defineProperty(this,"posY",{get:function(){return Pe},set:function(Ce){isNaN(Ce)||(Pe=Ce)}}),Object.defineProperty(this,"margin",{get:function(){return g.margin},set:function(Ce){var ue;typeof Ce=="number"?ue=[Ce,Ce,Ce,Ce]:((ue=new Array(4))[0]=Ce[0],ue[1]=Ce.length>=2?Ce[1]:ue[0],ue[2]=Ce.length>=3?Ce[2]:ue[0],ue[3]=Ce.length>=4?Ce[3]:ue[1]),g.margin=ue}});var Te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Te},set:function(Ce){Te=Ce}});var Ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ne},set:function(Ce){Ne=Ce}});var rt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return rt},set:function(Ce){rt=Ce}}),Object.defineProperty(this,"ctx",{get:function(){return g},set:function(Ce){Ce instanceof k&&(g=Ce)}}),Object.defineProperty(this,"path",{get:function(){return g.path},set:function(Ce){g.path=Ce}});var Ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ke},set:function(Ce){Ke=Ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ce){var ue;ue=y(Ce),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ce){var ue=y(Ce);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ce){["butt","round","square"].indexOf(Ce)!==-1&&(this.ctx.lineCap=Ce,this.pdf.setLineCap(Ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ce){isNaN(Ce)||(this.ctx.lineWidth=Ce,this.pdf.setLineWidth(Ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ce){["bevel","round","miter"].indexOf(Ce)!==-1&&(this.ctx.lineJoin=Ce,this.pdf.setLineJoin(Ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ce){isNaN(Ce)||(this.ctx.miterLimit=Ce,this.pdf.setMiterLimit(Ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ce){this.ctx.textBaseline=Ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ce){["right","end","center","left","start"].indexOf(Ce)!==-1&&(this.ctx.textAlign=Ce)}});var Qe=null;function ze(Ce,ue){if(Qe===null){var ge=function(he){var _e=[];return Object.keys(he).forEach(function(Me){he[Me].forEach(function(Ie){var Ae=null;switch(Ie){case"bold":Ae={family:Me,weight:"bold"};break;case"italic":Ae={family:Me,style:"italic"};break;case"bolditalic":Ae={family:Me,weight:"bold",style:"italic"};break;case"":case"normal":Ae={family:Me}}Ae!==null&&(Ae.ref={name:Me,style:Ie},_e.push(Ae))})}),_e}(Ce.getFontList());Qe=function(he){for(var _e={},Me=0;Me<he.length;++Me){var Ie=H_(he[Me]),Ae=Ie.family,Oe=Ie.stretch,Ge=Ie.style,Xe=Ie.weight;_e[Ae]=_e[Ae]||{},_e[Ae][Oe]=_e[Ae][Oe]||{},_e[Ae][Oe][Ge]=_e[Ae][Oe][Ge]||{},_e[Ae][Oe][Ge][Xe]=Ie}return _e}(ge.concat(ue))}return Qe}var J=null;Object.defineProperty(this,"fontFaces",{get:function(){return J},set:function(Ce){Qe=null,J=Ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ce){var ue;if(this.ctx.font=Ce,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ce))!==null){var ge=ue[1];ue[2];var he=ue[3],_e=ue[4];ue[5];var Me=ue[6],Ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(_e)[2];_e=Math.floor(Ie==="px"?parseFloat(_e)*this.pdf.internal.scaleFactor:Ie==="em"?parseFloat(_e)*this.pdf.getFontSize():parseFloat(_e)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(_e);var Ae=function(Ye){var St,ht,tn=[],pt=Ye.trim();if(pt==="")return Ov;if(pt in _6)return[_6[pt]];for(;pt!=="";){switch(ht=null,St=(pt=C6(pt)).charAt(0)){case'"':case"'":ht=Ree(pt.substring(1),St);break;default:ht=Fee(pt)}if(ht===null||(tn.push(ht[0]),(pt=C6(ht[1]))!==""&&pt.charAt(0)!==","))return Ov;pt=pt.replace(/^,/,"")}return tn}(Me);if(this.fontFaces){var Oe=jee(ze(this.pdf,this.fontFaces),Ae.map(function(Ye){return{family:Ye,stretch:"normal",weight:he,style:ge}}));this.pdf.setFont(Oe.ref.name,Oe.ref.style)}else{var Ge="";(he==="bold"||parseInt(he,10)>=700||ge==="bold")&&(Ge="bold"),ge==="italic"&&(Ge+="italic"),Ge.length===0&&(Ge="normal");for(var Xe="",dt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ue=0;Ue<Ae.length;Ue++){if(this.pdf.internal.getFont(Ae[Ue],Ge,{noFallback:!0,disableWarning:!0})!==void 0){Xe=Ae[Ue];break}if(Ge==="bolditalic"&&this.pdf.internal.getFont(Ae[Ue],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Xe=Ae[Ue],Ge="bold";else if(this.pdf.internal.getFont(Ae[Ue],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Xe=Ae[Ue],Ge="normal";break}}if(Xe===""){for(var We=0;We<Ae.length;We++)if(dt[Ae[We]]){Xe=dt[Ae[We]];break}}Xe=Xe===""?"Times":Xe,this.pdf.setFont(Xe,Ge)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ce){this.ctx.globalCompositeOperation=Ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ce){this.ctx.globalAlpha=Ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ce){this.ctx.lineDashOffset=Ce,xe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ce){this.ctx.lineDash=Ce,xe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ce){this.ctx.ignoreClearRect=!!Ce}})};v.prototype.setLineDash=function(X){this.lineDash=X},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){F.call(this,"fill",!1)},v.prototype.stroke=function(){F.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(X,Z){if(isNaN(X)||isNaN(Z))throw yr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var se=this.ctx.transform.applyToPoint(new d(X,Z));this.path.push({type:"mt",x:se.x,y:se.y}),this.ctx.lastPoint=new d(X,Z)},v.prototype.closePath=function(){var X=new d(0,0),Z=0;for(Z=this.path.length-1;Z!==-1;Z--)if(this.path[Z].type==="begin"&&hr(this.path[Z+1])==="object"&&typeof this.path[Z+1].x=="number"){X=new d(this.path[Z+1].x,this.path[Z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new d(X.x,X.y)},v.prototype.lineTo=function(X,Z){if(isNaN(X)||isNaN(Z))throw yr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var se=this.ctx.transform.applyToPoint(new d(X,Z));this.path.push({type:"lt",x:se.x,y:se.y}),this.ctx.lastPoint=new d(se.x,se.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},v.prototype.quadraticCurveTo=function(X,Z,se,pe){if(isNaN(se)||isNaN(pe)||isNaN(X)||isNaN(Z))throw yr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var we=this.ctx.transform.applyToPoint(new d(se,pe)),Pe=this.ctx.transform.applyToPoint(new d(X,Z));this.path.push({type:"qct",x1:Pe.x,y1:Pe.y,x:we.x,y:we.y}),this.ctx.lastPoint=new d(we.x,we.y)},v.prototype.bezierCurveTo=function(X,Z,se,pe,we,Pe){if(isNaN(we)||isNaN(Pe)||isNaN(X)||isNaN(Z)||isNaN(se)||isNaN(pe))throw yr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Te=this.ctx.transform.applyToPoint(new d(we,Pe)),Ne=this.ctx.transform.applyToPoint(new d(X,Z)),rt=this.ctx.transform.applyToPoint(new d(se,pe));this.path.push({type:"bct",x1:Ne.x,y1:Ne.y,x2:rt.x,y2:rt.y,x:Te.x,y:Te.y}),this.ctx.lastPoint=new d(Te.x,Te.y)},v.prototype.arc=function(X,Z,se,pe,we,Pe){if(isNaN(X)||isNaN(Z)||isNaN(se)||isNaN(pe)||isNaN(we))throw yr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Pe=!!Pe,!this.ctx.transform.isIdentity){var Te=this.ctx.transform.applyToPoint(new d(X,Z));X=Te.x,Z=Te.y;var Ne=this.ctx.transform.applyToPoint(new d(0,se)),rt=this.ctx.transform.applyToPoint(new d(0,0));se=Math.sqrt(Math.pow(Ne.x-rt.x,2)+Math.pow(Ne.y-rt.y,2))}Math.abs(we-pe)>=2*Math.PI&&(pe=0,we=2*Math.PI),this.path.push({type:"arc",x:X,y:Z,radius:se,startAngle:pe,endAngle:we,counterclockwise:Pe})},v.prototype.arcTo=function(X,Z,se,pe,we){throw new Error("arcTo not implemented.")},v.prototype.rect=function(X,Z,se,pe){if(isNaN(X)||isNaN(Z)||isNaN(se)||isNaN(pe))throw yr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(X,Z),this.lineTo(X+se,Z),this.lineTo(X+se,Z+pe),this.lineTo(X,Z+pe),this.lineTo(X,Z),this.lineTo(X+se,Z),this.lineTo(X,Z)},v.prototype.fillRect=function(X,Z,se,pe){if(isNaN(X)||isNaN(Z)||isNaN(se)||isNaN(pe))throw yr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var we={};this.lineCap!=="butt"&&(we.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(we.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(X,Z,se,pe),this.fill(),we.hasOwnProperty("lineCap")&&(this.lineCap=we.lineCap),we.hasOwnProperty("lineJoin")&&(this.lineJoin=we.lineJoin)}},v.prototype.strokeRect=function(X,Z,se,pe){if(isNaN(X)||isNaN(Z)||isNaN(se)||isNaN(pe))throw yr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(X,Z,se,pe),this.stroke())},v.prototype.clearRect=function(X,Z,se,pe){if(isNaN(X)||isNaN(Z)||isNaN(se)||isNaN(pe))throw yr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(X,Z,se,pe))},v.prototype.save=function(X){X=typeof X!="boolean"||X;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("q");if(this.pdf.setPage(Z),X){this.ctx.fontSize=this.pdf.internal.getFontSize();var pe=new k(this.ctx);this.ctxStack.push(this.ctx),this.ctx=pe}},v.prototype.restore=function(X){X=typeof X!="boolean"||X;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("Q");this.pdf.setPage(Z),X&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(X){var Z,se,pe,we;if(X.isCanvasGradient===!0&&(X=X.getColor()),!X)return{r:0,g:0,b:0,a:0,style:X};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(X))Z=0,se=0,pe=0,we=0;else{var Pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(X);if(Pe!==null)Z=parseInt(Pe[1]),se=parseInt(Pe[2]),pe=parseInt(Pe[3]),we=1;else if((Pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(X))!==null)Z=parseInt(Pe[1]),se=parseInt(Pe[2]),pe=parseInt(Pe[3]),we=parseFloat(Pe[4]);else{if(we=1,typeof X=="string"&&X.charAt(0)!=="#"){var Te=new $O(X);X=Te.ok?Te.toHex():"#000000"}X.length===4?(Z=X.substring(1,2),Z+=Z,se=X.substring(2,3),se+=se,pe=X.substring(3,4),pe+=pe):(Z=X.substring(1,3),se=X.substring(3,5),pe=X.substring(5,7)),Z=parseInt(Z,16),se=parseInt(se,16),pe=parseInt(pe,16)}}return{r:Z,g:se,b:pe,a:we,style:X}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(X,Z,se,pe){if(isNaN(Z)||isNaN(se)||typeof X!="string")throw yr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(pe=isNaN(pe)?void 0:pe,!w.call(this)){var we=oe(this.ctx.transform.rotation),Pe=this.ctx.transform.scaleX;R.call(this,{text:X,x:Z,y:se,scale:Pe,angle:we,align:this.textAlign,maxWidth:pe})}},v.prototype.strokeText=function(X,Z,se,pe){if(isNaN(Z)||isNaN(se)||typeof X!="string")throw yr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){pe=isNaN(pe)?void 0:pe;var we=oe(this.ctx.transform.rotation),Pe=this.ctx.transform.scaleX;R.call(this,{text:X,x:Z,y:se,scale:Pe,renderingMode:"stroke",angle:we,align:this.textAlign,maxWidth:pe})}},v.prototype.measureText=function(X){if(typeof X!="string")throw yr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Z=this.pdf,se=this.pdf.internal.scaleFactor,pe=Z.internal.getFontSize(),we=Z.getStringUnitWidth(X)*pe/Z.internal.scaleFactor,Pe=function(Te){var Ne=(Te=Te||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ne}}),this};return new Pe({width:we*=Math.round(96*se/72*1e4)/1e4})},v.prototype.scale=function(X,Z){if(isNaN(X)||isNaN(Z))throw yr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var se=new p(X,0,0,Z,0,0);this.ctx.transform=this.ctx.transform.multiply(se)},v.prototype.rotate=function(X){if(isNaN(X))throw yr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Z=new p(Math.cos(X),Math.sin(X),-Math.sin(X),Math.cos(X),0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},v.prototype.translate=function(X,Z){if(isNaN(X)||isNaN(Z))throw yr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var se=new p(1,0,0,1,X,Z);this.ctx.transform=this.ctx.transform.multiply(se)},v.prototype.transform=function(X,Z,se,pe,we,Pe){if(isNaN(X)||isNaN(Z)||isNaN(se)||isNaN(pe)||isNaN(we)||isNaN(Pe))throw yr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Te=new p(X,Z,se,pe,we,Pe);this.ctx.transform=this.ctx.transform.multiply(Te)},v.prototype.setTransform=function(X,Z,se,pe,we,Pe){X=isNaN(X)?1:X,Z=isNaN(Z)?0:Z,se=isNaN(se)?0:se,pe=isNaN(pe)?1:pe,we=isNaN(we)?0:we,Pe=isNaN(Pe)?0:Pe,this.ctx.transform=new p(X,Z,se,pe,we,Pe)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(X,Z,se,pe,we,Pe,Te,Ne,rt){var Ke=this.pdf.getImageProperties(X),Qe=1,ze=1,J=1,Ce=1;pe!==void 0&&Ne!==void 0&&(J=Ne/pe,Ce=rt/we,Qe=Ke.width/pe*Ne/pe,ze=Ke.height/we*rt/we),Pe===void 0&&(Pe=Z,Te=se,Z=0,se=0),pe!==void 0&&Ne===void 0&&(Ne=pe,rt=we),pe===void 0&&Ne===void 0&&(Ne=Ke.width,rt=Ke.height);for(var ue,ge=this.ctx.transform.decompose(),he=oe(ge.rotate.shx),_e=new p,Me=(_e=(_e=(_e=_e.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale)).applyToRectangle(new f(Pe-Z*J,Te-se*Ce,pe*Qe,we*ze)),Ie=D.call(this,Me),Ae=[],Oe=0;Oe<Ie.length;Oe+=1)Ae.indexOf(Ie[Oe])===-1&&Ae.push(Ie[Oe]);if(P(Ae),this.autoPaging)for(var Ge=Ae[0],Xe=Ae[Ae.length-1],dt=Ge;dt<Xe+1;dt++){this.pdf.setPage(dt);var Ue=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],We=dt===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=dt===1?0:Ye+(dt-2)*St;if(this.ctx.clip_path.length!==0){var tn=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(ue,this.posX+this.margin[3],-ht+We+this.ctx.prevPageLastElemOffset),H.call(this,"fill",!0),this.path=tn}var pt=JSON.parse(JSON.stringify(Me));pt=M([pt],this.posX+this.margin[3],-ht+We+this.ctx.prevPageLastElemOffset)[0];var Vt=(dt>Ge||dt<Xe)&&A.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,St,null).clip().discardPath()),this.pdf.addImage(X,"JPEG",pt.x,pt.y,pt.w,pt.h,null,null,he),Vt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(X,"JPEG",Me.x,Me.y,Me.w,Me.h,null,null,he)};var D=function(X,Z,se){var pe=[];Z=Z||this.pdf.internal.pageSize.width,se=se||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var we=this.posY+this.ctx.prevPageLastElemOffset;switch(X.type){default:case"mt":case"lt":pe.push(Math.floor((X.y+we)/se)+1);break;case"arc":pe.push(Math.floor((X.y+we-X.radius)/se)+1),pe.push(Math.floor((X.y+we+X.radius)/se)+1);break;case"qct":var Pe=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,X.x1,X.y1,X.x,X.y);pe.push(Math.floor((Pe.y+we)/se)+1),pe.push(Math.floor((Pe.y+Pe.h+we)/se)+1);break;case"bct":var Te=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,X.x1,X.y1,X.x2,X.y2,X.x,X.y);pe.push(Math.floor((Te.y+we)/se)+1),pe.push(Math.floor((Te.y+Te.h+we)/se)+1);break;case"rect":pe.push(Math.floor((X.y+we)/se)+1),pe.push(Math.floor((X.y+X.h+we)/se)+1)}for(var Ne=0;Ne<pe.length;Ne+=1)for(;this.pdf.internal.getNumberOfPages()<pe[Ne];)E.call(this);return pe},E=function(){var X=this.fillStyle,Z=this.strokeStyle,se=this.font,pe=this.lineCap,we=this.lineWidth,Pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=X,this.strokeStyle=Z,this.font=se,this.lineCap=pe,this.lineWidth=we,this.lineJoin=Pe},M=function(X,Z,se){for(var pe=0;pe<X.length;pe++)switch(X[pe].type){case"bct":X[pe].x2+=Z,X[pe].y2+=se;case"qct":X[pe].x1+=Z,X[pe].y1+=se;case"mt":case"lt":case"arc":default:X[pe].x+=Z,X[pe].y+=se}return X},P=function(X){return X.sort(function(Z,se){return Z-se})},F=function(X,Z){for(var se,pe,we=this.fillStyle,Pe=this.strokeStyle,Te=this.lineCap,Ne=this.lineWidth,rt=Math.abs(Ne*this.ctx.transform.scaleX),Ke=this.lineJoin,Qe=JSON.parse(JSON.stringify(this.path)),ze=JSON.parse(JSON.stringify(this.path)),J=[],Ce=0;Ce<ze.length;Ce++)if(ze[Ce].x!==void 0)for(var ue=D.call(this,ze[Ce]),ge=0;ge<ue.length;ge+=1)J.indexOf(ue[ge])===-1&&J.push(ue[ge]);for(var he=0;he<J.length;he++)for(;this.pdf.internal.getNumberOfPages()<J[he];)E.call(this);if(P(J),this.autoPaging)for(var _e=J[0],Me=J[J.length-1],Ie=_e;Ie<Me+1;Ie++){this.pdf.setPage(Ie),this.fillStyle=we,this.strokeStyle=Pe,this.lineCap=Te,this.lineWidth=rt,this.lineJoin=Ke;var Ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Oe=Ie===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=Ie===1?0:Ge+(Ie-2)*Xe;if(this.ctx.clip_path.length!==0){var Ue=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(se,this.posX+this.margin[3],-dt+Oe+this.ctx.prevPageLastElemOffset),H.call(this,X,!0),this.path=Ue}if(pe=JSON.parse(JSON.stringify(Qe)),this.path=M(pe,this.posX+this.margin[3],-dt+Oe+this.ctx.prevPageLastElemOffset),Z===!1||Ie===0){var We=(Ie>_e||Ie<Me)&&A.call(this);We&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ae,Xe,null).clip().discardPath()),H.call(this,X,Z),We&&this.pdf.restoreGraphicsState()}this.lineWidth=Ne}else this.lineWidth=rt,H.call(this,X,Z),this.lineWidth=Ne;this.path=Qe},H=function(X,Z){if((X!=="stroke"||Z||!x.call(this))&&(X==="stroke"||Z||!w.call(this))){for(var se,pe,we=[],Pe=this.path,Te=0;Te<Pe.length;Te++){var Ne=Pe[Te];switch(Ne.type){case"begin":we.push({begin:!0});break;case"close":we.push({close:!0});break;case"mt":we.push({start:Ne,deltas:[],abs:[]});break;case"lt":var rt=we.length;if(Pe[Te-1]&&!isNaN(Pe[Te-1].x)&&(se=[Ne.x-Pe[Te-1].x,Ne.y-Pe[Te-1].y],rt>0)){for(;rt>=0;rt--)if(we[rt-1].close!==!0&&we[rt-1].begin!==!0){we[rt-1].deltas.push(se),we[rt-1].abs.push(Ne);break}}break;case"bct":se=[Ne.x1-Pe[Te-1].x,Ne.y1-Pe[Te-1].y,Ne.x2-Pe[Te-1].x,Ne.y2-Pe[Te-1].y,Ne.x-Pe[Te-1].x,Ne.y-Pe[Te-1].y],we[we.length-1].deltas.push(se);break;case"qct":var Ke=Pe[Te-1].x+2/3*(Ne.x1-Pe[Te-1].x),Qe=Pe[Te-1].y+2/3*(Ne.y1-Pe[Te-1].y),ze=Ne.x+2/3*(Ne.x1-Ne.x),J=Ne.y+2/3*(Ne.y1-Ne.y),Ce=Ne.x,ue=Ne.y;se=[Ke-Pe[Te-1].x,Qe-Pe[Te-1].y,ze-Pe[Te-1].x,J-Pe[Te-1].y,Ce-Pe[Te-1].x,ue-Pe[Te-1].y],we[we.length-1].deltas.push(se);break;case"arc":we.push({deltas:[],abs:[],arc:!0}),Array.isArray(we[we.length-1].abs)&&we[we.length-1].abs.push(Ne)}}pe=Z?null:X==="stroke"?"stroke":"fill";for(var ge=!1,he=0;he<we.length;he++)if(we[he].arc)for(var _e=we[he].abs,Me=0;Me<_e.length;Me++){var Ie=_e[Me];Ie.type==="arc"?j.call(this,Ie.x,Ie.y,Ie.radius,Ie.startAngle,Ie.endAngle,Ie.counterclockwise,void 0,Z,!ge):Y.call(this,Ie.x,Ie.y),ge=!0}else if(we[he].close===!0)this.pdf.internal.out("h"),ge=!1;else if(we[he].begin!==!0){var Ae=we[he].start.x,Oe=we[he].start.y;B.call(this,we[he].deltas,Ae,Oe),ge=!0}pe&&q.call(this,pe),Z&&Q.call(this)}},V=function(X){var Z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,se=Z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return X-se;case"top":return X+Z-se;case"hanging":return X+Z-2*se;case"middle":return X+Z/2-se;case"ideographic":return X;case"alphabetic":default:return X}},N=function(X){return X+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var X=function(){};return X.colorStops=[],X.addColorStop=function(Z,se){this.colorStops.push([Z,se])},X.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},X.isCanvasGradient=!0,X},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(X,Z,se,pe,we,Pe,Te,Ne,rt){for(var Ke=de.call(this,se,pe,we,Pe),Qe=0;Qe<Ke.length;Qe++){var ze=Ke[Qe];Qe===0&&(rt?$.call(this,ze.x1+X,ze.y1+Z):Y.call(this,ze.x1+X,ze.y1+Z)),ne.call(this,X,Z,ze.x2,ze.y2,ze.x3,ze.y3,ze.x4,ze.y4)}Ne?Q.call(this):q.call(this,Te)},q=function(X){switch(X){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Q=function(){this.pdf.clip(),this.pdf.discardPath()},$=function(X,Z){this.pdf.internal.out(n(X)+" "+o(Z)+" m")},R=function(X){var Z;switch(X.align){case"right":case"end":Z="right";break;case"center":Z="center";break;case"left":case"start":default:Z="left"}var se=this.pdf.getTextDimensions(X.text),pe=V.call(this,X.y),we=N.call(this,pe)-se.h,Pe=this.ctx.transform.applyToPoint(new d(X.x,pe)),Te=this.ctx.transform.decompose(),Ne=new p;Ne=(Ne=(Ne=Ne.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale);for(var rt,Ke,Qe,ze=this.ctx.transform.applyToRectangle(new f(X.x,pe,se.w,se.h)),J=Ne.applyToRectangle(new f(X.x,we,se.w,se.h)),Ce=D.call(this,J),ue=[],ge=0;ge<Ce.length;ge+=1)ue.indexOf(Ce[ge])===-1&&ue.push(Ce[ge]);if(P(ue),this.autoPaging)for(var he=ue[0],_e=ue[ue.length-1],Me=he;Me<_e+1;Me++){this.pdf.setPage(Me);var Ie=Me===1?this.posY+this.margin[0]:this.margin[0],Ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[2],Ge=Oe-this.margin[0],Xe=this.pdf.internal.pageSize.width-this.margin[1],dt=Xe-this.margin[3],Ue=Me===1?0:Ae+(Me-2)*Ge;if(this.ctx.clip_path.length!==0){var We=this.path;rt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(rt,this.posX+this.margin[3],-1*Ue+Ie),H.call(this,"fill",!0),this.path=We}var Ye=M([JSON.parse(JSON.stringify(J))],this.posX+this.margin[3],-Ue+Ie+this.ctx.prevPageLastElemOffset)[0];X.scale>=.01&&(Ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ke*X.scale),Qe=this.lineWidth,this.lineWidth=Qe*X.scale);var St=this.autoPaging!=="text";if(St||Ye.y+Ye.h<=Oe){if(St||Ye.y>=Ie&&Ye.x<=Xe){var ht=St?X.text:this.pdf.splitTextToSize(X.text,X.maxWidth||Xe-Ye.x)[0],tn=M([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-Ue+Ie+this.ctx.prevPageLastElemOffset)[0],pt=St&&(Me>he||Me<_e)&&A.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,Ge,null).clip().discardPath()),this.pdf.text(ht,tn.x,tn.y,{angle:X.angle,align:Z,renderingMode:X.renderingMode}),pt&&this.pdf.restoreGraphicsState()}}else Ye.y<Oe&&(this.ctx.prevPageLastElemOffset+=Oe-Ye.y);X.scale>=.01&&(this.pdf.setFontSize(Ke),this.lineWidth=Qe)}else X.scale>=.01&&(Ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ke*X.scale),Qe=this.lineWidth,this.lineWidth=Qe*X.scale),this.pdf.text(X.text,Pe.x+this.posX,Pe.y+this.posY,{angle:X.angle,align:Z,renderingMode:X.renderingMode,maxWidth:X.maxWidth}),X.scale>=.01&&(this.pdf.setFontSize(Ke),this.lineWidth=Qe)},Y=function(X,Z,se,pe){se=se||0,pe=pe||0,this.pdf.internal.out(n(X+se)+" "+o(Z+pe)+" l")},B=function(X,Z,se){return this.pdf.lines(X,Z,se,null,null)},ne=function(X,Z,se,pe,we,Pe,Te,Ne){this.pdf.internal.out([r(a(se+X)),r(c(pe+Z)),r(a(we+X)),r(c(Pe+Z)),r(a(Te+X)),r(c(Ne+Z)),"c"].join(" "))},de=function(X,Z,se,pe){for(var we=2*Math.PI,Pe=Math.PI/2;Z>se;)Z-=we;var Te=Math.abs(se-Z);Te<we&&pe&&(Te=we-Te);for(var Ne=[],rt=pe?-1:1,Ke=Z;Te>1e-5;){var Qe=Ke+rt*Math.min(Te,Pe);Ne.push(ae.call(this,X,Ke,Qe)),Te-=Math.abs(Qe-Ke),Ke=Qe}return Ne},ae=function(X,Z,se){var pe=(se-Z)/2,we=X*Math.cos(pe),Pe=X*Math.sin(pe),Te=we,Ne=-Pe,rt=Te*Te+Ne*Ne,Ke=rt+Te*we+Ne*Pe,Qe=4/3*(Math.sqrt(2*rt*Ke)-Ke)/(Te*Pe-Ne*we),ze=Te-Qe*Ne,J=Ne+Qe*Te,Ce=ze,ue=-J,ge=pe+Z,he=Math.cos(ge),_e=Math.sin(ge);return{x1:X*Math.cos(Z),y1:X*Math.sin(Z),x2:ze*he-J*_e,y2:ze*_e+J*he,x3:Ce*he-ue*_e,y3:Ce*_e+ue*he,x4:X*Math.cos(se),y4:X*Math.sin(se)}},oe=function(X){return 180*X/Math.PI},ye=function(X,Z,se,pe,we,Pe){var Te=X+.5*(se-X),Ne=Z+.5*(pe-Z),rt=we+.5*(se-we),Ke=Pe+.5*(pe-Pe),Qe=Math.min(X,we,Te,rt),ze=Math.max(X,we,Te,rt),J=Math.min(Z,Pe,Ne,Ke),Ce=Math.max(Z,Pe,Ne,Ke);return new f(Qe,J,ze-Qe,Ce-J)},re=function(X,Z,se,pe,we,Pe,Te,Ne){var rt,Ke,Qe,ze,J,Ce,ue,ge,he,_e,Me,Ie,Ae,Oe,Ge=se-X,Xe=pe-Z,dt=we-se,Ue=Pe-pe,We=Te-we,Ye=Ne-Pe;for(Ke=0;Ke<41;Ke++)he=(ue=(Qe=X+(rt=Ke/40)*Ge)+rt*((J=se+rt*dt)-Qe))+rt*(J+rt*(we+rt*We-J)-ue),_e=(ge=(ze=Z+rt*Xe)+rt*((Ce=pe+rt*Ue)-ze))+rt*(Ce+rt*(Pe+rt*Ye-Ce)-ge),Ke==0?(Me=he,Ie=_e,Ae=he,Oe=_e):(Me=Math.min(Me,he),Ie=Math.min(Ie,_e),Ae=Math.max(Ae,he),Oe=Math.max(Oe,_e));return new f(Math.round(Me),Math.round(Ie),Math.round(Ae-Me),Math.round(Oe-Ie))},xe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var X,Z,se=(X=this.ctx.lineDash,Z=this.ctx.lineDashOffset,JSON.stringify({lineDash:X,lineDashOffset:Z}));this.prevLineDash!==se&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=se)}}})(sn.API),function(t){var r=function(c){var d,f,p,g,k,v,y,w,x,A;for(f=[],p=0,g=(c+=d="\0\0\0\0".slice(c.length%4||4)).length;g>p;p+=4)(k=(c.charCodeAt(p)<<24)+(c.charCodeAt(p+1)<<16)+(c.charCodeAt(p+2)<<8)+c.charCodeAt(p+3))!==0?(v=(k=((k=((k=((k=(k-(A=k%85))/85)-(x=k%85))/85)-(w=k%85))/85)-(y=k%85))/85)%85,f.push(v+33,y+33,w+33,x+33,A+33)):f.push(122);return function(D,E){for(var M=E;M>0;M--)D.pop()}(f,d.length),String.fromCharCode.apply(String,f)+"~>"},n=function(c){var d,f,p,g,k,v=String,y="length",w=255,x="charCodeAt",A="slice",D="replace";for(c[A](-2),c=c[A](0,-2)[D](/\s/g,"")[D]("z","!!!!!"),p=[],g=0,k=(c+=d="uuuuu"[A](c[y]%5||5))[y];k>g;g+=5)f=52200625*(c[x](g)-33)+614125*(c[x](g+1)-33)+7225*(c[x](g+2)-33)+85*(c[x](g+3)-33)+(c[x](g+4)-33),p.push(w&f>>24,w&f>>16,w&f>>8,w&f);return function(E,M){for(var P=M;P>0;P--)E.pop()}(p,d[y]),v.fromCharCode.apply(v,p)},o=function(c){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),d.test(c)===!1)return"";for(var f="",p=0;p<c.length;p+=2)f+=String.fromCharCode("0x"+(c[p]+c[p+1]));return f},a=function(c){for(var d=new Uint8Array(c.length),f=c.length;f--;)d[f]=c.charCodeAt(f);return c=(d=R_(d)).reduce(function(p,g){return p+String.fromCharCode(g)},"")};t.processDataByFilters=function(c,d){var f=0,p=c||"",g=[];for(typeof(d=d||[])=="string"&&(d=[d]),f=0;f<d.length;f+=1)switch(d[f]){case"ASCII85Decode":case"/ASCII85Decode":p=n(p),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=r(p),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=o(p),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=p.split("").map(function(k){return("0"+k.charCodeAt().toString(16)).slice(-2)}).join("")+">",g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=a(p),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[f]+'" is not implemented')}return{data:p,reverseChain:g.reverse().join(" ")}}}(sn.API),function(t){t.loadFile=function(r,n,o){return function(a,c,d){c=c!==!1,d=typeof d=="function"?d:function(){};var f=void 0;try{f=function(p,g,k){var v=new XMLHttpRequest,y=0,w=function(x){var A=x.length,D=[],E=String.fromCharCode;for(y=0;y<A;y+=1)D.push(E(255&x.charCodeAt(y)));return D.join("")};if(v.open("GET",p,!g),v.overrideMimeType("text/plain; charset=x-user-defined"),g===!1&&(v.onload=function(){v.status===200?k(w(this.responseText)):k(void 0)}),v.send(null),g&&v.status===200)return w(v.responseText)}(a,c,d)}catch{}return f}(r,n,o)},t.loadImageFile=t.loadFile}(sn.API),function(t){function r(){return(an.html2canvas?Promise.resolve(an.html2canvas):co(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function n(){return(an.DOMPurify?Promise.resolve(an.DOMPurify):co(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var o=function(d){var f=hr(d);return f==="undefined"?"undefined":f==="string"||d instanceof String?"string":f==="number"||d instanceof Number?"number":f==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(d,f){var p=document.createElement(d);for(var g in f.className&&(p.className=f.className),f.innerHTML&&f.dompurify&&(p.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)p.style[g]=f.style[g];return p},c=function d(f){var p=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),g=d.convert(Promise.resolve(),p);return g=(g=g.setProgress(1,d,1,[d])).set(f)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(d,f){return d.__proto__=f||c.prototype,d},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(d,f){return this.then(function(){switch(f=f||function(p){switch(o(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(d)){case"string":return this.then(n).then(function(p){return this.set({src:a("div",{innerHTML:d,dompurify:p})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},c.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=function p(g,k){for(var v=g.nodeType===3?document.createTextNode(g.nodeValue):g.cloneNode(!1),y=g.firstChild;y;y=y.nextSibling)k!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||v.appendChild(p(y,k));return g.nodeType===1&&(g.nodeName==="CANVAS"?(v.width=g.width,v.height=g.height,v.getContext("2d").drawImage(g,0,0)):g.nodeName!=="TEXTAREA"&&g.nodeName!=="SELECT"||(v.value=g.value),v.addEventListener("load",function(){v.scrollTop=g.scrollTop,v.scrollLeft=g.scrollLeft},!0)),v}(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(r).then(function(f){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,f(this.prop.container,p)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(r).then(function(f){var p=this.opt.jsPDF,g=this.opt.fontFaces,k=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:k,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=g,g)for(var y=0;y<g.length;++y){var w=g[y],x=w.src.find(function(A){return A.format==="truetype"});x&&p.addFont(x.url,w.ref.name,w.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,p.context2d.save(!0),f(this.prop.container,v)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(d,f,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(d,f):this.outputPdf(d,f)},c.prototype.outputPdf=function(d,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,f)})},c.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},c.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(d){if(o(d)!=="object")return this;var f=Object.keys(d||{}).map(function(p){if(p in c.template.prop)return function(){this.prop[p]=d[p]};switch(p){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[p]=d[p]}}},this);return this.then(function(){return this.thenList(f)})},c.prototype.get=function(d,f){return this.then(function(){var p=d in c.template.prop?this.prop[d]:this.opt[d];return f?f(p):p})},c.prototype.setMargin=function(d){return this.then(function(){switch(o(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},c.prototype.setPageSize=function(d){function f(p,g){return Math.floor(p*g/72*96)}return this.then(function(){(d=d||sn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:f(d.inner.width,d.k),height:f(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},c.prototype.setProgress=function(d,f,p,g){return d!=null&&(this.progress.val=d),f!=null&&(this.progress.state=f),p!=null&&(this.progress.n=p),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(d,f,p,g){return this.setProgress(d?this.progress.val+d:null,f||null,p?this.progress.n+p:null,g?this.progress.stack.concat(g):null)},c.prototype.then=function(d,f){var p=this;return this.thenCore(d,f,function(g,k){return p.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(v){return p.updateProgress(null,g),v}).then(g,k).then(function(v){return p.updateProgress(1),v})})},c.prototype.thenCore=function(d,f,p){p=p||Promise.prototype.then,d&&(d=d.bind(this)),f&&(f=f.bind(this));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:c.convert(Object.assign({},this),Promise.prototype),k=p.call(g,d,f);return c.convert(k,this.__proto__)},c.prototype.thenExternal=function(d,f){return Promise.prototype.then.call(this,d,f)},c.prototype.thenList=function(d){var f=this;return d.forEach(function(p){f=f.thenCore(p)}),f},c.prototype.catch=function(d){d&&(d=d.bind(this));var f=Promise.prototype.catch.call(this,d);return c.convert(f,this)},c.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},c.prototype.error=function(d){return this.then(function(){throw new Error(d)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,sn.getPageSize=function(d,f,p){if(hr(d)==="object"){var g=d;d=g.orientation,f=g.unit||f,p=g.format||p}f=f||"mm",p=p||"a4",d=(""+(d||"P")).toLowerCase();var k,v=(""+p).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":k=1;break;case"mm":k=72/25.4;break;case"cm":k=72/2.54;break;case"in":k=72;break;case"px":k=.75;break;case"pc":case"em":k=12;break;case"ex":k=6;break;default:throw"Invalid unit: "+f}var w,x=0,A=0;if(y.hasOwnProperty(v))x=y[v][1]/k,A=y[v][0]/k;else try{x=p[1],A=p[0]}catch{throw new Error("Invalid format: "+p)}if(d==="p"||d==="portrait")d="p",A>x&&(w=A,A=x,x=w);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",x>A&&(w=A,A=x,x=w)}return{width:A,height:x,unit:f,k,orientation:d}},t.html=function(d,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(H_):null;var p=new c(f);return f.worker?p:p.from(d).doCallback()}}(sn.API),sn.API.addJS=function(t){return S6=t,this.internal.events.subscribe("postPutResources",function(){$0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+($0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),x6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+S6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){$0!==void 0&&x6!==void 0&&this.internal.out("/Names <</JavaScript "+$0+" 0 R>>")}),this},function(t){var r;t.events.push(["postPutResources",function(){var n=this,o=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=n.outline.render().split(/\r\n/),c=0;c<a.length;c++){var d=a[c],f=o.exec(d);if(f!=null){var p=f[1];n.internal.newObjectDeferredBegin(p,!1)}n.internal.write(d)}if(this.outline.createNamedDestinations){var g=this.internal.pages.length,k=[];for(c=0;c<g;c++){var v=n.internal.newObject();k.push(v);var y=n.internal.getPageInfo(c+1);n.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var w=n.internal.newObject();for(n.internal.write("<< /Names [ "),c=0;c<k.length;c++)n.internal.write("(page_"+(c+1)+")"+k[c]+" 0 R");n.internal.write(" ] >>","endobj"),r=n.internal.newObject(),n.internal.write("<< /Dests "+w+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+r+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(o,a,c){var d={title:a,options:c,children:[]};return o==null&&(o=this.root),o.children.push(d),d},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(o){o.id=n.internal.newObjectDeferred();for(var a=0;a<o.children.length;a++)this.genIds_r(o.children[a])},n.outline.renderRoot=function(o){this.objStart(o),this.line("/Type /Outlines"),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1]))),this.line("/Count "+this.count_r({count:0},o)),this.objEnd()},n.outline.renderItems=function(o){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,c=0;c<o.children.length;c++){var d=o.children[c];this.objStart(d),this.line("/Title "+this.makeString(d.title)),this.line("/Parent "+this.makeRef(o)),c>0&&this.line("/Prev "+this.makeRef(o.children[c-1])),c<o.children.length-1&&this.line("/Next "+this.makeRef(o.children[c+1])),d.children.length>0&&(this.line("/First "+this.makeRef(d.children[0])),this.line("/Last "+this.makeRef(d.children[d.children.length-1])));var f=this.count=this.count_r({count:0},d);if(f>0&&this.line("/Count "+f),d.options&&d.options.pageNumber){var p=n.internal.getPageInfo(d.options.pageNumber);this.line("/Dest ["+p.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var g=0;g<o.children.length;g++)this.renderItems(o.children[g])},n.outline.line=function(o){this.ctx.val+=o+`\r
`},n.outline.makeRef=function(o){return o.id+" 0 R"},n.outline.makeString=function(o){return"("+n.internal.pdfEscape(o)+")"},n.outline.objStart=function(o){this.ctx.val+=`\r
`+o.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(o,a){for(var c=0;c<a.children.length;c++)o.count++,this.count_r(o,a.children[c]);return o.count}}])}(sn.API),function(t){var r=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,o,a,c,d,f){var p,g=this.decode.DCT_DECODE,k=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=d||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(p=function(v){for(var y,w=256*v.charCodeAt(4)+v.charCodeAt(5),x=v.length,A={width:0,height:0,numcomponents:1},D=4;D<x;D+=2){if(D+=w,r.indexOf(v.charCodeAt(D+1))!==-1){y=256*v.charCodeAt(D+5)+v.charCodeAt(D+6),A={width:256*v.charCodeAt(D+7)+v.charCodeAt(D+8),height:y,numcomponents:v.charCodeAt(D+9)};break}w=256*v.charCodeAt(D+2)+v.charCodeAt(D+3)}return A}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:f=this.color_spaces.DEVICE_GRAY;break;case 4:f=this.color_spaces.DEVICE_CMYK;break;case 3:f=this.color_spaces.DEVICE_RGB}k={data:n,width:p.width,height:p.height,colorSpace:f,bitsPerComponent:8,filter:g,index:o,alias:a}}return k}}(sn.API);var Nf,W0,E6,D6,I6,zee=function(){var t,r,n;function o(c){var d,f,p,g,k,v,y,w,x,A,D,E,M,P;for(this.data=c,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(d=this.readUInt32(),x=(function(){var F,H;for(H=[],F=0;F<4;++F)H.push(String.fromCharCode(this.data[this.pos++]));return H}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(d);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},k=this.readUInt16(),g=this.readUInt16()||100,v.delay=1e3*k/g,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,d-=4),c=(v!=null?v.data:void 0)||this.imgData,E=0;0<=d?E<d:E>d;0<=d?++E:--E)c.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(p=this.palette.length/3,this.transparency.indexed=this.read(d),this.transparency.indexed.length>p)throw new Error("More transparent colors than palette size");if((A=p-this.transparency.indexed.length)>0)for(M=0;0<=A?M<A:M>A;0<=A?++M:--M)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(d)[0];break;case 2:this.transparency.rgb=this.read(d)}break;case"tEXt":y=(D=this.read(d)).indexOf(0),w=String.fromCharCode.apply(String,D.slice(0,y)),this.text[w]=String.fromCharCode.apply(String,D.slice(y+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(P=this.colorType)===4||P===6,f=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*f,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=d}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}o.prototype.read=function(c){var d,f;for(f=[],d=0;0<=c?d<c:d>c;0<=c?++d:--d)f.push(this.data[this.pos++]);return f},o.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.decodePixels=function(c){var d=this.pixelBitlength/8,f=new Uint8Array(this.width*this.height*d),p=0,g=this;if(c==null&&(c=this.imgData),c.length===0)return new Uint8Array(0);function k(v,y,w,x){var A,D,E,M,P,F,H,V,N,j,q,Q,$,R,Y,B,ne,de,ae,oe,ye,re=Math.ceil((g.width-v)/w),xe=Math.ceil((g.height-y)/x),X=g.width==re&&g.height==xe;for(R=d*re,Q=X?f:new Uint8Array(R*xe),F=c.length,$=0,D=0;$<xe&&p<F;){switch(c[p++]){case 0:for(M=ne=0;ne<R;M=ne+=1)Q[D++]=c[p++];break;case 1:for(M=de=0;de<R;M=de+=1)A=c[p++],P=M<d?0:Q[D-d],Q[D++]=(A+P)%256;break;case 2:for(M=ae=0;ae<R;M=ae+=1)A=c[p++],E=(M-M%d)/d,Y=$&&Q[($-1)*R+E*d+M%d],Q[D++]=(Y+A)%256;break;case 3:for(M=oe=0;oe<R;M=oe+=1)A=c[p++],E=(M-M%d)/d,P=M<d?0:Q[D-d],Y=$&&Q[($-1)*R+E*d+M%d],Q[D++]=(A+Math.floor((P+Y)/2))%256;break;case 4:for(M=ye=0;ye<R;M=ye+=1)A=c[p++],E=(M-M%d)/d,P=M<d?0:Q[D-d],$===0?Y=B=0:(Y=Q[($-1)*R+E*d+M%d],B=E&&Q[($-1)*R+(E-1)*d+M%d]),H=P+Y-B,V=Math.abs(H-P),j=Math.abs(H-Y),q=Math.abs(H-B),N=V<=j&&V<=q?P:j<=q?Y:B,Q[D++]=(A+N)%256;break;default:throw new Error("Invalid filter algorithm: "+c[p-1])}if(!X){var Z=((y+$*x)*g.width+v)*d,se=$*R;for(M=0;M<re;M+=1){for(var pe=0;pe<d;pe+=1)f[Z++]=Q[se++];Z+=(w-1)*d}}$++}}return c=kee(c),g.interlaceMethod==1?(k(0,0,8,8),k(4,0,8,8),k(0,4,4,8),k(2,0,4,4),k(0,2,2,4),k(1,0,2,2),k(0,1,1,2)):k(0,0,1,1),f},o.prototype.decodePalette=function(){var c,d,f,p,g,k,v,y,w;for(f=this.palette,k=this.transparency.indexed||[],g=new Uint8Array((k.length||0)+f.length),p=0,c=0,d=v=0,y=f.length;v<y;d=v+=3)g[p++]=f[d],g[p++]=f[d+1],g[p++]=f[d+2],g[p++]=(w=k[c++])!=null?w:255;return g},o.prototype.copyToImageData=function(c,d){var f,p,g,k,v,y,w,x,A,D,E;if(p=this.colors,A=null,f=this.hasAlphaChannel,this.palette.length&&(A=(E=this._decodedPalette)!=null?E:this._decodedPalette=this.decodePalette(),p=4,f=!0),x=(g=c.data||c).length,v=A||d,k=y=0,p===1)for(;k<x;)w=A?4*d[k/4]:y,D=v[w++],g[k++]=D,g[k++]=D,g[k++]=D,g[k++]=f?v[w++]:255,y=w;else for(;k<x;)w=A?4*d[k/4]:y,g[k++]=v[w++],g[k++]=v[w++],g[k++]=v[w++],g[k++]=f?v[w++]:255,y=w},o.prototype.decode=function(){var c;return c=new Uint8Array(this.width*this.height*4),this.copyToImageData(c,this.decodePixels()),c};var a=function(){if(Object.prototype.toString.call(an)==="[object Window]"){try{r=an.document.createElement("canvas"),n=r.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(c){var d;if(a()===!0)return n.width=c.width,n.height=c.height,n.clearRect(0,0,c.width,c.height),n.putImageData(c,0,0),(d=new Image).src=r.toDataURL(),d;throw new Error("This method requires a Browser with Canvas-capability.")},o.prototype.decodeFrames=function(c){var d,f,p,g,k,v,y,w;if(this.animation){for(w=[],f=k=0,v=(y=this.animation.frames).length;k<v;f=++k)d=y[f],p=c.createImageData(d.width,d.height),g=this.decodePixels(new Uint8Array(d.data)),this.copyToImageData(p,g),d.imageData=p,w.push(d.image=t(p));return w}},o.prototype.renderFrame=function(c,d){var f,p,g;return f=(p=this.animation.frames)[d],g=p[d-1],d===0&&c.clearRect(0,0,this.width,this.height),(g!=null?g.disposeOp:void 0)===1?c.clearRect(g.xOffset,g.yOffset,g.width,g.height):(g!=null?g.disposeOp:void 0)===2&&c.putImageData(g.imageData,g.xOffset,g.yOffset),f.blendOp===0&&c.clearRect(f.xOffset,f.yOffset,f.width,f.height),c.drawImage(f.image,f.xOffset,f.yOffset)},o.prototype.animate=function(c){var d,f,p,g,k,v,y=this;return f=0,v=this.animation,g=v.numFrames,p=v.frames,k=v.numPlays,(d=function(){var w,x;if(w=f++%g,x=p[w],y.renderFrame(c,w),g>1&&f/g<k)return y.animation._timeout=setTimeout(d,x.delay)})()},o.prototype.stopAnimation=function(){var c;return clearTimeout((c=this.animation)!=null?c._timeout:void 0)},o.prototype.render=function(c){var d,f;return c._png&&c._png.stopAnimation(),c._png=this,c.width=this.width,c.height=this.height,d=c.getContext("2d"),this.animation?(this.decodeFrames(d),this.animate(d)):(f=d.createImageData(this.width,this.height),this.copyToImageData(f,this.decodePixels()),d.putImageData(f,0,0))},o}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Uee(t){var r=0;if(t[r++]!==71||t[r++]!==73||t[r++]!==70||t[r++]!==56||(t[r++]+1&253)!=56||t[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[r++]|t[r++]<<8,o=t[r++]|t[r++]<<8,a=t[r++],c=a>>7,d=1<<(7&a)+1;t[r++],t[r++];var f=null,p=null;c&&(f=r,p=d,r+=3*d);var g=!0,k=[],v=0,y=null,w=0,x=null;for(this.width=n,this.height=o;g&&r<t.length;)switch(t[r++]){case 33:switch(t[r++]){case 255:if(t[r]!==11||t[r+1]==78&&t[r+2]==69&&t[r+3]==84&&t[r+4]==83&&t[r+5]==67&&t[r+6]==65&&t[r+7]==80&&t[r+8]==69&&t[r+9]==50&&t[r+10]==46&&t[r+11]==48&&t[r+12]==3&&t[r+13]==1&&t[r+16]==0)r+=14,x=t[r++]|t[r++]<<8,r++;else for(r+=12;;){if(!(($=t[r++])>=0))throw Error("Invalid block size");if($===0)break;r+=$}break;case 249:if(t[r++]!==4||t[r+4]!==0)throw new Error("Invalid graphics extension block.");var A=t[r++];v=t[r++]|t[r++]<<8,y=t[r++],(1&A)==0&&(y=null),w=A>>2&7,r++;break;case 254:for(;;){if(!(($=t[r++])>=0))throw Error("Invalid block size");if($===0)break;r+=$}break;default:throw new Error("Unknown graphic control label: 0x"+t[r-1].toString(16))}break;case 44:var D=t[r++]|t[r++]<<8,E=t[r++]|t[r++]<<8,M=t[r++]|t[r++]<<8,P=t[r++]|t[r++]<<8,F=t[r++],H=F>>6&1,V=1<<(7&F)+1,N=f,j=p,q=!1;F>>7&&(q=!0,N=r,j=V,r+=3*V);var Q=r;for(r++;;){var $;if(!(($=t[r++])>=0))throw Error("Invalid block size");if($===0)break;r+=$}k.push({x:D,y:E,width:M,height:P,has_local_palette:q,palette_offset:N,palette_size:j,data_offset:Q,data_length:r-Q,transparent_index:y,interlaced:!!H,delay:v,disposal:w});break;case 59:g=!1;break;default:throw new Error("Unknown gif block: 0x"+t[r-1].toString(16))}this.numFrames=function(){return k.length},this.loopCount=function(){return x},this.frameInfo=function(R){if(R<0||R>=k.length)throw new Error("Frame index out of range.");return k[R]},this.decodeAndBlitFrameBGRA=function(R,Y){var B=this.frameInfo(R),ne=B.width*B.height,de=new Uint8Array(ne);T6(t,B.data_offset,de,ne);var ae=B.palette_offset,oe=B.transparent_index;oe===null&&(oe=256);var ye=B.width,re=n-ye,xe=ye,X=4*(B.y*n+B.x),Z=4*((B.y+B.height)*n+B.x),se=X,pe=4*re;B.interlaced===!0&&(pe+=4*n*7);for(var we=8,Pe=0,Te=de.length;Pe<Te;++Pe){var Ne=de[Pe];if(xe===0&&(xe=ye,(se+=pe)>=Z&&(pe=4*re+4*n*(we-1),se=X+(ye+re)*(we<<1),we>>=1)),Ne===oe)se+=4;else{var rt=t[ae+3*Ne],Ke=t[ae+3*Ne+1],Qe=t[ae+3*Ne+2];Y[se++]=Qe,Y[se++]=Ke,Y[se++]=rt,Y[se++]=255}--xe}},this.decodeAndBlitFrameRGBA=function(R,Y){var B=this.frameInfo(R),ne=B.width*B.height,de=new Uint8Array(ne);T6(t,B.data_offset,de,ne);var ae=B.palette_offset,oe=B.transparent_index;oe===null&&(oe=256);var ye=B.width,re=n-ye,xe=ye,X=4*(B.y*n+B.x),Z=4*((B.y+B.height)*n+B.x),se=X,pe=4*re;B.interlaced===!0&&(pe+=4*n*7);for(var we=8,Pe=0,Te=de.length;Pe<Te;++Pe){var Ne=de[Pe];if(xe===0&&(xe=ye,(se+=pe)>=Z&&(pe=4*re+4*n*(we-1),se=X+(ye+re)*(we<<1),we>>=1)),Ne===oe)se+=4;else{var rt=t[ae+3*Ne],Ke=t[ae+3*Ne+1],Qe=t[ae+3*Ne+2];Y[se++]=rt,Y[se++]=Ke,Y[se++]=Qe,Y[se++]=255}--xe}}}function T6(t,r,n,o){for(var a=t[r++],c=1<<a,d=c+1,f=d+1,p=a+1,g=(1<<p)-1,k=0,v=0,y=0,w=t[r++],x=new Int32Array(4096),A=null;;){for(;k<16&&w!==0;)v|=t[r++]<<k,k+=8,w===1?w=t[r++]:--w;if(k<p)break;var D=v&g;if(v>>=p,k-=p,D!==c){if(D===d)break;for(var E=D<f?D:A,M=0,P=E;P>c;)P=x[P]>>8,++M;var F=P;if(y+M+(E!==D?1:0)>o)return void yr.log("Warning, gif stream longer than expected.");n[y++]=F;var H=y+=M;for(E!==D&&(n[y++]=F),P=E;M--;)P=x[P],n[--H]=255&P,P>>=8;A!==null&&f<4096&&(x[f++]=A<<8|F,f>=g+1&&p<12&&(++p,g=g<<1|1)),A=D}else f=d+1,g=(1<<(p=a+1))-1,A=null}return y!==o&&yr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Lv(t){var r,n,o,a,c,d=Math.floor,f=new Array(64),p=new Array(64),g=new Array(64),k=new Array(64),v=new Array(65535),y=new Array(65535),w=new Array(64),x=new Array(64),A=[],D=0,E=7,M=new Array(64),P=new Array(64),F=new Array(64),H=new Array(256),V=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],$=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(X,Z){for(var se=0,pe=0,we=new Array,Pe=1;Pe<=16;Pe++){for(var Te=1;Te<=X[Pe];Te++)we[Z[pe]]=[],we[Z[pe]][0]=se,we[Z[pe]][1]=Pe,pe++,se++;se*=2}return we}function ae(X){for(var Z=X[0],se=X[1]-1;se>=0;)Z&1<<se&&(D|=1<<E),se--,--E<0&&(D==255?(oe(255),oe(0)):oe(D),E=7,D=0)}function oe(X){A.push(X)}function ye(X){oe(X>>8&255),oe(255&X)}function re(X,Z,se,pe,we){for(var Pe,Te=we[0],Ne=we[240],rt=function(_e,Me){var Ie,Ae,Oe,Ge,Xe,dt,Ue,We,Ye,St,ht=0;for(Ye=0;Ye<8;++Ye){Ie=_e[ht],Ae=_e[ht+1],Oe=_e[ht+2],Ge=_e[ht+3],Xe=_e[ht+4],dt=_e[ht+5],Ue=_e[ht+6];var tn=Ie+(We=_e[ht+7]),pt=Ie-We,Vt=Ae+Ue,Rt=Ae-Ue,zt=Oe+dt,Yt=Oe-dt,pn=Ge+Xe,En=Ge-Xe,zn=tn+pn,Mr=tn-pn,qr=Vt+zt,Ln=Vt-zt;_e[ht]=zn+qr,_e[ht+4]=zn-qr;var Xt=.707106781*(Ln+Mr);_e[ht+2]=Mr+Xt,_e[ht+6]=Mr-Xt;var Dn=.382683433*((zn=En+Yt)-(Ln=Rt+pt)),No=.5411961*zn+Dn,Nn=1.306562965*Ln+Dn,zi=.707106781*(qr=Yt+Rt),ei=pt+zi,Ht=pt-zi;_e[ht+5]=Ht+No,_e[ht+3]=Ht-No,_e[ht+1]=ei+Nn,_e[ht+7]=ei-Nn,ht+=8}for(ht=0,Ye=0;Ye<8;++Ye){Ie=_e[ht],Ae=_e[ht+8],Oe=_e[ht+16],Ge=_e[ht+24],Xe=_e[ht+32],dt=_e[ht+40],Ue=_e[ht+48];var Oi=Ie+(We=_e[ht+56]),Ui=Ie-We,kt=Ae+Ue,At=Ae-Ue,Ct=Oe+dt,Ot=Oe-dt,Qt=Ge+Xe,Wn=Ge-Xe,Pr=Oi+Qt,Go=Oi-Qt,Mo=kt+Ct,qi=kt-Ct;_e[ht]=Pr+Mo,_e[ht+32]=Pr-Mo;var bo=.707106781*(qi+Go);_e[ht+16]=Go+bo,_e[ht+48]=Go-bo;var ms=.382683433*((Pr=Wn+Ot)-(qi=At+Ui)),nc=.5411961*Pr+ms,Gc=1.306562965*qi+ms,Yo=.707106781*(Mo=Ot+At),Yc=Ui+Yo,Kc=Ui-Yo;_e[ht+40]=Kc+nc,_e[ht+24]=Kc-nc,_e[ht+8]=Yc+Gc,_e[ht+56]=Yc-Gc,ht++}for(Ye=0;Ye<64;++Ye)St=_e[Ye]*Me[Ye],w[Ye]=St>0?St+.5|0:St-.5|0;return w}(X,Z),Ke=0;Ke<64;++Ke)x[N[Ke]]=rt[Ke];var Qe=x[0]-se;se=x[0],Qe==0?ae(pe[0]):(ae(pe[y[Pe=32767+Qe]]),ae(v[Pe]));for(var ze=63;ze>0&&x[ze]==0;)ze--;if(ze==0)return ae(Te),se;for(var J,Ce=1;Ce<=ze;){for(var ue=Ce;x[Ce]==0&&Ce<=ze;)++Ce;var ge=Ce-ue;if(ge>=16){J=ge>>4;for(var he=1;he<=J;++he)ae(Ne);ge&=15}Pe=32767+x[Ce],ae(we[(ge<<4)+y[Pe]]),ae(v[Pe]),Ce++}return ze!=63&&ae(Te),se}function xe(X){X=Math.min(Math.max(X,1),100),c!=X&&(function(Z){for(var se=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],pe=0;pe<64;pe++){var we=d((se[pe]*Z+50)/100);we=Math.min(Math.max(we,1),255),f[N[pe]]=we}for(var Pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Te=0;Te<64;Te++){var Ne=d((Pe[Te]*Z+50)/100);Ne=Math.min(Math.max(Ne,1),255),p[N[Te]]=Ne}for(var rt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ke=0,Qe=0;Qe<8;Qe++)for(var ze=0;ze<8;ze++)g[Ke]=1/(f[N[Ke]]*rt[Qe]*rt[ze]*8),k[Ke]=1/(p[N[Ke]]*rt[Qe]*rt[ze]*8),Ke++}(X<50?Math.floor(5e3/X):Math.floor(200-2*X)),c=X)}this.encode=function(X,Z){Z&&xe(Z),A=new Array,D=0,E=7,ye(65496),ye(65504),ye(16),oe(74),oe(70),oe(73),oe(70),oe(0),oe(1),oe(1),oe(0),ye(1),ye(1),oe(0),oe(0),function(){ye(65499),ye(132),oe(0);for(var Ae=0;Ae<64;Ae++)oe(f[Ae]);oe(1);for(var Oe=0;Oe<64;Oe++)oe(p[Oe])}(),function(Ae,Oe){ye(65472),ye(17),oe(8),ye(Oe),ye(Ae),oe(3),oe(1),oe(17),oe(0),oe(2),oe(17),oe(1),oe(3),oe(17),oe(1)}(X.width,X.height),function(){ye(65476),ye(418),oe(0);for(var Ae=0;Ae<16;Ae++)oe(j[Ae+1]);for(var Oe=0;Oe<=11;Oe++)oe(q[Oe]);oe(16);for(var Ge=0;Ge<16;Ge++)oe(Q[Ge+1]);for(var Xe=0;Xe<=161;Xe++)oe($[Xe]);oe(1);for(var dt=0;dt<16;dt++)oe(R[dt+1]);for(var Ue=0;Ue<=11;Ue++)oe(Y[Ue]);oe(17);for(var We=0;We<16;We++)oe(B[We+1]);for(var Ye=0;Ye<=161;Ye++)oe(ne[Ye])}(),ye(65498),ye(12),oe(3),oe(1),oe(0),oe(2),oe(17),oe(3),oe(17),oe(0),oe(63),oe(0);var se=0,pe=0,we=0;D=0,E=7,this.encode.displayName="_encode_";for(var Pe,Te,Ne,rt,Ke,Qe,ze,J,Ce,ue=X.data,ge=X.width,he=X.height,_e=4*ge,Me=0;Me<he;){for(Pe=0;Pe<_e;){for(Ke=_e*Me+Pe,ze=-1,J=0,Ce=0;Ce<64;Ce++)Qe=Ke+(J=Ce>>3)*_e+(ze=4*(7&Ce)),Me+J>=he&&(Qe-=_e*(Me+1+J-he)),Pe+ze>=_e&&(Qe-=Pe+ze-_e+4),Te=ue[Qe++],Ne=ue[Qe++],rt=ue[Qe++],M[Ce]=(V[Te]+V[Ne+256>>0]+V[rt+512>>0]>>16)-128,P[Ce]=(V[Te+768>>0]+V[Ne+1024>>0]+V[rt+1280>>0]>>16)-128,F[Ce]=(V[Te+1280>>0]+V[Ne+1536>>0]+V[rt+1792>>0]>>16)-128;se=re(M,g,se,r,o),pe=re(P,k,pe,n,a),we=re(F,k,we,n,a),Pe+=32}Me+=8}if(E>=0){var Ie=[];Ie[1]=E+1,Ie[0]=(1<<E+1)-1,ae(Ie)}return ye(65497),new Uint8Array(A)},t=t||50,function(){for(var X=String.fromCharCode,Z=0;Z<256;Z++)H[Z]=X(Z)}(),r=de(j,q),n=de(R,Y),o=de(Q,$),a=de(B,ne),function(){for(var X=1,Z=2,se=1;se<=15;se++){for(var pe=X;pe<Z;pe++)y[32767+pe]=se,v[32767+pe]=[],v[32767+pe][1]=se,v[32767+pe][0]=pe;for(var we=-(Z-1);we<=-X;we++)y[32767+we]=se,v[32767+we]=[],v[32767+we][1]=se,v[32767+we][0]=Z-1+we;X<<=1,Z<<=1}}(),function(){for(var X=0;X<256;X++)V[X]=19595*X,V[X+256>>0]=38470*X,V[X+512>>0]=7471*X+32768,V[X+768>>0]=-11059*X,V[X+1024>>0]=-21709*X,V[X+1280>>0]=32768*X+8421375,V[X+1536>>0]=-27439*X,V[X+1792>>0]=-5329*X}(),xe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ga(t,r){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function N6(t){function r(j){if(!j)throw Error("assert :P")}function n(j,q,Q){for(var $=0;4>$;$++)if(j[q+$]!=Q.charCodeAt($))return!0;return!1}function o(j,q,Q,$,R){for(var Y=0;Y<R;Y++)j[q+Y]=Q[$+Y]}function a(j,q,Q,$){for(var R=0;R<$;R++)j[q+R]=Q}function c(j){return new Int32Array(j)}function d(j,q){for(var Q=[],$=0;$<j;$++)Q.push(new q);return Q}function f(j,q){var Q=[];return function $(R,Y,B){for(var ne=B[Y],de=0;de<ne&&(R.push(B.length>Y+1?[]:new q),!(B.length<Y+1));de++)$(R[de],Y+1,B)}(Q,0,j),Q}var p=function(){var j=this;function q(I,L){for(var W=1<<L-1>>>0;I&W;)W>>>=1;return W?(I&W-1)+W:I}function Q(I,L,W,te,le){r(!(te%W));do I[L+(te-=W)]=le;while(0<te)}function $(I,L,W,te,le){if(r(2328>=le),512>=le)var fe=c(512);else if((fe=c(le))==null)return 0;return function(me,ke,ve,Ee,Re,tt){var nt,$e,bt=ke,ot=1<<ve,je=c(16),qe=c(16);for(r(Re!=0),r(Ee!=null),r(me!=null),r(0<ve),$e=0;$e<Re;++$e){if(15<Ee[$e])return 0;++je[Ee[$e]]}if(je[0]==Re)return 0;for(qe[1]=0,nt=1;15>nt;++nt){if(je[nt]>1<<nt)return 0;qe[nt+1]=qe[nt]+je[nt]}for($e=0;$e<Re;++$e)nt=Ee[$e],0<Ee[$e]&&(tt[qe[nt]++]=$e);if(qe[15]==1)return(Ee=new R).g=0,Ee.value=tt[0],Q(me,bt,1,ot,Ee),ot;var mt,wt=-1,gt=ot-1,jt=0,Ze=1,Jt=1,Pt=1<<ve;for($e=0,nt=1,Re=2;nt<=ve;++nt,Re<<=1){if(Ze+=Jt<<=1,0>(Jt-=je[nt]))return 0;for(;0<je[nt];--je[nt])(Ee=new R).g=nt,Ee.value=tt[$e++],Q(me,bt+jt,Re,Pt,Ee),jt=q(jt,nt)}for(nt=ve+1,Re=2;15>=nt;++nt,Re<<=1){if(Ze+=Jt<<=1,0>(Jt-=je[nt]))return 0;for(;0<je[nt];--je[nt]){if(Ee=new R,(jt&gt)!=wt){for(bt+=Pt,mt=1<<(wt=nt)-ve;15>wt&&!(0>=(mt-=je[wt]));)++wt,mt<<=1;ot+=Pt=1<<(mt=wt-ve),me[ke+(wt=jt&gt)].g=mt+ve,me[ke+wt].value=bt-ke-wt}Ee.g=nt-ve,Ee.value=tt[$e++],Q(me,bt+(jt>>ve),Re,Pt,Ee),jt=q(jt,nt)}}return Ze!=2*qe[15]-1?0:ot}(I,L,W,te,le,fe)}function R(){this.value=this.g=0}function Y(){this.value=this.g=0}function B(){this.G=d(5,R),this.H=c(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(pi,Y)}function ne(I,L,W,te){r(I!=null),r(L!=null),r(2147483648>te),I.Ca=254,I.I=0,I.b=-8,I.Ka=0,I.oa=L,I.pa=W,I.Jd=L,I.Yc=W+te,I.Zc=4<=te?W+te-4+1:W,Pe(I)}function de(I,L){for(var W=0;0<L--;)W|=Ne(I,128)<<L;return W}function ae(I,L){var W=de(I,L);return Te(I)?-W:W}function oe(I,L,W,te){var le,fe=0;for(r(I!=null),r(L!=null),r(4294967288>te),I.Sb=te,I.Ra=0,I.u=0,I.h=0,4<te&&(te=4),le=0;le<te;++le)fe+=L[W+le]<<8*le;I.Ra=fe,I.bb=te,I.oa=L,I.pa=W}function ye(I){for(;8<=I.u&&I.bb<I.Sb;)I.Ra>>>=8,I.Ra+=I.oa[I.pa+I.bb]<<du-8>>>0,++I.bb,I.u-=8;se(I)&&(I.h=1,I.u=0)}function re(I,L){if(r(0<=L),!I.h&&L<=uu){var W=Z(I)&cu[L];return I.u+=L,ye(I),W}return I.h=1,I.u=0}function xe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(I){return I.Ra>>>(I.u&du-1)>>>0}function se(I){return r(I.bb<=I.Sb),I.h||I.bb==I.Sb&&I.u>du}function pe(I,L){I.u=L,I.h=se(I)}function we(I){I.u>=hu&&(r(I.u>=hu),ye(I))}function Pe(I){r(I!=null&&I.oa!=null),I.pa<I.Zc?(I.I=(I.oa[I.pa++]|I.I<<8)>>>0,I.b+=8):(r(I!=null&&I.oa!=null),I.pa<I.Yc?(I.b+=8,I.I=I.oa[I.pa++]|I.I<<8):I.Ka?I.b=0:(I.I<<=8,I.b+=8,I.Ka=1))}function Te(I){return de(I,1)}function Ne(I,L){var W=I.Ca;0>I.b&&Pe(I);var te=I.b,le=W*L>>>8,fe=(I.I>>>te>le)+0;for(fe?(W-=le,I.I-=le+1<<te>>>0):W=le+1,te=W,le=0;256<=te;)le+=8,te>>=8;return te=7^le+Ji[te],I.b-=te,I.Ca=(W<<te)-1,fe}function rt(I,L,W){I[L+0]=W>>24&255,I[L+1]=W>>16&255,I[L+2]=W>>8&255,I[L+3]=W>>0&255}function Ke(I,L){return I[L+0]<<0|I[L+1]<<8}function Qe(I,L){return Ke(I,L)|I[L+2]<<16}function ze(I,L){return Ke(I,L)|Ke(I,L+2)<<16}function J(I,L){var W=1<<L;return r(I!=null),r(0<L),I.X=c(W),I.X==null?0:(I.Mb=32-L,I.Xa=L,1)}function Ce(I,L){r(I!=null),r(L!=null),r(I.Xa==L.Xa),o(L.X,0,I.X,0,1<<L.Xa)}function ue(){this.X=[],this.Xa=this.Mb=0}function ge(I,L,W,te){r(W!=null),r(te!=null);var le=W[0],fe=te[0];return le==0&&(le=(I*fe+L/2)/L),fe==0&&(fe=(L*le+I/2)/I),0>=le||0>=fe?0:(W[0]=le,te[0]=fe,1)}function he(I,L){return I+(1<<L)-1>>>L}function _e(I,L){return((4278255360&I)+(4278255360&L)>>>0&4278255360)+((16711935&I)+(16711935&L)>>>0&16711935)>>>0}function Me(I,L){j[L]=function(W,te,le,fe,me,ke,ve){var Ee;for(Ee=0;Ee<me;++Ee){var Re=j[I](ke[ve+Ee-1],le,fe+Ee);ke[ve+Ee]=_e(W[te+Ee],Re)}}}function Ie(){this.ud=this.hd=this.jd=0}function Ae(I,L){return((4278124286&(I^L))>>>1)+(I&L)>>>0}function Oe(I){return 0<=I&&256>I?I:0>I?0:255<I?255:void 0}function Ge(I,L){return Oe(I+(I-L+.5>>1))}function Xe(I,L,W){return Math.abs(L-W)-Math.abs(I-W)}function dt(I,L,W,te,le,fe,me){for(te=fe[me-1],W=0;W<le;++W)fe[me+W]=te=_e(I[L+W],te)}function Ue(I,L,W,te,le){var fe;for(fe=0;fe<W;++fe){var me=I[L+fe],ke=me>>8&255,ve=16711935&(ve=(ve=16711935&me)+((ke<<16)+ke));te[le+fe]=(4278255360&me)+ve>>>0}}function We(I,L){L.jd=I>>0&255,L.hd=I>>8&255,L.ud=I>>16&255}function Ye(I,L,W,te,le,fe){var me;for(me=0;me<te;++me){var ke=L[W+me],ve=ke>>>8,Ee=ke,Re=255&(Re=(Re=ke>>>16)+((I.jd<<24>>24)*(ve<<24>>24)>>>5));Ee=255&(Ee=(Ee=Ee+((I.hd<<24>>24)*(ve<<24>>24)>>>5))+((I.ud<<24>>24)*(Re<<24>>24)>>>5)),le[fe+me]=(4278255360&ke)+(Re<<16)+Ee}}function St(I,L,W,te,le){j[L]=function(fe,me,ke,ve,Ee,Re,tt,nt,$e){for(ve=tt;ve<nt;++ve)for(tt=0;tt<$e;++tt)Ee[Re++]=le(ke[te(fe[me++])])},j[I]=function(fe,me,ke,ve,Ee,Re,tt){var nt=8>>fe.b,$e=fe.Ea,bt=fe.K[0],ot=fe.w;if(8>nt)for(fe=(1<<fe.b)-1,ot=(1<<nt)-1;me<ke;++me){var je,qe=0;for(je=0;je<$e;++je)je&fe||(qe=te(ve[Ee++])),Re[tt++]=le(bt[qe&ot]),qe>>=nt}else j["VP8LMapColor"+W](ve,Ee,bt,ot,Re,tt,me,ke,$e)}}function ht(I,L,W,te,le){for(W=L+W;L<W;){var fe=I[L++];te[le++]=fe>>16&255,te[le++]=fe>>8&255,te[le++]=fe>>0&255}}function tn(I,L,W,te,le){for(W=L+W;L<W;){var fe=I[L++];te[le++]=fe>>16&255,te[le++]=fe>>8&255,te[le++]=fe>>0&255,te[le++]=fe>>24&255}}function pt(I,L,W,te,le){for(W=L+W;L<W;){var fe=(me=I[L++])>>16&240|me>>12&15,me=me>>0&240|me>>28&15;te[le++]=fe,te[le++]=me}}function Vt(I,L,W,te,le){for(W=L+W;L<W;){var fe=(me=I[L++])>>16&248|me>>13&7,me=me>>5&224|me>>3&31;te[le++]=fe,te[le++]=me}}function Rt(I,L,W,te,le){for(W=L+W;L<W;){var fe=I[L++];te[le++]=fe>>0&255,te[le++]=fe>>8&255,te[le++]=fe>>16&255}}function zt(I,L,W,te,le,fe){if(fe==0)for(W=L+W;L<W;)rt(te,((fe=I[L++])[0]>>24|fe[1]>>8&65280|fe[2]<<8&16711680|fe[3]<<24)>>>0),le+=32;else o(te,le,I,L,W)}function Yt(I,L){j[L][0]=j[I+"0"],j[L][1]=j[I+"1"],j[L][2]=j[I+"2"],j[L][3]=j[I+"3"],j[L][4]=j[I+"4"],j[L][5]=j[I+"5"],j[L][6]=j[I+"6"],j[L][7]=j[I+"7"],j[L][8]=j[I+"8"],j[L][9]=j[I+"9"],j[L][10]=j[I+"10"],j[L][11]=j[I+"11"],j[L][12]=j[I+"12"],j[L][13]=j[I+"13"],j[L][14]=j[I+"0"],j[L][15]=j[I+"0"]}function pn(I){return I==Gp||I==Xh||I==Ed||I==ef}function En(){this.eb=[],this.size=this.A=this.fb=0}function zn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Mr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new En,this.f.kb=new zn,this.sd=null}function qr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ln(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xt(I){return alert("todo:WebPSamplerProcessPlane"),I.T}function Dn(I,L){var W=I.T,te=L.ba.f.RGBA,le=te.eb,fe=te.fb+I.ka*te.A,me=Jo[L.ba.S],ke=I.y,ve=I.O,Ee=I.f,Re=I.N,tt=I.ea,nt=I.W,$e=L.cc,bt=L.dc,ot=L.Mc,je=L.Nc,qe=I.ka,mt=I.ka+I.T,wt=I.U,gt=wt+1>>1;for(qe==0?me(ke,ve,null,null,Ee,Re,tt,nt,Ee,Re,tt,nt,le,fe,null,null,wt):(me(L.ec,L.fc,ke,ve,$e,bt,ot,je,Ee,Re,tt,nt,le,fe-te.A,le,fe,wt),++W);qe+2<mt;qe+=2)$e=Ee,bt=Re,ot=tt,je=nt,Re+=I.Rc,nt+=I.Rc,fe+=2*te.A,me(ke,(ve+=2*I.fa)-I.fa,ke,ve,$e,bt,ot,je,Ee,Re,tt,nt,le,fe-te.A,le,fe,wt);return ve+=I.fa,I.j+mt<I.o?(o(L.ec,L.fc,ke,ve,wt),o(L.cc,L.dc,Ee,Re,gt),o(L.Mc,L.Nc,tt,nt,gt),W--):1&mt||me(ke,ve,null,null,Ee,Re,tt,nt,Ee,Re,tt,nt,le,fe+te.A,null,null,wt),W}function No(I,L,W){var te=I.F,le=[I.J];if(te!=null){var fe=I.U,me=L.ba.S,ke=me==Sd||me==Ed;L=L.ba.f.RGBA;var ve=[0],Ee=I.ka;ve[0]=I.T,I.Kb&&(Ee==0?--ve[0]:(--Ee,le[0]-=I.width),I.j+I.ka+I.T==I.o&&(ve[0]=I.o-I.j-Ee));var Re=L.eb;Ee=L.fb+Ee*L.A,I=Yn(te,le[0],I.width,fe,ve,Re,Ee+(ke?0:3),L.A),r(W==ve),I&&pn(me)&&jo(Re,Ee,ke,fe,ve,L.A)}return 0}function Nn(I){var L=I.ma,W=L.ba.S,te=11>W,le=W==Ad||W==xd||W==Sd||W==Zh||W==12||pn(W);if(L.memory=null,L.Ib=null,L.Jb=null,L.Nd=null,!wd(L.Oa,I,le?11:12))return 0;if(le&&pn(W)&&_t(),I.da)alert("todo:use_scaling");else{if(te){if(L.Ib=Xt,I.Kb){if(W=I.U+1>>1,L.memory=c(I.U+2*W),L.memory==null)return 0;L.ec=L.memory,L.fc=0,L.cc=L.ec,L.dc=L.fc+I.U,L.Mc=L.cc,L.Nc=L.dc+W,L.Ib=Dn,_t()}}else alert("todo:EmitYUV");le&&(L.Jb=No,te&&Je())}if(te&&!Sb){for(I=0;256>I;++I)Ss[I]=89858*(I-128)+mu>>Dd,Zi[I]=-22014*(I-128)+mu,Ti[I]=-45773*(I-128),Ii[I]=113618*(I-128)+mu>>Dd;for(I=Id;I<Zp;++I)L=76283*(I-16)+mu>>Dd,la[I-Id]=Po(L,255),Xp[I-Id]=Po(L+8>>4,15);Sb=1}return 1}function zi(I){var L=I.ma,W=I.U,te=I.T;return r(!(1&I.ka)),0>=W||0>=te?0:(W=L.Ib(I,L),L.Jb!=null&&L.Jb(I,L,W),L.Dc+=W,1)}function ei(I){I.ma.memory=null}function Ht(I,L,W,te){return re(I,8)!=47?0:(L[0]=re(I,14)+1,W[0]=re(I,14)+1,te[0]=re(I,1),re(I,3)!=0?0:!I.h)}function Oi(I,L){if(4>I)return I+1;var W=I-2>>1;return(2+(1&I)<<W)+re(L,W)+1}function Ui(I,L){return 120<L?L-120:1<=(W=((W=xw[L-1])>>4)*I+(8-(15&W)))?W:1;var W}function kt(I,L,W){var te=Z(W),le=I[L+=255&te].g-8;return 0<le&&(pe(W,W.u+8),te=Z(W),L+=I[L].value,L+=te&(1<<le)-1),pe(W,W.u+I[L].g),I[L].value}function At(I,L,W){return W.g+=I.g,W.value+=I.value<<L>>>0,r(8>=W.g),I.g}function Ct(I,L,W){var te=I.xc;return r((L=te==0?0:I.vc[I.md*(W>>te)+(L>>te)])<I.Wb),I.Ya[L]}function Ot(I,L,W,te){var le=I.ab,fe=I.c*L,me=I.C;L=me+L;var ke=W,ve=te;for(te=I.Ta,W=I.Ua;0<le--;){var Ee=I.gc[le],Re=me,tt=L,nt=ke,$e=ve,bt=(ve=te,ke=W,Ee.Ea);switch(r(Re<tt),r(tt<=Ee.nc),Ee.hc){case 2:Kh(nt,$e,(tt-Re)*bt,ve,ke);break;case 0:var ot=Re,je=tt,qe=ve,mt=ke,wt=(Pt=Ee).Ea;ot==0&&(Wp(nt,$e,null,null,1,qe,mt),dt(nt,$e+1,0,0,wt-1,qe,mt+1),$e+=wt,mt+=wt,++ot);for(var gt=1<<Pt.b,jt=gt-1,Ze=he(wt,Pt.b),Jt=Pt.K,Pt=Pt.w+(ot>>Pt.b)*Ze;ot<je;){var Nt=Jt,Bn=Pt,Pn=1;for(fu(nt,$e,qe,mt-wt,1,qe,mt);Pn<wt;){var Cn=(Pn&~jt)+gt;Cn>wt&&(Cn=wt),(0,Ba[Nt[Bn++]>>8&15])(nt,$e+ +Pn,qe,mt+Pn-wt,Cn-Pn,qe,mt+Pn),Pn=Cn}$e+=wt,mt+=wt,++ot&jt||(Pt+=Ze)}tt!=Ee.nc&&o(ve,ke-bt,ve,ke+(tt-Re-1)*bt,bt);break;case 1:for(bt=nt,je=$e,wt=(nt=Ee.Ea)-(mt=nt&~(qe=($e=1<<Ee.b)-1)),ot=he(nt,Ee.b),gt=Ee.K,Ee=Ee.w+(Re>>Ee.b)*ot;Re<tt;){for(jt=gt,Ze=Ee,Jt=new Ie,Pt=je+mt,Nt=je+nt;je<Pt;)We(jt[Ze++],Jt),dc(Jt,bt,je,$e,ve,ke),je+=$e,ke+=$e;je<Nt&&(We(jt[Ze++],Jt),dc(Jt,bt,je,wt,ve,ke),je+=wt,ke+=wt),++Re&qe||(Ee+=ot)}break;case 3:if(nt==ve&&$e==ke&&0<Ee.b){for(je=ve,nt=bt=ke+(tt-Re)*bt-(mt=(tt-Re)*he(Ee.Ea,Ee.b)),$e=ve,qe=ke,ot=[],mt=(wt=mt)-1;0<=mt;--mt)ot[mt]=$e[qe+mt];for(mt=wt-1;0<=mt;--mt)je[nt+mt]=ot[mt];Oo(Ee,Re,tt,ve,bt,ve,ke)}else Oo(Ee,Re,tt,nt,$e,ve,ke)}ke=te,ve=W}ve!=W&&o(te,W,ke,ve,fe)}function Qt(I,L){var W=I.V,te=I.Ba+I.c*I.C,le=L-I.C;if(r(L<=I.l.o),r(16>=le),0<le){var fe=I.l,me=I.Ta,ke=I.Ua,ve=fe.width;if(Ot(I,le,W,te),le=ke=[ke],r((W=I.C)<(te=L)),r(fe.v<fe.va),te>fe.o&&(te=fe.o),W<fe.j){var Ee=fe.j-W;W=fe.j,le[0]+=Ee*ve}if(W>=te?W=0:(le[0]+=4*fe.v,fe.ka=W-fe.j,fe.U=fe.va-fe.v,fe.T=te-W,W=1),W){if(ke=ke[0],11>(W=I.ca).S){var Re=W.f.RGBA,tt=(te=W.S,le=fe.U,fe=fe.T,Ee=Re.eb,Re.A),nt=fe;for(Re=Re.fb+I.Ma*Re.A;0<nt--;){var $e=me,bt=ke,ot=le,je=Ee,qe=Re;switch(te){case aa:ko($e,bt,ot,je,qe);break;case Ad:Hi($e,bt,ot,je,qe);break;case Gp:Hi($e,bt,ot,je,qe),jo(je,qe,0,ot,1,0);break;case Cd:ra($e,bt,ot,je,qe);break;case xd:zt($e,bt,ot,je,qe,1);break;case Xh:zt($e,bt,ot,je,qe,1),jo(je,qe,0,ot,1,0);break;case Sd:zt($e,bt,ot,je,qe,0);break;case Ed:zt($e,bt,ot,je,qe,0),jo(je,qe,1,ot,1,0);break;case Zh:hl($e,bt,ot,je,qe);break;case ef:hl($e,bt,ot,je,qe),Ut(je,qe,ot,1,0);break;case pb:na($e,bt,ot,je,qe);break;default:r(0)}ke+=ve,Re+=tt}I.Ma+=fe}else alert("todo:EmitRescaledRowsYUVA");r(I.Ma<=W.height)}}I.C=L,r(I.C<=I.i)}function Wn(I){var L;if(0<I.ua)return 0;for(L=0;L<I.Wb;++L){var W=I.Ya[L].G,te=I.Ya[L].H;if(0<W[1][te[1]+0].g||0<W[2][te[2]+0].g||0<W[3][te[3]+0].g)return 0}return 1}function Pr(I,L,W,te,le,fe){if(I.Z!=0){var me=I.qd,ke=I.rd;for(r(Fa[I.Z]!=null);L<W;++L)Fa[I.Z](me,ke,te,le,te,le,fe),me=te,ke=le,le+=fe;I.qd=me,I.rd=ke}}function Go(I,L){var W=I.l.ma,te=W.Z==0||W.Z==1?I.l.j:I.C;if(te=I.C<te?te:I.C,r(L<=I.l.o),L>te){var le=I.l.width,fe=W.ca,me=W.tb+le*te,ke=I.V,ve=I.Ba+I.c*te,Ee=I.gc;r(I.ab==1),r(Ee[0].hc==3),vd(Ee[0],te,L,ke,ve,fe,me),Pr(W,te,L,fe,me,le)}I.C=I.Ma=L}function Mo(I,L,W,te,le,fe,me){var ke=I.$/te,ve=I.$%te,Ee=I.m,Re=I.s,tt=W+I.$,nt=tt;le=W+te*le;var $e=W+te*fe,bt=280+Re.ua,ot=I.Pb?ke:16777216,je=0<Re.ua?Re.Wa:null,qe=Re.wc,mt=tt<$e?Ct(Re,ve,ke):null;r(I.C<fe),r($e<=le);var wt=!1;e:for(;;){for(;wt||tt<$e;){var gt=0;if(ke>=ot){var jt=tt-W;r((ot=I).Pb),ot.wd=ot.m,ot.xd=jt,0<ot.s.ua&&Ce(ot.s.Wa,ot.s.vb),ot=ke+Mn}if(ve&qe||(mt=Ct(Re,ve,ke)),r(mt!=null),mt.Qb&&(L[tt]=mt.qb,wt=!0),!wt)if(we(Ee),mt.jc){gt=Ee,jt=L;var Ze=tt,Jt=mt.pd[Z(gt)&pi-1];r(mt.jc),256>Jt.g?(pe(gt,gt.u+Jt.g),jt[Ze]=Jt.value,gt=0):(pe(gt,gt.u+Jt.g-256),r(256<=Jt.value),gt=Jt.value),gt==0&&(wt=!0)}else gt=kt(mt.G[0],mt.H[0],Ee);if(Ee.h)break;if(wt||256>gt){if(!wt)if(mt.nd)L[tt]=(mt.qb|gt<<8)>>>0;else{if(we(Ee),wt=kt(mt.G[1],mt.H[1],Ee),we(Ee),jt=kt(mt.G[2],mt.H[2],Ee),Ze=kt(mt.G[3],mt.H[3],Ee),Ee.h)break;L[tt]=(Ze<<24|wt<<16|gt<<8|jt)>>>0}if(wt=!1,++tt,++ve>=te&&(ve=0,++ke,me!=null&&ke<=fe&&!(ke%16)&&me(I,ke),je!=null))for(;nt<tt;)gt=L[nt++],je.X[(506832829*gt&4294967295)>>>je.Mb]=gt}else if(280>gt){if(gt=Oi(gt-256,Ee),jt=kt(mt.G[4],mt.H[4],Ee),we(Ee),jt=Ui(te,jt=Oi(jt,Ee)),Ee.h)break;if(tt-W<jt||le-tt<gt)break e;for(Ze=0;Ze<gt;++Ze)L[tt+Ze]=L[tt+Ze-jt];for(tt+=gt,ve+=gt;ve>=te;)ve-=te,++ke,me!=null&&ke<=fe&&!(ke%16)&&me(I,ke);if(r(tt<=le),ve&qe&&(mt=Ct(Re,ve,ke)),je!=null)for(;nt<tt;)gt=L[nt++],je.X[(506832829*gt&4294967295)>>>je.Mb]=gt}else{if(!(gt<bt))break e;for(wt=gt-280,r(je!=null);nt<tt;)gt=L[nt++],je.X[(506832829*gt&4294967295)>>>je.Mb]=gt;gt=tt,r(!(wt>>>(jt=je).Xa)),L[gt]=jt.X[wt],wt=!0}wt||r(Ee.h==se(Ee))}if(I.Pb&&Ee.h&&tt<le)r(I.m.h),I.a=5,I.m=I.wd,I.$=I.xd,0<I.s.ua&&Ce(I.s.vb,I.s.Wa);else{if(Ee.h)break e;me!=null&&me(I,ke>fe?fe:ke),I.a=0,I.$=tt-W}return 1}return I.a=3,0}function qi(I){r(I!=null),I.vc=null,I.yc=null,I.Ya=null;var L=I.Wa;L!=null&&(L.X=null),I.vb=null,r(I!=null)}function bo(){var I=new Gh;return I==null?null:(I.a=0,I.xb=vb,Yt("Predictor","VP8LPredictors"),Yt("Predictor","VP8LPredictors_C"),Yt("PredictorAdd","VP8LPredictorsAdd"),Yt("PredictorAdd","VP8LPredictorsAdd_C"),Kh=Ue,dc=Ye,ko=ht,Hi=tn,hl=pt,na=Vt,ra=Rt,j.VP8LMapColor32b=pu,j.VP8LMapColor8b=Qh,I)}function ms(I,L,W,te,le){var fe=1,me=[I],ke=[L],ve=te.m,Ee=te.s,Re=null,tt=0;e:for(;;){if(W)for(;fe&&re(ve,1);){var nt=me,$e=ke,bt=te,ot=1,je=bt.m,qe=bt.gc[bt.ab],mt=re(je,2);if(bt.Oc&1<<mt)fe=0;else{switch(bt.Oc|=1<<mt,qe.hc=mt,qe.Ea=nt[0],qe.nc=$e[0],qe.K=[null],++bt.ab,r(4>=bt.ab),mt){case 0:case 1:qe.b=re(je,3)+2,ot=ms(he(qe.Ea,qe.b),he(qe.nc,qe.b),0,bt,qe.K),qe.K=qe.K[0];break;case 3:var wt,gt=re(je,8)+1,jt=16<gt?0:4<gt?1:2<gt?2:3;if(nt[0]=he(qe.Ea,jt),qe.b=jt,wt=ot=ms(gt,1,0,bt,qe.K)){var Ze,Jt=gt,Pt=qe,Nt=1<<(8>>Pt.b),Bn=c(Nt);if(Bn==null)wt=0;else{var Pn=Pt.K[0],Cn=Pt.w;for(Bn[0]=Pt.K[0][0],Ze=1;Ze<1*Jt;++Ze)Bn[Ze]=_e(Pn[Cn+Ze],Bn[Ze-1]);for(;Ze<4*Nt;++Ze)Bn[Ze]=0;Pt.K[0]=null,Pt.K[0]=Bn,wt=1}}ot=wt;break;case 2:break;default:r(0)}fe=ot}}if(me=me[0],ke=ke[0],fe&&re(ve,1)&&!(fe=1<=(tt=re(ve,4))&&11>=tt)){te.a=3;break e}var sr;if(sr=fe)t:{var lt,mn,$t,Xi=te,Gr=me,eo=ke,$n=tt,Fo=W,zo=Xi.m,gi=Xi.s,ti=[null],to=1,Uo=0,ca=kb[$n];n:for(;;){if(Fo&&re(zo,1)){var Yr=re(zo,3)+2,ua=he(Gr,Yr),vl=he(eo,Yr),bu=ua*vl;if(!ms(ua,vl,0,Xi,ti))break n;for(ti=ti[0],gi.xc=Yr,lt=0;lt<bu;++lt){var _l=ti[lt]>>8&65535;ti[lt]=_l,_l>=to&&(to=_l+1)}}if(zo.h)break n;for(mn=0;5>mn;++mn){var Lr=gb[mn];!mn&&0<$n&&(Lr+=1<<$n),Uo<Lr&&(Uo=Lr)}var Td=d(to*ca,R),em=to,Db=d(em,B);if(Db==null)var da=null;else r(65536>=em),da=Db;var ku=c(Uo);if(da==null||ku==null||Td==null){Xi.a=1;break n}var ha=Td;for(lt=$t=0;lt<to;++lt){var xn=da[lt],no=xn.G,ro=xn.H,tm=0,wu=1,Nd=0;for(mn=0;5>mn;++mn){Lr=gb[mn],no[mn]=ha,ro[mn]=$t,!mn&&0<$n&&(Lr+=1<<$n);i:{var rf,nm=Lr,yu=Xi,bc=ku,Mw=ha,Pw=$t,rm=0,Al=yu.m,Ow=re(Al,1);if(a(bc,0,0,nm),Ow){var Lw=re(Al,1)+1,Bw=re(Al,1),im=re(Al,Bw==0?1:8);bc[im]=1,Lw==2&&(bc[im=re(Al,8)]=1);var Md=1}else{var Ib=c(19),of=re(Al,4)+4;if(19<of){yu.a=3;var kc=0;break i}for(rf=0;rf<of;++rf)Ib[Cw[rf]]=re(Al,3);var om=void 0,fa=void 0,sf=yu,Tb=Ib,af=nm,Nb=bc,sm=0,Zo=sf.m,Mb=8,Pb=d(128,R);r:for(;$(Pb,0,7,Tb,19);){if(re(Zo,1)){var am=2+2*re(Zo,3);if((om=2+re(Zo,am))>af)break r}else om=af;for(fa=0;fa<af&&om--;){we(Zo);var Ob=Pb[0+(127&Z(Zo))];pe(Zo,Zo.u+Ob.g);var Cl=Ob.value;if(16>Cl)Nb[fa++]=Cl,Cl!=0&&(Mb=Cl);else{var lm=Cl==16,yo=Cl-16,Lb=Yp[yo],vu=re(Zo,mb[yo])+Lb;if(fa+vu>af)break r;for(var jw=lm?Mb:0;0<vu--;)Nb[fa++]=jw}}sm=1;break r}sm||(sf.a=3),Md=sm}(Md=Md&&!Al.h)&&(rm=$(Mw,Pw,8,bc,nm)),Md&&rm!=0?kc=rm:(yu.a=3,kc=0)}if(kc==0)break n;if(wu&&bb[mn]==1&&(wu=ha[$t].g==0),tm+=ha[$t].g,$t+=kc,3>=mn){var xl,lf=ku[0];for(xl=1;xl<Lr;++xl)ku[xl]>lf&&(lf=ku[xl]);Nd+=lf}}if(xn.nd=wu,xn.Qb=0,wu&&(xn.qb=(no[3][ro[3]+0].value<<24|no[1][ro[1]+0].value<<16|no[2][ro[2]+0].value)>>>0,tm==0&&256>no[0][ro[0]+0].value&&(xn.Qb=1,xn.qb+=no[0][ro[0]+0].value<<8)),xn.jc=!xn.Qb&&6>Nd,xn.jc){var Pd,io=xn;for(Pd=0;Pd<pi;++Pd){var Dt=Pd,Gt=io.pd[Dt],wc=io.G[0][io.H[0]+Dt];256<=wc.value?(Gt.g=wc.g+256,Gt.value=wc.value):(Gt.g=0,Gt.value=0,Dt>>=At(wc,8,Gt),Dt>>=At(io.G[1][io.H[1]+Dt],16,Gt),Dt>>=At(io.G[2][io.H[2]+Dt],0,Gt),At(io.G[3][io.H[3]+Dt],24,Gt))}}}gi.vc=ti,gi.Wb=to,gi.Ya=da,gi.yc=Td,sr=1;break t}sr=0}if(!(fe=sr)){te.a=3;break e}if(0<tt){if(Ee.ua=1<<tt,!J(Ee.Wa,tt)){te.a=1,fe=0;break e}}else Ee.ua=0;var qo=te,cf=me,_u=ke,Od=qo.s,Ld=Od.xc;if(qo.c=cf,qo.i=_u,Od.md=he(cf,Ld),Od.wc=Ld==0?-1:(1<<Ld)-1,W){te.xb=yl;break e}if((Re=c(me*ke))==null){te.a=1,fe=0;break e}fe=(fe=Mo(te,Re,0,me,ke,ke,null))&&!ve.h;break e}return fe?(le!=null?le[0]=Re:(r(Re==null),r(W)),te.$=0,W||qi(Ee)):qi(Ee),fe}function nc(I,L){var W=I.c*I.i,te=W+L+16*L;return r(I.c<=L),I.V=c(te),I.V==null?(I.Ta=null,I.Ua=0,I.a=1,0):(I.Ta=I.V,I.Ua=I.Ba+W+L,1)}function Gc(I,L){var W=I.C,te=L-W,le=I.V,fe=I.Ba+I.c*W;for(r(L<=I.l.o);0<te;){var me=16<te?16:te,ke=I.l.ma,ve=I.l.width,Ee=ve*me,Re=ke.ca,tt=ke.tb+ve*W,nt=I.Ta,$e=I.Ua;Ot(I,me,le,fe),Or(nt,$e,Re,tt,Ee),Pr(ke,W,W+me,Re,tt,ve),te-=me,le+=me*I.c,W+=me}r(W==L),I.C=I.Ma=L}function Yo(){this.ub=this.yd=this.td=this.Rb=0}function Yc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Kc(){this.Fb=this.Bb=this.Cb=0,this.Zb=c(4),this.Lb=c(4)}function Lh(){this.Yb=function(){var I=[];return function L(W,te,le){for(var fe=le[te],me=0;me<fe&&(W.push(le.length>te+1?[]:0),!(le.length<te+1));me++)L(W[me],te+1,le)}(I,0,[3,11]),I}()}function Pp(){this.jb=c(3),this.Wc=f([4,8],Lh),this.Xc=f([4,17],Lh)}function Op(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new c(4),this.od=new c(4)}function Qc(){this.ld=this.La=this.dd=this.tc=0}function Bh(){this.Na=this.la=0}function Lp(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function gs(){this.ad=c(384),this.Za=0,this.Ob=c(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function rc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Qc),this.Y=0,this.ya=Array(new gs),this.aa=0,this.l=new Jc}function ol(){this.y=c(16),this.f=c(8),this.ea=c(8)}function Bp(){this.cb=this.a=0,this.sc="",this.m=new xe,this.Od=new Yo,this.Kc=new Yc,this.ed=new Op,this.Qa=new Kc,this.Ic=this.$c=this.Aa=0,this.D=new rc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,xe),this.ia=0,this.pb=d(4,Lp),this.Pa=new Pp,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ol),this.Hd=0,this.rb=Array(new Bh),this.sb=0,this.wa=Array(new Qc),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new gs),this.L=this.aa=0,this.gd=f([4,2],Qc),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Jc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function jp(){var I=new Bp;return I!=null&&(I.a=0,I.sc="OK",I.cb=0,I.Xb=0,ja||(ja=Fh)),I}function Vr(I,L,W){return I.a==0&&(I.a=L,I.sc=W,I.cb=0),0}function jh(I,L,W){return 3<=W&&I[L+0]==157&&I[L+1]==1&&I[L+2]==42}function Rh(I,L){if(I==null)return 0;if(I.a=0,I.sc="OK",L==null)return Vr(I,2,"null VP8Io passed to VP8GetHeaders()");var W=L.data,te=L.w,le=L.ha;if(4>le)return Vr(I,7,"Truncated header.");var fe=W[te+0]|W[te+1]<<8|W[te+2]<<16,me=I.Od;if(me.Rb=!(1&fe),me.td=fe>>1&7,me.yd=fe>>4&1,me.ub=fe>>5,3<me.td)return Vr(I,3,"Incorrect keyframe parameters.");if(!me.yd)return Vr(I,4,"Frame not displayable.");te+=3,le-=3;var ke=I.Kc;if(me.Rb){if(7>le)return Vr(I,7,"cannot parse picture header");if(!jh(W,te,le))return Vr(I,3,"Bad code word");ke.c=16383&(W[te+4]<<8|W[te+3]),ke.Td=W[te+4]>>6,ke.i=16383&(W[te+6]<<8|W[te+5]),ke.Ud=W[te+6]>>6,te+=7,le-=7,I.za=ke.c+15>>4,I.Ub=ke.i+15>>4,L.width=ke.c,L.height=ke.i,L.Da=0,L.j=0,L.v=0,L.va=L.width,L.o=L.height,L.da=0,L.ib=L.width,L.hb=L.height,L.U=L.width,L.T=L.height,a((fe=I.Pa).jb,0,255,fe.jb.length),r((fe=I.Qa)!=null),fe.Cb=0,fe.Bb=0,fe.Fb=1,a(fe.Zb,0,0,fe.Zb.length),a(fe.Lb,0,0,fe.Lb)}if(me.ub>le)return Vr(I,7,"bad partition length");ne(fe=I.m,W,te,me.ub),te+=me.ub,le-=me.ub,me.Rb&&(ke.Ld=Te(fe),ke.Kd=Te(fe)),ke=I.Qa;var ve,Ee=I.Pa;if(r(fe!=null),r(ke!=null),ke.Cb=Te(fe),ke.Cb){if(ke.Bb=Te(fe),Te(fe)){for(ke.Fb=Te(fe),ve=0;4>ve;++ve)ke.Zb[ve]=Te(fe)?ae(fe,7):0;for(ve=0;4>ve;++ve)ke.Lb[ve]=Te(fe)?ae(fe,6):0}if(ke.Bb)for(ve=0;3>ve;++ve)Ee.jb[ve]=Te(fe)?de(fe,8):255}else ke.Bb=0;if(fe.Ka)return Vr(I,3,"cannot parse segment header");if((ke=I.ed).zd=Te(fe),ke.Tb=de(fe,6),ke.wb=de(fe,3),ke.Pc=Te(fe),ke.Pc&&Te(fe)){for(Ee=0;4>Ee;++Ee)Te(fe)&&(ke.vd[Ee]=ae(fe,6));for(Ee=0;4>Ee;++Ee)Te(fe)&&(ke.od[Ee]=ae(fe,6))}if(I.L=ke.Tb==0?0:ke.zd?1:2,fe.Ka)return Vr(I,3,"cannot parse filter header");var Re=le;if(le=ve=te,te=ve+Re,ke=Re,I.Xb=(1<<de(I.m,2))-1,Re<3*(Ee=I.Xb))W=7;else{for(ve+=3*Ee,ke-=3*Ee,Re=0;Re<Ee;++Re){var tt=W[le+0]|W[le+1]<<8|W[le+2]<<16;tt>ke&&(tt=ke),ne(I.Jc[+Re],W,ve,tt),ve+=tt,ke-=tt,le+=3}ne(I.Jc[+Ee],W,ve,ke),W=ve<te?0:5}if(W!=0)return Vr(I,W,"cannot parse partitions");for(W=de(ve=I.m,7),le=Te(ve)?ae(ve,4):0,te=Te(ve)?ae(ve,4):0,ke=Te(ve)?ae(ve,4):0,Ee=Te(ve)?ae(ve,4):0,ve=Te(ve)?ae(ve,4):0,Re=I.Qa,tt=0;4>tt;++tt){if(Re.Cb){var nt=Re.Zb[tt];Re.Fb||(nt+=W)}else{if(0<tt){I.pb[tt]=I.pb[0];continue}nt=W}var $e=I.pb[tt];$e.Sc[0]=Kp[Po(nt+le,127)],$e.Sc[1]=kl[Po(nt+0,127)],$e.Eb[0]=2*Kp[Po(nt+te,127)],$e.Eb[1]=101581*kl[Po(nt+ke,127)]>>16,8>$e.Eb[1]&&($e.Eb[1]=8),$e.Qc[0]=Kp[Po(nt+Ee,117)],$e.Qc[1]=kl[Po(nt+ve,127)],$e.lc=nt+ve}if(!me.Rb)return Vr(I,4,"Not a key frame.");for(Te(fe),me=I.Pa,W=0;4>W;++W){for(le=0;8>le;++le)for(te=0;3>te;++te)for(ke=0;11>ke;++ke)Ee=Ne(fe,Sw[W][le][te][ke])?de(fe,8):Jp[W][le][te][ke],me.Wc[W][le].Yb[te][ke]=Ee;for(le=0;17>le;++le)me.Xc[W][le]=me.Wc[W][yb[le]]}return I.kc=Te(fe),I.kc&&(I.Bd=de(fe,8)),I.cb=1}function Fh(I,L,W,te,le,fe,me){var ke=L[le].Yb[W];for(W=0;16>le;++le){if(!Ne(I,ke[W+0]))return le;for(;!Ne(I,ke[W+1]);)if(ke=L[++le].Yb[0],W=0,le==16)return 16;var ve=L[le+1].Yb;if(Ne(I,ke[W+2])){var Ee=I,Re=0;if(Ne(Ee,(nt=ke)[(tt=W)+3]))if(Ne(Ee,nt[tt+6])){for(ke=0,tt=2*(Re=Ne(Ee,nt[tt+8]))+(nt=Ne(Ee,nt[tt+9+Re])),Re=0,nt=tf[tt];nt[ke];++ke)Re+=Re+Ne(Ee,nt[ke]);Re+=3+(8<<tt)}else Ne(Ee,nt[tt+7])?(Re=7+2*Ne(Ee,165),Re+=Ne(Ee,145)):Re=5+Ne(Ee,159);else Re=Ne(Ee,nt[tt+4])?3+Ne(Ee,nt[tt+5]):2;ke=ve[2]}else Re=1,ke=ve[1];ve=me+Qp[le],0>(Ee=I).b&&Pe(Ee);var tt,nt=Ee.b,$e=(tt=Ee.Ca>>1)-(Ee.I>>nt)>>31;--Ee.b,Ee.Ca+=$e,Ee.Ca|=1,Ee.I-=(tt+1&$e)<<nt,fe[ve]=((Re^$e)-$e)*te[(0<le)+0]}return 16}function Ys(I){var L=I.rb[I.sb-1];L.la=0,L.Na=0,a(I.zc,0,0,I.zc.length),I.ja=0}function zh(I,L){if(I==null)return 0;if(L==null)return Vr(I,2,"NULL VP8Io parameter in VP8Decode().");if(!I.cb&&!Rh(I,L))return 0;if(r(I.cb),L.ac==null||L.ac(L)){L.ob&&(I.L=0);var W=gu[I.L];if(I.L==2?(I.yb=0,I.zb=0):(I.yb=L.v-W>>4,I.zb=L.j-W>>4,0>I.yb&&(I.yb=0),0>I.zb&&(I.zb=0)),I.Va=L.o+15+W>>4,I.Hb=L.va+15+W>>4,I.Hb>I.za&&(I.Hb=I.za),I.Va>I.Ub&&(I.Va=I.Ub),0<I.L){var te=I.ed;for(W=0;4>W;++W){var le;if(I.Qa.Cb){var fe=I.Qa.Lb[W];I.Qa.Fb||(fe+=te.Tb)}else fe=te.Tb;for(le=0;1>=le;++le){var me=I.gd[W][le],ke=fe;if(te.Pc&&(ke+=te.vd[0],le&&(ke+=te.od[0])),0<(ke=0>ke?0:63<ke?63:ke)){var ve=ke;0<te.wb&&(ve=4<te.wb?ve>>2:ve>>1)>9-te.wb&&(ve=9-te.wb),1>ve&&(ve=1),me.dd=ve,me.tc=2*ke+ve,me.ld=40<=ke?2:15<=ke?1:0}else me.tc=0;me.La=le}}}W=0}else Vr(I,6,"Frame setup failed"),W=I.a;if(W=W==0){if(W){I.$c=0,0<I.Aa||(I.Ic=Eb);e:{W=I.Ic,te=4*(ve=I.za);var Ee=32*ve,Re=ve+1,tt=0<I.L?ve*(0<I.Aa?2:1):0,nt=(I.Aa==2?2:1)*ve;if((me=te+832+(le=3*(16*W+gu[I.L])/2*Ee)+(fe=I.Fa!=null&&0<I.Fa.length?I.Kc.c*I.Kc.i:0))!=me)W=0;else{if(me>I.Vb){if(I.Vb=0,I.Ec=c(me),I.Fc=0,I.Ec==null){W=Vr(I,1,"no memory during frame initialization.");break e}I.Vb=me}me=I.Ec,ke=I.Fc,I.Ac=me,I.Bc=ke,ke+=te,I.Gd=d(Ee,ol),I.Hd=0,I.rb=d(Re+1,Bh),I.sb=1,I.wa=tt?d(tt,Qc):null,I.Y=0,I.D.Nb=0,I.D.wa=I.wa,I.D.Y=I.Y,0<I.Aa&&(I.D.Y+=ve),r(!0),I.oc=me,I.pc=ke,ke+=832,I.ya=d(nt,gs),I.aa=0,I.D.ya=I.ya,I.D.aa=I.aa,I.Aa==2&&(I.D.aa+=ve),I.R=16*ve,I.B=8*ve,ve=(Ee=gu[I.L])*I.R,Ee=Ee/2*I.B,I.sa=me,I.ta=ke+ve,I.qa=I.sa,I.ra=I.ta+16*W*I.R+Ee,I.Ha=I.qa,I.Ia=I.ra+8*W*I.B+Ee,I.$c=0,ke+=le,I.mb=fe?me:null,I.nb=fe?ke:null,r(ke+fe<=I.Fc+I.Vb),Ys(I),a(I.Ac,I.Bc,0,te),W=1}}if(W){if(L.ka=0,L.y=I.sa,L.O=I.ta,L.f=I.qa,L.N=I.ra,L.ea=I.Ha,L.Vd=I.Ia,L.fa=I.R,L.Rc=I.B,L.F=null,L.J=0,!_d){for(W=-255;255>=W;++W)Wr[255+W]=0>W?-W:W;for(W=-1020;1020>=W;++W)oa[1020+W]=-128>W?-128:127<W?127:W;for(W=-112;112>=W;++W)kr[112+W]=-16>W?-16:15<W?15:W;for(W=-255;510>=W;++W)sa[255+W]=0>W?0:255<W?255:W;_d=1}hc=Fp,On=Rp,fc=qh,$r=sl,Lo=ic,Dr=Uh,pc=ul,Jh=_s,Qo=$p,ia=gd,fl=Hp,mi=iu,mc=Xs,gc=Wh,pl=md,tr=Zs,ml=ys,Bo=Vp,xs[0]=Qs,xs[1]=al,xs[2]=Up,xs[3]=tu,xs[4]=dd,xs[5]=oc,xs[6]=hd,xs[7]=Oa,xs[8]=nu,xs[9]=qp,wl[0]=Pa,wl[1]=Xc,wl[2]=Ko,wl[3]=eu,wl[4]=Vi,wl[5]=Vh,wl[6]=ud,Ra[0]=Js,Ra[1]=zp,Ra[2]=fd,Ra[3]=Gn,Ra[4]=ks,Ra[5]=Hh,Ra[6]=ac,W=1}else W=0}W&&(W=function($e,bt){for($e.M=0;$e.M<$e.Va;++$e.M){var ot,je=$e.Jc[$e.M&$e.Xb],qe=$e.m,mt=$e;for(ot=0;ot<mt.za;++ot){var wt=qe,gt=mt,jt=gt.Ac,Ze=gt.Bc+4*ot,Jt=gt.zc,Pt=gt.ya[gt.aa+ot];if(gt.Qa.Bb?Pt.$b=Ne(wt,gt.Pa.jb[0])?2+Ne(wt,gt.Pa.jb[2]):Ne(wt,gt.Pa.jb[1]):Pt.$b=0,gt.kc&&(Pt.Ad=Ne(wt,gt.Bd)),Pt.Za=!Ne(wt,145)+0,Pt.Za){var Nt=Pt.Ob,Bn=0;for(gt=0;4>gt;++gt){var Pn,Cn=Jt[0+gt];for(Pn=0;4>Pn;++Pn){Cn=wb[jt[Ze+Pn]][Cn];for(var sr=nr[Ne(wt,Cn[0])];0<sr;)sr=nr[2*sr+Ne(wt,Cn[sr])];Cn=-sr,jt[Ze+Pn]=Cn}o(Nt,Bn,jt,Ze,4),Bn+=4,Jt[0+gt]=Cn}}else Cn=Ne(wt,156)?Ne(wt,128)?1:3:Ne(wt,163)?2:0,Pt.Ob[0]=Cn,a(jt,Ze,Cn,4),a(Jt,0,Cn,4);Pt.Dd=Ne(wt,142)?Ne(wt,114)?Ne(wt,183)?1:3:2:0}if(mt.m.Ka)return Vr($e,7,"Premature end-of-partition0 encountered.");for(;$e.ja<$e.za;++$e.ja){if(mt=je,wt=(qe=$e).rb[qe.sb-1],jt=qe.rb[qe.sb+qe.ja],ot=qe.ya[qe.aa+qe.ja],Ze=qe.kc?ot.Ad:0)wt.la=jt.la=0,ot.Za||(wt.Na=jt.Na=0),ot.Hc=0,ot.Gc=0,ot.ia=0;else{var lt,mn;if(wt=jt,jt=mt,Ze=qe.Pa.Xc,Jt=qe.ya[qe.aa+qe.ja],Pt=qe.pb[Jt.$b],gt=Jt.ad,Nt=0,Bn=qe.rb[qe.sb-1],Cn=Pn=0,a(gt,Nt,0,384),Jt.Za)var $t=0,Xi=Ze[3];else{sr=c(16);var Gr=wt.Na+Bn.Na;if(Gr=ja(jt,Ze[1],Gr,Pt.Eb,0,sr,0),wt.Na=Bn.Na=(0<Gr)+0,1<Gr)hc(sr,0,gt,Nt);else{var eo=sr[0]+3>>3;for(sr=0;256>sr;sr+=16)gt[Nt+sr]=eo}$t=1,Xi=Ze[0]}var $n=15&wt.la,Fo=15&Bn.la;for(sr=0;4>sr;++sr){var zo=1&Fo;for(eo=mn=0;4>eo;++eo)$n=$n>>1|(zo=(Gr=ja(jt,Xi,Gr=zo+(1&$n),Pt.Sc,$t,gt,Nt))>$t)<<7,mn=mn<<2|(3<Gr?3:1<Gr?2:gt[Nt+0]!=0),Nt+=16;$n>>=4,Fo=Fo>>1|zo<<7,Pn=(Pn<<8|mn)>>>0}for(Xi=$n,$t=Fo>>4,lt=0;4>lt;lt+=2){for(mn=0,$n=wt.la>>4+lt,Fo=Bn.la>>4+lt,sr=0;2>sr;++sr){for(zo=1&Fo,eo=0;2>eo;++eo)Gr=zo+(1&$n),$n=$n>>1|(zo=0<(Gr=ja(jt,Ze[2],Gr,Pt.Qc,0,gt,Nt)))<<3,mn=mn<<2|(3<Gr?3:1<Gr?2:gt[Nt+0]!=0),Nt+=16;$n>>=2,Fo=Fo>>1|zo<<5}Cn|=mn<<4*lt,Xi|=$n<<4<<lt,$t|=(240&Fo)<<lt}wt.la=Xi,Bn.la=$t,Jt.Hc=Pn,Jt.Gc=Cn,Jt.ia=43690&Cn?0:Pt.ia,Ze=!(Pn|Cn)}if(0<qe.L&&(qe.wa[qe.Y+qe.ja]=qe.gd[ot.$b][ot.Za],qe.wa[qe.Y+qe.ja].La|=!Ze),mt.Ka)return Vr($e,7,"Premature end-of-file encountered.")}if(Ys($e),qe=bt,mt=1,ot=(je=$e).D,wt=0<je.L&&je.M>=je.zb&&je.M<=je.Va,je.Aa==0)e:{if(ot.M=je.M,ot.uc=wt,Cs(je,ot),mt=1,ot=(mn=je.D).Nb,wt=(Cn=gu[je.L])*je.R,jt=Cn/2*je.B,sr=16*ot*je.R,eo=8*ot*je.B,Ze=je.sa,Jt=je.ta-wt+sr,Pt=je.qa,gt=je.ra-jt+eo,Nt=je.Ha,Bn=je.Ia-jt+eo,Fo=($n=mn.M)==0,Pn=$n>=je.Va-1,je.Aa==2&&Cs(je,mn),mn.uc)for(zo=(Gr=je).D.M,r(Gr.D.uc),mn=Gr.yb;mn<Gr.Hb;++mn){$t=mn,Xi=zo;var gi=(ti=(Lr=Gr).D).Nb;lt=Lr.R;var ti=ti.wa[ti.Y+$t],to=Lr.sa,Uo=Lr.ta+16*gi*lt+16*$t,ca=ti.dd,Yr=ti.tc;if(Yr!=0)if(r(3<=Yr),Lr.L==1)0<$t&&tr(to,Uo,lt,Yr+4),ti.La&&Bo(to,Uo,lt,Yr),0<Xi&&pl(to,Uo,lt,Yr+4),ti.La&&ml(to,Uo,lt,Yr);else{var ua=Lr.B,vl=Lr.qa,bu=Lr.ra+8*gi*ua+8*$t,_l=Lr.Ha,Lr=Lr.Ia+8*gi*ua+8*$t;gi=ti.ld,0<$t&&(Jh(to,Uo,lt,Yr+4,ca,gi),ia(vl,bu,_l,Lr,ua,Yr+4,ca,gi)),ti.La&&(mi(to,Uo,lt,Yr,ca,gi),gc(vl,bu,_l,Lr,ua,Yr,ca,gi)),0<Xi&&(pc(to,Uo,lt,Yr+4,ca,gi),Qo(vl,bu,_l,Lr,ua,Yr+4,ca,gi)),ti.La&&(fl(to,Uo,lt,Yr,ca,gi),mc(vl,bu,_l,Lr,ua,Yr,ca,gi))}}if(je.ia&&alert("todo:DitherRow"),qe.put!=null){if(mn=16*$n,$n=16*($n+1),Fo?(qe.y=je.sa,qe.O=je.ta+sr,qe.f=je.qa,qe.N=je.ra+eo,qe.ea=je.Ha,qe.W=je.Ia+eo):(mn-=Cn,qe.y=Ze,qe.O=Jt,qe.f=Pt,qe.N=gt,qe.ea=Nt,qe.W=Bn),Pn||($n-=Cn),$n>qe.o&&($n=qe.o),qe.F=null,qe.J=null,je.Fa!=null&&0<je.Fa.length&&mn<$n&&(qe.J=lu(je,qe,mn,$n-mn),qe.F=je.mb,qe.F==null&&qe.F.length==0)){mt=Vr(je,3,"Could not decode alpha data.");break e}mn<qe.j&&(Cn=qe.j-mn,mn=qe.j,r(!(1&Cn)),qe.O+=je.R*Cn,qe.N+=je.B*(Cn>>1),qe.W+=je.B*(Cn>>1),qe.F!=null&&(qe.J+=qe.width*Cn)),mn<$n&&(qe.O+=qe.v,qe.N+=qe.v>>1,qe.W+=qe.v>>1,qe.F!=null&&(qe.J+=qe.v),qe.ka=mn-qe.j,qe.U=qe.va-qe.v,qe.T=$n-mn,mt=qe.put(qe))}ot+1!=je.Ic||Pn||(o(je.sa,je.ta-wt,Ze,Jt+16*je.R,wt),o(je.qa,je.ra-jt,Pt,gt+8*je.B,jt),o(je.Ha,je.Ia-jt,Nt,Bn+8*je.B,jt))}if(!mt)return Vr($e,6,"Output aborted.")}return 1}(I,L)),L.bc!=null&&L.bc(L),W&=1}return W?(I.cb=0,W):0}function bs(I,L,W,te,le){le=I[L+W+32*te]+(le>>3),I[L+W+32*te]=-256&le?0>le?0:255:le}function Zc(I,L,W,te,le,fe){bs(I,L,0,W,te+le),bs(I,L,1,W,te+fe),bs(I,L,2,W,te-fe),bs(I,L,3,W,te-le)}function Li(I){return(20091*I>>16)+I}function cd(I,L,W,te){var le,fe=0,me=c(16);for(le=0;4>le;++le){var ke=I[L+0]+I[L+8],ve=I[L+0]-I[L+8],Ee=(35468*I[L+4]>>16)-Li(I[L+12]),Re=Li(I[L+4])+(35468*I[L+12]>>16);me[fe+0]=ke+Re,me[fe+1]=ve+Ee,me[fe+2]=ve-Ee,me[fe+3]=ke-Re,fe+=4,L++}for(le=fe=0;4>le;++le)ke=(I=me[fe+0]+4)+me[fe+8],ve=I-me[fe+8],Ee=(35468*me[fe+4]>>16)-Li(me[fe+12]),bs(W,te,0,0,ke+(Re=Li(me[fe+4])+(35468*me[fe+12]>>16))),bs(W,te,1,0,ve+Ee),bs(W,te,2,0,ve-Ee),bs(W,te,3,0,ke-Re),fe++,te+=32}function Uh(I,L,W,te){var le=I[L+0]+4,fe=35468*I[L+4]>>16,me=Li(I[L+4]),ke=35468*I[L+1]>>16;Zc(W,te,0,le+me,I=Li(I[L+1]),ke),Zc(W,te,1,le+fe,I,ke),Zc(W,te,2,le-fe,I,ke),Zc(W,te,3,le-me,I,ke)}function Rp(I,L,W,te,le){cd(I,L,W,te),le&&cd(I,L+16,W,te+4)}function qh(I,L,W,te){On(I,L+0,W,te,1),On(I,L+32,W,te+128,1)}function sl(I,L,W,te){var le;for(I=I[L+0]+4,le=0;4>le;++le)for(L=0;4>L;++L)bs(W,te,L,le,I)}function ic(I,L,W,te){I[L+0]&&$r(I,L+0,W,te),I[L+16]&&$r(I,L+16,W,te+4),I[L+32]&&$r(I,L+32,W,te+128),I[L+48]&&$r(I,L+48,W,te+128+4)}function Fp(I,L,W,te){var le,fe=c(16);for(le=0;4>le;++le){var me=I[L+0+le]+I[L+12+le],ke=I[L+4+le]+I[L+8+le],ve=I[L+4+le]-I[L+8+le],Ee=I[L+0+le]-I[L+12+le];fe[0+le]=me+ke,fe[8+le]=me-ke,fe[4+le]=Ee+ve,fe[12+le]=Ee-ve}for(le=0;4>le;++le)me=(I=fe[0+4*le]+3)+fe[3+4*le],ke=fe[1+4*le]+fe[2+4*le],ve=fe[1+4*le]-fe[2+4*le],Ee=I-fe[3+4*le],W[te+0]=me+ke>>3,W[te+16]=Ee+ve>>3,W[te+32]=me-ke>>3,W[te+48]=Ee-ve>>3,te+=64}function Ks(I,L,W){var te,le=L-32,fe=wo,me=255-I[le-1];for(te=0;te<W;++te){var ke,ve=fe,Ee=me+I[L-1];for(ke=0;ke<W;++ke)I[L+ke]=ve[Ee+I[le+ke]];L+=32}}function al(I,L){Ks(I,L,4)}function zp(I,L){Ks(I,L,8)}function Xc(I,L){Ks(I,L,16)}function Ko(I,L){var W;for(W=0;16>W;++W)o(I,L+32*W,I,L-32,16)}function eu(I,L){var W;for(W=16;0<W;--W)a(I,L,I[L-1],16),L+=32}function ll(I,L,W){var te;for(te=0;16>te;++te)a(L,W+32*te,I,16)}function Pa(I,L){var W,te=16;for(W=0;16>W;++W)te+=I[L-1+32*W]+I[L+W-32];ll(te>>5,I,L)}function Vi(I,L){var W,te=8;for(W=0;16>W;++W)te+=I[L-1+32*W];ll(te>>4,I,L)}function Vh(I,L){var W,te=8;for(W=0;16>W;++W)te+=I[L+W-32];ll(te>>4,I,L)}function ud(I,L){ll(128,I,L)}function cn(I,L,W){return I+2*L+W+2>>2}function Up(I,L){var W,te=L-32;for(te=new Uint8Array([cn(I[te-1],I[te+0],I[te+1]),cn(I[te+0],I[te+1],I[te+2]),cn(I[te+1],I[te+2],I[te+3]),cn(I[te+2],I[te+3],I[te+4])]),W=0;4>W;++W)o(I,L+32*W,te,0,te.length)}function tu(I,L){var W=I[L-1],te=I[L-1+32],le=I[L-1+64],fe=I[L-1+96];rt(I,L+0,16843009*cn(I[L-1-32],W,te)),rt(I,L+32,16843009*cn(W,te,le)),rt(I,L+64,16843009*cn(te,le,fe)),rt(I,L+96,16843009*cn(le,fe,fe))}function Qs(I,L){var W,te=4;for(W=0;4>W;++W)te+=I[L+W-32]+I[L-1+32*W];for(te>>=3,W=0;4>W;++W)a(I,L+32*W,te,4)}function dd(I,L){var W=I[L-1+0],te=I[L-1+32],le=I[L-1+64],fe=I[L-1-32],me=I[L+0-32],ke=I[L+1-32],ve=I[L+2-32],Ee=I[L+3-32];I[L+0+96]=cn(te,le,I[L-1+96]),I[L+1+96]=I[L+0+64]=cn(W,te,le),I[L+2+96]=I[L+1+64]=I[L+0+32]=cn(fe,W,te),I[L+3+96]=I[L+2+64]=I[L+1+32]=I[L+0+0]=cn(me,fe,W),I[L+3+64]=I[L+2+32]=I[L+1+0]=cn(ke,me,fe),I[L+3+32]=I[L+2+0]=cn(ve,ke,me),I[L+3+0]=cn(Ee,ve,ke)}function hd(I,L){var W=I[L+1-32],te=I[L+2-32],le=I[L+3-32],fe=I[L+4-32],me=I[L+5-32],ke=I[L+6-32],ve=I[L+7-32];I[L+0+0]=cn(I[L+0-32],W,te),I[L+1+0]=I[L+0+32]=cn(W,te,le),I[L+2+0]=I[L+1+32]=I[L+0+64]=cn(te,le,fe),I[L+3+0]=I[L+2+32]=I[L+1+64]=I[L+0+96]=cn(le,fe,me),I[L+3+32]=I[L+2+64]=I[L+1+96]=cn(fe,me,ke),I[L+3+64]=I[L+2+96]=cn(me,ke,ve),I[L+3+96]=cn(ke,ve,ve)}function oc(I,L){var W=I[L-1+0],te=I[L-1+32],le=I[L-1+64],fe=I[L-1-32],me=I[L+0-32],ke=I[L+1-32],ve=I[L+2-32],Ee=I[L+3-32];I[L+0+0]=I[L+1+64]=fe+me+1>>1,I[L+1+0]=I[L+2+64]=me+ke+1>>1,I[L+2+0]=I[L+3+64]=ke+ve+1>>1,I[L+3+0]=ve+Ee+1>>1,I[L+0+96]=cn(le,te,W),I[L+0+64]=cn(te,W,fe),I[L+0+32]=I[L+1+96]=cn(W,fe,me),I[L+1+32]=I[L+2+96]=cn(fe,me,ke),I[L+2+32]=I[L+3+96]=cn(me,ke,ve),I[L+3+32]=cn(ke,ve,Ee)}function Oa(I,L){var W=I[L+0-32],te=I[L+1-32],le=I[L+2-32],fe=I[L+3-32],me=I[L+4-32],ke=I[L+5-32],ve=I[L+6-32],Ee=I[L+7-32];I[L+0+0]=W+te+1>>1,I[L+1+0]=I[L+0+64]=te+le+1>>1,I[L+2+0]=I[L+1+64]=le+fe+1>>1,I[L+3+0]=I[L+2+64]=fe+me+1>>1,I[L+0+32]=cn(W,te,le),I[L+1+32]=I[L+0+96]=cn(te,le,fe),I[L+2+32]=I[L+1+96]=cn(le,fe,me),I[L+3+32]=I[L+2+96]=cn(fe,me,ke),I[L+3+64]=cn(me,ke,ve),I[L+3+96]=cn(ke,ve,Ee)}function qp(I,L){var W=I[L-1+0],te=I[L-1+32],le=I[L-1+64],fe=I[L-1+96];I[L+0+0]=W+te+1>>1,I[L+2+0]=I[L+0+32]=te+le+1>>1,I[L+2+32]=I[L+0+64]=le+fe+1>>1,I[L+1+0]=cn(W,te,le),I[L+3+0]=I[L+1+32]=cn(te,le,fe),I[L+3+32]=I[L+1+64]=cn(le,fe,fe),I[L+3+64]=I[L+2+64]=I[L+0+96]=I[L+1+96]=I[L+2+96]=I[L+3+96]=fe}function nu(I,L){var W=I[L-1+0],te=I[L-1+32],le=I[L-1+64],fe=I[L-1+96],me=I[L-1-32],ke=I[L+0-32],ve=I[L+1-32],Ee=I[L+2-32];I[L+0+0]=I[L+2+32]=W+me+1>>1,I[L+0+32]=I[L+2+64]=te+W+1>>1,I[L+0+64]=I[L+2+96]=le+te+1>>1,I[L+0+96]=fe+le+1>>1,I[L+3+0]=cn(ke,ve,Ee),I[L+2+0]=cn(me,ke,ve),I[L+1+0]=I[L+3+32]=cn(W,me,ke),I[L+1+32]=I[L+3+64]=cn(te,W,me),I[L+1+64]=I[L+3+96]=cn(le,te,W),I[L+1+96]=cn(fe,le,te)}function fd(I,L){var W;for(W=0;8>W;++W)o(I,L+32*W,I,L-32,8)}function Gn(I,L){var W;for(W=0;8>W;++W)a(I,L,I[L-1],8),L+=32}function sc(I,L,W){var te;for(te=0;8>te;++te)a(L,W+32*te,I,8)}function Js(I,L){var W,te=8;for(W=0;8>W;++W)te+=I[L+W-32]+I[L-1+32*W];sc(te>>4,I,L)}function Hh(I,L){var W,te=4;for(W=0;8>W;++W)te+=I[L+W-32];sc(te>>3,I,L)}function ks(I,L){var W,te=4;for(W=0;8>W;++W)te+=I[L-1+32*W];sc(te>>3,I,L)}function ac(I,L){sc(128,I,L)}function ws(I,L,W){var te=I[L-W],le=I[L+0],fe=3*(le-te)+gl[1020+I[L-2*W]-I[L+W]],me=bl[112+(fe+4>>3)];I[L-W]=wo[255+te+bl[112+(fe+3>>3)]],I[L+0]=wo[255+le-me]}function pd(I,L,W,te){var le=I[L+0],fe=I[L+W];return $i[255+I[L-2*W]-I[L-W]]>te||$i[255+fe-le]>te}function ru(I,L,W,te){return 4*$i[255+I[L-W]-I[L+0]]+$i[255+I[L-2*W]-I[L+W]]<=te}function $h(I,L,W,te,le){var fe=I[L-3*W],me=I[L-2*W],ke=I[L-W],ve=I[L+0],Ee=I[L+W],Re=I[L+2*W],tt=I[L+3*W];return 4*$i[255+ke-ve]+$i[255+me-Ee]>te?0:$i[255+I[L-4*W]-fe]<=le&&$i[255+fe-me]<=le&&$i[255+me-ke]<=le&&$i[255+tt-Re]<=le&&$i[255+Re-Ee]<=le&&$i[255+Ee-ve]<=le}function md(I,L,W,te){var le=2*te+1;for(te=0;16>te;++te)ru(I,L+te,W,le)&&ws(I,L+te,W)}function Zs(I,L,W,te){var le=2*te+1;for(te=0;16>te;++te)ru(I,L+te*W,1,le)&&ws(I,L+te*W,1)}function ys(I,L,W,te){var le;for(le=3;0<le;--le)md(I,L+=4*W,W,te)}function Vp(I,L,W,te){var le;for(le=3;0<le;--le)Zs(I,L+=4,W,te)}function cl(I,L,W,te,le,fe,me,ke){for(fe=2*fe+1;0<le--;){if($h(I,L,W,fe,me))if(pd(I,L,W,ke))ws(I,L,W);else{var ve=I,Ee=L,Re=W,tt=ve[Ee-2*Re],nt=ve[Ee-Re],$e=ve[Ee+0],bt=ve[Ee+Re],ot=ve[Ee+2*Re],je=27*(mt=gl[1020+3*($e-nt)+gl[1020+tt-bt]])+63>>7,qe=18*mt+63>>7,mt=9*mt+63>>7;ve[Ee-3*Re]=wo[255+ve[Ee-3*Re]+mt],ve[Ee-2*Re]=wo[255+tt+qe],ve[Ee-Re]=wo[255+nt+je],ve[Ee+0]=wo[255+$e-je],ve[Ee+Re]=wo[255+bt-qe],ve[Ee+2*Re]=wo[255+ot-mt]}L+=te}}function vs(I,L,W,te,le,fe,me,ke){for(fe=2*fe+1;0<le--;){if($h(I,L,W,fe,me))if(pd(I,L,W,ke))ws(I,L,W);else{var ve=I,Ee=L,Re=W,tt=ve[Ee-Re],nt=ve[Ee+0],$e=ve[Ee+Re],bt=bl[112+((ot=3*(nt-tt))+4>>3)],ot=bl[112+(ot+3>>3)],je=bt+1>>1;ve[Ee-2*Re]=wo[255+ve[Ee-2*Re]+je],ve[Ee-Re]=wo[255+tt+ot],ve[Ee+0]=wo[255+nt-bt],ve[Ee+Re]=wo[255+$e-je]}L+=te}}function ul(I,L,W,te,le,fe){cl(I,L,W,1,16,te,le,fe)}function _s(I,L,W,te,le,fe){cl(I,L,1,W,16,te,le,fe)}function Hp(I,L,W,te,le,fe){var me;for(me=3;0<me;--me)vs(I,L+=4*W,W,1,16,te,le,fe)}function iu(I,L,W,te,le,fe){var me;for(me=3;0<me;--me)vs(I,L+=4,1,W,16,te,le,fe)}function $p(I,L,W,te,le,fe,me,ke){cl(I,L,le,1,8,fe,me,ke),cl(W,te,le,1,8,fe,me,ke)}function gd(I,L,W,te,le,fe,me,ke){cl(I,L,1,le,8,fe,me,ke),cl(W,te,1,le,8,fe,me,ke)}function Xs(I,L,W,te,le,fe,me,ke){vs(I,L+4*le,le,1,8,fe,me,ke),vs(W,te+4*le,le,1,8,fe,me,ke)}function Wh(I,L,W,te,le,fe,me,ke){vs(I,L+4,1,le,8,fe,me,ke),vs(W,te+4,1,le,8,fe,me,ke)}function lc(){this.ba=new Mr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ln,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ou(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function su(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function bd(){this.ua=0,this.Wa=new ue,this.vb=new ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new B,this.yc=new R}function Gh(){this.xb=this.a=0,this.l=new Jc,this.ca=new Mr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new bd,this.ab=0,this.gc=d(4,su),this.Oc=0}function cc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Jc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function uc(I,L,W,te,le,fe,me){for(I=I==null?0:I[L+0],L=0;L<me;++L)le[fe+L]=I+W[te+L]&255,I=le[fe+L]}function au(I,L,W,te,le,fe,me){var ke;if(I==null)uc(null,null,W,te,le,fe,me);else for(ke=0;ke<me;++ke)le[fe+ke]=I[L+ke]+W[te+ke]&255}function dl(I,L,W,te,le,fe,me){if(I==null)uc(null,null,W,te,le,fe,me);else{var ke,ve=I[L+0],Ee=ve,Re=ve;for(ke=0;ke<me;++ke)Ee=Re+(ve=I[L+ke])-Ee,Re=W[te+ke]+(-256&Ee?0>Ee?0:255:Ee)&255,Ee=ve,le[fe+ke]=Re}}function lu(I,L,W,te){var le=L.width,fe=L.o;if(r(I!=null&&L!=null),0>W||0>=te||W+te>fe)return null;if(!I.Cc){if(I.ga==null){var me;if(I.ga=new cc,(me=I.ga==null)||(me=L.width*L.o,r(I.Gb.length==0),I.Gb=c(me),I.Uc=0,I.Gb==null?me=0:(I.mb=I.Gb,I.nb=I.Uc,I.rc=null,me=1),me=!me),!me){me=I.ga;var ke=I.Fa,ve=I.P,Ee=I.qc,Re=I.mb,tt=I.nb,nt=ve+1,$e=Ee-1,bt=me.l;if(r(ke!=null&&Re!=null&&L!=null),Fa[0]=null,Fa[1]=uc,Fa[2]=au,Fa[3]=dl,me.ca=Re,me.tb=tt,me.c=L.width,me.i=L.height,r(0<me.c&&0<me.i),1>=Ee)L=0;else if(me.$a=ke[ve+0]>>0&3,me.Z=ke[ve+0]>>2&3,me.Lc=ke[ve+0]>>4&3,ve=ke[ve+0]>>6&3,0>me.$a||1<me.$a||4<=me.Z||1<me.Lc||ve)L=0;else if(bt.put=zi,bt.ac=Nn,bt.bc=ei,bt.ma=me,bt.width=L.width,bt.height=L.height,bt.Da=L.Da,bt.v=L.v,bt.va=L.va,bt.j=L.j,bt.o=L.o,me.$a)e:{r(me.$a==1),L=bo();t:for(;;){if(L==null){L=0;break e}if(r(me!=null),me.mc=L,L.c=me.c,L.i=me.i,L.l=me.l,L.l.ma=me,L.l.width=me.c,L.l.height=me.i,L.a=0,oe(L.m,ke,nt,$e),!ms(me.c,me.i,1,L,null)||(L.ab==1&&L.gc[0].hc==3&&Wn(L.s)?(me.ic=1,ke=L.c*L.i,L.Ta=null,L.Ua=0,L.V=c(ke),L.Ba=0,L.V==null?(L.a=1,L=0):L=1):(me.ic=0,L=nc(L,me.c)),!L))break t;L=1;break e}me.mc=null,L=0}else L=$e>=me.c*me.i;me=!L}if(me)return null;I.ga.Lc!=1?I.Ga=0:te=fe-W}r(I.ga!=null),r(W+te<=fe);e:{if(L=(ke=I.ga).c,fe=ke.l.o,ke.$a==0){if(nt=I.rc,$e=I.Vc,bt=I.Fa,ve=I.P+1+W*L,Ee=I.mb,Re=I.nb+W*L,r(ve<=I.P+I.qc),ke.Z!=0)for(r(Fa[ke.Z]!=null),me=0;me<te;++me)Fa[ke.Z](nt,$e,bt,ve,Ee,Re,L),nt=Ee,$e=Re,Re+=L,ve+=L;else for(me=0;me<te;++me)o(Ee,Re,bt,ve,L),nt=Ee,$e=Re,Re+=L,ve+=L;I.rc=nt,I.Vc=$e}else{if(r(ke.mc!=null),L=W+te,r((me=ke.mc)!=null),r(L<=me.i),me.C>=L)L=1;else if(ke.ic||Je(),ke.ic){ke=me.V,nt=me.Ba,$e=me.c;var ot=me.i,je=(bt=1,ve=me.$/$e,Ee=me.$%$e,Re=me.m,tt=me.s,me.$),qe=$e*ot,mt=$e*L,wt=tt.wc,gt=je<mt?Ct(tt,Ee,ve):null;r(je<=qe),r(L<=ot),r(Wn(tt));t:for(;;){for(;!Re.h&&je<mt;){if(Ee&wt||(gt=Ct(tt,Ee,ve)),r(gt!=null),we(Re),256>(ot=kt(gt.G[0],gt.H[0],Re)))ke[nt+je]=ot,++je,++Ee>=$e&&(Ee=0,++ve<=L&&!(ve%16)&&Go(me,ve));else{if(!(280>ot)){bt=0;break t}ot=Oi(ot-256,Re);var jt,Ze=kt(gt.G[4],gt.H[4],Re);if(we(Re),!(je>=(Ze=Ui($e,Ze=Oi(Ze,Re)))&&qe-je>=ot)){bt=0;break t}for(jt=0;jt<ot;++jt)ke[nt+je+jt]=ke[nt+je+jt-Ze];for(je+=ot,Ee+=ot;Ee>=$e;)Ee-=$e,++ve<=L&&!(ve%16)&&Go(me,ve);je<mt&&Ee&wt&&(gt=Ct(tt,Ee,ve))}r(Re.h==se(Re))}Go(me,ve>L?L:ve);break t}!bt||Re.h&&je<qe?(bt=0,me.a=Re.h?5:3):me.$=je,L=bt}else L=Mo(me,me.V,me.Ba,me.c,me.i,L,Gc);if(!L){te=0;break e}}W+te>=fe&&(I.Cc=1),te=1}if(!te)return null;if(I.Cc&&((te=I.ga)!=null&&(te.mc=null),I.ga=null,0<I.Ga))return alert("todo:WebPDequantizeLevels"),null}return I.nb+W*le}function z(I,L,W,te,le,fe){for(;0<le--;){var me,ke=I,ve=L+(W?1:0),Ee=I,Re=L+(W?0:3);for(me=0;me<te;++me){var tt=Ee[Re+4*me];tt!=255&&(tt*=32897,ke[ve+4*me+0]=ke[ve+4*me+0]*tt>>23,ke[ve+4*me+1]=ke[ve+4*me+1]*tt>>23,ke[ve+4*me+2]=ke[ve+4*me+2]*tt>>23)}L+=fe}}function ce(I,L,W,te,le){for(;0<te--;){var fe;for(fe=0;fe<W;++fe){var me=I[L+2*fe+0],ke=15&(Ee=I[L+2*fe+1]),ve=4369*ke,Ee=(240&Ee|Ee>>4)*ve>>16;I[L+2*fe+0]=(240&me|me>>4)*ve>>16&240|(15&me|me<<4)*ve>>16>>4&15,I[L+2*fe+1]=240&Ee|ke}L+=le}}function De(I,L,W,te,le,fe,me,ke){var ve,Ee,Re=255;for(Ee=0;Ee<le;++Ee){for(ve=0;ve<te;++ve){var tt=I[L+ve];fe[me+4*ve]=tt,Re&=tt}L+=W,me+=ke}return Re!=255}function Be(I,L,W,te,le){var fe;for(fe=0;fe<le;++fe)W[te+fe]=I[L+fe]>>8}function Je(){jo=z,Ut=ce,Yn=De,Or=Be}function ut(I,L,W){j[I]=function(te,le,fe,me,ke,ve,Ee,Re,tt,nt,$e,bt,ot,je,qe,mt,wt){var gt,jt=wt-1>>1,Ze=ke[ve+0]|Ee[Re+0]<<16,Jt=tt[nt+0]|$e[bt+0]<<16;r(te!=null);var Pt=3*Ze+Jt+131074>>2;for(L(te[le+0],255&Pt,Pt>>16,ot,je),fe!=null&&(Pt=3*Jt+Ze+131074>>2,L(fe[me+0],255&Pt,Pt>>16,qe,mt)),gt=1;gt<=jt;++gt){var Nt=ke[ve+gt]|Ee[Re+gt]<<16,Bn=tt[nt+gt]|$e[bt+gt]<<16,Pn=Ze+Nt+Jt+Bn+524296,Cn=Pn+2*(Nt+Jt)>>3;Pt=Cn+Ze>>1,Ze=(Pn=Pn+2*(Ze+Bn)>>3)+Nt>>1,L(te[le+2*gt-1],255&Pt,Pt>>16,ot,je+(2*gt-1)*W),L(te[le+2*gt-0],255&Ze,Ze>>16,ot,je+(2*gt-0)*W),fe!=null&&(Pt=Pn+Jt>>1,Ze=Cn+Bn>>1,L(fe[me+2*gt-1],255&Pt,Pt>>16,qe,mt+(2*gt-1)*W),L(fe[me+2*gt+0],255&Ze,Ze>>16,qe,mt+(2*gt+0)*W)),Ze=Nt,Jt=Bn}1&wt||(Pt=3*Ze+Jt+131074>>2,L(te[le+wt-1],255&Pt,Pt>>16,ot,je+(wt-1)*W),fe!=null&&(Pt=3*Jt+Ze+131074>>2,L(fe[me+wt-1],255&Pt,Pt>>16,qe,mt+(wt-1)*W)))}}function _t(){Jo[aa]=Ew,Jo[Ad]=_b,Jo[Cd]=Dw,Jo[xd]=Iw,Jo[Sd]=Ab,Jo[Zh]=Cb,Jo[pb]=Tw,Jo[Gp]=_b,Jo[Xh]=Iw,Jo[Ed]=Ab,Jo[ef]=Cb}function Lt(I){return I&-16384?0>I?0:255:I>>xb}function Wt(I,L){return Lt((19077*I>>8)+(26149*L>>8)-14234)}function un(I,L,W){return Lt((19077*I>>8)-(6419*L>>8)-(13320*W>>8)+8708)}function ln(I,L){return Lt((19077*I>>8)+(33050*L>>8)-17685)}function In(I,L,W,te,le){te[le+0]=Wt(I,W),te[le+1]=un(I,L,W),te[le+2]=ln(I,L)}function vr(I,L,W,te,le){te[le+0]=ln(I,L),te[le+1]=un(I,L,W),te[le+2]=Wt(I,W)}function Er(I,L,W,te,le){var fe=un(I,L,W);L=fe<<3&224|ln(I,L)>>3,te[le+0]=248&Wt(I,W)|fe>>5,te[le+1]=L}function Hr(I,L,W,te,le){var fe=240&ln(I,L)|15;te[le+0]=240&Wt(I,W)|un(I,L,W)>>4,te[le+1]=fe}function Bi(I,L,W,te,le){te[le+0]=255,In(I,L,W,te,le+1)}function fi(I,L,W,te,le){vr(I,L,W,te,le),te[le+3]=255}function As(I,L,W,te,le){In(I,L,W,te,le),te[le+3]=255}function Po(I,L){return 0>I?0:I>L?L:I}function ea(I,L,W){j[I]=function(te,le,fe,me,ke,ve,Ee,Re,tt){for(var nt=Re+(-2&tt)*W;Re!=nt;)L(te[le+0],fe[me+0],ke[ve+0],Ee,Re),L(te[le+1],fe[me+0],ke[ve+0],Ee,Re+W),le+=2,++me,++ve,Re+=2*W;1&tt&&L(te[le+0],fe[me+0],ke[ve+0],Ee,Re)}}function Yh(I,L,W){return W==0?I==0?L==0?6:5:L==0?4:0:W}function kd(I,L,W,te,le){switch(I>>>30){case 3:On(L,W,te,le,0);break;case 2:Dr(L,W,te,le);break;case 1:$r(L,W,te,le)}}function Cs(I,L){var W,te,le=L.M,fe=L.Nb,me=I.oc,ke=I.pc+40,ve=I.oc,Ee=I.pc+584,Re=I.oc,tt=I.pc+600;for(W=0;16>W;++W)me[ke+32*W-1]=129;for(W=0;8>W;++W)ve[Ee+32*W-1]=129,Re[tt+32*W-1]=129;for(0<le?me[ke-1-32]=ve[Ee-1-32]=Re[tt-1-32]=129:(a(me,ke-32-1,127,21),a(ve,Ee-32-1,127,9),a(Re,tt-32-1,127,9)),te=0;te<I.za;++te){var nt=L.ya[L.aa+te];if(0<te){for(W=-1;16>W;++W)o(me,ke+32*W-4,me,ke+32*W+12,4);for(W=-1;8>W;++W)o(ve,Ee+32*W-4,ve,Ee+32*W+4,4),o(Re,tt+32*W-4,Re,tt+32*W+4,4)}var $e=I.Gd,bt=I.Hd+te,ot=nt.ad,je=nt.Hc;if(0<le&&(o(me,ke-32,$e[bt].y,0,16),o(ve,Ee-32,$e[bt].f,0,8),o(Re,tt-32,$e[bt].ea,0,8)),nt.Za){var qe=me,mt=ke-32+16;for(0<le&&(te>=I.za-1?a(qe,mt,$e[bt].y[15],4):o(qe,mt,$e[bt+1].y,0,4)),W=0;4>W;W++)qe[mt+128+W]=qe[mt+256+W]=qe[mt+384+W]=qe[mt+0+W];for(W=0;16>W;++W,je<<=2)qe=me,mt=ke+nf[W],xs[nt.Ob[W]](qe,mt),kd(je,ot,16*+W,qe,mt)}else if(qe=Yh(te,le,nt.Ob[0]),wl[qe](me,ke),je!=0)for(W=0;16>W;++W,je<<=2)kd(je,ot,16*+W,me,ke+nf[W]);for(W=nt.Gc,qe=Yh(te,le,nt.Dd),Ra[qe](ve,Ee),Ra[qe](Re,tt),je=ot,qe=ve,mt=Ee,255&(nt=W>>0)&&(170&nt?fc(je,256,qe,mt):Lo(je,256,qe,mt)),nt=Re,je=tt,255&(W>>=8)&&(170&W?fc(ot,320,nt,je):Lo(ot,320,nt,je)),le<I.Ub-1&&(o($e[bt].y,0,me,ke+480,16),o($e[bt].f,0,ve,Ee+224,8),o($e[bt].ea,0,Re,tt+224,8)),W=8*fe*I.B,$e=I.sa,bt=I.ta+16*te+16*fe*I.R,ot=I.qa,nt=I.ra+8*te+W,je=I.Ha,qe=I.Ia+8*te+W,W=0;16>W;++W)o($e,bt+W*I.R,me,ke+32*W,16);for(W=0;8>W;++W)o(ot,nt+W*I.B,ve,Ee+32*W,8),o(je,qe+W*I.B,Re,tt+32*W,8)}}function ta(I,L,W,te,le,fe,me,ke,ve){var Ee=[0],Re=[0],tt=0,nt=ve!=null?ve.kd:0,$e=ve??new ou;if(I==null||12>W)return 7;$e.data=I,$e.w=L,$e.ha=W,L=[L],W=[W],$e.gb=[$e.gb];e:{var bt=L,ot=W,je=$e.gb;if(r(I!=null),r(ot!=null),r(je!=null),je[0]=0,12<=ot[0]&&!n(I,bt[0],"RIFF")){if(n(I,bt[0]+8,"WEBP")){je=3;break e}var qe=ze(I,bt[0]+4);if(12>qe||4294967286<qe){je=3;break e}if(nt&&qe>ot[0]-8){je=7;break e}je[0]=qe,bt[0]+=12,ot[0]-=12}je=0}if(je!=0)return je;for(qe=0<$e.gb[0],W=W[0];;){e:{var mt=I;ot=L,je=W;var wt=Ee,gt=Re,jt=bt=[0];if((Pt=tt=[tt])[0]=0,8>je[0])je=7;else{if(!n(mt,ot[0],"VP8X")){if(ze(mt,ot[0]+4)!=10){je=3;break e}if(18>je[0]){je=7;break e}var Ze=ze(mt,ot[0]+8),Jt=1+Qe(mt,ot[0]+12);if(2147483648<=Jt*(mt=1+Qe(mt,ot[0]+15))){je=3;break e}jt!=null&&(jt[0]=Ze),wt!=null&&(wt[0]=Jt),gt!=null&&(gt[0]=mt),ot[0]+=18,je[0]-=18,Pt[0]=1}je=0}}if(tt=tt[0],bt=bt[0],je!=0)return je;if(ot=!!(2&bt),!qe&&tt)return 3;if(fe!=null&&(fe[0]=!!(16&bt)),me!=null&&(me[0]=ot),ke!=null&&(ke[0]=0),me=Ee[0],bt=Re[0],tt&&ot&&ve==null){je=0;break}if(4>W){je=7;break}if(qe&&tt||!qe&&!tt&&!n(I,L[0],"ALPH")){W=[W],$e.na=[$e.na],$e.P=[$e.P],$e.Sa=[$e.Sa];e:{Ze=I,je=L,qe=W;var Pt=$e.gb;wt=$e.na,gt=$e.P,jt=$e.Sa,Jt=22,r(Ze!=null),r(qe!=null),mt=je[0];var Nt=qe[0];for(r(wt!=null),r(jt!=null),wt[0]=null,gt[0]=null,jt[0]=0;;){if(je[0]=mt,qe[0]=Nt,8>Nt){je=7;break e}var Bn=ze(Ze,mt+4);if(4294967286<Bn){je=3;break e}var Pn=8+Bn+1&-2;if(Jt+=Pn,0<Pt&&Jt>Pt){je=3;break e}if(!n(Ze,mt,"VP8 ")||!n(Ze,mt,"VP8L")){je=0;break e}if(Nt[0]<Pn){je=7;break e}n(Ze,mt,"ALPH")||(wt[0]=Ze,gt[0]=mt+8,jt[0]=Bn),mt+=Pn,Nt-=Pn}}if(W=W[0],$e.na=$e.na[0],$e.P=$e.P[0],$e.Sa=$e.Sa[0],je!=0)break}W=[W],$e.Ja=[$e.Ja],$e.xa=[$e.xa];e:if(Pt=I,je=L,qe=W,wt=$e.gb[0],gt=$e.Ja,jt=$e.xa,Ze=je[0],mt=!n(Pt,Ze,"VP8 "),Jt=!n(Pt,Ze,"VP8L"),r(Pt!=null),r(qe!=null),r(gt!=null),r(jt!=null),8>qe[0])je=7;else{if(mt||Jt){if(Pt=ze(Pt,Ze+4),12<=wt&&Pt>wt-12){je=3;break e}if(nt&&Pt>qe[0]-8){je=7;break e}gt[0]=Pt,je[0]+=8,qe[0]-=8,jt[0]=Jt}else jt[0]=5<=qe[0]&&Pt[Ze+0]==47&&!(Pt[Ze+4]>>5),gt[0]=qe[0];je=0}if(W=W[0],$e.Ja=$e.Ja[0],$e.xa=$e.xa[0],L=L[0],je!=0)break;if(4294967286<$e.Ja)return 3;if(ke==null||ot||(ke[0]=$e.xa?2:1),me=[me],bt=[bt],$e.xa){if(5>W){je=7;break}ke=me,nt=bt,ot=fe,I==null||5>W?I=0:5<=W&&I[L+0]==47&&!(I[L+4]>>5)?(qe=[0],Pt=[0],wt=[0],oe(gt=new X,I,L,W),Ht(gt,qe,Pt,wt)?(ke!=null&&(ke[0]=qe[0]),nt!=null&&(nt[0]=Pt[0]),ot!=null&&(ot[0]=wt[0]),I=1):I=0):I=0}else{if(10>W){je=7;break}ke=bt,I==null||10>W||!jh(I,L+3,W-3)?I=0:(nt=I[L+0]|I[L+1]<<8|I[L+2]<<16,ot=16383&(I[L+7]<<8|I[L+6]),I=16383&(I[L+9]<<8|I[L+8]),1&nt||3<(nt>>1&7)||!(nt>>4&1)||nt>>5>=$e.Ja||!ot||!I?I=0:(me&&(me[0]=ot),ke&&(ke[0]=I),I=1))}if(!I||(me=me[0],bt=bt[0],tt&&(Ee[0]!=me||Re[0]!=bt)))return 3;ve!=null&&(ve[0]=$e,ve.offset=L-ve.w,r(4294967286>L-ve.w),r(ve.offset==ve.ha-W));break}return je==0||je==7&&tt&&ve==null?(fe!=null&&(fe[0]|=$e.na!=null&&0<$e.na.length),te!=null&&(te[0]=me),le!=null&&(le[0]=bt),0):je}function wd(I,L,W){var te=L.width,le=L.height,fe=0,me=0,ke=te,ve=le;if(L.Da=I!=null&&0<I.Da,L.Da&&(ke=I.cd,ve=I.bd,fe=I.v,me=I.j,11>W||(fe&=-2,me&=-2),0>fe||0>me||0>=ke||0>=ve||fe+ke>te||me+ve>le))return 0;if(L.v=fe,L.j=me,L.va=fe+ke,L.o=me+ve,L.U=ke,L.T=ve,L.da=I!=null&&0<I.da,L.da){if(!ge(ke,ve,W=[I.ib],fe=[I.hb]))return 0;L.ib=W[0],L.hb=fe[0]}return L.ob=I!=null&&I.ob,L.Kb=I==null||!I.Sd,L.da&&(L.ob=L.ib<3*te/4&&L.hb<3*le/4,L.Kb=0),1}function yd(I){if(I==null)return 2;if(11>I.S){var L=I.f.RGBA;L.fb+=(I.height-1)*L.A,L.A=-L.A}else L=I.f.kb,I=I.height,L.O+=(I-1)*L.fa,L.fa=-L.fa,L.N+=(I-1>>1)*L.Ab,L.Ab=-L.Ab,L.W+=(I-1>>1)*L.Db,L.Db=-L.Db,L.F!=null&&(L.J+=(I-1)*L.lb,L.lb=-L.lb);return 0}function La(I,L,W,te){if(te==null||0>=I||0>=L)return 2;if(W!=null){if(W.Da){var le=W.cd,fe=W.bd,me=-2&W.v,ke=-2&W.j;if(0>me||0>ke||0>=le||0>=fe||me+le>I||ke+fe>L)return 2;I=le,L=fe}if(W.da){if(!ge(I,L,le=[W.ib],fe=[W.hb]))return 2;I=le[0],L=fe[0]}}te.width=I,te.height=L;e:{var ve=te.width,Ee=te.height;if(I=te.S,0>=ve||0>=Ee||!(I>=aa&&13>I))I=2;else{if(0>=te.Rd&&te.sd==null){me=fe=le=L=0;var Re=(ke=ve*Ro[I])*Ee;if(11>I||(fe=(Ee+1)/2*(L=(ve+1)/2),I==12&&(me=(le=ve)*Ee)),(Ee=c(Re+2*fe+me))==null){I=1;break e}te.sd=Ee,11>I?((ve=te.f.RGBA).eb=Ee,ve.fb=0,ve.A=ke,ve.size=Re):((ve=te.f.kb).y=Ee,ve.O=0,ve.fa=ke,ve.Fd=Re,ve.f=Ee,ve.N=0+Re,ve.Ab=L,ve.Cd=fe,ve.ea=Ee,ve.W=0+Re+fe,ve.Db=L,ve.Ed=fe,I==12&&(ve.F=Ee,ve.J=0+Re+2*fe),ve.Tc=me,ve.lb=le)}if(L=1,le=te.S,fe=te.width,me=te.height,le>=aa&&13>le)if(11>le)I=te.f.RGBA,L&=(ke=Math.abs(I.A))*(me-1)+fe<=I.size,L&=ke>=fe*Ro[le],L&=I.eb!=null;else{I=te.f.kb,ke=(fe+1)/2,Re=(me+1)/2,ve=Math.abs(I.fa),Ee=Math.abs(I.Ab);var tt=Math.abs(I.Db),nt=Math.abs(I.lb),$e=nt*(me-1)+fe;L&=ve*(me-1)+fe<=I.Fd,L&=Ee*(Re-1)+ke<=I.Cd,L=(L&=tt*(Re-1)+ke<=I.Ed)&ve>=fe&Ee>=ke&tt>=ke,L&=I.y!=null,L&=I.f!=null,L&=I.ea!=null,le==12&&(L&=nt>=fe,L&=$e<=I.Tc,L&=I.F!=null)}else L=0;I=L?0:2}}return I!=0||W!=null&&W.fd&&(I=yd(te)),I}var pi=64,cu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],uu=24,du=32,hu=8,Ji=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Me("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(I){return I},j.Predictor2=function(I,L,W){return L[W+0]},j.Predictor3=function(I,L,W){return L[W+1]},j.Predictor4=function(I,L,W){return L[W-1]},j.Predictor5=function(I,L,W){return Ae(Ae(I,L[W+1]),L[W+0])},j.Predictor6=function(I,L,W){return Ae(I,L[W-1])},j.Predictor7=function(I,L,W){return Ae(I,L[W+0])},j.Predictor8=function(I,L,W){return Ae(L[W-1],L[W+0])},j.Predictor9=function(I,L,W){return Ae(L[W+0],L[W+1])},j.Predictor10=function(I,L,W){return Ae(Ae(I,L[W-1]),Ae(L[W+0],L[W+1]))},j.Predictor11=function(I,L,W){var te=L[W+0];return 0>=Xe(te>>24&255,I>>24&255,(L=L[W-1])>>24&255)+Xe(te>>16&255,I>>16&255,L>>16&255)+Xe(te>>8&255,I>>8&255,L>>8&255)+Xe(255&te,255&I,255&L)?te:I},j.Predictor12=function(I,L,W){var te=L[W+0];return(Oe((I>>24&255)+(te>>24&255)-((L=L[W-1])>>24&255))<<24|Oe((I>>16&255)+(te>>16&255)-(L>>16&255))<<16|Oe((I>>8&255)+(te>>8&255)-(L>>8&255))<<8|Oe((255&I)+(255&te)-(255&L)))>>>0},j.Predictor13=function(I,L,W){var te=L[W-1];return(Ge((I=Ae(I,L[W+0]))>>24&255,te>>24&255)<<24|Ge(I>>16&255,te>>16&255)<<16|Ge(I>>8&255,te>>8&255)<<8|Ge(I>>0&255,te>>0&255))>>>0};var Wp=j.PredictorAdd0;j.PredictorAdd1=dt,Me("Predictor2","PredictorAdd2"),Me("Predictor3","PredictorAdd3"),Me("Predictor4","PredictorAdd4"),Me("Predictor5","PredictorAdd5"),Me("Predictor6","PredictorAdd6"),Me("Predictor7","PredictorAdd7"),Me("Predictor8","PredictorAdd8"),Me("Predictor9","PredictorAdd9"),Me("Predictor10","PredictorAdd10"),Me("Predictor11","PredictorAdd11"),Me("Predictor12","PredictorAdd12"),Me("Predictor13","PredictorAdd13");var fu=j.PredictorAdd2;St("ColorIndexInverseTransform","MapARGB","32b",function(I){return I>>8&255},function(I){return I}),St("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(I){return I},function(I){return I>>8&255});var Kh,Oo=j.ColorIndexInverseTransform,pu=j.MapARGB,vd=j.VP8LColorIndexInverseTransformAlpha,Qh=j.MapAlpha,Ba=j.VP8LPredictorsAdd=[];Ba.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var dc,ko,Hi,hl,na,ra,hc,On,Dr,fc,$r,Lo,pc,Jh,Qo,ia,fl,mi,mc,gc,pl,tr,ml,Bo,jo,Ut,Yn,Or,Wr=c(511),oa=c(2041),kr=c(225),sa=c(767),_d=0,gl=oa,bl=kr,wo=sa,$i=Wr,aa=0,Ad=1,Cd=2,xd=3,Sd=4,Zh=5,pb=6,Gp=7,Xh=8,Ed=9,ef=10,mb=[2,3,7],Yp=[3,3,11],gb=[280,256,256,256,40],bb=[0,1,1,1,0],Cw=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],xw=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],kb=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Mn=8,Kp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],kl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ja=null,tf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Qp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],nr=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Jp=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],wb=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Sw=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],yb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],wl=[],xs=[],Ra=[],yl=1,vb=2,Fa=[],Jo=[];ut("UpsampleRgbLinePair",In,3),ut("UpsampleBgrLinePair",vr,3),ut("UpsampleRgbaLinePair",As,4),ut("UpsampleBgraLinePair",fi,4),ut("UpsampleArgbLinePair",Bi,4),ut("UpsampleRgba4444LinePair",Hr,2),ut("UpsampleRgb565LinePair",Er,2);var Ew=j.UpsampleRgbLinePair,Dw=j.UpsampleBgrLinePair,_b=j.UpsampleRgbaLinePair,Iw=j.UpsampleBgraLinePair,Ab=j.UpsampleArgbLinePair,Cb=j.UpsampleRgba4444LinePair,Tw=j.UpsampleRgb565LinePair,Dd=16,mu=1<<Dd-1,Id=-227,Zp=482,xb=6,Sb=0,Ss=c(256),Ii=c(256),Ti=c(256),Zi=c(256),la=c(Zp-Id),Xp=c(Zp-Id);ea("YuvToRgbRow",In,3),ea("YuvToBgrRow",vr,3),ea("YuvToRgbaRow",As,4),ea("YuvToBgraRow",fi,4),ea("YuvToArgbRow",Bi,4),ea("YuvToRgba4444Row",Hr,2),ea("YuvToRgb565Row",Er,2);var nf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],gu=[0,2,8],Nw=[8,7,6,4,4,2,2,2,1,1,1,1],Eb=1;this.WebPDecodeRGBA=function(I,L,W,te,le){var fe=Ad,me=new lc,ke=new Mr;me.ba=ke,ke.S=fe,ke.width=[ke.width],ke.height=[ke.height];var ve=ke.width,Ee=ke.height,Re=new qr;if(Re==null||I==null)var tt=2;else r(Re!=null),tt=ta(I,L,W,Re.width,Re.height,Re.Pd,Re.Qd,Re.format,null);if(tt!=0?ve=0:(ve!=null&&(ve[0]=Re.width[0]),Ee!=null&&(Ee[0]=Re.height[0]),ve=1),ve){ke.width=ke.width[0],ke.height=ke.height[0],te!=null&&(te[0]=ke.width),le!=null&&(le[0]=ke.height);e:{if(te=new Jc,(le=new ou).data=I,le.w=L,le.ha=W,le.kd=1,L=[0],r(le!=null),((I=ta(le.data,le.w,le.ha,null,null,null,L,null,le))==0||I==7)&&L[0]&&(I=4),(L=I)==0){if(r(me!=null),te.data=le.data,te.w=le.w+le.offset,te.ha=le.ha-le.offset,te.put=zi,te.ac=Nn,te.bc=ei,te.ma=me,le.xa){if((I=bo())==null){me=1;break e}if(function(nt,$e){var bt=[0],ot=[0],je=[0];t:for(;;){if(nt==null)return 0;if($e==null)return nt.a=2,0;if(nt.l=$e,nt.a=0,oe(nt.m,$e.data,$e.w,$e.ha),!Ht(nt.m,bt,ot,je)){nt.a=3;break t}if(nt.xb=vb,$e.width=bt[0],$e.height=ot[0],!ms(bt[0],ot[0],1,nt,null))break t;return 1}return r(nt.a!=0),0}(I,te)){if(te=(L=La(te.width,te.height,me.Oa,me.ba))==0){t:{te=I;n:for(;;){if(te==null){te=0;break t}if(r(te.s.yc!=null),r(te.s.Ya!=null),r(0<te.s.Wb),r((W=te.l)!=null),r((le=W.ma)!=null),te.xb!=0){if(te.ca=le.ba,te.tb=le.tb,r(te.ca!=null),!wd(le.Oa,W,xd)){te.a=2;break n}if(!nc(te,W.width)||W.da)break n;if((W.da||pn(te.ca.S))&&Je(),11>te.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),te.ca.f.kb.F!=null&&Je()),te.Pb&&0<te.s.ua&&te.s.vb.X==null&&!J(te.s.vb,te.s.Wa.Xa)){te.a=1;break n}te.xb=0}if(!Mo(te,te.V,te.Ba,te.c,te.i,W.o,Qt))break n;le.Dc=te.Ma,te=1;break t}r(te.a!=0),te=0}te=!te}te&&(L=I.a)}else L=I.a}else{if((I=new jp)==null){me=1;break e}if(I.Fa=le.na,I.P=le.P,I.qc=le.Sa,Rh(I,te)){if((L=La(te.width,te.height,me.Oa,me.ba))==0){if(I.Aa=0,W=me.Oa,r((le=I)!=null),W!=null){if(0<(ve=0>(ve=W.Md)?0:100<ve?255:255*ve/100)){for(Ee=Re=0;4>Ee;++Ee)12>(tt=le.pb[Ee]).lc&&(tt.ia=ve*Nw[0>tt.lc?0:tt.lc]>>3),Re|=tt.ia;Re&&(alert("todo:VP8InitRandom"),le.ia=1)}le.Ga=W.Id,100<le.Ga?le.Ga=100:0>le.Ga&&(le.Ga=0)}zh(I,te)||(L=I.a)}}else L=I.a}L==0&&me.Oa!=null&&me.Oa.fd&&(L=yd(me.ba))}me=L}fe=me!=0?null:11>fe?ke.f.RGBA.eb:ke.f.kb.y}else fe=null;return fe};var Ro=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function g(j,q){for(var Q="",$=0;$<4;$++)Q+=String.fromCharCode(j[q++]);return Q}function k(j,q){return(j[q+0]<<0|j[q+1]<<8|j[q+2]<<16)>>>0}function v(j,q){return(j[q+0]<<0|j[q+1]<<8|j[q+2]<<16|j[q+3]<<24)>>>0}new p;var y=[0],w=[0],x=[],A=new p,D=t,E=function(j,q){var Q={},$=0,R=!1,Y=0,B=0;if(Q.frames=[],!function(Z,se,pe,we){for(var Pe=0;Pe<we;Pe++)if(Z[se+Pe]!=pe.charCodeAt(Pe))return!0;return!1}(j,q,"RIFF",4)){for(v(j,q+=4),q+=8;q<j.length;){var ne=g(j,q),de=v(j,q+=4);q+=4;var ae=de+(1&de);switch(ne){case"VP8 ":case"VP8L":Q.frames[$]===void 0&&(Q.frames[$]={}),(re=Q.frames[$]).src_off=R?B:q-8,re.src_size=Y+de+8,$++,R&&(R=!1,Y=0,B=0);break;case"VP8X":(re=Q.header={}).feature_flags=j[q];var oe=q+4;re.canvas_width=1+k(j,oe),oe+=3,re.canvas_height=1+k(j,oe),oe+=3;break;case"ALPH":R=!0,Y=ae+8,B=q-8;break;case"ANIM":(re=Q.header).bgcolor=v(j,q),oe=q+4,re.loop_count=(xe=j)[(X=oe)+0]<<0|xe[X+1]<<8,oe+=2;break;case"ANMF":var ye,re;(re=Q.frames[$]={}).offset_x=2*k(j,q),q+=3,re.offset_y=2*k(j,q),q+=3,re.width=1+k(j,q),q+=3,re.height=1+k(j,q),q+=3,re.duration=k(j,q),q+=3,ye=j[q++],re.dispose=1&ye,re.blend=ye>>1&1}ne!="ANMF"&&(q+=ae)}var xe,X;return Q}}(D,0);E.response=D,E.rgbaoutput=!0,E.dataurl=!1;var M=E.header?E.header:null,P=E.frames?E.frames:null;if(M){M.loop_counter=M.loop_count,y=[M.canvas_height],w=[M.canvas_width];for(var F=0;F<P.length&&P[F].blend!=0;F++);}var H=P[0],V=A.WebPDecodeRGBA(D,H.src_off,H.src_size,w,y);H.rgba=V,H.imgwidth=w[0],H.imgheight=y[0];for(var N=0;N<w[0]*y[0]*4;N++)x[N]=V[N];return this.width=w,this.height=y,this.data=x,this}(function(t){var r=function(){return typeof R_=="function"},n=function(y,w,x,A){var D=4,E=d;switch(A){case t.image_compression.FAST:D=1,E=c;break;case t.image_compression.MEDIUM:D=6,E=f;break;case t.image_compression.SLOW:D=9,E=p}y=o(y,w,x,E);var M=R_(y,{level:D});return t.__addimage__.arrayBufferToBinaryString(M)},o=function(y,w,x,A){for(var D,E,M,P=y.length/w,F=new Uint8Array(y.length+P),H=k(),V=0;V<P;V+=1){if(M=V*w,D=y.subarray(M,M+w),A)F.set(A(D,x,E),M+V);else{for(var N,j=H.length,q=[];N<j;N+=1)q[N]=H[N](D,x,E);var Q=v(q.concat());F.set(q[Q],M+V)}E=D}return F},a=function(y){var w=Array.apply([],y);return w.unshift(0),w},c=function(y,w){var x,A=[],D=y.length;A[0]=1;for(var E=0;E<D;E+=1)x=y[E-w]||0,A[E+1]=y[E]-x+256&255;return A},d=function(y,w,x){var A,D=[],E=y.length;D[0]=2;for(var M=0;M<E;M+=1)A=x&&x[M]||0,D[M+1]=y[M]-A+256&255;return D},f=function(y,w,x){var A,D,E=[],M=y.length;E[0]=3;for(var P=0;P<M;P+=1)A=y[P-w]||0,D=x&&x[P]||0,E[P+1]=y[P]+256-(A+D>>>1)&255;return E},p=function(y,w,x){var A,D,E,M,P=[],F=y.length;P[0]=4;for(var H=0;H<F;H+=1)A=y[H-w]||0,D=x&&x[H]||0,E=x&&x[H-w]||0,M=g(A,D,E),P[H+1]=y[H]-M+256&255;return P},g=function(y,w,x){if(y===w&&w===x)return y;var A=Math.abs(w-x),D=Math.abs(y-x),E=Math.abs(y+w-x-x);return A<=D&&A<=E?y:D<=E?w:x},k=function(){return[a,c,d,f,p]},v=function(y){var w=y.map(function(x){return x.reduce(function(A,D){return A+Math.abs(D)},0)});return w.indexOf(Math.min.apply(null,w))};t.processPNG=function(y,w,x,A){var D,E,M,P,F,H,V,N,j,q,Q,$,R,Y,B,ne=this.decode.FLATE_DECODE,de="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(M=new zee(y)).imgData,E=M.bits,D=M.colorSpace,F=M.colors,[4,6].indexOf(M.colorType)!==-1){if(M.bits===8){j=(N=M.pixelBitlength==32?new Uint32Array(M.decodePixels().buffer):M.pixelBitlength==16?new Uint16Array(M.decodePixels().buffer):new Uint8Array(M.decodePixels().buffer)).length,Q=new Uint8Array(j*M.colors),q=new Uint8Array(j);var ae,oe=M.pixelBitlength-M.bits;for(Y=0,B=0;Y<j;Y++){for(R=N[Y],ae=0;ae<oe;)Q[B++]=R>>>ae&255,ae+=M.bits;q[Y]=R>>>ae&255}}if(M.bits===16){j=(N=new Uint32Array(M.decodePixels().buffer)).length,Q=new Uint8Array(j*(32/M.pixelBitlength)*M.colors),q=new Uint8Array(j*(32/M.pixelBitlength)),$=M.colors>1,Y=0,B=0;for(var ye=0;Y<j;)R=N[Y++],Q[B++]=R>>>0&255,$&&(Q[B++]=R>>>16&255,R=N[Y++],Q[B++]=R>>>0&255),q[ye++]=R>>>16&255;E=8}A!==t.image_compression.NONE&&r()?(y=n(Q,M.width*M.colors,M.colors,A),V=n(q,M.width,1,A)):(y=Q,V=q,ne=void 0)}if(M.colorType===3&&(D=this.color_spaces.INDEXED,H=M.palette,M.transparency.indexed)){var re=M.transparency.indexed,xe=0;for(Y=0,j=re.length;Y<j;++Y)xe+=re[Y];if((xe/=255)===j-1&&re.indexOf(0)!==-1)P=[re.indexOf(0)];else if(xe!==j){for(N=M.decodePixels(),q=new Uint8Array(N.length),Y=0,j=N.length;Y<j;Y++)q[Y]=re[N[Y]];V=n(q,M.width,1)}}var X=function(Z){var se;switch(Z){case t.image_compression.FAST:se=11;break;case t.image_compression.MEDIUM:se=13;break;case t.image_compression.SLOW:se=14;break;default:se=12}return se}(A);return ne===this.decode.FLATE_DECODE&&(de="/Predictor "+X+" "),de+="/Colors "+F+" /BitsPerComponent "+E+" /Columns "+M.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(V&&this.__addimage__.isArrayBuffer(V)||this.__addimage__.isArrayBufferView(V))&&(V=this.__addimage__.arrayBufferToBinaryString(V)),{alias:x,data:y,index:w,filter:ne,decodeParameters:de,transparency:P,palette:H,sMask:V,predictor:X,width:M.width,height:M.height,bitsPerComponent:E,colorSpace:D}}}})(sn.API),function(t){t.processGIF89A=function(r,n,o,a){var c=new Uee(r),d=c.width,f=c.height,p=[];c.decodeAndBlitFrameRGBA(0,p);var g={data:p,width:d,height:f},k=new Lv(100).encode(g,100);return t.processJPEG.call(this,k,n,o,a)},t.processGIF87A=t.processGIF89A}(sn.API),Ga.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var r=0;r<t;r++){var n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:a,green:o,blue:n,quad:c}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ga.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[t]()}catch(n){yr.log("bit decode error:"+n)}},Ga.prototype.bit1=function(){var t,r=Math.ceil(this.width/8),n=r%4;for(t=this.height-1;t>=0;t--){for(var o=this.bottom_up?t:this.height-1-t,a=0;a<r;a++)for(var c=this.datav.getUint8(this.pos++,!0),d=o*this.width*4+8*a*4,f=0;f<8&&8*a+f<this.width;f++){var p=this.palette[c>>7-f&1];this.data[d+4*f]=p.blue,this.data[d+4*f+1]=p.green,this.data[d+4*f+2]=p.red,this.data[d+4*f+3]=255}n!==0&&(this.pos+=4-n)}},Ga.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),r=t%4,n=this.height-1;n>=0;n--){for(var o=this.bottom_up?n:this.height-1-n,a=0;a<t;a++){var c=this.datav.getUint8(this.pos++,!0),d=o*this.width*4+2*a*4,f=c>>4,p=15&c,g=this.palette[f];if(this.data[d]=g.blue,this.data[d+1]=g.green,this.data[d+2]=g.red,this.data[d+3]=255,2*a+1>=this.width)break;g=this.palette[p],this.data[d+4]=g.blue,this.data[d+4+1]=g.green,this.data[d+4+2]=g.red,this.data[d+4+3]=255}r!==0&&(this.pos+=4-r)}},Ga.prototype.bit8=function(){for(var t=this.width%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+4*o;if(a<this.palette.length){var d=this.palette[a];this.data[c]=d.red,this.data[c+1]=d.green,this.data[c+2]=d.blue,this.data[c+3]=255}else this.data[c]=255,this.data[c+1]=255,this.data[c+2]=255,this.data[c+3]=255}t!==0&&(this.pos+=4-t)}},Ga.prototype.bit15=function(){for(var t=this.width%3,r=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var o=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(c&r)/r*255|0,f=(c>>5&r)/r*255|0,p=(c>>10&r)/r*255|0,g=c>>15?255:0,k=o*this.width*4+4*a;this.data[k]=p,this.data[k+1]=f,this.data[k+2]=d,this.data[k+3]=g}this.pos+=t}},Ga.prototype.bit16=function(){for(var t=this.width%3,r=parseInt("11111",2),n=parseInt("111111",2),o=this.height-1;o>=0;o--){for(var a=this.bottom_up?o:this.height-1-o,c=0;c<this.width;c++){var d=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(d&r)/r*255|0,p=(d>>5&n)/n*255|0,g=(d>>11)/r*255|0,k=a*this.width*4+4*c;this.data[k]=g,this.data[k+1]=p,this.data[k+2]=f,this.data[k+3]=255}this.pos+=t}},Ga.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=r*this.width*4+4*n;this.data[d]=c,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=255}this.pos+=this.width%4}},Ga.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),f=r*this.width*4+4*n;this.data[f]=c,this.data[f+1]=a,this.data[f+2]=o,this.data[f+3]=d}},Ga.prototype.getData=function(){return this.data},function(t){t.processBMP=function(r,n,o,a){var c=new Ga(r,!1),d=c.width,f=c.height,p={data:c.getData(),width:d,height:f},g=new Lv(100).encode(p,100);return t.processJPEG.call(this,g,n,o,a)}}(sn.API),N6.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(r,n,o,a){var c=new N6(r),d=c.width,f=c.height,p={data:c.getData(),width:d,height:f},g=new Lv(100).encode(p,100);return t.processJPEG.call(this,g,n,o,a)}}(sn.API),sn.API.processRGBA=function(t,r,n){for(var o=t.data,a=o.length,c=new Uint8Array(a/4*3),d=new Uint8Array(a/4),f=0,p=0,g=0;g<a;g+=4){var k=o[g],v=o[g+1],y=o[g+2],w=o[g+3];c[f++]=k,c[f++]=v,c[f++]=y,d[p++]=w}var x=this.__addimage__.arrayBufferToBinaryString(c);return{alpha:this.__addimage__.arrayBufferToBinaryString(d),data:x,index:r,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},sn.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Nf=sn.API,W0=Nf.getCharWidthsArray=function(t,r){var n,o,a=(r=r||{}).font||this.internal.getFont(),c=r.fontSize||this.internal.getFontSize(),d=r.charSpace||this.internal.getCharSpace(),f=r.widths?r.widths:a.metadata.Unicode.widths,p=f.fof?f.fof:1,g=r.kerning?r.kerning:a.metadata.Unicode.kerning,k=g.fof?g.fof:1,v=r.doKerning!==!1,y=0,w=t.length,x=0,A=f[0]||p,D=[];for(n=0;n<w;n++)o=t.charCodeAt(n),typeof a.metadata.widthOfString=="function"?D.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(o))+d*(1e3/c)||0)/1e3):(y=v&&hr(g[o])==="object"&&!isNaN(parseInt(g[o][x],10))?g[o][x]/k:0,D.push((f[o]||A)/p+y)),x=o;return D},E6=Nf.getStringUnitWidth=function(t,r){var n=(r=r||{}).fontSize||this.internal.getFontSize(),o=r.font||this.internal.getFont(),a=r.charSpace||this.internal.getCharSpace();return Nf.processArabic&&(t=Nf.processArabic(t)),typeof o.metadata.widthOfString=="function"?o.metadata.widthOfString(t,n,a)/n:W0.apply(this,arguments).reduce(function(c,d){return c+d},0)},D6=function(t,r,n,o){for(var a=[],c=0,d=t.length,f=0;c!==d&&f+r[c]<n;)f+=r[c],c++;a.push(t.slice(0,c));var p=c;for(f=0;c!==d;)f+r[c]>o&&(a.push(t.slice(p,c)),f=0,p=c),f+=r[c],c++;return p!==c&&a.push(t.slice(p,c)),a},I6=function(t,r,n){n||(n={});var o,a,c,d,f,p,g,k=[],v=[k],y=n.textIndent||0,w=0,x=0,A=t.split(" "),D=W0.apply(this,[" ",n])[0];if(p=n.lineIndent===-1?A[0].length+2:n.lineIndent||0){var E=Array(p).join(" "),M=[];A.map(function(F){(F=F.split(/\s*\n/)).length>1?M=M.concat(F.map(function(H,V){return(V&&H.length?`
`:"")+H})):M.push(F[0])}),A=M,p=E6.apply(this,[E,n])}for(c=0,d=A.length;c<d;c++){var P=0;if(o=A[c],p&&o[0]==`
`&&(o=o.substr(1),P=1),y+w+(x=(a=W0.apply(this,[o,n])).reduce(function(F,H){return F+H},0))>r||P){if(x>r){for(f=D6.apply(this,[o,a,r-(y+w),r]),k.push(f.shift()),k=[f.pop()];f.length;)v.push([f.shift()]);x=a.slice(o.length-(k[0]?k[0].length:0)).reduce(function(F,H){return F+H},0)}else k=[o];v.push(k),y=x+p,w=D}else k.push(o),y+=w+x,w=D}return g=p?function(F,H){return(H?E:"")+F.join(" ")}:function(F){return F.join(" ")},v.map(g)},Nf.splitTextToSize=function(t,r,n){var o,a=(n=n||{}).fontSize||this.internal.getFontSize(),c=(function(k){if(k.widths&&k.kerning)return{widths:k.widths,kerning:k.kerning};var v=this.internal.getFont(k.fontName,k.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);o=Array.isArray(t)?t:String(t).split(/\r?\n/);var d=1*this.internal.scaleFactor*r/a;c.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,c.lineIndent=n.lineIndent;var f,p,g=[];for(f=0,p=o.length;f<p;f++)g=g.concat(I6.apply(this,[o[f],d,c]));return g},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var r="klmnopqrstuvwxyz",n={},o={},a=0;a<r.length;a++)n[r[a]]="0123456789abcdef"[a],o["0123456789abcdef"[a]]=r[a];var c=function(v){return"0x"+parseInt(v,10).toString(16)},d=t.__fontmetrics__.compress=function(v){var y,w,x,A,D=["{"];for(var E in v){if(y=v[E],isNaN(parseInt(E,10))?w="'"+E+"'":(E=parseInt(E,10),w=(w=c(E).slice(2)).slice(0,-1)+o[w.slice(-1)]),typeof y=="number")y<0?(x=c(y).slice(3),A="-"):(x=c(y).slice(2),A=""),x=A+x.slice(0,-1)+o[x.slice(-1)];else{if(hr(y)!=="object")throw new Error("Don't know what to do with value type "+hr(y)+".");x=d(y)}D.push(w+x)}return D.push("}"),D.join("")},f=t.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,w,x,A,D={},E=1,M=D,P=[],F="",H="",V=v.length-1,N=1;N<V;N+=1)(A=v[N])=="'"?y?(x=y.join(""),y=void 0):y=[]:y?y.push(A):A=="{"?(P.push([M,x]),M={},x=void 0):A=="}"?((w=P.pop())[0][w[1]]=M,x=void 0,M=w[0]):A=="-"?E=-1:x===void 0?n.hasOwnProperty(A)?(F+=n[A],x=parseInt(F,16)*E,E=1,F=""):F+=A:n.hasOwnProperty(A)?(H+=n[A],M[x]=parseInt(H,16)*E,E=1,x=void 0,H=""):H+=A;return D},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},k={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(v){var y=v.font,w=k.Unicode[y.postScriptName];w&&(y.metadata.Unicode={},y.metadata.Unicode.widths=w.widths,y.metadata.Unicode.kerning=w.kerning);var x=g.Unicode[y.postScriptName];x&&(y.metadata.Unicode.encoding=x,y.encoding=x.codePages[0])}])}(sn.API),function(t){var r=function(n){for(var o=n.length,a=new Uint8Array(o),c=0;c<o;c++)a[c]=n.charCodeAt(c);return a};t.API.events.push(["addFont",function(n){var o=void 0,a=n.font,c=n.instance;if(!a.isStandardFont){if(c===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(o=c.existsFileInVFS(a.postScriptName)===!1?c.loadFile(a.postScriptName):c.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(d,f){f=/^\x00\x01\x00\x00/.test(f)?r(f):r(dg(f)),d.metadata=t.API.TTFFont.open(f),d.metadata.Unicode=d.metadata.Unicode||{encoding:{},kerning:{},widths:[]},d.metadata.glyIdsUsed=[0]})(a,o)}}])}(sn),function(t){function r(){return(an.canvg?Promise.resolve(an.canvg):co(()=>import("./index.es-CavwZ0vh.js"),__vite__mapDeps([0,1,2,3]))).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}sn.API.addSvgAsImage=function(n,o,a,c,d,f,p,g){if(isNaN(o)||isNaN(a))throw yr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(c)||isNaN(d))throw yr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var k=document.createElement("canvas");k.width=c,k.height=d;var v=k.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,k.width,k.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return r().then(function(x){return x.fromString(v,n,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(y)}).then(function(){w.addImage(k.toDataURL("image/jpeg",1),o,a,c,d,p,g)})}}(),sn.API.putTotalPages=function(t){var r,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var o=1;o<=this.internal.getNumberOfPages();o++)for(var a=0;a<this.internal.pages[o].length;a++)this.internal.pages[o][a]=this.internal.pages[o][a].replace(r,n);return this},sn.API.viewerPreferences=function(t,r){var n;t=t||{},r=r||!1;var o,a,c,d={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},f=Object.keys(d),p=[],g=0,k=0,v=0;function y(x,A){var D,E=!1;for(D=0;D<x.length;D+=1)x[D]===A&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(d)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||r===!0){var w=f.length;for(v=0;v<w;v+=1)n[f[v]].value=n[f[v]].defaultValue,n[f[v]].explicitSet=!1}if(hr(t)==="object"){for(a in t)if(c=t[a],y(f,a)&&c!==void 0){if(n[a].type==="boolean"&&typeof c=="boolean")n[a].value=c;else if(n[a].type==="name"&&y(n[a].valueSet,c))n[a].value=c;else if(n[a].type==="integer"&&Number.isInteger(c))n[a].value=c;else if(n[a].type==="array"){for(g=0;g<c.length;g+=1)if(o=!0,c[g].length===1&&typeof c[g][0]=="number")p.push(String(c[g]-1));else if(c[g].length>1){for(k=0;k<c[g].length;k+=1)typeof c[g][k]!="number"&&(o=!1);o===!0&&p.push([c[g][0]-1,c[g][1]-1].join(" "))}n[a].value="["+p.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,A=[];for(x in n)n[x].explicitSet===!0&&(n[x].type==="name"?A.push("/"+x+" /"+n[x].value):A.push("/"+x+" "+n[x].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var r=function(){var o='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),c=unescape(encodeURIComponent(o)),d=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),f=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),p=unescape(encodeURIComponent("</x:xmpmeta>")),g=c.length+d.length+f.length+a.length+p.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+g+" >>"),this.internal.write("stream"),this.internal.write(a+c+d+f+p),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(o,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:o,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",r)),this}}(sn.API),function(t){var r=t.API,n=r.pdfEscape16=function(c,d){for(var f,p=d.metadata.Unicode.widths,g=["","0","00","000","0000"],k=[""],v=0,y=c.length;v<y;++v){if(f=d.metadata.characterToGlyph(c.charCodeAt(v)),d.metadata.glyIdsUsed.push(f),d.metadata.toUnicode[f]=c.charCodeAt(v),p.indexOf(f)==-1&&(p.push(f),p.push([parseInt(d.metadata.widthOfGlyph(f),10)])),f=="0")return k.join("");f=f.toString(16),k.push(g[4-f.length],f)}return k.join("")},o=function(c){var d,f,p,g,k,v,y;for(k=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,p=[],v=0,y=(f=Object.keys(c).sort(function(w,x){return w-x})).length;v<y;v++)d=f[v],p.length>=100&&(k+=`
`+p.length+` beginbfchar
`+p.join(`
`)+`
endbfchar`,p=[]),c[d]!==void 0&&c[d]!==null&&typeof c[d].toString=="function"&&(g=("0000"+c[d].toString(16)).slice(-4),d=("0000"+(+d).toString(16)).slice(-4),p.push("<"+d+"><"+g+">"));return p.length&&(k+=`
`+p.length+` beginbfchar
`+p.join(`
`)+`
endbfchar
`),k+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(c){(function(d){var f=d.font,p=d.out,g=d.newObject,k=d.putStream;if(f.metadata instanceof t.API.TTFFont&&f.encoding==="Identity-H"){for(var v=f.metadata.Unicode.widths,y=f.metadata.subset.encode(f.metadata.glyIdsUsed,1),w="",x=0;x<y.length;x++)w+=String.fromCharCode(y[x]);var A=g();k({data:w,addLength1:!0,objectId:A}),p("endobj");var D=g();k({data:o(f.metadata.toUnicode),addLength1:!0,objectId:D}),p("endobj");var E=g();p("<<"),p("/Type /FontDescriptor"),p("/FontName /"+Yf(f.fontName)),p("/FontFile2 "+A+" 0 R"),p("/FontBBox "+t.API.PDFObject.convert(f.metadata.bbox)),p("/Flags "+f.metadata.flags),p("/StemV "+f.metadata.stemV),p("/ItalicAngle "+f.metadata.italicAngle),p("/Ascent "+f.metadata.ascender),p("/Descent "+f.metadata.decender),p("/CapHeight "+f.metadata.capHeight),p(">>"),p("endobj");var M=g();p("<<"),p("/Type /Font"),p("/BaseFont /"+Yf(f.fontName)),p("/FontDescriptor "+E+" 0 R"),p("/W "+t.API.PDFObject.convert(v)),p("/CIDToGIDMap /Identity"),p("/DW 1000"),p("/Subtype /CIDFontType2"),p("/CIDSystemInfo"),p("<<"),p("/Supplement 0"),p("/Registry (Adobe)"),p("/Ordering ("+f.encoding+")"),p(">>"),p(">>"),p("endobj"),f.objectNumber=g(),p("<<"),p("/Type /Font"),p("/Subtype /Type0"),p("/ToUnicode "+D+" 0 R"),p("/BaseFont /"+Yf(f.fontName)),p("/Encoding /"+f.encoding),p("/DescendantFonts ["+M+" 0 R]"),p(">>"),p("endobj"),f.isAlreadyPutted=!0}})(c)}]),r.events.push(["putFont",function(c){(function(d){var f=d.font,p=d.out,g=d.newObject,k=d.putStream;if(f.metadata instanceof t.API.TTFFont&&f.encoding==="WinAnsiEncoding"){for(var v=f.metadata.rawData,y="",w=0;w<v.length;w++)y+=String.fromCharCode(v[w]);var x=g();k({data:y,addLength1:!0,objectId:x}),p("endobj");var A=g();k({data:o(f.metadata.toUnicode),addLength1:!0,objectId:A}),p("endobj");var D=g();p("<<"),p("/Descent "+f.metadata.decender),p("/CapHeight "+f.metadata.capHeight),p("/StemV "+f.metadata.stemV),p("/Type /FontDescriptor"),p("/FontFile2 "+x+" 0 R"),p("/Flags 96"),p("/FontBBox "+t.API.PDFObject.convert(f.metadata.bbox)),p("/FontName /"+Yf(f.fontName)),p("/ItalicAngle "+f.metadata.italicAngle),p("/Ascent "+f.metadata.ascender),p(">>"),p("endobj"),f.objectNumber=g();for(var E=0;E<f.metadata.hmtx.widths.length;E++)f.metadata.hmtx.widths[E]=parseInt(f.metadata.hmtx.widths[E]*(1e3/f.metadata.head.unitsPerEm));p("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+Yf(f.fontName)+"/FontDescriptor "+D+" 0 R/Encoding/"+f.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(f.metadata.hmtx.widths)+">>"),p("endobj"),f.isAlreadyPutted=!0}})(c)}]);var a=function(c){var d,f=c.text||"",p=c.x,g=c.y,k=c.options||{},v=c.mutex||{},y=v.pdfEscape,w=v.activeFontKey,x=v.fonts,A=w,D="",E=0,M="",P=x[A].encoding;if(x[A].encoding!=="Identity-H")return{text:f,x:p,y:g,options:k,mutex:v};for(M=f,A=w,Array.isArray(f)&&(M=f[0]),E=0;E<M.length;E+=1)x[A].metadata.hasOwnProperty("cmap")&&(d=x[A].metadata.cmap.unicode.codeMap[M[E].charCodeAt(0)]),d||M[E].charCodeAt(0)<256&&x[A].metadata.hasOwnProperty("Unicode")?D+=M[E]:D+="";var F="";return parseInt(A.slice(1))<14||P==="WinAnsiEncoding"?F=y(D,A).split("").map(function(H){return H.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(F=n(D,x[A])),v.isHex=!0,{text:F,x:p,y:g,options:k,mutex:v}};r.events.push(["postProcessText",function(c){var d=c.text||"",f=[],p={text:d,x:c.x,y:c.y,options:c.options,mutex:c.mutex};if(Array.isArray(d)){var g=0;for(g=0;g<d.length;g+=1)Array.isArray(d[g])&&d[g].length===3?f.push([a(Object.assign({},p,{text:d[g][0]})).text,d[g][1],d[g][2]]):f.push(a(Object.assign({},p,{text:d[g]})).text);c.text=f}else c.text=a(Object.assign({},p,{text:d})).text}])}(sn),function(t){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return r.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,o){return r.call(this),this.internal.vFS[n]=o,this},t.getFileFromVFS=function(n){return r.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(sn.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(o){var a,c,d,f,p,g,k,v=r,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},D=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),M=!1,P=0;this.__bidiEngine__={};var F=function($){var R=$.charCodeAt(),Y=R>>8,B=A[Y];return B!==void 0?v[256*B+(255&R)]:Y===252||Y===253?"AL":E.test(Y)?"L":Y===8?"R":"N"},H=function($){for(var R,Y=0;Y<$.length;Y++){if((R=F($.charAt(Y)))==="L")return!1;if(R==="R")return!0}return!1},V=function($,R,Y,B){var ne,de,ae,oe,ye=R[B];switch(ye){case"L":case"R":M=!1;break;case"N":case"AN":break;case"EN":M&&(ye="AN");break;case"AL":M=!0,ye="R";break;case"WS":ye="N";break;case"CS":B<1||B+1>=R.length||(ne=Y[B-1])!=="EN"&&ne!=="AN"||(de=R[B+1])!=="EN"&&de!=="AN"?ye="N":M&&(de="AN"),ye=de===ne?de:"N";break;case"ES":ye=(ne=B>0?Y[B-1]:"B")==="EN"&&B+1<R.length&&R[B+1]==="EN"?"EN":"N";break;case"ET":if(B>0&&Y[B-1]==="EN"){ye="EN";break}if(M){ye="N";break}for(ae=B+1,oe=R.length;ae<oe&&R[ae]==="ET";)ae++;ye=ae<oe&&R[ae]==="EN"?"EN":"N";break;case"NSM":if(d&&!f){for(oe=R.length,ae=B+1;ae<oe&&R[ae]==="NSM";)ae++;if(ae<oe){var re=$[B],xe=re>=1425&&re<=2303||re===64286;if(ne=R[ae],xe&&(ne==="R"||ne==="AL")){ye="R";break}}}ye=B<1||(ne=R[B-1])==="B"?"N":Y[B-1];break;case"B":M=!1,a=!0,ye=P;break;case"S":c=!0,ye="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":M=!1;break;case"BN":ye="N"}return ye},N=function($,R,Y){var B=$.split("");return Y&&j(B,Y,{hiLevel:P}),B.reverse(),R&&R.reverse(),B.join("")},j=function($,R,Y){var B,ne,de,ae,oe,ye=-1,re=$.length,xe=0,X=[],Z=P?w:y,se=[];for(M=!1,a=!1,c=!1,ne=0;ne<re;ne++)se[ne]=F($[ne]);for(de=0;de<re;de++){if(oe=xe,X[de]=V($,se,X,de),B=240&(xe=Z[oe][x[X[de]]]),xe&=15,R[de]=ae=Z[xe][5],B>0)if(B===16){for(ne=ye;ne<de;ne++)R[ne]=1;ye=-1}else ye=-1;if(Z[xe][6])ye===-1&&(ye=de);else if(ye>-1){for(ne=ye;ne<de;ne++)R[ne]=ae;ye=-1}se[de]==="B"&&(R[de]=0),Y.hiLevel|=ae}c&&function(pe,we,Pe){for(var Te=0;Te<Pe;Te++)if(pe[Te]==="S"){we[Te]=P;for(var Ne=Te-1;Ne>=0&&pe[Ne]==="WS";Ne--)we[Ne]=P}}(se,R,re)},q=function($,R,Y,B,ne){if(!(ne.hiLevel<$)){if($===1&&P===1&&!a)return R.reverse(),void(Y&&Y.reverse());for(var de,ae,oe,ye,re=R.length,xe=0;xe<re;){if(B[xe]>=$){for(oe=xe+1;oe<re&&B[oe]>=$;)oe++;for(ye=xe,ae=oe-1;ye<ae;ye++,ae--)de=R[ye],R[ye]=R[ae],R[ae]=de,Y&&(de=Y[ye],Y[ye]=Y[ae],Y[ae]=de);xe=oe}xe++}}},Q=function($,R,Y){var B=$.split(""),ne={hiLevel:P};return Y||(Y=[]),j(B,Y,ne),function(de,ae,oe){if(oe.hiLevel!==0&&k)for(var ye,re=0;re<de.length;re++)ae[re]===1&&(ye=D.indexOf(de[re]))>=0&&(de[re]=D[ye+1])}(B,Y,ne),q(2,B,R,Y,ne),q(1,B,R,Y,ne),B.join("")};return this.__bidiEngine__.doBidiReorder=function($,R,Y){if(function(ne,de){if(de)for(var ae=0;ae<ne.length;ae++)de[ae]=ae;f===void 0&&(f=H(ne)),g===void 0&&(g=H(ne))}($,R),d||!p||g)if(d&&p&&f^g)P=f?1:0,$=N($,R,Y);else if(!d&&p&&g)P=f?1:0,$=Q($,R,Y),$=N($,R);else if(!d||f||p||g){if(d&&!p&&f^g)$=N($,R),f?(P=0,$=Q($,R,Y)):(P=1,$=Q($,R,Y),$=N($,R));else if(d&&f&&!p&&g)P=1,$=Q($,R,Y),$=N($,R);else if(!d&&!p&&f^g){var B=k;f?(P=1,$=Q($,R,Y),P=0,k=!1,$=Q($,R,Y),k=B):(P=0,$=Q($,R,Y),$=N($,R),P=1,k=!1,$=Q($,R,Y),k=B,$=N($,R))}}else P=0,$=Q($,R,Y);else P=f?1:0,$=Q($,R,Y);return $},this.__bidiEngine__.setOptions=function($){$&&(d=$.isInputVisual,p=$.isOutputVisual,f=$.isInputRtl,g=$.isOutputRtl,k=$.isSymmetricSwapping)},this.__bidiEngine__.setOptions(o),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(o){var a=o.text;o.x,o.y;var c=o.options||{};o.mutex,c.lang;var d=[];if(c.isInputVisual=typeof c.isInputVisual!="boolean"||c.isInputVisual,n.setOptions(c),Object.prototype.toString.call(a)==="[object Array]"){var f=0;for(d=[],f=0;f<a.length;f+=1)Object.prototype.toString.call(a[f])==="[object Array]"?d.push([n.doBidiReorder(a[f][0]),a[f][1],a[f][2]]):d.push([n.doBidiReorder(a[f])]);o.text=d}else o.text=n.doBidiReorder(a);n.setOptions({isInputVisual:!0})}])}(sn),sn.API.TTFFont=function(){function t(r){var n;if(this.rawData=r,n=this.contents=new Zu(r),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new nte(this),this.registerTTF()}return t.open=function(r){return new t(r)},t.prototype.parse=function(){return this.directory=new qee(this.contents),this.head=new Hee(this),this.name=new Kee(this),this.cmap=new t8(this),this.toUnicode={},this.hhea=new $ee(this),this.maxp=new Qee(this),this.hmtx=new Jee(this),this.post=new Gee(this),this.os2=new Wee(this),this.loca=new tte(this),this.glyf=new Zee(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var r,n,o,a,c;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var d,f,p,g;for(g=[],d=0,f=(p=this.bbox).length;d<f;d++)r=p[d],g.push(Math.round(r*this.scaleFactor));return g}).call(this),this.stemV=0,this.post.exists?(o=255&(a=this.post.italic_angle),(32768&(n=a>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+o)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(c=this.familyClass)===1||c===2||c===3||c===4||c===5||c===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(r){var n;return((n=this.cmap.unicode)!=null?n.codeMap[r]:void 0)||0},t.prototype.widthOfGlyph=function(r){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*n},t.prototype.widthOfString=function(r,n,o){var a,c,d,f;for(d=0,c=0,f=(r=""+r).length;0<=f?c<f:c>f;c=0<=f?++c:--c)a=r.charCodeAt(c),d+=this.widthOfGlyph(this.characterToGlyph(a))+o*(1e3/n)||0;return d*(n/1e3)},t.prototype.lineHeight=function(r,n){var o;return n==null&&(n=!1),o=n?this.lineGap:0,(this.ascender+o-this.decender)/1e3*r},t}();var tl,Zu=function(){function t(r){this.data=r??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(r){return this.data[this.pos++]=r},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},t.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},t.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},t.prototype.readString=function(r){var n,o;for(o=[],n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)o[n]=String.fromCharCode(this.readByte());return o.join("")},t.prototype.writeString=function(r){var n,o,a;for(a=[],n=0,o=r.length;0<=o?n<o:n>o;n=0<=o?++n:--n)a.push(this.writeByte(r.charCodeAt(n)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(r){return this.writeInt16(r)},t.prototype.readLongLong=function(){var r,n,o,a,c,d,f,p;return r=this.readByte(),n=this.readByte(),o=this.readByte(),a=this.readByte(),c=this.readByte(),d=this.readByte(),f=this.readByte(),p=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^n)+1099511627776*(255^o)+4294967296*(255^a)+16777216*(255^c)+65536*(255^d)+256*(255^f)+(255^p)+1):72057594037927940*r+281474976710656*n+1099511627776*o+4294967296*a+16777216*c+65536*d+256*f+p},t.prototype.writeLongLong=function(r){var n,o;return n=Math.floor(r/4294967296),o=4294967295&r,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(o>>24&255),this.writeByte(o>>16&255),this.writeByte(o>>8&255),this.writeByte(255&o)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(r){return this.writeInt32(r)},t.prototype.read=function(r){var n,o;for(n=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)n.push(this.readByte());return n},t.prototype.write=function(r){var n,o,a,c;for(c=[],o=0,a=r.length;o<a;o++)n=r[o],c.push(this.writeByte(n));return c},t}(),qee=function(){var t;function r(n){var o,a,c;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},a=0,c=this.tableCount;0<=c?a<c:a>c;a=0<=c?++a:--a)o={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[o.tag]=o}return r.prototype.encode=function(n){var o,a,c,d,f,p,g,k,v,y,w,x,A;for(A in w=Object.keys(n).length,p=Math.log(2),v=16*Math.floor(Math.log(w)/p),d=Math.floor(v/p),k=16*w-v,(a=new Zu).writeInt(this.scalarType),a.writeShort(w),a.writeShort(v),a.writeShort(d),a.writeShort(k),c=16*w,g=a.pos+c,f=null,x=[],n)for(y=n[A],a.writeString(A),a.writeInt(t(y)),a.writeInt(g),a.writeInt(y.length),x=x.concat(y),A==="head"&&(f=g),g+=y.length;g%4;)x.push(0),g++;return a.write(x),o=2981146554-t(a.data),a.pos=f+8,a.writeUInt32(o),a.data},t=function(n){var o,a,c,d;for(n=n8.call(n);n.length%4;)n.push(0);for(c=new Zu(n),a=0,o=0,d=n.length;o<d;o=o+=4)a+=c.readUInt32();return 4294967295&a},r}(),Vee={}.hasOwnProperty,tc=function(t,r){for(var n in r)Vee.call(r,n)&&(t[n]=r[n]);function o(){this.constructor=t}return o.prototype=r.prototype,t.prototype=new o,t.__super__=r.prototype,t};tl=function(){function t(r){var n;this.file=r,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Hee=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return tc(r,tl),r.prototype.tag="head",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},r.prototype.encode=function(n){var o;return(o=new Zu).writeInt(this.version),o.writeInt(this.revision),o.writeInt(this.checkSumAdjustment),o.writeInt(this.magicNumber),o.writeShort(this.flags),o.writeShort(this.unitsPerEm),o.writeLongLong(this.created),o.writeLongLong(this.modified),o.writeShort(this.xMin),o.writeShort(this.yMin),o.writeShort(this.xMax),o.writeShort(this.yMax),o.writeShort(this.macStyle),o.writeShort(this.lowestRecPPEM),o.writeShort(this.fontDirectionHint),o.writeShort(n),o.writeShort(this.glyphDataFormat),o.data},r}(),M6=function(){function t(r,n){var o,a,c,d,f,p,g,k,v,y,w,x,A,D,E,M,P;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=n+r.readInt(),v=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(p=0;p<256;++p)this.codeMap[p]=r.readByte();break;case 4:for(w=r.readUInt16(),y=w/2,r.pos+=6,c=function(){var F,H;for(H=[],p=F=0;0<=y?F<y:F>y;p=0<=y?++F:--F)H.push(r.readUInt16());return H}(),r.pos+=2,A=function(){var F,H;for(H=[],p=F=0;0<=y?F<y:F>y;p=0<=y?++F:--F)H.push(r.readUInt16());return H}(),g=function(){var F,H;for(H=[],p=F=0;0<=y?F<y:F>y;p=0<=y?++F:--F)H.push(r.readUInt16());return H}(),k=function(){var F,H;for(H=[],p=F=0;0<=y?F<y:F>y;p=0<=y?++F:--F)H.push(r.readUInt16());return H}(),a=(this.length-r.pos+this.offset)/2,f=function(){var F,H;for(H=[],p=F=0;0<=a?F<a:F>a;p=0<=a?++F:--F)H.push(r.readUInt16());return H}(),p=E=0,P=c.length;E<P;p=++E)for(D=c[p],o=M=x=A[p];x<=D?M<=D:M>=D;o=x<=D?++M:--M)k[p]===0?d=o+g[p]:(d=f[k[p]/2+(o-x)-(y-p)]||0)!==0&&(d+=g[p]),this.codeMap[o]=65535&d}r.pos=v}return t.encode=function(r,n){var o,a,c,d,f,p,g,k,v,y,w,x,A,D,E,M,P,F,H,V,N,j,q,Q,$,R,Y,B,ne,de,ae,oe,ye,re,xe,X,Z,se,pe,we,Pe,Te,Ne,rt,Ke,Qe;switch(B=new Zu,d=Object.keys(r).sort(function(ze,J){return ze-J}),n){case"macroman":for(A=0,D=function(){var ze=[];for(x=0;x<256;++x)ze.push(0);return ze}(),M={0:0},c={},ne=0,ye=d.length;ne<ye;ne++)M[Ne=r[a=d[ne]]]==null&&(M[Ne]=++A),c[a]={old:r[a],new:M[r[a]]},D[a]=M[r[a]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(D),{charMap:c,subtable:B.data,maxGlyphID:A+1};case"unicode":for(R=[],v=[],P=0,M={},o={},E=g=null,de=0,re=d.length;de<re;de++)M[H=r[a=d[de]]]==null&&(M[H]=++P),o[a]={old:H,new:M[H]},f=M[H]-a,E!=null&&f===g||(E&&v.push(E),R.push(a),g=f),E=a;for(E&&v.push(E),v.push(65535),R.push(65535),Q=2*(q=R.length),j=2*Math.pow(Math.log(q)/Math.LN2,2),y=Math.log(j/2)/Math.LN2,N=2*q-j,p=[],V=[],w=[],x=ae=0,xe=R.length;ae<xe;x=++ae){if($=R[x],k=v[x],$===65535){p.push(0),V.push(0);break}if($-(Y=o[$].new)>=32768)for(p.push(0),V.push(2*(w.length+q-x)),a=oe=$;$<=k?oe<=k:oe>=k;a=$<=k?++oe:--oe)w.push(o[a].new);else p.push(Y-$),V.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*q+2*w.length),B.writeUInt16(0),B.writeUInt16(Q),B.writeUInt16(j),B.writeUInt16(y),B.writeUInt16(N),Pe=0,X=v.length;Pe<X;Pe++)a=v[Pe],B.writeUInt16(a);for(B.writeUInt16(0),Te=0,Z=R.length;Te<Z;Te++)a=R[Te],B.writeUInt16(a);for(rt=0,se=p.length;rt<se;rt++)f=p[rt],B.writeUInt16(f);for(Ke=0,pe=V.length;Ke<pe;Ke++)F=V[Ke],B.writeUInt16(F);for(Qe=0,we=w.length;Qe<we;Qe++)A=w[Qe],B.writeUInt16(A);return{charMap:o,subtable:B.data,maxGlyphID:P+1}}},t}(),t8=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return tc(r,tl),r.prototype.tag="cmap",r.prototype.parse=function(n){var o,a,c;for(n.pos=this.offset,this.version=n.readUInt16(),c=n.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=c?a<c:a>c;a=0<=c?++a:--a)o=new M6(n,this.offset),this.tables.push(o),o.isUnicode&&this.unicode==null&&(this.unicode=o);return!0},r.encode=function(n,o){var a,c;return o==null&&(o="macroman"),a=M6.encode(n,o),(c=new Zu).writeUInt16(0),c.writeUInt16(1),a.table=c.data.concat(a.subtable),a},r}(),$ee=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return tc(r,tl),r.prototype.tag="hhea",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},r}(),Wee=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return tc(r,tl),r.prototype.tag="OS/2",r.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var o,a;for(a=[],o=0;o<10;++o)a.push(n.readByte());return a}(),this.charRange=function(){var o,a;for(a=[],o=0;o<4;++o)a.push(n.readInt());return a}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var o,a;for(a=[],o=0;o<2;o=++o)a.push(n.readInt());return a}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},r}(),Gee=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return tc(r,tl),r.prototype.tag="post",r.prototype.parse=function(n){var o,a,c;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var d;for(a=n.readUInt16(),this.glyphNameIndex=[],d=0;0<=a?d<a:d>a;d=0<=a?++d:--d)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],c=[];n.pos<this.offset+this.length;)o=n.readByte(),c.push(this.names.push(n.readString(o)));return c;case 151552:return a=n.readUInt16(),this.offsets=n.read(a);case 196608:break;case 262144:return this.map=(function(){var f,p,g;for(g=[],d=f=0,p=this.file.maxp.numGlyphs;0<=p?f<p:f>p;d=0<=p?++f:--f)g.push(n.readUInt32());return g}).call(this)}},r}(),Yee=function(t,r){this.raw=t,this.length=t.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},Kee=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return tc(r,tl),r.prototype.tag="name",r.prototype.parse=function(n){var o,a,c,d,f,p,g,k,v,y,w;for(n.pos=this.offset,n.readShort(),o=n.readShort(),p=n.readShort(),a=[],d=0;0<=o?d<o:d>o;d=0<=o?++d:--d)a.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+p+n.readShort()});for(g={},d=v=0,y=a.length;v<y;d=++v)c=a[d],n.pos=c.offset,k=n.readString(c.length),f=new Yee(k,c),g[w=c.nameID]==null&&(g[w]=[]),g[c.nameID].push(f);this.strings=g,this.copyright=g[0],this.fontFamily=g[1],this.fontSubfamily=g[2],this.uniqueSubfamily=g[3],this.fontName=g[4],this.version=g[5];try{this.postscriptName=g[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=g[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=g[7],this.manufacturer=g[8],this.designer=g[9],this.description=g[10],this.vendorUrl=g[11],this.designerUrl=g[12],this.license=g[13],this.licenseUrl=g[14],this.preferredFamily=g[15],this.preferredSubfamily=g[17],this.compatibleFull=g[18],this.sampleText=g[19]},r}(),Qee=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return tc(r,tl),r.prototype.tag="maxp",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},r}(),Jee=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return tc(r,tl),r.prototype.tag="hmtx",r.prototype.parse=function(n){var o,a,c,d,f,p,g;for(n.pos=this.offset,this.metrics=[],o=0,p=this.file.hhea.numberOfMetrics;0<=p?o<p:o>p;o=0<=p?++o:--o)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(c=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var k,v;for(v=[],o=k=0;0<=c?k<c:k>c;o=0<=c?++k:--k)v.push(n.readInt16());return v}(),this.widths=(function(){var k,v,y,w;for(w=[],k=0,v=(y=this.metrics).length;k<v;k++)d=y[k],w.push(d.advance);return w}).call(this),a=this.widths[this.widths.length-1],g=[],o=f=0;0<=c?f<c:f>c;o=0<=c?++f:--f)g.push(this.widths.push(a));return g},r.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},r}(),n8=[].slice,Zee=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return tc(r,tl),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(n){var o,a,c,d,f,p,g,k,v,y;return n in this.cache?this.cache[n]:(d=this.file.loca,o=this.file.contents,a=d.indexOf(n),(c=d.lengthOf(n))===0?this.cache[n]=null:(o.pos=this.offset+a,f=(p=new Zu(o.read(c))).readShort(),k=p.readShort(),y=p.readShort(),g=p.readShort(),v=p.readShort(),this.cache[n]=f===-1?new ete(p,k,y,g,v):new Xee(p,f,k,y,g,v),this.cache[n]))},r.prototype.encode=function(n,o,a){var c,d,f,p,g;for(f=[],d=[],p=0,g=o.length;p<g;p++)c=n[o[p]],d.push(f.length),c&&(f=f.concat(c.encode(a)));return d.push(f.length),{table:f,offsets:d}},r}(),Xee=function(){function t(r,n,o,a,c,d){this.raw=r,this.numberOfContours=n,this.xMin=o,this.yMin=a,this.xMax=c,this.yMax=d,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),ete=function(){function t(r,n,o,a,c){var d,f;for(this.raw=r,this.xMin=n,this.yMin=o,this.xMax=a,this.yMax=c,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],d=this.raw;f=d.readShort(),this.glyphOffsets.push(d.pos),this.glyphIDs.push(d.readUInt16()),32&f;)d.pos+=1&f?4:2,128&f?d.pos+=8:64&f?d.pos+=4:8&f&&(d.pos+=2)}return t.prototype.encode=function(){var r,n,o;for(n=new Zu(n8.call(this.raw.data)),r=0,o=this.glyphIDs.length;r<o;++r)n.pos=this.glyphOffsets[r];return n.data},t}(),tte=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return tc(r,tl),r.prototype.tag="loca",r.prototype.parse=function(n){var o,a;return n.pos=this.offset,o=this.file.head.indexToLocFormat,this.offsets=o===0?(function(){var c,d;for(d=[],a=0,c=this.length;a<c;a+=2)d.push(2*n.readUInt16());return d}).call(this):(function(){var c,d;for(d=[],a=0,c=this.length;a<c;a+=4)d.push(n.readUInt32());return d}).call(this)},r.prototype.indexOf=function(n){return this.offsets[n]},r.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},r.prototype.encode=function(n,o){for(var a=new Uint32Array(this.offsets.length),c=0,d=0,f=0;f<a.length;++f)if(a[f]=c,d<o.length&&o[d]==f){++d,a[f]=c;var p=this.offsets[f],g=this.offsets[f+1]-p;g>0&&(c+=g)}for(var k=new Array(4*a.length),v=0;v<a.length;++v)k[4*v+3]=255&a[v],k[4*v+2]=(65280&a[v])>>8,k[4*v+1]=(16711680&a[v])>>16,k[4*v]=(4278190080&a[v])>>24;return k},r}(),nte=function(){function t(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var r,n,o,a,c;for(n in a=this.font.cmap.tables[0].codeMap,r={},c=this.subset)o=c[n],r[n]=a[o];return r},t.prototype.glyphsFor=function(r){var n,o,a,c,d,f,p;for(a={},d=0,f=r.length;d<f;d++)a[c=r[d]]=this.font.glyf.glyphFor(c);for(c in n=[],a)(o=a[c])!=null&&o.compound&&n.push.apply(n,o.glyphIDs);if(n.length>0)for(c in p=this.glyphsFor(n))o=p[c],a[c]=o;return a},t.prototype.encode=function(r,n){var o,a,c,d,f,p,g,k,v,y,w,x,A,D,E;for(a in o=t8.encode(this.generateCmap(),"unicode"),d=this.glyphsFor(r),w={0:0},E=o.charMap)w[(p=E[a]).old]=p.new;for(x in y=o.maxGlyphID,d)x in w||(w[x]=y++);return k=function(M){var P,F;for(P in F={},M)F[M[P]]=P;return F}(w),v=Object.keys(k).sort(function(M,P){return M-P}),A=function(){var M,P,F;for(F=[],M=0,P=v.length;M<P;M++)f=v[M],F.push(k[f]);return F}(),c=this.font.glyf.encode(d,A,w),g=this.font.loca.encode(c.offsets,A),D={cmap:this.font.cmap.raw(),glyf:c.table,loca:g,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(D["OS/2"]=this.font.os2.raw()),this.font.directory.encode(D)},t}();sn.API.PDFObject=function(){var t;function r(){}return t=function(n,o){return(Array(o+1).join("0")+n).slice(-o)},r.convert=function(n){var o,a,c,d;if(Array.isArray(n))return"["+function(){var f,p,g;for(g=[],f=0,p=n.length;f<p;f++)o=n[f],g.push(r.convert(o));return g}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(a in c=["<<"],n)d=n[a],c.push("/"+a+" "+r.convert(d));return c.push(">>"),c.join(`
`)}return""+n},r}();const rte=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(t=>t.charCodeAt(0))),ite=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(t=>t.charCodeAt(0)));var Bv;const ote=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),P6=(Bv=String.fromCodePoint)!==null&&Bv!==void 0?Bv:function(t){let r="";return t>65535&&(t-=65536,r+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),r+=String.fromCharCode(t),r};function ste(t){var r;return t>=55296&&t<=57343||t>1114111?65533:(r=ote.get(t))!==null&&r!==void 0?r:t}var Ki;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Ki||(Ki={}));const ate=32;var qu;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(qu||(qu={}));function $_(t){return t>=Ki.ZERO&&t<=Ki.NINE}function lte(t){return t>=Ki.UPPER_A&&t<=Ki.UPPER_F||t>=Ki.LOWER_A&&t<=Ki.LOWER_F}function cte(t){return t>=Ki.UPPER_A&&t<=Ki.UPPER_Z||t>=Ki.LOWER_A&&t<=Ki.LOWER_Z||$_(t)}function ute(t){return t===Ki.EQUALS||cte(t)}var Gi;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Gi||(Gi={}));var Fl;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Fl||(Fl={}));class dte{constructor(r,n,o){this.decodeTree=r,this.emitCodePoint=n,this.errors=o,this.state=Gi.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Fl.Strict}startEntity(r){this.decodeMode=r,this.state=Gi.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(r,n){switch(this.state){case Gi.EntityStart:return r.charCodeAt(n)===Ki.NUM?(this.state=Gi.NumericStart,this.consumed+=1,this.stateNumericStart(r,n+1)):(this.state=Gi.NamedEntity,this.stateNamedEntity(r,n));case Gi.NumericStart:return this.stateNumericStart(r,n);case Gi.NumericDecimal:return this.stateNumericDecimal(r,n);case Gi.NumericHex:return this.stateNumericHex(r,n);case Gi.NamedEntity:return this.stateNamedEntity(r,n)}}stateNumericStart(r,n){return n>=r.length?-1:(r.charCodeAt(n)|ate)===Ki.LOWER_X?(this.state=Gi.NumericHex,this.consumed+=1,this.stateNumericHex(r,n+1)):(this.state=Gi.NumericDecimal,this.stateNumericDecimal(r,n))}addToNumericResult(r,n,o,a){if(n!==o){const c=o-n;this.result=this.result*Math.pow(a,c)+Number.parseInt(r.substr(n,c),a),this.consumed+=c}}stateNumericHex(r,n){const o=n;for(;n<r.length;){const a=r.charCodeAt(n);if($_(a)||lte(a))n+=1;else return this.addToNumericResult(r,o,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(r,o,n,16),-1}stateNumericDecimal(r,n){const o=n;for(;n<r.length;){const a=r.charCodeAt(n);if($_(a))n+=1;else return this.addToNumericResult(r,o,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(r,o,n,10),-1}emitNumericEntity(r,n){var o;if(this.consumed<=n)return(o=this.errors)===null||o===void 0||o.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(r===Ki.SEMI)this.consumed+=1;else if(this.decodeMode===Fl.Strict)return 0;return this.emitCodePoint(ste(this.result),this.consumed),this.errors&&(r!==Ki.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(r,n){const{decodeTree:o}=this;let a=o[this.treeIndex],c=(a&qu.VALUE_LENGTH)>>14;for(;n<r.length;n++,this.excess++){const d=r.charCodeAt(n);if(this.treeIndex=hte(o,a,this.treeIndex+Math.max(1,c),d),this.treeIndex<0)return this.result===0||this.decodeMode===Fl.Attribute&&(c===0||ute(d))?0:this.emitNotTerminatedNamedEntity();if(a=o[this.treeIndex],c=(a&qu.VALUE_LENGTH)>>14,c!==0){if(d===Ki.SEMI)return this.emitNamedEntityData(this.treeIndex,c,this.consumed+this.excess);this.decodeMode!==Fl.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var r;const{result:n,decodeTree:o}=this,a=(o[n]&qu.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(r=this.errors)===null||r===void 0||r.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(r,n,o){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[r]&~qu.VALUE_LENGTH:a[r+1],o),n===3&&this.emitCodePoint(a[r+2],o),o}end(){var r;switch(this.state){case Gi.NamedEntity:return this.result!==0&&(this.decodeMode!==Fl.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Gi.NumericDecimal:return this.emitNumericEntity(0,2);case Gi.NumericHex:return this.emitNumericEntity(0,3);case Gi.NumericStart:return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Gi.EntityStart:return 0}}}function hte(t,r,n,o){const a=(r&qu.BRANCH_LENGTH)>>7,c=r&qu.JUMP_TABLE;if(a===0)return c!==0&&o===c?n:-1;if(c){const p=o-c;return p<0||p>=a?-1:t[n+p]-1}let d=n,f=d+a-1;for(;d<=f;){const p=d+f>>>1,g=t[p];if(g<o)d=p+1;else if(g>o)f=p-1;else return t[p+a]}return-1}var rn;(function(t){t[t.Tab=9]="Tab",t[t.NewLine=10]="NewLine",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.Number=35]="Number",t[t.Amp=38]="Amp",t[t.SingleQuote=39]="SingleQuote",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dash=45]="Dash",t[t.Slash=47]="Slash",t[t.Zero=48]="Zero",t[t.Nine=57]="Nine",t[t.Semi=59]="Semi",t[t.Lt=60]="Lt",t[t.Eq=61]="Eq",t[t.Gt=62]="Gt",t[t.Questionmark=63]="Questionmark",t[t.UpperA=65]="UpperA",t[t.LowerA=97]="LowerA",t[t.UpperF=70]="UpperF",t[t.LowerF=102]="LowerF",t[t.UpperZ=90]="UpperZ",t[t.LowerZ=122]="LowerZ",t[t.LowerX=120]="LowerX",t[t.OpeningSquareBracket=91]="OpeningSquareBracket"})(rn||(rn={}));var Et;(function(t){t[t.Text=1]="Text",t[t.BeforeTagName=2]="BeforeTagName",t[t.InTagName=3]="InTagName",t[t.InSelfClosingTag=4]="InSelfClosingTag",t[t.BeforeClosingTagName=5]="BeforeClosingTagName",t[t.InClosingTagName=6]="InClosingTagName",t[t.AfterClosingTagName=7]="AfterClosingTagName",t[t.BeforeAttributeName=8]="BeforeAttributeName",t[t.InAttributeName=9]="InAttributeName",t[t.AfterAttributeName=10]="AfterAttributeName",t[t.BeforeAttributeValue=11]="BeforeAttributeValue",t[t.InAttributeValueDq=12]="InAttributeValueDq",t[t.InAttributeValueSq=13]="InAttributeValueSq",t[t.InAttributeValueNq=14]="InAttributeValueNq",t[t.BeforeDeclaration=15]="BeforeDeclaration",t[t.InDeclaration=16]="InDeclaration",t[t.InProcessingInstruction=17]="InProcessingInstruction",t[t.BeforeComment=18]="BeforeComment",t[t.CDATASequence=19]="CDATASequence",t[t.InSpecialComment=20]="InSpecialComment",t[t.InCommentLike=21]="InCommentLike",t[t.BeforeSpecialS=22]="BeforeSpecialS",t[t.BeforeSpecialT=23]="BeforeSpecialT",t[t.SpecialStartSequence=24]="SpecialStartSequence",t[t.InSpecialTag=25]="InSpecialTag",t[t.InEntity=26]="InEntity"})(Et||(Et={}));function Nc(t){return t===rn.Space||t===rn.NewLine||t===rn.Tab||t===rn.FormFeed||t===rn.CarriageReturn}function G0(t){return t===rn.Slash||t===rn.Gt||Nc(t)}function fte(t){return t>=rn.LowerA&&t<=rn.LowerZ||t>=rn.UpperA&&t<=rn.UpperZ}var zl;(function(t){t[t.NoValue=0]="NoValue",t[t.Unquoted=1]="Unquoted",t[t.Single=2]="Single",t[t.Double=3]="Double"})(zl||(zl={}));const Ni={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};class pte{constructor({xmlMode:r=!1,decodeEntities:n=!0},o){this.cbs=o,this.state=Et.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=Et.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=r,this.decodeEntities=n,this.entityDecoder=new dte(r?ite:rte,(a,c)=>this.emitCodePoint(a,c))}reset(){this.state=Et.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Et.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(r){this.offset+=this.buffer.length,this.buffer=r,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(r){r===rn.Lt||!this.decodeEntities&&this.fastForwardTo(rn.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=Et.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&r===rn.Amp&&this.startEntity()}stateSpecialStartSequence(r){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?G0(r):(r|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=Et.InTagName,this.stateInTagName(r)}stateInSpecialTag(r){if(this.sequenceIndex===this.currentSequence.length){if(r===rn.Gt||Nc(r)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const o=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=o}this.isSpecial=!1,this.sectionStart=n+2,this.stateInClosingTagName(r);return}this.sequenceIndex=0}(r|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Ni.TitleEnd?this.decodeEntities&&r===rn.Amp&&this.startEntity():this.fastForwardTo(rn.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(r===rn.Lt)}stateCDATASequence(r){r===Ni.Cdata[this.sequenceIndex]?++this.sequenceIndex===Ni.Cdata.length&&(this.state=Et.InCommentLike,this.currentSequence=Ni.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=Et.InDeclaration,this.stateInDeclaration(r))}fastForwardTo(r){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===r)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(r){r===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Ni.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=Et.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):r!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(r){return this.xmlMode?!G0(r):fte(r)}startSpecial(r,n){this.isSpecial=!0,this.currentSequence=r,this.sequenceIndex=n,this.state=Et.SpecialStartSequence}stateBeforeTagName(r){if(r===rn.ExclamationMark)this.state=Et.BeforeDeclaration,this.sectionStart=this.index+1;else if(r===rn.Questionmark)this.state=Et.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(r)){const n=r|32;this.sectionStart=this.index,this.xmlMode?this.state=Et.InTagName:n===Ni.ScriptEnd[2]?this.state=Et.BeforeSpecialS:n===Ni.TitleEnd[2]||n===Ni.XmpEnd[2]?this.state=Et.BeforeSpecialT:this.state=Et.InTagName}else r===rn.Slash?this.state=Et.BeforeClosingTagName:(this.state=Et.Text,this.stateText(r))}stateInTagName(r){G0(r)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(r))}stateBeforeClosingTagName(r){Nc(r)||(r===rn.Gt?this.state=Et.Text:(this.state=this.isTagStartChar(r)?Et.InClosingTagName:Et.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(r){(r===rn.Gt||Nc(r))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=Et.AfterClosingTagName,this.stateAfterClosingTagName(r))}stateAfterClosingTagName(r){(r===rn.Gt||this.fastForwardTo(rn.Gt))&&(this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(r){r===rn.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=Et.InSpecialTag,this.sequenceIndex=0):this.state=Et.Text,this.sectionStart=this.index+1):r===rn.Slash?this.state=Et.InSelfClosingTag:Nc(r)||(this.state=Et.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(r){r===rn.Gt?(this.cbs.onselfclosingtag(this.index),this.state=Et.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Nc(r)||(this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(r))}stateInAttributeName(r){(r===rn.Eq||G0(r))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=Et.AfterAttributeName,this.stateAfterAttributeName(r))}stateAfterAttributeName(r){r===rn.Eq?this.state=Et.BeforeAttributeValue:r===rn.Slash||r===rn.Gt?(this.cbs.onattribend(zl.NoValue,this.sectionStart),this.sectionStart=-1,this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(r)):Nc(r)||(this.cbs.onattribend(zl.NoValue,this.sectionStart),this.state=Et.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(r){r===rn.DoubleQuote?(this.state=Et.InAttributeValueDq,this.sectionStart=this.index+1):r===rn.SingleQuote?(this.state=Et.InAttributeValueSq,this.sectionStart=this.index+1):Nc(r)||(this.sectionStart=this.index,this.state=Et.InAttributeValueNq,this.stateInAttributeValueNoQuotes(r))}handleInAttributeValue(r,n){r===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===rn.DoubleQuote?zl.Double:zl.Single,this.index+1),this.state=Et.BeforeAttributeName):this.decodeEntities&&r===rn.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(r){this.handleInAttributeValue(r,rn.DoubleQuote)}stateInAttributeValueSingleQuotes(r){this.handleInAttributeValue(r,rn.SingleQuote)}stateInAttributeValueNoQuotes(r){Nc(r)||r===rn.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(zl.Unquoted,this.index),this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(r)):this.decodeEntities&&r===rn.Amp&&this.startEntity()}stateBeforeDeclaration(r){r===rn.OpeningSquareBracket?(this.state=Et.CDATASequence,this.sequenceIndex=0):this.state=r===rn.Dash?Et.BeforeComment:Et.InDeclaration}stateInDeclaration(r){(r===rn.Gt||this.fastForwardTo(rn.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=Et.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(r){(r===rn.Gt||this.fastForwardTo(rn.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeComment(r){r===rn.Dash?(this.state=Et.InCommentLike,this.currentSequence=Ni.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=Et.InDeclaration}stateInSpecialComment(r){(r===rn.Gt||this.fastForwardTo(rn.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(r){const n=r|32;n===Ni.ScriptEnd[3]?this.startSpecial(Ni.ScriptEnd,4):n===Ni.StyleEnd[3]?this.startSpecial(Ni.StyleEnd,4):(this.state=Et.InTagName,this.stateInTagName(r))}stateBeforeSpecialT(r){switch(r|32){case Ni.TitleEnd[3]:{this.startSpecial(Ni.TitleEnd,4);break}case Ni.TextareaEnd[3]:{this.startSpecial(Ni.TextareaEnd,4);break}case Ni.XmpEnd[3]:{this.startSpecial(Ni.XmpEnd,4);break}default:this.state=Et.InTagName,this.stateInTagName(r)}}startEntity(){this.baseState=this.state,this.state=Et.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?Fl.Strict:this.baseState===Et.Text||this.baseState===Et.InSpecialTag?Fl.Legacy:Fl.Attribute)}stateInEntity(){const r=this.entityDecoder.write(this.buffer,this.index-this.offset);r>=0?(this.state=this.baseState,r===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===Et.Text||this.state===Et.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===Et.InAttributeValueDq||this.state===Et.InAttributeValueSq||this.state===Et.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const r=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case Et.Text:{this.stateText(r);break}case Et.SpecialStartSequence:{this.stateSpecialStartSequence(r);break}case Et.InSpecialTag:{this.stateInSpecialTag(r);break}case Et.CDATASequence:{this.stateCDATASequence(r);break}case Et.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(r);break}case Et.InAttributeName:{this.stateInAttributeName(r);break}case Et.InCommentLike:{this.stateInCommentLike(r);break}case Et.InSpecialComment:{this.stateInSpecialComment(r);break}case Et.BeforeAttributeName:{this.stateBeforeAttributeName(r);break}case Et.InTagName:{this.stateInTagName(r);break}case Et.InClosingTagName:{this.stateInClosingTagName(r);break}case Et.BeforeTagName:{this.stateBeforeTagName(r);break}case Et.AfterAttributeName:{this.stateAfterAttributeName(r);break}case Et.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(r);break}case Et.BeforeAttributeValue:{this.stateBeforeAttributeValue(r);break}case Et.BeforeClosingTagName:{this.stateBeforeClosingTagName(r);break}case Et.AfterClosingTagName:{this.stateAfterClosingTagName(r);break}case Et.BeforeSpecialS:{this.stateBeforeSpecialS(r);break}case Et.BeforeSpecialT:{this.stateBeforeSpecialT(r);break}case Et.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(r);break}case Et.InSelfClosingTag:{this.stateInSelfClosingTag(r);break}case Et.InDeclaration:{this.stateInDeclaration(r);break}case Et.BeforeDeclaration:{this.stateBeforeDeclaration(r);break}case Et.BeforeComment:{this.stateBeforeComment(r);break}case Et.InProcessingInstruction:{this.stateInProcessingInstruction(r);break}case Et.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===Et.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const r=this.buffer.length+this.offset;this.sectionStart>=r||(this.state===Et.InCommentLike?this.currentSequence===Ni.CdataEnd?this.cbs.oncdata(this.sectionStart,r,0):this.cbs.oncomment(this.sectionStart,r,0):this.state===Et.InTagName||this.state===Et.BeforeAttributeName||this.state===Et.BeforeAttributeValue||this.state===Et.AfterAttributeName||this.state===Et.InAttributeName||this.state===Et.InAttributeValueSq||this.state===Et.InAttributeValueDq||this.state===Et.InAttributeValueNq||this.state===Et.InClosingTagName||this.cbs.ontext(this.sectionStart,r))}emitCodePoint(r,n){this.baseState!==Et.Text&&this.baseState!==Et.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.onattribentity(r)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.ontextentity(r,this.sectionStart))}}const Mf=new Set(["input","option","optgroup","select","button","datalist","textarea"]),mr=new Set(["p"]),O6=new Set(["thead","tbody"]),L6=new Set(["dd","dt"]),B6=new Set(["rt","rp"]),mte=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",mr],["h1",mr],["h2",mr],["h3",mr],["h4",mr],["h5",mr],["h6",mr],["select",Mf],["input",Mf],["output",Mf],["button",Mf],["datalist",Mf],["textarea",Mf],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",L6],["dt",L6],["address",mr],["article",mr],["aside",mr],["blockquote",mr],["details",mr],["div",mr],["dl",mr],["fieldset",mr],["figcaption",mr],["figure",mr],["footer",mr],["form",mr],["header",mr],["hr",mr],["main",mr],["nav",mr],["ol",mr],["pre",mr],["section",mr],["table",mr],["ul",mr],["rt",B6],["rp",B6],["tbody",O6],["tfoot",O6]]),gte=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),j6=new Set(["math","svg"]),R6=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),bte=/\s|\//;class kte{constructor(r,n={}){var o,a,c,d,f,p;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=r??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(o=n.lowerCaseTags)!==null&&o!==void 0?o:this.htmlMode,this.lowerCaseAttributeNames=(a=n.lowerCaseAttributeNames)!==null&&a!==void 0?a:this.htmlMode,this.recognizeSelfClosing=(c=n.recognizeSelfClosing)!==null&&c!==void 0?c:!this.htmlMode,this.tokenizer=new((d=n.Tokenizer)!==null&&d!==void 0?d:pte)(this.options,this),this.foreignContext=[!this.htmlMode],(p=(f=this.cbs).onparserinit)===null||p===void 0||p.call(f,this)}ontext(r,n){var o,a;const c=this.getSlice(r,n);this.endIndex=n-1,(a=(o=this.cbs).ontext)===null||a===void 0||a.call(o,c),this.startIndex=n}ontextentity(r,n){var o,a;this.endIndex=n-1,(a=(o=this.cbs).ontext)===null||a===void 0||a.call(o,P6(r)),this.startIndex=n}isVoidElement(r){return this.htmlMode&&gte.has(r)}onopentagname(r,n){this.endIndex=n;let o=this.getSlice(r,n);this.lowerCaseTagNames&&(o=o.toLowerCase()),this.emitOpenTag(o)}emitOpenTag(r){var n,o,a,c;this.openTagStart=this.startIndex,this.tagname=r;const d=this.htmlMode&&mte.get(r);if(d)for(;this.stack.length>0&&d.has(this.stack[0]);){const f=this.stack.shift();(o=(n=this.cbs).onclosetag)===null||o===void 0||o.call(n,f,!0)}this.isVoidElement(r)||(this.stack.unshift(r),this.htmlMode&&(j6.has(r)?this.foreignContext.unshift(!0):R6.has(r)&&this.foreignContext.unshift(!1))),(c=(a=this.cbs).onopentagname)===null||c===void 0||c.call(a,r),this.cbs.onopentag&&(this.attribs={})}endOpenTag(r){var n,o;this.startIndex=this.openTagStart,this.attribs&&((o=(n=this.cbs).onopentag)===null||o===void 0||o.call(n,this.tagname,this.attribs,r),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(r){this.endIndex=r,this.endOpenTag(!1),this.startIndex=r+1}onclosetag(r,n){var o,a,c,d,f,p,g,k;this.endIndex=n;let v=this.getSlice(r,n);if(this.lowerCaseTagNames&&(v=v.toLowerCase()),this.htmlMode&&(j6.has(v)||R6.has(v))&&this.foreignContext.shift(),this.isVoidElement(v))this.htmlMode&&v==="br"&&((d=(c=this.cbs).onopentagname)===null||d===void 0||d.call(c,"br"),(p=(f=this.cbs).onopentag)===null||p===void 0||p.call(f,"br",{},!0),(k=(g=this.cbs).onclosetag)===null||k===void 0||k.call(g,"br",!1));else{const y=this.stack.indexOf(v);if(y!==-1)for(let w=0;w<=y;w++){const x=this.stack.shift();(a=(o=this.cbs).onclosetag)===null||a===void 0||a.call(o,x,w!==y)}else this.htmlMode&&v==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1}onselfclosingtag(r){this.endIndex=r,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=r+1):this.onopentagend(r)}closeCurrentTag(r){var n,o;const a=this.tagname;this.endOpenTag(r),this.stack[0]===a&&((o=(n=this.cbs).onclosetag)===null||o===void 0||o.call(n,a,!r),this.stack.shift())}onattribname(r,n){this.startIndex=r;const o=this.getSlice(r,n);this.attribname=this.lowerCaseAttributeNames?o.toLowerCase():o}onattribdata(r,n){this.attribvalue+=this.getSlice(r,n)}onattribentity(r){this.attribvalue+=P6(r)}onattribend(r,n){var o,a;this.endIndex=n,(a=(o=this.cbs).onattribute)===null||a===void 0||a.call(o,this.attribname,this.attribvalue,r===zl.Double?'"':r===zl.Single?"'":r===zl.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(r){const n=r.search(bte);let o=n<0?r:r.substr(0,n);return this.lowerCaseTagNames&&(o=o.toLowerCase()),o}ondeclaration(r,n){this.endIndex=n;const o=this.getSlice(r,n);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(o);this.cbs.onprocessinginstruction(`!${a}`,`!${o}`)}this.startIndex=n+1}onprocessinginstruction(r,n){this.endIndex=n;const o=this.getSlice(r,n);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(o);this.cbs.onprocessinginstruction(`?${a}`,`?${o}`)}this.startIndex=n+1}oncomment(r,n,o){var a,c,d,f;this.endIndex=n,(c=(a=this.cbs).oncomment)===null||c===void 0||c.call(a,this.getSlice(r,n-o)),(f=(d=this.cbs).oncommentend)===null||f===void 0||f.call(d),this.startIndex=n+1}oncdata(r,n,o){var a,c,d,f,p,g,k,v,y,w;this.endIndex=n;const x=this.getSlice(r,n-o);!this.htmlMode||this.options.recognizeCDATA?((c=(a=this.cbs).oncdatastart)===null||c===void 0||c.call(a),(f=(d=this.cbs).ontext)===null||f===void 0||f.call(d,x),(g=(p=this.cbs).oncdataend)===null||g===void 0||g.call(p)):((v=(k=this.cbs).oncomment)===null||v===void 0||v.call(k,`[CDATA[${x}]]`),(w=(y=this.cbs).oncommentend)===null||w===void 0||w.call(y)),this.startIndex=n+1}onend(){var r,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let o=0;o<this.stack.length;o++)this.cbs.onclosetag(this.stack[o],!0)}(n=(r=this.cbs).onend)===null||n===void 0||n.call(r)}reset(){var r,n,o,a;(n=(r=this.cbs).onreset)===null||n===void 0||n.call(r),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(o=this.cbs).onparserinit)===null||a===void 0||a.call(o,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(r){this.reset(),this.end(r)}getSlice(r,n){for(;r-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let o=this.buffers[0].slice(r-this.bufferOffset,n-this.bufferOffset);for(;n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),o+=this.buffers[0].slice(0,n-this.bufferOffset);return o}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(r){var n,o;if(this.ended){(o=(n=this.cbs).onerror)===null||o===void 0||o.call(n,new Error(".write() after done!"));return}this.buffers.push(r),this.tokenizer.running&&(this.tokenizer.write(r),this.writeIndex++)}end(r){var n,o;if(this.ended){(o=(n=this.cbs).onerror)===null||o===void 0||o.call(n,new Error(".end() after done!"));return}r&&this.write(r),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(r){this.write(r)}done(r){this.end(r)}}var or;(function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"})(or||(or={}));function gk(t){return t.type===or.Tag||t.type===or.Script||t.type===or.Style}or.Root;or.Text;or.Directive;or.Comment;or.Script;or.Style;or.Tag;or.CDATA;or.Doctype;let r8=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(r){this.parent=r}get previousSibling(){return this.prev}set previousSibling(r){this.prev=r}get nextSibling(){return this.next}set nextSibling(r){this.next=r}cloneNode(r=!1){return d8(this,r)}};class oC extends r8{constructor(r){super(),this.data=r}get nodeValue(){return this.data}set nodeValue(r){this.data=r}}class W_ extends oC{constructor(){super(...arguments),this.type=or.Text}get nodeType(){return 3}}class i8 extends oC{constructor(){super(...arguments),this.type=or.Comment}get nodeType(){return 8}}class o8 extends oC{constructor(r,n){super(n),this.name=r,this.type=or.Directive}get nodeType(){return 1}}class sC extends r8{constructor(r){super(),this.children=r}get firstChild(){var r;return(r=this.children[0])!==null&&r!==void 0?r:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(r){this.children=r}}class s8 extends sC{constructor(){super(...arguments),this.type=or.CDATA}get nodeType(){return 4}}class G_ extends sC{constructor(){super(...arguments),this.type=or.Root}get nodeType(){return 9}}let a8=class extends sC{constructor(r,n,o=[],a=r==="script"?or.Script:r==="style"?or.Style:or.Tag){super(o),this.name=r,this.attribs=n,this.type=a}get nodeType(){return 1}get tagName(){return this.name}set tagName(r){this.name=r}get attributes(){return Object.keys(this.attribs).map(r=>{var n,o;return{name:r,value:this.attribs[r],namespace:(n=this["x-attribsNamespace"])===null||n===void 0?void 0:n[r],prefix:(o=this["x-attribsPrefix"])===null||o===void 0?void 0:o[r]}})}};function l8(t){return gk(t)}function c8(t){return t.type===or.CDATA}function u8(t){return t.type===or.Text}function wte(t){return t.type===or.Comment}function yte(t){return t.type===or.Directive}function vte(t){return t.type===or.Root}function d8(t,r=!1){let n;if(u8(t))n=new W_(t.data);else if(wte(t))n=new i8(t.data);else if(l8(t)){const o=r?jv(t.children):[],a=new a8(t.name,{...t.attribs},o);o.forEach(c=>c.parent=a),t.namespace!=null&&(a.namespace=t.namespace),t["x-attribsNamespace"]&&(a["x-attribsNamespace"]={...t["x-attribsNamespace"]}),t["x-attribsPrefix"]&&(a["x-attribsPrefix"]={...t["x-attribsPrefix"]}),n=a}else if(c8(t)){const o=r?jv(t.children):[],a=new s8(o);o.forEach(c=>c.parent=a),n=a}else if(vte(t)){const o=r?jv(t.children):[],a=new G_(o);o.forEach(c=>c.parent=a),t["x-mode"]&&(a["x-mode"]=t["x-mode"]),n=a}else if(yte(t)){const o=new o8(t.name,t.data);t["x-name"]!=null&&(o["x-name"]=t["x-name"],o["x-publicId"]=t["x-publicId"],o["x-systemId"]=t["x-systemId"]),n=o}else throw new Error(`Not implemented yet: ${t.type}`);return n.startIndex=t.startIndex,n.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(n.sourceCodeLocation=t.sourceCodeLocation),n}function jv(t){const r=t.map(n=>d8(n,!0));for(let n=1;n<r.length;n++)r[n].prev=r[n-1],r[n-1].next=r[n];return r}const F6={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class _te{constructor(r,n,o){this.dom=[],this.root=new G_(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(o=n,n=F6),typeof r=="object"&&(n=r,r=void 0),this.callback=r??null,this.options=n??F6,this.elementCB=o??null}onparserinit(r){this.parser=r}onreset(){this.dom=[],this.root=new G_(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(r){this.handleCallback(r)}onclosetag(){this.lastNode=null;const r=this.tagStack.pop();this.options.withEndIndices&&(r.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(r)}onopentag(r,n){const o=this.options.xmlMode?or.Tag:void 0,a=new a8(r,n,void 0,o);this.addNode(a),this.tagStack.push(a)}ontext(r){const{lastNode:n}=this;if(n&&n.type===or.Text)n.data+=r,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{const o=new W_(r);this.addNode(o),this.lastNode=o}}oncomment(r){if(this.lastNode&&this.lastNode.type===or.Comment){this.lastNode.data+=r;return}const n=new i8(r);this.addNode(n),this.lastNode=n}oncommentend(){this.lastNode=null}oncdatastart(){const r=new W_(""),n=new s8([r]);this.addNode(n),r.parent=n,this.lastNode=r}oncdataend(){this.lastNode=null}onprocessinginstruction(r,n){const o=new o8(r,n);this.addNode(o)}handleCallback(r){if(typeof this.callback=="function")this.callback(r,this.dom);else if(r)throw r}addNode(r){const n=this.tagStack[this.tagStack.length-1],o=n.children[n.children.length-1];this.options.withStartIndices&&(r.startIndex=this.parser.startIndex),this.options.withEndIndices&&(r.endIndex=this.parser.endIndex),n.children.push(r),o&&(r.prev=o,o.next=r),r.parent=n,this.lastNode=null}}function Pc(t){return Array.isArray(t)?t.map(Pc).join(""):l8(t)?t.name==="br"?`
`:Pc(t.children):c8(t)?Pc(t.children):u8(t)?t.data:""}function Ate(t,r){const n=new _te(void 0,r);return new kte(n,r).end(t),n.root}const Cte=async(t,r)=>{var w,x,A,D,E,M,P,F;if(!t)return;const n=new sn("p","mm","a4",!0);let o=10;const a=297,c=H=>{o+H*6>a-20&&(n.addPage(),o=10)},d=t.sections.length+t.sections.reduce((H,V)=>H+V.subsections.length,0)+t.sections.reduce((H,V)=>H+V.subsections.reduce((N,j)=>N+j.subSubsections.length,0),0)+t.sections.reduce((H,V)=>{var N;return H+(((N=V.images)==null?void 0:N.length)||0)+V.subsections.reduce((j,q)=>{var Q;return j+(((Q=q.images)==null?void 0:Q.length)||0)+q.subSubsections.reduce(($,R)=>{var Y;return $+(((Y=R.images)==null?void 0:Y.length)||0)},0)},0)},0);let f=0;const p=()=>{f+=1,r(Math.round(f/d*100))},g=async(H,V=150,N=150)=>new Promise(j=>{const q=new Image;q.crossOrigin="anonymous",q.src=H.url,q.onload=()=>{const Q=q.width/q.height;let $=V,R=N;Q>1?R=V/Q:$=N*Q,c(R+15);const Y=(210-$)/2;if(n.addImage(q,"JPEG",Y,o,$,R),o+=R+5,H.title){n.setFont("helvetica","italic"),n.setFontSize(10);const ne=(210-n.getTextWidth(H.title))/2;n.text(H.title,ne,o),n.setFont("helvetica","normal"),o+=6}p(),j()},q.onerror=()=>{console.warn(`Image failed to load: ${H.url}`),p(),j()}}),k=(H,V=10,N=12)=>{var Q;const j=Ate(H),q=($,R=0,Y=!1)=>{var B,ne,de,ae,oe,ye,re;if($){if(gk($)){const xe=$,X=xe.name.toLowerCase();switch(X){case"p":o+=6,(B=xe.children)==null||B.forEach(Z=>q(Z,R)),o+=6;break;case"br":o+=6;break;case"strong":case"b":case"i":case"em":n.setFont("helvetica",X==="strong"||X==="b"?"bold":"italic"),(ne=xe.children)==null||ne.forEach(Z=>q(Z,R)),n.setFont("helvetica","normal");break;case"ul":case"ol":o+=4,(de=xe.children)==null||de.forEach(Z=>q(Z,R+1,!0));break;case"li":{const Z=R===1?"-":"--";let se="";(ae=xe.children)==null||ae.forEach(pe=>{if(gk(pe)){const we=pe;we.name==="strong"||we.name==="b"?(n.setFont("helvetica","bold"),se+=` ${Pc(we)}`,n.setFont("helvetica","normal")):we.name!=="ul"&&we.name!=="ol"&&(se+=` ${Pc(we)}`)}else pe.type==="text"&&"data"in pe&&(se+=` ${pe.data.trim()}`)}),se=se.trim(),se&&(R===0?v(`${Z} ${se}`,V,N+2,!0):v(`${Z} ${se}`,V+R*8,N),o+=6),(oe=xe.children)==null||oe.forEach(pe=>{if(gk(pe)){const we=pe;["ul","ol"].includes(we.name)&&q(we,R+1,!0)}});break}case"a":(ye=xe.attribs)!=null&&ye.href&&y(Pc(xe),xe.attribs.href);break;case"h1":v(Pc(xe),V,20,!0),o+=8;break;case"h2":v(Pc(xe),V,18,!0),o+=8;break;case"h3":v(Pc(xe),V,16,!0),o+=6;break;default:(re=xe.children)==null||re.forEach(Z=>q(Z,R))}}else if($.type==="text"&&"data"in $){const xe=$.data.trim();xe&&v(xe,V+R*8,N)}}};(Q=j.children)==null||Q.forEach($=>q($))},v=(H,V,N=12,j=!1,q=[0,0,0],Q=!1,$=200)=>{if(!H)return;n.setFontSize(N),n.setTextColor(q[0],q[1],q[2]),n.setFont("helvetica",j?Q?"bolditalic":"bold":Q?"italic":"normal"),n.splitTextToSize(H,$-V).forEach(Y=>{c(1),n.text(Y,V,o),o+=6})},y=(H,V)=>{c(1),n.setTextColor(10,104,71),n.textWithLink(H,10,o,{url:V}),o+=6};(w=t.header)!=null&&w.content&&(v("Header:",10,12,!0),k(t.header.content),o+=5),t.title&&(v(t.title,10,18,!0,[10,104,71]),o+=5);for(const H of t.sections){if(v(H.title,10,16,!0),k(H.content),(x=H.images)!=null&&x.length)for(const V of H.images)await g(V);p();for(const V of H.subsections){if(v(V.title,12,14,!0),k(V.content,12),(A=V.images)!=null&&A.length)for(const N of V.images)await g(N);p();for(const N of V.subSubsections){if(v(N.title,14,12,!0),k(N.content,14),(D=N.images)!=null&&D.length)for(const j of N.images)await g(j);p(),(E=N.links)!=null&&E.length&&(v("Links:",14,12,!0),N.links.forEach(j=>y(j.title,j.url)))}(M=V.links)!=null&&M.length&&(v("Links:",12,12,!0),V.links.forEach(N=>y(N.title,N.url)))}(P=H.links)!=null&&P.length&&(v("Links:",10,12,!0),H.links.forEach(V=>y(V.title,V.url))),o+=5}(F=t.footer)!=null&&F.content&&(v("Footer:",10,12,!0),k(t.footer.content)),n.save(`${t.title||"Material"}.pdf`),r(100)},xte=()=>{var A,D,E,M,P,F,H,V,N,j,q,Q,$,R,Y,B,ne,de,ae,oe,ye,re,xe,X,Z,se,pe,we,Pe,Te,Ne,rt,Ke,Qe,ze,J,Ce,ue,ge,he,_e,Me;const{id:t}=RA(),[r,n]=g1(),o=Xn(),[a,c]=K.useState(null),[d,f]=K.useState({sectionIndex:0}),[p,g]=K.useState(null);K.useEffect(()=>{t&&(async()=>{const Ae=An(o,"materials",t),Oe=await us(Ae);Oe.exists()&&c({id:Oe.id,...Oe.data()})})()},[t,o]),K.useEffect(()=>{t&&r.get("material")!==t?(console.log("🔹 Updating URL: Adding material ID to query parameters:",t),n(Ie=>{const Ae=new URLSearchParams(Ie);return Ae.set("material",t),Ae},{replace:!0})):console.log("Material ID already in URL:",r.get("material"))},[t,r,n]);const k=(Ie,Ae,Oe)=>{f({sectionIndex:typeof Ie=="number"?Ie:void 0,subsectionIndex:Ae,subSubsectionIndex:Oe,type:typeof Ie=="string"?Ie:void 0})},v=Ie=>{var dt,Ue,We,Ye,St,ht,tn,pt,Vt,Rt,zt,Yt,pn,En,zn,Mr,qr,Ln,Xt,Dn,No,Nn,zi,ei,Ht,Oi,Ui;const{sectionIndex:Ae,subsectionIndex:Oe,subSubsectionIndex:Ge,type:Xe}=d;if(Ie==="prev")if(Ge!==void 0&&Ge>0)f({sectionIndex:Ae,subsectionIndex:Oe,subSubsectionIndex:Ge-1});else if(Ge!==void 0&&Ge===0)f({sectionIndex:Ae,subsectionIndex:Oe});else if(Oe!==void 0&&Oe>0)f({sectionIndex:Ae,subsectionIndex:Oe-1});else if(Oe!==void 0&&Oe===0)f({sectionIndex:Ae});else if(Ae>0){const kt=a==null?void 0:a.sections[Ae-1];f({sectionIndex:Ae-1,subsectionIndex:(dt=kt==null?void 0:kt.subsections)!=null&&dt.length?kt.subsections.length-1:void 0,subSubsectionIndex:(Ue=kt==null?void 0:kt.subsections)!=null&&Ue.length?((Ye=(We=kt.subsections[kt.subsections.length-1])==null?void 0:We.subSubsections)==null?void 0:Ye.length)-1:void 0})}else Xe==="footer"?f({sectionIndex:((a==null?void 0:a.sections.length)??1)-1,type:"footer"}):Ae===void 0&&Xe==="header"&&f({sectionIndex:((a==null?void 0:a.sections.length)??1)-1});else Ie==="next"&&(Ge===void 0&&Oe!==void 0&&((pt=(tn=(ht=(St=a==null?void 0:a.sections[Ae??0])==null?void 0:St.subsections)==null?void 0:ht[Oe])==null?void 0:tn.subSubsections)!=null&&pt.length)?f({sectionIndex:Ae,subsectionIndex:Oe,subSubsectionIndex:0}):Ge!==void 0&&Ge<(((Yt=(zt=(Rt=(Vt=a==null?void 0:a.sections[Ae??0])==null?void 0:Vt.subsections)==null?void 0:Rt[Oe??0])==null?void 0:zt.subSubsections)==null?void 0:Yt.length)??1)-1?f({sectionIndex:Ae,subsectionIndex:Oe,subSubsectionIndex:Ge+1}):Ge!==void 0&&Ge===(((Mr=(zn=(En=(pn=a==null?void 0:a.sections[Ae??0])==null?void 0:pn.subsections)==null?void 0:En[Oe??0])==null?void 0:zn.subSubsections)==null?void 0:Mr.length)??1)-1&&(Oe??0)<(((Ln=(qr=a==null?void 0:a.sections[Ae??0])==null?void 0:qr.subsections)==null?void 0:Ln.length)??1)-1?f({sectionIndex:Ae,subsectionIndex:(Oe??0)+1}):Oe===void 0&&((Dn=(Xt=a==null?void 0:a.sections[Ae??0])==null?void 0:Xt.subsections)!=null&&Dn.length)?f({sectionIndex:Ae,subsectionIndex:0}):Oe!==void 0&&Oe<(((Nn=(No=a==null?void 0:a.sections[Ae??0])==null?void 0:No.subsections)==null?void 0:Nn.length)??1)-1?f({sectionIndex:Ae,subsectionIndex:Oe+1}):Oe!==void 0&&Oe===(((ei=(zi=a==null?void 0:a.sections[Ae??0])==null?void 0:zi.subsections)==null?void 0:ei.length)??1)-1&&(Ae??0)<(((Ht=a==null?void 0:a.sections)==null?void 0:Ht.length)??1)-1?f({sectionIndex:(Ae??0)+1}):(Ae??0)<(((Oi=a==null?void 0:a.sections)==null?void 0:Oi.length)??1)-1?f({sectionIndex:(Ae??0)+1}):Ae===(((Ui=a==null?void 0:a.sections)==null?void 0:Ui.length)??1)-1&&Oe===void 0&&f({sectionIndex:void 0,type:"footer"}))};if(!a)return C.jsx(di,{});const y=d.type==="header"||d.type==="footer"?"":d.sectionIndex!==void 0?d.subSubsectionIndex!==void 0?((E=(D=(A=a.sections[d.sectionIndex])==null?void 0:A.subsections[d.subsectionIndex])==null?void 0:D.subSubsections[d.subSubsectionIndex])==null?void 0:E.content)||"":d.subsectionIndex!==void 0?((P=(M=a.sections[d.sectionIndex])==null?void 0:M.subsections[d.subsectionIndex])==null?void 0:P.content)||"":((F=a.sections[d.sectionIndex])==null?void 0:F.content)||"":"",w=d.type==="header"||d.type==="footer"?"":d.sectionIndex!==void 0?d.subSubsectionIndex!==void 0?((N=(V=(H=a.sections[d.sectionIndex])==null?void 0:H.subsections[d.subsectionIndex])==null?void 0:V.subSubsections[d.subSubsectionIndex])==null?void 0:N.title)||"":d.subsectionIndex!==void 0?((q=(j=a.sections[d.sectionIndex])==null?void 0:j.subsections[d.subsectionIndex])==null?void 0:q.title)||"":((Q=a.sections[d.sectionIndex])==null?void 0:Q.title)||"":"",x=d.sectionIndex!==void 0?d.subSubsectionIndex!==void 0?((Y=(R=($=a.sections[d.sectionIndex])==null?void 0:$.subsections[d.subsectionIndex])==null?void 0:R.subSubsections[d.subSubsectionIndex])==null?void 0:Y.links)||[]:d.subsectionIndex!==void 0?((ne=(B=a.sections[d.sectionIndex])==null?void 0:B.subsections[d.subsectionIndex])==null?void 0:ne.links)||[]:((de=a.sections[d.sectionIndex])==null?void 0:de.links)||[]:[];return C.jsx(Fe,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:C.jsxs(Fe,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[C.jsxs(Fe,{sx:{display:"flex",justifyContent:"space-between",mt:2,mx:2},children:[C.jsx(Fe,{sx:{width:"450px",ml:2,mt:2},children:C.jsx(VP,{})}),C.jsxs(Fe,{sx:{width:"450px",mr:2,mt:2,textAlign:"right"},children:[C.jsx(xt,{variant:"contained",onClick:async()=>{a&&(g(0),await Cte(a,g),g(null))},sx:{padding:"10px 16px",backgroundColor:"#436850",color:"#FBFADA",border:"none",borderRadius:"8px",cursor:"pointer",fontFamily:"Gabarito","&:hover":{backgroundColor:"#365b40"},"&:disabled":{backgroundColor:"#A8BDA8",cursor:"not-allowed"}},disabled:p!==null,children:p!==null?"Generating...":"Download PDF"}),p!==null&&C.jsx(Fe,{sx:{width:"100%",mt:2},children:C.jsx(ok,{variant:"determinate",value:p})})]})]}),C.jsxs(Fe,{sx:{display:"flex",flexGrow:1},children:[C.jsx(Fe,{sx:{width:"450px",minWidth:"450px",maxWidth:"450px",borderRight:"1px solid #ddd",padding:2},children:C.jsx(qP,{sections:a.sections,selected:d,onAddSection:()=>{},onAddSubsection:()=>{},onAddSubSubsection:()=>{},onSelectSection:k,onUpdateSectionTitle:()=>{},onUpdateSubsectionTitle:()=>{},onUpdateSubSubsectionTitle:()=>{},onDeleteSection:()=>{},onDeleteSubsection:()=>{},onDeleteSubSubsection:()=>{},isViewMode:!0})}),C.jsxs(Fe,{sx:{flexGrow:1,padding:3},children:[C.jsx("hr",{})," ",C.jsx(Fe,{sx:{border:d.type==="header"?"2px solid blue":"none",borderRadius:1,padding:2,mb:2},children:C.jsx(Ve,{dangerouslySetInnerHTML:{__html:a.header.content.replace(/\n/g,"<br />")}})}),C.jsx("hr",{})," ",C.jsx(Ve,{variant:"h3",align:"center",gutterBottom:!0,children:a.title}),C.jsx("hr",{})," ",C.jsx(Ve,{variant:"h4",align:"center",gutterBottom:!0,children:w}),d.type!=="header"&&d.type!=="footer"&&C.jsxs(C.Fragment,{children:[C.jsxs(Fe,{sx:{mb:2,border:d.sectionIndex!==void 0&&d.subsectionIndex===void 0?"2px solid blue":d.subSubsectionIndex!==void 0?"2px solid red":d.subsectionIndex!==void 0?"2px solid green":"none",borderRadius:1,padding:2},children:[C.jsx(Ve,{dangerouslySetInnerHTML:{__html:y.replace(/\n/g,"<br />")}}),C.jsx(Fe,{children:d.sectionIndex!==void 0&&C.jsx(C.Fragment,{children:d.subSubsectionIndex!==void 0?(((X=(xe=(re=(ye=(oe=(ae=a.sections[d.sectionIndex])==null?void 0:ae.subsections)==null?void 0:oe[d.subsectionIndex])==null?void 0:ye.subSubsections)==null?void 0:re[d.subSubsectionIndex])==null?void 0:xe.images)==null?void 0:X.length)||0)>0&&C.jsx(Sv,{images:((Pe=(we=(pe=(se=(Z=a.sections[d.sectionIndex])==null?void 0:Z.subsections)==null?void 0:se[d.subsectionIndex])==null?void 0:pe.subSubsections)==null?void 0:we[d.subSubsectionIndex])==null?void 0:Pe.images)||[]}):d.subsectionIndex!==void 0?(((Ke=(rt=(Ne=(Te=a.sections[d.sectionIndex])==null?void 0:Te.subsections)==null?void 0:Ne[d.subsectionIndex])==null?void 0:rt.images)==null?void 0:Ke.length)||0)>0&&C.jsx(Sv,{images:((J=(ze=(Qe=a.sections[d.sectionIndex])==null?void 0:Qe.subsections)==null?void 0:ze[d.subsectionIndex])==null?void 0:J.images)||[]}):(((ue=(Ce=a.sections[d.sectionIndex])==null?void 0:Ce.images)==null?void 0:ue.length)||0)>0&&C.jsx(Sv,{images:((ge=a.sections[d.sectionIndex])==null?void 0:ge.images)||[]})})})]}),C.jsx(oee,{links:x})]}),C.jsxs(Fe,{sx:{display:"flex",justifyContent:"space-between"},children:[C.jsx(Gs,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:C.jsx("span",{children:C.jsx(ir,{onClick:()=>v("prev"),disabled:d.sectionIndex===0&&d.subsectionIndex===void 0&&d.type==="header",children:C.jsx(sP,{})})})}),C.jsx(Gs,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:C.jsx("span",{children:C.jsx(ir,{onClick:()=>v("next"),disabled:d.sectionIndex===(((he=a.sections)==null?void 0:he.length)??1)-1&&(d.subsectionIndex===void 0||d.subsectionIndex===(((Me=(_e=a.sections[d.sectionIndex])==null?void 0:_e.subsections)==null?void 0:Me.length)??1)-1)&&d.type==="footer",children:C.jsx(aP,{})})})})]}),C.jsx("hr",{})," ",C.jsx(Fe,{sx:{border:d.type==="footer"?"2px solid blue":"none",borderRadius:1,padding:2,mt:2},children:C.jsx(Ve,{dangerouslySetInnerHTML:{__html:a.footer.content.replace(/\n/g,"<br />")}})}),C.jsx("hr",{})," "]})]})]})})},h8=({value:t,onChange:r})=>{const[n,o]=K.useState([]),{userDetails:a}=xi();return K.useEffect(()=>{if(a!=null&&a.classes){const c=Object.entries(a.classes).filter(([d,f])=>f.isCourseAdmin||a.isSuperAdmin).map(([d,f])=>({id:d,number:f.number,title:f.title}));o(c)}else o([])},[a]),C.jsxs(Gu,{fullWidth:!0,sx:{mb:2},children:[C.jsx(Yu,{id:"course-selector-label",children:"Course"}),C.jsx(Ql,{labelId:"course-selector-label",value:t,onChange:c=>r(c.target.value),label:"Course",children:n.length>0?n.map(c=>C.jsx(Ar,{value:c.id,children:`${c.number} - ${c.title}`},c.id)):C.jsx(Ar,{disabled:!0,children:"No courses available"})}),!t&&C.jsx(lW,{children:"Please select a course"})]})},Ste=()=>{const[t,r]=K.useState(""),[n,o]=K.useState(""),[a,c]=K.useState([{title:"",url:""}]),[d,f]=K.useState(""),p=Fr(),g=Xn(),k=async()=>{if(!d){alert("Please select a course to post the message.");return}try{await Sa(Zn(g,"messages"),{title:t,description:n,links:a,course:d,postedOn:Jf(),isPinned:!1}),p("/")}catch(x){console.error("Error adding message: ",x)}},v=()=>p("/"),y=(x,A,D)=>{const E=[...a];E[x][A]=D,c(E)},w=()=>c([...a,{title:"",url:""}]);return C.jsx(lP,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:C.jsxs(Fn,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[C.jsx(Ve,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Add New Message"}),C.jsx(Us,{sx:{mb:3,backgroundColor:"#DADADA"}}),C.jsxs(Fe,{sx:{mt:4},children:[C.jsx(h8,{value:d,onChange:f}),C.jsx(Sn,{label:"Subject",fullWidth:!0,value:t,onChange:x=>r(x.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),C.jsx(Sn,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:n,onChange:x=>o(x.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),C.jsx(Ve,{variant:"h6",sx:{mb:2},children:"🔗"}),a.map((x,A)=>C.jsxs(Fe,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[C.jsx(Sn,{label:`URL Title ${A+1}`,fullWidth:!0,value:x.title,onChange:D=>y(A,"title",D.target.value),sx:{mb:1}}),C.jsx(Sn,{label:`URL Link ${A+1}`,fullWidth:!0,value:x.url,onChange:D=>y(A,"url",D.target.value)})]},A)),C.jsx(xt,{variant:"outlined",onClick:w,startIcon:C.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),C.jsx(Us,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),C.jsxs(Fe,{sx:{display:"flex",justifyContent:"space-between"},children:[C.jsx(xt,{variant:"outlined",onClick:v,className:"cancel-button",children:"Cancel"}),C.jsx(xt,{variant:"outlined",onClick:k,className:"save-button",children:"Save"})]})]})]})})},Ete=()=>{const{id:t}=RA(),[r,n]=K.useState(""),[o,a]=K.useState(""),[c,d]=K.useState([{title:"",url:""}]),[f,p]=K.useState(""),g=Fr(),k=Xn();K.useEffect(()=>{(async()=>{try{const D=An(k,"messages",t),E=await us(D);if(E.exists()){const M=E.data();n(M.title),a(M.description),d(M.links||[{title:"",url:""}]),p(M.course||"")}}catch(D){console.error("Error fetching message: ",D)}})()},[k,t]);const v=async()=>{try{if(!f){alert("Please select a valid course to update the message.");return}const A=An(k,"messages",t);await Rr(A,{title:r,description:o,links:c,course:f,lastUpdatedOn:Jf()}),g("/")}catch(A){console.error("Error editing message: ",A)}},y=()=>g("/"),w=(A,D,E)=>{const M=[...c];M[A][D]=E,d(M)},x=()=>d([...c,{title:"",url:""}]);return C.jsx(lP,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:C.jsxs(Fn,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[C.jsx(Ve,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Edit Message"}),C.jsx(Us,{sx:{mb:3,backgroundColor:"#DADADA"}}),C.jsxs(Fe,{sx:{mt:4},children:[C.jsx(h8,{value:f,onChange:p}),C.jsx(Sn,{label:"Subject",fullWidth:!0,value:r,onChange:A=>n(A.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),C.jsx(Sn,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:o,onChange:A=>a(A.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),C.jsx(Ve,{variant:"h6",sx:{mb:2},children:"🔗"}),c.map((A,D)=>C.jsxs(Fe,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[C.jsx(Sn,{label:`URL Title ${D+1}`,fullWidth:!0,value:A.title,onChange:E=>w(D,"title",E.target.value),sx:{mb:1}}),C.jsx(Sn,{label:`URL Link ${D+1}`,fullWidth:!0,value:A.url,onChange:E=>w(D,"url",E.target.value)})]},D)),C.jsx(xt,{variant:"outlined",onClick:x,startIcon:C.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),C.jsx(Us,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),C.jsxs(Fe,{sx:{display:"flex",justifyContent:"space-between"},children:[C.jsx(xt,{variant:"outlined",onClick:y,className:"cancel-button",children:"Cancel"}),C.jsx(xt,{variant:"outlined",onClick:v,className:"save-button",children:"Save"})]})]})]})})},Dte=({users:t})=>{const r=(o,a)=>o?{backgroundColor:"#6a1b9a",color:"#fff"}:a?{backgroundColor:"#1976d2",color:"#fff"}:{backgroundColor:"#e0e0e0",color:"#000"},n=o=>o?Object.entries(o).map(([a,c])=>C.jsx(Zr,{label:`${c.isCourseAdmin?"[Course Admin] ":""}${c.number||"N/A"} - ${c.title||"Untitled Course"}`,sx:{backgroundColor:c.isCourseAdmin?"#ffcccb":"#d4edda",color:c.isCourseAdmin?"#b71c1c":"#155724",margin:"4px",fontSize:"0.9rem",fontWeight:"bold",borderRadius:"8px",padding:"4px 8px"}},a)):"None";return C.jsx(nd,{component:Fn,children:C.jsxs(rd,{children:[C.jsx(id,{children:C.jsxs(mo,{children:[C.jsx(It,{children:"ID"}),C.jsx(It,{children:"Status"}),C.jsx(It,{children:"Last Login"}),C.jsx(It,{children:"Courses"})]})}),C.jsx(od,{children:t.map(o=>C.jsxs(mo,{sx:{"&:hover":{backgroundColor:"#f5f5f5",cursor:"pointer"}},children:[C.jsx(It,{children:C.jsx(Zr,{label:o.id,color:o.isSuperAdmin?"secondary":o.isAdmin?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",...r(o.isSuperAdmin,o.isAdmin)}})}),C.jsx(It,{children:C.jsx(Zr,{label:o.isSuperAdmin?"Super Admin":o.isAdmin?"Educator":"Student",color:o.isSuperAdmin?"secondary":o.isAdmin?"primary":"default"})}),C.jsx(It,{children:Fu(o.lastLogin)}),C.jsx(It,{children:n(o.classes)||C.jsx(Zr,{label:"No courses assigned",sx:{backgroundColor:"#e0e0e0",color:"#000"}})})]},o.id))})]})})},Ite=({userId:t,onUserDeleted:r})=>{const[n,o]=K.useState(!1),[a,c]=K.useState(!1),d=Xn(),f=()=>{o(!0)},p=()=>{o(!1)},g=async()=>{c(!0);try{const k=An(d,"users",t);await Ug(k),r(!0)}catch(k){console.error("Error deleting user:",k),r(!1)}c(!1),o(!1)};return C.jsxs(C.Fragment,{children:[C.jsx(xt,{variant:"text",color:"error",onClick:f,children:"Delete User Account"}),C.jsxs(uo,{open:n,onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[C.jsx(ho,{id:"alert-dialog-title",children:"Confirm Deletion"}),C.jsx(fo,{children:C.jsx(fs,{id:"alert-dialog-description",children:"Are you sure you want to delete this user account? This action cannot be undone."})}),C.jsxs(po,{children:[C.jsx(xt,{onClick:p,color:"primary",disabled:a,children:"Cancel"}),C.jsx(xt,{onClick:g,color:"error",autoFocus:!0,disabled:a,children:a?C.jsx(di,{size:24}):"Delete"})]})]})]})},Tte=({userId:t,userClasses:r,courses:n})=>{const[o,a]=K.useState(""),[c,d]=K.useState(!1),[f,p]=K.useState(!1),[g,k]=K.useState(""),[v,y]=K.useState(!1),[w,x]=K.useState(!1),A=Xn(),D=async()=>{if(!t||!o){k("Please enter a User ID and select a course."),y(!0);return}p(!0);try{const F=An(A,"users",t),H=n.find(V=>V.id===o);H?(await Rr(F,{[`classes.${o}`]:{number:H.number,title:H.title,isCourseAdmin:c}}),k(`Course ${H.title} assigned successfully to user ${t}${c?" as Course Admin.":"."}`)):k("Selected course not found.")}catch(F){console.error("Error assigning course:",F),k("Error assigning course.")}p(!1),y(!0)},E=()=>{y(!1)},M=()=>x(!0),P=()=>x(!1);return C.jsxs(C.Fragment,{children:[C.jsxs(Fe,{sx:{display:"flex",alignItems:"center",mt:2},children:[C.jsx(Ve,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Courses:"}),C.jsx(Fe,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r?Object.values(r).map((F,H)=>C.jsx(Zr,{label:`${F.isCourseAdmin?"[Course Admin] ":""}${F.number} - ${F.title}`,style:{backgroundColor:F.isCourseAdmin?"#ffcccb":"#d4edda",color:F.isCourseAdmin?"#b71c1c":"#155724",margin:"4px"}},H)):C.jsx(Ve,{children:"No courses assigned."})}),C.jsxs(Gu,{sx:{minWidth:200,mr:2},children:[C.jsx(Yu,{children:"Course"}),C.jsx(Ql,{value:o,onChange:F=>a(F.target.value),children:n.map(F=>C.jsx(Ar,{value:F.id,children:`${F.number} - ${F.title}`},F.id))})]}),C.jsxs(Gu,{sx:{mr:2},children:[C.jsx(Yu,{children:"Role"}),C.jsxs(Ql,{value:c?"admin":"student",onChange:F=>d(F.target.value==="admin"),children:[C.jsx(Ar,{value:"admin",children:"Course Admin"}),C.jsx(Ar,{value:"student",children:"Student"})]})]}),C.jsx(xt,{variant:"contained",color:"primary",onClick:M,disabled:f||!o,children:f?C.jsx(di,{size:24}):"Assign Course"})]}),C.jsx(Wo,{open:v,autoHideDuration:6e3,onClose:E,children:C.jsx(xr,{onClose:E,severity:"info",children:g})}),C.jsxs(uo,{open:w,onClose:P,"aria-labelledby":"assign-dialog-title",children:[C.jsx(ho,{id:"assign-dialog-title",children:"Assign Course"}),C.jsx(fo,{children:C.jsxs(fs,{children:["Are you sure you want to assign the course ",o," to this user",c?" as a Course Admin?":"?"]})}),C.jsxs(po,{children:[C.jsx(xt,{onClick:P,color:"primary",children:"Cancel"}),C.jsx(xt,{onClick:D,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},Nte=()=>{const[t,r]=K.useState(""),[n,o]=K.useState(!1),[a,c]=K.useState(!1),[d,f]=K.useState(void 0),[p,g]=K.useState(!1),[k,v]=K.useState(""),[y,w]=K.useState(!1),[x,A]=K.useState(!1),[D,E]=K.useState(!1),[M,P]=K.useState([]),[F,H]=K.useState(""),[V,N]=K.useState([]),j=Xn(),[q,Q]=K.useState(""),$=Fr(),R=()=>{$("/")};K.useEffect(()=>{(async()=>{try{const pe=Zn(j,"courses"),Pe=(await go(pe)).docs.map(Te=>({id:Te.id,number:Te.data().number,title:Te.data().title}));N(Pe)}catch(pe){console.error("Error fetching courses:",pe)}})()},[j]);const Y=async()=>{if(t){g(!0),c(!1);try{const se=An(j,"users",t),pe=await us(se);if(pe.exists()){const we=pe.data();o(we.isAdmin),f(we.classes),c(!0)}else v("User not found."),w(!0)}catch(se){console.error("Error fetching user:",se),v("Error fetching user."),w(!0)}g(!1)}},B=K.useCallback(async()=>{g(!0);try{const se=Zn(j,"users"),we=(await go(se)).docs.map(Pe=>({id:Pe.id,...Pe.data()}));P(we)}catch(se){console.error("Error fetching users:",se),v("Error fetching users."),w(!0)}g(!1)},[j]);K.useEffect(()=>{B()},[B]);const ne=async()=>{try{const se=An(j,"users",t);await Rr(se,{isAdmin:D}),v(`User ${D?"granted":"revoked"} admin privileges successfully.`),o(D);const pe=M.map(we=>we.id===t?{...we,isAdmin:D}:we);P(pe)}catch(se){console.error("Error updating user:",se),v("Error updating user.")}w(!0),A(!1)},de=se=>{se.preventDefault(),a?(E(!n),A(!0)):(v("User not found."),w(!0))},ae=()=>{w(!1)},oe=()=>{A(!1)},ye=se=>{H(se.target.value)},re=se=>F?se.classes&&F in se.classes:!0,xe=se=>q==="superAdmin"?se.isSuperAdmin:q==="educator"?se.isAdmin&&!se.isSuperAdmin:q==="student"?!se.isAdmin&&!se.isSuperAdmin:!0,X=se=>se.filter(pe=>re(pe)&&xe(pe)),Z=se=>{se?(v("User account deleted successfully."),c(!1),r(""),B()):v("Error deleting user account."),w(!0)};return C.jsxs(Fe,{sx:{padding:3},children:[C.jsx(Fe,{sx:{display:"flex",alignItems:"center"},children:C.jsx(xt,{variant:"text",onClick:R,sx:{mr:2},children:"← Home Page"})}),C.jsx(Ve,{variant:"h4",component:"h1",gutterBottom:!0,children:"User Management"}),C.jsx(Ve,{variant:"body1",gutterBottom:!0,children:"Use this page to view and manage user permissions. Enter the User ID to grant or revoke admin privileges, or delete user account."}),C.jsx(Fe,{sx:{display:"flex",justifyContent:"flex-start"},children:C.jsxs("form",{onSubmit:de,children:[C.jsx(Sn,{label:"User ID",value:t,onChange:se=>r(se.target.value),fullWidth:!0,required:!0,margin:"normal",onKeyPress:se=>{se.key==="Enter"&&(Y(),se.preventDefault())},sx:{minWidth:"300px"}}),p?C.jsx(di,{}):a&&C.jsxs(Fn,{variant:"outlined",sx:{padding:2,borderRadius:"15px",mb:1},children:[C.jsxs(Fe,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #e0e0e0",padding:"16px",borderRadius:"8px",backgroundColor:"#f9f9f9",mb:2},children:[C.jsxs(Fe,{sx:{display:"flex",alignItems:"center"},children:[C.jsx(Ve,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Status:"}),C.jsx(Zr,{label:n?"Educator (Admin)":"Student (Non-Admin)",color:n?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",backgroundColor:n?"#1976d2":"#e0e0e0",color:n?"#fff":"#000"}})]}),C.jsx(xt,{type:"submit",variant:"contained",color:n?"secondary":"primary",sx:{padding:"8px 16px",textTransform:"none",fontSize:"0.9rem",borderRadius:"8px",fontWeight:"bold",boxShadow:"none","&:hover":{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.2)"}},children:n?"Revoke Educator Access":"Grant Educator Access"})]}),C.jsx(Tte,{userId:t,userClasses:d,courses:V}),C.jsx(Ite,{userId:t,onUserDeleted:Z})]})]})}),C.jsx(Ve,{variant:"h5",component:"h2",gutterBottom:!0,children:"Current Users"}),C.jsxs(Gu,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[C.jsx(Yu,{children:"Filter by Course"}),C.jsxs(Ql,{value:F,onChange:ye,children:[C.jsx(Ar,{value:"",children:"All Courses"}),V.map(se=>C.jsx(Ar,{value:se.id,children:se.number},se.id))]})]}),C.jsxs(Gu,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[C.jsx(Yu,{children:"User Status"}),C.jsxs(Ql,{value:q,onChange:se=>Q(se.target.value),children:[C.jsx(Ar,{value:"",children:"All Statuses"}),C.jsx(Ar,{value:"superAdmin",children:"Super Admin"}),C.jsx(Ar,{value:"educator",children:"Educator"}),C.jsx(Ar,{value:"student",children:"Student"})]})]}),C.jsx(Dte,{users:X(M)}),C.jsxs(uo,{open:x,onClose:oe,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[C.jsx(ho,{id:"alert-dialog-title",children:n?"Revoke Admin Privileges":"Grant Admin Privileges"}),C.jsx(fo,{children:C.jsxs(fs,{id:"alert-dialog-description",children:["Are you sure you want to ",n?"revoke":"grant"," admin privileges for this user?"]})}),C.jsxs(po,{children:[C.jsx(xt,{onClick:oe,color:"primary",children:"Cancel"}),C.jsx(xt,{onClick:ne,color:"primary",autoFocus:!0,children:"Confirm"})]})]}),C.jsx(Wo,{open:y,autoHideDuration:6e3,onClose:ae,children:C.jsx(xr,{onClose:ae,severity:"info",children:k})})]})},Mte=({onCourseAdded:t})=>{const[r,n]=K.useState(""),{userDetails:o,setUserDetails:a}=xi(),c=Xn(),d=p=>{n(p.target.value)},f=async()=>{try{const k=(await go(Zn(c,"courses"))).docs.map(v=>({id:v.id,passcode:v.data().passcode,number:v.data().number,title:v.data().title})).find(v=>v.passcode===r);if(k){if(o)if((o.classes||{})[k.id])t(`Course access for ${k.number} is already added to your account!`,"info");else{const y=An(c,"users",o.uid);await Rr(y,{[`classes.${k.id}`]:{number:k.number,title:k.title,isCourseAdmin:!1}});const w=await us(y);if(w.exists()){const x=w.data();a({...x,uid:o.uid})}t(`Course access for ${k.number} added to your account successfully!`,"success"),n("")}}else t("Invalid passcode. Course not found.","error")}catch(p){console.error("Error updating document: ",p),t("Error adding course access to your account.","error")}};return C.jsx("div",{children:C.jsxs(Kt,{container:!0,spacing:2,sx:{maxWidth:"50%"},children:[C.jsx(Kt,{item:!0,xs:10,children:C.jsx(Sn,{label:"Enter Course Passcode",value:r,onChange:d,fullWidth:!0,sx:{mb:2}})}),C.jsx(Kt,{item:!0,xs:2,sx:{display:"flex",alignItems:"center"},children:C.jsx(xt,{variant:"contained",onClick:f,children:"Add Course"})})]})})},Pte=({userDetails:t,getAccountStatus:r,renderCourses:n})=>C.jsxs(Fn,{elevation:3,sx:{padding:3,borderRadius:"12px",backgroundColor:"#ffffff",maxWidth:"500px",margin:"auto"},children:[C.jsx(Fe,{sx:{display:"flex",justifyContent:"center",mb:2},children:C.jsx(cW,{sx:{width:72,height:72,bgcolor:"#1054c4"},children:C.jsx(uW,{sx:{fontSize:48,color:"#f8f4fc"}})})}),C.jsxs(Fe,{sx:{display:"flex",flexDirection:"column",gap:1,alignItems:"left"},children:[C.jsxs(Fe,{sx:{display:"flex",alignItems:"center",gap:1},children:[C.jsx(Ve,{sx:{fontWeight:"bold"},children:"User ID:"}),C.jsx(Zr,{label:t.uid,variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#E3F2FD",color:"#1565C0"}})]}),C.jsxs(Fe,{sx:{display:"flex",alignItems:"center",gap:1},children:[C.jsx(Ve,{sx:{fontWeight:"bold"},children:"Account Status:"}),C.jsx(Zr,{label:r(),variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#C8E6C9",color:"#2E7D32"}})]}),C.jsxs(Fe,{sx:{display:"flex",alignItems:"center",gap:1},children:[C.jsx(Ve,{sx:{fontWeight:"bold"},children:"Last Login:"}),C.jsx(Zr,{label:Fu(t.lastLogin),variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#FFF3E0",color:"#EF6C00"}})]})]}),C.jsx(Us,{sx:{my:2}}),C.jsx(Ve,{sx:{fontWeight:"bold",mb:1},children:"Current Courses:"}),C.jsx(Fe,{sx:{display:"flex",flexWrap:"wrap"},children:n()})]}),Ote=()=>{const{userDetails:t,setUserDetails:r}=xi(),[n,o]=K.useState(!1),[a,c]=K.useState(!1),[d,f]=K.useState(!1),[p,g]=K.useState(""),[k,v]=K.useState("success"),y=Fr(),w=Xn(),x=()=>{y("/")},A=()=>{t!=null&&t.isAdmin||y("/request-educator-permissions")},D=(V,N)=>{f(!0),g(V),v(N),N==="success"&&t&&(async()=>{const q=An(w,"users",t.uid),Q=await us(q);if(Q.exists()){const $=Q.data();r({...$,uid:t.uid})}})()},E=()=>{o(!n)},M=()=>{c(!a)},P=()=>t!=null&&t.isSuperAdmin?"Super Admin":t!=null&&t.isAdmin?"Educator":"Student",F=()=>{f(!1)},H=()=>t!=null&&t.classes?Object.entries(t.classes).map(([V,N])=>C.jsx(Zr,{label:`${N.number} - ${N.title}${N.isCourseAdmin?" (Admin)":""}`,variant:"outlined",sx:{margin:"4px",fontSize:"14px",fontWeight:"bold",bgcolor:N.isCourseAdmin?"#FFCDD2":"#E3F2FD",color:N.isCourseAdmin?"#C62828":"#1565C0"}},V)):"None";return C.jsxs(Fe,{className:"profile-container",children:[C.jsx(xt,{variant:"text",onClick:x,className:"profile-button",children:"← Home Page"}),C.jsx(Ve,{className:"webpage_title",children:"My Account"}),t&&C.jsx(Pte,{userDetails:t,getAccountStatus:P,renderCourses:H}),!(t!=null&&t.isAdmin)&&C.jsxs(Fe,{className:"profile-switch-container",children:[C.jsx(Vu,{control:C.jsx(Hu,{checked:n,onChange:E}),label:"Enroll in a Course (As a Student)"}),n&&C.jsxs(Fe,{sx:{mt:2},children:[C.jsx(Ve,{variant:"body1",className:"profile-text",children:"Use the area below to add a course access to your account."}),C.jsx(Mte,{onCourseAdded:D})]})]}),C.jsxs(Fe,{className:"profile-advanced-section",children:[C.jsx(Vu,{control:C.jsx(Hu,{checked:a,onChange:M}),label:"Advanced"}),a&&C.jsx(C.Fragment,{children:C.jsx(Fe,{sx:{mt:2},children:C.jsx(xt,{variant:"text",onClick:A,disabled:t==null?void 0:t.isAdmin,className:"profile-button",children:t!=null&&t.isAdmin?C.jsx(Ve,{children:C.jsx("span",{className:"success-text",children:"✔ Educator Account Approved"})}):"Request Educator Permissions"})})})]}),C.jsx(Wo,{open:d,autoHideDuration:6e3,onClose:F,children:C.jsx(xr,{onClose:F,severity:k,sx:{width:"100%"},children:p})})]})},Lte=({selectedCourse:t,selectedCourseDetails:r,onStudentChange:n})=>{const[o,a]=K.useState(""),[c,d]=K.useState(!1),[f,p]=K.useState(""),[g,k]=K.useState(!1),[v,y]=K.useState(!1),w=Xn(),x=async()=>{if(!o||!t){p("Please enter a Student ID and select a course."),k(!0);return}d(!0);try{const M=An(w,"users",o),P=await us(M);if(P.exists()){const H=P.data().classes||{};t in H?y(!0):(p(`Student ${o} is not enrolled in course ${(r==null?void 0:r.number)||t}, cannot remove.`),k(!0))}else p(`Student ${o} does not exist.`),k(!0)}catch(M){console.error("Error checking student course:",M),p("Error checking student course."),k(!0)}d(!1)},A=async()=>{d(!0);try{const M=An(w,"users",o);await Rr(M,{[`classes.${t}`]:GW()}),p(`Student ${o} removed from course ${(r==null?void 0:r.number)||t}.`),a(""),n()}catch(M){console.error("Error updating student course:",M),p("Error updating student course.")}d(!1),k(!0),y(!1)},D=()=>{k(!1)},E=()=>{y(!1)};return C.jsxs(Fe,{sx:{mt:4},children:[C.jsxs(Ve,{variant:"h6",component:"h2",children:["Remove Students from ",r?`${r.number}`:t]}),C.jsxs(Fe,{sx:{display:"flex",alignItems:"center",mt:2},children:[C.jsx(Sn,{label:"Student ID",value:o,onChange:M=>a(M.target.value),fullWidth:!0,required:!0,margin:"normal",sx:{mr:2}}),C.jsx(xt,{variant:"contained",color:"primary",onClick:x,disabled:c,children:c?C.jsx(di,{size:24}):"Remove"})]}),C.jsx(Wo,{open:g,autoHideDuration:6e3,onClose:D,children:C.jsx(xr,{onClose:D,severity:"info",children:f})}),C.jsxs(uo,{open:v,onClose:E,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[C.jsx(ho,{id:"confirm-dialog-title",children:"Confirm Removal"}),C.jsx(fo,{children:C.jsx(fs,{id:"confirm-dialog-description",children:"Are you sure you want to remove the student from the course? This action cannot be undone."})}),C.jsxs(po,{children:[C.jsx(xt,{onClick:E,color:"primary",children:"Cancel"}),C.jsx(xt,{onClick:A,color:"secondary",autoFocus:!0,children:"Confirm"})]})]})]})},Bte=({students:t,selectedCourse:r})=>{const n=()=>{if(t.length>0){const o=["User ID","Courses","Last Login"],a=t.map(g=>[`"${g.id||g.uid}"`,`"${g.classes?Object.values(g.classes).map(k=>`${k.number} - ${k.title}`).join(", "):"None"}"`,`"${Fu(g.lastLogin)}"`]),c=[o.join(","),...a.map(g=>g.join(","))].join(`
`),d=new Blob([c],{type:"text/csv;charset=utf-8;"}),f=URL.createObjectURL(d),p=document.createElement("a");p.href=f,p.setAttribute("download",`${r}_students.csv`),document.body.appendChild(p),p.click(),document.body.removeChild(p)}};return C.jsx(Fe,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:C.jsx(xt,{variant:"contained",color:"primary",onClick:n,disabled:t.length===0,sx:{background:"linear-gradient(45deg, #3f51b5 30%, #1e88e5 90%)",borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"white",padding:"0 30px",fontSize:"16px",fontWeight:"bold",textTransform:"none","&:hover":{background:"linear-gradient(45deg, #1e88e5 30%, #3f51b5 90%)",boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)"}},children:"Export as CSV"})})},jte=({userClasses:t,selectedCourse:r,onCourseChange:n})=>C.jsx(Fe,{sx:{mb:3},children:C.jsxs(Gu,{fullWidth:!0,variant:"outlined",children:[C.jsx(Yu,{id:"course-selector-label",children:"Select a Course"}),C.jsx(Ql,{"aria-label":"Select a course",labelId:"course-selector-label",value:r,onChange:o=>n(o.target.value),label:"Select a Course",children:Object.entries(t).map(([o,a])=>C.jsx(Ar,{value:o,children:`${a.number} - ${a.title}`},o))})]})}),Rte=({selectedCourse:t,selectedCourseDetails:r,onCourseUpdate:n})=>{const[o,a]=K.useState(!1),[c,d]=K.useState(""),[f,p]=K.useState(""),g=Xn(),{userDetails:k,refreshUserDetails:v}=xi(),y=()=>{r&&(d(r.number||""),p(r.title||"")),a(!0)},w=()=>{a(!1),x()},x=()=>{d(""),p("")},A=async()=>{if(!t||!(k!=null&&k.uid)){console.error("Selected course or user details are missing.");return}try{const D=An(g,"courses",t);await Rr(D,{number:c,title:f});const E=An(g,"users",k.uid),M=await us(E);if(M.exists()){const P=M.data();if(P.classes&&P.classes[t]){const F=P.classes[t],H={...P.classes,[t]:{...F,number:c,title:f}};await Rr(E,{classes:H})}}await v(),n(),w()}catch(D){console.error("Error updating course:",D)}};return C.jsxs(Fe,{sx:{mt:2},children:[C.jsx(xt,{variant:"outlined",onClick:y,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#4CAF50",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#388E3C",transform:"scale(1.03)"}},children:"Edit Course Details"}),C.jsxs(uo,{open:o,onClose:w,children:[C.jsx(ho,{children:"Edit Course Details"}),C.jsxs(fo,{children:[C.jsx(Sn,{label:"Course Number",value:c,onChange:D=>d(D.target.value),fullWidth:!0,sx:{mb:2}}),C.jsx(Sn,{label:"Course Title",value:f,onChange:D=>p(D.target.value),fullWidth:!0})]}),C.jsxs(po,{children:[C.jsx(xt,{onClick:w,children:"Cancel"}),C.jsx(xt,{onClick:A,variant:"contained",color:"primary",disabled:!c||!f,children:"Save"})]})]})]})},Fte=({selectedCourse:t,onCourseDelete:r})=>{const[n,o]=K.useState(!1),a=Xn(),{refreshUserDetails:c}=xi(),d=()=>o(!0),f=()=>o(!1),p=async()=>{if(t)try{const g=LA(a),k=An(a,"courses",t);g.delete(k);const v=Zn(a,"users");(await go(v)).forEach(w=>{const x=An(a,"users",w.id),A=w.data().classes||{};A&&A[t]&&(delete A[t],g.update(x,{classes:A}))}),await g.commit(),await c(),r(),f()}catch(g){console.error("Error deleting course:",g)}};return C.jsxs(Fe,{sx:{mt:2},children:[C.jsx(xt,{variant:"contained",onClick:d,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#F44336",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#D32F2F",transform:"scale(1.03)"}},children:"Delete Course"}),C.jsxs(uo,{open:n,onClose:f,children:[C.jsx(ho,{children:"Confirm Delete"}),C.jsx(fo,{children:C.jsx(fs,{children:"Are you sure you want to delete this course? This action cannot be undone."})}),C.jsxs(po,{children:[C.jsx(xt,{onClick:f,children:"Cancel"}),C.jsx(xt,{onClick:p,variant:"contained",color:"error",children:"Delete"})]})]})]})},zte=({text:t,tooltipText:r="Click to Copy",successText:n="Copied!"})=>{const[o,a]=K.useState(!1),c=()=>{navigator.clipboard.writeText(t).then(()=>{a(!0),setTimeout(()=>a(!1),2e3)}).catch(d=>console.error("Could not copy text: ",d))};return C.jsx(Gs,{title:o?n:r,enterDelay:300,leaveDelay:200,children:C.jsx(Zr,{label:t,variant:"outlined",onClick:c,sx:{borderRadius:"15px",fontSize:"16px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",fontFamily:"Gabarito, sans-serif"}})})},Ute=()=>{const{userDetails:t}=xi(),[r,n]=K.useState(""),[o,a]=K.useState([]),[c,d]=K.useState(null),[f,p]=K.useState(!1),[g,k]=K.useState(""),[v,y]=K.useState("success"),w=Xn();K.useEffect(()=>{(async()=>{if(t!=null&&t.isAdmin){const E=yp(Zn(w,"courses"),qg("courseAdmin","array-contains",t.uid)),P=(await go(E)).docs.map(F=>({id:F.id,number:F.data().number,title:F.data().title,passcode:F.data().passcode}));a(P)}})()},[w,t]);const x=D=>{const E=D.target.value;n(E);const M=o.find(P=>P.id===E);M?(d(M.passcode),k(`Passcode for course "${M.number} - ${M.title}" retrieved successfully.`),y("success"),p(!0)):(d(null),k("Course not found."),y("error"),p(!0))},A=()=>{p(!1)};return C.jsxs(Fe,{sx:{mt:4},children:[C.jsx(Ve,{variant:"subtitle1",component:"h2",sx:{mb:2},children:"Retrieve Course Passcode"}),C.jsx(Kt,{container:!0,spacing:2,sx:{maxWidth:"75%"},children:C.jsxs(Kt,{item:!0,xs:12,sx:{display:"flex",alignItems:"center"},children:[C.jsx(Sn,{select:!0,label:"Select Course Number",value:r,onChange:x,fullWidth:!0,sx:{mb:2,mr:2},children:o.map(D=>C.jsx(Ar,{value:D.id,children:`${D.number} - ${D.title}`},D.id))}),c&&C.jsxs(Fe,{sx:{display:"flex",alignItems:"center",ml:2},children:[C.jsx(Ve,{variant:"body1",sx:{mr:1},children:"Passcode:"}),C.jsx(zte,{text:`${c}`})]})]})}),C.jsx(Wo,{open:f,autoHideDuration:6e3,onClose:A,children:C.jsx(xr,{onClose:A,severity:v,sx:{width:"100%"},children:g})})]})},qte=()=>{const{userDetails:t}=xi(),[r,n]=K.useState([]),[o,a]=K.useState(""),[c,d]=K.useState(!1),[f,p]=K.useState(!1),[g,k]=K.useState(!1),v=Xn(),y=Fr(),x=t!=null&&t.classes?Object.entries(t.classes).filter(([F,H])=>H.isCourseAdmin).reduce((F,[H,V])=>({...F,[H]:V}),{}):{};K.useEffect(()=>{x[o]||a(Object.keys(x)[0]||"")},[x,o]),K.useEffect(()=>{(async()=>{if(o)try{const H=yp(Zn(v,"users"),qg("isAdmin","==",!1)),j=(await go(H)).docs.map(q=>({uid:q.id,...q.data()})).filter(q=>q.classes&&q.classes[o]);n(j)}catch(H){console.error("Error fetching students:",H)}})()},[o,v]);const A=F=>{a(F)},D=()=>{y("/request-new-course")},E=x[o],M=E?`${E.number} - ${E.title}`:"",P=!!(o&&E);return C.jsxs(Fe,{className:"profile-container",sx:{p:4},children:[C.jsx(Fe,{sx:{display:"flex",alignItems:"center",mb:2},children:C.jsx(xt,{variant:"text",onClick:()=>y("/"),className:"profile-button",children:"← Home Page"})}),C.jsx(Ve,{className:"webpage_title",sx:{mb:2},children:"Course Management"}),C.jsxs(Fe,{sx:{mb:4,p:3,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[C.jsx(Ve,{variant:"h6",sx:{fontFamily:"Staatliches, sans-serif",mb:2,color:"#0B53C0"},children:"Select a Course"}),Object.keys(x).length>0?C.jsx(jte,{userClasses:x,selectedCourse:o,onCourseChange:A}):C.jsx(Ve,{variant:"body1",sx:{color:"#9E9E9E"},children:"No courses available for selection."})]}),C.jsx(Fe,{children:P&&C.jsxs(Fe,{sx:{flex:2,display:"flex",justifyContent:"flex-end",gap:2},children:[C.jsx(Rte,{selectedCourse:o,selectedCourseDetails:E,onCourseUpdate:()=>{}}),C.jsx(Fte,{selectedCourse:o,onCourseDelete:()=>a("")})]})}),P&&C.jsxs(Fn,{elevation:3,sx:{p:3,mb:4,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",backgroundColor:"#F9FAFB"},children:[C.jsx(Ve,{variant:"h6",component:"h2",sx:{fontFamily:"Staatliches, sans-serif",fontWeight:"bold",mb:2,color:"#0B53C0"},children:"Students Enrolled in a Course"}),r.length===0?C.jsxs(Ve,{sx:{color:"#757575",textAlign:"center",p:3},children:["No students are currently enrolled in ",C.jsx("strong",{children:M}),"."]}):C.jsxs(C.Fragment,{children:[C.jsx(nd,{component:Fn,children:C.jsxs(rd,{children:[C.jsx(id,{children:C.jsxs(mo,{children:[C.jsx(It,{sx:{fontWeight:"bold"},children:"User ID"}),C.jsx(It,{sx:{fontWeight:"bold"},children:"Last Login"})]})}),C.jsx(od,{children:r.map(F=>C.jsxs(mo,{children:[C.jsx(It,{children:F.uid}),C.jsx(It,{children:Fu(F.lastLogin)})]},F.uid))})]})}),C.jsx(Bte,{students:r,selectedCourse:o})]}),r.length>0&&C.jsxs(Fn,{sx:{mt:4,p:3,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[C.jsx(Vu,{control:C.jsx(Hu,{checked:g,onChange:()=>k(F=>!F)}),label:"Remove Student(s) from the Course"}),g&&C.jsx(Lte,{selectedCourse:o,selectedCourseDetails:E,onStudentChange:()=>{}})]})]}),C.jsxs(Fe,{sx:{display:"flex",gap:4,mb:4},children:[C.jsxs(Fe,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[C.jsx(Vu,{control:C.jsx(Hu,{checked:f,onChange:()=>p(F=>!F)}),label:"Retrieve Course Passcode"}),f&&C.jsx(Fe,{sx:{mt:2},children:C.jsx(Ute,{})})]}),C.jsxs(Fe,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[C.jsx(Vu,{control:C.jsx(Hu,{checked:c,onChange:()=>d(F=>!F)}),label:"Request Creating a New Course"}),c&&C.jsx(Fe,{sx:{mt:2},children:C.jsx(xt,{variant:"contained",onClick:D,sx:{backgroundColor:"#4CAF50",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",textTransform:"none","&:hover":{backgroundColor:"#388E3C"}},children:"Request New Course"})})]})]})]})},Vte=async t=>{try{const r=await co(()=>import("./pdf-DQ7craWA.js"),[]),n="/nexlab";r.GlobalWorkerOptions.workerSrc=`${n}/js/pdf.worker.min.js`;const o=await t.arrayBuffer(),a=await r.getDocument({data:o}).promise,c=a.numPages;let d="";for(let f=1;f<=c;f++){const k=(await(await a.getPage(f)).getTextContent()).items.filter(v=>v&&typeof v.str=="string").map(v=>v.str).join(" ").trim();k&&(d+=k+`

`)}return{text:d.trim(),metadata:{pageCount:c,wordCount:d.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"PDF.js"}}}catch(r){throw{message:"Failed to extract text from PDF file. Please ensure the PDF contains selectable text.",code:"PDF_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},Hte=async t=>{try{const r=await co(()=>import("./index-BrdY1DTS.js").then(a=>a.i),__vite__mapDeps([4,1])),n=await t.arrayBuffer(),o=await r.extractRawText({arrayBuffer:n});return o.messages&&o.messages.length>0&&console.warn("DOCX extraction warnings:",o.messages),{text:o.value.trim(),metadata:{wordCount:o.value.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"Mammoth"}}}catch(r){throw{message:"Failed to extract text from Word document. Please ensure the file is not corrupted.",code:"DOCX_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},$te=async t=>{try{const r=await t.text();return{text:r.trim(),metadata:{wordCount:r.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"Native"}}}catch(r){throw{message:"Failed to extract text from text file",code:"TXT_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},Wte=async t=>{if(!t)throw{message:"No file provided",code:"NO_FILE_ERROR"};const r=t.type.toLowerCase(),n=t.name.toLowerCase();try{if(r==="application/pdf"||n.endsWith(".pdf"))return await Vte(t);if(r==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||n.endsWith(".docx"))return await Hte(t);if(r==="text/plain"||n.endsWith(".txt"))return await $te(t);throw{message:`Unsupported file format: ${r||"unknown"}. Supported formats: PDF (.pdf), Word (.docx), Text (.txt)`,code:"UNSUPPORTED_FORMAT_ERROR"}}catch(o){throw o&&typeof o=="object"&&"code"in o?o:{message:`Failed to extract text from ${t.name}`,code:"GENERIC_EXTRACTION_ERROR",originalError:o instanceof Error?o:new Error(String(o))}}},Gte=t=>{const n=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"],o=[".pdf",".docx",".txt"];if(t.size>52428800)return{isValid:!1,error:`File size (${(t.size/1024/1024).toFixed(1)}MB) exceeds the maximum limit of 50MB.`};const a=t.type.toLowerCase(),c=t.name.toLowerCase(),d=n.includes(a),f=o.some(p=>c.endsWith(p));return!d&&!f?{isValid:!1,error:`Unsupported file format. Please upload files with extensions: ${o.join(", ")}`}:{isValid:!0}},Yte=t=>{const r=t.type.toLowerCase(),n=t.name.toLowerCase();return r==="application/pdf"||n.endsWith(".pdf")?"PDF Document":r==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||n.endsWith(".docx")?"Word Document":r==="text/plain"||n.endsWith(".txt")?"Text File":"Unknown Format"},Kte=t=>{const r=t.size/1048576,n=t.type.toLowerCase();let o=0;return n==="application/pdf"?o=Math.max(2,r*.5):n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?o=Math.max(1,r*.3):o=Math.max(.5,r*.1),Math.round(o)};var z6;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(z6||(z6={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U6;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(U6||(U6={}));var q6;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(q6||(q6={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6=["user","model","function","system"];var H6;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(H6||(H6={}));var $6;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})($6||($6={}));var W6;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(W6||(W6={}));var G6;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(G6||(G6={}));var hg;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(hg||(hg={}));var Y6;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(Y6||(Y6={}));var K6;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(K6||(K6={}));var Q6;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Q6||(Q6={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends Error{constructor(r){super(`[GoogleGenerativeAI Error]: ${r}`)}}class Pf extends Eo{constructor(r,n){super(r),this.response=n}}class f8 extends Eo{constructor(r,n,o,a){super(r),this.status=n,this.statusText=o,this.errorDetails=a}}class Wu extends Eo{}class p8 extends Eo{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qte="https://generativelanguage.googleapis.com",Jte="v1beta",Zte="0.24.1",Xte="genai-js";var xh;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(xh||(xh={}));class ene{constructor(r,n,o,a,c){this.model=r,this.task=n,this.apiKey=o,this.stream=a,this.requestOptions=c}toString(){var r,n;const o=((r=this.requestOptions)===null||r===void 0?void 0:r.apiVersion)||Jte;let c=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||Qte}/${o}/${this.model}:${this.task}`;return this.stream&&(c+="?alt=sse"),c}}function tne(t){const r=[];return t!=null&&t.apiClient&&r.push(t.apiClient),r.push(`${Xte}/${Zte}`),r.join(" ")}async function nne(t){var r;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",tne(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let o=(r=t.requestOptions)===null||r===void 0?void 0:r.customHeaders;if(o){if(!(o instanceof Headers))try{o=new Headers(o)}catch(a){throw new Wu(`unable to convert customHeaders value ${JSON.stringify(o)} to Headers: ${a.message}`)}for(const[a,c]of o.entries()){if(a==="x-goog-api-key")throw new Wu(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new Wu(`Header name ${a} can only be set using the apiClient field`);n.append(a,c)}}return n}async function rne(t,r,n,o,a,c){const d=new ene(t,r,n,o,c);return{url:d.toString(),fetchOptions:Object.assign(Object.assign({},ane(c)),{method:"POST",headers:await nne(d),body:a})}}async function Qg(t,r,n,o,a,c={},d=fetch){const{url:f,fetchOptions:p}=await rne(t,r,n,o,a,c);return ine(f,p,d)}async function ine(t,r,n=fetch){let o;try{o=await n(t,r)}catch(a){one(a,t)}return o.ok||await sne(o,t),o}function one(t,r){let n=t;throw n.name==="AbortError"?(n=new p8(`Request aborted when fetching ${r.toString()}: ${t.message}`),n.stack=t.stack):t instanceof f8||t instanceof Wu||(n=new Eo(`Error fetching from ${r.toString()}: ${t.message}`),n.stack=t.stack),n}async function sne(t,r){let n="",o;try{const a=await t.json();n=a.error.message,a.error.details&&(n+=` ${JSON.stringify(a.error.details)}`,o=a.error.details)}catch{}throw new f8(`Error fetching from ${r.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,o)}function ane(t){const r={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),r.signal=n.signal}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),bk(t.candidates[0]))throw new Pf(`${Lu(t)}`,t);return lne(t)}else if(t.promptFeedback)throw new Pf(`Text not available. ${Lu(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),bk(t.candidates[0]))throw new Pf(`${Lu(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),J6(t)[0]}else if(t.promptFeedback)throw new Pf(`Function call not available. ${Lu(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),bk(t.candidates[0]))throw new Pf(`${Lu(t)}`,t);return J6(t)}else if(t.promptFeedback)throw new Pf(`Function call not available. ${Lu(t)}`,t)},t}function lne(t){var r,n,o,a;const c=[];if(!((n=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||n===void 0)&&n.parts)for(const d of(a=(o=t.candidates)===null||o===void 0?void 0:o[0].content)===null||a===void 0?void 0:a.parts)d.text&&c.push(d.text),d.executableCode&&c.push("\n```"+d.executableCode.language+`
`+d.executableCode.code+"\n```\n"),d.codeExecutionResult&&c.push("\n```\n"+d.codeExecutionResult.output+"\n```\n");return c.length>0?c.join(""):""}function J6(t){var r,n,o,a;const c=[];if(!((n=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||n===void 0)&&n.parts)for(const d of(a=(o=t.candidates)===null||o===void 0?void 0:o[0].content)===null||a===void 0?void 0:a.parts)d.functionCall&&c.push(d.functionCall);if(c.length>0)return c}const cne=[hg.RECITATION,hg.SAFETY,hg.LANGUAGE];function bk(t){return!!t.finishReason&&cne.includes(t.finishReason)}function Lu(t){var r,n,o;let a="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)a+="Response was blocked",!((r=t.promptFeedback)===null||r===void 0)&&r.blockReason&&(a+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(a+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((o=t.candidates)===null||o===void 0)&&o[0]){const c=t.candidates[0];bk(c)&&(a+=`Candidate was blocked due to ${c.finishReason}`,c.finishMessage&&(a+=`: ${c.finishMessage}`))}return a}function Ng(t){return this instanceof Ng?(this.v=t,this):new Ng(t)}function une(t,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,r||[]),a,c=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(y){o[y]&&(a[y]=function(w){return new Promise(function(x,A){c.push([y,w,x,A])>1||f(y,w)})})}function f(y,w){try{p(o[y](w))}catch(x){v(c[0][3],x)}}function p(y){y.value instanceof Ng?Promise.resolve(y.value.v).then(g,k):v(c[0][2],y)}function g(y){f("next",y)}function k(y){f("throw",y)}function v(y,w){y(w),c.shift(),c.length&&f(c[0][0],c[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function dne(t){const r=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=pne(r),[o,a]=n.tee();return{stream:fne(o),response:hne(a)}}async function hne(t){const r=[],n=t.getReader();for(;;){const{done:o,value:a}=await n.read();if(o)return aC(mne(r));r.push(a)}}function fne(t){return une(this,arguments,function*(){const n=t.getReader();for(;;){const{value:o,done:a}=yield Ng(n.read());if(a)break;yield yield Ng(aC(o))}})}function pne(t){const r=t.getReader();return new ReadableStream({start(o){let a="";return c();function c(){return r.read().then(({value:d,done:f})=>{if(f){if(a.trim()){o.error(new Eo("Failed to parse stream"));return}o.close();return}a+=d;let p=a.match(Z6),g;for(;p;){try{g=JSON.parse(p[1])}catch{o.error(new Eo(`Error parsing JSON response: "${p[1]}"`));return}o.enqueue(g),a=a.substring(p[0].length),p=a.match(Z6)}return c()}).catch(d=>{let f=d;throw f.stack=d.stack,f.name==="AbortError"?f=new p8("Request aborted when reading from the stream"):f=new Eo("Error reading from the stream"),f})}}})}function mne(t){const r=t[t.length-1],n={promptFeedback:r==null?void 0:r.promptFeedback};for(const o of t){if(o.candidates){let a=0;for(const c of o.candidates)if(n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:a}),n.candidates[a].citationMetadata=c.citationMetadata,n.candidates[a].groundingMetadata=c.groundingMetadata,n.candidates[a].finishReason=c.finishReason,n.candidates[a].finishMessage=c.finishMessage,n.candidates[a].safetyRatings=c.safetyRatings,c.content&&c.content.parts){n.candidates[a].content||(n.candidates[a].content={role:c.content.role||"user",parts:[]});const d={};for(const f of c.content.parts)f.text&&(d.text=f.text),f.functionCall&&(d.functionCall=f.functionCall),f.executableCode&&(d.executableCode=f.executableCode),f.codeExecutionResult&&(d.codeExecutionResult=f.codeExecutionResult),Object.keys(d).length===0&&(d.text=""),n.candidates[a].content.parts.push(d)}a++}o.usageMetadata&&(n.usageMetadata=o.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m8(t,r,n,o){const a=await Qg(r,xh.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),o);return dne(a)}async function g8(t,r,n,o){const c=await(await Qg(r,xh.GENERATE_CONTENT,t,!1,JSON.stringify(n),o)).json();return{response:aC(c)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Mg(t){let r=[];if(typeof t=="string")r=[{text:t}];else for(const n of t)typeof n=="string"?r.push({text:n}):r.push(n);return gne(r)}function gne(t){const r={role:"user",parts:[]},n={role:"function",parts:[]};let o=!1,a=!1;for(const c of t)"functionResponse"in c?(n.parts.push(c),a=!0):(r.parts.push(c),o=!0);if(o&&a)throw new Eo("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!o&&!a)throw new Eo("No content is provided for sending chat message.");return o?r:n}function bne(t,r){var n;let o={model:r==null?void 0:r.model,generationConfig:r==null?void 0:r.generationConfig,safetySettings:r==null?void 0:r.safetySettings,tools:r==null?void 0:r.tools,toolConfig:r==null?void 0:r.toolConfig,systemInstruction:r==null?void 0:r.systemInstruction,cachedContent:(n=r==null?void 0:r.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const a=t.generateContentRequest!=null;if(t.contents){if(a)throw new Wu("CountTokensRequest must have one of contents or generateContentRequest, not both.");o.contents=t.contents}else if(a)o=Object.assign(Object.assign({},o),t.generateContentRequest);else{const c=Mg(t);o.contents=[c]}return{generateContentRequest:o}}function X6(t){let r;return t.contents?r=t:r={contents:[Mg(t)]},t.systemInstruction&&(r.systemInstruction=b8(t.systemInstruction)),r}function kne(t){return typeof t=="string"||Array.isArray(t)?{content:Mg(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],wne={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function yne(t){let r=!1;for(const n of t){const{role:o,parts:a}=n;if(!r&&o!=="user")throw new Eo(`First content should be with role 'user', got ${o}`);if(!V6.includes(o))throw new Eo(`Each item should include role field. Got ${o} but valid roles are: ${JSON.stringify(V6)}`);if(!Array.isArray(a))throw new Eo("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new Eo("Each Content should have at least one part");const c={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const f of a)for(const p of eT)p in f&&(c[p]+=1);const d=wne[o];for(const f of eT)if(!d.includes(f)&&c[f]>0)throw new Eo(`Content with role '${o}' can't contain '${f}' part`);r=!0}}function tT(t){var r;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(r=t.candidates[0])===null||r===void 0?void 0:r.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const o of n.parts)if(o===void 0||Object.keys(o).length===0||o.text!==void 0&&o.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="SILENT_ERROR";class vne{constructor(r,n,o,a={}){this.model=n,this.params=o,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=r,o!=null&&o.history&&(yne(o.history),this._history=o.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(r,n={}){var o,a,c,d,f,p;await this._sendPromise;const g=Mg(r),k={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(c=this.params)===null||c===void 0?void 0:c.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(f=this.params)===null||f===void 0?void 0:f.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,g]},v=Object.assign(Object.assign({},this._requestOptions),n);let y;return this._sendPromise=this._sendPromise.then(()=>g8(this._apiKey,this.model,k,v)).then(w=>{var x;if(tT(w.response)){this._history.push(g);const A=Object.assign({parts:[],role:"model"},(x=w.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(A)}else{const A=Lu(w.response);A&&console.warn(`sendMessage() was unsuccessful. ${A}. Inspect response object for details.`)}y=w}).catch(w=>{throw this._sendPromise=Promise.resolve(),w}),await this._sendPromise,y}async sendMessageStream(r,n={}){var o,a,c,d,f,p;await this._sendPromise;const g=Mg(r),k={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(c=this.params)===null||c===void 0?void 0:c.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(f=this.params)===null||f===void 0?void 0:f.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,g]},v=Object.assign(Object.assign({},this._requestOptions),n),y=m8(this._apiKey,this.model,k,v);return this._sendPromise=this._sendPromise.then(()=>y).catch(w=>{throw new Error(nT)}).then(w=>w.response).then(w=>{if(tT(w)){this._history.push(g);const x=Object.assign({},w.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=Lu(w);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(w=>{w.message!==nT&&console.error(w)}),y}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _ne(t,r,n,o){return(await Qg(r,xh.COUNT_TOKENS,t,!1,JSON.stringify(n),o)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ane(t,r,n,o){return(await Qg(r,xh.EMBED_CONTENT,t,!1,JSON.stringify(n),o)).json()}async function Cne(t,r,n,o){const a=n.requests.map(d=>Object.assign(Object.assign({},d),{model:r}));return(await Qg(r,xh.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:a}),o)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(r,n,o={}){this.apiKey=r,this._requestOptions=o,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=b8(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(r,n={}){var o;const a=X6(r),c=Object.assign(Object.assign({},this._requestOptions),n);return g8(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},a),c)}async generateContentStream(r,n={}){var o;const a=X6(r),c=Object.assign(Object.assign({},this._requestOptions),n);return m8(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},a),c)}startChat(r){var n;return new vne(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},r),this._requestOptions)}async countTokens(r,n={}){const o=bne(r,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),n);return _ne(this.apiKey,this.model,o,a)}async embedContent(r,n={}){const o=kne(r),a=Object.assign(Object.assign({},this._requestOptions),n);return Ane(this.apiKey,this.model,o,a)}async batchEmbedContents(r,n={}){const o=Object.assign(Object.assign({},this._requestOptions),n);return Cne(this.apiKey,this.model,r,o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xne{constructor(r){this.apiKey=r}getGenerativeModel(r,n){if(!r.model)throw new Eo("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new rT(this.apiKey,r,n)}getGenerativeModelFromCachedContent(r,n,o){if(!r.name)throw new Wu("Cached content must contain a `name` field.");if(!r.model)throw new Wu("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const d of a)if(n!=null&&n[d]&&r[d]&&(n==null?void 0:n[d])!==r[d]){if(d==="model"){const f=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,p=r.model.startsWith("models/")?r.model.replace("models/",""):r.model;if(f===p)continue}throw new Wu(`Different value for "${d}" specified in modelParams (${n[d]}) and cachedContent (${r[d]})`)}const c=Object.assign(Object.assign({},n),{model:r.model,tools:r.tools,toolConfig:r.toolConfig,systemInstruction:r.systemInstruction,cachedContent:r});return new rT(this.apiKey,c,o)}}class Sne{constructor(r){vt(this,"genAI");vt(this,"model");this.genAI=new xne(r),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.1,topK:1,topP:.8,maxOutputTokens:16384}})}async processSyllabusText(r,n,o){return r.length>3e4?(console.log("Large document detected, using chunked processing"),this.processLargeDocument(r,n,o)):this.processSingleDocument(r,n,o)}async processSingleDocument(r,n,o){const a=this.buildSyllabusAnalysisPrompt(r,n);try{const f=(await(await this.model.generateContent(a)).response).text();if(!f||f.trim().length===0)throw new Error("Empty response from AI service");const p=f.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();let g;try{g=JSON.parse(p)}catch(k){throw console.error("JSON parsing failed:",k),console.error("Raw response text:",f),console.error("Cleaned text:",p),new Error("AI response format invalid - unable to parse JSON")}if(!g||typeof g!="object")throw new Error("AI response is not a valid object");return g.courseInfo||(console.warn("Missing courseInfo in AI response, using defaults"),g.courseInfo={}),this.validateAndSanitizeResponse(g)}catch(c){if(console.error("Gemini API Error:",c),c instanceof Error){if(c.message.includes("AI response")||c.message.includes("JSON parsing"))throw c;if(c.message.includes("API key"))throw new Error("Invalid or missing Gemini API key. Please check your environment configuration.");if(c.message.includes("quota")||c.message.includes("rate limit"))throw new Error("API rate limit exceeded. Please try again later.")}throw new Error(`Failed to process syllabus with AI: ${c instanceof Error?c.message:"Unknown error"}`)}}async processLargeDocument(r,n,o){const c=this.chunkText(r,35e3);console.log(`Processing ${c.length} chunks for large document`);const d=await this.processSingleDocument(c[0],n,o),f=await Promise.allSettled(c.slice(1).map(p=>this.processChunkForDetails(p,n)));return this.mergeChunkedResults(d,f)}chunkText(r,n){const o=[],a=r.split(`
`);let c="";const d=["schedule","session","unit","week","topic","assignment","objective","learning outcome","reading","textbook","prerequisite"];for(let f=0;f<a.length;f++){const p=a[f],g=a[f+1]||"",k=d.some(v=>p.toLowerCase().includes(v)||g.toLowerCase().includes(v));c.length+p.length>n&&c.length>0&&(k||c.length>n*.8)?(o.push(c.trim()),c=p):c+=`
`+p}return c.trim()&&o.push(c.trim()),o}async processChunkForDetails(r,n){const o=`
Extract additional course details from this syllabus section. Focus heavily on:
- ALL schedule items, sessions, units, weeks, and topics
- Session numbers, titles, and descriptions
- Learning outcomes for each session
- Reading assignments and resources
- Assignment details and due dates
- Any additional objectives or policies

IMPORTANT: Extract ALL schedule/session information - do not limit the number of items.
Convert session numbers to week numbers (Session 1 = Week 1, etc.).

Return JSON with only the fields you can extract from this section:
${r}
`;try{const f=(await(await this.model.generateContent(o)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(f)}catch(a){return console.warn("Failed to process chunk:",a),{}}}mergeChunkedResults(r,n){const o={...r};return n.forEach(a=>{if(a.status==="fulfilled"&&a.value){const c=a.value;if(c.learningObjectives&&(o.learningObjectives=[...o.learningObjectives,...c.learningObjectives]),c.schedule){const d=new Set(o.schedule.map(p=>`${p.week}-${p.topic}`)),f=c.schedule.filter(p=>!d.has(`${p.week}-${p.topic}`));o.schedule=[...o.schedule,...f]}c.assignments&&(o.assignments=[...o.assignments,...c.assignments]),c.prerequisites&&(o.prerequisites=[...o.prerequisites,...c.prerequisites]),c.contactInfo&&(o.contactInfo={...o.contactInfo,...c.contactInfo}),c.policies&&(o.policies={...o.policies,...c.policies}),c.additionalResources&&(o.additionalResources={...o.additionalResources,...c.additionalResources})}}),o.learningObjectives=[...new Set(o.learningObjectives)],o.prerequisites=[...new Set(o.prerequisites)],o.schedule=o.schedule.sort((a,c)=>a.week-c.week),o}buildSyllabusAnalysisPrompt(r,n){return`
You are an expert educational content analyzer. Analyze the following course syllabus and extract structured information in JSON format.

IMPORTANT INSTRUCTIONS:
1. Return ONLY valid JSON - no markdown, no explanations, no additional text
2. If information is not available, use null or empty arrays/objects
3. Be thorough but accurate - don't invent information
4. For percentages in grading, ensure they are numbers (not strings)
5. For week numbers, ensure they are integers
6. Extract all learning objectives, even if they're not numbered
7. Look for course schedules in various formats (weekly, by date, by topic, by session/unit)
8. IMPORTANT: Extract ALL schedule items, sessions, units, and topics - do not limit to just a few weeks
9. For session-based schedules, convert sessions to week numbers (e.g., Session 1 = Week 1)
10. LABORATORY COURSES: Pay special attention to safety requirements, lab equipment, dress codes, group work policies, and experiment-based schedules
11. Identify course type: determine if this is a lecture, lab, seminar, or hybrid course based on content

Required JSON structure:
{
  "courseInfo": {
    "title": "string",
    "number": "string (e.g., CS 350, BIOL 301, CHEM 315)",
    "description": "string",
    "instructor": "string or null",
    "department": "string or null",
    "institution": "string or null",
    "credits": "number or null",
    "meetingTimes": "string or null (include lab times if applicable)",
    "semester": "string or null",
    "year": "string or null",
    "courseType": "lecture|lab|seminar|hybrid",
    "location": "string or null (lab room, classroom, etc.)"
  },
  "learningObjectives": [
    "string (each objective as separate item)"
  ],
  "schedule": [
    {
      "week": "number",
      "topic": "string",
      "description": "string or null",
      "readings": ["string"] or null,
      "assignments": ["string"] or null,
      "dueDate": "string or null",
      "notes": "string or null",
      "experimentType": "string or null (for lab courses)",
      "equipmentNeeded": ["string"] or null
    }
  ],
  "prerequisites": [
    "string (each prerequisite course/requirement)"
  ],
  "textbooks": [
    {
      "title": "string",
      "author": "string or null",
      "edition": "string or null",
      "isbn": "string or null",
      "required": "boolean"
    }
  ],
  "gradingPolicy": [
    {
      "component": "string (e.g., Exams, Homework, Projects)",
      "percentage": "number (e.g., 40, not '40%')",
      "description": "string or null"
    }
  ],
  "assignments": [
    {
      "name": "string",
      "description": "string",
      "type": "string (exam|project|homework|quiz|presentation|lab_report|lab_practical)",
      "dueDate": "string or null",
      "points": "number or null",
      "weight": "number or null (for weighted assignments)"
    }
  ],
  "policies": {
    "attendance": "string or null",
    "lateWork": "string or null",
    "academicIntegrity": "string or null",
    "accommodations": "string or null",
    "communication": "string or null",
    "safety": "string or null (lab safety requirements)",
    "groupWork": "string or null (partner/group work policies)",
    "makeupPolicy": "string or null (make-up lab/exam policies)"
  },
  "contactInfo": {
    "email": "string or null",
    "phone": "string or null",
    "office": "string or null",
    "officeHours": "string or null",
    "website": "string or null"
  },
  "additionalResources": {
    "software": ["string"] or null,
    "equipment": ["string"] or null,
    "websites": ["string"] or null,
    "tutoring": "string or null",
    "learningPlatform": "string or null (Moodle, Blackboard, etc.)"
  },
  "labSpecific": {
    "safetyRequirements": ["string"] or null,
    "requiredEquipment": ["string"] or null,
    "dresscode": ["string"] or null,
    "notebookRequirements": "string or null",
    "groupWorkStructure": "string or null",
    "makeupPolicy": "string or null"
  }
}

${n?`File name: ${n}`:""}

Syllabus content to analyze:
${r}
`}validateAndSanitizeResponse(r){var o,a,c,d,f,p,g,k,v,y,w,x,A,D;const n={courseInfo:{title:"Course Title",number:"COURSE 101",description:"Course description not available"},learningObjectives:[],schedule:[],prerequisites:[],textbooks:[],gradingPolicy:[],assignments:[],policies:{},contactInfo:{},additionalResources:{}};try{return{courseInfo:{...n.courseInfo,...r.courseInfo},learningObjectives:Array.isArray(r.learningObjectives)?r.learningObjectives:[],schedule:Array.isArray(r.schedule)?r.schedule.map((M,P)=>({week:typeof M.week=="number"?M.week:P+1,topic:M.topic||`Week ${P+1} Topic`,description:M.description||null,readings:Array.isArray(M.readings)?M.readings:null,assignments:Array.isArray(M.assignments)?M.assignments:null,dueDate:M.dueDate||null,notes:M.notes||null})):[],prerequisites:Array.isArray(r.prerequisites)?r.prerequisites:[],textbooks:Array.isArray(r.textbooks)?r.textbooks.map(M=>({title:M.title||"Unknown Textbook",author:M.author||null,edition:M.edition||null,isbn:M.isbn||null,required:typeof M.required=="boolean"?M.required:!0})):[],gradingPolicy:Array.isArray(r.gradingPolicy)?r.gradingPolicy.map(M=>({component:M.component||"Unknown Component",percentage:typeof M.percentage=="number"?M.percentage:0,description:M.description||null})):[],assignments:Array.isArray(r.assignments)?r.assignments.map(M=>({name:M.name||"Assignment",description:M.description||"",type:M.type||"homework",dueDate:M.dueDate||null,points:typeof M.points=="number"?M.points:null})):[],policies:{attendance:((o=r.policies)==null?void 0:o.attendance)||null,lateWork:((a=r.policies)==null?void 0:a.lateWork)||null,academicIntegrity:((c=r.policies)==null?void 0:c.academicIntegrity)||null,accommodations:((d=r.policies)==null?void 0:d.accommodations)||null,communication:((f=r.policies)==null?void 0:f.communication)||null},contactInfo:{email:((p=r.contactInfo)==null?void 0:p.email)||null,phone:((g=r.contactInfo)==null?void 0:g.phone)||null,office:((k=r.contactInfo)==null?void 0:k.office)||null,officeHours:((v=r.contactInfo)==null?void 0:v.officeHours)||null,website:((y=r.contactInfo)==null?void 0:y.website)||null},additionalResources:{software:Array.isArray((w=r.additionalResources)==null?void 0:w.software)?r.additionalResources.software:null,equipment:Array.isArray((x=r.additionalResources)==null?void 0:x.equipment)?r.additionalResources.equipment:null,websites:Array.isArray((A=r.additionalResources)==null?void 0:A.websites)?r.additionalResources.websites:null,tutoring:((D=r.additionalResources)==null?void 0:D.tutoring)||null}}}catch(E){return console.error("Error validating AI response:",E),n}}async generateCourseMaterials(r,n){const o=`
Based on the following course information, generate detailed course materials in JSON format.

CRITICAL REQUIREMENTS:
1. Return ONLY valid JSON - absolutely NO explanatory text, comments, or additional content
2. Do not add any text before or after the JSON array
3. Do not include comments like "// ..." in the JSON
4. Generate materials for ALL available weeks/sessions from the course information

Create materials for:
1. Course Overview (with detailed description, objectives, and policies)  
2. Weekly/session materials for ALL weeks found in the schedule
3. Assignment descriptions where applicable

Course Information:
${JSON.stringify(r,null,2)}

Generate materials for ${(n==null?void 0:n.includeWeeks)||r.schedule.length} weeks/sessions.

Return ONLY a JSON array of materials with this structure:
[
  {
    "id": "unique-id",
    "title": "Material Title",
    "type": "overview|weekly|assignment|resource",
    "header": {"title": "string", "content": "string"},
    "sections": [
      {
        "id": "section-id",
        "title": "Section Title",
        "content": "HTML formatted content",
        "subsections": [
          {
            "id": "subsection-id",
            "title": "Subsection Title",
            "content": "HTML formatted content"
          }
        ]
      }
    ],
    "footer": {"title": "string", "content": "string"},
    "published": false,
    "scheduledTimestamp": "ISO date string or null"
  }
]
`;try{const d=(await(await this.model.generateContent(o)).response).text();if(!d||d.trim().length===0)return console.warn("Empty response from AI service for material generation"),[];let f=d.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();const p=f.lastIndexOf("]");p!==-1&&(f=f.substring(0,p+1));let g;try{g=JSON.parse(f)}catch(k){return console.error("JSON parsing failed for material generation:",k),console.error("Raw response text:",d),console.error("Cleaned text:",f),console.warn("Falling back to empty materials array"),[]}return Array.isArray(g)?g:(console.warn("AI response is not an array, wrapping in array:",g),g?[g]:[])}catch(a){return console.error("Error generating materials:",a),[]}}}let Y0=null;const iT=t=>{const r="AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8";if(!Y0&&r&&(Y0=new Sne(r)),!Y0)throw new Error("Gemini service not initialized. Please configure VITE_GEMINI_API_KEY environment variable.");return Y0},Kd=()=>Math.random().toString(36).substr(2,9),Ene=t=>t.length?`<ul>${t.map(n=>`<li>${n}</li>`).join("")}</ul>`:"<p>No objectives specified</p>",Dne=t=>t.length?`<ul>${t.map(n=>`<li>${n}</li>`).join("")}</ul>`:"<p>No readings assigned</p>",Ph=b1()(zA(zP((t,r)=>({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null,setUploadedFile:n=>t({uploadedFile:n}),setUploadProgress:n=>t({uploadProgress:n}),setExtractedText:n=>t({extractedText:n}),setAIExtractedInfo:n=>t({aiExtractedInfo:n}),setUseAIProcessing:n=>t({useAIProcessing:n}),setParsedCourseInfo:n=>t({parsedCourseInfo:n}),setGeneratedMaterials:n=>t({generatedMaterials:n}),setCurrentStep:n=>t({currentStep:n}),setIsProcessing:n=>t({isProcessing:n}),setError:n=>t({error:n}),setProcessingProgress:n=>t({processingProgress:n}),uploadSyllabus:async n=>{const o=Gte(n);if(!o.isValid){t({error:o.error,currentStep:"upload"});return}const a=Kte(n);t({uploadedFile:n,uploadProgress:0,error:null,extractionMetadata:{fileName:n.name,fileSize:n.size,fileType:Yte(n),estimatedProcessingTime:a},processingProgress:{stage:"uploading",percentage:0,currentOperation:"Preparing file for processing..."}});try{for(let c=0;c<=100;c+=20)t({uploadProgress:c,processingProgress:{stage:"uploading",percentage:c,currentOperation:c===100?"Upload complete, starting text extraction...":`Uploading file... ${c}%`}}),await new Promise(d=>setTimeout(d,100));t({currentStep:"processing",isProcessing:!0,processingProgress:{stage:"extracting",percentage:0,currentOperation:"Extracting text from document..."}}),await r().extractTextFromFile(),t({processingProgress:{stage:"analyzing",percentage:0,currentOperation:r().useAIProcessing?"Analyzing syllabus with AI...":"Parsing syllabus content..."}}),await r().parseSyllabus()}catch(c){t({error:c instanceof Error?c.message:"Failed to upload file",currentStep:"upload"})}},extractTextFromFile:async()=>{const{uploadedFile:n}=r();if(!n){t({error:"No file uploaded"});return}t({isProcessing:!0,error:null});try{const o=await Wte(n);t({extractedText:o.text,extractionMetadata:{...r().extractionMetadata,...o.metadata},isProcessing:!1})}catch(o){t({error:o.message||"Failed to extract text from file",isProcessing:!1})}},parseSyllabus:async()=>{const{extractedText:n,uploadedFile:o,useAIProcessing:a}=r();if(!n){t({error:"No text to parse"});return}t({isProcessing:!0,error:null});try{let c;if(a)try{t({processingProgress:{stage:"analyzing",percentage:25,currentOperation:"Sending syllabus to AI for analysis..."}});const f=await iT().processSyllabusText(n,o==null?void 0:o.name);t({processingProgress:{stage:"analyzing",percentage:75,currentOperation:"Processing AI analysis results..."}}),t({aiExtractedInfo:f}),c={suggestedTitle:f.courseInfo.title||"Course Title",suggestedNumber:f.courseInfo.number||"COURSE 101",suggestedDescription:f.courseInfo.description||"Course description not available",objectives:f.learningObjectives.length>0?f.learningObjectives:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:f.schedule.map(p=>({week:p.week,topic:p.topic,description:p.description,readings:p.readings||[],assignments:p.assignments||[],date:p.dueDate?new Date(p.dueDate):void 0})),prerequisites:f.prerequisites,textbook:f.textbooks.length>0?f.textbooks[0].title:"",grading:f.gradingPolicy.map(p=>`${p.component}: ${p.percentage}%`).join(", "),instructor:f.courseInfo.instructor,department:f.courseInfo.department,institution:f.courseInfo.institution,credits:f.courseInfo.credits,semester:f.courseInfo.semester,year:f.courseInfo.year,contactInfo:f.contactInfo,policies:f.policies,textbooks:f.textbooks,gradingComponents:f.gradingPolicy,assignments:f.assignments}}catch(d){console.warn("AI processing failed, falling back to pattern-based parsing:",d),c=await r().fallbackParsing(n)}else c=await r().fallbackParsing(n);t({parsedCourseInfo:c}),t({processingProgress:{stage:"generating",percentage:0,currentOperation:"Generating course materials..."}}),await r().generateMaterials()}catch(c){t({error:c instanceof Error?c.message:"Failed to parse syllabus",isProcessing:!1})}},fallbackParsing:async n=>{var v,y;const o=n.split(`
`).filter(w=>w.trim()),a=o.find(w=>{const x=w.toLowerCase();return(x.includes("course")||x.includes("class"))&&(x.includes("title")||x.includes("name")||w.includes(":"))}),c=o.find(w=>{const x=w.toLowerCase();return x.includes("description")||x.includes("overview")||x.includes("about this course")}),d=o.find(w=>/[A-Z]{2,4}\s*\d{3,4}/.test(w)||w.toLowerCase().includes("course number")),f=o.findIndex(w=>{const x=w.toLowerCase();return x.includes("objective")||x.includes("learning outcome")||x.includes("goals")||x.includes("by the end of this course")}),p=[];if(f!==-1)for(let w=f+1;w<o.length&&w<f+15;w++){const x=o[w].trim();x&&(x.startsWith("-")||x.startsWith("•")||x.match(/^\d+\./)||x.startsWith("*"))?p.push(x.replace(/^[-•\d.*]\s*/,"")):x&&p.length===0&&p.push(x)}const g=[];for(let w=1;w<=16;w++){const x=new RegExp(`week\\s*${w}|${w}\\s*week`,"i"),A=o.find(D=>x.test(D));if(A){const D=A.replace(/week\s*\d+:?\s*/i,"").trim()||`Week ${w} Topic`;g.push({week:w,topic:D,description:`Content and activities for week ${w}`,readings:[],assignments:[]})}else g.push({week:w,topic:`Week ${w} Topic`,description:`Content for week ${w}`,readings:[],assignments:[]})}let k="COURSE 101";if(d){const w=d.match(/[A-Z]{2,4}\s*\d{3,4}/);w&&(k=w[0])}return{suggestedTitle:a&&((v=a.split(":").slice(-1)[0])==null?void 0:v.trim())||"Course Title",suggestedNumber:k,suggestedDescription:c&&((y=c.split(":").slice(-1)[0])==null?void 0:y.trim())||n.substring(0,300)+"...",objectives:p.length>0?p:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:g.slice(0,15),prerequisites:[],textbook:"",grading:""}},generateMaterials:async()=>{const{parsedCourseInfo:n,aiExtractedInfo:o,useAIProcessing:a}=r();if(!n){t({error:"No parsed course info available"});return}t({isProcessing:!0,error:null});try{let c=[];if(a&&o)try{const f=await iT().generateCourseMaterials(o,{includeWeeks:o.schedule.length,materialTypes:["overview","weekly","assignment"]});f&&f.length>0?c=f.map(p=>({id:p.id||Kd(),title:p.title||"Generated Material",header:p.header||{title:"Header",content:`<p>${p.title||"Material"}</p>`},footer:p.footer||{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:p.sections||[],published:p.published||!1,scheduledTimestamp:p.scheduledTimestamp?new Date(p.scheduledTimestamp):void 0})):(console.warn("AI material generation returned empty results, using fallback"),c=r().generateFallbackMaterials(n))}catch(d){console.warn("AI material generation failed, using fallback:",d),c=r().generateFallbackMaterials(n)}else c=r().generateFallbackMaterials(n);t({generatedMaterials:c,isProcessing:!1,currentStep:"review",processingProgress:{stage:"complete",percentage:100,currentOperation:"Processing complete! Review your course materials below."}})}catch(c){t({error:c instanceof Error?c.message:"Failed to generate materials",isProcessing:!1})}},generateFallbackMaterials:n=>{const o=[];return o.push({id:Kd(),title:`${n.suggestedNumber} - Course Overview`,header:{title:"Course Overview",content:`<p>${n.suggestedTitle}</p>`},footer:{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:[{id:Kd(),title:"Course Description",content:`<p>${n.suggestedDescription}</p>`,subsections:[],images:[],links:[]},{id:Kd(),title:"Learning Objectives",content:Ene(n.objectives),subsections:[],images:[],links:[]}],published:!1}),n.schedule.slice(0,6).forEach(a=>{o.push({id:Kd(),title:`Week ${a.week}: ${a.topic}`,header:{title:`Week ${a.week}`,content:`<p>${a.topic}</p>`},footer:{title:"Footer",content:"<p>Review materials before next class</p>"},sections:[{id:Kd(),title:"Overview",content:`<p>${a.description||`Topics and activities for week ${a.week}`}</p>`,subsections:a.readings&&a.readings.length>0?[{id:Kd(),title:"Required Readings",content:Dne(a.readings),subSubsections:[],images:[],links:[]}]:[],images:[],links:[]}],published:!1,scheduledTimestamp:a.date})}),o},editMaterial:(n,o)=>{const{generatedMaterials:a}=r(),c=[...a];c[n]={...c[n],...o},t({generatedMaterials:c})},editCourseInfo:n=>{const{parsedCourseInfo:o}=r();o&&t({parsedCourseInfo:{...o,...n}})},reset:()=>t({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null})}),{name:"syllabus-store",partialize:t=>({extractedText:t.extractedText,extractionMetadata:t.extractionMetadata,aiExtractedInfo:t.aiExtractedInfo,useAIProcessing:t.useAIProcessing,parsedCourseInfo:t.parsedCourseInfo,generatedMaterials:t.generatedMaterials,currentStep:t.currentStep})}))),Hm={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"256599ed-a0a2-496f-990d-c51faaefd71a",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},$m={GEMINI_API_KEY:"VITE_GEMINI_API_KEY",ENABLE_AI_PROCESSING:"VITE_ENABLE_AI_PROCESSING",MAX_RETRIES:"VITE_AI_MAX_RETRIES",TIMEOUT:"VITE_AI_TIMEOUT",FALLBACK_TO_PATTERN:"VITE_AI_FALLBACK_TO_PATTERN"},Ine=()=>({geminiApiKey:Hm[$m.GEMINI_API_KEY],enableAIProcessing:Hm[$m.ENABLE_AI_PROCESSING]!=="false",maxRetries:parseInt(Hm[$m.MAX_RETRIES]||"3",10),timeout:parseInt(Hm[$m.TIMEOUT]||"30000",10),fallbackToPatternParsing:Hm[$m.FALLBACK_TO_PATTERN]!=="false"}),k8=t=>{const r=[];return t.enableAIProcessing&&!t.geminiApiKey&&r.push("Gemini API key is required when AI processing is enabled"),(t.maxRetries<0||t.maxRetries>10)&&r.push("Max retries must be between 0 and 10"),(t.timeout<1e3||t.timeout>12e4)&&r.push("Timeout must be between 1 second and 2 minutes"),{isValid:r.length===0,errors:r}},w8=()=>{const t=Ine(),r=k8(t);return{config:t,...r}},oT=({onUploadComplete:t,apiKey:r})=>{const{uploadedFile:n,uploadProgress:o,error:a,isProcessing:c,useAIProcessing:d,processingProgress:f,uploadSyllabus:p,setUploadedFile:g,setError:k}=Ph(),[v,y]=K.useState(!1),w=K.useMemo(()=>["text/plain","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],[]),x=K.useMemo(()=>[".txt",".pdf",".docx"],[]),A=K.useCallback(async N=>{const q=(Q=>{if(!w.includes(Q.type))return`Unsupported file type. Please upload ${x.join(", ")} files.`;const $=10*1024*1024;return Q.size>$?"File size too large. Please upload files smaller than 10MB.":null})(N);if(q){k(q);return}try{await p(N,r),t==null||t(N)}catch(Q){console.error("Upload error:",Q)}},[p,t,k,w,x,r]),D=K.useCallback(N=>{N.preventDefault(),y(!1);const j=Array.from(N.dataTransfer.files);j.length>0&&A(j[0])},[A]),E=K.useCallback(N=>{N.preventDefault(),y(!0)},[]),M=K.useCallback(N=>{N.preventDefault(),y(!1)},[]),P=K.useCallback(N=>{const j=N.target.files;j&&j.length>0&&A(j[0]),N.target.value=""},[A]),F=K.useCallback(()=>{g(null),k(null)},[g,k]),H=N=>{if(N===0)return"0 Bytes";const j=1024,q=["Bytes","KB","MB","GB"],Q=Math.floor(Math.log(N)/Math.log(j));return parseFloat((N/Math.pow(j,Q)).toFixed(2))+" "+q[Q]},V=()=>C.jsx(hW,{color:"primary"});return C.jsxs(Fe,{sx:{width:"100%",maxWidth:600,mx:"auto"},children:[!n&&C.jsxs(Fn,{sx:{p:4,border:"2px dashed",borderColor:v?"primary.main":"grey.300",backgroundColor:v?"primary.50":"background.paper",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center","&:hover":{borderColor:"primary.main",backgroundColor:"primary.50"}},onDragOver:E,onDragLeave:M,onDrop:D,onClick:()=>{var N;return(N=document.getElementById("syllabus-file-input"))==null?void 0:N.click()},children:[C.jsx(dW,{sx:{fontSize:48,color:v?"primary.main":"grey.400",mb:2}}),C.jsx(Ve,{variant:"h6",gutterBottom:!0,children:"Upload Your Syllabus"}),C.jsx(Ve,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Drag and drop your syllabus file here, or click to browse"}),C.jsx(Fe,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center"},children:x.map(N=>C.jsx(Zr,{label:N.toUpperCase(),size:"small",variant:"outlined",color:"primary"},N))}),C.jsx(Ve,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"Maximum file size: 10MB"}),C.jsx("input",{id:"syllabus-file-input",type:"file",accept:w.join(","),onChange:P,style:{display:"none"}})]}),n&&C.jsxs(Fn,{sx:{p:3,mb:2},children:[C.jsxs(Fe,{sx:{display:"flex",alignItems:"center",gap:2},children:[V(),C.jsxs(Fe,{sx:{flexGrow:1},children:[C.jsx(Ve,{variant:"subtitle1",sx:{fontWeight:500},children:n.name}),C.jsx(Ve,{variant:"body2",color:"text.secondary",children:H(n.size)})]}),!c&&C.jsx(ir,{onClick:F,color:"error",size:"small",children:C.jsx(td,{})})]}),o>0&&o<100&&C.jsxs(Fe,{sx:{mt:2},children:[C.jsx(ok,{variant:"determinate",value:o,sx:{height:6,borderRadius:3}}),C.jsxs(Ve,{variant:"caption",sx:{mt:1,display:"block"},children:["Uploading... ",o,"%"]})]}),c&&C.jsx(Fe,{sx:{mt:2},children:f?C.jsxs(C.Fragment,{children:[C.jsxs(Fe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[C.jsx(Zr,{label:f.stage.charAt(0).toUpperCase()+f.stage.slice(1),size:"small",color:"primary",variant:"outlined"}),C.jsxs(Ve,{variant:"caption",color:"text.secondary",children:[f.percentage,"%"]})]}),C.jsx(ok,{variant:"determinate",value:f.percentage,sx:{height:6,borderRadius:3,mb:1}}),C.jsx(Ve,{variant:"caption",sx:{display:"block",color:"text.secondary"},children:f.currentOperation})]}):C.jsxs(C.Fragment,{children:[C.jsx(ok,{sx:{height:6,borderRadius:3}}),C.jsx(Ve,{variant:"caption",sx:{mt:1,display:"block"},children:d?"AI is analyzing your syllabus...":"Processing syllabus..."})]})})]}),a&&C.jsx(xr,{severity:"error",sx:{mt:2},onClose:()=>k(null),children:a}),C.jsxs(Fn,{sx:{p:2,mt:2,backgroundColor:"info.50"},children:[C.jsx(Ve,{variant:"body2",color:"info.main",sx:{fontWeight:500,mb:1},children:"💡 Tips for best results:"}),C.jsxs(Ve,{variant:"body2",color:"text.secondary",component:"ul",sx:{m:0,pl:2},children:[C.jsx("li",{children:"Include course objectives and weekly schedule"}),C.jsx("li",{children:"List reading assignments and materials"}),C.jsx("li",{children:"Text files (.txt) work best for parsing"}),C.jsx("li",{children:"Ensure text is well-structured with clear headings"})]})]})]})},Tne=({onContinue:t})=>{var M;const{parsedCourseInfo:r,editCourseInfo:n,error:o,isProcessing:a,currentStep:c}=Ph(),[d,f]=K.useState(!1),[p,g]=K.useState(null);if(!r)return C.jsx(xr,{severity:"warning",children:"No course information available. Please upload and process a syllabus first."});if(a||c==="processing")return C.jsx(xr,{severity:"info",children:C.jsx(Ve,{variant:"body2",children:"📊 Processing complete! Preparing course information for review..."})});const k=()=>{g({...r}),f(!0)},v=()=>{p&&(n(p),f(!1),g(null))},y=()=>{f(!1),g(null)},w=()=>{p&&g({...p,objectives:[...p.objectives,"New objective"]})},x=P=>{if(p){const F=p.objectives.filter((H,V)=>V!==P);g({...p,objectives:F})}},A=(P,F)=>{if(p){const H=[...p.objectives];H[P]=F,g({...p,objectives:H})}},D=(P,F,H)=>{if(p){const V=[...p.schedule];V[P]={...V[P],[F]:H},g({...p,schedule:V})}},E=d?p:r;return E?C.jsx(Fe,{sx:{maxWidth:800,mx:"auto"},children:C.jsxs(Fn,{sx:{p:3},children:[C.jsxs(Fe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[C.jsx(Ve,{variant:"h5",component:"h2",children:"Course Information Preview"}),d?C.jsxs(Fe,{sx:{display:"flex",gap:1},children:[C.jsx(xt,{startIcon:C.jsx(ik,{}),onClick:v,variant:"contained",color:"primary",children:"Save"}),C.jsx(xt,{startIcon:C.jsx(fW,{}),onClick:y,variant:"outlined",children:"Cancel"})]}):C.jsx(xt,{startIcon:C.jsx(Oc,{}),onClick:k,variant:"outlined",children:"Edit Details"})]}),o&&C.jsx(xr,{severity:"error",sx:{mb:3},children:o}),C.jsxs(Kt,{container:!0,spacing:3,children:[C.jsx(Kt,{item:!0,xs:12,md:6,children:C.jsx(Sn,{fullWidth:!0,label:"Course Number",value:E.suggestedNumber,onChange:P=>d&&p&&g({...p,suggestedNumber:P.target.value}),disabled:!d,variant:d?"outlined":"filled"})}),C.jsx(Kt,{item:!0,xs:12,md:6,children:C.jsx(Sn,{fullWidth:!0,label:"Course Title",value:E.suggestedTitle,onChange:P=>d&&p&&g({...p,suggestedTitle:P.target.value}),disabled:!d,variant:d?"outlined":"filled"})}),C.jsx(Kt,{item:!0,xs:12,children:C.jsx(Sn,{fullWidth:!0,multiline:!0,rows:4,label:"Course Description",value:E.suggestedDescription,onChange:P=>d&&p&&g({...p,suggestedDescription:P.target.value}),disabled:!d,variant:d?"outlined":"filled"})})]}),C.jsx(Us,{sx:{my:3}}),C.jsxs(Fe,{sx:{mb:3},children:[C.jsxs(Fe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[C.jsxs(Ve,{variant:"h6",children:["Learning Objectives (",E.objectives.length,")"]}),d&&C.jsx(ir,{onClick:w,color:"primary",children:C.jsx(cP,{})})]}),C.jsx(Fe,{sx:{display:"flex",flexDirection:"column",gap:2},children:E.objectives.map((P,F)=>C.jsxs(Fe,{sx:{display:"flex",alignItems:"center",gap:1},children:[C.jsxs(Ve,{variant:"body2",sx:{minWidth:24,color:"text.secondary"},children:[F+1,"."]}),d?C.jsxs(C.Fragment,{children:[C.jsx(Sn,{fullWidth:!0,multiline:!0,value:P,onChange:H=>A(F,H.target.value),size:"small"}),C.jsx(ir,{onClick:()=>x(F),color:"error",size:"small",children:C.jsx(td,{})})]}):C.jsx(Ve,{variant:"body2",children:P})]},F))})]}),C.jsx(Us,{sx:{my:3}}),C.jsxs(vg,{children:[C.jsx(_g,{expandIcon:C.jsx(Fc,{}),children:C.jsxs(Ve,{variant:"h6",children:["Course Schedule (",E.schedule.length," weeks)"]})}),C.jsx(Ag,{children:C.jsx(Fe,{sx:{display:"flex",flexDirection:"column",gap:2},children:E.schedule.map((P,F)=>C.jsx(Fn,{sx:{p:2,backgroundColor:"grey.50"},children:C.jsxs(Kt,{container:!0,spacing:2,alignItems:"center",children:[C.jsx(Kt,{item:!0,xs:12,sm:1,children:C.jsx(Zr,{label:`W${P.week}`,size:"small",color:"primary"})}),C.jsx(Kt,{item:!0,xs:12,sm:5,children:d?C.jsx(Sn,{fullWidth:!0,size:"small",label:"Topic",value:P.topic,onChange:H=>D(F,"topic",H.target.value)}):C.jsx(Ve,{variant:"body2",sx:{fontWeight:500},children:P.topic})}),C.jsx(Kt,{item:!0,xs:12,sm:6,children:d?C.jsx(Sn,{fullWidth:!0,size:"small",label:"Description",value:P.description||"",onChange:H=>D(F,"description",H.target.value)}):C.jsx(Ve,{variant:"body2",color:"text.secondary",children:P.description||"No description"})})]})},F))})})]}),(((M=E.prerequisites)==null?void 0:M.length)||E.textbook||E.grading)&&C.jsxs(C.Fragment,{children:[C.jsx(Us,{sx:{my:3}}),C.jsx(Ve,{variant:"h6",sx:{mb:2},children:"Additional Information"}),C.jsxs(Kt,{container:!0,spacing:2,children:[E.prerequisites&&E.prerequisites.length>0&&C.jsxs(Kt,{item:!0,xs:12,md:4,children:[C.jsx(Ve,{variant:"subtitle2",sx:{mb:1},children:"Prerequisites:"}),C.jsx(Ve,{variant:"body2",color:"text.secondary",children:E.prerequisites.join(", ")})]}),E.textbook&&C.jsxs(Kt,{item:!0,xs:12,md:4,children:[C.jsx(Ve,{variant:"subtitle2",sx:{mb:1},children:"Textbook:"}),C.jsx(Ve,{variant:"body2",color:"text.secondary",children:E.textbook})]}),E.grading&&C.jsxs(Kt,{item:!0,xs:12,md:4,children:[C.jsx(Ve,{variant:"subtitle2",sx:{mb:1},children:"Grading:"}),C.jsx(Ve,{variant:"body2",color:"text.secondary",children:E.grading})]})]})]}),t&&C.jsx(Fe,{sx:{mt:4,textAlign:"right"},children:C.jsx(xt,{variant:"contained",color:"primary",size:"large",onClick:t,disabled:d,children:"Continue to Materials Preview"})})]})}):null},Nne=({onContinue:t,onBack:r})=>{const{generatedMaterials:n,editMaterial:o,error:a}=Ph(),[c,d]=K.useState(null),[f,p]=K.useState(null);if(!n.length)return C.jsx(xr,{severity:"warning",children:"No materials generated. Please go back and process a syllabus first."});const g=E=>{d({index:E,material:{...n[E]}})},k=()=>{c&&(o(c.index,c.material),d(null))},v=()=>{d(null)},y=E=>{p(E)},w=E=>{const M=n[E];o(E,{published:!M.published})},x=(E,M=150)=>{const P=E.replace(/<[^>]*>/g,"");return P.length>M?P.substring(0,M)+"...":P},A=E=>E.toLowerCase().includes("overview")?C.jsx(rI,{color:"primary"}):E.toLowerCase().includes("week")?C.jsx(mW,{color:"secondary"}):C.jsx(rI,{color:"action"}),D=n.filter(E=>E.published).length;return C.jsxs(Fe,{sx:{maxWidth:1e3,mx:"auto"},children:[C.jsxs(Fn,{sx:{p:3,mb:3},children:[C.jsxs(Fe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[C.jsx(Ve,{variant:"h5",component:"h2",children:"Generated Course Materials"}),C.jsx(Zr,{label:`${D}/${n.length} will be published`,color:"primary",variant:"outlined"})]}),C.jsx(Ve,{variant:"body2",color:"text.secondary",children:"Review and customize the course materials generated from your syllabus. You can edit content, toggle publication status, and organize materials before creating your course."}),a&&C.jsx(xr,{severity:"error",sx:{mt:2},children:a})]}),C.jsx(Kt,{container:!0,spacing:3,children:n.map((E,M)=>C.jsx(Kt,{item:!0,xs:12,md:6,lg:4,children:C.jsxs(Ik,{sx:{height:"100%",display:"flex",flexDirection:"column",border:E.published?"2px solid":"1px solid",borderColor:E.published?"success.main":"divider"},children:[C.jsxs(rP,{sx:{flexGrow:1},children:[C.jsxs(Fe,{sx:{display:"flex",alignItems:"flex-start",gap:1,mb:2},children:[A(E.title),C.jsxs(Fe,{sx:{flexGrow:1},children:[C.jsx(Ve,{variant:"h6",component:"h3",sx:{fontSize:"1rem",lineHeight:1.3,mb:1},children:E.title}),C.jsxs(Fe,{sx:{display:"flex",gap:1,alignItems:"center"},children:[C.jsx(Vu,{control:C.jsx(Hu,{checked:E.published,onChange:()=>w(M),size:"small"}),label:C.jsx(Ve,{variant:"caption",children:E.published?"Publish":"Draft"}),sx:{mr:0}}),E.scheduledTimestamp&&C.jsx(Zr,{label:"Scheduled",size:"small",variant:"outlined",color:"info"})]})]})]}),C.jsxs(Ve,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[C.jsx("strong",{children:"Sections:"})," ",E.sections.length]}),E.sections[0]&&C.jsxs(Fe,{sx:{mb:2},children:[C.jsx(Ve,{variant:"subtitle2",sx:{mb:1},children:E.sections[0].title}),C.jsx(Ve,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.85rem",fontStyle:"italic"},children:x(E.sections[0].content)})]})]}),C.jsxs(pW,{children:[C.jsx(xt,{size:"small",startIcon:C.jsx(uP,{}),onClick:()=>y(E),children:"Preview"}),C.jsx(xt,{size:"small",startIcon:C.jsx(Oc,{}),onClick:()=>g(M),children:"Edit"})]})]})},E.id))}),C.jsxs(Fe,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[r&&C.jsx(xt,{variant:"outlined",onClick:r,size:"large",children:"Back to Course Info"}),t&&C.jsxs(xt,{variant:"contained",color:"primary",onClick:t,size:"large",disabled:D===0,children:["Create Course with ",D," Materials"]})]}),C.jsxs(uo,{open:c!==null,onClose:v,maxWidth:"md",fullWidth:!0,children:[C.jsxs(ho,{children:["Edit Material: ",c==null?void 0:c.material.title]}),C.jsx(fo,{children:c&&C.jsxs(Fe,{sx:{pt:1},children:[C.jsx(Sn,{fullWidth:!0,label:"Material Title",value:c.material.title,onChange:E=>d({...c,material:{...c.material,title:E.target.value}}),sx:{mb:3}}),C.jsx(Ve,{variant:"h6",sx:{mb:2},children:"Header"}),C.jsx(Sn,{fullWidth:!0,label:"Header Title",value:c.material.header.title,onChange:E=>d({...c,material:{...c.material,header:{...c.material.header,title:E.target.value}}}),sx:{mb:2}}),C.jsx(Sn,{fullWidth:!0,multiline:!0,rows:2,label:"Header Content",value:c.material.header.content,onChange:E=>d({...c,material:{...c.material,header:{...c.material.header,content:E.target.value}}}),sx:{mb:3}}),C.jsx(Ve,{variant:"h6",sx:{mb:2},children:"Sections"}),c.material.sections.map((E,M)=>C.jsxs(vg,{sx:{mb:2},children:[C.jsx(_g,{expandIcon:C.jsx(Fc,{}),children:C.jsx(Ve,{children:E.title})}),C.jsxs(Ag,{children:[C.jsx(Sn,{fullWidth:!0,label:"Section Title",value:E.title,onChange:P=>{const F=[...c.material.sections];F[M]={...F[M],title:P.target.value},d({...c,material:{...c.material,sections:F}})},sx:{mb:2}}),C.jsx(Sn,{fullWidth:!0,multiline:!0,rows:4,label:"Section Content",value:E.content,onChange:P=>{const F=[...c.material.sections];F[M]={...F[M],content:P.target.value},d({...c,material:{...c.material,sections:F}})}})]})]},E.id))]})}),C.jsxs(po,{children:[C.jsx(xt,{onClick:v,children:"Cancel"}),C.jsx(xt,{onClick:k,variant:"contained",children:"Save Changes"})]})]}),C.jsxs(uo,{open:f!==null,onClose:()=>p(null),maxWidth:"md",fullWidth:!0,children:[C.jsx(ho,{children:f==null?void 0:f.title}),C.jsx(fo,{children:f&&C.jsxs(Fe,{sx:{pt:1},children:[C.jsxs(Fn,{sx:{p:2,mb:3,backgroundColor:"primary.50"},children:[C.jsx(Ve,{variant:"h6",color:"primary",children:f.header.title}),C.jsx(Ve,{variant:"body2",sx:{mt:1},children:f.header.content.replace(/<[^>]*>/g,"")})]}),f.sections.map(E=>C.jsxs(Fe,{sx:{mb:3},children:[C.jsx(Ve,{variant:"h6",sx:{mb:2},children:E.title}),C.jsx(Ve,{variant:"body1",sx:{mb:2},children:E.content.replace(/<[^>]*>/g,"")}),E.subsections.map(M=>C.jsxs(Fe,{sx:{ml:2,mb:2},children:[C.jsx(Ve,{variant:"subtitle1",sx:{mb:1},children:M.title}),C.jsx(Ve,{variant:"body2",color:"text.secondary",children:M.content.replace(/<[^>]*>/g,"")})]},M.id))]},E.id)),C.jsx(Fn,{sx:{p:2,backgroundColor:"grey.50"},children:C.jsx(Ve,{variant:"body2",color:"text.secondary",children:f.footer.content.replace(/<[^>]*>/g,"")})})]})}),C.jsx(po,{children:C.jsx(xt,{onClick:()=>p(null),children:"Close"})})]})]})},Mne=({onConfigChange:t,compact:r=!1})=>{const{useAIProcessing:n,setUseAIProcessing:o}=Ph(),[a,c]=K.useState(null);K.useEffect(()=>{const{config:k,isValid:v,errors:y}=w8();c({config:k,isValid:v,errors:y})},[]);const d=k=>{if(o(k),a){const v={...a.config,enableAIProcessing:k},y=k8(v);c({config:v,...y}),t==null||t(v)}},f=()=>a?a.isValid&&n?C.jsx(TA,{color:"success"}):!a.isValid&&n?C.jsx(bW,{color:"error"}):C.jsx(iI,{color:"action"}):C.jsx(iI,{color:"action"}),p=()=>n?a?a.isValid?"AI processing ready - enhanced syllabus analysis enabled":`Configuration issues: ${a.errors.join(", ")}`:"Loading configuration...":"AI processing disabled - using pattern-based parsing",g=()=>n?a?a.isValid?"success":"error":"info":"warning";return r?C.jsxs(Fe,{sx:{display:"flex",alignItems:"center",gap:2},children:[f(),C.jsx(Vu,{control:C.jsx(Hu,{checked:n,onChange:k=>d(k.target.checked),size:"small"}),label:"AI Processing"}),C.jsx(Gs,{title:p(),children:C.jsx(gW,{fontSize:"small",color:"action"})})]}):C.jsx(Fn,{sx:{p:2,mb:2},children:C.jsxs(vg,{children:[C.jsx(_g,{expandIcon:C.jsx(Fc,{}),children:C.jsxs(Fe,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[f(),C.jsxs(Fe,{sx:{flexGrow:1},children:[C.jsx(Ve,{variant:"subtitle1",sx:{fontWeight:500},children:"AI-Powered Processing Settings"}),C.jsx(Ve,{variant:"caption",color:"text.secondary",children:p()})]}),C.jsx(Zr,{label:n?"Enabled":"Disabled",color:n?"success":"default",size:"small"})]})}),C.jsx(Ag,{children:C.jsxs(Kt,{container:!0,spacing:3,children:[C.jsx(Kt,{item:!0,xs:12,children:C.jsx(Vu,{control:C.jsx(Hu,{checked:n,onChange:k=>d(k.target.checked)}),label:C.jsxs(Fe,{children:[C.jsx(Ve,{variant:"body2",sx:{fontWeight:500},children:"Enable AI-Powered Analysis"}),C.jsx(Ve,{variant:"caption",color:"text.secondary",children:"Use Google Gemini to extract structured information from syllabi"})]})})}),n&&C.jsx(Kt,{item:!0,xs:12,children:C.jsxs(Fn,{sx:{p:2,backgroundColor:a!=null&&a.isValid?"success.50":"error.50",border:"1px solid",borderColor:a!=null&&a.isValid?"success.200":"error.200"},children:[C.jsx(Ve,{variant:"subtitle2",sx:{mb:1,color:a!=null&&a.isValid?"success.main":"error.main"},children:a!=null&&a.isValid?"✅ API Configuration":"❌ API Configuration"}),C.jsx(Ve,{variant:"body2",color:"text.secondary",children:a!=null&&a.isValid?"Gemini API key is configured and ready for use.":"Gemini API key is required. Please add VITE_GEMINI_API_KEY to your environment variables."})]})}),C.jsx(Kt,{item:!0,xs:12,children:C.jsxs(xr,{severity:g(),sx:{mb:2},children:[C.jsx(Ve,{variant:"body2",children:p()}),(a==null?void 0:a.errors)&&a.errors.length>0&&C.jsx(Fe,{sx:{mt:1},children:a.errors.map((k,v)=>C.jsxs(Ve,{variant:"caption",display:"block",children:["• ",k]},v))})]})}),n&&(a==null?void 0:a.isValid)&&C.jsx(Kt,{item:!0,xs:12,children:C.jsxs(Fn,{sx:{p:2,backgroundColor:"primary.50",border:"1px solid",borderColor:"primary.200"},children:[C.jsx(Ve,{variant:"subtitle2",sx:{mb:1,color:"primary.main"},children:"🚀 Enhanced Features with AI:"}),C.jsxs(Kt,{container:!0,spacing:1,children:[C.jsxs(Kt,{item:!0,xs:12,sm:6,children:[C.jsx(Ve,{variant:"caption",display:"block",children:"✓ Intelligent course information extraction"}),C.jsx(Ve,{variant:"caption",display:"block",children:"✓ Automatic learning objectives identification"}),C.jsx(Ve,{variant:"caption",display:"block",children:"✓ Smart schedule parsing and organization"})]}),C.jsxs(Kt,{item:!0,xs:12,sm:6,children:[C.jsx(Ve,{variant:"caption",display:"block",children:"✓ Grading policy analysis"}),C.jsx(Ve,{variant:"caption",display:"block",children:"✓ Assignment and due date extraction"}),C.jsx(Ve,{variant:"caption",display:"block",children:"✓ Enhanced material generation"})]})]})]})}),!n&&C.jsx(Kt,{item:!0,xs:12,children:C.jsxs(Fn,{sx:{p:2,backgroundColor:"warning.50",border:"1px solid",borderColor:"warning.200"},children:[C.jsx(Ve,{variant:"subtitle2",sx:{mb:1,color:"warning.main"},children:"📝 Pattern-Based Processing:"}),C.jsx(Ve,{variant:"caption",color:"text.secondary",children:"Using traditional text parsing methods. Results may be less accurate than AI processing. Enable AI processing for better extraction accuracy."})]})})]})})]})})},y8=({onComplete:t,onCancel:r})=>{const{currentStep:n,setCurrentStep:o,parsedCourseInfo:a,generatedMaterials:c,isProcessing:d,error:f,useAIProcessing:p,processingProgress:g,reset:k}=Ph(),[v,y]=K.useState(null);st.useEffect(()=>{const{config:H}=w8();y(H)},[]);const w=[{label:"Upload Syllabus",description:"Upload your syllabus document"},{label:"Review Course Info",description:"Verify and edit course information"},{label:"Review Materials",description:"Customize generated course materials"}],x=()=>{switch(n){case"upload":case"processing":return 0;case"review":return 1;case"editing":return 2;case"complete":return 2;default:return 0}},A=()=>{o("editing")},D=()=>{o("review")},E=()=>{if(a&&c.length>0){const H=c.filter(V=>V.published);t==null||t({courseInfo:a,materials:H})}},M=()=>{k(),r==null||r()},P=H=>{y(H)},F=()=>{switch(n){case"upload":case"processing":return C.jsx(oT,{onUploadComplete:()=>{}});case"review":return C.jsx(Tne,{onContinue:A});case"editing":case"complete":return C.jsx(Nne,{onContinue:E,onBack:D});default:return C.jsx(oT,{onUploadComplete:()=>{}})}};return C.jsxs(Fe,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:3},children:[C.jsxs(Fn,{sx:{p:3,mb:4},children:[C.jsx(Ve,{variant:"h4",component:"h1",gutterBottom:!0,children:"Import Course from Syllabus"}),C.jsx(Ve,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Upload your syllabus document and we'll automatically create a course structure with organized materials based on your content."}),C.jsx(kW,{activeStep:x(),alternativeLabel:!0,children:w.map(H=>C.jsx(wW,{children:C.jsxs(yW,{children:[C.jsx(Ve,{variant:"body2",sx:{fontWeight:500},children:H.label}),C.jsx(Ve,{variant:"caption",color:"text.secondary",children:H.description})]})},H.label))})]}),n==="upload"&&C.jsx(Mne,{onConfigChange:P,compact:!1}),f&&C.jsx(xr,{severity:"error",sx:{mb:3},onClose:()=>{},children:f}),d&&C.jsx(xr,{severity:"info",sx:{mb:3},children:C.jsx(Ve,{variant:"body2",children:p?"🤖 AI is analyzing your syllabus for enhanced data extraction... This may take 10-30 seconds.":"🔄 Processing your syllabus with pattern-based analysis... This may take a moment."})}),C.jsx(Fe,{sx:{minHeight:400},children:F()}),n!=="upload"&&r&&C.jsx(Fe,{sx:{display:"flex",justifyContent:"center",mt:3},children:C.jsx(xt,{variant:"outlined",color:"secondary",onClick:M,size:"small",children:"Cancel & Return to Manual Entry"})}),!1]})},Jk=t=>{if(t==null)return null;if(t instanceof Date)return t;if(Array.isArray(t))return t.map(Jk).filter(r=>r!=null);if(typeof t=="object"){const r={};return Object.keys(t).forEach(n=>{const o=t[n];if(o!==void 0){const a=Jk(o);a!=null&&(r[n]=a)}}),r}return t},Pne=()=>{const{userDetails:t}=xi(),r=Fr(),n=Xn(),[o,a]=K.useState(""),[c,d]=K.useState(""),[f,p]=K.useState(""),[g,k]=K.useState(""),[v,y]=K.useState(""),[w,x]=K.useState(""),[A,D]=K.useState(""),[E,M]=K.useState("primary"),[P,F]=K.useState("manual"),{parsedCourseInfo:H,generatedMaterials:V,reset:N,currentStep:j}=Ph(),[q,Q]=K.useState(!1),[$,R]=K.useState(!1),[Y,B]=K.useState("");K.useEffect(()=>{(P==="manual"||E==="co-instructor")&&N()},[P,E,N]),K.useEffect(()=>{E==="primary"&&P==="syllabus"&&H&&(y(H.suggestedNumber||""),x(H.suggestedTitle||""),D(H.suggestedDescription||""))},[E,P,H]);const ne=pe=>we=>{pe(we.target.value)},de=pe=>{const we=pe.target.value;M(we),we==="co-instructor"&&(F("manual"),y(""),x(""),D(""))},ae=(pe,we)=>{we!==null&&(F(we),we==="syllabus"&&(y(""),x(""),D("")))},oe=()=>{if(!o||!c||!f||!g||!v||!w)return"Please fill in all required fields.";if(E==="primary"){if(P==="manual"&&!A)return"Please provide a course description.";if(P==="syllabus"){if(!H)return"Please complete the syllabus import process first.";if(!A)return"Please ensure course description is properly filled from your syllabus."}}return null},ye=pe=>{console.log("Syllabus import completed for educator request:",pe)},re=async()=>{const pe=oe();if(pe){B(pe),R(!0);return}Q(!0);try{const we={uid:(t==null?void 0:t.uid)||"",firstName:o||"",lastName:c||"",institution:f||"",email:g||"",courseNumber:v||"",courseTitle:w||"",courseDescription:E==="primary"?A||"":"CO-INSTRUCTOR REQUEST",requestType:E||"primary",status:"pending",timestamp:new Date,syllabusImported:!1};if(E==="primary"&&P==="syllabus"&&H&&V.length>0){const rt={parsedCourseInfo:H,generatedMaterials:V.filter(Qe=>Qe.published)},Ke=Jk(rt);we.syllabusImported=!0,we.syllabusData=Ke}const Pe=Jk(we);console.log("Submitting clean educator request document:",Pe);const Te=await Sa(Zn(n,"educatorRequests"),Pe),Ne={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Educator Request Submitted${E==="primary"&&P==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new educator request has been submitted:</p>
            <p><strong>Name:</strong> ${o} ${c}</p>
            <p><strong>Email:</strong> ${g}</p>
            <p><strong>Institution:</strong> ${f}</p>
            <p><strong>Course:</strong> ${v} - ${w}</p>
            <p><strong>Request Type:</strong> ${E}</p>
            ${E==="primary"?`<p><strong>Course Creation Method:</strong> ${P==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>`:""}
            ${E==="primary"&&P==="syllabus"&&V.length>0?`<p><strong>Generated Materials:</strong> ${V.filter(rt=>rt.published).length} materials ready for publication</p>`:""}
            <p><strong>Description:</strong> ${A}</p>
            <p><strong>Request ID:</strong> ${Te.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/educator-requests">
            Click here to review the request.
            </a></p>
          `}};await Sa(Zn(n,"mail"),Ne),B(E==="primary"&&P==="syllabus"&&V.length>0?`Your educator request has been submitted for review with ${V.filter(rt=>rt.published).length} auto-generated course materials.`:"Your request has been submitted for review."),a(""),d(""),p(""),k(""),y(""),x(""),D(""),M("primary"),F("manual"),P==="syllabus"&&N(),R(!0),setTimeout(()=>{r("/my-profile")},3e3)}catch(we){console.error("Error submitting request: ",we),we instanceof Error&&console.error("Error details:",{message:we.message,name:we.name,stack:we.stack}),B("Error submitting your request. Please try again."),R(!0)}finally{Q(!1)}},xe=()=>{R(!1)},X=()=>{r("/my-profile")},Z=E==="primary"&&P==="syllabus"&&j!=="upload"&&!H,se=E==="primary"&&P==="syllabus"&&(j==="review"||j==="editing"||j==="complete")&&H;return C.jsxs(Fe,{className:"request-form-container",sx:{padding:3,maxWidth:"1400px",mx:"auto"},children:[C.jsx(Fe,{sx:{display:"flex",alignItems:"center",mb:3},children:C.jsx(xt,{variant:"text",onClick:X,className:"back-home-button",children:"← My Account"})}),C.jsxs(Fe,{className:"request-form-outline",sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:4,border:"1px solid #e3f2fd",minWidth:"100%"},children:[C.jsx(Ve,{variant:"h5",component:"h1",className:"request-form-title",sx:{mb:3},children:"Request Educator Permissions"}),C.jsxs(Kt,{item:!0,xs:12,sx:{mb:3},children:[C.jsx(Ya,{htmlFor:"request-type",required:!0,children:"Request Type"}),C.jsxs(Ql,{id:"request-type",name:"request-type",value:E,onChange:de,fullWidth:!0,required:!0,disabled:q,sx:{mt:1},children:[C.jsx(Ar,{value:"primary",children:"I am a primary course instructor, I want to create a new course"}),C.jsx(Ar,{value:"co-instructor",children:"I am a co-instructor, I want to be added to an existing course"})]})]}),C.jsx(Ve,{variant:"h6",component:"h2",sx:{mb:2},children:"Personal Information"}),C.jsxs(Kt,{container:!0,spacing:3,children:[C.jsxs(Kt,{item:!0,xs:12,md:6,children:[C.jsx(Ya,{htmlFor:"first-name",required:!0,children:"First Name"}),C.jsx(Pl,{id:"first-name",name:"first-name",value:o,onChange:ne(a),placeholder:"John",fullWidth:!0,required:!0,disabled:q})]}),C.jsxs(Kt,{item:!0,xs:12,md:6,children:[C.jsx(Ya,{htmlFor:"last-name",required:!0,children:"Last Name"}),C.jsx(Pl,{id:"last-name",name:"last-name",value:c,onChange:ne(d),placeholder:"Doe",fullWidth:!0,required:!0,disabled:q})]}),C.jsxs(Kt,{item:!0,xs:12,children:[C.jsx(Ya,{htmlFor:"institution",required:!0,children:"Institution Affiliation"}),C.jsx(Pl,{id:"institution",name:"institution",value:f,onChange:ne(p),placeholder:"University Name",fullWidth:!0,required:!0,disabled:q})]}),C.jsxs(Kt,{item:!0,xs:12,children:[C.jsx(Ya,{htmlFor:"email",required:!0,children:"Institutional Email"}),C.jsx(Pl,{id:"email",name:"email",value:g,onChange:ne(k),placeholder:"name@institution.edu",fullWidth:!0,required:!0,disabled:q}),C.jsx(Ve,{variant:"caption",sx:{mt:1},children:"Please use your institutional email to confirm your affiliation."})]})]}),C.jsx(Us,{sx:{my:4}}),C.jsx(Ve,{variant:"h6",component:"h2",sx:{mb:2},children:E==="primary"?"New Course Details":"Existing Course Details"}),E==="primary"&&C.jsxs(Fn,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[C.jsx(Ve,{variant:"subtitle1",sx:{mb:2},children:"How would you like to create your course?"}),C.jsxs(dP,{value:P,exclusive:!0,onChange:ae,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[C.jsxs(Nk,{value:"manual","aria-label":"manual entry",children:[C.jsx(Oc,{sx:{mr:1}}),"Manual Entry"]}),C.jsxs(Nk,{value:"syllabus","aria-label":"syllabus import",children:[C.jsx(hP,{sx:{mr:1}}),"Import from Syllabus"]})]}),C.jsx(Ve,{variant:"body2",color:"text.secondary",children:P==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),E==="primary"&&P==="syllabus"&&C.jsx(Fe,{sx:{mb:4},children:C.jsx(y8,{onComplete:ye,onCancel:()=>F("manual")})}),(E==="co-instructor"||E==="primary"&&P==="manual")&&C.jsxs(Kt,{container:!0,spacing:3,sx:{mb:4},children:[C.jsxs(Kt,{item:!0,xs:12,md:6,children:[C.jsx(Ya,{htmlFor:"course-number",required:!0,children:"Course Number"}),C.jsx(Pl,{id:"course-number",name:"course-number",value:v,onChange:ne(y),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:q})]}),C.jsxs(Kt,{item:!0,xs:12,md:6,children:[C.jsx(Ya,{htmlFor:"course-title",required:!0,children:"Course Title"}),C.jsx(Pl,{id:"course-title",name:"course-title",value:w,onChange:ne(x),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:q})]}),E==="primary"&&C.jsxs(Kt,{item:!0,xs:12,children:[C.jsx(Ya,{htmlFor:"course-description",required:!0,children:"Course Description"}),C.jsx(Pl,{id:"course-description",name:"course-description",value:A,onChange:ne(D),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:q})]})]}),(E==="co-instructor"||E==="primary"&&P==="manual"||se)&&C.jsxs(Fe,{sx:{mt:4},children:[C.jsx(xt,{variant:"contained",color:"primary",onClick:re,fullWidth:!0,className:"submit-button",sx:{py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},disabled:q||Z,children:q?C.jsxs(C.Fragment,{children:[C.jsx(di,{size:24,color:"inherit",sx:{mr:1}}),"Submitting Request..."]}):`Submit Request${E==="primary"&&P==="syllabus"&&V.length>0?` with ${V.filter(pe=>pe.published).length} Materials`:""}`}),C.jsxs(Ve,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",C.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})]}),C.jsxs(uo,{open:$,onClose:xe,children:[C.jsx(ho,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:C.jsx(TA,{sx:{color:"green",fontSize:50,marginRight:1}})}),C.jsx(fo,{children:C.jsx(fs,{sx:{textAlign:"center"},children:Y})}),C.jsx(po,{children:C.jsx(xt,{onClick:xe,color:"primary",autoFocus:!0,children:"Close"})})]})]})]})},One=()=>{const[t,r]=K.useState([]),[n,o]=K.useState([]),[a,c]=K.useState(""),[d,f]=K.useState(!1),[p,g]=K.useState(""),[k,v]=K.useState("success"),[y,w]=K.useState(!1),[x,A]=K.useState(null),[D,E]=K.useState(null),[M,P]=K.useState(null),F=Xn(),H=Fr();K.useEffect(()=>{(async()=>{const ne=(await go(Zn(F,"educatorRequests"))).docs.map(oe=>({id:oe.id,...oe.data()})),ae=(await go(Zn(F,"courses"))).docs.map(oe=>({id:oe.id,...oe.data()}));r(ne),o(ae)})()},[F]);function V(){const Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let B="";for(let ne=0;ne<28;ne++)B+=Y.charAt(Math.floor(Math.random()*Y.length));return B}const N=async()=>{var Y,B;if(!(!D||!M)){if(!M.courseNumber||!M.courseTitle){g("Course number or title is missing. Cannot approve request."),v("error"),f(!0);return}if(M.requestType==="co-instructor"&&!a){g("Please select a course for the co-instructor request."),v("error"),f(!0);return}if(M.status!=="pending"){g("This request has already been processed."),v("warning"),f(!0);return}try{const ne=An(F,"users",M.uid);if(M.requestType==="primary"){const de=V(),ae=await Sa(Zn(F,"courses"),{number:M.courseNumber,title:M.courseTitle,passcode:de,courseAdmin:[M.uid]}),oe=await us(ne),ye=oe.exists()?((Y=oe.data())==null?void 0:Y.classes)||{}:{};await Rr(ne,{isAdmin:!0,classes:{...ye,[ae.id]:{number:M.courseNumber,title:M.courseTitle,isCourseAdmin:!0}}}),await Rr(An(F,"educatorRequests",D),{status:"approved",courseId:ae.id,passcode:de})}else if(M.requestType==="co-instructor"){if(!a){g("Please select a course for the co-instructor request."),v("error"),f(!0);return}const de=An(F,"courses",a);await Rr(de,{courseAdmin:YW(M.uid)});const ae=await us(ne),oe=ae.exists()?((B=ae.data())==null?void 0:B.classes)||{}:{};await Rr(ne,{isAdmin:!0,classes:{...oe,[a]:{number:M.courseNumber,title:M.courseTitle,isCourseAdmin:!0}}}),await Rr(An(F,"educatorRequests",D),{status:"approved",courseId:a})}g("Request approved, and user promoted to educator."),v("success"),r(de=>de.map(ae=>ae.id===D?{...ae,status:"approved"}:ae))}catch(ne){console.error("Error approving request: ",ne),g("Error approving the request. Please try again."),v("error")}f(!0),Q()}},j=async()=>{if(D){try{await Rr(An(F,"educatorRequests",D),{status:"denied"}),g("Request denied."),v("success"),r(t.map(Y=>Y.id===D?{...Y,status:"denied"}:Y))}catch(Y){console.error("Error denying request: ",Y),g("Error denying the request. Please try again."),v("error")}f(!0),Q()}},q=(Y,B,ne)=>{A(Y),E(B),P(ne),c(""),w(!0)},Q=()=>{w(!1),A(null),E(null),P(null)},$=()=>{f(!1)},R=()=>{H("/")};return C.jsxs(Fe,{sx:{padding:3},children:[C.jsx(Fe,{sx:{display:"flex",alignItems:"center"},children:C.jsx(xt,{variant:"text",onClick:R,sx:{mr:2},children:"← Home Page"})}),C.jsx(Ve,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:3},children:"Educator Permission Requests"}),C.jsx(nd,{component:Fn,children:C.jsxs(rd,{children:[C.jsx(id,{children:C.jsxs(mo,{children:[C.jsx(It,{children:"Name"}),C.jsx(It,{children:"User ID"}),C.jsx(It,{children:"Institution"}),C.jsx(It,{children:"Email"}),C.jsx(It,{children:"Course Number"}),C.jsx(It,{children:"Course Title"}),C.jsx(It,{children:"Course Description"}),C.jsx(It,{children:"Timestamp"}),C.jsx(It,{children:"Actions"})]})}),C.jsx(od,{children:t.map(Y=>C.jsxs(mo,{children:[C.jsx(It,{children:`${Y.firstName} ${Y.lastName}`}),C.jsx(It,{children:Y.uid}),C.jsx(It,{children:Y.institution}),C.jsx(It,{children:Y.email}),C.jsx(It,{children:Y.courseNumber}),C.jsx(It,{children:Y.courseTitle}),C.jsx(It,{children:Y.courseDescription}),C.jsx(It,{children:new Date(Y.timestamp.seconds*1e3).toLocaleString()}),C.jsxs(It,{children:[Y.status==="pending"&&C.jsxs(C.Fragment,{children:[C.jsx(xt,{variant:"contained",color:"primary",sx:{mr:1},onClick:()=>q("approve",Y.id,Y),children:"Approve"}),C.jsx(xt,{variant:"contained",color:"secondary",onClick:()=>q("deny",Y.id,Y),children:"Deny"})]}),Y.status==="approved"&&C.jsx(Ve,{color:"success.main",children:"Approved"}),Y.status==="denied"&&C.jsx(Ve,{color:"error.main",children:"Denied"})]})]},Y.id))})]})}),C.jsx(Wo,{open:d,autoHideDuration:6e3,onClose:$,children:C.jsx(xr,{onClose:$,severity:k,sx:{width:"100%"},children:p})}),C.jsxs(uo,{open:y,onClose:Q,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",children:[C.jsx(ho,{id:"confirmation-dialog-title",children:x==="approve"?"Confirm Approval":"Confirm Denial"}),C.jsxs(fo,{children:[C.jsxs(fs,{id:"confirmation-dialog-description",children:["Are you sure you want to ",x," this request for ",M==null?void 0:M.firstName," ",M==null?void 0:M.lastName,"?"]}),x==="approve"&&(M==null?void 0:M.requestType)==="co-instructor"&&C.jsxs(Fe,{sx:{mt:2},children:[C.jsx(Ve,{children:"Select Course:"}),C.jsx(Ql,{fullWidth:!0,value:a,onChange:Y=>c(Y.target.value),children:n.map(Y=>C.jsx(Ar,{value:Y.id,children:`${Y.number} - ${Y.title}`},Y.id))})]})]}),C.jsxs(po,{children:[C.jsx(xt,{onClick:Q,color:"primary",children:"Cancel"}),C.jsx(xt,{onClick:x==="approve"?N:j,color:"primary",variant:"contained",autoFocus:!0,disabled:(M==null?void 0:M.requestType)==="co-instructor"&&!a,children:"Confirm"})]})]})]})},Zk=t=>{if(t==null)return null;if(t instanceof Date)return t;if(Array.isArray(t))return t.map(Zk).filter(r=>r!=null);if(typeof t=="object"){const r={};return Object.keys(t).forEach(n=>{const o=t[n];if(o!==void 0){const a=Zk(o);a!=null&&(r[n]=a)}}),r}return t},Lne=()=>{const{userDetails:t}=xi(),r=Fr(),n=Xn(),[o,a]=K.useState("manual"),[c,d]=K.useState(""),[f,p]=K.useState(""),[g,k]=K.useState(""),{parsedCourseInfo:v,generatedMaterials:y,reset:w,currentStep:x}=Ph(),[A,D]=K.useState(!1),[E,M]=K.useState(!1),[P,F]=K.useState("");K.useEffect(()=>{o==="manual"&&w()},[o,w]),K.useEffect(()=>{o==="syllabus"&&v&&(d(v.suggestedNumber||""),p(v.suggestedTitle||""),k(v.suggestedDescription||""))},[o,v]);const H=B=>ne=>{B(ne.target.value)},V=(B,ne)=>{ne!==null&&(a(ne),ne==="syllabus"&&(d(""),p(""),k("")))},N=()=>{if(o==="manual"){if(!c||!f||!g)return"Please fill in all required fields."}else if(o==="syllabus"){if(!v)return"Please complete the syllabus import process first.";if(!c||!f||!g)return"Please ensure course information is properly filled from your syllabus."}return null},j=B=>{console.log("Syllabus import completed:",B),q()},q=async()=>{const B=N();if(B){F(B),M(!0);return}D(!0);try{const ne={uid:(t==null?void 0:t.uid)||"",courseNumber:c||"",courseTitle:f||"",courseDescription:g||"",status:"pending",timestamp:new Date,syllabusImported:!1};if(o==="syllabus"&&v&&y.length>0){const ye={parsedCourseInfo:v,generatedMaterials:y.filter(xe=>xe.published)},re=Zk(ye);ne.syllabusImported=!0,ne.syllabusData=re}const de=Zk(ne);console.log("Submitting clean request document:",de);const ae=await Sa(Zn(n,"courseRequests"),de),oe={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Course Request Submitted${o==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new course request has been submitted:</p>
            <p><strong>Educator ID:</strong> ${(t==null?void 0:t.uid)||"Unknown"}</p>
            <p><strong>Course:</strong> ${c} - ${f}</p>
            <p><strong>Description:</strong> ${g}</p>
            <p><strong>Creation Method:</strong> ${o==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>
            ${o==="syllabus"&&y.length>0?`<p><strong>Generated Materials:</strong> ${y.filter(ye=>ye.published).length} materials ready for publication</p>`:""}
            <p><strong>Request ID:</strong> ${ae.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/course-requests">
            Click here to review the request.
            </a></p>
          `}};await Sa(Zn(n,"mail"),oe),F(o==="syllabus"?`Your course request has been submitted for review with ${y.filter(ye=>ye.published).length} auto-generated materials.`:"Your course request has been submitted for review."),d(""),p(""),k(""),o==="syllabus"&&w(),M(!0),setTimeout(()=>{r("/course-management")},3e3)}catch(ne){console.error("Error submitting course request: ",ne),ne instanceof Error&&console.error("Error details:",{message:ne.message,name:ne.name,stack:ne.stack}),F("Error submitting your course request. Please try again."),M(!0)}finally{D(!1)}},Q=()=>{M(!1)},$=()=>{r("/course-management")},R=o==="syllabus"&&x!=="upload"&&!v,Y=o==="syllabus"&&(x==="review"||x==="editing"||x==="complete")&&v;return C.jsxs(Fe,{className:"request-form-container",sx:{padding:3,maxWidth:"1400px",mx:"auto"},children:[C.jsx(Fe,{sx:{display:"flex",alignItems:"center",mb:3},children:C.jsx(xt,{variant:"text",onClick:$,className:"back-home-button",children:"← Course Management"})}),C.jsxs(Fe,{className:"request-form-outline",sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:4,border:"1px solid #e3f2fd",minWidth:"100%"},children:[C.jsx(Ve,{variant:"h5",component:"h1",className:"request-form-title",sx:{mb:3},children:"Request Creating a New Course"}),C.jsxs(Fn,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[C.jsx(Ve,{variant:"h6",sx:{mb:2},children:"How would you like to create your course?"}),C.jsxs(dP,{value:o,exclusive:!0,onChange:V,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[C.jsxs(Nk,{value:"manual","aria-label":"manual entry",children:[C.jsx(Oc,{sx:{mr:1}}),"Manual Entry"]}),C.jsxs(Nk,{value:"syllabus","aria-label":"syllabus import",children:[C.jsx(hP,{sx:{mr:1}}),"Import from Syllabus"]})]}),C.jsx(Ve,{variant:"body2",color:"text.secondary",children:o==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),o==="syllabus"&&C.jsx(Fe,{sx:{mb:4},children:C.jsx(y8,{onComplete:j,onCancel:()=>a("manual")})}),o==="manual"&&C.jsxs(Kt,{container:!0,spacing:3,children:[C.jsxs(Kt,{item:!0,xs:12,md:6,children:[C.jsx(Ya,{htmlFor:"course-number",required:!0,children:"Course Number"}),C.jsx(Pl,{id:"course-number",name:"course-number",value:c,onChange:H(d),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:A})]}),C.jsxs(Kt,{item:!0,xs:12,md:6,children:[C.jsx(Ya,{htmlFor:"course-title",required:!0,children:"Course Title"}),C.jsx(Pl,{id:"course-title",name:"course-title",value:f,onChange:H(p),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:A})]}),C.jsxs(Kt,{item:!0,xs:12,children:[C.jsx(Ya,{htmlFor:"course-description",required:!0,children:"Course Description"}),C.jsx(Pl,{id:"course-description",name:"course-description",value:g,onChange:H(k),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:A})]})]}),(o==="manual"||Y)&&C.jsxs(Fe,{sx:{mt:4},children:[C.jsx(xt,{variant:"contained",color:"primary",onClick:q,fullWidth:!0,className:"submit-button",disabled:A||R,sx:{py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},children:A?C.jsxs(C.Fragment,{children:[C.jsx(di,{size:24,color:"inherit",sx:{mr:1}}),"Submitting Request..."]}):`Submit Request${o==="syllabus"&&y.length>0?` with ${y.filter(B=>B.published).length} Materials`:""}`}),C.jsxs(Ve,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",C.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})]}),C.jsxs(uo,{open:E,onClose:Q,children:[C.jsx(ho,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:C.jsx(TA,{sx:{color:"green",fontSize:50,marginRight:1}})}),C.jsx(fo,{children:C.jsx(fs,{sx:{textAlign:"center"},children:P})}),C.jsx(po,{children:C.jsx(xt,{onClick:Q,color:"primary",autoFocus:!0,children:"Close"})})]})]})]})},Bne=()=>{var q,Q;const[t,r]=K.useState([]),[n,o]=K.useState(!1),[a,c]=K.useState(""),[d,f]=K.useState("success"),[p,g]=K.useState(!1),[k,v]=K.useState(null),[y,w]=K.useState(null),[x,A]=K.useState(null),D=Xn(),E=Fr();K.useEffect(()=>{(async()=>{try{const Y=(await go(Zn(D,"courseRequests"))).docs.map(B=>({id:B.id,...B.data()}));Y.sort((B,ne)=>B.status==="pending"&&ne.status!=="pending"||B.status==="approved"&&ne.status==="denied"?-1:B.status==="denied"&&ne.status==="approved"?1:0),r(Y)}catch(R){console.error("Error fetching course requests: ",R)}})()},[D]);function M(){const $="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let R="";for(let Y=0;Y<28;Y++)R+=$.charAt(Math.floor(Math.random()*$.length));return R}const P=async()=>{var $,R;if(!(!y||!x)){try{const Y=M(),B=await Sa(Zn(D,"courses"),{number:x.courseNumber,title:x.courseTitle,passcode:Y,courseAdmin:[x.uid]}),ne=An(D,"users",x.uid),de=await us(ne),ae=de.exists()?(($=de.data())==null?void 0:$.classes)||{}:{};await Rr(ne,{classes:{...ae,[B.id]:{number:x.courseNumber,title:x.courseTitle,isCourseAdmin:!0}}});let oe=0;if(x.syllabusImported&&((R=x.syllabusData)!=null&&R.generatedMaterials)){const re=LA(D);x.syllabusData.generatedMaterials.forEach(xe=>{const X=An(Zn(D,"materials")),Z={title:xe.title||"Untitled Material",header:xe.header||{title:"",content:""},footer:xe.footer||{title:"",content:""},sections:(xe.sections||[]).map(se=>({...se,images:se.images||[],links:se.links||[],subsections:(se.subsections||[]).map(pe=>({...pe,images:pe.images||[],links:pe.links||[],subSubsections:(pe.subSubsections||[]).map(we=>({...we,images:we.images||[],links:we.links||[]}))}))})),published:!0,course:B.id,author:x.uid,timestamp:Pk.now(),createdAt:new Date,updatedAt:new Date};xe.scheduledTimestamp&&(Z.scheduledTimestamp=Pk.fromDate(xe.scheduledTimestamp)),re.set(X,Z),oe++}),await re.commit(),console.log(`Created ${oe} materials from syllabus`)}await Rr(An(D,"courseRequests",y),{status:"approved",courseId:B.id,passcode:Y});const ye={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"Your Course Request Has Been Approved",html:`
            <p>Your course request has been approved:</p>
            <p><strong>Course:</strong> ${x.courseNumber} - ${x.courseTitle}</p>
            <p><strong>Passcode:</strong> ${Y}</p>
            ${x.syllabusImported&&oe>0?`<p><strong>Materials Created:</strong> ${oe} materials have been automatically added to your course from your syllabus import.</p>`:""}
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/supplemental-materials">
            Click here to view your course.
            </a></p>
          `}};await Sa(Zn(D,"mail"),ye),c(`Course request approved, course added${oe>0?` with ${oe} materials`:""}.`),f("success"),r(re=>re.map(xe=>xe.id===y?{...xe,status:"approved"}:xe))}catch(Y){console.error("Error approving request: ",Y),c("Error approving the request. Please try again."),f("error")}o(!0),V()}},F=async()=>{if(y){try{await Rr(An(D,"courseRequests",y),{status:"denied"}),c("Course request denied."),f("success"),r(t.map($=>$.id===y?{...$,status:"denied"}:$))}catch($){console.error("Error denying request: ",$),c("Error denying the request. Please try again."),f("error")}o(!0),V()}},H=($,R,Y)=>{v($),w(R),A(Y),g(!0)},V=()=>{g(!1),v(null),w(null),A(null)},N=()=>{o(!1)},j=()=>{E("/")};return C.jsxs(Fe,{sx:{padding:3},children:[C.jsx(Fe,{sx:{display:"flex",alignItems:"center"},children:C.jsx(xt,{variant:"text",onClick:j,sx:{mr:2},children:"← Home Page"})}),C.jsx(Ve,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:3},children:"Course Creation Requests"}),C.jsx(nd,{component:Fn,children:C.jsxs(rd,{children:[C.jsx(id,{children:C.jsxs(mo,{children:[C.jsx(It,{children:"Educator ID"}),C.jsx(It,{children:"Course Number"}),C.jsx(It,{children:"Course Title"}),C.jsx(It,{children:"Course Description"}),C.jsx(It,{children:"Creation Method"}),C.jsx(It,{children:"Timestamp"}),C.jsx(It,{children:"Actions"})]})}),C.jsx(od,{children:t.map($=>{var R,Y,B;return C.jsxs(mo,{children:[C.jsx(It,{children:$.uid}),C.jsx(It,{children:$.courseNumber}),C.jsx(It,{children:$.courseTitle}),C.jsx(It,{children:$.courseDescription.length>100?`${$.courseDescription.substring(0,100)}...`:$.courseDescription}),C.jsx(It,{children:$.syllabusImported?C.jsxs(Fe,{children:[C.jsx(Ve,{variant:"body2",color:"primary",sx:{fontWeight:"bold"},children:"Syllabus Import"}),C.jsxs(Ve,{variant:"caption",color:"text.secondary",children:[((Y=(R=$.syllabusData)==null?void 0:R.generatedMaterials)==null?void 0:Y.length)||0," materials"]})]}):C.jsx(Ve,{variant:"body2",color:"text.secondary",children:"Manual Entry"})}),C.jsx(It,{children:(B=$.timestamp)!=null&&B.seconds?new Date($.timestamp.seconds*1e3).toLocaleString():"Invalid Date"}),C.jsxs(It,{children:[$.status==="pending"&&C.jsxs(C.Fragment,{children:[C.jsx(xt,{variant:"contained",color:"success",size:"small",onClick:()=>H("approve",$.id,$),sx:{mr:1},children:"Approve"}),C.jsx(xt,{variant:"outlined",color:"error",size:"small",onClick:()=>H("deny",$.id,$),children:"Deny"})]}),$.status==="approved"&&C.jsx(Ve,{variant:"body2",color:"success.main",sx:{fontWeight:"bold"},children:"Approved"}),$.status==="denied"&&C.jsx(Ve,{variant:"body2",color:"error.main",sx:{fontWeight:"bold"},children:"Denied"})]})]},$.id)})})]})}),C.jsxs(uo,{open:p,onClose:V,children:[C.jsx(ho,{children:k==="approve"?"Approve Course Request":"Deny Course Request"}),C.jsx(fo,{children:C.jsx(fs,{children:k==="approve"?C.jsxs(C.Fragment,{children:["Are you sure you want to approve this course request?",(x==null?void 0:x.syllabusImported)&&C.jsxs(Fe,{sx:{mt:2,p:2,backgroundColor:"info.light",borderRadius:1},children:[C.jsx(Ve,{variant:"body2",sx:{fontWeight:"bold"},children:"📚 Syllabus Import Detected"}),C.jsxs(Ve,{variant:"body2",children:["This request includes ",((Q=(q=x==null?void 0:x.syllabusData)==null?void 0:q.generatedMaterials)==null?void 0:Q.length)||0," auto-generated materials that will be added to the course."]})]})]}):"Are you sure you want to deny this course request?"})}),C.jsxs(po,{children:[C.jsx(xt,{onClick:V,color:"primary",children:"Cancel"}),C.jsx(xt,{onClick:k==="approve"?P:F,color:k==="approve"?"success":"error",variant:"contained",children:k==="approve"?"Approve":"Deny"})]})]}),C.jsx(Wo,{open:n,autoHideDuration:6e3,onClose:N,children:C.jsx(xr,{onClose:N,severity:d,sx:{width:"100%"},children:a})})]})},jne=()=>{const t=Xn(),{userDetails:r}=xi(),[n,o]=K.useState([]),[a,c]=K.useState(!0),[d,f]=K.useState(!1),[p,g]=K.useState(""),[k,v]=K.useState("info"),[y,w]=K.useState(!1),[x,A]=K.useState(""),[D,E]=K.useState(""),M=Fr();K.useEffect(()=>{(async()=>{c(!0);try{const R=(await go(Zn(t,"courses"))).docs.map(Y=>{const B=Y.data();return{id:Y.id,title:B.title||"Untitled",number:B.number||"N/A",courseAdmin:B.courseAdmin||[]}});o(R)}catch($){console.error("Error fetching courses: ",$)}finally{c(!1)}})()},[t]);const P=async Q=>{if(!r){V("User details are not available.","error");return}const $=n.find(R=>R.id===Q);if($&&r)try{if($.courseAdmin.includes(r.uid)){V("You are already an admin for this course.","warning");return}const R=An(t,"courses",Q),Y=[...$.courseAdmin,r.uid];await Rr(R,{courseAdmin:Y});const B=An(t,"users",r.uid);await Rr(B,{[`classes.${Q}`]:{number:$.number,title:$.title,isCourseAdmin:!0}}),o(n.map(ne=>ne.id===Q?{...ne,courseAdmin:Y}:ne)),V("You have been successfully added as an admin to this course.","success")}catch(R){console.error("Error adding super-admin to course: ",R),V("Failed to add admin to course.","error")}},F=Q=>{E(Q),w(!0)},H=async()=>{if(r&&x===r.uid){const Q=n.find($=>$.id===D);if(Q&&Q.courseAdmin.includes(r.uid))try{await Ug(An(t,"courses",D));const $=await go(Zn(t,"users")),R=LA(t);$.forEach(Y=>{const B=An(t,"users",Y.id),de={...Y.data().classes};delete de[D],R.update(B,{classes:de})}),await R.commit(),o(n.filter(Y=>Y.id!==D)),V("Course deleted successfully.","success")}catch($){console.error("Error deleting course: ",$),V("Failed to delete course.","error")}finally{w(!1),A("")}else V("You are not authorized to delete this course.","warning"),w(!1)}else V("User ID does not match. Please try again.","error")},V=(Q,$)=>{g(Q),v($),f(!0)},N=(Q,$)=>{$!=="clickaway"&&f(!1)},j=()=>{w(!1),A("")},q=()=>{M("/")};return C.jsxs(Fe,{sx:{p:3},children:[C.jsx(Fe,{sx:{display:"flex",alignItems:"center",mb:2},children:C.jsx(xt,{variant:"text",onClick:q,sx:{mr:2},children:"← Home Page"})}),C.jsx(Ve,{variant:"h4",gutterBottom:!0,children:"Super Admin Course Management"}),a?C.jsx(Ve,{children:"Loading courses..."}):C.jsx(nd,{component:Fn,children:C.jsxs(rd,{"aria-label":"courses table",children:[C.jsx(id,{children:C.jsxs(mo,{children:[C.jsx(It,{sx:{fontWeight:"bold"},children:"Course ID"}),C.jsx(It,{sx:{fontWeight:"bold"},children:"Course Number"}),C.jsx(It,{sx:{fontWeight:"bold"},children:"Course Title"}),C.jsx(It,{sx:{fontWeight:"bold"},children:"Instructors"}),C.jsx(It,{align:"right",sx:{fontWeight:"bold"},children:"Actions"})]})}),C.jsx(od,{children:n.map(Q=>{const $=!!(r!=null&&r.uid)&&Q.courseAdmin.includes(r.uid);return C.jsxs(mo,{sx:{backgroundColor:$?"#e0f7fa":"transparent"},children:[C.jsx(It,{children:Q.id}),C.jsx(It,{children:Q.number}),C.jsx(It,{children:Q.title}),C.jsx(It,{children:Q.courseAdmin.length>0?Q.courseAdmin.join(", "):"No admins assigned"}),C.jsxs(It,{align:"right",children:[C.jsx(Gs,{title:"Add yourself as an instructor",children:C.jsx("span",{children:C.jsx(ir,{edge:"end","aria-label":"add",onClick:()=>P(Q.id),disabled:$,children:C.jsx(cP,{})})})}),C.jsx(Gs,{title:$?"Delete this course":"You are not authorized to delete this course",children:C.jsx("span",{children:C.jsx(ir,{edge:"end","aria-label":"delete",onClick:()=>F(Q.id),disabled:!$,children:C.jsx(td,{})})})})]})]},Q.id)})})]})}),C.jsx(Wo,{open:d,autoHideDuration:6e3,onClose:N,children:C.jsx(xr,{onClose:N,severity:k,sx:{width:"100%"},children:p})}),C.jsxs(uo,{open:y,onClose:j,children:[C.jsx(ho,{children:"Confirm Delete"}),C.jsxs(fo,{children:[C.jsx(fs,{children:"To confirm the deletion of this course, please enter your User ID:"}),C.jsx(Sn,{autoFocus:!0,margin:"dense",id:"userId",label:"User ID",type:"text",fullWidth:!0,variant:"outlined",value:x,onChange:Q=>A(Q.target.value)})]}),C.jsxs(po,{children:[C.jsx(xt,{onClick:j,color:"primary",children:"Cancel"}),C.jsx(xt,{onClick:H,color:"primary",children:"Confirm"})]})]})]})},v8=({filePath:t,fileLabel:r})=>{const[n,o]=K.useState(null),[a,c]=K.useState(!0);return K.useEffect(()=>{(async()=>{try{const f=p1(),p=PA(f,t),g=await OA(p);o(g)}catch(f){console.error("Error fetching download URL:",f),alert("Failed to fetch file URL. Please check your permissions.")}finally{c(!1)}})()},[t]),a?C.jsx(di,{size:20}):n?C.jsxs(Fe,{sx:{display:"flex",alignItems:"center",gap:1},children:[C.jsx(Cg,{href:n,target:"_blank",rel:"noopener noreferrer",sx:{textDecoration:"none",color:"#1976d2","&:hover":{textDecoration:"underline"}},children:r}),C.jsx(ir,{component:"a",href:n,target:"_blank",rel:"noopener noreferrer","aria-label":"Open in new tab",size:"small",children:C.jsx(fP,{})})]}):C.jsx(Fe,{children:C.jsx(Ve,{color:"error",children:"Failed to load file link"})})},Rne=()=>{const{userDetails:t}=xi(),[r,n]=K.useState([]),[o,a]=K.useState(!0);return K.useEffect(()=>{(async()=>{if(!(t!=null&&t.uid))return;const d=Xn(),f=Zn(d,"chatbotRequests"),p=yp(f,qg("educatorId","==",t.uid));try{const k=(await go(p)).docs.map(v=>({id:v.id,...v.data()}));n(k)}catch(g){console.error("Error fetching chatbot requests:",g)}finally{a(!1)}})()},[t==null?void 0:t.uid]),o?C.jsx(Fe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:C.jsx(di,{})}):r.length===0?C.jsx(Ve,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):C.jsxs(Fe,{children:[C.jsx(Ve,{variant:"h6",sx:{mb:2},children:"Your Chatbot Requests"}),C.jsx(nd,{component:Fn,elevation:3,sx:{maxHeight:400},children:C.jsxs(rd,{stickyHeader:!0,children:[C.jsx(id,{children:C.jsxs(mo,{children:[C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Title"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Submitted On"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Status"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"File Links"})]})}),C.jsx(od,{children:r.map((c,d)=>C.jsxs(mo,{sx:{backgroundColor:d%2===0?"#F6E9B2":"#FBFADA","&:hover":{backgroundColor:"#E8E8E8"}},children:[C.jsx(It,{children:c.title}),C.jsx(It,{children:`${c.courseNumber} - ${c.courseTitle}`}),C.jsx(It,{children:c.materialTitle||"N/A"}),C.jsx(It,{children:new Date(c.timestamp).toLocaleString()}),C.jsx(It,{children:C.jsx(Ve,{variant:"body2",sx:{color:c.status==="pending"?"#FFA726":"#43A047",fontWeight:"bold"},children:c.status})}),C.jsx(It,{children:c.files.map((f,p)=>C.jsx(v8,{filePath:f,fileLabel:`File ${p+1}`},p))})]},c.id))})]})})]})},Fne=()=>{const t=Fr();return C.jsxs(Fe,{className:"profile-container",sx:{p:4},children:[C.jsx(xt,{variant:"text",onClick:()=>t("/"),className:"profile-button",children:"← Home Page"}),C.jsx(Ve,{className:"webpage_title",sx:{mb:2},children:"Chatbot Management"}),C.jsx(Ve,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Manage your chatbots or create new chatbot requests."}),C.jsx(xt,{variant:"contained",onClick:()=>t("/request-chatbot"),sx:{mt:2},className:"submit-button",children:"Request a New Chatbot"}),C.jsx(Rne,{})]})},zne=({folderPath:t,onUploadComplete:r})=>{const[n,o]=K.useState(!1),[a,c]=K.useState([]),[d,f]=K.useState(null),p=5*1024*1024,g=[".pdf",".ppt",".pptx",".doc",".docx",".txt"],k=async v=>{if(!v.target.files)return;const y=Array.from(v.target.files),w=p1(),x=[];o(!0),f(null);try{for(const A of y){const D=A.name.slice(A.name.lastIndexOf(".")).toLowerCase();if(!g.includes(D)){f(`File ${A.name} is not a supported format.`);continue}if(A.size>p){f(`File ${A.name} exceeds the 5 MB limit and cannot be uploaded.`);continue}const E=PA(w,`${t}/files/${A.name}`);await wP(E,A);const M=await OA(E);x.push(M)}c(A=>[...A,...y]),r(x)}catch(A){console.error("Error uploading files:",A),f("Failed to upload files. Please try again.")}finally{o(!1)}};return C.jsxs(Fe,{children:[C.jsx("input",{type:"file",accept:".pdf,.ppt,.pptx,.doc,.docx,.txt",multiple:!0,onChange:k,style:{display:"none"},id:"file-upload"}),C.jsx("label",{htmlFor:"file-upload",children:C.jsx(xt,{variant:"contained",component:"span",disabled:n,startIcon:n?C.jsx(di,{size:20}):null,children:n?"Uploading...":"Select and Upload Files"})}),d&&C.jsx(xr,{severity:"error",sx:{mt:2},children:d}),C.jsx(Fe,{sx:{marginTop:2},children:a.map((v,y)=>C.jsx(Ve,{children:v.name},y))})]})},Une=b1()(zA((t,r)=>({materials:[],selectedCourse:null,loading:!1,error:null,isEditing:!1,selectedMaterial:null,setMaterials:n=>t({materials:n}),addMaterial:n=>t(o=>({materials:[...o.materials,n]})),updateMaterial:(n,o)=>t(a=>({materials:a.materials.map(c=>c.id===n?{...c,...o}:c)})),deleteMaterial:n=>t(o=>({materials:o.materials.filter(a=>a.id!==n)})),setSelectedCourse:n=>t({selectedCourse:n}),setLoading:n=>t({loading:n}),setError:n=>t({error:n}),setIsEditing:n=>t({isEditing:n}),setSelectedMaterial:n=>t({selectedMaterial:n}),fetchMaterials:async n=>{t({loading:!0,error:null});try{const{db:o}=await co(async()=>{const{db:k}=await Promise.resolve().then(()=>Zf);return{db:k}},void 0),{collection:a,query:c,where:d,onSnapshot:f,orderBy:p}=await co(async()=>{const{collection:k,query:v,where:y,onSnapshot:w,orderBy:x}=await import("./firebase-BO95i_cQ.js").then(A=>A.z);return{collection:k,query:v,where:y,onSnapshot:w,orderBy:x}},[]),g=c(a(o,"materials"),d("course","==",n),p("timestamp","desc"));return new Promise(k=>{f(g,v=>{const y=v.docs.map(w=>({id:w.id,...w.data()}));t({materials:y,loading:!1}),k(void 0)})})}catch(o){t({error:o instanceof Error?o.message:"Failed to fetch materials",loading:!1})}},publishMaterial:async n=>{try{const{db:o}=await co(async()=>{const{db:d}=await Promise.resolve().then(()=>Zf);return{db:d}},void 0),{doc:a,updateDoc:c}=await co(async()=>{const{doc:d,updateDoc:f}=await import("./firebase-BO95i_cQ.js").then(p=>p.z);return{doc:d,updateDoc:f}},[]);await c(a(o,"materials",n),{published:!0}),r().updateMaterial(n,{published:!0})}catch{t({error:"Failed to publish material"})}},unpublishMaterial:async n=>{try{const{db:o}=await co(async()=>{const{db:d}=await Promise.resolve().then(()=>Zf);return{db:d}},void 0),{doc:a,updateDoc:c}=await co(async()=>{const{doc:d,updateDoc:f}=await import("./firebase-BO95i_cQ.js").then(p=>p.z);return{doc:d,updateDoc:f}},[]);await c(a(o,"materials",n),{published:!1}),r().updateMaterial(n,{published:!1})}catch{t({error:"Failed to unpublish material"})}}}))),qne=()=>{const{userDetails:t}=xi(),r=Fr(),n=Xn(),[o,a]=K.useState(""),[c,d]=K.useState(""),[f,p]=K.useState(""),[g,k]=K.useState([]),[v,y]=K.useState(!1),[w,x]=K.useState(""),[A,D]=K.useState("success"),{materials:E,loading:M,error:P,fetchMaterials:F}=Une();K.useEffect(()=>{p(""),c&&F(c)},[c,F]);const H=q=>{k(Q=>[...Q,...q])},V=async()=>{var B;if(!o||!c||!f||g.length===0){x("Please fill all required fields and upload at least one file."),D("error"),y(!0);return}const q=(B=t==null?void 0:t.classes)==null?void 0:B[c];if(!q||!q.isCourseAdmin){x("You are not authorized to request a chatbot for this course."),D("error"),y(!0);return}const Q=(q==null?void 0:q.number)??"N/A",$=(q==null?void 0:q.title)??"Untitled Course",R=E.find(ne=>ne.id===f);if(!R){x("Selected material details could not be found."),D("error"),y(!0);return}const{title:Y}=R;try{const ne=await Sa(Zn(n,"chatbotRequests"),{educatorId:t==null?void 0:t.uid,courseId:c,courseNumber:Q,courseTitle:$,materialId:f,materialTitle:Y,title:o,files:g,status:"pending",timestamp:new Date().toISOString()});await Sa(Zn(n,"mail"),{to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"New Chatbot Request Submitted",html:`
            <p>A new chatbot request has been submitted:</p>
            <p><strong>Title:</strong> ${o}</p>
            <p><strong>Educator ID:</strong> ${t==null?void 0:t.uid}</p>
            <p><strong>Course:</strong> ${Q} - ${$}</p>
            <p><strong>Material:</strong> ${Y}</p>
            <p><strong>Request ID:</strong> ${ne.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/super-admin-chatbot-requests">
            Click here to review the request.
            </a></p>
          `}}),x("Chatbot request submitted successfully!"),D("success"),y(!0),setTimeout(()=>r("/chatbot-management"),1500)}catch(ne){console.error("Error submitting chatbot request:",ne),x("Failed to submit the chatbot request. Please try again."),D("error"),y(!0)}},N=()=>{r("/chatbot-management")},j=()=>{y(!1)};return C.jsxs(Fe,{className:"profile-container",sx:{p:4},children:[C.jsx(xt,{variant:"text",onClick:N,className:"profile-button",children:"← Chatbot Management"}),C.jsx(Ve,{className:"webpage_title",sx:{mb:2},children:"Request to Create a Chatbot"}),C.jsx(Ve,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Fill out the form below to request a chatbot. Please upload all related materials for the chatbot's knowledge base."}),C.jsx(Sn,{label:"Chatbot Title",value:o,onChange:q=>a(q.target.value),fullWidth:!0,margin:"normal",required:!0,className:"form-field"}),C.jsx(Sn,{label:"Course ID",value:c,onChange:q=>d(q.target.value),fullWidth:!0,margin:"normal",required:!0,select:!0,helperText:"Only courses where you are an admin are available for chatbot requests.",className:"form-field",children:Object.keys((t==null?void 0:t.classes)||{}).filter(q=>{var Q,$;return($=(Q=t==null?void 0:t.classes)==null?void 0:Q[q])==null?void 0:$.isCourseAdmin}).map(q=>{var Q,$;return C.jsx(Ar,{value:q,children:(($=(Q=t==null?void 0:t.classes)==null?void 0:Q[q])==null?void 0:$.title)||"Untitled Course"},q)})}),C.jsx(Sn,{label:"Material",value:f,onChange:q=>p(q.target.value),fullWidth:!0,margin:"normal",required:!0,select:!0,disabled:!c||M,helperText:c?P||(M?"Loading materials...":E.length===0?"No materials available for this course.":""):"Please select a course first.",children:c?M?C.jsxs(Ar,{disabled:!0,children:[C.jsx(di,{size:20,sx:{marginRight:2}}),"Loading..."]}):E.length===0?C.jsx(Ar,{disabled:!0,children:"No materials found"}):E.map(q=>C.jsx(Ar,{value:q.id,children:q.title},q.id)):C.jsx(Ar,{disabled:!0,children:"Please select a course first"})}),C.jsxs(Fe,{sx:{mt:3},children:[C.jsx(Ve,{variant:"body1",className:"profile-text",sx:{mb:2},children:"Upload your files below (PDF, PPT, DOC/DOCX, TXT formats only):"}),C.jsx(zne,{folderPath:`chatbotRequests/${t==null?void 0:t.uid}`,onUploadComplete:H})]}),C.jsx(xt,{variant:"contained",onClick:V,sx:{mt:4},className:"submit-button",children:"Submit Request"}),C.jsx(Wo,{open:v,autoHideDuration:6e3,onClose:j,children:C.jsx(xr,{severity:A,onClose:j,children:w})})]})};function Vne(t,...r){const n=new URL(`https://mui.com/production-error/?code=${t}`);return r.forEach(o=>n.searchParams.append("args[]",o)),`Minified MUI error #${t}; visit ${n} for the full message.`}function Hne(t,r){return NA(t,r)}function $ne(t,r){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=r(t.__emotion_styles))}const sT=[];function kh(t){return sT[0]=t,pP(sT)}function rh(t){if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function _8(t){if(K.isValidElement(t)||Mk.isValidElementType(t)||!rh(t))return t;const r={};return Object.keys(t).forEach(n=>{r[n]=_8(t[n])}),r}function Xk(t,r,n={clone:!0}){const o=n.clone?{...t}:t;return rh(t)&&rh(r)&&Object.keys(r).forEach(a=>{K.isValidElement(r[a])||Mk.isValidElementType(r[a])?o[a]=r[a]:rh(r[a])&&Object.prototype.hasOwnProperty.call(t,a)&&rh(t[a])?o[a]=Xk(t[a],r[a],n):n.clone?o[a]=rh(r[a])?_8(r[a]):r[a]:o[a]=r[a]}),o}const Wne=t=>{const r=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return r.sort((n,o)=>n.val-o.val),r.reduce((n,o)=>({...n,[o.key]:o.val}),{})};function Gne(t){const{values:r={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5,...a}=t,c=Wne(r),d=Object.keys(c);function f(y){return`@media (min-width:${typeof r[y]=="number"?r[y]:y}${n})`}function p(y){return`@media (max-width:${(typeof r[y]=="number"?r[y]:y)-o/100}${n})`}function g(y,w){const x=d.indexOf(w);return`@media (min-width:${typeof r[y]=="number"?r[y]:y}${n}) and (max-width:${(x!==-1&&typeof r[d[x]]=="number"?r[d[x]]:w)-o/100}${n})`}function k(y){return d.indexOf(y)+1<d.length?g(y,d[d.indexOf(y)+1]):f(y)}function v(y){const w=d.indexOf(y);return w===0?f(d[1]):w===d.length-1?p(d[w]):g(y,d[d.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:d,values:c,up:f,down:p,between:g,only:k,not:v,unit:n,...a}}function aT(t,r){if(!t.containerQueries)return r;const n=Object.keys(r).filter(o=>o.startsWith("@container")).sort((o,a)=>{var d,f;const c=/min-width:\s*([0-9.]+)/;return+(((d=o.match(c))==null?void 0:d[1])||0)-+(((f=a.match(c))==null?void 0:f[1])||0)});return n.length?n.reduce((o,a)=>{const c=r[a];return delete o[a],o[a]=c,o},{...r}):r}function Yne(t,r){return r==="@"||r.startsWith("@")&&(t.some(n=>r.startsWith(`@${n}`))||!!r.match(/^@\d/))}function Kne(t,r){const n=r.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,o,a]=n,c=Number.isNaN(+o)?o||0:+o;return t.containerQueries(a).up(c)}function Qne(t){const r=(c,d)=>c.replace("@media",d?`@container ${d}`:"@container");function n(c,d){c.up=(...f)=>r(t.breakpoints.up(...f),d),c.down=(...f)=>r(t.breakpoints.down(...f),d),c.between=(...f)=>r(t.breakpoints.between(...f),d),c.only=(...f)=>r(t.breakpoints.only(...f),d),c.not=(...f)=>{const p=r(t.breakpoints.not(...f),d);return p.includes("not all and")?p.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):p}}const o={},a=c=>(n(o,c),o);return n(a),{...t,containerQueries:a}}const Jne={borderRadius:4};function fg(t,r){return r?Xk(t,r,{clone:!1}):t}const I1={xs:0,sm:600,md:900,lg:1200,xl:1536},lT={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${I1[t]}px)`},Zne={containerQueries:t=>({up:r=>{let n=typeof r=="number"?r:I1[r]||r;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Uc(t,r,n){const o=t.theme||{};if(Array.isArray(r)){const c=o.breakpoints||lT;return r.reduce((d,f,p)=>(d[c.up(c.keys[p])]=n(r[p]),d),{})}if(typeof r=="object"){const c=o.breakpoints||lT;return Object.keys(r).reduce((d,f)=>{if(Yne(c.keys,f)){const p=Kne(o.containerQueries?o:Zne,f);p&&(d[p]=n(r[f],f))}else if(Object.keys(c.values||I1).includes(f)){const p=c.up(f);d[p]=n(r[f],f)}else{const p=f;d[p]=r[p]}return d},{})}return n(r)}function Xne(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((o,a)=>{const c=t.up(a);return o[c]={},o},{}))||{}}function cT(t,r){return t.reduce((n,o)=>{const a=n[o];return(!a||Object.keys(a).length===0)&&delete n[o],n},r)}function A8(t){if(typeof t!="string")throw new Error(Vne(7));return t.charAt(0).toUpperCase()+t.slice(1)}function T1(t,r,n=!0){if(!r||typeof r!="string")return null;if(t&&t.vars&&n){const o=`vars.${r}`.split(".").reduce((a,c)=>a&&a[c]?a[c]:null,t);if(o!=null)return o}return r.split(".").reduce((o,a)=>o&&o[a]!=null?o[a]:null,t)}function e1(t,r,n,o=n){let a;return typeof t=="function"?a=t(n):Array.isArray(t)?a=t[n]||o:a=T1(t,n)||o,r&&(a=r(a,o,t)),a}function Si(t){const{prop:r,cssProperty:n=t.prop,themeKey:o,transform:a}=t,c=d=>{if(d[r]==null)return null;const f=d[r],p=d.theme,g=T1(p,o)||{};return Uc(d,f,v=>{let y=e1(g,a,v);return v===y&&typeof v=="string"&&(y=e1(g,a,`${r}${v==="default"?"":A8(v)}`,v)),n===!1?y:{[n]:y}})};return c.propTypes={},c.filterProps=[r],c}function ere(t){const r={};return n=>(r[n]===void 0&&(r[n]=t(n)),r[n])}const tre={m:"margin",p:"padding"},nre={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},uT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},rre=ere(t=>{if(t.length>2)if(uT[t])t=uT[t];else return[t];const[r,n]=t.split(""),o=tre[r],a=nre[n]||"";return Array.isArray(a)?a.map(c=>o+c):[o+a]}),lC=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],cC=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...lC,...cC];function Jg(t,r,n,o){const a=T1(t,r,!0)??n;return typeof a=="number"||typeof a=="string"?c=>typeof c=="string"?c:typeof a=="string"?a.startsWith("var(")&&c===0?0:a.startsWith("var(")&&c===1?a:`calc(${c} * ${a})`:a*c:Array.isArray(a)?c=>{if(typeof c=="string")return c;const d=Math.abs(c),f=a[d];return c>=0?f:typeof f=="number"?-f:typeof f=="string"&&f.startsWith("var(")?`calc(-1 * ${f})`:`-${f}`}:typeof a=="function"?a:()=>{}}function C8(t){return Jg(t,"spacing",8)}function Zg(t,r){return typeof r=="string"||r==null?r:t(r)}function ire(t,r){return n=>t.reduce((o,a)=>(o[a]=Zg(r,n),o),{})}function ore(t,r,n,o){if(!r.includes(n))return null;const a=rre(n),c=ire(a,o),d=t[n];return Uc(t,d,c)}function x8(t,r){const n=C8(t.theme);return Object.keys(t).map(o=>ore(t,r,o,n)).reduce(fg,{})}function ii(t){return x8(t,lC)}ii.propTypes={};ii.filterProps=lC;function oi(t){return x8(t,cC)}oi.propTypes={};oi.filterProps=cC;function sre(t=8,r=C8({spacing:t})){if(t.mui)return t;const n=(...o)=>(o.length===0?[1]:o).map(c=>{const d=r(c);return typeof d=="number"?`${d}px`:d}).join(" ");return n.mui=!0,n}function N1(...t){const r=t.reduce((o,a)=>(a.filterProps.forEach(c=>{o[c]=a}),o),{}),n=o=>Object.keys(o).reduce((a,c)=>r[c]?fg(a,r[c](o)):a,{});return n.propTypes={},n.filterProps=t.reduce((o,a)=>o.concat(a.filterProps),[]),n}function _a(t){return typeof t!="number"?t:`${t}px solid`}function Da(t,r){return Si({prop:t,themeKey:"borders",transform:r})}const are=Da("border",_a),lre=Da("borderTop",_a),cre=Da("borderRight",_a),ure=Da("borderBottom",_a),dre=Da("borderLeft",_a),hre=Da("borderColor"),fre=Da("borderTopColor"),pre=Da("borderRightColor"),mre=Da("borderBottomColor"),gre=Da("borderLeftColor"),bre=Da("outline",_a),kre=Da("outlineColor"),M1=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const r=Jg(t.theme,"shape.borderRadius",4),n=o=>({borderRadius:Zg(r,o)});return Uc(t,t.borderRadius,n)}return null};M1.propTypes={};M1.filterProps=["borderRadius"];N1(are,lre,cre,ure,dre,hre,fre,pre,mre,gre,M1,bre,kre);const P1=t=>{if(t.gap!==void 0&&t.gap!==null){const r=Jg(t.theme,"spacing",8),n=o=>({gap:Zg(r,o)});return Uc(t,t.gap,n)}return null};P1.propTypes={};P1.filterProps=["gap"];const O1=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const r=Jg(t.theme,"spacing",8),n=o=>({columnGap:Zg(r,o)});return Uc(t,t.columnGap,n)}return null};O1.propTypes={};O1.filterProps=["columnGap"];const L1=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const r=Jg(t.theme,"spacing",8),n=o=>({rowGap:Zg(r,o)});return Uc(t,t.rowGap,n)}return null};L1.propTypes={};L1.filterProps=["rowGap"];const wre=Si({prop:"gridColumn"}),yre=Si({prop:"gridRow"}),vre=Si({prop:"gridAutoFlow"}),_re=Si({prop:"gridAutoColumns"}),Are=Si({prop:"gridAutoRows"}),Cre=Si({prop:"gridTemplateColumns"}),xre=Si({prop:"gridTemplateRows"}),Sre=Si({prop:"gridTemplateAreas"}),Ere=Si({prop:"gridArea"});N1(P1,O1,L1,wre,yre,vre,_re,Are,Cre,xre,Sre,Ere);function op(t,r){return r==="grey"?r:t}const Dre=Si({prop:"color",themeKey:"palette",transform:op}),Ire=Si({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:op}),Tre=Si({prop:"backgroundColor",themeKey:"palette",transform:op});N1(Dre,Ire,Tre);function Ls(t){return t<=1&&t!==0?`${t*100}%`:t}const Nre=Si({prop:"width",transform:Ls}),uC=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const r=n=>{var a,c,d,f,p;const o=((d=(c=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:c.values)==null?void 0:d[n])||I1[n];return o?((p=(f=t.theme)==null?void 0:f.breakpoints)==null?void 0:p.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Ls(n)}};return Uc(t,t.maxWidth,r)}return null};uC.filterProps=["maxWidth"];const Mre=Si({prop:"minWidth",transform:Ls}),Pre=Si({prop:"height",transform:Ls}),Ore=Si({prop:"maxHeight",transform:Ls}),Lre=Si({prop:"minHeight",transform:Ls});Si({prop:"size",cssProperty:"width",transform:Ls});Si({prop:"size",cssProperty:"height",transform:Ls});const Bre=Si({prop:"boxSizing"});N1(Nre,uC,Mre,Pre,Ore,Lre,Bre);const S8={border:{themeKey:"borders",transform:_a},borderTop:{themeKey:"borders",transform:_a},borderRight:{themeKey:"borders",transform:_a},borderBottom:{themeKey:"borders",transform:_a},borderLeft:{themeKey:"borders",transform:_a},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:_a},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:M1},color:{themeKey:"palette",transform:op},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:op},backgroundColor:{themeKey:"palette",transform:op},p:{style:oi},pt:{style:oi},pr:{style:oi},pb:{style:oi},pl:{style:oi},px:{style:oi},py:{style:oi},padding:{style:oi},paddingTop:{style:oi},paddingRight:{style:oi},paddingBottom:{style:oi},paddingLeft:{style:oi},paddingX:{style:oi},paddingY:{style:oi},paddingInline:{style:oi},paddingInlineStart:{style:oi},paddingInlineEnd:{style:oi},paddingBlock:{style:oi},paddingBlockStart:{style:oi},paddingBlockEnd:{style:oi},m:{style:ii},mt:{style:ii},mr:{style:ii},mb:{style:ii},ml:{style:ii},mx:{style:ii},my:{style:ii},margin:{style:ii},marginTop:{style:ii},marginRight:{style:ii},marginBottom:{style:ii},marginLeft:{style:ii},marginX:{style:ii},marginY:{style:ii},marginInline:{style:ii},marginInlineStart:{style:ii},marginInlineEnd:{style:ii},marginBlock:{style:ii},marginBlockStart:{style:ii},marginBlockEnd:{style:ii},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:P1},rowGap:{style:L1},columnGap:{style:O1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ls},maxWidth:{style:uC},minWidth:{transform:Ls},height:{transform:Ls},maxHeight:{transform:Ls},minHeight:{transform:Ls},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function jre(...t){const r=t.reduce((o,a)=>o.concat(Object.keys(a)),[]),n=new Set(r);return t.every(o=>n.size===Object.keys(o).length)}function Rre(t,r){return typeof t=="function"?t(r):t}function Fre(){function t(n,o,a,c){const d={[n]:o,theme:a},f=c[n];if(!f)return{[n]:o};const{cssProperty:p=n,themeKey:g,transform:k,style:v}=f;if(o==null)return null;if(g==="typography"&&o==="inherit")return{[n]:o};const y=T1(a,g)||{};return v?v(d):Uc(d,o,x=>{let A=e1(y,k,x);return x===A&&typeof x=="string"&&(A=e1(y,k,`${n}${x==="default"?"":A8(x)}`,x)),p===!1?A:{[p]:A}})}function r(n){const{sx:o,theme:a={},nested:c}=n||{};if(!o)return null;const d=a.unstable_sxConfig??S8;function f(p){let g=p;if(typeof p=="function")g=p(a);else if(typeof p!="object")return p;if(!g)return null;const k=Xne(a.breakpoints),v=Object.keys(k);let y=k;return Object.keys(g).forEach(w=>{const x=Rre(g[w],a);if(x!=null)if(typeof x=="object")if(d[w])y=fg(y,t(w,x,a,d));else{const A=Uc({theme:a},x,D=>({[w]:D}));jre(A,x)?y[w]=r({sx:x,theme:a,nested:!0}):y=fg(y,A)}else y=fg(y,t(w,x,a,d))}),!c&&a.modularCssLayers?{"@layer sx":aT(a,cT(v,y))}:aT(a,cT(v,y))}return Array.isArray(o)?o.map(f):f(o)}return r}const t1=Fre();t1.filterProps=["sx"];function zre(t,r){var o;const n=this;if(n.vars){if(!((o=n.colorSchemes)!=null&&o[t])||typeof n.getColorSchemeSelector!="function")return{};let a=n.getColorSchemeSelector(t);return a==="&"?r:((a.includes("data-")||a.includes("."))&&(a=`*:where(${a.replace(/\s*&$/,"")}) &`),{[a]:r})}return n.palette.mode===t?r:{}}function Ure(t={},...r){const{breakpoints:n={},palette:o={},spacing:a,shape:c={},...d}=t,f=Gne(n),p=sre(a);let g=Xk({breakpoints:f,direction:"ltr",components:{},palette:{mode:"light",...o},spacing:p,shape:{...Jne,...c}},d);return g=Qne(g),g.applyStyles=zre,g=r.reduce((k,v)=>Xk(k,v),g),g.unstable_sxConfig={...S8,...d==null?void 0:d.unstable_sxConfig},g.unstable_sx=function(v){return t1({sx:v,theme:this})},g}function qre(t){const{variants:r,...n}=t,o={variants:r,style:kh(n),isProcessed:!0};return o.style===n||r&&r.forEach(a=>{typeof a.style!="function"&&(a.style=kh(a.style))}),o}const Vre=Ure();function Rv(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function lh(t,r){return r&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${r}{${String(t.styles)}}`),t}function Hre(t){return t?(r,n)=>n[t]:null}function $re(t,r,n){t.theme=Yre(t.theme)?n:t.theme[r]||t.theme}function kk(t,r,n){const o=typeof r=="function"?r(t):r;if(Array.isArray(o))return o.flatMap(a=>kk(t,a,n));if(Array.isArray(o==null?void 0:o.variants)){let a;if(o.isProcessed)a=n?lh(o.style,n):o.style;else{const{variants:c,...d}=o;a=n?lh(kh(d),n):d}return E8(t,o.variants,[a],n)}return o!=null&&o.isProcessed?n?lh(kh(o.style),n):o.style:n?lh(kh(o),n):o}function E8(t,r,n=[],o=void 0){var c;let a;e:for(let d=0;d<r.length;d+=1){const f=r[d];if(typeof f.props=="function"){if(a??(a={...t,...t.ownerState,ownerState:t.ownerState}),!f.props(a))continue}else for(const p in f.props)if(t[p]!==f.props[p]&&((c=t.ownerState)==null?void 0:c[p])!==f.props[p])continue e;typeof f.style=="function"?(a??(a={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o?lh(kh(f.style(a)),o):f.style(a))):n.push(o?lh(kh(f.style),o):f.style)}return n}function Wre(t={}){const{themeId:r,defaultTheme:n=Vre,rootShouldForwardProp:o=Rv,slotShouldForwardProp:a=Rv}=t;function c(f){$re(f,r,n)}return(f,p={})=>{$ne(f,V=>V.filter(N=>N!==t1));const{name:g,slot:k,skipVariantsResolver:v,skipSx:y,overridesResolver:w=Hre(Qre(k)),...x}=p,A=g&&g.startsWith("Mui")||k?"components":"custom",D=v!==void 0?v:k&&k!=="Root"&&k!=="root"||!1,E=y||!1;let M=Rv;k==="Root"||k==="root"?M=o:k?M=a:Kre(f)&&(M=void 0);const P=Hne(f,{shouldForwardProp:M,label:Gre(),...x}),F=V=>{if(V.__emotion_real===V)return V;if(typeof V=="function")return function(j){return kk(j,V,j.theme.modularCssLayers?A:void 0)};if(rh(V)){const N=qre(V);return function(q){return N.variants?kk(q,N,q.theme.modularCssLayers?A:void 0):q.theme.modularCssLayers?lh(N.style,A):N.style}}return V},H=(...V)=>{const N=[],j=V.map(F),q=[];if(N.push(c),g&&w&&q.push(function(Y){var ae,oe;const ne=(oe=(ae=Y.theme.components)==null?void 0:ae[g])==null?void 0:oe.styleOverrides;if(!ne)return null;const de={};for(const ye in ne)de[ye]=kk(Y,ne[ye],Y.theme.modularCssLayers?"theme":void 0);return w(Y,de)}),g&&!D&&q.push(function(Y){var de,ae;const B=Y.theme,ne=(ae=(de=B==null?void 0:B.components)==null?void 0:de[g])==null?void 0:ae.variants;return ne?E8(Y,ne,[],Y.theme.modularCssLayers?"theme":void 0):null}),E||q.push(t1),Array.isArray(j[0])){const R=j.shift(),Y=new Array(N.length).fill(""),B=new Array(q.length).fill("");let ne;ne=[...Y,...R,...B],ne.raw=[...Y,...R.raw,...B],N.unshift(ne)}const Q=[...N,...j,...q],$=P(...Q);return f.muiName&&($.muiName=f.muiName),$};return P.withConfig&&(H.withConfig=P.withConfig),H}}function Gre(t,r){return void 0}function Yre(t){for(const r in t)return!1;return!0}function Kre(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Qre(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const _p=Wre(),Wm=_p(It)({fontWeight:"bold",color:"#fff",backgroundColor:"#123372",fontSize:"1rem",textAlign:"center"}),Jre=_p(mo)({"& td, & th":{padding:"12px 16px"},"&:nth-of-type(odd)":{backgroundColor:"#f9f9f9"},"&:hover":{backgroundColor:"#e0e0e0"}}),dT=_p(ir)({width:40,height:40,padding:0,display:"flex",alignItems:"center",justifyContent:"center",textTransform:"capitalize",borderRadius:"8px",color:"#123372"}),Zre=({conversations:t,onViewHistory:r,onDeleteConversation:n,loadingMap:o})=>t.length===0?C.jsx(Ve,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No conversations available to display."}):C.jsx(Fe,{sx:{mt:3},children:C.jsx(nd,{component:Fn,sx:{boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.1)",borderRadius:"10px"},children:C.jsxs(rd,{children:[C.jsx(id,{children:C.jsxs(mo,{children:[C.jsx(Wm,{children:"Conversation ID"}),C.jsx(Wm,{children:"User ID"}),C.jsx(Wm,{children:"Chatbot ID"}),C.jsx(Wm,{children:"Timestamp (Started At)"}),C.jsx(Wm,{children:"Actions"})]})}),C.jsx(od,{children:t.length>0?t.map(a=>C.jsxs(Jre,{children:[C.jsx(It,{align:"center",children:a.id}),C.jsx(It,{align:"center",children:a.userId}),C.jsx(It,{align:"center",children:a.chatbotId}),C.jsx(It,{align:"center",children:a.startedAt?new Date(a.startedAt).toLocaleString():"Invalid date"}),C.jsx(It,{align:"center",children:C.jsxs(Fe,{sx:{display:"flex",justifyContent:"center",gap:1},children:[C.jsx(Gs,{title:"View Data",children:C.jsx(dT,{onClick:()=>r(a.chatbotId,a.id,a.userId,a.startedAt),color:"primary",disabled:o[a.id],children:o[a.id]?C.jsx(di,{size:20,color:"inherit"}):C.jsx(uP,{})})}),C.jsx(Gs,{title:"Delete Conversation",children:C.jsx(dT,{onClick:()=>n(a.id),color:"error",children:C.jsx(td,{})})})]})})]},a.id)):C.jsx(mo,{children:C.jsx(It,{colSpan:5,align:"center",children:"No conversations available for the selected filters."})})})]})})});function D8(t,r){return function(){return t.apply(r,arguments)}}const{toString:Xre}=Object.prototype,{getPrototypeOf:dC}=Object,{iterator:B1,toStringTag:I8}=Symbol,j1=(t=>r=>{const n=Xre.call(r);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),nl=t=>(t=t.toLowerCase(),r=>j1(r)===t),R1=t=>r=>typeof r===t,{isArray:Ap}=Array,Pg=R1("undefined");function eie(t){return t!==null&&!Pg(t)&&t.constructor!==null&&!Pg(t.constructor)&&ss(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const T8=nl("ArrayBuffer");function tie(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&T8(t.buffer),r}const nie=R1("string"),ss=R1("function"),N8=R1("number"),F1=t=>t!==null&&typeof t=="object",rie=t=>t===!0||t===!1,wk=t=>{if(j1(t)!=="object")return!1;const r=dC(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(I8 in t)&&!(B1 in t)},iie=nl("Date"),oie=nl("File"),sie=nl("Blob"),aie=nl("FileList"),lie=t=>F1(t)&&ss(t.pipe),cie=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||ss(t.append)&&((r=j1(t))==="formdata"||r==="object"&&ss(t.toString)&&t.toString()==="[object FormData]"))},uie=nl("URLSearchParams"),[die,hie,fie,pie]=["ReadableStream","Request","Response","Headers"].map(nl),mie=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xg(t,r,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let o,a;if(typeof t!="object"&&(t=[t]),Ap(t))for(o=0,a=t.length;o<a;o++)r.call(null,t[o],o,t);else{const c=n?Object.getOwnPropertyNames(t):Object.keys(t),d=c.length;let f;for(o=0;o<d;o++)f=c[o],r.call(null,t[f],f,t)}}function M8(t,r){r=r.toLowerCase();const n=Object.keys(t);let o=n.length,a;for(;o-- >0;)if(a=n[o],r===a.toLowerCase())return a;return null}const ch=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,P8=t=>!Pg(t)&&t!==ch;function Y_(){const{caseless:t}=P8(this)&&this||{},r={},n=(o,a)=>{const c=t&&M8(r,a)||a;wk(r[c])&&wk(o)?r[c]=Y_(r[c],o):wk(o)?r[c]=Y_({},o):Ap(o)?r[c]=o.slice():r[c]=o};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&Xg(arguments[o],n);return r}const gie=(t,r,n,{allOwnKeys:o}={})=>(Xg(r,(a,c)=>{n&&ss(a)?t[c]=D8(a,n):t[c]=a},{allOwnKeys:o}),t),bie=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),kie=(t,r,n,o)=>{t.prototype=Object.create(r.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),n&&Object.assign(t.prototype,n)},wie=(t,r,n,o)=>{let a,c,d;const f={};if(r=r||{},t==null)return r;do{for(a=Object.getOwnPropertyNames(t),c=a.length;c-- >0;)d=a[c],(!o||o(d,t,r))&&!f[d]&&(r[d]=t[d],f[d]=!0);t=n!==!1&&dC(t)}while(t&&(!n||n(t,r))&&t!==Object.prototype);return r},yie=(t,r,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=r.length;const o=t.indexOf(r,n);return o!==-1&&o===n},vie=t=>{if(!t)return null;if(Ap(t))return t;let r=t.length;if(!N8(r))return null;const n=new Array(r);for(;r-- >0;)n[r]=t[r];return n},_ie=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&dC(Uint8Array)),Aie=(t,r)=>{const o=(t&&t[B1]).call(t);let a;for(;(a=o.next())&&!a.done;){const c=a.value;r.call(t,c[0],c[1])}},Cie=(t,r)=>{let n;const o=[];for(;(n=t.exec(r))!==null;)o.push(n);return o},xie=nl("HTMLFormElement"),Sie=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,o,a){return o.toUpperCase()+a}),hT=(({hasOwnProperty:t})=>(r,n)=>t.call(r,n))(Object.prototype),Eie=nl("RegExp"),O8=(t,r)=>{const n=Object.getOwnPropertyDescriptors(t),o={};Xg(n,(a,c)=>{let d;(d=r(a,c,t))!==!1&&(o[c]=d||a)}),Object.defineProperties(t,o)},Die=t=>{O8(t,(r,n)=>{if(ss(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=t[n];if(ss(o)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Iie=(t,r)=>{const n={},o=a=>{a.forEach(c=>{n[c]=!0})};return Ap(t)?o(t):o(String(t).split(r)),n},Tie=()=>{},Nie=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r;function Mie(t){return!!(t&&ss(t.append)&&t[I8]==="FormData"&&t[B1])}const Pie=t=>{const r=new Array(10),n=(o,a)=>{if(F1(o)){if(r.indexOf(o)>=0)return;if(!("toJSON"in o)){r[a]=o;const c=Ap(o)?[]:{};return Xg(o,(d,f)=>{const p=n(d,a+1);!Pg(p)&&(c[f]=p)}),r[a]=void 0,c}}return o};return n(t,0)},Oie=nl("AsyncFunction"),Lie=t=>t&&(F1(t)||ss(t))&&ss(t.then)&&ss(t.catch),L8=((t,r)=>t?setImmediate:r?((n,o)=>(ch.addEventListener("message",({source:a,data:c})=>{a===ch&&c===n&&o.length&&o.shift()()},!1),a=>{o.push(a),ch.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ss(ch.postMessage)),Bie=typeof queueMicrotask<"u"?queueMicrotask.bind(ch):typeof process<"u"&&process.nextTick||L8,jie=t=>t!=null&&ss(t[B1]),at={isArray:Ap,isArrayBuffer:T8,isBuffer:eie,isFormData:cie,isArrayBufferView:tie,isString:nie,isNumber:N8,isBoolean:rie,isObject:F1,isPlainObject:wk,isReadableStream:die,isRequest:hie,isResponse:fie,isHeaders:pie,isUndefined:Pg,isDate:iie,isFile:oie,isBlob:sie,isRegExp:Eie,isFunction:ss,isStream:lie,isURLSearchParams:uie,isTypedArray:_ie,isFileList:aie,forEach:Xg,merge:Y_,extend:gie,trim:mie,stripBOM:bie,inherits:kie,toFlatObject:wie,kindOf:j1,kindOfTest:nl,endsWith:yie,toArray:vie,forEachEntry:Aie,matchAll:Cie,isHTMLForm:xie,hasOwnProperty:hT,hasOwnProp:hT,reduceDescriptors:O8,freezeMethods:Die,toObjectSet:Iie,toCamelCase:Sie,noop:Tie,toFiniteNumber:Nie,findKey:M8,global:ch,isContextDefined:P8,isSpecCompliantForm:Mie,toJSONObject:Pie,isAsyncFn:Oie,isThenable:Lie,setImmediate:L8,asap:Bie,isIterable:jie};function vn(t,r,n,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),n&&(this.config=n),o&&(this.request=o),a&&(this.response=a,this.status=a.status?a.status:null)}at.inherits(vn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:at.toJSONObject(this.config),code:this.code,status:this.status}}});const B8=vn.prototype,j8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{j8[t]={value:t}});Object.defineProperties(vn,j8);Object.defineProperty(B8,"isAxiosError",{value:!0});vn.from=(t,r,n,o,a,c)=>{const d=Object.create(B8);return at.toFlatObject(t,d,function(p){return p!==Error.prototype},f=>f!=="isAxiosError"),vn.call(d,t.message,r,n,o,a),d.cause=t,d.name=t.name,c&&Object.assign(d,c),d};const Rie=null;function K_(t){return at.isPlainObject(t)||at.isArray(t)}function R8(t){return at.endsWith(t,"[]")?t.slice(0,-2):t}function fT(t,r,n){return t?t.concat(r).map(function(a,c){return a=R8(a),!n&&c?"["+a+"]":a}).join(n?".":""):r}function Fie(t){return at.isArray(t)&&!t.some(K_)}const zie=at.toFlatObject(at,{},null,function(r){return/^is[A-Z]/.test(r)});function z1(t,r,n){if(!at.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,n=at.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,D){return!at.isUndefined(D[A])});const o=n.metaTokens,a=n.visitor||k,c=n.dots,d=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&at.isSpecCompliantForm(r);if(!at.isFunction(a))throw new TypeError("visitor must be a function");function g(x){if(x===null)return"";if(at.isDate(x))return x.toISOString();if(at.isBoolean(x))return x.toString();if(!p&&at.isBlob(x))throw new vn("Blob is not supported. Use a Buffer instead.");return at.isArrayBuffer(x)||at.isTypedArray(x)?p&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function k(x,A,D){let E=x;if(x&&!D&&typeof x=="object"){if(at.endsWith(A,"{}"))A=o?A:A.slice(0,-2),x=JSON.stringify(x);else if(at.isArray(x)&&Fie(x)||(at.isFileList(x)||at.endsWith(A,"[]"))&&(E=at.toArray(x)))return A=R8(A),E.forEach(function(P,F){!(at.isUndefined(P)||P===null)&&r.append(d===!0?fT([A],F,c):d===null?A:A+"[]",g(P))}),!1}return K_(x)?!0:(r.append(fT(D,A,c),g(x)),!1)}const v=[],y=Object.assign(zie,{defaultVisitor:k,convertValue:g,isVisitable:K_});function w(x,A){if(!at.isUndefined(x)){if(v.indexOf(x)!==-1)throw Error("Circular reference detected in "+A.join("."));v.push(x),at.forEach(x,function(E,M){(!(at.isUndefined(E)||E===null)&&a.call(r,E,at.isString(M)?M.trim():M,A,y))===!0&&w(E,A?A.concat(M):[M])}),v.pop()}}if(!at.isObject(t))throw new TypeError("data must be an object");return w(t),r}function pT(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return r[o]})}function hC(t,r){this._pairs=[],t&&z1(t,this,r)}const F8=hC.prototype;F8.append=function(r,n){this._pairs.push([r,n])};F8.toString=function(r){const n=r?function(o){return r.call(this,o,pT)}:pT;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function Uie(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function z8(t,r,n){if(!r)return t;const o=n&&n.encode||Uie;at.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let c;if(a?c=a(r,n):c=at.isURLSearchParams(r)?r.toString():new hC(r,n).toString(o),c){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class mT{constructor(){this.handlers=[]}use(r,n,o){return this.handlers.push({fulfilled:r,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){at.forEach(this.handlers,function(o){o!==null&&r(o)})}}const U8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qie=typeof URLSearchParams<"u"?URLSearchParams:hC,Vie=typeof FormData<"u"?FormData:null,Hie=typeof Blob<"u"?Blob:null,$ie={isBrowser:!0,classes:{URLSearchParams:qie,FormData:Vie,Blob:Hie},protocols:["http","https","file","blob","url","data"]},fC=typeof window<"u"&&typeof document<"u",Q_=typeof navigator=="object"&&navigator||void 0,Wie=fC&&(!Q_||["ReactNative","NativeScript","NS"].indexOf(Q_.product)<0),Gie=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Yie=fC&&window.location.href||"http://localhost",Kie=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fC,hasStandardBrowserEnv:Wie,hasStandardBrowserWebWorkerEnv:Gie,navigator:Q_,origin:Yie},Symbol.toStringTag,{value:"Module"})),Do={...Kie,...$ie};function Qie(t,r){return z1(t,new Do.classes.URLSearchParams,Object.assign({visitor:function(n,o,a,c){return Do.isNode&&at.isBuffer(n)?(this.append(o,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},r))}function Jie(t){return at.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function Zie(t){const r={},n=Object.keys(t);let o;const a=n.length;let c;for(o=0;o<a;o++)c=n[o],r[c]=t[c];return r}function q8(t){function r(n,o,a,c){let d=n[c++];if(d==="__proto__")return!0;const f=Number.isFinite(+d),p=c>=n.length;return d=!d&&at.isArray(a)?a.length:d,p?(at.hasOwnProp(a,d)?a[d]=[a[d],o]:a[d]=o,!f):((!a[d]||!at.isObject(a[d]))&&(a[d]=[]),r(n,o,a[d],c)&&at.isArray(a[d])&&(a[d]=Zie(a[d])),!f)}if(at.isFormData(t)&&at.isFunction(t.entries)){const n={};return at.forEachEntry(t,(o,a)=>{r(Jie(o),a,n,0)}),n}return null}function Xie(t,r,n){if(at.isString(t))try{return(r||JSON.parse)(t),at.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(t)}const eb={transitional:U8,adapter:["xhr","http","fetch"],transformRequest:[function(r,n){const o=n.getContentType()||"",a=o.indexOf("application/json")>-1,c=at.isObject(r);if(c&&at.isHTMLForm(r)&&(r=new FormData(r)),at.isFormData(r))return a?JSON.stringify(q8(r)):r;if(at.isArrayBuffer(r)||at.isBuffer(r)||at.isStream(r)||at.isFile(r)||at.isBlob(r)||at.isReadableStream(r))return r;if(at.isArrayBufferView(r))return r.buffer;if(at.isURLSearchParams(r))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let f;if(c){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Qie(r,this.formSerializer).toString();if((f=at.isFileList(r))||o.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return z1(f?{"files[]":r}:r,p&&new p,this.formSerializer)}}return c||a?(n.setContentType("application/json",!1),Xie(r)):r}],transformResponse:[function(r){const n=this.transitional||eb.transitional,o=n&&n.forcedJSONParsing,a=this.responseType==="json";if(at.isResponse(r)||at.isReadableStream(r))return r;if(r&&at.isString(r)&&(o&&!this.responseType||a)){const d=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(r)}catch(f){if(d)throw f.name==="SyntaxError"?vn.from(f,vn.ERR_BAD_RESPONSE,this,null,this.response):f}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Do.classes.FormData,Blob:Do.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};at.forEach(["delete","get","head","post","put","patch"],t=>{eb.headers[t]={}});const eoe=at.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),toe=t=>{const r={};let n,o,a;return t&&t.split(`
`).forEach(function(d){a=d.indexOf(":"),n=d.substring(0,a).trim().toLowerCase(),o=d.substring(a+1).trim(),!(!n||r[n]&&eoe[n])&&(n==="set-cookie"?r[n]?r[n].push(o):r[n]=[o]:r[n]=r[n]?r[n]+", "+o:o)}),r},gT=Symbol("internals");function Gm(t){return t&&String(t).trim().toLowerCase()}function yk(t){return t===!1||t==null?t:at.isArray(t)?t.map(yk):String(t)}function noe(t){const r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(t);)r[o[1]]=o[2];return r}const roe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Fv(t,r,n,o,a){if(at.isFunction(o))return o.call(this,r,n);if(a&&(r=n),!!at.isString(r)){if(at.isString(o))return r.indexOf(o)!==-1;if(at.isRegExp(o))return o.test(r)}}function ioe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,n,o)=>n.toUpperCase()+o)}function ooe(t,r){const n=at.toCamelCase(" "+r);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+n,{value:function(a,c,d){return this[o].call(this,r,a,c,d)},configurable:!0})})}let as=class{constructor(r){r&&this.set(r)}set(r,n,o){const a=this;function c(f,p,g){const k=Gm(p);if(!k)throw new Error("header name must be a non-empty string");const v=at.findKey(a,k);(!v||a[v]===void 0||g===!0||g===void 0&&a[v]!==!1)&&(a[v||p]=yk(f))}const d=(f,p)=>at.forEach(f,(g,k)=>c(g,k,p));if(at.isPlainObject(r)||r instanceof this.constructor)d(r,n);else if(at.isString(r)&&(r=r.trim())&&!roe(r))d(toe(r),n);else if(at.isObject(r)&&at.isIterable(r)){let f={},p,g;for(const k of r){if(!at.isArray(k))throw TypeError("Object iterator must return a key-value pair");f[g=k[0]]=(p=f[g])?at.isArray(p)?[...p,k[1]]:[p,k[1]]:k[1]}d(f,n)}else r!=null&&c(n,r,o);return this}get(r,n){if(r=Gm(r),r){const o=at.findKey(this,r);if(o){const a=this[o];if(!n)return a;if(n===!0)return noe(a);if(at.isFunction(n))return n.call(this,a,o);if(at.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,n){if(r=Gm(r),r){const o=at.findKey(this,r);return!!(o&&this[o]!==void 0&&(!n||Fv(this,this[o],o,n)))}return!1}delete(r,n){const o=this;let a=!1;function c(d){if(d=Gm(d),d){const f=at.findKey(o,d);f&&(!n||Fv(o,o[f],f,n))&&(delete o[f],a=!0)}}return at.isArray(r)?r.forEach(c):c(r),a}clear(r){const n=Object.keys(this);let o=n.length,a=!1;for(;o--;){const c=n[o];(!r||Fv(this,this[c],c,r,!0))&&(delete this[c],a=!0)}return a}normalize(r){const n=this,o={};return at.forEach(this,(a,c)=>{const d=at.findKey(o,c);if(d){n[d]=yk(a),delete n[c];return}const f=r?ioe(c):String(c).trim();f!==c&&delete n[c],n[f]=yk(a),o[f]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const n=Object.create(null);return at.forEach(this,(o,a)=>{o!=null&&o!==!1&&(n[a]=r&&at.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,n])=>r+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...n){const o=new this(r);return n.forEach(a=>o.set(a)),o}static accessor(r){const o=(this[gT]=this[gT]={accessors:{}}).accessors,a=this.prototype;function c(d){const f=Gm(d);o[f]||(ooe(a,d),o[f]=!0)}return at.isArray(r)?r.forEach(c):c(r),this}};as.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);at.reduceDescriptors(as.prototype,({value:t},r)=>{let n=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(o){this[n]=o}}});at.freezeMethods(as);function zv(t,r){const n=this||eb,o=r||n,a=as.from(o.headers);let c=o.data;return at.forEach(t,function(f){c=f.call(n,c,a.normalize(),r?r.status:void 0)}),a.normalize(),c}function V8(t){return!!(t&&t.__CANCEL__)}function Cp(t,r,n){vn.call(this,t??"canceled",vn.ERR_CANCELED,r,n),this.name="CanceledError"}at.inherits(Cp,vn,{__CANCEL__:!0});function H8(t,r,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?t(n):r(new vn("Request failed with status code "+n.status,[vn.ERR_BAD_REQUEST,vn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function soe(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function aoe(t,r){t=t||10;const n=new Array(t),o=new Array(t);let a=0,c=0,d;return r=r!==void 0?r:1e3,function(p){const g=Date.now(),k=o[c];d||(d=g),n[a]=p,o[a]=g;let v=c,y=0;for(;v!==a;)y+=n[v++],v=v%t;if(a=(a+1)%t,a===c&&(c=(c+1)%t),g-d<r)return;const w=k&&g-k;return w?Math.round(y*1e3/w):void 0}}function loe(t,r){let n=0,o=1e3/r,a,c;const d=(g,k=Date.now())=>{n=k,a=null,c&&(clearTimeout(c),c=null),t.apply(null,g)};return[(...g)=>{const k=Date.now(),v=k-n;v>=o?d(g,k):(a=g,c||(c=setTimeout(()=>{c=null,d(a)},o-v)))},()=>a&&d(a)]}const n1=(t,r,n=3)=>{let o=0;const a=aoe(50,250);return loe(c=>{const d=c.loaded,f=c.lengthComputable?c.total:void 0,p=d-o,g=a(p),k=d<=f;o=d;const v={loaded:d,total:f,progress:f?d/f:void 0,bytes:p,rate:g||void 0,estimated:g&&f&&k?(f-d)/g:void 0,event:c,lengthComputable:f!=null,[r?"download":"upload"]:!0};t(v)},n)},bT=(t,r)=>{const n=t!=null;return[o=>r[0]({lengthComputable:n,total:t,loaded:o}),r[1]]},kT=t=>(...r)=>at.asap(()=>t(...r)),coe=Do.hasStandardBrowserEnv?((t,r)=>n=>(n=new URL(n,Do.origin),t.protocol===n.protocol&&t.host===n.host&&(r||t.port===n.port)))(new URL(Do.origin),Do.navigator&&/(msie|trident)/i.test(Do.navigator.userAgent)):()=>!0,uoe=Do.hasStandardBrowserEnv?{write(t,r,n,o,a,c){const d=[t+"="+encodeURIComponent(r)];at.isNumber(n)&&d.push("expires="+new Date(n).toGMTString()),at.isString(o)&&d.push("path="+o),at.isString(a)&&d.push("domain="+a),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function doe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function hoe(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function $8(t,r,n){let o=!doe(r);return t&&(o||n==!1)?hoe(t,r):r}const wT=t=>t instanceof as?{...t}:t;function Sh(t,r){r=r||{};const n={};function o(g,k,v,y){return at.isPlainObject(g)&&at.isPlainObject(k)?at.merge.call({caseless:y},g,k):at.isPlainObject(k)?at.merge({},k):at.isArray(k)?k.slice():k}function a(g,k,v,y){if(at.isUndefined(k)){if(!at.isUndefined(g))return o(void 0,g,v,y)}else return o(g,k,v,y)}function c(g,k){if(!at.isUndefined(k))return o(void 0,k)}function d(g,k){if(at.isUndefined(k)){if(!at.isUndefined(g))return o(void 0,g)}else return o(void 0,k)}function f(g,k,v){if(v in r)return o(g,k);if(v in t)return o(void 0,g)}const p={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:f,headers:(g,k,v)=>a(wT(g),wT(k),v,!0)};return at.forEach(Object.keys(Object.assign({},t,r)),function(k){const v=p[k]||a,y=v(t[k],r[k],k);at.isUndefined(y)&&v!==f||(n[k]=y)}),n}const W8=t=>{const r=Sh({},t);let{data:n,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:c,headers:d,auth:f}=r;r.headers=d=as.from(d),r.url=z8($8(r.baseURL,r.url,r.allowAbsoluteUrls),t.params,t.paramsSerializer),f&&d.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let p;if(at.isFormData(n)){if(Do.hasStandardBrowserEnv||Do.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((p=d.getContentType())!==!1){const[g,...k]=p?p.split(";").map(v=>v.trim()).filter(Boolean):[];d.setContentType([g||"multipart/form-data",...k].join("; "))}}if(Do.hasStandardBrowserEnv&&(o&&at.isFunction(o)&&(o=o(r)),o||o!==!1&&coe(r.url))){const g=a&&c&&uoe.read(c);g&&d.set(a,g)}return r},foe=typeof XMLHttpRequest<"u",poe=foe&&function(t){return new Promise(function(n,o){const a=W8(t);let c=a.data;const d=as.from(a.headers).normalize();let{responseType:f,onUploadProgress:p,onDownloadProgress:g}=a,k,v,y,w,x;function A(){w&&w(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(k),a.signal&&a.signal.removeEventListener("abort",k)}let D=new XMLHttpRequest;D.open(a.method.toUpperCase(),a.url,!0),D.timeout=a.timeout;function E(){if(!D)return;const P=as.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),H={data:!f||f==="text"||f==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:P,config:t,request:D};H8(function(N){n(N),A()},function(N){o(N),A()},H),D=null}"onloadend"in D?D.onloadend=E:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(E)},D.onabort=function(){D&&(o(new vn("Request aborted",vn.ECONNABORTED,t,D)),D=null)},D.onerror=function(){o(new vn("Network Error",vn.ERR_NETWORK,t,D)),D=null},D.ontimeout=function(){let F=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const H=a.transitional||U8;a.timeoutErrorMessage&&(F=a.timeoutErrorMessage),o(new vn(F,H.clarifyTimeoutError?vn.ETIMEDOUT:vn.ECONNABORTED,t,D)),D=null},c===void 0&&d.setContentType(null),"setRequestHeader"in D&&at.forEach(d.toJSON(),function(F,H){D.setRequestHeader(H,F)}),at.isUndefined(a.withCredentials)||(D.withCredentials=!!a.withCredentials),f&&f!=="json"&&(D.responseType=a.responseType),g&&([y,x]=n1(g,!0),D.addEventListener("progress",y)),p&&D.upload&&([v,w]=n1(p),D.upload.addEventListener("progress",v),D.upload.addEventListener("loadend",w)),(a.cancelToken||a.signal)&&(k=P=>{D&&(o(!P||P.type?new Cp(null,t,D):P),D.abort(),D=null)},a.cancelToken&&a.cancelToken.subscribe(k),a.signal&&(a.signal.aborted?k():a.signal.addEventListener("abort",k)));const M=soe(a.url);if(M&&Do.protocols.indexOf(M)===-1){o(new vn("Unsupported protocol "+M+":",vn.ERR_BAD_REQUEST,t));return}D.send(c||null)})},moe=(t,r)=>{const{length:n}=t=t?t.filter(Boolean):[];if(r||n){let o=new AbortController,a;const c=function(g){if(!a){a=!0,f();const k=g instanceof Error?g:this.reason;o.abort(k instanceof vn?k:new Cp(k instanceof Error?k.message:k))}};let d=r&&setTimeout(()=>{d=null,c(new vn(`timeout ${r} of ms exceeded`,vn.ETIMEDOUT))},r);const f=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(g=>{g.unsubscribe?g.unsubscribe(c):g.removeEventListener("abort",c)}),t=null)};t.forEach(g=>g.addEventListener("abort",c));const{signal:p}=o;return p.unsubscribe=()=>at.asap(f),p}},goe=function*(t,r){let n=t.byteLength;if(n<r){yield t;return}let o=0,a;for(;o<n;)a=o+r,yield t.slice(o,a),o=a},boe=async function*(t,r){for await(const n of koe(t))yield*goe(n,r)},koe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:n,value:o}=await r.read();if(n)break;yield o}}finally{await r.cancel()}},yT=(t,r,n,o)=>{const a=boe(t,r);let c=0,d,f=p=>{d||(d=!0,o&&o(p))};return new ReadableStream({async pull(p){try{const{done:g,value:k}=await a.next();if(g){f(),p.close();return}let v=k.byteLength;if(n){let y=c+=v;n(y)}p.enqueue(new Uint8Array(k))}catch(g){throw f(g),g}},cancel(p){return f(p),a.return()}},{highWaterMark:2})},U1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",G8=U1&&typeof ReadableStream=="function",woe=U1&&(typeof TextEncoder=="function"?(t=>r=>t.encode(r))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Y8=(t,...r)=>{try{return!!t(...r)}catch{return!1}},yoe=G8&&Y8(()=>{let t=!1;const r=new Request(Do.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!r}),vT=64*1024,J_=G8&&Y8(()=>at.isReadableStream(new Response("").body)),r1={stream:J_&&(t=>t.body)};U1&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!r1[r]&&(r1[r]=at.isFunction(t[r])?n=>n[r]():(n,o)=>{throw new vn(`Response type '${r}' is not supported`,vn.ERR_NOT_SUPPORT,o)})})})(new Response);const voe=async t=>{if(t==null)return 0;if(at.isBlob(t))return t.size;if(at.isSpecCompliantForm(t))return(await new Request(Do.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(at.isArrayBufferView(t)||at.isArrayBuffer(t))return t.byteLength;if(at.isURLSearchParams(t)&&(t=t+""),at.isString(t))return(await woe(t)).byteLength},_oe=async(t,r)=>{const n=at.toFiniteNumber(t.getContentLength());return n??voe(r)},Aoe=U1&&(async t=>{let{url:r,method:n,data:o,signal:a,cancelToken:c,timeout:d,onDownloadProgress:f,onUploadProgress:p,responseType:g,headers:k,withCredentials:v="same-origin",fetchOptions:y}=W8(t);g=g?(g+"").toLowerCase():"text";let w=moe([a,c&&c.toAbortSignal()],d),x;const A=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let D;try{if(p&&yoe&&n!=="get"&&n!=="head"&&(D=await _oe(k,o))!==0){let H=new Request(r,{method:"POST",body:o,duplex:"half"}),V;if(at.isFormData(o)&&(V=H.headers.get("content-type"))&&k.setContentType(V),H.body){const[N,j]=bT(D,n1(kT(p)));o=yT(H.body,vT,N,j)}}at.isString(v)||(v=v?"include":"omit");const E="credentials"in Request.prototype;x=new Request(r,{...y,signal:w,method:n.toUpperCase(),headers:k.normalize().toJSON(),body:o,duplex:"half",credentials:E?v:void 0});let M=await fetch(x,y);const P=J_&&(g==="stream"||g==="response");if(J_&&(f||P&&A)){const H={};["status","statusText","headers"].forEach(q=>{H[q]=M[q]});const V=at.toFiniteNumber(M.headers.get("content-length")),[N,j]=f&&bT(V,n1(kT(f),!0))||[];M=new Response(yT(M.body,vT,N,()=>{j&&j(),A&&A()}),H)}g=g||"text";let F=await r1[at.findKey(r1,g)||"text"](M,t);return!P&&A&&A(),await new Promise((H,V)=>{H8(H,V,{data:F,headers:as.from(M.headers),status:M.status,statusText:M.statusText,config:t,request:x})})}catch(E){throw A&&A(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new vn("Network Error",vn.ERR_NETWORK,t,x),{cause:E.cause||E}):vn.from(E,E&&E.code,t,x)}}),Z_={http:Rie,xhr:poe,fetch:Aoe};at.forEach(Z_,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const _T=t=>`- ${t}`,Coe=t=>at.isFunction(t)||t===null||t===!1,K8={getAdapter:t=>{t=at.isArray(t)?t:[t];const{length:r}=t;let n,o;const a={};for(let c=0;c<r;c++){n=t[c];let d;if(o=n,!Coe(n)&&(o=Z_[(d=String(n)).toLowerCase()],o===void 0))throw new vn(`Unknown adapter '${d}'`);if(o)break;a[d||"#"+c]=o}if(!o){const c=Object.entries(a).map(([f,p])=>`adapter ${f} `+(p===!1?"is not supported by the environment":"is not available in the build"));let d=r?c.length>1?`since :
`+c.map(_T).join(`
`):" "+_T(c[0]):"as no adapter specified";throw new vn("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o},adapters:Z_};function Uv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Cp(null,t)}function AT(t){return Uv(t),t.headers=as.from(t.headers),t.data=zv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),K8.getAdapter(t.adapter||eb.adapter)(t).then(function(o){return Uv(t),o.data=zv.call(t,t.transformResponse,o),o.headers=as.from(o.headers),o},function(o){return V8(o)||(Uv(t),o&&o.response&&(o.response.data=zv.call(t,t.transformResponse,o.response),o.response.headers=as.from(o.response.headers))),Promise.reject(o)})}const Q8="1.10.0",q1={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{q1[t]=function(o){return typeof o===t||"a"+(r<1?"n ":" ")+t}});const CT={};q1.transitional=function(r,n,o){function a(c,d){return"[Axios v"+Q8+"] Transitional option '"+c+"'"+d+(o?". "+o:"")}return(c,d,f)=>{if(r===!1)throw new vn(a(d," has been removed"+(n?" in "+n:"")),vn.ERR_DEPRECATED);return n&&!CT[d]&&(CT[d]=!0,console.warn(a(d," has been deprecated since v"+n+" and will be removed in the near future"))),r?r(c,d,f):!0}};q1.spelling=function(r){return(n,o)=>(console.warn(`${o} is likely a misspelling of ${r}`),!0)};function xoe(t,r,n){if(typeof t!="object")throw new vn("options must be an object",vn.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let a=o.length;for(;a-- >0;){const c=o[a],d=r[c];if(d){const f=t[c],p=f===void 0||d(f,c,t);if(p!==!0)throw new vn("option "+c+" must be "+p,vn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new vn("Unknown option "+c,vn.ERR_BAD_OPTION)}}const vk={assertOptions:xoe,validators:q1},Il=vk.validators;let wh=class{constructor(r){this.defaults=r||{},this.interceptors={request:new mT,response:new mT}}async request(r,n){try{return await this._request(r,n)}catch(o){if(o instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const c=a.stack?a.stack.replace(/^.+\n/,""):"";try{o.stack?c&&!String(o.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+c):o.stack=c}catch{}}throw o}}_request(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=Sh(this.defaults,n);const{transitional:o,paramsSerializer:a,headers:c}=n;o!==void 0&&vk.assertOptions(o,{silentJSONParsing:Il.transitional(Il.boolean),forcedJSONParsing:Il.transitional(Il.boolean),clarifyTimeoutError:Il.transitional(Il.boolean)},!1),a!=null&&(at.isFunction(a)?n.paramsSerializer={serialize:a}:vk.assertOptions(a,{encode:Il.function,serialize:Il.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),vk.assertOptions(n,{baseUrl:Il.spelling("baseURL"),withXsrfToken:Il.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let d=c&&at.merge(c.common,c[n.method]);c&&at.forEach(["delete","get","head","post","put","patch","common"],x=>{delete c[x]}),n.headers=as.concat(d,c);const f=[];let p=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(n)===!1||(p=p&&A.synchronous,f.unshift(A.fulfilled,A.rejected))});const g=[];this.interceptors.response.forEach(function(A){g.push(A.fulfilled,A.rejected)});let k,v=0,y;if(!p){const x=[AT.bind(this),void 0];for(x.unshift.apply(x,f),x.push.apply(x,g),y=x.length,k=Promise.resolve(n);v<y;)k=k.then(x[v++],x[v++]);return k}y=f.length;let w=n;for(v=0;v<y;){const x=f[v++],A=f[v++];try{w=x(w)}catch(D){A.call(this,D);break}}try{k=AT.call(this,w)}catch(x){return Promise.reject(x)}for(v=0,y=g.length;v<y;)k=k.then(g[v++],g[v++]);return k}getUri(r){r=Sh(this.defaults,r);const n=$8(r.baseURL,r.url,r.allowAbsoluteUrls);return z8(n,r.params,r.paramsSerializer)}};at.forEach(["delete","get","head","options"],function(r){wh.prototype[r]=function(n,o){return this.request(Sh(o||{},{method:r,url:n,data:(o||{}).data}))}});at.forEach(["post","put","patch"],function(r){function n(o){return function(c,d,f){return this.request(Sh(f||{},{method:r,headers:o?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}wh.prototype[r]=n(),wh.prototype[r+"Form"]=n(!0)});let Soe=class J8{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(c){n=c});const o=this;this.promise.then(a=>{if(!o._listeners)return;let c=o._listeners.length;for(;c-- >0;)o._listeners[c](a);o._listeners=null}),this.promise.then=a=>{let c;const d=new Promise(f=>{o.subscribe(f),c=f}).then(a);return d.cancel=function(){o.unsubscribe(c)},d},r(function(c,d,f){o.reason||(o.reason=new Cp(c,d,f),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const n=this._listeners.indexOf(r);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const r=new AbortController,n=o=>{r.abort(o)};return this.subscribe(n),r.signal.unsubscribe=()=>this.unsubscribe(n),r.signal}static source(){let r;return{token:new J8(function(a){r=a}),cancel:r}}};function Eoe(t){return function(n){return t.apply(null,n)}}function Doe(t){return at.isObject(t)&&t.isAxiosError===!0}const X_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(X_).forEach(([t,r])=>{X_[r]=t});function Z8(t){const r=new wh(t),n=D8(wh.prototype.request,r);return at.extend(n,wh.prototype,r,{allOwnKeys:!0}),at.extend(n,r,null,{allOwnKeys:!0}),n.create=function(a){return Z8(Sh(t,a))},n}const Ci=Z8(eb);Ci.Axios=wh;Ci.CanceledError=Cp;Ci.CancelToken=Soe;Ci.isCancel=V8;Ci.VERSION=Q8;Ci.toFormData=z1;Ci.AxiosError=vn;Ci.Cancel=Ci.CanceledError;Ci.all=function(r){return Promise.all(r)};Ci.spread=Eoe;Ci.isAxiosError=Doe;Ci.mergeConfig=Sh;Ci.AxiosHeaders=as;Ci.formToJSON=t=>q8(at.isHTMLForm(t)?new FormData(t):t);Ci.getAdapter=K8.getAdapter;Ci.HttpStatusCode=X_;Ci.default=Ci;const{Axios:Awe,AxiosError:Cwe,CanceledError:xwe,isCancel:Swe,CancelToken:Ewe,VERSION:Dwe,all:Iwe,Cancel:Twe,isAxiosError:Nwe,spread:Mwe,toFormData:Pwe,AxiosHeaders:Owe,HttpStatusCode:Lwe,formToJSON:Bwe,getAdapter:jwe,mergeConfig:Rwe}=Ci;function K0(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var qv={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var xT;function Ioe(){return xT||(xT=1,function(t,r){(function(n){t.exports=n()})(function(){return function n(o,a,c){function d(g,k){if(!a[g]){if(!o[g]){var v=typeof K0=="function"&&K0;if(!k&&v)return v(g,!0);if(f)return f(g,!0);var y=new Error("Cannot find module '"+g+"'");throw y.code="MODULE_NOT_FOUND",y}var w=a[g]={exports:{}};o[g][0].call(w.exports,function(x){var A=o[g][1][x];return d(A||x)},w,w.exports,n,o,a,c)}return a[g].exports}for(var f=typeof K0=="function"&&K0,p=0;p<c.length;p++)d(c[p]);return d}({1:[function(n,o,a){var c=n("./utils"),d=n("./support"),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(p){for(var g,k,v,y,w,x,A,D=[],E=0,M=p.length,P=M,F=c.getTypeOf(p)!=="string";E<p.length;)P=M-E,v=F?(g=p[E++],k=E<M?p[E++]:0,E<M?p[E++]:0):(g=p.charCodeAt(E++),k=E<M?p.charCodeAt(E++):0,E<M?p.charCodeAt(E++):0),y=g>>2,w=(3&g)<<4|k>>4,x=1<P?(15&k)<<2|v>>6:64,A=2<P?63&v:64,D.push(f.charAt(y)+f.charAt(w)+f.charAt(x)+f.charAt(A));return D.join("")},a.decode=function(p){var g,k,v,y,w,x,A=0,D=0,E="data:";if(p.substr(0,E.length)===E)throw new Error("Invalid base64 input, it looks like a data url.");var M,P=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===f.charAt(64)&&P--,p.charAt(p.length-2)===f.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(M=d.uint8array?new Uint8Array(0|P):new Array(0|P);A<p.length;)g=f.indexOf(p.charAt(A++))<<2|(y=f.indexOf(p.charAt(A++)))>>4,k=(15&y)<<4|(w=f.indexOf(p.charAt(A++)))>>2,v=(3&w)<<6|(x=f.indexOf(p.charAt(A++))),M[D++]=g,w!==64&&(M[D++]=k),x!==64&&(M[D++]=v);return M}},{"./support":30,"./utils":32}],2:[function(n,o,a){var c=n("./external"),d=n("./stream/DataWorker"),f=n("./stream/Crc32Probe"),p=n("./stream/DataLengthProbe");function g(k,v,y,w,x){this.compressedSize=k,this.uncompressedSize=v,this.crc32=y,this.compression=w,this.compressedContent=x}g.prototype={getContentWorker:function(){var k=new d(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),v=this;return k.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),k},getCompressedWorker:function(){return new d(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(k,v,y){return k.pipe(new f).pipe(new p("uncompressedSize")).pipe(v.compressWorker(y)).pipe(new p("compressedSize")).withStreamInfo("compression",v)},o.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,o,a){var c=n("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},a.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,o,a){var c=n("./utils"),d=function(){for(var f,p=[],g=0;g<256;g++){f=g;for(var k=0;k<8;k++)f=1&f?3988292384^f>>>1:f>>>1;p[g]=f}return p}();o.exports=function(f,p){return f!==void 0&&f.length?c.getTypeOf(f)!=="string"?function(g,k,v,y){var w=d,x=y+v;g^=-1;for(var A=y;A<x;A++)g=g>>>8^w[255&(g^k[A])];return-1^g}(0|p,f,f.length,0):function(g,k,v,y){var w=d,x=y+v;g^=-1;for(var A=y;A<x;A++)g=g>>>8^w[255&(g^k.charCodeAt(A))];return-1^g}(0|p,f,f.length,0):0}},{"./utils":32}],5:[function(n,o,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(n,o,a){var c=null;c=typeof Promise<"u"?Promise:n("lie"),o.exports={Promise:c}},{lie:37}],7:[function(n,o,a){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=n("pako"),f=n("./utils"),p=n("./stream/GenericWorker"),g=c?"uint8array":"array";function k(v,y){p.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=y,this.meta={}}a.magic="\b\0",f.inherits(k,p),k.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(f.transformTo(g,v.data),!1)},k.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},k.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},k.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(y){v.push({data:y,meta:v.meta})}},a.compressWorker=function(v){return new k("Deflate",v)},a.uncompressWorker=function(){return new k("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,o,a){function c(w,x){var A,D="";for(A=0;A<x;A++)D+=String.fromCharCode(255&w),w>>>=8;return D}function d(w,x,A,D,E,M){var P,F,H=w.file,V=w.compression,N=M!==g.utf8encode,j=f.transformTo("string",M(H.name)),q=f.transformTo("string",g.utf8encode(H.name)),Q=H.comment,$=f.transformTo("string",M(Q)),R=f.transformTo("string",g.utf8encode(Q)),Y=q.length!==H.name.length,B=R.length!==Q.length,ne="",de="",ae="",oe=H.dir,ye=H.date,re={crc32:0,compressedSize:0,uncompressedSize:0};x&&!A||(re.crc32=w.crc32,re.compressedSize=w.compressedSize,re.uncompressedSize=w.uncompressedSize);var xe=0;x&&(xe|=8),N||!Y&&!B||(xe|=2048);var X=0,Z=0;oe&&(X|=16),E==="UNIX"?(Z=798,X|=function(pe,we){var Pe=pe;return pe||(Pe=we?16893:33204),(65535&Pe)<<16}(H.unixPermissions,oe)):(Z=20,X|=function(pe){return 63&(pe||0)}(H.dosPermissions)),P=ye.getUTCHours(),P<<=6,P|=ye.getUTCMinutes(),P<<=5,P|=ye.getUTCSeconds()/2,F=ye.getUTCFullYear()-1980,F<<=4,F|=ye.getUTCMonth()+1,F<<=5,F|=ye.getUTCDate(),Y&&(de=c(1,1)+c(k(j),4)+q,ne+="up"+c(de.length,2)+de),B&&(ae=c(1,1)+c(k($),4)+R,ne+="uc"+c(ae.length,2)+ae);var se="";return se+=`
\0`,se+=c(xe,2),se+=V.magic,se+=c(P,2),se+=c(F,2),se+=c(re.crc32,4),se+=c(re.compressedSize,4),se+=c(re.uncompressedSize,4),se+=c(j.length,2),se+=c(ne.length,2),{fileRecord:v.LOCAL_FILE_HEADER+se+j+ne,dirRecord:v.CENTRAL_FILE_HEADER+c(Z,2)+se+c($.length,2)+"\0\0\0\0"+c(X,4)+c(D,4)+j+ne+$}}var f=n("../utils"),p=n("../stream/GenericWorker"),g=n("../utf8"),k=n("../crc32"),v=n("../signature");function y(w,x,A,D){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=A,this.encodeFileName=D,this.streamFiles=w,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}f.inherits(y,p),y.prototype.push=function(w){var x=w.meta.percent||0,A=this.entriesCount,D=this._sources.length;this.accumulate?this.contentBuffer.push(w):(this.bytesWritten+=w.data.length,p.prototype.push.call(this,{data:w.data,meta:{currentFile:this.currentFile,percent:A?(x+100*(A-D-1))/A:100}}))},y.prototype.openedSource=function(w){this.currentSourceOffset=this.bytesWritten,this.currentFile=w.file.name;var x=this.streamFiles&&!w.file.dir;if(x){var A=d(w,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:A.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(w){this.accumulate=!1;var x=this.streamFiles&&!w.file.dir,A=d(w,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(A.dirRecord),x)this.push({data:function(D){return v.DATA_DESCRIPTOR+c(D.crc32,4)+c(D.compressedSize,4)+c(D.uncompressedSize,4)}(w),meta:{percent:100}});else for(this.push({data:A.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var w=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var A=this.bytesWritten-w,D=function(E,M,P,F,H){var V=f.transformTo("string",H(F));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(E,2)+c(E,2)+c(M,4)+c(P,4)+c(V.length,2)+V}(this.dirRecords.length,A,w,this.zipComment,this.encodeFileName);this.push({data:D,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(w){this._sources.push(w);var x=this;return w.on("data",function(A){x.processChunk(A)}),w.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),w.on("error",function(A){x.error(A)}),this},y.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(w){var x=this._sources;if(!p.prototype.error.call(this,w))return!1;for(var A=0;A<x.length;A++)try{x[A].error(w)}catch{}return!0},y.prototype.lock=function(){p.prototype.lock.call(this);for(var w=this._sources,x=0;x<w.length;x++)w[x].lock()},o.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,o,a){var c=n("../compressions"),d=n("./ZipFileWorker");a.generateWorker=function(f,p,g){var k=new d(p.streamFiles,g,p.platform,p.encodeFileName),v=0;try{f.forEach(function(y,w){v++;var x=function(M,P){var F=M||P,H=c[F];if(!H)throw new Error(F+" is not a valid compression method !");return H}(w.options.compression,p.compression),A=w.options.compressionOptions||p.compressionOptions||{},D=w.dir,E=w.date;w._compressWorker(x,A).withStreamInfo("file",{name:y,dir:D,date:E,comment:w.comment||"",unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions}).pipe(k)}),k.entriesCount=v}catch(y){k.error(y)}return k}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,o,a){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new c;for(var f in this)typeof this[f]!="function"&&(d[f]=this[f]);return d}}(c.prototype=n("./object")).loadAsync=n("./load"),c.support=n("./support"),c.defaults=n("./defaults"),c.version="3.10.1",c.loadAsync=function(d,f){return new c().loadAsync(d,f)},c.external=n("./external"),o.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,o,a){var c=n("./utils"),d=n("./external"),f=n("./utf8"),p=n("./zipEntries"),g=n("./stream/Crc32Probe"),k=n("./nodejsUtils");function v(y){return new d.Promise(function(w,x){var A=y.decompressed.getContentWorker().pipe(new g);A.on("error",function(D){x(D)}).on("end",function(){A.streamInfo.crc32!==y.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):w()}).resume()})}o.exports=function(y,w){var x=this;return w=c.extend(w||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:f.utf8decode}),k.isNode&&k.isStream(y)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",y,!0,w.optimizedBinaryString,w.base64).then(function(A){var D=new p(w);return D.load(A),D}).then(function(A){var D=[d.Promise.resolve(A)],E=A.files;if(w.checkCRC32)for(var M=0;M<E.length;M++)D.push(v(E[M]));return d.Promise.all(D)}).then(function(A){for(var D=A.shift(),E=D.files,M=0;M<E.length;M++){var P=E[M],F=P.fileNameStr,H=c.resolve(P.fileNameStr);x.file(H,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:w.createFolders}),P.dir||(x.file(H).unsafeOriginalName=F)}return D.zipComment.length&&(x.comment=D.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,o,a){var c=n("../utils"),d=n("../stream/GenericWorker");function f(p,g){d.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(g)}c.inherits(f,d),f.prototype._bindStream=function(p){var g=this;(this._stream=p).pause(),p.on("data",function(k){g.push({data:k,meta:{percent:0}})}).on("error",function(k){g.isPaused?this.generatedError=k:g.error(k)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},f.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},f.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=f},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,o,a){var c=n("readable-stream").Readable;function d(f,p,g){c.call(this,p),this._helper=f;var k=this;f.on("data",function(v,y){k.push(v)||k._helper.pause(),g&&g(y)}).on("error",function(v){k.emit("error",v)}).on("end",function(){k.push(null)})}n("../utils").inherits(d,c),d.prototype._read=function(){this._helper.resume()},o.exports=d},{"../utils":32,"readable-stream":16}],14:[function(n,o,a){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,d);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,d)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var d=new Buffer(c);return d.fill(0),d},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(n,o,a){function c(H,V,N){var j,q=f.getTypeOf(V),Q=f.extend(N||{},k);Q.date=Q.date||new Date,Q.compression!==null&&(Q.compression=Q.compression.toUpperCase()),typeof Q.unixPermissions=="string"&&(Q.unixPermissions=parseInt(Q.unixPermissions,8)),Q.unixPermissions&&16384&Q.unixPermissions&&(Q.dir=!0),Q.dosPermissions&&16&Q.dosPermissions&&(Q.dir=!0),Q.dir&&(H=E(H)),Q.createFolders&&(j=D(H))&&M.call(this,j,!0);var $=q==="string"&&Q.binary===!1&&Q.base64===!1;N&&N.binary!==void 0||(Q.binary=!$),(V instanceof v&&V.uncompressedSize===0||Q.dir||!V||V.length===0)&&(Q.base64=!1,Q.binary=!0,V="",Q.compression="STORE",q="string");var R=null;R=V instanceof v||V instanceof p?V:x.isNode&&x.isStream(V)?new A(H,V):f.prepareContent(H,V,Q.binary,Q.optimizedBinaryString,Q.base64);var Y=new y(H,R,Q);this.files[H]=Y}var d=n("./utf8"),f=n("./utils"),p=n("./stream/GenericWorker"),g=n("./stream/StreamHelper"),k=n("./defaults"),v=n("./compressedObject"),y=n("./zipObject"),w=n("./generate"),x=n("./nodejsUtils"),A=n("./nodejs/NodejsStreamInputAdapter"),D=function(H){H.slice(-1)==="/"&&(H=H.substring(0,H.length-1));var V=H.lastIndexOf("/");return 0<V?H.substring(0,V):""},E=function(H){return H.slice(-1)!=="/"&&(H+="/"),H},M=function(H,V){return V=V!==void 0?V:k.createFolders,H=E(H),this.files[H]||c.call(this,H,null,{dir:!0,createFolders:V}),this.files[H]};function P(H){return Object.prototype.toString.call(H)==="[object RegExp]"}var F={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(H){var V,N,j;for(V in this.files)j=this.files[V],(N=V.slice(this.root.length,V.length))&&V.slice(0,this.root.length)===this.root&&H(N,j)},filter:function(H){var V=[];return this.forEach(function(N,j){H(N,j)&&V.push(j)}),V},file:function(H,V,N){if(arguments.length!==1)return H=this.root+H,c.call(this,H,V,N),this;if(P(H)){var j=H;return this.filter(function(Q,$){return!$.dir&&j.test(Q)})}var q=this.files[this.root+H];return q&&!q.dir?q:null},folder:function(H){if(!H)return this;if(P(H))return this.filter(function(q,Q){return Q.dir&&H.test(q)});var V=this.root+H,N=M.call(this,V),j=this.clone();return j.root=N.name,j},remove:function(H){H=this.root+H;var V=this.files[H];if(V||(H.slice(-1)!=="/"&&(H+="/"),V=this.files[H]),V&&!V.dir)delete this.files[H];else for(var N=this.filter(function(q,Q){return Q.name.slice(0,H.length)===H}),j=0;j<N.length;j++)delete this.files[N[j].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(H){var V,N={};try{if((N=f.extend(H||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");f.checkSupport(N.type),N.platform!=="darwin"&&N.platform!=="freebsd"&&N.platform!=="linux"&&N.platform!=="sunos"||(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var j=N.comment||this.comment||"";V=w.generateWorker(this,N,j)}catch(q){(V=new p("error")).error(q)}return new g(V,N.type||"string",N.mimeType)},generateAsync:function(H,V){return this.generateInternalStream(H).accumulate(V)},generateNodeStream:function(H,V){return(H=H||{}).type||(H.type="nodebuffer"),this.generateInternalStream(H).toNodejsStream(V)}};o.exports=F},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,o,a){o.exports=n("stream")},{stream:void 0}],17:[function(n,o,a){var c=n("./DataReader");function d(f){c.call(this,f);for(var p=0;p<this.data.length;p++)f[p]=255&f[p]}n("../utils").inherits(d,c),d.prototype.byteAt=function(f){return this.data[this.zero+f]},d.prototype.lastIndexOfSignature=function(f){for(var p=f.charCodeAt(0),g=f.charCodeAt(1),k=f.charCodeAt(2),v=f.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===p&&this.data[y+1]===g&&this.data[y+2]===k&&this.data[y+3]===v)return y-this.zero;return-1},d.prototype.readAndCheckSignature=function(f){var p=f.charCodeAt(0),g=f.charCodeAt(1),k=f.charCodeAt(2),v=f.charCodeAt(3),y=this.readData(4);return p===y[0]&&g===y[1]&&k===y[2]&&v===y[3]},d.prototype.readData=function(f){if(this.checkOffset(f),f===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},o.exports=d},{"../utils":32,"./DataReader":18}],18:[function(n,o,a){var c=n("../utils");function d(f){this.data=f,this.length=f.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(f){this.checkIndex(this.index+f)},checkIndex:function(f){if(this.length<this.zero+f||f<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+f+"). Corrupted zip ?")},setIndex:function(f){this.checkIndex(f),this.index=f},skip:function(f){this.setIndex(this.index+f)},byteAt:function(){},readInt:function(f){var p,g=0;for(this.checkOffset(f),p=this.index+f-1;p>=this.index;p--)g=(g<<8)+this.byteAt(p);return this.index+=f,g},readString:function(f){return c.transformTo("string",this.readData(f))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var f=this.readInt(4);return new Date(Date.UTC(1980+(f>>25&127),(f>>21&15)-1,f>>16&31,f>>11&31,f>>5&63,(31&f)<<1))}},o.exports=d},{"../utils":32}],19:[function(n,o,a){var c=n("./Uint8ArrayReader");function d(f){c.call(this,f)}n("../utils").inherits(d,c),d.prototype.readData=function(f){this.checkOffset(f);var p=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},o.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,o,a){var c=n("./DataReader");function d(f){c.call(this,f)}n("../utils").inherits(d,c),d.prototype.byteAt=function(f){return this.data.charCodeAt(this.zero+f)},d.prototype.lastIndexOfSignature=function(f){return this.data.lastIndexOf(f)-this.zero},d.prototype.readAndCheckSignature=function(f){return f===this.readData(4)},d.prototype.readData=function(f){this.checkOffset(f);var p=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},o.exports=d},{"../utils":32,"./DataReader":18}],21:[function(n,o,a){var c=n("./ArrayReader");function d(f){c.call(this,f)}n("../utils").inherits(d,c),d.prototype.readData=function(f){if(this.checkOffset(f),f===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},o.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(n,o,a){var c=n("../utils"),d=n("../support"),f=n("./ArrayReader"),p=n("./StringReader"),g=n("./NodeBufferReader"),k=n("./Uint8ArrayReader");o.exports=function(v){var y=c.getTypeOf(v);return c.checkSupport(y),y!=="string"||d.uint8array?y==="nodebuffer"?new g(v):d.uint8array?new k(c.transformTo("uint8array",v)):new f(c.transformTo("array",v)):new p(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,o,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,o,a){var c=n("./GenericWorker"),d=n("../utils");function f(p){c.call(this,"ConvertWorker to "+p),this.destType=p}d.inherits(f,c),f.prototype.processChunk=function(p){this.push({data:d.transformTo(this.destType,p.data),meta:p.meta})},o.exports=f},{"../utils":32,"./GenericWorker":28}],25:[function(n,o,a){var c=n("./GenericWorker"),d=n("../crc32");function f(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(f,c),f.prototype.processChunk=function(p){this.streamInfo.crc32=d(p.data,this.streamInfo.crc32||0),this.push(p)},o.exports=f},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,o,a){var c=n("../utils"),d=n("./GenericWorker");function f(p){d.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}c.inherits(f,d),f.prototype.processChunk=function(p){if(p){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+p.data.length}d.prototype.processChunk.call(this,p)},o.exports=f},{"../utils":32,"./GenericWorker":28}],27:[function(n,o,a){var c=n("../utils"),d=n("./GenericWorker");function f(p){d.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(k){g.dataIsReady=!0,g.data=k,g.max=k&&k.length||0,g.type=c.getTypeOf(k),g.isPaused||g._tickAndRepeat()},function(k){g.error(k)})}c.inherits(f,d),f.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},f.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},f.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},f.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,g);break;case"uint8array":p=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":p=this.data.slice(this.index,g)}return this.index=g,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=f},{"../utils":32,"./GenericWorker":28}],28:[function(n,o,a){function c(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,f){return this._listeners[d].push(f),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,f){if(this._listeners[d])for(var p=0;p<this._listeners[d].length;p++)this._listeners[d][p].call(this,f)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var f=this;return d.on("data",function(p){f.processChunk(p)}),d.on("end",function(){f.end()}),d.on("error",function(p){f.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,f){return this.extraStreamInfo[d]=f,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},o.exports=c},{}],29:[function(n,o,a){var c=n("../utils"),d=n("./ConvertWorker"),f=n("./GenericWorker"),p=n("../base64"),g=n("../support"),k=n("../external"),v=null;if(g.nodestream)try{v=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(x,A){return new k.Promise(function(D,E){var M=[],P=x._internalType,F=x._outputType,H=x._mimeType;x.on("data",function(V,N){M.push(V),A&&A(N)}).on("error",function(V){M=[],E(V)}).on("end",function(){try{var V=function(N,j,q){switch(N){case"blob":return c.newBlob(c.transformTo("arraybuffer",j),q);case"base64":return p.encode(j);default:return c.transformTo(N,j)}}(F,function(N,j){var q,Q=0,$=null,R=0;for(q=0;q<j.length;q++)R+=j[q].length;switch(N){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for($=new Uint8Array(R),q=0;q<j.length;q++)$.set(j[q],Q),Q+=j[q].length;return $;case"nodebuffer":return Buffer.concat(j);default:throw new Error("concat : unsupported type '"+N+"'")}}(P,M),H);D(V)}catch(N){E(N)}M=[]}).resume()})}function w(x,A,D){var E=A;switch(A){case"blob":case"arraybuffer":E="uint8array";break;case"base64":E="string"}try{this._internalType=E,this._outputType=A,this._mimeType=D,c.checkSupport(E),this._worker=x.pipe(new d(E)),x.lock()}catch(M){this._worker=new f("error"),this._worker.error(M)}}w.prototype={accumulate:function(x){return y(this,x)},on:function(x,A){var D=this;return x==="data"?this._worker.on(x,function(E){A.call(D,E.data,E.meta)}):this._worker.on(x,function(){c.delay(A,arguments,D)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},x)}},o.exports=w},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,o,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var c=new ArrayBuffer(0);try{a.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(c),a.blob=d.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!n("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(n,o,a){for(var c=n("./utils"),d=n("./support"),f=n("./nodejsUtils"),p=n("./stream/GenericWorker"),g=new Array(256),k=0;k<256;k++)g[k]=252<=k?6:248<=k?5:240<=k?4:224<=k?3:192<=k?2:1;g[254]=g[254]=1;function v(){p.call(this,"utf-8 decode"),this.leftOver=null}function y(){p.call(this,"utf-8 encode")}a.utf8encode=function(w){return d.nodebuffer?f.newBufferFrom(w,"utf-8"):function(x){var A,D,E,M,P,F=x.length,H=0;for(M=0;M<F;M++)(64512&(D=x.charCodeAt(M)))==55296&&M+1<F&&(64512&(E=x.charCodeAt(M+1)))==56320&&(D=65536+(D-55296<<10)+(E-56320),M++),H+=D<128?1:D<2048?2:D<65536?3:4;for(A=d.uint8array?new Uint8Array(H):new Array(H),M=P=0;P<H;M++)(64512&(D=x.charCodeAt(M)))==55296&&M+1<F&&(64512&(E=x.charCodeAt(M+1)))==56320&&(D=65536+(D-55296<<10)+(E-56320),M++),D<128?A[P++]=D:(D<2048?A[P++]=192|D>>>6:(D<65536?A[P++]=224|D>>>12:(A[P++]=240|D>>>18,A[P++]=128|D>>>12&63),A[P++]=128|D>>>6&63),A[P++]=128|63&D);return A}(w)},a.utf8decode=function(w){return d.nodebuffer?c.transformTo("nodebuffer",w).toString("utf-8"):function(x){var A,D,E,M,P=x.length,F=new Array(2*P);for(A=D=0;A<P;)if((E=x[A++])<128)F[D++]=E;else if(4<(M=g[E]))F[D++]=65533,A+=M-1;else{for(E&=M===2?31:M===3?15:7;1<M&&A<P;)E=E<<6|63&x[A++],M--;1<M?F[D++]=65533:E<65536?F[D++]=E:(E-=65536,F[D++]=55296|E>>10&1023,F[D++]=56320|1023&E)}return F.length!==D&&(F.subarray?F=F.subarray(0,D):F.length=D),c.applyFromCharCode(F)}(w=c.transformTo(d.uint8array?"uint8array":"array",w))},c.inherits(v,p),v.prototype.processChunk=function(w){var x=c.transformTo(d.uint8array?"uint8array":"array",w.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var A=x;(x=new Uint8Array(A.length+this.leftOver.length)).set(this.leftOver,0),x.set(A,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var D=function(M,P){var F;for((P=P||M.length)>M.length&&(P=M.length),F=P-1;0<=F&&(192&M[F])==128;)F--;return F<0||F===0?P:F+g[M[F]]>P?F:P}(x),E=x;D!==x.length&&(d.uint8array?(E=x.subarray(0,D),this.leftOver=x.subarray(D,x.length)):(E=x.slice(0,D),this.leftOver=x.slice(D,x.length))),this.push({data:a.utf8decode(E),meta:w.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=v,c.inherits(y,p),y.prototype.processChunk=function(w){this.push({data:a.utf8encode(w.data),meta:w.meta})},a.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,o,a){var c=n("./support"),d=n("./base64"),f=n("./nodejsUtils"),p=n("./external");function g(A){return A}function k(A,D){for(var E=0;E<A.length;++E)D[E]=255&A.charCodeAt(E);return D}n("setimmediate"),a.newBlob=function(A,D){a.checkSupport("blob");try{return new Blob([A],{type:D})}catch{try{var E=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return E.append(A),E.getBlob(D)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(A,D,E){var M=[],P=0,F=A.length;if(F<=E)return String.fromCharCode.apply(null,A);for(;P<F;)D==="array"||D==="nodebuffer"?M.push(String.fromCharCode.apply(null,A.slice(P,Math.min(P+E,F)))):M.push(String.fromCharCode.apply(null,A.subarray(P,Math.min(P+E,F)))),P+=E;return M.join("")},stringifyByChar:function(A){for(var D="",E=0;E<A.length;E++)D+=String.fromCharCode(A[E]);return D},applyCanBeUsed:{uint8array:function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,f.allocBuffer(1)).length===1}catch{return!1}}()}};function y(A){var D=65536,E=a.getTypeOf(A),M=!0;if(E==="uint8array"?M=v.applyCanBeUsed.uint8array:E==="nodebuffer"&&(M=v.applyCanBeUsed.nodebuffer),M)for(;1<D;)try{return v.stringifyByChunk(A,E,D)}catch{D=Math.floor(D/2)}return v.stringifyByChar(A)}function w(A,D){for(var E=0;E<A.length;E++)D[E]=A[E];return D}a.applyFromCharCode=y;var x={};x.string={string:g,array:function(A){return k(A,new Array(A.length))},arraybuffer:function(A){return x.string.uint8array(A).buffer},uint8array:function(A){return k(A,new Uint8Array(A.length))},nodebuffer:function(A){return k(A,f.allocBuffer(A.length))}},x.array={string:y,array:g,arraybuffer:function(A){return new Uint8Array(A).buffer},uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return f.newBufferFrom(A)}},x.arraybuffer={string:function(A){return y(new Uint8Array(A))},array:function(A){return w(new Uint8Array(A),new Array(A.byteLength))},arraybuffer:g,uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return f.newBufferFrom(new Uint8Array(A))}},x.uint8array={string:y,array:function(A){return w(A,new Array(A.length))},arraybuffer:function(A){return A.buffer},uint8array:g,nodebuffer:function(A){return f.newBufferFrom(A)}},x.nodebuffer={string:y,array:function(A){return w(A,new Array(A.length))},arraybuffer:function(A){return x.nodebuffer.uint8array(A).buffer},uint8array:function(A){return w(A,new Uint8Array(A.length))},nodebuffer:g},a.transformTo=function(A,D){if(D=D||"",!A)return D;a.checkSupport(A);var E=a.getTypeOf(D);return x[E][A](D)},a.resolve=function(A){for(var D=A.split("/"),E=[],M=0;M<D.length;M++){var P=D[M];P==="."||P===""&&M!==0&&M!==D.length-1||(P===".."?E.pop():E.push(P))}return E.join("/")},a.getTypeOf=function(A){return typeof A=="string"?"string":Object.prototype.toString.call(A)==="[object Array]"?"array":c.nodebuffer&&f.isBuffer(A)?"nodebuffer":c.uint8array&&A instanceof Uint8Array?"uint8array":c.arraybuffer&&A instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(A){if(!c[A.toLowerCase()])throw new Error(A+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(A){var D,E,M="";for(E=0;E<(A||"").length;E++)M+="\\x"+((D=A.charCodeAt(E))<16?"0":"")+D.toString(16).toUpperCase();return M},a.delay=function(A,D,E){setImmediate(function(){A.apply(E||null,D||[])})},a.inherits=function(A,D){function E(){}E.prototype=D.prototype,A.prototype=new E},a.extend=function(){var A,D,E={};for(A=0;A<arguments.length;A++)for(D in arguments[A])Object.prototype.hasOwnProperty.call(arguments[A],D)&&E[D]===void 0&&(E[D]=arguments[A][D]);return E},a.prepareContent=function(A,D,E,M,P){return p.Promise.resolve(D).then(function(F){return c.blob&&(F instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(F))!==-1)&&typeof FileReader<"u"?new p.Promise(function(H,V){var N=new FileReader;N.onload=function(j){H(j.target.result)},N.onerror=function(j){V(j.target.error)},N.readAsArrayBuffer(F)}):F}).then(function(F){var H=a.getTypeOf(F);return H?(H==="arraybuffer"?F=a.transformTo("uint8array",F):H==="string"&&(P?F=d.decode(F):E&&M!==!0&&(F=function(V){return k(V,c.uint8array?new Uint8Array(V.length):new Array(V.length))}(F))),F):p.Promise.reject(new Error("Can't read the data of '"+A+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,o,a){var c=n("./reader/readerFor"),d=n("./utils"),f=n("./signature"),p=n("./zipEntry"),g=n("./support");function k(v){this.files=[],this.loadOptions=v}k.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(y)+", expected "+d.pretty(v)+")")}},isSignature:function(v,y){var w=this.reader.index;this.reader.setIndex(v);var x=this.reader.readString(4)===y;return this.reader.setIndex(w),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),y=g.uint8array?"uint8array":"array",w=d.transformTo(y,v);this.zipComment=this.loadOptions.decodeFileName(w)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,y,w,x=this.zip64EndOfCentralSize-44;0<x;)v=this.reader.readInt(2),y=this.reader.readInt(4),w=this.reader.readData(y),this.zip64ExtensibleData[v]={id:v,length:y,value:w}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,y;for(v=0;v<this.files.length;v++)y=this.files[v],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(f.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(f.CENTRAL_FILE_HEADER);)(v=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(f.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,f.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var y=v;if(this.checkSignature(f.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,f.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var w=this.centralDirOffset+this.centralDirSize;this.zip64&&(w+=20,w+=12+this.zip64EndOfCentralSize);var x=y-w;if(0<x)this.isSignature(y,f.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(v){this.reader=c(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=k},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,o,a){var c=n("./reader/readerFor"),d=n("./utils"),f=n("./compressedObject"),p=n("./crc32"),g=n("./utf8"),k=n("./compressions"),v=n("./support");function y(w,x){this.options=w,this.loadOptions=x}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(w){var x,A;if(w.skip(22),this.fileNameLength=w.readInt(2),A=w.readInt(2),this.fileName=w.readData(this.fileNameLength),w.skip(A),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(D){for(var E in k)if(Object.prototype.hasOwnProperty.call(k,E)&&k[E].magic===D)return k[E];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new f(this.compressedSize,this.uncompressedSize,this.crc32,x,w.readData(this.compressedSize))},readCentralPart:function(w){this.versionMadeBy=w.readInt(2),w.skip(2),this.bitFlag=w.readInt(2),this.compressionMethod=w.readString(2),this.date=w.readDate(),this.crc32=w.readInt(4),this.compressedSize=w.readInt(4),this.uncompressedSize=w.readInt(4);var x=w.readInt(2);if(this.extraFieldsLength=w.readInt(2),this.fileCommentLength=w.readInt(2),this.diskNumberStart=w.readInt(2),this.internalFileAttributes=w.readInt(2),this.externalFileAttributes=w.readInt(4),this.localHeaderOffset=w.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");w.skip(x),this.readExtraFields(w),this.parseZIP64ExtraField(w),this.fileComment=w.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var w=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),w==0&&(this.dosPermissions=63&this.externalFileAttributes),w==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var w=c(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=w.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=w.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=w.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=w.readInt(4))}},readExtraFields:function(w){var x,A,D,E=w.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});w.index+4<E;)x=w.readInt(2),A=w.readInt(2),D=w.readData(A),this.extraFields[x]={id:x,length:A,value:D};w.setIndex(E)},handleUTF8:function(){var w=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var A=d.transformTo(w,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(A)}var D=this.findExtraFieldUnicodeComment();if(D!==null)this.fileCommentStr=D;else{var E=d.transformTo(w,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(E)}}},findExtraFieldUnicodePath:function(){var w=this.extraFields[28789];if(w){var x=c(w.value);return x.readInt(1)!==1||p(this.fileName)!==x.readInt(4)?null:g.utf8decode(x.readData(w.length-5))}return null},findExtraFieldUnicodeComment:function(){var w=this.extraFields[25461];if(w){var x=c(w.value);return x.readInt(1)!==1||p(this.fileComment)!==x.readInt(4)?null:g.utf8decode(x.readData(w.length-5))}return null}},o.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,o,a){function c(x,A,D){this.name=x,this.dir=D.dir,this.date=D.date,this.comment=D.comment,this.unixPermissions=D.unixPermissions,this.dosPermissions=D.dosPermissions,this._data=A,this._dataBinary=D.binary,this.options={compression:D.compression,compressionOptions:D.compressionOptions}}var d=n("./stream/StreamHelper"),f=n("./stream/DataWorker"),p=n("./utf8"),g=n("./compressedObject"),k=n("./stream/GenericWorker");c.prototype={internalStream:function(x){var A=null,D="string";try{if(!x)throw new Error("No output type specified.");var E=(D=x.toLowerCase())==="string"||D==="text";D!=="binarystring"&&D!=="text"||(D="string"),A=this._decompressWorker();var M=!this._dataBinary;M&&!E&&(A=A.pipe(new p.Utf8EncodeWorker)),!M&&E&&(A=A.pipe(new p.Utf8DecodeWorker))}catch(P){(A=new k("error")).error(P)}return new d(A,D,"")},async:function(x,A){return this.internalStream(x).accumulate(A)},nodeStream:function(x,A){return this.internalStream(x||"nodebuffer").toNodejsStream(A)},_compressWorker:function(x,A){if(this._data instanceof g&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var D=this._decompressWorker();return this._dataBinary||(D=D.pipe(new p.Utf8EncodeWorker)),g.createWorkerFrom(D,x,A)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof k?this._data:new f(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},w=0;w<v.length;w++)c.prototype[v[w]]=y;o.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,o,a){(function(c){var d,f,p=c.MutationObserver||c.WebKitMutationObserver;if(p){var g=0,k=new p(x),v=c.document.createTextNode("");k.observe(v,{characterData:!0}),d=function(){v.data=g=++g%2}}else if(c.setImmediate||c.MessageChannel===void 0)d="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var A=c.document.createElement("script");A.onreadystatechange=function(){x(),A.onreadystatechange=null,A.parentNode.removeChild(A),A=null},c.document.documentElement.appendChild(A)}:function(){setTimeout(x,0)};else{var y=new c.MessageChannel;y.port1.onmessage=x,d=function(){y.port2.postMessage(0)}}var w=[];function x(){var A,D;f=!0;for(var E=w.length;E;){for(D=w,w=[],A=-1;++A<E;)D[A]();E=w.length}f=!1}o.exports=function(A){w.push(A)!==1||f||d()}}).call(this,typeof Ru<"u"?Ru:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,o,a){var c=n("immediate");function d(){}var f={},p=["REJECTED"],g=["FULFILLED"],k=["PENDING"];function v(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=k,this.queue=[],this.outcome=void 0,E!==d&&A(this,E)}function y(E,M,P){this.promise=E,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function w(E,M,P){c(function(){var F;try{F=M(P)}catch(H){return f.reject(E,H)}F===E?f.reject(E,new TypeError("Cannot resolve promise with itself")):f.resolve(E,F)})}function x(E){var M=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof M=="function")return function(){M.apply(E,arguments)}}function A(E,M){var P=!1;function F(N){P||(P=!0,f.reject(E,N))}function H(N){P||(P=!0,f.resolve(E,N))}var V=D(function(){M(H,F)});V.status==="error"&&F(V.value)}function D(E,M){var P={};try{P.value=E(M),P.status="success"}catch(F){P.status="error",P.value=F}return P}(o.exports=v).prototype.finally=function(E){if(typeof E!="function")return this;var M=this.constructor;return this.then(function(P){return M.resolve(E()).then(function(){return P})},function(P){return M.resolve(E()).then(function(){throw P})})},v.prototype.catch=function(E){return this.then(null,E)},v.prototype.then=function(E,M){if(typeof E!="function"&&this.state===g||typeof M!="function"&&this.state===p)return this;var P=new this.constructor(d);return this.state!==k?w(P,this.state===g?E:M,this.outcome):this.queue.push(new y(P,E,M)),P},y.prototype.callFulfilled=function(E){f.resolve(this.promise,E)},y.prototype.otherCallFulfilled=function(E){w(this.promise,this.onFulfilled,E)},y.prototype.callRejected=function(E){f.reject(this.promise,E)},y.prototype.otherCallRejected=function(E){w(this.promise,this.onRejected,E)},f.resolve=function(E,M){var P=D(x,M);if(P.status==="error")return f.reject(E,P.value);var F=P.value;if(F)A(E,F);else{E.state=g,E.outcome=M;for(var H=-1,V=E.queue.length;++H<V;)E.queue[H].callFulfilled(M)}return E},f.reject=function(E,M){E.state=p,E.outcome=M;for(var P=-1,F=E.queue.length;++P<F;)E.queue[P].callRejected(M);return E},v.resolve=function(E){return E instanceof this?E:f.resolve(new this(d),E)},v.reject=function(E){var M=new this(d);return f.reject(M,E)},v.all=function(E){var M=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=E.length,F=!1;if(!P)return this.resolve([]);for(var H=new Array(P),V=0,N=-1,j=new this(d);++N<P;)q(E[N],N);return j;function q(Q,$){M.resolve(Q).then(function(R){H[$]=R,++V!==P||F||(F=!0,f.resolve(j,H))},function(R){F||(F=!0,f.reject(j,R))})}},v.race=function(E){var M=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=E.length,F=!1;if(!P)return this.resolve([]);for(var H=-1,V=new this(d);++H<P;)N=E[H],M.resolve(N).then(function(j){F||(F=!0,f.resolve(V,j))},function(j){F||(F=!0,f.reject(V,j))});var N;return V}},{immediate:36}],38:[function(n,o,a){var c={};(0,n("./lib/utils/common").assign)(c,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),o.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,o,a){var c=n("./zlib/deflate"),d=n("./utils/common"),f=n("./utils/strings"),p=n("./zlib/messages"),g=n("./zlib/zstream"),k=Object.prototype.toString,v=0,y=-1,w=0,x=8;function A(E){if(!(this instanceof A))return new A(E);this.options=d.assign({level:y,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:w,to:""},E||{});var M=this.options;M.raw&&0<M.windowBits?M.windowBits=-M.windowBits:M.gzip&&0<M.windowBits&&M.windowBits<16&&(M.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var P=c.deflateInit2(this.strm,M.level,M.method,M.windowBits,M.memLevel,M.strategy);if(P!==v)throw new Error(p[P]);if(M.header&&c.deflateSetHeader(this.strm,M.header),M.dictionary){var F;if(F=typeof M.dictionary=="string"?f.string2buf(M.dictionary):k.call(M.dictionary)==="[object ArrayBuffer]"?new Uint8Array(M.dictionary):M.dictionary,(P=c.deflateSetDictionary(this.strm,F))!==v)throw new Error(p[P]);this._dict_set=!0}}function D(E,M){var P=new A(M);if(P.push(E,!0),P.err)throw P.msg||p[P.err];return P.result}A.prototype.push=function(E,M){var P,F,H=this.strm,V=this.options.chunkSize;if(this.ended)return!1;F=M===~~M?M:M===!0?4:0,typeof E=="string"?H.input=f.string2buf(E):k.call(E)==="[object ArrayBuffer]"?H.input=new Uint8Array(E):H.input=E,H.next_in=0,H.avail_in=H.input.length;do{if(H.avail_out===0&&(H.output=new d.Buf8(V),H.next_out=0,H.avail_out=V),(P=c.deflate(H,F))!==1&&P!==v)return this.onEnd(P),!(this.ended=!0);H.avail_out!==0&&(H.avail_in!==0||F!==4&&F!==2)||(this.options.to==="string"?this.onData(f.buf2binstring(d.shrinkBuf(H.output,H.next_out))):this.onData(d.shrinkBuf(H.output,H.next_out)))}while((0<H.avail_in||H.avail_out===0)&&P!==1);return F===4?(P=c.deflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===v):F!==2||(this.onEnd(v),!(H.avail_out=0))},A.prototype.onData=function(E){this.chunks.push(E)},A.prototype.onEnd=function(E){E===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},a.Deflate=A,a.deflate=D,a.deflateRaw=function(E,M){return(M=M||{}).raw=!0,D(E,M)},a.gzip=function(E,M){return(M=M||{}).gzip=!0,D(E,M)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,o,a){var c=n("./zlib/inflate"),d=n("./utils/common"),f=n("./utils/strings"),p=n("./zlib/constants"),g=n("./zlib/messages"),k=n("./zlib/zstream"),v=n("./zlib/gzheader"),y=Object.prototype.toString;function w(A){if(!(this instanceof w))return new w(A);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},A||{});var D=this.options;D.raw&&0<=D.windowBits&&D.windowBits<16&&(D.windowBits=-D.windowBits,D.windowBits===0&&(D.windowBits=-15)),!(0<=D.windowBits&&D.windowBits<16)||A&&A.windowBits||(D.windowBits+=32),15<D.windowBits&&D.windowBits<48&&(15&D.windowBits)==0&&(D.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var E=c.inflateInit2(this.strm,D.windowBits);if(E!==p.Z_OK)throw new Error(g[E]);this.header=new v,c.inflateGetHeader(this.strm,this.header)}function x(A,D){var E=new w(D);if(E.push(A,!0),E.err)throw E.msg||g[E.err];return E.result}w.prototype.push=function(A,D){var E,M,P,F,H,V,N=this.strm,j=this.options.chunkSize,q=this.options.dictionary,Q=!1;if(this.ended)return!1;M=D===~~D?D:D===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof A=="string"?N.input=f.binstring2buf(A):y.call(A)==="[object ArrayBuffer]"?N.input=new Uint8Array(A):N.input=A,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new d.Buf8(j),N.next_out=0,N.avail_out=j),(E=c.inflate(N,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&q&&(V=typeof q=="string"?f.string2buf(q):y.call(q)==="[object ArrayBuffer]"?new Uint8Array(q):q,E=c.inflateSetDictionary(this.strm,V)),E===p.Z_BUF_ERROR&&Q===!0&&(E=p.Z_OK,Q=!1),E!==p.Z_STREAM_END&&E!==p.Z_OK)return this.onEnd(E),!(this.ended=!0);N.next_out&&(N.avail_out!==0&&E!==p.Z_STREAM_END&&(N.avail_in!==0||M!==p.Z_FINISH&&M!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=f.utf8border(N.output,N.next_out),F=N.next_out-P,H=f.buf2string(N.output,P),N.next_out=F,N.avail_out=j-F,F&&d.arraySet(N.output,N.output,P,F,0),this.onData(H)):this.onData(d.shrinkBuf(N.output,N.next_out)))),N.avail_in===0&&N.avail_out===0&&(Q=!0)}while((0<N.avail_in||N.avail_out===0)&&E!==p.Z_STREAM_END);return E===p.Z_STREAM_END&&(M=p.Z_FINISH),M===p.Z_FINISH?(E=c.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===p.Z_OK):M!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(N.avail_out=0))},w.prototype.onData=function(A){this.chunks.push(A)},w.prototype.onEnd=function(A){A===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},a.Inflate=w,a.inflate=x,a.inflateRaw=function(A,D){return(D=D||{}).raw=!0,x(A,D)},a.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,o,a){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(p){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var k=g.shift();if(k){if(typeof k!="object")throw new TypeError(k+"must be non-object");for(var v in k)k.hasOwnProperty(v)&&(p[v]=k[v])}}return p},a.shrinkBuf=function(p,g){return p.length===g?p:p.subarray?p.subarray(0,g):(p.length=g,p)};var d={arraySet:function(p,g,k,v,y){if(g.subarray&&p.subarray)p.set(g.subarray(k,k+v),y);else for(var w=0;w<v;w++)p[y+w]=g[k+w]},flattenChunks:function(p){var g,k,v,y,w,x;for(g=v=0,k=p.length;g<k;g++)v+=p[g].length;for(x=new Uint8Array(v),g=y=0,k=p.length;g<k;g++)w=p[g],x.set(w,y),y+=w.length;return x}},f={arraySet:function(p,g,k,v,y){for(var w=0;w<v;w++)p[y+w]=g[k+w]},flattenChunks:function(p){return[].concat.apply([],p)}};a.setTyped=function(p){p?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,d)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,f))},a.setTyped(c)},{}],42:[function(n,o,a){var c=n("./common"),d=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var p=new c.Buf8(256),g=0;g<256;g++)p[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function k(v,y){if(y<65537&&(v.subarray&&f||!v.subarray&&d))return String.fromCharCode.apply(null,c.shrinkBuf(v,y));for(var w="",x=0;x<y;x++)w+=String.fromCharCode(v[x]);return w}p[254]=p[254]=1,a.string2buf=function(v){var y,w,x,A,D,E=v.length,M=0;for(A=0;A<E;A++)(64512&(w=v.charCodeAt(A)))==55296&&A+1<E&&(64512&(x=v.charCodeAt(A+1)))==56320&&(w=65536+(w-55296<<10)+(x-56320),A++),M+=w<128?1:w<2048?2:w<65536?3:4;for(y=new c.Buf8(M),A=D=0;D<M;A++)(64512&(w=v.charCodeAt(A)))==55296&&A+1<E&&(64512&(x=v.charCodeAt(A+1)))==56320&&(w=65536+(w-55296<<10)+(x-56320),A++),w<128?y[D++]=w:(w<2048?y[D++]=192|w>>>6:(w<65536?y[D++]=224|w>>>12:(y[D++]=240|w>>>18,y[D++]=128|w>>>12&63),y[D++]=128|w>>>6&63),y[D++]=128|63&w);return y},a.buf2binstring=function(v){return k(v,v.length)},a.binstring2buf=function(v){for(var y=new c.Buf8(v.length),w=0,x=y.length;w<x;w++)y[w]=v.charCodeAt(w);return y},a.buf2string=function(v,y){var w,x,A,D,E=y||v.length,M=new Array(2*E);for(w=x=0;w<E;)if((A=v[w++])<128)M[x++]=A;else if(4<(D=p[A]))M[x++]=65533,w+=D-1;else{for(A&=D===2?31:D===3?15:7;1<D&&w<E;)A=A<<6|63&v[w++],D--;1<D?M[x++]=65533:A<65536?M[x++]=A:(A-=65536,M[x++]=55296|A>>10&1023,M[x++]=56320|1023&A)}return k(M,x)},a.utf8border=function(v,y){var w;for((y=y||v.length)>v.length&&(y=v.length),w=y-1;0<=w&&(192&v[w])==128;)w--;return w<0||w===0?y:w+p[v[w]]>y?w:y}},{"./common":41}],43:[function(n,o,a){o.exports=function(c,d,f,p){for(var g=65535&c|0,k=c>>>16&65535|0,v=0;f!==0;){for(f-=v=2e3<f?2e3:f;k=k+(g=g+d[p++]|0)|0,--v;);g%=65521,k%=65521}return g|k<<16|0}},{}],44:[function(n,o,a){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,o,a){var c=function(){for(var d,f=[],p=0;p<256;p++){d=p;for(var g=0;g<8;g++)d=1&d?3988292384^d>>>1:d>>>1;f[p]=d}return f}();o.exports=function(d,f,p,g){var k=c,v=g+p;d^=-1;for(var y=g;y<v;y++)d=d>>>8^k[255&(d^f[y])];return-1^d}},{}],46:[function(n,o,a){var c,d=n("../utils/common"),f=n("./trees"),p=n("./adler32"),g=n("./crc32"),k=n("./messages"),v=0,y=4,w=0,x=-2,A=-1,D=4,E=2,M=8,P=9,F=286,H=30,V=19,N=2*F+1,j=15,q=3,Q=258,$=Q+q+1,R=42,Y=113,B=1,ne=2,de=3,ae=4;function oe(J,Ce){return J.msg=k[Ce],Ce}function ye(J){return(J<<1)-(4<J?9:0)}function re(J){for(var Ce=J.length;0<=--Ce;)J[Ce]=0}function xe(J){var Ce=J.state,ue=Ce.pending;ue>J.avail_out&&(ue=J.avail_out),ue!==0&&(d.arraySet(J.output,Ce.pending_buf,Ce.pending_out,ue,J.next_out),J.next_out+=ue,Ce.pending_out+=ue,J.total_out+=ue,J.avail_out-=ue,Ce.pending-=ue,Ce.pending===0&&(Ce.pending_out=0))}function X(J,Ce){f._tr_flush_block(J,0<=J.block_start?J.block_start:-1,J.strstart-J.block_start,Ce),J.block_start=J.strstart,xe(J.strm)}function Z(J,Ce){J.pending_buf[J.pending++]=Ce}function se(J,Ce){J.pending_buf[J.pending++]=Ce>>>8&255,J.pending_buf[J.pending++]=255&Ce}function pe(J,Ce){var ue,ge,he=J.max_chain_length,_e=J.strstart,Me=J.prev_length,Ie=J.nice_match,Ae=J.strstart>J.w_size-$?J.strstart-(J.w_size-$):0,Oe=J.window,Ge=J.w_mask,Xe=J.prev,dt=J.strstart+Q,Ue=Oe[_e+Me-1],We=Oe[_e+Me];J.prev_length>=J.good_match&&(he>>=2),Ie>J.lookahead&&(Ie=J.lookahead);do if(Oe[(ue=Ce)+Me]===We&&Oe[ue+Me-1]===Ue&&Oe[ue]===Oe[_e]&&Oe[++ue]===Oe[_e+1]){_e+=2,ue++;do;while(Oe[++_e]===Oe[++ue]&&Oe[++_e]===Oe[++ue]&&Oe[++_e]===Oe[++ue]&&Oe[++_e]===Oe[++ue]&&Oe[++_e]===Oe[++ue]&&Oe[++_e]===Oe[++ue]&&Oe[++_e]===Oe[++ue]&&Oe[++_e]===Oe[++ue]&&_e<dt);if(ge=Q-(dt-_e),_e=dt-Q,Me<ge){if(J.match_start=Ce,Ie<=(Me=ge))break;Ue=Oe[_e+Me-1],We=Oe[_e+Me]}}while((Ce=Xe[Ce&Ge])>Ae&&--he!=0);return Me<=J.lookahead?Me:J.lookahead}function we(J){var Ce,ue,ge,he,_e,Me,Ie,Ae,Oe,Ge,Xe=J.w_size;do{if(he=J.window_size-J.lookahead-J.strstart,J.strstart>=Xe+(Xe-$)){for(d.arraySet(J.window,J.window,Xe,Xe,0),J.match_start-=Xe,J.strstart-=Xe,J.block_start-=Xe,Ce=ue=J.hash_size;ge=J.head[--Ce],J.head[Ce]=Xe<=ge?ge-Xe:0,--ue;);for(Ce=ue=Xe;ge=J.prev[--Ce],J.prev[Ce]=Xe<=ge?ge-Xe:0,--ue;);he+=Xe}if(J.strm.avail_in===0)break;if(Me=J.strm,Ie=J.window,Ae=J.strstart+J.lookahead,Oe=he,Ge=void 0,Ge=Me.avail_in,Oe<Ge&&(Ge=Oe),ue=Ge===0?0:(Me.avail_in-=Ge,d.arraySet(Ie,Me.input,Me.next_in,Ge,Ae),Me.state.wrap===1?Me.adler=p(Me.adler,Ie,Ge,Ae):Me.state.wrap===2&&(Me.adler=g(Me.adler,Ie,Ge,Ae)),Me.next_in+=Ge,Me.total_in+=Ge,Ge),J.lookahead+=ue,J.lookahead+J.insert>=q)for(_e=J.strstart-J.insert,J.ins_h=J.window[_e],J.ins_h=(J.ins_h<<J.hash_shift^J.window[_e+1])&J.hash_mask;J.insert&&(J.ins_h=(J.ins_h<<J.hash_shift^J.window[_e+q-1])&J.hash_mask,J.prev[_e&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=_e,_e++,J.insert--,!(J.lookahead+J.insert<q)););}while(J.lookahead<$&&J.strm.avail_in!==0)}function Pe(J,Ce){for(var ue,ge;;){if(J.lookahead<$){if(we(J),J.lookahead<$&&Ce===v)return B;if(J.lookahead===0)break}if(ue=0,J.lookahead>=q&&(J.ins_h=(J.ins_h<<J.hash_shift^J.window[J.strstart+q-1])&J.hash_mask,ue=J.prev[J.strstart&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=J.strstart),ue!==0&&J.strstart-ue<=J.w_size-$&&(J.match_length=pe(J,ue)),J.match_length>=q)if(ge=f._tr_tally(J,J.strstart-J.match_start,J.match_length-q),J.lookahead-=J.match_length,J.match_length<=J.max_lazy_match&&J.lookahead>=q){for(J.match_length--;J.strstart++,J.ins_h=(J.ins_h<<J.hash_shift^J.window[J.strstart+q-1])&J.hash_mask,ue=J.prev[J.strstart&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=J.strstart,--J.match_length!=0;);J.strstart++}else J.strstart+=J.match_length,J.match_length=0,J.ins_h=J.window[J.strstart],J.ins_h=(J.ins_h<<J.hash_shift^J.window[J.strstart+1])&J.hash_mask;else ge=f._tr_tally(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++;if(ge&&(X(J,!1),J.strm.avail_out===0))return B}return J.insert=J.strstart<q-1?J.strstart:q-1,Ce===y?(X(J,!0),J.strm.avail_out===0?de:ae):J.last_lit&&(X(J,!1),J.strm.avail_out===0)?B:ne}function Te(J,Ce){for(var ue,ge,he;;){if(J.lookahead<$){if(we(J),J.lookahead<$&&Ce===v)return B;if(J.lookahead===0)break}if(ue=0,J.lookahead>=q&&(J.ins_h=(J.ins_h<<J.hash_shift^J.window[J.strstart+q-1])&J.hash_mask,ue=J.prev[J.strstart&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=J.strstart),J.prev_length=J.match_length,J.prev_match=J.match_start,J.match_length=q-1,ue!==0&&J.prev_length<J.max_lazy_match&&J.strstart-ue<=J.w_size-$&&(J.match_length=pe(J,ue),J.match_length<=5&&(J.strategy===1||J.match_length===q&&4096<J.strstart-J.match_start)&&(J.match_length=q-1)),J.prev_length>=q&&J.match_length<=J.prev_length){for(he=J.strstart+J.lookahead-q,ge=f._tr_tally(J,J.strstart-1-J.prev_match,J.prev_length-q),J.lookahead-=J.prev_length-1,J.prev_length-=2;++J.strstart<=he&&(J.ins_h=(J.ins_h<<J.hash_shift^J.window[J.strstart+q-1])&J.hash_mask,ue=J.prev[J.strstart&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=J.strstart),--J.prev_length!=0;);if(J.match_available=0,J.match_length=q-1,J.strstart++,ge&&(X(J,!1),J.strm.avail_out===0))return B}else if(J.match_available){if((ge=f._tr_tally(J,0,J.window[J.strstart-1]))&&X(J,!1),J.strstart++,J.lookahead--,J.strm.avail_out===0)return B}else J.match_available=1,J.strstart++,J.lookahead--}return J.match_available&&(ge=f._tr_tally(J,0,J.window[J.strstart-1]),J.match_available=0),J.insert=J.strstart<q-1?J.strstart:q-1,Ce===y?(X(J,!0),J.strm.avail_out===0?de:ae):J.last_lit&&(X(J,!1),J.strm.avail_out===0)?B:ne}function Ne(J,Ce,ue,ge,he){this.good_length=J,this.max_lazy=Ce,this.nice_length=ue,this.max_chain=ge,this.func=he}function rt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=M,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*N),this.dyn_dtree=new d.Buf16(2*(2*H+1)),this.bl_tree=new d.Buf16(2*(2*V+1)),re(this.dyn_ltree),re(this.dyn_dtree),re(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(j+1),this.heap=new d.Buf16(2*F+1),re(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*F+1),re(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ke(J){var Ce;return J&&J.state?(J.total_in=J.total_out=0,J.data_type=E,(Ce=J.state).pending=0,Ce.pending_out=0,Ce.wrap<0&&(Ce.wrap=-Ce.wrap),Ce.status=Ce.wrap?R:Y,J.adler=Ce.wrap===2?0:1,Ce.last_flush=v,f._tr_init(Ce),w):oe(J,x)}function Qe(J){var Ce=Ke(J);return Ce===w&&function(ue){ue.window_size=2*ue.w_size,re(ue.head),ue.max_lazy_match=c[ue.level].max_lazy,ue.good_match=c[ue.level].good_length,ue.nice_match=c[ue.level].nice_length,ue.max_chain_length=c[ue.level].max_chain,ue.strstart=0,ue.block_start=0,ue.lookahead=0,ue.insert=0,ue.match_length=ue.prev_length=q-1,ue.match_available=0,ue.ins_h=0}(J.state),Ce}function ze(J,Ce,ue,ge,he,_e){if(!J)return x;var Me=1;if(Ce===A&&(Ce=6),ge<0?(Me=0,ge=-ge):15<ge&&(Me=2,ge-=16),he<1||P<he||ue!==M||ge<8||15<ge||Ce<0||9<Ce||_e<0||D<_e)return oe(J,x);ge===8&&(ge=9);var Ie=new rt;return(J.state=Ie).strm=J,Ie.wrap=Me,Ie.gzhead=null,Ie.w_bits=ge,Ie.w_size=1<<Ie.w_bits,Ie.w_mask=Ie.w_size-1,Ie.hash_bits=he+7,Ie.hash_size=1<<Ie.hash_bits,Ie.hash_mask=Ie.hash_size-1,Ie.hash_shift=~~((Ie.hash_bits+q-1)/q),Ie.window=new d.Buf8(2*Ie.w_size),Ie.head=new d.Buf16(Ie.hash_size),Ie.prev=new d.Buf16(Ie.w_size),Ie.lit_bufsize=1<<he+6,Ie.pending_buf_size=4*Ie.lit_bufsize,Ie.pending_buf=new d.Buf8(Ie.pending_buf_size),Ie.d_buf=1*Ie.lit_bufsize,Ie.l_buf=3*Ie.lit_bufsize,Ie.level=Ce,Ie.strategy=_e,Ie.method=ue,Qe(J)}c=[new Ne(0,0,0,0,function(J,Ce){var ue=65535;for(ue>J.pending_buf_size-5&&(ue=J.pending_buf_size-5);;){if(J.lookahead<=1){if(we(J),J.lookahead===0&&Ce===v)return B;if(J.lookahead===0)break}J.strstart+=J.lookahead,J.lookahead=0;var ge=J.block_start+ue;if((J.strstart===0||J.strstart>=ge)&&(J.lookahead=J.strstart-ge,J.strstart=ge,X(J,!1),J.strm.avail_out===0)||J.strstart-J.block_start>=J.w_size-$&&(X(J,!1),J.strm.avail_out===0))return B}return J.insert=0,Ce===y?(X(J,!0),J.strm.avail_out===0?de:ae):(J.strstart>J.block_start&&(X(J,!1),J.strm.avail_out),B)}),new Ne(4,4,8,4,Pe),new Ne(4,5,16,8,Pe),new Ne(4,6,32,32,Pe),new Ne(4,4,16,16,Te),new Ne(8,16,32,32,Te),new Ne(8,16,128,128,Te),new Ne(8,32,128,256,Te),new Ne(32,128,258,1024,Te),new Ne(32,258,258,4096,Te)],a.deflateInit=function(J,Ce){return ze(J,Ce,M,15,8,0)},a.deflateInit2=ze,a.deflateReset=Qe,a.deflateResetKeep=Ke,a.deflateSetHeader=function(J,Ce){return J&&J.state?J.state.wrap!==2?x:(J.state.gzhead=Ce,w):x},a.deflate=function(J,Ce){var ue,ge,he,_e;if(!J||!J.state||5<Ce||Ce<0)return J?oe(J,x):x;if(ge=J.state,!J.output||!J.input&&J.avail_in!==0||ge.status===666&&Ce!==y)return oe(J,J.avail_out===0?-5:x);if(ge.strm=J,ue=ge.last_flush,ge.last_flush=Ce,ge.status===R)if(ge.wrap===2)J.adler=0,Z(ge,31),Z(ge,139),Z(ge,8),ge.gzhead?(Z(ge,(ge.gzhead.text?1:0)+(ge.gzhead.hcrc?2:0)+(ge.gzhead.extra?4:0)+(ge.gzhead.name?8:0)+(ge.gzhead.comment?16:0)),Z(ge,255&ge.gzhead.time),Z(ge,ge.gzhead.time>>8&255),Z(ge,ge.gzhead.time>>16&255),Z(ge,ge.gzhead.time>>24&255),Z(ge,ge.level===9?2:2<=ge.strategy||ge.level<2?4:0),Z(ge,255&ge.gzhead.os),ge.gzhead.extra&&ge.gzhead.extra.length&&(Z(ge,255&ge.gzhead.extra.length),Z(ge,ge.gzhead.extra.length>>8&255)),ge.gzhead.hcrc&&(J.adler=g(J.adler,ge.pending_buf,ge.pending,0)),ge.gzindex=0,ge.status=69):(Z(ge,0),Z(ge,0),Z(ge,0),Z(ge,0),Z(ge,0),Z(ge,ge.level===9?2:2<=ge.strategy||ge.level<2?4:0),Z(ge,3),ge.status=Y);else{var Me=M+(ge.w_bits-8<<4)<<8;Me|=(2<=ge.strategy||ge.level<2?0:ge.level<6?1:ge.level===6?2:3)<<6,ge.strstart!==0&&(Me|=32),Me+=31-Me%31,ge.status=Y,se(ge,Me),ge.strstart!==0&&(se(ge,J.adler>>>16),se(ge,65535&J.adler)),J.adler=1}if(ge.status===69)if(ge.gzhead.extra){for(he=ge.pending;ge.gzindex<(65535&ge.gzhead.extra.length)&&(ge.pending!==ge.pending_buf_size||(ge.gzhead.hcrc&&ge.pending>he&&(J.adler=g(J.adler,ge.pending_buf,ge.pending-he,he)),xe(J),he=ge.pending,ge.pending!==ge.pending_buf_size));)Z(ge,255&ge.gzhead.extra[ge.gzindex]),ge.gzindex++;ge.gzhead.hcrc&&ge.pending>he&&(J.adler=g(J.adler,ge.pending_buf,ge.pending-he,he)),ge.gzindex===ge.gzhead.extra.length&&(ge.gzindex=0,ge.status=73)}else ge.status=73;if(ge.status===73)if(ge.gzhead.name){he=ge.pending;do{if(ge.pending===ge.pending_buf_size&&(ge.gzhead.hcrc&&ge.pending>he&&(J.adler=g(J.adler,ge.pending_buf,ge.pending-he,he)),xe(J),he=ge.pending,ge.pending===ge.pending_buf_size)){_e=1;break}_e=ge.gzindex<ge.gzhead.name.length?255&ge.gzhead.name.charCodeAt(ge.gzindex++):0,Z(ge,_e)}while(_e!==0);ge.gzhead.hcrc&&ge.pending>he&&(J.adler=g(J.adler,ge.pending_buf,ge.pending-he,he)),_e===0&&(ge.gzindex=0,ge.status=91)}else ge.status=91;if(ge.status===91)if(ge.gzhead.comment){he=ge.pending;do{if(ge.pending===ge.pending_buf_size&&(ge.gzhead.hcrc&&ge.pending>he&&(J.adler=g(J.adler,ge.pending_buf,ge.pending-he,he)),xe(J),he=ge.pending,ge.pending===ge.pending_buf_size)){_e=1;break}_e=ge.gzindex<ge.gzhead.comment.length?255&ge.gzhead.comment.charCodeAt(ge.gzindex++):0,Z(ge,_e)}while(_e!==0);ge.gzhead.hcrc&&ge.pending>he&&(J.adler=g(J.adler,ge.pending_buf,ge.pending-he,he)),_e===0&&(ge.status=103)}else ge.status=103;if(ge.status===103&&(ge.gzhead.hcrc?(ge.pending+2>ge.pending_buf_size&&xe(J),ge.pending+2<=ge.pending_buf_size&&(Z(ge,255&J.adler),Z(ge,J.adler>>8&255),J.adler=0,ge.status=Y)):ge.status=Y),ge.pending!==0){if(xe(J),J.avail_out===0)return ge.last_flush=-1,w}else if(J.avail_in===0&&ye(Ce)<=ye(ue)&&Ce!==y)return oe(J,-5);if(ge.status===666&&J.avail_in!==0)return oe(J,-5);if(J.avail_in!==0||ge.lookahead!==0||Ce!==v&&ge.status!==666){var Ie=ge.strategy===2?function(Ae,Oe){for(var Ge;;){if(Ae.lookahead===0&&(we(Ae),Ae.lookahead===0)){if(Oe===v)return B;break}if(Ae.match_length=0,Ge=f._tr_tally(Ae,0,Ae.window[Ae.strstart]),Ae.lookahead--,Ae.strstart++,Ge&&(X(Ae,!1),Ae.strm.avail_out===0))return B}return Ae.insert=0,Oe===y?(X(Ae,!0),Ae.strm.avail_out===0?de:ae):Ae.last_lit&&(X(Ae,!1),Ae.strm.avail_out===0)?B:ne}(ge,Ce):ge.strategy===3?function(Ae,Oe){for(var Ge,Xe,dt,Ue,We=Ae.window;;){if(Ae.lookahead<=Q){if(we(Ae),Ae.lookahead<=Q&&Oe===v)return B;if(Ae.lookahead===0)break}if(Ae.match_length=0,Ae.lookahead>=q&&0<Ae.strstart&&(Xe=We[dt=Ae.strstart-1])===We[++dt]&&Xe===We[++dt]&&Xe===We[++dt]){Ue=Ae.strstart+Q;do;while(Xe===We[++dt]&&Xe===We[++dt]&&Xe===We[++dt]&&Xe===We[++dt]&&Xe===We[++dt]&&Xe===We[++dt]&&Xe===We[++dt]&&Xe===We[++dt]&&dt<Ue);Ae.match_length=Q-(Ue-dt),Ae.match_length>Ae.lookahead&&(Ae.match_length=Ae.lookahead)}if(Ae.match_length>=q?(Ge=f._tr_tally(Ae,1,Ae.match_length-q),Ae.lookahead-=Ae.match_length,Ae.strstart+=Ae.match_length,Ae.match_length=0):(Ge=f._tr_tally(Ae,0,Ae.window[Ae.strstart]),Ae.lookahead--,Ae.strstart++),Ge&&(X(Ae,!1),Ae.strm.avail_out===0))return B}return Ae.insert=0,Oe===y?(X(Ae,!0),Ae.strm.avail_out===0?de:ae):Ae.last_lit&&(X(Ae,!1),Ae.strm.avail_out===0)?B:ne}(ge,Ce):c[ge.level].func(ge,Ce);if(Ie!==de&&Ie!==ae||(ge.status=666),Ie===B||Ie===de)return J.avail_out===0&&(ge.last_flush=-1),w;if(Ie===ne&&(Ce===1?f._tr_align(ge):Ce!==5&&(f._tr_stored_block(ge,0,0,!1),Ce===3&&(re(ge.head),ge.lookahead===0&&(ge.strstart=0,ge.block_start=0,ge.insert=0))),xe(J),J.avail_out===0))return ge.last_flush=-1,w}return Ce!==y?w:ge.wrap<=0?1:(ge.wrap===2?(Z(ge,255&J.adler),Z(ge,J.adler>>8&255),Z(ge,J.adler>>16&255),Z(ge,J.adler>>24&255),Z(ge,255&J.total_in),Z(ge,J.total_in>>8&255),Z(ge,J.total_in>>16&255),Z(ge,J.total_in>>24&255)):(se(ge,J.adler>>>16),se(ge,65535&J.adler)),xe(J),0<ge.wrap&&(ge.wrap=-ge.wrap),ge.pending!==0?w:1)},a.deflateEnd=function(J){var Ce;return J&&J.state?(Ce=J.state.status)!==R&&Ce!==69&&Ce!==73&&Ce!==91&&Ce!==103&&Ce!==Y&&Ce!==666?oe(J,x):(J.state=null,Ce===Y?oe(J,-3):w):x},a.deflateSetDictionary=function(J,Ce){var ue,ge,he,_e,Me,Ie,Ae,Oe,Ge=Ce.length;if(!J||!J.state||(_e=(ue=J.state).wrap)===2||_e===1&&ue.status!==R||ue.lookahead)return x;for(_e===1&&(J.adler=p(J.adler,Ce,Ge,0)),ue.wrap=0,Ge>=ue.w_size&&(_e===0&&(re(ue.head),ue.strstart=0,ue.block_start=0,ue.insert=0),Oe=new d.Buf8(ue.w_size),d.arraySet(Oe,Ce,Ge-ue.w_size,ue.w_size,0),Ce=Oe,Ge=ue.w_size),Me=J.avail_in,Ie=J.next_in,Ae=J.input,J.avail_in=Ge,J.next_in=0,J.input=Ce,we(ue);ue.lookahead>=q;){for(ge=ue.strstart,he=ue.lookahead-(q-1);ue.ins_h=(ue.ins_h<<ue.hash_shift^ue.window[ge+q-1])&ue.hash_mask,ue.prev[ge&ue.w_mask]=ue.head[ue.ins_h],ue.head[ue.ins_h]=ge,ge++,--he;);ue.strstart=ge,ue.lookahead=q-1,we(ue)}return ue.strstart+=ue.lookahead,ue.block_start=ue.strstart,ue.insert=ue.lookahead,ue.lookahead=0,ue.match_length=ue.prev_length=q-1,ue.match_available=0,J.next_in=Ie,J.input=Ae,J.avail_in=Me,ue.wrap=_e,w},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,o,a){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,o,a){o.exports=function(c,d){var f,p,g,k,v,y,w,x,A,D,E,M,P,F,H,V,N,j,q,Q,$,R,Y,B,ne;f=c.state,p=c.next_in,B=c.input,g=p+(c.avail_in-5),k=c.next_out,ne=c.output,v=k-(d-c.avail_out),y=k+(c.avail_out-257),w=f.dmax,x=f.wsize,A=f.whave,D=f.wnext,E=f.window,M=f.hold,P=f.bits,F=f.lencode,H=f.distcode,V=(1<<f.lenbits)-1,N=(1<<f.distbits)-1;e:do{P<15&&(M+=B[p++]<<P,P+=8,M+=B[p++]<<P,P+=8),j=F[M&V];t:for(;;){if(M>>>=q=j>>>24,P-=q,(q=j>>>16&255)===0)ne[k++]=65535&j;else{if(!(16&q)){if((64&q)==0){j=F[(65535&j)+(M&(1<<q)-1)];continue t}if(32&q){f.mode=12;break e}c.msg="invalid literal/length code",f.mode=30;break e}Q=65535&j,(q&=15)&&(P<q&&(M+=B[p++]<<P,P+=8),Q+=M&(1<<q)-1,M>>>=q,P-=q),P<15&&(M+=B[p++]<<P,P+=8,M+=B[p++]<<P,P+=8),j=H[M&N];n:for(;;){if(M>>>=q=j>>>24,P-=q,!(16&(q=j>>>16&255))){if((64&q)==0){j=H[(65535&j)+(M&(1<<q)-1)];continue n}c.msg="invalid distance code",f.mode=30;break e}if($=65535&j,P<(q&=15)&&(M+=B[p++]<<P,(P+=8)<q&&(M+=B[p++]<<P,P+=8)),w<($+=M&(1<<q)-1)){c.msg="invalid distance too far back",f.mode=30;break e}if(M>>>=q,P-=q,(q=k-v)<$){if(A<(q=$-q)&&f.sane){c.msg="invalid distance too far back",f.mode=30;break e}if(Y=E,(R=0)===D){if(R+=x-q,q<Q){for(Q-=q;ne[k++]=E[R++],--q;);R=k-$,Y=ne}}else if(D<q){if(R+=x+D-q,(q-=D)<Q){for(Q-=q;ne[k++]=E[R++],--q;);if(R=0,D<Q){for(Q-=q=D;ne[k++]=E[R++],--q;);R=k-$,Y=ne}}}else if(R+=D-q,q<Q){for(Q-=q;ne[k++]=E[R++],--q;);R=k-$,Y=ne}for(;2<Q;)ne[k++]=Y[R++],ne[k++]=Y[R++],ne[k++]=Y[R++],Q-=3;Q&&(ne[k++]=Y[R++],1<Q&&(ne[k++]=Y[R++]))}else{for(R=k-$;ne[k++]=ne[R++],ne[k++]=ne[R++],ne[k++]=ne[R++],2<(Q-=3););Q&&(ne[k++]=ne[R++],1<Q&&(ne[k++]=ne[R++]))}break}}break}}while(p<g&&k<y);p-=Q=P>>3,M&=(1<<(P-=Q<<3))-1,c.next_in=p,c.next_out=k,c.avail_in=p<g?g-p+5:5-(p-g),c.avail_out=k<y?y-k+257:257-(k-y),f.hold=M,f.bits=P}},{}],49:[function(n,o,a){var c=n("../utils/common"),d=n("./adler32"),f=n("./crc32"),p=n("./inffast"),g=n("./inftrees"),k=1,v=2,y=0,w=-2,x=1,A=852,D=592;function E(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function M(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function P(R){var Y;return R&&R.state?(Y=R.state,R.total_in=R.total_out=Y.total=0,R.msg="",Y.wrap&&(R.adler=1&Y.wrap),Y.mode=x,Y.last=0,Y.havedict=0,Y.dmax=32768,Y.head=null,Y.hold=0,Y.bits=0,Y.lencode=Y.lendyn=new c.Buf32(A),Y.distcode=Y.distdyn=new c.Buf32(D),Y.sane=1,Y.back=-1,y):w}function F(R){var Y;return R&&R.state?((Y=R.state).wsize=0,Y.whave=0,Y.wnext=0,P(R)):w}function H(R,Y){var B,ne;return R&&R.state?(ne=R.state,Y<0?(B=0,Y=-Y):(B=1+(Y>>4),Y<48&&(Y&=15)),Y&&(Y<8||15<Y)?w:(ne.window!==null&&ne.wbits!==Y&&(ne.window=null),ne.wrap=B,ne.wbits=Y,F(R))):w}function V(R,Y){var B,ne;return R?(ne=new M,(R.state=ne).window=null,(B=H(R,Y))!==y&&(R.state=null),B):w}var N,j,q=!0;function Q(R){if(q){var Y;for(N=new c.Buf32(512),j=new c.Buf32(32),Y=0;Y<144;)R.lens[Y++]=8;for(;Y<256;)R.lens[Y++]=9;for(;Y<280;)R.lens[Y++]=7;for(;Y<288;)R.lens[Y++]=8;for(g(k,R.lens,0,288,N,0,R.work,{bits:9}),Y=0;Y<32;)R.lens[Y++]=5;g(v,R.lens,0,32,j,0,R.work,{bits:5}),q=!1}R.lencode=N,R.lenbits=9,R.distcode=j,R.distbits=5}function $(R,Y,B,ne){var de,ae=R.state;return ae.window===null&&(ae.wsize=1<<ae.wbits,ae.wnext=0,ae.whave=0,ae.window=new c.Buf8(ae.wsize)),ne>=ae.wsize?(c.arraySet(ae.window,Y,B-ae.wsize,ae.wsize,0),ae.wnext=0,ae.whave=ae.wsize):(ne<(de=ae.wsize-ae.wnext)&&(de=ne),c.arraySet(ae.window,Y,B-ne,de,ae.wnext),(ne-=de)?(c.arraySet(ae.window,Y,B-ne,ne,0),ae.wnext=ne,ae.whave=ae.wsize):(ae.wnext+=de,ae.wnext===ae.wsize&&(ae.wnext=0),ae.whave<ae.wsize&&(ae.whave+=de))),0}a.inflateReset=F,a.inflateReset2=H,a.inflateResetKeep=P,a.inflateInit=function(R){return V(R,15)},a.inflateInit2=V,a.inflate=function(R,Y){var B,ne,de,ae,oe,ye,re,xe,X,Z,se,pe,we,Pe,Te,Ne,rt,Ke,Qe,ze,J,Ce,ue,ge,he=0,_e=new c.Buf8(4),Me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return w;(B=R.state).mode===12&&(B.mode=13),oe=R.next_out,de=R.output,re=R.avail_out,ae=R.next_in,ne=R.input,ye=R.avail_in,xe=B.hold,X=B.bits,Z=ye,se=re,Ce=y;e:for(;;)switch(B.mode){case x:if(B.wrap===0){B.mode=13;break}for(;X<16;){if(ye===0)break e;ye--,xe+=ne[ae++]<<X,X+=8}if(2&B.wrap&&xe===35615){_e[B.check=0]=255&xe,_e[1]=xe>>>8&255,B.check=f(B.check,_e,2,0),X=xe=0,B.mode=2;break}if(B.flags=0,B.head&&(B.head.done=!1),!(1&B.wrap)||(((255&xe)<<8)+(xe>>8))%31){R.msg="incorrect header check",B.mode=30;break}if((15&xe)!=8){R.msg="unknown compression method",B.mode=30;break}if(X-=4,J=8+(15&(xe>>>=4)),B.wbits===0)B.wbits=J;else if(J>B.wbits){R.msg="invalid window size",B.mode=30;break}B.dmax=1<<J,R.adler=B.check=1,B.mode=512&xe?10:12,X=xe=0;break;case 2:for(;X<16;){if(ye===0)break e;ye--,xe+=ne[ae++]<<X,X+=8}if(B.flags=xe,(255&B.flags)!=8){R.msg="unknown compression method",B.mode=30;break}if(57344&B.flags){R.msg="unknown header flags set",B.mode=30;break}B.head&&(B.head.text=xe>>8&1),512&B.flags&&(_e[0]=255&xe,_e[1]=xe>>>8&255,B.check=f(B.check,_e,2,0)),X=xe=0,B.mode=3;case 3:for(;X<32;){if(ye===0)break e;ye--,xe+=ne[ae++]<<X,X+=8}B.head&&(B.head.time=xe),512&B.flags&&(_e[0]=255&xe,_e[1]=xe>>>8&255,_e[2]=xe>>>16&255,_e[3]=xe>>>24&255,B.check=f(B.check,_e,4,0)),X=xe=0,B.mode=4;case 4:for(;X<16;){if(ye===0)break e;ye--,xe+=ne[ae++]<<X,X+=8}B.head&&(B.head.xflags=255&xe,B.head.os=xe>>8),512&B.flags&&(_e[0]=255&xe,_e[1]=xe>>>8&255,B.check=f(B.check,_e,2,0)),X=xe=0,B.mode=5;case 5:if(1024&B.flags){for(;X<16;){if(ye===0)break e;ye--,xe+=ne[ae++]<<X,X+=8}B.length=xe,B.head&&(B.head.extra_len=xe),512&B.flags&&(_e[0]=255&xe,_e[1]=xe>>>8&255,B.check=f(B.check,_e,2,0)),X=xe=0}else B.head&&(B.head.extra=null);B.mode=6;case 6:if(1024&B.flags&&(ye<(pe=B.length)&&(pe=ye),pe&&(B.head&&(J=B.head.extra_len-B.length,B.head.extra||(B.head.extra=new Array(B.head.extra_len)),c.arraySet(B.head.extra,ne,ae,pe,J)),512&B.flags&&(B.check=f(B.check,ne,pe,ae)),ye-=pe,ae+=pe,B.length-=pe),B.length))break e;B.length=0,B.mode=7;case 7:if(2048&B.flags){if(ye===0)break e;for(pe=0;J=ne[ae+pe++],B.head&&J&&B.length<65536&&(B.head.name+=String.fromCharCode(J)),J&&pe<ye;);if(512&B.flags&&(B.check=f(B.check,ne,pe,ae)),ye-=pe,ae+=pe,J)break e}else B.head&&(B.head.name=null);B.length=0,B.mode=8;case 8:if(4096&B.flags){if(ye===0)break e;for(pe=0;J=ne[ae+pe++],B.head&&J&&B.length<65536&&(B.head.comment+=String.fromCharCode(J)),J&&pe<ye;);if(512&B.flags&&(B.check=f(B.check,ne,pe,ae)),ye-=pe,ae+=pe,J)break e}else B.head&&(B.head.comment=null);B.mode=9;case 9:if(512&B.flags){for(;X<16;){if(ye===0)break e;ye--,xe+=ne[ae++]<<X,X+=8}if(xe!==(65535&B.check)){R.msg="header crc mismatch",B.mode=30;break}X=xe=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0),R.adler=B.check=0,B.mode=12;break;case 10:for(;X<32;){if(ye===0)break e;ye--,xe+=ne[ae++]<<X,X+=8}R.adler=B.check=E(xe),X=xe=0,B.mode=11;case 11:if(B.havedict===0)return R.next_out=oe,R.avail_out=re,R.next_in=ae,R.avail_in=ye,B.hold=xe,B.bits=X,2;R.adler=B.check=1,B.mode=12;case 12:if(Y===5||Y===6)break e;case 13:if(B.last){xe>>>=7&X,X-=7&X,B.mode=27;break}for(;X<3;){if(ye===0)break e;ye--,xe+=ne[ae++]<<X,X+=8}switch(B.last=1&xe,X-=1,3&(xe>>>=1)){case 0:B.mode=14;break;case 1:if(Q(B),B.mode=20,Y!==6)break;xe>>>=2,X-=2;break e;case 2:B.mode=17;break;case 3:R.msg="invalid block type",B.mode=30}xe>>>=2,X-=2;break;case 14:for(xe>>>=7&X,X-=7&X;X<32;){if(ye===0)break e;ye--,xe+=ne[ae++]<<X,X+=8}if((65535&xe)!=(xe>>>16^65535)){R.msg="invalid stored block lengths",B.mode=30;break}if(B.length=65535&xe,X=xe=0,B.mode=15,Y===6)break e;case 15:B.mode=16;case 16:if(pe=B.length){if(ye<pe&&(pe=ye),re<pe&&(pe=re),pe===0)break e;c.arraySet(de,ne,ae,pe,oe),ye-=pe,ae+=pe,re-=pe,oe+=pe,B.length-=pe;break}B.mode=12;break;case 17:for(;X<14;){if(ye===0)break e;ye--,xe+=ne[ae++]<<X,X+=8}if(B.nlen=257+(31&xe),xe>>>=5,X-=5,B.ndist=1+(31&xe),xe>>>=5,X-=5,B.ncode=4+(15&xe),xe>>>=4,X-=4,286<B.nlen||30<B.ndist){R.msg="too many length or distance symbols",B.mode=30;break}B.have=0,B.mode=18;case 18:for(;B.have<B.ncode;){for(;X<3;){if(ye===0)break e;ye--,xe+=ne[ae++]<<X,X+=8}B.lens[Me[B.have++]]=7&xe,xe>>>=3,X-=3}for(;B.have<19;)B.lens[Me[B.have++]]=0;if(B.lencode=B.lendyn,B.lenbits=7,ue={bits:B.lenbits},Ce=g(0,B.lens,0,19,B.lencode,0,B.work,ue),B.lenbits=ue.bits,Ce){R.msg="invalid code lengths set",B.mode=30;break}B.have=0,B.mode=19;case 19:for(;B.have<B.nlen+B.ndist;){for(;Ne=(he=B.lencode[xe&(1<<B.lenbits)-1])>>>16&255,rt=65535&he,!((Te=he>>>24)<=X);){if(ye===0)break e;ye--,xe+=ne[ae++]<<X,X+=8}if(rt<16)xe>>>=Te,X-=Te,B.lens[B.have++]=rt;else{if(rt===16){for(ge=Te+2;X<ge;){if(ye===0)break e;ye--,xe+=ne[ae++]<<X,X+=8}if(xe>>>=Te,X-=Te,B.have===0){R.msg="invalid bit length repeat",B.mode=30;break}J=B.lens[B.have-1],pe=3+(3&xe),xe>>>=2,X-=2}else if(rt===17){for(ge=Te+3;X<ge;){if(ye===0)break e;ye--,xe+=ne[ae++]<<X,X+=8}X-=Te,J=0,pe=3+(7&(xe>>>=Te)),xe>>>=3,X-=3}else{for(ge=Te+7;X<ge;){if(ye===0)break e;ye--,xe+=ne[ae++]<<X,X+=8}X-=Te,J=0,pe=11+(127&(xe>>>=Te)),xe>>>=7,X-=7}if(B.have+pe>B.nlen+B.ndist){R.msg="invalid bit length repeat",B.mode=30;break}for(;pe--;)B.lens[B.have++]=J}}if(B.mode===30)break;if(B.lens[256]===0){R.msg="invalid code -- missing end-of-block",B.mode=30;break}if(B.lenbits=9,ue={bits:B.lenbits},Ce=g(k,B.lens,0,B.nlen,B.lencode,0,B.work,ue),B.lenbits=ue.bits,Ce){R.msg="invalid literal/lengths set",B.mode=30;break}if(B.distbits=6,B.distcode=B.distdyn,ue={bits:B.distbits},Ce=g(v,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,ue),B.distbits=ue.bits,Ce){R.msg="invalid distances set",B.mode=30;break}if(B.mode=20,Y===6)break e;case 20:B.mode=21;case 21:if(6<=ye&&258<=re){R.next_out=oe,R.avail_out=re,R.next_in=ae,R.avail_in=ye,B.hold=xe,B.bits=X,p(R,se),oe=R.next_out,de=R.output,re=R.avail_out,ae=R.next_in,ne=R.input,ye=R.avail_in,xe=B.hold,X=B.bits,B.mode===12&&(B.back=-1);break}for(B.back=0;Ne=(he=B.lencode[xe&(1<<B.lenbits)-1])>>>16&255,rt=65535&he,!((Te=he>>>24)<=X);){if(ye===0)break e;ye--,xe+=ne[ae++]<<X,X+=8}if(Ne&&(240&Ne)==0){for(Ke=Te,Qe=Ne,ze=rt;Ne=(he=B.lencode[ze+((xe&(1<<Ke+Qe)-1)>>Ke)])>>>16&255,rt=65535&he,!(Ke+(Te=he>>>24)<=X);){if(ye===0)break e;ye--,xe+=ne[ae++]<<X,X+=8}xe>>>=Ke,X-=Ke,B.back+=Ke}if(xe>>>=Te,X-=Te,B.back+=Te,B.length=rt,Ne===0){B.mode=26;break}if(32&Ne){B.back=-1,B.mode=12;break}if(64&Ne){R.msg="invalid literal/length code",B.mode=30;break}B.extra=15&Ne,B.mode=22;case 22:if(B.extra){for(ge=B.extra;X<ge;){if(ye===0)break e;ye--,xe+=ne[ae++]<<X,X+=8}B.length+=xe&(1<<B.extra)-1,xe>>>=B.extra,X-=B.extra,B.back+=B.extra}B.was=B.length,B.mode=23;case 23:for(;Ne=(he=B.distcode[xe&(1<<B.distbits)-1])>>>16&255,rt=65535&he,!((Te=he>>>24)<=X);){if(ye===0)break e;ye--,xe+=ne[ae++]<<X,X+=8}if((240&Ne)==0){for(Ke=Te,Qe=Ne,ze=rt;Ne=(he=B.distcode[ze+((xe&(1<<Ke+Qe)-1)>>Ke)])>>>16&255,rt=65535&he,!(Ke+(Te=he>>>24)<=X);){if(ye===0)break e;ye--,xe+=ne[ae++]<<X,X+=8}xe>>>=Ke,X-=Ke,B.back+=Ke}if(xe>>>=Te,X-=Te,B.back+=Te,64&Ne){R.msg="invalid distance code",B.mode=30;break}B.offset=rt,B.extra=15&Ne,B.mode=24;case 24:if(B.extra){for(ge=B.extra;X<ge;){if(ye===0)break e;ye--,xe+=ne[ae++]<<X,X+=8}B.offset+=xe&(1<<B.extra)-1,xe>>>=B.extra,X-=B.extra,B.back+=B.extra}if(B.offset>B.dmax){R.msg="invalid distance too far back",B.mode=30;break}B.mode=25;case 25:if(re===0)break e;if(pe=se-re,B.offset>pe){if((pe=B.offset-pe)>B.whave&&B.sane){R.msg="invalid distance too far back",B.mode=30;break}we=pe>B.wnext?(pe-=B.wnext,B.wsize-pe):B.wnext-pe,pe>B.length&&(pe=B.length),Pe=B.window}else Pe=de,we=oe-B.offset,pe=B.length;for(re<pe&&(pe=re),re-=pe,B.length-=pe;de[oe++]=Pe[we++],--pe;);B.length===0&&(B.mode=21);break;case 26:if(re===0)break e;de[oe++]=B.length,re--,B.mode=21;break;case 27:if(B.wrap){for(;X<32;){if(ye===0)break e;ye--,xe|=ne[ae++]<<X,X+=8}if(se-=re,R.total_out+=se,B.total+=se,se&&(R.adler=B.check=B.flags?f(B.check,de,se,oe-se):d(B.check,de,se,oe-se)),se=re,(B.flags?xe:E(xe))!==B.check){R.msg="incorrect data check",B.mode=30;break}X=xe=0}B.mode=28;case 28:if(B.wrap&&B.flags){for(;X<32;){if(ye===0)break e;ye--,xe+=ne[ae++]<<X,X+=8}if(xe!==(4294967295&B.total)){R.msg="incorrect length check",B.mode=30;break}X=xe=0}B.mode=29;case 29:Ce=1;break e;case 30:Ce=-3;break e;case 31:return-4;case 32:default:return w}return R.next_out=oe,R.avail_out=re,R.next_in=ae,R.avail_in=ye,B.hold=xe,B.bits=X,(B.wsize||se!==R.avail_out&&B.mode<30&&(B.mode<27||Y!==4))&&$(R,R.output,R.next_out,se-R.avail_out)?(B.mode=31,-4):(Z-=R.avail_in,se-=R.avail_out,R.total_in+=Z,R.total_out+=se,B.total+=se,B.wrap&&se&&(R.adler=B.check=B.flags?f(B.check,de,se,R.next_out-se):d(B.check,de,se,R.next_out-se)),R.data_type=B.bits+(B.last?64:0)+(B.mode===12?128:0)+(B.mode===20||B.mode===15?256:0),(Z==0&&se===0||Y===4)&&Ce===y&&(Ce=-5),Ce)},a.inflateEnd=function(R){if(!R||!R.state)return w;var Y=R.state;return Y.window&&(Y.window=null),R.state=null,y},a.inflateGetHeader=function(R,Y){var B;return R&&R.state?(2&(B=R.state).wrap)==0?w:((B.head=Y).done=!1,y):w},a.inflateSetDictionary=function(R,Y){var B,ne=Y.length;return R&&R.state?(B=R.state).wrap!==0&&B.mode!==11?w:B.mode===11&&d(1,Y,ne,0)!==B.check?-3:$(R,Y,ne,ne)?(B.mode=31,-4):(B.havedict=1,y):w},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,o,a){var c=n("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(k,v,y,w,x,A,D,E){var M,P,F,H,V,N,j,q,Q,$=E.bits,R=0,Y=0,B=0,ne=0,de=0,ae=0,oe=0,ye=0,re=0,xe=0,X=null,Z=0,se=new c.Buf16(16),pe=new c.Buf16(16),we=null,Pe=0;for(R=0;R<=15;R++)se[R]=0;for(Y=0;Y<w;Y++)se[v[y+Y]]++;for(de=$,ne=15;1<=ne&&se[ne]===0;ne--);if(ne<de&&(de=ne),ne===0)return x[A++]=20971520,x[A++]=20971520,E.bits=1,0;for(B=1;B<ne&&se[B]===0;B++);for(de<B&&(de=B),R=ye=1;R<=15;R++)if(ye<<=1,(ye-=se[R])<0)return-1;if(0<ye&&(k===0||ne!==1))return-1;for(pe[1]=0,R=1;R<15;R++)pe[R+1]=pe[R]+se[R];for(Y=0;Y<w;Y++)v[y+Y]!==0&&(D[pe[v[y+Y]]++]=Y);if(N=k===0?(X=we=D,19):k===1?(X=d,Z-=257,we=f,Pe-=257,256):(X=p,we=g,-1),R=B,V=A,oe=Y=xe=0,F=-1,H=(re=1<<(ae=de))-1,k===1&&852<re||k===2&&592<re)return 1;for(;;){for(j=R-oe,Q=D[Y]<N?(q=0,D[Y]):D[Y]>N?(q=we[Pe+D[Y]],X[Z+D[Y]]):(q=96,0),M=1<<R-oe,B=P=1<<ae;x[V+(xe>>oe)+(P-=M)]=j<<24|q<<16|Q|0,P!==0;);for(M=1<<R-1;xe&M;)M>>=1;if(M!==0?(xe&=M-1,xe+=M):xe=0,Y++,--se[R]==0){if(R===ne)break;R=v[y+D[Y]]}if(de<R&&(xe&H)!==F){for(oe===0&&(oe=de),V+=B,ye=1<<(ae=R-oe);ae+oe<ne&&!((ye-=se[ae+oe])<=0);)ae++,ye<<=1;if(re+=1<<ae,k===1&&852<re||k===2&&592<re)return 1;x[F=xe&H]=de<<24|ae<<16|V-A|0}}return xe!==0&&(x[V+xe]=R-oe<<24|64<<16|0),E.bits=de,0}},{"../utils/common":41}],51:[function(n,o,a){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,o,a){var c=n("../utils/common"),d=0,f=1;function p(he){for(var _e=he.length;0<=--_e;)he[_e]=0}var g=0,k=29,v=256,y=v+1+k,w=30,x=19,A=2*y+1,D=15,E=16,M=7,P=256,F=16,H=17,V=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=new Array(2*(y+2));p($);var R=new Array(2*w);p(R);var Y=new Array(512);p(Y);var B=new Array(256);p(B);var ne=new Array(k);p(ne);var de,ae,oe,ye=new Array(w);function re(he,_e,Me,Ie,Ae){this.static_tree=he,this.extra_bits=_e,this.extra_base=Me,this.elems=Ie,this.max_length=Ae,this.has_stree=he&&he.length}function xe(he,_e){this.dyn_tree=he,this.max_code=0,this.stat_desc=_e}function X(he){return he<256?Y[he]:Y[256+(he>>>7)]}function Z(he,_e){he.pending_buf[he.pending++]=255&_e,he.pending_buf[he.pending++]=_e>>>8&255}function se(he,_e,Me){he.bi_valid>E-Me?(he.bi_buf|=_e<<he.bi_valid&65535,Z(he,he.bi_buf),he.bi_buf=_e>>E-he.bi_valid,he.bi_valid+=Me-E):(he.bi_buf|=_e<<he.bi_valid&65535,he.bi_valid+=Me)}function pe(he,_e,Me){se(he,Me[2*_e],Me[2*_e+1])}function we(he,_e){for(var Me=0;Me|=1&he,he>>>=1,Me<<=1,0<--_e;);return Me>>>1}function Pe(he,_e,Me){var Ie,Ae,Oe=new Array(D+1),Ge=0;for(Ie=1;Ie<=D;Ie++)Oe[Ie]=Ge=Ge+Me[Ie-1]<<1;for(Ae=0;Ae<=_e;Ae++){var Xe=he[2*Ae+1];Xe!==0&&(he[2*Ae]=we(Oe[Xe]++,Xe))}}function Te(he){var _e;for(_e=0;_e<y;_e++)he.dyn_ltree[2*_e]=0;for(_e=0;_e<w;_e++)he.dyn_dtree[2*_e]=0;for(_e=0;_e<x;_e++)he.bl_tree[2*_e]=0;he.dyn_ltree[2*P]=1,he.opt_len=he.static_len=0,he.last_lit=he.matches=0}function Ne(he){8<he.bi_valid?Z(he,he.bi_buf):0<he.bi_valid&&(he.pending_buf[he.pending++]=he.bi_buf),he.bi_buf=0,he.bi_valid=0}function rt(he,_e,Me,Ie){var Ae=2*_e,Oe=2*Me;return he[Ae]<he[Oe]||he[Ae]===he[Oe]&&Ie[_e]<=Ie[Me]}function Ke(he,_e,Me){for(var Ie=he.heap[Me],Ae=Me<<1;Ae<=he.heap_len&&(Ae<he.heap_len&&rt(_e,he.heap[Ae+1],he.heap[Ae],he.depth)&&Ae++,!rt(_e,Ie,he.heap[Ae],he.depth));)he.heap[Me]=he.heap[Ae],Me=Ae,Ae<<=1;he.heap[Me]=Ie}function Qe(he,_e,Me){var Ie,Ae,Oe,Ge,Xe=0;if(he.last_lit!==0)for(;Ie=he.pending_buf[he.d_buf+2*Xe]<<8|he.pending_buf[he.d_buf+2*Xe+1],Ae=he.pending_buf[he.l_buf+Xe],Xe++,Ie===0?pe(he,Ae,_e):(pe(he,(Oe=B[Ae])+v+1,_e),(Ge=N[Oe])!==0&&se(he,Ae-=ne[Oe],Ge),pe(he,Oe=X(--Ie),Me),(Ge=j[Oe])!==0&&se(he,Ie-=ye[Oe],Ge)),Xe<he.last_lit;);pe(he,P,_e)}function ze(he,_e){var Me,Ie,Ae,Oe=_e.dyn_tree,Ge=_e.stat_desc.static_tree,Xe=_e.stat_desc.has_stree,dt=_e.stat_desc.elems,Ue=-1;for(he.heap_len=0,he.heap_max=A,Me=0;Me<dt;Me++)Oe[2*Me]!==0?(he.heap[++he.heap_len]=Ue=Me,he.depth[Me]=0):Oe[2*Me+1]=0;for(;he.heap_len<2;)Oe[2*(Ae=he.heap[++he.heap_len]=Ue<2?++Ue:0)]=1,he.depth[Ae]=0,he.opt_len--,Xe&&(he.static_len-=Ge[2*Ae+1]);for(_e.max_code=Ue,Me=he.heap_len>>1;1<=Me;Me--)Ke(he,Oe,Me);for(Ae=dt;Me=he.heap[1],he.heap[1]=he.heap[he.heap_len--],Ke(he,Oe,1),Ie=he.heap[1],he.heap[--he.heap_max]=Me,he.heap[--he.heap_max]=Ie,Oe[2*Ae]=Oe[2*Me]+Oe[2*Ie],he.depth[Ae]=(he.depth[Me]>=he.depth[Ie]?he.depth[Me]:he.depth[Ie])+1,Oe[2*Me+1]=Oe[2*Ie+1]=Ae,he.heap[1]=Ae++,Ke(he,Oe,1),2<=he.heap_len;);he.heap[--he.heap_max]=he.heap[1],function(We,Ye){var St,ht,tn,pt,Vt,Rt,zt=Ye.dyn_tree,Yt=Ye.max_code,pn=Ye.stat_desc.static_tree,En=Ye.stat_desc.has_stree,zn=Ye.stat_desc.extra_bits,Mr=Ye.stat_desc.extra_base,qr=Ye.stat_desc.max_length,Ln=0;for(pt=0;pt<=D;pt++)We.bl_count[pt]=0;for(zt[2*We.heap[We.heap_max]+1]=0,St=We.heap_max+1;St<A;St++)qr<(pt=zt[2*zt[2*(ht=We.heap[St])+1]+1]+1)&&(pt=qr,Ln++),zt[2*ht+1]=pt,Yt<ht||(We.bl_count[pt]++,Vt=0,Mr<=ht&&(Vt=zn[ht-Mr]),Rt=zt[2*ht],We.opt_len+=Rt*(pt+Vt),En&&(We.static_len+=Rt*(pn[2*ht+1]+Vt)));if(Ln!==0){do{for(pt=qr-1;We.bl_count[pt]===0;)pt--;We.bl_count[pt]--,We.bl_count[pt+1]+=2,We.bl_count[qr]--,Ln-=2}while(0<Ln);for(pt=qr;pt!==0;pt--)for(ht=We.bl_count[pt];ht!==0;)Yt<(tn=We.heap[--St])||(zt[2*tn+1]!==pt&&(We.opt_len+=(pt-zt[2*tn+1])*zt[2*tn],zt[2*tn+1]=pt),ht--)}}(he,_e),Pe(Oe,Ue,he.bl_count)}function J(he,_e,Me){var Ie,Ae,Oe=-1,Ge=_e[1],Xe=0,dt=7,Ue=4;for(Ge===0&&(dt=138,Ue=3),_e[2*(Me+1)+1]=65535,Ie=0;Ie<=Me;Ie++)Ae=Ge,Ge=_e[2*(Ie+1)+1],++Xe<dt&&Ae===Ge||(Xe<Ue?he.bl_tree[2*Ae]+=Xe:Ae!==0?(Ae!==Oe&&he.bl_tree[2*Ae]++,he.bl_tree[2*F]++):Xe<=10?he.bl_tree[2*H]++:he.bl_tree[2*V]++,Oe=Ae,Ue=(Xe=0)===Ge?(dt=138,3):Ae===Ge?(dt=6,3):(dt=7,4))}function Ce(he,_e,Me){var Ie,Ae,Oe=-1,Ge=_e[1],Xe=0,dt=7,Ue=4;for(Ge===0&&(dt=138,Ue=3),Ie=0;Ie<=Me;Ie++)if(Ae=Ge,Ge=_e[2*(Ie+1)+1],!(++Xe<dt&&Ae===Ge)){if(Xe<Ue)for(;pe(he,Ae,he.bl_tree),--Xe!=0;);else Ae!==0?(Ae!==Oe&&(pe(he,Ae,he.bl_tree),Xe--),pe(he,F,he.bl_tree),se(he,Xe-3,2)):Xe<=10?(pe(he,H,he.bl_tree),se(he,Xe-3,3)):(pe(he,V,he.bl_tree),se(he,Xe-11,7));Oe=Ae,Ue=(Xe=0)===Ge?(dt=138,3):Ae===Ge?(dt=6,3):(dt=7,4)}}p(ye);var ue=!1;function ge(he,_e,Me,Ie){se(he,(g<<1)+(Ie?1:0),3),function(Ae,Oe,Ge,Xe){Ne(Ae),Z(Ae,Ge),Z(Ae,~Ge),c.arraySet(Ae.pending_buf,Ae.window,Oe,Ge,Ae.pending),Ae.pending+=Ge}(he,_e,Me)}a._tr_init=function(he){ue||(function(){var _e,Me,Ie,Ae,Oe,Ge=new Array(D+1);for(Ae=Ie=0;Ae<k-1;Ae++)for(ne[Ae]=Ie,_e=0;_e<1<<N[Ae];_e++)B[Ie++]=Ae;for(B[Ie-1]=Ae,Ae=Oe=0;Ae<16;Ae++)for(ye[Ae]=Oe,_e=0;_e<1<<j[Ae];_e++)Y[Oe++]=Ae;for(Oe>>=7;Ae<w;Ae++)for(ye[Ae]=Oe<<7,_e=0;_e<1<<j[Ae]-7;_e++)Y[256+Oe++]=Ae;for(Me=0;Me<=D;Me++)Ge[Me]=0;for(_e=0;_e<=143;)$[2*_e+1]=8,_e++,Ge[8]++;for(;_e<=255;)$[2*_e+1]=9,_e++,Ge[9]++;for(;_e<=279;)$[2*_e+1]=7,_e++,Ge[7]++;for(;_e<=287;)$[2*_e+1]=8,_e++,Ge[8]++;for(Pe($,y+1,Ge),_e=0;_e<w;_e++)R[2*_e+1]=5,R[2*_e]=we(_e,5);de=new re($,N,v+1,y,D),ae=new re(R,j,0,w,D),oe=new re(new Array(0),q,0,x,M)}(),ue=!0),he.l_desc=new xe(he.dyn_ltree,de),he.d_desc=new xe(he.dyn_dtree,ae),he.bl_desc=new xe(he.bl_tree,oe),he.bi_buf=0,he.bi_valid=0,Te(he)},a._tr_stored_block=ge,a._tr_flush_block=function(he,_e,Me,Ie){var Ae,Oe,Ge=0;0<he.level?(he.strm.data_type===2&&(he.strm.data_type=function(Xe){var dt,Ue=4093624447;for(dt=0;dt<=31;dt++,Ue>>>=1)if(1&Ue&&Xe.dyn_ltree[2*dt]!==0)return d;if(Xe.dyn_ltree[18]!==0||Xe.dyn_ltree[20]!==0||Xe.dyn_ltree[26]!==0)return f;for(dt=32;dt<v;dt++)if(Xe.dyn_ltree[2*dt]!==0)return f;return d}(he)),ze(he,he.l_desc),ze(he,he.d_desc),Ge=function(Xe){var dt;for(J(Xe,Xe.dyn_ltree,Xe.l_desc.max_code),J(Xe,Xe.dyn_dtree,Xe.d_desc.max_code),ze(Xe,Xe.bl_desc),dt=x-1;3<=dt&&Xe.bl_tree[2*Q[dt]+1]===0;dt--);return Xe.opt_len+=3*(dt+1)+5+5+4,dt}(he),Ae=he.opt_len+3+7>>>3,(Oe=he.static_len+3+7>>>3)<=Ae&&(Ae=Oe)):Ae=Oe=Me+5,Me+4<=Ae&&_e!==-1?ge(he,_e,Me,Ie):he.strategy===4||Oe===Ae?(se(he,2+(Ie?1:0),3),Qe(he,$,R)):(se(he,4+(Ie?1:0),3),function(Xe,dt,Ue,We){var Ye;for(se(Xe,dt-257,5),se(Xe,Ue-1,5),se(Xe,We-4,4),Ye=0;Ye<We;Ye++)se(Xe,Xe.bl_tree[2*Q[Ye]+1],3);Ce(Xe,Xe.dyn_ltree,dt-1),Ce(Xe,Xe.dyn_dtree,Ue-1)}(he,he.l_desc.max_code+1,he.d_desc.max_code+1,Ge+1),Qe(he,he.dyn_ltree,he.dyn_dtree)),Te(he),Ie&&Ne(he)},a._tr_tally=function(he,_e,Me){return he.pending_buf[he.d_buf+2*he.last_lit]=_e>>>8&255,he.pending_buf[he.d_buf+2*he.last_lit+1]=255&_e,he.pending_buf[he.l_buf+he.last_lit]=255&Me,he.last_lit++,_e===0?he.dyn_ltree[2*Me]++:(he.matches++,_e--,he.dyn_ltree[2*(B[Me]+v+1)]++,he.dyn_dtree[2*X(_e)]++),he.last_lit===he.lit_bufsize-1},a._tr_align=function(he){se(he,2,3),pe(he,P,$),function(_e){_e.bi_valid===16?(Z(_e,_e.bi_buf),_e.bi_buf=0,_e.bi_valid=0):8<=_e.bi_valid&&(_e.pending_buf[_e.pending++]=255&_e.bi_buf,_e.bi_buf>>=8,_e.bi_valid-=8)}(he)}},{"../utils/common":41}],53:[function(n,o,a){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,o,a){(function(c){(function(d,f){if(!d.setImmediate){var p,g,k,v,y=1,w={},x=!1,A=d.document,D=Object.getPrototypeOf&&Object.getPrototypeOf(d);D=D&&D.setTimeout?D:d,p={}.toString.call(d.process)==="[object process]"?function(F){process.nextTick(function(){M(F)})}:function(){if(d.postMessage&&!d.importScripts){var F=!0,H=d.onmessage;return d.onmessage=function(){F=!1},d.postMessage("","*"),d.onmessage=H,F}}()?(v="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",P,!1):d.attachEvent("onmessage",P),function(F){d.postMessage(v+F,"*")}):d.MessageChannel?((k=new MessageChannel).port1.onmessage=function(F){M(F.data)},function(F){k.port2.postMessage(F)}):A&&"onreadystatechange"in A.createElement("script")?(g=A.documentElement,function(F){var H=A.createElement("script");H.onreadystatechange=function(){M(F),H.onreadystatechange=null,g.removeChild(H),H=null},g.appendChild(H)}):function(F){setTimeout(M,0,F)},D.setImmediate=function(F){typeof F!="function"&&(F=new Function(""+F));for(var H=new Array(arguments.length-1),V=0;V<H.length;V++)H[V]=arguments[V+1];var N={callback:F,args:H};return w[y]=N,p(y),y++},D.clearImmediate=E}function E(F){delete w[F]}function M(F){if(x)setTimeout(M,0,F);else{var H=w[F];if(H){x=!0;try{(function(V){var N=V.callback,j=V.args;switch(j.length){case 0:N();break;case 1:N(j[0]);break;case 2:N(j[0],j[1]);break;case 3:N(j[0],j[1],j[2]);break;default:N.apply(f,j)}})(H)}finally{E(F),x=!1}}}}function P(F){F.source===d&&typeof F.data=="string"&&F.data.indexOf(v)===0&&M(+F.data.slice(v.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof Ru<"u"?Ru:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(qv)),qv.exports}var Toe=Ioe();const Noe=Hc(Toe),Moe=async(t,r,n)=>{const o=new Noe,a=["timestamp,question,answer"];r.forEach(({timestamp:p,question:g,answer:k})=>{a.push(`"${new Date(p).toLocaleString()}","${g.replace(/"/g,'""')}","${k.replace(/"/g,'""')}"`)}),o.file(`${t}.csv`,a.join(`
`)),o.file(`${t}_metadata.json`,JSON.stringify(n,null,4));const c=await o.generateAsync({type:"blob"}),d=URL.createObjectURL(c),f=document.createElement("a");f.href=d,f.download=`${t}.zip`,document.body.appendChild(f),f.click(),document.body.removeChild(f)},Poe=_p(Fe)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"600px",maxHeight:"80vh",overflowY:"auto",backgroundColor:"#fff",borderRadius:"10px",boxShadow:"0px 5px 15px rgba(0,0,0,0.2)",padding:"20px"}),Ooe=_p(Fe)({marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"}),Loe=({open:t,onClose:r,conversationHistory:n,conversationId:o,conversationHistoryError:a,chatbotDetails:c,userId:d,startedAt:f})=>{const p=async()=>{const g={conversationId:o,userId:d,chatbotId:c.chatbotId,chatbotTitle:c.chatbotTitle,startedAt:new Date(f).toLocaleString(),courseTitle:c.courseTitle,courseId:c.courseId,materialTitle:c.materialTitle,materialId:c.materialId,materialLink:c.materialLink,chatbotCreatedBy:c.chatbotCreatedBy,chatbotCreatedAt:new Date(c.chatbotCreatedAt).toLocaleString()};await Moe(o,n,g)};return C.jsx(vW,{open:t,onClose:r,children:C.jsxs(Poe,{children:[C.jsxs(Ooe,{children:[C.jsxs(Ve,{variant:"h6",children:["Conversation History for ",o]}),C.jsx(Gs,{title:"Download ZIP",children:C.jsx(ir,{onClick:p,"aria-label":"Download as ZIP",children:C.jsx(fP,{})})})]}),a&&C.jsx(Ve,{color:"error",sx:{marginBottom:"20px"},children:a}),n.length===0?C.jsx(Ve,{children:"No messages found in this conversation."}):C.jsx(rk,{children:n.map((g,k)=>C.jsx(Hf,{sx:{padding:"10px 0"},children:C.jsx($f,{primary:`Q: ${g.question}`,secondary:`A: ${g.answer} (${new Date(g.timestamp).toLocaleString()})`})},k))}),C.jsx(xt,{variant:"contained",onClick:r,style:{marginTop:"20px",backgroundColor:"#000",color:"#fff"},children:"Close"})]})})},Boe=({totalItems:t,itemsPerPage:r,currentPage:n,onPageChange:o})=>{const a=Math.ceil(t/r),c=()=>{n>1&&o(n-1)},d=()=>{n<a&&o(n+1)};return C.jsxs(Fe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:3},children:[C.jsx(xt,{variant:"outlined",disabled:n===1,onClick:c,children:"Previous"}),C.jsxs(Ve,{variant:"body1",children:["Page ",n," of ",a]}),C.jsx(xt,{variant:"outlined",disabled:n===a,onClick:d,children:"Next"})]})},joe=({chatbotId:t})=>{const r=Xn(),[n,o]=K.useState(null),[a,c]=K.useState(!0),[d,f]=K.useState(null);if(K.useEffect(()=>{t!=="All"&&(async()=>{c(!0),f(null);try{const M=yp(Zn(r,"chatbots"),qg("chatbotId","==",t)),P=await go(M);P.empty?f("Chatbot details not found!"):o(P.docs[0].data())}catch(M){console.error("Error fetching chatbot details:",M),f("Failed to fetch chatbot details.")}finally{c(!1)}})()},[r,t]),a)return C.jsx(Fe,{sx:{mt:3},children:C.jsx(di,{})});if(d)return C.jsx(Ve,{variant:"body1",color:"error",sx:{mt:3},children:d});if(!n)return null;const{title:p="N/A",courseId:g,createdBy:k="Unknown",timestamp:v,material:y}=n,w=(g==null?void 0:g.title)||"N/A",x=(y==null?void 0:y.title)||"N/A",A=(y==null?void 0:y.id)||"N/A",D=`https://institute-for-future-intelligence.github.io/nexlab/view-material/${A}`;return C.jsxs(Fe,{sx:{mt:3,p:2,border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:[C.jsx(Ve,{variant:"h6",children:"Chatbot Details"}),C.jsxs(Ve,{variant:"body1",children:[C.jsx("strong",{children:"Title:"})," ",p]}),C.jsxs(Ve,{variant:"body1",children:[C.jsx("strong",{children:"Course:"})," ",w]}),C.jsxs(Ve,{variant:"body1",children:[C.jsx("strong",{children:"Material:"})," ",A!=="N/A"?C.jsx(Cg,{href:D,target:"_blank",rel:"noopener noreferrer",children:x}):x]}),C.jsx(Us,{sx:{my:2}}),C.jsxs(Ve,{variant:"body1",children:[C.jsx("strong",{children:"Created By:"})," ",k]}),C.jsxs(Ve,{variant:"body1",children:[C.jsx("strong",{children:"Created At:"})," ",v?new Date(v).toLocaleString():"N/A"]})]})},ST=_p(xt)({width:100,height:40,display:"flex",alignItems:"center",justifyContent:"center"}),Roe=({open:t,onClose:r,onConfirm:n,conversationId:o,deleting:a})=>C.jsxs(uo,{open:t,onClose:r,children:[C.jsx(ho,{children:"Confirm Deletion"}),C.jsx(fo,{children:C.jsxs(fs,{children:["Are you sure you want to delete the conversation with ID: ",C.jsx("strong",{children:o}),"? This action cannot be undone."]})}),C.jsxs(po,{children:[C.jsx(ST,{onClick:r,color:"primary",variant:"outlined",children:"Cancel"}),C.jsx(ST,{onClick:n,color:"error",disabled:a,children:a?C.jsx(di,{size:20,color:"inherit"}):"Delete"})]})]}),Foe=()=>{const t=Xn(),r=Fr(),[n,o]=K.useState([]),[a,c]=K.useState([]),[d,f]=K.useState(1),[p]=K.useState(10),[g,k]=K.useState(!0),[v,y]=K.useState(null),[w,x]=K.useState([]),[A,D]=K.useState(null),[E,M]=K.useState(!1),[P,F]=K.useState(null),[H,V]=K.useState({}),N="https://rag-flask-api.onrender.com",[j,q]=K.useState([]),[Q,$]=K.useState([]),[R,Y]=K.useState("All"),[B,ne]=K.useState("All"),[de,ae]=K.useState(null),[oe,ye]=K.useState(null),[re,xe]=K.useState(!1),[X,Z]=K.useState(null),[se,pe]=K.useState(!1),[we,Pe]=K.useState({open:!1,message:"",type:"success"}),Te=()=>{Pe(ge=>({...ge,open:!1}))};K.useEffect(()=>{(async()=>{try{const _e=(await go(Zn(t,"conversations"))).docs.map(Ae=>({id:Ae.id,...Ae.data()}));o(_e);const Me=Array.from(new Set(_e.map(Ae=>Ae.chatbotId)));q(_e.length>0?["All",...Me]:[]);const Ie=Array.from(new Set(_e.map(Ae=>Ae.userId)));$(_e.length>0?["All",...Ie]:[]),c(_e)}catch(he){console.error("Error fetching chatbot conversations:",he),y("Failed to load conversations. Please try again later.")}finally{k(!1)}})()},[t]);const Ne=(ge,he)=>{ge==="chatbot"?Y(he):ne(he);const _e=ge==="chatbot"?he:R,Me=ge==="user"?he:B;let Ie=n;_e!=="All"&&(Ie=Ie.filter(Ae=>Ae.chatbotId===_e)),Me!=="All"&&(Ie=Ie.filter(Ae=>Ae.userId===Me)),c(Ie),_e==="All"&&Me==="All"&&c(n),f(1)},rt=async(ge,he,_e,Me)=>{var Ie,Ae,Oe,Ge,Xe;V(dt=>({...dt,[he]:!0})),D(null);try{const dt=await Ci.get(`${N}/conversations/${ge}/${he}`);x(dt.data);const Ye=(await(async()=>{try{const St=new Map;return(await go(Zn(t,"chatbots"))).forEach(tn=>{St.set(tn.data().chatbotId,tn.data())}),St}catch(St){return console.error("Error fetching chatbots:",St),new Map}})()).get(ge);ae(Ye?{chatbotId:ge,chatbotTitle:Ye.title||"N/A",courseTitle:((Ie=Ye.courseId)==null?void 0:Ie.title)||"N/A",courseId:((Ae=Ye.courseId)==null?void 0:Ae.id)||"N/A",materialTitle:((Oe=Ye.material)==null?void 0:Oe.title)||"N/A",materialId:((Ge=Ye.material)==null?void 0:Ge.id)||"N/A",materialLink:`https://institute-for-future-intelligence.github.io/nexlab/view-material/${((Xe=Ye.material)==null?void 0:Xe.id)||""}`,chatbotCreatedBy:Ye.createdBy||"Unknown",chatbotCreatedAt:Ye.timestamp||"N/A"}:null),ye({userId:_e,startedAt:Me}),F({chatbotId:ge,conversationId:he}),M(!0)}catch(dt){console.error("Error fetching conversation or chatbot details:",dt),D("Failed to fetch conversation history or chatbot details.")}finally{V(dt=>({...dt,[he]:!1}))}},Ke=d*p,Qe=Ke-p,ze=a.slice(Qe,Ke);if(g)return C.jsx(Fe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:C.jsx(di,{})});if(v)return C.jsx(Fe,{sx:{textAlign:"center",mt:4},children:C.jsx(Ve,{variant:"h6",color:"error",children:v})});const J=ge=>{Z(ge),xe(!0)},Ce=()=>{xe(!1),Z(null)},ue=async()=>{if(X){pe(!0);try{await Ug(An(t,"conversations",X)),o(ge=>ge.filter(he=>he.id!==X)),c(ge=>ge.filter(he=>he.id!==X)),Pe({open:!0,message:"Conversation deleted successfully.",type:"success"}),Ce()}catch(ge){console.error("Error deleting conversation:",ge),Pe({open:!0,message:"Failed to delete the conversation. Please try again.",type:"error"})}finally{pe(!1),Ce()}}};return C.jsxs(Fe,{className:"profile-container",sx:{p:4},children:[C.jsx(xt,{variant:"text",onClick:()=>r("/"),className:"profile-button",children:"← Home Page"}),C.jsx(Ve,{variant:"h5",className:"webpage_title",sx:{mb:2},children:"Chatbot Conversations"}),C.jsxs(Fe,{sx:{display:"flex",gap:2,mb:3},children:[C.jsxs(Gu,{sx:{minWidth:200},children:[C.jsx(Yu,{id:"filter-chatbot-id",children:"Filter by Chatbot ID"}),C.jsx(Ql,{labelId:"filter-chatbot-id",value:R,onChange:ge=>Ne("chatbot",ge.target.value),children:j.length>0?j.map(ge=>C.jsx(Ar,{value:ge,children:ge},ge)):C.jsx(Ar,{value:"",disabled:!0,children:"No Chatbots Available"})})]}),C.jsxs(Gu,{sx:{minWidth:200},children:[C.jsx(Yu,{id:"filter-user-id",children:"Filter by User ID"}),C.jsx(Ql,{labelId:"filter-user-id",value:B,onChange:ge=>Ne("user",ge.target.value),children:Q.map(ge=>C.jsx(Ar,{value:ge,children:ge},ge))})]})]}),R!=="All"&&C.jsx(joe,{chatbotId:R}),C.jsxs(Fe,{className:"profile-container",sx:{p:4},children:[C.jsx(Zre,{conversations:ze,onViewHistory:(ge,he,_e,Me)=>rt(ge,he,_e,Me),onDeleteConversation:J,loadingMap:H}),C.jsx(Roe,{open:re,onClose:Ce,onConfirm:ue,conversationId:X||"",deleting:se})]}),C.jsx(Boe,{totalItems:a.length,itemsPerPage:p,currentPage:d,onPageChange:f}),P&&de&&oe&&C.jsx(Loe,{open:E,onClose:()=>{M(!1),F(null)},conversationHistory:w,conversationId:P.conversationId,conversationHistoryError:A,chatbotDetails:de,userId:oe.userId,startedAt:oe.startedAt}),C.jsx(Wo,{open:we.open,autoHideDuration:3e3,onClose:Te,message:we.message,anchorOrigin:{vertical:"top",horizontal:"center"},ContentProps:{style:{backgroundColor:we.type==="success"?"#4caf50":"#f44336"}}})]})},zoe=()=>{const[t,r]=K.useState([]),[n,o]=K.useState(!0),[a,c]=K.useState({}),[d,f]=K.useState(!1),[p,g]=K.useState(""),[k,v]=K.useState("success"),y=Fr();K.useEffect(()=>{(async()=>{const N=Xn(),j=Zn(N,"chatbotRequests");try{const Q=(await go(j)).docs.map($=>({id:$.id,...$.data()}));r(Q)}catch(q){console.error("Error fetching chatbot requests:",q)}finally{o(!1)}})()},[]);const w=async V=>{const N=a[V];if(!N){g("Please assign a Chatbot ID before approving the request."),v("error"),f(!0);return}try{const j=Xn(),q=An(j,"chatbotRequests",V),Q=await us(q);if(!Q.exists()){g("Request not found. Please refresh the page."),v("error"),f(!0);return}const $=Q.data();if($.status!=="pending"){g("This request has already been processed."),v("warning"),f(!0);return}await Rr(q,{status:"approved",chatbotId:N});const R={chatbotId:N,title:$.title,courseId:{id:$.courseId,number:$.courseNumber,title:$.courseTitle},material:{id:$.materialId||null,title:$.materialTitle||"N/A"},createdBy:$.educatorId,files:$.files,timestamp:new Date().toISOString()};await Sa(Zn(j,"chatbots"),R),r(Y=>Y.map(B=>B.id===V?{...B,status:"approved",chatbotId:N}:B)),g("Chatbot request approved and chatbot created successfully!"),v("success"),f(!0)}catch(j){console.error("Error approving chatbot request or creating chatbot:",j),g("Failed to approve the request and create the chatbot. Please try again."),v("error"),f(!0)}},x=()=>{f(!1)},[A,D]=K.useState(0),[E,M]=K.useState(5),P=(V,N)=>D(N),F=V=>{M(parseInt(V.target.value,10)),D(0)},H=(V,N)=>{c(j=>({...j,[V]:N}))};return n?C.jsx(Fe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:C.jsx(di,{})}):t.length===0?C.jsx(Ve,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):C.jsxs(Fe,{className:"profile-container",sx:{p:4},children:[C.jsx(xt,{variant:"text",onClick:()=>y("/"),className:"profile-button",children:"← Home Page"}),C.jsx(Ve,{variant:"h5",className:"webpage_title",sx:{mb:2},children:"Chatbot Requests Management"}),C.jsx(Ve,{variant:"body1",sx:{mb:3},children:"Manage chatbot requests submitted by educators. Approve requests and assign Chatbot IDs."}),C.jsxs(nd,{component:Fn,elevation:3,sx:{maxHeight:"70vh",overflow:"auto"},children:[C.jsxs(rd,{stickyHeader:!0,children:[C.jsx(id,{children:C.jsxs(mo,{children:[C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Title"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Educator ID"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course ID"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material ID"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Submitted On"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Status"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"File Links"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Chatbot ID"}),C.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Action"})]})}),C.jsx(od,{children:t.slice(A*E,A*E+E).map((V,N)=>{var j;return C.jsxs(mo,{sx:{backgroundColor:N%2===0?"#F6E9B2":"#FBFADA","&:hover":{backgroundColor:"#E8E8E8"}},children:[C.jsx(It,{children:V.title}),C.jsx(It,{children:`${V.courseNumber} - ${V.courseTitle}`}),C.jsx(It,{children:V.materialTitle||"N/A"}),C.jsx(It,{children:V.educatorId}),C.jsx(It,{children:V.courseId}),C.jsx(It,{children:V.materialId||"N/A"}),C.jsx(It,{children:new Date(V.timestamp).toLocaleString()}),C.jsx(It,{children:C.jsx(Ve,{variant:"body2",sx:{color:V.status==="pending"?"#FFA726":"#43A047",fontWeight:"bold"},children:V.status})}),C.jsx(It,{children:(j=V.files)!=null&&j.length?V.files.map((q,Q)=>C.jsx(v8,{filePath:q,fileLabel:`File ${Q+1}`},Q)):C.jsx(Ve,{variant:"body2",children:"No files uploaded"})}),C.jsx(It,{children:V.status==="approved"?C.jsx(Ve,{variant:"body2",sx:{fontWeight:"bold"},children:V.chatbotId}):C.jsx(Sn,{size:"small",value:a[V.id]||"",onChange:q=>H(V.id,q.target.value),placeholder:"Enter Chatbot ID",sx:{width:"150px"}})}),C.jsx(It,{children:C.jsx(xt,{variant:"contained",color:"primary",onClick:()=>w(V.id),disabled:V.status==="approved",sx:{fontWeight:"bold"},children:V.status==="approved"?"Approved":"Approve"})})]},V.id)})})]}),C.jsx(_W,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:E,page:A,onPageChange:P,onRowsPerPageChange:F,"aria-label":"Chatbot requests pagination",sx:{mt:2}})]}),C.jsx(Wo,{open:d,autoHideDuration:6e3,onClose:x,children:C.jsx(xr,{onClose:x,severity:k,sx:{width:"100%"},children:p})})]})},Uoe=K.lazy(()=>co(()=>import("./index-DFC_x7eX.js"),__vite__mapDeps([5,2,1,3]))),qoe=K.lazy(()=>co(()=>import("./index-VZokvahn.js"),__vite__mapDeps([6,2,1,3,7]))),Voe=K.lazy(()=>co(()=>import("./SupplementalMaterials-k0u2Kzav.js"),__vite__mapDeps([8,2,1,3]))),Vv=({element:t})=>C.jsx(RP,{children:C.jsx(is,{element:t})}),Hoe=({element:t})=>C.jsx(jP,{children:t}),$oe=(t,r)=>[{path:"/",element:t?C.jsx(RP,{children:C.jsx(yY,{})}):C.jsx(Hoe,{element:C.jsx(Uoe,{})})},{path:"/laboratory-notebooks",element:C.jsx(Vv,{element:qoe})},{path:"/supplemental-materials",element:C.jsx(Vv,{element:Voe})},{path:"/my-profile",element:C.jsx(Vv,{element:Ote})},{path:"/add-material",element:C.jsx(is,{element:LO})},{path:"/edit-material/:id",element:C.jsx(is,{element:ree})},{path:"/view-material/:id",element:C.jsx(is,{element:xte})},{path:"/add-message",element:C.jsx(is,{element:Ste})},{path:"/edit-message/:id",element:C.jsx(is,{element:Ete})},{path:"/chatbot-management",element:C.jsx(is,{element:Fne})},{path:"/course-management",element:C.jsx(is,{element:qte})},{path:"/request-chatbot",element:C.jsx(is,{element:qne})},{path:"/request-educator-permissions",element:C.jsx(is,{element:Pne})},{path:"/educator-requests",element:C.jsx(is,{element:One})},{path:"/request-new-course",element:C.jsx(Lne,{})},{path:"/course-requests",element:C.jsx(Bne,{})},{path:"/super-admin-course-management",element:C.jsx(jne,{})},{path:"/super-admin-chatbot-requests",element:C.jsx(is,{element:zoe})},...r?[{path:"/user-management",element:C.jsx(is,{element:Nte})},{path:"/chatbot-conversations",element:C.jsx(is,{element:Foe})}]:[],{path:"*",element:C.jsx(PP,{to:"/"})}],Woe=AW({breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}}}),Goe=()=>{const t=CW(),r=uv(t.breakpoints.down("sm")),n=uv(t.breakpoints.between("sm","md")),o=uv(t.breakpoints.up("md"));return{isMobile:r,isTablet:n,isDesktop:o}},Yoe=()=>{const{isMobile:t,isTablet:r,isDesktop:n}=Goe();return C.jsx(xW,{position:"static",className:"device-version-bar",children:C.jsx(SW,{className:"device-version-toolbar",children:C.jsxs(Fe,{sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[t&&C.jsx(Ve,{variant:"body1",className:"device-version-text",children:"NexLAB Mobile Version 1.0"}),r&&C.jsx(Ve,{variant:"body1",className:"device-version-text",children:"NexLAB Tablet Version 1.0"}),n&&C.jsx(Ve,{variant:"body1",className:"device-version-text",children:"NexLAB Desktop Version 1.0"})]})})})},Koe=st.forwardRef(function(r,n){return C.jsx(xr,{elevation:6,ref:n,variant:"filled",...r})}),Qoe=()=>{const[t,r]=K.useState(!1),[n,o]=K.useState(!1),[a,c]=K.useState(""),[d,f]=K.useState(!1),p=Fr(),g=()=>{r(!0)},k=()=>{r(!1)},v=async()=>{if(!d){f(!0);try{await OP.signOut(),r(!1),o(!0),c("Logged out successfully"),p("/")}catch(y){r(!1),o(!0);const w=y instanceof Error?y.message:"Logout failed: An unexpected error occurred";c(w)}finally{f(!1)}}};return C.jsxs(C.Fragment,{children:[C.jsx(xt,{variant:"outlined",onClick:g,disabled:d,sx:{fontSize:"1rem",fontFamily:"Staatliches, sans-serif",textTransform:"none",minWidth:"120px",color:"#FBFADA",borderColor:"#FBFADA",borderRadius:"15px",backgroundColor:"transparent",boxShadow:"none","&:hover":{borderColor:"#FFFFFF",backgroundColor:"#ffcdd2",color:"#c62828",boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.2)",transform:"scale(1.05)"},"&:disabled":{borderColor:"#ccc",color:"#999"},transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out"},children:d?"Logging out...":"Logout"}),C.jsxs(uo,{open:t,onClose:k,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[C.jsx(ho,{id:"alert-dialog-title",children:"Logging Out"}),C.jsx(fo,{children:C.jsx(fs,{id:"alert-dialog-description",children:"Are you sure you want to log out?"})}),C.jsxs(po,{children:[C.jsx(xt,{onClick:v,autoFocus:!0,disabled:d,children:d?"Please wait...":"Yes"}),C.jsx(xt,{onClick:k,disabled:d,children:"No"})]})]}),C.jsx(Wo,{open:n,autoHideDuration:6e3,onClose:()=>o(!1),children:C.jsx(Koe,{onClose:()=>o(!1),severity:"info",sx:{width:"100%"},children:a})})]})},Joe=st.memo(Qoe),X8=st.memo(()=>{const{userDetails:t,isSuperAdmin:r}=xi(),[n,o]=st.useState(!1),a=()=>{t!=null&&t.uid?navigator.clipboard.writeText(t.uid).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)}).catch(c=>console.error("Could not copy text: ",c)):console.error("User details are null or undefined")};return C.jsxs(Fe,{className:"header-box",sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",backgroundColor:"#CDDAFF"},children:[C.jsxs(Fe,{sx:{display:"flex",alignItems:"center"},children:[C.jsx("img",{src:"/nexlab/nexlab-logo.png",alt:"ATE Logo",style:{width:300}}),C.jsx(Fe,{className:"divider",sx:{height:"40px",borderLeft:"2px solid #0B53C0",marginRight:"20px"}}),C.jsxs(Ve,{variant:"body1",component:"p",className:"subtitle",sx:{color:"#0B53C0",fontFamily:"Gabarito",maxWidth:"300px"},children:["Next-Generation Experiments and ",C.jsx("br",{}),"Learning for Advanced Biotech"]})]}),C.jsxs(Fe,{className:"user-info-box",sx:{display:"flex",alignItems:"center"},children:[r&&C.jsx(Zr,{label:"Super-Admin",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),(t==null?void 0:t.isAdmin)&&!r&&C.jsx(Zr,{label:"Educator",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),!(t!=null&&t.isAdmin)&&C.jsx(Zr,{label:"Student",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#bbdefb",color:"#1e88e5",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),t&&C.jsx(Gs,{title:n?"Copied!":"Click to Copy",enterDelay:300,leaveDelay:200,children:C.jsx(Zr,{label:`User ID: ${t.uid}`,variant:"outlined",onClick:a,sx:{borderRadius:"15px",fontSize:"20px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",mr:2,fontFamily:"Staatliches, sans-serif"}})}),C.jsx(Joe,{})]})]})});X8.displayName="Header";const Zoe=()=>{const t=()=>{window.open("https://help.waveshi.org","_blank","noopener,noreferrer")};return C.jsx(xt,{onClick:t,className:"report-bug-button",startIcon:C.jsx(EW,{}),children:"Provide Feedback"})};function Xoe(){return C.jsxs(Fe,{component:"footer",className:"footer-container",children:[C.jsx(Fe,{className:"report-bug-container",children:C.jsx(Zoe,{})}),C.jsx(Us,{}),C.jsxs(Fe,{className:"footer-content",children:[C.jsx("img",{src:"/nexlab/FooterLogoLong.png",alt:"Logo",className:"footer-logo"}),C.jsx(Ve,{variant:"body2",className:"footer-text",children:"The Institute for Future Intelligence (IFI) and Kapi'olani Community College (KCC) is funded in part by the National Science Foundation grant DUE 2300976."}),C.jsx(Ve,{variant:"body2",className:"footer-text",children:"© 2025 Institute for Future Intelligence and Kapi'olani Community College Antibody Engineering & Research Projects"})]})]})}const Og={black:"#000",white:"#fff"},Of={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Lf={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Bf={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},jf={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Rf={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Ym={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},ese={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Eh(t){let r="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+r+" for the full message."}const tse=Object.freeze(Object.defineProperty({__proto__:null,default:Eh},Symbol.toStringTag,{value:"Module"})),V1="$$material";function nse(t,r){const n=DW({key:"css",prepend:t});if(r){const o=n.insert;n.insert=(...a)=>(a[1].styles.match(/^@layer\s+[^{]*$/)||(a[1].styles=`@layer mui {${a[1].styles}}`),o(...a))}return n}const Hv=new Map;function rse(t){const{injectFirst:r,enableCssLayer:n,children:o}=t,a=K.useMemo(()=>{const c=`${r}-${n}`;if(typeof document=="object"&&Hv.has(c))return Hv.get(c);const d=nse(r,n);return Hv.set(c,d),d},[r,n]);return r||n?C.jsx(mP,{value:a,children:o}):o}function ise(t){return t==null||Object.keys(t).length===0}function eL(t){const{styles:r,defaultTheme:n={}}=t,o=typeof r=="function"?a=>r(ise(a)?n:a):r;return C.jsx(gP,{styles:o})}function tL(t,r){return NA(t,r)}const ose=(t,r)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=r(t.__emotion_styles))},ET=[];function nL(t){return ET[0]=t,pP(ET)}const sse=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:eL,StyledEngineProvider:rse,ThemeContext:MA,css:Th,default:tL,internal_processStyles:ose,internal_serializeStyles:nL,keyframes:Xl},Symbol.toStringTag,{value:"Module"}));function Bu(t){if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function rL(t){if(K.isValidElement(t)||!Bu(t))return t;const r={};return Object.keys(t).forEach(n=>{r[n]=rL(t[n])}),r}function Vs(t,r,n={clone:!0}){const o=n.clone?He({},t):t;return Bu(t)&&Bu(r)&&Object.keys(r).forEach(a=>{K.isValidElement(r[a])?o[a]=r[a]:Bu(r[a])&&Object.prototype.hasOwnProperty.call(t,a)&&Bu(t[a])?o[a]=Vs(t[a],r[a],n):n.clone?o[a]=Bu(r[a])?rL(r[a]):r[a]:o[a]=r[a]}),o}const ase=Object.freeze(Object.defineProperty({__proto__:null,default:Vs,isPlainObject:Bu},Symbol.toStringTag,{value:"Module"})),lse=["values","unit","step"],cse=t=>{const r=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return r.sort((n,o)=>n.val-o.val),r.reduce((n,o)=>He({},n,{[o.key]:o.val}),{})};function iL(t){const{values:r={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5}=t,a=wn(t,lse),c=cse(r),d=Object.keys(c);function f(y){return`@media (min-width:${typeof r[y]=="number"?r[y]:y}${n})`}function p(y){return`@media (max-width:${(typeof r[y]=="number"?r[y]:y)-o/100}${n})`}function g(y,w){const x=d.indexOf(w);return`@media (min-width:${typeof r[y]=="number"?r[y]:y}${n}) and (max-width:${(x!==-1&&typeof r[d[x]]=="number"?r[d[x]]:w)-o/100}${n})`}function k(y){return d.indexOf(y)+1<d.length?g(y,d[d.indexOf(y)+1]):f(y)}function v(y){const w=d.indexOf(y);return w===0?f(d[1]):w===d.length-1?p(d[w]):g(y,d[d.indexOf(y)+1]).replace("@media","@media not all and")}return He({keys:d,values:c,up:f,down:p,between:g,only:k,not:v,unit:n},a)}const use={borderRadius:4};function pg(t,r){return r?Vs(t,r,{clone:!1}):t}const pC={xs:0,sm:600,md:900,lg:1200,xl:1536},DT={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${pC[t]}px)`};function qc(t,r,n){const o=t.theme||{};if(Array.isArray(r)){const c=o.breakpoints||DT;return r.reduce((d,f,p)=>(d[c.up(c.keys[p])]=n(r[p]),d),{})}if(typeof r=="object"){const c=o.breakpoints||DT;return Object.keys(r).reduce((d,f)=>{if(Object.keys(c.values||pC).indexOf(f)!==-1){const p=c.up(f);d[p]=n(r[f],f)}else{const p=f;d[p]=r[p]}return d},{})}return n(r)}function dse(t={}){var r;return((r=t.keys)==null?void 0:r.reduce((o,a)=>{const c=t.up(a);return o[c]={},o},{}))||{}}function IT(t,r){return t.reduce((n,o)=>{const a=n[o];return(!a||Object.keys(a).length===0)&&delete n[o],n},r)}function en(t){if(typeof t!="string")throw new Error(Eh(7));return t.charAt(0).toUpperCase()+t.slice(1)}const hse=Object.freeze(Object.defineProperty({__proto__:null,default:en},Symbol.toStringTag,{value:"Module"}));function H1(t,r,n=!0){if(!r||typeof r!="string")return null;if(t&&t.vars&&n){const o=`vars.${r}`.split(".").reduce((a,c)=>a&&a[c]?a[c]:null,t);if(o!=null)return o}return r.split(".").reduce((o,a)=>o&&o[a]!=null?o[a]:null,t)}function i1(t,r,n,o=n){let a;return typeof t=="function"?a=t(n):Array.isArray(t)?a=t[n]||o:a=H1(t,n)||o,r&&(a=r(a,o,t)),a}function Ei(t){const{prop:r,cssProperty:n=t.prop,themeKey:o,transform:a}=t,c=d=>{if(d[r]==null)return null;const f=d[r],p=d.theme,g=H1(p,o)||{};return qc(d,f,v=>{let y=i1(g,a,v);return v===y&&typeof v=="string"&&(y=i1(g,a,`${r}${v==="default"?"":en(v)}`,v)),n===!1?y:{[n]:y}})};return c.propTypes={},c.filterProps=[r],c}function fse(t){const r={};return n=>(r[n]===void 0&&(r[n]=t(n)),r[n])}const pse={m:"margin",p:"padding"},mse={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},TT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},gse=fse(t=>{if(t.length>2)if(TT[t])t=TT[t];else return[t];const[r,n]=t.split(""),o=pse[r],a=mse[n]||"";return Array.isArray(a)?a.map(c=>o+c):[o+a]}),mC=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],gC=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...mC,...gC];function tb(t,r,n,o){var a;const c=(a=H1(t,r,!1))!=null?a:n;return typeof c=="number"?d=>typeof d=="string"?d:c*d:Array.isArray(c)?d=>typeof d=="string"?d:c[d]:typeof c=="function"?c:()=>{}}function oL(t){return tb(t,"spacing",8)}function nb(t,r){if(typeof r=="string"||r==null)return r;const n=Math.abs(r),o=t(n);return r>=0?o:typeof o=="number"?-o:`-${o}`}function bse(t,r){return n=>t.reduce((o,a)=>(o[a]=nb(r,n),o),{})}function kse(t,r,n,o){if(r.indexOf(n)===-1)return null;const a=gse(n),c=bse(a,o),d=t[n];return qc(t,d,c)}function sL(t,r){const n=oL(t.theme);return Object.keys(t).map(o=>kse(t,r,o,n)).reduce(pg,{})}function si(t){return sL(t,mC)}si.propTypes={};si.filterProps=mC;function ai(t){return sL(t,gC)}ai.propTypes={};ai.filterProps=gC;function wse(t=8){if(t.mui)return t;const r=oL({spacing:t}),n=(...o)=>(o.length===0?[1]:o).map(c=>{const d=r(c);return typeof d=="number"?`${d}px`:d}).join(" ");return n.mui=!0,n}function $1(...t){const r=t.reduce((o,a)=>(a.filterProps.forEach(c=>{o[c]=a}),o),{}),n=o=>Object.keys(o).reduce((a,c)=>r[c]?pg(a,r[c](o)):a,{});return n.propTypes={},n.filterProps=t.reduce((o,a)=>o.concat(a.filterProps),[]),n}function Aa(t){return typeof t!="number"?t:`${t}px solid`}function Ia(t,r){return Ei({prop:t,themeKey:"borders",transform:r})}const yse=Ia("border",Aa),vse=Ia("borderTop",Aa),_se=Ia("borderRight",Aa),Ase=Ia("borderBottom",Aa),Cse=Ia("borderLeft",Aa),xse=Ia("borderColor"),Sse=Ia("borderTopColor"),Ese=Ia("borderRightColor"),Dse=Ia("borderBottomColor"),Ise=Ia("borderLeftColor"),Tse=Ia("outline",Aa),Nse=Ia("outlineColor"),W1=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const r=tb(t.theme,"shape.borderRadius",4),n=o=>({borderRadius:nb(r,o)});return qc(t,t.borderRadius,n)}return null};W1.propTypes={};W1.filterProps=["borderRadius"];$1(yse,vse,_se,Ase,Cse,xse,Sse,Ese,Dse,Ise,W1,Tse,Nse);const G1=t=>{if(t.gap!==void 0&&t.gap!==null){const r=tb(t.theme,"spacing",8),n=o=>({gap:nb(r,o)});return qc(t,t.gap,n)}return null};G1.propTypes={};G1.filterProps=["gap"];const Y1=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const r=tb(t.theme,"spacing",8),n=o=>({columnGap:nb(r,o)});return qc(t,t.columnGap,n)}return null};Y1.propTypes={};Y1.filterProps=["columnGap"];const K1=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const r=tb(t.theme,"spacing",8),n=o=>({rowGap:nb(r,o)});return qc(t,t.rowGap,n)}return null};K1.propTypes={};K1.filterProps=["rowGap"];const Mse=Ei({prop:"gridColumn"}),Pse=Ei({prop:"gridRow"}),Ose=Ei({prop:"gridAutoFlow"}),Lse=Ei({prop:"gridAutoColumns"}),Bse=Ei({prop:"gridAutoRows"}),jse=Ei({prop:"gridTemplateColumns"}),Rse=Ei({prop:"gridTemplateRows"}),Fse=Ei({prop:"gridTemplateAreas"}),zse=Ei({prop:"gridArea"});$1(G1,Y1,K1,Mse,Pse,Ose,Lse,Bse,jse,Rse,Fse,zse);function sp(t,r){return r==="grey"?r:t}const Use=Ei({prop:"color",themeKey:"palette",transform:sp}),qse=Ei({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:sp}),Vse=Ei({prop:"backgroundColor",themeKey:"palette",transform:sp});$1(Use,qse,Vse);function Bs(t){return t<=1&&t!==0?`${t*100}%`:t}const Hse=Ei({prop:"width",transform:Bs}),bC=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const r=n=>{var o,a;const c=((o=t.theme)==null||(o=o.breakpoints)==null||(o=o.values)==null?void 0:o[n])||pC[n];return c?((a=t.theme)==null||(a=a.breakpoints)==null?void 0:a.unit)!=="px"?{maxWidth:`${c}${t.theme.breakpoints.unit}`}:{maxWidth:c}:{maxWidth:Bs(n)}};return qc(t,t.maxWidth,r)}return null};bC.filterProps=["maxWidth"];const $se=Ei({prop:"minWidth",transform:Bs}),Wse=Ei({prop:"height",transform:Bs}),Gse=Ei({prop:"maxHeight",transform:Bs}),Yse=Ei({prop:"minHeight",transform:Bs});Ei({prop:"size",cssProperty:"width",transform:Bs});Ei({prop:"size",cssProperty:"height",transform:Bs});const Kse=Ei({prop:"boxSizing"});$1(Hse,bC,$se,Wse,Gse,Yse,Kse);const rb={border:{themeKey:"borders",transform:Aa},borderTop:{themeKey:"borders",transform:Aa},borderRight:{themeKey:"borders",transform:Aa},borderBottom:{themeKey:"borders",transform:Aa},borderLeft:{themeKey:"borders",transform:Aa},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Aa},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:W1},color:{themeKey:"palette",transform:sp},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:sp},backgroundColor:{themeKey:"palette",transform:sp},p:{style:ai},pt:{style:ai},pr:{style:ai},pb:{style:ai},pl:{style:ai},px:{style:ai},py:{style:ai},padding:{style:ai},paddingTop:{style:ai},paddingRight:{style:ai},paddingBottom:{style:ai},paddingLeft:{style:ai},paddingX:{style:ai},paddingY:{style:ai},paddingInline:{style:ai},paddingInlineStart:{style:ai},paddingInlineEnd:{style:ai},paddingBlock:{style:ai},paddingBlockStart:{style:ai},paddingBlockEnd:{style:ai},m:{style:si},mt:{style:si},mr:{style:si},mb:{style:si},ml:{style:si},mx:{style:si},my:{style:si},margin:{style:si},marginTop:{style:si},marginRight:{style:si},marginBottom:{style:si},marginLeft:{style:si},marginX:{style:si},marginY:{style:si},marginInline:{style:si},marginInlineStart:{style:si},marginInlineEnd:{style:si},marginBlock:{style:si},marginBlockStart:{style:si},marginBlockEnd:{style:si},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:G1},rowGap:{style:K1},columnGap:{style:Y1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Bs},maxWidth:{style:bC},minWidth:{transform:Bs},height:{transform:Bs},maxHeight:{transform:Bs},minHeight:{transform:Bs},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Qse(...t){const r=t.reduce((o,a)=>o.concat(Object.keys(a)),[]),n=new Set(r);return t.every(o=>n.size===Object.keys(o).length)}function Jse(t,r){return typeof t=="function"?t(r):t}function aL(){function t(n,o,a,c){const d={[n]:o,theme:a},f=c[n];if(!f)return{[n]:o};const{cssProperty:p=n,themeKey:g,transform:k,style:v}=f;if(o==null)return null;if(g==="typography"&&o==="inherit")return{[n]:o};const y=H1(a,g)||{};return v?v(d):qc(d,o,x=>{let A=i1(y,k,x);return x===A&&typeof x=="string"&&(A=i1(y,k,`${n}${x==="default"?"":en(x)}`,x)),p===!1?A:{[p]:A}})}function r(n){var o;const{sx:a,theme:c={},nested:d}=n||{};if(!a)return null;const f=(o=c.unstable_sxConfig)!=null?o:rb;function p(g){let k=g;if(typeof g=="function")k=g(c);else if(typeof g!="object")return g;if(!k)return null;const v=dse(c.breakpoints),y=Object.keys(v);let w=v;return Object.keys(k).forEach(x=>{const A=Jse(k[x],c);if(A!=null)if(typeof A=="object")if(f[x])w=pg(w,t(x,A,c,f));else{const D=qc({theme:c},A,E=>({[x]:E}));Qse(D,A)?w[x]=r({sx:A,theme:c,nested:!0}):w=pg(w,D)}else w=pg(w,t(x,A,c,f))}),!d&&c.modularCssLayers?{"@layer sx":IT(y,w)}:IT(y,w)}return Array.isArray(a)?a.map(p):p(a)}return r}const ib=aL();ib.filterProps=["sx"];function lL(t,r){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:r}:n.palette.mode===t?r:{}}const Zse=["breakpoints","palette","spacing","shape"];function kC(t={},...r){const{breakpoints:n={},palette:o={},spacing:a,shape:c={}}=t,d=wn(t,Zse),f=iL(n),p=wse(a);let g=Vs({breakpoints:f,direction:"ltr",components:{},palette:He({mode:"light"},o),spacing:p,shape:He({},use,c)},d);return g.applyStyles=lL,g=r.reduce((k,v)=>Vs(k,v),g),g.unstable_sxConfig=He({},rb,d==null?void 0:d.unstable_sxConfig),g.unstable_sx=function(v){return ib({sx:v,theme:this})},g}const Xse=Object.freeze(Object.defineProperty({__proto__:null,default:kC,private_createBreakpoints:iL,unstable_applyStyles:lL},Symbol.toStringTag,{value:"Module"}));function eae(t){return Object.keys(t).length===0}function cL(t=null){const r=K.useContext(MA);return!r||eae(r)?t:r}const tae=kC();function wC(t=tae){return cL(t)}function $v(t){const r=nL(t);return t!==r&&r.styles?(r.styles.match(/^@layer\s+[^{]*$/)||(r.styles=`@layer global{${r.styles}}`),r):t}function nae({styles:t,themeId:r,defaultTheme:n={}}){const o=wC(n),a=r&&o[r]||o;let c=typeof t=="function"?t(a):t;return a.modularCssLayers&&(Array.isArray(c)?c=c.map(d=>$v(typeof d=="function"?d(a):d)):c=$v(c)),C.jsx(eL,{styles:c})}const rae=["sx"],iae=t=>{var r,n;const o={systemProps:{},otherProps:{}},a=(r=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?r:rb;return Object.keys(t).forEach(c=>{a[c]?o.systemProps[c]=t[c]:o.otherProps[c]=t[c]}),o};function yC(t){const{sx:r}=t,n=wn(t,rae),{systemProps:o,otherProps:a}=iae(n);let c;return Array.isArray(r)?c=[o,...r]:typeof r=="function"?c=(...d)=>{const f=r(...d);return Bu(f)?He({},o,f):o}:c=He({},o,r),He({},a,{sx:c})}const oae=Object.freeze(Object.defineProperty({__proto__:null,default:ib,extendSxProp:yC,unstable_createStyleFunctionSx:aL,unstable_defaultSxConfig:rb},Symbol.toStringTag,{value:"Module"})),NT=t=>t,sae=()=>{let t=NT;return{configure(r){t=r},generate(r){return t(r)},reset(){t=NT}}},uL=sae(),aae=["className","component"];function lae(t={}){const{themeId:r,defaultTheme:n,defaultClassName:o="MuiBox-root",generateClassName:a}=t,c=tL("div",{shouldForwardProp:f=>f!=="theme"&&f!=="sx"&&f!=="as"})(ib);return K.forwardRef(function(p,g){const k=wC(n),v=yC(p),{className:y,component:w="div"}=v,x=wn(v,aae);return C.jsx(c,He({as:w,ref:g,className:Zt(y,a?a(o):o),theme:r&&k[r]||k},x))})}const cae={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Nr(t,r,n="Mui"){const o=cae[r];return o?`${n}-${o}`:`${uL.generate(t)}-${r}`}function Sr(t,r,n="Mui"){const o={};return r.forEach(a=>{o[a]=Nr(t,a,n)}),o}const uae=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function dL(t){const r=`${t}`.match(uae);return r&&r[1]||""}function hL(t,r=""){return t.displayName||t.name||dL(t)||r}function MT(t,r,n){const o=hL(r);return t.displayName||(o!==""?`${n}(${o})`:n)}function dae(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return hL(t,"Component");if(typeof t=="object")switch(t.$$typeof){case Mk.ForwardRef:return MT(t,t.render,"ForwardRef");case Mk.Memo:return MT(t,t.type,"memo");default:return}}}const hae=Object.freeze(Object.defineProperty({__proto__:null,default:dae,getFunctionName:dL},Symbol.toStringTag,{value:"Module"}));function Lg(t,r){const n=He({},r);return Object.keys(t).forEach(o=>{if(o.toString().match(/^(components|slots)$/))n[o]=He({},t[o],n[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const a=t[o]||{},c=r[o];n[o]={},!c||!Object.keys(c)?n[o]=a:!a||!Object.keys(a)?n[o]=c:(n[o]=He({},c),Object.keys(a).forEach(d=>{n[o][d]=Lg(a[d],c[d])}))}else n[o]===void 0&&(n[o]=t[o])}),n}function fae(t){const{theme:r,name:n,props:o}=t;return!r||!r.components||!r.components[n]||!r.components[n].defaultProps?o:Lg(r.components[n].defaultProps,o)}const Xu=typeof window<"u"?K.useLayoutEffect:K.useEffect;function pae(t,r,n,o,a){const[c,d]=K.useState(()=>a&&n?n(t).matches:o?o(t).matches:r);return Xu(()=>{let f=!0;if(!n)return;const p=n(t),g=()=>{f&&d(p.matches)};return g(),p.addListener(g),()=>{f=!1,p.removeListener(g)}},[t,n]),c}const fL=K.useSyncExternalStore;function mae(t,r,n,o,a){const c=K.useCallback(()=>r,[r]),d=K.useMemo(()=>{if(a&&n)return()=>n(t).matches;if(o!==null){const{matches:k}=o(t);return()=>k}return c},[c,t,o,a,n]),[f,p]=K.useMemo(()=>{if(n===null)return[c,()=>()=>{}];const k=n(t);return[()=>k.matches,v=>(k.addListener(v),()=>{k.removeListener(v)})]},[c,n,t]);return fL(p,f,d)}function PT(t,r={}){const n=cL(),o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:a=!1,matchMedia:c=o?window.matchMedia:null,ssrMatchMedia:d=null,noSsr:f=!1}=fae({name:"MuiUseMediaQuery",props:r,theme:n});let p=typeof t=="function"?t(n):t;return p=p.replace(/^@media( ?)/m,""),(fL!==void 0?mae:pae)(p,a,c,d,f)}function gae(t,r=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(r,Math.min(t,n))}const bae=Object.freeze(Object.defineProperty({__proto__:null,default:gae},Symbol.toStringTag,{value:"Module"}));function OT(...t){return t.reduce((r,n)=>n==null?r:function(...a){r.apply(this,a),n.apply(this,a)},()=>{})}function pL(t,r=166){let n;function o(...a){const c=()=>{t.apply(this,a)};clearTimeout(n),n=setTimeout(c,r)}return o.clear=()=>{clearTimeout(n)},o}function Wv(t,r){var n,o;return K.isValidElement(t)&&r.indexOf((n=t.type.muiName)!=null?n:(o=t.type)==null||(o=o._payload)==null||(o=o.value)==null?void 0:o.muiName)!==-1}function Hs(t){return t&&t.ownerDocument||document}function Dh(t){return Hs(t).defaultView||window}function eA(t,r){typeof t=="function"?t(r):t&&(t.current=r)}let LT=0;function kae(t){const[r,n]=K.useState(t),o=t||r;return K.useEffect(()=>{r==null&&(LT+=1,n(`mui-${LT}`))},[r]),o}const BT=f1.useId;function mL(t){if(BT!==void 0){const r=BT();return t??r}return kae(t)}function jT({controlled:t,default:r,name:n,state:o="value"}){const{current:a}=K.useRef(t!==void 0),[c,d]=K.useState(r),f=a?t:c,p=K.useCallback(g=>{a||d(g)},[]);return[f,p]}function uh(t){const r=K.useRef(t);return Xu(()=>{r.current=t}),K.useRef((...n)=>(0,r.current)(...n)).current}function ds(...t){return K.useMemo(()=>t.every(r=>r==null)?null:r=>{t.forEach(n=>{eA(n,r)})},t)}const RT={};function wae(t,r){const n=K.useRef(RT);return n.current===RT&&(n.current=t(r)),n}const yae=[];function vae(t){K.useEffect(t,yae)}class Q1{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Q1}start(r,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},r)}}function gL(){const t=wae(Q1.create).current;return vae(t.disposeEffect),t}let J1=!0,tA=!1;const _ae=new Q1,Aae={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Cae(t){const{type:r,tagName:n}=t;return!!(n==="INPUT"&&Aae[r]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function xae(t){t.metaKey||t.altKey||t.ctrlKey||(J1=!0)}function Gv(){J1=!1}function Sae(){this.visibilityState==="hidden"&&tA&&(J1=!0)}function Eae(t){t.addEventListener("keydown",xae,!0),t.addEventListener("mousedown",Gv,!0),t.addEventListener("pointerdown",Gv,!0),t.addEventListener("touchstart",Gv,!0),t.addEventListener("visibilitychange",Sae,!0)}function Dae(t){const{target:r}=t;try{return r.matches(":focus-visible")}catch{}return J1||Cae(r)}function Iae(){const t=K.useCallback(a=>{a!=null&&Eae(a.ownerDocument)},[]),r=K.useRef(!1);function n(){return r.current?(tA=!0,_ae.start(100,()=>{tA=!1}),r.current=!1,!0):!1}function o(a){return Dae(a)?(r.current=!0,!0):!1}return{isFocusVisibleRef:r,onFocus:o,onBlur:n,ref:t}}function bL(t){const r=t.documentElement.clientWidth;return Math.abs(window.innerWidth-r)}function zr(t,r,n=void 0){const o={};return Object.keys(t).forEach(a=>{o[a]=t[a].reduce((c,d)=>{if(d){const f=r(d);f!==""&&c.push(f),n&&n[d]&&c.push(n[d])}return c},[]).join(" ")}),o}function o1(t){return typeof t=="string"}function Tae(t,r,n){return t===void 0||o1(t)?r:He({},r,{ownerState:He({},r.ownerState,n)})}function kL(t,r=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(o=>o.match(/^on[A-Z]/)&&typeof t[o]=="function"&&!r.includes(o)).forEach(o=>{n[o]=t[o]}),n}function FT(t){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{r[n]=t[n]}),r}function Nae(t){const{getSlotProps:r,additionalProps:n,externalSlotProps:o,externalForwardedProps:a,className:c}=t;if(!r){const w=Zt(n==null?void 0:n.className,c,a==null?void 0:a.className,o==null?void 0:o.className),x=He({},n==null?void 0:n.style,a==null?void 0:a.style,o==null?void 0:o.style),A=He({},n,a,o);return w.length>0&&(A.className=w),Object.keys(x).length>0&&(A.style=x),{props:A,internalRef:void 0}}const d=kL(He({},a,o)),f=FT(o),p=FT(a),g=r(d),k=Zt(g==null?void 0:g.className,n==null?void 0:n.className,c,a==null?void 0:a.className,o==null?void 0:o.className),v=He({},g==null?void 0:g.style,n==null?void 0:n.style,a==null?void 0:a.style,o==null?void 0:o.style),y=He({},g,n,p,f);return k.length>0&&(y.className=k),Object.keys(v).length>0&&(y.style=v),{props:y,internalRef:g.ref}}function Mae(t,r,n){return typeof t=="function"?t(r,n):t}const Pae=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function bp(t){var r;const{elementType:n,externalSlotProps:o,ownerState:a,skipResolvingSlotProps:c=!1}=t,d=wn(t,Pae),f=c?{}:Mae(o,a),{props:p,internalRef:g}=Nae(He({},d,{externalSlotProps:f})),k=ds(g,f==null?void 0:f.ref,(r=t.additionalProps)==null?void 0:r.ref);return Tae(n,He({},p,{ref:k}),a)}function ob(t){if(parseInt(K.version,10)>=19){var r;return(t==null||(r=t.props)==null?void 0:r.ref)||null}return(t==null?void 0:t.ref)||null}const Oae=K.createContext(),wL=()=>{const t=K.useContext(Oae);return t??!1},Lae=K.createContext(void 0);function Bae(t){const{theme:r,name:n,props:o}=t;if(!r||!r.components||!r.components[n])return o;const a=r.components[n];return a.defaultProps?Lg(a.defaultProps,o):!a.styleOverrides&&!a.variants?Lg(a,o):o}function jae({props:t,name:r}){const n=K.useContext(Lae);return Bae({props:t,name:r,theme:{components:n}})}function Rae(t,r){return He({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},r)}var Kr={},Yv={exports:{}},zT;function yL(){return zT||(zT=1,function(t){function r(n){return n&&n.__esModule?n:{default:n}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(Yv)),Yv.exports}const Fae=$c(tse),zae=$c(bae);var UT;function Uae(){if(UT)return Kr;UT=1;var t=yL();Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.alpha=x,Kr.blend=V,Kr.colorChannel=void 0,Kr.darken=D,Kr.decomposeColor=d,Kr.emphasize=F,Kr.getContrastRatio=w,Kr.getLuminance=y,Kr.hexToRgb=a,Kr.hslToRgb=v,Kr.lighten=M,Kr.private_safeAlpha=A,Kr.private_safeColorChannel=void 0,Kr.private_safeDarken=E,Kr.private_safeEmphasize=H,Kr.private_safeLighten=P,Kr.recomposeColor=g,Kr.rgbToHex=k;var r=t(Fae),n=t(zae);function o(N,j=0,q=1){return(0,n.default)(N,j,q)}function a(N){N=N.slice(1);const j=new RegExp(`.{1,${N.length>=6?2:1}}`,"g");let q=N.match(j);return q&&q[0].length===1&&(q=q.map(Q=>Q+Q)),q?`rgb${q.length===4?"a":""}(${q.map((Q,$)=>$<3?parseInt(Q,16):Math.round(parseInt(Q,16)/255*1e3)/1e3).join(", ")})`:""}function c(N){const j=N.toString(16);return j.length===1?`0${j}`:j}function d(N){if(N.type)return N;if(N.charAt(0)==="#")return d(a(N));const j=N.indexOf("("),q=N.substring(0,j);if(["rgb","rgba","hsl","hsla","color"].indexOf(q)===-1)throw new Error((0,r.default)(9,N));let Q=N.substring(j+1,N.length-1),$;if(q==="color"){if(Q=Q.split(" "),$=Q.shift(),Q.length===4&&Q[3].charAt(0)==="/"&&(Q[3]=Q[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf($)===-1)throw new Error((0,r.default)(10,$))}else Q=Q.split(",");return Q=Q.map(R=>parseFloat(R)),{type:q,values:Q,colorSpace:$}}const f=N=>{const j=d(N);return j.values.slice(0,3).map((q,Q)=>j.type.indexOf("hsl")!==-1&&Q!==0?`${q}%`:q).join(" ")};Kr.colorChannel=f;const p=(N,j)=>{try{return f(N)}catch{return N}};Kr.private_safeColorChannel=p;function g(N){const{type:j,colorSpace:q}=N;let{values:Q}=N;return j.indexOf("rgb")!==-1?Q=Q.map(($,R)=>R<3?parseInt($,10):$):j.indexOf("hsl")!==-1&&(Q[1]=`${Q[1]}%`,Q[2]=`${Q[2]}%`),j.indexOf("color")!==-1?Q=`${q} ${Q.join(" ")}`:Q=`${Q.join(", ")}`,`${j}(${Q})`}function k(N){if(N.indexOf("#")===0)return N;const{values:j}=d(N);return`#${j.map((q,Q)=>c(Q===3?Math.round(255*q):q)).join("")}`}function v(N){N=d(N);const{values:j}=N,q=j[0],Q=j[1]/100,$=j[2]/100,R=Q*Math.min($,1-$),Y=(de,ae=(de+q/30)%12)=>$-R*Math.max(Math.min(ae-3,9-ae,1),-1);let B="rgb";const ne=[Math.round(Y(0)*255),Math.round(Y(8)*255),Math.round(Y(4)*255)];return N.type==="hsla"&&(B+="a",ne.push(j[3])),g({type:B,values:ne})}function y(N){N=d(N);let j=N.type==="hsl"||N.type==="hsla"?d(v(N)).values:N.values;return j=j.map(q=>(N.type!=="color"&&(q/=255),q<=.03928?q/12.92:((q+.055)/1.055)**2.4)),Number((.2126*j[0]+.7152*j[1]+.0722*j[2]).toFixed(3))}function w(N,j){const q=y(N),Q=y(j);return(Math.max(q,Q)+.05)/(Math.min(q,Q)+.05)}function x(N,j){return N=d(N),j=o(j),(N.type==="rgb"||N.type==="hsl")&&(N.type+="a"),N.type==="color"?N.values[3]=`/${j}`:N.values[3]=j,g(N)}function A(N,j,q){try{return x(N,j)}catch{return N}}function D(N,j){if(N=d(N),j=o(j),N.type.indexOf("hsl")!==-1)N.values[2]*=1-j;else if(N.type.indexOf("rgb")!==-1||N.type.indexOf("color")!==-1)for(let q=0;q<3;q+=1)N.values[q]*=1-j;return g(N)}function E(N,j,q){try{return D(N,j)}catch{return N}}function M(N,j){if(N=d(N),j=o(j),N.type.indexOf("hsl")!==-1)N.values[2]+=(100-N.values[2])*j;else if(N.type.indexOf("rgb")!==-1)for(let q=0;q<3;q+=1)N.values[q]+=(255-N.values[q])*j;else if(N.type.indexOf("color")!==-1)for(let q=0;q<3;q+=1)N.values[q]+=(1-N.values[q])*j;return g(N)}function P(N,j,q){try{return M(N,j)}catch{return N}}function F(N,j=.15){return y(N)>.5?D(N,j):M(N,j)}function H(N,j,q){try{return F(N,j)}catch{return N}}function V(N,j,q,Q=1){const $=(ne,de)=>Math.round((ne**(1/Q)*(1-q)+de**(1/Q)*q)**Q),R=d(N),Y=d(j),B=[$(R.values[0],Y.values[0]),$(R.values[1],Y.values[1]),$(R.values[2],Y.values[2])];return g({type:"rgb",values:B})}return Kr}var Fs=Uae();const qae=["mode","contrastThreshold","tonalOffset"],qT={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Og.white,default:Og.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Kv={text:{primary:Og.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Og.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function VT(t,r,n,o){const a=o.light||o,c=o.dark||o*1.5;t[r]||(t.hasOwnProperty(n)?t[r]=t[n]:r==="light"?t.light=Fs.lighten(t.main,a):r==="dark"&&(t.dark=Fs.darken(t.main,c)))}function Vae(t="light"){return t==="dark"?{main:Bf[200],light:Bf[50],dark:Bf[400]}:{main:Bf[700],light:Bf[400],dark:Bf[800]}}function Hae(t="light"){return t==="dark"?{main:Lf[200],light:Lf[50],dark:Lf[400]}:{main:Lf[500],light:Lf[300],dark:Lf[700]}}function $ae(t="light"){return t==="dark"?{main:Of[500],light:Of[300],dark:Of[700]}:{main:Of[700],light:Of[400],dark:Of[800]}}function Wae(t="light"){return t==="dark"?{main:jf[400],light:jf[300],dark:jf[700]}:{main:jf[700],light:jf[500],dark:jf[900]}}function Gae(t="light"){return t==="dark"?{main:Rf[400],light:Rf[300],dark:Rf[700]}:{main:Rf[800],light:Rf[500],dark:Rf[900]}}function Yae(t="light"){return t==="dark"?{main:Ym[400],light:Ym[300],dark:Ym[700]}:{main:"#ed6c02",light:Ym[500],dark:Ym[900]}}function Kae(t){const{mode:r="light",contrastThreshold:n=3,tonalOffset:o=.2}=t,a=wn(t,qae),c=t.primary||Vae(r),d=t.secondary||Hae(r),f=t.error||$ae(r),p=t.info||Wae(r),g=t.success||Gae(r),k=t.warning||Yae(r);function v(A){return Fs.getContrastRatio(A,Kv.text.primary)>=n?Kv.text.primary:qT.text.primary}const y=({color:A,name:D,mainShade:E=500,lightShade:M=300,darkShade:P=700})=>{if(A=He({},A),!A.main&&A[E]&&(A.main=A[E]),!A.hasOwnProperty("main"))throw new Error(Eh(11,D?` (${D})`:"",E));if(typeof A.main!="string")throw new Error(Eh(12,D?` (${D})`:"",JSON.stringify(A.main)));return VT(A,"light",M,o),VT(A,"dark",P,o),A.contrastText||(A.contrastText=v(A.main)),A},w={dark:Kv,light:qT};return Vs(He({common:He({},Og),mode:r,primary:y({color:c,name:"primary"}),secondary:y({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:f,name:"error"}),warning:y({color:k,name:"warning"}),info:y({color:p,name:"info"}),success:y({color:g,name:"success"}),grey:ese,contrastThreshold:n,getContrastText:v,augmentColor:y,tonalOffset:o},w[r]),a)}const Qae=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Jae(t){return Math.round(t*1e5)/1e5}const HT={textTransform:"uppercase"},$T='"Roboto", "Helvetica", "Arial", sans-serif';function Zae(t,r){const n=typeof r=="function"?r(t):r,{fontFamily:o=$T,fontSize:a=14,fontWeightLight:c=300,fontWeightRegular:d=400,fontWeightMedium:f=500,fontWeightBold:p=700,htmlFontSize:g=16,allVariants:k,pxToRem:v}=n,y=wn(n,Qae),w=a/14,x=v||(E=>`${E/g*w}rem`),A=(E,M,P,F,H)=>He({fontFamily:o,fontWeight:E,fontSize:x(M),lineHeight:P},o===$T?{letterSpacing:`${Jae(F/M)}em`}:{},H,k),D={h1:A(c,96,1.167,-1.5),h2:A(c,60,1.2,-.5),h3:A(d,48,1.167,0),h4:A(d,34,1.235,.25),h5:A(d,24,1.334,0),h6:A(f,20,1.6,.15),subtitle1:A(d,16,1.75,.15),subtitle2:A(f,14,1.57,.1),body1:A(d,16,1.5,.15),body2:A(d,14,1.43,.15),button:A(f,14,1.75,.4,HT),caption:A(d,12,1.66,.4),overline:A(d,12,2.66,1,HT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Vs(He({htmlFontSize:g,pxToRem:x,fontFamily:o,fontSize:a,fontWeightLight:c,fontWeightRegular:d,fontWeightMedium:f,fontWeightBold:p},D),y,{clone:!1})}const Xae=.2,ele=.14,tle=.12;function Br(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Xae})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${ele})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${tle})`].join(",")}const nle=["none",Br(0,2,1,-1,0,1,1,0,0,1,3,0),Br(0,3,1,-2,0,2,2,0,0,1,5,0),Br(0,3,3,-2,0,3,4,0,0,1,8,0),Br(0,2,4,-1,0,4,5,0,0,1,10,0),Br(0,3,5,-1,0,5,8,0,0,1,14,0),Br(0,3,5,-1,0,6,10,0,0,1,18,0),Br(0,4,5,-2,0,7,10,1,0,2,16,1),Br(0,5,5,-3,0,8,10,1,0,3,14,2),Br(0,5,6,-3,0,9,12,1,0,3,16,2),Br(0,6,6,-3,0,10,14,1,0,4,18,3),Br(0,6,7,-4,0,11,15,1,0,4,20,3),Br(0,7,8,-4,0,12,17,2,0,5,22,4),Br(0,7,8,-4,0,13,19,2,0,5,24,4),Br(0,7,9,-4,0,14,21,2,0,5,26,4),Br(0,8,9,-5,0,15,22,2,0,6,28,5),Br(0,8,10,-5,0,16,24,2,0,6,30,5),Br(0,8,11,-5,0,17,26,2,0,6,32,5),Br(0,9,11,-5,0,18,28,2,0,7,34,6),Br(0,9,12,-6,0,19,29,2,0,7,36,6),Br(0,10,13,-6,0,20,31,3,0,8,38,7),Br(0,10,13,-6,0,21,33,3,0,8,40,7),Br(0,10,14,-6,0,22,35,3,0,8,42,7),Br(0,11,14,-7,0,23,36,3,0,9,44,8),Br(0,11,15,-7,0,24,38,3,0,9,46,8)],rle=["duration","easing","delay"],ile={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ole={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function WT(t){return`${Math.round(t)}ms`}function sle(t){if(!t)return 0;const r=t/36;return Math.round((4+15*r**.25+r/5)*10)}function ale(t){const r=He({},ile,t.easing),n=He({},ole,t.duration);return He({getAutoHeightDuration:sle,create:(a=["all"],c={})=>{const{duration:d=n.standard,easing:f=r.easeInOut,delay:p=0}=c;return wn(c,rle),(Array.isArray(a)?a:[a]).map(g=>`${g} ${typeof d=="string"?d:WT(d)} ${f} ${typeof p=="string"?p:WT(p)}`).join(",")}},t,{easing:r,duration:n})}const lle={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},cle=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function vL(t={},...r){const{mixins:n={},palette:o={},transitions:a={},typography:c={}}=t,d=wn(t,cle);if(t.vars&&t.generateCssVars===void 0)throw new Error(Eh(18));const f=Kae(o),p=kC(t);let g=Vs(p,{mixins:Rae(p.breakpoints,n),palette:f,shadows:nle.slice(),typography:Zae(f,c),transitions:ale(a),zIndex:He({},lle)});return g=Vs(g,d),g=r.reduce((k,v)=>Vs(k,v),g),g.unstable_sxConfig=He({},rb,d==null?void 0:d.unstable_sxConfig),g.unstable_sx=function(v){return ib({sx:v,theme:this})},g}const vC=vL();function _L(){const t=wC(vC);return t[V1]||t}var Qd={},Qv={exports:{}},GT;function ule(){return GT||(GT=1,function(t){function r(){return t.exports=r=Object.assign?Object.assign.bind():function(n){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var c in a)({}).hasOwnProperty.call(a,c)&&(n[c]=a[c])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,r.apply(null,arguments)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(Qv)),Qv.exports}var Jv={exports:{}},YT;function dle(){return YT||(YT=1,function(t){function r(n,o){if(n==null)return{};var a={};for(var c in n)if({}.hasOwnProperty.call(n,c)){if(o.indexOf(c)!==-1)continue;a[c]=n[c]}return a}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(Jv)),Jv.exports}const hle=$c(sse),fle=$c(ase),ple=$c(hse),mle=$c(hae),gle=$c(Xse),ble=$c(oae);var KT;function kle(){if(KT)return Qd;KT=1;var t=yL();Object.defineProperty(Qd,"__esModule",{value:!0}),Qd.default=H,Qd.shouldForwardProp=x,Qd.systemDefaultTheme=void 0;var r=t(ule()),n=t(dle()),o=v(hle),a=fle;t(ple),t(mle);var c=t(gle),d=t(ble);const f=["ownerState"],p=["variants"],g=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function k(V){if(typeof WeakMap!="function")return null;var N=new WeakMap,j=new WeakMap;return(k=function(q){return q?j:N})(V)}function v(V,N){if(V&&V.__esModule)return V;if(V===null||typeof V!="object"&&typeof V!="function")return{default:V};var j=k(N);if(j&&j.has(V))return j.get(V);var q={__proto__:null},Q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var $ in V)if($!=="default"&&Object.prototype.hasOwnProperty.call(V,$)){var R=Q?Object.getOwnPropertyDescriptor(V,$):null;R&&(R.get||R.set)?Object.defineProperty(q,$,R):q[$]=V[$]}return q.default=V,j&&j.set(V,q),q}function y(V){return Object.keys(V).length===0}function w(V){return typeof V=="string"&&V.charCodeAt(0)>96}function x(V){return V!=="ownerState"&&V!=="theme"&&V!=="sx"&&V!=="as"}function A(V,N){return N&&V&&typeof V=="object"&&V.styles&&!V.styles.startsWith("@layer")&&(V.styles=`@layer ${N}{${String(V.styles)}}`),V}const D=Qd.systemDefaultTheme=(0,c.default)(),E=V=>V&&V.charAt(0).toLowerCase()+V.slice(1);function M({defaultTheme:V,theme:N,themeId:j}){return y(N)?V:N[j]||N}function P(V){return V?(N,j)=>j[V]:null}function F(V,N,j){let{ownerState:q}=N,Q=(0,n.default)(N,f);const $=typeof V=="function"?V((0,r.default)({ownerState:q},Q)):V;if(Array.isArray($))return $.flatMap(R=>F(R,(0,r.default)({ownerState:q},Q),j));if($&&typeof $=="object"&&Array.isArray($.variants)){const{variants:R=[]}=$;let B=(0,n.default)($,p);return R.forEach(ne=>{let de=!0;if(typeof ne.props=="function"?de=ne.props((0,r.default)({ownerState:q},Q,q)):Object.keys(ne.props).forEach(ae=>{(q==null?void 0:q[ae])!==ne.props[ae]&&Q[ae]!==ne.props[ae]&&(de=!1)}),de){Array.isArray(B)||(B=[B]);const ae=typeof ne.style=="function"?ne.style((0,r.default)({ownerState:q},Q,q)):ne.style;B.push(j?A((0,o.internal_serializeStyles)(ae),j):ae)}}),B}return j?A((0,o.internal_serializeStyles)($),j):$}function H(V={}){const{themeId:N,defaultTheme:j=D,rootShouldForwardProp:q=x,slotShouldForwardProp:Q=x}=V,$=R=>(0,d.default)((0,r.default)({},R,{theme:M((0,r.default)({},R,{defaultTheme:j,themeId:N}))}));return $.__mui_systemSx=!0,(R,Y={})=>{(0,o.internal_processStyles)(R,Te=>Te.filter(Ne=>!(Ne!=null&&Ne.__mui_systemSx)));const{name:B,slot:ne,skipVariantsResolver:de,skipSx:ae,overridesResolver:oe=P(E(ne))}=Y,ye=(0,n.default)(Y,g),re=B&&B.startsWith("Mui")||ne?"components":"custom",xe=de!==void 0?de:ne&&ne!=="Root"&&ne!=="root"||!1,X=ae||!1;let Z,se=x;ne==="Root"||ne==="root"?se=q:ne?se=Q:w(R)&&(se=void 0);const pe=(0,o.default)(R,(0,r.default)({shouldForwardProp:se,label:Z},ye)),we=Te=>typeof Te=="function"&&Te.__emotion_real!==Te||(0,a.isPlainObject)(Te)?Ne=>{const rt=M({theme:Ne.theme,defaultTheme:j,themeId:N});return F(Te,(0,r.default)({},Ne,{theme:rt}),rt.modularCssLayers?re:void 0)}:Te,Pe=(Te,...Ne)=>{let rt=we(Te);const Ke=Ne?Ne.map(we):[];B&&oe&&Ke.push(J=>{const Ce=M((0,r.default)({},J,{defaultTheme:j,themeId:N}));if(!Ce.components||!Ce.components[B]||!Ce.components[B].styleOverrides)return null;const ue=Ce.components[B].styleOverrides,ge={};return Object.entries(ue).forEach(([he,_e])=>{ge[he]=F(_e,(0,r.default)({},J,{theme:Ce}),Ce.modularCssLayers?"theme":void 0)}),oe(J,ge)}),B&&!xe&&Ke.push(J=>{var Ce;const ue=M((0,r.default)({},J,{defaultTheme:j,themeId:N})),ge=ue==null||(Ce=ue.components)==null||(Ce=Ce[B])==null?void 0:Ce.variants;return F({variants:ge},(0,r.default)({},J,{theme:ue}),ue.modularCssLayers?"theme":void 0)}),X||Ke.push($);const Qe=Ke.length-Ne.length;if(Array.isArray(Te)&&Qe>0){const J=new Array(Qe).fill("");rt=[...Te,...J],rt.raw=[...Te.raw,...J]}const ze=pe(rt,...Ke);return R.muiName&&(ze.muiName=R.muiName),ze};return pe.withConfig&&(Pe.withConfig=pe.withConfig),Pe}}return Qd}var wle=kle();const yle=Hc(wle);function AL(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const rl=t=>AL(t)&&t!=="classes",on=yle({themeId:V1,defaultTheme:vC,rootShouldForwardProp:rl}),QT=t=>{let r;return t<1?r=5.11916*t**2:r=4.5*Math.log(t+1)+2,(r/100).toFixed(2)};function Ur(t){return jae(t)}function vle(t){return Nr("MuiSvgIcon",t)}Sr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _le=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Ale=t=>{const{color:r,fontSize:n,classes:o}=t,a={root:["root",r!=="inherit"&&`color${en(r)}`,`fontSize${en(n)}`]};return zr(a,vle,o)},Cle=on("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.color!=="inherit"&&r[`color${en(n.color)}`],r[`fontSize${en(n.fontSize)}`]]}})(({theme:t,ownerState:r})=>{var n,o,a,c,d,f,p,g,k,v,y,w,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:r.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(o=n.create)==null?void 0:o.call(n,"fill",{duration:(a=t.transitions)==null||(a=a.duration)==null?void 0:a.shorter}),fontSize:{inherit:"inherit",small:((c=t.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,20))||"1.25rem",medium:((f=t.typography)==null||(p=f.pxToRem)==null?void 0:p.call(f,24))||"1.5rem",large:((g=t.typography)==null||(k=g.pxToRem)==null?void 0:k.call(g,35))||"2.1875rem"}[r.fontSize],color:(v=(y=(t.vars||t).palette)==null||(y=y[r.color])==null?void 0:y.main)!=null?v:{action:(w=(t.vars||t).palette)==null||(w=w.action)==null?void 0:w.active,disabled:(x=(t.vars||t).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[r.color]}}),nA=K.forwardRef(function(r,n){const o=Ur({props:r,name:"MuiSvgIcon"}),{children:a,className:c,color:d="inherit",component:f="svg",fontSize:p="medium",htmlColor:g,inheritViewBox:k=!1,titleAccess:v,viewBox:y="0 0 24 24"}=o,w=wn(o,_le),x=K.isValidElement(a)&&a.type==="svg",A=He({},o,{color:d,component:f,fontSize:p,instanceFontSize:r.fontSize,inheritViewBox:k,viewBox:y,hasSvgAsChild:x}),D={};k||(D.viewBox=y);const E=Ale(A);return C.jsxs(Cle,He({as:f,className:Zt(E.root,c),focusable:"false",color:g,"aria-hidden":v?void 0:!0,role:v?"img":void 0,ref:n},D,w,x&&a.props,{ownerState:A,children:[x?a.props.children:a,v?C.jsx("title",{children:v}):null]}))});nA.muiName="SvgIcon";function xle(t,r){function n(o,a){return C.jsx(nA,He({"data-testid":`${r}Icon`,ref:a},o,{children:t}))}return n.muiName=nA.muiName,K.memo(K.forwardRef(n))}const CL=t=>t.scrollTop;function s1(t,r){var n,o;const{timeout:a,easing:c,style:d={}}=t;return{duration:(n=d.transitionDuration)!=null?n:typeof a=="number"?a:a[r.mode]||0,easing:(o=d.transitionTimingFunction)!=null?o:typeof c=="object"?c[r.mode]:c,delay:d.transitionDelay}}function Sle(t){return Nr("MuiPaper",t)}Sr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Ele=["className","component","elevation","square","variant"],Dle=t=>{const{square:r,elevation:n,variant:o,classes:a}=t,c={root:["root",o,!r&&"rounded",o==="elevation"&&`elevation${n}`]};return zr(c,Sle,a)},Ile=on("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[n.variant],!n.square&&r.rounded,n.variant==="elevation"&&r[`elevation${n.elevation}`]]}})(({theme:t,ownerState:r})=>{var n;return He({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!r.square&&{borderRadius:t.shape.borderRadius},r.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},r.variant==="elevation"&&He({boxShadow:(t.vars||t).shadows[r.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Fs.alpha("#fff",QT(r.elevation))}, ${Fs.alpha("#fff",QT(r.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[r.elevation]}))}),xL=K.forwardRef(function(r,n){const o=Ur({props:r,name:"MuiPaper"}),{className:a,component:c="div",elevation:d=1,square:f=!1,variant:p="elevation"}=o,g=wn(o,Ele),k=He({},o,{component:c,elevation:d,square:f,variant:p}),v=Dle(k);return C.jsx(Ile,He({as:c,ownerState:k,className:Zt(v.root,a),ref:n},g))});function Tle(t){const{className:r,classes:n,pulsate:o=!1,rippleX:a,rippleY:c,rippleSize:d,in:f,onExited:p,timeout:g}=t,[k,v]=K.useState(!1),y=Zt(r,n.ripple,n.rippleVisible,o&&n.ripplePulsate),w={width:d,height:d,top:-(d/2)+c,left:-(d/2)+a},x=Zt(n.child,k&&n.childLeaving,o&&n.childPulsate);return!f&&!k&&v(!0),K.useEffect(()=>{if(!f&&p!=null){const A=setTimeout(p,g);return()=>{clearTimeout(A)}}},[p,f,g]),C.jsx("span",{className:y,style:w,children:C.jsx("span",{className:x})})}const ya=Sr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Nle=["center","classes","className"];let Z1=t=>t,JT,ZT,XT,eN;const rA=550,Mle=80,Ple=Xl(JT||(JT=Z1`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Ole=Xl(ZT||(ZT=Z1`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Lle=Xl(XT||(XT=Z1`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Ble=on("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),jle=on(Tle,{name:"MuiTouchRipple",slot:"Ripple"})(eN||(eN=Z1`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ya.rippleVisible,Ple,rA,({theme:t})=>t.transitions.easing.easeInOut,ya.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,ya.child,ya.childLeaving,Ole,rA,({theme:t})=>t.transitions.easing.easeInOut,ya.childPulsate,Lle,({theme:t})=>t.transitions.easing.easeInOut),Rle=K.forwardRef(function(r,n){const o=Ur({props:r,name:"MuiTouchRipple"}),{center:a=!1,classes:c={},className:d}=o,f=wn(o,Nle),[p,g]=K.useState([]),k=K.useRef(0),v=K.useRef(null);K.useEffect(()=>{v.current&&(v.current(),v.current=null)},[p]);const y=K.useRef(!1),w=gL(),x=K.useRef(null),A=K.useRef(null),D=K.useCallback(F=>{const{pulsate:H,rippleX:V,rippleY:N,rippleSize:j,cb:q}=F;g(Q=>[...Q,C.jsx(jle,{classes:{ripple:Zt(c.ripple,ya.ripple),rippleVisible:Zt(c.rippleVisible,ya.rippleVisible),ripplePulsate:Zt(c.ripplePulsate,ya.ripplePulsate),child:Zt(c.child,ya.child),childLeaving:Zt(c.childLeaving,ya.childLeaving),childPulsate:Zt(c.childPulsate,ya.childPulsate)},timeout:rA,pulsate:H,rippleX:V,rippleY:N,rippleSize:j},k.current)]),k.current+=1,v.current=q},[c]),E=K.useCallback((F={},H={},V=()=>{})=>{const{pulsate:N=!1,center:j=a||H.pulsate,fakeElement:q=!1}=H;if((F==null?void 0:F.type)==="mousedown"&&y.current){y.current=!1;return}(F==null?void 0:F.type)==="touchstart"&&(y.current=!0);const Q=q?null:A.current,$=Q?Q.getBoundingClientRect():{width:0,height:0,left:0,top:0};let R,Y,B;if(j||F===void 0||F.clientX===0&&F.clientY===0||!F.clientX&&!F.touches)R=Math.round($.width/2),Y=Math.round($.height/2);else{const{clientX:ne,clientY:de}=F.touches&&F.touches.length>0?F.touches[0]:F;R=Math.round(ne-$.left),Y=Math.round(de-$.top)}if(j)B=Math.sqrt((2*$.width**2+$.height**2)/3),B%2===0&&(B+=1);else{const ne=Math.max(Math.abs((Q?Q.clientWidth:0)-R),R)*2+2,de=Math.max(Math.abs((Q?Q.clientHeight:0)-Y),Y)*2+2;B=Math.sqrt(ne**2+de**2)}F!=null&&F.touches?x.current===null&&(x.current=()=>{D({pulsate:N,rippleX:R,rippleY:Y,rippleSize:B,cb:V})},w.start(Mle,()=>{x.current&&(x.current(),x.current=null)})):D({pulsate:N,rippleX:R,rippleY:Y,rippleSize:B,cb:V})},[a,D,w]),M=K.useCallback(()=>{E({},{pulsate:!0})},[E]),P=K.useCallback((F,H)=>{if(w.clear(),(F==null?void 0:F.type)==="touchend"&&x.current){x.current(),x.current=null,w.start(0,()=>{P(F,H)});return}x.current=null,g(V=>V.length>0?V.slice(1):V),v.current=H},[w]);return K.useImperativeHandle(n,()=>({pulsate:M,start:E,stop:P}),[M,E,P]),C.jsx(Ble,He({className:Zt(ya.root,c.root,d),ref:A},f,{children:C.jsx(IW,{component:null,exit:!0,children:p})}))});function Fle(t){return Nr("MuiButtonBase",t)}const zle=Sr("MuiButtonBase",["root","disabled","focusVisible"]),Ule=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],qle=t=>{const{disabled:r,focusVisible:n,focusVisibleClassName:o,classes:a}=t,d=zr({root:["root",r&&"disabled",n&&"focusVisible"]},Fle,a);return n&&o&&(d.root+=` ${o}`),d},Vle=on("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,r)=>r.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${zle.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),SL=K.forwardRef(function(r,n){const o=Ur({props:r,name:"MuiButtonBase"}),{action:a,centerRipple:c=!1,children:d,className:f,component:p="button",disabled:g=!1,disableRipple:k=!1,disableTouchRipple:v=!1,focusRipple:y=!1,LinkComponent:w="a",onBlur:x,onClick:A,onContextMenu:D,onDragLeave:E,onFocus:M,onFocusVisible:P,onKeyDown:F,onKeyUp:H,onMouseDown:V,onMouseLeave:N,onMouseUp:j,onTouchEnd:q,onTouchMove:Q,onTouchStart:$,tabIndex:R=0,TouchRippleProps:Y,touchRippleRef:B,type:ne}=o,de=wn(o,Ule),ae=K.useRef(null),oe=K.useRef(null),ye=ds(oe,B),{isFocusVisibleRef:re,onFocus:xe,onBlur:X,ref:Z}=Iae(),[se,pe]=K.useState(!1);g&&se&&pe(!1),K.useImperativeHandle(a,()=>({focusVisible:()=>{pe(!0),ae.current.focus()}}),[]);const[we,Pe]=K.useState(!1);K.useEffect(()=>{Pe(!0)},[]);const Te=we&&!k&&!g;K.useEffect(()=>{se&&y&&!k&&we&&oe.current.pulsate()},[k,y,se,we]);function Ne(Ye,St,ht=v){return uh(tn=>(St&&St(tn),!ht&&oe.current&&oe.current[Ye](tn),!0))}const rt=Ne("start",V),Ke=Ne("stop",D),Qe=Ne("stop",E),ze=Ne("stop",j),J=Ne("stop",Ye=>{se&&Ye.preventDefault(),N&&N(Ye)}),Ce=Ne("start",$),ue=Ne("stop",q),ge=Ne("stop",Q),he=Ne("stop",Ye=>{X(Ye),re.current===!1&&pe(!1),x&&x(Ye)},!1),_e=uh(Ye=>{ae.current||(ae.current=Ye.currentTarget),xe(Ye),re.current===!0&&(pe(!0),P&&P(Ye)),M&&M(Ye)}),Me=()=>{const Ye=ae.current;return p&&p!=="button"&&!(Ye.tagName==="A"&&Ye.href)},Ie=K.useRef(!1),Ae=uh(Ye=>{y&&!Ie.current&&se&&oe.current&&Ye.key===" "&&(Ie.current=!0,oe.current.stop(Ye,()=>{oe.current.start(Ye)})),Ye.target===Ye.currentTarget&&Me()&&Ye.key===" "&&Ye.preventDefault(),F&&F(Ye),Ye.target===Ye.currentTarget&&Me()&&Ye.key==="Enter"&&!g&&(Ye.preventDefault(),A&&A(Ye))}),Oe=uh(Ye=>{y&&Ye.key===" "&&oe.current&&se&&!Ye.defaultPrevented&&(Ie.current=!1,oe.current.stop(Ye,()=>{oe.current.pulsate(Ye)})),H&&H(Ye),A&&Ye.target===Ye.currentTarget&&Me()&&Ye.key===" "&&!Ye.defaultPrevented&&A(Ye)});let Ge=p;Ge==="button"&&(de.href||de.to)&&(Ge=w);const Xe={};Ge==="button"?(Xe.type=ne===void 0?"button":ne,Xe.disabled=g):(!de.href&&!de.to&&(Xe.role="button"),g&&(Xe["aria-disabled"]=g));const dt=ds(n,Z,ae),Ue=He({},o,{centerRipple:c,component:p,disabled:g,disableRipple:k,disableTouchRipple:v,focusRipple:y,tabIndex:R,focusVisible:se}),We=qle(Ue);return C.jsxs(Vle,He({as:Ge,className:Zt(We.root,f),ownerState:Ue,onBlur:he,onClick:A,onContextMenu:Ke,onFocus:_e,onKeyDown:Ae,onKeyUp:Oe,onMouseDown:rt,onMouseLeave:J,onMouseUp:ze,onDragLeave:Qe,onTouchEnd:ue,onTouchMove:ge,onTouchStart:Ce,ref:dt,tabIndex:g?-1:R,type:ne},Xe,de,{children:[d,Te?C.jsx(Rle,He({ref:ye,center:c},Y)):null]}))});function Hle(t){return Nr("MuiIconButton",t)}const $le=Sr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Wle=["edge","children","className","color","disabled","disableFocusRipple","size"],Gle=t=>{const{classes:r,disabled:n,color:o,edge:a,size:c}=t,d={root:["root",n&&"disabled",o!=="default"&&`color${en(o)}`,a&&`edge${en(a)}`,`size${en(c)}`]};return zr(d,Hle,r)},Yle=on(SL,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.color!=="default"&&r[`color${en(n.color)}`],n.edge&&r[`edge${en(n.edge)}`],r[`size${en(n.size)}`]]}})(({theme:t,ownerState:r})=>He({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!r.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Fs.alpha(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},r.edge==="start"&&{marginLeft:r.size==="small"?-3:-12},r.edge==="end"&&{marginRight:r.size==="small"?-3:-12}),({theme:t,ownerState:r})=>{var n;const o=(n=(t.vars||t).palette)==null?void 0:n[r.color];return He({},r.color==="inherit"&&{color:"inherit"},r.color!=="inherit"&&r.color!=="default"&&He({color:o==null?void 0:o.main},!r.disableRipple&&{"&:hover":He({},o&&{backgroundColor:t.vars?`rgba(${o.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Fs.alpha(o.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),r.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},r.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${$le.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),iA=K.forwardRef(function(r,n){const o=Ur({props:r,name:"MuiIconButton"}),{edge:a=!1,children:c,className:d,color:f="default",disabled:p=!1,disableFocusRipple:g=!1,size:k="medium"}=o,v=wn(o,Wle),y=He({},o,{edge:a,color:f,disabled:p,disableFocusRipple:g,size:k}),w=Gle(y);return C.jsx(Yle,He({className:Zt(w.root,d),centerRipple:!0,focusRipple:!g,disabled:p,ref:n},v,{ownerState:y,children:c}))});function Kle(t){return Nr("MuiTypography",t)}Sr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Qle=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Jle=t=>{const{align:r,gutterBottom:n,noWrap:o,paragraph:a,variant:c,classes:d}=t,f={root:["root",c,t.align!=="inherit"&&`align${en(r)}`,n&&"gutterBottom",o&&"noWrap",a&&"paragraph"]};return zr(f,Kle,d)},Zle=on("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.variant&&r[n.variant],n.align!=="inherit"&&r[`align${en(n.align)}`],n.noWrap&&r.noWrap,n.gutterBottom&&r.gutterBottom,n.paragraph&&r.paragraph]}})(({theme:t,ownerState:r})=>He({margin:0},r.variant==="inherit"&&{font:"inherit"},r.variant!=="inherit"&&t.typography[r.variant],r.align!=="inherit"&&{textAlign:r.align},r.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r.gutterBottom&&{marginBottom:"0.35em"},r.paragraph&&{marginBottom:16})),tN={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Xle={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},ece=t=>Xle[t]||t,yh=K.forwardRef(function(r,n){const o=Ur({props:r,name:"MuiTypography"}),a=ece(o.color),c=yC(He({},o,{color:a})),{align:d="inherit",className:f,component:p,gutterBottom:g=!1,noWrap:k=!1,paragraph:v=!1,variant:y="body1",variantMapping:w=tN}=c,x=wn(c,Qle),A=He({},c,{align:d,color:a,className:f,component:p,gutterBottom:g,noWrap:k,paragraph:v,variant:y,variantMapping:w}),D=p||(v?"p":w[y]||tN[y])||"span",E=Jle(A);return C.jsx(Zle,He({as:D,ref:n,ownerState:A,className:Zt(E.root,f)},x))});function tce(t){return typeof t=="function"?t():t}const nce=K.forwardRef(function(r,n){const{children:o,container:a,disablePortal:c=!1}=r,[d,f]=K.useState(null),p=ds(K.isValidElement(o)?ob(o):null,n);if(Xu(()=>{c||f(tce(a)||document.body)},[a,c]),Xu(()=>{if(d&&!c)return eA(n,d),()=>{eA(n,null)}},[n,d,c]),c){if(K.isValidElement(o)){const g={ref:p};return K.cloneElement(o,g)}return C.jsx(K.Fragment,{children:o})}return C.jsx(K.Fragment,{children:d&&oP.createPortal(o,d)})}),rce=["onChange","maxRows","minRows","style","value"];function Q0(t){return parseInt(t,10)||0}const ice={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function oce(t){for(const r in t)return!1;return!0}function nN(t){return oce(t)||t.outerHeightStyle===0&&!t.overflowing}const sce=K.forwardRef(function(r,n){const{onChange:o,maxRows:a,minRows:c=1,style:d,value:f}=r,p=wn(r,rce),{current:g}=K.useRef(f!=null),k=K.useRef(null),v=ds(n,k),y=K.useRef(null),w=K.useRef(null),x=K.useCallback(()=>{const P=k.current,F=w.current;if(!P||!F)return;const V=Dh(P).getComputedStyle(P);if(V.width==="0px")return{outerHeightStyle:0,overflowing:!1};F.style.width=V.width,F.value=P.value||r.placeholder||"x",F.value.slice(-1)===`
`&&(F.value+=" ");const N=V.boxSizing,j=Q0(V.paddingBottom)+Q0(V.paddingTop),q=Q0(V.borderBottomWidth)+Q0(V.borderTopWidth),Q=F.scrollHeight;F.value="x";const $=F.scrollHeight;let R=Q;c&&(R=Math.max(Number(c)*$,R)),a&&(R=Math.min(Number(a)*$,R)),R=Math.max(R,$);const Y=R+(N==="border-box"?j+q:0),B=Math.abs(R-Q)<=1;return{outerHeightStyle:Y,overflowing:B}},[a,c,r.placeholder]),A=uh(()=>{const P=k.current,F=x();if(!P||!F||nN(F))return!1;const H=F.outerHeightStyle;return y.current!=null&&y.current!==H}),D=K.useCallback(()=>{const P=k.current,F=x();if(!P||!F||nN(F))return;const H=F.outerHeightStyle;y.current!==H&&(y.current=H,P.style.height=`${H}px`),P.style.overflow=F.overflowing?"hidden":""},[x]),E=K.useRef(-1);Xu(()=>{const P=pL(D),F=k==null?void 0:k.current;if(!F)return;const H=Dh(F);H.addEventListener("resize",P);let V;return typeof ResizeObserver<"u"&&(V=new ResizeObserver(()=>{A()&&(V.unobserve(F),cancelAnimationFrame(E.current),D(),E.current=requestAnimationFrame(()=>{V.observe(F)}))}),V.observe(F)),()=>{P.clear(),cancelAnimationFrame(E.current),H.removeEventListener("resize",P),V&&V.disconnect()}},[x,D,A]),Xu(()=>{D()});const M=P=>{g||D(),o&&o(P)};return C.jsxs(K.Fragment,{children:[C.jsx("textarea",He({value:f,onChange:M,ref:v,rows:c,style:d},p)),C.jsx("textarea",{"aria-hidden":!0,className:r.className,readOnly:!0,ref:w,tabIndex:-1,style:He({},ice.shadow,d,{paddingTop:0,paddingBottom:0})})]})});function xp({props:t,states:r,muiFormControl:n}){return r.reduce((o,a)=>(o[a]=t[a],n&&typeof t[a]>"u"&&(o[a]=n[a]),o),{})}const _C=K.createContext(void 0);function Sp(){return K.useContext(_C)}function ace(t){return C.jsx(nae,He({},t,{defaultTheme:vC,themeId:V1}))}function rN(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function a1(t,r=!1){return t&&(rN(t.value)&&t.value!==""||r&&rN(t.defaultValue)&&t.defaultValue!=="")}function lce(t){return t.startAdornment}function cce(t){return Nr("MuiInputBase",t)}const kp=Sr("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),uce=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],X1=(t,r)=>{const{ownerState:n}=t;return[r.root,n.formControl&&r.formControl,n.startAdornment&&r.adornedStart,n.endAdornment&&r.adornedEnd,n.error&&r.error,n.size==="small"&&r.sizeSmall,n.multiline&&r.multiline,n.color&&r[`color${en(n.color)}`],n.fullWidth&&r.fullWidth,n.hiddenLabel&&r.hiddenLabel]},ew=(t,r)=>{const{ownerState:n}=t;return[r.input,n.size==="small"&&r.inputSizeSmall,n.multiline&&r.inputMultiline,n.type==="search"&&r.inputTypeSearch,n.startAdornment&&r.inputAdornedStart,n.endAdornment&&r.inputAdornedEnd,n.hiddenLabel&&r.inputHiddenLabel]},dce=t=>{const{classes:r,color:n,disabled:o,error:a,endAdornment:c,focused:d,formControl:f,fullWidth:p,hiddenLabel:g,multiline:k,readOnly:v,size:y,startAdornment:w,type:x}=t,A={root:["root",`color${en(n)}`,o&&"disabled",a&&"error",p&&"fullWidth",d&&"focused",f&&"formControl",y&&y!=="medium"&&`size${en(y)}`,k&&"multiline",w&&"adornedStart",c&&"adornedEnd",g&&"hiddenLabel",v&&"readOnly"],input:["input",o&&"disabled",x==="search"&&"inputTypeSearch",k&&"inputMultiline",y==="small"&&"inputSizeSmall",g&&"inputHiddenLabel",w&&"inputAdornedStart",c&&"inputAdornedEnd",v&&"readOnly"]};return zr(A,cce,r)},tw=on("div",{name:"MuiInputBase",slot:"Root",overridesResolver:X1})(({theme:t,ownerState:r})=>He({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${kp.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},r.multiline&&He({padding:"4px 0 5px"},r.size==="small"&&{paddingTop:1}),r.fullWidth&&{width:"100%"})),nw=on("input",{name:"MuiInputBase",slot:"Input",overridesResolver:ew})(({theme:t,ownerState:r})=>{const n=t.palette.mode==="light",o=He({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),a={opacity:"0 !important"},c=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return He({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${kp.formControl} &`]:{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":c,"&:focus::-moz-placeholder":c,"&:focus:-ms-input-placeholder":c,"&:focus::-ms-input-placeholder":c},[`&.${kp.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},r.size==="small"&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},r.type==="search"&&{MozAppearance:"textfield"})}),hce=C.jsx(ace,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),AC=K.forwardRef(function(r,n){var o;const a=Ur({props:r,name:"MuiInputBase"}),{"aria-describedby":c,autoComplete:d,autoFocus:f,className:p,components:g={},componentsProps:k={},defaultValue:v,disabled:y,disableInjectingGlobalStyles:w,endAdornment:x,fullWidth:A=!1,id:D,inputComponent:E="input",inputProps:M={},inputRef:P,maxRows:F,minRows:H,multiline:V=!1,name:N,onBlur:j,onChange:q,onClick:Q,onFocus:$,onKeyDown:R,onKeyUp:Y,placeholder:B,readOnly:ne,renderSuffix:de,rows:ae,slotProps:oe={},slots:ye={},startAdornment:re,type:xe="text",value:X}=a,Z=wn(a,uce),se=M.value!=null?M.value:X,{current:pe}=K.useRef(se!=null),we=K.useRef(),Pe=K.useCallback(We=>{},[]),Te=ds(we,P,M.ref,Pe),[Ne,rt]=K.useState(!1),Ke=Sp(),Qe=xp({props:a,muiFormControl:Ke,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Qe.focused=Ke?Ke.focused:Ne,K.useEffect(()=>{!Ke&&y&&Ne&&(rt(!1),j&&j())},[Ke,y,Ne,j]);const ze=Ke&&Ke.onFilled,J=Ke&&Ke.onEmpty,Ce=K.useCallback(We=>{a1(We)?ze&&ze():J&&J()},[ze,J]);Xu(()=>{pe&&Ce({value:se})},[se,Ce,pe]);const ue=We=>{if(Qe.disabled){We.stopPropagation();return}$&&$(We),M.onFocus&&M.onFocus(We),Ke&&Ke.onFocus?Ke.onFocus(We):rt(!0)},ge=We=>{j&&j(We),M.onBlur&&M.onBlur(We),Ke&&Ke.onBlur?Ke.onBlur(We):rt(!1)},he=(We,...Ye)=>{if(!pe){const St=We.target||we.current;if(St==null)throw new Error(Eh(1));Ce({value:St.value})}M.onChange&&M.onChange(We,...Ye),q&&q(We,...Ye)};K.useEffect(()=>{Ce(we.current)},[]);const _e=We=>{we.current&&We.currentTarget===We.target&&we.current.focus(),Q&&Q(We)};let Me=E,Ie=M;V&&Me==="input"&&(ae?Ie=He({type:void 0,minRows:ae,maxRows:ae},Ie):Ie=He({type:void 0,maxRows:F,minRows:H},Ie),Me=sce);const Ae=We=>{Ce(We.animationName==="mui-auto-fill-cancel"?we.current:{value:"x"})};K.useEffect(()=>{Ke&&Ke.setAdornedStart(!!re)},[Ke,re]);const Oe=He({},a,{color:Qe.color||"primary",disabled:Qe.disabled,endAdornment:x,error:Qe.error,focused:Qe.focused,formControl:Ke,fullWidth:A,hiddenLabel:Qe.hiddenLabel,multiline:V,size:Qe.size,startAdornment:re,type:xe}),Ge=dce(Oe),Xe=ye.root||g.Root||tw,dt=oe.root||k.root||{},Ue=ye.input||g.Input||nw;return Ie=He({},Ie,(o=oe.input)!=null?o:k.input),C.jsxs(K.Fragment,{children:[!w&&hce,C.jsxs(Xe,He({},dt,!o1(Xe)&&{ownerState:He({},Oe,dt.ownerState)},{ref:n,onClick:_e},Z,{className:Zt(Ge.root,dt.className,p,ne&&"MuiInputBase-readOnly"),children:[re,C.jsx(_C.Provider,{value:null,children:C.jsx(Ue,He({ownerState:Oe,"aria-invalid":Qe.error,"aria-describedby":c,autoComplete:d,autoFocus:f,defaultValue:v,disabled:Qe.disabled,id:D,onAnimationStart:Ae,name:N,placeholder:B,readOnly:ne,required:Qe.required,rows:ae,value:se,onKeyDown:R,onKeyUp:Y,type:xe},Ie,!o1(Ue)&&{as:Me,ownerState:He({},Oe,Ie.ownerState)},{ref:Te,className:Zt(Ge.input,Ie.className,ne&&"MuiInputBase-readOnly"),onBlur:ge,onChange:he,onFocus:ue}))}),x,de?de(He({},Qe,{startAdornment:re})):null]}))]})});function fce(t){return Nr("MuiInput",t)}const Km=He({},kp,Sr("MuiInput",["root","underline","input"]));function pce(t){return Nr("MuiOutlinedInput",t)}const Mu=He({},kp,Sr("MuiOutlinedInput",["root","notchedOutline","input"]));function mce(t){return Nr("MuiFilledInput",t)}const Jd=He({},kp,Sr("MuiFilledInput",["root","underline","input"])),gce=xle(C.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),bce=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],kce={entering:{opacity:1},entered:{opacity:1}},wce=K.forwardRef(function(r,n){const o=_L(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:c,appear:d=!0,children:f,easing:p,in:g,onEnter:k,onEntered:v,onEntering:y,onExit:w,onExited:x,onExiting:A,style:D,timeout:E=a,TransitionComponent:M=bP}=r,P=wn(r,bce),F=K.useRef(null),H=ds(F,ob(f),n),V=B=>ne=>{if(B){const de=F.current;ne===void 0?B(de):B(de,ne)}},N=V(y),j=V((B,ne)=>{CL(B);const de=s1({style:D,timeout:E,easing:p},{mode:"enter"});B.style.webkitTransition=o.transitions.create("opacity",de),B.style.transition=o.transitions.create("opacity",de),k&&k(B,ne)}),q=V(v),Q=V(A),$=V(B=>{const ne=s1({style:D,timeout:E,easing:p},{mode:"exit"});B.style.webkitTransition=o.transitions.create("opacity",ne),B.style.transition=o.transitions.create("opacity",ne),w&&w(B)}),R=V(x),Y=B=>{c&&c(F.current,B)};return C.jsx(M,He({appear:d,in:g,nodeRef:F,onEnter:j,onEntered:q,onEntering:N,onExit:$,onExited:R,onExiting:Q,addEndListener:Y,timeout:E},P,{children:(B,ne)=>K.cloneElement(f,He({style:He({opacity:0,visibility:B==="exited"&&!g?"hidden":void 0},kce[B],D,f.props.style),ref:H},ne))}))});function yce(t){return Nr("MuiBackdrop",t)}Sr("MuiBackdrop",["root","invisible"]);const vce=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],_ce=t=>{const{classes:r,invisible:n}=t;return zr({root:["root",n&&"invisible"]},yce,r)},Ace=on("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.invisible&&r.invisible]}})(({ownerState:t})=>He({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),Cce=K.forwardRef(function(r,n){var o,a,c;const d=Ur({props:r,name:"MuiBackdrop"}),{children:f,className:p,component:g="div",components:k={},componentsProps:v={},invisible:y=!1,open:w,slotProps:x={},slots:A={},TransitionComponent:D=wce,transitionDuration:E}=d,M=wn(d,vce),P=He({},d,{component:g,invisible:y}),F=_ce(P),H=(o=x.root)!=null?o:v.root;return C.jsx(D,He({in:w,timeout:E},M,{children:C.jsx(Ace,He({"aria-hidden":!0},H,{as:(a=(c=A.root)!=null?c:k.Root)!=null?a:g,className:Zt(F.root,p,H==null?void 0:H.className),ownerState:He({},P,H==null?void 0:H.ownerState),classes:F,ref:n,children:f}))}))}),xce=Sr("MuiBox",["root"]),Sce=vL(),Ja=lae({themeId:V1,defaultTheme:Sce,defaultClassName:xce.root,generateClassName:uL.generate});function Ece(t){return Nr("MuiButton",t)}const J0=Sr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Dce=K.createContext({}),Ice=K.createContext(void 0),Tce=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Nce=t=>{const{color:r,disableElevation:n,fullWidth:o,size:a,variant:c,classes:d}=t,f={root:["root",c,`${c}${en(r)}`,`size${en(a)}`,`${c}Size${en(a)}`,`color${en(r)}`,n&&"disableElevation",o&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${en(a)}`],endIcon:["icon","endIcon",`iconSize${en(a)}`]},p=zr(f,Ece,d);return He({},d,p)},EL=t=>He({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Mce=on(SL,{shouldForwardProp:t=>rl(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[n.variant],r[`${n.variant}${en(n.color)}`],r[`size${en(n.size)}`],r[`${n.variant}Size${en(n.size)}`],n.color==="inherit"&&r.colorInherit,n.disableElevation&&r.disableElevation,n.fullWidth&&r.fullWidth]}})(({theme:t,ownerState:r})=>{var n,o;const a=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],c=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return He({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":He({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Fs.alpha(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},r.variant==="text"&&r.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[r.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Fs.alpha(t.palette[r.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},r.variant==="outlined"&&r.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[r.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[r.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Fs.alpha(t.palette[r.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},r.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:c,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},r.variant==="contained"&&r.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[r.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[r.color].main}}),"&:active":He({},r.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${J0.focusVisible}`]:He({},r.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${J0.disabled}`]:He({color:(t.vars||t).palette.action.disabled},r.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},r.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},r.variant==="text"&&{padding:"6px 8px"},r.variant==="text"&&r.color!=="inherit"&&{color:(t.vars||t).palette[r.color].main},r.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},r.variant==="outlined"&&r.color!=="inherit"&&{color:(t.vars||t).palette[r.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[r.color].mainChannel} / 0.5)`:`1px solid ${Fs.alpha(t.palette[r.color].main,.5)}`},r.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(o=t.palette).getContrastText)==null?void 0:n.call(o,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:a,boxShadow:(t.vars||t).shadows[2]},r.variant==="contained"&&r.color!=="inherit"&&{color:(t.vars||t).palette[r.color].contrastText,backgroundColor:(t.vars||t).palette[r.color].main},r.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},r.size==="small"&&r.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},r.size==="large"&&r.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},r.size==="small"&&r.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},r.size==="large"&&r.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},r.size==="small"&&r.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},r.size==="large"&&r.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},r.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${J0.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${J0.disabled}`]:{boxShadow:"none"}}),Pce=on("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.startIcon,r[`iconSize${en(n.size)}`]]}})(({ownerState:t})=>He({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},EL(t))),Oce=on("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.endIcon,r[`iconSize${en(n.size)}`]]}})(({ownerState:t})=>He({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},EL(t))),mg=K.forwardRef(function(r,n){const o=K.useContext(Dce),a=K.useContext(Ice),c=Lg(o,r),d=Ur({props:c,name:"MuiButton"}),{children:f,color:p="primary",component:g="button",className:k,disabled:v=!1,disableElevation:y=!1,disableFocusRipple:w=!1,endIcon:x,focusVisibleClassName:A,fullWidth:D=!1,size:E="medium",startIcon:M,type:P,variant:F="text"}=d,H=wn(d,Tce),V=He({},d,{color:p,component:g,disabled:v,disableElevation:y,disableFocusRipple:w,fullWidth:D,size:E,type:P,variant:F}),N=Nce(V),j=M&&C.jsx(Pce,{className:N.startIcon,ownerState:V,children:M}),q=x&&C.jsx(Oce,{className:N.endIcon,ownerState:V,children:x}),Q=a||"";return C.jsxs(Mce,He({ownerState:V,className:Zt(o.className,N.root,k,Q),component:g,disabled:v,focusRipple:!w,focusVisibleClassName:Zt(N.focusVisible,A),ref:n,type:P},H,{classes:N,children:[j,f,q]}))});function Lce(t){return Nr("MuiCircularProgress",t)}Sr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Bce=["className","color","disableShrink","size","style","thickness","value","variant"];let rw=t=>t,iN,oN,sN,aN;const Pu=44,jce=Xl(iN||(iN=rw`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Rce=Xl(oN||(oN=rw`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Fce=t=>{const{classes:r,variant:n,color:o,disableShrink:a}=t,c={root:["root",n,`color${en(o)}`],svg:["svg"],circle:["circle",`circle${en(n)}`,a&&"circleDisableShrink"]};return zr(c,Lce,r)},zce=on("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[n.variant],r[`color${en(n.color)}`]]}})(({ownerState:t,theme:r})=>He({display:"inline-block"},t.variant==="determinate"&&{transition:r.transitions.create("transform")},t.color!=="inherit"&&{color:(r.vars||r).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&Th(sN||(sN=rw`
      animation: ${0} 1.4s linear infinite;
    `),jce)),Uce=on("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,r)=>r.svg})({display:"block"}),qce=on("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.circle,r[`circle${en(n.variant)}`],n.disableShrink&&r.circleDisableShrink]}})(({ownerState:t,theme:r})=>He({stroke:"currentColor"},t.variant==="determinate"&&{transition:r.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&Th(aN||(aN=rw`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Rce)),Vce=K.forwardRef(function(r,n){const o=Ur({props:r,name:"MuiCircularProgress"}),{className:a,color:c="primary",disableShrink:d=!1,size:f=40,style:p,thickness:g=3.6,value:k=0,variant:v="indeterminate"}=o,y=wn(o,Bce),w=He({},o,{color:c,disableShrink:d,size:f,thickness:g,value:k,variant:v}),x=Fce(w),A={},D={},E={};if(v==="determinate"){const M=2*Math.PI*((Pu-g)/2);A.strokeDasharray=M.toFixed(3),E["aria-valuenow"]=Math.round(k),A.strokeDashoffset=`${((100-k)/100*M).toFixed(3)}px`,D.transform="rotate(-90deg)"}return C.jsx(zce,He({className:Zt(x.root,a),style:He({width:f,height:f},D,p),ownerState:w,ref:n,role:"progressbar"},E,y,{children:C.jsx(Uce,{className:x.svg,ownerState:w,viewBox:`${Pu/2} ${Pu/2} ${Pu} ${Pu}`,children:C.jsx(qce,{className:x.circle,style:A,ownerState:w,cx:Pu,cy:Pu,r:(Pu-g)/2,fill:"none",strokeWidth:g})})}))});function Hce(t){const r=Hs(t);return r.body===t?Dh(t).innerWidth>r.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function gg(t,r){r?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function lN(t){return parseInt(Dh(t).getComputedStyle(t).paddingRight,10)||0}function $ce(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,o=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||o}function cN(t,r,n,o,a){const c=[r,n,...o];[].forEach.call(t.children,d=>{const f=c.indexOf(d)===-1,p=!$ce(d);f&&p&&gg(d,a)})}function Zv(t,r){let n=-1;return t.some((o,a)=>r(o)?(n=a,!0):!1),n}function Wce(t,r){const n=[],o=t.container;if(!r.disableScrollLock){if(Hce(o)){const d=bL(Hs(o));n.push({value:o.style.paddingRight,property:"padding-right",el:o}),o.style.paddingRight=`${lN(o)+d}px`;const f=Hs(o).querySelectorAll(".mui-fixed");[].forEach.call(f,p=>{n.push({value:p.style.paddingRight,property:"padding-right",el:p}),p.style.paddingRight=`${lN(p)+d}px`})}let c;if(o.parentNode instanceof DocumentFragment)c=Hs(o).body;else{const d=o.parentElement,f=Dh(o);c=(d==null?void 0:d.nodeName)==="HTML"&&f.getComputedStyle(d).overflowY==="scroll"?d:o}n.push({value:c.style.overflow,property:"overflow",el:c},{value:c.style.overflowX,property:"overflow-x",el:c},{value:c.style.overflowY,property:"overflow-y",el:c}),c.style.overflow="hidden"}return()=>{n.forEach(({value:c,el:d,property:f})=>{c?d.style.setProperty(f,c):d.style.removeProperty(f)})}}function Gce(t){const r=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&r.push(n)}),r}class Yce{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(r,n){let o=this.modals.indexOf(r);if(o!==-1)return o;o=this.modals.length,this.modals.push(r),r.modalRef&&gg(r.modalRef,!1);const a=Gce(n);cN(n,r.mount,r.modalRef,a,!0);const c=Zv(this.containers,d=>d.container===n);return c!==-1?(this.containers[c].modals.push(r),o):(this.containers.push({modals:[r],container:n,restore:null,hiddenSiblings:a}),o)}mount(r,n){const o=Zv(this.containers,c=>c.modals.indexOf(r)!==-1),a=this.containers[o];a.restore||(a.restore=Wce(a,n))}remove(r,n=!0){const o=this.modals.indexOf(r);if(o===-1)return o;const a=Zv(this.containers,d=>d.modals.indexOf(r)!==-1),c=this.containers[a];if(c.modals.splice(c.modals.indexOf(r),1),this.modals.splice(o,1),c.modals.length===0)c.restore&&c.restore(),r.modalRef&&gg(r.modalRef,n),cN(c.container,r.mount,r.modalRef,c.hiddenSiblings,!1),this.containers.splice(a,1);else{const d=c.modals[c.modals.length-1];d.modalRef&&gg(d.modalRef,!1)}return o}isTopModal(r){return this.modals.length>0&&this.modals[this.modals.length-1]===r}}const Kce=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Qce(t){const r=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(r)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:r}function Jce(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const r=o=>t.ownerDocument.querySelector(`input[type="radio"]${o}`);let n=r(`[name="${t.name}"]:checked`);return n||(n=r(`[name="${t.name}"]`)),n!==t}function Zce(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Jce(t))}function Xce(t){const r=[],n=[];return Array.from(t.querySelectorAll(Kce)).forEach((o,a)=>{const c=Qce(o);c===-1||!Zce(o)||(c===0?r.push(o):n.push({documentOrder:a,tabIndex:c,node:o}))}),n.sort((o,a)=>o.tabIndex===a.tabIndex?o.documentOrder-a.documentOrder:o.tabIndex-a.tabIndex).map(o=>o.node).concat(r)}function eue(){return!0}function tue(t){const{children:r,disableAutoFocus:n=!1,disableEnforceFocus:o=!1,disableRestoreFocus:a=!1,getTabbable:c=Xce,isEnabled:d=eue,open:f}=t,p=K.useRef(!1),g=K.useRef(null),k=K.useRef(null),v=K.useRef(null),y=K.useRef(null),w=K.useRef(!1),x=K.useRef(null),A=ds(ob(r),x),D=K.useRef(null);K.useEffect(()=>{!f||!x.current||(w.current=!n)},[n,f]),K.useEffect(()=>{if(!f||!x.current)return;const P=Hs(x.current);return x.current.contains(P.activeElement)||(x.current.hasAttribute("tabIndex")||x.current.setAttribute("tabIndex","-1"),w.current&&x.current.focus()),()=>{a||(v.current&&v.current.focus&&(p.current=!0,v.current.focus()),v.current=null)}},[f]),K.useEffect(()=>{if(!f||!x.current)return;const P=Hs(x.current),F=N=>{D.current=N,!(o||!d()||N.key!=="Tab")&&P.activeElement===x.current&&N.shiftKey&&(p.current=!0,k.current&&k.current.focus())},H=()=>{const N=x.current;if(N===null)return;if(!P.hasFocus()||!d()||p.current){p.current=!1;return}if(N.contains(P.activeElement)||o&&P.activeElement!==g.current&&P.activeElement!==k.current)return;if(P.activeElement!==y.current)y.current=null;else if(y.current!==null)return;if(!w.current)return;let j=[];if((P.activeElement===g.current||P.activeElement===k.current)&&(j=c(x.current)),j.length>0){var q,Q;const $=!!((q=D.current)!=null&&q.shiftKey&&((Q=D.current)==null?void 0:Q.key)==="Tab"),R=j[0],Y=j[j.length-1];typeof R!="string"&&typeof Y!="string"&&($?Y.focus():R.focus())}else N.focus()};P.addEventListener("focusin",H),P.addEventListener("keydown",F,!0);const V=setInterval(()=>{P.activeElement&&P.activeElement.tagName==="BODY"&&H()},50);return()=>{clearInterval(V),P.removeEventListener("focusin",H),P.removeEventListener("keydown",F,!0)}},[n,o,a,d,f,c]);const E=P=>{v.current===null&&(v.current=P.relatedTarget),w.current=!0,y.current=P.target;const F=r.props.onFocus;F&&F(P)},M=P=>{v.current===null&&(v.current=P.relatedTarget),w.current=!0};return C.jsxs(K.Fragment,{children:[C.jsx("div",{tabIndex:f?0:-1,onFocus:M,ref:g,"data-testid":"sentinelStart"}),K.cloneElement(r,{ref:A,onFocus:E}),C.jsx("div",{tabIndex:f?0:-1,onFocus:M,ref:k,"data-testid":"sentinelEnd"})]})}function nue(t){return typeof t=="function"?t():t}function rue(t){return t?t.props.hasOwnProperty("in"):!1}const iue=new Yce;function oue(t){const{container:r,disableEscapeKeyDown:n=!1,disableScrollLock:o=!1,manager:a=iue,closeAfterTransition:c=!1,onTransitionEnter:d,onTransitionExited:f,children:p,onClose:g,open:k,rootRef:v}=t,y=K.useRef({}),w=K.useRef(null),x=K.useRef(null),A=ds(x,v),[D,E]=K.useState(!k),M=rue(p);let P=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(P=!1);const F=()=>Hs(w.current),H=()=>(y.current.modalRef=x.current,y.current.mount=w.current,y.current),V=()=>{a.mount(H(),{disableScrollLock:o}),x.current&&(x.current.scrollTop=0)},N=uh(()=>{const de=nue(r)||F().body;a.add(H(),de),x.current&&V()}),j=K.useCallback(()=>a.isTopModal(H()),[a]),q=uh(de=>{w.current=de,de&&(k&&j()?V():x.current&&gg(x.current,P))}),Q=K.useCallback(()=>{a.remove(H(),P)},[P,a]);K.useEffect(()=>()=>{Q()},[Q]),K.useEffect(()=>{k?N():(!M||!c)&&Q()},[k,Q,M,c,N]);const $=de=>ae=>{var oe;(oe=de.onKeyDown)==null||oe.call(de,ae),!(ae.key!=="Escape"||ae.which===229||!j())&&(n||(ae.stopPropagation(),g&&g(ae,"escapeKeyDown")))},R=de=>ae=>{var oe;(oe=de.onClick)==null||oe.call(de,ae),ae.target===ae.currentTarget&&g&&g(ae,"backdropClick")};return{getRootProps:(de={})=>{const ae=kL(t);delete ae.onTransitionEnter,delete ae.onTransitionExited;const oe=He({},ae,de);return He({role:"presentation"},oe,{onKeyDown:$(oe),ref:A})},getBackdropProps:(de={})=>{const ae=de;return He({"aria-hidden":!0},ae,{onClick:R(ae),open:k})},getTransitionProps:()=>{const de=()=>{E(!1),d&&d()},ae=()=>{E(!0),f&&f(),c&&Q()};return{onEnter:OT(de,p==null?void 0:p.props.onEnter),onExited:OT(ae,p==null?void 0:p.props.onExited)}},rootRef:A,portalRef:q,isTopModal:j,exited:D,hasTransition:M}}function sue(t){return Nr("MuiModal",t)}Sr("MuiModal",["root","hidden","backdrop"]);const aue=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],lue=t=>{const{open:r,exited:n,classes:o}=t;return zr({root:["root",!r&&n&&"hidden"],backdrop:["backdrop"]},sue,o)},cue=on("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,!n.open&&n.exited&&r.hidden]}})(({theme:t,ownerState:r})=>He({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!r.open&&r.exited&&{visibility:"hidden"})),uue=on(Cce,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,r)=>r.backdrop})({zIndex:-1}),DL=K.forwardRef(function(r,n){var o,a,c,d,f,p;const g=Ur({name:"MuiModal",props:r}),{BackdropComponent:k=uue,BackdropProps:v,className:y,closeAfterTransition:w=!1,children:x,container:A,component:D,components:E={},componentsProps:M={},disableAutoFocus:P=!1,disableEnforceFocus:F=!1,disableEscapeKeyDown:H=!1,disablePortal:V=!1,disableRestoreFocus:N=!1,disableScrollLock:j=!1,hideBackdrop:q=!1,keepMounted:Q=!1,onBackdropClick:$,open:R,slotProps:Y,slots:B}=g,ne=wn(g,aue),de=He({},g,{closeAfterTransition:w,disableAutoFocus:P,disableEnforceFocus:F,disableEscapeKeyDown:H,disablePortal:V,disableRestoreFocus:N,disableScrollLock:j,hideBackdrop:q,keepMounted:Q}),{getRootProps:ae,getBackdropProps:oe,getTransitionProps:ye,portalRef:re,isTopModal:xe,exited:X,hasTransition:Z}=oue(He({},de,{rootRef:n})),se=He({},de,{exited:X}),pe=lue(se),we={};if(x.props.tabIndex===void 0&&(we.tabIndex="-1"),Z){const{onEnter:ze,onExited:J}=ye();we.onEnter=ze,we.onExited=J}const Pe=(o=(a=B==null?void 0:B.root)!=null?a:E.Root)!=null?o:cue,Te=(c=(d=B==null?void 0:B.backdrop)!=null?d:E.Backdrop)!=null?c:k,Ne=(f=Y==null?void 0:Y.root)!=null?f:M.root,rt=(p=Y==null?void 0:Y.backdrop)!=null?p:M.backdrop,Ke=bp({elementType:Pe,externalSlotProps:Ne,externalForwardedProps:ne,getSlotProps:ae,additionalProps:{ref:n,as:D},ownerState:se,className:Zt(y,Ne==null?void 0:Ne.className,pe==null?void 0:pe.root,!se.open&&se.exited&&(pe==null?void 0:pe.hidden))}),Qe=bp({elementType:Te,externalSlotProps:rt,additionalProps:v,getSlotProps:ze=>oe(He({},ze,{onClick:J=>{$&&$(J),ze!=null&&ze.onClick&&ze.onClick(J)}})),className:Zt(rt==null?void 0:rt.className,v==null?void 0:v.className,pe==null?void 0:pe.backdrop),ownerState:se});return!Q&&!R&&(!Z||X)?null:C.jsx(nce,{ref:re,container:A,disablePortal:V,children:C.jsxs(Pe,He({},Ke,{children:[!q&&k?C.jsx(Te,He({},Qe)):null,C.jsx(tue,{disableEnforceFocus:F,disableAutoFocus:P,disableRestoreFocus:N,isEnabled:xe,open:R,children:K.cloneElement(x,we)})]}))})}),due=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],hue=t=>{const{classes:r,disableUnderline:n}=t,a=zr({root:["root",!n&&"underline"],input:["input"]},mce,r);return He({},r,a)},fue=on(tw,{shouldForwardProp:t=>rl(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[...X1(t,r),!n.disableUnderline&&r.underline]}})(({theme:t,ownerState:r})=>{var n;const o=t.palette.mode==="light",a=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",c=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",d=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",f=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return He({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:c,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:d,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:c}},[`&.${Jd.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:c},[`&.${Jd.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:f}},!r.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[r.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Jd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Jd.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Jd.disabled}, .${Jd.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Jd.disabled}:before`]:{borderBottomStyle:"dotted"}},r.startAdornment&&{paddingLeft:12},r.endAdornment&&{paddingRight:12},r.multiline&&He({padding:"25px 12px 8px"},r.size==="small"&&{paddingTop:21,paddingBottom:4},r.hiddenLabel&&{paddingTop:16,paddingBottom:17},r.hiddenLabel&&r.size==="small"&&{paddingTop:8,paddingBottom:9}))}),pue=on(nw,{name:"MuiFilledInput",slot:"Input",overridesResolver:ew})(({theme:t,ownerState:r})=>He({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},r.size==="small"&&{paddingTop:21,paddingBottom:4},r.hiddenLabel&&{paddingTop:16,paddingBottom:17},r.startAdornment&&{paddingLeft:0},r.endAdornment&&{paddingRight:0},r.hiddenLabel&&r.size==="small"&&{paddingTop:8,paddingBottom:9},r.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),CC=K.forwardRef(function(r,n){var o,a,c,d;const f=Ur({props:r,name:"MuiFilledInput"}),{components:p={},componentsProps:g,fullWidth:k=!1,inputComponent:v="input",multiline:y=!1,slotProps:w,slots:x={},type:A="text"}=f,D=wn(f,due),E=He({},f,{fullWidth:k,inputComponent:v,multiline:y,type:A}),M=hue(f),P={root:{ownerState:E},input:{ownerState:E}},F=w??g?Vs(P,w??g):P,H=(o=(a=x.root)!=null?a:p.Root)!=null?o:fue,V=(c=(d=x.input)!=null?d:p.Input)!=null?c:pue;return C.jsx(AC,He({slots:{root:H,input:V},componentsProps:F,fullWidth:k,inputComponent:v,multiline:y,ref:n,type:A},D,{classes:M}))});CC.muiName="Input";function mue(t){return Nr("MuiFormControl",t)}Sr("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const gue=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],bue=t=>{const{classes:r,margin:n,fullWidth:o}=t,a={root:["root",n!=="none"&&`margin${en(n)}`,o&&"fullWidth"]};return zr(a,mue,r)},kue=on("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},r)=>He({},r.root,r[`margin${en(t.margin)}`],t.fullWidth&&r.fullWidth)})(({ownerState:t})=>He({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),wue=K.forwardRef(function(r,n){const o=Ur({props:r,name:"MuiFormControl"}),{children:a,className:c,color:d="primary",component:f="div",disabled:p=!1,error:g=!1,focused:k,fullWidth:v=!1,hiddenLabel:y=!1,margin:w="none",required:x=!1,size:A="medium",variant:D="outlined"}=o,E=wn(o,gue),M=He({},o,{color:d,component:f,disabled:p,error:g,fullWidth:v,hiddenLabel:y,margin:w,required:x,size:A,variant:D}),P=bue(M),[F,H]=K.useState(()=>{let Y=!1;return a&&K.Children.forEach(a,B=>{if(!Wv(B,["Input","Select"]))return;const ne=Wv(B,["Select"])?B.props.input:B;ne&&lce(ne.props)&&(Y=!0)}),Y}),[V,N]=K.useState(()=>{let Y=!1;return a&&K.Children.forEach(a,B=>{Wv(B,["Input","Select"])&&(a1(B.props,!0)||a1(B.props.inputProps,!0))&&(Y=!0)}),Y}),[j,q]=K.useState(!1);p&&j&&q(!1);const Q=k!==void 0&&!p?k:j;let $;const R=K.useMemo(()=>({adornedStart:F,setAdornedStart:H,color:d,disabled:p,error:g,filled:V,focused:Q,fullWidth:v,hiddenLabel:y,size:A,onBlur:()=>{q(!1)},onEmpty:()=>{N(!1)},onFilled:()=>{N(!0)},onFocus:()=>{q(!0)},registerEffect:$,required:x,variant:D}),[F,d,p,g,V,Q,v,y,$,x,A,D]);return C.jsx(_C.Provider,{value:R,children:C.jsx(kue,He({as:f,ownerState:M,className:Zt(P.root,c),ref:n},E,{children:a}))})});function yue(t){return Nr("MuiFormHelperText",t)}const uN=Sr("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var dN;const vue=["children","className","component","disabled","error","filled","focused","margin","required","variant"],_ue=t=>{const{classes:r,contained:n,size:o,disabled:a,error:c,filled:d,focused:f,required:p}=t,g={root:["root",a&&"disabled",c&&"error",o&&`size${en(o)}`,n&&"contained",f&&"focused",d&&"filled",p&&"required"]};return zr(g,yue,r)},Aue=on("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.size&&r[`size${en(n.size)}`],n.contained&&r.contained,n.filled&&r.filled]}})(({theme:t,ownerState:r})=>He({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${uN.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${uN.error}`]:{color:(t.vars||t).palette.error.main}},r.size==="small"&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})),Cue=K.forwardRef(function(r,n){const o=Ur({props:r,name:"MuiFormHelperText"}),{children:a,className:c,component:d="p"}=o,f=wn(o,vue),p=Sp(),g=xp({props:o,muiFormControl:p,states:["variant","size","disabled","error","filled","focused","required"]}),k=He({},o,{component:d,contained:g.variant==="filled"||g.variant==="outlined",variant:g.variant,size:g.size,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required}),v=_ue(k);return C.jsx(Aue,He({as:d,ownerState:k,className:Zt(v.root,c),ref:n},f,{children:a===" "?dN||(dN=C.jsx("span",{className:"notranslate",children:"​"})):a}))});function xue(t){return Nr("MuiFormLabel",t)}const bg=Sr("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Sue=["children","className","color","component","disabled","error","filled","focused","required"],Eue=t=>{const{classes:r,color:n,focused:o,disabled:a,error:c,filled:d,required:f}=t,p={root:["root",`color${en(n)}`,a&&"disabled",c&&"error",d&&"filled",o&&"focused",f&&"required"],asterisk:["asterisk",c&&"error"]};return zr(p,xue,r)},Due=on("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},r)=>He({},r.root,t.color==="secondary"&&r.colorSecondary,t.filled&&r.filled)})(({theme:t,ownerState:r})=>He({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${bg.focused}`]:{color:(t.vars||t).palette[r.color].main},[`&.${bg.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${bg.error}`]:{color:(t.vars||t).palette.error.main}})),Iue=on("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,r)=>r.asterisk})(({theme:t})=>({[`&.${bg.error}`]:{color:(t.vars||t).palette.error.main}})),Tue=K.forwardRef(function(r,n){const o=Ur({props:r,name:"MuiFormLabel"}),{children:a,className:c,component:d="label"}=o,f=wn(o,Sue),p=Sp(),g=xp({props:o,muiFormControl:p,states:["color","required","focused","disabled","error","filled"]}),k=He({},o,{color:g.color||"primary",component:d,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required}),v=Eue(k);return C.jsxs(Due,He({as:d,ownerState:k,className:Zt(v.root,c),ref:n},f,{children:[a,g.required&&C.jsxs(Iue,{ownerState:k,"aria-hidden":!0,className:v.asterisk,children:[" ","*"]})]}))}),Nue=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function oA(t){return`scale(${t}, ${t**2})`}const Mue={entering:{opacity:1,transform:oA(1)},entered:{opacity:1,transform:"none"}},Xv=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),IL=K.forwardRef(function(r,n){const{addEndListener:o,appear:a=!0,children:c,easing:d,in:f,onEnter:p,onEntered:g,onEntering:k,onExit:v,onExited:y,onExiting:w,style:x,timeout:A="auto",TransitionComponent:D=bP}=r,E=wn(r,Nue),M=gL(),P=K.useRef(),F=_L(),H=K.useRef(null),V=ds(H,ob(c),n),N=ne=>de=>{if(ne){const ae=H.current;de===void 0?ne(ae):ne(ae,de)}},j=N(k),q=N((ne,de)=>{CL(ne);const{duration:ae,delay:oe,easing:ye}=s1({style:x,timeout:A,easing:d},{mode:"enter"});let re;A==="auto"?(re=F.transitions.getAutoHeightDuration(ne.clientHeight),P.current=re):re=ae,ne.style.transition=[F.transitions.create("opacity",{duration:re,delay:oe}),F.transitions.create("transform",{duration:Xv?re:re*.666,delay:oe,easing:ye})].join(","),p&&p(ne,de)}),Q=N(g),$=N(w),R=N(ne=>{const{duration:de,delay:ae,easing:oe}=s1({style:x,timeout:A,easing:d},{mode:"exit"});let ye;A==="auto"?(ye=F.transitions.getAutoHeightDuration(ne.clientHeight),P.current=ye):ye=de,ne.style.transition=[F.transitions.create("opacity",{duration:ye,delay:ae}),F.transitions.create("transform",{duration:Xv?ye:ye*.666,delay:Xv?ae:ae||ye*.333,easing:oe})].join(","),ne.style.opacity=0,ne.style.transform=oA(.75),v&&v(ne)}),Y=N(y),B=ne=>{A==="auto"&&M.start(P.current||0,ne),o&&o(H.current,ne)};return C.jsx(D,He({appear:a,in:f,nodeRef:H,onEnter:q,onEntered:Q,onEntering:j,onExit:R,onExited:Y,onExiting:$,addEndListener:B,timeout:A==="auto"?null:A},E,{children:(ne,de)=>K.cloneElement(c,He({style:He({opacity:0,transform:oA(.75),visibility:ne==="exited"&&!f?"hidden":void 0},Mue[ne],x,c.props.style),ref:V},de))}))});IL.muiSupportAuto=!0;const Pue=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Oue=t=>{const{classes:r,disableUnderline:n}=t,a=zr({root:["root",!n&&"underline"],input:["input"]},fce,r);return He({},r,a)},Lue=on(tw,{shouldForwardProp:t=>rl(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[...X1(t,r),!n.disableUnderline&&r.underline]}})(({theme:t,ownerState:r})=>{let o=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(o=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),He({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Km.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Km.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Km.disabled}, .${Km.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${o}`}},[`&.${Km.disabled}:before`]:{borderBottomStyle:"dotted"}})}),Bue=on(nw,{name:"MuiInput",slot:"Input",overridesResolver:ew})({}),xC=K.forwardRef(function(r,n){var o,a,c,d;const f=Ur({props:r,name:"MuiInput"}),{disableUnderline:p,components:g={},componentsProps:k,fullWidth:v=!1,inputComponent:y="input",multiline:w=!1,slotProps:x,slots:A={},type:D="text"}=f,E=wn(f,Pue),M=Oue(f),F={root:{ownerState:{disableUnderline:p}}},H=x??k?Vs(x??k,F):F,V=(o=(a=A.root)!=null?a:g.Root)!=null?o:Lue,N=(c=(d=A.input)!=null?d:g.Input)!=null?c:Bue;return C.jsx(AC,He({slots:{root:V,input:N},slotProps:H,fullWidth:v,inputComponent:y,multiline:w,ref:n,type:D},E,{classes:M}))});xC.muiName="Input";function jue(t){return Nr("MuiInputLabel",t)}Sr("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Rue=["disableAnimation","margin","shrink","variant","className"],Fue=t=>{const{classes:r,formControl:n,size:o,shrink:a,disableAnimation:c,variant:d,required:f}=t,p={root:["root",n&&"formControl",!c&&"animated",a&&"shrink",o&&o!=="normal"&&`size${en(o)}`,d],asterisk:[f&&"asterisk"]},g=zr(p,jue,r);return He({},r,g)},zue=on(Tue,{shouldForwardProp:t=>rl(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[{[`& .${bg.asterisk}`]:r.asterisk},r.root,n.formControl&&r.formControl,n.size==="small"&&r.sizeSmall,n.shrink&&r.shrink,!n.disableAnimation&&r.animated,n.focused&&r.focused,r[n.variant]]}})(({theme:t,ownerState:r})=>He({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},r.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},r.size==="small"&&{transform:"translate(0, 17px) scale(1)"},r.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!r.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},r.variant==="filled"&&He({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},r.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},r.shrink&&He({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},r.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),r.variant==="outlined"&&He({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},r.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},r.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Uue=K.forwardRef(function(r,n){const o=Ur({name:"MuiInputLabel",props:r}),{disableAnimation:a=!1,shrink:c,className:d}=o,f=wn(o,Rue),p=Sp();let g=c;typeof g>"u"&&p&&(g=p.filled||p.focused||p.adornedStart);const k=xp({props:o,muiFormControl:p,states:["size","variant","required","focused"]}),v=He({},o,{disableAnimation:a,formControl:p,shrink:g,size:k.size,variant:k.variant,required:k.required,focused:k.focused}),y=Fue(v);return C.jsx(zue,He({"data-shrink":g,ownerState:v,ref:n,className:Zt(y.root,d)},f,{classes:y}))});function que(t){return Nr("MuiLinearProgress",t)}Sr("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Vue=["className","color","value","valueBuffer","variant"];let Ep=t=>t,hN,fN,pN,mN,gN,bN;const sA=4,Hue=Xl(hN||(hN=Ep`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),$ue=Xl(fN||(fN=Ep`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),Wue=Xl(pN||(pN=Ep`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),Gue=t=>{const{classes:r,variant:n,color:o}=t,a={root:["root",`color${en(o)}`,n],dashed:["dashed",`dashedColor${en(o)}`],bar1:["bar",`barColor${en(o)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${en(o)}`,n==="buffer"&&`color${en(o)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return zr(a,que,r)},SC=(t,r)=>r==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${r}Bg`]:t.palette.mode==="light"?Fs.lighten(t.palette[r].main,.62):Fs.darken(t.palette[r].main,.5),Yue=on("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[`color${en(n.color)}`],r[n.variant]]}})(({ownerState:t,theme:r})=>He({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:SC(r,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),Kue=on("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.dashed,r[`dashedColor${en(n.color)}`]]}})(({ownerState:t,theme:r})=>{const n=SC(r,t.color);return He({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},Th(mN||(mN=Ep`
    animation: ${0} 3s infinite linear;
  `),Wue)),Que=on("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.bar,r[`barColor${en(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&r.bar1Indeterminate,n.variant==="determinate"&&r.bar1Determinate,n.variant==="buffer"&&r.bar1Buffer]}})(({ownerState:t,theme:r})=>He({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(r.vars||r).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${sA}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${sA}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&Th(gN||(gN=Ep`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),Hue)),Jue=on("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.bar,r[`barColor${en(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&r.bar2Indeterminate,n.variant==="buffer"&&r.bar2Buffer]}})(({ownerState:t,theme:r})=>He({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(r.vars||r).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:SC(r,t.color),transition:`transform .${sA}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&Th(bN||(bN=Ep`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),$ue)),Zue=K.forwardRef(function(r,n){const o=Ur({props:r,name:"MuiLinearProgress"}),{className:a,color:c="primary",value:d,valueBuffer:f,variant:p="indeterminate"}=o,g=wn(o,Vue),k=He({},o,{color:c,variant:p}),v=Gue(k),y=wL(),w={},x={bar1:{},bar2:{}};if((p==="determinate"||p==="buffer")&&d!==void 0){w["aria-valuenow"]=Math.round(d),w["aria-valuemin"]=0,w["aria-valuemax"]=100;let A=d-100;y&&(A=-A),x.bar1.transform=`translateX(${A}%)`}if(p==="buffer"&&f!==void 0){let A=(f||0)-100;y&&(A=-A),x.bar2.transform=`translateX(${A}%)`}return C.jsxs(Yue,He({className:Zt(v.root,a),ownerState:k,role:"progressbar"},w,{ref:n},g,{children:[p==="buffer"?C.jsx(Kue,{className:v.dashed,ownerState:k}):null,C.jsx(Que,{className:v.bar1,ownerState:k,style:x.bar1}),p==="determinate"?null:C.jsx(Jue,{className:v.bar2,ownerState:k,style:x.bar2})]}))}),Xue=K.createContext({});function ede(t){return Nr("MuiList",t)}Sr("MuiList",["root","padding","dense","subheader"]);const tde=["children","className","component","dense","disablePadding","subheader"],nde=t=>{const{classes:r,disablePadding:n,dense:o,subheader:a}=t;return zr({root:["root",!n&&"padding",o&&"dense",a&&"subheader"]},ede,r)},rde=on("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,!n.disablePadding&&r.padding,n.dense&&r.dense,n.subheader&&r.subheader]}})(({ownerState:t})=>He({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),ide=K.forwardRef(function(r,n){const o=Ur({props:r,name:"MuiList"}),{children:a,className:c,component:d="ul",dense:f=!1,disablePadding:p=!1,subheader:g}=o,k=wn(o,tde),v=K.useMemo(()=>({dense:f}),[f]),y=He({},o,{component:d,dense:f,disablePadding:p}),w=nde(y);return C.jsx(Xue.Provider,{value:v,children:C.jsxs(rde,He({as:d,className:Zt(w.root,c),ref:n,ownerState:y},k,{children:[g,a]}))})}),ode=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function e_(t,r,n){return t===r?t.firstChild:r&&r.nextElementSibling?r.nextElementSibling:n?null:t.firstChild}function kN(t,r,n){return t===r?n?t.firstChild:t.lastChild:r&&r.previousElementSibling?r.previousElementSibling:n?null:t.lastChild}function TL(t,r){if(r===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:r.repeating?n[0]===r.keys[0]:n.indexOf(r.keys.join(""))===0}function Qm(t,r,n,o,a,c){let d=!1,f=a(t,r,r?n:!1);for(;f;){if(f===t.firstChild){if(d)return!1;d=!0}const p=o?!1:f.disabled||f.getAttribute("aria-disabled")==="true";if(!f.hasAttribute("tabindex")||!TL(f,c)||p)f=a(t,f,n);else return f.focus(),!0}return!1}const sde=K.forwardRef(function(r,n){const{actions:o,autoFocus:a=!1,autoFocusItem:c=!1,children:d,className:f,disabledItemsFocusable:p=!1,disableListWrap:g=!1,onKeyDown:k,variant:v="selectedMenu"}=r,y=wn(r,ode),w=K.useRef(null),x=K.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Xu(()=>{a&&w.current.focus()},[a]),K.useImperativeHandle(o,()=>({adjustStyleForScrollbar:(P,{direction:F})=>{const H=!w.current.style.width;if(P.clientHeight<w.current.clientHeight&&H){const V=`${bL(Hs(P))}px`;w.current.style[F==="rtl"?"paddingLeft":"paddingRight"]=V,w.current.style.width=`calc(100% + ${V})`}return w.current}}),[]);const A=P=>{const F=w.current,H=P.key,V=Hs(F).activeElement;if(H==="ArrowDown")P.preventDefault(),Qm(F,V,g,p,e_);else if(H==="ArrowUp")P.preventDefault(),Qm(F,V,g,p,kN);else if(H==="Home")P.preventDefault(),Qm(F,null,g,p,e_);else if(H==="End")P.preventDefault(),Qm(F,null,g,p,kN);else if(H.length===1){const N=x.current,j=H.toLowerCase(),q=performance.now();N.keys.length>0&&(q-N.lastTime>500?(N.keys=[],N.repeating=!0,N.previousKeyMatched=!0):N.repeating&&j!==N.keys[0]&&(N.repeating=!1)),N.lastTime=q,N.keys.push(j);const Q=V&&!N.repeating&&TL(V,N);N.previousKeyMatched&&(Q||Qm(F,V,!1,p,e_,N))?P.preventDefault():N.previousKeyMatched=!1}k&&k(P)},D=ds(w,n);let E=-1;K.Children.forEach(d,(P,F)=>{if(!K.isValidElement(P)){E===F&&(E+=1,E>=d.length&&(E=-1));return}P.props.disabled||(v==="selectedMenu"&&P.props.selected||E===-1)&&(E=F),E===F&&(P.props.disabled||P.props.muiSkipListHighlight||P.type.muiSkipListHighlight)&&(E+=1,E>=d.length&&(E=-1))});const M=K.Children.map(d,(P,F)=>{if(F===E){const H={};return c&&(H.autoFocus=!0),P.props.tabIndex===void 0&&v==="selectedMenu"&&(H.tabIndex=0),K.cloneElement(P,H)}return P});return C.jsx(ide,He({role:"menu",ref:D,className:f,onKeyDown:A,tabIndex:a?0:-1},y,{children:M}))});function ade(t){return Nr("MuiPopover",t)}Sr("MuiPopover",["root","paper"]);const lde=["onEntering"],cde=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],ude=["slotProps"];function wN(t,r){let n=0;return typeof r=="number"?n=r:r==="center"?n=t.height/2:r==="bottom"&&(n=t.height),n}function yN(t,r){let n=0;return typeof r=="number"?n=r:r==="center"?n=t.width/2:r==="right"&&(n=t.width),n}function vN(t){return[t.horizontal,t.vertical].map(r=>typeof r=="number"?`${r}px`:r).join(" ")}function t_(t){return typeof t=="function"?t():t}const dde=t=>{const{classes:r}=t;return zr({root:["root"],paper:["paper"]},ade,r)},hde=on(DL,{name:"MuiPopover",slot:"Root",overridesResolver:(t,r)=>r.root})({}),NL=on(xL,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,r)=>r.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),fde=K.forwardRef(function(r,n){var o,a,c;const d=Ur({props:r,name:"MuiPopover"}),{action:f,anchorEl:p,anchorOrigin:g={vertical:"top",horizontal:"left"},anchorPosition:k,anchorReference:v="anchorEl",children:y,className:w,container:x,elevation:A=8,marginThreshold:D=16,open:E,PaperProps:M={},slots:P,slotProps:F,transformOrigin:H={vertical:"top",horizontal:"left"},TransitionComponent:V=IL,transitionDuration:N="auto",TransitionProps:{onEntering:j}={},disableScrollLock:q=!1}=d,Q=wn(d.TransitionProps,lde),$=wn(d,cde),R=(o=F==null?void 0:F.paper)!=null?o:M,Y=K.useRef(),B=ds(Y,R.ref),ne=He({},d,{anchorOrigin:g,anchorReference:v,elevation:A,marginThreshold:D,externalPaperSlotProps:R,transformOrigin:H,TransitionComponent:V,transitionDuration:N,TransitionProps:Q}),de=dde(ne),ae=K.useCallback(()=>{if(v==="anchorPosition")return k;const ze=t_(p),Ce=(ze&&ze.nodeType===1?ze:Hs(Y.current).body).getBoundingClientRect();return{top:Ce.top+wN(Ce,g.vertical),left:Ce.left+yN(Ce,g.horizontal)}},[p,g.horizontal,g.vertical,k,v]),oe=K.useCallback(ze=>({vertical:wN(ze,H.vertical),horizontal:yN(ze,H.horizontal)}),[H.horizontal,H.vertical]),ye=K.useCallback(ze=>{const J={width:ze.offsetWidth,height:ze.offsetHeight},Ce=oe(J);if(v==="none")return{top:null,left:null,transformOrigin:vN(Ce)};const ue=ae();let ge=ue.top-Ce.vertical,he=ue.left-Ce.horizontal;const _e=ge+J.height,Me=he+J.width,Ie=Dh(t_(p)),Ae=Ie.innerHeight-D,Oe=Ie.innerWidth-D;if(D!==null&&ge<D){const Ge=ge-D;ge-=Ge,Ce.vertical+=Ge}else if(D!==null&&_e>Ae){const Ge=_e-Ae;ge-=Ge,Ce.vertical+=Ge}if(D!==null&&he<D){const Ge=he-D;he-=Ge,Ce.horizontal+=Ge}else if(Me>Oe){const Ge=Me-Oe;he-=Ge,Ce.horizontal+=Ge}return{top:`${Math.round(ge)}px`,left:`${Math.round(he)}px`,transformOrigin:vN(Ce)}},[p,v,ae,oe,D]),[re,xe]=K.useState(E),X=K.useCallback(()=>{const ze=Y.current;if(!ze)return;const J=ye(ze);J.top!==null&&(ze.style.top=J.top),J.left!==null&&(ze.style.left=J.left),ze.style.transformOrigin=J.transformOrigin,xe(!0)},[ye]);K.useEffect(()=>(q&&window.addEventListener("scroll",X),()=>window.removeEventListener("scroll",X)),[p,q,X]);const Z=(ze,J)=>{j&&j(ze,J),X()},se=()=>{xe(!1)};K.useEffect(()=>{E&&X()}),K.useImperativeHandle(f,()=>E?{updatePosition:()=>{X()}}:null,[E,X]),K.useEffect(()=>{if(!E)return;const ze=pL(()=>{X()}),J=Dh(p);return J.addEventListener("resize",ze),()=>{ze.clear(),J.removeEventListener("resize",ze)}},[p,E,X]);let pe=N;N==="auto"&&!V.muiSupportAuto&&(pe=void 0);const we=x||(p?Hs(t_(p)).body:void 0),Pe=(a=P==null?void 0:P.root)!=null?a:hde,Te=(c=P==null?void 0:P.paper)!=null?c:NL,Ne=bp({elementType:Te,externalSlotProps:He({},R,{style:re?R.style:He({},R.style,{opacity:0})}),additionalProps:{elevation:A,ref:B},ownerState:ne,className:Zt(de.paper,R==null?void 0:R.className)}),rt=bp({elementType:Pe,externalSlotProps:(F==null?void 0:F.root)||{},externalForwardedProps:$,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:we,open:E},ownerState:ne,className:Zt(de.root,w)}),{slotProps:Ke}=rt,Qe=wn(rt,ude);return C.jsx(Pe,He({},Qe,!o1(Pe)&&{slotProps:Ke,disableScrollLock:q},{children:C.jsx(V,He({appear:!0,in:E,onEntering:Z,onExited:se,timeout:pe},Q,{children:C.jsx(Te,He({},Ne,{children:y}))}))}))});function pde(t){return Nr("MuiMenu",t)}Sr("MuiMenu",["root","paper","list"]);const mde=["onEntering"],gde=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],bde={vertical:"top",horizontal:"right"},kde={vertical:"top",horizontal:"left"},wde=t=>{const{classes:r}=t;return zr({root:["root"],paper:["paper"],list:["list"]},pde,r)},yde=on(fde,{shouldForwardProp:t=>rl(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,r)=>r.root})({}),vde=on(NL,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,r)=>r.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),_de=on(sde,{name:"MuiMenu",slot:"List",overridesResolver:(t,r)=>r.list})({outline:0}),Ade=K.forwardRef(function(r,n){var o,a;const c=Ur({props:r,name:"MuiMenu"}),{autoFocus:d=!0,children:f,className:p,disableAutoFocusItem:g=!1,MenuListProps:k={},onClose:v,open:y,PaperProps:w={},PopoverClasses:x,transitionDuration:A="auto",TransitionProps:{onEntering:D}={},variant:E="selectedMenu",slots:M={},slotProps:P={}}=c,F=wn(c.TransitionProps,mde),H=wn(c,gde),V=wL(),N=He({},c,{autoFocus:d,disableAutoFocusItem:g,MenuListProps:k,onEntering:D,PaperProps:w,transitionDuration:A,TransitionProps:F,variant:E}),j=wde(N),q=d&&!g&&y,Q=K.useRef(null),$=(oe,ye)=>{Q.current&&Q.current.adjustStyleForScrollbar(oe,{direction:V?"rtl":"ltr"}),D&&D(oe,ye)},R=oe=>{oe.key==="Tab"&&(oe.preventDefault(),v&&v(oe,"tabKeyDown"))};let Y=-1;K.Children.map(f,(oe,ye)=>{K.isValidElement(oe)&&(oe.props.disabled||(E==="selectedMenu"&&oe.props.selected||Y===-1)&&(Y=ye))});const B=(o=M.paper)!=null?o:vde,ne=(a=P.paper)!=null?a:w,de=bp({elementType:M.root,externalSlotProps:P.root,ownerState:N,className:[j.root,p]}),ae=bp({elementType:B,externalSlotProps:ne,ownerState:N,className:j.paper});return C.jsx(yde,He({onClose:v,anchorOrigin:{vertical:"bottom",horizontal:V?"right":"left"},transformOrigin:V?bde:kde,slots:{paper:B,root:M.root},slotProps:{root:de,paper:ae},open:y,ref:n,transitionDuration:A,TransitionProps:He({onEntering:$},F),ownerState:N},H,{classes:x,children:C.jsx(_de,He({onKeyDown:R,actions:Q,autoFocus:d&&(Y===-1||g),autoFocusItem:q,variant:E},k,{className:Zt(j.list,k.className),children:f}))}))});function Cde(t){return Nr("MuiNativeSelect",t)}const EC=Sr("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),xde=["className","disabled","error","IconComponent","inputRef","variant"],Sde=t=>{const{classes:r,variant:n,disabled:o,multiple:a,open:c,error:d}=t,f={select:["select",n,o&&"disabled",a&&"multiple",d&&"error"],icon:["icon",`icon${en(n)}`,c&&"iconOpen",o&&"disabled"]};return zr(f,Cde,r)},ML=({ownerState:t,theme:r})=>He({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":He({},r.vars?{backgroundColor:`rgba(${r.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:r.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${EC.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(r.vars||r).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(r.vars||r).shape.borderRadius,"&:focus":{borderRadius:(r.vars||r).shape.borderRadius},"&&&":{paddingRight:32}}),Ede=on("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:rl,overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.select,r[n.variant],n.error&&r.error,{[`&.${EC.multiple}`]:r.multiple}]}})(ML),PL=({ownerState:t,theme:r})=>He({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(r.vars||r).palette.action.active,[`&.${EC.disabled}`]:{color:(r.vars||r).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),Dde=on("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.icon,n.variant&&r[`icon${en(n.variant)}`],n.open&&r.iconOpen]}})(PL),Ide=K.forwardRef(function(r,n){const{className:o,disabled:a,error:c,IconComponent:d,inputRef:f,variant:p="standard"}=r,g=wn(r,xde),k=He({},r,{disabled:a,variant:p,error:c}),v=Sde(k);return C.jsxs(K.Fragment,{children:[C.jsx(Ede,He({ownerState:k,className:Zt(v.select,o),disabled:a,ref:f||n},g)),r.multiple?null:C.jsx(Dde,{as:d,ownerState:k,className:v.icon})]})});var _N;const Tde=["children","classes","className","label","notched"],Nde=on("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:rl})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Mde=on("legend",{name:"MuiNotchedOutlined",shouldForwardProp:rl})(({ownerState:t,theme:r})=>He({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:r.transitions.create("width",{duration:150,easing:r.transitions.easing.easeOut})},t.withLabel&&He({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:r.transitions.create("max-width",{duration:50,easing:r.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:r.transitions.create("max-width",{duration:100,easing:r.transitions.easing.easeOut,delay:50})})));function Pde(t){const{className:r,label:n,notched:o}=t,a=wn(t,Tde),c=n!=null&&n!=="",d=He({},t,{notched:o,withLabel:c});return C.jsx(Nde,He({"aria-hidden":!0,className:r,ownerState:d},a,{children:C.jsx(Mde,{ownerState:d,children:c?C.jsx("span",{children:n}):_N||(_N=C.jsx("span",{className:"notranslate",children:"​"}))})}))}const Ode=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Lde=t=>{const{classes:r}=t,o=zr({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},pce,r);return He({},r,o)},Bde=on(tw,{shouldForwardProp:t=>rl(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:X1})(({theme:t,ownerState:r})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return He({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Mu.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Mu.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Mu.focused} .${Mu.notchedOutline}`]:{borderColor:(t.vars||t).palette[r.color].main,borderWidth:2},[`&.${Mu.error} .${Mu.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Mu.disabled} .${Mu.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&He({padding:"16.5px 14px"},r.size==="small"&&{padding:"8.5px 14px"}))}),jde=on(Pde,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,r)=>r.notchedOutline})(({theme:t})=>{const r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:r}}),Rde=on(nw,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:ew})(({theme:t,ownerState:r})=>He({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},r.size==="small"&&{padding:"8.5px 14px"},r.multiline&&{padding:0},r.startAdornment&&{paddingLeft:0},r.endAdornment&&{paddingRight:0})),DC=K.forwardRef(function(r,n){var o,a,c,d,f;const p=Ur({props:r,name:"MuiOutlinedInput"}),{components:g={},fullWidth:k=!1,inputComponent:v="input",label:y,multiline:w=!1,notched:x,slots:A={},type:D="text"}=p,E=wn(p,Ode),M=Lde(p),P=Sp(),F=xp({props:p,muiFormControl:P,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),H=He({},p,{color:F.color||"primary",disabled:F.disabled,error:F.error,focused:F.focused,formControl:P,fullWidth:k,hiddenLabel:F.hiddenLabel,multiline:w,size:F.size,type:D}),V=(o=(a=A.root)!=null?a:g.Root)!=null?o:Bde,N=(c=(d=A.input)!=null?d:g.Input)!=null?c:Rde;return C.jsx(AC,He({slots:{root:V,input:N},renderSuffix:j=>C.jsx(jde,{ownerState:H,className:M.notchedOutline,label:y!=null&&y!==""&&F.required?f||(f=C.jsxs(K.Fragment,{children:[y," ","*"]})):y,notched:typeof x<"u"?x:!!(j.startAdornment||j.filled||j.focused)}),fullWidth:k,inputComponent:v,multiline:w,ref:n,type:D},E,{classes:He({},M,{notchedOutline:null})}))});DC.muiName="Input";function Fde(t){return Nr("MuiSelect",t)}const Jm=Sr("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var AN;const zde=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Ude=on("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[{[`&.${Jm.select}`]:r.select},{[`&.${Jm.select}`]:r[n.variant]},{[`&.${Jm.error}`]:r.error},{[`&.${Jm.multiple}`]:r.multiple}]}})(ML,{[`&.${Jm.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),qde=on("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.icon,n.variant&&r[`icon${en(n.variant)}`],n.open&&r.iconOpen]}})(PL),Vde=on("input",{shouldForwardProp:t=>AL(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,r)=>r.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function CN(t,r){return typeof r=="object"&&r!==null?t===r:String(t)===String(r)}function Hde(t){return t==null||typeof t=="string"&&!t.trim()}const $de=t=>{const{classes:r,variant:n,disabled:o,multiple:a,open:c,error:d}=t,f={select:["select",n,o&&"disabled",a&&"multiple",d&&"error"],icon:["icon",`icon${en(n)}`,c&&"iconOpen",o&&"disabled"],nativeInput:["nativeInput"]};return zr(f,Fde,r)},Wde=K.forwardRef(function(r,n){var o;const{"aria-describedby":a,"aria-label":c,autoFocus:d,autoWidth:f,children:p,className:g,defaultOpen:k,defaultValue:v,disabled:y,displayEmpty:w,error:x=!1,IconComponent:A,inputRef:D,labelId:E,MenuProps:M={},multiple:P,name:F,onBlur:H,onChange:V,onClose:N,onFocus:j,onOpen:q,open:Q,readOnly:$,renderValue:R,SelectDisplayProps:Y={},tabIndex:B,value:ne,variant:de="standard"}=r,ae=wn(r,zde),[oe,ye]=jT({controlled:ne,default:v,name:"Select"}),[re,xe]=jT({controlled:Q,default:k,name:"Select"}),X=K.useRef(null),Z=K.useRef(null),[se,pe]=K.useState(null),{current:we}=K.useRef(Q!=null),[Pe,Te]=K.useState(),Ne=ds(n,D),rt=K.useCallback(pt=>{Z.current=pt,pt&&pe(pt)},[]),Ke=se==null?void 0:se.parentNode;K.useImperativeHandle(Ne,()=>({focus:()=>{Z.current.focus()},node:X.current,value:oe}),[oe]),K.useEffect(()=>{k&&re&&se&&!we&&(Te(f?null:Ke.clientWidth),Z.current.focus())},[se,f]),K.useEffect(()=>{d&&Z.current.focus()},[d]),K.useEffect(()=>{if(!E)return;const pt=Hs(Z.current).getElementById(E);if(pt){const Vt=()=>{getSelection().isCollapsed&&Z.current.focus()};return pt.addEventListener("click",Vt),()=>{pt.removeEventListener("click",Vt)}}},[E]);const Qe=(pt,Vt)=>{pt?q&&q(Vt):N&&N(Vt),we||(Te(f?null:Ke.clientWidth),xe(pt))},ze=pt=>{pt.button===0&&(pt.preventDefault(),Z.current.focus(),Qe(!0,pt))},J=pt=>{Qe(!1,pt)},Ce=K.Children.toArray(p),ue=pt=>{const Vt=Ce.find(Rt=>Rt.props.value===pt.target.value);Vt!==void 0&&(ye(Vt.props.value),V&&V(pt,Vt))},ge=pt=>Vt=>{let Rt;if(Vt.currentTarget.hasAttribute("tabindex")){if(P){Rt=Array.isArray(oe)?oe.slice():[];const zt=oe.indexOf(pt.props.value);zt===-1?Rt.push(pt.props.value):Rt.splice(zt,1)}else Rt=pt.props.value;if(pt.props.onClick&&pt.props.onClick(Vt),oe!==Rt&&(ye(Rt),V)){const zt=Vt.nativeEvent||Vt,Yt=new zt.constructor(zt.type,zt);Object.defineProperty(Yt,"target",{writable:!0,value:{value:Rt,name:F}}),V(Yt,pt)}P||Qe(!1,Vt)}},he=pt=>{$||[" ","ArrowUp","ArrowDown","Enter"].indexOf(pt.key)!==-1&&(pt.preventDefault(),Qe(!0,pt))},_e=se!==null&&re,Me=pt=>{!_e&&H&&(Object.defineProperty(pt,"target",{writable:!0,value:{value:oe,name:F}}),H(pt))};delete ae["aria-invalid"];let Ie,Ae;const Oe=[];let Ge=!1;(a1({value:oe})||w)&&(R?Ie=R(oe):Ge=!0);const Xe=Ce.map(pt=>{if(!K.isValidElement(pt))return null;let Vt;if(P){if(!Array.isArray(oe))throw new Error(Eh(2));Vt=oe.some(Rt=>CN(Rt,pt.props.value)),Vt&&Ge&&Oe.push(pt.props.children)}else Vt=CN(oe,pt.props.value),Vt&&Ge&&(Ae=pt.props.children);return K.cloneElement(pt,{"aria-selected":Vt?"true":"false",onClick:ge(pt),onKeyUp:Rt=>{Rt.key===" "&&Rt.preventDefault(),pt.props.onKeyUp&&pt.props.onKeyUp(Rt)},role:"option",selected:Vt,value:void 0,"data-value":pt.props.value})});Ge&&(P?Oe.length===0?Ie=null:Ie=Oe.reduce((pt,Vt,Rt)=>(pt.push(Vt),Rt<Oe.length-1&&pt.push(", "),pt),[]):Ie=Ae);let dt=Pe;!f&&we&&se&&(dt=Ke.clientWidth);let Ue;typeof B<"u"?Ue=B:Ue=y?null:0;const We=Y.id||(F?`mui-component-select-${F}`:void 0),Ye=He({},r,{variant:de,value:oe,open:_e,error:x}),St=$de(Ye),ht=He({},M.PaperProps,(o=M.slotProps)==null?void 0:o.paper),tn=mL();return C.jsxs(K.Fragment,{children:[C.jsx(Ude,He({ref:rt,tabIndex:Ue,role:"combobox","aria-controls":tn,"aria-disabled":y?"true":void 0,"aria-expanded":_e?"true":"false","aria-haspopup":"listbox","aria-label":c,"aria-labelledby":[E,We].filter(Boolean).join(" ")||void 0,"aria-describedby":a,onKeyDown:he,onMouseDown:y||$?null:ze,onBlur:Me,onFocus:j},Y,{ownerState:Ye,className:Zt(Y.className,St.select,g),id:We,children:Hde(Ie)?AN||(AN=C.jsx("span",{className:"notranslate",children:"​"})):Ie})),C.jsx(Vde,He({"aria-invalid":x,value:Array.isArray(oe)?oe.join(","):oe,name:F,ref:X,"aria-hidden":!0,onChange:ue,tabIndex:-1,disabled:y,className:St.nativeInput,autoFocus:d,ownerState:Ye},ae)),C.jsx(qde,{as:A,className:St.icon,ownerState:Ye}),C.jsx(Ade,He({id:`menu-${F||""}`,anchorEl:Ke,open:_e,onClose:J,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},M,{MenuListProps:He({"aria-labelledby":E,role:"listbox","aria-multiselectable":P?"true":void 0,disableListWrap:!0,id:tn},M.MenuListProps),slotProps:He({},M.slotProps,{paper:He({},ht,{style:He({minWidth:dt},ht!=null?ht.style:null)})}),children:Xe}))]})}),Gde=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Yde=["root"],Kde=t=>{const{classes:r}=t;return r},IC={name:"MuiSelect",overridesResolver:(t,r)=>r.root,shouldForwardProp:t=>rl(t)&&t!=="variant",slot:"Root"},Qde=on(xC,IC)(""),Jde=on(DC,IC)(""),Zde=on(CC,IC)(""),OL=K.forwardRef(function(r,n){const o=Ur({name:"MuiSelect",props:r}),{autoWidth:a=!1,children:c,classes:d={},className:f,defaultOpen:p=!1,displayEmpty:g=!1,IconComponent:k=gce,id:v,input:y,inputProps:w,label:x,labelId:A,MenuProps:D,multiple:E=!1,native:M=!1,onClose:P,onOpen:F,open:H,renderValue:V,SelectDisplayProps:N,variant:j="outlined"}=o,q=wn(o,Gde),Q=M?Ide:Wde,$=Sp(),R=xp({props:o,muiFormControl:$,states:["variant","error"]}),Y=R.variant||j,B=He({},o,{variant:Y,classes:d}),ne=Kde(B),de=wn(ne,Yde),ae=y||{standard:C.jsx(Qde,{ownerState:B}),outlined:C.jsx(Jde,{label:x,ownerState:B}),filled:C.jsx(Zde,{ownerState:B})}[Y],oe=ds(n,ob(ae));return C.jsx(K.Fragment,{children:K.cloneElement(ae,He({inputComponent:Q,inputProps:He({children:c,error:R.error,IconComponent:k,variant:Y,type:void 0,multiple:E},M?{id:v}:{autoWidth:a,defaultOpen:p,displayEmpty:g,labelId:A,MenuProps:D,onClose:P,onOpen:F,open:H,renderValue:V,SelectDisplayProps:He({id:v},N)},w,{classes:w?Vs(de,w.classes):de},y?y.props.inputProps:{})},(E&&M||g)&&Y==="outlined"?{notched:!0}:{},{ref:oe,className:Zt(ae.props.className,f,ne.root)},!y&&{variant:Y},q))})});OL.muiName="Select";function Xde(t){return Nr("MuiTextField",t)}Sr("MuiTextField",["root"]);const ehe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],the={standard:xC,filled:CC,outlined:DC},nhe=t=>{const{classes:r}=t;return zr({root:["root"]},Xde,r)},rhe=on(wue,{name:"MuiTextField",slot:"Root",overridesResolver:(t,r)=>r.root})({}),ihe=K.forwardRef(function(r,n){const o=Ur({props:r,name:"MuiTextField"}),{autoComplete:a,autoFocus:c=!1,children:d,className:f,color:p="primary",defaultValue:g,disabled:k=!1,error:v=!1,FormHelperTextProps:y,fullWidth:w=!1,helperText:x,id:A,InputLabelProps:D,inputProps:E,InputProps:M,inputRef:P,label:F,maxRows:H,minRows:V,multiline:N=!1,name:j,onBlur:q,onChange:Q,onFocus:$,placeholder:R,required:Y=!1,rows:B,select:ne=!1,SelectProps:de,type:ae,value:oe,variant:ye="outlined"}=o,re=wn(o,ehe),xe=He({},o,{autoFocus:c,color:p,disabled:k,error:v,fullWidth:w,multiline:N,required:Y,select:ne,variant:ye}),X=nhe(xe),Z={};ye==="outlined"&&(D&&typeof D.shrink<"u"&&(Z.notched=D.shrink),Z.label=F),ne&&((!de||!de.native)&&(Z.id=void 0),Z["aria-describedby"]=void 0);const se=mL(A),pe=x&&se?`${se}-helper-text`:void 0,we=F&&se?`${se}-label`:void 0,Pe=the[ye],Te=C.jsx(Pe,He({"aria-describedby":pe,autoComplete:a,autoFocus:c,defaultValue:g,fullWidth:w,multiline:N,name:j,rows:B,maxRows:H,minRows:V,type:ae,value:oe,id:se,inputRef:P,onBlur:q,onChange:Q,onFocus:$,placeholder:R,inputProps:E},Z,M));return C.jsxs(rhe,He({className:Zt(X.root,f),disabled:k,error:v,fullWidth:w,ref:n,required:Y,color:p,variant:ye,ownerState:xe},re,{children:[F!=null&&F!==""&&C.jsx(Uue,He({htmlFor:se,id:we},D,{children:F})),ne?C.jsx(OL,He({"aria-describedby":pe,id:se,labelId:we,value:oe,input:Te},de,{children:d})):Te,x&&C.jsx(Cue,He({id:pe},y,{children:x}))]}))}),xN=["http","https","mailto","tel"];function ohe(t){const r=(t||"").trim(),n=r.charAt(0);if(n==="#"||n==="/")return r;const o=r.indexOf(":");if(o===-1)return r;let a=-1;for(;++a<xN.length;){const c=xN[a];if(o===c.length&&r.slice(0,c.length).toLowerCase()===c)return r}return a=r.indexOf("?"),a!==-1&&o>a||(a=r.indexOf("#"),a!==-1&&o>a)?r:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var n_,SN;function she(){return SN||(SN=1,n_=function(r){return r!=null&&r.constructor!=null&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}),n_}var ahe=she();const LL=Hc(ahe);function kg(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?EN(t.position):"start"in t||"end"in t?EN(t):"line"in t||"column"in t?aA(t):""}function aA(t){return DN(t&&t.line)+":"+DN(t&&t.column)}function EN(t){return aA(t&&t.start)+"-"+aA(t&&t.end)}function DN(t){return t&&typeof t=="number"?t:1}class Ta extends Error{constructor(r,n,o){const a=[null,null];let c={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(o=n,n=void 0),typeof o=="string"){const d=o.indexOf(":");d===-1?a[1]=o:(a[0]=o.slice(0,d),a[1]=o.slice(d+1))}n&&("type"in n||"position"in n?n.position&&(c=n.position):"start"in n||"end"in n?c=n:("line"in n||"column"in n)&&(c.start=n)),this.name=kg(n)||"1:1",this.message=typeof r=="object"?r.message:r,this.stack="",typeof r=="object"&&r.stack&&(this.stack=r.stack),this.reason=this.message,this.fatal,this.line=c.start.line,this.column=c.start.column,this.position=c,this.source=a[0],this.ruleId=a[1],this.file,this.actual,this.expected,this.url,this.note}}Ta.prototype.file="";Ta.prototype.name="";Ta.prototype.reason="";Ta.prototype.message="";Ta.prototype.stack="";Ta.prototype.fatal=null;Ta.prototype.column=null;Ta.prototype.line=null;Ta.prototype.source=null;Ta.prototype.ruleId=null;Ta.prototype.position=null;const Ml={basename:lhe,dirname:che,extname:uhe,join:dhe,sep:"/"};function lhe(t,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');sb(t);let n=0,o=-1,a=t.length,c;if(r===void 0||r.length===0||r.length>t.length){for(;a--;)if(t.charCodeAt(a)===47){if(c){n=a+1;break}}else o<0&&(c=!0,o=a+1);return o<0?"":t.slice(n,o)}if(r===t)return"";let d=-1,f=r.length-1;for(;a--;)if(t.charCodeAt(a)===47){if(c){n=a+1;break}}else d<0&&(c=!0,d=a+1),f>-1&&(t.charCodeAt(a)===r.charCodeAt(f--)?f<0&&(o=a):(f=-1,o=d));return n===o?o=d:o<0&&(o=t.length),t.slice(n,o)}function che(t){if(sb(t),t.length===0)return".";let r=-1,n=t.length,o;for(;--n;)if(t.charCodeAt(n)===47){if(o){r=n;break}}else o||(o=!0);return r<0?t.charCodeAt(0)===47?"/":".":r===1&&t.charCodeAt(0)===47?"//":t.slice(0,r)}function uhe(t){sb(t);let r=t.length,n=-1,o=0,a=-1,c=0,d;for(;r--;){const f=t.charCodeAt(r);if(f===47){if(d){o=r+1;break}continue}n<0&&(d=!0,n=r+1),f===46?a<0?a=r:c!==1&&(c=1):a>-1&&(c=-1)}return a<0||n<0||c===0||c===1&&a===n-1&&a===o+1?"":t.slice(a,n)}function dhe(...t){let r=-1,n;for(;++r<t.length;)sb(t[r]),t[r]&&(n=n===void 0?t[r]:n+"/"+t[r]);return n===void 0?".":hhe(n)}function hhe(t){sb(t);const r=t.charCodeAt(0)===47;let n=fhe(t,!r);return n.length===0&&!r&&(n="."),n.length>0&&t.charCodeAt(t.length-1)===47&&(n+="/"),r?"/"+n:n}function fhe(t,r){let n="",o=0,a=-1,c=0,d=-1,f,p;for(;++d<=t.length;){if(d<t.length)f=t.charCodeAt(d);else{if(f===47)break;f=47}if(f===47){if(!(a===d-1||c===1))if(a!==d-1&&c===2){if(n.length<2||o!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",o=0):(n=n.slice(0,p),o=n.length-1-n.lastIndexOf("/")),a=d,c=0;continue}}else if(n.length>0){n="",o=0,a=d,c=0;continue}}r&&(n=n.length>0?n+"/..":"..",o=2)}else n.length>0?n+="/"+t.slice(a+1,d):n=t.slice(a+1,d),o=d-a-1;a=d,c=0}else f===46&&c>-1?c++:c=-1}return n}function sb(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const phe={cwd:mhe};function mhe(){return"/"}function lA(t){return t!==null&&typeof t=="object"&&t.href&&t.origin}function ghe(t){if(typeof t=="string")t=new URL(t);else if(!lA(t)){const r=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw r.code="ERR_INVALID_ARG_TYPE",r}if(t.protocol!=="file:"){const r=new TypeError("The URL must be of scheme file");throw r.code="ERR_INVALID_URL_SCHEME",r}return bhe(t)}function bhe(t){if(t.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const r=t.pathname;let n=-1;for(;++n<r.length;)if(r.charCodeAt(n)===37&&r.charCodeAt(n+1)===50){const o=r.charCodeAt(n+2);if(o===70||o===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(r)}const r_=["history","path","basename","stem","extname","dirname"];class BL{constructor(r){let n;r?typeof r=="string"||khe(r)?n={value:r}:lA(r)?n={path:r}:n=r:n={},this.data={},this.messages=[],this.history=[],this.cwd=phe.cwd(),this.value,this.stored,this.result,this.map;let o=-1;for(;++o<r_.length;){const c=r_[o];c in n&&n[c]!==void 0&&n[c]!==null&&(this[c]=c==="history"?[...n[c]]:n[c])}let a;for(a in n)r_.includes(a)||(this[a]=n[a])}get path(){return this.history[this.history.length-1]}set path(r){lA(r)&&(r=ghe(r)),o_(r,"path"),this.path!==r&&this.history.push(r)}get dirname(){return typeof this.path=="string"?Ml.dirname(this.path):void 0}set dirname(r){IN(this.basename,"dirname"),this.path=Ml.join(r||"",this.basename)}get basename(){return typeof this.path=="string"?Ml.basename(this.path):void 0}set basename(r){o_(r,"basename"),i_(r,"basename"),this.path=Ml.join(this.dirname||"",r)}get extname(){return typeof this.path=="string"?Ml.extname(this.path):void 0}set extname(r){if(i_(r,"extname"),IN(this.dirname,"extname"),r){if(r.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(r.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ml.join(this.dirname,this.stem+(r||""))}get stem(){return typeof this.path=="string"?Ml.basename(this.path,this.extname):void 0}set stem(r){o_(r,"stem"),i_(r,"stem"),this.path=Ml.join(this.dirname||"",r+(this.extname||""))}toString(r){return(this.value||"").toString(r||void 0)}message(r,n,o){const a=new Ta(r,n,o);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}info(r,n,o){const a=this.message(r,n,o);return a.fatal=null,a}fail(r,n,o){const a=this.message(r,n,o);throw a.fatal=!0,a}}function i_(t,r){if(t&&t.includes(Ml.sep))throw new Error("`"+r+"` cannot be a path: did not expect `"+Ml.sep+"`")}function o_(t,r){if(!t)throw new Error("`"+r+"` cannot be empty")}function IN(t,r){if(!t)throw new Error("Setting `"+r+"` requires `path` to be set too")}function khe(t){return LL(t)}function TN(t){if(t)throw t}var s_,NN;function whe(){if(NN)return s_;NN=1;var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=function(g){return typeof Array.isArray=="function"?Array.isArray(g):r.call(g)==="[object Array]"},c=function(g){if(!g||r.call(g)!=="[object Object]")return!1;var k=t.call(g,"constructor"),v=g.constructor&&g.constructor.prototype&&t.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!k&&!v)return!1;var y;for(y in g);return typeof y>"u"||t.call(g,y)},d=function(g,k){n&&k.name==="__proto__"?n(g,k.name,{enumerable:!0,configurable:!0,value:k.newValue,writable:!0}):g[k.name]=k.newValue},f=function(g,k){if(k==="__proto__")if(t.call(g,k)){if(o)return o(g,k).value}else return;return g[k]};return s_=function p(){var g,k,v,y,w,x,A=arguments[0],D=1,E=arguments.length,M=!1;for(typeof A=="boolean"&&(M=A,A=arguments[1]||{},D=2),(A==null||typeof A!="object"&&typeof A!="function")&&(A={});D<E;++D)if(g=arguments[D],g!=null)for(k in g)v=f(A,k),y=f(g,k),A!==y&&(M&&y&&(c(y)||(w=a(y)))?(w?(w=!1,x=v&&a(v)?v:[]):x=v&&c(v)?v:{},d(A,{name:k,newValue:p(M,x,y)})):typeof y<"u"&&d(A,{name:k,newValue:y}));return A},s_}var yhe=whe();const MN=Hc(yhe);function cA(t){if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function vhe(){const t=[],r={run:n,use:o};return r;function n(...a){let c=-1;const d=a.pop();if(typeof d!="function")throw new TypeError("Expected function as last argument, not "+d);f(null,...a);function f(p,...g){const k=t[++c];let v=-1;if(p){d(p);return}for(;++v<a.length;)(g[v]===null||g[v]===void 0)&&(g[v]=a[v]);a=g,k?_he(k,f)(...g):d(null,...g)}}function o(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),r}}function _he(t,r){let n;return o;function o(...d){const f=t.length>d.length;let p;f&&d.push(a);try{p=t.apply(this,d)}catch(g){const k=g;if(f&&n)throw k;return a(k)}f||(p&&p.then&&typeof p.then=="function"?p.then(c,a):p instanceof Error?a(p):c(p))}function a(d,...f){n||(n=!0,r(d,...f))}function c(d){a(null,d)}}const Ahe=RL().freeze(),jL={}.hasOwnProperty;function RL(){const t=vhe(),r=[];let n={},o,a=-1;return c.data=d,c.Parser=void 0,c.Compiler=void 0,c.freeze=f,c.attachers=r,c.use=p,c.parse=g,c.stringify=k,c.run=v,c.runSync=y,c.process=w,c.processSync=x,c;function c(){const A=RL();let D=-1;for(;++D<r.length;)A.use(...r[D]);return A.data(MN(!0,{},n)),A}function d(A,D){return typeof A=="string"?arguments.length===2?(c_("data",o),n[A]=D,c):jL.call(n,A)&&n[A]||null:A?(c_("data",o),n=A,c):n}function f(){if(o)return c;for(;++a<r.length;){const[A,...D]=r[a];if(D[0]===!1)continue;D[0]===!0&&(D[0]=void 0);const E=A.call(c,...D);typeof E=="function"&&t.use(E)}return o=!0,a=Number.POSITIVE_INFINITY,c}function p(A,...D){let E;if(c_("use",o),A!=null)if(typeof A=="function")H(A,...D);else if(typeof A=="object")Array.isArray(A)?F(A):P(A);else throw new TypeError("Expected usable value, not `"+A+"`");return E&&(n.settings=Object.assign(n.settings||{},E)),c;function M(V){if(typeof V=="function")H(V);else if(typeof V=="object")if(Array.isArray(V)){const[N,...j]=V;H(N,...j)}else P(V);else throw new TypeError("Expected usable value, not `"+V+"`")}function P(V){F(V.plugins),V.settings&&(E=Object.assign(E||{},V.settings))}function F(V){let N=-1;if(V!=null)if(Array.isArray(V))for(;++N<V.length;){const j=V[N];M(j)}else throw new TypeError("Expected a list of plugins, not `"+V+"`")}function H(V,N){let j=-1,q;for(;++j<r.length;)if(r[j][0]===V){q=r[j];break}q?(cA(q[1])&&cA(N)&&(N=MN(!0,q[1],N)),q[1]=N):r.push([...arguments])}}function g(A){c.freeze();const D=Zm(A),E=c.Parser;return a_("parse",E),PN(E,"parse")?new E(String(D),D).parse():E(String(D),D)}function k(A,D){c.freeze();const E=Zm(D),M=c.Compiler;return l_("stringify",M),ON(A),PN(M,"compile")?new M(A,E).compile():M(A,E)}function v(A,D,E){if(ON(A),c.freeze(),!E&&typeof D=="function"&&(E=D,D=void 0),!E)return new Promise(M);M(null,E);function M(P,F){t.run(A,Zm(D),H);function H(V,N,j){N=N||A,V?F(V):P?P(N):E(null,N,j)}}}function y(A,D){let E,M;return c.run(A,D,P),LN("runSync","run",M),E;function P(F,H){TN(F),E=H,M=!0}}function w(A,D){if(c.freeze(),a_("process",c.Parser),l_("process",c.Compiler),!D)return new Promise(E);E(null,D);function E(M,P){const F=Zm(A);c.run(c.parse(F),F,(V,N,j)=>{if(V||!N||!j)H(V);else{const q=c.stringify(N,j);q==null||(She(q)?j.value=q:j.result=q),H(V,j)}});function H(V,N){V||!N?P(V):M?M(N):D(null,N)}}}function x(A){let D;c.freeze(),a_("processSync",c.Parser),l_("processSync",c.Compiler);const E=Zm(A);return c.process(E,M),LN("processSync","process",D),E;function M(P){D=!0,TN(P)}}}function PN(t,r){return typeof t=="function"&&t.prototype&&(Che(t.prototype)||r in t.prototype)}function Che(t){let r;for(r in t)if(jL.call(t,r))return!0;return!1}function a_(t,r){if(typeof r!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function l_(t,r){if(typeof r!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function c_(t,r){if(r)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ON(t){if(!cA(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function LN(t,r,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+r+"` instead")}function Zm(t){return xhe(t)?t:new BL(t)}function xhe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function She(t){return typeof t=="string"||LL(t)}const Ehe={};function Dhe(t,r){const n=Ehe,o=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return FL(t,o,a)}function FL(t,r,n){if(Ihe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(r&&"alt"in t&&t.alt)return t.alt;if("children"in t)return BN(t.children,r,n)}return Array.isArray(t)?BN(t,r,n):""}function BN(t,r,n){const o=[];let a=-1;for(;++a<t.length;)o[a]=FL(t[a],r,n);return o.join("")}function Ihe(t){return!!(t&&typeof t=="object")}function Zl(t,r,n,o){const a=t.length;let c=0,d;if(r<0?r=-r>a?0:a+r:r=r>a?a:r,n=n>0?n:0,o.length<1e4)d=Array.from(o),d.unshift(r,n),t.splice(...d);else for(n&&t.splice(r,n);c<o.length;)d=o.slice(c,c+1e4),d.unshift(r,0),t.splice(...d),c+=1e4,r+=1e4}function Ca(t,r){return t.length>0?(Zl(t,t.length,0,r),t):r}const jN={}.hasOwnProperty;function The(t){const r={};let n=-1;for(;++n<t.length;)Nhe(r,t[n]);return r}function Nhe(t,r){let n;for(n in r){const a=(jN.call(t,n)?t[n]:void 0)||(t[n]={}),c=r[n];let d;if(c)for(d in c){jN.call(a,d)||(a[d]=[]);const f=c[d];Mhe(a[d],Array.isArray(f)?f:f?[f]:[])}}}function Mhe(t,r){let n=-1;const o=[];for(;++n<r.length;)(r[n].add==="after"?t:o).push(r[n]);Zl(t,0,0,o)}const Phe=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Ul=ad(/[A-Za-z]/),zs=ad(/[\dA-Za-z]/),Ohe=ad(/[#-'*+\--9=?A-Z^-~]/);function uA(t){return t!==null&&(t<32||t===127)}const dA=ad(/\d/),Lhe=ad(/[\dA-Fa-f]/),Bhe=ad(/[!-/:-@[-`{-~]/);function hn(t){return t!==null&&t<-2}function ls(t){return t!==null&&(t<0||t===32)}function Jn(t){return t===-2||t===-1||t===32}const jhe=ad(Phe),Rhe=ad(/\s/);function ad(t){return r;function r(n){return n!==null&&t.test(String.fromCharCode(n))}}function Cr(t,r,n,o){const a=o?o-1:Number.POSITIVE_INFINITY;let c=0;return d;function d(p){return Jn(p)?(t.enter(n),f(p)):r(p)}function f(p){return Jn(p)&&c++<a?(t.consume(p),f):(t.exit(n),r(p))}}const Fhe={tokenize:zhe};function zhe(t){const r=t.attempt(this.parser.constructs.contentInitial,o,a);let n;return r;function o(f){if(f===null){t.consume(f);return}return t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Cr(t,r,"linePrefix")}function a(f){return t.enter("paragraph"),c(f)}function c(f){const p=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,d(f)}function d(f){if(f===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(f);return}return hn(f)?(t.consume(f),t.exit("chunkText"),c):(t.consume(f),d)}}const Uhe={tokenize:qhe},RN={tokenize:Vhe};function qhe(t){const r=this,n=[];let o=0,a,c,d;return f;function f(P){if(o<n.length){const F=n[o];return r.containerState=F[1],t.attempt(F[0].continuation,p,g)(P)}return g(P)}function p(P){if(o++,r.containerState._closeFlow){r.containerState._closeFlow=void 0,a&&M();const F=r.events.length;let H=F,V;for(;H--;)if(r.events[H][0]==="exit"&&r.events[H][1].type==="chunkFlow"){V=r.events[H][1].end;break}E(o);let N=F;for(;N<r.events.length;)r.events[N][1].end=Object.assign({},V),N++;return Zl(r.events,H+1,0,r.events.slice(F)),r.events.length=N,g(P)}return f(P)}function g(P){if(o===n.length){if(!a)return y(P);if(a.currentConstruct&&a.currentConstruct.concrete)return x(P);r.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return r.containerState={},t.check(RN,k,v)(P)}function k(P){return a&&M(),E(o),y(P)}function v(P){return r.parser.lazy[r.now().line]=o!==n.length,d=r.now().offset,x(P)}function y(P){return r.containerState={},t.attempt(RN,w,x)(P)}function w(P){return o++,n.push([r.currentConstruct,r.containerState]),y(P)}function x(P){if(P===null){a&&M(),E(0),t.consume(P);return}return a=a||r.parser.flow(r.now()),t.enter("chunkFlow",{contentType:"flow",previous:c,_tokenizer:a}),A(P)}function A(P){if(P===null){D(t.exit("chunkFlow"),!0),E(0),t.consume(P);return}return hn(P)?(t.consume(P),D(t.exit("chunkFlow")),o=0,r.interrupt=void 0,f):(t.consume(P),A)}function D(P,F){const H=r.sliceStream(P);if(F&&H.push(null),P.previous=c,c&&(c.next=P),c=P,a.defineSkip(P.start),a.write(H),r.parser.lazy[P.start.line]){let V=a.events.length;for(;V--;)if(a.events[V][1].start.offset<d&&(!a.events[V][1].end||a.events[V][1].end.offset>d))return;const N=r.events.length;let j=N,q,Q;for(;j--;)if(r.events[j][0]==="exit"&&r.events[j][1].type==="chunkFlow"){if(q){Q=r.events[j][1].end;break}q=!0}for(E(o),V=N;V<r.events.length;)r.events[V][1].end=Object.assign({},Q),V++;Zl(r.events,j+1,0,r.events.slice(N)),r.events.length=V}}function E(P){let F=n.length;for(;F-- >P;){const H=n[F];r.containerState=H[1],H[0].exit.call(r,t)}n.length=P}function M(){a.write([null]),c=void 0,a=void 0,r.containerState._closeFlow=void 0}}function Vhe(t,r,n){return Cr(t,t.attempt(this.parser.constructs.document,r,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function FN(t){if(t===null||ls(t)||Rhe(t))return 1;if(jhe(t))return 2}function TC(t,r,n){const o=[];let a=-1;for(;++a<t.length;){const c=t[a].resolveAll;c&&!o.includes(c)&&(r=c(r,n),o.push(c))}return r}const hA={name:"attention",tokenize:$he,resolveAll:Hhe};function Hhe(t,r){let n=-1,o,a,c,d,f,p,g,k;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(o=n;o--;)if(t[o][0]==="exit"&&t[o][1].type==="attentionSequence"&&t[o][1]._open&&r.sliceSerialize(t[o][1]).charCodeAt(0)===r.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[o][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[o][1].end.offset-t[o][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;p=t[o][1].end.offset-t[o][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const v=Object.assign({},t[o][1].end),y=Object.assign({},t[n][1].start);zN(v,-p),zN(y,p),d={type:p>1?"strongSequence":"emphasisSequence",start:v,end:Object.assign({},t[o][1].end)},f={type:p>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:y},c={type:p>1?"strongText":"emphasisText",start:Object.assign({},t[o][1].end),end:Object.assign({},t[n][1].start)},a={type:p>1?"strong":"emphasis",start:Object.assign({},d.start),end:Object.assign({},f.end)},t[o][1].end=Object.assign({},d.start),t[n][1].start=Object.assign({},f.end),g=[],t[o][1].end.offset-t[o][1].start.offset&&(g=Ca(g,[["enter",t[o][1],r],["exit",t[o][1],r]])),g=Ca(g,[["enter",a,r],["enter",d,r],["exit",d,r],["enter",c,r]]),g=Ca(g,TC(r.parser.constructs.insideSpan.null,t.slice(o+1,n),r)),g=Ca(g,[["exit",c,r],["enter",f,r],["exit",f,r],["exit",a,r]]),t[n][1].end.offset-t[n][1].start.offset?(k=2,g=Ca(g,[["enter",t[n][1],r],["exit",t[n][1],r]])):k=0,Zl(t,o-1,n-o+3,g),n=o+g.length-k-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function $he(t,r){const n=this.parser.constructs.attentionMarkers.null,o=this.previous,a=FN(o);let c;return d;function d(p){return c=p,t.enter("attentionSequence"),f(p)}function f(p){if(p===c)return t.consume(p),f;const g=t.exit("attentionSequence"),k=FN(p),v=!k||k===2&&a||n.includes(p),y=!a||a===2&&k||n.includes(o);return g._open=!!(c===42?v:v&&(a||!y)),g._close=!!(c===42?y:y&&(k||!v)),r(p)}}function zN(t,r){t.column+=r,t.offset+=r,t._bufferIndex+=r}const Whe={name:"autolink",tokenize:Ghe};function Ghe(t,r,n){let o=0;return a;function a(w){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),c}function c(w){return Ul(w)?(t.consume(w),d):g(w)}function d(w){return w===43||w===45||w===46||zs(w)?(o=1,f(w)):g(w)}function f(w){return w===58?(t.consume(w),o=0,p):(w===43||w===45||w===46||zs(w))&&o++<32?(t.consume(w),f):(o=0,g(w))}function p(w){return w===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),r):w===null||w===32||w===60||uA(w)?n(w):(t.consume(w),p)}function g(w){return w===64?(t.consume(w),k):Ohe(w)?(t.consume(w),g):n(w)}function k(w){return zs(w)?v(w):n(w)}function v(w){return w===46?(t.consume(w),o=0,k):w===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),r):y(w)}function y(w){if((w===45||zs(w))&&o++<63){const x=w===45?y:v;return t.consume(w),x}return n(w)}}const iw={tokenize:Yhe,partial:!0};function Yhe(t,r,n){return o;function o(c){return Jn(c)?Cr(t,a,"linePrefix")(c):a(c)}function a(c){return c===null||hn(c)?r(c):n(c)}}const zL={name:"blockQuote",tokenize:Khe,continuation:{tokenize:Qhe},exit:Jhe};function Khe(t,r,n){const o=this;return a;function a(d){if(d===62){const f=o.containerState;return f.open||(t.enter("blockQuote",{_container:!0}),f.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(d),t.exit("blockQuoteMarker"),c}return n(d)}function c(d){return Jn(d)?(t.enter("blockQuotePrefixWhitespace"),t.consume(d),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),r):(t.exit("blockQuotePrefix"),r(d))}}function Qhe(t,r,n){const o=this;return a;function a(d){return Jn(d)?Cr(t,c,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d):c(d)}function c(d){return t.attempt(zL,r,n)(d)}}function Jhe(t){t.exit("blockQuote")}const UL={name:"characterEscape",tokenize:Zhe};function Zhe(t,r,n){return o;function o(c){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(c),t.exit("escapeMarker"),a}function a(c){return Bhe(c)?(t.enter("characterEscapeValue"),t.consume(c),t.exit("characterEscapeValue"),t.exit("characterEscape"),r):n(c)}}const UN=document.createElement("i");function NC(t){const r="&"+t+";";UN.innerHTML=r;const n=UN.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===r?!1:n}const qL={name:"characterReference",tokenize:Xhe};function Xhe(t,r,n){const o=this;let a=0,c,d;return f;function f(v){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(v),t.exit("characterReferenceMarker"),p}function p(v){return v===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(v),t.exit("characterReferenceMarkerNumeric"),g):(t.enter("characterReferenceValue"),c=31,d=zs,k(v))}function g(v){return v===88||v===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(v),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),c=6,d=Lhe,k):(t.enter("characterReferenceValue"),c=7,d=dA,k(v))}function k(v){if(v===59&&a){const y=t.exit("characterReferenceValue");return d===zs&&!NC(o.sliceSerialize(y))?n(v):(t.enter("characterReferenceMarker"),t.consume(v),t.exit("characterReferenceMarker"),t.exit("characterReference"),r)}return d(v)&&a++<c?(t.consume(v),k):n(v)}}const qN={tokenize:tfe,partial:!0},VN={name:"codeFenced",tokenize:efe,concrete:!0};function efe(t,r,n){const o=this,a={tokenize:H,partial:!0};let c=0,d=0,f;return p;function p(V){return g(V)}function g(V){const N=o.events[o.events.length-1];return c=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,f=V,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),k(V)}function k(V){return V===f?(d++,t.consume(V),k):d<3?n(V):(t.exit("codeFencedFenceSequence"),Jn(V)?Cr(t,v,"whitespace")(V):v(V))}function v(V){return V===null||hn(V)?(t.exit("codeFencedFence"),o.interrupt?r(V):t.check(qN,A,F)(V)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),y(V))}function y(V){return V===null||hn(V)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),v(V)):Jn(V)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Cr(t,w,"whitespace")(V)):V===96&&V===f?n(V):(t.consume(V),y)}function w(V){return V===null||hn(V)?v(V):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(V))}function x(V){return V===null||hn(V)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),v(V)):V===96&&V===f?n(V):(t.consume(V),x)}function A(V){return t.attempt(a,F,D)(V)}function D(V){return t.enter("lineEnding"),t.consume(V),t.exit("lineEnding"),E}function E(V){return c>0&&Jn(V)?Cr(t,M,"linePrefix",c+1)(V):M(V)}function M(V){return V===null||hn(V)?t.check(qN,A,F)(V):(t.enter("codeFlowValue"),P(V))}function P(V){return V===null||hn(V)?(t.exit("codeFlowValue"),M(V)):(t.consume(V),P)}function F(V){return t.exit("codeFenced"),r(V)}function H(V,N,j){let q=0;return Q;function Q(ne){return V.enter("lineEnding"),V.consume(ne),V.exit("lineEnding"),$}function $(ne){return V.enter("codeFencedFence"),Jn(ne)?Cr(V,R,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):R(ne)}function R(ne){return ne===f?(V.enter("codeFencedFenceSequence"),Y(ne)):j(ne)}function Y(ne){return ne===f?(q++,V.consume(ne),Y):q>=d?(V.exit("codeFencedFenceSequence"),Jn(ne)?Cr(V,B,"whitespace")(ne):B(ne)):j(ne)}function B(ne){return ne===null||hn(ne)?(V.exit("codeFencedFence"),N(ne)):j(ne)}}}function tfe(t,r,n){const o=this;return a;function a(d){return d===null?n(d):(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),c)}function c(d){return o.parser.lazy[o.now().line]?n(d):r(d)}}const u_={name:"codeIndented",tokenize:rfe},nfe={tokenize:ife,partial:!0};function rfe(t,r,n){const o=this;return a;function a(g){return t.enter("codeIndented"),Cr(t,c,"linePrefix",5)(g)}function c(g){const k=o.events[o.events.length-1];return k&&k[1].type==="linePrefix"&&k[2].sliceSerialize(k[1],!0).length>=4?d(g):n(g)}function d(g){return g===null?p(g):hn(g)?t.attempt(nfe,d,p)(g):(t.enter("codeFlowValue"),f(g))}function f(g){return g===null||hn(g)?(t.exit("codeFlowValue"),d(g)):(t.consume(g),f)}function p(g){return t.exit("codeIndented"),r(g)}}function ife(t,r,n){const o=this;return a;function a(d){return o.parser.lazy[o.now().line]?n(d):hn(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),a):Cr(t,c,"linePrefix",5)(d)}function c(d){const f=o.events[o.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?r(d):hn(d)?a(d):n(d)}}const ofe={name:"codeText",tokenize:lfe,resolve:sfe,previous:afe};function sfe(t){let r=t.length-4,n=3,o,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[r][1].type==="lineEnding"||t[r][1].type==="space")){for(o=n;++o<r;)if(t[o][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[r][1].type="codeTextPadding",n+=2,r-=2;break}}for(o=n-1,r++;++o<=r;)a===void 0?o!==r&&t[o][1].type!=="lineEnding"&&(a=o):(o===r||t[o][1].type==="lineEnding")&&(t[a][1].type="codeTextData",o!==a+2&&(t[a][1].end=t[o-1][1].end,t.splice(a+2,o-a-2),r-=o-a-2,o=a+2),a=void 0);return t}function afe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function lfe(t,r,n){let o=0,a,c;return d;function d(v){return t.enter("codeText"),t.enter("codeTextSequence"),f(v)}function f(v){return v===96?(t.consume(v),o++,f):(t.exit("codeTextSequence"),p(v))}function p(v){return v===null?n(v):v===32?(t.enter("space"),t.consume(v),t.exit("space"),p):v===96?(c=t.enter("codeTextSequence"),a=0,k(v)):hn(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),p):(t.enter("codeTextData"),g(v))}function g(v){return v===null||v===32||v===96||hn(v)?(t.exit("codeTextData"),p(v)):(t.consume(v),g)}function k(v){return v===96?(t.consume(v),a++,k):a===o?(t.exit("codeTextSequence"),t.exit("codeText"),r(v)):(c.type="codeTextData",g(v))}}function VL(t){const r={};let n=-1,o,a,c,d,f,p,g;for(;++n<t.length;){for(;n in r;)n=r[n];if(o=t[n],n&&o[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(p=o[1]._tokenizer.events,c=0,c<p.length&&p[c][1].type==="lineEndingBlank"&&(c+=2),c<p.length&&p[c][1].type==="content"))for(;++c<p.length&&p[c][1].type!=="content";)p[c][1].type==="chunkText"&&(p[c][1]._isInFirstContentOfListItem=!0,c++);if(o[0]==="enter")o[1].contentType&&(Object.assign(r,cfe(t,n)),n=r[n],g=!0);else if(o[1]._container){for(c=n,a=void 0;c--&&(d=t[c],d[1].type==="lineEnding"||d[1].type==="lineEndingBlank");)d[0]==="enter"&&(a&&(t[a][1].type="lineEndingBlank"),d[1].type="lineEnding",a=c);a&&(o[1].end=Object.assign({},t[a][1].start),f=t.slice(a,n),f.unshift(o),Zl(t,a,n-a+1,f))}}return!g}function cfe(t,r){const n=t[r][1],o=t[r][2];let a=r-1;const c=[],d=n._tokenizer||o.parser[n.contentType](n.start),f=d.events,p=[],g={};let k,v,y=-1,w=n,x=0,A=0;const D=[A];for(;w;){for(;t[++a][1]!==w;);c.push(a),w._tokenizer||(k=o.sliceStream(w),w.next||k.push(null),v&&d.defineSkip(w.start),w._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(k),w._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),v=w,w=w.next}for(w=n;++y<f.length;)f[y][0]==="exit"&&f[y-1][0]==="enter"&&f[y][1].type===f[y-1][1].type&&f[y][1].start.line!==f[y][1].end.line&&(A=y+1,D.push(A),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(d.events=[],w?(w._tokenizer=void 0,w.previous=void 0):D.pop(),y=D.length;y--;){const E=f.slice(D[y],D[y+1]),M=c.pop();p.unshift([M,M+E.length-1]),Zl(t,M,2,E)}for(y=-1;++y<p.length;)g[x+p[y][0]]=x+p[y][1],x+=p[y][1]-p[y][0]-1;return g}const ufe={tokenize:ffe,resolve:hfe},dfe={tokenize:pfe,partial:!0};function hfe(t){return VL(t),t}function ffe(t,r){let n;return o;function o(f){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(f)}function a(f){return f===null?c(f):hn(f)?t.check(dfe,d,c)(f):(t.consume(f),a)}function c(f){return t.exit("chunkContent"),t.exit("content"),r(f)}function d(f){return t.consume(f),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function pfe(t,r,n){const o=this;return a;function a(d){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),Cr(t,c,"linePrefix")}function c(d){if(d===null||hn(d))return n(d);const f=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?r(d):t.interrupt(o.parser.constructs.flow,n,r)(d)}}function HL(t,r,n,o,a,c,d,f,p){const g=p||Number.POSITIVE_INFINITY;let k=0;return v;function v(E){return E===60?(t.enter(o),t.enter(a),t.enter(c),t.consume(E),t.exit(c),y):E===null||E===32||E===41||uA(E)?n(E):(t.enter(o),t.enter(d),t.enter(f),t.enter("chunkString",{contentType:"string"}),A(E))}function y(E){return E===62?(t.enter(c),t.consume(E),t.exit(c),t.exit(a),t.exit(o),r):(t.enter(f),t.enter("chunkString",{contentType:"string"}),w(E))}function w(E){return E===62?(t.exit("chunkString"),t.exit(f),y(E)):E===null||E===60||hn(E)?n(E):(t.consume(E),E===92?x:w)}function x(E){return E===60||E===62||E===92?(t.consume(E),w):w(E)}function A(E){return!k&&(E===null||E===41||ls(E))?(t.exit("chunkString"),t.exit(f),t.exit(d),t.exit(o),r(E)):k<g&&E===40?(t.consume(E),k++,A):E===41?(t.consume(E),k--,A):E===null||E===32||E===40||uA(E)?n(E):(t.consume(E),E===92?D:A)}function D(E){return E===40||E===41||E===92?(t.consume(E),A):A(E)}}function $L(t,r,n,o,a,c){const d=this;let f=0,p;return g;function g(w){return t.enter(o),t.enter(a),t.consume(w),t.exit(a),t.enter(c),k}function k(w){return f>999||w===null||w===91||w===93&&!p||w===94&&!f&&"_hiddenFootnoteSupport"in d.parser.constructs?n(w):w===93?(t.exit(c),t.enter(a),t.consume(w),t.exit(a),t.exit(o),r):hn(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),k):(t.enter("chunkString",{contentType:"string"}),v(w))}function v(w){return w===null||w===91||w===93||hn(w)||f++>999?(t.exit("chunkString"),k(w)):(t.consume(w),p||(p=!Jn(w)),w===92?y:v)}function y(w){return w===91||w===92||w===93?(t.consume(w),f++,v):v(w)}}function WL(t,r,n,o,a,c){let d;return f;function f(y){return y===34||y===39||y===40?(t.enter(o),t.enter(a),t.consume(y),t.exit(a),d=y===40?41:y,p):n(y)}function p(y){return y===d?(t.enter(a),t.consume(y),t.exit(a),t.exit(o),r):(t.enter(c),g(y))}function g(y){return y===d?(t.exit(c),p(d)):y===null?n(y):hn(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),Cr(t,g,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),k(y))}function k(y){return y===d||y===null||hn(y)?(t.exit("chunkString"),g(y)):(t.consume(y),y===92?v:k)}function v(y){return y===d||y===92?(t.consume(y),k):k(y)}}function wg(t,r){let n;return o;function o(a){return hn(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,o):Jn(a)?Cr(t,o,n?"linePrefix":"lineSuffix")(a):r(a)}}function ap(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const mfe={name:"definition",tokenize:bfe},gfe={tokenize:kfe,partial:!0};function bfe(t,r,n){const o=this;let a;return c;function c(w){return t.enter("definition"),d(w)}function d(w){return $L.call(o,t,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function f(w){return a=ap(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),p):n(w)}function p(w){return ls(w)?wg(t,g)(w):g(w)}function g(w){return HL(t,k,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function k(w){return t.attempt(gfe,v,v)(w)}function v(w){return Jn(w)?Cr(t,y,"whitespace")(w):y(w)}function y(w){return w===null||hn(w)?(t.exit("definition"),o.parser.defined.push(a),r(w)):n(w)}}function kfe(t,r,n){return o;function o(f){return ls(f)?wg(t,a)(f):n(f)}function a(f){return WL(t,c,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function c(f){return Jn(f)?Cr(t,d,"whitespace")(f):d(f)}function d(f){return f===null||hn(f)?r(f):n(f)}}const wfe={name:"hardBreakEscape",tokenize:yfe};function yfe(t,r,n){return o;function o(c){return t.enter("hardBreakEscape"),t.consume(c),a}function a(c){return hn(c)?(t.exit("hardBreakEscape"),r(c)):n(c)}}const vfe={name:"headingAtx",tokenize:Afe,resolve:_fe};function _fe(t,r){let n=t.length-2,o=3,a,c;return t[o][1].type==="whitespace"&&(o+=2),n-2>o&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(o===n-1||n-4>o&&t[n-2][1].type==="whitespace")&&(n-=o+1===n?2:4),n>o&&(a={type:"atxHeadingText",start:t[o][1].start,end:t[n][1].end},c={type:"chunkText",start:t[o][1].start,end:t[n][1].end,contentType:"text"},Zl(t,o,n-o+1,[["enter",a,r],["enter",c,r],["exit",c,r],["exit",a,r]])),t}function Afe(t,r,n){let o=0;return a;function a(k){return t.enter("atxHeading"),c(k)}function c(k){return t.enter("atxHeadingSequence"),d(k)}function d(k){return k===35&&o++<6?(t.consume(k),d):k===null||ls(k)?(t.exit("atxHeadingSequence"),f(k)):n(k)}function f(k){return k===35?(t.enter("atxHeadingSequence"),p(k)):k===null||hn(k)?(t.exit("atxHeading"),r(k)):Jn(k)?Cr(t,f,"whitespace")(k):(t.enter("atxHeadingText"),g(k))}function p(k){return k===35?(t.consume(k),p):(t.exit("atxHeadingSequence"),f(k))}function g(k){return k===null||k===35||ls(k)?(t.exit("atxHeadingText"),f(k)):(t.consume(k),g)}}const Cfe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],HN=["pre","script","style","textarea"],xfe={name:"htmlFlow",tokenize:Ife,resolveTo:Dfe,concrete:!0},Sfe={tokenize:Nfe,partial:!0},Efe={tokenize:Tfe,partial:!0};function Dfe(t){let r=t.length;for(;r--&&!(t[r][0]==="enter"&&t[r][1].type==="htmlFlow"););return r>1&&t[r-2][1].type==="linePrefix"&&(t[r][1].start=t[r-2][1].start,t[r+1][1].start=t[r-2][1].start,t.splice(r-2,2)),t}function Ife(t,r,n){const o=this;let a,c,d,f,p;return g;function g(Z){return k(Z)}function k(Z){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(Z),v}function v(Z){return Z===33?(t.consume(Z),y):Z===47?(t.consume(Z),c=!0,A):Z===63?(t.consume(Z),a=3,o.interrupt?r:re):Ul(Z)?(t.consume(Z),d=String.fromCharCode(Z),D):n(Z)}function y(Z){return Z===45?(t.consume(Z),a=2,w):Z===91?(t.consume(Z),a=5,f=0,x):Ul(Z)?(t.consume(Z),a=4,o.interrupt?r:re):n(Z)}function w(Z){return Z===45?(t.consume(Z),o.interrupt?r:re):n(Z)}function x(Z){const se="CDATA[";return Z===se.charCodeAt(f++)?(t.consume(Z),f===se.length?o.interrupt?r:R:x):n(Z)}function A(Z){return Ul(Z)?(t.consume(Z),d=String.fromCharCode(Z),D):n(Z)}function D(Z){if(Z===null||Z===47||Z===62||ls(Z)){const se=Z===47,pe=d.toLowerCase();return!se&&!c&&HN.includes(pe)?(a=1,o.interrupt?r(Z):R(Z)):Cfe.includes(d.toLowerCase())?(a=6,se?(t.consume(Z),E):o.interrupt?r(Z):R(Z)):(a=7,o.interrupt&&!o.parser.lazy[o.now().line]?n(Z):c?M(Z):P(Z))}return Z===45||zs(Z)?(t.consume(Z),d+=String.fromCharCode(Z),D):n(Z)}function E(Z){return Z===62?(t.consume(Z),o.interrupt?r:R):n(Z)}function M(Z){return Jn(Z)?(t.consume(Z),M):Q(Z)}function P(Z){return Z===47?(t.consume(Z),Q):Z===58||Z===95||Ul(Z)?(t.consume(Z),F):Jn(Z)?(t.consume(Z),P):Q(Z)}function F(Z){return Z===45||Z===46||Z===58||Z===95||zs(Z)?(t.consume(Z),F):H(Z)}function H(Z){return Z===61?(t.consume(Z),V):Jn(Z)?(t.consume(Z),H):P(Z)}function V(Z){return Z===null||Z===60||Z===61||Z===62||Z===96?n(Z):Z===34||Z===39?(t.consume(Z),p=Z,N):Jn(Z)?(t.consume(Z),V):j(Z)}function N(Z){return Z===p?(t.consume(Z),p=null,q):Z===null||hn(Z)?n(Z):(t.consume(Z),N)}function j(Z){return Z===null||Z===34||Z===39||Z===47||Z===60||Z===61||Z===62||Z===96||ls(Z)?H(Z):(t.consume(Z),j)}function q(Z){return Z===47||Z===62||Jn(Z)?P(Z):n(Z)}function Q(Z){return Z===62?(t.consume(Z),$):n(Z)}function $(Z){return Z===null||hn(Z)?R(Z):Jn(Z)?(t.consume(Z),$):n(Z)}function R(Z){return Z===45&&a===2?(t.consume(Z),de):Z===60&&a===1?(t.consume(Z),ae):Z===62&&a===4?(t.consume(Z),xe):Z===63&&a===3?(t.consume(Z),re):Z===93&&a===5?(t.consume(Z),ye):hn(Z)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(Sfe,X,Y)(Z)):Z===null||hn(Z)?(t.exit("htmlFlowData"),Y(Z)):(t.consume(Z),R)}function Y(Z){return t.check(Efe,B,X)(Z)}function B(Z){return t.enter("lineEnding"),t.consume(Z),t.exit("lineEnding"),ne}function ne(Z){return Z===null||hn(Z)?Y(Z):(t.enter("htmlFlowData"),R(Z))}function de(Z){return Z===45?(t.consume(Z),re):R(Z)}function ae(Z){return Z===47?(t.consume(Z),d="",oe):R(Z)}function oe(Z){if(Z===62){const se=d.toLowerCase();return HN.includes(se)?(t.consume(Z),xe):R(Z)}return Ul(Z)&&d.length<8?(t.consume(Z),d+=String.fromCharCode(Z),oe):R(Z)}function ye(Z){return Z===93?(t.consume(Z),re):R(Z)}function re(Z){return Z===62?(t.consume(Z),xe):Z===45&&a===2?(t.consume(Z),re):R(Z)}function xe(Z){return Z===null||hn(Z)?(t.exit("htmlFlowData"),X(Z)):(t.consume(Z),xe)}function X(Z){return t.exit("htmlFlow"),r(Z)}}function Tfe(t,r,n){const o=this;return a;function a(d){return hn(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),c):n(d)}function c(d){return o.parser.lazy[o.now().line]?n(d):r(d)}}function Nfe(t,r,n){return o;function o(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(iw,r,n)}}const Mfe={name:"htmlText",tokenize:Pfe};function Pfe(t,r,n){const o=this;let a,c,d;return f;function f(re){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(re),p}function p(re){return re===33?(t.consume(re),g):re===47?(t.consume(re),H):re===63?(t.consume(re),P):Ul(re)?(t.consume(re),j):n(re)}function g(re){return re===45?(t.consume(re),k):re===91?(t.consume(re),c=0,x):Ul(re)?(t.consume(re),M):n(re)}function k(re){return re===45?(t.consume(re),w):n(re)}function v(re){return re===null?n(re):re===45?(t.consume(re),y):hn(re)?(d=v,ae(re)):(t.consume(re),v)}function y(re){return re===45?(t.consume(re),w):v(re)}function w(re){return re===62?de(re):re===45?y(re):v(re)}function x(re){const xe="CDATA[";return re===xe.charCodeAt(c++)?(t.consume(re),c===xe.length?A:x):n(re)}function A(re){return re===null?n(re):re===93?(t.consume(re),D):hn(re)?(d=A,ae(re)):(t.consume(re),A)}function D(re){return re===93?(t.consume(re),E):A(re)}function E(re){return re===62?de(re):re===93?(t.consume(re),E):A(re)}function M(re){return re===null||re===62?de(re):hn(re)?(d=M,ae(re)):(t.consume(re),M)}function P(re){return re===null?n(re):re===63?(t.consume(re),F):hn(re)?(d=P,ae(re)):(t.consume(re),P)}function F(re){return re===62?de(re):P(re)}function H(re){return Ul(re)?(t.consume(re),V):n(re)}function V(re){return re===45||zs(re)?(t.consume(re),V):N(re)}function N(re){return hn(re)?(d=N,ae(re)):Jn(re)?(t.consume(re),N):de(re)}function j(re){return re===45||zs(re)?(t.consume(re),j):re===47||re===62||ls(re)?q(re):n(re)}function q(re){return re===47?(t.consume(re),de):re===58||re===95||Ul(re)?(t.consume(re),Q):hn(re)?(d=q,ae(re)):Jn(re)?(t.consume(re),q):de(re)}function Q(re){return re===45||re===46||re===58||re===95||zs(re)?(t.consume(re),Q):$(re)}function $(re){return re===61?(t.consume(re),R):hn(re)?(d=$,ae(re)):Jn(re)?(t.consume(re),$):q(re)}function R(re){return re===null||re===60||re===61||re===62||re===96?n(re):re===34||re===39?(t.consume(re),a=re,Y):hn(re)?(d=R,ae(re)):Jn(re)?(t.consume(re),R):(t.consume(re),B)}function Y(re){return re===a?(t.consume(re),a=void 0,ne):re===null?n(re):hn(re)?(d=Y,ae(re)):(t.consume(re),Y)}function B(re){return re===null||re===34||re===39||re===60||re===61||re===96?n(re):re===47||re===62||ls(re)?q(re):(t.consume(re),B)}function ne(re){return re===47||re===62||ls(re)?q(re):n(re)}function de(re){return re===62?(t.consume(re),t.exit("htmlTextData"),t.exit("htmlText"),r):n(re)}function ae(re){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(re),t.exit("lineEnding"),oe}function oe(re){return Jn(re)?Cr(t,ye,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(re):ye(re)}function ye(re){return t.enter("htmlTextData"),d(re)}}const MC={name:"labelEnd",tokenize:Ffe,resolveTo:Rfe,resolveAll:jfe},Ofe={tokenize:zfe},Lfe={tokenize:Ufe},Bfe={tokenize:qfe};function jfe(t){let r=-1;for(;++r<t.length;){const n=t[r][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(r+1,n.type==="labelImage"?4:2),n.type="data",r++)}return t}function Rfe(t,r){let n=t.length,o=0,a,c,d,f;for(;n--;)if(a=t[n][1],c){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(d){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(c=n,a.type!=="labelLink")){o=2;break}}else a.type==="labelEnd"&&(d=n);const p={type:t[c][1].type==="labelLink"?"link":"image",start:Object.assign({},t[c][1].start),end:Object.assign({},t[t.length-1][1].end)},g={type:"label",start:Object.assign({},t[c][1].start),end:Object.assign({},t[d][1].end)},k={type:"labelText",start:Object.assign({},t[c+o+2][1].end),end:Object.assign({},t[d-2][1].start)};return f=[["enter",p,r],["enter",g,r]],f=Ca(f,t.slice(c+1,c+o+3)),f=Ca(f,[["enter",k,r]]),f=Ca(f,TC(r.parser.constructs.insideSpan.null,t.slice(c+o+4,d-3),r)),f=Ca(f,[["exit",k,r],t[d-2],t[d-1],["exit",g,r]]),f=Ca(f,t.slice(d+1)),f=Ca(f,[["exit",p,r]]),Zl(t,c,t.length,f),t}function Ffe(t,r,n){const o=this;let a=o.events.length,c,d;for(;a--;)if((o.events[a][1].type==="labelImage"||o.events[a][1].type==="labelLink")&&!o.events[a][1]._balanced){c=o.events[a][1];break}return f;function f(y){return c?c._inactive?v(y):(d=o.parser.defined.includes(ap(o.sliceSerialize({start:c.end,end:o.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(y),t.exit("labelMarker"),t.exit("labelEnd"),p):n(y)}function p(y){return y===40?t.attempt(Ofe,k,d?k:v)(y):y===91?t.attempt(Lfe,k,d?g:v)(y):d?k(y):v(y)}function g(y){return t.attempt(Bfe,k,v)(y)}function k(y){return r(y)}function v(y){return c._balanced=!0,n(y)}}function zfe(t,r,n){return o;function o(v){return t.enter("resource"),t.enter("resourceMarker"),t.consume(v),t.exit("resourceMarker"),a}function a(v){return ls(v)?wg(t,c)(v):c(v)}function c(v){return v===41?k(v):HL(t,d,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(v)}function d(v){return ls(v)?wg(t,p)(v):k(v)}function f(v){return n(v)}function p(v){return v===34||v===39||v===40?WL(t,g,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(v):k(v)}function g(v){return ls(v)?wg(t,k)(v):k(v)}function k(v){return v===41?(t.enter("resourceMarker"),t.consume(v),t.exit("resourceMarker"),t.exit("resource"),r):n(v)}}function Ufe(t,r,n){const o=this;return a;function a(f){return $L.call(o,t,c,d,"reference","referenceMarker","referenceString")(f)}function c(f){return o.parser.defined.includes(ap(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)))?r(f):n(f)}function d(f){return n(f)}}function qfe(t,r,n){return o;function o(c){return t.enter("reference"),t.enter("referenceMarker"),t.consume(c),t.exit("referenceMarker"),a}function a(c){return c===93?(t.enter("referenceMarker"),t.consume(c),t.exit("referenceMarker"),t.exit("reference"),r):n(c)}}const Vfe={name:"labelStartImage",tokenize:Hfe,resolveAll:MC.resolveAll};function Hfe(t,r,n){const o=this;return a;function a(f){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(f),t.exit("labelImageMarker"),c}function c(f){return f===91?(t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelImage"),d):n(f)}function d(f){return f===94&&"_hiddenFootnoteSupport"in o.parser.constructs?n(f):r(f)}}const $fe={name:"labelStartLink",tokenize:Wfe,resolveAll:MC.resolveAll};function Wfe(t,r,n){const o=this;return a;function a(d){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelLink"),c}function c(d){return d===94&&"_hiddenFootnoteSupport"in o.parser.constructs?n(d):r(d)}}const d_={name:"lineEnding",tokenize:Gfe};function Gfe(t,r){return n;function n(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Cr(t,r,"linePrefix")}}const _k={name:"thematicBreak",tokenize:Yfe};function Yfe(t,r,n){let o=0,a;return c;function c(g){return t.enter("thematicBreak"),d(g)}function d(g){return a=g,f(g)}function f(g){return g===a?(t.enter("thematicBreakSequence"),p(g)):o>=3&&(g===null||hn(g))?(t.exit("thematicBreak"),r(g)):n(g)}function p(g){return g===a?(t.consume(g),o++,p):(t.exit("thematicBreakSequence"),Jn(g)?Cr(t,f,"whitespace")(g):f(g))}}const os={name:"list",tokenize:Jfe,continuation:{tokenize:Zfe},exit:epe},Kfe={tokenize:tpe,partial:!0},Qfe={tokenize:Xfe,partial:!0};function Jfe(t,r,n){const o=this,a=o.events[o.events.length-1];let c=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,d=0;return f;function f(w){const x=o.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!o.containerState.marker||w===o.containerState.marker:dA(w)){if(o.containerState.type||(o.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),w===42||w===45?t.check(_k,n,g)(w):g(w);if(!o.interrupt||w===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(w)}return n(w)}function p(w){return dA(w)&&++d<10?(t.consume(w),p):(!o.interrupt||d<2)&&(o.containerState.marker?w===o.containerState.marker:w===41||w===46)?(t.exit("listItemValue"),g(w)):n(w)}function g(w){return t.enter("listItemMarker"),t.consume(w),t.exit("listItemMarker"),o.containerState.marker=o.containerState.marker||w,t.check(iw,o.interrupt?n:k,t.attempt(Kfe,y,v))}function k(w){return o.containerState.initialBlankLine=!0,c++,y(w)}function v(w){return Jn(w)?(t.enter("listItemPrefixWhitespace"),t.consume(w),t.exit("listItemPrefixWhitespace"),y):n(w)}function y(w){return o.containerState.size=c+o.sliceSerialize(t.exit("listItemPrefix"),!0).length,r(w)}}function Zfe(t,r,n){const o=this;return o.containerState._closeFlow=void 0,t.check(iw,a,c);function a(f){return o.containerState.furtherBlankLines=o.containerState.furtherBlankLines||o.containerState.initialBlankLine,Cr(t,r,"listItemIndent",o.containerState.size+1)(f)}function c(f){return o.containerState.furtherBlankLines||!Jn(f)?(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,d(f)):(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,t.attempt(Qfe,r,d)(f))}function d(f){return o.containerState._closeFlow=!0,o.interrupt=void 0,Cr(t,t.attempt(os,r,n),"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function Xfe(t,r,n){const o=this;return Cr(t,a,"listItemIndent",o.containerState.size+1);function a(c){const d=o.events[o.events.length-1];return d&&d[1].type==="listItemIndent"&&d[2].sliceSerialize(d[1],!0).length===o.containerState.size?r(c):n(c)}}function epe(t){t.exit(this.containerState.type)}function tpe(t,r,n){const o=this;return Cr(t,a,"listItemPrefixWhitespace",o.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(c){const d=o.events[o.events.length-1];return!Jn(c)&&d&&d[1].type==="listItemPrefixWhitespace"?r(c):n(c)}}const $N={name:"setextUnderline",tokenize:rpe,resolveTo:npe};function npe(t,r){let n=t.length,o,a,c;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){o=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!c&&t[n][1].type==="definition"&&(c=n);const d={type:"setextHeading",start:Object.assign({},t[a][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[a][1].type="setextHeadingText",c?(t.splice(a,0,["enter",d,r]),t.splice(c+1,0,["exit",t[o][1],r]),t[o][1].end=Object.assign({},t[c][1].end)):t[o][1]=d,t.push(["exit",d,r]),t}function rpe(t,r,n){const o=this;let a;return c;function c(g){let k=o.events.length,v;for(;k--;)if(o.events[k][1].type!=="lineEnding"&&o.events[k][1].type!=="linePrefix"&&o.events[k][1].type!=="content"){v=o.events[k][1].type==="paragraph";break}return!o.parser.lazy[o.now().line]&&(o.interrupt||v)?(t.enter("setextHeadingLine"),a=g,d(g)):n(g)}function d(g){return t.enter("setextHeadingLineSequence"),f(g)}function f(g){return g===a?(t.consume(g),f):(t.exit("setextHeadingLineSequence"),Jn(g)?Cr(t,p,"lineSuffix")(g):p(g))}function p(g){return g===null||hn(g)?(t.exit("setextHeadingLine"),r(g)):n(g)}}const ipe={tokenize:ope};function ope(t){const r=this,n=t.attempt(iw,o,t.attempt(this.parser.constructs.flowInitial,a,Cr(t,t.attempt(this.parser.constructs.flow,a,t.attempt(ufe,a)),"linePrefix")));return n;function o(c){if(c===null){t.consume(c);return}return t.enter("lineEndingBlank"),t.consume(c),t.exit("lineEndingBlank"),r.currentConstruct=void 0,n}function a(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),r.currentConstruct=void 0,n}}const spe={resolveAll:YL()},ape=GL("string"),lpe=GL("text");function GL(t){return{tokenize:r,resolveAll:YL(t==="text"?cpe:void 0)};function r(n){const o=this,a=this.parser.constructs[t],c=n.attempt(a,d,f);return d;function d(k){return g(k)?c(k):f(k)}function f(k){if(k===null){n.consume(k);return}return n.enter("data"),n.consume(k),p}function p(k){return g(k)?(n.exit("data"),c(k)):(n.consume(k),p)}function g(k){if(k===null)return!0;const v=a[k];let y=-1;if(v)for(;++y<v.length;){const w=v[y];if(!w.previous||w.previous.call(o,o.previous))return!0}return!1}}}function YL(t){return r;function r(n,o){let a=-1,c;for(;++a<=n.length;)c===void 0?n[a]&&n[a][1].type==="data"&&(c=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==c+2&&(n[c][1].end=n[a-1][1].end,n.splice(c+2,a-c-2),a=c+2),c=void 0);return t?t(n,o):n}}function cpe(t,r){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const o=t[n-1][1],a=r.sliceStream(o);let c=a.length,d=-1,f=0,p;for(;c--;){const g=a[c];if(typeof g=="string"){for(d=g.length;g.charCodeAt(d-1)===32;)f++,d--;if(d)break;d=-1}else if(g===-2)p=!0,f++;else if(g!==-1){c++;break}}if(f){const g={type:n===t.length||p||f<2?"lineSuffix":"hardBreakTrailing",start:{line:o.end.line,column:o.end.column-f,offset:o.end.offset-f,_index:o.start._index+c,_bufferIndex:c?d:o.start._bufferIndex+d},end:Object.assign({},o.end)};o.end=Object.assign({},g.start),o.start.offset===o.end.offset?Object.assign(o,g):(t.splice(n,0,["enter",g,r],["exit",g,r]),n+=2)}n++}return t}function upe(t,r,n){let o=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const a={},c=[];let d=[],f=[];const p={consume:M,enter:P,exit:F,attempt:N(H),check:N(V),interrupt:N(V,{interrupt:!0})},g={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:w,sliceSerialize:y,now:x,defineSkip:A,write:v};let k=r.tokenize.call(g,p);return r.resolveAll&&c.push(r),g;function v($){return d=Ca(d,$),D(),d[d.length-1]!==null?[]:(j(r,0),g.events=TC(c,g.events,g),g.events)}function y($,R){return hpe(w($),R)}function w($){return dpe(d,$)}function x(){const{line:$,column:R,offset:Y,_index:B,_bufferIndex:ne}=o;return{line:$,column:R,offset:Y,_index:B,_bufferIndex:ne}}function A($){a[$.line]=$.column,Q()}function D(){let $;for(;o._index<d.length;){const R=d[o._index];if(typeof R=="string")for($=o._index,o._bufferIndex<0&&(o._bufferIndex=0);o._index===$&&o._bufferIndex<R.length;)E(R.charCodeAt(o._bufferIndex));else E(R)}}function E($){k=k($)}function M($){hn($)?(o.line++,o.column=1,o.offset+=$===-3?2:1,Q()):$!==-1&&(o.column++,o.offset++),o._bufferIndex<0?o._index++:(o._bufferIndex++,o._bufferIndex===d[o._index].length&&(o._bufferIndex=-1,o._index++)),g.previous=$}function P($,R){const Y=R||{};return Y.type=$,Y.start=x(),g.events.push(["enter",Y,g]),f.push(Y),Y}function F($){const R=f.pop();return R.end=x(),g.events.push(["exit",R,g]),R}function H($,R){j($,R.from)}function V($,R){R.restore()}function N($,R){return Y;function Y(B,ne,de){let ae,oe,ye,re;return Array.isArray(B)?X(B):"tokenize"in B?X([B]):xe(B);function xe(we){return Pe;function Pe(Te){const Ne=Te!==null&&we[Te],rt=Te!==null&&we.null,Ke=[...Array.isArray(Ne)?Ne:Ne?[Ne]:[],...Array.isArray(rt)?rt:rt?[rt]:[]];return X(Ke)(Te)}}function X(we){return ae=we,oe=0,we.length===0?de:Z(we[oe])}function Z(we){return Pe;function Pe(Te){return re=q(),ye=we,we.partial||(g.currentConstruct=we),we.name&&g.parser.constructs.disable.null.includes(we.name)?pe():we.tokenize.call(R?Object.assign(Object.create(g),R):g,p,se,pe)(Te)}}function se(we){return $(ye,re),ne}function pe(we){return re.restore(),++oe<ae.length?Z(ae[oe]):de}}}function j($,R){$.resolveAll&&!c.includes($)&&c.push($),$.resolve&&Zl(g.events,R,g.events.length-R,$.resolve(g.events.slice(R),g)),$.resolveTo&&(g.events=$.resolveTo(g.events,g))}function q(){const $=x(),R=g.previous,Y=g.currentConstruct,B=g.events.length,ne=Array.from(f);return{restore:de,from:B};function de(){o=$,g.previous=R,g.currentConstruct=Y,g.events.length=B,f=ne,Q()}}function Q(){o.line in a&&o.column<2&&(o.column=a[o.line],o.offset+=a[o.line]-1)}}function dpe(t,r){const n=r.start._index,o=r.start._bufferIndex,a=r.end._index,c=r.end._bufferIndex;let d;if(n===a)d=[t[n].slice(o,c)];else{if(d=t.slice(n,a),o>-1){const f=d[0];typeof f=="string"?d[0]=f.slice(o):d.shift()}c>0&&d.push(t[a].slice(0,c))}return d}function hpe(t,r){let n=-1;const o=[];let a;for(;++n<t.length;){const c=t[n];let d;if(typeof c=="string")d=c;else switch(c){case-5:{d="\r";break}case-4:{d=`
`;break}case-3:{d=`\r
`;break}case-2:{d=r?" ":"	";break}case-1:{if(!r&&a)continue;d=" ";break}default:d=String.fromCharCode(c)}a=c===-2,o.push(d)}return o.join("")}const fpe={42:os,43:os,45:os,48:os,49:os,50:os,51:os,52:os,53:os,54:os,55:os,56:os,57:os,62:zL},ppe={91:mfe},mpe={[-2]:u_,[-1]:u_,32:u_},gpe={35:vfe,42:_k,45:[$N,_k],60:xfe,61:$N,95:_k,96:VN,126:VN},bpe={38:qL,92:UL},kpe={[-5]:d_,[-4]:d_,[-3]:d_,33:Vfe,38:qL,42:hA,60:[Whe,Mfe],91:$fe,92:[wfe,UL],93:MC,95:hA,96:ofe},wpe={null:[hA,spe]},ype={null:[42,95]},vpe={null:[]},_pe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ype,contentInitial:ppe,disable:vpe,document:fpe,flow:gpe,flowInitial:mpe,insideSpan:wpe,string:bpe,text:kpe},Symbol.toStringTag,{value:"Module"}));function Ape(t){const n=The([_pe,...(t||{}).extensions||[]]),o={defined:[],lazy:{},constructs:n,content:a(Fhe),document:a(Uhe),flow:a(ipe),string:a(ape),text:a(lpe)};return o;function a(c){return d;function d(f){return upe(o,c,f)}}}const WN=/[\0\t\n\r]/g;function Cpe(){let t=1,r="",n=!0,o;return a;function a(c,d,f){const p=[];let g,k,v,y,w;for(c=r+c.toString(d),v=0,r="",n&&(c.charCodeAt(0)===65279&&v++,n=void 0);v<c.length;){if(WN.lastIndex=v,g=WN.exec(c),y=g&&g.index!==void 0?g.index:c.length,w=c.charCodeAt(y),!g){r=c.slice(v);break}if(w===10&&v===y&&o)p.push(-3),o=void 0;else switch(o&&(p.push(-5),o=void 0),v<y&&(p.push(c.slice(v,y)),t+=y-v),w){case 0:{p.push(65533),t++;break}case 9:{for(k=Math.ceil(t/4)*4,p.push(-2);t++<k;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:o=!0,t=1}v=y+1}return f&&(o&&p.push(-5),r&&p.push(r),p.push(null)),p}}function xpe(t){for(;!VL(t););return t}function KL(t,r){const n=Number.parseInt(t,r);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCharCode(n)}const Spe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Epe(t){return t.replace(Spe,Dpe)}function Dpe(t,r,n){if(r)return r;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),c=a===120||a===88;return KL(n.slice(c?2:1),c?16:10)}return NC(n)||t}const QL={}.hasOwnProperty,Ipe=function(t,r,n){return typeof r!="string"&&(n=r,r=void 0),Tpe(n)(xpe(Ape(n).document().write(Cpe()(t,r,!0))))};function Tpe(t){const r={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:f(Me),autolinkProtocol:$,autolinkEmail:$,atxHeading:f(ue),blockQuote:f(Ke),characterEscape:$,characterReference:$,codeFenced:f(Qe),codeFencedFenceInfo:p,codeFencedFenceMeta:p,codeIndented:f(Qe,p),codeText:f(ze,p),codeTextData:$,data:$,codeFlowValue:$,definition:f(J),definitionDestinationString:p,definitionLabelString:p,definitionTitleString:p,emphasis:f(Ce),hardBreakEscape:f(ge),hardBreakTrailing:f(ge),htmlFlow:f(he,p),htmlFlowData:$,htmlText:f(he,p),htmlTextData:$,image:f(_e),label:p,link:f(Me),listItem:f(Ae),listItemValue:x,listOrdered:f(Ie,w),listUnordered:f(Ie),paragraph:f(Oe),reference:pe,referenceString:p,resourceDestinationString:p,resourceTitleString:p,setextHeading:f(ue),strong:f(Ge),thematicBreak:f(dt)},exit:{atxHeading:k(),atxHeadingSequence:N,autolink:k(),autolinkEmail:rt,autolinkProtocol:Ne,blockQuote:k(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:Pe,characterReferenceMarkerNumeric:Pe,characterReferenceValue:Te,codeFenced:k(M),codeFencedFence:E,codeFencedFenceInfo:A,codeFencedFenceMeta:D,codeFlowValue:R,codeIndented:k(P),codeText:k(ae),codeTextData:R,data:R,definition:k(),definitionDestinationString:V,definitionLabelString:F,definitionTitleString:H,emphasis:k(),hardBreakEscape:k(B),hardBreakTrailing:k(B),htmlFlow:k(ne),htmlFlowData:R,htmlText:k(de),htmlTextData:R,image:k(ye),label:xe,labelText:re,lineEnding:Y,link:k(oe),listItem:k(),listOrdered:k(),listUnordered:k(),paragraph:k(),referenceString:we,resourceDestinationString:X,resourceTitleString:Z,resource:se,setextHeading:k(Q),setextHeadingLineSequence:q,setextHeadingText:j,strong:k(),thematicBreak:k()}};JL(r,(t||{}).mdastExtensions||[]);const n={};return o;function o(Ue){let We={type:"root",children:[]};const Ye={stack:[We],tokenStack:[],config:r,enter:g,exit:v,buffer:p,resume:y,setData:c,getData:d},St=[];let ht=-1;for(;++ht<Ue.length;)if(Ue[ht][1].type==="listOrdered"||Ue[ht][1].type==="listUnordered")if(Ue[ht][0]==="enter")St.push(ht);else{const tn=St.pop();ht=a(Ue,tn,ht)}for(ht=-1;++ht<Ue.length;){const tn=r[Ue[ht][0]];QL.call(tn,Ue[ht][1].type)&&tn[Ue[ht][1].type].call(Object.assign({sliceSerialize:Ue[ht][2].sliceSerialize},Ye),Ue[ht][1])}if(Ye.tokenStack.length>0){const tn=Ye.tokenStack[Ye.tokenStack.length-1];(tn[1]||GN).call(Ye,void 0,tn[0])}for(We.position={start:Ou(Ue.length>0?Ue[0][1].start:{line:1,column:1,offset:0}),end:Ou(Ue.length>0?Ue[Ue.length-2][1].end:{line:1,column:1,offset:0})},ht=-1;++ht<r.transforms.length;)We=r.transforms[ht](We)||We;return We}function a(Ue,We,Ye){let St=We-1,ht=-1,tn=!1,pt,Vt,Rt,zt;for(;++St<=Ye;){const Yt=Ue[St];if(Yt[1].type==="listUnordered"||Yt[1].type==="listOrdered"||Yt[1].type==="blockQuote"?(Yt[0]==="enter"?ht++:ht--,zt=void 0):Yt[1].type==="lineEndingBlank"?Yt[0]==="enter"&&(pt&&!zt&&!ht&&!Rt&&(Rt=St),zt=void 0):Yt[1].type==="linePrefix"||Yt[1].type==="listItemValue"||Yt[1].type==="listItemMarker"||Yt[1].type==="listItemPrefix"||Yt[1].type==="listItemPrefixWhitespace"||(zt=void 0),!ht&&Yt[0]==="enter"&&Yt[1].type==="listItemPrefix"||ht===-1&&Yt[0]==="exit"&&(Yt[1].type==="listUnordered"||Yt[1].type==="listOrdered")){if(pt){let pn=St;for(Vt=void 0;pn--;){const En=Ue[pn];if(En[1].type==="lineEnding"||En[1].type==="lineEndingBlank"){if(En[0]==="exit")continue;Vt&&(Ue[Vt][1].type="lineEndingBlank",tn=!0),En[1].type="lineEnding",Vt=pn}else if(!(En[1].type==="linePrefix"||En[1].type==="blockQuotePrefix"||En[1].type==="blockQuotePrefixWhitespace"||En[1].type==="blockQuoteMarker"||En[1].type==="listItemIndent"))break}Rt&&(!Vt||Rt<Vt)&&(pt._spread=!0),pt.end=Object.assign({},Vt?Ue[Vt][1].start:Yt[1].end),Ue.splice(Vt||St,0,["exit",pt,Yt[2]]),St++,Ye++}Yt[1].type==="listItemPrefix"&&(pt={type:"listItem",_spread:!1,start:Object.assign({},Yt[1].start),end:void 0},Ue.splice(St,0,["enter",pt,Yt[2]]),St++,Ye++,Rt=void 0,zt=!0)}}return Ue[We][1]._spread=tn,Ye}function c(Ue,We){n[Ue]=We}function d(Ue){return n[Ue]}function f(Ue,We){return Ye;function Ye(St){g.call(this,Ue(St),St),We&&We.call(this,St)}}function p(){this.stack.push({type:"fragment",children:[]})}function g(Ue,We,Ye){return this.stack[this.stack.length-1].children.push(Ue),this.stack.push(Ue),this.tokenStack.push([We,Ye]),Ue.position={start:Ou(We.start)},Ue}function k(Ue){return We;function We(Ye){Ue&&Ue.call(this,Ye),v.call(this,Ye)}}function v(Ue,We){const Ye=this.stack.pop(),St=this.tokenStack.pop();if(St)St[0].type!==Ue.type&&(We?We.call(this,Ue,St[0]):(St[1]||GN).call(this,Ue,St[0]));else throw new Error("Cannot close `"+Ue.type+"` ("+kg({start:Ue.start,end:Ue.end})+"): it’s not open");return Ye.position.end=Ou(Ue.end),Ye}function y(){return Dhe(this.stack.pop())}function w(){c("expectingFirstListItemValue",!0)}function x(Ue){if(d("expectingFirstListItemValue")){const We=this.stack[this.stack.length-2];We.start=Number.parseInt(this.sliceSerialize(Ue),10),c("expectingFirstListItemValue")}}function A(){const Ue=this.resume(),We=this.stack[this.stack.length-1];We.lang=Ue}function D(){const Ue=this.resume(),We=this.stack[this.stack.length-1];We.meta=Ue}function E(){d("flowCodeInside")||(this.buffer(),c("flowCodeInside",!0))}function M(){const Ue=this.resume(),We=this.stack[this.stack.length-1];We.value=Ue.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),c("flowCodeInside")}function P(){const Ue=this.resume(),We=this.stack[this.stack.length-1];We.value=Ue.replace(/(\r?\n|\r)$/g,"")}function F(Ue){const We=this.resume(),Ye=this.stack[this.stack.length-1];Ye.label=We,Ye.identifier=ap(this.sliceSerialize(Ue)).toLowerCase()}function H(){const Ue=this.resume(),We=this.stack[this.stack.length-1];We.title=Ue}function V(){const Ue=this.resume(),We=this.stack[this.stack.length-1];We.url=Ue}function N(Ue){const We=this.stack[this.stack.length-1];if(!We.depth){const Ye=this.sliceSerialize(Ue).length;We.depth=Ye}}function j(){c("setextHeadingSlurpLineEnding",!0)}function q(Ue){const We=this.stack[this.stack.length-1];We.depth=this.sliceSerialize(Ue).charCodeAt(0)===61?1:2}function Q(){c("setextHeadingSlurpLineEnding")}function $(Ue){const We=this.stack[this.stack.length-1];let Ye=We.children[We.children.length-1];(!Ye||Ye.type!=="text")&&(Ye=Xe(),Ye.position={start:Ou(Ue.start)},We.children.push(Ye)),this.stack.push(Ye)}function R(Ue){const We=this.stack.pop();We.value+=this.sliceSerialize(Ue),We.position.end=Ou(Ue.end)}function Y(Ue){const We=this.stack[this.stack.length-1];if(d("atHardBreak")){const Ye=We.children[We.children.length-1];Ye.position.end=Ou(Ue.end),c("atHardBreak");return}!d("setextHeadingSlurpLineEnding")&&r.canContainEols.includes(We.type)&&($.call(this,Ue),R.call(this,Ue))}function B(){c("atHardBreak",!0)}function ne(){const Ue=this.resume(),We=this.stack[this.stack.length-1];We.value=Ue}function de(){const Ue=this.resume(),We=this.stack[this.stack.length-1];We.value=Ue}function ae(){const Ue=this.resume(),We=this.stack[this.stack.length-1];We.value=Ue}function oe(){const Ue=this.stack[this.stack.length-1];if(d("inReference")){const We=d("referenceType")||"shortcut";Ue.type+="Reference",Ue.referenceType=We,delete Ue.url,delete Ue.title}else delete Ue.identifier,delete Ue.label;c("referenceType")}function ye(){const Ue=this.stack[this.stack.length-1];if(d("inReference")){const We=d("referenceType")||"shortcut";Ue.type+="Reference",Ue.referenceType=We,delete Ue.url,delete Ue.title}else delete Ue.identifier,delete Ue.label;c("referenceType")}function re(Ue){const We=this.sliceSerialize(Ue),Ye=this.stack[this.stack.length-2];Ye.label=Epe(We),Ye.identifier=ap(We).toLowerCase()}function xe(){const Ue=this.stack[this.stack.length-1],We=this.resume(),Ye=this.stack[this.stack.length-1];if(c("inReference",!0),Ye.type==="link"){const St=Ue.children;Ye.children=St}else Ye.alt=We}function X(){const Ue=this.resume(),We=this.stack[this.stack.length-1];We.url=Ue}function Z(){const Ue=this.resume(),We=this.stack[this.stack.length-1];We.title=Ue}function se(){c("inReference")}function pe(){c("referenceType","collapsed")}function we(Ue){const We=this.resume(),Ye=this.stack[this.stack.length-1];Ye.label=We,Ye.identifier=ap(this.sliceSerialize(Ue)).toLowerCase(),c("referenceType","full")}function Pe(Ue){c("characterReferenceType",Ue.type)}function Te(Ue){const We=this.sliceSerialize(Ue),Ye=d("characterReferenceType");let St;Ye?(St=KL(We,Ye==="characterReferenceMarkerNumeric"?10:16),c("characterReferenceType")):St=NC(We);const ht=this.stack.pop();ht.value+=St,ht.position.end=Ou(Ue.end)}function Ne(Ue){R.call(this,Ue);const We=this.stack[this.stack.length-1];We.url=this.sliceSerialize(Ue)}function rt(Ue){R.call(this,Ue);const We=this.stack[this.stack.length-1];We.url="mailto:"+this.sliceSerialize(Ue)}function Ke(){return{type:"blockquote",children:[]}}function Qe(){return{type:"code",lang:null,meta:null,value:""}}function ze(){return{type:"inlineCode",value:""}}function J(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ce(){return{type:"emphasis",children:[]}}function ue(){return{type:"heading",depth:void 0,children:[]}}function ge(){return{type:"break"}}function he(){return{type:"html",value:""}}function _e(){return{type:"image",title:null,url:"",alt:null}}function Me(){return{type:"link",title:null,url:"",children:[]}}function Ie(Ue){return{type:"list",ordered:Ue.type==="listOrdered",start:null,spread:Ue._spread,children:[]}}function Ae(Ue){return{type:"listItem",spread:Ue._spread,checked:null,children:[]}}function Oe(){return{type:"paragraph",children:[]}}function Ge(){return{type:"strong",children:[]}}function Xe(){return{type:"text",value:""}}function dt(){return{type:"thematicBreak"}}}function Ou(t){return{line:t.line,column:t.column,offset:t.offset}}function JL(t,r){let n=-1;for(;++n<r.length;){const o=r[n];Array.isArray(o)?JL(t,o):Npe(t,o)}}function Npe(t,r){let n;for(n in r)if(QL.call(r,n)){if(n==="canContainEols"){const o=r[n];o&&t[n].push(...o)}else if(n==="transforms"){const o=r[n];o&&t[n].push(...o)}else if(n==="enter"||n==="exit"){const o=r[n];o&&Object.assign(t[n],o)}}}function GN(t,r){throw t?new Error("Cannot close `"+t.type+"` ("+kg({start:t.start,end:t.end})+"): a different token (`"+r.type+"`, "+kg({start:r.start,end:r.end})+") is open"):new Error("Cannot close document, a token (`"+r.type+"`, "+kg({start:r.start,end:r.end})+") is still open")}function Mpe(t){Object.assign(this,{Parser:n=>{const o=this.data("settings");return Ipe(n,Object.assign({},o,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function Ppe(t,r){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(r),!0)};return t.patch(r,n),t.applyData(r,n)}function Ope(t,r){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(r,n),[t.applyData(r,n),{type:"text",value:`
`}]}function Lpe(t,r){const n=r.value?r.value+`
`:"",o=r.lang?r.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,a={};o&&(a.className=["language-"+o]);let c={type:"element",tagName:"code",properties:a,children:[{type:"text",value:n}]};return r.meta&&(c.data={meta:r.meta}),t.patch(r,c),c=t.applyData(r,c),c={type:"element",tagName:"pre",properties:{},children:[c]},t.patch(r,c),c}function Bpe(t,r){const n={type:"element",tagName:"del",properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}function jpe(t,r){const n={type:"element",tagName:"em",properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}function Dp(t){const r=[];let n=-1,o=0,a=0;for(;++n<t.length;){const c=t.charCodeAt(n);let d="";if(c===37&&zs(t.charCodeAt(n+1))&&zs(t.charCodeAt(n+2)))a=2;else if(c<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(c))||(d=String.fromCharCode(c));else if(c>55295&&c<57344){const f=t.charCodeAt(n+1);c<56320&&f>56319&&f<57344?(d=String.fromCharCode(c,f),a=1):d="�"}else d=String.fromCharCode(c);d&&(r.push(t.slice(o,n),encodeURIComponent(d)),o=n+a+1,d=""),a&&(n+=a,a=0)}return r.join("")+t.slice(o)}function ZL(t,r){const n=String(r.identifier).toUpperCase(),o=Dp(n.toLowerCase()),a=t.footnoteOrder.indexOf(n);let c;a===-1?(t.footnoteOrder.push(n),t.footnoteCounts[n]=1,c=t.footnoteOrder.length):(t.footnoteCounts[n]++,c=a+1);const d=t.footnoteCounts[n],f={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fn-"+o,id:t.clobberPrefix+"fnref-"+o+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};t.patch(r,f);const p={type:"element",tagName:"sup",properties:{},children:[f]};return t.patch(r,p),t.applyData(r,p)}function Rpe(t,r){const n=t.footnoteById;let o=1;for(;o in n;)o++;const a=String(o);return n[a]={type:"footnoteDefinition",identifier:a,children:[{type:"paragraph",children:r.children}],position:r.position},ZL(t,{type:"footnoteReference",identifier:a,position:r.position})}function Fpe(t,r){const n={type:"element",tagName:"h"+r.depth,properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}function zpe(t,r){if(t.dangerous){const n={type:"raw",value:r.value};return t.patch(r,n),t.applyData(r,n)}return null}function XL(t,r){const n=r.referenceType;let o="]";if(n==="collapsed"?o+="[]":n==="full"&&(o+="["+(r.label||r.identifier)+"]"),r.type==="imageReference")return{type:"text",value:"!["+r.alt+o};const a=t.all(r),c=a[0];c&&c.type==="text"?c.value="["+c.value:a.unshift({type:"text",value:"["});const d=a[a.length-1];return d&&d.type==="text"?d.value+=o:a.push({type:"text",value:o}),a}function Upe(t,r){const n=t.definition(r.identifier);if(!n)return XL(t,r);const o={src:Dp(n.url||""),alt:r.alt};n.title!==null&&n.title!==void 0&&(o.title=n.title);const a={type:"element",tagName:"img",properties:o,children:[]};return t.patch(r,a),t.applyData(r,a)}function qpe(t,r){const n={src:Dp(r.url)};r.alt!==null&&r.alt!==void 0&&(n.alt=r.alt),r.title!==null&&r.title!==void 0&&(n.title=r.title);const o={type:"element",tagName:"img",properties:n,children:[]};return t.patch(r,o),t.applyData(r,o)}function Vpe(t,r){const n={type:"text",value:r.value.replace(/\r?\n|\r/g," ")};t.patch(r,n);const o={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(r,o),t.applyData(r,o)}function Hpe(t,r){const n=t.definition(r.identifier);if(!n)return XL(t,r);const o={href:Dp(n.url||"")};n.title!==null&&n.title!==void 0&&(o.title=n.title);const a={type:"element",tagName:"a",properties:o,children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function $pe(t,r){const n={href:Dp(r.url)};r.title!==null&&r.title!==void 0&&(n.title=r.title);const o={type:"element",tagName:"a",properties:n,children:t.all(r)};return t.patch(r,o),t.applyData(r,o)}function Wpe(t,r,n){const o=t.all(r),a=n?Gpe(n):eB(r),c={},d=[];if(typeof r.checked=="boolean"){const k=o[0];let v;k&&k.type==="element"&&k.tagName==="p"?v=k:(v={type:"element",tagName:"p",properties:{},children:[]},o.unshift(v)),v.children.length>0&&v.children.unshift({type:"text",value:" "}),v.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:r.checked,disabled:!0},children:[]}),c.className=["task-list-item"]}let f=-1;for(;++f<o.length;){const k=o[f];(a||f!==0||k.type!=="element"||k.tagName!=="p")&&d.push({type:"text",value:`
`}),k.type==="element"&&k.tagName==="p"&&!a?d.push(...k.children):d.push(k)}const p=o[o.length-1];p&&(a||p.type!=="element"||p.tagName!=="p")&&d.push({type:"text",value:`
`});const g={type:"element",tagName:"li",properties:c,children:d};return t.patch(r,g),t.applyData(r,g)}function Gpe(t){let r=!1;if(t.type==="list"){r=t.spread||!1;const n=t.children;let o=-1;for(;!r&&++o<n.length;)r=eB(n[o])}return r}function eB(t){const r=t.spread;return r??t.children.length>1}function Ype(t,r){const n={},o=t.all(r);let a=-1;for(typeof r.start=="number"&&r.start!==1&&(n.start=r.start);++a<o.length;){const d=o[a];if(d.type==="element"&&d.tagName==="li"&&d.properties&&Array.isArray(d.properties.className)&&d.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const c={type:"element",tagName:r.ordered?"ol":"ul",properties:n,children:t.wrap(o,!0)};return t.patch(r,c),t.applyData(r,c)}function Kpe(t,r){const n={type:"element",tagName:"p",properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}function Qpe(t,r){const n={type:"root",children:t.wrap(t.all(r))};return t.patch(r,n),t.applyData(r,n)}function Jpe(t,r){const n={type:"element",tagName:"strong",properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}const PC=tB("start"),OC=tB("end");function Zpe(t){return{start:PC(t),end:OC(t)}}function tB(t){return r;function r(n){const o=n&&n.position&&n.position[t]||{};return{line:o.line||null,column:o.column||null,offset:o.offset>-1?o.offset:null}}}function Xpe(t,r){const n=t.all(r),o=n.shift(),a=[];if(o){const d={type:"element",tagName:"thead",properties:{},children:t.wrap([o],!0)};t.patch(r.children[0],d),a.push(d)}if(n.length>0){const d={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},f=PC(r.children[1]),p=OC(r.children[r.children.length-1]);f.line&&p.line&&(d.position={start:f,end:p}),a.push(d)}const c={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(r,c),t.applyData(r,c)}function eme(t,r,n){const o=n?n.children:void 0,c=(o?o.indexOf(r):1)===0?"th":"td",d=n&&n.type==="table"?n.align:void 0,f=d?d.length:r.children.length;let p=-1;const g=[];for(;++p<f;){const v=r.children[p],y={},w=d?d[p]:void 0;w&&(y.align=w);let x={type:"element",tagName:c,properties:y,children:[]};v&&(x.children=t.all(v),t.patch(v,x),x=t.applyData(r,x)),g.push(x)}const k={type:"element",tagName:"tr",properties:{},children:t.wrap(g,!0)};return t.patch(r,k),t.applyData(r,k)}function tme(t,r){const n={type:"element",tagName:"td",properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}const YN=9,KN=32;function nme(t){const r=String(t),n=/\r?\n|\r/g;let o=n.exec(r),a=0;const c=[];for(;o;)c.push(QN(r.slice(a,o.index),a>0,!0),o[0]),a=o.index+o[0].length,o=n.exec(r);return c.push(QN(r.slice(a),a>0,!1)),c.join("")}function QN(t,r,n){let o=0,a=t.length;if(r){let c=t.codePointAt(o);for(;c===YN||c===KN;)o++,c=t.codePointAt(o)}if(n){let c=t.codePointAt(a-1);for(;c===YN||c===KN;)a--,c=t.codePointAt(a-1)}return a>o?t.slice(o,a):""}function rme(t,r){const n={type:"text",value:nme(String(r.value))};return t.patch(r,n),t.applyData(r,n)}function ime(t,r){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(r,n),t.applyData(r,n)}const ome={blockquote:Ppe,break:Ope,code:Lpe,delete:Bpe,emphasis:jpe,footnoteReference:ZL,footnote:Rpe,heading:Fpe,html:zpe,imageReference:Upe,image:qpe,inlineCode:Vpe,linkReference:Hpe,link:$pe,listItem:Wpe,list:Ype,paragraph:Kpe,root:Qpe,strong:Jpe,table:Xpe,tableCell:tme,tableRow:eme,text:rme,thematicBreak:ime,toml:Z0,yaml:Z0,definition:Z0,footnoteDefinition:Z0};function Z0(){return null}const nB=function(t){if(t==null)return cme;if(typeof t=="string")return lme(t);if(typeof t=="object")return Array.isArray(t)?sme(t):ame(t);if(typeof t=="function")return ow(t);throw new Error("Expected function, string, or object as test")};function sme(t){const r=[];let n=-1;for(;++n<t.length;)r[n]=nB(t[n]);return ow(o);function o(...a){let c=-1;for(;++c<r.length;)if(r[c].call(this,...a))return!0;return!1}}function ame(t){return ow(r);function r(n){let o;for(o in t)if(n[o]!==t[o])return!1;return!0}}function lme(t){return ow(r);function r(n){return n&&n.type===t}}function ow(t){return r;function r(n,...o){return!!(n&&typeof n=="object"&&"type"in n&&t.call(this,n,...o))}}function cme(){return!0}const ume=!0,JN=!1,dme="skip",hme=function(t,r,n,o){typeof r=="function"&&typeof n!="function"&&(o=n,n=r,r=null);const a=nB(r),c=o?-1:1;d(t,void 0,[])();function d(f,p,g){const k=f&&typeof f=="object"?f:{};if(typeof k.type=="string"){const y=typeof k.tagName=="string"?k.tagName:typeof k.name=="string"?k.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(f.type+(y?"<"+y+">":""))+")"})}return v;function v(){let y=[],w,x,A;if((!r||a(f,p,g[g.length-1]||null))&&(y=fme(n(f,g)),y[0]===JN))return y;if(f.children&&y[0]!==dme)for(x=(o?f.children.length:-1)+c,A=g.concat(f);x>-1&&x<f.children.length;){if(w=d(f.children[x],x,A)(),w[0]===JN)return w;x=typeof w[1]=="number"?w[1]:x+c}return y}}};function fme(t){return Array.isArray(t)?t:typeof t=="number"?[ume,t]:[t]}const LC=function(t,r,n,o){typeof r=="function"&&typeof n!="function"&&(o=n,n=r,r=null),hme(t,r,a,o);function a(c,d){const f=d[d.length-1];return n(c,f?f.children.indexOf(c):null,f)}};function pme(t){return!t||!t.position||!t.position.start||!t.position.start.line||!t.position.start.column||!t.position.end||!t.position.end.line||!t.position.end.column}const ZN={}.hasOwnProperty;function mme(t){const r=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return LC(t,"definition",o=>{const a=XN(o.identifier);a&&!ZN.call(r,a)&&(r[a]=o)}),n;function n(o){const a=XN(o);return a&&ZN.call(r,a)?r[a]:null}}function XN(t){return String(t||"").toUpperCase()}const l1={}.hasOwnProperty;function gme(t,r){const n=r||{},o=n.allowDangerousHtml||!1,a={};return d.dangerous=o,d.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,d.footnoteLabel=n.footnoteLabel||"Footnotes",d.footnoteLabelTagName=n.footnoteLabelTagName||"h2",d.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},d.footnoteBackLabel=n.footnoteBackLabel||"Back to content",d.unknownHandler=n.unknownHandler,d.passThrough=n.passThrough,d.handlers={...ome,...n.handlers},d.definition=mme(t),d.footnoteById=a,d.footnoteOrder=[],d.footnoteCounts={},d.patch=bme,d.applyData=kme,d.one=f,d.all=p,d.wrap=yme,d.augment=c,LC(t,"footnoteDefinition",g=>{const k=String(g.identifier).toUpperCase();l1.call(a,k)||(a[k]=g)}),d;function c(g,k){if(g&&"data"in g&&g.data){const v=g.data;v.hName&&(k.type!=="element"&&(k={type:"element",tagName:"",properties:{},children:[]}),k.tagName=v.hName),k.type==="element"&&v.hProperties&&(k.properties={...k.properties,...v.hProperties}),"children"in k&&k.children&&v.hChildren&&(k.children=v.hChildren)}if(g){const v="type"in g?g:{position:g};pme(v)||(k.position={start:PC(v),end:OC(v)})}return k}function d(g,k,v,y){return Array.isArray(v)&&(y=v,v={}),c(g,{type:"element",tagName:k,properties:v||{},children:y||[]})}function f(g,k){return rB(d,g,k)}function p(g){return BC(d,g)}}function bme(t,r){t.position&&(r.position=Zpe(t))}function kme(t,r){let n=r;if(t&&t.data){const o=t.data.hName,a=t.data.hChildren,c=t.data.hProperties;typeof o=="string"&&(n.type==="element"?n.tagName=o:n={type:"element",tagName:o,properties:{},children:[]}),n.type==="element"&&c&&(n.properties={...n.properties,...c}),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function rB(t,r,n){const o=r&&r.type;if(!o)throw new Error("Expected node, got `"+r+"`");return l1.call(t.handlers,o)?t.handlers[o](t,r,n):t.passThrough&&t.passThrough.includes(o)?"children"in r?{...r,children:BC(t,r)}:r:t.unknownHandler?t.unknownHandler(t,r,n):wme(t,r)}function BC(t,r){const n=[];if("children"in r){const o=r.children;let a=-1;for(;++a<o.length;){const c=rB(t,o[a],r);if(c){if(a&&o[a-1].type==="break"&&(!Array.isArray(c)&&c.type==="text"&&(c.value=c.value.replace(/^\s+/,"")),!Array.isArray(c)&&c.type==="element")){const d=c.children[0];d&&d.type==="text"&&(d.value=d.value.replace(/^\s+/,""))}Array.isArray(c)?n.push(...c):n.push(c)}}}return n}function wme(t,r){const n=r.data||{},o="value"in r&&!(l1.call(n,"hProperties")||l1.call(n,"hChildren"))?{type:"text",value:r.value}:{type:"element",tagName:"div",properties:{},children:BC(t,r)};return t.patch(r,o),t.applyData(r,o)}function yme(t,r){const n=[];let o=-1;for(r&&n.push({type:"text",value:`
`});++o<t.length;)o&&n.push({type:"text",value:`
`}),n.push(t[o]);return r&&t.length>0&&n.push({type:"text",value:`
`}),n}function vme(t){const r=[];let n=-1;for(;++n<t.footnoteOrder.length;){const o=t.footnoteById[t.footnoteOrder[n]];if(!o)continue;const a=t.all(o),c=String(o.identifier).toUpperCase(),d=Dp(c.toLowerCase());let f=0;const p=[];for(;++f<=t.footnoteCounts[c];){const v={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fnref-"+d+(f>1?"-"+f:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:t.footnoteBackLabel},children:[{type:"text",value:"↩"}]};f>1&&v.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(f)}]}),p.length>0&&p.push({type:"text",value:" "}),p.push(v)}const g=a[a.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const v=g.children[g.children.length-1];v&&v.type==="text"?v.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...p)}else a.push(...p);const k={type:"element",tagName:"li",properties:{id:t.clobberPrefix+"fn-"+d},children:t.wrap(a,!0)};t.patch(o,k),r.push(k)}if(r.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:t.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(t.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:t.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(r,!0)},{type:"text",value:`
`}]}}function iB(t,r){const n=gme(t,r),o=n.one(t,null),a=vme(n);return a&&o.children.push({type:"text",value:`
`},a),Array.isArray(o)?{type:"root",children:o}:o}const _me=function(t,r){return t&&"run"in t?Ame(t,r):Cme(t||r)};function Ame(t,r){return(n,o,a)=>{t.run(iB(n,r),o,c=>{a(c)})}}function Cme(t){return r=>iB(r,t)}class ab{constructor(r,n,o){this.property=r,this.normal=n,o&&(this.space=o)}}ab.prototype.property={};ab.prototype.normal={};ab.prototype.space=null;function oB(t,r){const n={},o={};let a=-1;for(;++a<t.length;)Object.assign(n,t[a].property),Object.assign(o,t[a].normal);return new ab(n,o,r)}function fA(t){return t.toLowerCase()}class Na{constructor(r,n){this.property=r,this.attribute=n}}Na.prototype.space=null;Na.prototype.boolean=!1;Na.prototype.booleanish=!1;Na.prototype.overloadedBoolean=!1;Na.prototype.number=!1;Na.prototype.commaSeparated=!1;Na.prototype.spaceSeparated=!1;Na.prototype.commaOrSpaceSeparated=!1;Na.prototype.mustUseProperty=!1;Na.prototype.defined=!1;let xme=0;const yn=Oh(),Mi=Oh(),sB=Oh(),Tt=Oh(),_r=Oh(),lp=Oh(),Ms=Oh();function Oh(){return 2**++xme}const pA=Object.freeze(Object.defineProperty({__proto__:null,boolean:yn,booleanish:Mi,commaOrSpaceSeparated:Ms,commaSeparated:lp,number:Tt,overloadedBoolean:sB,spaceSeparated:_r},Symbol.toStringTag,{value:"Module"})),h_=Object.keys(pA);class jC extends Na{constructor(r,n,o,a){let c=-1;if(super(r,n),eM(this,"space",a),typeof o=="number")for(;++c<h_.length;){const d=h_[c];eM(this,h_[c],(o&pA[d])===pA[d])}}}jC.prototype.defined=!0;function eM(t,r,n){n&&(t[r]=n)}const Sme={}.hasOwnProperty;function Ip(t){const r={},n={};let o;for(o in t.properties)if(Sme.call(t.properties,o)){const a=t.properties[o],c=new jC(o,t.transform(t.attributes||{},o),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(o)&&(c.mustUseProperty=!0),r[o]=c,n[fA(o)]=o,n[fA(c.attribute)]=o}return new ab(r,n,t.space)}const aB=Ip({space:"xlink",transform(t,r){return"xlink:"+r.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),lB=Ip({space:"xml",transform(t,r){return"xml:"+r.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function cB(t,r){return r in t?t[r]:r}function uB(t,r){return cB(t,r.toLowerCase())}const dB=Ip({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:uB,properties:{xmlns:null,xmlnsXLink:null}}),hB=Ip({transform(t,r){return r==="role"?r:"aria-"+r.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Mi,ariaAutoComplete:null,ariaBusy:Mi,ariaChecked:Mi,ariaColCount:Tt,ariaColIndex:Tt,ariaColSpan:Tt,ariaControls:_r,ariaCurrent:null,ariaDescribedBy:_r,ariaDetails:null,ariaDisabled:Mi,ariaDropEffect:_r,ariaErrorMessage:null,ariaExpanded:Mi,ariaFlowTo:_r,ariaGrabbed:Mi,ariaHasPopup:null,ariaHidden:Mi,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:_r,ariaLevel:Tt,ariaLive:null,ariaModal:Mi,ariaMultiLine:Mi,ariaMultiSelectable:Mi,ariaOrientation:null,ariaOwns:_r,ariaPlaceholder:null,ariaPosInSet:Tt,ariaPressed:Mi,ariaReadOnly:Mi,ariaRelevant:null,ariaRequired:Mi,ariaRoleDescription:_r,ariaRowCount:Tt,ariaRowIndex:Tt,ariaRowSpan:Tt,ariaSelected:Mi,ariaSetSize:Tt,ariaSort:null,ariaValueMax:Tt,ariaValueMin:Tt,ariaValueNow:Tt,ariaValueText:null,role:null}}),Eme=Ip({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:uB,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:lp,acceptCharset:_r,accessKey:_r,action:null,allow:null,allowFullScreen:yn,allowPaymentRequest:yn,allowUserMedia:yn,alt:null,as:null,async:yn,autoCapitalize:null,autoComplete:_r,autoFocus:yn,autoPlay:yn,blocking:_r,capture:null,charSet:null,checked:yn,cite:null,className:_r,cols:Tt,colSpan:null,content:null,contentEditable:Mi,controls:yn,controlsList:_r,coords:Tt|lp,crossOrigin:null,data:null,dateTime:null,decoding:null,default:yn,defer:yn,dir:null,dirName:null,disabled:yn,download:sB,draggable:Mi,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:yn,formTarget:null,headers:_r,height:Tt,hidden:yn,high:Tt,href:null,hrefLang:null,htmlFor:_r,httpEquiv:_r,id:null,imageSizes:null,imageSrcSet:null,inert:yn,inputMode:null,integrity:null,is:null,isMap:yn,itemId:null,itemProp:_r,itemRef:_r,itemScope:yn,itemType:_r,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:yn,low:Tt,manifest:null,max:null,maxLength:Tt,media:null,method:null,min:null,minLength:Tt,multiple:yn,muted:yn,name:null,nonce:null,noModule:yn,noValidate:yn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:yn,optimum:Tt,pattern:null,ping:_r,placeholder:null,playsInline:yn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:yn,referrerPolicy:null,rel:_r,required:yn,reversed:yn,rows:Tt,rowSpan:Tt,sandbox:_r,scope:null,scoped:yn,seamless:yn,selected:yn,shadowRootClonable:yn,shadowRootDelegatesFocus:yn,shadowRootMode:null,shape:null,size:Tt,sizes:null,slot:null,span:Tt,spellCheck:Mi,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Tt,step:null,style:null,tabIndex:Tt,target:null,title:null,translate:null,type:null,typeMustMatch:yn,useMap:null,value:Mi,width:Tt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:_r,axis:null,background:null,bgColor:null,border:Tt,borderColor:null,bottomMargin:Tt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:yn,declare:yn,event:null,face:null,frame:null,frameBorder:null,hSpace:Tt,leftMargin:Tt,link:null,longDesc:null,lowSrc:null,marginHeight:Tt,marginWidth:Tt,noResize:yn,noHref:yn,noShade:yn,noWrap:yn,object:null,profile:null,prompt:null,rev:null,rightMargin:Tt,rules:null,scheme:null,scrolling:Mi,standby:null,summary:null,text:null,topMargin:Tt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Tt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:yn,disableRemotePlayback:yn,prefix:null,property:null,results:Tt,security:null,unselectable:null}}),Dme=Ip({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:cB,properties:{about:Ms,accentHeight:Tt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Tt,amplitude:Tt,arabicForm:null,ascent:Tt,attributeName:null,attributeType:null,azimuth:Tt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Tt,by:null,calcMode:null,capHeight:Tt,className:_r,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Tt,diffuseConstant:Tt,direction:null,display:null,dur:null,divisor:Tt,dominantBaseline:null,download:yn,dx:null,dy:null,edgeMode:null,editable:null,elevation:Tt,enableBackground:null,end:null,event:null,exponent:Tt,externalResourcesRequired:null,fill:null,fillOpacity:Tt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:lp,g2:lp,glyphName:lp,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Tt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Tt,horizOriginX:Tt,horizOriginY:Tt,id:null,ideographic:Tt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Tt,k:Tt,k1:Tt,k2:Tt,k3:Tt,k4:Tt,kernelMatrix:Ms,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Tt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Tt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Tt,overlineThickness:Tt,paintOrder:null,panose1:null,path:null,pathLength:Tt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:_r,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Tt,pointsAtY:Tt,pointsAtZ:Tt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ms,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ms,rev:Ms,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ms,requiredFeatures:Ms,requiredFonts:Ms,requiredFormats:Ms,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Tt,specularExponent:Tt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Tt,strikethroughThickness:Tt,string:null,stroke:null,strokeDashArray:Ms,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Tt,strokeOpacity:Tt,strokeWidth:null,style:null,surfaceScale:Tt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ms,tabIndex:Tt,tableValues:null,target:null,targetX:Tt,targetY:Tt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ms,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Tt,underlineThickness:Tt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Tt,values:null,vAlphabetic:Tt,vMathematical:Tt,vectorEffect:null,vHanging:Tt,vIdeographic:Tt,version:null,vertAdvY:Tt,vertOriginX:Tt,vertOriginY:Tt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Tt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Ime=/^data[-\w.:]+$/i,tM=/-[a-z]/g,Tme=/[A-Z]/g;function Nme(t,r){const n=fA(r);let o=r,a=Na;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Ime.test(r)){if(r.charAt(4)==="-"){const c=r.slice(5).replace(tM,Pme);o="data"+c.charAt(0).toUpperCase()+c.slice(1)}else{const c=r.slice(4);if(!tM.test(c)){let d=c.replace(Tme,Mme);d.charAt(0)!=="-"&&(d="-"+d),r="data"+d}}a=jC}return new a(o,r)}function Mme(t){return"-"+t.toLowerCase()}function Pme(t){return t.charAt(1).toUpperCase()}const nM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Ome=oB([lB,aB,dB,hB,Eme],"html"),Lme=oB([lB,aB,dB,hB,Dme],"svg");function Bme(t){if(t.allowedElements&&t.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(t.allowedElements||t.disallowedElements||t.allowElement)return r=>{LC(r,"element",(n,o,a)=>{const c=a;let d;if(t.allowedElements?d=!t.allowedElements.includes(n.tagName):t.disallowedElements&&(d=t.disallowedElements.includes(n.tagName)),!d&&t.allowElement&&typeof o=="number"&&(d=!t.allowElement(n,o,c)),d&&typeof o=="number")return t.unwrapDisallowed&&n.children?c.children.splice(o,1,...n.children):c.children.splice(o,1),o})}}var f_={exports:{}},rr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rM;function jme(){if(rM)return rr;rM=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function A(D){if(typeof D=="object"&&D!==null){var E=D.$$typeof;switch(E){case t:switch(D=D.type,D){case n:case a:case o:case g:case k:return D;default:switch(D=D&&D.$$typeof,D){case f:case d:case p:case y:case v:case c:return D;default:return E}}case r:return E}}}return rr.ContextConsumer=d,rr.ContextProvider=c,rr.Element=t,rr.ForwardRef=p,rr.Fragment=n,rr.Lazy=y,rr.Memo=v,rr.Portal=r,rr.Profiler=a,rr.StrictMode=o,rr.Suspense=g,rr.SuspenseList=k,rr.isAsyncMode=function(){return!1},rr.isConcurrentMode=function(){return!1},rr.isContextConsumer=function(D){return A(D)===d},rr.isContextProvider=function(D){return A(D)===c},rr.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===t},rr.isForwardRef=function(D){return A(D)===p},rr.isFragment=function(D){return A(D)===n},rr.isLazy=function(D){return A(D)===y},rr.isMemo=function(D){return A(D)===v},rr.isPortal=function(D){return A(D)===r},rr.isProfiler=function(D){return A(D)===a},rr.isStrictMode=function(D){return A(D)===o},rr.isSuspense=function(D){return A(D)===g},rr.isSuspenseList=function(D){return A(D)===k},rr.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===n||D===a||D===o||D===g||D===k||D===w||typeof D=="object"&&D!==null&&(D.$$typeof===y||D.$$typeof===v||D.$$typeof===c||D.$$typeof===d||D.$$typeof===p||D.$$typeof===x||D.getModuleId!==void 0)},rr.typeOf=A,rr}var iM;function Rme(){return iM||(iM=1,f_.exports=jme()),f_.exports}var Fme=Rme();const zme=Hc(Fme);function Ume(t){const r=t&&typeof t=="object"&&t.type==="text"?t.value||"":t;return typeof r=="string"&&r.replace(/[ \t\n\f\r]/g,"")===""}function qme(t){return t.join(" ").trim()}function Vme(t,r){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var X0={exports:{}},p_,oM;function Hme(){if(oM)return p_;oM=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,n=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,c=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,d=/^[;\s]*/,f=/^\s+|\s+$/g,p=`
`,g="/",k="*",v="",y="comment",w="declaration";p_=function(A,D){if(typeof A!="string")throw new TypeError("First argument must be a string");if(!A)return[];D=D||{};var E=1,M=1;function P(Y){var B=Y.match(r);B&&(E+=B.length);var ne=Y.lastIndexOf(p);M=~ne?Y.length-ne:M+Y.length}function F(){var Y={line:E,column:M};return function(B){return B.position=new H(Y),j(),B}}function H(Y){this.start=Y,this.end={line:E,column:M},this.source=D.source}H.prototype.content=A;function V(Y){var B=new Error(D.source+":"+E+":"+M+": "+Y);if(B.reason=Y,B.filename=D.source,B.line=E,B.column=M,B.source=A,!D.silent)throw B}function N(Y){var B=Y.exec(A);if(B){var ne=B[0];return P(ne),A=A.slice(ne.length),B}}function j(){N(n)}function q(Y){var B;for(Y=Y||[];B=Q();)B!==!1&&Y.push(B);return Y}function Q(){var Y=F();if(!(g!=A.charAt(0)||k!=A.charAt(1))){for(var B=2;v!=A.charAt(B)&&(k!=A.charAt(B)||g!=A.charAt(B+1));)++B;if(B+=2,v===A.charAt(B-1))return V("End of comment missing");var ne=A.slice(2,B-2);return M+=2,P(ne),A=A.slice(B),M+=2,Y({type:y,comment:ne})}}function $(){var Y=F(),B=N(o);if(B){if(Q(),!N(a))return V("property missing ':'");var ne=N(c),de=Y({type:w,property:x(B[0].replace(t,v)),value:ne?x(ne[0].replace(t,v)):v});return N(d),de}}function R(){var Y=[];q(Y);for(var B;B=$();)B!==!1&&(Y.push(B),q(Y));return Y}return j(),R()};function x(A){return A?A.replace(f,v):v}return p_}var sM;function $me(){if(sM)return X0.exports;sM=1;var t=Hme();function r(n,o){var a=null;if(!n||typeof n!="string")return a;for(var c,d=t(n),f=typeof o=="function",p,g,k=0,v=d.length;k<v;k++)c=d[k],p=c.property,g=c.value,f?o(p,g,c):g&&(a||(a={}),a[p]=g);return a}return X0.exports=r,X0.exports.default=r,X0.exports}var Wme=$me();const Gme=Hc(Wme),mA={}.hasOwnProperty,Yme=new Set(["table","thead","tbody","tfoot","tr"]);function fB(t,r){const n=[];let o=-1,a;for(;++o<r.children.length;)a=r.children[o],a.type==="element"?n.push(Kme(t,a,o,r)):a.type==="text"?(r.type!=="element"||!Yme.has(r.tagName)||!Ume(a))&&n.push(a.value):a.type==="raw"&&!t.options.skipHtml&&n.push(a.value);return n}function Kme(t,r,n,o){const a=t.options,c=a.transformLinkUri===void 0?ohe:a.transformLinkUri,d=t.schema,f=r.tagName,p={};let g=d,k;if(d.space==="html"&&f==="svg"&&(g=Lme,t.schema=g),r.properties)for(k in r.properties)mA.call(r.properties,k)&&Jme(p,k,r.properties[k],t);(f==="ol"||f==="ul")&&t.listDepth++;const v=fB(t,r);(f==="ol"||f==="ul")&&t.listDepth--,t.schema=d;const y=r.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},w=a.components&&mA.call(a.components,f)?a.components[f]:f,x=typeof w=="string"||w===st.Fragment;if(!zme.isValidElementType(w))throw new TypeError(`Component for name \`${f}\` not defined or is not renderable`);if(p.key=n,f==="a"&&a.linkTarget&&(p.target=typeof a.linkTarget=="function"?a.linkTarget(String(p.href||""),r.children,typeof p.title=="string"?p.title:null):a.linkTarget),f==="a"&&c&&(p.href=c(String(p.href||""),r.children,typeof p.title=="string"?p.title:null)),!x&&f==="code"&&o.type==="element"&&o.tagName!=="pre"&&(p.inline=!0),!x&&(f==="h1"||f==="h2"||f==="h3"||f==="h4"||f==="h5"||f==="h6")&&(p.level=Number.parseInt(f.charAt(1),10)),f==="img"&&a.transformImageUri&&(p.src=a.transformImageUri(String(p.src||""),String(p.alt||""),typeof p.title=="string"?p.title:null)),!x&&f==="li"&&o.type==="element"){const A=Qme(r);p.checked=A&&A.properties?!!A.properties.checked:null,p.index=m_(o,r),p.ordered=o.tagName==="ol"}return!x&&(f==="ol"||f==="ul")&&(p.ordered=f==="ol",p.depth=t.listDepth),(f==="td"||f==="th")&&(p.align&&(p.style||(p.style={}),p.style.textAlign=p.align,delete p.align),x||(p.isHeader=f==="th")),!x&&f==="tr"&&o.type==="element"&&(p.isHeader=o.tagName==="thead"),a.sourcePos&&(p["data-sourcepos"]=ege(y)),!x&&a.rawSourcePos&&(p.sourcePosition=r.position),!x&&a.includeElementIndex&&(p.index=m_(o,r),p.siblingCount=m_(o)),x||(p.node=r),v.length>0?st.createElement(w,p,v):st.createElement(w,p)}function Qme(t){let r=-1;for(;++r<t.children.length;){const n=t.children[r];if(n.type==="element"&&n.tagName==="input")return n}return null}function m_(t,r){let n=-1,o=0;for(;++n<t.children.length&&t.children[n]!==r;)t.children[n].type==="element"&&o++;return o}function Jme(t,r,n,o){const a=Nme(o.schema,r);let c=n;c==null||c!==c||(Array.isArray(c)&&(c=a.commaSeparated?Vme(c):qme(c)),a.property==="style"&&typeof c=="string"&&(c=Zme(c)),a.space&&a.property?t[mA.call(nM,a.property)?nM[a.property]:a.property]=c:a.attribute&&(t[a.attribute]=c))}function Zme(t){const r={};try{Gme(t,n)}catch{}return r;function n(o,a){const c=o.slice(0,4)==="-ms-"?`ms-${o.slice(4)}`:o;r[c.replace(/-([a-z])/g,Xme)]=a}}function Xme(t,r){return r.toUpperCase()}function ege(t){return[t.start.line,":",t.start.column,"-",t.end.line,":",t.end.column].map(String).join("")}const aM={}.hasOwnProperty,tge="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ek={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function RC(t){for(const c in ek)if(aM.call(ek,c)&&aM.call(t,c)){const d=ek[c];console.warn(`[react-markdown] Warning: please ${d.to?`use \`${d.to}\` instead of`:"remove"} \`${c}\` (see <${tge}#${d.id}> for more info)`),delete ek[c]}const r=Ahe().use(Mpe).use(t.remarkPlugins||[]).use(_me,{...t.remarkRehypeOptions,allowDangerousHtml:!0}).use(t.rehypePlugins||[]).use(Bme,t),n=new BL;typeof t.children=="string"?n.value=t.children:t.children!==void 0&&t.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${t.children}\`)`);const o=r.runSync(r.parse(n),n);if(o.type!=="root")throw new TypeError("Expected a `root` node");let a=st.createElement(st.Fragment,{},fB({options:t,schema:Ome,listDepth:0},o));return t.className&&(a=st.createElement("div",{className:t.className},a)),a}RC.propTypes={children:bn.string,className:bn.string,allowElement:bn.func,allowedElements:bn.arrayOf(bn.string),disallowedElements:bn.arrayOf(bn.string),unwrapDisallowed:bn.bool,remarkPlugins:bn.arrayOf(bn.oneOfType([bn.object,bn.func,bn.arrayOf(bn.oneOfType([bn.bool,bn.string,bn.object,bn.func,bn.arrayOf(bn.any)]))])),rehypePlugins:bn.arrayOf(bn.oneOfType([bn.object,bn.func,bn.arrayOf(bn.oneOfType([bn.bool,bn.string,bn.object,bn.func,bn.arrayOf(bn.any)]))])),sourcePos:bn.bool,rawSourcePos:bn.bool,skipHtml:bn.bool,includeElementIndex:bn.bool,transformLinkUri:bn.oneOfType([bn.func,bn.bool]),linkTarget:bn.oneOfType([bn.func,bn.string]),transformImageUri:bn.func,components:bn.object};function FC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Wc(t){if(t.__esModule)return t;var r=t.default;if(typeof r=="function"){var n=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var a=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:function(){return t[o]}})}),n}var lM={exports:{}},Xm={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cM;function nge(){if(cM)return Xm;cM=1;var t=st,r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(f,p,g){var k,v={},y=null,w=null;g!==void 0&&(y=""+g),p.key!==void 0&&(y=""+p.key),p.ref!==void 0&&(w=p.ref);for(k in p)o.call(p,k)&&!c.hasOwnProperty(k)&&(v[k]=p[k]);if(f&&f.defaultProps)for(k in p=f.defaultProps,p)v[k]===void 0&&(v[k]=p[k]);return{$$typeof:r,type:f,key:y,ref:w,props:v,_owner:a.current}}return Xm.Fragment=n,Xm.jsx=d,Xm.jsxs=d,Xm}var uM;function zC(){return uM||(uM=1,lM.exports=nge()),lM.exports}var fn=zC(),eg={},dM={exports:{}},hM;function sw(){return hM||(hM=1,function(t){function r(n){return n&&n.__esModule?n:{default:n}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(dM)),dM.exports}var fM={};function br(){return br=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},br.apply(null,arguments)}function ju(t){if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function pB(t){if(K.isValidElement(t)||!ju(t))return t;const r={};return Object.keys(t).forEach(n=>{r[n]=pB(t[n])}),r}function Yl(t,r,n={clone:!0}){const o=n.clone?br({},t):t;return ju(t)&&ju(r)&&Object.keys(r).forEach(a=>{K.isValidElement(r[a])?o[a]=r[a]:ju(r[a])&&Object.prototype.hasOwnProperty.call(t,a)&&ju(t[a])?o[a]=Yl(t[a],r[a],n):n.clone?o[a]=ju(r[a])?pB(r[a]):r[a]:o[a]=r[a]}),o}const rge=Object.freeze(Object.defineProperty({__proto__:null,default:Yl,isPlainObject:ju},Symbol.toStringTag,{value:"Module"}));function Bg(t){let r="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+r+" for the full message."}const ige=Object.freeze(Object.defineProperty({__proto__:null,default:Bg},Symbol.toStringTag,{value:"Module"}));var pM={exports:{}},gr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mM;function oge(){if(mM)return gr;mM=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),w=Symbol.for("react.client.reference");function x(A){if(typeof A=="object"&&A!==null){var D=A.$$typeof;switch(D){case t:switch(A=A.type,A){case n:case a:case o:case p:case g:return A;default:switch(A=A&&A.$$typeof,A){case d:case f:case v:case k:return A;case c:return A;default:return D}}case r:return D}}}return gr.ContextConsumer=c,gr.ContextProvider=d,gr.Element=t,gr.ForwardRef=f,gr.Fragment=n,gr.Lazy=v,gr.Memo=k,gr.Portal=r,gr.Profiler=a,gr.StrictMode=o,gr.Suspense=p,gr.SuspenseList=g,gr.isContextConsumer=function(A){return x(A)===c},gr.isContextProvider=function(A){return x(A)===d},gr.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},gr.isForwardRef=function(A){return x(A)===f},gr.isFragment=function(A){return x(A)===n},gr.isLazy=function(A){return x(A)===v},gr.isMemo=function(A){return x(A)===k},gr.isPortal=function(A){return x(A)===r},gr.isProfiler=function(A){return x(A)===a},gr.isStrictMode=function(A){return x(A)===o},gr.isSuspense=function(A){return x(A)===p},gr.isSuspenseList=function(A){return x(A)===g},gr.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===a||A===o||A===p||A===g||A===y||typeof A=="object"&&A!==null&&(A.$$typeof===v||A.$$typeof===k||A.$$typeof===d||A.$$typeof===c||A.$$typeof===f||A.$$typeof===w||A.getModuleId!==void 0)},gr.typeOf=x,gr}var gM;function sge(){return gM||(gM=1,pM.exports=oge()),pM.exports}var bM=sge();const age=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function mB(t){const r=`${t}`.match(age);return r&&r[1]||""}function gB(t,r=""){return t.displayName||t.name||mB(t)||r}function kM(t,r,n){const o=gB(r);return t.displayName||(o!==""?`${n}(${o})`:n)}function lge(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return gB(t,"Component");if(typeof t=="object")switch(t.$$typeof){case bM.ForwardRef:return kM(t,t.render,"ForwardRef");case bM.Memo:return kM(t,t.type,"memo");default:return}}}const cge=Object.freeze(Object.defineProperty({__proto__:null,default:lge,getFunctionName:mB},Symbol.toStringTag,{value:"Module"}));function ed(t){if(typeof t!="string")throw new Error(Bg(7));return t.charAt(0).toUpperCase()+t.slice(1)}const uge=Object.freeze(Object.defineProperty({__proto__:null,default:ed},Symbol.toStringTag,{value:"Module"}));function dge(...t){return t.reduce((r,n)=>n==null?r:function(...o){r.apply(this,o),n.apply(this,o)},()=>{})}function hge(t,r=166){let n;function o(...a){const c=()=>{t.apply(this,a)};clearTimeout(n),n=setTimeout(c,r)}return o.clear=()=>{clearTimeout(n)},o}function fge(t,r){return()=>null}function pge(t,r){var n,o;return K.isValidElement(t)&&r.indexOf((n=t.type.muiName)!=null?n:(o=t.type)==null||(o=o._payload)==null||(o=o.value)==null?void 0:o.muiName)!==-1}function bB(t){return t&&t.ownerDocument||document}function mge(t){return bB(t).defaultView||window}function gge(t,r){return()=>null}function kB(t,r){typeof t=="function"?t(r):t&&(t.current=r)}const wB=typeof window<"u"?K.useLayoutEffect:K.useEffect;let wM=0;function bge(t){const[r,n]=K.useState(t),o=t||r;return K.useEffect(()=>{r==null&&(wM+=1,n(`mui-${wM}`))},[r]),o}const yM=K.useId;function kge(t){if(yM!==void 0){const r=yM();return t??r}return bge(t)}function wge(t,r,n,o,a){return null}function yge({controlled:t,default:r,name:n,state:o="value"}){const{current:a}=K.useRef(t!==void 0),[c,d]=K.useState(r),f=a?t:c,p=K.useCallback(g=>{a||d(g)},[]);return[f,p]}function vge(t){const r=K.useRef(t);return wB(()=>{r.current=t}),K.useRef((...n)=>(0,r.current)(...n)).current}function _ge(...t){return K.useMemo(()=>t.every(r=>r==null)?null:r=>{t.forEach(n=>{kB(n,r)})},t)}class UC{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new UC}start(r,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},r)}}let aw=!0,gA=!1;const Age=new UC,Cge={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function xge(t){const{type:r,tagName:n}=t;return!!(n==="INPUT"&&Cge[r]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function Sge(t){t.metaKey||t.altKey||t.ctrlKey||(aw=!0)}function g_(){aw=!1}function Ege(){this.visibilityState==="hidden"&&gA&&(aw=!0)}function Dge(t){t.addEventListener("keydown",Sge,!0),t.addEventListener("mousedown",g_,!0),t.addEventListener("pointerdown",g_,!0),t.addEventListener("touchstart",g_,!0),t.addEventListener("visibilitychange",Ege,!0)}function Ige(t){const{target:r}=t;try{return r.matches(":focus-visible")}catch{}return aw||xge(r)}function Tge(){const t=K.useCallback(a=>{a!=null&&Dge(a.ownerDocument)},[]),r=K.useRef(!1);function n(){return r.current?(gA=!0,Age.start(100,()=>{gA=!1}),r.current=!1,!0):!1}function o(a){return Ige(a)?(r.current=!0,!0):!1}return{isFocusVisibleRef:r,onFocus:o,onBlur:n,ref:t}}function bA(t,r){const n=br({},r);return Object.keys(t).forEach(o=>{if(o.toString().match(/^(components|slots)$/))n[o]=br({},t[o],n[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const a=t[o]||{},c=r[o];n[o]={},!c||!Object.keys(c)?n[o]=a:!a||!Object.keys(a)?n[o]=c:(n[o]=br({},c),Object.keys(a).forEach(d=>{n[o][d]=bA(a[d],c[d])}))}else n[o]===void 0&&(n[o]=t[o])}),n}function Nge(t,r,n=void 0){const o={};return Object.keys(t).forEach(a=>{o[a]=t[a].reduce((c,d)=>{if(d){const f=r(d);f!==""&&c.push(f),n&&n[d]&&c.push(n[d])}return c},[]).join(" ")}),o}const vM=t=>t,Mge=()=>{let t=vM;return{configure(r){t=r},generate(r){return t(r)},reset(){t=vM}}},yB=Mge(),Pge={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function vB(t,r,n="Mui"){const o=Pge[r];return o?`${n}-${o}`:`${yB.generate(t)}-${r}`}function Oge(t,r,n="Mui"){const o={};return r.forEach(a=>{o[a]=vB(t,a,n)}),o}function Lge(t,r=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(r,Math.min(t,n))}const Bge=Object.freeze(Object.defineProperty({__proto__:null,default:Lge},Symbol.toStringTag,{value:"Module"}));function ld(t,r){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(r.includes(o))continue;n[o]=t[o]}return n}function _B(t){var r,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(r=0;r<a;r++)t[r]&&(n=_B(t[r]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function jge(){for(var t,r,n=0,o="",a=arguments.length;n<a;n++)(t=arguments[n])&&(r=_B(t))&&(o&&(o+=" "),o+=r);return o}const Rge=K.createContext(void 0);function Fge(t){const{theme:r,name:n,props:o}=t;if(!r||!r.components||!r.components[n])return o;const a=r.components[n];return a.defaultProps?bA(a.defaultProps,o):!a.styleOverrides&&!a.variants?bA(a,o):o}function zge({props:t,name:r}){const n=K.useContext(Rge);return Fge({props:t,name:r,theme:{components:n}})}function Uge(t){return zge(t)}var Zd={},_M={exports:{}},AM;function qge(){return AM||(AM=1,function(t){function r(){return t.exports=r=Object.assign?Object.assign.bind():function(n){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var c in a)({}).hasOwnProperty.call(a,c)&&(n[c]=a[c])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,r.apply(null,arguments)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(_M)),_M.exports}var CM={exports:{}},xM;function Vge(){return xM||(xM=1,function(t){function r(n,o){if(n==null)return{};var a={};for(var c in n)if({}.hasOwnProperty.call(n,c)){if(o.includes(c))continue;a[c]=n[c]}return a}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(CM)),CM.exports}function Hge(t){if(t.sheet)return t.sheet;for(var r=0;r<document.styleSheets.length;r++)if(document.styleSheets[r].ownerNode===t)return document.styleSheets[r]}function $ge(t){var r=document.createElement("style");return r.setAttribute("data-emotion",t.key),t.nonce!==void 0&&r.setAttribute("nonce",t.nonce),r.appendChild(document.createTextNode("")),r.setAttribute("data-s",""),r}var Wge=function(){function t(n){var o=this;this._insertTag=function(a){var c;o.tags.length===0?o.insertionPoint?c=o.insertionPoint.nextSibling:o.prepend?c=o.container.firstChild:c=o.before:c=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(a,c),o.tags.push(a)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var r=t.prototype;return r.hydrate=function(n){n.forEach(this._insertTag)},r.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag($ge(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var a=Hge(o);try{a.insertRule(n,a.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(n));this.ctr++},r.flush=function(){this.tags.forEach(function(n){var o;return(o=n.parentNode)==null?void 0:o.removeChild(n)}),this.tags=[],this.ctr=0},t}(),xo="-ms-",c1="-moz-",Kn="-webkit-",AB="comm",qC="rule",VC="decl",Gge="@import",CB="@keyframes",Yge="@layer",Kge=Math.abs,lw=String.fromCharCode,Qge=Object.assign;function Jge(t,r){return lo(t,0)^45?(((r<<2^lo(t,0))<<2^lo(t,1))<<2^lo(t,2))<<2^lo(t,3):0}function xB(t){return t.trim()}function Zge(t,r){return(t=r.exec(t))?t[0]:t}function Qn(t,r,n){return t.replace(r,n)}function kA(t,r){return t.indexOf(r)}function lo(t,r){return t.charCodeAt(r)|0}function jg(t,r,n){return t.slice(r,n)}function Bl(t){return t.length}function HC(t){return t.length}function tk(t,r){return r.push(t),t}function Xge(t,r){return t.map(r).join("")}var cw=1,wp=1,SB=0,hs=0,Pi=0,Tp="";function uw(t,r,n,o,a,c,d){return{value:t,root:r,parent:n,type:o,props:a,children:c,line:cw,column:wp,length:d,return:""}}function tg(t,r){return Qge(uw("",null,null,"",null,null,0),t,{length:-t.length},r)}function ebe(){return Pi}function tbe(){return Pi=hs>0?lo(Tp,--hs):0,wp--,Pi===10&&(wp=1,cw--),Pi}function $s(){return Pi=hs<SB?lo(Tp,hs++):0,wp++,Pi===10&&(wp=1,cw++),Pi}function Kl(){return lo(Tp,hs)}function Ak(){return hs}function lb(t,r){return jg(Tp,t,r)}function Rg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function EB(t){return cw=wp=1,SB=Bl(Tp=t),hs=0,[]}function DB(t){return Tp="",t}function Ck(t){return xB(lb(hs-1,wA(t===91?t+2:t===40?t+1:t)))}function nbe(t){for(;(Pi=Kl())&&Pi<33;)$s();return Rg(t)>2||Rg(Pi)>3?"":" "}function rbe(t,r){for(;--r&&$s()&&!(Pi<48||Pi>102||Pi>57&&Pi<65||Pi>70&&Pi<97););return lb(t,Ak()+(r<6&&Kl()==32&&$s()==32))}function wA(t){for(;$s();)switch(Pi){case t:return hs;case 34:case 39:t!==34&&t!==39&&wA(Pi);break;case 40:t===41&&wA(t);break;case 92:$s();break}return hs}function ibe(t,r){for(;$s()&&t+Pi!==57&&!(t+Pi===84&&Kl()===47););return"/*"+lb(r,hs-1)+"*"+lw(t===47?t:$s())}function obe(t){for(;!Rg(Kl());)$s();return lb(t,hs)}function sbe(t){return DB(xk("",null,null,null,[""],t=EB(t),0,[0],t))}function xk(t,r,n,o,a,c,d,f,p){for(var g=0,k=0,v=d,y=0,w=0,x=0,A=1,D=1,E=1,M=0,P="",F=a,H=c,V=o,N=P;D;)switch(x=M,M=$s()){case 40:if(x!=108&&lo(N,v-1)==58){kA(N+=Qn(Ck(M),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:N+=Ck(M);break;case 9:case 10:case 13:case 32:N+=nbe(x);break;case 92:N+=rbe(Ak()-1,7);continue;case 47:switch(Kl()){case 42:case 47:tk(abe(ibe($s(),Ak()),r,n),p);break;default:N+="/"}break;case 123*A:f[g++]=Bl(N)*E;case 125*A:case 59:case 0:switch(M){case 0:case 125:D=0;case 59+k:E==-1&&(N=Qn(N,/\f/g,"")),w>0&&Bl(N)-v&&tk(w>32?EM(N+";",o,n,v-1):EM(Qn(N," ","")+";",o,n,v-2),p);break;case 59:N+=";";default:if(tk(V=SM(N,r,n,g,k,a,f,P,F=[],H=[],v),c),M===123)if(k===0)xk(N,r,V,V,F,c,v,f,H);else switch(y===99&&lo(N,3)===110?100:y){case 100:case 108:case 109:case 115:xk(t,V,V,o&&tk(SM(t,V,V,0,0,a,f,P,a,F=[],v),H),a,H,v,f,o?F:H);break;default:xk(N,V,V,V,[""],H,0,f,H)}}g=k=w=0,A=E=1,P=N="",v=d;break;case 58:v=1+Bl(N),w=x;default:if(A<1){if(M==123)--A;else if(M==125&&A++==0&&tbe()==125)continue}switch(N+=lw(M),M*A){case 38:E=k>0?1:(N+="\f",-1);break;case 44:f[g++]=(Bl(N)-1)*E,E=1;break;case 64:Kl()===45&&(N+=Ck($s())),y=Kl(),k=v=Bl(P=N+=obe(Ak())),M++;break;case 45:x===45&&Bl(N)==2&&(A=0)}}return c}function SM(t,r,n,o,a,c,d,f,p,g,k){for(var v=a-1,y=a===0?c:[""],w=HC(y),x=0,A=0,D=0;x<o;++x)for(var E=0,M=jg(t,v+1,v=Kge(A=d[x])),P=t;E<w;++E)(P=xB(A>0?y[E]+" "+M:Qn(M,/&\f/g,y[E])))&&(p[D++]=P);return uw(t,r,n,a===0?qC:f,p,g,k)}function abe(t,r,n){return uw(t,r,n,AB,lw(ebe()),jg(t,2,-2),0)}function EM(t,r,n,o){return uw(t,r,n,VC,jg(t,0,o),jg(t,o+1,-1),o)}function cp(t,r){for(var n="",o=HC(t),a=0;a<o;a++)n+=r(t[a],a,t,r)||"";return n}function lbe(t,r,n,o){switch(t.type){case Yge:if(t.children.length)break;case Gge:case VC:return t.return=t.return||t.value;case AB:return"";case CB:return t.return=t.value+"{"+cp(t.children,o)+"}";case qC:t.value=t.props.join(",")}return Bl(n=cp(t.children,o))?t.return=t.value+"{"+n+"}":""}function cbe(t){var r=HC(t);return function(n,o,a,c){for(var d="",f=0;f<r;f++)d+=t[f](n,o,a,c)||"";return d}}function ube(t){return function(r){r.root||(r=r.return)&&t(r)}}var dbe=function(t,r,n){for(var o=0,a=0;o=a,a=Kl(),o===38&&a===12&&(r[n]=1),!Rg(a);)$s();return lb(t,hs)},hbe=function(t,r){var n=-1,o=44;do switch(Rg(o)){case 0:o===38&&Kl()===12&&(r[n]=1),t[n]+=dbe(hs-1,r,n);break;case 2:t[n]+=Ck(o);break;case 4:if(o===44){t[++n]=Kl()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=lw(o)}while(o=$s());return t},fbe=function(t,r){return DB(hbe(EB(t),r))},DM=new WeakMap,pbe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,o=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!DM.get(n))&&!o){DM.set(t,!0);for(var a=[],c=fbe(r,a),d=n.props,f=0,p=0;f<c.length;f++)for(var g=0;g<d.length;g++,p++)t.props[p]=a[f]?c[f].replace(/&\f/g,d[g]):d[g]+" "+c[f]}}},mbe=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function IB(t,r){switch(Jge(t,r)){case 5103:return Kn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Kn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Kn+t+c1+t+xo+t+t;case 6828:case 4268:return Kn+t+xo+t+t;case 6165:return Kn+t+xo+"flex-"+t+t;case 5187:return Kn+t+Qn(t,/(\w+).+(:[^]+)/,Kn+"box-$1$2"+xo+"flex-$1$2")+t;case 5443:return Kn+t+xo+"flex-item-"+Qn(t,/flex-|-self/,"")+t;case 4675:return Kn+t+xo+"flex-line-pack"+Qn(t,/align-content|flex-|-self/,"")+t;case 5548:return Kn+t+xo+Qn(t,"shrink","negative")+t;case 5292:return Kn+t+xo+Qn(t,"basis","preferred-size")+t;case 6060:return Kn+"box-"+Qn(t,"-grow","")+Kn+t+xo+Qn(t,"grow","positive")+t;case 4554:return Kn+Qn(t,/([^-])(transform)/g,"$1"+Kn+"$2")+t;case 6187:return Qn(Qn(Qn(t,/(zoom-|grab)/,Kn+"$1"),/(image-set)/,Kn+"$1"),t,"")+t;case 5495:case 3959:return Qn(t,/(image-set\([^]*)/,Kn+"$1$`$1");case 4968:return Qn(Qn(t,/(.+:)(flex-)?(.*)/,Kn+"box-pack:$3"+xo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Kn+t+t;case 4095:case 3583:case 4068:case 2532:return Qn(t,/(.+)-inline(.+)/,Kn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Bl(t)-1-r>6)switch(lo(t,r+1)){case 109:if(lo(t,r+4)!==45)break;case 102:return Qn(t,/(.+:)(.+)-([^]+)/,"$1"+Kn+"$2-$3$1"+c1+(lo(t,r+3)==108?"$3":"$2-$3"))+t;case 115:return~kA(t,"stretch")?IB(Qn(t,"stretch","fill-available"),r)+t:t}break;case 4949:if(lo(t,r+1)!==115)break;case 6444:switch(lo(t,Bl(t)-3-(~kA(t,"!important")&&10))){case 107:return Qn(t,":",":"+Kn)+t;case 101:return Qn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Kn+(lo(t,14)===45?"inline-":"")+"box$3$1"+Kn+"$2$3$1"+xo+"$2box$3")+t}break;case 5936:switch(lo(t,r+11)){case 114:return Kn+t+xo+Qn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Kn+t+xo+Qn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Kn+t+xo+Qn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Kn+t+xo+t+t}return t}var gbe=function(t,r,n,o){if(t.length>-1&&!t.return)switch(t.type){case VC:t.return=IB(t.value,t.length);break;case CB:return cp([tg(t,{value:Qn(t.value,"@","@"+Kn)})],o);case qC:if(t.length)return Xge(t.props,function(a){switch(Zge(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return cp([tg(t,{props:[Qn(a,/:(read-\w+)/,":"+c1+"$1")]})],o);case"::placeholder":return cp([tg(t,{props:[Qn(a,/:(plac\w+)/,":"+Kn+"input-$1")]}),tg(t,{props:[Qn(a,/:(plac\w+)/,":"+c1+"$1")]}),tg(t,{props:[Qn(a,/:(plac\w+)/,xo+"input-$1")]})],o)}return""})}},bbe=[gbe],kbe=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(x){var A=x.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var o=t.stylisPlugins||bbe,a={},c,d=[];c=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(x){for(var A=x.getAttribute("data-emotion").split(" "),D=1;D<A.length;D++)a[A[D]]=!0;d.push(x)});var f,p=[pbe,mbe];{var g,k=[lbe,ube(function(x){g.insert(x)})],v=cbe(p.concat(o,k)),y=function(x){return cp(sbe(x),v)};f=function(x,A,D,E){g=D,y(x?x+"{"+A.styles+"}":A.styles),E&&(w.inserted[A.name]=!0)}}var w={key:r,sheet:new Wge({key:r,container:c,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:f};return w.sheet.hydrate(d),w};let yA;typeof document=="object"&&(yA=kbe({key:"css",prepend:!0}));function wbe(t){const{injectFirst:r,children:n}=t;return r&&yA?fn.jsx(mP,{value:yA,children:n}):n}function ybe(t){return t==null||Object.keys(t).length===0}function vbe(t){const{styles:r,defaultTheme:n={}}=t,o=typeof r=="function"?a=>r(ybe(a)?n:a):r;return fn.jsx(gP,{styles:o})}/**
 * @mui/styled-engine v5.16.12
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function _be(t,r){return NA(t,r)}const Abe=(t,r)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=r(t.__emotion_styles))},Cbe=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:vbe,StyledEngineProvider:wbe,ThemeContext:MA,css:Th,default:_be,internal_processStyles:Abe,keyframes:Xl},Symbol.toStringTag,{value:"Module"})),xbe=Wc(Cbe),Sbe=Wc(rge),Ebe=Wc(uge),Dbe=Wc(cge),Ibe=["values","unit","step"],Tbe=t=>{const r=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return r.sort((n,o)=>n.val-o.val),r.reduce((n,o)=>br({},n,{[o.key]:o.val}),{})};function TB(t){const{values:r={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5}=t,a=ld(t,Ibe),c=Tbe(r),d=Object.keys(c);function f(y){return`@media (min-width:${typeof r[y]=="number"?r[y]:y}${n})`}function p(y){return`@media (max-width:${(typeof r[y]=="number"?r[y]:y)-o/100}${n})`}function g(y,w){const x=d.indexOf(w);return`@media (min-width:${typeof r[y]=="number"?r[y]:y}${n}) and (max-width:${(x!==-1&&typeof r[d[x]]=="number"?r[d[x]]:w)-o/100}${n})`}function k(y){return d.indexOf(y)+1<d.length?g(y,d[d.indexOf(y)+1]):f(y)}function v(y){const w=d.indexOf(y);return w===0?f(d[1]):w===d.length-1?p(d[w]):g(y,d[d.indexOf(y)+1]).replace("@media","@media not all and")}return br({keys:d,values:c,up:f,down:p,between:g,only:k,not:v,unit:n},a)}const Nbe={borderRadius:4};function yg(t,r){return r?Yl(t,r,{clone:!1}):t}const $C={xs:0,sm:600,md:900,lg:1200,xl:1536},IM={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${$C[t]}px)`};function Vc(t,r,n){const o=t.theme||{};if(Array.isArray(r)){const a=o.breakpoints||IM;return r.reduce((c,d,f)=>(c[a.up(a.keys[f])]=n(r[f]),c),{})}if(typeof r=="object"){const a=o.breakpoints||IM;return Object.keys(r).reduce((c,d)=>{if(Object.keys(a.values||$C).indexOf(d)!==-1){const f=a.up(d);c[f]=n(r[d],d)}else{const f=d;c[f]=r[f]}return c},{})}return n(r)}function Mbe(t={}){var r;return((r=t.keys)==null?void 0:r.reduce((n,o)=>{const a=t.up(o);return n[a]={},n},{}))||{}}function Pbe(t,r){return t.reduce((n,o)=>{const a=n[o];return(!a||Object.keys(a).length===0)&&delete n[o],n},r)}function dw(t,r,n=!0){if(!r||typeof r!="string")return null;if(t&&t.vars&&n){const o=`vars.${r}`.split(".").reduce((a,c)=>a&&a[c]?a[c]:null,t);if(o!=null)return o}return r.split(".").reduce((o,a)=>o&&o[a]!=null?o[a]:null,t)}function u1(t,r,n,o=n){let a;return typeof t=="function"?a=t(n):Array.isArray(t)?a=t[n]||o:a=dw(t,n)||o,r&&(a=r(a,o,t)),a}function Di(t){const{prop:r,cssProperty:n=t.prop,themeKey:o,transform:a}=t,c=d=>{if(d[r]==null)return null;const f=d[r],p=d.theme,g=dw(p,o)||{};return Vc(d,f,k=>{let v=u1(g,a,k);return k===v&&typeof k=="string"&&(v=u1(g,a,`${r}${k==="default"?"":ed(k)}`,k)),n===!1?v:{[n]:v}})};return c.propTypes={},c.filterProps=[r],c}function Obe(t){const r={};return n=>(r[n]===void 0&&(r[n]=t(n)),r[n])}const Lbe={m:"margin",p:"padding"},Bbe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},TM={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},jbe=Obe(t=>{if(t.length>2)if(TM[t])t=TM[t];else return[t];const[r,n]=t.split(""),o=Lbe[r],a=Bbe[n]||"";return Array.isArray(a)?a.map(c=>o+c):[o+a]}),WC=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],GC=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...WC,...GC];function cb(t,r,n,o){var a;const c=(a=dw(t,r,!1))!=null?a:n;return typeof c=="number"?d=>typeof d=="string"?d:c*d:Array.isArray(c)?d=>typeof d=="string"?d:c[d]:typeof c=="function"?c:()=>{}}function NB(t){return cb(t,"spacing",8)}function ub(t,r){if(typeof r=="string"||r==null)return r;const n=Math.abs(r),o=t(n);return r>=0?o:typeof o=="number"?-o:`-${o}`}function Rbe(t,r){return n=>t.reduce((o,a)=>(o[a]=ub(r,n),o),{})}function Fbe(t,r,n,o){if(r.indexOf(n)===-1)return null;const a=jbe(n),c=Rbe(a,o),d=t[n];return Vc(t,d,c)}function MB(t,r){const n=NB(t.theme);return Object.keys(t).map(o=>Fbe(t,r,o,n)).reduce(yg,{})}function li(t){return MB(t,WC)}li.propTypes={};li.filterProps=WC;function ci(t){return MB(t,GC)}ci.propTypes={};ci.filterProps=GC;function zbe(t=8){if(t.mui)return t;const r=NB({spacing:t}),n=(...o)=>(o.length===0?[1]:o).map(a=>{const c=r(a);return typeof c=="number"?`${c}px`:c}).join(" ");return n.mui=!0,n}function hw(...t){const r=t.reduce((o,a)=>(a.filterProps.forEach(c=>{o[c]=a}),o),{}),n=o=>Object.keys(o).reduce((a,c)=>r[c]?yg(a,r[c](o)):a,{});return n.propTypes={},n.filterProps=t.reduce((o,a)=>o.concat(a.filterProps),[]),n}function xa(t){return typeof t!="number"?t:`${t}px solid`}function Ma(t,r){return Di({prop:t,themeKey:"borders",transform:r})}const Ube=Ma("border",xa),qbe=Ma("borderTop",xa),Vbe=Ma("borderRight",xa),Hbe=Ma("borderBottom",xa),$be=Ma("borderLeft",xa),Wbe=Ma("borderColor"),Gbe=Ma("borderTopColor"),Ybe=Ma("borderRightColor"),Kbe=Ma("borderBottomColor"),Qbe=Ma("borderLeftColor"),Jbe=Ma("outline",xa),Zbe=Ma("outlineColor"),fw=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const r=cb(t.theme,"shape.borderRadius",4),n=o=>({borderRadius:ub(r,o)});return Vc(t,t.borderRadius,n)}return null};fw.propTypes={};fw.filterProps=["borderRadius"];hw(Ube,qbe,Vbe,Hbe,$be,Wbe,Gbe,Ybe,Kbe,Qbe,fw,Jbe,Zbe);const pw=t=>{if(t.gap!==void 0&&t.gap!==null){const r=cb(t.theme,"spacing",8),n=o=>({gap:ub(r,o)});return Vc(t,t.gap,n)}return null};pw.propTypes={};pw.filterProps=["gap"];const mw=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const r=cb(t.theme,"spacing",8),n=o=>({columnGap:ub(r,o)});return Vc(t,t.columnGap,n)}return null};mw.propTypes={};mw.filterProps=["columnGap"];const gw=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const r=cb(t.theme,"spacing",8),n=o=>({rowGap:ub(r,o)});return Vc(t,t.rowGap,n)}return null};gw.propTypes={};gw.filterProps=["rowGap"];const Xbe=Di({prop:"gridColumn"}),e0e=Di({prop:"gridRow"}),t0e=Di({prop:"gridAutoFlow"}),n0e=Di({prop:"gridAutoColumns"}),r0e=Di({prop:"gridAutoRows"}),i0e=Di({prop:"gridTemplateColumns"}),o0e=Di({prop:"gridTemplateRows"}),s0e=Di({prop:"gridTemplateAreas"}),a0e=Di({prop:"gridArea"});hw(pw,mw,gw,Xbe,e0e,t0e,n0e,r0e,i0e,o0e,s0e,a0e);function up(t,r){return r==="grey"?r:t}const l0e=Di({prop:"color",themeKey:"palette",transform:up}),c0e=Di({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:up}),u0e=Di({prop:"backgroundColor",themeKey:"palette",transform:up});hw(l0e,c0e,u0e);function js(t){return t<=1&&t!==0?`${t*100}%`:t}const d0e=Di({prop:"width",transform:js}),YC=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const r=n=>{var o,a;const c=((o=t.theme)==null||(o=o.breakpoints)==null||(o=o.values)==null?void 0:o[n])||$C[n];return c?((a=t.theme)==null||(a=a.breakpoints)==null?void 0:a.unit)!=="px"?{maxWidth:`${c}${t.theme.breakpoints.unit}`}:{maxWidth:c}:{maxWidth:js(n)}};return Vc(t,t.maxWidth,r)}return null};YC.filterProps=["maxWidth"];const h0e=Di({prop:"minWidth",transform:js}),f0e=Di({prop:"height",transform:js}),p0e=Di({prop:"maxHeight",transform:js}),m0e=Di({prop:"minHeight",transform:js});Di({prop:"size",cssProperty:"width",transform:js});Di({prop:"size",cssProperty:"height",transform:js});const g0e=Di({prop:"boxSizing"});hw(d0e,YC,h0e,f0e,p0e,m0e,g0e);const db={border:{themeKey:"borders",transform:xa},borderTop:{themeKey:"borders",transform:xa},borderRight:{themeKey:"borders",transform:xa},borderBottom:{themeKey:"borders",transform:xa},borderLeft:{themeKey:"borders",transform:xa},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:xa},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:fw},color:{themeKey:"palette",transform:up},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:up},backgroundColor:{themeKey:"palette",transform:up},p:{style:ci},pt:{style:ci},pr:{style:ci},pb:{style:ci},pl:{style:ci},px:{style:ci},py:{style:ci},padding:{style:ci},paddingTop:{style:ci},paddingRight:{style:ci},paddingBottom:{style:ci},paddingLeft:{style:ci},paddingX:{style:ci},paddingY:{style:ci},paddingInline:{style:ci},paddingInlineStart:{style:ci},paddingInlineEnd:{style:ci},paddingBlock:{style:ci},paddingBlockStart:{style:ci},paddingBlockEnd:{style:ci},m:{style:li},mt:{style:li},mr:{style:li},mb:{style:li},ml:{style:li},mx:{style:li},my:{style:li},margin:{style:li},marginTop:{style:li},marginRight:{style:li},marginBottom:{style:li},marginLeft:{style:li},marginX:{style:li},marginY:{style:li},marginInline:{style:li},marginInlineStart:{style:li},marginInlineEnd:{style:li},marginBlock:{style:li},marginBlockStart:{style:li},marginBlockEnd:{style:li},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:pw},rowGap:{style:gw},columnGap:{style:mw},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:js},maxWidth:{style:YC},minWidth:{transform:js},height:{transform:js},maxHeight:{transform:js},minHeight:{transform:js},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function b0e(...t){const r=t.reduce((o,a)=>o.concat(Object.keys(a)),[]),n=new Set(r);return t.every(o=>n.size===Object.keys(o).length)}function k0e(t,r){return typeof t=="function"?t(r):t}function PB(){function t(n,o,a,c){const d={[n]:o,theme:a},f=c[n];if(!f)return{[n]:o};const{cssProperty:p=n,themeKey:g,transform:k,style:v}=f;if(o==null)return null;if(g==="typography"&&o==="inherit")return{[n]:o};const y=dw(a,g)||{};return v?v(d):Vc(d,o,w=>{let x=u1(y,k,w);return w===x&&typeof w=="string"&&(x=u1(y,k,`${n}${w==="default"?"":ed(w)}`,w)),p===!1?x:{[p]:x}})}function r(n){var o;const{sx:a,theme:c={}}=n||{};if(!a)return null;const d=(o=c.unstable_sxConfig)!=null?o:db;function f(p){let g=p;if(typeof p=="function")g=p(c);else if(typeof p!="object")return p;if(!g)return null;const k=Mbe(c.breakpoints),v=Object.keys(k);let y=k;return Object.keys(g).forEach(w=>{const x=k0e(g[w],c);if(x!=null)if(typeof x=="object")if(d[w])y=yg(y,t(w,x,c,d));else{const A=Vc({theme:c},x,D=>({[w]:D}));b0e(A,x)?y[w]=r({sx:x,theme:c}):y=yg(y,A)}else y=yg(y,t(w,x,c,d))}),Pbe(v,y)}return Array.isArray(a)?a.map(f):f(a)}return r}const bw=PB();bw.filterProps=["sx"];function OB(t,r){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:r}:n.palette.mode===t?r:{}}const w0e=["breakpoints","palette","spacing","shape"];function LB(t={},...r){const{breakpoints:n={},palette:o={},spacing:a,shape:c={}}=t,d=ld(t,w0e),f=TB(n),p=zbe(a);let g=Yl({breakpoints:f,direction:"ltr",components:{},palette:br({mode:"light"},o),spacing:p,shape:br({},Nbe,c)},d);return g.applyStyles=OB,g=r.reduce((k,v)=>Yl(k,v),g),g.unstable_sxConfig=br({},db,d==null?void 0:d.unstable_sxConfig),g.unstable_sx=function(k){return bw({sx:k,theme:this})},g}const y0e=Object.freeze(Object.defineProperty({__proto__:null,default:LB,private_createBreakpoints:TB,unstable_applyStyles:OB},Symbol.toStringTag,{value:"Module"})),v0e=Wc(y0e),_0e=["sx"],A0e=t=>{var r,n;const o={systemProps:{},otherProps:{}},a=(r=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?r:db;return Object.keys(t).forEach(c=>{a[c]?o.systemProps[c]=t[c]:o.otherProps[c]=t[c]}),o};function C0e(t){const{sx:r}=t,n=ld(t,_0e),{systemProps:o,otherProps:a}=A0e(n);let c;return Array.isArray(r)?c=[o,...r]:typeof r=="function"?c=(...d)=>{const f=r(...d);return ju(f)?br({},o,f):o}:c=br({},o,r),br({},a,{sx:c})}const x0e=Object.freeze(Object.defineProperty({__proto__:null,default:bw,extendSxProp:C0e,unstable_createStyleFunctionSx:PB,unstable_defaultSxConfig:db},Symbol.toStringTag,{value:"Module"})),S0e=Wc(x0e);var NM;function E0e(){if(NM)return Zd;NM=1;var t=sw();Object.defineProperty(Zd,"__esModule",{value:!0}),Zd.default=F,Zd.shouldForwardProp=x,Zd.systemDefaultTheme=void 0;var r=t(qge()),n=t(Vge()),o=v(xbe),a=Sbe;t(Ebe),t(Dbe);var c=t(v0e),d=t(S0e);const f=["ownerState"],p=["variants"],g=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function k(H){if(typeof WeakMap!="function")return null;var V=new WeakMap,N=new WeakMap;return(k=function(j){return j?N:V})(H)}function v(H,V){if(H&&H.__esModule)return H;if(H===null||typeof H!="object"&&typeof H!="function")return{default:H};var N=k(V);if(N&&N.has(H))return N.get(H);var j={__proto__:null},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Q in H)if(Q!=="default"&&Object.prototype.hasOwnProperty.call(H,Q)){var $=q?Object.getOwnPropertyDescriptor(H,Q):null;$&&($.get||$.set)?Object.defineProperty(j,Q,$):j[Q]=H[Q]}return j.default=H,N&&N.set(H,j),j}function y(H){return Object.keys(H).length===0}function w(H){return typeof H=="string"&&H.charCodeAt(0)>96}function x(H){return H!=="ownerState"&&H!=="theme"&&H!=="sx"&&H!=="as"}const A=Zd.systemDefaultTheme=(0,c.default)(),D=H=>H&&H.charAt(0).toLowerCase()+H.slice(1);function E({defaultTheme:H,theme:V,themeId:N}){return y(V)?H:V[N]||V}function M(H){return H?(V,N)=>N[H]:null}function P(H,V){let{ownerState:N}=V,j=(0,n.default)(V,f);const q=typeof H=="function"?H((0,r.default)({ownerState:N},j)):H;if(Array.isArray(q))return q.flatMap(Q=>P(Q,(0,r.default)({ownerState:N},j)));if(q&&typeof q=="object"&&Array.isArray(q.variants)){const{variants:Q=[]}=q;let $=(0,n.default)(q,p);return Q.forEach(R=>{let Y=!0;typeof R.props=="function"?Y=R.props((0,r.default)({ownerState:N},j,N)):Object.keys(R.props).forEach(B=>{(N==null?void 0:N[B])!==R.props[B]&&j[B]!==R.props[B]&&(Y=!1)}),Y&&(Array.isArray($)||($=[$]),$.push(typeof R.style=="function"?R.style((0,r.default)({ownerState:N},j,N)):R.style))}),$}return q}function F(H={}){const{themeId:V,defaultTheme:N=A,rootShouldForwardProp:j=x,slotShouldForwardProp:q=x}=H,Q=$=>(0,d.default)((0,r.default)({},$,{theme:E((0,r.default)({},$,{defaultTheme:N,themeId:V}))}));return Q.__mui_systemSx=!0,($,R={})=>{(0,o.internal_processStyles)($,we=>we.filter(Pe=>!(Pe!=null&&Pe.__mui_systemSx)));const{name:Y,slot:B,skipVariantsResolver:ne,skipSx:de,overridesResolver:ae=M(D(B))}=R,oe=(0,n.default)(R,g),ye=ne!==void 0?ne:B&&B!=="Root"&&B!=="root"||!1,re=de||!1;let xe,X=x;B==="Root"||B==="root"?X=j:B?X=q:w($)&&(X=void 0);const Z=(0,o.default)($,(0,r.default)({shouldForwardProp:X,label:xe},oe)),se=we=>typeof we=="function"&&we.__emotion_real!==we||(0,a.isPlainObject)(we)?Pe=>P(we,(0,r.default)({},Pe,{theme:E({theme:Pe.theme,defaultTheme:N,themeId:V})})):we,pe=(we,...Pe)=>{let Te=se(we);const Ne=Pe?Pe.map(se):[];Y&&ae&&Ne.push(Qe=>{const ze=E((0,r.default)({},Qe,{defaultTheme:N,themeId:V}));if(!ze.components||!ze.components[Y]||!ze.components[Y].styleOverrides)return null;const J=ze.components[Y].styleOverrides,Ce={};return Object.entries(J).forEach(([ue,ge])=>{Ce[ue]=P(ge,(0,r.default)({},Qe,{theme:ze}))}),ae(Qe,Ce)}),Y&&!ye&&Ne.push(Qe=>{var ze;const J=E((0,r.default)({},Qe,{defaultTheme:N,themeId:V})),Ce=J==null||(ze=J.components)==null||(ze=ze[Y])==null?void 0:ze.variants;return P({variants:Ce},(0,r.default)({},Qe,{theme:J}))}),re||Ne.push(Q);const rt=Ne.length-Pe.length;if(Array.isArray(we)&&rt>0){const Qe=new Array(rt).fill("");Te=[...we,...Qe],Te.raw=[...we.raw,...Qe]}const Ke=Z(Te,...Ne);return $.muiName&&(Ke.muiName=$.muiName),Ke};return Z.withConfig&&(pe.withConfig=Z.withConfig),pe}}return Zd}var D0e=E0e();const I0e=FC(D0e);function T0e(t,r){return br({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},r)}var Qr={};const N0e=Wc(ige),M0e=Wc(Bge);var MM;function P0e(){if(MM)return Qr;MM=1;var t=sw();Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.alpha=x,Qr.blend=V,Qr.colorChannel=void 0,Qr.darken=D,Qr.decomposeColor=d,Qr.emphasize=F,Qr.getContrastRatio=w,Qr.getLuminance=y,Qr.hexToRgb=a,Qr.hslToRgb=v,Qr.lighten=M,Qr.private_safeAlpha=A,Qr.private_safeColorChannel=void 0,Qr.private_safeDarken=E,Qr.private_safeEmphasize=H,Qr.private_safeLighten=P,Qr.recomposeColor=g,Qr.rgbToHex=k;var r=t(N0e),n=t(M0e);function o(N,j=0,q=1){return(0,n.default)(N,j,q)}function a(N){N=N.slice(1);const j=new RegExp(`.{1,${N.length>=6?2:1}}`,"g");let q=N.match(j);return q&&q[0].length===1&&(q=q.map(Q=>Q+Q)),q?`rgb${q.length===4?"a":""}(${q.map((Q,$)=>$<3?parseInt(Q,16):Math.round(parseInt(Q,16)/255*1e3)/1e3).join(", ")})`:""}function c(N){const j=N.toString(16);return j.length===1?`0${j}`:j}function d(N){if(N.type)return N;if(N.charAt(0)==="#")return d(a(N));const j=N.indexOf("("),q=N.substring(0,j);if(["rgb","rgba","hsl","hsla","color"].indexOf(q)===-1)throw new Error((0,r.default)(9,N));let Q=N.substring(j+1,N.length-1),$;if(q==="color"){if(Q=Q.split(" "),$=Q.shift(),Q.length===4&&Q[3].charAt(0)==="/"&&(Q[3]=Q[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf($)===-1)throw new Error((0,r.default)(10,$))}else Q=Q.split(",");return Q=Q.map(R=>parseFloat(R)),{type:q,values:Q,colorSpace:$}}const f=N=>{const j=d(N);return j.values.slice(0,3).map((q,Q)=>j.type.indexOf("hsl")!==-1&&Q!==0?`${q}%`:q).join(" ")};Qr.colorChannel=f;const p=(N,j)=>{try{return f(N)}catch{return N}};Qr.private_safeColorChannel=p;function g(N){const{type:j,colorSpace:q}=N;let{values:Q}=N;return j.indexOf("rgb")!==-1?Q=Q.map(($,R)=>R<3?parseInt($,10):$):j.indexOf("hsl")!==-1&&(Q[1]=`${Q[1]}%`,Q[2]=`${Q[2]}%`),j.indexOf("color")!==-1?Q=`${q} ${Q.join(" ")}`:Q=`${Q.join(", ")}`,`${j}(${Q})`}function k(N){if(N.indexOf("#")===0)return N;const{values:j}=d(N);return`#${j.map((q,Q)=>c(Q===3?Math.round(255*q):q)).join("")}`}function v(N){N=d(N);const{values:j}=N,q=j[0],Q=j[1]/100,$=j[2]/100,R=Q*Math.min($,1-$),Y=(de,ae=(de+q/30)%12)=>$-R*Math.max(Math.min(ae-3,9-ae,1),-1);let B="rgb";const ne=[Math.round(Y(0)*255),Math.round(Y(8)*255),Math.round(Y(4)*255)];return N.type==="hsla"&&(B+="a",ne.push(j[3])),g({type:B,values:ne})}function y(N){N=d(N);let j=N.type==="hsl"||N.type==="hsla"?d(v(N)).values:N.values;return j=j.map(q=>(N.type!=="color"&&(q/=255),q<=.03928?q/12.92:((q+.055)/1.055)**2.4)),Number((.2126*j[0]+.7152*j[1]+.0722*j[2]).toFixed(3))}function w(N,j){const q=y(N),Q=y(j);return(Math.max(q,Q)+.05)/(Math.min(q,Q)+.05)}function x(N,j){return N=d(N),j=o(j),(N.type==="rgb"||N.type==="hsl")&&(N.type+="a"),N.type==="color"?N.values[3]=`/${j}`:N.values[3]=j,g(N)}function A(N,j,q){try{return x(N,j)}catch{return N}}function D(N,j){if(N=d(N),j=o(j),N.type.indexOf("hsl")!==-1)N.values[2]*=1-j;else if(N.type.indexOf("rgb")!==-1||N.type.indexOf("color")!==-1)for(let q=0;q<3;q+=1)N.values[q]*=1-j;return g(N)}function E(N,j,q){try{return D(N,j)}catch{return N}}function M(N,j){if(N=d(N),j=o(j),N.type.indexOf("hsl")!==-1)N.values[2]+=(100-N.values[2])*j;else if(N.type.indexOf("rgb")!==-1)for(let q=0;q<3;q+=1)N.values[q]+=(255-N.values[q])*j;else if(N.type.indexOf("color")!==-1)for(let q=0;q<3;q+=1)N.values[q]+=(1-N.values[q])*j;return g(N)}function P(N,j,q){try{return M(N,j)}catch{return N}}function F(N,j=.15){return y(N)>.5?D(N,j):M(N,j)}function H(N,j,q){try{return F(N,j)}catch{return N}}function V(N,j,q,Q=1){const $=(ne,de)=>Math.round((ne**(1/Q)*(1-q)+de**(1/Q)*q)**Q),R=d(N),Y=d(j),B=[$(R.values[0],Y.values[0]),$(R.values[1],Y.values[1]),$(R.values[2],Y.values[2])];return g({type:"rgb",values:B})}return Qr}var vA=P0e();const Fg={black:"#000",white:"#fff"},O0e={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ff={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},zf={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},ng={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Uf={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},qf={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Vf={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},L0e=["mode","contrastThreshold","tonalOffset"],PM={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Fg.white,default:Fg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},b_={text:{primary:Fg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Fg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function OM(t,r,n,o){const a=o.light||o,c=o.dark||o*1.5;t[r]||(t.hasOwnProperty(n)?t[r]=t[n]:r==="light"?t.light=vA.lighten(t.main,a):r==="dark"&&(t.dark=vA.darken(t.main,c)))}function B0e(t="light"){return t==="dark"?{main:Uf[200],light:Uf[50],dark:Uf[400]}:{main:Uf[700],light:Uf[400],dark:Uf[800]}}function j0e(t="light"){return t==="dark"?{main:Ff[200],light:Ff[50],dark:Ff[400]}:{main:Ff[500],light:Ff[300],dark:Ff[700]}}function R0e(t="light"){return t==="dark"?{main:zf[500],light:zf[300],dark:zf[700]}:{main:zf[700],light:zf[400],dark:zf[800]}}function F0e(t="light"){return t==="dark"?{main:qf[400],light:qf[300],dark:qf[700]}:{main:qf[700],light:qf[500],dark:qf[900]}}function z0e(t="light"){return t==="dark"?{main:Vf[400],light:Vf[300],dark:Vf[700]}:{main:Vf[800],light:Vf[500],dark:Vf[900]}}function U0e(t="light"){return t==="dark"?{main:ng[400],light:ng[300],dark:ng[700]}:{main:"#ed6c02",light:ng[500],dark:ng[900]}}function q0e(t){const{mode:r="light",contrastThreshold:n=3,tonalOffset:o=.2}=t,a=ld(t,L0e),c=t.primary||B0e(r),d=t.secondary||j0e(r),f=t.error||R0e(r),p=t.info||F0e(r),g=t.success||z0e(r),k=t.warning||U0e(r);function v(x){return vA.getContrastRatio(x,b_.text.primary)>=n?b_.text.primary:PM.text.primary}const y=({color:x,name:A,mainShade:D=500,lightShade:E=300,darkShade:M=700})=>{if(x=br({},x),!x.main&&x[D]&&(x.main=x[D]),!x.hasOwnProperty("main"))throw new Error(Bg(11,A?` (${A})`:"",D));if(typeof x.main!="string")throw new Error(Bg(12,A?` (${A})`:"",JSON.stringify(x.main)));return OM(x,"light",E,o),OM(x,"dark",M,o),x.contrastText||(x.contrastText=v(x.main)),x},w={dark:b_,light:PM};return Yl(br({common:br({},Fg),mode:r,primary:y({color:c,name:"primary"}),secondary:y({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:f,name:"error"}),warning:y({color:k,name:"warning"}),info:y({color:p,name:"info"}),success:y({color:g,name:"success"}),grey:O0e,contrastThreshold:n,getContrastText:v,augmentColor:y,tonalOffset:o},w[r]),a)}const V0e=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function H0e(t){return Math.round(t*1e5)/1e5}const LM={textTransform:"uppercase"},BM='"Roboto", "Helvetica", "Arial", sans-serif';function $0e(t,r){const n=typeof r=="function"?r(t):r,{fontFamily:o=BM,fontSize:a=14,fontWeightLight:c=300,fontWeightRegular:d=400,fontWeightMedium:f=500,fontWeightBold:p=700,htmlFontSize:g=16,allVariants:k,pxToRem:v}=n,y=ld(n,V0e),w=a/14,x=v||(E=>`${E/g*w}rem`),A=(E,M,P,F,H)=>br({fontFamily:o,fontWeight:E,fontSize:x(M),lineHeight:P},o===BM?{letterSpacing:`${H0e(F/M)}em`}:{},H,k),D={h1:A(c,96,1.167,-1.5),h2:A(c,60,1.2,-.5),h3:A(d,48,1.167,0),h4:A(d,34,1.235,.25),h5:A(d,24,1.334,0),h6:A(f,20,1.6,.15),subtitle1:A(d,16,1.75,.15),subtitle2:A(f,14,1.57,.1),body1:A(d,16,1.5,.15),body2:A(d,14,1.43,.15),button:A(f,14,1.75,.4,LM),caption:A(d,12,1.66,.4),overline:A(d,12,2.66,1,LM),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Yl(br({htmlFontSize:g,pxToRem:x,fontFamily:o,fontSize:a,fontWeightLight:c,fontWeightRegular:d,fontWeightMedium:f,fontWeightBold:p},D),y,{clone:!1})}const W0e=.2,G0e=.14,Y0e=.12;function jr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${W0e})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${G0e})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Y0e})`].join(",")}const K0e=["none",jr(0,2,1,-1,0,1,1,0,0,1,3,0),jr(0,3,1,-2,0,2,2,0,0,1,5,0),jr(0,3,3,-2,0,3,4,0,0,1,8,0),jr(0,2,4,-1,0,4,5,0,0,1,10,0),jr(0,3,5,-1,0,5,8,0,0,1,14,0),jr(0,3,5,-1,0,6,10,0,0,1,18,0),jr(0,4,5,-2,0,7,10,1,0,2,16,1),jr(0,5,5,-3,0,8,10,1,0,3,14,2),jr(0,5,6,-3,0,9,12,1,0,3,16,2),jr(0,6,6,-3,0,10,14,1,0,4,18,3),jr(0,6,7,-4,0,11,15,1,0,4,20,3),jr(0,7,8,-4,0,12,17,2,0,5,22,4),jr(0,7,8,-4,0,13,19,2,0,5,24,4),jr(0,7,9,-4,0,14,21,2,0,5,26,4),jr(0,8,9,-5,0,15,22,2,0,6,28,5),jr(0,8,10,-5,0,16,24,2,0,6,30,5),jr(0,8,11,-5,0,17,26,2,0,6,32,5),jr(0,9,11,-5,0,18,28,2,0,7,34,6),jr(0,9,12,-6,0,19,29,2,0,7,36,6),jr(0,10,13,-6,0,20,31,3,0,8,38,7),jr(0,10,13,-6,0,21,33,3,0,8,40,7),jr(0,10,14,-6,0,22,35,3,0,8,42,7),jr(0,11,14,-7,0,23,36,3,0,9,44,8),jr(0,11,15,-7,0,24,38,3,0,9,46,8)],Q0e=["duration","easing","delay"],J0e={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Z0e={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function jM(t){return`${Math.round(t)}ms`}function X0e(t){if(!t)return 0;const r=t/36;return Math.round((4+15*r**.25+r/5)*10)}function eke(t){const r=br({},J0e,t.easing),n=br({},Z0e,t.duration);return br({getAutoHeightDuration:X0e,create:(o=["all"],a={})=>{const{duration:c=n.standard,easing:d=r.easeInOut,delay:f=0}=a;return ld(a,Q0e),(Array.isArray(o)?o:[o]).map(p=>`${p} ${typeof c=="string"?c:jM(c)} ${d} ${typeof f=="string"?f:jM(f)}`).join(",")}},t,{easing:r,duration:n})}const tke={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},nke=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function rke(t={},...r){const{mixins:n={},palette:o={},transitions:a={},typography:c={}}=t,d=ld(t,nke);if(t.vars)throw new Error(Bg(18));const f=q0e(o),p=LB(t);let g=Yl(p,{mixins:T0e(p.breakpoints,n),palette:f,shadows:K0e.slice(),typography:$0e(f,c),transitions:eke(a),zIndex:br({},tke)});return g=Yl(g,d),g=r.reduce((k,v)=>Yl(k,v),g),g.unstable_sxConfig=br({},db,d==null?void 0:d.unstable_sxConfig),g.unstable_sx=function(k){return bw({sx:k,theme:this})},g}const ike=rke(),oke="$$material";function ske(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const ake=t=>ske(t)&&t!=="classes",lke=I0e({themeId:oke,defaultTheme:ike,rootShouldForwardProp:ake});function cke(t){return vB("MuiSvgIcon",t)}Oge("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const uke=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],dke=t=>{const{color:r,fontSize:n,classes:o}=t,a={root:["root",r!=="inherit"&&`color${ed(r)}`,`fontSize${ed(n)}`]};return Nge(a,cke,o)},hke=lke("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.color!=="inherit"&&r[`color${ed(n.color)}`],r[`fontSize${ed(n.fontSize)}`]]}})(({theme:t,ownerState:r})=>{var n,o,a,c,d,f,p,g,k,v,y,w,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:r.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(o=n.create)==null?void 0:o.call(n,"fill",{duration:(a=t.transitions)==null||(a=a.duration)==null?void 0:a.shorter}),fontSize:{inherit:"inherit",small:((c=t.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,20))||"1.25rem",medium:((f=t.typography)==null||(p=f.pxToRem)==null?void 0:p.call(f,24))||"1.5rem",large:((g=t.typography)==null||(k=g.pxToRem)==null?void 0:k.call(g,35))||"2.1875rem"}[r.fontSize],color:(v=(y=(t.vars||t).palette)==null||(y=y[r.color])==null?void 0:y.main)!=null?v:{action:(w=(t.vars||t).palette)==null||(w=w.action)==null?void 0:w.active,disabled:(x=(t.vars||t).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[r.color]}}),_A=K.forwardRef(function(t,r){const n=Uge({props:t,name:"MuiSvgIcon"}),{children:o,className:a,color:c="inherit",component:d="svg",fontSize:f="medium",htmlColor:p,inheritViewBox:g=!1,titleAccess:k,viewBox:v="0 0 24 24"}=n,y=ld(n,uke),w=K.isValidElement(o)&&o.type==="svg",x=br({},n,{color:c,component:d,fontSize:f,instanceFontSize:t.fontSize,inheritViewBox:g,viewBox:v,hasSvgAsChild:w}),A={};g||(A.viewBox=v);const D=dke(x);return fn.jsxs(hke,br({as:d,className:jge(D.root,a),focusable:"false",color:p,"aria-hidden":k?void 0:!0,role:k?"img":void 0,ref:r},A,y,w&&o.props,{ownerState:x,children:[w?o.props.children:o,k?fn.jsx("title",{children:k}):null]}))});_A.muiName="SvgIcon";function fke(t,r){function n(o,a){return fn.jsx(_A,br({"data-testid":`${r}Icon`,ref:a},o,{children:t}))}return n.muiName=_A.muiName,K.memo(K.forwardRef(n))}const pke={configure:t=>{yB.configure(t)}},mke=Object.freeze(Object.defineProperty({__proto__:null,capitalize:ed,createChainedFunction:dge,createSvgIcon:fke,debounce:hge,deprecatedPropType:fge,isMuiElement:pge,ownerDocument:bB,ownerWindow:mge,requirePropFactory:gge,setRef:kB,unstable_ClassNameGenerator:pke,unstable_useEnhancedEffect:wB,unstable_useId:kge,unsupportedProp:wge,useControlled:yge,useEventCallback:vge,useForkRef:_ge,useIsFocusVisible:Tge},Symbol.toStringTag,{value:"Module"})),gke=Wc(mke);var RM;function BB(){return RM||(RM=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=gke}(fM)),fM}var FM;function bke(){if(FM)return eg;FM=1;var t=sw();Object.defineProperty(eg,"__esModule",{value:!0}),eg.default=void 0;var r=t(BB()),n=zC();return eg.default=(0,r.default)((0,n.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat"),eg}var kke=bke();const wke=FC(kke),k_={chatToggleButton:{position:"fixed",bottom:20,right:20,bgcolor:"#CDDAFF",color:"white",width:60,height:60,borderRadius:"50%",boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.3)","&:hover":{bgcolor:"#0B53C0"},transition:"background-color 0.3s, transform 0.3s","&:active":{transform:"scale(0.95)"}},chatContainer:(t,r)=>({position:"fixed",bottom:t?0:20,right:t?0:20,width:t?"80%":r?"60%":650,height:t?"50%":r?"55%":700,padding:t?1:2,display:"flex",flexDirection:"column",borderRadius:t?0:"16px",backgroundColor:"#F0F4FF",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)"}),chatHeader:{fontFamily:"Staatliches, Arial, sans-serif",fontWeight:"bold",color:"black",fontSize:"1.25rem"},chatMessageInput:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif",borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}},chatMessageBox:{maxWidth:"70%",borderRadius:"15px",padding:1,paddingX:2,boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)","&.user":{bgcolor:"#f0f0f0",color:"#555",alignSelf:"flex-end"},"&.bot":{bgcolor:"#CDDAFF",color:"black",alignSelf:"flex-start","&:hover":{bgcolor:"#0B53C0",color:"white"}}},chatButtons:{backgroundColor:"#CDDAFF",color:"black",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",color:"white"}}},yke=({responses:t})=>fn.jsx(Ja,{sx:{flexGrow:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:2,padding:2,backgroundColor:"transparent"},children:t.length>0?t.map((r,n)=>fn.jsxs(Ja,{sx:{display:"flex",flexDirection:"column",alignItems:r.question?"flex-end":"flex-start"},children:[r.question&&fn.jsx(Ja,{sx:{maxWidth:"70%",bgcolor:"#f0f0f0",color:"#555",borderRadius:"15px",p:1,px:2,mb:2,alignSelf:"flex-end",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)"},children:fn.jsx(yh,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"#555"},children:r.question})}),(r.answer||r.text)&&fn.jsx(Ja,{sx:{maxWidth:"70%",bgcolor:"#CDDAFF",color:"black",borderRadius:"15px",p:1,px:2,alignSelf:"flex-start",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",mb:.3,"&:hover":{bgcolor:"#0B53C0",color:"white"}},children:fn.jsx(yh,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"inherit",transition:"color 0.3s ease"},children:fn.jsx(RC,{children:r.answer||r.text})})})]},n)):fn.jsx(yh,{variant:"body2",sx:{textAlign:"center",color:"#6c757d",fontFamily:"Gabarito, Arial, sans-serif"},children:"No messages yet. Start the conversation!"})}),vke=({onSendMessage:t,onStartConversation:r,onEndConversation:n,conversationId:o})=>{const[a,c]=K.useState(""),d=()=>{a.trim()&&(t(a),c(""))},f=()=>{o||r()},p=()=>{o&&n()};return fn.jsxs(Ja,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[fn.jsxs(Ja,{sx:{display:"flex",gap:1},children:[fn.jsx(ihe,{variant:"outlined",placeholder:"Type your message...",fullWidth:!0,size:"small",value:a,onChange:g=>c(g.target.value),onKeyDown:g=>{g.key==="Enter"&&d()},sx:{"& .MuiOutlinedInput-root":{borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}}}),fn.jsx(mg,{variant:"contained",onClick:d,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"Send"})]}),o?fn.jsx(mg,{variant:"outlined",onClick:p,sx:{color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none",borderColor:"#CDDAFF","&:hover":{borderColor:"#0B53C0",color:"#0B53C0"}},children:"END CONVERSATION"}):fn.jsx(mg,{variant:"contained",onClick:f,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"START CONVERSATION"})]})};var rg={},zM;function _ke(){if(zM)return rg;zM=1;var t=sw();Object.defineProperty(rg,"__esModule",{value:!0}),rg.default=void 0;var r=t(BB()),n=zC();return rg.default=(0,r.default)((0,n.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),rg}var Ake=_ke();const Cke=FC(Ake);function jB(t,r){return function(){return t.apply(r,arguments)}}const{toString:xke}=Object.prototype,{getPrototypeOf:KC}=Object,kw=(t=>r=>{const n=xke.call(r);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),il=t=>(t=t.toLowerCase(),r=>kw(r)===t),ww=t=>r=>typeof r===t,{isArray:Np}=Array,zg=ww("undefined");function Ske(t){return t!==null&&!zg(t)&&t.constructor!==null&&!zg(t.constructor)&&Ws(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const RB=il("ArrayBuffer");function Eke(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&RB(t.buffer),r}const Dke=ww("string"),Ws=ww("function"),FB=ww("number"),yw=t=>t!==null&&typeof t=="object",Ike=t=>t===!0||t===!1,Sk=t=>{if(kw(t)!=="object")return!1;const r=KC(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Tke=il("Date"),Nke=il("File"),Mke=il("Blob"),Pke=il("FileList"),Oke=t=>yw(t)&&Ws(t.pipe),Lke=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||Ws(t.append)&&((r=kw(t))==="formdata"||r==="object"&&Ws(t.toString)&&t.toString()==="[object FormData]"))},Bke=il("URLSearchParams"),[jke,Rke,Fke,zke]=["ReadableStream","Request","Response","Headers"].map(il),Uke=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hb(t,r,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let o,a;if(typeof t!="object"&&(t=[t]),Np(t))for(o=0,a=t.length;o<a;o++)r.call(null,t[o],o,t);else{const c=n?Object.getOwnPropertyNames(t):Object.keys(t),d=c.length;let f;for(o=0;o<d;o++)f=c[o],r.call(null,t[f],f,t)}}function zB(t,r){r=r.toLowerCase();const n=Object.keys(t);let o=n.length,a;for(;o-- >0;)if(a=n[o],r===a.toLowerCase())return a;return null}const dh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,UB=t=>!zg(t)&&t!==dh;function AA(){const{caseless:t}=UB(this)&&this||{},r={},n=(o,a)=>{const c=t&&zB(r,a)||a;Sk(r[c])&&Sk(o)?r[c]=AA(r[c],o):Sk(o)?r[c]=AA({},o):Np(o)?r[c]=o.slice():r[c]=o};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&hb(arguments[o],n);return r}const qke=(t,r,n,{allOwnKeys:o}={})=>(hb(r,(a,c)=>{n&&Ws(a)?t[c]=jB(a,n):t[c]=a},{allOwnKeys:o}),t),Vke=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Hke=(t,r,n,o)=>{t.prototype=Object.create(r.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),n&&Object.assign(t.prototype,n)},$ke=(t,r,n,o)=>{let a,c,d;const f={};if(r=r||{},t==null)return r;do{for(a=Object.getOwnPropertyNames(t),c=a.length;c-- >0;)d=a[c],(!o||o(d,t,r))&&!f[d]&&(r[d]=t[d],f[d]=!0);t=n!==!1&&KC(t)}while(t&&(!n||n(t,r))&&t!==Object.prototype);return r},Wke=(t,r,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=r.length;const o=t.indexOf(r,n);return o!==-1&&o===n},Gke=t=>{if(!t)return null;if(Np(t))return t;let r=t.length;if(!FB(r))return null;const n=new Array(r);for(;r-- >0;)n[r]=t[r];return n},Yke=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&KC(Uint8Array)),Kke=(t,r)=>{const n=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=n.next())&&!o.done;){const a=o.value;r.call(t,a[0],a[1])}},Qke=(t,r)=>{let n;const o=[];for(;(n=t.exec(r))!==null;)o.push(n);return o},Jke=il("HTMLFormElement"),Zke=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),UM=(({hasOwnProperty:t})=>(r,n)=>t.call(r,n))(Object.prototype),Xke=il("RegExp"),qB=(t,r)=>{const n=Object.getOwnPropertyDescriptors(t),o={};hb(n,(a,c)=>{let d;(d=r(a,c,t))!==!1&&(o[c]=d||a)}),Object.defineProperties(t,o)},e1e=t=>{qB(t,(r,n)=>{if(Ws(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=t[n];if(Ws(o)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},t1e=(t,r)=>{const n={},o=a=>{a.forEach(c=>{n[c]=!0})};return Np(t)?o(t):o(String(t).split(r)),n},n1e=()=>{},r1e=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r,w_="abcdefghijklmnopqrstuvwxyz",qM="0123456789",VB={DIGIT:qM,ALPHA:w_,ALPHA_DIGIT:w_+w_.toUpperCase()+qM},i1e=(t=16,r=VB.ALPHA_DIGIT)=>{let n="";const{length:o}=r;for(;t--;)n+=r[Math.random()*o|0];return n};function o1e(t){return!!(t&&Ws(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const s1e=t=>{const r=new Array(10),n=(o,a)=>{if(yw(o)){if(r.indexOf(o)>=0)return;if(!("toJSON"in o)){r[a]=o;const c=Np(o)?[]:{};return hb(o,(d,f)=>{const p=n(d,a+1);!zg(p)&&(c[f]=p)}),r[a]=void 0,c}}return o};return n(t,0)},a1e=il("AsyncFunction"),l1e=t=>t&&(yw(t)||Ws(t))&&Ws(t.then)&&Ws(t.catch),HB=((t,r)=>t?setImmediate:r?((n,o)=>(dh.addEventListener("message",({source:a,data:c})=>{a===dh&&c===n&&o.length&&o.shift()()},!1),a=>{o.push(a),dh.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ws(dh.postMessage)),c1e=typeof queueMicrotask<"u"?queueMicrotask.bind(dh):typeof process<"u"&&process.nextTick||HB,ct={isArray:Np,isArrayBuffer:RB,isBuffer:Ske,isFormData:Lke,isArrayBufferView:Eke,isString:Dke,isNumber:FB,isBoolean:Ike,isObject:yw,isPlainObject:Sk,isReadableStream:jke,isRequest:Rke,isResponse:Fke,isHeaders:zke,isUndefined:zg,isDate:Tke,isFile:Nke,isBlob:Mke,isRegExp:Xke,isFunction:Ws,isStream:Oke,isURLSearchParams:Bke,isTypedArray:Yke,isFileList:Pke,forEach:hb,merge:AA,extend:qke,trim:Uke,stripBOM:Vke,inherits:Hke,toFlatObject:$ke,kindOf:kw,kindOfTest:il,endsWith:Wke,toArray:Gke,forEachEntry:Kke,matchAll:Qke,isHTMLForm:Jke,hasOwnProperty:UM,hasOwnProp:UM,reduceDescriptors:qB,freezeMethods:e1e,toObjectSet:t1e,toCamelCase:Zke,noop:n1e,toFiniteNumber:r1e,findKey:zB,global:dh,isContextDefined:UB,ALPHABET:VB,generateString:i1e,isSpecCompliantForm:o1e,toJSONObject:s1e,isAsyncFn:a1e,isThenable:l1e,setImmediate:HB,asap:c1e};function _n(t,r,n,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),n&&(this.config=n),o&&(this.request=o),a&&(this.response=a,this.status=a.status?a.status:null)}ct.inherits(_n,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ct.toJSONObject(this.config),code:this.code,status:this.status}}});const $B=_n.prototype,WB={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{WB[t]={value:t}});Object.defineProperties(_n,WB);Object.defineProperty($B,"isAxiosError",{value:!0});_n.from=(t,r,n,o,a,c)=>{const d=Object.create($B);return ct.toFlatObject(t,d,function(f){return f!==Error.prototype},f=>f!=="isAxiosError"),_n.call(d,t.message,r,n,o,a),d.cause=t,d.name=t.name,c&&Object.assign(d,c),d};const u1e=null;function CA(t){return ct.isPlainObject(t)||ct.isArray(t)}function GB(t){return ct.endsWith(t,"[]")?t.slice(0,-2):t}function VM(t,r,n){return t?t.concat(r).map(function(o,a){return o=GB(o),!n&&a?"["+o+"]":o}).join(n?".":""):r}function d1e(t){return ct.isArray(t)&&!t.some(CA)}const h1e=ct.toFlatObject(ct,{},null,function(t){return/^is[A-Z]/.test(t)});function vw(t,r,n){if(!ct.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,n=ct.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,x){return!ct.isUndefined(x[w])});const o=n.metaTokens,a=n.visitor||g,c=n.dots,d=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&ct.isSpecCompliantForm(r);if(!ct.isFunction(a))throw new TypeError("visitor must be a function");function p(w){if(w===null)return"";if(ct.isDate(w))return w.toISOString();if(!f&&ct.isBlob(w))throw new _n("Blob is not supported. Use a Buffer instead.");return ct.isArrayBuffer(w)||ct.isTypedArray(w)?f&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,x,A){let D=w;if(w&&!A&&typeof w=="object"){if(ct.endsWith(x,"{}"))x=o?x:x.slice(0,-2),w=JSON.stringify(w);else if(ct.isArray(w)&&d1e(w)||(ct.isFileList(w)||ct.endsWith(x,"[]"))&&(D=ct.toArray(w)))return x=GB(x),D.forEach(function(E,M){!(ct.isUndefined(E)||E===null)&&r.append(d===!0?VM([x],M,c):d===null?x:x+"[]",p(E))}),!1}return CA(w)?!0:(r.append(VM(A,x,c),p(w)),!1)}const k=[],v=Object.assign(h1e,{defaultVisitor:g,convertValue:p,isVisitable:CA});function y(w,x){if(!ct.isUndefined(w)){if(k.indexOf(w)!==-1)throw Error("Circular reference detected in "+x.join("."));k.push(w),ct.forEach(w,function(A,D){(!(ct.isUndefined(A)||A===null)&&a.call(r,A,ct.isString(D)?D.trim():D,x,v))===!0&&y(A,x?x.concat(D):[D])}),k.pop()}}if(!ct.isObject(t))throw new TypeError("data must be an object");return y(t),r}function HM(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return r[n]})}function QC(t,r){this._pairs=[],t&&vw(t,this,r)}const YB=QC.prototype;YB.append=function(t,r){this._pairs.push([t,r])};YB.toString=function(t){const r=t?function(n){return t.call(this,n,HM)}:HM;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function f1e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function KB(t,r,n){if(!r)return t;const o=n&&n.encode||f1e;ct.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let c;if(a?c=a(r,n):c=ct.isURLSearchParams(r)?r.toString():new QC(r,n).toString(o),c){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class $M{constructor(){this.handlers=[]}use(r,n,o){return this.handlers.push({fulfilled:r,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){ct.forEach(this.handlers,function(n){n!==null&&r(n)})}}const QB={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},p1e=typeof URLSearchParams<"u"?URLSearchParams:QC,m1e=typeof FormData<"u"?FormData:null,g1e=typeof Blob<"u"?Blob:null,b1e={isBrowser:!0,classes:{URLSearchParams:p1e,FormData:m1e,Blob:g1e},protocols:["http","https","file","blob","url","data"]},JC=typeof window<"u"&&typeof document<"u",xA=typeof navigator=="object"&&navigator||void 0,k1e=JC&&(!xA||["ReactNative","NativeScript","NS"].indexOf(xA.product)<0),w1e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",y1e=JC&&window.location.href||"http://localhost",v1e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:JC,hasStandardBrowserEnv:k1e,hasStandardBrowserWebWorkerEnv:w1e,navigator:xA,origin:y1e},Symbol.toStringTag,{value:"Module"})),Io={...v1e,...b1e};function _1e(t,r){return vw(t,new Io.classes.URLSearchParams,Object.assign({visitor:function(n,o,a,c){return Io.isNode&&ct.isBuffer(n)?(this.append(o,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},r))}function A1e(t){return ct.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function C1e(t){const r={},n=Object.keys(t);let o;const a=n.length;let c;for(o=0;o<a;o++)c=n[o],r[c]=t[c];return r}function JB(t){function r(n,o,a,c){let d=n[c++];if(d==="__proto__")return!0;const f=Number.isFinite(+d),p=c>=n.length;return d=!d&&ct.isArray(a)?a.length:d,p?(ct.hasOwnProp(a,d)?a[d]=[a[d],o]:a[d]=o,!f):((!a[d]||!ct.isObject(a[d]))&&(a[d]=[]),r(n,o,a[d],c)&&ct.isArray(a[d])&&(a[d]=C1e(a[d])),!f)}if(ct.isFormData(t)&&ct.isFunction(t.entries)){const n={};return ct.forEachEntry(t,(o,a)=>{r(A1e(o),a,n,0)}),n}return null}function x1e(t,r,n){if(ct.isString(t))try{return(r||JSON.parse)(t),ct.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(0,JSON.stringify)(t)}const fb={transitional:QB,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,a=ct.isObject(t);if(a&&ct.isHTMLForm(t)&&(t=new FormData(t)),ct.isFormData(t))return o?JSON.stringify(JB(t)):t;if(ct.isArrayBuffer(t)||ct.isBuffer(t)||ct.isStream(t)||ct.isFile(t)||ct.isBlob(t)||ct.isReadableStream(t))return t;if(ct.isArrayBufferView(t))return t.buffer;if(ct.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return _1e(t,this.formSerializer).toString();if((c=ct.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return vw(c?{"files[]":t}:t,d&&new d,this.formSerializer)}}return a||o?(r.setContentType("application/json",!1),x1e(t)):t}],transformResponse:[function(t){const r=this.transitional||fb.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(ct.isResponse(t)||ct.isReadableStream(t))return t;if(t&&ct.isString(t)&&(n&&!this.responseType||o)){const a=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(c){if(a)throw c.name==="SyntaxError"?_n.from(c,_n.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Io.classes.FormData,Blob:Io.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ct.forEach(["delete","get","head","post","put","patch"],t=>{fb.headers[t]={}});const S1e=ct.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),E1e=t=>{const r={};let n,o,a;return t&&t.split(`
`).forEach(function(c){a=c.indexOf(":"),n=c.substring(0,a).trim().toLowerCase(),o=c.substring(a+1).trim(),!(!n||r[n]&&S1e[n])&&(n==="set-cookie"?r[n]?r[n].push(o):r[n]=[o]:r[n]=r[n]?r[n]+", "+o:o)}),r},WM=Symbol("internals");function ig(t){return t&&String(t).trim().toLowerCase()}function Ek(t){return t===!1||t==null?t:ct.isArray(t)?t.map(Ek):String(t)}function D1e(t){const r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(t);)r[o[1]]=o[2];return r}const I1e=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function y_(t,r,n,o,a){if(ct.isFunction(o))return o.call(this,r,n);if(a&&(r=n),!!ct.isString(r)){if(ct.isString(o))return r.indexOf(o)!==-1;if(ct.isRegExp(o))return o.test(r)}}function T1e(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,n,o)=>n.toUpperCase()+o)}function N1e(t,r){const n=ct.toCamelCase(" "+r);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+n,{value:function(a,c,d){return this[o].call(this,r,a,c,d)},configurable:!0})})}class cs{constructor(r){r&&this.set(r)}set(r,n,o){const a=this;function c(f,p,g){const k=ig(p);if(!k)throw new Error("header name must be a non-empty string");const v=ct.findKey(a,k);(!v||a[v]===void 0||g===!0||g===void 0&&a[v]!==!1)&&(a[v||p]=Ek(f))}const d=(f,p)=>ct.forEach(f,(g,k)=>c(g,k,p));if(ct.isPlainObject(r)||r instanceof this.constructor)d(r,n);else if(ct.isString(r)&&(r=r.trim())&&!I1e(r))d(E1e(r),n);else if(ct.isHeaders(r))for(const[f,p]of r.entries())c(p,f,o);else r!=null&&c(n,r,o);return this}get(r,n){if(r=ig(r),r){const o=ct.findKey(this,r);if(o){const a=this[o];if(!n)return a;if(n===!0)return D1e(a);if(ct.isFunction(n))return n.call(this,a,o);if(ct.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,n){if(r=ig(r),r){const o=ct.findKey(this,r);return!!(o&&this[o]!==void 0&&(!n||y_(this,this[o],o,n)))}return!1}delete(r,n){const o=this;let a=!1;function c(d){if(d=ig(d),d){const f=ct.findKey(o,d);f&&(!n||y_(o,o[f],f,n))&&(delete o[f],a=!0)}}return ct.isArray(r)?r.forEach(c):c(r),a}clear(r){const n=Object.keys(this);let o=n.length,a=!1;for(;o--;){const c=n[o];(!r||y_(this,this[c],c,r,!0))&&(delete this[c],a=!0)}return a}normalize(r){const n=this,o={};return ct.forEach(this,(a,c)=>{const d=ct.findKey(o,c);if(d){n[d]=Ek(a),delete n[c];return}const f=r?T1e(c):String(c).trim();f!==c&&delete n[c],n[f]=Ek(a),o[f]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const n=Object.create(null);return ct.forEach(this,(o,a)=>{o!=null&&o!==!1&&(n[a]=r&&ct.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,n])=>r+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...n){const o=new this(r);return n.forEach(a=>o.set(a)),o}static accessor(r){const n=(this[WM]=this[WM]={accessors:{}}).accessors,o=this.prototype;function a(c){const d=ig(c);n[d]||(N1e(o,c),n[d]=!0)}return ct.isArray(r)?r.forEach(a):a(r),this}}cs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ct.reduceDescriptors(cs.prototype,({value:t},r)=>{let n=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(o){this[n]=o}}});ct.freezeMethods(cs);function v_(t,r){const n=this||fb,o=r||n,a=cs.from(o.headers);let c=o.data;return ct.forEach(t,function(d){c=d.call(n,c,a.normalize(),r?r.status:void 0)}),a.normalize(),c}function ZB(t){return!!(t&&t.__CANCEL__)}function Mp(t,r,n){_n.call(this,t??"canceled",_n.ERR_CANCELED,r,n),this.name="CanceledError"}ct.inherits(Mp,_n,{__CANCEL__:!0});function XB(t,r,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?t(n):r(new _n("Request failed with status code "+n.status,[_n.ERR_BAD_REQUEST,_n.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function M1e(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function P1e(t,r){t=t||10;const n=new Array(t),o=new Array(t);let a=0,c=0,d;return r=r!==void 0?r:1e3,function(f){const p=Date.now(),g=o[c];d||(d=p),n[a]=f,o[a]=p;let k=c,v=0;for(;k!==a;)v+=n[k++],k=k%t;if(a=(a+1)%t,a===c&&(c=(c+1)%t),p-d<r)return;const y=g&&p-g;return y?Math.round(v*1e3/y):void 0}}function O1e(t,r){let n=0,o=1e3/r,a,c;const d=(f,p=Date.now())=>{n=p,a=null,c&&(clearTimeout(c),c=null),t.apply(null,f)};return[(...f)=>{const p=Date.now(),g=p-n;g>=o?d(f,p):(a=f,c||(c=setTimeout(()=>{c=null,d(a)},o-g)))},()=>a&&d(a)]}const d1=(t,r,n=3)=>{let o=0;const a=P1e(50,250);return O1e(c=>{const d=c.loaded,f=c.lengthComputable?c.total:void 0,p=d-o,g=a(p),k=d<=f;o=d;const v={loaded:d,total:f,progress:f?d/f:void 0,bytes:p,rate:g||void 0,estimated:g&&f&&k?(f-d)/g:void 0,event:c,lengthComputable:f!=null,[r?"download":"upload"]:!0};t(v)},n)},GM=(t,r)=>{const n=t!=null;return[o=>r[0]({lengthComputable:n,total:t,loaded:o}),r[1]]},YM=t=>(...r)=>ct.asap(()=>t(...r)),L1e=Io.hasStandardBrowserEnv?((t,r)=>n=>(n=new URL(n,Io.origin),t.protocol===n.protocol&&t.host===n.host&&(r||t.port===n.port)))(new URL(Io.origin),Io.navigator&&/(msie|trident)/i.test(Io.navigator.userAgent)):()=>!0,B1e=Io.hasStandardBrowserEnv?{write(t,r,n,o,a,c){const d=[t+"="+encodeURIComponent(r)];ct.isNumber(n)&&d.push("expires="+new Date(n).toGMTString()),ct.isString(o)&&d.push("path="+o),ct.isString(a)&&d.push("domain="+a),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function j1e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function R1e(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function ej(t,r){return t&&!j1e(r)?R1e(t,r):r}const KM=t=>t instanceof cs?{...t}:t;function Ih(t,r){r=r||{};const n={};function o(g,k,v,y){return ct.isPlainObject(g)&&ct.isPlainObject(k)?ct.merge.call({caseless:y},g,k):ct.isPlainObject(k)?ct.merge({},k):ct.isArray(k)?k.slice():k}function a(g,k,v,y){if(ct.isUndefined(k)){if(!ct.isUndefined(g))return o(void 0,g,v,y)}else return o(g,k,v,y)}function c(g,k){if(!ct.isUndefined(k))return o(void 0,k)}function d(g,k){if(ct.isUndefined(k)){if(!ct.isUndefined(g))return o(void 0,g)}else return o(void 0,k)}function f(g,k,v){if(v in r)return o(g,k);if(v in t)return o(void 0,g)}const p={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:f,headers:(g,k,v)=>a(KM(g),KM(k),v,!0)};return ct.forEach(Object.keys(Object.assign({},t,r)),function(g){const k=p[g]||a,v=k(t[g],r[g],g);ct.isUndefined(v)&&k!==f||(n[g]=v)}),n}const tj=t=>{const r=Ih({},t);let{data:n,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:c,headers:d,auth:f}=r;r.headers=d=cs.from(d),r.url=KB(ej(r.baseURL,r.url),t.params,t.paramsSerializer),f&&d.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let p;if(ct.isFormData(n)){if(Io.hasStandardBrowserEnv||Io.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((p=d.getContentType())!==!1){const[g,...k]=p?p.split(";").map(v=>v.trim()).filter(Boolean):[];d.setContentType([g||"multipart/form-data",...k].join("; "))}}if(Io.hasStandardBrowserEnv&&(o&&ct.isFunction(o)&&(o=o(r)),o||o!==!1&&L1e(r.url))){const g=a&&c&&B1e.read(c);g&&d.set(a,g)}return r},F1e=typeof XMLHttpRequest<"u",z1e=F1e&&function(t){return new Promise(function(r,n){const o=tj(t);let a=o.data;const c=cs.from(o.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:p}=o,g,k,v,y,w;function x(){y&&y(),w&&w(),o.cancelToken&&o.cancelToken.unsubscribe(g),o.signal&&o.signal.removeEventListener("abort",g)}let A=new XMLHttpRequest;A.open(o.method.toUpperCase(),o.url,!0),A.timeout=o.timeout;function D(){if(!A)return;const M=cs.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),P={data:!d||d==="text"||d==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:M,config:t,request:A};XB(function(F){r(F),x()},function(F){n(F),x()},P),A=null}"onloadend"in A?A.onloadend=D:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(D)},A.onabort=function(){A&&(n(new _n("Request aborted",_n.ECONNABORTED,t,A)),A=null)},A.onerror=function(){n(new _n("Network Error",_n.ERR_NETWORK,t,A)),A=null},A.ontimeout=function(){let M=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const P=o.transitional||QB;o.timeoutErrorMessage&&(M=o.timeoutErrorMessage),n(new _n(M,P.clarifyTimeoutError?_n.ETIMEDOUT:_n.ECONNABORTED,t,A)),A=null},a===void 0&&c.setContentType(null),"setRequestHeader"in A&&ct.forEach(c.toJSON(),function(M,P){A.setRequestHeader(P,M)}),ct.isUndefined(o.withCredentials)||(A.withCredentials=!!o.withCredentials),d&&d!=="json"&&(A.responseType=o.responseType),p&&([v,w]=d1(p,!0),A.addEventListener("progress",v)),f&&A.upload&&([k,y]=d1(f),A.upload.addEventListener("progress",k),A.upload.addEventListener("loadend",y)),(o.cancelToken||o.signal)&&(g=M=>{A&&(n(!M||M.type?new Mp(null,t,A):M),A.abort(),A=null)},o.cancelToken&&o.cancelToken.subscribe(g),o.signal&&(o.signal.aborted?g():o.signal.addEventListener("abort",g)));const E=M1e(o.url);if(E&&Io.protocols.indexOf(E)===-1){n(new _n("Unsupported protocol "+E+":",_n.ERR_BAD_REQUEST,t));return}A.send(a||null)})},U1e=(t,r)=>{const{length:n}=t=t?t.filter(Boolean):[];if(r||n){let o=new AbortController,a;const c=function(g){if(!a){a=!0,f();const k=g instanceof Error?g:this.reason;o.abort(k instanceof _n?k:new Mp(k instanceof Error?k.message:k))}};let d=r&&setTimeout(()=>{d=null,c(new _n(`timeout ${r} of ms exceeded`,_n.ETIMEDOUT))},r);const f=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(g=>{g.unsubscribe?g.unsubscribe(c):g.removeEventListener("abort",c)}),t=null)};t.forEach(g=>g.addEventListener("abort",c));const{signal:p}=o;return p.unsubscribe=()=>ct.asap(f),p}},q1e=function*(t,r){let n=t.byteLength;if(n<r){yield t;return}let o=0,a;for(;o<n;)a=o+r,yield t.slice(o,a),o=a},V1e=async function*(t,r){for await(const n of H1e(t))yield*q1e(n,r)},H1e=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:n,value:o}=await r.read();if(n)break;yield o}}finally{await r.cancel()}},QM=(t,r,n,o)=>{const a=V1e(t,r);let c=0,d,f=p=>{d||(d=!0,o&&o(p))};return new ReadableStream({async pull(p){try{const{done:g,value:k}=await a.next();if(g){f(),p.close();return}let v=k.byteLength;if(n){let y=c+=v;n(y)}p.enqueue(new Uint8Array(k))}catch(g){throw f(g),g}},cancel(p){return f(p),a.return()}},{highWaterMark:2})},_w=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",nj=_w&&typeof ReadableStream=="function",$1e=_w&&(typeof TextEncoder=="function"?(t=>r=>t.encode(r))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),rj=(t,...r)=>{try{return!!t(...r)}catch{return!1}},W1e=nj&&rj(()=>{let t=!1;const r=new Request(Io.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!r}),JM=64*1024,SA=nj&&rj(()=>ct.isReadableStream(new Response("").body)),h1={stream:SA&&(t=>t.body)};_w&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!h1[r]&&(h1[r]=ct.isFunction(t[r])?n=>n[r]():(n,o)=>{throw new _n(`Response type '${r}' is not supported`,_n.ERR_NOT_SUPPORT,o)})})})(new Response);const G1e=async t=>{if(t==null)return 0;if(ct.isBlob(t))return t.size;if(ct.isSpecCompliantForm(t))return(await new Request(Io.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ct.isArrayBufferView(t)||ct.isArrayBuffer(t))return t.byteLength;if(ct.isURLSearchParams(t)&&(t=t+""),ct.isString(t))return(await $1e(t)).byteLength},Y1e=async(t,r)=>ct.toFiniteNumber(t.getContentLength())??G1e(r),K1e=_w&&(async t=>{let{url:r,method:n,data:o,signal:a,cancelToken:c,timeout:d,onDownloadProgress:f,onUploadProgress:p,responseType:g,headers:k,withCredentials:v="same-origin",fetchOptions:y}=tj(t);g=g?(g+"").toLowerCase():"text";let w=U1e([a,c&&c.toAbortSignal()],d),x;const A=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let D;try{if(p&&W1e&&n!=="get"&&n!=="head"&&(D=await Y1e(k,o))!==0){let H=new Request(r,{method:"POST",body:o,duplex:"half"}),V;if(ct.isFormData(o)&&(V=H.headers.get("content-type"))&&k.setContentType(V),H.body){const[N,j]=GM(D,d1(YM(p)));o=QM(H.body,JM,N,j)}}ct.isString(v)||(v=v?"include":"omit");const E="credentials"in Request.prototype;x=new Request(r,{...y,signal:w,method:n.toUpperCase(),headers:k.normalize().toJSON(),body:o,duplex:"half",credentials:E?v:void 0});let M=await fetch(x);const P=SA&&(g==="stream"||g==="response");if(SA&&(f||P&&A)){const H={};["status","statusText","headers"].forEach(q=>{H[q]=M[q]});const V=ct.toFiniteNumber(M.headers.get("content-length")),[N,j]=f&&GM(V,d1(YM(f),!0))||[];M=new Response(QM(M.body,JM,N,()=>{j&&j(),A&&A()}),H)}g=g||"text";let F=await h1[ct.findKey(h1,g)||"text"](M,t);return!P&&A&&A(),await new Promise((H,V)=>{XB(H,V,{data:F,headers:cs.from(M.headers),status:M.status,statusText:M.statusText,config:t,request:x})})}catch(E){throw A&&A(),E&&E.name==="TypeError"&&/fetch/i.test(E.message)?Object.assign(new _n("Network Error",_n.ERR_NETWORK,t,x),{cause:E.cause||E}):_n.from(E,E&&E.code,t,x)}}),EA={http:u1e,xhr:z1e,fetch:K1e};ct.forEach(EA,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const ZM=t=>`- ${t}`,Q1e=t=>ct.isFunction(t)||t===null||t===!1,ij={getAdapter:t=>{t=ct.isArray(t)?t:[t];const{length:r}=t;let n,o;const a={};for(let c=0;c<r;c++){n=t[c];let d;if(o=n,!Q1e(n)&&(o=EA[(d=String(n)).toLowerCase()],o===void 0))throw new _n(`Unknown adapter '${d}'`);if(o)break;a[d||"#"+c]=o}if(!o){const c=Object.entries(a).map(([f,p])=>`adapter ${f} `+(p===!1?"is not supported by the environment":"is not available in the build"));let d=r?c.length>1?`since :
`+c.map(ZM).join(`
`):" "+ZM(c[0]):"as no adapter specified";throw new _n("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o},adapters:EA};function __(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Mp(null,t)}function XM(t){return __(t),t.headers=cs.from(t.headers),t.data=v_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ij.getAdapter(t.adapter||fb.adapter)(t).then(function(r){return __(t),r.data=v_.call(t,t.transformResponse,r),r.headers=cs.from(r.headers),r},function(r){return ZB(r)||(__(t),r&&r.response&&(r.response.data=v_.call(t,t.transformResponse,r.response),r.response.headers=cs.from(r.response.headers))),Promise.reject(r)})}const oj="1.7.9",Aw={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{Aw[t]=function(n){return typeof n===t||"a"+(r<1?"n ":" ")+t}});const eP={};Aw.transitional=function(t,r,n){function o(a,c){return"[Axios v"+oj+"] Transitional option '"+a+"'"+c+(n?". "+n:"")}return(a,c,d)=>{if(t===!1)throw new _n(o(c," has been removed"+(r?" in "+r:"")),_n.ERR_DEPRECATED);return r&&!eP[c]&&(eP[c]=!0,console.warn(o(c," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,c,d):!0}};Aw.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function J1e(t,r,n){if(typeof t!="object")throw new _n("options must be an object",_n.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let a=o.length;for(;a-- >0;){const c=o[a],d=r[c];if(d){const f=t[c],p=f===void 0||d(f,c,t);if(p!==!0)throw new _n("option "+c+" must be "+p,_n.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new _n("Unknown option "+c,_n.ERR_BAD_OPTION)}}const Dk={assertOptions:J1e,validators:Aw},Tl=Dk.validators;class vh{constructor(r){this.defaults=r,this.interceptors={request:new $M,response:new $M}}async request(r,n){try{return await this._request(r,n)}catch(o){if(o instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const c=a.stack?a.stack.replace(/^.+\n/,""):"";try{o.stack?c&&!String(o.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+c):o.stack=c}catch{}}throw o}}_request(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=Ih(this.defaults,n);const{transitional:o,paramsSerializer:a,headers:c}=n;o!==void 0&&Dk.assertOptions(o,{silentJSONParsing:Tl.transitional(Tl.boolean),forcedJSONParsing:Tl.transitional(Tl.boolean),clarifyTimeoutError:Tl.transitional(Tl.boolean)},!1),a!=null&&(ct.isFunction(a)?n.paramsSerializer={serialize:a}:Dk.assertOptions(a,{encode:Tl.function,serialize:Tl.function},!0)),Dk.assertOptions(n,{baseUrl:Tl.spelling("baseURL"),withXsrfToken:Tl.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let d=c&&ct.merge(c.common,c[n.method]);c&&ct.forEach(["delete","get","head","post","put","patch","common"],x=>{delete c[x]}),n.headers=cs.concat(d,c);const f=[];let p=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(p=p&&x.synchronous,f.unshift(x.fulfilled,x.rejected))});const g=[];this.interceptors.response.forEach(function(x){g.push(x.fulfilled,x.rejected)});let k,v=0,y;if(!p){const x=[XM.bind(this),void 0];for(x.unshift.apply(x,f),x.push.apply(x,g),y=x.length,k=Promise.resolve(n);v<y;)k=k.then(x[v++],x[v++]);return k}y=f.length;let w=n;for(v=0;v<y;){const x=f[v++],A=f[v++];try{w=x(w)}catch(D){A.call(this,D);break}}try{k=XM.call(this,w)}catch(x){return Promise.reject(x)}for(v=0,y=g.length;v<y;)k=k.then(g[v++],g[v++]);return k}getUri(r){r=Ih(this.defaults,r);const n=ej(r.baseURL,r.url);return KB(n,r.params,r.paramsSerializer)}}ct.forEach(["delete","get","head","options"],function(t){vh.prototype[t]=function(r,n){return this.request(Ih(n||{},{method:t,url:r,data:(n||{}).data}))}});ct.forEach(["post","put","patch"],function(t){function r(n){return function(o,a,c){return this.request(Ih(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}vh.prototype[t]=r(),vh.prototype[t+"Form"]=r(!0)});class ZC{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const o=this;this.promise.then(a=>{if(!o._listeners)return;let c=o._listeners.length;for(;c-- >0;)o._listeners[c](a);o._listeners=null}),this.promise.then=a=>{let c;const d=new Promise(f=>{o.subscribe(f),c=f}).then(a);return d.cancel=function(){o.unsubscribe(c)},d},r(function(a,c,d){o.reason||(o.reason=new Mp(a,c,d),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const n=this._listeners.indexOf(r);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const r=new AbortController,n=o=>{r.abort(o)};return this.subscribe(n),r.signal.unsubscribe=()=>this.unsubscribe(n),r.signal}static source(){let r;return{token:new ZC(function(n){r=n}),cancel:r}}}function Z1e(t){return function(r){return t.apply(null,r)}}function X1e(t){return ct.isObject(t)&&t.isAxiosError===!0}const DA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(DA).forEach(([t,r])=>{DA[r]=t});function sj(t){const r=new vh(t),n=jB(vh.prototype.request,r);return ct.extend(n,vh.prototype,r,{allOwnKeys:!0}),ct.extend(n,r,null,{allOwnKeys:!0}),n.create=function(o){return sj(Ih(t,o))},n}const Xr=sj(fb);Xr.Axios=vh;Xr.CanceledError=Mp;Xr.CancelToken=ZC;Xr.isCancel=ZB;Xr.VERSION=oj;Xr.toFormData=vw;Xr.AxiosError=_n;Xr.Cancel=Xr.CanceledError;Xr.all=function(t){return Promise.all(t)};Xr.spread=Z1e;Xr.isAxiosError=X1e;Xr.mergeConfig=Ih;Xr.AxiosHeaders=cs;Xr.formToJSON=t=>JB(ct.isHTMLForm(t)?new FormData(t):t);Xr.getAdapter=ij.getAdapter;Xr.HttpStatusCode=DA;Xr.default=Xr;const ewe=async t=>{const r=new FormData;r.append("chatbot_id",t);try{const n=await Xr.post("https://rag-flask-api.onrender.com/start_conversation",r,{headers:{"Content-Type":"multipart/form-data"}}),{conversation_id:o,intro_message:a}=n.data;if(!o)throw new Error("Failed to retrieve conversation ID from server.");return{conversationId:o,introMessage:a}}catch(n){throw console.error("Error starting conversation:",n),n}},twe=async(t,r,n)=>{const o=new FormData;o.append("chatbot_id",t),o.append("conversation_id",r),o.append("question",n);try{return(await Xr.post("https://rag-flask-api.onrender.com/ask",o,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error sending message:",a),a}},nwe=async(t,r)=>{const n=new FormData;n.append("chatbot_id",t),n.append("conversation_id",r);try{await Xr.post("https://rag-flask-api.onrender.com/end_conversation",n,{headers:{"Content-Type":"multipart/form-data"}})}catch(o){throw console.error("Error ending conversation:",o),o}},rwe=async t=>{try{const r=await Xr.get(`https://rag-flask-api.onrender.com/summary/${t}`);if(r.status===200&&r.data.summary)return r.data.summary;throw new Error("Summary not found for this chatbot.")}catch(r){throw console.error("Error fetching summary:",r),r}},iwe=({chatbotId:t,open:r,onClose:n})=>{const[o,a]=K.useState(null),[c,d]=K.useState(!1),[f,p]=K.useState(null),g=async()=>{d(!0),p(null);try{const k=await rwe(t);a(k)}catch(k){p(k.message||"Failed to fetch summary. Please try again.")}finally{d(!1)}};return K.useEffect(()=>{r&&g()},[r]),fn.jsx(DL,{open:r,onClose:n,"aria-labelledby":"summary-modal-title","aria-describedby":"summary-modal-description",children:fn.jsxs(Ja,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:600,bgcolor:"background.paper",borderRadius:4,boxShadow:24,p:4},children:[fn.jsxs(Ja,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[fn.jsx(yh,{id:"summary-modal-title",variant:"h6",component:"h2",children:"Document Summary"}),fn.jsx(iA,{onClick:n,children:fn.jsx(Cke,{})})]}),c?fn.jsx(Ja,{sx:{display:"flex",justifyContent:"center",my:4},children:fn.jsx(Vce,{})}):f?fn.jsx(yh,{color:"error",children:f}):fn.jsx(Ja,{sx:{maxHeight:300,overflowY:"auto",padding:2,border:"1px solid #ddd",borderRadius:2,backgroundColor:"#f9f9f9"},children:fn.jsx(RC,{children:o})}),fn.jsx(mg,{variant:"contained",sx:{mt:2},onClick:n,fullWidth:!0,children:"Close"})]})})},owe=K.forwardRef(({chatbotId:t,onConversationStart:r},n)=>{const[o,a]=K.useState(!1),[c,d]=K.useState(()=>{const V=localStorage.getItem("responses");return V?JSON.parse(V):[]}),[f,p]=K.useState(()=>localStorage.getItem("conversationId")||null),[g,k]=K.useState(!1),[v,y]=K.useState(null),[w,x]=K.useState(!1),A=PT("(max-width:600px)"),D=PT("(min-width:601px) and (max-width:960px)"),E=K.useRef(null);K.useEffect(()=>{typeof r=="function"&&f&&r(f)},[f,r]),K.useEffect(()=>{E.current&&E.current.scrollIntoView({behavior:"smooth"})},[c]);const M=async()=>{a(V=>!V),!o&&!f&&!g&&P()},P=async()=>{if(!f){k(!0),y(null);try{const V=await ewe(t),{conversationId:N,introMessage:j}=V;p(N),localStorage.setItem("conversationId",N),d(q=>{const Q=[...q,{id:"intro",sender:"chatbot",text:j}];return localStorage.setItem("responses",JSON.stringify(Q)),Q})}catch(V){console.error("Error starting conversation:",V),y("Failed to start a conversation. Please try again.")}finally{k(!1)}}},F=async(V,N=f)=>{k(!0),y(null);try{const j=await twe(t,N,V);d(q=>{const Q=[...q,{question:V,answer:j.answer}];return localStorage.setItem("responses",JSON.stringify(Q)),Q})}catch(j){console.error("Error sending message:",j),y("Failed to send the message. Please try again.")}finally{k(!1)}},H=async()=>{k(!0),y(null);try{f&&await nwe(t,f),p(null),d([]),localStorage.removeItem("conversationId"),localStorage.removeItem("responses")}catch(V){console.error("Error ending conversation:",V),y("Failed to end the conversation. Please try again.")}finally{k(!1)}};return K.useImperativeHandle(n,()=>({endConversation:H})),fn.jsx(fn.Fragment,{children:o?fn.jsxs(xL,{elevation:3,sx:k_.chatContainer(A,D),children:[fn.jsxs(Ja,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[fn.jsx(yh,{sx:k_.chatHeader,children:"PAT (Personalized Academic Tutor)"}),fn.jsx(iA,{onClick:M,sx:{color:"black"},children:"X"})]}),fn.jsx(yke,{responses:c}),fn.jsx("div",{ref:E}),g&&fn.jsx(Zue,{sx:{position:"absolute",top:0,left:0,width:"100%"}}),v&&fn.jsx(yh,{color:"error",children:v}),fn.jsx(vke,{onSendMessage:F,onStartConversation:P,onEndConversation:H,conversationId:f}),fn.jsx(mg,{variant:"outlined",onClick:()=>x(!0),sx:{mt:2},children:"View Summary"}),fn.jsx(iwe,{chatbotId:t,open:w,onClose:()=>x(!1)})]}):fn.jsx(iA,{onClick:M,sx:k_.chatToggleButton,children:fn.jsx(wke,{fontSize:"large"})})})});class swe extends K.Component{constructor(r){super(r),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(r){console.error("Error caught by ErrorBoundary:",r)}render(){return this.state.hasError?C.jsx("h2",{children:"Something went wrong while loading the Chatbot."}):this.props.children}}const aj=K.forwardRef(({chatbotId:t},r)=>{const{userDetails:n}=xi(),o=K.useRef(null),a=async c=>{if(console.log("🤖 Chatbot started. Conversation ID:",c),n!=null&&n.uid)try{await kP(An(LP,"conversations",c),{conversationId:c,chatbotId:t,userId:n.uid,startedAt:new Date().toISOString()},{merge:!0}),console.log("Conversation saved to Firestore")}catch(d){console.error("Failed to save conversation:",d)}};return K.useImperativeHandle(r,()=>({endConversation:()=>{o.current&&(console.log("Ending chatbot conversation..."),o.current.endConversation())}})),C.jsx(swe,{children:C.jsx(owe,{ref:o,chatbotId:t,onConversationStart:a})})});aj.displayName="ChatbotWrapper";const nk="256599ed-a0a2-496f-990d-c51faaefd71a",awe=()=>{const[t,r]=K.useState(nk),[n]=g1(),o=K.useRef(null);return K.useEffect(()=>{const a=n.get("material");if(!a){t!==nk&&r(nk);return}(async()=>{var k;console.log("Fetching chatbot ID for material:",a);const d=Xn(),f=Zn(d,"chatbots"),p=yp(f,qg("material.id","==",a)),g=await go(p);if(g.empty)console.log("No chatbot found for material, using default."),r(nk);else{const v=g.docs[0].data();console.log("Found chatbot ID:",v.chatbotId),v.chatbotId!==t&&((k=o.current)==null||k.endConversation()),r(v.chatbotId)}})()},[n,t]),C.jsx(Fe,{sx:{position:"fixed",bottom:16,right:16,zIndex:1100},children:C.jsx(aj,{ref:o,chatbotId:t})})},lwe=()=>{const{notifications:t,removeNotification:r}=FP();return t.length===0?null:C.jsx(Fe,{sx:{position:"fixed",top:16,right:16,zIndex:9999,maxWidth:400,display:"flex",flexDirection:"column",gap:1},children:t.map(n=>C.jsx(IA,{in:!0,timeout:300,children:C.jsx(Fn,{elevation:6,children:C.jsxs(xr,{severity:n.type,sx:{width:"100%","& .MuiAlert-action":{alignItems:"flex-start",padding:"4px 0 0 16px"}},action:C.jsx(ir,{size:"small",onClick:()=>r(n.id),sx:{color:"inherit"},children:C.jsx(NW,{fontSize:"small"})}),children:[n.title&&C.jsx(TW,{sx:{fontWeight:"bold",mb:.5},children:n.title}),n.message,n.actions&&n.actions.length>0&&C.jsx(Fe,{sx:{mt:1.5,display:"flex",gap:1,flexWrap:"wrap"},children:n.actions.map((o,a)=>C.jsx(xt,{size:"small",variant:o.primary?"contained":"outlined",color:n.type==="error"?"error":"primary",onClick:()=>{o.action(),r(n.id)},sx:{minWidth:"auto",fontSize:"0.75rem",padding:"2px 8px"},children:o.label},a))})]})})},n.id))})},cwe=()=>{const{userDetails:t,isSuperAdmin:r}=xi(),n=$oe(t,r);return SG(n)},uwe=()=>{const{userDetails:t,loading:r}=xi();if(r)return C.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:C.jsx(di,{})});const n="/nexlab",o=!!(t!=null&&t.uid);return C.jsxs(MW,{theme:Woe,children:[C.jsx(PW,{}),C.jsxs(HG,{basename:n,children:[o&&C.jsx(X8,{}),C.jsx("div",{className:"content",children:C.jsx(K.Suspense,{fallback:C.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:C.jsx(di,{})}),children:C.jsx(cwe,{})})}),C.jsx(Xoe,{}),C.jsx(Yoe,{}),o&&C.jsx(awe,{}),C.jsx(lwe,{})]})]})},dwe=document.getElementById("root"),hwe=JW.createRoot(dwe);hwe.render(C.jsx(st.StrictMode,{children:C.jsx(ZG,{children:C.jsx(uwe,{})})}));export{VP as B,JP as C,hr as _,OP as a,xi as b,LP as c,QP as d,g1 as e,Ioe as r,Fr as u};
