const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DmdVvcbF.js","assets/vendor-CkjDiaq4.js","assets/index-Bwxu0dzx.js","assets/MaterialImportWrapper-BWelgX49.js","assets/ui-D8o6Mz5h.js","assets/firebase-DpGenoA-.js","assets/index.es-Cogl3Jqk.js","assets/index-W9qnF0xf.js","assets/index-DJITqeuK.js","assets/purify.es-CQJ0hv7W.js","assets/SupplementalMaterials-DJyeicrb.js"])))=>i.map(i=>d[i]);
var fR=Object.defineProperty;var hR=(e,n,t)=>n in e?fR(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var Ke=(e,n,t)=>hR(e,typeof n!="symbol"?n+"":n,t);import{r as K,R as C6,j as f,C as Pr,u as pR,a as Es,b as _s,P as On,T as ce,B as be,c as at,A as tr,d as tt,e as na,f as lo,g as mR,h as Jo,G as bt,D as $a,I as mn,E as dv,i as Rl,k as fv,l as Yi,m as us,n as Gi,o as Oo,p as cs,q as gu,s as bu,t as $n,v as yu,L as fg,S as fo,w as Jy,x as h0,y as Rh,z as $t,M as ur,F as gR,H as ba,J as bR,K as Eu,N as E6,O as z0,Q as em,U as yR,V as il,W as oT,X as lT,Y as Nx,_ as ii,Z as WE,$ as xR,a0 as jx,a1 as Pc,a2 as Fc,a3 as Fl,a4 as vR,a5 as uT,a6 as _u,a7 as ku,a8 as Nu,a9 as Qi,aa as ct,ab as ju,ac as wR,ad as wd,ae as Sd,af as SR,ag as AR,ah as p0,ai as Mh,aj as CR,ak as ER,al as _R,am as _6,an as hg,ao as kR,ap as NR,aq as jR,ar as cT,as as TR,at as Zh,au as k6,av as OR,aw as VE,ax as Bg,ay as IR,az as DR,aA as LR,aB as RR,aC as hu,aD as pc,aE as dT,aF as Tx,aG as MR,aH as fT,aI as Nd,aJ as PR,aK as hT,aL as FR,aM as Qw,aN as qR,aO as pT,aP as Kw,aQ as zR,aR as mT,aS as BR,aT as YE,aU as UR,aV as $R,aW as J1,aX as HR,aY as WR,aZ as An,a_ as gT,a$ as bT,b0 as yT,b1 as xT,b2 as vT,b3 as wT,b4 as VR,b5 as YR,b6 as GR,b7 as QR,b8 as KR,b9 as XR,ba as ZR,bb as JR}from"./ui-D8o6Mz5h.js";import{r as e3,a as t3,g as Fr,b as n3}from"./vendor-CkjDiaq4.js";import{g as r3,G as i3,o as s3,b as a3,a as o3,s as l3,c as u3,d as c3,P as Xn,e as fn,f as xa,h as xc,m as ST,i as Rr,I as AT,j as d3,k as Xf,R as No,x as Ug,_ as Sn,y as $g,r as vu,u as Pf,l as Ad,n as CT,p as ra,q as $s,t as Si,K as f3,W as N6,v as Oi,Q as h3,w as hv}from"./firebase-DpGenoA-.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var E5={exports:{}},Jm={},_5={exports:{}},k5={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function p3(){return GE||(GE=1,function(e){function n(H,Y){var Z=H.length;H.push(Y);e:for(;0<Z;){var ae=Z-1>>>1,G=H[ae];if(0<i(G,Y))H[ae]=Y,H[Z]=G,Z=ae;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Y=H[0],Z=H.pop();if(Z!==Y){H[0]=Z;e:for(var ae=0,G=H.length,le=G>>>1;ae<le;){var U=2*(ae+1)-1,B=H[U],ie=U+1,J=H[ie];if(0>i(B,Z))ie<G&&0>i(J,B)?(H[ae]=J,H[ie]=Z,ae=ie):(H[ae]=B,H[U]=Z,ae=U);else if(ie<G&&0>i(J,Z))H[ae]=J,H[ie]=Z,ae=ie;else break e}}return Y}function i(H,Y){var Z=H.sortIndex-Y.sortIndex;return Z!==0?Z:H.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],d=[],h=1,g=null,b=3,m=!1,x=!1,y=!1,A=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function R(H){for(var Y=t(d);Y!==null;){if(Y.callback===null)r(d);else if(Y.startTime<=H)r(d),Y.sortIndex=Y.expirationTime,n(c,Y);else break;Y=t(d)}}function q(H){if(y=!1,R(H),!x)if(t(c)!==null)x=!0,D||(D=!0,O());else{var Y=t(d);Y!==null&&Q(q,Y.startTime-H)}}var D=!1,N=-1,P=5,z=-1;function X(){return A?!0:!(e.unstable_now()-z<P)}function j(){if(A=!1,D){var H=e.unstable_now();z=H;var Y=!0;try{e:{x=!1,y&&(y=!1,C(N),N=-1),m=!0;var Z=b;try{t:{for(R(H),g=t(c);g!==null&&!(g.expirationTime>H&&X());){var ae=g.callback;if(typeof ae=="function"){g.callback=null,b=g.priorityLevel;var G=ae(g.expirationTime<=H);if(H=e.unstable_now(),typeof G=="function"){g.callback=G,R(H),Y=!0;break t}g===t(c)&&r(c),R(H)}else r(c);g=t(c)}if(g!==null)Y=!0;else{var le=t(d);le!==null&&Q(q,le.startTime-H),Y=!1}}break e}finally{g=null,b=Z,m=!1}Y=void 0}}finally{Y?O():D=!1}}}var O;if(typeof k=="function")O=function(){k(j)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,T=M.port2;M.port1.onmessage=j,O=function(){T.postMessage(null)}}else O=function(){w(j,0)};function Q(H,Y){N=w(function(){H(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(H){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var Z=b;b=Y;try{return H()}finally{b=Z}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Z=b;b=H;try{return Y()}finally{b=Z}},e.unstable_scheduleCallback=function(H,Y,Z){var ae=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ae+Z:ae):Z=ae,H){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Z+G,H={id:h++,callback:Y,priorityLevel:H,startTime:Z,expirationTime:G,sortIndex:-1},Z>ae?(H.sortIndex=Z,n(d,H),t(c)===null&&H===t(d)&&(y?(C(N),N=-1):y=!0,Q(q,Z-ae))):(H.sortIndex=G,n(c,H),x||m||(x=!0,D||(D=!0,O()))),H},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(H){var Y=b;return function(){var Z=b;b=Y;try{return H.apply(this,arguments)}finally{b=Z}}}}(k5)),k5}var QE;function m3(){return QE||(QE=1,_5.exports=p3()),_5.exports}var KE;function g3(){if(KE)return Jm;KE=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=m3(),n=e3(),t=t3();function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var u=o,p=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(p=u.return),o=u.return;while(o)}return u.tag===3?p:null}function a(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(s(o)!==o)throw Error(r(188))}function c(o){var u=o.alternate;if(!u){if(u=s(o),u===null)throw Error(r(188));return u!==o?null:o}for(var p=o,v=u;;){var E=p.return;if(E===null)break;var I=E.alternate;if(I===null){if(v=E.return,v!==null){p=v;continue}break}if(E.child===I.child){for(I=E.child;I;){if(I===p)return l(E),o;if(I===v)return l(E),u;I=I.sibling}throw Error(r(188))}if(p.return!==v.return)p=E,v=I;else{for(var ee=!1,pe=E.child;pe;){if(pe===p){ee=!0,p=E,v=I;break}if(pe===v){ee=!0,v=E,p=I;break}pe=pe.sibling}if(!ee){for(pe=I.child;pe;){if(pe===p){ee=!0,p=I,v=E;break}if(pe===v){ee=!0,v=I,p=E;break}pe=pe.sibling}if(!ee)throw Error(r(189))}}if(p.alternate!==v)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:u}function d(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=d(o),u!==null)return u;o=o.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),k=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function O(o){return o===null||typeof o!="object"?null:(o=j&&o[j]||o["@@iterator"],typeof o=="function"?o:null)}var M=Symbol.for("react.client.reference");function T(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===M?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case A:return"Profiler";case y:return"StrictMode";case q:return"Suspense";case D:return"SuspenseList";case z:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case m:return"Portal";case k:return(o.displayName||"Context")+".Provider";case C:return(o._context.displayName||"Context")+".Consumer";case R:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case N:return u=o.displayName||null,u!==null?u:T(o.type)||"Memo";case P:u=o._payload,o=o._init;try{return T(o(u))}catch{}}return null}var Q=Array.isArray,H=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ae=[],G=-1;function le(o){return{current:o}}function U(o){0>G||(o.current=ae[G],ae[G]=null,G--)}function B(o,u){G++,ae[G]=o.current,o.current=u}var ie=le(null),J=le(null),ne=le(null),xe=le(null);function ye(o,u){switch(B(ne,u),B(J,o),B(ie,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?xE(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=xE(u),o=vE(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}U(ie),B(ie,o)}function Ae(){U(ie),U(J),U(ne)}function Ne(o){o.memoizedState!==null&&B(xe,o);var u=ie.current,p=vE(u,o.type);u!==p&&(B(J,o),B(ie,p))}function Te(o){J.current===o&&(U(ie),U(J)),xe.current===o&&(U(xe),Gm._currentValue=Z)}var qe=Object.prototype.hasOwnProperty,$e=e.unstable_scheduleCallback,V=e.unstable_cancelCallback,we=e.unstable_shouldYield,se=e.unstable_requestPaint,he=e.unstable_now,de=e.unstable_getCurrentPriorityLevel,ve=e.unstable_ImmediatePriority,Oe=e.unstable_UserBlockingPriority,Re=e.unstable_NormalPriority,Ee=e.unstable_LowPriority,Ge=e.unstable_IdlePriority,Xe=e.log,Be=e.unstable_setDisableYieldValue,rt=null,je=null;function He(o){if(typeof Xe=="function"&&Be(o),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(rt,o)}catch{}}var Je=Math.clz32?Math.clz32:tn,At=Math.log,lt=Math.LN2;function tn(o){return o>>>=0,o===0?32:31-(At(o)/lt|0)|0}var jt=256,_n=4194304;function Gt(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Xt(o,u,p){var v=o.pendingLanes;if(v===0)return 0;var E=0,I=o.suspendedLanes,ee=o.pingedLanes;o=o.warmLanes;var pe=v&134217727;return pe!==0?(v=pe&~I,v!==0?E=Gt(v):(ee&=pe,ee!==0?E=Gt(ee):p||(p=pe&~o,p!==0&&(E=Gt(p))))):(pe=v&~I,pe!==0?E=Gt(pe):ee!==0?E=Gt(ee):p||(p=v&~o,p!==0&&(E=Gt(p)))),E===0?0:u!==0&&u!==E&&(u&I)===0&&(I=E&-E,p=u&-u,I>=p||I===32&&(p&4194048)!==0)?u:E}function Zt(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function nn(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rn(){var o=jt;return jt<<=1,(jt&4194048)===0&&(jt=256),o}function Mn(){var o=_n;return _n<<=1,(_n&62914560)===0&&(_n=4194304),o}function Nr(o){for(var u=[],p=0;31>p;p++)u.push(o);return u}function Zn(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function In(o,u,p,v,E,I){var ee=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var pe=o.entanglements,_e=o.expirationTimes,Qe=o.hiddenUpdates;for(p=ee&~p;0<p;){var ft=31-Je(p),vt=1<<ft;pe[ft]=0,_e[ft]=-1;var Ze=Qe[ft];if(Ze!==null)for(Qe[ft]=null,ft=0;ft<Ze.length;ft++){var et=Ze[ft];et!==null&&(et.lane&=-536870913)}p&=~vt}v!==0&&Bt(o,v,0),I!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=I&~(ee&~u))}function Bt(o,u,p){o.pendingLanes|=u,o.suspendedLanes&=~u;var v=31-Je(u);o.entangledLanes|=u,o.entanglements[v]=o.entanglements[v]|1073741824|p&4194090}function vn(o,u){var p=o.entangledLanes|=u;for(o=o.entanglements;p;){var v=31-Je(p),E=1<<v;E&u|o[v]&u&&(o[v]|=u),p&=~E}}function Di(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function cr(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Vr(){var o=Y.p;return o!==0?o:(o=window.event,o===void 0?32:qE(o.type))}function Li(o,u){var p=Y.p;try{return Y.p=o,u()}finally{Y.p=p}}var Ot=Math.random().toString(36).slice(2),zn="__reactFiber$"+Ot,Jn="__reactProps$"+Ot,xr="__reactContainer$"+Ot,nr="__reactEvents$"+Ot,rr="__reactListeners$"+Ot,gn="__reactHandles$"+Ot,va="__reactResources$"+Ot,Xi="__reactMarker$"+Ot;function Zi(o){delete o[zn],delete o[Jn],delete o[nr],delete o[rr],delete o[gn]}function hi(o){var u=o[zn];if(u)return u;for(var p=o.parentNode;p;){if(u=p[xr]||p[zn]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(o=CE(o);o!==null;){if(p=o[zn])return p;o=CE(o)}return u}o=p,p=o.parentNode}return null}function pi(o){if(o=o[zn]||o[xr]){var u=o.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return o}return null}function Gn(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(r(33))}function si(o){var u=o[va];return u||(u=o[va]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Qn(o){o[Xi]=!0}var sa=new Set,wa={};function fs(o,u){vr(o,u),vr(o+"Capture",u)}function vr(o,u){for(wa[o]=u,o=0;o<u.length;o++)sa.add(u[o])}var Va=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ho={},pt={};function wt(o){return qe.call(pt,o)?!0:qe.call(ho,o)?!1:Va.test(o)?pt[o]=!0:(ho[o]=!0,!1)}function St(o,u,p){if(wt(u))if(p===null)o.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var v=u.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+p)}}function Rt(o,u,p){if(p===null)o.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+p)}}function Tt(o,u,p,v){if(v===null)o.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(u,p,""+v)}}var an,En;function Kn(o){if(an===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);an=u&&u[1]||"",En=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+an+o+En}var jr=!1;function mi(o,u){if(!o||jr)return"";jr=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(u){var vt=function(){throw Error()};if(Object.defineProperty(vt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(vt,[])}catch(et){var Ze=et}Reflect.construct(o,[],vt)}else{try{vt.call()}catch(et){Ze=et}o.call(vt.prototype)}}else{try{throw Error()}catch(et){Ze=et}(vt=o())&&typeof vt.catch=="function"&&vt.catch(function(){})}}catch(et){if(et&&Ze&&typeof et.stack=="string")return[et.stack,Ze.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=v.DetermineComponentFrameRoot(),ee=I[0],pe=I[1];if(ee&&pe){var _e=ee.split(`
`),Qe=pe.split(`
`);for(E=v=0;v<_e.length&&!_e[v].includes("DetermineComponentFrameRoot");)v++;for(;E<Qe.length&&!Qe[E].includes("DetermineComponentFrameRoot");)E++;if(v===_e.length||E===Qe.length)for(v=_e.length-1,E=Qe.length-1;1<=v&&0<=E&&_e[v]!==Qe[E];)E--;for(;1<=v&&0<=E;v--,E--)if(_e[v]!==Qe[E]){if(v!==1||E!==1)do if(v--,E--,0>E||_e[v]!==Qe[E]){var ft=`
`+_e[v].replace(" at new "," at ");return o.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",o.displayName)),ft}while(1<=v&&0<=E);break}}}finally{jr=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?Kn(p):""}function Ya(o){switch(o.tag){case 26:case 27:case 5:return Kn(o.type);case 16:return Kn("Lazy");case 13:return Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return mi(o.type,!1);case 11:return mi(o.type.render,!1);case 1:return mi(o.type,!0);case 31:return Kn("Activity");default:return""}}function Hn(o){try{var u="";do u+=Ya(o),o=o.return;while(o);return u}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function Tr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function aa(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ga(o){var u=aa(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),v=""+o[u];if(!o.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,I=p.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return E.call(this)},set:function(ee){v=""+ee,I.call(this,ee)}}),Object.defineProperty(o,u,{enumerable:p.enumerable}),{getValue:function(){return v},setValue:function(ee){v=""+ee},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Ri(o){o._valueTracker||(o._valueTracker=Ga(o))}function Qa(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var p=u.getValue(),v="";return o&&(v=aa(o)?o.checked?"true":"false":o.value),o=v,o!==p?(u.setValue(o),!0):!1}function Ci(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Ka=/[\n"\\]/g;function dr(o){return o.replace(Ka,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Do(o,u,p,v,E,I,ee,pe){o.name="",ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?o.type=ee:o.removeAttribute("type"),u!=null?ee==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+Tr(u)):o.value!==""+Tr(u)&&(o.value=""+Tr(u)):ee!=="submit"&&ee!=="reset"||o.removeAttribute("value"),u!=null?Lo(o,ee,Tr(u)):p!=null?Lo(o,ee,Tr(p)):v!=null&&o.removeAttribute("value"),E==null&&I!=null&&(o.defaultChecked=!!I),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),pe!=null&&typeof pe!="function"&&typeof pe!="symbol"&&typeof pe!="boolean"?o.name=""+Tr(pe):o.removeAttribute("name")}function Hl(o,u,p,v,E,I,ee,pe){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(o.type=I),u!=null||p!=null){if(!(I!=="submit"&&I!=="reset"||u!=null))return;p=p!=null?""+Tr(p):"",u=u!=null?""+Tr(u):p,pe||u===o.value||(o.value=u),o.defaultValue=u}v=v??E,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=pe?o.checked:!!v,o.defaultChecked=!!v,ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"&&(o.name=ee)}function Lo(o,u,p){u==="number"&&Ci(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function Xa(o,u,p,v){if(o=o.options,u){u={};for(var E=0;E<p.length;E++)u["$"+p[E]]=!0;for(p=0;p<o.length;p++)E=u.hasOwnProperty("$"+o[p].value),o[p].selected!==E&&(o[p].selected=E),E&&v&&(o[p].defaultSelected=!0)}else{for(p=""+Tr(p),u=null,E=0;E<o.length;E++){if(o[E].value===p){o[E].selected=!0,v&&(o[E].defaultSelected=!0);return}u!==null||o[E].disabled||(u=o[E])}u!==null&&(u.selected=!0)}}function Pu(o,u,p){if(u!=null&&(u=""+Tr(u),u!==o.value&&(o.value=u),p==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=p!=null?""+Tr(p):""}function Za(o,u,p,v){if(u==null){if(v!=null){if(p!=null)throw Error(r(92));if(Q(v)){if(1<v.length)throw Error(r(93));v=v[0]}p=v}p==null&&(p=""),u=p}p=Tr(u),o.defaultValue=p,v=o.textContent,v===p&&v!==""&&v!==null&&(o.value=v)}function Ji(o,u){if(u){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=u;return}}o.textContent=u}var oa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sa(o,u,p){var v=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":v?o.setProperty(u,p):typeof p!="number"||p===0||oa.has(u)?u==="float"?o.cssFloat=p:o[u]=(""+p).trim():o[u]=p+"px"}function Fu(o,u,p){if(u!=null&&typeof u!="object")throw Error(r(62));if(o=o.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||u!=null&&u.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var E in u)v=u[E],u.hasOwnProperty(E)&&p[E]!==v&&Sa(o,E,v)}else for(var I in u)u.hasOwnProperty(I)&&Sa(o,I,u[I])}function Hs(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ja=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eo(o){return cl.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var dl=null;function gi(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ai=null,Aa=null;function en(o){var u=pi(o);if(u&&(o=u.stateNode)){var p=o[Jn]||null;e:switch(o=u.stateNode,u.type){case"input":if(Do(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+dr(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var v=p[u];if(v!==o&&v.form===o.form){var E=v[Jn]||null;if(!E)throw Error(r(90));Do(v,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(u=0;u<p.length;u++)v=p[u],v.form===o.form&&Qa(v)}break e;case"textarea":Pu(o,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&Xa(o,!!p.multiple,u,!1)}}}var po=!1;function fl(o,u,p){if(po)return o(u,p);po=!0;try{var v=o(u);return v}finally{if(po=!1,(ai!==null||Aa!==null)&&(Xb(),ai&&(u=ai,o=Aa,Aa=ai=null,en(u),o)))for(u=0;u<o.length;u++)en(o[u])}}function Mi(o,u){var p=o.stateNode;if(p===null)return null;var v=p[Jn]||null;if(v===null)return null;p=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,u,typeof p));return p}var Ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ro=!1;if(Ws)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){Ro=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{Ro=!1}var zs=null,Ys=null,Mo=null;function hl(){if(Mo)return Mo;var o,u=Ys,p=u.length,v,E="value"in zs?zs.value:zs.textContent,I=E.length;for(o=0;o<p&&u[o]===E[o];o++);var ee=p-o;for(v=1;v<=ee&&u[p-v]===E[I-v];v++);return Mo=E.slice(o,1<v?1-v:void 0)}function mo(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Ca(){return!0}function $(){return!1}function me(o){function u(p,v,E,I,ee){this._reactName=p,this._targetInst=E,this.type=v,this.nativeEvent=I,this.target=ee,this.currentTarget=null;for(var pe in o)o.hasOwnProperty(pe)&&(p=o[pe],this[pe]=p?p(I):I[pe]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Ca:$,this.isPropagationStopped=$,this}return h(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Ca)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Ca)},persist:function(){},isPersistent:Ca}),u}var ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},st=me(ke),Kt=h({},ke,{view:0,detail:0}),zt=me(Kt),Dn,kn,wr,bn=h({},Kt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==wr&&(wr&&o.type==="mousemove"?(Dn=o.screenX-wr.screenX,kn=o.screenY-wr.screenY):kn=Dn=0,wr=o),Dn)},movementY:function(o){return"movementY"in o?o.movementY:kn}}),qr=me(bn),Ts=h({},bn,{dataTransfer:0}),Or=me(Ts),Ir=h({},Kt,{relatedTarget:0}),ti=me(Ir),Gs=h({},ke,{animationName:0,elapsedTime:0,pseudoElement:0}),to=me(Gs),Ea=h({},ke,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),qd=me(Ea),pl=h({},ke,{data:0}),Po=me(pl),vp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ih={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sh(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=ih[o])?!!u[o]:!1}function Bd(){return sh}var pm=h({},Kt,{key:function(o){if(o.key){var u=vp[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=mo(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?zd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bd,charCode:function(o){return o.type==="keypress"?mo(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?mo(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Ud=me(pm),Vc=h({},bn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$d=me(Vc),qu=h({},Kt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bd}),ah=me(qu),L=h({},ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),re=me(L),Ce=h({},bn,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ie=me(Ce),Ue=h({},ke,{newState:0,oldState:0}),ut=me(Ue),Ct=[9,13,27,32],It=Ws&&"CompositionEvent"in window,Ut=null;Ws&&"documentMode"in document&&(Ut=document.documentMode);var wn=Ws&&"TextEvent"in window&&!Ut,hn=Ws&&(!It||Ut&&8<Ut&&11>=Ut),Wn=" ",oi=!1;function bi(o,u){switch(o){case"keyup":return Ct.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pi(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Fi=!1;function Os(o,u){switch(o){case"compositionend":return Pi(u);case"keypress":return u.which!==32?null:(oi=!0,Wn);case"textInput":return o=u.data,o===Wn&&oi?null:o;default:return null}}function Fo(o,u){if(Fi)return o==="compositionend"||!It&&bi(o,u)?(o=hl(),Mo=Ys=zs=null,Fi=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return hn&&u.locale!=="ko"?null:u.data;default:return null}}var no={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qo(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!no[o.type]:u==="textarea"}function oh(o,u,p,v){ai?Aa?Aa.push(v):Aa=[v]:ai=v,u=ry(u,"onChange"),0<u.length&&(p=new st("onChange","change",null,p,v),o.push({event:p,listeners:u}))}var Wl=null,Vl=null;function Hd(o){pE(o,0)}function zu(o){var u=Gn(o);if(Qa(u))return o}function Wd(o,u){if(o==="change")return u}var Yc=!1;if(Ws){var hs;if(Ws){var Bu="oninput"in document;if(!Bu){var Gc=document.createElement("div");Gc.setAttribute("oninput","return;"),Bu=typeof Gc.oninput=="function"}hs=Bu}else hs=!1;Yc=hs&&(!document.documentMode||9<document.documentMode)}function Qc(){Wl&&(Wl.detachEvent("onpropertychange",Vd),Vl=Wl=null)}function Vd(o){if(o.propertyName==="value"&&zu(Vl)){var u=[];oh(u,Vl,o,gi(o)),fl(Hd,u)}}function _a(o,u,p){o==="focusin"?(Qc(),Wl=u,Vl=p,Wl.attachEvent("onpropertychange",Vd)):o==="focusout"&&Qc()}function mm(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return zu(Vl)}function lh(o,u){if(o==="click")return zu(u)}function wp(o,u){if(o==="input"||o==="change")return zu(u)}function go(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Is=typeof Object.is=="function"?Object.is:go;function Uu(o,u){if(Is(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var p=Object.keys(o),v=Object.keys(u);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var E=p[v];if(!qe.call(u,E)||!Is(o[E],u[E]))return!1}return!0}function uh(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Yl(o,u){var p=uh(o);o=0;for(var v;p;){if(p.nodeType===3){if(v=o+p.textContent.length,o<=u&&v>=u)return{node:p,offset:u-o};o=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=uh(p)}}function $u(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?$u(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function la(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=Ci(o.document);u instanceof o.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)o=u.contentWindow;else break;u=Ci(o.document)}return u}function Bs(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var Hu=Ws&&"documentMode"in document&&11>=document.documentMode,ka=null,zo=null,ml=null,Bo=!1;function Ei(o,u,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Bo||ka==null||ka!==Ci(v)||(v=ka,"selectionStart"in v&&Bs(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),ml&&Uu(ml,v)||(ml=v,v=ry(zo,"onSelect"),0<v.length&&(u=new st("onSelect","select",null,u,p),o.push({event:u,listeners:v}),u.target=ka)))}function Uo(o,u){var p={};return p[o.toLowerCase()]=u.toLowerCase(),p["Webkit"+o]="webkit"+u,p["Moz"+o]="moz"+u,p}var es={animationend:Uo("Animation","AnimationEnd"),animationiteration:Uo("Animation","AnimationIteration"),animationstart:Uo("Animation","AnimationStart"),transitionrun:Uo("Transition","TransitionRun"),transitionstart:Uo("Transition","TransitionStart"),transitioncancel:Uo("Transition","TransitionCancel"),transitionend:Uo("Transition","TransitionEnd")},Na={},Kc={};Ws&&(Kc=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function gl(o){if(Na[o])return Na[o];if(!es[o])return o;var u=es[o],p;for(p in u)if(u.hasOwnProperty(p)&&p in Kc)return Na[o]=u[p];return o}var Yd=gl("animationend"),Wu=gl("animationiteration"),Vu=gl("animationstart"),Yu=gl("transitionrun"),Xc=gl("transitionstart"),Gd=gl("transitioncancel"),Gu=gl("transitionend"),Gl=new Map,Zc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zc.push("scrollEnd");function _i(o,u){Gl.set(o,u),fs(u,[o])}var ro=new WeakMap;function Fn(o,u){if(typeof o=="object"&&o!==null){var p=ro.get(o);return p!==void 0?p:(u={value:o,source:u,stack:Hn(u)},ro.set(o,u),u)}return{value:o,source:u,stack:Hn(u)}}var qn=[],Yr=0,qi=0;function bo(){for(var o=Yr,u=qi=Yr=0;u<o;){var p=qn[u];qn[u++]=null;var v=qn[u];qn[u++]=null;var E=qn[u];qn[u++]=null;var I=qn[u];if(qn[u++]=null,v!==null&&E!==null){var ee=v.pending;ee===null?E.next=E:(E.next=ee.next,ee.next=E),v.pending=E}I!==0&&Sp(p,E,I)}}function Qu(o,u,p,v){qn[Yr++]=o,qn[Yr++]=u,qn[Yr++]=p,qn[Yr++]=v,qi|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function Ku(o,u,p,v){return Qu(o,u,p,v),Jc(o)}function Ql(o,u){return Qu(o,null,null,u),Jc(o)}function Sp(o,u,p){o.lanes|=p;var v=o.alternate;v!==null&&(v.lanes|=p);for(var E=!1,I=o.return;I!==null;)I.childLanes|=p,v=I.alternate,v!==null&&(v.childLanes|=p),I.tag===22&&(o=I.stateNode,o===null||o._visibility&1||(E=!0)),o=I,I=I.return;return o.tag===3?(I=o.stateNode,E&&u!==null&&(E=31-Je(p),o=I.hiddenUpdates,v=o[E],v===null?o[E]=[u]:v.push(u),u.lane=p|536870912),I):null}function Jc(o){if(50<zm)throw zm=0,Q2=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var Ds={};function yo(o,u,p,v){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qs(o,u,p,v){return new yo(o,u,p,v)}function Qd(o){return o=o.prototype,!(!o||!o.isReactComponent)}function bl(o,u){var p=o.alternate;return p===null?(p=Qs(o.tag,u,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=u,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,u=o.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function ch(o,u){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,u=p.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function ed(o,u,p,v,E,I){var ee=0;if(v=o,typeof o=="function")Qd(o)&&(ee=1);else if(typeof o=="string")ee=J9(o,p,ie.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case z:return o=Qs(31,p,u,E),o.elementType=z,o.lanes=I,o;case x:return Kl(p.children,E,I,u);case y:ee=8,E|=24;break;case A:return o=Qs(12,p,u,E|2),o.elementType=A,o.lanes=I,o;case q:return o=Qs(13,p,u,E),o.elementType=q,o.lanes=I,o;case D:return o=Qs(19,p,u,E),o.elementType=D,o.lanes=I,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case w:case k:ee=10;break e;case C:ee=9;break e;case R:ee=11;break e;case N:ee=14;break e;case P:ee=16,v=null;break e}ee=29,p=Error(r(130,o===null?"null":typeof o,"")),v=null}return u=Qs(ee,p,u,E),u.elementType=o,u.type=v,u.lanes=I,u}function Kl(o,u,p,v){return o=Qs(7,o,v,u),o.lanes=p,o}function Ap(o,u,p){return o=Qs(6,o,null,u),o.lanes=p,o}function dh(o,u,p){return u=Qs(4,o.children!==null?o.children:[],o.key,u),u.lanes=p,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Xu=[],Xl=0,Kd=null,Cp=0,xo=[],io=0,td=null,Zl=1,Jl="";function nd(o,u){Xu[Xl++]=Cp,Xu[Xl++]=Kd,Kd=o,Cp=u}function wb(o,u,p){xo[io++]=Zl,xo[io++]=Jl,xo[io++]=td,td=o;var v=Zl;o=Jl;var E=32-Je(v)-1;v&=~(1<<E),p+=1;var I=32-Je(u)+E;if(30<I){var ee=E-E%5;I=(v&(1<<ee)-1).toString(32),v>>=ee,E-=ee,Zl=1<<32-Je(u)+E|p<<E|v,Jl=I+o}else Zl=1<<I|p<<E|v,Jl=o}function fh(o){o.return!==null&&(nd(o,1),wb(o,1,0))}function hh(o){for(;o===Kd;)Kd=Xu[--Xl],Xu[Xl]=null,Cp=Xu[--Xl],Xu[Xl]=null;for(;o===td;)td=xo[--io],xo[io]=null,Jl=xo[--io],xo[io]=null,Zl=xo[--io],xo[io]=null}var ps=null,ki=null,fr=!1,Zu=null,yl=!1,gm=Error(r(519));function rd(o){var u=Error(r(418,""));throw Xd(Fn(u,o)),gm}function Sb(o){var u=o.stateNode,p=o.type,v=o.memoizedProps;switch(u[zn]=o,u[Jn]=v,p){case"dialog":Yn("cancel",u),Yn("close",u);break;case"iframe":case"object":case"embed":Yn("load",u);break;case"video":case"audio":for(p=0;p<Um.length;p++)Yn(Um[p],u);break;case"source":Yn("error",u);break;case"img":case"image":case"link":Yn("error",u),Yn("load",u);break;case"details":Yn("toggle",u);break;case"input":Yn("invalid",u),Hl(u,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),Ri(u);break;case"select":Yn("invalid",u);break;case"textarea":Yn("invalid",u),Za(u,v.value,v.defaultValue,v.children),Ri(u)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||v.suppressHydrationWarning===!0||yE(u.textContent,p)?(v.popover!=null&&(Yn("beforetoggle",u),Yn("toggle",u)),v.onScroll!=null&&Yn("scroll",u),v.onScrollEnd!=null&&Yn("scrollend",u),v.onClick!=null&&(u.onclick=iy),u=!0):u=!1,u||rd(o)}function eu(o){for(ps=o.return;ps;)switch(ps.tag){case 5:case 13:yl=!1;return;case 27:case 3:yl=!0;return;default:ps=ps.return}}function ua(o){if(o!==ps)return!1;if(!fr)return eu(o),fr=!0,!1;var u=o.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||d5(o.type,o.memoizedProps)),p=!p),p&&ki&&rd(o),eu(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8)if(p=o.data,p==="/$"){if(u===0){ki=lu(o.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++;o=o.nextSibling}ki=null}}else u===27?(u=ki,mf(o.type)?(o=m5,m5=null,ki=o):ki=u):ki=ps?lu(o.stateNode.nextSibling):null;return!0}function so(){ki=ps=null,fr=!1}function Ab(){var o=Zu;return o!==null&&(So===null?So=o:So.push.apply(So,o),Zu=null),o}function Xd(o){Zu===null?Zu=[o]:Zu.push(o)}var xl=le(null),Ls=null,tu=null;function Ju(o,u,p){B(xl,u._currentValue),u._currentValue=p}function vl(o){o._currentValue=xl.current,U(xl)}function Ep(o,u,p){for(;o!==null;){var v=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),o===p)break;o=o.return}}function _p(o,u,p,v){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var I=E.dependencies;if(I!==null){var ee=E.child;I=I.firstContext;e:for(;I!==null;){var pe=I;I=E;for(var _e=0;_e<u.length;_e++)if(pe.context===u[_e]){I.lanes|=p,pe=I.alternate,pe!==null&&(pe.lanes|=p),Ep(I.return,p,o),v||(ee=null);break e}I=pe.next}}else if(E.tag===18){if(ee=E.return,ee===null)throw Error(r(341));ee.lanes|=p,I=ee.alternate,I!==null&&(I.lanes|=p),Ep(ee,p,o),ee=null}else ee=E.child;if(ee!==null)ee.return=E;else for(ee=E;ee!==null;){if(ee===o){ee=null;break}if(E=ee.sibling,E!==null){E.return=ee.return,ee=E;break}ee=ee.return}E=ee}}function Zd(o,u,p,v){o=null;for(var E=u,I=!1;E!==null;){if(!I){if((E.flags&524288)!==0)I=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var ee=E.alternate;if(ee===null)throw Error(r(387));if(ee=ee.memoizedProps,ee!==null){var pe=E.type;Is(E.pendingProps.value,ee.value)||(o!==null?o.push(pe):o=[pe])}}else if(E===xe.current){if(ee=E.alternate,ee===null)throw Error(r(387));ee.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(Gm):o=[Gm])}E=E.return}o!==null&&_p(u,o,p,v),u.flags|=262144}function kp(o){for(o=o.firstContext;o!==null;){if(!Is(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function wl(o){Ls=o,tu=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ms(o){return Np(Ls,o)}function ec(o,u){return Ls===null&&wl(o),Np(o,u)}function Np(o,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},tu===null){if(o===null)throw Error(r(308));tu=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else tu=tu.next=u;return p}var v2=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(p,v){o.push(v)}};this.abort=function(){u.aborted=!0,o.forEach(function(p){return p()})}},Cb=e.unstable_scheduleCallback,w2=e.unstable_NormalPriority,gs={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bm(){return{controller:new v2,data:new Map,refCount:0}}function ph(o){o.refCount--,o.refCount===0&&Cb(w2,function(){o.controller.abort()})}var mh=null,ym=0,id=0,nu=null;function S2(o,u){if(mh===null){var p=mh=[];ym=0,id=n5(),nu={status:"pending",value:void 0,then:function(v){p.push(v)}}}return ym++,u.then(Eb,Eb),u}function Eb(){if(--ym===0&&mh!==null){nu!==null&&(nu.status="fulfilled");var o=mh;mh=null,id=0,nu=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function _b(o,u){var p=[],v={status:"pending",value:null,reason:null,then:function(E){p.push(E)}};return o.then(function(){v.status="fulfilled",v.value=u;for(var E=0;E<p.length;E++)(0,p[E])(u)},function(E){for(v.status="rejected",v.reason=E,E=0;E<p.length;E++)(0,p[E])(void 0)}),v}var S=H.S;H.S=function(o,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&S2(o,u),S!==null&&S(o,u)};var _=le(null);function F(){var o=_.current;return o!==null?o:ui.pooledCache}function W(o,u){u===null?B(_,_.current):B(_,u.pool)}function te(){var o=F();return o===null?null:{parent:gs._currentValue,pool:o}}var oe=Error(r(460)),ue=Error(r(474)),fe=Error(r(542)),ge={then:function(){}};function Se(o){return o=o.status,o==="fulfilled"||o==="rejected"}function De(){}function Ye(o,u,p){switch(p=o[p],p===void 0?o.push(u):p!==u&&(u.then(De,De),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,gt(o),o;default:if(typeof u.status=="string")u.then(De,De);else{if(o=ui,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(v){if(u.status==="pending"){var E=u;E.status="fulfilled",E.value=v}},function(v){if(u.status==="pending"){var E=u;E.status="rejected",E.reason=v}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,gt(o),o}throw We=u,oe}}var We=null;function Fe(){if(We===null)throw Error(r(459));var o=We;return We=null,o}function gt(o){if(o===oe||o===fe)throw Error(r(483))}var nt=!1;function Le(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pe(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function dt(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function yt(o,u,p){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(Br&2)!==0){var E=v.pending;return E===null?u.next=u:(u.next=E.next,E.next=u),v.pending=u,u=Jc(o),Sp(o,null,p),u}return Qu(o,v,u,p),Jc(o)}function ht(o,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var v=u.lanes;v&=o.pendingLanes,p|=v,u.lanes=p,vn(o,p)}}function Dt(o,u){var p=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var E=null,I=null;if(p=p.firstBaseUpdate,p!==null){do{var ee={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};I===null?E=I=ee:I=I.next=ee,p=p.next}while(p!==null);I===null?E=I=u:I=I.next=u}else E=I=u;p={baseState:v.baseState,firstBaseUpdate:E,lastBaseUpdate:I,shared:v.shared,callbacks:v.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=u:o.next=u,p.lastBaseUpdate=u}var kt=!1;function Vt(){if(kt){var o=nu;if(o!==null)throw o}}function Nt(o,u,p,v){kt=!1;var E=o.updateQueue;nt=!1;var I=E.firstBaseUpdate,ee=E.lastBaseUpdate,pe=E.shared.pending;if(pe!==null){E.shared.pending=null;var _e=pe,Qe=_e.next;_e.next=null,ee===null?I=Qe:ee.next=Qe,ee=_e;var ft=o.alternate;ft!==null&&(ft=ft.updateQueue,pe=ft.lastBaseUpdate,pe!==ee&&(pe===null?ft.firstBaseUpdate=Qe:pe.next=Qe,ft.lastBaseUpdate=_e))}if(I!==null){var vt=E.baseState;ee=0,ft=Qe=_e=null,pe=I;do{var Ze=pe.lane&-536870913,et=Ze!==pe.lane;if(et?(ar&Ze)===Ze:(v&Ze)===Ze){Ze!==0&&Ze===id&&(kt=!0),ft!==null&&(ft=ft.next={lane:0,tag:pe.tag,payload:pe.payload,callback:null,next:null});e:{var dn=o,rn=pe;Ze=u;var Qr=p;switch(rn.tag){case 1:if(dn=rn.payload,typeof dn=="function"){vt=dn.call(Qr,vt,Ze);break e}vt=dn;break e;case 3:dn.flags=dn.flags&-65537|128;case 0:if(dn=rn.payload,Ze=typeof dn=="function"?dn.call(Qr,vt,Ze):dn,Ze==null)break e;vt=h({},vt,Ze);break e;case 2:nt=!0}}Ze=pe.callback,Ze!==null&&(o.flags|=64,et&&(o.flags|=8192),et=E.callbacks,et===null?E.callbacks=[Ze]:et.push(Ze))}else et={lane:Ze,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},ft===null?(Qe=ft=et,_e=vt):ft=ft.next=et,ee|=Ze;if(pe=pe.next,pe===null){if(pe=E.shared.pending,pe===null)break;et=pe,pe=et.next,et.next=null,E.lastBaseUpdate=et,E.shared.pending=null}}while(!0);ft===null&&(_e=vt),E.baseState=_e,E.firstBaseUpdate=Qe,E.lastBaseUpdate=ft,I===null&&(E.shared.lanes=0),df|=ee,o.lanes=ee,o.memoizedState=vt}}function ir(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function mr(o,u){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)ir(p[o],u)}var Pn=le(null),Ln=le(0);function Dr(o,u){o=pd,B(Ln,o),B(Pn,u),pd=o|u.baseLanes}function gr(){B(Ln,pd),B(Pn,Pn.current)}function yn(){pd=Ln.current,U(Pn),U(Ln)}var zr=0,Jt=null,un=null,er=null,sr=!1,Rs=!1,bs=!1,zi=0,Bi=0,ts=null,vo=0;function br(){throw Error(r(321))}function ns(o,u){if(u===null)return!1;for(var p=0;p<u.length&&p<o.length;p++)if(!Is(o[p],u[p]))return!1;return!0}function $o(o,u,p,v,E,I){return zr=I,Jt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,H.H=o===null||o.memoizedState===null?ZA:JA,bs=!1,I=p(v,E),bs=!1,Rs&&(I=sd(u,p,v,E)),tc(o),I}function tc(o){H.H=Fb;var u=un!==null&&un.next!==null;if(zr=0,er=un=Jt=null,sr=!1,Bi=0,ts=null,u)throw Error(r(300));o===null||Ks||(o=o.dependencies,o!==null&&kp(o)&&(Ks=!0))}function sd(o,u,p,v){Jt=o;var E=0;do{if(Rs&&(ts=null),Bi=0,Rs=!1,25<=E)throw Error(r(301));if(E+=1,er=un=null,o.updateQueue!=null){var I=o.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}H.H=c9,I=u(p,v)}while(Rs);return I}function nc(){var o=H.H,u=o.useState()[0];return u=typeof u.then=="function"?rc(u):u,o=o.useState()[0],(un!==null?un.memoizedState:null)!==o&&(Jt.flags|=1024),u}function li(){var o=zi!==0;return zi=0,o}function gh(o,u,p){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~p}function jp(o){if(sr){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}sr=!1}zr=0,er=un=Jt=null,Rs=!1,Bi=zi=0,ts=null}function ca(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?Jt.memoizedState=er=o:er=er.next=o,er}function yi(){if(un===null){var o=Jt.alternate;o=o!==null?o.memoizedState:null}else o=un.next;var u=er===null?Jt.memoizedState:er.next;if(u!==null)er=u,un=o;else{if(o===null)throw Jt.alternate===null?Error(r(467)):Error(r(310));un=o,o={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},er===null?Jt.memoizedState=er=o:er=er.next=o}return er}function ad(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rc(o){var u=Bi;return Bi+=1,ts===null&&(ts=[]),o=Ye(ts,o,u),u=Jt,(er===null?u.memoizedState:er.next)===null&&(u=u.alternate,H.H=u===null||u.memoizedState===null?ZA:JA),o}function ja(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return rc(o);if(o.$$typeof===k)return ms(o)}throw Error(r(438,String(o)))}function ic(o){var u=null,p=Jt.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var v=Jt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(u={data:v.data.map(function(E){return E.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=ad(),Jt.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(o),v=0;v<o;v++)p[v]=X;return u.index++,p}function Ta(o,u){return typeof u=="function"?u(o):u}function bh(o){var u=yi();return Jd(u,un,o)}function Jd(o,u,p){var v=o.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=p;var E=o.baseQueue,I=v.pending;if(I!==null){if(E!==null){var ee=E.next;E.next=I.next,I.next=ee}u.baseQueue=E=I,v.pending=null}if(I=o.baseState,E===null)o.memoizedState=I;else{u=E.next;var pe=ee=null,_e=null,Qe=u,ft=!1;do{var vt=Qe.lane&-536870913;if(vt!==Qe.lane?(ar&vt)===vt:(zr&vt)===vt){var Ze=Qe.revertLane;if(Ze===0)_e!==null&&(_e=_e.next={lane:0,revertLane:0,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),vt===id&&(ft=!0);else if((zr&Ze)===Ze){Qe=Qe.next,Ze===id&&(ft=!0);continue}else vt={lane:0,revertLane:Qe.revertLane,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null},_e===null?(pe=_e=vt,ee=I):_e=_e.next=vt,Jt.lanes|=Ze,df|=Ze;vt=Qe.action,bs&&p(I,vt),I=Qe.hasEagerState?Qe.eagerState:p(I,vt)}else Ze={lane:vt,revertLane:Qe.revertLane,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null},_e===null?(pe=_e=Ze,ee=I):_e=_e.next=Ze,Jt.lanes|=vt,df|=vt;Qe=Qe.next}while(Qe!==null&&Qe!==u);if(_e===null?ee=I:_e.next=pe,!Is(I,o.memoizedState)&&(Ks=!0,ft&&(p=nu,p!==null)))throw p;o.memoizedState=I,o.baseState=ee,o.baseQueue=_e,v.lastRenderedState=I}return E===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function Tp(o){var u=yi(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var v=p.dispatch,E=p.pending,I=u.memoizedState;if(E!==null){p.pending=null;var ee=E=E.next;do I=o(I,ee.action),ee=ee.next;while(ee!==E);Is(I,u.memoizedState)||(Ks=!0),u.memoizedState=I,u.baseQueue===null&&(u.baseState=I),p.lastRenderedState=I}return[I,v]}function yh(o,u,p){var v=Jt,E=yi(),I=fr;if(I){if(p===void 0)throw Error(r(407));p=p()}else p=u();var ee=!Is((un||E).memoizedState,p);ee&&(E.memoizedState=p,Ks=!0),E=E.queue;var pe=ef.bind(null,v,E,o);if(rf(2048,8,pe,[o]),E.getSnapshot!==u||ee||er!==null&&er.memoizedState.tag&1){if(v.flags|=2048,iu(9,Sh(),xh.bind(null,v,E,p,u),null),ui===null)throw Error(r(349));I||(zr&124)!==0||Op(v,u,p)}return p}function Op(o,u,p){o.flags|=16384,o={getSnapshot:u,value:p},u=Jt.updateQueue,u===null?(u=ad(),Jt.updateQueue=u,u.stores=[o]):(p=u.stores,p===null?u.stores=[o]:p.push(o))}function xh(o,u,p,v){u.value=p,u.getSnapshot=v,kb(u)&&Nb(o)}function ef(o,u,p){return p(function(){kb(u)&&Nb(o)})}function kb(o){var u=o.getSnapshot;o=o.value;try{var p=u();return!Is(o,p)}catch{return!0}}function Nb(o){var u=Ql(o,2);u!==null&&Qo(u,o,2)}function vh(o){var u=ca();if(typeof o=="function"){var p=o;if(o=p(),bs){He(!0);try{p()}finally{He(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:o},u}function ru(o,u,p,v){return o.baseState=p,Jd(o,un,typeof v=="function"?v:Ta)}function A2(o,u,p,v,E){if(Pb(o))throw Error(r(485));if(o=u.action,o!==null){var I={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ee){I.listeners.push(ee)}};H.T!==null?p(!0):I.isTransition=!1,v(I),p=u.pending,p===null?(I.next=u.pending=I,jb(u,I)):(I.next=p.next,u.pending=p.next=I)}}function jb(o,u){var p=u.action,v=u.payload,E=o.state;if(u.isTransition){var I=H.T,ee={};H.T=ee;try{var pe=p(E,v),_e=H.S;_e!==null&&_e(ee,pe),Tb(o,u,pe)}catch(Qe){tf(o,u,Qe)}finally{H.T=I}}else try{I=p(E,v),Tb(o,u,I)}catch(Qe){tf(o,u,Qe)}}function Tb(o,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){xm(o,u,v)},function(v){return tf(o,u,v)}):xm(o,u,p)}function xm(o,u,p){u.status="fulfilled",u.value=p,vm(u),o.state=p,u=o.pending,u!==null&&(p=u.next,p===u?o.pending=null:(p=p.next,u.next=p,jb(o,p)))}function tf(o,u,p){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do u.status="rejected",u.reason=p,vm(u),u=u.next;while(u!==v)}o.action=null}function vm(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function wm(o,u){return u}function wh(o,u){if(fr){var p=ui.formState;if(p!==null){e:{var v=Jt;if(fr){if(ki){t:{for(var E=ki,I=yl;E.nodeType!==8;){if(!I){E=null;break t}if(E=lu(E.nextSibling),E===null){E=null;break t}}I=E.data,E=I==="F!"||I==="F"?E:null}if(E){ki=lu(E.nextSibling),v=E.data==="F!";break e}}rd(v)}v=!1}v&&(u=p[0])}}return p=ca(),p.memoizedState=p.baseState=u,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wm,lastRenderedState:u},p.queue=v,p=QA.bind(null,Jt,v),v.dispatch=p,v=vh(!1),I=C2.bind(null,Jt,!1,v.queue),v=ca(),E={state:u,dispatch:null,action:o,pending:null},v.queue=E,p=A2.bind(null,Jt,E,I,p),E.dispatch=p,v.memoizedState=o,[u,p,!1]}function Ip(o){var u=yi();return nf(u,un,o)}function nf(o,u,p){if(u=Jd(o,u,wm)[0],o=bh(Ta)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var v=rc(u)}catch(ee){throw ee===oe?fe:ee}else v=u;u=yi();var E=u.queue,I=E.dispatch;return p!==u.memoizedState&&(Jt.flags|=2048,iu(9,Sh(),Ob.bind(null,E,p),null)),[v,I,o]}function Ob(o,u){o.action=u}function Ib(o){var u=yi(),p=un;if(p!==null)return nf(u,p,o);yi(),u=u.memoizedState,p=yi();var v=p.queue.dispatch;return p.memoizedState=o,[u,v,!1]}function iu(o,u,p,v){return o={tag:o,create:p,deps:v,inst:u,next:null},u=Jt.updateQueue,u===null&&(u=ad(),Jt.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=o.next=o:(v=p.next,p.next=o,o.next=v,u.lastEffect=o),o}function Sh(){return{destroy:void 0,resource:void 0}}function Dp(){return yi().memoizedState}function Ho(o,u,p,v){var E=ca();v=v===void 0?null:v,Jt.flags|=o,E.memoizedState=iu(1|u,Sh(),p,v)}function rf(o,u,p,v){var E=yi();v=v===void 0?null:v;var I=E.memoizedState.inst;un!==null&&v!==null&&ns(v,un.memoizedState.deps)?E.memoizedState=iu(u,I,p,v):(Jt.flags|=o,E.memoizedState=iu(1|u,I,p,v))}function Sm(o,u){Ho(8390656,8,o,u)}function Db(o,u){rf(2048,8,o,u)}function Am(o,u){return rf(4,2,o,u)}function od(o,u){return rf(4,4,o,u)}function Lb(o,u){if(typeof u=="function"){o=o();var p=u(o);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function Cm(o,u,p){p=p!=null?p.concat([o]):null,rf(4,4,Lb.bind(null,u,o),p)}function Em(){}function _m(o,u){var p=yi();u=u===void 0?null:u;var v=p.memoizedState;return u!==null&&ns(u,v[1])?v[0]:(p.memoizedState=[o,u],o)}function Rb(o,u){var p=yi();u=u===void 0?null:u;var v=p.memoizedState;if(u!==null&&ns(u,v[1]))return v[0];if(v=o(),bs){He(!0);try{o()}finally{He(!1)}}return p.memoizedState=[v,u],v}function ld(o,u,p){return p===void 0||(zr&1073741824)!==0?o.memoizedState=u:(o.memoizedState=p,o=WC(),Jt.lanes|=o,df|=o,p)}function Lp(o,u,p,v){return Is(p,u)?p:Pn.current!==null?(o=ld(o,p,v),Is(o,u)||(Ks=!0),o):(zr&42)===0?(Ks=!0,o.memoizedState=p):(o=WC(),Jt.lanes|=o,df|=o,u)}function Ah(o,u,p,v,E){var I=Y.p;Y.p=I!==0&&8>I?I:8;var ee=H.T,pe={};H.T=pe,C2(o,!1,u,p);try{var _e=E(),Qe=H.S;if(Qe!==null&&Qe(pe,_e),_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var ft=_b(_e,v);Tm(o,u,ft,Go(o))}else Tm(o,u,v,Go(o))}catch(vt){Tm(o,u,{then:function(){},status:"rejected",reason:vt},Go())}finally{Y.p=I,H.T=ee}}function su(){}function Sl(o,u,p,v){if(o.tag!==5)throw Error(r(476));var E=au(o).queue;Ah(o,E,u,Z,p===null?su:function(){return Ch(o),p(v)})}function au(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:Z},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:p},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function Ch(o){var u=au(o).next.queue;Tm(o,u,{},Go())}function Eh(){return ms(Gm)}function km(){return yi().memoizedState}function Mb(){return yi().memoizedState}function Nm(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var p=Go();o=dt(p);var v=yt(u,o,p);v!==null&&(Qo(v,u,p),ht(v,u,p)),u={cache:bm()},o.payload=u;return}u=u.return}}function jm(o,u,p){var v=Go();p={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},Pb(o)?KA(u,p):(p=Ku(o,u,p,v),p!==null&&(Qo(p,o,v),XA(p,u,v)))}function QA(o,u,p){var v=Go();Tm(o,u,p,v)}function Tm(o,u,p,v){var E={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(Pb(o))KA(u,E);else{var I=o.alternate;if(o.lanes===0&&(I===null||I.lanes===0)&&(I=u.lastRenderedReducer,I!==null))try{var ee=u.lastRenderedState,pe=I(ee,p);if(E.hasEagerState=!0,E.eagerState=pe,Is(pe,ee))return Qu(o,u,E,0),ui===null&&bo(),!1}catch{}finally{}if(p=Ku(o,u,E,v),p!==null)return Qo(p,o,v),XA(p,u,v),!0}return!1}function C2(o,u,p,v){if(v={lane:2,revertLane:n5(),action:v,hasEagerState:!1,eagerState:null,next:null},Pb(o)){if(u)throw Error(r(479))}else u=Ku(o,p,v,2),u!==null&&Qo(u,o,2)}function Pb(o){var u=o.alternate;return o===Jt||u!==null&&u===Jt}function KA(o,u){Rs=sr=!0;var p=o.pending;p===null?u.next=u:(u.next=p.next,p.next=u),o.pending=u}function XA(o,u,p){if((p&4194048)!==0){var v=u.lanes;v&=o.pendingLanes,p|=v,u.lanes=p,vn(o,p)}}var Fb={readContext:ms,use:ja,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useLayoutEffect:br,useInsertionEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useSyncExternalStore:br,useId:br,useHostTransitionStatus:br,useFormState:br,useActionState:br,useOptimistic:br,useMemoCache:br,useCacheRefresh:br},ZA={readContext:ms,use:ja,useCallback:function(o,u){return ca().memoizedState=[o,u===void 0?null:u],o},useContext:ms,useEffect:Sm,useImperativeHandle:function(o,u,p){p=p!=null?p.concat([o]):null,Ho(4194308,4,Lb.bind(null,u,o),p)},useLayoutEffect:function(o,u){return Ho(4194308,4,o,u)},useInsertionEffect:function(o,u){Ho(4,2,o,u)},useMemo:function(o,u){var p=ca();u=u===void 0?null:u;var v=o();if(bs){He(!0);try{o()}finally{He(!1)}}return p.memoizedState=[v,u],v},useReducer:function(o,u,p){var v=ca();if(p!==void 0){var E=p(u);if(bs){He(!0);try{p(u)}finally{He(!1)}}}else E=u;return v.memoizedState=v.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},v.queue=o,o=o.dispatch=jm.bind(null,Jt,o),[v.memoizedState,o]},useRef:function(o){var u=ca();return o={current:o},u.memoizedState=o},useState:function(o){o=vh(o);var u=o.queue,p=QA.bind(null,Jt,u);return u.dispatch=p,[o.memoizedState,p]},useDebugValue:Em,useDeferredValue:function(o,u){var p=ca();return ld(p,o,u)},useTransition:function(){var o=vh(!1);return o=Ah.bind(null,Jt,o.queue,!0,!1),ca().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,p){var v=Jt,E=ca();if(fr){if(p===void 0)throw Error(r(407));p=p()}else{if(p=u(),ui===null)throw Error(r(349));(ar&124)!==0||Op(v,u,p)}E.memoizedState=p;var I={value:p,getSnapshot:u};return E.queue=I,Sm(ef.bind(null,v,I,o),[o]),v.flags|=2048,iu(9,Sh(),xh.bind(null,v,I,p,u),null),p},useId:function(){var o=ca(),u=ui.identifierPrefix;if(fr){var p=Jl,v=Zl;p=(v&~(1<<32-Je(v)-1)).toString(32)+p,u=""+u+"R"+p,p=zi++,0<p&&(u+="H"+p.toString(32)),u+=""}else p=vo++,u=""+u+"r"+p.toString(32)+"";return o.memoizedState=u},useHostTransitionStatus:Eh,useFormState:wh,useActionState:wh,useOptimistic:function(o){var u=ca();u.memoizedState=u.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=C2.bind(null,Jt,!0,p),p.dispatch=u,[o,u]},useMemoCache:ic,useCacheRefresh:function(){return ca().memoizedState=Nm.bind(null,Jt)}},JA={readContext:ms,use:ja,useCallback:_m,useContext:ms,useEffect:Db,useImperativeHandle:Cm,useInsertionEffect:Am,useLayoutEffect:od,useMemo:Rb,useReducer:bh,useRef:Dp,useState:function(){return bh(Ta)},useDebugValue:Em,useDeferredValue:function(o,u){var p=yi();return Lp(p,un.memoizedState,o,u)},useTransition:function(){var o=bh(Ta)[0],u=yi().memoizedState;return[typeof o=="boolean"?o:rc(o),u]},useSyncExternalStore:yh,useId:km,useHostTransitionStatus:Eh,useFormState:Ip,useActionState:Ip,useOptimistic:function(o,u){var p=yi();return ru(p,un,o,u)},useMemoCache:ic,useCacheRefresh:Mb},c9={readContext:ms,use:ja,useCallback:_m,useContext:ms,useEffect:Db,useImperativeHandle:Cm,useInsertionEffect:Am,useLayoutEffect:od,useMemo:Rb,useReducer:Tp,useRef:Dp,useState:function(){return Tp(Ta)},useDebugValue:Em,useDeferredValue:function(o,u){var p=yi();return un===null?ld(p,o,u):Lp(p,un.memoizedState,o,u)},useTransition:function(){var o=Tp(Ta)[0],u=yi().memoizedState;return[typeof o=="boolean"?o:rc(o),u]},useSyncExternalStore:yh,useId:km,useHostTransitionStatus:Eh,useFormState:Ib,useActionState:Ib,useOptimistic:function(o,u){var p=yi();return un!==null?ru(p,un,o,u):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:ic,useCacheRefresh:Mb},Rp=null,Om=0;function qb(o){var u=Om;return Om+=1,Rp===null&&(Rp=[]),Ye(Rp,o,u)}function Im(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function zb(o,u){throw u.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function eC(o){var u=o._init;return u(o._payload)}function tC(o){function u(ze,Me){if(o){var Ve=ze.deletions;Ve===null?(ze.deletions=[Me],ze.flags|=16):Ve.push(Me)}}function p(ze,Me){if(!o)return null;for(;Me!==null;)u(ze,Me),Me=Me.sibling;return null}function v(ze){for(var Me=new Map;ze!==null;)ze.key!==null?Me.set(ze.key,ze):Me.set(ze.index,ze),ze=ze.sibling;return Me}function E(ze,Me){return ze=bl(ze,Me),ze.index=0,ze.sibling=null,ze}function I(ze,Me,Ve){return ze.index=Ve,o?(Ve=ze.alternate,Ve!==null?(Ve=Ve.index,Ve<Me?(ze.flags|=67108866,Me):Ve):(ze.flags|=67108866,Me)):(ze.flags|=1048576,Me)}function ee(ze){return o&&ze.alternate===null&&(ze.flags|=67108866),ze}function pe(ze,Me,Ve,mt){return Me===null||Me.tag!==6?(Me=Ap(Ve,ze.mode,mt),Me.return=ze,Me):(Me=E(Me,Ve),Me.return=ze,Me)}function _e(ze,Me,Ve,mt){var Ft=Ve.type;return Ft===x?ft(ze,Me,Ve.props.children,mt,Ve.key):Me!==null&&(Me.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===P&&eC(Ft)===Me.type)?(Me=E(Me,Ve.props),Im(Me,Ve),Me.return=ze,Me):(Me=ed(Ve.type,Ve.key,Ve.props,null,ze.mode,mt),Im(Me,Ve),Me.return=ze,Me)}function Qe(ze,Me,Ve,mt){return Me===null||Me.tag!==4||Me.stateNode.containerInfo!==Ve.containerInfo||Me.stateNode.implementation!==Ve.implementation?(Me=dh(Ve,ze.mode,mt),Me.return=ze,Me):(Me=E(Me,Ve.children||[]),Me.return=ze,Me)}function ft(ze,Me,Ve,mt,Ft){return Me===null||Me.tag!==7?(Me=Kl(Ve,ze.mode,mt,Ft),Me.return=ze,Me):(Me=E(Me,Ve),Me.return=ze,Me)}function vt(ze,Me,Ve){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return Me=Ap(""+Me,ze.mode,Ve),Me.return=ze,Me;if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case b:return Ve=ed(Me.type,Me.key,Me.props,null,ze.mode,Ve),Im(Ve,Me),Ve.return=ze,Ve;case m:return Me=dh(Me,ze.mode,Ve),Me.return=ze,Me;case P:var mt=Me._init;return Me=mt(Me._payload),vt(ze,Me,Ve)}if(Q(Me)||O(Me))return Me=Kl(Me,ze.mode,Ve,null),Me.return=ze,Me;if(typeof Me.then=="function")return vt(ze,qb(Me),Ve);if(Me.$$typeof===k)return vt(ze,ec(ze,Me),Ve);zb(ze,Me)}return null}function Ze(ze,Me,Ve,mt){var Ft=Me!==null?Me.key:null;if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Ft!==null?null:pe(ze,Me,""+Ve,mt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case b:return Ve.key===Ft?_e(ze,Me,Ve,mt):null;case m:return Ve.key===Ft?Qe(ze,Me,Ve,mt):null;case P:return Ft=Ve._init,Ve=Ft(Ve._payload),Ze(ze,Me,Ve,mt)}if(Q(Ve)||O(Ve))return Ft!==null?null:ft(ze,Me,Ve,mt,null);if(typeof Ve.then=="function")return Ze(ze,Me,qb(Ve),mt);if(Ve.$$typeof===k)return Ze(ze,Me,ec(ze,Ve),mt);zb(ze,Ve)}return null}function et(ze,Me,Ve,mt,Ft){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return ze=ze.get(Ve)||null,pe(Me,ze,""+mt,Ft);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case b:return ze=ze.get(mt.key===null?Ve:mt.key)||null,_e(Me,ze,mt,Ft);case m:return ze=ze.get(mt.key===null?Ve:mt.key)||null,Qe(Me,ze,mt,Ft);case P:var Bn=mt._init;return mt=Bn(mt._payload),et(ze,Me,Ve,mt,Ft)}if(Q(mt)||O(mt))return ze=ze.get(Ve)||null,ft(Me,ze,mt,Ft,null);if(typeof mt.then=="function")return et(ze,Me,Ve,qb(mt),Ft);if(mt.$$typeof===k)return et(ze,Me,Ve,ec(Me,mt),Ft);zb(Me,mt)}return null}function dn(ze,Me,Ve,mt){for(var Ft=null,Bn=null,Qt=Me,on=Me=0,Zs=null;Qt!==null&&on<Ve.length;on++){Qt.index>on?(Zs=Qt,Qt=null):Zs=Qt.sibling;var yr=Ze(ze,Qt,Ve[on],mt);if(yr===null){Qt===null&&(Qt=Zs);break}o&&Qt&&yr.alternate===null&&u(ze,Qt),Me=I(yr,Me,on),Bn===null?Ft=yr:Bn.sibling=yr,Bn=yr,Qt=Zs}if(on===Ve.length)return p(ze,Qt),fr&&nd(ze,on),Ft;if(Qt===null){for(;on<Ve.length;on++)Qt=vt(ze,Ve[on],mt),Qt!==null&&(Me=I(Qt,Me,on),Bn===null?Ft=Qt:Bn.sibling=Qt,Bn=Qt);return fr&&nd(ze,on),Ft}for(Qt=v(Qt);on<Ve.length;on++)Zs=et(Qt,ze,on,Ve[on],mt),Zs!==null&&(o&&Zs.alternate!==null&&Qt.delete(Zs.key===null?on:Zs.key),Me=I(Zs,Me,on),Bn===null?Ft=Zs:Bn.sibling=Zs,Bn=Zs);return o&&Qt.forEach(function(vf){return u(ze,vf)}),fr&&nd(ze,on),Ft}function rn(ze,Me,Ve,mt){if(Ve==null)throw Error(r(151));for(var Ft=null,Bn=null,Qt=Me,on=Me=0,Zs=null,yr=Ve.next();Qt!==null&&!yr.done;on++,yr=Ve.next()){Qt.index>on?(Zs=Qt,Qt=null):Zs=Qt.sibling;var vf=Ze(ze,Qt,yr.value,mt);if(vf===null){Qt===null&&(Qt=Zs);break}o&&Qt&&vf.alternate===null&&u(ze,Qt),Me=I(vf,Me,on),Bn===null?Ft=vf:Bn.sibling=vf,Bn=vf,Qt=Zs}if(yr.done)return p(ze,Qt),fr&&nd(ze,on),Ft;if(Qt===null){for(;!yr.done;on++,yr=Ve.next())yr=vt(ze,yr.value,mt),yr!==null&&(Me=I(yr,Me,on),Bn===null?Ft=yr:Bn.sibling=yr,Bn=yr);return fr&&nd(ze,on),Ft}for(Qt=v(Qt);!yr.done;on++,yr=Ve.next())yr=et(Qt,ze,on,yr.value,mt),yr!==null&&(o&&yr.alternate!==null&&Qt.delete(yr.key===null?on:yr.key),Me=I(yr,Me,on),Bn===null?Ft=yr:Bn.sibling=yr,Bn=yr);return o&&Qt.forEach(function(dR){return u(ze,dR)}),fr&&nd(ze,on),Ft}function Qr(ze,Me,Ve,mt){if(typeof Ve=="object"&&Ve!==null&&Ve.type===x&&Ve.key===null&&(Ve=Ve.props.children),typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case b:e:{for(var Ft=Ve.key;Me!==null;){if(Me.key===Ft){if(Ft=Ve.type,Ft===x){if(Me.tag===7){p(ze,Me.sibling),mt=E(Me,Ve.props.children),mt.return=ze,ze=mt;break e}}else if(Me.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===P&&eC(Ft)===Me.type){p(ze,Me.sibling),mt=E(Me,Ve.props),Im(mt,Ve),mt.return=ze,ze=mt;break e}p(ze,Me);break}else u(ze,Me);Me=Me.sibling}Ve.type===x?(mt=Kl(Ve.props.children,ze.mode,mt,Ve.key),mt.return=ze,ze=mt):(mt=ed(Ve.type,Ve.key,Ve.props,null,ze.mode,mt),Im(mt,Ve),mt.return=ze,ze=mt)}return ee(ze);case m:e:{for(Ft=Ve.key;Me!==null;){if(Me.key===Ft)if(Me.tag===4&&Me.stateNode.containerInfo===Ve.containerInfo&&Me.stateNode.implementation===Ve.implementation){p(ze,Me.sibling),mt=E(Me,Ve.children||[]),mt.return=ze,ze=mt;break e}else{p(ze,Me);break}else u(ze,Me);Me=Me.sibling}mt=dh(Ve,ze.mode,mt),mt.return=ze,ze=mt}return ee(ze);case P:return Ft=Ve._init,Ve=Ft(Ve._payload),Qr(ze,Me,Ve,mt)}if(Q(Ve))return dn(ze,Me,Ve,mt);if(O(Ve)){if(Ft=O(Ve),typeof Ft!="function")throw Error(r(150));return Ve=Ft.call(Ve),rn(ze,Me,Ve,mt)}if(typeof Ve.then=="function")return Qr(ze,Me,qb(Ve),mt);if(Ve.$$typeof===k)return Qr(ze,Me,ec(ze,Ve),mt);zb(ze,Ve)}return typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint"?(Ve=""+Ve,Me!==null&&Me.tag===6?(p(ze,Me.sibling),mt=E(Me,Ve),mt.return=ze,ze=mt):(p(ze,Me),mt=Ap(Ve,ze.mode,mt),mt.return=ze,ze=mt),ee(ze)):p(ze,Me)}return function(ze,Me,Ve,mt){try{Om=0;var Ft=Qr(ze,Me,Ve,mt);return Rp=null,Ft}catch(Qt){if(Qt===oe||Qt===fe)throw Qt;var Bn=Qs(29,Qt,null,ze.mode);return Bn.lanes=mt,Bn.return=ze,Bn}finally{}}}var Mp=tC(!0),nC=tC(!1),Al=le(null),sc=null;function sf(o){var u=o.alternate;B(Us,Us.current&1),B(Al,o),sc===null&&(u===null||Pn.current!==null||u.memoizedState!==null)&&(sc=o)}function rC(o){if(o.tag===22){if(B(Us,Us.current),B(Al,o),sc===null){var u=o.alternate;u!==null&&u.memoizedState!==null&&(sc=o)}}else af()}function af(){B(Us,Us.current),B(Al,Al.current)}function ud(o){U(Al),sc===o&&(sc=null),U(Us)}var Us=le(0);function Bb(o){for(var u=o;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p5(p)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function E2(o,u,p,v){u=o.memoizedState,p=p(v,u),p=p==null?u:h({},u,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var _2={enqueueSetState:function(o,u,p){o=o._reactInternals;var v=Go(),E=dt(v);E.payload=u,p!=null&&(E.callback=p),u=yt(o,E,v),u!==null&&(Qo(u,o,v),ht(u,o,v))},enqueueReplaceState:function(o,u,p){o=o._reactInternals;var v=Go(),E=dt(v);E.tag=1,E.payload=u,p!=null&&(E.callback=p),u=yt(o,E,v),u!==null&&(Qo(u,o,v),ht(u,o,v))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var p=Go(),v=dt(p);v.tag=2,u!=null&&(v.callback=u),u=yt(o,v,p),u!==null&&(Qo(u,o,p),ht(u,o,p))}};function iC(o,u,p,v,E,I,ee){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,I,ee):u.prototype&&u.prototype.isPureReactComponent?!Uu(p,v)||!Uu(E,I):!0}function sC(o,u,p,v){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,v),u.state!==o&&_2.enqueueReplaceState(u,u.state,null)}function _h(o,u){var p=u;if("ref"in u){p={};for(var v in u)v!=="ref"&&(p[v]=u[v])}if(o=o.defaultProps){p===u&&(p=h({},p));for(var E in o)p[E]===void 0&&(p[E]=o[E])}return p}var Ub=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function aC(o){Ub(o)}function oC(o){console.error(o)}function lC(o){Ub(o)}function $b(o,u){try{var p=o.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(v){setTimeout(function(){throw v})}}function uC(o,u,p){try{var v=o.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function k2(o,u,p){return p=dt(p),p.tag=3,p.payload={element:null},p.callback=function(){$b(o,u)},p}function cC(o){return o=dt(o),o.tag=3,o}function dC(o,u,p,v){var E=p.type.getDerivedStateFromError;if(typeof E=="function"){var I=v.value;o.payload=function(){return E(I)},o.callback=function(){uC(u,p,v)}}var ee=p.stateNode;ee!==null&&typeof ee.componentDidCatch=="function"&&(o.callback=function(){uC(u,p,v),typeof E!="function"&&(ff===null?ff=new Set([this]):ff.add(this));var pe=v.stack;this.componentDidCatch(v.value,{componentStack:pe!==null?pe:""})})}function d9(o,u,p,v,E){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(u=p.alternate,u!==null&&Zd(u,p,E,!0),p=Al.current,p!==null){switch(p.tag){case 13:return sc===null?X2():p.alternate===null&&rs===0&&(rs=3),p.flags&=-257,p.flags|=65536,p.lanes=E,v===ge?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([v]):u.add(v),J2(o,v,E)),!1;case 22:return p.flags|=65536,v===ge?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([v]):p.add(v)),J2(o,v,E)),!1}throw Error(r(435,p.tag))}return J2(o,v,E),X2(),!1}if(fr)return u=Al.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=E,v!==gm&&(o=Error(r(422),{cause:v}),Xd(Fn(o,p)))):(v!==gm&&(u=Error(r(423),{cause:v}),Xd(Fn(u,p))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,v=Fn(v,p),E=k2(o.stateNode,v,E),Dt(o,E),rs!==4&&(rs=2)),!1;var I=Error(r(520),{cause:v});if(I=Fn(I,p),qm===null?qm=[I]:qm.push(I),rs!==4&&(rs=2),u===null)return!0;v=Fn(v,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,o=E&-E,p.lanes|=o,o=k2(p.stateNode,v,o),Dt(p,o),!1;case 1:if(u=p.type,I=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(ff===null||!ff.has(I))))return p.flags|=65536,E&=-E,p.lanes|=E,E=cC(E),dC(E,o,p,v),Dt(p,E),!1}p=p.return}while(p!==null);return!1}var fC=Error(r(461)),Ks=!1;function da(o,u,p,v){u.child=o===null?nC(u,null,p,v):Mp(u,o.child,p,v)}function hC(o,u,p,v,E){p=p.render;var I=u.ref;if("ref"in v){var ee={};for(var pe in v)pe!=="ref"&&(ee[pe]=v[pe])}else ee=v;return wl(u),v=$o(o,u,p,ee,I,E),pe=li(),o!==null&&!Ks?(gh(o,u,E),cd(o,u,E)):(fr&&pe&&fh(u),u.flags|=1,da(o,u,v,E),u.child)}function pC(o,u,p,v,E){if(o===null){var I=p.type;return typeof I=="function"&&!Qd(I)&&I.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=I,mC(o,u,I,v,E)):(o=ed(p.type,null,v,u,u.mode,E),o.ref=u.ref,o.return=u,u.child=o)}if(I=o.child,!R2(o,E)){var ee=I.memoizedProps;if(p=p.compare,p=p!==null?p:Uu,p(ee,v)&&o.ref===u.ref)return cd(o,u,E)}return u.flags|=1,o=bl(I,v),o.ref=u.ref,o.return=u,u.child=o}function mC(o,u,p,v,E){if(o!==null){var I=o.memoizedProps;if(Uu(I,v)&&o.ref===u.ref)if(Ks=!1,u.pendingProps=v=I,R2(o,E))(o.flags&131072)!==0&&(Ks=!0);else return u.lanes=o.lanes,cd(o,u,E)}return N2(o,u,p,v,E)}function gC(o,u,p){var v=u.pendingProps,E=v.children,I=o!==null?o.memoizedState:null;if(v.mode==="hidden"){if((u.flags&128)!==0){if(v=I!==null?I.baseLanes|p:p,o!==null){for(E=u.child=o.child,I=0;E!==null;)I=I|E.lanes|E.childLanes,E=E.sibling;u.childLanes=I&~v}else u.childLanes=0,u.child=null;return bC(o,u,v,p)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&W(u,I!==null?I.cachePool:null),I!==null?Dr(u,I):gr(),rC(u);else return u.lanes=u.childLanes=536870912,bC(o,u,I!==null?I.baseLanes|p:p,p)}else I!==null?(W(u,I.cachePool),Dr(u,I),af(),u.memoizedState=null):(o!==null&&W(u,null),gr(),af());return da(o,u,E,p),u.child}function bC(o,u,p,v){var E=F();return E=E===null?null:{parent:gs._currentValue,pool:E},u.memoizedState={baseLanes:p,cachePool:E},o!==null&&W(u,null),gr(),rC(u),o!==null&&Zd(o,u,v,!0),null}function Hb(o,u){var p=u.ref;if(p===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(o===null||o.ref!==p)&&(u.flags|=4194816)}}function N2(o,u,p,v,E){return wl(u),p=$o(o,u,p,v,void 0,E),v=li(),o!==null&&!Ks?(gh(o,u,E),cd(o,u,E)):(fr&&v&&fh(u),u.flags|=1,da(o,u,p,E),u.child)}function yC(o,u,p,v,E,I){return wl(u),u.updateQueue=null,p=sd(u,v,p,E),tc(o),v=li(),o!==null&&!Ks?(gh(o,u,I),cd(o,u,I)):(fr&&v&&fh(u),u.flags|=1,da(o,u,p,I),u.child)}function xC(o,u,p,v,E){if(wl(u),u.stateNode===null){var I=Ds,ee=p.contextType;typeof ee=="object"&&ee!==null&&(I=ms(ee)),I=new p(v,I),u.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=_2,u.stateNode=I,I._reactInternals=u,I=u.stateNode,I.props=v,I.state=u.memoizedState,I.refs={},Le(u),ee=p.contextType,I.context=typeof ee=="object"&&ee!==null?ms(ee):Ds,I.state=u.memoizedState,ee=p.getDerivedStateFromProps,typeof ee=="function"&&(E2(u,p,ee,v),I.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(ee=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),ee!==I.state&&_2.enqueueReplaceState(I,I.state,null),Nt(u,v,I,E),Vt(),I.state=u.memoizedState),typeof I.componentDidMount=="function"&&(u.flags|=4194308),v=!0}else if(o===null){I=u.stateNode;var pe=u.memoizedProps,_e=_h(p,pe);I.props=_e;var Qe=I.context,ft=p.contextType;ee=Ds,typeof ft=="object"&&ft!==null&&(ee=ms(ft));var vt=p.getDerivedStateFromProps;ft=typeof vt=="function"||typeof I.getSnapshotBeforeUpdate=="function",pe=u.pendingProps!==pe,ft||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(pe||Qe!==ee)&&sC(u,I,v,ee),nt=!1;var Ze=u.memoizedState;I.state=Ze,Nt(u,v,I,E),Vt(),Qe=u.memoizedState,pe||Ze!==Qe||nt?(typeof vt=="function"&&(E2(u,p,vt,v),Qe=u.memoizedState),(_e=nt||iC(u,p,_e,v,Ze,Qe,ee))?(ft||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(u.flags|=4194308)):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=Qe),I.props=v,I.state=Qe,I.context=ee,v=_e):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{I=u.stateNode,Pe(o,u),ee=u.memoizedProps,ft=_h(p,ee),I.props=ft,vt=u.pendingProps,Ze=I.context,Qe=p.contextType,_e=Ds,typeof Qe=="object"&&Qe!==null&&(_e=ms(Qe)),pe=p.getDerivedStateFromProps,(Qe=typeof pe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(ee!==vt||Ze!==_e)&&sC(u,I,v,_e),nt=!1,Ze=u.memoizedState,I.state=Ze,Nt(u,v,I,E),Vt();var et=u.memoizedState;ee!==vt||Ze!==et||nt||o!==null&&o.dependencies!==null&&kp(o.dependencies)?(typeof pe=="function"&&(E2(u,p,pe,v),et=u.memoizedState),(ft=nt||iC(u,p,ft,v,Ze,et,_e)||o!==null&&o.dependencies!==null&&kp(o.dependencies))?(Qe||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(v,et,_e),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(v,et,_e)),typeof I.componentDidUpdate=="function"&&(u.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof I.componentDidUpdate!="function"||ee===o.memoizedProps&&Ze===o.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||ee===o.memoizedProps&&Ze===o.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=et),I.props=v,I.state=et,I.context=_e,v=ft):(typeof I.componentDidUpdate!="function"||ee===o.memoizedProps&&Ze===o.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||ee===o.memoizedProps&&Ze===o.memoizedState||(u.flags|=1024),v=!1)}return I=v,Hb(o,u),v=(u.flags&128)!==0,I||v?(I=u.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:I.render(),u.flags|=1,o!==null&&v?(u.child=Mp(u,o.child,null,E),u.child=Mp(u,null,p,E)):da(o,u,p,E),u.memoizedState=I.state,o=u.child):o=cd(o,u,E),o}function vC(o,u,p,v){return so(),u.flags|=256,da(o,u,p,v),u.child}var j2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function T2(o){return{baseLanes:o,cachePool:te()}}function O2(o,u,p){return o=o!==null?o.childLanes&~p:0,u&&(o|=Cl),o}function wC(o,u,p){var v=u.pendingProps,E=!1,I=(u.flags&128)!==0,ee;if((ee=I)||(ee=o!==null&&o.memoizedState===null?!1:(Us.current&2)!==0),ee&&(E=!0,u.flags&=-129),ee=(u.flags&32)!==0,u.flags&=-33,o===null){if(fr){if(E?sf(u):af(),fr){var pe=ki,_e;if(_e=pe){e:{for(_e=pe,pe=yl;_e.nodeType!==8;){if(!pe){pe=null;break e}if(_e=lu(_e.nextSibling),_e===null){pe=null;break e}}pe=_e}pe!==null?(u.memoizedState={dehydrated:pe,treeContext:td!==null?{id:Zl,overflow:Jl}:null,retryLane:536870912,hydrationErrors:null},_e=Qs(18,null,null,0),_e.stateNode=pe,_e.return=u,u.child=_e,ps=u,ki=null,_e=!0):_e=!1}_e||rd(u)}if(pe=u.memoizedState,pe!==null&&(pe=pe.dehydrated,pe!==null))return p5(pe)?u.lanes=32:u.lanes=536870912,null;ud(u)}return pe=v.children,v=v.fallback,E?(af(),E=u.mode,pe=Wb({mode:"hidden",children:pe},E),v=Kl(v,E,p,null),pe.return=u,v.return=u,pe.sibling=v,u.child=pe,E=u.child,E.memoizedState=T2(p),E.childLanes=O2(o,ee,p),u.memoizedState=j2,v):(sf(u),I2(u,pe))}if(_e=o.memoizedState,_e!==null&&(pe=_e.dehydrated,pe!==null)){if(I)u.flags&256?(sf(u),u.flags&=-257,u=D2(o,u,p)):u.memoizedState!==null?(af(),u.child=o.child,u.flags|=128,u=null):(af(),E=v.fallback,pe=u.mode,v=Wb({mode:"visible",children:v.children},pe),E=Kl(E,pe,p,null),E.flags|=2,v.return=u,E.return=u,v.sibling=E,u.child=v,Mp(u,o.child,null,p),v=u.child,v.memoizedState=T2(p),v.childLanes=O2(o,ee,p),u.memoizedState=j2,u=E);else if(sf(u),p5(pe)){if(ee=pe.nextSibling&&pe.nextSibling.dataset,ee)var Qe=ee.dgst;ee=Qe,v=Error(r(419)),v.stack="",v.digest=ee,Xd({value:v,source:null,stack:null}),u=D2(o,u,p)}else if(Ks||Zd(o,u,p,!1),ee=(p&o.childLanes)!==0,Ks||ee){if(ee=ui,ee!==null&&(v=p&-p,v=(v&42)!==0?1:Di(v),v=(v&(ee.suspendedLanes|p))!==0?0:v,v!==0&&v!==_e.retryLane))throw _e.retryLane=v,Ql(o,v),Qo(ee,o,v),fC;pe.data==="$?"||X2(),u=D2(o,u,p)}else pe.data==="$?"?(u.flags|=192,u.child=o.child,u=null):(o=_e.treeContext,ki=lu(pe.nextSibling),ps=u,fr=!0,Zu=null,yl=!1,o!==null&&(xo[io++]=Zl,xo[io++]=Jl,xo[io++]=td,Zl=o.id,Jl=o.overflow,td=u),u=I2(u,v.children),u.flags|=4096);return u}return E?(af(),E=v.fallback,pe=u.mode,_e=o.child,Qe=_e.sibling,v=bl(_e,{mode:"hidden",children:v.children}),v.subtreeFlags=_e.subtreeFlags&65011712,Qe!==null?E=bl(Qe,E):(E=Kl(E,pe,p,null),E.flags|=2),E.return=u,v.return=u,v.sibling=E,u.child=v,v=E,E=u.child,pe=o.child.memoizedState,pe===null?pe=T2(p):(_e=pe.cachePool,_e!==null?(Qe=gs._currentValue,_e=_e.parent!==Qe?{parent:Qe,pool:Qe}:_e):_e=te(),pe={baseLanes:pe.baseLanes|p,cachePool:_e}),E.memoizedState=pe,E.childLanes=O2(o,ee,p),u.memoizedState=j2,v):(sf(u),p=o.child,o=p.sibling,p=bl(p,{mode:"visible",children:v.children}),p.return=u,p.sibling=null,o!==null&&(ee=u.deletions,ee===null?(u.deletions=[o],u.flags|=16):ee.push(o)),u.child=p,u.memoizedState=null,p)}function I2(o,u){return u=Wb({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function Wb(o,u){return o=Qs(22,o,null,u),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function D2(o,u,p){return Mp(u,o.child,null,p),o=I2(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function SC(o,u,p){o.lanes|=u;var v=o.alternate;v!==null&&(v.lanes|=u),Ep(o.return,u,p)}function L2(o,u,p,v,E){var I=o.memoizedState;I===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:E}:(I.isBackwards=u,I.rendering=null,I.renderingStartTime=0,I.last=v,I.tail=p,I.tailMode=E)}function AC(o,u,p){var v=u.pendingProps,E=v.revealOrder,I=v.tail;if(da(o,u,v.children,p),v=Us.current,(v&2)!==0)v=v&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&SC(o,p,u);else if(o.tag===19)SC(o,p,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}v&=1}switch(B(Us,v),E){case"forwards":for(p=u.child,E=null;p!==null;)o=p.alternate,o!==null&&Bb(o)===null&&(E=p),p=p.sibling;p=E,p===null?(E=u.child,u.child=null):(E=p.sibling,p.sibling=null),L2(u,!1,E,p,I);break;case"backwards":for(p=null,E=u.child,u.child=null;E!==null;){if(o=E.alternate,o!==null&&Bb(o)===null){u.child=E;break}o=E.sibling,E.sibling=p,p=E,E=o}L2(u,!0,p,null,I);break;case"together":L2(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function cd(o,u,p){if(o!==null&&(u.dependencies=o.dependencies),df|=u.lanes,(p&u.childLanes)===0)if(o!==null){if(Zd(o,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,p=bl(o,o.pendingProps),u.child=p,p.return=u;o.sibling!==null;)o=o.sibling,p=p.sibling=bl(o,o.pendingProps),p.return=u;p.sibling=null}return u.child}function R2(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&kp(o)))}function f9(o,u,p){switch(u.tag){case 3:ye(u,u.stateNode.containerInfo),Ju(u,gs,o.memoizedState.cache),so();break;case 27:case 5:Ne(u);break;case 4:ye(u,u.stateNode.containerInfo);break;case 10:Ju(u,u.type,u.memoizedProps.value);break;case 13:var v=u.memoizedState;if(v!==null)return v.dehydrated!==null?(sf(u),u.flags|=128,null):(p&u.child.childLanes)!==0?wC(o,u,p):(sf(u),o=cd(o,u,p),o!==null?o.sibling:null);sf(u);break;case 19:var E=(o.flags&128)!==0;if(v=(p&u.childLanes)!==0,v||(Zd(o,u,p,!1),v=(p&u.childLanes)!==0),E){if(v)return AC(o,u,p);u.flags|=128}if(E=u.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),B(Us,Us.current),v)break;return null;case 22:case 23:return u.lanes=0,gC(o,u,p);case 24:Ju(u,gs,o.memoizedState.cache)}return cd(o,u,p)}function CC(o,u,p){if(o!==null)if(o.memoizedProps!==u.pendingProps)Ks=!0;else{if(!R2(o,p)&&(u.flags&128)===0)return Ks=!1,f9(o,u,p);Ks=(o.flags&131072)!==0}else Ks=!1,fr&&(u.flags&1048576)!==0&&wb(u,Cp,u.index);switch(u.lanes=0,u.tag){case 16:e:{o=u.pendingProps;var v=u.elementType,E=v._init;if(v=E(v._payload),u.type=v,typeof v=="function")Qd(v)?(o=_h(v,o),u.tag=1,u=xC(null,u,v,o,p)):(u.tag=0,u=N2(null,u,v,o,p));else{if(v!=null){if(E=v.$$typeof,E===R){u.tag=11,u=hC(null,u,v,o,p);break e}else if(E===N){u.tag=14,u=pC(null,u,v,o,p);break e}}throw u=T(v)||v,Error(r(306,u,""))}}return u;case 0:return N2(o,u,u.type,u.pendingProps,p);case 1:return v=u.type,E=_h(v,u.pendingProps),xC(o,u,v,E,p);case 3:e:{if(ye(u,u.stateNode.containerInfo),o===null)throw Error(r(387));v=u.pendingProps;var I=u.memoizedState;E=I.element,Pe(o,u),Nt(u,v,null,p);var ee=u.memoizedState;if(v=ee.cache,Ju(u,gs,v),v!==I.cache&&_p(u,[gs],p,!0),Vt(),v=ee.element,I.isDehydrated)if(I={element:v,isDehydrated:!1,cache:ee.cache},u.updateQueue.baseState=I,u.memoizedState=I,u.flags&256){u=vC(o,u,v,p);break e}else if(v!==E){E=Fn(Error(r(424)),u),Xd(E),u=vC(o,u,v,p);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(ki=lu(o.firstChild),ps=u,fr=!0,Zu=null,yl=!0,p=nC(u,null,v,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(so(),v===E){u=cd(o,u,p);break e}da(o,u,v,p)}u=u.child}return u;case 26:return Hb(o,u),o===null?(p=NE(u.type,null,u.pendingProps,null))?u.memoizedState=p:fr||(p=u.type,o=u.pendingProps,v=sy(ne.current).createElement(p),v[zn]=u,v[Jn]=o,ha(v,p,o),Qn(v),u.stateNode=v):u.memoizedState=NE(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Ne(u),o===null&&fr&&(v=u.stateNode=EE(u.type,u.pendingProps,ne.current),ps=u,yl=!0,E=ki,mf(u.type)?(m5=E,ki=lu(v.firstChild)):ki=E),da(o,u,u.pendingProps.children,p),Hb(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&fr&&((E=v=ki)&&(v=z9(v,u.type,u.pendingProps,yl),v!==null?(u.stateNode=v,ps=u,ki=lu(v.firstChild),yl=!1,E=!0):E=!1),E||rd(u)),Ne(u),E=u.type,I=u.pendingProps,ee=o!==null?o.memoizedProps:null,v=I.children,d5(E,I)?v=null:ee!==null&&d5(E,ee)&&(u.flags|=32),u.memoizedState!==null&&(E=$o(o,u,nc,null,null,p),Gm._currentValue=E),Hb(o,u),da(o,u,v,p),u.child;case 6:return o===null&&fr&&((o=p=ki)&&(p=B9(p,u.pendingProps,yl),p!==null?(u.stateNode=p,ps=u,ki=null,o=!0):o=!1),o||rd(u)),null;case 13:return wC(o,u,p);case 4:return ye(u,u.stateNode.containerInfo),v=u.pendingProps,o===null?u.child=Mp(u,null,v,p):da(o,u,v,p),u.child;case 11:return hC(o,u,u.type,u.pendingProps,p);case 7:return da(o,u,u.pendingProps,p),u.child;case 8:return da(o,u,u.pendingProps.children,p),u.child;case 12:return da(o,u,u.pendingProps.children,p),u.child;case 10:return v=u.pendingProps,Ju(u,u.type,v.value),da(o,u,v.children,p),u.child;case 9:return E=u.type._context,v=u.pendingProps.children,wl(u),E=ms(E),v=v(E),u.flags|=1,da(o,u,v,p),u.child;case 14:return pC(o,u,u.type,u.pendingProps,p);case 15:return mC(o,u,u.type,u.pendingProps,p);case 19:return AC(o,u,p);case 31:return v=u.pendingProps,p=u.mode,v={mode:v.mode,children:v.children},o===null?(p=Wb(v,p),p.ref=u.ref,u.child=p,p.return=u,u=p):(p=bl(o.child,v),p.ref=u.ref,u.child=p,p.return=u,u=p),u;case 22:return gC(o,u,p);case 24:return wl(u),v=ms(gs),o===null?(E=F(),E===null&&(E=ui,I=bm(),E.pooledCache=I,I.refCount++,I!==null&&(E.pooledCacheLanes|=p),E=I),u.memoizedState={parent:v,cache:E},Le(u),Ju(u,gs,E)):((o.lanes&p)!==0&&(Pe(o,u),Nt(u,null,null,p),Vt()),E=o.memoizedState,I=u.memoizedState,E.parent!==v?(E={parent:v,cache:v},u.memoizedState=E,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=E),Ju(u,gs,v)):(v=I.cache,Ju(u,gs,v),v!==E.cache&&_p(u,[gs],p,!0))),da(o,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function dd(o){o.flags|=4}function EC(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!DE(u)){if(u=Al.current,u!==null&&((ar&4194048)===ar?sc!==null:(ar&62914560)!==ar&&(ar&536870912)===0||u!==sc))throw We=ge,ue;o.flags|=8192}}function Vb(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?Mn():536870912,o.lanes|=u,zp|=u)}function Dm(o,u){if(!fr)switch(o.tailMode){case"hidden":u=o.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function Ui(o){var u=o.alternate!==null&&o.alternate.child===o.child,p=0,v=0;if(u)for(var E=o.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags&65011712,v|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags,v|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=v,o.childLanes=p,u}function h9(o,u,p){var v=u.pendingProps;switch(hh(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ui(u),null;case 1:return Ui(u),null;case 3:return p=u.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),u.memoizedState.cache!==v&&(u.flags|=2048),vl(gs),Ae(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(ua(u)?dd(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Ab())),Ui(u),null;case 26:return p=u.memoizedState,o===null?(dd(u),p!==null?(Ui(u),EC(u,p)):(Ui(u),u.flags&=-16777217)):p?p!==o.memoizedState?(dd(u),Ui(u),EC(u,p)):(Ui(u),u.flags&=-16777217):(o.memoizedProps!==v&&dd(u),Ui(u),u.flags&=-16777217),null;case 27:Te(u),p=ne.current;var E=u.type;if(o!==null&&u.stateNode!=null)o.memoizedProps!==v&&dd(u);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Ui(u),null}o=ie.current,ua(u)?Sb(u):(o=EE(E,v,p),u.stateNode=o,dd(u))}return Ui(u),null;case 5:if(Te(u),p=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==v&&dd(u);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Ui(u),null}if(o=ie.current,ua(u))Sb(u);else{switch(E=sy(ne.current),o){case 1:o=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:o=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":o=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":o=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":o=E.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof v.is=="string"?E.createElement("select",{is:v.is}):E.createElement("select"),v.multiple?o.multiple=!0:v.size&&(o.size=v.size);break;default:o=typeof v.is=="string"?E.createElement(p,{is:v.is}):E.createElement(p)}}o[zn]=u,o[Jn]=v;e:for(E=u.child;E!==null;){if(E.tag===5||E.tag===6)o.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===u)break e;for(;E.sibling===null;){if(E.return===null||E.return===u)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}u.stateNode=o;e:switch(ha(o,p,v),p){case"button":case"input":case"select":case"textarea":o=!!v.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&dd(u)}}return Ui(u),u.flags&=-16777217,null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==v&&dd(u);else{if(typeof v!="string"&&u.stateNode===null)throw Error(r(166));if(o=ne.current,ua(u)){if(o=u.stateNode,p=u.memoizedProps,v=null,E=ps,E!==null)switch(E.tag){case 27:case 5:v=E.memoizedProps}o[zn]=u,o=!!(o.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||yE(o.nodeValue,p)),o||rd(u)}else o=sy(o).createTextNode(v),o[zn]=u,u.stateNode=o}return Ui(u),null;case 13:if(v=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=ua(u),v!==null&&v.dehydrated!==null){if(o===null){if(!E)throw Error(r(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[zn]=u}else so(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ui(u),E=!1}else E=Ab(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return u.flags&256?(ud(u),u):(ud(u),null)}if(ud(u),(u.flags&128)!==0)return u.lanes=p,u;if(p=v!==null,o=o!==null&&o.memoizedState!==null,p){v=u.child,E=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(E=v.alternate.memoizedState.cachePool.pool);var I=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(I=v.memoizedState.cachePool.pool),I!==E&&(v.flags|=2048)}return p!==o&&p&&(u.child.flags|=8192),Vb(u,u.updateQueue),Ui(u),null;case 4:return Ae(),o===null&&a5(u.stateNode.containerInfo),Ui(u),null;case 10:return vl(u.type),Ui(u),null;case 19:if(U(Us),E=u.memoizedState,E===null)return Ui(u),null;if(v=(u.flags&128)!==0,I=E.rendering,I===null)if(v)Dm(E,!1);else{if(rs!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(I=Bb(o),I!==null){for(u.flags|=128,Dm(E,!1),o=I.updateQueue,u.updateQueue=o,Vb(u,o),u.subtreeFlags=0,o=p,p=u.child;p!==null;)ch(p,o),p=p.sibling;return B(Us,Us.current&1|2),u.child}o=o.sibling}E.tail!==null&&he()>Qb&&(u.flags|=128,v=!0,Dm(E,!1),u.lanes=4194304)}else{if(!v)if(o=Bb(I),o!==null){if(u.flags|=128,v=!0,o=o.updateQueue,u.updateQueue=o,Vb(u,o),Dm(E,!0),E.tail===null&&E.tailMode==="hidden"&&!I.alternate&&!fr)return Ui(u),null}else 2*he()-E.renderingStartTime>Qb&&p!==536870912&&(u.flags|=128,v=!0,Dm(E,!1),u.lanes=4194304);E.isBackwards?(I.sibling=u.child,u.child=I):(o=E.last,o!==null?o.sibling=I:u.child=I,E.last=I)}return E.tail!==null?(u=E.tail,E.rendering=u,E.tail=u.sibling,E.renderingStartTime=he(),u.sibling=null,o=Us.current,B(Us,v?o&1|2:o&1),u):(Ui(u),null);case 22:case 23:return ud(u),yn(),v=u.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(u.flags|=8192):v&&(u.flags|=8192),v?(p&536870912)!==0&&(u.flags&128)===0&&(Ui(u),u.subtreeFlags&6&&(u.flags|=8192)):Ui(u),p=u.updateQueue,p!==null&&Vb(u,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048),o!==null&&U(_),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),vl(gs),Ui(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function p9(o,u){switch(hh(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return vl(gs),Ae(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Te(u),null;case 13:if(ud(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));so()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return U(Us),null;case 4:return Ae(),null;case 10:return vl(u.type),null;case 22:case 23:return ud(u),yn(),o!==null&&U(_),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return vl(gs),null;case 25:return null;default:return null}}function _C(o,u){switch(hh(u),u.tag){case 3:vl(gs),Ae();break;case 26:case 27:case 5:Te(u);break;case 4:Ae();break;case 13:ud(u);break;case 19:U(Us);break;case 10:vl(u.type);break;case 22:case 23:ud(u),yn(),o!==null&&U(_);break;case 24:vl(gs)}}function Lm(o,u){try{var p=u.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var E=v.next;p=E;do{if((p.tag&o)===o){v=void 0;var I=p.create,ee=p.inst;v=I(),ee.destroy=v}p=p.next}while(p!==E)}}catch(pe){ni(u,u.return,pe)}}function of(o,u,p){try{var v=u.updateQueue,E=v!==null?v.lastEffect:null;if(E!==null){var I=E.next;v=I;do{if((v.tag&o)===o){var ee=v.inst,pe=ee.destroy;if(pe!==void 0){ee.destroy=void 0,E=u;var _e=p,Qe=pe;try{Qe()}catch(ft){ni(E,_e,ft)}}}v=v.next}while(v!==I)}}catch(ft){ni(u,u.return,ft)}}function kC(o){var u=o.updateQueue;if(u!==null){var p=o.stateNode;try{mr(u,p)}catch(v){ni(o,o.return,v)}}}function NC(o,u,p){p.props=_h(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(v){ni(o,u,v)}}function Rm(o,u){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof p=="function"?o.refCleanup=p(v):p.current=v}}catch(E){ni(o,u,E)}}function ac(o,u){var p=o.ref,v=o.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(E){ni(o,u,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(E){ni(o,u,E)}else p.current=null}function jC(o){var u=o.type,p=o.memoizedProps,v=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(E){ni(o,o.return,E)}}function M2(o,u,p){try{var v=o.stateNode;R9(v,o.type,p,u),v[Jn]=u}catch(E){ni(o,o.return,E)}}function TC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&mf(o.type)||o.tag===4}function P2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||TC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&mf(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function F2(o,u,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(o),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=iy));else if(v!==4&&(v===27&&mf(o.type)&&(p=o.stateNode,u=null),o=o.child,o!==null))for(F2(o,u,p),o=o.sibling;o!==null;)F2(o,u,p),o=o.sibling}function Yb(o,u,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,u?p.insertBefore(o,u):p.appendChild(o);else if(v!==4&&(v===27&&mf(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(Yb(o,u,p),o=o.sibling;o!==null;)Yb(o,u,p),o=o.sibling}function OC(o){var u=o.stateNode,p=o.memoizedProps;try{for(var v=o.type,E=u.attributes;E.length;)u.removeAttributeNode(E[0]);ha(u,v,p),u[zn]=o,u[Jn]=p}catch(I){ni(o,o.return,I)}}var fd=!1,ys=!1,q2=!1,IC=typeof WeakSet=="function"?WeakSet:Set,Xs=null;function m9(o,u){if(o=o.containerInfo,u5=dy,o=la(o),Bs(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var E=v.anchorOffset,I=v.focusNode;v=v.focusOffset;try{p.nodeType,I.nodeType}catch{p=null;break e}var ee=0,pe=-1,_e=-1,Qe=0,ft=0,vt=o,Ze=null;t:for(;;){for(var et;vt!==p||E!==0&&vt.nodeType!==3||(pe=ee+E),vt!==I||v!==0&&vt.nodeType!==3||(_e=ee+v),vt.nodeType===3&&(ee+=vt.nodeValue.length),(et=vt.firstChild)!==null;)Ze=vt,vt=et;for(;;){if(vt===o)break t;if(Ze===p&&++Qe===E&&(pe=ee),Ze===I&&++ft===v&&(_e=ee),(et=vt.nextSibling)!==null)break;vt=Ze,Ze=vt.parentNode}vt=et}p=pe===-1||_e===-1?null:{start:pe,end:_e}}else p=null}p=p||{start:0,end:0}}else p=null;for(c5={focusedElem:o,selectionRange:p},dy=!1,Xs=u;Xs!==null;)if(u=Xs,o=u.child,(u.subtreeFlags&1024)!==0&&o!==null)o.return=u,Xs=o;else for(;Xs!==null;){switch(u=Xs,I=u.alternate,o=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&I!==null){o=void 0,p=u,E=I.memoizedProps,I=I.memoizedState,v=p.stateNode;try{var dn=_h(p.type,E,p.elementType===p.type);o=v.getSnapshotBeforeUpdate(dn,I),v.__reactInternalSnapshotBeforeUpdate=o}catch(rn){ni(p,p.return,rn)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,p=o.nodeType,p===9)h5(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":h5(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=u.sibling,o!==null){o.return=u.return,Xs=o;break}Xs=u.return}}function DC(o,u,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:lf(o,p),v&4&&Lm(5,p);break;case 1:if(lf(o,p),v&4)if(o=p.stateNode,u===null)try{o.componentDidMount()}catch(ee){ni(p,p.return,ee)}else{var E=_h(p.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(E,u,o.__reactInternalSnapshotBeforeUpdate)}catch(ee){ni(p,p.return,ee)}}v&64&&kC(p),v&512&&Rm(p,p.return);break;case 3:if(lf(o,p),v&64&&(o=p.updateQueue,o!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{mr(o,u)}catch(ee){ni(p,p.return,ee)}}break;case 27:u===null&&v&4&&OC(p);case 26:case 5:lf(o,p),u===null&&v&4&&jC(p),v&512&&Rm(p,p.return);break;case 12:lf(o,p);break;case 13:lf(o,p),v&4&&MC(o,p),v&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=C9.bind(null,p),U9(o,p))));break;case 22:if(v=p.memoizedState!==null||fd,!v){u=u!==null&&u.memoizedState!==null||ys,E=fd;var I=ys;fd=v,(ys=u)&&!I?uf(o,p,(p.subtreeFlags&8772)!==0):lf(o,p),fd=E,ys=I}break;case 30:break;default:lf(o,p)}}function LC(o){var u=o.alternate;u!==null&&(o.alternate=null,LC(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&Zi(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ni=null,wo=!1;function hd(o,u,p){for(p=p.child;p!==null;)RC(o,u,p),p=p.sibling}function RC(o,u,p){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(rt,p)}catch{}switch(p.tag){case 26:ys||ac(p,u),hd(o,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:ys||ac(p,u);var v=Ni,E=wo;mf(p.type)&&(Ni=p.stateNode,wo=!1),hd(o,u,p),Hm(p.stateNode),Ni=v,wo=E;break;case 5:ys||ac(p,u);case 6:if(v=Ni,E=wo,Ni=null,hd(o,u,p),Ni=v,wo=E,Ni!==null)if(wo)try{(Ni.nodeType===9?Ni.body:Ni.nodeName==="HTML"?Ni.ownerDocument.body:Ni).removeChild(p.stateNode)}catch(I){ni(p,u,I)}else try{Ni.removeChild(p.stateNode)}catch(I){ni(p,u,I)}break;case 18:Ni!==null&&(wo?(o=Ni,AE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),Zm(o)):AE(Ni,p.stateNode));break;case 4:v=Ni,E=wo,Ni=p.stateNode.containerInfo,wo=!0,hd(o,u,p),Ni=v,wo=E;break;case 0:case 11:case 14:case 15:ys||of(2,p,u),ys||of(4,p,u),hd(o,u,p);break;case 1:ys||(ac(p,u),v=p.stateNode,typeof v.componentWillUnmount=="function"&&NC(p,u,v)),hd(o,u,p);break;case 21:hd(o,u,p);break;case 22:ys=(v=ys)||p.memoizedState!==null,hd(o,u,p),ys=v;break;default:hd(o,u,p)}}function MC(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Zm(o)}catch(p){ni(u,u.return,p)}}function g9(o){switch(o.tag){case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new IC),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new IC),u;default:throw Error(r(435,o.tag))}}function z2(o,u){var p=g9(o);u.forEach(function(v){var E=E9.bind(null,o,v);p.has(v)||(p.add(v),v.then(E,E))})}function Wo(o,u){var p=u.deletions;if(p!==null)for(var v=0;v<p.length;v++){var E=p[v],I=o,ee=u,pe=ee;e:for(;pe!==null;){switch(pe.tag){case 27:if(mf(pe.type)){Ni=pe.stateNode,wo=!1;break e}break;case 5:Ni=pe.stateNode,wo=!1;break e;case 3:case 4:Ni=pe.stateNode.containerInfo,wo=!0;break e}pe=pe.return}if(Ni===null)throw Error(r(160));RC(I,ee,E),Ni=null,wo=!1,I=E.alternate,I!==null&&(I.return=null),E.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)PC(u,o),u=u.sibling}var ou=null;function PC(o,u){var p=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Wo(u,o),Vo(o),v&4&&(of(3,o,o.return),Lm(3,o),of(5,o,o.return));break;case 1:Wo(u,o),Vo(o),v&512&&(ys||p===null||ac(p,p.return)),v&64&&fd&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var E=ou;if(Wo(u,o),Vo(o),v&512&&(ys||p===null||ac(p,p.return)),v&4){var I=p!==null?p.memoizedState:null;if(v=o.memoizedState,p===null)if(v===null)if(o.stateNode===null){e:{v=o.type,p=o.memoizedProps,E=E.ownerDocument||E;t:switch(v){case"title":I=E.getElementsByTagName("title")[0],(!I||I[Xi]||I[zn]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=E.createElement(v),E.head.insertBefore(I,E.querySelector("head > title"))),ha(I,v,p),I[zn]=o,Qn(I),v=I;break e;case"link":var ee=OE("link","href",E).get(v+(p.href||""));if(ee){for(var pe=0;pe<ee.length;pe++)if(I=ee[pe],I.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&I.getAttribute("rel")===(p.rel==null?null:p.rel)&&I.getAttribute("title")===(p.title==null?null:p.title)&&I.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){ee.splice(pe,1);break t}}I=E.createElement(v),ha(I,v,p),E.head.appendChild(I);break;case"meta":if(ee=OE("meta","content",E).get(v+(p.content||""))){for(pe=0;pe<ee.length;pe++)if(I=ee[pe],I.getAttribute("content")===(p.content==null?null:""+p.content)&&I.getAttribute("name")===(p.name==null?null:p.name)&&I.getAttribute("property")===(p.property==null?null:p.property)&&I.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&I.getAttribute("charset")===(p.charSet==null?null:p.charSet)){ee.splice(pe,1);break t}}I=E.createElement(v),ha(I,v,p),E.head.appendChild(I);break;default:throw Error(r(468,v))}I[zn]=o,Qn(I),v=I}o.stateNode=v}else IE(E,o.type,o.stateNode);else o.stateNode=TE(E,v,o.memoizedProps);else I!==v?(I===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):I.count--,v===null?IE(E,o.type,o.stateNode):TE(E,v,o.memoizedProps)):v===null&&o.stateNode!==null&&M2(o,o.memoizedProps,p.memoizedProps)}break;case 27:Wo(u,o),Vo(o),v&512&&(ys||p===null||ac(p,p.return)),p!==null&&v&4&&M2(o,o.memoizedProps,p.memoizedProps);break;case 5:if(Wo(u,o),Vo(o),v&512&&(ys||p===null||ac(p,p.return)),o.flags&32){E=o.stateNode;try{Ji(E,"")}catch(et){ni(o,o.return,et)}}v&4&&o.stateNode!=null&&(E=o.memoizedProps,M2(o,E,p!==null?p.memoizedProps:E)),v&1024&&(q2=!0);break;case 6:if(Wo(u,o),Vo(o),v&4){if(o.stateNode===null)throw Error(r(162));v=o.memoizedProps,p=o.stateNode;try{p.nodeValue=v}catch(et){ni(o,o.return,et)}}break;case 3:if(ly=null,E=ou,ou=ay(u.containerInfo),Wo(u,o),ou=E,Vo(o),v&4&&p!==null&&p.memoizedState.isDehydrated)try{Zm(u.containerInfo)}catch(et){ni(o,o.return,et)}q2&&(q2=!1,FC(o));break;case 4:v=ou,ou=ay(o.stateNode.containerInfo),Wo(u,o),Vo(o),ou=v;break;case 12:Wo(u,o),Vo(o);break;case 13:Wo(u,o),Vo(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(V2=he()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,z2(o,v)));break;case 22:E=o.memoizedState!==null;var _e=p!==null&&p.memoizedState!==null,Qe=fd,ft=ys;if(fd=Qe||E,ys=ft||_e,Wo(u,o),ys=ft,fd=Qe,Vo(o),v&8192)e:for(u=o.stateNode,u._visibility=E?u._visibility&-2:u._visibility|1,E&&(p===null||_e||fd||ys||kh(o)),p=null,u=o;;){if(u.tag===5||u.tag===26){if(p===null){_e=p=u;try{if(I=_e.stateNode,E)ee=I.style,typeof ee.setProperty=="function"?ee.setProperty("display","none","important"):ee.display="none";else{pe=_e.stateNode;var vt=_e.memoizedProps.style,Ze=vt!=null&&vt.hasOwnProperty("display")?vt.display:null;pe.style.display=Ze==null||typeof Ze=="boolean"?"":(""+Ze).trim()}}catch(et){ni(_e,_e.return,et)}}}else if(u.tag===6){if(p===null){_e=u;try{_e.stateNode.nodeValue=E?"":_e.memoizedProps}catch(et){ni(_e,_e.return,et)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}v&4&&(v=o.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,z2(o,p))));break;case 19:Wo(u,o),Vo(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,z2(o,v)));break;case 30:break;case 21:break;default:Wo(u,o),Vo(o)}}function Vo(o){var u=o.flags;if(u&2){try{for(var p,v=o.return;v!==null;){if(TC(v)){p=v;break}v=v.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var E=p.stateNode,I=P2(o);Yb(o,I,E);break;case 5:var ee=p.stateNode;p.flags&32&&(Ji(ee,""),p.flags&=-33);var pe=P2(o);Yb(o,pe,ee);break;case 3:case 4:var _e=p.stateNode.containerInfo,Qe=P2(o);F2(o,Qe,_e);break;default:throw Error(r(161))}}catch(ft){ni(o,o.return,ft)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function FC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;FC(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function lf(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)DC(o,u.alternate,u),u=u.sibling}function kh(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:of(4,u,u.return),kh(u);break;case 1:ac(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&NC(u,u.return,p),kh(u);break;case 27:Hm(u.stateNode);case 26:case 5:ac(u,u.return),kh(u);break;case 22:u.memoizedState===null&&kh(u);break;case 30:kh(u);break;default:kh(u)}o=o.sibling}}function uf(o,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var v=u.alternate,E=o,I=u,ee=I.flags;switch(I.tag){case 0:case 11:case 15:uf(E,I,p),Lm(4,I);break;case 1:if(uf(E,I,p),v=I,E=v.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Qe){ni(v,v.return,Qe)}if(v=I,E=v.updateQueue,E!==null){var pe=v.stateNode;try{var _e=E.shared.hiddenCallbacks;if(_e!==null)for(E.shared.hiddenCallbacks=null,E=0;E<_e.length;E++)ir(_e[E],pe)}catch(Qe){ni(v,v.return,Qe)}}p&&ee&64&&kC(I),Rm(I,I.return);break;case 27:OC(I);case 26:case 5:uf(E,I,p),p&&v===null&&ee&4&&jC(I),Rm(I,I.return);break;case 12:uf(E,I,p);break;case 13:uf(E,I,p),p&&ee&4&&MC(E,I);break;case 22:I.memoizedState===null&&uf(E,I,p),Rm(I,I.return);break;case 30:break;default:uf(E,I,p)}u=u.sibling}}function B2(o,u){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&ph(p))}function U2(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&ph(o))}function oc(o,u,p,v){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)qC(o,u,p,v),u=u.sibling}function qC(o,u,p,v){var E=u.flags;switch(u.tag){case 0:case 11:case 15:oc(o,u,p,v),E&2048&&Lm(9,u);break;case 1:oc(o,u,p,v);break;case 3:oc(o,u,p,v),E&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&ph(o)));break;case 12:if(E&2048){oc(o,u,p,v),o=u.stateNode;try{var I=u.memoizedProps,ee=I.id,pe=I.onPostCommit;typeof pe=="function"&&pe(ee,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(_e){ni(u,u.return,_e)}}else oc(o,u,p,v);break;case 13:oc(o,u,p,v);break;case 23:break;case 22:I=u.stateNode,ee=u.alternate,u.memoizedState!==null?I._visibility&2?oc(o,u,p,v):Mm(o,u):I._visibility&2?oc(o,u,p,v):(I._visibility|=2,Pp(o,u,p,v,(u.subtreeFlags&10256)!==0)),E&2048&&B2(ee,u);break;case 24:oc(o,u,p,v),E&2048&&U2(u.alternate,u);break;default:oc(o,u,p,v)}}function Pp(o,u,p,v,E){for(E=E&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var I=o,ee=u,pe=p,_e=v,Qe=ee.flags;switch(ee.tag){case 0:case 11:case 15:Pp(I,ee,pe,_e,E),Lm(8,ee);break;case 23:break;case 22:var ft=ee.stateNode;ee.memoizedState!==null?ft._visibility&2?Pp(I,ee,pe,_e,E):Mm(I,ee):(ft._visibility|=2,Pp(I,ee,pe,_e,E)),E&&Qe&2048&&B2(ee.alternate,ee);break;case 24:Pp(I,ee,pe,_e,E),E&&Qe&2048&&U2(ee.alternate,ee);break;default:Pp(I,ee,pe,_e,E)}u=u.sibling}}function Mm(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=o,v=u,E=v.flags;switch(v.tag){case 22:Mm(p,v),E&2048&&B2(v.alternate,v);break;case 24:Mm(p,v),E&2048&&U2(v.alternate,v);break;default:Mm(p,v)}u=u.sibling}}var Pm=8192;function Fp(o){if(o.subtreeFlags&Pm)for(o=o.child;o!==null;)zC(o),o=o.sibling}function zC(o){switch(o.tag){case 26:Fp(o),o.flags&Pm&&o.memoizedState!==null&&tR(ou,o.memoizedState,o.memoizedProps);break;case 5:Fp(o);break;case 3:case 4:var u=ou;ou=ay(o.stateNode.containerInfo),Fp(o),ou=u;break;case 22:o.memoizedState===null&&(u=o.alternate,u!==null&&u.memoizedState!==null?(u=Pm,Pm=16777216,Fp(o),Pm=u):Fp(o));break;default:Fp(o)}}function BC(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function Fm(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];Xs=v,$C(v,o)}BC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)UC(o),o=o.sibling}function UC(o){switch(o.tag){case 0:case 11:case 15:Fm(o),o.flags&2048&&of(9,o,o.return);break;case 3:Fm(o);break;case 12:Fm(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,Gb(o)):Fm(o);break;default:Fm(o)}}function Gb(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];Xs=v,$C(v,o)}BC(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:of(8,u,u.return),Gb(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,Gb(u));break;default:Gb(u)}o=o.sibling}}function $C(o,u){for(;Xs!==null;){var p=Xs;switch(p.tag){case 0:case 11:case 15:of(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:ph(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,Xs=v;else e:for(p=o;Xs!==null;){v=Xs;var E=v.sibling,I=v.return;if(LC(v),v===p){Xs=null;break e}if(E!==null){E.return=I,Xs=E;break e}Xs=I}}}var b9={getCacheForType:function(o){var u=ms(gs),p=u.data.get(o);return p===void 0&&(p=o(),u.data.set(o,p)),p}},y9=typeof WeakMap=="function"?WeakMap:Map,Br=0,ui=null,Vn=null,ar=0,Ur=0,Yo=null,cf=!1,qp=!1,$2=!1,pd=0,rs=0,df=0,Nh=0,H2=0,Cl=0,zp=0,qm=null,So=null,W2=!1,V2=0,Qb=1/0,Kb=null,ff=null,fa=0,hf=null,Bp=null,Up=0,Y2=0,G2=null,HC=null,zm=0,Q2=null;function Go(){if((Br&2)!==0&&ar!==0)return ar&-ar;if(H.T!==null){var o=id;return o!==0?o:n5()}return Vr()}function WC(){Cl===0&&(Cl=(ar&536870912)===0||fr?Rn():536870912);var o=Al.current;return o!==null&&(o.flags|=32),Cl}function Qo(o,u,p){(o===ui&&(Ur===2||Ur===9)||o.cancelPendingCommit!==null)&&($p(o,0),pf(o,ar,Cl,!1)),Zn(o,p),((Br&2)===0||o!==ui)&&(o===ui&&((Br&2)===0&&(Nh|=p),rs===4&&pf(o,ar,Cl,!1)),lc(o))}function VC(o,u,p){if((Br&6)!==0)throw Error(r(327));var v=!p&&(u&124)===0&&(u&o.expiredLanes)===0||Zt(o,u),E=v?w9(o,u):Z2(o,u,!0),I=v;do{if(E===0){qp&&!v&&pf(o,u,0,!1);break}else{if(p=o.current.alternate,I&&!x9(p)){E=Z2(o,u,!1),I=!1;continue}if(E===2){if(I=u,o.errorRecoveryDisabledLanes&I)var ee=0;else ee=o.pendingLanes&-536870913,ee=ee!==0?ee:ee&536870912?536870912:0;if(ee!==0){u=ee;e:{var pe=o;E=qm;var _e=pe.current.memoizedState.isDehydrated;if(_e&&($p(pe,ee).flags|=256),ee=Z2(pe,ee,!1),ee!==2){if($2&&!_e){pe.errorRecoveryDisabledLanes|=I,Nh|=I,E=4;break e}I=So,So=E,I!==null&&(So===null?So=I:So.push.apply(So,I))}E=ee}if(I=!1,E!==2)continue}}if(E===1){$p(o,0),pf(o,u,0,!0);break}e:{switch(v=o,I=E,I){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:pf(v,u,Cl,!cf);break e;case 2:So=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(E=V2+300-he(),10<E)){if(pf(v,u,Cl,!cf),Xt(v,0,!0)!==0)break e;v.timeoutHandle=wE(YC.bind(null,v,p,So,Kb,W2,u,Cl,Nh,zp,cf,I,2,-0,0),E);break e}YC(v,p,So,Kb,W2,u,Cl,Nh,zp,cf,I,0,-0,0)}}break}while(!0);lc(o)}function YC(o,u,p,v,E,I,ee,pe,_e,Qe,ft,vt,Ze,et){if(o.timeoutHandle=-1,vt=u.subtreeFlags,(vt&8192||(vt&16785408)===16785408)&&(Ym={stylesheets:null,count:0,unsuspend:eR},zC(u),vt=nR(),vt!==null)){o.cancelPendingCommit=vt(eE.bind(null,o,u,I,p,v,E,ee,pe,_e,ft,1,Ze,et)),pf(o,I,ee,!Qe);return}eE(o,u,I,p,v,E,ee,pe,_e)}function x9(o){for(var u=o;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var E=p[v],I=E.getSnapshot;E=E.value;try{if(!Is(I(),E))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function pf(o,u,p,v){u&=~H2,u&=~Nh,o.suspendedLanes|=u,o.pingedLanes&=~u,v&&(o.warmLanes|=u),v=o.expirationTimes;for(var E=u;0<E;){var I=31-Je(E),ee=1<<I;v[I]=-1,E&=~ee}p!==0&&Bt(o,p,u)}function Xb(){return(Br&6)===0?(Bm(0),!1):!0}function K2(){if(Vn!==null){if(Ur===0)var o=Vn.return;else o=Vn,tu=Ls=null,jp(o),Rp=null,Om=0,o=Vn;for(;o!==null;)_C(o.alternate,o),o=o.return;Vn=null}}function $p(o,u){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,P9(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),K2(),ui=o,Vn=p=bl(o.current,null),ar=u,Ur=0,Yo=null,cf=!1,qp=Zt(o,u),$2=!1,zp=Cl=H2=Nh=df=rs=0,So=qm=null,W2=!1,(u&8)!==0&&(u|=u&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=u;0<v;){var E=31-Je(v),I=1<<E;u|=o[E],v&=~I}return pd=u,bo(),p}function GC(o,u){Jt=null,H.H=Fb,u===oe||u===fe?(u=Fe(),Ur=3):u===ue?(u=Fe(),Ur=4):Ur=u===fC?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Yo=u,Vn===null&&(rs=1,$b(o,Fn(u,o.current)))}function QC(){var o=H.H;return H.H=Fb,o===null?Fb:o}function KC(){var o=H.A;return H.A=b9,o}function X2(){rs=4,cf||(ar&4194048)!==ar&&Al.current!==null||(qp=!0),(df&134217727)===0&&(Nh&134217727)===0||ui===null||pf(ui,ar,Cl,!1)}function Z2(o,u,p){var v=Br;Br|=2;var E=QC(),I=KC();(ui!==o||ar!==u)&&(Kb=null,$p(o,u)),u=!1;var ee=rs;e:do try{if(Ur!==0&&Vn!==null){var pe=Vn,_e=Yo;switch(Ur){case 8:K2(),ee=6;break e;case 3:case 2:case 9:case 6:Al.current===null&&(u=!0);var Qe=Ur;if(Ur=0,Yo=null,Hp(o,pe,_e,Qe),p&&qp){ee=0;break e}break;default:Qe=Ur,Ur=0,Yo=null,Hp(o,pe,_e,Qe)}}v9(),ee=rs;break}catch(ft){GC(o,ft)}while(!0);return u&&o.shellSuspendCounter++,tu=Ls=null,Br=v,H.H=E,H.A=I,Vn===null&&(ui=null,ar=0,bo()),ee}function v9(){for(;Vn!==null;)XC(Vn)}function w9(o,u){var p=Br;Br|=2;var v=QC(),E=KC();ui!==o||ar!==u?(Kb=null,Qb=he()+500,$p(o,u)):qp=Zt(o,u);e:do try{if(Ur!==0&&Vn!==null){u=Vn;var I=Yo;t:switch(Ur){case 1:Ur=0,Yo=null,Hp(o,u,I,1);break;case 2:case 9:if(Se(I)){Ur=0,Yo=null,ZC(u);break}u=function(){Ur!==2&&Ur!==9||ui!==o||(Ur=7),lc(o)},I.then(u,u);break e;case 3:Ur=7;break e;case 4:Ur=5;break e;case 7:Se(I)?(Ur=0,Yo=null,ZC(u)):(Ur=0,Yo=null,Hp(o,u,I,7));break;case 5:var ee=null;switch(Vn.tag){case 26:ee=Vn.memoizedState;case 5:case 27:var pe=Vn;if(!ee||DE(ee)){Ur=0,Yo=null;var _e=pe.sibling;if(_e!==null)Vn=_e;else{var Qe=pe.return;Qe!==null?(Vn=Qe,Zb(Qe)):Vn=null}break t}}Ur=0,Yo=null,Hp(o,u,I,5);break;case 6:Ur=0,Yo=null,Hp(o,u,I,6);break;case 8:K2(),rs=6;break e;default:throw Error(r(462))}}S9();break}catch(ft){GC(o,ft)}while(!0);return tu=Ls=null,H.H=v,H.A=E,Br=p,Vn!==null?0:(ui=null,ar=0,bo(),rs)}function S9(){for(;Vn!==null&&!we();)XC(Vn)}function XC(o){var u=CC(o.alternate,o,pd);o.memoizedProps=o.pendingProps,u===null?Zb(o):Vn=u}function ZC(o){var u=o,p=u.alternate;switch(u.tag){case 15:case 0:u=yC(p,u,u.pendingProps,u.type,void 0,ar);break;case 11:u=yC(p,u,u.pendingProps,u.type.render,u.ref,ar);break;case 5:jp(u);default:_C(p,u),u=Vn=ch(u,pd),u=CC(p,u,pd)}o.memoizedProps=o.pendingProps,u===null?Zb(o):Vn=u}function Hp(o,u,p,v){tu=Ls=null,jp(u),Rp=null,Om=0;var E=u.return;try{if(d9(o,E,u,p,ar)){rs=1,$b(o,Fn(p,o.current)),Vn=null;return}}catch(I){if(E!==null)throw Vn=E,I;rs=1,$b(o,Fn(p,o.current)),Vn=null;return}u.flags&32768?(fr||v===1?o=!0:qp||(ar&536870912)!==0?o=!1:(cf=o=!0,(v===2||v===9||v===3||v===6)&&(v=Al.current,v!==null&&v.tag===13&&(v.flags|=16384))),JC(u,o)):Zb(u)}function Zb(o){var u=o;do{if((u.flags&32768)!==0){JC(u,cf);return}o=u.return;var p=h9(u.alternate,u,pd);if(p!==null){Vn=p;return}if(u=u.sibling,u!==null){Vn=u;return}Vn=u=o}while(u!==null);rs===0&&(rs=5)}function JC(o,u){do{var p=p9(o.alternate,o);if(p!==null){p.flags&=32767,Vn=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(o=o.sibling,o!==null)){Vn=o;return}Vn=o=p}while(o!==null);rs=6,Vn=null}function eE(o,u,p,v,E,I,ee,pe,_e){o.cancelPendingCommit=null;do Jb();while(fa!==0);if((Br&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(I=u.lanes|u.childLanes,I|=qi,In(o,p,I,ee,pe,_e),o===ui&&(Vn=ui=null,ar=0),Bp=u,hf=o,Up=p,Y2=I,G2=E,HC=v,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,_9(Re,function(){return sE(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||v){v=H.T,H.T=null,E=Y.p,Y.p=2,ee=Br,Br|=4;try{m9(o,u,p)}finally{Br=ee,Y.p=E,H.T=v}}fa=1,tE(),nE(),rE()}}function tE(){if(fa===1){fa=0;var o=hf,u=Bp,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=H.T,H.T=null;var v=Y.p;Y.p=2;var E=Br;Br|=4;try{PC(u,o);var I=c5,ee=la(o.containerInfo),pe=I.focusedElem,_e=I.selectionRange;if(ee!==pe&&pe&&pe.ownerDocument&&$u(pe.ownerDocument.documentElement,pe)){if(_e!==null&&Bs(pe)){var Qe=_e.start,ft=_e.end;if(ft===void 0&&(ft=Qe),"selectionStart"in pe)pe.selectionStart=Qe,pe.selectionEnd=Math.min(ft,pe.value.length);else{var vt=pe.ownerDocument||document,Ze=vt&&vt.defaultView||window;if(Ze.getSelection){var et=Ze.getSelection(),dn=pe.textContent.length,rn=Math.min(_e.start,dn),Qr=_e.end===void 0?rn:Math.min(_e.end,dn);!et.extend&&rn>Qr&&(ee=Qr,Qr=rn,rn=ee);var ze=Yl(pe,rn),Me=Yl(pe,Qr);if(ze&&Me&&(et.rangeCount!==1||et.anchorNode!==ze.node||et.anchorOffset!==ze.offset||et.focusNode!==Me.node||et.focusOffset!==Me.offset)){var Ve=vt.createRange();Ve.setStart(ze.node,ze.offset),et.removeAllRanges(),rn>Qr?(et.addRange(Ve),et.extend(Me.node,Me.offset)):(Ve.setEnd(Me.node,Me.offset),et.addRange(Ve))}}}}for(vt=[],et=pe;et=et.parentNode;)et.nodeType===1&&vt.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof pe.focus=="function"&&pe.focus(),pe=0;pe<vt.length;pe++){var mt=vt[pe];mt.element.scrollLeft=mt.left,mt.element.scrollTop=mt.top}}dy=!!u5,c5=u5=null}finally{Br=E,Y.p=v,H.T=p}}o.current=u,fa=2}}function nE(){if(fa===2){fa=0;var o=hf,u=Bp,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=H.T,H.T=null;var v=Y.p;Y.p=2;var E=Br;Br|=4;try{DC(o,u.alternate,u)}finally{Br=E,Y.p=v,H.T=p}}fa=3}}function rE(){if(fa===4||fa===3){fa=0,se();var o=hf,u=Bp,p=Up,v=HC;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?fa=5:(fa=0,Bp=hf=null,iE(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(ff=null),cr(p),u=u.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(rt,u,void 0,(u.current.flags&128)===128)}catch{}if(v!==null){u=H.T,E=Y.p,Y.p=2,H.T=null;try{for(var I=o.onRecoverableError,ee=0;ee<v.length;ee++){var pe=v[ee];I(pe.value,{componentStack:pe.stack})}}finally{H.T=u,Y.p=E}}(Up&3)!==0&&Jb(),lc(o),E=o.pendingLanes,(p&4194090)!==0&&(E&42)!==0?o===Q2?zm++:(zm=0,Q2=o):zm=0,Bm(0)}}function iE(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,ph(u)))}function Jb(o){return tE(),nE(),rE(),sE()}function sE(){if(fa!==5)return!1;var o=hf,u=Y2;Y2=0;var p=cr(Up),v=H.T,E=Y.p;try{Y.p=32>p?32:p,H.T=null,p=G2,G2=null;var I=hf,ee=Up;if(fa=0,Bp=hf=null,Up=0,(Br&6)!==0)throw Error(r(331));var pe=Br;if(Br|=4,UC(I.current),qC(I,I.current,ee,p),Br=pe,Bm(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(rt,I)}catch{}return!0}finally{Y.p=E,H.T=v,iE(o,u)}}function aE(o,u,p){u=Fn(p,u),u=k2(o.stateNode,u,2),o=yt(o,u,2),o!==null&&(Zn(o,2),lc(o))}function ni(o,u,p){if(o.tag===3)aE(o,o,p);else for(;u!==null;){if(u.tag===3){aE(u,o,p);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(ff===null||!ff.has(v))){o=Fn(p,o),p=cC(2),v=yt(u,p,2),v!==null&&(dC(p,v,u,o),Zn(v,2),lc(v));break}}u=u.return}}function J2(o,u,p){var v=o.pingCache;if(v===null){v=o.pingCache=new y9;var E=new Set;v.set(u,E)}else E=v.get(u),E===void 0&&(E=new Set,v.set(u,E));E.has(p)||($2=!0,E.add(p),o=A9.bind(null,o,u,p),u.then(o,o))}function A9(o,u,p){var v=o.pingCache;v!==null&&v.delete(u),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,ui===o&&(ar&p)===p&&(rs===4||rs===3&&(ar&62914560)===ar&&300>he()-V2?(Br&2)===0&&$p(o,0):H2|=p,zp===ar&&(zp=0)),lc(o)}function oE(o,u){u===0&&(u=Mn()),o=Ql(o,u),o!==null&&(Zn(o,u),lc(o))}function C9(o){var u=o.memoizedState,p=0;u!==null&&(p=u.retryLane),oE(o,p)}function E9(o,u){var p=0;switch(o.tag){case 13:var v=o.stateNode,E=o.memoizedState;E!==null&&(p=E.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(u),oE(o,p)}function _9(o,u){return $e(o,u)}var ey=null,Wp=null,e5=!1,ty=!1,t5=!1,jh=0;function lc(o){o!==Wp&&o.next===null&&(Wp===null?ey=Wp=o:Wp=Wp.next=o),ty=!0,e5||(e5=!0,N9())}function Bm(o,u){if(!t5&&ty){t5=!0;do for(var p=!1,v=ey;v!==null;){if(o!==0){var E=v.pendingLanes;if(E===0)var I=0;else{var ee=v.suspendedLanes,pe=v.pingedLanes;I=(1<<31-Je(42|o)+1)-1,I&=E&~(ee&~pe),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(p=!0,dE(v,I))}else I=ar,I=Xt(v,v===ui?I:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(I&3)===0||Zt(v,I)||(p=!0,dE(v,I));v=v.next}while(p);t5=!1}}function k9(){lE()}function lE(){ty=e5=!1;var o=0;jh!==0&&(M9()&&(o=jh),jh=0);for(var u=he(),p=null,v=ey;v!==null;){var E=v.next,I=uE(v,u);I===0?(v.next=null,p===null?ey=E:p.next=E,E===null&&(Wp=p)):(p=v,(o!==0||(I&3)!==0)&&(ty=!0)),v=E}Bm(o)}function uE(o,u){for(var p=o.suspendedLanes,v=o.pingedLanes,E=o.expirationTimes,I=o.pendingLanes&-62914561;0<I;){var ee=31-Je(I),pe=1<<ee,_e=E[ee];_e===-1?((pe&p)===0||(pe&v)!==0)&&(E[ee]=nn(pe,u)):_e<=u&&(o.expiredLanes|=pe),I&=~pe}if(u=ui,p=ar,p=Xt(o,o===u?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,p===0||o===u&&(Ur===2||Ur===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&V(v),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||Zt(o,p)){if(u=p&-p,u===o.callbackPriority)return u;switch(v!==null&&V(v),cr(p)){case 2:case 8:p=Oe;break;case 32:p=Re;break;case 268435456:p=Ge;break;default:p=Re}return v=cE.bind(null,o),p=$e(p,v),o.callbackPriority=u,o.callbackNode=p,u}return v!==null&&v!==null&&V(v),o.callbackPriority=2,o.callbackNode=null,2}function cE(o,u){if(fa!==0&&fa!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(Jb()&&o.callbackNode!==p)return null;var v=ar;return v=Xt(o,o===ui?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(VC(o,v,u),uE(o,he()),o.callbackNode!=null&&o.callbackNode===p?cE.bind(null,o):null)}function dE(o,u){if(Jb())return null;VC(o,u,!0)}function N9(){F9(function(){(Br&6)!==0?$e(ve,k9):lE()})}function n5(){return jh===0&&(jh=Rn()),jh}function fE(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:eo(""+o)}function hE(o,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,o.id&&p.setAttribute("form",o.id),u.parentNode.insertBefore(p,u),o=new FormData(o),p.parentNode.removeChild(p),o}function j9(o,u,p,v,E){if(u==="submit"&&p&&p.stateNode===E){var I=fE((E[Jn]||null).action),ee=v.submitter;ee&&(u=(u=ee[Jn]||null)?fE(u.formAction):ee.getAttribute("formAction"),u!==null&&(I=u,ee=null));var pe=new st("action","action",null,v,E);o.push({event:pe,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(jh!==0){var _e=ee?hE(E,ee):new FormData(E);Sl(p,{pending:!0,data:_e,method:E.method,action:I},null,_e)}}else typeof I=="function"&&(pe.preventDefault(),_e=ee?hE(E,ee):new FormData(E),Sl(p,{pending:!0,data:_e,method:E.method,action:I},I,_e))},currentTarget:E}]})}}for(var r5=0;r5<Zc.length;r5++){var i5=Zc[r5],T9=i5.toLowerCase(),O9=i5[0].toUpperCase()+i5.slice(1);_i(T9,"on"+O9)}_i(Yd,"onAnimationEnd"),_i(Wu,"onAnimationIteration"),_i(Vu,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(Yu,"onTransitionRun"),_i(Xc,"onTransitionStart"),_i(Gd,"onTransitionCancel"),_i(Gu,"onTransitionEnd"),vr("onMouseEnter",["mouseout","mouseover"]),vr("onMouseLeave",["mouseout","mouseover"]),vr("onPointerEnter",["pointerout","pointerover"]),vr("onPointerLeave",["pointerout","pointerover"]),fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fs("onBeforeInput",["compositionend","keypress","textInput","paste"]),fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Um="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Um));function pE(o,u){u=(u&4)!==0;for(var p=0;p<o.length;p++){var v=o[p],E=v.event;v=v.listeners;e:{var I=void 0;if(u)for(var ee=v.length-1;0<=ee;ee--){var pe=v[ee],_e=pe.instance,Qe=pe.currentTarget;if(pe=pe.listener,_e!==I&&E.isPropagationStopped())break e;I=pe,E.currentTarget=Qe;try{I(E)}catch(ft){Ub(ft)}E.currentTarget=null,I=_e}else for(ee=0;ee<v.length;ee++){if(pe=v[ee],_e=pe.instance,Qe=pe.currentTarget,pe=pe.listener,_e!==I&&E.isPropagationStopped())break e;I=pe,E.currentTarget=Qe;try{I(E)}catch(ft){Ub(ft)}E.currentTarget=null,I=_e}}}}function Yn(o,u){var p=u[nr];p===void 0&&(p=u[nr]=new Set);var v=o+"__bubble";p.has(v)||(mE(u,o,2,!1),p.add(v))}function s5(o,u,p){var v=0;u&&(v|=4),mE(p,o,v,u)}var ny="_reactListening"+Math.random().toString(36).slice(2);function a5(o){if(!o[ny]){o[ny]=!0,sa.forEach(function(p){p!=="selectionchange"&&(I9.has(p)||s5(p,!1,o),s5(p,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[ny]||(u[ny]=!0,s5("selectionchange",!1,u))}}function mE(o,u,p,v){switch(qE(u)){case 2:var E=sR;break;case 8:E=aR;break;default:E=v5}p=E.bind(null,u,p,o),E=void 0,!Ro||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(E=!0),v?E!==void 0?o.addEventListener(u,p,{capture:!0,passive:E}):o.addEventListener(u,p,!0):E!==void 0?o.addEventListener(u,p,{passive:E}):o.addEventListener(u,p,!1)}function o5(o,u,p,v,E){var I=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var ee=v.tag;if(ee===3||ee===4){var pe=v.stateNode.containerInfo;if(pe===E)break;if(ee===4)for(ee=v.return;ee!==null;){var _e=ee.tag;if((_e===3||_e===4)&&ee.stateNode.containerInfo===E)return;ee=ee.return}for(;pe!==null;){if(ee=hi(pe),ee===null)return;if(_e=ee.tag,_e===5||_e===6||_e===26||_e===27){v=I=ee;continue e}pe=pe.parentNode}}v=v.return}fl(function(){var Qe=I,ft=gi(p),vt=[];e:{var Ze=Gl.get(o);if(Ze!==void 0){var et=st,dn=o;switch(o){case"keypress":if(mo(p)===0)break e;case"keydown":case"keyup":et=Ud;break;case"focusin":dn="focus",et=ti;break;case"focusout":dn="blur",et=ti;break;case"beforeblur":case"afterblur":et=ti;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=qr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=Or;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=ah;break;case Yd:case Wu:case Vu:et=to;break;case Gu:et=re;break;case"scroll":case"scrollend":et=zt;break;case"wheel":et=Ie;break;case"copy":case"cut":case"paste":et=qd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=$d;break;case"toggle":case"beforetoggle":et=ut}var rn=(u&4)!==0,Qr=!rn&&(o==="scroll"||o==="scrollend"),ze=rn?Ze!==null?Ze+"Capture":null:Ze;rn=[];for(var Me=Qe,Ve;Me!==null;){var mt=Me;if(Ve=mt.stateNode,mt=mt.tag,mt!==5&&mt!==26&&mt!==27||Ve===null||ze===null||(mt=Mi(Me,ze),mt!=null&&rn.push($m(Me,mt,Ve))),Qr)break;Me=Me.return}0<rn.length&&(Ze=new et(Ze,dn,null,p,ft),vt.push({event:Ze,listeners:rn}))}}if((u&7)===0){e:{if(Ze=o==="mouseover"||o==="pointerover",et=o==="mouseout"||o==="pointerout",Ze&&p!==dl&&(dn=p.relatedTarget||p.fromElement)&&(hi(dn)||dn[xr]))break e;if((et||Ze)&&(Ze=ft.window===ft?ft:(Ze=ft.ownerDocument)?Ze.defaultView||Ze.parentWindow:window,et?(dn=p.relatedTarget||p.toElement,et=Qe,dn=dn?hi(dn):null,dn!==null&&(Qr=s(dn),rn=dn.tag,dn!==Qr||rn!==5&&rn!==27&&rn!==6)&&(dn=null)):(et=null,dn=Qe),et!==dn)){if(rn=qr,mt="onMouseLeave",ze="onMouseEnter",Me="mouse",(o==="pointerout"||o==="pointerover")&&(rn=$d,mt="onPointerLeave",ze="onPointerEnter",Me="pointer"),Qr=et==null?Ze:Gn(et),Ve=dn==null?Ze:Gn(dn),Ze=new rn(mt,Me+"leave",et,p,ft),Ze.target=Qr,Ze.relatedTarget=Ve,mt=null,hi(ft)===Qe&&(rn=new rn(ze,Me+"enter",dn,p,ft),rn.target=Ve,rn.relatedTarget=Qr,mt=rn),Qr=mt,et&&dn)t:{for(rn=et,ze=dn,Me=0,Ve=rn;Ve;Ve=Vp(Ve))Me++;for(Ve=0,mt=ze;mt;mt=Vp(mt))Ve++;for(;0<Me-Ve;)rn=Vp(rn),Me--;for(;0<Ve-Me;)ze=Vp(ze),Ve--;for(;Me--;){if(rn===ze||ze!==null&&rn===ze.alternate)break t;rn=Vp(rn),ze=Vp(ze)}rn=null}else rn=null;et!==null&&gE(vt,Ze,et,rn,!1),dn!==null&&Qr!==null&&gE(vt,Qr,dn,rn,!0)}}e:{if(Ze=Qe?Gn(Qe):window,et=Ze.nodeName&&Ze.nodeName.toLowerCase(),et==="select"||et==="input"&&Ze.type==="file")var Ft=Wd;else if(qo(Ze))if(Yc)Ft=wp;else{Ft=mm;var Bn=_a}else et=Ze.nodeName,!et||et.toLowerCase()!=="input"||Ze.type!=="checkbox"&&Ze.type!=="radio"?Qe&&Hs(Qe.elementType)&&(Ft=Wd):Ft=lh;if(Ft&&(Ft=Ft(o,Qe))){oh(vt,Ft,p,ft);break e}Bn&&Bn(o,Ze,Qe),o==="focusout"&&Qe&&Ze.type==="number"&&Qe.memoizedProps.value!=null&&Lo(Ze,"number",Ze.value)}switch(Bn=Qe?Gn(Qe):window,o){case"focusin":(qo(Bn)||Bn.contentEditable==="true")&&(ka=Bn,zo=Qe,ml=null);break;case"focusout":ml=zo=ka=null;break;case"mousedown":Bo=!0;break;case"contextmenu":case"mouseup":case"dragend":Bo=!1,Ei(vt,p,ft);break;case"selectionchange":if(Hu)break;case"keydown":case"keyup":Ei(vt,p,ft)}var Qt;if(It)e:{switch(o){case"compositionstart":var on="onCompositionStart";break e;case"compositionend":on="onCompositionEnd";break e;case"compositionupdate":on="onCompositionUpdate";break e}on=void 0}else Fi?bi(o,p)&&(on="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(on="onCompositionStart");on&&(hn&&p.locale!=="ko"&&(Fi||on!=="onCompositionStart"?on==="onCompositionEnd"&&Fi&&(Qt=hl()):(zs=ft,Ys="value"in zs?zs.value:zs.textContent,Fi=!0)),Bn=ry(Qe,on),0<Bn.length&&(on=new Po(on,o,null,p,ft),vt.push({event:on,listeners:Bn}),Qt?on.data=Qt:(Qt=Pi(p),Qt!==null&&(on.data=Qt)))),(Qt=wn?Os(o,p):Fo(o,p))&&(on=ry(Qe,"onBeforeInput"),0<on.length&&(Bn=new Po("onBeforeInput","beforeinput",null,p,ft),vt.push({event:Bn,listeners:on}),Bn.data=Qt)),j9(vt,o,Qe,p,ft)}pE(vt,u)})}function $m(o,u,p){return{instance:o,listener:u,currentTarget:p}}function ry(o,u){for(var p=u+"Capture",v=[];o!==null;){var E=o,I=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||I===null||(E=Mi(o,p),E!=null&&v.unshift($m(o,E,I)),E=Mi(o,u),E!=null&&v.push($m(o,E,I))),o.tag===3)return v;o=o.return}return[]}function Vp(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function gE(o,u,p,v,E){for(var I=u._reactName,ee=[];p!==null&&p!==v;){var pe=p,_e=pe.alternate,Qe=pe.stateNode;if(pe=pe.tag,_e!==null&&_e===v)break;pe!==5&&pe!==26&&pe!==27||Qe===null||(_e=Qe,E?(Qe=Mi(p,I),Qe!=null&&ee.unshift($m(p,Qe,_e))):E||(Qe=Mi(p,I),Qe!=null&&ee.push($m(p,Qe,_e)))),p=p.return}ee.length!==0&&o.push({event:u,listeners:ee})}var D9=/\r\n?/g,L9=/\u0000|\uFFFD/g;function bE(o){return(typeof o=="string"?o:""+o).replace(D9,`
`).replace(L9,"")}function yE(o,u){return u=bE(u),bE(o)===u}function iy(){}function Gr(o,u,p,v,E,I){switch(p){case"children":typeof v=="string"?u==="body"||u==="textarea"&&v===""||Ji(o,v):(typeof v=="number"||typeof v=="bigint")&&u!=="body"&&Ji(o,""+v);break;case"className":Rt(o,"class",v);break;case"tabIndex":Rt(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Rt(o,p,v);break;case"style":Fu(o,v,I);break;case"data":if(u!=="object"){Rt(o,"data",v);break}case"src":case"href":if(v===""&&(u!=="a"||p!=="href")){o.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=eo(""+v),o.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(p==="formAction"?(u!=="input"&&Gr(o,u,"name",E.name,E,null),Gr(o,u,"formEncType",E.formEncType,E,null),Gr(o,u,"formMethod",E.formMethod,E,null),Gr(o,u,"formTarget",E.formTarget,E,null)):(Gr(o,u,"encType",E.encType,E,null),Gr(o,u,"method",E.method,E,null),Gr(o,u,"target",E.target,E,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=eo(""+v),o.setAttribute(p,v);break;case"onClick":v!=null&&(o.onclick=iy);break;case"onScroll":v!=null&&Yn("scroll",o);break;case"onScrollEnd":v!=null&&Yn("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}p=eo(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""+v):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":v===!0?o.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,v):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(p,v):o.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(p):o.setAttribute(p,v);break;case"popover":Yn("beforetoggle",o),Yn("toggle",o),St(o,"popover",v);break;case"xlinkActuate":Tt(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Tt(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Tt(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Tt(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Tt(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Tt(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Tt(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Tt(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Tt(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":St(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Ja.get(p)||p,St(o,p,v))}}function l5(o,u,p,v,E,I){switch(p){case"style":Fu(o,v,I);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"children":typeof v=="string"?Ji(o,v):(typeof v=="number"||typeof v=="bigint")&&Ji(o,""+v);break;case"onScroll":v!=null&&Yn("scroll",o);break;case"onScrollEnd":v!=null&&Yn("scrollend",o);break;case"onClick":v!=null&&(o.onclick=iy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wa.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(E=p.endsWith("Capture"),u=p.slice(2,E?p.length-7:void 0),I=o[Jn]||null,I=I!=null?I[p]:null,typeof I=="function"&&o.removeEventListener(u,I,E),typeof v=="function")){typeof I!="function"&&I!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(u,v,E);break e}p in o?o[p]=v:v===!0?o.setAttribute(p,""):St(o,p,v)}}}function ha(o,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yn("error",o),Yn("load",o);var v=!1,E=!1,I;for(I in p)if(p.hasOwnProperty(I)){var ee=p[I];if(ee!=null)switch(I){case"src":v=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Gr(o,u,I,ee,p,null)}}E&&Gr(o,u,"srcSet",p.srcSet,p,null),v&&Gr(o,u,"src",p.src,p,null);return;case"input":Yn("invalid",o);var pe=I=ee=E=null,_e=null,Qe=null;for(v in p)if(p.hasOwnProperty(v)){var ft=p[v];if(ft!=null)switch(v){case"name":E=ft;break;case"type":ee=ft;break;case"checked":_e=ft;break;case"defaultChecked":Qe=ft;break;case"value":I=ft;break;case"defaultValue":pe=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(r(137,u));break;default:Gr(o,u,v,ft,p,null)}}Hl(o,I,pe,_e,Qe,ee,E,!1),Ri(o);return;case"select":Yn("invalid",o),v=ee=I=null;for(E in p)if(p.hasOwnProperty(E)&&(pe=p[E],pe!=null))switch(E){case"value":I=pe;break;case"defaultValue":ee=pe;break;case"multiple":v=pe;default:Gr(o,u,E,pe,p,null)}u=I,p=ee,o.multiple=!!v,u!=null?Xa(o,!!v,u,!1):p!=null&&Xa(o,!!v,p,!0);return;case"textarea":Yn("invalid",o),I=E=v=null;for(ee in p)if(p.hasOwnProperty(ee)&&(pe=p[ee],pe!=null))switch(ee){case"value":v=pe;break;case"defaultValue":E=pe;break;case"children":I=pe;break;case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(91));break;default:Gr(o,u,ee,pe,p,null)}Za(o,v,E,I),Ri(o);return;case"option":for(_e in p)if(p.hasOwnProperty(_e)&&(v=p[_e],v!=null))switch(_e){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Gr(o,u,_e,v,p,null)}return;case"dialog":Yn("beforetoggle",o),Yn("toggle",o),Yn("cancel",o),Yn("close",o);break;case"iframe":case"object":Yn("load",o);break;case"video":case"audio":for(v=0;v<Um.length;v++)Yn(Um[v],o);break;case"image":Yn("error",o),Yn("load",o);break;case"details":Yn("toggle",o);break;case"embed":case"source":case"link":Yn("error",o),Yn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Qe in p)if(p.hasOwnProperty(Qe)&&(v=p[Qe],v!=null))switch(Qe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Gr(o,u,Qe,v,p,null)}return;default:if(Hs(u)){for(ft in p)p.hasOwnProperty(ft)&&(v=p[ft],v!==void 0&&l5(o,u,ft,v,p,void 0));return}}for(pe in p)p.hasOwnProperty(pe)&&(v=p[pe],v!=null&&Gr(o,u,pe,v,p,null))}function R9(o,u,p,v){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,I=null,ee=null,pe=null,_e=null,Qe=null,ft=null;for(et in p){var vt=p[et];if(p.hasOwnProperty(et)&&vt!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":_e=vt;default:v.hasOwnProperty(et)||Gr(o,u,et,null,v,vt)}}for(var Ze in v){var et=v[Ze];if(vt=p[Ze],v.hasOwnProperty(Ze)&&(et!=null||vt!=null))switch(Ze){case"type":I=et;break;case"name":E=et;break;case"checked":Qe=et;break;case"defaultChecked":ft=et;break;case"value":ee=et;break;case"defaultValue":pe=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(r(137,u));break;default:et!==vt&&Gr(o,u,Ze,et,v,vt)}}Do(o,ee,pe,_e,Qe,ft,I,E);return;case"select":et=ee=pe=Ze=null;for(I in p)if(_e=p[I],p.hasOwnProperty(I)&&_e!=null)switch(I){case"value":break;case"multiple":et=_e;default:v.hasOwnProperty(I)||Gr(o,u,I,null,v,_e)}for(E in v)if(I=v[E],_e=p[E],v.hasOwnProperty(E)&&(I!=null||_e!=null))switch(E){case"value":Ze=I;break;case"defaultValue":pe=I;break;case"multiple":ee=I;default:I!==_e&&Gr(o,u,E,I,v,_e)}u=pe,p=ee,v=et,Ze!=null?Xa(o,!!p,Ze,!1):!!v!=!!p&&(u!=null?Xa(o,!!p,u,!0):Xa(o,!!p,p?[]:"",!1));return;case"textarea":et=Ze=null;for(pe in p)if(E=p[pe],p.hasOwnProperty(pe)&&E!=null&&!v.hasOwnProperty(pe))switch(pe){case"value":break;case"children":break;default:Gr(o,u,pe,null,v,E)}for(ee in v)if(E=v[ee],I=p[ee],v.hasOwnProperty(ee)&&(E!=null||I!=null))switch(ee){case"value":Ze=E;break;case"defaultValue":et=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==I&&Gr(o,u,ee,E,v,I)}Pu(o,Ze,et);return;case"option":for(var dn in p)if(Ze=p[dn],p.hasOwnProperty(dn)&&Ze!=null&&!v.hasOwnProperty(dn))switch(dn){case"selected":o.selected=!1;break;default:Gr(o,u,dn,null,v,Ze)}for(_e in v)if(Ze=v[_e],et=p[_e],v.hasOwnProperty(_e)&&Ze!==et&&(Ze!=null||et!=null))switch(_e){case"selected":o.selected=Ze&&typeof Ze!="function"&&typeof Ze!="symbol";break;default:Gr(o,u,_e,Ze,v,et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rn in p)Ze=p[rn],p.hasOwnProperty(rn)&&Ze!=null&&!v.hasOwnProperty(rn)&&Gr(o,u,rn,null,v,Ze);for(Qe in v)if(Ze=v[Qe],et=p[Qe],v.hasOwnProperty(Qe)&&Ze!==et&&(Ze!=null||et!=null))switch(Qe){case"children":case"dangerouslySetInnerHTML":if(Ze!=null)throw Error(r(137,u));break;default:Gr(o,u,Qe,Ze,v,et)}return;default:if(Hs(u)){for(var Qr in p)Ze=p[Qr],p.hasOwnProperty(Qr)&&Ze!==void 0&&!v.hasOwnProperty(Qr)&&l5(o,u,Qr,void 0,v,Ze);for(ft in v)Ze=v[ft],et=p[ft],!v.hasOwnProperty(ft)||Ze===et||Ze===void 0&&et===void 0||l5(o,u,ft,Ze,v,et);return}}for(var ze in p)Ze=p[ze],p.hasOwnProperty(ze)&&Ze!=null&&!v.hasOwnProperty(ze)&&Gr(o,u,ze,null,v,Ze);for(vt in v)Ze=v[vt],et=p[vt],!v.hasOwnProperty(vt)||Ze===et||Ze==null&&et==null||Gr(o,u,vt,Ze,v,et)}var u5=null,c5=null;function sy(o){return o.nodeType===9?o:o.ownerDocument}function xE(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vE(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function d5(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var f5=null;function M9(){var o=window.event;return o&&o.type==="popstate"?o===f5?!1:(f5=o,!0):(f5=null,!1)}var wE=typeof setTimeout=="function"?setTimeout:void 0,P9=typeof clearTimeout=="function"?clearTimeout:void 0,SE=typeof Promise=="function"?Promise:void 0,F9=typeof queueMicrotask=="function"?queueMicrotask:typeof SE<"u"?function(o){return SE.resolve(null).then(o).catch(q9)}:wE;function q9(o){setTimeout(function(){throw o})}function mf(o){return o==="head"}function AE(o,u){var p=u,v=0,E=0;do{var I=p.nextSibling;if(o.removeChild(p),I&&I.nodeType===8)if(p=I.data,p==="/$"){if(0<v&&8>v){p=v;var ee=o.ownerDocument;if(p&1&&Hm(ee.documentElement),p&2&&Hm(ee.body),p&4)for(p=ee.head,Hm(p),ee=p.firstChild;ee;){var pe=ee.nextSibling,_e=ee.nodeName;ee[Xi]||_e==="SCRIPT"||_e==="STYLE"||_e==="LINK"&&ee.rel.toLowerCase()==="stylesheet"||p.removeChild(ee),ee=pe}}if(E===0){o.removeChild(I),Zm(u);return}E--}else p==="$"||p==="$?"||p==="$!"?E++:v=p.charCodeAt(0)-48;else v=0;p=I}while(p);Zm(u)}function h5(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":h5(p),Zi(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function z9(o,u,p,v){for(;o.nodeType===1;){var E=p;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[Xi])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(I=o.getAttribute("rel"),I==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(I!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(I=o.getAttribute("src"),(I!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&I&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var I=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===I)return o}else return o;if(o=lu(o.nextSibling),o===null)break}return null}function B9(o,u,p){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=lu(o.nextSibling),o===null))return null;return o}function p5(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function U9(o,u){var p=o.ownerDocument;if(o.data!=="$?"||p.readyState==="complete")u();else{var v=function(){u(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function lu(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return o}var m5=null;function CE(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return o;u--}else p==="/$"&&u++}o=o.previousSibling}return null}function EE(o,u,p){switch(u=sy(p),o){case"html":if(o=u.documentElement,!o)throw Error(r(452));return o;case"head":if(o=u.head,!o)throw Error(r(453));return o;case"body":if(o=u.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Hm(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);Zi(o)}var El=new Map,_E=new Set;function ay(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var md=Y.d;Y.d={f:$9,r:H9,D:W9,C:V9,L:Y9,m:G9,X:K9,S:Q9,M:X9};function $9(){var o=md.f(),u=Xb();return o||u}function H9(o){var u=pi(o);u!==null&&u.tag===5&&u.type==="form"?Ch(u):md.r(o)}var Yp=typeof document>"u"?null:document;function kE(o,u,p){var v=Yp;if(v&&typeof u=="string"&&u){var E=dr(u);E='link[rel="'+o+'"][href="'+E+'"]',typeof p=="string"&&(E+='[crossorigin="'+p+'"]'),_E.has(E)||(_E.add(E),o={rel:o,crossOrigin:p,href:u},v.querySelector(E)===null&&(u=v.createElement("link"),ha(u,"link",o),Qn(u),v.head.appendChild(u)))}}function W9(o){md.D(o),kE("dns-prefetch",o,null)}function V9(o,u){md.C(o,u),kE("preconnect",o,u)}function Y9(o,u,p){md.L(o,u,p);var v=Yp;if(v&&o&&u){var E='link[rel="preload"][as="'+dr(u)+'"]';u==="image"&&p&&p.imageSrcSet?(E+='[imagesrcset="'+dr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(E+='[imagesizes="'+dr(p.imageSizes)+'"]')):E+='[href="'+dr(o)+'"]';var I=E;switch(u){case"style":I=Gp(o);break;case"script":I=Qp(o)}El.has(I)||(o=h({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:o,as:u},p),El.set(I,o),v.querySelector(E)!==null||u==="style"&&v.querySelector(Wm(I))||u==="script"&&v.querySelector(Vm(I))||(u=v.createElement("link"),ha(u,"link",o),Qn(u),v.head.appendChild(u)))}}function G9(o,u){md.m(o,u);var p=Yp;if(p&&o){var v=u&&typeof u.as=="string"?u.as:"script",E='link[rel="modulepreload"][as="'+dr(v)+'"][href="'+dr(o)+'"]',I=E;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=Qp(o)}if(!El.has(I)&&(o=h({rel:"modulepreload",href:o},u),El.set(I,o),p.querySelector(E)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Vm(I)))return}v=p.createElement("link"),ha(v,"link",o),Qn(v),p.head.appendChild(v)}}}function Q9(o,u,p){md.S(o,u,p);var v=Yp;if(v&&o){var E=si(v).hoistableStyles,I=Gp(o);u=u||"default";var ee=E.get(I);if(!ee){var pe={loading:0,preload:null};if(ee=v.querySelector(Wm(I)))pe.loading=5;else{o=h({rel:"stylesheet",href:o,"data-precedence":u},p),(p=El.get(I))&&g5(o,p);var _e=ee=v.createElement("link");Qn(_e),ha(_e,"link",o),_e._p=new Promise(function(Qe,ft){_e.onload=Qe,_e.onerror=ft}),_e.addEventListener("load",function(){pe.loading|=1}),_e.addEventListener("error",function(){pe.loading|=2}),pe.loading|=4,oy(ee,u,v)}ee={type:"stylesheet",instance:ee,count:1,state:pe},E.set(I,ee)}}}function K9(o,u){md.X(o,u);var p=Yp;if(p&&o){var v=si(p).hoistableScripts,E=Qp(o),I=v.get(E);I||(I=p.querySelector(Vm(E)),I||(o=h({src:o,async:!0},u),(u=El.get(E))&&b5(o,u),I=p.createElement("script"),Qn(I),ha(I,"link",o),p.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(E,I))}}function X9(o,u){md.M(o,u);var p=Yp;if(p&&o){var v=si(p).hoistableScripts,E=Qp(o),I=v.get(E);I||(I=p.querySelector(Vm(E)),I||(o=h({src:o,async:!0,type:"module"},u),(u=El.get(E))&&b5(o,u),I=p.createElement("script"),Qn(I),ha(I,"link",o),p.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(E,I))}}function NE(o,u,p,v){var E=(E=ne.current)?ay(E):null;if(!E)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=Gp(p.href),p=si(E).hoistableStyles,v=p.get(u),v||(v={type:"style",instance:null,count:0,state:null},p.set(u,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=Gp(p.href);var I=si(E).hoistableStyles,ee=I.get(o);if(ee||(E=E.ownerDocument||E,ee={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(o,ee),(I=E.querySelector(Wm(o)))&&!I._p&&(ee.instance=I,ee.state.loading=5),El.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},El.set(o,p),I||Z9(E,o,p,ee.state))),u&&v===null)throw Error(r(528,""));return ee}if(u&&v!==null)throw Error(r(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Qp(p),p=si(E).hoistableScripts,v=p.get(u),v||(v={type:"script",instance:null,count:0,state:null},p.set(u,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Gp(o){return'href="'+dr(o)+'"'}function Wm(o){return'link[rel="stylesheet"]['+o+"]"}function jE(o){return h({},o,{"data-precedence":o.precedence,precedence:null})}function Z9(o,u,p,v){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?v.loading=1:(u=o.createElement("link"),v.preload=u,u.addEventListener("load",function(){return v.loading|=1}),u.addEventListener("error",function(){return v.loading|=2}),ha(u,"link",p),Qn(u),o.head.appendChild(u))}function Qp(o){return'[src="'+dr(o)+'"]'}function Vm(o){return"script[async]"+o}function TE(o,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var v=o.querySelector('style[data-href~="'+dr(p.href)+'"]');if(v)return u.instance=v,Qn(v),v;var E=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),Qn(v),ha(v,"style",E),oy(v,p.precedence,o),u.instance=v;case"stylesheet":E=Gp(p.href);var I=o.querySelector(Wm(E));if(I)return u.state.loading|=4,u.instance=I,Qn(I),I;v=jE(p),(E=El.get(E))&&g5(v,E),I=(o.ownerDocument||o).createElement("link"),Qn(I);var ee=I;return ee._p=new Promise(function(pe,_e){ee.onload=pe,ee.onerror=_e}),ha(I,"link",v),u.state.loading|=4,oy(I,p.precedence,o),u.instance=I;case"script":return I=Qp(p.src),(E=o.querySelector(Vm(I)))?(u.instance=E,Qn(E),E):(v=p,(E=El.get(I))&&(v=h({},p),b5(v,E)),o=o.ownerDocument||o,E=o.createElement("script"),Qn(E),ha(E,"link",v),o.head.appendChild(E),u.instance=E);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(v=u.instance,u.state.loading|=4,oy(v,p.precedence,o));return u.instance}function oy(o,u,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=v.length?v[v.length-1]:null,I=E,ee=0;ee<v.length;ee++){var pe=v[ee];if(pe.dataset.precedence===u)I=pe;else if(I!==E)break}I?I.parentNode.insertBefore(o,I.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(o,u.firstChild))}function g5(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function b5(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var ly=null;function OE(o,u,p){if(ly===null){var v=new Map,E=ly=new Map;E.set(p,v)}else E=ly,v=E.get(p),v||(v=new Map,E.set(p,v));if(v.has(o))return v;for(v.set(o,null),p=p.getElementsByTagName(o),E=0;E<p.length;E++){var I=p[E];if(!(I[Xi]||I[zn]||o==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var ee=I.getAttribute(u)||"";ee=o+ee;var pe=v.get(ee);pe?pe.push(I):v.set(ee,[I])}}return v}function IE(o,u,p){o=o.ownerDocument||o,o.head.insertBefore(p,u==="title"?o.querySelector("head > title"):null)}function J9(o,u,p){if(p===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function DE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Ym=null;function eR(){}function tR(o,u,p){if(Ym===null)throw Error(r(475));var v=Ym;if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var E=Gp(p.href),I=o.querySelector(Wm(E));if(I){o=I._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(v.count++,v=uy.bind(v),o.then(v,v)),u.state.loading|=4,u.instance=I,Qn(I);return}I=o.ownerDocument||o,p=jE(p),(E=El.get(E))&&g5(p,E),I=I.createElement("link"),Qn(I);var ee=I;ee._p=new Promise(function(pe,_e){ee.onload=pe,ee.onerror=_e}),ha(I,"link",p),u.instance=I}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(v.count++,u=uy.bind(v),o.addEventListener("load",u),o.addEventListener("error",u))}}function nR(){if(Ym===null)throw Error(r(475));var o=Ym;return o.stylesheets&&o.count===0&&y5(o,o.stylesheets),0<o.count?function(u){var p=setTimeout(function(){if(o.stylesheets&&y5(o,o.stylesheets),o.unsuspend){var v=o.unsuspend;o.unsuspend=null,v()}},6e4);return o.unsuspend=u,function(){o.unsuspend=null,clearTimeout(p)}}:null}function uy(){if(this.count--,this.count===0){if(this.stylesheets)y5(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var cy=null;function y5(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,cy=new Map,u.forEach(rR,o),cy=null,uy.call(o))}function rR(o,u){if(!(u.state.loading&4)){var p=cy.get(o);if(p)var v=p.get(null);else{p=new Map,cy.set(o,p);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<E.length;I++){var ee=E[I];(ee.nodeName==="LINK"||ee.getAttribute("media")!=="not all")&&(p.set(ee.dataset.precedence,ee),v=ee)}v&&p.set(null,v)}E=u.instance,ee=E.getAttribute("data-precedence"),I=p.get(ee)||v,I===v&&p.set(null,E),p.set(ee,E),this.count++,v=uy.bind(this),E.addEventListener("load",v),E.addEventListener("error",v),I?I.parentNode.insertBefore(E,I.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),u.state.loading|=4}}var Gm={$$typeof:k,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function iR(o,u,p,v,E,I,ee,pe){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nr(0),this.hiddenUpdates=Nr(null),this.identifierPrefix=v,this.onUncaughtError=E,this.onCaughtError=I,this.onRecoverableError=ee,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pe,this.incompleteTransitions=new Map}function LE(o,u,p,v,E,I,ee,pe,_e,Qe,ft,vt){return o=new iR(o,u,p,ee,pe,_e,Qe,vt),u=1,I===!0&&(u|=24),I=Qs(3,null,null,u),o.current=I,I.stateNode=o,u=bm(),u.refCount++,o.pooledCache=u,u.refCount++,I.memoizedState={element:v,isDehydrated:p,cache:u},Le(I),o}function RE(o){return o?(o=Ds,o):Ds}function ME(o,u,p,v,E,I){E=RE(E),v.context===null?v.context=E:v.pendingContext=E,v=dt(u),v.payload={element:p},I=I===void 0?null:I,I!==null&&(v.callback=I),p=yt(o,v,u),p!==null&&(Qo(p,o,u),ht(p,o,u))}function PE(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<u?p:u}}function x5(o,u){PE(o,u),(o=o.alternate)&&PE(o,u)}function FE(o){if(o.tag===13){var u=Ql(o,67108864);u!==null&&Qo(u,o,67108864),x5(o,67108864)}}var dy=!0;function sR(o,u,p,v){var E=H.T;H.T=null;var I=Y.p;try{Y.p=2,v5(o,u,p,v)}finally{Y.p=I,H.T=E}}function aR(o,u,p,v){var E=H.T;H.T=null;var I=Y.p;try{Y.p=8,v5(o,u,p,v)}finally{Y.p=I,H.T=E}}function v5(o,u,p,v){if(dy){var E=w5(v);if(E===null)o5(o,u,v,fy,p),zE(o,v);else if(lR(E,o,u,p,v))v.stopPropagation();else if(zE(o,v),u&4&&-1<oR.indexOf(o)){for(;E!==null;){var I=pi(E);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var ee=Gt(I.pendingLanes);if(ee!==0){var pe=I;for(pe.pendingLanes|=2,pe.entangledLanes|=2;ee;){var _e=1<<31-Je(ee);pe.entanglements[1]|=_e,ee&=~_e}lc(I),(Br&6)===0&&(Qb=he()+500,Bm(0))}}break;case 13:pe=Ql(I,2),pe!==null&&Qo(pe,I,2),Xb(),x5(I,2)}if(I=w5(v),I===null&&o5(o,u,v,fy,p),I===E)break;E=I}E!==null&&v.stopPropagation()}else o5(o,u,v,null,p)}}function w5(o){return o=gi(o),S5(o)}var fy=null;function S5(o){if(fy=null,o=hi(o),o!==null){var u=s(o);if(u===null)o=null;else{var p=u.tag;if(p===13){if(o=a(u),o!==null)return o;o=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return fy=o,null}function qE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case ve:return 2;case Oe:return 8;case Re:case Ee:return 32;case Ge:return 268435456;default:return 32}default:return 32}}var A5=!1,gf=null,bf=null,yf=null,Qm=new Map,Km=new Map,xf=[],oR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zE(o,u){switch(o){case"focusin":case"focusout":gf=null;break;case"dragenter":case"dragleave":bf=null;break;case"mouseover":case"mouseout":yf=null;break;case"pointerover":case"pointerout":Qm.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Km.delete(u.pointerId)}}function Xm(o,u,p,v,E,I){return o===null||o.nativeEvent!==I?(o={blockedOn:u,domEventName:p,eventSystemFlags:v,nativeEvent:I,targetContainers:[E]},u!==null&&(u=pi(u),u!==null&&FE(u)),o):(o.eventSystemFlags|=v,u=o.targetContainers,E!==null&&u.indexOf(E)===-1&&u.push(E),o)}function lR(o,u,p,v,E){switch(u){case"focusin":return gf=Xm(gf,o,u,p,v,E),!0;case"dragenter":return bf=Xm(bf,o,u,p,v,E),!0;case"mouseover":return yf=Xm(yf,o,u,p,v,E),!0;case"pointerover":var I=E.pointerId;return Qm.set(I,Xm(Qm.get(I)||null,o,u,p,v,E)),!0;case"gotpointercapture":return I=E.pointerId,Km.set(I,Xm(Km.get(I)||null,o,u,p,v,E)),!0}return!1}function BE(o){var u=hi(o.target);if(u!==null){var p=s(u);if(p!==null){if(u=p.tag,u===13){if(u=a(p),u!==null){o.blockedOn=u,Li(o.priority,function(){if(p.tag===13){var v=Go();v=Di(v);var E=Ql(p,v);E!==null&&Qo(E,p,v),x5(p,v)}});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function hy(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var p=w5(o.nativeEvent);if(p===null){p=o.nativeEvent;var v=new p.constructor(p.type,p);dl=v,p.target.dispatchEvent(v),dl=null}else return u=pi(p),u!==null&&FE(u),o.blockedOn=p,!1;u.shift()}return!0}function UE(o,u,p){hy(o)&&p.delete(u)}function uR(){A5=!1,gf!==null&&hy(gf)&&(gf=null),bf!==null&&hy(bf)&&(bf=null),yf!==null&&hy(yf)&&(yf=null),Qm.forEach(UE),Km.forEach(UE)}function py(o,u){o.blockedOn===u&&(o.blockedOn=null,A5||(A5=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,uR)))}var my=null;function $E(o){my!==o&&(my=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){my===o&&(my=null);for(var u=0;u<o.length;u+=3){var p=o[u],v=o[u+1],E=o[u+2];if(typeof v!="function"){if(S5(v||p)===null)continue;break}var I=pi(p);I!==null&&(o.splice(u,3),u-=3,Sl(I,{pending:!0,data:E,method:p.method,action:v},v,E))}}))}function Zm(o){function u(_e){return py(_e,o)}gf!==null&&py(gf,o),bf!==null&&py(bf,o),yf!==null&&py(yf,o),Qm.forEach(u),Km.forEach(u);for(var p=0;p<xf.length;p++){var v=xf[p];v.blockedOn===o&&(v.blockedOn=null)}for(;0<xf.length&&(p=xf[0],p.blockedOn===null);)BE(p),p.blockedOn===null&&xf.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var E=p[v],I=p[v+1],ee=E[Jn]||null;if(typeof I=="function")ee||$E(p);else if(ee){var pe=null;if(I&&I.hasAttribute("formAction")){if(E=I,ee=I[Jn]||null)pe=ee.formAction;else if(S5(E)!==null)continue}else pe=ee.action;typeof pe=="function"?p[v+1]=pe:(p.splice(v,3),v-=3),$E(p)}}}function C5(o){this._internalRoot=o}gy.prototype.render=C5.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));var p=u.current,v=Go();ME(p,v,o,u,null,null)},gy.prototype.unmount=C5.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;ME(o.current,2,null,o,null,null),Xb(),u[xr]=null}};function gy(o){this._internalRoot=o}gy.prototype.unstable_scheduleHydration=function(o){if(o){var u=Vr();o={blockedOn:null,target:o,priority:u};for(var p=0;p<xf.length&&u!==0&&u<xf[p].priority;p++);xf.splice(p,0,o),p===0&&BE(o)}};var HE=n.version;if(HE!=="19.1.1")throw Error(r(527,HE,"19.1.1"));Y.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=c(u),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var cR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var by=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!by.isDisabled&&by.supportsFiber)try{rt=by.inject(cR),je=by}catch{}}return Jm.createRoot=function(o,u){if(!i(o))throw Error(r(299));var p=!1,v="",E=aC,I=oC,ee=lC,pe=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(ee=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(pe=u.unstable_transitionCallbacks)),u=LE(o,1,!1,null,null,p,v,E,I,ee,pe,null),o[xr]=u.current,a5(o),new C5(u)},Jm.hydrateRoot=function(o,u,p){if(!i(o))throw Error(r(299));var v=!1,E="",I=aC,ee=oC,pe=lC,_e=null,Qe=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onUncaughtError!==void 0&&(I=p.onUncaughtError),p.onCaughtError!==void 0&&(ee=p.onCaughtError),p.onRecoverableError!==void 0&&(pe=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(_e=p.unstable_transitionCallbacks),p.formState!==void 0&&(Qe=p.formState)),u=LE(o,1,!0,u,p??null,v,E,I,ee,pe,_e,Qe),u.context=RE(null),p=u.current,v=Go(),v=Di(v),E=dt(v),E.callback=null,yt(p,E,v),p=v,u.current.lanes=p,Zn(u,p),lc(u),o[xr]=u.current,a5(o),new gy(u)},Jm.version="19.1.1",Jm}var XE;function b3(){if(XE)return E5.exports;XE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),E5.exports=g3(),E5.exports}var y3=b3();const x3=Fr(y3);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},pg.apply(this,arguments)}var qh;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qh||(qh={}));const ZE="popstate";function v3(e){e===void 0&&(e={});function n(r,i){let{pathname:s,search:a,hash:l}=r.location;return Xw("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:_T(i)}return S3(n,t,null,e)}function Ha(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function ET(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function w3(){return Math.random().toString(36).substr(2,8)}function JE(e,n){return{usr:e.state,key:e.key,idx:n}}function Xw(e,n,t,r){return t===void 0&&(t=null),pg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?Hg(n):n,{state:t,key:n&&n.key||r||w3()})}function _T(e){let{pathname:n="/",search:t="",hash:r=""}=e;return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function Hg(e){let n={};if(e){let t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));let r=e.indexOf("?");r>=0&&(n.search=e.substr(r),e=e.substr(0,r)),e&&(n.pathname=e)}return n}function S3(e,n,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=qh.Pop,c=null,d=h();d==null&&(d=0,a.replaceState(pg({},a.state,{idx:d}),""));function h(){return(a.state||{idx:null}).idx}function g(){l=qh.Pop;let A=h(),w=A==null?null:A-d;d=A,c&&c({action:l,location:y.location,delta:w})}function b(A,w){l=qh.Push;let C=Xw(y.location,A,w);d=h()+1;let k=JE(C,d),R=y.createHref(C);try{a.pushState(k,"",R)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(R)}s&&c&&c({action:l,location:y.location,delta:1})}function m(A,w){l=qh.Replace;let C=Xw(y.location,A,w);d=h();let k=JE(C,d),R=y.createHref(C);a.replaceState(k,"",R),s&&c&&c({action:l,location:y.location,delta:0})}function x(A){let w=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof A=="string"?A:_T(A);return C=C.replace(/ $/,"%20"),Ha(w,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,w)}let y={get action(){return l},get location(){return e(i,a)},listen(A){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ZE,g),c=A,()=>{i.removeEventListener(ZE,g),c=null}},createHref(A){return n(i,A)},createURL:x,encodeLocation(A){let w=x(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:b,replace:m,go(A){return a.go(A)}};return y}var e_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(e_||(e_={}));function A3(e,n,t){return t===void 0&&(t="/"),C3(e,n,t)}function C3(e,n,t,r){let i=typeof n=="string"?Hg(n):n,s=jT(i.pathname||"/",t);if(s==null)return null;let a=kT(e);E3(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=P3(s);l=L3(a[c],d)}return l}function kT(e,n,t,r){n===void 0&&(n=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Ha(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Hh([r,c.relativePath]),h=t.concat(c);s.children&&s.children.length>0&&(Ha(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),kT(s.children,n,h,d)),!(s.path==null&&!s.index)&&n.push({path:d,score:I3(d,s.index),routesMeta:h})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of NT(s.path))i(s,a,c)}),n}function NT(e){let n=e.split("/");if(n.length===0)return[];let[t,...r]=n,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=NT(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function E3(e){e.sort((n,t)=>n.score!==t.score?t.score-n.score:D3(n.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const _3=/^:[\w-]+$/,k3=3,N3=2,j3=1,T3=10,O3=-2,t_=e=>e==="*";function I3(e,n){let t=e.split("/"),r=t.length;return t.some(t_)&&(r+=O3),n&&(r+=N3),t.filter(i=>!t_(i)).reduce((i,s)=>i+(_3.test(s)?k3:s===""?j3:T3),r)}function D3(e,n){return e.length===n.length&&e.slice(0,-1).every((r,i)=>r===n[i])?e[e.length-1]-n[n.length-1]:0}function L3(e,n,t){let{routesMeta:r}=e,i={},s="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=s==="/"?n:n.slice(s.length)||"/",g=R3({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),b=c.route;if(!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:Hh([s,g.pathname]),pathnameBase:B3(Hh([s,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(s=Hh([s,g.pathnameBase]))}return a}function R3(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,r]=M3(e.path,e.caseSensitive,e.end),i=n.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,h,g)=>{let{paramName:b,isOptional:m}=h;if(b==="*"){let y=l[g]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const x=l[g];return m&&!x?d[b]=void 0:d[b]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:e}}function M3(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!0),ET(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),r]}function P3(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return ET(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function jT(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,r=e.charAt(t);return r&&r!=="/"?null:e.slice(t)||"/"}function F3(e,n){n===void 0&&(n="/");let{pathname:t,search:r="",hash:i=""}=typeof e=="string"?Hg(e):e;return{pathname:t?t.startsWith("/")?t:q3(t,n):n,search:U3(r),hash:$3(i)}}function q3(e,n){let t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function N5(e,n,t,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function z3(e){return e.filter((n,t)=>t===0||n.route.path&&n.route.path.length>0)}function TT(e,n){let t=z3(e);return n?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function OT(e,n,t,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Hg(e):(i=pg({},e),Ha(!i.pathname||!i.pathname.includes("?"),N5("?","pathname","search",i)),Ha(!i.pathname||!i.pathname.includes("#"),N5("#","pathname","hash",i)),Ha(!i.search||!i.search.includes("#"),N5("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=t;else{let g=n.length-1;if(!r&&a.startsWith("..")){let b=a.split("/");for(;b[0]==="..";)b.shift(),g-=1;i.pathname=b.join("/")}l=g>=0?n[g]:"/"}let c=F3(i,l),d=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const Hh=e=>e.join("/").replace(/\/\/+/g,"/"),B3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function H3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const IT=["post","put","patch","delete"];new Set(IT);const W3=["get",...IT];new Set(W3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ox.apply(this,arguments)}const j6=K.createContext(null),V3=K.createContext(null),Wg=K.createContext(null),T6=K.createContext(null),Zf=K.createContext({outlet:null,matches:[],isDataRoute:!1}),DT=K.createContext(null);function Vg(){return K.useContext(T6)!=null}function pv(){return Vg()||Ha(!1),K.useContext(T6).location}function LT(e){K.useContext(Wg).static||K.useLayoutEffect(e)}function Ai(){let{isDataRoute:e}=K.useContext(Zf);return e?sM():Y3()}function Y3(){Vg()||Ha(!1);let e=K.useContext(j6),{basename:n,future:t,navigator:r}=K.useContext(Wg),{matches:i}=K.useContext(Zf),{pathname:s}=pv(),a=JSON.stringify(TT(i,t.v7_relativeSplatPath)),l=K.useRef(!1);return LT(()=>{l.current=!0}),K.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let g=OT(d,JSON.parse(a),s,h.relative==="path");e==null&&n!=="/"&&(g.pathname=g.pathname==="/"?n:Hh([n,g.pathname])),(h.replace?r.replace:r.push)(g,h.state,h)},[n,r,a,s,e])}function O6(){let{matches:e}=K.useContext(Zf),n=e[e.length-1];return n?n.params:{}}function G3(e,n){return Q3(e)}function Q3(e,n,t,r){Vg()||Ha(!1);let{navigator:i}=K.useContext(Wg),{matches:s}=K.useContext(Zf),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=pv(),h;h=d;let g=h.pathname||"/",b=g;if(c!=="/"){let y=c.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=A3(e,{pathname:b});return eM(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Hh([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Hh([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,t,r)}function K3(){let e=iM(),n=H3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},n),t?K.createElement("pre",{style:i},t):null,null)}const X3=K.createElement(K3,null);class Z3 extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?K.createElement(Zf.Provider,{value:this.props.routeContext},K.createElement(DT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function J3(e){let{routeContext:n,match:t,children:r}=e,i=K.useContext(j6);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),K.createElement(Zf.Provider,{value:n},r)}function eM(e,n,t,r){var i;if(n===void 0&&(n=[]),t===void 0&&(t=null),r===void 0&&(r=null),e==null){var s;if(!t)return null;if(t.errors)e=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&n.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let a=e,l=(i=t)==null?void 0:i.errors;if(l!=null){let h=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);h>=0||Ha(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(t&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let g=a[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=h),g.route.id){let{loaderData:b,errors:m}=t,x=g.route.loader&&b[g.route.id]===void 0&&(!m||m[g.route.id]===void 0);if(g.route.lazy||x){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,g,b)=>{let m,x=!1,y=null,A=null;t&&(m=l&&g.route.id?l[g.route.id]:void 0,y=g.route.errorElement||X3,c&&(d<0&&b===0?(aM("route-fallback"),x=!0,A=null):d===b&&(x=!0,A=g.route.hydrateFallbackElement||null)));let w=n.concat(a.slice(0,b+1)),C=()=>{let k;return m?k=y:x?k=A:g.route.Component?k=K.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=h,K.createElement(J3,{match:g,routeContext:{outlet:h,matches:w,isDataRoute:t!=null},children:k})};return t&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?K.createElement(Z3,{location:t.location,revalidation:t.revalidation,component:y,error:m,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}var RT=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(RT||{}),MT=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(MT||{});function tM(e){let n=K.useContext(j6);return n||Ha(!1),n}function nM(e){let n=K.useContext(V3);return n||Ha(!1),n}function rM(e){let n=K.useContext(Zf);return n||Ha(!1),n}function PT(e){let n=rM(),t=n.matches[n.matches.length-1];return t.route.id||Ha(!1),t.route.id}function iM(){var e;let n=K.useContext(DT),t=nM(),r=PT();return n!==void 0?n:(e=t.errors)==null?void 0:e[r]}function sM(){let{router:e}=tM(RT.UseNavigateStable),n=PT(MT.UseNavigateStable),t=K.useRef(!1);return LT(()=>{t.current=!0}),K.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ox({fromRouteId:n},s)))},[e,n])}const n_={};function aM(e,n,t){n_[e]||(n_[e]=!0)}function oM(e,n){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function FT(e){let{to:n,replace:t,state:r,relative:i}=e;Vg()||Ha(!1);let{future:s,static:a}=K.useContext(Wg),{matches:l}=K.useContext(Zf),{pathname:c}=pv(),d=Ai(),h=OT(n,TT(l,s.v7_relativeSplatPath),c,i==="path"),g=JSON.stringify(h);return K.useEffect(()=>d(JSON.parse(g),{replace:t,state:r,relative:i}),[d,g,i,t,r]),null}function lM(e){let{basename:n="/",children:t=null,location:r,navigationType:i=qh.Pop,navigator:s,static:a=!1,future:l}=e;Vg()&&Ha(!1);let c=n.replace(/^\/*/,"/"),d=K.useMemo(()=>({basename:c,navigator:s,static:a,future:Ox({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);typeof r=="string"&&(r=Hg(r));let{pathname:h="/",search:g="",hash:b="",state:m=null,key:x="default"}=r,y=K.useMemo(()=>{let A=jT(h,c);return A==null?null:{location:{pathname:A,search:g,hash:b,state:m,key:x},navigationType:i}},[c,h,g,b,m,x,i]);return y==null?null:K.createElement(Wg.Provider,{value:d},K.createElement(T6.Provider,{children:t,value:y}))}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zw(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((n,t)=>{let r=e[t];return n.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function uM(e,n){let t=Zw(e);return n&&n.forEach((r,i)=>{t.has(i)||n.getAll(i).forEach(s=>{t.append(i,s)})}),t}const cM="6";try{window.__reactRouterVersion=cM}catch{}const dM="startTransition",r_=C6[dM];function fM(e){let{basename:n,children:t,future:r,window:i}=e,s=K.useRef();s.current==null&&(s.current=v3({window:i,v5Compat:!0}));let a=s.current,[l,c]=K.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},h=K.useCallback(g=>{d&&r_?r_(()=>c(g)):c(g)},[c,d]);return K.useLayoutEffect(()=>a.listen(h),[a,h]),K.useEffect(()=>oM(r),[r]),K.createElement(lM,{basename:n,children:t,location:l.location,navigationType:l.action,navigator:a,future:r})}var i_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(i_||(i_={}));var s_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(s_||(s_={}));function Yg(e){let n=K.useRef(Zw(e)),t=K.useRef(!1),r=pv(),i=K.useMemo(()=>uM(r.search,t.current?null:n.current),[r.search]),s=Ai(),a=K.useCallback((l,c)=>{const d=Zw(typeof l=="function"?l(i):l);t.current=!0,s("?"+d,c)},[s,i]);return[i,a]}const hM="modulepreload",pM=function(e){return"/nexlab/"+e},a_={},Wi=function(n,t,r){let i=Promise.resolve();if(t&&t.length>0){let a=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=a(t.map(d=>{if(d=pM(d),d in a_)return;a_[d]=!0;const h=d.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const b=document.createElement("link");if(b.rel=h?"stylesheet":hM,h||(b.as="script"),b.crossOrigin="",b.href=d,c&&b.setAttribute("nonce",c),document.head.appendChild(b),h)return new Promise((m,x)=>{b.addEventListener("load",m),b.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return n().catch(s)})};var Zo=(e=>(e.NETWORK="NETWORK",e.AUTHENTICATION="AUTHENTICATION",e.AUTHORIZATION="AUTHORIZATION",e.VALIDATION="VALIDATION",e.NOT_FOUND="NOT_FOUND",e.SERVER_ERROR="SERVER_ERROR",e.UNKNOWN="UNKNOWN",e))(Zo||{});const o_={"auth/user-not-found":{type:"AUTHENTICATION",message:"No user found with this email address."},"auth/wrong-password":{type:"AUTHENTICATION",message:"Incorrect password. Please try again."},"auth/user-disabled":{type:"AUTHORIZATION",message:"This account has been disabled. Please contact support."},"auth/too-many-requests":{type:"NETWORK",message:"Too many failed attempts. Please try again later."},"auth/network-request-failed":{type:"NETWORK",message:"Network error. Please check your connection and try again."},"permission-denied":{type:"AUTHORIZATION",message:"You do not have permission for this action."},"not-found":{type:"NOT_FOUND",message:"The requested resource was not found."},unavailable:{type:"NETWORK",message:"Service is temporarily unavailable. Please try again."}},Fh=class Fh{constructor(){Ke(this,"errorQueue",[]);Ke(this,"maxErrorQueueSize",50)}static getInstance(){return Fh.instance||(Fh.instance=new Fh),Fh.instance}handleError(n,t){const r=this.createAppError(n,t);return this.logError(r),this.queueError(r),r}createAppError(n,t){let r="UNKNOWN",i="An unexpected error occurred.";if(n!=null&&n.code&&o_[n.code]){const s=o_[n.code];r=s.type,i=s.message}else n!=null&&n.message&&(i=n.message,n.message.includes("network")||n.message.includes("fetch")?r="NETWORK":n.message.includes("unauthorized")||n.message.includes("permission")?r="AUTHORIZATION":n.message.includes("not found")?r="NOT_FOUND":n.message.includes("validation")&&(r="VALIDATION"));return{type:r,message:i,originalError:n instanceof Error?n:new Error(String(n)),context:{...t,userAgent:navigator.userAgent,url:window.location.href,timestamp:new Date().toISOString()},timestamp:new Date,userId:t==null?void 0:t.userId}}logError(n){const t=`[${n.type}] ${n.message}`,r={error:n.originalError,context:n.context,timestamp:n.timestamp};switch(n.type){case"NETWORK":case"NOT_FOUND":console.warn(t,r);break;case"AUTHENTICATION":case"AUTHORIZATION":case"VALIDATION":console.error(t,r);break;case"SERVER_ERROR":case"UNKNOWN":console.error(t,r);break}}queueError(n){this.errorQueue.push(n),this.errorQueue.length>this.maxErrorQueueSize&&this.errorQueue.shift()}getErrorQueue(){return[...this.errorQueue]}clearErrorQueue(){this.errorQueue=[]}getUserFriendlyMessage(n){return n.message}shouldRetry(n){return n.type==="NETWORK"}};Ke(Fh,"instance");let mg=Fh;const l_=async(e,n)=>{try{return{data:await e()}}catch(t){return{error:mg.getInstance().handleError(t,n)}}},mM=()=>{const e=mg.getInstance();return{handleError:(i,s)=>e.handleError(i,s),getUserFriendlyMessage:i=>e.getUserFriendlyMessage(i),shouldRetry:i=>e.shouldRetry(i)}};mg.getInstance();class gM{constructor(){Ke(this,"auth",null);Ke(this,"googleProvider",null)}initialize(){this.auth||(Wi(()=>Promise.resolve().then(()=>Ff),void 0),this.auth=r3(),this.googleProvider=new i3)}async signInWithGoogle(n=!0){this.initialize();const t=await l_(async()=>{const r=n?a3:o3;await l3(this.auth,r);const i=await u3(this.auth,this.googleProvider);if(!i.user)throw new Error("No user returned from authentication");return i.user},{operation:"google_sign_in",keepSignedIn:n});if(t.error)throw t.error;return t.data}async signOut(){this.initialize();const n=await l_(async()=>{await c3(this.auth)},{operation:"sign_out"});if(n.error)throw n.error}onAuthStateChanged(n){return this.initialize(),s3(this.auth,n)}getCurrentUser(){return this.initialize(),this.auth.currentUser}getErrorMessage(n){return{"auth/network-request-failed":"Login Failed: Network error, please check your connection.","auth/popup-closed-by-user":"Login Failed: The sign-in popup was closed before completion.","auth/cancelled-popup-request":"Login Failed: Another sign-in request was made before the first one was completed.","auth/popup-blocked":"Login Failed: The sign-in popup was blocked by the browser. Please allow popups for this site.","auth/user-disabled":"Login Failed: This account has been disabled.","auth/user-not-found":"Login Failed: No account found with this email.","auth/wrong-password":"Login Failed: Incorrect password.","auth/too-many-requests":"Login Failed: Too many failed attempts. Please try again later."}[n]||"Login Failed: An unexpected error occurred."}}const qT=new gM;class bM{constructor(){Ke(this,"db",null);Ke(this,"publicCourseId");if(this.publicCourseId="rqoyheM9Lf8jGftIoZyT",!this.publicCourseId)throw new Error("Public course ID is not defined in environment variables.")}initialize(){this.db||(Wi(()=>Promise.resolve().then(()=>Ff),void 0),this.db=Xn())}async getUserDetails(n){this.initialize();try{const t=fn(this.db,"users",n),r=await xa(t);return r.exists()?{...r.data(),uid:n}:null}catch(t){throw console.error("Error fetching user details:",t),new Error("Failed to fetch user details")}}async createUserDocument(n){this.initialize();try{const t=await this.getPublicCourseInfo(),r=fn(this.db,"users",n.uid),i={isAdmin:!1,isSuperAdmin:!1,lastLogin:xc(),classes:{[this.publicCourseId]:t}};return await ST(r,i),{uid:n.uid,isAdmin:!1,isSuperAdmin:!1,lastLogin:xc(),classes:{[this.publicCourseId]:t}}}catch(t){throw console.error("Error creating user document:",t),new Error("Failed to create user document")}}async updateUserLogin(n){this.initialize();try{const t=fn(this.db,"users",n);await Rr(t,{lastLogin:xc()})}catch(t){throw console.error("Error updating user login:",t),new Error("Failed to update user login")}}async refreshUserDetails(n){return this.getUserDetails(n)}subscribeToUserDetails(n,t){this.initialize();const r=fn(this.db,"users",n);return AT(r,i=>{if(i.exists()){const s=i.data();t({...s,uid:n})}else t(null)},i=>{console.error("Error in user details subscription:",i),t(null)})}async ensurePublicCourseAccess(n,t){this.initialize();try{if(t.classes&&t.classes[this.publicCourseId])return t;const r=await this.getPublicCourseInfo(),i=fn(this.db,"users",n);return await Rr(i,{[`classes.${this.publicCourseId}`]:r}),{...t,classes:{...t.classes||{},[this.publicCourseId]:r}}}catch(r){throw console.error("Error ensuring public course access:",r),new Error("Failed to ensure public course access")}}async getPublicCourseInfo(){this.initialize();try{const n=fn(this.db,"courses",this.publicCourseId),t=await xa(n);if(!t.exists())throw new Error("Public course document does not exist in the courses collection!");const r=t.data();if(!r||!r.number||!r.title)throw new Error("Public course data is incomplete or invalid.");return{number:r.number,title:r.title,isCourseAdmin:!1}}catch(n){throw console.error("Error fetching public course info:",n),new Error("Failed to fetch public course information")}}}const Kp=new bM,yM={apiKey:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",authDomain:"nexlab-prod.firebaseapp.com",projectId:"nexlab-prod",storageBucket:"nexlab-prod.firebasestorage.app",messagingSenderId:"922352392986",appId:"1:922352392986:web:6c4d6e16b5e615bd4daaa3"},I6=d3(yM),zT=Xn(I6),xM=Xf(I6),Ff=Object.freeze(Object.defineProperty({__proto__:null,app:I6,db:zT,storage:xM},Symbol.toStringTag,{value:"Module"})),BT=K.createContext(void 0),vM=({children:e})=>{const[n,t]=K.useState(null),[r,i]=K.useState(null),[s,a]=K.useState(!1),[l,c]=K.useState(!0),[d,h]=K.useState(null),g=K.useRef(null);K.useEffect(()=>{const m=qT.onAuthStateChanged(async x=>{c(!0),h(null),g.current&&(g.current(),g.current=null);try{if(x){console.log("User is signed in with UID:",x.uid);let y=await Kp.getUserDetails(x.uid);y?(await Kp.updateUserLogin(x.uid),y=await Kp.ensurePublicCourseAccess(x.uid,y)):(console.log("User document does not exist. Creating a new one..."),y=await Kp.createUserDocument(x)),i(y),a(y.isSuperAdmin||!1);const A=Kp.subscribeToUserDetails(x.uid,w=>{console.log("[UserContext] User details updated in real-time:",{uid:w==null?void 0:w.uid,classesCount:w!=null&&w.classes?Object.keys(w.classes).length:0,classes:w!=null&&w.classes?Object.keys(w.classes):[],timestamp:new Date().toISOString()}),w&&(i(w),a(w.isSuperAdmin||!1))});g.current=A}else i(null),a(!1);t(x)}catch(y){console.error("Error managing user authentication:",y),h(y instanceof Error?y:new Error("Failed to manage user authentication")),t(null),i(null),a(!1)}finally{c(!1)}});return()=>{m(),g.current&&(g.current(),g.current=null)}},[]);const b=async()=>{if(!n){console.warn("No user signed in, cannot refresh user details");return}try{const m=await Kp.refreshUserDetails(n.uid);m?(i(m),a(m.isSuperAdmin||!1)):(console.error("User document does not exist. Unable to refresh user details."),h(new Error("User document not found")))}catch(m){console.error("Error refreshing user details:",m),h(m instanceof Error?m:new Error("Failed to refresh user details"))}};return f.jsx(BT.Provider,{value:{user:n,userDetails:r,setUserDetails:i,refreshUserDetails:b,loading:l,error:d,isSuperAdmin:s},children:e})},Ii=()=>{const e=K.useContext(BT);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e},ao=({element:e})=>{const{userDetails:n,loading:t}=Ii();return t?f.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:f.jsx(Pr,{})}):n?f.jsx(e,{}):f.jsx(FT,{to:"/"})};var e1={},j5={};const wM=n3(pR);var u_;function ks(){return u_||(u_=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=wM}(j5)),j5}var c_;function SM(){if(c_)return e1;c_=1;var e=Es();Object.defineProperty(e1,"__esModule",{value:!0}),e1.default=void 0;var n=e(ks()),t=_s();return e1.default=(0,n.default)((0,t.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),e1}var AM=SM();const UT=Fr(AM);var t1={},d_;function CM(){if(d_)return t1;d_=1;var e=Es();Object.defineProperty(t1,"__esModule",{value:!0}),t1.default=void 0;var n=e(ks()),t=_s();return t1.default=(0,n.default)((0,t.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),t1}var EM=CM();const _M=Fr(EM);let $T=class extends K.Component{constructor(t){super(t);Ke(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r),this.setState({error:t,errorInfo:r}),this.props.onError&&this.props.onError(t,r)}render(){var t;return this.state.hasError?this.props.fallbackComponent?this.props.fallbackComponent:f.jsxs(On,{elevation:3,sx:{p:4,m:2,textAlign:"center",backgroundColor:"#fafafa",border:"1px solid #e0e0e0"},children:[f.jsx(UT,{color:"error",sx:{fontSize:48,mb:2}}),f.jsx(ce,{variant:"h5",gutterBottom:!0,color:"error",children:"Something went wrong"}),f.jsx(ce,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),f.jsxs(be,{sx:{mb:3},children:[f.jsx(at,{variant:"contained",color:"primary",startIcon:f.jsx(_M,{}),onClick:this.handleRetry,sx:{mr:2},children:"Try Again"}),f.jsx(at,{variant:"outlined",color:"primary",onClick:()=>window.location.reload(),children:"Refresh Page"})]}),this.props.showDetails&&this.state.error&&f.jsxs(tr,{severity:"error",sx:{textAlign:"left",mt:2},children:[f.jsx(ce,{variant:"subtitle2",gutterBottom:!0,children:"Error Details:"}),f.jsxs(ce,{variant:"body2",component:"pre",sx:{whiteSpace:"pre-wrap",fontSize:"0.75rem",fontFamily:"monospace"},children:[this.state.error.message,((t=this.state.errorInfo)==null?void 0:t.componentStack)&&f.jsxs(f.Fragment,{children:[`

Component Stack:`,this.state.errorInfo.componentStack]})]})]})]}):this.props.children}};var n1={},f_;function kM(){if(f_)return n1;f_=1;var e=Es();Object.defineProperty(n1,"__esModule",{value:!0}),n1.default=void 0;var n=e(ks()),t=_s();return n1.default=(0,n.default)((0,t.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),n1}var NM=kM();const jM=Fr(NM);var r1={},h_;function TM(){if(h_)return r1;h_=1;var e=Es();Object.defineProperty(r1,"__esModule",{value:!0}),r1.default=void 0;var n=e(ks()),t=_s();return r1.default=(0,n.default)((0,t.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),r1}var OM=TM();const HT=Fr(OM),IM=()=>{const e=Ai();return f.jsxs(On,{elevation:3,sx:{p:4,m:4,textAlign:"center",backgroundColor:"#fafafa",border:"1px solid #e0e0e0",maxWidth:600,mx:"auto",mt:8},children:[f.jsx(UT,{color:"error",sx:{fontSize:64,mb:2}}),f.jsx(ce,{variant:"h4",gutterBottom:!0,color:"error",children:"Page Error"}),f.jsx(ce,{variant:"body1",sx:{mb:4,color:"text.secondary"},children:"This page encountered an error and cannot be displayed. You can try going back to the previous page or return to the home page."}),f.jsxs(be,{sx:{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:[f.jsx(at,{variant:"contained",color:"primary",startIcon:f.jsx(jM,{}),onClick:()=>e("/"),children:"Go to Home"}),f.jsx(at,{variant:"outlined",color:"primary",startIcon:f.jsx(HT,{}),onClick:()=>e(-1),children:"Go Back"}),f.jsx(at,{variant:"outlined",color:"secondary",onClick:()=>window.location.reload(),children:"Refresh Page"})]})]})},WT=({children:e,showDetails:n})=>f.jsx($T,{fallbackComponent:f.jsx(IM,{}),showDetails:n,onError:(t,r)=>{console.error("Route Error:",{error:t.message,stack:t.stack,componentStack:r.componentStack,url:window.location.href,timestamp:new Date().toISOString()})},children:e});class DM{constructor(){Ke(this,"db",null);Ke(this,"cacheKey","messages")}initialize(){this.db||(Wi(()=>Promise.resolve().then(()=>Ff),void 0),this.db=Xn())}subscribeToMessages(n){this.initialize();const t=No(Sn(this.db,"messages"),Ug("postedOn","desc"));return AT(t,r=>{const i=r.docs.map(s=>({id:s.id,...s.data()}));n(i),this.setCachedMessages(i)},r=>{console.error("Error listening to messages:",r);const i=this.getCachedMessages();i&&n(i)})}getCachedMessages(){try{const n=sessionStorage.getItem(this.cacheKey);return n?JSON.parse(n):null}catch(n){return console.error("Error reading cached messages:",n),null}}setCachedMessages(n){try{sessionStorage.setItem(this.cacheKey,JSON.stringify(n))}catch(t){console.error("Error caching messages:",t)}}clearCache(){try{sessionStorage.removeItem(this.cacheKey)}catch(n){console.error("Error clearing message cache:",n)}}async togglePinMessage(n,t){this.initialize();try{const r=fn(this.db,"messages",n);await Rr(r,{isPinned:!t})}catch(r){throw console.error("Error toggling pin status:",r),r}}async deleteMessage(n){try{const t=fn(this.db,"messages",n);await $g(t)}catch(t){throw console.error("Error deleting message:",t),t}}}const yy=new DM,p_=e=>{let n;const t=new Set,r=(d,h)=>{const g=typeof d=="function"?d(n):d;if(!Object.is(g,n)){const b=n;n=h??(typeof g!="object"||g===null)?g:Object.assign({},n,g),t.forEach(m=>m(n,b))}},i=()=>n,l={setState:r,getState:i,getInitialState:()=>c,subscribe:d=>(t.add(d),()=>t.delete(d))},c=n=e(r,i,l);return l},LM=e=>e?p_(e):p_,RM=e=>e;function MM(e,n=RM){const t=tt.useSyncExternalStore(e.subscribe,()=>n(e.getState()),()=>n(e.getInitialState()));return tt.useDebugValue(t),t}const m_=e=>{const n=LM(e),t=r=>MM(n,r);return Object.assign(t,n),t},lp=e=>e?m_(e):m_,PM=()=>Math.random().toString(36).substr(2,9),FM=e=>{switch(e){case Zo.NETWORK:return"";case Zo.AUTHENTICATION:return"";case Zo.AUTHORIZATION:return"";case Zo.VALIDATION:return"";case Zo.NOT_FOUND:return"";case Zo.SERVER_ERROR:return"";default:return""}},qM=e=>{switch(e){case Zo.NETWORK:return 8e3;case Zo.AUTHENTICATION:case Zo.AUTHORIZATION:return 1e4;case Zo.VALIDATION:return 6e3;case Zo.NOT_FOUND:return 5e3;default:return 7e3}},VT=lp((e,n)=>({notifications:[],addNotification:t=>{const r={...t,id:PM(),timestamp:new Date,duration:t.duration??5e3};e(i=>({notifications:[...i.notifications,r]})),r.duration>0&&setTimeout(()=>{n().removeNotification(r.id)},r.duration)},removeNotification:t=>{e(r=>({notifications:r.notifications.filter(i=>i.id!==t)}))},clearAll:()=>{e({notifications:[]})},showError:(t,r)=>{const i=FM(t.type),s=qM(t.type),a=[];t.type===Zo.NETWORK&&a.push({label:"Retry",action:()=>{console.log("Retry requested for:",t)},primary:!0}),n().addNotification({type:"error",title:`${i} ${t.type.replace("_"," ")} Error`,message:t.message,duration:s,actions:r||a,error:t})},showSuccess:(t,r)=>{n().addNotification({type:"success",title:r||" Success",message:t,duration:4e3})},showWarning:(t,r)=>{n().addNotification({type:"warning",title:r||" Warning",message:t,duration:6e3})},showInfo:(t,r)=>{n().addNotification({type:"info",title:r||" Info",message:t,duration:5e3})}})),zM=()=>{const[e,n]=K.useState([]),[t,r]=K.useState(!0),[i,s]=K.useState(null),{handleError:a}=mM(),{showError:l,showSuccess:c}=VT();return K.useEffect(()=>{const b=yy.getCachedMessages();b&&(n(b),r(!1));const m=yy.subscribeToMessages(x=>{n(x),s(null),b||r(!1)});return()=>{m()}},[]),{messages:e,loading:t,error:i,deleteMessage:async b=>{try{await yy.deleteMessage(b),c("Message deleted successfully")}catch(m){const x=a(m,{operation:"delete_message",messageId:b});s(x.message),l(x)}},togglePinMessage:async(b,m)=>{try{await yy.togglePinMessage(b,m),c(`Message ${m?"unpinned":"pinned"} successfully`)}catch(x){const y=a(x,{operation:"toggle_pin_message",messageId:b,currentPinStatus:m});s(y.message),l(y)}},clearError:()=>{s(null)}}},Nl=({title:e,onClick:n,disabled:t=!1,disabledTooltip:r,lockIcon:i=!1,className:s="menu-item"})=>{const a=f.jsx(lo,{className:s,children:f.jsx(mR,{onClick:n,disabled:t,children:f.jsx(Jo,{children:f.jsxs(ce,{className:"menu-item-typography",variant:"h6",component:"div",sx:t?{color:"#9e9e9e",opacity:.5}:{},children:[e,i&&f.jsx("span",{style:{marginLeft:8},children:""})]})})})});return t&&r?f.jsx(na,{title:r,children:f.jsx("span",{children:a})}):a},BM=({userDetails:e})=>{const n=Ai(),t=e&&!e.isAdmin&&(!e.classes||Object.keys(e.classes).length===0);return f.jsxs(f.Fragment,{children:[f.jsx(bt,{item:!0,xs:12,children:f.jsx(Nl,{title:"My Account",onClick:()=>n("/my-profile")})}),f.jsx(bt,{item:!0,xs:12,children:f.jsx(Nl,{title:"Laboratory Notebook",onClick:()=>n("/laboratory-notebooks"),disabled:t,disabledTooltip:"The Laboratory Notebook is accessible to users enrolled in an academic course. Please enroll in a course via 'My Account' by following the instructions provided by your academic instructor.",lockIcon:t})}),f.jsx(bt,{item:!0,xs:12,children:f.jsx(Nl,{title:"Course Materials",onClick:()=>n("/supplemental-materials")})})]})},g_={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"ce5f7921-a3a0-4ea7-b95f-10fe41becda5",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},gg=new Map,xy=e=>{const n=gg.get(e);return n?Object.fromEntries(Object.entries(n.stores).map(([t,r])=>[t,r.getState()])):{}},UM=(e,n,t)=>{if(e===void 0)return{type:"untracked",connection:n.connect(t)};const r=gg.get(t.name);if(r)return{type:"tracked",store:e,...r};const i={connection:n.connect(t),stores:{}};return gg.set(t.name,i),{type:"tracked",store:e,...i}},$M=(e,n)=>{if(n===void 0)return;const t=gg.get(e);t&&(delete t.stores[n],Object.keys(t.stores).length===0&&gg.delete(e))},HM=e=>{var n,t;if(!e)return;const r=e.split(`
`),i=r.findIndex(a=>a.includes("api.setState"));if(i<0)return;const s=((n=r[i+1])==null?void 0:n.trim())||"";return(t=/.+ (.+) .+/.exec(s))==null?void 0:t[1]},WM=(e,n={})=>(t,r,i)=>{const{enabled:s,anonymousActionType:a,store:l,...c}=n;let d;try{d=(s??(g_?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!d)return e(t,r,i);const{connection:h,...g}=UM(l,d,c);let b=!0;i.setState=(y,A,w)=>{const C=t(y,A);if(!b)return C;const k=w===void 0?{type:a||HM(new Error().stack)||"anonymous"}:typeof w=="string"?{type:w}:w;return l===void 0?(h==null||h.send(k,r()),C):(h==null||h.send({...k,type:`${l}/${k.type}`},{...xy(c.name),[l]:i.getState()}),C)},i.devtools={cleanup:()=>{h&&typeof h.unsubscribe=="function"&&h.unsubscribe(),$M(c.name,l)}};const m=(...y)=>{const A=b;b=!1,t(...y),b=A},x=e(i.setState,r,i);if(g.type==="untracked"?h==null||h.init(x):(g.stores[g.store]=i,h==null||h.init(Object.fromEntries(Object.entries(g.stores).map(([y,A])=>[y,y===g.store?x:A.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let y=!1;const A=i.dispatch;i.dispatch=(...w)=>{(g_?"production":void 0)!=="production"&&w[0].type==="__setState"&&!y&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),y=!0),A(...w)}}return h.subscribe(y=>{var A;switch(y.type){case"ACTION":if(typeof y.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return T5(y.payload,w=>{if(w.type==="__setState"){if(l===void 0){m(w.state);return}Object.keys(w.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const C=w.state[l];if(C==null)return;JSON.stringify(i.getState())!==JSON.stringify(C)&&m(C);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(w)});case"DISPATCH":switch(y.payload.type){case"RESET":return m(x),l===void 0?h==null?void 0:h.init(i.getState()):h==null?void 0:h.init(xy(c.name));case"COMMIT":if(l===void 0){h==null||h.init(i.getState());return}return h==null?void 0:h.init(xy(c.name));case"ROLLBACK":return T5(y.state,w=>{if(l===void 0){m(w),h==null||h.init(i.getState());return}m(w[l]),h==null||h.init(xy(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return T5(y.state,w=>{if(l===void 0){m(w);return}JSON.stringify(i.getState())!==JSON.stringify(w[l])&&m(w[l])});case"IMPORT_STATE":{const{nextLiftedState:w}=y.payload,C=(A=w.computedStates.slice(-1)[0])==null?void 0:A.state;if(!C)return;m(l===void 0?C:C[l]),h==null||h.send(null,w);return}case"PAUSE_RECORDING":return b=!b}return}}),x},tm=WM,T5=(e,n)=>{let t;try{t=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}t!==void 0&&n(t)};function VM(e,n){let t;try{t=e()}catch{return}return{getItem:i=>{var s;const a=c=>c===null?null:JSON.parse(c,void 0),l=(s=t.getItem(i))!=null?s:null;return l instanceof Promise?l.then(a):a(l)},setItem:(i,s)=>t.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>t.removeItem(i)}}const Jw=e=>n=>{try{const t=e(n);return t instanceof Promise?t:{then(r){return Jw(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return Jw(r)(t)}}}},YM=(e,n)=>(t,r,i)=>{let s={storage:VM(()=>localStorage),partialize:y=>y,version:0,merge:(y,A)=>({...A,...y}),...n},a=!1;const l=new Set,c=new Set;let d=s.storage;if(!d)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...y)},r,i);const h=()=>{const y=s.partialize({...r()});return d.setItem(s.name,{state:y,version:s.version})},g=i.setState;i.setState=(y,A)=>{g(y,A),h()};const b=e((...y)=>{t(...y),h()},r,i);i.getInitialState=()=>b;let m;const x=()=>{var y,A;if(!d)return;a=!1,l.forEach(C=>{var k;return C((k=r())!=null?k:b)});const w=((A=s.onRehydrateStorage)==null?void 0:A.call(s,(y=r())!=null?y:b))||void 0;return Jw(d.getItem.bind(d))(s.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==s.version){if(s.migrate){const k=s.migrate(C.state,C.version);return k instanceof Promise?k.then(R=>[!0,R]):[!0,k]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var k;const[R,q]=C;if(m=s.merge(q,(k=r())!=null?k:b),t(m,!0),R)return h()}).then(()=>{w==null||w(m,void 0),m=r(),a=!0,c.forEach(C=>C(m))}).catch(C=>{w==null||w(void 0,C)})};return i.persist={setOptions:y=>{s={...s,...y},y.storage&&(d=y.storage)},clearStorage:()=>{d==null||d.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>x(),hasHydrated:()=>a,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},s.skipHydration||x(),m||b},mv=YM,YT=lp()(tm(mv((e,n)=>({globalLoading:!1,pageLoading:{},openDialogs:{},currentPage:"/",previousPage:null,navigationSections:{educatorExpanded:!1,superAdminExpanded:!1},sidebarCollapsed:!1,theme:"light",setGlobalLoading:t=>e({globalLoading:t}),setPageLoading:(t,r)=>e(i=>({pageLoading:{...i.pageLoading,[t]:r}})),openDialog:t=>e(r=>({openDialogs:{...r.openDialogs,[t]:!0}})),closeDialog:t=>e(r=>({openDialogs:{...r.openDialogs,[t]:!1}})),toggleDialog:t=>e(r=>({openDialogs:{...r.openDialogs,[t]:!r.openDialogs[t]}})),isDialogOpen:t=>!!n().openDialogs[t],setCurrentPage:t=>e(r=>({currentPage:t,previousPage:r.currentPage})),toggleEducatorSection:()=>e(t=>({navigationSections:{...t.navigationSections,educatorExpanded:!t.navigationSections.educatorExpanded}})),toggleSuperAdminSection:()=>e(t=>({navigationSections:{...t.navigationSections,superAdminExpanded:!t.navigationSections.superAdminExpanded}})),setEducatorSectionExpanded:t=>e(r=>({navigationSections:{...r.navigationSections,educatorExpanded:t}})),setSuperAdminSectionExpanded:t=>e(r=>({navigationSections:{...r.navigationSections,superAdminExpanded:t}})),setSidebarCollapsed:t=>e({sidebarCollapsed:t}),toggleSidebar:()=>e(t=>({sidebarCollapsed:!t.sidebarCollapsed})),setTheme:t=>e({theme:t}),toggleTheme:()=>e(t=>({theme:t.theme==="light"?"dark":"light"}))}),{name:"ui-preferences",partialize:e=>({sidebarCollapsed:e.sidebarCollapsed,theme:e.theme,navigationSections:e.navigationSections})}))),GM=()=>{const e=Ai(),{navigationSections:n,toggleEducatorSection:t}=YT(),r=n.educatorExpanded;return f.jsx(f.Fragment,{children:f.jsxs(bt,{item:!0,xs:12,children:[f.jsx($a,{sx:{my:2}}),f.jsxs(be,{sx:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",py:1.5,px:2,mx:1,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},borderRadius:2,transition:"background-color 0.2s"},onClick:t,children:[f.jsx(ce,{className:"general-menu-title",variant:"h6",component:"h2",sx:{flexGrow:1,textAlign:"center"},children:"Educator Access"}),f.jsx(mn,{size:"small",sx:{ml:2,p:.5,color:"primary.main","&:hover":{backgroundColor:"primary.light",color:"primary.contrastText"}},"aria-label":r?"collapse educator section":"expand educator section",children:r?f.jsx(dv,{fontSize:"small"}):f.jsx(Rl,{fontSize:"small"})})]}),f.jsx(fv,{in:r,timeout:"auto",unmountOnExit:!0,children:f.jsxs(be,{sx:{mt:2,px:1},children:[f.jsx(Nl,{title:"Course Management",onClick:()=>e("/course-management")}),f.jsx(be,{sx:{mt:1},children:f.jsx(Nl,{title:"Chatbot Management",onClick:()=>e("/chatbot-management")})})]})})]})})},QM=()=>{const e=Ai(),{navigationSections:n,toggleSuperAdminSection:t}=YT(),r=n.superAdminExpanded;return f.jsx(f.Fragment,{children:f.jsxs(bt,{item:!0,xs:12,children:[f.jsx($a,{sx:{my:2}}),f.jsxs(be,{sx:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",py:1.5,px:2,mx:1,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},borderRadius:2,transition:"background-color 0.2s"},onClick:t,children:[f.jsx(ce,{className:"general-menu-title",variant:"h6",component:"h2",sx:{flexGrow:1,textAlign:"center"},children:"Super-Admin Access"}),f.jsx(mn,{size:"small",sx:{ml:2,p:.5,color:"primary.main","&:hover":{backgroundColor:"primary.light",color:"primary.contrastText"}},"aria-label":r?"collapse super-admin section":"expand super-admin section",children:r?f.jsx(dv,{fontSize:"small"}):f.jsx(Rl,{fontSize:"small"})})]}),f.jsx(fv,{in:r,timeout:"auto",unmountOnExit:!0,children:f.jsxs(be,{sx:{mt:2,px:1},children:[f.jsx(Nl,{title:"User Management",onClick:()=>e("/user-management")}),f.jsx(be,{sx:{mt:1},children:f.jsx(Nl,{title:"Course Management",onClick:()=>e("/super-admin-course-management")})}),f.jsx(be,{sx:{mt:1},children:f.jsx(Nl,{title:"Educator Requests",onClick:()=>e("/educator-requests")})}),f.jsx(be,{sx:{mt:1},children:f.jsx(Nl,{title:"Course Requests",onClick:()=>e("/course-requests")})}),f.jsx(be,{sx:{mt:1},children:f.jsx(Nl,{title:"Chatbot Requests",onClick:()=>e("/super-admin-chatbot-requests")})}),f.jsx(be,{sx:{mt:1},children:f.jsx(Nl,{title:"Chatbot Conversations",onClick:()=>e("/chatbot-conversations")})}),f.jsx(be,{sx:{mt:1},children:f.jsx(Nl,{title:"Quiz Management",onClick:()=>e("/quiz-management")})})]})})]})})},KM=({userDetails:e,isSuperAdmin:n})=>f.jsx(be,{className:"menu-container",children:f.jsxs(bt,{container:!0,spacing:2,justifyContent:"center",children:[f.jsx(BM,{userDetails:e}),(e==null?void 0:e.isAdmin)&&f.jsx(GM,{}),n&&f.jsx(QM,{})]})});var i1={},b_;function XM(){if(b_)return i1;b_=1;var e=Es();Object.defineProperty(i1,"__esModule",{value:!0}),i1.default=void 0;var n=e(ks()),t=_s();return i1.default=(0,n.default)((0,t.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H4V8l8 5 8-5zm-8-7L4 6h16z"}),"MailOutline"),i1}var ZM=XM();const JM=Fr(ZM);var s1={},y_;function eP(){if(y_)return s1;y_=1;var e=Es();Object.defineProperty(s1,"__esModule",{value:!0}),s1.default=void 0;var n=e(ks()),t=_s();return s1.default=(0,n.default)((0,t.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),s1}var tP=eP();const eg=Fr(tP);var a1={},x_;function nP(){if(x_)return a1;x_=1;var e=Es();Object.defineProperty(a1,"__esModule",{value:!0}),a1.default=void 0;var n=e(ks()),t=_s();return a1.default=(0,n.default)((0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),a1}var rP=nP();const nm=Fr(rP),v_=({messageId:e,onDelete:n})=>{const[t,r]=K.useState(!1),i=Xn(),s=()=>{r(!0)},a=()=>{r(!1)},l=async()=>{try{await $g(fn(i,"messages",e)),n(e),a()}catch(c){console.error("Error deleting message: ",c)}};return f.jsxs(f.Fragment,{children:[f.jsx(mn,{onClick:s,children:f.jsx(nm,{})}),f.jsxs(Yi,{open:t,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[f.jsx(us,{id:"alert-dialog-title",children:"Confirm Delete"}),f.jsx(Gi,{children:f.jsx(Oo,{id:"alert-dialog-description",children:"Are you sure you want to delete this message? This action cannot be undone."})}),f.jsxs(cs,{children:[f.jsx(at,{onClick:a,color:"primary",children:"Cancel"}),f.jsx(at,{onClick:l,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})};var o1={},w_;function iP(){if(w_)return o1;w_=1;var e=Es();Object.defineProperty(o1,"__esModule",{value:!0}),o1.default=void 0;var n=e(ks()),t=_s();return o1.default=(0,n.default)((0,t.jsx)("path",{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3"}),"PushPin"),o1}var sP=iP();const GT=Fr(sP),S_=({message:e,togglePinMessage:n})=>{const t=async()=>{try{await n(e.id,e.isPinned||!1)}catch(r){console.error("Error updating pin status: ",r)}};return f.jsx(mn,{onClick:t,sx:{marginRight:1},children:f.jsx(GT,{color:e.isPinned?"primary":"inherit"})})};var l1={},A_;function aP(){if(A_)return l1;A_=1;var e=Es();Object.defineProperty(l1,"__esModule",{value:!0}),l1.default=void 0;var n=e(ks()),t=_s();return l1.default=(0,n.default)((0,t.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),l1}var oP=aP();const Ix=Fr(oP),Tf=e=>e?typeof e=="object"&&"toDate"in e?e.toDate().toLocaleString():typeof e=="object"&&"seconds"in e?new Date(e.seconds*1e3).toLocaleString():"N/A":"No data available",lP=({messages:e,userDetails:n,navigate:t,handleDeleteMessage:r,togglePinMessage:i})=>{const[s,a]=K.useState(0),l=3,c=e.filter(k=>(n==null?void 0:n.classes)&&k.course in n.classes),d=c.filter(k=>k.isPinned),h=c.filter(k=>!k.isPinned),g=(s+1)*l,b=g-l,m=h.slice(b,g),x=Math.ceil(h.length/l),y=()=>a(k=>k+1),A=()=>a(k=>k-1),w=k=>{var R,q;return!!(n!=null&&n.isSuperAdmin||(q=(R=n==null?void 0:n.classes)==null?void 0:R[k.course])!=null&&q.isCourseAdmin)},C=k=>{var q;const R=(q=n==null?void 0:n.classes)==null?void 0:q[k];return R?`${R.number}`:"Unknown Course"};return f.jsxs(be,{className:"messages-display-container",children:[" ",d.length>0&&f.jsxs(On,{elevation:3,sx:{mb:3,p:2,backgroundColor:"#FBFADA",borderRadius:"15px"},children:[f.jsxs(be,{className:"pinned-section",children:[f.jsx(GT,{color:"primary",sx:{mr:1}}),f.jsx(ce,{variant:"h6",className:"pinned-title",children:"Pinned"})]}),d.map(k=>f.jsx(lo,{className:"messages-card",children:f.jsxs(gu,{children:[f.jsx(bu,{expandIcon:f.jsx(Ix,{}),"aria-controls":`panel-${k.id}-content`,id:`panel-${k.id}-header`,children:f.jsxs(bt,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[f.jsxs(bt,{item:!0,children:[f.jsxs(be,{display:"flex",alignItems:"center",children:[f.jsx($n,{label:C(k.course),color:"primary",variant:"outlined",className:"message-chip",sx:{marginRight:1}}),f.jsxs(ce,{variant:"subtitle2",className:"message-posted-on",children:["Posted On: ",Tf(k.postedOn)," |"]}),k.lastUpdatedOn&&f.jsxs(ce,{variant:"subtitle2",className:"message-updated-on",children:["| Last Updated: ",Tf(k.lastUpdatedOn)]})]}),f.jsxs(ce,{variant:"h6",className:"message-title",children:["Subject: ",k.title]})]}),w(k)&&f.jsxs(bt,{item:!0,children:[f.jsx(S_,{message:k,togglePinMessage:i}),f.jsx(mn,{onClick:()=>t(`/edit-message/${k.id}`),sx:{marginRight:1},children:f.jsx(eg,{})}),f.jsx(v_,{messageId:k.id,onDelete:r})]})]})}),f.jsx(yu,{children:f.jsxs(be,{sx:{border:"1px solid #e0e0e0",padding:"20px",borderRadius:"4px",backgroundColor:"#fafafa",marginBottom:"16px"},children:[f.jsx(ce,{variant:"body1",className:"message-description",children:k.description}),k.links&&k.links.some(R=>R.title&&R.url)&&f.jsxs(be,{sx:{mt:1},children:[f.jsx(ce,{variant:"subtitle2",className:"message-links-title",children:"Links:"}),k.links.map((R,q)=>R.title&&R.url&&f.jsxs(be,{sx:{mt:1},children:[f.jsxs(ce,{variant:"body2",component:"span",className:"message-link",children:[" ",R.title,": "]}),f.jsx(fg,{href:R.url,target:"_blank",rel:"noopener",children:R.url})]},q))]})]})})]})},k.id))]}),f.jsx(On,{elevation:3,sx:{mb:3,p:2,backgroundColor:"#f5f5f5",borderRadius:"15px"},children:m.map(k=>f.jsx(lo,{className:"messages-card",children:f.jsxs(gu,{children:[f.jsx(bu,{expandIcon:f.jsx(Ix,{}),"aria-controls":`panel-${k.id}-content`,id:`panel-${k.id}-header`,children:f.jsxs(bt,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[f.jsxs(bt,{item:!0,children:[f.jsxs(be,{display:"flex",alignItems:"center",children:[f.jsx($n,{label:C(k.course),color:"primary",variant:"outlined",className:"message-chip",sx:{marginRight:1}}),f.jsxs(ce,{variant:"subtitle2",className:"message-posted-on",children:["Posted On: ",Tf(k.postedOn)]}),k.lastUpdatedOn&&f.jsxs(ce,{variant:"subtitle2",className:"message-updated-on",children:["Last Updated: ",Tf(k.lastUpdatedOn)]})]}),f.jsxs(ce,{variant:"h6",className:"message-title",children:["Subject: ",k.title]})]}),w(k)&&f.jsxs(bt,{item:!0,children:[f.jsx(S_,{message:k,togglePinMessage:i}),f.jsx(mn,{onClick:()=>t(`/edit-message/${k.id}`),sx:{marginRight:1},children:f.jsx(eg,{})}),f.jsx(v_,{messageId:k.id,onDelete:r})]})]})}),f.jsx(yu,{children:f.jsxs(be,{sx:{border:"1px solid #e0e0e0",padding:"20px",borderRadius:"4px",backgroundColor:"#fafafa",marginBottom:"16px"},children:[f.jsx(ce,{variant:"body1",className:"message-description",children:k.description}),k.links&&k.links.some(R=>R.title&&R.url)&&f.jsxs(be,{sx:{mt:1},children:[f.jsx(ce,{variant:"subtitle2",className:"message-links-title",children:"Links:"}),k.links.map((R,q)=>R.title&&R.url&&f.jsxs(be,{sx:{mt:1},children:[f.jsxs(ce,{variant:"body2",component:"span",className:"message-link",children:[" ",R.title,": "]}),f.jsx(fg,{href:R.url,target:"_blank",rel:"noopener",children:R.url})]},q))]})]})})]})},k.id))}),f.jsxs(be,{className:"pagination-container",children:[" ",f.jsx(at,{onClick:A,disabled:s===0,className:"pagination-button",children:"Previous"}),f.jsx(at,{onClick:y,disabled:s>=x-1,className:"pagination-button",children:"Next"})]})]})},uP=({messages:e,loading:n,userDetails:t,handleDeleteMessage:r,togglePinMessage:i})=>{const s=Ai();return f.jsxs(be,{className:"messages-container",children:[f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[f.jsxs(be,{sx:{display:"flex",alignItems:"center"},children:[f.jsx(JM,{sx:{mr:1}}),f.jsx(ce,{variant:"h5",component:"h4",className:"inbox-text",children:"Inbox"})]}),(t==null?void 0:t.isAdmin)&&f.jsx(at,{variant:"contained",onClick:()=>s("/add-message"),sx:{backgroundColor:"#CDDAFF",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",border:"0px solid #0B53C0"}},children:"+ Add Message"})]}),n?f.jsx(be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px"},children:f.jsx(Pr,{})}):f.jsx(lP,{messages:e,userDetails:t,navigate:s,handleDeleteMessage:r,togglePinMessage:i})]})},cP=()=>{const{userDetails:e,isSuperAdmin:n}=Ii(),[t,r]=K.useState(!1),{messages:i,loading:s,deleteMessage:a,togglePinMessage:l}=zM(),c=(h,g)=>{g!=="clickaway"&&r(!1)},d=h=>{a(h)};return f.jsxs(be,{sx:{flexGrow:1,padding:3},children:[f.jsxs(bt,{container:!0,spacing:3,children:[f.jsx(bt,{item:!0,xs:12,md:3,children:f.jsx(KM,{userDetails:e,isSuperAdmin:n})}),f.jsx(bt,{item:!0,xs:12,md:9,children:f.jsx(uP,{messages:i,loading:s,userDetails:e,handleDeleteMessage:d,togglePinMessage:l})})]}),f.jsx(fo,{open:t,autoHideDuration:6e3,onClose:c,children:f.jsx(tr,{onClose:c,severity:"success",sx:{width:"100%"},children:"User ID copied to clipboard!"})})]})};let vy;const dP=new Uint8Array(16);function fP(){if(!vy&&(vy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!vy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vy(dP)}const pa=[];for(let e=0;e<256;++e)pa.push((e+256).toString(16).slice(1));function hP(e,n=0){return pa[e[n+0]]+pa[e[n+1]]+pa[e[n+2]]+pa[e[n+3]]+"-"+pa[e[n+4]]+pa[e[n+5]]+"-"+pa[e[n+6]]+pa[e[n+7]]+"-"+pa[e[n+8]]+pa[e[n+9]]+"-"+pa[e[n+10]]+pa[e[n+11]]+pa[e[n+12]]+pa[e[n+13]]+pa[e[n+14]]+pa[e[n+15]]}const pP=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),C_={randomUUID:pP};function Pa(e,n,t){if(C_.randomUUID&&!e)return C_.randomUUID();e=e||{};const r=e.random||(e.rng||fP)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,hP(r)}var E_;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(E_||(E_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var __;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(__||(__={}));var k_;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(k_||(k_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=["user","model","function","system"];var j_;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(j_||(j_={}));var T_;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(T_||(T_={}));var O_;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(O_||(O_={}));var I_;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(I_||(I_={}));var tg;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(tg||(tg={}));var D_;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(D_||(D_={}));var L_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(L_||(L_={}));var R_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(R_||(R_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends Error{constructor(n){super(`[GoogleGenerativeAI Error]: ${n}`)}}class Xp extends Fa{constructor(n,t){super(n),this.response=t}}class QT extends Fa{constructor(n,t,r,i){super(n),this.status=t,this.statusText=r,this.errorDetails=i}}class qf extends Fa{}class KT extends Fa{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="https://generativelanguage.googleapis.com",gP="v1beta",bP="0.24.1",yP="genai-js";var Jh;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Jh||(Jh={}));class xP{constructor(n,t,r,i,s){this.model=n,this.task=t,this.apiKey=r,this.stream=i,this.requestOptions=s}toString(){var n,t;const r=((n=this.requestOptions)===null||n===void 0?void 0:n.apiVersion)||gP;let s=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||mP}/${r}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function vP(e){const n=[];return e!=null&&e.apiClient&&n.push(e.apiClient),n.push(`${yP}/${bP}`),n.join(" ")}async function wP(e){var n;const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",vP(e.requestOptions)),t.append("x-goog-api-key",e.apiKey);let r=(n=e.requestOptions)===null||n===void 0?void 0:n.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new qf(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,s]of r.entries()){if(i==="x-goog-api-key")throw new qf(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new qf(`Header name ${i} can only be set using the apiClient field`);t.append(i,s)}}return t}async function SP(e,n,t,r,i,s){const a=new xP(e,n,t,r,s);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},_P(s)),{method:"POST",headers:await wP(a),body:i})}}async function Gg(e,n,t,r,i,s={},a=fetch){const{url:l,fetchOptions:c}=await SP(e,n,t,r,i,s);return AP(l,c,a)}async function AP(e,n,t=fetch){let r;try{r=await t(e,n)}catch(i){CP(i,e)}return r.ok||await EP(r,e),r}function CP(e,n){let t=e;throw t.name==="AbortError"?(t=new KT(`Request aborted when fetching ${n.toString()}: ${e.message}`),t.stack=e.stack):e instanceof QT||e instanceof qf||(t=new Fa(`Error fetching from ${n.toString()}: ${e.message}`),t.stack=e.stack),t}async function EP(e,n){let t="",r;try{const i=await e.json();t=i.error.message,i.error.details&&(t+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new QT(`Error fetching from ${n.toString()}: [${e.status} ${e.statusText}] ${t}`,e.status,e.statusText,r)}function _P(e){const n={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const t=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>t.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{t.abort()}),n.signal=t.signal}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),ex(e.candidates[0]))throw new Xp(`${_f(e)}`,e);return kP(e)}else if(e.promptFeedback)throw new Xp(`Text not available. ${_f(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),ex(e.candidates[0]))throw new Xp(`${_f(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),M_(e)[0]}else if(e.promptFeedback)throw new Xp(`Function call not available. ${_f(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),ex(e.candidates[0]))throw new Xp(`${_f(e)}`,e);return M_(e)}else if(e.promptFeedback)throw new Xp(`Function call not available. ${_f(e)}`,e)},e}function kP(e){var n,t,r,i;const s=[];if(!((t=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||t===void 0)&&t.parts)for(const a of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)a.text&&s.push(a.text),a.executableCode&&s.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&s.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function M_(e){var n,t,r,i;const s=[];if(!((t=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||t===void 0)&&t.parts)for(const a of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)a.functionCall&&s.push(a.functionCall);if(s.length>0)return s}const NP=[tg.RECITATION,tg.SAFETY,tg.LANGUAGE];function ex(e){return!!e.finishReason&&NP.includes(e.finishReason)}function _f(e){var n,t,r;let i="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)i+="Response was blocked",!((n=e.promptFeedback)===null||n===void 0)&&n.blockReason&&(i+=` due to ${e.promptFeedback.blockReason}`),!((t=e.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const s=e.candidates[0];ex(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function bg(e){return this instanceof bg?(this.v=e,this):new bg(e)}function jP(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(b){r[b]&&(i[b]=function(m){return new Promise(function(x,y){s.push([b,m,x,y])>1||l(b,m)})})}function l(b,m){try{c(r[b](m))}catch(x){g(s[0][3],x)}}function c(b){b.value instanceof bg?Promise.resolve(b.value.v).then(d,h):g(s[0][2],b)}function d(b){l("next",b)}function h(b){l("throw",b)}function g(b,m){b(m),s.shift(),s.length&&l(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function TP(e){const n=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=DP(n),[r,i]=t.tee();return{stream:IP(r),response:OP(i)}}async function OP(e){const n=[],t=e.getReader();for(;;){const{done:r,value:i}=await t.read();if(r)return D6(LP(n));n.push(i)}}function IP(e){return jP(this,arguments,function*(){const t=e.getReader();for(;;){const{value:r,done:i}=yield bg(t.read());if(i)break;yield yield bg(D6(r))}})}function DP(e){const n=e.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return n.read().then(({value:a,done:l})=>{if(l){if(i.trim()){r.error(new Fa("Failed to parse stream"));return}r.close();return}i+=a;let c=i.match(P_),d;for(;c;){try{d=JSON.parse(c[1])}catch{r.error(new Fa(`Error parsing JSON response: "${c[1]}"`));return}r.enqueue(d),i=i.substring(c[0].length),c=i.match(P_)}return s()}).catch(a=>{let l=a;throw l.stack=a.stack,l.name==="AbortError"?l=new KT("Request aborted when reading from the stream"):l=new Fa("Error reading from the stream"),l})}}})}function LP(e){const n=e[e.length-1],t={promptFeedback:n==null?void 0:n.promptFeedback};for(const r of e){if(r.candidates){let i=0;for(const s of r.candidates)if(t.candidates||(t.candidates=[]),t.candidates[i]||(t.candidates[i]={index:i}),t.candidates[i].citationMetadata=s.citationMetadata,t.candidates[i].groundingMetadata=s.groundingMetadata,t.candidates[i].finishReason=s.finishReason,t.candidates[i].finishMessage=s.finishMessage,t.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){t.candidates[i].content||(t.candidates[i].content={role:s.content.role||"user",parts:[]});const a={};for(const l of s.content.parts)l.text&&(a.text=l.text),l.functionCall&&(a.functionCall=l.functionCall),l.executableCode&&(a.executableCode=l.executableCode),l.codeExecutionResult&&(a.codeExecutionResult=l.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),t.candidates[i].content.parts.push(a)}i++}r.usageMetadata&&(t.usageMetadata=r.usageMetadata)}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XT(e,n,t,r){const i=await Gg(n,Jh.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(t),r);return TP(i)}async function ZT(e,n,t,r){const s=await(await Gg(n,Jh.GENERATE_CONTENT,e,!1,JSON.stringify(t),r)).json();return{response:D6(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function yg(e){let n=[];if(typeof e=="string")n=[{text:e}];else for(const t of e)typeof t=="string"?n.push({text:t}):n.push(t);return RP(n)}function RP(e){const n={role:"user",parts:[]},t={role:"function",parts:[]};let r=!1,i=!1;for(const s of e)"functionResponse"in s?(t.parts.push(s),i=!0):(n.parts.push(s),r=!0);if(r&&i)throw new Fa("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new Fa("No content is provided for sending chat message.");return r?n:t}function MP(e,n){var t;let r={model:n==null?void 0:n.model,generationConfig:n==null?void 0:n.generationConfig,safetySettings:n==null?void 0:n.safetySettings,tools:n==null?void 0:n.tools,toolConfig:n==null?void 0:n.toolConfig,systemInstruction:n==null?void 0:n.systemInstruction,cachedContent:(t=n==null?void 0:n.cachedContent)===null||t===void 0?void 0:t.name,contents:[]};const i=e.generateContentRequest!=null;if(e.contents){if(i)throw new qf("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(i)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const s=yg(e);r.contents=[s]}return{generateContentRequest:r}}function F_(e){let n;return e.contents?n=e:n={contents:[yg(e)]},e.systemInstruction&&(n.systemInstruction=JT(e.systemInstruction)),n}function PP(e){return typeof e=="string"||Array.isArray(e)?{content:yg(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],FP={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function qP(e){let n=!1;for(const t of e){const{role:r,parts:i}=t;if(!n&&r!=="user")throw new Fa(`First content should be with role 'user', got ${r}`);if(!N_.includes(r))throw new Fa(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(N_)}`);if(!Array.isArray(i))throw new Fa("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Fa("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of i)for(const c of q_)c in l&&(s[c]+=1);const a=FP[r];for(const l of q_)if(!a.includes(l)&&s[l]>0)throw new Fa(`Content with role '${r}' can't contain '${l}' part`);n=!0}}function z_(e){var n;if(e.candidates===void 0||e.candidates.length===0)return!1;const t=(n=e.candidates[0])===null||n===void 0?void 0:n.content;if(t===void 0||t.parts===void 0||t.parts.length===0)return!1;for(const r of t.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="SILENT_ERROR";class zP{constructor(n,t,r,i={}){this.model=t,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=n,r!=null&&r.history&&(qP(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(n,t={}){var r,i,s,a,l,c;await this._sendPromise;const d=yg(n),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,d]},g=Object.assign(Object.assign({},this._requestOptions),t);let b;return this._sendPromise=this._sendPromise.then(()=>ZT(this._apiKey,this.model,h,g)).then(m=>{var x;if(z_(m.response)){this._history.push(d);const y=Object.assign({parts:[],role:"model"},(x=m.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(y)}else{const y=_f(m.response);y&&console.warn(`sendMessage() was unsuccessful. ${y}. Inspect response object for details.`)}b=m}).catch(m=>{throw this._sendPromise=Promise.resolve(),m}),await this._sendPromise,b}async sendMessageStream(n,t={}){var r,i,s,a,l,c;await this._sendPromise;const d=yg(n),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,d]},g=Object.assign(Object.assign({},this._requestOptions),t),b=XT(this._apiKey,this.model,h,g);return this._sendPromise=this._sendPromise.then(()=>b).catch(m=>{throw new Error(B_)}).then(m=>m.response).then(m=>{if(z_(m)){this._history.push(d);const x=Object.assign({},m.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=_f(m);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(m=>{m.message!==B_&&console.error(m)}),b}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(e,n,t,r){return(await Gg(n,Jh.COUNT_TOKENS,e,!1,JSON.stringify(t),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(e,n,t,r){return(await Gg(n,Jh.EMBED_CONTENT,e,!1,JSON.stringify(t),r)).json()}async function $P(e,n,t,r){const i=t.requests.map(a=>Object.assign(Object.assign({},a),{model:n}));return(await Gg(n,Jh.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(n,t,r={}){this.apiKey=n,this._requestOptions=r,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=JT(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(n,t={}){var r;const i=F_(n),s=Object.assign(Object.assign({},this._requestOptions),t);return ZT(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}async generateContentStream(n,t={}){var r;const i=F_(n),s=Object.assign(Object.assign({},this._requestOptions),t);return XT(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}startChat(n){var t;return new zP(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},n),this._requestOptions)}async countTokens(n,t={}){const r=MP(n,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),t);return BP(this.apiKey,this.model,r,i)}async embedContent(n,t={}){const r=PP(n),i=Object.assign(Object.assign({},this._requestOptions),t);return UP(this.apiKey,this.model,r,i)}async batchEmbedContents(n,t={}){const r=Object.assign(Object.assign({},this._requestOptions),t);return $P(this.apiKey,this.model,n,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(n){this.apiKey=n}getGenerativeModel(n,t){if(!n.model)throw new Fa("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new U_(this.apiKey,n,t)}getGenerativeModelFromCachedContent(n,t,r){if(!n.name)throw new qf("Cached content must contain a `name` field.");if(!n.model)throw new qf("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const a of i)if(t!=null&&t[a]&&n[a]&&(t==null?void 0:t[a])!==n[a]){if(a==="model"){const l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model,c=n.model.startsWith("models/")?n.model.replace("models/",""):n.model;if(l===c)continue}throw new qf(`Different value for "${a}" specified in modelParams (${t[a]}) and cachedContent (${n[a]})`)}const s=Object.assign(Object.assign({},t),{model:n.model,tools:n.tools,toolConfig:n.toolConfig,systemInstruction:n.systemInstruction,cachedContent:n});return new U_(this.apiKey,s,r)}}var O5={exports:{}},$_;function HP(){return $_||($_=1,(()=>{var e={d:(s,a)=>{for(var l in a)e.o(a,l)&&!e.o(s,l)&&Object.defineProperty(s,l,{enumerable:!0,get:a[l]})},o:(s,a)=>Object.prototype.hasOwnProperty.call(s,a),r:s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})}},n={};function t(s,a){for(var l=0;l<a.length;l++){var c=a[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,c.key,c)}}e.r(n),e.d(n,{default:()=>i});var r=function(){function s(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s)}var a,l;return a=s,l=[{key:"changeHeightWidth",value:function(c,d,h,g,b,m){return h>g&&(c=Math.round(c*g/h),h=g),c>d&&(h=Math.round(h*d/c),c=d),b&&h<b&&(c=Math.round(c*b/h),h=b),m&&c<m&&(h=Math.round(h*m/c),c=m),{height:c,width:h}}},{key:"resizeAndRotateImage",value:function(c,d,h,g,b){var m=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",x=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,y=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,A=x/100,w=document.createElement("canvas"),C=c.width,k=c.height,R=this.changeHeightWidth(k,h,C,d,g,b);!y||y!==90&&y!==270?(w.width=R.width,w.height=R.height):(w.width=R.height,w.height=R.width),C=R.width,k=R.height;var q=w.getContext("2d");return q.fillStyle="rgba(0, 0, 0, 0)",q.fillRect(0,0,C,k),q.imageSmoothingEnabled&&q.imageSmoothingQuality&&(q.imageSmoothingQuality="high"),y&&(q.rotate(y*Math.PI/180),y===90?q.translate(0,-w.width):y===180?q.translate(-w.width,-w.height):y===270?q.translate(-w.height,0):y!==0&&y!==360||q.translate(0,0)),q.drawImage(c,0,0,C,k),w.toDataURL("image/".concat(m),A)}},{key:"b64toByteArrays",value:function(c,d){for(var h=atob(c.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),g=[],b=0;b<h.length;b+=512){for(var m=h.slice(b,b+512),x=new Array(m.length),y=0;y<m.length;y++)x[y]=m.charCodeAt(y);var A=new Uint8Array(x);g.push(A)}return g}},{key:"b64toBlob",value:function(c,d){var h=this.b64toByteArrays(c,d);return new Blob(h,{type:d,lastModified:new Date})}},{key:"b64toFile",value:function(c,d,h){var g=this.b64toByteArrays(c,h);return new File(g,d,{type:h,lastModified:new Date})}},{key:"createResizedImage",value:function(c,d,h,g,b,m,x){var y=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",A=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,w=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,C=new FileReader;if(!c)throw Error("File Not Found!");if(c.type&&!c.type.includes("image"))throw Error("File Is NOT Image!");C.readAsDataURL(c),C.onload=function(){var k=new Image;k.src=C.result,k.onload=function(){var R=s.resizeAndRotateImage(k,d,h,A,w,g,b,m),q="image/".concat(g);switch(y){case"blob":var D=s.b64toBlob(R,q);x(D);break;case"base64":x(R);break;case"file":var N=c.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(g.toString()),P=s.b64toFile(R,N,q);x(P);break;default:x(R)}}},C.onerror=function(k){throw Error(k)}}}],l&&t(a,l),s}();const i={imageFileResizer:function(s,a,l,c,d,h,g,b,m,x){return r.createResizedImage(s,a,l,c,d,h,g,b,m,x)}};O5.exports=n})()),O5.exports}var WP=HP();const t7=Fr(WP),VP=(e,n=5*1024*1024)=>new Promise((t,r)=>{var b;const i=((b=e.type.split("/")[1])==null?void 0:b.toLowerCase())||"unknown";if(e.size<=n&&(i==="jpeg"||i==="png"||i==="webp")){console.log(` Image already optimized: ${e.size} bytes, format: ${i}`),t({blob:e,format:i==="jpeg"?"jpg":i});return}const s=e.size>n;console.log(` Processing image: ${e.size} bytes, format: ${i}, compress: ${s}`);const a=new File([e],`image.${i}`,{type:e.type});let l="JPEG",c="jpg";(i==="png"||i==="gif")&&(l="PNG",c="png");const d=s?60:75,h=s?600:800,g=setTimeout(()=>{r(new Error("Image compression timed out after 10 seconds"))},1e4);t7.imageFileResizer(a,h,h,l,d,0,m=>{clearTimeout(g),m instanceof Blob?(console.log(` Image compressed: ${e.size}  ${m.size} bytes (${((1-m.size/e.size)*100).toFixed(1)}% reduction)`),t({blob:m,format:c})):r(new Error("Compression failed - unexpected result type"))},"blob")}),YP=async(e,n,t,r=3,i=15e3)=>{const s=Xf();for(let a=1;a<=r;a++)try{const{blob:l,format:c}=await VP(e),d=`${n}_${Pa()}.${c}`,h=async()=>{const m=vu(s,`materials/${t}/${d}`),x=await Pf(m,l);return{url:await Ad(x.ref),path:x.ref.fullPath,filename:d,originalSize:e.size,compressedSize:l.size}},g=new Promise((m,x)=>{setTimeout(()=>x(new Error(`Upload timeout after ${i}ms`)),i)}),b=await Promise.race([h(),g]);return console.log(`Successfully uploaded image: ${b.filename} (attempt ${a})`,{originalSize:b.originalSize,compressedSize:b.compressedSize,url:b.url}),{url:b.url,path:b.path}}catch(l){const c=l instanceof Error?l.message:"Unknown error";if(console.warn(`Upload attempt ${a}/${r} failed for ${n}: ${c}`),a===r)throw console.error(`All ${r} upload attempts failed for ${n}:`,l),new Error(`Image upload failed after ${r} attempts: ${c}`);const d=Math.min(1e3*Math.pow(2,a-1),5e3);console.log(`Waiting ${d}ms before retry...`),await new Promise(h=>setTimeout(h,d))}throw new Error("Upload failed - should not reach here")},I5=e=>{const t=`
    <svg width="400" height="300" xmlns="http://www.w3.org/2000/svg">
      <rect width="100%" height="100%" fill="#f44336"/>
      <text x="50%" y="45%" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle" dominant-baseline="middle">
        Upload Failed
      </text>
      <text x="50%" y="55%" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle" dominant-baseline="middle">
        ${e.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30)}
      </text>
    </svg>
  `;try{return`data:image/svg+xml;base64,${btoa(t)}`}catch(r){return console.error("Failed to create fallback placeholder:",r),`data:image/svg+xml,${encodeURIComponent(t)}`}},GP=async(e,n,t,r=3)=>{const i=e.filter(c=>c.imageBlob),s=[];console.log(`Starting batch upload of ${i.length} images (batch size: ${r})`);for(let c=0;c<i.length;c+=r){const d=Math.min(c+r,i.length),h=i.slice(c,d);console.log(`Processing batch ${Math.floor(c/r)+1}/${Math.ceil(i.length/r)} (images ${c+1}-${d})`);const g=h.map(async(b,m)=>{const x=c+m;console.log(` Starting upload for image ${x+1}/${i.length} (slide ${b.slideNumber})`);try{const y=`slide_${b.slideNumber}_image_${x+1}`,A=YP(b.imageBlob,y,n,2,1e4),w=new Promise((k,R)=>{setTimeout(()=>{R(new Error(`Individual image timeout after 15 seconds for image ${x+1}`))},15e3)}),{url:C}=await Promise.race([A,w]);return console.log(` Successfully processed image ${x+1}/${i.length}`),{url:C,title:b.description||`Image from Slide ${b.slideNumber}`,originalFilename:b.filename,slideNumber:b.slideNumber,index:x}}catch(y){return console.error(` Failed to upload image ${x+1}/${i.length} from slide ${b.slideNumber}:`,y),{url:I5(b.description||`Image from Slide ${b.slideNumber}`),title:b.description||`Image from Slide ${b.slideNumber}`,originalFilename:b.filename,slideNumber:b.slideNumber,index:x}}});try{console.log(` Waiting for batch ${Math.floor(c/r)+1} to complete...`);const b=2e4,m=new Promise((y,A)=>{setTimeout(()=>{A(new Error(`Batch ${Math.floor(c/r)+1} timeout after ${b}ms`))},b)}),x=await Promise.race([Promise.allSettled(g),m]);console.log(` Batch ${Math.floor(c/r)+1} completed, processing ${x.length} results...`),x.forEach((y,A)=>{const w=c+A;if(y.status==="fulfilled")s.push(y.value),console.log(` Image ${w+1}/${i.length} uploaded successfully`);else{console.error(` Image ${w+1}/${i.length} failed:`,y.reason);const C=h[A];s.push({url:I5(C.description||`Image from Slide ${C.slideNumber}`),title:C.description||`Image from Slide ${C.slideNumber}`,originalFilename:C.filename,slideNumber:C.slideNumber})}t==null||t(w+1,i.length)})}catch(b){console.error(` Batch ${Math.floor(c/r)+1} failed or timed out:`,b),h.forEach((m,x)=>{const y=c+x;console.log(` Creating fallback for timed out image ${y+1}/${i.length}`),s.push({url:I5(m.description||`Image from Slide ${m.slideNumber}`),title:m.description||`Image from Slide ${m.slideNumber}`,originalFilename:m.filename,slideNumber:m.slideNumber}),t==null||t(y+1,i.length)})}d<i.length&&(console.log(" Waiting 1 second before next batch..."),await new Promise(b=>setTimeout(b,1e3)))}s.sort((c,d)=>(c.index||0)-(d.index||0));const a=s.filter(c=>!c.url.startsWith("data:")).length,l=s.length-a;return console.log(`Upload complete: ${a} successful, ${l} failed out of ${s.length} total`),s};class QP{constructor(n){Ke(this,"genAI");Ke(this,"model");Ke(this,"activeBlobUrls",new Set);this.genAI=new e7(n),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.2,topK:3,topP:.9,maxOutputTokens:16384}})}cleanupBlobUrls(){this.activeBlobUrls.forEach(n=>{URL.revokeObjectURL(n)}),this.activeBlobUrls.clear()}createTrackedBlobUrl(n){const t=URL.createObjectURL(n);return this.activeBlobUrls.add(t),t}async processMaterialContent(n,t,r,i,s,a){if(!(n!=null&&n.trim()))throw new Error("No content provided for processing");s==null||s({stage:"analyzing",percentage:20,currentOperation:"Analyzing document structure..."});const l=n.length,c=Math.ceil(l/4);if(l>15e3||c>4e3){console.log(`Document is large (${l} chars, ~${c} tokens), using chunked processing`);const d=n.substring(0,15e3);return console.log("Truncating input to prevent AI response truncation"),this.processSingleMaterial(d+`

[Content truncated for processing]`,t,r,i,s,a)}return this.processSingleMaterial(n,t,r,i,s,a)}async processSingleMaterial(n,t,r,i,s,a){const l=this.buildMaterialAnalysisPrompt(n,t,r,i,a);s==null||s({stage:"analyzing",percentage:40,currentOperation:"Processing with AI..."});try{const h=(await(await this.model.generateContent(l)).response).text();if(!h||h.trim().length===0)throw new Error("Empty response from AI service");s==null||s({stage:"structuring",percentage:70,currentOperation:"Structuring content..."});let g=h.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();console.log("Raw response text (first 1000 chars):",h.substring(0,1e3)),console.log("Cleaned text (first 1000 chars):",g.substring(0,1e3)),g=this.repairTruncatedJSON(g);let b;try{b=JSON.parse(g)}catch(m){throw console.error("JSON parsing failed:",m),console.error("Raw response text (first 1000 chars):",h.substring(0,1e3)),console.error("Cleaned text (first 1000 chars):",g.substring(0,1e3)),new Error("AI response format invalid - unable to parse JSON")}if(!b||typeof b!="object")throw new Error("AI response is not a valid object");return s==null||s({stage:"complete",percentage:100,currentOperation:"Processing complete!"}),this.validateAndSanitizeMaterialResponse(b,t,r)}catch(c){if(console.error("Material Import AI Error:",c),s==null||s({stage:"error",percentage:0,currentOperation:`Error: ${c instanceof Error?c.message:"Unknown error"}`}),c instanceof Error){if(c.message.includes("API_KEY_INVALID")||c.message.includes("API key"))throw new Error("Invalid API key. Please check your material import API key configuration.");if(c.message.includes("RATE_LIMIT_EXCEEDED"))throw new Error("Rate limit exceeded. Please try again in a few minutes.");if(c.message.includes("SAFETY"))throw new Error("Content flagged by safety filters. Please try with different content.")}throw new Error(`Material processing failed: ${c instanceof Error?c.message:"Unknown error"}`)}}async processLargeMaterial(n,t,r,i,s){s==null||s({stage:"analyzing",percentage:10,currentOperation:"Processing large document with chunking..."});const a=this.chunkMaterialText(n);let l=null;const c=[];s==null||s({stage:"analyzing",percentage:30,currentOperation:`Processing main content (1/${a.length})...`,subSteps:{current:1,total:a.length,description:"Analyzing primary structure"}}),l=await this.processSingleMaterial(a[0],t,r,i);for(let h=1;h<a.length;h++){s==null||s({stage:"analyzing",percentage:30+40*h/a.length,currentOperation:`Processing additional content (${h+1}/${a.length})...`,subSteps:{current:h+1,total:a.length,description:"Extracting supplementary details"}});try{const g=await this.processChunkForAdditionalContent(a[h],t,r);g&&c.push(g)}catch(g){console.warn(`Failed to process chunk ${h+1}:`,g)}}s==null||s({stage:"structuring",percentage:80,currentOperation:"Merging content from all sections..."});const d=this.mergeChunkedMaterialResults(l,c);return s==null||s({stage:"complete",percentage:100,currentOperation:"Large document processing complete!"}),d}buildMaterialAnalysisPrompt(n,t,r,i,s){const a=this.getFileTypeContext(r);return`
Analyze this ${a} educational material and extract structured information for course content management.

File: ${t}
Type: ${r}

CONTENT:
${n}

${s!=null&&s.images&&s.images.length>0?`
DETECTED IMAGES:
${s.images.map((l,c)=>`${c+1}. ${l.description||`Image ${c+1}`}${l.slideNumber?` (Slide ${l.slideNumber})`:""}${l.altText?` - ${l.altText}`:""}`).join(`
`)}

CRITICAL IMAGE PLACEMENT INSTRUCTIONS:
- Each image MUST be placed in the section corresponding to its slide number
- If "Image X (Slide Y)" is detected, place it in the section created from Slide Y content
- Each image should have a unique, descriptive title based on its context
- Include slideNumber property in each image object for proper matching
- DO NOT reuse the same image in multiple sections
`:""}

Please extract and structure this content into a comprehensive educational material format. Focus on:

1. **Document Structure**: Identify main topics, subtopics, and hierarchical organization
2. **Content Quality**: Preserve important educational information and context
3. **Visual Elements**: Note references to images, diagrams, charts (even if not extractable)
4. **Links and Resources**: Extract any URLs, references, or external resources mentioned
5. **Learning Context**: Maintain educational value and logical flow

${a==="presentation slide deck"?`
SPECIAL INSTRUCTIONS FOR PRESENTATIONS:
- Each slide should become a section or subsection
- Preserve slide order and hierarchy
- Note slide titles and main content points
- Identify slide transitions and logical groupings
- Extract speaker notes or additional context if present
`:""}

Return ONLY a JSON object with this exact structure:
{
  "title": "Material title (extracted from content or filename)",
  "description": "Brief description of the material content",
  "header": {
    "title": "Introduction or Overview",
    "content": "HTML formatted introductory content"
  },
  "footer": {
    "title": "Summary or Conclusion", 
    "content": "HTML formatted concluding content"
  },
  "sections": [
    {
      "title": "Section Title",
      "content": "HTML formatted main section content",
      "subsections": [
        {
          "title": "Subsection Title",
          "content": "HTML formatted subsection content",
          "subSubsections": [
            {
              "title": "Sub-subsection Title",
              "content": "HTML formatted detailed content",
              "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 2}],
              "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
            }
          ],
          "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 3}],
          "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
        }
      ],
      "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 4}],
      "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
    }
  ],
  "sourceInfo": {
    "fileName": "${t}",
    "fileType": "${r}",
    "extractedAt": "${new Date().toISOString()}",
    "originalFileReference": "Reference to original file for debugging"
  },
  "images": [{"url": "", "title": "Overall image description", "description": "Context", "slideNumber": 1}],
  "links": [{"title": "Overall link title", "url": "URL", "description": "Link context"}]
}

CRITICAL JSON FORMATTING RULES:
- Return ONLY valid JSON - no comments, no explanations, no additional text
- Use proper HTML tags for content formatting (<p>, <h1>-<h6>, <ul>, <ol>, <li>, <strong>, <em>, <br>)
- Preserve educational structure and hierarchy
- Create logical sections based on content organization
- For images: Use EMPTY STRINGS for URLs ("url": "") with descriptive titles, context, and slideNumber property
-- IMPORTANT: Each image object MUST include "slideNumber" property matching the source slide
-- NEVER use placeholder filenames like "placeholder_image_1.png" - always use empty strings for URLs
- For links: Extract actual URLs when present, provide context
- Complete ALL sections and subsections - do not use comments like "// ... continue"
- Ensure all JSON arrays and objects are properly closed
- Maintain educational value and readability

IMPORTANT: Your response must be complete, valid JSON that can be parsed directly. Do not include any explanatory text, comments, or incomplete sections. End your response when the JSON object is complete.
`}async processChunkForAdditionalContent(n,t,r){const i=`
Extract additional educational content from this section of the material:

File: ${t}
Type: ${r}

CONTENT:
${n}

Focus on extracting any additional sections, detailed information, or supplementary content that should be included in the educational material.

Return ONLY a JSON object with additional sections, images, or links:
{
  "sections": [...],
  "images": [...],
  "links": [...]
}
`;try{const l=(await(await this.model.generateContent(i)).response).text();if(!l||l.trim().length===0)return null;let c;try{c=this.extractValidJSON(l)}catch(d){try{c=this.fallbackJSONExtraction(l)}catch{throw d}}return JSON.parse(c)}catch(s){return console.warn("Failed to process additional content chunk:",s),null}}chunkMaterialText(n,t=25e3){const r=[],i=n.split(`
`);let s="";for(const a of i)s.length+a.length>t&&s.length>0?(r.push(s.trim()),s=a):s+=(s?`
`:"")+a;return s.trim()&&r.push(s.trim()),r.length>0?r:[n]}mergeChunkedMaterialResults(n,t){const r={...n};for(const i of t)i.sections&&Array.isArray(i.sections)&&(r.sections=[...r.sections,...i.sections]),i.images&&Array.isArray(i.images)&&(r.images=[...r.images||[],...i.images]),i.links&&Array.isArray(i.links)&&(r.links=[...r.links||[],...i.links]);return r}extractValidJSON(n){let t=n.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();t=t.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const r=t.indexOf("{");if(r===-1)throw new Error("No JSON object found in response");t=t.substring(r);let i=0,s=-1,a=!1,l=!1;for(let h=0;h<t.length;h++){const g=t[h];if(l){l=!1;continue}if(g==="\\"){l=!0;continue}if(g==='"'&&!l){a=!a;continue}if(!a){if(g==="{")i++;else if(g==="}"&&(i--,i===0)){s=h+1;break}}}if(s===-1)throw new Error("No matching closing brace found for JSON object");let c=t.substring(0,s);c=c.replace(/,(\s*[}\]])/g,"$1"),this.detectTruncatedJSON(c)&&(console.warn("Detected truncated JSON response, attempting repair"),c=this.attemptJSONRepair(c));try{return JSON.parse(c),c}catch(h){console.warn("Initial JSON parsing failed, attempting to fix common issues:",h);const g=this.attemptJSONRepair(c);try{return JSON.parse(g),g}catch(b){throw console.error("JSON repair failed:",b),new Error(`Invalid JSON structure: ${b.message}`)}}}detectTruncatedJSON(n){const t=n.trim(),r=[/"[^"]*$/,/:\s*$/,/,\s*$/,/"[a-zA-Z]+\w*$/,/[a-zA-Z]+\w*$/,/\[\s*$/,/{\s*$/];for(const s of r)if(s.test(t))return console.log(`Truncation detected: ${s.toString()}`),!0;const i=t.charAt(t.length-1);return i!=="}"&&i!=="]"?(console.log(`Truncation detected: JSON doesn't end with } or ], ends with: "${i}"`),!0):!1}detectTruncatedResponse(n){const r=n.trim().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),i=[/"[^"]*$/,/\w+$/,/:\s*$/,/,\s*$/,!r.endsWith("}"),!r.endsWith("]"),r.length<500];for(let s=0;s<i.length-1;s++){const a=i[s];if(a instanceof RegExp&&a.test(r))return!0}return!!(i[i.length-3]||i[i.length-2]||i[i.length-1])}attemptJSONRepair(n){let t=n;const r=t.split(`
`),i=[];for(const d of r){const h=d.trim();h.startsWith("//")||h.includes("... (Continue")||h.includes("continue structuring")||h.includes("similarly")||i.push(d)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1");const s=(t.match(/{/g)||[]).length,a=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,c=(t.match(/\]/g)||[]).length;for(let d=0;d<s-a;d++)t+="}";for(let d=0;d<l-c;d++)t+="]";return t}fallbackJSONExtraction(n){console.log("Attempting fallback JSON extraction...");let t=n.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();t=t.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const r=t.indexOf("{");if(r===-1)throw new Error("No JSON object found in response");t=t.substring(r);const i=[/}\s*$/m,/}\s*\n\s*[A-Z]/m,/}\s*\n\s*This/m,/}\s*\n\s*Note:/m];let s=-1;for(const l of i){const c=t.match(l);if(c&&c.index!==void 0){const d=c.index+c[0].indexOf("}")+1;(s===-1||d<s)&&(s=d)}}s>0&&(t=t.substring(0,s));const a=this.attemptJSONRepair(t);try{return JSON.parse(a),a}catch{return console.log("Attempting aggressive JSON repair..."),this.aggressiveJSONRepair(t)}}aggressiveJSONRepair(n){let t=n;const r=t.split(`
`),i=[];for(const d of r){const h=d.trim();if(h.startsWith("//")||h.includes("... (")||h.includes("continue")||h.includes("similarly")||h.includes("Remember to")||h.includes("This structure")||h.length>0&&!h.includes('"')&&!h.includes("{")&&!h.includes("}")&&!h.includes("[")&&!h.includes("]"))break;i.push(d)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1");const s=(t.match(/{/g)||[]).length,a=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,c=(t.match(/\]/g)||[]).length;for(let d=0;d<s-a;d++)t+=`
}`;for(let d=0;d<l-c;d++)t+=`
]`;return t=t.replace(/,(\s*[}\]])/g,"$1"),t}repairTruncatedJSON(n){let t=n;const r=t.split(`
`),i=[];for(const d of r){const h=d.trim();if(h.length===0){i.push(d);continue}if(h.match(/^"[^"]*$/)){i.push('"": ""');break}if(h.match(/:\s*"[^"]*$/)){i.push(h.replace(/:\s*"[^"]*$/,': ""'));break}if(h.match(/^[a-zA-Z]+\w*$/))break;i.push(d)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1"),t=t.replace(/,\s*$/,"");const s=(t.match(/{/g)||[]).length,a=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,c=(t.match(/\]/g)||[]).length;console.log(`JSON structure analysis: ${s} open braces, ${a} close braces, ${l} open brackets, ${c} close brackets`);for(let d=0;d<l-c;d++)t+=`
]`;for(let d=0;d<s-a;d++)t+=`
}`;return t=t.replace(/,(\s*[}\]])/g,"$1"),console.log("Repaired JSON (first 1000 chars):",t.substring(0,1e3)),t}getFileTypeContext(n){const t=n.toLowerCase();return t.includes("presentation")||t.includes("powerpoint")||t.includes("pptx")?"presentation slide deck":t.includes("pdf")?"PDF document":t.includes("word")||t.includes("docx")?"Word document":"document"}validateAndSanitizeMaterialResponse(n,t,r){var s,a,l,c,d;const i={title:n.title||t.replace(/\.[^/.]+$/,"")||"Untitled Material",description:n.description||"",header:{title:((s=n.header)==null?void 0:s.title)||"Introduction",content:((a=n.header)==null?void 0:a.content)||""},footer:{title:((l=n.footer)==null?void 0:l.title)||"Summary",content:((c=n.footer)==null?void 0:c.content)||""},sections:[],sourceInfo:{fileName:t,fileType:r,extractedAt:new Date().toISOString(),originalFileReference:((d=n.sourceInfo)==null?void 0:d.originalFileReference)||t},images:Array.isArray(n.images)?n.images:[],links:Array.isArray(n.links)?n.links:[]};return Array.isArray(n.sections)&&(i.sections=n.sections.map(h=>({title:h.title||"Section",content:h.content||"",subsections:Array.isArray(h.subsections)?h.subsections.map(g=>({title:g.title||"Subsection",content:g.content||"",subSubsections:Array.isArray(g.subSubsections)?g.subSubsections.map(b=>({title:b.title||"Sub-subsection",content:b.content||"",images:Array.isArray(b.images)?b.images:[],links:Array.isArray(b.links)?b.links:[]})):[],images:Array.isArray(g.images)?g.images:[],links:Array.isArray(g.links)?g.links:[]})):[],images:Array.isArray(h.images)?h.images:[],links:Array.isArray(h.links)?h.links:[]}))),i.sections.length===0&&i.sections.push({title:"Main Content",content:"Content extracted from the uploaded material.",subsections:[],images:[],links:[]}),i}convertToMaterialFormat(n,t,r,i){const s=(c,d=400,h=300)=>{const g=c.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30),b=`
        <svg width="${d}" height="${h}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${g}
          </text>
        </svg>
      `;try{return`data:image/svg+xml;base64,${btoa(b)}`}catch(m){return console.error("Failed to create placeholder image URL:",m),`data:image/svg+xml,${encodeURIComponent(b)}`}},a=c=>{const d=new Map;i!=null&&i.images&&i.images.forEach(m=>{m.slideNumber&&m.imageBlob&&(d.has(m.slideNumber)||d.set(m.slideNumber,[]),d.get(m.slideNumber).push(m))});const h=new Map,g=(c==null?void 0:c.map((m,x)=>{let y="";if(m.slideNumber&&d.has(m.slideNumber)){const w=d.get(m.slideNumber);h.has(m.slideNumber)||h.set(m.slideNumber,new Set);const C=h.get(m.slideNumber);let k=null;if(m.title||m.description){const R=(m.title||m.description).toLowerCase();k=w.find(q=>{const D=(q.description||"").toLowerCase();return!C.has(q.embedId||"")&&D.includes(R.split(" ")[0])})||null}if(k||(k=w.find(R=>!C.has(R.embedId||""))||null),!k&&w.length>0){const R=x%w.length;k=w[R]}k!=null&&k.imageBlob&&(k.embedId&&C.add(k.embedId),y=this.createTrackedBlobUrl(k.imageBlob),console.log(`Using extracted image blob for slide ${m.slideNumber} (${C.size}/${w.length}):`,{slideNumber:m.slideNumber,imageIndex:x,embedId:k.embedId,blobSize:k.imageBlob.size,blobType:k.imageBlob.type,matchedBy:k.description||"position"}))}y||(m.url&&m.url.trim()&&(m.url.startsWith("data:")||m.url.startsWith("http"))&&!m.url.includes("placeholder_image")?y=m.url:y=s(m.title||"Image"));const A={url:y,title:m.title||m.description||"Detected Image"};return console.log("Enhanced image (preview):",A),A}))||[],b=Array.from(d.values()).reduce((m,x)=>m+x.length,0);return console.log(`Enhanced ${g.length} images for material preview (${b} extracted images available across ${d.size} slides)`),g},l=c=>{var d;return{id:Pa(),title:c.title,content:c.content,subsections:((d=c.subsections)==null?void 0:d.map(h=>{var g;return{id:Pa(),title:h.title,content:h.content,subSubsections:((g=h.subSubsections)==null?void 0:g.map(b=>({id:Pa(),title:b.title,content:b.content,images:a(b.images||[]),links:b.links||[]})))||[],images:a(h.images||[]),links:h.links||[]}}))||[],images:a(c.images||[]),links:c.links||[]}};return{course:t,title:n.title,header:n.header,footer:n.footer,sections:n.sections.map(l),author:r,published:!1,sourceInfo:n.sourceInfo}}async convertToMaterialFormatWithImageUpload(n,t,r,i,s,a){var m;let l=[];if(s!=null&&s.images)try{console.log(`Uploading ${s.images.length} extracted images...`),l=await GP(s.images,i,a),console.log(`Successfully uploaded ${l.length} images`)}catch(x){console.error("Failed to upload extracted images:",x)}const c=(x,y=400,A=300)=>{const w=x.substring(0,30),C=`
        <svg width="${y}" height="${A}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${w}
          </text>
        </svg>
      `;return`data:image/svg+xml;base64,${btoa(C)}`},d=x=>{const y=new Map;l.forEach(C=>{C.slideNumber&&(y.has(C.slideNumber)||y.set(C.slideNumber,[]),y.get(C.slideNumber).push(C))});const A=new Set,w=(x==null?void 0:x.map((C,k)=>{let R=null;if(C.slideNumber&&y.has(C.slideNumber)){const D=y.get(C.slideNumber);if(R=D.find(N=>!A.has(N.url))||null,!R&&D.length>0){const N=k%D.length;R=D[N]}}if(!R){const D=(C.title||C.description||"").toLowerCase().split(" ");R=l.find(N=>{if(A.has(N.url))return!1;const P=N.title.toLowerCase().split(" ");return D.some(z=>z.length>3&&P.some(X=>X.includes(z)))})||null}if(R||(R=l.find(D=>!A.has(D.url))||null),!R&&l.length>0){const D=k%l.length;R=l[D]}R&&A.add(R.url);const q={url:(R==null?void 0:R.url)||(C.url&&C.url.trim()?C.url:c(C.title||"Image")),title:(R==null?void 0:R.title)||C.title||C.description||"Detected Image"};return console.log("Enhanced image with upload:",{...q,url:q.url.substring(0,100)+"...",isUploaded:!!R,imageIndex:k,originalSlideNumber:C.slideNumber,matchedSlideNumber:R==null?void 0:R.slideNumber,matchStrategy:R?R.slideNumber===C.slideNumber?"slideNumber":q.title.includes(C.title||"")?"title":"sequential":"placeholder",usedCount:A.size,totalAvailable:l.length}),q}))||[];return console.log(`Enhanced ${w.length} images for material (${l.length} uploaded, ${A.size} used)`),w},h=x=>{var y;return{id:Pa(),title:x.title,content:x.content,images:d(x.images||[]),links:x.links||[],subsections:((y=x.subsections)==null?void 0:y.map(g))||[]}},g=x=>{var y;return{id:Pa(),title:x.title,content:x.content,images:d(x.images||[]),links:x.links||[],subSubsections:((y=x.subSubsections)==null?void 0:y.map(b))||[]}},b=x=>({id:Pa(),title:x.title,content:x.content,images:d(x.images||[]),links:x.links||[]});return{course:t,title:n.title,header:n.header||{title:"",content:""},footer:n.footer||{title:"",content:""},sections:((m=n.sections)==null?void 0:m.map(h))||[],author:r,published:!1,scheduledTimestamp:null}}}let wy=null;const eS=e=>{const n=e||"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0";if(!wy&&n&&(wy=new QP(n)),!wy)throw new Error("Material Import service not initialized. Please configure VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.");return wy},KP=async e=>{try{const n=await Wi(()=>import("./pdf-VQKGuvxX.js"),[]),t="/nexlab";n.GlobalWorkerOptions.workerSrc=`${t}/js/pdf.worker.min.js`;const r=await e.arrayBuffer(),i=await n.getDocument({data:r}).promise,s=i.numPages;let a="";for(let l=1;l<=s;l++){const h=(await(await i.getPage(l)).getTextContent()).items.filter(g=>g&&typeof g.str=="string").map(g=>g.str).join(" ").trim();h&&(a+=h+`

`)}return{text:a.trim(),metadata:{pageCount:s,wordCount:a.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"PDF.js"}}}catch(n){throw{message:"Failed to extract text from PDF file. Please ensure the PDF contains selectable text.",code:"PDF_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},XP=async e=>{try{const n=await Wi(()=>import("./index-DmdVvcbF.js").then(i=>i.i),__vite__mapDeps([0,1])),t=await e.arrayBuffer(),r=await n.extractRawText({arrayBuffer:t});return r.messages&&r.messages.length>0&&console.warn("DOCX extraction warnings:",r.messages),{text:r.value.trim(),metadata:{wordCount:r.value.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"Mammoth"}}}catch(n){throw{message:"Failed to extract text from Word document. Please ensure the file is not corrupted.",code:"DOCX_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},ZP=async e=>{var n,t;try{const r=(await Wi(async()=>{const{default:g}=await import("./index-Bwxu0dzx.js").then(b=>b.i);return{default:g}},__vite__mapDeps([2,1]))).default,i=await e.arrayBuffer(),s=new r(i);let a="",l=0;const c=[],d=Object.keys(s.files).filter(g=>g.startsWith("ppt/slides/slide")&&g.endsWith(".xml"));l=d.length;for(const g of d)try{const b=s.files[g].asText(),m=parseInt(((n=g.match(/slide(\d+)\.xml/))==null?void 0:n[1])||"0"),x=b.matchAll(/<a:blip[^>]*r:embed="([^"]*)"[^>]*>/g);for(const w of x){const C=w[1],k=b.match(new RegExp('<p:cNvPr[^>]*name="([^"]*)"[^>]*>',"i")),R=b.match(new RegExp('<p:cNvPr[^>]*descr="([^"]*)"[^>]*>',"i")),q=b.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();let D=`Image on slide ${m}`;const N=["chart","graph","diagram","figure","table","photo","image","illustration","screenshot","logo","flowchart","timeline","comparison","data","results","example","structure","process"],P=q.toLowerCase().split(/\s+/),z=N.filter(j=>P.some(O=>O.includes(j)));if(z.length>0)D=`${z[0].charAt(0).toUpperCase()+z[0].slice(1)} (Slide ${m})`;else if(q.length>0){const j=P.slice(0,3).join(" ");j.length>5&&(D=`Image: ${j}... (Slide ${m})`)}let X;try{const j=`ppt/slides/_rels/slide${m}.xml.rels`;if(s.files[j]){const M=s.files[j].asText().match(new RegExp(`Id="${C}"[^>]*Target="([^"]*)"`,"i"));if(M){const T=M[1],Q=T.startsWith("../")?`ppt/${T.substring(3)}`:`ppt/slides/${T}`;if(s.files[Q]){const H=s.files[Q].asUint8Array();let Y="image/jpeg";const Z=Q.toLowerCase();if(Z.includes(".png"))Y="image/png";else if(Z.includes(".gif"))Y="image/gif";else if(Z.includes(".bmp"))Y="image/bmp";else if(Z.includes(".webp"))Y="image/webp";else if(Z.includes(".emf")||Z.includes(".wmf")){console.warn(`Skipping unsupported vector image format: ${Q}`);continue}X=new Blob([H],{type:Y}),console.log(`Extracted image blob for slide ${m}:`,{size:X.size,type:Y,path:Q})}}}}catch(j){console.warn(`Failed to extract image blob for ${C} on slide ${m}:`,j)}c.push({slideNumber:m,description:(k==null?void 0:k[1])||D,altText:(R==null?void 0:R[1])||void 0,filename:C,embedId:C,imageBlob:X})}const y=b.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();y&&(a+=`
--- Slide ${m} ---
${y}
`);const A=c.filter(w=>w.slideNumber===m);A.length>0&&(a+=`
[IMAGES ON SLIDE ${m}]: `,A.forEach(w=>{a+=`"${w.description}"${w.altText?` (${w.altText})`:""}, `}),a=a.slice(0,-2)+`
`)}catch(b){console.warn(`Failed to extract text from ${g}:`,b)}const h=Object.keys(s.files).filter(g=>g.startsWith("ppt/notesSlides/notesSlide")&&g.endsWith(".xml"));for(const g of h)try{const m=s.files[g].asText().replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();if(m){const x=((t=g.match(/notesSlide(\d+)\.xml/))==null?void 0:t[1])||"unknown";a+=`
--- Notes for Slide ${x} ---
${m}
`}}catch(b){console.warn(`Failed to extract notes from ${g}:`,b)}if(!a.trim())throw new Error("No text content found in PowerPoint file");return{text:a.trim(),metadata:{slideCount:l,wordCount:a.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"PizZip",images:c.length>0?c:void 0}}}catch(r){throw{message:"Failed to extract text from PowerPoint file. Please ensure the file is not corrupted and contains text content.",code:"PPTX_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},JP=async e=>{try{const n=await e.text();return{text:n.trim(),metadata:{wordCount:n.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"Native"}}}catch(n){throw{message:"Failed to extract text from text file",code:"TXT_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},n7=async e=>{if(!e)throw{message:"No file provided",code:"NO_FILE_ERROR"};const n=e.type.toLowerCase(),t=e.name.toLowerCase();try{if(n==="application/pdf"||t.endsWith(".pdf"))return await KP(e);if(n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||t.endsWith(".docx"))return await XP(e);if(n==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||t.endsWith(".pptx"))return await ZP(e);if(n==="text/plain"||t.endsWith(".txt"))return await JP(e);throw{message:`Unsupported file format: ${n||"unknown"}. Supported formats: PDF (.pdf), Word (.docx), PowerPoint (.pptx), Text (.txt)`,code:"UNSUPPORTED_FORMAT_ERROR"}}catch(r){throw r&&typeof r=="object"&&"code"in r?r:{message:`Failed to extract text from ${e.name}`,code:"GENERIC_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},r7=e=>{const t=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain"],r=[".pdf",".docx",".pptx",".txt"];if(e.size>524288e3)return{isValid:!1,error:`File size (${(e.size/1024/1024).toFixed(1)}MB) exceeds the maximum limit of 500MB.`};const i=e.type.toLowerCase(),s=e.name.toLowerCase(),a=t.includes(i),l=r.some(c=>s.endsWith(c));return!a&&!l?{isValid:!1,error:`Unsupported file format. Please upload files with extensions: ${r.join(", ")}`}:{isValid:!0}},i7=e=>{const n=e.type.toLowerCase(),t=e.name.toLowerCase();return n==="application/pdf"||t.endsWith(".pdf")?"PDF Document":n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||t.endsWith(".docx")?"Word Document":n==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||t.endsWith(".pptx")?"PowerPoint Presentation":n==="text/plain"||t.endsWith(".txt")?"Text File":"Unknown Format"},eF=e=>{const n=e.size/1048576,t=e.type.toLowerCase();let r=0;return t==="application/pdf"?r=Math.max(2,n*.5):t==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?r=Math.max(1,n*.3):t==="application/vnd.openxmlformats-officedocument.presentationml.presentation"?r=Math.max(1.5,n*.4):r=Math.max(.5,n*.1),Math.round(r)};class tF{constructor(){Ke(this,"storage",Xf());Ke(this,"DEFAULT_CHUNK_SIZE",5*1024*1024);Ke(this,"DEFAULT_MAX_RETRIES",3);Ke(this,"DEFAULT_TIMEOUT",6e4)}async uploadLargeFile(n,t,r={}){const i=Date.now(),{chunkSize:s=this.DEFAULT_CHUNK_SIZE,maxRetries:a=this.DEFAULT_MAX_RETRIES,timeoutMs:l=this.DEFAULT_TIMEOUT,onProgress:c,onChunkComplete:d}=r,h=500*1024*1024;if(n.size>h)throw new Error(`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`);if(!(n.size>s))return this.uploadStandardFile(n,t,c);console.log(` Starting chunked upload for ${n.name} (${(n.size/1024/1024).toFixed(1)}MB)`),c==null||c({stage:"preparing",percentage:0,bytesUploaded:0,totalBytes:n.size,currentOperation:"Preparing file for chunked upload..."});const b=this.createChunkMetadata(n,s),m=Pa(),x=`${t}_chunks_${m}`;c==null||c({stage:"preparing",percentage:5,totalChunks:b.length,bytesUploaded:0,totalBytes:n.size,currentOperation:`Created ${b.length} chunks for upload...`});try{await this.uploadChunks(n,b,x,{maxRetries:a,timeoutMs:l,onProgress:w=>{const C=this.calculateOverallProgress(b,w);c==null||c({stage:"uploading",percentage:5+C*.85,currentChunk:w.currentChunk,totalChunks:b.length,bytesUploaded:w.bytesUploaded,totalBytes:n.size,currentOperation:w.currentOperation,estimatedTimeRemaining:this.estimateTimeRemaining(i,C)})},onChunkComplete:d}),c==null||c({stage:"assembling",percentage:90,totalChunks:b.length,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Assembling chunks into final file..."});const y=await this.assembleChunks(n,b,t,m);c==null||c({stage:"completed",percentage:100,totalChunks:b.length,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Upload completed successfully!"});const A=Date.now()-i;return console.log(` Chunked upload completed in ${(A/1e3).toFixed(1)}s`),{...y,chunks:b.length,uploadTime:A}}catch(y){throw console.error(" Chunked upload failed:",y),await this.cleanupFailedUpload(b),y}}createChunkMetadata(n,t){const r=[];let i=0;for(;i<n.size;){const s=Math.min(i+t,n.size);r.push({index:r.length,size:s-i,start:i,end:s,retries:0}),i=s}return r}async uploadChunks(n,t,r,i){const{maxRetries:s,timeoutMs:a,onProgress:l,onChunkComplete:c}=i;let d=0;const h=3;for(let g=0;g<t.length;g+=h){const m=t.slice(g,Math.min(g+h,t.length)).map(async x=>{const y=n.slice(x.start,x.end),A=`${r}/chunk_${x.index.toString().padStart(4,"0")}`;let w=null;for(let C=0;C<=s;C++)try{l==null||l({currentChunk:x.index+1,bytesUploaded:d,currentOperation:`Uploading chunk ${x.index+1}/${t.length} (attempt ${C+1})`});const k=await this.uploadSingleChunk(y,A,a);x.uploadUrl=k.url,x.uploadPath=k.path,d+=x.size,c==null||c(x.index,t.length),console.log(` Chunk ${x.index+1}/${t.length} uploaded successfully`);return}catch(k){w=k,x.retries=C+1,C<s&&(console.warn(` Chunk ${x.index+1} failed (attempt ${C+1}), retrying...`),await this.delay(Math.pow(2,C)*1e3))}throw new Error(`Failed to upload chunk ${x.index+1} after ${s+1} attempts: ${w==null?void 0:w.message}`)});await Promise.all(m),g+h<t.length&&await this.delay(500)}}async uploadSingleChunk(n,t,r){const i=vu(this.storage,t),s=async()=>{const l=await Pf(i,n);return{url:await Ad(l.ref),path:l.ref.fullPath}},a=new Promise((l,c)=>{setTimeout(()=>c(new Error(`Chunk upload timeout after ${r}ms`)),r)});return Promise.race([s(),a])}async assembleChunks(n,t,r,i){const s=await this.reconstructFileFromChunks(n,t),a=vu(this.storage,r),l=await Pf(a,s),c=await Ad(l.ref);return await this.cleanupChunks(t),{url:c,path:l.ref.fullPath,name:n.name,type:n.type,size:n.size,uploadedAt:new Date}}async reconstructFileFromChunks(n,t){const r=[];for(const i of t.sort((s,a)=>s.index-a.index))r.push(n.slice(i.start,i.end));return new Blob(r,{type:n.type})}async uploadStandardFile(n,t,r){const i=Date.now(),s=vu(this.storage,t);r==null||r({stage:"uploading",percentage:10,bytesUploaded:0,totalBytes:n.size,currentOperation:"Uploading file..."});const a=await Pf(s,n);r==null||r({stage:"uploading",percentage:90,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Getting download URL..."});const l=await Ad(a.ref);r==null||r({stage:"completed",percentage:100,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Upload completed!"});const c=Date.now()-i;return{url:l,path:a.ref.fullPath,name:n.name,type:n.type,size:n.size,uploadedAt:new Date,chunks:1,uploadTime:c}}calculateOverallProgress(n,t){const r=n.filter(s=>s.uploadUrl).length,i=t.currentChunk?t.bytesUploaded/n.reduce((s,a)=>s+a.size,0):0;return(r+i)/n.length}estimateTimeRemaining(n,t){if(t<=0)return 0;const r=Date.now()-n,i=r/t;return Math.max(0,i-r)}async cleanupChunks(n){const t=n.filter(r=>r.uploadPath).map(async r=>{try{const i=vu(this.storage,r.uploadPath);await CT(i)}catch(i){console.warn(`Failed to cleanup chunk ${r.index}:`,i)}});await Promise.allSettled(t)}async cleanupFailedUpload(n){console.log(" Cleaning up failed chunked upload..."),await this.cleanupChunks(n)}delay(n){return new Promise(t=>setTimeout(t,n))}validateFileForChunkedUpload(n){return n.size>524288e3?{isValid:!1,error:`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`}:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(n.type)?{isValid:!0}:{isValid:!1,error:`Unsupported file type: ${n.type}. Supported formats: PowerPoint, PDF, Word, Text files`}}}const H_=new tF;class nF{constructor(){Ke(this,"storage",Xf())}async uploadOriginalFile(n,t,r,i){return n.size>26214400?(console.log(` File is large (${(n.size/1024/1024).toFixed(1)}MB), using chunked upload`),this.uploadOriginalFileEnhanced(n,t,r,i?a=>i(a.percentage):void 0)):this.uploadOriginalFileStandard(n,t,r,i)}async uploadOriginalFileEnhanced(n,t,r,i){const s=H_.validateFileForChunkedUpload(n);if(!s.isValid)throw new Error(s.error);const a=n.name.split(".").pop()||"",l=r||Pa(),c=`${n.name.replace(/\.[^/.]+$/,"")}_${l}.${a}`,d=`original-files/${t}/${c}`;console.log(" Starting enhanced original file upload:",{fileName:c,fileSize:n.size,fileType:n.type,courseId:t,chunked:!0});try{const h=await H_.uploadLargeFile(n,d,{chunkSize:5242880,maxRetries:3,timeoutMs:6e4,onProgress:i,onChunkComplete:(b,m)=>{console.log(` Chunk ${b+1}/${m} completed`)}}),g={name:n.name,type:n.type,size:n.size,url:h.url,uploadedAt:new Date};return console.log(" Enhanced original file uploaded successfully:",{originalName:n.name,storageName:c,url:h.url,size:n.size,chunks:h.chunks,uploadTime:`${(h.uploadTime/1e3).toFixed(1)}s`}),g}catch(h){throw console.error(" Enhanced original file upload failed:",h),new Error(`Failed to upload original file: ${h instanceof Error?h.message:"Unknown error"}`)}}async uploadOriginalFileStandard(n,t,r,i){try{const s=n.name.split(".").pop()||"",a=r||Pa(),l=`${n.name.replace(/\.[^/.]+$/,"")}_${a}.${s}`,c=vu(this.storage,`original-files/${t}/${l}`);console.log(" Starting original file upload:",{fileName:l,fileSize:n.size,fileType:n.type,courseId:t}),i==null||i(10);const d=await Pf(c,n);i==null||i(70);const h=await Ad(d.ref);i==null||i(100);const g={name:n.name,type:n.type,size:n.size,url:h,uploadedAt:new Date};return console.log(" Original file uploaded successfully:",{originalName:n.name,storageName:l,url:h,size:n.size}),g}catch(s){throw console.error(" Original file upload failed:",s),new Error(`Failed to upload original file: ${s instanceof Error?s.message:"Unknown error"}`)}}async deleteOriginalFile(n){try{const r=new URL(n).pathname.match(/\/o\/(.+?)\?/);if(!r)throw new Error("Invalid Firebase Storage URL format");const i=decodeURIComponent(r[1]),s=vu(this.storage,i);await CT(s),console.log(" Original file deleted successfully:",i)}catch(t){console.error(" Original file deletion failed:",t),console.warn("Continuing despite file deletion failure")}}async replaceOriginalFile(n,t,r,i,s){try{return i&&await this.deleteOriginalFile(i),await this.uploadOriginalFile(n,t,r,s)}catch(a){throw console.error(" Original file replacement failed:",a),new Error(`Failed to replace original file: ${a instanceof Error?a.message:"Unknown error"}`)}}getFileExtension(n){var t;return((t=n.split(".").pop())==null?void 0:t.toLowerCase())||""}validateFile(n){return n.size>524288e3?{isValid:!1,error:`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`}:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(n.type)?{isValid:!0}:{isValid:!1,error:`Unsupported file type: ${n.type}. Supported formats: PowerPoint, PDF, Word, Text files`}}}const D5=new nF,W_={isProcessing:!1,progress:null,error:null,uploadedFile:null,extractedText:null,extractionResult:null,originalFileUploadProgress:null,originalFileUrl:null,aiExtractedData:null,convertedMaterial:null,processingOptions:{maxOutputTokens:4096,topK:1,topP:.1,preserveFormatting:!0,extractImages:!0,extractLinks:!0}},up=lp()(tm((e,n)=>({...W_,setUploadedFile:t=>{const{originalFileUrl:r}=n();r&&t&&t.name!==r&&D5.deleteOriginalFile(r).catch(i=>{console.warn("Failed to delete previous original file:",i)}),e({uploadedFile:t,extractedText:null,extractionResult:null,originalFileUploadProgress:null,originalFileUrl:null,aiExtractedData:null,convertedMaterial:null,error:null})},extractTextFromFile:async()=>{const{uploadedFile:t}=n();if(!t){e({error:"No file uploaded"});return}try{const r=r7(t);if(!r.isValid){e({error:r.error||"Invalid file"});return}}catch(r){console.error("File validation error:",r),e({error:"Failed to validate file"});return}e({isProcessing:!0,error:null,progress:{stage:"extracting",percentage:10,currentOperation:`Extracting text from ${i7(t)}...`}});try{const r=await n7(t);if(!r||!r.text||r.text.trim().length===0)throw new Error("No text content could be extracted from the file");const i=r.text.trim().split(/\s+/).length;i<5&&console.warn("Very short text extracted:",{wordCount:i,text:r.text.substring(0,100)}),e({extractedText:r.text,extractionResult:r,progress:{stage:"extracting",percentage:100,currentOperation:"Text extraction complete!"}}),setTimeout(()=>{e({isProcessing:!1,progress:null})},500)}catch(r){console.error("Text extraction error:",r);const i=r;let s="Failed to extract text from file";i.code==="PDF_EXTRACTION_ERROR"?s="Could not extract text from PDF. The file may be image-based or corrupted.":i.code==="DOCX_EXTRACTION_ERROR"?s="Could not extract text from Word document. Please check the file is not corrupted.":i.code==="PPTX_EXTRACTION_ERROR"?s="Could not extract text from PowerPoint presentation. Please ensure it contains text content.":i.message&&(s=i.message),e({error:s,isProcessing:!1,progress:null})}},processWithAI:async(t,r,i)=>{var h;const{uploadedFile:s,extractedText:a,extractionResult:l,processingOptions:c}=n();if(!(t!=null&&t.trim())){e({error:"Course ID is required for AI processing"});return}if(!(r!=null&&r.trim())){e({error:"Author ID is required for AI processing"});return}if(!s||!(a!=null&&a.trim())){e({error:"No file or extracted text available for AI processing"});return}const d=a.trim().split(/\s+/).length;if(d<10){e({error:"Extracted text is too short for meaningful AI processing (minimum 10 words required)"});return}d>5e4&&console.warn("Very large text content detected:",{wordCount:d,fileName:s.name}),e({isProcessing:!0,error:null,progress:{stage:"analyzing",percentage:0,currentOperation:"Initializing AI processing..."}});try{let g;try{g=eS(i)}catch(w){console.error("Service initialization error:",w);let C="Material import service not available.";w instanceof Error&&(w.message.includes("API key")?C="API key not configured. Please set VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.":C=`Service error: ${w.message}`),e({error:C,isProcessing:!1,progress:null});return}const b={maxOutputTokens:Math.min(Math.max(c.maxOutputTokens||16384,8192),32768),topK:Math.min(Math.max(c.topK||3,1),10),topP:Math.min(Math.max(c.topP||.9,.1),1),preserveFormatting:!!c.preserveFormatting,extractImages:!!c.extractImages,extractLinks:!!c.extractLinks},m=12e4,x=new Promise((w,C)=>{setTimeout(()=>C(new Error("AI processing timeout - please try with a smaller file")),m)}),y=await Promise.race([g.processMaterialContent(a,s.name,s.type,b,w=>{w&&typeof w=="object"&&e({progress:w})},l==null?void 0:l.metadata),x]);if(!y||typeof y!="object")throw new Error("Invalid AI processing result received");(h=y.title)!=null&&h.trim()||(console.warn("AI result missing title, using filename as fallback"),y.title=s.name.replace(/\.[^/.]+$/,"")||"Untitled Material"),(!y.sections||!Array.isArray(y.sections)||y.sections.length===0)&&(console.warn("AI result missing sections, creating default section"),y.sections=[{title:"Main Content",content:"Content extracted from uploaded material.",subsections:[],images:[],links:[]}]);const A=g.convertToMaterialFormat(y,t,r,l==null?void 0:l.metadata);e({aiExtractedData:y,convertedMaterial:A,isProcessing:!1,progress:{stage:"complete",percentage:100,currentOperation:"Material processing complete!"}}),setTimeout(()=>{e({progress:null})},1500)}catch(g){console.error("AI processing error:",g);let b="Failed to process material with AI";g instanceof Error&&(g.message.includes("timeout")?b="AI processing timed out. Please try with a smaller file or simpler content.":g.message.includes("API key")||g.message.includes("API_KEY_INVALID")?b="Invalid API key. Please check your API key configuration.":g.message.includes("RATE_LIMIT")||g.message.includes("rate limit")?b="API rate limit exceeded. Please wait a few minutes before trying again.":g.message.includes("SAFETY")||g.message.includes("safety")?b="Content flagged by safety filters. Please try with different content.":g.message.includes("network")||g.message.includes("fetch")?b="Network error. Please check your internet connection and try again.":b=`AI processing failed: ${g.message}`),e({error:b,isProcessing:!1,progress:null})}},uploadOriginalFile:async(t,r)=>{const{uploadedFile:i}=n();if(!i){e({error:"No file selected for upload"});return}try{e({originalFileUploadProgress:0,error:null});const s=i.size>25*1024*1024,a=(i.size/1024/1024).toFixed(1);console.log(` Starting original file upload to Firebase Storage... (${a}MB, ${s?"chunked":"standard"} upload)`);const l=await D5.uploadOriginalFile(i,t,r,c=>{e({originalFileUploadProgress:c})});e({originalFileUrl:l.url,originalFileUploadProgress:null}),console.log(" Original file uploaded successfully:",{url:l.url,size:`${a}MB`,method:s?"chunked":"standard"})}catch(s){throw console.error(" Original file upload failed:",s),e({error:s instanceof Error?s.message:"Failed to upload original file",originalFileUploadProgress:null}),s}},replaceOriginalFile:async(t,r,i)=>{const{uploadedFile:s}=n();if(!s){e({error:"No file selected for replacement"});return}try{e({originalFileUploadProgress:0,error:null}),console.log(" Replacing original file in Firebase Storage...");const a=await D5.replaceOriginalFile(s,t,r,i,l=>{e({originalFileUploadProgress:l})});e({originalFileUrl:a.url,originalFileUploadProgress:null}),console.log(" Original file replaced successfully:",a.url)}catch(a){throw console.error(" Original file replacement failed:",a),e({error:a instanceof Error?a.message:"Failed to replace original file",originalFileUploadProgress:null}),a}},resetImport:()=>{try{eS().cleanupBlobUrls()}catch(t){console.warn("Failed to cleanup blob URLs during reset:",t)}e(W_)},setProcessingOptions:t=>{e(r=>({processingOptions:{...r.processingOptions,...t}}))},setError:t=>{e({error:t})}}),{name:"material-import-store",partialize:e=>({processingOptions:e.processingOptions})})),rF=()=>{const e=up();return{setUploadedFile:e.setUploadedFile,extractTextFromFile:e.extractTextFromFile,processWithAI:e.processWithAI,resetImport:e.resetImport,setProcessingOptions:e.setProcessingOptions,setError:e.setError}},iF=()=>{const e=up();return{isProcessing:e.isProcessing,progress:e.progress,error:e.error,uploadedFile:e.uploadedFile,extractedText:e.extractedText,aiExtractedData:e.aiExtractedData,convertedMaterial:e.convertedMaterial,processingOptions:e.processingOptions}},tS=async(e,n,t,r)=>{const i=up.getState(),{aiExtractedData:s,extractionResult:a}=i;if(!s)throw new Error("No AI result available for conversion");return await eS().convertToMaterialFormatWithImageUpload(s,e,n,t,a==null?void 0:a.metadata,r)},sF=()=>{const{extractedText:e,isProcessing:n}=up();return!n&&!!(e!=null&&e.trim())},aF=()=>{const{convertedMaterial:e,isProcessing:n}=up();return!n&&!!e},epe=Object.freeze(Object.defineProperty({__proto__:null,convertMaterialWithImageUpload:tS,useIsImportComplete:aF,useIsReadyForAI:sF,useMaterialImportActions:rF,useMaterialImportStatus:iF,useMaterialImportStore:up},Symbol.toStringTag,{value:"Module"}));var u1={},V_;function oF(){if(V_)return u1;V_=1;var e=Es();Object.defineProperty(u1,"__esModule",{value:!0}),u1.default=void 0;var n=e(ks()),t=_s();return u1.default=(0,n.default)((0,t.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),u1}var lF=oF();const L5=Fr(lF),R5=({onDelete:e,itemType:n})=>{const[t,r]=tt.useState(!1),i=()=>{r(!0)},s=()=>{r(!1)},a=()=>{e(),s()};return f.jsxs(f.Fragment,{children:[f.jsx(mn,{onClick:i,size:"small",children:f.jsx(nm,{})}),f.jsxs(Yi,{open:t,onClose:s,children:[f.jsx(us,{children:`Delete ${n}`}),f.jsx(Gi,{children:f.jsx(Oo,{children:`Are you sure you want to delete this ${n}? This action cannot be undone.`})}),f.jsxs(cs,{children:[f.jsx(at,{onClick:s,color:"primary",children:"Cancel"}),f.jsx(at,{onClick:a,color:"secondary",children:"Delete"})]})]})]})};var c1={},Y_;function uF(){if(Y_)return c1;Y_=1;var e=Es();Object.defineProperty(c1,"__esModule",{value:!0}),c1.default=void 0;var n=e(ks()),t=_s();return c1.default=(0,n.default)((0,t.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),c1}var cF=uF();const G_=Fr(cF),s7=({sections:e,selected:n,onAddSection:t,onAddSubsection:r,onAddSubSubsection:i,onSelectSection:s,onUpdateSectionTitle:a,onUpdateSubsectionTitle:l,onUpdateSubSubsectionTitle:c,onDeleteSection:d,onDeleteSubsection:h,onDeleteSubSubsection:g,isViewMode:b})=>{const[m,x]=K.useState(null),[y,A]=K.useState(null),[w,C]=K.useState(null),[k,R]=K.useState(""),[q,D]=K.useState(e.map(()=>!0)),[N,P]=K.useState(e.reduce((Y,Z,ae)=>(Y[ae]=Z.subsections.map(()=>!0),Y),{}));K.useEffect(()=>{D(e.map(()=>!0))},[e]),K.useEffect(()=>{const Y=e.reduce((Z,ae,G)=>(Z[G]=ae.subsections.map(()=>!0),Z),{});P(Y)},[e]);const z=Y=>{const Z=[...q];Z[Y]=!Z[Y],D(Z)},X=(Y,Z)=>{const ae={...N};ae[Y][Z]=!ae[Y][Z],P(ae)},j=(Y,Z)=>{m!==null?a(m,k):y?l(y.section,y.subsection,k):w&&c(w.section,w.subsection,w.subSubsection,k),x(Y),A(null),C(null),R(Z)},O=Y=>{a(Y,k),x(null),R("")},M=(Y,Z,ae)=>{m!==null?a(m,k):y?l(y.section,y.subsection,k):w&&c(w.section,w.subsection,w.subSubsection,k),x(null),A({section:Y,subsection:Z}),C(null),R(ae)},T=(Y,Z)=>{l(Y,Z,k),A(null),R("")},Q=(Y,Z,ae,G)=>{m!==null?a(m,k):y?l(y.section,y.subsection,k):w&&c(w.section,w.subsection,w.subSubsection,k),x(null),A(null),C({section:Y,subsection:Z,subSubsection:ae}),R(G)},H=(Y,Z,ae)=>{c(Y,Z,ae,k),C(null),R("")};return f.jsxs(be,{sx:{width:"450px",borderRight:"1px solid #ddd",padding:2},children:[f.jsx(ce,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Outline"}),!b&&f.jsx(at,{variant:"contained",color:"primary",onClick:t,sx:{mb:2},children:"+ Add Section"}),f.jsxs(Jy,{children:[f.jsx(h0,{component:"div",onClick:()=>s("header"),sx:{backgroundColor:n.type==="header"?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:f.jsx(Rh,{primary:"Header"})}),e.map((Y,Z)=>f.jsxs(be,{children:[f.jsxs(h0,{component:"div",onClick:()=>s(Z),sx:{backgroundColor:n.sectionIndex===Z&&n.subsectionIndex===void 0?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:[m===Z?f.jsxs(f.Fragment,{children:[f.jsx($t,{value:k,onChange:ae=>R(ae.target.value),size:"small",sx:{mr:1},disabled:b}),!b&&f.jsx(mn,{onClick:()=>O(Z),size:"small",children:f.jsx(L5,{})})]}):f.jsxs(f.Fragment,{children:[f.jsx(Rh,{primary:Y.title}),!b&&f.jsxs(f.Fragment,{children:[f.jsx(mn,{onClick:()=>j(Z,Y.title),size:"small",children:f.jsx(eg,{})}),f.jsx(R5,{onDelete:()=>d(Z),itemType:"section"})]})]}),Y.subsections.length>0&&f.jsx(mn,{onClick:()=>z(Z),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:q[Z]?f.jsx(G_,{sx:{fontSize:"20px"}}):f.jsx(Ix,{sx:{fontSize:"20px"}})}),!b&&f.jsx(at,{variant:"text",onClick:()=>r(Z),size:"small",children:"+ Add Subsection"})]}),q[Z]&&f.jsx(Jy,{sx:{pl:4},children:Y.subsections.map((ae,G)=>f.jsxs(be,{children:[f.jsxs(h0,{component:"div",onClick:()=>s(Z,G),sx:{backgroundColor:n.sectionIndex===Z&&n.subsectionIndex===G&&n.subSubsectionIndex===void 0?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:[y&&y.section===Z&&y.subsection===G?f.jsxs(f.Fragment,{children:[f.jsx($t,{value:k,onChange:le=>R(le.target.value),size:"small",sx:{mr:1},disabled:b}),!b&&f.jsx(mn,{onClick:()=>T(Z,G),size:"small",children:f.jsx(L5,{})})]}):f.jsxs(f.Fragment,{children:[f.jsx(Rh,{primary:ae.title}),!b&&f.jsxs(f.Fragment,{children:[f.jsx(mn,{onClick:()=>M(Z,G,ae.title),size:"small",children:f.jsx(eg,{})}),f.jsx(R5,{onDelete:()=>h(Z,G),itemType:"subsection"})]})]}),ae.subSubsections.length>0&&f.jsx(mn,{onClick:()=>X(Z,G),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:N[Z][G]?f.jsx(G_,{sx:{fontSize:"20px"}}):f.jsx(Ix,{sx:{fontSize:"20px"}})}),!b&&f.jsx(at,{variant:"text",onClick:()=>i(Z,G),size:"small",children:"+ Add Sub-Subsection"})]}),N[Z][G]&&f.jsx(Jy,{sx:{pl:4},children:ae.subSubsections.map((le,U)=>f.jsx(h0,{component:"div",onClick:()=>s(Z,G,U),sx:{backgroundColor:n.sectionIndex===Z&&n.subsectionIndex===G&&n.subSubsectionIndex===U?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:w&&w.section===Z&&w.subsection===G&&w.subSubsection===U?f.jsxs(f.Fragment,{children:[f.jsx($t,{value:k,onChange:B=>R(B.target.value),size:"small",sx:{mr:1},disabled:b}),!b&&f.jsx(mn,{onClick:()=>H(Z,G,U),size:"small",children:f.jsx(L5,{})})]}):f.jsxs(f.Fragment,{children:[f.jsx(Rh,{primary:le.title}),!b&&f.jsxs(f.Fragment,{children:[f.jsx(mn,{onClick:()=>Q(Z,G,U,le.title),size:"small",children:f.jsx(eg,{})}),f.jsx(R5,{onDelete:()=>g(Z,G,U),itemType:"subSubsection"})]})]})},le.id))})]},ae.id))})]},Y.id)),f.jsx(h0,{component:"div",onClick:()=>s("footer"),sx:{backgroundColor:n.type==="footer"?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:f.jsx(Rh,{primary:"Footer"})})]})]})};var d1={},Q_;function dF(){if(Q_)return d1;Q_=1;var e=Es();Object.defineProperty(d1,"__esModule",{value:!0}),d1.default=void 0;var n=e(ks()),t=_s();return d1.default=(0,n.default)((0,t.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos"),d1}var fF=dF();const a7=Fr(fF);var f1={},K_;function hF(){if(K_)return f1;K_=1;var e=Es();Object.defineProperty(f1,"__esModule",{value:!0}),f1.default=void 0;var n=e(ks()),t=_s();return f1.default=(0,n.default)((0,t.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos"),f1}var pF=hF();const o7=Fr(pF),l7=({returnToSelection:e=!1})=>{const n=Ai(),[t]=Yg(),r=t.get("course"),i=()=>{n(e||!r?"/supplemental-materials":`/supplemental-materials?course=${r}`)};return f.jsx(at,{variant:"text",color:"primary",startIcon:f.jsx(HT,{}),onClick:i,className:"supplemental-back-button",children:e?"Course Selection":"Course Materials"})};var h1={},X_;function mF(){if(X_)return h1;X_=1;var e=Es();Object.defineProperty(h1,"__esModule",{value:!0}),h1.default=void 0;var n=e(ks()),t=_s();return h1.default=(0,n.default)((0,t.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image"),h1}var gF=mF();const bF=Fr(gF),yF=({sectionId:e,onImagesUploaded:n})=>{const[t,r]=K.useState(!1),[i,s]=K.useState(""),[a,l]=K.useState("success"),c=Xf(),d=async b=>{if(b.target.files){const m=Array.from(b.target.files),x=[];for(const y of m)try{const A=await h(y),w=await g(A);x.push({url:w.url,title:`Image ${Pa()}`})}catch{s("Failed to upload images"),l("error"),r(!0)}n(x),s("Image(s) uploaded successfully"),l("success"),r(!0)}},h=b=>new Promise((m,x)=>{b.size>5*1024*1024?t7.imageFileResizer(b,500,500,"JPEG",70,0,y=>{typeof y=="string"?x(new Error("Compression returned a string instead of a file")):m(y)},"file"):m(b)}),g=b=>new Promise((m,x)=>{const y=vu(c,`materials/${e}/${b.name}`);Pf(y,b).then(A=>{Ad(A.ref).then(w=>{m({url:w,path:A.ref.fullPath})})}).catch(A=>x(A))});return f.jsxs(be,{children:[f.jsxs(be,{sx:{mt:2,display:"flex",alignItems:"center"},children:[f.jsx(bF,{sx:{mr:1}}),f.jsx(ce,{variant:"h6",children:"Images"})]}),f.jsxs(be,{sx:{mt:2},children:[f.jsxs(at,{variant:"contained",component:"label",color:"primary",children:["Add Image",f.jsx("input",{type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:d})]}),f.jsx(fo,{open:t,autoHideDuration:6e3,onClose:()=>r(!1),children:f.jsx(tr,{onClose:()=>r(!1),severity:a,sx:{width:"100%"},children:i})})]})]})},xF=({imageTitle:e,onTitleChange:n})=>f.jsx($t,{variant:"outlined",fullWidth:!0,value:e,onChange:t=>n(t.target.value),placeholder:"Image Title",sx:{mt:1}});var p1={},Z_;function vF(){if(Z_)return p1;Z_=1;var e=Es();Object.defineProperty(p1,"__esModule",{value:!0}),p1.default=void 0;var n=e(ks()),t=_s();return p1.default=(0,n.default)((0,t.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),p1}var wF=vF();const SF=Fr(wF),AF=({links:e,onLinksChange:n})=>{const t=()=>{const i={title:"",url:"",description:""};n([...e,i])},r=i=>{const s=e.filter((a,l)=>l!==i);n(s)};return f.jsxs(be,{children:[f.jsxs(be,{sx:{mt:2,display:"flex",alignItems:"center"},children:[f.jsx(SF,{sx:{mr:1}}),f.jsx(ce,{variant:"h6",children:"Links"})]}),f.jsx(be,{sx:{mt:1},children:e.map((i,s)=>f.jsxs(be,{sx:{display:"flex",alignItems:"center",mb:1},children:[f.jsx($t,{label:"Title",value:i.title,onChange:a=>{const l=[...e];l[s].title=a.target.value,n(l)},sx:{flexBasis:"20%",mr:1}}),f.jsx($t,{label:"URL",value:i.url,onChange:a=>{const l=[...e];l[s].url=a.target.value,n(l)},sx:{flexBasis:"40%",mr:1}}),f.jsx($t,{label:"Description",value:i.description,onChange:a=>{const l=[...e];l[s].description=a.target.value,n(l)},sx:{flexBasis:"40%"}}),f.jsx(mn,{onClick:()=>r(s),children:f.jsx(nm,{})})]},s))}),f.jsx(at,{variant:"contained",onClick:t,sx:{mt:2},children:"Add Link"})]})};var u7=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,CF=typeof self=="object"&&self&&self.Object===Object&&self,$c=u7||CF||Function("return this")(),Hf=$c.Symbol,c7=Object.prototype,EF=c7.hasOwnProperty,_F=c7.toString,m1=Hf?Hf.toStringTag:void 0;function kF(e){var n=EF.call(e,m1),t=e[m1];try{e[m1]=void 0;var r=!0}catch{}var i=_F.call(e);return r&&(n?e[m1]=t:delete e[m1]),i}var NF=Object.prototype,jF=NF.toString;function TF(e){return jF.call(e)}var OF="[object Null]",IF="[object Undefined]",J_=Hf?Hf.toStringTag:void 0;function rm(e){return e==null?e===void 0?IF:OF:J_&&J_ in Object(e)?kF(e):TF(e)}function jd(e){return e!=null&&typeof e=="object"}var ep=Array.isArray;function Jf(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function d7(e){return e}var DF="[object AsyncFunction]",LF="[object Function]",RF="[object GeneratorFunction]",MF="[object Proxy]";function L6(e){if(!Jf(e))return!1;var n=rm(e);return n==LF||n==RF||n==DF||n==MF}var M5=$c["__core-js_shared__"],e8=function(){var e=/[^.]+$/.exec(M5&&M5.keys&&M5.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function PF(e){return!!e8&&e8 in e}var FF=Function.prototype,qF=FF.toString;function cp(e){if(e!=null){try{return qF.call(e)}catch{}try{return e+""}catch{}}return""}var zF=/[\\^$.*+?()[\]{}|]/g,BF=/^\[object .+?Constructor\]$/,UF=Function.prototype,$F=Object.prototype,HF=UF.toString,WF=$F.hasOwnProperty,VF=RegExp("^"+HF.call(WF).replace(zF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function YF(e){if(!Jf(e)||PF(e))return!1;var n=L6(e)?VF:BF;return n.test(cp(e))}function GF(e,n){return e==null?void 0:e[n]}function dp(e,n){var t=GF(e,n);return YF(t)?t:void 0}var nS=dp($c,"WeakMap"),t8=Object.create,QF=function(){function e(){}return function(n){if(!Jf(n))return{};if(t8)return t8(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}();function KF(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}function XF(e,n){var t=-1,r=e.length;for(n||(n=Array(r));++t<r;)n[t]=e[t];return n}var ZF=800,JF=16,eq=Date.now;function tq(e){var n=0,t=0;return function(){var r=eq(),i=JF-(r-t);if(t=r,i>0){if(++n>=ZF)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}function nq(e){return function(){return e}}var Dx=function(){try{var e=dp(Object,"defineProperty");return e({},"",{}),e}catch{}}(),rq=Dx?function(e,n){return Dx(e,"toString",{configurable:!0,enumerable:!1,value:nq(n),writable:!0})}:d7,iq=tq(rq);function sq(e,n){for(var t=-1,r=e==null?0:e.length;++t<r&&n(e[t],t,e)!==!1;);return e}var aq=9007199254740991,oq=/^(?:0|[1-9]\d*)$/;function f7(e,n){var t=typeof e;return n=n??aq,!!n&&(t=="number"||t!="symbol"&&oq.test(e))&&e>-1&&e%1==0&&e<n}function R6(e,n,t){n=="__proto__"&&Dx?Dx(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function Qg(e,n){return e===n||e!==e&&n!==n}var lq=Object.prototype,uq=lq.hasOwnProperty;function h7(e,n,t){var r=e[n];(!(uq.call(e,n)&&Qg(r,t))||t===void 0&&!(n in e))&&R6(e,n,t)}function cq(e,n,t,r){var i=!t;t||(t={});for(var s=-1,a=n.length;++s<a;){var l=n[s],c=void 0;c===void 0&&(c=e[l]),i?R6(t,l,c):h7(t,l,c)}return t}var n8=Math.max;function dq(e,n,t){return n=n8(n===void 0?e.length-1:n,0),function(){for(var r=arguments,i=-1,s=n8(r.length-n,0),a=Array(s);++i<s;)a[i]=r[n+i];i=-1;for(var l=Array(n+1);++i<n;)l[i]=r[i];return l[n]=t(a),KF(e,this,l)}}function fq(e,n){return iq(dq(e,n,d7),e+"")}var hq=9007199254740991;function p7(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=hq}function gv(e){return e!=null&&p7(e.length)&&!L6(e)}function pq(e,n,t){if(!Jf(t))return!1;var r=typeof n;return(r=="number"?gv(t)&&f7(n,t.length):r=="string"&&n in t)?Qg(t[n],e):!1}function mq(e){return fq(function(n,t){var r=-1,i=t.length,s=i>1?t[i-1]:void 0,a=i>2?t[2]:void 0;for(s=e.length>3&&typeof s=="function"?(i--,s):void 0,a&&pq(t[0],t[1],a)&&(s=i<3?void 0:s,i=1),n=Object(n);++r<i;){var l=t[r];l&&e(n,l,r,s)}return n})}var gq=Object.prototype;function M6(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||gq;return e===t}function bq(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t);return r}var yq="[object Arguments]";function r8(e){return jd(e)&&rm(e)==yq}var m7=Object.prototype,xq=m7.hasOwnProperty,vq=m7.propertyIsEnumerable,rS=r8(function(){return arguments}())?r8:function(e){return jd(e)&&xq.call(e,"callee")&&!vq.call(e,"callee")};function wq(){return!1}var g7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,i8=g7&&typeof module=="object"&&module&&!module.nodeType&&module,Sq=i8&&i8.exports===g7,s8=Sq?$c.Buffer:void 0,Aq=s8?s8.isBuffer:void 0,xg=Aq||wq,Cq="[object Arguments]",Eq="[object Array]",_q="[object Boolean]",kq="[object Date]",Nq="[object Error]",jq="[object Function]",Tq="[object Map]",Oq="[object Number]",Iq="[object Object]",Dq="[object RegExp]",Lq="[object Set]",Rq="[object String]",Mq="[object WeakMap]",Pq="[object ArrayBuffer]",Fq="[object DataView]",qq="[object Float32Array]",zq="[object Float64Array]",Bq="[object Int8Array]",Uq="[object Int16Array]",$q="[object Int32Array]",Hq="[object Uint8Array]",Wq="[object Uint8ClampedArray]",Vq="[object Uint16Array]",Yq="[object Uint32Array]",xi={};xi[qq]=xi[zq]=xi[Bq]=xi[Uq]=xi[$q]=xi[Hq]=xi[Wq]=xi[Vq]=xi[Yq]=!0;xi[Cq]=xi[Eq]=xi[Pq]=xi[_q]=xi[Fq]=xi[kq]=xi[Nq]=xi[jq]=xi[Tq]=xi[Oq]=xi[Iq]=xi[Dq]=xi[Lq]=xi[Rq]=xi[Mq]=!1;function Gq(e){return jd(e)&&p7(e.length)&&!!xi[rm(e)]}function P6(e){return function(n){return e(n)}}var b7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ng=b7&&typeof module=="object"&&module&&!module.nodeType&&module,Qq=ng&&ng.exports===b7,P5=Qq&&u7.process,B0=function(){try{var e=ng&&ng.require&&ng.require("util").types;return e||P5&&P5.binding&&P5.binding("util")}catch{}}(),a8=B0&&B0.isTypedArray,F6=a8?P6(a8):Gq,Kq=Object.prototype,Xq=Kq.hasOwnProperty;function y7(e,n){var t=ep(e),r=!t&&rS(e),i=!t&&!r&&xg(e),s=!t&&!r&&!i&&F6(e),a=t||r||i||s,l=a?bq(e.length,String):[],c=l.length;for(var d in e)(n||Xq.call(e,d))&&!(a&&(d=="length"||i&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||f7(d,c)))&&l.push(d);return l}function x7(e,n){return function(t){return e(n(t))}}var Zq=x7(Object.keys,Object),Jq=Object.prototype,ez=Jq.hasOwnProperty;function tz(e){if(!M6(e))return Zq(e);var n=[];for(var t in Object(e))ez.call(e,t)&&t!="constructor"&&n.push(t);return n}function nz(e){return gv(e)?y7(e):tz(e)}function rz(e){var n=[];if(e!=null)for(var t in Object(e))n.push(t);return n}var iz=Object.prototype,sz=iz.hasOwnProperty;function az(e){if(!Jf(e))return rz(e);var n=M6(e),t=[];for(var r in e)r=="constructor"&&(n||!sz.call(e,r))||t.push(r);return t}function v7(e){return gv(e)?y7(e,!0):az(e)}var vg=dp(Object,"create");function oz(){this.__data__=vg?vg(null):{},this.size=0}function lz(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var uz="__lodash_hash_undefined__",cz=Object.prototype,dz=cz.hasOwnProperty;function fz(e){var n=this.__data__;if(vg){var t=n[e];return t===uz?void 0:t}return dz.call(n,e)?n[e]:void 0}var hz=Object.prototype,pz=hz.hasOwnProperty;function mz(e){var n=this.__data__;return vg?n[e]!==void 0:pz.call(n,e)}var gz="__lodash_hash_undefined__";function bz(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=vg&&n===void 0?gz:n,this}function tp(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}tp.prototype.clear=oz;tp.prototype.delete=lz;tp.prototype.get=fz;tp.prototype.has=mz;tp.prototype.set=bz;function yz(){this.__data__=[],this.size=0}function bv(e,n){for(var t=e.length;t--;)if(Qg(e[t][0],n))return t;return-1}var xz=Array.prototype,vz=xz.splice;function wz(e){var n=this.__data__,t=bv(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():vz.call(n,t,1),--this.size,!0}function Sz(e){var n=this.__data__,t=bv(n,e);return t<0?void 0:n[t][1]}function Az(e){return bv(this.__data__,e)>-1}function Cz(e,n){var t=this.__data__,r=bv(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}function Rd(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Rd.prototype.clear=yz;Rd.prototype.delete=wz;Rd.prototype.get=Sz;Rd.prototype.has=Az;Rd.prototype.set=Cz;var wg=dp($c,"Map");function Ez(){this.size=0,this.__data__={hash:new tp,map:new(wg||Rd),string:new tp}}function _z(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function yv(e,n){var t=e.__data__;return _z(n)?t[typeof n=="string"?"string":"hash"]:t.map}function kz(e){var n=yv(this,e).delete(e);return this.size-=n?1:0,n}function Nz(e){return yv(this,e).get(e)}function jz(e){return yv(this,e).has(e)}function Tz(e,n){var t=yv(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}function fp(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}fp.prototype.clear=Ez;fp.prototype.delete=kz;fp.prototype.get=Nz;fp.prototype.has=jz;fp.prototype.set=Tz;function Oz(e,n){for(var t=-1,r=n.length,i=e.length;++t<r;)e[i+t]=n[t];return e}var w7=x7(Object.getPrototypeOf,Object),Iz="[object Object]",Dz=Function.prototype,Lz=Object.prototype,S7=Dz.toString,Rz=Lz.hasOwnProperty,Mz=S7.call(Object);function Pz(e){if(!jd(e)||rm(e)!=Iz)return!1;var n=w7(e);if(n===null)return!0;var t=Rz.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&S7.call(t)==Mz}function Fz(){this.__data__=new Rd,this.size=0}function qz(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function zz(e){return this.__data__.get(e)}function Bz(e){return this.__data__.has(e)}var Uz=200;function $z(e,n){var t=this.__data__;if(t instanceof Rd){var r=t.__data__;if(!wg||r.length<Uz-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new fp(r)}return t.set(e,n),this.size=t.size,this}function kc(e){var n=this.__data__=new Rd(e);this.size=n.size}kc.prototype.clear=Fz;kc.prototype.delete=qz;kc.prototype.get=zz;kc.prototype.has=Bz;kc.prototype.set=$z;var A7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,o8=A7&&typeof module=="object"&&module&&!module.nodeType&&module,Hz=o8&&o8.exports===A7,l8=Hz?$c.Buffer:void 0,u8=l8?l8.allocUnsafe:void 0;function C7(e,n){if(n)return e.slice();var t=e.length,r=u8?u8(t):new e.constructor(t);return e.copy(r),r}function Wz(e,n){for(var t=-1,r=e==null?0:e.length,i=0,s=[];++t<r;){var a=e[t];n(a,t,e)&&(s[i++]=a)}return s}function Vz(){return[]}var Yz=Object.prototype,Gz=Yz.propertyIsEnumerable,c8=Object.getOwnPropertySymbols,Qz=c8?function(e){return e==null?[]:(e=Object(e),Wz(c8(e),function(n){return Gz.call(e,n)}))}:Vz;function Kz(e,n,t){var r=n(e);return ep(e)?r:Oz(r,t(e))}function iS(e){return Kz(e,nz,Qz)}var sS=dp($c,"DataView"),aS=dp($c,"Promise"),oS=dp($c,"Set"),d8="[object Map]",Xz="[object Object]",f8="[object Promise]",h8="[object Set]",p8="[object WeakMap]",m8="[object DataView]",Zz=cp(sS),Jz=cp(wg),eB=cp(aS),tB=cp(oS),nB=cp(nS),mu=rm;(sS&&mu(new sS(new ArrayBuffer(1)))!=m8||wg&&mu(new wg)!=d8||aS&&mu(aS.resolve())!=f8||oS&&mu(new oS)!=h8||nS&&mu(new nS)!=p8)&&(mu=function(e){var n=rm(e),t=n==Xz?e.constructor:void 0,r=t?cp(t):"";if(r)switch(r){case Zz:return m8;case Jz:return d8;case eB:return f8;case tB:return h8;case nB:return p8}return n});var rB=Object.prototype,iB=rB.hasOwnProperty;function sB(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&iB.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var Lx=$c.Uint8Array;function q6(e){var n=new e.constructor(e.byteLength);return new Lx(n).set(new Lx(e)),n}function aB(e,n){var t=q6(e.buffer);return new e.constructor(t,e.byteOffset,e.byteLength)}var oB=/\w*$/;function lB(e){var n=new e.constructor(e.source,oB.exec(e));return n.lastIndex=e.lastIndex,n}var g8=Hf?Hf.prototype:void 0,b8=g8?g8.valueOf:void 0;function uB(e){return b8?Object(b8.call(e)):{}}function E7(e,n){var t=n?q6(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var cB="[object Boolean]",dB="[object Date]",fB="[object Map]",hB="[object Number]",pB="[object RegExp]",mB="[object Set]",gB="[object String]",bB="[object Symbol]",yB="[object ArrayBuffer]",xB="[object DataView]",vB="[object Float32Array]",wB="[object Float64Array]",SB="[object Int8Array]",AB="[object Int16Array]",CB="[object Int32Array]",EB="[object Uint8Array]",_B="[object Uint8ClampedArray]",kB="[object Uint16Array]",NB="[object Uint32Array]";function jB(e,n,t){var r=e.constructor;switch(n){case yB:return q6(e);case cB:case dB:return new r(+e);case xB:return aB(e);case vB:case wB:case SB:case AB:case CB:case EB:case _B:case kB:case NB:return E7(e,t);case fB:return new r;case hB:case gB:return new r(e);case pB:return lB(e);case mB:return new r;case bB:return uB(e)}}function _7(e){return typeof e.constructor=="function"&&!M6(e)?QF(w7(e)):{}}var TB="[object Map]";function OB(e){return jd(e)&&mu(e)==TB}var y8=B0&&B0.isMap,IB=y8?P6(y8):OB,DB="[object Set]";function LB(e){return jd(e)&&mu(e)==DB}var x8=B0&&B0.isSet,RB=x8?P6(x8):LB,MB=1,k7="[object Arguments]",PB="[object Array]",FB="[object Boolean]",qB="[object Date]",zB="[object Error]",N7="[object Function]",BB="[object GeneratorFunction]",UB="[object Map]",$B="[object Number]",j7="[object Object]",HB="[object RegExp]",WB="[object Set]",VB="[object String]",YB="[object Symbol]",GB="[object WeakMap]",QB="[object ArrayBuffer]",KB="[object DataView]",XB="[object Float32Array]",ZB="[object Float64Array]",JB="[object Int8Array]",eU="[object Int16Array]",tU="[object Int32Array]",nU="[object Uint8Array]",rU="[object Uint8ClampedArray]",iU="[object Uint16Array]",sU="[object Uint32Array]",ci={};ci[k7]=ci[PB]=ci[QB]=ci[KB]=ci[FB]=ci[qB]=ci[XB]=ci[ZB]=ci[JB]=ci[eU]=ci[tU]=ci[UB]=ci[$B]=ci[j7]=ci[HB]=ci[WB]=ci[VB]=ci[YB]=ci[nU]=ci[rU]=ci[iU]=ci[sU]=!0;ci[zB]=ci[N7]=ci[GB]=!1;function tx(e,n,t,r,i,s){var a,l=n&MB;if(a!==void 0)return a;if(!Jf(e))return e;var c=ep(e);if(c)a=sB(e);else{var d=mu(e),h=d==N7||d==BB;if(xg(e))return C7(e,l);if(d==j7||d==k7||h&&!i)a=h?{}:_7(e);else{if(!ci[d])return i?e:{};a=jB(e,d,l)}}s||(s=new kc);var g=s.get(e);if(g)return g;s.set(e,a),RB(e)?e.forEach(function(x){a.add(tx(x,n,t,x,e,s))}):IB(e)&&e.forEach(function(x,y){a.set(y,tx(x,n,t,y,e,s))});var b=iS,m=c?void 0:b(e);return sq(m||e,function(x,y){m&&(y=x,x=e[y]),h7(a,y,tx(x,n,t,y,e,s))}),a}var aU=1,oU=4;function E0(e){return tx(e,aU|oU)}var lU="__lodash_hash_undefined__";function uU(e){return this.__data__.set(e,lU),this}function cU(e){return this.__data__.has(e)}function Rx(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new fp;++n<t;)this.add(e[n])}Rx.prototype.add=Rx.prototype.push=uU;Rx.prototype.has=cU;function dU(e,n){for(var t=-1,r=e==null?0:e.length;++t<r;)if(n(e[t],t,e))return!0;return!1}function fU(e,n){return e.has(n)}var hU=1,pU=2;function T7(e,n,t,r,i,s){var a=t&hU,l=e.length,c=n.length;if(l!=c&&!(a&&c>l))return!1;var d=s.get(e),h=s.get(n);if(d&&h)return d==n&&h==e;var g=-1,b=!0,m=t&pU?new Rx:void 0;for(s.set(e,n),s.set(n,e);++g<l;){var x=e[g],y=n[g];if(r)var A=a?r(y,x,g,n,e,s):r(x,y,g,e,n,s);if(A!==void 0){if(A)continue;b=!1;break}if(m){if(!dU(n,function(w,C){if(!fU(m,C)&&(x===w||i(x,w,t,r,s)))return m.push(C)})){b=!1;break}}else if(!(x===y||i(x,y,t,r,s))){b=!1;break}}return s.delete(e),s.delete(n),b}function mU(e){var n=-1,t=Array(e.size);return e.forEach(function(r,i){t[++n]=[i,r]}),t}function gU(e){var n=-1,t=Array(e.size);return e.forEach(function(r){t[++n]=r}),t}var bU=1,yU=2,xU="[object Boolean]",vU="[object Date]",wU="[object Error]",SU="[object Map]",AU="[object Number]",CU="[object RegExp]",EU="[object Set]",_U="[object String]",kU="[object Symbol]",NU="[object ArrayBuffer]",jU="[object DataView]",v8=Hf?Hf.prototype:void 0,F5=v8?v8.valueOf:void 0;function TU(e,n,t,r,i,s,a){switch(t){case jU:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case NU:return!(e.byteLength!=n.byteLength||!s(new Lx(e),new Lx(n)));case xU:case vU:case AU:return Qg(+e,+n);case wU:return e.name==n.name&&e.message==n.message;case CU:case _U:return e==n+"";case SU:var l=mU;case EU:var c=r&bU;if(l||(l=gU),e.size!=n.size&&!c)return!1;var d=a.get(e);if(d)return d==n;r|=yU,a.set(e,n);var h=T7(l(e),l(n),r,i,s,a);return a.delete(e),h;case kU:if(F5)return F5.call(e)==F5.call(n)}return!1}var OU=1,IU=Object.prototype,DU=IU.hasOwnProperty;function LU(e,n,t,r,i,s){var a=t&OU,l=iS(e),c=l.length,d=iS(n),h=d.length;if(c!=h&&!a)return!1;for(var g=c;g--;){var b=l[g];if(!(a?b in n:DU.call(n,b)))return!1}var m=s.get(e),x=s.get(n);if(m&&x)return m==n&&x==e;var y=!0;s.set(e,n),s.set(n,e);for(var A=a;++g<c;){b=l[g];var w=e[b],C=n[b];if(r)var k=a?r(C,w,b,n,e,s):r(w,C,b,e,n,s);if(!(k===void 0?w===C||i(w,C,t,r,s):k)){y=!1;break}A||(A=b=="constructor")}if(y&&!A){var R=e.constructor,q=n.constructor;R!=q&&"constructor"in e&&"constructor"in n&&!(typeof R=="function"&&R instanceof R&&typeof q=="function"&&q instanceof q)&&(y=!1)}return s.delete(e),s.delete(n),y}var RU=1,w8="[object Arguments]",S8="[object Array]",Sy="[object Object]",MU=Object.prototype,A8=MU.hasOwnProperty;function PU(e,n,t,r,i,s){var a=ep(e),l=ep(n),c=a?S8:mu(e),d=l?S8:mu(n);c=c==w8?Sy:c,d=d==w8?Sy:d;var h=c==Sy,g=d==Sy,b=c==d;if(b&&xg(e)){if(!xg(n))return!1;a=!0,h=!1}if(b&&!h)return s||(s=new kc),a||F6(e)?T7(e,n,t,r,i,s):TU(e,n,c,t,r,i,s);if(!(t&RU)){var m=h&&A8.call(e,"__wrapped__"),x=g&&A8.call(n,"__wrapped__");if(m||x){var y=m?e.value():e,A=x?n.value():n;return s||(s=new kc),i(y,A,t,r,s)}}return b?(s||(s=new kc),LU(e,n,t,r,i,s)):!1}function O7(e,n,t,r,i){return e===n?!0:e==null||n==null||!jd(e)&&!jd(n)?e!==e&&n!==n:PU(e,n,t,r,O7,i)}function FU(e){return function(n,t,r){for(var i=-1,s=Object(n),a=r(n),l=a.length;l--;){var c=a[++i];if(t(s[c],c,s)===!1)break}return n}}var qU=FU();function lS(e,n,t){(t!==void 0&&!Qg(e[n],t)||t===void 0&&!(n in e))&&R6(e,n,t)}function zU(e){return jd(e)&&gv(e)}function uS(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}function BU(e){return cq(e,v7(e))}function UU(e,n,t,r,i,s,a){var l=uS(e,t),c=uS(n,t),d=a.get(c);if(d){lS(e,t,d);return}var h=s?s(l,c,t+"",e,n,a):void 0,g=h===void 0;if(g){var b=ep(c),m=!b&&xg(c),x=!b&&!m&&F6(c);h=c,b||m||x?ep(l)?h=l:zU(l)?h=XF(l):m?(g=!1,h=C7(c,!0)):x?(g=!1,h=E7(c,!0)):h=[]:Pz(c)||rS(c)?(h=l,rS(l)?h=BU(l):(!Jf(l)||L6(l))&&(h=_7(c))):g=!1}g&&(a.set(c,h),i(h,c,r,s,a),a.delete(c)),lS(e,t,h)}function I7(e,n,t,r,i){e!==n&&qU(n,function(s,a){if(i||(i=new kc),Jf(s))UU(e,n,a,t,I7,r,i);else{var l=r?r(uS(e,a),s,a+"",e,n,i):void 0;l===void 0&&(l=s),lS(e,a,l)}},v7)}function kf(e,n){return O7(e,n)}var zf=mq(function(e,n,t){I7(e,n,t)}),Wt=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(Wt||{});class qc{constructor(n,t,r={}){this.attrName=n,this.keyName=t;const i=Wt.TYPE&Wt.ATTRIBUTE;this.scope=r.scope!=null?r.scope&Wt.LEVEL|i:Wt.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(n){return Array.from(n.attributes).map(t=>t.name)}add(n,t){return this.canAdd(n,t)?(n.setAttribute(this.keyName,t),!0):!1}canAdd(n,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(n){n.removeAttribute(this.keyName)}value(n){const t=n.getAttribute(this.keyName);return this.canAdd(n,t)&&t?t:""}}class _0 extends Error{constructor(n){n="[Parchment] "+n,super(n),this.message=n,this.name=this.constructor.name}}const D7=class cS{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(n,t=!1){if(n==null)return null;if(this.blots.has(n))return this.blots.get(n)||null;if(t){let r=null;try{r=n.parentNode}catch{return null}return this.find(r,t)}return null}create(n,t,r){const i=this.query(t);if(i==null)throw new _0(`Unable to create ${t} blot`);const s=i,a=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:s.create(r),l=new s(n,a,r);return cS.blots.set(l.domNode,l),l}find(n,t=!1){return cS.find(n,t)}query(n,t=Wt.ANY){let r;return typeof n=="string"?r=this.types[n]||this.attributes[n]:n instanceof Text||n.nodeType===Node.TEXT_NODE?r=this.types.text:typeof n=="number"?n&Wt.LEVEL&Wt.BLOCK?r=this.types.block:n&Wt.LEVEL&Wt.INLINE&&(r=this.types.inline):n instanceof Element&&((n.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[n.tagName]),r==null?null:"scope"in r&&t&Wt.LEVEL&r.scope&&t&Wt.TYPE&r.scope?r:null}register(...n){return n.map(t=>{const r="blotName"in t,i="attrName"in t;if(!r&&!i)throw new _0("Invalid definition");if(r&&t.blotName==="abstract")throw new _0("Cannot register abstract class");const s=r?t.blotName:i?t.attrName:void 0;return this.types[s]=t,i?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(a=>a.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(a=>{(this.tags[a]==null||t.className==null)&&(this.tags[a]=t)}))),t})}};D7.blots=new WeakMap;let U0=D7;function C8(e,n){return(e.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${n}-`)===0)}class $U extends qc{static keys(n){return(n.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(n,t){return this.canAdd(n,t)?(this.remove(n),n.classList.add(`${this.keyName}-${t}`),!0):!1}remove(n){C8(n,this.keyName).forEach(t=>{n.classList.remove(t)}),n.classList.length===0&&n.removeAttribute("class")}value(n){const t=(C8(n,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(n,t)?t:""}}const Tu=$U;function q5(e){const n=e.split("-"),t=n.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return n[0]+t}class HU extends qc{static keys(n){return(n.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(n,t){return this.canAdd(n,t)?(n.style[q5(this.keyName)]=t,!0):!1}remove(n){n.style[q5(this.keyName)]="",n.getAttribute("style")||n.removeAttribute("style")}value(n){const t=n.style[q5(this.keyName)];return this.canAdd(n,t)?t:""}}const eh=HU;class WU{constructor(n){this.attributes={},this.domNode=n,this.build()}attribute(n,t){t?n.add(this.domNode,t)&&(n.value(this.domNode)!=null?this.attributes[n.attrName]=n:delete this.attributes[n.attrName]):(n.remove(this.domNode),delete this.attributes[n.attrName])}build(){this.attributes={};const n=U0.find(this.domNode);if(n==null)return;const t=qc.keys(this.domNode),r=Tu.keys(this.domNode),i=eh.keys(this.domNode);t.concat(r).concat(i).forEach(s=>{const a=n.scroll.query(s,Wt.ATTRIBUTE);a instanceof qc&&(this.attributes[a.attrName]=a)})}copy(n){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);n.format(t,r)})}move(n){this.copy(n),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((n,t)=>(n[t]=this.attributes[t].value(this.domNode),n),{})}}const xv=WU,L7=class{constructor(n,t){this.scroll=n,this.domNode=t,U0.blots.set(t,this),this.prev=null,this.next=null}static create(n){if(this.tagName==null)throw new _0("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof n=="string"?(r=n.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof n=="number"&&(r=n),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const n=this.domNode.cloneNode(!1);return this.scroll.create(n)}detach(){this.parent!=null&&this.parent.removeChild(this),U0.blots.delete(this.domNode)}deleteAt(n,t){this.isolate(n,t).remove()}formatAt(n,t,r,i){const s=this.isolate(n,t);if(this.scroll.query(r,Wt.BLOT)!=null&&i)s.wrap(r,i);else if(this.scroll.query(r,Wt.ATTRIBUTE)!=null){const a=this.scroll.create(this.statics.scope);s.wrap(a),a.format(r,i)}}insertAt(n,t,r){const i=r==null?this.scroll.create("text",t):this.scroll.create(t,r),s=this.split(n);this.parent.insertBefore(i,s||void 0)}isolate(n,t){const r=this.split(n);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(n=this.parent){return this.parent==null||this===n?0:this.parent.children.offset(this)+this.parent.offset(n)}optimize(n){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(n,t){return n===0?this:this.next}update(n,t){}wrap(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new _0(`Cannot wrap ${n}`);return r.appendChild(this),r}};L7.blotName="abstract";let R7=L7;const M7=class extends R7{static value(n){return!0}index(n,t){return this.domNode===n||this.domNode.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(n,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return n>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};M7.scope=Wt.INLINE_BLOT;let VU=M7;const qa=VU;class YU{constructor(){this.head=null,this.tail=null,this.length=0}append(...n){if(this.insertBefore(n[0],null),n.length>1){const t=n.slice(1);this.append(...t)}}at(n){const t=this.iterator();let r=t();for(;r&&n>0;)n-=1,r=t();return r}contains(n){const t=this.iterator();let r=t();for(;r;){if(r===n)return!0;r=t()}return!1}indexOf(n){const t=this.iterator();let r=t(),i=0;for(;r;){if(r===n)return i;i+=1,r=t()}return-1}insertBefore(n,t){n!=null&&(this.remove(n),n.next=t,t!=null?(n.prev=t.prev,t.prev!=null&&(t.prev.next=n),t.prev=n,t===this.head&&(this.head=n)):this.tail!=null?(this.tail.next=n,n.prev=this.tail,this.tail=n):(n.prev=null,this.head=this.tail=n),this.length+=1)}offset(n){let t=0,r=this.head;for(;r!=null;){if(r===n)return t;t+=r.length(),r=r.next}return-1}remove(n){this.contains(n)&&(n.prev!=null&&(n.prev.next=n.next),n.next!=null&&(n.next.prev=n.prev),n===this.head&&(this.head=n.next),n===this.tail&&(this.tail=n.prev),this.length-=1)}iterator(n=this.head){return()=>{const t=n;return n!=null&&(n=n.next),t}}find(n,t=!1){const r=this.iterator();let i=r();for(;i;){const s=i.length();if(n<s||t&&n===s&&(i.next==null||i.next.length()!==0))return[i,n];n-=s,i=r()}return[null,0]}forEach(n){const t=this.iterator();let r=t();for(;r;)n(r),r=t()}forEachAt(n,t,r){if(t<=0)return;const[i,s]=this.find(n);let a=n-s;const l=this.iterator(i);let c=l();for(;c&&a<n+t;){const d=c.length();n>a?r(c,n-a,Math.min(t,a+d-n)):r(c,0,Math.min(d,n+t-a)),a+=d,c=l()}}map(n){return this.reduce((t,r)=>(t.push(n(r)),t),[])}reduce(n,t){const r=this.iterator();let i=r();for(;i;)t=n(t,i),i=r();return t}}function E8(e,n){const t=n.find(e);if(t)return t;try{return n.create(e)}catch{const r=n.create(Wt.INLINE);return Array.from(e.childNodes).forEach(i=>{r.domNode.appendChild(i)}),e.parentNode&&e.parentNode.replaceChild(r.domNode,e),r.attach(),r}}const P7=class Ef extends R7{constructor(n,t){super(n,t),this.uiNode=null,this.build()}appendChild(n){this.insertBefore(n)}attach(){super.attach(),this.children.forEach(n=>{n.attach()})}attachUI(n){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=n,Ef.uiClass&&this.uiNode.classList.add(Ef.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new YU,Array.from(this.domNode.childNodes).filter(n=>n!==this.uiNode).reverse().forEach(n=>{try{const t=E8(n,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof _0)return;throw t}})}deleteAt(n,t){if(n===0&&t===this.length())return this.remove();this.children.forEachAt(n,t,(r,i,s)=>{r.deleteAt(i,s)})}descendant(n,t=0){const[r,i]=this.children.find(t);return n.blotName==null&&n(r)||n.blotName!=null&&r instanceof n?[r,i]:r instanceof Ef?r.descendant(n,i):[null,-1]}descendants(n,t=0,r=Number.MAX_VALUE){let i=[],s=r;return this.children.forEachAt(t,r,(a,l,c)=>{(n.blotName==null&&n(a)||n.blotName!=null&&a instanceof n)&&i.push(a),a instanceof Ef&&(i=i.concat(a.descendants(n,l,s))),s-=c}),i}detach(){this.children.forEach(n=>{n.detach()}),super.detach()}enforceAllowedChildren(){let n=!1;this.children.forEach(t=>{n||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===Wt.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),n=!0):t instanceof Ef?t.unwrap():t.remove())})}formatAt(n,t,r,i){this.children.forEachAt(n,t,(s,a,l)=>{s.formatAt(a,l,r,i)})}insertAt(n,t,r){const[i,s]=this.children.find(n);if(i)i.insertAt(s,t,r);else{const a=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(a)}}insertBefore(n,t){n.parent!=null&&n.parent.children.remove(n);let r=null;this.children.insertBefore(n,t||null),n.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==n.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(n.domNode,r),n.attach()}length(){return this.children.reduce((n,t)=>n+t.length(),0)}moveChildren(n,t){this.children.forEach(r=>{n.insertBefore(r,t)})}optimize(n){if(super.optimize(n),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(n,t=!1){const[r,i]=this.children.find(n,t),s=[[this,n]];return r instanceof Ef?s.concat(r.path(i,t)):(r!=null&&s.push([r,i]),s)}removeChild(n){this.children.remove(n)}replaceWith(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;return r instanceof Ef&&this.moveChildren(r),super.replaceWith(r)}split(n,t=!1){if(!t){if(n===0)return this;if(n===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(n,this.length(),(i,s,a)=>{const l=i.split(s,t);l!=null&&r.appendChild(l)}),r}splitAfter(n){const t=this.clone();for(;n.next!=null;)t.appendChild(n.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(n,t){const r=[],i=[];n.forEach(s=>{s.target===this.domNode&&s.type==="childList"&&(r.push(...s.addedNodes),i.push(...s.removedNodes))}),i.forEach(s=>{if(s.parentNode!=null&&s.tagName!=="IFRAME"&&document.body.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const a=this.scroll.find(s);a!=null&&(a.domNode.parentNode==null||a.domNode.parentNode===this.domNode)&&a.detach()}),r.filter(s=>s.parentNode===this.domNode&&s!==this.uiNode).sort((s,a)=>s===a?0:s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(s=>{let a=null;s.nextSibling!=null&&(a=this.scroll.find(s.nextSibling));const l=E8(s,this.scroll);(l.next!==a||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,a||void 0))}),this.enforceAllowedChildren()}};P7.uiClass="";let GU=P7;const wu=GU;function QU(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const t in e)if(e[t]!==n[t])return!1;return!0}const m0=class g0 extends wu{static create(n){return super.create(n)}static formats(n,t){const r=t.query(g0.blotName);if(!(r!=null&&n.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return n.tagName.toLowerCase()}}constructor(n,t){super(n,t),this.attributes=new xv(this.domNode)}format(n,t){if(n===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof g0||(r=r.wrap(g0.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(n,Wt.INLINE);if(r==null)return;r instanceof qc?this.attributes.attribute(r,t):t&&(n!==this.statics.blotName||this.formats()[n]!==t)&&this.replaceWith(n,t)}}formats(){const n=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(n[this.statics.blotName]=t),n}formatAt(n,t,r,i){this.formats()[r]!=null||this.scroll.query(r,Wt.ATTRIBUTE)?this.isolate(n,t).format(r,i):super.formatAt(n,t,r,i)}optimize(n){super.optimize(n);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof g0&&r.prev===this&&QU(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(n,t){const r=super.replaceWith(n,t);return this.attributes.copy(r),r}update(n,t){super.update(n,t),n.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(n,t){const r=super.wrap(n,t);return r instanceof g0&&this.attributes.move(r),r}};m0.allowedChildren=[m0,qa],m0.blotName="inline",m0.scope=Wt.INLINE_BLOT,m0.tagName="SPAN";let KU=m0;const z6=KU,b0=class dS extends wu{static create(n){return super.create(n)}static formats(n,t){const r=t.query(dS.blotName);if(!(r!=null&&n.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return n.tagName.toLowerCase()}}constructor(n,t){super(n,t),this.attributes=new xv(this.domNode)}format(n,t){const r=this.scroll.query(n,Wt.BLOCK);r!=null&&(r instanceof qc?this.attributes.attribute(r,t):n===this.statics.blotName&&!t?this.replaceWith(dS.blotName):t&&(n!==this.statics.blotName||this.formats()[n]!==t)&&this.replaceWith(n,t))}formats(){const n=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(n[this.statics.blotName]=t),n}formatAt(n,t,r,i){this.scroll.query(r,Wt.BLOCK)!=null?this.format(r,i):super.formatAt(n,t,r,i)}insertAt(n,t,r){if(r==null||this.scroll.query(t,Wt.INLINE)!=null)super.insertAt(n,t,r);else{const i=this.split(n);if(i!=null){const s=this.scroll.create(t,r);i.parent.insertBefore(s,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(n,t){const r=super.replaceWith(n,t);return this.attributes.copy(r),r}update(n,t){super.update(n,t),n.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};b0.blotName="block",b0.scope=Wt.BLOCK_BLOT,b0.tagName="P",b0.allowedChildren=[z6,b0,qa];let XU=b0;const Sg=XU,fS=class extends wu{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(n,t){super.deleteAt(n,t),this.enforceAllowedChildren()}formatAt(n,t,r,i){super.formatAt(n,t,r,i),this.enforceAllowedChildren()}insertAt(n,t,r){super.insertAt(n,t,r),this.enforceAllowedChildren()}optimize(n){super.optimize(n),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};fS.blotName="container",fS.scope=Wt.BLOCK_BLOT;let ZU=fS;const vv=ZU;class JU extends qa{static formats(n,t){}format(n,t){super.formatAt(0,this.length(),n,t)}formatAt(n,t,r,i){n===0&&t===this.length()?this.format(r,i):super.formatAt(n,t,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const ul=JU,e$={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},t$=100,y0=class extends wu{constructor(n,t){super(null,t),this.registry=n,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,e$),this.attach()}create(n,t){return this.registry.create(this,n,t)}find(n,t=!1){const r=this.registry.find(n,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(n,t=Wt.ANY){return this.registry.query(n,t)}register(...n){return this.registry.register(...n)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(n,t){this.update(),n===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(n,t)}formatAt(n,t,r,i){this.update(),super.formatAt(n,t,r,i)}insertAt(n,t,r){this.update(),super.insertAt(n,t,r)}optimize(n=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)n.push(i.pop());const s=(c,d=!0)=>{c==null||c===this||c.domNode.parentNode!=null&&(r.has(c.domNode)||r.set(c.domNode,[]),d&&s(c.parent))},a=c=>{r.has(c.domNode)&&(c instanceof wu&&c.children.forEach(a),r.delete(c.domNode),c.optimize(t))};let l=n;for(let c=0;l.length>0;c+=1){if(c>=t$)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(d=>{const h=this.find(d.target,!0);h!=null&&(h.domNode===d.target&&(d.type==="childList"?(s(this.find(d.previousSibling,!1)),Array.from(d.addedNodes).forEach(g=>{const b=this.find(g,!1);s(b,!1),b instanceof wu&&b.children.forEach(m=>{s(m,!1)})})):d.type==="attributes"&&s(h.prev)),s(h))}),this.children.forEach(a),l=Array.from(this.observer.takeRecords()),i=l.slice();i.length>0;)n.push(i.pop())}}update(n,t={}){n=n||this.observer.takeRecords();const r=new WeakMap;n.map(i=>{const s=this.find(i.target,!0);return s==null?null:r.has(s.domNode)?(r.get(s.domNode).push(i),null):(r.set(s.domNode,[i]),s)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(n,t)}};y0.blotName="scroll",y0.defaultChild=Sg,y0.allowedChildren=[Sg,vv],y0.scope=Wt.BLOCK_BLOT,y0.tagName="DIV";let n$=y0;const B6=n$,hS=class F7 extends qa{static create(n){return document.createTextNode(n)}static value(n){return n.data}constructor(n,t){super(n,t),this.text=this.statics.value(this.domNode)}deleteAt(n,t){this.domNode.data=this.text=this.text.slice(0,n)+this.text.slice(n+t)}index(n,t){return this.domNode===n?t:-1}insertAt(n,t,r){r==null?(this.text=this.text.slice(0,n)+t+this.text.slice(n),this.domNode.data=this.text):super.insertAt(n,t,r)}length(){return this.text.length}optimize(n){super.optimize(n),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof F7&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(n,t=!1){return[this.domNode,n]}split(n,t=!1){if(!t){if(n===0)return this;if(n===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(n));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(n,t){n.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};hS.blotName="text",hS.scope=Wt.INLINE_BLOT;let r$=hS;const Mx=r$,i$=Object.freeze(Object.defineProperty({__proto__:null,Attributor:qc,AttributorStore:xv,BlockBlot:Sg,ClassAttributor:Tu,ContainerBlot:vv,EmbedBlot:ul,InlineBlot:z6,LeafBlot:qa,ParentBlot:wu,Registry:U0,Scope:Wt,ScrollBlot:B6,StyleAttributor:eh,TextBlot:Mx},Symbol.toStringTag,{value:"Module"}));var Ay={exports:{}},z5,_8;function s$(){if(_8)return z5;_8=1;var e=-1,n=1,t=0;function r(j,O,M,T,Q){if(j===O)return j?[[t,j]]:[];if(M!=null){var H=z(j,O,M);if(H)return H}var Y=l(j,O),Z=j.substring(0,Y);j=j.substring(Y),O=O.substring(Y),Y=d(j,O);var ae=j.substring(j.length-Y);j=j.substring(0,j.length-Y),O=O.substring(0,O.length-Y);var G=i(j,O);return Z&&G.unshift([t,Z]),ae&&G.push([t,ae]),C(G,Q),T&&g(G),G}function i(j,O){var M;if(!j)return[[n,O]];if(!O)return[[e,j]];var T=j.length>O.length?j:O,Q=j.length>O.length?O:j,H=T.indexOf(Q);if(H!==-1)return M=[[n,T.substring(0,H)],[t,Q],[n,T.substring(H+Q.length)]],j.length>O.length&&(M[0][0]=M[2][0]=e),M;if(Q.length===1)return[[e,j],[n,O]];var Y=h(j,O);if(Y){var Z=Y[0],ae=Y[1],G=Y[2],le=Y[3],U=Y[4],B=r(Z,G),ie=r(ae,le);return B.concat([[t,U]],ie)}return s(j,O)}function s(j,O){for(var M=j.length,T=O.length,Q=Math.ceil((M+T)/2),H=Q,Y=2*Q,Z=new Array(Y),ae=new Array(Y),G=0;G<Y;G++)Z[G]=-1,ae[G]=-1;Z[H+1]=0,ae[H+1]=0;for(var le=M-T,U=le%2!==0,B=0,ie=0,J=0,ne=0,xe=0;xe<Q;xe++){for(var ye=-xe+B;ye<=xe-ie;ye+=2){var Ae=H+ye,Ne;ye===-xe||ye!==xe&&Z[Ae-1]<Z[Ae+1]?Ne=Z[Ae+1]:Ne=Z[Ae-1]+1;for(var Te=Ne-ye;Ne<M&&Te<T&&j.charAt(Ne)===O.charAt(Te);)Ne++,Te++;if(Z[Ae]=Ne,Ne>M)ie+=2;else if(Te>T)B+=2;else if(U){var qe=H+le-ye;if(qe>=0&&qe<Y&&ae[qe]!==-1){var $e=M-ae[qe];if(Ne>=$e)return a(j,O,Ne,Te)}}}for(var V=-xe+J;V<=xe-ne;V+=2){var qe=H+V,$e;V===-xe||V!==xe&&ae[qe-1]<ae[qe+1]?$e=ae[qe+1]:$e=ae[qe-1]+1;for(var we=$e-V;$e<M&&we<T&&j.charAt(M-$e-1)===O.charAt(T-we-1);)$e++,we++;if(ae[qe]=$e,$e>M)ne+=2;else if(we>T)J+=2;else if(!U){var Ae=H+le-V;if(Ae>=0&&Ae<Y&&Z[Ae]!==-1){var Ne=Z[Ae],Te=H+Ne-Ae;if($e=M-$e,Ne>=$e)return a(j,O,Ne,Te)}}}}return[[e,j],[n,O]]}function a(j,O,M,T){var Q=j.substring(0,M),H=O.substring(0,T),Y=j.substring(M),Z=O.substring(T),ae=r(Q,H),G=r(Y,Z);return ae.concat(G)}function l(j,O){if(!j||!O||j.charAt(0)!==O.charAt(0))return 0;for(var M=0,T=Math.min(j.length,O.length),Q=T,H=0;M<Q;)j.substring(H,Q)==O.substring(H,Q)?(M=Q,H=M):T=Q,Q=Math.floor((T-M)/2+M);return k(j.charCodeAt(Q-1))&&Q--,Q}function c(j,O){var M=j.length,T=O.length;if(M==0||T==0)return 0;M>T?j=j.substring(M-T):M<T&&(O=O.substring(0,M));var Q=Math.min(M,T);if(j==O)return Q;for(var H=0,Y=1;;){var Z=j.substring(Q-Y),ae=O.indexOf(Z);if(ae==-1)return H;Y+=ae,(ae==0||j.substring(Q-Y)==O.substring(0,Y))&&(H=Y,Y++)}}function d(j,O){if(!j||!O||j.slice(-1)!==O.slice(-1))return 0;for(var M=0,T=Math.min(j.length,O.length),Q=T,H=0;M<Q;)j.substring(j.length-Q,j.length-H)==O.substring(O.length-Q,O.length-H)?(M=Q,H=M):T=Q,Q=Math.floor((T-M)/2+M);return R(j.charCodeAt(j.length-Q))&&Q--,Q}function h(j,O){var M=j.length>O.length?j:O,T=j.length>O.length?O:j;if(M.length<4||T.length*2<M.length)return null;function Q(ie,J,ne){for(var xe=ie.substring(ne,ne+Math.floor(ie.length/4)),ye=-1,Ae="",Ne,Te,qe,$e;(ye=J.indexOf(xe,ye+1))!==-1;){var V=l(ie.substring(ne),J.substring(ye)),we=d(ie.substring(0,ne),J.substring(0,ye));Ae.length<we+V&&(Ae=J.substring(ye-we,ye)+J.substring(ye,ye+V),Ne=ie.substring(0,ne-we),Te=ie.substring(ne+V),qe=J.substring(0,ye-we),$e=J.substring(ye+V))}return Ae.length*2>=ie.length?[Ne,Te,qe,$e,Ae]:null}var H=Q(M,T,Math.ceil(M.length/4)),Y=Q(M,T,Math.ceil(M.length/2)),Z;if(!H&&!Y)return null;Y?H?Z=H[4].length>Y[4].length?H:Y:Z=Y:Z=H;var ae,G,le,U;j.length>O.length?(ae=Z[0],G=Z[1],le=Z[2],U=Z[3]):(le=Z[0],U=Z[1],ae=Z[2],G=Z[3]);var B=Z[4];return[ae,G,le,U,B]}function g(j){for(var O=!1,M=[],T=0,Q=null,H=0,Y=0,Z=0,ae=0,G=0;H<j.length;)j[H][0]==t?(M[T++]=H,Y=ae,Z=G,ae=0,G=0,Q=j[H][1]):(j[H][0]==n?ae+=j[H][1].length:G+=j[H][1].length,Q&&Q.length<=Math.max(Y,Z)&&Q.length<=Math.max(ae,G)&&(j.splice(M[T-1],0,[e,Q]),j[M[T-1]+1][0]=n,T--,T--,H=T>0?M[T-1]:-1,Y=0,Z=0,ae=0,G=0,Q=null,O=!0)),H++;for(O&&C(j),w(j),H=1;H<j.length;){if(j[H-1][0]==e&&j[H][0]==n){var le=j[H-1][1],U=j[H][1],B=c(le,U),ie=c(U,le);B>=ie?(B>=le.length/2||B>=U.length/2)&&(j.splice(H,0,[t,U.substring(0,B)]),j[H-1][1]=le.substring(0,le.length-B),j[H+1][1]=U.substring(B),H++):(ie>=le.length/2||ie>=U.length/2)&&(j.splice(H,0,[t,le.substring(0,ie)]),j[H-1][0]=n,j[H-1][1]=U.substring(0,U.length-ie),j[H+1][0]=e,j[H+1][1]=le.substring(ie),H++),H++}H++}}var b=/[^a-zA-Z0-9]/,m=/\s/,x=/[\r\n]/,y=/\n\r?\n$/,A=/^\r?\n\r?\n/;function w(j){function O(ie,J){if(!ie||!J)return 6;var ne=ie.charAt(ie.length-1),xe=J.charAt(0),ye=ne.match(b),Ae=xe.match(b),Ne=ye&&ne.match(m),Te=Ae&&xe.match(m),qe=Ne&&ne.match(x),$e=Te&&xe.match(x),V=qe&&ie.match(y),we=$e&&J.match(A);return V||we?5:qe||$e?4:ye&&!Ne&&Te?3:Ne||Te?2:ye||Ae?1:0}for(var M=1;M<j.length-1;){if(j[M-1][0]==t&&j[M+1][0]==t){var T=j[M-1][1],Q=j[M][1],H=j[M+1][1],Y=d(T,Q);if(Y){var Z=Q.substring(Q.length-Y);T=T.substring(0,T.length-Y),Q=Z+Q.substring(0,Q.length-Y),H=Z+H}for(var ae=T,G=Q,le=H,U=O(T,Q)+O(Q,H);Q.charAt(0)===H.charAt(0);){T+=Q.charAt(0),Q=Q.substring(1)+H.charAt(0),H=H.substring(1);var B=O(T,Q)+O(Q,H);B>=U&&(U=B,ae=T,G=Q,le=H)}j[M-1][1]!=ae&&(ae?j[M-1][1]=ae:(j.splice(M-1,1),M--),j[M][1]=G,le?j[M+1][1]=le:(j.splice(M+1,1),M--))}M++}}function C(j,O){j.push([t,""]);for(var M=0,T=0,Q=0,H="",Y="",Z;M<j.length;){if(M<j.length-1&&!j[M][1]){j.splice(M,1);continue}switch(j[M][0]){case n:Q++,Y+=j[M][1],M++;break;case e:T++,H+=j[M][1],M++;break;case t:var ae=M-Q-T-1;if(O){if(ae>=0&&D(j[ae][1])){var G=j[ae][1].slice(-1);if(j[ae][1]=j[ae][1].slice(0,-1),H=G+H,Y=G+Y,!j[ae][1]){j.splice(ae,1),M--;var le=ae-1;j[le]&&j[le][0]===n&&(Q++,Y=j[le][1]+Y,le--),j[le]&&j[le][0]===e&&(T++,H=j[le][1]+H,le--),ae=le}}if(q(j[M][1])){var G=j[M][1].charAt(0);j[M][1]=j[M][1].slice(1),H+=G,Y+=G}}if(M<j.length-1&&!j[M][1]){j.splice(M,1);break}if(H.length>0||Y.length>0){H.length>0&&Y.length>0&&(Z=l(Y,H),Z!==0&&(ae>=0?j[ae][1]+=Y.substring(0,Z):(j.splice(0,0,[t,Y.substring(0,Z)]),M++),Y=Y.substring(Z),H=H.substring(Z)),Z=d(Y,H),Z!==0&&(j[M][1]=Y.substring(Y.length-Z)+j[M][1],Y=Y.substring(0,Y.length-Z),H=H.substring(0,H.length-Z)));var U=Q+T;H.length===0&&Y.length===0?(j.splice(M-U,U),M=M-U):H.length===0?(j.splice(M-U,U,[n,Y]),M=M-U+1):Y.length===0?(j.splice(M-U,U,[e,H]),M=M-U+1):(j.splice(M-U,U,[e,H],[n,Y]),M=M-U+2)}M!==0&&j[M-1][0]===t?(j[M-1][1]+=j[M][1],j.splice(M,1)):M++,Q=0,T=0,H="",Y="";break}}j[j.length-1][1]===""&&j.pop();var B=!1;for(M=1;M<j.length-1;)j[M-1][0]===t&&j[M+1][0]===t&&(j[M][1].substring(j[M][1].length-j[M-1][1].length)===j[M-1][1]?(j[M][1]=j[M-1][1]+j[M][1].substring(0,j[M][1].length-j[M-1][1].length),j[M+1][1]=j[M-1][1]+j[M+1][1],j.splice(M-1,1),B=!0):j[M][1].substring(0,j[M+1][1].length)==j[M+1][1]&&(j[M-1][1]+=j[M+1][1],j[M][1]=j[M][1].substring(j[M+1][1].length)+j[M+1][1],j.splice(M+1,1),B=!0)),M++;B&&C(j,O)}function k(j){return j>=55296&&j<=56319}function R(j){return j>=56320&&j<=57343}function q(j){return R(j.charCodeAt(0))}function D(j){return k(j.charCodeAt(j.length-1))}function N(j){for(var O=[],M=0;M<j.length;M++)j[M][1].length>0&&O.push(j[M]);return O}function P(j,O,M,T){return D(j)||q(T)?null:N([[t,j],[e,O],[n,M],[t,T]])}function z(j,O,M){var T=typeof M=="number"?{index:M,length:0}:M.oldRange,Q=typeof M=="number"?null:M.newRange,H=j.length,Y=O.length;if(T.length===0&&(Q===null||Q.length===0)){var Z=T.index,ae=j.slice(0,Z),G=j.slice(Z),le=Q?Q.index:null;e:{var U=Z+Y-H;if(le!==null&&le!==U||U<0||U>Y)break e;var B=O.slice(0,U),ie=O.slice(U);if(ie!==G)break e;var J=Math.min(Z,U),ne=ae.slice(0,J),xe=B.slice(0,J);if(ne!==xe)break e;var ye=ae.slice(J),Ae=B.slice(J);return P(ne,ye,Ae,G)}e:{if(le!==null&&le!==Z)break e;var Ne=Z,B=O.slice(0,Ne),ie=O.slice(Ne);if(B!==ae)break e;var Te=Math.min(H-Ne,Y-Ne),qe=G.slice(G.length-Te),$e=ie.slice(ie.length-Te);if(qe!==$e)break e;var ye=G.slice(0,G.length-Te),Ae=ie.slice(0,ie.length-Te);return P(ae,ye,Ae,qe)}}if(T.length>0&&Q&&Q.length===0)e:{var ne=j.slice(0,T.index),qe=j.slice(T.index+T.length),J=ne.length,Te=qe.length;if(Y<J+Te)break e;var xe=O.slice(0,J),$e=O.slice(Y-Te);if(ne!==xe||qe!==$e)break e;var ye=j.slice(J,H-Te),Ae=O.slice(J,Y-Te);return P(ne,ye,Ae,qe)}return null}function X(j,O,M,T){return r(j,O,M,T,!0)}return X.INSERT=n,X.DELETE=e,X.EQUAL=t,z5=X,z5}var G1={exports:{}};G1.exports;var k8;function q7(){return k8||(k8=1,function(e,n){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",a="[object Array]",l="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Function]",g="[object GeneratorFunction]",b="[object Map]",m="[object Number]",x="[object Object]",y="[object Promise]",A="[object RegExp]",w="[object Set]",C="[object String]",k="[object Symbol]",R="[object WeakMap]",q="[object ArrayBuffer]",D="[object DataView]",N="[object Float32Array]",P="[object Float64Array]",z="[object Int8Array]",X="[object Int16Array]",j="[object Int32Array]",O="[object Uint8Array]",M="[object Uint8ClampedArray]",T="[object Uint16Array]",Q="[object Uint32Array]",H=/[\\^$.*+?()[\]{}|]/g,Y=/\w*$/,Z=/^\[object .+?Constructor\]$/,ae=/^(?:0|[1-9]\d*)$/,G={};G[s]=G[a]=G[q]=G[D]=G[l]=G[c]=G[N]=G[P]=G[z]=G[X]=G[j]=G[b]=G[m]=G[x]=G[A]=G[w]=G[C]=G[k]=G[O]=G[M]=G[T]=G[Q]=!0,G[d]=G[h]=G[R]=!1;var le=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,U=typeof self=="object"&&self&&self.Object===Object&&self,B=le||U||Function("return this")(),ie=n&&!n.nodeType&&n,J=ie&&!0&&e&&!e.nodeType&&e,ne=J&&J.exports===ie;function xe($,me){return $.set(me[0],me[1]),$}function ye($,me){return $.add(me),$}function Ae($,me){for(var ke=-1,st=$?$.length:0;++ke<st&&me($[ke],ke,$)!==!1;);return $}function Ne($,me){for(var ke=-1,st=me.length,Kt=$.length;++ke<st;)$[Kt+ke]=me[ke];return $}function Te($,me,ke,st){for(var Kt=-1,zt=$?$.length:0;++Kt<zt;)ke=me(ke,$[Kt],Kt,$);return ke}function qe($,me){for(var ke=-1,st=Array($);++ke<$;)st[ke]=me(ke);return st}function $e($,me){return $==null?void 0:$[me]}function V($){var me=!1;if($!=null&&typeof $.toString!="function")try{me=!!($+"")}catch{}return me}function we($){var me=-1,ke=Array($.size);return $.forEach(function(st,Kt){ke[++me]=[Kt,st]}),ke}function se($,me){return function(ke){return $(me(ke))}}function he($){var me=-1,ke=Array($.size);return $.forEach(function(st){ke[++me]=st}),ke}var de=Array.prototype,ve=Function.prototype,Oe=Object.prototype,Re=B["__core-js_shared__"],Ee=function(){var $=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return $?"Symbol(src)_1."+$:""}(),Ge=ve.toString,Xe=Oe.hasOwnProperty,Be=Oe.toString,rt=RegExp("^"+Ge.call(Xe).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),je=ne?B.Buffer:void 0,He=B.Symbol,Je=B.Uint8Array,At=se(Object.getPrototypeOf,Object),lt=Object.create,tn=Oe.propertyIsEnumerable,jt=de.splice,_n=Object.getOwnPropertySymbols,Gt=je?je.isBuffer:void 0,Xt=se(Object.keys,Object),Zt=Ji(B,"DataView"),nn=Ji(B,"Map"),Rn=Ji(B,"Promise"),Mn=Ji(B,"Set"),Nr=Ji(B,"WeakMap"),Zn=Ji(Object,"create"),In=ai(Zt),Bt=ai(nn),vn=ai(Rn),Di=ai(Mn),cr=ai(Nr),Vr=He?He.prototype:void 0,Li=Vr?Vr.valueOf:void 0;function Ot($){var me=-1,ke=$?$.length:0;for(this.clear();++me<ke;){var st=$[me];this.set(st[0],st[1])}}function zn(){this.__data__=Zn?Zn(null):{}}function Jn($){return this.has($)&&delete this.__data__[$]}function xr($){var me=this.__data__;if(Zn){var ke=me[$];return ke===r?void 0:ke}return Xe.call(me,$)?me[$]:void 0}function nr($){var me=this.__data__;return Zn?me[$]!==void 0:Xe.call(me,$)}function rr($,me){var ke=this.__data__;return ke[$]=Zn&&me===void 0?r:me,this}Ot.prototype.clear=zn,Ot.prototype.delete=Jn,Ot.prototype.get=xr,Ot.prototype.has=nr,Ot.prototype.set=rr;function gn($){var me=-1,ke=$?$.length:0;for(this.clear();++me<ke;){var st=$[me];this.set(st[0],st[1])}}function va(){this.__data__=[]}function Xi($){var me=this.__data__,ke=an(me,$);if(ke<0)return!1;var st=me.length-1;return ke==st?me.pop():jt.call(me,ke,1),!0}function Zi($){var me=this.__data__,ke=an(me,$);return ke<0?void 0:me[ke][1]}function hi($){return an(this.__data__,$)>-1}function pi($,me){var ke=this.__data__,st=an(ke,$);return st<0?ke.push([$,me]):ke[st][1]=me,this}gn.prototype.clear=va,gn.prototype.delete=Xi,gn.prototype.get=Zi,gn.prototype.has=hi,gn.prototype.set=pi;function Gn($){var me=-1,ke=$?$.length:0;for(this.clear();++me<ke;){var st=$[me];this.set(st[0],st[1])}}function si(){this.__data__={hash:new Ot,map:new(nn||gn),string:new Ot}}function Qn($){return Za(this,$).delete($)}function sa($){return Za(this,$).get($)}function wa($){return Za(this,$).has($)}function fs($,me){return Za(this,$).set($,me),this}Gn.prototype.clear=si,Gn.prototype.delete=Qn,Gn.prototype.get=sa,Gn.prototype.has=wa,Gn.prototype.set=fs;function vr($){this.__data__=new gn($)}function Va(){this.__data__=new gn}function ho($){return this.__data__.delete($)}function pt($){return this.__data__.get($)}function wt($){return this.__data__.has($)}function St($,me){var ke=this.__data__;if(ke instanceof gn){var st=ke.__data__;if(!nn||st.length<t-1)return st.push([$,me]),this;ke=this.__data__=new Gn(st)}return ke.set($,me),this}vr.prototype.clear=Va,vr.prototype.delete=ho,vr.prototype.get=pt,vr.prototype.has=wt,vr.prototype.set=St;function Rt($,me){var ke=fl($)||po($)?qe($.length,String):[],st=ke.length,Kt=!!st;for(var zt in $)Xe.call($,zt)&&!(Kt&&(zt=="length"||cl(zt,st)))&&ke.push(zt);return ke}function Tt($,me,ke){var st=$[me];(!(Xe.call($,me)&&en(st,ke))||ke===void 0&&!(me in $))&&($[me]=ke)}function an($,me){for(var ke=$.length;ke--;)if(en($[ke][0],me))return ke;return-1}function En($,me){return $&&Lo(me,hl(me),$)}function Kn($,me,ke,st,Kt,zt,Dn){var kn;if(st&&(kn=zt?st($,Kt,zt,Dn):st($)),kn!==void 0)return kn;if(!Ys($))return $;var wr=fl($);if(wr){if(kn=Fu($),!me)return Hl($,kn)}else{var bn=Sa($),qr=bn==h||bn==g;if(Ro($))return aa($,me);if(bn==x||bn==s||qr&&!zt){if(V($))return zt?$:{};if(kn=Hs(qr?{}:$),!me)return Xa($,En(kn,$))}else{if(!G[bn])return zt?$:{};kn=Ja($,bn,Kn,me)}}Dn||(Dn=new vr);var Ts=Dn.get($);if(Ts)return Ts;if(Dn.set($,kn),!wr)var Or=ke?Pu($):hl($);return Ae(Or||$,function(Ir,ti){Or&&(ti=Ir,Ir=$[ti]),Tt(kn,ti,Kn(Ir,me,ke,st,ti,$,Dn))}),kn}function jr($){return Ys($)?lt($):{}}function mi($,me,ke){var st=me($);return fl($)?st:Ne(st,ke($))}function Ya($){return Be.call($)}function Hn($){if(!Ys($)||dl($))return!1;var me=Vs($)||V($)?rt:Z;return me.test(ai($))}function Tr($){if(!gi($))return Xt($);var me=[];for(var ke in Object($))Xe.call($,ke)&&ke!="constructor"&&me.push(ke);return me}function aa($,me){if(me)return $.slice();var ke=new $.constructor($.length);return $.copy(ke),ke}function Ga($){var me=new $.constructor($.byteLength);return new Je(me).set(new Je($)),me}function Ri($,me){var ke=me?Ga($.buffer):$.buffer;return new $.constructor(ke,$.byteOffset,$.byteLength)}function Qa($,me,ke){var st=me?ke(we($),!0):we($);return Te(st,xe,new $.constructor)}function Ci($){var me=new $.constructor($.source,Y.exec($));return me.lastIndex=$.lastIndex,me}function Ka($,me,ke){var st=me?ke(he($),!0):he($);return Te(st,ye,new $.constructor)}function dr($){return Li?Object(Li.call($)):{}}function Do($,me){var ke=me?Ga($.buffer):$.buffer;return new $.constructor(ke,$.byteOffset,$.length)}function Hl($,me){var ke=-1,st=$.length;for(me||(me=Array(st));++ke<st;)me[ke]=$[ke];return me}function Lo($,me,ke,st){ke||(ke={});for(var Kt=-1,zt=me.length;++Kt<zt;){var Dn=me[Kt],kn=void 0;Tt(ke,Dn,kn===void 0?$[Dn]:kn)}return ke}function Xa($,me){return Lo($,oa($),me)}function Pu($){return mi($,hl,oa)}function Za($,me){var ke=$.__data__;return eo(me)?ke[typeof me=="string"?"string":"hash"]:ke.map}function Ji($,me){var ke=$e($,me);return Hn(ke)?ke:void 0}var oa=_n?se(_n,Object):mo,Sa=Ya;(Zt&&Sa(new Zt(new ArrayBuffer(1)))!=D||nn&&Sa(new nn)!=b||Rn&&Sa(Rn.resolve())!=y||Mn&&Sa(new Mn)!=w||Nr&&Sa(new Nr)!=R)&&(Sa=function($){var me=Be.call($),ke=me==x?$.constructor:void 0,st=ke?ai(ke):void 0;if(st)switch(st){case In:return D;case Bt:return b;case vn:return y;case Di:return w;case cr:return R}return me});function Fu($){var me=$.length,ke=$.constructor(me);return me&&typeof $[0]=="string"&&Xe.call($,"index")&&(ke.index=$.index,ke.input=$.input),ke}function Hs($){return typeof $.constructor=="function"&&!gi($)?jr(At($)):{}}function Ja($,me,ke,st){var Kt=$.constructor;switch(me){case q:return Ga($);case l:case c:return new Kt(+$);case D:return Ri($,st);case N:case P:case z:case X:case j:case O:case M:case T:case Q:return Do($,st);case b:return Qa($,st,ke);case m:case C:return new Kt($);case A:return Ci($);case w:return Ka($,st,ke);case k:return dr($)}}function cl($,me){return me=me??i,!!me&&(typeof $=="number"||ae.test($))&&$>-1&&$%1==0&&$<me}function eo($){var me=typeof $;return me=="string"||me=="number"||me=="symbol"||me=="boolean"?$!=="__proto__":$===null}function dl($){return!!Ee&&Ee in $}function gi($){var me=$&&$.constructor,ke=typeof me=="function"&&me.prototype||Oe;return $===ke}function ai($){if($!=null){try{return Ge.call($)}catch{}try{return $+""}catch{}}return""}function Aa($){return Kn($,!0,!0)}function en($,me){return $===me||$!==$&&me!==me}function po($){return Ws($)&&Xe.call($,"callee")&&(!tn.call($,"callee")||Be.call($)==s)}var fl=Array.isArray;function Mi($){return $!=null&&zs($.length)&&!Vs($)}function Ws($){return Mo($)&&Mi($)}var Ro=Gt||Ca;function Vs($){var me=Ys($)?Be.call($):"";return me==h||me==g}function zs($){return typeof $=="number"&&$>-1&&$%1==0&&$<=i}function Ys($){var me=typeof $;return!!$&&(me=="object"||me=="function")}function Mo($){return!!$&&typeof $=="object"}function hl($){return Mi($)?Rt($):Tr($)}function mo(){return[]}function Ca(){return!1}e.exports=Aa}(G1,G1.exports)),G1.exports}var Q1={exports:{}};Q1.exports;var N8;function z7(){return N8||(N8=1,function(e,n){var t=200,r="__lodash_hash_undefined__",i=1,s=2,a=9007199254740991,l="[object Arguments]",c="[object Array]",d="[object AsyncFunction]",h="[object Boolean]",g="[object Date]",b="[object Error]",m="[object Function]",x="[object GeneratorFunction]",y="[object Map]",A="[object Number]",w="[object Null]",C="[object Object]",k="[object Promise]",R="[object Proxy]",q="[object RegExp]",D="[object Set]",N="[object String]",P="[object Symbol]",z="[object Undefined]",X="[object WeakMap]",j="[object ArrayBuffer]",O="[object DataView]",M="[object Float32Array]",T="[object Float64Array]",Q="[object Int8Array]",H="[object Int16Array]",Y="[object Int32Array]",Z="[object Uint8Array]",ae="[object Uint8ClampedArray]",G="[object Uint16Array]",le="[object Uint32Array]",U=/[\\^$.*+?()[\]{}|]/g,B=/^\[object .+?Constructor\]$/,ie=/^(?:0|[1-9]\d*)$/,J={};J[M]=J[T]=J[Q]=J[H]=J[Y]=J[Z]=J[ae]=J[G]=J[le]=!0,J[l]=J[c]=J[j]=J[h]=J[O]=J[g]=J[b]=J[m]=J[y]=J[A]=J[C]=J[q]=J[D]=J[N]=J[X]=!1;var ne=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,xe=typeof self=="object"&&self&&self.Object===Object&&self,ye=ne||xe||Function("return this")(),Ae=n&&!n.nodeType&&n,Ne=Ae&&!0&&e&&!e.nodeType&&e,Te=Ne&&Ne.exports===Ae,qe=Te&&ne.process,$e=function(){try{return qe&&qe.binding&&qe.binding("util")}catch{}}(),V=$e&&$e.isTypedArray;function we($,me){for(var ke=-1,st=$==null?0:$.length,Kt=0,zt=[];++ke<st;){var Dn=$[ke];me(Dn,ke,$)&&(zt[Kt++]=Dn)}return zt}function se($,me){for(var ke=-1,st=me.length,Kt=$.length;++ke<st;)$[Kt+ke]=me[ke];return $}function he($,me){for(var ke=-1,st=$==null?0:$.length;++ke<st;)if(me($[ke],ke,$))return!0;return!1}function de($,me){for(var ke=-1,st=Array($);++ke<$;)st[ke]=me(ke);return st}function ve($){return function(me){return $(me)}}function Oe($,me){return $.has(me)}function Re($,me){return $==null?void 0:$[me]}function Ee($){var me=-1,ke=Array($.size);return $.forEach(function(st,Kt){ke[++me]=[Kt,st]}),ke}function Ge($,me){return function(ke){return $(me(ke))}}function Xe($){var me=-1,ke=Array($.size);return $.forEach(function(st){ke[++me]=st}),ke}var Be=Array.prototype,rt=Function.prototype,je=Object.prototype,He=ye["__core-js_shared__"],Je=rt.toString,At=je.hasOwnProperty,lt=function(){var $=/[^.]+$/.exec(He&&He.keys&&He.keys.IE_PROTO||"");return $?"Symbol(src)_1."+$:""}(),tn=je.toString,jt=RegExp("^"+Je.call(At).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_n=Te?ye.Buffer:void 0,Gt=ye.Symbol,Xt=ye.Uint8Array,Zt=je.propertyIsEnumerable,nn=Be.splice,Rn=Gt?Gt.toStringTag:void 0,Mn=Object.getOwnPropertySymbols,Nr=_n?_n.isBuffer:void 0,Zn=Ge(Object.keys,Object),In=oa(ye,"DataView"),Bt=oa(ye,"Map"),vn=oa(ye,"Promise"),Di=oa(ye,"Set"),cr=oa(ye,"WeakMap"),Vr=oa(Object,"create"),Li=ai(In),Ot=ai(Bt),zn=ai(vn),Jn=ai(Di),xr=ai(cr),nr=Gt?Gt.prototype:void 0,rr=nr?nr.valueOf:void 0;function gn($){var me=-1,ke=$==null?0:$.length;for(this.clear();++me<ke;){var st=$[me];this.set(st[0],st[1])}}function va(){this.__data__=Vr?Vr(null):{},this.size=0}function Xi($){var me=this.has($)&&delete this.__data__[$];return this.size-=me?1:0,me}function Zi($){var me=this.__data__;if(Vr){var ke=me[$];return ke===r?void 0:ke}return At.call(me,$)?me[$]:void 0}function hi($){var me=this.__data__;return Vr?me[$]!==void 0:At.call(me,$)}function pi($,me){var ke=this.__data__;return this.size+=this.has($)?0:1,ke[$]=Vr&&me===void 0?r:me,this}gn.prototype.clear=va,gn.prototype.delete=Xi,gn.prototype.get=Zi,gn.prototype.has=hi,gn.prototype.set=pi;function Gn($){var me=-1,ke=$==null?0:$.length;for(this.clear();++me<ke;){var st=$[me];this.set(st[0],st[1])}}function si(){this.__data__=[],this.size=0}function Qn($){var me=this.__data__,ke=aa(me,$);if(ke<0)return!1;var st=me.length-1;return ke==st?me.pop():nn.call(me,ke,1),--this.size,!0}function sa($){var me=this.__data__,ke=aa(me,$);return ke<0?void 0:me[ke][1]}function wa($){return aa(this.__data__,$)>-1}function fs($,me){var ke=this.__data__,st=aa(ke,$);return st<0?(++this.size,ke.push([$,me])):ke[st][1]=me,this}Gn.prototype.clear=si,Gn.prototype.delete=Qn,Gn.prototype.get=sa,Gn.prototype.has=wa,Gn.prototype.set=fs;function vr($){var me=-1,ke=$==null?0:$.length;for(this.clear();++me<ke;){var st=$[me];this.set(st[0],st[1])}}function Va(){this.size=0,this.__data__={hash:new gn,map:new(Bt||Gn),string:new gn}}function ho($){var me=Ji(this,$).delete($);return this.size-=me?1:0,me}function pt($){return Ji(this,$).get($)}function wt($){return Ji(this,$).has($)}function St($,me){var ke=Ji(this,$),st=ke.size;return ke.set($,me),this.size+=ke.size==st?0:1,this}vr.prototype.clear=Va,vr.prototype.delete=ho,vr.prototype.get=pt,vr.prototype.has=wt,vr.prototype.set=St;function Rt($){var me=-1,ke=$==null?0:$.length;for(this.__data__=new vr;++me<ke;)this.add($[me])}function Tt($){return this.__data__.set($,r),this}function an($){return this.__data__.has($)}Rt.prototype.add=Rt.prototype.push=Tt,Rt.prototype.has=an;function En($){var me=this.__data__=new Gn($);this.size=me.size}function Kn(){this.__data__=new Gn,this.size=0}function jr($){var me=this.__data__,ke=me.delete($);return this.size=me.size,ke}function mi($){return this.__data__.get($)}function Ya($){return this.__data__.has($)}function Hn($,me){var ke=this.__data__;if(ke instanceof Gn){var st=ke.__data__;if(!Bt||st.length<t-1)return st.push([$,me]),this.size=++ke.size,this;ke=this.__data__=new vr(st)}return ke.set($,me),this.size=ke.size,this}En.prototype.clear=Kn,En.prototype.delete=jr,En.prototype.get=mi,En.prototype.has=Ya,En.prototype.set=Hn;function Tr($,me){var ke=po($),st=!ke&&en($),Kt=!ke&&!st&&Mi($),zt=!ke&&!st&&!Kt&&Mo($),Dn=ke||st||Kt||zt,kn=Dn?de($.length,String):[],wr=kn.length;for(var bn in $)At.call($,bn)&&!(Dn&&(bn=="length"||Kt&&(bn=="offset"||bn=="parent")||zt&&(bn=="buffer"||bn=="byteLength"||bn=="byteOffset")||Ja(bn,wr)))&&kn.push(bn);return kn}function aa($,me){for(var ke=$.length;ke--;)if(Aa($[ke][0],me))return ke;return-1}function Ga($,me,ke){var st=me($);return po($)?st:se(st,ke($))}function Ri($){return $==null?$===void 0?z:w:Rn&&Rn in Object($)?Sa($):gi($)}function Qa($){return Ys($)&&Ri($)==l}function Ci($,me,ke,st,Kt){return $===me?!0:$==null||me==null||!Ys($)&&!Ys(me)?$!==$&&me!==me:Ka($,me,ke,st,Ci,Kt)}function Ka($,me,ke,st,Kt,zt){var Dn=po($),kn=po(me),wr=Dn?c:Hs($),bn=kn?c:Hs(me);wr=wr==l?C:wr,bn=bn==l?C:bn;var qr=wr==C,Ts=bn==C,Or=wr==bn;if(Or&&Mi($)){if(!Mi(me))return!1;Dn=!0,qr=!1}if(Or&&!qr)return zt||(zt=new En),Dn||Mo($)?Lo($,me,ke,st,Kt,zt):Xa($,me,wr,ke,st,Kt,zt);if(!(ke&i)){var Ir=qr&&At.call($,"__wrapped__"),ti=Ts&&At.call(me,"__wrapped__");if(Ir||ti){var Gs=Ir?$.value():$,to=ti?me.value():me;return zt||(zt=new En),Kt(Gs,to,ke,st,zt)}}return Or?(zt||(zt=new En),Pu($,me,ke,st,Kt,zt)):!1}function dr($){if(!zs($)||eo($))return!1;var me=Ro($)?jt:B;return me.test(ai($))}function Do($){return Ys($)&&Vs($.length)&&!!J[Ri($)]}function Hl($){if(!dl($))return Zn($);var me=[];for(var ke in Object($))At.call($,ke)&&ke!="constructor"&&me.push(ke);return me}function Lo($,me,ke,st,Kt,zt){var Dn=ke&i,kn=$.length,wr=me.length;if(kn!=wr&&!(Dn&&wr>kn))return!1;var bn=zt.get($);if(bn&&zt.get(me))return bn==me;var qr=-1,Ts=!0,Or=ke&s?new Rt:void 0;for(zt.set($,me),zt.set(me,$);++qr<kn;){var Ir=$[qr],ti=me[qr];if(st)var Gs=Dn?st(ti,Ir,qr,me,$,zt):st(Ir,ti,qr,$,me,zt);if(Gs!==void 0){if(Gs)continue;Ts=!1;break}if(Or){if(!he(me,function(to,Ea){if(!Oe(Or,Ea)&&(Ir===to||Kt(Ir,to,ke,st,zt)))return Or.push(Ea)})){Ts=!1;break}}else if(!(Ir===ti||Kt(Ir,ti,ke,st,zt))){Ts=!1;break}}return zt.delete($),zt.delete(me),Ts}function Xa($,me,ke,st,Kt,zt,Dn){switch(ke){case O:if($.byteLength!=me.byteLength||$.byteOffset!=me.byteOffset)return!1;$=$.buffer,me=me.buffer;case j:return!($.byteLength!=me.byteLength||!zt(new Xt($),new Xt(me)));case h:case g:case A:return Aa(+$,+me);case b:return $.name==me.name&&$.message==me.message;case q:case N:return $==me+"";case y:var kn=Ee;case D:var wr=st&i;if(kn||(kn=Xe),$.size!=me.size&&!wr)return!1;var bn=Dn.get($);if(bn)return bn==me;st|=s,Dn.set($,me);var qr=Lo(kn($),kn(me),st,Kt,zt,Dn);return Dn.delete($),qr;case P:if(rr)return rr.call($)==rr.call(me)}return!1}function Pu($,me,ke,st,Kt,zt){var Dn=ke&i,kn=Za($),wr=kn.length,bn=Za(me),qr=bn.length;if(wr!=qr&&!Dn)return!1;for(var Ts=wr;Ts--;){var Or=kn[Ts];if(!(Dn?Or in me:At.call(me,Or)))return!1}var Ir=zt.get($);if(Ir&&zt.get(me))return Ir==me;var ti=!0;zt.set($,me),zt.set(me,$);for(var Gs=Dn;++Ts<wr;){Or=kn[Ts];var to=$[Or],Ea=me[Or];if(st)var qd=Dn?st(Ea,to,Or,me,$,zt):st(to,Ea,Or,$,me,zt);if(!(qd===void 0?to===Ea||Kt(to,Ea,ke,st,zt):qd)){ti=!1;break}Gs||(Gs=Or=="constructor")}if(ti&&!Gs){var pl=$.constructor,Po=me.constructor;pl!=Po&&"constructor"in $&&"constructor"in me&&!(typeof pl=="function"&&pl instanceof pl&&typeof Po=="function"&&Po instanceof Po)&&(ti=!1)}return zt.delete($),zt.delete(me),ti}function Za($){return Ga($,hl,Fu)}function Ji($,me){var ke=$.__data__;return cl(me)?ke[typeof me=="string"?"string":"hash"]:ke.map}function oa($,me){var ke=Re($,me);return dr(ke)?ke:void 0}function Sa($){var me=At.call($,Rn),ke=$[Rn];try{$[Rn]=void 0;var st=!0}catch{}var Kt=tn.call($);return st&&(me?$[Rn]=ke:delete $[Rn]),Kt}var Fu=Mn?function($){return $==null?[]:($=Object($),we(Mn($),function(me){return Zt.call($,me)}))}:mo,Hs=Ri;(In&&Hs(new In(new ArrayBuffer(1)))!=O||Bt&&Hs(new Bt)!=y||vn&&Hs(vn.resolve())!=k||Di&&Hs(new Di)!=D||cr&&Hs(new cr)!=X)&&(Hs=function($){var me=Ri($),ke=me==C?$.constructor:void 0,st=ke?ai(ke):"";if(st)switch(st){case Li:return O;case Ot:return y;case zn:return k;case Jn:return D;case xr:return X}return me});function Ja($,me){return me=me??a,!!me&&(typeof $=="number"||ie.test($))&&$>-1&&$%1==0&&$<me}function cl($){var me=typeof $;return me=="string"||me=="number"||me=="symbol"||me=="boolean"?$!=="__proto__":$===null}function eo($){return!!lt&&lt in $}function dl($){var me=$&&$.constructor,ke=typeof me=="function"&&me.prototype||je;return $===ke}function gi($){return tn.call($)}function ai($){if($!=null){try{return Je.call($)}catch{}try{return $+""}catch{}}return""}function Aa($,me){return $===me||$!==$&&me!==me}var en=Qa(function(){return arguments}())?Qa:function($){return Ys($)&&At.call($,"callee")&&!Zt.call($,"callee")},po=Array.isArray;function fl($){return $!=null&&Vs($.length)&&!Ro($)}var Mi=Nr||Ca;function Ws($,me){return Ci($,me)}function Ro($){if(!zs($))return!1;var me=Ri($);return me==m||me==x||me==d||me==R}function Vs($){return typeof $=="number"&&$>-1&&$%1==0&&$<=a}function zs($){var me=typeof $;return $!=null&&(me=="object"||me=="function")}function Ys($){return $!=null&&typeof $=="object"}var Mo=V?ve(V):Do;function hl($){return fl($)?Tr($):Hl($)}function mo(){return[]}function Ca(){return!1}e.exports=Ws}(Q1,Q1.exports)),Q1.exports}var Cy={},j8;function a$(){if(j8)return Cy;j8=1,Object.defineProperty(Cy,"__esModule",{value:!0});const e=q7(),n=z7();var t;return function(r){function i(c={},d={},h=!1){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});let g=e(d);h||(g=Object.keys(g).reduce((b,m)=>(g[m]!=null&&(b[m]=g[m]),b),{}));for(const b in c)c[b]!==void 0&&d[b]===void 0&&(g[b]=c[b]);return Object.keys(g).length>0?g:void 0}r.compose=i;function s(c={},d={}){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});const h=Object.keys(c).concat(Object.keys(d)).reduce((g,b)=>(n(c[b],d[b])||(g[b]=d[b]===void 0?null:d[b]),g),{});return Object.keys(h).length>0?h:void 0}r.diff=s;function a(c={},d={}){c=c||{};const h=Object.keys(d).reduce((g,b)=>(d[b]!==c[b]&&c[b]!==void 0&&(g[b]=d[b]),g),{});return Object.keys(c).reduce((g,b)=>(c[b]!==d[b]&&d[b]===void 0&&(g[b]=null),g),h)}r.invert=a;function l(c,d,h=!1){if(typeof c!="object")return d;if(typeof d!="object")return;if(!h)return d;const g=Object.keys(d).reduce((b,m)=>(c[m]===void 0&&(b[m]=d[m]),b),{});return Object.keys(g).length>0?g:void 0}r.transform=l}(t||(t={})),Cy.default=t,Cy}var Ey={},T8;function B7(){if(T8)return Ey;T8=1,Object.defineProperty(Ey,"__esModule",{value:!0});var e;return function(n){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}n.length=t}(e||(e={})),Ey.default=e,Ey}var _y={},O8;function o$(){if(O8)return _y;O8=1,Object.defineProperty(_y,"__esModule",{value:!0});const e=B7();class n{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const i=this.ops[this.index];if(i){const s=this.offset,a=e.default.length(i);if(r>=a-s?(r=a-s,this.index+=1,this.offset=0):this.offset+=r,typeof i.delete=="number")return{delete:r};{const l={};return i.attributes&&(l.attributes=i.attributes),typeof i.retain=="number"?l.retain=r:typeof i.retain=="object"&&i.retain!==null?l.retain=i.retain:typeof i.insert=="string"?l.insert=i.insert.substr(s,r):l.insert=i.insert,l}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,i=this.index,s=this.next(),a=this.ops.slice(this.index);return this.offset=r,this.index=i,[s].concat(a)}}else return[]}}return _y.default=n,_y}var I8;function l$(){return I8||(I8=1,function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AttributeMap=n.OpIterator=n.Op=void 0;const t=s$(),r=q7(),i=z7(),s=a$();n.AttributeMap=s.default;const a=B7();n.Op=a.default;const l=o$();n.OpIterator=l.default;const c="\0",d=(g,b)=>{if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);if(typeof b!="object"||b===null)throw new Error(`cannot retain a ${typeof b}`);const m=Object.keys(g)[0];if(!m||m!==Object.keys(b)[0])throw new Error(`embed types not matched: ${m} != ${Object.keys(b)[0]}`);return[m,g[m],b[m]]};class h{constructor(b){Array.isArray(b)?this.ops=b:b!=null&&Array.isArray(b.ops)?this.ops=b.ops:this.ops=[]}static registerEmbed(b,m){this.handlers[b]=m}static unregisterEmbed(b){delete this.handlers[b]}static getHandler(b){const m=this.handlers[b];if(!m)throw new Error(`no handlers for embed type "${b}"`);return m}insert(b,m){const x={};return typeof b=="string"&&b.length===0?this:(x.insert=b,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(x.attributes=m),this.push(x))}delete(b){return b<=0?this:this.push({delete:b})}retain(b,m){if(typeof b=="number"&&b<=0)return this;const x={retain:b};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(x.attributes=m),this.push(x)}push(b){let m=this.ops.length,x=this.ops[m-1];if(b=r(b),typeof x=="object"){if(typeof b.delete=="number"&&typeof x.delete=="number")return this.ops[m-1]={delete:x.delete+b.delete},this;if(typeof x.delete=="number"&&b.insert!=null&&(m-=1,x=this.ops[m-1],typeof x!="object"))return this.ops.unshift(b),this;if(i(b.attributes,x.attributes)){if(typeof b.insert=="string"&&typeof x.insert=="string")return this.ops[m-1]={insert:x.insert+b.insert},typeof b.attributes=="object"&&(this.ops[m-1].attributes=b.attributes),this;if(typeof b.retain=="number"&&typeof x.retain=="number")return this.ops[m-1]={retain:x.retain+b.retain},typeof b.attributes=="object"&&(this.ops[m-1].attributes=b.attributes),this}}return m===this.ops.length?this.ops.push(b):this.ops.splice(m,0,b),this}chop(){const b=this.ops[this.ops.length-1];return b&&typeof b.retain=="number"&&!b.attributes&&this.ops.pop(),this}filter(b){return this.ops.filter(b)}forEach(b){this.ops.forEach(b)}map(b){return this.ops.map(b)}partition(b){const m=[],x=[];return this.forEach(y=>{(b(y)?m:x).push(y)}),[m,x]}reduce(b,m){return this.ops.reduce(b,m)}changeLength(){return this.reduce((b,m)=>m.insert?b+a.default.length(m):m.delete?b-m.delete:b,0)}length(){return this.reduce((b,m)=>b+a.default.length(m),0)}slice(b=0,m=1/0){const x=[],y=new l.default(this.ops);let A=0;for(;A<m&&y.hasNext();){let w;A<b?w=y.next(b-A):(w=y.next(m-A),x.push(w)),A+=a.default.length(w)}return new h(x)}compose(b){const m=new l.default(this.ops),x=new l.default(b.ops),y=[],A=x.peek();if(A!=null&&typeof A.retain=="number"&&A.attributes==null){let C=A.retain;for(;m.peekType()==="insert"&&m.peekLength()<=C;)C-=m.peekLength(),y.push(m.next());A.retain-C>0&&x.next(A.retain-C)}const w=new h(y);for(;m.hasNext()||x.hasNext();)if(x.peekType()==="insert")w.push(x.next());else if(m.peekType()==="delete")w.push(m.next());else{const C=Math.min(m.peekLength(),x.peekLength()),k=m.next(C),R=x.next(C);if(R.retain){const q={};if(typeof k.retain=="number")q.retain=typeof R.retain=="number"?C:R.retain;else if(typeof R.retain=="number")k.retain==null?q.insert=k.insert:q.retain=k.retain;else{const N=k.retain==null?"insert":"retain",[P,z,X]=d(k[N],R.retain),j=h.getHandler(P);q[N]={[P]:j.compose(z,X,N==="retain")}}const D=s.default.compose(k.attributes,R.attributes,typeof k.retain=="number");if(D&&(q.attributes=D),w.push(q),!x.hasNext()&&i(w.ops[w.ops.length-1],q)){const N=new h(m.rest());return w.concat(N).chop()}}else typeof R.delete=="number"&&(typeof k.retain=="number"||typeof k.retain=="object"&&k.retain!==null)&&w.push(R)}return w.chop()}concat(b){const m=new h(this.ops.slice());return b.ops.length>0&&(m.push(b.ops[0]),m.ops=m.ops.concat(b.ops.slice(1))),m}diff(b,m){if(this.ops===b.ops)return new h;const x=[this,b].map(k=>k.map(R=>{if(R.insert!=null)return typeof R.insert=="string"?R.insert:c;const q=k===b?"on":"with";throw new Error("diff() called "+q+" non-document")}).join("")),y=new h,A=t(x[0],x[1],m,!0),w=new l.default(this.ops),C=new l.default(b.ops);return A.forEach(k=>{let R=k[1].length;for(;R>0;){let q=0;switch(k[0]){case t.INSERT:q=Math.min(C.peekLength(),R),y.push(C.next(q));break;case t.DELETE:q=Math.min(R,w.peekLength()),w.next(q),y.delete(q);break;case t.EQUAL:q=Math.min(w.peekLength(),C.peekLength(),R);const D=w.next(q),N=C.next(q);i(D.insert,N.insert)?y.retain(q,s.default.diff(D.attributes,N.attributes)):y.push(N).delete(q);break}R-=q}}),y.chop()}eachLine(b,m=`
`){const x=new l.default(this.ops);let y=new h,A=0;for(;x.hasNext();){if(x.peekType()!=="insert")return;const w=x.peek(),C=a.default.length(w)-x.peekLength(),k=typeof w.insert=="string"?w.insert.indexOf(m,C)-C:-1;if(k<0)y.push(x.next());else if(k>0)y.push(x.next(k));else{if(b(y,x.next(1).attributes||{},A)===!1)return;A+=1,y=new h}}y.length()>0&&b(y,{},A)}invert(b){const m=new h;return this.reduce((x,y)=>{if(y.insert)m.delete(a.default.length(y));else{if(typeof y.retain=="number"&&y.attributes==null)return m.retain(y.retain),x+y.retain;if(y.delete||typeof y.retain=="number"){const A=y.delete||y.retain;return b.slice(x,x+A).forEach(C=>{y.delete?m.push(C):y.retain&&y.attributes&&m.retain(a.default.length(C),s.default.invert(y.attributes,C.attributes))}),x+A}else if(typeof y.retain=="object"&&y.retain!==null){const A=b.slice(x,x+1),w=new l.default(A.ops).next(),[C,k,R]=d(y.retain,w.insert),q=h.getHandler(C);return m.retain({[C]:q.invert(k,R)},s.default.invert(y.attributes,w.attributes)),x+1}}return x},0),m.chop()}transform(b,m=!1){if(m=!!m,typeof b=="number")return this.transformPosition(b,m);const x=b,y=new l.default(this.ops),A=new l.default(x.ops),w=new h;for(;y.hasNext()||A.hasNext();)if(y.peekType()==="insert"&&(m||A.peekType()!=="insert"))w.retain(a.default.length(y.next()));else if(A.peekType()==="insert")w.push(A.next());else{const C=Math.min(y.peekLength(),A.peekLength()),k=y.next(C),R=A.next(C);if(k.delete)continue;if(R.delete)w.push(R);else{const q=k.retain,D=R.retain;let N=typeof D=="object"&&D!==null?D:C;if(typeof q=="object"&&q!==null&&typeof D=="object"&&D!==null){const P=Object.keys(q)[0];if(P===Object.keys(D)[0]){const z=h.getHandler(P);z&&(N={[P]:z.transform(q[P],D[P],m)})}}w.retain(N,s.default.transform(k.attributes,R.attributes,m))}}return w.chop()}transformPosition(b,m=!1){m=!!m;const x=new l.default(this.ops);let y=0;for(;x.hasNext()&&y<=b;){const A=x.peekLength(),w=x.peekType();if(x.next(),w==="delete"){b-=Math.min(A,b-y);continue}else w==="insert"&&(y<b||!m)&&(b+=A);y+=A}return b}}h.Op=a.default,h.OpIterator=l.default,h.AttributeMap=s.default,h.handlers={},n.default=h,e.exports=h,e.exports.default=h}(Ay,Ay.exports)),Ay.exports}var Pl=l$();const Ht=Fr(Pl);class Ou extends ul{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Ou.blotName="break";Ou.tagName="BR";let Au=class extends Mx{};const u$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function wv(e){return e.replace(/[&<>"']/g,n=>u$[n])}const hc=class hc extends z6{static compare(n,t){const r=hc.order.indexOf(n),i=hc.order.indexOf(t);return r>=0||i>=0?r-i:n===t?0:n<t?-1:1}formatAt(n,t,r,i){if(hc.compare(this.statics.blotName,r)<0&&this.scroll.query(r,Wt.BLOT)){const s=this.isolate(n,t);i&&s.wrap(r,i)}else super.formatAt(n,t,r,i)}optimize(n){if(super.optimize(n),this.parent instanceof hc&&hc.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}};Ke(hc,"allowedChildren",[hc,Ou,ul,Au]),Ke(hc,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let zc=hc;const D8=1;class ya extends Sg{constructor(){super(...arguments);Ke(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=U7(this)),this.cache.delta}deleteAt(t,r){super.deleteAt(t,r),this.cache={}}formatAt(t,r,i,s){r<=0||(this.scroll.query(i,Wt.BLOCK)?t+r===this.length()&&this.format(i,s):super.formatAt(t,Math.min(r,this.length()-t-1),i,s),this.cache={})}insertAt(t,r,i){if(i!=null){super.insertAt(t,r,i),this.cache={};return}if(r.length===0)return;const s=r.split(`
`),a=s.shift();a.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});let l=this;s.reduce((c,d)=>(l=l.split(c,!0),l.insertAt(0,d),d.length),t+a.length)}insertBefore(t,r){const{head:i}=this.children;super.insertBefore(t,r),i instanceof Ou&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+D8),this.cache.length}moveChildren(t,r){super.moveChildren(t,r),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(t===0||t>=this.length()-D8)){const s=this.clone();return t===0?(this.parent.insertBefore(s,this),this):(this.parent.insertBefore(s,this.next),s)}const i=super.split(t,r);return this.cache={},i}}ya.blotName="block";ya.tagName="P";ya.defaultChild=Ou;ya.allowedChildren=[Ou,zc,ul,Au];class Ml extends ul{attach(){super.attach(),this.attributes=new xv(this.domNode)}delta(){return new Ht().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(n,t){const r=this.scroll.query(n,Wt.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(n,t,r,i){this.format(r,i)}insertAt(n,t,r){if(r!=null){super.insertAt(n,t,r);return}const i=t.split(`
`),s=i.pop(),a=i.map(c=>{const d=this.scroll.create(ya.blotName);return d.insertAt(0,c),d}),l=this.split(n);a.forEach(c=>{this.parent.insertBefore(c,l)}),s&&this.parent.insertBefore(this.scroll.create("text",s),l)}}Ml.scope=Wt.BLOCK_BLOT;function U7(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.descendants(qa).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),jl(r,{},n)),new Ht).insert(`
`,jl(e))}function jl(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return e==null||("formats"in e&&typeof e.formats=="function"&&(n={...n,...e.formats()},t&&delete n["code-token"]),e.parent==null||e.parent.statics.blotName==="scroll"||e.parent.statics.scope!==e.statics.scope)?n:jl(e.parent,n,t)}const _l=class _l extends ul{static value(){}constructor(n,t,r){super(n,t),this.selection=r,this.textNode=document.createTextNode(_l.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(n,t){if(this.savedLength!==0){super.format(n,t);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==Wt.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=_l.CONTENTS.length,r.optimize(),r.formatAt(i,_l.CONTENTS.length,n,t),this.savedLength=0)}index(n,t){return n===this.textNode?0:super.index(n,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const n=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof Au?this.prev:null,r=t?t.length():0,i=this.next instanceof Au?this.next:null,s=i?i.text:"",{textNode:a}=this,l=a.data.split(_l.CONTENTS).join("");a.data=_l.CONTENTS;let c;if(t)c=t,(l||i)&&(t.insertAt(t.length(),l+s),i&&i.remove());else if(i)c=i,i.insertAt(0,l);else{const d=document.createTextNode(l);c=this.scroll.create(d),this.parent.insertBefore(c,this)}if(this.remove(),n){const d=(b,m)=>t&&b===t.domNode?m:b===a?r+m-1:i&&b===i.domNode?r+l.length+m:null,h=d(n.start.node,n.start.offset),g=d(n.end.node,n.end.offset);if(h!==null&&g!==null)return{startNode:c.domNode,startOffset:h,endNode:c.domNode,endOffset:g}}return null}update(n,t){if(n.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(n){super.optimize(n);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=_l.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}};Ke(_l,"blotName","cursor"),Ke(_l,"className","ql-cursor"),Ke(_l,"tagName","span"),Ke(_l,"CONTENTS","\uFEFF");let $0=_l;var B5={exports:{}},L8;function c$(){return L8||(L8=1,function(e){var n=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function s(c,d,h,g,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new i(h,g||c,b),x=t?t+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function a(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,g;if(this._eventsCount===0)return d;for(g in h=this._events)n.call(h,g)&&d.push(t?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=t?t+d:d,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,m=g.length,x=new Array(m);b<m;b++)x[b]=g[b].fn;return x},l.prototype.listenerCount=function(d){var h=t?t+d:d,g=this._events[h];return g?g.fn?1:g.length:0},l.prototype.emit=function(d,h,g,b,m,x){var y=t?t+d:d;if(!this._events[y])return!1;var A=this._events[y],w=arguments.length,C,k;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),w){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,h),!0;case 3:return A.fn.call(A.context,h,g),!0;case 4:return A.fn.call(A.context,h,g,b),!0;case 5:return A.fn.call(A.context,h,g,b,m),!0;case 6:return A.fn.call(A.context,h,g,b,m,x),!0}for(k=1,C=new Array(w-1);k<w;k++)C[k-1]=arguments[k];A.fn.apply(A.context,C)}else{var R=A.length,q;for(k=0;k<R;k++)switch(A[k].once&&this.removeListener(d,A[k].fn,void 0,!0),w){case 1:A[k].fn.call(A[k].context);break;case 2:A[k].fn.call(A[k].context,h);break;case 3:A[k].fn.call(A[k].context,h,g);break;case 4:A[k].fn.call(A[k].context,h,g,b);break;default:if(!C)for(q=1,C=new Array(w-1);q<w;q++)C[q-1]=arguments[q];A[k].fn.apply(A[k].context,C)}}return!0},l.prototype.on=function(d,h,g){return s(this,d,h,g,!1)},l.prototype.once=function(d,h,g){return s(this,d,h,g,!0)},l.prototype.removeListener=function(d,h,g,b){var m=t?t+d:d;if(!this._events[m])return this;if(!h)return a(this,m),this;var x=this._events[m];if(x.fn)x.fn===h&&(!b||x.once)&&(!g||x.context===g)&&a(this,m);else{for(var y=0,A=[],w=x.length;y<w;y++)(x[y].fn!==h||b&&!x[y].once||g&&x[y].context!==g)&&A.push(x[y]);A.length?this._events[m]=A.length===1?A[0]:A:a(this,m)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=t?t+d:d,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,e.exports=l}(B5)),B5.exports}var d$=c$();const f$=Fr(d$),pS=new WeakMap,mS=["error","warn","log","info"];let gS="warn";function $7(e){if(gS&&mS.indexOf(e)<=mS.indexOf(gS)){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];console[e](...t)}}function Md(e){return mS.reduce((n,t)=>(n[t]=$7.bind(console,t,e),n),{})}Md.level=e=>{gS=e};$7.level=Md.level;const U5=Md("quill:events"),h$=["selectionchange","mousedown","mouseup","click"];h$.forEach(e=>{document.addEventListener(e,function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const s=pS.get(i);s&&s.emitter&&s.emitter.handleDOM(...t)})})});class Pt extends f${constructor(){super(),this.domListeners={},this.on("error",U5.error)}emit(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return U5.log.call(U5,...t),super.emit(...t)}handleDOM(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];(this.domListeners[n.type]||[]).forEach(s=>{let{node:a,handler:l}=s;(n.target===a||a.contains(n.target))&&l(n,...r)})}listenDOM(n,t,r){this.domListeners[n]||(this.domListeners[n]=[]),this.domListeners[n].push({node:t,handler:r})}}Ke(Pt,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),Ke(Pt,"sources",{API:"api",SILENT:"silent",USER:"user"});const $5=Md("quill:selection");class np{constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=n,this.length=t}}class p${constructor(n,t){this.emitter=t,this.scroll=n,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new np(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Pt.sources.USER),1)}),this.emitter.on(Pt.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(Pt.events.SCROLL_UPDATE,(i,s)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const a=s.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(a?Pt.sources.SILENT:i)}catch{}})}),this.emitter.on(Pt.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:s,startOffset:a,endNode:l,endOffset:c}=i.range;this.setNativeRange(s,a,l,c),this.update(Pt.sources.SILENT)}}),this.update(Pt.sources.SILENT)}handleComposition(){this.emitter.on(Pt.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Pt.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const n=this.cursor.restore();if(!n)return;setTimeout(()=>{this.setNativeRange(n.startNode,n.startOffset,n.endNode,n.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Pt.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(n,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(n,Wt.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof qa){const s=i.split(r.start.offset);i.parent.insertBefore(this.cursor,s)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(n,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();n=Math.min(n,r-1),t=Math.min(n+t,r-1)-n;let i,[s,a]=this.scroll.leaf(n);if(s==null)return null;if(t>0&&a===s.length()){const[h]=this.scroll.leaf(n+1);if(h){const[g]=this.scroll.line(n),[b]=this.scroll.line(n+1);g===b&&(s=h,a=0)}}[i,a]=s.position(a,!0);const l=document.createRange();if(t>0)return l.setStart(i,a),[s,a]=this.scroll.leaf(n+t),s==null?null:([i,a]=s.position(a,!0),l.setEnd(i,a),l.getBoundingClientRect());let c="left",d;if(i instanceof Text){if(!i.data.length)return null;a<i.data.length?(l.setStart(i,a),l.setEnd(i,a+1)):(l.setStart(i,a-1),l.setEnd(i,a),c="right"),d=l.getBoundingClientRect()}else{if(!(s.domNode instanceof Element))return null;d=s.domNode.getBoundingClientRect(),a>0&&(c="right")}return{bottom:d.top+d.height,height:d.height,left:d[c],right:d[c],top:d.top,width:0}}getNativeRange(){const n=document.getSelection();if(n==null||n.rangeCount<=0)return null;const t=n.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return $5.info("getNativeRange",r),r}getRange(){const n=this.scroll.domNode;if("isConnected"in n&&!n.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&H5(this.root,document.activeElement)}normalizedToRange(n){const t=[[n.start.node,n.start.offset]];n.native.collapsed||t.push([n.end.node,n.end.offset]);const r=t.map(a=>{const[l,c]=a,d=this.scroll.find(l,!0),h=d.offset(this.scroll);return c===0?h:d instanceof qa?h+d.index(l,c):h+d.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),s=Math.min(i,...r);return new np(s,i-s)}normalizeNative(n){if(!H5(this.root,n.startContainer)||!n.collapsed&&!H5(this.root,n.endContainer))return null;const t={start:{node:n.startContainer,offset:n.startOffset},end:{node:n.endContainer,offset:n.endOffset},native:n};return[t.start,t.end].forEach(r=>{let{node:i,offset:s}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>s)i=i.childNodes[s],s=0;else if(i.childNodes.length===s)i=i.lastChild,i instanceof Text?s=i.data.length:i.childNodes.length>0?s=i.childNodes.length:s=i.childNodes.length+1;else break;r.node=i,r.offset=s}),t}rangeToNative(n){const t=this.scroll.length(),r=(i,s)=>{i=Math.min(t-1,i);const[a,l]=this.scroll.leaf(i);return a?a.position(l,s):[null,-1]};return[...r(n.index,!1),...r(n.index+n.length,!0)]}setNativeRange(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if($5.info("setNativeRange",n,t,r,i),n!=null&&(this.root.parentNode==null||n.parentNode==null||r.parentNode==null))return;const a=document.getSelection();if(a!=null)if(n!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||s||n!==l.startContainer||t!==l.startOffset||r!==l.endContainer||i!==l.endOffset){n instanceof Element&&n.tagName==="BR"&&(t=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const c=document.createRange();c.setStart(n,t),c.setEnd(r,i),a.removeAllRanges(),a.addRange(c)}}else a.removeAllRanges(),this.root.blur()}setRange(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pt.sources.API;if(typeof t=="string"&&(r=t,t=!1),$5.info("setRange",n),n!=null){const i=this.rangeToNative(n);this.setNativeRange(...i,t)}else this.setNativeRange(null);this.update(r)}update(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pt.sources.USER;const t=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!kf(t,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const a=this.cursor.restore();a&&this.setNativeRange(a.startNode,a.startOffset,a.endNode,a.endOffset)}const s=[Pt.events.SELECTION_CHANGE,E0(this.lastRange),E0(t),n];this.emitter.emit(Pt.events.EDITOR_CHANGE,...s),n!==Pt.sources.SILENT&&this.emitter.emit(...s)}}}function H5(e,n){try{n.parentNode}catch{return!1}return e.contains(n)}const m$=/^[ -~]*$/;class g${constructor(n){this.scroll=n,this.delta=this.getDelta()}applyDelta(n){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=R8(n),i=new Ht;return y$(r.ops.slice()).reduce((a,l)=>{const c=Pl.Op.length(l);let d=l.attributes||{},h=!1,g=!1;if(l.insert!=null){if(i.retain(c),typeof l.insert=="string"){const x=l.insert;g=!x.endsWith(`
`)&&(t<=a||!!this.scroll.descendant(Ml,a)[0]),this.scroll.insertAt(a,x);const[y,A]=this.scroll.line(a);let w=zf({},jl(y));if(y instanceof ya){const[C]=y.descendant(qa,A);C&&(w=zf(w,jl(C)))}d=Pl.AttributeMap.diff(w,d)||{}}else if(typeof l.insert=="object"){const x=Object.keys(l.insert)[0];if(x==null)return a;const y=this.scroll.query(x,Wt.INLINE)!=null;if(y)(t<=a||this.scroll.descendant(Ml,a)[0])&&(g=!0);else if(a>0){const[A,w]=this.scroll.descendant(qa,a-1);A instanceof Au?A.value()[w]!==`
`&&(h=!0):A instanceof ul&&A.statics.scope===Wt.INLINE_BLOT&&(h=!0)}if(this.scroll.insertAt(a,x,l.insert[x]),y){const[A]=this.scroll.descendant(qa,a);if(A){const w=zf({},jl(A));d=Pl.AttributeMap.diff(w,d)||{}}}}t+=c}else if(i.push(l),l.retain!==null&&typeof l.retain=="object"){const x=Object.keys(l.retain)[0];if(x==null)return a;this.scroll.updateEmbedAt(a,x,l.retain[x])}Object.keys(d).forEach(x=>{this.scroll.formatAt(a,c,x,d[x])});const b=h?1:0,m=g?1:0;return t+=b+m,i.retain(b),i.delete(m),a+c+b+m},0),i.reduce((a,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(a,l.delete),a):a+Pl.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(n,t){return this.scroll.deleteAt(n,t),this.update(new Ht().retain(n).delete(t))}formatLine(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(s=>{this.scroll.lines(n,Math.max(t,1)).forEach(a=>{a.format(s,r[s])})}),this.scroll.optimize();const i=new Ht().retain(n).retain(t,E0(r));return this.update(i)}formatText(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(s=>{this.scroll.formatAt(n,t,s,r[s])});const i=new Ht().retain(n).retain(t,E0(r));return this.update(i)}getContents(n,t){return this.delta.slice(n,n+t)}getDelta(){return this.scroll.lines().reduce((n,t)=>n.concat(t.delta()),new Ht)}getFormat(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];t===0?this.scroll.path(n).forEach(l=>{const[c]=l;c instanceof ya?r.push(c):c instanceof qa&&i.push(c)}):(r=this.scroll.lines(n,t),i=this.scroll.descendants(qa,n,t));const[s,a]=[r,i].map(l=>{const c=l.shift();if(c==null)return{};let d=jl(c);for(;Object.keys(d).length>0;){const h=l.shift();if(h==null)return d;d=b$(jl(h),d)}return d});return{...s,...a}}getHTML(n,t){const[r,i]=this.scroll.line(n);if(r){const s=r.length();return r.length()>=i+t&&!(i===0&&t===s)?Ag(r,i,t,!0):Ag(this.scroll,n,t,!0)}return""}getText(n,t){return this.getContents(n,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(n,t){const r=R8(t),i=new Ht().retain(n).concat(r);return this.scroll.insertContents(n,r),this.update(i)}insertEmbed(n,t,r){return this.scroll.insertAt(n,t,r),this.update(new Ht().retain(n).insert({[t]:r}))}insertText(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(n,t),Object.keys(r).forEach(i=>{this.scroll.formatAt(n,t.length,i,r[i])}),this.update(new Ht().retain(n).insert(t,E0(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const n=this.scroll.children.head;if((n==null?void 0:n.statics.blotName)!==ya.blotName)return!1;const t=n;return t.children.length>1?!1:t.children.head instanceof Ou}removeFormat(n,t){const r=this.getText(n,t),[i,s]=this.scroll.line(n+t);let a=0,l=new Ht;i!=null&&(a=i.length()-s,l=i.delta().slice(s,s+a-1).insert(`
`));const d=this.getContents(n,t+a).diff(new Ht().insert(r).concat(l)),h=new Ht().retain(n).concat(d);return this.applyDelta(h)}update(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(m$)&&this.scroll.find(t[0].target)){const s=this.scroll.find(t[0].target),a=jl(s),l=s.offset(this.scroll),c=t[0].oldValue.replace($0.CONTENTS,""),d=new Ht().insert(c),h=new Ht().insert(s.value()),g=r&&{oldRange:M8(r.oldRange,-l),newRange:M8(r.newRange,-l)};n=new Ht().retain(l).concat(d.diff(h,g)).reduce((m,x)=>x.insert?m.insert(x.insert,a):m.push(x),new Ht),this.delta=i.compose(n)}else this.delta=this.getDelta(),(!n||!kf(i.compose(n),this.delta))&&(n=i.diff(this.delta,r));return n}}function x0(e,n,t){if(e.length===0){const[m]=W5(t.pop());return n<=0?`</li></${m}>`:`</li></${m}>${x0([],n-1,t)}`}const[{child:r,offset:i,length:s,indent:a,type:l},...c]=e,[d,h]=W5(l);if(a>n)return t.push(l),a===n+1?`<${d}><li${h}>${Ag(r,i,s)}${x0(c,a,t)}`:`<${d}><li>${x0(e,n+1,t)}`;const g=t[t.length-1];if(a===n&&l===g)return`</li><li${h}>${Ag(r,i,s)}${x0(c,a,t)}`;const[b]=W5(t.pop());return`</li></${b}>${x0(e,n-1,t)}`}function Ag(e,n,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in e&&typeof e.html=="function")return e.html(n,t);if(e instanceof Au)return wv(e.value().slice(n,n+t)).replaceAll(" ","&nbsp;");if(e instanceof wu){if(e.statics.blotName==="list-container"){const d=[];return e.children.forEachAt(n,t,(h,g,b)=>{const m="formats"in h&&typeof h.formats=="function"?h.formats():{};d.push({child:h,offset:g,length:b,indent:m.indent||0,type:m.list})}),x0(d,-1,[])}const i=[];if(e.children.forEachAt(n,t,(d,h,g)=>{i.push(Ag(d,h,g))}),r||e.statics.blotName==="list")return i.join("");const{outerHTML:s,innerHTML:a}=e.domNode,[l,c]=s.split(`>${a}<`);return l==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${c}`:`${l}>${i.join("")}<${c}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function b$(e,n){return Object.keys(n).reduce((t,r)=>{if(e[r]==null)return t;const i=n[r];return i===e[r]?t[r]=i:Array.isArray(i)?i.indexOf(e[r])<0?t[r]=i.concat([e[r]]):t[r]=i:t[r]=[i,e[r]],t},{})}function W5(e){const n=e==="ordered"?"ol":"ul";switch(e){case"checked":return[n,' data-list="checked"'];case"unchecked":return[n,' data-list="unchecked"'];default:return[n,""]}}function R8(e){return e.reduce((n,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return n.insert(r,t.attributes)}return n.push(t)},new Ht)}function M8(e,n){let{index:t,length:r}=e;return new np(t+n,r)}function y$(e){const n=[];return e.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((i,s)=>{s&&n.push({insert:`
`,attributes:t.attributes}),i&&n.push({insert:i,attributes:t.attributes})}):n.push(t)}),n}class Iu{constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=n,this.options=t}}Ke(Iu,"DEFAULTS",{});const ky="\uFEFF";class U6 extends ul{constructor(n,t){super(n,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(ky),this.rightGuard=document.createTextNode(ky),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(n,t){return n===this.leftGuard?0:n===this.rightGuard?1:super.index(n,t)}restore(n){let t=null,r;const i=n.data.split(ky).join("");if(n===this.leftGuard)if(this.prev instanceof Au){const s=this.prev.length();this.prev.insertAt(s,i),t={startNode:this.prev.domNode,startOffset:s+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:i.length};else n===this.rightGuard&&(this.next instanceof Au?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:i.length}));return n.data=ky,t}update(n,t){n.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(t.range=i)}})}}class x${constructor(n,t){Ke(this,"isComposing",!1);this.scroll=n,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",n=>{this.isComposing||this.handleCompositionStart(n)}),this.scroll.domNode.addEventListener("compositionend",n=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(n)})})}handleCompositionStart(n){const t=n.target instanceof Node?this.scroll.find(n.target,!0):null;t&&!(t instanceof U6)&&(this.emitter.emit(Pt.events.COMPOSITION_BEFORE_START,n),this.scroll.batchStart(),this.emitter.emit(Pt.events.COMPOSITION_START,n),this.isComposing=!0)}handleCompositionEnd(n){this.emitter.emit(Pt.events.COMPOSITION_BEFORE_END,n),this.scroll.batchEnd(),this.emitter.emit(Pt.events.COMPOSITION_END,n),this.isComposing=!1}}const cg=class cg{constructor(n,t){Ke(this,"modules",{});this.quill=n,this.options=t}init(){Object.keys(this.options.modules).forEach(n=>{this.modules[n]==null&&this.addModule(n)})}addModule(n){const t=this.quill.constructor.import(`modules/${n}`);return this.modules[n]=new t(this.quill,this.options.modules[n]||{}),this.modules[n]}};Ke(cg,"DEFAULTS",{modules:{}}),Ke(cg,"themes",{default:cg});let H0=cg;const v$=e=>e.parentElement||e.getRootNode().host||null,w$=e=>{const n=e.getBoundingClientRect(),t="offsetWidth"in e&&Math.abs(n.width)/e.offsetWidth||1,r="offsetHeight"in e&&Math.abs(n.height)/e.offsetHeight||1;return{top:n.top,right:n.left+e.clientWidth*t,bottom:n.top+e.clientHeight*r,left:n.left}},Ny=e=>{const n=parseInt(e,10);return Number.isNaN(n)?0:n},P8=(e,n,t,r,i,s)=>e<t&&n>r?0:e<t?-(t-e+i):n>r?n-e>r-t?e+i-t:n-r+s:0,S$=(e,n)=>{var s,a,l;const t=e.ownerDocument;let r=n,i=e;for(;i;){const c=i===t.body,d=c?{top:0,right:((s=window.visualViewport)==null?void 0:s.width)??t.documentElement.clientWidth,bottom:((a=window.visualViewport)==null?void 0:a.height)??t.documentElement.clientHeight,left:0}:w$(i),h=getComputedStyle(i),g=P8(r.left,r.right,d.left,d.right,Ny(h.scrollPaddingLeft),Ny(h.scrollPaddingRight)),b=P8(r.top,r.bottom,d.top,d.bottom,Ny(h.scrollPaddingTop),Ny(h.scrollPaddingBottom));if(g||b)if(c)(l=t.defaultView)==null||l.scrollBy(g,b);else{const{scrollLeft:m,scrollTop:x}=i;b&&(i.scrollTop+=b),g&&(i.scrollLeft+=g);const y=i.scrollLeft-m,A=i.scrollTop-x;r={left:r.left-y,top:r.top-A,right:r.right-y,bottom:r.bottom-A}}i=c||h.position==="fixed"?null:v$(i)}},A$=100,C$=["block","break","cursor","inline","scroll","text"],E$=(e,n,t)=>{const r=new U0;return C$.forEach(i=>{const s=n.query(i);s&&r.register(s)}),e.forEach(i=>{let s=n.query(i);s||t.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let a=0;for(;s;)if(r.register(s),s="blotName"in s?s.requiredContainer??null:null,a+=1,a>A$){t.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},k0=Md("quill"),jy=new U0;wu.uiClass="ql-ui";const fu=class fu{static debug(n){n===!0&&(n="log"),Md.level(n)}static find(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return pS.get(n)||jy.find(n,t)}static import(n){return this.imports[n]==null&&k0.error(`Cannot import ${n}. Are you sure it was registered?`),this.imports[n]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const n=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in n?n.attrName:n.blotName;typeof r=="string"?this.register(`formats/${r}`,n,t):Object.keys(n).forEach(i=>{this.register(i,n[i],t)})}else{const n=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[n]!=null&&!r&&k0.warn(`Overwriting ${n} with`,t),this.imports[n]=t,(n.startsWith("blots/")||n.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&jy.register(t),typeof t.register=="function"&&t.register(jy)}}constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=_$(n,t),this.container=this.options.container,this.container==null){k0.error("Invalid Quill container",n);return}this.options.debug&&fu.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",pS.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Pt;const i=B6.blotName,s=this.options.registry.query(i);if(!s||!("blotName"in s))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new s(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new g$(this.scroll),this.selection=new p$(this.scroll,this.emitter),this.composition=new x$(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Pt.events.EDITOR_CHANGE,a=>{a===Pt.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Pt.events.SCROLL_UPDATE,(a,l)=>{const c=this.selection.lastRange,[d]=this.selection.getRange(),h=c&&d?{oldRange:c,newRange:d}:void 0;uu.call(this,()=>this.editor.update(null,l,h),a)}),this.emitter.on(Pt.events.SCROLL_EMBED_UPDATE,(a,l)=>{const c=this.selection.lastRange,[d]=this.selection.getRange(),h=c&&d?{oldRange:c,newRange:d}:void 0;uu.call(this,()=>{const g=new Ht().retain(a.offset(this)).retain({[a.statics.blotName]:l});return this.editor.update(g,[],h)},fu.sources.USER)}),r){const a=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(a)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof n=="string"){const r=n;n=document.createElement("div"),n.classList.add(r)}return this.container.insertBefore(n,t),n}blur(){this.selection.setRange(null)}deleteText(n,t,r){return[n,t,,r]=gd(n,t,r),uu.call(this,()=>this.editor.deleteText(n,t),r,n,-1*t)}disable(){this.enable(!1)}editReadOnly(n){this.allowReadOnlyEdits=!0;const t=n();return this.allowReadOnlyEdits=!1,t}enable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(n),this.container.classList.toggle("ql-disabled",!n)}focus(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),n.preventScroll||this.scrollSelectionIntoView()}format(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pt.sources.API;return uu.call(this,()=>{const i=this.getSelection(!0);let s=new Ht;if(i==null)return s;if(this.scroll.query(n,Wt.BLOCK))s=this.editor.formatLine(i.index,i.length,{[n]:t});else{if(i.length===0)return this.selection.format(n,t),s;s=this.editor.formatText(i.index,i.length,{[n]:t})}return this.setSelection(i,Pt.sources.SILENT),s},r)}formatLine(n,t,r,i,s){let a;return[n,t,a,s]=gd(n,t,r,i,s),uu.call(this,()=>this.editor.formatLine(n,t,a),s,n,0)}formatText(n,t,r,i,s){let a;return[n,t,a,s]=gd(n,t,r,i,s),uu.call(this,()=>this.editor.formatText(n,t,a),s,n,0)}getBounds(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof n=="number"?r=this.selection.getBounds(n,t):r=this.selection.getBounds(n.index,n.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-n;return[n,t]=gd(n,t),this.editor.getContents(n,t)}getFormat(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof n=="number"?this.editor.getFormat(n,t):this.editor.getFormat(n.index,n.length)}getIndex(n){return n.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(n){return this.scroll.leaf(n)}getLine(n){return this.scroll.line(n)}getLines(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof n!="number"?this.scroll.lines(n.index,n.length):this.scroll.lines(n,t)}getModule(n){return this.theme.modules[n]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof n=="number"&&(t=t??this.getLength()-n),[n,t]=gd(n,t),this.editor.getHTML(n,t)}getText(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof n=="number"&&(t=t??this.getLength()-n),[n,t]=gd(n,t),this.editor.getText(n,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(n,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:fu.sources.API;return uu.call(this,()=>this.editor.insertEmbed(n,t,r),i,n)}insertText(n,t,r,i,s){let a;return[n,,a,s]=gd(n,0,r,i,s),uu.call(this,()=>this.editor.insertText(n,t,a),s,n,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(n,t,r){return[n,t,,r]=gd(n,t,r),uu.call(this,()=>this.editor.removeFormat(n,t),r,n)}scrollRectIntoView(n){S$(this.root,n)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const n=this.selection.lastRange,t=n&&this.selection.getBounds(n.index,n.length);t&&this.scrollRectIntoView(t)}setContents(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pt.sources.API;return uu.call(this,()=>{n=new Ht(n);const r=this.getLength(),i=this.editor.deleteText(0,r),s=this.editor.insertContents(0,n),a=this.editor.deleteText(this.getLength()-1,1);return i.compose(s).compose(a)},t)}setSelection(n,t,r){n==null?this.selection.setRange(null,t||fu.sources.API):([n,t,,r]=gd(n,t,r),this.selection.setRange(new np(Math.max(0,n),t),r),r!==Pt.sources.SILENT&&this.scrollSelectionIntoView())}setText(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pt.sources.API;const r=new Ht().insert(n);return this.setContents(r,t)}update(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pt.sources.USER;const t=this.scroll.update(n);return this.selection.update(n),t}updateContents(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pt.sources.API;return uu.call(this,()=>(n=new Ht(n),this.editor.applyDelta(n)),t,!0)}};Ke(fu,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:jy,theme:"default"}),Ke(fu,"events",Pt.events),Ke(fu,"sources",Pt.sources),Ke(fu,"version","2.0.3"),Ke(fu,"imports",{delta:Ht,parchment:i$,"core/module":Iu,"core/theme":H0});let xt=fu;function F8(e){return typeof e=="string"?document.querySelector(e):e}function V5(e){return Object.entries(e??{}).reduce((n,t)=>{let[r,i]=t;return{...n,[r]:i===!0?{}:i}},{})}function q8(e){return Object.fromEntries(Object.entries(e).filter(n=>n[1]!==void 0))}function _$(e,n){const t=F8(e);if(!t)throw new Error("Invalid Quill container");const i=!n.theme||n.theme===xt.DEFAULTS.theme?H0:xt.import(`themes/${n.theme}`);if(!i)throw new Error(`Invalid theme ${n.theme}. Did you register it?`);const{modules:s,...a}=xt.DEFAULTS,{modules:l,...c}=i.DEFAULTS;let d=V5(n.modules);d!=null&&d.toolbar&&d.toolbar.constructor!==Object&&(d={...d,toolbar:{container:d.toolbar}});const h=zf({},V5(s),V5(l),d),g={...a,...q8(c),...q8(n)};let b=n.registry;return b?n.formats&&k0.warn('Ignoring "formats" option because "registry" is specified'):b=n.formats?E$(n.formats,g.registry,k0):g.registry,{...g,registry:b,container:t,theme:i,modules:Object.entries(h).reduce((m,x)=>{let[y,A]=x;if(!A)return m;const w=xt.import(`modules/${y}`);return w==null?(k0.error(`Cannot load ${y} module. Are you sure you registered it?`),m):{...m,[y]:zf({},w.DEFAULTS||{},A)}},{}),bounds:F8(g.bounds)}}function uu(e,n,t,r){if(!this.isEnabled()&&n===Pt.sources.USER&&!this.allowReadOnlyEdits)return new Ht;let i=t==null?null:this.getSelection();const s=this.editor.delta,a=e();if(i!=null&&(t===!0&&(t=i.index),r==null?i=z8(i,a,n):r!==0&&(i=z8(i,t,r,n)),this.setSelection(i,Pt.sources.SILENT)),a.length()>0){const l=[Pt.events.TEXT_CHANGE,a,s,n];this.emitter.emit(Pt.events.EDITOR_CHANGE,...l),n!==Pt.sources.SILENT&&this.emitter.emit(...l)}return a}function gd(e,n,t,r,i){let s={};return typeof e.index=="number"&&typeof e.length=="number"?typeof n!="number"?(i=r,r=t,t=n,n=e.length,e=e.index):(n=e.length,e=e.index):typeof n!="number"&&(i=r,r=t,t=n,n=0),typeof t=="object"?(s=t,i=r):typeof t=="string"&&(r!=null?s[t]=r:i=t),i=i||Pt.sources.API,[e,n,s,i]}function z8(e,n,t,r){const i=typeof t=="number"?t:0;if(e==null)return null;let s,a;return n&&typeof n.transformPosition=="function"?[s,a]=[e.index,e.index+e.length].map(l=>n.transformPosition(l,r!==Pt.sources.USER)):[s,a]=[e.index,e.index+e.length].map(l=>l<n||l===n&&r===Pt.sources.USER?l:i>=0?l+i:Math.max(n,l+i)),new np(s,a-s)}class hp extends vv{}function B8(e){return e instanceof ya||e instanceof Ml}function U8(e){return typeof e.updateContent=="function"}class v0 extends B6{constructor(n,t,r){let{emitter:i}=r;super(n,t),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",s=>this.handleDragStart(s))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const n=this.batch;this.batch=!1,this.update(n)}emitMount(n){this.emitter.emit(Pt.events.SCROLL_BLOT_MOUNT,n)}emitUnmount(n){this.emitter.emit(Pt.events.SCROLL_BLOT_UNMOUNT,n)}emitEmbedUpdate(n,t){this.emitter.emit(Pt.events.SCROLL_EMBED_UPDATE,n,t)}deleteAt(n,t){const[r,i]=this.line(n),[s]=this.line(n+t);if(super.deleteAt(n,t),s!=null&&r!==s&&i>0){if(r instanceof Ml||s instanceof Ml){this.optimize();return}const a=s.children.head instanceof Ou?null:s.children.head;r.moveChildren(s,a),r.remove()}this.optimize()}enable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",n?"true":"false")}formatAt(n,t,r,i){super.formatAt(n,t,r,i),this.optimize()}insertAt(n,t,r){if(n>=this.length())if(r==null||this.scroll.query(t,Wt.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&t.endsWith(`
`)?i.insertAt(0,t.slice(0,-1),r):i.insertAt(0,t,r)}else{const i=this.scroll.create(t,r);this.appendChild(i)}else super.insertAt(n,t,r);this.optimize()}insertBefore(n,t){if(n.statics.scope===Wt.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(n),super.insertBefore(r,t)}else super.insertBefore(n,t)}insertContents(n,t){const r=this.deltaToRenderBlocks(t.concat(new Ht().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const s=r.shift();if(s){const c=s.type==="block"&&(s.delta.length()===0||!this.descendant(Ml,n)[0]&&n<this.length()),d=s.type==="block"?s.delta:new Ht().insert({[s.key]:s.value});Y5(this,n,d);const h=s.type==="block"?1:0,g=n+d.length()+h;c&&this.insertAt(g-1,`
`);const b=jl(this.line(n)[0]),m=Pl.AttributeMap.diff(b,s.attributes)||{};Object.keys(m).forEach(x=>{this.formatAt(g-1,1,x,m[x])}),n=g}let[a,l]=this.children.find(n);if(r.length&&(a&&(a=a.split(l),l=0),r.forEach(c=>{if(c.type==="block"){const d=this.createBlock(c.attributes,a||void 0);Y5(d,0,c.delta)}else{const d=this.create(c.key,c.value);this.insertBefore(d,a||void 0),Object.keys(c.attributes).forEach(h=>{d.format(h,c.attributes[h])})}})),i.type==="block"&&i.delta.length()){const c=a?a.offset(a.scroll)+l:this.length();Y5(this,c,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(n){const t=this.path(n).pop();if(!t)return[null,-1];const[r,i]=t;return r instanceof qa?[r,i]:[null,-1]}line(n){return n===this.length()?this.line(n-1):this.descendant(B8,n)}lines(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,s,a)=>{let l=[],c=a;return i.children.forEachAt(s,a,(d,h,g)=>{B8(d)?l.push(d):d instanceof vv&&(l=l.concat(r(d,h,c))),c-=g}),l};return r(this,n,t)}optimize(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(n,t),n.length>0&&this.emitter.emit(Pt.events.SCROLL_OPTIMIZE,n,t))}path(n){return super.path(n).slice(1)}remove(){}update(n){if(this.batch){Array.isArray(n)&&(this.batch=this.batch.concat(n));return}let t=Pt.sources.USER;typeof n=="string"&&(t=n),Array.isArray(n)||(n=this.observer.takeRecords()),n=n.filter(r=>{let{target:i}=r;const s=this.find(i,!0);return s&&!U8(s)}),n.length>0&&this.emitter.emit(Pt.events.SCROLL_BEFORE_UPDATE,t,n),super.update(n.concat([])),n.length>0&&this.emitter.emit(Pt.events.SCROLL_UPDATE,t,n)}updateEmbedAt(n,t,r){const[i]=this.descendant(s=>s instanceof Ml,n);i&&i.statics.blotName===t&&U8(i)&&i.updateContent(r)}handleDragStart(n){n.preventDefault()}deltaToRenderBlocks(n){const t=[];let r=new Ht;return n.forEach(i=>{const s=i==null?void 0:i.insert;if(s)if(typeof s=="string"){const a=s.split(`
`);a.slice(0,-1).forEach(c=>{r.insert(c,i.attributes),t.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new Ht});const l=a[a.length-1];l&&r.insert(l,i.attributes)}else{const a=Object.keys(s)[0];if(!a)return;this.query(a,Wt.INLINE)?r.push(i):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new Ht,t.push({type:"blockEmbed",key:a,value:s[a],attributes:i.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(n,t){let r;const i={};Object.entries(n).forEach(l=>{let[c,d]=l;this.query(c,Wt.BLOCK&Wt.BLOT)!=null?r=c:i[c]=d});const s=this.create(r||this.statics.defaultChild.blotName,r?n[r]:void 0);this.insertBefore(s,t||void 0);const a=s.length();return Object.entries(i).forEach(l=>{let[c,d]=l;s.formatAt(0,a,c,d)}),s}}Ke(v0,"blotName","scroll"),Ke(v0,"className","ql-editor"),Ke(v0,"tagName","DIV"),Ke(v0,"defaultChild",ya),Ke(v0,"allowedChildren",[ya,Ml,hp]);function Y5(e,n,t){t.reduce((r,i)=>{const s=Pl.Op.length(i);let a=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const l=i.insert;e.insertAt(r,l);const[c]=e.descendant(qa,r),d=jl(c);a=Pl.AttributeMap.diff(d,a)||{}}else if(typeof i.insert=="object"){const l=Object.keys(i.insert)[0];if(l==null)return r;if(e.insertAt(r,l,i.insert[l]),e.scroll.query(l,Wt.INLINE)!=null){const[d]=e.descendant(qa,r),h=jl(d);a=Pl.AttributeMap.diff(h,a)||{}}}}return Object.keys(a).forEach(l=>{e.formatAt(r,s,l,a[l])}),r+s},n)}const $6={scope:Wt.BLOCK,whitelist:["right","center","justify"]},k$=new qc("align","align",$6),H7=new Tu("align","ql-align",$6),W7=new eh("align","text-align",$6);class V7 extends eh{value(n){let t=super.value(n);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):t}}const N$=new Tu("color","ql-color",{scope:Wt.INLINE}),H6=new V7("color","color",{scope:Wt.INLINE}),j$=new Tu("background","ql-bg",{scope:Wt.INLINE}),W6=new V7("background","background-color",{scope:Wt.INLINE});class pp extends hp{static create(n){const t=super.create(n);return t.setAttribute("spellcheck","false"),t}code(n,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(n,n+t)}html(n,t){return`<pre>
${wv(this.code(n,t))}
</pre>`}}class Wa extends ya{static register(){xt.register(pp)}}Ke(Wa,"TAB","  ");class V6 extends zc{}V6.blotName="code";V6.tagName="CODE";Wa.blotName="code-block";Wa.className="ql-code-block";Wa.tagName="DIV";pp.blotName="code-block-container";pp.className="ql-code-block-container";pp.tagName="DIV";pp.allowedChildren=[Wa];Wa.allowedChildren=[Au,Ou,$0];Wa.requiredContainer=pp;const Y6={scope:Wt.BLOCK,whitelist:["rtl"]},Y7=new qc("direction","dir",Y6),G7=new Tu("direction","ql-direction",Y6),Q7=new eh("direction","direction",Y6),K7={scope:Wt.INLINE,whitelist:["serif","monospace"]},X7=new Tu("font","ql-font",K7);class T$ extends eh{value(n){return super.value(n).replace(/["']/g,"")}}const Z7=new T$("font","font-family",K7),J7=new Tu("size","ql-size",{scope:Wt.INLINE,whitelist:["small","large","huge"]}),eO=new eh("size","font-size",{scope:Wt.INLINE,whitelist:["10px","18px","32px"]}),O$=Md("quill:keyboard"),I$=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Sv extends Iu{static match(n,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==n[r]&&t[r]!==null)?!1:t.key===n.key||t.key===n.which}constructor(n,t){super(n,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=L$(n);if(i==null){O$.warn("Attempted to add invalid keyboard binding",i);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(a=>{const l={...i,key:a,...t,...r};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",n=>{if(n.defaultPrevented||n.isComposing||n.keyCode===229&&(n.key==="Enter"||n.key==="Backspace"))return;const i=(this.bindings[n.key]||[]).concat(this.bindings[n.which]||[]).filter(w=>Sv.match(n,w));if(i.length===0)return;const s=xt.find(n.target,!0);if(s&&s.scroll!==this.quill.scroll)return;const a=this.quill.getSelection();if(a==null||!this.quill.hasFocus())return;const[l,c]=this.quill.getLine(a.index),[d,h]=this.quill.getLeaf(a.index),[g,b]=a.length===0?[d,h]:this.quill.getLeaf(a.index+a.length),m=d instanceof Mx?d.value().slice(0,h):"",x=g instanceof Mx?g.value().slice(b):"",y={collapsed:a.length===0,empty:a.length===0&&l.length()<=1,format:this.quill.getFormat(a),line:l,offset:c,prefix:m,suffix:x,event:n};i.some(w=>{if(w.collapsed!=null&&w.collapsed!==y.collapsed||w.empty!=null&&w.empty!==y.empty||w.offset!=null&&w.offset!==y.offset)return!1;if(Array.isArray(w.format)){if(w.format.every(C=>y.format[C]==null))return!1}else if(typeof w.format=="object"&&!Object.keys(w.format).every(C=>w.format[C]===!0?y.format[C]!=null:w.format[C]===!1?y.format[C]==null:kf(w.format[C],y.format[C])))return!1;return w.prefix!=null&&!w.prefix.test(y.prefix)||w.suffix!=null&&!w.suffix.test(y.suffix)?!1:w.handler.call(this,a,y,w)!==!0})&&n.preventDefault()})}handleBackspace(n,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(n.index===0||this.quill.getLength()<=1)return;let i={};const[s]=this.quill.getLine(n.index);let a=new Ht().retain(n.index-r).delete(r);if(t.offset===0){const[l]=this.quill.getLine(n.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const d=s.formats(),h=this.quill.getFormat(n.index-1,1);if(i=Pl.AttributeMap.diff(d,h)||{},Object.keys(i).length>0){const g=new Ht().retain(n.index+s.length()-2).retain(1,i);a=a.compose(g)}}}this.quill.updateContents(a,xt.sources.USER),this.quill.focus()}handleDelete(n,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(n.index>=this.quill.getLength()-r)return;let i={};const[s]=this.quill.getLine(n.index);let a=new Ht().retain(n.index).delete(r);if(t.offset>=s.length()-1){const[l]=this.quill.getLine(n.index+1);if(l){const c=s.formats(),d=this.quill.getFormat(n.index,1);i=Pl.AttributeMap.diff(c,d)||{},Object.keys(i).length>0&&(a=a.retain(l.length()-1).retain(1,i))}}this.quill.updateContents(a,xt.sources.USER),this.quill.focus()}handleDeleteRange(n){G6({range:n,quill:this.quill}),this.quill.focus()}handleEnter(n,t){const r=Object.keys(t.format).reduce((s,a)=>(this.quill.scroll.query(a,Wt.BLOCK)&&!Array.isArray(t.format[a])&&(s[a]=t.format[a]),s),{}),i=new Ht().retain(n.index).delete(n.length).insert(`
`,r);this.quill.updateContents(i,xt.sources.USER),this.quill.setSelection(n.index+1,xt.sources.SILENT),this.quill.focus()}}const D$={bindings:{bold:G5("bold"),italic:G5("italic"),underline:G5("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,n){return n.collapsed&&n.offset!==0?!0:(this.quill.format("indent","+1",xt.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,n){return n.collapsed&&n.offset!==0?!0:(this.quill.format("indent","-1",xt.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,n){n.format.indent!=null?this.quill.format("indent","-1",xt.sources.USER):n.format.list!=null&&this.quill.format("list",!1,xt.sources.USER)}},"indent code-block":$8(!0),"outdent code-block":$8(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,xt.sources.USER)}},tab:{key:"Tab",handler(e,n){if(n.format.table)return!0;this.quill.history.cutoff();const t=new Ht().retain(e.index).delete(e.length).insert("	");return this.quill.updateContents(t,xt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,xt.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,xt.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,n){const t={list:!1};n.format.indent&&(t.indent=!1),this.quill.formatLine(e.index,e.length,t,xt.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[n,t]=this.quill.getLine(e.index),r={...n.formats(),list:"checked"},i=new Ht().retain(e.index).insert(`
`,r).retain(n.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,xt.sources.USER),this.quill.setSelection(e.index+1,xt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,n){const[t,r]=this.quill.getLine(e.index),i=new Ht().retain(e.index).insert(`
`,n.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,xt.sources.USER),this.quill.setSelection(e.index+1,xt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const n=this.quill.getModule("table");if(n){const[t,r,i,s]=n.getTable(e),a=R$(t,r,i,s);if(a==null)return;let l=t.offset();if(a<0){const c=new Ht().retain(l).insert(`
`);this.quill.updateContents(c,xt.sources.USER),this.quill.setSelection(e.index+1,e.length,xt.sources.SILENT)}else if(a>0){l+=t.length();const c=new Ht().retain(l).insert(`
`);this.quill.updateContents(c,xt.sources.USER),this.quill.setSelection(l,xt.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,n){const{event:t,line:r}=n,i=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(i-1,xt.sources.USER):this.quill.setSelection(i+r.length(),xt.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,n){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=n.prefix,[r,i]=this.quill.getLine(e.index);if(i>t)return!0;let s;switch(n.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(e.index," ",xt.sources.USER),this.quill.history.cutoff();const a=new Ht().retain(e.index-i).delete(t+1).retain(r.length()-2-i).retain(1,{list:s});return this.quill.updateContents(a,xt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-t,xt.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[n,t]=this.quill.getLine(e.index);let r=2,i=n;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const s=new Ht().retain(e.index+n.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(s,xt.sources.USER),this.quill.setSelection(e.index-1,xt.sources.SILENT),!1}return!0}},"embed left":Ty("ArrowLeft",!1),"embed left shift":Ty("ArrowLeft",!0),"embed right":Ty("ArrowRight",!1),"embed right shift":Ty("ArrowRight",!0),"table down":H8(!1),"table up":H8(!0)}};Sv.DEFAULTS=D$;function $8(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(n,t){let{event:r}=t;const i=this.quill.scroll.query("code-block"),{TAB:s}=i;if(n.length===0&&!r.shiftKey){this.quill.insertText(n.index,s,xt.sources.USER),this.quill.setSelection(n.index+s.length,xt.sources.SILENT);return}const a=n.length===0?this.quill.getLines(n.index,1):this.quill.getLines(n);let{index:l,length:c}=n;a.forEach((d,h)=>{e?(d.insertAt(0,s),h===0?l+=s.length:c+=s.length):d.domNode.textContent.startsWith(s)&&(d.deleteAt(0,s.length),h===0?l-=s.length:c-=s.length)}),this.quill.update(xt.sources.USER),this.quill.setSelection(l,c,xt.sources.SILENT)}}}function Ty(e,n){return{key:e,shiftKey:n,altKey:null,[e==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;e==="ArrowRight"&&(i+=r.length+1);const[s]=this.quill.getLeaf(i);return s instanceof ul?(e==="ArrowLeft"?n?this.quill.setSelection(r.index-1,r.length+1,xt.sources.USER):this.quill.setSelection(r.index-1,xt.sources.USER):n?this.quill.setSelection(r.index,r.length+1,xt.sources.USER):this.quill.setSelection(r.index+r.length+1,xt.sources.USER),!1):!0}}}function G5(e){return{key:e[0],shortKey:!0,handler(n,t){this.quill.format(e,!t.format[e],xt.sources.USER)}}}function H8(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(n,t){const r=e?"prev":"next",i=t.line,s=i.parent[r];if(s!=null){if(s.statics.blotName==="table-row"){let a=s.children.head,l=i;for(;l.prev!=null;)l=l.prev,a=a.next;const c=a.offset(this.quill.scroll)+Math.min(t.offset,a.length()-1);this.quill.setSelection(c,0,xt.sources.USER)}}else{const a=i.table()[r];a!=null&&(e?this.quill.setSelection(a.offset(this.quill.scroll)+a.length()-1,0,xt.sources.USER):this.quill.setSelection(a.offset(this.quill.scroll),0,xt.sources.USER))}return!1}}}function L$(e){if(typeof e=="string"||typeof e=="number")e={key:e};else if(typeof e=="object")e=E0(e);else return null;return e.shortKey&&(e[I$]=e.shortKey,delete e.shortKey),e}function G6(e){let{quill:n,range:t}=e;const r=n.getLines(t);let i={};if(r.length>1){const s=r[0].formats(),a=r[r.length-1].formats();i=Pl.AttributeMap.diff(a,s)||{}}n.deleteText(t,xt.sources.USER),Object.keys(i).length>0&&n.formatLine(t.index,1,i,xt.sources.USER),n.setSelection(t.index,xt.sources.SILENT)}function R$(e,n,t,r){return n.prev==null&&n.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:n.prev==null?-1:n.next==null?1:null}const M$=/font-weight:\s*normal/,P$=["P","OL","UL"],W8=e=>e&&P$.includes(e.tagName),F$=e=>{Array.from(e.querySelectorAll("br")).filter(n=>W8(n.previousElementSibling)&&W8(n.nextElementSibling)).forEach(n=>{var t;(t=n.parentNode)==null||t.removeChild(n)})},q$=e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter(n=>{var t;return(t=n.getAttribute("style"))==null?void 0:t.match(M$)}).forEach(n=>{var r;const t=e.createDocumentFragment();t.append(...n.childNodes),(r=n.parentNode)==null||r.replaceChild(t,n)})};function z$(e){e.querySelector('[id^="docs-internal-guid-"]')&&(q$(e),F$(e))}const B$=/\bmso-list:[^;]*ignore/i,U$=/\bmso-list:[^;]*\bl(\d+)/i,$$=/\bmso-list:[^;]*\blevel(\d+)/i,H$=(e,n)=>{const t=e.getAttribute("style"),r=t==null?void 0:t.match(U$);if(!r)return null;const i=Number(r[1]),s=t==null?void 0:t.match($$),a=s?Number(s[1]):1,l=new RegExp(`@list l${i}:level${a}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),c=n.match(l),d=c&&c[1]==="bullet"?"bullet":"ordered";return{id:i,indent:a,type:d,element:e}},W$=e=>{var a,l;const n=Array.from(e.querySelectorAll("[style*=mso-list]")),t=[],r=[];n.forEach(c=>{(c.getAttribute("style")||"").match(B$)?t.push(c):r.push(c)}),t.forEach(c=>{var d;return(d=c.parentNode)==null?void 0:d.removeChild(c)});const i=e.documentElement.innerHTML,s=r.map(c=>H$(c,i)).filter(c=>c);for(;s.length;){const c=[];let d=s.shift();for(;d;)c.push(d),d=s.length&&((a=s[0])==null?void 0:a.element)===d.element.nextElementSibling&&s[0].id===d.id?s.shift():null;const h=document.createElement("ul");c.forEach(m=>{const x=document.createElement("li");x.setAttribute("data-list",m.type),m.indent>1&&x.setAttribute("class",`ql-indent-${m.indent-1}`),x.innerHTML=m.element.innerHTML,h.appendChild(x)});const g=(l=c[0])==null?void 0:l.element,{parentNode:b}=g??{};g&&(b==null||b.replaceChild(h,g)),c.slice(1).forEach(m=>{let{element:x}=m;b==null||b.removeChild(x)})}};function V$(e){e.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&W$(e)}const Y$=[V$,z$],G$=e=>{e.documentElement&&Y$.forEach(n=>{n(e)})},Q$=Md("quill:clipboard"),K$=[[Node.TEXT_NODE,lH],[Node.TEXT_NODE,Y8],["br",tH],[Node.ELEMENT_NODE,Y8],[Node.ELEMENT_NODE,eH],[Node.ELEMENT_NODE,J$],[Node.ELEMENT_NODE,aH],["li",iH],["ol, ul",sH],["pre",nH],["tr",oH],["b",Q5("bold")],["i",Q5("italic")],["strike",Q5("strike")],["style",rH]],X$=[k$,Y7].reduce((e,n)=>(e[n.keyName]=n,e),{}),V8=[W7,W6,H6,Q7,Z7,eO].reduce((e,n)=>(e[n.keyName]=n,e),{});class tO extends Iu{constructor(n,t){super(n,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],K$.concat(this.options.matchers??[]).forEach(r=>{let[i,s]=r;this.addMatcher(i,s)})}addMatcher(n,t){this.matchers.push([n,t])}convert(n){let{html:t,text:r}=n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[Wa.blotName])return new Ht().insert(r||"",{[Wa.blotName]:i[Wa.blotName]});if(!t)return new Ht().insert(r||"",i);const s=this.convertHTML(t);return Kg(s,`
`)&&(s.ops[s.ops.length-1].attributes==null||i.table)?s.compose(new Ht().retain(s.length()-1).delete(1)):s}normalizeHTML(n){G$(n)}convertHTML(n){const t=new DOMParser().parseFromString(n,"text/html");this.normalizeHTML(t);const r=t.body,i=new WeakMap,[s,a]=this.prepareMatching(r,i);return Q6(this.quill.scroll,r,s,a,i)}dangerouslyPasteHTML(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xt.sources.API;if(typeof n=="string"){const i=this.convert({html:n,text:""});this.quill.setContents(i,t),this.quill.setSelection(0,xt.sources.SILENT)}else{const i=this.convert({html:t,text:""});this.quill.updateContents(new Ht().retain(n).concat(i),r),this.quill.setSelection(n+i.length(),xt.sources.SILENT)}}onCaptureCopy(n){var a,l;let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n.defaultPrevented)return;n.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:s}=this.onCopy(r,t);(a=n.clipboardData)==null||a.setData("text/plain",s),(l=n.clipboardData)==null||l.setData("text/html",i),t&&G6({range:r,quill:this.quill})}normalizeURIList(n){return n.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(n){var a,l,c,d,h;if(n.defaultPrevented||!this.quill.isEnabled())return;n.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=(a=n.clipboardData)==null?void 0:a.getData("text/html");let i=(l=n.clipboardData)==null?void 0:l.getData("text/plain");if(!r&&!i){const g=(c=n.clipboardData)==null?void 0:c.getData("text/uri-list");g&&(i=this.normalizeURIList(g))}const s=Array.from(((d=n.clipboardData)==null?void 0:d.files)||[]);if(!r&&s.length>0){this.quill.uploader.upload(t,s);return}if(r&&s.length>0){const g=new DOMParser().parseFromString(r,"text/html");if(g.body.childElementCount===1&&((h=g.body.firstElementChild)==null?void 0:h.tagName)==="IMG"){this.quill.uploader.upload(t,s);return}}this.onPaste(t,{html:r,text:i})}onCopy(n){const t=this.quill.getText(n);return{html:this.quill.getSemanticHTML(n),text:t}}onPaste(n,t){let{text:r,html:i}=t;const s=this.quill.getFormat(n.index),a=this.convert({text:r,html:i},s);Q$.log("onPaste",a,{text:r,html:i});const l=new Ht().retain(n.index).delete(n.length).concat(a);this.quill.updateContents(l,xt.sources.USER),this.quill.setSelection(l.length()-n.length,xt.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(n,t){const r=[],i=[];return this.matchers.forEach(s=>{const[a,l]=s;switch(a){case Node.TEXT_NODE:i.push(l);break;case Node.ELEMENT_NODE:r.push(l);break;default:Array.from(n.querySelectorAll(a)).forEach(c=>{if(t.has(c)){const d=t.get(c);d==null||d.push(l)}else t.set(c,[l])});break}}),[r,i]}}Ke(tO,"DEFAULTS",{matchers:[]});function mp(e,n,t,r){return r.query(n)?e.reduce((i,s)=>{if(!s.insert)return i;if(s.attributes&&s.attributes[n])return i.push(s);const a=t?{[n]:t}:{};return i.insert(s.insert,{...a,...s.attributes})},new Ht):e}function Kg(e,n){let t="";for(let r=e.ops.length-1;r>=0&&t.length<n.length;--r){const i=e.ops[r];if(typeof i.insert!="string")break;t=i.insert+t}return t.slice(-1*n.length)===n}function Of(e,n){if(!(e instanceof Element))return!1;const t=n.query(e);return t&&t.prototype instanceof ul?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}function Z$(e,n){return e.previousElementSibling&&e.nextElementSibling&&!Of(e.previousElementSibling,n)&&!Of(e.nextElementSibling,n)}const Oy=new WeakMap;function nO(e){return e==null?!1:(Oy.has(e)||(e.tagName==="PRE"?Oy.set(e,!0):Oy.set(e,nO(e.parentNode))),Oy.get(e))}function Q6(e,n,t,r,i){return n.nodeType===n.TEXT_NODE?r.reduce((s,a)=>a(n,s,e),new Ht):n.nodeType===n.ELEMENT_NODE?Array.from(n.childNodes||[]).reduce((s,a)=>{let l=Q6(e,a,t,r,i);return a.nodeType===n.ELEMENT_NODE&&(l=t.reduce((c,d)=>d(a,c,e),l),l=(i.get(a)||[]).reduce((c,d)=>d(a,c,e),l)),s.concat(l)},new Ht):new Ht}function Q5(e){return(n,t,r)=>mp(t,e,!0,r)}function J$(e,n,t){const r=qc.keys(e),i=Tu.keys(e),s=eh.keys(e),a={};return r.concat(i).concat(s).forEach(l=>{let c=t.query(l,Wt.ATTRIBUTE);c!=null&&(a[c.attrName]=c.value(e),a[c.attrName])||(c=X$[l],c!=null&&(c.attrName===l||c.keyName===l)&&(a[c.attrName]=c.value(e)||void 0),c=V8[l],c!=null&&(c.attrName===l||c.keyName===l)&&(c=V8[l],a[c.attrName]=c.value(e)||void 0))}),Object.entries(a).reduce((l,c)=>{let[d,h]=c;return mp(l,d,h,t)},n)}function eH(e,n,t){const r=t.query(e);if(r==null)return n;if(r.prototype instanceof ul){const i={},s=r.value(e);if(s!=null)return i[r.blotName]=s,new Ht().insert(i,r.formats(e,t))}else if(r.prototype instanceof Sg&&!Kg(n,`
`)&&n.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return mp(n,r.blotName,r.formats(e,t),t);return n}function tH(e,n){return Kg(n,`
`)||n.insert(`
`),n}function nH(e,n,t){const r=t.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(e,t):!0;return mp(n,"code-block",i,t)}function rH(){return new Ht}function iH(e,n,t){const r=t.query(e);if(r==null||r.blotName!=="list"||!Kg(n,`
`))return n;let i=-1,s=e.parentNode;for(;s!=null;)["OL","UL"].includes(s.tagName)&&(i+=1),s=s.parentNode;return i<=0?n:n.reduce((a,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?a.push(l):a.insert(l.insert,{indent:i,...l.attributes||{}}):a,new Ht)}function sH(e,n,t){const r=e;let i=r.tagName==="OL"?"ordered":"bullet";const s=r.getAttribute("data-checked");return s&&(i=s==="true"?"checked":"unchecked"),mp(n,"list",i,t)}function Y8(e,n,t){if(!Kg(n,`
`)){if(Of(e,t)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return n.insert(`
`);if(n.length()>0&&e.nextSibling){let r=e.nextSibling;for(;r!=null;){if(Of(r,t))return n.insert(`
`);const i=t.query(r);if(i&&i.prototype instanceof Ml)return n.insert(`
`);r=r.firstChild}}}return n}function aH(e,n,t){var s;const r={},i=e.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),((s=i.fontWeight)!=null&&s.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),n=Object.entries(r).reduce((a,l)=>{let[c,d]=l;return mp(a,c,d,t)},n),parseFloat(i.textIndent||0)>0?new Ht().insert("	").concat(n):n}function oH(e,n,t){var i,s;const r=((i=e.parentElement)==null?void 0:i.tagName)==="TABLE"?e.parentElement:(s=e.parentElement)==null?void 0:s.parentElement;if(r!=null){const l=Array.from(r.querySelectorAll("tr")).indexOf(e)+1;return mp(n,"table",l,t)}return n}function lH(e,n,t){var i;let r=e.data;if(((i=e.parentElement)==null?void 0:i.tagName)==="O:P")return n.insert(r.trim());if(!nO(e)){if(r.trim().length===0&&r.includes(`
`)&&!Z$(e,t))return n;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(e.previousSibling==null&&e.parentElement!=null&&Of(e.parentElement,t)||e.previousSibling instanceof Element&&Of(e.previousSibling,t))&&(r=r.replace(/^ /,"")),(e.nextSibling==null&&e.parentElement!=null&&Of(e.parentElement,t)||e.nextSibling instanceof Element&&Of(e.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return n.insert(r)}class rO extends Iu{constructor(t,r){super(t,r);Ke(this,"lastRecorded",0);Ke(this,"ignoreChange",!1);Ke(this,"stack",{undo:[],redo:[]});Ke(this,"currentRange",null);this.quill.on(xt.events.EDITOR_CHANGE,(i,s,a,l)=>{i===xt.events.SELECTION_CHANGE?s&&l!==xt.sources.SILENT&&(this.currentRange=s):i===xt.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===xt.sources.USER?this.record(s,a):this.transform(s)),this.currentRange=bS(this.currentRange,s))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(t,r){if(this.stack[t].length===0)return;const i=this.stack[t].pop();if(!i)return;const s=this.quill.getContents(),a=i.delta.invert(s);this.stack[r].push({delta:a,range:bS(i.range,a)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,xt.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,r){if(t.ops.length===0)return;this.stack.redo=[];let i=t.invert(r),s=this.currentRange;const a=Date.now();if(this.lastRecorded+this.options.delay>a&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(i=i.compose(l.delta),s=l.range)}else this.lastRecorded=a;i.length()!==0&&(this.stack.undo.push({delta:i,range:s}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){G8(this.stack.undo,t),G8(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,xt.sources.USER);else{const r=cH(this.quill.scroll,t.delta);this.quill.setSelection(r,xt.sources.USER)}}}Ke(rO,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function G8(e,n){let t=n;for(let r=e.length-1;r>=0;r-=1){const i=e[r];e[r]={delta:t.transform(i.delta,!0),range:i.range&&bS(i.range,t)},t=i.delta.transform(t),e[r].delta.length()===0&&e.splice(r,1)}}function uH(e,n){const t=n.ops[n.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>e.query(r,Wt.BLOCK)!=null):!1}function cH(e,n){const t=n.reduce((i,s)=>i+(s.delete||0),0);let r=n.length()-t;return uH(e,n)&&(r-=1),r}function bS(e,n){if(!e)return e;const t=n.transformPosition(e.index),r=n.transformPosition(e.index+e.length);return{index:t,length:r-t}}class iO extends Iu{constructor(n,t){super(n,t),n.root.addEventListener("drop",r=>{var a;r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(l.offsetNode,l.offset),i.setEnd(l.offsetNode,l.offset)}const s=i&&n.selection.normalizeNative(i);if(s){const l=n.selection.normalizedToRange(s);(a=r.dataTransfer)!=null&&a.files&&this.upload(l,r.dataTransfer.files)}})}upload(n,t){const r=[];Array.from(t).forEach(i=>{var s;i&&((s=this.options.mimetypes)!=null&&s.includes(i.type))&&r.push(i)}),r.length>0&&this.options.handler.call(this,n,r)}}iO.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,n){if(!this.quill.scroll.query("image"))return;const t=n.map(r=>new Promise(i=>{const s=new FileReader;s.onload=()=>{i(s.result)},s.readAsDataURL(r)}));Promise.all(t).then(r=>{const i=r.reduce((s,a)=>s.insert({image:a}),new Ht().retain(e.index).delete(e.length));this.quill.updateContents(i,Pt.sources.USER),this.quill.setSelection(e.index+r.length,Pt.sources.SILENT)})}};const dH=["insertText","insertReplacementText"];class fH extends Iu{constructor(n,t){super(n,t),n.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||n.on(xt.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(n){G6({range:n,quill:this.quill})}replaceText(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n.length===0)return!1;if(t){const r=this.quill.getFormat(n.index,1);this.deleteRange(n),this.quill.updateContents(new Ht().retain(n.index).insert(t,r),xt.sources.USER)}else this.deleteRange(n);return this.quill.setSelection(n.index+t.length,0,xt.sources.SILENT),!0}handleBeforeInput(n){if(this.quill.composition.isComposing||n.defaultPrevented||!dH.includes(n.inputType))return;const t=n.getTargetRanges?n.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=hH(n);if(r==null)return;const i=this.quill.selection.normalizeNative(t),s=i?this.quill.selection.normalizedToRange(i):null;s&&this.replaceText(s,r)&&n.preventDefault()}handleCompositionStart(){const n=this.quill.getSelection();n&&this.replaceText(n)}}function hH(e){var n;return typeof e.data=="string"?e.data:(n=e.dataTransfer)!=null&&n.types.includes("text/plain")?e.dataTransfer.getData("text/plain"):null}const pH=/Mac/i.test(navigator.platform),mH=100,gH=e=>!!(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="Home"||pH&&e.key==="a"&&e.ctrlKey===!0);class bH extends Iu{constructor(t,r){super(t,r);Ke(this,"isListening",!1);Ke(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,r){let{line:i,event:s}=r;if(!(i instanceof wu)||!i.uiNode)return!0;const a=getComputedStyle(i.domNode).direction==="rtl";return a&&s.key!=="ArrowRight"||!a&&s.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(s.shiftKey?1:0),xt.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&gH(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+mH,this.isListening)return;this.isListening=!0;const t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const r=t.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const i=this.quill.scroll.find(r.startContainer);if(!(i instanceof wu)||!i.uiNode)return;const s=document.createRange();s.setStartAfter(i.uiNode),s.setEndAfter(i.uiNode),t.removeAllRanges(),t.addRange(s)}}xt.register({"blots/block":ya,"blots/block/embed":Ml,"blots/break":Ou,"blots/container":hp,"blots/cursor":$0,"blots/embed":U6,"blots/inline":zc,"blots/scroll":v0,"blots/text":Au,"modules/clipboard":tO,"modules/history":rO,"modules/keyboard":Sv,"modules/uploader":iO,"modules/input":fH,"modules/uiNode":bH});class yH extends Tu{add(n,t){let r=0;if(t==="+1"||t==="-1"){const i=this.value(n)||0;r=t==="+1"?i+1:i-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(n),!0):super.add(n,r.toString())}canAdd(n,t){return super.canAdd(n,t)||super.canAdd(n,parseInt(t,10))}value(n){return parseInt(super.value(n),10)||void 0}}const xH=new yH("indent","ql-indent",{scope:Wt.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class yS extends ya{}Ke(yS,"blotName","blockquote"),Ke(yS,"tagName","blockquote");var Xy;let vH=(Xy=class extends ya{static formats(n){return this.tagName.indexOf(n.tagName)+1}},Ke(Xy,"blotName","header"),Ke(Xy,"tagName",["H1","H2","H3","H4","H5","H6"]),Xy);class Xg extends hp{}Xg.blotName="list-container";Xg.tagName="OL";class Zg extends ya{static create(n){const t=super.create();return t.setAttribute("data-list",n),t}static formats(n){return n.getAttribute("data-list")||void 0}static register(){xt.register(Xg)}constructor(n,t){super(n,t);const r=t.ownerDocument.createElement("span"),i=s=>{if(!n.isEnabled())return;const a=this.statics.formats(t,n);a==="checked"?(this.format("list","unchecked"),s.preventDefault()):a==="unchecked"&&(this.format("list","checked"),s.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(n,t){n===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(n,t)}}Zg.blotName="list";Zg.tagName="LI";Xg.allowedChildren=[Zg];Zg.requiredContainer=Xg;class Cg extends zc{static create(){return super.create()}static formats(){return!0}optimize(n){super.optimize(n),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}Ke(Cg,"blotName","bold"),Ke(Cg,"tagName",["STRONG","B"]);class xS extends Cg{}Ke(xS,"blotName","italic"),Ke(xS,"tagName",["EM","I"]);class If extends zc{static create(n){const t=super.create(n);return t.setAttribute("href",this.sanitize(n)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(n){return n.getAttribute("href")}static sanitize(n){return sO(n,this.PROTOCOL_WHITELIST)?n:this.SANITIZED_URL}format(n,t){n!==this.statics.blotName||!t?super.format(n,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}Ke(If,"blotName","link"),Ke(If,"tagName","A"),Ke(If,"SANITIZED_URL","about:blank"),Ke(If,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function sO(e,n){const t=document.createElement("a");t.href=e;const r=t.href.slice(0,t.href.indexOf(":"));return n.indexOf(r)>-1}class vS extends zc{static create(n){return n==="super"?document.createElement("sup"):n==="sub"?document.createElement("sub"):super.create(n)}static formats(n){if(n.tagName==="SUB")return"sub";if(n.tagName==="SUP")return"super"}}Ke(vS,"blotName","script"),Ke(vS,"tagName",["SUB","SUP"]);class wS extends Cg{}Ke(wS,"blotName","strike"),Ke(wS,"tagName",["S","STRIKE"]);class SS extends zc{}Ke(SS,"blotName","underline"),Ke(SS,"tagName","U");class nx extends U6{static create(n){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(n);return typeof n=="string"&&(window.katex.render(n,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",n)),t}static value(n){return n.getAttribute("data-value")}html(){const{formula:n}=this.value();return`<span>${n}</span>`}}Ke(nx,"blotName","formula"),Ke(nx,"className","ql-formula"),Ke(nx,"tagName","SPAN");const Q8=["alt","height","width"];var Zy;let wH=(Zy=class extends ul{static create(n){const t=super.create(n);return typeof n=="string"&&t.setAttribute("src",this.sanitize(n)),t}static formats(n){return Q8.reduce((t,r)=>(n.hasAttribute(r)&&(t[r]=n.getAttribute(r)),t),{})}static match(n){return/\.(jpe?g|gif|png)$/.test(n)||/^data:image\/.+;base64/.test(n)}static sanitize(n){return sO(n,["http","https","data"])?n:"//:0"}static value(n){return n.getAttribute("src")}format(n,t){Q8.indexOf(n)>-1?t?this.domNode.setAttribute(n,t):this.domNode.removeAttribute(n):super.format(n,t)}},Ke(Zy,"blotName","image"),Ke(Zy,"tagName","IMG"),Zy);const K8=["height","width"];class rx extends Ml{static create(n){const t=super.create(n);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(n)),t}static formats(n){return K8.reduce((t,r)=>(n.hasAttribute(r)&&(t[r]=n.getAttribute(r)),t),{})}static sanitize(n){return If.sanitize(n)}static value(n){return n.getAttribute("src")}format(n,t){K8.indexOf(n)>-1?t?this.domNode.setAttribute(n,t):this.domNode.removeAttribute(n):super.format(n,t)}html(){const{video:n}=this.value();return`<a href="${n}">${n}</a>`}}Ke(rx,"blotName","video"),Ke(rx,"className","ql-video"),Ke(rx,"tagName","IFRAME");const K1=new Tu("code-token","hljs",{scope:Wt.INLINE});class Td extends zc{static formats(n,t){for(;n!=null&&n!==t.domNode;){if(n.classList&&n.classList.contains(Wa.className))return super.formats(n,t);n=n.parentNode}}constructor(n,t,r){super(n,t,r),K1.add(this.domNode,r)}format(n,t){n!==Td.blotName?super.format(n,t):t?K1.add(this.domNode,t):(K1.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),K1.value(this.domNode)||this.unwrap()}}Td.blotName="code-token";Td.className="ql-token";class Tl extends Wa{static create(n){const t=super.create(n);return typeof n=="string"&&t.setAttribute("data-language",n),t}static formats(n){return n.getAttribute("data-language")||"plain"}static register(){}format(n,t){n===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(n,t)}replaceWith(n,t){return this.formatAt(0,this.length(),Td.blotName,!1),super.replaceWith(n,t)}}class rg extends pp{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(n,t){n===Tl.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(n,t)}))}formatAt(n,t,r,i){r===Tl.blotName&&(this.forceNext=!0),super.formatAt(n,t,r,i)}highlight(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(a=>a!==this.uiNode).map(a=>a.textContent).join(`
`)}
`,s=Tl.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const a=this.children.reduce((c,d)=>c.concat(U7(d,!1)),new Ht),l=n(i,s);a.diff(l).reduce((c,d)=>{let{retain:h,attributes:g}=d;return h?(g&&Object.keys(g).forEach(b=>{[Tl.blotName,Td.blotName].includes(b)&&this.formatAt(c,h,b,g[b])}),c+h):c},0)}this.cachedText=i,this.forceNext=!1}}html(n,t){const[r]=this.children.find(n);return`<pre data-language="${r?Tl.formats(r.domNode):"plain"}">
${wv(this.code(n,t))}
</pre>`}optimize(n){if(super.optimize(n),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=Tl.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}rg.allowedChildren=[Tl];Tl.requiredContainer=rg;Tl.allowedChildren=[Td,$0,Au,Ou];const SH=(e,n,t)=>{if(typeof e.versionString=="string"){const r=e.versionString.split(".")[0];if(parseInt(r,10)>=11)return e.highlight(t,{language:n}).value}return e.highlight(n,t).value};class aO extends Iu{static register(){xt.register(Td,!0),xt.register(Tl,!0),xt.register(rg,!0)}constructor(n,t){if(super(n,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:s}=i;return r[s]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(xt.events.SCROLL_BLOT_MOUNT,n=>{if(!(n instanceof rg))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:s}=r;const a=t.ownerDocument.createElement("option");a.textContent=s,a.setAttribute("value",i),t.appendChild(a)}),t.addEventListener("change",()=>{n.format(Tl.blotName,t.value),this.quill.root.focus(),this.highlight(n,!0)}),n.uiNode==null&&(n.attachUI(t),n.children.head&&(t.value=Tl.formats(n.children.head.domNode)))})}initTimer(){let n=null;this.quill.on(xt.events.SCROLL_OPTIMIZE,()=>{n&&clearTimeout(n),n=setTimeout(()=>{this.highlight(),n=null},this.options.interval)})}highlight(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(xt.sources.USER);const r=this.quill.getSelection();(n==null?this.quill.scroll.descendants(rg):[n]).forEach(s=>{s.highlight(this.highlightBlot,t)}),this.quill.update(xt.sources.SILENT),r!=null&&this.quill.setSelection(r,xt.sources.SILENT)}highlightBlot(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return wv(n).split(`
`).reduce((i,s,a)=>(a!==0&&i.insert(`
`,{[Wa.blotName]:t}),i.insert(s)),new Ht);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(Wa.className),r.innerHTML=SH(this.options.hljs,t,n),Q6(this.quill.scroll,r,[(i,s)=>{const a=K1.value(i);return a?s.compose(new Ht().retain(s.length(),{[Td.blotName]:a})):s}],[(i,s)=>i.data.split(`
`).reduce((a,l,c)=>(c!==0&&a.insert(`
`,{[Wa.blotName]:t}),a.insert(l)),s)],new WeakMap)}}aO.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const dg=class dg extends ya{static create(n){const t=super.create();return n?t.setAttribute("data-row",n):t.setAttribute("data-row",K6()),t}static formats(n){if(n.hasAttribute("data-row"))return n.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(n,t){n===dg.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(n,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};Ke(dg,"blotName","table"),Ke(dg,"tagName","TD");let xu=dg;class Od extends hp{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const n=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return n.table===t.table&&n.table===r.table&&n.table===i.table}return!1}optimize(n){super.optimize(n),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),i=t.next.formats();if(r.table!==i.table){const s=this.splitAfter(t);s&&s.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}Ke(Od,"blotName","table-row"),Ke(Od,"tagName","TR");class Nc extends hp{}Ke(Nc,"blotName","table-body"),Ke(Nc,"tagName","TBODY");class W0 extends hp{balanceCells(){const n=this.descendants(Od),t=n.reduce((r,i)=>Math.max(i.children.length,r),0);n.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=xu.formats(r.children.head.domNode));const s=this.scroll.create(xu.blotName,i);r.appendChild(s),s.optimize()})})}cells(n){return this.rows().map(t=>t.children.at(n))}deleteColumn(n){const[t]=this.descendant(Nc);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(n);i!=null&&i.remove()})}insertColumn(n){const[t]=this.descendant(Nc);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(n),s=xu.formats(r.children.head.domNode),a=this.scroll.create(xu.blotName,s);r.insertBefore(a,i)})}insertRow(n){const[t]=this.descendant(Nc);if(t==null||t.children.head==null)return;const r=K6(),i=this.scroll.create(Od.blotName);t.children.head.children.forEach(()=>{const a=this.scroll.create(xu.blotName,r);i.appendChild(a)});const s=t.children.at(n);t.insertBefore(i,s)}rows(){const n=this.children.head;return n==null?[]:n.children.map(t=>t)}}Ke(W0,"blotName","table-container"),Ke(W0,"tagName","TABLE");W0.allowedChildren=[Nc];Nc.requiredContainer=W0;Nc.allowedChildren=[Od];Od.requiredContainer=Nc;Od.allowedChildren=[xu];xu.requiredContainer=Od;function K6(){return`row-${Math.random().toString(36).slice(2,6)}`}class AH extends Iu{static register(){xt.register(xu),xt.register(Od),xt.register(Nc),xt.register(W0)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(W0).forEach(n=>{n.balanceCells()})}deleteColumn(){const[n,,t]=this.getTable();t!=null&&(n.deleteColumn(t.cellOffset()),this.quill.update(xt.sources.USER))}deleteRow(){const[,n]=this.getTable();n!=null&&(n.remove(),this.quill.update(xt.sources.USER))}deleteTable(){const[n]=this.getTable();if(n==null)return;const t=n.offset();n.remove(),this.quill.update(xt.sources.USER),this.quill.setSelection(t,xt.sources.SILENT)}getTable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(n==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(n.index);if(t==null||t.statics.blotName!==xu.blotName)return[null,null,null,-1];const i=t.parent;return[i.parent.parent,i,t,r]}insertColumn(n){const t=this.quill.getSelection();if(!t)return;const[r,i,s]=this.getTable(t);if(s==null)return;const a=s.cellOffset();r.insertColumn(a+n),this.quill.update(xt.sources.USER);let l=i.rowOffset();n===0&&(l+=1),this.quill.setSelection(t.index+l,t.length,xt.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(n){const t=this.quill.getSelection();if(!t)return;const[r,i,s]=this.getTable(t);if(s==null)return;const a=i.rowOffset();r.insertRow(a+n),this.quill.update(xt.sources.USER),n>0?this.quill.setSelection(t,xt.sources.SILENT):this.quill.setSelection(t.index+i.children.length,t.length,xt.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(n,t){const r=this.quill.getSelection();if(r==null)return;const i=new Array(n).fill(0).reduce(s=>{const a=new Array(t).fill(`
`).join("");return s.insert(a,{table:K6()})},new Ht().retain(r.index));this.quill.updateContents(i,xt.sources.USER),this.quill.setSelection(r.index,xt.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(xt.events.SCROLL_OPTIMIZE,n=>{n.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(xt.events.TEXT_CHANGE,(r,i,s)=>{s===xt.sources.USER&&this.balanceTables()}),!0):!1)})}}const X8=Md("quill:toolbar");class X6 extends Iu{constructor(n,t){var r,i;if(super(n,t),Array.isArray(this.options.container)){const s=document.createElement("div");s.setAttribute("role","toolbar"),CH(s,this.options.container),(i=(r=n.container)==null?void 0:r.parentNode)==null||i.insertBefore(s,n.container),this.container=s}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){X8.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(s=>{var l;const a=(l=this.options.handlers)==null?void 0:l[s];a&&this.addHandler(s,a)}),Array.from(this.container.querySelectorAll("button, select")).forEach(s=>{this.attach(s)}),this.quill.on(xt.events.EDITOR_CHANGE,()=>{const[s]=this.quill.selection.getRange();this.update(s)})}addHandler(n,t){this.handlers[n]=t}attach(n){let t=Array.from(n.classList).find(i=>i.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),n.tagName==="BUTTON"&&n.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){X8.warn("ignoring attaching to nonexistent format",t,n);return}const r=n.tagName==="SELECT"?"change":"click";n.addEventListener(r,i=>{let s;if(n.tagName==="SELECT"){if(n.selectedIndex<0)return;const l=n.options[n.selectedIndex];l.hasAttribute("selected")?s=!1:s=l.value||!1}else n.classList.contains("ql-active")?s=!1:s=n.value||!n.hasAttribute("value"),i.preventDefault();this.quill.focus();const[a]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,s);else if(this.quill.scroll.query(t).prototype instanceof ul){if(s=prompt(`Enter ${t}`),!s)return;this.quill.updateContents(new Ht().retain(a.index).delete(a.length).insert({[t]:s}),xt.sources.USER)}else this.quill.format(t,s,xt.sources.USER);this.update(a)}),this.controls.push([t,n])}update(n){const t=n==null?{}:this.quill.getFormat(n);this.controls.forEach(r=>{const[i,s]=r;if(s.tagName==="SELECT"){let a=null;if(n==null)a=null;else if(t[i]==null)a=s.querySelector("option[selected]");else if(!Array.isArray(t[i])){let l=t[i];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),a=s.querySelector(`option[value="${l}"]`)}a==null?(s.value="",s.selectedIndex=-1):a.selected=!0}else if(n==null)s.classList.remove("ql-active"),s.setAttribute("aria-pressed","false");else if(s.hasAttribute("value")){const a=t[i],l=a===s.getAttribute("value")||a!=null&&a.toString()===s.getAttribute("value")||a==null&&!s.getAttribute("value");s.classList.toggle("ql-active",l),s.setAttribute("aria-pressed",l.toString())}else{const a=t[i]!=null;s.classList.toggle("ql-active",a),s.setAttribute("aria-pressed",a.toString())}})}}X6.DEFAULTS={};function Z8(e,n,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${n}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${n}: ${t}`)):r.setAttribute("aria-label",n),e.appendChild(r)}function CH(e,n){Array.isArray(n[0])||(n=[n]),n.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(i=>{if(typeof i=="string")Z8(r,i);else{const s=Object.keys(i)[0],a=i[s];Array.isArray(a)?EH(r,s,a):Z8(r,s,a)}}),e.appendChild(r)})}function EH(e,n,t){const r=document.createElement("select");r.classList.add(`ql-${n}`),t.forEach(i=>{const s=document.createElement("option");i!==!1?s.setAttribute("value",String(i)):s.setAttribute("selected","selected"),r.appendChild(s)}),e.appendChild(r)}X6.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(e!=null)if(e.length===0){const n=this.quill.getFormat();Object.keys(n).forEach(t=>{this.quill.scroll.query(t,Wt.INLINE)!=null&&this.quill.format(t,!1,xt.sources.USER)})}else this.quill.removeFormat(e.index,e.length,xt.sources.USER)},direction(e){const{align:n}=this.quill.getFormat();e==="rtl"&&n==null?this.quill.format("align","right",xt.sources.USER):!e&&n==="right"&&this.quill.format("align",!1,xt.sources.USER),this.quill.format("direction",e,xt.sources.USER)},indent(e){const n=this.quill.getSelection(),t=this.quill.getFormat(n),r=parseInt(t.indent||0,10);if(e==="+1"||e==="-1"){let i=e==="+1"?1:-1;t.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,xt.sources.USER)}},link(e){e===!0&&(e=prompt("Enter link URL:")),this.quill.format("link",e,xt.sources.USER)},list(e){const n=this.quill.getSelection(),t=this.quill.getFormat(n);e==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,xt.sources.USER):this.quill.format("list","unchecked",xt.sources.USER):this.quill.format("list",e,xt.sources.USER)}}};const _H='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',kH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',NH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',jH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',TH='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',OH='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',IH='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',DH='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',J8='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',LH='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',RH='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',MH='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',PH='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',FH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',qH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',zH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',BH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',UH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',$H='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',HH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',WH='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',VH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',YH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',GH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',QH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',KH='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',XH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',ZH='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',JH='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',eW='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',tW='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',nW='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',rW='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Eg={align:{"":_H,center:kH,right:NH,justify:jH},background:TH,blockquote:OH,bold:IH,clean:DH,code:J8,"code-block":J8,color:LH,direction:{"":RH,rtl:MH},formula:PH,header:{1:FH,2:qH,3:zH,4:BH,5:UH,6:$H},italic:HH,image:WH,indent:{"+1":VH,"-1":YH},link:GH,list:{bullet:QH,check:KH,ordered:XH},script:{sub:ZH,super:JH},strike:eW,table:tW,underline:nW,video:rW},iW='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let e4=0;function t4(e,n){e.setAttribute(n,`${e.getAttribute(n)!=="true"}`)}class Av{constructor(n){this.select=n,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),t4(this.label,"aria-expanded"),t4(this.options,"aria-hidden")}buildItem(n){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=n.getAttribute("value");return r&&t.setAttribute("data-value",r),n.textContent&&t.setAttribute("data-label",n.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(t,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),t}buildLabel(){const n=document.createElement("span");return n.classList.add("ql-picker-label"),n.innerHTML=iW,n.tabIndex="0",n.setAttribute("role","button"),n.setAttribute("aria-expanded","false"),this.container.appendChild(n),n}buildOptions(){const n=document.createElement("span");n.classList.add("ql-picker-options"),n.setAttribute("aria-hidden","true"),n.tabIndex="-1",n.id=`ql-picker-options-${e4}`,e4+=1,this.label.setAttribute("aria-controls",n.id),this.options=n,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);n.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(n)}buildPicker(){Array.from(this.select.attributes).forEach(n=>{this.container.setAttribute(n.name,n.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");n!==r&&(r!=null&&r.classList.remove("ql-selected"),n!=null&&(n.classList.add("ql-selected"),this.select.selectedIndex=Array.from(n.parentNode.children).indexOf(n),n.hasAttribute("data-value")?this.label.setAttribute("data-value",n.getAttribute("data-value")):this.label.removeAttribute("data-value"),n.hasAttribute("data-label")?this.label.setAttribute("data-label",n.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let n;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];n=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=n!=null&&n!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class oO extends Av{constructor(n,t){super(n),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(n){const t=super.buildItem(n);return t.style.backgroundColor=n.getAttribute("value")||"",t}selectItem(n,t){super.selectItem(n,t);const r=this.label.querySelector(".ql-color-label"),i=n&&n.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}}class lO extends Av{constructor(n,t){super(n),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(n,t){super.selectItem(n,t);const r=n||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const sW=e=>{const{overflowY:n}=getComputedStyle(e,null);return n!=="visible"&&n!=="clip"};class uO{constructor(n,t){this.quill=n,this.boundsContainer=t||document.body,this.root=n.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,sW(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(n){const t=n.left+n.width/2-this.root.offsetWidth/2,r=n.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),s=this.root.getBoundingClientRect();let a=0;if(s.right>i.right&&(a=i.right-s.right,this.root.style.left=`${t+a}px`),s.left<i.left&&(a=i.left-s.left,this.root.style.left=`${t+a}px`),s.bottom>i.bottom){const l=s.bottom-s.top,c=n.bottom-n.top+l;this.root.style.top=`${r-c}px`,this.root.classList.add("ql-flip")}return a}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const aW=[!1,"center","right","justify"],oW=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],lW=[!1,"serif","monospace"],uW=["1","2","3",!1],cW=["small",!1,"large","huge"];class Jg extends H0{constructor(n,t){super(n,t);const r=i=>{if(!document.body.contains(n.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(s=>{s.container.contains(i.target)||s.close()})};n.emitter.listenDOM("click",document.body,r)}addModule(n){const t=super.addModule(n);return n==="toolbar"&&this.extendToolbar(t),t}buildButtons(n,t){Array.from(n).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(s=>{if(s.startsWith("ql-")&&(s=s.slice(3),t[s]!=null))if(s==="direction")r.innerHTML=t[s][""]+t[s].rtl;else if(typeof t[s]=="string")r.innerHTML=t[s];else{const a=r.value||"";a!=null&&t[s][a]&&(r.innerHTML=t[s][a])}})})}buildPickers(n,t){this.pickers=Array.from(n).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&g1(i,aW),typeof t.align=="object"))return new lO(i,t.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const s=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&g1(i,oW,s==="background"?"#ffffff":"#000000"),new oO(i,t[s])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?g1(i,lW):i.classList.contains("ql-header")?g1(i,uW):i.classList.contains("ql-size")&&g1(i,cW)),new Av(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(Pt.events.EDITOR_CHANGE,r)}}Jg.DEFAULTS=zf({},H0.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");e==null&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",()=>{const n=this.quill.getSelection(!0);this.quill.uploader.upload(n,e.files),e.value=""}),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class cO extends uO{constructor(n,t){super(n,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",n=>{n.key==="Enter"?(this.save(),n.preventDefault()):n.key==="Escape"&&(this.cancel(),n.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:n!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${n}`)||""),this.root.setAttribute("data-mode",n)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:n}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,Pt.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,Pt.sources.USER)),this.quill.root.scrollTop=t;break}case"video":n=dW(n);case"formula":{if(!n)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),n,Pt.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",Pt.sources.USER),this.quill.setSelection(r+2,Pt.sources.USER)}break}}this.textbox.value="",this.hide()}}function dW(e){let n=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return n?`${n[1]||"https"}://www.youtube.com/embed/${n[2]}?showinfo=0`:(n=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${n[1]||"https"}://player.vimeo.com/video/${n[2]}/`:e}function g1(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;n.forEach(r=>{const i=document.createElement("option");r===t?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),e.appendChild(i)})}const fW=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class dO extends cO{constructor(n,t){super(n,t),this.quill.on(Pt.events.EDITOR_CHANGE,(r,i,s,a)=>{if(r===Pt.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&a===Pt.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(i.index,i.length);if(l.length===1){const c=this.quill.getBounds(i);c!=null&&this.position(c)}else{const c=l[l.length-1],d=this.quill.getIndex(c),h=Math.min(c.length()-1,i.index+i.length-d),g=this.quill.getBounds(new np(d,h));g!=null&&this.position(g)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Pt.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const n=this.quill.getSelection();if(n!=null){const t=this.quill.getBounds(n);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(n){const t=super.position(n),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}Ke(dO,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class fO extends Jg{constructor(n,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=fW),super(n,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(n){this.tooltip=new dO(this.quill,this.options.bounds),n.container!=null&&(this.tooltip.root.appendChild(n.container),this.buildButtons(n.container.querySelectorAll("button"),Eg),this.buildPickers(n.container.querySelectorAll("select"),Eg))}}fO.DEFAULTS=zf({},Jg.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,xt.sources.USER)}}}}});const hW=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class hO extends cO{constructor(){super(...arguments);Ke(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,Pt.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(Pt.events.SELECTION_CHANGE,(t,r,i)=>{if(t!=null){if(t.length===0&&i===Pt.sources.USER){const[s,a]=this.quill.scroll.descendant(If,t.index);if(s!=null){this.linkRange=new np(t.index-a,s.length());const l=If.formats(s.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const c=this.quill.getBounds(this.linkRange);c!=null&&this.position(c);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}Ke(hO,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class pO extends Jg{constructor(n,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=hW),super(n,t),this.quill.container.classList.add("ql-snow")}extendToolbar(n){n.container!=null&&(n.container.classList.add("ql-snow"),this.buildButtons(n.container.querySelectorAll("button"),Eg),this.buildPickers(n.container.querySelectorAll("select"),Eg),this.tooltip=new hO(this.quill,this.options.bounds),n.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{n.handlers.link.call(n,!r.format.link)}))}}pO.DEFAULTS=zf({},Jg.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const n=this.quill.getSelection();if(n==null||n.length===0)return;let t=this.quill.getText(n);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,xt.sources.USER)}}}}});xt.register({"attributors/attribute/direction":Y7,"attributors/class/align":H7,"attributors/class/background":j$,"attributors/class/color":N$,"attributors/class/direction":G7,"attributors/class/font":X7,"attributors/class/size":J7,"attributors/style/align":W7,"attributors/style/background":W6,"attributors/style/color":H6,"attributors/style/direction":Q7,"attributors/style/font":Z7,"attributors/style/size":eO},!0);xt.register({"formats/align":H7,"formats/direction":G7,"formats/indent":xH,"formats/background":W6,"formats/color":H6,"formats/font":X7,"formats/size":J7,"formats/blockquote":yS,"formats/code-block":Wa,"formats/header":vH,"formats/list":Zg,"formats/bold":Cg,"formats/code":V6,"formats/italic":xS,"formats/link":If,"formats/script":vS,"formats/strike":wS,"formats/underline":SS,"formats/formula":nx,"formats/image":wH,"formats/video":rx,"modules/syntax":aO,"modules/table":AH,"modules/toolbar":X6,"themes/bubble":fO,"themes/snow":pO,"ui/icons":Eg,"ui/picker":Av,"ui/icon-picker":lO,"ui/color-picker":oO,"ui/tooltip":uO},!0);class eb extends tt.Component{constructor(n){super(n),this.editingAreaRef=K.createRef(),this.containerRef=K.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(r,i,s,a)=>{var l,c;r==="text-change"?(l=this.onEditorChangeText)==null||l.call(this,this.editor.root.innerHTML,i,a,this.unprivilegedEditor):r==="selection-change"&&((c=this.onEditorChangeSelection)==null||c.call(this,i,a,this.unprivilegedEditor))};const t=this.isControlled()?n.value:n.defaultValue;this.value=t??""}validateProps(n){if(tt.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(tt.Children.count(n.children)){const t=tt.Children.only(n.children);if((t==null?void 0:t.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(n,t){if(this.validateProps(n),!this.editor||this.state.generation!==t.generation)return!0;if("value"in n){const r=this.getEditorContents(),i=n.value??"";this.isEqualValue(i,r)||this.setEditorContents(this.editor,i)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),[...this.cleanProps,...this.dirtyProps].some(r=>!kf(n[r],this.props[r]))}shouldComponentRegenerate(n){return this.dirtyProps.some(t=>!kf(n[t],this.props[t]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(n,t){if(this.editor&&this.shouldComponentRegenerate(n)){const r=this.editor.getContents(),i=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:i},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){const{delta:r,selection:i}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const s=this.editor;s.setContents(r),n4(()=>this.setEditorSelection(s,i))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){var r,i;if(!this.editor)return;this.unhookEditor(this.editor);const n=(r=this.props.modules)==null?void 0:r.toolbar;if(!(typeof n=="object"&&n&&"container"in n&&typeof n.container=="string"||typeof n=="string")){const s=(i=this.containerRef.current)==null?void 0:i.querySelector(".ql-toolbar");s&&s.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(n,t){const r=new xt(n,t);return t.tabIndex!=null&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r}hookEditor(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)}unhookEditor(n){n.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(n){return n&&n.ops}isEqualValue(n,t){return this.isDelta(n)&&this.isDelta(t)?kf(n.ops,t.ops):kf(n,t)}setEditorContents(n,t){this.value=t;const r=this.getEditorSelection();typeof t=="string"?n.setContents(n.clipboard.convert({html:t})):n.setContents(t),n4(()=>this.setEditorSelection(n,r))}setEditorSelection(n,t){if(this.selection=t,t){const r=n.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),n.setSelection(t)}}setEditorTabIndex(n,t){var r;(r=n==null?void 0:n.scroll)!=null&&r.domNode&&(n.scroll.domNode.tabIndex=t)}setEditorReadOnly(n,t){t?n.disable():n.enable()}makeUnprivilegedEditor(n){const t=n;return{getHTML:()=>t.root.innerHTML,getSemanticHTML:t.getSemanticHTML.bind(t),getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}}getEditingArea(){const n=this.editingAreaRef.current;if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n}renderEditingArea(){const{children:n,preserveWhitespace:t}=this.props,{generation:r}=this.state,i={key:r,ref:this.editingAreaRef};return tt.Children.count(n)?tt.cloneElement(tt.Children.only(n),i):t?tt.createElement("pre",{...i}):tt.createElement("div",{...i})}render(){return tt.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(n,t,r,i){var a,l;if(!this.editor)return;const s=this.isDelta(this.value)?i.getContents():i.getHTML();s!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=s,(l=(a=this.props).onChange)==null||l.call(a,n,t,r,i))}onEditorChangeSelection(n,t,r){var l,c,d,h,g,b;if(!this.editor)return;const i=this.getEditorSelection(),s=!i&&n,a=i&&!n;kf(n,i)||(this.selection=n,(c=(l=this.props).onChangeSelection)==null||c.call(l,n,t,r),s?(h=(d=this.props).onFocus)==null||h.call(d,n,t,r):a&&((b=(g=this.props).onBlur)==null||b.call(g,i,t,r)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}eb.displayName="React Quill";eb.Quill=xt;eb.defaultProps={theme:"snow",modules:{},readOnly:!1};function n4(e){Promise.resolve().then(e)}const pW=({content:e,onChange:n})=>{const t=s=>{n(s)},r={toolbar:[[{header:[1,2,3,!1]}],["bold","italic"],["blockquote",{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},i=["header","bold","italic","blockquote","list","link"];return f.jsx(eb,{value:e,onChange:t,modules:r,formats:i,theme:"snow",placeholder:"Start writing...",style:{backgroundColor:"white",borderRadius:"4px",minHeight:"150px"}})},mW=(e,n={enabled:!0,priority:"low"})=>{const t=K.useCallback(r=>{!n.enabled||r.length===0||r.forEach((i,s)=>{if(!i||i.startsWith("data:"))return;const a=new Image;"loading"in a&&(a.loading="lazy");const l=n.priority==="low"?s*100:0;setTimeout(()=>{a.src=i,a.onload=()=>{console.log(` Preloaded image: ${i.substring(0,50)}...`)},a.onerror=c=>{console.error(` Failed to preload image: ${i}`,c),console.error("Image details:",{url:i,naturalWidth:a.naturalWidth,naturalHeight:a.naturalHeight,complete:a.complete})}},l)})},[n.enabled,n.priority]);return K.useEffect(()=>{t(e)},[e,t]),{preloadImages:t}},mO=(e,n,t=!0)=>{const{preloadImages:r}=mW([],{enabled:t,priority:"low"});K.useEffect(()=>{var a,l;if(!t||!e.length)return;const i=[];if(n>0){const c=e[n-1];c!=null&&c.images&&i.push(...c.images.map(d=>d.url)),(a=c==null?void 0:c.subsections)==null||a.forEach(d=>{var h;d.images&&i.push(...d.images.map(g=>g.url)),(h=d==null?void 0:d.subSubsections)==null||h.forEach(g=>{g.images&&i.push(...g.images.map(b=>b.url))})})}if(n<e.length-1){const c=e[n+1];c!=null&&c.images&&i.push(...c.images.map(d=>d.url)),(l=c==null?void 0:c.subsections)==null||l.forEach(d=>{var h;d.images&&i.push(...d.images.map(g=>g.url)),(h=d==null?void 0:d.subSubsections)==null||h.forEach(g=>{g.images&&i.push(...g.images.map(b=>b.url))})})}const s=Array.from(new Set(i.filter(Boolean)));s.length>0&&(console.log(`Preloading ${s.length} images from adjacent sections`),r(s))},[e,n,t,r])},r4=({content:e,onChange:n})=>{const t=s=>{n(s)},r={toolbar:[[{header:[1,2,3,!1]}],["bold","italic"],["blockquote",{list:"ordered"},{list:"bullet"}],["link"]]},i=["header","bold","italic","blockquote","list","link"];return f.jsx(eb,{value:e,onChange:t,modules:r,formats:i,theme:"snow",placeholder:"Start writing...",style:{backgroundColor:"white",borderRadius:"4px",minHeight:"120px"}})},gW=({value:e,onChange:n})=>{const[t,r]=K.useState([]),[i,s]=K.useState(!0),{userDetails:a}=Ii();K.useEffect(()=>{if(console.log("User Details in CourseDropdown:",a),a!=null&&a.classes){const c=Object.entries(a.classes).filter(([d,h])=>h.isCourseAdmin||a.isSuperAdmin).map(([d,h])=>({id:d,number:h.number,title:h.title}));console.log("Filtered Courses for Dropdown:",c),r(c)}else r([]);s(!1)},[a]);const l=t.some(c=>c.id===e);return i?f.jsx(be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:f.jsx(Pr,{})}):f.jsx($t,{select:!0,label:"Select Course",value:l?e:"",onChange:c=>n(c.target.value),fullWidth:!0,sx:{mb:2},error:!l&&e!=="",helperText:!l&&e!==""?"Invalid course selected":"",children:t.length>0?t.map(c=>f.jsxs(ur,{value:c.id,children:[c.number," - ",c.title]},c.id)):f.jsx(ur,{disabled:!0,children:"No courses available"})})};function Mt(e){const n=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&n==="[object Date]"?new e.constructor(+e):typeof e=="number"||n==="[object Number]"||typeof e=="string"||n==="[object String]"?new Date(e):new Date(NaN)}function Hr(e,n){return e instanceof Date?new e.constructor(n):new Date(n)}function Su(e,n){const t=Mt(e);return isNaN(n)?Hr(e,NaN):(n&&t.setDate(t.getDate()+n),t)}function Cu(e,n){const t=Mt(e);if(isNaN(n))return Hr(e,NaN);if(!n)return t;const r=t.getDate(),i=Hr(e,t.getTime());i.setMonth(t.getMonth()+n+1,0);const s=i.getDate();return r>=s?i:(t.setFullYear(i.getFullYear(),i.getMonth(),r),t)}function Z6(e,n){const t=+Mt(e);return Hr(e,t+n)}const gO=6048e5,bW=864e5,Cv=6e4,Ev=36e5,yW=1e3;function xW(e,n){return Z6(e,n*Ev)}let vW={};function gp(){return vW}function Id(e,n){var l,c,d,h;const t=gp(),r=(n==null?void 0:n.weekStartsOn)??((c=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??t.weekStartsOn??((h=(d=t.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=Mt(e),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function V0(e){return Id(e,{weekStartsOn:1})}function bO(e){const n=Mt(e),t=n.getFullYear(),r=Hr(e,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const i=V0(r),s=Hr(e,0);s.setFullYear(t,0,4),s.setHours(0,0,0,0);const a=V0(s);return n.getTime()>=i.getTime()?t+1:n.getTime()>=a.getTime()?t:t-1}function rp(e){const n=Mt(e);return n.setHours(0,0,0,0),n}function Px(e){const n=Mt(e),t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),+e-+t}function Y0(e,n){const t=rp(e),r=rp(n),i=+t-Px(t),s=+r-Px(r);return Math.round((i-s)/bW)}function wW(e){const n=bO(e),t=Hr(e,0);return t.setFullYear(n,0,4),t.setHours(0,0,0,0),V0(t)}function AS(e,n){return Z6(e,n*Cv)}function J6(e,n){const t=n*3;return Cu(e,t)}function SW(e,n){return Z6(e,n*1e3)}function Fx(e,n){const t=n*7;return Su(e,t)}function Cd(e,n){return Cu(e,n*12)}function i4(e){let n;return e.forEach(function(t){const r=Mt(t);(n===void 0||n<r||isNaN(Number(r)))&&(n=r)}),n||new Date(NaN)}function s4(e){let n;return e.forEach(t=>{const r=Mt(t);(!n||n>r||isNaN(+r))&&(n=r)}),n||new Date(NaN)}function AW(e,n){const t=rp(e),r=rp(n);return+t==+r}function Ed(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function qx(e){if(!Ed(e)&&typeof e!="number")return!1;const n=Mt(e);return!isNaN(Number(n))}function zx(e,n){const t=Mt(e),r=Mt(n),i=t.getFullYear()-r.getFullYear(),s=t.getMonth()-r.getMonth();return i*12+s}function Wh(e){const n=Mt(e);return Math.trunc(n.getMonth()/3)+1}function Bx(e,n){const t=Mt(e),r=Mt(n),i=t.getFullYear()-r.getFullYear(),s=Wh(t)-Wh(r);return i*4+s}function Ux(e,n){const t=Mt(e),r=Mt(n);return t.getFullYear()-r.getFullYear()}function CW(e,n){const t=Mt(e),r=Mt(n),i=a4(t,r),s=Math.abs(Y0(t,r));t.setDate(t.getDate()-i*s);const a=+(a4(t,r)===-i),l=i*(s-a);return l===0?0:l}function a4(e,n){const t=e.getFullYear()-n.getFullYear()||e.getMonth()-n.getMonth()||e.getDate()-n.getDate()||e.getHours()-n.getHours()||e.getMinutes()-n.getMinutes()||e.getSeconds()-n.getSeconds()||e.getMilliseconds()-n.getMilliseconds();return t<0?-1:t>0?1:t}function yO(e){const n=Mt(e);return n.setHours(23,59,59,999),n}function xO(e){const n=Mt(e),t=n.getMonth();return n.setFullYear(n.getFullYear(),t+1,0),n.setHours(23,59,59,999),n}function CS(e){const n=Mt(e),t=n.getMonth(),r=t-t%3;return n.setMonth(r,1),n.setHours(0,0,0,0),n}function vO(e){const n=Mt(e);return n.setDate(1),n.setHours(0,0,0,0),n}function wO(e){const n=Mt(e),t=n.getFullYear();return n.setFullYear(t+1,0,0),n.setHours(23,59,59,999),n}function _v(e){const n=Mt(e),t=Hr(e,0);return t.setFullYear(n.getFullYear(),0,1),t.setHours(0,0,0,0),t}function EW(e,n){var l,c;const t=gp(),r=t.weekStartsOn??((c=(l=t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,i=Mt(e),s=i.getDay(),a=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}const _W={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kW=(e,n,t)=>{let r;const i=_W[e];return typeof i=="string"?r=i:n===1?r=i.one:r=i.other.replace("{{count}}",n.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function K5(e){return(n={})=>{const t=n.width?String(n.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const NW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},TW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},OW={date:K5({formats:NW,defaultWidth:"full"}),time:K5({formats:jW,defaultWidth:"full"}),dateTime:K5({formats:TW,defaultWidth:"full"})},IW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},DW=(e,n,t,r)=>IW[e];function b1(e){return(n,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=t!=null&&t.width?String(t.width):a;i=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=t!=null&&t.width?String(t.width):e.defaultWidth;i=e.values[l]||e.values[a]}const s=e.argumentCallback?e.argumentCallback(n):n;return i[s]}}const LW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},RW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},MW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},PW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},FW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zW=(e,n)=>{const t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},BW={ordinalNumber:zW,era:b1({values:LW,defaultWidth:"wide"}),quarter:b1({values:RW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:b1({values:MW,defaultWidth:"wide"}),day:b1({values:PW,defaultWidth:"wide"}),dayPeriod:b1({values:FW,defaultWidth:"wide",formattingValues:qW,defaultFormattingWidth:"wide"})};function y1(e){return(n,t={})=>{const r=t.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=n.match(i);if(!s)return null;const a=s[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?$W(l,g=>g.test(a)):UW(l,g=>g.test(a));let d;d=e.valueCallback?e.valueCallback(c):c,d=t.valueCallback?t.valueCallback(d):d;const h=n.slice(a.length);return{value:d,rest:h}}}function UW(e,n){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n(e[t]))return t}function $W(e,n){for(let t=0;t<e.length;t++)if(n(e[t]))return t}function HW(e){return(n,t={})=>{const r=n.match(e.matchPattern);if(!r)return null;const i=r[0],s=n.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=t.valueCallback?t.valueCallback(a):a;const l=n.slice(i.length);return{value:a,rest:l}}}const WW=/^(\d+)(th|st|nd|rd)?/i,VW=/\d+/i,YW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},GW={any:[/^b/i,/^(a|c)/i]},QW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},KW={any:[/1/i,/2/i,/3/i,/4/i]},XW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ZW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},JW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rV={ordinalNumber:HW({matchPattern:WW,parsePattern:VW,valueCallback:e=>parseInt(e,10)}),era:y1({matchPatterns:YW,defaultMatchWidth:"wide",parsePatterns:GW,defaultParseWidth:"any"}),quarter:y1({matchPatterns:QW,defaultMatchWidth:"wide",parsePatterns:KW,defaultParseWidth:"any",valueCallback:e=>e+1}),month:y1({matchPatterns:XW,defaultMatchWidth:"wide",parsePatterns:ZW,defaultParseWidth:"any"}),day:y1({matchPatterns:JW,defaultMatchWidth:"wide",parsePatterns:eV,defaultParseWidth:"any"}),dayPeriod:y1({matchPatterns:tV,defaultMatchWidth:"any",parsePatterns:nV,defaultParseWidth:"any"})},SO={code:"en-US",formatDistance:kW,formatLong:OW,formatRelative:DW,localize:BW,match:rV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function iV(e){const n=Mt(e);return Y0(n,_v(n))+1}function eA(e){const n=Mt(e),t=+V0(n)-+wW(n);return Math.round(t/gO)+1}function tA(e,n){var h,g,b,m;const t=Mt(e),r=t.getFullYear(),i=gp(),s=(n==null?void 0:n.firstWeekContainsDate)??((g=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(b=i.locale)==null?void 0:b.options)==null?void 0:m.firstWeekContainsDate)??1,a=Hr(e,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const l=Id(a,n),c=Hr(e,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const d=Id(c,n);return t.getTime()>=l.getTime()?r+1:t.getTime()>=d.getTime()?r:r-1}function sV(e,n){var l,c,d,h;const t=gp(),r=(n==null?void 0:n.firstWeekContainsDate)??((c=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??t.firstWeekContainsDate??((h=(d=t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=tA(e,n),s=Hr(e,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Id(s,n)}function AO(e,n){const t=Mt(e),r=+Id(t,n)-+sV(t,n);return Math.round(r/gO)+1}function $r(e,n){const t=e<0?"-":"",r=Math.abs(e).toString().padStart(n,"0");return t+r}const wf={y(e,n){const t=e.getFullYear(),r=t>0?t:1-t;return $r(n==="yy"?r%100:r,n.length)},M(e,n){const t=e.getMonth();return n==="M"?String(t+1):$r(t+1,2)},d(e,n){return $r(e.getDate(),n.length)},a(e,n){const t=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,n){return $r(e.getHours()%12||12,n.length)},H(e,n){return $r(e.getHours(),n.length)},m(e,n){return $r(e.getMinutes(),n.length)},s(e,n){return $r(e.getSeconds(),n.length)},S(e,n){const t=n.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return $r(i,n.length)}},Zp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},o4={G:function(e,n,t){const r=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(e,n,t){if(n==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return wf.y(e,n)},Y:function(e,n,t,r){const i=tA(e,r),s=i>0?i:1-i;if(n==="YY"){const a=s%100;return $r(a,2)}return n==="Yo"?t.ordinalNumber(s,{unit:"year"}):$r(s,n.length)},R:function(e,n){const t=bO(e);return $r(t,n.length)},u:function(e,n){const t=e.getFullYear();return $r(t,n.length)},Q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return $r(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return $r(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,t){const r=e.getMonth();switch(n){case"M":case"MM":return wf.M(e,n);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,t){const r=e.getMonth();switch(n){case"L":return String(r+1);case"LL":return $r(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,t,r){const i=AO(e,r);return n==="wo"?t.ordinalNumber(i,{unit:"week"}):$r(i,n.length)},I:function(e,n,t){const r=eA(e);return n==="Io"?t.ordinalNumber(r,{unit:"week"}):$r(r,n.length)},d:function(e,n,t){return n==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):wf.d(e,n)},D:function(e,n,t){const r=iV(e);return n==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):$r(r,n.length)},E:function(e,n,t){const r=e.getDay();switch(n){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,t,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return $r(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,t,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return $r(s,n.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,t){const r=e.getDay(),i=r===0?7:r;switch(n){case"i":return String(i);case"ii":return $r(i,n.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,t){const i=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,t){const r=e.getHours();let i;switch(r===12?i=Zp.noon:r===0?i=Zp.midnight:i=r/12>=1?"pm":"am",n){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,t){const r=e.getHours();let i;switch(r>=17?i=Zp.evening:r>=12?i=Zp.afternoon:r>=4?i=Zp.morning:i=Zp.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,t){if(n==="ho"){let r=e.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return wf.h(e,n)},H:function(e,n,t){return n==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):wf.H(e,n)},K:function(e,n,t){const r=e.getHours()%12;return n==="Ko"?t.ordinalNumber(r,{unit:"hour"}):$r(r,n.length)},k:function(e,n,t){let r=e.getHours();return r===0&&(r=24),n==="ko"?t.ordinalNumber(r,{unit:"hour"}):$r(r,n.length)},m:function(e,n,t){return n==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):wf.m(e,n)},s:function(e,n,t){return n==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):wf.s(e,n)},S:function(e,n){return wf.S(e,n)},X:function(e,n,t){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(n){case"X":return u4(r);case"XXXX":case"XX":return Dh(r);case"XXXXX":case"XXX":default:return Dh(r,":")}},x:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"x":return u4(r);case"xxxx":case"xx":return Dh(r);case"xxxxx":case"xxx":default:return Dh(r,":")}},O:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+l4(r,":");case"OOOO":default:return"GMT"+Dh(r,":")}},z:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+l4(r,":");case"zzzz":default:return"GMT"+Dh(r,":")}},t:function(e,n,t){const r=Math.trunc(e.getTime()/1e3);return $r(r,n.length)},T:function(e,n,t){const r=e.getTime();return $r(r,n.length)}};function l4(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return s===0?t+String(i):t+String(i)+n+$r(s,2)}function u4(e,n){return e%60===0?(e>0?"-":"+")+$r(Math.abs(e)/60,2):Dh(e,n)}function Dh(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),i=$r(Math.trunc(r/60),2),s=$r(r%60,2);return t+i+n+s}const c4=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},CO=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},aV=(e,n)=>{const t=e.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return c4(e,n);let s;switch(r){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",c4(r,n)).replace("{{time}}",CO(i,n))},$x={p:CO,P:aV},oV=/^D+$/,lV=/^Y+$/,uV=["D","DD","YY","YYYY"];function EO(e){return oV.test(e)}function _O(e){return lV.test(e)}function ES(e,n,t){const r=cV(e,n,t);if(console.warn(r),uV.includes(e))throw new RangeError(r)}function cV(e,n,t){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hV=/^'([^]*?)'?$/,pV=/''/g,mV=/[a-zA-Z]/;function d4(e,n,t){var h,g,b,m,x,y,A,w;const r=gp(),i=(t==null?void 0:t.locale)??r.locale??SO,s=(t==null?void 0:t.firstWeekContainsDate)??((g=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(b=r.locale)==null?void 0:b.options)==null?void 0:m.firstWeekContainsDate)??1,a=(t==null?void 0:t.weekStartsOn)??((y=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((w=(A=r.locale)==null?void 0:A.options)==null?void 0:w.weekStartsOn)??0,l=Mt(e);if(!qx(l))throw new RangeError("Invalid time value");let c=n.match(fV).map(C=>{const k=C[0];if(k==="p"||k==="P"){const R=$x[k];return R(C,i.formatLong)}return C}).join("").match(dV).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const k=C[0];if(k==="'")return{isToken:!1,value:gV(C)};if(o4[k])return{isToken:!0,value:C};if(k.match(mV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:C}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return c.map(C=>{if(!C.isToken)return C.value;const k=C.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&_O(k)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&EO(k))&&ES(k,n,String(e));const R=o4[k[0]];return R(l,k,i.localize,d)}).join("")}function gV(e){const n=e.match(hV);return n?n[1].replace(pV,"'"):e}function f4(e){return Mt(e).getDate()}function bV(e){return Mt(e).getDay()}function yV(e){const n=Mt(e),t=n.getFullYear(),r=n.getMonth(),i=Hr(e,0);return i.setFullYear(t,r+1,0),i.setHours(0,0,0,0),i.getDate()}function xV(){return Object.assign({},gp())}function jc(e){return Mt(e).getHours()}function vV(e){let t=Mt(e).getDay();return t===0&&(t=7),t}function Tc(e){return Mt(e).getMinutes()}function uo(e){return Mt(e).getMonth()}function _d(e){return Mt(e).getSeconds()}function _S(e){return Mt(e).getTime()}function Un(e){return Mt(e).getFullYear()}function Wf(e,n){const t=Mt(e),r=Mt(n);return t.getTime()>r.getTime()}function ip(e,n){const t=Mt(e),r=Mt(n);return+t<+r}function wV(e,n){const t=Mt(e),r=Mt(n);return+t==+r}function SV(e,n){const t=n instanceof Date?Hr(n,0):new n(0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}const AV=10;class kO{constructor(){Ke(this,"subPriority",0)}validate(n,t){return!0}}class CV extends kO{constructor(n,t,r,i,s){super(),this.value=n,this.validateValue=t,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(n,t){return this.validateValue(n,this.value,t)}set(n,t,r){return this.setValue(n,t,this.value,r)}}class EV extends kO{constructor(){super(...arguments);Ke(this,"priority",AV);Ke(this,"subPriority",-1)}set(t,r){return r.timestampIsSet?t:Hr(t,SV(t,Date))}}let kr=class{run(n,t,r,i){const s=this.parse(n,t,r,i);return s?{setter:new CV(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(n,t,r){return!0}};class _V extends kr{constructor(){super(...arguments);Ke(this,"priority",140);Ke(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const Ss={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},vc={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function As(e,n){return e&&{value:n(e.value),rest:e.rest}}function Vi(e,n){const t=n.match(e);return t?{value:parseInt(t[0],10),rest:n.slice(t[0].length)}:null}function wc(e,n){const t=n.match(e);if(!t)return null;if(t[0]==="Z")return{value:0,rest:n.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,a=t[5]?parseInt(t[5],10):0;return{value:r*(i*Ev+s*Cv+a*yW),rest:n.slice(t[0].length)}}function NO(e){return Vi(Ss.anyDigitsSigned,e)}function ds(e,n){switch(e){case 1:return Vi(Ss.singleDigit,n);case 2:return Vi(Ss.twoDigits,n);case 3:return Vi(Ss.threeDigits,n);case 4:return Vi(Ss.fourDigits,n);default:return Vi(new RegExp("^\\d{1,"+e+"}"),n)}}function Hx(e,n){switch(e){case 1:return Vi(Ss.singleDigitSigned,n);case 2:return Vi(Ss.twoDigitsSigned,n);case 3:return Vi(Ss.threeDigitsSigned,n);case 4:return Vi(Ss.fourDigitsSigned,n);default:return Vi(new RegExp("^-?\\d{1,"+e+"}"),n)}}function nA(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function jO(e,n){const t=n>0,r=t?n:1-n;let i;if(r<=50)i=e||100;else{const s=r+50,a=Math.trunc(s/100)*100,l=e>=s%100;i=e+a-(l?100:0)}return t?i:1-i}function TO(e){return e%400===0||e%4===0&&e%100!==0}class kV extends kr{constructor(){super(...arguments);Ke(this,"priority",130);Ke(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const s=a=>({year:a,isTwoDigitYear:r==="yy"});switch(r){case"y":return As(ds(4,t),s);case"yo":return As(i.ordinalNumber(t,{unit:"year"}),s);default:return As(ds(r.length,t),s)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const s=t.getFullYear();if(i.isTwoDigitYear){const l=jO(i.year,s);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const a=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}class NV extends kr{constructor(){super(...arguments);Ke(this,"priority",130);Ke(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const s=a=>({year:a,isTwoDigitYear:r==="YY"});switch(r){case"Y":return As(ds(4,t),s);case"Yo":return As(i.ordinalNumber(t,{unit:"year"}),s);default:return As(ds(r.length,t),s)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,s){const a=tA(t,s);if(i.isTwoDigitYear){const c=jO(i.year,a);return t.setFullYear(c,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Id(t,s)}const l=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(l,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Id(t,s)}}class jV extends kr{constructor(){super(...arguments);Ke(this,"priority",130);Ke(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return Hx(r==="R"?4:r.length,t)}set(t,r,i){const s=Hr(t,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),V0(s)}}class TV extends kr{constructor(){super(...arguments);Ke(this,"priority",130);Ke(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return Hx(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class OV extends kr{constructor(){super(...arguments);Ke(this,"priority",120);Ke(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return ds(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class IV extends kr{constructor(){super(...arguments);Ke(this,"priority",120);Ke(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return ds(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class DV extends kr{constructor(){super(...arguments);Ke(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ke(this,"priority",110)}parse(t,r,i){const s=a=>a-1;switch(r){case"M":return As(Vi(Ss.month,t),s);case"MM":return As(ds(2,t),s);case"Mo":return As(i.ordinalNumber(t,{unit:"month"}),s);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class LV extends kr{constructor(){super(...arguments);Ke(this,"priority",110);Ke(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const s=a=>a-1;switch(r){case"L":return As(Vi(Ss.month,t),s);case"LL":return As(ds(2,t),s);case"Lo":return As(i.ordinalNumber(t,{unit:"month"}),s);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function RV(e,n,t){const r=Mt(e),i=AO(r,t)-n;return r.setDate(r.getDate()-i*7),r}class MV extends kr{constructor(){super(...arguments);Ke(this,"priority",100);Ke(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return Vi(Ss.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return ds(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,s){return Id(RV(t,i,s),s)}}function PV(e,n){const t=Mt(e),r=eA(t)-n;return t.setDate(t.getDate()-r*7),t}class FV extends kr{constructor(){super(...arguments);Ke(this,"priority",100);Ke(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return Vi(Ss.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return ds(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return V0(PV(t,i))}}const qV=[31,28,31,30,31,30,31,31,30,31,30,31],zV=[31,29,31,30,31,30,31,31,30,31,30,31];class BV extends kr{constructor(){super(...arguments);Ke(this,"priority",90);Ke(this,"subPriority",1);Ke(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return Vi(Ss.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return ds(r.length,t)}}validate(t,r){const i=t.getFullYear(),s=TO(i),a=t.getMonth();return s?r>=1&&r<=zV[a]:r>=1&&r<=qV[a]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class UV extends kr{constructor(){super(...arguments);Ke(this,"priority",90);Ke(this,"subpriority",1);Ke(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return Vi(Ss.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return ds(r.length,t)}}validate(t,r){const i=t.getFullYear();return TO(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function rA(e,n,t){var g,b,m,x;const r=gp(),i=(t==null?void 0:t.weekStartsOn)??((b=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)??r.weekStartsOn??((x=(m=r.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??0,s=Mt(e),a=s.getDay(),c=(n%7+7)%7,d=7-i,h=n<0||n>6?n-(a+d)%7:(c+d)%7-(a+d)%7;return Su(s,h)}class $V extends kr{constructor(){super(...arguments);Ke(this,"priority",90);Ke(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=rA(t,i,s),t.setHours(0,0,0,0),t}}class HV extends kr{constructor(){super(...arguments);Ke(this,"priority",90);Ke(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,s){const a=l=>{const c=Math.floor((l-1)/7)*7;return(l+s.weekStartsOn+6)%7+c};switch(r){case"e":case"ee":return As(ds(r.length,t),a);case"eo":return As(i.ordinalNumber(t,{unit:"day"}),a);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=rA(t,i,s),t.setHours(0,0,0,0),t}}class WV extends kr{constructor(){super(...arguments);Ke(this,"priority",90);Ke(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,s){const a=l=>{const c=Math.floor((l-1)/7)*7;return(l+s.weekStartsOn+6)%7+c};switch(r){case"c":case"cc":return As(ds(r.length,t),a);case"co":return As(i.ordinalNumber(t,{unit:"day"}),a);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=rA(t,i,s),t.setHours(0,0,0,0),t}}function VV(e,n){const t=Mt(e),r=vV(t),i=n-r;return Su(t,i)}class YV extends kr{constructor(){super(...arguments);Ke(this,"priority",90);Ke(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const s=a=>a===0?7:a;switch(r){case"i":case"ii":return ds(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return As(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s);case"iiiii":return As(i.day(t,{width:"narrow",context:"formatting"}),s);case"iiiiii":return As(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s);case"iiii":default:return As(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=VV(t,i),t.setHours(0,0,0,0),t}}class GV extends kr{constructor(){super(...arguments);Ke(this,"priority",80);Ke(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(nA(i),0,0,0),t}}class QV extends kr{constructor(){super(...arguments);Ke(this,"priority",80);Ke(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(nA(i),0,0,0),t}}class KV extends kr{constructor(){super(...arguments);Ke(this,"priority",80);Ke(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(nA(i),0,0,0),t}}class XV extends kr{constructor(){super(...arguments);Ke(this,"priority",70);Ke(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return Vi(Ss.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return ds(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const s=t.getHours()>=12;return s&&i<12?t.setHours(i+12,0,0,0):!s&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class ZV extends kr{constructor(){super(...arguments);Ke(this,"priority",70);Ke(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return Vi(Ss.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return ds(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class JV extends kr{constructor(){super(...arguments);Ke(this,"priority",70);Ke(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return Vi(Ss.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return ds(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class eY extends kr{constructor(){super(...arguments);Ke(this,"priority",70);Ke(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return Vi(Ss.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return ds(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const s=i<=24?i%24:i;return t.setHours(s,0,0,0),t}}class tY extends kr{constructor(){super(...arguments);Ke(this,"priority",60);Ke(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return Vi(Ss.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return ds(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class nY extends kr{constructor(){super(...arguments);Ke(this,"priority",50);Ke(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return Vi(Ss.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return ds(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class rY extends kr{constructor(){super(...arguments);Ke(this,"priority",30);Ke(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return As(ds(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class iY extends kr{constructor(){super(...arguments);Ke(this,"priority",10);Ke(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return wc(vc.basicOptionalMinutes,t);case"XX":return wc(vc.basic,t);case"XXXX":return wc(vc.basicOptionalSeconds,t);case"XXXXX":return wc(vc.extendedOptionalSeconds,t);case"XXX":default:return wc(vc.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Hr(t,t.getTime()-Px(t)-i)}}class sY extends kr{constructor(){super(...arguments);Ke(this,"priority",10);Ke(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return wc(vc.basicOptionalMinutes,t);case"xx":return wc(vc.basic,t);case"xxxx":return wc(vc.basicOptionalSeconds,t);case"xxxxx":return wc(vc.extendedOptionalSeconds,t);case"xxx":default:return wc(vc.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Hr(t,t.getTime()-Px(t)-i)}}class aY extends kr{constructor(){super(...arguments);Ke(this,"priority",40);Ke(this,"incompatibleTokens","*")}parse(t){return NO(t)}set(t,r,i){return[Hr(t,i*1e3),{timestampIsSet:!0}]}}class oY extends kr{constructor(){super(...arguments);Ke(this,"priority",20);Ke(this,"incompatibleTokens","*")}parse(t){return NO(t)}set(t,r,i){return[Hr(t,i),{timestampIsSet:!0}]}}const lY={G:new _V,y:new kV,Y:new NV,R:new jV,u:new TV,Q:new OV,q:new IV,M:new DV,L:new LV,w:new MV,I:new FV,d:new BV,D:new UV,E:new $V,e:new HV,c:new WV,i:new YV,a:new GV,b:new QV,B:new KV,h:new XV,H:new ZV,K:new JV,k:new eY,m:new tY,s:new nY,S:new rY,X:new iY,x:new sY,t:new aY,T:new oY},uY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dY=/^'([^]*?)'?$/,fY=/''/g,hY=/\S/,pY=/[a-zA-Z]/;function X5(e,n,t,r){var y,A,w,C,k,R,q,D;const i=xV(),s=(r==null?void 0:r.locale)??i.locale??SO,a=(r==null?void 0:r.firstWeekContainsDate)??((A=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:A.firstWeekContainsDate)??i.firstWeekContainsDate??((C=(w=i.locale)==null?void 0:w.options)==null?void 0:C.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((R=(k=r==null?void 0:r.locale)==null?void 0:k.options)==null?void 0:R.weekStartsOn)??i.weekStartsOn??((D=(q=i.locale)==null?void 0:q.options)==null?void 0:D.weekStartsOn)??0;if(n==="")return e===""?Mt(t):Hr(t,NaN);const c={firstWeekContainsDate:a,weekStartsOn:l,locale:s},d=[new EV],h=n.match(cY).map(N=>{const P=N[0];if(P in $x){const z=$x[P];return z(N,s.formatLong)}return N}).join("").match(uY),g=[];for(let N of h){!(r!=null&&r.useAdditionalWeekYearTokens)&&_O(N)&&ES(N,n,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&EO(N)&&ES(N,n,e);const P=N[0],z=lY[P];if(z){const{incompatibleTokens:X}=z;if(Array.isArray(X)){const O=g.find(M=>X.includes(M.token)||M.token===P);if(O)throw new RangeError(`The format string mustn't contain \`${O.fullToken}\` and \`${N}\` at the same time`)}else if(z.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${N}\` and any other token at the same time`);g.push({token:P,fullToken:N});const j=z.run(e,N,s.match,c);if(!j)return Hr(t,NaN);d.push(j.setter),e=j.rest}else{if(P.match(pY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");if(N==="''"?N="'":P==="'"&&(N=mY(N)),e.indexOf(N)===0)e=e.slice(N.length);else return Hr(t,NaN)}}if(e.length>0&&hY.test(e))return Hr(t,NaN);const b=d.map(N=>N.priority).sort((N,P)=>P-N).filter((N,P,z)=>z.indexOf(N)===P).map(N=>d.filter(P=>P.priority===N).sort((P,z)=>z.subPriority-P.subPriority)).map(N=>N[0]);let m=Mt(t);if(isNaN(m.getTime()))return Hr(t,NaN);const x={};for(const N of b){if(!N.validate(m,c))return Hr(t,NaN);const P=N.set(m,x,c);Array.isArray(P)?(m=P[0],Object.assign(x,P[1])):m=P}return Hr(t,m)}function mY(e){return e.match(dY)[1].replace(fY,"'")}function gY(e,n){const t=Mt(e),r=Mt(n);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function bY(e,n){const t=CS(e),r=CS(n);return+t==+r}function yY(e,n){const t=Mt(e),r=Mt(n);return t.getFullYear()===r.getFullYear()}function _g(e,n){const t=+Mt(e),[r,i]=[+Mt(n.start),+Mt(n.end)].sort((s,a)=>s-a);return t>=r&&t<=i}function xY(e,n){return Su(e,-1)}function vY(e,n){const r=CY(e);let i;if(r.date){const c=EY(r.date,2);i=_Y(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,l;if(r.time&&(a=kY(r.time),isNaN(a)))return new Date(NaN);if(r.timezone){if(l=NY(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(s+a),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(s+a+l)}const Iy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},wY=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,SY=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,AY=/^([+-])(\d{2})(?::?(\d{2}))?$/;function CY(e){const n={},t=e.split(Iy.dateTimeDelimiter);let r;if(t.length>2)return n;if(/:/.test(t[0])?r=t[0]:(n.date=t[0],r=t[1],Iy.timeZoneDelimiter.test(n.date)&&(n.date=e.split(Iy.timeZoneDelimiter)[0],r=e.substr(n.date.length,e.length))),r){const i=Iy.timezone.exec(r);i?(n.time=r.replace(i[1],""),n.timezone=i[1]):n.time=r}return n}function EY(e,n){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),r=e.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:e.slice((r[1]||r[2]).length)}}function _Y(e,n){if(n===null)return new Date(NaN);const t=e.match(wY);if(!t)return new Date(NaN);const r=!!t[4],i=x1(t[1]),s=x1(t[2])-1,a=x1(t[3]),l=x1(t[4]),c=x1(t[5])-1;if(r)return DY(n,l,c)?jY(n,l,c):new Date(NaN);{const d=new Date(0);return!OY(n,s,a)||!IY(n,i)?new Date(NaN):(d.setUTCFullYear(n,s,Math.max(i,a)),d)}}function x1(e){return e?parseInt(e):1}function kY(e){const n=e.match(SY);if(!n)return NaN;const t=Z5(n[1]),r=Z5(n[2]),i=Z5(n[3]);return LY(t,r,i)?t*Ev+r*Cv+i*1e3:NaN}function Z5(e){return e&&parseFloat(e.replace(",","."))||0}function NY(e){if(e==="Z")return 0;const n=e.match(AY);if(!n)return 0;const t=n[1]==="+"?-1:1,r=parseInt(n[2]),i=n[3]&&parseInt(n[3])||0;return RY(r,i)?t*(r*Ev+i*Cv):NaN}function jY(e,n,t){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,s=(n-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const TY=[31,null,31,30,31,30,31,31,30,31,30,31];function OO(e){return e%400===0||e%4===0&&e%100!==0}function OY(e,n,t){return n>=0&&n<=11&&t>=1&&t<=(TY[n]||(OO(e)?29:28))}function IY(e,n){return n>=1&&n<=(OO(e)?366:365)}function DY(e,n,t){return n>=1&&n<=53&&t>=0&&t<=6}function LY(e,n,t){return e===24?n===0&&t===0:t>=0&&t<60&&n>=0&&n<60&&e>=0&&e<25}function RY(e,n){return n>=0&&n<=59}function Xo(e,n){const t=Mt(e),r=t.getFullYear(),i=t.getDate(),s=Hr(e,0);s.setFullYear(r,n,15),s.setHours(0,0,0,0);const a=yV(s);return t.setMonth(n,Math.min(i,a)),t}function MY(e,n){let t=Mt(e);return isNaN(+t)?Hr(e,NaN):(n.year!=null&&t.setFullYear(n.year),n.month!=null&&(t=Xo(t,n.month)),n.date!=null&&t.setDate(n.date),n.hours!=null&&t.setHours(n.hours),n.minutes!=null&&t.setMinutes(n.minutes),n.seconds!=null&&t.setSeconds(n.seconds),n.milliseconds!=null&&t.setMilliseconds(n.milliseconds),t)}function ix(e,n){const t=Mt(e);return t.setHours(n),t}function sx(e,n){const t=Mt(e);return t.setMinutes(n),t}function w0(e,n){const t=Mt(e),r=Math.trunc(t.getMonth()/3)+1,i=n-r;return Xo(t,t.getMonth()+i*3)}function ax(e,n){const t=Mt(e);return t.setSeconds(n),t}function mc(e,n){const t=Mt(e);return isNaN(+t)?Hr(e,NaN):(t.setFullYear(n),t)}function Vh(e,n){return Cu(e,-n)}function IO(e,n){return J6(e,-1)}function h4(e,n){return Fx(e,-1)}function G0(e,n){return Cd(e,-n)}function kv(){return typeof window<"u"}function im(e){return DO(e)?(e.nodeName||"").toLowerCase():"#document"}function sl(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function Hc(e){var n;return(n=(DO(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function DO(e){return kv()?e instanceof Node||e instanceof sl(e).Node:!1}function co(e){return kv()?e instanceof Element||e instanceof sl(e).Element:!1}function Bc(e){return kv()?e instanceof HTMLElement||e instanceof sl(e).HTMLElement:!1}function p4(e){return!kv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof sl(e).ShadowRoot}const PY=new Set(["inline","contents"]);function tb(e){const{overflow:n,overflowX:t,overflowY:r,display:i}=ql(e);return/auto|scroll|overlay|hidden|clip/.test(n+r+t)&&!PY.has(i)}const FY=new Set(["table","td","th"]);function qY(e){return FY.has(im(e))}const zY=[":popover-open",":modal"];function Nv(e){return zY.some(n=>{try{return e.matches(n)}catch{return!1}})}const BY=["transform","translate","scale","rotate","perspective"],UY=["transform","translate","scale","rotate","perspective","filter"],$Y=["paint","layout","strict","content"];function iA(e){const n=sA(),t=co(e)?ql(e):e;return BY.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||UY.some(r=>(t.willChange||"").includes(r))||$Y.some(r=>(t.contain||"").includes(r))}function HY(e){let n=Vf(e);for(;Bc(n)&&!Q0(n);){if(iA(n))return n;if(Nv(n))return null;n=Vf(n)}return null}function sA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const WY=new Set(["html","body","#document"]);function Q0(e){return WY.has(im(e))}function ql(e){return sl(e).getComputedStyle(e)}function jv(e){return co(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Vf(e){if(im(e)==="html")return e;const n=e.assignedSlot||e.parentNode||p4(e)&&e.host||Hc(e);return p4(n)?n.host:n}function LO(e){const n=Vf(e);return Q0(n)?e.ownerDocument?e.ownerDocument.body:e.body:Bc(n)&&tb(n)?n:LO(n)}function kg(e,n,t){var r;n===void 0&&(n=[]),t===void 0&&(t=!0);const i=LO(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),a=sl(i);if(s){const l=kS(a);return n.concat(a,a.visualViewport||[],tb(i)?i:[],l&&t?kg(l):[])}return n.concat(i,kg(i,[],t))}function kS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const K0=Math.min,Yh=Math.max,Wx=Math.round,Dy=Math.floor,Oc=e=>({x:e,y:e}),VY={left:"right",right:"left",bottom:"top",top:"bottom"},YY={start:"end",end:"start"};function GY(e,n,t){return Yh(e,K0(n,t))}function Tv(e,n){return typeof e=="function"?e(n):e}function X0(e){return e.split("-")[0]}function nb(e){return e.split("-")[1]}function QY(e){return e==="x"?"y":"x"}function aA(e){return e==="y"?"height":"width"}const KY=new Set(["top","bottom"]);function zh(e){return KY.has(X0(e))?"y":"x"}function oA(e){return QY(zh(e))}function XY(e,n,t){t===void 0&&(t=!1);const r=nb(e),i=oA(e),s=aA(i);let a=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return n.reference[s]>n.floating[s]&&(a=Vx(a)),[a,Vx(a)]}function ZY(e){const n=Vx(e);return[NS(e),n,NS(n)]}function NS(e){return e.replace(/start|end/g,n=>YY[n])}const m4=["left","right"],g4=["right","left"],JY=["top","bottom"],eG=["bottom","top"];function tG(e,n,t){switch(e){case"top":case"bottom":return t?n?g4:m4:n?m4:g4;case"left":case"right":return n?JY:eG;default:return[]}}function nG(e,n,t,r){const i=nb(e);let s=tG(X0(e),t==="start",r);return i&&(s=s.map(a=>a+"-"+i),n&&(s=s.concat(s.map(NS)))),s}function Vx(e){return e.replace(/left|right|bottom|top/g,n=>VY[n])}function rG(e){return{top:0,right:0,bottom:0,left:0,...e}}function RO(e){return typeof e!="number"?rG(e):{top:e,right:e,bottom:e,left:e}}function Yx(e){const{x:n,y:t,width:r,height:i}=e;return{width:r,height:i,top:t,left:n,right:n+r,bottom:t+i,x:n,y:t}}var iG=typeof document<"u",sG=function(){},Gx=iG?K.useLayoutEffect:sG;const aG={...C6},oG=aG.useInsertionEffect,lG=oG||(e=>e());function uG(e){const n=K.useRef(()=>{});return lG(()=>{n.current=e}),K.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.current==null?void 0:n.current(...r)},[])}function b4(e,n,t){let{reference:r,floating:i}=e;const s=zh(n),a=oA(n),l=aA(a),c=X0(n),d=s==="y",h=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,b=r[l]/2-i[l]/2;let m;switch(c){case"top":m={x:h,y:r.y-i.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:g};break;case"left":m={x:r.x-i.width,y:g};break;default:m={x:r.x,y:r.y}}switch(nb(n)){case"start":m[a]-=b*(t&&d?-1:1);break;case"end":m[a]+=b*(t&&d?-1:1);break}return m}const cG=async(e,n,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=t,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(n));let d=await a.getElementRects({reference:e,floating:n,strategy:i}),{x:h,y:g}=b4(d,r,c),b=r,m={},x=0;for(let y=0;y<l.length;y++){const{name:A,fn:w}=l[y],{x:C,y:k,data:R,reset:q}=await w({x:h,y:g,initialPlacement:r,placement:b,strategy:i,middlewareData:m,rects:d,platform:a,elements:{reference:e,floating:n}});h=C??h,g=k??g,m={...m,[A]:{...m[A],...R}},q&&x<=50&&(x++,typeof q=="object"&&(q.placement&&(b=q.placement),q.rects&&(d=q.rects===!0?await a.getElementRects({reference:e,floating:n,strategy:i}):q.rects),{x:h,y:g}=b4(d,b,c)),y=-1)}return{x:h,y:g,placement:b,strategy:i,middlewareData:m}};async function dG(e,n){var t;n===void 0&&(n={});const{x:r,y:i,platform:s,rects:a,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:b=!1,padding:m=0}=Tv(n,e),x=RO(m),A=l[b?g==="floating"?"reference":"floating":g],w=Yx(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(A)))==null||t?A:A.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),C=g==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),R=await(s.isElement==null?void 0:s.isElement(k))?await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},q=Yx(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:k,strategy:c}):C);return{top:(w.top-q.top+x.top)/R.y,bottom:(q.bottom-w.bottom+x.bottom)/R.y,left:(w.left-q.left+x.left)/R.x,right:(q.right-w.right+x.right)/R.x}}const fG=e=>({name:"arrow",options:e,async fn(n){const{x:t,y:r,placement:i,rects:s,platform:a,elements:l,middlewareData:c}=n,{element:d,padding:h=0}=Tv(e,n)||{};if(d==null)return{};const g=RO(h),b={x:t,y:r},m=oA(i),x=aA(m),y=await a.getDimensions(d),A=m==="y",w=A?"top":"left",C=A?"bottom":"right",k=A?"clientHeight":"clientWidth",R=s.reference[x]+s.reference[m]-b[m]-s.floating[x],q=b[m]-s.reference[m],D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let N=D?D[k]:0;(!N||!await(a.isElement==null?void 0:a.isElement(D)))&&(N=l.floating[k]||s.floating[x]);const P=R/2-q/2,z=N/2-y[x]/2-1,X=K0(g[w],z),j=K0(g[C],z),O=X,M=N-y[x]-j,T=N/2-y[x]/2+P,Q=GY(O,T,M),H=!c.arrow&&nb(i)!=null&&T!==Q&&s.reference[x]/2-(T<O?X:j)-y[x]/2<0,Y=H?T<O?T-O:T-M:0;return{[m]:b[m]+Y,data:{[m]:Q,centerOffset:T-Q-Y,...H&&{alignmentOffset:Y}},reset:H}}}),hG=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var t,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:d}=n,{mainAxis:h=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...A}=Tv(e,n);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const w=X0(i),C=zh(l),k=X0(l)===l,R=await(c.isRTL==null?void 0:c.isRTL(d.floating)),q=b||(k||!y?[Vx(l)]:ZY(l)),D=x!=="none";!b&&D&&q.push(...nG(l,y,x,R));const N=[l,...q],P=await dG(n,A),z=[];let X=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&z.push(P[w]),g){const T=XY(i,a,R);z.push(P[T[0]],P[T[1]])}if(X=[...X,{placement:i,overflows:z}],!z.every(T=>T<=0)){var j,O;const T=(((j=s.flip)==null?void 0:j.index)||0)+1,Q=N[T];if(Q&&(!(g==="alignment"?C!==zh(Q):!1)||X.every(Z=>Z.overflows[0]>0&&zh(Z.placement)===C)))return{data:{index:T,overflows:X},reset:{placement:Q}};let H=(O=X.filter(Y=>Y.overflows[0]<=0).sort((Y,Z)=>Y.overflows[1]-Z.overflows[1])[0])==null?void 0:O.placement;if(!H)switch(m){case"bestFit":{var M;const Y=(M=X.filter(Z=>{if(D){const ae=zh(Z.placement);return ae===C||ae==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(ae=>ae>0).reduce((ae,G)=>ae+G,0)]).sort((Z,ae)=>Z[1]-ae[1])[0])==null?void 0:M[0];Y&&(H=Y);break}case"initialPlacement":H=l;break}if(i!==H)return{reset:{placement:H}}}return{}}}},pG=new Set(["left","top"]);async function mG(e,n){const{placement:t,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=X0(t),l=nb(t),c=zh(t)==="y",d=pG.has(a)?-1:1,h=s&&c?-1:1,g=Tv(n,e);let{mainAxis:b,crossAxis:m,alignmentAxis:x}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),c?{x:m*h,y:b*d}:{x:b*d,y:m*h}}const gG=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var t,r;const{x:i,y:s,placement:a,middlewareData:l}=n,c=await mG(n,e);return a===((t=l.offset)==null?void 0:t.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}};function MO(e){const n=ql(e);let t=parseFloat(n.width)||0,r=parseFloat(n.height)||0;const i=Bc(e),s=i?e.offsetWidth:t,a=i?e.offsetHeight:r,l=Wx(t)!==s||Wx(r)!==a;return l&&(t=s,r=a),{width:t,height:r,$:l}}function lA(e){return co(e)?e:e.contextElement}function N0(e){const n=lA(e);if(!Bc(n))return Oc(1);const t=n.getBoundingClientRect(),{width:r,height:i,$:s}=MO(n);let a=(s?Wx(t.width):t.width)/r,l=(s?Wx(t.height):t.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const bG=Oc(0);function PO(e){const n=sl(e);return!sA()||!n.visualViewport?bG:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function yG(e,n,t){return n===void 0&&(n=!1),!t||n&&t!==sl(e)?!1:n}function sp(e,n,t,r){n===void 0&&(n=!1),t===void 0&&(t=!1);const i=e.getBoundingClientRect(),s=lA(e);let a=Oc(1);n&&(r?co(r)&&(a=N0(r)):a=N0(e));const l=yG(s,t,r)?PO(s):Oc(0);let c=(i.left+l.x)/a.x,d=(i.top+l.y)/a.y,h=i.width/a.x,g=i.height/a.y;if(s){const b=sl(s),m=r&&co(r)?sl(r):r;let x=b,y=kS(x);for(;y&&r&&m!==x;){const A=N0(y),w=y.getBoundingClientRect(),C=ql(y),k=w.left+(y.clientLeft+parseFloat(C.paddingLeft))*A.x,R=w.top+(y.clientTop+parseFloat(C.paddingTop))*A.y;c*=A.x,d*=A.y,h*=A.x,g*=A.y,c+=k,d+=R,x=sl(y),y=kS(x)}}return Yx({width:h,height:g,x:c,y:d})}function uA(e,n){const t=jv(e).scrollLeft;return n?n.left+t:sp(Hc(e)).left+t}function FO(e,n,t){t===void 0&&(t=!1);const r=e.getBoundingClientRect(),i=r.left+n.scrollLeft-(t?0:uA(e,r)),s=r.top+n.scrollTop;return{x:i,y:s}}function xG(e){let{elements:n,rect:t,offsetParent:r,strategy:i}=e;const s=i==="fixed",a=Hc(r),l=n?Nv(n.floating):!1;if(r===a||l&&s)return t;let c={scrollLeft:0,scrollTop:0},d=Oc(1);const h=Oc(0),g=Bc(r);if((g||!g&&!s)&&((im(r)!=="body"||tb(a))&&(c=jv(r)),Bc(r))){const m=sp(r);d=N0(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}const b=a&&!g&&!s?FO(a,c,!0):Oc(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-c.scrollLeft*d.x+h.x+b.x,y:t.y*d.y-c.scrollTop*d.y+h.y+b.y}}function vG(e){return Array.from(e.getClientRects())}function wG(e){const n=Hc(e),t=jv(e),r=e.ownerDocument.body,i=Yh(n.scrollWidth,n.clientWidth,r.scrollWidth,r.clientWidth),s=Yh(n.scrollHeight,n.clientHeight,r.scrollHeight,r.clientHeight);let a=-t.scrollLeft+uA(e);const l=-t.scrollTop;return ql(r).direction==="rtl"&&(a+=Yh(n.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:l}}function SG(e,n){const t=sl(e),r=Hc(e),i=t.visualViewport;let s=r.clientWidth,a=r.clientHeight,l=0,c=0;if(i){s=i.width,a=i.height;const d=sA();(!d||d&&n==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:l,y:c}}const AG=new Set(["absolute","fixed"]);function CG(e,n){const t=sp(e,!0,n==="fixed"),r=t.top+e.clientTop,i=t.left+e.clientLeft,s=Bc(e)?N0(e):Oc(1),a=e.clientWidth*s.x,l=e.clientHeight*s.y,c=i*s.x,d=r*s.y;return{width:a,height:l,x:c,y:d}}function y4(e,n,t){let r;if(n==="viewport")r=SG(e,t);else if(n==="document")r=wG(Hc(e));else if(co(n))r=CG(n,t);else{const i=PO(e);r={x:n.x-i.x,y:n.y-i.y,width:n.width,height:n.height}}return Yx(r)}function qO(e,n){const t=Vf(e);return t===n||!co(t)||Q0(t)?!1:ql(t).position==="fixed"||qO(t,n)}function EG(e,n){const t=n.get(e);if(t)return t;let r=kg(e,[],!1).filter(l=>co(l)&&im(l)!=="body"),i=null;const s=ql(e).position==="fixed";let a=s?Vf(e):e;for(;co(a)&&!Q0(a);){const l=ql(a),c=iA(a);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&AG.has(i.position)||tb(a)&&!c&&qO(e,a))?r=r.filter(h=>h!==a):i=l,a=Vf(a)}return n.set(e,r),r}function _G(e){let{element:n,boundary:t,rootBoundary:r,strategy:i}=e;const a=[...t==="clippingAncestors"?Nv(n)?[]:EG(n,this._c):[].concat(t),r],l=a[0],c=a.reduce((d,h)=>{const g=y4(n,h,i);return d.top=Yh(g.top,d.top),d.right=K0(g.right,d.right),d.bottom=K0(g.bottom,d.bottom),d.left=Yh(g.left,d.left),d},y4(n,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function kG(e){const{width:n,height:t}=MO(e);return{width:n,height:t}}function NG(e,n,t){const r=Bc(n),i=Hc(n),s=t==="fixed",a=sp(e,!0,s,n);let l={scrollLeft:0,scrollTop:0};const c=Oc(0);function d(){c.x=uA(i)}if(r||!r&&!s)if((im(n)!=="body"||tb(i))&&(l=jv(n)),r){const m=sp(n,!0,s,n);c.x=m.x+n.clientLeft,c.y=m.y+n.clientTop}else i&&d();s&&!r&&i&&d();const h=i&&!r&&!s?FO(i,l):Oc(0),g=a.left+l.scrollLeft-c.x-h.x,b=a.top+l.scrollTop-c.y-h.y;return{x:g,y:b,width:a.width,height:a.height}}function J5(e){return ql(e).position==="static"}function x4(e,n){if(!Bc(e)||ql(e).position==="fixed")return null;if(n)return n(e);let t=e.offsetParent;return Hc(e)===t&&(t=t.ownerDocument.body),t}function zO(e,n){const t=sl(e);if(Nv(e))return t;if(!Bc(e)){let i=Vf(e);for(;i&&!Q0(i);){if(co(i)&&!J5(i))return i;i=Vf(i)}return t}let r=x4(e,n);for(;r&&qY(r)&&J5(r);)r=x4(r,n);return r&&Q0(r)&&J5(r)&&!iA(r)?t:r||HY(e)||t}const jG=async function(e){const n=this.getOffsetParent||zO,t=this.getDimensions,r=await t(e.floating);return{reference:NG(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function TG(e){return ql(e).direction==="rtl"}const OG={convertOffsetParentRelativeRectToViewportRelativeRect:xG,getDocumentElement:Hc,getClippingRect:_G,getOffsetParent:zO,getElementRects:jG,getClientRects:vG,getDimensions:kG,getScale:N0,isElement:co,isRTL:TG};function BO(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function IG(e,n){let t=null,r;const i=Hc(e);function s(){var l;clearTimeout(r),(l=t)==null||l.disconnect(),t=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=e.getBoundingClientRect(),{left:h,top:g,width:b,height:m}=d;if(l||n(),!b||!m)return;const x=Dy(g),y=Dy(i.clientWidth-(h+b)),A=Dy(i.clientHeight-(g+m)),w=Dy(h),k={rootMargin:-x+"px "+-y+"px "+-A+"px "+-w+"px",threshold:Yh(0,K0(1,c))||1};let R=!0;function q(D){const N=D[0].intersectionRatio;if(N!==c){if(!R)return a();N?a(!1,N):r=setTimeout(()=>{a(!1,1e-7)},1e3)}N===1&&!BO(d,e.getBoundingClientRect())&&a(),R=!1}try{t=new IntersectionObserver(q,{...k,root:i.ownerDocument})}catch{t=new IntersectionObserver(q,k)}t.observe(e)}return a(!0),s}function DG(e,n,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=lA(e),h=i||s?[...d?kg(d):[],...kg(n)]:[];h.forEach(w=>{i&&w.addEventListener("scroll",t,{passive:!0}),s&&w.addEventListener("resize",t)});const g=d&&l?IG(d,t):null;let b=-1,m=null;a&&(m=new ResizeObserver(w=>{let[C]=w;C&&C.target===d&&m&&(m.unobserve(n),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var k;(k=m)==null||k.observe(n)})),t()}),d&&!c&&m.observe(d),m.observe(n));let x,y=c?sp(e):null;c&&A();function A(){const w=sp(e);y&&!BO(y,w)&&t(),y=w,x=requestAnimationFrame(A)}return t(),()=>{var w;h.forEach(C=>{i&&C.removeEventListener("scroll",t),s&&C.removeEventListener("resize",t)}),g==null||g(),(w=m)==null||w.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const LG=gG,RG=hG,v4=fG,MG=(e,n,t)=>{const r=new Map,i={platform:OG,...t},s={...i.platform,_c:r};return cG(e,n,{...i,platform:s})};var PG=typeof document<"u",FG=function(){},ox=PG?K.useLayoutEffect:FG;function Qx(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let t,r,i;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==n.length)return!1;for(r=t;r--!==0;)if(!Qx(e[r],n[r]))return!1;return!0}if(i=Object.keys(e),t=i.length,t!==Object.keys(n).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(n,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!Qx(e[s],n[s]))return!1}return!0}return e!==e&&n!==n}function UO(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function w4(e,n){const t=UO(e);return Math.round(n*t)/t}function ew(e){const n=K.useRef(e);return ox(()=>{n.current=e}),n}function qG(e){e===void 0&&(e={});const{placement:n="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[h,g]=K.useState({x:0,y:0,strategy:t,placement:n,middlewareData:{},isPositioned:!1}),[b,m]=K.useState(r);Qx(b,r)||m(r);const[x,y]=K.useState(null),[A,w]=K.useState(null),C=K.useCallback(Z=>{Z!==D.current&&(D.current=Z,y(Z))},[]),k=K.useCallback(Z=>{Z!==N.current&&(N.current=Z,w(Z))},[]),R=s||x,q=a||A,D=K.useRef(null),N=K.useRef(null),P=K.useRef(h),z=c!=null,X=ew(c),j=ew(i),O=ew(d),M=K.useCallback(()=>{if(!D.current||!N.current)return;const Z={placement:n,strategy:t,middleware:b};j.current&&(Z.platform=j.current),MG(D.current,N.current,Z).then(ae=>{const G={...ae,isPositioned:O.current!==!1};T.current&&!Qx(P.current,G)&&(P.current=G,gR.flushSync(()=>{g(G)}))})},[b,n,t,j,O]);ox(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,g(Z=>({...Z,isPositioned:!1})))},[d]);const T=K.useRef(!1);ox(()=>(T.current=!0,()=>{T.current=!1}),[]),ox(()=>{if(R&&(D.current=R),q&&(N.current=q),R&&q){if(X.current)return X.current(R,q,M);M()}},[R,q,M,X,z]);const Q=K.useMemo(()=>({reference:D,floating:N,setReference:C,setFloating:k}),[C,k]),H=K.useMemo(()=>({reference:R,floating:q}),[R,q]),Y=K.useMemo(()=>{const Z={position:t,left:0,top:0};if(!H.floating)return Z;const ae=w4(H.floating,h.x),G=w4(H.floating,h.y);return l?{...Z,transform:"translate("+ae+"px, "+G+"px)",...UO(H.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ae,top:G}},[t,l,H.floating,h.x,h.y]);return K.useMemo(()=>({...h,update:M,refs:Q,elements:H,floatingStyles:Y}),[h,M,Q,H,Y])}const zG=e=>{function n(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:r,padding:i}=typeof e=="function"?e(t):e;return r&&n(r)?r.current!=null?v4({element:r.current,padding:i}).fn(t):{}:r?v4({element:r,padding:i}).fn(t):{}}}},BG=(e,n)=>({...LG(e),options:[e,n]}),UG=(e,n)=>({...RG(e),options:[e,n]}),$G=(e,n)=>({...zG(e),options:[e,n]}),HG={...C6};let S4=!1,WG=0;const A4=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+WG++;function VG(){const[e,n]=K.useState(()=>S4?A4():void 0);return Gx(()=>{e==null&&n(A4())},[]),K.useEffect(()=>{S4=!0},[]),e}const YG=HG.useId,$O=YG||VG,GG=K.forwardRef(function(n,t){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:a}},width:l=14,height:c=7,tipRadius:d=0,strokeWidth:h=0,staticOffset:g,stroke:b,d:m,style:{transform:x,...y}={},...A}=n,w=$O(),[C,k]=K.useState(!1);if(Gx(()=>{if(!i)return;ql(i).direction==="rtl"&&k(!0)},[i]),!i)return null;const[R,q]=r.split("-"),D=R==="top"||R==="bottom";let N=g;(D&&a!=null&&a.x||!D&&a!=null&&a.y)&&(N=null);const P=h*2,z=P/2,X=l/2*(d/-8+1),j=c/2*d/4,O=!!m,M=N&&q==="end"?"bottom":"top";let T=N&&q==="end"?"right":"left";N&&C&&(T=q==="end"?"left":"right");const Q=(s==null?void 0:s.x)!=null?N||s.x:"",H=(s==null?void 0:s.y)!=null?N||s.y:"",Y=m||"M0,0"+(" H"+l)+(" L"+(l-X)+","+(c-j))+(" Q"+l/2+","+c+" "+X+","+(c-j))+" Z",Z={top:O?"rotate(180deg)":"",left:O?"rotate(90deg)":"rotate(-90deg)",bottom:O?"":"rotate(180deg)",right:O?"rotate(-90deg)":"rotate(90deg)"}[R];return f.jsxs("svg",{...A,"aria-hidden":!0,ref:t,width:O?l:l+P,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[T]:Q,[M]:H,[R]:D||O?"100%":"calc(100% - "+P/2+"px)",transform:[Z,x].filter(ae=>!!ae).join(" "),...y},children:[P>0&&f.jsx("path",{clipPath:"url(#"+w+")",fill:"none",stroke:b,strokeWidth:P+(m?0:1),d:Y}),f.jsx("path",{stroke:P&&!m?A.fill:"none",d:Y}),f.jsx("clipPath",{id:w,children:f.jsx("rect",{x:-z,y:z*(O?-1:1),width:l+P,height:l})})]})});function QG(){const e=new Map;return{emit(n,t){var r;(r=e.get(n))==null||r.forEach(i=>i(t))},on(n,t){e.has(n)||e.set(n,new Set),e.get(n).add(t)},off(n,t){var r;(r=e.get(n))==null||r.delete(t)}}}const KG=K.createContext(null),XG=K.createContext(null),ZG=()=>{var e;return((e=K.useContext(KG))==null?void 0:e.id)||null},JG=()=>K.useContext(XG);function eQ(e){const{open:n=!1,onOpenChange:t,elements:r}=e,i=$O(),s=K.useRef({}),[a]=K.useState(()=>QG()),l=ZG()!=null,[c,d]=K.useState(r.reference),h=uG((m,x,y)=>{s.current.openEvent=m?x:void 0,a.emit("openchange",{open:m,event:x,reason:y,nested:l}),t==null||t(m,x,y)}),g=K.useMemo(()=>({setPositionReference:d}),[]),b=K.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return K.useMemo(()=>({dataRef:s,open:n,onOpenChange:h,elements:b,events:a,floatingId:i,refs:g}),[n,h,b,a,i,g])}function tQ(e){e===void 0&&(e={});const{nodeId:n}=e,t=eQ({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||t,i=r.elements,[s,a]=K.useState(null),[l,c]=K.useState(null),h=(i==null?void 0:i.domReference)||s,g=K.useRef(null),b=JG();Gx(()=>{h&&(g.current=h)},[h]);const m=qG({...e,elements:{...i,...l&&{reference:l}}}),x=K.useCallback(k=>{const R=co(k)?{getBoundingClientRect:()=>k.getBoundingClientRect(),getClientRects:()=>k.getClientRects(),contextElement:k}:k;c(R),m.refs.setReference(R)},[m.refs]),y=K.useCallback(k=>{(co(k)||k===null)&&(g.current=k,a(k)),(co(m.refs.reference.current)||m.refs.reference.current===null||k!==null&&!co(k))&&m.refs.setReference(k)},[m.refs]),A=K.useMemo(()=>({...m.refs,setReference:y,setPositionReference:x,domReference:g}),[m.refs,y,x]),w=K.useMemo(()=>({...m.elements,domReference:h}),[m.elements,h]),C=K.useMemo(()=>({...m,...r,refs:A,elements:w,nodeId:n}),[m,A,w,n,r]);return Gx(()=>{r.dataRef.current.floatingContext=C;const k=b==null?void 0:b.nodesRef.current.find(R=>R.id===n);k&&(k.context=C)}),K.useMemo(()=>({...m,context:C,refs:A,elements:w}),[m,A,w,C])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var jS=function(n,t){return jS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},jS(n,t)};function ia(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");jS(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var pr=function(){return pr=Object.assign||function(t){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},pr.apply(this,arguments)};function Ec(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,s;r<i;r++)(s||!(r in n))&&(s||(s=Array.prototype.slice.call(n,0,r)),s[r]=n[r]);return e.concat(s||Array.prototype.slice.call(n))}var nQ=function(e){var n=e.showTimeSelectOnly,t=n===void 0?!1:n,r=e.showTime,i=r===void 0?!1:r,s=e.className,a=e.children,l=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return tt.createElement("div",{className:s,role:"dialog","aria-label":l,"aria-modal":"true"},a)},rQ=function(e,n){var t=K.useRef(null),r=K.useRef(e);r.current=e;var i=K.useCallback(function(s){var a;t.current&&!t.current.contains(s.target)&&(n&&s.target instanceof HTMLElement&&s.target.classList.contains(n)||(a=r.current)===null||a===void 0||a.call(r,s))},[n]);return K.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},Ov=function(e){var n=e.children,t=e.onClickOutside,r=e.className,i=e.containerRef,s=e.style,a=e.ignoreClass,l=rQ(t,a);return tt.createElement("div",{className:r,style:s,ref:function(c){l.current=c,i&&(i.current=c)}},n)},Lt;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Lt||(Lt={}));function HO(){var e=typeof window<"u"?window:globalThis;return e}var rb=12,iQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Wr(e){if(e==null)return new Date;var n=typeof e=="string"?vY(e):Mt(e);return xd(n)?n:new Date}function tw(e,n,t,r,i){var s,a=null,l=Gh(t)||Gh(ig()),c=!0;if(Array.isArray(n))return n.forEach(function(h){var g=X5(e,h,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(c=xd(g,i)&&e===wi(g,h,t)),xd(g,i)&&c&&(a=g)}),a;if(a=X5(e,n,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)c=xd(a)&&e===wi(a,n,t);else if(!xd(a)){var d=((s=n.match(iQ))!==null&&s!==void 0?s:[]).map(function(h){var g=h[0];if(g==="p"||g==="P"){var b=$x[g];return l?b(h,l.formatLong):g}return h}).join("");e.length>0&&(a=X5(e,d.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),xd(a)||(a=new Date(e))}return xd(a)&&c?a:null}function xd(e,n){return qx(e)&&!ip(e,n??new Date("1/1/1800"))}function wi(e,n,t){if(t==="en")return d4(e,n,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?Gh(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!r&&ig()&&Gh(ig())&&(r=Gh(ig())),d4(e,n,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function kl(e,n){var t=n.dateFormat,r=n.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return e&&wi(e,i,r)||""}function sQ(e,n,t){if(!e)return"";var r=kl(e,t),i=n?kl(n,t):"";return"".concat(r," - ").concat(i)}function aQ(e,n){if(!(e!=null&&e.length))return"";var t=e[0]?kl(e[0],n):"";if(e.length===1)return t;if(e.length===2&&e[1]){var r=kl(e[1],n);return"".concat(t,", ").concat(r)}var i=e.length-1;return"".concat(t," (+").concat(i,")")}function nw(e,n){var t=n.hour,r=t===void 0?0:t,i=n.minute,s=i===void 0?0:i,a=n.second,l=a===void 0?0:a;return ix(sx(ax(e,l),s),r)}function oQ(e){return eA(e)}function lQ(e,n){return wi(e,"ddd",n)}function lx(e){return rp(e)}function Bf(e,n,t){var r=Gh(n||ig());return Id(e,{locale:r,weekStartsOn:t})}function kd(e){return vO(e)}function X1(e){return _v(e)}function C4(e){return CS(e)}function E4(){return rp(Wr())}function _4(e){return yO(e)}function uQ(e){return EW(e)}function cQ(e){return xO(e)}function gc(e,n){return e&&n?yY(e,n):!e&&!n}function oo(e,n){return e&&n?gY(e,n):!e&&!n}function Kx(e,n){return e&&n?bY(e,n):!e&&!n}function lr(e,n){return e&&n?AW(e,n):!e&&!n}function Bh(e,n){return e&&n?wV(e,n):!e&&!n}function Z1(e,n,t){var r,i=rp(n),s=yO(t);try{r=_g(e,{start:i,end:s})}catch{r=!1}return r}function ig(){var e=HO();return e.__localeId__}function Gh(e){if(typeof e=="string"){var n=HO();return n.__localeData__?n.__localeData__[e]:void 0}else return e}function dQ(e,n,t){return n(wi(e,"EEEE",t))}function fQ(e,n){return wi(e,"EEEEEE",n)}function hQ(e,n){return wi(e,"EEE",n)}function cA(e,n){return wi(Xo(Wr(),e),"LLLL",n)}function WO(e,n){return wi(Xo(Wr(),e),"LLL",n)}function pQ(e,n){return wi(w0(Wr(),e),"QQQ",n)}function Ol(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.excludeDateIntervals,l=t.includeDates,c=t.includeDateIntervals,d=t.filterDate;return ib(e,{minDate:r,maxDate:i})||s&&s.some(function(h){return h instanceof Date?lr(e,h):lr(e,h.date)})||a&&a.some(function(h){var g=h.start,b=h.end;return _g(e,{start:g,end:b})})||l&&!l.some(function(h){return lr(e,h)})||c&&!c.some(function(h){var g=h.start,b=h.end;return _g(e,{start:g,end:b})})||d&&!d(Wr(e))||!1}function dA(e,n){var t=n===void 0?{}:n,r=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var a=s.start,l=s.end;return _g(e,{start:a,end:l})}):r&&r.some(function(s){var a;return s instanceof Date?lr(e,s):lr(e,(a=s.date)!==null&&a!==void 0?a:new Date)})||!1}function VO(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates,l=t.filterDate;return ib(e,{minDate:r?vO(r):void 0,maxDate:i?xO(i):void 0})||(s==null?void 0:s.some(function(c){return oo(e,c instanceof Date?c:c.date)}))||a&&!a.some(function(c){return oo(e,c)})||l&&!l(Wr(e))||!1}function Ly(e,n,t,r){var i=Un(e),s=uo(e),a=Un(n),l=uo(n),c=Un(r);return i===a&&i===c?s<=t&&t<=l:i<a?c===i&&s<=t||c===a&&l>=t||c<a&&c>i:!1}function mQ(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates;return ib(e,{minDate:r,maxDate:i})||s&&s.some(function(l){return oo(l instanceof Date?l:l.date,e)})||a&&!a.some(function(l){return oo(l,e)})||!1}function Ry(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates,l=t.filterDate;return ib(e,{minDate:r,maxDate:i})||(s==null?void 0:s.some(function(c){return Kx(e,c instanceof Date?c:c.date)}))||a&&!a.some(function(c){return Kx(e,c)})||l&&!l(Wr(e))||!1}function My(e,n,t){if(!n||!t||!qx(n)||!qx(t))return!1;var r=Un(n),i=Un(t);return r<=e&&i>=e}function ux(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates,l=t.filterDate,c=new Date(e,0,1);return ib(c,{minDate:r?_v(r):void 0,maxDate:i?wO(i):void 0})||(s==null?void 0:s.some(function(d){return gc(c,d instanceof Date?d:d.date)}))||a&&!a.some(function(d){return gc(c,d)})||l&&!l(Wr(c))||!1}function Py(e,n,t,r){var i=Un(e),s=Wh(e),a=Un(n),l=Wh(n),c=Un(r);return i===a&&i===c?s<=t&&t<=l:i<a?c===i&&s<=t||c===a&&l>=t||c<a&&c>i:!1}function ib(e,n){var t,r=n===void 0?{}:n,i=r.minDate,s=r.maxDate;return(t=i&&Y0(e,i)<0||s&&Y0(e,s)>0)!==null&&t!==void 0?t:!1}function k4(e,n){return n.some(function(t){return jc(t)===jc(e)&&Tc(t)===Tc(e)&&_d(t)===_d(e)})}function N4(e,n){var t=n===void 0?{}:n,r=t.excludeTimes,i=t.includeTimes,s=t.filterTime;return r&&k4(e,r)||i&&!k4(e,i)||s&&!s(e)||!1}function j4(e,n){var t=n.minTime,r=n.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var i=Wr();i=ix(i,jc(e)),i=sx(i,Tc(e)),i=ax(i,_d(e));var s=Wr();s=ix(s,jc(t)),s=sx(s,Tc(t)),s=ax(s,_d(t));var a=Wr();a=ix(a,jc(r)),a=sx(a,Tc(r)),a=ax(a,_d(r));var l;try{l=!_g(i,{start:s,end:a})}catch{l=!1}return l}function T4(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,s=Vh(e,1);return r&&zx(r,s)>0||i&&i.every(function(a){return zx(a,s)>0})||!1}function O4(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,s=Cu(e,1);return r&&zx(s,r)>0||i&&i.every(function(a){return zx(s,a)>0})||!1}function gQ(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,s=_v(e),a=IO(s);return r&&Bx(r,a)>0||i&&i.every(function(l){return Bx(l,a)>0})||!1}function bQ(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,s=wO(e),a=J6(s,1);return r&&Bx(a,r)>0||i&&i.every(function(l){return Bx(a,l)>0})||!1}function I4(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,s=G0(e,1);return r&&Ux(r,s)>0||i&&i.every(function(a){return Ux(a,s)>0})||!1}function yQ(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.yearItemNumber,s=i===void 0?rb:i,a=X1(G0(e,s)),l=Df(a,s).endPeriod,c=r&&Un(r);return c&&c>l||!1}function D4(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,s=Cd(e,1);return r&&Ux(s,r)>0||i&&i.every(function(a){return Ux(s,a)>0})||!1}function xQ(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.yearItemNumber,s=i===void 0?rb:i,a=Cd(e,s),l=Df(a,s).startPeriod,c=r&&Un(r);return c&&c<l||!1}function YO(e){var n=e.minDate,t=e.includeDates;if(t&&n){var r=t.filter(function(i){return Y0(i,n)>=0});return s4(r)}else return t?s4(t):n}function GO(e){var n=e.maxDate,t=e.includeDates;if(t&&n){var r=t.filter(function(i){return Y0(i,n)<=0});return i4(r)}else return t?i4(t):n}function L4(e,n){var t;e===void 0&&(e=[]),n===void 0&&(n="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=e.length;i<s;i++){var a=e[i];if(Ed(a)){var l=wi(a,"MM.dd.yyyy"),c=r.get(l)||[];c.includes(n)||(c.push(n),r.set(l,c))}else if(typeof a=="object"){var d=Object.keys(a),h=(t=d[0])!==null&&t!==void 0?t:"",g=a[h];if(typeof h=="string"&&Array.isArray(g))for(var b=0,m=g.length;b<m;b++){var x=g[b];if(x){var l=wi(x,"MM.dd.yyyy"),c=r.get(l)||[];c.includes(h)||(c.push(h),r.set(l,c))}}}}return r}function vQ(e,n){return e.length!==n.length?!1:e.every(function(t,r){return t===n[r]})}function wQ(e,n){e===void 0&&(e=[]),n===void 0&&(n="react-datepicker__day--holidays");var t=new Map;return e.forEach(function(r){var i=r.date,s=r.holidayName;if(Ed(i)){var a=wi(i,"MM.dd.yyyy"),l=t.get(a)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===n&&vQ(l.holidayNames,[s]))){l.className=n;var c=l.holidayNames;l.holidayNames=c?Ec(Ec([],c,!0),[s],!1):[s],t.set(a,l)}}}),t}function SQ(e,n,t,r,i){for(var s=i.length,a=[],l=0;l<s;l++){var c=e,d=i[l];d&&(c=xW(c,jc(d)),c=AS(c,Tc(d)),c=SW(c,_d(d)));var h=AS(e,(t+1)*r);Wf(c,n)&&ip(c,h)&&d!=null&&a.push(d)}return a}function R4(e){return e<10?"0".concat(e):"".concat(e)}function Df(e,n){n===void 0&&(n=rb);var t=Math.ceil(Un(e)/n)*n,r=t-(n-1);return{startPeriod:r,endPeriod:t}}function AQ(e){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+t-+n)/36e5)}function M4(e){var n=e.getSeconds(),t=e.getMilliseconds();return Mt(e.getTime()-n*1e3-t)}function CQ(e,n){return M4(e).getTime()===M4(n).getTime()}function P4(e){if(!Ed(e))throw new Error("Invalid date");var n=new Date(e);return n.setHours(0,0,0,0),n}function F4(e,n){if(!Ed(e)||!Ed(n))throw new Error("Invalid date received");var t=P4(e),r=P4(n);return ip(t,r)}function QO(e){return e.key===Lt.Space}var EQ=function(e){ia(n,e);function n(t){var r=e.call(this,t)||this;return r.inputRef=tt.createRef(),r.onTimeChange=function(i){var s,a;r.setState({time:i});var l=r.props.date,c=l instanceof Date&&!isNaN(+l),d=c?l:new Date;if(i!=null&&i.includes(":")){var h=i.split(":"),g=h[0],b=h[1];d.setHours(Number(g)),d.setMinutes(Number(b))}(a=(s=r.props).onChange)===null||a===void 0||a.call(s,d)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,a=s.date,l=s.timeString,c=s.customTimeInput;return c?K.cloneElement(c,{date:a,value:i,onChange:r.onTimeChange}):tt.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var d;(d=r.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:i,onChange:function(d){r.onTimeChange(d.target.value||l)}})},r.state={time:r.props.timeString},r}return n.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},n.prototype.render=function(){return tt.createElement("div",{className:"react-datepicker__input-time-container"},tt.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),tt.createElement("div",{className:"react-datepicker-time__input-container"},tt.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},n}(K.Component),_Q=function(e){ia(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.dayEl=K.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var i,s,a=r.key;a===Lt.Space&&(r.preventDefault(),r.key=Lt.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},t.isSameDay=function(r){return lr(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected),s=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!s},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),Ol(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return dA(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return lr(t.props.day,Bf(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&lr(r,Bf(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,i=r.day,s=r.highlightDates;if(!s)return!1;var a=wi(i,"MM.dd.yyyy");return s.get(a)},t.getHolidaysClass=function(){var r,i=t.props,s=i.day,a=i.holidays;if(!a)return[void 0];var l=wi(s,"MM.dd.yyyy");return a.has(l)?[(r=a.get(l))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,i=r.day,s=r.startDate,a=r.endDate;return!s||!a?!1:Z1(i,s,a)},t.isInSelectingRange=function(){var r,i=t.props,s=i.day,a=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,d=i.selectsDisabledDaysInRange,h=i.startDate,g=i.endDate,b=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(a||l||c)||!b||!d&&t.isDisabled()?!1:a&&g&&(ip(b,g)||Bh(b,g))?Z1(s,b,g):l&&h&&(Wf(b,h)||Bh(b,h))||c&&h&&!g&&(Wf(b,h)||Bh(b,h))?Z1(s,h,b):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,a=i.startDate,l=i.selectsStart,c=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return l?lr(s,c):lr(s,a)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,a=i.endDate,l=i.selectsEnd,c=i.selectsRange,d=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return l||c?lr(s,d):lr(s,a)},t.isRangeStart=function(){var r=t.props,i=r.day,s=r.startDate,a=r.endDate;return!s||!a?!1:lr(s,i)},t.isRangeEnd=function(){var r=t.props,i=r.day,s=r.startDate,a=r.endDate;return!s||!a?!1:lr(a,i)},t.isWeekend=function(){var r=bV(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===uo(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(uo(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Wr())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var i=t.props.dayClassName?t.props.dayClassName(r):void 0;return ba("react-datepicker__day",i,"react-datepicker__day--"+lQ(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,a=s===void 0?"Choose":s,l=r.ariaLabelPrefixWhenDisabled,c=l===void 0?"Not available":l,d=t.isDisabled()||t.isExcluded()?c:a;return"".concat(d," ").concat(wi(i,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,i=r.day,s=r.holidays,a=s===void 0?new Map:s,l=r.excludeDates,c=wi(i,"MM.dd.yyyy"),d=[];return a.has(c)&&d.push.apply(d,a.get(c).holidayNames),t.isExcluded()&&d.push(l==null?void 0:l.filter(function(h){return h instanceof Date?lr(h,i):lr(h==null?void 0:h.date,i)}).map(function(h){if(!(h instanceof Date))return h==null?void 0:h.message})),d.join(", ")},t.getTabIndex=function(){var r=t.props.selected,i=t.props.preSelection,s=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&lr(i,r))?0:-1;return s},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(f4(t.props.day),t.props.day):f4(t.props.day)},t.render=function(){return tt.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&tt.createElement("span",{className:"overlay"},t.getTitle()))},t}return n.prototype.componentDidMount=function(){this.handleFocusDay()},n.prototype.componentDidUpdate=function(){this.handleFocusDay()},n.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},n.prototype.isDayActiveElement=function(){var t,r,i;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},n.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},n}(K.Component),kQ=function(e){ia(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.weekNumberEl=K.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var i,s,a=r.key;a===Lt.Space&&(r.preventDefault(),r.key=Lt.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!lr(t.props.date,t.props.selected)&&lr(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||lr(t.props.date,t.props.selected)&&lr(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var i=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&lr(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},n.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},n.prototype.render=function(){var t=this.props,r=t.weekNumber,i=t.isWeekDisabled,s=t.ariaLabelPrefix,a=s===void 0?n.defaultProps.ariaLabelPrefix:s,l=t.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!i,"react-datepicker__week-number--selected":!!l&&lr(this.props.date,this.props.selected)};return tt.createElement("div",{ref:this.weekNumberEl,className:ba(c),"aria-label":"".concat(a," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},n}(K.Component),NQ=function(e){ia(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.isDisabled=function(r){return Ol(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,i){t.props.onDayClick&&t.props.onDayClick(r,i)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,i,s){for(var a,l,c,d=new Date(r),h=0;h<7;h++){var g=new Date(r);g.setDate(g.getDate()+h);var b=!t.isDisabled(g);if(b){d=g;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(d,i,s),t.props.showWeekPicker&&t.handleDayClick(d,s),((a=t.props.shouldCloseOnSelect)!==null&&a!==void 0?a:n.defaultProps.shouldCloseOnSelect)&&((c=(l=t.props).setOpen)===null||c===void 0||c.call(l,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):oQ(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),i=Su(r,6),s=new Date(r);s<=i;){if(!t.isDisabled(s))return!1;s=Su(s,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),i=[],s=t.formatWeekNumber(r);if(t.props.showWeekNumber){var a=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,s):void 0;i.push(tt.createElement(kQ,pr({key:"W"},n.defaultProps,t.props,{weekNumber:s,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:a})))}return i.concat([0,1,2,3,4,5,6].map(function(l){var c=Su(r,l);return tt.createElement(_Q,pr({},n.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:t.handleDayClick.bind(t,c),onMouseEnter:t.handleDayMouseEnter.bind(t,c)}))}))},t.startOfWeek=function(){return Bf(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!lr(t.startOfWeek(),t.props.selected)&&lr(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":lr(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return tt.createElement("div",{className:ba(t)},this.renderDays())},n}(K.Component),v1,jQ=6,j0={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},rw=(v1={},v1[j0.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},v1[j0.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},v1[j0.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},v1),Fy=1;function q4(e,n){return e?j0.FOUR_COLUMNS:n?j0.TWO_COLUMNS:j0.THREE_COLUMNS}var TQ=function(e){ia(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.MONTH_REFS=Ec([],Array(12),!0).map(function(){return K.createRef()}),t.QUARTER_REFS=Ec([],Array(4),!0).map(function(){return K.createRef()}),t.isDisabled=function(r){return Ol(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return dA(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,i){var s,a;(a=(s=t.props).onDayClick)===null||a===void 0||a.call(s,r,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var i,s;(s=(i=t.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},t.handleMouseLeave=function(){var r,i;(i=(r=t.props).onMouseLeave)===null||i===void 0||i.call(r)},t.isRangeStartMonth=function(r){var i=t.props,s=i.day,a=i.startDate,l=i.endDate;return!a||!l?!1:oo(Xo(s,r),a)},t.isRangeStartQuarter=function(r){var i=t.props,s=i.day,a=i.startDate,l=i.endDate;return!a||!l?!1:Kx(w0(s,r),a)},t.isRangeEndMonth=function(r){var i=t.props,s=i.day,a=i.startDate,l=i.endDate;return!a||!l?!1:oo(Xo(s,r),l)},t.isRangeEndQuarter=function(r){var i=t.props,s=i.day,a=i.startDate,l=i.endDate;return!a||!l?!1:Kx(w0(s,r),l)},t.isInSelectingRangeMonth=function(r){var i,s=t.props,a=s.day,l=s.selectsStart,c=s.selectsEnd,d=s.selectsRange,h=s.startDate,g=s.endDate,b=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(l||c||d)||!b?!1:l&&g?Ly(b,g,r,a):c&&h||d&&h&&!g?Ly(h,b,r,a):!1},t.isSelectingMonthRangeStart=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,a=s.day,l=s.startDate,c=s.selectsStart,d=Xo(a,r),h=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return c?oo(d,h):oo(d,l)},t.isSelectingMonthRangeEnd=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,a=s.day,l=s.endDate,c=s.selectsEnd,d=s.selectsRange,h=Xo(a,r),g=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return c||d?oo(h,g):oo(h,l)},t.isInSelectingRangeQuarter=function(r){var i,s=t.props,a=s.day,l=s.selectsStart,c=s.selectsEnd,d=s.selectsRange,h=s.startDate,g=s.endDate,b=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(l||c||d)||!b?!1:l&&g?Py(b,g,r,a):c&&h||d&&h&&!g?Py(h,b,r,a):!1},t.isWeekInMonth=function(r){var i=t.props.day,s=Su(r,6);return oo(r,i)||oo(s,i)},t.isCurrentMonth=function(r,i){return Un(r)===Un(Wr())&&i===uo(Wr())},t.isCurrentQuarter=function(r,i){return Un(r)===Un(Wr())&&i===Wh(Wr())},t.isSelectedMonth=function(r,i,s){return uo(s)===i&&Un(r)===Un(s)},t.isSelectMonthInList=function(r,i,s){return s.some(function(a){return t.isSelectedMonth(r,i,a)})},t.isSelectedQuarter=function(r,i,s){return Wh(r)===i&&Un(r)===Un(s)},t.renderWeeks=function(){for(var r=[],i=t.props.fixedHeight,s=0,a=!1,l=Bf(kd(t.props.day),t.props.locale,t.props.calendarStartDay),c=function(x){return t.props.showWeekPicker?Bf(x,t.props.locale,t.props.calendarStartDay):t.props.preSelection},d=function(x){return t.props.showWeekPicker?Bf(x,t.props.locale,t.props.calendarStartDay):t.props.selected},h=t.props.selected?d(t.props.selected):void 0,g=t.props.preSelection?c(t.props.preSelection):void 0;r.push(tt.createElement(NQ,pr({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:s,day:l,month:uo(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:h,preSelection:g,showWeekNumber:t.props.showWeekNumbers}))),!a;){s++,l=Fx(l,1);var b=i&&s>=jQ,m=!i&&!t.isWeekInMonth(l);if(b||m)if(t.props.peekNextMonth)a=!0;else break}return r},t.onMonthClick=function(r,i){var s=t.isMonthDisabledForLabelDate(i),a=s.isDisabled,l=s.labelDate;a||t.handleDayClick(kd(l),r)},t.onMonthMouseEnter=function(r){var i=t.isMonthDisabledForLabelDate(r),s=i.isDisabled,a=i.labelDate;s||t.handleDayMouseEnter(kd(a))},t.handleMonthNavigation=function(r,i){var s,a,l,c;(a=(s=t.props).setPreSelection)===null||a===void 0||a.call(s,i),(c=(l=t.MONTH_REFS[r])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()},t.handleKeyboardNavigation=function(r,i,s){var a,l=t.props,c=l.selected,d=l.preSelection,h=l.setPreSelection,g=l.minDate,b=l.maxDate,m=l.showFourColumnMonthYearPicker,x=l.showTwoColumnMonthYearPicker;if(d){var y=q4(m,x),A=t.getVerticalOffset(y),w=(a=rw[y])===null||a===void 0?void 0:a.grid,C=function(N,P,z){var X,j,O=P,M=z;switch(N){case Lt.ArrowRight:O=Cu(P,Fy),M=z===11?0:z+Fy;break;case Lt.ArrowLeft:O=Vh(P,Fy),M=z===0?11:z-Fy;break;case Lt.ArrowUp:O=Vh(P,A),M=!((X=w==null?void 0:w[0])===null||X===void 0)&&X.includes(z)?z+12-A:z-A;break;case Lt.ArrowDown:O=Cu(P,A),M=!((j=w==null?void 0:w[w.length-1])===null||j===void 0)&&j.includes(z)?z-12+A:z+A;break}return{newCalculatedDate:O,newCalculatedMonth:M}},k=function(N,P,z){for(var X=40,j=N,O=!1,M=0,T=C(j,P,z),Q=T.newCalculatedDate,H=T.newCalculatedMonth;!O;){if(M>=X){Q=P,H=z;break}if(g&&Q<g){j=Lt.ArrowRight;var Y=C(j,Q,H);Q=Y.newCalculatedDate,H=Y.newCalculatedMonth}if(b&&Q>b){j=Lt.ArrowLeft;var Y=C(j,Q,H);Q=Y.newCalculatedDate,H=Y.newCalculatedMonth}if(mQ(Q,t.props)){var Y=C(j,Q,H);Q=Y.newCalculatedDate,H=Y.newCalculatedMonth}else O=!0;M++}return{newCalculatedDate:Q,newCalculatedMonth:H}};if(i===Lt.Enter){t.isMonthDisabled(s)||(t.onMonthClick(r,s),h==null||h(c));return}var R=k(i,d,s),q=R.newCalculatedDate,D=R.newCalculatedMonth;switch(i){case Lt.ArrowRight:case Lt.ArrowLeft:case Lt.ArrowUp:case Lt.ArrowDown:t.handleMonthNavigation(D,q);break}}},t.getVerticalOffset=function(r){var i,s;return(s=(i=rw[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},t.onMonthKeyDown=function(r,i){var s=t.props,a=s.disabledKeyboardNavigation,l=s.handleOnMonthKeyDown,c=r.key;c!==Lt.Tab&&r.preventDefault(),a||t.handleKeyboardNavigation(r,c,i),l&&l(r)},t.onQuarterClick=function(r,i){var s=w0(t.props.day,i);Ry(s,t.props)||t.handleDayClick(C4(s),r)},t.onQuarterMouseEnter=function(r){var i=w0(t.props.day,r);Ry(i,t.props)||t.handleDayMouseEnter(C4(i))},t.handleQuarterNavigation=function(r,i){var s,a,l,c;t.isDisabled(i)||t.isExcluded(i)||((a=(s=t.props).setPreSelection)===null||a===void 0||a.call(s,i),(c=(l=t.QUARTER_REFS[r-1])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())},t.onQuarterKeyDown=function(r,i){var s,a,l=r.key;if(!t.props.disabledKeyboardNavigation)switch(l){case Lt.Enter:t.onQuarterClick(r,i),(a=(s=t.props).setPreSelection)===null||a===void 0||a.call(s,t.props.selected);break;case Lt.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,J6(t.props.preSelection,1));break;case Lt.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,IO(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var i,s=t.props,a=s.day,l=s.minDate,c=s.maxDate,d=s.excludeDates,h=s.includeDates,g=Xo(a,r);return{isDisabled:(i=(l||c||d||h)&&VO(g,t.props))!==null&&i!==void 0?i:!1,labelDate:g}},t.isMonthDisabled=function(r){var i=t.isMonthDisabledForLabelDate(r).isDisabled;return i},t.getMonthClassNames=function(r){var i=t.props,s=i.day,a=i.startDate,l=i.endDate,c=i.preSelection,d=i.monthClassName,h=d?d(Xo(s,r)):void 0,g=t.getSelection();return ba("react-datepicker__month-text","react-datepicker__month-".concat(r),h,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":g?t.isSelectMonthInList(s,r,g):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&c&&t.isSelectedMonth(s,r,c)&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":a&&l?Ly(a,l,r,s):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(s,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=uo(t.props.preSelection),s=t.isMonthDisabledForLabelDate(i).isDisabled,a=r===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return a},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=Wh(t.props.preSelection),s=Ry(t.props.day,t.props),a=r===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return a},t.getAriaLabel=function(r){var i=t.props,s=i.chooseDayAriaLabelPrefix,a=s===void 0?"Choose":s,l=i.disabledDayAriaLabelPrefix,c=l===void 0?"Not available":l,d=i.day,h=i.locale,g=Xo(d,r),b=t.isDisabled(g)||t.isExcluded(g)?c:a;return"".concat(b," ").concat(wi(g,"MMMM yyyy",h))},t.getQuarterClassNames=function(r){var i=t.props,s=i.day,a=i.startDate,l=i.endDate,c=i.selected,d=i.minDate,h=i.maxDate,g=i.excludeDates,b=i.includeDates,m=i.filterDate,x=i.preSelection,y=i.disabledKeyboardNavigation,A=(d||h||g||b||m)&&Ry(w0(s,r),t.props);return ba("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":A,"react-datepicker__quarter-text--selected":c?t.isSelectedQuarter(s,r,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!y&&x&&t.isSelectedQuarter(s,r,x)&&!A,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":a&&l?Py(a,l,r,s):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r)})},t.getMonthContent=function(r){var i=t.props,s=i.showFullMonthYearPicker,a=i.renderMonthContent,l=i.locale,c=i.day,d=WO(r,l),h=cA(r,l);return a?a(r,d,h,c):s?h:d},t.getQuarterContent=function(r){var i,s=t.props,a=s.renderQuarterContent,l=s.locale,c=pQ(r,l);return(i=a==null?void 0:a(r,c))!==null&&i!==void 0?i:c},t.renderMonths=function(){var r,i=t.props,s=i.showTwoColumnMonthYearPicker,a=i.showFourColumnMonthYearPicker,l=i.day,c=i.selected,d=(r=rw[q4(a,s)])===null||r===void 0?void 0:r.grid;return d==null?void 0:d.map(function(h,g){return tt.createElement("div",{className:"react-datepicker__month-wrapper",key:g},h.map(function(b,m){return tt.createElement("div",{ref:t.MONTH_REFS[b],key:m,onClick:function(x){t.onMonthClick(x,b)},onKeyDown:function(x){QO(x)&&(x.preventDefault(),x.key=Lt.Enter),t.onMonthKeyDown(x,b)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(b)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(b)}:void 0,tabIndex:Number(t.getTabIndex(b)),className:t.getMonthClassNames(b),"aria-disabled":t.isMonthDisabled(b),role:"option","aria-label":t.getAriaLabel(b),"aria-current":t.isCurrentMonth(l,b)?"date":void 0,"aria-selected":c?t.isSelectedMonth(l,b,c):void 0},t.getMonthContent(b))}))})},t.renderQuarters=function(){var r=t.props,i=r.day,s=r.selected,a=[1,2,3,4];return tt.createElement("div",{className:"react-datepicker__quarter-wrapper"},a.map(function(l,c){return tt.createElement("div",{key:c,ref:t.QUARTER_REFS[c],role:"option",onClick:function(d){t.onQuarterClick(d,l)},onKeyDown:function(d){t.onQuarterKeyDown(d,l)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(l)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(l)}:void 0,className:t.getQuarterClassNames(l),"aria-selected":s?t.isSelectedQuarter(i,l,s):void 0,tabIndex:Number(t.getQuarterTabIndex(l)),"aria-current":t.isCurrentQuarter(i,l)?"date":void 0},t.getQuarterContent(l))}))},t.getClassNames=function(){var r=t.props,i=r.selectingDate,s=r.selectsStart,a=r.selectsEnd,l=r.showMonthYearPicker,c=r.showQuarterYearPicker,d=r.showWeekPicker;return ba("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||a)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":d})},t}return n.prototype.getSelection=function(){var t=this.props,r=t.selected,i=t.selectedDates,s=t.selectsMultiple;if(s)return i;if(r)return[r]},n.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,i=t.showQuarterYearPicker,s=t.day,a=t.ariaLabelPrefix,l=a===void 0?"Month ":a,c=l?l.trim()+" ":"";return tt.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(wi(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},n}(K.Component),OQ=function(e){ia(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,i){return tt.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?tt.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return n.prototype.render=function(){return tt.createElement(Ov,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},n}(K.Component),IQ=function(e){ia(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(i,s){return tt.createElement("option",{key:i,value:s},i)})},t.renderSelectMode=function(r){return tt.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,i){return tt.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},tt.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),tt.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(r){return tt.createElement(OQ,pr({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var i=t.state.dropdownVisible,s=[t.renderReadView(!i,r)];return i&&s.unshift(t.renderDropdown(r)),s},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return WO(s,t.props.locale)}:function(s){return cA(s,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return tt.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},n}(K.Component);function DQ(e,n){for(var t=[],r=kd(e),i=kd(n);!Wf(r,i);)t.push(Wr(r)),r=Cu(r,1);return t}var LQ=function(e){ia(n,e);function n(t){var r=e.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=_S(i),a=gc(r.props.date,i)&&oo(r.props.date,i);return tt.createElement("div",{className:a?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":a?"true":void 0},a?tt.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",wi(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:DQ(r.props.minDate,r.props.maxDate)},r}return n.prototype.render=function(){var t=ba({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return tt.createElement(Ov,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(K.Component),RQ=function(e){ia(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=kd(t.props.minDate),i=kd(t.props.maxDate),s=[];!Wf(r,i);){var a=_S(r);s.push(tt.createElement("option",{key:a,value:a},wi(r,t.props.dateFormat,t.props.locale))),r=Cu(r,1)}return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return tt.createElement("select",{value:_S(kd(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var i=wi(t.props.date,t.props.dateFormat,t.props.locale);return tt.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},tt.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),tt.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return tt.createElement(LQ,pr({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown();var i=Wr(r);gc(t.props.date,i)&&oo(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return tt.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(K.Component),MQ=function(e){ia(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;t.list&&(t.list.scrollTop=(s=t.centerLi&&n.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&s!==void 0?s:0)})},t.handleClick=function(r){var i,s;(t.props.minTime||t.props.maxTime)&&j4(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&N4(r,t.props)||(s=(i=t.props).onChange)===null||s===void 0||s.call(i,r)},t.isSelectedTime=function(r){return t.props.selected&&CQ(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&j4(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&N4(r,t.props)},t.liClasses=function(r){var i,s=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(jc(r)*3600+Tc(r)*60+_d(r))%(((i=t.props.intervals)!==null&&i!==void 0?i:n.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},t.handleOnKeyDown=function(r,i){var s,a;r.key===Lt.Space&&(r.preventDefault(),r.key=Lt.Enter),(r.key===Lt.ArrowUp||r.key===Lt.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Lt.ArrowDown||r.key===Lt.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Lt.Enter&&t.handleClick(i),(a=(s=t.props).handleOnKeyDown)===null||a===void 0||a.call(s,r)},t.renderTimes=function(){for(var r,i=[],s=typeof t.props.format=="string"?t.props.format:"p",a=(r=t.props.intervals)!==null&&r!==void 0?r:n.defaultProps.intervals,l=t.props.selected||t.props.openToDate||Wr(),c=lx(l),d=t.props.injectTimes&&t.props.injectTimes.sort(function(A,w){return A.getTime()-w.getTime()}),h=60*AQ(l),g=h/a,b=0;b<g;b++){var m=AS(c,b*a);if(i.push(m),d){var x=SQ(c,m,b,a,d);i=i.concat(x)}}var y=i.reduce(function(A,w){return w.getTime()<=l.getTime()?w:A},i[0]);return i.map(function(A){return tt.createElement("li",{key:A.valueOf(),onClick:t.handleClick.bind(t,A),className:t.liClasses(A),ref:function(w){A===y&&(t.centerLi=w)},onKeyDown:function(w){t.handleOnKeyDown(w,A)},tabIndex:A===y?0:-1,role:"option","aria-selected":t.isSelectedTime(A)?"true":void 0,"aria-disabled":t.isDisabledTime(A)?"true":void 0},wi(A,s,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?tt.createElement(tt.Fragment,null):tt.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},tt.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},n.prototype.render=function(){var t=this,r,i=this.state.height;return tt.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:n.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),tt.createElement("div",{className:"react-datepicker__time"},tt.createElement("div",{className:"react-datepicker__time-box"},tt.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){t.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},n.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},n}(K.Component),z4=3,PQ=function(e){ia(n,e);function n(t){var r=e.call(this,t)||this;return r.YEAR_REFS=Ec([],Array(r.props.yearItemNumber),!0).map(function(){return K.createRef()}),r.isDisabled=function(i){return Ol(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return dA(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var a,l;(l=(a=r.YEAR_REFS[i])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var a,l,c,d,h=r.props,g=h.date,b=h.yearItemNumber;if(!(g===void 0||b===void 0)){var m=Df(g,b).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((l=(a=r.props).setPreSelection)===null||l===void 0||l.call(a,s),i-m<0?r.updateFocusOnPaginate(b-(m-i)):i-m>=b?r.updateFocusOnPaginate(Math.abs(b-(i-m))):(d=(c=r.YEAR_REFS[i-m])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())}},r.isSameDay=function(i,s){return lr(i,s)},r.isCurrentYear=function(i){return i===Un(Wr())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&gc(mc(Wr(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&gc(mc(Wr(),i),r.props.endDate)},r.isInRange=function(i){return My(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,a=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,d=s.startDate,h=s.endDate;return!(a||l||c)||!r.selectingDate()?!1:a&&h?My(i,r.selectingDate(),h):l&&d||c&&d&&!h?My(i,d,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var a=r.props,l=a.startDate,c=a.selectsStart,d=mc(Wr(),i);return c?gc(d,(s=r.selectingDate())!==null&&s!==void 0?s:null):gc(d,l??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var a=r.props,l=a.endDate,c=a.selectsEnd,d=a.selectsRange,h=mc(Wr(),i);return c||d?gc(h,(s=r.selectingDate())!==null&&s!==void 0?s:null):gc(h,l??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var s=r.props,a=s.minDate,l=s.maxDate,c=s.excludeDates,d=s.includeDates,h=s.filterDate,g=X1(mc(r.props.date,i)),b=(a||l||c||d||h)&&ux(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!lr(g,X1(r.props.selected))&&lr(g,X1(r.props.preSelection))&&!b}},r.onYearClick=function(i,s){var a=r.props.date;a!==void 0&&r.handleYearClick(X1(mc(a,s)),i)},r.onYearKeyDown=function(i,s){var a,l,c=i.key,d=r.props,h=d.date,g=d.yearItemNumber,b=d.handleOnKeyDown;if(c!==Lt.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(c){case Lt.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(l=(a=r.props).setPreSelection)===null||l===void 0||l.call(a,r.props.selected);break;case Lt.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,Cd(r.props.preSelection,1));break;case Lt.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,G0(r.props.preSelection,1));break;case Lt.ArrowUp:{if(h===void 0||g===void 0||r.props.preSelection==null)break;var m=Df(h,g).startPeriod,x=z4,y=s-x;if(y<m){var A=g%x;s>=m&&s<m+A?x=A:x+=A,y=s-x}r.handleYearNavigation(y,G0(r.props.preSelection,x));break}case Lt.ArrowDown:{if(h===void 0||g===void 0||r.props.preSelection==null)break;var w=Df(h,g).endPeriod,x=z4,y=s+x;if(y>w){var A=g%x;s<=w&&s>w-A?x=A:x+=A,y=s+x}r.handleYearNavigation(y,Cd(r.props.preSelection,x));break}}b&&b(i)},r.getYearClassNames=function(i){var s=r.props,a=s.date,l=s.minDate,c=s.maxDate,d=s.selected,h=s.excludeDates,g=s.includeDates,b=s.filterDate,m=s.yearClassName;return ba("react-datepicker__year-text","react-datepicker__year-".concat(i),a?m==null?void 0:m(mc(a,i)):void 0,{"react-datepicker__year-text--selected":d?i===Un(d):void 0,"react-datepicker__year-text--disabled":(l||c||h||g||b)&&ux(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=Un(r.props.preSelection),a=ux(i,r.props);return i===s&&!a?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return n.prototype.render=function(){var t=this,r=[],i=this.props,s=i.date,a=i.yearItemNumber,l=i.onYearMouseEnter,c=i.onYearMouseLeave;if(s===void 0)return null;for(var d=Df(s,a),h=d.startPeriod,g=d.endPeriod,b=function(y){r.push(tt.createElement("div",{ref:m.YEAR_REFS[y-h],onClick:function(A){t.onYearClick(A,y)},onKeyDown:function(A){QO(A)&&(A.preventDefault(),A.key=Lt.Enter),t.onYearKeyDown(A,y)},tabIndex:Number(m.getYearTabIndex(y)),className:m.getYearClassNames(y),onMouseEnter:m.props.usePointerEvent?void 0:function(A){return l(A,y)},onPointerEnter:m.props.usePointerEvent?function(A){return l(A,y)}:void 0,onMouseLeave:m.props.usePointerEvent?void 0:function(A){return c(A,y)},onPointerLeave:m.props.usePointerEvent?function(A){return c(A,y)}:void 0,key:y,"aria-current":m.isCurrentYear(y)?"date":void 0},m.getYearContent(y)))},m=this,x=h;x<=g;x++)b(x);return tt.createElement("div",{className:"react-datepicker__year"},tt.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},n}(K.Component);function FQ(e,n,t,r){for(var i=[],s=0;s<2*n+1;s++){var a=e+n-s,l=!0;t&&(l=Un(t)<=a),r&&l&&(l=Un(r)>=a),l&&i.push(a)}return i}var qQ=function(e){ia(n,e);function n(t){var r=e.call(this,t)||this;r.renderOptions=function(){var l=r.props.year,c=r.state.yearsList.map(function(g){return tt.createElement("div",{className:l===g?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:g,onClick:r.onChange.bind(r,g),"aria-selected":l===g?"true":void 0},l===g?tt.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",g)}),d=r.props.minDate?Un(r.props.minDate):null,h=r.props.maxDate?Un(r.props.maxDate):null;return(!h||!r.state.yearsList.find(function(g){return g===h}))&&c.unshift(tt.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},tt.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!r.state.yearsList.find(function(g){return g===d}))&&c.push(tt.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},tt.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},r.onChange=function(l){r.props.onChange(l)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(l){var c=r.state.yearsList.map(function(d){return d+l});r.setState({yearsList:c})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,a=i||(s?10:5);return r.state={yearsList:FQ(r.props.year,a,r.props.minDate,r.props.maxDate)},r.dropdownRef=K.createRef(),r}return n.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},n.prototype.render=function(){var t=ba({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return tt.createElement(Ov,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(K.Component),zQ=function(e){ia(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?Un(t.props.minDate):1900,i=t.props.maxDate?Un(t.props.maxDate):2100,s=[],a=r;a<=i;a++)s.push(tt.createElement("option",{key:a,value:a},a));return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return tt.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return tt.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},tt.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),tt.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return tt.createElement(qQ,pr({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,i){var s;(s=t.onSelect)===null||s===void 0||s.call(t,r,i),t.setOpen()},t.onSelect=function(r,i){var s,a;(a=(s=t.props).onSelect)===null||a===void 0||a.call(s,r,i)},t.setOpen=function(){var r,i;(i=(r=t.props).setOpen)===null||i===void 0||i.call(r,!0)},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return tt.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(K.Component),BQ=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],UQ=function(e){var n=(e.className||"").split(/\s+/);return BQ.some(function(t){return n.indexOf(t)>=0})},$Q=function(e){ia(n,e);function n(t){var r=e.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,a;UQ(i.target)&&((a=(s=r.props).onDropdownFocus)===null||a===void 0||a.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,a=i.selected,l=i.openToDate,c=YO(r.props),d=GO(r.props),h=Wr(),g=l||a||s;return g||(c&&ip(h,c)?c:d&&Wf(h,d)?d:h)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Cu(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Vh(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,a){r.props.onSelect(i,s,a),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:mc(Wr(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){var s,a,l,c;(a=(s=r.props).onYearChange)===null||a===void 0||a.call(s,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(c=(l=r.props).setOpen)===null||c===void 0||c.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Ol(i,r.props))return i;for(var s=kd(i),a=cQ(i),l=CW(a,s),c=null,d=0;d<=l;d++){var h=Su(s,d);if(!Ol(h,r.props)){c=h;break}}return c},r.handleMonthChange=function(i){var s,a,l,c=(s=r.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;r.handleCustomMonthChange(c),r.props.adjustDateOnChange&&(r.props.onSelect(c),(l=(a=r.props).setOpen)===null||l===void 0||l.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(c)},r.handleCustomMonthChange=function(i){var s,a;(a=(s=r.props).onMonthChange)===null||a===void 0||a.call(s,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var a=s.date;return{date:mc(a,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var a=s.date;return{date:Xo(a,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(s){var a=s.date;return{date:mc(Xo(a,uo(i)),Un(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var s=Bf(i,r.props.locale,r.props.calendarStartDay),a=[];return r.props.showWeekNumbers&&a.push(tt.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),a.concat([0,1,2,3,4,5,6].map(function(l){var c=Su(s,l),d=r.formatWeekday(c,r.props.locale),h=r.props.weekDayClassName?r.props.weekDayClassName(c):void 0;return tt.createElement("div",{key:l,"aria-label":wi(c,"EEEE",r.props.locale),className:ba("react-datepicker__day-name",h)},d)}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?dQ(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?hQ(i,s):fQ(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,a=i.date;return{date:G0(a,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:n.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,s,a;if(!r.props.renderCustomHeader){var l=(i=r.props.monthsShown)!==null&&i!==void 0?i:n.defaultProps.monthsShown,c=r.props.showPreviousMonths?l-1:0,d=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:c,h=Vh(r.state.date,d),g;switch(!0){case r.props.showMonthYearPicker:g=I4(r.state.date,r.props);break;case r.props.showYearPicker:g=yQ(r.state.date,r.props);break;case r.props.showQuarterYearPicker:g=gQ(r.state.date,r.props);break;default:g=T4(h,r.props);break}if(!(!((a=r.props.forceShowMonthNavigation)!==null&&a!==void 0?a:n.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&g||r.props.showTimeSelectOnly)){var b=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],x=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(x=r.decreaseYear),g&&r.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),x=void 0);var y=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,A=r.props,w=A.previousMonthButtonLabel,C=w===void 0?n.defaultProps.previousMonthButtonLabel:w,k=A.previousYearButtonLabel,R=k===void 0?n.defaultProps.previousYearButtonLabel:k,q=r.props,D=q.previousMonthAriaLabel,N=D===void 0?typeof C=="string"?C:"Previous Month":D,P=q.previousYearAriaLabel,z=P===void 0?typeof R=="string"?R:"Previous Year":P;return tt.createElement("button",{type:"button",className:m.join(" "),onClick:x,onKeyDown:r.props.handleOnKeyDown,"aria-label":y?z:N},tt.createElement("span",{className:b.join(" ")},y?R:C))}}},r.increaseYear=function(){r.setState(function(i){var s,a=i.date;return{date:Cd(a,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:n.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=D4(r.state.date,r.props);break;case r.props.showYearPicker:s=xQ(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=bQ(r.state.date,r.props);break;default:s=O4(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:n.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var a=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&a.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&a.push("react-datepicker__navigation--next--with-today-button");var c=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(c=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--next--disabled"),c=void 0);var d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,h=r.props,g=h.nextMonthButtonLabel,b=g===void 0?n.defaultProps.nextMonthButtonLabel:g,m=h.nextYearButtonLabel,x=m===void 0?n.defaultProps.nextYearButtonLabel:m,y=r.props,A=y.nextMonthAriaLabel,w=A===void 0?typeof b=="string"?b:"Next Month":A,C=y.nextYearAriaLabel,k=C===void 0?typeof x=="string"?x:"Next Year":C;return tt.createElement("button",{type:"button",className:a.join(" "),onClick:c,onKeyDown:r.props.handleOnKeyDown,"aria-label":d?k:w},tt.createElement("span",{className:l.join(" ")},d?x:b))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),tt.createElement("h2",{className:s.join(" ")},wi(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return tt.createElement(zQ,pr({},n.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Un(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return tt.createElement(IQ,pr({},n.defaultProps,r.props,{month:uo(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return tt.createElement(RQ,pr({},n.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(E4(),i),r.props.setPreSelection&&r.props.setPreSelection(E4())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return tt.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var s=i.monthDate,a=i.i;return tt.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),tt.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(a!==0),r.renderMonthYearDropdown(a!==0),r.renderYearDropdown(a!==0)),tt.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderCustomHeader=function(i){var s,a,l=i.monthDate,c=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var d=T4(r.state.date,r.props),h=O4(r.state.date,r.props),g=I4(r.state.date,r.props),b=D4(r.state.date,r.props),m=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return tt.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(a=(s=r.props).renderCustomHeader)===null||a===void 0?void 0:a.call(s,pr(pr({},r.state),{customHeaderCount:c,monthDate:l,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:d,nextMonthButtonDisabled:h,prevYearButtonDisabled:g,nextYearButtonDisabled:b})),m&&tt.createElement("div",{className:"react-datepicker__day-names"},r.header(l)))},r.renderYearHeader=function(i){var s=i.monthDate,a=r.props,l=a.showYearPicker,c=a.yearItemNumber,d=c===void 0?n.defaultProps.yearItemNumber:c,h=Df(s,d),g=h.startPeriod,b=h.endPeriod;return tt.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(g," - ").concat(b):Un(s))},r.renderHeader=function(i){var s=i.monthDate,a=i.i,l=a===void 0?0:a,c={monthDate:s,i:l};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(c);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(c);default:return r.renderDefaultHeader(c)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var a=[],l=(i=r.props.monthsShown)!==null&&i!==void 0?i:n.defaultProps.monthsShown,c=r.props.showPreviousMonths?l-1:0,d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Cd(r.state.date,c):Vh(r.state.date,c),h=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:c,g=0;g<l;++g){var b=g-h+c,m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Cd(d,b):Cu(d,b),x="month-".concat(g),y=g<l-1,A=g>0;a.push(tt.createElement("div",{key:x,ref:function(w){r.monthContainer=w??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:m,i:g}),tt.createElement(TQ,pr({},n.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:m,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:g,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:A}))))}return a}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return tt.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),tt.createElement(PQ,pr({},n.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return tt.createElement(MQ,pr({},n.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,s=i&&xd(i)&&!!r.props.selected,a=s?"".concat(R4(i.getHours()),":").concat(R4(i.getMinutes())):"";if(r.props.showTimeInput)return tt.createElement(EQ,pr({},n.defaultProps,r.props,{date:i,timeString:a,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,s=Df(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:n.defaultProps.yearItemNumber),a=s.startPeriod,l=s.endPeriod,c;return r.props.showYearPicker?c="".concat(a," - ").concat(l):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?c=Un(r.state.date):c="".concat(cA(uo(r.state.date),r.props.locale)," ").concat(Un(r.state.date)),tt.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&c)},r.renderChildren=function(){if(r.props.children)return tt.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=K.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(n,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:rb}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},n.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!lr(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!oo(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!lr(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},n.prototype.render=function(){var t=this.props.container||nQ;return tt.createElement(Ov,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},tt.createElement(t,{className:ba("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},n}(K.Component),HQ=function(e){var n=e.icon,t=e.className,r=t===void 0?"":t,i=e.onClick,s="react-datepicker__calendar-icon";return typeof n=="string"?tt.createElement("i",{className:"".concat(s," ").concat(n," ").concat(r),"aria-hidden":"true",onClick:i}):tt.isValidElement(n)?tt.cloneElement(n,{className:"".concat(n.props.className||""," ").concat(s," ").concat(r),onClick:function(a){typeof n.props.onClick=="function"&&n.props.onClick(a),typeof i=="function"&&i(a)}}):tt.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},tt.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},KO=function(e){ia(n,e);function n(t){var r=e.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return n.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},n.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},n.prototype.render=function(){return bR.createPortal(this.props.children,this.el)},n}(K.Component),WQ="[tabindex], a, button, input, select, textarea",VQ=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},XO=function(e){ia(n,e);function n(t){var r=e.call(this,t)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(WQ),1,-1).filter(VQ)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=K.createRef(),r}return n.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:n.defaultProps.enableTabLoop)?tt.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},tt.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,tt.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},n.defaultProps={enableTabLoop:!0},n}(K.Component);function YQ(e){var n=function(t){var r,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,s=K.useRef(null),a=tQ(pr({open:!i,whileElementsMounted:DG,placement:t.popperPlacement,middleware:Ec([UG({padding:15}),BG(10),$G({element:s})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),l=pr(pr({},t),{hidePopper:i,popperProps:pr(pr({},a),{arrowRef:s})});return tt.createElement(e,pr({},l))};return n}var GQ=function(e){ia(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(n,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t=this.props,r=t.className,i=t.wrapperClassName,s=t.hidePopper,a=s===void 0?n.defaultProps.hidePopper:s,l=t.popperComponent,c=t.targetComponent,d=t.enableTabLoop,h=t.popperOnKeyDown,g=t.portalId,b=t.portalHost,m=t.popperProps,x=t.showArrow,y=void 0;if(!a){var A=ba("react-datepicker-popper",r);y=tt.createElement(XO,{enableTabLoop:d},tt.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:A,"data-placement":m.placement,onKeyDown:h},l,x&&tt.createElement(GG,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(y=K.createElement(this.props.popperContainer,{},y)),g&&!a&&(y=tt.createElement(KO,{portalId:g,portalHost:b},y));var w=ba("react-datepicker-wrapper",i);return tt.createElement(tt.Fragment,null,tt.createElement("div",{ref:m.refs.setReference,className:w},c),y)},n}(K.Component),QQ=YQ(GQ),B4="react-datepicker-ignore-onclickoutside";function KQ(e,n){return e&&n?uo(e)!==uo(n)||Un(e)!==Un(n):e!==n}var iw="Date input not valid.",XQ=function(e){ia(n,e);function n(t){var r=e.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Wr()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,a){var l=new Date(a.date);return xd(l)?Ec(Ec([],s,!0),[pr(pr({},a),{date:l})],!1):s},[])},r.calcInitialState=function(){var i,s=r.getPreSelection(),a=YO(r.props),l=GO(r.props),c=a&&ip(s,lx(a))?a:l&&Wf(s,_4(l))?l:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:c,highlightDates:L4(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(pr(pr({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(pr(pr({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.safeFocus=function(){setTimeout(function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},0)},r.safeBlur=function(){setTimeout(function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i)},0)},r.setFocus=function(){r.safeFocus()},r.setBlur=function(){r.safeBlur(),r.cancelFocusInput()},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:sw},function(){i||r.setState(function(a){return{focused:s?a.focused:!1}},function(){!s&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Ed(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,a,l=r.state.wasHidden,c=l?r.state.open:!0;l&&r.resetHiddenStatus(),!r.state.preventFocus&&c&&((a=(s=r.props).onFocus)===null||a===void 0||a.call(s,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var s,a;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((a=(s=r.props).onBlur)===null||a===void 0||a.call(s,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,a;r.props.inline||r.setOpen(!1),(a=(s=r.props).onClickOutside)===null||a===void 0||a.call(s,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,s,a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=a[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,a),!c||typeof c.isDefaultPrevented!="function"||c.isDefaultPrevented()))){r.setState({inputValue:(c==null?void 0:c.target)instanceof HTMLInputElement?c.target.value:null,lastPreSelectChange:ZQ});var d=r.props,h=d.dateFormat,g=h===void 0?n.defaultProps.dateFormat:h,b=d.strictParsing,m=b===void 0?n.defaultProps.strictParsing:b,x=d.selectsRange,y=d.startDate,A=d.endDate,w=(c==null?void 0:c.target)instanceof HTMLInputElement?c.target.value:"";if(x){var C=w.split("-",2).map(function(X){return X.trim()}),k=C[0],R=C[1],q=tw(k??"",g,r.props.locale,m),D=tw(R??"",g,r.props.locale,m),N=(y==null?void 0:y.getTime())!==(q==null?void 0:q.getTime()),P=(A==null?void 0:A.getTime())!==(D==null?void 0:D.getTime());if(!N&&!P||q&&Ol(q,r.props)||D&&Ol(D,r.props))return;(s=(i=r.props).onChange)===null||s===void 0||s.call(i,[q,D],c)}else{var z=tw(w,g,r.props.locale,m,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&z&&!lr(z,r.props.selected)&&(z=MY(r.props.selected,{hours:jc(z),minutes:Tc(z),seconds:_d(z)})),(z||!w)&&r.setSelected(z,c,!0)}}},r.handleSelect=function(i,s,a){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,a),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var l=r.props,c=l.startDate,d=l.endDate;c&&!d&&(r.props.swapRange||!F4(i,c))&&r.setOpen(!1)}},r.setSelected=function(i,s,a,l){var c,d,h=i;if(r.props.showYearPicker){if(h!==null&&ux(Un(h),r.props))return}else if(r.props.showMonthYearPicker){if(h!==null&&VO(h,r.props))return}else if(h!==null&&Ol(h,r.props))return;var g=r.props,b=g.onChange,m=g.selectsRange,x=g.startDate,y=g.endDate,A=g.selectsMultiple,w=g.selectedDates,C=g.minTime,k=g.swapRange;if(!Bh(r.props.selected,h)||r.props.allowSameDay||m||A)if(h!==null&&(r.props.selected&&(!a||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(h=nw(h,{hour:jc(r.props.selected),minute:Tc(r.props.selected),second:_d(r.props.selected)})),!a&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&C&&(h=nw(h,{hour:C.getHours(),minute:C.getMinutes(),second:C.getSeconds()})),r.props.inline||r.setState({preSelection:h}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:l})),m){var R=!x&&!y,q=x&&!y,D=x&&y;R?b==null||b([h,null],s):q&&(h===null?b==null||b([null,null],s):F4(h,x)?k?b==null||b([h,x],s):b==null||b([h,null],s):b==null||b([x,h],s)),D&&(b==null||b([h,null],s))}else if(A){if(h!==null)if(!(w!=null&&w.length))b==null||b([h],s);else{var N=w.some(function(z){return lr(z,h)});if(N){var P=w.filter(function(z){return!lr(z,h)});b==null||b(P,s)}else b==null||b(Ec(Ec([],w,!0),[h],!1),s)}}else b==null||b(h,s);a||((d=(c=r.props).onSelect)===null||d===void 0||d.call(c,h,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){var s=Ed(r.props.minDate),a=Ed(r.props.maxDate),l=!0;if(i){var c=lx(i);if(s&&a)l=Z1(i,r.props.minDate,r.props.maxDate);else if(s){var d=lx(r.props.minDate);l=Wf(i,d)||Bh(c,d)}else if(a){var h=_4(r.props.maxDate);l=ip(i,h)||Bh(c,h)}}l&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var s,a;if(!(r.props.selectsRange||r.props.selectsMultiple)){var l=r.props.selected?r.props.selected:r.getPreSelection(),c=r.props.selected?i:nw(l,{hour:jc(i),minute:Tc(i)});r.setState({preSelection:c}),(a=(s=r.props).onChange)===null||a===void 0||a.call(s,c),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.onInputKeyDown=function(i){var s,a,l,c,d,h;(a=(s=r.props).onKeyDown)===null||a===void 0||a.call(s,i);var g=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(g===Lt.ArrowDown||g===Lt.ArrowUp||g===Lt.Enter)&&((l=r.onInputClick)===null||l===void 0||l.call(r));return}if(r.state.open){if(g===Lt.ArrowDown||g===Lt.ArrowUp){i.preventDefault();var b=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=((c=r.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(b);m instanceof HTMLElement&&m.focus({preventScroll:!0});return}var x=Wr(r.state.preSelection);g===Lt.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===sw?(r.handleSelect(x,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(x)):r.setOpen(!1)):g===Lt.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):g===Lt.Tab&&r.setOpen(!1),r.inputOk()||(h=(d=r.props).onInputError)===null||h===void 0||h.call(d,{code:1,msg:iw})}},r.onPortalKeyDown=function(i){var s=i.key;s===Lt.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,a,l,c,d,h,g=r.props,b=g.minDate,m=g.maxDate,x=g.disabledKeyboardNavigation,y=g.showWeekPicker,A=g.shouldCloseOnSelect,w=g.locale,C=g.calendarStartDay,k=g.adjustDateOnChange,R=g.inline;if((a=(s=r.props).onKeyDown)===null||a===void 0||a.call(s,i),!x){var q=i.key,D=i.shiftKey,N=Wr(r.state.preSelection),P=function(Q,H){var Y=H;switch(Q){case Lt.ArrowRight:Y=y?Fx(H,1):Su(H,1);break;case Lt.ArrowLeft:Y=y?h4(H):xY(H);break;case Lt.ArrowUp:Y=h4(H);break;case Lt.ArrowDown:Y=Fx(H,1);break;case Lt.PageUp:Y=D?G0(H,1):Vh(H,1);break;case Lt.PageDown:Y=D?Cd(H,1):Cu(H,1);break;case Lt.Home:Y=Bf(H,w,C);break;case Lt.End:Y=uQ(H);break}return Y},z=function(Q,H){for(var Y=40,Z=Q,ae=!1,G=0,le=P(Q,H);!ae;){if(G>=Y){le=H;break}b&&le<b&&(Z=Lt.ArrowRight,le=Ol(b,r.props)?P(Z,le):b),m&&le>m&&(Z=Lt.ArrowLeft,le=Ol(m,r.props)?P(Z,le):m),Ol(le,r.props)?((Z===Lt.PageUp||Z===Lt.Home)&&(Z=Lt.ArrowRight),(Z===Lt.PageDown||Z===Lt.End)&&(Z=Lt.ArrowLeft),le=P(Z,le)):ae=!0,G++}return le};if(q===Lt.Enter){i.preventDefault(),r.handleSelect(N,i),!A&&r.setPreSelection(N);return}else if(q===Lt.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(c=(l=r.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:iw});return}var X=null;switch(q){case Lt.ArrowLeft:case Lt.ArrowRight:case Lt.ArrowUp:case Lt.ArrowDown:case Lt.PageUp:case Lt.PageDown:case Lt.Home:case Lt.End:X=z(q,N);break}if(!X){(h=(d=r.props).onInputError)===null||h===void 0||h.call(d,{code:1,msg:iw});return}if(i.preventDefault(),r.setState({lastPreSelectChange:sw}),k&&r.setSelected(X),r.setPreSelection(X),R){var j=uo(N),O=uo(X),M=Un(N),T=Un(X);j!==O||M!==T?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var s=i.key;s===Lt.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,a=s.selectsRange,l=s.onChange;a?l==null||l([null,null],i):l==null||l(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:tt.createElement($Q,pr({showMonthYearDropdown:void 0,ref:function(a){r.calendar=a}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:n.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:wQ(r.modifyHolidays()),outsideClickIgnoreClass:B4,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:n.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,s=i.dateFormat,a=s===void 0?n.defaultProps.dateFormat:s,l=i.locale,c=r.props.showTimeInput||r.props.showTimeSelect,d=c?"PPPPp":"PPPP",h;return r.props.selectsRange?h="Selected start date: ".concat(kl(r.props.startDate,{dateFormat:d,locale:l}),". ").concat(r.props.endDate?"End date: "+kl(r.props.endDate,{dateFormat:d,locale:l}):""):r.props.showTimeSelectOnly?h="Selected time: ".concat(kl(r.props.selected,{dateFormat:a,locale:l})):r.props.showYearPicker?h="Selected year: ".concat(kl(r.props.selected,{dateFormat:"yyyy",locale:l})):r.props.showMonthYearPicker?h="Selected month: ".concat(kl(r.props.selected,{dateFormat:"MMMM yyyy",locale:l})):r.props.showQuarterYearPicker?h="Selected quarter: ".concat(kl(r.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):h="Selected date: ".concat(kl(r.props.selected,{dateFormat:d,locale:l})),tt.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},h)},r.renderDateInput=function(){var i,s,a,l=ba(r.props.className,(i={},i[B4]=r.state.open,i)),c=r.props.customInput||tt.createElement("input",{type:"text"}),d=r.props.customInputRef||"ref",h=r.props,g=h.dateFormat,b=g===void 0?n.defaultProps.dateFormat:g,m=h.locale,x=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?sQ(r.props.startDate,r.props.endDate,{dateFormat:b,locale:m}):r.props.selectsMultiple?aQ((a=r.props.selectedDates)!==null&&a!==void 0?a:[],{dateFormat:b,locale:m}):kl(r.props.selected,{dateFormat:b,locale:m});return K.cloneElement(c,(s={},s[d]=function(y){r.input=y},s.value=x,s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=ba(c.props.className,l),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,a=i.disabled,l=i.selected,c=i.startDate,d=i.endDate,h=i.clearButtonTitle,g=i.clearButtonClassName,b=g===void 0?"":g,m=i.ariaLabelClose,x=m===void 0?"Close":m,y=i.selectedDates;return s&&(l!=null||c!=null||d!=null||y!=null&&y.length)?tt.createElement("button",{type:"button",className:ba("react-datepicker__close-icon",b,{"react-datepicker__close-icon--disabled":a}),disabled:a,"aria-label":x,onClick:r.onClearClick,title:h,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(n,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:rb,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.componentDidUpdate=function(t,r){var i,s,a,l;t.inline&&KQ(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:L4(this.props.highlightDates)}),!r.focused&&!Bh(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((l=(a=this.props).onCalendarClose)===null||l===void 0||l.call(a)))},n.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,i=t.icon,s=t.calendarIconClassname,a=t.calendarIconClassName,l=t.toggleCalendarOnIconClick,c=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),tt.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&tt.createElement(HQ,pr({icon:i,className:ba(a,!a&&s,c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},n.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?tt.createElement(XO,{enableTabLoop:this.props.enableTabLoop},tt.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=tt.createElement(KO,pr({portalId:this.props.portalId},this.props),r)),tt.createElement("div",null,this.renderInputContainer(),r)}return tt.createElement(QQ,pr({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},n}(K.Component),ZQ="input",sw="navigate";const JQ=Eu($t)({width:"100%"}),ZO=tt.forwardRef((e,n)=>f.jsx(JQ,{...e,inputRef:n,fullWidth:!0}));ZO.displayName="CustomInput";const eK=({value:e,onChange:n})=>f.jsx(be,{sx:{mb:2},children:f.jsx(XQ,{selected:e,onChange:t=>n(t),showTimeSelect:!0,dateFormat:"Pp",customInput:f.jsx(ZO,{label:"Schedule Publish Date & Time"})})}),tK=K.lazy(()=>Wi(()=>import("./MaterialImportWrapper-BWelgX49.js"),__vite__mapDeps([3,4,1,5]))),nK=({src:e,alt:n})=>{const[t,r]=K.useState(!1),[i,s]=K.useState(!1);return K.useEffect(()=>{const a=new Image;return a.src=e,a.onload=()=>r(!0),a.onerror=()=>s(!0),()=>{a.onload=null,a.onerror=null}},[e]),i?f.jsx(be,{sx:{width:"50%",height:150,bgcolor:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:1,border:"1px dashed #ccc",marginBottom:"16px"},children:f.jsx(ce,{variant:"body2",color:"text.secondary",children:"Image failed to load"})}):f.jsxs(f.Fragment,{children:[!t&&f.jsx(lT,{variant:"rectangular",width:"50%",height:150,sx:{borderRadius:1,marginBottom:"16px"}}),f.jsx(Nx,{in:t,timeout:300,children:f.jsx(be,{sx:{display:t?"block":"none"},children:f.jsx("img",{src:e,alt:n,style:{maxWidth:"50%",marginBottom:"16px",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"all 0.2s ease-in-out"}})})})]})},JO=({materialData:e})=>{var Zt,nn,Rn,Mn,Nr,Zn,In,Bt,vn,Di,cr,Vr,Li,Ot,zn,Jn,xr,nr,rr,gn,va,Xi,Zi,hi,pi,Gn,si,Qn,sa,wa,fs,vr,Va,ho;const n=Ai(),{userDetails:t}=Ii(),r=Xn(),{uploadedFile:i,uploadOriginalFile:s,originalFileUrl:a,originalFileUploadProgress:l}=up(),[c]=Yg(),d=c.get("course"),[h,g]=K.useState((e==null?void 0:e.course)||d||""),[b,m]=K.useState((e==null?void 0:e.id)||null),[x,y]=K.useState((e==null?void 0:e.title)||""),[A,w]=K.useState((e==null?void 0:e.header)||{title:"Header",content:""}),[C,k]=K.useState((e==null?void 0:e.footer)||{title:"Footer",content:""}),[R,q]=K.useState((e==null?void 0:e.sections)||[{id:Pa(),title:"Section 1",content:"",subsections:[],images:[],links:[]}]),[D,N]=K.useState({sectionIndex:0}),[P,z]=K.useState(!1),[X,j]=K.useState(""),[O,M]=K.useState("success"),[T,Q]=K.useState(!1),[H,Y]=K.useState(((Zt=e==null?void 0:e.scheduledTimestamp)==null?void 0:Zt.toDate())||null),[Z,ae]=K.useState(!1),[G,le]=K.useState("manual"),[U,B]=K.useState(!1),[ie,J]=K.useState(null),[ne,xe]=K.useState(null),[ye,Ae]=K.useState(!1);mO(R,D.sectionIndex||0,R.length>1),K.useEffect(()=>{const pt=wt=>{wt.key==="ArrowLeft"?Je("prev"):wt.key==="ArrowRight"&&Je("next")};return window.addEventListener("keydown",pt),()=>{window.removeEventListener("keydown",pt)}},[D,R]);const Ne=async(pt,wt=!1,St)=>{pt.preventDefault();try{const Rt=R.some(Tt=>{var an,En;return((an=Tt.images)==null?void 0:an.some(Kn=>Kn.url.startsWith("blob:")))||((En=Tt.subsections)==null?void 0:En.some(Kn=>{var jr;return(jr=Kn.images)==null?void 0:jr.some(mi=>mi.url.startsWith("blob:"))}))});if(U&&Rt){const Tt=await ra(Sn(r,"materials"),{course:h,title:x,header:A,footer:C,sections:[],author:(t==null?void 0:t.uid)||"",timestamp:xc(),published:!1,scheduledTimestamp:null}),an=Tt.id;m(an);try{j("Uploading images..."),M("info"),z(!0);const En=600*1e3,Kn=tS(h,(t==null?void 0:t.uid)||"",an,(Hn,Tr)=>{J({completed:Hn,total:Tr})}),jr=new Promise((Hn,Tr)=>{setTimeout(()=>Tr(new Error("Image upload timeout - taking too long")),En)}),mi=await Promise.race([Kn,jr]),Ya={sections:mi.sections,published:wt,scheduledTimestamp:St?$s.fromDate(St):null};a&&i&&(Ya.originalFile={name:i.name,type:i.type,size:i.size,url:a,uploadedAt:xc()},console.log(" Adding original file info to material:",{name:i.name,type:i.type,size:i.size})),await Rr(Tt,Ya),q(mi.sections),B(!1),J(null),j(`Material ${wt?"published":"saved"} successfully with images!`)}catch(En){console.error("Image upload failed:",En);const Kn=En instanceof Error?En.message:"Unknown error occurred";xe(Kn),J(null),await Rr(Tt,{sections:R,published:wt,scheduledTimestamp:St?$s.fromDate(St):null}),j("Material saved, but some images failed to upload"),M("warning")}}else if(b){const Tt=fn(r,"materials",b),an={course:h,title:x,header:A,footer:C,sections:R,published:wt,scheduledTimestamp:St?$s.fromDate(St):null};a&&i&&(an.originalFile={name:i.name,type:i.type,size:i.size,url:a,uploadedAt:xc()},console.log(" Adding original file info to updated material:",{name:i.name,type:i.type,size:i.size})),await Rr(Tt,an),j("Material updated successfully")}else{console.log("Saving material with sections:",R.map(En=>{var Kn,jr;return{title:En.title,imageCount:((Kn=En.images)==null?void 0:Kn.length)||0,images:(jr=En.images)==null?void 0:jr.map(mi=>({url:mi.url.substring(0,100)+"...",title:mi.title}))}}));const Tt={course:h,title:x,header:A,footer:C,sections:R,author:(t==null?void 0:t.uid)||"",timestamp:xc(),published:wt,scheduledTimestamp:St?$s.fromDate(St):null};a&&i&&(Tt.originalFile={name:i.name,type:i.type,size:i.size,url:a,uploadedAt:xc()},console.log(" Adding original file info to new material:",{name:i.name,type:i.type,size:i.size}));const an=await ra(Sn(r,"materials"),Tt);m(an.id),j("Material saved successfully")}M("success"),z(!0),Q(!0),setTimeout(()=>Q(!1),3e3)}catch{j("Failed to save material"),M("error"),z(!0)}},Te=()=>{n(d?`/supplemental-materials?course=${d}`:"/supplemental-materials")},qe=pt=>{Ne(pt,!0)},$e=pt=>{Z&&H?Ne(pt,!1,H):ae(!0)},V=()=>{q([...R,{id:Pa(),title:`Section ${R.length+1}`,content:"",subsections:[],images:[],links:[]}])},we=pt=>{const wt=[...R],St=wt[pt];St.subsections.push({id:Pa(),title:`Subsection ${St.subsections.length+1}`,content:"",subSubsections:[],images:[],links:[]}),q(wt),N({sectionIndex:pt,subsectionIndex:St.subsections.length-1})},se=(pt,wt)=>{const St=[...R],Rt=St[pt].subsections[wt];Rt.subSubsections.push({id:Pa(),title:`Sub-Subsection ${Rt.subSubsections.length+1}`,content:"",images:[],links:[]}),q(St),N({sectionIndex:pt,subsectionIndex:wt,subSubsectionIndex:Rt.subSubsections.length-1})},he=(pt,wt,St,Rt)=>{const Tt=[...R];Rt!==void 0?Tt[pt].subsections[St].subSubsections[Rt].images=[...Tt[pt].subsections[St].subSubsections[Rt].images,...wt]:St!==void 0?Tt[pt].subsections[St].images=[...Tt[pt].subsections[St].images,...wt]:Tt[pt].images=[...Tt[pt].images,...wt],q(Tt)},de=(pt,wt,St,Rt)=>{const Tt=[...R];Rt!==void 0?Tt[pt].subsections[St].subSubsections[Rt].links=wt:St!==void 0?Tt[pt].subsections[St].links=wt:Tt[pt].links=wt,q(Tt)},ve=(pt,wt,St)=>{N({sectionIndex:typeof pt=="number"?pt:void 0,subsectionIndex:wt,subSubsectionIndex:St,type:typeof pt=="string"?pt:void 0})},Oe=(pt,wt)=>{const St=[...R];St[pt].title=wt,q(St)},Re=(pt,wt,St)=>{const Rt=[...R];Rt[pt].subsections[wt].title=St,q(Rt)},Ee=(pt,wt,St,Rt)=>{const Tt=[...R];Tt[pt].subsections[wt].subSubsections[St].title=Rt,q(Tt)},Ge=(pt,wt,St,Rt)=>{const Tt=[...R];Rt!==void 0?Tt[pt].subsections[St].subSubsections[Rt].content=wt:St!==void 0?Tt[pt].subsections[St].content=wt:Tt[pt].content=wt,q(Tt)},Xe=pt=>{w({...A,content:pt})},Be=pt=>{k({...C,content:pt})},rt=pt=>{const wt=R.filter((St,Rt)=>Rt!==pt);q(wt),wt.length===0?N({sectionIndex:void 0,type:"header"}):pt>=wt.length?N({sectionIndex:wt.length-1}):N({sectionIndex:pt})},je=(pt,wt)=>{var Rt;const St=[...R];(Rt=St[pt])!=null&&Rt.subsections&&(St[pt].subsections=St[pt].subsections.filter((Tt,an)=>an!==wt),q(St),St[pt].subsections.length===0?N({sectionIndex:pt}):wt>=St[pt].subsections.length?N({sectionIndex:pt,subsectionIndex:St[pt].subsections.length-1}):N({sectionIndex:pt,subsectionIndex:wt}))},He=(pt,wt,St)=>{var an,En;const Rt=[...R],Tt=(En=(an=Rt[pt])==null?void 0:an.subsections)==null?void 0:En[wt];Tt&&Tt.subSubsections&&(Tt.subSubsections=Tt.subSubsections.filter((Kn,jr)=>jr!==St),q(Rt),Tt.subSubsections.length?St>=Tt.subSubsections.length?N({sectionIndex:pt,subsectionIndex:wt,subSubsectionIndex:Tt.subSubsections.length-1}):N({sectionIndex:pt,subsectionIndex:wt,subSubsectionIndex:St}):N({sectionIndex:pt,subsectionIndex:wt}))},Je=pt=>{const{sectionIndex:wt,subsectionIndex:St,subSubsectionIndex:Rt,type:Tt}=D;if(pt==="prev")if(Rt!==void 0&&Rt>0)N({sectionIndex:wt,subsectionIndex:St,subSubsectionIndex:Rt-1});else if(Rt!==void 0&&Rt===0)N({sectionIndex:wt,subsectionIndex:St});else if(St!==void 0&&St>0)N({sectionIndex:wt,subsectionIndex:St-1});else if(St!==void 0&&St===0)N({sectionIndex:wt});else if(wt>0){const an=R[wt-1];N({sectionIndex:wt-1,subsectionIndex:an.subsections.length?an.subsections.length-1:void 0,subSubsectionIndex:an.subsections.length?an.subsections[an.subsections.length-1].subSubsections.length-1:void 0})}else Tt==="footer"?N({sectionIndex:R.length-1,type:"footer"}):wt===void 0&&Tt==="header"&&N({sectionIndex:R.length-1});else pt==="next"&&(Rt===void 0&&St!==void 0&&R[wt].subsections[St].subSubsections.length?N({sectionIndex:wt,subsectionIndex:St,subSubsectionIndex:0}):Rt!==void 0&&Rt<R[wt].subsections[St].subSubsections.length-1?N({sectionIndex:wt,subsectionIndex:St,subSubsectionIndex:Rt+1}):Rt!==void 0&&Rt===R[wt].subsections[St].subSubsections.length-1&&St<R[wt].subsections.length-1?N({sectionIndex:wt,subsectionIndex:St+1}):St===void 0&&R[wt].subsections.length?N({sectionIndex:wt,subsectionIndex:0}):St!==void 0&&St<R[wt].subsections.length-1?N({sectionIndex:wt,subsectionIndex:St+1}):St!==void 0&&St===R[wt].subsections.length-1&&wt<R.length-1?N({sectionIndex:wt+1}):wt<R.length-1?N({sectionIndex:wt+1}):wt===R.length-1&&St===void 0&&N({sectionIndex:void 0,type:"footer"}))},At=D.type==="header"||D.type==="footer"?"":D.sectionIndex!==void 0?D.subSubsectionIndex!==void 0?((nn=R[D.sectionIndex].subsections[D.subsectionIndex].subSubsections[D.subSubsectionIndex])==null?void 0:nn.content)||"":D.subsectionIndex!==void 0?((Rn=R[D.sectionIndex].subsections[D.subsectionIndex])==null?void 0:Rn.content)||"":((Mn=R[D.sectionIndex])==null?void 0:Mn.content)||"":"",lt=D.type==="header"||D.type==="footer"?"":D.sectionIndex!==void 0?D.subSubsectionIndex!==void 0?((Nr=R[D.sectionIndex].subsections[D.subsectionIndex].subSubsections[D.subSubsectionIndex])==null?void 0:Nr.title)||"":D.subsectionIndex!==void 0?((Zn=R[D.sectionIndex].subsections[D.subsectionIndex])==null?void 0:Zn.title)||"":((In=R[D.sectionIndex])==null?void 0:In.title)||"":"",tn=(pt,wt,St,Rt)=>{const Tt=[...R];Rt!==void 0?Tt[pt].subsections[St].subSubsections[Rt].images=Tt[pt].subsections[St].subSubsections[Rt].images.filter(an=>an.url!==wt):St!==void 0?Tt[pt].subsections[St].images=Tt[pt].subsections[St].images.filter(an=>an.url!==wt):Tt[pt].images=Tt[pt].images.filter(an=>an.url!==wt),q(Tt)},jt=(pt,wt)=>{wt!==null&&le(wt)},_n=async pt=>{if(y(pt.title),w(pt.header),k(pt.footer),q(pt.sections),g(pt.course),B(!0),i&&pt.course)try{console.log(" Uploading original file for AI-imported material..."),await s(pt.course),console.log(" Original file uploaded successfully")}catch(wt){console.error(" Failed to upload original file:",wt),j("Material imported successfully, but original file upload failed. You can still save the material."),M("warning"),z(!0);return}le("manual"),j("Material imported successfully! You can now edit and save it."),M("success"),z(!0),N({sectionIndex:0})},Gt=()=>{le("manual")},Xt=async()=>{if(!b||!h||!(t!=null&&t.uid)){j("Cannot retry - missing material information"),M("error"),z(!0);return}Ae(!0),xe(null),J({completed:0,total:1});try{j("Analyzing existing images and retrying failed uploads..."),M("info"),z(!0);const pt=600*1e3,wt=[];let St=0;if(R.forEach((Kn,jr)=>{var mi,Ya;(mi=Kn.images)==null||mi.forEach((Hn,Tr)=>{(!Hn.url||Hn.url.startsWith("data:image/svg+xml"))&&(wt.push({sectionIndex:jr,imageIndex:Tr}),St++)}),(Ya=Kn.subsections)==null||Ya.forEach((Hn,Tr)=>{var aa,Ga;(aa=Hn.images)==null||aa.forEach((Ri,Qa)=>{(!Ri.url||Ri.url.startsWith("data:image/svg+xml"))&&(wt.push({sectionIndex:jr,subsectionIndex:Tr,imageIndex:Qa}),St++)}),(Ga=Hn.subSubsections)==null||Ga.forEach((Ri,Qa)=>{var Ci;(Ci=Ri.images)==null||Ci.forEach((Ka,dr)=>{(!Ka.url||Ka.url.startsWith("data:image/svg+xml"))&&(wt.push({sectionIndex:jr,subsectionIndex:Tr,subSubsectionIndex:Qa,imageIndex:dr}),St++)})})})}),console.log(`Found ${St} images that need uploading (out of total images)`),St===0){j("All images are already uploaded successfully!"),M("success"),z(!0),xe(null),J(null);return}j(`Retrying upload for ${St} failed images...`);const Rt=tS(h,t.uid,b,(Kn,jr)=>{J({completed:Kn,total:jr}),console.log(`Retry image upload progress: ${Kn}/${jr}`)}),Tt=new Promise((Kn,jr)=>{setTimeout(()=>jr(new Error("Image upload timeout - taking too long")),pt)}),an=await Promise.race([Rt,Tt]),En=fn(r,"materials",b);await Rr(En,{sections:an.sections}),q(an.sections),J(null),xe(null),j("Images uploaded successfully!"),M("success"),z(!0)}catch(pt){console.error("Retry image upload failed:",pt);const wt=pt instanceof Error?pt.message:"Unknown error occurred";xe(wt),J(null),j(`Image upload retry failed: ${wt}`),M("error"),z(!0)}finally{Ae(!1)}};return f.jsx(be,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:f.jsxs(be,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[f.jsx(be,{sx:{width:"450px",ml:2,mt:2},children:f.jsx(l7,{})}),f.jsxs(On,{elevation:2,sx:{mx:2,mt:2,p:2},children:[f.jsx(ce,{variant:"h6",gutterBottom:!0,children:" Create Material"}),f.jsxs(E6,{value:G,exclusive:!0,onChange:jt,"aria-label":"import mode",fullWidth:!0,sx:{mb:2},children:[f.jsxs(z0,{value:"manual","aria-label":"manual creation",children:[f.jsx(em,{sx:{mr:1}}),"Manual Creation"]}),f.jsxs(z0,{value:"ai","aria-label":"ai import",children:[f.jsx(yR,{sx:{mr:1}}),"AI Import"]})]}),G==="ai"&&f.jsx(tr,{severity:"info",sx:{mb:2},children:f.jsx(ce,{variant:"body2",children:"Upload your presentation, document, or material and let AI automatically structure it into course content."})})]}),f.jsxs(f.Fragment,{children:[G==="ai"?f.jsx(be,{sx:{flexGrow:1,p:2},children:f.jsx(K.Suspense,{fallback:f.jsxs(be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:[f.jsx(Pr,{}),f.jsx(ce,{variant:"body2",sx:{ml:2},children:"Loading AI Import..."})]}),children:f.jsx(tK,{courseId:h,authorId:(t==null?void 0:t.uid)||"",onMaterialReady:_n,onCancel:Gt,onError:(pt,wt)=>{console.error("Material Import Error:",pt,wt),j(`Import error: ${pt.message}`),M("error"),z(!0)}})})}):f.jsxs(be,{sx:{display:"flex",flexGrow:1},children:[f.jsx(s7,{sections:R,selected:D,onAddSection:V,onAddSubsection:we,onAddSubSubsection:se,onSelectSection:ve,onUpdateSectionTitle:Oe,onUpdateSubsectionTitle:Re,onUpdateSubSubsectionTitle:Ee,onDeleteSection:rt,onDeleteSubsection:je,onDeleteSubSubsection:He}),f.jsxs(be,{sx:{flexGrow:1,padding:3},children:[f.jsx($t,{label:"Material Title",variant:"outlined",fullWidth:!0,value:x,onChange:pt=>y(pt.target.value),sx:{mb:2}}),f.jsx(gW,{value:h,onChange:g}),H&&f.jsxs(ce,{variant:"body1",gutterBottom:!0,children:["Scheduled Publish Date & Time: ",H.toLocaleString()]}),f.jsxs(be,{sx:{borderRadius:1,padding:2,mb:2},children:[f.jsx(be,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:f.jsx(ce,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Header"})}),f.jsx(r4,{content:A.content,onChange:Xe})]}),f.jsx(ce,{variant:"h4",align:"center",gutterBottom:!0,children:lt}),D.type!=="header"&&D.type!=="footer"&&f.jsxs(f.Fragment,{children:[f.jsx(pW,{content:At,onChange:pt=>Ge(D.sectionIndex,pt,D.subsectionIndex,D.subSubsectionIndex)},`${D.sectionIndex}-${D.subsectionIndex}-${D.subSubsectionIndex}`),f.jsx(yF,{sectionId:D.sectionIndex!==void 0?D.subSubsectionIndex!==void 0&&D.subsectionIndex!==void 0?((Vr=(cr=(Di=(vn=(Bt=R[D.sectionIndex])==null?void 0:Bt.subsections)==null?void 0:vn[D.subsectionIndex])==null?void 0:Di.subSubsections)==null?void 0:cr[D.subSubsectionIndex])==null?void 0:Vr.id)||"":D.subsectionIndex!==void 0?((zn=(Ot=(Li=R[D.sectionIndex])==null?void 0:Li.subsections)==null?void 0:Ot[D.subsectionIndex])==null?void 0:zn.id)||"":((Jn=R[D.sectionIndex])==null?void 0:Jn.id)||"":"",onImagesUploaded:pt=>he(D.sectionIndex,pt,D.subsectionIndex,D.subSubsectionIndex)}),(D.subSubsectionIndex!==void 0?((va=(gn=(rr=(nr=(xr=R[D.sectionIndex])==null?void 0:xr.subsections)==null?void 0:nr[D.subsectionIndex])==null?void 0:rr.subSubsections)==null?void 0:gn[D.subSubsectionIndex])==null?void 0:va.images)||[]:D.subsectionIndex!==void 0?((hi=(Zi=(Xi=R[D.sectionIndex])==null?void 0:Xi.subsections)==null?void 0:Zi[D.subsectionIndex])==null?void 0:hi.images)||[]:((pi=R[D.sectionIndex])==null?void 0:pi.images)||[]).map((pt,wt)=>f.jsxs(be,{sx:{position:"relative",mt:2},children:[f.jsx(nK,{src:pt.url,alt:`Section ${D.sectionIndex+1} Image ${wt+1}`,title:pt.title}),f.jsx(xF,{imageTitle:pt.title,onTitleChange:St=>{var Tt,an;const Rt=[...R];if(D.sectionIndex!==void 0)if(D.subSubsectionIndex!==void 0&&D.subsectionIndex!==void 0){const En=(an=(Tt=Rt[D.sectionIndex].subsections)==null?void 0:Tt[D.subsectionIndex])==null?void 0:an.subSubsections;En&&En[D.subSubsectionIndex]&&(En[D.subSubsectionIndex].images[wt].title=St)}else if(D.subsectionIndex!==void 0){const En=Rt[D.sectionIndex].subsections;En&&En[D.subsectionIndex]&&(En[D.subsectionIndex].images[wt].title=St)}else Rt[D.sectionIndex].images[wt].title=St;q(Rt)}}),f.jsx(mn,{sx:{position:"absolute",top:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.7)"},onClick:()=>tn(D.sectionIndex,pt.url,D.subsectionIndex,D.subSubsectionIndex),children:f.jsx(nm,{})})]},`${pt.url}-${wt}`)),f.jsx(AF,{links:D.sectionIndex!==void 0?D.subSubsectionIndex!==void 0&&D.subsectionIndex!==void 0?((wa=(sa=(Qn=(si=(Gn=R[D.sectionIndex])==null?void 0:Gn.subsections)==null?void 0:si[D.subsectionIndex])==null?void 0:Qn.subSubsections)==null?void 0:sa[D.subSubsectionIndex])==null?void 0:wa.links)||[]:D.subsectionIndex!==void 0?((Va=(vr=(fs=R[D.sectionIndex])==null?void 0:fs.subsections)==null?void 0:vr[D.subsectionIndex])==null?void 0:Va.links)||[]:((ho=R[D.sectionIndex])==null?void 0:ho.links)||[]:[],onLinksChange:pt=>de(D.sectionIndex,pt,D.subsectionIndex,D.subSubsectionIndex)})]}),f.jsxs(be,{sx:{borderRadius:1,padding:2,mt:2},children:[f.jsx(be,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:f.jsx(ce,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Footer"})}),f.jsx(r4,{content:C.content,onChange:Be})]}),ie&&f.jsxs(be,{sx:{mb:2,p:2,border:"1px solid #e0e0e0",borderRadius:1,bgcolor:"#f5f5f5"},children:[f.jsxs(ce,{variant:"body2",gutterBottom:!0,children:[ye?"Retrying image upload...":"Uploading images:"," ",ie.completed," / ",ie.total]}),f.jsx(il,{variant:"determinate",value:ie.completed/ie.total*100,sx:{height:8,borderRadius:1}})]}),ne&&!ie&&f.jsxs(be,{sx:{mb:2,p:2,border:"1px solid #f44336",borderRadius:1,bgcolor:"#ffebee"},children:[f.jsxs(ce,{variant:"body2",color:"error",gutterBottom:!0,children:["Image upload failed: ",ne]}),f.jsx(at,{variant:"contained",color:"primary",size:"small",onClick:Xt,disabled:ye,startIcon:ye?f.jsx(Pr,{size:16}):f.jsx(oT,{}),sx:{mt:1},children:ye?"Retrying...":"Retry Image Upload"})]}),f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between"},children:[f.jsx(na,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:f.jsx("span",{children:f.jsx(mn,{onClick:()=>Je("prev"),disabled:D.sectionIndex===0&&D.subsectionIndex===void 0&&D.type==="header",children:f.jsx(a7,{})})})}),f.jsx(na,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:f.jsx("span",{children:f.jsx(mn,{onClick:()=>Je("next"),disabled:D.sectionIndex===R.length-1&&(D.subsectionIndex===void 0||D.subsectionIndex===R[D.sectionIndex].subsections.length-1)&&D.type==="footer",children:f.jsx(o7,{})})})})]}),f.jsxs(be,{sx:{mt:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsx(at,{type:"button",variant:"outlined",onClick:Te,className:"supplemental-button cancel-button",children:"Cancel"}),f.jsxs(be,{sx:{display:"flex",alignItems:"center"},children:[f.jsx(at,{type:"submit",variant:"outlined",onClick:pt=>Ne(pt,!1),className:"supplemental-button save-button",children:"Save"}),T&&f.jsx(ce,{variant:"body2",sx:{fontStyle:"italic",ml:1},children:"Changes Saved"})]}),f.jsx(at,{type:"button",variant:"outlined",onClick:qe,className:"supplemental-button publish-button",children:"Publish"}),f.jsxs("div",{children:[Z&&f.jsx(eK,{value:H,onChange:Y}),f.jsx(at,{type:"button",variant:"outlined",onClick:$e,className:"supplemental-button schedule-publish-button",children:"Schedule Publish"})]})]})]})]}),f.jsx(fo,{open:P,autoHideDuration:6e3,onClose:()=>z(!1),children:f.jsx(tr,{onClose:()=>z(!1),severity:O,sx:{width:"100%"},children:X})})]})]})})},rK=()=>{const{id:e}=O6(),n=Xn(),{userDetails:t}=Ii(),[r,i]=K.useState(null),s=K.useMemo(()=>t!=null&&t.classes?Object.entries(t.classes).filter(([l,c])=>c.isCourseAdmin).map(([l])=>l):[],[t==null?void 0:t.classes]);K.useEffect(()=>{e&&(async()=>{var c;try{const d=fn(n,"materials",e),h=await xa(d);if(h.exists()){const g={id:h.id,...h.data()};g.sections=((c=g.sections)==null?void 0:c.map(b=>{var m,x;return{...b,images:((m=b.images)==null?void 0:m.map(y=>({...y,title:y.title||""})))||[],subsections:((x=b.subsections)==null?void 0:x.map(y=>{var A,w;return{...y,images:((A=y.images)==null?void 0:A.map(C=>({...C,title:C.title||""})))||[],subSubsections:((w=y.subSubsections)==null?void 0:w.map(C=>{var k;return{...C,images:((k=C.images)==null?void 0:k.map(R=>({...R,title:R.title||""})))||[]}}))||[]}}))||[]}}))||[],g.course=s.includes(g.course)?g.course:s[0]||"",i(g)}}catch(d){console.error("Error fetching material:",d)}})()},[e,n,t,s]);const a=async l=>{try{if(e){const c=fn(n,"materials",e);await Rr(c,{...l})}}catch(c){console.error("Error updating material:",c)}};return r?f.jsx(JO,{materialData:r,onSubmit:a}):f.jsx(be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:f.jsx(Pr,{})})},U4=Eu(be)(({theme:e})=>({marginBottom:e.spacing(4),textAlign:"center",position:"relative"})),iK=Eu("img")(({theme:e})=>({maxWidth:"100%",maxHeight:"500px",marginBottom:e.spacing(1),borderRadius:e.spacing(1),boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease-in-out","&:hover":{transform:"scale(1.02)",boxShadow:"0 8px 24px rgba(0,0,0,0.15)"}})),sK=Eu(lT)(({theme:e})=>({borderRadius:e.spacing(1),marginBottom:e.spacing(1)})),aK=({src:e,alt:n,title:t})=>{const[r,i]=K.useState(!1),[s,a]=K.useState(!1),[l]=K.useState(0);return K.useEffect(()=>{i(!1),a(!1);const c=new Image;return c.src=e,c.onload=()=>{console.log(` SmartImage loaded: ${e.substring(0,50)}...`),i(!0)},c.onerror=d=>{console.error(` SmartImage failed to load: ${e}`,d),console.error("Image details:",{src:e,naturalWidth:c.naturalWidth,naturalHeight:c.naturalHeight,complete:c.complete}),console.error("Image load failed. URL accessible via curl but blocked in browser."),console.error("This is likely a Firebase Storage CORS configuration issue."),console.error(`Fix: Configure CORS to allow ${window.location.origin}`),a(!0)},()=>{c.onload=null,c.onerror=null}},[e,l]),s?f.jsxs(U4,{children:[f.jsxs(be,{sx:{width:"100%",maxWidth:400,height:200,bgcolor:"#ffebee",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:1,border:"1px dashed #f44336",p:2},children:[f.jsx(ce,{variant:"body2",color:"error",gutterBottom:!0,children:"Image failed to load"}),f.jsx(ce,{variant:"caption",color:"text.secondary",sx:{textAlign:"center",wordBreak:"break-all"},children:t}),f.jsxs(ce,{variant:"caption",color:"text.secondary",sx:{mt:1,fontSize:"0.7rem"},children:["URL: ",e.substring(0,60),"..."]})]}),f.jsx(ce,{variant:"body2",sx:{fontStyle:"italic",mt:1},children:t})]}):f.jsxs(U4,{children:[!r&&f.jsx(sK,{variant:"rectangular",width:"100%",height:300,sx:{maxWidth:400}}),f.jsx(Nx,{in:r,timeout:500,children:f.jsx(be,{sx:{display:r?"block":"none"},children:f.jsx(iK,{src:e,alt:n,loading:"lazy"})})}),r&&f.jsx(Nx,{in:r,timeout:700,children:f.jsx(ce,{variant:"body2",sx:{fontStyle:"italic",color:"text.secondary"},children:t})})]})},aw=({images:e})=>f.jsx(be,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2},children:e.map((n,t)=>f.jsx(aK,{src:n.url,alt:`Image ${t+1}`,title:n.title,index:t},`${n.url}-${t}`))}),oK=e=>!e.startsWith("http://")&&!e.startsWith("https://")?`https://${e}`:e,lK=({links:e})=>e.length===0?null:f.jsxs(be,{sx:{mt:2,width:"50%"},children:[f.jsx(ce,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Links"}),f.jsxs(be,{sx:{display:"flex",mb:1,borderBottom:"1px solid gray"},children:[f.jsx(ce,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"Title"}),f.jsx(ce,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"URL"}),f.jsx(ce,{sx:{flexBasis:"40%",fontWeight:"bold"},children:"Description"})]}),e.map((n,t)=>f.jsx(be,{children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",mb:1,flexWrap:"wrap",borderBottom:"1px solid lightgray"},children:[f.jsx(ce,{sx:{flexBasis:"30%",fontStyle:"italic",wordWrap:"break-word",paddingRight:"8px"},children:n.title}),f.jsx(fg,{sx:{flexBasis:"30%",wordWrap:"break-word",paddingRight:"8px"},href:oK(n.url),target:"_blank",rel:"noopener",children:n.url}),f.jsx(ce,{sx:{flexBasis:"40%",wordWrap:"break-word"},children:n.description})]})},t))]});var za=Uint8Array,nl=Uint16Array,fA=Int32Array,Iv=new za([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Dv=new za([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),TS=new za([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),eI=function(e,n){for(var t=new nl(31),r=0;r<31;++r)t[r]=n+=1<<e[r-1];for(var i=new fA(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},tI=eI(Iv,2),nI=tI.b,OS=tI.r;nI[28]=258,OS[258]=28;var rI=eI(Dv,0),uK=rI.b,$4=rI.r,IS=new nl(32768);for(var vi=0;vi<32768;++vi){var Sf=(vi&43690)>>1|(vi&21845)<<1;Sf=(Sf&52428)>>2|(Sf&13107)<<2,Sf=(Sf&61680)>>4|(Sf&3855)<<4,IS[vi]=((Sf&65280)>>8|(Sf&255)<<8)>>1}var Ic=function(e,n,t){for(var r=e.length,i=0,s=new nl(n);i<r;++i)e[i]&&++s[e[i]-1];var a=new nl(n);for(i=1;i<n;++i)a[i]=a[i-1]+s[i-1]<<1;var l;if(t){l=new nl(1<<n);var c=15-n;for(i=0;i<r;++i)if(e[i])for(var d=i<<4|e[i],h=n-e[i],g=a[e[i]-1]++<<h,b=g|(1<<h)-1;g<=b;++g)l[IS[g]>>c]=d}else for(l=new nl(r),i=0;i<r;++i)e[i]&&(l[i]=IS[a[e[i]-1]++]>>15-e[i]);return l},Yf=new za(288);for(var vi=0;vi<144;++vi)Yf[vi]=8;for(var vi=144;vi<256;++vi)Yf[vi]=9;for(var vi=256;vi<280;++vi)Yf[vi]=7;for(var vi=280;vi<288;++vi)Yf[vi]=8;var Ng=new za(32);for(var vi=0;vi<32;++vi)Ng[vi]=5;var cK=Ic(Yf,9,0),dK=Ic(Yf,9,1),fK=Ic(Ng,5,0),hK=Ic(Ng,5,1),ow=function(e){for(var n=e[0],t=1;t<e.length;++t)e[t]>n&&(n=e[t]);return n},cu=function(e,n,t){var r=n/8|0;return(e[r]|e[r+1]<<8)>>(n&7)&t},lw=function(e,n){var t=n/8|0;return(e[t]|e[t+1]<<8|e[t+2]<<16)>>(n&7)},hA=function(e){return(e+7)/8|0},iI=function(e,n,t){return(t==null||t>e.length)&&(t=e.length),new za(e.subarray(n,t))},pK=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],pu=function(e,n,t){var r=new Error(n||pK[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,pu),!t)throw r;return r},mK=function(e,n,t,r){var i=e.length,s=0;if(!i||n.f&&!n.l)return t||new za(0);var a=!t,l=a||n.i!=2,c=n.i;a&&(t=new za(i*3));var d=function(Te){var qe=t.length;if(Te>qe){var $e=new za(Math.max(qe*2,Te));$e.set(t),t=$e}},h=n.f||0,g=n.p||0,b=n.b||0,m=n.l,x=n.d,y=n.m,A=n.n,w=i*8;do{if(!m){h=cu(e,g,1);var C=cu(e,g+1,3);if(g+=3,C)if(C==1)m=dK,x=hK,y=9,A=5;else if(C==2){var D=cu(e,g,31)+257,N=cu(e,g+10,15)+4,P=D+cu(e,g+5,31)+1;g+=14;for(var z=new za(P),X=new za(19),j=0;j<N;++j)X[TS[j]]=cu(e,g+j*3,7);g+=N*3;for(var O=ow(X),M=(1<<O)-1,T=Ic(X,O,1),j=0;j<P;){var Q=T[cu(e,g,M)];g+=Q&15;var k=Q>>4;if(k<16)z[j++]=k;else{var H=0,Y=0;for(k==16?(Y=3+cu(e,g,3),g+=2,H=z[j-1]):k==17?(Y=3+cu(e,g,7),g+=3):k==18&&(Y=11+cu(e,g,127),g+=7);Y--;)z[j++]=H}}var Z=z.subarray(0,D),ae=z.subarray(D);y=ow(Z),A=ow(ae),m=Ic(Z,y,1),x=Ic(ae,A,1)}else pu(1);else{var k=hA(g)+4,R=e[k-4]|e[k-3]<<8,q=k+R;if(q>i){c&&pu(0);break}l&&d(b+R),t.set(e.subarray(k,q),b),n.b=b+=R,n.p=g=q*8,n.f=h;continue}if(g>w){c&&pu(0);break}}l&&d(b+131072);for(var G=(1<<y)-1,le=(1<<A)-1,U=g;;U=g){var H=m[lw(e,g)&G],B=H>>4;if(g+=H&15,g>w){c&&pu(0);break}if(H||pu(2),B<256)t[b++]=B;else if(B==256){U=g,m=null;break}else{var ie=B-254;if(B>264){var j=B-257,J=Iv[j];ie=cu(e,g,(1<<J)-1)+nI[j],g+=J}var ne=x[lw(e,g)&le],xe=ne>>4;ne||pu(3),g+=ne&15;var ae=uK[xe];if(xe>3){var J=Dv[xe];ae+=lw(e,g)&(1<<J)-1,g+=J}if(g>w){c&&pu(0);break}l&&d(b+131072);var ye=b+ie;if(b<ae){var Ae=s-ae,Ne=Math.min(ae,ye);for(Ae+b<0&&pu(3);b<Ne;++b)t[b]=r[Ae+b]}for(;b<ye;++b)t[b]=t[b-ae]}}n.l=m,n.p=U,n.b=b,n.f=h,m&&(h=1,n.m=y,n.d=x,n.n=A)}while(!h);return b!=t.length&&a?iI(t,0,b):t.subarray(0,b)},bd=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>8},w1=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>8,e[r+2]|=t>>16},uw=function(e,n){for(var t=[],r=0;r<e.length;++r)e[r]&&t.push({s:r,f:e[r]});var i=t.length,s=t.slice();if(!i)return{t:aI,l:0};if(i==1){var a=new za(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(q,D){return q.f-D.f}),t.push({s:-1,f:25001});var l=t[0],c=t[1],d=0,h=1,g=2;for(t[0]={s:-1,f:l.f+c.f,l,r:c};h!=i-1;)l=t[t[d].f<t[g].f?d++:g++],c=t[d!=h&&t[d].f<t[g].f?d++:g++],t[h++]={s:-1,f:l.f+c.f,l,r:c};for(var b=s[0].s,r=1;r<i;++r)s[r].s>b&&(b=s[r].s);var m=new nl(b+1),x=DS(t[h-1],m,0);if(x>n){var r=0,y=0,A=x-n,w=1<<A;for(s.sort(function(D,N){return m[N.s]-m[D.s]||D.f-N.f});r<i;++r){var C=s[r].s;if(m[C]>n)y+=w-(1<<x-m[C]),m[C]=n;else break}for(y>>=A;y>0;){var k=s[r].s;m[k]<n?y-=1<<n-m[k]++-1:++r}for(;r>=0&&y;--r){var R=s[r].s;m[R]==n&&(--m[R],++y)}x=n}return{t:new za(m),l:x}},DS=function(e,n,t){return e.s==-1?Math.max(DS(e.l,n,t+1),DS(e.r,n,t+1)):n[e.s]=t},H4=function(e){for(var n=e.length;n&&!e[--n];);for(var t=new nl(++n),r=0,i=e[0],s=1,a=function(c){t[r++]=c},l=1;l<=n;++l)if(e[l]==i&&l!=n)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[l]}return{c:t.subarray(0,r),n}},S1=function(e,n){for(var t=0,r=0;r<n.length;++r)t+=e[r]*n[r];return t},sI=function(e,n,t){var r=t.length,i=hA(n+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=t[s];return(i+4+r)*8},W4=function(e,n,t,r,i,s,a,l,c,d,h){bd(n,h++,t),++i[256];for(var g=uw(i,15),b=g.t,m=g.l,x=uw(s,15),y=x.t,A=x.l,w=H4(b),C=w.c,k=w.n,R=H4(y),q=R.c,D=R.n,N=new nl(19),P=0;P<C.length;++P)++N[C[P]&31];for(var P=0;P<q.length;++P)++N[q[P]&31];for(var z=uw(N,7),X=z.t,j=z.l,O=19;O>4&&!X[TS[O-1]];--O);var M=d+5<<3,T=S1(i,Yf)+S1(s,Ng)+a,Q=S1(i,b)+S1(s,y)+a+14+3*O+S1(N,X)+2*N[16]+3*N[17]+7*N[18];if(c>=0&&M<=T&&M<=Q)return sI(n,h,e.subarray(c,c+d));var H,Y,Z,ae;if(bd(n,h,1+(Q<T)),h+=2,Q<T){H=Ic(b,m,0),Y=b,Z=Ic(y,A,0),ae=y;var G=Ic(X,j,0);bd(n,h,k-257),bd(n,h+5,D-1),bd(n,h+10,O-4),h+=14;for(var P=0;P<O;++P)bd(n,h+3*P,X[TS[P]]);h+=3*O;for(var le=[C,q],U=0;U<2;++U)for(var B=le[U],P=0;P<B.length;++P){var ie=B[P]&31;bd(n,h,G[ie]),h+=X[ie],ie>15&&(bd(n,h,B[P]>>5&127),h+=B[P]>>12)}}else H=cK,Y=Yf,Z=fK,ae=Ng;for(var P=0;P<l;++P){var J=r[P];if(J>255){var ie=J>>18&31;w1(n,h,H[ie+257]),h+=Y[ie+257],ie>7&&(bd(n,h,J>>23&31),h+=Iv[ie]);var ne=J&31;w1(n,h,Z[ne]),h+=ae[ne],ne>3&&(w1(n,h,J>>5&8191),h+=Dv[ne])}else w1(n,h,H[J]),h+=Y[J]}return w1(n,h,H[256]),h+Y[256]},gK=new fA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),aI=new za(0),bK=function(e,n,t,r,i,s){var a=s.z||e.length,l=new za(r+a+5*(1+Math.ceil(a/7e3))+i),c=l.subarray(r,l.length-i),d=s.l,h=(s.r||0)&7;if(n){h&&(c[0]=s.r>>3);for(var g=gK[n-1],b=g>>13,m=g&8191,x=(1<<t)-1,y=s.p||new nl(32768),A=s.h||new nl(x+1),w=Math.ceil(t/3),C=2*w,k=function(V){return(e[V]^e[V+1]<<w^e[V+2]<<C)&x},R=new fA(25e3),q=new nl(288),D=new nl(32),N=0,P=0,z=s.i||0,X=0,j=s.w||0,O=0;z+2<a;++z){var M=k(z),T=z&32767,Q=A[M];if(y[T]=Q,A[M]=T,j<=z){var H=a-z;if((N>7e3||X>24576)&&(H>423||!d)){h=W4(e,c,0,R,q,D,P,X,O,z-O,h),X=N=P=0,O=z;for(var Y=0;Y<286;++Y)q[Y]=0;for(var Y=0;Y<30;++Y)D[Y]=0}var Z=2,ae=0,G=m,le=T-Q&32767;if(H>2&&M==k(z-le))for(var U=Math.min(b,H)-1,B=Math.min(32767,z),ie=Math.min(258,H);le<=B&&--G&&T!=Q;){if(e[z+Z]==e[z+Z-le]){for(var J=0;J<ie&&e[z+J]==e[z+J-le];++J);if(J>Z){if(Z=J,ae=le,J>U)break;for(var ne=Math.min(le,J-2),xe=0,Y=0;Y<ne;++Y){var ye=z-le+Y&32767,Ae=y[ye],Ne=ye-Ae&32767;Ne>xe&&(xe=Ne,Q=ye)}}}T=Q,Q=y[T],le+=T-Q&32767}if(ae){R[X++]=268435456|OS[Z]<<18|$4[ae];var Te=OS[Z]&31,qe=$4[ae]&31;P+=Iv[Te]+Dv[qe],++q[257+Te],++D[qe],j=z+Z,++N}else R[X++]=e[z],++q[e[z]]}}for(z=Math.max(z,j);z<a;++z)R[X++]=e[z],++q[e[z]];h=W4(e,c,d,R,q,D,P,X,O,z-O,h),d||(s.r=h&7|c[h/8|0]<<3,h-=7,s.h=A,s.p=y,s.i=z,s.w=j)}else{for(var z=s.w||0;z<a+d;z+=65535){var $e=z+65535;$e>=a&&(c[h/8|0]=d,$e=a),h=sI(c,h+1,e.subarray(z,$e))}s.i=a}return iI(l,0,r+hA(h)+i)},oI=function(){var e=1,n=0;return{p:function(t){for(var r=e,i=n,s=t.length|0,a=0;a!=s;){for(var l=Math.min(a+2655,s);a<l;++a)i+=r+=t[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,n=i},d:function(){return e%=65521,n%=65521,(e&255)<<24|(e&65280)<<8|(n&255)<<8|n>>8}}},yK=function(e,n,t,r,i){if(!i&&(i={l:1},n.dictionary)){var s=n.dictionary.subarray(-32768),a=new za(s.length+e.length);a.set(s),a.set(e,s.length),e=a,i.w=s.length}return bK(e,n.level==null?6:n.level,n.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+n.mem,t,r,i)},lI=function(e,n,t){for(;t;++n)e[n]=t,t>>>=8},xK=function(e,n){var t=n.level,r=t==0?0:t<6?1:t==9?3:2;if(e[0]=120,e[1]=r<<6|(n.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,n.dictionary){var i=oI();i.p(n.dictionary),lI(e,2,i.d())}},vK=function(e,n){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&pu(6,"invalid zlib data"),(e[1]>>5&1)==1&&pu(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function LS(e,n){n||(n={});var t=oI();t.p(e);var r=yK(e,n,n.dictionary?6:2,4);return xK(r,n),lI(r,r.length-4,t.d()),r}function wK(e,n){return mK(e.subarray(vK(e),-4),{i:2},n,n)}var SK=typeof TextDecoder<"u"&&new TextDecoder,AK=0;try{SK.decode(aI,{stream:!0}),AK=1}catch{}var cn=function(){return typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:this}();function cw(){cn.console&&typeof cn.console.log=="function"&&cn.console.log.apply(cn.console,arguments)}var ri={log:cw,warn:function(e){cn.console&&(typeof cn.console.warn=="function"?cn.console.warn.apply(cn.console,arguments):cw.call(null,arguments))},error:function(e){cn.console&&(typeof cn.console.error=="function"?cn.console.error.apply(cn.console,arguments):cw(e))}};function dw(e,n,t){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Lh(r.response,n,t)},r.onerror=function(){ri.error("could not download file")},r.send()}function V4(e){var n=new XMLHttpRequest;n.open("HEAD",e,!1);try{n.send()}catch{}return n.status>=200&&n.status<=299}function qy(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var sg,RS,Lh=cn.saveAs||((typeof window>"u"?"undefined":ii(window))!=="object"||window!==cn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,n,t){var r=cn.URL||cn.webkitURL,i=document.createElement("a");n=n||e.name||"download",i.download=n,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?V4(i.href)?dw(e,n,t):qy(i,i.target="_blank"):qy(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){qy(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,t){if(n=n||e.name||"download",typeof e=="string")if(V4(e))dw(e,n,t);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){qy(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:ii(s)!=="object"&&(ri.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,t),n)}:function(e,n,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return dw(e,n,t);var i=e.type==="application/octet-stream",s=/constructor/i.test(cn.HTMLElement)||cn.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":ii(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=a?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},l.readAsDataURL(e)}else{var c=cn.URL||cn.webkitURL,d=c.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function uI(e){var n;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,a=i.exec(e);a&&(n=s(a),this.r=n[0],this.g=n[1],this.b=n[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function fw(e,n){var t=e[0],r=e[1],i=e[2],s=e[3];t=Oa(t,r,i,s,n[0],7,-680876936),s=Oa(s,t,r,i,n[1],12,-389564586),i=Oa(i,s,t,r,n[2],17,606105819),r=Oa(r,i,s,t,n[3],22,-1044525330),t=Oa(t,r,i,s,n[4],7,-176418897),s=Oa(s,t,r,i,n[5],12,1200080426),i=Oa(i,s,t,r,n[6],17,-1473231341),r=Oa(r,i,s,t,n[7],22,-45705983),t=Oa(t,r,i,s,n[8],7,1770035416),s=Oa(s,t,r,i,n[9],12,-1958414417),i=Oa(i,s,t,r,n[10],17,-42063),r=Oa(r,i,s,t,n[11],22,-1990404162),t=Oa(t,r,i,s,n[12],7,1804603682),s=Oa(s,t,r,i,n[13],12,-40341101),i=Oa(i,s,t,r,n[14],17,-1502002290),t=Ia(t,r=Oa(r,i,s,t,n[15],22,1236535329),i,s,n[1],5,-165796510),s=Ia(s,t,r,i,n[6],9,-1069501632),i=Ia(i,s,t,r,n[11],14,643717713),r=Ia(r,i,s,t,n[0],20,-373897302),t=Ia(t,r,i,s,n[5],5,-701558691),s=Ia(s,t,r,i,n[10],9,38016083),i=Ia(i,s,t,r,n[15],14,-660478335),r=Ia(r,i,s,t,n[4],20,-405537848),t=Ia(t,r,i,s,n[9],5,568446438),s=Ia(s,t,r,i,n[14],9,-1019803690),i=Ia(i,s,t,r,n[3],14,-187363961),r=Ia(r,i,s,t,n[8],20,1163531501),t=Ia(t,r,i,s,n[13],5,-1444681467),s=Ia(s,t,r,i,n[2],9,-51403784),i=Ia(i,s,t,r,n[7],14,1735328473),t=Da(t,r=Ia(r,i,s,t,n[12],20,-1926607734),i,s,n[5],4,-378558),s=Da(s,t,r,i,n[8],11,-2022574463),i=Da(i,s,t,r,n[11],16,1839030562),r=Da(r,i,s,t,n[14],23,-35309556),t=Da(t,r,i,s,n[1],4,-1530992060),s=Da(s,t,r,i,n[4],11,1272893353),i=Da(i,s,t,r,n[7],16,-155497632),r=Da(r,i,s,t,n[10],23,-1094730640),t=Da(t,r,i,s,n[13],4,681279174),s=Da(s,t,r,i,n[0],11,-358537222),i=Da(i,s,t,r,n[3],16,-722521979),r=Da(r,i,s,t,n[6],23,76029189),t=Da(t,r,i,s,n[9],4,-640364487),s=Da(s,t,r,i,n[12],11,-421815835),i=Da(i,s,t,r,n[15],16,530742520),t=La(t,r=Da(r,i,s,t,n[2],23,-995338651),i,s,n[0],6,-198630844),s=La(s,t,r,i,n[7],10,1126891415),i=La(i,s,t,r,n[14],15,-1416354905),r=La(r,i,s,t,n[5],21,-57434055),t=La(t,r,i,s,n[12],6,1700485571),s=La(s,t,r,i,n[3],10,-1894986606),i=La(i,s,t,r,n[10],15,-1051523),r=La(r,i,s,t,n[1],21,-2054922799),t=La(t,r,i,s,n[8],6,1873313359),s=La(s,t,r,i,n[15],10,-30611744),i=La(i,s,t,r,n[6],15,-1560198380),r=La(r,i,s,t,n[13],21,1309151649),t=La(t,r,i,s,n[4],6,-145523070),s=La(s,t,r,i,n[11],10,-1120210379),i=La(i,s,t,r,n[2],15,718787259),r=La(r,i,s,t,n[9],21,-343485551),e[0]=Lf(t,e[0]),e[1]=Lf(r,e[1]),e[2]=Lf(i,e[2]),e[3]=Lf(s,e[3])}function Lv(e,n,t,r,i,s){return n=Lf(Lf(n,e),Lf(r,s)),Lf(n<<i|n>>>32-i,t)}function Oa(e,n,t,r,i,s,a){return Lv(n&t|~n&r,e,n,i,s,a)}function Ia(e,n,t,r,i,s,a){return Lv(n&r|t&~r,e,n,i,s,a)}function Da(e,n,t,r,i,s,a){return Lv(n^t^r,e,n,i,s,a)}function La(e,n,t,r,i,s,a){return Lv(t^(n|~r),e,n,i,s,a)}function cI(e){var n,t=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=e.length;n+=64)fw(r,CK(e.substring(n-64,n)));e=e.substring(n-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)i[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(fw(r,i),n=0;n<16;n++)i[n]=0;return i[14]=8*t,fw(r,i),r}function CK(e){var n,t=[];for(n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}sg=cn.atob.bind(cn),RS=cn.btoa.bind(cn);var Y4="0123456789abcdef".split("");function EK(e){for(var n="",t=0;t<4;t++)n+=Y4[e>>8*t+4&15]+Y4[e>>8*t&15];return n}function _K(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function MS(e){return cI(e).map(_K).join("")}var kK=function(e){for(var n=0;n<e.length;n++)e[n]=EK(e[n]);return e.join("")}(cI("hello"))!="5d41402abc4b2a76b9719d911017c592";function Lf(e,n){if(kK){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}return e+n&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function PS(e,n){var t,r,i,s;if(e!==t){for(var a=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var h=l[c];d=(d+h+a.charCodeAt(c))%256,l[c]=l[d],l[d]=h}t=e,r=l}else l=r;var g=n.length,b=0,m=0,x="";for(c=0;c<g;c++)m=(m+(h=l[b=(b+1)%256]))%256,l[b]=l[m],l[m]=h,a=l[(l[b]+l[m])%256],x+=String.fromCharCode(n.charCodeAt(c)^a);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var G4={print:4,modify:8,copy:16,"annot-forms":32};function S0(e,n,t,r){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(G4.perm!==void 0)throw new Error("Invalid permission: "+l);i+=G4[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(n+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=MS(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=PS(this.encryptionKey,this.padding)}function A0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var n="",t=e.length,r=0;r<t;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?n+="#"+("0"+i.toString(16)).slice(-2):n+=e[r]}return n}function Q4(e){if(ii(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var n={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");n.hasOwnProperty(t)||(n[t]={});var s=Math.random().toString(35);return n[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in n)if(n[r][t])return delete n[r][t],Object.keys(n[r]).length===0&&delete n[r],!0;return!1},this.publish=function(t){if(n.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in n[t]){var a=n[t][s];try{a[0].apply(e,r)}catch(l){cn.console&&ri.error("jsPDF PubSub Error",l.message,l)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return n}}function Xx(e){if(!(this instanceof Xx))return new Xx(e);var n="opacity,stroke-opacity".split(",");for(var t in e)e.hasOwnProperty(t)&&n.indexOf(t)>=0&&(this[t]=e[t]);this.id="",this.objectNumber=-1}function dI(e,n){this.gState=e,this.matrix=n,this.id="",this.objectNumber=-1}function Ph(e,n,t,r,i){if(!(this instanceof Ph))return new Ph(e,n,t,r,i);this.type=e==="axial"?2:3,this.coords=n,this.colors=t,dI.call(this,r,i)}function C0(e,n,t,r,i){if(!(this instanceof C0))return new C0(e,n,t,r,i);this.boundingBox=e,this.xStep=n,this.yStep=t,this.stream="",this.cloneIndex=0,dI.call(this,r,i)}function ln(e){var n,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],l=1,c=16,d="S",h=null;ii(e=e||{})==="object"&&(t=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(n=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),a=e.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",t=(""+(t||"P")).toLowerCase();var g=e.putOnlyUsedFonts||!1,b={},m={internal:{},__private__:{}};m.__private__.PubSub=Q4;var x="1.3",y=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(L){x=L};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return A};var w=m.__private__.getPageFormat=function(L){return A[L]};i=i||"a4";var C={COMPAT:"compat",ADVANCED:"advanced"},k=C.COMPAT;function R(){this.saveGraphicsState(),se(new Ot(lt,0,0,-lt,0,qu()*lt).toString()+" cm"),this.setFontSize(this.getFontSize()/lt),d="n",k=C.ADVANCED}function q(){this.restoreGraphicsState(),d="S",k=C.COMPAT}var D=m.__private__.combineFontStyleAndFontWeight=function(L,re){if(L=="bold"&&re=="normal"||L=="bold"&&re==400||L=="normal"&&re=="italic"||L=="bold"&&re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return re&&(L=re==400||re==="normal"?L==="italic"?"italic":"normal":re!=700&&re!=="bold"||L!=="normal"?(re==700?"bold":re)+""+L:"bold"),L};m.advancedAPI=function(L){var re=k===C.COMPAT;return re&&R.call(this),typeof L!="function"||(L(this),re&&q.call(this)),this},m.compatAPI=function(L){var re=k===C.ADVANCED;return re&&q.call(this),typeof L!="function"||(L(this),re&&R.call(this)),this},m.isAdvancedAPI=function(){return k===C.ADVANCED};var N,P=function(L){if(k!==C.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=m.roundToPrecision=m.__private__.roundToPrecision=function(L,re){var Ce=n||re;if(isNaN(L)||isNaN(Ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Ce).replace(/0+$/,"")};N=m.hpf=m.__private__.hpf=typeof c=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return z(L,c)}:c==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return z(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return z(L,16)};var X=m.f2=m.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return z(L,2)},j=m.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return z(L,3)},O=m.scale=m.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return k===C.COMPAT?L*lt:k===C.ADVANCED?L:void 0},M=function(L){return k===C.COMPAT?qu()-L:k===C.ADVANCED?L:void 0},T=function(L){return O(M(L))};m.__private__.setPrecision=m.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(n=parseInt(L,10))};var Q,H="00000000000000000000000000000000",Y=m.__private__.getFileId=function(){return H},Z=m.__private__.setFileId=function(L){return H=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():H.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(gi=new S0(h.userPermissions,h.userPassword,h.ownerPassword,H)),H};m.setFileId=function(L){return Z(L),this},m.getFileId=function(){return Y()};var ae=m.__private__.convertDateToPDFDate=function(L){var re=L.getTimezoneOffset(),Ce=re<0?"+":"-",Ie=Math.floor(Math.abs(re/60)),Ue=Math.abs(re%60),ut=[Ce,ie(Ie),"'",ie(Ue),"'"].join("");return["D:",L.getFullYear(),ie(L.getMonth()+1),ie(L.getDate()),ie(L.getHours()),ie(L.getMinutes()),ie(L.getSeconds()),ut].join("")},G=m.__private__.convertPDFDateToDate=function(L){var re=parseInt(L.substr(2,4),10),Ce=parseInt(L.substr(6,2),10)-1,Ie=parseInt(L.substr(8,2),10),Ue=parseInt(L.substr(10,2),10),ut=parseInt(L.substr(12,2),10),Ct=parseInt(L.substr(14,2),10);return new Date(re,Ce,Ie,Ue,ut,Ct,0)},le=m.__private__.setCreationDate=function(L){var re;if(L===void 0&&(L=new Date),L instanceof Date)re=ae(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");re=L}return Q=re},U=m.__private__.getCreationDate=function(L){var re=Q;return L==="jsDate"&&(re=G(Q)),re};m.setCreationDate=function(L){return le(L),this},m.getCreationDate=function(L){return U(L)};var B,ie=m.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},J=m.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},ne=0,xe=[],ye=[],Ae=0,Ne=[],Te=[],qe=!1,$e=ye,V=function(){ne=0,Ae=0,ye=[],xe=[],Ne=[],Xi=rr(),Zi=rr()};m.__private__.setCustomOutputDestination=function(L){qe=!0,$e=L};var we=function(L){qe||($e=L)};m.__private__.resetCustomOutputDestination=function(){qe=!1,$e=ye};var se=m.__private__.out=function(L){return L=L.toString(),Ae+=L.length+1,$e.push(L),$e},he=m.__private__.write=function(L){return se(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},de=m.__private__.getArrayBuffer=function(L){for(var re=L.length,Ce=new ArrayBuffer(re),Ie=new Uint8Array(Ce);re--;)Ie[re]=L.charCodeAt(re);return Ce},ve=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return ve};var Oe=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(L){return Oe=k===C.ADVANCED?L/lt:L,this};var Re,Ee=m.__private__.getFontSize=m.getFontSize=function(){return k===C.COMPAT?Oe:Oe*lt},Ge=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(L){return Ge=L,this},m.__private__.getR2L=m.getR2L=function(){return Ge};var Xe,Be=m.__private__.setZoomMode=function(L){var re=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))Re=L;else if(isNaN(L)){if(re.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');Re=L}else Re=parseInt(L,10)};m.__private__.getZoomMode=function(){return Re};var rt,je=m.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Xe=L};m.__private__.getPageMode=function(){return Xe};var He=m.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');rt=L};m.__private__.getLayoutMode=function(){return rt},m.__private__.setDisplayMode=m.setDisplayMode=function(L,re,Ce){return Be(L),He(re),je(Ce),this};var Je={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(L){if(Object.keys(Je).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Je[L]},m.__private__.getDocumentProperties=function(){return Je},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(L){for(var re in Je)Je.hasOwnProperty(re)&&L[re]&&(Je[re]=L[re]);return this},m.__private__.setDocumentProperty=function(L,re){if(Object.keys(Je).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Je[L]=re};var At,lt,tn,jt,_n,Gt={},Xt={},Zt=[],nn={},Rn={},Mn={},Nr={},Zn=null,In=0,Bt=[],vn=new Q4(m),Di=e.hotfixes||[],cr={},Vr={},Li=[],Ot=function L(re,Ce,Ie,Ue,ut,Ct){if(!(this instanceof L))return new L(re,Ce,Ie,Ue,ut,Ct);isNaN(re)&&(re=1),isNaN(Ce)&&(Ce=0),isNaN(Ie)&&(Ie=0),isNaN(Ue)&&(Ue=1),isNaN(ut)&&(ut=0),isNaN(Ct)&&(Ct=0),this._matrix=[re,Ce,Ie,Ue,ut,Ct]};Object.defineProperty(Ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ot.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(L)},Ot.prototype.multiply=function(L){var re=L.sx*this.sx+L.shy*this.shx,Ce=L.sx*this.shy+L.shy*this.sy,Ie=L.shx*this.sx+L.sy*this.shx,Ue=L.shx*this.shy+L.sy*this.sy,ut=L.tx*this.sx+L.ty*this.shx+this.tx,Ct=L.tx*this.shy+L.ty*this.sy+this.ty;return new Ot(re,Ce,Ie,Ue,ut,Ct)},Ot.prototype.decompose=function(){var L=this.sx,re=this.shy,Ce=this.shx,Ie=this.sy,Ue=this.tx,ut=this.ty,Ct=Math.sqrt(L*L+re*re),It=(L/=Ct)*Ce+(re/=Ct)*Ie;Ce-=L*It,Ie-=re*It;var Ut=Math.sqrt(Ce*Ce+Ie*Ie);return It/=Ut,L*(Ie/=Ut)<re*(Ce/=Ut)&&(L=-L,re=-re,It=-It,Ct=-Ct),{scale:new Ot(Ct,0,0,Ut,0,0),translate:new Ot(1,0,0,1,Ue,ut),rotate:new Ot(L,re,-re,L,0,0),skew:new Ot(1,0,It,1,0,0)}},Ot.prototype.toString=function(L){return this.join(" ")},Ot.prototype.inversed=function(){var L=this.sx,re=this.shy,Ce=this.shx,Ie=this.sy,Ue=this.tx,ut=this.ty,Ct=1/(L*Ie-re*Ce),It=Ie*Ct,Ut=-re*Ct,wn=-Ce*Ct,hn=L*Ct;return new Ot(It,Ut,wn,hn,-It*Ue-wn*ut,-Ut*Ue-hn*ut)},Ot.prototype.applyToPoint=function(L){var re=L.x*this.sx+L.y*this.shx+this.tx,Ce=L.x*this.shy+L.y*this.sy+this.ty;return new zd(re,Ce)},Ot.prototype.applyToRectangle=function(L){var re=this.applyToPoint(L),Ce=this.applyToPoint(new zd(L.x+L.w,L.y+L.h));return new ih(re.x,re.y,Ce.x-re.x,Ce.y-re.y)},Ot.prototype.clone=function(){var L=this.sx,re=this.shy,Ce=this.shx,Ie=this.sy,Ue=this.tx,ut=this.ty;return new Ot(L,re,Ce,Ie,Ue,ut)},m.Matrix=Ot;var zn=m.matrixMult=function(L,re){return re.multiply(L)},Jn=new Ot(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Jn;var xr=function(L,re){if(!Rn[L]){var Ce=(re instanceof Ph?"Sh":"P")+(Object.keys(nn).length+1).toString(10);re.id=Ce,Rn[L]=Ce,nn[Ce]=re,vn.publish("addPattern",re)}};m.ShadingPattern=Ph,m.TilingPattern=C0,m.addShadingPattern=function(L,re){return P("addShadingPattern()"),xr(L,re),this},m.beginTilingPattern=function(L){P("beginTilingPattern()"),Bd(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},m.endTilingPattern=function(L,re){P("endTilingPattern()"),re.stream=Te[B].join(`
`),xr(L,re),vn.publish("endTilingPattern",re),Li.pop().restore()};var nr=m.__private__.newObject=function(){var L=rr();return gn(L,!0),L},rr=m.__private__.newObjectDeferred=function(){return ne++,xe[ne]=function(){return Ae},ne},gn=function(L,re){return re=typeof re=="boolean"&&re,xe[L]=Ae,re&&se(L+" 0 obj"),L},va=m.__private__.newAdditionalObject=function(){var L={objId:rr(),content:""};return Ne.push(L),L},Xi=rr(),Zi=rr(),hi=m.__private__.decodeColorString=function(L){var re=L.split(" ");if(re.length!==2||re[1]!=="g"&&re[1]!=="G")re.length===5&&(re[4]==="k"||re[4]==="K")&&(re=[(1-re[0])*(1-re[3]),(1-re[1])*(1-re[3]),(1-re[2])*(1-re[3]),"r"]);else{var Ce=parseFloat(re[0]);re=[Ce,Ce,Ce,"r"]}for(var Ie="#",Ue=0;Ue<3;Ue++)Ie+=("0"+Math.floor(255*parseFloat(re[Ue])).toString(16)).slice(-2);return Ie},pi=m.__private__.encodeColorString=function(L){var re;typeof L=="string"&&(L={ch1:L});var Ce=L.ch1,Ie=L.ch2,Ue=L.ch3,ut=L.ch4,Ct=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ce=="string"&&Ce.charAt(0)!=="#"){var It=new uI(Ce);if(It.ok)Ce=It.toHex();else if(!/^\d*\.?\d*$/.test(Ce))throw new Error('Invalid color "'+Ce+'" passed to jsPDF.encodeColorString.')}if(typeof Ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ce)&&(Ce="#"+Ce[1]+Ce[1]+Ce[2]+Ce[2]+Ce[3]+Ce[3]),typeof Ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ce)){var Ut=parseInt(Ce.substr(1),16);Ce=Ut>>16&255,Ie=Ut>>8&255,Ue=255&Ut}if(Ie===void 0||ut===void 0&&Ce===Ie&&Ie===Ue)if(typeof Ce=="string")re=Ce+" "+Ct[0];else switch(L.precision){case 2:re=X(Ce/255)+" "+Ct[0];break;case 3:default:re=j(Ce/255)+" "+Ct[0]}else if(ut===void 0||ii(ut)==="object"){if(ut&&!isNaN(ut.a)&&ut.a===0)return re=["1.","1.","1.",Ct[1]].join(" ");if(typeof Ce=="string")re=[Ce,Ie,Ue,Ct[1]].join(" ");else switch(L.precision){case 2:re=[X(Ce/255),X(Ie/255),X(Ue/255),Ct[1]].join(" ");break;default:case 3:re=[j(Ce/255),j(Ie/255),j(Ue/255),Ct[1]].join(" ")}}else if(typeof Ce=="string")re=[Ce,Ie,Ue,ut,Ct[2]].join(" ");else switch(L.precision){case 2:re=[X(Ce),X(Ie),X(Ue),X(ut),Ct[2]].join(" ");break;case 3:default:re=[j(Ce),j(Ie),j(Ue),j(ut),Ct[2]].join(" ")}return re},Gn=m.__private__.getFilters=function(){return a},si=m.__private__.putStream=function(L){var re=(L=L||{}).data||"",Ce=L.filters||Gn(),Ie=L.alreadyAppliedFilters||[],Ue=L.addLength1||!1,ut=re.length,Ct=L.objectId,It=function(Fi){return Fi};if(h!==null&&Ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(It=gi.encryptor(Ct,0));var Ut={};Ce===!0&&(Ce=["FlateEncode"]);var wn=L.additionalKeyValues||[],hn=(Ut=ln.API.processDataByFilters!==void 0?ln.API.processDataByFilters(re,Ce):{data:re,reverseChain:[]}).reverseChain+(Array.isArray(Ie)?Ie.join(" "):Ie.toString());if(Ut.data.length!==0&&(wn.push({key:"Length",value:Ut.data.length}),Ue===!0&&wn.push({key:"Length1",value:ut})),hn.length!=0)if(hn.split("/").length-1==1)wn.push({key:"Filter",value:hn});else{wn.push({key:"Filter",value:"["+hn+"]"});for(var Wn=0;Wn<wn.length;Wn+=1)if(wn[Wn].key==="DecodeParms"){for(var oi=[],bi=0;bi<Ut.reverseChain.split("/").length-1;bi+=1)oi.push("null");oi.push(wn[Wn].value),wn[Wn].value="["+oi.join(" ")+"]"}}se("<<");for(var Pi=0;Pi<wn.length;Pi++)se("/"+wn[Pi].key+" "+wn[Pi].value);se(">>"),Ut.data.length!==0&&(se("stream"),se(It(Ut.data)),se("endstream"))},Qn=m.__private__.putPage=function(L){var re=L.number,Ce=L.data,Ie=L.objId,Ue=L.contentsObjId;gn(Ie,!0),se("<</Type /Page"),se("/Parent "+L.rootDictionaryObjId+" 0 R"),se("/Resources "+L.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(N(L.mediaBox.bottomLeftX))+" "+parseFloat(N(L.mediaBox.bottomLeftY))+" "+N(L.mediaBox.topRightX)+" "+N(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&se("/CropBox ["+N(L.cropBox.bottomLeftX)+" "+N(L.cropBox.bottomLeftY)+" "+N(L.cropBox.topRightX)+" "+N(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&se("/BleedBox ["+N(L.bleedBox.bottomLeftX)+" "+N(L.bleedBox.bottomLeftY)+" "+N(L.bleedBox.topRightX)+" "+N(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&se("/TrimBox ["+N(L.trimBox.bottomLeftX)+" "+N(L.trimBox.bottomLeftY)+" "+N(L.trimBox.topRightX)+" "+N(L.trimBox.topRightY)+"]"),L.artBox!==null&&se("/ArtBox ["+N(L.artBox.bottomLeftX)+" "+N(L.artBox.bottomLeftY)+" "+N(L.artBox.topRightX)+" "+N(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&se("/UserUnit "+L.userUnit),vn.publish("putPage",{objId:Ie,pageContext:Bt[re],pageNumber:re,page:Ce}),se("/Contents "+Ue+" 0 R"),se(">>"),se("endobj");var ut=Ce.join(`
`);return k===C.ADVANCED&&(ut+=`
Q`),gn(Ue,!0),si({data:ut,filters:Gn(),objectId:Ue}),se("endobj"),Ie},sa=m.__private__.putPages=function(){var L,re,Ce=[];for(L=1;L<=In;L++)Bt[L].objId=rr(),Bt[L].contentsObjId=rr();for(L=1;L<=In;L++)Ce.push(Qn({number:L,data:Te[L],objId:Bt[L].objId,contentsObjId:Bt[L].contentsObjId,mediaBox:Bt[L].mediaBox,cropBox:Bt[L].cropBox,bleedBox:Bt[L].bleedBox,trimBox:Bt[L].trimBox,artBox:Bt[L].artBox,userUnit:Bt[L].userUnit,rootDictionaryObjId:Xi,resourceDictionaryObjId:Zi}));gn(Xi,!0),se("<</Type /Pages");var Ie="/Kids [";for(re=0;re<In;re++)Ie+=Ce[re]+" 0 R ";se(Ie+"]"),se("/Count "+In),se(">>"),se("endobj"),vn.publish("postPutPages")},wa=function(L){vn.publish("putFont",{font:L,out:se,newObject:nr,putStream:si}),L.isAlreadyPutted!==!0&&(L.objectNumber=nr(),se("<<"),se("/Type /Font"),se("/BaseFont /"+A0(L.postScriptName)),se("/Subtype /Type1"),typeof L.encoding=="string"&&se("/Encoding /"+L.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},fs=function(){for(var L in Gt)Gt.hasOwnProperty(L)&&(g===!1||g===!0&&b.hasOwnProperty(L))&&wa(Gt[L])},vr=function(L){L.objectNumber=nr();var re=[];re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Form"}),re.push({key:"BBox",value:"["+[N(L.x),N(L.y),N(L.x+L.width),N(L.y+L.height)].join(" ")+"]"}),re.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Ce=L.pages[1].join(`
`);si({data:Ce,additionalKeyValues:re,objectId:L.objectNumber}),se("endobj")},Va=function(){for(var L in cr)cr.hasOwnProperty(L)&&vr(cr[L])},ho=function(L,re){var Ce,Ie=[],Ue=1/(re-1);for(Ce=0;Ce<1;Ce+=Ue)Ie.push(Ce);if(Ie.push(1),L[0].offset!=0){var ut={offset:0,color:L[0].color};L.unshift(ut)}if(L[L.length-1].offset!=1){var Ct={offset:1,color:L[L.length-1].color};L.push(Ct)}for(var It="",Ut=0,wn=0;wn<Ie.length;wn++){for(Ce=Ie[wn];Ce>L[Ut+1].offset;)Ut++;var hn=L[Ut].offset,Wn=(Ce-hn)/(L[Ut+1].offset-hn),oi=L[Ut].color,bi=L[Ut+1].color;It+=J(Math.round((1-Wn)*oi[0]+Wn*bi[0]).toString(16))+J(Math.round((1-Wn)*oi[1]+Wn*bi[1]).toString(16))+J(Math.round((1-Wn)*oi[2]+Wn*bi[2]).toString(16))}return It.trim()},pt=function(L,re){re||(re=21);var Ce=nr(),Ie=ho(L.colors,re),Ue=[];Ue.push({key:"FunctionType",value:"0"}),Ue.push({key:"Domain",value:"[0.0 1.0]"}),Ue.push({key:"Size",value:"["+re+"]"}),Ue.push({key:"BitsPerSample",value:"8"}),Ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),si({data:Ie,additionalKeyValues:Ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ce}),se("endobj"),L.objectNumber=nr(),se("<< /ShadingType "+L.type),se("/ColorSpace /DeviceRGB");var ut="/Coords ["+N(parseFloat(L.coords[0]))+" "+N(parseFloat(L.coords[1]))+" ";L.type===2?ut+=N(parseFloat(L.coords[2]))+" "+N(parseFloat(L.coords[3])):ut+=N(parseFloat(L.coords[2]))+" "+N(parseFloat(L.coords[3]))+" "+N(parseFloat(L.coords[4]))+" "+N(parseFloat(L.coords[5])),se(ut+="]"),L.matrix&&se("/Matrix ["+L.matrix.toString()+"]"),se("/Function "+Ce+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},wt=function(L,re){var Ce=rr(),Ie=nr();re.push({resourcesOid:Ce,objectOid:Ie}),L.objectNumber=Ie;var Ue=[];Ue.push({key:"Type",value:"/Pattern"}),Ue.push({key:"PatternType",value:"1"}),Ue.push({key:"PaintType",value:"1"}),Ue.push({key:"TilingType",value:"1"}),Ue.push({key:"BBox",value:"["+L.boundingBox.map(N).join(" ")+"]"}),Ue.push({key:"XStep",value:N(L.xStep)}),Ue.push({key:"YStep",value:N(L.yStep)}),Ue.push({key:"Resources",value:Ce+" 0 R"}),L.matrix&&Ue.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),si({data:L.stream,additionalKeyValues:Ue,objectId:L.objectNumber}),se("endobj")},St=function(L){var re;for(re in nn)nn.hasOwnProperty(re)&&(nn[re]instanceof Ph?pt(nn[re]):nn[re]instanceof C0&&wt(nn[re],L))},Rt=function(L){for(var re in L.objectNumber=nr(),se("<<"),L)switch(re){case"opacity":se("/ca "+X(L[re]));break;case"stroke-opacity":se("/CA "+X(L[re]))}se(">>"),se("endobj")},Tt=function(){var L;for(L in Mn)Mn.hasOwnProperty(L)&&Rt(Mn[L])},an=function(){for(var L in se("/XObject <<"),cr)cr.hasOwnProperty(L)&&cr[L].objectNumber>=0&&se("/"+L+" "+cr[L].objectNumber+" 0 R");vn.publish("putXobjectDict"),se(">>")},En=function(){gi.oid=nr(),se("<<"),se("/Filter /Standard"),se("/V "+gi.v),se("/R "+gi.r),se("/U <"+gi.toHexString(gi.U)+">"),se("/O <"+gi.toHexString(gi.O)+">"),se("/P "+gi.P),se(">>"),se("endobj")},Kn=function(){for(var L in se("/Font <<"),Gt)Gt.hasOwnProperty(L)&&(g===!1||g===!0&&b.hasOwnProperty(L))&&se("/"+L+" "+Gt[L].objectNumber+" 0 R");se(">>")},jr=function(){if(Object.keys(nn).length>0){for(var L in se("/Shading <<"),nn)nn.hasOwnProperty(L)&&nn[L]instanceof Ph&&nn[L].objectNumber>=0&&se("/"+L+" "+nn[L].objectNumber+" 0 R");vn.publish("putShadingPatternDict"),se(">>")}},mi=function(L){if(Object.keys(nn).length>0){for(var re in se("/Pattern <<"),nn)nn.hasOwnProperty(re)&&nn[re]instanceof m.TilingPattern&&nn[re].objectNumber>=0&&nn[re].objectNumber<L&&se("/"+re+" "+nn[re].objectNumber+" 0 R");vn.publish("putTilingPatternDict"),se(">>")}},Ya=function(){if(Object.keys(Mn).length>0){var L;for(L in se("/ExtGState <<"),Mn)Mn.hasOwnProperty(L)&&Mn[L].objectNumber>=0&&se("/"+L+" "+Mn[L].objectNumber+" 0 R");vn.publish("putGStateDict"),se(">>")}},Hn=function(L){gn(L.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Kn(),jr(),mi(L.objectOid),Ya(),an(),se(">>"),se("endobj")},Tr=function(){var L=[];fs(),Tt(),Va(),St(L),vn.publish("putResources"),L.forEach(Hn),Hn({resourcesOid:Zi,objectOid:Number.MAX_SAFE_INTEGER}),vn.publish("postPutResources")},aa=function(){vn.publish("putAdditionalObjects");for(var L=0;L<Ne.length;L++){var re=Ne[L];gn(re.objId,!0),se(re.content),se("endobj")}vn.publish("postPutAdditionalObjects")},Ga=function(L){Xt[L.fontName]=Xt[L.fontName]||{},Xt[L.fontName][L.fontStyle]=L.id},Ri=function(L,re,Ce,Ie,Ue){var ut={id:"F"+(Object.keys(Gt).length+1).toString(10),postScriptName:L,fontName:re,fontStyle:Ce,encoding:Ie,isStandardFont:Ue||!1,metadata:{}};return vn.publish("addFont",{font:ut,instance:this}),Gt[ut.id]=ut,Ga(ut),ut.id},Qa=function(L){for(var re=0,Ce=ve.length;re<Ce;re++){var Ie=Ri.call(this,L[re][0],L[re][1],L[re][2],ve[re][3],!0);g===!1&&(b[Ie]=!0);var Ue=L[re][0].split("-");Ga({id:Ie,fontName:Ue[0],fontStyle:Ue[1]||""})}vn.publish("addFonts",{fonts:Gt,dictionary:Xt})},Ci=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(Ie){var re=Ie.stack||"";~re.indexOf(" at ")&&(re=re.split(" at ")[1]);var Ce="Error in function "+re.split(`
`)[0].split("<")[0]+": "+Ie.message;if(!cn.console)throw new Error(Ce);cn.console.error(Ce,Ie),cn.alert&&alert(Ce)}},L.foo.bar=L,L.foo},Ka=function(L,re){var Ce,Ie,Ue,ut,Ct,It,Ut,wn,hn;if(Ue=(re=re||{}).sourceEncoding||"Unicode",Ct=re.outputEncoding,(re.autoencode||Ct)&&Gt[At].metadata&&Gt[At].metadata[Ue]&&Gt[At].metadata[Ue].encoding&&(ut=Gt[At].metadata[Ue].encoding,!Ct&&Gt[At].encoding&&(Ct=Gt[At].encoding),!Ct&&ut.codePages&&(Ct=ut.codePages[0]),typeof Ct=="string"&&(Ct=ut[Ct]),Ct)){for(Ut=!1,It=[],Ce=0,Ie=L.length;Ce<Ie;Ce++)(wn=Ct[L.charCodeAt(Ce)])?It.push(String.fromCharCode(wn)):It.push(L[Ce]),It[Ce].charCodeAt(0)>>8&&(Ut=!0);L=It.join("")}for(Ce=L.length;Ut===void 0&&Ce!==0;)L.charCodeAt(Ce-1)>>8&&(Ut=!0),Ce--;if(!Ut)return L;for(It=re.noBOM?[]:[254,255],Ce=0,Ie=L.length;Ce<Ie;Ce++){if((hn=(wn=L.charCodeAt(Ce))>>8)>>8)throw new Error("Character at position "+Ce+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");It.push(hn),It.push(wn-(hn<<8))}return String.fromCharCode.apply(void 0,It)},dr=m.__private__.pdfEscape=m.pdfEscape=function(L,re){return Ka(L,re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Do=m.__private__.beginPage=function(L){Te[++In]=[],Bt[In]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Xa(In),we(Te[B])},Hl=function(L,re){var Ce,Ie,Ue;switch(t=re||t,typeof L=="string"&&(Ce=w(L.toLowerCase()),Array.isArray(Ce)&&(Ie=Ce[0],Ue=Ce[1])),Array.isArray(L)&&(Ie=L[0]*lt,Ue=L[1]*lt),isNaN(Ie)&&(Ie=i[0],Ue=i[1]),(Ie>14400||Ue>14400)&&(ri.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ie=Math.min(14400,Ie),Ue=Math.min(14400,Ue)),i=[Ie,Ue],t.substr(0,1)){case"l":Ue>Ie&&(i=[Ue,Ie]);break;case"p":Ie>Ue&&(i=[Ue,Ie])}Do(i),zt(st),se(Ir),pl!==0&&se(pl+" J"),Po!==0&&se(Po+" j"),vn.publish("addPage",{pageNumber:In})},Lo=function(L){L>0&&L<=In&&(Te.splice(L,1),Bt.splice(L,1),In--,B>In&&(B=In),this.setPage(B))},Xa=function(L){L>0&&L<=In&&(B=L)},Pu=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Te.length-1},Za=function(L,re,Ce){var Ie,Ue=void 0;return Ce=Ce||{},L=L!==void 0?L:Gt[At].fontName,re=re!==void 0?re:Gt[At].fontStyle,Ie=L.toLowerCase(),Xt[Ie]!==void 0&&Xt[Ie][re]!==void 0?Ue=Xt[Ie][re]:Xt[L]!==void 0&&Xt[L][re]!==void 0?Ue=Xt[L][re]:Ce.disableWarning===!1&&ri.warn("Unable to look up font label for font '"+L+"', '"+re+"'. Refer to getFontList() for available fonts."),Ue||Ce.noFallback||(Ue=Xt.times[re])==null&&(Ue=Xt.times.normal),Ue},Ji=m.__private__.putInfo=function(){var L=nr(),re=function(Ie){return Ie};for(var Ce in h!==null&&(re=gi.encryptor(L,0)),se("<<"),se("/Producer ("+dr(re("jsPDF "+ln.version))+")"),Je)Je.hasOwnProperty(Ce)&&Je[Ce]&&se("/"+Ce.substr(0,1).toUpperCase()+Ce.substr(1)+" ("+dr(re(Je[Ce]))+")");se("/CreationDate ("+dr(re(Q))+")"),se(">>"),se("endobj")},oa=m.__private__.putCatalog=function(L){var re=(L=L||{}).rootDictionaryObjId||Xi;switch(nr(),se("<<"),se("/Type /Catalog"),se("/Pages "+re+" 0 R"),Re||(Re="fullwidth"),Re){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ce=""+Re;Ce.substr(Ce.length-1)==="%"&&(Re=parseInt(Re)/100),typeof Re=="number"&&se("/OpenAction [3 0 R /XYZ null null "+X(Re)+"]")}switch(rt||(rt="continuous"),rt){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}Xe&&se("/PageMode /"+Xe),vn.publish("putCatalog"),se(">>"),se("endobj")},Sa=m.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(ne+1)),se("/Root "+ne+" 0 R"),se("/Info "+(ne-1)+" 0 R"),h!==null&&se("/Encrypt "+gi.oid+" 0 R"),se("/ID [ <"+H+"> <"+H+"> ]"),se(">>")},Fu=m.__private__.putHeader=function(){se("%PDF-"+x),se("%")},Hs=m.__private__.putXRef=function(){var L="0000000000";se("xref"),se("0 "+(ne+1)),se("0000000000 65535 f ");for(var re=1;re<=ne;re++)typeof xe[re]=="function"?se((L+xe[re]()).slice(-10)+" 00000 n "):xe[re]!==void 0?se((L+xe[re]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},Ja=m.__private__.buildDocument=function(){V(),we(ye),vn.publish("buildDocument"),Fu(),sa(),aa(),Tr(),h!==null&&En(),Ji(),oa();var L=Ae;return Hs(),Sa(),se("startxref"),se(""+L),se("%%EOF"),we(Te[B]),ye.join(`
`)},cl=m.__private__.getBlob=function(L){return new Blob([de(L)],{type:"application/pdf"})},eo=m.output=m.__private__.output=Ci(function(L,re){switch(typeof(re=re||{})=="string"?re={filename:re}:re.filename=re.filename||"generated.pdf",L){case void 0:return Ja();case"save":m.save(re.filename);break;case"arraybuffer":return de(Ja());case"blob":return cl(Ja());case"bloburi":case"bloburl":if(cn.URL!==void 0&&typeof cn.URL.createObjectURL=="function")return cn.URL&&cn.URL.createObjectURL(cl(Ja()))||void 0;ri.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ce="",Ie=Ja();try{Ce=RS(Ie)}catch{Ce=RS(unescape(encodeURIComponent(Ie)))}return"data:application/pdf;filename="+re.filename+";base64,"+Ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(cn)==="[object Window]"){var Ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ut=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';re.pdfObjectUrl&&(Ue=re.pdfObjectUrl,ut="");var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ue+'"'+ut+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(re)+");<\/script></body></html>",It=cn.open();return It!==null&&It.document.write(Ct),It}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(cn)==="[object Window]"){var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+re.filename+'" width="500px" height="400px" /></body></html>',wn=cn.open();if(wn!==null){wn.document.write(Ut);var hn=this;wn.document.documentElement.querySelector("#pdfViewer").onload=function(){wn.document.title=re.filename,wn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(hn.output("bloburl"))}}return wn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(cn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",re)+'"></iframe></body></html>',oi=cn.open();if(oi!==null&&(oi.document.write(Wn),oi.document.title=re.filename),oi||typeof safari>"u")return oi;break;case"datauri":case"dataurl":return cn.document.location.href=this.output("datauristring",re);default:return null}}),dl=function(L){return Array.isArray(Di)===!0&&Di.indexOf(L)>-1};switch(r){case"pt":lt=1;break;case"mm":lt=72/25.4;break;case"cm":lt=72/2.54;break;case"in":lt=72;break;case"px":lt=dl("px_scaling")==1?.75:96/72;break;case"pc":case"em":lt=12;break;case"ex":lt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);lt=r}var gi=null;le(),Z();var ai=function(L){return h!==null?gi.encryptor(L,0):function(re){return re}},Aa=m.__private__.getPageInfo=m.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Bt[L].objId,pageNumber:L,pageContext:Bt[L]}},en=m.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var re in Bt)if(Bt[re].objId===L)break;return Aa(re)},po=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Bt[B].objId,pageNumber:B,pageContext:Bt[B]}};m.addPage=function(){return Hl.apply(this,arguments),this},m.setPage=function(){return Xa.apply(this,arguments),we.call(this,Te[B]),this},m.insertPage=function(L){return this.addPage(),this.movePage(B,L),this},m.movePage=function(L,re){var Ce,Ie;if(L>re){Ce=Te[L],Ie=Bt[L];for(var Ue=L;Ue>re;Ue--)Te[Ue]=Te[Ue-1],Bt[Ue]=Bt[Ue-1];Te[re]=Ce,Bt[re]=Ie,this.setPage(re)}else if(L<re){Ce=Te[L],Ie=Bt[L];for(var ut=L;ut<re;ut++)Te[ut]=Te[ut+1],Bt[ut]=Bt[ut+1];Te[re]=Ce,Bt[re]=Ie,this.setPage(re)}return this},m.deletePage=function(){return Lo.apply(this,arguments),this},m.__private__.text=m.text=function(L,re,Ce,Ie,Ue){var ut,Ct,It,Ut,wn,hn,Wn,oi,bi,Pi=(Ie=Ie||{}).scope||this;if(typeof L=="number"&&typeof re=="number"&&(typeof Ce=="string"||Array.isArray(Ce))){var Fi=Ce;Ce=re,re=L,L=Fi}if(arguments[3]instanceof Ot?(P("The transform parameter of text() with a Matrix value"),bi=Ue):(It=arguments[4],Ut=arguments[5],ii(Wn=arguments[3])==="object"&&Wn!==null||(typeof It=="string"&&(Ut=It,It=null),typeof Wn=="string"&&(Ut=Wn,Wn=null),typeof Wn=="number"&&(It=Wn,Wn=null),Ie={flags:Wn,angle:It,align:Ut})),isNaN(re)||isNaN(Ce)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return Pi;var Os="",Fo=!1,no=typeof Ie.lineHeightFactor=="number"?Ie.lineHeightFactor:ke,qo=Pi.internal.scaleFactor;function oh(Fn){return Fn=Fn.split("	").join(Array(Ie.TabLen||9).join(" ")),dr(Fn,Wn)}function Wl(Fn){for(var qn,Yr=Fn.concat(),qi=[],bo=Yr.length;bo--;)typeof(qn=Yr.shift())=="string"?qi.push(qn):Array.isArray(Fn)&&(qn.length===1||qn[1]===void 0&&qn[2]===void 0)?qi.push(qn[0]):qi.push([qn[0],qn[1],qn[2]]);return qi}function Vl(Fn,qn){var Yr;if(typeof Fn=="string")Yr=qn(Fn)[0];else if(Array.isArray(Fn)){for(var qi,bo,Qu=Fn.concat(),Ku=[],Ql=Qu.length;Ql--;)typeof(qi=Qu.shift())=="string"?Ku.push(qn(qi)[0]):Array.isArray(qi)&&typeof qi[0]=="string"&&(bo=qn(qi[0],qi[1],qi[2]),Ku.push([bo[0],bo[1],bo[2]]));Yr=Ku}return Yr}var Hd=!1,zu=!0;if(typeof L=="string")Hd=!0;else if(Array.isArray(L)){var Wd=L.concat();Ct=[];for(var Yc,hs=Wd.length;hs--;)(typeof(Yc=Wd.shift())!="string"||Array.isArray(Yc)&&typeof Yc[0]!="string")&&(zu=!1);Hd=zu}if(Hd===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var Bu=Oe/Pi.internal.scaleFactor,Gc=Bu*(no-1);switch(Ie.baseline){case"bottom":Ce-=Gc;break;case"top":Ce+=Bu-Gc;break;case"hanging":Ce+=Bu-2*Gc;break;case"middle":Ce+=Bu/2-Gc}if((hn=Ie.maxWidth||0)>0&&(typeof L=="string"?L=Pi.splitTextToSize(L,hn):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(Fn,qn){return Fn.concat(Pi.splitTextToSize(qn,hn))},[]))),ut={text:L,x:re,y:Ce,options:Ie,mutex:{pdfEscape:dr,activeFontKey:At,fonts:Gt,activeFontSize:Oe}},vn.publish("preProcessText",ut),L=ut.text,It=(Ie=ut.options).angle,!(bi instanceof Ot)&&It&&typeof It=="number"){It*=Math.PI/180,Ie.rotationDirection===0&&(It=-It),k===C.ADVANCED&&(It=-It);var Qc=Math.cos(It),Vd=Math.sin(It);bi=new Ot(Qc,Vd,-Vd,Qc,0,0)}else It&&It instanceof Ot&&(bi=It);k!==C.ADVANCED||bi||(bi=Jn),(wn=Ie.charSpace||Ea)!==void 0&&(Os+=N(O(wn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(oi=Ie.horizontalScale)!==void 0&&(Os+=N(100*oi)+` Tz
`),Ie.lang;var _a=-1,mm=Ie.renderingMode!==void 0?Ie.renderingMode:Ie.stroke,lh=Pi.internal.getCurrentPageInfo().pageContext;switch(mm){case 0:case!1:case"fill":_a=0;break;case 1:case!0:case"stroke":_a=1;break;case 2:case"fillThenStroke":_a=2;break;case 3:case"invisible":_a=3;break;case 4:case"fillAndAddForClipping":_a=4;break;case 5:case"strokeAndAddPathForClipping":_a=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_a=6;break;case 7:case"addToPathForClipping":_a=7}var wp=lh.usedRenderingMode!==void 0?lh.usedRenderingMode:-1;_a!==-1?Os+=_a+` Tr
`:wp!==-1&&(Os+=`0 Tr
`),_a!==-1&&(lh.usedRenderingMode=_a),Ut=Ie.align||"left";var go,Is=Oe*no,Uu=Pi.internal.pageSize.getWidth(),uh=Gt[At];wn=Ie.charSpace||Ea,hn=Ie.maxWidth||0,Wn=Object.assign({autoencode:!0,noBOM:!0},Ie.flags);var Yl=[],$u=function(Fn){return Pi.getStringUnitWidth(Fn,{font:uh,charSpace:wn,fontSize:Oe,doKerning:!1})*Oe/qo};if(Object.prototype.toString.call(L)==="[object Array]"){var la;Ct=Wl(L),Ut!=="left"&&(go=Ct.map($u));var Bs,Hu=0;if(Ut==="right"){re-=go[0],L=[],hs=Ct.length;for(var ka=0;ka<hs;ka++)ka===0?(Bs=bn(re),la=qr(Ce)):(Bs=O(Hu-go[ka]),la=-Is),L.push([Ct[ka],Bs,la]),Hu=go[ka]}else if(Ut==="center"){re-=go[0]/2,L=[],hs=Ct.length;for(var zo=0;zo<hs;zo++)zo===0?(Bs=bn(re),la=qr(Ce)):(Bs=O((Hu-go[zo])/2),la=-Is),L.push([Ct[zo],Bs,la]),Hu=go[zo]}else if(Ut==="left"){L=[],hs=Ct.length;for(var ml=0;ml<hs;ml++)L.push(Ct[ml])}else if(Ut==="justify"&&uh.encoding==="Identity-H"){L=[],hs=Ct.length,hn=hn!==0?hn:Uu;for(var Bo=0,Ei=0;Ei<hs;Ei++)if(la=Ei===0?qr(Ce):-Is,Bs=Ei===0?bn(re):Bo,Ei<hs-1){var Uo=O((hn-go[Ei])/(Ct[Ei].split(" ").length-1)),es=Ct[Ei].split(" ");L.push([es[0]+" ",Bs,la]),Bo=0;for(var Na=1;Na<es.length;Na++){var Kc=($u(es[Na-1]+" "+es[Na])-$u(es[Na]))*qo+Uo;Na==es.length-1?L.push([es[Na],Kc,0]):L.push([es[Na]+" ",Kc,0]),Bo-=Kc}}else L.push([Ct[Ei],Bs,la]);L.push(["",Bo,0])}else{if(Ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],hs=Ct.length,hn=hn!==0?hn:Uu,Ei=0;Ei<hs;Ei++)la=Ei===0?qr(Ce):-Is,Bs=Ei===0?bn(re):0,Ei<hs-1?Yl.push(N(O((hn-go[Ei])/(Ct[Ei].split(" ").length-1)))):Yl.push(0),L.push([Ct[Ei],Bs,la])}}var gl=typeof Ie.R2L=="boolean"?Ie.R2L:Ge;gl===!0&&(L=Vl(L,function(Fn,qn,Yr){return[Fn.split("").reverse().join(""),qn,Yr]})),ut={text:L,x:re,y:Ce,options:Ie,mutex:{pdfEscape:dr,activeFontKey:At,fonts:Gt,activeFontSize:Oe}},vn.publish("postProcessText",ut),L=ut.text,Fo=ut.mutex.isHex||!1;var Yd=Gt[At].encoding;Yd!=="WinAnsiEncoding"&&Yd!=="StandardEncoding"||(L=Vl(L,function(Fn,qn,Yr){return[oh(Fn),qn,Yr]})),Ct=Wl(L),L=[];for(var Wu,Vu,Yu,Xc=0,Gd=1,Gu=Array.isArray(Ct[0])?Gd:Xc,Gl="",Zc=function(Fn,qn,Yr){var qi="";return Yr instanceof Ot?(Yr=typeof Ie.angle=="number"?zn(Yr,new Ot(1,0,0,1,Fn,qn)):zn(new Ot(1,0,0,1,Fn,qn),Yr),k===C.ADVANCED&&(Yr=zn(new Ot(1,0,0,-1,0,0),Yr)),qi=Yr.join(" ")+` Tm
`):qi=N(Fn)+" "+N(qn)+` Td
`,qi},_i=0;_i<Ct.length;_i++){switch(Gl="",Gu){case Gd:Yu=(Fo?"<":"(")+Ct[_i][0]+(Fo?">":")"),Wu=parseFloat(Ct[_i][1]),Vu=parseFloat(Ct[_i][2]);break;case Xc:Yu=(Fo?"<":"(")+Ct[_i]+(Fo?">":")"),Wu=bn(re),Vu=qr(Ce)}Yl!==void 0&&Yl[_i]!==void 0&&(Gl=Yl[_i]+` Tw
`),_i===0?L.push(Gl+Zc(Wu,Vu,bi)+Yu):Gu===Xc?L.push(Gl+Yu):Gu===Gd&&L.push(Gl+Zc(Wu,Vu,bi)+Yu)}L=Gu===Xc?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var ro=`BT
/`;return ro+=At+" "+Oe+` Tf
`,ro+=N(Oe*no)+` TL
`,ro+=Gs+`
`,ro+=Os,ro+=L,se(ro+="ET"),b[At]=!0,Pi};var fl=m.__private__.clip=m.clip=function(L){return se(L==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return fl("evenodd")},m.__private__.discardPath=m.discardPath=function(){return se("n"),this};var Mi=m.__private__.isValidStyle=function(L){var re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(re=!0),re};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(L){return Mi(L)&&(d=L),this};var Ws=m.__private__.getStyle=m.getStyle=function(L){var re=d;switch(L){case"D":case"S":re="S";break;case"F":re="f";break;case"FD":case"DF":re="B";break;case"f":case"f*":case"B":case"B*":re=L}return re},Ro=m.close=function(){return se("h"),this};m.stroke=function(){return se("S"),this},m.fill=function(L){return Vs("f",L),this},m.fillEvenOdd=function(L){return Vs("f*",L),this},m.fillStroke=function(L){return Vs("B",L),this},m.fillStrokeEvenOdd=function(L){return Vs("B*",L),this};var Vs=function(L,re){ii(re)==="object"?Mo(re,L):se(L)},zs=function(L){L===null||k===C.ADVANCED&&L===void 0||(L=Ws(L),se(L))};function Ys(L,re,Ce,Ie,Ue){var ut=new C0(re||this.boundingBox,Ce||this.xStep,Ie||this.yStep,this.gState,Ue||this.matrix);ut.stream=this.stream;var Ct=L+"$$"+this.cloneIndex+++"$$";return xr(Ct,ut),ut}var Mo=function(L,re){var Ce=Rn[L.key],Ie=nn[Ce];if(Ie instanceof Ph)se("q"),se(hl(re)),Ie.gState&&m.setGState(Ie.gState),se(L.matrix.toString()+" cm"),se("/"+Ce+" sh"),se("Q");else if(Ie instanceof C0){var Ue=new Ot(1,0,0,-1,0,qu());L.matrix&&(Ue=Ue.multiply(L.matrix||Jn),Ce=Ys.call(Ie,L.key,L.boundingBox,L.xStep,L.yStep,Ue).id),se("q"),se("/Pattern cs"),se("/"+Ce+" scn"),Ie.gState&&m.setGState(Ie.gState),se(re),se("Q")}},hl=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},mo=m.moveTo=function(L,re){return se(N(O(L))+" "+N(T(re))+" m"),this},Ca=m.lineTo=function(L,re){return se(N(O(L))+" "+N(T(re))+" l"),this},$=m.curveTo=function(L,re,Ce,Ie,Ue,ut){return se([N(O(L)),N(T(re)),N(O(Ce)),N(T(Ie)),N(O(Ue)),N(T(ut)),"c"].join(" ")),this};m.__private__.line=m.line=function(L,re,Ce,Ie,Ue){if(isNaN(L)||isNaN(re)||isNaN(Ce)||isNaN(Ie)||!Mi(Ue))throw new Error("Invalid arguments passed to jsPDF.line");return k===C.COMPAT?this.lines([[Ce-L,Ie-re]],L,re,[1,1],Ue||"S"):this.lines([[Ce-L,Ie-re]],L,re,[1,1]).stroke()},m.__private__.lines=m.lines=function(L,re,Ce,Ie,Ue,ut){var Ct,It,Ut,wn,hn,Wn,oi,bi,Pi,Fi,Os,Fo;if(typeof L=="number"&&(Fo=Ce,Ce=re,re=L,L=Fo),Ie=Ie||[1,1],ut=ut||!1,isNaN(re)||isNaN(Ce)||!Array.isArray(L)||!Array.isArray(Ie)||!Mi(Ue)||typeof ut!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(mo(re,Ce),Ct=Ie[0],It=Ie[1],wn=L.length,Fi=re,Os=Ce,Ut=0;Ut<wn;Ut++)(hn=L[Ut]).length===2?(Fi=hn[0]*Ct+Fi,Os=hn[1]*It+Os,Ca(Fi,Os)):(Wn=hn[0]*Ct+Fi,oi=hn[1]*It+Os,bi=hn[2]*Ct+Fi,Pi=hn[3]*It+Os,Fi=hn[4]*Ct+Fi,Os=hn[5]*It+Os,$(Wn,oi,bi,Pi,Fi,Os));return ut&&Ro(),zs(Ue),this},m.path=function(L){for(var re=0;re<L.length;re++){var Ce=L[re],Ie=Ce.c;switch(Ce.op){case"m":mo(Ie[0],Ie[1]);break;case"l":Ca(Ie[0],Ie[1]);break;case"c":$.apply(this,Ie);break;case"h":Ro()}}return this},m.__private__.rect=m.rect=function(L,re,Ce,Ie,Ue){if(isNaN(L)||isNaN(re)||isNaN(Ce)||isNaN(Ie)||!Mi(Ue))throw new Error("Invalid arguments passed to jsPDF.rect");return k===C.COMPAT&&(Ie=-Ie),se([N(O(L)),N(T(re)),N(O(Ce)),N(O(Ie)),"re"].join(" ")),zs(Ue),this},m.__private__.triangle=m.triangle=function(L,re,Ce,Ie,Ue,ut,Ct){if(isNaN(L)||isNaN(re)||isNaN(Ce)||isNaN(Ie)||isNaN(Ue)||isNaN(ut)||!Mi(Ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ce-L,Ie-re],[Ue-Ce,ut-Ie],[L-Ue,re-ut]],L,re,[1,1],Ct,!0),this},m.__private__.roundedRect=m.roundedRect=function(L,re,Ce,Ie,Ue,ut,Ct){if(isNaN(L)||isNaN(re)||isNaN(Ce)||isNaN(Ie)||isNaN(Ue)||isNaN(ut)||!Mi(Ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var It=4/3*(Math.SQRT2-1);return Ue=Math.min(Ue,.5*Ce),ut=Math.min(ut,.5*Ie),this.lines([[Ce-2*Ue,0],[Ue*It,0,Ue,ut-ut*It,Ue,ut],[0,Ie-2*ut],[0,ut*It,-Ue*It,ut,-Ue,ut],[2*Ue-Ce,0],[-Ue*It,0,-Ue,-ut*It,-Ue,-ut],[0,2*ut-Ie],[0,-ut*It,Ue*It,-ut,Ue,-ut]],L+Ue,re,[1,1],Ct,!0),this},m.__private__.ellipse=m.ellipse=function(L,re,Ce,Ie,Ue){if(isNaN(L)||isNaN(re)||isNaN(Ce)||isNaN(Ie)||!Mi(Ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ut=4/3*(Math.SQRT2-1)*Ce,Ct=4/3*(Math.SQRT2-1)*Ie;return mo(L+Ce,re),$(L+Ce,re-Ct,L+ut,re-Ie,L,re-Ie),$(L-ut,re-Ie,L-Ce,re-Ct,L-Ce,re),$(L-Ce,re+Ct,L-ut,re+Ie,L,re+Ie),$(L+ut,re+Ie,L+Ce,re+Ct,L+Ce,re),zs(Ue),this},m.__private__.circle=m.circle=function(L,re,Ce,Ie){if(isNaN(L)||isNaN(re)||isNaN(Ce)||!Mi(Ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,re,Ce,Ce,Ie)},m.setFont=function(L,re,Ce){return Ce&&(re=D(re,Ce)),At=Za(L,re,{disableWarning:!1}),this};var me=m.__private__.getFont=m.getFont=function(){return Gt[Za.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var L,re,Ce={};for(L in Xt)if(Xt.hasOwnProperty(L))for(re in Ce[L]=[],Xt[L])Xt[L].hasOwnProperty(re)&&Ce[L].push(re);return Ce},m.addFont=function(L,re,Ce,Ie,Ue){var ut=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ut.indexOf(arguments[3])!==-1?Ue=arguments[3]:arguments[3]&&ut.indexOf(arguments[3])==-1&&(Ce=D(Ce,Ie)),Ue=Ue||"Identity-H",Ri.call(this,L,re,Ce,Ue)};var ke,st=e.lineWidth||.200025,Kt=m.__private__.getLineWidth=m.getLineWidth=function(){return st},zt=m.__private__.setLineWidth=m.setLineWidth=function(L){return st=L,se(N(O(L))+" w"),this};m.__private__.setLineDash=ln.API.setLineDash=ln.API.setLineDashPattern=function(L,re){if(L=L||[],re=re||0,isNaN(re)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Ce){return N(O(Ce))}).join(" "),re=N(O(re)),se("["+L+"] "+re+" d"),this};var Dn=m.__private__.getLineHeight=m.getLineHeight=function(){return Oe*ke};m.__private__.getLineHeight=m.getLineHeight=function(){return Oe*ke};var kn=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(ke=L),this},wr=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return ke};kn(e.lineHeight);var bn=m.__private__.getHorizontalCoordinate=function(L){return O(L)},qr=m.__private__.getVerticalCoordinate=function(L){return k===C.ADVANCED?L:Bt[B].mediaBox.topRightY-Bt[B].mediaBox.bottomLeftY-O(L)},Ts=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(L){return N(bn(L))},Or=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(L){return N(qr(L))},Ir=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return hi(Ir)},m.__private__.setStrokeColor=m.setDrawColor=function(L,re,Ce,Ie){return Ir=pi({ch1:L,ch2:re,ch3:Ce,ch4:Ie,pdfColorType:"draw",precision:2}),se(Ir),this};var ti=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return hi(ti)},m.__private__.setFillColor=m.setFillColor=function(L,re,Ce,Ie){return ti=pi({ch1:L,ch2:re,ch3:Ce,ch4:Ie,pdfColorType:"fill",precision:2}),se(ti),this};var Gs=e.textColor||"0 g",to=m.__private__.getTextColor=m.getTextColor=function(){return hi(Gs)};m.__private__.setTextColor=m.setTextColor=function(L,re,Ce,Ie){return Gs=pi({ch1:L,ch2:re,ch3:Ce,ch4:Ie,pdfColorType:"text",precision:3}),this};var Ea=e.charSpace,qd=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Ea||0)};m.__private__.setCharSpace=m.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ea=L,this};var pl=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(L){var re=m.CapJoinStyles[L];if(re===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pl=re,se(re+" J"),this};var Po=0;m.__private__.setLineJoin=m.setLineJoin=function(L){var re=m.CapJoinStyles[L];if(re===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Po=re,se(re+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(N(O(L))+" M"),this},m.GState=Xx,m.setGState=function(L){(L=typeof L=="string"?Mn[Nr[L]]:vp(null,L)).equals(Zn)||(se("/"+L.id+" gs"),Zn=L)};var vp=function(L,re){if(!L||!Nr[L]){var Ce=!1;for(var Ie in Mn)if(Mn.hasOwnProperty(Ie)&&Mn[Ie].equals(re)){Ce=!0;break}if(Ce)re=Mn[Ie];else{var Ue="GS"+(Object.keys(Mn).length+1).toString(10);Mn[Ue]=re,re.id=Ue}return L&&(Nr[L]=re.id),vn.publish("addGState",re),re}};m.addGState=function(L,re){return vp(L,re),this},m.saveGraphicsState=function(){return se("q"),Zt.push({key:At,size:Oe,color:Gs}),this},m.restoreGraphicsState=function(){se("Q");var L=Zt.pop();return At=L.key,Oe=L.size,Gs=L.color,Zn=null,this},m.setCurrentTransformationMatrix=function(L){return se(L.toString()+" cm"),this},m.comment=function(L){return se("#"+L),this};var zd=function(L,re){var Ce=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ce},set:function(ut){isNaN(ut)||(Ce=parseFloat(ut))}});var Ie=re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ie},set:function(ut){isNaN(ut)||(Ie=parseFloat(ut))}});var Ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ue},set:function(ut){Ue=ut.toString()}}),this},ih=function(L,re,Ce,Ie){zd.call(this,L,re),this.type="rect";var Ue=Ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ue},set:function(Ct){isNaN(Ct)||(Ue=parseFloat(Ct))}});var ut=Ie||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ut},set:function(Ct){isNaN(Ct)||(ut=parseFloat(Ct))}}),this},sh=function(){this.page=In,this.currentPage=B,this.pages=Te.slice(0),this.pagesContext=Bt.slice(0),this.x=tn,this.y=jt,this.matrix=_n,this.width=Vc(B),this.height=qu(B),this.outputDestination=$e,this.id="",this.objectNumber=-1};sh.prototype.restore=function(){In=this.page,B=this.currentPage,Bt=this.pagesContext,Te=this.pages,tn=this.x,jt=this.y,_n=this.matrix,$d(B,this.width),ah(B,this.height),$e=this.outputDestination};var Bd=function(L,re,Ce,Ie,Ue){Li.push(new sh),In=B=0,Te=[],tn=L,jt=re,_n=Ue,Do([Ce,Ie])},pm=function(L){if(Vr[L])Li.pop().restore();else{var re=new sh,Ce="Xo"+(Object.keys(cr).length+1).toString(10);re.id=Ce,Vr[L]=Ce,cr[Ce]=re,vn.publish("addFormObject",re),Li.pop().restore()}};for(var Ud in m.beginFormObject=function(L,re,Ce,Ie,Ue){return Bd(L,re,Ce,Ie,Ue),this},m.endFormObject=function(L){return pm(L),this},m.doFormObject=function(L,re){var Ce=cr[Vr[L]];return se("q"),se(re.toString()+" cm"),se("/"+Ce.id+" Do"),se("Q"),this},m.getFormObject=function(L){var re=cr[Vr[L]];return{x:re.x,y:re.y,width:re.width,height:re.height,matrix:re.matrix}},m.save=function(L,re){return L=L||"generated.pdf",(re=re||{}).returnPromise=re.returnPromise||!1,re.returnPromise===!1?(Lh(cl(Ja()),L),typeof Lh.unload=="function"&&cn.setTimeout&&setTimeout(Lh.unload,911),this):new Promise(function(Ce,Ie){try{var Ue=Lh(cl(Ja()),L);typeof Lh.unload=="function"&&cn.setTimeout&&setTimeout(Lh.unload,911),Ce(Ue)}catch(ut){Ie(ut.message)}})},ln.API)ln.API.hasOwnProperty(Ud)&&(Ud==="events"&&ln.API.events.length?function(L,re){var Ce,Ie,Ue;for(Ue=re.length-1;Ue!==-1;Ue--)Ce=re[Ue][0],Ie=re[Ue][1],L.subscribe.apply(L,[Ce].concat(typeof Ie=="function"?[Ie]:Ie))}(vn,ln.API.events):m[Ud]=ln.API[Ud]);var Vc=m.getPageWidth=function(L){return(Bt[L=L||B].mediaBox.topRightX-Bt[L].mediaBox.bottomLeftX)/lt},$d=m.setPageWidth=function(L,re){Bt[L].mediaBox.topRightX=re*lt+Bt[L].mediaBox.bottomLeftX},qu=m.getPageHeight=function(L){return(Bt[L=L||B].mediaBox.topRightY-Bt[L].mediaBox.bottomLeftY)/lt},ah=m.setPageHeight=function(L,re){Bt[L].mediaBox.topRightY=re*lt+Bt[L].mediaBox.bottomLeftY};return m.internal={pdfEscape:dr,getStyle:Ws,getFont:me,getFontSize:Ee,getCharSpace:qd,getTextColor:to,getLineHeight:Dn,getLineHeightFactor:wr,getLineWidth:Kt,write:he,getHorizontalCoordinate:bn,getVerticalCoordinate:qr,getCoordinateString:Ts,getVerticalCoordinateString:Or,collections:{},newObject:nr,newAdditionalObject:va,newObjectDeferred:rr,newObjectDeferredBegin:gn,getFilters:Gn,putStream:si,events:vn,scaleFactor:lt,pageSize:{getWidth:function(){return Vc(B)},setWidth:function(L){$d(B,L)},getHeight:function(){return qu(B)},setHeight:function(L){ah(B,L)}},encryptionOptions:h,encryption:gi,getEncryptor:ai,output:eo,getNumberOfPages:Pu,pages:Te,out:se,f2:X,f3:j,getPageInfo:Aa,getPageInfoByObjId:en,getCurrentPageInfo:po,getPDFVersion:y,Point:zd,Rectangle:ih,Matrix:Ot,hasHotfix:dl},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Vc(B)},set:function(L){$d(B,L)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return qu(B)},set:function(L){ah(B,L)},enumerable:!0,configurable:!0}),Qa.call(m,ve),At="F1",Hl(i,t),vn.publish("initialized"),m}S0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},S0.prototype.toHexString=function(e){return e.split("").map(function(n){return("0"+(255&n.charCodeAt(0)).toString(16)).slice(-2)}).join("")},S0.prototype.hexToBytes=function(e){for(var n=[],t=0;t<e.length;t+=2)n.push(String.fromCharCode(parseInt(e.substr(t,2),16)));return n.join("")},S0.prototype.processOwnerPassword=function(e,n){return PS(MS(n).substr(0,5),e)},S0.prototype.encryptor=function(e,n){var t=MS(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&n,n>>8&255)).substr(0,10);return function(r){return PS(t,r)}},Xx.prototype.equals=function(e){var n,t="id,objectNumber,equals";if(!e||ii(e)!==ii(this))return!1;var r=0;for(n in this)if(!(t.indexOf(n)>=0)){if(this.hasOwnProperty(n)&&!e.hasOwnProperty(n)||this[n]!==e[n])return!1;r++}for(n in e)e.hasOwnProperty(n)&&t.indexOf(n)<0&&r--;return r===0},ln.API={events:[]},ln.version="3.0.1";var ls=ln.API,pA=1,bp=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jp=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Cn=function(e){return e.toFixed(2)},Af=function(e){return e.toFixed(5)};ls.__acroform__={};var Io=function(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e},K4=function(e){return e*pA},dc=function(e){var n=new hI,t=qt.internal.getHeight(e)||0,r=qt.internal.getWidth(e)||0;return n.BBox=[0,0,Number(Cn(r)),Number(Cn(t))],n},NK=ls.__acroform__.setBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<n},jK=ls.__acroform__.clearBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<n)},TK=ls.__acroform__.getBit=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<n)==0?0:1},xs=ls.__acroform__.getBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return TK(e,n-1)},vs=ls.__acroform__.setBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return NK(e,n-1)},ws=ls.__acroform__.clearBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return jK(e,n-1)},OK=ls.__acroform__.calculateCoordinates=function(e,n){var t=n.internal.getHorizontalCoordinate,r=n.internal.getVerticalCoordinate,i=e[0],s=e[1],a=e[2],l=e[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=r(s+l)||0,c.upperRight_X=t(i+a)||0,c.upperRight_Y=r(s)||0,[Number(Cn(c.lowerLeft_X)),Number(Cn(c.lowerLeft_Y)),Number(Cn(c.upperRight_X)),Number(Cn(c.upperRight_Y))]},IK=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var n=[],t=e._V||e.DV,r=FS(e,t),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;n.push("/Tx BMC"),n.push("q"),n.push("BT"),n.push(e.scope.__private__.encodeColorString(e.color)),n.push("/"+i+" "+Cn(r.fontSize)+" Tf"),n.push("1 0 0 1 0 0 Tm"),n.push(r.text),n.push("ET"),n.push("Q"),n.push("EMC");var s=dc(e);return s.scope=e.scope,s.stream=n.join(`
`),s}},FS=function(e,n){var t=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(n=(n=n.substr(0,1)=="("?n.substr(1):n).substr(n.length-1)==")"?n.substr(0,n.length-1):n).split(" ");i=e.multiline?i.map(function(j){return j.split(`
`)}):i.map(function(j){return[j]});var s=t,a=qt.internal.getHeight(e)||0;a=a<0?-a:a;var l=qt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(j,O,M){if(j+1<i.length){var T=O+" "+i[j+1][0];return zy(T,e,M).width<=l-4}return!1};s++;e:for(;s>0;){n="",s--;var d,h,g=zy("3",e,s).height,b=e.multiline?a-s:(a-g)/2,m=b+=2,x=0,y=0,A=0;if(s<=0){n=`(...) Tj
`,n+="% Width of Text: "+zy(n,e,s=12).width+", FieldWidth:"+l+`
`;break}for(var w="",C=0,k=0;k<i.length;k++)if(i.hasOwnProperty(k)){var R=!1;if(i[k].length!==1&&A!==i[k].length-1){if((g+2)*(C+2)+2>a)continue e;w+=i[k][A],R=!0,y=k,k--}else{w=(w+=i[k][A]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var q=parseInt(k),D=c(q,w,s),N=k>=i.length-1;if(D&&!N){w+=" ",A=0;continue}if(D||N){if(N)y=q;else if(e.multiline&&(g+2)*(C+2)+2>a)continue e}else{if(!e.multiline||(g+2)*(C+2)+2>a)continue e;y=q}}for(var P="",z=x;z<=y;z++){var X=i[z];if(e.multiline){if(z===y){P+=X[A]+" ",A=(A+1)%X.length;continue}if(z===x){P+=X[X.length-1]+" ";continue}}P+=X[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,h=zy(P,e,s).width,e.textAlign){case"right":d=l-h-2;break;case"center":d=(l-h)/2;break;case"left":default:d=2}n+=Cn(d)+" "+Cn(m)+` Td
`,n+="("+bp(P)+`) Tj
`,n+=-Cn(d)+` 0 Td
`,m=-(s+2),h=0,x=R?y:y+1,C++,w=""}break}return r.text=n,r.fontSize=s,r},zy=function(e,n,t){var r=n.scope.internal.getFont(n.fontName,n.fontStyle),i=n.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:n.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},DK={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},LK=function(e,n){var t={type:"reference",object:e};n.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&n.internal.getPageInfo(e.page).pageContext.annotations.push(t)},RK=function(e,n){for(var t in e)if(e.hasOwnProperty(t)){var r=t,i=e[t];n.internal.newObjectDeferredBegin(i.objId,!0),ii(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},MK=function(e,n){if(n.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Du.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(DK)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");pA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new pI,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&LK(s,t)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var l=r[a],c=[],d=l.Rect;if(l.Rect&&(l.Rect=OK(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=qt.createDefaultAppearanceStream(l),ii(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=IK(l);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var g="";for(var b in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(b)){var m=l.appearanceStreamContent[b];if(g+="/"+b+" ",g+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var x=m[a];typeof x=="function"&&(x=x.call(i,l)),g+="/"+a+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(i,l)),g+="/"+a+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);g+=">>"}c.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}s&&RK(i.internal.acroformPlugin.xForms,i)})(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},fI=ls.__acroform__.arrayToPdfArray=function(e,n,t){var r=function(a){return a};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),ii(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(n!==void 0&&t&&(r=t.internal.getEncryptor(n)),i+="("+bp(r(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},hw=function(e,n,t){var r=function(i){return i};return n!==void 0&&t&&(r=t.internal.getEncryptor(n)),(e=e||"").toString(),e="("+bp(r(e))+")"},_c=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};_c.prototype.toString=function(){return this.objId+" 0 R"},_c.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},_c.prototype.getKeyValueListForStream=function(){var e=[],n=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in n)if(Object.getOwnPropertyDescriptor(this,n[t]).configurable===!1){var r=n[t],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:fI(i,this.objId,this.scope)}):i instanceof _c?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var hI=function(){_c.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,n=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Io(hI,_c);var pI=function(){_c.call(this);var e,n=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return n.length>0?n:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return n}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+bp(t(e))+")"}},set:function(t){e=t}})};Io(pI,_c);var Du=function e(){_c.call(this);var n=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');n=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!xs(n,3)},set:function(w){w?this.F=vs(n,3):this.F=ws(n,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');t=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Zx)return;s="FieldObject"+e.FieldNum++}var w=function(C){return C};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+bp(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/pA:d},set:function(w){d=w}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(w){h=w}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Zx||this instanceof Qh))return hw(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=w}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof ea?b:hw(b,this.objId,this.scope)},set:function(w){w=w.toString(),b=this instanceof ea?w:w.substr(0,1)==="("?Jp(w.substr(1,w.length-2)):Jp(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ea?Jp(b.substr(1,b.length-1)):b},set:function(w){w=w.toString(),b=this instanceof ea?"/"+w:w}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof ea?m:hw(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=this instanceof ea?w:w.substr(0,1)==="("?Jp(w.substr(1,w.length-2)):Jp(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ea?Jp(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof ea?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(w){w=!!w,y=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(w){x=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,1)},set:function(w){w?this.Ff=vs(this.Ff,1):this.Ff=ws(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,2)},set:function(w){w?this.Ff=vs(this.Ff,2):this.Ff=ws(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,3)},set:function(w){w?this.Ff=vs(this.Ff,3):this.Ff=ws(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');A=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(A){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};Io(Du,_c);var T0=function(){Du.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var n=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return fI(n,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(s,a,l){l||(l=1);for(var c,d=[];c=a.exec(s);)d.push(c[l]);return d}(r,/\((.*?)\)/g)),n=i}}),this.getOptions=function(){return n},this.setOptions=function(t){n=t,this.sort&&n.sort()},this.addOption=function(t){t=(t=t||"").toString(),n.push(t),this.sort&&n.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();n.indexOf(t)!==-1&&(n.splice(n.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,18)},set:function(t){t?this.Ff=vs(this.Ff,18):this.Ff=ws(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=vs(this.Ff,19):this.Ff=ws(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,20)},set:function(t){t?(this.Ff=vs(this.Ff,20),n.sort()):this.Ff=ws(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,22)},set:function(t){t?this.Ff=vs(this.Ff,22):this.Ff=ws(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,23)},set:function(t){t?this.Ff=vs(this.Ff,23):this.Ff=ws(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,27)},set:function(t){t?this.Ff=vs(this.Ff,27):this.Ff=ws(this.Ff,27)}}),this.hasAppearanceStream=!1};Io(T0,Du);var O0=function(){T0.call(this),this.fontName="helvetica",this.combo=!1};Io(O0,T0);var I0=function(){O0.call(this),this.combo=!0};Io(I0,O0);var cx=function(){I0.call(this),this.edit=!0};Io(cx,I0);var ea=function(){Du.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,15)},set:function(t){t?this.Ff=vs(this.Ff,15):this.Ff=ws(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,16)},set:function(t){t?this.Ff=vs(this.Ff,16):this.Ff=ws(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,17)},set:function(t){t?this.Ff=vs(this.Ff,17):this.Ff=ws(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,26)},set:function(t){t?this.Ff=vs(this.Ff,26):this.Ff=ws(this.Ff,26)}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(n).length!==0){var r,i=[];for(r in i.push("<<"),n)i.push("/"+r+" ("+bp(t(n[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){ii(t)==="object"&&(n=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(t){typeof t=="string"&&(n.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Io(ea,Du);var dx=function(){ea.call(this),this.pushButton=!0};Io(dx,ea);var D0=function(){ea.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n!==void 0?n:[]}})};Io(D0,ea);var Zx=function(){var e,n;Du.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(i){n=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+bp(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){ii(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=qt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Io(Zx,Du),D0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var n in this.Kids)if(this.Kids.hasOwnProperty(n)){var t=this.Kids[n];t.appearanceStreamContent=e.createAppearanceStream(t.optionName),t.caption=e.getCA()}},D0.prototype.createOption=function(e){var n=new Zx;return n.Parent=this,n.optionName=e,this.Kids.push(n),PK.call(this.scope,n),n};var fx=function(){ea.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=qt.CheckBox.createAppearanceStream()};Io(fx,ea);var Qh=function(){Du.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,13)},set:function(n){n?this.Ff=vs(this.Ff,13):this.Ff=ws(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,21)},set:function(n){n?this.Ff=vs(this.Ff,21):this.Ff=ws(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,23)},set:function(n){n?this.Ff=vs(this.Ff,23):this.Ff=ws(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,24)},set:function(n){n?this.Ff=vs(this.Ff,24):this.Ff=ws(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,25)},set:function(n){n?this.Ff=vs(this.Ff,25):this.Ff=ws(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,26)},set:function(n){n?this.Ff=vs(this.Ff,26):this.Ff=ws(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){Number.isInteger(n)&&(e=n)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Io(Qh,Du);var hx=function(){Qh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!xs(this.Ff,14)},set:function(e){e?this.Ff=vs(this.Ff,14):this.Ff=ws(this.Ff,14)}}),this.password=!0};Io(hx,Qh);var qt={CheckBox:{createAppearanceStream:function(){return{N:{On:qt.CheckBox.YesNormal},D:{On:qt.CheckBox.YesPushDown,Off:qt.CheckBox.OffPushDown}}},YesPushDown:function(e){var n=dc(e);n.scope=e.scope;var t=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=FS(e,e.caption);return t.push("0.749023 g"),t.push("0 0 "+Cn(qt.internal.getWidth(e))+" "+Cn(qt.internal.getHeight(e))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Cn(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),n.stream=t.join(`
`),n},YesNormal:function(e){var n=dc(e);n.scope=e.scope;var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=qt.internal.getHeight(e),a=qt.internal.getWidth(e),l=FS(e,e.caption);return i.push("1 g"),i.push("0 0 "+Cn(a)+" "+Cn(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Cn(a-1)+" "+Cn(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Cn(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),n.stream=i.join(`
`),n},OffPushDown:function(e){var n=dc(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Cn(qt.internal.getWidth(e))+" "+Cn(qt.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join(`
`),n}},RadioButton:{Circle:{createAppearanceStream:function(e){var n={D:{Off:qt.RadioButton.Circle.OffPushDown},N:{}};return n.N[e]=qt.RadioButton.Circle.YesNormal,n.D[e]=qt.RadioButton.Circle.YesPushDown,n},getCA:function(){return"l"},YesNormal:function(e){var n=dc(e);n.scope=e.scope;var t=[],r=qt.internal.getWidth(e)<=qt.internal.getHeight(e)?qt.internal.getWidth(e)/4:qt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=qt.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Af(qt.internal.getWidth(e)/2)+" "+Af(qt.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n},YesPushDown:function(e){var n=dc(e);n.scope=e.scope;var t=[],r=qt.internal.getWidth(e)<=qt.internal.getHeight(e)?qt.internal.getWidth(e)/4:qt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*qt.internal.Bezier_C).toFixed(5)),a=Number((r*qt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Af(qt.internal.getWidth(e)/2)+" "+Af(qt.internal.getHeight(e)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Af(qt.internal.getWidth(e)/2)+" "+Af(qt.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n},OffPushDown:function(e){var n=dc(e);n.scope=e.scope;var t=[],r=qt.internal.getWidth(e)<=qt.internal.getHeight(e)?qt.internal.getWidth(e)/4:qt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*qt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Af(qt.internal.getWidth(e)/2)+" "+Af(qt.internal.getHeight(e)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n}},Cross:{createAppearanceStream:function(e){var n={D:{Off:qt.RadioButton.Cross.OffPushDown},N:{}};return n.N[e]=qt.RadioButton.Cross.YesNormal,n.D[e]=qt.RadioButton.Cross.YesPushDown,n},getCA:function(){return"8"},YesNormal:function(e){var n=dc(e);n.scope=e.scope;var t=[],r=qt.internal.calculateCross(e);return t.push("q"),t.push("1 1 "+Cn(qt.internal.getWidth(e)-2)+" "+Cn(qt.internal.getHeight(e)-2)+" re"),t.push("W"),t.push("n"),t.push(Cn(r.x1.x)+" "+Cn(r.x1.y)+" m"),t.push(Cn(r.x2.x)+" "+Cn(r.x2.y)+" l"),t.push(Cn(r.x4.x)+" "+Cn(r.x4.y)+" m"),t.push(Cn(r.x3.x)+" "+Cn(r.x3.y)+" l"),t.push("s"),t.push("Q"),n.stream=t.join(`
`),n},YesPushDown:function(e){var n=dc(e);n.scope=e.scope;var t=qt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Cn(qt.internal.getWidth(e))+" "+Cn(qt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Cn(qt.internal.getWidth(e)-2)+" "+Cn(qt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Cn(t.x1.x)+" "+Cn(t.x1.y)+" m"),r.push(Cn(t.x2.x)+" "+Cn(t.x2.y)+" l"),r.push(Cn(t.x4.x)+" "+Cn(t.x4.y)+" m"),r.push(Cn(t.x3.x)+" "+Cn(t.x3.y)+" l"),r.push("s"),r.push("Q"),n.stream=r.join(`
`),n},OffPushDown:function(e){var n=dc(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Cn(qt.internal.getWidth(e))+" "+Cn(qt.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join(`
`),n}}},createDefaultAppearanceStream:function(e){var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,t=e.scope.__private__.encodeColorString(e.color);return"/"+n+" "+e.fontSize+" Tf "+t}};qt.internal={Bezier_C:.551915024494,calculateCross:function(e){var n=qt.internal.getWidth(e),t=qt.internal.getHeight(e),r=Math.min(n,t);return{x1:{x:(n-r)/2,y:(t-r)/2+r},x2:{x:(n-r)/2+r,y:(t-r)/2},x3:{x:(n-r)/2,y:(t-r)/2},x4:{x:(n-r)/2+r,y:(t-r)/2+r}}}},qt.internal.getWidth=function(e){var n=0;return ii(e)==="object"&&(n=K4(e.Rect[2])),n},qt.internal.getHeight=function(e){var n=0;return ii(e)==="object"&&(n=K4(e.Rect[3])),n};var PK=ls.addField=function(e){if(MK(this,e),!(e instanceof Du))throw new Error("Invalid argument passed to jsPDF.addField.");var n;return(n=e).scope.internal.acroformPlugin.printedOut&&(n.scope.internal.acroformPlugin.printedOut=!1,n.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),n.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(n),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ls.AcroFormChoiceField=T0,ls.AcroFormListBox=O0,ls.AcroFormComboBox=I0,ls.AcroFormEditBox=cx,ls.AcroFormButton=ea,ls.AcroFormPushButton=dx,ls.AcroFormRadioButton=D0,ls.AcroFormCheckBox=fx,ls.AcroFormTextField=Qh,ls.AcroFormPasswordField=hx,ls.AcroFormAppearance=qt,ls.AcroForm={ChoiceField:T0,ListBox:O0,ComboBox:I0,EditBox:cx,Button:ea,PushButton:dx,RadioButton:D0,CheckBox:fx,TextField:Qh,PasswordField:hx,Appearance:qt},ln.AcroForm={ChoiceField:T0,ListBox:O0,ComboBox:I0,EditBox:cx,Button:ea,PushButton:dx,RadioButton:D0,CheckBox:fx,TextField:Qh,PasswordField:hx,Appearance:qt};ln.AcroForm;function mI(e){return e.reduce(function(n,t,r){return n[t]=r,n},{})}(function(e){e.__addimage__={};var n="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(j,O){var M,T,Q,H,Y,Z=n;if((O=O||n)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(D(j))for(Y in t)for(Q=t[Y],M=0;M<Q.length;M+=1){for(H=!0,T=0;T<Q[M].length;T+=1)if(Q[M][T]!==void 0&&Q[M][T]!==j[T]){H=!1;break}if(H===!0){Z=Y;break}}else for(Y in t)for(Q=t[Y],M=0;M<Q.length;M+=1){for(H=!0,T=0;T<Q[M].length;T+=1)if(Q[M][T]!==void 0&&Q[M][T]!==j.charCodeAt(T)){H=!1;break}if(H===!0){Z=Y;break}}return Z===n&&O!==n&&(Z=O),Z},i=function j(O){for(var M=this.internal.write,T=this.internal.putStream,Q=(0,this.internal.getFilters)();Q.indexOf("FlateEncode")!==-1;)Q.splice(Q.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var H=[];if(H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Image"}),H.push({key:"Width",value:O.width}),H.push({key:"Height",value:O.height}),O.colorSpace===A.INDEXED?H.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(H.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===A.DEVICE_CMYK&&H.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),H.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&H.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var Y="",Z=0,ae=O.transparency.length;Z<ae;Z++)Y+=O.transparency[Z]+" "+O.transparency[Z]+" ";H.push({key:"Mask",value:"["+Y+"]"})}O.sMask!==void 0&&H.push({key:"SMask",value:O.objectId+1+" 0 R"});var G=O.filter!==void 0?["/"+O.filter]:void 0;if(T({data:O.data,additionalKeyValues:H,alreadyAppliedFilters:G,objectId:O.objectId}),M("endobj"),"sMask"in O&&O.sMask!==void 0){var le="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,U={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:le,data:O.sMask};"filter"in O&&(U.filter=O.filter),j.call(this,U)}if(O.colorSpace===A.INDEXED){var B=this.internal.newObject();T({data:P(new Uint8Array(O.palette)),objectId:B}),M("endobj")}},s=function(){var j=this.internal.collections.addImage_images;for(var O in j)i.call(this,j[O])},a=function(){var j,O=this.internal.collections.addImage_images,M=this.internal.write;for(var T in O)M("/I"+(j=O[T]).index,j.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var j=this.internal.collections.addImage_images;return l.call(this),j},d=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(j){return typeof e["process"+j.toUpperCase()]=="function"},g=function(j){return ii(j)==="object"&&j.nodeType===1},b=function(j,O){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var M=""+j.getAttribute("src");if(M.indexOf("data:image/")===0)return sg(unescape(M).split("base64,").pop());var T=e.loadFile(M,!0);if(T!==void 0)return T}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var Q;switch(O){case"PNG":Q="image/png";break;case"WEBP":Q="image/webp";break;case"JPEG":case"JPG":default:Q="image/jpeg"}return sg(j.toDataURL(Q,1).split("base64,").pop())}},m=function(j){var O=this.internal.collections.addImage_images;if(O){for(var M in O)if(j===O[M].alias)return O[M]}},x=function(j,O,M){return j||O||(j=-96,O=-96),j<0&&(j=-1*M.width*72/j/this.internal.scaleFactor),O<0&&(O=-1*M.height*72/O/this.internal.scaleFactor),j===0&&(j=O*M.width/M.height),O===0&&(O=j*M.height/M.width),[j,O]},y=function(j,O,M,T,Q,H){var Y=x.call(this,M,T,Q),Z=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,G=c.call(this);if(M=Y[0],T=Y[1],G[Q.index]=Q,H){H*=Math.PI/180;var le=Math.cos(H),U=Math.sin(H),B=function(J){return J.toFixed(4)},ie=[B(le),B(U),B(-1*U),B(le),0,0,"cm"]}this.internal.write("q"),H?(this.internal.write([1,"0","0",1,Z(j),ae(O+T),"cm"].join(" ")),this.internal.write(ie.join(" ")),this.internal.write([Z(M),"0","0",Z(T),"0","0","cm"].join(" "))):this.internal.write([Z(M),"0","0",Z(T),Z(j),ae(O+T),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Q.index+" Do"),this.internal.write("Q")},A=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=e.__addimage__.sHashCode=function(j){var O,M,T=0;if(typeof j=="string")for(M=j.length,O=0;O<M;O++)T=(T<<5)-T+j.charCodeAt(O),T|=0;else if(D(j))for(M=j.byteLength/2,O=0;O<M;O++)T=(T<<5)-T+j[O],T|=0;return T},k=e.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var O=!0;return j.length===0&&(O=!1),j.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(O=!1),O},R=e.__addimage__.extractImageFromDataUrl=function(j){if(j==null||!(j=j.trim()).startsWith("data:"))return null;var O=j.indexOf(",");return O<0?null:j.substring(0,O).trim().endsWith("base64")?j.substring(O+1):null},q=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(j){return q()&&j instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(j){return q()&&typeof Uint32Array<"u"&&(j instanceof Int8Array||j instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array)},N=e.__addimage__.binaryStringToUint8Array=function(j){for(var O=j.length,M=new Uint8Array(O),T=0;T<O;T++)M[T]=j.charCodeAt(T);return M},P=e.__addimage__.arrayBufferToBinaryString=function(j){for(var O="",M=D(j)?j:new Uint8Array(j),T=0;T<M.length;T+=8192)O+=String.fromCharCode.apply(null,M.subarray(T,T+8192));return O};e.addImage=function(){var j,O,M,T,Q,H,Y,Z,ae;if(typeof arguments[1]=="number"?(O=n,M=arguments[1],T=arguments[2],Q=arguments[3],H=arguments[4],Y=arguments[5],Z=arguments[6],ae=arguments[7]):(O=arguments[1],M=arguments[2],T=arguments[3],Q=arguments[4],H=arguments[5],Y=arguments[6],Z=arguments[7],ae=arguments[8]),ii(j=arguments[0])==="object"&&!g(j)&&"imageData"in j){var G=j;j=G.imageData,O=G.format||O||n,M=G.x||M||0,T=G.y||T||0,Q=G.w||G.width||Q,H=G.h||G.height||H,Y=G.alias||Y,Z=G.compression||Z,ae=G.rotation||G.angle||ae}var le=this.internal.getFilters();if(Z===void 0&&le.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(M)||isNaN(T))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var U=z.call(this,j,O,Y,Z);return y.call(this,M,T,Q,H,U,ae),this};var z=function(j,O,M,T){var Q,H,Y;if(typeof j=="string"&&r(j)===n){j=unescape(j);var Z=X(j,!1);(Z!==""||(Z=e.loadFile(j,!0))!==void 0)&&(j=Z)}if(g(j)&&(j=b(j,O)),O=r(j,O),!h(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((Y=M)==null||Y.length===0)&&(M=function(ae){return typeof ae=="string"||D(ae)?C(ae):D(ae.data)?C(ae.data):null}(j)),(Q=m.call(this,M))||(q()&&(j instanceof Uint8Array||O==="RGBA"||(H=j,j=N(j))),Q=this["process"+O.toUpperCase()](j,d.call(this),M,function(ae){return ae&&typeof ae=="string"&&(ae=ae.toUpperCase()),ae in e.image_compression?ae:w.NONE}(T),H)),!Q)throw new Error("An unknown error occurred whilst processing the image.");return Q},X=e.__addimage__.convertBase64ToBinaryString=function(j,O){O=typeof O!="boolean"||O;var M,T="";if(typeof j=="string"){var Q;M=(Q=R(j))!==null&&Q!==void 0?Q:j;try{T=sg(M)}catch(H){if(O)throw k(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+H.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return T};e.getImageProperties=function(j){var O,M,T="";if(g(j)&&(j=b(j)),typeof j=="string"&&r(j)===n&&((T=X(j,!1))===""&&(T=e.loadFile(j)||""),j=T),M=r(j),!h(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(!q()||j instanceof Uint8Array||(j=N(j)),!(O=this["process"+M.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=M,O}})(ln.API),function(e){var n=function(t){if(t!==void 0&&t!="")return!0};ln.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(t){for(var r,i,s,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,h=!1,g=0;g<d.length&&!h;g++)switch((r=d[g]).type){case"link":(n(r.options.url)||n(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var b=0;b<d.length;b++){r=d[b];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(y.objId),C=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+m(w(r.contents))+")",s+=" /Popup "+A.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+m(w(C))+") >>",y.content=s;var k=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+k,r.open&&(s+=" /Open true"),s+=" >>",A.content=s,this.internal.write(y.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+l(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(x(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var q=this.annotations._nameMap[r.options.name];r.options.pageNumber=q.page,r.options.top=q.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var D=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+D+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},e.link=function(t,r,i,s,a){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(t),y:d(r),w:c(t+i),h:d(r+s)},options:a,type:"link"})},e.textWithLink=function(t,r,i,s){var a,l,c=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var h=this.splitTextToSize(t,l).length;a=Math.ceil(d*h)}else l=c,a=d;return this.text(t,r,i,s),i+=.2*d,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-d,l,a,s),c},e.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(ln.API),function(e){var n={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(y){return n[y.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},l=e.__arabicParser__.isArabicEndLetter=function(y){return a(y)&&s(y)&&n[y.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(y){return a(y)&&i.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return a(y)&&s(y)&&n[y.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return a(y)&&s(y)&&n[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return a(y)&&s(y)&&n[y.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return a(y)&&s(y)&&n[y.charCodeAt(0)].length==4},g=e.__arabicParser__.resolveLigatures=function(y){var A=0,w=t,C="",k=0;for(A=0;A<y.length;A+=1)w[y.charCodeAt(A)]!==void 0?(k++,typeof(w=w[y.charCodeAt(A)])=="number"&&(C+=String.fromCharCode(w),w=t,k=0),A===y.length-1&&(w=t,C+=y.charAt(A-(k-1)),A-=k-1,k=0)):(w=t,C+=y.charAt(A-k),A-=k,k=0);return C};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var b=e.__arabicParser__.getCorrectForm=function(y,A,w){return a(y)?s(y)===!1?-1:!d(y)||!a(A)&&!a(w)||!a(w)&&l(A)||l(y)&&!a(A)||l(y)&&c(A)||l(y)&&l(A)?0:h(y)&&a(A)&&!l(A)&&a(w)&&d(w)?3:l(y)||!a(w)?1:2:-1},m=function(y){var A=0,w=0,C=0,k="",R="",q="",D=(y=y||"").split("\\s+"),N=[];for(A=0;A<D.length;A+=1){for(N.push(""),w=0;w<D[A].length;w+=1)k=D[A][w],R=D[A][w-1],q=D[A][w+1],a(k)?(C=b(k,R,q),N[A]+=C!==-1?String.fromCharCode(n[k.charCodeAt(0)][C]):k):N[A]+=k;N[A]=g(N[A])}return N.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var y,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(A)){var C=0;for(w=[],C=0;C<A.length;C+=1)Array.isArray(A[C])?w.push([m(A[C][0]),A[C][1],A[C][2]]):w.push([m(A[C])]);y=w}else y=m(A);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",x])}(ln.API),ln.API.autoPrint=function(e){var n;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+n+" 0 R")})}return this},function(e){var n=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};n.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},n.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new n,this.canvas.pdf=this}])}(ln.API),function(e){var n={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},n),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(y){b=y}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(y){x=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){r.call(this);var h=(d=d||{}).fontSize||this.getFontSize(),g=d.font||this.getFont(),b=d.scaleFactor||this.internal.scaleFactor,m=0,x=0,y=0,A=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var w=d.maxWidth;w>0?typeof c=="string"?c=this.splitTextToSize(c,w):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(k,R){return k.concat(A.splitTextToSize(R,w))},[])):c=Array.isArray(c)?c:[c];for(var C=0;C<c.length;C++)m<(y=this.getStringUnitWidth(c[C],{font:g})*h)&&(m=y);return m!==0&&(x=c.length),{w:m/=b,h:Math.max((x*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/b,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||n;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,g=this.internal.__cell__.margins||n,b=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=g.top,m&&b&&(this.printHeaderRow(c.lineNumber,!0),c.y+=b[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,h,g,b){if(r.call(this),!h)throw new Error("No data for PDF table.");var m,x,y,A,w=[],C=[],k=[],R={},q={},D=[],N=[],P=(b=b||{}).autoSize||!1,z=b.printHeaders!==!1,X=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,j=b.margins||Object.assign({width:this.getPageWidth()},n),O=typeof b.padding=="number"?b.padding:3,M=b.headerBackgroundColor||"#c8c8c8",T=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=z,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=T,this.setFontSize(X),g==null)C=w=Object.keys(h[0]),k=w.map(function(){return"left"});else if(Array.isArray(g)&&ii(g[0])==="object")for(w=g.map(function(G){return G.name}),C=g.map(function(G){return G.prompt||G.name||""}),k=g.map(function(G){return G.align||"left"}),m=0;m<g.length;m+=1)q[g[m].name]=g[m].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(C=w=g,k=w.map(function(){return"left"}));if(P||Array.isArray(g)&&typeof g[0]=="string")for(m=0;m<w.length;m+=1){for(R[A=w[m]]=h.map(function(G){return G[A]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(C[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=R[A],this.setFont(void 0,"normal"),y=0;y<x.length;y+=1)D.push(this.getTextDimensions(x[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[A]=Math.max.apply(null,D)+O+O,D=[]}if(z){var Q={};for(m=0;m<w.length;m+=1)Q[w[m]]={},Q[w[m]].text=C[m],Q[w[m]].align=k[m];var H=l.call(this,Q,q);N=w.map(function(G){return new s(c,d,q[G],H,Q[G].text,void 0,Q[G].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var Y=g.reduce(function(G,le){return G[le.name]=le.align,G},{});for(m=0;m<h.length;m+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:m,data:h[m]},this);var Z=l.call(this,h[m],q);for(y=0;y<w.length;y+=1){var ae=h[m][w[y]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:m,col:y,data:ae},this),a.call(this,new s(c,d,q[w[y]],Z,ae,m+2,Y[w[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var h=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(c).map(function(m){var x=c[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[m]-h-h)},this).map(function(m){return this.getLineHeightFactor()*m.length*g/b+h+h},this).reduce(function(m,x){return Math.max(m,x)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){h=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(h.y=this.internal.__cell__.margins.top||0,b.push(h)),h.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,h),this.setTextColor(x)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),t=!1}}(ln.API);var gI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},bI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],qS=mI(bI),yI=[100,200,300,400,500,600,700,800,900],FK=mI(yI);function zS(e){var n=e.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return gI[s=s||"normal"]?s:"normal"}(e.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof qS[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:n,style:t,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:n,style:[i,t,r].join(" ")}}}function X4(e,n,t,r){var i;for(i=t;i>=0&&i<n.length;i+=r)if(e[n[i]])return e[n[i]];for(i=t;i>=0&&i<n.length;i-=r)if(e[n[i]])return e[n[i]]}var qK={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Z4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function J4(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function zK(e,n,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},qK,t.genericFontFamilies||{}),s=null,a=null,l=0;l<n.length;++l)if(i[(s=zS(n[l])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){a=e[s.family];break}if(!(a=a||e[r]))throw new Error("Could not find a font-family for the rule '"+J4(s)+"' and default family '"+r+"'.");if(a=function(c,d){if(d[c])return d[c];var h=qS[c],g=h<=qS.normal?-1:1,b=X4(d,bI,h,g);if(!b)throw new Error("Could not find a matching font-stretch value for "+c);return b}(s.stretch,a),a=function(c,d){if(d[c])return d[c];for(var h=gI[c],g=0;g<h.length;++g)if(d[h[g]])return d[h[g]];throw new Error("Could not find a matching font-style for "+c)}(s.style,a),!(a=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var h=FK[c],g=X4(d,yI,h,c<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+c);return g}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+J4(s)+"'.");return a}function ek(e){return e.trimLeft()}function BK(e,n){for(var t=0;t<e.length;){if(e.charAt(t)===n)return[e.substring(0,t),e.substring(t+1)];t+=1}return null}function UK(e){var n=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return n===null?null:[n[0],e.substring(n[0].length)]}var By,tk,nk,pw=["times"];(function(e){var n,t,r,i,s,a,l,c,d,h=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new c,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new a,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new a,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new g(this),n=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new h}]);var g=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=U;Object.defineProperty(this,"pdf",{get:function(){return B}});var ie=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ie},set:function(we){ie=!!we}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(we){J=!!we}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(we){isNaN(we)||(ne=we)}});var xe=0;Object.defineProperty(this,"posY",{get:function(){return xe},set:function(we){isNaN(we)||(xe=we)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(we){var se;typeof we=="number"?se=[we,we,we,we]:((se=new Array(4))[0]=we[0],se[1]=we.length>=2?we[1]:se[0],se[2]=we.length>=3?we[2]:se[0],se[3]=we.length>=4?we[3]:se[1]),d.margin=se}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(we){ye=we}});var Ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ae},set:function(we){Ae=we}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(we){Ne=we}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(we){we instanceof h&&(d=we)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(we){d.path=we}});var Te=[];Object.defineProperty(this,"ctxStack",{get:function(){return Te},set:function(we){Te=we}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(we){var se;se=b(we),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(we){var se=b(we);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(we){["butt","round","square"].indexOf(we)!==-1&&(this.ctx.lineCap=we,this.pdf.setLineCap(we))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(we){isNaN(we)||(this.ctx.lineWidth=we,this.pdf.setLineWidth(we))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(we){["bevel","round","miter"].indexOf(we)!==-1&&(this.ctx.lineJoin=we,this.pdf.setLineJoin(we))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(we){isNaN(we)||(this.ctx.miterLimit=we,this.pdf.setMiterLimit(we))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(we){this.ctx.textBaseline=we}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(we){["right","end","center","left","start"].indexOf(we)!==-1&&(this.ctx.textAlign=we)}});var qe=null;function $e(we,se){if(qe===null){var he=function(de){var ve=[];return Object.keys(de).forEach(function(Oe){de[Oe].forEach(function(Re){var Ee=null;switch(Re){case"bold":Ee={family:Oe,weight:"bold"};break;case"italic":Ee={family:Oe,style:"italic"};break;case"bolditalic":Ee={family:Oe,weight:"bold",style:"italic"};break;case"":case"normal":Ee={family:Oe}}Ee!==null&&(Ee.ref={name:Oe,style:Re},ve.push(Ee))})}),ve}(we.getFontList());qe=function(de){for(var ve={},Oe=0;Oe<de.length;++Oe){var Re=zS(de[Oe]),Ee=Re.family,Ge=Re.stretch,Xe=Re.style,Be=Re.weight;ve[Ee]=ve[Ee]||{},ve[Ee][Ge]=ve[Ee][Ge]||{},ve[Ee][Ge][Xe]=ve[Ee][Ge][Xe]||{},ve[Ee][Ge][Xe][Be]=Re}return ve}(he.concat(se))}return qe}var V=null;Object.defineProperty(this,"fontFaces",{get:function(){return V},set:function(we){qe=null,V=we}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(we){var se;if(this.ctx.font=we,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(we))!==null){var he=se[1];se[2];var de=se[3],ve=se[4];se[5];var Oe=se[6],Re=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ve)[2];ve=Math.floor(Re==="px"?parseFloat(ve)*this.pdf.internal.scaleFactor:Re==="em"?parseFloat(ve)*this.pdf.getFontSize():parseFloat(ve)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ve);var Ee=function(Je){var At,lt,tn=[],jt=Je.trim();if(jt==="")return pw;if(jt in Z4)return[Z4[jt]];for(;jt!=="";){switch(lt=null,At=(jt=ek(jt)).charAt(0)){case'"':case"'":lt=BK(jt.substring(1),At);break;default:lt=UK(jt)}if(lt===null||(tn.push(lt[0]),(jt=ek(lt[1]))!==""&&jt.charAt(0)!==","))return pw;jt=jt.replace(/^,/,"")}return tn}(Oe);if(this.fontFaces){var Ge=zK($e(this.pdf,this.fontFaces),Ee.map(function(Je){return{family:Je,stretch:"normal",weight:de,style:he}}));this.pdf.setFont(Ge.ref.name,Ge.ref.style)}else{var Xe="";(de==="bold"||parseInt(de,10)>=700||he==="bold")&&(Xe="bold"),he==="italic"&&(Xe+="italic"),Xe.length===0&&(Xe="normal");for(var Be="",rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},je=0;je<Ee.length;je++){if(this.pdf.internal.getFont(Ee[je],Xe,{noFallback:!0,disableWarning:!0})!==void 0){Be=Ee[je];break}if(Xe==="bolditalic"&&this.pdf.internal.getFont(Ee[je],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Be=Ee[je],Xe="bold";else if(this.pdf.internal.getFont(Ee[je],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Be=Ee[je],Xe="normal";break}}if(Be===""){for(var He=0;He<Ee.length;He++)if(rt[Ee[He]]){Be=rt[Ee[He]];break}}Be=Be===""?"Times":Be,this.pdf.setFont(Be,Xe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(we){this.ctx.globalCompositeOperation=we}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(we){this.ctx.globalAlpha=we}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(we){this.ctx.lineDashOffset=we,le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(we){this.ctx.lineDash=we,le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(we){this.ctx.ignoreClearRect=!!we}})};g.prototype.setLineDash=function(U){this.lineDash=U},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){R.call(this,"fill",!1)},g.prototype.stroke=function(){R.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(U,B){if(isNaN(U)||isNaN(B))throw ri.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ie=this.ctx.transform.applyToPoint(new a(U,B));this.path.push({type:"mt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new a(U,B)},g.prototype.closePath=function(){var U=new a(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&ii(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){U=new a(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(U.x,U.y)},g.prototype.lineTo=function(U,B){if(isNaN(U)||isNaN(B))throw ri.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ie=this.ctx.transform.applyToPoint(new a(U,B));this.path.push({type:"lt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new a(ie.x,ie.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},g.prototype.quadraticCurveTo=function(U,B,ie,J){if(isNaN(ie)||isNaN(J)||isNaN(U)||isNaN(B))throw ri.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new a(ie,J)),xe=this.ctx.transform.applyToPoint(new a(U,B));this.path.push({type:"qct",x1:xe.x,y1:xe.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(ne.x,ne.y)},g.prototype.bezierCurveTo=function(U,B,ie,J,ne,xe){if(isNaN(ne)||isNaN(xe)||isNaN(U)||isNaN(B)||isNaN(ie)||isNaN(J))throw ri.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new a(ne,xe)),Ae=this.ctx.transform.applyToPoint(new a(U,B)),Ne=this.ctx.transform.applyToPoint(new a(ie,J));this.path.push({type:"bct",x1:Ae.x,y1:Ae.y,x2:Ne.x,y2:Ne.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new a(ye.x,ye.y)},g.prototype.arc=function(U,B,ie,J,ne,xe){if(isNaN(U)||isNaN(B)||isNaN(ie)||isNaN(J)||isNaN(ne))throw ri.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(xe=!!xe,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new a(U,B));U=ye.x,B=ye.y;var Ae=this.ctx.transform.applyToPoint(new a(0,ie)),Ne=this.ctx.transform.applyToPoint(new a(0,0));ie=Math.sqrt(Math.pow(Ae.x-Ne.x,2)+Math.pow(Ae.y-Ne.y,2))}Math.abs(ne-J)>=2*Math.PI&&(J=0,ne=2*Math.PI),this.path.push({type:"arc",x:U,y:B,radius:ie,startAngle:J,endAngle:ne,counterclockwise:xe})},g.prototype.arcTo=function(U,B,ie,J,ne){throw new Error("arcTo not implemented.")},g.prototype.rect=function(U,B,ie,J){if(isNaN(U)||isNaN(B)||isNaN(ie)||isNaN(J))throw ri.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,B),this.lineTo(U+ie,B),this.lineTo(U+ie,B+J),this.lineTo(U,B+J),this.lineTo(U,B),this.lineTo(U+ie,B),this.lineTo(U,B)},g.prototype.fillRect=function(U,B,ie,J){if(isNaN(U)||isNaN(B)||isNaN(ie)||isNaN(J))throw ri.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,B,ie,J),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},g.prototype.strokeRect=function(U,B,ie,J){if(isNaN(U)||isNaN(B)||isNaN(ie)||isNaN(J))throw ri.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(U,B,ie,J),this.stroke())},g.prototype.clearRect=function(U,B,ie,J){if(isNaN(U)||isNaN(B)||isNaN(ie)||isNaN(J))throw ri.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,B,ie,J))},g.prototype.save=function(U){U=typeof U!="boolean"||U;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},g.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("Q");this.pdf.setPage(B),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(U){var B,ie,J,ne;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))B=0,ie=0,J=0,ne=0;else{var xe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(xe!==null)B=parseInt(xe[1]),ie=parseInt(xe[2]),J=parseInt(xe[3]),ne=1;else if((xe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)B=parseInt(xe[1]),ie=parseInt(xe[2]),J=parseInt(xe[3]),ne=parseFloat(xe[4]);else{if(ne=1,typeof U=="string"&&U.charAt(0)!=="#"){var ye=new uI(U);U=ye.ok?ye.toHex():"#000000"}U.length===4?(B=U.substring(1,2),B+=B,ie=U.substring(2,3),ie+=ie,J=U.substring(3,4),J+=J):(B=U.substring(1,3),ie=U.substring(3,5),J=U.substring(5,7)),B=parseInt(B,16),ie=parseInt(ie,16),J=parseInt(J,16)}}return{r:B,g:ie,b:J,a:ne,style:U}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(U,B,ie,J){if(isNaN(B)||isNaN(ie)||typeof U!="string")throw ri.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!m.call(this)){var ne=Z(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;O.call(this,{text:U,x:B,y:ie,scale:xe,angle:ne,align:this.textAlign,maxWidth:J})}},g.prototype.strokeText=function(U,B,ie,J){if(isNaN(B)||isNaN(ie)||typeof U!="string")throw ri.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){J=isNaN(J)?void 0:J;var ne=Z(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;O.call(this,{text:U,x:B,y:ie,scale:xe,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:J})}},g.prototype.measureText=function(U){if(typeof U!="string")throw ri.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,ie=this.pdf.internal.scaleFactor,J=B.internal.getFontSize(),ne=B.getStringUnitWidth(U)*J/B.internal.scaleFactor,xe=function(ye){var Ae=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ae}}),this};return new xe({width:ne*=Math.round(96*ie/72*1e4)/1e4})},g.prototype.scale=function(U,B){if(isNaN(U)||isNaN(B))throw ri.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ie=new c(U,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(ie)},g.prototype.rotate=function(U){if(isNaN(U))throw ri.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new c(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},g.prototype.translate=function(U,B){if(isNaN(U)||isNaN(B))throw ri.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ie=new c(1,0,0,1,U,B);this.ctx.transform=this.ctx.transform.multiply(ie)},g.prototype.transform=function(U,B,ie,J,ne,xe){if(isNaN(U)||isNaN(B)||isNaN(ie)||isNaN(J)||isNaN(ne)||isNaN(xe))throw ri.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new c(U,B,ie,J,ne,xe);this.ctx.transform=this.ctx.transform.multiply(ye)},g.prototype.setTransform=function(U,B,ie,J,ne,xe){U=isNaN(U)?1:U,B=isNaN(B)?0:B,ie=isNaN(ie)?0:ie,J=isNaN(J)?1:J,ne=isNaN(ne)?0:ne,xe=isNaN(xe)?0:xe,this.ctx.transform=new c(U,B,ie,J,ne,xe)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(U,B,ie,J,ne,xe,ye,Ae,Ne){var Te=this.pdf.getImageProperties(U),qe=1,$e=1,V=1,we=1;J!==void 0&&Ae!==void 0&&(V=Ae/J,we=Ne/ne,qe=Te.width/J*Ae/J,$e=Te.height/ne*Ne/ne),xe===void 0&&(xe=B,ye=ie,B=0,ie=0),J!==void 0&&Ae===void 0&&(Ae=J,Ne=ne),J===void 0&&Ae===void 0&&(Ae=Te.width,Ne=Te.height);for(var se,he=this.ctx.transform.decompose(),de=Z(he.rotate.shx),ve=new c,Oe=(ve=(ve=(ve=ve.multiply(he.translate)).multiply(he.skew)).multiply(he.scale)).applyToRectangle(new l(xe-B*V,ye-ie*we,J*qe,ne*$e)),Re=A.call(this,Oe),Ee=[],Ge=0;Ge<Re.length;Ge+=1)Ee.indexOf(Re[Ge])===-1&&Ee.push(Re[Ge]);if(k(Ee),this.autoPaging)for(var Xe=Ee[0],Be=Ee[Ee.length-1],rt=Xe;rt<Be+1;rt++){this.pdf.setPage(rt);var je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=rt===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=rt===1?0:Je+(rt-2)*At;if(this.ctx.clip_path.length!==0){var tn=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(se,this.posX+this.margin[3],-lt+He+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=tn}var jt=JSON.parse(JSON.stringify(Oe));jt=C([jt],this.posX+this.margin[3],-lt+He+this.ctx.prevPageLastElemOffset)[0];var _n=(rt>Xe||rt<Be)&&y.call(this);_n&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],je,At,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",jt.x,jt.y,jt.w,jt.h,null,null,de),_n&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,de)};var A=function(U,B,ie){var J=[];B=B||this.pdf.internal.pageSize.width,ie=ie||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":J.push(Math.floor((U.y+ne)/ie)+1);break;case"arc":J.push(Math.floor((U.y+ne-U.radius)/ie)+1),J.push(Math.floor((U.y+ne+U.radius)/ie)+1);break;case"qct":var xe=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);J.push(Math.floor((xe.y+ne)/ie)+1),J.push(Math.floor((xe.y+xe.h+ne)/ie)+1);break;case"bct":var ye=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);J.push(Math.floor((ye.y+ne)/ie)+1),J.push(Math.floor((ye.y+ye.h+ne)/ie)+1);break;case"rect":J.push(Math.floor((U.y+ne)/ie)+1),J.push(Math.floor((U.y+U.h+ne)/ie)+1)}for(var Ae=0;Ae<J.length;Ae+=1)for(;this.pdf.internal.getNumberOfPages()<J[Ae];)w.call(this);return J},w=function(){var U=this.fillStyle,B=this.strokeStyle,ie=this.font,J=this.lineCap,ne=this.lineWidth,xe=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=B,this.font=ie,this.lineCap=J,this.lineWidth=ne,this.lineJoin=xe},C=function(U,B,ie){for(var J=0;J<U.length;J++)switch(U[J].type){case"bct":U[J].x2+=B,U[J].y2+=ie;case"qct":U[J].x1+=B,U[J].y1+=ie;case"mt":case"lt":case"arc":default:U[J].x+=B,U[J].y+=ie}return U},k=function(U){return U.sort(function(B,ie){return B-ie})},R=function(U,B){for(var ie,J,ne=this.fillStyle,xe=this.strokeStyle,ye=this.lineCap,Ae=this.lineWidth,Ne=Math.abs(Ae*this.ctx.transform.scaleX),Te=this.lineJoin,qe=JSON.parse(JSON.stringify(this.path)),$e=JSON.parse(JSON.stringify(this.path)),V=[],we=0;we<$e.length;we++)if($e[we].x!==void 0)for(var se=A.call(this,$e[we]),he=0;he<se.length;he+=1)V.indexOf(se[he])===-1&&V.push(se[he]);for(var de=0;de<V.length;de++)for(;this.pdf.internal.getNumberOfPages()<V[de];)w.call(this);if(k(V),this.autoPaging)for(var ve=V[0],Oe=V[V.length-1],Re=ve;Re<Oe+1;Re++){this.pdf.setPage(Re),this.fillStyle=ne,this.strokeStyle=xe,this.lineCap=ye,this.lineWidth=Ne,this.lineJoin=Te;var Ee=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=Re===1?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=Re===1?0:Xe+(Re-2)*Be;if(this.ctx.clip_path.length!==0){var je=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(ie,this.posX+this.margin[3],-rt+Ge+this.ctx.prevPageLastElemOffset),q.call(this,U,!0),this.path=je}if(J=JSON.parse(JSON.stringify(qe)),this.path=C(J,this.posX+this.margin[3],-rt+Ge+this.ctx.prevPageLastElemOffset),B===!1||Re===0){var He=(Re>ve||Re<Oe)&&y.call(this);He&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ee,Be,null).clip().discardPath()),q.call(this,U,B),He&&this.pdf.restoreGraphicsState()}this.lineWidth=Ae}else this.lineWidth=Ne,q.call(this,U,B),this.lineWidth=Ae;this.path=qe},q=function(U,B){if((U!=="stroke"||B||!x.call(this))&&(U==="stroke"||B||!m.call(this))){for(var ie,J,ne=[],xe=this.path,ye=0;ye<xe.length;ye++){var Ae=xe[ye];switch(Ae.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:Ae,deltas:[],abs:[]});break;case"lt":var Ne=ne.length;if(xe[ye-1]&&!isNaN(xe[ye-1].x)&&(ie=[Ae.x-xe[ye-1].x,Ae.y-xe[ye-1].y],Ne>0)){for(;Ne>=0;Ne--)if(ne[Ne-1].close!==!0&&ne[Ne-1].begin!==!0){ne[Ne-1].deltas.push(ie),ne[Ne-1].abs.push(Ae);break}}break;case"bct":ie=[Ae.x1-xe[ye-1].x,Ae.y1-xe[ye-1].y,Ae.x2-xe[ye-1].x,Ae.y2-xe[ye-1].y,Ae.x-xe[ye-1].x,Ae.y-xe[ye-1].y],ne[ne.length-1].deltas.push(ie);break;case"qct":var Te=xe[ye-1].x+2/3*(Ae.x1-xe[ye-1].x),qe=xe[ye-1].y+2/3*(Ae.y1-xe[ye-1].y),$e=Ae.x+2/3*(Ae.x1-Ae.x),V=Ae.y+2/3*(Ae.y1-Ae.y),we=Ae.x,se=Ae.y;ie=[Te-xe[ye-1].x,qe-xe[ye-1].y,$e-xe[ye-1].x,V-xe[ye-1].y,we-xe[ye-1].x,se-xe[ye-1].y],ne[ne.length-1].deltas.push(ie);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(Ae)}}J=B?null:U==="stroke"?"stroke":"fill";for(var he=!1,de=0;de<ne.length;de++)if(ne[de].arc)for(var ve=ne[de].abs,Oe=0;Oe<ve.length;Oe++){var Re=ve[Oe];Re.type==="arc"?P.call(this,Re.x,Re.y,Re.radius,Re.startAngle,Re.endAngle,Re.counterclockwise,void 0,B,!he):M.call(this,Re.x,Re.y),he=!0}else if(ne[de].close===!0)this.pdf.internal.out("h"),he=!1;else if(ne[de].begin!==!0){var Ee=ne[de].start.x,Ge=ne[de].start.y;T.call(this,ne[de].deltas,Ee,Ge),he=!0}J&&z.call(this,J),B&&X.call(this)}},D=function(U){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ie=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-ie;case"top":return U+B-ie;case"hanging":return U+B-2*ie;case"middle":return U+B/2-ie;case"ideographic":return U;case"alphabetic":default:return U}},N=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(B,ie){this.colorStops.push([B,ie])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(U,B,ie,J,ne,xe,ye,Ae,Ne){for(var Te=H.call(this,ie,J,ne,xe),qe=0;qe<Te.length;qe++){var $e=Te[qe];qe===0&&(Ne?j.call(this,$e.x1+U,$e.y1+B):M.call(this,$e.x1+U,$e.y1+B)),Q.call(this,U,B,$e.x2,$e.y2,$e.x3,$e.y3,$e.x4,$e.y4)}Ae?X.call(this):z.call(this,ye)},z=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(U,B){this.pdf.internal.out(t(U)+" "+r(B)+" m")},O=function(U){var B;switch(U.align){case"right":case"end":B="right";break;case"center":B="center";break;case"left":case"start":default:B="left"}var ie=this.pdf.getTextDimensions(U.text),J=D.call(this,U.y),ne=N.call(this,J)-ie.h,xe=this.ctx.transform.applyToPoint(new a(U.x,J)),ye=this.ctx.transform.decompose(),Ae=new c;Ae=(Ae=(Ae=Ae.multiply(ye.translate)).multiply(ye.skew)).multiply(ye.scale);for(var Ne,Te,qe,$e=this.ctx.transform.applyToRectangle(new l(U.x,J,ie.w,ie.h)),V=Ae.applyToRectangle(new l(U.x,ne,ie.w,ie.h)),we=A.call(this,V),se=[],he=0;he<we.length;he+=1)se.indexOf(we[he])===-1&&se.push(we[he]);if(k(se),this.autoPaging)for(var de=se[0],ve=se[se.length-1],Oe=de;Oe<ve+1;Oe++){this.pdf.setPage(Oe);var Re=Oe===1?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[2],Xe=Ge-this.margin[0],Be=this.pdf.internal.pageSize.width-this.margin[1],rt=Be-this.margin[3],je=Oe===1?0:Ee+(Oe-2)*Xe;if(this.ctx.clip_path.length!==0){var He=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Ne,this.posX+this.margin[3],-1*je+Re),q.call(this,"fill",!0),this.path=He}var Je=C([JSON.parse(JSON.stringify(V))],this.posX+this.margin[3],-je+Re+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*U.scale),qe=this.lineWidth,this.lineWidth=qe*U.scale);var At=this.autoPaging!=="text";if(At||Je.y+Je.h<=Ge){if(At||Je.y>=Re&&Je.x<=Be){var lt=At?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||Be-Je.x)[0],tn=C([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-je+Re+this.ctx.prevPageLastElemOffset)[0],jt=At&&(Oe>de||Oe<ve)&&y.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,Xe,null).clip().discardPath()),this.pdf.text(lt,tn.x,tn.y,{angle:U.angle,align:B,renderingMode:U.renderingMode}),jt&&this.pdf.restoreGraphicsState()}}else Je.y<Ge&&(this.ctx.prevPageLastElemOffset+=Ge-Je.y);U.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=qe)}else U.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*U.scale),qe=this.lineWidth,this.lineWidth=qe*U.scale),this.pdf.text(U.text,xe.x+this.posX,xe.y+this.posY,{angle:U.angle,align:B,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=qe)},M=function(U,B,ie,J){ie=ie||0,J=J||0,this.pdf.internal.out(t(U+ie)+" "+r(B+J)+" l")},T=function(U,B,ie){return this.pdf.lines(U,B,ie,null,null)},Q=function(U,B,ie,J,ne,xe,ye,Ae){this.pdf.internal.out([n(i(ie+U)),n(s(J+B)),n(i(ne+U)),n(s(xe+B)),n(i(ye+U)),n(s(Ae+B)),"c"].join(" "))},H=function(U,B,ie,J){for(var ne=2*Math.PI,xe=Math.PI/2;B>ie;)B-=ne;var ye=Math.abs(ie-B);ye<ne&&J&&(ye=ne-ye);for(var Ae=[],Ne=J?-1:1,Te=B;ye>1e-5;){var qe=Te+Ne*Math.min(ye,xe);Ae.push(Y.call(this,U,Te,qe)),ye-=Math.abs(qe-Te),Te=qe}return Ae},Y=function(U,B,ie){var J=(ie-B)/2,ne=U*Math.cos(J),xe=U*Math.sin(J),ye=ne,Ae=-xe,Ne=ye*ye+Ae*Ae,Te=Ne+ye*ne+Ae*xe,qe=4/3*(Math.sqrt(2*Ne*Te)-Te)/(ye*xe-Ae*ne),$e=ye-qe*Ae,V=Ae+qe*ye,we=$e,se=-V,he=J+B,de=Math.cos(he),ve=Math.sin(he);return{x1:U*Math.cos(B),y1:U*Math.sin(B),x2:$e*de-V*ve,y2:$e*ve+V*de,x3:we*de-se*ve,y3:we*ve+se*de,x4:U*Math.cos(ie),y4:U*Math.sin(ie)}},Z=function(U){return 180*U/Math.PI},ae=function(U,B,ie,J,ne,xe){var ye=U+.5*(ie-U),Ae=B+.5*(J-B),Ne=ne+.5*(ie-ne),Te=xe+.5*(J-xe),qe=Math.min(U,ne,ye,Ne),$e=Math.max(U,ne,ye,Ne),V=Math.min(B,xe,Ae,Te),we=Math.max(B,xe,Ae,Te);return new l(qe,V,$e-qe,we-V)},G=function(U,B,ie,J,ne,xe,ye,Ae){var Ne,Te,qe,$e,V,we,se,he,de,ve,Oe,Re,Ee,Ge,Xe=ie-U,Be=J-B,rt=ne-ie,je=xe-J,He=ye-ne,Je=Ae-xe;for(Te=0;Te<41;Te++)de=(se=(qe=U+(Ne=Te/40)*Xe)+Ne*((V=ie+Ne*rt)-qe))+Ne*(V+Ne*(ne+Ne*He-V)-se),ve=(he=($e=B+Ne*Be)+Ne*((we=J+Ne*je)-$e))+Ne*(we+Ne*(xe+Ne*Je-we)-he),Te==0?(Oe=de,Re=ve,Ee=de,Ge=ve):(Oe=Math.min(Oe,de),Re=Math.min(Re,ve),Ee=Math.max(Ee,de),Ge=Math.max(Ge,ve));return new l(Math.round(Oe),Math.round(Re),Math.round(Ee-Oe),Math.round(Ge-Re))},le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,B,ie=(U=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:B}));this.prevLineDash!==ie&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ie)}}})(ln.API),function(e){var n=function(s){var a,l,c,d,h,g,b,m,x,y;for(l=[],c=0,d=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;d>c;c+=4)(h=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(g=(h=((h=((h=((h=(h-(y=h%85))/85)-(x=h%85))/85)-(m=h%85))/85)-(b=h%85))/85)%85,l.push(g+33,b+33,m+33,x+33,y+33)):l.push(122);return function(A,w){for(var C=w;C>0;C--)A.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},t=function(s){var a,l,c,d,h,g=String,b="length",m=255,x="charCodeAt",y="slice",A="replace";for(s[y](-2),s=s[y](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),c=[],d=0,h=(s+=a="uuuuu"[y](s[b]%5||5))[b];h>d;d+=5)l=52200625*(s[x](d)-33)+614125*(s[x](d+1)-33)+7225*(s[x](d+2)-33)+85*(s[x](d+3)-33)+(s[x](d+4)-33),c.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(w,C){for(var k=C;k>0;k--)w.pop()}(c,a[b]),g.fromCharCode.apply(g,c)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},i=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return s=(a=LS(a)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(s,a){var l=0,c=s||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=n(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(ln.API),function(e){e.loadFile=function(n,t,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(c,d,h){var g=new XMLHttpRequest,b=0,m=function(x){var y=x.length,A=[],w=String.fromCharCode;for(b=0;b<y;b+=1)A.push(w(255&x.charCodeAt(b)));return A.join("")};if(g.open("GET",c,!d),g.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(g.onload=function(){g.status===200?h(m(this.responseText)):h(void 0)}),g.send(null),d&&g.status===200)return m(g.responseText)}(i,s,a)}catch{}return l}(n,t,r)},e.loadImageFile=e.loadFile}(ln.API),function(e){function n(){return(cn.html2canvas?Promise.resolve(cn.html2canvas):Wi(()=>import("./html2canvas.esm-DadlvMMh.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(cn.DOMPurify?Promise.resolve(cn.DOMPurify):Wi(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=ii(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},s=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(d,h){for(var g=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),b=d.firstChild;b;b=b.nextSibling)h!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||g.appendChild(c(b,h));return d.nodeType===1&&(d.nodeName==="CANVAS"?(g.width=d.width,g.height=d.height,g.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(g.value=d.value),g.addEventListener("load",function(){g.scrollTop=d.scrollTop,g.scrollLeft=d.scrollLeft},!0)),g}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(n).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(n).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var b=0;b<d.length;++b){var m=d[b],x=m.src.find(function(y){return y.format==="truetype"});x&&c.addFont(x.url,m.ref.name,m.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(a=a||ln.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,c,d){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,c,d){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(d,h){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,d),g}).then(d,h).then(function(g){return c.updateProgress(1),g})})},s.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then,a&&(a=a.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),h=c.call(d,a,l);return s.convert(h,this.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ln.getPageSize=function(a,l,c){if(ii(a)==="object"){var d=a;a=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var h,g=(""+c).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var m,x=0,y=0;if(b.hasOwnProperty(g))x=b[g][1]/h,y=b[g][0]/h;else try{x=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",y>x&&(m=y,y=x,x=m);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",x>y&&(m=y,y=x,x=m)}return{width:y,height:x,unit:l,k:h,orientation:a}},e.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(zS):null;var c=new s(l);return l.worker?c:c.from(a).doCallback()}}(ln.API),ln.API.addJS=function(e){return nk=e,this.internal.events.subscribe("postPutResources",function(){By=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(By+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),tk=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+nk+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){By!==void 0&&tk!==void 0&&this.internal.out("/Names <</JavaScript "+By+" 0 R>>")}),this},function(e){var n;e.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],l=r.exec(a);if(l!=null){var c=l[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,h=[];for(s=0;s<d;s++){var g=t.internal.newObject();h.push(g);var b=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<h.length;s++)t.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");t.internal.write(" ] >>","endobj"),n=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+n+" 0 R"))}]),e.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var c=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ln.API),function(e){var n=[192,193,194,195,196,197,198,199];e.processJPEG=function(t,r,i,s,a,l){var c,d=this.decode.DCT_DECODE,h=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=function(g){for(var b,m=256*g.charCodeAt(4)+g.charCodeAt(5),x=g.length,y={width:0,height:0,numcomponents:1},A=4;A<x;A+=2){if(A+=m,n.indexOf(g.charCodeAt(A+1))!==-1){b=256*g.charCodeAt(A+5)+g.charCodeAt(A+6),y={width:256*g.charCodeAt(A+7)+g.charCodeAt(A+8),height:b,numcomponents:g.charCodeAt(A+9)};break}m=256*g.charCodeAt(A+2)+g.charCodeAt(A+3)}return y}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:t,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:r,alias:i}}return h}}(ln.API);var e0,Uy,rk,ik,sk,$K=function(){var e,n,t;function r(s){var a,l,c,d,h,g,b,m,x,y,A,w,C,k;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(a=this.readUInt32(),x=(function(){var R,q;for(q=[],R=0;R<4;++R)q.push(String.fromCharCode(this.data[this.pos++]));return q}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),d=this.readUInt16()||100,g.delay=1e3*h/d,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,a-=4),s=(g!=null?g.data:void 0)||this.imgData,w=0;0<=a?w<a:w>a;0<=a?++w:--w)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((y=c-this.transparency.indexed.length)>0)for(C=0;0<=y?C<y:C>y;0<=y?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":b=(A=this.read(a)).indexOf(0),m=String.fromCharCode.apply(String,A.slice(0,b)),this.text[m]=String.fromCharCode.apply(String,A.slice(b+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(k=this.colorType)===4||k===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,l;for(l=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*a),c=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function h(g,b,m,x){var y,A,w,C,k,R,q,D,N,P,z,X,j,O,M,T,Q,H,Y,Z,ae,G=Math.ceil((d.width-g)/m),le=Math.ceil((d.height-b)/x),U=d.width==G&&d.height==le;for(O=a*G,X=U?l:new Uint8Array(O*le),R=s.length,j=0,A=0;j<le&&c<R;){switch(s[c++]){case 0:for(C=Q=0;Q<O;C=Q+=1)X[A++]=s[c++];break;case 1:for(C=H=0;H<O;C=H+=1)y=s[c++],k=C<a?0:X[A-a],X[A++]=(y+k)%256;break;case 2:for(C=Y=0;Y<O;C=Y+=1)y=s[c++],w=(C-C%a)/a,M=j&&X[(j-1)*O+w*a+C%a],X[A++]=(M+y)%256;break;case 3:for(C=Z=0;Z<O;C=Z+=1)y=s[c++],w=(C-C%a)/a,k=C<a?0:X[A-a],M=j&&X[(j-1)*O+w*a+C%a],X[A++]=(y+Math.floor((k+M)/2))%256;break;case 4:for(C=ae=0;ae<O;C=ae+=1)y=s[c++],w=(C-C%a)/a,k=C<a?0:X[A-a],j===0?M=T=0:(M=X[(j-1)*O+w*a+C%a],T=w&&X[(j-1)*O+(w-1)*a+C%a]),q=k+M-T,D=Math.abs(q-k),P=Math.abs(q-M),z=Math.abs(q-T),N=D<=P&&D<=z?k:P<=z?M:T,X[A++]=(y+N)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!U){var B=((b+j*x)*d.width+g)*a,ie=j*O;for(C=0;C<G;C+=1){for(var J=0;J<a;J+=1)l[B++]=X[ie++];B+=(m-1)*a}}j++}}return s=wK(s),d.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),l},r.prototype.decodePalette=function(){var s,a,l,c,d,h,g,b,m;for(l=this.palette,h=this.transparency.indexed||[],d=new Uint8Array((h.length||0)+l.length),c=0,s=0,a=g=0,b=l.length;g<b;a=g+=3)d[c++]=l[a],d[c++]=l[a+1],d[c++]=l[a+2],d[c++]=(m=h[s++])!=null?m:255;return d},r.prototype.copyToImageData=function(s,a){var l,c,d,h,g,b,m,x,y,A,w;if(c=this.colors,y=null,l=this.hasAlphaChannel,this.palette.length&&(y=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),c=4,l=!0),x=(d=s.data||s).length,g=y||a,h=b=0,c===1)for(;h<x;)m=y?4*a[h/4]:b,A=g[m++],d[h++]=A,d[h++]=A,d[h++]=A,d[h++]=l?g[m++]:255,b=m;else for(;h<x;)m=y?4*a[h/4]:b,d[h++]=g[m++],d[h++]=g[m++],d[h++]=g[m++],d[h++]=l?g[m++]:255,b=m},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(cn)==="[object Window]"){try{n=cn.document.createElement("canvas"),t=n.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var a;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(a=new Image).src=n.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,l,c,d,h,g,b,m;if(this.animation){for(m=[],l=h=0,g=(b=this.animation.frames).length;h<g;l=++h)a=b[l],c=s.createImageData(a.width,a.height),d=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(c,d),a.imageData=c,m.push(a.image=e(c));return m}},r.prototype.renderFrame=function(s,a){var l,c,d;return l=(c=this.animation.frames)[a],d=c[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(s){var a,l,c,d,h,g,b=this;return l=0,g=this.animation,d=g.numFrames,c=g.frames,h=g.numPlays,(a=function(){var m,x;if(m=l++%d,x=c[m],b.renderFrame(s,m),d>1&&l/d<h)return b.animation._timeout=setTimeout(a,x.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(l=a.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),a.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function HK(e){var n=0;if(e[n++]!==71||e[n++]!==73||e[n++]!==70||e[n++]!==56||(e[n++]+1&253)!=56||e[n++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=e[n++]|e[n++]<<8,r=e[n++]|e[n++]<<8,i=e[n++],s=i>>7,a=1<<(7&i)+1;e[n++],e[n++];var l=null,c=null;s&&(l=n,c=a,n+=3*a);var d=!0,h=[],g=0,b=null,m=0,x=null;for(this.width=t,this.height=r;d&&n<e.length;)switch(e[n++]){case 33:switch(e[n++]){case 255:if(e[n]!==11||e[n+1]==78&&e[n+2]==69&&e[n+3]==84&&e[n+4]==83&&e[n+5]==67&&e[n+6]==65&&e[n+7]==80&&e[n+8]==69&&e[n+9]==50&&e[n+10]==46&&e[n+11]==48&&e[n+12]==3&&e[n+13]==1&&e[n+16]==0)n+=14,x=e[n++]|e[n++]<<8,n++;else for(n+=12;;){if(!((j=e[n++])>=0))throw Error("Invalid block size");if(j===0)break;n+=j}break;case 249:if(e[n++]!==4||e[n+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[n++];g=e[n++]|e[n++]<<8,b=e[n++],(1&y)==0&&(b=null),m=y>>2&7,n++;break;case 254:for(;;){if(!((j=e[n++])>=0))throw Error("Invalid block size");if(j===0)break;n+=j}break;default:throw new Error("Unknown graphic control label: 0x"+e[n-1].toString(16))}break;case 44:var A=e[n++]|e[n++]<<8,w=e[n++]|e[n++]<<8,C=e[n++]|e[n++]<<8,k=e[n++]|e[n++]<<8,R=e[n++],q=R>>6&1,D=1<<(7&R)+1,N=l,P=c,z=!1;R>>7&&(z=!0,N=n,P=D,n+=3*D);var X=n;for(n++;;){var j;if(!((j=e[n++])>=0))throw Error("Invalid block size");if(j===0)break;n+=j}h.push({x:A,y:w,width:C,height:k,has_local_palette:z,palette_offset:N,palette_size:P,data_offset:X,data_length:n-X,transparent_index:b,interlaced:!!q,delay:g,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[n-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return x},this.frameInfo=function(O){if(O<0||O>=h.length)throw new Error("Frame index out of range.");return h[O]},this.decodeAndBlitFrameBGRA=function(O,M){var T=this.frameInfo(O),Q=T.width*T.height,H=new Uint8Array(Q);ak(e,T.data_offset,H,Q);var Y=T.palette_offset,Z=T.transparent_index;Z===null&&(Z=256);var ae=T.width,G=t-ae,le=ae,U=4*(T.y*t+T.x),B=4*((T.y+T.height)*t+T.x),ie=U,J=4*G;T.interlaced===!0&&(J+=4*t*7);for(var ne=8,xe=0,ye=H.length;xe<ye;++xe){var Ae=H[xe];if(le===0&&(le=ae,(ie+=J)>=B&&(J=4*G+4*t*(ne-1),ie=U+(ae+G)*(ne<<1),ne>>=1)),Ae===Z)ie+=4;else{var Ne=e[Y+3*Ae],Te=e[Y+3*Ae+1],qe=e[Y+3*Ae+2];M[ie++]=qe,M[ie++]=Te,M[ie++]=Ne,M[ie++]=255}--le}},this.decodeAndBlitFrameRGBA=function(O,M){var T=this.frameInfo(O),Q=T.width*T.height,H=new Uint8Array(Q);ak(e,T.data_offset,H,Q);var Y=T.palette_offset,Z=T.transparent_index;Z===null&&(Z=256);var ae=T.width,G=t-ae,le=ae,U=4*(T.y*t+T.x),B=4*((T.y+T.height)*t+T.x),ie=U,J=4*G;T.interlaced===!0&&(J+=4*t*7);for(var ne=8,xe=0,ye=H.length;xe<ye;++xe){var Ae=H[xe];if(le===0&&(le=ae,(ie+=J)>=B&&(J=4*G+4*t*(ne-1),ie=U+(ae+G)*(ne<<1),ne>>=1)),Ae===Z)ie+=4;else{var Ne=e[Y+3*Ae],Te=e[Y+3*Ae+1],qe=e[Y+3*Ae+2];M[ie++]=Ne,M[ie++]=Te,M[ie++]=qe,M[ie++]=255}--le}}}function ak(e,n,t,r){for(var i=e[n++],s=1<<i,a=s+1,l=a+1,c=i+1,d=(1<<c)-1,h=0,g=0,b=0,m=e[n++],x=new Int32Array(4096),y=null;;){for(;h<16&&m!==0;)g|=e[n++]<<h,h+=8,m===1?m=e[n++]:--m;if(h<c)break;var A=g&d;if(g>>=c,h-=c,A!==s){if(A===a)break;for(var w=A<l?A:y,C=0,k=w;k>s;)k=x[k]>>8,++C;var R=k;if(b+C+(w!==A?1:0)>r)return void ri.log("Warning, gif stream longer than expected.");t[b++]=R;var q=b+=C;for(w!==A&&(t[b++]=R),k=w;C--;)k=x[k],t[--q]=255&k,k>>=8;y!==null&&l<4096&&(x[l++]=y<<8|R,l>=d+1&&c<12&&(++c,d=d<<1|1)),y=A}else l=a+1,d=(1<<(c=i+1))-1,y=null}return b!==r&&ri.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function mw(e){var n,t,r,i,s,a=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),h=new Array(64),g=new Array(65535),b=new Array(65535),m=new Array(64),x=new Array(64),y=[],A=0,w=7,C=new Array(64),k=new Array(64),R=new Array(64),q=new Array(256),D=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function H(U,B){for(var ie=0,J=0,ne=new Array,xe=1;xe<=16;xe++){for(var ye=1;ye<=U[xe];ye++)ne[B[J]]=[],ne[B[J]][0]=ie,ne[B[J]][1]=xe,J++,ie++;ie*=2}return ne}function Y(U){for(var B=U[0],ie=U[1]-1;ie>=0;)B&1<<ie&&(A|=1<<w),ie--,--w<0&&(A==255?(Z(255),Z(0)):Z(A),w=7,A=0)}function Z(U){y.push(U)}function ae(U){Z(U>>8&255),Z(255&U)}function G(U,B,ie,J,ne){for(var xe,ye=ne[0],Ae=ne[240],Ne=function(ve,Oe){var Re,Ee,Ge,Xe,Be,rt,je,He,Je,At,lt=0;for(Je=0;Je<8;++Je){Re=ve[lt],Ee=ve[lt+1],Ge=ve[lt+2],Xe=ve[lt+3],Be=ve[lt+4],rt=ve[lt+5],je=ve[lt+6];var tn=Re+(He=ve[lt+7]),jt=Re-He,_n=Ee+je,Gt=Ee-je,Xt=Ge+rt,Zt=Ge-rt,nn=Xe+Be,Rn=Xe-Be,Mn=tn+nn,Nr=tn-nn,Zn=_n+Xt,In=_n-Xt;ve[lt]=Mn+Zn,ve[lt+4]=Mn-Zn;var Bt=.707106781*(In+Nr);ve[lt+2]=Nr+Bt,ve[lt+6]=Nr-Bt;var vn=.382683433*((Mn=Rn+Zt)-(In=Gt+jt)),Di=.5411961*Mn+vn,cr=1.306562965*In+vn,Vr=.707106781*(Zn=Zt+Gt),Li=jt+Vr,Ot=jt-Vr;ve[lt+5]=Ot+Di,ve[lt+3]=Ot-Di,ve[lt+1]=Li+cr,ve[lt+7]=Li-cr,lt+=8}for(lt=0,Je=0;Je<8;++Je){Re=ve[lt],Ee=ve[lt+8],Ge=ve[lt+16],Xe=ve[lt+24],Be=ve[lt+32],rt=ve[lt+40],je=ve[lt+48];var zn=Re+(He=ve[lt+56]),Jn=Re-He,xr=Ee+je,nr=Ee-je,rr=Ge+rt,gn=Ge-rt,va=Xe+Be,Xi=Xe-Be,Zi=zn+va,hi=zn-va,pi=xr+rr,Gn=xr-rr;ve[lt]=Zi+pi,ve[lt+32]=Zi-pi;var si=.707106781*(Gn+hi);ve[lt+16]=hi+si,ve[lt+48]=hi-si;var Qn=.382683433*((Zi=Xi+gn)-(Gn=nr+Jn)),sa=.5411961*Zi+Qn,wa=1.306562965*Gn+Qn,fs=.707106781*(pi=gn+nr),vr=Jn+fs,Va=Jn-fs;ve[lt+40]=Va+sa,ve[lt+24]=Va-sa,ve[lt+8]=vr+wa,ve[lt+56]=vr-wa,lt++}for(Je=0;Je<64;++Je)At=ve[Je]*Oe[Je],m[Je]=At>0?At+.5|0:At-.5|0;return m}(U,B),Te=0;Te<64;++Te)x[N[Te]]=Ne[Te];var qe=x[0]-ie;ie=x[0],qe==0?Y(J[0]):(Y(J[b[xe=32767+qe]]),Y(g[xe]));for(var $e=63;$e>0&&x[$e]==0;)$e--;if($e==0)return Y(ye),ie;for(var V,we=1;we<=$e;){for(var se=we;x[we]==0&&we<=$e;)++we;var he=we-se;if(he>=16){V=he>>4;for(var de=1;de<=V;++de)Y(Ae);he&=15}xe=32767+x[we],Y(ne[(he<<4)+b[xe]]),Y(g[xe]),we++}return $e!=63&&Y(ye),ie}function le(U){U=Math.min(Math.max(U,1),100),s!=U&&(function(B){for(var ie=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var ne=a((ie[J]*B+50)/100);ne=Math.min(Math.max(ne,1),255),l[N[J]]=ne}for(var xe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var Ae=a((xe[ye]*B+50)/100);Ae=Math.min(Math.max(Ae,1),255),c[N[ye]]=Ae}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Te=0,qe=0;qe<8;qe++)for(var $e=0;$e<8;$e++)d[Te]=1/(l[N[Te]]*Ne[qe]*Ne[$e]*8),h[Te]=1/(c[N[Te]]*Ne[qe]*Ne[$e]*8),Te++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),s=U)}this.encode=function(U,B){B&&le(B),y=new Array,A=0,w=7,ae(65496),ae(65504),ae(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),ae(1),ae(1),Z(0),Z(0),function(){ae(65499),ae(132),Z(0);for(var Ee=0;Ee<64;Ee++)Z(l[Ee]);Z(1);for(var Ge=0;Ge<64;Ge++)Z(c[Ge])}(),function(Ee,Ge){ae(65472),ae(17),Z(8),ae(Ge),ae(Ee),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(U.width,U.height),function(){ae(65476),ae(418),Z(0);for(var Ee=0;Ee<16;Ee++)Z(P[Ee+1]);for(var Ge=0;Ge<=11;Ge++)Z(z[Ge]);Z(16);for(var Xe=0;Xe<16;Xe++)Z(X[Xe+1]);for(var Be=0;Be<=161;Be++)Z(j[Be]);Z(1);for(var rt=0;rt<16;rt++)Z(O[rt+1]);for(var je=0;je<=11;je++)Z(M[je]);Z(17);for(var He=0;He<16;He++)Z(T[He+1]);for(var Je=0;Je<=161;Je++)Z(Q[Je])}(),ae(65498),ae(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var ie=0,J=0,ne=0;A=0,w=7,this.encode.displayName="_encode_";for(var xe,ye,Ae,Ne,Te,qe,$e,V,we,se=U.data,he=U.width,de=U.height,ve=4*he,Oe=0;Oe<de;){for(xe=0;xe<ve;){for(Te=ve*Oe+xe,$e=-1,V=0,we=0;we<64;we++)qe=Te+(V=we>>3)*ve+($e=4*(7&we)),Oe+V>=de&&(qe-=ve*(Oe+1+V-de)),xe+$e>=ve&&(qe-=xe+$e-ve+4),ye=se[qe++],Ae=se[qe++],Ne=se[qe++],C[we]=(D[ye]+D[Ae+256>>0]+D[Ne+512>>0]>>16)-128,k[we]=(D[ye+768>>0]+D[Ae+1024>>0]+D[Ne+1280>>0]>>16)-128,R[we]=(D[ye+1280>>0]+D[Ae+1536>>0]+D[Ne+1792>>0]>>16)-128;ie=G(C,d,ie,n,r),J=G(k,h,J,t,i),ne=G(R,h,ne,t,i),xe+=32}Oe+=8}if(w>=0){var Re=[];Re[1]=w+1,Re[0]=(1<<w+1)-1,Y(Re)}return ae(65497),new Uint8Array(y)},e=e||50,function(){for(var U=String.fromCharCode,B=0;B<256;B++)q[B]=U(B)}(),n=H(P,z),t=H(O,M),r=H(X,j),i=H(T,Q),function(){for(var U=1,B=2,ie=1;ie<=15;ie++){for(var J=U;J<B;J++)b[32767+J]=ie,g[32767+J]=[],g[32767+J][1]=ie,g[32767+J][0]=J;for(var ne=-(B-1);ne<=-U;ne++)b[32767+ne]=ie,g[32767+ne]=[],g[32767+ne][1]=ie,g[32767+ne][0]=B-1+ne;U<<=1,B<<=1}}(),function(){for(var U=0;U<256;U++)D[U]=19595*U,D[U+256>>0]=38470*U,D[U+512>>0]=7471*U+32768,D[U+768>>0]=-11059*U,D[U+1024>>0]=-21709*U,D[U+1280>>0]=32768*U+8421375,D[U+1536>>0]=-27439*U,D[U+1792>>0]=-5329*U}(),le(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function du(e,n){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!n,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ok(e){function n(P){if(!P)throw Error("assert :P")}function t(P,z,X){for(var j=0;4>j;j++)if(P[z+j]!=X.charCodeAt(j))return!0;return!1}function r(P,z,X,j,O){for(var M=0;M<O;M++)P[z+M]=X[j+M]}function i(P,z,X,j){for(var O=0;O<j;O++)P[z+O]=X}function s(P){return new Int32Array(P)}function a(P,z){for(var X=[],j=0;j<P;j++)X.push(new z);return X}function l(P,z){var X=[];return function j(O,M,T){for(var Q=T[M],H=0;H<Q&&(O.push(T.length>M+1?[]:new z),!(T.length<M+1));H++)j(O[H],M+1,T)}(X,0,P),X}var c=function(){var P=this;function z(S,_){for(var F=1<<_-1>>>0;S&F;)F>>>=1;return F?(S&F-1)+F:S}function X(S,_,F,W,te){n(!(W%F));do S[_+(W-=F)]=te;while(0<W)}function j(S,_,F,W,te){if(n(2328>=te),512>=te)var oe=s(512);else if((oe=s(te))==null)return 0;return function(ue,fe,ge,Se,De,Ye){var We,Fe,gt=fe,nt=1<<ge,Le=s(16),Pe=s(16);for(n(De!=0),n(Se!=null),n(ue!=null),n(0<ge),Fe=0;Fe<De;++Fe){if(15<Se[Fe])return 0;++Le[Se[Fe]]}if(Le[0]==De)return 0;for(Pe[1]=0,We=1;15>We;++We){if(Le[We]>1<<We)return 0;Pe[We+1]=Pe[We]+Le[We]}for(Fe=0;Fe<De;++Fe)We=Se[Fe],0<Se[Fe]&&(Ye[Pe[We]++]=Fe);if(Pe[15]==1)return(Se=new O).g=0,Se.value=Ye[0],X(ue,gt,1,nt,Se),nt;var dt,yt=-1,ht=nt-1,Dt=0,kt=1,Vt=1,Nt=1<<ge;for(Fe=0,We=1,De=2;We<=ge;++We,De<<=1){if(kt+=Vt<<=1,0>(Vt-=Le[We]))return 0;for(;0<Le[We];--Le[We])(Se=new O).g=We,Se.value=Ye[Fe++],X(ue,gt+Dt,De,Nt,Se),Dt=z(Dt,We)}for(We=ge+1,De=2;15>=We;++We,De<<=1){if(kt+=Vt<<=1,0>(Vt-=Le[We]))return 0;for(;0<Le[We];--Le[We]){if(Se=new O,(Dt&ht)!=yt){for(gt+=Nt,dt=1<<(yt=We)-ge;15>yt&&!(0>=(dt-=Le[yt]));)++yt,dt<<=1;nt+=Nt=1<<(dt=yt-ge),ue[fe+(yt=Dt&ht)].g=dt+ge,ue[fe+yt].value=gt-fe-yt}Se.g=We-ge,Se.value=Ye[Fe++],X(ue,gt+(Dt>>ge),De,Nt,Se),Dt=z(Dt,We)}}return kt!=2*Pe[15]-1?0:nt}(S,_,F,W,te,oe)}function O(){this.value=this.g=0}function M(){this.value=this.g=0}function T(){this.G=a(5,O),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(hs,M)}function Q(S,_,F,W){n(S!=null),n(_!=null),n(2147483648>W),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=_,S.pa=F,S.Jd=_,S.Yc=F+W,S.Zc=4<=W?F+W-4+1:F,xe(S)}function H(S,_){for(var F=0;0<_--;)F|=Ae(S,128)<<_;return F}function Y(S,_){var F=H(S,_);return ye(S)?-F:F}function Z(S,_,F,W){var te,oe=0;for(n(S!=null),n(_!=null),n(4294967288>W),S.Sb=W,S.Ra=0,S.u=0,S.h=0,4<W&&(W=4),te=0;te<W;++te)oe+=_[F+te]<<8*te;S.Ra=oe,S.bb=W,S.oa=_,S.pa=F}function ae(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<Qc-8>>>0,++S.bb,S.u-=8;ie(S)&&(S.h=1,S.u=0)}function G(S,_){if(n(0<=_),!S.h&&_<=Gc){var F=B(S)&Bu[_];return S.u+=_,ae(S),F}return S.h=1,S.u=0}function le(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(S){return S.Ra>>>(S.u&Qc-1)>>>0}function ie(S){return n(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>Qc}function J(S,_){S.u=_,S.h=ie(S)}function ne(S){S.u>=Vd&&(n(S.u>=Vd),ae(S))}function xe(S){n(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(n(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function ye(S){return H(S,1)}function Ae(S,_){var F=S.Ca;0>S.b&&xe(S);var W=S.b,te=F*_>>>8,oe=(S.I>>>W>te)+0;for(oe?(F-=te,S.I-=te+1<<W>>>0):F=te+1,W=F,te=0;256<=W;)te+=8,W>>=8;return W=7^te+_a[W],S.b-=W,S.Ca=(F<<W)-1,oe}function Ne(S,_,F){S[_+0]=F>>24&255,S[_+1]=F>>16&255,S[_+2]=F>>8&255,S[_+3]=F>>0&255}function Te(S,_){return S[_+0]<<0|S[_+1]<<8}function qe(S,_){return Te(S,_)|S[_+2]<<16}function $e(S,_){return Te(S,_)|Te(S,_+2)<<16}function V(S,_){var F=1<<_;return n(S!=null),n(0<_),S.X=s(F),S.X==null?0:(S.Mb=32-_,S.Xa=_,1)}function we(S,_){n(S!=null),n(_!=null),n(S.Xa==_.Xa),r(_.X,0,S.X,0,1<<_.Xa)}function se(){this.X=[],this.Xa=this.Mb=0}function he(S,_,F,W){n(F!=null),n(W!=null);var te=F[0],oe=W[0];return te==0&&(te=(S*oe+_/2)/_),oe==0&&(oe=(_*te+S/2)/S),0>=te||0>=oe?0:(F[0]=te,W[0]=oe,1)}function de(S,_){return S+(1<<_)-1>>>_}function ve(S,_){return((4278255360&S)+(4278255360&_)>>>0&4278255360)+((16711935&S)+(16711935&_)>>>0&16711935)>>>0}function Oe(S,_){P[_]=function(F,W,te,oe,ue,fe,ge){var Se;for(Se=0;Se<ue;++Se){var De=P[S](fe[ge+Se-1],te,oe+Se);fe[ge+Se]=ve(F[W+Se],De)}}}function Re(){this.ud=this.hd=this.jd=0}function Ee(S,_){return((4278124286&(S^_))>>>1)+(S&_)>>>0}function Ge(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function Xe(S,_){return Ge(S+(S-_+.5>>1))}function Be(S,_,F){return Math.abs(_-F)-Math.abs(S-F)}function rt(S,_,F,W,te,oe,ue){for(W=oe[ue-1],F=0;F<te;++F)oe[ue+F]=W=ve(S[_+F],W)}function je(S,_,F,W,te){var oe;for(oe=0;oe<F;++oe){var ue=S[_+oe],fe=ue>>8&255,ge=16711935&(ge=(ge=16711935&ue)+((fe<<16)+fe));W[te+oe]=(4278255360&ue)+ge>>>0}}function He(S,_){_.jd=S>>0&255,_.hd=S>>8&255,_.ud=S>>16&255}function Je(S,_,F,W,te,oe){var ue;for(ue=0;ue<W;++ue){var fe=_[F+ue],ge=fe>>>8,Se=fe,De=255&(De=(De=fe>>>16)+((S.jd<<24>>24)*(ge<<24>>24)>>>5));Se=255&(Se=(Se=Se+((S.hd<<24>>24)*(ge<<24>>24)>>>5))+((S.ud<<24>>24)*(De<<24>>24)>>>5)),te[oe+ue]=(4278255360&fe)+(De<<16)+Se}}function At(S,_,F,W,te){P[_]=function(oe,ue,fe,ge,Se,De,Ye,We,Fe){for(ge=Ye;ge<We;++ge)for(Ye=0;Ye<Fe;++Ye)Se[De++]=te(fe[W(oe[ue++])])},P[S]=function(oe,ue,fe,ge,Se,De,Ye){var We=8>>oe.b,Fe=oe.Ea,gt=oe.K[0],nt=oe.w;if(8>We)for(oe=(1<<oe.b)-1,nt=(1<<We)-1;ue<fe;++ue){var Le,Pe=0;for(Le=0;Le<Fe;++Le)Le&oe||(Pe=W(ge[Se++])),De[Ye++]=te(gt[Pe&nt]),Pe>>=We}else P["VP8LMapColor"+F](ge,Se,gt,nt,De,Ye,ue,fe,Fe)}}function lt(S,_,F,W,te){for(F=_+F;_<F;){var oe=S[_++];W[te++]=oe>>16&255,W[te++]=oe>>8&255,W[te++]=oe>>0&255}}function tn(S,_,F,W,te){for(F=_+F;_<F;){var oe=S[_++];W[te++]=oe>>16&255,W[te++]=oe>>8&255,W[te++]=oe>>0&255,W[te++]=oe>>24&255}}function jt(S,_,F,W,te){for(F=_+F;_<F;){var oe=(ue=S[_++])>>16&240|ue>>12&15,ue=ue>>0&240|ue>>28&15;W[te++]=oe,W[te++]=ue}}function _n(S,_,F,W,te){for(F=_+F;_<F;){var oe=(ue=S[_++])>>16&248|ue>>13&7,ue=ue>>5&224|ue>>3&31;W[te++]=oe,W[te++]=ue}}function Gt(S,_,F,W,te){for(F=_+F;_<F;){var oe=S[_++];W[te++]=oe>>0&255,W[te++]=oe>>8&255,W[te++]=oe>>16&255}}function Xt(S,_,F,W,te,oe){if(oe==0)for(F=_+F;_<F;)Ne(W,((oe=S[_++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),te+=32;else r(W,te,S,_,F)}function Zt(S,_){P[_][0]=P[S+"0"],P[_][1]=P[S+"1"],P[_][2]=P[S+"2"],P[_][3]=P[S+"3"],P[_][4]=P[S+"4"],P[_][5]=P[S+"5"],P[_][6]=P[S+"6"],P[_][7]=P[S+"7"],P[_][8]=P[S+"8"],P[_][9]=P[S+"9"],P[_][10]=P[S+"10"],P[_][11]=P[S+"11"],P[_][12]=P[S+"12"],P[_][13]=P[S+"13"],P[_][14]=P[S+"0"],P[_][15]=P[S+"0"]}function nn(S){return S==dh||S==Xu||S==Xl||S==Kd}function Rn(){this.eb=[],this.size=this.A=this.fb=0}function Mn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Nr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Rn,this.f.kb=new Mn,this.sd=null}function Zn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function In(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Bt(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function vn(S,_){var F=S.T,W=_.ba.f.RGBA,te=W.eb,oe=W.fb+S.ka*W.A,ue=Ls[_.ba.S],fe=S.y,ge=S.O,Se=S.f,De=S.N,Ye=S.ea,We=S.W,Fe=_.cc,gt=_.dc,nt=_.Mc,Le=_.Nc,Pe=S.ka,dt=S.ka+S.T,yt=S.U,ht=yt+1>>1;for(Pe==0?ue(fe,ge,null,null,Se,De,Ye,We,Se,De,Ye,We,te,oe,null,null,yt):(ue(_.ec,_.fc,fe,ge,Fe,gt,nt,Le,Se,De,Ye,We,te,oe-W.A,te,oe,yt),++F);Pe+2<dt;Pe+=2)Fe=Se,gt=De,nt=Ye,Le=We,De+=S.Rc,We+=S.Rc,oe+=2*W.A,ue(fe,(ge+=2*S.fa)-S.fa,fe,ge,Fe,gt,nt,Le,Se,De,Ye,We,te,oe-W.A,te,oe,yt);return ge+=S.fa,S.j+dt<S.o?(r(_.ec,_.fc,fe,ge,yt),r(_.cc,_.dc,Se,De,ht),r(_.Mc,_.Nc,Ye,We,ht),F--):1&dt||ue(fe,ge,null,null,Se,De,Ye,We,Se,De,Ye,We,te,oe+W.A,null,null,yt),F}function Di(S,_,F){var W=S.F,te=[S.J];if(W!=null){var oe=S.U,ue=_.ba.S,fe=ue==ed||ue==Xl;_=_.ba.f.RGBA;var ge=[0],Se=S.ka;ge[0]=S.T,S.Kb&&(Se==0?--ge[0]:(--Se,te[0]-=S.width),S.j+S.ka+S.T==S.o&&(ge[0]=S.o-S.j-Se));var De=_.eb;Se=_.fb+Se*_.A,S=qn(W,te[0],S.width,oe,ge,De,Se+(fe?0:3),_.A),n(F==ge),S&&nn(ue)&&ro(De,Se,fe,oe,ge,_.A)}return 0}function cr(S){var _=S.ma,F=_.ba.S,W=11>F,te=F==Qd||F==ch||F==ed||F==Kl||F==12||nn(F);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!zu(_.Oa,S,te?11:12))return 0;if(te&&nn(F)&&Ct(),S.da)alert("todo:use_scaling");else{if(W){if(_.Ib=Bt,S.Kb){if(F=S.U+1>>1,_.memory=s(S.U+2*F),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+S.U,_.Mc=_.cc,_.Nc=_.dc+F,_.Ib=vn,Ct()}}else alert("todo:EmitYUV");te&&(_.Jb=Di,W&&Ue())}if(W&&!Cb){for(S=0;256>S;++S)w2[S]=89858*(S-128)+ms>>wl,ph[S]=-22014*(S-128)+ms,bm[S]=-45773*(S-128),gs[S]=113618*(S-128)+ms>>wl;for(S=ec;S<Np;++S)_=76283*(S-16)+ms>>wl,mh[S-ec]=no(_,255),ym[S-ec]=no(_+8>>4,15);Cb=1}return 1}function Vr(S){var _=S.ma,F=S.U,W=S.T;return n(!(1&S.ka)),0>=F||0>=W?0:(F=_.Ib(S,_),_.Jb!=null&&_.Jb(S,_,F),_.Dc+=F,1)}function Li(S){S.ma.memory=null}function Ot(S,_,F,W){return G(S,8)!=47?0:(_[0]=G(S,14)+1,F[0]=G(S,14)+1,W[0]=G(S,1),G(S,3)!=0?0:!S.h)}function zn(S,_){if(4>S)return S+1;var F=S-2>>1;return(2+(1&S)<<F)+G(_,F)+1}function Jn(S,_){return 120<_?_-120:1<=(F=((F=Jl[_-1])>>4)*S+(8-(15&F)))?F:1;var F}function xr(S,_,F){var W=B(F),te=S[_+=255&W].g-8;return 0<te&&(J(F,F.u+8),W=B(F),_+=S[_].value,_+=W&(1<<te)-1),J(F,F.u+S[_].g),S[_].value}function nr(S,_,F){return F.g+=S.g,F.value+=S.value<<_>>>0,n(8>=F.g),S.g}function rr(S,_,F){var W=S.xc;return n((_=W==0?0:S.vc[S.md*(F>>W)+(_>>W)])<S.Wb),S.Ya[_]}function gn(S,_,F,W){var te=S.ab,oe=S.c*_,ue=S.C;_=ue+_;var fe=F,ge=W;for(W=S.Ta,F=S.Ua;0<te--;){var Se=S.gc[te],De=ue,Ye=_,We=fe,Fe=ge,gt=(ge=W,fe=F,Se.Ea);switch(n(De<Ye),n(Ye<=Se.nc),Se.hc){case 2:wp(We,Fe,(Ye-De)*gt,ge,fe);break;case 0:var nt=De,Le=Ye,Pe=ge,dt=fe,yt=(Nt=Se).Ea;nt==0&&(mm(We,Fe,null,null,1,Pe,dt),rt(We,Fe+1,0,0,yt-1,Pe,dt+1),Fe+=yt,dt+=yt,++nt);for(var ht=1<<Nt.b,Dt=ht-1,kt=de(yt,Nt.b),Vt=Nt.K,Nt=Nt.w+(nt>>Nt.b)*kt;nt<Le;){var ir=Vt,mr=Nt,Pn=1;for(lh(We,Fe,Pe,dt-yt,1,Pe,dt);Pn<yt;){var Ln=(Pn&~Dt)+ht;Ln>yt&&(Ln=yt),(0,Yl[ir[mr++]>>8&15])(We,Fe+ +Pn,Pe,dt+Pn-yt,Ln-Pn,Pe,dt+Pn),Pn=Ln}Fe+=yt,dt+=yt,++nt&Dt||(Nt+=kt)}Ye!=Se.nc&&r(ge,fe-gt,ge,fe+(Ye-De-1)*gt,gt);break;case 1:for(gt=We,Le=Fe,yt=(We=Se.Ea)-(dt=We&~(Pe=(Fe=1<<Se.b)-1)),nt=de(We,Se.b),ht=Se.K,Se=Se.w+(De>>Se.b)*nt;De<Ye;){for(Dt=ht,kt=Se,Vt=new Re,Nt=Le+dt,ir=Le+We;Le<Nt;)He(Dt[kt++],Vt),$u(Vt,gt,Le,Fe,ge,fe),Le+=Fe,fe+=Fe;Le<ir&&(He(Dt[kt++],Vt),$u(Vt,gt,Le,yt,ge,fe),Le+=yt,fe+=yt),++De&Pe||(Se+=nt)}break;case 3:if(We==ge&&Fe==fe&&0<Se.b){for(Le=ge,We=gt=fe+(Ye-De)*gt-(dt=(Ye-De)*de(Se.Ea,Se.b)),Fe=ge,Pe=fe,nt=[],dt=(yt=dt)-1;0<=dt;--dt)nt[dt]=Fe[Pe+dt];for(dt=yt-1;0<=dt;--dt)Le[We+dt]=nt[dt];go(Se,De,Ye,ge,gt,ge,fe)}else go(Se,De,Ye,We,Fe,ge,fe)}fe=W,ge=F}ge!=F&&r(W,F,fe,ge,oe)}function va(S,_){var F=S.V,W=S.Ba+S.c*S.C,te=_-S.C;if(n(_<=S.l.o),n(16>=te),0<te){var oe=S.l,ue=S.Ta,fe=S.Ua,ge=oe.width;if(gn(S,te,F,W),te=fe=[fe],n((F=S.C)<(W=_)),n(oe.v<oe.va),W>oe.o&&(W=oe.o),F<oe.j){var Se=oe.j-F;F=oe.j,te[0]+=Se*ge}if(F>=W?F=0:(te[0]+=4*oe.v,oe.ka=F-oe.j,oe.U=oe.va-oe.v,oe.T=W-F,F=1),F){if(fe=fe[0],11>(F=S.ca).S){var De=F.f.RGBA,Ye=(W=F.S,te=oe.U,oe=oe.T,Se=De.eb,De.A),We=oe;for(De=De.fb+S.Ma*De.A;0<We--;){var Fe=ue,gt=fe,nt=te,Le=Se,Pe=De;switch(W){case Qs:la(Fe,gt,nt,Le,Pe);break;case Qd:Bs(Fe,gt,nt,Le,Pe);break;case dh:Bs(Fe,gt,nt,Le,Pe),ro(Le,Pe,0,nt,1,0);break;case bl:zo(Fe,gt,nt,Le,Pe);break;case ch:Xt(Fe,gt,nt,Le,Pe,1);break;case Xu:Xt(Fe,gt,nt,Le,Pe,1),ro(Le,Pe,0,nt,1,0);break;case ed:Xt(Fe,gt,nt,Le,Pe,0);break;case Xl:Xt(Fe,gt,nt,Le,Pe,0),ro(Le,Pe,1,nt,1,0);break;case Kl:Hu(Fe,gt,nt,Le,Pe);break;case Kd:Hu(Fe,gt,nt,Le,Pe),Fn(Le,Pe,nt,1,0);break;case Ap:ka(Fe,gt,nt,Le,Pe);break;default:n(0)}fe+=ge,De+=Ye}S.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");n(S.Ma<=F.height)}}S.C=_,n(S.C<=S.i)}function Xi(S){var _;if(0<S.ua)return 0;for(_=0;_<S.Wb;++_){var F=S.Ya[_].G,W=S.Ya[_].H;if(0<F[1][W[1]+0].g||0<F[2][W[2]+0].g||0<F[3][W[3]+0].g)return 0}return 1}function Zi(S,_,F,W,te,oe){if(S.Z!=0){var ue=S.qd,fe=S.rd;for(n(xl[S.Z]!=null);_<F;++_)xl[S.Z](ue,fe,W,te,W,te,oe),ue=W,fe=te,te+=oe;S.qd=ue,S.rd=fe}}function hi(S,_){var F=S.l.ma,W=F.Z==0||F.Z==1?S.l.j:S.C;if(W=S.C<W?W:S.C,n(_<=S.l.o),_>W){var te=S.l.width,oe=F.ca,ue=F.tb+te*W,fe=S.V,ge=S.Ba+S.c*W,Se=S.gc;n(S.ab==1),n(Se[0].hc==3),Uu(Se[0],W,_,fe,ge,oe,ue),Zi(F,W,_,oe,ue,te)}S.C=S.Ma=_}function pi(S,_,F,W,te,oe,ue){var fe=S.$/W,ge=S.$%W,Se=S.m,De=S.s,Ye=F+S.$,We=Ye;te=F+W*te;var Fe=F+W*oe,gt=280+De.ua,nt=S.Pb?fe:16777216,Le=0<De.ua?De.Wa:null,Pe=De.wc,dt=Ye<Fe?rr(De,ge,fe):null;n(S.C<oe),n(Fe<=te);var yt=!1;e:for(;;){for(;yt||Ye<Fe;){var ht=0;if(fe>=nt){var Dt=Ye-F;n((nt=S).Pb),nt.wd=nt.m,nt.xd=Dt,0<nt.s.ua&&we(nt.s.Wa,nt.s.vb),nt=fe+wb}if(ge&Pe||(dt=rr(De,ge,fe)),n(dt!=null),dt.Qb&&(_[Ye]=dt.qb,yt=!0),!yt)if(ne(Se),dt.jc){ht=Se,Dt=_;var kt=Ye,Vt=dt.pd[B(ht)&hs-1];n(dt.jc),256>Vt.g?(J(ht,ht.u+Vt.g),Dt[kt]=Vt.value,ht=0):(J(ht,ht.u+Vt.g-256),n(256<=Vt.value),ht=Vt.value),ht==0&&(yt=!0)}else ht=xr(dt.G[0],dt.H[0],Se);if(Se.h)break;if(yt||256>ht){if(!yt)if(dt.nd)_[Ye]=(dt.qb|ht<<8)>>>0;else{if(ne(Se),yt=xr(dt.G[1],dt.H[1],Se),ne(Se),Dt=xr(dt.G[2],dt.H[2],Se),kt=xr(dt.G[3],dt.H[3],Se),Se.h)break;_[Ye]=(kt<<24|yt<<16|ht<<8|Dt)>>>0}if(yt=!1,++Ye,++ge>=W&&(ge=0,++fe,ue!=null&&fe<=oe&&!(fe%16)&&ue(S,fe),Le!=null))for(;We<Ye;)ht=_[We++],Le.X[(506832829*ht&4294967295)>>>Le.Mb]=ht}else if(280>ht){if(ht=zn(ht-256,Se),Dt=xr(dt.G[4],dt.H[4],Se),ne(Se),Dt=Jn(W,Dt=zn(Dt,Se)),Se.h)break;if(Ye-F<Dt||te-Ye<ht)break e;for(kt=0;kt<ht;++kt)_[Ye+kt]=_[Ye+kt-Dt];for(Ye+=ht,ge+=ht;ge>=W;)ge-=W,++fe,ue!=null&&fe<=oe&&!(fe%16)&&ue(S,fe);if(n(Ye<=te),ge&Pe&&(dt=rr(De,ge,fe)),Le!=null)for(;We<Ye;)ht=_[We++],Le.X[(506832829*ht&4294967295)>>>Le.Mb]=ht}else{if(!(ht<gt))break e;for(yt=ht-280,n(Le!=null);We<Ye;)ht=_[We++],Le.X[(506832829*ht&4294967295)>>>Le.Mb]=ht;ht=Ye,n(!(yt>>>(Dt=Le).Xa)),_[ht]=Dt.X[yt],yt=!0}yt||n(Se.h==ie(Se))}if(S.Pb&&Se.h&&Ye<te)n(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&we(S.s.vb,S.s.Wa);else{if(Se.h)break e;ue!=null&&ue(S,fe>oe?oe:fe),S.a=0,S.$=Ye-F}return 1}return S.a=3,0}function Gn(S){n(S!=null),S.vc=null,S.yc=null,S.Ya=null;var _=S.Wa;_!=null&&(_.X=null),S.vb=null,n(S!=null)}function si(){var S=new pm;return S==null?null:(S.a=0,S.xb=Xd,Zt("Predictor","VP8LPredictors"),Zt("Predictor","VP8LPredictors_C"),Zt("PredictorAdd","VP8LPredictorsAdd"),Zt("PredictorAdd","VP8LPredictorsAdd_C"),wp=je,$u=Je,la=lt,Bs=tn,Hu=jt,ka=_n,zo=Gt,P.VP8LMapColor32b=Is,P.VP8LMapColor8b=uh,S)}function Qn(S,_,F,W,te){var oe=1,ue=[S],fe=[_],ge=W.m,Se=W.s,De=null,Ye=0;e:for(;;){if(F)for(;oe&&G(ge,1);){var We=ue,Fe=fe,gt=W,nt=1,Le=gt.m,Pe=gt.gc[gt.ab],dt=G(Le,2);if(gt.Oc&1<<dt)oe=0;else{switch(gt.Oc|=1<<dt,Pe.hc=dt,Pe.Ea=We[0],Pe.nc=Fe[0],Pe.K=[null],++gt.ab,n(4>=gt.ab),dt){case 0:case 1:Pe.b=G(Le,3)+2,nt=Qn(de(Pe.Ea,Pe.b),de(Pe.nc,Pe.b),0,gt,Pe.K),Pe.K=Pe.K[0];break;case 3:var yt,ht=G(Le,8)+1,Dt=16<ht?0:4<ht?1:2<ht?2:3;if(We[0]=de(Pe.Ea,Dt),Pe.b=Dt,yt=nt=Qn(ht,1,0,gt,Pe.K)){var kt,Vt=ht,Nt=Pe,ir=1<<(8>>Nt.b),mr=s(ir);if(mr==null)yt=0;else{var Pn=Nt.K[0],Ln=Nt.w;for(mr[0]=Nt.K[0][0],kt=1;kt<1*Vt;++kt)mr[kt]=ve(Pn[Ln+kt],mr[kt-1]);for(;kt<4*ir;++kt)mr[kt]=0;Nt.K[0]=null,Nt.K[0]=mr,yt=1}}nt=yt;break;case 2:break;default:n(0)}oe=nt}}if(ue=ue[0],fe=fe[0],oe&&G(ge,1)&&!(oe=1<=(Ye=G(ge,4))&&11>=Ye)){W.a=3;break e}var Dr;if(Dr=oe)t:{var gr,yn,zr,Jt=W,un=ue,er=fe,sr=Ye,Rs=F,bs=Jt.m,zi=Jt.s,Bi=[null],ts=1,vo=0,br=nd[sr];n:for(;;){if(Rs&&G(bs,1)){var ns=G(bs,3)+2,$o=de(un,ns),tc=de(er,ns),sd=$o*tc;if(!Qn($o,tc,0,Jt,Bi))break n;for(Bi=Bi[0],zi.xc=ns,gr=0;gr<sd;++gr){var nc=Bi[gr]>>8&65535;Bi[gr]=nc,nc>=ts&&(ts=nc+1)}}if(bs.h)break n;for(yn=0;5>yn;++yn){var li=io[yn];!yn&&0<sr&&(li+=1<<sr),vo<li&&(vo=li)}var gh=a(ts*br,O),jp=ts,ca=a(jp,T);if(ca==null)var yi=null;else n(65536>=jp),yi=ca;var ad=s(vo);if(yi==null||ad==null||gh==null){Jt.a=1;break n}var rc=gh;for(gr=zr=0;gr<ts;++gr){var ja=yi[gr],ic=ja.G,Ta=ja.H,bh=0,Jd=1,Tp=0;for(yn=0;5>yn;++yn){li=io[yn],ic[yn]=rc,Ta[yn]=zr,!yn&&0<sr&&(li+=1<<sr);i:{var yh,Op=li,xh=Jt,ef=ad,kb=rc,Nb=zr,vh=0,ru=xh.m,A2=G(ru,1);if(i(ef,0,0,Op),A2){var jb=G(ru,1)+1,Tb=G(ru,1),xm=G(ru,Tb==0?1:8);ef[xm]=1,jb==2&&(ef[xm=G(ru,8)]=1);var tf=1}else{var vm=s(19),wm=G(ru,4)+4;if(19<wm){xh.a=3;var wh=0;break i}for(yh=0;yh<wm;++yh)vm[Zl[yh]]=G(ru,3);var Ip=void 0,nf=void 0,Ob=xh,Ib=vm,iu=Op,Sh=ef,Dp=0,Ho=Ob.m,rf=8,Sm=a(128,O);r:for(;j(Sm,0,7,Ib,19);){if(G(Ho,1)){var Db=2+2*G(Ho,3);if((Ip=2+G(Ho,Db))>iu)break r}else Ip=iu;for(nf=0;nf<iu&&Ip--;){ne(Ho);var Am=Sm[0+(127&B(Ho))];J(Ho,Ho.u+Am.g);var od=Am.value;if(16>od)Sh[nf++]=od,od!=0&&(rf=od);else{var Lb=od==16,Cm=od-16,Em=xo[Cm],_m=G(Ho,Cp[Cm])+Em;if(nf+_m>iu)break r;for(var Rb=Lb?rf:0;0<_m--;)Sh[nf++]=Rb}}Dp=1;break r}Dp||(Ob.a=3),tf=Dp}(tf=tf&&!ru.h)&&(vh=j(kb,Nb,8,ef,Op)),tf&&vh!=0?wh=vh:(xh.a=3,wh=0)}if(wh==0)break n;if(Jd&&td[yn]==1&&(Jd=rc[zr].g==0),bh+=rc[zr].g,zr+=wh,3>=yn){var ld,Lp=ad[0];for(ld=1;ld<li;++ld)ad[ld]>Lp&&(Lp=ad[ld]);Tp+=Lp}}if(ja.nd=Jd,ja.Qb=0,Jd&&(ja.qb=(ic[3][Ta[3]+0].value<<24|ic[1][Ta[1]+0].value<<16|ic[2][Ta[2]+0].value)>>>0,bh==0&&256>ic[0][Ta[0]+0].value&&(ja.Qb=1,ja.qb+=ic[0][Ta[0]+0].value<<8)),ja.jc=!ja.Qb&&6>Tp,ja.jc){var Ah,su=ja;for(Ah=0;Ah<hs;++Ah){var Sl=Ah,au=su.pd[Sl],Ch=su.G[0][su.H[0]+Sl];256<=Ch.value?(au.g=Ch.g+256,au.value=Ch.value):(au.g=0,au.value=0,Sl>>=nr(Ch,8,au),Sl>>=nr(su.G[1][su.H[1]+Sl],16,au),Sl>>=nr(su.G[2][su.H[2]+Sl],0,au),nr(su.G[3][su.H[3]+Sl],24,au))}}}zi.vc=Bi,zi.Wb=ts,zi.Ya=yi,zi.yc=gh,Dr=1;break t}Dr=0}if(!(oe=Dr)){W.a=3;break e}if(0<Ye){if(Se.ua=1<<Ye,!V(Se.Wa,Ye)){W.a=1,oe=0;break e}}else Se.ua=0;var Eh=W,km=ue,Mb=fe,Nm=Eh.s,jm=Nm.xc;if(Eh.c=km,Eh.i=Mb,Nm.md=de(km,jm),Nm.wc=jm==0?-1:(1<<jm)-1,F){W.xb=Ab;break e}if((De=s(ue*fe))==null){W.a=1,oe=0;break e}oe=(oe=pi(W,De,0,ue,fe,fe,null))&&!ge.h;break e}return oe?(te!=null?te[0]=De:(n(De==null),n(F)),W.$=0,F||Gn(Se)):Gn(Se),oe}function sa(S,_){var F=S.c*S.i,W=F+_+16*_;return n(S.c<=_),S.V=s(W),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+F+_,1)}function wa(S,_){var F=S.C,W=_-F,te=S.V,oe=S.Ba+S.c*F;for(n(_<=S.l.o);0<W;){var ue=16<W?16:W,fe=S.l.ma,ge=S.l.width,Se=ge*ue,De=fe.ca,Ye=fe.tb+ge*F,We=S.Ta,Fe=S.Ua;gn(S,ue,te,oe),Yr(We,Fe,De,Ye,Se),Zi(fe,F,F+ue,De,Ye,ge),W-=ue,te+=ue*S.c,F+=ue}n(F==_),S.C=S.Ma=_}function fs(){this.ub=this.yd=this.td=this.Rb=0}function vr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Va(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ho(){this.Yb=function(){var S=[];return function _(F,W,te){for(var oe=te[W],ue=0;ue<oe&&(F.push(te.length>W+1?[]:0),!(te.length<W+1));ue++)_(F[ue],W+1,te)}(S,0,[3,11]),S}()}function pt(){this.jb=s(3),this.Wc=l([4,8],ho),this.Xc=l([4,17],ho)}function wt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function St(){this.ld=this.La=this.dd=this.tc=0}function Rt(){this.Na=this.la=0}function Tt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function an(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function En(){this.uc=this.M=this.Nb=0,this.wa=Array(new St),this.Y=0,this.ya=Array(new an),this.aa=0,this.l=new mi}function Kn(){this.y=s(16),this.f=s(8),this.ea=s(8)}function jr(){this.cb=this.a=0,this.sc="",this.m=new le,this.Od=new fs,this.Kc=new vr,this.ed=new wt,this.Qa=new Va,this.Ic=this.$c=this.Aa=0,this.D=new En,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,le),this.ia=0,this.pb=a(4,Tt),this.Pa=new pt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Kn),this.Hd=0,this.rb=Array(new Rt),this.sb=0,this.wa=Array(new St),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new an),this.L=this.aa=0,this.gd=l([4,2],St),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function mi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ya(){var S=new jr;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,ps||(ps=Ga)),S}function Hn(S,_,F){return S.a==0&&(S.a=_,S.sc=F,S.cb=0),0}function Tr(S,_,F){return 3<=F&&S[_+0]==157&&S[_+1]==1&&S[_+2]==42}function aa(S,_){if(S==null)return 0;if(S.a=0,S.sc="OK",_==null)return Hn(S,2,"null VP8Io passed to VP8GetHeaders()");var F=_.data,W=_.w,te=_.ha;if(4>te)return Hn(S,7,"Truncated header.");var oe=F[W+0]|F[W+1]<<8|F[W+2]<<16,ue=S.Od;if(ue.Rb=!(1&oe),ue.td=oe>>1&7,ue.yd=oe>>4&1,ue.ub=oe>>5,3<ue.td)return Hn(S,3,"Incorrect keyframe parameters.");if(!ue.yd)return Hn(S,4,"Frame not displayable.");W+=3,te-=3;var fe=S.Kc;if(ue.Rb){if(7>te)return Hn(S,7,"cannot parse picture header");if(!Tr(F,W,te))return Hn(S,3,"Bad code word");fe.c=16383&(F[W+4]<<8|F[W+3]),fe.Td=F[W+4]>>6,fe.i=16383&(F[W+6]<<8|F[W+5]),fe.Ud=F[W+6]>>6,W+=7,te-=7,S.za=fe.c+15>>4,S.Ub=fe.i+15>>4,_.width=fe.c,_.height=fe.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((oe=S.Pa).jb,0,255,oe.jb.length),n((oe=S.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,i(oe.Zb,0,0,oe.Zb.length),i(oe.Lb,0,0,oe.Lb)}if(ue.ub>te)return Hn(S,7,"bad partition length");Q(oe=S.m,F,W,ue.ub),W+=ue.ub,te-=ue.ub,ue.Rb&&(fe.Ld=ye(oe),fe.Kd=ye(oe)),fe=S.Qa;var ge,Se=S.Pa;if(n(oe!=null),n(fe!=null),fe.Cb=ye(oe),fe.Cb){if(fe.Bb=ye(oe),ye(oe)){for(fe.Fb=ye(oe),ge=0;4>ge;++ge)fe.Zb[ge]=ye(oe)?Y(oe,7):0;for(ge=0;4>ge;++ge)fe.Lb[ge]=ye(oe)?Y(oe,6):0}if(fe.Bb)for(ge=0;3>ge;++ge)Se.jb[ge]=ye(oe)?H(oe,8):255}else fe.Bb=0;if(oe.Ka)return Hn(S,3,"cannot parse segment header");if((fe=S.ed).zd=ye(oe),fe.Tb=H(oe,6),fe.wb=H(oe,3),fe.Pc=ye(oe),fe.Pc&&ye(oe)){for(Se=0;4>Se;++Se)ye(oe)&&(fe.vd[Se]=Y(oe,6));for(Se=0;4>Se;++Se)ye(oe)&&(fe.od[Se]=Y(oe,6))}if(S.L=fe.Tb==0?0:fe.zd?1:2,oe.Ka)return Hn(S,3,"cannot parse filter header");var De=te;if(te=ge=W,W=ge+De,fe=De,S.Xb=(1<<H(S.m,2))-1,De<3*(Se=S.Xb))F=7;else{for(ge+=3*Se,fe-=3*Se,De=0;De<Se;++De){var Ye=F[te+0]|F[te+1]<<8|F[te+2]<<16;Ye>fe&&(Ye=fe),Q(S.Jc[+De],F,ge,Ye),ge+=Ye,fe-=Ye,te+=3}Q(S.Jc[+Se],F,ge,fe),F=ge<W?0:5}if(F!=0)return Hn(S,F,"cannot parse partitions");for(F=H(ge=S.m,7),te=ye(ge)?Y(ge,4):0,W=ye(ge)?Y(ge,4):0,fe=ye(ge)?Y(ge,4):0,Se=ye(ge)?Y(ge,4):0,ge=ye(ge)?Y(ge,4):0,De=S.Qa,Ye=0;4>Ye;++Ye){if(De.Cb){var We=De.Zb[Ye];De.Fb||(We+=F)}else{if(0<Ye){S.pb[Ye]=S.pb[0];continue}We=F}var Fe=S.pb[Ye];Fe.Sc[0]=fh[no(We+te,127)],Fe.Sc[1]=hh[no(We+0,127)],Fe.Eb[0]=2*fh[no(We+W,127)],Fe.Eb[1]=101581*hh[no(We+fe,127)]>>16,8>Fe.Eb[1]&&(Fe.Eb[1]=8),Fe.Qc[0]=fh[no(We+Se,117)],Fe.Qc[1]=hh[no(We+ge,127)],Fe.lc=We+ge}if(!ue.Rb)return Hn(S,4,"Not a key frame.");for(ye(oe),ue=S.Pa,F=0;4>F;++F){for(te=0;8>te;++te)for(W=0;3>W;++W)for(fe=0;11>fe;++fe)Se=Ae(oe,rd[F][te][W][fe])?H(oe,8):yl[F][te][W][fe],ue.Wc[F][te].Yb[W][fe]=Se;for(te=0;17>te;++te)ue.Xc[F][te]=ue.Wc[F][Sb[te]]}return S.kc=ye(oe),S.kc&&(S.Bd=H(oe,8)),S.cb=1}function Ga(S,_,F,W,te,oe,ue){var fe=_[te].Yb[F];for(F=0;16>te;++te){if(!Ae(S,fe[F+0]))return te;for(;!Ae(S,fe[F+1]);)if(fe=_[++te].Yb[0],F=0,te==16)return 16;var ge=_[te+1].Yb;if(Ae(S,fe[F+2])){var Se=S,De=0;if(Ae(Se,(We=fe)[(Ye=F)+3]))if(Ae(Se,We[Ye+6])){for(fe=0,Ye=2*(De=Ae(Se,We[Ye+8]))+(We=Ae(Se,We[Ye+9+De])),De=0,We=ki[Ye];We[fe];++fe)De+=De+Ae(Se,We[fe]);De+=3+(8<<Ye)}else Ae(Se,We[Ye+7])?(De=7+2*Ae(Se,165),De+=Ae(Se,145)):De=5+Ae(Se,159);else De=Ae(Se,We[Ye+4])?3+Ae(Se,We[Ye+5]):2;fe=ge[2]}else De=1,fe=ge[1];ge=ue+fr[te],0>(Se=S).b&&xe(Se);var Ye,We=Se.b,Fe=(Ye=Se.Ca>>1)-(Se.I>>We)>>31;--Se.b,Se.Ca+=Fe,Se.Ca|=1,Se.I-=(Ye+1&Fe)<<We,oe[ge]=((De^Fe)-Fe)*W[(0<te)+0]}return 16}function Ri(S){var _=S.rb[S.sb-1];_.la=0,_.Na=0,i(S.zc,0,0,S.zc.length),S.ja=0}function Qa(S,_){if(S==null)return 0;if(_==null)return Hn(S,2,"NULL VP8Io parameter in VP8Decode().");if(!S.cb&&!aa(S,_))return 0;if(n(S.cb),_.ac==null||_.ac(_)){_.ob&&(S.L=0);var F=nu[S.L];if(S.L==2?(S.yb=0,S.zb=0):(S.yb=_.v-F>>4,S.zb=_.j-F>>4,0>S.yb&&(S.yb=0),0>S.zb&&(S.zb=0)),S.Va=_.o+15+F>>4,S.Hb=_.va+15+F>>4,S.Hb>S.za&&(S.Hb=S.za),S.Va>S.Ub&&(S.Va=S.Ub),0<S.L){var W=S.ed;for(F=0;4>F;++F){var te;if(S.Qa.Cb){var oe=S.Qa.Lb[F];S.Qa.Fb||(oe+=W.Tb)}else oe=W.Tb;for(te=0;1>=te;++te){var ue=S.gd[F][te],fe=oe;if(W.Pc&&(fe+=W.vd[0],te&&(fe+=W.od[0])),0<(fe=0>fe?0:63<fe?63:fe)){var ge=fe;0<W.wb&&(ge=4<W.wb?ge>>2:ge>>1)>9-W.wb&&(ge=9-W.wb),1>ge&&(ge=1),ue.dd=ge,ue.tc=2*fe+ge,ue.ld=40<=fe?2:15<=fe?1:0}else ue.tc=0;ue.La=te}}}F=0}else Hn(S,6,"Frame setup failed"),F=S.a;if(F=F==0){if(F){S.$c=0,0<S.Aa||(S.Ic=Eb);e:{F=S.Ic,W=4*(ge=S.za);var Se=32*ge,De=ge+1,Ye=0<S.L?ge*(0<S.Aa?2:1):0,We=(S.Aa==2?2:1)*ge;if((ue=W+832+(te=3*(16*F+nu[S.L])/2*Se)+(oe=S.Fa!=null&&0<S.Fa.length?S.Kc.c*S.Kc.i:0))!=ue)F=0;else{if(ue>S.Vb){if(S.Vb=0,S.Ec=s(ue),S.Fc=0,S.Ec==null){F=Hn(S,1,"no memory during frame initialization.");break e}S.Vb=ue}ue=S.Ec,fe=S.Fc,S.Ac=ue,S.Bc=fe,fe+=W,S.Gd=a(Se,Kn),S.Hd=0,S.rb=a(De+1,Rt),S.sb=1,S.wa=Ye?a(Ye,St):null,S.Y=0,S.D.Nb=0,S.D.wa=S.wa,S.D.Y=S.Y,0<S.Aa&&(S.D.Y+=ge),n(!0),S.oc=ue,S.pc=fe,fe+=832,S.ya=a(We,an),S.aa=0,S.D.ya=S.ya,S.D.aa=S.aa,S.Aa==2&&(S.D.aa+=ge),S.R=16*ge,S.B=8*ge,ge=(Se=nu[S.L])*S.R,Se=Se/2*S.B,S.sa=ue,S.ta=fe+ge,S.qa=S.sa,S.ra=S.ta+16*F*S.R+Se,S.Ha=S.qa,S.Ia=S.ra+8*F*S.B+Se,S.$c=0,fe+=te,S.mb=oe?ue:null,S.nb=oe?fe:null,n(fe+oe<=S.Fc+S.Vb),Ri(S),i(S.Ac,S.Bc,0,W),F=1}}if(F){if(_.ka=0,_.y=S.sa,_.O=S.ta,_.f=S.qa,_.N=S.ra,_.ea=S.Ha,_.Vd=S.Ia,_.fa=S.R,_.Rc=S.B,_.F=null,_.J=0,!Ql){for(F=-255;255>=F;++F)qi[255+F]=0>F?-F:F;for(F=-1020;1020>=F;++F)bo[1020+F]=-128>F?-128:127<F?127:F;for(F=-112;112>=F;++F)Qu[112+F]=-16>F?-16:15<F?15:F;for(F=-255;510>=F;++F)Ku[255+F]=0>F?0:255<F?255:F;Ql=1}ml=Ji,Bo=Lo,Uo=Xa,es=Pu,Na=Za,Ei=Hl,Kc=ti,gl=Gs,Yd=qd,Wu=pl,Vu=to,Yu=Ea,Xc=Po,Gd=vp,Gu=wr,Gl=bn,Zc=qr,_i=Ts,ua[0]=Mi,ua[1]=Sa,ua[2]=po,ua[3]=fl,ua[4]=Ws,ua[5]=Vs,ua[6]=Ro,ua[7]=zs,ua[8]=Mo,ua[9]=Ys,eu[0]=dl,eu[1]=Hs,eu[2]=Ja,eu[3]=cl,eu[4]=gi,eu[5]=ai,eu[6]=Aa,so[0]=$,so[1]=Fu,so[2]=hl,so[3]=mo,so[4]=ke,so[5]=me,so[6]=st,F=1}else F=0}F&&(F=function(Fe,gt){for(Fe.M=0;Fe.M<Fe.Va;++Fe.M){var nt,Le=Fe.Jc[Fe.M&Fe.Xb],Pe=Fe.m,dt=Fe;for(nt=0;nt<dt.za;++nt){var yt=Pe,ht=dt,Dt=ht.Ac,kt=ht.Bc+4*nt,Vt=ht.zc,Nt=ht.ya[ht.aa+nt];if(ht.Qa.Bb?Nt.$b=Ae(yt,ht.Pa.jb[0])?2+Ae(yt,ht.Pa.jb[2]):Ae(yt,ht.Pa.jb[1]):Nt.$b=0,ht.kc&&(Nt.Ad=Ae(yt,ht.Bd)),Nt.Za=!Ae(yt,145)+0,Nt.Za){var ir=Nt.Ob,mr=0;for(ht=0;4>ht;++ht){var Pn,Ln=Vt[0+ht];for(Pn=0;4>Pn;++Pn){Ln=gm[Dt[kt+Pn]][Ln];for(var Dr=Zu[Ae(yt,Ln[0])];0<Dr;)Dr=Zu[2*Dr+Ae(yt,Ln[Dr])];Ln=-Dr,Dt[kt+Pn]=Ln}r(ir,mr,Dt,kt,4),mr+=4,Vt[0+ht]=Ln}}else Ln=Ae(yt,156)?Ae(yt,128)?1:3:Ae(yt,163)?2:0,Nt.Ob[0]=Ln,i(Dt,kt,Ln,4),i(Vt,0,Ln,4);Nt.Dd=Ae(yt,142)?Ae(yt,114)?Ae(yt,183)?1:3:2:0}if(dt.m.Ka)return Hn(Fe,7,"Premature end-of-partition0 encountered.");for(;Fe.ja<Fe.za;++Fe.ja){if(dt=Le,yt=(Pe=Fe).rb[Pe.sb-1],Dt=Pe.rb[Pe.sb+Pe.ja],nt=Pe.ya[Pe.aa+Pe.ja],kt=Pe.kc?nt.Ad:0)yt.la=Dt.la=0,nt.Za||(yt.Na=Dt.Na=0),nt.Hc=0,nt.Gc=0,nt.ia=0;else{var gr,yn;if(yt=Dt,Dt=dt,kt=Pe.Pa.Xc,Vt=Pe.ya[Pe.aa+Pe.ja],Nt=Pe.pb[Vt.$b],ht=Vt.ad,ir=0,mr=Pe.rb[Pe.sb-1],Ln=Pn=0,i(ht,ir,0,384),Vt.Za)var zr=0,Jt=kt[3];else{Dr=s(16);var un=yt.Na+mr.Na;if(un=ps(Dt,kt[1],un,Nt.Eb,0,Dr,0),yt.Na=mr.Na=(0<un)+0,1<un)ml(Dr,0,ht,ir);else{var er=Dr[0]+3>>3;for(Dr=0;256>Dr;Dr+=16)ht[ir+Dr]=er}zr=1,Jt=kt[0]}var sr=15&yt.la,Rs=15&mr.la;for(Dr=0;4>Dr;++Dr){var bs=1&Rs;for(er=yn=0;4>er;++er)sr=sr>>1|(bs=(un=ps(Dt,Jt,un=bs+(1&sr),Nt.Sc,zr,ht,ir))>zr)<<7,yn=yn<<2|(3<un?3:1<un?2:ht[ir+0]!=0),ir+=16;sr>>=4,Rs=Rs>>1|bs<<7,Pn=(Pn<<8|yn)>>>0}for(Jt=sr,zr=Rs>>4,gr=0;4>gr;gr+=2){for(yn=0,sr=yt.la>>4+gr,Rs=mr.la>>4+gr,Dr=0;2>Dr;++Dr){for(bs=1&Rs,er=0;2>er;++er)un=bs+(1&sr),sr=sr>>1|(bs=0<(un=ps(Dt,kt[2],un,Nt.Qc,0,ht,ir)))<<3,yn=yn<<2|(3<un?3:1<un?2:ht[ir+0]!=0),ir+=16;sr>>=2,Rs=Rs>>1|bs<<5}Ln|=yn<<4*gr,Jt|=sr<<4<<gr,zr|=(240&Rs)<<gr}yt.la=Jt,mr.la=zr,Vt.Hc=Pn,Vt.Gc=Ln,Vt.ia=43690&Ln?0:Nt.ia,kt=!(Pn|Ln)}if(0<Pe.L&&(Pe.wa[Pe.Y+Pe.ja]=Pe.gd[nt.$b][nt.Za],Pe.wa[Pe.Y+Pe.ja].La|=!kt),dt.Ka)return Hn(Fe,7,"Premature end-of-file encountered.")}if(Ri(Fe),Pe=gt,dt=1,nt=(Le=Fe).D,yt=0<Le.L&&Le.M>=Le.zb&&Le.M<=Le.Va,Le.Aa==0)e:{if(nt.M=Le.M,nt.uc=yt,Vl(Le,nt),dt=1,nt=(yn=Le.D).Nb,yt=(Ln=nu[Le.L])*Le.R,Dt=Ln/2*Le.B,Dr=16*nt*Le.R,er=8*nt*Le.B,kt=Le.sa,Vt=Le.ta-yt+Dr,Nt=Le.qa,ht=Le.ra-Dt+er,ir=Le.Ha,mr=Le.Ia-Dt+er,Rs=(sr=yn.M)==0,Pn=sr>=Le.Va-1,Le.Aa==2&&Vl(Le,yn),yn.uc)for(bs=(un=Le).D.M,n(un.D.uc),yn=un.yb;yn<un.Hb;++yn){zr=yn,Jt=bs;var zi=(Bi=(li=un).D).Nb;gr=li.R;var Bi=Bi.wa[Bi.Y+zr],ts=li.sa,vo=li.ta+16*zi*gr+16*zr,br=Bi.dd,ns=Bi.tc;if(ns!=0)if(n(3<=ns),li.L==1)0<zr&&Gl(ts,vo,gr,ns+4),Bi.La&&_i(ts,vo,gr,ns),0<Jt&&Gu(ts,vo,gr,ns+4),Bi.La&&Zc(ts,vo,gr,ns);else{var $o=li.B,tc=li.qa,sd=li.ra+8*zi*$o+8*zr,nc=li.Ha,li=li.Ia+8*zi*$o+8*zr;zi=Bi.ld,0<zr&&(gl(ts,vo,gr,ns+4,br,zi),Wu(tc,sd,nc,li,$o,ns+4,br,zi)),Bi.La&&(Yu(ts,vo,gr,ns,br,zi),Gd(tc,sd,nc,li,$o,ns,br,zi)),0<Jt&&(Kc(ts,vo,gr,ns+4,br,zi),Yd(tc,sd,nc,li,$o,ns+4,br,zi)),Bi.La&&(Vu(ts,vo,gr,ns,br,zi),Xc(tc,sd,nc,li,$o,ns,br,zi))}}if(Le.ia&&alert("todo:DitherRow"),Pe.put!=null){if(yn=16*sr,sr=16*(sr+1),Rs?(Pe.y=Le.sa,Pe.O=Le.ta+Dr,Pe.f=Le.qa,Pe.N=Le.ra+er,Pe.ea=Le.Ha,Pe.W=Le.Ia+er):(yn-=Ln,Pe.y=kt,Pe.O=Vt,Pe.f=Nt,Pe.N=ht,Pe.ea=ir,Pe.W=mr),Pn||(sr-=Ln),sr>Pe.o&&(sr=Pe.o),Pe.F=null,Pe.J=null,Le.Fa!=null&&0<Le.Fa.length&&yn<sr&&(Pe.J=ah(Le,Pe,yn,sr-yn),Pe.F=Le.mb,Pe.F==null&&Pe.F.length==0)){dt=Hn(Le,3,"Could not decode alpha data.");break e}yn<Pe.j&&(Ln=Pe.j-yn,yn=Pe.j,n(!(1&Ln)),Pe.O+=Le.R*Ln,Pe.N+=Le.B*(Ln>>1),Pe.W+=Le.B*(Ln>>1),Pe.F!=null&&(Pe.J+=Pe.width*Ln)),yn<sr&&(Pe.O+=Pe.v,Pe.N+=Pe.v>>1,Pe.W+=Pe.v>>1,Pe.F!=null&&(Pe.J+=Pe.v),Pe.ka=yn-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=sr-yn,dt=Pe.put(Pe))}nt+1!=Le.Ic||Pn||(r(Le.sa,Le.ta-yt,kt,Vt+16*Le.R,yt),r(Le.qa,Le.ra-Dt,Nt,ht+8*Le.B,Dt),r(Le.Ha,Le.Ia-Dt,ir,mr+8*Le.B,Dt))}if(!dt)return Hn(Fe,6,"Output aborted.")}return 1}(S,_)),_.bc!=null&&_.bc(_),F&=1}return F?(S.cb=0,F):0}function Ci(S,_,F,W,te){te=S[_+F+32*W]+(te>>3),S[_+F+32*W]=-256&te?0>te?0:255:te}function Ka(S,_,F,W,te,oe){Ci(S,_,0,F,W+te),Ci(S,_,1,F,W+oe),Ci(S,_,2,F,W-oe),Ci(S,_,3,F,W-te)}function dr(S){return(20091*S>>16)+S}function Do(S,_,F,W){var te,oe=0,ue=s(16);for(te=0;4>te;++te){var fe=S[_+0]+S[_+8],ge=S[_+0]-S[_+8],Se=(35468*S[_+4]>>16)-dr(S[_+12]),De=dr(S[_+4])+(35468*S[_+12]>>16);ue[oe+0]=fe+De,ue[oe+1]=ge+Se,ue[oe+2]=ge-Se,ue[oe+3]=fe-De,oe+=4,_++}for(te=oe=0;4>te;++te)fe=(S=ue[oe+0]+4)+ue[oe+8],ge=S-ue[oe+8],Se=(35468*ue[oe+4]>>16)-dr(ue[oe+12]),Ci(F,W,0,0,fe+(De=dr(ue[oe+4])+(35468*ue[oe+12]>>16))),Ci(F,W,1,0,ge+Se),Ci(F,W,2,0,ge-Se),Ci(F,W,3,0,fe-De),oe++,W+=32}function Hl(S,_,F,W){var te=S[_+0]+4,oe=35468*S[_+4]>>16,ue=dr(S[_+4]),fe=35468*S[_+1]>>16;Ka(F,W,0,te+ue,S=dr(S[_+1]),fe),Ka(F,W,1,te+oe,S,fe),Ka(F,W,2,te-oe,S,fe),Ka(F,W,3,te-ue,S,fe)}function Lo(S,_,F,W,te){Do(S,_,F,W),te&&Do(S,_+16,F,W+4)}function Xa(S,_,F,W){Bo(S,_+0,F,W,1),Bo(S,_+32,F,W+128,1)}function Pu(S,_,F,W){var te;for(S=S[_+0]+4,te=0;4>te;++te)for(_=0;4>_;++_)Ci(F,W,_,te,S)}function Za(S,_,F,W){S[_+0]&&es(S,_+0,F,W),S[_+16]&&es(S,_+16,F,W+4),S[_+32]&&es(S,_+32,F,W+128),S[_+48]&&es(S,_+48,F,W+128+4)}function Ji(S,_,F,W){var te,oe=s(16);for(te=0;4>te;++te){var ue=S[_+0+te]+S[_+12+te],fe=S[_+4+te]+S[_+8+te],ge=S[_+4+te]-S[_+8+te],Se=S[_+0+te]-S[_+12+te];oe[0+te]=ue+fe,oe[8+te]=ue-fe,oe[4+te]=Se+ge,oe[12+te]=Se-ge}for(te=0;4>te;++te)ue=(S=oe[0+4*te]+3)+oe[3+4*te],fe=oe[1+4*te]+oe[2+4*te],ge=oe[1+4*te]-oe[2+4*te],Se=S-oe[3+4*te],F[W+0]=ue+fe>>3,F[W+16]=Se+ge>>3,F[W+32]=ue-fe>>3,F[W+48]=Se-ge>>3,W+=64}function oa(S,_,F){var W,te=_-32,oe=Ds,ue=255-S[te-1];for(W=0;W<F;++W){var fe,ge=oe,Se=ue+S[_-1];for(fe=0;fe<F;++fe)S[_+fe]=ge[Se+S[te+fe]];_+=32}}function Sa(S,_){oa(S,_,4)}function Fu(S,_){oa(S,_,8)}function Hs(S,_){oa(S,_,16)}function Ja(S,_){var F;for(F=0;16>F;++F)r(S,_+32*F,S,_-32,16)}function cl(S,_){var F;for(F=16;0<F;--F)i(S,_,S[_-1],16),_+=32}function eo(S,_,F){var W;for(W=0;16>W;++W)i(_,F+32*W,S,16)}function dl(S,_){var F,W=16;for(F=0;16>F;++F)W+=S[_-1+32*F]+S[_+F-32];eo(W>>5,S,_)}function gi(S,_){var F,W=8;for(F=0;16>F;++F)W+=S[_-1+32*F];eo(W>>4,S,_)}function ai(S,_){var F,W=8;for(F=0;16>F;++F)W+=S[_+F-32];eo(W>>4,S,_)}function Aa(S,_){eo(128,S,_)}function en(S,_,F){return S+2*_+F+2>>2}function po(S,_){var F,W=_-32;for(W=new Uint8Array([en(S[W-1],S[W+0],S[W+1]),en(S[W+0],S[W+1],S[W+2]),en(S[W+1],S[W+2],S[W+3]),en(S[W+2],S[W+3],S[W+4])]),F=0;4>F;++F)r(S,_+32*F,W,0,W.length)}function fl(S,_){var F=S[_-1],W=S[_-1+32],te=S[_-1+64],oe=S[_-1+96];Ne(S,_+0,16843009*en(S[_-1-32],F,W)),Ne(S,_+32,16843009*en(F,W,te)),Ne(S,_+64,16843009*en(W,te,oe)),Ne(S,_+96,16843009*en(te,oe,oe))}function Mi(S,_){var F,W=4;for(F=0;4>F;++F)W+=S[_+F-32]+S[_-1+32*F];for(W>>=3,F=0;4>F;++F)i(S,_+32*F,W,4)}function Ws(S,_){var F=S[_-1+0],W=S[_-1+32],te=S[_-1+64],oe=S[_-1-32],ue=S[_+0-32],fe=S[_+1-32],ge=S[_+2-32],Se=S[_+3-32];S[_+0+96]=en(W,te,S[_-1+96]),S[_+1+96]=S[_+0+64]=en(F,W,te),S[_+2+96]=S[_+1+64]=S[_+0+32]=en(oe,F,W),S[_+3+96]=S[_+2+64]=S[_+1+32]=S[_+0+0]=en(ue,oe,F),S[_+3+64]=S[_+2+32]=S[_+1+0]=en(fe,ue,oe),S[_+3+32]=S[_+2+0]=en(ge,fe,ue),S[_+3+0]=en(Se,ge,fe)}function Ro(S,_){var F=S[_+1-32],W=S[_+2-32],te=S[_+3-32],oe=S[_+4-32],ue=S[_+5-32],fe=S[_+6-32],ge=S[_+7-32];S[_+0+0]=en(S[_+0-32],F,W),S[_+1+0]=S[_+0+32]=en(F,W,te),S[_+2+0]=S[_+1+32]=S[_+0+64]=en(W,te,oe),S[_+3+0]=S[_+2+32]=S[_+1+64]=S[_+0+96]=en(te,oe,ue),S[_+3+32]=S[_+2+64]=S[_+1+96]=en(oe,ue,fe),S[_+3+64]=S[_+2+96]=en(ue,fe,ge),S[_+3+96]=en(fe,ge,ge)}function Vs(S,_){var F=S[_-1+0],W=S[_-1+32],te=S[_-1+64],oe=S[_-1-32],ue=S[_+0-32],fe=S[_+1-32],ge=S[_+2-32],Se=S[_+3-32];S[_+0+0]=S[_+1+64]=oe+ue+1>>1,S[_+1+0]=S[_+2+64]=ue+fe+1>>1,S[_+2+0]=S[_+3+64]=fe+ge+1>>1,S[_+3+0]=ge+Se+1>>1,S[_+0+96]=en(te,W,F),S[_+0+64]=en(W,F,oe),S[_+0+32]=S[_+1+96]=en(F,oe,ue),S[_+1+32]=S[_+2+96]=en(oe,ue,fe),S[_+2+32]=S[_+3+96]=en(ue,fe,ge),S[_+3+32]=en(fe,ge,Se)}function zs(S,_){var F=S[_+0-32],W=S[_+1-32],te=S[_+2-32],oe=S[_+3-32],ue=S[_+4-32],fe=S[_+5-32],ge=S[_+6-32],Se=S[_+7-32];S[_+0+0]=F+W+1>>1,S[_+1+0]=S[_+0+64]=W+te+1>>1,S[_+2+0]=S[_+1+64]=te+oe+1>>1,S[_+3+0]=S[_+2+64]=oe+ue+1>>1,S[_+0+32]=en(F,W,te),S[_+1+32]=S[_+0+96]=en(W,te,oe),S[_+2+32]=S[_+1+96]=en(te,oe,ue),S[_+3+32]=S[_+2+96]=en(oe,ue,fe),S[_+3+64]=en(ue,fe,ge),S[_+3+96]=en(fe,ge,Se)}function Ys(S,_){var F=S[_-1+0],W=S[_-1+32],te=S[_-1+64],oe=S[_-1+96];S[_+0+0]=F+W+1>>1,S[_+2+0]=S[_+0+32]=W+te+1>>1,S[_+2+32]=S[_+0+64]=te+oe+1>>1,S[_+1+0]=en(F,W,te),S[_+3+0]=S[_+1+32]=en(W,te,oe),S[_+3+32]=S[_+1+64]=en(te,oe,oe),S[_+3+64]=S[_+2+64]=S[_+0+96]=S[_+1+96]=S[_+2+96]=S[_+3+96]=oe}function Mo(S,_){var F=S[_-1+0],W=S[_-1+32],te=S[_-1+64],oe=S[_-1+96],ue=S[_-1-32],fe=S[_+0-32],ge=S[_+1-32],Se=S[_+2-32];S[_+0+0]=S[_+2+32]=F+ue+1>>1,S[_+0+32]=S[_+2+64]=W+F+1>>1,S[_+0+64]=S[_+2+96]=te+W+1>>1,S[_+0+96]=oe+te+1>>1,S[_+3+0]=en(fe,ge,Se),S[_+2+0]=en(ue,fe,ge),S[_+1+0]=S[_+3+32]=en(F,ue,fe),S[_+1+32]=S[_+3+64]=en(W,F,ue),S[_+1+64]=S[_+3+96]=en(te,W,F),S[_+1+96]=en(oe,te,W)}function hl(S,_){var F;for(F=0;8>F;++F)r(S,_+32*F,S,_-32,8)}function mo(S,_){var F;for(F=0;8>F;++F)i(S,_,S[_-1],8),_+=32}function Ca(S,_,F){var W;for(W=0;8>W;++W)i(_,F+32*W,S,8)}function $(S,_){var F,W=8;for(F=0;8>F;++F)W+=S[_+F-32]+S[_-1+32*F];Ca(W>>4,S,_)}function me(S,_){var F,W=4;for(F=0;8>F;++F)W+=S[_+F-32];Ca(W>>3,S,_)}function ke(S,_){var F,W=4;for(F=0;8>F;++F)W+=S[_-1+32*F];Ca(W>>3,S,_)}function st(S,_){Ca(128,S,_)}function Kt(S,_,F){var W=S[_-F],te=S[_+0],oe=3*(te-W)+Sp[1020+S[_-2*F]-S[_+F]],ue=Jc[112+(oe+4>>3)];S[_-F]=Ds[255+W+Jc[112+(oe+3>>3)]],S[_+0]=Ds[255+te-ue]}function zt(S,_,F,W){var te=S[_+0],oe=S[_+F];return yo[255+S[_-2*F]-S[_-F]]>W||yo[255+oe-te]>W}function Dn(S,_,F,W){return 4*yo[255+S[_-F]-S[_+0]]+yo[255+S[_-2*F]-S[_+F]]<=W}function kn(S,_,F,W,te){var oe=S[_-3*F],ue=S[_-2*F],fe=S[_-F],ge=S[_+0],Se=S[_+F],De=S[_+2*F],Ye=S[_+3*F];return 4*yo[255+fe-ge]+yo[255+ue-Se]>W?0:yo[255+S[_-4*F]-oe]<=te&&yo[255+oe-ue]<=te&&yo[255+ue-fe]<=te&&yo[255+Ye-De]<=te&&yo[255+De-Se]<=te&&yo[255+Se-ge]<=te}function wr(S,_,F,W){var te=2*W+1;for(W=0;16>W;++W)Dn(S,_+W,F,te)&&Kt(S,_+W,F)}function bn(S,_,F,W){var te=2*W+1;for(W=0;16>W;++W)Dn(S,_+W*F,1,te)&&Kt(S,_+W*F,1)}function qr(S,_,F,W){var te;for(te=3;0<te;--te)wr(S,_+=4*F,F,W)}function Ts(S,_,F,W){var te;for(te=3;0<te;--te)bn(S,_+=4,F,W)}function Or(S,_,F,W,te,oe,ue,fe){for(oe=2*oe+1;0<te--;){if(kn(S,_,F,oe,ue))if(zt(S,_,F,fe))Kt(S,_,F);else{var ge=S,Se=_,De=F,Ye=ge[Se-2*De],We=ge[Se-De],Fe=ge[Se+0],gt=ge[Se+De],nt=ge[Se+2*De],Le=27*(dt=Sp[1020+3*(Fe-We)+Sp[1020+Ye-gt]])+63>>7,Pe=18*dt+63>>7,dt=9*dt+63>>7;ge[Se-3*De]=Ds[255+ge[Se-3*De]+dt],ge[Se-2*De]=Ds[255+Ye+Pe],ge[Se-De]=Ds[255+We+Le],ge[Se+0]=Ds[255+Fe-Le],ge[Se+De]=Ds[255+gt-Pe],ge[Se+2*De]=Ds[255+nt-dt]}_+=W}}function Ir(S,_,F,W,te,oe,ue,fe){for(oe=2*oe+1;0<te--;){if(kn(S,_,F,oe,ue))if(zt(S,_,F,fe))Kt(S,_,F);else{var ge=S,Se=_,De=F,Ye=ge[Se-De],We=ge[Se+0],Fe=ge[Se+De],gt=Jc[112+((nt=3*(We-Ye))+4>>3)],nt=Jc[112+(nt+3>>3)],Le=gt+1>>1;ge[Se-2*De]=Ds[255+ge[Se-2*De]+Le],ge[Se-De]=Ds[255+Ye+nt],ge[Se+0]=Ds[255+We-gt],ge[Se+De]=Ds[255+Fe-Le]}_+=W}}function ti(S,_,F,W,te,oe){Or(S,_,F,1,16,W,te,oe)}function Gs(S,_,F,W,te,oe){Or(S,_,1,F,16,W,te,oe)}function to(S,_,F,W,te,oe){var ue;for(ue=3;0<ue;--ue)Ir(S,_+=4*F,F,1,16,W,te,oe)}function Ea(S,_,F,W,te,oe){var ue;for(ue=3;0<ue;--ue)Ir(S,_+=4,1,F,16,W,te,oe)}function qd(S,_,F,W,te,oe,ue,fe){Or(S,_,te,1,8,oe,ue,fe),Or(F,W,te,1,8,oe,ue,fe)}function pl(S,_,F,W,te,oe,ue,fe){Or(S,_,1,te,8,oe,ue,fe),Or(F,W,1,te,8,oe,ue,fe)}function Po(S,_,F,W,te,oe,ue,fe){Ir(S,_+4*te,te,1,8,oe,ue,fe),Ir(F,W+4*te,te,1,8,oe,ue,fe)}function vp(S,_,F,W,te,oe,ue,fe){Ir(S,_+4,1,te,8,oe,ue,fe),Ir(F,W+4,1,te,8,oe,ue,fe)}function zd(){this.ba=new Nr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new In,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ih(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function sh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Bd(){this.ua=0,this.Wa=new se,this.vb=new se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new T,this.yc=new O}function pm(){this.xb=this.a=0,this.l=new mi,this.ca=new Nr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Bd,this.ab=0,this.gc=a(4,sh),this.Oc=0}function Ud(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new mi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Vc(S,_,F,W,te,oe,ue){for(S=S==null?0:S[_+0],_=0;_<ue;++_)te[oe+_]=S+F[W+_]&255,S=te[oe+_]}function $d(S,_,F,W,te,oe,ue){var fe;if(S==null)Vc(null,null,F,W,te,oe,ue);else for(fe=0;fe<ue;++fe)te[oe+fe]=S[_+fe]+F[W+fe]&255}function qu(S,_,F,W,te,oe,ue){if(S==null)Vc(null,null,F,W,te,oe,ue);else{var fe,ge=S[_+0],Se=ge,De=ge;for(fe=0;fe<ue;++fe)Se=De+(ge=S[_+fe])-Se,De=F[W+fe]+(-256&Se?0>Se?0:255:Se)&255,Se=ge,te[oe+fe]=De}}function ah(S,_,F,W){var te=_.width,oe=_.o;if(n(S!=null&&_!=null),0>F||0>=W||F+W>oe)return null;if(!S.Cc){if(S.ga==null){var ue;if(S.ga=new Ud,(ue=S.ga==null)||(ue=_.width*_.o,n(S.Gb.length==0),S.Gb=s(ue),S.Uc=0,S.Gb==null?ue=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,ue=1),ue=!ue),!ue){ue=S.ga;var fe=S.Fa,ge=S.P,Se=S.qc,De=S.mb,Ye=S.nb,We=ge+1,Fe=Se-1,gt=ue.l;if(n(fe!=null&&De!=null&&_!=null),xl[0]=null,xl[1]=Vc,xl[2]=$d,xl[3]=qu,ue.ca=De,ue.tb=Ye,ue.c=_.width,ue.i=_.height,n(0<ue.c&&0<ue.i),1>=Se)_=0;else if(ue.$a=fe[ge+0]>>0&3,ue.Z=fe[ge+0]>>2&3,ue.Lc=fe[ge+0]>>4&3,ge=fe[ge+0]>>6&3,0>ue.$a||1<ue.$a||4<=ue.Z||1<ue.Lc||ge)_=0;else if(gt.put=Vr,gt.ac=cr,gt.bc=Li,gt.ma=ue,gt.width=_.width,gt.height=_.height,gt.Da=_.Da,gt.v=_.v,gt.va=_.va,gt.j=_.j,gt.o=_.o,ue.$a)e:{n(ue.$a==1),_=si();t:for(;;){if(_==null){_=0;break e}if(n(ue!=null),ue.mc=_,_.c=ue.c,_.i=ue.i,_.l=ue.l,_.l.ma=ue,_.l.width=ue.c,_.l.height=ue.i,_.a=0,Z(_.m,fe,We,Fe),!Qn(ue.c,ue.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Xi(_.s)?(ue.ic=1,fe=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(fe),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(ue.ic=0,_=sa(_,ue.c)),!_))break t;_=1;break e}ue.mc=null,_=0}else _=Fe>=ue.c*ue.i;ue=!_}if(ue)return null;S.ga.Lc!=1?S.Ga=0:W=oe-F}n(S.ga!=null),n(F+W<=oe);e:{if(_=(fe=S.ga).c,oe=fe.l.o,fe.$a==0){if(We=S.rc,Fe=S.Vc,gt=S.Fa,ge=S.P+1+F*_,Se=S.mb,De=S.nb+F*_,n(ge<=S.P+S.qc),fe.Z!=0)for(n(xl[fe.Z]!=null),ue=0;ue<W;++ue)xl[fe.Z](We,Fe,gt,ge,Se,De,_),We=Se,Fe=De,De+=_,ge+=_;else for(ue=0;ue<W;++ue)r(Se,De,gt,ge,_),We=Se,Fe=De,De+=_,ge+=_;S.rc=We,S.Vc=Fe}else{if(n(fe.mc!=null),_=F+W,n((ue=fe.mc)!=null),n(_<=ue.i),ue.C>=_)_=1;else if(fe.ic||Ue(),fe.ic){fe=ue.V,We=ue.Ba,Fe=ue.c;var nt=ue.i,Le=(gt=1,ge=ue.$/Fe,Se=ue.$%Fe,De=ue.m,Ye=ue.s,ue.$),Pe=Fe*nt,dt=Fe*_,yt=Ye.wc,ht=Le<dt?rr(Ye,Se,ge):null;n(Le<=Pe),n(_<=nt),n(Xi(Ye));t:for(;;){for(;!De.h&&Le<dt;){if(Se&yt||(ht=rr(Ye,Se,ge)),n(ht!=null),ne(De),256>(nt=xr(ht.G[0],ht.H[0],De)))fe[We+Le]=nt,++Le,++Se>=Fe&&(Se=0,++ge<=_&&!(ge%16)&&hi(ue,ge));else{if(!(280>nt)){gt=0;break t}nt=zn(nt-256,De);var Dt,kt=xr(ht.G[4],ht.H[4],De);if(ne(De),!(Le>=(kt=Jn(Fe,kt=zn(kt,De)))&&Pe-Le>=nt)){gt=0;break t}for(Dt=0;Dt<nt;++Dt)fe[We+Le+Dt]=fe[We+Le+Dt-kt];for(Le+=nt,Se+=nt;Se>=Fe;)Se-=Fe,++ge<=_&&!(ge%16)&&hi(ue,ge);Le<dt&&Se&yt&&(ht=rr(Ye,Se,ge))}n(De.h==ie(De))}hi(ue,ge>_?_:ge);break t}!gt||De.h&&Le<Pe?(gt=0,ue.a=De.h?5:3):ue.$=Le,_=gt}else _=pi(ue,ue.V,ue.Ba,ue.c,ue.i,_,wa);if(!_){W=0;break e}}F+W>=oe&&(S.Cc=1),W=1}if(!W)return null;if(S.Cc&&((W=S.ga)!=null&&(W.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+F*te}function L(S,_,F,W,te,oe){for(;0<te--;){var ue,fe=S,ge=_+(F?1:0),Se=S,De=_+(F?0:3);for(ue=0;ue<W;++ue){var Ye=Se[De+4*ue];Ye!=255&&(Ye*=32897,fe[ge+4*ue+0]=fe[ge+4*ue+0]*Ye>>23,fe[ge+4*ue+1]=fe[ge+4*ue+1]*Ye>>23,fe[ge+4*ue+2]=fe[ge+4*ue+2]*Ye>>23)}_+=oe}}function re(S,_,F,W,te){for(;0<W--;){var oe;for(oe=0;oe<F;++oe){var ue=S[_+2*oe+0],fe=15&(Se=S[_+2*oe+1]),ge=4369*fe,Se=(240&Se|Se>>4)*ge>>16;S[_+2*oe+0]=(240&ue|ue>>4)*ge>>16&240|(15&ue|ue<<4)*ge>>16>>4&15,S[_+2*oe+1]=240&Se|fe}_+=te}}function Ce(S,_,F,W,te,oe,ue,fe){var ge,Se,De=255;for(Se=0;Se<te;++Se){for(ge=0;ge<W;++ge){var Ye=S[_+ge];oe[ue+4*ge]=Ye,De&=Ye}_+=F,ue+=fe}return De!=255}function Ie(S,_,F,W,te){var oe;for(oe=0;oe<te;++oe)F[W+oe]=S[_+oe]>>8}function Ue(){ro=L,Fn=re,qn=Ce,Yr=Ie}function ut(S,_,F){P[S]=function(W,te,oe,ue,fe,ge,Se,De,Ye,We,Fe,gt,nt,Le,Pe,dt,yt){var ht,Dt=yt-1>>1,kt=fe[ge+0]|Se[De+0]<<16,Vt=Ye[We+0]|Fe[gt+0]<<16;n(W!=null);var Nt=3*kt+Vt+131074>>2;for(_(W[te+0],255&Nt,Nt>>16,nt,Le),oe!=null&&(Nt=3*Vt+kt+131074>>2,_(oe[ue+0],255&Nt,Nt>>16,Pe,dt)),ht=1;ht<=Dt;++ht){var ir=fe[ge+ht]|Se[De+ht]<<16,mr=Ye[We+ht]|Fe[gt+ht]<<16,Pn=kt+ir+Vt+mr+524296,Ln=Pn+2*(ir+Vt)>>3;Nt=Ln+kt>>1,kt=(Pn=Pn+2*(kt+mr)>>3)+ir>>1,_(W[te+2*ht-1],255&Nt,Nt>>16,nt,Le+(2*ht-1)*F),_(W[te+2*ht-0],255&kt,kt>>16,nt,Le+(2*ht-0)*F),oe!=null&&(Nt=Pn+Vt>>1,kt=Ln+mr>>1,_(oe[ue+2*ht-1],255&Nt,Nt>>16,Pe,dt+(2*ht-1)*F),_(oe[ue+2*ht+0],255&kt,kt>>16,Pe,dt+(2*ht+0)*F)),kt=ir,Vt=mr}1&yt||(Nt=3*kt+Vt+131074>>2,_(W[te+yt-1],255&Nt,Nt>>16,nt,Le+(yt-1)*F),oe!=null&&(Nt=3*Vt+kt+131074>>2,_(oe[ue+yt-1],255&Nt,Nt>>16,Pe,dt+(yt-1)*F)))}}function Ct(){Ls[Qs]=tu,Ls[Qd]=vl,Ls[bl]=Ju,Ls[ch]=Ep,Ls[ed]=_p,Ls[Kl]=Zd,Ls[Ap]=kp,Ls[dh]=vl,Ls[Xu]=Ep,Ls[Xl]=_p,Ls[Kd]=Zd}function It(S){return S&-16384?0>S?0:255:S>>v2}function Ut(S,_){return It((19077*S>>8)+(26149*_>>8)-14234)}function wn(S,_,F){return It((19077*S>>8)-(6419*_>>8)-(13320*F>>8)+8708)}function hn(S,_){return It((19077*S>>8)+(33050*_>>8)-17685)}function Wn(S,_,F,W,te){W[te+0]=Ut(S,F),W[te+1]=wn(S,_,F),W[te+2]=hn(S,_)}function oi(S,_,F,W,te){W[te+0]=hn(S,_),W[te+1]=wn(S,_,F),W[te+2]=Ut(S,F)}function bi(S,_,F,W,te){var oe=wn(S,_,F);_=oe<<3&224|hn(S,_)>>3,W[te+0]=248&Ut(S,F)|oe>>5,W[te+1]=_}function Pi(S,_,F,W,te){var oe=240&hn(S,_)|15;W[te+0]=240&Ut(S,F)|wn(S,_,F)>>4,W[te+1]=oe}function Fi(S,_,F,W,te){W[te+0]=255,Wn(S,_,F,W,te+1)}function Os(S,_,F,W,te){oi(S,_,F,W,te),W[te+3]=255}function Fo(S,_,F,W,te){Wn(S,_,F,W,te),W[te+3]=255}function no(S,_){return 0>S?0:S>_?_:S}function qo(S,_,F){P[S]=function(W,te,oe,ue,fe,ge,Se,De,Ye){for(var We=De+(-2&Ye)*F;De!=We;)_(W[te+0],oe[ue+0],fe[ge+0],Se,De),_(W[te+1],oe[ue+0],fe[ge+0],Se,De+F),te+=2,++ue,++ge,De+=2*F;1&Ye&&_(W[te+0],oe[ue+0],fe[ge+0],Se,De)}}function oh(S,_,F){return F==0?S==0?_==0?6:5:_==0?4:0:F}function Wl(S,_,F,W,te){switch(S>>>30){case 3:Bo(_,F,W,te,0);break;case 2:Ei(_,F,W,te);break;case 1:es(_,F,W,te)}}function Vl(S,_){var F,W,te=_.M,oe=_.Nb,ue=S.oc,fe=S.pc+40,ge=S.oc,Se=S.pc+584,De=S.oc,Ye=S.pc+600;for(F=0;16>F;++F)ue[fe+32*F-1]=129;for(F=0;8>F;++F)ge[Se+32*F-1]=129,De[Ye+32*F-1]=129;for(0<te?ue[fe-1-32]=ge[Se-1-32]=De[Ye-1-32]=129:(i(ue,fe-32-1,127,21),i(ge,Se-32-1,127,9),i(De,Ye-32-1,127,9)),W=0;W<S.za;++W){var We=_.ya[_.aa+W];if(0<W){for(F=-1;16>F;++F)r(ue,fe+32*F-4,ue,fe+32*F+12,4);for(F=-1;8>F;++F)r(ge,Se+32*F-4,ge,Se+32*F+4,4),r(De,Ye+32*F-4,De,Ye+32*F+4,4)}var Fe=S.Gd,gt=S.Hd+W,nt=We.ad,Le=We.Hc;if(0<te&&(r(ue,fe-32,Fe[gt].y,0,16),r(ge,Se-32,Fe[gt].f,0,8),r(De,Ye-32,Fe[gt].ea,0,8)),We.Za){var Pe=ue,dt=fe-32+16;for(0<te&&(W>=S.za-1?i(Pe,dt,Fe[gt].y[15],4):r(Pe,dt,Fe[gt+1].y,0,4)),F=0;4>F;F++)Pe[dt+128+F]=Pe[dt+256+F]=Pe[dt+384+F]=Pe[dt+0+F];for(F=0;16>F;++F,Le<<=2)Pe=ue,dt=fe+id[F],ua[We.Ob[F]](Pe,dt),Wl(Le,nt,16*+F,Pe,dt)}else if(Pe=oh(W,te,We.Ob[0]),eu[Pe](ue,fe),Le!=0)for(F=0;16>F;++F,Le<<=2)Wl(Le,nt,16*+F,ue,fe+id[F]);for(F=We.Gc,Pe=oh(W,te,We.Dd),so[Pe](ge,Se),so[Pe](De,Ye),Le=nt,Pe=ge,dt=Se,255&(We=F>>0)&&(170&We?Uo(Le,256,Pe,dt):Na(Le,256,Pe,dt)),We=De,Le=Ye,255&(F>>=8)&&(170&F?Uo(nt,320,We,Le):Na(nt,320,We,Le)),te<S.Ub-1&&(r(Fe[gt].y,0,ue,fe+480,16),r(Fe[gt].f,0,ge,Se+224,8),r(Fe[gt].ea,0,De,Ye+224,8)),F=8*oe*S.B,Fe=S.sa,gt=S.ta+16*W+16*oe*S.R,nt=S.qa,We=S.ra+8*W+F,Le=S.Ha,Pe=S.Ia+8*W+F,F=0;16>F;++F)r(Fe,gt+F*S.R,ue,fe+32*F,16);for(F=0;8>F;++F)r(nt,We+F*S.B,ge,Se+32*F,8),r(Le,Pe+F*S.B,De,Ye+32*F,8)}}function Hd(S,_,F,W,te,oe,ue,fe,ge){var Se=[0],De=[0],Ye=0,We=ge!=null?ge.kd:0,Fe=ge??new ih;if(S==null||12>F)return 7;Fe.data=S,Fe.w=_,Fe.ha=F,_=[_],F=[F],Fe.gb=[Fe.gb];e:{var gt=_,nt=F,Le=Fe.gb;if(n(S!=null),n(nt!=null),n(Le!=null),Le[0]=0,12<=nt[0]&&!t(S,gt[0],"RIFF")){if(t(S,gt[0]+8,"WEBP")){Le=3;break e}var Pe=$e(S,gt[0]+4);if(12>Pe||4294967286<Pe){Le=3;break e}if(We&&Pe>nt[0]-8){Le=7;break e}Le[0]=Pe,gt[0]+=12,nt[0]-=12}Le=0}if(Le!=0)return Le;for(Pe=0<Fe.gb[0],F=F[0];;){e:{var dt=S;nt=_,Le=F;var yt=Se,ht=De,Dt=gt=[0];if((Nt=Ye=[Ye])[0]=0,8>Le[0])Le=7;else{if(!t(dt,nt[0],"VP8X")){if($e(dt,nt[0]+4)!=10){Le=3;break e}if(18>Le[0]){Le=7;break e}var kt=$e(dt,nt[0]+8),Vt=1+qe(dt,nt[0]+12);if(2147483648<=Vt*(dt=1+qe(dt,nt[0]+15))){Le=3;break e}Dt!=null&&(Dt[0]=kt),yt!=null&&(yt[0]=Vt),ht!=null&&(ht[0]=dt),nt[0]+=18,Le[0]-=18,Nt[0]=1}Le=0}}if(Ye=Ye[0],gt=gt[0],Le!=0)return Le;if(nt=!!(2&gt),!Pe&&Ye)return 3;if(oe!=null&&(oe[0]=!!(16&gt)),ue!=null&&(ue[0]=nt),fe!=null&&(fe[0]=0),ue=Se[0],gt=De[0],Ye&&nt&&ge==null){Le=0;break}if(4>F){Le=7;break}if(Pe&&Ye||!Pe&&!Ye&&!t(S,_[0],"ALPH")){F=[F],Fe.na=[Fe.na],Fe.P=[Fe.P],Fe.Sa=[Fe.Sa];e:{kt=S,Le=_,Pe=F;var Nt=Fe.gb;yt=Fe.na,ht=Fe.P,Dt=Fe.Sa,Vt=22,n(kt!=null),n(Pe!=null),dt=Le[0];var ir=Pe[0];for(n(yt!=null),n(Dt!=null),yt[0]=null,ht[0]=null,Dt[0]=0;;){if(Le[0]=dt,Pe[0]=ir,8>ir){Le=7;break e}var mr=$e(kt,dt+4);if(4294967286<mr){Le=3;break e}var Pn=8+mr+1&-2;if(Vt+=Pn,0<Nt&&Vt>Nt){Le=3;break e}if(!t(kt,dt,"VP8 ")||!t(kt,dt,"VP8L")){Le=0;break e}if(ir[0]<Pn){Le=7;break e}t(kt,dt,"ALPH")||(yt[0]=kt,ht[0]=dt+8,Dt[0]=mr),dt+=Pn,ir-=Pn}}if(F=F[0],Fe.na=Fe.na[0],Fe.P=Fe.P[0],Fe.Sa=Fe.Sa[0],Le!=0)break}F=[F],Fe.Ja=[Fe.Ja],Fe.xa=[Fe.xa];e:if(Nt=S,Le=_,Pe=F,yt=Fe.gb[0],ht=Fe.Ja,Dt=Fe.xa,kt=Le[0],dt=!t(Nt,kt,"VP8 "),Vt=!t(Nt,kt,"VP8L"),n(Nt!=null),n(Pe!=null),n(ht!=null),n(Dt!=null),8>Pe[0])Le=7;else{if(dt||Vt){if(Nt=$e(Nt,kt+4),12<=yt&&Nt>yt-12){Le=3;break e}if(We&&Nt>Pe[0]-8){Le=7;break e}ht[0]=Nt,Le[0]+=8,Pe[0]-=8,Dt[0]=Vt}else Dt[0]=5<=Pe[0]&&Nt[kt+0]==47&&!(Nt[kt+4]>>5),ht[0]=Pe[0];Le=0}if(F=F[0],Fe.Ja=Fe.Ja[0],Fe.xa=Fe.xa[0],_=_[0],Le!=0)break;if(4294967286<Fe.Ja)return 3;if(fe==null||nt||(fe[0]=Fe.xa?2:1),ue=[ue],gt=[gt],Fe.xa){if(5>F){Le=7;break}fe=ue,We=gt,nt=oe,S==null||5>F?S=0:5<=F&&S[_+0]==47&&!(S[_+4]>>5)?(Pe=[0],Nt=[0],yt=[0],Z(ht=new U,S,_,F),Ot(ht,Pe,Nt,yt)?(fe!=null&&(fe[0]=Pe[0]),We!=null&&(We[0]=Nt[0]),nt!=null&&(nt[0]=yt[0]),S=1):S=0):S=0}else{if(10>F){Le=7;break}fe=gt,S==null||10>F||!Tr(S,_+3,F-3)?S=0:(We=S[_+0]|S[_+1]<<8|S[_+2]<<16,nt=16383&(S[_+7]<<8|S[_+6]),S=16383&(S[_+9]<<8|S[_+8]),1&We||3<(We>>1&7)||!(We>>4&1)||We>>5>=Fe.Ja||!nt||!S?S=0:(ue&&(ue[0]=nt),fe&&(fe[0]=S),S=1))}if(!S||(ue=ue[0],gt=gt[0],Ye&&(Se[0]!=ue||De[0]!=gt)))return 3;ge!=null&&(ge[0]=Fe,ge.offset=_-ge.w,n(4294967286>_-ge.w),n(ge.offset==ge.ha-F));break}return Le==0||Le==7&&Ye&&ge==null?(oe!=null&&(oe[0]|=Fe.na!=null&&0<Fe.na.length),W!=null&&(W[0]=ue),te!=null&&(te[0]=gt),0):Le}function zu(S,_,F){var W=_.width,te=_.height,oe=0,ue=0,fe=W,ge=te;if(_.Da=S!=null&&0<S.Da,_.Da&&(fe=S.cd,ge=S.bd,oe=S.v,ue=S.j,11>F||(oe&=-2,ue&=-2),0>oe||0>ue||0>=fe||0>=ge||oe+fe>W||ue+ge>te))return 0;if(_.v=oe,_.j=ue,_.va=oe+fe,_.o=ue+ge,_.U=fe,_.T=ge,_.da=S!=null&&0<S.da,_.da){if(!he(fe,ge,F=[S.ib],oe=[S.hb]))return 0;_.ib=F[0],_.hb=oe[0]}return _.ob=S!=null&&S.ob,_.Kb=S==null||!S.Sd,_.da&&(_.ob=_.ib<3*W/4&&_.hb<3*te/4,_.Kb=0),1}function Wd(S){if(S==null)return 2;if(11>S.S){var _=S.f.RGBA;_.fb+=(S.height-1)*_.A,_.A=-_.A}else _=S.f.kb,S=S.height,_.O+=(S-1)*_.fa,_.fa=-_.fa,_.N+=(S-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(S-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(S-1)*_.lb,_.lb=-_.lb);return 0}function Yc(S,_,F,W){if(W==null||0>=S||0>=_)return 2;if(F!=null){if(F.Da){var te=F.cd,oe=F.bd,ue=-2&F.v,fe=-2&F.j;if(0>ue||0>fe||0>=te||0>=oe||ue+te>S||fe+oe>_)return 2;S=te,_=oe}if(F.da){if(!he(S,_,te=[F.ib],oe=[F.hb]))return 2;S=te[0],_=oe[0]}}W.width=S,W.height=_;e:{var ge=W.width,Se=W.height;if(S=W.S,0>=ge||0>=Se||!(S>=Qs&&13>S))S=2;else{if(0>=W.Rd&&W.sd==null){ue=oe=te=_=0;var De=(fe=ge*_b[S])*Se;if(11>S||(oe=(Se+1)/2*(_=(ge+1)/2),S==12&&(ue=(te=ge)*Se)),(Se=s(De+2*oe+ue))==null){S=1;break e}W.sd=Se,11>S?((ge=W.f.RGBA).eb=Se,ge.fb=0,ge.A=fe,ge.size=De):((ge=W.f.kb).y=Se,ge.O=0,ge.fa=fe,ge.Fd=De,ge.f=Se,ge.N=0+De,ge.Ab=_,ge.Cd=oe,ge.ea=Se,ge.W=0+De+oe,ge.Db=_,ge.Ed=oe,S==12&&(ge.F=Se,ge.J=0+De+2*oe),ge.Tc=ue,ge.lb=te)}if(_=1,te=W.S,oe=W.width,ue=W.height,te>=Qs&&13>te)if(11>te)S=W.f.RGBA,_&=(fe=Math.abs(S.A))*(ue-1)+oe<=S.size,_&=fe>=oe*_b[te],_&=S.eb!=null;else{S=W.f.kb,fe=(oe+1)/2,De=(ue+1)/2,ge=Math.abs(S.fa),Se=Math.abs(S.Ab);var Ye=Math.abs(S.Db),We=Math.abs(S.lb),Fe=We*(ue-1)+oe;_&=ge*(ue-1)+oe<=S.Fd,_&=Se*(De-1)+fe<=S.Cd,_=(_&=Ye*(De-1)+fe<=S.Ed)&ge>=oe&Se>=fe&Ye>=fe,_&=S.y!=null,_&=S.f!=null,_&=S.ea!=null,te==12&&(_&=We>=oe,_&=Fe<=S.Tc,_&=S.F!=null)}else _=0;S=_?0:2}}return S!=0||F!=null&&F.fd&&(S=Wd(W)),S}var hs=64,Bu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Gc=24,Qc=32,Vd=8,_a=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Oe("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(S){return S},P.Predictor2=function(S,_,F){return _[F+0]},P.Predictor3=function(S,_,F){return _[F+1]},P.Predictor4=function(S,_,F){return _[F-1]},P.Predictor5=function(S,_,F){return Ee(Ee(S,_[F+1]),_[F+0])},P.Predictor6=function(S,_,F){return Ee(S,_[F-1])},P.Predictor7=function(S,_,F){return Ee(S,_[F+0])},P.Predictor8=function(S,_,F){return Ee(_[F-1],_[F+0])},P.Predictor9=function(S,_,F){return Ee(_[F+0],_[F+1])},P.Predictor10=function(S,_,F){return Ee(Ee(S,_[F-1]),Ee(_[F+0],_[F+1]))},P.Predictor11=function(S,_,F){var W=_[F+0];return 0>=Be(W>>24&255,S>>24&255,(_=_[F-1])>>24&255)+Be(W>>16&255,S>>16&255,_>>16&255)+Be(W>>8&255,S>>8&255,_>>8&255)+Be(255&W,255&S,255&_)?W:S},P.Predictor12=function(S,_,F){var W=_[F+0];return(Ge((S>>24&255)+(W>>24&255)-((_=_[F-1])>>24&255))<<24|Ge((S>>16&255)+(W>>16&255)-(_>>16&255))<<16|Ge((S>>8&255)+(W>>8&255)-(_>>8&255))<<8|Ge((255&S)+(255&W)-(255&_)))>>>0},P.Predictor13=function(S,_,F){var W=_[F-1];return(Xe((S=Ee(S,_[F+0]))>>24&255,W>>24&255)<<24|Xe(S>>16&255,W>>16&255)<<16|Xe(S>>8&255,W>>8&255)<<8|Xe(S>>0&255,W>>0&255))>>>0};var mm=P.PredictorAdd0;P.PredictorAdd1=rt,Oe("Predictor2","PredictorAdd2"),Oe("Predictor3","PredictorAdd3"),Oe("Predictor4","PredictorAdd4"),Oe("Predictor5","PredictorAdd5"),Oe("Predictor6","PredictorAdd6"),Oe("Predictor7","PredictorAdd7"),Oe("Predictor8","PredictorAdd8"),Oe("Predictor9","PredictorAdd9"),Oe("Predictor10","PredictorAdd10"),Oe("Predictor11","PredictorAdd11"),Oe("Predictor12","PredictorAdd12"),Oe("Predictor13","PredictorAdd13");var lh=P.PredictorAdd2;At("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),At("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var wp,go=P.ColorIndexInverseTransform,Is=P.MapARGB,Uu=P.VP8LColorIndexInverseTransformAlpha,uh=P.MapAlpha,Yl=P.VP8LPredictorsAdd=[];Yl.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var $u,la,Bs,Hu,ka,zo,ml,Bo,Ei,Uo,es,Na,Kc,gl,Yd,Wu,Vu,Yu,Xc,Gd,Gu,Gl,Zc,_i,ro,Fn,qn,Yr,qi=s(511),bo=s(2041),Qu=s(225),Ku=s(767),Ql=0,Sp=bo,Jc=Qu,Ds=Ku,yo=qi,Qs=0,Qd=1,bl=2,ch=3,ed=4,Kl=5,Ap=6,dh=7,Xu=8,Xl=9,Kd=10,Cp=[2,3,7],xo=[3,3,11],io=[280,256,256,256,40],td=[0,1,1,1,0],Zl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Jl=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],nd=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],wb=8,fh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],hh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ps=null,ki=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],fr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Zu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yl=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],gm=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],rd=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Sb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],eu=[],ua=[],so=[],Ab=1,Xd=2,xl=[],Ls=[];ut("UpsampleRgbLinePair",Wn,3),ut("UpsampleBgrLinePair",oi,3),ut("UpsampleRgbaLinePair",Fo,4),ut("UpsampleBgraLinePair",Os,4),ut("UpsampleArgbLinePair",Fi,4),ut("UpsampleRgba4444LinePair",Pi,2),ut("UpsampleRgb565LinePair",bi,2);var tu=P.UpsampleRgbLinePair,Ju=P.UpsampleBgrLinePair,vl=P.UpsampleRgbaLinePair,Ep=P.UpsampleBgraLinePair,_p=P.UpsampleArgbLinePair,Zd=P.UpsampleRgba4444LinePair,kp=P.UpsampleRgb565LinePair,wl=16,ms=1<<wl-1,ec=-227,Np=482,v2=6,Cb=0,w2=s(256),gs=s(256),bm=s(256),ph=s(256),mh=s(Np-ec),ym=s(Np-ec);qo("YuvToRgbRow",Wn,3),qo("YuvToBgrRow",oi,3),qo("YuvToRgbaRow",Fo,4),qo("YuvToBgraRow",Os,4),qo("YuvToArgbRow",Fi,4),qo("YuvToRgba4444Row",Pi,2),qo("YuvToRgb565Row",bi,2);var id=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],nu=[0,2,8],S2=[8,7,6,4,4,2,2,2,1,1,1,1],Eb=1;this.WebPDecodeRGBA=function(S,_,F,W,te){var oe=Qd,ue=new zd,fe=new Nr;ue.ba=fe,fe.S=oe,fe.width=[fe.width],fe.height=[fe.height];var ge=fe.width,Se=fe.height,De=new Zn;if(De==null||S==null)var Ye=2;else n(De!=null),Ye=Hd(S,_,F,De.width,De.height,De.Pd,De.Qd,De.format,null);if(Ye!=0?ge=0:(ge!=null&&(ge[0]=De.width[0]),Se!=null&&(Se[0]=De.height[0]),ge=1),ge){fe.width=fe.width[0],fe.height=fe.height[0],W!=null&&(W[0]=fe.width),te!=null&&(te[0]=fe.height);e:{if(W=new mi,(te=new ih).data=S,te.w=_,te.ha=F,te.kd=1,_=[0],n(te!=null),((S=Hd(te.data,te.w,te.ha,null,null,null,_,null,te))==0||S==7)&&_[0]&&(S=4),(_=S)==0){if(n(ue!=null),W.data=te.data,W.w=te.w+te.offset,W.ha=te.ha-te.offset,W.put=Vr,W.ac=cr,W.bc=Li,W.ma=ue,te.xa){if((S=si())==null){ue=1;break e}if(function(We,Fe){var gt=[0],nt=[0],Le=[0];t:for(;;){if(We==null)return 0;if(Fe==null)return We.a=2,0;if(We.l=Fe,We.a=0,Z(We.m,Fe.data,Fe.w,Fe.ha),!Ot(We.m,gt,nt,Le)){We.a=3;break t}if(We.xb=Xd,Fe.width=gt[0],Fe.height=nt[0],!Qn(gt[0],nt[0],1,We,null))break t;return 1}return n(We.a!=0),0}(S,W)){if(W=(_=Yc(W.width,W.height,ue.Oa,ue.ba))==0){t:{W=S;n:for(;;){if(W==null){W=0;break t}if(n(W.s.yc!=null),n(W.s.Ya!=null),n(0<W.s.Wb),n((F=W.l)!=null),n((te=F.ma)!=null),W.xb!=0){if(W.ca=te.ba,W.tb=te.tb,n(W.ca!=null),!zu(te.Oa,F,ch)){W.a=2;break n}if(!sa(W,F.width)||F.da)break n;if((F.da||nn(W.ca.S))&&Ue(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&Ue()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!V(W.s.vb,W.s.Wa.Xa)){W.a=1;break n}W.xb=0}if(!pi(W,W.V,W.Ba,W.c,W.i,F.o,va))break n;te.Dc=W.Ma,W=1;break t}n(W.a!=0),W=0}W=!W}W&&(_=S.a)}else _=S.a}else{if((S=new Ya)==null){ue=1;break e}if(S.Fa=te.na,S.P=te.P,S.qc=te.Sa,aa(S,W)){if((_=Yc(W.width,W.height,ue.Oa,ue.ba))==0){if(S.Aa=0,F=ue.Oa,n((te=S)!=null),F!=null){if(0<(ge=0>(ge=F.Md)?0:100<ge?255:255*ge/100)){for(Se=De=0;4>Se;++Se)12>(Ye=te.pb[Se]).lc&&(Ye.ia=ge*S2[0>Ye.lc?0:Ye.lc]>>3),De|=Ye.ia;De&&(alert("todo:VP8InitRandom"),te.ia=1)}te.Ga=F.Id,100<te.Ga?te.Ga=100:0>te.Ga&&(te.Ga=0)}Qa(S,W)||(_=S.a)}}else _=S.a}_==0&&ue.Oa!=null&&ue.Oa.fd&&(_=Wd(ue.ba))}ue=_}oe=ue!=0?null:11>oe?fe.f.RGBA.eb:fe.f.kb.y}else oe=null;return oe};var _b=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(P,z){for(var X="",j=0;j<4;j++)X+=String.fromCharCode(P[z++]);return X}function h(P,z){return(P[z+0]<<0|P[z+1]<<8|P[z+2]<<16)>>>0}function g(P,z){return(P[z+0]<<0|P[z+1]<<8|P[z+2]<<16|P[z+3]<<24)>>>0}new c;var b=[0],m=[0],x=[],y=new c,A=e,w=function(P,z){var X={},j=0,O=!1,M=0,T=0;if(X.frames=[],!function(B,ie,J,ne){for(var xe=0;xe<ne;xe++)if(B[ie+xe]!=J.charCodeAt(xe))return!0;return!1}(P,z,"RIFF",4)){for(g(P,z+=4),z+=8;z<P.length;){var Q=d(P,z),H=g(P,z+=4);z+=4;var Y=H+(1&H);switch(Q){case"VP8 ":case"VP8L":X.frames[j]===void 0&&(X.frames[j]={}),(G=X.frames[j]).src_off=O?T:z-8,G.src_size=M+H+8,j++,O&&(O=!1,M=0,T=0);break;case"VP8X":(G=X.header={}).feature_flags=P[z];var Z=z+4;G.canvas_width=1+h(P,Z),Z+=3,G.canvas_height=1+h(P,Z),Z+=3;break;case"ALPH":O=!0,M=Y+8,T=z-8;break;case"ANIM":(G=X.header).bgcolor=g(P,z),Z=z+4,G.loop_count=(le=P)[(U=Z)+0]<<0|le[U+1]<<8,Z+=2;break;case"ANMF":var ae,G;(G=X.frames[j]={}).offset_x=2*h(P,z),z+=3,G.offset_y=2*h(P,z),z+=3,G.width=1+h(P,z),z+=3,G.height=1+h(P,z),z+=3,G.duration=h(P,z),z+=3,ae=P[z++],G.dispose=1&ae,G.blend=ae>>1&1}Q!="ANMF"&&(z+=Y)}var le,U;return X}}(A,0);w.response=A,w.rgbaoutput=!0,w.dataurl=!1;var C=w.header?w.header:null,k=w.frames?w.frames:null;if(C){C.loop_counter=C.loop_count,b=[C.canvas_height],m=[C.canvas_width];for(var R=0;R<k.length&&k[R].blend!=0;R++);}var q=k[0],D=y.WebPDecodeRGBA(A,q.src_off,q.src_size,m,b);q.rgba=D,q.imgwidth=m[0],q.imgheight=b[0];for(var N=0;N<m[0]*b[0]*4;N++)x[N]=D[N];return this.width=m,this.height=b,this.data=x,this}(function(e){var n=function(){return typeof LS=="function"},t=function(b,m,x,y){var A=4,w=a;switch(y){case e.image_compression.FAST:A=1,w=s;break;case e.image_compression.MEDIUM:A=6,w=l;break;case e.image_compression.SLOW:A=9,w=c}b=r(b,m,x,w);var C=LS(b,{level:A});return e.__addimage__.arrayBufferToBinaryString(C)},r=function(b,m,x,y){for(var A,w,C,k=b.length/m,R=new Uint8Array(b.length+k),q=h(),D=0;D<k;D+=1){if(C=D*m,A=b.subarray(C,C+m),y)R.set(y(A,x,w),C+D);else{for(var N,P=q.length,z=[];N<P;N+=1)z[N]=q[N](A,x,w);var X=g(z.concat());R.set(z[X],C+D)}w=A}return R},i=function(b){var m=Array.apply([],b);return m.unshift(0),m},s=function(b,m){var x,y=[],A=b.length;y[0]=1;for(var w=0;w<A;w+=1)x=b[w-m]||0,y[w+1]=b[w]-x+256&255;return y},a=function(b,m,x){var y,A=[],w=b.length;A[0]=2;for(var C=0;C<w;C+=1)y=x&&x[C]||0,A[C+1]=b[C]-y+256&255;return A},l=function(b,m,x){var y,A,w=[],C=b.length;w[0]=3;for(var k=0;k<C;k+=1)y=b[k-m]||0,A=x&&x[k]||0,w[k+1]=b[k]+256-(y+A>>>1)&255;return w},c=function(b,m,x){var y,A,w,C,k=[],R=b.length;k[0]=4;for(var q=0;q<R;q+=1)y=b[q-m]||0,A=x&&x[q]||0,w=x&&x[q-m]||0,C=d(y,A,w),k[q+1]=b[q]-C+256&255;return k},d=function(b,m,x){if(b===m&&m===x)return b;var y=Math.abs(m-x),A=Math.abs(b-x),w=Math.abs(b+m-x-x);return y<=A&&y<=w?b:A<=w?m:x},h=function(){return[i,s,a,l,c]},g=function(b){var m=b.map(function(x){return x.reduce(function(y,A){return y+Math.abs(A)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(b,m,x,y){var A,w,C,k,R,q,D,N,P,z,X,j,O,M,T,Q=this.decode.FLATE_DECODE,H="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(C=new $K(b)).imgData,w=C.bits,A=C.colorSpace,R=C.colors,[4,6].indexOf(C.colorType)!==-1){if(C.bits===8){P=(N=C.pixelBitlength==32?new Uint32Array(C.decodePixels().buffer):C.pixelBitlength==16?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,X=new Uint8Array(P*C.colors),z=new Uint8Array(P);var Y,Z=C.pixelBitlength-C.bits;for(M=0,T=0;M<P;M++){for(O=N[M],Y=0;Y<Z;)X[T++]=O>>>Y&255,Y+=C.bits;z[M]=O>>>Y&255}}if(C.bits===16){P=(N=new Uint32Array(C.decodePixels().buffer)).length,X=new Uint8Array(P*(32/C.pixelBitlength)*C.colors),z=new Uint8Array(P*(32/C.pixelBitlength)),j=C.colors>1,M=0,T=0;for(var ae=0;M<P;)O=N[M++],X[T++]=O>>>0&255,j&&(X[T++]=O>>>16&255,O=N[M++],X[T++]=O>>>0&255),z[ae++]=O>>>16&255;w=8}y!==e.image_compression.NONE&&n()?(b=t(X,C.width*C.colors,C.colors,y),D=t(z,C.width,1,y)):(b=X,D=z,Q=void 0)}if(C.colorType===3&&(A=this.color_spaces.INDEXED,q=C.palette,C.transparency.indexed)){var G=C.transparency.indexed,le=0;for(M=0,P=G.length;M<P;++M)le+=G[M];if((le/=255)===P-1&&G.indexOf(0)!==-1)k=[G.indexOf(0)];else if(le!==P){for(N=C.decodePixels(),z=new Uint8Array(N.length),M=0,P=N.length;M<P;M++)z[M]=G[N[M]];D=t(z,C.width,1)}}var U=function(B){var ie;switch(B){case e.image_compression.FAST:ie=11;break;case e.image_compression.MEDIUM:ie=13;break;case e.image_compression.SLOW:ie=14;break;default:ie=12}return ie}(y);return Q===this.decode.FLATE_DECODE&&(H="/Predictor "+U+" "),H+="/Colors "+R+" /BitsPerComponent "+w+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(D&&this.__addimage__.isArrayBuffer(D)||this.__addimage__.isArrayBufferView(D))&&(D=this.__addimage__.arrayBufferToBinaryString(D)),{alias:x,data:b,index:m,filter:Q,decodeParameters:H,transparency:k,palette:q,sMask:D,predictor:U,width:C.width,height:C.height,bitsPerComponent:w,colorSpace:A}}}})(ln.API),function(e){e.processGIF89A=function(n,t,r,i){var s=new HK(n),a=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:a,height:l},h=new mw(100).encode(d,100);return e.processJPEG.call(this,h,t,r,i)},e.processGIF87A=e.processGIF89A}(ln.API),du.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var n=0;n<e;n++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[n]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},du.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,n=this.width*this.height*4;this.data=new Uint8Array(n),this[e]()}catch(t){ri.log("bit decode error:"+t)}},du.prototype.bit1=function(){var e,n=Math.ceil(this.width/8),t=n%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<n;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[a+4*l]=c.blue,this.data[a+4*l+1]=c.green,this.data[a+4*l+2]=c.red,this.data[a+4*l+3]=255}t!==0&&(this.pos+=4-t)}},du.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),n=e%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,l=s>>4,c=15&s,d=this.palette[l];if(this.data[a]=d.blue,this.data[a+1]=d.green,this.data[a+2]=d.red,this.data[a+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[a+4]=d.blue,this.data[a+4+1]=d.green,this.data[a+4+2]=d.red,this.data[a+4+3]=255}n!==0&&(this.pos+=4-n)}},du.prototype.bit8=function(){for(var e=this.width%4,n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},du.prototype.bit15=function(){for(var e=this.width%3,n=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&n)/n*255|0,l=(s>>5&n)/n*255|0,c=(s>>10&n)/n*255|0,d=s>>15?255:0,h=r*this.width*4+4*i;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=a,this.data[h+3]=d}this.pos+=e}},du.prototype.bit16=function(){for(var e=this.width%3,n=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&n)/n*255|0,c=(a>>5&t)/t*255|0,d=(a>>11)/n*255|0,h=i*this.width*4+4*s;this.data[h]=d,this.data[h+1]=c,this.data[h+2]=l,this.data[h+3]=255}this.pos+=e}},du.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},du.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*t;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=a}},du.prototype.getData=function(){return this.data},function(e){e.processBMP=function(n,t,r,i){var s=new du(n,!1),a=s.width,l=s.height,c={data:s.getData(),width:a,height:l},d=new mw(100).encode(c,100);return e.processJPEG.call(this,d,t,r,i)}}(ln.API),ok.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(n,t,r,i){var s=new ok(n),a=s.width,l=s.height,c={data:s.getData(),width:a,height:l},d=new mw(100).encode(c,100);return e.processJPEG.call(this,d,t,r,i)}}(ln.API),ln.API.processRGBA=function(e,n,t){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),l=0,c=0,d=0;d<i;d+=4){var h=r[d],g=r[d+1],b=r[d+2],m=r[d+3];s[l++]=h,s[l++]=g,s[l++]=b,a[c++]=m}var x=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:x,index:n,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ln.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},e0=ln.API,Uy=e0.getCharWidthsArray=function(e,n){var t,r,i=(n=n||{}).font||this.internal.getFont(),s=n.fontSize||this.internal.getFontSize(),a=n.charSpace||this.internal.getCharSpace(),l=n.widths?n.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,d=n.kerning?n.kerning:i.metadata.Unicode.kerning,h=d.fof?d.fof:1,g=n.doKerning!==!1,b=0,m=e.length,x=0,y=l[0]||c,A=[];for(t=0;t<m;t++)r=e.charCodeAt(t),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(b=g&&ii(d[r])==="object"&&!isNaN(parseInt(d[r][x],10))?d[r][x]/h:0,A.push((l[r]||y)/c+b)),x=r;return A},rk=e0.getStringUnitWidth=function(e,n){var t=(n=n||{}).fontSize||this.internal.getFontSize(),r=n.font||this.internal.getFont(),i=n.charSpace||this.internal.getCharSpace();return e0.processArabic&&(e=e0.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,t,i)/t:Uy.apply(this,arguments).reduce(function(s,a){return s+a},0)},ik=function(e,n,t,r){for(var i=[],s=0,a=e.length,l=0;s!==a&&l+n[s]<t;)l+=n[s],s++;i.push(e.slice(0,s));var c=s;for(l=0;s!==a;)l+n[s]>r&&(i.push(e.slice(c,s)),l=0,c=s),l+=n[s],s++;return c!==s&&i.push(e.slice(c,s)),i},sk=function(e,n,t){t||(t={});var r,i,s,a,l,c,d,h=[],g=[h],b=t.textIndent||0,m=0,x=0,y=e.split(" "),A=Uy.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?y[0].length+2:t.lineIndent||0){var w=Array(c).join(" "),C=[];y.map(function(R){(R=R.split(/\s*\n/)).length>1?C=C.concat(R.map(function(q,D){return(D&&q.length?`
`:"")+q})):C.push(R[0])}),y=C,c=rk.apply(this,[w,t])}for(s=0,a=y.length;s<a;s++){var k=0;if(r=y[s],c&&r[0]==`
`&&(r=r.substr(1),k=1),b+m+(x=(i=Uy.apply(this,[r,t])).reduce(function(R,q){return R+q},0))>n||k){if(x>n){for(l=ik.apply(this,[r,i,n-(b+m),n]),h.push(l.shift()),h=[l.pop()];l.length;)g.push([l.shift()]);x=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(R,q){return R+q},0)}else h=[r];g.push(h),b=x+c,m=A}else h.push(r),b+=m+x,m=A}return d=c?function(R,q){return(q?w:"")+R.join(" ")}:function(R){return R.join(" ")},g.map(d)},e0.splitTextToSize=function(e,n,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var g=this.internal.getFont(h.fontName,h.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*n/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var l,c,d=[];for(l=0,c=r.length;l<c;l++)d=d.concat(sk.apply(this,[r[l],a,s]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var n="klmnopqrstuvwxyz",t={},r={},i=0;i<n.length;i++)t[n[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=n[i];var s=function(g){return"0x"+parseInt(g,10).toString(16)},a=e.__fontmetrics__.compress=function(g){var b,m,x,y,A=["{"];for(var w in g){if(b=g[w],isNaN(parseInt(w,10))?m="'"+w+"'":(w=parseInt(w,10),m=(m=s(w).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof b=="number")b<0?(x=s(b).slice(3),y="-"):(x=s(b).slice(2),y=""),x=y+x.slice(0,-1)+r[x.slice(-1)];else{if(ii(b)!=="object")throw new Error("Don't know what to do with value type "+ii(b)+".");x=a(b)}A.push(m+x)}return A.push("}"),A.join("")},l=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,m,x,y,A={},w=1,C=A,k=[],R="",q="",D=g.length-1,N=1;N<D;N+=1)(y=g[N])=="'"?b?(x=b.join(""),b=void 0):b=[]:b?b.push(y):y=="{"?(k.push([C,x]),C={},x=void 0):y=="}"?((m=k.pop())[0][m[1]]=C,x=void 0,C=m[0]):y=="-"?w=-1:x===void 0?t.hasOwnProperty(y)?(R+=t[y],x=parseInt(R,16)*w,w=1,R=""):R+=y:t.hasOwnProperty(y)?(q+=t[y],C[x]=parseInt(q,16)*w,w=1,x=void 0,q=""):q+=y;return A},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var b=g.font,m=h.Unicode[b.postScriptName];m&&(b.metadata.Unicode={},b.metadata.Unicode.widths=m.widths,b.metadata.Unicode.kerning=m.kerning);var x=d.Unicode[b.postScriptName];x&&(b.metadata.Unicode.encoding=x,b.encoding=x.codePages[0])}])}(ln.API),function(e){var n=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};e.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?n(l):n(sg(l)),a.metadata=e.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(ln),function(e){function n(){return(cn.canvg?Promise.resolve(cn.canvg):Wi(()=>import("./index.es-Cogl3Jqk.js"),__vite__mapDeps([6,4,1]))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}ln.API.addSvgAsImage=function(t,r,i,s,a,l,c,d){if(isNaN(r)||isNaN(i))throw ri.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw ri.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=a;var g=h.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,h.width,h.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return n().then(function(x){return x.fromString(g,t,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(b)}).then(function(){m.addImage(h.toDataURL("image/jpeg",1),r,i,s,a,c,d)})}}(),ln.API.putTotalPages=function(e){var n,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(n=new RegExp(e,"g"),t=this.internal.getNumberOfPages()):(n=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(n,t);return this},ln.API.viewerPreferences=function(e,n){var t;e=e||{},n=n||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),c=[],d=0,h=0,g=0;function b(x,y){var A,w=!1;for(A=0;A<x.length;A+=1)x[A]===y&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,e==="reset"||n===!0){var m=l.length;for(g=0;g<m;g+=1)t[l[g]].value=t[l[g]].defaultValue,t[l[g]].explicitSet=!1}if(ii(e)==="object"){for(i in e)if(s=e[i],b(l,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&b(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(d=0;d<s.length;d+=1)if(r=!0,s[d].length===1&&typeof s[d][0]=="number")c.push(String(s[d]-1));else if(s[d].length>1){for(h=0;h<s[d].length;h+=1)typeof s[d][h]!="number"&&(r=!1);r===!0&&c.push([s[d][0]-1,s[d][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,y=[];for(x in t)t[x].explicitSet===!0&&(t[x].type==="name"?y.push("/"+x+" /"+t[x].value):y.push("/"+x+" "+t[x].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(e){var n=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+a.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+l+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",n)),this}}(ln.API),function(e){var n=e.API,t=n.pdfEscape16=function(s,a){for(var l,c=a.metadata.Unicode.widths,d=["","0","00","000","0000"],h=[""],g=0,b=s.length;g<b;++g){if(l=a.metadata.characterToGlyph(s.charCodeAt(g)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=s.charCodeAt(g),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(d[4-l.length],l)}return h.join("")},r=function(s){var a,l,c,d,h,g,b;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],g=0,b=(l=Object.keys(s).sort(function(m,x){return m-x})).length;g<b;g++)a=l[g],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(d=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+d+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};n.events.push(["putFont",function(s){(function(a){var l=a.font,c=a.out,d=a.newObject,h=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var g=l.metadata.Unicode.widths,b=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",x=0;x<b.length;x++)m+=String.fromCharCode(b[x]);var y=d();h({data:m,addLength1:!0,objectId:y}),c("endobj");var A=d();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:A}),c("endobj");var w=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+A0(l.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var C=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+A0(l.fontName)),c("/FontDescriptor "+w+" 0 R"),c("/W "+e.API.PDFObject.convert(g)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+A+" 0 R"),c("/BaseFont /"+A0(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+C+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),n.events.push(["putFont",function(s){(function(a){var l=a.font,c=a.out,d=a.newObject,h=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var g=l.metadata.rawData,b="",m=0;m<g.length;m++)b+=String.fromCharCode(g[m]);var x=d();h({data:b,addLength1:!0,objectId:x}),c("endobj");var y=d();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var A=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+A0(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+A0(l.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,l=s.text||"",c=s.x,d=s.y,h=s.options||{},g=s.mutex||{},b=g.pdfEscape,m=g.activeFontKey,x=g.fonts,y=m,A="",w=0,C="",k=x[y].encoding;if(x[y].encoding!=="Identity-H")return{text:l,x:c,y:d,options:h,mutex:g};for(C=l,y=m,Array.isArray(l)&&(C=l[0]),w=0;w<C.length;w+=1)x[y].metadata.hasOwnProperty("cmap")&&(a=x[y].metadata.cmap.unicode.codeMap[C[w].charCodeAt(0)]),a||C[w].charCodeAt(0)<256&&x[y].metadata.hasOwnProperty("Unicode")?A+=C[w]:A+="";var R="";return parseInt(y.slice(1))<14||k==="WinAnsiEncoding"?R=b(A,y).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(R=t(A,x[y])),g.isHex=!0,{text:R,x:c,y:d,options:h,mutex:g}};n.events.push(["postProcessText",function(s){var a=s.text||"",l=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var d=0;for(d=0;d<a.length;d+=1)Array.isArray(a[d])&&a[d].length===3?l.push([i(Object.assign({},c,{text:a[d][0]})).text,a[d][1],a[d][2]]):l.push(i(Object.assign({},c,{text:a[d]})).text);s.text=l}else s.text=i(Object.assign({},c,{text:a})).text}])}(ln),function(e){var n=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(t){return n.call(this),this.internal.vFS[t]!==void 0},e.addFileToVFS=function(t,r){return n.call(this),this.internal.vFS[t]=r,this},e.getFileFromVFS=function(t){return n.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(ln.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,a,l,c,d,h,g=n,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,k=0;this.__bidiEngine__={};var R=function(j){var O=j.charCodeAt(),M=O>>8,T=y[M];return T!==void 0?g[256*T+(255&O)]:M===252||M===253?"AL":w.test(M)?"L":M===8?"R":"N"},q=function(j){for(var O,M=0;M<j.length;M++){if((O=R(j.charAt(M)))==="L")return!1;if(O==="R")return!0}return!1},D=function(j,O,M,T){var Q,H,Y,Z,ae=O[T];switch(ae){case"L":case"R":C=!1;break;case"N":case"AN":break;case"EN":C&&(ae="AN");break;case"AL":C=!0,ae="R";break;case"WS":ae="N";break;case"CS":T<1||T+1>=O.length||(Q=M[T-1])!=="EN"&&Q!=="AN"||(H=O[T+1])!=="EN"&&H!=="AN"?ae="N":C&&(H="AN"),ae=H===Q?H:"N";break;case"ES":ae=(Q=T>0?M[T-1]:"B")==="EN"&&T+1<O.length&&O[T+1]==="EN"?"EN":"N";break;case"ET":if(T>0&&M[T-1]==="EN"){ae="EN";break}if(C){ae="N";break}for(Y=T+1,Z=O.length;Y<Z&&O[Y]==="ET";)Y++;ae=Y<Z&&O[Y]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(Z=O.length,Y=T+1;Y<Z&&O[Y]==="NSM";)Y++;if(Y<Z){var G=j[T],le=G>=1425&&G<=2303||G===64286;if(Q=O[Y],le&&(Q==="R"||Q==="AL")){ae="R";break}}}ae=T<1||(Q=O[T-1])==="B"?"N":M[T-1];break;case"B":C=!1,i=!0,ae=k;break;case"S":s=!0,ae="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"BN":ae="N"}return ae},N=function(j,O,M){var T=j.split("");return M&&P(T,M,{hiLevel:k}),T.reverse(),O&&O.reverse(),T.join("")},P=function(j,O,M){var T,Q,H,Y,Z,ae=-1,G=j.length,le=0,U=[],B=k?m:b,ie=[];for(C=!1,i=!1,s=!1,Q=0;Q<G;Q++)ie[Q]=R(j[Q]);for(H=0;H<G;H++){if(Z=le,U[H]=D(j,ie,U,H),T=240&(le=B[Z][x[U[H]]]),le&=15,O[H]=Y=B[le][5],T>0)if(T===16){for(Q=ae;Q<H;Q++)O[Q]=1;ae=-1}else ae=-1;if(B[le][6])ae===-1&&(ae=H);else if(ae>-1){for(Q=ae;Q<H;Q++)O[Q]=Y;ae=-1}ie[H]==="B"&&(O[H]=0),M.hiLevel|=Y}s&&function(J,ne,xe){for(var ye=0;ye<xe;ye++)if(J[ye]==="S"){ne[ye]=k;for(var Ae=ye-1;Ae>=0&&J[Ae]==="WS";Ae--)ne[Ae]=k}}(ie,O,G)},z=function(j,O,M,T,Q){if(!(Q.hiLevel<j)){if(j===1&&k===1&&!i)return O.reverse(),void(M&&M.reverse());for(var H,Y,Z,ae,G=O.length,le=0;le<G;){if(T[le]>=j){for(Z=le+1;Z<G&&T[Z]>=j;)Z++;for(ae=le,Y=Z-1;ae<Y;ae++,Y--)H=O[ae],O[ae]=O[Y],O[Y]=H,M&&(H=M[ae],M[ae]=M[Y],M[Y]=H);le=Z}le++}}},X=function(j,O,M){var T=j.split(""),Q={hiLevel:k};return M||(M=[]),P(T,M,Q),function(H,Y,Z){if(Z.hiLevel!==0&&h)for(var ae,G=0;G<H.length;G++)Y[G]===1&&(ae=A.indexOf(H[G]))>=0&&(H[G]=A[ae+1])}(T,M,Q),z(2,T,O,M,Q),z(1,T,O,M,Q),T.join("")};return this.__bidiEngine__.doBidiReorder=function(j,O,M){if(function(Q,H){if(H)for(var Y=0;Y<Q.length;Y++)H[Y]=Y;l===void 0&&(l=q(Q)),d===void 0&&(d=q(Q))}(j,O),a||!c||d)if(a&&c&&l^d)k=l?1:0,j=N(j,O,M);else if(!a&&c&&d)k=l?1:0,j=X(j,O,M),j=N(j,O);else if(!a||l||c||d){if(a&&!c&&l^d)j=N(j,O),l?(k=0,j=X(j,O,M)):(k=1,j=X(j,O,M),j=N(j,O));else if(a&&l&&!c&&d)k=1,j=X(j,O,M),j=N(j,O);else if(!a&&!c&&l^d){var T=h;l?(k=1,j=X(j,O,M),k=0,h=!1,j=X(j,O,M),h=T):(k=0,j=X(j,O,M),j=N(j,O),k=1,h=!1,j=X(j,O,M),h=T,j=N(j,O))}}else k=0,j=X(j,O,M);else k=l?1:0,j=X(j,O,M);return j},this.__bidiEngine__.setOptions=function(j){j&&(a=j.isInputVisual,c=j.isOutputVisual,l=j.isInputRtl,d=j.isOutputRtl,h=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var n=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(a=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?a.push([t.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):a.push([t.doBidiReorder(i[l])]);r.text=a}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(ln),ln.API.TTFFont=function(){function e(n){var t;if(this.rawData=n,t=this.contents=new Gf(n),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new sX(this),this.registerTTF()}return e.open=function(n){return new e(n)},e.prototype.parse=function(){return this.directory=new WK(this.contents),this.head=new YK(this),this.name=new ZK(this),this.cmap=new xI(this),this.toUnicode={},this.hhea=new GK(this),this.maxp=new JK(this),this.hmtx=new eX(this),this.post=new KK(this),this.os2=new QK(this),this.loca=new iX(this),this.glyf=new tX(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var n,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,c,d;for(d=[],a=0,l=(c=this.bbox).length;a<l;a++)n=c[a],d.push(Math.round(n*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(n){var t;return((t=this.cmap.unicode)!=null?t.codeMap[n]:void 0)||0},e.prototype.widthOfGlyph=function(n){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(n).advance*t},e.prototype.widthOfString=function(n,t,r){var i,s,a,l;for(a=0,s=0,l=(n=""+n).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=n.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return a*(t/1e3)},e.prototype.lineHeight=function(n,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*n},e}();var Lu,Gf=function(){function e(n){this.data=n??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(n){return this.data[this.pos++]=n},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(n){return this.writeByte(n>>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt32=function(){var n;return(n=this.readUInt32())>=2147483648?n-4294967296:n},e.prototype.writeInt32=function(n){return n<0&&(n+=4294967296),this.writeUInt32(n)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(n){return this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt16=function(){var n;return(n=this.readUInt16())>=32768?n-65536:n},e.prototype.writeInt16=function(n){return n<0&&(n+=65536),this.writeUInt16(n)},e.prototype.readString=function(n){var t,r;for(r=[],t=0;0<=n?t<n:t>n;t=0<=n?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(n){var t,r,i;for(i=[],t=0,r=n.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(n.charCodeAt(t)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(n){return this.writeInt16(n)},e.prototype.readLongLong=function(){var n,t,r,i,s,a,l,c;return n=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),128&n?-1*(72057594037927940*(255^n)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^l)+(255^c)+1):72057594037927940*n+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*a+256*l+c},e.prototype.writeLongLong=function(n){var t,r;return t=Math.floor(n/4294967296),r=4294967295&n,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(n){return this.writeInt32(n)},e.prototype.read=function(n){var t,r;for(t=[],r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)t.push(this.readByte());return t},e.prototype.write=function(n){var t,r,i,s;for(s=[],r=0,i=n.length;r<i;r++)t=n[r],s.push(this.writeByte(t));return s},e}(),WK=function(){var e;function n(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return n.prototype.encode=function(t){var r,i,s,a,l,c,d,h,g,b,m,x,y;for(y in m=Object.keys(t).length,c=Math.log(2),g=16*Math.floor(Math.log(m)/c),a=Math.floor(g/c),h=16*m-g,(i=new Gf).writeInt(this.scalarType),i.writeShort(m),i.writeShort(g),i.writeShort(a),i.writeShort(h),s=16*m,d=i.pos+s,l=null,x=[],t)for(b=t[y],i.writeString(y),i.writeInt(e(b)),i.writeInt(d),i.writeInt(b.length),x=x.concat(b),y==="head"&&(l=d),d+=b.length;d%4;)x.push(0),d++;return i.write(x),r=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(r),i.data},e=function(t){var r,i,s,a;for(t=vI.call(t);t.length%4;)t.push(0);for(s=new Gf(t),i=0,r=0,a=t.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},n}(),VK={}.hasOwnProperty,Wc=function(e,n){for(var t in n)VK.call(n,t)&&(e[t]=n[t]);function r(){this.constructor=e}return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Lu=function(){function e(n){var t;this.file=n,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var YK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Wc(n,Lu),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var r;return(r=new Gf).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},n}(),lk=function(){function e(n,t){var r,i,s,a,l,c,d,h,g,b,m,x,y,A,w,C,k;switch(this.platformID=n.readUInt16(),this.encodingID=n.readShort(),this.offset=t+n.readInt(),g=n.pos,n.pos=this.offset,this.format=n.readUInt16(),this.length=n.readUInt16(),this.language=n.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=n.readByte();break;case 4:for(m=n.readUInt16(),b=m/2,n.pos+=6,s=function(){var R,q;for(q=[],c=R=0;0<=b?R<b:R>b;c=0<=b?++R:--R)q.push(n.readUInt16());return q}(),n.pos+=2,y=function(){var R,q;for(q=[],c=R=0;0<=b?R<b:R>b;c=0<=b?++R:--R)q.push(n.readUInt16());return q}(),d=function(){var R,q;for(q=[],c=R=0;0<=b?R<b:R>b;c=0<=b?++R:--R)q.push(n.readUInt16());return q}(),h=function(){var R,q;for(q=[],c=R=0;0<=b?R<b:R>b;c=0<=b?++R:--R)q.push(n.readUInt16());return q}(),i=(this.length-n.pos+this.offset)/2,l=function(){var R,q;for(q=[],c=R=0;0<=i?R<i:R>i;c=0<=i?++R:--R)q.push(n.readUInt16());return q}(),c=w=0,k=s.length;w<k;c=++w)for(A=s[c],r=C=x=y[c];x<=A?C<=A:C>=A;r=x<=A?++C:--C)h[c]===0?a=r+d[c]:(a=l[h[c]/2+(r-x)-(b-c)]||0)!==0&&(a+=d[c]),this.codeMap[r]=65535&a}n.pos=g}return e.encode=function(n,t){var r,i,s,a,l,c,d,h,g,b,m,x,y,A,w,C,k,R,q,D,N,P,z,X,j,O,M,T,Q,H,Y,Z,ae,G,le,U,B,ie,J,ne,xe,ye,Ae,Ne,Te,qe;switch(T=new Gf,a=Object.keys(n).sort(function($e,V){return $e-V}),t){case"macroman":for(y=0,A=function(){var $e=[];for(x=0;x<256;++x)$e.push(0);return $e}(),C={0:0},s={},Q=0,ae=a.length;Q<ae;Q++)C[Ae=n[i=a[Q]]]==null&&(C[Ae]=++y),s[i]={old:n[i],new:C[n[i]]},A[i]=C[n[i]];return T.writeUInt16(1),T.writeUInt16(0),T.writeUInt32(12),T.writeUInt16(0),T.writeUInt16(262),T.writeUInt16(0),T.write(A),{charMap:s,subtable:T.data,maxGlyphID:y+1};case"unicode":for(O=[],g=[],k=0,C={},r={},w=d=null,H=0,G=a.length;H<G;H++)C[q=n[i=a[H]]]==null&&(C[q]=++k),r[i]={old:q,new:C[q]},l=C[q]-i,w!=null&&l===d||(w&&g.push(w),O.push(i),d=l),w=i;for(w&&g.push(w),g.push(65535),O.push(65535),X=2*(z=O.length),P=2*Math.pow(Math.log(z)/Math.LN2,2),b=Math.log(P/2)/Math.LN2,N=2*z-P,c=[],D=[],m=[],x=Y=0,le=O.length;Y<le;x=++Y){if(j=O[x],h=g[x],j===65535){c.push(0),D.push(0);break}if(j-(M=r[j].new)>=32768)for(c.push(0),D.push(2*(m.length+z-x)),i=Z=j;j<=h?Z<=h:Z>=h;i=j<=h?++Z:--Z)m.push(r[i].new);else c.push(M-j),D.push(0)}for(T.writeUInt16(3),T.writeUInt16(1),T.writeUInt32(12),T.writeUInt16(4),T.writeUInt16(16+8*z+2*m.length),T.writeUInt16(0),T.writeUInt16(X),T.writeUInt16(P),T.writeUInt16(b),T.writeUInt16(N),xe=0,U=g.length;xe<U;xe++)i=g[xe],T.writeUInt16(i);for(T.writeUInt16(0),ye=0,B=O.length;ye<B;ye++)i=O[ye],T.writeUInt16(i);for(Ne=0,ie=c.length;Ne<ie;Ne++)l=c[Ne],T.writeUInt16(l);for(Te=0,J=D.length;Te<J;Te++)R=D[Te],T.writeUInt16(R);for(qe=0,ne=m.length;qe<ne;qe++)y=m[qe],T.writeUInt16(y);return{charMap:r,subtable:T.data,maxGlyphID:k+1}}},e}(),xI=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Wc(n,Lu),n.prototype.tag="cmap",n.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new lk(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},n.encode=function(t,r){var i,s;return r==null&&(r="macroman"),i=lk.encode(t,r),(s=new Gf).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},n}(),GK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Wc(n,Lu),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n}(),QK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Wc(n,Lu),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n}(),KK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Wc(n,Lu),n.prototype.tag="post",n.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var a;for(i=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],a=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;a=0<=c?++l:--l)d.push(t.readUInt32());return d}).call(this)}},n}(),XK=function(e,n){this.raw=e,this.length=e.length,this.platformID=n.platformID,this.encodingID=n.encodingID,this.languageID=n.languageID},ZK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Wc(n,Lu),n.prototype.tag="name",n.prototype.parse=function(t){var r,i,s,a,l,c,d,h,g,b,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),c=t.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(d={},a=g=0,b=i.length;g<b;a=++g)s=i[a],t.pos=s.offset,h=t.readString(s.length),l=new XK(h,s),d[m=s.nameID]==null&&(d[m]=[]),d[s.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},n}(),JK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Wc(n,Lu),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n}(),eX=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Wc(n,Lu),n.prototype.tag="hmtx",n.prototype.parse=function(t){var r,i,s,a,l,c,d;for(t.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,g;for(g=[],r=h=0;0<=s?h<s:h>s;r=0<=s?++h:--h)g.push(t.readInt16());return g}(),this.widths=(function(){var h,g,b,m;for(m=[],h=0,g=(b=this.metrics).length;h<g;h++)a=b[h],m.push(a.advance);return m}).call(this),i=this.widths[this.widths.length-1],d=[],r=l=0;0<=s?l<s:l>s;r=0<=s?++l:--l)d.push(this.widths.push(i));return d},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n}(),vI=[].slice,tX=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Wc(n,Lu),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var r,i,s,a,l,c,d,h,g,b;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(t),(s=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,l=(c=new Gf(r.read(s))).readShort(),h=c.readShort(),b=c.readShort(),d=c.readShort(),g=c.readShort(),this.cache[t]=l===-1?new rX(c,h,b,d,g):new nX(c,l,h,b,d,g),this.cache[t]))},n.prototype.encode=function(t,r,i){var s,a,l,c,d;for(l=[],a=[],c=0,d=r.length;c<d;c++)s=t[r[c]],a.push(l.length),s&&(l=l.concat(s.encode(i)));return a.push(l.length),{table:l,offsets:a}},n}(),nX=function(){function e(n,t,r,i,s,a){this.raw=n,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),rX=function(){function e(n,t,r,i,s){var a,l;for(this.raw=n,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return e.prototype.encode=function(){var n,t,r;for(t=new Gf(vI.call(this.raw.data)),n=0,r=this.glyphIDs.length;n<r;++n)t.pos=this.glyphOffsets[n];return t.data},e}(),iX=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Wc(n,Lu),n.prototype.tag="loca",n.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(t.readUInt32());return a}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,l=0;l<i.length;++l)if(i[l]=s,a<r.length&&r[a]==l){++a,i[l]=s;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(s+=d)}for(var h=new Array(4*i.length),g=0;g<i.length;++g)h[4*g+3]=255&i[g],h[4*g+2]=(65280&i[g])>>8,h[4*g+1]=(16711680&i[g])>>16,h[4*g]=(4278190080&i[g])>>24;return h},n}(),sX=function(){function e(n){this.font=n,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var n,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,n={},s=this.subset)r=s[t],n[t]=i[r];return n},e.prototype.glyphsFor=function(n){var t,r,i,s,a,l,c;for(i={},a=0,l=n.length;a<l;a++)i[s=n[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))r=c[s],i[s]=r;return i},e.prototype.encode=function(n,t){var r,i,s,a,l,c,d,h,g,b,m,x,y,A,w;for(i in r=xI.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(n),m={0:0},w=r.charMap)m[(c=w[i]).old]=c.new;for(x in b=r.maxGlyphID,a)x in m||(m[x]=b++);return h=function(C){var k,R;for(k in R={},C)R[C[k]]=k;return R}(m),g=Object.keys(h).sort(function(C,k){return C-k}),y=function(){var C,k,R;for(R=[],C=0,k=g.length;C<k;C++)l=g[C],R.push(h[l]);return R}(),s=this.font.glyf.encode(a,y,m),d=this.font.loca.encode(s.offsets,y),A={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},e}();ln.API.PDFObject=function(){var e;function n(){}return e=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},n.convert=function(t){var r,i,s,a;if(Array.isArray(t))return"["+function(){var l,c,d;for(d=[],l=0,c=t.length;l<c;l++)r=t[l],d.push(n.convert(r));return d}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+e(t.getUTCFullYear(),4)+e(t.getUTCMonth(),2)+e(t.getUTCDate(),2)+e(t.getUTCHours(),2)+e(t.getUTCMinutes(),2)+e(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+n.convert(a));return s.push(">>"),s.join(`
`)}return""+t},n}();const aX=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),oX=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var gw;const lX=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),uk=(gw=String.fromCodePoint)!==null&&gw!==void 0?gw:function(e){let n="";return e>65535&&(e-=65536,n+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),n+=String.fromCharCode(e),n};function uX(e){var n;return e>=55296&&e<=57343||e>1114111?65533:(n=lX.get(e))!==null&&n!==void 0?n:e}var ta;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(ta||(ta={}));const cX=32;var Rf;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Rf||(Rf={}));function BS(e){return e>=ta.ZERO&&e<=ta.NINE}function dX(e){return e>=ta.UPPER_A&&e<=ta.UPPER_F||e>=ta.LOWER_A&&e<=ta.LOWER_F}function fX(e){return e>=ta.UPPER_A&&e<=ta.UPPER_Z||e>=ta.LOWER_A&&e<=ta.LOWER_Z||BS(e)}function hX(e){return e===ta.EQUALS||fX(e)}var Js;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Js||(Js={}));var Sc;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Sc||(Sc={}));class pX{constructor(n,t,r){this.decodeTree=n,this.emitCodePoint=t,this.errors=r,this.state=Js.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Sc.Strict}startEntity(n){this.decodeMode=n,this.state=Js.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(n,t){switch(this.state){case Js.EntityStart:return n.charCodeAt(t)===ta.NUM?(this.state=Js.NumericStart,this.consumed+=1,this.stateNumericStart(n,t+1)):(this.state=Js.NamedEntity,this.stateNamedEntity(n,t));case Js.NumericStart:return this.stateNumericStart(n,t);case Js.NumericDecimal:return this.stateNumericDecimal(n,t);case Js.NumericHex:return this.stateNumericHex(n,t);case Js.NamedEntity:return this.stateNamedEntity(n,t)}}stateNumericStart(n,t){return t>=n.length?-1:(n.charCodeAt(t)|cX)===ta.LOWER_X?(this.state=Js.NumericHex,this.consumed+=1,this.stateNumericHex(n,t+1)):(this.state=Js.NumericDecimal,this.stateNumericDecimal(n,t))}addToNumericResult(n,t,r,i){if(t!==r){const s=r-t;this.result=this.result*Math.pow(i,s)+Number.parseInt(n.substr(t,s),i),this.consumed+=s}}stateNumericHex(n,t){const r=t;for(;t<n.length;){const i=n.charCodeAt(t);if(BS(i)||dX(i))t+=1;else return this.addToNumericResult(n,r,t,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(n,r,t,16),-1}stateNumericDecimal(n,t){const r=t;for(;t<n.length;){const i=n.charCodeAt(t);if(BS(i))t+=1;else return this.addToNumericResult(n,r,t,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(n,r,t,10),-1}emitNumericEntity(n,t){var r;if(this.consumed<=t)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(n===ta.SEMI)this.consumed+=1;else if(this.decodeMode===Sc.Strict)return 0;return this.emitCodePoint(uX(this.result),this.consumed),this.errors&&(n!==ta.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(n,t){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&Rf.VALUE_LENGTH)>>14;for(;t<n.length;t++,this.excess++){const a=n.charCodeAt(t);if(this.treeIndex=mX(r,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===Sc.Attribute&&(s===0||hX(a))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&Rf.VALUE_LENGTH)>>14,s!==0){if(a===ta.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Sc.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var n;const{result:t,decodeTree:r}=this,i=(r[t]&Rf.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,i,this.consumed),(n=this.errors)===null||n===void 0||n.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(n,t,r){const{decodeTree:i}=this;return this.emitCodePoint(t===1?i[n]&~Rf.VALUE_LENGTH:i[n+1],r),t===3&&this.emitCodePoint(i[n+2],r),r}end(){var n;switch(this.state){case Js.NamedEntity:return this.result!==0&&(this.decodeMode!==Sc.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Js.NumericDecimal:return this.emitNumericEntity(0,2);case Js.NumericHex:return this.emitNumericEntity(0,3);case Js.NumericStart:return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Js.EntityStart:return 0}}}function mX(e,n,t,r){const i=(n&Rf.BRANCH_LENGTH)>>7,s=n&Rf.JUMP_TABLE;if(i===0)return s!==0&&r===s?t:-1;if(s){const c=r-s;return c<0||c>=i?-1:e[t+c]-1}let a=t,l=a+i-1;for(;a<=l;){const c=a+l>>>1,d=e[c];if(d<r)a=c+1;else if(d>r)l=c-1;else return e[c+i]}return-1}var sn;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(sn||(sn={}));var Et;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(Et||(Et={}));function yd(e){return e===sn.Space||e===sn.NewLine||e===sn.Tab||e===sn.FormFeed||e===sn.CarriageReturn}function $y(e){return e===sn.Slash||e===sn.Gt||yd(e)}function gX(e){return e>=sn.LowerA&&e<=sn.LowerZ||e>=sn.UpperA&&e<=sn.UpperZ}var Ac;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(Ac||(Ac={}));const Ms={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};class bX{constructor({xmlMode:n=!1,decodeEntities:t=!0},r){this.cbs=r,this.state=Et.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=Et.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=n,this.decodeEntities=t,this.entityDecoder=new pX(n?oX:aX,(i,s)=>this.emitCodePoint(i,s))}reset(){this.state=Et.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Et.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(n){this.offset+=this.buffer.length,this.buffer=n,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(n){n===sn.Lt||!this.decodeEntities&&this.fastForwardTo(sn.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=Et.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&n===sn.Amp&&this.startEntity()}stateSpecialStartSequence(n){const t=this.sequenceIndex===this.currentSequence.length;if(!(t?$y(n):(n|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!t){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=Et.InTagName,this.stateInTagName(n)}stateInSpecialTag(n){if(this.sequenceIndex===this.currentSequence.length){if(n===sn.Gt||yd(n)){const t=this.index-this.currentSequence.length;if(this.sectionStart<t){const r=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=r}this.isSpecial=!1,this.sectionStart=t+2,this.stateInClosingTagName(n);return}this.sequenceIndex=0}(n|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Ms.TitleEnd?this.decodeEntities&&n===sn.Amp&&this.startEntity():this.fastForwardTo(sn.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(n===sn.Lt)}stateCDATASequence(n){n===Ms.Cdata[this.sequenceIndex]?++this.sequenceIndex===Ms.Cdata.length&&(this.state=Et.InCommentLike,this.currentSequence=Ms.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=Et.InDeclaration,this.stateInDeclaration(n))}fastForwardTo(n){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===n)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(n){n===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Ms.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=Et.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):n!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(n){return this.xmlMode?!$y(n):gX(n)}startSpecial(n,t){this.isSpecial=!0,this.currentSequence=n,this.sequenceIndex=t,this.state=Et.SpecialStartSequence}stateBeforeTagName(n){if(n===sn.ExclamationMark)this.state=Et.BeforeDeclaration,this.sectionStart=this.index+1;else if(n===sn.Questionmark)this.state=Et.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(n)){const t=n|32;this.sectionStart=this.index,this.xmlMode?this.state=Et.InTagName:t===Ms.ScriptEnd[2]?this.state=Et.BeforeSpecialS:t===Ms.TitleEnd[2]||t===Ms.XmpEnd[2]?this.state=Et.BeforeSpecialT:this.state=Et.InTagName}else n===sn.Slash?this.state=Et.BeforeClosingTagName:(this.state=Et.Text,this.stateText(n))}stateInTagName(n){$y(n)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(n))}stateBeforeClosingTagName(n){yd(n)||(n===sn.Gt?this.state=Et.Text:(this.state=this.isTagStartChar(n)?Et.InClosingTagName:Et.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(n){(n===sn.Gt||yd(n))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=Et.AfterClosingTagName,this.stateAfterClosingTagName(n))}stateAfterClosingTagName(n){(n===sn.Gt||this.fastForwardTo(sn.Gt))&&(this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(n){n===sn.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=Et.InSpecialTag,this.sequenceIndex=0):this.state=Et.Text,this.sectionStart=this.index+1):n===sn.Slash?this.state=Et.InSelfClosingTag:yd(n)||(this.state=Et.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(n){n===sn.Gt?(this.cbs.onselfclosingtag(this.index),this.state=Et.Text,this.sectionStart=this.index+1,this.isSpecial=!1):yd(n)||(this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(n))}stateInAttributeName(n){(n===sn.Eq||$y(n))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=Et.AfterAttributeName,this.stateAfterAttributeName(n))}stateAfterAttributeName(n){n===sn.Eq?this.state=Et.BeforeAttributeValue:n===sn.Slash||n===sn.Gt?(this.cbs.onattribend(Ac.NoValue,this.sectionStart),this.sectionStart=-1,this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(n)):yd(n)||(this.cbs.onattribend(Ac.NoValue,this.sectionStart),this.state=Et.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(n){n===sn.DoubleQuote?(this.state=Et.InAttributeValueDq,this.sectionStart=this.index+1):n===sn.SingleQuote?(this.state=Et.InAttributeValueSq,this.sectionStart=this.index+1):yd(n)||(this.sectionStart=this.index,this.state=Et.InAttributeValueNq,this.stateInAttributeValueNoQuotes(n))}handleInAttributeValue(n,t){n===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===sn.DoubleQuote?Ac.Double:Ac.Single,this.index+1),this.state=Et.BeforeAttributeName):this.decodeEntities&&n===sn.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(n){this.handleInAttributeValue(n,sn.DoubleQuote)}stateInAttributeValueSingleQuotes(n){this.handleInAttributeValue(n,sn.SingleQuote)}stateInAttributeValueNoQuotes(n){yd(n)||n===sn.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(Ac.Unquoted,this.index),this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(n)):this.decodeEntities&&n===sn.Amp&&this.startEntity()}stateBeforeDeclaration(n){n===sn.OpeningSquareBracket?(this.state=Et.CDATASequence,this.sequenceIndex=0):this.state=n===sn.Dash?Et.BeforeComment:Et.InDeclaration}stateInDeclaration(n){(n===sn.Gt||this.fastForwardTo(sn.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=Et.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(n){(n===sn.Gt||this.fastForwardTo(sn.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeComment(n){n===sn.Dash?(this.state=Et.InCommentLike,this.currentSequence=Ms.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=Et.InDeclaration}stateInSpecialComment(n){(n===sn.Gt||this.fastForwardTo(sn.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(n){const t=n|32;t===Ms.ScriptEnd[3]?this.startSpecial(Ms.ScriptEnd,4):t===Ms.StyleEnd[3]?this.startSpecial(Ms.StyleEnd,4):(this.state=Et.InTagName,this.stateInTagName(n))}stateBeforeSpecialT(n){switch(n|32){case Ms.TitleEnd[3]:{this.startSpecial(Ms.TitleEnd,4);break}case Ms.TextareaEnd[3]:{this.startSpecial(Ms.TextareaEnd,4);break}case Ms.XmpEnd[3]:{this.startSpecial(Ms.XmpEnd,4);break}default:this.state=Et.InTagName,this.stateInTagName(n)}}startEntity(){this.baseState=this.state,this.state=Et.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?Sc.Strict:this.baseState===Et.Text||this.baseState===Et.InSpecialTag?Sc.Legacy:Sc.Attribute)}stateInEntity(){const n=this.entityDecoder.write(this.buffer,this.index-this.offset);n>=0?(this.state=this.baseState,n===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===Et.Text||this.state===Et.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===Et.InAttributeValueDq||this.state===Et.InAttributeValueSq||this.state===Et.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const n=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case Et.Text:{this.stateText(n);break}case Et.SpecialStartSequence:{this.stateSpecialStartSequence(n);break}case Et.InSpecialTag:{this.stateInSpecialTag(n);break}case Et.CDATASequence:{this.stateCDATASequence(n);break}case Et.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(n);break}case Et.InAttributeName:{this.stateInAttributeName(n);break}case Et.InCommentLike:{this.stateInCommentLike(n);break}case Et.InSpecialComment:{this.stateInSpecialComment(n);break}case Et.BeforeAttributeName:{this.stateBeforeAttributeName(n);break}case Et.InTagName:{this.stateInTagName(n);break}case Et.InClosingTagName:{this.stateInClosingTagName(n);break}case Et.BeforeTagName:{this.stateBeforeTagName(n);break}case Et.AfterAttributeName:{this.stateAfterAttributeName(n);break}case Et.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(n);break}case Et.BeforeAttributeValue:{this.stateBeforeAttributeValue(n);break}case Et.BeforeClosingTagName:{this.stateBeforeClosingTagName(n);break}case Et.AfterClosingTagName:{this.stateAfterClosingTagName(n);break}case Et.BeforeSpecialS:{this.stateBeforeSpecialS(n);break}case Et.BeforeSpecialT:{this.stateBeforeSpecialT(n);break}case Et.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(n);break}case Et.InSelfClosingTag:{this.stateInSelfClosingTag(n);break}case Et.InDeclaration:{this.stateInDeclaration(n);break}case Et.BeforeDeclaration:{this.stateBeforeDeclaration(n);break}case Et.BeforeComment:{this.stateBeforeComment(n);break}case Et.InProcessingInstruction:{this.stateInProcessingInstruction(n);break}case Et.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===Et.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const n=this.buffer.length+this.offset;this.sectionStart>=n||(this.state===Et.InCommentLike?this.currentSequence===Ms.CdataEnd?this.cbs.oncdata(this.sectionStart,n,0):this.cbs.oncomment(this.sectionStart,n,0):this.state===Et.InTagName||this.state===Et.BeforeAttributeName||this.state===Et.BeforeAttributeValue||this.state===Et.AfterAttributeName||this.state===Et.InAttributeName||this.state===Et.InAttributeValueSq||this.state===Et.InAttributeValueDq||this.state===Et.InAttributeValueNq||this.state===Et.InClosingTagName||this.cbs.ontext(this.sectionStart,n))}emitCodePoint(n,t){this.baseState!==Et.Text&&this.baseState!==Et.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.onattribentity(n)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.ontextentity(n,this.sectionStart))}}const t0=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Kr=new Set(["p"]),ck=new Set(["thead","tbody"]),dk=new Set(["dd","dt"]),fk=new Set(["rt","rp"]),yX=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Kr],["h1",Kr],["h2",Kr],["h3",Kr],["h4",Kr],["h5",Kr],["h6",Kr],["select",t0],["input",t0],["output",t0],["button",t0],["datalist",t0],["textarea",t0],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",dk],["dt",dk],["address",Kr],["article",Kr],["aside",Kr],["blockquote",Kr],["details",Kr],["div",Kr],["dl",Kr],["fieldset",Kr],["figcaption",Kr],["figure",Kr],["footer",Kr],["form",Kr],["header",Kr],["hr",Kr],["main",Kr],["nav",Kr],["ol",Kr],["pre",Kr],["section",Kr],["table",Kr],["ul",Kr],["rt",fk],["rp",fk],["tbody",ck],["tfoot",ck]]),xX=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),hk=new Set(["math","svg"]),pk=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),vX=/\s|\//;class wX{constructor(n,t={}){var r,i,s,a,l,c;this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=n??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=t.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(i=t.lowerCaseAttributeNames)!==null&&i!==void 0?i:this.htmlMode,this.recognizeSelfClosing=(s=t.recognizeSelfClosing)!==null&&s!==void 0?s:!this.htmlMode,this.tokenizer=new((a=t.Tokenizer)!==null&&a!==void 0?a:bX)(this.options,this),this.foreignContext=[!this.htmlMode],(c=(l=this.cbs).onparserinit)===null||c===void 0||c.call(l,this)}ontext(n,t){var r,i;const s=this.getSlice(n,t);this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,s),this.startIndex=t}ontextentity(n,t){var r,i;this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,uk(n)),this.startIndex=t}isVoidElement(n){return this.htmlMode&&xX.has(n)}onopentagname(n,t){this.endIndex=t;let r=this.getSlice(n,t);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(n){var t,r,i,s;this.openTagStart=this.startIndex,this.tagname=n;const a=this.htmlMode&&yX.get(n);if(a)for(;this.stack.length>0&&a.has(this.stack[0]);){const l=this.stack.shift();(r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,l,!0)}this.isVoidElement(n)||(this.stack.unshift(n),this.htmlMode&&(hk.has(n)?this.foreignContext.unshift(!0):pk.has(n)&&this.foreignContext.unshift(!1))),(s=(i=this.cbs).onopentagname)===null||s===void 0||s.call(i,n),this.cbs.onopentag&&(this.attribs={})}endOpenTag(n){var t,r;this.startIndex=this.openTagStart,this.attribs&&((r=(t=this.cbs).onopentag)===null||r===void 0||r.call(t,this.tagname,this.attribs,n),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(n){this.endIndex=n,this.endOpenTag(!1),this.startIndex=n+1}onclosetag(n,t){var r,i,s,a,l,c,d,h;this.endIndex=t;let g=this.getSlice(n,t);if(this.lowerCaseTagNames&&(g=g.toLowerCase()),this.htmlMode&&(hk.has(g)||pk.has(g))&&this.foreignContext.shift(),this.isVoidElement(g))this.htmlMode&&g==="br"&&((a=(s=this.cbs).onopentagname)===null||a===void 0||a.call(s,"br"),(c=(l=this.cbs).onopentag)===null||c===void 0||c.call(l,"br",{},!0),(h=(d=this.cbs).onclosetag)===null||h===void 0||h.call(d,"br",!1));else{const b=this.stack.indexOf(g);if(b!==-1)for(let m=0;m<=b;m++){const x=this.stack.shift();(i=(r=this.cbs).onclosetag)===null||i===void 0||i.call(r,x,m!==b)}else this.htmlMode&&g==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1}onselfclosingtag(n){this.endIndex=n,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=n+1):this.onopentagend(n)}closeCurrentTag(n){var t,r;const i=this.tagname;this.endOpenTag(n),this.stack[0]===i&&((r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,i,!n),this.stack.shift())}onattribname(n,t){this.startIndex=n;const r=this.getSlice(n,t);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(n,t){this.attribvalue+=this.getSlice(n,t)}onattribentity(n){this.attribvalue+=uk(n)}onattribend(n,t){var r,i;this.endIndex=t,(i=(r=this.cbs).onattribute)===null||i===void 0||i.call(r,this.attribname,this.attribvalue,n===Ac.Double?'"':n===Ac.Single?"'":n===Ac.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(n){const t=n.search(vX);let r=t<0?n:n.substr(0,t);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(n,t){this.endIndex=t;const r=this.getSlice(n,t);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${i}`,`!${r}`)}this.startIndex=t+1}onprocessinginstruction(n,t){this.endIndex=t;const r=this.getSlice(n,t);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${i}`,`?${r}`)}this.startIndex=t+1}oncomment(n,t,r){var i,s,a,l;this.endIndex=t,(s=(i=this.cbs).oncomment)===null||s===void 0||s.call(i,this.getSlice(n,t-r)),(l=(a=this.cbs).oncommentend)===null||l===void 0||l.call(a),this.startIndex=t+1}oncdata(n,t,r){var i,s,a,l,c,d,h,g,b,m;this.endIndex=t;const x=this.getSlice(n,t-r);!this.htmlMode||this.options.recognizeCDATA?((s=(i=this.cbs).oncdatastart)===null||s===void 0||s.call(i),(l=(a=this.cbs).ontext)===null||l===void 0||l.call(a,x),(d=(c=this.cbs).oncdataend)===null||d===void 0||d.call(c)):((g=(h=this.cbs).oncomment)===null||g===void 0||g.call(h,`[CDATA[${x}]]`),(m=(b=this.cbs).oncommentend)===null||m===void 0||m.call(b)),this.startIndex=t+1}onend(){var n,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(t=(n=this.cbs).onend)===null||t===void 0||t.call(n)}reset(){var n,t,r,i;(t=(n=this.cbs).onreset)===null||t===void 0||t.call(n),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(r=this.cbs).onparserinit)===null||i===void 0||i.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(n){this.reset(),this.end(n)}getSlice(n,t){for(;n-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(n-this.bufferOffset,t-this.bufferOffset);for(;t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,t-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(n){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".write() after done!"));return}this.buffers.push(n),this.tokenizer.running&&(this.tokenizer.write(n),this.writeIndex++)}end(n){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".end() after done!"));return}n&&this.write(n),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(n){this.write(n)}done(n){this.end(n)}}var Mr;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(Mr||(Mr={}));function px(e){return e.type===Mr.Tag||e.type===Mr.Script||e.type===Mr.Style}Mr.Root;Mr.Text;Mr.Directive;Mr.Comment;Mr.Script;Mr.Style;Mr.Tag;Mr.CDATA;Mr.Doctype;let wI=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(n){this.parent=n}get previousSibling(){return this.prev}set previousSibling(n){this.prev=n}get nextSibling(){return this.next}set nextSibling(n){this.next=n}cloneNode(n=!1){return jI(this,n)}};class mA extends wI{constructor(n){super(),this.data=n}get nodeValue(){return this.data}set nodeValue(n){this.data=n}}let US=class extends mA{constructor(){super(...arguments),this.type=Mr.Text}get nodeType(){return 3}};class SI extends mA{constructor(){super(...arguments),this.type=Mr.Comment}get nodeType(){return 8}}class AI extends mA{constructor(n,t){super(t),this.name=n,this.type=Mr.Directive}get nodeType(){return 1}}class gA extends wI{constructor(n){super(),this.children=n}get firstChild(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(n){this.children=n}}class CI extends gA{constructor(){super(...arguments),this.type=Mr.CDATA}get nodeType(){return 4}}class $S extends gA{constructor(){super(...arguments),this.type=Mr.Root}get nodeType(){return 9}}let EI=class extends gA{constructor(n,t,r=[],i=n==="script"?Mr.Script:n==="style"?Mr.Style:Mr.Tag){super(r),this.name=n,this.attribs=t,this.type=i}get nodeType(){return 1}get tagName(){return this.name}set tagName(n){this.name=n}get attributes(){return Object.keys(this.attribs).map(n=>{var t,r;return{name:n,value:this.attribs[n],namespace:(t=this["x-attribsNamespace"])===null||t===void 0?void 0:t[n],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[n]}})}};function _I(e){return px(e)}function kI(e){return e.type===Mr.CDATA}function NI(e){return e.type===Mr.Text}function SX(e){return e.type===Mr.Comment}function AX(e){return e.type===Mr.Directive}function CX(e){return e.type===Mr.Root}function jI(e,n=!1){let t;if(NI(e))t=new US(e.data);else if(SX(e))t=new SI(e.data);else if(_I(e)){const r=n?bw(e.children):[],i=new EI(e.name,{...e.attribs},r);r.forEach(s=>s.parent=i),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]={...e["x-attribsPrefix"]}),t=i}else if(kI(e)){const r=n?bw(e.children):[],i=new CI(r);r.forEach(s=>s.parent=i),t=i}else if(CX(e)){const r=n?bw(e.children):[],i=new $S(r);r.forEach(s=>s.parent=i),e["x-mode"]&&(i["x-mode"]=e["x-mode"]),t=i}else if(AX(e)){const r=new AI(e.name,e.data);e["x-name"]!=null&&(r["x-name"]=e["x-name"],r["x-publicId"]=e["x-publicId"],r["x-systemId"]=e["x-systemId"]),t=r}else throw new Error(`Not implemented yet: ${e.type}`);return t.startIndex=e.startIndex,t.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(t.sourceCodeLocation=e.sourceCodeLocation),t}function bw(e){const n=e.map(t=>jI(t,!0));for(let t=1;t<n.length;t++)n[t].prev=n[t-1],n[t-1].next=n[t];return n}const mk={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class EX{constructor(n,t,r){this.dom=[],this.root=new $S(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof t=="function"&&(r=t,t=mk),typeof n=="object"&&(t=n,n=void 0),this.callback=n??null,this.options=t??mk,this.elementCB=r??null}onparserinit(n){this.parser=n}onreset(){this.dom=[],this.root=new $S(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(n){this.handleCallback(n)}onclosetag(){this.lastNode=null;const n=this.tagStack.pop();this.options.withEndIndices&&(n.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(n)}onopentag(n,t){const r=this.options.xmlMode?Mr.Tag:void 0,i=new EI(n,t,void 0,r);this.addNode(i),this.tagStack.push(i)}ontext(n){const{lastNode:t}=this;if(t&&t.type===Mr.Text)t.data+=n,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{const r=new US(n);this.addNode(r),this.lastNode=r}}oncomment(n){if(this.lastNode&&this.lastNode.type===Mr.Comment){this.lastNode.data+=n;return}const t=new SI(n);this.addNode(t),this.lastNode=t}oncommentend(){this.lastNode=null}oncdatastart(){const n=new US(""),t=new CI([n]);this.addNode(t),n.parent=t,this.lastNode=n}oncdataend(){this.lastNode=null}onprocessinginstruction(n,t){const r=new AI(n,t);this.addNode(r)}handleCallback(n){if(typeof this.callback=="function")this.callback(n,this.dom);else if(n)throw n}addNode(n){const t=this.tagStack[this.tagStack.length-1],r=t.children[t.children.length-1];this.options.withStartIndices&&(n.startIndex=this.parser.startIndex),this.options.withEndIndices&&(n.endIndex=this.parser.endIndex),t.children.push(n),r&&(n.prev=r,r.next=n),n.parent=t,this.lastNode=null}}function vd(e){return Array.isArray(e)?e.map(vd).join(""):_I(e)?e.name==="br"?`
`:vd(e.children):kI(e)?vd(e.children):NI(e)?e.data:""}function _X(e,n){const t=new EX(void 0,n);return new wX(t,n).end(e),t.root}const kX=async(e,n)=>{var m,x,y,A,w,C,k,R;if(!e)return;const t=new ln("p","mm","a4",!0);let r=10;const i=297,s=q=>{r+q*6>i-20&&(t.addPage(),r=10)},a=e.sections.length+e.sections.reduce((q,D)=>q+D.subsections.length,0)+e.sections.reduce((q,D)=>q+D.subsections.reduce((N,P)=>N+P.subSubsections.length,0),0)+e.sections.reduce((q,D)=>{var N;return q+(((N=D.images)==null?void 0:N.length)||0)+D.subsections.reduce((P,z)=>{var X;return P+(((X=z.images)==null?void 0:X.length)||0)+z.subSubsections.reduce((j,O)=>{var M;return j+(((M=O.images)==null?void 0:M.length)||0)},0)},0)},0);let l=0;const c=()=>{l+=1,n(Math.round(l/a*100))},d=async(q,D=150,N=150)=>new Promise(P=>{const z=new Image;z.crossOrigin="anonymous",z.src=q.url,z.onload=()=>{const X=z.width/z.height;let j=D,O=N;X>1?O=D/X:j=N*X,s(O+15);const M=(210-j)/2;if(t.addImage(z,"JPEG",M,r,j,O),r+=O+5,q.title){t.setFont("helvetica","italic"),t.setFontSize(10);const Q=(210-t.getTextWidth(q.title))/2;t.text(q.title,Q,r),t.setFont("helvetica","normal"),r+=6}c(),P()},z.onerror=()=>{console.warn(`Image failed to load: ${q.url}`),c(),P()}}),h=(q,D=10,N=12)=>{var X;const P=_X(q),z=(j,O=0,M=!1)=>{var T,Q,H,Y,Z,ae,G;if(j){if(px(j)){const le=j,U=le.name.toLowerCase();switch(U){case"p":r+=6,(T=le.children)==null||T.forEach(B=>z(B,O)),r+=6;break;case"br":r+=6;break;case"strong":case"b":case"i":case"em":t.setFont("helvetica",U==="strong"||U==="b"?"bold":"italic"),(Q=le.children)==null||Q.forEach(B=>z(B,O)),t.setFont("helvetica","normal");break;case"ul":case"ol":r+=4,(H=le.children)==null||H.forEach(B=>z(B,O+1,!0));break;case"li":{const B=O===1?"-":"--";let ie="";(Y=le.children)==null||Y.forEach(J=>{if(px(J)){const ne=J;ne.name==="strong"||ne.name==="b"?(t.setFont("helvetica","bold"),ie+=` ${vd(ne)}`,t.setFont("helvetica","normal")):ne.name!=="ul"&&ne.name!=="ol"&&(ie+=` ${vd(ne)}`)}else J.type==="text"&&"data"in J&&(ie+=` ${J.data.trim()}`)}),ie=ie.trim(),ie&&(O===0?g(`${B} ${ie}`,D,N+2,!0):g(`${B} ${ie}`,D+O*8,N),r+=6),(Z=le.children)==null||Z.forEach(J=>{if(px(J)){const ne=J;["ul","ol"].includes(ne.name)&&z(ne,O+1,!0)}});break}case"a":(ae=le.attribs)!=null&&ae.href&&b(vd(le),le.attribs.href);break;case"h1":g(vd(le),D,20,!0),r+=8;break;case"h2":g(vd(le),D,18,!0),r+=8;break;case"h3":g(vd(le),D,16,!0),r+=6;break;default:(G=le.children)==null||G.forEach(B=>z(B,O))}}else if(j.type==="text"&&"data"in j){const le=j.data.trim();le&&g(le,D+O*8,N)}}};(X=P.children)==null||X.forEach(j=>z(j))},g=(q,D,N=12,P=!1,z=[0,0,0],X=!1,j=200)=>{if(!q)return;t.setFontSize(N),t.setTextColor(z[0],z[1],z[2]),t.setFont("helvetica",P?X?"bolditalic":"bold":X?"italic":"normal"),t.splitTextToSize(q,j-D).forEach(M=>{s(1),t.text(M,D,r),r+=6})},b=(q,D)=>{s(1),t.setTextColor(10,104,71),t.textWithLink(q,10,r,{url:D}),r+=6};(m=e.header)!=null&&m.content&&(g("Header:",10,12,!0),h(e.header.content),r+=5),e.title&&(g(e.title,10,18,!0,[10,104,71]),r+=5);for(const q of e.sections){if(g(q.title,10,16,!0),h(q.content),(x=q.images)!=null&&x.length)for(const D of q.images)await d(D);c();for(const D of q.subsections){if(g(D.title,12,14,!0),h(D.content,12),(y=D.images)!=null&&y.length)for(const N of D.images)await d(N);c();for(const N of D.subSubsections){if(g(N.title,14,12,!0),h(N.content,14),(A=N.images)!=null&&A.length)for(const P of N.images)await d(P);c(),(w=N.links)!=null&&w.length&&(g("Links:",14,12,!0),N.links.forEach(P=>b(P.title,P.url)))}(C=D.links)!=null&&C.length&&(g("Links:",12,12,!0),D.links.forEach(N=>b(N.title,N.url)))}(k=q.links)!=null&&k.length&&(g("Links:",10,12,!0),q.links.forEach(D=>b(D.title,D.url))),r+=5}(R=e.footer)!=null&&R.content&&(g("Footer:",10,12,!0),h(e.footer.content)),t.save(`${e.title||"Material"}.pdf`),n(100)},NX=()=>{var C,k,R,q,D,N,P,z,X,j,O,M,T,Q,H,Y,Z,ae,G,le,U,B,ie,J,ne,xe,ye,Ae,Ne,Te,qe,$e,V,we,se,he,de,ve,Oe,Re,Ee,Ge;const{id:e}=O6(),[n,t]=Yg(),r=Xn(),[i,s]=K.useState(null),[a,l]=K.useState({sectionIndex:0}),[c,d]=K.useState(null),[h,g]=K.useState(0);mO((i==null?void 0:i.sections)||[],a.sectionIndex||0,!!i),K.useEffect(()=>{g(Xe=>Xe+1)},[a]);const b=async()=>{if(i!=null&&i.originalFile)try{console.log(" Starting original file download:",i.originalFile.name);const Xe=document.createElement("a");Xe.href=i.originalFile.url,Xe.download=i.originalFile.name,Xe.target="_blank",document.body.appendChild(Xe),Xe.click(),document.body.removeChild(Xe),console.log(" Original file download initiated")}catch(Xe){console.error(" Original file download failed:",Xe)}};K.useEffect(()=>{e&&(async()=>{var je,He,Je;const Be=fn(r,"materials",e),rt=await xa(Be);if(rt.exists()){const At={id:rt.id,...rt.data()};console.log("Loaded material from database:",{title:At.title,sectionsCount:((je=At.sections)==null?void 0:je.length)||0,sectionsWithImages:((He=At.sections)==null?void 0:He.filter(lt=>{var tn;return((tn=lt.images)==null?void 0:tn.length)>0}).length)||0,allImages:(Je=At.sections)==null?void 0:Je.flatMap(lt=>lt.images||[]).map(lt=>({url:lt.url.substring(0,100)+"...",title:lt.title}))}),s(At)}})()},[e,r]),K.useEffect(()=>{e&&n.get("material")!==e?(console.log(" Updating URL: Adding material ID to query parameters:",e),t(Xe=>{const Be=new URLSearchParams(Xe);return Be.set("material",e),Be},{replace:!0})):console.log("Material ID already in URL:",n.get("material"))},[e,n,t]);const m=(Xe,Be,rt)=>{l({sectionIndex:typeof Xe=="number"?Xe:void 0,subsectionIndex:Be,subSubsectionIndex:rt,type:typeof Xe=="string"?Xe:void 0})},x=Xe=>{var Je,At,lt,tn,jt,_n,Gt,Xt,Zt,nn,Rn,Mn,Nr,Zn,In,Bt,vn,Di,cr,Vr,Li,Ot,zn,Jn,xr,nr,rr;const{sectionIndex:Be,subsectionIndex:rt,subSubsectionIndex:je,type:He}=a;if(Xe==="prev")if(je!==void 0&&je>0)l({sectionIndex:Be,subsectionIndex:rt,subSubsectionIndex:je-1});else if(je!==void 0&&je===0)l({sectionIndex:Be,subsectionIndex:rt});else if(rt!==void 0&&rt>0)l({sectionIndex:Be,subsectionIndex:rt-1});else if(rt!==void 0&&rt===0)l({sectionIndex:Be});else if(Be>0){const gn=i==null?void 0:i.sections[Be-1];l({sectionIndex:Be-1,subsectionIndex:(Je=gn==null?void 0:gn.subsections)!=null&&Je.length?gn.subsections.length-1:void 0,subSubsectionIndex:(At=gn==null?void 0:gn.subsections)!=null&&At.length?((tn=(lt=gn.subsections[gn.subsections.length-1])==null?void 0:lt.subSubsections)==null?void 0:tn.length)-1:void 0})}else He==="footer"?l({sectionIndex:((i==null?void 0:i.sections.length)??1)-1,type:"footer"}):Be===void 0&&He==="header"&&l({sectionIndex:((i==null?void 0:i.sections.length)??1)-1});else Xe==="next"&&(je===void 0&&rt!==void 0&&((Xt=(Gt=(_n=(jt=i==null?void 0:i.sections[Be??0])==null?void 0:jt.subsections)==null?void 0:_n[rt])==null?void 0:Gt.subSubsections)!=null&&Xt.length)?l({sectionIndex:Be,subsectionIndex:rt,subSubsectionIndex:0}):je!==void 0&&je<(((Mn=(Rn=(nn=(Zt=i==null?void 0:i.sections[Be??0])==null?void 0:Zt.subsections)==null?void 0:nn[rt??0])==null?void 0:Rn.subSubsections)==null?void 0:Mn.length)??1)-1?l({sectionIndex:Be,subsectionIndex:rt,subSubsectionIndex:je+1}):je!==void 0&&je===(((Bt=(In=(Zn=(Nr=i==null?void 0:i.sections[Be??0])==null?void 0:Nr.subsections)==null?void 0:Zn[rt??0])==null?void 0:In.subSubsections)==null?void 0:Bt.length)??1)-1&&(rt??0)<(((Di=(vn=i==null?void 0:i.sections[Be??0])==null?void 0:vn.subsections)==null?void 0:Di.length)??1)-1?l({sectionIndex:Be,subsectionIndex:(rt??0)+1}):rt===void 0&&((Vr=(cr=i==null?void 0:i.sections[Be??0])==null?void 0:cr.subsections)!=null&&Vr.length)?l({sectionIndex:Be,subsectionIndex:0}):rt!==void 0&&rt<(((Ot=(Li=i==null?void 0:i.sections[Be??0])==null?void 0:Li.subsections)==null?void 0:Ot.length)??1)-1?l({sectionIndex:Be,subsectionIndex:rt+1}):rt!==void 0&&rt===(((Jn=(zn=i==null?void 0:i.sections[Be??0])==null?void 0:zn.subsections)==null?void 0:Jn.length)??1)-1&&(Be??0)<(((xr=i==null?void 0:i.sections)==null?void 0:xr.length)??1)-1?l({sectionIndex:(Be??0)+1}):(Be??0)<(((nr=i==null?void 0:i.sections)==null?void 0:nr.length)??1)-1?l({sectionIndex:(Be??0)+1}):Be===(((rr=i==null?void 0:i.sections)==null?void 0:rr.length)??1)-1&&rt===void 0&&l({sectionIndex:void 0,type:"footer"}))};if(!i)return f.jsx(Pr,{});const y=a.type==="header"||a.type==="footer"?"":a.sectionIndex!==void 0?a.subSubsectionIndex!==void 0?((R=(k=(C=i.sections[a.sectionIndex])==null?void 0:C.subsections[a.subsectionIndex])==null?void 0:k.subSubsections[a.subSubsectionIndex])==null?void 0:R.content)||"":a.subsectionIndex!==void 0?((D=(q=i.sections[a.sectionIndex])==null?void 0:q.subsections[a.subsectionIndex])==null?void 0:D.content)||"":((N=i.sections[a.sectionIndex])==null?void 0:N.content)||"":"",A=a.type==="header"||a.type==="footer"?"":a.sectionIndex!==void 0?a.subSubsectionIndex!==void 0?((X=(z=(P=i.sections[a.sectionIndex])==null?void 0:P.subsections[a.subsectionIndex])==null?void 0:z.subSubsections[a.subSubsectionIndex])==null?void 0:X.title)||"":a.subsectionIndex!==void 0?((O=(j=i.sections[a.sectionIndex])==null?void 0:j.subsections[a.subsectionIndex])==null?void 0:O.title)||"":((M=i.sections[a.sectionIndex])==null?void 0:M.title)||"":"",w=a.sectionIndex!==void 0?a.subSubsectionIndex!==void 0?((H=(Q=(T=i.sections[a.sectionIndex])==null?void 0:T.subsections[a.subsectionIndex])==null?void 0:Q.subSubsections[a.subSubsectionIndex])==null?void 0:H.links)||[]:a.subsectionIndex!==void 0?((Z=(Y=i.sections[a.sectionIndex])==null?void 0:Y.subsections[a.subsectionIndex])==null?void 0:Z.links)||[]:((ae=i.sections[a.sectionIndex])==null?void 0:ae.links)||[]:[];return f.jsx(be,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:f.jsxs(be,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",mt:2,mx:2},children:[f.jsx(be,{sx:{width:"450px",ml:2,mt:2},children:f.jsx(l7,{})}),f.jsxs(be,{sx:{width:"450px",mr:2,mt:2,textAlign:"right"},children:[f.jsxs(be,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[(i==null?void 0:i.originalFile)&&f.jsx(na,{title:`Download original file: ${i.originalFile.name}`,children:f.jsx(at,{variant:"outlined",startIcon:f.jsx(xR,{}),endIcon:f.jsx(WE,{}),onClick:b,sx:{padding:"10px 16px",backgroundColor:"transparent",color:"#436850",border:"2px solid #436850",borderRadius:"8px",cursor:"pointer",fontFamily:"Gabarito","&:hover":{backgroundColor:"#436850",color:"#FBFADA"}},children:"PPTX"})}),f.jsx(at,{variant:"outlined",startIcon:f.jsx(jx,{}),endIcon:f.jsx(WE,{}),onClick:async()=>{i&&(d(0),await kX(i,d),d(null))},sx:{padding:"10px 16px",backgroundColor:"transparent",color:"#436850",border:"2px solid #436850",borderRadius:"8px",cursor:"pointer",fontFamily:"Gabarito","&:hover":{backgroundColor:"#436850",color:"#FBFADA"},"&:disabled":{backgroundColor:"#A8BDA8",cursor:"not-allowed"}},disabled:c!==null,children:c!==null?"Generating...":"PDF"})]}),c!==null&&f.jsx(be,{sx:{width:"100%",mt:2},children:f.jsx(il,{variant:"determinate",value:c})})]})]}),f.jsxs(be,{sx:{display:"flex",flexGrow:1},children:[f.jsx(be,{sx:{width:"450px",minWidth:"450px",maxWidth:"450px",borderRight:"1px solid #ddd",padding:2},children:f.jsx(s7,{sections:i.sections,selected:a,onAddSection:()=>{},onAddSubsection:()=>{},onAddSubSubsection:()=>{},onSelectSection:m,onUpdateSectionTitle:()=>{},onUpdateSubsectionTitle:()=>{},onUpdateSubSubsectionTitle:()=>{},onDeleteSection:()=>{},onDeleteSubsection:()=>{},onDeleteSubSubsection:()=>{},isViewMode:!0})}),f.jsxs(be,{sx:{flexGrow:1,padding:3},children:[f.jsx("hr",{})," ",f.jsx(be,{sx:{borderRadius:1,padding:2,mb:2},children:f.jsx(ce,{dangerouslySetInnerHTML:{__html:i.header.content.replace(/\n/g,"<br />")}})}),f.jsx("hr",{})," ",f.jsx(ce,{variant:"h3",align:"center",gutterBottom:!0,children:i.title}),f.jsx("hr",{})," ",f.jsx(ce,{variant:"h4",align:"center",gutterBottom:!0,children:A}),a.type!=="header"&&a.type!=="footer"&&f.jsx(Nx,{in:!0,timeout:400,children:f.jsxs(be,{children:[f.jsxs(be,{sx:{mb:2,borderRadius:1,padding:2},children:[f.jsx(ce,{dangerouslySetInnerHTML:{__html:y.replace(/\n/g,"<br />")}}),f.jsx(be,{children:a.sectionIndex!==void 0&&f.jsx(f.Fragment,{children:a.subSubsectionIndex!==void 0?(((J=(ie=(B=(U=(le=(G=i.sections[a.sectionIndex])==null?void 0:G.subsections)==null?void 0:le[a.subsectionIndex])==null?void 0:U.subSubsections)==null?void 0:B[a.subSubsectionIndex])==null?void 0:ie.images)==null?void 0:J.length)||0)>0&&f.jsx(aw,{images:((Ne=(Ae=(ye=(xe=(ne=i.sections[a.sectionIndex])==null?void 0:ne.subsections)==null?void 0:xe[a.subsectionIndex])==null?void 0:ye.subSubsections)==null?void 0:Ae[a.subSubsectionIndex])==null?void 0:Ne.images)||[]}):a.subsectionIndex!==void 0?(((V=($e=(qe=(Te=i.sections[a.sectionIndex])==null?void 0:Te.subsections)==null?void 0:qe[a.subsectionIndex])==null?void 0:$e.images)==null?void 0:V.length)||0)>0&&f.jsx(aw,{images:((he=(se=(we=i.sections[a.sectionIndex])==null?void 0:we.subsections)==null?void 0:se[a.subsectionIndex])==null?void 0:he.images)||[]}):(((ve=(de=i.sections[a.sectionIndex])==null?void 0:de.images)==null?void 0:ve.length)||0)>0&&f.jsx(aw,{images:((Oe=i.sections[a.sectionIndex])==null?void 0:Oe.images)||[]})})})]}),f.jsx(lK,{links:w})]})},h),f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between"},children:[f.jsx(na,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:f.jsx("span",{children:f.jsx(mn,{onClick:()=>x("prev"),disabled:a.sectionIndex===0&&a.subsectionIndex===void 0&&a.type==="header",children:f.jsx(a7,{})})})}),f.jsx(na,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:f.jsx("span",{children:f.jsx(mn,{onClick:()=>x("next"),disabled:a.sectionIndex===(((Re=i.sections)==null?void 0:Re.length)??1)-1&&(a.subsectionIndex===void 0||a.subsectionIndex===(((Ge=(Ee=i.sections[a.sectionIndex])==null?void 0:Ee.subsections)==null?void 0:Ge.length)??1)-1)&&a.type==="footer",children:f.jsx(o7,{})})})})]}),f.jsx("hr",{})," ",f.jsx(be,{sx:{borderRadius:1,padding:2,mt:2},children:f.jsx(ce,{dangerouslySetInnerHTML:{__html:i.footer.content.replace(/\n/g,"<br />")}})}),f.jsx("hr",{})," "]})]})]})})},TI=({value:e,onChange:n})=>{const[t,r]=K.useState([]),{userDetails:i}=Ii();return K.useEffect(()=>{if(i!=null&&i.classes){const s=Object.entries(i.classes).filter(([a,l])=>l.isCourseAdmin||i.isSuperAdmin).map(([a,l])=>({id:a,number:l.number,title:l.title}));r(s)}else r([])},[i]),f.jsxs(Pc,{fullWidth:!0,sx:{mb:2},children:[f.jsx(Fc,{id:"course-selector-label",children:"Course"}),f.jsx(Fl,{labelId:"course-selector-label",value:e,onChange:s=>n(s.target.value),label:"Course",children:t.length>0?t.map(s=>f.jsx(ur,{value:s.id,children:`${s.number} - ${s.title}`},s.id)):f.jsx(ur,{disabled:!0,children:"No courses available"})}),!e&&f.jsx(vR,{children:"Please select a course"})]})},jX=()=>{const[e,n]=K.useState(""),[t,r]=K.useState(""),[i,s]=K.useState([{title:"",url:""}]),[a,l]=K.useState(""),c=Ai(),d=Xn(),h=async()=>{if(!a){alert("Please select a course to post the message.");return}try{await ra(Sn(d,"messages"),{title:e,description:t,links:i,course:a,postedOn:xc(),isPinned:!1}),c("/")}catch(x){console.error("Error adding message: ",x)}},g=()=>c("/"),b=(x,y,A)=>{const w=[...i];w[x][y]=A,s(w)},m=()=>s([...i,{title:"",url:""}]);return f.jsx(uT,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:f.jsxs(On,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[f.jsx(ce,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Add New Message"}),f.jsx($a,{sx:{mb:3,backgroundColor:"#DADADA"}}),f.jsxs(be,{sx:{mt:4},children:[f.jsx(TI,{value:a,onChange:l}),f.jsx($t,{label:"Subject",fullWidth:!0,value:e,onChange:x=>n(x.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),f.jsx($t,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:t,onChange:x=>r(x.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),f.jsx(ce,{variant:"h6",sx:{mb:2},children:""}),i.map((x,y)=>f.jsxs(be,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[f.jsx($t,{label:`URL Title ${y+1}`,fullWidth:!0,value:x.title,onChange:A=>b(y,"title",A.target.value),sx:{mb:1}}),f.jsx($t,{label:`URL Link ${y+1}`,fullWidth:!0,value:x.url,onChange:A=>b(y,"url",A.target.value)})]},y)),f.jsx(at,{variant:"outlined",onClick:m,startIcon:f.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),f.jsx($a,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between"},children:[f.jsx(at,{variant:"outlined",onClick:g,className:"cancel-button",children:"Cancel"}),f.jsx(at,{variant:"outlined",onClick:h,className:"save-button",children:"Save"})]})]})]})})},TX=()=>{const{id:e}=O6(),[n,t]=K.useState(""),[r,i]=K.useState(""),[s,a]=K.useState([{title:"",url:""}]),[l,c]=K.useState(""),d=Ai(),h=Xn();K.useEffect(()=>{(async()=>{try{const A=fn(h,"messages",e),w=await xa(A);if(w.exists()){const C=w.data();t(C.title),i(C.description),a(C.links||[{title:"",url:""}]),c(C.course||"")}}catch(A){console.error("Error fetching message: ",A)}})()},[h,e]);const g=async()=>{try{if(!l){alert("Please select a valid course to update the message.");return}const y=fn(h,"messages",e);await Rr(y,{title:n,description:r,links:s,course:l,lastUpdatedOn:xc()}),d("/")}catch(y){console.error("Error editing message: ",y)}},b=()=>d("/"),m=(y,A,w)=>{const C=[...s];C[y][A]=w,a(C)},x=()=>a([...s,{title:"",url:""}]);return f.jsx(uT,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:f.jsxs(On,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[f.jsx(ce,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Edit Message"}),f.jsx($a,{sx:{mb:3,backgroundColor:"#DADADA"}}),f.jsxs(be,{sx:{mt:4},children:[f.jsx(TI,{value:l,onChange:c}),f.jsx($t,{label:"Subject",fullWidth:!0,value:n,onChange:y=>t(y.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),f.jsx($t,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:r,onChange:y=>i(y.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),f.jsx(ce,{variant:"h6",sx:{mb:2},children:""}),s.map((y,A)=>f.jsxs(be,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[f.jsx($t,{label:`URL Title ${A+1}`,fullWidth:!0,value:y.title,onChange:w=>m(A,"title",w.target.value),sx:{mb:1}}),f.jsx($t,{label:`URL Link ${A+1}`,fullWidth:!0,value:y.url,onChange:w=>m(A,"url",w.target.value)})]},A)),f.jsx(at,{variant:"outlined",onClick:x,startIcon:f.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),f.jsx($a,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between"},children:[f.jsx(at,{variant:"outlined",onClick:b,className:"cancel-button",children:"Cancel"}),f.jsx(at,{variant:"outlined",onClick:g,className:"save-button",children:"Save"})]})]})]})})},OX=({users:e})=>{const n=(r,i)=>r?{backgroundColor:"#6a1b9a",color:"#fff"}:i?{backgroundColor:"#1976d2",color:"#fff"}:{backgroundColor:"#e0e0e0",color:"#000"},t=r=>r?Object.entries(r).map(([i,s])=>f.jsx($n,{label:`${s.isCourseAdmin?"[Course Admin] ":""}${s.number||"N/A"} - ${s.title||"Untitled Course"}`,sx:{backgroundColor:s.isCourseAdmin?"#ffcccb":"#d4edda",color:s.isCourseAdmin?"#b71c1c":"#155724",margin:"4px",fontSize:"0.9rem",fontWeight:"bold",borderRadius:"8px",padding:"4px 8px"}},i)):"None";return f.jsx(_u,{component:On,children:f.jsxs(ku,{children:[f.jsx(Nu,{children:f.jsxs(Qi,{children:[f.jsx(ct,{children:"ID"}),f.jsx(ct,{children:"Status"}),f.jsx(ct,{children:"Last Login"}),f.jsx(ct,{children:"Courses"})]})}),f.jsx(ju,{children:e.map(r=>f.jsxs(Qi,{sx:{"&:hover":{backgroundColor:"#f5f5f5",cursor:"pointer"}},children:[f.jsx(ct,{children:f.jsx($n,{label:r.id,color:r.isSuperAdmin?"secondary":r.isAdmin?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",...n(r.isSuperAdmin,r.isAdmin)}})}),f.jsx(ct,{children:f.jsx($n,{label:r.isSuperAdmin?"Super Admin":r.isAdmin?"Educator":"Student",color:r.isSuperAdmin?"secondary":r.isAdmin?"primary":"default"})}),f.jsx(ct,{children:Tf(r.lastLogin)}),f.jsx(ct,{children:t(r.classes)||f.jsx($n,{label:"No courses assigned",sx:{backgroundColor:"#e0e0e0",color:"#000"}})})]},r.id))})]})})},IX=({userId:e,onUserDeleted:n})=>{const[t,r]=K.useState(!1),[i,s]=K.useState(!1),a=Xn(),l=()=>{r(!0)},c=()=>{r(!1)},d=async()=>{s(!0);try{const h=fn(a,"users",e);await $g(h),n(!0)}catch(h){console.error("Error deleting user:",h),n(!1)}s(!1),r(!1)};return f.jsxs(f.Fragment,{children:[f.jsx(at,{variant:"text",color:"error",onClick:l,children:"Delete User Account"}),f.jsxs(Yi,{open:t,onClose:c,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[f.jsx(us,{id:"alert-dialog-title",children:"Confirm Deletion"}),f.jsx(Gi,{children:f.jsx(Oo,{id:"alert-dialog-description",children:"Are you sure you want to delete this user account? This action cannot be undone."})}),f.jsxs(cs,{children:[f.jsx(at,{onClick:c,color:"primary",disabled:i,children:"Cancel"}),f.jsx(at,{onClick:d,color:"error",autoFocus:!0,disabled:i,children:i?f.jsx(Pr,{size:24}):"Delete"})]})]})]})},DX=({userId:e,userClasses:n,courses:t,onCourseAssigned:r})=>{const[i,s]=K.useState(""),[a,l]=K.useState(!1),[c,d]=K.useState(!1),[h,g]=K.useState(""),[b,m]=K.useState(!1),[x,y]=K.useState(!1),[A,w]=K.useState(!1),[C,k]=K.useState(!1),R=Xn(),q=async()=>{if(!e||!i){g("Please enter a User ID and select a course."),w(!1),m(!0);return}d(!0);try{const z=fn(R,"users",e),X=t.find(j=>j.id===i);X?(await Rr(z,{[`classes.${i}`]:{number:X.number,title:X.title,isCourseAdmin:a}}),g(`Course ${X.title} assigned successfully to user ${e}${a?" as Course Admin.":"."}`),r(i,{number:X.number,title:X.title,isCourseAdmin:a}),k(!0),setTimeout(()=>k(!1),1e3),y(!1),s(""),l(!1),w(!0)):(g("Selected course not found."),w(!1))}catch(z){console.error("Error assigning course:",z),g("Error assigning course."),w(!1)}d(!1),m(!0)},D=()=>{m(!1)},N=()=>y(!0),P=()=>y(!1);return f.jsxs(f.Fragment,{children:[f.jsxs(be,{sx:{display:"flex",alignItems:"center",mt:2,p:2,borderRadius:2,transition:"background-color 0.3s ease",backgroundColor:C?"#e8f5e8":"transparent",border:C?"2px solid #4caf50":"2px solid transparent"},children:[f.jsx(ce,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Courses:"}),f.jsx(be,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:n&&Object.keys(n).length>0?Object.values(n).map((z,X)=>f.jsx($n,{label:`${z.isCourseAdmin?"[Course Admin] ":""}${z.number} - ${z.title}`,style:{backgroundColor:z.isCourseAdmin?"#ffcccb":"#d4edda",color:z.isCourseAdmin?"#b71c1c":"#155724",margin:"4px"}},X)):f.jsx(ce,{children:"No courses assigned."})}),f.jsxs(Pc,{sx:{minWidth:200,mr:2},children:[f.jsx(Fc,{children:"Course"}),f.jsx(Fl,{value:i,onChange:z=>s(z.target.value),children:t.map(z=>f.jsx(ur,{value:z.id,children:`${z.number} - ${z.title}`},z.id))})]}),f.jsxs(Pc,{sx:{mr:2},children:[f.jsx(Fc,{children:"Role"}),f.jsxs(Fl,{value:a?"admin":"student",onChange:z=>l(z.target.value==="admin"),children:[f.jsx(ur,{value:"admin",children:"Course Admin"}),f.jsx(ur,{value:"student",children:"Student"})]})]}),f.jsx(at,{variant:"contained",color:"primary",onClick:N,disabled:c||!i,children:c?f.jsx(Pr,{size:24}):"Assign Course"})]}),f.jsx(fo,{open:b,autoHideDuration:6e3,onClose:D,children:f.jsx(tr,{onClose:D,severity:A?"success":"error",children:h})}),f.jsxs(Yi,{open:x,onClose:P,"aria-labelledby":"assign-dialog-title",children:[f.jsx(us,{id:"assign-dialog-title",children:"Assign Course"}),f.jsx(Gi,{children:f.jsxs(Oo,{children:["Are you sure you want to assign the course ",i," to this user",a?" as a Course Admin?":"?"]})}),f.jsxs(cs,{children:[f.jsx(at,{onClick:P,color:"primary",children:"Cancel"}),f.jsx(at,{onClick:q,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},LX=()=>{const[e,n]=K.useState(""),[t,r]=K.useState(!1),[i,s]=K.useState(!1),[a,l]=K.useState(void 0),[c,d]=K.useState(!1),[h,g]=K.useState(""),[b,m]=K.useState(!1),[x,y]=K.useState(!1),[A,w]=K.useState(!1),[C,k]=K.useState([]),[R,q]=K.useState(""),[D,N]=K.useState([]),P=Xn(),[z,X]=K.useState(""),j=Ai(),O=()=>{j("/")};K.useEffect(()=>{(async()=>{try{const ne=Sn(P,"courses"),ye=(await Si(ne)).docs.map(Ae=>({id:Ae.id,number:Ae.data().number,title:Ae.data().title}));N(ye)}catch(ne){console.error("Error fetching courses:",ne)}})()},[P]);const M=async()=>{if(e){d(!0),s(!1);try{const J=fn(P,"users",e),ne=await xa(J);if(ne.exists()){const xe=ne.data();r(xe.isAdmin),l(xe.classes),s(!0)}else g("User not found."),m(!0)}catch(J){console.error("Error fetching user:",J),g("Error fetching user."),m(!0)}d(!1)}},T=K.useCallback(async()=>{d(!0);try{const J=Sn(P,"users"),xe=(await Si(J)).docs.map(ye=>({id:ye.id,...ye.data()}));k(xe)}catch(J){console.error("Error fetching users:",J),g("Error fetching users."),m(!0)}d(!1)},[P]);K.useEffect(()=>{T()},[T]);const Q=async()=>{try{const J=fn(P,"users",e);await Rr(J,{isAdmin:A}),g(`User ${A?"granted":"revoked"} admin privileges successfully.`),r(A);const ne=C.map(xe=>xe.id===e?{...xe,isAdmin:A}:xe);k(ne)}catch(J){console.error("Error updating user:",J),g("Error updating user.")}m(!0),y(!1)},H=J=>{J.preventDefault(),i?(w(!t),y(!0)):(g("User not found."),m(!0))},Y=()=>{m(!1)},Z=()=>{y(!1)},ae=J=>{q(J.target.value)},G=J=>R?J.classes&&R in J.classes:!0,le=J=>z==="superAdmin"?J.isSuperAdmin:z==="educator"?J.isAdmin&&!J.isSuperAdmin:z==="student"?!J.isAdmin&&!J.isSuperAdmin:!0,U=J=>J.filter(ne=>G(ne)&&le(ne)),B=J=>{J?(g("User account deleted successfully."),s(!1),n(""),T()):g("Error deleting user account."),m(!0)},ie=(J,ne)=>{l(xe=>({...xe,[J]:ne}))};return f.jsxs(be,{sx:{padding:3},children:[f.jsx(be,{sx:{display:"flex",alignItems:"center"},children:f.jsx(at,{variant:"text",onClick:O,sx:{mr:2},children:" Home Page"})}),f.jsx(ce,{variant:"h4",component:"h1",gutterBottom:!0,children:"User Management"}),f.jsx(ce,{variant:"body1",gutterBottom:!0,children:"Use this page to view and manage user permissions. Enter the User ID to grant or revoke admin privileges, or delete user account."}),f.jsx(be,{sx:{display:"flex",justifyContent:"flex-start"},children:f.jsxs("form",{onSubmit:H,children:[f.jsx($t,{label:"User ID",value:e,onChange:J=>n(J.target.value),fullWidth:!0,required:!0,margin:"normal",onKeyPress:J=>{J.key==="Enter"&&(M(),J.preventDefault())},sx:{minWidth:"300px"}}),c?f.jsx(Pr,{}):i&&f.jsxs(On,{variant:"outlined",sx:{padding:2,borderRadius:"15px",mb:1},children:[f.jsxs(be,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #e0e0e0",padding:"16px",borderRadius:"8px",backgroundColor:"#f9f9f9",mb:2},children:[f.jsxs(be,{sx:{display:"flex",alignItems:"center"},children:[f.jsx(ce,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Status:"}),f.jsx($n,{label:t?"Educator (Admin)":"Student (Non-Admin)",color:t?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",backgroundColor:t?"#1976d2":"#e0e0e0",color:t?"#fff":"#000"}})]}),f.jsx(at,{type:"submit",variant:"contained",color:t?"secondary":"primary",sx:{padding:"8px 16px",textTransform:"none",fontSize:"0.9rem",borderRadius:"8px",fontWeight:"bold",boxShadow:"none","&:hover":{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.2)"}},children:t?"Revoke Educator Access":"Grant Educator Access"})]}),f.jsx(DX,{userId:e,userClasses:a,courses:D,onCourseAssigned:ie}),f.jsx(IX,{userId:e,onUserDeleted:B})]})]})}),f.jsx(ce,{variant:"h5",component:"h2",gutterBottom:!0,children:"Current Users"}),f.jsxs(Pc,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[f.jsx(Fc,{children:"Filter by Course"}),f.jsxs(Fl,{value:R,onChange:ae,children:[f.jsx(ur,{value:"",children:"All Courses"}),D.map(J=>f.jsx(ur,{value:J.id,children:J.number},J.id))]})]}),f.jsxs(Pc,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[f.jsx(Fc,{children:"User Status"}),f.jsxs(Fl,{value:z,onChange:J=>X(J.target.value),children:[f.jsx(ur,{value:"",children:"All Statuses"}),f.jsx(ur,{value:"superAdmin",children:"Super Admin"}),f.jsx(ur,{value:"educator",children:"Educator"}),f.jsx(ur,{value:"student",children:"Student"})]})]}),f.jsx(OX,{users:U(C)}),f.jsxs(Yi,{open:x,onClose:Z,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[f.jsx(us,{id:"alert-dialog-title",children:t?"Revoke Admin Privileges":"Grant Admin Privileges"}),f.jsx(Gi,{children:f.jsxs(Oo,{id:"alert-dialog-description",children:["Are you sure you want to ",t?"revoke":"grant"," admin privileges for this user?"]})}),f.jsxs(cs,{children:[f.jsx(at,{onClick:Z,color:"primary",children:"Cancel"}),f.jsx(at,{onClick:Q,color:"primary",autoFocus:!0,children:"Confirm"})]})]}),f.jsx(fo,{open:b,autoHideDuration:6e3,onClose:Y,children:f.jsx(tr,{onClose:Y,severity:"info",children:h})})]})},RX=({onCourseAdded:e})=>{const[n,t]=K.useState(""),{userDetails:r,setUserDetails:i}=Ii(),s=Xn(),a=c=>{t(c.target.value)},l=async()=>{try{const h=(await Si(Sn(s,"courses"))).docs.map(g=>({id:g.id,passcode:g.data().passcode,number:g.data().number,title:g.data().title})).find(g=>g.passcode===n);if(h){if(r)if((r.classes||{})[h.id])e(`Course access for ${h.number} is already added to your account!`,"info");else{const b=fn(s,"users",r.uid);await Rr(b,{[`classes.${h.id}`]:{number:h.number,title:h.title,isCourseAdmin:!1}});const m=await xa(b);if(m.exists()){const x=m.data();i({...x,uid:r.uid})}e(`Course access for ${h.number} added to your account successfully!`,"success"),t("")}}else e("Invalid passcode. Course not found.","error")}catch(c){console.error("Error updating document: ",c),e("Error adding course access to your account.","error")}};return f.jsx("div",{children:f.jsxs(bt,{container:!0,spacing:2,sx:{maxWidth:"50%"},children:[f.jsx(bt,{item:!0,xs:10,children:f.jsx($t,{label:"Enter Course Passcode",value:n,onChange:a,fullWidth:!0,sx:{mb:2}})}),f.jsx(bt,{item:!0,xs:2,sx:{display:"flex",alignItems:"center"},children:f.jsx(at,{variant:"contained",onClick:l,children:"Add Course"})})]})})};var A1={},gk;function MX(){if(gk)return A1;gk=1;var e=Es();Object.defineProperty(A1,"__esModule",{value:!0}),A1.default=void 0;var n=e(ks()),t=_s();return A1.default=(0,n.default)((0,t.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),A1}var PX=MX();const FX=Fr(PX),qX=({userDetails:e,getAccountStatus:n,renderCourses:t})=>f.jsxs(On,{elevation:3,sx:{padding:3,borderRadius:"12px",backgroundColor:"#ffffff",maxWidth:"500px",margin:"auto"},children:[f.jsx(be,{sx:{display:"flex",justifyContent:"center",mb:2},children:f.jsx(wR,{sx:{width:72,height:72,bgcolor:"#1054c4"},children:f.jsx(FX,{sx:{fontSize:48,color:"#f8f4fc"}})})}),f.jsxs(be,{sx:{display:"flex",flexDirection:"column",gap:1,alignItems:"left"},children:[f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(ce,{sx:{fontWeight:"bold"},children:"User ID:"}),f.jsx($n,{label:e.uid,variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#E3F2FD",color:"#1565C0"}})]}),f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(ce,{sx:{fontWeight:"bold"},children:"Account Status:"}),f.jsx($n,{label:n(),variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#C8E6C9",color:"#2E7D32"}})]}),f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(ce,{sx:{fontWeight:"bold"},children:"Last Login:"}),f.jsx($n,{label:Tf(e.lastLogin),variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#FFF3E0",color:"#EF6C00"}})]})]}),f.jsx($a,{sx:{my:2}}),f.jsx(ce,{sx:{fontWeight:"bold",mb:1},children:"Current Courses:"}),f.jsx(be,{sx:{display:"flex",flexWrap:"wrap"},children:t()})]}),zX=()=>{const{userDetails:e,setUserDetails:n}=Ii(),[t,r]=K.useState(!1),[i,s]=K.useState(!1),[a,l]=K.useState(!1),[c,d]=K.useState(""),[h,g]=K.useState("success"),b=Ai(),m=Xn(),x=()=>{b("/")},y=()=>{e!=null&&e.isAdmin||b("/request-educator-permissions")},A=(D,N)=>{l(!0),d(D),g(N),N==="success"&&e&&(async()=>{const z=fn(m,"users",e.uid),X=await xa(z);if(X.exists()){const j=X.data();n({...j,uid:e.uid})}})()},w=()=>{r(!t)},C=()=>{s(!i)},k=()=>e!=null&&e.isSuperAdmin?"Super Admin":e!=null&&e.isAdmin?"Educator":"Student",R=()=>{l(!1)},q=()=>e!=null&&e.classes?Object.entries(e.classes).map(([D,N])=>f.jsx($n,{label:`${N.number} - ${N.title}${N.isCourseAdmin?" (Admin)":""}`,variant:"outlined",sx:{margin:"4px",fontSize:"14px",fontWeight:"bold",bgcolor:N.isCourseAdmin?"#FFCDD2":"#E3F2FD",color:N.isCourseAdmin?"#C62828":"#1565C0"}},D)):"None";return f.jsxs(be,{className:"profile-container",children:[f.jsx(at,{variant:"text",onClick:x,className:"profile-button",children:" Home Page"}),f.jsx(ce,{className:"webpage_title",children:"My Account"}),e&&f.jsx(qX,{userDetails:e,getAccountStatus:k,renderCourses:q}),!(e!=null&&e.isAdmin)&&f.jsxs(be,{className:"profile-switch-container",children:[f.jsx(wd,{control:f.jsx(Sd,{checked:t,onChange:w}),label:"Enroll in a Course (As a Student)"}),t&&f.jsxs(be,{sx:{mt:2},children:[f.jsx(ce,{variant:"body1",className:"profile-text",children:"Use the area below to add a course access to your account."}),f.jsx(RX,{onCourseAdded:A})]})]}),f.jsxs(be,{className:"profile-advanced-section",children:[f.jsx(wd,{control:f.jsx(Sd,{checked:i,onChange:C}),label:"Advanced"}),i&&f.jsx(f.Fragment,{children:f.jsx(be,{sx:{mt:2},children:f.jsx(at,{variant:"text",onClick:y,disabled:e==null?void 0:e.isAdmin,className:"profile-button",children:e!=null&&e.isAdmin?f.jsx(ce,{children:f.jsx("span",{className:"success-text",children:" Educator Account Approved"})}):"Request Educator Permissions"})})})]}),f.jsx(fo,{open:a,autoHideDuration:6e3,onClose:R,children:f.jsx(tr,{onClose:R,severity:h,sx:{width:"100%"},children:c})})]})},BX=({selectedCourse:e,selectedCourseDetails:n,onStudentChange:t})=>{const[r,i]=K.useState(""),[s,a]=K.useState(!1),[l,c]=K.useState(""),[d,h]=K.useState(!1),[g,b]=K.useState(!1),m=Xn(),x=async()=>{if(!r||!e){c("Please enter a Student ID and select a course."),h(!0);return}a(!0);try{const C=fn(m,"users",r),k=await xa(C);if(k.exists()){const q=k.data().classes||{};e in q?b(!0):(c(`Student ${r} is not enrolled in course ${(n==null?void 0:n.number)||e}, cannot remove.`),h(!0))}else c(`Student ${r} does not exist.`),h(!0)}catch(C){console.error("Error checking student course:",C),c("Error checking student course."),h(!0)}a(!1)},y=async()=>{a(!0);try{const C=fn(m,"users",r);await Rr(C,{[`classes.${e}`]:f3()}),c(`Student ${r} removed from course ${(n==null?void 0:n.number)||e}.`),i(""),t()}catch(C){console.error("Error updating student course:",C),c("Error updating student course.")}a(!1),h(!0),b(!1)},A=()=>{h(!1)},w=()=>{b(!1)};return f.jsxs(be,{sx:{mt:4},children:[f.jsxs(ce,{variant:"h6",component:"h2",children:["Remove Students from ",n?`${n.number}`:e]}),f.jsxs(be,{sx:{display:"flex",alignItems:"center",mt:2},children:[f.jsx($t,{label:"Student ID",value:r,onChange:C=>i(C.target.value),fullWidth:!0,required:!0,margin:"normal",sx:{mr:2}}),f.jsx(at,{variant:"contained",color:"primary",onClick:x,disabled:s,children:s?f.jsx(Pr,{size:24}):"Remove"})]}),f.jsx(fo,{open:d,autoHideDuration:6e3,onClose:A,children:f.jsx(tr,{onClose:A,severity:"info",children:l})}),f.jsxs(Yi,{open:g,onClose:w,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[f.jsx(us,{id:"confirm-dialog-title",children:"Confirm Removal"}),f.jsx(Gi,{children:f.jsx(Oo,{id:"confirm-dialog-description",children:"Are you sure you want to remove the student from the course? This action cannot be undone."})}),f.jsxs(cs,{children:[f.jsx(at,{onClick:w,color:"primary",children:"Cancel"}),f.jsx(at,{onClick:y,color:"secondary",autoFocus:!0,children:"Confirm"})]})]})]})},UX=({students:e,selectedCourse:n})=>{const t=()=>{if(e.length>0){const r=["User ID","Courses","Last Login"],i=e.map(d=>[`"${d.id||d.uid}"`,`"${d.classes?Object.values(d.classes).map(h=>`${h.number} - ${h.title}`).join(", "):"None"}"`,`"${Tf(d.lastLogin)}"`]),s=[r.join(","),...i.map(d=>d.join(","))].join(`
`),a=new Blob([s],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(a),c=document.createElement("a");c.href=l,c.setAttribute("download",`${n}_students.csv`),document.body.appendChild(c),c.click(),document.body.removeChild(c)}};return f.jsx(be,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:f.jsx(at,{variant:"contained",color:"primary",onClick:t,disabled:e.length===0,sx:{background:"linear-gradient(45deg, #3f51b5 30%, #1e88e5 90%)",borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"white",padding:"0 30px",fontSize:"16px",fontWeight:"bold",textTransform:"none","&:hover":{background:"linear-gradient(45deg, #1e88e5 30%, #3f51b5 90%)",boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)"}},children:"Export as CSV"})})},$X=({userClasses:e,selectedCourse:n,onCourseChange:t})=>f.jsx(be,{sx:{mb:3},children:f.jsxs(Pc,{fullWidth:!0,variant:"outlined",children:[f.jsx(Fc,{id:"course-selector-label",children:"Select a Course"}),f.jsx(Fl,{"aria-label":"Select a course",labelId:"course-selector-label",value:n,onChange:r=>t(r.target.value),label:"Select a Course",children:Object.entries(e).map(([r,i])=>f.jsx(ur,{value:r,children:`${i.number} - ${i.title}`},r))})]})}),HX=({selectedCourse:e,selectedCourseDetails:n,onCourseUpdate:t})=>{const[r,i]=K.useState(!1),[s,a]=K.useState(""),[l,c]=K.useState(""),d=Xn(),{userDetails:h,refreshUserDetails:g}=Ii(),b=()=>{n&&(a(n.number||""),c(n.title||"")),i(!0)},m=()=>{i(!1),x()},x=()=>{a(""),c("")},y=async()=>{if(!e||!(h!=null&&h.uid)){console.error("Selected course or user details are missing.");return}try{const A=fn(d,"courses",e);await Rr(A,{number:s,title:l});const w=fn(d,"users",h.uid),C=await xa(w);if(C.exists()){const k=C.data();if(k.classes&&k.classes[e]){const R=k.classes[e],q={...k.classes,[e]:{...R,number:s,title:l}};await Rr(w,{classes:q})}}await g(),t(),m()}catch(A){console.error("Error updating course:",A)}};return f.jsxs(be,{sx:{mt:2},children:[f.jsx(at,{variant:"outlined",onClick:b,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#4CAF50",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#388E3C",transform:"scale(1.03)"}},children:"Edit Course Details"}),f.jsxs(Yi,{open:r,onClose:m,children:[f.jsx(us,{children:"Edit Course Details"}),f.jsxs(Gi,{children:[f.jsx($t,{label:"Course Number",value:s,onChange:A=>a(A.target.value),fullWidth:!0,sx:{mb:2}}),f.jsx($t,{label:"Course Title",value:l,onChange:A=>c(A.target.value),fullWidth:!0})]}),f.jsxs(cs,{children:[f.jsx(at,{onClick:m,children:"Cancel"}),f.jsx(at,{onClick:y,variant:"contained",color:"primary",disabled:!s||!l,children:"Save"})]})]})]})},WX=({selectedCourse:e,onInfoUpdate:n})=>{var M,T,Q,H,Y,Z,ae,G,le,U,B,ie,J;const[t,r]=K.useState(!1),[i,s]=K.useState(!1),[a,l]=K.useState(null),[c,d]=K.useState({}),[h,g]=K.useState("contact"),b=Xn();K.useEffect(()=>{t&&e&&m()},[t,e]);const m=async()=>{try{s(!0);const ne=fn(b,"courses",e),xe=await xa(ne);if(xe.exists()){const ye=xe.data();d(ye.additionalInfo||{})}}catch(ne){console.error("Error fetching course info:",ne),l("Failed to load course information")}finally{s(!1)}},x=()=>{r(!0),l(null)},y=()=>{r(!1),l(null)},A=async()=>{try{s(!0);const ne=fn(b,"courses",e);await Rr(ne,{additionalInfo:{...c,lastUpdated:new Date}}),n(),y()}catch(ne){console.error("Error updating course info:",ne),l("Failed to save course information")}finally{s(!1)}},w=(ne,xe)=>{d(ye=>({...ye,contactInfo:{...ye.contactInfo,[ne]:xe}}))},C=(ne,xe)=>{d(ye=>({...ye,policies:{...ye.policies,[ne]:xe}}))},k=()=>{d(ne=>({...ne,textbooks:[...ne.textbooks||[],{title:"",author:"",edition:"",isbn:"",required:!0}]}))},R=(ne,xe,ye)=>{d(Ae=>{var Ne;return{...Ae,textbooks:(Ne=Ae.textbooks)==null?void 0:Ne.map((Te,qe)=>qe===ne?{...Te,[xe]:ye}:Te)}})},q=ne=>{d(xe=>{var ye;return{...xe,textbooks:(ye=xe.textbooks)==null?void 0:ye.filter((Ae,Ne)=>Ne!==ne)}})},D=()=>{d(ne=>({...ne,gradingPolicy:[...ne.gradingPolicy||[],{component:"",percentage:0,description:""}]}))},N=(ne,xe,ye)=>{d(Ae=>{var Ne;return{...Ae,gradingPolicy:(Ne=Ae.gradingPolicy)==null?void 0:Ne.map((Te,qe)=>qe===ne?{...Te,[xe]:ye}:Te)}})},P=ne=>{d(xe=>{var ye;return{...xe,gradingPolicy:(ye=xe.gradingPolicy)==null?void 0:ye.filter((Ae,Ne)=>Ne!==ne)}})},z=(ne,xe)=>{d(ye=>{var Ae;return{...ye,[ne]:{...ye[ne],[xe]:[...((Ae=ye[ne])==null?void 0:Ae[xe])||[],""]}}})},X=(ne,xe,ye,Ae)=>{d(Ne=>{var Te;return{...Ne,[ne]:{...Ne[ne],[xe]:(((Te=Ne[ne])==null?void 0:Te[xe])||[]).map((qe,$e)=>$e===ye?Ae:qe)}}})},j=(ne,xe,ye)=>{d(Ae=>{var Ne;return{...Ae,[ne]:{...Ae[ne],[xe]:(((Ne=Ae[ne])==null?void 0:Ne[xe])||[]).filter((Te,qe)=>qe!==ye)}}})},O=ne=>(xe,ye)=>{g(ye?ne:!1)};return f.jsxs(be,{sx:{mt:2},children:[f.jsx(at,{variant:"outlined",onClick:x,startIcon:f.jsx(em,{}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#2196F3",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#1976D2",transform:"scale(1.03)"}},children:"Edit Additional Info"}),f.jsxs(Yi,{open:t,onClose:y,maxWidth:"md",fullWidth:!0,children:[f.jsx(us,{children:f.jsx(ce,{variant:"h5",children:"Edit Additional Course Information"})}),f.jsxs(Gi,{sx:{minHeight:"500px"},children:[a&&f.jsx(tr,{severity:"error",sx:{mb:2},children:a}),f.jsxs(gu,{expanded:h==="contact",onChange:O("contact"),children:[f.jsx(bu,{expandIcon:f.jsx(Rl,{}),children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(SR,{color:"primary"}),f.jsx(ce,{variant:"h6",children:"Contact Information"})]})}),f.jsx(yu,{children:f.jsxs(bt,{container:!0,spacing:2,children:[f.jsx(bt,{item:!0,xs:12,md:6,children:f.jsx($t,{label:"Email",fullWidth:!0,value:((M=c.contactInfo)==null?void 0:M.email)||"",onChange:ne=>w("email",ne.target.value)})}),f.jsx(bt,{item:!0,xs:12,md:6,children:f.jsx($t,{label:"Phone",fullWidth:!0,value:((T=c.contactInfo)==null?void 0:T.phone)||"",onChange:ne=>w("phone",ne.target.value)})}),f.jsx(bt,{item:!0,xs:12,md:6,children:f.jsx($t,{label:"Office",fullWidth:!0,value:((Q=c.contactInfo)==null?void 0:Q.office)||"",onChange:ne=>w("office",ne.target.value)})}),f.jsx(bt,{item:!0,xs:12,md:6,children:f.jsx($t,{label:"Office Hours",fullWidth:!0,value:((H=c.contactInfo)==null?void 0:H.officeHours)||"",onChange:ne=>w("officeHours",ne.target.value)})}),f.jsx(bt,{item:!0,xs:12,children:f.jsx($t,{label:"Website",fullWidth:!0,value:((Y=c.contactInfo)==null?void 0:Y.website)||"",onChange:ne=>w("website",ne.target.value)})})]})})]}),f.jsxs(gu,{expanded:h==="textbooks",onChange:O("textbooks"),children:[f.jsx(bu,{expandIcon:f.jsx(Rl,{}),children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(AR,{color:"primary"}),f.jsx(ce,{variant:"h6",children:"Textbooks & Resources"})]})}),f.jsxs(yu,{children:[f.jsx(be,{sx:{mb:2},children:f.jsx(at,{startIcon:f.jsx(p0,{}),onClick:k,variant:"outlined",children:"Add Textbook"})}),(Z=c.textbooks)==null?void 0:Z.map((ne,xe)=>f.jsx(be,{sx:{mb:3,p:2,border:"1px solid #ddd",borderRadius:1},children:f.jsxs(bt,{container:!0,spacing:2,children:[f.jsx(bt,{item:!0,xs:12,children:f.jsx($t,{label:"Title",fullWidth:!0,value:ne.title,onChange:ye=>R(xe,"title",ye.target.value)})}),f.jsx(bt,{item:!0,xs:12,md:4,children:f.jsx($t,{label:"Author",fullWidth:!0,value:ne.author||"",onChange:ye=>R(xe,"author",ye.target.value)})}),f.jsx(bt,{item:!0,xs:12,md:4,children:f.jsx($t,{label:"Edition",fullWidth:!0,value:ne.edition||"",onChange:ye=>R(xe,"edition",ye.target.value)})}),f.jsx(bt,{item:!0,xs:12,md:4,children:f.jsx($t,{label:"ISBN",fullWidth:!0,value:ne.isbn||"",onChange:ye=>R(xe,"isbn",ye.target.value)})}),f.jsx(bt,{item:!0,xs:12,children:f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsx(wd,{control:f.jsx(Sd,{checked:ne.required,onChange:ye=>R(xe,"required",ye.target.checked)}),label:"Required"}),f.jsx(mn,{onClick:()=>q(xe),color:"error",children:f.jsx(Mh,{})})]})})]})},xe))]})]}),f.jsxs(gu,{expanded:h==="grading",onChange:O("grading"),children:[f.jsx(bu,{expandIcon:f.jsx(Rl,{}),children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(CR,{color:"primary"}),f.jsx(ce,{variant:"h6",children:"Grading Policy"})]})}),f.jsxs(yu,{children:[f.jsx(be,{sx:{mb:2},children:f.jsx(at,{startIcon:f.jsx(p0,{}),onClick:D,variant:"outlined",children:"Add Grading Component"})}),(ae=c.gradingPolicy)==null?void 0:ae.map((ne,xe)=>f.jsx(be,{sx:{mb:2,p:2,border:"1px solid #ddd",borderRadius:1},children:f.jsxs(bt,{container:!0,spacing:2,children:[f.jsx(bt,{item:!0,xs:12,md:4,children:f.jsx($t,{label:"Component",fullWidth:!0,value:ne.component,onChange:ye=>N(xe,"component",ye.target.value)})}),f.jsx(bt,{item:!0,xs:12,md:3,children:f.jsx($t,{label:"Percentage",type:"number",fullWidth:!0,value:ne.percentage,onChange:ye=>N(xe,"percentage",parseInt(ye.target.value)||0),inputProps:{min:0,max:100}})}),f.jsx(bt,{item:!0,xs:12,md:4,children:f.jsx($t,{label:"Description",fullWidth:!0,value:ne.description||"",onChange:ye=>N(xe,"description",ye.target.value)})}),f.jsx(bt,{item:!0,xs:12,md:1,children:f.jsx(mn,{onClick:()=>P(xe),color:"error",children:f.jsx(Mh,{})})})]})},xe))]})]}),f.jsxs(gu,{expanded:h==="policies",onChange:O("policies"),children:[f.jsx(bu,{expandIcon:f.jsx(Rl,{}),children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(ER,{color:"primary"}),f.jsx(ce,{variant:"h6",children:"Course Policies"})]})}),f.jsx(yu,{children:f.jsx(bt,{container:!0,spacing:2,children:[{key:"attendance",label:"Attendance Policy"},{key:"lateWork",label:"Late Work Policy"},{key:"academicIntegrity",label:"Academic Integrity"},{key:"accommodations",label:"Accommodations"},{key:"communication",label:"Communication Policy"},{key:"safety",label:"Safety Policy"},{key:"groupWork",label:"Group Work Policy"},{key:"makeupPolicy",label:"Make-up Policy"}].map(({key:ne,label:xe})=>{var ye;return f.jsx(bt,{item:!0,xs:12,children:f.jsx($t,{label:xe,multiline:!0,rows:3,fullWidth:!0,value:((ye=c.policies)==null?void 0:ye[ne])||"",onChange:Ae=>C(ne,Ae.target.value)})},ne)})})})]}),f.jsxs(gu,{expanded:h==="lab",onChange:O("lab"),children:[f.jsx(bu,{expandIcon:f.jsx(Rl,{}),children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(_R,{color:"primary"}),f.jsx(ce,{variant:"h6",children:"Laboratory Information"})]})}),f.jsx(yu,{children:f.jsxs(bt,{container:!0,spacing:3,children:[f.jsxs(bt,{item:!0,xs:12,children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:"Safety Requirements"}),f.jsx(be,{sx:{mb:2},children:f.jsx(at,{startIcon:f.jsx(p0,{}),onClick:()=>z("labSpecific","safetyRequirements"),size:"small",variant:"outlined",children:"Add Safety Requirement"})}),(le=(G=c.labSpecific)==null?void 0:G.safetyRequirements)==null?void 0:le.map((ne,xe)=>f.jsxs(be,{sx:{display:"flex",gap:1,mb:1},children:[f.jsx($t,{fullWidth:!0,size:"small",value:ne,onChange:ye=>X("labSpecific","safetyRequirements",xe,ye.target.value),placeholder:"Safety requirement"}),f.jsx(mn,{onClick:()=>j("labSpecific","safetyRequirements",xe),color:"error",size:"small",children:f.jsx(Mh,{})})]},xe))]}),f.jsxs(bt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:"Required Equipment"}),f.jsx(be,{sx:{mb:2},children:f.jsx(at,{startIcon:f.jsx(p0,{}),onClick:()=>z("labSpecific","requiredEquipment"),size:"small",variant:"outlined",children:"Add Equipment"})}),(B=(U=c.labSpecific)==null?void 0:U.requiredEquipment)==null?void 0:B.map((ne,xe)=>f.jsxs(be,{sx:{display:"flex",gap:1,mb:1},children:[f.jsx($t,{fullWidth:!0,size:"small",value:ne,onChange:ye=>X("labSpecific","requiredEquipment",xe,ye.target.value),placeholder:"Equipment item"}),f.jsx(mn,{onClick:()=>j("labSpecific","requiredEquipment",xe),color:"error",size:"small",children:f.jsx(Mh,{})})]},xe))]}),f.jsxs(bt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:"Dress Code"}),f.jsx(be,{sx:{mb:2},children:f.jsx(at,{startIcon:f.jsx(p0,{}),onClick:()=>z("labSpecific","dresscode"),size:"small",variant:"outlined",children:"Add Dress Code Item"})}),(J=(ie=c.labSpecific)==null?void 0:ie.dresscode)==null?void 0:J.map((ne,xe)=>f.jsxs(be,{sx:{display:"flex",gap:1,mb:1},children:[f.jsx($t,{fullWidth:!0,size:"small",value:ne,onChange:ye=>X("labSpecific","dresscode",xe,ye.target.value),placeholder:"Dress code requirement"}),f.jsx(mn,{onClick:()=>j("labSpecific","dresscode",xe),color:"error",size:"small",children:f.jsx(Mh,{})})]},xe))]})]})})]})]}),f.jsxs(cs,{children:[f.jsx(at,{onClick:y,children:"Cancel"}),f.jsx(at,{onClick:A,variant:"contained",disabled:i,children:i?"Saving...":"Save Changes"})]})]})]})},VX=async(e,n,t)=>{const r=Xf(),i=e.name.split(".").pop()||"txt",s=`${e.name.replace(/\.[^/.]+$/,"")}_${Pa()}.${i}`,a=`syllabi/${n}/${s}`,l=vu(r,a);try{const c=await Pf(l,e),d=await Ad(c.ref),h={originalFilename:e.name,fileSize:e.size,fileType:e.type||"application/octet-stream",uploadedAt:new Date,uploadedBy:n,courseId:t};return console.log(`Successfully uploaded syllabus file: ${s}`,{size:e.size,type:e.type,url:d}),{url:d,path:c.ref.fullPath,metadata:h}}catch(c){throw console.error("Failed to upload syllabus file:",c),new Error(`Failed to upload syllabus file: ${c instanceof Error?c.message:"Unknown error"}`)}},bk=e=>{switch(e.toLowerCase()){case"application/pdf":return"PDF Document";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return"Word Document";case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return"PowerPoint Presentation";case"text/plain":return"Text File";default:return"Document"}},yk=e=>{if(e===0)return"0 Bytes";const n=1024,t=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,r)).toFixed(2))+" "+t[r]},YX=({courseId:e})=>{const[n,t]=K.useState(null),[r,i]=K.useState(!0),[s,a]=K.useState(null),[l,c]=K.useState(!1),d=Xn();K.useEffect(()=>{e&&(async()=>{try{i(!0);const m=fn(d,"courses",e),x=await xa(m);if(x.exists()){const y=x.data();t(y.syllabusFile||null)}else a("Course not found")}catch(m){console.error("Error fetching syllabus file:",m),a("Failed to load syllabus file information")}finally{i(!1)}})()},[e,d]);const h=()=>{n!=null&&n.url&&window.open(n.url,"_blank")},g=()=>{c(!0)};return r?f.jsx(be,{sx:{display:"flex",justifyContent:"center",p:2},children:f.jsx(Pr,{size:24})}):s?f.jsx(tr,{severity:"error",sx:{mb:2},children:s}):n?f.jsxs(On,{sx:{p:3,mb:3,backgroundColor:"info.50"},children:[f.jsxs(ce,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[f.jsx(jx,{color:"primary"}),"Original Syllabus Document"]}),f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[f.jsx(ce,{variant:"body1",sx:{flexGrow:1},children:f.jsx("strong",{children:n.metadata.originalFilename})}),f.jsxs(ce,{variant:"body2",color:"text.secondary",children:[bk(n.metadata.fileType),"  ",yk(n.metadata.fileSize)]})]}),f.jsxs(ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Uploaded: ",new Date(n.metadata.uploadedAt).toLocaleDateString()]}),f.jsxs(be,{sx:{display:"flex",gap:2},children:[f.jsx(at,{variant:"outlined",startIcon:f.jsx(_6,{}),onClick:g,size:"small",children:"View Details"}),f.jsx(at,{variant:"contained",startIcon:f.jsx(hg,{}),onClick:h,size:"small",children:"Download"})]}),f.jsxs(Yi,{open:l,onClose:()=>c(!1),maxWidth:"sm",fullWidth:!0,children:[f.jsxs(us,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(jx,{}),"Syllabus File Details"]}),f.jsx(Gi,{children:f.jsxs(be,{sx:{mb:2},children:[f.jsx(ce,{variant:"body2",color:"text.secondary",children:f.jsx("strong",{children:"Filename:"})}),f.jsx(ce,{variant:"body1",sx:{mb:2},children:n.metadata.originalFilename}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:f.jsx("strong",{children:"File Type:"})}),f.jsx(ce,{variant:"body1",sx:{mb:2},children:bk(n.metadata.fileType)}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:f.jsx("strong",{children:"File Size:"})}),f.jsx(ce,{variant:"body1",sx:{mb:2},children:yk(n.metadata.fileSize)}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:f.jsx("strong",{children:"Uploaded:"})}),f.jsx(ce,{variant:"body1",sx:{mb:2},children:new Date(n.metadata.uploadedAt).toLocaleString()}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:f.jsx("strong",{children:"Storage Path:"})}),f.jsx(ce,{variant:"body2",sx:{fontFamily:"monospace",backgroundColor:"grey.100",p:1,borderRadius:1},children:n.path})]})}),f.jsxs(cs,{children:[f.jsx(at,{onClick:()=>c(!1),children:"Close"}),f.jsx(at,{onClick:h,variant:"contained",startIcon:f.jsx(hg,{}),children:"Download File"})]})]})]}):null},GX=({selectedCourse:e,onCourseDelete:n})=>{const[t,r]=K.useState(!1),i=Xn(),{refreshUserDetails:s}=Ii(),a=()=>r(!0),l=()=>r(!1),c=async()=>{if(e)try{const d=N6(i),h=fn(i,"courses",e);d.delete(h);const g=Sn(i,"users");(await Si(g)).forEach(m=>{const x=fn(i,"users",m.id),y=m.data().classes||{};y&&y[e]&&(delete y[e],d.update(x,{classes:y}))}),await d.commit(),await s(),n(),l()}catch(d){console.error("Error deleting course:",d)}};return f.jsxs(be,{sx:{mt:2},children:[f.jsx(at,{variant:"contained",onClick:a,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#F44336",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#D32F2F",transform:"scale(1.03)"}},children:"Delete Course"}),f.jsxs(Yi,{open:t,onClose:l,children:[f.jsx(us,{children:"Confirm Delete"}),f.jsx(Gi,{children:f.jsx(Oo,{children:"Are you sure you want to delete this course? This action cannot be undone."})}),f.jsxs(cs,{children:[f.jsx(at,{onClick:l,children:"Cancel"}),f.jsx(at,{onClick:c,variant:"contained",color:"error",children:"Delete"})]})]})]})},QX=({text:e,tooltipText:n="Click to Copy",successText:t="Copied!"})=>{const[r,i]=K.useState(!1),s=()=>{navigator.clipboard.writeText(e).then(()=>{i(!0),setTimeout(()=>i(!1),2e3)}).catch(a=>console.error("Could not copy text: ",a))};return f.jsx(na,{title:r?t:n,enterDelay:300,leaveDelay:200,children:f.jsx($n,{label:e,variant:"outlined",onClick:s,sx:{borderRadius:"15px",fontSize:"16px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",fontFamily:"Gabarito, sans-serif"}})})},KX=()=>{const{userDetails:e}=Ii(),[n,t]=K.useState(""),[r,i]=K.useState([]),[s,a]=K.useState(null),[l,c]=K.useState(!1),[d,h]=K.useState(""),[g,b]=K.useState("success"),m=Xn();K.useEffect(()=>{(async()=>{if(e!=null&&e.isAdmin){const w=No(Sn(m,"courses"),Oi("courseAdmin","array-contains",e.uid)),k=(await Si(w)).docs.map(R=>({id:R.id,number:R.data().number,title:R.data().title,passcode:R.data().passcode}));i(k)}})()},[m,e]);const x=A=>{const w=A.target.value;t(w);const C=r.find(k=>k.id===w);C?(a(C.passcode),h(`Passcode for course "${C.number} - ${C.title}" retrieved successfully.`),b("success"),c(!0)):(a(null),h("Course not found."),b("error"),c(!0))},y=()=>{c(!1)};return f.jsxs(be,{sx:{mt:4},children:[f.jsx(ce,{variant:"subtitle1",component:"h2",sx:{mb:2},children:"Retrieve Course Passcode"}),f.jsx(bt,{container:!0,spacing:2,sx:{maxWidth:"75%"},children:f.jsxs(bt,{item:!0,xs:12,sx:{display:"flex",alignItems:"center"},children:[f.jsx($t,{select:!0,label:"Select Course Number",value:n,onChange:x,fullWidth:!0,sx:{mb:2,mr:2},children:r.map(A=>f.jsx(ur,{value:A.id,children:`${A.number} - ${A.title}`},A.id))}),s&&f.jsxs(be,{sx:{display:"flex",alignItems:"center",ml:2},children:[f.jsx(ce,{variant:"body1",sx:{mr:1},children:"Passcode:"}),f.jsx(QX,{text:`${s}`})]})]})}),f.jsx(fo,{open:l,autoHideDuration:6e3,onClose:y,children:f.jsx(tr,{onClose:y,severity:g,sx:{width:"100%"},children:d})})]})},XX=()=>{const{userDetails:e}=Ii(),[n,t]=K.useState([]),[r,i]=K.useState(""),[s,a]=K.useState(!1),[l,c]=K.useState(!1),[d,h]=K.useState(!1),g=Xn(),b=Ai(),x=e!=null&&e.classes?Object.entries(e.classes).filter(([R,q])=>q.isCourseAdmin).reduce((R,[q,D])=>({...R,[q]:D}),{}):{};K.useEffect(()=>{x[r]||i(Object.keys(x)[0]||"")},[x,r]),K.useEffect(()=>{(async()=>{if(r)try{const q=No(Sn(g,"users"),Oi("isAdmin","==",!1)),P=(await Si(q)).docs.map(z=>({uid:z.id,...z.data()})).filter(z=>z.classes&&z.classes[r]);t(P)}catch(q){console.error("Error fetching students:",q)}})()},[r,g]);const y=R=>{i(R)},A=()=>{b("/request-new-course")},w=x[r],C=w?`${w.number} - ${w.title}`:"",k=!!(r&&w);return f.jsxs(be,{className:"profile-container",sx:{p:4},children:[f.jsx(be,{sx:{display:"flex",alignItems:"center",mb:2},children:f.jsx(at,{variant:"text",onClick:()=>b("/"),className:"profile-button",children:" Home Page"})}),f.jsx(ce,{className:"webpage_title",sx:{mb:2},children:"Course Management"}),f.jsxs(be,{sx:{mb:4,p:3,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[f.jsx(ce,{variant:"h6",sx:{fontFamily:"Staatliches, sans-serif",mb:2,color:"#0B53C0"},children:"Select a Course"}),Object.keys(x).length>0?f.jsx($X,{userClasses:x,selectedCourse:r,onCourseChange:y}):f.jsx(ce,{variant:"body1",sx:{color:"#9E9E9E"},children:"No courses available for selection."})]}),f.jsx(be,{children:k&&f.jsxs(f.Fragment,{children:[f.jsx(YX,{courseId:r}),f.jsxs(be,{sx:{flex:2,display:"flex",justifyContent:"flex-end",gap:2},children:[f.jsx(HX,{selectedCourse:r,selectedCourseDetails:w,onCourseUpdate:()=>{}}),f.jsx(WX,{selectedCourse:r,onInfoUpdate:()=>{}}),f.jsx(GX,{selectedCourse:r,onCourseDelete:()=>i("")})]})]})}),k&&f.jsxs(On,{elevation:3,sx:{p:3,mb:4,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",backgroundColor:"#F9FAFB"},children:[f.jsx(ce,{variant:"h6",component:"h2",sx:{fontFamily:"Staatliches, sans-serif",fontWeight:"bold",mb:2,color:"#0B53C0"},children:"Students Enrolled in a Course"}),n.length===0?f.jsxs(ce,{sx:{color:"#757575",textAlign:"center",p:3},children:["No students are currently enrolled in ",f.jsx("strong",{children:C}),"."]}):f.jsxs(f.Fragment,{children:[f.jsx(_u,{component:On,children:f.jsxs(ku,{children:[f.jsx(Nu,{children:f.jsxs(Qi,{children:[f.jsx(ct,{sx:{fontWeight:"bold"},children:"User ID"}),f.jsx(ct,{sx:{fontWeight:"bold"},children:"Last Login"})]})}),f.jsx(ju,{children:n.map(R=>f.jsxs(Qi,{children:[f.jsx(ct,{children:R.uid}),f.jsx(ct,{children:Tf(R.lastLogin)})]},R.uid))})]})}),f.jsx(UX,{students:n,selectedCourse:r})]}),n.length>0&&f.jsxs(On,{sx:{mt:4,p:3,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[f.jsx(wd,{control:f.jsx(Sd,{checked:d,onChange:()=>h(R=>!R)}),label:"Remove Student(s) from the Course"}),d&&f.jsx(BX,{selectedCourse:r,selectedCourseDetails:w,onStudentChange:()=>{}})]})]}),f.jsxs(be,{sx:{display:"flex",gap:4,mb:4},children:[f.jsxs(be,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[f.jsx(wd,{control:f.jsx(Sd,{checked:l,onChange:()=>c(R=>!R)}),label:"Retrieve Course Passcode"}),l&&f.jsx(be,{sx:{mt:2},children:f.jsx(KX,{})})]}),f.jsxs(be,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[f.jsx(wd,{control:f.jsx(Sd,{checked:s,onChange:()=>a(R=>!R)}),label:"Request Creating a New Course"}),s&&f.jsx(be,{sx:{mt:2},children:f.jsx(at,{variant:"contained",onClick:A,sx:{backgroundColor:"#4CAF50",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",textTransform:"none","&:hover":{backgroundColor:"#388E3C"}},children:"Request New Course"})})]})]})]})};class ZX{constructor(n){Ke(this,"genAI");Ke(this,"model");this.genAI=new e7(n),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.1,topK:1,topP:.8,maxOutputTokens:16384}})}async processSyllabusText(n,t,r){return n.length>3e4?(console.log("Large document detected, using chunked processing"),this.processLargeDocument(n,t,r)):this.processSingleDocument(n,t,r)}async processSingleDocument(n,t,r){const i=this.buildSyllabusAnalysisPrompt(n,t);try{const l=(await(await this.model.generateContent(i)).response).text();if(!l||l.trim().length===0)throw new Error("Empty response from AI service");const c=l.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();let d;try{d=JSON.parse(c)}catch(h){throw console.error("JSON parsing failed:",h),console.error("Raw response text:",l),console.error("Cleaned text:",c),new Error("AI response format invalid - unable to parse JSON")}if(!d||typeof d!="object")throw new Error("AI response is not a valid object");return d.courseInfo||(console.warn("Missing courseInfo in AI response, using defaults"),d.courseInfo={}),this.validateAndSanitizeResponse(d)}catch(s){if(console.error("Gemini API Error:",s),s instanceof Error){if(s.message.includes("AI response")||s.message.includes("JSON parsing"))throw s;if(s.message.includes("API key"))throw new Error("Invalid or missing Gemini API key. Please check your environment configuration.");if(s.message.includes("quota")||s.message.includes("rate limit"))throw new Error("API rate limit exceeded. Please try again later.")}throw new Error(`Failed to process syllabus with AI: ${s instanceof Error?s.message:"Unknown error"}`)}}async processLargeDocument(n,t,r){const s=this.chunkText(n,35e3);console.log(`Processing ${s.length} chunks for large document`);const a=await this.processSingleDocument(s[0],t,r),l=await Promise.allSettled(s.slice(1).map(c=>this.processChunkForDetails(c,t)));return this.mergeChunkedResults(a,l)}chunkText(n,t){const r=[],i=n.split(`
`);let s="";const a=["schedule","session","unit","week","topic","assignment","objective","learning outcome","reading","textbook","prerequisite"];for(let l=0;l<i.length;l++){const c=i[l],d=i[l+1]||"",h=a.some(g=>c.toLowerCase().includes(g)||d.toLowerCase().includes(g));s.length+c.length>t&&s.length>0&&(h||s.length>t*.8)?(r.push(s.trim()),s=c):s+=`
`+c}return s.trim()&&r.push(s.trim()),r}async processChunkForDetails(n,t){const r=`
Extract additional course details from this syllabus section. Focus heavily on:
- ALL schedule items, sessions, units, weeks, and topics
- Session numbers, titles, and descriptions
- Learning outcomes for each session
- Reading assignments and resources
- Assignment details and due dates
- Any additional objectives or policies

IMPORTANT: Extract ALL schedule/session information - do not limit the number of items.
Convert session numbers to week numbers (Session 1 = Week 1, etc.).

Return JSON with only the fields you can extract from this section:
${n}
`;try{const l=(await(await this.model.generateContent(r)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(l)}catch(i){return console.warn("Failed to process chunk:",i),{}}}mergeChunkedResults(n,t){const r={...n};return t.forEach(i=>{if(i.status==="fulfilled"&&i.value){const s=i.value;if(s.learningObjectives&&(r.learningObjectives=[...r.learningObjectives,...s.learningObjectives]),s.schedule){const a=new Set(r.schedule.map(c=>`${c.week}-${c.topic}`)),l=s.schedule.filter(c=>!a.has(`${c.week}-${c.topic}`));r.schedule=[...r.schedule,...l]}s.assignments&&(r.assignments=[...r.assignments,...s.assignments]),s.prerequisites&&(r.prerequisites=[...r.prerequisites,...s.prerequisites]),s.contactInfo&&(r.contactInfo={...r.contactInfo,...s.contactInfo}),s.policies&&(r.policies={...r.policies,...s.policies}),s.additionalResources&&(r.additionalResources={...r.additionalResources,...s.additionalResources})}}),r.learningObjectives=[...new Set(r.learningObjectives)],r.prerequisites=[...new Set(r.prerequisites)],r.schedule=r.schedule.sort((i,s)=>i.week-s.week),r}buildSyllabusAnalysisPrompt(n,t){return`
You are an expert educational content analyzer. Analyze the following course syllabus and extract structured information in JSON format.

IMPORTANT INSTRUCTIONS:
1. Return ONLY valid JSON - no markdown, no explanations, no additional text
2. If information is not available, use null or empty arrays/objects
3. Be thorough but accurate - don't invent information
4. For percentages in grading, ensure they are numbers (not strings)
5. For week numbers, ensure they are integers
6. Extract all learning objectives, even if they're not numbered
7. Look for course schedules in various formats (weekly, by date, by topic, by session/unit)
8. IMPORTANT: Extract ALL schedule items, sessions, units, and topics - do not limit to just a few weeks
9. For session-based schedules, convert sessions to week numbers (e.g., Session 1 = Week 1)
10. LABORATORY COURSES: Pay special attention to safety requirements, lab equipment, dress codes, group work policies, and experiment-based schedules
11. Identify course type: determine if this is a lecture, lab, seminar, or hybrid course based on content

Required JSON structure:
{
  "courseInfo": {
    "title": "string",
    "number": "string (e.g., CS 350, BIOL 301, CHEM 315)",
    "description": "string",
    "instructor": "string or null",
    "department": "string or null",
    "institution": "string or null",
    "credits": "number or null",
    "meetingTimes": "string or null (include lab times if applicable)",
    "semester": "string or null",
    "year": "string or null",
    "courseType": "lecture|lab|seminar|hybrid",
    "location": "string or null (lab room, classroom, etc.)"
  },
  "learningObjectives": [
    "string (each objective as separate item)"
  ],
  "schedule": [
    {
      "week": "number",
      "topic": "string",
      "description": "string or null",
      "readings": ["string"] or null,
      "assignments": ["string"] or null,
      "dueDate": "string or null",
      "notes": "string or null",
      "experimentType": "string or null (for lab courses)",
      "equipmentNeeded": ["string"] or null
    }
  ],
  "prerequisites": [
    "string (each prerequisite course/requirement)"
  ],
  "textbooks": [
    {
      "title": "string",
      "author": "string or null",
      "edition": "string or null",
      "isbn": "string or null",
      "required": "boolean"
    }
  ],
  "gradingPolicy": [
    {
      "component": "string (e.g., Exams, Homework, Projects)",
      "percentage": "number (e.g., 40, not '40%')",
      "description": "string or null"
    }
  ],
  "assignments": [
    {
      "name": "string",
      "description": "string",
      "type": "string (exam|project|homework|quiz|presentation|lab_report|lab_practical)",
      "dueDate": "string or null",
      "points": "number or null",
      "weight": "number or null (for weighted assignments)"
    }
  ],
  "policies": {
    "attendance": "string or null",
    "lateWork": "string or null",
    "academicIntegrity": "string or null",
    "accommodations": "string or null",
    "communication": "string or null",
    "safety": "string or null (lab safety requirements)",
    "groupWork": "string or null (partner/group work policies)",
    "makeupPolicy": "string or null (make-up lab/exam policies)"
  },
  "contactInfo": {
    "email": "string or null",
    "phone": "string or null",
    "office": "string or null",
    "officeHours": "string or null",
    "website": "string or null"
  },
  "additionalResources": {
    "software": ["string"] or null,
    "equipment": ["string"] or null,
    "websites": ["string"] or null,
    "tutoring": "string or null",
    "learningPlatform": "string or null (Moodle, Blackboard, etc.)"
  },
  "labSpecific": {
    "safetyRequirements": ["string"] or null,
    "requiredEquipment": ["string"] or null,
    "dresscode": ["string"] or null,
    "notebookRequirements": "string or null",
    "groupWorkStructure": "string or null",
    "makeupPolicy": "string or null"
  }
}

${t?`File name: ${t}`:""}

Syllabus content to analyze:
${n}
`}validateAndSanitizeResponse(n){var r,i,s,a,l,c,d,h,g,b,m,x,y,A;const t={courseInfo:{title:"Course Title",number:"COURSE 101",description:"Course description not available"},learningObjectives:[],schedule:[],prerequisites:[],textbooks:[],gradingPolicy:[],assignments:[],policies:{},contactInfo:{},additionalResources:{}};try{return{courseInfo:{...t.courseInfo,...n.courseInfo},learningObjectives:Array.isArray(n.learningObjectives)?n.learningObjectives:[],schedule:Array.isArray(n.schedule)?n.schedule.map((C,k)=>({week:typeof C.week=="number"?C.week:k+1,topic:C.topic||`Week ${k+1} Topic`,description:C.description||null,readings:Array.isArray(C.readings)?C.readings:null,assignments:Array.isArray(C.assignments)?C.assignments:null,dueDate:C.dueDate||null,notes:C.notes||null})):[],prerequisites:Array.isArray(n.prerequisites)?n.prerequisites:[],textbooks:Array.isArray(n.textbooks)?n.textbooks.map(C=>({title:C.title||"Unknown Textbook",author:C.author||null,edition:C.edition||null,isbn:C.isbn||null,required:typeof C.required=="boolean"?C.required:!0})):[],gradingPolicy:Array.isArray(n.gradingPolicy)?n.gradingPolicy.map(C=>({component:C.component||"Unknown Component",percentage:typeof C.percentage=="number"?C.percentage:0,description:C.description||null})):[],assignments:Array.isArray(n.assignments)?n.assignments.map(C=>({name:C.name||"Assignment",description:C.description||"",type:C.type||"homework",dueDate:C.dueDate||null,points:typeof C.points=="number"?C.points:null})):[],policies:{attendance:((r=n.policies)==null?void 0:r.attendance)||null,lateWork:((i=n.policies)==null?void 0:i.lateWork)||null,academicIntegrity:((s=n.policies)==null?void 0:s.academicIntegrity)||null,accommodations:((a=n.policies)==null?void 0:a.accommodations)||null,communication:((l=n.policies)==null?void 0:l.communication)||null},contactInfo:{email:((c=n.contactInfo)==null?void 0:c.email)||null,phone:((d=n.contactInfo)==null?void 0:d.phone)||null,office:((h=n.contactInfo)==null?void 0:h.office)||null,officeHours:((g=n.contactInfo)==null?void 0:g.officeHours)||null,website:((b=n.contactInfo)==null?void 0:b.website)||null},additionalResources:{software:Array.isArray((m=n.additionalResources)==null?void 0:m.software)?n.additionalResources.software:null,equipment:Array.isArray((x=n.additionalResources)==null?void 0:x.equipment)?n.additionalResources.equipment:null,websites:Array.isArray((y=n.additionalResources)==null?void 0:y.websites)?n.additionalResources.websites:null,tutoring:((A=n.additionalResources)==null?void 0:A.tutoring)||null}}}catch(w){return console.error("Error validating AI response:",w),t}}async generateCourseMaterials(n,t){const r=`
Based on the following course information, generate detailed course materials in JSON format.

CRITICAL REQUIREMENTS:
1. Return ONLY valid JSON - absolutely NO explanatory text, comments, or additional content
2. Do not add any text before or after the JSON array
3. Do not include comments like "// ..." in the JSON
4. Generate materials for ALL available weeks/sessions from the course information

Create materials for:
1. Course Overview (with detailed description, objectives, and policies)  
2. Weekly/session materials for ALL weeks found in the schedule
3. Assignment descriptions where applicable

Course Information:
${JSON.stringify(n,null,2)}

Generate materials for ${(t==null?void 0:t.includeWeeks)||n.schedule.length} weeks/sessions.

Return ONLY a JSON array of materials with this structure:
[
  {
    "id": "unique-id",
    "title": "Material Title",
    "type": "overview|weekly|assignment|resource",
    "header": {"title": "string", "content": "string"},
    "sections": [
      {
        "id": "section-id",
        "title": "Section Title",
        "content": "HTML formatted content",
        "subsections": [
          {
            "id": "subsection-id",
            "title": "Subsection Title",
            "content": "HTML formatted content"
          }
        ]
      }
    ],
    "footer": {"title": "string", "content": "string"},
    "published": false,
    "scheduledTimestamp": "ISO date string or null"
  }
]
`;try{const a=(await(await this.model.generateContent(r)).response).text();if(!a||a.trim().length===0)return console.warn("Empty response from AI service for material generation"),[];let l=a.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();const c=l.lastIndexOf("]");c!==-1&&(l=l.substring(0,c+1));let d;try{d=JSON.parse(l)}catch(h){return console.error("JSON parsing failed for material generation:",h),console.error("Raw response text:",a),console.error("Cleaned text:",l),console.warn("Falling back to empty materials array"),[]}return Array.isArray(d)?d:(console.warn("AI response is not an array, wrapping in array:",d),d?[d]:[])}catch(i){return console.error("Error generating materials:",i),[]}}}let Hy=null;const xk=e=>{const n="AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8";if(!Hy&&n&&(Hy=new ZX(n)),!Hy)throw new Error("Gemini service not initialized. Please configure VITE_GEMINI_API_KEY environment variable.");return Hy},Th=()=>Math.random().toString(36).substr(2,9),JX=e=>e.length?`<ul>${e.map(t=>`<li>${t}</li>`).join("")}</ul>`:"<p>No objectives specified</p>",eZ=e=>e.length?`<ul>${e.map(t=>`<li>${t}</li>`).join("")}</ul>`:"<p>No readings assigned</p>",yp=lp()(tm(mv((e,n)=>({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null,setUploadedFile:t=>e({uploadedFile:t}),setUploadProgress:t=>e({uploadProgress:t}),setExtractedText:t=>e({extractedText:t}),setStoredSyllabusFile:t=>e({storedSyllabusFile:t}),setAIExtractedInfo:t=>e({aiExtractedInfo:t}),setUseAIProcessing:t=>e({useAIProcessing:t}),setParsedCourseInfo:t=>e({parsedCourseInfo:t}),setGeneratedMaterials:t=>e({generatedMaterials:t}),setCurrentStep:t=>e({currentStep:t}),setIsProcessing:t=>e({isProcessing:t}),setError:t=>e({error:t}),setProcessingProgress:t=>e({processingProgress:t}),uploadSyllabus:async(t,r)=>{const i=r7(t);if(!i.isValid){e({error:i.error,currentStep:"upload"});return}const s=eF(t);e({uploadedFile:t,uploadProgress:0,error:null,extractionMetadata:{fileName:t.name,fileSize:t.size,fileType:i7(t),estimatedProcessingTime:s},processingProgress:{stage:"uploading",percentage:0,currentOperation:"Preparing file for processing..."}});try{for(let a=0;a<=100;a+=20)e({uploadProgress:a,processingProgress:{stage:"uploading",percentage:a,currentOperation:a===100?"Upload complete, starting text extraction...":`Uploading file... ${a}%`}}),await new Promise(l=>setTimeout(l,100));if(e({currentStep:"processing",isProcessing:!0,processingProgress:{stage:"extracting",percentage:0,currentOperation:"Extracting text from document..."}}),await n().extractTextFromFile(),r)try{e({processingProgress:{stage:"uploading",percentage:90,currentOperation:"Storing syllabus file..."}});const a=await VX(t,r);e({storedSyllabusFile:a}),console.log("Syllabus file stored successfully:",a.url)}catch(a){console.warn("Failed to store syllabus file, continuing with processing:",a)}e({processingProgress:{stage:"analyzing",percentage:0,currentOperation:n().useAIProcessing?"Analyzing syllabus with AI...":"Parsing syllabus content..."}}),await n().parseSyllabus()}catch(a){e({error:a instanceof Error?a.message:"Failed to upload file",currentStep:"upload"})}},extractTextFromFile:async()=>{const{uploadedFile:t}=n();if(!t){e({error:"No file uploaded"});return}e({isProcessing:!0,error:null});try{const r=await n7(t);e({extractedText:r.text,extractionMetadata:{...n().extractionMetadata,...r.metadata},isProcessing:!1})}catch(r){e({error:r.message||"Failed to extract text from file",isProcessing:!1})}},parseSyllabus:async()=>{const{extractedText:t,uploadedFile:r,useAIProcessing:i}=n();if(!t){e({error:"No text to parse"});return}e({isProcessing:!0,error:null});try{let s;if(i)try{e({processingProgress:{stage:"analyzing",percentage:25,currentOperation:"Sending syllabus to AI for analysis..."}});const l=await xk().processSyllabusText(t,r==null?void 0:r.name);e({processingProgress:{stage:"analyzing",percentage:75,currentOperation:"Processing AI analysis results..."}}),e({aiExtractedInfo:l}),s={suggestedTitle:l.courseInfo.title||"Course Title",suggestedNumber:l.courseInfo.number||"COURSE 101",suggestedDescription:l.courseInfo.description||"Course description not available",objectives:l.learningObjectives.length>0?l.learningObjectives:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:l.schedule.map(c=>({week:c.week,topic:c.topic,description:c.description,readings:c.readings||[],assignments:c.assignments||[],date:c.dueDate?new Date(c.dueDate):void 0})),prerequisites:l.prerequisites,textbook:l.textbooks.length>0?l.textbooks[0].title:"",grading:l.gradingPolicy.map(c=>`${c.component}: ${c.percentage}%`).join(", "),instructor:l.courseInfo.instructor,department:l.courseInfo.department,institution:l.courseInfo.institution,credits:l.courseInfo.credits,semester:l.courseInfo.semester,year:l.courseInfo.year,contactInfo:l.contactInfo,policies:l.policies,textbooks:l.textbooks,gradingComponents:l.gradingPolicy,assignments:l.assignments}}catch(a){console.warn("AI processing failed, falling back to pattern-based parsing:",a),s=await n().fallbackParsing(t)}else s=await n().fallbackParsing(t);e({parsedCourseInfo:s}),e({processingProgress:{stage:"generating",percentage:0,currentOperation:"Generating course materials..."}}),await n().generateMaterials()}catch(s){e({error:s instanceof Error?s.message:"Failed to parse syllabus",isProcessing:!1})}},fallbackParsing:async t=>{var g,b;const r=t.split(`
`).filter(m=>m.trim()),i=r.find(m=>{const x=m.toLowerCase();return(x.includes("course")||x.includes("class"))&&(x.includes("title")||x.includes("name")||m.includes(":"))}),s=r.find(m=>{const x=m.toLowerCase();return x.includes("description")||x.includes("overview")||x.includes("about this course")}),a=r.find(m=>/[A-Z]{2,4}\s*\d{3,4}/.test(m)||m.toLowerCase().includes("course number")),l=r.findIndex(m=>{const x=m.toLowerCase();return x.includes("objective")||x.includes("learning outcome")||x.includes("goals")||x.includes("by the end of this course")}),c=[];if(l!==-1)for(let m=l+1;m<r.length&&m<l+15;m++){const x=r[m].trim();x&&(x.startsWith("-")||x.startsWith("")||x.match(/^\d+\./)||x.startsWith("*"))?c.push(x.replace(/^[-\d.*]\s*/,"")):x&&c.length===0&&c.push(x)}const d=[];for(let m=1;m<=16;m++){const x=new RegExp(`week\\s*${m}|${m}\\s*week`,"i"),y=r.find(A=>x.test(A));if(y){const A=y.replace(/week\s*\d+:?\s*/i,"").trim()||`Week ${m} Topic`;d.push({week:m,topic:A,description:`Content and activities for week ${m}`,readings:[],assignments:[]})}else d.push({week:m,topic:`Week ${m} Topic`,description:`Content for week ${m}`,readings:[],assignments:[]})}let h="COURSE 101";if(a){const m=a.match(/[A-Z]{2,4}\s*\d{3,4}/);m&&(h=m[0])}return{suggestedTitle:i&&((g=i.split(":").slice(-1)[0])==null?void 0:g.trim())||"Course Title",suggestedNumber:h,suggestedDescription:s&&((b=s.split(":").slice(-1)[0])==null?void 0:b.trim())||t.substring(0,300)+"...",objectives:c.length>0?c:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:d.slice(0,15),prerequisites:[],textbook:"",grading:""}},generateMaterials:async()=>{const{parsedCourseInfo:t,aiExtractedInfo:r,useAIProcessing:i}=n();if(!t){e({error:"No parsed course info available"});return}e({isProcessing:!0,error:null});try{let s=[];if(i&&r)try{const l=await xk().generateCourseMaterials(r,{includeWeeks:r.schedule.length,materialTypes:["overview","weekly","assignment"]});l&&l.length>0?s=l.map(c=>({id:c.id||Th(),title:c.title||"Generated Material",header:c.header||{title:"Header",content:`<p>${c.title||"Material"}</p>`},footer:c.footer||{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:c.sections||[],published:c.published||!1,scheduledTimestamp:c.scheduledTimestamp?new Date(c.scheduledTimestamp):void 0})):(console.warn("AI material generation returned empty results, using fallback"),s=n().generateFallbackMaterials(t))}catch(a){console.warn("AI material generation failed, using fallback:",a),s=n().generateFallbackMaterials(t)}else s=n().generateFallbackMaterials(t);e({generatedMaterials:s,isProcessing:!1,currentStep:"review",processingProgress:{stage:"complete",percentage:100,currentOperation:"Processing complete! Review your course materials below."}})}catch(s){e({error:s instanceof Error?s.message:"Failed to generate materials",isProcessing:!1})}},generateFallbackMaterials:t=>{const r=[];return r.push({id:Th(),title:`${t.suggestedNumber} - Course Overview`,header:{title:"Course Overview",content:`<p>${t.suggestedTitle}</p>`},footer:{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:[{id:Th(),title:"Course Description",content:`<p>${t.suggestedDescription}</p>`,subsections:[],images:[],links:[]},{id:Th(),title:"Learning Objectives",content:JX(t.objectives),subsections:[],images:[],links:[]}],published:!1}),t.schedule.slice(0,6).forEach(i=>{r.push({id:Th(),title:`Week ${i.week}: ${i.topic}`,header:{title:`Week ${i.week}`,content:`<p>${i.topic}</p>`},footer:{title:"Footer",content:"<p>Review materials before next class</p>"},sections:[{id:Th(),title:"Overview",content:`<p>${i.description||`Topics and activities for week ${i.week}`}</p>`,subsections:i.readings&&i.readings.length>0?[{id:Th(),title:"Required Readings",content:eZ(i.readings),subSubsections:[],images:[],links:[]}]:[],images:[],links:[]}],published:!1,scheduledTimestamp:i.date})}),r},editMaterial:(t,r)=>{const{generatedMaterials:i}=n(),s=[...i];s[t]={...s[t],...r},e({generatedMaterials:s})},editCourseInfo:t=>{const{parsedCourseInfo:r}=n();r&&e({parsedCourseInfo:{...r,...t}})},reset:()=>e({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null})}),{name:"syllabus-store",partialize:e=>({extractedText:e.extractedText,extractionMetadata:e.extractionMetadata,storedSyllabusFile:e.storedSyllabusFile,aiExtractedInfo:e.aiExtractedInfo,useAIProcessing:e.useAIProcessing,parsedCourseInfo:e.parsedCourseInfo,generatedMaterials:e.generatedMaterials,currentStep:e.currentStep})}))),C1={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"ce5f7921-a3a0-4ea7-b95f-10fe41becda5",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},E1={GEMINI_API_KEY:"VITE_GEMINI_API_KEY",ENABLE_AI_PROCESSING:"VITE_ENABLE_AI_PROCESSING",MAX_RETRIES:"VITE_AI_MAX_RETRIES",TIMEOUT:"VITE_AI_TIMEOUT",FALLBACK_TO_PATTERN:"VITE_AI_FALLBACK_TO_PATTERN"},tZ=()=>({geminiApiKey:C1[E1.GEMINI_API_KEY],enableAIProcessing:C1[E1.ENABLE_AI_PROCESSING]!=="false",maxRetries:parseInt(C1[E1.MAX_RETRIES]||"3",10),timeout:parseInt(C1[E1.TIMEOUT]||"30000",10),fallbackToPatternParsing:C1[E1.FALLBACK_TO_PATTERN]!=="false"}),OI=e=>{const n=[];return e.enableAIProcessing&&!e.geminiApiKey&&n.push("Gemini API key is required when AI processing is enabled"),(e.maxRetries<0||e.maxRetries>10)&&n.push("Max retries must be between 0 and 10"),(e.timeout<1e3||e.timeout>12e4)&&n.push("Timeout must be between 1 second and 2 minutes"),{isValid:n.length===0,errors:n}},II=()=>{const e=tZ(),n=OI(e);return{config:e,...n}},vk=({onUploadComplete:e,apiKey:n,educatorUid:t})=>{const{uploadedFile:r,uploadProgress:i,error:s,isProcessing:a,useAIProcessing:l,processingProgress:c,uploadSyllabus:d,setUploadedFile:h,setError:g}=yp(),[b,m]=K.useState(!1),x=K.useMemo(()=>["text/plain","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],[]),y=K.useMemo(()=>[".txt",".pdf",".docx"],[]),A=K.useCallback(async P=>{const X=(j=>{if(!x.includes(j.type))return`Unsupported file type. Please upload ${y.join(", ")} files.`;const O=10*1024*1024;return j.size>O?"File size too large. Please upload files smaller than 10MB.":null})(P);if(X){g(X);return}try{await d(P,t),e==null||e(P)}catch(j){console.error("Upload error:",j)}},[d,e,g,x,y,n,t]),w=K.useCallback(P=>{P.preventDefault(),m(!1);const z=Array.from(P.dataTransfer.files);z.length>0&&A(z[0])},[A]),C=K.useCallback(P=>{P.preventDefault(),m(!0)},[]),k=K.useCallback(P=>{P.preventDefault(),m(!1)},[]),R=K.useCallback(P=>{const z=P.target.files;z&&z.length>0&&A(z[0]),P.target.value=""},[A]),q=K.useCallback(()=>{h(null),g(null)},[h,g]),D=P=>{if(P===0)return"0 Bytes";const z=1024,X=["Bytes","KB","MB","GB"],j=Math.floor(Math.log(P)/Math.log(z));return parseFloat((P/Math.pow(z,j)).toFixed(2))+" "+X[j]},N=()=>f.jsx(NR,{color:"primary"});return f.jsxs(be,{sx:{width:"100%",maxWidth:600,mx:"auto"},children:[!r&&f.jsxs(On,{sx:{p:4,border:"2px dashed",borderColor:b?"primary.main":"grey.300",backgroundColor:b?"primary.50":"background.paper",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center","&:hover":{borderColor:"primary.main",backgroundColor:"primary.50"}},onDragOver:C,onDragLeave:k,onDrop:w,onClick:()=>{var P;return(P=document.getElementById("syllabus-file-input"))==null?void 0:P.click()},children:[f.jsx(kR,{sx:{fontSize:48,color:b?"primary.main":"grey.400",mb:2}}),f.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Upload Your Syllabus"}),f.jsx(ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Drag and drop your syllabus file here, or click to browse"}),f.jsx(be,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center"},children:y.map(P=>f.jsx($n,{label:P.toUpperCase(),size:"small",variant:"outlined",color:"primary"},P))}),f.jsx(ce,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"Maximum file size: 10MB"}),f.jsx("input",{id:"syllabus-file-input",type:"file",accept:x.join(","),onChange:R,style:{display:"none"}})]}),r&&f.jsxs(On,{sx:{p:3,mb:2},children:[f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:2},children:[N(),f.jsxs(be,{sx:{flexGrow:1},children:[f.jsx(ce,{variant:"subtitle1",sx:{fontWeight:500},children:r.name}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:D(r.size)})]}),!a&&f.jsx(mn,{onClick:q,color:"error",size:"small",children:f.jsx(Mh,{})})]}),i>0&&i<100&&f.jsxs(be,{sx:{mt:2},children:[f.jsx(il,{variant:"determinate",value:i,sx:{height:6,borderRadius:3}}),f.jsxs(ce,{variant:"caption",sx:{mt:1,display:"block"},children:["Uploading... ",i,"%"]})]}),a&&f.jsx(be,{sx:{mt:2},children:c?f.jsxs(f.Fragment,{children:[f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[f.jsx($n,{label:c.stage.charAt(0).toUpperCase()+c.stage.slice(1),size:"small",color:"primary",variant:"outlined"}),f.jsxs(ce,{variant:"caption",color:"text.secondary",children:[c.percentage,"%"]})]}),f.jsx(il,{variant:"determinate",value:c.percentage,sx:{height:6,borderRadius:3,mb:1}}),f.jsx(ce,{variant:"caption",sx:{display:"block",color:"text.secondary"},children:c.currentOperation})]}):f.jsxs(f.Fragment,{children:[f.jsx(il,{sx:{height:6,borderRadius:3}}),f.jsx(ce,{variant:"caption",sx:{mt:1,display:"block"},children:l?"AI is analyzing your syllabus...":"Processing syllabus..."})]})})]}),s&&f.jsx(tr,{severity:"error",sx:{mt:2},onClose:()=>g(null),children:s}),f.jsxs(On,{sx:{p:2,mt:2,backgroundColor:"info.50"},children:[f.jsx(ce,{variant:"body2",color:"info.main",sx:{fontWeight:500,mb:1},children:" Tips for best results:"}),f.jsxs(ce,{variant:"body2",color:"text.secondary",component:"ul",sx:{m:0,pl:2},children:[f.jsx("li",{children:"Include course objectives and weekly schedule"}),f.jsx("li",{children:"List reading assignments and materials"}),f.jsx("li",{children:"Text files (.txt) work best for parsing"}),f.jsx("li",{children:"Ensure text is well-structured with clear headings"})]})]})]})},nZ=({onContinue:e})=>{var C;const{parsedCourseInfo:n,editCourseInfo:t,error:r,isProcessing:i,currentStep:s}=yp(),[a,l]=K.useState(!1),[c,d]=K.useState(null);if(!n)return f.jsx(tr,{severity:"warning",children:"No course information available. Please upload and process a syllabus first."});if(i||s==="processing")return f.jsx(tr,{severity:"info",children:f.jsx(ce,{variant:"body2",children:" Processing complete! Preparing course information for review..."})});const h=()=>{d({...n}),l(!0)},g=()=>{c&&(t(c),l(!1),d(null))},b=()=>{l(!1),d(null)},m=()=>{c&&d({...c,objectives:[...c.objectives,"New objective"]})},x=k=>{if(c){const R=c.objectives.filter((q,D)=>D!==k);d({...c,objectives:R})}},y=(k,R)=>{if(c){const q=[...c.objectives];q[k]=R,d({...c,objectives:q})}},A=(k,R,q)=>{if(c){const D=[...c.schedule];D[k]={...D[k],[R]:q},d({...c,schedule:D})}},w=a?c:n;return w?f.jsx(be,{sx:{maxWidth:800,mx:"auto"},children:f.jsxs(On,{sx:{p:3},children:[f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[f.jsx(ce,{variant:"h5",component:"h2",children:"Course Information Preview"}),a?f.jsxs(be,{sx:{display:"flex",gap:1},children:[f.jsx(at,{startIcon:f.jsx(jR,{}),onClick:g,variant:"contained",color:"primary",children:"Save"}),f.jsx(at,{startIcon:f.jsx(cT,{}),onClick:b,variant:"outlined",children:"Cancel"})]}):f.jsx(at,{startIcon:f.jsx(em,{}),onClick:h,variant:"outlined",children:"Edit Details"})]}),r&&f.jsx(tr,{severity:"error",sx:{mb:3},children:r}),f.jsxs(bt,{container:!0,spacing:3,children:[f.jsx(bt,{item:!0,xs:12,md:6,children:f.jsx($t,{fullWidth:!0,label:"Course Number",value:w.suggestedNumber,onChange:k=>a&&c&&d({...c,suggestedNumber:k.target.value}),disabled:!a,variant:a?"outlined":"filled"})}),f.jsx(bt,{item:!0,xs:12,md:6,children:f.jsx($t,{fullWidth:!0,label:"Course Title",value:w.suggestedTitle,onChange:k=>a&&c&&d({...c,suggestedTitle:k.target.value}),disabled:!a,variant:a?"outlined":"filled"})}),f.jsx(bt,{item:!0,xs:12,children:f.jsx($t,{fullWidth:!0,multiline:!0,rows:4,label:"Course Description",value:w.suggestedDescription,onChange:k=>a&&c&&d({...c,suggestedDescription:k.target.value}),disabled:!a,variant:a?"outlined":"filled"})})]}),f.jsx($a,{sx:{my:3}}),f.jsxs(be,{sx:{mb:3},children:[f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[f.jsxs(ce,{variant:"h6",children:["Learning Objectives (",w.objectives.length,")"]}),a&&f.jsx(mn,{onClick:m,color:"primary",children:f.jsx(p0,{})})]}),f.jsx(be,{sx:{display:"flex",flexDirection:"column",gap:2},children:w.objectives.map((k,R)=>f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsxs(ce,{variant:"body2",sx:{minWidth:24,color:"text.secondary"},children:[R+1,"."]}),a?f.jsxs(f.Fragment,{children:[f.jsx($t,{fullWidth:!0,multiline:!0,value:k,onChange:q=>y(R,q.target.value),size:"small"}),f.jsx(mn,{onClick:()=>x(R),color:"error",size:"small",children:f.jsx(Mh,{})})]}):f.jsx(ce,{variant:"body2",children:k})]},R))})]}),f.jsx($a,{sx:{my:3}}),f.jsxs(gu,{children:[f.jsx(bu,{expandIcon:f.jsx(Rl,{}),children:f.jsxs(ce,{variant:"h6",children:["Course Schedule (",w.schedule.length," weeks)"]})}),f.jsx(yu,{children:f.jsx(be,{sx:{display:"flex",flexDirection:"column",gap:2},children:w.schedule.map((k,R)=>f.jsx(On,{sx:{p:2,backgroundColor:"grey.50"},children:f.jsxs(bt,{container:!0,spacing:2,alignItems:"center",children:[f.jsx(bt,{item:!0,xs:12,sm:1,children:f.jsx($n,{label:`W${k.week}`,size:"small",color:"primary"})}),f.jsx(bt,{item:!0,xs:12,sm:5,children:a?f.jsx($t,{fullWidth:!0,size:"small",label:"Topic",value:k.topic,onChange:q=>A(R,"topic",q.target.value)}):f.jsx(ce,{variant:"body2",sx:{fontWeight:500},children:k.topic})}),f.jsx(bt,{item:!0,xs:12,sm:6,children:a?f.jsx($t,{fullWidth:!0,size:"small",label:"Description",value:k.description||"",onChange:q=>A(R,"description",q.target.value)}):f.jsx(ce,{variant:"body2",color:"text.secondary",children:k.description||"No description"})})]})},R))})})]}),(((C=w.prerequisites)==null?void 0:C.length)||w.textbook||w.grading)&&f.jsxs(f.Fragment,{children:[f.jsx($a,{sx:{my:3}}),f.jsx(ce,{variant:"h6",sx:{mb:2},children:"Additional Information"}),f.jsxs(bt,{container:!0,spacing:2,children:[w.prerequisites&&w.prerequisites.length>0&&f.jsxs(bt,{item:!0,xs:12,md:4,children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:"Prerequisites:"}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:w.prerequisites.join(", ")})]}),w.textbook&&f.jsxs(bt,{item:!0,xs:12,md:4,children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:"Textbook:"}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:w.textbook})]}),w.grading&&f.jsxs(bt,{item:!0,xs:12,md:4,children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:"Grading:"}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:w.grading})]})]})]}),e&&f.jsx(be,{sx:{mt:4,textAlign:"right"},children:f.jsx(at,{variant:"contained",color:"primary",size:"large",onClick:e,disabled:a,children:"Continue to Materials Preview"})})]})}):null},rZ=({onContinue:e,onBack:n})=>{const{generatedMaterials:t,editMaterial:r,error:i}=yp(),[s,a]=K.useState(null),[l,c]=K.useState(null);if(!t.length)return f.jsx(tr,{severity:"warning",children:"No materials generated. Please go back and process a syllabus first."});const d=w=>{a({index:w,material:{...t[w]}})},h=()=>{s&&(r(s.index,s.material),a(null))},g=()=>{a(null)},b=w=>{c(w)},m=w=>{const C=t[w];r(w,{published:!C.published})},x=(w,C=150)=>{const k=w.replace(/<[^>]*>/g,"");return k.length>C?k.substring(0,C)+"...":k},y=w=>w.toLowerCase().includes("overview")?f.jsx(Zh,{color:"primary"}):w.toLowerCase().includes("week")?f.jsx(k6,{color:"secondary"}):f.jsx(Zh,{color:"action"}),A=t.filter(w=>w.published).length;return f.jsxs(be,{sx:{maxWidth:1e3,mx:"auto"},children:[f.jsxs(On,{sx:{p:3,mb:3},children:[f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[f.jsx(ce,{variant:"h5",component:"h2",children:"Generated Course Materials"}),f.jsx($n,{label:`${A}/${t.length} will be published`,color:"primary",variant:"outlined"})]}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:"Review and customize the course materials generated from your syllabus. You can edit content, toggle publication status, and organize materials before creating your course."}),i&&f.jsx(tr,{severity:"error",sx:{mt:2},children:i})]}),f.jsx(bt,{container:!0,spacing:3,children:t.map((w,C)=>f.jsx(bt,{item:!0,xs:12,md:6,lg:4,children:f.jsxs(lo,{sx:{height:"100%",display:"flex",flexDirection:"column",border:w.published?"2px solid":"1px solid",borderColor:w.published?"success.main":"divider"},children:[f.jsxs(Jo,{sx:{flexGrow:1},children:[f.jsxs(be,{sx:{display:"flex",alignItems:"flex-start",gap:1,mb:2},children:[y(w.title),f.jsxs(be,{sx:{flexGrow:1},children:[f.jsx(ce,{variant:"h6",component:"h3",sx:{fontSize:"1rem",lineHeight:1.3,mb:1},children:w.title}),f.jsxs(be,{sx:{display:"flex",gap:1,alignItems:"center"},children:[f.jsx(wd,{control:f.jsx(Sd,{checked:w.published,onChange:()=>m(C),size:"small"}),label:f.jsx(ce,{variant:"caption",children:w.published?"Publish":"Draft"}),sx:{mr:0}}),w.scheduledTimestamp&&f.jsx($n,{label:"Scheduled",size:"small",variant:"outlined",color:"info"})]})]})]}),f.jsxs(ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[f.jsx("strong",{children:"Sections:"})," ",w.sections.length]}),w.sections[0]&&f.jsxs(be,{sx:{mb:2},children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:w.sections[0].title}),f.jsx(ce,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.85rem",fontStyle:"italic"},children:x(w.sections[0].content)})]})]}),f.jsxs(TR,{children:[f.jsx(at,{size:"small",startIcon:f.jsx(_6,{}),onClick:()=>b(w),children:"Preview"}),f.jsx(at,{size:"small",startIcon:f.jsx(em,{}),onClick:()=>d(C),children:"Edit"})]})]})},w.id))}),f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[n&&f.jsx(at,{variant:"outlined",onClick:n,size:"large",children:"Back to Course Info"}),e&&f.jsxs(at,{variant:"contained",color:"primary",onClick:e,size:"large",disabled:A===0,children:["Create Course with ",A," Materials"]})]}),f.jsxs(Yi,{open:s!==null,onClose:g,maxWidth:"md",fullWidth:!0,children:[f.jsxs(us,{children:["Edit Material: ",s==null?void 0:s.material.title]}),f.jsx(Gi,{children:s&&f.jsxs(be,{sx:{pt:1},children:[f.jsx($t,{fullWidth:!0,label:"Material Title",value:s.material.title,onChange:w=>a({...s,material:{...s.material,title:w.target.value}}),sx:{mb:3}}),f.jsx(ce,{variant:"h6",sx:{mb:2},children:"Header"}),f.jsx($t,{fullWidth:!0,label:"Header Title",value:s.material.header.title,onChange:w=>a({...s,material:{...s.material,header:{...s.material.header,title:w.target.value}}}),sx:{mb:2}}),f.jsx($t,{fullWidth:!0,multiline:!0,rows:2,label:"Header Content",value:s.material.header.content,onChange:w=>a({...s,material:{...s.material,header:{...s.material.header,content:w.target.value}}}),sx:{mb:3}}),f.jsx(ce,{variant:"h6",sx:{mb:2},children:"Sections"}),s.material.sections.map((w,C)=>f.jsxs(gu,{sx:{mb:2},children:[f.jsx(bu,{expandIcon:f.jsx(Rl,{}),children:f.jsx(ce,{children:w.title})}),f.jsxs(yu,{children:[f.jsx($t,{fullWidth:!0,label:"Section Title",value:w.title,onChange:k=>{const R=[...s.material.sections];R[C]={...R[C],title:k.target.value},a({...s,material:{...s.material,sections:R}})},sx:{mb:2}}),f.jsx($t,{fullWidth:!0,multiline:!0,rows:4,label:"Section Content",value:w.content,onChange:k=>{const R=[...s.material.sections];R[C]={...R[C],content:k.target.value},a({...s,material:{...s.material,sections:R}})}})]})]},w.id))]})}),f.jsxs(cs,{children:[f.jsx(at,{onClick:g,children:"Cancel"}),f.jsx(at,{onClick:h,variant:"contained",children:"Save Changes"})]})]}),f.jsxs(Yi,{open:l!==null,onClose:()=>c(null),maxWidth:"md",fullWidth:!0,children:[f.jsx(us,{children:l==null?void 0:l.title}),f.jsx(Gi,{children:l&&f.jsxs(be,{sx:{pt:1},children:[f.jsxs(On,{sx:{p:2,mb:3,backgroundColor:"primary.50"},children:[f.jsx(ce,{variant:"h6",color:"primary",children:l.header.title}),f.jsx(ce,{variant:"body2",sx:{mt:1},children:l.header.content.replace(/<[^>]*>/g,"")})]}),l.sections.map(w=>f.jsxs(be,{sx:{mb:3},children:[f.jsx(ce,{variant:"h6",sx:{mb:2},children:w.title}),f.jsx(ce,{variant:"body1",sx:{mb:2},children:w.content.replace(/<[^>]*>/g,"")}),w.subsections.map(C=>f.jsxs(be,{sx:{ml:2,mb:2},children:[f.jsx(ce,{variant:"subtitle1",sx:{mb:1},children:C.title}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:C.content.replace(/<[^>]*>/g,"")})]},C.id))]},w.id)),f.jsx(On,{sx:{p:2,backgroundColor:"grey.50"},children:f.jsx(ce,{variant:"body2",color:"text.secondary",children:l.footer.content.replace(/<[^>]*>/g,"")})})]})}),f.jsx(cs,{children:f.jsx(at,{onClick:()=>c(null),children:"Close"})})]})]})},iZ=({onConfigChange:e,compact:n=!1})=>{const{useAIProcessing:t,setUseAIProcessing:r}=yp(),[i,s]=K.useState(null);K.useEffect(()=>{const{config:h,isValid:g,errors:b}=II();s({config:h,isValid:g,errors:b})},[]);const a=h=>{if(r(h),i){const g={...i.config,enableAIProcessing:h},b=OI(g);s({config:g,...b}),e==null||e(g)}},l=()=>i?i.isValid&&t?f.jsx(Bg,{color:"success"}):!i.isValid&&t?f.jsx(IR,{color:"error"}):f.jsx(VE,{color:"action"}):f.jsx(VE,{color:"action"}),c=()=>t?i?i.isValid?"AI processing ready - enhanced syllabus analysis enabled":`Configuration issues: ${i.errors.join(", ")}`:"Loading configuration...":"AI processing disabled - using pattern-based parsing",d=()=>t?i?i.isValid?"success":"error":"info":"warning";return n?f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:2},children:[l(),f.jsx(wd,{control:f.jsx(Sd,{checked:t,onChange:h=>a(h.target.checked),size:"small"}),label:"AI Processing"}),f.jsx(na,{title:c(),children:f.jsx(OR,{fontSize:"small",color:"action"})})]}):f.jsx(On,{sx:{p:2,mb:2},children:f.jsxs(gu,{children:[f.jsx(bu,{expandIcon:f.jsx(Rl,{}),children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[l(),f.jsxs(be,{sx:{flexGrow:1},children:[f.jsx(ce,{variant:"subtitle1",sx:{fontWeight:500},children:"AI-Powered Processing Settings"}),f.jsx(ce,{variant:"caption",color:"text.secondary",children:c()})]}),f.jsx($n,{label:t?"Enabled":"Disabled",color:t?"success":"default",size:"small"})]})}),f.jsx(yu,{children:f.jsxs(bt,{container:!0,spacing:3,children:[f.jsx(bt,{item:!0,xs:12,children:f.jsx(wd,{control:f.jsx(Sd,{checked:t,onChange:h=>a(h.target.checked)}),label:f.jsxs(be,{children:[f.jsx(ce,{variant:"body2",sx:{fontWeight:500},children:"Enable AI-Powered Analysis"}),f.jsx(ce,{variant:"caption",color:"text.secondary",children:"Use Google Gemini to extract structured information from syllabi"})]})})}),t&&f.jsx(bt,{item:!0,xs:12,children:f.jsxs(On,{sx:{p:2,backgroundColor:i!=null&&i.isValid?"success.50":"error.50",border:"1px solid",borderColor:i!=null&&i.isValid?"success.200":"error.200"},children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1,color:i!=null&&i.isValid?"success.main":"error.main"},children:i!=null&&i.isValid?" API Configuration":" API Configuration"}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:i!=null&&i.isValid?"Gemini API key is configured and ready for use.":"Gemini API key is required. Please add VITE_GEMINI_API_KEY to your environment variables."})]})}),f.jsx(bt,{item:!0,xs:12,children:f.jsxs(tr,{severity:d(),sx:{mb:2},children:[f.jsx(ce,{variant:"body2",children:c()}),(i==null?void 0:i.errors)&&i.errors.length>0&&f.jsx(be,{sx:{mt:1},children:i.errors.map((h,g)=>f.jsxs(ce,{variant:"caption",display:"block",children:[" ",h]},g))})]})}),t&&(i==null?void 0:i.isValid)&&f.jsx(bt,{item:!0,xs:12,children:f.jsxs(On,{sx:{p:2,backgroundColor:"primary.50",border:"1px solid",borderColor:"primary.200"},children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1,color:"primary.main"},children:" Enhanced Features with AI:"}),f.jsxs(bt,{container:!0,spacing:1,children:[f.jsxs(bt,{item:!0,xs:12,sm:6,children:[f.jsx(ce,{variant:"caption",display:"block",children:" Intelligent course information extraction"}),f.jsx(ce,{variant:"caption",display:"block",children:" Automatic learning objectives identification"}),f.jsx(ce,{variant:"caption",display:"block",children:" Smart schedule parsing and organization"})]}),f.jsxs(bt,{item:!0,xs:12,sm:6,children:[f.jsx(ce,{variant:"caption",display:"block",children:" Grading policy analysis"}),f.jsx(ce,{variant:"caption",display:"block",children:" Assignment and due date extraction"}),f.jsx(ce,{variant:"caption",display:"block",children:" Enhanced material generation"})]})]})]})}),!t&&f.jsx(bt,{item:!0,xs:12,children:f.jsxs(On,{sx:{p:2,backgroundColor:"warning.50",border:"1px solid",borderColor:"warning.200"},children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1,color:"warning.main"},children:" Pattern-Based Processing:"}),f.jsx(ce,{variant:"caption",color:"text.secondary",children:"Using traditional text parsing methods. Results may be less accurate than AI processing. Enable AI processing for better extraction accuracy."})]})})]})})]})})},DI=({onComplete:e,onCancel:n,educatorUid:t})=>{const{currentStep:r,setCurrentStep:i,parsedCourseInfo:s,generatedMaterials:a,isProcessing:l,error:c,useAIProcessing:d,processingProgress:h,reset:g}=yp(),[b,m]=K.useState(null);tt.useEffect(()=>{const{config:D}=II();m(D)},[]);const x=[{label:"Upload Syllabus",description:"Upload your syllabus document"},{label:"Review Course Info",description:"Verify and edit course information"},{label:"Review Materials",description:"Customize generated course materials"}],y=()=>{switch(r){case"upload":case"processing":return 0;case"review":return 1;case"editing":return 2;case"complete":return 2;default:return 0}},A=()=>{i("editing")},w=()=>{i("review")},C=()=>{if(s&&a.length>0){const D=a.filter(N=>N.published);e==null||e({courseInfo:s,materials:D})}},k=()=>{g(),n==null||n()},R=D=>{m(D)},q=()=>{switch(r){case"upload":case"processing":return f.jsx(vk,{onUploadComplete:()=>{},educatorUid:t});case"review":return f.jsx(nZ,{onContinue:A});case"editing":case"complete":return f.jsx(rZ,{onContinue:C,onBack:w});default:return f.jsx(vk,{onUploadComplete:()=>{},educatorUid:t})}};return f.jsxs(be,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:3},children:[f.jsxs(On,{sx:{p:3,mb:4},children:[f.jsx(ce,{variant:"h4",component:"h1",gutterBottom:!0,children:"Import Course from Syllabus"}),f.jsx(ce,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Upload your syllabus document and we'll automatically create a course structure with organized materials based on your content."}),f.jsx(DR,{activeStep:y(),alternativeLabel:!0,children:x.map(D=>f.jsx(LR,{children:f.jsxs(RR,{children:[f.jsx(ce,{variant:"body2",sx:{fontWeight:500},children:D.label}),f.jsx(ce,{variant:"caption",color:"text.secondary",children:D.description})]})},D.label))})]}),r==="upload"&&f.jsx(iZ,{onConfigChange:R,compact:!1}),c&&f.jsx(tr,{severity:"error",sx:{mb:3},onClose:()=>{},children:c}),l&&f.jsx(tr,{severity:"info",sx:{mb:3},children:f.jsx(ce,{variant:"body2",children:d?" AI is analyzing your syllabus for enhanced data extraction... This usually takes 10-30 seconds.":" Processing your syllabus with pattern-based analysis... This usually takes a moment."})}),f.jsx(be,{sx:{minHeight:400},children:q()}),r!=="upload"&&n&&f.jsx(be,{sx:{display:"flex",justifyContent:"center",mt:3},children:f.jsx(at,{variant:"outlined",color:"secondary",onClick:k,size:"small",children:"Cancel & Return to Manual Entry"})})]})},Jx=e=>{if(e==null)return null;if(e instanceof Date)return e;if(Array.isArray(e))return e.map(Jx).filter(n=>n!=null);if(typeof e=="object"){const n={};return Object.keys(e).forEach(t=>{const r=e[t];if(r!==void 0){const i=Jx(r);i!=null&&(n[t]=i)}}),n}return e},sZ=()=>{const{userDetails:e}=Ii(),n=Ai(),t=Xn(),[r,i]=K.useState(""),[s,a]=K.useState(""),[l,c]=K.useState(""),[d,h]=K.useState(""),[g,b]=K.useState(""),[m,x]=K.useState(""),[y,A]=K.useState(""),[w,C]=K.useState("primary"),[k,R]=K.useState("manual"),{parsedCourseInfo:q,generatedMaterials:D,reset:N,currentStep:P}=yp(),[z,X]=K.useState(!1),[j,O]=K.useState(!1),[M,T]=K.useState("");K.useEffect(()=>{(k==="manual"||w==="co-instructor")&&N()},[k,w,N]),K.useEffect(()=>{w==="primary"&&k==="syllabus"&&q&&(b(q.suggestedNumber||""),x(q.suggestedTitle||""),A(q.suggestedDescription||""))},[w,k,q]);const Q=J=>ne=>{J(ne.target.value)},H=J=>{const ne=J.target.value;C(ne),ne==="co-instructor"&&(R("manual"),b(""),x(""),A(""))},Y=(J,ne)=>{ne!==null&&(R(ne),ne==="syllabus"&&(b(""),x(""),A("")))},Z=()=>{if(!r||!s||!l||!d||!g||!m)return"Please fill in all required fields.";if(w==="primary"){if(k==="manual"&&!y)return"Please provide a course description.";if(k==="syllabus"){if(!q)return"Please complete the syllabus import process first.";if(!y)return"Please ensure course description is properly filled from your syllabus."}}return null},ae=J=>{console.log("Syllabus import completed for educator request:",J)},G=async()=>{const J=Z();if(J){T(J),O(!0);return}X(!0);try{const ne={uid:(e==null?void 0:e.uid)||"",firstName:r||"",lastName:s||"",institution:l||"",email:d||"",courseNumber:g||"",courseTitle:m||"",courseDescription:w==="primary"?y||"":"CO-INSTRUCTOR REQUEST",requestType:w||"primary",status:"pending",timestamp:new Date,syllabusImported:!1};if(w==="primary"&&k==="syllabus"&&q&&D.length>0){const Ne={parsedCourseInfo:q,generatedMaterials:D.filter(qe=>qe.published)},Te=Jx(Ne);ne.syllabusImported=!0,ne.syllabusData=Te}const xe=Jx(ne);console.log("Submitting clean educator request document:",xe);const ye=await ra(Sn(t,"educatorRequests"),xe),Ae={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Educator Request Submitted${w==="primary"&&k==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new educator request has been submitted:</p>
            <p><strong>Name:</strong> ${r} ${s}</p>
            <p><strong>Email:</strong> ${d}</p>
            <p><strong>Institution:</strong> ${l}</p>
            <p><strong>Course:</strong> ${g} - ${m}</p>
            <p><strong>Request Type:</strong> ${w}</p>
            ${w==="primary"?`<p><strong>Course Creation Method:</strong> ${k==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>`:""}
            ${w==="primary"&&k==="syllabus"&&D.length>0?`<p><strong>Generated Materials:</strong> ${D.filter(Ne=>Ne.published).length} materials ready for publication</p>`:""}
            <p><strong>Description:</strong> ${y}</p>
            <p><strong>Request ID:</strong> ${ye.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/educator-requests">
            Click here to review the request.
            </a></p>
          `}};await ra(Sn(t,"mail"),Ae),T(w==="primary"&&k==="syllabus"&&D.length>0?`Your educator request has been submitted for review with ${D.filter(Ne=>Ne.published).length} auto-generated course materials.`:"Your request has been submitted for review."),i(""),a(""),c(""),h(""),b(""),x(""),A(""),C("primary"),R("manual"),k==="syllabus"&&N(),O(!0),setTimeout(()=>{n("/my-profile")},3e3)}catch(ne){console.error("Error submitting request: ",ne),ne instanceof Error&&console.error("Error details:",{message:ne.message,name:ne.name,stack:ne.stack}),T("Error submitting your request. Please try again."),O(!0)}finally{X(!1)}},le=()=>{O(!1)},U=()=>{n("/my-profile")},B=w==="primary"&&k==="syllabus"&&P!=="upload"&&!q,ie=w==="primary"&&k==="syllabus"&&(P==="review"||P==="editing"||P==="complete")&&q;return f.jsxs(be,{className:"request-form-container",sx:{padding:3,maxWidth:"1400px",mx:"auto"},children:[f.jsx(be,{sx:{display:"flex",alignItems:"center",mb:3},children:f.jsx(at,{variant:"text",onClick:U,className:"back-home-button",children:" My Account"})}),f.jsxs(be,{className:"request-form-outline",sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:4,border:"1px solid #e3f2fd",minWidth:"100%"},children:[f.jsx(ce,{variant:"h5",component:"h1",className:"request-form-title",sx:{mb:3},children:"Request Educator Permissions"}),f.jsxs(bt,{item:!0,xs:12,sx:{mb:3},children:[f.jsx(hu,{htmlFor:"request-type",required:!0,children:"Request Type"}),f.jsxs(Fl,{id:"request-type",name:"request-type",value:w,onChange:H,fullWidth:!0,required:!0,disabled:z,sx:{mt:1},children:[f.jsx(ur,{value:"primary",children:"I am a primary course instructor, I want to create a new course"}),f.jsx(ur,{value:"co-instructor",children:"I am a co-instructor, I want to be added to an existing course"})]})]}),f.jsx(ce,{variant:"h6",component:"h2",sx:{mb:2},children:"Personal Information"}),f.jsxs(bt,{container:!0,spacing:3,children:[f.jsxs(bt,{item:!0,xs:12,md:6,children:[f.jsx(hu,{htmlFor:"first-name",required:!0,children:"First Name"}),f.jsx(pc,{id:"first-name",name:"first-name",value:r,onChange:Q(i),placeholder:"John",fullWidth:!0,required:!0,disabled:z})]}),f.jsxs(bt,{item:!0,xs:12,md:6,children:[f.jsx(hu,{htmlFor:"last-name",required:!0,children:"Last Name"}),f.jsx(pc,{id:"last-name",name:"last-name",value:s,onChange:Q(a),placeholder:"Doe",fullWidth:!0,required:!0,disabled:z})]}),f.jsxs(bt,{item:!0,xs:12,children:[f.jsx(hu,{htmlFor:"institution",required:!0,children:"Institution Affiliation"}),f.jsx(pc,{id:"institution",name:"institution",value:l,onChange:Q(c),placeholder:"University Name",fullWidth:!0,required:!0,disabled:z})]}),f.jsxs(bt,{item:!0,xs:12,children:[f.jsx(hu,{htmlFor:"email",required:!0,children:"Institutional Email"}),f.jsx(pc,{id:"email",name:"email",value:d,onChange:Q(h),placeholder:"name@institution.edu",fullWidth:!0,required:!0,disabled:z}),f.jsx(ce,{variant:"caption",sx:{mt:1},children:"Please use your institutional email to confirm your affiliation."})]})]}),f.jsx($a,{sx:{my:4}}),f.jsx(ce,{variant:"h6",component:"h2",sx:{mb:2},children:w==="primary"?"New Course Details":"Existing Course Details"}),w==="primary"&&f.jsxs(On,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[f.jsx(ce,{variant:"subtitle1",sx:{mb:2},children:"How would you like to create your course?"}),f.jsxs(E6,{value:k,exclusive:!0,onChange:Y,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[f.jsxs(z0,{value:"manual","aria-label":"manual entry",children:[f.jsx(em,{sx:{mr:1}}),"Manual Entry"]}),f.jsxs(z0,{value:"syllabus","aria-label":"syllabus import",children:[f.jsx(dT,{sx:{mr:1}}),"Import from Syllabus"]})]}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:k==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),w==="primary"&&k==="syllabus"&&f.jsx(be,{sx:{mb:4},children:f.jsx(DI,{onComplete:ae,onCancel:()=>R("manual")})}),(w==="co-instructor"||w==="primary"&&k==="manual")&&f.jsxs(bt,{container:!0,spacing:3,sx:{mb:4},children:[f.jsxs(bt,{item:!0,xs:12,md:6,children:[f.jsx(hu,{htmlFor:"course-number",required:!0,children:"Course Number"}),f.jsx(pc,{id:"course-number",name:"course-number",value:g,onChange:Q(b),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:z})]}),f.jsxs(bt,{item:!0,xs:12,md:6,children:[f.jsx(hu,{htmlFor:"course-title",required:!0,children:"Course Title"}),f.jsx(pc,{id:"course-title",name:"course-title",value:m,onChange:Q(x),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:z})]}),w==="primary"&&f.jsxs(bt,{item:!0,xs:12,children:[f.jsx(hu,{htmlFor:"course-description",required:!0,children:"Course Description"}),f.jsx(pc,{id:"course-description",name:"course-description",value:y,onChange:Q(A),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:z})]})]}),(w==="co-instructor"||w==="primary"&&k==="manual"||ie)&&f.jsxs(be,{sx:{mt:4},children:[f.jsx(at,{variant:"contained",color:"primary",onClick:G,fullWidth:!0,className:"submit-button",sx:{py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},disabled:z||B,children:z?f.jsxs(f.Fragment,{children:[f.jsx(Pr,{size:24,color:"inherit",sx:{mr:1}}),"Submitting Request..."]}):`Submit Request${w==="primary"&&k==="syllabus"&&D.length>0?` with ${D.filter(J=>J.published).length} Materials`:""}`}),f.jsxs(ce,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",f.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})]}),f.jsxs(Yi,{open:j,onClose:le,children:[f.jsx(us,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx(Bg,{sx:{color:"green",fontSize:50,marginRight:1}})}),f.jsx(Gi,{children:f.jsx(Oo,{sx:{textAlign:"center"},children:M})}),f.jsx(cs,{children:f.jsx(at,{onClick:le,color:"primary",autoFocus:!0,children:"Close"})})]})]})]})},aZ=()=>{const[e,n]=K.useState([]),[t,r]=K.useState([]),[i,s]=K.useState(""),[a,l]=K.useState(!1),[c,d]=K.useState(""),[h,g]=K.useState("success"),[b,m]=K.useState(!1),[x,y]=K.useState(null),[A,w]=K.useState(null),[C,k]=K.useState(null),R=Xn(),q=Ai();K.useEffect(()=>{(async()=>{const Q=(await Si(Sn(R,"educatorRequests"))).docs.map(Z=>({id:Z.id,...Z.data()})),Y=(await Si(Sn(R,"courses"))).docs.map(Z=>({id:Z.id,...Z.data()}));n(Q),r(Y)})()},[R]);function D(){const M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let T="";for(let Q=0;Q<28;Q++)T+=M.charAt(Math.floor(Math.random()*M.length));return T}const N=async()=>{var M,T;if(!(!A||!C)){if(!C.courseNumber||!C.courseTitle){d("Course number or title is missing. Cannot approve request."),g("error"),l(!0);return}if(C.requestType==="co-instructor"&&!i){d("Please select a course for the co-instructor request."),g("error"),l(!0);return}if(C.status!=="pending"){d("This request has already been processed."),g("warning"),l(!0);return}try{const Q=fn(R,"users",C.uid);if(C.requestType==="primary"){const H=D(),Y=await ra(Sn(R,"courses"),{number:C.courseNumber,title:C.courseTitle,passcode:H,courseAdmin:[C.uid]}),Z=await xa(Q),ae=Z.exists()?((M=Z.data())==null?void 0:M.classes)||{}:{};await Rr(Q,{isAdmin:!0,classes:{...ae,[Y.id]:{number:C.courseNumber,title:C.courseTitle,isCourseAdmin:!0}}}),await Rr(fn(R,"educatorRequests",A),{status:"approved",courseId:Y.id,passcode:H})}else if(C.requestType==="co-instructor"){if(!i){d("Please select a course for the co-instructor request."),g("error"),l(!0);return}const H=fn(R,"courses",i);await Rr(H,{courseAdmin:h3(C.uid)});const Y=await xa(Q),Z=Y.exists()?((T=Y.data())==null?void 0:T.classes)||{}:{};await Rr(Q,{isAdmin:!0,classes:{...Z,[i]:{number:C.courseNumber,title:C.courseTitle,isCourseAdmin:!0}}}),await Rr(fn(R,"educatorRequests",A),{status:"approved",courseId:i})}d("Request approved, and user promoted to educator."),g("success"),n(H=>H.map(Y=>Y.id===A?{...Y,status:"approved"}:Y))}catch(Q){console.error("Error approving request: ",Q),d("Error approving the request. Please try again."),g("error")}l(!0),X()}},P=async()=>{if(A){try{await Rr(fn(R,"educatorRequests",A),{status:"denied"}),d("Request denied."),g("success"),n(e.map(M=>M.id===A?{...M,status:"denied"}:M))}catch(M){console.error("Error denying request: ",M),d("Error denying the request. Please try again."),g("error")}l(!0),X()}},z=(M,T,Q)=>{y(M),w(T),k(Q),s(""),m(!0)},X=()=>{m(!1),y(null),w(null),k(null)},j=()=>{l(!1)},O=()=>{q("/")};return f.jsxs(be,{sx:{padding:3},children:[f.jsx(be,{sx:{display:"flex",alignItems:"center"},children:f.jsx(at,{variant:"text",onClick:O,sx:{mr:2},children:" Home Page"})}),f.jsx(ce,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:3},children:"Educator Permission Requests"}),f.jsx(_u,{component:On,children:f.jsxs(ku,{children:[f.jsx(Nu,{children:f.jsxs(Qi,{children:[f.jsx(ct,{children:"Name"}),f.jsx(ct,{children:"User ID"}),f.jsx(ct,{children:"Institution"}),f.jsx(ct,{children:"Email"}),f.jsx(ct,{children:"Course Number"}),f.jsx(ct,{children:"Course Title"}),f.jsx(ct,{children:"Course Description"}),f.jsx(ct,{children:"Timestamp"}),f.jsx(ct,{children:"Actions"})]})}),f.jsx(ju,{children:e.map(M=>f.jsxs(Qi,{children:[f.jsx(ct,{children:`${M.firstName} ${M.lastName}`}),f.jsx(ct,{children:M.uid}),f.jsx(ct,{children:M.institution}),f.jsx(ct,{children:M.email}),f.jsx(ct,{children:M.courseNumber}),f.jsx(ct,{children:M.courseTitle}),f.jsx(ct,{children:M.courseDescription}),f.jsx(ct,{children:new Date(M.timestamp.seconds*1e3).toLocaleString()}),f.jsxs(ct,{children:[M.status==="pending"&&f.jsxs(f.Fragment,{children:[f.jsx(at,{variant:"contained",color:"primary",sx:{mr:1},onClick:()=>z("approve",M.id,M),children:"Approve"}),f.jsx(at,{variant:"contained",color:"secondary",onClick:()=>z("deny",M.id,M),children:"Deny"})]}),M.status==="approved"&&f.jsx(ce,{color:"success.main",children:"Approved"}),M.status==="denied"&&f.jsx(ce,{color:"error.main",children:"Denied"})]})]},M.id))})]})}),f.jsx(fo,{open:a,autoHideDuration:6e3,onClose:j,children:f.jsx(tr,{onClose:j,severity:h,sx:{width:"100%"},children:c})}),f.jsxs(Yi,{open:b,onClose:X,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",children:[f.jsx(us,{id:"confirmation-dialog-title",children:x==="approve"?"Confirm Approval":"Confirm Denial"}),f.jsxs(Gi,{children:[f.jsxs(Oo,{id:"confirmation-dialog-description",children:["Are you sure you want to ",x," this request for ",C==null?void 0:C.firstName," ",C==null?void 0:C.lastName,"?"]}),x==="approve"&&(C==null?void 0:C.requestType)==="co-instructor"&&f.jsxs(be,{sx:{mt:2},children:[f.jsx(ce,{children:"Select Course:"}),f.jsx(Fl,{fullWidth:!0,value:i,onChange:M=>s(M.target.value),children:t.map(M=>f.jsx(ur,{value:M.id,children:`${M.number} - ${M.title}`},M.id))})]})]}),f.jsxs(cs,{children:[f.jsx(at,{onClick:X,color:"primary",children:"Cancel"}),f.jsx(at,{onClick:x==="approve"?N:P,color:"primary",variant:"contained",autoFocus:!0,disabled:(C==null?void 0:C.requestType)==="co-instructor"&&!i,children:"Confirm"})]})]})]})},ev=e=>{if(e==null)return null;if(e instanceof Date)return e;if(Array.isArray(e))return e.map(ev).filter(n=>n!=null);if(typeof e=="object"){const n={};return Object.keys(e).forEach(t=>{const r=e[t];if(r!==void 0){const i=ev(r);i!=null&&(n[t]=i)}}),n}return e},oZ=()=>{const{userDetails:e}=Ii(),n=Ai(),t=Xn(),[r,i]=K.useState("manual"),[s,a]=K.useState(""),[l,c]=K.useState(""),[d,h]=K.useState(""),{parsedCourseInfo:g,generatedMaterials:b,aiExtractedInfo:m,storedSyllabusFile:x,reset:y,currentStep:A}=yp(),[w,C]=K.useState(!1),[k,R]=K.useState(!1),[q,D]=K.useState("");K.useEffect(()=>{r==="manual"&&y()},[r,y]),K.useEffect(()=>{r==="syllabus"&&g&&(a(g.suggestedNumber||""),c(g.suggestedTitle||""),h(g.suggestedDescription||""))},[r,g]);const N=H=>Y=>{H(Y.target.value)},P=(H,Y)=>{Y!==null&&(i(Y),Y==="syllabus"&&(a(""),c(""),h("")))},z=()=>{if(r==="manual"){if(!s||!l||!d)return"Please fill in all required fields."}else if(r==="syllabus"){if(!g)return"Please complete the syllabus import process first.";if(!s||!l||!d)return"Please ensure course information is properly filled from your syllabus."}return null},X=H=>{console.log("Syllabus import completed:",H),j()},j=async()=>{const H=z();if(H){D(H),R(!0);return}C(!0);try{const Y={uid:(e==null?void 0:e.uid)||"",courseNumber:s||"",courseTitle:l||"",courseDescription:d||"",status:"pending",timestamp:new Date,syllabusImported:!1};if(r==="syllabus"&&g&&b.length>0){const le={parsedCourseInfo:g,generatedMaterials:b.filter(B=>B.published),additionalInfo:m?{contactInfo:m.contactInfo,policies:m.policies,additionalResources:m.additionalResources,labSpecific:m.labSpecific,textbooks:m.textbooks,gradingPolicy:m.gradingPolicy,assignments:m.assignments,prerequisites:m.prerequisites}:null,syllabusFile:x?{url:x.url,path:x.path,metadata:x.metadata}:null},U=ev(le);Y.syllabusImported=!0,Y.syllabusData=U}const Z=ev(Y);console.log("Submitting clean request document:",Z);const ae=await ra(Sn(t,"courseRequests"),Z),G={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Course Request Submitted${r==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new course request has been submitted:</p>
            <p><strong>Educator ID:</strong> ${(e==null?void 0:e.uid)||"Unknown"}</p>
            <p><strong>Course:</strong> ${s} - ${l}</p>
            <p><strong>Description:</strong> ${d}</p>
            <p><strong>Creation Method:</strong> ${r==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>
            ${r==="syllabus"&&b.length>0?`<p><strong>Generated Materials:</strong> ${b.filter(le=>le.published).length} materials ready for publication</p>`:""}
            <p><strong>Request ID:</strong> ${ae.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/course-requests">
            Click here to review the request.
            </a></p>
          `}};await ra(Sn(t,"mail"),G),D(r==="syllabus"?`Your course request has been submitted for review with ${b.filter(le=>le.published).length} auto-generated materials.`:"Your course request has been submitted for review."),a(""),c(""),h(""),r==="syllabus"&&y(),R(!0),setTimeout(()=>{n("/course-management")},3e3)}catch(Y){console.error("Error submitting course request: ",Y),Y instanceof Error&&console.error("Error details:",{message:Y.message,name:Y.name,stack:Y.stack}),D("Error submitting your course request. Please try again."),R(!0)}finally{C(!1)}},O=()=>{R(!1)},M=()=>{n("/course-management")},T=r==="syllabus"&&A!=="upload"&&!g,Q=r==="syllabus"&&(A==="review"||A==="editing"||A==="complete")&&g;return f.jsxs(be,{className:"request-form-container",sx:{padding:3,maxWidth:"1400px",mx:"auto"},children:[f.jsx(be,{sx:{display:"flex",alignItems:"center",mb:3},children:f.jsx(at,{variant:"text",onClick:M,className:"back-home-button",children:" Course Management"})}),f.jsxs(be,{className:"request-form-outline",sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:4,border:"1px solid #e3f2fd",minWidth:"100%"},children:[f.jsx(ce,{variant:"h5",component:"h1",className:"request-form-title",sx:{mb:3},children:"Request Creating a New Course"}),f.jsxs(On,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[f.jsx(ce,{variant:"h6",sx:{mb:2},children:"How would you like to create your course?"}),f.jsxs(E6,{value:r,exclusive:!0,onChange:P,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[f.jsxs(z0,{value:"manual","aria-label":"manual entry",children:[f.jsx(em,{sx:{mr:1}}),"Manual Entry"]}),f.jsxs(z0,{value:"syllabus","aria-label":"syllabus import",children:[f.jsx(dT,{sx:{mr:1}}),"Import from Syllabus"]})]}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:r==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),r==="syllabus"&&f.jsx(be,{sx:{mb:4},children:f.jsx(DI,{onComplete:X,onCancel:()=>i("manual"),educatorUid:e==null?void 0:e.uid})}),r==="manual"&&f.jsxs(bt,{container:!0,spacing:3,children:[f.jsxs(bt,{item:!0,xs:12,md:6,children:[f.jsx(hu,{htmlFor:"course-number",required:!0,children:"Course Number"}),f.jsx(pc,{id:"course-number",name:"course-number",value:s,onChange:N(a),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:w})]}),f.jsxs(bt,{item:!0,xs:12,md:6,children:[f.jsx(hu,{htmlFor:"course-title",required:!0,children:"Course Title"}),f.jsx(pc,{id:"course-title",name:"course-title",value:l,onChange:N(c),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:w})]}),f.jsxs(bt,{item:!0,xs:12,children:[f.jsx(hu,{htmlFor:"course-description",required:!0,children:"Course Description"}),f.jsx(pc,{id:"course-description",name:"course-description",value:d,onChange:N(h),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:w})]})]}),(r==="manual"||Q)&&f.jsxs(be,{sx:{mt:4},children:[f.jsx(at,{variant:"contained",color:"primary",onClick:j,fullWidth:!0,className:"submit-button",disabled:w||T,sx:{py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},children:w?f.jsxs(f.Fragment,{children:[f.jsx(Pr,{size:24,color:"inherit",sx:{mr:1}}),"Submitting Request..."]}):`Submit Request${r==="syllabus"&&b.length>0?` with ${b.filter(H=>H.published).length} Materials`:""}`}),f.jsxs(ce,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",f.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})]}),f.jsxs(Yi,{open:k,onClose:O,children:[f.jsx(us,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx(Bg,{sx:{color:"green",fontSize:50,marginRight:1}})}),f.jsx(Gi,{children:f.jsx(Oo,{sx:{textAlign:"center"},children:q})}),f.jsx(cs,{children:f.jsx(at,{onClick:O,color:"primary",autoFocus:!0,children:"Close"})})]})]})]})},lZ=()=>{var z,X,j,O;const[e,n]=K.useState([]),[t,r]=K.useState(!1),[i,s]=K.useState(""),[a,l]=K.useState("success"),[c,d]=K.useState(!1),[h,g]=K.useState(null),[b,m]=K.useState(null),[x,y]=K.useState(null),A=Xn(),w=Ai();K.useEffect(()=>{(async()=>{try{const Q=(await Si(Sn(A,"courseRequests"))).docs.map(H=>({id:H.id,...H.data()}));Q.sort((H,Y)=>H.status==="pending"&&Y.status!=="pending"||H.status==="approved"&&Y.status==="denied"?-1:H.status==="denied"&&Y.status==="approved"?1:0),n(Q)}catch(T){console.error("Error fetching course requests: ",T)}})()},[A]);function C(){const M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let T="";for(let Q=0;Q<28;Q++)T+=M.charAt(Math.floor(Math.random()*M.length));return T}const k=async()=>{var M,T,Q,H;if(!(!b||!x)){try{const Y=C(),Z={number:x.courseNumber,title:x.courseTitle,description:x.courseDescription,passcode:Y,courseAdmin:[x.uid],createdAt:new Date};if(x.syllabusImported&&((M=x.syllabusData)!=null&&M.additionalInfo)){const J=x.syllabusData.additionalInfo;Z.additionalInfo={contactInfo:J.contactInfo||{},policies:J.policies||{},additionalResources:J.additionalResources||{},labSpecific:J.labSpecific||{},textbooks:J.textbooks||[],gradingPolicy:J.gradingPolicy||[],assignments:J.assignments||[],prerequisites:J.prerequisites||[],lastUpdated:new Date}}x.syllabusImported&&((T=x.syllabusData)!=null&&T.syllabusFile)&&(Z.syllabusFile=x.syllabusData.syllabusFile);const ae=await ra(Sn(A,"courses"),Z),G=fn(A,"users",x.uid),le=await xa(G),U=le.exists()?((Q=le.data())==null?void 0:Q.classes)||{}:{};await Rr(G,{classes:{...U,[ae.id]:{number:x.courseNumber,title:x.courseTitle,isCourseAdmin:!0}}});let B=0;if(x.syllabusImported&&((H=x.syllabusData)!=null&&H.generatedMaterials)){const J=N6(A);x.syllabusData.generatedMaterials.forEach(ne=>{const xe=fn(Sn(A,"materials")),ye={title:ne.title||"Untitled Material",header:ne.header||{title:"",content:""},footer:ne.footer||{title:"",content:""},sections:(ne.sections||[]).map(Ae=>({...Ae,images:Ae.images||[],links:Ae.links||[],subsections:(Ae.subsections||[]).map(Ne=>({...Ne,images:Ne.images||[],links:Ne.links||[],subSubsections:(Ne.subSubsections||[]).map(Te=>({...Te,images:Te.images||[],links:Te.links||[]}))}))})),published:!0,course:ae.id,author:x.uid,timestamp:$s.now(),createdAt:new Date,updatedAt:new Date};ne.scheduledTimestamp&&(ye.scheduledTimestamp=$s.fromDate(ne.scheduledTimestamp)),J.set(xe,ye),B++}),await J.commit(),console.log(`Created ${B} materials from syllabus`)}await Rr(fn(A,"courseRequests",b),{status:"approved",courseId:ae.id,passcode:Y});const ie={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"Your Course Request Has Been Approved",html:`
            <p>Your course request has been approved:</p>
            <p><strong>Course:</strong> ${x.courseNumber} - ${x.courseTitle}</p>
            <p><strong>Passcode:</strong> ${Y}</p>
            ${x.syllabusImported&&B>0?`<p><strong>Materials Created:</strong> ${B} materials have been automatically added to your course from your syllabus import.</p>`:""}
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/supplemental-materials">
            Click here to view your course.
            </a></p>
          `}};await ra(Sn(A,"mail"),ie),s(`Course request approved, course added${B>0?` with ${B} materials`:""}.`),l("success"),n(J=>J.map(ne=>ne.id===b?{...ne,status:"approved"}:ne))}catch(Y){console.error("Error approving request: ",Y),s("Error approving the request. Please try again."),l("error")}r(!0),D()}},R=async()=>{if(b){try{await Rr(fn(A,"courseRequests",b),{status:"denied"}),s("Course request denied."),l("success"),n(e.map(M=>M.id===b?{...M,status:"denied"}:M))}catch(M){console.error("Error denying request: ",M),s("Error denying the request. Please try again."),l("error")}r(!0),D()}},q=(M,T,Q)=>{g(M),m(T),y(Q),d(!0)},D=()=>{d(!1),g(null),m(null),y(null)},N=()=>{r(!1)},P=()=>{w("/")};return f.jsxs(be,{sx:{padding:3},children:[f.jsx(be,{sx:{display:"flex",alignItems:"center"},children:f.jsx(at,{variant:"text",onClick:P,sx:{mr:2},children:" Home Page"})}),f.jsx(ce,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:3},children:"Course Creation Requests"}),f.jsx(_u,{component:On,children:f.jsxs(ku,{children:[f.jsx(Nu,{children:f.jsxs(Qi,{children:[f.jsx(ct,{children:"Educator ID"}),f.jsx(ct,{children:"Course Number"}),f.jsx(ct,{children:"Course Title"}),f.jsx(ct,{children:"Course Description"}),f.jsx(ct,{children:"Creation Method"}),f.jsx(ct,{children:"Timestamp"}),f.jsx(ct,{children:"Actions"})]})}),f.jsx(ju,{children:e.map(M=>{var T,Q,H,Y,Z;return f.jsxs(Qi,{children:[f.jsx(ct,{children:M.uid}),f.jsx(ct,{children:M.courseNumber}),f.jsx(ct,{children:M.courseTitle}),f.jsx(ct,{children:M.courseDescription.length>100?`${M.courseDescription.substring(0,100)}...`:M.courseDescription}),f.jsx(ct,{children:M.syllabusImported?f.jsxs(be,{children:[f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[f.jsx(ce,{variant:"body2",color:"primary",sx:{fontWeight:"bold"},children:"Syllabus Import"}),((T=M.syllabusData)==null?void 0:T.syllabusFile)&&f.jsx(na,{title:`Download: ${M.syllabusData.syllabusFile.metadata.originalFilename}`,children:f.jsx(mn,{size:"small",onClick:()=>window.open(M.syllabusData.syllabusFile.url,"_blank"),sx:{color:"primary.main"},children:f.jsx(jx,{fontSize:"small"})})})]}),f.jsxs(ce,{variant:"caption",color:"text.secondary",children:[((H=(Q=M.syllabusData)==null?void 0:Q.generatedMaterials)==null?void 0:H.length)||0," materials"]}),((Y=M.syllabusData)==null?void 0:Y.syllabusFile)&&f.jsx(ce,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:M.syllabusData.syllabusFile.metadata.originalFilename})]}):f.jsx(ce,{variant:"body2",color:"text.secondary",children:"Manual Entry"})}),f.jsx(ct,{children:(Z=M.timestamp)!=null&&Z.seconds?new Date(M.timestamp.seconds*1e3).toLocaleString():"Invalid Date"}),f.jsxs(ct,{children:[M.status==="pending"&&f.jsxs(f.Fragment,{children:[f.jsx(at,{variant:"contained",color:"success",size:"small",onClick:()=>q("approve",M.id,M),sx:{mr:1},children:"Approve"}),f.jsx(at,{variant:"outlined",color:"error",size:"small",onClick:()=>q("deny",M.id,M),children:"Deny"})]}),M.status==="approved"&&f.jsx(ce,{variant:"body2",color:"success.main",sx:{fontWeight:"bold"},children:"Approved"}),M.status==="denied"&&f.jsx(ce,{variant:"body2",color:"error.main",sx:{fontWeight:"bold"},children:"Denied"})]})]},M.id)})})]})}),f.jsxs(Yi,{open:c,onClose:D,children:[f.jsx(us,{children:h==="approve"?"Approve Course Request":"Deny Course Request"}),f.jsx(Gi,{children:f.jsx(Oo,{children:h==="approve"?f.jsxs(f.Fragment,{children:["Are you sure you want to approve this course request?",(x==null?void 0:x.syllabusImported)&&f.jsxs(be,{sx:{mt:2,p:2,backgroundColor:"#ECF4FE",borderRadius:1},children:[f.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:" Syllabus Import Detected"}),f.jsxs(ce,{variant:"body2",children:["This request includes ",((X=(z=x==null?void 0:x.syllabusData)==null?void 0:z.generatedMaterials)==null?void 0:X.length)||0," auto-generated materials that will be added to the course."]}),((j=x==null?void 0:x.syllabusData)==null?void 0:j.syllabusFile)&&f.jsxs(be,{sx:{mt:1},children:[f.jsxs(ce,{variant:"body2",sx:{mb:1},children:[f.jsx("strong",{children:"Syllabus File:"})," ",x.syllabusData.syllabusFile.metadata.originalFilename," ","(",(x.syllabusData.syllabusFile.metadata.fileSize/1024/1024).toFixed(2)," MB)"]}),f.jsx(at,{size:"small",variant:"outlined",startIcon:f.jsx(hg,{}),onClick:()=>window.open(x.syllabusData.syllabusFile.url,"_blank"),sx:{mt:.5},children:"View/Download Syllabus"})]}),((O=x==null?void 0:x.syllabusData)==null?void 0:O.additionalInfo)&&f.jsxs(ce,{variant:"body2",sx:{mt:1},children:[f.jsx("strong",{children:"Additional Info:"})," Contact info, policies, textbooks, and other course details extracted"]})]})]}):"Are you sure you want to deny this course request?"})}),f.jsxs(cs,{children:[f.jsx(at,{onClick:D,color:"primary",children:"Cancel"}),f.jsx(at,{onClick:h==="approve"?k:R,color:h==="approve"?"success":"error",variant:"contained",children:h==="approve"?"Approve":"Deny"})]})]}),f.jsx(fo,{open:t,autoHideDuration:6e3,onClose:N,children:f.jsx(tr,{onClose:N,severity:a,sx:{width:"100%"},children:i})})]})};var _1={},wk;function uZ(){if(wk)return _1;wk=1;var e=Es();Object.defineProperty(_1,"__esModule",{value:!0}),_1.default=void 0;var n=e(ks()),t=_s();return _1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),_1}var cZ=uZ();const dZ=Fr(cZ),fZ=()=>{const e=Xn(),{userDetails:n}=Ii(),[t,r]=K.useState([]),[i,s]=K.useState(!0),[a,l]=K.useState(!1),[c,d]=K.useState(""),[h,g]=K.useState("info"),[b,m]=K.useState(!1),[x,y]=K.useState(""),[A,w]=K.useState(""),C=Ai();K.useEffect(()=>{(async()=>{s(!0);try{const O=(await Si(Sn(e,"courses"))).docs.map(M=>{const T=M.data();return{id:M.id,title:T.title||"Untitled",number:T.number||"N/A",courseAdmin:T.courseAdmin||[]}});r(O)}catch(j){console.error("Error fetching courses: ",j)}finally{s(!1)}})()},[e]);const k=async X=>{if(!n){D("User details are not available.","error");return}const j=t.find(O=>O.id===X);if(j&&n)try{if(j.courseAdmin.includes(n.uid)){D("You are already an admin for this course.","warning");return}const O=fn(e,"courses",X),M=[...j.courseAdmin,n.uid];await Rr(O,{courseAdmin:M});const T=fn(e,"users",n.uid);await Rr(T,{[`classes.${X}`]:{number:j.number,title:j.title,isCourseAdmin:!0}}),r(t.map(Q=>Q.id===X?{...Q,courseAdmin:M}:Q)),D("You have been successfully added as an admin to this course.","success")}catch(O){console.error("Error adding super-admin to course: ",O),D("Failed to add admin to course.","error")}},R=X=>{w(X),m(!0)},q=async()=>{if(n&&x===n.uid){const X=t.find(j=>j.id===A);if(X&&X.courseAdmin.includes(n.uid))try{await $g(fn(e,"courses",A));const j=await Si(Sn(e,"users")),O=N6(e);j.forEach(M=>{const T=fn(e,"users",M.id),H={...M.data().classes};delete H[A],O.update(T,{classes:H})}),await O.commit(),r(t.filter(M=>M.id!==A)),D("Course deleted successfully.","success")}catch(j){console.error("Error deleting course: ",j),D("Failed to delete course.","error")}finally{m(!1),y("")}else D("You are not authorized to delete this course.","warning"),m(!1)}else D("User ID does not match. Please try again.","error")},D=(X,j)=>{d(X),g(j),l(!0)},N=(X,j)=>{j!=="clickaway"&&l(!1)},P=()=>{m(!1),y("")},z=()=>{C("/")};return f.jsxs(be,{sx:{p:3},children:[f.jsx(be,{sx:{display:"flex",alignItems:"center",mb:2},children:f.jsx(at,{variant:"text",onClick:z,sx:{mr:2},children:" Home Page"})}),f.jsx(ce,{variant:"h4",gutterBottom:!0,children:"Super Admin Course Management"}),i?f.jsx(ce,{children:"Loading courses..."}):f.jsx(_u,{component:On,children:f.jsxs(ku,{"aria-label":"courses table",children:[f.jsx(Nu,{children:f.jsxs(Qi,{children:[f.jsx(ct,{sx:{fontWeight:"bold"},children:"Course ID"}),f.jsx(ct,{sx:{fontWeight:"bold"},children:"Course Number"}),f.jsx(ct,{sx:{fontWeight:"bold"},children:"Course Title"}),f.jsx(ct,{sx:{fontWeight:"bold"},children:"Instructors"}),f.jsx(ct,{align:"right",sx:{fontWeight:"bold"},children:"Actions"})]})}),f.jsx(ju,{children:t.map(X=>{const j=!!(n!=null&&n.uid)&&X.courseAdmin.includes(n.uid);return f.jsxs(Qi,{sx:{backgroundColor:j?"#e0f7fa":"transparent"},children:[f.jsx(ct,{children:X.id}),f.jsx(ct,{children:X.number}),f.jsx(ct,{children:X.title}),f.jsx(ct,{children:X.courseAdmin.length>0?X.courseAdmin.join(", "):"No admins assigned"}),f.jsxs(ct,{align:"right",children:[f.jsx(na,{title:"Add yourself as an instructor",children:f.jsx("span",{children:f.jsx(mn,{edge:"end","aria-label":"add",onClick:()=>k(X.id),disabled:j,children:f.jsx(dZ,{})})})}),f.jsx(na,{title:j?"Delete this course":"You are not authorized to delete this course",children:f.jsx("span",{children:f.jsx(mn,{edge:"end","aria-label":"delete",onClick:()=>R(X.id),disabled:!j,children:f.jsx(nm,{})})})})]})]},X.id)})})]})}),f.jsx(fo,{open:a,autoHideDuration:6e3,onClose:N,children:f.jsx(tr,{onClose:N,severity:h,sx:{width:"100%"},children:c})}),f.jsxs(Yi,{open:b,onClose:P,children:[f.jsx(us,{children:"Confirm Delete"}),f.jsxs(Gi,{children:[f.jsx(Oo,{children:"To confirm the deletion of this course, please enter your User ID:"}),f.jsx($t,{autoFocus:!0,margin:"dense",id:"userId",label:"User ID",type:"text",fullWidth:!0,variant:"outlined",value:x,onChange:X=>y(X.target.value)})]}),f.jsxs(cs,{children:[f.jsx(at,{onClick:P,color:"primary",children:"Cancel"}),f.jsx(at,{onClick:q,color:"primary",children:"Confirm"})]})]})]})};var k1={},Sk;function hZ(){if(Sk)return k1;Sk=1;var e=Es();Object.defineProperty(k1,"__esModule",{value:!0}),k1.default=void 0;var n=e(ks()),t=_s();return k1.default=(0,n.default)((0,t.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),k1}var pZ=hZ();const LI=Fr(pZ),RI=({filePath:e,fileLabel:n})=>{const[t,r]=K.useState(null),[i,s]=K.useState(!0);return K.useEffect(()=>{(async()=>{try{const l=Xf(),c=vu(l,e),d=await Ad(c);r(d)}catch(l){console.error("Error fetching download URL:",l),alert("Failed to fetch file URL. Please check your permissions.")}finally{s(!1)}})()},[e]),i?f.jsx(Pr,{size:20}):t?f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(fg,{href:t,target:"_blank",rel:"noopener noreferrer",sx:{textDecoration:"none",color:"#1976d2","&:hover":{textDecoration:"underline"}},children:n}),f.jsx(mn,{component:"a",href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"Open in new tab",size:"small",children:f.jsx(LI,{})})]}):f.jsx(be,{children:f.jsx(ce,{color:"error",children:"Failed to load file link"})})},mZ=()=>{const{userDetails:e}=Ii(),[n,t]=K.useState([]),[r,i]=K.useState(!0);return K.useEffect(()=>{(async()=>{if(!(e!=null&&e.uid))return;const a=Xn(),l=Sn(a,"chatbotRequests"),c=No(l,Oi("educatorId","==",e.uid));try{const h=(await Si(c)).docs.map(g=>({id:g.id,...g.data()}));t(h)}catch(d){console.error("Error fetching chatbot requests:",d)}finally{i(!1)}})()},[e==null?void 0:e.uid]),r?f.jsx(be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:f.jsx(Pr,{})}):n.length===0?f.jsx(ce,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):f.jsxs(be,{children:[f.jsx(ce,{variant:"h6",sx:{mb:2},children:"Your Chatbot Requests"}),f.jsx(_u,{component:On,elevation:3,sx:{maxHeight:400},children:f.jsxs(ku,{stickyHeader:!0,children:[f.jsx(Nu,{children:f.jsxs(Qi,{children:[f.jsx(ct,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Title"}),f.jsx(ct,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course"}),f.jsx(ct,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material"}),f.jsx(ct,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Submitted On"}),f.jsx(ct,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Status"}),f.jsx(ct,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"File Links"})]})}),f.jsx(ju,{children:n.map((s,a)=>f.jsxs(Qi,{sx:{backgroundColor:a%2===0?"#F6E9B2":"#FBFADA","&:hover":{backgroundColor:"#E8E8E8"}},children:[f.jsx(ct,{children:s.title}),f.jsx(ct,{children:`${s.courseNumber} - ${s.courseTitle}`}),f.jsx(ct,{children:s.materialTitle||"N/A"}),f.jsx(ct,{children:new Date(s.timestamp).toLocaleString()}),f.jsx(ct,{children:f.jsx(ce,{variant:"body2",sx:{color:s.status==="pending"?"#FFA726":"#43A047",fontWeight:"bold"},children:s.status})}),f.jsx(ct,{children:s.files.map((l,c)=>f.jsx(RI,{filePath:l,fileLabel:`File ${c+1}`},c))})]},s.id))})]})})]})},gZ=()=>{const e=Ai();return f.jsxs(be,{className:"profile-container",sx:{p:4},children:[f.jsx(at,{variant:"text",onClick:()=>e("/"),className:"profile-button",children:" Home Page"}),f.jsx(ce,{className:"webpage_title",sx:{mb:2},children:"Chatbot Management"}),f.jsx(ce,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Manage your chatbots or create new chatbot requests."}),f.jsx(at,{variant:"contained",onClick:()=>e("/request-chatbot"),sx:{mt:2},className:"submit-button",children:"Request a New Chatbot"}),f.jsx(mZ,{})]})},bZ=({folderPath:e,onUploadComplete:n})=>{const[t,r]=K.useState(!1),[i,s]=K.useState([]),[a,l]=K.useState(null),c=5*1024*1024,d=[".pdf",".ppt",".pptx",".doc",".docx",".txt"],h=async g=>{if(!g.target.files)return;const b=Array.from(g.target.files),m=Xf(),x=[];r(!0),l(null);try{for(const y of b){const A=y.name.slice(y.name.lastIndexOf(".")).toLowerCase();if(!d.includes(A)){l(`File ${y.name} is not a supported format.`);continue}if(y.size>c){l(`File ${y.name} exceeds the 5 MB limit and cannot be uploaded.`);continue}const w=vu(m,`${e}/files/${y.name}`);await Pf(w,y);const C=await Ad(w);x.push(C)}s(y=>[...y,...b]),n(x)}catch(y){console.error("Error uploading files:",y),l("Failed to upload files. Please try again.")}finally{r(!1)}};return f.jsxs(be,{children:[f.jsx("input",{type:"file",accept:".pdf,.ppt,.pptx,.doc,.docx,.txt",multiple:!0,onChange:h,style:{display:"none"},id:"file-upload"}),f.jsx("label",{htmlFor:"file-upload",children:f.jsx(at,{variant:"contained",component:"span",disabled:t,startIcon:t?f.jsx(Pr,{size:20}):null,children:t?"Uploading...":"Select and Upload Files"})}),a&&f.jsx(tr,{severity:"error",sx:{mt:2},children:a}),f.jsx(be,{sx:{marginTop:2},children:i.map((g,b)=>f.jsx(ce,{children:g.name},b))})]})},yZ=lp()(tm((e,n)=>({materials:[],selectedCourse:null,loading:!1,error:null,isEditing:!1,selectedMaterial:null,setMaterials:t=>e({materials:t}),addMaterial:t=>e(r=>({materials:[...r.materials,t]})),updateMaterial:(t,r)=>e(i=>({materials:i.materials.map(s=>s.id===t?{...s,...r}:s)})),deleteMaterial:t=>e(r=>({materials:r.materials.filter(i=>i.id!==t)})),setSelectedCourse:t=>e({selectedCourse:t}),setLoading:t=>e({loading:t}),setError:t=>e({error:t}),setIsEditing:t=>e({isEditing:t}),setSelectedMaterial:t=>e({selectedMaterial:t}),fetchMaterials:async t=>{e({loading:!0,error:null});try{const{db:r}=await Wi(async()=>{const{db:h}=await Promise.resolve().then(()=>Ff);return{db:h}},void 0),{collection:i,query:s,where:a,onSnapshot:l,orderBy:c}=await Wi(async()=>{const{collection:h,query:g,where:b,onSnapshot:m,orderBy:x}=await import("./firebase-DpGenoA-.js").then(y=>y.B);return{collection:h,query:g,where:b,onSnapshot:m,orderBy:x}},[]),d=s(i(r,"materials"),a("course","==",t),c("timestamp","desc"));return new Promise(h=>{l(d,g=>{const b=g.docs.map(m=>({id:m.id,...m.data()}));e({materials:b,loading:!1}),h(void 0)})})}catch(r){e({error:r instanceof Error?r.message:"Failed to fetch materials",loading:!1})}},publishMaterial:async t=>{try{const{db:r}=await Wi(async()=>{const{db:a}=await Promise.resolve().then(()=>Ff);return{db:a}},void 0),{doc:i,updateDoc:s}=await Wi(async()=>{const{doc:a,updateDoc:l}=await import("./firebase-DpGenoA-.js").then(c=>c.B);return{doc:a,updateDoc:l}},[]);await s(i(r,"materials",t),{published:!0}),n().updateMaterial(t,{published:!0})}catch{e({error:"Failed to publish material"})}},unpublishMaterial:async t=>{try{const{db:r}=await Wi(async()=>{const{db:a}=await Promise.resolve().then(()=>Ff);return{db:a}},void 0),{doc:i,updateDoc:s}=await Wi(async()=>{const{doc:a,updateDoc:l}=await import("./firebase-DpGenoA-.js").then(c=>c.B);return{doc:a,updateDoc:l}},[]);await s(i(r,"materials",t),{published:!1}),n().updateMaterial(t,{published:!1})}catch{e({error:"Failed to unpublish material"})}}}))),xZ=()=>{const{userDetails:e}=Ii(),n=Ai(),t=Xn(),[r,i]=K.useState(""),[s,a]=K.useState(""),[l,c]=K.useState(""),[d,h]=K.useState([]),[g,b]=K.useState(!1),[m,x]=K.useState(""),[y,A]=K.useState("success"),{materials:w,loading:C,error:k,fetchMaterials:R}=yZ();K.useEffect(()=>{c(""),s&&R(s)},[s,R]);const q=z=>{h(X=>[...X,...z])},D=async()=>{var T;if(!r||!s||!l||d.length===0){x("Please fill all required fields and upload at least one file."),A("error"),b(!0);return}const z=(T=e==null?void 0:e.classes)==null?void 0:T[s];if(!z||!z.isCourseAdmin){x("You are not authorized to request a chatbot for this course."),A("error"),b(!0);return}const X=(z==null?void 0:z.number)??"N/A",j=(z==null?void 0:z.title)??"Untitled Course",O=w.find(Q=>Q.id===l);if(!O){x("Selected material details could not be found."),A("error"),b(!0);return}const{title:M}=O;try{const Q=await ra(Sn(t,"chatbotRequests"),{educatorId:e==null?void 0:e.uid,courseId:s,courseNumber:X,courseTitle:j,materialId:l,materialTitle:M,title:r,files:d,status:"pending",timestamp:new Date().toISOString()});await ra(Sn(t,"mail"),{to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"New Chatbot Request Submitted",html:`
            <p>A new chatbot request has been submitted:</p>
            <p><strong>Title:</strong> ${r}</p>
            <p><strong>Educator ID:</strong> ${e==null?void 0:e.uid}</p>
            <p><strong>Course:</strong> ${X} - ${j}</p>
            <p><strong>Material:</strong> ${M}</p>
            <p><strong>Request ID:</strong> ${Q.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/super-admin-chatbot-requests">
            Click here to review the request.
            </a></p>
          `}}),x("Chatbot request submitted successfully!"),A("success"),b(!0),setTimeout(()=>n("/chatbot-management"),1500)}catch(Q){console.error("Error submitting chatbot request:",Q),x("Failed to submit the chatbot request. Please try again."),A("error"),b(!0)}},N=()=>{n("/chatbot-management")},P=()=>{b(!1)};return f.jsxs(be,{className:"profile-container",sx:{p:4},children:[f.jsx(at,{variant:"text",onClick:N,className:"profile-button",children:" Chatbot Management"}),f.jsx(ce,{className:"webpage_title",sx:{mb:2},children:"Request to Create a Chatbot"}),f.jsx(ce,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Fill out the form below to request a chatbot. Please upload all related materials for the chatbot's knowledge base."}),f.jsx($t,{label:"Chatbot Title",value:r,onChange:z=>i(z.target.value),fullWidth:!0,margin:"normal",required:!0,className:"form-field"}),f.jsx($t,{label:"Course ID",value:s,onChange:z=>a(z.target.value),fullWidth:!0,margin:"normal",required:!0,select:!0,helperText:"Only courses where you are an admin are available for chatbot requests.",className:"form-field",children:Object.keys((e==null?void 0:e.classes)||{}).filter(z=>{var X,j;return(j=(X=e==null?void 0:e.classes)==null?void 0:X[z])==null?void 0:j.isCourseAdmin}).map(z=>{var X,j;return f.jsx(ur,{value:z,children:((j=(X=e==null?void 0:e.classes)==null?void 0:X[z])==null?void 0:j.title)||"Untitled Course"},z)})}),f.jsx($t,{label:"Material",value:l,onChange:z=>c(z.target.value),fullWidth:!0,margin:"normal",required:!0,select:!0,disabled:!s||C,helperText:s?k||(C?"Loading materials...":w.length===0?"No materials available for this course.":""):"Please select a course first.",children:s?C?f.jsxs(ur,{disabled:!0,children:[f.jsx(Pr,{size:20,sx:{marginRight:2}}),"Loading..."]}):w.length===0?f.jsx(ur,{disabled:!0,children:"No materials found"}):w.map(z=>f.jsx(ur,{value:z.id,children:z.title},z.id)):f.jsx(ur,{disabled:!0,children:"Please select a course first"})}),f.jsxs(be,{sx:{mt:3},children:[f.jsx(ce,{variant:"body1",className:"profile-text",sx:{mb:2},children:"Upload your files below (PDF, PPT, DOC/DOCX, TXT formats only):"}),f.jsx(bZ,{folderPath:`chatbotRequests/${e==null?void 0:e.uid}`,onUploadComplete:q})]}),f.jsx(at,{variant:"contained",onClick:D,sx:{mt:4},className:"submit-button",children:"Submit Request"}),f.jsx(fo,{open:g,autoHideDuration:6e3,onClose:P,children:f.jsx(tr,{severity:y,onClose:P,children:m})})]})};var N1={},Ak;function vZ(){if(Ak)return N1;Ak=1;var e=Es();Object.defineProperty(N1,"__esModule",{value:!0}),N1.default=void 0;var n=e(ks()),t=_s();return N1.default=(0,n.default)((0,t.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),N1}var wZ=vZ();const SZ=Fr(wZ),j1=Eu(ct)({fontWeight:"bold",color:"#fff",backgroundColor:"#123372",fontSize:"1rem",textAlign:"center"}),AZ=Eu(Qi)({"& td, & th":{padding:"12px 16px"},"&:nth-of-type(odd)":{backgroundColor:"#f9f9f9"},"&:hover":{backgroundColor:"#e0e0e0"}}),Ck=Eu(mn)({width:40,height:40,padding:0,display:"flex",alignItems:"center",justifyContent:"center",textTransform:"capitalize",borderRadius:"8px",color:"#123372"}),CZ=({conversations:e,onViewHistory:n,onDeleteConversation:t,loadingMap:r})=>e.length===0?f.jsx(ce,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No conversations available to display."}):f.jsx(be,{sx:{mt:3},children:f.jsx(_u,{component:On,sx:{boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.1)",borderRadius:"10px"},children:f.jsxs(ku,{children:[f.jsx(Nu,{children:f.jsxs(Qi,{children:[f.jsx(j1,{children:"Conversation ID"}),f.jsx(j1,{children:"User ID"}),f.jsx(j1,{children:"Chatbot ID"}),f.jsx(j1,{children:"Timestamp (Started At)"}),f.jsx(j1,{children:"Actions"})]})}),f.jsx(ju,{children:e.length>0?e.map(i=>f.jsxs(AZ,{children:[f.jsx(ct,{align:"center",children:i.id}),f.jsx(ct,{align:"center",children:i.userId}),f.jsx(ct,{align:"center",children:i.chatbotId}),f.jsx(ct,{align:"center",children:i.startedAt?new Date(i.startedAt).toLocaleString():"Invalid date"}),f.jsx(ct,{align:"center",children:f.jsxs(be,{sx:{display:"flex",justifyContent:"center",gap:1},children:[f.jsx(na,{title:"View Data",children:f.jsx(Ck,{onClick:()=>n(i.chatbotId,i.id,i.userId,i.startedAt),color:"primary",disabled:r[i.id],children:r[i.id]?f.jsx(Pr,{size:20,color:"inherit"}):f.jsx(SZ,{})})}),f.jsx(na,{title:"Delete Conversation",children:f.jsx(Ck,{onClick:()=>t(i.id),color:"error",children:f.jsx(nm,{})})})]})})]},i.id)):f.jsx(Qi,{children:f.jsx(ct,{colSpan:5,align:"center",children:"No conversations available for the selected filters."})})})]})})});function MI(e,n){return function(){return e.apply(n,arguments)}}const{toString:EZ}=Object.prototype,{getPrototypeOf:bA}=Object,{iterator:Rv,toStringTag:PI}=Symbol,Mv=(e=>n=>{const t=EZ.call(n);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ru=e=>(e=e.toLowerCase(),n=>Mv(n)===e),Pv=e=>n=>typeof n===e,{isArray:sm}=Array,jg=Pv("undefined");function _Z(e){return e!==null&&!jg(e)&&e.constructor!==null&&!jg(e.constructor)&&Co(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const FI=Ru("ArrayBuffer");function kZ(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&FI(e.buffer),n}const NZ=Pv("string"),Co=Pv("function"),qI=Pv("number"),Fv=e=>e!==null&&typeof e=="object",jZ=e=>e===!0||e===!1,mx=e=>{if(Mv(e)!=="object")return!1;const n=bA(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(PI in e)&&!(Rv in e)},TZ=Ru("Date"),OZ=Ru("File"),IZ=Ru("Blob"),DZ=Ru("FileList"),LZ=e=>Fv(e)&&Co(e.pipe),RZ=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||Co(e.append)&&((n=Mv(e))==="formdata"||n==="object"&&Co(e.toString)&&e.toString()==="[object FormData]"))},MZ=Ru("URLSearchParams"),[PZ,FZ,qZ,zZ]=["ReadableStream","Request","Response","Headers"].map(Ru),BZ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sb(e,n,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),sm(e))for(r=0,i=e.length;r<i;r++)n.call(null,e[r],r,e);else{const s=t?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let l;for(r=0;r<a;r++)l=s[r],n.call(null,e[l],l,e)}}function zI(e,n){n=n.toLowerCase();const t=Object.keys(e);let r=t.length,i;for(;r-- >0;)if(i=t[r],n===i.toLowerCase())return i;return null}const Uh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,BI=e=>!jg(e)&&e!==Uh;function HS(){const{caseless:e}=BI(this)&&this||{},n={},t=(r,i)=>{const s=e&&zI(n,i)||i;mx(n[s])&&mx(r)?n[s]=HS(n[s],r):mx(r)?n[s]=HS({},r):sm(r)?n[s]=r.slice():n[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&sb(arguments[r],t);return n}const UZ=(e,n,t,{allOwnKeys:r}={})=>(sb(n,(i,s)=>{t&&Co(i)?e[s]=MI(i,t):e[s]=i},{allOwnKeys:r}),e),$Z=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),HZ=(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},WZ=(e,n,t,r)=>{let i,s,a;const l={};if(n=n||{},e==null)return n;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],(!r||r(a,e,n))&&!l[a]&&(n[a]=e[a],l[a]=!0);e=t!==!1&&bA(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},VZ=(e,n,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return r!==-1&&r===t},YZ=e=>{if(!e)return null;if(sm(e))return e;let n=e.length;if(!qI(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},GZ=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&bA(Uint8Array)),QZ=(e,n)=>{const r=(e&&e[Rv]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;n.call(e,s[0],s[1])}},KZ=(e,n)=>{let t;const r=[];for(;(t=e.exec(n))!==null;)r.push(t);return r},XZ=Ru("HTMLFormElement"),ZZ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),Ek=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),JZ=Ru("RegExp"),UI=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};sb(t,(i,s)=>{let a;(a=n(i,s,e))!==!1&&(r[s]=a||i)}),Object.defineProperties(e,r)},eJ=e=>{UI(e,(n,t)=>{if(Co(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=e[t];if(Co(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},tJ=(e,n)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return sm(e)?r(e):r(String(e).split(n)),t},nJ=()=>{},rJ=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function iJ(e){return!!(e&&Co(e.append)&&e[PI]==="FormData"&&e[Rv])}const sJ=e=>{const n=new Array(10),t=(r,i)=>{if(Fv(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[i]=r;const s=sm(r)?[]:{};return sb(r,(a,l)=>{const c=t(a,i+1);!jg(c)&&(s[l]=c)}),n[i]=void 0,s}}return r};return t(e,0)},aJ=Ru("AsyncFunction"),oJ=e=>e&&(Fv(e)||Co(e))&&Co(e.then)&&Co(e.catch),$I=((e,n)=>e?setImmediate:n?((t,r)=>(Uh.addEventListener("message",({source:i,data:s})=>{i===Uh&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Uh.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Co(Uh.postMessage)),lJ=typeof queueMicrotask<"u"?queueMicrotask.bind(Uh):typeof process<"u"&&process.nextTick||$I,uJ=e=>e!=null&&Co(e[Rv]),it={isArray:sm,isArrayBuffer:FI,isBuffer:_Z,isFormData:RZ,isArrayBufferView:kZ,isString:NZ,isNumber:qI,isBoolean:jZ,isObject:Fv,isPlainObject:mx,isReadableStream:PZ,isRequest:FZ,isResponse:qZ,isHeaders:zZ,isUndefined:jg,isDate:TZ,isFile:OZ,isBlob:IZ,isRegExp:JZ,isFunction:Co,isStream:LZ,isURLSearchParams:MZ,isTypedArray:GZ,isFileList:DZ,forEach:sb,merge:HS,extend:UZ,trim:BZ,stripBOM:$Z,inherits:HZ,toFlatObject:WZ,kindOf:Mv,kindOfTest:Ru,endsWith:VZ,toArray:YZ,forEachEntry:QZ,matchAll:KZ,isHTMLForm:XZ,hasOwnProperty:Ek,hasOwnProp:Ek,reduceDescriptors:UI,freezeMethods:eJ,toObjectSet:tJ,toCamelCase:ZZ,noop:nJ,toFiniteNumber:rJ,findKey:zI,global:Uh,isContextDefined:BI,isSpecCompliantForm:iJ,toJSONObject:sJ,isAsyncFn:aJ,isThenable:oJ,setImmediate:$I,asap:lJ,isIterable:uJ};function jn(e,n,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}it.inherits(jn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:it.toJSONObject(this.config),code:this.code,status:this.status}}});const HI=jn.prototype,WI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{WI[e]={value:e}});Object.defineProperties(jn,WI);Object.defineProperty(HI,"isAxiosError",{value:!0});jn.from=(e,n,t,r,i,s)=>{const a=Object.create(HI);return it.toFlatObject(e,a,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),jn.call(a,e.message,n,t,r,i),a.cause=e,a.name=e.name,s&&Object.assign(a,s),a};const cJ=null;function WS(e){return it.isPlainObject(e)||it.isArray(e)}function VI(e){return it.endsWith(e,"[]")?e.slice(0,-2):e}function _k(e,n,t){return e?e.concat(n).map(function(i,s){return i=VI(i),!t&&s?"["+i+"]":i}).join(t?".":""):n}function dJ(e){return it.isArray(e)&&!e.some(WS)}const fJ=it.toFlatObject(it,{},null,function(n){return/^is[A-Z]/.test(n)});function qv(e,n,t){if(!it.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,t=it.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,A){return!it.isUndefined(A[y])});const r=t.metaTokens,i=t.visitor||h,s=t.dots,a=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&it.isSpecCompliantForm(n);if(!it.isFunction(i))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(it.isDate(x))return x.toISOString();if(it.isBoolean(x))return x.toString();if(!c&&it.isBlob(x))throw new jn("Blob is not supported. Use a Buffer instead.");return it.isArrayBuffer(x)||it.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function h(x,y,A){let w=x;if(x&&!A&&typeof x=="object"){if(it.endsWith(y,"{}"))y=r?y:y.slice(0,-2),x=JSON.stringify(x);else if(it.isArray(x)&&dJ(x)||(it.isFileList(x)||it.endsWith(y,"[]"))&&(w=it.toArray(x)))return y=VI(y),w.forEach(function(k,R){!(it.isUndefined(k)||k===null)&&n.append(a===!0?_k([y],R,s):a===null?y:y+"[]",d(k))}),!1}return WS(x)?!0:(n.append(_k(A,y,s),d(x)),!1)}const g=[],b=Object.assign(fJ,{defaultVisitor:h,convertValue:d,isVisitable:WS});function m(x,y){if(!it.isUndefined(x)){if(g.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));g.push(x),it.forEach(x,function(w,C){(!(it.isUndefined(w)||w===null)&&i.call(n,w,it.isString(C)?C.trim():C,y,b))===!0&&m(w,y?y.concat(C):[C])}),g.pop()}}if(!it.isObject(e))throw new TypeError("data must be an object");return m(e),n}function kk(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function yA(e,n){this._pairs=[],e&&qv(e,this,n)}const YI=yA.prototype;YI.append=function(n,t){this._pairs.push([n,t])};YI.toString=function(n){const t=n?function(r){return n.call(this,r,kk)}:kk;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function hJ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function GI(e,n,t){if(!n)return e;const r=t&&t.encode||hJ;it.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(n,t):s=it.isURLSearchParams(n)?n.toString():new yA(n,t).toString(r),s){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class Nk{constructor(){this.handlers=[]}use(n,t,r){return this.handlers.push({fulfilled:n,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){it.forEach(this.handlers,function(r){r!==null&&n(r)})}}const QI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pJ=typeof URLSearchParams<"u"?URLSearchParams:yA,mJ=typeof FormData<"u"?FormData:null,gJ=typeof Blob<"u"?Blob:null,bJ={isBrowser:!0,classes:{URLSearchParams:pJ,FormData:mJ,Blob:gJ},protocols:["http","https","file","blob","url","data"]},xA=typeof window<"u"&&typeof document<"u",VS=typeof navigator=="object"&&navigator||void 0,yJ=xA&&(!VS||["ReactNative","NativeScript","NS"].indexOf(VS.product)<0),xJ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",vJ=xA&&window.location.href||"http://localhost",wJ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xA,hasStandardBrowserEnv:yJ,hasStandardBrowserWebWorkerEnv:xJ,navigator:VS,origin:vJ},Symbol.toStringTag,{value:"Module"})),Ba={...wJ,...bJ};function SJ(e,n){return qv(e,new Ba.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return Ba.isNode&&it.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},n))}function AJ(e){return it.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function CJ(e){const n={},t=Object.keys(e);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],n[s]=e[s];return n}function KI(e){function n(t,r,i,s){let a=t[s++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=s>=t.length;return a=!a&&it.isArray(i)?i.length:a,c?(it.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!l):((!i[a]||!it.isObject(i[a]))&&(i[a]=[]),n(t,r,i[a],s)&&it.isArray(i[a])&&(i[a]=CJ(i[a])),!l)}if(it.isFormData(e)&&it.isFunction(e.entries)){const t={};return it.forEachEntry(e,(r,i)=>{n(AJ(r),i,t,0)}),t}return null}function EJ(e,n,t){if(it.isString(e))try{return(n||JSON.parse)(e),it.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(e)}const ab={transitional:QI,adapter:["xhr","http","fetch"],transformRequest:[function(n,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=it.isObject(n);if(s&&it.isHTMLForm(n)&&(n=new FormData(n)),it.isFormData(n))return i?JSON.stringify(KI(n)):n;if(it.isArrayBuffer(n)||it.isBuffer(n)||it.isStream(n)||it.isFile(n)||it.isBlob(n)||it.isReadableStream(n))return n;if(it.isArrayBufferView(n))return n.buffer;if(it.isURLSearchParams(n))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return SJ(n,this.formSerializer).toString();if((l=it.isFileList(n))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return qv(l?{"files[]":n}:n,c&&new c,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),EJ(n)):n}],transformResponse:[function(n){const t=this.transitional||ab.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(it.isResponse(n)||it.isReadableStream(n))return n;if(n&&it.isString(n)&&(r&&!this.responseType||i)){const a=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(n)}catch(l){if(a)throw l.name==="SyntaxError"?jn.from(l,jn.ERR_BAD_RESPONSE,this,null,this.response):l}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ba.classes.FormData,Blob:Ba.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};it.forEach(["delete","get","head","post","put","patch"],e=>{ab.headers[e]={}});const _J=it.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kJ=e=>{const n={};let t,r,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!t||n[t]&&_J[t])&&(t==="set-cookie"?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n},jk=Symbol("internals");function T1(e){return e&&String(e).trim().toLowerCase()}function gx(e){return e===!1||e==null?e:it.isArray(e)?e.map(gx):String(e)}function NJ(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}const jJ=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function yw(e,n,t,r,i){if(it.isFunction(r))return r.call(this,n,t);if(i&&(n=t),!!it.isString(n)){if(it.isString(r))return n.indexOf(r)!==-1;if(it.isRegExp(r))return r.test(n)}}function TJ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,r)=>t.toUpperCase()+r)}function OJ(e,n){const t=it.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(i,s,a){return this[r].call(this,n,i,s,a)},configurable:!0})})}let Eo=class{constructor(n){n&&this.set(n)}set(n,t,r){const i=this;function s(l,c,d){const h=T1(c);if(!h)throw new Error("header name must be a non-empty string");const g=it.findKey(i,h);(!g||i[g]===void 0||d===!0||d===void 0&&i[g]!==!1)&&(i[g||c]=gx(l))}const a=(l,c)=>it.forEach(l,(d,h)=>s(d,h,c));if(it.isPlainObject(n)||n instanceof this.constructor)a(n,t);else if(it.isString(n)&&(n=n.trim())&&!jJ(n))a(kJ(n),t);else if(it.isObject(n)&&it.isIterable(n)){let l={},c,d;for(const h of n){if(!it.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[d=h[0]]=(c=l[d])?it.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}a(l,t)}else n!=null&&s(t,n,r);return this}get(n,t){if(n=T1(n),n){const r=it.findKey(this,n);if(r){const i=this[r];if(!t)return i;if(t===!0)return NJ(i);if(it.isFunction(t))return t.call(this,i,r);if(it.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=T1(n),n){const r=it.findKey(this,n);return!!(r&&this[r]!==void 0&&(!t||yw(this,this[r],r,t)))}return!1}delete(n,t){const r=this;let i=!1;function s(a){if(a=T1(a),a){const l=it.findKey(r,a);l&&(!t||yw(r,r[l],l,t))&&(delete r[l],i=!0)}}return it.isArray(n)?n.forEach(s):s(n),i}clear(n){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!n||yw(this,this[s],s,n,!0))&&(delete this[s],i=!0)}return i}normalize(n){const t=this,r={};return it.forEach(this,(i,s)=>{const a=it.findKey(r,s);if(a){t[a]=gx(i),delete t[s];return}const l=n?TJ(s):String(s).trim();l!==s&&delete t[s],t[l]=gx(i),r[l]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return it.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=n&&it.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const r=new this(n);return t.forEach(i=>r.set(i)),r}static accessor(n){const r=(this[jk]=this[jk]={accessors:{}}).accessors,i=this.prototype;function s(a){const l=T1(a);r[l]||(OJ(i,a),r[l]=!0)}return it.isArray(n)?n.forEach(s):s(n),this}};Eo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);it.reduceDescriptors(Eo.prototype,({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[t]=r}}});it.freezeMethods(Eo);function xw(e,n){const t=this||ab,r=n||t,i=Eo.from(r.headers);let s=r.data;return it.forEach(e,function(l){s=l.call(t,s,i.normalize(),n?n.status:void 0)}),i.normalize(),s}function XI(e){return!!(e&&e.__CANCEL__)}function am(e,n,t){jn.call(this,e??"canceled",jn.ERR_CANCELED,n,t),this.name="CanceledError"}it.inherits(am,jn,{__CANCEL__:!0});function ZI(e,n,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?e(t):n(new jn("Request failed with status code "+t.status,[jn.ERR_BAD_REQUEST,jn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function IJ(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function DJ(e,n){e=e||10;const t=new Array(e),r=new Array(e);let i=0,s=0,a;return n=n!==void 0?n:1e3,function(c){const d=Date.now(),h=r[s];a||(a=d),t[i]=c,r[i]=d;let g=s,b=0;for(;g!==i;)b+=t[g++],g=g%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),d-a<n)return;const m=h&&d-h;return m?Math.round(b*1e3/m):void 0}}function LJ(e,n){let t=0,r=1e3/n,i,s;const a=(d,h=Date.now())=>{t=h,i=null,s&&(clearTimeout(s),s=null),e.apply(null,d)};return[(...d)=>{const h=Date.now(),g=h-t;g>=r?a(d,h):(i=d,s||(s=setTimeout(()=>{s=null,a(i)},r-g)))},()=>i&&a(i)]}const tv=(e,n,t=3)=>{let r=0;const i=DJ(50,250);return LJ(s=>{const a=s.loaded,l=s.lengthComputable?s.total:void 0,c=a-r,d=i(c),h=a<=l;r=a;const g={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&h?(l-a)/d:void 0,event:s,lengthComputable:l!=null,[n?"download":"upload"]:!0};e(g)},t)},Tk=(e,n)=>{const t=e!=null;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},Ok=e=>(...n)=>it.asap(()=>e(...n)),RJ=Ba.hasStandardBrowserEnv?((e,n)=>t=>(t=new URL(t,Ba.origin),e.protocol===t.protocol&&e.host===t.host&&(n||e.port===t.port)))(new URL(Ba.origin),Ba.navigator&&/(msie|trident)/i.test(Ba.navigator.userAgent)):()=>!0,MJ=Ba.hasStandardBrowserEnv?{write(e,n,t,r,i,s){const a=[e+"="+encodeURIComponent(n)];it.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),it.isString(r)&&a.push("path="+r),it.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function PJ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function FJ(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function JI(e,n,t){let r=!PJ(n);return e&&(r||t==!1)?FJ(e,n):n}const Ik=e=>e instanceof Eo?{...e}:e;function ap(e,n){n=n||{};const t={};function r(d,h,g,b){return it.isPlainObject(d)&&it.isPlainObject(h)?it.merge.call({caseless:b},d,h):it.isPlainObject(h)?it.merge({},h):it.isArray(h)?h.slice():h}function i(d,h,g,b){if(it.isUndefined(h)){if(!it.isUndefined(d))return r(void 0,d,g,b)}else return r(d,h,g,b)}function s(d,h){if(!it.isUndefined(h))return r(void 0,h)}function a(d,h){if(it.isUndefined(h)){if(!it.isUndefined(d))return r(void 0,d)}else return r(void 0,h)}function l(d,h,g){if(g in n)return r(d,h);if(g in e)return r(void 0,d)}const c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(d,h,g)=>i(Ik(d),Ik(h),g,!0)};return it.forEach(Object.keys(Object.assign({},e,n)),function(h){const g=c[h]||i,b=g(e[h],n[h],h);it.isUndefined(b)&&g!==l||(t[h]=b)}),t}const eD=e=>{const n=ap({},e);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:l}=n;n.headers=a=Eo.from(a),n.url=GI(JI(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(it.isFormData(t)){if(Ba.hasStandardBrowserEnv||Ba.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[d,...h]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];a.setContentType([d||"multipart/form-data",...h].join("; "))}}if(Ba.hasStandardBrowserEnv&&(r&&it.isFunction(r)&&(r=r(n)),r||r!==!1&&RJ(n.url))){const d=i&&s&&MJ.read(s);d&&a.set(i,d)}return n},qJ=typeof XMLHttpRequest<"u",zJ=qJ&&function(e){return new Promise(function(t,r){const i=eD(e);let s=i.data;const a=Eo.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,h,g,b,m,x;function y(){m&&m(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let A=new XMLHttpRequest;A.open(i.method.toUpperCase(),i.url,!0),A.timeout=i.timeout;function w(){if(!A)return;const k=Eo.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),q={data:!l||l==="text"||l==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:k,config:e,request:A};ZI(function(N){t(N),y()},function(N){r(N),y()},q),A=null}"onloadend"in A?A.onloadend=w:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(w)},A.onabort=function(){A&&(r(new jn("Request aborted",jn.ECONNABORTED,e,A)),A=null)},A.onerror=function(){r(new jn("Network Error",jn.ERR_NETWORK,e,A)),A=null},A.ontimeout=function(){let R=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const q=i.transitional||QI;i.timeoutErrorMessage&&(R=i.timeoutErrorMessage),r(new jn(R,q.clarifyTimeoutError?jn.ETIMEDOUT:jn.ECONNABORTED,e,A)),A=null},s===void 0&&a.setContentType(null),"setRequestHeader"in A&&it.forEach(a.toJSON(),function(R,q){A.setRequestHeader(q,R)}),it.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),l&&l!=="json"&&(A.responseType=i.responseType),d&&([b,x]=tv(d,!0),A.addEventListener("progress",b)),c&&A.upload&&([g,m]=tv(c),A.upload.addEventListener("progress",g),A.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(h=k=>{A&&(r(!k||k.type?new am(null,e,A):k),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const C=IJ(i.url);if(C&&Ba.protocols.indexOf(C)===-1){r(new jn("Unsupported protocol "+C+":",jn.ERR_BAD_REQUEST,e));return}A.send(s||null)})},BJ=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let r=new AbortController,i;const s=function(d){if(!i){i=!0,l();const h=d instanceof Error?d:this.reason;r.abort(h instanceof jn?h:new am(h instanceof Error?h.message:h))}};let a=n&&setTimeout(()=>{a=null,s(new jn(`timeout ${n} of ms exceeded`,jn.ETIMEDOUT))},n);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),e=null)};e.forEach(d=>d.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>it.asap(l),c}},UJ=function*(e,n){let t=e.byteLength;if(t<n){yield e;return}let r=0,i;for(;r<t;)i=r+n,yield e.slice(r,i),r=i},$J=async function*(e,n){for await(const t of HJ(e))yield*UJ(t,n)},HJ=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:t,value:r}=await n.read();if(t)break;yield r}}finally{await n.cancel()}},Dk=(e,n,t,r)=>{const i=$J(e,n);let s=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await i.next();if(d){l(),c.close();return}let g=h.byteLength;if(t){let b=s+=g;t(b)}c.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},zv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",tD=zv&&typeof ReadableStream=="function",WJ=zv&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),nD=(e,...n)=>{try{return!!e(...n)}catch{return!1}},VJ=tD&&nD(()=>{let e=!1;const n=new Request(Ba.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),Lk=64*1024,YS=tD&&nD(()=>it.isReadableStream(new Response("").body)),nv={stream:YS&&(e=>e.body)};zv&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!nv[n]&&(nv[n]=it.isFunction(e[n])?t=>t[n]():(t,r)=>{throw new jn(`Response type '${n}' is not supported`,jn.ERR_NOT_SUPPORT,r)})})})(new Response);const YJ=async e=>{if(e==null)return 0;if(it.isBlob(e))return e.size;if(it.isSpecCompliantForm(e))return(await new Request(Ba.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(it.isArrayBufferView(e)||it.isArrayBuffer(e))return e.byteLength;if(it.isURLSearchParams(e)&&(e=e+""),it.isString(e))return(await WJ(e)).byteLength},GJ=async(e,n)=>{const t=it.toFiniteNumber(e.getContentLength());return t??YJ(n)},QJ=zv&&(async e=>{let{url:n,method:t,data:r,signal:i,cancelToken:s,timeout:a,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:h,withCredentials:g="same-origin",fetchOptions:b}=eD(e);d=d?(d+"").toLowerCase():"text";let m=BJ([i,s&&s.toAbortSignal()],a),x;const y=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let A;try{if(c&&VJ&&t!=="get"&&t!=="head"&&(A=await GJ(h,r))!==0){let q=new Request(n,{method:"POST",body:r,duplex:"half"}),D;if(it.isFormData(r)&&(D=q.headers.get("content-type"))&&h.setContentType(D),q.body){const[N,P]=Tk(A,tv(Ok(c)));r=Dk(q.body,Lk,N,P)}}it.isString(g)||(g=g?"include":"omit");const w="credentials"in Request.prototype;x=new Request(n,{...b,signal:m,method:t.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:w?g:void 0});let C=await fetch(x,b);const k=YS&&(d==="stream"||d==="response");if(YS&&(l||k&&y)){const q={};["status","statusText","headers"].forEach(z=>{q[z]=C[z]});const D=it.toFiniteNumber(C.headers.get("content-length")),[N,P]=l&&Tk(D,tv(Ok(l),!0))||[];C=new Response(Dk(C.body,Lk,N,()=>{P&&P(),y&&y()}),q)}d=d||"text";let R=await nv[it.findKey(nv,d)||"text"](C,e);return!k&&y&&y(),await new Promise((q,D)=>{ZI(q,D,{data:R,headers:Eo.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:x})})}catch(w){throw y&&y(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new jn("Network Error",jn.ERR_NETWORK,e,x),{cause:w.cause||w}):jn.from(w,w&&w.code,e,x)}}),GS={http:cJ,xhr:zJ,fetch:QJ};it.forEach(GS,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const Rk=e=>`- ${e}`,KJ=e=>it.isFunction(e)||e===null||e===!1,rD={getAdapter:e=>{e=it.isArray(e)?e:[e];const{length:n}=e;let t,r;const i={};for(let s=0;s<n;s++){t=e[s];let a;if(r=t,!KJ(t)&&(r=GS[(a=String(t)).toLowerCase()],r===void 0))throw new jn(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=n?s.length>1?`since :
`+s.map(Rk).join(`
`):" "+Rk(s[0]):"as no adapter specified";throw new jn("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:GS};function vw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new am(null,e)}function Mk(e){return vw(e),e.headers=Eo.from(e.headers),e.data=xw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),rD.getAdapter(e.adapter||ab.adapter)(e).then(function(r){return vw(e),r.data=xw.call(e,e.transformResponse,r),r.headers=Eo.from(r.headers),r},function(r){return XI(r)||(vw(e),r&&r.response&&(r.response.data=xw.call(e,e.transformResponse,r.response),r.response.headers=Eo.from(r.response.headers))),Promise.reject(r)})}const iD="1.10.0",Bv={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{Bv[e]=function(r){return typeof r===e||"a"+(n<1?"n ":" ")+e}});const Pk={};Bv.transitional=function(n,t,r){function i(s,a){return"[Axios v"+iD+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,l)=>{if(n===!1)throw new jn(i(a," has been removed"+(t?" in "+t:"")),jn.ERR_DEPRECATED);return t&&!Pk[a]&&(Pk[a]=!0,console.warn(i(a," has been deprecated since v"+t+" and will be removed in the near future"))),n?n(s,a,l):!0}};Bv.spelling=function(n){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${n}`),!0)};function XJ(e,n,t){if(typeof e!="object")throw new jn("options must be an object",jn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],a=n[s];if(a){const l=e[s],c=l===void 0||a(l,s,e);if(c!==!0)throw new jn("option "+s+" must be "+c,jn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new jn("Unknown option "+s,jn.ERR_BAD_OPTION)}}const bx={assertOptions:XJ,validators:Bv},uc=bx.validators;let Kh=class{constructor(n){this.defaults=n||{},this.interceptors={request:new Nk,response:new Nk}}async request(n,t){try{return await this._request(n,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=ap(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&bx.assertOptions(r,{silentJSONParsing:uc.transitional(uc.boolean),forcedJSONParsing:uc.transitional(uc.boolean),clarifyTimeoutError:uc.transitional(uc.boolean)},!1),i!=null&&(it.isFunction(i)?t.paramsSerializer={serialize:i}:bx.assertOptions(i,{encode:uc.function,serialize:uc.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),bx.assertOptions(t,{baseUrl:uc.spelling("baseURL"),withXsrfToken:uc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&it.merge(s.common,s[t.method]);s&&it.forEach(["delete","get","head","post","put","patch","common"],x=>{delete s[x]}),t.headers=Eo.concat(a,s);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(t)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const d=[];this.interceptors.response.forEach(function(y){d.push(y.fulfilled,y.rejected)});let h,g=0,b;if(!c){const x=[Mk.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,d),b=x.length,h=Promise.resolve(t);g<b;)h=h.then(x[g++],x[g++]);return h}b=l.length;let m=t;for(g=0;g<b;){const x=l[g++],y=l[g++];try{m=x(m)}catch(A){y.call(this,A);break}}try{h=Mk.call(this,m)}catch(x){return Promise.reject(x)}for(g=0,b=d.length;g<b;)h=h.then(d[g++],d[g++]);return h}getUri(n){n=ap(this.defaults,n);const t=JI(n.baseURL,n.url,n.allowAbsoluteUrls);return GI(t,n.params,n.paramsSerializer)}};it.forEach(["delete","get","head","options"],function(n){Kh.prototype[n]=function(t,r){return this.request(ap(r||{},{method:n,url:t,data:(r||{}).data}))}});it.forEach(["post","put","patch"],function(n){function t(r){return function(s,a,l){return this.request(ap(l||{},{method:n,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Kh.prototype[n]=t(),Kh.prototype[n+"Form"]=t(!0)});let ZJ=class sD{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(l=>{r.subscribe(l),s=l}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},n(function(s,a,l){r.reason||(r.reason=new am(s,a,l),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const n=new AbortController,t=r=>{n.abort(r)};return this.subscribe(t),n.signal.unsubscribe=()=>this.unsubscribe(t),n.signal}static source(){let n;return{token:new sD(function(i){n=i}),cancel:n}}};function JJ(e){return function(t){return e.apply(null,t)}}function eee(e){return it.isObject(e)&&e.isAxiosError===!0}const QS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(QS).forEach(([e,n])=>{QS[n]=e});function aD(e){const n=new Kh(e),t=MI(Kh.prototype.request,n);return it.extend(t,Kh.prototype,n,{allOwnKeys:!0}),it.extend(t,n,null,{allOwnKeys:!0}),t.create=function(i){return aD(ap(e,i))},t}const Cs=aD(ab);Cs.Axios=Kh;Cs.CanceledError=am;Cs.CancelToken=ZJ;Cs.isCancel=XI;Cs.VERSION=iD;Cs.toFormData=qv;Cs.AxiosError=jn;Cs.Cancel=Cs.CanceledError;Cs.all=function(n){return Promise.all(n)};Cs.spread=JJ;Cs.isAxiosError=eee;Cs.mergeConfig=ap;Cs.AxiosHeaders=Eo;Cs.formToJSON=e=>KI(it.isHTMLForm(e)?new FormData(e):e);Cs.getAdapter=rD.getAdapter;Cs.HttpStatusCode=QS;Cs.default=Cs;const{Axios:ppe,AxiosError:mpe,CanceledError:gpe,isCancel:bpe,CancelToken:ype,VERSION:xpe,all:vpe,Cancel:wpe,isAxiosError:Spe,spread:Ape,toFormData:Cpe,AxiosHeaders:Epe,HttpStatusCode:_pe,formToJSON:kpe,getAdapter:Npe,mergeConfig:jpe}=Cs;function Wy(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ww={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Fk;function tee(){return Fk||(Fk=1,function(e,n){(function(t){e.exports=t()})(function(){return function t(r,i,s){function a(d,h){if(!i[d]){if(!r[d]){var g=typeof Wy=="function"&&Wy;if(!h&&g)return g(d,!0);if(l)return l(d,!0);var b=new Error("Cannot find module '"+d+"'");throw b.code="MODULE_NOT_FOUND",b}var m=i[d]={exports:{}};r[d][0].call(m.exports,function(x){var y=r[d][1][x];return a(y||x)},m,m.exports,t,r,i,s)}return i[d].exports}for(var l=typeof Wy=="function"&&Wy,c=0;c<s.length;c++)a(s[c]);return a}({1:[function(t,r,i){var s=t("./utils"),a=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var d,h,g,b,m,x,y,A=[],w=0,C=c.length,k=C,R=s.getTypeOf(c)!=="string";w<c.length;)k=C-w,g=R?(d=c[w++],h=w<C?c[w++]:0,w<C?c[w++]:0):(d=c.charCodeAt(w++),h=w<C?c.charCodeAt(w++):0,w<C?c.charCodeAt(w++):0),b=d>>2,m=(3&d)<<4|h>>4,x=1<k?(15&h)<<2|g>>6:64,y=2<k?63&g:64,A.push(l.charAt(b)+l.charAt(m)+l.charAt(x)+l.charAt(y));return A.join("")},i.decode=function(c){var d,h,g,b,m,x,y=0,A=0,w="data:";if(c.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var C,k=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&k--,c.charAt(c.length-2)===l.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(C=a.uint8array?new Uint8Array(0|k):new Array(0|k);y<c.length;)d=l.indexOf(c.charAt(y++))<<2|(b=l.indexOf(c.charAt(y++)))>>4,h=(15&b)<<4|(m=l.indexOf(c.charAt(y++)))>>2,g=(3&m)<<6|(x=l.indexOf(c.charAt(y++))),C[A++]=d,m!==64&&(C[A++]=h),x!==64&&(C[A++]=g);return C}},{"./support":30,"./utils":32}],2:[function(t,r,i){var s=t("./external"),a=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),c=t("./stream/DataLengthProbe");function d(h,g,b,m,x){this.compressedSize=h,this.uncompressedSize=g,this.crc32=b,this.compression=m,this.compressedContent=x}d.prototype={getContentWorker:function(){var h=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),g=this;return h.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(h,g,b){return h.pipe(new l).pipe(new c("uncompressedSize")).pipe(g.compressWorker(b)).pipe(new c("compressedSize")).withStreamInfo("compression",g)},r.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var s=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var s=t("./utils"),a=function(){for(var l,c=[],d=0;d<256;d++){l=d;for(var h=0;h<8;h++)l=1&l?3988292384^l>>>1:l>>>1;c[d]=l}return c}();r.exports=function(l,c){return l!==void 0&&l.length?s.getTypeOf(l)!=="string"?function(d,h,g,b){var m=a,x=b+g;d^=-1;for(var y=b;y<x;y++)d=d>>>8^m[255&(d^h[y])];return-1^d}(0|c,l,l.length,0):function(d,h,g,b){var m=a,x=b+g;d^=-1;for(var y=b;y<x;y++)d=d>>>8^m[255&(d^h.charCodeAt(y))];return-1^d}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var s=null;s=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:s}},{lie:37}],7:[function(t,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),l=t("./utils"),c=t("./stream/GenericWorker"),d=s?"uint8array":"array";function h(g,b){c.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=b,this.meta={}}i.magic="\b\0",l.inherits(h,c),h.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(d,g.data),!1)},h.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(b){g.push({data:b,meta:g.meta})}},i.compressWorker=function(g){return new h("Deflate",g)},i.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function s(m,x){var y,A="";for(y=0;y<x;y++)A+=String.fromCharCode(255&m),m>>>=8;return A}function a(m,x,y,A,w,C){var k,R,q=m.file,D=m.compression,N=C!==d.utf8encode,P=l.transformTo("string",C(q.name)),z=l.transformTo("string",d.utf8encode(q.name)),X=q.comment,j=l.transformTo("string",C(X)),O=l.transformTo("string",d.utf8encode(X)),M=z.length!==q.name.length,T=O.length!==X.length,Q="",H="",Y="",Z=q.dir,ae=q.date,G={crc32:0,compressedSize:0,uncompressedSize:0};x&&!y||(G.crc32=m.crc32,G.compressedSize=m.compressedSize,G.uncompressedSize=m.uncompressedSize);var le=0;x&&(le|=8),N||!M&&!T||(le|=2048);var U=0,B=0;Z&&(U|=16),w==="UNIX"?(B=798,U|=function(J,ne){var xe=J;return J||(xe=ne?16893:33204),(65535&xe)<<16}(q.unixPermissions,Z)):(B=20,U|=function(J){return 63&(J||0)}(q.dosPermissions)),k=ae.getUTCHours(),k<<=6,k|=ae.getUTCMinutes(),k<<=5,k|=ae.getUTCSeconds()/2,R=ae.getUTCFullYear()-1980,R<<=4,R|=ae.getUTCMonth()+1,R<<=5,R|=ae.getUTCDate(),M&&(H=s(1,1)+s(h(P),4)+z,Q+="up"+s(H.length,2)+H),T&&(Y=s(1,1)+s(h(j),4)+O,Q+="uc"+s(Y.length,2)+Y);var ie="";return ie+=`
\0`,ie+=s(le,2),ie+=D.magic,ie+=s(k,2),ie+=s(R,2),ie+=s(G.crc32,4),ie+=s(G.compressedSize,4),ie+=s(G.uncompressedSize,4),ie+=s(P.length,2),ie+=s(Q.length,2),{fileRecord:g.LOCAL_FILE_HEADER+ie+P+Q,dirRecord:g.CENTRAL_FILE_HEADER+s(B,2)+ie+s(j.length,2)+"\0\0\0\0"+s(U,4)+s(A,4)+P+Q+j}}var l=t("../utils"),c=t("../stream/GenericWorker"),d=t("../utf8"),h=t("../crc32"),g=t("../signature");function b(m,x,y,A){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=y,this.encodeFileName=A,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(b,c),b.prototype.push=function(m){var x=m.meta.percent||0,y=this.entriesCount,A=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,c.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:y?(x+100*(y-A-1))/y:100}}))},b.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var x=this.streamFiles&&!m.file.dir;if(x){var y=a(m,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(m){this.accumulate=!1;var x=this.streamFiles&&!m.file.dir,y=a(m,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),x)this.push({data:function(A){return g.DATA_DESCRIPTOR+s(A.crc32,4)+s(A.compressedSize,4)+s(A.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var m=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var y=this.bytesWritten-m,A=function(w,C,k,R,q){var D=l.transformTo("string",q(R));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(w,2)+s(w,2)+s(C,4)+s(k,4)+s(D.length,2)+D}(this.dirRecords.length,y,m,this.zipComment,this.encodeFileName);this.push({data:A,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(m){this._sources.push(m);var x=this;return m.on("data",function(y){x.processChunk(y)}),m.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),m.on("error",function(y){x.error(y)}),this},b.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(m){var x=this._sources;if(!c.prototype.error.call(this,m))return!1;for(var y=0;y<x.length;y++)try{x[y].error(m)}catch{}return!0},b.prototype.lock=function(){c.prototype.lock.call(this);for(var m=this._sources,x=0;x<m.length;x++)m[x].lock()},r.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var s=t("../compressions"),a=t("./ZipFileWorker");i.generateWorker=function(l,c,d){var h=new a(c.streamFiles,d,c.platform,c.encodeFileName),g=0;try{l.forEach(function(b,m){g++;var x=function(C,k){var R=C||k,q=s[R];if(!q)throw new Error(R+" is not a valid compression method !");return q}(m.options.compression,c.compression),y=m.options.compressionOptions||c.compressionOptions||{},A=m.dir,w=m.date;m._compressWorker(x,y).withStreamInfo("file",{name:b,dir:A,date:w,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(h)}),h.entriesCount=g}catch(b){h.error(b)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var l in this)typeof this[l]!="function"&&(a[l]=this[l]);return a}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(a,l){return new s().loadAsync(a,l)},s.external=t("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var s=t("./utils"),a=t("./external"),l=t("./utf8"),c=t("./zipEntries"),d=t("./stream/Crc32Probe"),h=t("./nodejsUtils");function g(b){return new a.Promise(function(m,x){var y=b.decompressed.getContentWorker().pipe(new d);y.on("error",function(A){x(A)}).on("end",function(){y.streamInfo.crc32!==b.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(b,m){var x=this;return m=s.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),h.isNode&&h.isStream(b)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",b,!0,m.optimizedBinaryString,m.base64).then(function(y){var A=new c(m);return A.load(y),A}).then(function(y){var A=[a.Promise.resolve(y)],w=y.files;if(m.checkCRC32)for(var C=0;C<w.length;C++)A.push(g(w[C]));return a.Promise.all(A)}).then(function(y){for(var A=y.shift(),w=A.files,C=0;C<w.length;C++){var k=w[C],R=k.fileNameStr,q=s.resolve(k.fileNameStr);x.file(q,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:m.createFolders}),k.dir||(x.file(q).unsafeOriginalName=R)}return A.zipComment.length&&(x.comment=A.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var s=t("../utils"),a=t("../stream/GenericWorker");function l(c,d){a.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(d)}s.inherits(l,a),l.prototype._bindStream=function(c){var d=this;(this._stream=c).pause(),c.on("data",function(h){d.push({data:h,meta:{percent:0}})}).on("error",function(h){d.isPaused?this.generatedError=h:d.error(h)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},l.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var s=t("readable-stream").Readable;function a(l,c,d){s.call(this,c),this._helper=l;var h=this;l.on("data",function(g,b){h.push(g)||h._helper.pause(),d&&d(b)}).on("error",function(g){h.emit("error",g)}).on("end",function(){h.push(null)})}t("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,r,i){function s(q,D,N){var P,z=l.getTypeOf(D),X=l.extend(N||{},h);X.date=X.date||new Date,X.compression!==null&&(X.compression=X.compression.toUpperCase()),typeof X.unixPermissions=="string"&&(X.unixPermissions=parseInt(X.unixPermissions,8)),X.unixPermissions&&16384&X.unixPermissions&&(X.dir=!0),X.dosPermissions&&16&X.dosPermissions&&(X.dir=!0),X.dir&&(q=w(q)),X.createFolders&&(P=A(q))&&C.call(this,P,!0);var j=z==="string"&&X.binary===!1&&X.base64===!1;N&&N.binary!==void 0||(X.binary=!j),(D instanceof g&&D.uncompressedSize===0||X.dir||!D||D.length===0)&&(X.base64=!1,X.binary=!0,D="",X.compression="STORE",z="string");var O=null;O=D instanceof g||D instanceof c?D:x.isNode&&x.isStream(D)?new y(q,D):l.prepareContent(q,D,X.binary,X.optimizedBinaryString,X.base64);var M=new b(q,O,X);this.files[q]=M}var a=t("./utf8"),l=t("./utils"),c=t("./stream/GenericWorker"),d=t("./stream/StreamHelper"),h=t("./defaults"),g=t("./compressedObject"),b=t("./zipObject"),m=t("./generate"),x=t("./nodejsUtils"),y=t("./nodejs/NodejsStreamInputAdapter"),A=function(q){q.slice(-1)==="/"&&(q=q.substring(0,q.length-1));var D=q.lastIndexOf("/");return 0<D?q.substring(0,D):""},w=function(q){return q.slice(-1)!=="/"&&(q+="/"),q},C=function(q,D){return D=D!==void 0?D:h.createFolders,q=w(q),this.files[q]||s.call(this,q,null,{dir:!0,createFolders:D}),this.files[q]};function k(q){return Object.prototype.toString.call(q)==="[object RegExp]"}var R={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(q){var D,N,P;for(D in this.files)P=this.files[D],(N=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&q(N,P)},filter:function(q){var D=[];return this.forEach(function(N,P){q(N,P)&&D.push(P)}),D},file:function(q,D,N){if(arguments.length!==1)return q=this.root+q,s.call(this,q,D,N),this;if(k(q)){var P=q;return this.filter(function(X,j){return!j.dir&&P.test(X)})}var z=this.files[this.root+q];return z&&!z.dir?z:null},folder:function(q){if(!q)return this;if(k(q))return this.filter(function(z,X){return X.dir&&q.test(z)});var D=this.root+q,N=C.call(this,D),P=this.clone();return P.root=N.name,P},remove:function(q){q=this.root+q;var D=this.files[q];if(D||(q.slice(-1)!=="/"&&(q+="/"),D=this.files[q]),D&&!D.dir)delete this.files[q];else for(var N=this.filter(function(z,X){return X.name.slice(0,q.length)===q}),P=0;P<N.length;P++)delete this.files[N[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(q){var D,N={};try{if((N=l.extend(q||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");l.checkSupport(N.type),N.platform!=="darwin"&&N.platform!=="freebsd"&&N.platform!=="linux"&&N.platform!=="sunos"||(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var P=N.comment||this.comment||"";D=m.generateWorker(this,N,P)}catch(z){(D=new c("error")).error(z)}return new d(D,N.type||"string",N.mimeType)},generateAsync:function(q,D){return this.generateInternalStream(q).accumulate(D)},generateNodeStream:function(q,D){return(q=q||{}).type||(q.type="nodebuffer"),this.generateInternalStream(q).toNodejsStream(D)}};r.exports=R},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var s=t("./DataReader");function a(l){s.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}t("../utils").inherits(a,s),a.prototype.byteAt=function(l){return this.data[this.zero+l]},a.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),d=l.charCodeAt(1),h=l.charCodeAt(2),g=l.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===c&&this.data[b+1]===d&&this.data[b+2]===h&&this.data[b+3]===g)return b-this.zero;return-1},a.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),d=l.charCodeAt(1),h=l.charCodeAt(2),g=l.charCodeAt(3),b=this.readData(4);return c===b[0]&&d===b[1]&&h===b[2]&&g===b[3]},a.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var s=t("../utils");function a(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,d=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)d=(d<<8)+this.byteAt(c);return this.index+=l,d},readString:function(l){return s.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=a},{"../utils":32}],19:[function(t,r,i){var s=t("./Uint8ArrayReader");function a(l){s.call(this,l)}t("../utils").inherits(a,s),a.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var s=t("./DataReader");function a(l){s.call(this,l)}t("../utils").inherits(a,s),a.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},a.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},a.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},a.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var s=t("./ArrayReader");function a(l){s.call(this,l)}t("../utils").inherits(a,s),a.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var s=t("../utils"),a=t("../support"),l=t("./ArrayReader"),c=t("./StringReader"),d=t("./NodeBufferReader"),h=t("./Uint8ArrayReader");r.exports=function(g){var b=s.getTypeOf(g);return s.checkSupport(b),b!=="string"||a.uint8array?b==="nodebuffer"?new d(g):a.uint8array?new h(s.transformTo("uint8array",g)):new l(s.transformTo("array",g)):new c(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var s=t("./GenericWorker"),a=t("../utils");function l(c){s.call(this,"ConvertWorker to "+c),this.destType=c}a.inherits(l,s),l.prototype.processChunk=function(c){this.push({data:a.transformTo(this.destType,c.data),meta:c.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var s=t("./GenericWorker"),a=t("../crc32");function l(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,s),l.prototype.processChunk=function(c){this.streamInfo.crc32=a(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var s=t("../utils"),a=t("./GenericWorker");function l(c){a.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}s.inherits(l,a),l.prototype.processChunk=function(c){if(c){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+c.data.length}a.prototype.processChunk.call(this,c)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var s=t("../utils"),a=t("./GenericWorker");function l(c){a.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(h){d.dataIsReady=!0,d.data=h,d.max=h&&h.length||0,d.type=s.getTypeOf(h),d.isPaused||d._tickAndRepeat()},function(h){d.error(h)})}s.inherits(l,a),l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,d);break;case"uint8array":c=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":c=this.data.slice(this.index,d)}return this.index=d,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,l){return this._listeners[a].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,l){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,l)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var l=this;return a.on("data",function(c){l.processChunk(c)}),a.on("end",function(){l.end()}),a.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,l){return this.extraStreamInfo[a]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=s},{}],29:[function(t,r,i){var s=t("../utils"),a=t("./ConvertWorker"),l=t("./GenericWorker"),c=t("../base64"),d=t("../support"),h=t("../external"),g=null;if(d.nodestream)try{g=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(x,y){return new h.Promise(function(A,w){var C=[],k=x._internalType,R=x._outputType,q=x._mimeType;x.on("data",function(D,N){C.push(D),y&&y(N)}).on("error",function(D){C=[],w(D)}).on("end",function(){try{var D=function(N,P,z){switch(N){case"blob":return s.newBlob(s.transformTo("arraybuffer",P),z);case"base64":return c.encode(P);default:return s.transformTo(N,P)}}(R,function(N,P){var z,X=0,j=null,O=0;for(z=0;z<P.length;z++)O+=P[z].length;switch(N){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(j=new Uint8Array(O),z=0;z<P.length;z++)j.set(P[z],X),X+=P[z].length;return j;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+N+"'")}}(k,C),q);A(D)}catch(N){w(N)}C=[]}).resume()})}function m(x,y,A){var w=y;switch(y){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=y,this._mimeType=A,s.checkSupport(w),this._worker=x.pipe(new a(w)),x.lock()}catch(C){this._worker=new l("error"),this._worker.error(C)}}m.prototype={accumulate:function(x){return b(this,x)},on:function(x,y){var A=this;return x==="data"?this._worker.on(x,function(w){y.call(A,w.data,w.meta)}):this._worker.on(x,function(){s.delay(y,arguments,A)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},x)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var s=t("./utils"),a=t("./support"),l=t("./nodejsUtils"),c=t("./stream/GenericWorker"),d=new Array(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;d[254]=d[254]=1;function g(){c.call(this,"utf-8 decode"),this.leftOver=null}function b(){c.call(this,"utf-8 encode")}i.utf8encode=function(m){return a.nodebuffer?l.newBufferFrom(m,"utf-8"):function(x){var y,A,w,C,k,R=x.length,q=0;for(C=0;C<R;C++)(64512&(A=x.charCodeAt(C)))==55296&&C+1<R&&(64512&(w=x.charCodeAt(C+1)))==56320&&(A=65536+(A-55296<<10)+(w-56320),C++),q+=A<128?1:A<2048?2:A<65536?3:4;for(y=a.uint8array?new Uint8Array(q):new Array(q),C=k=0;k<q;C++)(64512&(A=x.charCodeAt(C)))==55296&&C+1<R&&(64512&(w=x.charCodeAt(C+1)))==56320&&(A=65536+(A-55296<<10)+(w-56320),C++),A<128?y[k++]=A:(A<2048?y[k++]=192|A>>>6:(A<65536?y[k++]=224|A>>>12:(y[k++]=240|A>>>18,y[k++]=128|A>>>12&63),y[k++]=128|A>>>6&63),y[k++]=128|63&A);return y}(m)},i.utf8decode=function(m){return a.nodebuffer?s.transformTo("nodebuffer",m).toString("utf-8"):function(x){var y,A,w,C,k=x.length,R=new Array(2*k);for(y=A=0;y<k;)if((w=x[y++])<128)R[A++]=w;else if(4<(C=d[w]))R[A++]=65533,y+=C-1;else{for(w&=C===2?31:C===3?15:7;1<C&&y<k;)w=w<<6|63&x[y++],C--;1<C?R[A++]=65533:w<65536?R[A++]=w:(w-=65536,R[A++]=55296|w>>10&1023,R[A++]=56320|1023&w)}return R.length!==A&&(R.subarray?R=R.subarray(0,A):R.length=A),s.applyFromCharCode(R)}(m=s.transformTo(a.uint8array?"uint8array":"array",m))},s.inherits(g,c),g.prototype.processChunk=function(m){var x=s.transformTo(a.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var y=x;(x=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),x.set(y,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var A=function(C,k){var R;for((k=k||C.length)>C.length&&(k=C.length),R=k-1;0<=R&&(192&C[R])==128;)R--;return R<0||R===0?k:R+d[C[R]]>k?R:k}(x),w=x;A!==x.length&&(a.uint8array?(w=x.subarray(0,A),this.leftOver=x.subarray(A,x.length)):(w=x.slice(0,A),this.leftOver=x.slice(A,x.length))),this.push({data:i.utf8decode(w),meta:m.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=g,s.inherits(b,c),b.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var s=t("./support"),a=t("./base64"),l=t("./nodejsUtils"),c=t("./external");function d(y){return y}function h(y,A){for(var w=0;w<y.length;++w)A[w]=255&y.charCodeAt(w);return A}t("setimmediate"),i.newBlob=function(y,A){i.checkSupport("blob");try{return new Blob([y],{type:A})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(y),w.getBlob(A)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(y,A,w){var C=[],k=0,R=y.length;if(R<=w)return String.fromCharCode.apply(null,y);for(;k<R;)A==="array"||A==="nodebuffer"?C.push(String.fromCharCode.apply(null,y.slice(k,Math.min(k+w,R)))):C.push(String.fromCharCode.apply(null,y.subarray(k,Math.min(k+w,R)))),k+=w;return C.join("")},stringifyByChar:function(y){for(var A="",w=0;w<y.length;w++)A+=String.fromCharCode(y[w]);return A},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function b(y){var A=65536,w=i.getTypeOf(y),C=!0;if(w==="uint8array"?C=g.applyCanBeUsed.uint8array:w==="nodebuffer"&&(C=g.applyCanBeUsed.nodebuffer),C)for(;1<A;)try{return g.stringifyByChunk(y,w,A)}catch{A=Math.floor(A/2)}return g.stringifyByChar(y)}function m(y,A){for(var w=0;w<y.length;w++)A[w]=y[w];return A}i.applyFromCharCode=b;var x={};x.string={string:d,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return x.string.uint8array(y).buffer},uint8array:function(y){return h(y,new Uint8Array(y.length))},nodebuffer:function(y){return h(y,l.allocBuffer(y.length))}},x.array={string:b,array:d,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(y)}},x.arraybuffer={string:function(y){return b(new Uint8Array(y))},array:function(y){return m(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:d,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(new Uint8Array(y))}},x.uint8array={string:b,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:d,nodebuffer:function(y){return l.newBufferFrom(y)}},x.nodebuffer={string:b,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return x.nodebuffer.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:d},i.transformTo=function(y,A){if(A=A||"",!y)return A;i.checkSupport(y);var w=i.getTypeOf(A);return x[w][y](A)},i.resolve=function(y){for(var A=y.split("/"),w=[],C=0;C<A.length;C++){var k=A[C];k==="."||k===""&&C!==0&&C!==A.length-1||(k===".."?w.pop():w.push(k))}return w.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":s.nodebuffer&&l.isBuffer(y)?"nodebuffer":s.uint8array&&y instanceof Uint8Array?"uint8array":s.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!s[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var A,w,C="";for(w=0;w<(y||"").length;w++)C+="\\x"+((A=y.charCodeAt(w))<16?"0":"")+A.toString(16).toUpperCase();return C},i.delay=function(y,A,w){setImmediate(function(){y.apply(w||null,A||[])})},i.inherits=function(y,A){function w(){}w.prototype=A.prototype,y.prototype=new w},i.extend=function(){var y,A,w={};for(y=0;y<arguments.length;y++)for(A in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],A)&&w[A]===void 0&&(w[A]=arguments[y][A]);return w},i.prepareContent=function(y,A,w,C,k){return c.Promise.resolve(A).then(function(R){return s.blob&&(R instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(R))!==-1)&&typeof FileReader<"u"?new c.Promise(function(q,D){var N=new FileReader;N.onload=function(P){q(P.target.result)},N.onerror=function(P){D(P.target.error)},N.readAsArrayBuffer(R)}):R}).then(function(R){var q=i.getTypeOf(R);return q?(q==="arraybuffer"?R=i.transformTo("uint8array",R):q==="string"&&(k?R=a.decode(R):w&&C!==!0&&(R=function(D){return h(D,s.uint8array?new Uint8Array(D.length):new Array(D.length))}(R))),R):c.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var s=t("./reader/readerFor"),a=t("./utils"),l=t("./signature"),c=t("./zipEntry"),d=t("./support");function h(g){this.files=[],this.loadOptions=g}h.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(b)+", expected "+a.pretty(g)+")")}},isSignature:function(g,b){var m=this.reader.index;this.reader.setIndex(g);var x=this.reader.readString(4)===b;return this.reader.setIndex(m),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),b=d.uint8array?"uint8array":"array",m=a.transformTo(b,g);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,b,m,x=this.zip64EndOfCentralSize-44;0<x;)g=this.reader.readInt(2),b=this.reader.readInt(4),m=this.reader.readData(b),this.zip64ExtensibleData[g]={id:g,length:b,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,b;for(g=0;g<this.files.length;g++)b=this.files[g],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(g=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var b=g;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var x=b-m;if(0<x)this.isSignature(b,l.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(g){this.reader=s(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var s=t("./reader/readerFor"),a=t("./utils"),l=t("./compressedObject"),c=t("./crc32"),d=t("./utf8"),h=t("./compressions"),g=t("./support");function b(m,x){this.options=m,this.loadOptions=x}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var x,y;if(m.skip(22),this.fileNameLength=m.readInt(2),y=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(A){for(var w in h)if(Object.prototype.hasOwnProperty.call(h,w)&&h[w].magic===A)return h[w];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,x,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var x=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(x),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var x,y,A,w=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<w;)x=m.readInt(2),y=m.readInt(2),A=m.readData(y),this.extraFields[x]={id:x,length:y,value:A};m.setIndex(w)},handleUTF8:function(){var m=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var y=a.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var A=this.findExtraFieldUnicodeComment();if(A!==null)this.fileCommentStr=A;else{var w=a.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var x=s(m.value);return x.readInt(1)!==1||c(this.fileName)!==x.readInt(4)?null:d.utf8decode(x.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var x=s(m.value);return x.readInt(1)!==1||c(this.fileComment)!==x.readInt(4)?null:d.utf8decode(x.readData(m.length-5))}return null}},r.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function s(x,y,A){this.name=x,this.dir=A.dir,this.date=A.date,this.comment=A.comment,this.unixPermissions=A.unixPermissions,this.dosPermissions=A.dosPermissions,this._data=y,this._dataBinary=A.binary,this.options={compression:A.compression,compressionOptions:A.compressionOptions}}var a=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),c=t("./utf8"),d=t("./compressedObject"),h=t("./stream/GenericWorker");s.prototype={internalStream:function(x){var y=null,A="string";try{if(!x)throw new Error("No output type specified.");var w=(A=x.toLowerCase())==="string"||A==="text";A!=="binarystring"&&A!=="text"||(A="string"),y=this._decompressWorker();var C=!this._dataBinary;C&&!w&&(y=y.pipe(new c.Utf8EncodeWorker)),!C&&w&&(y=y.pipe(new c.Utf8DecodeWorker))}catch(k){(y=new h("error")).error(k)}return new a(y,A,"")},async:function(x,y){return this.internalStream(x).accumulate(y)},nodeStream:function(x,y){return this.internalStream(x||"nodebuffer").toNodejsStream(y)},_compressWorker:function(x,y){if(this._data instanceof d&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var A=this._decompressWorker();return this._dataBinary||(A=A.pipe(new c.Utf8EncodeWorker)),d.createWorkerFrom(A,x,y)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof h?this._data:new l(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<g.length;m++)s.prototype[g[m]]=b;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(s){var a,l,c=s.MutationObserver||s.WebKitMutationObserver;if(c){var d=0,h=new c(x),g=s.document.createTextNode("");h.observe(g,{characterData:!0}),a=function(){g.data=d=++d%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var y=s.document.createElement("script");y.onreadystatechange=function(){x(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:function(){setTimeout(x,0)};else{var b=new s.MessageChannel;b.port1.onmessage=x,a=function(){b.port2.postMessage(0)}}var m=[];function x(){var y,A;l=!0;for(var w=m.length;w;){for(A=m,m=[],y=-1;++y<w;)A[y]();w=m.length}l=!1}r.exports=function(y){m.push(y)!==1||l||a()}}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var s=t("immediate");function a(){}var l={},c=["REJECTED"],d=["FULFILLED"],h=["PENDING"];function g(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,w!==a&&y(this,w)}function b(w,C,k){this.promise=w,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function m(w,C,k){s(function(){var R;try{R=C(k)}catch(q){return l.reject(w,q)}R===w?l.reject(w,new TypeError("Cannot resolve promise with itself")):l.resolve(w,R)})}function x(w){var C=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof C=="function")return function(){C.apply(w,arguments)}}function y(w,C){var k=!1;function R(N){k||(k=!0,l.reject(w,N))}function q(N){k||(k=!0,l.resolve(w,N))}var D=A(function(){C(q,R)});D.status==="error"&&R(D.value)}function A(w,C){var k={};try{k.value=w(C),k.status="success"}catch(R){k.status="error",k.value=R}return k}(r.exports=g).prototype.finally=function(w){if(typeof w!="function")return this;var C=this.constructor;return this.then(function(k){return C.resolve(w()).then(function(){return k})},function(k){return C.resolve(w()).then(function(){throw k})})},g.prototype.catch=function(w){return this.then(null,w)},g.prototype.then=function(w,C){if(typeof w!="function"&&this.state===d||typeof C!="function"&&this.state===c)return this;var k=new this.constructor(a);return this.state!==h?m(k,this.state===d?w:C,this.outcome):this.queue.push(new b(k,w,C)),k},b.prototype.callFulfilled=function(w){l.resolve(this.promise,w)},b.prototype.otherCallFulfilled=function(w){m(this.promise,this.onFulfilled,w)},b.prototype.callRejected=function(w){l.reject(this.promise,w)},b.prototype.otherCallRejected=function(w){m(this.promise,this.onRejected,w)},l.resolve=function(w,C){var k=A(x,C);if(k.status==="error")return l.reject(w,k.value);var R=k.value;if(R)y(w,R);else{w.state=d,w.outcome=C;for(var q=-1,D=w.queue.length;++q<D;)w.queue[q].callFulfilled(C)}return w},l.reject=function(w,C){w.state=c,w.outcome=C;for(var k=-1,R=w.queue.length;++k<R;)w.queue[k].callRejected(C);return w},g.resolve=function(w){return w instanceof this?w:l.resolve(new this(a),w)},g.reject=function(w){var C=new this(a);return l.reject(C,w)},g.all=function(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=w.length,R=!1;if(!k)return this.resolve([]);for(var q=new Array(k),D=0,N=-1,P=new this(a);++N<k;)z(w[N],N);return P;function z(X,j){C.resolve(X).then(function(O){q[j]=O,++D!==k||R||(R=!0,l.resolve(P,q))},function(O){R||(R=!0,l.reject(P,O))})}},g.race=function(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=w.length,R=!1;if(!k)return this.resolve([]);for(var q=-1,D=new this(a);++q<k;)N=w[q],C.resolve(N).then(function(P){R||(R=!0,l.resolve(D,P))},function(P){R||(R=!0,l.reject(D,P))});var N;return D}},{immediate:36}],38:[function(t,r,i){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var s=t("./zlib/deflate"),a=t("./utils/common"),l=t("./utils/strings"),c=t("./zlib/messages"),d=t("./zlib/zstream"),h=Object.prototype.toString,g=0,b=-1,m=0,x=8;function y(w){if(!(this instanceof y))return new y(w);this.options=a.assign({level:b,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},w||{});var C=this.options;C.raw&&0<C.windowBits?C.windowBits=-C.windowBits:C.gzip&&0<C.windowBits&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var k=s.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(k!==g)throw new Error(c[k]);if(C.header&&s.deflateSetHeader(this.strm,C.header),C.dictionary){var R;if(R=typeof C.dictionary=="string"?l.string2buf(C.dictionary):h.call(C.dictionary)==="[object ArrayBuffer]"?new Uint8Array(C.dictionary):C.dictionary,(k=s.deflateSetDictionary(this.strm,R))!==g)throw new Error(c[k]);this._dict_set=!0}}function A(w,C){var k=new y(C);if(k.push(w,!0),k.err)throw k.msg||c[k.err];return k.result}y.prototype.push=function(w,C){var k,R,q=this.strm,D=this.options.chunkSize;if(this.ended)return!1;R=C===~~C?C:C===!0?4:0,typeof w=="string"?q.input=l.string2buf(w):h.call(w)==="[object ArrayBuffer]"?q.input=new Uint8Array(w):q.input=w,q.next_in=0,q.avail_in=q.input.length;do{if(q.avail_out===0&&(q.output=new a.Buf8(D),q.next_out=0,q.avail_out=D),(k=s.deflate(q,R))!==1&&k!==g)return this.onEnd(k),!(this.ended=!0);q.avail_out!==0&&(q.avail_in!==0||R!==4&&R!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(a.shrinkBuf(q.output,q.next_out))):this.onData(a.shrinkBuf(q.output,q.next_out)))}while((0<q.avail_in||q.avail_out===0)&&k!==1);return R===4?(k=s.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===g):R!==2||(this.onEnd(g),!(q.avail_out=0))},y.prototype.onData=function(w){this.chunks.push(w)},y.prototype.onEnd=function(w){w===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Deflate=y,i.deflate=A,i.deflateRaw=function(w,C){return(C=C||{}).raw=!0,A(w,C)},i.gzip=function(w,C){return(C=C||{}).gzip=!0,A(w,C)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var s=t("./zlib/inflate"),a=t("./utils/common"),l=t("./utils/strings"),c=t("./zlib/constants"),d=t("./zlib/messages"),h=t("./zlib/zstream"),g=t("./zlib/gzheader"),b=Object.prototype.toString;function m(y){if(!(this instanceof m))return new m(y);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},y||{});var A=this.options;A.raw&&0<=A.windowBits&&A.windowBits<16&&(A.windowBits=-A.windowBits,A.windowBits===0&&(A.windowBits=-15)),!(0<=A.windowBits&&A.windowBits<16)||y&&y.windowBits||(A.windowBits+=32),15<A.windowBits&&A.windowBits<48&&(15&A.windowBits)==0&&(A.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var w=s.inflateInit2(this.strm,A.windowBits);if(w!==c.Z_OK)throw new Error(d[w]);this.header=new g,s.inflateGetHeader(this.strm,this.header)}function x(y,A){var w=new m(A);if(w.push(y,!0),w.err)throw w.msg||d[w.err];return w.result}m.prototype.push=function(y,A){var w,C,k,R,q,D,N=this.strm,P=this.options.chunkSize,z=this.options.dictionary,X=!1;if(this.ended)return!1;C=A===~~A?A:A===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof y=="string"?N.input=l.binstring2buf(y):b.call(y)==="[object ArrayBuffer]"?N.input=new Uint8Array(y):N.input=y,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new a.Buf8(P),N.next_out=0,N.avail_out=P),(w=s.inflate(N,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&z&&(D=typeof z=="string"?l.string2buf(z):b.call(z)==="[object ArrayBuffer]"?new Uint8Array(z):z,w=s.inflateSetDictionary(this.strm,D)),w===c.Z_BUF_ERROR&&X===!0&&(w=c.Z_OK,X=!1),w!==c.Z_STREAM_END&&w!==c.Z_OK)return this.onEnd(w),!(this.ended=!0);N.next_out&&(N.avail_out!==0&&w!==c.Z_STREAM_END&&(N.avail_in!==0||C!==c.Z_FINISH&&C!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=l.utf8border(N.output,N.next_out),R=N.next_out-k,q=l.buf2string(N.output,k),N.next_out=R,N.avail_out=P-R,R&&a.arraySet(N.output,N.output,k,R,0),this.onData(q)):this.onData(a.shrinkBuf(N.output,N.next_out)))),N.avail_in===0&&N.avail_out===0&&(X=!0)}while((0<N.avail_in||N.avail_out===0)&&w!==c.Z_STREAM_END);return w===c.Z_STREAM_END&&(C=c.Z_FINISH),C===c.Z_FINISH?(w=s.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===c.Z_OK):C!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(N.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=m,i.inflate=x,i.inflateRaw=function(y,A){return(A=A||{}).raw=!0,x(y,A)},i.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var h=d.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])}}return c},i.shrinkBuf=function(c,d){return c.length===d?c:c.subarray?c.subarray(0,d):(c.length=d,c)};var a={arraySet:function(c,d,h,g,b){if(d.subarray&&c.subarray)c.set(d.subarray(h,h+g),b);else for(var m=0;m<g;m++)c[b+m]=d[h+m]},flattenChunks:function(c){var d,h,g,b,m,x;for(d=g=0,h=c.length;d<h;d++)g+=c[d].length;for(x=new Uint8Array(g),d=b=0,h=c.length;d<h;d++)m=c[d],x.set(m,b),b+=m.length;return x}},l={arraySet:function(c,d,h,g,b){for(var m=0;m<g;m++)c[b+m]=d[h+m]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(s)},{}],42:[function(t,r,i){var s=t("./common"),a=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new s.Buf8(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function h(g,b){if(b<65537&&(g.subarray&&l||!g.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(g,b));for(var m="",x=0;x<b;x++)m+=String.fromCharCode(g[x]);return m}c[254]=c[254]=1,i.string2buf=function(g){var b,m,x,y,A,w=g.length,C=0;for(y=0;y<w;y++)(64512&(m=g.charCodeAt(y)))==55296&&y+1<w&&(64512&(x=g.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(x-56320),y++),C+=m<128?1:m<2048?2:m<65536?3:4;for(b=new s.Buf8(C),y=A=0;A<C;y++)(64512&(m=g.charCodeAt(y)))==55296&&y+1<w&&(64512&(x=g.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(x-56320),y++),m<128?b[A++]=m:(m<2048?b[A++]=192|m>>>6:(m<65536?b[A++]=224|m>>>12:(b[A++]=240|m>>>18,b[A++]=128|m>>>12&63),b[A++]=128|m>>>6&63),b[A++]=128|63&m);return b},i.buf2binstring=function(g){return h(g,g.length)},i.binstring2buf=function(g){for(var b=new s.Buf8(g.length),m=0,x=b.length;m<x;m++)b[m]=g.charCodeAt(m);return b},i.buf2string=function(g,b){var m,x,y,A,w=b||g.length,C=new Array(2*w);for(m=x=0;m<w;)if((y=g[m++])<128)C[x++]=y;else if(4<(A=c[y]))C[x++]=65533,m+=A-1;else{for(y&=A===2?31:A===3?15:7;1<A&&m<w;)y=y<<6|63&g[m++],A--;1<A?C[x++]=65533:y<65536?C[x++]=y:(y-=65536,C[x++]=55296|y>>10&1023,C[x++]=56320|1023&y)}return h(C,x)},i.utf8border=function(g,b){var m;for((b=b||g.length)>g.length&&(b=g.length),m=b-1;0<=m&&(192&g[m])==128;)m--;return m<0||m===0?b:m+c[g[m]]>b?m:b}},{"./common":41}],43:[function(t,r,i){r.exports=function(s,a,l,c){for(var d=65535&s|0,h=s>>>16&65535|0,g=0;l!==0;){for(l-=g=2e3<l?2e3:l;h=h+(d=d+a[c++]|0)|0,--g;);d%=65521,h%=65521}return d|h<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var s=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();r.exports=function(a,l,c,d){var h=s,g=d+c;a^=-1;for(var b=d;b<g;b++)a=a>>>8^h[255&(a^l[b])];return-1^a}},{}],46:[function(t,r,i){var s,a=t("../utils/common"),l=t("./trees"),c=t("./adler32"),d=t("./crc32"),h=t("./messages"),g=0,b=4,m=0,x=-2,y=-1,A=4,w=2,C=8,k=9,R=286,q=30,D=19,N=2*R+1,P=15,z=3,X=258,j=X+z+1,O=42,M=113,T=1,Q=2,H=3,Y=4;function Z(V,we){return V.msg=h[we],we}function ae(V){return(V<<1)-(4<V?9:0)}function G(V){for(var we=V.length;0<=--we;)V[we]=0}function le(V){var we=V.state,se=we.pending;se>V.avail_out&&(se=V.avail_out),se!==0&&(a.arraySet(V.output,we.pending_buf,we.pending_out,se,V.next_out),V.next_out+=se,we.pending_out+=se,V.total_out+=se,V.avail_out-=se,we.pending-=se,we.pending===0&&(we.pending_out=0))}function U(V,we){l._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,we),V.block_start=V.strstart,le(V.strm)}function B(V,we){V.pending_buf[V.pending++]=we}function ie(V,we){V.pending_buf[V.pending++]=we>>>8&255,V.pending_buf[V.pending++]=255&we}function J(V,we){var se,he,de=V.max_chain_length,ve=V.strstart,Oe=V.prev_length,Re=V.nice_match,Ee=V.strstart>V.w_size-j?V.strstart-(V.w_size-j):0,Ge=V.window,Xe=V.w_mask,Be=V.prev,rt=V.strstart+X,je=Ge[ve+Oe-1],He=Ge[ve+Oe];V.prev_length>=V.good_match&&(de>>=2),Re>V.lookahead&&(Re=V.lookahead);do if(Ge[(se=we)+Oe]===He&&Ge[se+Oe-1]===je&&Ge[se]===Ge[ve]&&Ge[++se]===Ge[ve+1]){ve+=2,se++;do;while(Ge[++ve]===Ge[++se]&&Ge[++ve]===Ge[++se]&&Ge[++ve]===Ge[++se]&&Ge[++ve]===Ge[++se]&&Ge[++ve]===Ge[++se]&&Ge[++ve]===Ge[++se]&&Ge[++ve]===Ge[++se]&&Ge[++ve]===Ge[++se]&&ve<rt);if(he=X-(rt-ve),ve=rt-X,Oe<he){if(V.match_start=we,Re<=(Oe=he))break;je=Ge[ve+Oe-1],He=Ge[ve+Oe]}}while((we=Be[we&Xe])>Ee&&--de!=0);return Oe<=V.lookahead?Oe:V.lookahead}function ne(V){var we,se,he,de,ve,Oe,Re,Ee,Ge,Xe,Be=V.w_size;do{if(de=V.window_size-V.lookahead-V.strstart,V.strstart>=Be+(Be-j)){for(a.arraySet(V.window,V.window,Be,Be,0),V.match_start-=Be,V.strstart-=Be,V.block_start-=Be,we=se=V.hash_size;he=V.head[--we],V.head[we]=Be<=he?he-Be:0,--se;);for(we=se=Be;he=V.prev[--we],V.prev[we]=Be<=he?he-Be:0,--se;);de+=Be}if(V.strm.avail_in===0)break;if(Oe=V.strm,Re=V.window,Ee=V.strstart+V.lookahead,Ge=de,Xe=void 0,Xe=Oe.avail_in,Ge<Xe&&(Xe=Ge),se=Xe===0?0:(Oe.avail_in-=Xe,a.arraySet(Re,Oe.input,Oe.next_in,Xe,Ee),Oe.state.wrap===1?Oe.adler=c(Oe.adler,Re,Xe,Ee):Oe.state.wrap===2&&(Oe.adler=d(Oe.adler,Re,Xe,Ee)),Oe.next_in+=Xe,Oe.total_in+=Xe,Xe),V.lookahead+=se,V.lookahead+V.insert>=z)for(ve=V.strstart-V.insert,V.ins_h=V.window[ve],V.ins_h=(V.ins_h<<V.hash_shift^V.window[ve+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[ve+z-1])&V.hash_mask,V.prev[ve&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=ve,ve++,V.insert--,!(V.lookahead+V.insert<z)););}while(V.lookahead<j&&V.strm.avail_in!==0)}function xe(V,we){for(var se,he;;){if(V.lookahead<j){if(ne(V),V.lookahead<j&&we===g)return T;if(V.lookahead===0)break}if(se=0,V.lookahead>=z&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+z-1])&V.hash_mask,se=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),se!==0&&V.strstart-se<=V.w_size-j&&(V.match_length=J(V,se)),V.match_length>=z)if(he=l._tr_tally(V,V.strstart-V.match_start,V.match_length-z),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=z){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+z-1])&V.hash_mask,se=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else he=l._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(he&&(U(V,!1),V.strm.avail_out===0))return T}return V.insert=V.strstart<z-1?V.strstart:z-1,we===b?(U(V,!0),V.strm.avail_out===0?H:Y):V.last_lit&&(U(V,!1),V.strm.avail_out===0)?T:Q}function ye(V,we){for(var se,he,de;;){if(V.lookahead<j){if(ne(V),V.lookahead<j&&we===g)return T;if(V.lookahead===0)break}if(se=0,V.lookahead>=z&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+z-1])&V.hash_mask,se=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=z-1,se!==0&&V.prev_length<V.max_lazy_match&&V.strstart-se<=V.w_size-j&&(V.match_length=J(V,se),V.match_length<=5&&(V.strategy===1||V.match_length===z&&4096<V.strstart-V.match_start)&&(V.match_length=z-1)),V.prev_length>=z&&V.match_length<=V.prev_length){for(de=V.strstart+V.lookahead-z,he=l._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-z),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=de&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+z-1])&V.hash_mask,se=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=z-1,V.strstart++,he&&(U(V,!1),V.strm.avail_out===0))return T}else if(V.match_available){if((he=l._tr_tally(V,0,V.window[V.strstart-1]))&&U(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return T}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(he=l._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<z-1?V.strstart:z-1,we===b?(U(V,!0),V.strm.avail_out===0?H:Y):V.last_lit&&(U(V,!1),V.strm.avail_out===0)?T:Q}function Ae(V,we,se,he,de){this.good_length=V,this.max_lazy=we,this.nice_length=se,this.max_chain=he,this.func=de}function Ne(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*N),this.dyn_dtree=new a.Buf16(2*(2*q+1)),this.bl_tree=new a.Buf16(2*(2*D+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(P+1),this.heap=new a.Buf16(2*R+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*R+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Te(V){var we;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=w,(we=V.state).pending=0,we.pending_out=0,we.wrap<0&&(we.wrap=-we.wrap),we.status=we.wrap?O:M,V.adler=we.wrap===2?0:1,we.last_flush=g,l._tr_init(we),m):Z(V,x)}function qe(V){var we=Te(V);return we===m&&function(se){se.window_size=2*se.w_size,G(se.head),se.max_lazy_match=s[se.level].max_lazy,se.good_match=s[se.level].good_length,se.nice_match=s[se.level].nice_length,se.max_chain_length=s[se.level].max_chain,se.strstart=0,se.block_start=0,se.lookahead=0,se.insert=0,se.match_length=se.prev_length=z-1,se.match_available=0,se.ins_h=0}(V.state),we}function $e(V,we,se,he,de,ve){if(!V)return x;var Oe=1;if(we===y&&(we=6),he<0?(Oe=0,he=-he):15<he&&(Oe=2,he-=16),de<1||k<de||se!==C||he<8||15<he||we<0||9<we||ve<0||A<ve)return Z(V,x);he===8&&(he=9);var Re=new Ne;return(V.state=Re).strm=V,Re.wrap=Oe,Re.gzhead=null,Re.w_bits=he,Re.w_size=1<<Re.w_bits,Re.w_mask=Re.w_size-1,Re.hash_bits=de+7,Re.hash_size=1<<Re.hash_bits,Re.hash_mask=Re.hash_size-1,Re.hash_shift=~~((Re.hash_bits+z-1)/z),Re.window=new a.Buf8(2*Re.w_size),Re.head=new a.Buf16(Re.hash_size),Re.prev=new a.Buf16(Re.w_size),Re.lit_bufsize=1<<de+6,Re.pending_buf_size=4*Re.lit_bufsize,Re.pending_buf=new a.Buf8(Re.pending_buf_size),Re.d_buf=1*Re.lit_bufsize,Re.l_buf=3*Re.lit_bufsize,Re.level=we,Re.strategy=ve,Re.method=se,qe(V)}s=[new Ae(0,0,0,0,function(V,we){var se=65535;for(se>V.pending_buf_size-5&&(se=V.pending_buf_size-5);;){if(V.lookahead<=1){if(ne(V),V.lookahead===0&&we===g)return T;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var he=V.block_start+se;if((V.strstart===0||V.strstart>=he)&&(V.lookahead=V.strstart-he,V.strstart=he,U(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-j&&(U(V,!1),V.strm.avail_out===0))return T}return V.insert=0,we===b?(U(V,!0),V.strm.avail_out===0?H:Y):(V.strstart>V.block_start&&(U(V,!1),V.strm.avail_out),T)}),new Ae(4,4,8,4,xe),new Ae(4,5,16,8,xe),new Ae(4,6,32,32,xe),new Ae(4,4,16,16,ye),new Ae(8,16,32,32,ye),new Ae(8,16,128,128,ye),new Ae(8,32,128,256,ye),new Ae(32,128,258,1024,ye),new Ae(32,258,258,4096,ye)],i.deflateInit=function(V,we){return $e(V,we,C,15,8,0)},i.deflateInit2=$e,i.deflateReset=qe,i.deflateResetKeep=Te,i.deflateSetHeader=function(V,we){return V&&V.state?V.state.wrap!==2?x:(V.state.gzhead=we,m):x},i.deflate=function(V,we){var se,he,de,ve;if(!V||!V.state||5<we||we<0)return V?Z(V,x):x;if(he=V.state,!V.output||!V.input&&V.avail_in!==0||he.status===666&&we!==b)return Z(V,V.avail_out===0?-5:x);if(he.strm=V,se=he.last_flush,he.last_flush=we,he.status===O)if(he.wrap===2)V.adler=0,B(he,31),B(he,139),B(he,8),he.gzhead?(B(he,(he.gzhead.text?1:0)+(he.gzhead.hcrc?2:0)+(he.gzhead.extra?4:0)+(he.gzhead.name?8:0)+(he.gzhead.comment?16:0)),B(he,255&he.gzhead.time),B(he,he.gzhead.time>>8&255),B(he,he.gzhead.time>>16&255),B(he,he.gzhead.time>>24&255),B(he,he.level===9?2:2<=he.strategy||he.level<2?4:0),B(he,255&he.gzhead.os),he.gzhead.extra&&he.gzhead.extra.length&&(B(he,255&he.gzhead.extra.length),B(he,he.gzhead.extra.length>>8&255)),he.gzhead.hcrc&&(V.adler=d(V.adler,he.pending_buf,he.pending,0)),he.gzindex=0,he.status=69):(B(he,0),B(he,0),B(he,0),B(he,0),B(he,0),B(he,he.level===9?2:2<=he.strategy||he.level<2?4:0),B(he,3),he.status=M);else{var Oe=C+(he.w_bits-8<<4)<<8;Oe|=(2<=he.strategy||he.level<2?0:he.level<6?1:he.level===6?2:3)<<6,he.strstart!==0&&(Oe|=32),Oe+=31-Oe%31,he.status=M,ie(he,Oe),he.strstart!==0&&(ie(he,V.adler>>>16),ie(he,65535&V.adler)),V.adler=1}if(he.status===69)if(he.gzhead.extra){for(de=he.pending;he.gzindex<(65535&he.gzhead.extra.length)&&(he.pending!==he.pending_buf_size||(he.gzhead.hcrc&&he.pending>de&&(V.adler=d(V.adler,he.pending_buf,he.pending-de,de)),le(V),de=he.pending,he.pending!==he.pending_buf_size));)B(he,255&he.gzhead.extra[he.gzindex]),he.gzindex++;he.gzhead.hcrc&&he.pending>de&&(V.adler=d(V.adler,he.pending_buf,he.pending-de,de)),he.gzindex===he.gzhead.extra.length&&(he.gzindex=0,he.status=73)}else he.status=73;if(he.status===73)if(he.gzhead.name){de=he.pending;do{if(he.pending===he.pending_buf_size&&(he.gzhead.hcrc&&he.pending>de&&(V.adler=d(V.adler,he.pending_buf,he.pending-de,de)),le(V),de=he.pending,he.pending===he.pending_buf_size)){ve=1;break}ve=he.gzindex<he.gzhead.name.length?255&he.gzhead.name.charCodeAt(he.gzindex++):0,B(he,ve)}while(ve!==0);he.gzhead.hcrc&&he.pending>de&&(V.adler=d(V.adler,he.pending_buf,he.pending-de,de)),ve===0&&(he.gzindex=0,he.status=91)}else he.status=91;if(he.status===91)if(he.gzhead.comment){de=he.pending;do{if(he.pending===he.pending_buf_size&&(he.gzhead.hcrc&&he.pending>de&&(V.adler=d(V.adler,he.pending_buf,he.pending-de,de)),le(V),de=he.pending,he.pending===he.pending_buf_size)){ve=1;break}ve=he.gzindex<he.gzhead.comment.length?255&he.gzhead.comment.charCodeAt(he.gzindex++):0,B(he,ve)}while(ve!==0);he.gzhead.hcrc&&he.pending>de&&(V.adler=d(V.adler,he.pending_buf,he.pending-de,de)),ve===0&&(he.status=103)}else he.status=103;if(he.status===103&&(he.gzhead.hcrc?(he.pending+2>he.pending_buf_size&&le(V),he.pending+2<=he.pending_buf_size&&(B(he,255&V.adler),B(he,V.adler>>8&255),V.adler=0,he.status=M)):he.status=M),he.pending!==0){if(le(V),V.avail_out===0)return he.last_flush=-1,m}else if(V.avail_in===0&&ae(we)<=ae(se)&&we!==b)return Z(V,-5);if(he.status===666&&V.avail_in!==0)return Z(V,-5);if(V.avail_in!==0||he.lookahead!==0||we!==g&&he.status!==666){var Re=he.strategy===2?function(Ee,Ge){for(var Xe;;){if(Ee.lookahead===0&&(ne(Ee),Ee.lookahead===0)){if(Ge===g)return T;break}if(Ee.match_length=0,Xe=l._tr_tally(Ee,0,Ee.window[Ee.strstart]),Ee.lookahead--,Ee.strstart++,Xe&&(U(Ee,!1),Ee.strm.avail_out===0))return T}return Ee.insert=0,Ge===b?(U(Ee,!0),Ee.strm.avail_out===0?H:Y):Ee.last_lit&&(U(Ee,!1),Ee.strm.avail_out===0)?T:Q}(he,we):he.strategy===3?function(Ee,Ge){for(var Xe,Be,rt,je,He=Ee.window;;){if(Ee.lookahead<=X){if(ne(Ee),Ee.lookahead<=X&&Ge===g)return T;if(Ee.lookahead===0)break}if(Ee.match_length=0,Ee.lookahead>=z&&0<Ee.strstart&&(Be=He[rt=Ee.strstart-1])===He[++rt]&&Be===He[++rt]&&Be===He[++rt]){je=Ee.strstart+X;do;while(Be===He[++rt]&&Be===He[++rt]&&Be===He[++rt]&&Be===He[++rt]&&Be===He[++rt]&&Be===He[++rt]&&Be===He[++rt]&&Be===He[++rt]&&rt<je);Ee.match_length=X-(je-rt),Ee.match_length>Ee.lookahead&&(Ee.match_length=Ee.lookahead)}if(Ee.match_length>=z?(Xe=l._tr_tally(Ee,1,Ee.match_length-z),Ee.lookahead-=Ee.match_length,Ee.strstart+=Ee.match_length,Ee.match_length=0):(Xe=l._tr_tally(Ee,0,Ee.window[Ee.strstart]),Ee.lookahead--,Ee.strstart++),Xe&&(U(Ee,!1),Ee.strm.avail_out===0))return T}return Ee.insert=0,Ge===b?(U(Ee,!0),Ee.strm.avail_out===0?H:Y):Ee.last_lit&&(U(Ee,!1),Ee.strm.avail_out===0)?T:Q}(he,we):s[he.level].func(he,we);if(Re!==H&&Re!==Y||(he.status=666),Re===T||Re===H)return V.avail_out===0&&(he.last_flush=-1),m;if(Re===Q&&(we===1?l._tr_align(he):we!==5&&(l._tr_stored_block(he,0,0,!1),we===3&&(G(he.head),he.lookahead===0&&(he.strstart=0,he.block_start=0,he.insert=0))),le(V),V.avail_out===0))return he.last_flush=-1,m}return we!==b?m:he.wrap<=0?1:(he.wrap===2?(B(he,255&V.adler),B(he,V.adler>>8&255),B(he,V.adler>>16&255),B(he,V.adler>>24&255),B(he,255&V.total_in),B(he,V.total_in>>8&255),B(he,V.total_in>>16&255),B(he,V.total_in>>24&255)):(ie(he,V.adler>>>16),ie(he,65535&V.adler)),le(V),0<he.wrap&&(he.wrap=-he.wrap),he.pending!==0?m:1)},i.deflateEnd=function(V){var we;return V&&V.state?(we=V.state.status)!==O&&we!==69&&we!==73&&we!==91&&we!==103&&we!==M&&we!==666?Z(V,x):(V.state=null,we===M?Z(V,-3):m):x},i.deflateSetDictionary=function(V,we){var se,he,de,ve,Oe,Re,Ee,Ge,Xe=we.length;if(!V||!V.state||(ve=(se=V.state).wrap)===2||ve===1&&se.status!==O||se.lookahead)return x;for(ve===1&&(V.adler=c(V.adler,we,Xe,0)),se.wrap=0,Xe>=se.w_size&&(ve===0&&(G(se.head),se.strstart=0,se.block_start=0,se.insert=0),Ge=new a.Buf8(se.w_size),a.arraySet(Ge,we,Xe-se.w_size,se.w_size,0),we=Ge,Xe=se.w_size),Oe=V.avail_in,Re=V.next_in,Ee=V.input,V.avail_in=Xe,V.next_in=0,V.input=we,ne(se);se.lookahead>=z;){for(he=se.strstart,de=se.lookahead-(z-1);se.ins_h=(se.ins_h<<se.hash_shift^se.window[he+z-1])&se.hash_mask,se.prev[he&se.w_mask]=se.head[se.ins_h],se.head[se.ins_h]=he,he++,--de;);se.strstart=he,se.lookahead=z-1,ne(se)}return se.strstart+=se.lookahead,se.block_start=se.strstart,se.insert=se.lookahead,se.lookahead=0,se.match_length=se.prev_length=z-1,se.match_available=0,V.next_in=Re,V.input=Ee,V.avail_in=Oe,se.wrap=ve,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(s,a){var l,c,d,h,g,b,m,x,y,A,w,C,k,R,q,D,N,P,z,X,j,O,M,T,Q;l=s.state,c=s.next_in,T=s.input,d=c+(s.avail_in-5),h=s.next_out,Q=s.output,g=h-(a-s.avail_out),b=h+(s.avail_out-257),m=l.dmax,x=l.wsize,y=l.whave,A=l.wnext,w=l.window,C=l.hold,k=l.bits,R=l.lencode,q=l.distcode,D=(1<<l.lenbits)-1,N=(1<<l.distbits)-1;e:do{k<15&&(C+=T[c++]<<k,k+=8,C+=T[c++]<<k,k+=8),P=R[C&D];t:for(;;){if(C>>>=z=P>>>24,k-=z,(z=P>>>16&255)===0)Q[h++]=65535&P;else{if(!(16&z)){if((64&z)==0){P=R[(65535&P)+(C&(1<<z)-1)];continue t}if(32&z){l.mode=12;break e}s.msg="invalid literal/length code",l.mode=30;break e}X=65535&P,(z&=15)&&(k<z&&(C+=T[c++]<<k,k+=8),X+=C&(1<<z)-1,C>>>=z,k-=z),k<15&&(C+=T[c++]<<k,k+=8,C+=T[c++]<<k,k+=8),P=q[C&N];n:for(;;){if(C>>>=z=P>>>24,k-=z,!(16&(z=P>>>16&255))){if((64&z)==0){P=q[(65535&P)+(C&(1<<z)-1)];continue n}s.msg="invalid distance code",l.mode=30;break e}if(j=65535&P,k<(z&=15)&&(C+=T[c++]<<k,(k+=8)<z&&(C+=T[c++]<<k,k+=8)),m<(j+=C&(1<<z)-1)){s.msg="invalid distance too far back",l.mode=30;break e}if(C>>>=z,k-=z,(z=h-g)<j){if(y<(z=j-z)&&l.sane){s.msg="invalid distance too far back",l.mode=30;break e}if(M=w,(O=0)===A){if(O+=x-z,z<X){for(X-=z;Q[h++]=w[O++],--z;);O=h-j,M=Q}}else if(A<z){if(O+=x+A-z,(z-=A)<X){for(X-=z;Q[h++]=w[O++],--z;);if(O=0,A<X){for(X-=z=A;Q[h++]=w[O++],--z;);O=h-j,M=Q}}}else if(O+=A-z,z<X){for(X-=z;Q[h++]=w[O++],--z;);O=h-j,M=Q}for(;2<X;)Q[h++]=M[O++],Q[h++]=M[O++],Q[h++]=M[O++],X-=3;X&&(Q[h++]=M[O++],1<X&&(Q[h++]=M[O++]))}else{for(O=h-j;Q[h++]=Q[O++],Q[h++]=Q[O++],Q[h++]=Q[O++],2<(X-=3););X&&(Q[h++]=Q[O++],1<X&&(Q[h++]=Q[O++]))}break}}break}}while(c<d&&h<b);c-=X=k>>3,C&=(1<<(k-=X<<3))-1,s.next_in=c,s.next_out=h,s.avail_in=c<d?d-c+5:5-(c-d),s.avail_out=h<b?b-h+257:257-(h-b),l.hold=C,l.bits=k}},{}],49:[function(t,r,i){var s=t("../utils/common"),a=t("./adler32"),l=t("./crc32"),c=t("./inffast"),d=t("./inftrees"),h=1,g=2,b=0,m=-2,x=1,y=852,A=592;function w(O){return(O>>>24&255)+(O>>>8&65280)+((65280&O)<<8)+((255&O)<<24)}function C(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(O){var M;return O&&O.state?(M=O.state,O.total_in=O.total_out=M.total=0,O.msg="",M.wrap&&(O.adler=1&M.wrap),M.mode=x,M.last=0,M.havedict=0,M.dmax=32768,M.head=null,M.hold=0,M.bits=0,M.lencode=M.lendyn=new s.Buf32(y),M.distcode=M.distdyn=new s.Buf32(A),M.sane=1,M.back=-1,b):m}function R(O){var M;return O&&O.state?((M=O.state).wsize=0,M.whave=0,M.wnext=0,k(O)):m}function q(O,M){var T,Q;return O&&O.state?(Q=O.state,M<0?(T=0,M=-M):(T=1+(M>>4),M<48&&(M&=15)),M&&(M<8||15<M)?m:(Q.window!==null&&Q.wbits!==M&&(Q.window=null),Q.wrap=T,Q.wbits=M,R(O))):m}function D(O,M){var T,Q;return O?(Q=new C,(O.state=Q).window=null,(T=q(O,M))!==b&&(O.state=null),T):m}var N,P,z=!0;function X(O){if(z){var M;for(N=new s.Buf32(512),P=new s.Buf32(32),M=0;M<144;)O.lens[M++]=8;for(;M<256;)O.lens[M++]=9;for(;M<280;)O.lens[M++]=7;for(;M<288;)O.lens[M++]=8;for(d(h,O.lens,0,288,N,0,O.work,{bits:9}),M=0;M<32;)O.lens[M++]=5;d(g,O.lens,0,32,P,0,O.work,{bits:5}),z=!1}O.lencode=N,O.lenbits=9,O.distcode=P,O.distbits=5}function j(O,M,T,Q){var H,Y=O.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new s.Buf8(Y.wsize)),Q>=Y.wsize?(s.arraySet(Y.window,M,T-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(Q<(H=Y.wsize-Y.wnext)&&(H=Q),s.arraySet(Y.window,M,T-Q,H,Y.wnext),(Q-=H)?(s.arraySet(Y.window,M,T-Q,Q,0),Y.wnext=Q,Y.whave=Y.wsize):(Y.wnext+=H,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=H))),0}i.inflateReset=R,i.inflateReset2=q,i.inflateResetKeep=k,i.inflateInit=function(O){return D(O,15)},i.inflateInit2=D,i.inflate=function(O,M){var T,Q,H,Y,Z,ae,G,le,U,B,ie,J,ne,xe,ye,Ae,Ne,Te,qe,$e,V,we,se,he,de=0,ve=new s.Buf8(4),Oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return m;(T=O.state).mode===12&&(T.mode=13),Z=O.next_out,H=O.output,G=O.avail_out,Y=O.next_in,Q=O.input,ae=O.avail_in,le=T.hold,U=T.bits,B=ae,ie=G,we=b;e:for(;;)switch(T.mode){case x:if(T.wrap===0){T.mode=13;break}for(;U<16;){if(ae===0)break e;ae--,le+=Q[Y++]<<U,U+=8}if(2&T.wrap&&le===35615){ve[T.check=0]=255&le,ve[1]=le>>>8&255,T.check=l(T.check,ve,2,0),U=le=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&le)<<8)+(le>>8))%31){O.msg="incorrect header check",T.mode=30;break}if((15&le)!=8){O.msg="unknown compression method",T.mode=30;break}if(U-=4,V=8+(15&(le>>>=4)),T.wbits===0)T.wbits=V;else if(V>T.wbits){O.msg="invalid window size",T.mode=30;break}T.dmax=1<<V,O.adler=T.check=1,T.mode=512&le?10:12,U=le=0;break;case 2:for(;U<16;){if(ae===0)break e;ae--,le+=Q[Y++]<<U,U+=8}if(T.flags=le,(255&T.flags)!=8){O.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){O.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=le>>8&1),512&T.flags&&(ve[0]=255&le,ve[1]=le>>>8&255,T.check=l(T.check,ve,2,0)),U=le=0,T.mode=3;case 3:for(;U<32;){if(ae===0)break e;ae--,le+=Q[Y++]<<U,U+=8}T.head&&(T.head.time=le),512&T.flags&&(ve[0]=255&le,ve[1]=le>>>8&255,ve[2]=le>>>16&255,ve[3]=le>>>24&255,T.check=l(T.check,ve,4,0)),U=le=0,T.mode=4;case 4:for(;U<16;){if(ae===0)break e;ae--,le+=Q[Y++]<<U,U+=8}T.head&&(T.head.xflags=255&le,T.head.os=le>>8),512&T.flags&&(ve[0]=255&le,ve[1]=le>>>8&255,T.check=l(T.check,ve,2,0)),U=le=0,T.mode=5;case 5:if(1024&T.flags){for(;U<16;){if(ae===0)break e;ae--,le+=Q[Y++]<<U,U+=8}T.length=le,T.head&&(T.head.extra_len=le),512&T.flags&&(ve[0]=255&le,ve[1]=le>>>8&255,T.check=l(T.check,ve,2,0)),U=le=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(ae<(J=T.length)&&(J=ae),J&&(T.head&&(V=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),s.arraySet(T.head.extra,Q,Y,J,V)),512&T.flags&&(T.check=l(T.check,Q,J,Y)),ae-=J,Y+=J,T.length-=J),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(ae===0)break e;for(J=0;V=Q[Y+J++],T.head&&V&&T.length<65536&&(T.head.name+=String.fromCharCode(V)),V&&J<ae;);if(512&T.flags&&(T.check=l(T.check,Q,J,Y)),ae-=J,Y+=J,V)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(ae===0)break e;for(J=0;V=Q[Y+J++],T.head&&V&&T.length<65536&&(T.head.comment+=String.fromCharCode(V)),V&&J<ae;);if(512&T.flags&&(T.check=l(T.check,Q,J,Y)),ae-=J,Y+=J,V)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;U<16;){if(ae===0)break e;ae--,le+=Q[Y++]<<U,U+=8}if(le!==(65535&T.check)){O.msg="header crc mismatch",T.mode=30;break}U=le=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),O.adler=T.check=0,T.mode=12;break;case 10:for(;U<32;){if(ae===0)break e;ae--,le+=Q[Y++]<<U,U+=8}O.adler=T.check=w(le),U=le=0,T.mode=11;case 11:if(T.havedict===0)return O.next_out=Z,O.avail_out=G,O.next_in=Y,O.avail_in=ae,T.hold=le,T.bits=U,2;O.adler=T.check=1,T.mode=12;case 12:if(M===5||M===6)break e;case 13:if(T.last){le>>>=7&U,U-=7&U,T.mode=27;break}for(;U<3;){if(ae===0)break e;ae--,le+=Q[Y++]<<U,U+=8}switch(T.last=1&le,U-=1,3&(le>>>=1)){case 0:T.mode=14;break;case 1:if(X(T),T.mode=20,M!==6)break;le>>>=2,U-=2;break e;case 2:T.mode=17;break;case 3:O.msg="invalid block type",T.mode=30}le>>>=2,U-=2;break;case 14:for(le>>>=7&U,U-=7&U;U<32;){if(ae===0)break e;ae--,le+=Q[Y++]<<U,U+=8}if((65535&le)!=(le>>>16^65535)){O.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&le,U=le=0,T.mode=15,M===6)break e;case 15:T.mode=16;case 16:if(J=T.length){if(ae<J&&(J=ae),G<J&&(J=G),J===0)break e;s.arraySet(H,Q,Y,J,Z),ae-=J,Y+=J,G-=J,Z+=J,T.length-=J;break}T.mode=12;break;case 17:for(;U<14;){if(ae===0)break e;ae--,le+=Q[Y++]<<U,U+=8}if(T.nlen=257+(31&le),le>>>=5,U-=5,T.ndist=1+(31&le),le>>>=5,U-=5,T.ncode=4+(15&le),le>>>=4,U-=4,286<T.nlen||30<T.ndist){O.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;U<3;){if(ae===0)break e;ae--,le+=Q[Y++]<<U,U+=8}T.lens[Oe[T.have++]]=7&le,le>>>=3,U-=3}for(;T.have<19;)T.lens[Oe[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,se={bits:T.lenbits},we=d(0,T.lens,0,19,T.lencode,0,T.work,se),T.lenbits=se.bits,we){O.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;Ae=(de=T.lencode[le&(1<<T.lenbits)-1])>>>16&255,Ne=65535&de,!((ye=de>>>24)<=U);){if(ae===0)break e;ae--,le+=Q[Y++]<<U,U+=8}if(Ne<16)le>>>=ye,U-=ye,T.lens[T.have++]=Ne;else{if(Ne===16){for(he=ye+2;U<he;){if(ae===0)break e;ae--,le+=Q[Y++]<<U,U+=8}if(le>>>=ye,U-=ye,T.have===0){O.msg="invalid bit length repeat",T.mode=30;break}V=T.lens[T.have-1],J=3+(3&le),le>>>=2,U-=2}else if(Ne===17){for(he=ye+3;U<he;){if(ae===0)break e;ae--,le+=Q[Y++]<<U,U+=8}U-=ye,V=0,J=3+(7&(le>>>=ye)),le>>>=3,U-=3}else{for(he=ye+7;U<he;){if(ae===0)break e;ae--,le+=Q[Y++]<<U,U+=8}U-=ye,V=0,J=11+(127&(le>>>=ye)),le>>>=7,U-=7}if(T.have+J>T.nlen+T.ndist){O.msg="invalid bit length repeat",T.mode=30;break}for(;J--;)T.lens[T.have++]=V}}if(T.mode===30)break;if(T.lens[256]===0){O.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,se={bits:T.lenbits},we=d(h,T.lens,0,T.nlen,T.lencode,0,T.work,se),T.lenbits=se.bits,we){O.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,se={bits:T.distbits},we=d(g,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,se),T.distbits=se.bits,we){O.msg="invalid distances set",T.mode=30;break}if(T.mode=20,M===6)break e;case 20:T.mode=21;case 21:if(6<=ae&&258<=G){O.next_out=Z,O.avail_out=G,O.next_in=Y,O.avail_in=ae,T.hold=le,T.bits=U,c(O,ie),Z=O.next_out,H=O.output,G=O.avail_out,Y=O.next_in,Q=O.input,ae=O.avail_in,le=T.hold,U=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;Ae=(de=T.lencode[le&(1<<T.lenbits)-1])>>>16&255,Ne=65535&de,!((ye=de>>>24)<=U);){if(ae===0)break e;ae--,le+=Q[Y++]<<U,U+=8}if(Ae&&(240&Ae)==0){for(Te=ye,qe=Ae,$e=Ne;Ae=(de=T.lencode[$e+((le&(1<<Te+qe)-1)>>Te)])>>>16&255,Ne=65535&de,!(Te+(ye=de>>>24)<=U);){if(ae===0)break e;ae--,le+=Q[Y++]<<U,U+=8}le>>>=Te,U-=Te,T.back+=Te}if(le>>>=ye,U-=ye,T.back+=ye,T.length=Ne,Ae===0){T.mode=26;break}if(32&Ae){T.back=-1,T.mode=12;break}if(64&Ae){O.msg="invalid literal/length code",T.mode=30;break}T.extra=15&Ae,T.mode=22;case 22:if(T.extra){for(he=T.extra;U<he;){if(ae===0)break e;ae--,le+=Q[Y++]<<U,U+=8}T.length+=le&(1<<T.extra)-1,le>>>=T.extra,U-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;Ae=(de=T.distcode[le&(1<<T.distbits)-1])>>>16&255,Ne=65535&de,!((ye=de>>>24)<=U);){if(ae===0)break e;ae--,le+=Q[Y++]<<U,U+=8}if((240&Ae)==0){for(Te=ye,qe=Ae,$e=Ne;Ae=(de=T.distcode[$e+((le&(1<<Te+qe)-1)>>Te)])>>>16&255,Ne=65535&de,!(Te+(ye=de>>>24)<=U);){if(ae===0)break e;ae--,le+=Q[Y++]<<U,U+=8}le>>>=Te,U-=Te,T.back+=Te}if(le>>>=ye,U-=ye,T.back+=ye,64&Ae){O.msg="invalid distance code",T.mode=30;break}T.offset=Ne,T.extra=15&Ae,T.mode=24;case 24:if(T.extra){for(he=T.extra;U<he;){if(ae===0)break e;ae--,le+=Q[Y++]<<U,U+=8}T.offset+=le&(1<<T.extra)-1,le>>>=T.extra,U-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){O.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if(G===0)break e;if(J=ie-G,T.offset>J){if((J=T.offset-J)>T.whave&&T.sane){O.msg="invalid distance too far back",T.mode=30;break}ne=J>T.wnext?(J-=T.wnext,T.wsize-J):T.wnext-J,J>T.length&&(J=T.length),xe=T.window}else xe=H,ne=Z-T.offset,J=T.length;for(G<J&&(J=G),G-=J,T.length-=J;H[Z++]=xe[ne++],--J;);T.length===0&&(T.mode=21);break;case 26:if(G===0)break e;H[Z++]=T.length,G--,T.mode=21;break;case 27:if(T.wrap){for(;U<32;){if(ae===0)break e;ae--,le|=Q[Y++]<<U,U+=8}if(ie-=G,O.total_out+=ie,T.total+=ie,ie&&(O.adler=T.check=T.flags?l(T.check,H,ie,Z-ie):a(T.check,H,ie,Z-ie)),ie=G,(T.flags?le:w(le))!==T.check){O.msg="incorrect data check",T.mode=30;break}U=le=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;U<32;){if(ae===0)break e;ae--,le+=Q[Y++]<<U,U+=8}if(le!==(4294967295&T.total)){O.msg="incorrect length check",T.mode=30;break}U=le=0}T.mode=29;case 29:we=1;break e;case 30:we=-3;break e;case 31:return-4;case 32:default:return m}return O.next_out=Z,O.avail_out=G,O.next_in=Y,O.avail_in=ae,T.hold=le,T.bits=U,(T.wsize||ie!==O.avail_out&&T.mode<30&&(T.mode<27||M!==4))&&j(O,O.output,O.next_out,ie-O.avail_out)?(T.mode=31,-4):(B-=O.avail_in,ie-=O.avail_out,O.total_in+=B,O.total_out+=ie,T.total+=ie,T.wrap&&ie&&(O.adler=T.check=T.flags?l(T.check,H,ie,O.next_out-ie):a(T.check,H,ie,O.next_out-ie)),O.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(B==0&&ie===0||M===4)&&we===b&&(we=-5),we)},i.inflateEnd=function(O){if(!O||!O.state)return m;var M=O.state;return M.window&&(M.window=null),O.state=null,b},i.inflateGetHeader=function(O,M){var T;return O&&O.state?(2&(T=O.state).wrap)==0?m:((T.head=M).done=!1,b):m},i.inflateSetDictionary=function(O,M){var T,Q=M.length;return O&&O.state?(T=O.state).wrap!==0&&T.mode!==11?m:T.mode===11&&a(1,M,Q,0)!==T.check?-3:j(O,M,Q,Q)?(T.mode=31,-4):(T.havedict=1,b):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var s=t("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(h,g,b,m,x,y,A,w){var C,k,R,q,D,N,P,z,X,j=w.bits,O=0,M=0,T=0,Q=0,H=0,Y=0,Z=0,ae=0,G=0,le=0,U=null,B=0,ie=new s.Buf16(16),J=new s.Buf16(16),ne=null,xe=0;for(O=0;O<=15;O++)ie[O]=0;for(M=0;M<m;M++)ie[g[b+M]]++;for(H=j,Q=15;1<=Q&&ie[Q]===0;Q--);if(Q<H&&(H=Q),Q===0)return x[y++]=20971520,x[y++]=20971520,w.bits=1,0;for(T=1;T<Q&&ie[T]===0;T++);for(H<T&&(H=T),O=ae=1;O<=15;O++)if(ae<<=1,(ae-=ie[O])<0)return-1;if(0<ae&&(h===0||Q!==1))return-1;for(J[1]=0,O=1;O<15;O++)J[O+1]=J[O]+ie[O];for(M=0;M<m;M++)g[b+M]!==0&&(A[J[g[b+M]]++]=M);if(N=h===0?(U=ne=A,19):h===1?(U=a,B-=257,ne=l,xe-=257,256):(U=c,ne=d,-1),O=T,D=y,Z=M=le=0,R=-1,q=(G=1<<(Y=H))-1,h===1&&852<G||h===2&&592<G)return 1;for(;;){for(P=O-Z,X=A[M]<N?(z=0,A[M]):A[M]>N?(z=ne[xe+A[M]],U[B+A[M]]):(z=96,0),C=1<<O-Z,T=k=1<<Y;x[D+(le>>Z)+(k-=C)]=P<<24|z<<16|X|0,k!==0;);for(C=1<<O-1;le&C;)C>>=1;if(C!==0?(le&=C-1,le+=C):le=0,M++,--ie[O]==0){if(O===Q)break;O=g[b+A[M]]}if(H<O&&(le&q)!==R){for(Z===0&&(Z=H),D+=T,ae=1<<(Y=O-Z);Y+Z<Q&&!((ae-=ie[Y+Z])<=0);)Y++,ae<<=1;if(G+=1<<Y,h===1&&852<G||h===2&&592<G)return 1;x[R=le&q]=H<<24|Y<<16|D-y|0}}return le!==0&&(x[D+le]=O-Z<<24|64<<16|0),w.bits=H,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var s=t("../utils/common"),a=0,l=1;function c(de){for(var ve=de.length;0<=--ve;)de[ve]=0}var d=0,h=29,g=256,b=g+1+h,m=30,x=19,y=2*b+1,A=15,w=16,C=7,k=256,R=16,q=17,D=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(b+2));c(j);var O=new Array(2*m);c(O);var M=new Array(512);c(M);var T=new Array(256);c(T);var Q=new Array(h);c(Q);var H,Y,Z,ae=new Array(m);function G(de,ve,Oe,Re,Ee){this.static_tree=de,this.extra_bits=ve,this.extra_base=Oe,this.elems=Re,this.max_length=Ee,this.has_stree=de&&de.length}function le(de,ve){this.dyn_tree=de,this.max_code=0,this.stat_desc=ve}function U(de){return de<256?M[de]:M[256+(de>>>7)]}function B(de,ve){de.pending_buf[de.pending++]=255&ve,de.pending_buf[de.pending++]=ve>>>8&255}function ie(de,ve,Oe){de.bi_valid>w-Oe?(de.bi_buf|=ve<<de.bi_valid&65535,B(de,de.bi_buf),de.bi_buf=ve>>w-de.bi_valid,de.bi_valid+=Oe-w):(de.bi_buf|=ve<<de.bi_valid&65535,de.bi_valid+=Oe)}function J(de,ve,Oe){ie(de,Oe[2*ve],Oe[2*ve+1])}function ne(de,ve){for(var Oe=0;Oe|=1&de,de>>>=1,Oe<<=1,0<--ve;);return Oe>>>1}function xe(de,ve,Oe){var Re,Ee,Ge=new Array(A+1),Xe=0;for(Re=1;Re<=A;Re++)Ge[Re]=Xe=Xe+Oe[Re-1]<<1;for(Ee=0;Ee<=ve;Ee++){var Be=de[2*Ee+1];Be!==0&&(de[2*Ee]=ne(Ge[Be]++,Be))}}function ye(de){var ve;for(ve=0;ve<b;ve++)de.dyn_ltree[2*ve]=0;for(ve=0;ve<m;ve++)de.dyn_dtree[2*ve]=0;for(ve=0;ve<x;ve++)de.bl_tree[2*ve]=0;de.dyn_ltree[2*k]=1,de.opt_len=de.static_len=0,de.last_lit=de.matches=0}function Ae(de){8<de.bi_valid?B(de,de.bi_buf):0<de.bi_valid&&(de.pending_buf[de.pending++]=de.bi_buf),de.bi_buf=0,de.bi_valid=0}function Ne(de,ve,Oe,Re){var Ee=2*ve,Ge=2*Oe;return de[Ee]<de[Ge]||de[Ee]===de[Ge]&&Re[ve]<=Re[Oe]}function Te(de,ve,Oe){for(var Re=de.heap[Oe],Ee=Oe<<1;Ee<=de.heap_len&&(Ee<de.heap_len&&Ne(ve,de.heap[Ee+1],de.heap[Ee],de.depth)&&Ee++,!Ne(ve,Re,de.heap[Ee],de.depth));)de.heap[Oe]=de.heap[Ee],Oe=Ee,Ee<<=1;de.heap[Oe]=Re}function qe(de,ve,Oe){var Re,Ee,Ge,Xe,Be=0;if(de.last_lit!==0)for(;Re=de.pending_buf[de.d_buf+2*Be]<<8|de.pending_buf[de.d_buf+2*Be+1],Ee=de.pending_buf[de.l_buf+Be],Be++,Re===0?J(de,Ee,ve):(J(de,(Ge=T[Ee])+g+1,ve),(Xe=N[Ge])!==0&&ie(de,Ee-=Q[Ge],Xe),J(de,Ge=U(--Re),Oe),(Xe=P[Ge])!==0&&ie(de,Re-=ae[Ge],Xe)),Be<de.last_lit;);J(de,k,ve)}function $e(de,ve){var Oe,Re,Ee,Ge=ve.dyn_tree,Xe=ve.stat_desc.static_tree,Be=ve.stat_desc.has_stree,rt=ve.stat_desc.elems,je=-1;for(de.heap_len=0,de.heap_max=y,Oe=0;Oe<rt;Oe++)Ge[2*Oe]!==0?(de.heap[++de.heap_len]=je=Oe,de.depth[Oe]=0):Ge[2*Oe+1]=0;for(;de.heap_len<2;)Ge[2*(Ee=de.heap[++de.heap_len]=je<2?++je:0)]=1,de.depth[Ee]=0,de.opt_len--,Be&&(de.static_len-=Xe[2*Ee+1]);for(ve.max_code=je,Oe=de.heap_len>>1;1<=Oe;Oe--)Te(de,Ge,Oe);for(Ee=rt;Oe=de.heap[1],de.heap[1]=de.heap[de.heap_len--],Te(de,Ge,1),Re=de.heap[1],de.heap[--de.heap_max]=Oe,de.heap[--de.heap_max]=Re,Ge[2*Ee]=Ge[2*Oe]+Ge[2*Re],de.depth[Ee]=(de.depth[Oe]>=de.depth[Re]?de.depth[Oe]:de.depth[Re])+1,Ge[2*Oe+1]=Ge[2*Re+1]=Ee,de.heap[1]=Ee++,Te(de,Ge,1),2<=de.heap_len;);de.heap[--de.heap_max]=de.heap[1],function(He,Je){var At,lt,tn,jt,_n,Gt,Xt=Je.dyn_tree,Zt=Je.max_code,nn=Je.stat_desc.static_tree,Rn=Je.stat_desc.has_stree,Mn=Je.stat_desc.extra_bits,Nr=Je.stat_desc.extra_base,Zn=Je.stat_desc.max_length,In=0;for(jt=0;jt<=A;jt++)He.bl_count[jt]=0;for(Xt[2*He.heap[He.heap_max]+1]=0,At=He.heap_max+1;At<y;At++)Zn<(jt=Xt[2*Xt[2*(lt=He.heap[At])+1]+1]+1)&&(jt=Zn,In++),Xt[2*lt+1]=jt,Zt<lt||(He.bl_count[jt]++,_n=0,Nr<=lt&&(_n=Mn[lt-Nr]),Gt=Xt[2*lt],He.opt_len+=Gt*(jt+_n),Rn&&(He.static_len+=Gt*(nn[2*lt+1]+_n)));if(In!==0){do{for(jt=Zn-1;He.bl_count[jt]===0;)jt--;He.bl_count[jt]--,He.bl_count[jt+1]+=2,He.bl_count[Zn]--,In-=2}while(0<In);for(jt=Zn;jt!==0;jt--)for(lt=He.bl_count[jt];lt!==0;)Zt<(tn=He.heap[--At])||(Xt[2*tn+1]!==jt&&(He.opt_len+=(jt-Xt[2*tn+1])*Xt[2*tn],Xt[2*tn+1]=jt),lt--)}}(de,ve),xe(Ge,je,de.bl_count)}function V(de,ve,Oe){var Re,Ee,Ge=-1,Xe=ve[1],Be=0,rt=7,je=4;for(Xe===0&&(rt=138,je=3),ve[2*(Oe+1)+1]=65535,Re=0;Re<=Oe;Re++)Ee=Xe,Xe=ve[2*(Re+1)+1],++Be<rt&&Ee===Xe||(Be<je?de.bl_tree[2*Ee]+=Be:Ee!==0?(Ee!==Ge&&de.bl_tree[2*Ee]++,de.bl_tree[2*R]++):Be<=10?de.bl_tree[2*q]++:de.bl_tree[2*D]++,Ge=Ee,je=(Be=0)===Xe?(rt=138,3):Ee===Xe?(rt=6,3):(rt=7,4))}function we(de,ve,Oe){var Re,Ee,Ge=-1,Xe=ve[1],Be=0,rt=7,je=4;for(Xe===0&&(rt=138,je=3),Re=0;Re<=Oe;Re++)if(Ee=Xe,Xe=ve[2*(Re+1)+1],!(++Be<rt&&Ee===Xe)){if(Be<je)for(;J(de,Ee,de.bl_tree),--Be!=0;);else Ee!==0?(Ee!==Ge&&(J(de,Ee,de.bl_tree),Be--),J(de,R,de.bl_tree),ie(de,Be-3,2)):Be<=10?(J(de,q,de.bl_tree),ie(de,Be-3,3)):(J(de,D,de.bl_tree),ie(de,Be-11,7));Ge=Ee,je=(Be=0)===Xe?(rt=138,3):Ee===Xe?(rt=6,3):(rt=7,4)}}c(ae);var se=!1;function he(de,ve,Oe,Re){ie(de,(d<<1)+(Re?1:0),3),function(Ee,Ge,Xe,Be){Ae(Ee),B(Ee,Xe),B(Ee,~Xe),s.arraySet(Ee.pending_buf,Ee.window,Ge,Xe,Ee.pending),Ee.pending+=Xe}(de,ve,Oe)}i._tr_init=function(de){se||(function(){var ve,Oe,Re,Ee,Ge,Xe=new Array(A+1);for(Ee=Re=0;Ee<h-1;Ee++)for(Q[Ee]=Re,ve=0;ve<1<<N[Ee];ve++)T[Re++]=Ee;for(T[Re-1]=Ee,Ee=Ge=0;Ee<16;Ee++)for(ae[Ee]=Ge,ve=0;ve<1<<P[Ee];ve++)M[Ge++]=Ee;for(Ge>>=7;Ee<m;Ee++)for(ae[Ee]=Ge<<7,ve=0;ve<1<<P[Ee]-7;ve++)M[256+Ge++]=Ee;for(Oe=0;Oe<=A;Oe++)Xe[Oe]=0;for(ve=0;ve<=143;)j[2*ve+1]=8,ve++,Xe[8]++;for(;ve<=255;)j[2*ve+1]=9,ve++,Xe[9]++;for(;ve<=279;)j[2*ve+1]=7,ve++,Xe[7]++;for(;ve<=287;)j[2*ve+1]=8,ve++,Xe[8]++;for(xe(j,b+1,Xe),ve=0;ve<m;ve++)O[2*ve+1]=5,O[2*ve]=ne(ve,5);H=new G(j,N,g+1,b,A),Y=new G(O,P,0,m,A),Z=new G(new Array(0),z,0,x,C)}(),se=!0),de.l_desc=new le(de.dyn_ltree,H),de.d_desc=new le(de.dyn_dtree,Y),de.bl_desc=new le(de.bl_tree,Z),de.bi_buf=0,de.bi_valid=0,ye(de)},i._tr_stored_block=he,i._tr_flush_block=function(de,ve,Oe,Re){var Ee,Ge,Xe=0;0<de.level?(de.strm.data_type===2&&(de.strm.data_type=function(Be){var rt,je=4093624447;for(rt=0;rt<=31;rt++,je>>>=1)if(1&je&&Be.dyn_ltree[2*rt]!==0)return a;if(Be.dyn_ltree[18]!==0||Be.dyn_ltree[20]!==0||Be.dyn_ltree[26]!==0)return l;for(rt=32;rt<g;rt++)if(Be.dyn_ltree[2*rt]!==0)return l;return a}(de)),$e(de,de.l_desc),$e(de,de.d_desc),Xe=function(Be){var rt;for(V(Be,Be.dyn_ltree,Be.l_desc.max_code),V(Be,Be.dyn_dtree,Be.d_desc.max_code),$e(Be,Be.bl_desc),rt=x-1;3<=rt&&Be.bl_tree[2*X[rt]+1]===0;rt--);return Be.opt_len+=3*(rt+1)+5+5+4,rt}(de),Ee=de.opt_len+3+7>>>3,(Ge=de.static_len+3+7>>>3)<=Ee&&(Ee=Ge)):Ee=Ge=Oe+5,Oe+4<=Ee&&ve!==-1?he(de,ve,Oe,Re):de.strategy===4||Ge===Ee?(ie(de,2+(Re?1:0),3),qe(de,j,O)):(ie(de,4+(Re?1:0),3),function(Be,rt,je,He){var Je;for(ie(Be,rt-257,5),ie(Be,je-1,5),ie(Be,He-4,4),Je=0;Je<He;Je++)ie(Be,Be.bl_tree[2*X[Je]+1],3);we(Be,Be.dyn_ltree,rt-1),we(Be,Be.dyn_dtree,je-1)}(de,de.l_desc.max_code+1,de.d_desc.max_code+1,Xe+1),qe(de,de.dyn_ltree,de.dyn_dtree)),ye(de),Re&&Ae(de)},i._tr_tally=function(de,ve,Oe){return de.pending_buf[de.d_buf+2*de.last_lit]=ve>>>8&255,de.pending_buf[de.d_buf+2*de.last_lit+1]=255&ve,de.pending_buf[de.l_buf+de.last_lit]=255&Oe,de.last_lit++,ve===0?de.dyn_ltree[2*Oe]++:(de.matches++,ve--,de.dyn_ltree[2*(T[Oe]+g+1)]++,de.dyn_dtree[2*U(ve)]++),de.last_lit===de.lit_bufsize-1},i._tr_align=function(de){ie(de,2,3),J(de,k,j),function(ve){ve.bi_valid===16?(B(ve,ve.bi_buf),ve.bi_buf=0,ve.bi_valid=0):8<=ve.bi_valid&&(ve.pending_buf[ve.pending++]=255&ve.bi_buf,ve.bi_buf>>=8,ve.bi_valid-=8)}(de)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(s){(function(a,l){if(!a.setImmediate){var c,d,h,g,b=1,m={},x=!1,y=a.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(a);A=A&&A.setTimeout?A:a,c={}.toString.call(a.process)==="[object process]"?function(R){process.nextTick(function(){C(R)})}:function(){if(a.postMessage&&!a.importScripts){var R=!0,q=a.onmessage;return a.onmessage=function(){R=!1},a.postMessage("","*"),a.onmessage=q,R}}()?(g="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",k,!1):a.attachEvent("onmessage",k),function(R){a.postMessage(g+R,"*")}):a.MessageChannel?((h=new MessageChannel).port1.onmessage=function(R){C(R.data)},function(R){h.port2.postMessage(R)}):y&&"onreadystatechange"in y.createElement("script")?(d=y.documentElement,function(R){var q=y.createElement("script");q.onreadystatechange=function(){C(R),q.onreadystatechange=null,d.removeChild(q),q=null},d.appendChild(q)}):function(R){setTimeout(C,0,R)},A.setImmediate=function(R){typeof R!="function"&&(R=new Function(""+R));for(var q=new Array(arguments.length-1),D=0;D<q.length;D++)q[D]=arguments[D+1];var N={callback:R,args:q};return m[b]=N,c(b),b++},A.clearImmediate=w}function w(R){delete m[R]}function C(R){if(x)setTimeout(C,0,R);else{var q=m[R];if(q){x=!0;try{(function(D){var N=D.callback,P=D.args;switch(P.length){case 0:N();break;case 1:N(P[0]);break;case 2:N(P[0],P[1]);break;case 3:N(P[0],P[1],P[2]);break;default:N.apply(l,P)}})(q)}finally{w(R),x=!1}}}}function k(R){R.source===a&&typeof R.data=="string"&&R.data.indexOf(g)===0&&C(+R.data.slice(g.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(ww)),ww.exports}var nee=tee();const ree=Fr(nee),iee=async(e,n,t)=>{const r=new ree,i=["timestamp,question,answer"];n.forEach(({timestamp:c,question:d,answer:h})=>{i.push(`"${new Date(c).toLocaleString()}","${d.replace(/"/g,'""')}","${h.replace(/"/g,'""')}"`)}),r.file(`${e}.csv`,i.join(`
`)),r.file(`${e}_metadata.json`,JSON.stringify(t,null,4));const s=await r.generateAsync({type:"blob"}),a=URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download=`${e}.zip`,document.body.appendChild(l),l.click(),document.body.removeChild(l)},see=Eu(be)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"600px",maxHeight:"80vh",overflowY:"auto",backgroundColor:"#fff",borderRadius:"10px",boxShadow:"0px 5px 15px rgba(0,0,0,0.2)",padding:"20px"}),aee=Eu(be)({marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"}),oee=({open:e,onClose:n,conversationHistory:t,conversationId:r,conversationHistoryError:i,chatbotDetails:s,userId:a,startedAt:l})=>{const c=async()=>{const d={conversationId:r,userId:a,chatbotId:s.chatbotId,chatbotTitle:s.chatbotTitle,startedAt:new Date(l).toLocaleString(),courseTitle:s.courseTitle,courseId:s.courseId,materialTitle:s.materialTitle,materialId:s.materialId,materialLink:s.materialLink,chatbotCreatedBy:s.chatbotCreatedBy,chatbotCreatedAt:new Date(s.chatbotCreatedAt).toLocaleString()};await iee(r,t,d)};return f.jsx(Tx,{open:e,onClose:n,children:f.jsxs(see,{children:[f.jsxs(aee,{children:[f.jsxs(ce,{variant:"h6",children:["Conversation History for ",r]}),f.jsx(na,{title:"Download ZIP",children:f.jsx(mn,{onClick:c,"aria-label":"Download as ZIP",children:f.jsx(LI,{})})})]}),i&&f.jsx(ce,{color:"error",sx:{marginBottom:"20px"},children:i}),t.length===0?f.jsx(ce,{children:"No messages found in this conversation."}):f.jsx(Jy,{children:t.map((d,h)=>f.jsx(h0,{sx:{padding:"10px 0"},children:f.jsx(Rh,{primary:`Q: ${d.question}`,secondary:`A: ${d.answer} (${new Date(d.timestamp).toLocaleString()})`})},h))}),f.jsx(at,{variant:"contained",onClick:n,style:{marginTop:"20px",backgroundColor:"#000",color:"#fff"},children:"Close"})]})})},lee=({totalItems:e,itemsPerPage:n,currentPage:t,onPageChange:r})=>{const i=Math.ceil(e/n),s=()=>{t>1&&r(t-1)},a=()=>{t<i&&r(t+1)};return f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:3},children:[f.jsx(at,{variant:"outlined",disabled:t===1,onClick:s,children:"Previous"}),f.jsxs(ce,{variant:"body1",children:["Page ",t," of ",i]}),f.jsx(at,{variant:"outlined",disabled:t===i,onClick:a,children:"Next"})]})},uee=({chatbotId:e})=>{const n=Xn(),[t,r]=K.useState(null),[i,s]=K.useState(!0),[a,l]=K.useState(null);if(K.useEffect(()=>{e!=="All"&&(async()=>{s(!0),l(null);try{const C=No(Sn(n,"chatbots"),Oi("chatbotId","==",e)),k=await Si(C);k.empty?l("Chatbot details not found!"):r(k.docs[0].data())}catch(C){console.error("Error fetching chatbot details:",C),l("Failed to fetch chatbot details.")}finally{s(!1)}})()},[n,e]),i)return f.jsx(be,{sx:{mt:3},children:f.jsx(Pr,{})});if(a)return f.jsx(ce,{variant:"body1",color:"error",sx:{mt:3},children:a});if(!t)return null;const{title:c="N/A",courseId:d,createdBy:h="Unknown",timestamp:g,material:b}=t,m=(d==null?void 0:d.title)||"N/A",x=(b==null?void 0:b.title)||"N/A",y=(b==null?void 0:b.id)||"N/A",A=`https://institute-for-future-intelligence.github.io/nexlab/view-material/${y}`;return f.jsxs(be,{sx:{mt:3,p:2,border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:[f.jsx(ce,{variant:"h6",children:"Chatbot Details"}),f.jsxs(ce,{variant:"body1",children:[f.jsx("strong",{children:"Title:"})," ",c]}),f.jsxs(ce,{variant:"body1",children:[f.jsx("strong",{children:"Course:"})," ",m]}),f.jsxs(ce,{variant:"body1",children:[f.jsx("strong",{children:"Material:"})," ",y!=="N/A"?f.jsx(fg,{href:A,target:"_blank",rel:"noopener noreferrer",children:x}):x]}),f.jsx($a,{sx:{my:2}}),f.jsxs(ce,{variant:"body1",children:[f.jsx("strong",{children:"Created By:"})," ",h]}),f.jsxs(ce,{variant:"body1",children:[f.jsx("strong",{children:"Created At:"})," ",g?new Date(g).toLocaleString():"N/A"]})]})},qk=Eu(at)({width:100,height:40,display:"flex",alignItems:"center",justifyContent:"center"}),cee=({open:e,onClose:n,onConfirm:t,conversationId:r,deleting:i})=>f.jsxs(Yi,{open:e,onClose:n,children:[f.jsx(us,{children:"Confirm Deletion"}),f.jsx(Gi,{children:f.jsxs(Oo,{children:["Are you sure you want to delete the conversation with ID: ",f.jsx("strong",{children:r}),"? This action cannot be undone."]})}),f.jsxs(cs,{children:[f.jsx(qk,{onClick:n,color:"primary",variant:"outlined",children:"Cancel"}),f.jsx(qk,{onClick:t,color:"error",disabled:i,children:i?f.jsx(Pr,{size:20,color:"inherit"}):"Delete"})]})]}),dee=()=>{const e=Xn(),n=Ai(),[t,r]=K.useState([]),[i,s]=K.useState([]),[a,l]=K.useState(1),[c]=K.useState(10),[d,h]=K.useState(!0),[g,b]=K.useState(null),[m,x]=K.useState([]),[y,A]=K.useState(null),[w,C]=K.useState(!1),[k,R]=K.useState(null),[q,D]=K.useState({}),N="https://rag-flask-api.onrender.com",[P,z]=K.useState([]),[X,j]=K.useState([]),[O,M]=K.useState("All"),[T,Q]=K.useState("All"),[H,Y]=K.useState(null),[Z,ae]=K.useState(null),[G,le]=K.useState(!1),[U,B]=K.useState(null),[ie,J]=K.useState(!1),[ne,xe]=K.useState({open:!1,message:"",type:"success"}),ye=()=>{xe(he=>({...he,open:!1}))};K.useEffect(()=>{(async()=>{try{const ve=(await Si(Sn(e,"conversations"))).docs.map(Ee=>({id:Ee.id,...Ee.data()}));r(ve);const Oe=Array.from(new Set(ve.map(Ee=>Ee.chatbotId)));z(ve.length>0?["All",...Oe]:[]);const Re=Array.from(new Set(ve.map(Ee=>Ee.userId)));j(ve.length>0?["All",...Re]:[]),s(ve)}catch(de){console.error("Error fetching chatbot conversations:",de),b("Failed to load conversations. Please try again later.")}finally{h(!1)}})()},[e]);const Ae=(he,de)=>{he==="chatbot"?M(de):Q(de);const ve=he==="chatbot"?de:O,Oe=he==="user"?de:T;let Re=t;ve!=="All"&&(Re=Re.filter(Ee=>Ee.chatbotId===ve)),Oe!=="All"&&(Re=Re.filter(Ee=>Ee.userId===Oe)),s(Re),ve==="All"&&Oe==="All"&&s(t),l(1)},Ne=async(he,de,ve,Oe)=>{var Re,Ee,Ge,Xe,Be;D(rt=>({...rt,[de]:!0})),A(null);try{const rt=await Cs.get(`${N}/conversations/${he}/${de}`);x(rt.data);const Je=(await(async()=>{try{const At=new Map;return(await Si(Sn(e,"chatbots"))).forEach(tn=>{At.set(tn.data().chatbotId,tn.data())}),At}catch(At){return console.error("Error fetching chatbots:",At),new Map}})()).get(he);Y(Je?{chatbotId:he,chatbotTitle:Je.title||"N/A",courseTitle:((Re=Je.courseId)==null?void 0:Re.title)||"N/A",courseId:((Ee=Je.courseId)==null?void 0:Ee.id)||"N/A",materialTitle:((Ge=Je.material)==null?void 0:Ge.title)||"N/A",materialId:((Xe=Je.material)==null?void 0:Xe.id)||"N/A",materialLink:`https://institute-for-future-intelligence.github.io/nexlab/view-material/${((Be=Je.material)==null?void 0:Be.id)||""}`,chatbotCreatedBy:Je.createdBy||"Unknown",chatbotCreatedAt:Je.timestamp||"N/A"}:null),ae({userId:ve,startedAt:Oe}),R({chatbotId:he,conversationId:de}),C(!0)}catch(rt){console.error("Error fetching conversation or chatbot details:",rt),A("Failed to fetch conversation history or chatbot details.")}finally{D(rt=>({...rt,[de]:!1}))}},Te=a*c,qe=Te-c,$e=i.slice(qe,Te);if(d)return f.jsx(be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:f.jsx(Pr,{})});if(g)return f.jsx(be,{sx:{textAlign:"center",mt:4},children:f.jsx(ce,{variant:"h6",color:"error",children:g})});const V=he=>{B(he),le(!0)},we=()=>{le(!1),B(null)},se=async()=>{if(U){J(!0);try{await $g(fn(e,"conversations",U)),r(he=>he.filter(de=>de.id!==U)),s(he=>he.filter(de=>de.id!==U)),xe({open:!0,message:"Conversation deleted successfully.",type:"success"}),we()}catch(he){console.error("Error deleting conversation:",he),xe({open:!0,message:"Failed to delete the conversation. Please try again.",type:"error"})}finally{J(!1),we()}}};return f.jsxs(be,{className:"profile-container",sx:{p:4},children:[f.jsx(at,{variant:"text",onClick:()=>n("/"),className:"profile-button",children:" Home Page"}),f.jsx(ce,{variant:"h5",className:"webpage_title",sx:{mb:2},children:"Chatbot Conversations"}),f.jsxs(be,{sx:{display:"flex",gap:2,mb:3},children:[f.jsxs(Pc,{sx:{minWidth:200},children:[f.jsx(Fc,{id:"filter-chatbot-id",children:"Filter by Chatbot ID"}),f.jsx(Fl,{labelId:"filter-chatbot-id",value:O,onChange:he=>Ae("chatbot",he.target.value),children:P.length>0?P.map(he=>f.jsx(ur,{value:he,children:he},he)):f.jsx(ur,{value:"",disabled:!0,children:"No Chatbots Available"})})]}),f.jsxs(Pc,{sx:{minWidth:200},children:[f.jsx(Fc,{id:"filter-user-id",children:"Filter by User ID"}),f.jsx(Fl,{labelId:"filter-user-id",value:T,onChange:he=>Ae("user",he.target.value),children:X.map(he=>f.jsx(ur,{value:he,children:he},he))})]})]}),O!=="All"&&f.jsx(uee,{chatbotId:O}),f.jsxs(be,{className:"profile-container",sx:{p:4},children:[f.jsx(CZ,{conversations:$e,onViewHistory:(he,de,ve,Oe)=>Ne(he,de,ve,Oe),onDeleteConversation:V,loadingMap:q}),f.jsx(cee,{open:G,onClose:we,onConfirm:se,conversationId:U||"",deleting:ie})]}),f.jsx(lee,{totalItems:i.length,itemsPerPage:c,currentPage:a,onPageChange:l}),k&&H&&Z&&f.jsx(oee,{open:w,onClose:()=>{C(!1),R(null)},conversationHistory:m,conversationId:k.conversationId,conversationHistoryError:y,chatbotDetails:H,userId:Z.userId,startedAt:Z.startedAt}),f.jsx(fo,{open:ne.open,autoHideDuration:3e3,onClose:ye,message:ne.message,anchorOrigin:{vertical:"top",horizontal:"center"},ContentProps:{style:{backgroundColor:ne.type==="success"?"#4caf50":"#f44336"}}})]})},fee=()=>{const[e,n]=K.useState([]),[t,r]=K.useState(!0),[i,s]=K.useState({}),[a,l]=K.useState(!1),[c,d]=K.useState(""),[h,g]=K.useState("success"),b=Ai();K.useEffect(()=>{(async()=>{const N=Xn(),P=Sn(N,"chatbotRequests");try{const X=(await Si(P)).docs.map(j=>({id:j.id,...j.data()}));n(X)}catch(z){console.error("Error fetching chatbot requests:",z)}finally{r(!1)}})()},[]);const m=async D=>{const N=i[D];if(!N){d("Please assign a Chatbot ID before approving the request."),g("error"),l(!0);return}try{const P=Xn(),z=fn(P,"chatbotRequests",D),X=await xa(z);if(!X.exists()){d("Request not found. Please refresh the page."),g("error"),l(!0);return}const j=X.data();if(j.status!=="pending"){d("This request has already been processed."),g("warning"),l(!0);return}await Rr(z,{status:"approved",chatbotId:N});const O={chatbotId:N,title:j.title,courseId:{id:j.courseId,number:j.courseNumber,title:j.courseTitle},material:{id:j.materialId||null,title:j.materialTitle||"N/A"},createdBy:j.educatorId,files:j.files,timestamp:new Date().toISOString()};await ra(Sn(P,"chatbots"),O),n(M=>M.map(T=>T.id===D?{...T,status:"approved",chatbotId:N}:T)),d("Chatbot request approved and chatbot created successfully!"),g("success"),l(!0)}catch(P){console.error("Error approving chatbot request or creating chatbot:",P),d("Failed to approve the request and create the chatbot. Please try again."),g("error"),l(!0)}},x=()=>{l(!1)},[y,A]=K.useState(0),[w,C]=K.useState(5),k=(D,N)=>A(N),R=D=>{C(parseInt(D.target.value,10)),A(0)},q=(D,N)=>{s(P=>({...P,[D]:N}))};return t?f.jsx(be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:f.jsx(Pr,{})}):e.length===0?f.jsx(ce,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):f.jsxs(be,{className:"profile-container",sx:{p:4},children:[f.jsx(at,{variant:"text",onClick:()=>b("/"),className:"profile-button",children:" Home Page"}),f.jsx(ce,{variant:"h5",className:"webpage_title",sx:{mb:2},children:"Chatbot Requests Management"}),f.jsx(ce,{variant:"body1",sx:{mb:3},children:"Manage chatbot requests submitted by educators. Approve requests and assign Chatbot IDs."}),f.jsxs(_u,{component:On,elevation:3,sx:{maxHeight:"70vh",overflow:"auto"},children:[f.jsxs(ku,{stickyHeader:!0,children:[f.jsx(Nu,{children:f.jsxs(Qi,{children:[f.jsx(ct,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Title"}),f.jsx(ct,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course"}),f.jsx(ct,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material"}),f.jsx(ct,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Educator ID"}),f.jsx(ct,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course ID"}),f.jsx(ct,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material ID"}),f.jsx(ct,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Submitted On"}),f.jsx(ct,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Status"}),f.jsx(ct,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"File Links"}),f.jsx(ct,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Chatbot ID"}),f.jsx(ct,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Action"})]})}),f.jsx(ju,{children:e.slice(y*w,y*w+w).map((D,N)=>{var P;return f.jsxs(Qi,{sx:{backgroundColor:N%2===0?"#F6E9B2":"#FBFADA","&:hover":{backgroundColor:"#E8E8E8"}},children:[f.jsx(ct,{children:D.title}),f.jsx(ct,{children:`${D.courseNumber} - ${D.courseTitle}`}),f.jsx(ct,{children:D.materialTitle||"N/A"}),f.jsx(ct,{children:D.educatorId}),f.jsx(ct,{children:D.courseId}),f.jsx(ct,{children:D.materialId||"N/A"}),f.jsx(ct,{children:new Date(D.timestamp).toLocaleString()}),f.jsx(ct,{children:f.jsx(ce,{variant:"body2",sx:{color:D.status==="pending"?"#FFA726":"#43A047",fontWeight:"bold"},children:D.status})}),f.jsx(ct,{children:(P=D.files)!=null&&P.length?D.files.map((z,X)=>f.jsx(RI,{filePath:z,fileLabel:`File ${X+1}`},X)):f.jsx(ce,{variant:"body2",children:"No files uploaded"})}),f.jsx(ct,{children:D.status==="approved"?f.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:D.chatbotId}):f.jsx($t,{size:"small",value:i[D.id]||"",onChange:z=>q(D.id,z.target.value),placeholder:"Enter Chatbot ID",sx:{width:"150px"}})}),f.jsx(ct,{children:f.jsx(at,{variant:"contained",color:"primary",onClick:()=>m(D.id),disabled:D.status==="approved",sx:{fontWeight:"bold"},children:D.status==="approved"?"Approved":"Approve"})})]},D.id)})})]}),f.jsx(MR,{rowsPerPageOptions:[5,10,25],component:"div",count:e.length,rowsPerPage:w,page:y,onPageChange:k,onRowsPerPageChange:R,"aria-label":"Chatbot requests pagination",sx:{mt:2}})]}),f.jsx(fo,{open:a,autoHideDuration:6e3,onClose:x,children:f.jsx(tr,{onClose:x,severity:h,sx:{width:"100%"},children:c})})]})},Tg=Xn(),Og={CHATBOTS:"chatbots",QUIZ_SESSIONS:"quizSessions",QUIZ_EVENTS:"quizEvents",USERS:"users"},hee=async()=>{var e,n,t,r;try{console.log(" Loading chatbots with quiz information...");const i=No(Sn(Tg,Og.CHATBOTS),Ug("timestamp","desc")),s=await Si(i),a=[];for(const l of s.docs){const c=l.data(),d={chatbotId:c.chatbotId,title:c.title||"Untitled Chatbot",materialTitle:((e=c.material)==null?void 0:e.title)||"Unknown Material",materialId:((n=c.material)==null?void 0:n.id)||"",courseId:((t=c.courseId)==null?void 0:t.id)||"",courseTitle:((r=c.courseId)==null?void 0:r.title)||"Unknown Course",createdBy:c.createdBy||"",timestamp:c.timestamp||new Date().toISOString(),quizId:null,hasQuiz:!0};a.push(d)}for(const l of a)try{const c=No(Sn(Tg,Og.QUIZ_SESSIONS),Oi("chatbotId","==",l.chatbotId),hv(1)),d=await Si(c);if(!d.empty){const h=d.docs[0].data();l.quizId=h.quizId||null}}catch(c){console.warn(` Could not fetch quiz ID for chatbot ${l.chatbotId}:`,c),l.quizId=null}return console.log(` Loaded ${a.length} chatbots with quiz information`),a}catch(i){throw console.error(" Error loading chatbots with quizzes:",i),i}},pee=async(e={},n=100,t)=>{var r,i;try{console.log(" Loading enhanced quiz sessions with filters:",e);const s=Sn(Tg,Og.QUIZ_SESSIONS),a=[];e.chatbotId&&a.push(Oi("chatbotId","==",e.chatbotId)),e.difficulty&&e.difficulty!=="all"&&a.push(Oi("difficulty","==",e.difficulty)),e.completionStatus&&e.completionStatus!=="all"&&a.push(Oi("completed","==",e.completionStatus==="completed")),e.userId&&a.push(Oi("userId","==",e.userId)),e.dateRange&&(a.push(Oi("startedAt",">=",$s.fromDate(new Date(e.dateRange.start)))),a.push(Oi("startedAt","<=",$s.fromDate(new Date(e.dateRange.end))))),a.push(Ug("startedAt","desc")),a.push(hv(n));const l=No(s,...a),c=await Si(l),d=[],h=new Map;for(const m of c.docs){const x=m.data();let y=h.get(x.userId);if(!y){const R=x.userId.length>12?`${x.userId.substring(0,8)}...${x.userId.slice(-4)}`:x.userId.substring(0,12);y={email:R,displayName:`User ${R}`},h.set(x.userId,y)}let A,w;if(x.startedAt&&x.submittedAt){const R=x.startedAt.toMillis(),q=x.submittedAt.toMillis(),D=Math.round((q-R)/1e3),N=Math.floor(D/60),P=D%60;A=D,w=`${N}m ${P}s`}const C=Object.keys(x.finalAnswers||{}).length,k={id:m.id,quizId:x.quizId,chatbotId:x.chatbotId,userId:x.userId,userEmail:y.email,userName:y.displayName,difficulty:x.difficulty,startedAt:x.startedAt.toDate().toISOString(),submittedAt:(r=x.submittedAt)==null?void 0:r.toDate().toISOString(),closedAt:(i=x.closedAt)==null?void 0:i.toDate().toISOString(),completed:x.completed,answers:x.finalAnswers||{},summary:x.summary,questionsAttempted:C,timeSpent:A,timeSpentFormatted:w};d.push(k)}const g=c.docs.length===n,b=c.docs.length>0?c.docs[c.docs.length-1]:void 0;return console.log(` Loaded ${d.length} enhanced quiz sessions`),{sessions:d,hasMore:g,lastDoc:b}}catch(s){throw console.error(" Error loading enhanced quiz sessions:",s),s}},mee=async e=>{var n;try{console.log(" Loading quiz pool for quiz:",e);const t=No(Sn(Tg,Og.QUIZ_SESSIONS),Oi("quizId","==",e),Ug("startedAt","desc"),hv(50)),r=await Si(t),i=new Set,s=new Map;for(const g of r.docs){const b=g.data();(n=b.summary)!=null&&n.items&&Object.keys(b.summary.items).forEach(m=>{i.add(m)}),b.finalAnswers&&Object.entries(b.finalAnswers).forEach(([m,x])=>{i.add(m),s.has(m)||s.set(m,x)})}const a=Array.from(i).map(g=>{const b=s.get(g)||"",m=b.length>0?`Question about: ${b.split(" ").slice(0,10).join(" ")}${b.split(" ").length>10?"...":""}`:"Question text not available";return{questionId:g,question:m,category:"Biology Fundamentals",difficulty:"medium",maxScore:100}}),l=a.length>0?a:[{questionId:"no-sessions-found",question:"No quiz sessions found for this quiz ID. Question IDs will appear here once students take quizzes.",category:"Biology Fundamentals",difficulty:"medium",maxScore:100}],c={},d={easy:0,medium:0,hard:0};l.forEach(g=>{c[g.category]=(c[g.category]||0)+1,d[g.difficulty]=(d[g.difficulty]||0)+1});const h={quizId:e,chatbotId:e,questions:l,categoryCounts:c,difficultyBreakdown:d,totalQuestions:l.length,lastUpdated:new Date().toISOString()};return console.log(` Loaded quiz pool with ${l.length} real question IDs from ${r.docs.length} sessions`),h}catch(t){throw console.error(" Error loading quiz pool:",t),t}},gee=e=>{try{console.log(" Generating quiz analytics from",e.length,"sessions");const n=e.filter(h=>h.completed&&h.summary),t=e.length,r=t>0?n.length/t*100:0,i=n.length>0?n.reduce((h,g)=>{var b;return h+(((b=g.summary)==null?void 0:b.percent)||0)},0)/n.length:0,s=e.filter(h=>h.timeSpent).length>0?Math.round(e.filter(h=>h.timeSpent).reduce((h,g)=>h+(g.timeSpent||0),0)/e.filter(h=>h.timeSpent).length):0,a={easy:0,medium:0,hard:0};e.forEach(h=>{a[h.difficulty]=(a[h.difficulty]||0)+1});const l={};n.forEach(h=>{var g;(g=h.summary)!=null&&g.items&&Object.values(h.summary.items).forEach(b=>{const m="Mixed Questions";l[m]||(l[m]={averageScore:0,totalAttempts:0,successRate:0}),l[m].totalAttempts+=1,l[m].averageScore+=b.score,b.verdict==="correct"&&(l[m].successRate+=1)})}),Object.keys(l).forEach(h=>{const g=l[h];g.totalAttempts>0&&(g.averageScore=g.averageScore/g.totalAttempts,g.successRate=g.successRate/g.totalAttempts*100)});const c={daily:{},weekly:{},monthly:{}};e.forEach(h=>{const g=new Date(h.startedAt),b=g.toISOString().split("T")[0],m=`${g.getFullYear()}-W${Math.ceil(g.getDate()/7)}`,x=`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}`;c.daily[b]=(c.daily[b]||0)+1,c.weekly[m]=(c.weekly[m]||0)+1,c.monthly[x]=(c.monthly[x]||0)+1});const d={totalSessions:t,completionRate:r,averageScore:i,averageTimeSpent:s,difficultyDistribution:a,categoryPerformance:l,timeBasedStats:c};return console.log(" Generated quiz analytics:",d),d}catch(n){throw console.error(" Error generating quiz analytics:",n),n}},bee=async e=>{var n;try{console.log(" Exporting quiz session data for:",e);const t=await xa(fn(Tg,Og.QUIZ_SESSIONS,e));if(!t.exists())throw new Error("Quiz session not found");const r=t.data(),i={sessionId:e,quizId:r.quizId,chatbotId:r.chatbotId,userId:r.userId,difficulty:r.difficulty,startedAt:r.startedAt.toDate().toISOString(),submittedAt:(n=r.submittedAt)==null?void 0:n.toDate().toISOString(),completed:r.completed,answers:r.finalAnswers||{},summary:r.summary,exportedAt:new Date().toISOString()},s=JSON.stringify(i,null,2),a=new Blob([s],{type:"application/json"});return console.log(" Quiz session data exported successfully"),a}catch(t){throw console.error(" Error exporting quiz session data:",t),t}},zk={difficulty:"all",completionStatus:"all"},oD=lp()(tm(mv((e,n)=>({courses:[],selectedCourse:null,chatbotsWithQuizzes:[],filteredChatbots:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,filters:zk,selectedSession:null,loadChatbotsWithQuizzes:async()=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading chatbots with quizzes...");const t=await hee(),r=new Map;t.forEach(s=>{r.has(s.courseId)||r.set(s.courseId,{courseId:s.courseId,courseTitle:s.courseTitle,chatbotCount:0,quizCount:0});const a=r.get(s.courseId);a.chatbotCount++,s.quizId&&a.quizCount++});const i=Array.from(r.values()).sort((s,a)=>s.courseTitle.localeCompare(a.courseTitle));e({chatbotsWithQuizzes:t,courses:i,filteredChatbots:t,loading:!1}),console.log(` Loaded ${t.length} chatbots with quiz information from ${i.length} courses`)}catch(t){console.error(" Failed to load chatbots with quizzes:",t),e({error:t instanceof Error?t.message:"Failed to load chatbots",loading:!1})}},selectCourse:t=>{console.log(" Quiz Management Store: Selecting course:",t==null?void 0:t.courseId);const{chatbotsWithQuizzes:r}=n(),i=t?r.filter(s=>s.courseId===t.courseId):r;e({selectedCourse:t,filteredChatbots:i,selectedChatbot:null,selectedSession:null,quizSessions:[]})},selectChatbot:t=>{console.log(" Quiz Management Store: Selecting chatbot:",t==null?void 0:t.chatbotId),e({selectedChatbot:t,selectedSession:null,filters:{...n().filters,chatbotId:t==null?void 0:t.chatbotId}}),t&&n().loadQuizSessions(t.chatbotId)},loadQuizSessions:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading quiz sessions for chatbot:",t);const r=n().filters,i=t?{...r,chatbotId:t}:r,s=await pee(i);e({quizSessions:s.sessions,loading:!1}),n().generateAnalytics(),console.log(` Loaded ${s.sessions.length} enhanced quiz sessions`)}catch(r){console.error(" Failed to load quiz sessions:",r),e({error:r instanceof Error?r.message:"Failed to load quiz sessions",loading:!1})}},loadQuizPool:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading quiz pool for:",t);const r=await mee(t);e(i=>({quizPools:{...i.quizPools,[t]:r},loading:!1})),console.log(` Loaded quiz pool with ${r.totalQuestions} questions`)}catch(r){console.error(" Failed to load quiz pool:",r),e({error:r instanceof Error?r.message:"Failed to load quiz pool",loading:!1})}},updateFilters:t=>{const r={...n().filters,...t};console.log(" Quiz Management Store: Updating filters:",r),e({filters:r}),n().loadQuizSessions(r.chatbotId)},selectSession:t=>{console.log(" Quiz Management Store: Selecting session:",t==null?void 0:t.id),e({selectedSession:t})},generateAnalytics:()=>{try{const{quizSessions:t}=n();console.log(" Quiz Management Store: Generating analytics from",t.length,"sessions");const r=gee(t);e({analytics:r}),console.log(" Generated quiz analytics successfully")}catch(t){console.error(" Failed to generate analytics:",t),e({error:t instanceof Error?t.message:"Failed to generate analytics"})}},exportSessionData:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Exporting session data for:",t);const r=await bee(t),i=URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.download=`quiz-session-${t}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i),e({loading:!1}),console.log(" Quiz session data exported successfully")}catch(r){console.error(" Failed to export session data:",r),e({error:r instanceof Error?r.message:"Failed to export session data",loading:!1})}},clearError:()=>{e({error:null})},reset:()=>{console.log(" Quiz Management Store: Resetting store state"),e({chatbotsWithQuizzes:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,filters:zk,selectedSession:null})}}),{name:"quiz-management-store",partialize:e=>({filters:e.filters,selectedChatbot:e.selectedChatbot}),merge:(e,n)=>({...n,...e||{},courses:[],selectedCourse:null,chatbotsWithQuizzes:[],filteredChatbots:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,selectedSession:null})}),{name:"quiz-management-store"})),yee=({courses:e,selectedCourse:n,onSelect:t,loading:r=!1})=>f.jsx(be,{children:f.jsx(fT,{value:n,onChange:(i,s)=>t(s),options:e,getOptionLabel:i=>i.courseTitle,loading:r,renderInput:i=>f.jsx($t,{...i,label:"Select Course",placeholder:"Choose a course to filter materials...",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, sans-serif","& fieldset":{borderColor:"#CDDAFF",borderWidth:2},"&:hover fieldset":{borderColor:"#0B53C0"},"&.Mui-focused fieldset":{borderColor:"#0B53C0",borderWidth:2}},"& .MuiInputLabel-root":{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",fontWeight:"bold","&.Mui-focused":{color:"#0B53C0"}}},InputProps:{...i.InputProps,endAdornment:f.jsxs(f.Fragment,{children:[r?f.jsx(Pr,{color:"inherit",size:20}):null,i.InputProps.endAdornment]})}}),renderOption:(i,s)=>{const{...a}=i;return f.jsx(be,{component:"li",...a,sx:{"&:hover":{backgroundColor:"#F0F4FF !important"}},children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",width:"100%",p:2},children:[f.jsx(Zh,{sx:{mr:2,flexShrink:0,color:"#0B53C0",fontSize:28}}),f.jsxs(be,{sx:{flex:1,minWidth:0},children:[f.jsx(ce,{variant:"subtitle1",noWrap:!0,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#0B53C0",fontWeight:"bold"},children:s.courseTitle}),f.jsxs(ce,{variant:"body2",sx:{fontFamily:"Gabarito, sans-serif",color:"#666666",display:"flex",alignItems:"center",mt:.5},children:[f.jsx(Nd,{sx:{fontSize:14,mr:.5}}),s.chatbotCount," material",s.chatbotCount!==1?"s":"","  ",s.quizCount," quiz",s.quizCount!==1?"zes":""," available"]})]}),f.jsxs(be,{sx:{ml:2,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:.5},children:[f.jsx($n,{label:`${s.chatbotCount} Material${s.chatbotCount!==1?"s":""}`,size:"small",sx:{backgroundColor:"#CDDAFF",color:"#0B53C0",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}}),s.quizCount>0&&f.jsx($n,{label:`${s.quizCount} Quiz${s.quizCount!==1?"zes":""}`,size:"small",sx:{backgroundColor:"#C8E6C9",color:"#2E7D32",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}})]})]})},s.courseId)},PaperComponent:i=>f.jsx(On,{...i,sx:{mt:1,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #CDDAFF",backgroundColor:"#FFFFFF"}}),isOptionEqualToValue:(i,s)=>i.courseId===s.courseId,noOptionsText:r?"Loading courses...":"No courses found.",clearOnBlur:!0,selectOnFocus:!0})}),xee=({chatbots:e,selectedChatbot:n,onSelect:t,loading:r=!1})=>f.jsxs(be,{children:[f.jsx(fT,{value:n,onChange:(i,s)=>t(s),options:e,getOptionLabel:i=>i.title,loading:r,renderInput:i=>f.jsx($t,{...i,label:"Select Chatbot & Material",placeholder:"Choose a chatbot to view its quiz data...",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, sans-serif","& fieldset":{borderColor:"#CDDAFF",borderWidth:2},"&:hover fieldset":{borderColor:"#0B53C0"},"&.Mui-focused fieldset":{borderColor:"#0B53C0",borderWidth:2}},"& .MuiInputLabel-root":{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",fontWeight:"bold","&.Mui-focused":{color:"#0B53C0"}}},InputProps:{...i.InputProps,endAdornment:f.jsxs(f.Fragment,{children:[r?f.jsx(Pr,{color:"inherit",size:20}):null,i.InputProps.endAdornment]})}}),renderOption:(i,s)=>{const{...a}=i;return f.jsx(be,{component:"li",...a,sx:{"&:hover":{backgroundColor:"#F0F4FF !important"}},children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",width:"100%",p:2},children:[f.jsx(Nd,{sx:{mr:2,flexShrink:0,color:"#0B53C0",fontSize:28}}),f.jsxs(be,{sx:{flex:1,minWidth:0},children:[f.jsx(ce,{variant:"subtitle1",noWrap:!0,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#0B53C0",fontWeight:"bold"},children:s.title}),f.jsxs(ce,{variant:"body2",noWrap:!0,sx:{fontFamily:"Gabarito, sans-serif",color:"#666666",display:"flex",alignItems:"center",mt:.5},children:[f.jsx(PR,{sx:{fontSize:14,mr:.5}}),s.materialTitle]}),f.jsxs(ce,{variant:"caption",noWrap:!0,sx:{fontFamily:"Gabarito, sans-serif",color:"#888888",display:"flex",alignItems:"center",mt:.25},children:[f.jsx(Zh,{sx:{fontSize:12,mr:.5}}),s.courseTitle]})]}),f.jsxs(be,{sx:{ml:2,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:.5},children:[s.quizId&&f.jsx($n,{label:"Quiz Available",size:"small",sx:{backgroundColor:"#C8E6C9",color:"#2E7D32",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}}),f.jsxs(ce,{variant:"caption",sx:{fontFamily:"monospace",color:s.quizId?"#0B53C0":"#888888",fontSize:"0.7rem",backgroundColor:s.quizId?"#F0F4FF":"#F5F5F5",padding:"2px 6px",borderRadius:"4px",border:`1px solid ${s.quizId?"#CDDAFF":"#E0E0E0"}`},children:["Quiz: ",s.quizId?s.quizId.substring(0,8)+"...":"N/A"]}),f.jsxs(ce,{variant:"caption",sx:{fontFamily:"monospace",color:"#888888",fontSize:"0.65rem"},children:["ChatBot: ",s.chatbotId.substring(0,8),"..."]})]})]})},s.chatbotId)},PaperComponent:i=>f.jsx(On,{...i,sx:{mt:1,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #CDDAFF",backgroundColor:"#FFFFFF"}}),isOptionEqualToValue:(i,s)=>i.chatbotId===s.chatbotId,noOptionsText:r?"Loading chatbots...":"No chatbots found. Create a chatbot first to see quiz data.",clearOnBlur:!0,handleHomeEndKeys:!0}),e.length===0&&!r&&f.jsx(be,{sx:{mt:2,p:2,bgcolor:"info.light",borderRadius:1},children:f.jsxs(ce,{variant:"body2",color:"info.contrastText",children:[f.jsx("strong",{children:"No chatbots available."})," You need to create chatbots first before you can manage quiz sessions. Each chatbot automatically has an associated quiz with predefined questions."]})})]}),vee=({sessions:e,loading:n=!1,onViewDetails:t,onExportSession:r})=>{const i=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),s=l=>{switch(l){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},a=l=>l>=80?"success":l>=60?"warning":"error";return n?f.jsxs(be,{sx:{width:"100%",mt:2},children:[f.jsx(il,{}),f.jsx(ce,{variant:"body2",sx:{mt:1,textAlign:"center"},children:"Loading quiz sessions..."})]}):e.length===0?f.jsxs(be,{sx:{textAlign:"center",py:8},children:[f.jsx(Nd,{sx:{fontSize:64,color:"text.secondary",mb:2}}),f.jsx(ce,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No quiz sessions found"}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:"No quiz sessions have been completed for this chatbot yet. Students need to take quizzes to see data here."})]}):f.jsx(_u,{component:On,variant:"outlined",children:f.jsxs(ku,{children:[f.jsx(Nu,{children:f.jsxs(Qi,{children:[f.jsx(ct,{children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(Nd,{fontSize:"small"}),"Session ID"]})}),f.jsx(ct,{children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(hT,{fontSize:"small"}),"User ID"]})}),f.jsx(ct,{children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(FR,{fontSize:"small"}),"Date & Time"]})}),f.jsx(ct,{children:"Difficulty"}),f.jsx(ct,{children:"Status"}),f.jsx(ct,{align:"center",children:"Questions"}),f.jsx(ct,{align:"center",children:"Time Spent"}),f.jsx(ct,{align:"center",children:"Score"}),f.jsx(ct,{align:"center",children:"Performance"}),f.jsx(ct,{align:"center",children:"Actions"})]})}),f.jsx(ju,{children:e.map(l=>f.jsxs(Qi,{hover:!0,children:[f.jsx(ct,{children:f.jsx(ce,{variant:"body2",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:l.id})}),f.jsx(ct,{children:f.jsx(ce,{variant:"body2",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:l.userId})}),f.jsx(ct,{children:f.jsxs(be,{children:[f.jsx(ce,{variant:"body2",children:i(l.startedAt)}),l.submittedAt&&f.jsxs(ce,{variant:"caption",color:"text.secondary",children:["Submitted: ",i(l.submittedAt)]})]})}),f.jsx(ct,{children:f.jsx($n,{label:l.difficulty.charAt(0).toUpperCase()+l.difficulty.slice(1),color:s(l.difficulty),size:"small"})}),f.jsx(ct,{children:f.jsx($n,{label:l.completed?"Completed":"In Progress",color:l.completed?"success":"warning",size:"small",variant:l.completed?"filled":"outlined"})}),f.jsxs(ct,{align:"center",children:[f.jsx(ce,{variant:"body2",fontWeight:"medium",children:l.questionsAttempted}),f.jsx(ce,{variant:"caption",color:"text.secondary",children:"attempted"})]}),f.jsx(ct,{align:"center",children:l.timeSpentFormatted?f.jsxs(be,{children:[f.jsx(ce,{variant:"body2",fontWeight:"medium",children:l.timeSpentFormatted}),f.jsx(ce,{variant:"caption",color:"text.secondary",children:"duration"})]}):f.jsx(ce,{variant:"body2",color:"text.secondary",children:"-"})}),f.jsx(ct,{align:"center",children:l.summary?f.jsxs(be,{children:[f.jsxs(ce,{variant:"body2",fontWeight:"bold",children:[l.summary.total_score,"/",l.summary.total_max]}),f.jsx(ce,{variant:"caption",color:"text.secondary",children:"points"})]}):f.jsx(ce,{variant:"body2",color:"text.secondary",children:"-"})}),f.jsx(ct,{align:"center",children:l.summary?f.jsx($n,{label:`${Math.round(l.summary.percent)}%`,color:a(l.summary.percent),size:"small"}):f.jsx(ce,{variant:"body2",color:"text.secondary",children:"-"})}),f.jsx(ct,{align:"center",children:f.jsxs(Qw,{direction:"row",spacing:1,justifyContent:"center",children:[f.jsx(na,{title:"View Details",children:f.jsx(mn,{size:"small",onClick:()=>t(l),color:"primary",children:f.jsx(_6,{fontSize:"small"})})}),f.jsx(na,{title:"Export Data",children:f.jsx(mn,{size:"small",onClick:()=>r(l.id),color:"secondary",children:f.jsx(hg,{fontSize:"small"})})})]})})]},l.id))})]})})},wee=({analytics:e})=>{const n=i=>{switch(i){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},t=i=>i>=70?"success":i>=50?"warning":"error",r=i=>{if(i===0)return"0s";const s=Math.floor(i/60),a=i%60;return s===0?`${a}s`:a===0?`${s}m`:`${s}m ${a}s`};return f.jsx(lo,{sx:{mb:4,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:f.jsxs(Jo,{sx:{p:3},children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[f.jsx(qR,{color:"primary"}),"Quiz Analytics & Insights"]}),f.jsxs(bt,{container:!0,spacing:3,sx:{mb:4},children:[f.jsx(bt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(be,{sx:{textAlign:"center",p:2,bgcolor:"#CDDAFF",borderRadius:2,border:"1px solid #0B53C0"},children:[f.jsx(Nd,{sx:{fontSize:40,color:"#0B53C0",mb:1}}),f.jsx(ce,{variant:"h4",sx:{color:"#0B53C0",fontFamily:"Staatliches, sans-serif"},children:e.totalSessions}),f.jsx(ce,{variant:"body2",sx:{color:"#0B53C0",fontFamily:"Gabarito, sans-serif"},children:"Total Sessions"})]})}),f.jsx(bt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(be,{sx:{textAlign:"center",p:2,bgcolor:"#C8E6C9",borderRadius:2,border:"1px solid #2E7D32"},children:[f.jsx(Bg,{sx:{fontSize:40,color:"#2E7D32",mb:1}}),f.jsxs(ce,{variant:"h4",sx:{color:"#2E7D32",fontFamily:"Staatliches, sans-serif"},children:[Math.round(e.completionRate),"%"]}),f.jsx(ce,{variant:"body2",sx:{color:"#2E7D32",fontFamily:"Gabarito, sans-serif"},children:"Completion Rate"})]})}),f.jsx(bt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(be,{sx:{textAlign:"center",p:2,bgcolor:"#E3F2FD",borderRadius:2,border:"1px solid #1565C0"},children:[f.jsx(pT,{sx:{fontSize:40,color:"#1565C0",mb:1}}),f.jsxs(ce,{variant:"h4",sx:{color:"#1565C0",fontFamily:"Staatliches, sans-serif"},children:[Math.round(e.averageScore),"%"]}),f.jsx(ce,{variant:"body2",sx:{color:"#1565C0",fontFamily:"Gabarito, sans-serif"},children:"Average Score"})]})}),f.jsx(bt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(be,{sx:{textAlign:"center",p:2,bgcolor:"#FFF3E0",borderRadius:2,border:"1px solid #F57C00"},children:[f.jsx(k6,{sx:{fontSize:40,color:"#F57C00",mb:1}}),f.jsx(ce,{variant:"h4",sx:{color:"#F57C00",fontFamily:"Staatliches, sans-serif"},children:r(e.averageTimeSpent)}),f.jsx(ce,{variant:"body2",sx:{color:"#F57C00",fontFamily:"Gabarito, sans-serif"},children:"Avg. Time Spent"})]})})]}),f.jsx($a,{sx:{my:3}}),f.jsxs(bt,{container:!0,spacing:4,children:[f.jsxs(bt,{item:!0,xs:12,md:6,children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(Nd,{color:"primary"}),"Difficulty Distribution"]}),f.jsx(be,{sx:{mt:2},children:Object.entries(e.difficultyDistribution).map(([i,s])=>{const a=e.totalSessions>0?s/e.totalSessions*100:0;return f.jsxs(be,{sx:{mb:2},children:[f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx($n,{label:i.charAt(0).toUpperCase()+i.slice(1),color:n(i),size:"small"}),f.jsxs(ce,{variant:"body2",children:[s," sessions"]})]}),f.jsxs(ce,{variant:"body2",color:"text.secondary",children:[Math.round(a),"%"]})]}),f.jsx(il,{variant:"determinate",value:a,color:n(i),sx:{height:8,borderRadius:4}})]},i)})})]}),f.jsxs(bt,{item:!0,xs:12,md:6,children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(Zh,{color:"primary"}),"Bloom's Taxonomy Performance"]}),f.jsx(be,{sx:{mt:2},children:Object.entries(e.categoryPerformance).map(([i,s])=>f.jsxs(be,{sx:{mb:2},children:[f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[f.jsxs(be,{children:[f.jsx(ce,{variant:"body2",fontWeight:"medium",children:i}),f.jsxs(ce,{variant:"caption",color:"text.secondary",children:[s.totalAttempts," attempts"]})]}),f.jsxs(be,{sx:{textAlign:"right"},children:[f.jsxs(ce,{variant:"body2",fontWeight:"medium",children:[Math.round(s.averageScore),"%"]}),f.jsx($n,{label:`${s.successRate}% success`,color:t(s.successRate),size:"small",variant:"outlined"})]})]}),f.jsx(il,{variant:"determinate",value:s.successRate,color:t(s.successRate),sx:{height:6,borderRadius:3}})]},i))})]})]})]})})},See=({quizId:e,open:n,onClose:t})=>{const{quizPools:r,loading:i}=oD(),s=r[e],a=c=>({Remember:"success",Understand:"info",Apply:"primary",Analyze:"warning",Evaluate:"error",Create:"secondary"})[c]||"primary",l=c=>{const d=["Remember","Understand","Apply","Analyze","Evaluate","Create"],h=c.split("").reduce((g,b)=>g+b.charCodeAt(0),0);return d[h%d.length]};return i?f.jsx(Yi,{open:n,onClose:t,maxWidth:"md",fullWidth:!0,children:f.jsx(Gi,{children:f.jsxs(be,{sx:{display:"flex",flexDirection:"column",alignItems:"center",py:4},children:[f.jsx(il,{sx:{width:"100%",mb:2}}),f.jsx(ce,{variant:"body1",children:"Loading quiz questions..."})]})})}):s?f.jsxs(Yi,{open:n,onClose:t,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{minHeight:"80vh"}},children:[f.jsx(us,{children:f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs(be,{children:[f.jsx(ce,{variant:"h5",component:"div",children:"Quiz Question Pool"}),f.jsxs(ce,{variant:"body2",color:"text.secondary",children:["Quiz ID: ",e.substring(0,16),"..."]})]}),f.jsx(mn,{onClick:t,edge:"end",children:f.jsx(Kw,{})})]})}),f.jsxs(Gi,{dividers:!0,children:[f.jsx(lo,{sx:{mb:3},children:f.jsxs(Jo,{children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(pT,{color:"primary"}),"Pool Statistics"]}),f.jsxs(bt,{container:!0,spacing:3,children:[f.jsx(bt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(be,{sx:{textAlign:"center",p:2,bgcolor:"primary.light",borderRadius:1},children:[f.jsx(ce,{variant:"h4",color:"primary.contrastText",children:s.totalQuestions}),f.jsx(ce,{variant:"body2",color:"primary.contrastText",children:"Total Questions"})]})}),f.jsx(bt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(be,{sx:{textAlign:"center",p:2,bgcolor:"success.light",borderRadius:1},children:[f.jsx(ce,{variant:"h4",color:"success.contrastText",children:s.difficultyBreakdown.easy||0}),f.jsx(ce,{variant:"body2",color:"success.contrastText",children:"Easy Questions"})]})}),f.jsx(bt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(be,{sx:{textAlign:"center",p:2,bgcolor:"warning.light",borderRadius:1},children:[f.jsx(ce,{variant:"h4",color:"warning.contrastText",children:s.difficultyBreakdown.medium||0}),f.jsx(ce,{variant:"body2",color:"warning.contrastText",children:"Medium Questions"})]})}),f.jsx(bt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(be,{sx:{textAlign:"center",p:2,bgcolor:"error.light",borderRadius:1},children:[f.jsx(ce,{variant:"h4",color:"error.contrastText",children:s.difficultyBreakdown.hard||0}),f.jsx(ce,{variant:"body2",color:"error.contrastText",children:"Hard Questions"})]})})]})]})}),f.jsx(lo,{sx:{mb:3},children:f.jsxs(Jo,{children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(zR,{color:"primary"}),"Bloom's Taxonomy Categories"]}),f.jsx(bt,{container:!0,spacing:2,children:Object.entries(s.categoryCounts).map(([c,d])=>{const h=d/s.totalQuestions*100;return f.jsx(bt,{item:!0,xs:12,sm:6,md:4,children:f.jsxs(be,{sx:{p:2,border:"1px solid",borderColor:"grey.300",borderRadius:1},children:[f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[f.jsx($n,{label:c,color:a(c),size:"small"}),f.jsxs(ce,{variant:"body2",fontWeight:"bold",children:[d," questions"]})]}),f.jsx(il,{variant:"determinate",value:h,color:a(c),sx:{height:6,borderRadius:3}}),f.jsxs(ce,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:[Math.round(h),"% of total"]})]})},c)})})]})}),f.jsx(lo,{children:f.jsxs(Jo,{children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(mT,{color:"primary"}),"Quiz Questions"]}),f.jsx(ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"All available question IDs from the quiz pool. Questions are categorized using Bloom's taxonomy levels and automatically selected based on quiz difficulty mode."}),f.jsx(_u,{component:On,variant:"outlined",children:f.jsxs(ku,{children:[f.jsx(Nu,{children:f.jsxs(Qi,{children:[f.jsx(ct,{children:"Question ID"}),f.jsx(ct,{children:"Question"}),f.jsx(ct,{align:"center",children:"Bloom's Taxonomy Category"})]})}),f.jsx(ju,{children:s.questions.map((c,d)=>{const h=l(c.category);return f.jsxs(Qi,{hover:!0,children:[f.jsx(ct,{children:f.jsx(ce,{variant:"body2",fontFamily:"monospace",children:c.questionId})}),f.jsx(ct,{children:f.jsx(ce,{variant:"body2",sx:{maxWidth:400},children:c.question.length>120?`${c.question.substring(0,120)}...`:c.question})}),f.jsx(ct,{align:"center",children:f.jsx($n,{label:h,color:a(h),size:"small"})})]},c.questionId)})})]})})]})}),f.jsx($a,{sx:{my:3}}),f.jsxs(be,{sx:{p:2,bgcolor:"info.light",borderRadius:1},children:[f.jsxs(ce,{variant:"body2",color:"info.contrastText",children:[f.jsx("strong",{children:"Quiz Question Pool:"})," This shows the available questions that can be selected for quizzes. When students take a quiz, questions are automatically chosen from this pool based on the selected difficulty mode: Easy (~5 questions), Medium (~8 questions), Hard (~10 questions)."]}),f.jsxs(ce,{variant:"caption",color:"info.contrastText",sx:{mt:1,display:"block"},children:[f.jsx("strong",{children:"Note:"})," This is placeholder data for demonstration. Actual questions will be loaded from the quiz API."]})]})]}),f.jsx(cs,{children:f.jsx(at,{onClick:t,variant:"contained",children:"Close"})})]}):f.jsxs(Yi,{open:n,onClose:t,maxWidth:"md",fullWidth:!0,children:[f.jsx(us,{children:f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsx(ce,{variant:"h6",children:"Quiz Pool"}),f.jsx(mn,{onClick:t,edge:"end",children:f.jsx(Kw,{})})]})}),f.jsx(Gi,{children:f.jsxs(be,{sx:{textAlign:"center",py:4},children:[f.jsx(ce,{variant:"h6",color:"text.secondary",children:"Quiz pool not found"}),f.jsxs(ce,{variant:"body2",color:"text.secondary",children:["Unable to load questions for quiz ID: ",e]})]})}),f.jsx(cs,{children:f.jsx(at,{onClick:t,children:"Close"})})]})},Aee=({session:e,open:n,onClose:t})=>{const r=c=>new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),i=c=>{switch(c){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},s=c=>c==="correct"?"success":"error",a=c=>{const d=e.answers[c];if(!d)return"Question text not available";const h=d.split(" ");return h.length>15?`Question about: ${h.slice(0,15).join(" ")}...`:`Question about: ${d.substring(0,100)}${d.length>100?"...":""}`},l=()=>{const c={sessionId:e.id,quizId:e.quizId,chatbotId:e.chatbotId,student:{userId:e.userId,name:e.userName,email:e.userEmail},quiz:{difficulty:e.difficulty,startedAt:e.startedAt,submittedAt:e.submittedAt,completed:e.completed,timeSpent:e.timeSpent},answers:e.answers,summary:e.summary,exportedAt:new Date().toISOString()},d=JSON.stringify(c,null,2),h=new Blob([d],{type:"application/json"}),g=URL.createObjectURL(h),b=document.createElement("a");b.href=g,b.download=`quiz-session-${e.id}.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(g)};return f.jsxs(Yi,{open:n,onClose:t,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{minHeight:"80vh"}},children:[f.jsx(us,{children:f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs(be,{children:[f.jsx(ce,{variant:"h5",component:"div",children:"Quiz Session Details"}),f.jsxs(ce,{variant:"body2",color:"text.secondary",children:["Session ID: ",e.id]})]}),f.jsx(mn,{onClick:t,edge:"end",children:f.jsx(Kw,{})})]})}),f.jsxs(Gi,{dividers:!0,children:[f.jsx(lo,{sx:{mb:3},children:f.jsxs(Jo,{children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(hT,{color:"primary"}),"User Information"]}),f.jsx(bt,{container:!0,spacing:2,children:f.jsxs(bt,{item:!0,xs:12,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),f.jsx(ce,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all"},children:e.userId})]})})]})}),f.jsx(lo,{sx:{mb:3},children:f.jsxs(Jo,{children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(Nd,{color:"primary"}),"Quiz Information"]}),f.jsxs(bt,{container:!0,spacing:2,children:[f.jsxs(bt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Quiz ID"}),f.jsx(ce,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:e.quizId})]}),f.jsxs(bt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Chatbot ID"}),f.jsx(ce,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:e.chatbotId})]}),f.jsxs(bt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Difficulty"}),f.jsx($n,{label:e.difficulty.charAt(0).toUpperCase()+e.difficulty.slice(1),color:i(e.difficulty),size:"small"})]}),f.jsxs(bt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Status"}),f.jsx($n,{label:e.completed?"Completed":"In Progress",color:e.completed?"success":"warning",size:"small"})]}),f.jsxs(bt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Questions Attempted"}),f.jsxs(ce,{variant:"body1",children:[e.questionsAttempted," questions answered"]})]}),f.jsxs(bt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Quiz Mode"}),f.jsx(ce,{variant:"body1",children:e.difficulty==="easy"?"~5 questions (Remember/Understand focus)":e.difficulty==="medium"?"~8 questions (Mixed difficulty)":"~10 questions (Analyze/Evaluate focus)"})]})]})]})}),f.jsx(lo,{sx:{mb:3},children:f.jsxs(Jo,{children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(k6,{color:"primary"}),"Session Timeline"]}),f.jsxs(bt,{container:!0,spacing:2,children:[f.jsxs(bt,{item:!0,xs:12,md:4,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Started At"}),f.jsx(ce,{variant:"body1",children:r(e.startedAt)})]}),e.submittedAt&&f.jsxs(bt,{item:!0,xs:12,md:4,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Submitted At"}),f.jsx(ce,{variant:"body1",children:r(e.submittedAt)})]}),e.timeSpentFormatted&&f.jsxs(bt,{item:!0,xs:12,md:4,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Time Spent"}),f.jsx(ce,{variant:"body1",children:e.timeSpentFormatted})]})]})]})}),e.summary&&f.jsx(lo,{sx:{mb:3},children:f.jsxs(Jo,{children:[f.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Quiz Results"}),f.jsxs(bt,{container:!0,spacing:2,sx:{mb:3},children:[f.jsx(bt,{item:!0,xs:12,md:4,children:f.jsxs(be,{sx:{textAlign:"center",p:2,bgcolor:"primary.light",borderRadius:1},children:[f.jsx(ce,{variant:"h4",color:"primary.contrastText",children:e.summary.total_score}),f.jsx(ce,{variant:"body2",color:"primary.contrastText",children:"Total Score"})]})}),f.jsx(bt,{item:!0,xs:12,md:4,children:f.jsxs(be,{sx:{textAlign:"center",p:2,bgcolor:"info.light",borderRadius:1},children:[f.jsx(ce,{variant:"h4",color:"info.contrastText",children:e.summary.total_max}),f.jsx(ce,{variant:"body2",color:"info.contrastText",children:"Maximum Score"})]})}),f.jsx(bt,{item:!0,xs:12,md:4,children:f.jsxs(be,{sx:{textAlign:"center",p:2,bgcolor:"success.light",borderRadius:1},children:[f.jsxs(ce,{variant:"h4",color:"success.contrastText",children:[Math.round(e.summary.percent),"%"]}),f.jsx(ce,{variant:"body2",color:"success.contrastText",children:"Percentage"})]})})]}),f.jsx($a,{sx:{my:2}}),f.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Question Results"}),f.jsx(_u,{component:On,variant:"outlined",children:f.jsxs(ku,{size:"small",children:[f.jsx(Nu,{children:f.jsxs(Qi,{children:[f.jsx(ct,{children:"Question"}),f.jsx(ct,{align:"center",children:"Score"}),f.jsx(ct,{align:"center",children:"Max Score"}),f.jsx(ct,{align:"center",children:"Verdict"}),f.jsx(ct,{children:"Reasoning"})]})}),f.jsx(ju,{children:Object.entries(e.summary.items).map(([c,d])=>f.jsxs(Qi,{children:[f.jsxs(ct,{children:[f.jsx(ce,{variant:"body2",sx:{mb:1},children:a(c)}),f.jsxs(ce,{variant:"caption",color:"text.secondary",fontFamily:"monospace",children:["ID: ",c]})]}),f.jsx(ct,{align:"center",children:f.jsx(ce,{variant:"body2",fontWeight:"bold",children:d.score})}),f.jsx(ct,{align:"center",children:f.jsx(ce,{variant:"body2",children:d.max_score})}),f.jsx(ct,{align:"center",children:(()=>{let h;return d.verdict==="correct"?h="correct":d.verdict==="incorrect"?h="incorrect":h=d.score>=d.max_score*.7?"correct":"incorrect",f.jsx($n,{label:h,color:s(h),size:"small",icon:h==="correct"?f.jsx(Bg,{}):f.jsx(cT,{})})})()}),f.jsx(ct,{children:f.jsx(ce,{variant:"body2",children:d.reasoning||"No reasoning provided"})})]},c))})]})})]})}),Object.keys(e.answers).length>0&&f.jsx(lo,{children:f.jsxs(Jo,{children:[f.jsx(ce,{variant:"h6",gutterBottom:!0,children:"User Answers"}),Object.entries(e.answers).map(([c,d],h)=>f.jsxs(gu,{children:[f.jsx(bu,{expandIcon:f.jsx(Rl,{}),children:f.jsxs(ce,{variant:"subtitle1",children:["Question ",h+1," (",c,")"]})}),f.jsx(yu,{children:f.jsx(be,{sx:{p:2,bgcolor:"grey.50",borderRadius:1},children:f.jsx(ce,{variant:"body1",sx:{whiteSpace:"pre-wrap"},children:d})})})]},c))]})})]}),f.jsxs(cs,{children:[f.jsx(at,{startIcon:f.jsx(hg,{}),onClick:l,variant:"outlined",children:"Export Session Data"}),f.jsx(at,{onClick:t,variant:"contained",children:"Close"})]})]})},Cee=()=>{const e=Ai(),{userDetails:n}=Ii(),{courses:t,selectedCourse:r,chatbotsWithQuizzes:i,filteredChatbots:s,selectedChatbot:a,quizSessions:l,analytics:c,loading:d,error:h,filters:g,selectedSession:b,loadChatbotsWithQuizzes:m,selectCourse:x,selectChatbot:y,loadQuizSessions:A,loadQuizPool:w,updateFilters:C,selectSession:k,exportSessionData:R,clearError:q}=oD(),[D,N]=K.useState(!1),[P,z]=K.useState(!1),[X,j]=K.useState("");K.useEffect(()=>{console.log(" Enhanced Quiz Management Page: Initializing..."),m()},[m]);const O=le=>{x(le),le&&console.log(" Selected course:",le.courseTitle,"with",le.chatbotCount,"chatbots")},M=le=>{y(le),le&&console.log(" Selected chatbot:",le.title,"with quiz ID:",le.quizId)},T=le=>{k(le),N(!0)},Q=async le=>{await w(le),z(!0)},H=()=>{m(),a&&A(a.chatbotId)},Y=async le=>{await R(le)},Z=le=>{C({difficulty:le})},ae=le=>{C({completionStatus:le})},G=le=>{j(le),C({userId:le||void 0})};return d&&i.length===0?f.jsxs(be,{sx:{width:"100%",mt:2},children:[f.jsx(il,{}),f.jsx(ce,{variant:"body2",sx:{mt:1,textAlign:"center"},children:"Loading quiz management data..."})]}):f.jsxs(be,{className:"profile-container",children:[f.jsxs(be,{sx:{mb:4},children:[f.jsx(at,{variant:"text",startIcon:f.jsx(BR,{}),onClick:()=>e("/"),className:"profile-button",sx:{mb:2},children:"Home Page"}),f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs(be,{children:[f.jsx(ce,{className:"webpage_title",children:"Quiz Management"}),f.jsx(ce,{variant:"body1",className:"profile-text",children:"Comprehensive quiz analytics and session management"})]}),f.jsx(Qw,{direction:"row",spacing:2,children:f.jsx(na,{title:"Refresh Data",children:f.jsx("span",{children:f.jsx(mn,{onClick:H,disabled:d,children:f.jsx(oT,{})})})})})]})]}),h&&f.jsx(tr,{severity:"error",sx:{mb:3},onClose:q,children:h}),f.jsx(lo,{sx:{mb:4,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:f.jsxs(Jo,{sx:{p:3},children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[f.jsx(Zh,{color:"primary"}),"Course & Quiz Selection"]}),f.jsx(ce,{variant:"body2",sx:{mb:3,fontFamily:"Gabarito, sans-serif",color:"#666666"},children:"First select a course to filter materials, then choose a specific chatbot to view its quiz sessions and manage quiz data."}),f.jsx(be,{sx:{mb:3},children:f.jsx(yee,{courses:t,selectedCourse:r,onSelect:O,loading:d})}),f.jsx(be,{children:f.jsx(xee,{chatbots:s,selectedChatbot:a,onSelect:M,loading:d})}),a&&f.jsxs(be,{sx:{mt:3,p:2,bgcolor:"#F0F4FF",borderRadius:2,border:"1px solid #CDDAFF"},children:[f.jsxs(bt,{container:!0,spacing:2,children:[f.jsxs(bt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Material"}),f.jsx(ce,{variant:"body1",sx:{fontFamily:"Gabarito, sans-serif"},children:a.materialTitle})]}),f.jsxs(bt,{item:!0,xs:12,md:3,children:[f.jsx(ce,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Course"}),f.jsx(ce,{variant:"body1",sx:{fontFamily:"Gabarito, sans-serif"},children:a.courseTitle})]}),f.jsxs(bt,{item:!0,xs:12,md:3,children:[f.jsx(ce,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Quiz ID"}),f.jsx(ce,{variant:"body1",fontFamily:"monospace",sx:{fontSize:"0.875rem",wordBreak:"break-all",lineHeight:1.2},children:a.quizId||"No Quiz ID Available"})]})]}),f.jsxs(be,{sx:{mt:2,display:"flex",gap:2},children:[f.jsx(at,{variant:"outlined",startIcon:f.jsx(mT,{}),onClick:()=>a.quizId&&Q(a.quizId),size:"small",sx:{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",borderColor:"#0B53C0","&:hover":{backgroundColor:"#0B53C0",color:"#FFFFFF"}},children:"View Quiz Questions"}),f.jsx(YE,{badgeContent:l.length,color:"primary",children:f.jsx(at,{variant:"outlined",size:"small",sx:{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",borderColor:"#0B53C0"},children:"Quiz Sessions"})})]})]})]})}),c&&f.jsx(wee,{analytics:c}),a&&f.jsx(lo,{sx:{backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:f.jsxs(Jo,{sx:{p:3},children:[f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[f.jsxs(ce,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[f.jsx(Nd,{color:"primary"}),"Quiz Sessions",f.jsx(YE,{badgeContent:l.length,color:"primary",sx:{ml:1}})]}),f.jsxs(Qw,{direction:"row",spacing:2,alignItems:"center",flexWrap:"wrap",children:[f.jsx($t,{size:"small",label:"Filter by User ID",placeholder:"Enter user ID...",value:X,onChange:le=>G(le.target.value),sx:{minWidth:200}}),f.jsxs(Pc,{size:"small",sx:{minWidth:120},children:[f.jsx(Fc,{children:"Difficulty"}),f.jsxs(Fl,{value:g.difficulty||"all",label:"Difficulty",onChange:le=>Z(le.target.value),children:[f.jsx(ur,{value:"all",children:"All Levels"}),f.jsx(ur,{value:"easy",children:"Easy"}),f.jsx(ur,{value:"medium",children:"Medium"}),f.jsx(ur,{value:"hard",children:"Hard"})]})]}),f.jsxs(Pc,{size:"small",sx:{minWidth:120},children:[f.jsx(Fc,{children:"Status"}),f.jsxs(Fl,{value:g.completionStatus||"all",label:"Status",onChange:le=>ae(le.target.value),children:[f.jsx(ur,{value:"all",children:"All Sessions"}),f.jsx(ur,{value:"completed",children:"Completed"}),f.jsx(ur,{value:"incomplete",children:"In Progress"})]})]})]})]}),f.jsx(vee,{sessions:l,loading:d,onViewDetails:T,onExportSession:Y})]})}),b&&f.jsx(Aee,{session:b,open:D,onClose:()=>N(!1)}),(a==null?void 0:a.quizId)&&f.jsx(See,{quizId:a.quizId,open:P,onClose:()=>z(!1)})]})},Eee=K.lazy(()=>Wi(()=>import("./index-W9qnF0xf.js"),__vite__mapDeps([7,4,1,5]))),_ee=K.lazy(()=>Wi(()=>import("./index-DJITqeuK.js"),__vite__mapDeps([8,4,1,5,9]))),kee=K.lazy(()=>Wi(()=>import("./SupplementalMaterials-DJyeicrb.js"),__vite__mapDeps([10,4,1,5]))),Sw=({element:e})=>f.jsx(WT,{children:f.jsx(ao,{element:e})}),Nee=({element:e})=>f.jsx($T,{children:e}),jee=(e,n)=>[{path:"/",element:e?f.jsx(WT,{children:f.jsx(cP,{})}):f.jsx(Nee,{element:f.jsx(Eee,{})})},{path:"/laboratory-notebooks",element:f.jsx(Sw,{element:_ee})},{path:"/supplemental-materials",element:f.jsx(Sw,{element:kee})},{path:"/my-profile",element:f.jsx(Sw,{element:zX})},{path:"/add-material",element:f.jsx(ao,{element:JO})},{path:"/edit-material/:id",element:f.jsx(ao,{element:rK})},{path:"/view-material/:id",element:f.jsx(ao,{element:NX})},{path:"/add-message",element:f.jsx(ao,{element:jX})},{path:"/edit-message/:id",element:f.jsx(ao,{element:TX})},{path:"/chatbot-management",element:f.jsx(ao,{element:gZ})},{path:"/course-management",element:f.jsx(ao,{element:XX})},{path:"/request-chatbot",element:f.jsx(ao,{element:xZ})},{path:"/quiz-management",element:f.jsx(ao,{element:Cee})},{path:"/request-educator-permissions",element:f.jsx(ao,{element:sZ})},{path:"/educator-requests",element:f.jsx(ao,{element:aZ})},{path:"/request-new-course",element:f.jsx(oZ,{})},{path:"/course-requests",element:f.jsx(lZ,{})},{path:"/super-admin-course-management",element:f.jsx(fZ,{})},{path:"/super-admin-chatbot-requests",element:f.jsx(ao,{element:fee})},...n?[{path:"/user-management",element:f.jsx(ao,{element:LX})},{path:"/chatbot-conversations",element:f.jsx(ao,{element:dee})}]:[],{path:"*",element:f.jsx(FT,{to:"/"})}],Tee=UR({breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}}}),Oee=()=>{const e=$R(),n=J1(e.breakpoints.down("sm")),t=J1(e.breakpoints.between("sm","md")),r=J1(e.breakpoints.up("md"));return{isMobile:n,isTablet:t,isDesktop:r}},Iee=()=>{const{isMobile:e,isTablet:n,isDesktop:t}=Oee();return f.jsx(HR,{position:"static",className:"device-version-bar",children:f.jsx(WR,{className:"device-version-toolbar",children:f.jsxs(be,{sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[e&&f.jsx(ce,{variant:"body1",className:"device-version-text",children:"NexLAB Mobile Version 1.0"}),n&&f.jsx(ce,{variant:"body1",className:"device-version-text",children:"NexLAB Tablet Version 1.0"}),t&&f.jsx(ce,{variant:"body1",className:"device-version-text",children:"NexLAB Desktop Version 1.0"})]})})})},Dee=tt.forwardRef(function(n,t){return f.jsx(tr,{elevation:6,ref:t,variant:"filled",...n})}),Lee=()=>{const[e,n]=K.useState(!1),[t,r]=K.useState(!1),[i,s]=K.useState(""),[a,l]=K.useState(!1),c=Ai(),d=()=>{n(!0)},h=()=>{n(!1)},g=async()=>{if(!a){l(!0);try{await qT.signOut(),n(!1),r(!0),s("Logged out successfully"),c("/")}catch(b){n(!1),r(!0);const m=b instanceof Error?b.message:"Logout failed: An unexpected error occurred";s(m)}finally{l(!1)}}};return f.jsxs(f.Fragment,{children:[f.jsx(at,{variant:"outlined",onClick:d,disabled:a,sx:{fontSize:"1rem",fontFamily:"Staatliches, sans-serif",textTransform:"none",minWidth:"120px",color:"#FBFADA",borderColor:"#FBFADA",borderRadius:"15px",backgroundColor:"transparent",boxShadow:"none","&:hover":{borderColor:"#FFFFFF",backgroundColor:"#ffcdd2",color:"#c62828",boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.2)",transform:"scale(1.05)"},"&:disabled":{borderColor:"#ccc",color:"#999"},transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out"},children:a?"Logging out...":"Logout"}),f.jsxs(Yi,{open:e,onClose:h,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[f.jsx(us,{id:"alert-dialog-title",children:"Logging Out"}),f.jsx(Gi,{children:f.jsx(Oo,{id:"alert-dialog-description",children:"Are you sure you want to log out?"})}),f.jsxs(cs,{children:[f.jsx(at,{onClick:g,autoFocus:!0,disabled:a,children:a?"Please wait...":"Yes"}),f.jsx(at,{onClick:h,disabled:a,children:"No"})]})]}),f.jsx(fo,{open:t,autoHideDuration:6e3,onClose:()=>r(!1),children:f.jsx(Dee,{onClose:()=>r(!1),severity:"info",sx:{width:"100%"},children:i})})]})},Ree=tt.memo(Lee),lD=tt.memo(()=>{const{userDetails:e,isSuperAdmin:n}=Ii(),[t,r]=tt.useState(!1),i=()=>{e!=null&&e.uid?navigator.clipboard.writeText(e.uid).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)}).catch(s=>console.error("Could not copy text: ",s)):console.error("User details are null or undefined")};return f.jsxs(be,{className:"header-box",sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",backgroundColor:"#CDDAFF"},children:[f.jsxs(be,{sx:{display:"flex",alignItems:"center"},children:[f.jsx("img",{src:"/nexlab/nexlab-logo.png",alt:"ATE Logo",style:{width:300}}),f.jsx(be,{className:"divider",sx:{height:"40px",borderLeft:"2px solid #0B53C0",marginRight:"20px"}}),f.jsxs(ce,{variant:"body1",component:"p",className:"subtitle",sx:{color:"#0B53C0",fontFamily:"Gabarito",maxWidth:"300px"},children:["Next-Generation Experiments and ",f.jsx("br",{}),"Learning for Advanced Biotech"]})]}),f.jsxs(be,{className:"user-info-box",sx:{display:"flex",alignItems:"center"},children:[n&&f.jsx($n,{label:"Super-Admin",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),(e==null?void 0:e.isAdmin)&&!n&&f.jsx($n,{label:"Educator",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),!(e!=null&&e.isAdmin)&&f.jsx($n,{label:"Student",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#bbdefb",color:"#1e88e5",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),e&&f.jsx(na,{title:t?"Copied!":"Click to Copy",enterDelay:300,leaveDelay:200,children:f.jsx($n,{label:`User ID: ${e.uid}`,variant:"outlined",onClick:i,sx:{borderRadius:"15px",fontSize:"20px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",mr:2,fontFamily:"Staatliches, sans-serif"}})}),f.jsx(Ree,{})]})]})});lD.displayName="Header";var O1={},Bk;function Mee(){if(Bk)return O1;Bk=1;var e=Es();Object.defineProperty(O1,"__esModule",{value:!0}),O1.default=void 0;var n=e(ks()),t=_s();return O1.default=(0,n.default)((0,t.jsx)("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"}),"BugReport"),O1}var Pee=Mee();const Fee=Fr(Pee),qee=()=>{const e=()=>{window.open("https://help.waveshi.org","_blank","noopener,noreferrer")};return f.jsx(at,{onClick:e,className:"report-bug-button",startIcon:f.jsx(Fee,{}),children:"Provide Feedback"})};function zee(){return f.jsxs(be,{component:"footer",className:"footer-container",children:[f.jsx(be,{className:"report-bug-container",children:f.jsx(qee,{})}),f.jsx($a,{}),f.jsxs(be,{className:"footer-content",children:[f.jsx("img",{src:"/nexlab/FooterLogoLong.png",alt:"Logo",className:"footer-logo"}),f.jsx(ce,{variant:"body2",className:"footer-text",children:"The Institute for Future Intelligence (IFI) and Kapi'olani Community College (KCC) is funded in part by the National Science Foundation grant DUE 2300976."}),f.jsx(ce,{variant:"body2",className:"footer-text",children:" 2025 Institute for Future Intelligence and Kapi'olani Community College Antibody Engineering & Research Projects"})]})]})}const Uk=["http","https","mailto","tel"];function Bee(e){const n=(e||"").trim(),t=n.charAt(0);if(t==="#"||t==="/")return n;const r=n.indexOf(":");if(r===-1)return n;let i=-1;for(;++i<Uk.length;){const s=Uk[i];if(r===s.length&&n.slice(0,s.length).toLowerCase()===s)return n}return i=n.indexOf("?"),i!==-1&&r>i||(i=n.indexOf("#"),i!==-1&&r>i)?n:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Aw,$k;function Uee(){return $k||($k=1,Aw=function(n){return n!=null&&n.constructor!=null&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}),Aw}var $ee=Uee();const uD=Fr($ee);function ag(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Hk(e.position):"start"in e||"end"in e?Hk(e):"line"in e||"column"in e?KS(e):""}function KS(e){return Wk(e&&e.line)+":"+Wk(e&&e.column)}function Hk(e){return KS(e&&e.start)+"-"+KS(e&&e.end)}function Wk(e){return e&&typeof e=="number"?e:1}class zl extends Error{constructor(n,t,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof t=="string"&&(r=t,t=void 0),typeof r=="string"){const a=r.indexOf(":");a===-1?i[1]=r:(i[0]=r.slice(0,a),i[1]=r.slice(a+1))}t&&("type"in t||"position"in t?t.position&&(s=t.position):"start"in t||"end"in t?s=t:("line"in t||"column"in t)&&(s.start=t)),this.name=ag(t)||"1:1",this.message=typeof n=="object"?n.message:n,this.stack="",typeof n=="object"&&n.stack&&(this.stack=n.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}zl.prototype.file="";zl.prototype.name="";zl.prototype.reason="";zl.prototype.message="";zl.prototype.stack="";zl.prototype.fatal=null;zl.prototype.column=null;zl.prototype.line=null;zl.prototype.source=null;zl.prototype.ruleId=null;zl.prototype.position=null;const fc={basename:Hee,dirname:Wee,extname:Vee,join:Yee,sep:"/"};function Hee(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');ob(e);let t=0,r=-1,i=e.length,s;if(n===void 0||n.length===0||n.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){t=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(t,r)}if(n===e)return"";let a=-1,l=n.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){t=i+1;break}}else a<0&&(s=!0,a=i+1),l>-1&&(e.charCodeAt(i)===n.charCodeAt(l--)?l<0&&(r=i):(l=-1,r=a));return t===r?r=a:r<0&&(r=e.length),e.slice(t,r)}function Wee(e){if(ob(e),e.length===0)return".";let n=-1,t=e.length,r;for(;--t;)if(e.charCodeAt(t)===47){if(r){n=t;break}}else r||(r=!0);return n<0?e.charCodeAt(0)===47?"/":".":n===1&&e.charCodeAt(0)===47?"//":e.slice(0,n)}function Vee(e){ob(e);let n=e.length,t=-1,r=0,i=-1,s=0,a;for(;n--;){const l=e.charCodeAt(n);if(l===47){if(a){r=n+1;break}continue}t<0&&(a=!0,t=n+1),l===46?i<0?i=n:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||t<0||s===0||s===1&&i===t-1&&i===r+1?"":e.slice(i,t)}function Yee(...e){let n=-1,t;for(;++n<e.length;)ob(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":Gee(t)}function Gee(e){ob(e);const n=e.charCodeAt(0)===47;let t=Qee(e,!n);return t.length===0&&!n&&(t="."),t.length>0&&e.charCodeAt(e.length-1)===47&&(t+="/"),n?"/"+t:t}function Qee(e,n){let t="",r=0,i=-1,s=0,a=-1,l,c;for(;++a<=e.length;){if(a<e.length)l=e.charCodeAt(a);else{if(l===47)break;l=47}if(l===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(c=t.lastIndexOf("/"),c!==t.length-1){c<0?(t="",r=0):(t=t.slice(0,c),r=t.length-1-t.lastIndexOf("/")),i=a,s=0;continue}}else if(t.length>0){t="",r=0,i=a,s=0;continue}}n&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+e.slice(i+1,a):t=e.slice(i+1,a),r=a-i-1;i=a,s=0}else l===46&&s>-1?s++:s=-1}return t}function ob(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Kee={cwd:Xee};function Xee(){return"/"}function XS(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function Zee(e){if(typeof e=="string")e=new URL(e);else if(!XS(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return Jee(e)}function Jee(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const n=e.pathname;let t=-1;for(;++t<n.length;)if(n.charCodeAt(t)===37&&n.charCodeAt(t+1)===50){const r=n.charCodeAt(t+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(n)}const Cw=["history","path","basename","stem","extname","dirname"];class cD{constructor(n){let t;n?typeof n=="string"||ete(n)?t={value:n}:XS(n)?t={path:n}:t=n:t={},this.data={},this.messages=[],this.history=[],this.cwd=Kee.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<Cw.length;){const s=Cw[r];s in t&&t[s]!==void 0&&t[s]!==null&&(this[s]=s==="history"?[...t[s]]:t[s])}let i;for(i in t)Cw.includes(i)||(this[i]=t[i])}get path(){return this.history[this.history.length-1]}set path(n){XS(n)&&(n=Zee(n)),_w(n,"path"),this.path!==n&&this.history.push(n)}get dirname(){return typeof this.path=="string"?fc.dirname(this.path):void 0}set dirname(n){Vk(this.basename,"dirname"),this.path=fc.join(n||"",this.basename)}get basename(){return typeof this.path=="string"?fc.basename(this.path):void 0}set basename(n){_w(n,"basename"),Ew(n,"basename"),this.path=fc.join(this.dirname||"",n)}get extname(){return typeof this.path=="string"?fc.extname(this.path):void 0}set extname(n){if(Ew(n,"extname"),Vk(this.dirname,"extname"),n){if(n.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=fc.join(this.dirname,this.stem+(n||""))}get stem(){return typeof this.path=="string"?fc.basename(this.path,this.extname):void 0}set stem(n){_w(n,"stem"),Ew(n,"stem"),this.path=fc.join(this.dirname||"",n+(this.extname||""))}toString(n){return(this.value||"").toString(n||void 0)}message(n,t,r){const i=new zl(n,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(n,t,r){const i=this.message(n,t,r);return i.fatal=null,i}fail(n,t,r){const i=this.message(n,t,r);throw i.fatal=!0,i}}function Ew(e,n){if(e&&e.includes(fc.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+fc.sep+"`")}function _w(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function Vk(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function ete(e){return uD(e)}function Yk(e){if(e)throw e}var kw,Gk;function tte(){if(Gk)return kw;Gk=1;var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):n.call(d)==="[object Array]"},s=function(d){if(!d||n.call(d)!=="[object Object]")return!1;var h=e.call(d,"constructor"),g=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!g)return!1;var b;for(b in d);return typeof b>"u"||e.call(d,b)},a=function(d,h){t&&h.name==="__proto__"?t(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},l=function(d,h){if(h==="__proto__")if(e.call(d,h)){if(r)return r(d,h).value}else return;return d[h]};return kw=function c(){var d,h,g,b,m,x,y=arguments[0],A=1,w=arguments.length,C=!1;for(typeof y=="boolean"&&(C=y,y=arguments[1]||{},A=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});A<w;++A)if(d=arguments[A],d!=null)for(h in d)g=l(y,h),b=l(d,h),y!==b&&(C&&b&&(s(b)||(m=i(b)))?(m?(m=!1,x=g&&i(g)?g:[]):x=g&&s(g)?g:{},a(y,{name:h,newValue:c(C,x,b)})):typeof b<"u"&&a(y,{name:h,newValue:b}));return y},kw}var nte=tte();const Qk=Fr(nte);function ZS(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function rte(){const e=[],n={run:t,use:r};return n;function t(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...i);function l(c,...d){const h=e[++s];let g=-1;if(c){a(c);return}for(;++g<i.length;)(d[g]===null||d[g]===void 0)&&(d[g]=i[g]);i=d,h?ite(h,l)(...d):a(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),n}}function ite(e,n){let t;return r;function r(...a){const l=e.length>a.length;let c;l&&a.push(i);try{c=e.apply(this,a)}catch(d){const h=d;if(l&&t)throw h;return i(h)}l||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(a,...l){t||(t=!0,n(a,...l))}function s(a){i(null,a)}}const ste=fD().freeze(),dD={}.hasOwnProperty;function fD(){const e=rte(),n=[];let t={},r,i=-1;return s.data=a,s.Parser=void 0,s.Compiler=void 0,s.freeze=l,s.attachers=n,s.use=c,s.parse=d,s.stringify=h,s.run=g,s.runSync=b,s.process=m,s.processSync=x,s;function s(){const y=fD();let A=-1;for(;++A<n.length;)y.use(...n[A]);return y.data(Qk(!0,{},t)),y}function a(y,A){return typeof y=="string"?arguments.length===2?(Tw("data",r),t[y]=A,s):dD.call(t,y)&&t[y]||null:y?(Tw("data",r),t=y,s):t}function l(){if(r)return s;for(;++i<n.length;){const[y,...A]=n[i];if(A[0]===!1)continue;A[0]===!0&&(A[0]=void 0);const w=y.call(s,...A);typeof w=="function"&&e.use(w)}return r=!0,i=Number.POSITIVE_INFINITY,s}function c(y,...A){let w;if(Tw("use",r),y!=null)if(typeof y=="function")q(y,...A);else if(typeof y=="object")Array.isArray(y)?R(y):k(y);else throw new TypeError("Expected usable value, not `"+y+"`");return w&&(t.settings=Object.assign(t.settings||{},w)),s;function C(D){if(typeof D=="function")q(D);else if(typeof D=="object")if(Array.isArray(D)){const[N,...P]=D;q(N,...P)}else k(D);else throw new TypeError("Expected usable value, not `"+D+"`")}function k(D){R(D.plugins),D.settings&&(w=Object.assign(w||{},D.settings))}function R(D){let N=-1;if(D!=null)if(Array.isArray(D))for(;++N<D.length;){const P=D[N];C(P)}else throw new TypeError("Expected a list of plugins, not `"+D+"`")}function q(D,N){let P=-1,z;for(;++P<n.length;)if(n[P][0]===D){z=n[P];break}z?(ZS(z[1])&&ZS(N)&&(N=Qk(!0,z[1],N)),z[1]=N):n.push([...arguments])}}function d(y){s.freeze();const A=I1(y),w=s.Parser;return Nw("parse",w),Kk(w,"parse")?new w(String(A),A).parse():w(String(A),A)}function h(y,A){s.freeze();const w=I1(A),C=s.Compiler;return jw("stringify",C),Xk(y),Kk(C,"compile")?new C(y,w).compile():C(y,w)}function g(y,A,w){if(Xk(y),s.freeze(),!w&&typeof A=="function"&&(w=A,A=void 0),!w)return new Promise(C);C(null,w);function C(k,R){e.run(y,I1(A),q);function q(D,N,P){N=N||y,D?R(D):k?k(N):w(null,N,P)}}}function b(y,A){let w,C;return s.run(y,A,k),Zk("runSync","run",C),w;function k(R,q){Yk(R),w=q,C=!0}}function m(y,A){if(s.freeze(),Nw("process",s.Parser),jw("process",s.Compiler),!A)return new Promise(w);w(null,A);function w(C,k){const R=I1(y);s.run(s.parse(R),R,(D,N,P)=>{if(D||!N||!P)q(D);else{const z=s.stringify(N,P);z==null||(lte(z)?P.value=z:P.result=z),q(D,P)}});function q(D,N){D||!N?k(D):C?C(N):A(null,N)}}}function x(y){let A;s.freeze(),Nw("processSync",s.Parser),jw("processSync",s.Compiler);const w=I1(y);return s.process(w,C),Zk("processSync","process",A),w;function C(k){A=!0,Yk(k)}}}function Kk(e,n){return typeof e=="function"&&e.prototype&&(ate(e.prototype)||n in e.prototype)}function ate(e){let n;for(n in e)if(dD.call(e,n))return!0;return!1}function Nw(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function jw(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function Tw(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Xk(e){if(!ZS(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Zk(e,n,t){if(!t)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function I1(e){return ote(e)?e:new cD(e)}function ote(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function lte(e){return typeof e=="string"||uD(e)}const ute={};function cte(e,n){const t=ute,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return hD(e,r,i)}function hD(e,n,t){if(dte(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Jk(e.children,n,t)}return Array.isArray(e)?Jk(e,n,t):""}function Jk(e,n,t){const r=[];let i=-1;for(;++i<e.length;)r[i]=hD(e[i],n,t);return r.join("")}function dte(e){return!!(e&&typeof e=="object")}function Uc(e,n,t,r){const i=e.length;let s=0,a;if(n<0?n=-n>i?0:i+n:n=n>i?i:n,t=t>0?t:0,r.length<1e4)a=Array.from(r),a.unshift(n,t),e.splice(...a);else for(t&&e.splice(n,t);s<r.length;)a=r.slice(s,s+1e4),a.unshift(n,0),e.splice(...a),s+=1e4,n+=1e4}function Il(e,n){return e.length>0?(Uc(e,e.length,0,n),e):n}const eN={}.hasOwnProperty;function fte(e){const n={};let t=-1;for(;++t<e.length;)hte(n,e[t]);return n}function hte(e,n){let t;for(t in n){const i=(eN.call(e,t)?e[t]:void 0)||(e[t]={}),s=n[t];let a;if(s)for(a in s){eN.call(i,a)||(i[a]=[]);const l=s[a];pte(i[a],Array.isArray(l)?l:l?[l]:[])}}}function pte(e,n){let t=-1;const r=[];for(;++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);Uc(e,0,0,r)}const mte=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Cc=th(/[A-Za-z]/),rl=th(/[\dA-Za-z]/),gte=th(/[#-'*+\--9=?A-Z^-~]/);function JS(e){return e!==null&&(e<32||e===127)}const e6=th(/\d/),bte=th(/[\dA-Fa-f]/),yte=th(/[!-/:-@[-`{-~]/);function pn(e){return e!==null&&e<-2}function _o(e){return e!==null&&(e<0||e===32)}function _r(e){return e===-2||e===-1||e===32}const xte=th(mte),vte=th(/\s/);function th(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function fi(e,n,t,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(c){return _r(c)?(e.enter(t),l(c)):n(c)}function l(c){return _r(c)&&s++<i?(e.consume(c),l):(e.exit(t),n(c))}}const wte={tokenize:Ste};function Ste(e){const n=e.attempt(this.parser.constructs.contentInitial,r,i);let t;return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),fi(e,n,"linePrefix")}function i(l){return e.enter("paragraph"),s(l)}function s(l){const c=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=c),t=c,a(l)}function a(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return pn(l)?(e.consume(l),e.exit("chunkText"),s):(e.consume(l),a)}}const Ate={tokenize:Cte},tN={tokenize:Ete};function Cte(e){const n=this,t=[];let r=0,i,s,a;return l;function l(k){if(r<t.length){const R=t[r];return n.containerState=R[1],e.attempt(R[0].continuation,c,d)(k)}return d(k)}function c(k){if(r++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,i&&C();const R=n.events.length;let q=R,D;for(;q--;)if(n.events[q][0]==="exit"&&n.events[q][1].type==="chunkFlow"){D=n.events[q][1].end;break}w(r);let N=R;for(;N<n.events.length;)n.events[N][1].end=Object.assign({},D),N++;return Uc(n.events,q+1,0,n.events.slice(R)),n.events.length=N,d(k)}return l(k)}function d(k){if(r===t.length){if(!i)return b(k);if(i.currentConstruct&&i.currentConstruct.concrete)return x(k);n.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(tN,h,g)(k)}function h(k){return i&&C(),w(r),b(k)}function g(k){return n.parser.lazy[n.now().line]=r!==t.length,a=n.now().offset,x(k)}function b(k){return n.containerState={},e.attempt(tN,m,x)(k)}function m(k){return r++,t.push([n.currentConstruct,n.containerState]),b(k)}function x(k){if(k===null){i&&C(),w(0),e.consume(k);return}return i=i||n.parser.flow(n.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),y(k)}function y(k){if(k===null){A(e.exit("chunkFlow"),!0),w(0),e.consume(k);return}return pn(k)?(e.consume(k),A(e.exit("chunkFlow")),r=0,n.interrupt=void 0,l):(e.consume(k),y)}function A(k,R){const q=n.sliceStream(k);if(R&&q.push(null),k.previous=s,s&&(s.next=k),s=k,i.defineSkip(k.start),i.write(q),n.parser.lazy[k.start.line]){let D=i.events.length;for(;D--;)if(i.events[D][1].start.offset<a&&(!i.events[D][1].end||i.events[D][1].end.offset>a))return;const N=n.events.length;let P=N,z,X;for(;P--;)if(n.events[P][0]==="exit"&&n.events[P][1].type==="chunkFlow"){if(z){X=n.events[P][1].end;break}z=!0}for(w(r),D=N;D<n.events.length;)n.events[D][1].end=Object.assign({},X),D++;Uc(n.events,P+1,0,n.events.slice(N)),n.events.length=D}}function w(k){let R=t.length;for(;R-- >k;){const q=t[R];n.containerState=q[1],q[0].exit.call(n,e)}t.length=k}function C(){i.write([null]),s=void 0,i=void 0,n.containerState._closeFlow=void 0}}function Ete(e,n,t){return fi(e,e.attempt(this.parser.constructs.document,n,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function nN(e){if(e===null||_o(e)||vte(e))return 1;if(xte(e))return 2}function vA(e,n,t){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(n=s(n,t),r.push(s))}return n}const t6={name:"attention",tokenize:kte,resolveAll:_te};function _te(e,n){let t=-1,r,i,s,a,l,c,d,h;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(r=t;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&n.sliceSerialize(e[r][1]).charCodeAt(0)===n.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[r][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;const g=Object.assign({},e[r][1].end),b=Object.assign({},e[t][1].start);rN(g,-c),rN(b,c),a={type:c>1?"strongSequence":"emphasisSequence",start:g,end:Object.assign({},e[r][1].end)},l={type:c>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[t][1].start),end:b},s={type:c>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[t][1].start)},i={type:c>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},l.end)},e[r][1].end=Object.assign({},a.start),e[t][1].start=Object.assign({},l.end),d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=Il(d,[["enter",e[r][1],n],["exit",e[r][1],n]])),d=Il(d,[["enter",i,n],["enter",a,n],["exit",a,n],["enter",s,n]]),d=Il(d,vA(n.parser.constructs.insideSpan.null,e.slice(r+1,t),n)),d=Il(d,[["exit",s,n],["enter",l,n],["exit",l,n],["exit",i,n]]),e[t][1].end.offset-e[t][1].start.offset?(h=2,d=Il(d,[["enter",e[t][1],n],["exit",e[t][1],n]])):h=0,Uc(e,r-1,t-r+3,d),t=r+d.length-h-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function kte(e,n){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=nN(r);let s;return a;function a(c){return s=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===s)return e.consume(c),l;const d=e.exit("attentionSequence"),h=nN(c),g=!h||h===2&&i||t.includes(c),b=!i||i===2&&h||t.includes(r);return d._open=!!(s===42?g:g&&(i||!b)),d._close=!!(s===42?b:b&&(h||!g)),n(c)}}function rN(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const Nte={name:"autolink",tokenize:jte};function jte(e,n,t){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(m){return Cc(m)?(e.consume(m),a):d(m)}function a(m){return m===43||m===45||m===46||rl(m)?(r=1,l(m)):d(m)}function l(m){return m===58?(e.consume(m),r=0,c):(m===43||m===45||m===46||rl(m))&&r++<32?(e.consume(m),l):(r=0,d(m))}function c(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),n):m===null||m===32||m===60||JS(m)?t(m):(e.consume(m),c)}function d(m){return m===64?(e.consume(m),h):gte(m)?(e.consume(m),d):t(m)}function h(m){return rl(m)?g(m):t(m)}function g(m){return m===46?(e.consume(m),r=0,h):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),n):b(m)}function b(m){if((m===45||rl(m))&&r++<63){const x=m===45?b:g;return e.consume(m),x}return t(m)}}const Uv={tokenize:Tte,partial:!0};function Tte(e,n,t){return r;function r(s){return _r(s)?fi(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||pn(s)?n(s):t(s)}}const pD={name:"blockQuote",tokenize:Ote,continuation:{tokenize:Ite},exit:Dte};function Ote(e,n,t){const r=this;return i;function i(a){if(a===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return t(a)}function s(a){return _r(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(a))}}function Ite(e,n,t){const r=this;return i;function i(a){return _r(a)?fi(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(pD,n,t)(a)}}function Dte(e){e.exit("blockQuote")}const mD={name:"characterEscape",tokenize:Lte};function Lte(e,n,t){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return yte(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):t(s)}}const iN=document.createElement("i");function wA(e){const n="&"+e+";";iN.innerHTML=n;const t=iN.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===n?!1:t}const gD={name:"characterReference",tokenize:Rte};function Rte(e,n,t){const r=this;let i=0,s,a;return l;function l(g){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),c}function c(g){return g===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(g),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),s=31,a=rl,h(g))}function d(g){return g===88||g===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(g),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=bte,h):(e.enter("characterReferenceValue"),s=7,a=e6,h(g))}function h(g){if(g===59&&i){const b=e.exit("characterReferenceValue");return a===rl&&!wA(r.sliceSerialize(b))?t(g):(e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return a(g)&&i++<s?(e.consume(g),h):t(g)}}const sN={tokenize:Pte,partial:!0},aN={name:"codeFenced",tokenize:Mte,concrete:!0};function Mte(e,n,t){const r=this,i={tokenize:q,partial:!0};let s=0,a=0,l;return c;function c(D){return d(D)}function d(D){const N=r.events[r.events.length-1];return s=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,l=D,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(D)}function h(D){return D===l?(a++,e.consume(D),h):a<3?t(D):(e.exit("codeFencedFenceSequence"),_r(D)?fi(e,g,"whitespace")(D):g(D))}function g(D){return D===null||pn(D)?(e.exit("codeFencedFence"),r.interrupt?n(D):e.check(sN,y,R)(D)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),b(D))}function b(D){return D===null||pn(D)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),g(D)):_r(D)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),fi(e,m,"whitespace")(D)):D===96&&D===l?t(D):(e.consume(D),b)}function m(D){return D===null||pn(D)?g(D):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(D))}function x(D){return D===null||pn(D)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),g(D)):D===96&&D===l?t(D):(e.consume(D),x)}function y(D){return e.attempt(i,R,A)(D)}function A(D){return e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),w}function w(D){return s>0&&_r(D)?fi(e,C,"linePrefix",s+1)(D):C(D)}function C(D){return D===null||pn(D)?e.check(sN,y,R)(D):(e.enter("codeFlowValue"),k(D))}function k(D){return D===null||pn(D)?(e.exit("codeFlowValue"),C(D)):(e.consume(D),k)}function R(D){return e.exit("codeFenced"),n(D)}function q(D,N,P){let z=0;return X;function X(Q){return D.enter("lineEnding"),D.consume(Q),D.exit("lineEnding"),j}function j(Q){return D.enter("codeFencedFence"),_r(Q)?fi(D,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Q):O(Q)}function O(Q){return Q===l?(D.enter("codeFencedFenceSequence"),M(Q)):P(Q)}function M(Q){return Q===l?(z++,D.consume(Q),M):z>=a?(D.exit("codeFencedFenceSequence"),_r(Q)?fi(D,T,"whitespace")(Q):T(Q)):P(Q)}function T(Q){return Q===null||pn(Q)?(D.exit("codeFencedFence"),N(Q)):P(Q)}}}function Pte(e,n,t){const r=this;return i;function i(a){return a===null?t(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?t(a):n(a)}}const Ow={name:"codeIndented",tokenize:qte},Fte={tokenize:zte,partial:!0};function qte(e,n,t){const r=this;return i;function i(d){return e.enter("codeIndented"),fi(e,s,"linePrefix",5)(d)}function s(d){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(d):t(d)}function a(d){return d===null?c(d):pn(d)?e.attempt(Fte,a,c)(d):(e.enter("codeFlowValue"),l(d))}function l(d){return d===null||pn(d)?(e.exit("codeFlowValue"),a(d)):(e.consume(d),l)}function c(d){return e.exit("codeIndented"),n(d)}}function zte(e,n,t){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?t(a):pn(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):fi(e,s,"linePrefix",5)(a)}function s(a){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?n(a):pn(a)?i(a):t(a)}}const Bte={name:"codeText",tokenize:Hte,resolve:Ute,previous:$te};function Ute(e){let n=e.length-4,t=3,r,i;if((e[t][1].type==="lineEnding"||e[t][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(r=t;++r<n;)if(e[r][1].type==="codeTextData"){e[t][1].type="codeTextPadding",e[n][1].type="codeTextPadding",t+=2,n-=2;break}}for(r=t-1,n++;++r<=n;)i===void 0?r!==n&&e[r][1].type!=="lineEnding"&&(i=r):(r===n||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),n-=r-i-2,r=i+2),i=void 0);return e}function $te(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Hte(e,n,t){let r=0,i,s;return a;function a(g){return e.enter("codeText"),e.enter("codeTextSequence"),l(g)}function l(g){return g===96?(e.consume(g),r++,l):(e.exit("codeTextSequence"),c(g))}function c(g){return g===null?t(g):g===32?(e.enter("space"),e.consume(g),e.exit("space"),c):g===96?(s=e.enter("codeTextSequence"),i=0,h(g)):pn(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),c):(e.enter("codeTextData"),d(g))}function d(g){return g===null||g===32||g===96||pn(g)?(e.exit("codeTextData"),c(g)):(e.consume(g),d)}function h(g){return g===96?(e.consume(g),i++,h):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),n(g)):(s.type="codeTextData",d(g))}}function bD(e){const n={};let t=-1,r,i,s,a,l,c,d;for(;++t<e.length;){for(;t in n;)t=n[t];if(r=e[t],t&&r[1].type==="chunkFlow"&&e[t-1][1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(n,Wte(e,t)),t=n[t],d=!0);else if(r[1]._container){for(s=t,i=void 0;s--&&(a=e[s],a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},e[i][1].start),l=e.slice(i,t),l.unshift(r),Uc(e,i,t-i+1,l))}}return!d}function Wte(e,n){const t=e[n][1],r=e[n][2];let i=n-1;const s=[],a=t._tokenizer||r.parser[t.contentType](t.start),l=a.events,c=[],d={};let h,g,b=-1,m=t,x=0,y=0;const A=[y];for(;m;){for(;e[++i][1]!==m;);s.push(i),m._tokenizer||(h=r.sliceStream(m),m.next||h.push(null),g&&a.defineSkip(m.start),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(h),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),g=m,m=m.next}for(m=t;++b<l.length;)l[b][0]==="exit"&&l[b-1][0]==="enter"&&l[b][1].type===l[b-1][1].type&&l[b][1].start.line!==l[b][1].end.line&&(y=b+1,A.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(a.events=[],m?(m._tokenizer=void 0,m.previous=void 0):A.pop(),b=A.length;b--;){const w=l.slice(A[b],A[b+1]),C=s.pop();c.unshift([C,C+w.length-1]),Uc(e,C,2,w)}for(b=-1;++b<c.length;)d[x+c[b][0]]=x+c[b][1],x+=c[b][1]-c[b][0]-1;return d}const Vte={tokenize:Qte,resolve:Gte},Yte={tokenize:Kte,partial:!0};function Gte(e){return bD(e),e}function Qte(e,n){let t;return r;function r(l){return e.enter("content"),t=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):pn(l)?e.check(Yte,a,s)(l):(e.consume(l),i)}function s(l){return e.exit("chunkContent"),e.exit("content"),n(l)}function a(l){return e.consume(l),e.exit("chunkContent"),t.next=e.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function Kte(e,n,t){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),fi(e,s,"linePrefix")}function s(a){if(a===null||pn(a))return t(a);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?n(a):e.interrupt(r.parser.constructs.flow,t,n)(a)}}function yD(e,n,t,r,i,s,a,l,c){const d=c||Number.POSITIVE_INFINITY;let h=0;return g;function g(w){return w===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(w),e.exit(s),b):w===null||w===32||w===41||JS(w)?t(w):(e.enter(r),e.enter(a),e.enter(l),e.enter("chunkString",{contentType:"string"}),y(w))}function b(w){return w===62?(e.enter(s),e.consume(w),e.exit(s),e.exit(i),e.exit(r),n):(e.enter(l),e.enter("chunkString",{contentType:"string"}),m(w))}function m(w){return w===62?(e.exit("chunkString"),e.exit(l),b(w)):w===null||w===60||pn(w)?t(w):(e.consume(w),w===92?x:m)}function x(w){return w===60||w===62||w===92?(e.consume(w),m):m(w)}function y(w){return!h&&(w===null||w===41||_o(w))?(e.exit("chunkString"),e.exit(l),e.exit(a),e.exit(r),n(w)):h<d&&w===40?(e.consume(w),h++,y):w===41?(e.consume(w),h--,y):w===null||w===32||w===40||JS(w)?t(w):(e.consume(w),w===92?A:y)}function A(w){return w===40||w===41||w===92?(e.consume(w),y):y(w)}}function xD(e,n,t,r,i,s){const a=this;let l=0,c;return d;function d(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(s),h}function h(m){return l>999||m===null||m===91||m===93&&!c||m===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?t(m):m===93?(e.exit(s),e.enter(i),e.consume(m),e.exit(i),e.exit(r),n):pn(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),g(m))}function g(m){return m===null||m===91||m===93||pn(m)||l++>999?(e.exit("chunkString"),h(m)):(e.consume(m),c||(c=!_r(m)),m===92?b:g)}function b(m){return m===91||m===92||m===93?(e.consume(m),l++,g):g(m)}}function vD(e,n,t,r,i,s){let a;return l;function l(b){return b===34||b===39||b===40?(e.enter(r),e.enter(i),e.consume(b),e.exit(i),a=b===40?41:b,c):t(b)}function c(b){return b===a?(e.enter(i),e.consume(b),e.exit(i),e.exit(r),n):(e.enter(s),d(b))}function d(b){return b===a?(e.exit(s),c(a)):b===null?t(b):pn(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),fi(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(b))}function h(b){return b===a||b===null||pn(b)?(e.exit("chunkString"),d(b)):(e.consume(b),b===92?g:h)}function g(b){return b===a||b===92?(e.consume(b),h):h(b)}}function og(e,n){let t;return r;function r(i){return pn(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t=!0,r):_r(i)?fi(e,r,t?"linePrefix":"lineSuffix")(i):n(i)}}function L0(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Xte={name:"definition",tokenize:Jte},Zte={tokenize:ene,partial:!0};function Jte(e,n,t){const r=this;let i;return s;function s(m){return e.enter("definition"),a(m)}function a(m){return xD.call(r,e,l,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function l(m){return i=L0(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),c):t(m)}function c(m){return _o(m)?og(e,d)(m):d(m)}function d(m){return yD(e,h,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function h(m){return e.attempt(Zte,g,g)(m)}function g(m){return _r(m)?fi(e,b,"whitespace")(m):b(m)}function b(m){return m===null||pn(m)?(e.exit("definition"),r.parser.defined.push(i),n(m)):t(m)}}function ene(e,n,t){return r;function r(l){return _o(l)?og(e,i)(l):t(l)}function i(l){return vD(e,s,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return _r(l)?fi(e,a,"whitespace")(l):a(l)}function a(l){return l===null||pn(l)?n(l):t(l)}}const tne={name:"hardBreakEscape",tokenize:nne};function nne(e,n,t){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return pn(s)?(e.exit("hardBreakEscape"),n(s)):t(s)}}const rne={name:"headingAtx",tokenize:sne,resolve:ine};function ine(e,n){let t=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),t-2>r&&e[t][1].type==="whitespace"&&(t-=2),e[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&e[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[t][1].end},s={type:"chunkText",start:e[r][1].start,end:e[t][1].end,contentType:"text"},Uc(e,r,t-r+1,[["enter",i,n],["enter",s,n],["exit",s,n],["exit",i,n]])),e}function sne(e,n,t){let r=0;return i;function i(h){return e.enter("atxHeading"),s(h)}function s(h){return e.enter("atxHeadingSequence"),a(h)}function a(h){return h===35&&r++<6?(e.consume(h),a):h===null||_o(h)?(e.exit("atxHeadingSequence"),l(h)):t(h)}function l(h){return h===35?(e.enter("atxHeadingSequence"),c(h)):h===null||pn(h)?(e.exit("atxHeading"),n(h)):_r(h)?fi(e,l,"whitespace")(h):(e.enter("atxHeadingText"),d(h))}function c(h){return h===35?(e.consume(h),c):(e.exit("atxHeadingSequence"),l(h))}function d(h){return h===null||h===35||_o(h)?(e.exit("atxHeadingText"),l(h)):(e.consume(h),d)}}const ane=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],oN=["pre","script","style","textarea"],one={name:"htmlFlow",tokenize:dne,resolveTo:cne,concrete:!0},lne={tokenize:hne,partial:!0},une={tokenize:fne,partial:!0};function cne(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function dne(e,n,t){const r=this;let i,s,a,l,c;return d;function d(B){return h(B)}function h(B){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(B),g}function g(B){return B===33?(e.consume(B),b):B===47?(e.consume(B),s=!0,y):B===63?(e.consume(B),i=3,r.interrupt?n:G):Cc(B)?(e.consume(B),a=String.fromCharCode(B),A):t(B)}function b(B){return B===45?(e.consume(B),i=2,m):B===91?(e.consume(B),i=5,l=0,x):Cc(B)?(e.consume(B),i=4,r.interrupt?n:G):t(B)}function m(B){return B===45?(e.consume(B),r.interrupt?n:G):t(B)}function x(B){const ie="CDATA[";return B===ie.charCodeAt(l++)?(e.consume(B),l===ie.length?r.interrupt?n:O:x):t(B)}function y(B){return Cc(B)?(e.consume(B),a=String.fromCharCode(B),A):t(B)}function A(B){if(B===null||B===47||B===62||_o(B)){const ie=B===47,J=a.toLowerCase();return!ie&&!s&&oN.includes(J)?(i=1,r.interrupt?n(B):O(B)):ane.includes(a.toLowerCase())?(i=6,ie?(e.consume(B),w):r.interrupt?n(B):O(B)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(B):s?C(B):k(B))}return B===45||rl(B)?(e.consume(B),a+=String.fromCharCode(B),A):t(B)}function w(B){return B===62?(e.consume(B),r.interrupt?n:O):t(B)}function C(B){return _r(B)?(e.consume(B),C):X(B)}function k(B){return B===47?(e.consume(B),X):B===58||B===95||Cc(B)?(e.consume(B),R):_r(B)?(e.consume(B),k):X(B)}function R(B){return B===45||B===46||B===58||B===95||rl(B)?(e.consume(B),R):q(B)}function q(B){return B===61?(e.consume(B),D):_r(B)?(e.consume(B),q):k(B)}function D(B){return B===null||B===60||B===61||B===62||B===96?t(B):B===34||B===39?(e.consume(B),c=B,N):_r(B)?(e.consume(B),D):P(B)}function N(B){return B===c?(e.consume(B),c=null,z):B===null||pn(B)?t(B):(e.consume(B),N)}function P(B){return B===null||B===34||B===39||B===47||B===60||B===61||B===62||B===96||_o(B)?q(B):(e.consume(B),P)}function z(B){return B===47||B===62||_r(B)?k(B):t(B)}function X(B){return B===62?(e.consume(B),j):t(B)}function j(B){return B===null||pn(B)?O(B):_r(B)?(e.consume(B),j):t(B)}function O(B){return B===45&&i===2?(e.consume(B),H):B===60&&i===1?(e.consume(B),Y):B===62&&i===4?(e.consume(B),le):B===63&&i===3?(e.consume(B),G):B===93&&i===5?(e.consume(B),ae):pn(B)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(lne,U,M)(B)):B===null||pn(B)?(e.exit("htmlFlowData"),M(B)):(e.consume(B),O)}function M(B){return e.check(une,T,U)(B)}function T(B){return e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),Q}function Q(B){return B===null||pn(B)?M(B):(e.enter("htmlFlowData"),O(B))}function H(B){return B===45?(e.consume(B),G):O(B)}function Y(B){return B===47?(e.consume(B),a="",Z):O(B)}function Z(B){if(B===62){const ie=a.toLowerCase();return oN.includes(ie)?(e.consume(B),le):O(B)}return Cc(B)&&a.length<8?(e.consume(B),a+=String.fromCharCode(B),Z):O(B)}function ae(B){return B===93?(e.consume(B),G):O(B)}function G(B){return B===62?(e.consume(B),le):B===45&&i===2?(e.consume(B),G):O(B)}function le(B){return B===null||pn(B)?(e.exit("htmlFlowData"),U(B)):(e.consume(B),le)}function U(B){return e.exit("htmlFlow"),n(B)}}function fne(e,n,t){const r=this;return i;function i(a){return pn(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):t(a)}function s(a){return r.parser.lazy[r.now().line]?t(a):n(a)}}function hne(e,n,t){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Uv,n,t)}}const pne={name:"htmlText",tokenize:mne};function mne(e,n,t){const r=this;let i,s,a;return l;function l(G){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(G),c}function c(G){return G===33?(e.consume(G),d):G===47?(e.consume(G),q):G===63?(e.consume(G),k):Cc(G)?(e.consume(G),P):t(G)}function d(G){return G===45?(e.consume(G),h):G===91?(e.consume(G),s=0,x):Cc(G)?(e.consume(G),C):t(G)}function h(G){return G===45?(e.consume(G),m):t(G)}function g(G){return G===null?t(G):G===45?(e.consume(G),b):pn(G)?(a=g,Y(G)):(e.consume(G),g)}function b(G){return G===45?(e.consume(G),m):g(G)}function m(G){return G===62?H(G):G===45?b(G):g(G)}function x(G){const le="CDATA[";return G===le.charCodeAt(s++)?(e.consume(G),s===le.length?y:x):t(G)}function y(G){return G===null?t(G):G===93?(e.consume(G),A):pn(G)?(a=y,Y(G)):(e.consume(G),y)}function A(G){return G===93?(e.consume(G),w):y(G)}function w(G){return G===62?H(G):G===93?(e.consume(G),w):y(G)}function C(G){return G===null||G===62?H(G):pn(G)?(a=C,Y(G)):(e.consume(G),C)}function k(G){return G===null?t(G):G===63?(e.consume(G),R):pn(G)?(a=k,Y(G)):(e.consume(G),k)}function R(G){return G===62?H(G):k(G)}function q(G){return Cc(G)?(e.consume(G),D):t(G)}function D(G){return G===45||rl(G)?(e.consume(G),D):N(G)}function N(G){return pn(G)?(a=N,Y(G)):_r(G)?(e.consume(G),N):H(G)}function P(G){return G===45||rl(G)?(e.consume(G),P):G===47||G===62||_o(G)?z(G):t(G)}function z(G){return G===47?(e.consume(G),H):G===58||G===95||Cc(G)?(e.consume(G),X):pn(G)?(a=z,Y(G)):_r(G)?(e.consume(G),z):H(G)}function X(G){return G===45||G===46||G===58||G===95||rl(G)?(e.consume(G),X):j(G)}function j(G){return G===61?(e.consume(G),O):pn(G)?(a=j,Y(G)):_r(G)?(e.consume(G),j):z(G)}function O(G){return G===null||G===60||G===61||G===62||G===96?t(G):G===34||G===39?(e.consume(G),i=G,M):pn(G)?(a=O,Y(G)):_r(G)?(e.consume(G),O):(e.consume(G),T)}function M(G){return G===i?(e.consume(G),i=void 0,Q):G===null?t(G):pn(G)?(a=M,Y(G)):(e.consume(G),M)}function T(G){return G===null||G===34||G===39||G===60||G===61||G===96?t(G):G===47||G===62||_o(G)?z(G):(e.consume(G),T)}function Q(G){return G===47||G===62||_o(G)?z(G):t(G)}function H(G){return G===62?(e.consume(G),e.exit("htmlTextData"),e.exit("htmlText"),n):t(G)}function Y(G){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(G),e.exit("lineEnding"),Z}function Z(G){return _r(G)?fi(e,ae,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):ae(G)}function ae(G){return e.enter("htmlTextData"),a(G)}}const SA={name:"labelEnd",tokenize:wne,resolveTo:vne,resolveAll:xne},gne={tokenize:Sne},bne={tokenize:Ane},yne={tokenize:Cne};function xne(e){let n=-1;for(;++n<e.length;){const t=e[n][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(e.splice(n+1,t.type==="labelImage"?4:2),t.type="data",n++)}return e}function vne(e,n){let t=e.length,r=0,i,s,a,l;for(;t--;)if(i=e[t][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=t);const c={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},d={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[a][1].end)},h={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[a-2][1].start)};return l=[["enter",c,n],["enter",d,n]],l=Il(l,e.slice(s+1,s+r+3)),l=Il(l,[["enter",h,n]]),l=Il(l,vA(n.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),n)),l=Il(l,[["exit",h,n],e[a-2],e[a-1],["exit",d,n]]),l=Il(l,e.slice(a+1)),l=Il(l,[["exit",c,n]]),Uc(e,s,e.length,l),e}function wne(e,n,t){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return l;function l(b){return s?s._inactive?g(b):(a=r.parser.defined.includes(L0(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(b),e.exit("labelMarker"),e.exit("labelEnd"),c):t(b)}function c(b){return b===40?e.attempt(gne,h,a?h:g)(b):b===91?e.attempt(bne,h,a?d:g)(b):a?h(b):g(b)}function d(b){return e.attempt(yne,h,g)(b)}function h(b){return n(b)}function g(b){return s._balanced=!0,t(b)}}function Sne(e,n,t){return r;function r(g){return e.enter("resource"),e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),i}function i(g){return _o(g)?og(e,s)(g):s(g)}function s(g){return g===41?h(g):yD(e,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function a(g){return _o(g)?og(e,c)(g):h(g)}function l(g){return t(g)}function c(g){return g===34||g===39||g===40?vD(e,d,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):h(g)}function d(g){return _o(g)?og(e,h)(g):h(g)}function h(g){return g===41?(e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),e.exit("resource"),n):t(g)}}function Ane(e,n,t){const r=this;return i;function i(l){return xD.call(r,e,s,a,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(L0(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?n(l):t(l)}function a(l){return t(l)}}function Cne(e,n,t){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),n):t(s)}}const Ene={name:"labelStartImage",tokenize:_ne,resolveAll:SA.resolveAll};function _ne(e,n,t){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),s}function s(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),a):t(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(l):n(l)}}const kne={name:"labelStartLink",tokenize:Nne,resolveAll:SA.resolveAll};function Nne(e,n,t){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(a):n(a)}}const Iw={name:"lineEnding",tokenize:jne};function jne(e,n){return t;function t(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),fi(e,n,"linePrefix")}}const yx={name:"thematicBreak",tokenize:Tne};function Tne(e,n,t){let r=0,i;return s;function s(d){return e.enter("thematicBreak"),a(d)}function a(d){return i=d,l(d)}function l(d){return d===i?(e.enter("thematicBreakSequence"),c(d)):r>=3&&(d===null||pn(d))?(e.exit("thematicBreak"),n(d)):t(d)}function c(d){return d===i?(e.consume(d),r++,c):(e.exit("thematicBreakSequence"),_r(d)?fi(e,l,"whitespace")(d):l(d))}}const Ao={name:"list",tokenize:Dne,continuation:{tokenize:Lne},exit:Mne},One={tokenize:Pne,partial:!0},Ine={tokenize:Rne,partial:!0};function Dne(e,n,t){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return l;function l(m){const x=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:e6(m)){if(r.containerState.type||(r.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(yx,t,d)(m):d(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(m)}return t(m)}function c(m){return e6(m)&&++a<10?(e.consume(m),c):(!r.interrupt||a<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),d(m)):t(m)}function d(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Uv,r.interrupt?t:h,e.attempt(One,b,g))}function h(m){return r.containerState.initialBlankLine=!0,s++,b(m)}function g(m){return _r(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),b):t(m)}function b(m){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(m)}}function Lne(e,n,t){const r=this;return r.containerState._closeFlow=void 0,e.check(Uv,i,s);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,fi(e,n,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!_r(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Ine,n,a)(l))}function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,fi(e,e.attempt(Ao,n,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function Rne(e,n,t){const r=this;return fi(e,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?n(s):t(s)}}function Mne(e){e.exit(this.containerState.type)}function Pne(e,n,t){const r=this;return fi(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!_r(s)&&a&&a[1].type==="listItemPrefixWhitespace"?n(s):t(s)}}const lN={name:"setextUnderline",tokenize:qne,resolveTo:Fne};function Fne(e,n){let t=e.length,r,i,s;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type==="content"){r=t;break}e[t][1].type==="paragraph"&&(i=t)}else e[t][1].type==="content"&&e.splice(t,1),!s&&e[t][1].type==="definition"&&(s=t);const a={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,n]),e.splice(s+1,0,["exit",e[r][1],n]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=a,e.push(["exit",a,n]),e}function qne(e,n,t){const r=this;let i;return s;function s(d){let h=r.events.length,g;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){g=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(e.enter("setextHeadingLine"),i=d,a(d)):t(d)}function a(d){return e.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(e.consume(d),l):(e.exit("setextHeadingLineSequence"),_r(d)?fi(e,c,"lineSuffix")(d):c(d))}function c(d){return d===null||pn(d)?(e.exit("setextHeadingLine"),n(d)):t(d)}}const zne={tokenize:Bne};function Bne(e){const n=this,t=e.attempt(Uv,r,e.attempt(this.parser.constructs.flowInitial,i,fi(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Vte,i)),"linePrefix")));return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),n.currentConstruct=void 0,t}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n.currentConstruct=void 0,t}}const Une={resolveAll:SD()},$ne=wD("string"),Hne=wD("text");function wD(e){return{tokenize:n,resolveAll:SD(e==="text"?Wne:void 0)};function n(t){const r=this,i=this.parser.constructs[e],s=t.attempt(i,a,l);return a;function a(h){return d(h)?s(h):l(h)}function l(h){if(h===null){t.consume(h);return}return t.enter("data"),t.consume(h),c}function c(h){return d(h)?(t.exit("data"),s(h)):(t.consume(h),c)}function d(h){if(h===null)return!0;const g=i[h];let b=-1;if(g)for(;++b<g.length;){const m=g[b];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function SD(e){return n;function n(t,r){let i=-1,s;for(;++i<=t.length;)s===void 0?t[i]&&t[i][1].type==="data"&&(s=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(t,r):t}}function Wne(e,n){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type==="lineEnding")&&e[t-1][1].type==="data"){const r=e[t-1][1],i=n.sliceStream(r);let s=i.length,a=-1,l=0,c;for(;s--;){const d=i[s];if(typeof d=="string"){for(a=d.length;d.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(d===-2)c=!0,l++;else if(d!==-1){s++;break}}if(l){const d={type:t===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+s,_bufferIndex:s?a:r.start._bufferIndex+a},end:Object.assign({},r.end)};r.end=Object.assign({},d.start),r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(t,0,["enter",d,n],["exit",d,n]),t+=2)}t++}return e}function Vne(e,n,t){let r=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let a=[],l=[];const c={consume:C,enter:k,exit:R,attempt:N(q),check:N(D),interrupt:N(D,{interrupt:!0})},d={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:m,sliceSerialize:b,now:x,defineSkip:y,write:g};let h=n.tokenize.call(d,c);return n.resolveAll&&s.push(n),d;function g(j){return a=Il(a,j),A(),a[a.length-1]!==null?[]:(P(n,0),d.events=vA(s,d.events,d),d.events)}function b(j,O){return Gne(m(j),O)}function m(j){return Yne(a,j)}function x(){const{line:j,column:O,offset:M,_index:T,_bufferIndex:Q}=r;return{line:j,column:O,offset:M,_index:T,_bufferIndex:Q}}function y(j){i[j.line]=j.column,X()}function A(){let j;for(;r._index<a.length;){const O=a[r._index];if(typeof O=="string")for(j=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===j&&r._bufferIndex<O.length;)w(O.charCodeAt(r._bufferIndex));else w(O)}}function w(j){h=h(j)}function C(j){pn(j)?(r.line++,r.column=1,r.offset+=j===-3?2:1,X()):j!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=j}function k(j,O){const M=O||{};return M.type=j,M.start=x(),d.events.push(["enter",M,d]),l.push(M),M}function R(j){const O=l.pop();return O.end=x(),d.events.push(["exit",O,d]),O}function q(j,O){P(j,O.from)}function D(j,O){O.restore()}function N(j,O){return M;function M(T,Q,H){let Y,Z,ae,G;return Array.isArray(T)?U(T):"tokenize"in T?U([T]):le(T);function le(ne){return xe;function xe(ye){const Ae=ye!==null&&ne[ye],Ne=ye!==null&&ne.null,Te=[...Array.isArray(Ae)?Ae:Ae?[Ae]:[],...Array.isArray(Ne)?Ne:Ne?[Ne]:[]];return U(Te)(ye)}}function U(ne){return Y=ne,Z=0,ne.length===0?H:B(ne[Z])}function B(ne){return xe;function xe(ye){return G=z(),ae=ne,ne.partial||(d.currentConstruct=ne),ne.name&&d.parser.constructs.disable.null.includes(ne.name)?J():ne.tokenize.call(O?Object.assign(Object.create(d),O):d,c,ie,J)(ye)}}function ie(ne){return j(ae,G),Q}function J(ne){return G.restore(),++Z<Y.length?B(Y[Z]):H}}}function P(j,O){j.resolveAll&&!s.includes(j)&&s.push(j),j.resolve&&Uc(d.events,O,d.events.length-O,j.resolve(d.events.slice(O),d)),j.resolveTo&&(d.events=j.resolveTo(d.events,d))}function z(){const j=x(),O=d.previous,M=d.currentConstruct,T=d.events.length,Q=Array.from(l);return{restore:H,from:T};function H(){r=j,d.previous=O,d.currentConstruct=M,d.events.length=T,l=Q,X()}}function X(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Yne(e,n){const t=n.start._index,r=n.start._bufferIndex,i=n.end._index,s=n.end._bufferIndex;let a;if(t===i)a=[e[t].slice(r,s)];else{if(a=e.slice(t,i),r>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function Gne(e,n){let t=-1;const r=[];let i;for(;++t<e.length;){const s=e[t];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=n?" ":"	";break}case-1:{if(!n&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}const Qne={42:Ao,43:Ao,45:Ao,48:Ao,49:Ao,50:Ao,51:Ao,52:Ao,53:Ao,54:Ao,55:Ao,56:Ao,57:Ao,62:pD},Kne={91:Xte},Xne={[-2]:Ow,[-1]:Ow,32:Ow},Zne={35:rne,42:yx,45:[lN,yx],60:one,61:lN,95:yx,96:aN,126:aN},Jne={38:gD,92:mD},ere={[-5]:Iw,[-4]:Iw,[-3]:Iw,33:Ene,38:gD,42:t6,60:[Nte,pne],91:kne,92:[tne,mD],93:SA,95:t6,96:Bte},tre={null:[t6,Une]},nre={null:[42,95]},rre={null:[]},ire=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:nre,contentInitial:Kne,disable:rre,document:Qne,flow:Zne,flowInitial:Xne,insideSpan:tre,string:Jne,text:ere},Symbol.toStringTag,{value:"Module"}));function sre(e){const t=fte([ire,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:t,content:i(wte),document:i(Ate),flow:i(zne),string:i($ne),text:i(Hne)};return r;function i(s){return a;function a(l){return Vne(r,s,l)}}}const uN=/[\0\t\n\r]/g;function are(){let e=1,n="",t=!0,r;return i;function i(s,a,l){const c=[];let d,h,g,b,m;for(s=n+s.toString(a),g=0,n="",t&&(s.charCodeAt(0)===65279&&g++,t=void 0);g<s.length;){if(uN.lastIndex=g,d=uN.exec(s),b=d&&d.index!==void 0?d.index:s.length,m=s.charCodeAt(b),!d){n=s.slice(g);break}if(m===10&&g===b&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),g<b&&(c.push(s.slice(g,b)),e+=b-g),m){case 0:{c.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,c.push(-2);e++<h;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}g=b+1}return l&&(r&&c.push(-5),n&&c.push(n),c.push(null)),c}}function ore(e){for(;!bD(e););return e}function AD(e,n){const t=Number.parseInt(e,n);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCharCode(t)}const lre=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ure(e){return e.replace(lre,cre)}function cre(e,n,t){if(n)return n;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),s=i===120||i===88;return AD(t.slice(s?2:1),s?16:10)}return wA(t)||e}const CD={}.hasOwnProperty,dre=function(e,n,t){return typeof n!="string"&&(t=n,n=void 0),fre(t)(ore(sre(t).document().write(are()(e,n,!0))))};function fre(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Oe),autolinkProtocol:j,autolinkEmail:j,atxHeading:l(se),blockQuote:l(Te),characterEscape:j,characterReference:j,codeFenced:l(qe),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(qe,c),codeText:l($e,c),codeTextData:j,data:j,codeFlowValue:j,definition:l(V),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(we),hardBreakEscape:l(he),hardBreakTrailing:l(he),htmlFlow:l(de,c),htmlFlowData:j,htmlText:l(de,c),htmlTextData:j,image:l(ve),label:c,link:l(Oe),listItem:l(Ee),listItemValue:x,listOrdered:l(Re,m),listUnordered:l(Re),paragraph:l(Ge),reference:J,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(se),strong:l(Xe),thematicBreak:l(rt)},exit:{atxHeading:h(),atxHeadingSequence:N,autolink:h(),autolinkEmail:Ne,autolinkProtocol:Ae,blockQuote:h(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:xe,characterReferenceMarkerNumeric:xe,characterReferenceValue:ye,codeFenced:h(C),codeFencedFence:w,codeFencedFenceInfo:y,codeFencedFenceMeta:A,codeFlowValue:O,codeIndented:h(k),codeText:h(Y),codeTextData:O,data:O,definition:h(),definitionDestinationString:D,definitionLabelString:R,definitionTitleString:q,emphasis:h(),hardBreakEscape:h(T),hardBreakTrailing:h(T),htmlFlow:h(Q),htmlFlowData:O,htmlText:h(H),htmlTextData:O,image:h(ae),label:le,labelText:G,lineEnding:M,link:h(Z),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:ne,resourceDestinationString:U,resourceTitleString:B,resource:ie,setextHeading:h(X),setextHeadingLineSequence:z,setextHeadingText:P,strong:h(),thematicBreak:h()}};ED(n,(e||{}).mdastExtensions||[]);const t={};return r;function r(je){let He={type:"root",children:[]};const Je={stack:[He],tokenStack:[],config:n,enter:d,exit:g,buffer:c,resume:b,setData:s,getData:a},At=[];let lt=-1;for(;++lt<je.length;)if(je[lt][1].type==="listOrdered"||je[lt][1].type==="listUnordered")if(je[lt][0]==="enter")At.push(lt);else{const tn=At.pop();lt=i(je,tn,lt)}for(lt=-1;++lt<je.length;){const tn=n[je[lt][0]];CD.call(tn,je[lt][1].type)&&tn[je[lt][1].type].call(Object.assign({sliceSerialize:je[lt][2].sliceSerialize},Je),je[lt][1])}if(Je.tokenStack.length>0){const tn=Je.tokenStack[Je.tokenStack.length-1];(tn[1]||cN).call(Je,void 0,tn[0])}for(He.position={start:Cf(je.length>0?je[0][1].start:{line:1,column:1,offset:0}),end:Cf(je.length>0?je[je.length-2][1].end:{line:1,column:1,offset:0})},lt=-1;++lt<n.transforms.length;)He=n.transforms[lt](He)||He;return He}function i(je,He,Je){let At=He-1,lt=-1,tn=!1,jt,_n,Gt,Xt;for(;++At<=Je;){const Zt=je[At];if(Zt[1].type==="listUnordered"||Zt[1].type==="listOrdered"||Zt[1].type==="blockQuote"?(Zt[0]==="enter"?lt++:lt--,Xt=void 0):Zt[1].type==="lineEndingBlank"?Zt[0]==="enter"&&(jt&&!Xt&&!lt&&!Gt&&(Gt=At),Xt=void 0):Zt[1].type==="linePrefix"||Zt[1].type==="listItemValue"||Zt[1].type==="listItemMarker"||Zt[1].type==="listItemPrefix"||Zt[1].type==="listItemPrefixWhitespace"||(Xt=void 0),!lt&&Zt[0]==="enter"&&Zt[1].type==="listItemPrefix"||lt===-1&&Zt[0]==="exit"&&(Zt[1].type==="listUnordered"||Zt[1].type==="listOrdered")){if(jt){let nn=At;for(_n=void 0;nn--;){const Rn=je[nn];if(Rn[1].type==="lineEnding"||Rn[1].type==="lineEndingBlank"){if(Rn[0]==="exit")continue;_n&&(je[_n][1].type="lineEndingBlank",tn=!0),Rn[1].type="lineEnding",_n=nn}else if(!(Rn[1].type==="linePrefix"||Rn[1].type==="blockQuotePrefix"||Rn[1].type==="blockQuotePrefixWhitespace"||Rn[1].type==="blockQuoteMarker"||Rn[1].type==="listItemIndent"))break}Gt&&(!_n||Gt<_n)&&(jt._spread=!0),jt.end=Object.assign({},_n?je[_n][1].start:Zt[1].end),je.splice(_n||At,0,["exit",jt,Zt[2]]),At++,Je++}Zt[1].type==="listItemPrefix"&&(jt={type:"listItem",_spread:!1,start:Object.assign({},Zt[1].start),end:void 0},je.splice(At,0,["enter",jt,Zt[2]]),At++,Je++,Gt=void 0,Xt=!0)}}return je[He][1]._spread=tn,Je}function s(je,He){t[je]=He}function a(je){return t[je]}function l(je,He){return Je;function Je(At){d.call(this,je(At),At),He&&He.call(this,At)}}function c(){this.stack.push({type:"fragment",children:[]})}function d(je,He,Je){return this.stack[this.stack.length-1].children.push(je),this.stack.push(je),this.tokenStack.push([He,Je]),je.position={start:Cf(He.start)},je}function h(je){return He;function He(Je){je&&je.call(this,Je),g.call(this,Je)}}function g(je,He){const Je=this.stack.pop(),At=this.tokenStack.pop();if(At)At[0].type!==je.type&&(He?He.call(this,je,At[0]):(At[1]||cN).call(this,je,At[0]));else throw new Error("Cannot close `"+je.type+"` ("+ag({start:je.start,end:je.end})+"): its not open");return Je.position.end=Cf(je.end),Je}function b(){return cte(this.stack.pop())}function m(){s("expectingFirstListItemValue",!0)}function x(je){if(a("expectingFirstListItemValue")){const He=this.stack[this.stack.length-2];He.start=Number.parseInt(this.sliceSerialize(je),10),s("expectingFirstListItemValue")}}function y(){const je=this.resume(),He=this.stack[this.stack.length-1];He.lang=je}function A(){const je=this.resume(),He=this.stack[this.stack.length-1];He.meta=je}function w(){a("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function C(){const je=this.resume(),He=this.stack[this.stack.length-1];He.value=je.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function k(){const je=this.resume(),He=this.stack[this.stack.length-1];He.value=je.replace(/(\r?\n|\r)$/g,"")}function R(je){const He=this.resume(),Je=this.stack[this.stack.length-1];Je.label=He,Je.identifier=L0(this.sliceSerialize(je)).toLowerCase()}function q(){const je=this.resume(),He=this.stack[this.stack.length-1];He.title=je}function D(){const je=this.resume(),He=this.stack[this.stack.length-1];He.url=je}function N(je){const He=this.stack[this.stack.length-1];if(!He.depth){const Je=this.sliceSerialize(je).length;He.depth=Je}}function P(){s("setextHeadingSlurpLineEnding",!0)}function z(je){const He=this.stack[this.stack.length-1];He.depth=this.sliceSerialize(je).charCodeAt(0)===61?1:2}function X(){s("setextHeadingSlurpLineEnding")}function j(je){const He=this.stack[this.stack.length-1];let Je=He.children[He.children.length-1];(!Je||Je.type!=="text")&&(Je=Be(),Je.position={start:Cf(je.start)},He.children.push(Je)),this.stack.push(Je)}function O(je){const He=this.stack.pop();He.value+=this.sliceSerialize(je),He.position.end=Cf(je.end)}function M(je){const He=this.stack[this.stack.length-1];if(a("atHardBreak")){const Je=He.children[He.children.length-1];Je.position.end=Cf(je.end),s("atHardBreak");return}!a("setextHeadingSlurpLineEnding")&&n.canContainEols.includes(He.type)&&(j.call(this,je),O.call(this,je))}function T(){s("atHardBreak",!0)}function Q(){const je=this.resume(),He=this.stack[this.stack.length-1];He.value=je}function H(){const je=this.resume(),He=this.stack[this.stack.length-1];He.value=je}function Y(){const je=this.resume(),He=this.stack[this.stack.length-1];He.value=je}function Z(){const je=this.stack[this.stack.length-1];if(a("inReference")){const He=a("referenceType")||"shortcut";je.type+="Reference",je.referenceType=He,delete je.url,delete je.title}else delete je.identifier,delete je.label;s("referenceType")}function ae(){const je=this.stack[this.stack.length-1];if(a("inReference")){const He=a("referenceType")||"shortcut";je.type+="Reference",je.referenceType=He,delete je.url,delete je.title}else delete je.identifier,delete je.label;s("referenceType")}function G(je){const He=this.sliceSerialize(je),Je=this.stack[this.stack.length-2];Je.label=ure(He),Je.identifier=L0(He).toLowerCase()}function le(){const je=this.stack[this.stack.length-1],He=this.resume(),Je=this.stack[this.stack.length-1];if(s("inReference",!0),Je.type==="link"){const At=je.children;Je.children=At}else Je.alt=He}function U(){const je=this.resume(),He=this.stack[this.stack.length-1];He.url=je}function B(){const je=this.resume(),He=this.stack[this.stack.length-1];He.title=je}function ie(){s("inReference")}function J(){s("referenceType","collapsed")}function ne(je){const He=this.resume(),Je=this.stack[this.stack.length-1];Je.label=He,Je.identifier=L0(this.sliceSerialize(je)).toLowerCase(),s("referenceType","full")}function xe(je){s("characterReferenceType",je.type)}function ye(je){const He=this.sliceSerialize(je),Je=a("characterReferenceType");let At;Je?(At=AD(He,Je==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):At=wA(He);const lt=this.stack.pop();lt.value+=At,lt.position.end=Cf(je.end)}function Ae(je){O.call(this,je);const He=this.stack[this.stack.length-1];He.url=this.sliceSerialize(je)}function Ne(je){O.call(this,je);const He=this.stack[this.stack.length-1];He.url="mailto:"+this.sliceSerialize(je)}function Te(){return{type:"blockquote",children:[]}}function qe(){return{type:"code",lang:null,meta:null,value:""}}function $e(){return{type:"inlineCode",value:""}}function V(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function we(){return{type:"emphasis",children:[]}}function se(){return{type:"heading",depth:void 0,children:[]}}function he(){return{type:"break"}}function de(){return{type:"html",value:""}}function ve(){return{type:"image",title:null,url:"",alt:null}}function Oe(){return{type:"link",title:null,url:"",children:[]}}function Re(je){return{type:"list",ordered:je.type==="listOrdered",start:null,spread:je._spread,children:[]}}function Ee(je){return{type:"listItem",spread:je._spread,checked:null,children:[]}}function Ge(){return{type:"paragraph",children:[]}}function Xe(){return{type:"strong",children:[]}}function Be(){return{type:"text",value:""}}function rt(){return{type:"thematicBreak"}}}function Cf(e){return{line:e.line,column:e.column,offset:e.offset}}function ED(e,n){let t=-1;for(;++t<n.length;){const r=n[t];Array.isArray(r)?ED(e,r):hre(e,r)}}function hre(e,n){let t;for(t in n)if(CD.call(n,t)){if(t==="canContainEols"){const r=n[t];r&&e[t].push(...r)}else if(t==="transforms"){const r=n[t];r&&e[t].push(...r)}else if(t==="enter"||t==="exit"){const r=n[t];r&&Object.assign(e[t],r)}}}function cN(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+ag({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+ag({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+ag({start:n.start,end:n.end})+") is still open")}function pre(e){Object.assign(this,{Parser:t=>{const r=this.data("settings");return dre(t,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function mre(e,n){const t={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,t),e.applyData(n,t)}function gre(e,n){const t={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,t),[e.applyData(n,t),{type:"text",value:`
`}]}function bre(e,n){const t=n.value?n.value+`
`:"",r=n.lang?n.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return n.meta&&(s.data={meta:n.meta}),e.patch(n,s),s=e.applyData(n,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(n,s),s}function yre(e,n){const t={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function xre(e,n){const t={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function om(e){const n=[];let t=-1,r=0,i=0;for(;++t<e.length;){const s=e.charCodeAt(t);let a="";if(s===37&&rl(e.charCodeAt(t+1))&&rl(e.charCodeAt(t+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const l=e.charCodeAt(t+1);s<56320&&l>56319&&l<57344?(a=String.fromCharCode(s,l),i=1):a=""}else a=String.fromCharCode(s);a&&(n.push(e.slice(r,t),encodeURIComponent(a)),r=t+i+1,a=""),i&&(t+=i,i=0)}return n.join("")+e.slice(r)}function _D(e,n){const t=String(n.identifier).toUpperCase(),r=om(t.toLowerCase()),i=e.footnoteOrder.indexOf(t);let s;i===-1?(e.footnoteOrder.push(t),e.footnoteCounts[t]=1,s=e.footnoteOrder.length):(e.footnoteCounts[t]++,s=i+1);const a=e.footnoteCounts[t],l={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(n,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(n,c),e.applyData(n,c)}function vre(e,n){const t=e.footnoteById;let r=1;for(;r in t;)r++;const i=String(r);return t[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:n.children}],position:n.position},_D(e,{type:"footnoteReference",identifier:i,position:n.position})}function wre(e,n){const t={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function Sre(e,n){if(e.dangerous){const t={type:"raw",value:n.value};return e.patch(n,t),e.applyData(n,t)}return null}function kD(e,n){const t=n.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return{type:"text",value:"!["+n.alt+r};const i=e.all(n),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function Are(e,n){const t=e.definition(n.identifier);if(!t)return kD(e,n);const r={src:om(t.url||""),alt:n.alt};t.title!==null&&t.title!==void 0&&(r.title=t.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(n,i),e.applyData(n,i)}function Cre(e,n){const t={src:om(n.url)};n.alt!==null&&n.alt!==void 0&&(t.alt=n.alt),n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"img",properties:t,children:[]};return e.patch(n,r),e.applyData(n,r)}function Ere(e,n){const t={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return e.patch(n,r),e.applyData(n,r)}function _re(e,n){const t=e.definition(n.identifier);if(!t)return kD(e,n);const r={href:om(t.url||"")};t.title!==null&&t.title!==void 0&&(r.title=t.title);const i={type:"element",tagName:"a",properties:r,children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function kre(e,n){const t={href:om(n.url)};n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"a",properties:t,children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function Nre(e,n,t){const r=e.all(n),i=t?jre(t):ND(n),s={},a=[];if(typeof n.checked=="boolean"){const h=r[0];let g;h&&h.type==="element"&&h.tagName==="p"?g=h:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const h=r[l];(i||l!==0||h.type!=="element"||h.tagName!=="p")&&a.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?a.push(...h.children):a.push(h)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:a};return e.patch(n,d),e.applyData(n,d)}function jre(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const t=e.children;let r=-1;for(;!n&&++r<t.length;)n=ND(t[r])}return n}function ND(e){const n=e.spread;return n??e.children.length>1}function Tre(e,n){const t={},r=e.all(n);let i=-1;for(typeof n.start=="number"&&n.start!==1&&(t.start=n.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const s={type:"element",tagName:n.ordered?"ol":"ul",properties:t,children:e.wrap(r,!0)};return e.patch(n,s),e.applyData(n,s)}function Ore(e,n){const t={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function Ire(e,n){const t={type:"root",children:e.wrap(e.all(n))};return e.patch(n,t),e.applyData(n,t)}function Dre(e,n){const t={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const AA=jD("start"),CA=jD("end");function Lre(e){return{start:AA(e),end:CA(e)}}function jD(e){return n;function n(t){const r=t&&t.position&&t.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function Rre(e,n){const t=e.all(n),r=t.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(n.children[0],a),i.push(a)}if(t.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(t,!0)},l=AA(n.children[1]),c=CA(n.children[n.children.length-1]);l.line&&c.line&&(a.position={start:l,end:c}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(n,s),e.applyData(n,s)}function Mre(e,n,t){const r=t?t.children:void 0,s=(r?r.indexOf(n):1)===0?"th":"td",a=t&&t.type==="table"?t.align:void 0,l=a?a.length:n.children.length;let c=-1;const d=[];for(;++c<l;){const g=n.children[c],b={},m=a?a[c]:void 0;m&&(b.align=m);let x={type:"element",tagName:s,properties:b,children:[]};g&&(x.children=e.all(g),e.patch(g,x),x=e.applyData(n,x)),d.push(x)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(n,h),e.applyData(n,h)}function Pre(e,n){const t={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const dN=9,fN=32;function Fre(e){const n=String(e),t=/\r?\n|\r/g;let r=t.exec(n),i=0;const s=[];for(;r;)s.push(hN(n.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=t.exec(n);return s.push(hN(n.slice(i),i>0,!1)),s.join("")}function hN(e,n,t){let r=0,i=e.length;if(n){let s=e.codePointAt(r);for(;s===dN||s===fN;)r++,s=e.codePointAt(r)}if(t){let s=e.codePointAt(i-1);for(;s===dN||s===fN;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function qre(e,n){const t={type:"text",value:Fre(String(n.value))};return e.patch(n,t),e.applyData(n,t)}function zre(e,n){const t={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,t),e.applyData(n,t)}const Bre={blockquote:mre,break:gre,code:bre,delete:yre,emphasis:xre,footnoteReference:_D,footnote:vre,heading:wre,html:Sre,imageReference:Are,image:Cre,inlineCode:Ere,linkReference:_re,link:kre,listItem:Nre,list:Tre,paragraph:Ore,root:Ire,strong:Dre,table:Rre,tableCell:Pre,tableRow:Mre,text:qre,thematicBreak:zre,toml:Vy,yaml:Vy,definition:Vy,footnoteDefinition:Vy};function Vy(){return null}const TD=function(e){if(e==null)return Wre;if(typeof e=="string")return Hre(e);if(typeof e=="object")return Array.isArray(e)?Ure(e):$re(e);if(typeof e=="function")return $v(e);throw new Error("Expected function, string, or object as test")};function Ure(e){const n=[];let t=-1;for(;++t<e.length;)n[t]=TD(e[t]);return $v(r);function r(...i){let s=-1;for(;++s<n.length;)if(n[s].call(this,...i))return!0;return!1}}function $re(e){return $v(n);function n(t){let r;for(r in e)if(t[r]!==e[r])return!1;return!0}}function Hre(e){return $v(n);function n(t){return t&&t.type===e}}function $v(e){return n;function n(t,...r){return!!(t&&typeof t=="object"&&"type"in t&&e.call(this,t,...r))}}function Wre(){return!0}const Vre=!0,pN=!1,Yre="skip",Gre=function(e,n,t,r){typeof n=="function"&&typeof t!="function"&&(r=t,t=n,n=null);const i=TD(n),s=r?-1:1;a(e,void 0,[])();function a(l,c,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const b=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(l.type+(b?"<"+b+">":""))+")"})}return g;function g(){let b=[],m,x,y;if((!n||i(l,c,d[d.length-1]||null))&&(b=Qre(t(l,d)),b[0]===pN))return b;if(l.children&&b[0]!==Yre)for(x=(r?l.children.length:-1)+s,y=d.concat(l);x>-1&&x<l.children.length;){if(m=a(l.children[x],x,y)(),m[0]===pN)return m;x=typeof m[1]=="number"?m[1]:x+s}return b}}};function Qre(e){return Array.isArray(e)?e:typeof e=="number"?[Vre,e]:[e]}const EA=function(e,n,t,r){typeof n=="function"&&typeof t!="function"&&(r=t,t=n,n=null),Gre(e,n,i,r);function i(s,a){const l=a[a.length-1];return t(s,l?l.children.indexOf(s):null,l)}};function Kre(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const mN={}.hasOwnProperty;function Xre(e){const n=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return EA(e,"definition",r=>{const i=gN(r.identifier);i&&!mN.call(n,i)&&(n[i]=r)}),t;function t(r){const i=gN(r);return i&&mN.call(n,i)?n[i]:null}}function gN(e){return String(e||"").toUpperCase()}const rv={}.hasOwnProperty;function Zre(e,n){const t=n||{},r=t.allowDangerousHtml||!1,i={};return a.dangerous=r,a.clobberPrefix=t.clobberPrefix===void 0||t.clobberPrefix===null?"user-content-":t.clobberPrefix,a.footnoteLabel=t.footnoteLabel||"Footnotes",a.footnoteLabelTagName=t.footnoteLabelTagName||"h2",a.footnoteLabelProperties=t.footnoteLabelProperties||{className:["sr-only"]},a.footnoteBackLabel=t.footnoteBackLabel||"Back to content",a.unknownHandler=t.unknownHandler,a.passThrough=t.passThrough,a.handlers={...Bre,...t.handlers},a.definition=Xre(e),a.footnoteById=i,a.footnoteOrder=[],a.footnoteCounts={},a.patch=Jre,a.applyData=eie,a.one=l,a.all=c,a.wrap=nie,a.augment=s,EA(e,"footnoteDefinition",d=>{const h=String(d.identifier).toUpperCase();rv.call(i,h)||(i[h]=d)}),a;function s(d,h){if(d&&"data"in d&&d.data){const g=d.data;g.hName&&(h.type!=="element"&&(h={type:"element",tagName:"",properties:{},children:[]}),h.tagName=g.hName),h.type==="element"&&g.hProperties&&(h.properties={...h.properties,...g.hProperties}),"children"in h&&h.children&&g.hChildren&&(h.children=g.hChildren)}if(d){const g="type"in d?d:{position:d};Kre(g)||(h.position={start:AA(g),end:CA(g)})}return h}function a(d,h,g,b){return Array.isArray(g)&&(b=g,g={}),s(d,{type:"element",tagName:h,properties:g||{},children:b||[]})}function l(d,h){return OD(a,d,h)}function c(d){return _A(a,d)}}function Jre(e,n){e.position&&(n.position=Lre(e))}function eie(e,n){let t=n;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;typeof r=="string"&&(t.type==="element"?t.tagName=r:t={type:"element",tagName:r,properties:{},children:[]}),t.type==="element"&&s&&(t.properties={...t.properties,...s}),"children"in t&&t.children&&i!==null&&i!==void 0&&(t.children=i)}return t}function OD(e,n,t){const r=n&&n.type;if(!r)throw new Error("Expected node, got `"+n+"`");return rv.call(e.handlers,r)?e.handlers[r](e,n,t):e.passThrough&&e.passThrough.includes(r)?"children"in n?{...n,children:_A(e,n)}:n:e.unknownHandler?e.unknownHandler(e,n,t):tie(e,n)}function _A(e,n){const t=[];if("children"in n){const r=n.children;let i=-1;for(;++i<r.length;){const s=OD(e,r[i],n);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const a=s.children[0];a&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,""))}Array.isArray(s)?t.push(...s):t.push(s)}}}return t}function tie(e,n){const t=n.data||{},r="value"in n&&!(rv.call(t,"hProperties")||rv.call(t,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:_A(e,n)};return e.patch(n,r),e.applyData(n,r)}function nie(e,n){const t=[];let r=-1;for(n&&t.push({type:"text",value:`
`});++r<e.length;)r&&t.push({type:"text",value:`
`}),t.push(e[r]);return n&&e.length>0&&t.push({type:"text",value:`
`}),t}function rie(e){const n=[];let t=-1;for(;++t<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[t]];if(!r)continue;const i=e.all(r),s=String(r.identifier).toUpperCase(),a=om(s.toLowerCase());let l=0;const c=[];for(;++l<=e.footnoteCounts[s];){const g={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+a+(l>1?"-"+l:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};l>1&&g.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(l)}]}),c.length>0&&c.push({type:"text",value:" "}),c.push(g)}const d=i[i.length-1];if(d&&d.type==="element"&&d.tagName==="p"){const g=d.children[d.children.length-1];g&&g.type==="text"?g.value+=" ":d.children.push({type:"text",value:" "}),d.children.push(...c)}else i.push(...c);const h={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+a},children:e.wrap(i,!0)};e.patch(r,h),n.push(h)}if(n.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(n,!0)},{type:"text",value:`
`}]}}function ID(e,n){const t=Zre(e,n),r=t.one(e,null),i=rie(t);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const iie=function(e,n){return e&&"run"in e?sie(e,n):aie(e||n)};function sie(e,n){return(t,r,i)=>{e.run(ID(t,n),r,s=>{i(s)})}}function aie(e){return n=>ID(n,e)}class lb{constructor(n,t,r){this.property=n,this.normal=t,r&&(this.space=r)}}lb.prototype.property={};lb.prototype.normal={};lb.prototype.space=null;function DD(e,n){const t={},r={};let i=-1;for(;++i<e.length;)Object.assign(t,e[i].property),Object.assign(r,e[i].normal);return new lb(t,r,n)}function n6(e){return e.toLowerCase()}class Bl{constructor(n,t){this.property=n,this.attribute=t}}Bl.prototype.space=null;Bl.prototype.boolean=!1;Bl.prototype.booleanish=!1;Bl.prototype.overloadedBoolean=!1;Bl.prototype.number=!1;Bl.prototype.commaSeparated=!1;Bl.prototype.spaceSeparated=!1;Bl.prototype.commaOrSpaceSeparated=!1;Bl.prototype.mustUseProperty=!1;Bl.prototype.defined=!1;let oie=0;const Nn=xp(),Ps=xp(),LD=xp(),_t=xp(),di=xp(),R0=xp(),Ko=xp();function xp(){return 2**++oie}const r6=Object.freeze(Object.defineProperty({__proto__:null,boolean:Nn,booleanish:Ps,commaOrSpaceSeparated:Ko,commaSeparated:R0,number:_t,overloadedBoolean:LD,spaceSeparated:di},Symbol.toStringTag,{value:"Module"})),Dw=Object.keys(r6);class kA extends Bl{constructor(n,t,r,i){let s=-1;if(super(n,t),bN(this,"space",i),typeof r=="number")for(;++s<Dw.length;){const a=Dw[s];bN(this,Dw[s],(r&r6[a])===r6[a])}}}kA.prototype.defined=!0;function bN(e,n,t){t&&(e[n]=t)}const lie={}.hasOwnProperty;function lm(e){const n={},t={};let r;for(r in e.properties)if(lie.call(e.properties,r)){const i=e.properties[r],s=new kA(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),n[r]=s,t[n6(r)]=r,t[n6(s.attribute)]=r}return new lb(n,t,e.space)}const RD=lm({space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),MD=lm({space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function PD(e,n){return n in e?e[n]:n}function FD(e,n){return PD(e,n.toLowerCase())}const qD=lm({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:FD,properties:{xmlns:null,xmlnsXLink:null}}),zD=lm({transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ps,ariaAutoComplete:null,ariaBusy:Ps,ariaChecked:Ps,ariaColCount:_t,ariaColIndex:_t,ariaColSpan:_t,ariaControls:di,ariaCurrent:null,ariaDescribedBy:di,ariaDetails:null,ariaDisabled:Ps,ariaDropEffect:di,ariaErrorMessage:null,ariaExpanded:Ps,ariaFlowTo:di,ariaGrabbed:Ps,ariaHasPopup:null,ariaHidden:Ps,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:di,ariaLevel:_t,ariaLive:null,ariaModal:Ps,ariaMultiLine:Ps,ariaMultiSelectable:Ps,ariaOrientation:null,ariaOwns:di,ariaPlaceholder:null,ariaPosInSet:_t,ariaPressed:Ps,ariaReadOnly:Ps,ariaRelevant:null,ariaRequired:Ps,ariaRoleDescription:di,ariaRowCount:_t,ariaRowIndex:_t,ariaRowSpan:_t,ariaSelected:Ps,ariaSetSize:_t,ariaSort:null,ariaValueMax:_t,ariaValueMin:_t,ariaValueNow:_t,ariaValueText:null,role:null}}),uie=lm({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:FD,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:R0,acceptCharset:di,accessKey:di,action:null,allow:null,allowFullScreen:Nn,allowPaymentRequest:Nn,allowUserMedia:Nn,alt:null,as:null,async:Nn,autoCapitalize:null,autoComplete:di,autoFocus:Nn,autoPlay:Nn,blocking:di,capture:null,charSet:null,checked:Nn,cite:null,className:di,cols:_t,colSpan:null,content:null,contentEditable:Ps,controls:Nn,controlsList:di,coords:_t|R0,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Nn,defer:Nn,dir:null,dirName:null,disabled:Nn,download:LD,draggable:Ps,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Nn,formTarget:null,headers:di,height:_t,hidden:Nn,high:_t,href:null,hrefLang:null,htmlFor:di,httpEquiv:di,id:null,imageSizes:null,imageSrcSet:null,inert:Nn,inputMode:null,integrity:null,is:null,isMap:Nn,itemId:null,itemProp:di,itemRef:di,itemScope:Nn,itemType:di,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Nn,low:_t,manifest:null,max:null,maxLength:_t,media:null,method:null,min:null,minLength:_t,multiple:Nn,muted:Nn,name:null,nonce:null,noModule:Nn,noValidate:Nn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Nn,optimum:_t,pattern:null,ping:di,placeholder:null,playsInline:Nn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Nn,referrerPolicy:null,rel:di,required:Nn,reversed:Nn,rows:_t,rowSpan:_t,sandbox:di,scope:null,scoped:Nn,seamless:Nn,selected:Nn,shadowRootClonable:Nn,shadowRootDelegatesFocus:Nn,shadowRootMode:null,shape:null,size:_t,sizes:null,slot:null,span:_t,spellCheck:Ps,src:null,srcDoc:null,srcLang:null,srcSet:null,start:_t,step:null,style:null,tabIndex:_t,target:null,title:null,translate:null,type:null,typeMustMatch:Nn,useMap:null,value:Ps,width:_t,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:di,axis:null,background:null,bgColor:null,border:_t,borderColor:null,bottomMargin:_t,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Nn,declare:Nn,event:null,face:null,frame:null,frameBorder:null,hSpace:_t,leftMargin:_t,link:null,longDesc:null,lowSrc:null,marginHeight:_t,marginWidth:_t,noResize:Nn,noHref:Nn,noShade:Nn,noWrap:Nn,object:null,profile:null,prompt:null,rev:null,rightMargin:_t,rules:null,scheme:null,scrolling:Ps,standby:null,summary:null,text:null,topMargin:_t,valueType:null,version:null,vAlign:null,vLink:null,vSpace:_t,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Nn,disableRemotePlayback:Nn,prefix:null,property:null,results:_t,security:null,unselectable:null}}),cie=lm({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:PD,properties:{about:Ko,accentHeight:_t,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:_t,amplitude:_t,arabicForm:null,ascent:_t,attributeName:null,attributeType:null,azimuth:_t,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:_t,by:null,calcMode:null,capHeight:_t,className:di,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:_t,diffuseConstant:_t,direction:null,display:null,dur:null,divisor:_t,dominantBaseline:null,download:Nn,dx:null,dy:null,edgeMode:null,editable:null,elevation:_t,enableBackground:null,end:null,event:null,exponent:_t,externalResourcesRequired:null,fill:null,fillOpacity:_t,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:R0,g2:R0,glyphName:R0,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:_t,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:_t,horizOriginX:_t,horizOriginY:_t,id:null,ideographic:_t,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:_t,k:_t,k1:_t,k2:_t,k3:_t,k4:_t,kernelMatrix:Ko,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:_t,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:_t,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:_t,overlineThickness:_t,paintOrder:null,panose1:null,path:null,pathLength:_t,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:di,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:_t,pointsAtY:_t,pointsAtZ:_t,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ko,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ko,rev:Ko,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ko,requiredFeatures:Ko,requiredFonts:Ko,requiredFormats:Ko,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:_t,specularExponent:_t,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:_t,strikethroughThickness:_t,string:null,stroke:null,strokeDashArray:Ko,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:_t,strokeOpacity:_t,strokeWidth:null,style:null,surfaceScale:_t,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ko,tabIndex:_t,tableValues:null,target:null,targetX:_t,targetY:_t,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ko,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:_t,underlineThickness:_t,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:_t,values:null,vAlphabetic:_t,vMathematical:_t,vectorEffect:null,vHanging:_t,vIdeographic:_t,version:null,vertAdvY:_t,vertOriginX:_t,vertOriginY:_t,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:_t,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),die=/^data[-\w.:]+$/i,yN=/-[a-z]/g,fie=/[A-Z]/g;function hie(e,n){const t=n6(n);let r=n,i=Bl;if(t in e.normal)return e.property[e.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&die.test(n)){if(n.charAt(4)==="-"){const s=n.slice(5).replace(yN,mie);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=n.slice(4);if(!yN.test(s)){let a=s.replace(fie,pie);a.charAt(0)!=="-"&&(a="-"+a),n="data"+a}}i=kA}return new i(r,n)}function pie(e){return"-"+e.toLowerCase()}function mie(e){return e.charAt(1).toUpperCase()}const xN={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},gie=DD([MD,RD,qD,zD,uie],"html"),bie=DD([MD,RD,qD,zD,cie],"svg");function yie(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return n=>{EA(n,"element",(t,r,i)=>{const s=i;let a;if(e.allowedElements?a=!e.allowedElements.includes(t.tagName):e.disallowedElements&&(a=e.disallowedElements.includes(t.tagName)),!a&&e.allowElement&&typeof r=="number"&&(a=!e.allowElement(t,r,s)),a&&typeof r=="number")return e.unwrapDisallowed&&t.children?s.children.splice(r,1,...t.children):s.children.splice(r,1),r})}}var Lw={exports:{}},Lr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vN;function xie(){if(vN)return Lr;vN=1;var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function y(A){if(typeof A=="object"&&A!==null){var w=A.$$typeof;switch(w){case e:switch(A=A.type,A){case t:case i:case r:case d:case h:return A;default:switch(A=A&&A.$$typeof,A){case l:case a:case c:case b:case g:case s:return A;default:return w}}case n:return w}}}return Lr.ContextConsumer=a,Lr.ContextProvider=s,Lr.Element=e,Lr.ForwardRef=c,Lr.Fragment=t,Lr.Lazy=b,Lr.Memo=g,Lr.Portal=n,Lr.Profiler=i,Lr.StrictMode=r,Lr.Suspense=d,Lr.SuspenseList=h,Lr.isAsyncMode=function(){return!1},Lr.isConcurrentMode=function(){return!1},Lr.isContextConsumer=function(A){return y(A)===a},Lr.isContextProvider=function(A){return y(A)===s},Lr.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},Lr.isForwardRef=function(A){return y(A)===c},Lr.isFragment=function(A){return y(A)===t},Lr.isLazy=function(A){return y(A)===b},Lr.isMemo=function(A){return y(A)===g},Lr.isPortal=function(A){return y(A)===n},Lr.isProfiler=function(A){return y(A)===i},Lr.isStrictMode=function(A){return y(A)===r},Lr.isSuspense=function(A){return y(A)===d},Lr.isSuspenseList=function(A){return y(A)===h},Lr.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===t||A===i||A===r||A===d||A===h||A===m||typeof A=="object"&&A!==null&&(A.$$typeof===b||A.$$typeof===g||A.$$typeof===s||A.$$typeof===a||A.$$typeof===c||A.$$typeof===x||A.getModuleId!==void 0)},Lr.typeOf=y,Lr}var wN;function vie(){return wN||(wN=1,Lw.exports=xie()),Lw.exports}var wie=vie();const Sie=Fr(wie);function Aie(e){const n=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof n=="string"&&n.replace(/[ \t\n\f\r]/g,"")===""}function Cie(e){return e.join(" ").trim()}function Eie(e,n){const t={};return(e[e.length-1]===""?[...e,""]:e).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}var Yy={exports:{}},Rw,SN;function _ie(){if(SN)return Rw;SN=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,t=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,l=/^\s+|\s+$/g,c=`
`,d="/",h="*",g="",b="comment",m="declaration";Rw=function(y,A){if(typeof y!="string")throw new TypeError("First argument must be a string");if(!y)return[];A=A||{};var w=1,C=1;function k(M){var T=M.match(n);T&&(w+=T.length);var Q=M.lastIndexOf(c);C=~Q?M.length-Q:C+M.length}function R(){var M={line:w,column:C};return function(T){return T.position=new q(M),P(),T}}function q(M){this.start=M,this.end={line:w,column:C},this.source=A.source}q.prototype.content=y;function D(M){var T=new Error(A.source+":"+w+":"+C+": "+M);if(T.reason=M,T.filename=A.source,T.line=w,T.column=C,T.source=y,!A.silent)throw T}function N(M){var T=M.exec(y);if(T){var Q=T[0];return k(Q),y=y.slice(Q.length),T}}function P(){N(t)}function z(M){var T;for(M=M||[];T=X();)T!==!1&&M.push(T);return M}function X(){var M=R();if(!(d!=y.charAt(0)||h!=y.charAt(1))){for(var T=2;g!=y.charAt(T)&&(h!=y.charAt(T)||d!=y.charAt(T+1));)++T;if(T+=2,g===y.charAt(T-1))return D("End of comment missing");var Q=y.slice(2,T-2);return C+=2,k(Q),y=y.slice(T),C+=2,M({type:b,comment:Q})}}function j(){var M=R(),T=N(r);if(T){if(X(),!N(i))return D("property missing ':'");var Q=N(s),H=M({type:m,property:x(T[0].replace(e,g)),value:Q?x(Q[0].replace(e,g)):g});return N(a),H}}function O(){var M=[];z(M);for(var T;T=j();)T!==!1&&(M.push(T),z(M));return M}return P(),O()};function x(y){return y?y.replace(l,g):g}return Rw}var AN;function kie(){if(AN)return Yy.exports;AN=1;var e=_ie();function n(t,r){var i=null;if(!t||typeof t!="string")return i;for(var s,a=e(t),l=typeof r=="function",c,d,h=0,g=a.length;h<g;h++)s=a[h],c=s.property,d=s.value,l?r(c,d,s):d&&(i||(i={}),i[c]=d);return i}return Yy.exports=n,Yy.exports.default=n,Yy.exports}var Nie=kie();const jie=Fr(Nie),i6={}.hasOwnProperty,Tie=new Set(["table","thead","tbody","tfoot","tr"]);function BD(e,n){const t=[];let r=-1,i;for(;++r<n.children.length;)i=n.children[r],i.type==="element"?t.push(Oie(e,i,r,n)):i.type==="text"?(n.type!=="element"||!Tie.has(n.tagName)||!Aie(i))&&t.push(i.value):i.type==="raw"&&!e.options.skipHtml&&t.push(i.value);return t}function Oie(e,n,t,r){const i=e.options,s=i.transformLinkUri===void 0?Bee:i.transformLinkUri,a=e.schema,l=n.tagName,c={};let d=a,h;if(a.space==="html"&&l==="svg"&&(d=bie,e.schema=d),n.properties)for(h in n.properties)i6.call(n.properties,h)&&Die(c,h,n.properties[h],e);(l==="ol"||l==="ul")&&e.listDepth++;const g=BD(e,n);(l==="ol"||l==="ul")&&e.listDepth--,e.schema=a;const b=n.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},m=i.components&&i6.call(i.components,l)?i.components[l]:l,x=typeof m=="string"||m===tt.Fragment;if(!Sie.isValidElementType(m))throw new TypeError(`Component for name \`${l}\` not defined or is not renderable`);if(c.key=t,l==="a"&&i.linkTarget&&(c.target=typeof i.linkTarget=="function"?i.linkTarget(String(c.href||""),n.children,typeof c.title=="string"?c.title:null):i.linkTarget),l==="a"&&s&&(c.href=s(String(c.href||""),n.children,typeof c.title=="string"?c.title:null)),!x&&l==="code"&&r.type==="element"&&r.tagName!=="pre"&&(c.inline=!0),!x&&(l==="h1"||l==="h2"||l==="h3"||l==="h4"||l==="h5"||l==="h6")&&(c.level=Number.parseInt(l.charAt(1),10)),l==="img"&&i.transformImageUri&&(c.src=i.transformImageUri(String(c.src||""),String(c.alt||""),typeof c.title=="string"?c.title:null)),!x&&l==="li"&&r.type==="element"){const y=Iie(n);c.checked=y&&y.properties?!!y.properties.checked:null,c.index=Mw(r,n),c.ordered=r.tagName==="ol"}return!x&&(l==="ol"||l==="ul")&&(c.ordered=l==="ol",c.depth=e.listDepth),(l==="td"||l==="th")&&(c.align&&(c.style||(c.style={}),c.style.textAlign=c.align,delete c.align),x||(c.isHeader=l==="th")),!x&&l==="tr"&&r.type==="element"&&(c.isHeader=r.tagName==="thead"),i.sourcePos&&(c["data-sourcepos"]=Mie(b)),!x&&i.rawSourcePos&&(c.sourcePosition=n.position),!x&&i.includeElementIndex&&(c.index=Mw(r,n),c.siblingCount=Mw(r)),x||(c.node=n),g.length>0?tt.createElement(m,c,g):tt.createElement(m,c)}function Iie(e){let n=-1;for(;++n<e.children.length;){const t=e.children[n];if(t.type==="element"&&t.tagName==="input")return t}return null}function Mw(e,n){let t=-1,r=0;for(;++t<e.children.length&&e.children[t]!==n;)e.children[t].type==="element"&&r++;return r}function Die(e,n,t,r){const i=hie(r.schema,n);let s=t;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?Eie(s):Cie(s)),i.property==="style"&&typeof s=="string"&&(s=Lie(s)),i.space&&i.property?e[i6.call(xN,i.property)?xN[i.property]:i.property]=s:i.attribute&&(e[i.attribute]=s))}function Lie(e){const n={};try{jie(e,t)}catch{}return n;function t(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;n[s.replace(/-([a-z])/g,Rie)]=i}}function Rie(e,n){return n.toUpperCase()}function Mie(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const CN={}.hasOwnProperty,Pie="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Gy={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function NA(e){for(const s in Gy)if(CN.call(Gy,s)&&CN.call(e,s)){const a=Gy[s];console.warn(`[react-markdown] Warning: please ${a.to?`use \`${a.to}\` instead of`:"remove"} \`${s}\` (see <${Pie}#${a.id}> for more info)`),delete Gy[s]}const n=ste().use(pre).use(e.remarkPlugins||[]).use(iie,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(yie,e),t=new cD;typeof e.children=="string"?t.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=n.runSync(n.parse(t),t);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=tt.createElement(tt.Fragment,{},BD({options:e,schema:gie,listDepth:0},r));return e.className&&(i=tt.createElement("div",{className:e.className},i)),i}NA.propTypes={children:An.string,className:An.string,allowElement:An.func,allowedElements:An.arrayOf(An.string),disallowedElements:An.arrayOf(An.string),unwrapDisallowed:An.bool,remarkPlugins:An.arrayOf(An.oneOfType([An.object,An.func,An.arrayOf(An.oneOfType([An.bool,An.string,An.object,An.func,An.arrayOf(An.any)]))])),rehypePlugins:An.arrayOf(An.oneOfType([An.object,An.func,An.arrayOf(An.oneOfType([An.bool,An.string,An.object,An.func,An.arrayOf(An.any)]))])),sourcePos:An.bool,rawSourcePos:An.bool,skipHtml:An.bool,includeElementIndex:An.bool,transformLinkUri:An.oneOfType([An.func,An.bool]),linkTarget:An.oneOfType([An.func,An.string]),transformImageUri:An.func,components:An.object};function jA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Pd(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var EN={exports:{}},D1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _N;function Fie(){if(_N)return D1;_N=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:a,ref:i!==void 0?i:null,props:s}}return D1.Fragment=n,D1.jsx=t,D1.jsxs=t,D1}var kN;function TA(){return kN||(kN=1,EN.exports=Fie()),EN.exports}var xn=TA(),L1={},NN={exports:{}},jN;function Hv(){return jN||(jN=1,function(e){function n(t){return t&&t.__esModule?t:{default:t}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(NN)),NN.exports}var TN={};function Jr(){return Jr=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Jr.apply(null,arguments)}function Nf(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function UD(e){if(K.isValidElement(e)||!Nf(e))return e;const n={};return Object.keys(e).forEach(t=>{n[t]=UD(e[t])}),n}function Dc(e,n,t={clone:!0}){const r=t.clone?Jr({},e):e;return Nf(e)&&Nf(n)&&Object.keys(n).forEach(i=>{K.isValidElement(n[i])?r[i]=n[i]:Nf(n[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Nf(e[i])?r[i]=Dc(e[i],n[i],t):t.clone?r[i]=Nf(n[i])?UD(n[i]):n[i]:r[i]=n[i]}),r}const qie=Object.freeze(Object.defineProperty({__proto__:null,default:Dc,isPlainObject:Nf},Symbol.toStringTag,{value:"Module"}));function Ig(e){let n="https://mui.com/production-error/?code="+e;for(let t=1;t<arguments.length;t+=1)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+e+"; visit "+n+" for the full message."}const zie=Object.freeze(Object.defineProperty({__proto__:null,default:Ig},Symbol.toStringTag,{value:"Module"}));var ON={exports:{}},Xr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IN;function Bie(){if(IN)return Xr;IN=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),m=Symbol.for("react.client.reference");function x(y){if(typeof y=="object"&&y!==null){var A=y.$$typeof;switch(A){case e:switch(y=y.type,y){case t:case i:case r:case c:case d:return y;default:switch(y=y&&y.$$typeof,y){case a:case l:case g:case h:return y;case s:return y;default:return A}}case n:return A}}}return Xr.ContextConsumer=s,Xr.ContextProvider=a,Xr.Element=e,Xr.ForwardRef=l,Xr.Fragment=t,Xr.Lazy=g,Xr.Memo=h,Xr.Portal=n,Xr.Profiler=i,Xr.StrictMode=r,Xr.Suspense=c,Xr.SuspenseList=d,Xr.isContextConsumer=function(y){return x(y)===s},Xr.isContextProvider=function(y){return x(y)===a},Xr.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Xr.isForwardRef=function(y){return x(y)===l},Xr.isFragment=function(y){return x(y)===t},Xr.isLazy=function(y){return x(y)===g},Xr.isMemo=function(y){return x(y)===h},Xr.isPortal=function(y){return x(y)===n},Xr.isProfiler=function(y){return x(y)===i},Xr.isStrictMode=function(y){return x(y)===r},Xr.isSuspense=function(y){return x(y)===c},Xr.isSuspenseList=function(y){return x(y)===d},Xr.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===i||y===r||y===c||y===d||y===b||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===h||y.$$typeof===a||y.$$typeof===s||y.$$typeof===l||y.$$typeof===m||y.getModuleId!==void 0)},Xr.typeOf=x,Xr}var DN;function Uie(){return DN||(DN=1,ON.exports=Bie()),ON.exports}var LN=Uie();const $ie=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function $D(e){const n=`${e}`.match($ie);return n&&n[1]||""}function HD(e,n=""){return e.displayName||e.name||$D(e)||n}function RN(e,n,t){const r=HD(n);return e.displayName||(r!==""?`${t}(${r})`:t)}function Hie(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return HD(e,"Component");if(typeof e=="object")switch(e.$$typeof){case LN.ForwardRef:return RN(e,e.render,"ForwardRef");case LN.Memo:return RN(e,e.type,"memo");default:return}}}const Wie=Object.freeze(Object.defineProperty({__proto__:null,default:Hie,getFunctionName:$D},Symbol.toStringTag,{value:"Module"}));function Qf(e){if(typeof e!="string")throw new Error(Ig(7));return e.charAt(0).toUpperCase()+e.slice(1)}const Vie=Object.freeze(Object.defineProperty({__proto__:null,default:Qf},Symbol.toStringTag,{value:"Module"}));function Yie(...e){return e.reduce((n,t)=>t==null?n:function(...r){n.apply(this,r),t.apply(this,r)},()=>{})}function Gie(e,n=166){let t;function r(...i){const s=()=>{e.apply(this,i)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=()=>{clearTimeout(t)},r}function Qie(e,n){return()=>null}function Kie(e,n){var t,r;return K.isValidElement(e)&&n.indexOf((t=e.type.muiName)!=null?t:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function WD(e){return e&&e.ownerDocument||document}function Xie(e){return WD(e).defaultView||window}function Zie(e,n){return()=>null}function VD(e,n){typeof e=="function"?e(n):e&&(e.current=n)}const YD=typeof window<"u"?K.useLayoutEffect:K.useEffect;let MN=0;function Jie(e){const[n,t]=K.useState(e),r=e||n;return K.useEffect(()=>{n==null&&(MN+=1,t(`mui-${MN}`))},[n]),r}const PN=K.useId;function ese(e){if(PN!==void 0){const n=PN();return e??n}return Jie(e)}function tse(e,n,t,r,i){return null}function nse({controlled:e,default:n,name:t,state:r="value"}){const{current:i}=K.useRef(e!==void 0),[s,a]=K.useState(n),l=i?e:s,c=K.useCallback(d=>{i||a(d)},[]);return[l,c]}function rse(e){const n=K.useRef(e);return YD(()=>{n.current=e}),K.useRef((...t)=>(0,n.current)(...t)).current}function ise(...e){return K.useMemo(()=>e.every(n=>n==null)?null:n=>{e.forEach(t=>{VD(t,n)})},e)}let sse=class GD{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new GD}start(n,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},n)}},Wv=!0,s6=!1;const ase=new sse,ose={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function lse(e){const{type:n,tagName:t}=e;return!!(t==="INPUT"&&ose[n]&&!e.readOnly||t==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function use(e){e.metaKey||e.altKey||e.ctrlKey||(Wv=!0)}function Pw(){Wv=!1}function cse(){this.visibilityState==="hidden"&&s6&&(Wv=!0)}function dse(e){e.addEventListener("keydown",use,!0),e.addEventListener("mousedown",Pw,!0),e.addEventListener("pointerdown",Pw,!0),e.addEventListener("touchstart",Pw,!0),e.addEventListener("visibilitychange",cse,!0)}function fse(e){const{target:n}=e;try{return n.matches(":focus-visible")}catch{}return Wv||lse(n)}function hse(){const e=K.useCallback(i=>{i!=null&&dse(i.ownerDocument)},[]),n=K.useRef(!1);function t(){return n.current?(s6=!0,ase.start(100,()=>{s6=!1}),n.current=!1,!0):!1}function r(i){return fse(i)?(n.current=!0,!0):!1}return{isFocusVisibleRef:n,onFocus:r,onBlur:t,ref:e}}function a6(e,n){const t=Jr({},n);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=Jr({},e[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},s=n[r];t[r]={},!s||!Object.keys(s)?t[r]=i:!i||!Object.keys(i)?t[r]=s:(t[r]=Jr({},s),Object.keys(i).forEach(a=>{t[r][a]=a6(i[a],s[a])}))}else t[r]===void 0&&(t[r]=e[r])}),t}function pse(e,n,t=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((s,a)=>{if(a){const l=n(a);l!==""&&s.push(l),t&&t[a]&&s.push(t[a])}return s},[]).join(" ")}),r}const FN=e=>e,mse=()=>{let e=FN;return{configure(n){e=n},generate(n){return e(n)},reset(){e=FN}}},QD=mse(),gse={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function KD(e,n,t="Mui"){const r=gse[n];return r?`${t}-${r}`:`${QD.generate(e)}-${n}`}function bse(e,n,t="Mui"){const r={};return n.forEach(i=>{r[i]=KD(e,i,t)}),r}function yse(e,n=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(n,Math.min(e,t))}const xse=Object.freeze(Object.defineProperty({__proto__:null,default:yse},Symbol.toStringTag,{value:"Module"}));function nh(e,n){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.includes(r))continue;t[r]=e[r]}return t}function XD(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(t=XD(e[n]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function vse(){for(var e,n,t=0,r="",i=arguments.length;t<i;t++)(e=arguments[t])&&(n=XD(e))&&(r&&(r+=" "),r+=n);return r}const wse=K.createContext(void 0);function Sse(e){const{theme:n,name:t,props:r}=e;if(!n||!n.components||!n.components[t])return r;const i=n.components[t];return i.defaultProps?a6(i.defaultProps,r):!i.styleOverrides&&!i.variants?a6(i,r):r}function Ase({props:e,name:n}){const t=K.useContext(wse);return Sse({props:e,name:n,theme:{components:t}})}function Cse(e){return Ase(e)}var Oh={},qN={exports:{}},zN;function Ese(){return zN||(zN=1,function(e){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(qN)),qN.exports}var BN={exports:{}},UN;function _se(){return UN||(UN=1,function(e){function n(t,r){if(t==null)return{};var i={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.includes(s))continue;i[s]=t[s]}return i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(BN)),BN.exports}function kse(e){if(e.sheet)return e.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===e)return document.styleSheets[n]}function Nse(e){var n=document.createElement("style");return n.setAttribute("data-emotion",e.key),e.nonce!==void 0&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var jse=function(){function e(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var n=e.prototype;return n.hydrate=function(t){t.forEach(this._insertTag)},n.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Nse(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=kse(r);try{i.insertRule(t,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(t));this.ctr++},n.flush=function(){this.tags.forEach(function(t){var r;return(r=t.parentNode)==null?void 0:r.removeChild(t)}),this.tags=[],this.ctr=0},e}(),Ra="-ms-",iv="-moz-",Sr="-webkit-",ZD="comm",OA="rule",IA="decl",Tse="@import",JD="@keyframes",Ose="@layer",Ise=Math.abs,Vv=String.fromCharCode,Dse=Object.assign;function Lse(e,n){return ma(e,0)^45?(((n<<2^ma(e,0))<<2^ma(e,1))<<2^ma(e,2))<<2^ma(e,3):0}function eL(e){return e.trim()}function Rse(e,n){return(e=n.exec(e))?e[0]:e}function Cr(e,n,t){return e.replace(n,t)}function o6(e,n){return e.indexOf(n)}function ma(e,n){return e.charCodeAt(n)|0}function Dg(e,n,t){return e.slice(n,t)}function bc(e){return e.length}function DA(e){return e.length}function Qy(e,n){return n.push(e),e}function Mse(e,n){return e.map(n).join("")}var Yv=1,Z0=1,tL=0,jo=0,Fs=0,um="";function Gv(e,n,t,r,i,s,a){return{value:e,root:n,parent:t,type:r,props:i,children:s,line:Yv,column:Z0,length:a,return:""}}function R1(e,n){return Dse(Gv("",null,null,"",null,null,0),e,{length:-e.length},n)}function Pse(){return Fs}function Fse(){return Fs=jo>0?ma(um,--jo):0,Z0--,Fs===10&&(Z0=1,Yv--),Fs}function al(){return Fs=jo<tL?ma(um,jo++):0,Z0++,Fs===10&&(Z0=1,Yv++),Fs}function Lc(){return ma(um,jo)}function xx(){return jo}function ub(e,n){return Dg(um,e,n)}function Lg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nL(e){return Yv=Z0=1,tL=bc(um=e),jo=0,[]}function rL(e){return um="",e}function vx(e){return eL(ub(jo-1,l6(e===91?e+2:e===40?e+1:e)))}function qse(e){for(;(Fs=Lc())&&Fs<33;)al();return Lg(e)>2||Lg(Fs)>3?"":" "}function zse(e,n){for(;--n&&al()&&!(Fs<48||Fs>102||Fs>57&&Fs<65||Fs>70&&Fs<97););return ub(e,xx()+(n<6&&Lc()==32&&al()==32))}function l6(e){for(;al();)switch(Fs){case e:return jo;case 34:case 39:e!==34&&e!==39&&l6(Fs);break;case 40:e===41&&l6(e);break;case 92:al();break}return jo}function Bse(e,n){for(;al()&&e+Fs!==57&&!(e+Fs===84&&Lc()===47););return"/*"+ub(n,jo-1)+"*"+Vv(e===47?e:al())}function Use(e){for(;!Lg(Lc());)al();return ub(e,jo)}function $se(e){return rL(wx("",null,null,null,[""],e=nL(e),0,[0],e))}function wx(e,n,t,r,i,s,a,l,c){for(var d=0,h=0,g=a,b=0,m=0,x=0,y=1,A=1,w=1,C=0,k="",R=i,q=s,D=r,N=k;A;)switch(x=C,C=al()){case 40:if(x!=108&&ma(N,g-1)==58){o6(N+=Cr(vx(C),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:N+=vx(C);break;case 9:case 10:case 13:case 32:N+=qse(x);break;case 92:N+=zse(xx()-1,7);continue;case 47:switch(Lc()){case 42:case 47:Qy(Hse(Bse(al(),xx()),n,t),c);break;default:N+="/"}break;case 123*y:l[d++]=bc(N)*w;case 125*y:case 59:case 0:switch(C){case 0:case 125:A=0;case 59+h:w==-1&&(N=Cr(N,/\f/g,"")),m>0&&bc(N)-g&&Qy(m>32?HN(N+";",r,t,g-1):HN(Cr(N," ","")+";",r,t,g-2),c);break;case 59:N+=";";default:if(Qy(D=$N(N,n,t,d,h,i,l,k,R=[],q=[],g),s),C===123)if(h===0)wx(N,n,D,D,R,s,g,l,q);else switch(b===99&&ma(N,3)===110?100:b){case 100:case 108:case 109:case 115:wx(e,D,D,r&&Qy($N(e,D,D,0,0,i,l,k,i,R=[],g),q),i,q,g,l,r?R:q);break;default:wx(N,D,D,D,[""],q,0,l,q)}}d=h=m=0,y=w=1,k=N="",g=a;break;case 58:g=1+bc(N),m=x;default:if(y<1){if(C==123)--y;else if(C==125&&y++==0&&Fse()==125)continue}switch(N+=Vv(C),C*y){case 38:w=h>0?1:(N+="\f",-1);break;case 44:l[d++]=(bc(N)-1)*w,w=1;break;case 64:Lc()===45&&(N+=vx(al())),b=Lc(),h=g=bc(k=N+=Use(xx())),C++;break;case 45:x===45&&bc(N)==2&&(y=0)}}return s}function $N(e,n,t,r,i,s,a,l,c,d,h){for(var g=i-1,b=i===0?s:[""],m=DA(b),x=0,y=0,A=0;x<r;++x)for(var w=0,C=Dg(e,g+1,g=Ise(y=a[x])),k=e;w<m;++w)(k=eL(y>0?b[w]+" "+C:Cr(C,/&\f/g,b[w])))&&(c[A++]=k);return Gv(e,n,t,i===0?OA:l,c,d,h)}function Hse(e,n,t){return Gv(e,n,t,ZD,Vv(Pse()),Dg(e,2,-2),0)}function HN(e,n,t,r){return Gv(e,n,t,IA,Dg(e,0,r),Dg(e,r+1,-1),r)}function M0(e,n){for(var t="",r=DA(e),i=0;i<r;i++)t+=n(e[i],i,e,n)||"";return t}function Wse(e,n,t,r){switch(e.type){case Ose:if(e.children.length)break;case Tse:case IA:return e.return=e.return||e.value;case ZD:return"";case JD:return e.return=e.value+"{"+M0(e.children,r)+"}";case OA:e.value=e.props.join(",")}return bc(t=M0(e.children,r))?e.return=e.value+"{"+t+"}":""}function Vse(e){var n=DA(e);return function(t,r,i,s){for(var a="",l=0;l<n;l++)a+=e[l](t,r,i,s)||"";return a}}function Yse(e){return function(n){n.root||(n=n.return)&&e(n)}}var Gse=function(e,n,t){for(var r=0,i=0;r=i,i=Lc(),r===38&&i===12&&(n[t]=1),!Lg(i);)al();return ub(e,jo)},Qse=function(e,n){var t=-1,r=44;do switch(Lg(r)){case 0:r===38&&Lc()===12&&(n[t]=1),e[t]+=Gse(jo-1,n,t);break;case 2:e[t]+=vx(r);break;case 4:if(r===44){e[++t]=Lc()===58?"&\f":"",n[t]=e[t].length;break}default:e[t]+=Vv(r)}while(r=al());return e},Kse=function(e,n){return rL(Qse(nL(e),n))},WN=new WeakMap,Xse=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,t=e.parent,r=e.column===t.column&&e.line===t.line;t.type!=="rule";)if(t=t.parent,!t)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!WN.get(t))&&!r){WN.set(e,!0);for(var i=[],s=Kse(n,i),a=t.props,l=0,c=0;l<s.length;l++)for(var d=0;d<a.length;d++,c++)e.props[c]=i[l]?s[l].replace(/&\f/g,a[d]):a[d]+" "+s[l]}}},Zse=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function iL(e,n){switch(Lse(e,n)){case 5103:return Sr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Sr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Sr+e+iv+e+Ra+e+e;case 6828:case 4268:return Sr+e+Ra+e+e;case 6165:return Sr+e+Ra+"flex-"+e+e;case 5187:return Sr+e+Cr(e,/(\w+).+(:[^]+)/,Sr+"box-$1$2"+Ra+"flex-$1$2")+e;case 5443:return Sr+e+Ra+"flex-item-"+Cr(e,/flex-|-self/,"")+e;case 4675:return Sr+e+Ra+"flex-line-pack"+Cr(e,/align-content|flex-|-self/,"")+e;case 5548:return Sr+e+Ra+Cr(e,"shrink","negative")+e;case 5292:return Sr+e+Ra+Cr(e,"basis","preferred-size")+e;case 6060:return Sr+"box-"+Cr(e,"-grow","")+Sr+e+Ra+Cr(e,"grow","positive")+e;case 4554:return Sr+Cr(e,/([^-])(transform)/g,"$1"+Sr+"$2")+e;case 6187:return Cr(Cr(Cr(e,/(zoom-|grab)/,Sr+"$1"),/(image-set)/,Sr+"$1"),e,"")+e;case 5495:case 3959:return Cr(e,/(image-set\([^]*)/,Sr+"$1$`$1");case 4968:return Cr(Cr(e,/(.+:)(flex-)?(.*)/,Sr+"box-pack:$3"+Ra+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Sr+e+e;case 4095:case 3583:case 4068:case 2532:return Cr(e,/(.+)-inline(.+)/,Sr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(bc(e)-1-n>6)switch(ma(e,n+1)){case 109:if(ma(e,n+4)!==45)break;case 102:return Cr(e,/(.+:)(.+)-([^]+)/,"$1"+Sr+"$2-$3$1"+iv+(ma(e,n+3)==108?"$3":"$2-$3"))+e;case 115:return~o6(e,"stretch")?iL(Cr(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(ma(e,n+1)!==115)break;case 6444:switch(ma(e,bc(e)-3-(~o6(e,"!important")&&10))){case 107:return Cr(e,":",":"+Sr)+e;case 101:return Cr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Sr+(ma(e,14)===45?"inline-":"")+"box$3$1"+Sr+"$2$3$1"+Ra+"$2box$3")+e}break;case 5936:switch(ma(e,n+11)){case 114:return Sr+e+Ra+Cr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Sr+e+Ra+Cr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Sr+e+Ra+Cr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Sr+e+Ra+e+e}return e}var Jse=function(e,n,t,r){if(e.length>-1&&!e.return)switch(e.type){case IA:e.return=iL(e.value,e.length);break;case JD:return M0([R1(e,{value:Cr(e.value,"@","@"+Sr)})],r);case OA:if(e.length)return Mse(e.props,function(i){switch(Rse(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return M0([R1(e,{props:[Cr(i,/:(read-\w+)/,":"+iv+"$1")]})],r);case"::placeholder":return M0([R1(e,{props:[Cr(i,/:(plac\w+)/,":"+Sr+"input-$1")]}),R1(e,{props:[Cr(i,/:(plac\w+)/,":"+iv+"$1")]}),R1(e,{props:[Cr(i,/:(plac\w+)/,Ra+"input-$1")]})],r)}return""})}},eae=[Jse],tae=function(e){var n=e.key;if(n==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(x){var y=x.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var r=e.stylisPlugins||eae,i={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var y=x.getAttribute("data-emotion").split(" "),A=1;A<y.length;A++)i[y[A]]=!0;a.push(x)});var l,c=[Xse,Zse];{var d,h=[Wse,Yse(function(x){d.insert(x)})],g=Vse(c.concat(r,h)),b=function(x){return M0($se(x),g)};l=function(x,y,A,w){d=A,b(x?x+"{"+y.styles+"}":y.styles),w&&(m.inserted[y.name]=!0)}}var m={key:n,sheet:new jse({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return m.sheet.hydrate(a),m};let u6;typeof document=="object"&&(u6=tae({key:"css",prepend:!0}));function nae(e){const{injectFirst:n,children:t}=e;return n&&u6?xn.jsx(vT,{value:u6,children:t}):t}function rae(e){return e==null||Object.keys(e).length===0}function iae(e){const{styles:n,defaultTheme:t={}}=e,r=typeof n=="function"?i=>n(rae(i)?t:i):n;return xn.jsx(wT,{styles:r})}/**
 * @mui/styled-engine v5.16.12
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function sae(e,n){return xT(e,n)}const aae=(e,n)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=n(e.__emotion_styles))},oae=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:iae,StyledEngineProvider:nae,ThemeContext:yT,css:bT,default:sae,internal_processStyles:aae,keyframes:gT},Symbol.toStringTag,{value:"Module"})),lae=Pd(oae),uae=Pd(qie),cae=Pd(Vie),dae=Pd(Wie),fae=["values","unit","step"],hae=e=>{const n=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return n.sort((t,r)=>t.val-r.val),n.reduce((t,r)=>Jr({},t,{[r.key]:r.val}),{})};function sL(e){const{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=e,i=nh(e,fae),s=hae(n),a=Object.keys(s);function l(b){return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t})`}function c(b){return`@media (max-width:${(typeof n[b]=="number"?n[b]:b)-r/100}${t})`}function d(b,m){const x=a.indexOf(m);return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t}) and (max-width:${(x!==-1&&typeof n[a[x]]=="number"?n[a[x]]:m)-r/100}${t})`}function h(b){return a.indexOf(b)+1<a.length?d(b,a[a.indexOf(b)+1]):l(b)}function g(b){const m=a.indexOf(b);return m===0?l(a[1]):m===a.length-1?c(a[m]):d(b,a[a.indexOf(b)+1]).replace("@media","@media not all and")}return Jr({keys:a,values:s,up:l,down:c,between:d,only:h,not:g,unit:t},i)}const pae={borderRadius:4};function lg(e,n){return n?Dc(e,n,{clone:!1}):e}const LA={xs:0,sm:600,md:900,lg:1200,xl:1536},VN={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${LA[e]}px)`};function Dd(e,n,t){const r=e.theme||{};if(Array.isArray(n)){const i=r.breakpoints||VN;return n.reduce((s,a,l)=>(s[i.up(i.keys[l])]=t(n[l]),s),{})}if(typeof n=="object"){const i=r.breakpoints||VN;return Object.keys(n).reduce((s,a)=>{if(Object.keys(i.values||LA).indexOf(a)!==-1){const l=i.up(a);s[l]=t(n[a],a)}else{const l=a;s[l]=n[l]}return s},{})}return t(n)}function mae(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((t,r)=>{const i=e.up(r);return t[i]={},t},{}))||{}}function gae(e,n){return e.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},n)}function Qv(e,n,t=!0){if(!n||typeof n!="string")return null;if(e&&e.vars&&t){const r=`vars.${n}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(r!=null)return r}return n.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function sv(e,n,t,r=t){let i;return typeof e=="function"?i=e(t):Array.isArray(e)?i=e[t]||r:i=Qv(e,t)||r,n&&(i=n(i,r,e)),i}function Ns(e){const{prop:n,cssProperty:t=e.prop,themeKey:r,transform:i}=e,s=a=>{if(a[n]==null)return null;const l=a[n],c=a.theme,d=Qv(c,r)||{};return Dd(a,l,h=>{let g=sv(d,i,h);return h===g&&typeof h=="string"&&(g=sv(d,i,`${n}${h==="default"?"":Qf(h)}`,h)),t===!1?g:{[t]:g}})};return s.propTypes={},s.filterProps=[n],s}function bae(e){const n={};return t=>(n[t]===void 0&&(n[t]=e(t)),n[t])}const yae={m:"margin",p:"padding"},xae={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},YN={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},vae=bae(e=>{if(e.length>2)if(YN[e])e=YN[e];else return[e];const[n,t]=e.split(""),r=yae[n],i=xae[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),RA=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],MA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...RA,...MA];function cb(e,n,t,r){var i;const s=(i=Qv(e,n,!1))!=null?i:t;return typeof s=="number"?a=>typeof a=="string"?a:s*a:Array.isArray(s)?a=>typeof a=="string"?a:s[a]:typeof s=="function"?s:()=>{}}function aL(e){return cb(e,"spacing",8)}function db(e,n){if(typeof n=="string"||n==null)return n;const t=Math.abs(n),r=e(t);return n>=0?r:typeof r=="number"?-r:`-${r}`}function wae(e,n){return t=>e.reduce((r,i)=>(r[i]=db(n,t),r),{})}function Sae(e,n,t,r){if(n.indexOf(t)===-1)return null;const i=vae(t),s=wae(i,r),a=e[t];return Dd(e,a,s)}function oL(e,n){const t=aL(e.theme);return Object.keys(e).map(r=>Sae(e,n,r,t)).reduce(lg,{})}function is(e){return oL(e,RA)}is.propTypes={};is.filterProps=RA;function ss(e){return oL(e,MA)}ss.propTypes={};ss.filterProps=MA;function Aae(e=8){if(e.mui)return e;const n=aL({spacing:e}),t=(...r)=>(r.length===0?[1]:r).map(i=>{const s=n(i);return typeof s=="number"?`${s}px`:s}).join(" ");return t.mui=!0,t}function Kv(...e){const n=e.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>n[s]?lg(i,n[s](r)):i,{});return t.propTypes={},t.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Dl(e){return typeof e!="number"?e:`${e}px solid`}function Ul(e,n){return Ns({prop:e,themeKey:"borders",transform:n})}const Cae=Ul("border",Dl),Eae=Ul("borderTop",Dl),_ae=Ul("borderRight",Dl),kae=Ul("borderBottom",Dl),Nae=Ul("borderLeft",Dl),jae=Ul("borderColor"),Tae=Ul("borderTopColor"),Oae=Ul("borderRightColor"),Iae=Ul("borderBottomColor"),Dae=Ul("borderLeftColor"),Lae=Ul("outline",Dl),Rae=Ul("outlineColor"),Xv=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const n=cb(e.theme,"shape.borderRadius",4),t=r=>({borderRadius:db(n,r)});return Dd(e,e.borderRadius,t)}return null};Xv.propTypes={};Xv.filterProps=["borderRadius"];Kv(Cae,Eae,_ae,kae,Nae,jae,Tae,Oae,Iae,Dae,Xv,Lae,Rae);const Zv=e=>{if(e.gap!==void 0&&e.gap!==null){const n=cb(e.theme,"spacing",8),t=r=>({gap:db(n,r)});return Dd(e,e.gap,t)}return null};Zv.propTypes={};Zv.filterProps=["gap"];const Jv=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const n=cb(e.theme,"spacing",8),t=r=>({columnGap:db(n,r)});return Dd(e,e.columnGap,t)}return null};Jv.propTypes={};Jv.filterProps=["columnGap"];const e2=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const n=cb(e.theme,"spacing",8),t=r=>({rowGap:db(n,r)});return Dd(e,e.rowGap,t)}return null};e2.propTypes={};e2.filterProps=["rowGap"];const Mae=Ns({prop:"gridColumn"}),Pae=Ns({prop:"gridRow"}),Fae=Ns({prop:"gridAutoFlow"}),qae=Ns({prop:"gridAutoColumns"}),zae=Ns({prop:"gridAutoRows"}),Bae=Ns({prop:"gridTemplateColumns"}),Uae=Ns({prop:"gridTemplateRows"}),$ae=Ns({prop:"gridTemplateAreas"}),Hae=Ns({prop:"gridArea"});Kv(Zv,Jv,e2,Mae,Pae,Fae,qae,zae,Bae,Uae,$ae,Hae);function P0(e,n){return n==="grey"?n:e}const Wae=Ns({prop:"color",themeKey:"palette",transform:P0}),Vae=Ns({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:P0}),Yae=Ns({prop:"backgroundColor",themeKey:"palette",transform:P0});Kv(Wae,Vae,Yae);function el(e){return e<=1&&e!==0?`${e*100}%`:e}const Gae=Ns({prop:"width",transform:el}),PA=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const n=t=>{var r,i;const s=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||LA[t];return s?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${e.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:el(t)}};return Dd(e,e.maxWidth,n)}return null};PA.filterProps=["maxWidth"];const Qae=Ns({prop:"minWidth",transform:el}),Kae=Ns({prop:"height",transform:el}),Xae=Ns({prop:"maxHeight",transform:el}),Zae=Ns({prop:"minHeight",transform:el});Ns({prop:"size",cssProperty:"width",transform:el});Ns({prop:"size",cssProperty:"height",transform:el});const Jae=Ns({prop:"boxSizing"});Kv(Gae,PA,Qae,Kae,Xae,Zae,Jae);const fb={border:{themeKey:"borders",transform:Dl},borderTop:{themeKey:"borders",transform:Dl},borderRight:{themeKey:"borders",transform:Dl},borderBottom:{themeKey:"borders",transform:Dl},borderLeft:{themeKey:"borders",transform:Dl},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Dl},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Xv},color:{themeKey:"palette",transform:P0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:P0},backgroundColor:{themeKey:"palette",transform:P0},p:{style:ss},pt:{style:ss},pr:{style:ss},pb:{style:ss},pl:{style:ss},px:{style:ss},py:{style:ss},padding:{style:ss},paddingTop:{style:ss},paddingRight:{style:ss},paddingBottom:{style:ss},paddingLeft:{style:ss},paddingX:{style:ss},paddingY:{style:ss},paddingInline:{style:ss},paddingInlineStart:{style:ss},paddingInlineEnd:{style:ss},paddingBlock:{style:ss},paddingBlockStart:{style:ss},paddingBlockEnd:{style:ss},m:{style:is},mt:{style:is},mr:{style:is},mb:{style:is},ml:{style:is},mx:{style:is},my:{style:is},margin:{style:is},marginTop:{style:is},marginRight:{style:is},marginBottom:{style:is},marginLeft:{style:is},marginX:{style:is},marginY:{style:is},marginInline:{style:is},marginInlineStart:{style:is},marginInlineEnd:{style:is},marginBlock:{style:is},marginBlockStart:{style:is},marginBlockEnd:{style:is},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Zv},rowGap:{style:e2},columnGap:{style:Jv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:el},maxWidth:{style:PA},minWidth:{transform:el},height:{transform:el},maxHeight:{transform:el},minHeight:{transform:el},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function eoe(...e){const n=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(n);return e.every(r=>t.size===Object.keys(r).length)}function toe(e,n){return typeof e=="function"?e(n):e}function lL(){function e(t,r,i,s){const a={[t]:r,theme:i},l=s[t];if(!l)return{[t]:r};const{cssProperty:c=t,themeKey:d,transform:h,style:g}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const b=Qv(i,d)||{};return g?g(a):Dd(a,r,m=>{let x=sv(b,h,m);return m===x&&typeof m=="string"&&(x=sv(b,h,`${t}${m==="default"?"":Qf(m)}`,m)),c===!1?x:{[c]:x}})}function n(t){var r;const{sx:i,theme:s={}}=t||{};if(!i)return null;const a=(r=s.unstable_sxConfig)!=null?r:fb;function l(c){let d=c;if(typeof c=="function")d=c(s);else if(typeof c!="object")return c;if(!d)return null;const h=mae(s.breakpoints),g=Object.keys(h);let b=h;return Object.keys(d).forEach(m=>{const x=toe(d[m],s);if(x!=null)if(typeof x=="object")if(a[m])b=lg(b,e(m,x,s,a));else{const y=Dd({theme:s},x,A=>({[m]:A}));eoe(y,x)?b[m]=n({sx:x,theme:s}):b=lg(b,y)}else b=lg(b,e(m,x,s,a))}),gae(g,b)}return Array.isArray(i)?i.map(l):l(i)}return n}const t2=lL();t2.filterProps=["sx"];function uL(e,n){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:n}:t.palette.mode===e?n:{}}const noe=["breakpoints","palette","spacing","shape"];function cL(e={},...n){const{breakpoints:t={},palette:r={},spacing:i,shape:s={}}=e,a=nh(e,noe),l=sL(t),c=Aae(i);let d=Dc({breakpoints:l,direction:"ltr",components:{},palette:Jr({mode:"light"},r),spacing:c,shape:Jr({},pae,s)},a);return d.applyStyles=uL,d=n.reduce((h,g)=>Dc(h,g),d),d.unstable_sxConfig=Jr({},fb,a==null?void 0:a.unstable_sxConfig),d.unstable_sx=function(h){return t2({sx:h,theme:this})},d}const roe=Object.freeze(Object.defineProperty({__proto__:null,default:cL,private_createBreakpoints:sL,unstable_applyStyles:uL},Symbol.toStringTag,{value:"Module"})),ioe=Pd(roe),soe=["sx"],aoe=e=>{var n,t;const r={systemProps:{},otherProps:{}},i=(n=e==null||(t=e.theme)==null?void 0:t.unstable_sxConfig)!=null?n:fb;return Object.keys(e).forEach(s=>{i[s]?r.systemProps[s]=e[s]:r.otherProps[s]=e[s]}),r};function ooe(e){const{sx:n}=e,t=nh(e,soe),{systemProps:r,otherProps:i}=aoe(t);let s;return Array.isArray(n)?s=[r,...n]:typeof n=="function"?s=(...a)=>{const l=n(...a);return Nf(l)?Jr({},r,l):r}:s=Jr({},r,n),Jr({},i,{sx:s})}const loe=Object.freeze(Object.defineProperty({__proto__:null,default:t2,extendSxProp:ooe,unstable_createStyleFunctionSx:lL,unstable_defaultSxConfig:fb},Symbol.toStringTag,{value:"Module"})),uoe=Pd(loe);var GN;function coe(){if(GN)return Oh;GN=1;var e=Hv();Object.defineProperty(Oh,"__esModule",{value:!0}),Oh.default=R,Oh.shouldForwardProp=x,Oh.systemDefaultTheme=void 0;var n=e(Ese()),t=e(_se()),r=g(lae),i=uae;e(cae),e(dae);var s=e(ioe),a=e(uoe);const l=["ownerState"],c=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function h(q){if(typeof WeakMap!="function")return null;var D=new WeakMap,N=new WeakMap;return(h=function(P){return P?N:D})(q)}function g(q,D){if(q&&q.__esModule)return q;if(q===null||typeof q!="object"&&typeof q!="function")return{default:q};var N=h(D);if(N&&N.has(q))return N.get(q);var P={__proto__:null},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var X in q)if(X!=="default"&&Object.prototype.hasOwnProperty.call(q,X)){var j=z?Object.getOwnPropertyDescriptor(q,X):null;j&&(j.get||j.set)?Object.defineProperty(P,X,j):P[X]=q[X]}return P.default=q,N&&N.set(q,P),P}function b(q){return Object.keys(q).length===0}function m(q){return typeof q=="string"&&q.charCodeAt(0)>96}function x(q){return q!=="ownerState"&&q!=="theme"&&q!=="sx"&&q!=="as"}const y=Oh.systemDefaultTheme=(0,s.default)(),A=q=>q&&q.charAt(0).toLowerCase()+q.slice(1);function w({defaultTheme:q,theme:D,themeId:N}){return b(D)?q:D[N]||D}function C(q){return q?(D,N)=>N[q]:null}function k(q,D){let{ownerState:N}=D,P=(0,t.default)(D,l);const z=typeof q=="function"?q((0,n.default)({ownerState:N},P)):q;if(Array.isArray(z))return z.flatMap(X=>k(X,(0,n.default)({ownerState:N},P)));if(z&&typeof z=="object"&&Array.isArray(z.variants)){const{variants:X=[]}=z;let j=(0,t.default)(z,c);return X.forEach(O=>{let M=!0;typeof O.props=="function"?M=O.props((0,n.default)({ownerState:N},P,N)):Object.keys(O.props).forEach(T=>{(N==null?void 0:N[T])!==O.props[T]&&P[T]!==O.props[T]&&(M=!1)}),M&&(Array.isArray(j)||(j=[j]),j.push(typeof O.style=="function"?O.style((0,n.default)({ownerState:N},P,N)):O.style))}),j}return z}function R(q={}){const{themeId:D,defaultTheme:N=y,rootShouldForwardProp:P=x,slotShouldForwardProp:z=x}=q,X=j=>(0,a.default)((0,n.default)({},j,{theme:w((0,n.default)({},j,{defaultTheme:N,themeId:D}))}));return X.__mui_systemSx=!0,(j,O={})=>{(0,r.internal_processStyles)(j,ne=>ne.filter(xe=>!(xe!=null&&xe.__mui_systemSx)));const{name:M,slot:T,skipVariantsResolver:Q,skipSx:H,overridesResolver:Y=C(A(T))}=O,Z=(0,t.default)(O,d),ae=Q!==void 0?Q:T&&T!=="Root"&&T!=="root"||!1,G=H||!1;let le,U=x;T==="Root"||T==="root"?U=P:T?U=z:m(j)&&(U=void 0);const B=(0,r.default)(j,(0,n.default)({shouldForwardProp:U,label:le},Z)),ie=ne=>typeof ne=="function"&&ne.__emotion_real!==ne||(0,i.isPlainObject)(ne)?xe=>k(ne,(0,n.default)({},xe,{theme:w({theme:xe.theme,defaultTheme:N,themeId:D})})):ne,J=(ne,...xe)=>{let ye=ie(ne);const Ae=xe?xe.map(ie):[];M&&Y&&Ae.push(qe=>{const $e=w((0,n.default)({},qe,{defaultTheme:N,themeId:D}));if(!$e.components||!$e.components[M]||!$e.components[M].styleOverrides)return null;const V=$e.components[M].styleOverrides,we={};return Object.entries(V).forEach(([se,he])=>{we[se]=k(he,(0,n.default)({},qe,{theme:$e}))}),Y(qe,we)}),M&&!ae&&Ae.push(qe=>{var $e;const V=w((0,n.default)({},qe,{defaultTheme:N,themeId:D})),we=V==null||($e=V.components)==null||($e=$e[M])==null?void 0:$e.variants;return k({variants:we},(0,n.default)({},qe,{theme:V}))}),G||Ae.push(X);const Ne=Ae.length-xe.length;if(Array.isArray(ne)&&Ne>0){const qe=new Array(Ne).fill("");ye=[...ne,...qe],ye.raw=[...ne.raw,...qe]}const Te=B(ye,...Ae);return j.muiName&&(Te.muiName=j.muiName),Te};return B.withConfig&&(J.withConfig=B.withConfig),J}}return Oh}var doe=coe();const foe=jA(doe);function hoe(e,n){return Jr({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},n)}var $i={};const poe=Pd(zie),moe=Pd(xse);var QN;function goe(){if(QN)return $i;QN=1;var e=Hv();Object.defineProperty($i,"__esModule",{value:!0}),$i.alpha=x,$i.blend=D,$i.colorChannel=void 0,$i.darken=A,$i.decomposeColor=a,$i.emphasize=R,$i.getContrastRatio=m,$i.getLuminance=b,$i.hexToRgb=i,$i.hslToRgb=g,$i.lighten=C,$i.private_safeAlpha=y,$i.private_safeColorChannel=void 0,$i.private_safeDarken=w,$i.private_safeEmphasize=q,$i.private_safeLighten=k,$i.recomposeColor=d,$i.rgbToHex=h;var n=e(poe),t=e(moe);function r(N,P=0,z=1){return(0,t.default)(N,P,z)}function i(N){N=N.slice(1);const P=new RegExp(`.{1,${N.length>=6?2:1}}`,"g");let z=N.match(P);return z&&z[0].length===1&&(z=z.map(X=>X+X)),z?`rgb${z.length===4?"a":""}(${z.map((X,j)=>j<3?parseInt(X,16):Math.round(parseInt(X,16)/255*1e3)/1e3).join(", ")})`:""}function s(N){const P=N.toString(16);return P.length===1?`0${P}`:P}function a(N){if(N.type)return N;if(N.charAt(0)==="#")return a(i(N));const P=N.indexOf("("),z=N.substring(0,P);if(["rgb","rgba","hsl","hsla","color"].indexOf(z)===-1)throw new Error((0,n.default)(9,N));let X=N.substring(P+1,N.length-1),j;if(z==="color"){if(X=X.split(" "),j=X.shift(),X.length===4&&X[3].charAt(0)==="/"&&(X[3]=X[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(j)===-1)throw new Error((0,n.default)(10,j))}else X=X.split(",");return X=X.map(O=>parseFloat(O)),{type:z,values:X,colorSpace:j}}const l=N=>{const P=a(N);return P.values.slice(0,3).map((z,X)=>P.type.indexOf("hsl")!==-1&&X!==0?`${z}%`:z).join(" ")};$i.colorChannel=l;const c=(N,P)=>{try{return l(N)}catch{return N}};$i.private_safeColorChannel=c;function d(N){const{type:P,colorSpace:z}=N;let{values:X}=N;return P.indexOf("rgb")!==-1?X=X.map((j,O)=>O<3?parseInt(j,10):j):P.indexOf("hsl")!==-1&&(X[1]=`${X[1]}%`,X[2]=`${X[2]}%`),P.indexOf("color")!==-1?X=`${z} ${X.join(" ")}`:X=`${X.join(", ")}`,`${P}(${X})`}function h(N){if(N.indexOf("#")===0)return N;const{values:P}=a(N);return`#${P.map((z,X)=>s(X===3?Math.round(255*z):z)).join("")}`}function g(N){N=a(N);const{values:P}=N,z=P[0],X=P[1]/100,j=P[2]/100,O=X*Math.min(j,1-j),M=(H,Y=(H+z/30)%12)=>j-O*Math.max(Math.min(Y-3,9-Y,1),-1);let T="rgb";const Q=[Math.round(M(0)*255),Math.round(M(8)*255),Math.round(M(4)*255)];return N.type==="hsla"&&(T+="a",Q.push(P[3])),d({type:T,values:Q})}function b(N){N=a(N);let P=N.type==="hsl"||N.type==="hsla"?a(g(N)).values:N.values;return P=P.map(z=>(N.type!=="color"&&(z/=255),z<=.03928?z/12.92:((z+.055)/1.055)**2.4)),Number((.2126*P[0]+.7152*P[1]+.0722*P[2]).toFixed(3))}function m(N,P){const z=b(N),X=b(P);return(Math.max(z,X)+.05)/(Math.min(z,X)+.05)}function x(N,P){return N=a(N),P=r(P),(N.type==="rgb"||N.type==="hsl")&&(N.type+="a"),N.type==="color"?N.values[3]=`/${P}`:N.values[3]=P,d(N)}function y(N,P,z){try{return x(N,P)}catch{return N}}function A(N,P){if(N=a(N),P=r(P),N.type.indexOf("hsl")!==-1)N.values[2]*=1-P;else if(N.type.indexOf("rgb")!==-1||N.type.indexOf("color")!==-1)for(let z=0;z<3;z+=1)N.values[z]*=1-P;return d(N)}function w(N,P,z){try{return A(N,P)}catch{return N}}function C(N,P){if(N=a(N),P=r(P),N.type.indexOf("hsl")!==-1)N.values[2]+=(100-N.values[2])*P;else if(N.type.indexOf("rgb")!==-1)for(let z=0;z<3;z+=1)N.values[z]+=(255-N.values[z])*P;else if(N.type.indexOf("color")!==-1)for(let z=0;z<3;z+=1)N.values[z]+=(1-N.values[z])*P;return d(N)}function k(N,P,z){try{return C(N,P)}catch{return N}}function R(N,P=.15){return b(N)>.5?A(N,P):C(N,P)}function q(N,P,z){try{return R(N,P)}catch{return N}}function D(N,P,z,X=1){const j=(Q,H)=>Math.round((Q**(1/X)*(1-z)+H**(1/X)*z)**X),O=a(N),M=a(P),T=[j(O.values[0],M.values[0]),j(O.values[1],M.values[1]),j(O.values[2],M.values[2])];return d({type:"rgb",values:T})}return $i}var c6=goe();const Rg={black:"#000",white:"#fff"},boe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},n0={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},r0={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},M1={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},i0={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},s0={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},a0={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},yoe=["mode","contrastThreshold","tonalOffset"],KN={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Rg.white,default:Rg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Fw={text:{primary:Rg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Rg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function XN(e,n,t,r){const i=r.light||r,s=r.dark||r*1.5;e[n]||(e.hasOwnProperty(t)?e[n]=e[t]:n==="light"?e.light=c6.lighten(e.main,i):n==="dark"&&(e.dark=c6.darken(e.main,s)))}function xoe(e="light"){return e==="dark"?{main:i0[200],light:i0[50],dark:i0[400]}:{main:i0[700],light:i0[400],dark:i0[800]}}function voe(e="light"){return e==="dark"?{main:n0[200],light:n0[50],dark:n0[400]}:{main:n0[500],light:n0[300],dark:n0[700]}}function woe(e="light"){return e==="dark"?{main:r0[500],light:r0[300],dark:r0[700]}:{main:r0[700],light:r0[400],dark:r0[800]}}function Soe(e="light"){return e==="dark"?{main:s0[400],light:s0[300],dark:s0[700]}:{main:s0[700],light:s0[500],dark:s0[900]}}function Aoe(e="light"){return e==="dark"?{main:a0[400],light:a0[300],dark:a0[700]}:{main:a0[800],light:a0[500],dark:a0[900]}}function Coe(e="light"){return e==="dark"?{main:M1[400],light:M1[300],dark:M1[700]}:{main:"#ed6c02",light:M1[500],dark:M1[900]}}function Eoe(e){const{mode:n="light",contrastThreshold:t=3,tonalOffset:r=.2}=e,i=nh(e,yoe),s=e.primary||xoe(n),a=e.secondary||voe(n),l=e.error||woe(n),c=e.info||Soe(n),d=e.success||Aoe(n),h=e.warning||Coe(n);function g(x){return c6.getContrastRatio(x,Fw.text.primary)>=t?Fw.text.primary:KN.text.primary}const b=({color:x,name:y,mainShade:A=500,lightShade:w=300,darkShade:C=700})=>{if(x=Jr({},x),!x.main&&x[A]&&(x.main=x[A]),!x.hasOwnProperty("main"))throw new Error(Ig(11,y?` (${y})`:"",A));if(typeof x.main!="string")throw new Error(Ig(12,y?` (${y})`:"",JSON.stringify(x.main)));return XN(x,"light",w,r),XN(x,"dark",C,r),x.contrastText||(x.contrastText=g(x.main)),x},m={dark:Fw,light:KN};return Dc(Jr({common:Jr({},Rg),mode:n,primary:b({color:s,name:"primary"}),secondary:b({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:l,name:"error"}),warning:b({color:h,name:"warning"}),info:b({color:c,name:"info"}),success:b({color:d,name:"success"}),grey:boe,contrastThreshold:t,getContrastText:g,augmentColor:b,tonalOffset:r},m[n]),i)}const _oe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function koe(e){return Math.round(e*1e5)/1e5}const ZN={textTransform:"uppercase"},JN='"Roboto", "Helvetica", "Arial", sans-serif';function Noe(e,n){const t=typeof n=="function"?n(e):n,{fontFamily:r=JN,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:a=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:h,pxToRem:g}=t,b=nh(t,_oe),m=i/14,x=g||(w=>`${w/d*m}rem`),y=(w,C,k,R,q)=>Jr({fontFamily:r,fontWeight:w,fontSize:x(C),lineHeight:k},r===JN?{letterSpacing:`${koe(R/C)}em`}:{},q,h),A={h1:y(s,96,1.167,-1.5),h2:y(s,60,1.2,-.5),h3:y(a,48,1.167,0),h4:y(a,34,1.235,.25),h5:y(a,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(a,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(a,16,1.5,.15),body2:y(a,14,1.43,.15),button:y(l,14,1.75,.4,ZN),caption:y(a,12,1.66,.4),overline:y(a,12,2.66,1,ZN),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Dc(Jr({htmlFontSize:d,pxToRem:x,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:a,fontWeightMedium:l,fontWeightBold:c},A),b,{clone:!1})}const joe=.2,Toe=.14,Ooe=.12;function ji(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${joe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Toe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Ooe})`].join(",")}const Ioe=["none",ji(0,2,1,-1,0,1,1,0,0,1,3,0),ji(0,3,1,-2,0,2,2,0,0,1,5,0),ji(0,3,3,-2,0,3,4,0,0,1,8,0),ji(0,2,4,-1,0,4,5,0,0,1,10,0),ji(0,3,5,-1,0,5,8,0,0,1,14,0),ji(0,3,5,-1,0,6,10,0,0,1,18,0),ji(0,4,5,-2,0,7,10,1,0,2,16,1),ji(0,5,5,-3,0,8,10,1,0,3,14,2),ji(0,5,6,-3,0,9,12,1,0,3,16,2),ji(0,6,6,-3,0,10,14,1,0,4,18,3),ji(0,6,7,-4,0,11,15,1,0,4,20,3),ji(0,7,8,-4,0,12,17,2,0,5,22,4),ji(0,7,8,-4,0,13,19,2,0,5,24,4),ji(0,7,9,-4,0,14,21,2,0,5,26,4),ji(0,8,9,-5,0,15,22,2,0,6,28,5),ji(0,8,10,-5,0,16,24,2,0,6,30,5),ji(0,8,11,-5,0,17,26,2,0,6,32,5),ji(0,9,11,-5,0,18,28,2,0,7,34,6),ji(0,9,12,-6,0,19,29,2,0,7,36,6),ji(0,10,13,-6,0,20,31,3,0,8,38,7),ji(0,10,13,-6,0,21,33,3,0,8,40,7),ji(0,10,14,-6,0,22,35,3,0,8,42,7),ji(0,11,14,-7,0,23,36,3,0,9,44,8),ji(0,11,15,-7,0,24,38,3,0,9,46,8)],Doe=["duration","easing","delay"],Loe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Roe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function ej(e){return`${Math.round(e)}ms`}function Moe(e){if(!e)return 0;const n=e/36;return Math.round((4+15*n**.25+n/5)*10)}function Poe(e){const n=Jr({},Loe,e.easing),t=Jr({},Roe,e.duration);return Jr({getAutoHeightDuration:Moe,create:(r=["all"],i={})=>{const{duration:s=t.standard,easing:a=n.easeInOut,delay:l=0}=i;return nh(i,Doe),(Array.isArray(r)?r:[r]).map(c=>`${c} ${typeof s=="string"?s:ej(s)} ${a} ${typeof l=="string"?l:ej(l)}`).join(",")}},e,{easing:n,duration:t})}const Foe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},qoe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function zoe(e={},...n){const{mixins:t={},palette:r={},transitions:i={},typography:s={}}=e,a=nh(e,qoe);if(e.vars)throw new Error(Ig(18));const l=Eoe(r),c=cL(e);let d=Dc(c,{mixins:hoe(c.breakpoints,t),palette:l,shadows:Ioe.slice(),typography:Noe(l,s),transitions:Poe(i),zIndex:Jr({},Foe)});return d=Dc(d,a),d=n.reduce((h,g)=>Dc(h,g),d),d.unstable_sxConfig=Jr({},fb,a==null?void 0:a.unstable_sxConfig),d.unstable_sx=function(h){return t2({sx:h,theme:this})},d}const Boe=zoe(),Uoe="$$material";function $oe(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Hoe=e=>$oe(e)&&e!=="classes",Woe=foe({themeId:Uoe,defaultTheme:Boe,rootShouldForwardProp:Hoe});function Voe(e){return KD("MuiSvgIcon",e)}bse("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Yoe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Goe=e=>{const{color:n,fontSize:t,classes:r}=e,i={root:["root",n!=="inherit"&&`color${Qf(n)}`,`fontSize${Qf(t)}`]};return pse(i,Voe,r)},Qoe=Woe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.color!=="inherit"&&n[`color${Qf(t.color)}`],n[`fontSize${Qf(t.fontSize)}`]]}})(({theme:e,ownerState:n})=>{var t,r,i,s,a,l,c,d,h,g,b,m,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=e.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=e.typography)==null||(a=s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem",medium:((l=e.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((d=e.typography)==null||(h=d.pxToRem)==null?void 0:h.call(d,35))||"2.1875rem"}[n.fontSize],color:(g=(b=(e.vars||e).palette)==null||(b=b[n.color])==null?void 0:b.main)!=null?g:{action:(m=(e.vars||e).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(x=(e.vars||e).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[n.color]}}),d6=K.forwardRef(function(e,n){const t=Cse({props:e,name:"MuiSvgIcon"}),{children:r,className:i,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:h,viewBox:g="0 0 24 24"}=t,b=nh(t,Yoe),m=K.isValidElement(r)&&r.type==="svg",x=Jr({},t,{color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:g,hasSvgAsChild:m}),y={};d||(y.viewBox=g);const A=Goe(x);return xn.jsxs(Qoe,Jr({as:a,className:vse(A.root,i),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},y,b,m&&r.props,{ownerState:x,children:[m?r.props.children:r,h?xn.jsx("title",{children:h}):null]}))});d6.muiName="SvgIcon";function Koe(e,n){function t(r,i){return xn.jsx(d6,Jr({"data-testid":`${n}Icon`,ref:i},r,{children:e}))}return t.muiName=d6.muiName,K.memo(K.forwardRef(t))}const Xoe={configure:e=>{QD.configure(e)}},Zoe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Qf,createChainedFunction:Yie,createSvgIcon:Koe,debounce:Gie,deprecatedPropType:Qie,isMuiElement:Kie,ownerDocument:WD,ownerWindow:Xie,requirePropFactory:Zie,setRef:VD,unstable_ClassNameGenerator:Xoe,unstable_useEnhancedEffect:YD,unstable_useId:ese,unsupportedProp:tse,useControlled:nse,useEventCallback:rse,useForkRef:ise,useIsFocusVisible:hse},Symbol.toStringTag,{value:"Module"})),Joe=Pd(Zoe);var tj;function dL(){return tj||(tj=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=Joe}(TN)),TN}var nj;function ele(){if(nj)return L1;nj=1;var e=Hv();Object.defineProperty(L1,"__esModule",{value:!0}),L1.default=void 0;var n=e(dL()),t=TA();return L1.default=(0,n.default)((0,t.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat"),L1}var tle=ele();const nle=jA(tle),qw={chatToggleButton:{position:"fixed",bottom:20,right:20,bgcolor:"#CDDAFF",color:"white",width:60,height:60,borderRadius:"50%",boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.3)","&:hover":{bgcolor:"#0B53C0"},transition:"background-color 0.3s, transform 0.3s","&:active":{transform:"scale(0.95)"}},chatContainer:(e,n)=>({position:"fixed",bottom:e?0:20,right:e?0:20,width:e?"80%":n?"60%":650,height:e?"50%":n?"55%":700,padding:e?1:2,display:"flex",flexDirection:"column",borderRadius:e?0:"16px",backgroundColor:"#F0F4FF",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)"}),chatHeader:{fontFamily:"Staatliches, Arial, sans-serif",fontWeight:"bold",color:"black",fontSize:"1.25rem"},chatMessageInput:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif",borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}},chatMessageBox:{maxWidth:"70%",borderRadius:"15px",padding:1,paddingX:2,boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)","&.user":{bgcolor:"#f0f0f0",color:"#555",alignSelf:"flex-end"},"&.bot":{bgcolor:"#CDDAFF",color:"black",alignSelf:"flex-start","&:hover":{bgcolor:"#0B53C0",color:"white"}}},chatButtons:{backgroundColor:"#CDDAFF",color:"black",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",color:"white"}}},rle=({responses:e})=>xn.jsx(be,{sx:{flexGrow:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:2,padding:2,backgroundColor:"transparent"},children:e.length>0?e.map((n,t)=>xn.jsxs(be,{sx:{display:"flex",flexDirection:"column",alignItems:n.question?"flex-end":"flex-start"},children:[n.question&&xn.jsx(be,{sx:{maxWidth:"70%",bgcolor:"#f0f0f0",color:"#555",borderRadius:"15px",p:1,px:2,mb:2,alignSelf:"flex-end",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)"},children:xn.jsx(ce,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"#555"},children:n.question})}),(n.answer||n.text)&&xn.jsx(be,{sx:{maxWidth:"70%",bgcolor:"#CDDAFF",color:"black",borderRadius:"15px",p:1,px:2,alignSelf:"flex-start",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",mb:.3,"&:hover":{bgcolor:"#0B53C0",color:"white"}},children:xn.jsx(ce,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"inherit",transition:"color 0.3s ease"},children:xn.jsx(NA,{children:n.answer||n.text})})})]},t)):xn.jsx(ce,{variant:"body2",sx:{textAlign:"center",color:"#6c757d",fontFamily:"Gabarito, Arial, sans-serif"},children:"No messages yet. Start the conversation!"})}),ile=({onSendMessage:e,onStartConversation:n,onEndConversation:t,conversationId:r})=>{const[i,s]=K.useState(""),a=()=>{i.trim()&&(e(i),s(""))},l=()=>{r||n()},c=()=>{r&&t()};return xn.jsxs(be,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[xn.jsxs(be,{sx:{display:"flex",gap:1},children:[xn.jsx($t,{variant:"outlined",placeholder:"Type your message...",fullWidth:!0,size:"small",value:i,onChange:d=>s(d.target.value),onKeyDown:d=>{d.key==="Enter"&&a()},sx:{"& .MuiOutlinedInput-root":{borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}}}),xn.jsx(at,{variant:"contained",onClick:a,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"Send"})]}),r?xn.jsx(at,{variant:"outlined",onClick:c,sx:{color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none",borderColor:"#CDDAFF","&:hover":{borderColor:"#0B53C0",color:"#0B53C0"}},children:"END CONVERSATION"}):xn.jsx(at,{variant:"contained",onClick:l,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"START CONVERSATION"})]})};var P1={},rj;function sle(){if(rj)return P1;rj=1;var e=Hv();Object.defineProperty(P1,"__esModule",{value:!0}),P1.default=void 0;var n=e(dL()),t=TA();return P1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),P1}var ale=sle();const ole=jA(ale);function fL(e,n){return function(){return e.apply(n,arguments)}}const{toString:lle}=Object.prototype,{getPrototypeOf:FA}=Object,n2=(e=>n=>{const t=lle.call(n);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Mu=e=>(e=e.toLowerCase(),n=>n2(n)===e),r2=e=>n=>typeof n===e,{isArray:cm}=Array,Mg=r2("undefined");function ule(e){return e!==null&&!Mg(e)&&e.constructor!==null&&!Mg(e.constructor)&&ol(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const hL=Mu("ArrayBuffer");function cle(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&hL(e.buffer),n}const dle=r2("string"),ol=r2("function"),pL=r2("number"),i2=e=>e!==null&&typeof e=="object",fle=e=>e===!0||e===!1,Sx=e=>{if(n2(e)!=="object")return!1;const n=FA(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},hle=Mu("Date"),ple=Mu("File"),mle=Mu("Blob"),gle=Mu("FileList"),ble=e=>i2(e)&&ol(e.pipe),yle=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||ol(e.append)&&((n=n2(e))==="formdata"||n==="object"&&ol(e.toString)&&e.toString()==="[object FormData]"))},xle=Mu("URLSearchParams"),[vle,wle,Sle,Ale]=["ReadableStream","Request","Response","Headers"].map(Mu),Cle=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hb(e,n,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),cm(e))for(r=0,i=e.length;r<i;r++)n.call(null,e[r],r,e);else{const s=t?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let l;for(r=0;r<a;r++)l=s[r],n.call(null,e[l],l,e)}}function mL(e,n){n=n.toLowerCase();const t=Object.keys(e);let r=t.length,i;for(;r-- >0;)if(i=t[r],n===i.toLowerCase())return i;return null}const $h=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,gL=e=>!Mg(e)&&e!==$h;function f6(){const{caseless:e}=gL(this)&&this||{},n={},t=(r,i)=>{const s=e&&mL(n,i)||i;Sx(n[s])&&Sx(r)?n[s]=f6(n[s],r):Sx(r)?n[s]=f6({},r):cm(r)?n[s]=r.slice():n[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&hb(arguments[r],t);return n}const Ele=(e,n,t,{allOwnKeys:r}={})=>(hb(n,(i,s)=>{t&&ol(i)?e[s]=fL(i,t):e[s]=i},{allOwnKeys:r}),e),_le=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),kle=(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},Nle=(e,n,t,r)=>{let i,s,a;const l={};if(n=n||{},e==null)return n;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],(!r||r(a,e,n))&&!l[a]&&(n[a]=e[a],l[a]=!0);e=t!==!1&&FA(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},jle=(e,n,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return r!==-1&&r===t},Tle=e=>{if(!e)return null;if(cm(e))return e;let n=e.length;if(!pL(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},Ole=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&FA(Uint8Array)),Ile=(e,n)=>{const t=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=t.next())&&!r.done;){const i=r.value;n.call(e,i[0],i[1])}},Dle=(e,n)=>{let t;const r=[];for(;(t=e.exec(n))!==null;)r.push(t);return r},Lle=Mu("HTMLFormElement"),Rle=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,t,r){return t.toUpperCase()+r}),ij=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),Mle=Mu("RegExp"),bL=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};hb(t,(i,s)=>{let a;(a=n(i,s,e))!==!1&&(r[s]=a||i)}),Object.defineProperties(e,r)},Ple=e=>{bL(e,(n,t)=>{if(ol(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=e[t];if(ol(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Fle=(e,n)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return cm(e)?r(e):r(String(e).split(n)),t},qle=()=>{},zle=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n,zw="abcdefghijklmnopqrstuvwxyz",sj="0123456789",yL={DIGIT:sj,ALPHA:zw,ALPHA_DIGIT:zw+zw.toUpperCase()+sj},Ble=(e=16,n=yL.ALPHA_DIGIT)=>{let t="";const{length:r}=n;for(;e--;)t+=n[Math.random()*r|0];return t};function Ule(e){return!!(e&&ol(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const $le=e=>{const n=new Array(10),t=(r,i)=>{if(i2(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[i]=r;const s=cm(r)?[]:{};return hb(r,(a,l)=>{const c=t(a,i+1);!Mg(c)&&(s[l]=c)}),n[i]=void 0,s}}return r};return t(e,0)},Hle=Mu("AsyncFunction"),Wle=e=>e&&(i2(e)||ol(e))&&ol(e.then)&&ol(e.catch),xL=((e,n)=>e?setImmediate:n?((t,r)=>($h.addEventListener("message",({source:i,data:s})=>{i===$h&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),$h.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ol($h.postMessage)),Vle=typeof queueMicrotask<"u"?queueMicrotask.bind($h):typeof process<"u"&&process.nextTick||xL,ot={isArray:cm,isArrayBuffer:hL,isBuffer:ule,isFormData:yle,isArrayBufferView:cle,isString:dle,isNumber:pL,isBoolean:fle,isObject:i2,isPlainObject:Sx,isReadableStream:vle,isRequest:wle,isResponse:Sle,isHeaders:Ale,isUndefined:Mg,isDate:hle,isFile:ple,isBlob:mle,isRegExp:Mle,isFunction:ol,isStream:ble,isURLSearchParams:xle,isTypedArray:Ole,isFileList:gle,forEach:hb,merge:f6,extend:Ele,trim:Cle,stripBOM:_le,inherits:kle,toFlatObject:Nle,kindOf:n2,kindOfTest:Mu,endsWith:jle,toArray:Tle,forEachEntry:Ile,matchAll:Dle,isHTMLForm:Lle,hasOwnProperty:ij,hasOwnProp:ij,reduceDescriptors:bL,freezeMethods:Ple,toObjectSet:Fle,toCamelCase:Rle,noop:qle,toFiniteNumber:zle,findKey:mL,global:$h,isContextDefined:gL,ALPHABET:yL,generateString:Ble,isSpecCompliantForm:Ule,toJSONObject:$le,isAsyncFn:Hle,isThenable:Wle,setImmediate:xL,asap:Vle};function Tn(e,n,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ot.inherits(Tn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ot.toJSONObject(this.config),code:this.code,status:this.status}}});const vL=Tn.prototype,wL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{wL[e]={value:e}});Object.defineProperties(Tn,wL);Object.defineProperty(vL,"isAxiosError",{value:!0});Tn.from=(e,n,t,r,i,s)=>{const a=Object.create(vL);return ot.toFlatObject(e,a,function(l){return l!==Error.prototype},l=>l!=="isAxiosError"),Tn.call(a,e.message,n,t,r,i),a.cause=e,a.name=e.name,s&&Object.assign(a,s),a};const Yle=null;function h6(e){return ot.isPlainObject(e)||ot.isArray(e)}function SL(e){return ot.endsWith(e,"[]")?e.slice(0,-2):e}function aj(e,n,t){return e?e.concat(n).map(function(r,i){return r=SL(r),!t&&i?"["+r+"]":r}).join(t?".":""):n}function Gle(e){return ot.isArray(e)&&!e.some(h6)}const Qle=ot.toFlatObject(ot,{},null,function(e){return/^is[A-Z]/.test(e)});function s2(e,n,t){if(!ot.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,t=ot.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,x){return!ot.isUndefined(x[m])});const r=t.metaTokens,i=t.visitor||d,s=t.dots,a=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&ot.isSpecCompliantForm(n);if(!ot.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(ot.isDate(m))return m.toISOString();if(!l&&ot.isBlob(m))throw new Tn("Blob is not supported. Use a Buffer instead.");return ot.isArrayBuffer(m)||ot.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,x,y){let A=m;if(m&&!y&&typeof m=="object"){if(ot.endsWith(x,"{}"))x=r?x:x.slice(0,-2),m=JSON.stringify(m);else if(ot.isArray(m)&&Gle(m)||(ot.isFileList(m)||ot.endsWith(x,"[]"))&&(A=ot.toArray(m)))return x=SL(x),A.forEach(function(w,C){!(ot.isUndefined(w)||w===null)&&n.append(a===!0?aj([x],C,s):a===null?x:x+"[]",c(w))}),!1}return h6(m)?!0:(n.append(aj(y,x,s),c(m)),!1)}const h=[],g=Object.assign(Qle,{defaultVisitor:d,convertValue:c,isVisitable:h6});function b(m,x){if(!ot.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(m),ot.forEach(m,function(y,A){(!(ot.isUndefined(y)||y===null)&&i.call(n,y,ot.isString(A)?A.trim():A,x,g))===!0&&b(y,x?x.concat(A):[A])}),h.pop()}}if(!ot.isObject(e))throw new TypeError("data must be an object");return b(e),n}function oj(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(t){return n[t]})}function qA(e,n){this._pairs=[],e&&s2(e,this,n)}const AL=qA.prototype;AL.append=function(e,n){this._pairs.push([e,n])};AL.toString=function(e){const n=e?function(t){return e.call(this,t,oj)}:oj;return this._pairs.map(function(t){return n(t[0])+"="+n(t[1])},"").join("&")};function Kle(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function CL(e,n,t){if(!n)return e;const r=t&&t.encode||Kle;ot.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(n,t):s=ot.isURLSearchParams(n)?n.toString():new qA(n,t).toString(r),s){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}let lj=class{constructor(){this.handlers=[]}use(n,t,r){return this.handlers.push({fulfilled:n,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ot.forEach(this.handlers,function(t){t!==null&&n(t)})}};const EL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xle=typeof URLSearchParams<"u"?URLSearchParams:qA,Zle=typeof FormData<"u"?FormData:null,Jle=typeof Blob<"u"?Blob:null,eue={isBrowser:!0,classes:{URLSearchParams:Xle,FormData:Zle,Blob:Jle},protocols:["http","https","file","blob","url","data"]},zA=typeof window<"u"&&typeof document<"u",p6=typeof navigator=="object"&&navigator||void 0,tue=zA&&(!p6||["ReactNative","NativeScript","NS"].indexOf(p6.product)<0),nue=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rue=zA&&window.location.href||"http://localhost",iue=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zA,hasStandardBrowserEnv:tue,hasStandardBrowserWebWorkerEnv:nue,navigator:p6,origin:rue},Symbol.toStringTag,{value:"Module"})),Ua={...iue,...eue};function sue(e,n){return s2(e,new Ua.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return Ua.isNode&&ot.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},n))}function aue(e){return ot.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function oue(e){const n={},t=Object.keys(e);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],n[s]=e[s];return n}function _L(e){function n(t,r,i,s){let a=t[s++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=s>=t.length;return a=!a&&ot.isArray(i)?i.length:a,c?(ot.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!l):((!i[a]||!ot.isObject(i[a]))&&(i[a]=[]),n(t,r,i[a],s)&&ot.isArray(i[a])&&(i[a]=oue(i[a])),!l)}if(ot.isFormData(e)&&ot.isFunction(e.entries)){const t={};return ot.forEachEntry(e,(r,i)=>{n(aue(r),i,t,0)}),t}return null}function lue(e,n,t){if(ot.isString(e))try{return(n||JSON.parse)(e),ot.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const pb={transitional:EL,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const t=n.getContentType()||"",r=t.indexOf("application/json")>-1,i=ot.isObject(e);if(i&&ot.isHTMLForm(e)&&(e=new FormData(e)),ot.isFormData(e))return r?JSON.stringify(_L(e)):e;if(ot.isArrayBuffer(e)||ot.isBuffer(e)||ot.isStream(e)||ot.isFile(e)||ot.isBlob(e)||ot.isReadableStream(e))return e;if(ot.isArrayBufferView(e))return e.buffer;if(ot.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(t.indexOf("application/x-www-form-urlencoded")>-1)return sue(e,this.formSerializer).toString();if((s=ot.isFileList(e))||t.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return s2(s?{"files[]":e}:e,a&&new a,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),lue(e)):e}],transformResponse:[function(e){const n=this.transitional||pb.transitional,t=n&&n.forcedJSONParsing,r=this.responseType==="json";if(ot.isResponse(e)||ot.isReadableStream(e))return e;if(e&&ot.isString(e)&&(t&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(s){if(i)throw s.name==="SyntaxError"?Tn.from(s,Tn.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ua.classes.FormData,Blob:Ua.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ot.forEach(["delete","get","head","post","put","patch"],e=>{pb.headers[e]={}});const uue=ot.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cue=e=>{const n={};let t,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),t=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!t||n[t]&&uue[t])&&(t==="set-cookie"?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n},uj=Symbol("internals");function F1(e){return e&&String(e).trim().toLowerCase()}function Ax(e){return e===!1||e==null?e:ot.isArray(e)?e.map(Ax):String(e)}function due(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}const fue=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Bw(e,n,t,r,i){if(ot.isFunction(r))return r.call(this,n,t);if(i&&(n=t),!!ot.isString(n)){if(ot.isString(r))return n.indexOf(r)!==-1;if(ot.isRegExp(r))return r.test(n)}}function hue(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,r)=>t.toUpperCase()+r)}function pue(e,n){const t=ot.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(i,s,a){return this[r].call(this,n,i,s,a)},configurable:!0})})}class ko{constructor(n){n&&this.set(n)}set(n,t,r){const i=this;function s(l,c,d){const h=F1(c);if(!h)throw new Error("header name must be a non-empty string");const g=ot.findKey(i,h);(!g||i[g]===void 0||d===!0||d===void 0&&i[g]!==!1)&&(i[g||c]=Ax(l))}const a=(l,c)=>ot.forEach(l,(d,h)=>s(d,h,c));if(ot.isPlainObject(n)||n instanceof this.constructor)a(n,t);else if(ot.isString(n)&&(n=n.trim())&&!fue(n))a(cue(n),t);else if(ot.isHeaders(n))for(const[l,c]of n.entries())s(c,l,r);else n!=null&&s(t,n,r);return this}get(n,t){if(n=F1(n),n){const r=ot.findKey(this,n);if(r){const i=this[r];if(!t)return i;if(t===!0)return due(i);if(ot.isFunction(t))return t.call(this,i,r);if(ot.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=F1(n),n){const r=ot.findKey(this,n);return!!(r&&this[r]!==void 0&&(!t||Bw(this,this[r],r,t)))}return!1}delete(n,t){const r=this;let i=!1;function s(a){if(a=F1(a),a){const l=ot.findKey(r,a);l&&(!t||Bw(r,r[l],l,t))&&(delete r[l],i=!0)}}return ot.isArray(n)?n.forEach(s):s(n),i}clear(n){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!n||Bw(this,this[s],s,n,!0))&&(delete this[s],i=!0)}return i}normalize(n){const t=this,r={};return ot.forEach(this,(i,s)=>{const a=ot.findKey(r,s);if(a){t[a]=Ax(i),delete t[s];return}const l=n?hue(s):String(s).trim();l!==s&&delete t[s],t[l]=Ax(i),r[l]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return ot.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=n&&ot.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const r=new this(n);return t.forEach(i=>r.set(i)),r}static accessor(n){const t=(this[uj]=this[uj]={accessors:{}}).accessors,r=this.prototype;function i(s){const a=F1(s);t[a]||(pue(r,s),t[a]=!0)}return ot.isArray(n)?n.forEach(i):i(n),this}}ko.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ot.reduceDescriptors(ko.prototype,({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[t]=r}}});ot.freezeMethods(ko);function Uw(e,n){const t=this||pb,r=n||t,i=ko.from(r.headers);let s=r.data;return ot.forEach(e,function(a){s=a.call(t,s,i.normalize(),n?n.status:void 0)}),i.normalize(),s}function kL(e){return!!(e&&e.__CANCEL__)}function dm(e,n,t){Tn.call(this,e??"canceled",Tn.ERR_CANCELED,n,t),this.name="CanceledError"}ot.inherits(dm,Tn,{__CANCEL__:!0});function NL(e,n,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?e(t):n(new Tn("Request failed with status code "+t.status,[Tn.ERR_BAD_REQUEST,Tn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function mue(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function gue(e,n){e=e||10;const t=new Array(e),r=new Array(e);let i=0,s=0,a;return n=n!==void 0?n:1e3,function(l){const c=Date.now(),d=r[s];a||(a=c),t[i]=l,r[i]=c;let h=s,g=0;for(;h!==i;)g+=t[h++],h=h%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),c-a<n)return;const b=d&&c-d;return b?Math.round(g*1e3/b):void 0}}function bue(e,n){let t=0,r=1e3/n,i,s;const a=(l,c=Date.now())=>{t=c,i=null,s&&(clearTimeout(s),s=null),e.apply(null,l)};return[(...l)=>{const c=Date.now(),d=c-t;d>=r?a(l,c):(i=l,s||(s=setTimeout(()=>{s=null,a(i)},r-d)))},()=>i&&a(i)]}const av=(e,n,t=3)=>{let r=0;const i=gue(50,250);return bue(s=>{const a=s.loaded,l=s.lengthComputable?s.total:void 0,c=a-r,d=i(c),h=a<=l;r=a;const g={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&h?(l-a)/d:void 0,event:s,lengthComputable:l!=null,[n?"download":"upload"]:!0};e(g)},t)},cj=(e,n)=>{const t=e!=null;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},dj=e=>(...n)=>ot.asap(()=>e(...n)),yue=Ua.hasStandardBrowserEnv?((e,n)=>t=>(t=new URL(t,Ua.origin),e.protocol===t.protocol&&e.host===t.host&&(n||e.port===t.port)))(new URL(Ua.origin),Ua.navigator&&/(msie|trident)/i.test(Ua.navigator.userAgent)):()=>!0,xue=Ua.hasStandardBrowserEnv?{write(e,n,t,r,i,s){const a=[e+"="+encodeURIComponent(n)];ot.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),ot.isString(r)&&a.push("path="+r),ot.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vue(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function wue(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function jL(e,n){return e&&!vue(n)?wue(e,n):n}const fj=e=>e instanceof ko?{...e}:e;function op(e,n){n=n||{};const t={};function r(d,h,g,b){return ot.isPlainObject(d)&&ot.isPlainObject(h)?ot.merge.call({caseless:b},d,h):ot.isPlainObject(h)?ot.merge({},h):ot.isArray(h)?h.slice():h}function i(d,h,g,b){if(ot.isUndefined(h)){if(!ot.isUndefined(d))return r(void 0,d,g,b)}else return r(d,h,g,b)}function s(d,h){if(!ot.isUndefined(h))return r(void 0,h)}function a(d,h){if(ot.isUndefined(h)){if(!ot.isUndefined(d))return r(void 0,d)}else return r(void 0,h)}function l(d,h,g){if(g in n)return r(d,h);if(g in e)return r(void 0,d)}const c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(d,h,g)=>i(fj(d),fj(h),g,!0)};return ot.forEach(Object.keys(Object.assign({},e,n)),function(d){const h=c[d]||i,g=h(e[d],n[d],d);ot.isUndefined(g)&&h!==l||(t[d]=g)}),t}const TL=e=>{const n=op({},e);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:l}=n;n.headers=a=ko.from(a),n.url=CL(jL(n.baseURL,n.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(ot.isFormData(t)){if(Ua.hasStandardBrowserEnv||Ua.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[d,...h]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];a.setContentType([d||"multipart/form-data",...h].join("; "))}}if(Ua.hasStandardBrowserEnv&&(r&&ot.isFunction(r)&&(r=r(n)),r||r!==!1&&yue(n.url))){const d=i&&s&&xue.read(s);d&&a.set(i,d)}return n},Sue=typeof XMLHttpRequest<"u",Aue=Sue&&function(e){return new Promise(function(n,t){const r=TL(e);let i=r.data;const s=ko.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=r,d,h,g,b,m;function x(){b&&b(),m&&m(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout;function A(){if(!y)return;const C=ko.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:C,config:e,request:y};NL(function(R){n(R),x()},function(R){t(R),x()},k),y=null}"onloadend"in y?y.onloadend=A:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(A)},y.onabort=function(){y&&(t(new Tn("Request aborted",Tn.ECONNABORTED,e,y)),y=null)},y.onerror=function(){t(new Tn("Network Error",Tn.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let C=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const k=r.transitional||EL;r.timeoutErrorMessage&&(C=r.timeoutErrorMessage),t(new Tn(C,k.clarifyTimeoutError?Tn.ETIMEDOUT:Tn.ECONNABORTED,e,y)),y=null},i===void 0&&s.setContentType(null),"setRequestHeader"in y&&ot.forEach(s.toJSON(),function(C,k){y.setRequestHeader(k,C)}),ot.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),a&&a!=="json"&&(y.responseType=r.responseType),c&&([g,m]=av(c,!0),y.addEventListener("progress",g)),l&&y.upload&&([h,b]=av(l),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",b)),(r.cancelToken||r.signal)&&(d=C=>{y&&(t(!C||C.type?new dm(null,e,y):C),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const w=mue(r.url);if(w&&Ua.protocols.indexOf(w)===-1){t(new Tn("Unsupported protocol "+w+":",Tn.ERR_BAD_REQUEST,e));return}y.send(i||null)})},Cue=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let r=new AbortController,i;const s=function(d){if(!i){i=!0,l();const h=d instanceof Error?d:this.reason;r.abort(h instanceof Tn?h:new dm(h instanceof Error?h.message:h))}};let a=n&&setTimeout(()=>{a=null,s(new Tn(`timeout ${n} of ms exceeded`,Tn.ETIMEDOUT))},n);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),e=null)};e.forEach(d=>d.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>ot.asap(l),c}},Eue=function*(e,n){let t=e.byteLength;if(t<n){yield e;return}let r=0,i;for(;r<t;)i=r+n,yield e.slice(r,i),r=i},_ue=async function*(e,n){for await(const t of kue(e))yield*Eue(t,n)},kue=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:t,value:r}=await n.read();if(t)break;yield r}}finally{await n.cancel()}},hj=(e,n,t,r)=>{const i=_ue(e,n);let s=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await i.next();if(d){l(),c.close();return}let g=h.byteLength;if(t){let b=s+=g;t(b)}c.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},a2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",OL=a2&&typeof ReadableStream=="function",Nue=a2&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),IL=(e,...n)=>{try{return!!e(...n)}catch{return!1}},jue=OL&&IL(()=>{let e=!1;const n=new Request(Ua.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),pj=64*1024,m6=OL&&IL(()=>ot.isReadableStream(new Response("").body)),ov={stream:m6&&(e=>e.body)};a2&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!ov[n]&&(ov[n]=ot.isFunction(e[n])?t=>t[n]():(t,r)=>{throw new Tn(`Response type '${n}' is not supported`,Tn.ERR_NOT_SUPPORT,r)})})})(new Response);const Tue=async e=>{if(e==null)return 0;if(ot.isBlob(e))return e.size;if(ot.isSpecCompliantForm(e))return(await new Request(Ua.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ot.isArrayBufferView(e)||ot.isArrayBuffer(e))return e.byteLength;if(ot.isURLSearchParams(e)&&(e=e+""),ot.isString(e))return(await Nue(e)).byteLength},Oue=async(e,n)=>ot.toFiniteNumber(e.getContentLength())??Tue(n),Iue=a2&&(async e=>{let{url:n,method:t,data:r,signal:i,cancelToken:s,timeout:a,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:h,withCredentials:g="same-origin",fetchOptions:b}=TL(e);d=d?(d+"").toLowerCase():"text";let m=Cue([i,s&&s.toAbortSignal()],a),x;const y=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let A;try{if(c&&jue&&t!=="get"&&t!=="head"&&(A=await Oue(h,r))!==0){let q=new Request(n,{method:"POST",body:r,duplex:"half"}),D;if(ot.isFormData(r)&&(D=q.headers.get("content-type"))&&h.setContentType(D),q.body){const[N,P]=cj(A,av(dj(c)));r=hj(q.body,pj,N,P)}}ot.isString(g)||(g=g?"include":"omit");const w="credentials"in Request.prototype;x=new Request(n,{...b,signal:m,method:t.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:w?g:void 0});let C=await fetch(x);const k=m6&&(d==="stream"||d==="response");if(m6&&(l||k&&y)){const q={};["status","statusText","headers"].forEach(z=>{q[z]=C[z]});const D=ot.toFiniteNumber(C.headers.get("content-length")),[N,P]=l&&cj(D,av(dj(l),!0))||[];C=new Response(hj(C.body,pj,N,()=>{P&&P(),y&&y()}),q)}d=d||"text";let R=await ov[ot.findKey(ov,d)||"text"](C,e);return!k&&y&&y(),await new Promise((q,D)=>{NL(q,D,{data:R,headers:ko.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:x})})}catch(w){throw y&&y(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new Tn("Network Error",Tn.ERR_NETWORK,e,x),{cause:w.cause||w}):Tn.from(w,w&&w.code,e,x)}}),g6={http:Yle,xhr:Aue,fetch:Iue};ot.forEach(g6,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const mj=e=>`- ${e}`,Due=e=>ot.isFunction(e)||e===null||e===!1,DL={getAdapter:e=>{e=ot.isArray(e)?e:[e];const{length:n}=e;let t,r;const i={};for(let s=0;s<n;s++){t=e[s];let a;if(r=t,!Due(t)&&(r=g6[(a=String(t)).toLowerCase()],r===void 0))throw new Tn(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=n?s.length>1?`since :
`+s.map(mj).join(`
`):" "+mj(s[0]):"as no adapter specified";throw new Tn("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:g6};function $w(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new dm(null,e)}function gj(e){return $w(e),e.headers=ko.from(e.headers),e.data=Uw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),DL.getAdapter(e.adapter||pb.adapter)(e).then(function(n){return $w(e),n.data=Uw.call(e,e.transformResponse,n),n.headers=ko.from(n.headers),n},function(n){return kL(n)||($w(e),n&&n.response&&(n.response.data=Uw.call(e,e.transformResponse,n.response),n.response.headers=ko.from(n.response.headers))),Promise.reject(n)})}const LL="1.7.9",o2={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{o2[e]=function(t){return typeof t===e||"a"+(n<1?"n ":" ")+e}});const bj={};o2.transitional=function(e,n,t){function r(i,s){return"[Axios v"+LL+"] Transitional option '"+i+"'"+s+(t?". "+t:"")}return(i,s,a)=>{if(e===!1)throw new Tn(r(s," has been removed"+(n?" in "+n:"")),Tn.ERR_DEPRECATED);return n&&!bj[s]&&(bj[s]=!0,console.warn(r(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,s,a):!0}};o2.spelling=function(e){return(n,t)=>(console.warn(`${t} is likely a misspelling of ${e}`),!0)};function Lue(e,n,t){if(typeof e!="object")throw new Tn("options must be an object",Tn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],a=n[s];if(a){const l=e[s],c=l===void 0||a(l,s,e);if(c!==!0)throw new Tn("option "+s+" must be "+c,Tn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Tn("Unknown option "+s,Tn.ERR_BAD_OPTION)}}const Cx={assertOptions:Lue,validators:o2},cc=Cx.validators;let Xh=class{constructor(n){this.defaults=n,this.interceptors={request:new lj,response:new lj}}async request(n,t){try{return await this._request(n,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=op(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&Cx.assertOptions(r,{silentJSONParsing:cc.transitional(cc.boolean),forcedJSONParsing:cc.transitional(cc.boolean),clarifyTimeoutError:cc.transitional(cc.boolean)},!1),i!=null&&(ot.isFunction(i)?t.paramsSerializer={serialize:i}:Cx.assertOptions(i,{encode:cc.function,serialize:cc.function},!0)),Cx.assertOptions(t,{baseUrl:cc.spelling("baseURL"),withXsrfToken:cc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&ot.merge(s.common,s[t.method]);s&&ot.forEach(["delete","get","head","post","put","patch","common"],x=>{delete s[x]}),t.headers=ko.concat(a,s);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let h,g=0,b;if(!c){const x=[gj.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,d),b=x.length,h=Promise.resolve(t);g<b;)h=h.then(x[g++],x[g++]);return h}b=l.length;let m=t;for(g=0;g<b;){const x=l[g++],y=l[g++];try{m=x(m)}catch(A){y.call(this,A);break}}try{h=gj.call(this,m)}catch(x){return Promise.reject(x)}for(g=0,b=d.length;g<b;)h=h.then(d[g++],d[g++]);return h}getUri(n){n=op(this.defaults,n);const t=jL(n.baseURL,n.url);return CL(t,n.params,n.paramsSerializer)}};ot.forEach(["delete","get","head","options"],function(e){Xh.prototype[e]=function(n,t){return this.request(op(t||{},{method:e,url:n,data:(t||{}).data}))}});ot.forEach(["post","put","patch"],function(e){function n(t){return function(r,i,s){return this.request(op(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}Xh.prototype[e]=n(),Xh.prototype[e+"Form"]=n(!0)});let Rue=class RL{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(l=>{r.subscribe(l),s=l}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},n(function(i,s,a){r.reason||(r.reason=new dm(i,s,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const n=new AbortController,t=r=>{n.abort(r)};return this.subscribe(t),n.signal.unsubscribe=()=>this.unsubscribe(t),n.signal}static source(){let n;return{token:new RL(function(t){n=t}),cancel:n}}};function Mue(e){return function(n){return e.apply(null,n)}}function Pue(e){return ot.isObject(e)&&e.isAxiosError===!0}const b6={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(b6).forEach(([e,n])=>{b6[n]=e});function ML(e){const n=new Xh(e),t=fL(Xh.prototype.request,n);return ot.extend(t,Xh.prototype,n,{allOwnKeys:!0}),ot.extend(t,n,null,{allOwnKeys:!0}),t.create=function(r){return ML(op(e,r))},t}const Ki=ML(pb);Ki.Axios=Xh;Ki.CanceledError=dm;Ki.CancelToken=Rue;Ki.isCancel=kL;Ki.VERSION=LL;Ki.toFormData=s2;Ki.AxiosError=Tn;Ki.Cancel=Ki.CanceledError;Ki.all=function(e){return Promise.all(e)};Ki.spread=Mue;Ki.isAxiosError=Pue;Ki.mergeConfig=op;Ki.AxiosHeaders=ko;Ki.formToJSON=e=>_L(ot.isHTMLForm(e)?new FormData(e):e);Ki.getAdapter=DL.getAdapter;Ki.HttpStatusCode=b6;Ki.default=Ki;const Fue=async e=>{const n=new FormData;n.append("chatbot_id",e);try{const t=await Ki.post("https://rag-flask-api.onrender.com/start_conversation",n,{headers:{"Content-Type":"multipart/form-data"}}),{conversation_id:r,intro_message:i}=t.data;if(!r)throw new Error("Failed to retrieve conversation ID from server.");return{conversationId:r,introMessage:i}}catch(t){throw console.error("Error starting conversation:",t),t}},que=async(e,n,t)=>{const r=new FormData;r.append("chatbot_id",e),r.append("conversation_id",n),r.append("question",t);try{return(await Ki.post("https://rag-flask-api.onrender.com/ask",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(i){throw console.error("Error sending message:",i),i}},zue=async(e,n)=>{const t=new FormData;t.append("chatbot_id",e),t.append("conversation_id",n);try{await Ki.post("https://rag-flask-api.onrender.com/end_conversation",t,{headers:{"Content-Type":"multipart/form-data"}})}catch(r){throw console.error("Error ending conversation:",r),r}},Bue=async e=>{try{const n=await Ki.get(`https://rag-flask-api.onrender.com/summary/${e}`);if(n.status===200&&n.data.summary)return n.data.summary;throw new Error("Summary not found for this chatbot.")}catch(n){throw console.error("Error fetching summary:",n),n}},Uue=({chatbotId:e,open:n,onClose:t})=>{const[r,i]=K.useState(null),[s,a]=K.useState(!1),[l,c]=K.useState(null),d=async()=>{a(!0),c(null);try{const h=await Bue(e);i(h)}catch(h){c(h.message||"Failed to fetch summary. Please try again.")}finally{a(!1)}};return K.useEffect(()=>{n&&d()},[n]),xn.jsx(Tx,{open:n,onClose:t,"aria-labelledby":"summary-modal-title","aria-describedby":"summary-modal-description",children:xn.jsxs(be,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:600,bgcolor:"background.paper",borderRadius:4,boxShadow:24,p:4},children:[xn.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[xn.jsx(ce,{id:"summary-modal-title",variant:"h6",component:"h2",children:"Document Summary"}),xn.jsx(mn,{onClick:t,children:xn.jsx(ole,{})})]}),s?xn.jsx(be,{sx:{display:"flex",justifyContent:"center",my:4},children:xn.jsx(Pr,{})}):l?xn.jsx(ce,{color:"error",children:l}):xn.jsx(be,{sx:{maxHeight:300,overflowY:"auto",padding:2,border:"1px solid #ddd",borderRadius:2,backgroundColor:"#f9f9f9"},children:xn.jsx(NA,{children:r})}),xn.jsx(at,{variant:"contained",sx:{mt:2},onClick:t,fullWidth:!0,children:"Close"})]})})},$ue=K.forwardRef(({chatbotId:e,onConversationStart:n},t)=>{const[r,i]=K.useState(!1),[s,a]=K.useState(()=>{const D=localStorage.getItem("responses");return D?JSON.parse(D):[]}),[l,c]=K.useState(()=>localStorage.getItem("conversationId")||null),[d,h]=K.useState(!1),[g,b]=K.useState(null),[m,x]=K.useState(!1),y=J1("(max-width:600px)"),A=J1("(min-width:601px) and (max-width:960px)"),w=K.useRef(null);K.useEffect(()=>{typeof n=="function"&&l&&n(l)},[l,n]),K.useEffect(()=>{w.current&&w.current.scrollIntoView({behavior:"smooth"})},[s]);const C=async()=>{i(D=>!D),!r&&!l&&!d&&k()},k=async()=>{if(!l){h(!0),b(null);try{const D=await Fue(e),{conversationId:N,introMessage:P}=D;c(N),localStorage.setItem("conversationId",N),a(z=>{const X=[...z,{id:"intro",sender:"chatbot",text:P}];return localStorage.setItem("responses",JSON.stringify(X)),X})}catch(D){console.error("Error starting conversation:",D),b("Failed to start a conversation. Please try again.")}finally{h(!1)}}},R=async(D,N=l)=>{h(!0),b(null);try{const P=await que(e,N,D);a(z=>{const X=[...z,{question:D,answer:P.answer}];return localStorage.setItem("responses",JSON.stringify(X)),X})}catch(P){console.error("Error sending message:",P),b("Failed to send the message. Please try again.")}finally{h(!1)}},q=async()=>{h(!0),b(null);try{l&&await zue(e,l),c(null),a([]),localStorage.removeItem("conversationId"),localStorage.removeItem("responses")}catch(D){console.error("Error ending conversation:",D),b("Failed to end the conversation. Please try again.")}finally{h(!1)}};return K.useImperativeHandle(t,()=>({endConversation:q})),xn.jsx(xn.Fragment,{children:r?xn.jsxs(On,{elevation:3,sx:qw.chatContainer(y,A),children:[xn.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[xn.jsx(ce,{sx:qw.chatHeader,children:"PAT (Personalized Academic Tutor)"}),xn.jsx(mn,{onClick:C,sx:{color:"black"},children:"X"})]}),xn.jsx(rle,{responses:s}),xn.jsx("div",{ref:w}),d&&xn.jsx(il,{sx:{position:"absolute",top:0,left:0,width:"100%"}}),g&&xn.jsx(ce,{color:"error",children:g}),xn.jsx(ile,{onSendMessage:R,onStartConversation:k,onEndConversation:q,conversationId:l}),xn.jsx(at,{variant:"outlined",onClick:()=>x(!0),sx:{mt:2},children:"View Summary"}),xn.jsx(Uue,{chatbotId:e,open:m,onClose:()=>x(!1)})]}):xn.jsx(mn,{onClick:C,sx:qw.chatToggleButton,children:xn.jsx(nle,{fontSize:"large"})})})});class Hue extends K.Component{constructor(n){super(n),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(n){console.error("Error caught by ErrorBoundary:",n)}render(){return this.state.hasError?f.jsx("h2",{children:"Something went wrong while loading the Chatbot."}):this.props.children}}const PL=K.forwardRef(({chatbotId:e},n)=>{const{userDetails:t}=Ii(),r=K.useRef(null),[i,s]=K.useState(!1),a=async l=>{if(console.log(` Chatbot started. Chatbot ID: ${e}, Conversation ID: ${l}`),t!=null&&t.uid)try{await ST(fn(zT,"conversations",l),{conversationId:l,chatbotId:e,userId:t.uid,startedAt:new Date().toISOString()},{merge:!0}),console.log("Conversation saved to Firestore")}catch(c){console.error("Failed to save conversation:",c)}};return K.useImperativeHandle(n,()=>({endConversation:()=>{r.current&&(console.log("Ending chatbot conversation..."),r.current.endConversation())}})),f.jsx(be,{sx:{position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-end"},children:f.jsxs(be,{sx:{background:i?"rgba(255, 255, 255, 0.95)":"#00695c",borderRadius:4,boxShadow:i?"0 8px 32px rgba(0, 0, 0, 0.12)":"0 2px 8px rgba(0, 0, 0, 0.15)",overflow:"hidden",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:i?"1px solid #e0e0e0":"none",minWidth:i?400:"auto",maxWidth:i?450:"auto"},children:[f.jsxs(at,{variant:"text",onClick:()=>s(!i),sx:{background:i?"#00695c !important":"transparent !important",backgroundColor:i?"#00695c !important":"transparent !important",color:"white !important",px:2.5,py:1.5,borderRadius:i?"16px 16px 0 0":3,textTransform:"none",display:"flex",alignItems:"center",gap:1.5,minWidth:"auto",width:"100%",justifyContent:"flex-start","&:hover":{background:"#004d40 !important",backgroundColor:"#004d40 !important",boxShadow:i?"none":"0px 4px 12px rgba(0, 105, 92, 0.3)"},"&:active":{background:"#004d40 !important",backgroundColor:"#004d40 !important"},"&:focus":{background:i?"#00695c !important":"#004d40 !important",backgroundColor:i?"#00695c !important":"#004d40 !important"},"&.Mui-focusVisible":{background:i?"#00695c !important":"#004d40 !important",backgroundColor:i?"#00695c !important":"#004d40 !important"},transition:"all 0.2s ease-in-out"},children:[f.jsx(VR,{sx:{fontSize:"1.5rem"}}),f.jsxs(be,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",lineHeight:1,flex:1},children:[f.jsx(ce,{variant:"body1",sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",fontWeight:"bold",mb:0,lineHeight:1.1},children:"Chat with PAT"}),f.jsx(ce,{variant:"caption",sx:{fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",opacity:.9,lineHeight:1,mt:.2},children:"AI Tutor"})]}),i?f.jsx(dv,{sx:{fontSize:"1.2rem"}}):f.jsx(Rl,{sx:{fontSize:"1.2rem"}})]}),f.jsx(fv,{in:i,timeout:300,easing:{enter:"cubic-bezier(0.4, 0, 0.2, 1)",exit:"cubic-bezier(0.4, 0, 0.6, 1)"},children:f.jsx(be,{sx:{background:"white",borderRadius:"0 0 16px 16px",overflow:"hidden"},children:f.jsx(Hue,{children:f.jsx($ue,{ref:r,chatbotId:e,onConversationStart:a})})})})]})})});PL.displayName="ChatbotWrapper";const q1="ce5f7921-a3a0-4ea7-b95f-10fe41becda5",Wue=()=>{const[e,n]=K.useState(q1),[t]=Yg(),r=K.useRef(null);return K.useEffect(()=>{const i=t.get("material");if(!i){e!==q1&&n(q1);return}(async()=>{var h;console.log("Fetching chatbot ID for material:",i);const a=Xn(),l=Sn(a,"chatbots"),c=No(l,Oi("material.id","==",i)),d=await Si(c);if(d.empty)console.log(` No chatbot found for material ${i}, using default:`,q1),n(q1);else{const g=d.docs[0].data();console.log(` Found chatbot for material ${i}:`,g.chatbotId),g.chatbotId!==e&&((h=r.current)==null||h.endConversation()),n(g.chatbotId)}})()},[t,e]),f.jsx(be,{sx:{position:"fixed",bottom:16,right:16,zIndex:1100},children:f.jsx(PL,{ref:r,chatbotId:e})})};function mb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Fd(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var yj={exports:{}},z1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xj;function Vue(){if(xj)return z1;xj=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:a,ref:i!==void 0?i:null,props:s}}return z1.Fragment=n,z1.jsx=t,z1.jsxs=t,z1}var vj;function gb(){return vj||(vj=1,yj.exports=Vue()),yj.exports}var Yt=gb(),B1={},wj={exports:{}},Sj;function fm(){return Sj||(Sj=1,function(e){function n(t){return t&&t.__esModule?t:{default:t}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(wj)),wj.exports}var Aj={};function ei(){return ei=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ei.apply(null,arguments)}function jf(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function FL(e){if(K.isValidElement(e)||!jf(e))return e;const n={};return Object.keys(e).forEach(t=>{n[t]=FL(e[t])}),n}function Rc(e,n,t={clone:!0}){const r=t.clone?ei({},e):e;return jf(e)&&jf(n)&&Object.keys(n).forEach(i=>{K.isValidElement(n[i])?r[i]=n[i]:jf(n[i])&&Object.prototype.hasOwnProperty.call(e,i)&&jf(e[i])?r[i]=Rc(e[i],n[i],t):t.clone?r[i]=jf(n[i])?FL(n[i]):n[i]:r[i]=n[i]}),r}const Yue=Object.freeze(Object.defineProperty({__proto__:null,default:Rc,isPlainObject:jf},Symbol.toStringTag,{value:"Module"}));function Pg(e){let n="https://mui.com/production-error/?code="+e;for(let t=1;t<arguments.length;t+=1)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+e+"; visit "+n+" for the full message."}const Gue=Object.freeze(Object.defineProperty({__proto__:null,default:Pg},Symbol.toStringTag,{value:"Module"}));var Cj={exports:{}},Zr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ej;function Que(){if(Ej)return Zr;Ej=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function x(y){if(typeof y=="object"&&y!==null){var A=y.$$typeof;switch(A){case e:switch(y=y.type,y){case t:case i:case r:case c:case d:case b:return y;default:switch(y=y&&y.$$typeof,y){case a:case l:case g:case h:return y;case s:return y;default:return A}}case n:return A}}}return Zr.ContextConsumer=s,Zr.ContextProvider=a,Zr.Element=e,Zr.ForwardRef=l,Zr.Fragment=t,Zr.Lazy=g,Zr.Memo=h,Zr.Portal=n,Zr.Profiler=i,Zr.StrictMode=r,Zr.Suspense=c,Zr.SuspenseList=d,Zr.isContextConsumer=function(y){return x(y)===s},Zr.isContextProvider=function(y){return x(y)===a},Zr.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Zr.isForwardRef=function(y){return x(y)===l},Zr.isFragment=function(y){return x(y)===t},Zr.isLazy=function(y){return x(y)===g},Zr.isMemo=function(y){return x(y)===h},Zr.isPortal=function(y){return x(y)===n},Zr.isProfiler=function(y){return x(y)===i},Zr.isStrictMode=function(y){return x(y)===r},Zr.isSuspense=function(y){return x(y)===c},Zr.isSuspenseList=function(y){return x(y)===d},Zr.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===i||y===r||y===c||y===d||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===h||y.$$typeof===a||y.$$typeof===s||y.$$typeof===l||y.$$typeof===m||y.getModuleId!==void 0)},Zr.typeOf=x,Zr}var _j;function Kue(){return _j||(_j=1,Cj.exports=Que()),Cj.exports}var kj=Kue();const Xue=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function qL(e){const n=`${e}`.match(Xue);return n&&n[1]||""}function zL(e,n=""){return e.displayName||e.name||qL(e)||n}function Nj(e,n,t){const r=zL(n);return e.displayName||(r!==""?`${t}(${r})`:t)}function Zue(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return zL(e,"Component");if(typeof e=="object")switch(e.$$typeof){case kj.ForwardRef:return Nj(e,e.render,"ForwardRef");case kj.Memo:return Nj(e,e.type,"memo");default:return}}}const Jue=Object.freeze(Object.defineProperty({__proto__:null,default:Zue,getFunctionName:qL},Symbol.toStringTag,{value:"Module"}));function Kf(e){if(typeof e!="string")throw new Error(Pg(7));return e.charAt(0).toUpperCase()+e.slice(1)}const ece=Object.freeze(Object.defineProperty({__proto__:null,default:Kf},Symbol.toStringTag,{value:"Module"}));function tce(...e){return e.reduce((n,t)=>t==null?n:function(...r){n.apply(this,r),t.apply(this,r)},()=>{})}function nce(e,n=166){let t;function r(...i){const s=()=>{e.apply(this,i)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=()=>{clearTimeout(t)},r}function rce(e,n){return()=>null}function ice(e,n){var t,r;return K.isValidElement(e)&&n.indexOf((t=e.type.muiName)!=null?t:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function BL(e){return e&&e.ownerDocument||document}function sce(e){return BL(e).defaultView||window}function ace(e,n){return()=>null}function UL(e,n){typeof e=="function"?e(n):e&&(e.current=n)}const $L=typeof window<"u"?K.useLayoutEffect:K.useEffect;let jj=0;function oce(e){const[n,t]=K.useState(e),r=e||n;return K.useEffect(()=>{n==null&&(jj+=1,t(`mui-${jj}`))},[n]),r}const Tj=K.useId;function lce(e){if(Tj!==void 0){const n=Tj();return e??n}return oce(e)}function uce(e,n,t,r,i){return null}function cce({controlled:e,default:n,name:t,state:r="value"}){const{current:i}=K.useRef(e!==void 0),[s,a]=K.useState(n),l=i?e:s,c=K.useCallback(d=>{i||a(d)},[]);return[l,c]}function dce(e){const n=K.useRef(e);return $L(()=>{n.current=e}),K.useRef((...t)=>(0,n.current)(...t)).current}function fce(...e){return K.useMemo(()=>e.every(n=>n==null)?null:n=>{e.forEach(t=>{UL(t,n)})},e)}class BA{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new BA}start(n,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},n)}}let l2=!0,y6=!1;const hce=new BA,pce={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function mce(e){const{type:n,tagName:t}=e;return!!(t==="INPUT"&&pce[n]&&!e.readOnly||t==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function gce(e){e.metaKey||e.altKey||e.ctrlKey||(l2=!0)}function Hw(){l2=!1}function bce(){this.visibilityState==="hidden"&&y6&&(l2=!0)}function yce(e){e.addEventListener("keydown",gce,!0),e.addEventListener("mousedown",Hw,!0),e.addEventListener("pointerdown",Hw,!0),e.addEventListener("touchstart",Hw,!0),e.addEventListener("visibilitychange",bce,!0)}function xce(e){const{target:n}=e;try{return n.matches(":focus-visible")}catch{}return l2||mce(n)}function vce(){const e=K.useCallback(i=>{i!=null&&yce(i.ownerDocument)},[]),n=K.useRef(!1);function t(){return n.current?(y6=!0,hce.start(100,()=>{y6=!1}),n.current=!1,!0):!1}function r(i){return xce(i)?(n.current=!0,!0):!1}return{isFocusVisibleRef:n,onFocus:r,onBlur:t,ref:e}}function x6(e,n){const t=ei({},n);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=ei({},e[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},s=n[r];t[r]={},!s||!Object.keys(s)?t[r]=i:!i||!Object.keys(i)?t[r]=s:(t[r]=ei({},s),Object.keys(i).forEach(a=>{t[r][a]=x6(i[a],s[a])}))}else t[r]===void 0&&(t[r]=e[r])}),t}function wce(e,n,t=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((s,a)=>{if(a){const l=n(a);l!==""&&s.push(l),t&&t[a]&&s.push(t[a])}return s},[]).join(" ")}),r}const Oj=e=>e,Sce=()=>{let e=Oj;return{configure(n){e=n},generate(n){return e(n)},reset(){e=Oj}}},HL=Sce(),Ace={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function WL(e,n,t="Mui"){const r=Ace[n];return r?`${t}-${r}`:`${HL.generate(e)}-${n}`}function Cce(e,n,t="Mui"){const r={};return n.forEach(i=>{r[i]=WL(e,i,t)}),r}function Ece(e,n=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(n,Math.min(e,t))}const _ce=Object.freeze(Object.defineProperty({__proto__:null,default:Ece},Symbol.toStringTag,{value:"Module"}));function rh(e,n){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;t[r]=e[r]}return t}function VL(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(t=VL(e[n]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function kce(){for(var e,n,t=0,r="",i=arguments.length;t<i;t++)(e=arguments[t])&&(n=VL(e))&&(r&&(r+=" "),r+=n);return r}const Nce=K.createContext(void 0);function jce(e){const{theme:n,name:t,props:r}=e;if(!n||!n.components||!n.components[t])return r;const i=n.components[t];return i.defaultProps?x6(i.defaultProps,r):!i.styleOverrides&&!i.variants?x6(i,r):r}function Tce({props:e,name:n}){const t=K.useContext(Nce);return jce({props:e,name:n,theme:{components:t}})}function Oce(e){return Tce(e)}var Ih={},Ij={exports:{}},Dj;function Ice(){return Dj||(Dj=1,function(e){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(Ij)),Ij.exports}var Lj={exports:{}},Rj;function Dce(){return Rj||(Rj=1,function(e){function n(t,r){if(t==null)return{};var i={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;i[s]=t[s]}return i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(Lj)),Lj.exports}function Lce(e){for(var n=0,t,r=0,i=e.length;i>=4;++r,i-=4)t=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,n=(t&65535)*1540483477+((t>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(i){case 3:n^=(e.charCodeAt(r+2)&255)<<16;case 2:n^=(e.charCodeAt(r+1)&255)<<8;case 1:n^=e.charCodeAt(r)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}var Rce={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Mce(e){var n=Object.create(null);return function(t){return n[t]===void 0&&(n[t]=e(t)),n[t]}}var Pce=/[A-Z]|^ms/g,Fce=/_EMO_([^_]+?)_([^]*?)_EMO_/g,YL=function(e){return e.charCodeAt(1)===45},Mj=function(e){return e!=null&&typeof e!="boolean"},Ww=Mce(function(e){return YL(e)?e:e.replace(Pce,"-$&").toLowerCase()}),Pj=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Fce,function(t,r,i){return Mf={name:r,styles:i,next:Mf},r})}return Rce[e]!==1&&!YL(e)&&typeof n=="number"&&n!==0?n+"px":n};function lv(e,n,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Mf={name:i.name,styles:i.styles,next:Mf},i.name;var s=t;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)Mf={name:a.name,styles:a.styles,next:Mf},a=a.next;var l=s.styles+";";return l}return qce(e,n,t)}}var c=t;return c}function qce(e,n,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=lv(e,n,t[i])+";";else for(var s in t){var a=t[s];if(typeof a!="object"){var l=a;Mj(l)&&(r+=Ww(s)+":"+Pj(s,l)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&n==null)for(var c=0;c<a.length;c++)Mj(a[c])&&(r+=Ww(s)+":"+Pj(s,a[c])+";");else{var d=lv(e,n,a);switch(s){case"animation":case"animationName":{r+=Ww(s)+":"+d+";";break}default:r+=s+"{"+d+"}"}}}return r}var Fj=/label:\s*([^\s;{]+)\s*(;|$)/g,Mf;function zce(e,n,t){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Mf=void 0;var s=e[0];if(s==null||s.raw===void 0)r=!1,i+=lv(t,n,s);else{var a=s;i+=a[0]}for(var l=1;l<e.length;l++)if(i+=lv(t,n,e[l]),r){var c=s;i+=c[l]}Fj.lastIndex=0;for(var d="",h;(h=Fj.exec(i))!==null;)d+="-"+h[1];var g=Lce(i)+d;return{name:g,styles:i,next:Mf}}function Bce(e){if(e.sheet)return e.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===e)return document.styleSheets[n]}function Uce(e){var n=document.createElement("style");return n.setAttribute("data-emotion",e.key),e.nonce!==void 0&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var $ce=function(){function e(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var n=e.prototype;return n.hydrate=function(t){t.forEach(this._insertTag)},n.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Uce(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Bce(r);try{i.insertRule(t,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(t));this.ctr++},n.flush=function(){this.tags.forEach(function(t){var r;return(r=t.parentNode)==null?void 0:r.removeChild(t)}),this.tags=[],this.ctr=0},e}(),Ma="-ms-",uv="-moz-",Ar="-webkit-",GL="comm",UA="rule",$A="decl",Hce="@import",QL="@keyframes",Wce="@layer",Vce=Math.abs,u2=String.fromCharCode,Yce=Object.assign;function Gce(e,n){return ga(e,0)^45?(((n<<2^ga(e,0))<<2^ga(e,1))<<2^ga(e,2))<<2^ga(e,3):0}function KL(e){return e.trim()}function Qce(e,n){return(e=n.exec(e))?e[0]:e}function Er(e,n,t){return e.replace(n,t)}function v6(e,n){return e.indexOf(n)}function ga(e,n){return e.charCodeAt(n)|0}function Fg(e,n,t){return e.slice(n,t)}function yc(e){return e.length}function HA(e){return e.length}function Ky(e,n){return n.push(e),e}function Kce(e,n){return e.map(n).join("")}var c2=1,J0=1,XL=0,To=0,qs=0,hm="";function d2(e,n,t,r,i,s,a){return{value:e,root:n,parent:t,type:r,props:i,children:s,line:c2,column:J0,length:a,return:""}}function U1(e,n){return Yce(d2("",null,null,"",null,null,0),e,{length:-e.length},n)}function Xce(){return qs}function Zce(){return qs=To>0?ga(hm,--To):0,J0--,qs===10&&(J0=1,c2--),qs}function ll(){return qs=To<XL?ga(hm,To++):0,J0++,qs===10&&(J0=1,c2++),qs}function Mc(){return ga(hm,To)}function Ex(){return To}function bb(e,n){return Fg(hm,e,n)}function qg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ZL(e){return c2=J0=1,XL=yc(hm=e),To=0,[]}function JL(e){return hm="",e}function _x(e){return KL(bb(To-1,w6(e===91?e+2:e===40?e+1:e)))}function Jce(e){for(;(qs=Mc())&&qs<33;)ll();return qg(e)>2||qg(qs)>3?"":" "}function ede(e,n){for(;--n&&ll()&&!(qs<48||qs>102||qs>57&&qs<65||qs>70&&qs<97););return bb(e,Ex()+(n<6&&Mc()==32&&ll()==32))}function w6(e){for(;ll();)switch(qs){case e:return To;case 34:case 39:e!==34&&e!==39&&w6(qs);break;case 40:e===41&&w6(e);break;case 92:ll();break}return To}function tde(e,n){for(;ll()&&e+qs!==57&&!(e+qs===84&&Mc()===47););return"/*"+bb(n,To-1)+"*"+u2(e===47?e:ll())}function nde(e){for(;!qg(Mc());)ll();return bb(e,To)}function rde(e){return JL(kx("",null,null,null,[""],e=ZL(e),0,[0],e))}function kx(e,n,t,r,i,s,a,l,c){for(var d=0,h=0,g=a,b=0,m=0,x=0,y=1,A=1,w=1,C=0,k="",R=i,q=s,D=r,N=k;A;)switch(x=C,C=ll()){case 40:if(x!=108&&ga(N,g-1)==58){v6(N+=Er(_x(C),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:N+=_x(C);break;case 9:case 10:case 13:case 32:N+=Jce(x);break;case 92:N+=ede(Ex()-1,7);continue;case 47:switch(Mc()){case 42:case 47:Ky(ide(tde(ll(),Ex()),n,t),c);break;default:N+="/"}break;case 123*y:l[d++]=yc(N)*w;case 125*y:case 59:case 0:switch(C){case 0:case 125:A=0;case 59+h:w==-1&&(N=Er(N,/\f/g,"")),m>0&&yc(N)-g&&Ky(m>32?zj(N+";",r,t,g-1):zj(Er(N," ","")+";",r,t,g-2),c);break;case 59:N+=";";default:if(Ky(D=qj(N,n,t,d,h,i,l,k,R=[],q=[],g),s),C===123)if(h===0)kx(N,n,D,D,R,s,g,l,q);else switch(b===99&&ga(N,3)===110?100:b){case 100:case 108:case 109:case 115:kx(e,D,D,r&&Ky(qj(e,D,D,0,0,i,l,k,i,R=[],g),q),i,q,g,l,r?R:q);break;default:kx(N,D,D,D,[""],q,0,l,q)}}d=h=m=0,y=w=1,k=N="",g=a;break;case 58:g=1+yc(N),m=x;default:if(y<1){if(C==123)--y;else if(C==125&&y++==0&&Zce()==125)continue}switch(N+=u2(C),C*y){case 38:w=h>0?1:(N+="\f",-1);break;case 44:l[d++]=(yc(N)-1)*w,w=1;break;case 64:Mc()===45&&(N+=_x(ll())),b=Mc(),h=g=yc(k=N+=nde(Ex())),C++;break;case 45:x===45&&yc(N)==2&&(y=0)}}return s}function qj(e,n,t,r,i,s,a,l,c,d,h){for(var g=i-1,b=i===0?s:[""],m=HA(b),x=0,y=0,A=0;x<r;++x)for(var w=0,C=Fg(e,g+1,g=Vce(y=a[x])),k=e;w<m;++w)(k=KL(y>0?b[w]+" "+C:Er(C,/&\f/g,b[w])))&&(c[A++]=k);return d2(e,n,t,i===0?UA:l,c,d,h)}function ide(e,n,t){return d2(e,n,t,GL,u2(Xce()),Fg(e,2,-2),0)}function zj(e,n,t,r){return d2(e,n,t,$A,Fg(e,0,r),Fg(e,r+1,-1),r)}function F0(e,n){for(var t="",r=HA(e),i=0;i<r;i++)t+=n(e[i],i,e,n)||"";return t}function sde(e,n,t,r){switch(e.type){case Wce:if(e.children.length)break;case Hce:case $A:return e.return=e.return||e.value;case GL:return"";case QL:return e.return=e.value+"{"+F0(e.children,r)+"}";case UA:e.value=e.props.join(",")}return yc(t=F0(e.children,r))?e.return=e.value+"{"+t+"}":""}function ade(e){var n=HA(e);return function(t,r,i,s){for(var a="",l=0;l<n;l++)a+=e[l](t,r,i,s)||"";return a}}function ode(e){return function(n){n.root||(n=n.return)&&e(n)}}var lde=function(e,n,t){for(var r=0,i=0;r=i,i=Mc(),r===38&&i===12&&(n[t]=1),!qg(i);)ll();return bb(e,To)},ude=function(e,n){var t=-1,r=44;do switch(qg(r)){case 0:r===38&&Mc()===12&&(n[t]=1),e[t]+=lde(To-1,n,t);break;case 2:e[t]+=_x(r);break;case 4:if(r===44){e[++t]=Mc()===58?"&\f":"",n[t]=e[t].length;break}default:e[t]+=u2(r)}while(r=ll());return e},cde=function(e,n){return JL(ude(ZL(e),n))},Bj=new WeakMap,dde=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,t=e.parent,r=e.column===t.column&&e.line===t.line;t.type!=="rule";)if(t=t.parent,!t)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Bj.get(t))&&!r){Bj.set(e,!0);for(var i=[],s=cde(n,i),a=t.props,l=0,c=0;l<s.length;l++)for(var d=0;d<a.length;d++,c++)e.props[c]=i[l]?s[l].replace(/&\f/g,a[d]):a[d]+" "+s[l]}}},fde=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function e9(e,n){switch(Gce(e,n)){case 5103:return Ar+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ar+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ar+e+uv+e+Ma+e+e;case 6828:case 4268:return Ar+e+Ma+e+e;case 6165:return Ar+e+Ma+"flex-"+e+e;case 5187:return Ar+e+Er(e,/(\w+).+(:[^]+)/,Ar+"box-$1$2"+Ma+"flex-$1$2")+e;case 5443:return Ar+e+Ma+"flex-item-"+Er(e,/flex-|-self/,"")+e;case 4675:return Ar+e+Ma+"flex-line-pack"+Er(e,/align-content|flex-|-self/,"")+e;case 5548:return Ar+e+Ma+Er(e,"shrink","negative")+e;case 5292:return Ar+e+Ma+Er(e,"basis","preferred-size")+e;case 6060:return Ar+"box-"+Er(e,"-grow","")+Ar+e+Ma+Er(e,"grow","positive")+e;case 4554:return Ar+Er(e,/([^-])(transform)/g,"$1"+Ar+"$2")+e;case 6187:return Er(Er(Er(e,/(zoom-|grab)/,Ar+"$1"),/(image-set)/,Ar+"$1"),e,"")+e;case 5495:case 3959:return Er(e,/(image-set\([^]*)/,Ar+"$1$`$1");case 4968:return Er(Er(e,/(.+:)(flex-)?(.*)/,Ar+"box-pack:$3"+Ma+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ar+e+e;case 4095:case 3583:case 4068:case 2532:return Er(e,/(.+)-inline(.+)/,Ar+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(yc(e)-1-n>6)switch(ga(e,n+1)){case 109:if(ga(e,n+4)!==45)break;case 102:return Er(e,/(.+:)(.+)-([^]+)/,"$1"+Ar+"$2-$3$1"+uv+(ga(e,n+3)==108?"$3":"$2-$3"))+e;case 115:return~v6(e,"stretch")?e9(Er(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(ga(e,n+1)!==115)break;case 6444:switch(ga(e,yc(e)-3-(~v6(e,"!important")&&10))){case 107:return Er(e,":",":"+Ar)+e;case 101:return Er(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ar+(ga(e,14)===45?"inline-":"")+"box$3$1"+Ar+"$2$3$1"+Ma+"$2box$3")+e}break;case 5936:switch(ga(e,n+11)){case 114:return Ar+e+Ma+Er(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ar+e+Ma+Er(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ar+e+Ma+Er(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ar+e+Ma+e+e}return e}var hde=function(e,n,t,r){if(e.length>-1&&!e.return)switch(e.type){case $A:e.return=e9(e.value,e.length);break;case QL:return F0([U1(e,{value:Er(e.value,"@","@"+Ar)})],r);case UA:if(e.length)return Kce(e.props,function(i){switch(Qce(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return F0([U1(e,{props:[Er(i,/:(read-\w+)/,":"+uv+"$1")]})],r);case"::placeholder":return F0([U1(e,{props:[Er(i,/:(plac\w+)/,":"+Ar+"input-$1")]}),U1(e,{props:[Er(i,/:(plac\w+)/,":"+uv+"$1")]}),U1(e,{props:[Er(i,/:(plac\w+)/,Ma+"input-$1")]})],r)}return""})}},pde=[hde],mde=function(e){var n=e.key;if(n==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(x){var y=x.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var r=e.stylisPlugins||pde,i={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var y=x.getAttribute("data-emotion").split(" "),A=1;A<y.length;A++)i[y[A]]=!0;a.push(x)});var l,c=[dde,fde];{var d,h=[sde,ode(function(x){d.insert(x)})],g=ade(c.concat(r,h)),b=function(x){return F0(rde(x),g)};l=function(x,y,A,w){d=A,b(x?x+"{"+y.styles+"}":y.styles),w&&(m.inserted[y.name]=!0)}}var m={key:n,sheet:new $ce({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return m.sheet.hydrate(a),m};function gde(e,n){const t=mde({key:"css",prepend:e});if(n){const r=t.insert;t.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return t}const Vw=new Map;function bde(e){const{injectFirst:n,enableCssLayer:t,children:r}=e,i=K.useMemo(()=>{const s=`${n}-${t}`;if(typeof document=="object"&&Vw.has(s))return Vw.get(s);const a=gde(n,t);return Vw.set(s,a),a},[n,t]);return n||t?Yt.jsx(vT,{value:i,children:r}):r}function yde(e){return e==null||Object.keys(e).length===0}function xde(e){const{styles:n,defaultTheme:t={}}=e,r=typeof n=="function"?i=>n(yde(i)?t:i):n;return Yt.jsx(wT,{styles:r})}/**
 * @mui/styled-engine v5.18.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function vde(e,n){return xT(e,n)}const wde=(e,n)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=n(e.__emotion_styles))},Uj=[];function Sde(e){return Uj[0]=e,zce(Uj)}const Ade=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:xde,StyledEngineProvider:bde,ThemeContext:yT,css:bT,default:vde,internal_processStyles:wde,internal_serializeStyles:Sde,keyframes:gT},Symbol.toStringTag,{value:"Module"})),Cde=Fd(Ade),Ede=Fd(Yue),_de=Fd(ece),kde=Fd(Jue),Nde=["values","unit","step"],jde=e=>{const n=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return n.sort((t,r)=>t.val-r.val),n.reduce((t,r)=>ei({},t,{[r.key]:r.val}),{})};function t9(e){const{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=e,i=rh(e,Nde),s=jde(n),a=Object.keys(s);function l(b){return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t})`}function c(b){return`@media (max-width:${(typeof n[b]=="number"?n[b]:b)-r/100}${t})`}function d(b,m){const x=a.indexOf(m);return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t}) and (max-width:${(x!==-1&&typeof n[a[x]]=="number"?n[a[x]]:m)-r/100}${t})`}function h(b){return a.indexOf(b)+1<a.length?d(b,a[a.indexOf(b)+1]):l(b)}function g(b){const m=a.indexOf(b);return m===0?l(a[1]):m===a.length-1?c(a[m]):d(b,a[a.indexOf(b)+1]).replace("@media","@media not all and")}return ei({keys:a,values:s,up:l,down:c,between:d,only:h,not:g,unit:t},i)}const Tde={borderRadius:4};function ug(e,n){return n?Rc(e,n,{clone:!1}):e}const WA={xs:0,sm:600,md:900,lg:1200,xl:1536},$j={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${WA[e]}px)`};function Ld(e,n,t){const r=e.theme||{};if(Array.isArray(n)){const i=r.breakpoints||$j;return n.reduce((s,a,l)=>(s[i.up(i.keys[l])]=t(n[l]),s),{})}if(typeof n=="object"){const i=r.breakpoints||$j;return Object.keys(n).reduce((s,a)=>{if(Object.keys(i.values||WA).indexOf(a)!==-1){const l=i.up(a);s[l]=t(n[a],a)}else{const l=a;s[l]=n[l]}return s},{})}return t(n)}function Ode(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((t,r)=>{const i=e.up(r);return t[i]={},t},{}))||{}}function Hj(e,n){return e.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},n)}function f2(e,n,t=!0){if(!n||typeof n!="string")return null;if(e&&e.vars&&t){const r=`vars.${n}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(r!=null)return r}return n.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function cv(e,n,t,r=t){let i;return typeof e=="function"?i=e(t):Array.isArray(e)?i=e[t]||r:i=f2(e,t)||r,n&&(i=n(i,r,e)),i}function js(e){const{prop:n,cssProperty:t=e.prop,themeKey:r,transform:i}=e,s=a=>{if(a[n]==null)return null;const l=a[n],c=a.theme,d=f2(c,r)||{};return Ld(a,l,h=>{let g=cv(d,i,h);return h===g&&typeof h=="string"&&(g=cv(d,i,`${n}${h==="default"?"":Kf(h)}`,h)),t===!1?g:{[t]:g}})};return s.propTypes={},s.filterProps=[n],s}function Ide(e){const n={};return t=>(n[t]===void 0&&(n[t]=e(t)),n[t])}const Dde={m:"margin",p:"padding"},Lde={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Wj={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Rde=Ide(e=>{if(e.length>2)if(Wj[e])e=Wj[e];else return[e];const[n,t]=e.split(""),r=Dde[n],i=Lde[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),VA=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],YA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...VA,...YA];function yb(e,n,t,r){var i;const s=(i=f2(e,n,!1))!=null?i:t;return typeof s=="number"?a=>typeof a=="string"?a:s*a:Array.isArray(s)?a=>typeof a=="string"?a:s[a]:typeof s=="function"?s:()=>{}}function n9(e){return yb(e,"spacing",8)}function xb(e,n){if(typeof n=="string"||n==null)return n;const t=Math.abs(n),r=e(t);return n>=0?r:typeof r=="number"?-r:`-${r}`}function Mde(e,n){return t=>e.reduce((r,i)=>(r[i]=xb(n,t),r),{})}function Pde(e,n,t,r){if(n.indexOf(t)===-1)return null;const i=Rde(t),s=Mde(i,r),a=e[t];return Ld(e,a,s)}function r9(e,n){const t=n9(e.theme);return Object.keys(e).map(r=>Pde(e,n,r,t)).reduce(ug,{})}function as(e){return r9(e,VA)}as.propTypes={};as.filterProps=VA;function os(e){return r9(e,YA)}os.propTypes={};os.filterProps=YA;function Fde(e=8){if(e.mui)return e;const n=n9({spacing:e}),t=(...r)=>(r.length===0?[1]:r).map(i=>{const s=n(i);return typeof s=="number"?`${s}px`:s}).join(" ");return t.mui=!0,t}function h2(...e){const n=e.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>n[s]?ug(i,n[s](r)):i,{});return t.propTypes={},t.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Ll(e){return typeof e!="number"?e:`${e}px solid`}function $l(e,n){return js({prop:e,themeKey:"borders",transform:n})}const qde=$l("border",Ll),zde=$l("borderTop",Ll),Bde=$l("borderRight",Ll),Ude=$l("borderBottom",Ll),$de=$l("borderLeft",Ll),Hde=$l("borderColor"),Wde=$l("borderTopColor"),Vde=$l("borderRightColor"),Yde=$l("borderBottomColor"),Gde=$l("borderLeftColor"),Qde=$l("outline",Ll),Kde=$l("outlineColor"),p2=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const n=yb(e.theme,"shape.borderRadius",4),t=r=>({borderRadius:xb(n,r)});return Ld(e,e.borderRadius,t)}return null};p2.propTypes={};p2.filterProps=["borderRadius"];h2(qde,zde,Bde,Ude,$de,Hde,Wde,Vde,Yde,Gde,p2,Qde,Kde);const m2=e=>{if(e.gap!==void 0&&e.gap!==null){const n=yb(e.theme,"spacing",8),t=r=>({gap:xb(n,r)});return Ld(e,e.gap,t)}return null};m2.propTypes={};m2.filterProps=["gap"];const g2=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const n=yb(e.theme,"spacing",8),t=r=>({columnGap:xb(n,r)});return Ld(e,e.columnGap,t)}return null};g2.propTypes={};g2.filterProps=["columnGap"];const b2=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const n=yb(e.theme,"spacing",8),t=r=>({rowGap:xb(n,r)});return Ld(e,e.rowGap,t)}return null};b2.propTypes={};b2.filterProps=["rowGap"];const Xde=js({prop:"gridColumn"}),Zde=js({prop:"gridRow"}),Jde=js({prop:"gridAutoFlow"}),efe=js({prop:"gridAutoColumns"}),tfe=js({prop:"gridAutoRows"}),nfe=js({prop:"gridTemplateColumns"}),rfe=js({prop:"gridTemplateRows"}),ife=js({prop:"gridTemplateAreas"}),sfe=js({prop:"gridArea"});h2(m2,g2,b2,Xde,Zde,Jde,efe,tfe,nfe,rfe,ife,sfe);function q0(e,n){return n==="grey"?n:e}const afe=js({prop:"color",themeKey:"palette",transform:q0}),ofe=js({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:q0}),lfe=js({prop:"backgroundColor",themeKey:"palette",transform:q0});h2(afe,ofe,lfe);function tl(e){return e<=1&&e!==0?`${e*100}%`:e}const ufe=js({prop:"width",transform:tl}),GA=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const n=t=>{var r,i;const s=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||WA[t];return s?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${e.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:tl(t)}};return Ld(e,e.maxWidth,n)}return null};GA.filterProps=["maxWidth"];const cfe=js({prop:"minWidth",transform:tl}),dfe=js({prop:"height",transform:tl}),ffe=js({prop:"maxHeight",transform:tl}),hfe=js({prop:"minHeight",transform:tl});js({prop:"size",cssProperty:"width",transform:tl});js({prop:"size",cssProperty:"height",transform:tl});const pfe=js({prop:"boxSizing"});h2(ufe,GA,cfe,dfe,ffe,hfe,pfe);const vb={border:{themeKey:"borders",transform:Ll},borderTop:{themeKey:"borders",transform:Ll},borderRight:{themeKey:"borders",transform:Ll},borderBottom:{themeKey:"borders",transform:Ll},borderLeft:{themeKey:"borders",transform:Ll},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ll},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:p2},color:{themeKey:"palette",transform:q0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:q0},backgroundColor:{themeKey:"palette",transform:q0},p:{style:os},pt:{style:os},pr:{style:os},pb:{style:os},pl:{style:os},px:{style:os},py:{style:os},padding:{style:os},paddingTop:{style:os},paddingRight:{style:os},paddingBottom:{style:os},paddingLeft:{style:os},paddingX:{style:os},paddingY:{style:os},paddingInline:{style:os},paddingInlineStart:{style:os},paddingInlineEnd:{style:os},paddingBlock:{style:os},paddingBlockStart:{style:os},paddingBlockEnd:{style:os},m:{style:as},mt:{style:as},mr:{style:as},mb:{style:as},ml:{style:as},mx:{style:as},my:{style:as},margin:{style:as},marginTop:{style:as},marginRight:{style:as},marginBottom:{style:as},marginLeft:{style:as},marginX:{style:as},marginY:{style:as},marginInline:{style:as},marginInlineStart:{style:as},marginInlineEnd:{style:as},marginBlock:{style:as},marginBlockStart:{style:as},marginBlockEnd:{style:as},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:m2},rowGap:{style:b2},columnGap:{style:g2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:tl},maxWidth:{style:GA},minWidth:{transform:tl},height:{transform:tl},maxHeight:{transform:tl},minHeight:{transform:tl},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function mfe(...e){const n=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(n);return e.every(r=>t.size===Object.keys(r).length)}function gfe(e,n){return typeof e=="function"?e(n):e}function i9(){function e(t,r,i,s){const a={[t]:r,theme:i},l=s[t];if(!l)return{[t]:r};const{cssProperty:c=t,themeKey:d,transform:h,style:g}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const b=f2(i,d)||{};return g?g(a):Ld(a,r,m=>{let x=cv(b,h,m);return m===x&&typeof m=="string"&&(x=cv(b,h,`${t}${m==="default"?"":Kf(m)}`,m)),c===!1?x:{[c]:x}})}function n(t){var r;const{sx:i,theme:s={},nested:a}=t||{};if(!i)return null;const l=(r=s.unstable_sxConfig)!=null?r:vb;function c(d){let h=d;if(typeof d=="function")h=d(s);else if(typeof d!="object")return d;if(!h)return null;const g=Ode(s.breakpoints),b=Object.keys(g);let m=g;return Object.keys(h).forEach(x=>{const y=gfe(h[x],s);if(y!=null)if(typeof y=="object")if(l[x])m=ug(m,e(x,y,s,l));else{const A=Ld({theme:s},y,w=>({[x]:w}));mfe(A,y)?m[x]=n({sx:y,theme:s,nested:!0}):m=ug(m,A)}else m=ug(m,e(x,y,s,l))}),!a&&s.modularCssLayers?{"@layer sx":Hj(b,m)}:Hj(b,m)}return Array.isArray(i)?i.map(c):c(i)}return n}const y2=i9();y2.filterProps=["sx"];function s9(e,n){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:n}:t.palette.mode===e?n:{}}const bfe=["breakpoints","palette","spacing","shape"];function a9(e={},...n){const{breakpoints:t={},palette:r={},spacing:i,shape:s={}}=e,a=rh(e,bfe),l=t9(t),c=Fde(i);let d=Rc({breakpoints:l,direction:"ltr",components:{},palette:ei({mode:"light"},r),spacing:c,shape:ei({},Tde,s)},a);return d.applyStyles=s9,d=n.reduce((h,g)=>Rc(h,g),d),d.unstable_sxConfig=ei({},vb,a==null?void 0:a.unstable_sxConfig),d.unstable_sx=function(h){return y2({sx:h,theme:this})},d}const yfe=Object.freeze(Object.defineProperty({__proto__:null,default:a9,private_createBreakpoints:t9,unstable_applyStyles:s9},Symbol.toStringTag,{value:"Module"})),xfe=Fd(yfe),vfe=["sx"],wfe=e=>{var n,t;const r={systemProps:{},otherProps:{}},i=(n=e==null||(t=e.theme)==null?void 0:t.unstable_sxConfig)!=null?n:vb;return Object.keys(e).forEach(s=>{i[s]?r.systemProps[s]=e[s]:r.otherProps[s]=e[s]}),r};function Sfe(e){const{sx:n}=e,t=rh(e,vfe),{systemProps:r,otherProps:i}=wfe(t);let s;return Array.isArray(n)?s=[r,...n]:typeof n=="function"?s=(...a)=>{const l=n(...a);return jf(l)?ei({},r,l):r}:s=ei({},r,n),ei({},i,{sx:s})}const Afe=Object.freeze(Object.defineProperty({__proto__:null,default:y2,extendSxProp:Sfe,unstable_createStyleFunctionSx:i9,unstable_defaultSxConfig:vb},Symbol.toStringTag,{value:"Module"})),Cfe=Fd(Afe);var Vj;function Efe(){if(Vj)return Ih;Vj=1;var e=fm();Object.defineProperty(Ih,"__esModule",{value:!0}),Ih.default=q,Ih.shouldForwardProp=x,Ih.systemDefaultTheme=void 0;var n=e(Ice()),t=e(Dce()),r=g(Cde),i=Ede;e(_de),e(kde);var s=e(xfe),a=e(Cfe);const l=["ownerState"],c=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function h(D){if(typeof WeakMap!="function")return null;var N=new WeakMap,P=new WeakMap;return(h=function(z){return z?P:N})(D)}function g(D,N){if(D&&D.__esModule)return D;if(D===null||typeof D!="object"&&typeof D!="function")return{default:D};var P=h(N);if(P&&P.has(D))return P.get(D);var z={__proto__:null},X=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var j in D)if(j!=="default"&&Object.prototype.hasOwnProperty.call(D,j)){var O=X?Object.getOwnPropertyDescriptor(D,j):null;O&&(O.get||O.set)?Object.defineProperty(z,j,O):z[j]=D[j]}return z.default=D,P&&P.set(D,z),z}function b(D){return Object.keys(D).length===0}function m(D){return typeof D=="string"&&D.charCodeAt(0)>96}function x(D){return D!=="ownerState"&&D!=="theme"&&D!=="sx"&&D!=="as"}function y(D,N){return N&&D&&typeof D=="object"&&D.styles&&!D.styles.startsWith("@layer")&&(D.styles=`@layer ${N}{${String(D.styles)}}`),D}const A=Ih.systemDefaultTheme=(0,s.default)(),w=D=>D&&D.charAt(0).toLowerCase()+D.slice(1);function C({defaultTheme:D,theme:N,themeId:P}){return b(N)?D:N[P]||N}function k(D){return D?(N,P)=>P[D]:null}function R(D,N,P){let{ownerState:z}=N,X=(0,t.default)(N,l);const j=typeof D=="function"?D((0,n.default)({ownerState:z},X)):D;if(Array.isArray(j))return j.flatMap(O=>R(O,(0,n.default)({ownerState:z},X),P));if(j&&typeof j=="object"&&Array.isArray(j.variants)){const{variants:O=[]}=j;let M=(0,t.default)(j,c);return O.forEach(T=>{let Q=!0;if(typeof T.props=="function"?Q=T.props((0,n.default)({ownerState:z},X,z)):Object.keys(T.props).forEach(H=>{(z==null?void 0:z[H])!==T.props[H]&&X[H]!==T.props[H]&&(Q=!1)}),Q){Array.isArray(M)||(M=[M]);const H=typeof T.style=="function"?T.style((0,n.default)({ownerState:z},X,z)):T.style;M.push(P?y((0,r.internal_serializeStyles)(H),P):H)}}),M}return P?y((0,r.internal_serializeStyles)(j),P):j}function q(D={}){const{themeId:N,defaultTheme:P=A,rootShouldForwardProp:z=x,slotShouldForwardProp:X=x}=D,j=O=>(0,a.default)((0,n.default)({},O,{theme:C((0,n.default)({},O,{defaultTheme:P,themeId:N}))}));return j.__mui_systemSx=!0,(O,M={})=>{(0,r.internal_processStyles)(O,ye=>ye.filter(Ae=>!(Ae!=null&&Ae.__mui_systemSx)));const{name:T,slot:Q,skipVariantsResolver:H,skipSx:Y,overridesResolver:Z=k(w(Q))}=M,ae=(0,t.default)(M,d),G=T&&T.startsWith("Mui")||Q?"components":"custom",le=H!==void 0?H:Q&&Q!=="Root"&&Q!=="root"||!1,U=Y||!1;let B,ie=x;Q==="Root"||Q==="root"?ie=z:Q?ie=X:m(O)&&(ie=void 0);const J=(0,r.default)(O,(0,n.default)({shouldForwardProp:ie,label:B},ae)),ne=ye=>typeof ye=="function"&&ye.__emotion_real!==ye||(0,i.isPlainObject)(ye)?Ae=>{const Ne=C({theme:Ae.theme,defaultTheme:P,themeId:N});return R(ye,(0,n.default)({},Ae,{theme:Ne}),Ne.modularCssLayers?G:void 0)}:ye,xe=(ye,...Ae)=>{let Ne=ne(ye);const Te=Ae?Ae.map(ne):[];T&&Z&&Te.push(V=>{const we=C((0,n.default)({},V,{defaultTheme:P,themeId:N}));if(!we.components||!we.components[T]||!we.components[T].styleOverrides)return null;const se=we.components[T].styleOverrides,he={};return Object.entries(se).forEach(([de,ve])=>{he[de]=R(ve,(0,n.default)({},V,{theme:we}),we.modularCssLayers?"theme":void 0)}),Z(V,he)}),T&&!le&&Te.push(V=>{var we;const se=C((0,n.default)({},V,{defaultTheme:P,themeId:N})),he=se==null||(we=se.components)==null||(we=we[T])==null?void 0:we.variants;return R({variants:he},(0,n.default)({},V,{theme:se}),se.modularCssLayers?"theme":void 0)}),U||Te.push(j);const qe=Te.length-Ae.length;if(Array.isArray(ye)&&qe>0){const V=new Array(qe).fill("");Ne=[...ye,...V],Ne.raw=[...ye.raw,...V]}const $e=J(Ne,...Te);return O.muiName&&($e.muiName=O.muiName),$e};return J.withConfig&&(xe.withConfig=J.withConfig),xe}}return Ih}var _fe=Efe();const kfe=mb(_fe);function Nfe(e,n){return ei({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},n)}var Hi={};const jfe=Fd(Gue),Tfe=Fd(_ce);var Yj;function Ofe(){if(Yj)return Hi;Yj=1;var e=fm();Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.alpha=x,Hi.blend=D,Hi.colorChannel=void 0,Hi.darken=A,Hi.decomposeColor=a,Hi.emphasize=R,Hi.getContrastRatio=m,Hi.getLuminance=b,Hi.hexToRgb=i,Hi.hslToRgb=g,Hi.lighten=C,Hi.private_safeAlpha=y,Hi.private_safeColorChannel=void 0,Hi.private_safeDarken=w,Hi.private_safeEmphasize=q,Hi.private_safeLighten=k,Hi.recomposeColor=d,Hi.rgbToHex=h;var n=e(jfe),t=e(Tfe);function r(N,P=0,z=1){return(0,t.default)(N,P,z)}function i(N){N=N.slice(1);const P=new RegExp(`.{1,${N.length>=6?2:1}}`,"g");let z=N.match(P);return z&&z[0].length===1&&(z=z.map(X=>X+X)),z?`rgb${z.length===4?"a":""}(${z.map((X,j)=>j<3?parseInt(X,16):Math.round(parseInt(X,16)/255*1e3)/1e3).join(", ")})`:""}function s(N){const P=N.toString(16);return P.length===1?`0${P}`:P}function a(N){if(N.type)return N;if(N.charAt(0)==="#")return a(i(N));const P=N.indexOf("("),z=N.substring(0,P);if(["rgb","rgba","hsl","hsla","color"].indexOf(z)===-1)throw new Error((0,n.default)(9,N));let X=N.substring(P+1,N.length-1),j;if(z==="color"){if(X=X.split(" "),j=X.shift(),X.length===4&&X[3].charAt(0)==="/"&&(X[3]=X[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(j)===-1)throw new Error((0,n.default)(10,j))}else X=X.split(",");return X=X.map(O=>parseFloat(O)),{type:z,values:X,colorSpace:j}}const l=N=>{const P=a(N);return P.values.slice(0,3).map((z,X)=>P.type.indexOf("hsl")!==-1&&X!==0?`${z}%`:z).join(" ")};Hi.colorChannel=l;const c=(N,P)=>{try{return l(N)}catch{return N}};Hi.private_safeColorChannel=c;function d(N){const{type:P,colorSpace:z}=N;let{values:X}=N;return P.indexOf("rgb")!==-1?X=X.map((j,O)=>O<3?parseInt(j,10):j):P.indexOf("hsl")!==-1&&(X[1]=`${X[1]}%`,X[2]=`${X[2]}%`),P.indexOf("color")!==-1?X=`${z} ${X.join(" ")}`:X=`${X.join(", ")}`,`${P}(${X})`}function h(N){if(N.indexOf("#")===0)return N;const{values:P}=a(N);return`#${P.map((z,X)=>s(X===3?Math.round(255*z):z)).join("")}`}function g(N){N=a(N);const{values:P}=N,z=P[0],X=P[1]/100,j=P[2]/100,O=X*Math.min(j,1-j),M=(H,Y=(H+z/30)%12)=>j-O*Math.max(Math.min(Y-3,9-Y,1),-1);let T="rgb";const Q=[Math.round(M(0)*255),Math.round(M(8)*255),Math.round(M(4)*255)];return N.type==="hsla"&&(T+="a",Q.push(P[3])),d({type:T,values:Q})}function b(N){N=a(N);let P=N.type==="hsl"||N.type==="hsla"?a(g(N)).values:N.values;return P=P.map(z=>(N.type!=="color"&&(z/=255),z<=.03928?z/12.92:((z+.055)/1.055)**2.4)),Number((.2126*P[0]+.7152*P[1]+.0722*P[2]).toFixed(3))}function m(N,P){const z=b(N),X=b(P);return(Math.max(z,X)+.05)/(Math.min(z,X)+.05)}function x(N,P){return N=a(N),P=r(P),(N.type==="rgb"||N.type==="hsl")&&(N.type+="a"),N.type==="color"?N.values[3]=`/${P}`:N.values[3]=P,d(N)}function y(N,P,z){try{return x(N,P)}catch{return N}}function A(N,P){if(N=a(N),P=r(P),N.type.indexOf("hsl")!==-1)N.values[2]*=1-P;else if(N.type.indexOf("rgb")!==-1||N.type.indexOf("color")!==-1)for(let z=0;z<3;z+=1)N.values[z]*=1-P;return d(N)}function w(N,P,z){try{return A(N,P)}catch{return N}}function C(N,P){if(N=a(N),P=r(P),N.type.indexOf("hsl")!==-1)N.values[2]+=(100-N.values[2])*P;else if(N.type.indexOf("rgb")!==-1)for(let z=0;z<3;z+=1)N.values[z]+=(255-N.values[z])*P;else if(N.type.indexOf("color")!==-1)for(let z=0;z<3;z+=1)N.values[z]+=(1-N.values[z])*P;return d(N)}function k(N,P,z){try{return C(N,P)}catch{return N}}function R(N,P=.15){return b(N)>.5?A(N,P):C(N,P)}function q(N,P,z){try{return R(N,P)}catch{return N}}function D(N,P,z,X=1){const j=(Q,H)=>Math.round((Q**(1/X)*(1-z)+H**(1/X)*z)**X),O=a(N),M=a(P),T=[j(O.values[0],M.values[0]),j(O.values[1],M.values[1]),j(O.values[2],M.values[2])];return d({type:"rgb",values:T})}return Hi}var S6=Ofe();const zg={black:"#000",white:"#fff"},Ife={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},o0={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},l0={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},$1={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},u0={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},c0={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},d0={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Dfe=["mode","contrastThreshold","tonalOffset"],Gj={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:zg.white,default:zg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Yw={text:{primary:zg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:zg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Qj(e,n,t,r){const i=r.light||r,s=r.dark||r*1.5;e[n]||(e.hasOwnProperty(t)?e[n]=e[t]:n==="light"?e.light=S6.lighten(e.main,i):n==="dark"&&(e.dark=S6.darken(e.main,s)))}function Lfe(e="light"){return e==="dark"?{main:u0[200],light:u0[50],dark:u0[400]}:{main:u0[700],light:u0[400],dark:u0[800]}}function Rfe(e="light"){return e==="dark"?{main:o0[200],light:o0[50],dark:o0[400]}:{main:o0[500],light:o0[300],dark:o0[700]}}function Mfe(e="light"){return e==="dark"?{main:l0[500],light:l0[300],dark:l0[700]}:{main:l0[700],light:l0[400],dark:l0[800]}}function Pfe(e="light"){return e==="dark"?{main:c0[400],light:c0[300],dark:c0[700]}:{main:c0[700],light:c0[500],dark:c0[900]}}function Ffe(e="light"){return e==="dark"?{main:d0[400],light:d0[300],dark:d0[700]}:{main:d0[800],light:d0[500],dark:d0[900]}}function qfe(e="light"){return e==="dark"?{main:$1[400],light:$1[300],dark:$1[700]}:{main:"#ed6c02",light:$1[500],dark:$1[900]}}function zfe(e){const{mode:n="light",contrastThreshold:t=3,tonalOffset:r=.2}=e,i=rh(e,Dfe),s=e.primary||Lfe(n),a=e.secondary||Rfe(n),l=e.error||Mfe(n),c=e.info||Pfe(n),d=e.success||Ffe(n),h=e.warning||qfe(n);function g(x){return S6.getContrastRatio(x,Yw.text.primary)>=t?Yw.text.primary:Gj.text.primary}const b=({color:x,name:y,mainShade:A=500,lightShade:w=300,darkShade:C=700})=>{if(x=ei({},x),!x.main&&x[A]&&(x.main=x[A]),!x.hasOwnProperty("main"))throw new Error(Pg(11,y?` (${y})`:"",A));if(typeof x.main!="string")throw new Error(Pg(12,y?` (${y})`:"",JSON.stringify(x.main)));return Qj(x,"light",w,r),Qj(x,"dark",C,r),x.contrastText||(x.contrastText=g(x.main)),x},m={dark:Yw,light:Gj};return Rc(ei({common:ei({},zg),mode:n,primary:b({color:s,name:"primary"}),secondary:b({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:l,name:"error"}),warning:b({color:h,name:"warning"}),info:b({color:c,name:"info"}),success:b({color:d,name:"success"}),grey:Ife,contrastThreshold:t,getContrastText:g,augmentColor:b,tonalOffset:r},m[n]),i)}const Bfe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Ufe(e){return Math.round(e*1e5)/1e5}const Kj={textTransform:"uppercase"},Xj='"Roboto", "Helvetica", "Arial", sans-serif';function $fe(e,n){const t=typeof n=="function"?n(e):n,{fontFamily:r=Xj,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:a=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:h,pxToRem:g}=t,b=rh(t,Bfe),m=i/14,x=g||(w=>`${w/d*m}rem`),y=(w,C,k,R,q)=>ei({fontFamily:r,fontWeight:w,fontSize:x(C),lineHeight:k},r===Xj?{letterSpacing:`${Ufe(R/C)}em`}:{},q,h),A={h1:y(s,96,1.167,-1.5),h2:y(s,60,1.2,-.5),h3:y(a,48,1.167,0),h4:y(a,34,1.235,.25),h5:y(a,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(a,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(a,16,1.5,.15),body2:y(a,14,1.43,.15),button:y(l,14,1.75,.4,Kj),caption:y(a,12,1.66,.4),overline:y(a,12,2.66,1,Kj),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Rc(ei({htmlFontSize:d,pxToRem:x,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:a,fontWeightMedium:l,fontWeightBold:c},A),b,{clone:!1})}const Hfe=.2,Wfe=.14,Vfe=.12;function Ti(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Hfe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Wfe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Vfe})`].join(",")}const Yfe=["none",Ti(0,2,1,-1,0,1,1,0,0,1,3,0),Ti(0,3,1,-2,0,2,2,0,0,1,5,0),Ti(0,3,3,-2,0,3,4,0,0,1,8,0),Ti(0,2,4,-1,0,4,5,0,0,1,10,0),Ti(0,3,5,-1,0,5,8,0,0,1,14,0),Ti(0,3,5,-1,0,6,10,0,0,1,18,0),Ti(0,4,5,-2,0,7,10,1,0,2,16,1),Ti(0,5,5,-3,0,8,10,1,0,3,14,2),Ti(0,5,6,-3,0,9,12,1,0,3,16,2),Ti(0,6,6,-3,0,10,14,1,0,4,18,3),Ti(0,6,7,-4,0,11,15,1,0,4,20,3),Ti(0,7,8,-4,0,12,17,2,0,5,22,4),Ti(0,7,8,-4,0,13,19,2,0,5,24,4),Ti(0,7,9,-4,0,14,21,2,0,5,26,4),Ti(0,8,9,-5,0,15,22,2,0,6,28,5),Ti(0,8,10,-5,0,16,24,2,0,6,30,5),Ti(0,8,11,-5,0,17,26,2,0,6,32,5),Ti(0,9,11,-5,0,18,28,2,0,7,34,6),Ti(0,9,12,-6,0,19,29,2,0,7,36,6),Ti(0,10,13,-6,0,20,31,3,0,8,38,7),Ti(0,10,13,-6,0,21,33,3,0,8,40,7),Ti(0,10,14,-6,0,22,35,3,0,8,42,7),Ti(0,11,14,-7,0,23,36,3,0,9,44,8),Ti(0,11,15,-7,0,24,38,3,0,9,46,8)],Gfe=["duration","easing","delay"],Qfe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Kfe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Zj(e){return`${Math.round(e)}ms`}function Xfe(e){if(!e)return 0;const n=e/36;return Math.round((4+15*n**.25+n/5)*10)}function Zfe(e){const n=ei({},Qfe,e.easing),t=ei({},Kfe,e.duration);return ei({getAutoHeightDuration:Xfe,create:(r=["all"],i={})=>{const{duration:s=t.standard,easing:a=n.easeInOut,delay:l=0}=i;return rh(i,Gfe),(Array.isArray(r)?r:[r]).map(c=>`${c} ${typeof s=="string"?s:Zj(s)} ${a} ${typeof l=="string"?l:Zj(l)}`).join(",")}},e,{easing:n,duration:t})}const Jfe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},ehe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function the(e={},...n){const{mixins:t={},palette:r={},transitions:i={},typography:s={}}=e,a=rh(e,ehe);if(e.vars&&e.generateCssVars===void 0)throw new Error(Pg(18));const l=zfe(r),c=a9(e);let d=Rc(c,{mixins:Nfe(c.breakpoints,t),palette:l,shadows:Yfe.slice(),typography:$fe(l,s),transitions:Zfe(i),zIndex:ei({},Jfe)});return d=Rc(d,a),d=n.reduce((h,g)=>Rc(h,g),d),d.unstable_sxConfig=ei({},vb,a==null?void 0:a.unstable_sxConfig),d.unstable_sx=function(h){return y2({sx:h,theme:this})},d}const nhe=the(),rhe="$$material";function ihe(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const she=e=>ihe(e)&&e!=="classes",ahe=kfe({themeId:rhe,defaultTheme:nhe,rootShouldForwardProp:she});function ohe(e){return WL("MuiSvgIcon",e)}Cce("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const lhe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],uhe=e=>{const{color:n,fontSize:t,classes:r}=e,i={root:["root",n!=="inherit"&&`color${Kf(n)}`,`fontSize${Kf(t)}`]};return wce(i,ohe,r)},che=ahe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.color!=="inherit"&&n[`color${Kf(t.color)}`],n[`fontSize${Kf(t.fontSize)}`]]}})(({theme:e,ownerState:n})=>{var t,r,i,s,a,l,c,d,h,g,b,m,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=e.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=e.typography)==null||(a=s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem",medium:((l=e.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((d=e.typography)==null||(h=d.pxToRem)==null?void 0:h.call(d,35))||"2.1875rem"}[n.fontSize],color:(g=(b=(e.vars||e).palette)==null||(b=b[n.color])==null?void 0:b.main)!=null?g:{action:(m=(e.vars||e).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(x=(e.vars||e).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[n.color]}}),A6=K.forwardRef(function(e,n){const t=Oce({props:e,name:"MuiSvgIcon"}),{children:r,className:i,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:h,viewBox:g="0 0 24 24"}=t,b=rh(t,lhe),m=K.isValidElement(r)&&r.type==="svg",x=ei({},t,{color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:g,hasSvgAsChild:m}),y={};d||(y.viewBox=g);const A=uhe(x);return Yt.jsxs(che,ei({as:a,className:kce(A.root,i),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},y,b,m&&r.props,{ownerState:x,children:[m?r.props.children:r,h?Yt.jsx("title",{children:h}):null]}))});A6.muiName="SvgIcon";function dhe(e,n){function t(r,i){return Yt.jsx(A6,ei({"data-testid":`${n}Icon`,ref:i},r,{children:e}))}return t.muiName=A6.muiName,K.memo(K.forwardRef(t))}const fhe={configure:e=>{HL.configure(e)}},hhe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Kf,createChainedFunction:tce,createSvgIcon:dhe,debounce:nce,deprecatedPropType:rce,isMuiElement:ice,ownerDocument:BL,ownerWindow:sce,requirePropFactory:ace,setRef:UL,unstable_ClassNameGenerator:fhe,unstable_useEnhancedEffect:$L,unstable_useId:lce,unsupportedProp:uce,useControlled:cce,useEventCallback:dce,useForkRef:fce,useIsFocusVisible:vce},Symbol.toStringTag,{value:"Module"})),phe=Fd(hhe);var Jj;function x2(){return Jj||(Jj=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=phe}(Aj)),Aj}var eT;function mhe(){if(eT)return B1;eT=1;var e=fm();Object.defineProperty(B1,"__esModule",{value:!0}),B1.default=void 0;var n=e(x2()),t=gb();return B1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),B1}var ghe=mhe();const tT=mb(ghe);var H1={},nT;function bhe(){if(nT)return H1;nT=1;var e=fm();Object.defineProperty(H1,"__esModule",{value:!0}),H1.default=void 0;var n=e(x2()),t=gb();return H1.default=(0,n.default)((0,t.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),H1}var yhe=bhe();const xhe=mb(yhe);var W1={},rT;function vhe(){if(rT)return W1;rT=1;var e=fm();Object.defineProperty(W1,"__esModule",{value:!0}),W1.default=void 0;var n=e(x2()),t=gb();return W1.default=(0,n.default)((0,t.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),W1}var whe=vhe();const She=mb(whe);var V1={},iT;function Ahe(){if(iT)return V1;iT=1;var e=fm();Object.defineProperty(V1,"__esModule",{value:!0}),V1.default=void 0;var n=e(x2()),t=gb();return V1.default=(0,n.default)((0,t.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),V1}var Che=Ahe();const Ehe=mb(Che),hr={primary:"#0B53C0",primaryLight:"#CDDAFF",background:"#F0F4FF",white:"#FFFFFF",text:"#000000",success:"#4caf50",error:"#f44336",disabled:"#ccc"},or={modal:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"95%",sm:"80%",md:700},maxHeight:"90vh",bgcolor:hr.background,borderRadius:"16px",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)",p:3,outline:"none",overflow:"hidden",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,pb:2,borderBottom:`2px solid ${hr.primaryLight}`},title:{fontFamily:"Staatliches, Arial, sans-serif",fontSize:{xs:"1.5rem",sm:"2rem"},color:hr.text},closeButton:{color:hr.text,"&:hover":{bgcolor:hr.primaryLight}},progressBar:{height:8,borderRadius:4,bgcolor:hr.disabled,mb:3,"& .MuiLinearProgress-bar":{bgcolor:hr.primary,borderRadius:4}},questionCard:{bgcolor:hr.white,borderRadius:"12px",p:3,mb:3,minHeight:200,boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)"},questionText:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1.1rem",color:hr.text,mb:3},categoryBadge:{display:"inline-block",px:2,py:.5,bgcolor:hr.primaryLight,color:hr.text,borderRadius:"20px",fontSize:"0.85rem",fontFamily:"Gabarito, Arial, sans-serif",mb:2},answerInput:{width:"100%","& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif","& fieldset":{borderColor:hr.disabled},"&:hover fieldset":{borderColor:hr.primary},"&.Mui-focused fieldset":{borderColor:hr.primary}}},navigationDots:{display:"flex",justifyContent:"center",gap:1,my:2},dot:{width:12,height:12,borderRadius:"50%",border:"none",cursor:"pointer",transition:"all 0.3s","&:hover":{transform:"scale(1.2)"}},dotStates:{unanswered:{bgcolor:hr.disabled},answered:{bgcolor:hr.primaryLight},current:{bgcolor:hr.primary,transform:"scale(1.3)"}},navigationButtons:{display:"flex",justifyContent:"space-between",gap:2,mt:2},button:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",py:1,px:3,borderRadius:"20px",textTransform:"none"},primaryButton:{bgcolor:hr.primaryLight,color:hr.text,"&:hover":{bgcolor:hr.primary,color:hr.white}},secondaryButton:{bgcolor:hr.white,color:hr.text,border:`2px solid ${hr.primaryLight}`,"&:hover":{bgcolor:hr.primaryLight}},submitButton:{bgcolor:hr.success,color:hr.white,"&:hover":{bgcolor:"#388e3c"}},resultsContainer:{flex:1,overflowY:"auto",px:2},scoreCard:{bgcolor:hr.white,borderRadius:"12px",p:3,mb:3,textAlign:"center",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)"},scoreText:{fontSize:"3rem",fontFamily:"Staatliches, sans-serif",color:hr.primary},feedbackCard:{bgcolor:hr.white,borderRadius:"8px",p:2,mb:2,border:`1px solid ${hr.disabled}`},correctAnswer:{borderLeft:`4px solid ${hr.success}`},incorrectAnswer:{borderLeft:`4px solid ${hr.error}`}},o9="https://rag-flask-api.onrender.com",_he=async e=>{if(!(e!=null&&e.trim()))throw new Error("Chatbot ID is required");try{const n=await fetch(`${o9}/get_quiz?chatbot_id=${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json"}}),t=await n.json();if(!n.ok||!t.success)throw new Error(t.error||"Failed to fetch quiz");return{quizId:t.quiz_id,questions:t.questions||[]}}catch(n){throw console.error("Error fetching quiz:",n),n}},khe=async(e,n,t)=>{if(!e||!n||!t||Object.keys(t).length===0)throw new Error("Invalid quiz submission");try{const r=await fetch(`${o9}/grade_quiz`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatbot_id:e,quiz_id:n,answers:t})}),i=await r.json();if(!r.ok||!i.success)throw new Error(i.error||"Quiz grading failed");return i.summary}catch(r){throw console.error("Error grading quiz:",r),r}},Nhe=(e,n)=>{if(e)try{const t=`quiz_progress_${e}`;localStorage.setItem(t,JSON.stringify({answers:n,timestamp:new Date().toISOString()}))}catch(t){console.error("Failed to save progress:",t)}},jhe=e=>{if(!e)return null;try{const n=`quiz_progress_${e}`,t=localStorage.getItem(n);if(!t)return null;const r=JSON.parse(t),i=new Date(r.timestamp);return(new Date-i)/(1e3*60*60)>24?(localStorage.removeItem(n),null):r.answers}catch(n){return console.error("Failed to load progress:",n),null}},Gw=e=>{if(e)try{const n=`quiz_progress_${e}`;localStorage.removeItem(n)}catch(n){console.error("Failed to clear progress:",n)}},The=e=>{const n=((e==null?void 0:e.bloom_level)||(e==null?void 0:e.bloomLevel)||"").toString().toLowerCase();return n==="remember"||n==="understand"?"lower":n==="apply"?"middle":n==="analyze"||n==="evaluate"||n==="create"?"upper":"lower"},Ohe=e=>e==="easy"?5:e==="hard"?10:8,Ihe=(e,n)=>{const t=[],r=[],i=[];e.forEach(d=>{const h=The(d);h==="lower"?t.push(d):h==="middle"?r.push(d):i.push(d)});const s=d=>{const h=[...d];for(let g=h.length-1;g>0;g-=1){const b=Math.floor(Math.random()*(g+1));[h[g],h[b]]=[h[b],h[g]]}return h},a=Ohe(n);let l=[];if(n==="easy"){const d=s(t),h=s(r),g=s(i);l=[...d.slice(0,a)],l.length<a&&(l=[...l,...h.slice(0,a-l.length)]),l.length<a&&(l=[...l,...g.slice(0,a-l.length)])}else if(n==="medium"){const d=s(r),h=s(t),g=s(i);l=[...d.slice(0,a)],l.length<a&&(l=[...l,...h.slice(0,a-l.length)]),l.length<a&&(l=[...l,...g.slice(0,a-l.length)])}else{const d=s(i),h=s(r),g=s(t);l=[...d.slice(0,a)],l.length<a&&(l=[...l,...h.slice(0,a-l.length)]),l.length<a&&(l=[...l,...g.slice(0,a-l.length)])}const c=Math.min(a,l.length);return{selected:l.slice(0,c),selection:{mode:n,target:a,finalCount:c},totalAvailable:{lower:t.length,middle:r.length,upper:i.length}}},Dhe=K.forwardRef(({chatbotId:e,open:n,onClose:t,difficulty:r="medium",onQuizStart:i,onQuizProgress:s,onAnswerChange:a,onQuizSubmit:l,onQuizClose:c,onError:d},h)=>{const[g,b]=K.useState(null),[m,x]=K.useState([]),[y,A]=K.useState(null),[w,C]=K.useState(0),[k,R]=K.useState({}),[q,D]=K.useState(!0),[N,P]=K.useState(!1),[z,X]=K.useState(""),[j,O]=K.useState(!1),[M,T]=K.useState(null),Q=K.useRef(null),H=K.useRef(null);K.useEffect(()=>{n&&e&&Y()},[n,e,r]),K.useEffect(()=>{if(H.current&&Object.keys(k).length>0){Nhe(H.current,k);const Ne=m.length,Te=Ne>0?Object.keys(k).length/Ne*100:0;s==null||s({quizId:g==null?void 0:g.quizId,answers:k,percentComplete:Te,selection:y||void 0})}},[k,H.current,m.length]);const Y=async()=>{D(!0),X(""),O(!1),T(null),C(0),R({}),x([]),A(null),Q.current=new Date;try{const Ne=await _he(e),{selected:Te,selection:qe,totalAvailable:$e}=Ihe((Ne==null?void 0:Ne.questions)||[],r);b(Ne),x(Te),A(qe);const V=`${Ne.quizId}::${r}`;H.current=V;const we=jhe(V);we&&R(we),i==null||i({quizId:Ne.quizId,chatbotId:e,startedAt:Q.current,selection:qe,totalAvailable:$e})}catch(Ne){const Te=(Ne==null?void 0:Ne.message)||"Failed to load quiz";X(Te),d==null||d(Ne,"load")}finally{D(!1)}},Z=m[w],ae=m.length||0,G=ae>0?(w+1)/ae*100:0,le=Ne=>{if(!Z)return;const Te={...k,[Z.id]:Ne};R(Te),a==null||a({quizId:g==null?void 0:g.quizId,questionId:Z.id,value:Ne,answers:Te})},U=()=>{w<ae-1&&C(Ne=>Ne+1)},B=()=>{w>0&&C(Ne=>Ne-1)},ie=Ne=>C(Ne),J=async()=>{if(!g)return;const Ne=m.filter(Te=>!k[Te.id]);if(Ne.length>0){X(`Please answer all questions (${Ne.length} remaining)`);return}P(!0),X("");try{const Te=new Date,qe={};m.forEach(V=>{qe[V.id]=k[V.id]});const $e=await khe(e,g.quizId,qe);T($e),O(!0),H.current&&Gw(H.current),l==null||l({quizId:g.quizId,chatbotId:e,startedAt:Q.current,submittedAt:Te,answers:qe,summary:$e,selection:y||void 0})}catch(Te){const qe=`Failed to submit quiz: ${(Te==null?void 0:Te.message)||""}`.trim();X(qe),d==null||d(Te,"submit")}finally{P(!1)}},ne=()=>{H.current&&Gw(H.current),c==null||c({quizId:g==null?void 0:g.quizId,chatbotId:e,answers:k,summary:M,completed:j,closedAt:new Date,selection:y||void 0}),t()},xe=(Ne,Te)=>{const qe=Te===w,$e=!!k[Ne];return{isCurrent:qe,hasAnswer:$e}},ye=()=>{const Ne=(Z==null?void 0:Z.answer_type)||"text",Te=k[Z==null?void 0:Z.id]||"";return Yt.jsx($t,{multiline:Ne==="long_answer",rows:Ne==="long_answer"?6:1,value:Te,onChange:qe=>le(qe.target.value),placeholder:"Enter your answer here...",sx:or.answerInput,disabled:N})};if(K.useImperativeHandle(h,()=>({reloadQuiz:Y,clearProgress:()=>H.current&&Gw(H.current),submit:J,getAnswers:()=>k,getSummary:()=>M,close:ne})),j&&M){const Ne=(()=>{const qe=M==null?void 0:M.percent;if(typeof qe=="number"&&Number.isFinite(qe))return Math.round(qe);const $e=M==null?void 0:M.score;if(typeof $e=="number"&&Number.isFinite($e))return Math.round($e);const V=Number(M==null?void 0:M.total_score)||0,we=Number(M==null?void 0:M.total_max)||0;return we>0?Math.round(V/we*100):0})(),Te=M.items||M.questions||{};return Yt.jsx(Tx,{open:n,onClose:ne,children:Yt.jsxs(be,{sx:or.modal,children:[Yt.jsxs(be,{sx:or.header,children:[Yt.jsx(ce,{sx:or.title,children:"Quiz Results"}),Yt.jsx(mn,{onClick:ne,sx:or.closeButton,children:Yt.jsx(tT,{})})]}),Yt.jsxs(be,{sx:or.resultsContainer,children:[Yt.jsxs(be,{sx:or.scoreCard,children:[Yt.jsxs(ce,{sx:or.scoreText,children:[Ne,"%"]}),Yt.jsx(ce,{variant:"h6",sx:{fontFamily:"Gabarito"},children:"Final Score"}),M.total_score!==void 0&&Yt.jsxs(ce,{variant:"body2",sx:{mt:1},children:[M.total_score," / ",M.total_max," points"]})]}),M.feedback&&Yt.jsx(tr,{severity:"info",sx:{mb:2},children:M.feedback}),!!m.length&&!!Object.keys(Te).length&&Yt.jsxs(be,{children:[Yt.jsx(ce,{variant:"h6",sx:{mb:2,fontFamily:"Staatliches"},children:"Question Breakdown"}),m.map(qe=>{const $e=Te[qe.id]||{},V=$e.score??0,we=$e.verdict==="correct"||V>=70||$e.passed===!0;return Yt.jsxs(be,{sx:{...or.feedbackCard,...we?or.correctAnswer:or.incorrectAnswer},children:[Yt.jsxs(ce,{variant:"body2",sx:{mb:1},children:["Q: ",(qe==null?void 0:qe.question)||"Question not found"]}),Yt.jsxs(ce,{variant:"caption",color:"textSecondary",children:["Your answer: ",k[qe.id]]}),$e.score!==void 0&&Yt.jsxs(ce,{variant:"caption",display:"block",sx:{mt:1},children:["Score: ",V,"/",$e.max_score||100]}),($e.feedback||$e.reasoning)&&Yt.jsx(ce,{variant:"caption",display:"block",sx:{mt:1},children:$e.feedback||$e.reasoning})]},qe.id)})]})]}),Yt.jsx(at,{fullWidth:!0,variant:"contained",onClick:ne,sx:{...or.button,...or.primaryButton,mt:2},children:"Close"})]})})}const Ae=y&&y.finalCount<y.target;return Yt.jsx(Tx,{open:n,onClose:ne,children:Yt.jsxs(be,{sx:or.modal,children:[Yt.jsxs(be,{sx:or.header,children:[Yt.jsx(ce,{sx:or.title,children:"Quiz"}),Yt.jsx(mn,{onClick:ne,sx:or.closeButton,children:Yt.jsx(tT,{})})]}),y&&Yt.jsx(be,{sx:{mb:1},children:Yt.jsx($n,{label:`Mode: ${y.mode}  ${y.finalCount} Qs`,size:"small",sx:or.categoryBadge})}),Ae&&Yt.jsxs(tr,{severity:"info",sx:{mb:2},children:["Not enough questions available for ",y.mode,". Showing"," ",y.finalCount," instead of ",y.target,"."]}),q?Yt.jsx(be,{sx:{display:"flex",justifyContent:"center",py:5},children:Yt.jsx(Pr,{})}):z&&!g?Yt.jsx(tr,{severity:"error",children:z}):g&&Z?Yt.jsxs(Yt.Fragment,{children:[Yt.jsx(il,{variant:"determinate",value:G,sx:or.progressBar}),Yt.jsxs(be,{sx:or.questionCard,children:[Yt.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[Yt.jsxs(ce,{variant:"h6",sx:{fontFamily:"Staatliches"},children:["Question ",w+1," of ",ae]}),Z.category&&Yt.jsx($n,{label:Z.category,size:"small",sx:or.categoryBadge})]}),Yt.jsx(ce,{sx:or.questionText,children:Z.question}),ye()]}),z&&Yt.jsx(tr,{severity:"error",sx:{mb:2},children:z}),Yt.jsx(be,{sx:or.navigationDots,children:m.map((Ne,Te)=>{const{isCurrent:qe,hasAnswer:$e}=xe(Ne.id,Te);return Yt.jsx(be,{component:"button",onClick:()=>ie(Te),title:$e?"Answered":"Unanswered",sx:{...or.dot,...$e&&!qe&&or.dotStates.answered,...!$e&&!qe&&or.dotStates.unanswered,...qe&&or.dotStates.current}},Ne.id)})}),Yt.jsxs(be,{sx:or.navigationButtons,children:[Yt.jsx(at,{startIcon:Yt.jsx(xhe,{}),onClick:B,disabled:w===0,sx:{...or.button,...or.secondaryButton},children:"Previous"}),w===ae-1?Yt.jsx(at,{onClick:J,disabled:N,endIcon:Yt.jsx(Ehe,{}),sx:{...or.button,...or.submitButton},children:N?Yt.jsx(Pr,{size:20}):"Submit Quiz"}):Yt.jsx(at,{endIcon:Yt.jsx(She,{}),onClick:U,sx:{...or.button,...or.primaryButton},children:"Next"})]})]}):Yt.jsx(tr,{severity:"info",children:"No quiz available"})]})})}),sT={totalQuizzes:0,completedQuizzes:0,averageScore:0,difficultyBreakdown:{easy:0,medium:0,hard:0}},l9=lp()(tm(mv((e,n)=>({currentSession:null,sessions:[],statistics:sT,isModalOpen:!1,currentChatbotId:null,currentDifficulty:"medium",loading:!1,error:null,isQuizActive:!1,currentAnswers:{},lastSummary:null,openQuizModal:(t,r="medium")=>{e({isModalOpen:!0,currentChatbotId:t,currentDifficulty:r,error:null})},closeQuizModal:()=>{e({isModalOpen:!1,error:null})},setDifficulty:t=>{e({currentDifficulty:t})},setLoading:t=>{e({loading:t})},setError:t=>{e({error:t})},startQuiz:t=>{const r={id:`session_${Date.now()}`,quizId:t.quizId,chatbotId:t.chatbotId,userId:"",difficulty:t.selection.mode,startedAt:t.startedAt,completed:!1,answers:{}};e({currentSession:r,isQuizActive:!0,currentAnswers:{},lastSummary:null,error:null})},updateAnswers:t=>{const{currentSession:r}=n();if(!r)return;const i={...t.answers};e({currentAnswers:i,currentSession:{...r,answers:i}})},submitQuiz:t=>{console.log(" Quiz Store: Quiz submitted. Data should be saved by quiz modal API:",t),e({lastSummary:t.summary,isQuizActive:!1})},closeQuiz:t=>{console.log(" Quiz Store: Quiz closed. Data handled by quiz modal API:",t),e({currentSession:null,isQuizActive:!1,isModalOpen:!1,currentAnswers:{},lastSummary:t.completed?t.summary:null})},addSession:t=>{e(r=>({sessions:[...r.sessions,t]}))},updateSession:(t,r)=>{e(i=>{var s;return{sessions:i.sessions.map(a=>a.id===t?{...a,...r}:a),currentSession:((s=i.currentSession)==null?void 0:s.id)===t?{...i.currentSession,...r}:i.currentSession}})},deleteSession:t=>{e(r=>({sessions:r.sessions.filter(i=>i.id!==t)}))},clearCurrentSession:()=>{e({currentSession:null,isQuizActive:!1,currentAnswers:{},lastSummary:null})},updateStatistics:()=>{const{sessions:t}=n(),r=t.filter(l=>l.completed),i=r.reduce((l,c)=>{var d;return l+(((d=c.summary)==null?void 0:d.percent)||0)},0),s=t.reduce((l,c)=>({...l,[c.difficulty]:l[c.difficulty]+1}),{easy:0,medium:0,hard:0}),a={totalQuizzes:t.length,completedQuizzes:r.length,averageScore:r.length>0?i/r.length:0,difficultyBreakdown:s,lastQuizDate:t.length>0?t[t.length-1].startedAt:void 0};e({statistics:a})},saveSessionToFirestore:async t=>{try{const{db:r}=await Wi(async()=>{const{db:a}=await Promise.resolve().then(()=>Ff);return{db:a}},void 0),{doc:i,setDoc:s}=await Wi(async()=>{const{doc:a,setDoc:l}=await import("./firebase-DpGenoA-.js").then(c=>c.B);return{doc:a,setDoc:l}},[]);await s(i(r,"quizSessions",t.id),{...t,timestamp:new Date().toISOString()}),console.log("Quiz session saved to Firestore:",t.id)}catch(r){console.error("Failed to save quiz session:",r),e({error:"Failed to save quiz session"})}},fetchUserSessions:async t=>{try{e({loading:!0,error:null});const{db:r}=await Wi(async()=>{const{db:b}=await Promise.resolve().then(()=>Ff);return{db:b}},void 0),{collection:i,query:s,where:a,getDocs:l,orderBy:c}=await Wi(async()=>{const{collection:b,query:m,where:x,getDocs:y,orderBy:A}=await import("./firebase-DpGenoA-.js").then(w=>w.B);return{collection:b,query:m,where:x,getDocs:y,orderBy:A}},[]),d=s(i(r,"quizSessions"),a("userId","==",t),c("startedAt","desc")),g=(await l(d)).docs.map(b=>({id:b.id,...b.data()}));e({sessions:g,loading:!1}),n().updateStatistics()}catch(r){console.error("Failed to fetch quiz sessions:",r),e({error:"Failed to fetch quiz sessions",loading:!1})}},reset:()=>{e({currentSession:null,sessions:[],statistics:sT,isModalOpen:!1,currentChatbotId:null,currentDifficulty:"medium",loading:!1,error:null,isQuizActive:!1,currentAnswers:{},lastSummary:null})}}),{name:"quiz-store",partialize:e=>({currentDifficulty:e.currentDifficulty}),merge:(e,n)=>({...n,...e||{},currentDifficulty:(e==null?void 0:e.currentDifficulty)||"medium"})}),{name:"quiz-store"})),Uf=Xn(),$f={QUIZ_SESSIONS:"quizSessions",QUIZ_EVENTS:"quizEvents"},Lhe=async(e,n)=>{try{const t=$s.now(),r=$s.fromDate(new Date(e.startedAt)),i=5*1e3,s=$s.fromMillis(r.toMillis()-i),a=$s.fromMillis(r.toMillis()+i),l=No(Sn(Uf,$f.QUIZ_SESSIONS),Oi("quizId","==",e.quizId),Oi("userId","==",n),Oi("startedAt",">=",s),Oi("startedAt","<=",a),hv(1)),c=await Si(l);if(!c.empty){console.log(" Quiz session with same start time already exists, skipping duplicate:",{quizId:e.quizId,startedAt:e.startedAt,userId:n.substring(0,8)+"...",existingSessionId:c.docs[0].id});return}const d={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,startedAt:$s.fromDate(new Date(e.startedAt)),completed:!1,difficulty:e.selection.mode,selection:{mode:e.selection.mode,target:e.selection.target,finalCount:e.selection.finalCount},createdAt:t,updatedAt:t},h={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_started",timestamp:t,data:e,createdAt:t};await Promise.all([ra(Sn(Uf,$f.QUIZ_SESSIONS),d),ra(Sn(Uf,$f.QUIZ_EVENTS),h)]),console.log(" Quiz start event saved to Firestore:",{quizId:e.quizId,difficulty:e.selection.mode,userId:n.substring(0,8)+"..."})}catch(t){throw console.error(" Error saving quiz start event:",t),t}},Rhe=async(e,n)=>{try{const t=$s.now(),r={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"answer_changed",timestamp:t,data:{quizId:e.quizId,chatbotId:e.chatbotId,questionId:e.questionId,value:e.value,answers:e.answers},createdAt:t};await ra(Sn(Uf,$f.QUIZ_EVENTS),r),console.log(" Answer change event saved to Firestore:",{quizId:e.quizId,questionId:e.questionId,userId:n.substring(0,8)+"..."})}catch(t){console.error(" Error saving answer change event:",t)}},Mhe=async(e,n)=>{try{const t=$s.now(),r=$s.fromMillis(t.toMillis()-3600*1e3),i=No(Sn(Uf,$f.QUIZ_SESSIONS),Oi("quizId","==",e.quizId),Oi("userId","==",n),Oi("completed","==",!1),Oi("createdAt",">=",r),Ug("createdAt","desc")),s=await Si(i);if(s.empty)throw console.error(" No incomplete session found for quiz submission - this should not happen!",{quizId:e.quizId,userId:n.substring(0,8)+"...",submittedAt:e.submittedAt}),new Error("No matching quiz session found for submission");{const l=s.docs[0],c=l.ref,d=l.data(),h={submittedAt:$s.fromDate(new Date(e.submittedAt)),completed:!0,finalAnswers:e.answers,summary:e.summary,updatedAt:t};await Rr(c,h),console.log(" Updated quiz session:",{quizId:e.quizId,difficulty:d.difficulty,score:`${e.summary.total_score}/${e.summary.total_max}`,userId:n.substring(0,8)+"..."})}const a={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_submitted",timestamp:t,data:e,createdAt:t};await ra(Sn(Uf,$f.QUIZ_EVENTS),a),console.log(" Quiz submission saved to Firestore:",{quizId:e.quizId,score:`${e.summary.total_score}/${e.summary.total_max} (${e.summary.percent}%)`})}catch(t){throw console.error(" Error saving quiz submission:",t),t}},Phe=async(e,n)=>{try{const t=$s.now(),r=No(Sn(Uf,$f.QUIZ_SESSIONS),Oi("quizId","==",e.quizId),Oi("userId","==",n)),i=await Si(r);if(!i.empty){const l=i.docs[0].ref,c={closedAt:$s.fromDate(new Date(e.closedAt)),updatedAt:t};e.completed&&e.summary&&(c.completed=!0,c.finalAnswers=e.answers,c.summary=e.summary),await Rr(l,c)}const s={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_closed",timestamp:t,data:e,createdAt:t};await ra(Sn(Uf,$f.QUIZ_EVENTS),s),console.log(" Quiz close event saved to Firestore:",{quizId:e.quizId,completed:e.completed})}catch(t){throw console.error(" Error saving quiz close event:",t),t}},u9=K.forwardRef(({chatbotId:e,difficulty:n,open:t,onClose:r,eventHandlers:i},s)=>{const{userDetails:a}=Ii(),l=K.useRef(null),{startQuiz:c,updateAnswers:d,submitQuiz:h,closeQuiz:g,setError:b}=l9(),m=K.useCallback(C=>{console.log("Quiz started:",C),c(C),a!=null&&a.uid&&Lhe(C,a.uid).catch(k=>{console.error("Failed to save quiz start event:",k)}),i!=null&&i.onQuizStart&&i.onQuizStart(C)},[a==null?void 0:a.uid,c,i]),x=K.useCallback(C=>{if(console.log("Answer changed:",C),d(C),a!=null&&a.uid){const k={...C,chatbotId:C.chatbotId||e};Rhe(k,a.uid).catch(R=>{console.warn("Failed to save answer change event:",R)})}i!=null&&i.onAnswerChange&&i.onAnswerChange(C)},[d,i,a==null?void 0:a.uid,e]),y=K.useCallback(C=>{console.log("Quiz submitted:",C),h(C),a!=null&&a.uid&&Mhe(C,a.uid).catch(k=>{console.error("Failed to save quiz submission event:",k)}),i!=null&&i.onQuizSubmit&&i.onQuizSubmit(C)},[h,i,a==null?void 0:a.uid]),A=K.useCallback(C=>{console.log("Quiz closed:",C),g(C),a!=null&&a.uid&&Phe(C,a.uid).catch(k=>{console.error("Failed to save quiz close event:",k)}),i!=null&&i.onQuizClose&&i.onQuizClose(C)},[g,i,a==null?void 0:a.uid]),w=K.useCallback((C,k)=>{console.error("Error in",k,C),b(`Quiz ${k} failed: ${C.message}`),i!=null&&i.onError&&i.onError(C,k)},[b,i]);return K.useImperativeHandle(s,()=>({reloadQuiz:()=>{l.current&&l.current.reloadQuiz()},clearProgress:()=>{l.current&&l.current.clearProgress()},submit:()=>{l.current&&l.current.submit()},getAnswers:()=>l.current?l.current.getAnswers():{},getSummary:()=>l.current?l.current.getSummary():null,close:()=>{l.current&&l.current.close(),r()}})),f.jsx(Dhe,{ref:l,chatbotId:e,open:t,onClose:r,difficulty:n,onQuizStart:m,onAnswerChange:x,onQuizSubmit:y,onQuizClose:A,onError:w})});u9.displayName="QuizWrapper";const Fhe=({onStartQuiz:e,disabled:n=!1})=>{const[t,r]=K.useState(null),i=!!t,s=d=>{r(d.currentTarget)},a=()=>{r(null)},l=d=>{e(d),a()},c=[{value:"easy",description:"~5 questions",icon:f.jsx(Zh,{color:"success"}),color:"success"},{value:"medium",description:"~8 questions",icon:f.jsx(QR,{color:"warning"}),color:"warning"},{value:"hard",description:"Up to 10 questions",icon:f.jsx(KR,{color:"error"}),color:"error"}];return f.jsxs(f.Fragment,{children:[f.jsx(at,{variant:"contained",onClick:s,disabled:n,startIcon:i?f.jsx(dv,{}):f.jsx(Nd,{}),sx:{background:"#0B53C0",color:"white",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",fontWeight:"bold",px:3,py:1.5,borderRadius:3,textTransform:"none","&:hover":{background:"#064a9e",boxShadow:"0px 4px 12px rgba(11, 83, 192, 0.3)"},"&:disabled":{background:"#ccc",color:"#999"},boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",transition:"all 0.2s ease-in-out"},children:"Start Quiz"}),f.jsxs(YR,{anchorEl:t,open:i,onClose:a,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"},PaperProps:{sx:{minWidth:300,borderRadius:2,border:"1px solid #e0e0e0",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)","& .MuiMenuItem-root":{py:1.5,px:2,borderRadius:1,mx:1,mb:.5,"&:hover":{backgroundColor:"#f5f5f5",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},"&:last-child":{mb:1}}}},children:[f.jsx(be,{sx:{px:2,py:1.5,borderBottom:"1px solid #e0e0e0",backgroundColor:"#CDDAFF"},children:f.jsx(ce,{variant:"subtitle1",sx:{fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.1rem",textAlign:"center"},children:"Select Quiz Difficulty"})}),c.map(d=>f.jsxs(ur,{onClick:()=>l(d.value),children:[f.jsx(GR,{sx:{minWidth:40},children:d.icon}),f.jsx(Rh,{primary:f.jsx(ce,{variant:"body1",sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#333",fontWeight:"bold"},children:d.value.charAt(0).toUpperCase()+d.value.slice(1)}),secondary:f.jsx(ce,{variant:"body2",sx:{fontFamily:"Gabarito, sans-serif",color:"#666",fontSize:"0.875rem"},children:d.description})})]},d.value))]})]})},f0="ce5f7921-a3a0-4ea7-b95f-10fe41becda5",qhe=({defaultDifficulty:e="medium",position:n="fixed"})=>{const{userDetails:t}=Ii(),[r]=Yg(),i=K.useRef(null),{isModalOpen:s,currentChatbotId:a,currentDifficulty:l,statistics:c,openQuizModal:d,closeQuizModal:h,setDifficulty:g,fetchUserSessions:b,setError:m}=l9(),[x,y]=tt.useState(f0);K.useEffect(()=>{const R=r.get("material");if(!R){x!==f0&&y(f0);return}(async()=>{try{console.log(" Fetching chatbot ID for quiz material:",R);const D=Xn(),N=Sn(D,"chatbots"),P=No(N,Oi("material.id","==",R)),z=await Si(P);if(z.empty)console.log(` No chatbot found for material ${R}, using default for quiz:`,f0),y(f0);else{const X=z.docs[0].data();console.log(` Found chatbot for quiz material ${R}:`,X.chatbotId),y(X.chatbotId)}}catch(D){console.error("Failed to fetch chatbot for quiz:",D),m("Failed to load quiz for this material"),y(f0)}})()},[r,x,m]),K.useEffect(()=>{t!=null&&t.uid&&b(t.uid)},[t==null?void 0:t.uid,b]),K.useEffect(()=>{g(e)},[e,g]);const A=K.useCallback(R=>{x?d(x,R):m("No chatbot available for quiz")},[x,d,m]),w=K.useCallback(()=>{h()},[h]);if(!(t!=null&&t.uid)||!r.get("material"))return null;const k=n==="fixed"?{position:"fixed",bottom:120,right:16,zIndex:1e3}:{position:"relative"};return f.jsxs(f.Fragment,{children:[f.jsx(be,{sx:k,children:f.jsx(Fhe,{onStartQuiz:A,disabled:!x})}),s&&a&&f.jsx(u9,{ref:i,chatbotId:a,difficulty:l,open:s,onClose:w,eventHandlers:{onQuizStart:R=>{},onQuizSubmit:R=>{},onError:(R,q)=>{console.error("Quiz error:",q,R)}}})]})};var Y1={},aT;function zhe(){if(aT)return Y1;aT=1;var e=Es();Object.defineProperty(Y1,"__esModule",{value:!0}),Y1.default=void 0;var n=e(ks()),t=_s();return Y1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Y1}var Bhe=zhe();const Uhe=Fr(Bhe),$he=()=>{const{notifications:e,removeNotification:n}=VT();return e.length===0?null:f.jsx(be,{sx:{position:"fixed",top:16,right:16,zIndex:9999,maxWidth:400,display:"flex",flexDirection:"column",gap:1},children:e.map(t=>f.jsx(fv,{in:!0,timeout:300,children:f.jsx(On,{elevation:6,children:f.jsxs(tr,{severity:t.type,sx:{width:"100%","& .MuiAlert-action":{alignItems:"flex-start",padding:"4px 0 0 16px"}},action:f.jsx(mn,{size:"small",onClick:()=>n(t.id),sx:{color:"inherit"},children:f.jsx(Uhe,{fontSize:"small"})}),children:[t.title&&f.jsx(XR,{sx:{fontWeight:"bold",mb:.5},children:t.title}),t.message,t.actions&&t.actions.length>0&&f.jsx(be,{sx:{mt:1.5,display:"flex",gap:1,flexWrap:"wrap"},children:t.actions.map((r,i)=>f.jsx(at,{size:"small",variant:r.primary?"contained":"outlined",color:t.type==="error"?"error":"primary",onClick:()=>{r.action(),n(t.id)},sx:{minWidth:"auto",fontSize:"0.75rem",padding:"2px 8px"},children:r.label},i))})]})})},t.id))})},Hhe=()=>{const{userDetails:e,isSuperAdmin:n}=Ii(),t=jee(e,n);return G3(t)},Whe=()=>{const{userDetails:e,loading:n}=Ii();if(n)return f.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:f.jsx(Pr,{})});const t="/nexlab",r=!!(e!=null&&e.uid);return f.jsxs(ZR,{theme:Tee,children:[f.jsx(JR,{}),f.jsxs(fM,{basename:t,children:[r&&f.jsx(lD,{}),f.jsx("div",{className:"content",children:f.jsx(K.Suspense,{fallback:f.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:f.jsx(Pr,{})}),children:f.jsx(Hhe,{})})}),f.jsx(zee,{}),f.jsx(Iee,{}),r&&f.jsx(Wue,{}),r&&f.jsx(qhe,{}),f.jsx($he,{})]})]})};typeof window<"u"&&(window.styled_default=Eu);const Vhe=document.getElementById("root"),Yhe=x3.createRoot(Vhe);Yhe.render(f.jsx(tt.StrictMode,{children:f.jsx(vM,{children:f.jsx(Whe,{})})}));export{HT as A,l7 as B,Uhe as C,nm as D,eg as E,eb as R,L5 as S,SZ as V,Wi as _,qT as a,Ii as b,Yg as c,zT as d,tee as e,yk as f,bk as g,rF as h,iF as i,i7 as j,sF as k,epe as m,ks as r,Ai as u,r7 as v};
