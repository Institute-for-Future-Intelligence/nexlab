const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DdABhq5U.js","assets/vendor-BFl3bqVE.js","assets/index-CZYWMsg6.js","assets/MaterialImportWrapper-D6lFYWib.js","assets/ui-CvbxGYbq.js","assets/firebase-CTJJwFJC.js","assets/index.es-CNx6xYqH.js","assets/index-C4K8GZwd.js","assets/index-BOVeJIsZ.js","assets/FileUploadSection-BZGZuIKq.js","assets/purify.es-CQJ0hv7W.js","assets/DesignDetailPage-BBBxLoNy.js","assets/DesignDetailPage-B5DZHykP.css","assets/SupplementalMaterials-Icu_yTMR.js","assets/MessagesPage-B_OPU07N.js"])))=>i.map(i=>d[i]);
var c9=Object.defineProperty;var d9=(e,n,t)=>n in e?c9(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var tt=(e,n,t)=>d9(e,typeof n!="symbol"?n+"":n,t);import{s as op,r as X,R as j6,j as h,C as Zr,B as de,P as gn,T as he,a as Ct,b as ij,u as f9,c as zd,d as qd,e as aj,f as st,g as _x,A as rr,h as h9,I as _n,i as dv,k as fv,l as hv,m as yc,n as kn,o as pv,p as yp,q as jd,t as fi,v as cr,L as q1,F as Od,w as lp,S as Dc,M as ai,x as O6,y as sj,D as qs,z as Jt,G as wt,E as Za,H as Ja,Q as p9,J as m9,K as oj,N as lj,O as Id,U as I6,V as Zi,W as pa,X as Ji,Y as Ll,Z as ma,_ as g9,$ as mu,a0 as Xh,a1 as xd,a2 as fc,a3 as M0,a4 as yu,a5 as Nx,a6 as Tl,a7 as b9,a8 as gu,a9 as D6,aa as Rl,ab as y9,ac as uj,ad as x9,ae as v9,af as ms,ag as w9,ah as Z0,ai as L6,aj as J0,ak as S9,al as Ko,am as A9,an as Jw,ao as C9,ap as Xr,aq as R6,ar as nk,as as E9,at as Tx,au as k9,av as _9,aw as N9,ax as T9,ay as Ad,az as Cd,aA as vd,aB as wd,aC as j9,aD as Sd,aE as O9,aF as I9,aG as D9,aH as M6,aI as c1,aJ as L9,aK as R9,aL as M9,aM as jx,aN as B1,aO as F9,aP as P9,aQ as z9,aR as q9,aS as cj,aT as dj,aU as d1,aV as Ox,aW as B9,aX as fj,aY as Lc,aZ as $9,a_ as hj,a$ as U9,b0 as eS,b1 as H9,b2 as pj,b3 as W9,b4 as mj,b5 as rk,b6 as Y9,b7 as V9,b8 as G9,b9 as j5,ba as Zy,bb as Q9,bc as K9,bd as ik,be as X9,bf as ak,bg as gj,bh as Z9,bi as wn,bj,bk as yj,bl as xj,bm as vj,bn as wj,bo as Sj,bp as J9,bq as e3,br as t3,bs as n3,bt as r3}from"./ui-CvbxGYbq.js";import{r as i3,b as a3,g as ts,a as s3}from"./vendor-BFl3bqVE.js";import{g as o3,G as l3,o as u3,b as c3,a as d3,s as f3,c as h3,d as p3,P as Xn,e as fn,f as ga,h as Uf,m as Aj,i as Hr,I as m3,j as g3,k as xp,l as Xi,r as xc,u as Hf,n as Wf,p as Cj,q as Si,_ as dn,y as $1,t as Ai,K as b3,W as F6,R as Il,v as Li,Q as y3,x as mv,w as gv}from"./firebase-CTJJwFJC.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var O5={exports:{}},dg={},I5={exports:{}},D5={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sk;function x3(){return sk||(sk=1,function(e){function n(H,Q){var te=H.length;H.push(Q);e:for(;0<te;){var oe=te-1>>>1,U=H[oe];if(0<i(U,Q))H[oe]=Q,H[te]=U,te=oe;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Q=H[0],te=H.pop();if(te!==Q){H[0]=te;e:for(var oe=0,U=H.length,se=U>>>1;oe<se;){var q=2*(oe+1)-1,B=H[q],J=q+1,ne=H[J];if(0>i(B,te))J<U&&0>i(ne,B)?(H[oe]=ne,H[J]=te,oe=J):(H[oe]=B,H[q]=te,oe=q);else if(J<U&&0>i(ne,te))H[oe]=ne,H[J]=te,oe=J;else break e}}return Q}function i(H,Q){var te=H.sortIndex-Q.sortIndex;return te!==0?te:H.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],d=[],f=1,m=null,b=3,g=!1,x=!1,y=!1,A=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function M(H){for(var Q=t(d);Q!==null;){if(Q.callback===null)r(d);else if(Q.startTime<=H)r(d),Q.sortIndex=Q.expirationTime,n(u,Q);else break;Q=t(d)}}function R(H){if(y=!1,M(H),!x)if(t(u)!==null)x=!0,z||(z=!0,j());else{var Q=t(d);Q!==null&&G(R,Q.startTime-H)}}var z=!1,_=-1,L=5,$=-1;function Z(){return A?!0:!(e.unstable_now()-$<L)}function O(){if(A=!1,z){var H=e.unstable_now();$=H;var Q=!0;try{e:{x=!1,y&&(y=!1,C(_),_=-1),g=!0;var te=b;try{t:{for(M(H),m=t(u);m!==null&&!(m.expirationTime>H&&Z());){var oe=m.callback;if(typeof oe=="function"){m.callback=null,b=m.priorityLevel;var U=oe(m.expirationTime<=H);if(H=e.unstable_now(),typeof U=="function"){m.callback=U,M(H),Q=!0;break t}m===t(u)&&r(u),M(H)}else r(u);m=t(u)}if(m!==null)Q=!0;else{var se=t(d);se!==null&&G(R,se.startTime-H),Q=!1}}break e}finally{m=null,b=te,g=!1}Q=void 0}}finally{Q?j():z=!1}}}var j;if(typeof T=="function")j=function(){T(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,N=F.port2;F.port1.onmessage=O,j=function(){N.postMessage(null)}}else j=function(){w(O,0)};function G(H,Q){_=w(function(){H(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(H){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var te=b;b=Q;try{return H()}finally{b=te}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(H,Q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=b;b=H;try{return Q()}finally{b=te}},e.unstable_scheduleCallback=function(H,Q,te){var oe=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?oe+te:oe):te=oe,H){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=te+U,H={id:f++,callback:Q,priorityLevel:H,startTime:te,expirationTime:U,sortIndex:-1},te>oe?(H.sortIndex=te,n(d,H),t(u)===null&&H===t(d)&&(y?(C(_),_=-1):y=!0,G(R,te-oe))):(H.sortIndex=U,n(u,H),x||g||(x=!0,z||(z=!0,j()))),H},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(H){var Q=b;return function(){var te=b;b=Q;try{return H.apply(this,arguments)}finally{b=te}}}}(D5)),D5}var ok;function v3(){return ok||(ok=1,I5.exports=x3()),I5.exports}var lk;function w3(){if(lk)return dg;lk=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=v3(),n=i3(),t=a3();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function s(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(a(o)!==o)throw Error(r(188))}function u(o){var c=o.alternate;if(!c){if(c=a(o),c===null)throw Error(r(188));return c!==o?null:o}for(var p=o,v=c;;){var E=p.return;if(E===null)break;var I=E.alternate;if(I===null){if(v=E.return,v!==null){p=v;continue}break}if(E.child===I.child){for(I=E.child;I;){if(I===p)return l(E),o;if(I===v)return l(E),c;I=I.sibling}throw Error(r(188))}if(p.return!==v.return)p=E,v=I;else{for(var ee=!1,me=E.child;me;){if(me===p){ee=!0,p=E,v=I;break}if(me===v){ee=!0,v=E,p=I;break}me=me.sibling}if(!ee){for(me=I.child;me;){if(me===p){ee=!0,p=I,v=E;break}if(me===v){ee=!0,v=I,p=E;break}me=me.sibling}if(!ee)throw Error(r(189))}}if(p.alternate!==v)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:c}function d(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=d(o),c!==null)return c;o=o.sibling}return null}var f=Object.assign,m=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),T=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(o){return o===null||typeof o!="object"?null:(o=O&&o[O]||o["@@iterator"],typeof o=="function"?o:null)}var F=Symbol.for("react.client.reference");function N(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===F?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case A:return"Profiler";case y:return"StrictMode";case R:return"Suspense";case z:return"SuspenseList";case $:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case g:return"Portal";case T:return(o.displayName||"Context")+".Provider";case C:return(o._context.displayName||"Context")+".Consumer";case M:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case _:return c=o.displayName||null,c!==null?c:N(o.type)||"Memo";case L:c=o._payload,o=o._init;try{return N(o(c))}catch{}}return null}var G=Array.isArray,H=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},oe=[],U=-1;function se(o){return{current:o}}function q(o){0>U||(o.current=oe[U],oe[U]=null,U--)}function B(o,c){U++,oe[U]=o.current,o.current=c}var J=se(null),ne=se(null),le=se(null),Se=se(null);function xe(o,c){switch(B(le,c),B(ne,o),B(J,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?jE(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=jE(c),o=OE(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}q(J),B(J,o)}function ke(){q(J),q(ne),q(le)}function De(o){o.memoizedState!==null&&B(Se,o);var c=J.current,p=OE(c,o.type);c!==p&&(B(ne,o),B(J,p))}function Me(o){ne.current===o&&(q(J),q(ne)),Se.current===o&&(q(Se),sg._currentValue=te)}var He=Object.prototype.hasOwnProperty,Ve=e.unstable_scheduleCallback,Y=e.unstable_cancelCallback,Ae=e.unstable_shouldYield,re=e.unstable_requestPaint,be=e.unstable_now,fe=e.unstable_getCurrentPriorityLevel,Ce=e.unstable_ImmediatePriority,Le=e.unstable_UserBlockingPriority,qe=e.unstable_NormalPriority,Te=e.unstable_LowPriority,Ze=e.unstable_IdlePriority,ut=e.log,rt=e.unstable_setDisableYieldValue,Pe=null,ve=null;function Ne(o){if(typeof ut=="function"&&rt(o),ve&&typeof ve.setStrictMode=="function")try{ve.setStrictMode(Pe,o)}catch{}}var Oe=Math.clz32?Math.clz32:Pt,ft=Math.log,et=Math.LN2;function Pt(o){return o>>>=0,o===0?32:31-(ft(o)/et|0)|0}var Nt=256,Yt=4194304;function Rt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Xt(o,c,p){var v=o.pendingLanes;if(v===0)return 0;var E=0,I=o.suspendedLanes,ee=o.pingedLanes;o=o.warmLanes;var me=v&134217727;return me!==0?(v=me&~I,v!==0?E=Rt(v):(ee&=me,ee!==0?E=Rt(ee):p||(p=me&~o,p!==0&&(E=Rt(p))))):(me=v&~I,me!==0?E=Rt(me):ee!==0?E=Rt(ee):p||(p=v&~o,p!==0&&(E=Rt(p)))),E===0?0:c!==0&&c!==E&&(c&I)===0&&(I=E&-E,p=c&-c,I>=p||I===32&&(p&4194048)!==0)?c:E}function nn(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function ln(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pn(){var o=Nt;return Nt<<=1,(Nt&4194048)===0&&(Nt=256),o}function zn(){var o=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),o}function Vr(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function ir(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Rn(o,c,p,v,E,I){var ee=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var me=o.entanglements,je=o.expirationTimes,Je=o.hiddenUpdates;for(p=ee&~p;0<p;){var mt=31-Oe(p),St=1<<mt;me[mt]=0,je[mt]=-1;var nt=Je[mt];if(nt!==null)for(Je[mt]=null,mt=0;mt<nt.length;mt++){var it=nt[mt];it!==null&&(it.lane&=-536870913)}p&=~St}v!==0&&Vt(o,v,0),I!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=I&~(ee&~c))}function Vt(o,c,p){o.pendingLanes|=c,o.suspendedLanes&=~c;var v=31-Oe(c);o.entangledLanes|=c,o.entanglements[v]=o.entanglements[v]|1073741824|p&4194090}function An(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var v=31-Oe(p),E=1<<v;E&c|o[v]&c&&(o[v]|=c),p&=~E}}function wa(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function wr(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function oi(){var o=Q.p;return o!==0?o:(o=window.event,o===void 0?32:KE(o.type))}function Sa(o,c){var p=Q.p;try{return Q.p=o,c()}finally{Q.p=p}}var Lt=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Lt,ar="__reactProps$"+Lt,Rr="__reactContainer$"+Lt,dr="__reactEvents$"+Lt,fr="__reactListeners$"+Lt,Un="__reactHandles$"+Lt,bs="__reactResources$"+Lt,_r="__reactMarker$"+Lt;function Da(o){delete o[Hn],delete o[ar],delete o[dr],delete o[fr],delete o[Un]}function zi(o){var c=o[Hn];if(c)return c;for(var p=o.parentNode;p;){if(c=p[Rr]||p[Hn]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(o=RE(o);o!==null;){if(p=o[Hn])return p;o=RE(o)}return c}o=p,p=o.parentNode}return null}function qi(o){if(o=o[Hn]||o[Rr]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function Zn(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function Ci(o){var c=o[bs];return c||(c=o[bs]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Jn(o){o[_r]=!0}var ro=new Set,Eo={};function Fa(o,c){Mr(o,c),Mr(o+"Capture",c)}function Mr(o,c){for(Eo[o]=c,o=0;o<c.length;o++)ro.add(c[o])}var nl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ql={},ju={};function $c(o){return He.call(ju,o)?!0:He.call(ql,o)?!1:nl.test(o)?ju[o]=!0:(ql[o]=!0,!1)}function Us(o,c,p){if($c(c))if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+p)}}function ys(o,c,p){if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+p)}}function Pa(o,c,p,v){if(v===null)o.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(c,p,""+v)}}var xs,rs;function is(o){if(xs===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);xs=c&&c[1]||"",rs=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xs+o+rs}var Bl=!1;function io(o,c){if(!o||Bl)return"";Bl=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var St=function(){throw Error()};if(Object.defineProperty(St.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(St,[])}catch(it){var nt=it}Reflect.construct(o,[],St)}else{try{St.call()}catch(it){nt=it}o.call(St.prototype)}}else{try{throw Error()}catch(it){nt=it}(St=o())&&typeof St.catch=="function"&&St.catch(function(){})}}catch(it){if(it&&nt&&typeof it.stack=="string")return[it.stack,nt.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=v.DetermineComponentFrameRoot(),ee=I[0],me=I[1];if(ee&&me){var je=ee.split(`
`),Je=me.split(`
`);for(E=v=0;v<je.length&&!je[v].includes("DetermineComponentFrameRoot");)v++;for(;E<Je.length&&!Je[E].includes("DetermineComponentFrameRoot");)E++;if(v===je.length||E===Je.length)for(v=je.length-1,E=Je.length-1;1<=v&&0<=E&&je[v]!==Je[E];)E--;for(;1<=v&&0<=E;v--,E--)if(je[v]!==Je[E]){if(v!==1||E!==1)do if(v--,E--,0>E||je[v]!==Je[E]){var mt=`
`+je[v].replace(" at new "," at ");return o.displayName&&mt.includes("<anonymous>")&&(mt=mt.replace("<anonymous>",o.displayName)),mt}while(1<=v&&0<=E);break}}}finally{Bl=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?is(p):""}function Uc(o){switch(o.tag){case 26:case 27:case 5:return is(o.type);case 16:return is("Lazy");case 13:return is("Suspense");case 19:return is("SuspenseList");case 0:case 15:return io(o.type,!1);case 11:return io(o.type.render,!1);case 1:return io(o.type,!0);case 31:return is("Activity");default:return""}}function Fr(o){try{var c="";do c+=Uc(o),o=o.return;while(o);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function ta(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ao(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function rl(o){var c=ao(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),v=""+o[c];if(!o.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,I=p.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return E.call(this)},set:function(ee){v=""+ee,I.call(this,ee)}}),Object.defineProperty(o,c,{enumerable:p.enumerable}),{getValue:function(){return v},setValue:function(ee){v=""+ee},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function za(o){o._valueTracker||(o._valueTracker=rl(o))}function $l(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var p=c.getValue(),v="";return o&&(v=ao(o)?o.checked?"true":"false":o.value),o=v,o!==p?(c.setValue(o),!0):!1}function na(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var il=/[\n"\\]/g;function hr(o){return o.replace(il,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function ko(o,c,p,v,E,I,ee,me){o.name="",ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?o.type=ee:o.removeAttribute("type"),c!=null?ee==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+ta(c)):o.value!==""+ta(c)&&(o.value=""+ta(c)):ee!=="submit"&&ee!=="reset"||o.removeAttribute("value"),c!=null?_o(o,ee,ta(c)):p!=null?_o(o,ee,ta(p)):v!=null&&o.removeAttribute("value"),E==null&&I!=null&&(o.defaultChecked=!!I),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),me!=null&&typeof me!="function"&&typeof me!="symbol"&&typeof me!="boolean"?o.name=""+ta(me):o.removeAttribute("name")}function Ul(o,c,p,v,E,I,ee,me){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(o.type=I),c!=null||p!=null){if(!(I!=="submit"&&I!=="reset"||c!=null))return;p=p!=null?""+ta(p):"",c=c!=null?""+ta(c):p,me||c===o.value||(o.value=c),o.defaultValue=c}v=v??E,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=me?o.checked:!!v,o.defaultChecked=!!v,ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"&&(o.name=ee)}function _o(o,c,p){c==="number"&&na(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function Hs(o,c,p,v){if(o=o.options,c){c={};for(var E=0;E<p.length;E++)c["$"+p[E]]=!0;for(p=0;p<o.length;p++)E=c.hasOwnProperty("$"+o[p].value),o[p].selected!==E&&(o[p].selected=E),E&&v&&(o[p].defaultSelected=!0)}else{for(p=""+ta(p),c=null,E=0;E<o.length;E++){if(o[E].value===p){o[E].selected=!0,v&&(o[E].defaultSelected=!0);return}c!==null||o[E].disabled||(c=o[E])}c!==null&&(c.selected=!0)}}function Ou(o,c,p){if(c!=null&&(c=""+ta(c),c!==o.value&&(o.value=c),p==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=p!=null?""+ta(p):""}function Ws(o,c,p,v){if(c==null){if(v!=null){if(p!=null)throw Error(r(92));if(G(v)){if(1<v.length)throw Error(r(93));v=v[0]}p=v}p==null&&(p=""),c=p}p=ta(c),o.defaultValue=p,v=o.textContent,v===p&&v!==""&&v!==null&&(o.value=v)}function Bi(o,c){if(c){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=c;return}}o.textContent=c}var as=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vs(o,c,p){var v=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":v?o.setProperty(c,p):typeof p!="number"||p===0||as.has(c)?c==="float"?o.cssFloat=p:o[c]=(""+p).trim():o[c]=p+"px"}function Iu(o,c,p){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var E in c)v=c[E],c.hasOwnProperty(E)&&p[E]!==v&&vs(o,E,v)}else for(var I in c)c.hasOwnProperty(I)&&vs(o,I,c[I])}function qa(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ys=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),al=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vs(o){return al.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var sl=null;function li(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Jr=null,ws=null;function tn(o){var c=qi(o);if(c&&(o=c.stateNode)){var p=o[ar]||null;e:switch(o=c.stateNode,c.type){case"input":if(ko(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+hr(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var v=p[c];if(v!==o&&v.form===o.form){var E=v[ar]||null;if(!E)throw Error(r(90));ko(v,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(c=0;c<p.length;c++)v=p[c],v.form===o.form&&$l(v)}break e;case"textarea":Ou(o,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&Hs(o,!!p.multiple,c,!1)}}}var so=!1;function ol(o,c,p){if(so)return o(c,p);so=!0;try{var v=o(c);return v}finally{if(so=!1,(Jr!==null||ws!==null)&&(Zb(),Jr&&(c=Jr,o=ws,ws=Jr=null,tn(c),o)))for(c=0;c<o.length;c++)tn(o[c])}}function Ei(o,c){var p=o.stateNode;if(p===null)return null;var v=p[ar]||null;if(v===null)return null;p=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var Ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),No=!1;if(Ba)try{var $a={};Object.defineProperty($a,"passive",{get:function(){No=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{No=!1}var La=null,Ua=null,To=null;function ll(){if(To)return To;var o,c=Ua,p=c.length,v,E="value"in La?La.value:La.textContent,I=E.length;for(o=0;o<p&&c[o]===E[o];o++);var ee=p-o;for(v=1;v<=ee&&c[p-v]===E[I-v];v++);return To=E.slice(o,1<v?1-v:void 0)}function oo(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Ss(){return!0}function W(){return!1}function ge(o){function c(p,v,E,I,ee){this._reactName=p,this._targetInst=E,this.type=v,this.nativeEvent=I,this.target=ee,this.currentTarget=null;for(var me in o)o.hasOwnProperty(me)&&(p=o[me],this[me]=p?p(I):I[me]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Ss:W,this.isPropagationStopped=W,this}return f(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),c}var Ie={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lt=ge(Ie),Zt=f({},Ie,{view:0,detail:0}),$t=ge(Zt),jn,Cn,pr,bn=f({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==pr&&(pr&&o.type==="mousemove"?(jn=o.screenX-pr.screenX,Cn=o.screenY-pr.screenY):Cn=jn=0,pr=o),jn)},movementY:function(o){return"movementY"in o?o.movementY:Cn}}),Nr=ge(bn),Aa=f({},bn,{dataTransfer:0}),Sr=ge(Aa),Ar=f({},Zt,{relatedTarget:0}),Gr=ge(Ar),Ha=f({},Ie,{animationName:0,elapsedTime:0,pseudoElement:0}),Gs=ge(Ha),As=f({},Ie,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Yd=ge(As),ul=f({},Ie,{data:0}),jo=ge(ul),Dp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ph(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=hh[o])?!!c[o]:!1}function Gd(){return ph}var km=f({},Zt,{key:function(o){if(o.key){var c=Dp[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=oo(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Vd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gd,charCode:function(o){return o.type==="keypress"?oo(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?oo(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Qd=ge(km),Hc=f({},bn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kd=ge(Hc),Du=f({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gd}),mh=ge(Du),D=f({},Ie,{propertyName:0,elapsedTime:0,pseudoElement:0}),ae=ge(D),_e=f({},bn,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Re=ge(_e),Ge=f({},Ie,{newState:0,oldState:0}),dt=ge(Ge),At=[9,13,27,32],Ot=Ba&&"CompositionEvent"in window,Ut=null;Ba&&"documentMode"in document&&(Ut=document.documentMode);var vn=Ba&&"TextEvent"in window&&!Ut,pn=Ba&&(!Ot||Ut&&8<Ut&&11>=Ut),qn=" ",ei=!1;function ui(o,c){switch(o){case"keyup":return At.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ki(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var _i=!1;function Ca(o,c){switch(o){case"compositionend":return ki(c);case"keypress":return c.which!==32?null:(ei=!0,qn);case"textInput":return o=c.data,o===qn&&ei?null:o;default:return null}}function Oo(o,c){if(_i)return o==="compositionend"||!Ot&&ui(o,c)?(o=ll(),To=Ua=La=null,_i=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return pn&&c.locale!=="ko"?null:c.data;default:return null}}var Qs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Io(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Qs[o.type]:c==="textarea"}function gh(o,c,p,v){Jr?ws?ws.push(v):ws=[v]:Jr=v,c=iy(c,"onChange"),0<c.length&&(p=new lt("onChange","change",null,p,v),o.push({event:p,listeners:c}))}var Hl=null,Wl=null;function Xd(o){EE(o,0)}function Lu(o){var c=Zn(o);if($l(c))return o}function Zd(o,c){if(o==="change")return c}var Wc=!1;if(Ba){var ra;if(Ba){var Ru="oninput"in document;if(!Ru){var Yc=document.createElement("div");Yc.setAttribute("oninput","return;"),Ru=typeof Yc.oninput=="function"}ra=Ru}else ra=!1;Wc=ra&&(!document.documentMode||9<document.documentMode)}function Vc(){Hl&&(Hl.detachEvent("onpropertychange",Jd),Wl=Hl=null)}function Jd(o){if(o.propertyName==="value"&&Lu(Wl)){var c=[];gh(c,Wl,o,li(o)),ol(Xd,c)}}function Cs(o,c,p){o==="focusin"?(Vc(),Hl=c,Wl=p,Hl.attachEvent("onpropertychange",Jd)):o==="focusout"&&Vc()}function _m(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Lu(Wl)}function bh(o,c){if(o==="click")return Lu(c)}function Lp(o,c){if(o==="input"||o==="change")return Lu(c)}function lo(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Ea=typeof Object.is=="function"?Object.is:lo;function Mu(o,c){if(Ea(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),v=Object.keys(c);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var E=p[v];if(!He.call(c,E)||!Ea(o[E],c[E]))return!1}return!0}function yh(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Yl(o,c){var p=yh(o);o=0;for(var v;p;){if(p.nodeType===3){if(v=o+p.textContent.length,o<=c&&v>=c)return{node:p,offset:c-o};o=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=yh(p)}}function Fu(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Fu(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function ss(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=na(o.document);c instanceof o.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)o=c.contentWindow;else break;c=na(o.document)}return c}function Ra(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var Pu=Ba&&"documentMode"in document&&11>=document.documentMode,Es=null,Do=null,cl=null,Lo=!1;function mi(o,c,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Lo||Es==null||Es!==na(v)||(v=Es,"selectionStart"in v&&Ra(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),cl&&Mu(cl,v)||(cl=v,v=iy(Do,"onSelect"),0<v.length&&(c=new lt("onSelect","select",null,c,p),o.push({event:c,listeners:v}),c.target=Es)))}function Ro(o,c){var p={};return p[o.toLowerCase()]=c.toLowerCase(),p["Webkit"+o]="webkit"+c,p["Moz"+o]="moz"+c,p}var $i={animationend:Ro("Animation","AnimationEnd"),animationiteration:Ro("Animation","AnimationIteration"),animationstart:Ro("Animation","AnimationStart"),transitionrun:Ro("Transition","TransitionRun"),transitionstart:Ro("Transition","TransitionStart"),transitioncancel:Ro("Transition","TransitionCancel"),transitionend:Ro("Transition","TransitionEnd")},ks={},Gc={};Ba&&(Gc=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function dl(o){if(ks[o])return ks[o];if(!$i[o])return o;var c=$i[o],p;for(p in c)if(c.hasOwnProperty(p)&&p in Gc)return ks[o]=c[p];return o}var ef=dl("animationend"),zu=dl("animationiteration"),qu=dl("animationstart"),Bu=dl("transitionrun"),Qc=dl("transitionstart"),tf=dl("transitioncancel"),$u=dl("transitionend"),Vl=new Map,Kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kc.push("scrollEnd");function gi(o,c){Vl.set(o,c),Fa(c,[o])}var Ks=new WeakMap;function Dn(o,c){if(typeof o=="object"&&o!==null){var p=Ks.get(o);return p!==void 0?p:(c={value:o,source:c,stack:Fr(c)},Ks.set(o,c),c)}return{value:o,source:c,stack:Fr(c)}}var Ln=[],Pr=0,Ni=0;function uo(){for(var o=Pr,c=Ni=Pr=0;c<o;){var p=Ln[c];Ln[c++]=null;var v=Ln[c];Ln[c++]=null;var E=Ln[c];Ln[c++]=null;var I=Ln[c];if(Ln[c++]=null,v!==null&&E!==null){var ee=v.pending;ee===null?E.next=E:(E.next=ee.next,ee.next=E),v.pending=E}I!==0&&Rp(p,E,I)}}function Uu(o,c,p,v){Ln[Pr++]=o,Ln[Pr++]=c,Ln[Pr++]=p,Ln[Pr++]=v,Ni|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function Hu(o,c,p,v){return Uu(o,c,p,v),Xc(o)}function Gl(o,c){return Uu(o,null,null,c),Xc(o)}function Rp(o,c,p){o.lanes|=p;var v=o.alternate;v!==null&&(v.lanes|=p);for(var E=!1,I=o.return;I!==null;)I.childLanes|=p,v=I.alternate,v!==null&&(v.childLanes|=p),I.tag===22&&(o=I.stateNode,o===null||o._visibility&1||(E=!0)),o=I,I=I.return;return o.tag===3?(I=o.stateNode,E&&c!==null&&(E=31-Oe(p),o=I.hiddenUpdates,v=o[E],v===null?o[E]=[c]:v.push(c),c.lane=p|536870912),I):null}function Xc(o){if(50<Zm)throw Zm=0,e5=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var ka={};function co(o,c,p,v){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wa(o,c,p,v){return new co(o,c,p,v)}function nf(o){return o=o.prototype,!(!o||!o.isReactComponent)}function fl(o,c){var p=o.alternate;return p===null?(p=Wa(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function xh(o,c){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,c=p.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Zc(o,c,p,v,E,I){var ee=0;if(v=o,typeof o=="function")nf(o)&&(ee=1);else if(typeof o=="string")ee=XR(o,p,J.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case $:return o=Wa(31,p,c,E),o.elementType=$,o.lanes=I,o;case x:return Ql(p.children,E,I,c);case y:ee=8,E|=24;break;case A:return o=Wa(12,p,c,E|2),o.elementType=A,o.lanes=I,o;case R:return o=Wa(13,p,c,E),o.elementType=R,o.lanes=I,o;case z:return o=Wa(19,p,c,E),o.elementType=z,o.lanes=I,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case w:case T:ee=10;break e;case C:ee=9;break e;case M:ee=11;break e;case _:ee=14;break e;case L:ee=16,v=null;break e}ee=29,p=Error(r(130,o===null?"null":typeof o,"")),v=null}return c=Wa(ee,p,c,E),c.elementType=o,c.type=v,c.lanes=I,c}function Ql(o,c,p,v){return o=Wa(7,o,v,c),o.lanes=p,o}function Mp(o,c,p){return o=Wa(6,o,null,c),o.lanes=p,o}function vh(o,c,p){return c=Wa(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Wu=[],Kl=0,rf=null,Fp=0,fo=[],Xs=0,Jc=null,Xl=1,Zl="";function ed(o,c){Wu[Kl++]=Fp,Wu[Kl++]=rf,rf=o,Fp=c}function Sb(o,c,p){fo[Xs++]=Xl,fo[Xs++]=Zl,fo[Xs++]=Jc,Jc=o;var v=Xl;o=Zl;var E=32-Oe(v)-1;v&=~(1<<E),p+=1;var I=32-Oe(c)+E;if(30<I){var ee=E-E%5;I=(v&(1<<ee)-1).toString(32),v>>=ee,E-=ee,Xl=1<<32-Oe(c)+E|p<<E|v,Zl=I+o}else Xl=1<<I|p<<E|v,Zl=o}function wh(o){o.return!==null&&(ed(o,1),Sb(o,1,0))}function Sh(o){for(;o===rf;)rf=Wu[--Kl],Wu[Kl]=null,Fp=Wu[--Kl],Wu[Kl]=null;for(;o===Jc;)Jc=fo[--Xs],fo[Xs]=null,Zl=fo[--Xs],fo[Xs]=null,Xl=fo[--Xs],fo[Xs]=null}var ia=null,bi=null,er=!1,Yu=null,hl=!1,Nm=Error(r(519));function td(o){var c=Error(r(418,""));throw af(Dn(c,o)),Nm}function Ab(o){var c=o.stateNode,p=o.type,v=o.memoizedProps;switch(c[Hn]=o,c[ar]=v,p){case"dialog":$n("cancel",c),$n("close",c);break;case"iframe":case"object":case"embed":$n("load",c);break;case"video":case"audio":for(p=0;p<eg.length;p++)$n(eg[p],c);break;case"source":$n("error",c);break;case"img":case"image":case"link":$n("error",c),$n("load",c);break;case"details":$n("toggle",c);break;case"input":$n("invalid",c),Ul(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),za(c);break;case"select":$n("invalid",c);break;case"textarea":$n("invalid",c),Ws(c,v.value,v.defaultValue,v.children),za(c)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||v.suppressHydrationWarning===!0||TE(c.textContent,p)?(v.popover!=null&&($n("beforetoggle",c),$n("toggle",c)),v.onScroll!=null&&$n("scroll",c),v.onScrollEnd!=null&&$n("scrollend",c),v.onClick!=null&&(c.onclick=ay),c=!0):c=!1,c||td(o)}function Jl(o){for(ia=o.return;ia;)switch(ia.tag){case 5:case 13:hl=!1;return;case 27:case 3:hl=!0;return;default:ia=ia.return}}function os(o){if(o!==ia)return!1;if(!er)return Jl(o),er=!0,!1;var c=o.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||g5(o.type,o.memoizedProps)),p=!p),p&&bi&&td(o),Jl(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(p=o.data,p==="/$"){if(c===0){bi=ou(o.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++;o=o.nextSibling}bi=null}}else c===27?(c=bi,Sf(o.type)?(o=v5,v5=null,bi=o):bi=c):bi=ia?ou(o.stateNode.nextSibling):null;return!0}function Zs(){bi=ia=null,er=!1}function Cb(){var o=Yu;return o!==null&&(mo===null?mo=o:mo.push.apply(mo,o),Yu=null),o}function af(o){Yu===null?Yu=[o]:Yu.push(o)}var pl=se(null),_a=null,eu=null;function Vu(o,c,p){B(pl,c._currentValue),c._currentValue=p}function ml(o){o._currentValue=pl.current,q(pl)}function Pp(o,c,p){for(;o!==null;){var v=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),o===p)break;o=o.return}}function zp(o,c,p,v){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var I=E.dependencies;if(I!==null){var ee=E.child;I=I.firstContext;e:for(;I!==null;){var me=I;I=E;for(var je=0;je<c.length;je++)if(me.context===c[je]){I.lanes|=p,me=I.alternate,me!==null&&(me.lanes|=p),Pp(I.return,p,o),v||(ee=null);break e}I=me.next}}else if(E.tag===18){if(ee=E.return,ee===null)throw Error(r(341));ee.lanes|=p,I=ee.alternate,I!==null&&(I.lanes|=p),Pp(ee,p,o),ee=null}else ee=E.child;if(ee!==null)ee.return=E;else for(ee=E;ee!==null;){if(ee===o){ee=null;break}if(E=ee.sibling,E!==null){E.return=ee.return,ee=E;break}ee=ee.return}E=ee}}function sf(o,c,p,v){o=null;for(var E=c,I=!1;E!==null;){if(!I){if((E.flags&524288)!==0)I=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var ee=E.alternate;if(ee===null)throw Error(r(387));if(ee=ee.memoizedProps,ee!==null){var me=E.type;Ea(E.pendingProps.value,ee.value)||(o!==null?o.push(me):o=[me])}}else if(E===Se.current){if(ee=E.alternate,ee===null)throw Error(r(387));ee.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(sg):o=[sg])}E=E.return}o!==null&&zp(c,o,p,v),c.flags|=262144}function qp(o){for(o=o.firstContext;o!==null;){if(!Ea(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function gl(o){_a=o,eu=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function aa(o){return Bp(_a,o)}function Gu(o,c){return _a===null&&gl(o),Bp(o,c)}function Bp(o,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},eu===null){if(o===null)throw Error(r(308));eu=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else eu=eu.next=c;return p}var E2=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(p,v){o.push(v)}};this.abort=function(){c.aborted=!0,o.forEach(function(p){return p()})}},Eb=e.unstable_scheduleCallback,k2=e.unstable_NormalPriority,sa={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tm(){return{controller:new E2,data:new Map,refCount:0}}function Ah(o){o.refCount--,o.refCount===0&&Eb(k2,function(){o.controller.abort()})}var Ch=null,jm=0,nd=0,tu=null;function _2(o,c){if(Ch===null){var p=Ch=[];jm=0,nd=o5(),tu={status:"pending",value:void 0,then:function(v){p.push(v)}}}return jm++,c.then(kb,kb),c}function kb(){if(--jm===0&&Ch!==null){tu!==null&&(tu.status="fulfilled");var o=Ch;Ch=null,nd=0,tu=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function _b(o,c){var p=[],v={status:"pending",value:null,reason:null,then:function(E){p.push(E)}};return o.then(function(){v.status="fulfilled",v.value=c;for(var E=0;E<p.length;E++)(0,p[E])(c)},function(E){for(v.status="rejected",v.reason=E,E=0;E<p.length;E++)(0,p[E])(void 0)}),v}var S=H.S;H.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&_2(o,c),S!==null&&S(o,c)};var k=se(null);function P(){var o=k.current;return o!==null?o:ni.pooledCache}function V(o,c){c===null?B(k,k.current):B(k,c.pool)}function ie(){var o=P();return o===null?null:{parent:sa._currentValue,pool:o}}var ue=Error(r(460)),ce=Error(r(474)),pe=Error(r(542)),ye={then:function(){}};function Ee(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Fe(){}function Xe(o,c,p){switch(p=o[p],p===void 0?o.push(c):p!==c&&(c.then(Fe,Fe),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,yt(o),o;default:if(typeof c.status=="string")c.then(Fe,Fe);else{if(o=ni,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(v){if(c.status==="pending"){var E=c;E.status="fulfilled",E.value=v}},function(v){if(c.status==="pending"){var E=c;E.status="rejected",E.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,yt(o),o}throw Qe=c,ue}}var Qe=null;function We(){if(Qe===null)throw Error(r(459));var o=Qe;return Qe=null,o}function yt(o){if(o===ue||o===pe)throw Error(r(483))}var at=!1;function ze(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ue(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function pt(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function xt(o,c,p){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(jr&2)!==0){var E=v.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),v.pending=c,c=Xc(o),Rp(o,null,p),c}return Uu(o,v,c,p),Xc(o)}function gt(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var v=c.lanes;v&=o.pendingLanes,p|=v,c.lanes=p,An(o,p)}}function It(o,c){var p=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var E=null,I=null;if(p=p.firstBaseUpdate,p!==null){do{var ee={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};I===null?E=I=ee:I=I.next=ee,p=p.next}while(p!==null);I===null?E=I=c:I=I.next=c}else E=I=c;p={baseState:v.baseState,firstBaseUpdate:E,lastBaseUpdate:I,shared:v.shared,callbacks:v.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}var Tt=!1;function Gt(){if(Tt){var o=tu;if(o!==null)throw o}}function jt(o,c,p,v){Tt=!1;var E=o.updateQueue;at=!1;var I=E.firstBaseUpdate,ee=E.lastBaseUpdate,me=E.shared.pending;if(me!==null){E.shared.pending=null;var je=me,Je=je.next;je.next=null,ee===null?I=Je:ee.next=Je,ee=je;var mt=o.alternate;mt!==null&&(mt=mt.updateQueue,me=mt.lastBaseUpdate,me!==ee&&(me===null?mt.firstBaseUpdate=Je:me.next=Je,mt.lastBaseUpdate=je))}if(I!==null){var St=E.baseState;ee=0,mt=Je=je=null,me=I;do{var nt=me.lane&-536870913,it=nt!==me.lane;if(it?(Gn&nt)===nt:(v&nt)===nt){nt!==0&&nt===nd&&(Tt=!0),mt!==null&&(mt=mt.next={lane:0,tag:me.tag,payload:me.payload,callback:null,next:null});e:{var hn=o,rn=me;nt=c;var qr=p;switch(rn.tag){case 1:if(hn=rn.payload,typeof hn=="function"){St=hn.call(qr,St,nt);break e}St=hn;break e;case 3:hn.flags=hn.flags&-65537|128;case 0:if(hn=rn.payload,nt=typeof hn=="function"?hn.call(qr,St,nt):hn,nt==null)break e;St=f({},St,nt);break e;case 2:at=!0}}nt=me.callback,nt!==null&&(o.flags|=64,it&&(o.flags|=8192),it=E.callbacks,it===null?E.callbacks=[nt]:it.push(nt))}else it={lane:nt,tag:me.tag,payload:me.payload,callback:me.callback,next:null},mt===null?(Je=mt=it,je=St):mt=mt.next=it,ee|=nt;if(me=me.next,me===null){if(me=E.shared.pending,me===null)break;it=me,me=it.next,it.next=null,E.lastBaseUpdate=it,E.shared.pending=null}}while(!0);mt===null&&(je=St),E.baseState=je,E.firstBaseUpdate=Je,E.lastBaseUpdate=mt,I===null&&(E.shared.lanes=0),yf|=ee,o.lanes=ee,o.memoizedState=St}}function Yn(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function sr(o,c){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)Yn(p[o],c)}var In=se(null),On=se(0);function Cr(o,c){o=fd,B(On,o),B(In,c),fd=o|c.baseLanes}function or(){B(On,fd),B(In,In.current)}function yn(){fd=On.current,q(In),q(On)}var Tr=0,en=null,un=null,Wn=null,Vn=!1,Na=!1,oa=!1,Ti=0,ji=0,Ui=null,ho=0;function lr(){throw Error(r(321))}function Hi(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!Ea(o[p],c[p]))return!1;return!0}function Mo(o,c,p,v,E,I){return Tr=I,en=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,H.H=o===null||o.memoizedState===null?uC:cC,oa=!1,I=p(v,E),oa=!1,Na&&(I=rd(c,p,v,E)),Qu(o),I}function Qu(o){H.H=zb;var c=un!==null&&un.next!==null;if(Tr=0,Wn=un=en=null,Vn=!1,ji=0,Ui=null,c)throw Error(r(300));o===null||Ya||(o=o.dependencies,o!==null&&qp(o)&&(Ya=!0))}function rd(o,c,p,v){en=o;var E=0;do{if(Na&&(Ui=null),ji=0,Na=!1,25<=E)throw Error(r(301));if(E+=1,Wn=un=null,o.updateQueue!=null){var I=o.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}H.H=lR,I=c(p,v)}while(Na);return I}function Ku(){var o=H.H,c=o.useState()[0];return c=typeof c.then=="function"?Xu(c):c,o=o.useState()[0],(un!==null?un.memoizedState:null)!==o&&(en.flags|=1024),c}function ti(){var o=Ti!==0;return Ti=0,o}function Eh(o,c,p){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~p}function $p(o){if(Vn){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Vn=!1}Tr=0,Wn=un=en=null,Na=!1,ji=Ti=0,Ui=null}function ls(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?en.memoizedState=Wn=o:Wn=Wn.next=o,Wn}function ci(){if(un===null){var o=en.alternate;o=o!==null?o.memoizedState:null}else o=un.next;var c=Wn===null?en.memoizedState:Wn.next;if(c!==null)Wn=c,un=o;else{if(o===null)throw en.alternate===null?Error(r(467)):Error(r(310));un=o,o={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},Wn===null?en.memoizedState=Wn=o:Wn=Wn.next=o}return Wn}function id(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xu(o){var c=ji;return ji+=1,Ui===null&&(Ui=[]),o=Xe(Ui,o,c),c=en,(Wn===null?c.memoizedState:Wn.next)===null&&(c=c.alternate,H.H=c===null||c.memoizedState===null?uC:cC),o}function _s(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Xu(o);if(o.$$typeof===T)return aa(o)}throw Error(r(438,String(o)))}function Zu(o){var c=null,p=en.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var v=en.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(E){return E.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=id(),en.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(o),v=0;v<o;v++)p[v]=Z;return c.index++,p}function Ns(o,c){return typeof c=="function"?c(o):c}function kh(o){var c=ci();return of(c,un,o)}function of(o,c,p){var v=o.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=p;var E=o.baseQueue,I=v.pending;if(I!==null){if(E!==null){var ee=E.next;E.next=I.next,I.next=ee}c.baseQueue=E=I,v.pending=null}if(I=o.baseState,E===null)o.memoizedState=I;else{c=E.next;var me=ee=null,je=null,Je=c,mt=!1;do{var St=Je.lane&-536870913;if(St!==Je.lane?(Gn&St)===St:(Tr&St)===St){var nt=Je.revertLane;if(nt===0)je!==null&&(je=je.next={lane:0,revertLane:0,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null}),St===nd&&(mt=!0);else if((Tr&nt)===nt){Je=Je.next,nt===nd&&(mt=!0);continue}else St={lane:0,revertLane:Je.revertLane,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null},je===null?(me=je=St,ee=I):je=je.next=St,en.lanes|=nt,yf|=nt;St=Je.action,oa&&p(I,St),I=Je.hasEagerState?Je.eagerState:p(I,St)}else nt={lane:St,revertLane:Je.revertLane,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null},je===null?(me=je=nt,ee=I):je=je.next=nt,en.lanes|=St,yf|=St;Je=Je.next}while(Je!==null&&Je!==c);if(je===null?ee=I:je.next=me,!Ea(I,o.memoizedState)&&(Ya=!0,mt&&(p=tu,p!==null)))throw p;o.memoizedState=I,o.baseState=ee,o.baseQueue=je,v.lastRenderedState=I}return E===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function Up(o){var c=ci(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var v=p.dispatch,E=p.pending,I=c.memoizedState;if(E!==null){p.pending=null;var ee=E=E.next;do I=o(I,ee.action),ee=ee.next;while(ee!==E);Ea(I,c.memoizedState)||(Ya=!0),c.memoizedState=I,c.baseQueue===null&&(c.baseState=I),p.lastRenderedState=I}return[I,v]}function _h(o,c,p){var v=en,E=ci(),I=er;if(I){if(p===void 0)throw Error(r(407));p=p()}else p=c();var ee=!Ea((un||E).memoizedState,p);ee&&(E.memoizedState=p,Ya=!0),E=E.queue;var me=lf.bind(null,v,E,o);if(df(2048,8,me,[o]),E.getSnapshot!==c||ee||Wn!==null&&Wn.memoizedState.tag&1){if(v.flags|=2048,ru(9,Oh(),Nh.bind(null,v,E,p,c),null),ni===null)throw Error(r(349));I||(Tr&124)!==0||Hp(v,c,p)}return p}function Hp(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=en.updateQueue,c===null?(c=id(),en.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function Nh(o,c,p,v){c.value=p,c.getSnapshot=v,Nb(c)&&Tb(o)}function lf(o,c,p){return p(function(){Nb(c)&&Tb(o)})}function Nb(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!Ea(o,p)}catch{return!0}}function Tb(o){var c=Gl(o,2);c!==null&&$o(c,o,2)}function Th(o){var c=ls();if(typeof o=="function"){var p=o;if(o=p(),oa){Ne(!0);try{p()}finally{Ne(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:o},c}function nu(o,c,p,v){return o.baseState=p,of(o,un,typeof v=="function"?v:Ns)}function N2(o,c,p,v,E){if(Pb(o))throw Error(r(485));if(o=c.action,o!==null){var I={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ee){I.listeners.push(ee)}};H.T!==null?p(!0):I.isTransition=!1,v(I),p=c.pending,p===null?(I.next=c.pending=I,jb(c,I)):(I.next=p.next,c.pending=p.next=I)}}function jb(o,c){var p=c.action,v=c.payload,E=o.state;if(c.isTransition){var I=H.T,ee={};H.T=ee;try{var me=p(E,v),je=H.S;je!==null&&je(ee,me),Ob(o,c,me)}catch(Je){uf(o,c,Je)}finally{H.T=I}}else try{I=p(E,v),Ob(o,c,I)}catch(Je){uf(o,c,Je)}}function Ob(o,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){Om(o,c,v)},function(v){return uf(o,c,v)}):Om(o,c,p)}function Om(o,c,p){c.status="fulfilled",c.value=p,Im(c),o.state=p,c=o.pending,c!==null&&(p=c.next,p===c?o.pending=null:(p=p.next,c.next=p,jb(o,p)))}function uf(o,c,p){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=p,Im(c),c=c.next;while(c!==v)}o.action=null}function Im(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function Dm(o,c){return c}function jh(o,c){if(er){var p=ni.formState;if(p!==null){e:{var v=en;if(er){if(bi){t:{for(var E=bi,I=hl;E.nodeType!==8;){if(!I){E=null;break t}if(E=ou(E.nextSibling),E===null){E=null;break t}}I=E.data,E=I==="F!"||I==="F"?E:null}if(E){bi=ou(E.nextSibling),v=E.data==="F!";break e}}td(v)}v=!1}v&&(c=p[0])}}return p=ls(),p.memoizedState=p.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dm,lastRenderedState:c},p.queue=v,p=sC.bind(null,en,v),v.dispatch=p,v=Th(!1),I=T2.bind(null,en,!1,v.queue),v=ls(),E={state:c,dispatch:null,action:o,pending:null},v.queue=E,p=N2.bind(null,en,E,I,p),E.dispatch=p,v.memoizedState=o,[c,p,!1]}function Wp(o){var c=ci();return cf(c,un,o)}function cf(o,c,p){if(c=of(o,c,Dm)[0],o=kh(Ns)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=Xu(c)}catch(ee){throw ee===ue?pe:ee}else v=c;c=ci();var E=c.queue,I=E.dispatch;return p!==c.memoizedState&&(en.flags|=2048,ru(9,Oh(),Ib.bind(null,E,p),null)),[v,I,o]}function Ib(o,c){o.action=c}function Db(o){var c=ci(),p=un;if(p!==null)return cf(c,p,o);ci(),c=c.memoizedState,p=ci();var v=p.queue.dispatch;return p.memoizedState=o,[c,v,!1]}function ru(o,c,p,v){return o={tag:o,create:p,deps:v,inst:c,next:null},c=en.updateQueue,c===null&&(c=id(),en.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=o.next=o:(v=p.next,p.next=o,o.next=v,c.lastEffect=o),o}function Oh(){return{destroy:void 0,resource:void 0}}function Yp(){return ci().memoizedState}function Fo(o,c,p,v){var E=ls();v=v===void 0?null:v,en.flags|=o,E.memoizedState=ru(1|c,Oh(),p,v)}function df(o,c,p,v){var E=ci();v=v===void 0?null:v;var I=E.memoizedState.inst;un!==null&&v!==null&&Hi(v,un.memoizedState.deps)?E.memoizedState=ru(c,I,p,v):(en.flags|=o,E.memoizedState=ru(1|c,I,p,v))}function Lm(o,c){Fo(8390656,8,o,c)}function Lb(o,c){df(2048,8,o,c)}function Rm(o,c){return df(4,2,o,c)}function ad(o,c){return df(4,4,o,c)}function Rb(o,c){if(typeof c=="function"){o=o();var p=c(o);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Mm(o,c,p){p=p!=null?p.concat([o]):null,df(4,4,Rb.bind(null,c,o),p)}function Fm(){}function Pm(o,c){var p=ci();c=c===void 0?null:c;var v=p.memoizedState;return c!==null&&Hi(c,v[1])?v[0]:(p.memoizedState=[o,c],o)}function Mb(o,c){var p=ci();c=c===void 0?null:c;var v=p.memoizedState;if(c!==null&&Hi(c,v[1]))return v[0];if(v=o(),oa){Ne(!0);try{o()}finally{Ne(!1)}}return p.memoizedState=[v,c],v}function sd(o,c,p){return p===void 0||(Tr&1073741824)!==0?o.memoizedState=c:(o.memoizedState=p,o=nE(),en.lanes|=o,yf|=o,p)}function Vp(o,c,p,v){return Ea(p,c)?p:In.current!==null?(o=sd(o,p,v),Ea(o,c)||(Ya=!0),o):(Tr&42)===0?(Ya=!0,o.memoizedState=p):(o=nE(),en.lanes|=o,yf|=o,c)}function Ih(o,c,p,v,E){var I=Q.p;Q.p=I!==0&&8>I?I:8;var ee=H.T,me={};H.T=me,T2(o,!1,c,p);try{var je=E(),Je=H.S;if(Je!==null&&Je(me,je),je!==null&&typeof je=="object"&&typeof je.then=="function"){var mt=_b(je,v);$m(o,c,mt,Bo(o))}else $m(o,c,v,Bo(o))}catch(St){$m(o,c,{then:function(){},status:"rejected",reason:St},Bo())}finally{Q.p=I,H.T=ee}}function iu(){}function bl(o,c,p,v){if(o.tag!==5)throw Error(r(476));var E=au(o).queue;Ih(o,E,c,te,p===null?iu:function(){return Dh(o),p(v)})}function au(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:te},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:p},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function Dh(o){var c=au(o).next.queue;$m(o,c,{},Bo())}function Lh(){return aa(sg)}function zm(){return ci().memoizedState}function Fb(){return ci().memoizedState}function qm(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var p=Bo();o=pt(p);var v=xt(c,o,p);v!==null&&($o(v,c,p),gt(v,c,p)),c={cache:Tm()},o.payload=c;return}c=c.return}}function Bm(o,c,p){var v=Bo();p={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},Pb(o)?oC(c,p):(p=Hu(o,c,p,v),p!==null&&($o(p,o,v),lC(p,c,v)))}function sC(o,c,p){var v=Bo();$m(o,c,p,v)}function $m(o,c,p,v){var E={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(Pb(o))oC(c,E);else{var I=o.alternate;if(o.lanes===0&&(I===null||I.lanes===0)&&(I=c.lastRenderedReducer,I!==null))try{var ee=c.lastRenderedState,me=I(ee,p);if(E.hasEagerState=!0,E.eagerState=me,Ea(me,ee))return Uu(o,c,E,0),ni===null&&uo(),!1}catch{}finally{}if(p=Hu(o,c,E,v),p!==null)return $o(p,o,v),lC(p,c,v),!0}return!1}function T2(o,c,p,v){if(v={lane:2,revertLane:o5(),action:v,hasEagerState:!1,eagerState:null,next:null},Pb(o)){if(c)throw Error(r(479))}else c=Hu(o,p,v,2),c!==null&&$o(c,o,2)}function Pb(o){var c=o.alternate;return o===en||c!==null&&c===en}function oC(o,c){Na=Vn=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function lC(o,c,p){if((p&4194048)!==0){var v=c.lanes;v&=o.pendingLanes,p|=v,c.lanes=p,An(o,p)}}var zb={readContext:aa,use:_s,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useLayoutEffect:lr,useInsertionEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useSyncExternalStore:lr,useId:lr,useHostTransitionStatus:lr,useFormState:lr,useActionState:lr,useOptimistic:lr,useMemoCache:lr,useCacheRefresh:lr},uC={readContext:aa,use:_s,useCallback:function(o,c){return ls().memoizedState=[o,c===void 0?null:c],o},useContext:aa,useEffect:Lm,useImperativeHandle:function(o,c,p){p=p!=null?p.concat([o]):null,Fo(4194308,4,Rb.bind(null,c,o),p)},useLayoutEffect:function(o,c){return Fo(4194308,4,o,c)},useInsertionEffect:function(o,c){Fo(4,2,o,c)},useMemo:function(o,c){var p=ls();c=c===void 0?null:c;var v=o();if(oa){Ne(!0);try{o()}finally{Ne(!1)}}return p.memoizedState=[v,c],v},useReducer:function(o,c,p){var v=ls();if(p!==void 0){var E=p(c);if(oa){Ne(!0);try{p(c)}finally{Ne(!1)}}}else E=c;return v.memoizedState=v.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},v.queue=o,o=o.dispatch=Bm.bind(null,en,o),[v.memoizedState,o]},useRef:function(o){var c=ls();return o={current:o},c.memoizedState=o},useState:function(o){o=Th(o);var c=o.queue,p=sC.bind(null,en,c);return c.dispatch=p,[o.memoizedState,p]},useDebugValue:Fm,useDeferredValue:function(o,c){var p=ls();return sd(p,o,c)},useTransition:function(){var o=Th(!1);return o=Ih.bind(null,en,o.queue,!0,!1),ls().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,p){var v=en,E=ls();if(er){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),ni===null)throw Error(r(349));(Gn&124)!==0||Hp(v,c,p)}E.memoizedState=p;var I={value:p,getSnapshot:c};return E.queue=I,Lm(lf.bind(null,v,I,o),[o]),v.flags|=2048,ru(9,Oh(),Nh.bind(null,v,I,p,c),null),p},useId:function(){var o=ls(),c=ni.identifierPrefix;if(er){var p=Zl,v=Xl;p=(v&~(1<<32-Oe(v)-1)).toString(32)+p,c=""+c+"R"+p,p=Ti++,0<p&&(c+="H"+p.toString(32)),c+=""}else p=ho++,c=""+c+"r"+p.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:Lh,useFormState:jh,useActionState:jh,useOptimistic:function(o){var c=ls();c.memoizedState=c.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=T2.bind(null,en,!0,p),p.dispatch=c,[o,c]},useMemoCache:Zu,useCacheRefresh:function(){return ls().memoizedState=qm.bind(null,en)}},cC={readContext:aa,use:_s,useCallback:Pm,useContext:aa,useEffect:Lb,useImperativeHandle:Mm,useInsertionEffect:Rm,useLayoutEffect:ad,useMemo:Mb,useReducer:kh,useRef:Yp,useState:function(){return kh(Ns)},useDebugValue:Fm,useDeferredValue:function(o,c){var p=ci();return Vp(p,un.memoizedState,o,c)},useTransition:function(){var o=kh(Ns)[0],c=ci().memoizedState;return[typeof o=="boolean"?o:Xu(o),c]},useSyncExternalStore:_h,useId:zm,useHostTransitionStatus:Lh,useFormState:Wp,useActionState:Wp,useOptimistic:function(o,c){var p=ci();return nu(p,un,o,c)},useMemoCache:Zu,useCacheRefresh:Fb},lR={readContext:aa,use:_s,useCallback:Pm,useContext:aa,useEffect:Lb,useImperativeHandle:Mm,useInsertionEffect:Rm,useLayoutEffect:ad,useMemo:Mb,useReducer:Up,useRef:Yp,useState:function(){return Up(Ns)},useDebugValue:Fm,useDeferredValue:function(o,c){var p=ci();return un===null?sd(p,o,c):Vp(p,un.memoizedState,o,c)},useTransition:function(){var o=Up(Ns)[0],c=ci().memoizedState;return[typeof o=="boolean"?o:Xu(o),c]},useSyncExternalStore:_h,useId:zm,useHostTransitionStatus:Lh,useFormState:Db,useActionState:Db,useOptimistic:function(o,c){var p=ci();return un!==null?nu(p,un,o,c):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:Zu,useCacheRefresh:Fb},Gp=null,Um=0;function qb(o){var c=Um;return Um+=1,Gp===null&&(Gp=[]),Xe(Gp,o,c)}function Hm(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Bb(o,c){throw c.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function dC(o){var c=o._init;return c(o._payload)}function fC(o){function c(Ye,Be){if(o){var Ke=Ye.deletions;Ke===null?(Ye.deletions=[Be],Ye.flags|=16):Ke.push(Be)}}function p(Ye,Be){if(!o)return null;for(;Be!==null;)c(Ye,Be),Be=Be.sibling;return null}function v(Ye){for(var Be=new Map;Ye!==null;)Ye.key!==null?Be.set(Ye.key,Ye):Be.set(Ye.index,Ye),Ye=Ye.sibling;return Be}function E(Ye,Be){return Ye=fl(Ye,Be),Ye.index=0,Ye.sibling=null,Ye}function I(Ye,Be,Ke){return Ye.index=Ke,o?(Ke=Ye.alternate,Ke!==null?(Ke=Ke.index,Ke<Be?(Ye.flags|=67108866,Be):Ke):(Ye.flags|=67108866,Be)):(Ye.flags|=1048576,Be)}function ee(Ye){return o&&Ye.alternate===null&&(Ye.flags|=67108866),Ye}function me(Ye,Be,Ke,bt){return Be===null||Be.tag!==6?(Be=Mp(Ke,Ye.mode,bt),Be.return=Ye,Be):(Be=E(Be,Ke),Be.return=Ye,Be)}function je(Ye,Be,Ke,bt){var qt=Ke.type;return qt===x?mt(Ye,Be,Ke.props.children,bt,Ke.key):Be!==null&&(Be.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===L&&dC(qt)===Be.type)?(Be=E(Be,Ke.props),Hm(Be,Ke),Be.return=Ye,Be):(Be=Zc(Ke.type,Ke.key,Ke.props,null,Ye.mode,bt),Hm(Be,Ke),Be.return=Ye,Be)}function Je(Ye,Be,Ke,bt){return Be===null||Be.tag!==4||Be.stateNode.containerInfo!==Ke.containerInfo||Be.stateNode.implementation!==Ke.implementation?(Be=vh(Ke,Ye.mode,bt),Be.return=Ye,Be):(Be=E(Be,Ke.children||[]),Be.return=Ye,Be)}function mt(Ye,Be,Ke,bt,qt){return Be===null||Be.tag!==7?(Be=Ql(Ke,Ye.mode,bt,qt),Be.return=Ye,Be):(Be=E(Be,Ke),Be.return=Ye,Be)}function St(Ye,Be,Ke){if(typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint")return Be=Mp(""+Be,Ye.mode,Ke),Be.return=Ye,Be;if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case b:return Ke=Zc(Be.type,Be.key,Be.props,null,Ye.mode,Ke),Hm(Ke,Be),Ke.return=Ye,Ke;case g:return Be=vh(Be,Ye.mode,Ke),Be.return=Ye,Be;case L:var bt=Be._init;return Be=bt(Be._payload),St(Ye,Be,Ke)}if(G(Be)||j(Be))return Be=Ql(Be,Ye.mode,Ke,null),Be.return=Ye,Be;if(typeof Be.then=="function")return St(Ye,qb(Be),Ke);if(Be.$$typeof===T)return St(Ye,Gu(Ye,Be),Ke);Bb(Ye,Be)}return null}function nt(Ye,Be,Ke,bt){var qt=Be!==null?Be.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return qt!==null?null:me(Ye,Be,""+Ke,bt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case b:return Ke.key===qt?je(Ye,Be,Ke,bt):null;case g:return Ke.key===qt?Je(Ye,Be,Ke,bt):null;case L:return qt=Ke._init,Ke=qt(Ke._payload),nt(Ye,Be,Ke,bt)}if(G(Ke)||j(Ke))return qt!==null?null:mt(Ye,Be,Ke,bt,null);if(typeof Ke.then=="function")return nt(Ye,Be,qb(Ke),bt);if(Ke.$$typeof===T)return nt(Ye,Be,Gu(Ye,Ke),bt);Bb(Ye,Ke)}return null}function it(Ye,Be,Ke,bt,qt){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return Ye=Ye.get(Ke)||null,me(Be,Ye,""+bt,qt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case b:return Ye=Ye.get(bt.key===null?Ke:bt.key)||null,je(Be,Ye,bt,qt);case g:return Ye=Ye.get(bt.key===null?Ke:bt.key)||null,Je(Be,Ye,bt,qt);case L:var Mn=bt._init;return bt=Mn(bt._payload),it(Ye,Be,Ke,bt,qt)}if(G(bt)||j(bt))return Ye=Ye.get(Ke)||null,mt(Be,Ye,bt,qt,null);if(typeof bt.then=="function")return it(Ye,Be,Ke,qb(bt),qt);if(bt.$$typeof===T)return it(Ye,Be,Ke,Gu(Be,bt),qt);Bb(Be,bt)}return null}function hn(Ye,Be,Ke,bt){for(var qt=null,Mn=null,Kt=Be,sn=Be=0,Ga=null;Kt!==null&&sn<Ke.length;sn++){Kt.index>sn?(Ga=Kt,Kt=null):Ga=Kt.sibling;var ur=nt(Ye,Kt,Ke[sn],bt);if(ur===null){Kt===null&&(Kt=Ga);break}o&&Kt&&ur.alternate===null&&c(Ye,Kt),Be=I(ur,Be,sn),Mn===null?qt=ur:Mn.sibling=ur,Mn=ur,Kt=Ga}if(sn===Ke.length)return p(Ye,Kt),er&&ed(Ye,sn),qt;if(Kt===null){for(;sn<Ke.length;sn++)Kt=St(Ye,Ke[sn],bt),Kt!==null&&(Be=I(Kt,Be,sn),Mn===null?qt=Kt:Mn.sibling=Kt,Mn=Kt);return er&&ed(Ye,sn),qt}for(Kt=v(Kt);sn<Ke.length;sn++)Ga=it(Kt,Ye,sn,Ke[sn],bt),Ga!==null&&(o&&Ga.alternate!==null&&Kt.delete(Ga.key===null?sn:Ga.key),Be=I(Ga,Be,sn),Mn===null?qt=Ga:Mn.sibling=Ga,Mn=Ga);return o&&Kt.forEach(function(_f){return c(Ye,_f)}),er&&ed(Ye,sn),qt}function rn(Ye,Be,Ke,bt){if(Ke==null)throw Error(r(151));for(var qt=null,Mn=null,Kt=Be,sn=Be=0,Ga=null,ur=Ke.next();Kt!==null&&!ur.done;sn++,ur=Ke.next()){Kt.index>sn?(Ga=Kt,Kt=null):Ga=Kt.sibling;var _f=nt(Ye,Kt,ur.value,bt);if(_f===null){Kt===null&&(Kt=Ga);break}o&&Kt&&_f.alternate===null&&c(Ye,Kt),Be=I(_f,Be,sn),Mn===null?qt=_f:Mn.sibling=_f,Mn=_f,Kt=Ga}if(ur.done)return p(Ye,Kt),er&&ed(Ye,sn),qt;if(Kt===null){for(;!ur.done;sn++,ur=Ke.next())ur=St(Ye,ur.value,bt),ur!==null&&(Be=I(ur,Be,sn),Mn===null?qt=ur:Mn.sibling=ur,Mn=ur);return er&&ed(Ye,sn),qt}for(Kt=v(Kt);!ur.done;sn++,ur=Ke.next())ur=it(Kt,Ye,sn,ur.value,bt),ur!==null&&(o&&ur.alternate!==null&&Kt.delete(ur.key===null?sn:ur.key),Be=I(ur,Be,sn),Mn===null?qt=ur:Mn.sibling=ur,Mn=ur);return o&&Kt.forEach(function(u9){return c(Ye,u9)}),er&&ed(Ye,sn),qt}function qr(Ye,Be,Ke,bt){if(typeof Ke=="object"&&Ke!==null&&Ke.type===x&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case b:e:{for(var qt=Ke.key;Be!==null;){if(Be.key===qt){if(qt=Ke.type,qt===x){if(Be.tag===7){p(Ye,Be.sibling),bt=E(Be,Ke.props.children),bt.return=Ye,Ye=bt;break e}}else if(Be.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===L&&dC(qt)===Be.type){p(Ye,Be.sibling),bt=E(Be,Ke.props),Hm(bt,Ke),bt.return=Ye,Ye=bt;break e}p(Ye,Be);break}else c(Ye,Be);Be=Be.sibling}Ke.type===x?(bt=Ql(Ke.props.children,Ye.mode,bt,Ke.key),bt.return=Ye,Ye=bt):(bt=Zc(Ke.type,Ke.key,Ke.props,null,Ye.mode,bt),Hm(bt,Ke),bt.return=Ye,Ye=bt)}return ee(Ye);case g:e:{for(qt=Ke.key;Be!==null;){if(Be.key===qt)if(Be.tag===4&&Be.stateNode.containerInfo===Ke.containerInfo&&Be.stateNode.implementation===Ke.implementation){p(Ye,Be.sibling),bt=E(Be,Ke.children||[]),bt.return=Ye,Ye=bt;break e}else{p(Ye,Be);break}else c(Ye,Be);Be=Be.sibling}bt=vh(Ke,Ye.mode,bt),bt.return=Ye,Ye=bt}return ee(Ye);case L:return qt=Ke._init,Ke=qt(Ke._payload),qr(Ye,Be,Ke,bt)}if(G(Ke))return hn(Ye,Be,Ke,bt);if(j(Ke)){if(qt=j(Ke),typeof qt!="function")throw Error(r(150));return Ke=qt.call(Ke),rn(Ye,Be,Ke,bt)}if(typeof Ke.then=="function")return qr(Ye,Be,qb(Ke),bt);if(Ke.$$typeof===T)return qr(Ye,Be,Gu(Ye,Ke),bt);Bb(Ye,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint"?(Ke=""+Ke,Be!==null&&Be.tag===6?(p(Ye,Be.sibling),bt=E(Be,Ke),bt.return=Ye,Ye=bt):(p(Ye,Be),bt=Mp(Ke,Ye.mode,bt),bt.return=Ye,Ye=bt),ee(Ye)):p(Ye,Be)}return function(Ye,Be,Ke,bt){try{Um=0;var qt=qr(Ye,Be,Ke,bt);return Gp=null,qt}catch(Kt){if(Kt===ue||Kt===pe)throw Kt;var Mn=Wa(29,Kt,null,Ye.mode);return Mn.lanes=bt,Mn.return=Ye,Mn}finally{}}}var Qp=fC(!0),hC=fC(!1),yl=se(null),Ju=null;function ff(o){var c=o.alternate;B(Ma,Ma.current&1),B(yl,o),Ju===null&&(c===null||In.current!==null||c.memoizedState!==null)&&(Ju=o)}function pC(o){if(o.tag===22){if(B(Ma,Ma.current),B(yl,o),Ju===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(Ju=o)}}else hf()}function hf(){B(Ma,Ma.current),B(yl,yl.current)}function od(o){q(yl),Ju===o&&(Ju=null),q(Ma)}var Ma=se(0);function $b(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||x5(p)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function j2(o,c,p,v){c=o.memoizedState,p=p(v,c),p=p==null?c:f({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var O2={enqueueSetState:function(o,c,p){o=o._reactInternals;var v=Bo(),E=pt(v);E.payload=c,p!=null&&(E.callback=p),c=xt(o,E,v),c!==null&&($o(c,o,v),gt(c,o,v))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var v=Bo(),E=pt(v);E.tag=1,E.payload=c,p!=null&&(E.callback=p),c=xt(o,E,v),c!==null&&($o(c,o,v),gt(c,o,v))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=Bo(),v=pt(p);v.tag=2,c!=null&&(v.callback=c),c=xt(o,v,p),c!==null&&($o(c,o,p),gt(c,o,p))}};function mC(o,c,p,v,E,I,ee){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,I,ee):c.prototype&&c.prototype.isPureReactComponent?!Mu(p,v)||!Mu(E,I):!0}function gC(o,c,p,v){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,v),c.state!==o&&O2.enqueueReplaceState(c,c.state,null)}function Rh(o,c){var p=c;if("ref"in c){p={};for(var v in c)v!=="ref"&&(p[v]=c[v])}if(o=o.defaultProps){p===c&&(p=f({},p));for(var E in o)p[E]===void 0&&(p[E]=o[E])}return p}var Ub=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function bC(o){Ub(o)}function yC(o){console.error(o)}function xC(o){Ub(o)}function Hb(o,c){try{var p=o.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function vC(o,c,p){try{var v=o.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function I2(o,c,p){return p=pt(p),p.tag=3,p.payload={element:null},p.callback=function(){Hb(o,c)},p}function wC(o){return o=pt(o),o.tag=3,o}function SC(o,c,p,v){var E=p.type.getDerivedStateFromError;if(typeof E=="function"){var I=v.value;o.payload=function(){return E(I)},o.callback=function(){vC(c,p,v)}}var ee=p.stateNode;ee!==null&&typeof ee.componentDidCatch=="function"&&(o.callback=function(){vC(c,p,v),typeof E!="function"&&(xf===null?xf=new Set([this]):xf.add(this));var me=v.stack;this.componentDidCatch(v.value,{componentStack:me!==null?me:""})})}function uR(o,c,p,v,E){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=p.alternate,c!==null&&sf(c,p,E,!0),p=yl.current,p!==null){switch(p.tag){case 13:return Ju===null?n5():p.alternate===null&&Wi===0&&(Wi=3),p.flags&=-257,p.flags|=65536,p.lanes=E,v===ye?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([v]):c.add(v),i5(o,v,E)),!1;case 22:return p.flags|=65536,v===ye?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([v]):p.add(v)),i5(o,v,E)),!1}throw Error(r(435,p.tag))}return i5(o,v,E),n5(),!1}if(er)return c=yl.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=E,v!==Nm&&(o=Error(r(422),{cause:v}),af(Dn(o,p)))):(v!==Nm&&(c=Error(r(423),{cause:v}),af(Dn(c,p))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,v=Dn(v,p),E=I2(o.stateNode,v,E),It(o,E),Wi!==4&&(Wi=2)),!1;var I=Error(r(520),{cause:v});if(I=Dn(I,p),Xm===null?Xm=[I]:Xm.push(I),Wi!==4&&(Wi=2),c===null)return!0;v=Dn(v,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,o=E&-E,p.lanes|=o,o=I2(p.stateNode,v,o),It(p,o),!1;case 1:if(c=p.type,I=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(xf===null||!xf.has(I))))return p.flags|=65536,E&=-E,p.lanes|=E,E=wC(E),SC(E,o,p,v),It(p,E),!1}p=p.return}while(p!==null);return!1}var AC=Error(r(461)),Ya=!1;function us(o,c,p,v){c.child=o===null?hC(c,null,p,v):Qp(c,o.child,p,v)}function CC(o,c,p,v,E){p=p.render;var I=c.ref;if("ref"in v){var ee={};for(var me in v)me!=="ref"&&(ee[me]=v[me])}else ee=v;return gl(c),v=Mo(o,c,p,ee,I,E),me=ti(),o!==null&&!Ya?(Eh(o,c,E),ld(o,c,E)):(er&&me&&wh(c),c.flags|=1,us(o,c,v,E),c.child)}function EC(o,c,p,v,E){if(o===null){var I=p.type;return typeof I=="function"&&!nf(I)&&I.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=I,kC(o,c,I,v,E)):(o=Zc(p.type,null,v,c,c.mode,E),o.ref=c.ref,o.return=c,c.child=o)}if(I=o.child,!q2(o,E)){var ee=I.memoizedProps;if(p=p.compare,p=p!==null?p:Mu,p(ee,v)&&o.ref===c.ref)return ld(o,c,E)}return c.flags|=1,o=fl(I,v),o.ref=c.ref,o.return=c,c.child=o}function kC(o,c,p,v,E){if(o!==null){var I=o.memoizedProps;if(Mu(I,v)&&o.ref===c.ref)if(Ya=!1,c.pendingProps=v=I,q2(o,E))(o.flags&131072)!==0&&(Ya=!0);else return c.lanes=o.lanes,ld(o,c,E)}return D2(o,c,p,v,E)}function _C(o,c,p){var v=c.pendingProps,E=v.children,I=o!==null?o.memoizedState:null;if(v.mode==="hidden"){if((c.flags&128)!==0){if(v=I!==null?I.baseLanes|p:p,o!==null){for(E=c.child=o.child,I=0;E!==null;)I=I|E.lanes|E.childLanes,E=E.sibling;c.childLanes=I&~v}else c.childLanes=0,c.child=null;return NC(o,c,v,p)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&V(c,I!==null?I.cachePool:null),I!==null?Cr(c,I):or(),pC(c);else return c.lanes=c.childLanes=536870912,NC(o,c,I!==null?I.baseLanes|p:p,p)}else I!==null?(V(c,I.cachePool),Cr(c,I),hf(),c.memoizedState=null):(o!==null&&V(c,null),or(),hf());return us(o,c,E,p),c.child}function NC(o,c,p,v){var E=P();return E=E===null?null:{parent:sa._currentValue,pool:E},c.memoizedState={baseLanes:p,cachePool:E},o!==null&&V(c,null),or(),pC(c),o!==null&&sf(o,c,v,!0),null}function Wb(o,c){var p=c.ref;if(p===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(o===null||o.ref!==p)&&(c.flags|=4194816)}}function D2(o,c,p,v,E){return gl(c),p=Mo(o,c,p,v,void 0,E),v=ti(),o!==null&&!Ya?(Eh(o,c,E),ld(o,c,E)):(er&&v&&wh(c),c.flags|=1,us(o,c,p,E),c.child)}function TC(o,c,p,v,E,I){return gl(c),c.updateQueue=null,p=rd(c,v,p,E),Qu(o),v=ti(),o!==null&&!Ya?(Eh(o,c,I),ld(o,c,I)):(er&&v&&wh(c),c.flags|=1,us(o,c,p,I),c.child)}function jC(o,c,p,v,E){if(gl(c),c.stateNode===null){var I=ka,ee=p.contextType;typeof ee=="object"&&ee!==null&&(I=aa(ee)),I=new p(v,I),c.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=O2,c.stateNode=I,I._reactInternals=c,I=c.stateNode,I.props=v,I.state=c.memoizedState,I.refs={},ze(c),ee=p.contextType,I.context=typeof ee=="object"&&ee!==null?aa(ee):ka,I.state=c.memoizedState,ee=p.getDerivedStateFromProps,typeof ee=="function"&&(j2(c,p,ee,v),I.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(ee=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),ee!==I.state&&O2.enqueueReplaceState(I,I.state,null),jt(c,v,I,E),Gt(),I.state=c.memoizedState),typeof I.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(o===null){I=c.stateNode;var me=c.memoizedProps,je=Rh(p,me);I.props=je;var Je=I.context,mt=p.contextType;ee=ka,typeof mt=="object"&&mt!==null&&(ee=aa(mt));var St=p.getDerivedStateFromProps;mt=typeof St=="function"||typeof I.getSnapshotBeforeUpdate=="function",me=c.pendingProps!==me,mt||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(me||Je!==ee)&&gC(c,I,v,ee),at=!1;var nt=c.memoizedState;I.state=nt,jt(c,v,I,E),Gt(),Je=c.memoizedState,me||nt!==Je||at?(typeof St=="function"&&(j2(c,p,St,v),Je=c.memoizedState),(je=at||mC(c,p,je,v,nt,Je,ee))?(mt||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(c.flags|=4194308)):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=Je),I.props=v,I.state=Je,I.context=ee,v=je):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{I=c.stateNode,Ue(o,c),ee=c.memoizedProps,mt=Rh(p,ee),I.props=mt,St=c.pendingProps,nt=I.context,Je=p.contextType,je=ka,typeof Je=="object"&&Je!==null&&(je=aa(Je)),me=p.getDerivedStateFromProps,(Je=typeof me=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(ee!==St||nt!==je)&&gC(c,I,v,je),at=!1,nt=c.memoizedState,I.state=nt,jt(c,v,I,E),Gt();var it=c.memoizedState;ee!==St||nt!==it||at||o!==null&&o.dependencies!==null&&qp(o.dependencies)?(typeof me=="function"&&(j2(c,p,me,v),it=c.memoizedState),(mt=at||mC(c,p,mt,v,nt,it,je)||o!==null&&o.dependencies!==null&&qp(o.dependencies))?(Je||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(v,it,je),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(v,it,je)),typeof I.componentDidUpdate=="function"&&(c.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof I.componentDidUpdate!="function"||ee===o.memoizedProps&&nt===o.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||ee===o.memoizedProps&&nt===o.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=it),I.props=v,I.state=it,I.context=je,v=mt):(typeof I.componentDidUpdate!="function"||ee===o.memoizedProps&&nt===o.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||ee===o.memoizedProps&&nt===o.memoizedState||(c.flags|=1024),v=!1)}return I=v,Wb(o,c),v=(c.flags&128)!==0,I||v?(I=c.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:I.render(),c.flags|=1,o!==null&&v?(c.child=Qp(c,o.child,null,E),c.child=Qp(c,null,p,E)):us(o,c,p,E),c.memoizedState=I.state,o=c.child):o=ld(o,c,E),o}function OC(o,c,p,v){return Zs(),c.flags|=256,us(o,c,p,v),c.child}var L2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function R2(o){return{baseLanes:o,cachePool:ie()}}function M2(o,c,p){return o=o!==null?o.childLanes&~p:0,c&&(o|=xl),o}function IC(o,c,p){var v=c.pendingProps,E=!1,I=(c.flags&128)!==0,ee;if((ee=I)||(ee=o!==null&&o.memoizedState===null?!1:(Ma.current&2)!==0),ee&&(E=!0,c.flags&=-129),ee=(c.flags&32)!==0,c.flags&=-33,o===null){if(er){if(E?ff(c):hf(),er){var me=bi,je;if(je=me){e:{for(je=me,me=hl;je.nodeType!==8;){if(!me){me=null;break e}if(je=ou(je.nextSibling),je===null){me=null;break e}}me=je}me!==null?(c.memoizedState={dehydrated:me,treeContext:Jc!==null?{id:Xl,overflow:Zl}:null,retryLane:536870912,hydrationErrors:null},je=Wa(18,null,null,0),je.stateNode=me,je.return=c,c.child=je,ia=c,bi=null,je=!0):je=!1}je||td(c)}if(me=c.memoizedState,me!==null&&(me=me.dehydrated,me!==null))return x5(me)?c.lanes=32:c.lanes=536870912,null;od(c)}return me=v.children,v=v.fallback,E?(hf(),E=c.mode,me=Yb({mode:"hidden",children:me},E),v=Ql(v,E,p,null),me.return=c,v.return=c,me.sibling=v,c.child=me,E=c.child,E.memoizedState=R2(p),E.childLanes=M2(o,ee,p),c.memoizedState=L2,v):(ff(c),F2(c,me))}if(je=o.memoizedState,je!==null&&(me=je.dehydrated,me!==null)){if(I)c.flags&256?(ff(c),c.flags&=-257,c=P2(o,c,p)):c.memoizedState!==null?(hf(),c.child=o.child,c.flags|=128,c=null):(hf(),E=v.fallback,me=c.mode,v=Yb({mode:"visible",children:v.children},me),E=Ql(E,me,p,null),E.flags|=2,v.return=c,E.return=c,v.sibling=E,c.child=v,Qp(c,o.child,null,p),v=c.child,v.memoizedState=R2(p),v.childLanes=M2(o,ee,p),c.memoizedState=L2,c=E);else if(ff(c),x5(me)){if(ee=me.nextSibling&&me.nextSibling.dataset,ee)var Je=ee.dgst;ee=Je,v=Error(r(419)),v.stack="",v.digest=ee,af({value:v,source:null,stack:null}),c=P2(o,c,p)}else if(Ya||sf(o,c,p,!1),ee=(p&o.childLanes)!==0,Ya||ee){if(ee=ni,ee!==null&&(v=p&-p,v=(v&42)!==0?1:wa(v),v=(v&(ee.suspendedLanes|p))!==0?0:v,v!==0&&v!==je.retryLane))throw je.retryLane=v,Gl(o,v),$o(ee,o,v),AC;me.data==="$?"||n5(),c=P2(o,c,p)}else me.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=je.treeContext,bi=ou(me.nextSibling),ia=c,er=!0,Yu=null,hl=!1,o!==null&&(fo[Xs++]=Xl,fo[Xs++]=Zl,fo[Xs++]=Jc,Xl=o.id,Zl=o.overflow,Jc=c),c=F2(c,v.children),c.flags|=4096);return c}return E?(hf(),E=v.fallback,me=c.mode,je=o.child,Je=je.sibling,v=fl(je,{mode:"hidden",children:v.children}),v.subtreeFlags=je.subtreeFlags&65011712,Je!==null?E=fl(Je,E):(E=Ql(E,me,p,null),E.flags|=2),E.return=c,v.return=c,v.sibling=E,c.child=v,v=E,E=c.child,me=o.child.memoizedState,me===null?me=R2(p):(je=me.cachePool,je!==null?(Je=sa._currentValue,je=je.parent!==Je?{parent:Je,pool:Je}:je):je=ie(),me={baseLanes:me.baseLanes|p,cachePool:je}),E.memoizedState=me,E.childLanes=M2(o,ee,p),c.memoizedState=L2,v):(ff(c),p=o.child,o=p.sibling,p=fl(p,{mode:"visible",children:v.children}),p.return=c,p.sibling=null,o!==null&&(ee=c.deletions,ee===null?(c.deletions=[o],c.flags|=16):ee.push(o)),c.child=p,c.memoizedState=null,p)}function F2(o,c){return c=Yb({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Yb(o,c){return o=Wa(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function P2(o,c,p){return Qp(c,o.child,null,p),o=F2(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function DC(o,c,p){o.lanes|=c;var v=o.alternate;v!==null&&(v.lanes|=c),Pp(o.return,c,p)}function z2(o,c,p,v,E){var I=o.memoizedState;I===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:E}:(I.isBackwards=c,I.rendering=null,I.renderingStartTime=0,I.last=v,I.tail=p,I.tailMode=E)}function LC(o,c,p){var v=c.pendingProps,E=v.revealOrder,I=v.tail;if(us(o,c,v.children,p),v=Ma.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&DC(o,p,c);else if(o.tag===19)DC(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}v&=1}switch(B(Ma,v),E){case"forwards":for(p=c.child,E=null;p!==null;)o=p.alternate,o!==null&&$b(o)===null&&(E=p),p=p.sibling;p=E,p===null?(E=c.child,c.child=null):(E=p.sibling,p.sibling=null),z2(c,!1,E,p,I);break;case"backwards":for(p=null,E=c.child,c.child=null;E!==null;){if(o=E.alternate,o!==null&&$b(o)===null){c.child=E;break}o=E.sibling,E.sibling=p,p=E,E=o}z2(c,!0,p,null,I);break;case"together":z2(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function ld(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),yf|=c.lanes,(p&c.childLanes)===0)if(o!==null){if(sf(o,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,p=fl(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=fl(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function q2(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&qp(o)))}function cR(o,c,p){switch(c.tag){case 3:xe(c,c.stateNode.containerInfo),Vu(c,sa,o.memoizedState.cache),Zs();break;case 27:case 5:De(c);break;case 4:xe(c,c.stateNode.containerInfo);break;case 10:Vu(c,c.type,c.memoizedProps.value);break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(ff(c),c.flags|=128,null):(p&c.child.childLanes)!==0?IC(o,c,p):(ff(c),o=ld(o,c,p),o!==null?o.sibling:null);ff(c);break;case 19:var E=(o.flags&128)!==0;if(v=(p&c.childLanes)!==0,v||(sf(o,c,p,!1),v=(p&c.childLanes)!==0),E){if(v)return LC(o,c,p);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),B(Ma,Ma.current),v)break;return null;case 22:case 23:return c.lanes=0,_C(o,c,p);case 24:Vu(c,sa,o.memoizedState.cache)}return ld(o,c,p)}function RC(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps)Ya=!0;else{if(!q2(o,p)&&(c.flags&128)===0)return Ya=!1,cR(o,c,p);Ya=(o.flags&131072)!==0}else Ya=!1,er&&(c.flags&1048576)!==0&&Sb(c,Fp,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var v=c.elementType,E=v._init;if(v=E(v._payload),c.type=v,typeof v=="function")nf(v)?(o=Rh(v,o),c.tag=1,c=jC(null,c,v,o,p)):(c.tag=0,c=D2(null,c,v,o,p));else{if(v!=null){if(E=v.$$typeof,E===M){c.tag=11,c=CC(null,c,v,o,p);break e}else if(E===_){c.tag=14,c=EC(null,c,v,o,p);break e}}throw c=N(v)||v,Error(r(306,c,""))}}return c;case 0:return D2(o,c,c.type,c.pendingProps,p);case 1:return v=c.type,E=Rh(v,c.pendingProps),jC(o,c,v,E,p);case 3:e:{if(xe(c,c.stateNode.containerInfo),o===null)throw Error(r(387));v=c.pendingProps;var I=c.memoizedState;E=I.element,Ue(o,c),jt(c,v,null,p);var ee=c.memoizedState;if(v=ee.cache,Vu(c,sa,v),v!==I.cache&&zp(c,[sa],p,!0),Gt(),v=ee.element,I.isDehydrated)if(I={element:v,isDehydrated:!1,cache:ee.cache},c.updateQueue.baseState=I,c.memoizedState=I,c.flags&256){c=OC(o,c,v,p);break e}else if(v!==E){E=Dn(Error(r(424)),c),af(E),c=OC(o,c,v,p);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(bi=ou(o.firstChild),ia=c,er=!0,Yu=null,hl=!0,p=hC(c,null,v,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Zs(),v===E){c=ld(o,c,p);break e}us(o,c,v,p)}c=c.child}return c;case 26:return Wb(o,c),o===null?(p=zE(c.type,null,c.pendingProps,null))?c.memoizedState=p:er||(p=c.type,o=c.pendingProps,v=sy(le.current).createElement(p),v[Hn]=c,v[ar]=o,ds(v,p,o),Jn(v),c.stateNode=v):c.memoizedState=zE(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return De(c),o===null&&er&&(v=c.stateNode=ME(c.type,c.pendingProps,le.current),ia=c,hl=!0,E=bi,Sf(c.type)?(v5=E,bi=ou(v.firstChild)):bi=E),us(o,c,c.pendingProps.children,p),Wb(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&er&&((E=v=bi)&&(v=PR(v,c.type,c.pendingProps,hl),v!==null?(c.stateNode=v,ia=c,bi=ou(v.firstChild),hl=!1,E=!0):E=!1),E||td(c)),De(c),E=c.type,I=c.pendingProps,ee=o!==null?o.memoizedProps:null,v=I.children,g5(E,I)?v=null:ee!==null&&g5(E,ee)&&(c.flags|=32),c.memoizedState!==null&&(E=Mo(o,c,Ku,null,null,p),sg._currentValue=E),Wb(o,c),us(o,c,v,p),c.child;case 6:return o===null&&er&&((o=p=bi)&&(p=zR(p,c.pendingProps,hl),p!==null?(c.stateNode=p,ia=c,bi=null,o=!0):o=!1),o||td(c)),null;case 13:return IC(o,c,p);case 4:return xe(c,c.stateNode.containerInfo),v=c.pendingProps,o===null?c.child=Qp(c,null,v,p):us(o,c,v,p),c.child;case 11:return CC(o,c,c.type,c.pendingProps,p);case 7:return us(o,c,c.pendingProps,p),c.child;case 8:return us(o,c,c.pendingProps.children,p),c.child;case 12:return us(o,c,c.pendingProps.children,p),c.child;case 10:return v=c.pendingProps,Vu(c,c.type,v.value),us(o,c,v.children,p),c.child;case 9:return E=c.type._context,v=c.pendingProps.children,gl(c),E=aa(E),v=v(E),c.flags|=1,us(o,c,v,p),c.child;case 14:return EC(o,c,c.type,c.pendingProps,p);case 15:return kC(o,c,c.type,c.pendingProps,p);case 19:return LC(o,c,p);case 31:return v=c.pendingProps,p=c.mode,v={mode:v.mode,children:v.children},o===null?(p=Yb(v,p),p.ref=c.ref,c.child=p,p.return=c,c=p):(p=fl(o.child,v),p.ref=c.ref,c.child=p,p.return=c,c=p),c;case 22:return _C(o,c,p);case 24:return gl(c),v=aa(sa),o===null?(E=P(),E===null&&(E=ni,I=Tm(),E.pooledCache=I,I.refCount++,I!==null&&(E.pooledCacheLanes|=p),E=I),c.memoizedState={parent:v,cache:E},ze(c),Vu(c,sa,E)):((o.lanes&p)!==0&&(Ue(o,c),jt(c,null,null,p),Gt()),E=o.memoizedState,I=c.memoizedState,E.parent!==v?(E={parent:v,cache:v},c.memoizedState=E,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=E),Vu(c,sa,v)):(v=I.cache,Vu(c,sa,v),v!==E.cache&&zp(c,[sa],p,!0))),us(o,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function ud(o){o.flags|=4}function MC(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!HE(c)){if(c=yl.current,c!==null&&((Gn&4194048)===Gn?Ju!==null:(Gn&62914560)!==Gn&&(Gn&536870912)===0||c!==Ju))throw Qe=ye,ce;o.flags|=8192}}function Vb(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?zn():536870912,o.lanes|=c,Jp|=c)}function Wm(o,c){if(!er)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function Oi(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,v=0;if(c)for(var E=o.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags&65011712,v|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags,v|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=v,o.childLanes=p,c}function dR(o,c,p){var v=c.pendingProps;switch(Sh(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oi(c),null;case 1:return Oi(c),null;case 3:return p=c.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),ml(sa),ke(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(os(c)?ud(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Cb())),Oi(c),null;case 26:return p=c.memoizedState,o===null?(ud(c),p!==null?(Oi(c),MC(c,p)):(Oi(c),c.flags&=-16777217)):p?p!==o.memoizedState?(ud(c),Oi(c),MC(c,p)):(Oi(c),c.flags&=-16777217):(o.memoizedProps!==v&&ud(c),Oi(c),c.flags&=-16777217),null;case 27:Me(c),p=le.current;var E=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==v&&ud(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return Oi(c),null}o=J.current,os(c)?Ab(c):(o=ME(E,v,p),c.stateNode=o,ud(c))}return Oi(c),null;case 5:if(Me(c),p=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==v&&ud(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return Oi(c),null}if(o=J.current,os(c))Ab(c);else{switch(E=sy(le.current),o){case 1:o=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:o=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":o=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":o=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":o=E.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof v.is=="string"?E.createElement("select",{is:v.is}):E.createElement("select"),v.multiple?o.multiple=!0:v.size&&(o.size=v.size);break;default:o=typeof v.is=="string"?E.createElement(p,{is:v.is}):E.createElement(p)}}o[Hn]=c,o[ar]=v;e:for(E=c.child;E!==null;){if(E.tag===5||E.tag===6)o.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===c)break e;for(;E.sibling===null;){if(E.return===null||E.return===c)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}c.stateNode=o;e:switch(ds(o,p,v),p){case"button":case"input":case"select":case"textarea":o=!!v.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ud(c)}}return Oi(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==v&&ud(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(r(166));if(o=le.current,os(c)){if(o=c.stateNode,p=c.memoizedProps,v=null,E=ia,E!==null)switch(E.tag){case 27:case 5:v=E.memoizedProps}o[Hn]=c,o=!!(o.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||TE(o.nodeValue,p)),o||td(c)}else o=sy(o).createTextNode(v),o[Hn]=c,c.stateNode=o}return Oi(c),null;case 13:if(v=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=os(c),v!==null&&v.dehydrated!==null){if(o===null){if(!E)throw Error(r(318));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[Hn]=c}else Zs(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Oi(c),E=!1}else E=Cb(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return c.flags&256?(od(c),c):(od(c),null)}if(od(c),(c.flags&128)!==0)return c.lanes=p,c;if(p=v!==null,o=o!==null&&o.memoizedState!==null,p){v=c.child,E=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(E=v.alternate.memoizedState.cachePool.pool);var I=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(I=v.memoizedState.cachePool.pool),I!==E&&(v.flags|=2048)}return p!==o&&p&&(c.child.flags|=8192),Vb(c,c.updateQueue),Oi(c),null;case 4:return ke(),o===null&&d5(c.stateNode.containerInfo),Oi(c),null;case 10:return ml(c.type),Oi(c),null;case 19:if(q(Ma),E=c.memoizedState,E===null)return Oi(c),null;if(v=(c.flags&128)!==0,I=E.rendering,I===null)if(v)Wm(E,!1);else{if(Wi!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(I=$b(o),I!==null){for(c.flags|=128,Wm(E,!1),o=I.updateQueue,c.updateQueue=o,Vb(c,o),c.subtreeFlags=0,o=p,p=c.child;p!==null;)xh(p,o),p=p.sibling;return B(Ma,Ma.current&1|2),c.child}o=o.sibling}E.tail!==null&&be()>Kb&&(c.flags|=128,v=!0,Wm(E,!1),c.lanes=4194304)}else{if(!v)if(o=$b(I),o!==null){if(c.flags|=128,v=!0,o=o.updateQueue,c.updateQueue=o,Vb(c,o),Wm(E,!0),E.tail===null&&E.tailMode==="hidden"&&!I.alternate&&!er)return Oi(c),null}else 2*be()-E.renderingStartTime>Kb&&p!==536870912&&(c.flags|=128,v=!0,Wm(E,!1),c.lanes=4194304);E.isBackwards?(I.sibling=c.child,c.child=I):(o=E.last,o!==null?o.sibling=I:c.child=I,E.last=I)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=be(),c.sibling=null,o=Ma.current,B(Ma,v?o&1|2:o&1),c):(Oi(c),null);case 22:case 23:return od(c),yn(),v=c.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(p&536870912)!==0&&(c.flags&128)===0&&(Oi(c),c.subtreeFlags&6&&(c.flags|=8192)):Oi(c),p=c.updateQueue,p!==null&&Vb(c,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==p&&(c.flags|=2048),o!==null&&q(k),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),ml(sa),Oi(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function fR(o,c){switch(Sh(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return ml(sa),ke(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Me(c),null;case 13:if(od(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Zs()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return q(Ma),null;case 4:return ke(),null;case 10:return ml(c.type),null;case 22:case 23:return od(c),yn(),o!==null&&q(k),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return ml(sa),null;case 25:return null;default:return null}}function FC(o,c){switch(Sh(c),c.tag){case 3:ml(sa),ke();break;case 26:case 27:case 5:Me(c);break;case 4:ke();break;case 13:od(c);break;case 19:q(Ma);break;case 10:ml(c.type);break;case 22:case 23:od(c),yn(),o!==null&&q(k);break;case 24:ml(sa)}}function Ym(o,c){try{var p=c.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var E=v.next;p=E;do{if((p.tag&o)===o){v=void 0;var I=p.create,ee=p.inst;v=I(),ee.destroy=v}p=p.next}while(p!==E)}}catch(me){Qr(c,c.return,me)}}function pf(o,c,p){try{var v=c.updateQueue,E=v!==null?v.lastEffect:null;if(E!==null){var I=E.next;v=I;do{if((v.tag&o)===o){var ee=v.inst,me=ee.destroy;if(me!==void 0){ee.destroy=void 0,E=c;var je=p,Je=me;try{Je()}catch(mt){Qr(E,je,mt)}}}v=v.next}while(v!==I)}}catch(mt){Qr(c,c.return,mt)}}function PC(o){var c=o.updateQueue;if(c!==null){var p=o.stateNode;try{sr(c,p)}catch(v){Qr(o,o.return,v)}}}function zC(o,c,p){p.props=Rh(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(v){Qr(o,c,v)}}function Vm(o,c){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof p=="function"?o.refCleanup=p(v):p.current=v}}catch(E){Qr(o,c,E)}}function ec(o,c){var p=o.ref,v=o.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(E){Qr(o,c,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(E){Qr(o,c,E)}else p.current=null}function qC(o){var c=o.type,p=o.memoizedProps,v=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(E){Qr(o,o.return,E)}}function B2(o,c,p){try{var v=o.stateNode;DR(v,o.type,p,c),v[ar]=c}catch(E){Qr(o,o.return,E)}}function BC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Sf(o.type)||o.tag===4}function $2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||BC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Sf(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function U2(o,c,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(o),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=ay));else if(v!==4&&(v===27&&Sf(o.type)&&(p=o.stateNode,c=null),o=o.child,o!==null))for(U2(o,c,p),o=o.sibling;o!==null;)U2(o,c,p),o=o.sibling}function Gb(o,c,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?p.insertBefore(o,c):p.appendChild(o);else if(v!==4&&(v===27&&Sf(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(Gb(o,c,p),o=o.sibling;o!==null;)Gb(o,c,p),o=o.sibling}function $C(o){var c=o.stateNode,p=o.memoizedProps;try{for(var v=o.type,E=c.attributes;E.length;)c.removeAttributeNode(E[0]);ds(c,v,p),c[Hn]=o,c[ar]=p}catch(I){Qr(o,o.return,I)}}var cd=!1,la=!1,H2=!1,UC=typeof WeakSet=="function"?WeakSet:Set,Va=null;function hR(o,c){if(o=o.containerInfo,p5=fy,o=ss(o),Ra(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var E=v.anchorOffset,I=v.focusNode;v=v.focusOffset;try{p.nodeType,I.nodeType}catch{p=null;break e}var ee=0,me=-1,je=-1,Je=0,mt=0,St=o,nt=null;t:for(;;){for(var it;St!==p||E!==0&&St.nodeType!==3||(me=ee+E),St!==I||v!==0&&St.nodeType!==3||(je=ee+v),St.nodeType===3&&(ee+=St.nodeValue.length),(it=St.firstChild)!==null;)nt=St,St=it;for(;;){if(St===o)break t;if(nt===p&&++Je===E&&(me=ee),nt===I&&++mt===v&&(je=ee),(it=St.nextSibling)!==null)break;St=nt,nt=St.parentNode}St=it}p=me===-1||je===-1?null:{start:me,end:je}}else p=null}p=p||{start:0,end:0}}else p=null;for(m5={focusedElem:o,selectionRange:p},fy=!1,Va=c;Va!==null;)if(c=Va,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,Va=o;else for(;Va!==null;){switch(c=Va,I=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&I!==null){o=void 0,p=c,E=I.memoizedProps,I=I.memoizedState,v=p.stateNode;try{var hn=Rh(p.type,E,p.elementType===p.type);o=v.getSnapshotBeforeUpdate(hn,I),v.__reactInternalSnapshotBeforeUpdate=o}catch(rn){Qr(p,p.return,rn)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,p=o.nodeType,p===9)y5(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":y5(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,Va=o;break}Va=c.return}}function HC(o,c,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:mf(o,p),v&4&&Ym(5,p);break;case 1:if(mf(o,p),v&4)if(o=p.stateNode,c===null)try{o.componentDidMount()}catch(ee){Qr(p,p.return,ee)}else{var E=Rh(p.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(E,c,o.__reactInternalSnapshotBeforeUpdate)}catch(ee){Qr(p,p.return,ee)}}v&64&&PC(p),v&512&&Vm(p,p.return);break;case 3:if(mf(o,p),v&64&&(o=p.updateQueue,o!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{sr(o,c)}catch(ee){Qr(p,p.return,ee)}}break;case 27:c===null&&v&4&&$C(p);case 26:case 5:mf(o,p),c===null&&v&4&&qC(p),v&512&&Vm(p,p.return);break;case 12:mf(o,p);break;case 13:mf(o,p),v&4&&VC(o,p),v&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=SR.bind(null,p),qR(o,p))));break;case 22:if(v=p.memoizedState!==null||cd,!v){c=c!==null&&c.memoizedState!==null||la,E=cd;var I=la;cd=v,(la=c)&&!I?gf(o,p,(p.subtreeFlags&8772)!==0):mf(o,p),cd=E,la=I}break;case 30:break;default:mf(o,p)}}function WC(o){var c=o.alternate;c!==null&&(o.alternate=null,WC(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Da(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var yi=null,po=!1;function dd(o,c,p){for(p=p.child;p!==null;)YC(o,c,p),p=p.sibling}function YC(o,c,p){if(ve&&typeof ve.onCommitFiberUnmount=="function")try{ve.onCommitFiberUnmount(Pe,p)}catch{}switch(p.tag){case 26:la||ec(p,c),dd(o,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:la||ec(p,c);var v=yi,E=po;Sf(p.type)&&(yi=p.stateNode,po=!1),dd(o,c,p),ng(p.stateNode),yi=v,po=E;break;case 5:la||ec(p,c);case 6:if(v=yi,E=po,yi=null,dd(o,c,p),yi=v,po=E,yi!==null)if(po)try{(yi.nodeType===9?yi.body:yi.nodeName==="HTML"?yi.ownerDocument.body:yi).removeChild(p.stateNode)}catch(I){Qr(p,c,I)}else try{yi.removeChild(p.stateNode)}catch(I){Qr(p,c,I)}break;case 18:yi!==null&&(po?(o=yi,LE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),cg(o)):LE(yi,p.stateNode));break;case 4:v=yi,E=po,yi=p.stateNode.containerInfo,po=!0,dd(o,c,p),yi=v,po=E;break;case 0:case 11:case 14:case 15:la||pf(2,p,c),la||pf(4,p,c),dd(o,c,p);break;case 1:la||(ec(p,c),v=p.stateNode,typeof v.componentWillUnmount=="function"&&zC(p,c,v)),dd(o,c,p);break;case 21:dd(o,c,p);break;case 22:la=(v=la)||p.memoizedState!==null,dd(o,c,p),la=v;break;default:dd(o,c,p)}}function VC(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{cg(o)}catch(p){Qr(c,c.return,p)}}function pR(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new UC),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new UC),c;default:throw Error(r(435,o.tag))}}function W2(o,c){var p=pR(o);c.forEach(function(v){var E=AR.bind(null,o,v);p.has(v)||(p.add(v),v.then(E,E))})}function Po(o,c){var p=c.deletions;if(p!==null)for(var v=0;v<p.length;v++){var E=p[v],I=o,ee=c,me=ee;e:for(;me!==null;){switch(me.tag){case 27:if(Sf(me.type)){yi=me.stateNode,po=!1;break e}break;case 5:yi=me.stateNode,po=!1;break e;case 3:case 4:yi=me.stateNode.containerInfo,po=!0;break e}me=me.return}if(yi===null)throw Error(r(160));YC(I,ee,E),yi=null,po=!1,I=E.alternate,I!==null&&(I.return=null),E.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)GC(c,o),c=c.sibling}var su=null;function GC(o,c){var p=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Po(c,o),zo(o),v&4&&(pf(3,o,o.return),Ym(3,o),pf(5,o,o.return));break;case 1:Po(c,o),zo(o),v&512&&(la||p===null||ec(p,p.return)),v&64&&cd&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var E=su;if(Po(c,o),zo(o),v&512&&(la||p===null||ec(p,p.return)),v&4){var I=p!==null?p.memoizedState:null;if(v=o.memoizedState,p===null)if(v===null)if(o.stateNode===null){e:{v=o.type,p=o.memoizedProps,E=E.ownerDocument||E;t:switch(v){case"title":I=E.getElementsByTagName("title")[0],(!I||I[_r]||I[Hn]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=E.createElement(v),E.head.insertBefore(I,E.querySelector("head > title"))),ds(I,v,p),I[Hn]=o,Jn(I),v=I;break e;case"link":var ee=$E("link","href",E).get(v+(p.href||""));if(ee){for(var me=0;me<ee.length;me++)if(I=ee[me],I.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&I.getAttribute("rel")===(p.rel==null?null:p.rel)&&I.getAttribute("title")===(p.title==null?null:p.title)&&I.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){ee.splice(me,1);break t}}I=E.createElement(v),ds(I,v,p),E.head.appendChild(I);break;case"meta":if(ee=$E("meta","content",E).get(v+(p.content||""))){for(me=0;me<ee.length;me++)if(I=ee[me],I.getAttribute("content")===(p.content==null?null:""+p.content)&&I.getAttribute("name")===(p.name==null?null:p.name)&&I.getAttribute("property")===(p.property==null?null:p.property)&&I.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&I.getAttribute("charset")===(p.charSet==null?null:p.charSet)){ee.splice(me,1);break t}}I=E.createElement(v),ds(I,v,p),E.head.appendChild(I);break;default:throw Error(r(468,v))}I[Hn]=o,Jn(I),v=I}o.stateNode=v}else UE(E,o.type,o.stateNode);else o.stateNode=BE(E,v,o.memoizedProps);else I!==v?(I===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):I.count--,v===null?UE(E,o.type,o.stateNode):BE(E,v,o.memoizedProps)):v===null&&o.stateNode!==null&&B2(o,o.memoizedProps,p.memoizedProps)}break;case 27:Po(c,o),zo(o),v&512&&(la||p===null||ec(p,p.return)),p!==null&&v&4&&B2(o,o.memoizedProps,p.memoizedProps);break;case 5:if(Po(c,o),zo(o),v&512&&(la||p===null||ec(p,p.return)),o.flags&32){E=o.stateNode;try{Bi(E,"")}catch(it){Qr(o,o.return,it)}}v&4&&o.stateNode!=null&&(E=o.memoizedProps,B2(o,E,p!==null?p.memoizedProps:E)),v&1024&&(H2=!0);break;case 6:if(Po(c,o),zo(o),v&4){if(o.stateNode===null)throw Error(r(162));v=o.memoizedProps,p=o.stateNode;try{p.nodeValue=v}catch(it){Qr(o,o.return,it)}}break;case 3:if(uy=null,E=su,su=oy(c.containerInfo),Po(c,o),su=E,zo(o),v&4&&p!==null&&p.memoizedState.isDehydrated)try{cg(c.containerInfo)}catch(it){Qr(o,o.return,it)}H2&&(H2=!1,QC(o));break;case 4:v=su,su=oy(o.stateNode.containerInfo),Po(c,o),zo(o),su=v;break;case 12:Po(c,o),zo(o);break;case 13:Po(c,o),zo(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(X2=be()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,W2(o,v)));break;case 22:E=o.memoizedState!==null;var je=p!==null&&p.memoizedState!==null,Je=cd,mt=la;if(cd=Je||E,la=mt||je,Po(c,o),la=mt,cd=Je,zo(o),v&8192)e:for(c=o.stateNode,c._visibility=E?c._visibility&-2:c._visibility|1,E&&(p===null||je||cd||la||Mh(o)),p=null,c=o;;){if(c.tag===5||c.tag===26){if(p===null){je=p=c;try{if(I=je.stateNode,E)ee=I.style,typeof ee.setProperty=="function"?ee.setProperty("display","none","important"):ee.display="none";else{me=je.stateNode;var St=je.memoizedProps.style,nt=St!=null&&St.hasOwnProperty("display")?St.display:null;me.style.display=nt==null||typeof nt=="boolean"?"":(""+nt).trim()}}catch(it){Qr(je,je.return,it)}}}else if(c.tag===6){if(p===null){je=c;try{je.stateNode.nodeValue=E?"":je.memoizedProps}catch(it){Qr(je,je.return,it)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=o.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,W2(o,p))));break;case 19:Po(c,o),zo(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,W2(o,v)));break;case 30:break;case 21:break;default:Po(c,o),zo(o)}}function zo(o){var c=o.flags;if(c&2){try{for(var p,v=o.return;v!==null;){if(BC(v)){p=v;break}v=v.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var E=p.stateNode,I=$2(o);Gb(o,I,E);break;case 5:var ee=p.stateNode;p.flags&32&&(Bi(ee,""),p.flags&=-33);var me=$2(o);Gb(o,me,ee);break;case 3:case 4:var je=p.stateNode.containerInfo,Je=$2(o);U2(o,Je,je);break;default:throw Error(r(161))}}catch(mt){Qr(o,o.return,mt)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function QC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;QC(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function mf(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)HC(o,c.alternate,c),c=c.sibling}function Mh(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:pf(4,c,c.return),Mh(c);break;case 1:ec(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&zC(c,c.return,p),Mh(c);break;case 27:ng(c.stateNode);case 26:case 5:ec(c,c.return),Mh(c);break;case 22:c.memoizedState===null&&Mh(c);break;case 30:Mh(c);break;default:Mh(c)}o=o.sibling}}function gf(o,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,E=o,I=c,ee=I.flags;switch(I.tag){case 0:case 11:case 15:gf(E,I,p),Ym(4,I);break;case 1:if(gf(E,I,p),v=I,E=v.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Je){Qr(v,v.return,Je)}if(v=I,E=v.updateQueue,E!==null){var me=v.stateNode;try{var je=E.shared.hiddenCallbacks;if(je!==null)for(E.shared.hiddenCallbacks=null,E=0;E<je.length;E++)Yn(je[E],me)}catch(Je){Qr(v,v.return,Je)}}p&&ee&64&&PC(I),Vm(I,I.return);break;case 27:$C(I);case 26:case 5:gf(E,I,p),p&&v===null&&ee&4&&qC(I),Vm(I,I.return);break;case 12:gf(E,I,p);break;case 13:gf(E,I,p),p&&ee&4&&VC(E,I);break;case 22:I.memoizedState===null&&gf(E,I,p),Vm(I,I.return);break;case 30:break;default:gf(E,I,p)}c=c.sibling}}function Y2(o,c){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&Ah(p))}function V2(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Ah(o))}function tc(o,c,p,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)KC(o,c,p,v),c=c.sibling}function KC(o,c,p,v){var E=c.flags;switch(c.tag){case 0:case 11:case 15:tc(o,c,p,v),E&2048&&Ym(9,c);break;case 1:tc(o,c,p,v);break;case 3:tc(o,c,p,v),E&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Ah(o)));break;case 12:if(E&2048){tc(o,c,p,v),o=c.stateNode;try{var I=c.memoizedProps,ee=I.id,me=I.onPostCommit;typeof me=="function"&&me(ee,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(je){Qr(c,c.return,je)}}else tc(o,c,p,v);break;case 13:tc(o,c,p,v);break;case 23:break;case 22:I=c.stateNode,ee=c.alternate,c.memoizedState!==null?I._visibility&2?tc(o,c,p,v):Gm(o,c):I._visibility&2?tc(o,c,p,v):(I._visibility|=2,Kp(o,c,p,v,(c.subtreeFlags&10256)!==0)),E&2048&&Y2(ee,c);break;case 24:tc(o,c,p,v),E&2048&&V2(c.alternate,c);break;default:tc(o,c,p,v)}}function Kp(o,c,p,v,E){for(E=E&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var I=o,ee=c,me=p,je=v,Je=ee.flags;switch(ee.tag){case 0:case 11:case 15:Kp(I,ee,me,je,E),Ym(8,ee);break;case 23:break;case 22:var mt=ee.stateNode;ee.memoizedState!==null?mt._visibility&2?Kp(I,ee,me,je,E):Gm(I,ee):(mt._visibility|=2,Kp(I,ee,me,je,E)),E&&Je&2048&&Y2(ee.alternate,ee);break;case 24:Kp(I,ee,me,je,E),E&&Je&2048&&V2(ee.alternate,ee);break;default:Kp(I,ee,me,je,E)}c=c.sibling}}function Gm(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=o,v=c,E=v.flags;switch(v.tag){case 22:Gm(p,v),E&2048&&Y2(v.alternate,v);break;case 24:Gm(p,v),E&2048&&V2(v.alternate,v);break;default:Gm(p,v)}c=c.sibling}}var Qm=8192;function Xp(o){if(o.subtreeFlags&Qm)for(o=o.child;o!==null;)XC(o),o=o.sibling}function XC(o){switch(o.tag){case 26:Xp(o),o.flags&Qm&&o.memoizedState!==null&&JR(su,o.memoizedState,o.memoizedProps);break;case 5:Xp(o);break;case 3:case 4:var c=su;su=oy(o.stateNode.containerInfo),Xp(o),su=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=Qm,Qm=16777216,Xp(o),Qm=c):Xp(o));break;default:Xp(o)}}function ZC(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Km(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];Va=v,eE(v,o)}ZC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)JC(o),o=o.sibling}function JC(o){switch(o.tag){case 0:case 11:case 15:Km(o),o.flags&2048&&pf(9,o,o.return);break;case 3:Km(o);break;case 12:Km(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Qb(o)):Km(o);break;default:Km(o)}}function Qb(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];Va=v,eE(v,o)}ZC(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:pf(8,c,c.return),Qb(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,Qb(c));break;default:Qb(c)}o=o.sibling}}function eE(o,c){for(;Va!==null;){var p=Va;switch(p.tag){case 0:case 11:case 15:pf(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Ah(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,Va=v;else e:for(p=o;Va!==null;){v=Va;var E=v.sibling,I=v.return;if(WC(v),v===p){Va=null;break e}if(E!==null){E.return=I,Va=E;break e}Va=I}}}var mR={getCacheForType:function(o){var c=aa(sa),p=c.data.get(o);return p===void 0&&(p=o(),c.data.set(o,p)),p}},gR=typeof WeakMap=="function"?WeakMap:Map,jr=0,ni=null,Bn=null,Gn=0,Or=0,qo=null,bf=!1,Zp=!1,G2=!1,fd=0,Wi=0,yf=0,Fh=0,Q2=0,xl=0,Jp=0,Xm=null,mo=null,K2=!1,X2=0,Kb=1/0,Xb=null,xf=null,cs=0,vf=null,e0=null,t0=0,Z2=0,J2=null,tE=null,Zm=0,e5=null;function Bo(){if((jr&2)!==0&&Gn!==0)return Gn&-Gn;if(H.T!==null){var o=nd;return o!==0?o:o5()}return oi()}function nE(){xl===0&&(xl=(Gn&536870912)===0||er?Pn():536870912);var o=yl.current;return o!==null&&(o.flags|=32),xl}function $o(o,c,p){(o===ni&&(Or===2||Or===9)||o.cancelPendingCommit!==null)&&(n0(o,0),wf(o,Gn,xl,!1)),ir(o,p),((jr&2)===0||o!==ni)&&(o===ni&&((jr&2)===0&&(Fh|=p),Wi===4&&wf(o,Gn,xl,!1)),nc(o))}function rE(o,c,p){if((jr&6)!==0)throw Error(r(327));var v=!p&&(c&124)===0&&(c&o.expiredLanes)===0||nn(o,c),E=v?xR(o,c):r5(o,c,!0),I=v;do{if(E===0){Zp&&!v&&wf(o,c,0,!1);break}else{if(p=o.current.alternate,I&&!bR(p)){E=r5(o,c,!1),I=!1;continue}if(E===2){if(I=c,o.errorRecoveryDisabledLanes&I)var ee=0;else ee=o.pendingLanes&-536870913,ee=ee!==0?ee:ee&536870912?536870912:0;if(ee!==0){c=ee;e:{var me=o;E=Xm;var je=me.current.memoizedState.isDehydrated;if(je&&(n0(me,ee).flags|=256),ee=r5(me,ee,!1),ee!==2){if(G2&&!je){me.errorRecoveryDisabledLanes|=I,Fh|=I,E=4;break e}I=mo,mo=E,I!==null&&(mo===null?mo=I:mo.push.apply(mo,I))}E=ee}if(I=!1,E!==2)continue}}if(E===1){n0(o,0),wf(o,c,0,!0);break}e:{switch(v=o,I=E,I){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:wf(v,c,xl,!bf);break e;case 2:mo=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(E=X2+300-be(),10<E)){if(wf(v,c,xl,!bf),Xt(v,0,!0)!==0)break e;v.timeoutHandle=IE(iE.bind(null,v,p,mo,Xb,K2,c,xl,Fh,Jp,bf,I,2,-0,0),E);break e}iE(v,p,mo,Xb,K2,c,xl,Fh,Jp,bf,I,0,-0,0)}}break}while(!0);nc(o)}function iE(o,c,p,v,E,I,ee,me,je,Je,mt,St,nt,it){if(o.timeoutHandle=-1,St=c.subtreeFlags,(St&8192||(St&16785408)===16785408)&&(ag={stylesheets:null,count:0,unsuspend:ZR},XC(c),St=e9(),St!==null)){o.cancelPendingCommit=St(dE.bind(null,o,c,I,p,v,E,ee,me,je,mt,1,nt,it)),wf(o,I,ee,!Je);return}dE(o,c,I,p,v,E,ee,me,je)}function bR(o){for(var c=o;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var E=p[v],I=E.getSnapshot;E=E.value;try{if(!Ea(I(),E))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function wf(o,c,p,v){c&=~Q2,c&=~Fh,o.suspendedLanes|=c,o.pingedLanes&=~c,v&&(o.warmLanes|=c),v=o.expirationTimes;for(var E=c;0<E;){var I=31-Oe(E),ee=1<<I;v[I]=-1,E&=~ee}p!==0&&Vt(o,p,c)}function Zb(){return(jr&6)===0?(Jm(0),!1):!0}function t5(){if(Bn!==null){if(Or===0)var o=Bn.return;else o=Bn,eu=_a=null,$p(o),Gp=null,Um=0,o=Bn;for(;o!==null;)FC(o.alternate,o),o=o.return;Bn=null}}function n0(o,c){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,RR(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),t5(),ni=o,Bn=p=fl(o.current,null),Gn=c,Or=0,qo=null,bf=!1,Zp=nn(o,c),G2=!1,Jp=xl=Q2=Fh=yf=Wi=0,mo=Xm=null,K2=!1,(c&8)!==0&&(c|=c&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=c;0<v;){var E=31-Oe(v),I=1<<E;c|=o[E],v&=~I}return fd=c,uo(),p}function aE(o,c){en=null,H.H=zb,c===ue||c===pe?(c=We(),Or=3):c===ce?(c=We(),Or=4):Or=c===AC?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,qo=c,Bn===null&&(Wi=1,Hb(o,Dn(c,o.current)))}function sE(){var o=H.H;return H.H=zb,o===null?zb:o}function oE(){var o=H.A;return H.A=mR,o}function n5(){Wi=4,bf||(Gn&4194048)!==Gn&&yl.current!==null||(Zp=!0),(yf&134217727)===0&&(Fh&134217727)===0||ni===null||wf(ni,Gn,xl,!1)}function r5(o,c,p){var v=jr;jr|=2;var E=sE(),I=oE();(ni!==o||Gn!==c)&&(Xb=null,n0(o,c)),c=!1;var ee=Wi;e:do try{if(Or!==0&&Bn!==null){var me=Bn,je=qo;switch(Or){case 8:t5(),ee=6;break e;case 3:case 2:case 9:case 6:yl.current===null&&(c=!0);var Je=Or;if(Or=0,qo=null,r0(o,me,je,Je),p&&Zp){ee=0;break e}break;default:Je=Or,Or=0,qo=null,r0(o,me,je,Je)}}yR(),ee=Wi;break}catch(mt){aE(o,mt)}while(!0);return c&&o.shellSuspendCounter++,eu=_a=null,jr=v,H.H=E,H.A=I,Bn===null&&(ni=null,Gn=0,uo()),ee}function yR(){for(;Bn!==null;)lE(Bn)}function xR(o,c){var p=jr;jr|=2;var v=sE(),E=oE();ni!==o||Gn!==c?(Xb=null,Kb=be()+500,n0(o,c)):Zp=nn(o,c);e:do try{if(Or!==0&&Bn!==null){c=Bn;var I=qo;t:switch(Or){case 1:Or=0,qo=null,r0(o,c,I,1);break;case 2:case 9:if(Ee(I)){Or=0,qo=null,uE(c);break}c=function(){Or!==2&&Or!==9||ni!==o||(Or=7),nc(o)},I.then(c,c);break e;case 3:Or=7;break e;case 4:Or=5;break e;case 7:Ee(I)?(Or=0,qo=null,uE(c)):(Or=0,qo=null,r0(o,c,I,7));break;case 5:var ee=null;switch(Bn.tag){case 26:ee=Bn.memoizedState;case 5:case 27:var me=Bn;if(!ee||HE(ee)){Or=0,qo=null;var je=me.sibling;if(je!==null)Bn=je;else{var Je=me.return;Je!==null?(Bn=Je,Jb(Je)):Bn=null}break t}}Or=0,qo=null,r0(o,c,I,5);break;case 6:Or=0,qo=null,r0(o,c,I,6);break;case 8:t5(),Wi=6;break e;default:throw Error(r(462))}}vR();break}catch(mt){aE(o,mt)}while(!0);return eu=_a=null,H.H=v,H.A=E,jr=p,Bn!==null?0:(ni=null,Gn=0,uo(),Wi)}function vR(){for(;Bn!==null&&!Ae();)lE(Bn)}function lE(o){var c=RC(o.alternate,o,fd);o.memoizedProps=o.pendingProps,c===null?Jb(o):Bn=c}function uE(o){var c=o,p=c.alternate;switch(c.tag){case 15:case 0:c=TC(p,c,c.pendingProps,c.type,void 0,Gn);break;case 11:c=TC(p,c,c.pendingProps,c.type.render,c.ref,Gn);break;case 5:$p(c);default:FC(p,c),c=Bn=xh(c,fd),c=RC(p,c,fd)}o.memoizedProps=o.pendingProps,c===null?Jb(o):Bn=c}function r0(o,c,p,v){eu=_a=null,$p(c),Gp=null,Um=0;var E=c.return;try{if(uR(o,E,c,p,Gn)){Wi=1,Hb(o,Dn(p,o.current)),Bn=null;return}}catch(I){if(E!==null)throw Bn=E,I;Wi=1,Hb(o,Dn(p,o.current)),Bn=null;return}c.flags&32768?(er||v===1?o=!0:Zp||(Gn&536870912)!==0?o=!1:(bf=o=!0,(v===2||v===9||v===3||v===6)&&(v=yl.current,v!==null&&v.tag===13&&(v.flags|=16384))),cE(c,o)):Jb(c)}function Jb(o){var c=o;do{if((c.flags&32768)!==0){cE(c,bf);return}o=c.return;var p=dR(c.alternate,c,fd);if(p!==null){Bn=p;return}if(c=c.sibling,c!==null){Bn=c;return}Bn=c=o}while(c!==null);Wi===0&&(Wi=5)}function cE(o,c){do{var p=fR(o.alternate,o);if(p!==null){p.flags&=32767,Bn=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(o=o.sibling,o!==null)){Bn=o;return}Bn=o=p}while(o!==null);Wi=6,Bn=null}function dE(o,c,p,v,E,I,ee,me,je){o.cancelPendingCommit=null;do ey();while(cs!==0);if((jr&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(I=c.lanes|c.childLanes,I|=Ni,Rn(o,p,I,ee,me,je),o===ni&&(Bn=ni=null,Gn=0),e0=c,vf=o,t0=p,Z2=I,J2=E,tE=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,CR(qe,function(){return gE(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=H.T,H.T=null,E=Q.p,Q.p=2,ee=jr,jr|=4;try{hR(o,c,p)}finally{jr=ee,Q.p=E,H.T=v}}cs=1,fE(),hE(),pE()}}function fE(){if(cs===1){cs=0;var o=vf,c=e0,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=H.T,H.T=null;var v=Q.p;Q.p=2;var E=jr;jr|=4;try{GC(c,o);var I=m5,ee=ss(o.containerInfo),me=I.focusedElem,je=I.selectionRange;if(ee!==me&&me&&me.ownerDocument&&Fu(me.ownerDocument.documentElement,me)){if(je!==null&&Ra(me)){var Je=je.start,mt=je.end;if(mt===void 0&&(mt=Je),"selectionStart"in me)me.selectionStart=Je,me.selectionEnd=Math.min(mt,me.value.length);else{var St=me.ownerDocument||document,nt=St&&St.defaultView||window;if(nt.getSelection){var it=nt.getSelection(),hn=me.textContent.length,rn=Math.min(je.start,hn),qr=je.end===void 0?rn:Math.min(je.end,hn);!it.extend&&rn>qr&&(ee=qr,qr=rn,rn=ee);var Ye=Yl(me,rn),Be=Yl(me,qr);if(Ye&&Be&&(it.rangeCount!==1||it.anchorNode!==Ye.node||it.anchorOffset!==Ye.offset||it.focusNode!==Be.node||it.focusOffset!==Be.offset)){var Ke=St.createRange();Ke.setStart(Ye.node,Ye.offset),it.removeAllRanges(),rn>qr?(it.addRange(Ke),it.extend(Be.node,Be.offset)):(Ke.setEnd(Be.node,Be.offset),it.addRange(Ke))}}}}for(St=[],it=me;it=it.parentNode;)it.nodeType===1&&St.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof me.focus=="function"&&me.focus(),me=0;me<St.length;me++){var bt=St[me];bt.element.scrollLeft=bt.left,bt.element.scrollTop=bt.top}}fy=!!p5,m5=p5=null}finally{jr=E,Q.p=v,H.T=p}}o.current=c,cs=2}}function hE(){if(cs===2){cs=0;var o=vf,c=e0,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=H.T,H.T=null;var v=Q.p;Q.p=2;var E=jr;jr|=4;try{HC(o,c.alternate,c)}finally{jr=E,Q.p=v,H.T=p}}cs=3}}function pE(){if(cs===4||cs===3){cs=0,re();var o=vf,c=e0,p=t0,v=tE;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?cs=5:(cs=0,e0=vf=null,mE(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(xf=null),wr(p),c=c.stateNode,ve&&typeof ve.onCommitFiberRoot=="function")try{ve.onCommitFiberRoot(Pe,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=H.T,E=Q.p,Q.p=2,H.T=null;try{for(var I=o.onRecoverableError,ee=0;ee<v.length;ee++){var me=v[ee];I(me.value,{componentStack:me.stack})}}finally{H.T=c,Q.p=E}}(t0&3)!==0&&ey(),nc(o),E=o.pendingLanes,(p&4194090)!==0&&(E&42)!==0?o===e5?Zm++:(Zm=0,e5=o):Zm=0,Jm(0)}}function mE(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Ah(c)))}function ey(o){return fE(),hE(),pE(),gE()}function gE(){if(cs!==5)return!1;var o=vf,c=Z2;Z2=0;var p=wr(t0),v=H.T,E=Q.p;try{Q.p=32>p?32:p,H.T=null,p=J2,J2=null;var I=vf,ee=t0;if(cs=0,e0=vf=null,t0=0,(jr&6)!==0)throw Error(r(331));var me=jr;if(jr|=4,JC(I.current),KC(I,I.current,ee,p),jr=me,Jm(0,!1),ve&&typeof ve.onPostCommitFiberRoot=="function")try{ve.onPostCommitFiberRoot(Pe,I)}catch{}return!0}finally{Q.p=E,H.T=v,mE(o,c)}}function bE(o,c,p){c=Dn(p,c),c=I2(o.stateNode,c,2),o=xt(o,c,2),o!==null&&(ir(o,2),nc(o))}function Qr(o,c,p){if(o.tag===3)bE(o,o,p);else for(;c!==null;){if(c.tag===3){bE(c,o,p);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(xf===null||!xf.has(v))){o=Dn(p,o),p=wC(2),v=xt(c,p,2),v!==null&&(SC(p,v,c,o),ir(v,2),nc(v));break}}c=c.return}}function i5(o,c,p){var v=o.pingCache;if(v===null){v=o.pingCache=new gR;var E=new Set;v.set(c,E)}else E=v.get(c),E===void 0&&(E=new Set,v.set(c,E));E.has(p)||(G2=!0,E.add(p),o=wR.bind(null,o,c,p),c.then(o,o))}function wR(o,c,p){var v=o.pingCache;v!==null&&v.delete(c),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,ni===o&&(Gn&p)===p&&(Wi===4||Wi===3&&(Gn&62914560)===Gn&&300>be()-X2?(jr&2)===0&&n0(o,0):Q2|=p,Jp===Gn&&(Jp=0)),nc(o)}function yE(o,c){c===0&&(c=zn()),o=Gl(o,c),o!==null&&(ir(o,c),nc(o))}function SR(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),yE(o,p)}function AR(o,c){var p=0;switch(o.tag){case 13:var v=o.stateNode,E=o.memoizedState;E!==null&&(p=E.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(c),yE(o,p)}function CR(o,c){return Ve(o,c)}var ty=null,i0=null,a5=!1,ny=!1,s5=!1,Ph=0;function nc(o){o!==i0&&o.next===null&&(i0===null?ty=i0=o:i0=i0.next=o),ny=!0,a5||(a5=!0,kR())}function Jm(o,c){if(!s5&&ny){s5=!0;do for(var p=!1,v=ty;v!==null;){if(o!==0){var E=v.pendingLanes;if(E===0)var I=0;else{var ee=v.suspendedLanes,me=v.pingedLanes;I=(1<<31-Oe(42|o)+1)-1,I&=E&~(ee&~me),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(p=!0,SE(v,I))}else I=Gn,I=Xt(v,v===ni?I:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(I&3)===0||nn(v,I)||(p=!0,SE(v,I));v=v.next}while(p);s5=!1}}function ER(){xE()}function xE(){ny=a5=!1;var o=0;Ph!==0&&(LR()&&(o=Ph),Ph=0);for(var c=be(),p=null,v=ty;v!==null;){var E=v.next,I=vE(v,c);I===0?(v.next=null,p===null?ty=E:p.next=E,E===null&&(i0=p)):(p=v,(o!==0||(I&3)!==0)&&(ny=!0)),v=E}Jm(o)}function vE(o,c){for(var p=o.suspendedLanes,v=o.pingedLanes,E=o.expirationTimes,I=o.pendingLanes&-62914561;0<I;){var ee=31-Oe(I),me=1<<ee,je=E[ee];je===-1?((me&p)===0||(me&v)!==0)&&(E[ee]=ln(me,c)):je<=c&&(o.expiredLanes|=me),I&=~me}if(c=ni,p=Gn,p=Xt(o,o===c?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,p===0||o===c&&(Or===2||Or===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&Y(v),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||nn(o,p)){if(c=p&-p,c===o.callbackPriority)return c;switch(v!==null&&Y(v),wr(p)){case 2:case 8:p=Le;break;case 32:p=qe;break;case 268435456:p=Ze;break;default:p=qe}return v=wE.bind(null,o),p=Ve(p,v),o.callbackPriority=c,o.callbackNode=p,c}return v!==null&&v!==null&&Y(v),o.callbackPriority=2,o.callbackNode=null,2}function wE(o,c){if(cs!==0&&cs!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(ey()&&o.callbackNode!==p)return null;var v=Gn;return v=Xt(o,o===ni?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(rE(o,v,c),vE(o,be()),o.callbackNode!=null&&o.callbackNode===p?wE.bind(null,o):null)}function SE(o,c){if(ey())return null;rE(o,c,!0)}function kR(){MR(function(){(jr&6)!==0?Ve(Ce,ER):xE()})}function o5(){return Ph===0&&(Ph=Pn()),Ph}function AE(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Vs(""+o)}function CE(o,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,o.id&&p.setAttribute("form",o.id),c.parentNode.insertBefore(p,c),o=new FormData(o),p.parentNode.removeChild(p),o}function _R(o,c,p,v,E){if(c==="submit"&&p&&p.stateNode===E){var I=AE((E[ar]||null).action),ee=v.submitter;ee&&(c=(c=ee[ar]||null)?AE(c.formAction):ee.getAttribute("formAction"),c!==null&&(I=c,ee=null));var me=new lt("action","action",null,v,E);o.push({event:me,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Ph!==0){var je=ee?CE(E,ee):new FormData(E);bl(p,{pending:!0,data:je,method:E.method,action:I},null,je)}}else typeof I=="function"&&(me.preventDefault(),je=ee?CE(E,ee):new FormData(E),bl(p,{pending:!0,data:je,method:E.method,action:I},I,je))},currentTarget:E}]})}}for(var l5=0;l5<Kc.length;l5++){var u5=Kc[l5],NR=u5.toLowerCase(),TR=u5[0].toUpperCase()+u5.slice(1);gi(NR,"on"+TR)}gi(ef,"onAnimationEnd"),gi(zu,"onAnimationIteration"),gi(qu,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(Bu,"onTransitionRun"),gi(Qc,"onTransitionStart"),gi(tf,"onTransitionCancel"),gi($u,"onTransitionEnd"),Mr("onMouseEnter",["mouseout","mouseover"]),Mr("onMouseLeave",["mouseout","mouseover"]),Mr("onPointerEnter",["pointerout","pointerover"]),Mr("onPointerLeave",["pointerout","pointerover"]),Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eg));function EE(o,c){c=(c&4)!==0;for(var p=0;p<o.length;p++){var v=o[p],E=v.event;v=v.listeners;e:{var I=void 0;if(c)for(var ee=v.length-1;0<=ee;ee--){var me=v[ee],je=me.instance,Je=me.currentTarget;if(me=me.listener,je!==I&&E.isPropagationStopped())break e;I=me,E.currentTarget=Je;try{I(E)}catch(mt){Ub(mt)}E.currentTarget=null,I=je}else for(ee=0;ee<v.length;ee++){if(me=v[ee],je=me.instance,Je=me.currentTarget,me=me.listener,je!==I&&E.isPropagationStopped())break e;I=me,E.currentTarget=Je;try{I(E)}catch(mt){Ub(mt)}E.currentTarget=null,I=je}}}}function $n(o,c){var p=c[dr];p===void 0&&(p=c[dr]=new Set);var v=o+"__bubble";p.has(v)||(kE(c,o,2,!1),p.add(v))}function c5(o,c,p){var v=0;c&&(v|=4),kE(p,o,v,c)}var ry="_reactListening"+Math.random().toString(36).slice(2);function d5(o){if(!o[ry]){o[ry]=!0,ro.forEach(function(p){p!=="selectionchange"&&(jR.has(p)||c5(p,!1,o),c5(p,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[ry]||(c[ry]=!0,c5("selectionchange",!1,c))}}function kE(o,c,p,v){switch(KE(c)){case 2:var E=r9;break;case 8:E=i9;break;default:E=E5}p=E.bind(null,c,p,o),E=void 0,!No||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(E=!0),v?E!==void 0?o.addEventListener(c,p,{capture:!0,passive:E}):o.addEventListener(c,p,!0):E!==void 0?o.addEventListener(c,p,{passive:E}):o.addEventListener(c,p,!1)}function f5(o,c,p,v,E){var I=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var ee=v.tag;if(ee===3||ee===4){var me=v.stateNode.containerInfo;if(me===E)break;if(ee===4)for(ee=v.return;ee!==null;){var je=ee.tag;if((je===3||je===4)&&ee.stateNode.containerInfo===E)return;ee=ee.return}for(;me!==null;){if(ee=zi(me),ee===null)return;if(je=ee.tag,je===5||je===6||je===26||je===27){v=I=ee;continue e}me=me.parentNode}}v=v.return}ol(function(){var Je=I,mt=li(p),St=[];e:{var nt=Vl.get(o);if(nt!==void 0){var it=lt,hn=o;switch(o){case"keypress":if(oo(p)===0)break e;case"keydown":case"keyup":it=Qd;break;case"focusin":hn="focus",it=Gr;break;case"focusout":hn="blur",it=Gr;break;case"beforeblur":case"afterblur":it=Gr;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=Nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=Sr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=mh;break;case ef:case zu:case qu:it=Gs;break;case $u:it=ae;break;case"scroll":case"scrollend":it=$t;break;case"wheel":it=Re;break;case"copy":case"cut":case"paste":it=Yd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=Kd;break;case"toggle":case"beforetoggle":it=dt}var rn=(c&4)!==0,qr=!rn&&(o==="scroll"||o==="scrollend"),Ye=rn?nt!==null?nt+"Capture":null:nt;rn=[];for(var Be=Je,Ke;Be!==null;){var bt=Be;if(Ke=bt.stateNode,bt=bt.tag,bt!==5&&bt!==26&&bt!==27||Ke===null||Ye===null||(bt=Ei(Be,Ye),bt!=null&&rn.push(tg(Be,bt,Ke))),qr)break;Be=Be.return}0<rn.length&&(nt=new it(nt,hn,null,p,mt),St.push({event:nt,listeners:rn}))}}if((c&7)===0){e:{if(nt=o==="mouseover"||o==="pointerover",it=o==="mouseout"||o==="pointerout",nt&&p!==sl&&(hn=p.relatedTarget||p.fromElement)&&(zi(hn)||hn[Rr]))break e;if((it||nt)&&(nt=mt.window===mt?mt:(nt=mt.ownerDocument)?nt.defaultView||nt.parentWindow:window,it?(hn=p.relatedTarget||p.toElement,it=Je,hn=hn?zi(hn):null,hn!==null&&(qr=a(hn),rn=hn.tag,hn!==qr||rn!==5&&rn!==27&&rn!==6)&&(hn=null)):(it=null,hn=Je),it!==hn)){if(rn=Nr,bt="onMouseLeave",Ye="onMouseEnter",Be="mouse",(o==="pointerout"||o==="pointerover")&&(rn=Kd,bt="onPointerLeave",Ye="onPointerEnter",Be="pointer"),qr=it==null?nt:Zn(it),Ke=hn==null?nt:Zn(hn),nt=new rn(bt,Be+"leave",it,p,mt),nt.target=qr,nt.relatedTarget=Ke,bt=null,zi(mt)===Je&&(rn=new rn(Ye,Be+"enter",hn,p,mt),rn.target=Ke,rn.relatedTarget=qr,bt=rn),qr=bt,it&&hn)t:{for(rn=it,Ye=hn,Be=0,Ke=rn;Ke;Ke=a0(Ke))Be++;for(Ke=0,bt=Ye;bt;bt=a0(bt))Ke++;for(;0<Be-Ke;)rn=a0(rn),Be--;for(;0<Ke-Be;)Ye=a0(Ye),Ke--;for(;Be--;){if(rn===Ye||Ye!==null&&rn===Ye.alternate)break t;rn=a0(rn),Ye=a0(Ye)}rn=null}else rn=null;it!==null&&_E(St,nt,it,rn,!1),hn!==null&&qr!==null&&_E(St,qr,hn,rn,!0)}}e:{if(nt=Je?Zn(Je):window,it=nt.nodeName&&nt.nodeName.toLowerCase(),it==="select"||it==="input"&&nt.type==="file")var qt=Zd;else if(Io(nt))if(Wc)qt=Lp;else{qt=_m;var Mn=Cs}else it=nt.nodeName,!it||it.toLowerCase()!=="input"||nt.type!=="checkbox"&&nt.type!=="radio"?Je&&qa(Je.elementType)&&(qt=Zd):qt=bh;if(qt&&(qt=qt(o,Je))){gh(St,qt,p,mt);break e}Mn&&Mn(o,nt,Je),o==="focusout"&&Je&&nt.type==="number"&&Je.memoizedProps.value!=null&&_o(nt,"number",nt.value)}switch(Mn=Je?Zn(Je):window,o){case"focusin":(Io(Mn)||Mn.contentEditable==="true")&&(Es=Mn,Do=Je,cl=null);break;case"focusout":cl=Do=Es=null;break;case"mousedown":Lo=!0;break;case"contextmenu":case"mouseup":case"dragend":Lo=!1,mi(St,p,mt);break;case"selectionchange":if(Pu)break;case"keydown":case"keyup":mi(St,p,mt)}var Kt;if(Ot)e:{switch(o){case"compositionstart":var sn="onCompositionStart";break e;case"compositionend":sn="onCompositionEnd";break e;case"compositionupdate":sn="onCompositionUpdate";break e}sn=void 0}else _i?ui(o,p)&&(sn="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(sn="onCompositionStart");sn&&(pn&&p.locale!=="ko"&&(_i||sn!=="onCompositionStart"?sn==="onCompositionEnd"&&_i&&(Kt=ll()):(La=mt,Ua="value"in La?La.value:La.textContent,_i=!0)),Mn=iy(Je,sn),0<Mn.length&&(sn=new jo(sn,o,null,p,mt),St.push({event:sn,listeners:Mn}),Kt?sn.data=Kt:(Kt=ki(p),Kt!==null&&(sn.data=Kt)))),(Kt=vn?Ca(o,p):Oo(o,p))&&(sn=iy(Je,"onBeforeInput"),0<sn.length&&(Mn=new jo("onBeforeInput","beforeinput",null,p,mt),St.push({event:Mn,listeners:sn}),Mn.data=Kt)),_R(St,o,Je,p,mt)}EE(St,c)})}function tg(o,c,p){return{instance:o,listener:c,currentTarget:p}}function iy(o,c){for(var p=c+"Capture",v=[];o!==null;){var E=o,I=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||I===null||(E=Ei(o,p),E!=null&&v.unshift(tg(o,E,I)),E=Ei(o,c),E!=null&&v.push(tg(o,E,I))),o.tag===3)return v;o=o.return}return[]}function a0(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function _E(o,c,p,v,E){for(var I=c._reactName,ee=[];p!==null&&p!==v;){var me=p,je=me.alternate,Je=me.stateNode;if(me=me.tag,je!==null&&je===v)break;me!==5&&me!==26&&me!==27||Je===null||(je=Je,E?(Je=Ei(p,I),Je!=null&&ee.unshift(tg(p,Je,je))):E||(Je=Ei(p,I),Je!=null&&ee.push(tg(p,Je,je)))),p=p.return}ee.length!==0&&o.push({event:c,listeners:ee})}var OR=/\r\n?/g,IR=/\u0000|\uFFFD/g;function NE(o){return(typeof o=="string"?o:""+o).replace(OR,`
`).replace(IR,"")}function TE(o,c){return c=NE(c),NE(o)===c}function ay(){}function zr(o,c,p,v,E,I){switch(p){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||Bi(o,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&Bi(o,""+v);break;case"className":ys(o,"class",v);break;case"tabIndex":ys(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":ys(o,p,v);break;case"style":Iu(o,v,I);break;case"data":if(c!=="object"){ys(o,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||p!=="href")){o.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=Vs(""+v),o.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(p==="formAction"?(c!=="input"&&zr(o,c,"name",E.name,E,null),zr(o,c,"formEncType",E.formEncType,E,null),zr(o,c,"formMethod",E.formMethod,E,null),zr(o,c,"formTarget",E.formTarget,E,null)):(zr(o,c,"encType",E.encType,E,null),zr(o,c,"method",E.method,E,null),zr(o,c,"target",E.target,E,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=Vs(""+v),o.setAttribute(p,v);break;case"onClick":v!=null&&(o.onclick=ay);break;case"onScroll":v!=null&&$n("scroll",o);break;case"onScrollEnd":v!=null&&$n("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}p=Vs(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""+v):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":v===!0?o.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,v):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(p,v):o.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(p):o.setAttribute(p,v);break;case"popover":$n("beforetoggle",o),$n("toggle",o),Us(o,"popover",v);break;case"xlinkActuate":Pa(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Pa(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Pa(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Pa(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Pa(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Pa(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Pa(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Pa(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Pa(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Us(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Ys.get(p)||p,Us(o,p,v))}}function h5(o,c,p,v,E,I){switch(p){case"style":Iu(o,v,I);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"children":typeof v=="string"?Bi(o,v):(typeof v=="number"||typeof v=="bigint")&&Bi(o,""+v);break;case"onScroll":v!=null&&$n("scroll",o);break;case"onScrollEnd":v!=null&&$n("scrollend",o);break;case"onClick":v!=null&&(o.onclick=ay);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(E=p.endsWith("Capture"),c=p.slice(2,E?p.length-7:void 0),I=o[ar]||null,I=I!=null?I[p]:null,typeof I=="function"&&o.removeEventListener(c,I,E),typeof v=="function")){typeof I!="function"&&I!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(c,v,E);break e}p in o?o[p]=v:v===!0?o.setAttribute(p,""):Us(o,p,v)}}}function ds(o,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$n("error",o),$n("load",o);var v=!1,E=!1,I;for(I in p)if(p.hasOwnProperty(I)){var ee=p[I];if(ee!=null)switch(I){case"src":v=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:zr(o,c,I,ee,p,null)}}E&&zr(o,c,"srcSet",p.srcSet,p,null),v&&zr(o,c,"src",p.src,p,null);return;case"input":$n("invalid",o);var me=I=ee=E=null,je=null,Je=null;for(v in p)if(p.hasOwnProperty(v)){var mt=p[v];if(mt!=null)switch(v){case"name":E=mt;break;case"type":ee=mt;break;case"checked":je=mt;break;case"defaultChecked":Je=mt;break;case"value":I=mt;break;case"defaultValue":me=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(r(137,c));break;default:zr(o,c,v,mt,p,null)}}Ul(o,I,me,je,Je,ee,E,!1),za(o);return;case"select":$n("invalid",o),v=ee=I=null;for(E in p)if(p.hasOwnProperty(E)&&(me=p[E],me!=null))switch(E){case"value":I=me;break;case"defaultValue":ee=me;break;case"multiple":v=me;default:zr(o,c,E,me,p,null)}c=I,p=ee,o.multiple=!!v,c!=null?Hs(o,!!v,c,!1):p!=null&&Hs(o,!!v,p,!0);return;case"textarea":$n("invalid",o),I=E=v=null;for(ee in p)if(p.hasOwnProperty(ee)&&(me=p[ee],me!=null))switch(ee){case"value":v=me;break;case"defaultValue":E=me;break;case"children":I=me;break;case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(91));break;default:zr(o,c,ee,me,p,null)}Ws(o,v,E,I),za(o);return;case"option":for(je in p)if(p.hasOwnProperty(je)&&(v=p[je],v!=null))switch(je){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:zr(o,c,je,v,p,null)}return;case"dialog":$n("beforetoggle",o),$n("toggle",o),$n("cancel",o),$n("close",o);break;case"iframe":case"object":$n("load",o);break;case"video":case"audio":for(v=0;v<eg.length;v++)$n(eg[v],o);break;case"image":$n("error",o),$n("load",o);break;case"details":$n("toggle",o);break;case"embed":case"source":case"link":$n("error",o),$n("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Je in p)if(p.hasOwnProperty(Je)&&(v=p[Je],v!=null))switch(Je){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:zr(o,c,Je,v,p,null)}return;default:if(qa(c)){for(mt in p)p.hasOwnProperty(mt)&&(v=p[mt],v!==void 0&&h5(o,c,mt,v,p,void 0));return}}for(me in p)p.hasOwnProperty(me)&&(v=p[me],v!=null&&zr(o,c,me,v,p,null))}function DR(o,c,p,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,I=null,ee=null,me=null,je=null,Je=null,mt=null;for(it in p){var St=p[it];if(p.hasOwnProperty(it)&&St!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":je=St;default:v.hasOwnProperty(it)||zr(o,c,it,null,v,St)}}for(var nt in v){var it=v[nt];if(St=p[nt],v.hasOwnProperty(nt)&&(it!=null||St!=null))switch(nt){case"type":I=it;break;case"name":E=it;break;case"checked":Je=it;break;case"defaultChecked":mt=it;break;case"value":ee=it;break;case"defaultValue":me=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,c));break;default:it!==St&&zr(o,c,nt,it,v,St)}}ko(o,ee,me,je,Je,mt,I,E);return;case"select":it=ee=me=nt=null;for(I in p)if(je=p[I],p.hasOwnProperty(I)&&je!=null)switch(I){case"value":break;case"multiple":it=je;default:v.hasOwnProperty(I)||zr(o,c,I,null,v,je)}for(E in v)if(I=v[E],je=p[E],v.hasOwnProperty(E)&&(I!=null||je!=null))switch(E){case"value":nt=I;break;case"defaultValue":me=I;break;case"multiple":ee=I;default:I!==je&&zr(o,c,E,I,v,je)}c=me,p=ee,v=it,nt!=null?Hs(o,!!p,nt,!1):!!v!=!!p&&(c!=null?Hs(o,!!p,c,!0):Hs(o,!!p,p?[]:"",!1));return;case"textarea":it=nt=null;for(me in p)if(E=p[me],p.hasOwnProperty(me)&&E!=null&&!v.hasOwnProperty(me))switch(me){case"value":break;case"children":break;default:zr(o,c,me,null,v,E)}for(ee in v)if(E=v[ee],I=p[ee],v.hasOwnProperty(ee)&&(E!=null||I!=null))switch(ee){case"value":nt=E;break;case"defaultValue":it=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==I&&zr(o,c,ee,E,v,I)}Ou(o,nt,it);return;case"option":for(var hn in p)if(nt=p[hn],p.hasOwnProperty(hn)&&nt!=null&&!v.hasOwnProperty(hn))switch(hn){case"selected":o.selected=!1;break;default:zr(o,c,hn,null,v,nt)}for(je in v)if(nt=v[je],it=p[je],v.hasOwnProperty(je)&&nt!==it&&(nt!=null||it!=null))switch(je){case"selected":o.selected=nt&&typeof nt!="function"&&typeof nt!="symbol";break;default:zr(o,c,je,nt,v,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rn in p)nt=p[rn],p.hasOwnProperty(rn)&&nt!=null&&!v.hasOwnProperty(rn)&&zr(o,c,rn,null,v,nt);for(Je in v)if(nt=v[Je],it=p[Je],v.hasOwnProperty(Je)&&nt!==it&&(nt!=null||it!=null))switch(Je){case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(r(137,c));break;default:zr(o,c,Je,nt,v,it)}return;default:if(qa(c)){for(var qr in p)nt=p[qr],p.hasOwnProperty(qr)&&nt!==void 0&&!v.hasOwnProperty(qr)&&h5(o,c,qr,void 0,v,nt);for(mt in v)nt=v[mt],it=p[mt],!v.hasOwnProperty(mt)||nt===it||nt===void 0&&it===void 0||h5(o,c,mt,nt,v,it);return}}for(var Ye in p)nt=p[Ye],p.hasOwnProperty(Ye)&&nt!=null&&!v.hasOwnProperty(Ye)&&zr(o,c,Ye,null,v,nt);for(St in v)nt=v[St],it=p[St],!v.hasOwnProperty(St)||nt===it||nt==null&&it==null||zr(o,c,St,nt,v,it)}var p5=null,m5=null;function sy(o){return o.nodeType===9?o:o.ownerDocument}function jE(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function OE(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function g5(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var b5=null;function LR(){var o=window.event;return o&&o.type==="popstate"?o===b5?!1:(b5=o,!0):(b5=null,!1)}var IE=typeof setTimeout=="function"?setTimeout:void 0,RR=typeof clearTimeout=="function"?clearTimeout:void 0,DE=typeof Promise=="function"?Promise:void 0,MR=typeof queueMicrotask=="function"?queueMicrotask:typeof DE<"u"?function(o){return DE.resolve(null).then(o).catch(FR)}:IE;function FR(o){setTimeout(function(){throw o})}function Sf(o){return o==="head"}function LE(o,c){var p=c,v=0,E=0;do{var I=p.nextSibling;if(o.removeChild(p),I&&I.nodeType===8)if(p=I.data,p==="/$"){if(0<v&&8>v){p=v;var ee=o.ownerDocument;if(p&1&&ng(ee.documentElement),p&2&&ng(ee.body),p&4)for(p=ee.head,ng(p),ee=p.firstChild;ee;){var me=ee.nextSibling,je=ee.nodeName;ee[_r]||je==="SCRIPT"||je==="STYLE"||je==="LINK"&&ee.rel.toLowerCase()==="stylesheet"||p.removeChild(ee),ee=me}}if(E===0){o.removeChild(I),cg(c);return}E--}else p==="$"||p==="$?"||p==="$!"?E++:v=p.charCodeAt(0)-48;else v=0;p=I}while(p);cg(c)}function y5(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":y5(p),Da(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function PR(o,c,p,v){for(;o.nodeType===1;){var E=p;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[_r])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(I=o.getAttribute("rel"),I==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(I!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(I=o.getAttribute("src"),(I!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&I&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var I=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===I)return o}else return o;if(o=ou(o.nextSibling),o===null)break}return null}function zR(o,c,p){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=ou(o.nextSibling),o===null))return null;return o}function x5(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function qR(o,c){var p=o.ownerDocument;if(o.data!=="$?"||p.readyState==="complete")c();else{var v=function(){c(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function ou(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var v5=null;function RE(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return o;c--}else p==="/$"&&c++}o=o.previousSibling}return null}function ME(o,c,p){switch(c=sy(p),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function ng(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Da(o)}var vl=new Map,FE=new Set;function oy(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var hd=Q.d;Q.d={f:BR,r:$R,D:UR,C:HR,L:WR,m:YR,X:GR,S:VR,M:QR};function BR(){var o=hd.f(),c=Zb();return o||c}function $R(o){var c=qi(o);c!==null&&c.tag===5&&c.type==="form"?Dh(c):hd.r(o)}var s0=typeof document>"u"?null:document;function PE(o,c,p){var v=s0;if(v&&typeof c=="string"&&c){var E=hr(c);E='link[rel="'+o+'"][href="'+E+'"]',typeof p=="string"&&(E+='[crossorigin="'+p+'"]'),FE.has(E)||(FE.add(E),o={rel:o,crossOrigin:p,href:c},v.querySelector(E)===null&&(c=v.createElement("link"),ds(c,"link",o),Jn(c),v.head.appendChild(c)))}}function UR(o){hd.D(o),PE("dns-prefetch",o,null)}function HR(o,c){hd.C(o,c),PE("preconnect",o,c)}function WR(o,c,p){hd.L(o,c,p);var v=s0;if(v&&o&&c){var E='link[rel="preload"][as="'+hr(c)+'"]';c==="image"&&p&&p.imageSrcSet?(E+='[imagesrcset="'+hr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(E+='[imagesizes="'+hr(p.imageSizes)+'"]')):E+='[href="'+hr(o)+'"]';var I=E;switch(c){case"style":I=o0(o);break;case"script":I=l0(o)}vl.has(I)||(o=f({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:o,as:c},p),vl.set(I,o),v.querySelector(E)!==null||c==="style"&&v.querySelector(rg(I))||c==="script"&&v.querySelector(ig(I))||(c=v.createElement("link"),ds(c,"link",o),Jn(c),v.head.appendChild(c)))}}function YR(o,c){hd.m(o,c);var p=s0;if(p&&o){var v=c&&typeof c.as=="string"?c.as:"script",E='link[rel="modulepreload"][as="'+hr(v)+'"][href="'+hr(o)+'"]',I=E;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=l0(o)}if(!vl.has(I)&&(o=f({rel:"modulepreload",href:o},c),vl.set(I,o),p.querySelector(E)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(ig(I)))return}v=p.createElement("link"),ds(v,"link",o),Jn(v),p.head.appendChild(v)}}}function VR(o,c,p){hd.S(o,c,p);var v=s0;if(v&&o){var E=Ci(v).hoistableStyles,I=o0(o);c=c||"default";var ee=E.get(I);if(!ee){var me={loading:0,preload:null};if(ee=v.querySelector(rg(I)))me.loading=5;else{o=f({rel:"stylesheet",href:o,"data-precedence":c},p),(p=vl.get(I))&&w5(o,p);var je=ee=v.createElement("link");Jn(je),ds(je,"link",o),je._p=new Promise(function(Je,mt){je.onload=Je,je.onerror=mt}),je.addEventListener("load",function(){me.loading|=1}),je.addEventListener("error",function(){me.loading|=2}),me.loading|=4,ly(ee,c,v)}ee={type:"stylesheet",instance:ee,count:1,state:me},E.set(I,ee)}}}function GR(o,c){hd.X(o,c);var p=s0;if(p&&o){var v=Ci(p).hoistableScripts,E=l0(o),I=v.get(E);I||(I=p.querySelector(ig(E)),I||(o=f({src:o,async:!0},c),(c=vl.get(E))&&S5(o,c),I=p.createElement("script"),Jn(I),ds(I,"link",o),p.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(E,I))}}function QR(o,c){hd.M(o,c);var p=s0;if(p&&o){var v=Ci(p).hoistableScripts,E=l0(o),I=v.get(E);I||(I=p.querySelector(ig(E)),I||(o=f({src:o,async:!0,type:"module"},c),(c=vl.get(E))&&S5(o,c),I=p.createElement("script"),Jn(I),ds(I,"link",o),p.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(E,I))}}function zE(o,c,p,v){var E=(E=le.current)?oy(E):null;if(!E)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=o0(p.href),p=Ci(E).hoistableStyles,v=p.get(c),v||(v={type:"style",instance:null,count:0,state:null},p.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=o0(p.href);var I=Ci(E).hoistableStyles,ee=I.get(o);if(ee||(E=E.ownerDocument||E,ee={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(o,ee),(I=E.querySelector(rg(o)))&&!I._p&&(ee.instance=I,ee.state.loading=5),vl.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},vl.set(o,p),I||KR(E,o,p,ee.state))),c&&v===null)throw Error(r(528,""));return ee}if(c&&v!==null)throw Error(r(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=l0(p),p=Ci(E).hoistableScripts,v=p.get(c),v||(v={type:"script",instance:null,count:0,state:null},p.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function o0(o){return'href="'+hr(o)+'"'}function rg(o){return'link[rel="stylesheet"]['+o+"]"}function qE(o){return f({},o,{"data-precedence":o.precedence,precedence:null})}function KR(o,c,p,v){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=o.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),ds(c,"link",p),Jn(c),o.head.appendChild(c))}function l0(o){return'[src="'+hr(o)+'"]'}function ig(o){return"script[async]"+o}function BE(o,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var v=o.querySelector('style[data-href~="'+hr(p.href)+'"]');if(v)return c.instance=v,Jn(v),v;var E=f({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),Jn(v),ds(v,"style",E),ly(v,p.precedence,o),c.instance=v;case"stylesheet":E=o0(p.href);var I=o.querySelector(rg(E));if(I)return c.state.loading|=4,c.instance=I,Jn(I),I;v=qE(p),(E=vl.get(E))&&w5(v,E),I=(o.ownerDocument||o).createElement("link"),Jn(I);var ee=I;return ee._p=new Promise(function(me,je){ee.onload=me,ee.onerror=je}),ds(I,"link",v),c.state.loading|=4,ly(I,p.precedence,o),c.instance=I;case"script":return I=l0(p.src),(E=o.querySelector(ig(I)))?(c.instance=E,Jn(E),E):(v=p,(E=vl.get(I))&&(v=f({},p),S5(v,E)),o=o.ownerDocument||o,E=o.createElement("script"),Jn(E),ds(E,"link",v),o.head.appendChild(E),c.instance=E);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,ly(v,p.precedence,o));return c.instance}function ly(o,c,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=v.length?v[v.length-1]:null,I=E,ee=0;ee<v.length;ee++){var me=v[ee];if(me.dataset.precedence===c)I=me;else if(I!==E)break}I?I.parentNode.insertBefore(o,I.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(o,c.firstChild))}function w5(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function S5(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var uy=null;function $E(o,c,p){if(uy===null){var v=new Map,E=uy=new Map;E.set(p,v)}else E=uy,v=E.get(p),v||(v=new Map,E.set(p,v));if(v.has(o))return v;for(v.set(o,null),p=p.getElementsByTagName(o),E=0;E<p.length;E++){var I=p[E];if(!(I[_r]||I[Hn]||o==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var ee=I.getAttribute(c)||"";ee=o+ee;var me=v.get(ee);me?me.push(I):v.set(ee,[I])}}return v}function UE(o,c,p){o=o.ownerDocument||o,o.head.insertBefore(p,c==="title"?o.querySelector("head > title"):null)}function XR(o,c,p){if(p===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function HE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var ag=null;function ZR(){}function JR(o,c,p){if(ag===null)throw Error(r(475));var v=ag;if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var E=o0(p.href),I=o.querySelector(rg(E));if(I){o=I._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(v.count++,v=cy.bind(v),o.then(v,v)),c.state.loading|=4,c.instance=I,Jn(I);return}I=o.ownerDocument||o,p=qE(p),(E=vl.get(E))&&w5(p,E),I=I.createElement("link"),Jn(I);var ee=I;ee._p=new Promise(function(me,je){ee.onload=me,ee.onerror=je}),ds(I,"link",p),c.instance=I}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(v.count++,c=cy.bind(v),o.addEventListener("load",c),o.addEventListener("error",c))}}function e9(){if(ag===null)throw Error(r(475));var o=ag;return o.stylesheets&&o.count===0&&A5(o,o.stylesheets),0<o.count?function(c){var p=setTimeout(function(){if(o.stylesheets&&A5(o,o.stylesheets),o.unsuspend){var v=o.unsuspend;o.unsuspend=null,v()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(p)}}:null}function cy(){if(this.count--,this.count===0){if(this.stylesheets)A5(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var dy=null;function A5(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,dy=new Map,c.forEach(t9,o),dy=null,cy.call(o))}function t9(o,c){if(!(c.state.loading&4)){var p=dy.get(o);if(p)var v=p.get(null);else{p=new Map,dy.set(o,p);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<E.length;I++){var ee=E[I];(ee.nodeName==="LINK"||ee.getAttribute("media")!=="not all")&&(p.set(ee.dataset.precedence,ee),v=ee)}v&&p.set(null,v)}E=c.instance,ee=E.getAttribute("data-precedence"),I=p.get(ee)||v,I===v&&p.set(null,E),p.set(ee,E),this.count++,v=cy.bind(this),E.addEventListener("load",v),E.addEventListener("error",v),I?I.parentNode.insertBefore(E,I.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),c.state.loading|=4}}var sg={$$typeof:T,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function n9(o,c,p,v,E,I,ee,me){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.hiddenUpdates=Vr(null),this.identifierPrefix=v,this.onUncaughtError=E,this.onCaughtError=I,this.onRecoverableError=ee,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function WE(o,c,p,v,E,I,ee,me,je,Je,mt,St){return o=new n9(o,c,p,ee,me,je,Je,St),c=1,I===!0&&(c|=24),I=Wa(3,null,null,c),o.current=I,I.stateNode=o,c=Tm(),c.refCount++,o.pooledCache=c,c.refCount++,I.memoizedState={element:v,isDehydrated:p,cache:c},ze(I),o}function YE(o){return o?(o=ka,o):ka}function VE(o,c,p,v,E,I){E=YE(E),v.context===null?v.context=E:v.pendingContext=E,v=pt(c),v.payload={element:p},I=I===void 0?null:I,I!==null&&(v.callback=I),p=xt(o,v,c),p!==null&&($o(p,o,c),gt(p,o,c))}function GE(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function C5(o,c){GE(o,c),(o=o.alternate)&&GE(o,c)}function QE(o){if(o.tag===13){var c=Gl(o,67108864);c!==null&&$o(c,o,67108864),C5(o,67108864)}}var fy=!0;function r9(o,c,p,v){var E=H.T;H.T=null;var I=Q.p;try{Q.p=2,E5(o,c,p,v)}finally{Q.p=I,H.T=E}}function i9(o,c,p,v){var E=H.T;H.T=null;var I=Q.p;try{Q.p=8,E5(o,c,p,v)}finally{Q.p=I,H.T=E}}function E5(o,c,p,v){if(fy){var E=k5(v);if(E===null)f5(o,c,v,hy,p),XE(o,v);else if(s9(E,o,c,p,v))v.stopPropagation();else if(XE(o,v),c&4&&-1<a9.indexOf(o)){for(;E!==null;){var I=qi(E);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var ee=Rt(I.pendingLanes);if(ee!==0){var me=I;for(me.pendingLanes|=2,me.entangledLanes|=2;ee;){var je=1<<31-Oe(ee);me.entanglements[1]|=je,ee&=~je}nc(I),(jr&6)===0&&(Kb=be()+500,Jm(0))}}break;case 13:me=Gl(I,2),me!==null&&$o(me,I,2),Zb(),C5(I,2)}if(I=k5(v),I===null&&f5(o,c,v,hy,p),I===E)break;E=I}E!==null&&v.stopPropagation()}else f5(o,c,v,null,p)}}function k5(o){return o=li(o),_5(o)}var hy=null;function _5(o){if(hy=null,o=zi(o),o!==null){var c=a(o);if(c===null)o=null;else{var p=c.tag;if(p===13){if(o=s(c),o!==null)return o;o=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return hy=o,null}function KE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fe()){case Ce:return 2;case Le:return 8;case qe:case Te:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var N5=!1,Af=null,Cf=null,Ef=null,og=new Map,lg=new Map,kf=[],a9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function XE(o,c){switch(o){case"focusin":case"focusout":Af=null;break;case"dragenter":case"dragleave":Cf=null;break;case"mouseover":case"mouseout":Ef=null;break;case"pointerover":case"pointerout":og.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":lg.delete(c.pointerId)}}function ug(o,c,p,v,E,I){return o===null||o.nativeEvent!==I?(o={blockedOn:c,domEventName:p,eventSystemFlags:v,nativeEvent:I,targetContainers:[E]},c!==null&&(c=qi(c),c!==null&&QE(c)),o):(o.eventSystemFlags|=v,c=o.targetContainers,E!==null&&c.indexOf(E)===-1&&c.push(E),o)}function s9(o,c,p,v,E){switch(c){case"focusin":return Af=ug(Af,o,c,p,v,E),!0;case"dragenter":return Cf=ug(Cf,o,c,p,v,E),!0;case"mouseover":return Ef=ug(Ef,o,c,p,v,E),!0;case"pointerover":var I=E.pointerId;return og.set(I,ug(og.get(I)||null,o,c,p,v,E)),!0;case"gotpointercapture":return I=E.pointerId,lg.set(I,ug(lg.get(I)||null,o,c,p,v,E)),!0}return!1}function ZE(o){var c=zi(o.target);if(c!==null){var p=a(c);if(p!==null){if(c=p.tag,c===13){if(c=s(p),c!==null){o.blockedOn=c,Sa(o.priority,function(){if(p.tag===13){var v=Bo();v=wa(v);var E=Gl(p,v);E!==null&&$o(E,p,v),C5(p,v)}});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function py(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var p=k5(o.nativeEvent);if(p===null){p=o.nativeEvent;var v=new p.constructor(p.type,p);sl=v,p.target.dispatchEvent(v),sl=null}else return c=qi(p),c!==null&&QE(c),o.blockedOn=p,!1;c.shift()}return!0}function JE(o,c,p){py(o)&&p.delete(c)}function o9(){N5=!1,Af!==null&&py(Af)&&(Af=null),Cf!==null&&py(Cf)&&(Cf=null),Ef!==null&&py(Ef)&&(Ef=null),og.forEach(JE),lg.forEach(JE)}function my(o,c){o.blockedOn===c&&(o.blockedOn=null,N5||(N5=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,o9)))}var gy=null;function ek(o){gy!==o&&(gy=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){gy===o&&(gy=null);for(var c=0;c<o.length;c+=3){var p=o[c],v=o[c+1],E=o[c+2];if(typeof v!="function"){if(_5(v||p)===null)continue;break}var I=qi(p);I!==null&&(o.splice(c,3),c-=3,bl(I,{pending:!0,data:E,method:p.method,action:v},v,E))}}))}function cg(o){function c(je){return my(je,o)}Af!==null&&my(Af,o),Cf!==null&&my(Cf,o),Ef!==null&&my(Ef,o),og.forEach(c),lg.forEach(c);for(var p=0;p<kf.length;p++){var v=kf[p];v.blockedOn===o&&(v.blockedOn=null)}for(;0<kf.length&&(p=kf[0],p.blockedOn===null);)ZE(p),p.blockedOn===null&&kf.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var E=p[v],I=p[v+1],ee=E[ar]||null;if(typeof I=="function")ee||ek(p);else if(ee){var me=null;if(I&&I.hasAttribute("formAction")){if(E=I,ee=I[ar]||null)me=ee.formAction;else if(_5(E)!==null)continue}else me=ee.action;typeof me=="function"?p[v+1]=me:(p.splice(v,3),v-=3),ek(p)}}}function T5(o){this._internalRoot=o}by.prototype.render=T5.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var p=c.current,v=Bo();VE(p,v,o,c,null,null)},by.prototype.unmount=T5.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;VE(o.current,2,null,o,null,null),Zb(),c[Rr]=null}};function by(o){this._internalRoot=o}by.prototype.unstable_scheduleHydration=function(o){if(o){var c=oi();o={blockedOn:null,target:o,priority:c};for(var p=0;p<kf.length&&c!==0&&c<kf[p].priority;p++);kf.splice(p,0,o),p===0&&ZE(o)}};var tk=n.version;if(tk!=="19.1.1")throw Error(r(527,tk,"19.1.1"));Q.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=u(c),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var l9={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yy.isDisabled&&yy.supportsFiber)try{Pe=yy.inject(l9),ve=yy}catch{}}return dg.createRoot=function(o,c){if(!i(o))throw Error(r(299));var p=!1,v="",E=bC,I=yC,ee=xC,me=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(E=c.onUncaughtError),c.onCaughtError!==void 0&&(I=c.onCaughtError),c.onRecoverableError!==void 0&&(ee=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(me=c.unstable_transitionCallbacks)),c=WE(o,1,!1,null,null,p,v,E,I,ee,me,null),o[Rr]=c.current,d5(o),new T5(c)},dg.hydrateRoot=function(o,c,p){if(!i(o))throw Error(r(299));var v=!1,E="",I=bC,ee=yC,me=xC,je=null,Je=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onUncaughtError!==void 0&&(I=p.onUncaughtError),p.onCaughtError!==void 0&&(ee=p.onCaughtError),p.onRecoverableError!==void 0&&(me=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(je=p.unstable_transitionCallbacks),p.formState!==void 0&&(Je=p.formState)),c=WE(o,1,!0,c,p??null,v,E,I,ee,me,je,Je),c.context=YE(null),p=c.current,v=Bo(),v=wa(v),E=pt(v),E.callback=null,xt(p,E,v),p=v,c.current.lanes=p,ir(c,p),nc(c),o[Rr]=c.current,d5(o),new by(c)},dg.version="19.1.1",dg}var uk;function S3(){if(uk)return O5.exports;uk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),O5.exports=w3(),O5.exports}var A3=S3();const C3=ts(A3);typeof window<"u"&&(window.styled_default=op,window.styled=op);typeof globalThis<"u"&&(globalThis.styled_default=op,globalThis.styled=op);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function f1(){return f1=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},f1.apply(this,arguments)}var Yh;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yh||(Yh={}));const ck="popstate";function E3(e){e===void 0&&(e={});function n(r,i){let{pathname:a,search:s,hash:l}=r.location;return tS("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:kj(i)}return _3(n,t,null,e)}function Bs(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function Ej(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function k3(){return Math.random().toString(36).substr(2,8)}function dk(e,n){return{usr:e.state,key:e.key,idx:n}}function tS(e,n,t,r){return t===void 0&&(t=null),f1({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?U1(n):n,{state:t,key:n&&n.key||r||k3()})}function kj(e){let{pathname:n="/",search:t="",hash:r=""}=e;return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function U1(e){let n={};if(e){let t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));let r=e.indexOf("?");r>=0&&(n.search=e.substr(r),e=e.substr(0,r)),e&&(n.pathname=e)}return n}function _3(e,n,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,l=Yh.Pop,u=null,d=f();d==null&&(d=0,s.replaceState(f1({},s.state,{idx:d}),""));function f(){return(s.state||{idx:null}).idx}function m(){l=Yh.Pop;let A=f(),w=A==null?null:A-d;d=A,u&&u({action:l,location:y.location,delta:w})}function b(A,w){l=Yh.Push;let C=tS(y.location,A,w);d=f()+1;let T=dk(C,d),M=y.createHref(C);try{s.pushState(T,"",M)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(M)}a&&u&&u({action:l,location:y.location,delta:1})}function g(A,w){l=Yh.Replace;let C=tS(y.location,A,w);d=f();let T=dk(C,d),M=y.createHref(C);s.replaceState(T,"",M),a&&u&&u({action:l,location:y.location,delta:0})}function x(A){let w=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof A=="string"?A:kj(A);return C=C.replace(/ $/,"%20"),Bs(w,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,w)}let y={get action(){return l},get location(){return e(i,s)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(ck,m),u=A,()=>{i.removeEventListener(ck,m),u=null}},createHref(A){return n(i,A)},createURL:x,encodeLocation(A){let w=x(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:b,replace:g,go(A){return s.go(A)}};return y}var fk;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(fk||(fk={}));function N3(e,n,t){return t===void 0&&(t="/"),T3(e,n,t)}function T3(e,n,t,r){let i=typeof n=="string"?U1(n):n,a=Tj(i.pathname||"/",t);if(a==null)return null;let s=_j(e);j3(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let d=$3(a);l=z3(s[u],d)}return l}function _j(e,n,t,r){n===void 0&&(n=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,s,l)=>{let u={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};u.relativePath.startsWith("/")&&(Bs(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=Zh([r,u.relativePath]),f=t.concat(u);a.children&&a.children.length>0&&(Bs(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),_j(a.children,n,f,d)),!(a.path==null&&!a.index)&&n.push({path:d,score:F3(d,a.index),routesMeta:f})};return e.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let u of Nj(a.path))i(a,s,u)}),n}function Nj(e){let n=e.split("/");if(n.length===0)return[];let[t,...r]=n,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=Nj(r.join("/")),l=[];return l.push(...s.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...s),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function j3(e){e.sort((n,t)=>n.score!==t.score?t.score-n.score:P3(n.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const O3=/^:[\w-]+$/,I3=3,D3=2,L3=1,R3=10,M3=-2,hk=e=>e==="*";function F3(e,n){let t=e.split("/"),r=t.length;return t.some(hk)&&(r+=M3),n&&(r+=D3),t.filter(i=>!hk(i)).reduce((i,a)=>i+(O3.test(a)?I3:a===""?L3:R3),r)}function P3(e,n){return e.length===n.length&&e.slice(0,-1).every((r,i)=>r===n[i])?e[e.length-1]-n[n.length-1]:0}function z3(e,n,t){let{routesMeta:r}=e,i={},a="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,f=a==="/"?n:n.slice(a.length)||"/",m=q3({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),b=u.route;if(!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:Zh([a,m.pathname]),pathnameBase:Y3(Zh([a,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(a=Zh([a,m.pathnameBase]))}return s}function q3(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,r]=B3(e.path,e.caseSensitive,e.end),i=n.match(t);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,f,m)=>{let{paramName:b,isOptional:g}=f;if(b==="*"){let y=l[m]||"";s=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const x=l[m];return g&&!x?d[b]=void 0:d[b]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:s,pattern:e}}function B3(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!0),Ej(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),r]}function $3(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Ej(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function Tj(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,r=e.charAt(t);return r&&r!=="/"?null:e.slice(t)||"/"}function U3(e,n){n===void 0&&(n="/");let{pathname:t,search:r="",hash:i=""}=typeof e=="string"?U1(e):e;return{pathname:t?t.startsWith("/")?t:H3(t,n):n,search:V3(r),hash:G3(i)}}function H3(e,n){let t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function L5(e,n,t,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function W3(e){return e.filter((n,t)=>t===0||n.route.path&&n.route.path.length>0)}function jj(e,n){let t=W3(e);return n?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Oj(e,n,t,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=U1(e):(i=f1({},e),Bs(!i.pathname||!i.pathname.includes("?"),L5("?","pathname","search",i)),Bs(!i.pathname||!i.pathname.includes("#"),L5("#","pathname","hash",i)),Bs(!i.search||!i.search.includes("#"),L5("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=t;else{let m=n.length-1;if(!r&&s.startsWith("..")){let b=s.split("/");for(;b[0]==="..";)b.shift(),m-=1;i.pathname=b.join("/")}l=m>=0?n[m]:"/"}let u=U3(i,l),d=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const Zh=e=>e.join("/").replace(/\/\/+/g,"/"),Y3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,G3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Q3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ij=["post","put","patch","delete"];new Set(Ij);const K3=["get",...Ij];new Set(K3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ix(){return Ix=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ix.apply(this,arguments)}const P6=X.createContext(null),X3=X.createContext(null),H1=X.createContext(null),z6=X.createContext(null),ah=X.createContext({outlet:null,matches:[],isDataRoute:!1}),Dj=X.createContext(null);function W1(){return X.useContext(z6)!=null}function Y1(){return W1()||Bs(!1),X.useContext(z6).location}function Lj(e){X.useContext(H1).static||X.useLayoutEffect(e)}function ya(){let{isDataRoute:e}=X.useContext(ah);return e?cM():Z3()}function Z3(){W1()||Bs(!1);let e=X.useContext(P6),{basename:n,future:t,navigator:r}=X.useContext(H1),{matches:i}=X.useContext(ah),{pathname:a}=Y1(),s=JSON.stringify(jj(i,t.v7_relativeSplatPath)),l=X.useRef(!1);return Lj(()=>{l.current=!0}),X.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let m=Oj(d,JSON.parse(s),a,f.relative==="path");e==null&&n!=="/"&&(m.pathname=m.pathname==="/"?n:Zh([n,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[n,r,s,a,e])}function q6(){let{matches:e}=X.useContext(ah),n=e[e.length-1];return n?n.params:{}}function J3(e,n){return eM(e)}function eM(e,n,t,r){W1()||Bs(!1);let{navigator:i}=X.useContext(H1),{matches:a}=X.useContext(ah),s=a[a.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let d=Y1(),f;f=d;let m=f.pathname||"/",b=m;if(u!=="/"){let y=u.replace(/^\//,"").split("/");b="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=N3(e,{pathname:b});return aM(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Zh([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Zh([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,t,r)}function tM(){let e=uM(),n=Q3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},n),t?X.createElement("pre",{style:i},t):null,null)}const nM=X.createElement(tM,null);class rM extends X.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?X.createElement(ah.Provider,{value:this.props.routeContext},X.createElement(Dj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iM(e){let{routeContext:n,match:t,children:r}=e,i=X.useContext(P6);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),X.createElement(ah.Provider,{value:n},r)}function aM(e,n,t,r){var i;if(n===void 0&&(n=[]),t===void 0&&(t=null),r===void 0&&(r=null),e==null){var a;if(!t)return null;if(t.errors)e=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&n.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let s=e,l=(i=t)==null?void 0:i.errors;if(l!=null){let f=s.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||Bs(!1),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,d=-1;if(t&&r&&r.v7_partialHydration)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:b,errors:g}=t,x=m.route.loader&&b[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||x){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,m,b)=>{let g,x=!1,y=null,A=null;t&&(g=l&&m.route.id?l[m.route.id]:void 0,y=m.route.errorElement||nM,u&&(d<0&&b===0?(dM("route-fallback"),x=!0,A=null):d===b&&(x=!0,A=m.route.hydrateFallbackElement||null)));let w=n.concat(s.slice(0,b+1)),C=()=>{let T;return g?T=y:x?T=A:m.route.Component?T=X.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=f,X.createElement(iM,{match:m,routeContext:{outlet:f,matches:w,isDataRoute:t!=null},children:T})};return t&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?X.createElement(rM,{location:t.location,revalidation:t.revalidation,component:y,error:g,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}var Rj=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Rj||{}),Mj=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Mj||{});function sM(e){let n=X.useContext(P6);return n||Bs(!1),n}function oM(e){let n=X.useContext(X3);return n||Bs(!1),n}function lM(e){let n=X.useContext(ah);return n||Bs(!1),n}function Fj(e){let n=lM(),t=n.matches[n.matches.length-1];return t.route.id||Bs(!1),t.route.id}function uM(){var e;let n=X.useContext(Dj),t=oM(),r=Fj();return n!==void 0?n:(e=t.errors)==null?void 0:e[r]}function cM(){let{router:e}=sM(Rj.UseNavigateStable),n=Fj(Mj.UseNavigateStable),t=X.useRef(!1);return Lj(()=>{t.current=!0}),X.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ix({fromRouteId:n},a)))},[e,n])}const pk={};function dM(e,n,t){pk[e]||(pk[e]=!0)}function fM(e,n){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Pj(e){let{to:n,replace:t,state:r,relative:i}=e;W1()||Bs(!1);let{future:a,static:s}=X.useContext(H1),{matches:l}=X.useContext(ah),{pathname:u}=Y1(),d=ya(),f=Oj(n,jj(l,a.v7_relativeSplatPath),u,i==="path"),m=JSON.stringify(f);return X.useEffect(()=>d(JSON.parse(m),{replace:t,state:r,relative:i}),[d,m,i,t,r]),null}function hM(e){let{basename:n="/",children:t=null,location:r,navigationType:i=Yh.Pop,navigator:a,static:s=!1,future:l}=e;W1()&&Bs(!1);let u=n.replace(/^\/*/,"/"),d=X.useMemo(()=>({basename:u,navigator:a,static:s,future:Ix({v7_relativeSplatPath:!1},l)}),[u,l,a,s]);typeof r=="string"&&(r=U1(r));let{pathname:f="/",search:m="",hash:b="",state:g=null,key:x="default"}=r,y=X.useMemo(()=>{let A=Tj(f,u);return A==null?null:{location:{pathname:A,search:m,hash:b,state:g,key:x},navigationType:i}},[u,f,m,b,g,x,i]);return y==null?null:X.createElement(H1.Provider,{value:d},X.createElement(z6.Provider,{children:t,value:y}))}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nS(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((n,t)=>{let r=e[t];return n.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function pM(e,n){let t=nS(e);return n&&n.forEach((r,i)=>{t.has(i)||n.getAll(i).forEach(a=>{t.append(i,a)})}),t}const mM="6";try{window.__reactRouterVersion=mM}catch{}const gM="startTransition",mk=j6[gM];function bM(e){let{basename:n,children:t,future:r,window:i}=e,a=X.useRef();a.current==null&&(a.current=E3({window:i,v5Compat:!0}));let s=a.current,[l,u]=X.useState({action:s.action,location:s.location}),{v7_startTransition:d}=r||{},f=X.useCallback(m=>{d&&mk?mk(()=>u(m)):u(m)},[u,d]);return X.useLayoutEffect(()=>s.listen(f),[s,f]),X.useEffect(()=>fM(r),[r]),X.createElement(hM,{basename:n,children:t,location:l.location,navigationType:l.action,navigator:s,future:r})}var gk;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(gk||(gk={}));var bk;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(bk||(bk={}));function V1(e){let n=X.useRef(nS(e)),t=X.useRef(!1),r=Y1(),i=X.useMemo(()=>pM(r.search,t.current?null:n.current),[r.search]),a=ya(),s=X.useCallback((l,u)=>{const d=nS(typeof l=="function"?l(i):l);t.current=!0,a("?"+d,u)},[a,i]);return[i,s]}const yM="modulepreload",xM=function(e){return"/nexlab/"+e},yk={},wi=function(n,t,r){let i=Promise.resolve();if(t&&t.length>0){let s=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=s(t.map(d=>{if(d=xM(d),d in yk)return;yk[d]=!0;const f=d.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const b=document.createElement("link");if(b.rel=f?"stylesheet":yM,f||(b.as="script"),b.crossOrigin="",b.href=d,u&&b.setAttribute("nonce",u),document.head.appendChild(b),f)return new Promise((g,x)=>{b.addEventListener("load",g),b.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return n().catch(a)})};var Wo=(e=>(e.NETWORK="NETWORK",e.AUTHENTICATION="AUTHENTICATION",e.AUTHORIZATION="AUTHORIZATION",e.VALIDATION="VALIDATION",e.NOT_FOUND="NOT_FOUND",e.SERVER_ERROR="SERVER_ERROR",e.UNKNOWN="UNKNOWN",e))(Wo||{});const xk={"auth/user-not-found":{type:"AUTHENTICATION",message:"No user found with this email address."},"auth/wrong-password":{type:"AUTHENTICATION",message:"Incorrect password. Please try again."},"auth/user-disabled":{type:"AUTHORIZATION",message:"This account has been disabled. Please contact support."},"auth/too-many-requests":{type:"NETWORK",message:"Too many failed attempts. Please try again later."},"auth/network-request-failed":{type:"NETWORK",message:"Network error. Please check your connection and try again."},"permission-denied":{type:"AUTHORIZATION",message:"You do not have permission for this action."},"not-found":{type:"NOT_FOUND",message:"The requested resource was not found."},unavailable:{type:"NETWORK",message:"Service is temporarily unavailable. Please try again."}},Wh=class Wh{constructor(){tt(this,"errorQueue",[]);tt(this,"maxErrorQueueSize",50)}static getInstance(){return Wh.instance||(Wh.instance=new Wh),Wh.instance}handleError(n,t){const r=this.createAppError(n,t);return this.logError(r),this.queueError(r),r}createAppError(n,t){let r="UNKNOWN",i="An unexpected error occurred.";if(n!=null&&n.code&&xk[n.code]){const a=xk[n.code];r=a.type,i=a.message}else n!=null&&n.message&&(i=n.message,n.message.includes("network")||n.message.includes("fetch")?r="NETWORK":n.message.includes("unauthorized")||n.message.includes("permission")?r="AUTHORIZATION":n.message.includes("not found")?r="NOT_FOUND":n.message.includes("validation")&&(r="VALIDATION"));return{type:r,message:i,originalError:n instanceof Error?n:new Error(String(n)),context:{...t,userAgent:navigator.userAgent,url:window.location.href,timestamp:new Date().toISOString()},timestamp:new Date,userId:t==null?void 0:t.userId}}logError(n){const t=`[${n.type}] ${n.message}`,r={error:n.originalError,context:n.context,timestamp:n.timestamp};switch(n.type){case"NETWORK":case"NOT_FOUND":console.warn(t,r);break;case"AUTHENTICATION":case"AUTHORIZATION":case"VALIDATION":console.error(t,r);break;case"SERVER_ERROR":case"UNKNOWN":console.error(t,r);break}}queueError(n){this.errorQueue.push(n),this.errorQueue.length>this.maxErrorQueueSize&&this.errorQueue.shift()}getErrorQueue(){return[...this.errorQueue]}clearErrorQueue(){this.errorQueue=[]}getUserFriendlyMessage(n){return n.message}shouldRetry(n){return n.type==="NETWORK"}};tt(Wh,"instance");let h1=Wh;const vk=async(e,n)=>{try{return{data:await e()}}catch(t){return{error:h1.getInstance().handleError(t,n)}}},Fhe=()=>{const e=h1.getInstance();return{handleError:(i,a)=>e.handleError(i,a),getUserFriendlyMessage:i=>e.getUserFriendlyMessage(i),shouldRetry:i=>e.shouldRetry(i)}};h1.getInstance();class vM{constructor(){tt(this,"auth",null);tt(this,"googleProvider",null)}initialize(){this.auth||(wi(()=>Promise.resolve().then(()=>Jh),void 0),this.auth=o3(),this.googleProvider=new l3)}async signInWithGoogle(n=!0){var r;this.initialize();const t=await vk(async()=>{const i=n?c3:d3;await f3(this.auth,i),this.googleProvider.setCustomParameters({});const a=await h3(this.auth,this.googleProvider);if(!a.user)throw new Error("No user returned from authentication");return a.user},{operation:"google_sign_in",keepSignedIn:n});if(t.error){const i=(r=t.error.originalError)==null?void 0:r.code;throw console.error("Google Auth Error:",{code:i,message:t.error.message,originalError:t.error.originalError}),i==="auth/popup-closed-by-user"?new Error("Sign-in was cancelled. Please try again and complete the sign-in process. If you only have one Google account logged in, try logging out and back in to your Google account."):i==="auth/popup-blocked"?new Error("Popup was blocked by your browser. Please allow popups for this site and try again."):i==="auth/network-request-failed"?new Error("Network error. Please check your internet connection and try again."):i==="auth/account-exists-with-different-credential"?new Error("An account already exists with this email address. Please use a different sign-in method."):t.error}return t.data}async signOut(){this.initialize();const n=await vk(async()=>{await p3(this.auth)},{operation:"sign_out"});if(n.error)throw n.error}onAuthStateChanged(n){return this.initialize(),u3(this.auth,n)}getCurrentUser(){return this.initialize(),this.auth.currentUser}getErrorMessage(n){return{"auth/network-request-failed":"Login Failed: Network error, please check your connection.","auth/popup-closed-by-user":"Login Failed: The sign-in popup was closed before completion.","auth/cancelled-popup-request":"Login Failed: Another sign-in request was made before the first one was completed.","auth/popup-blocked":"Login Failed: The sign-in popup was blocked by the browser. Please allow popups for this site.","auth/user-disabled":"Login Failed: This account has been disabled.","auth/user-not-found":"Login Failed: No account found with this email.","auth/wrong-password":"Login Failed: Incorrect password.","auth/too-many-requests":"Login Failed: Too many failed attempts. Please try again later."}[n]||"Login Failed: An unexpected error occurred."}}const zj=new vM;class wM{constructor(){tt(this,"db",null);tt(this,"publicCourseId");if(this.publicCourseId="rqoyheM9Lf8jGftIoZyT",!this.publicCourseId)throw new Error("Public course ID is not defined in environment variables.")}initialize(){this.db||(wi(()=>Promise.resolve().then(()=>Jh),void 0),this.db=Xn())}async getUserDetails(n){this.initialize();try{const t=fn(this.db,"users",n),r=await ga(t);return r.exists()?{...r.data(),uid:n}:null}catch(t){throw console.error("Error fetching user details:",t),new Error("Failed to fetch user details")}}async createUserDocument(n){this.initialize();try{const t=await this.getPublicCourseInfo(),r=fn(this.db,"users",n.uid),i={isAdmin:!1,isSuperAdmin:!1,lastLogin:Uf(),classes:{[this.publicCourseId]:t}};return await Aj(r,i),{uid:n.uid,isAdmin:!1,isSuperAdmin:!1,lastLogin:Uf(),classes:{[this.publicCourseId]:t}}}catch(t){throw console.error("Error creating user document:",t),new Error("Failed to create user document")}}async updateUserLogin(n){this.initialize();try{const t=fn(this.db,"users",n);await Hr(t,{lastLogin:Uf()})}catch(t){throw console.error("Error updating user login:",t),new Error("Failed to update user login")}}async refreshUserDetails(n){return this.getUserDetails(n)}subscribeToUserDetails(n,t){this.initialize();const r=fn(this.db,"users",n);return m3(r,i=>{if(i.exists()){const a=i.data();t({...a,uid:n})}else t(null)},i=>{console.error("Error in user details subscription:",i),t(null)})}async ensurePublicCourseAccess(n,t){this.initialize();try{if(t.classes&&t.classes[this.publicCourseId])return t;const r=await this.getPublicCourseInfo(),i=fn(this.db,"users",n);return await Hr(i,{[`classes.${this.publicCourseId}`]:r}),{...t,classes:{...t.classes||{},[this.publicCourseId]:r}}}catch(r){throw console.error("Error ensuring public course access:",r),new Error("Failed to ensure public course access")}}async getPublicCourseInfo(){this.initialize();try{const n=fn(this.db,"courses",this.publicCourseId),t=await ga(n);if(!t.exists())throw new Error("Public course document does not exist in the courses collection!");const r=t.data();if(!r||!r.number||!r.title)throw new Error("Public course data is incomplete or invalid.");return{number:r.number,title:r.title,isCourseAdmin:!1}}catch(n){throw console.error("Error fetching public course info:",n),new Error("Failed to fetch public course information")}}}const u0=new wM,SM={apiKey:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",authDomain:"nexlab-prod.firebaseapp.com",projectId:"nexlab-prod",storageBucket:"nexlab-prod.firebasestorage.app",messagingSenderId:"922352392986",appId:"1:922352392986:web:6c4d6e16b5e615bd4daaa3"},B6=g3(SM),qj=Xn(B6),AM=xp(B6),Jh=Object.freeze(Object.defineProperty({__proto__:null,app:B6,db:qj,storage:AM},Symbol.toStringTag,{value:"Module"})),Bj=X.createContext(void 0),CM=({children:e})=>{const[n,t]=X.useState(null),[r,i]=X.useState(null),[a,s]=X.useState(!1),[l,u]=X.useState(!0),[d,f]=X.useState(null),m=X.useRef(null);X.useEffect(()=>{const g=zj.onAuthStateChanged(async x=>{u(!0),f(null),m.current&&(m.current(),m.current=null);try{if(x){console.log("User is signed in with UID:",x.uid);let y=await u0.getUserDetails(x.uid);y?(await u0.updateUserLogin(x.uid),y=await u0.ensurePublicCourseAccess(x.uid,y)):(console.log("User document does not exist. Creating a new one..."),y=await u0.createUserDocument(x)),i(y),s(y.isSuperAdmin||!1);const A=u0.subscribeToUserDetails(x.uid,w=>{console.log("[UserContext] User details updated in real-time:",{uid:w==null?void 0:w.uid,classesCount:w!=null&&w.classes?Object.keys(w.classes).length:0,classes:w!=null&&w.classes?Object.keys(w.classes):[],timestamp:new Date().toISOString()}),w&&(i(w),s(w.isSuperAdmin||!1))});m.current=A}else i(null),s(!1);t(x)}catch(y){console.error("Error managing user authentication:",y),f(y instanceof Error?y:new Error("Failed to manage user authentication")),t(null),i(null),s(!1)}finally{u(!1)}});return()=>{g(),m.current&&(m.current(),m.current=null)}},[]);const b=async()=>{if(!n){console.warn("No user signed in, cannot refresh user details");return}try{const g=await u0.refreshUserDetails(n.uid);g?(i(g),s(g.isSuperAdmin||!1)):(console.error("User document does not exist. Unable to refresh user details."),f(new Error("User document not found")))}catch(g){console.error("Error refreshing user details:",g),f(g instanceof Error?g:new Error("Failed to refresh user details"))}};return h.jsx(Bj.Provider,{value:{user:n,userDetails:r,setUserDetails:i,refreshUserDetails:b,loading:l,error:d,isSuperAdmin:a},children:e})},Pi=()=>{const e=X.useContext(Bj);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e},Js=({element:e})=>{const{userDetails:n,loading:t}=Pi();return t?h.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:h.jsx(Zr,{})}):n?h.jsx(e,{}):h.jsx(Pj,{to:"/"})};let bv=class extends X.Component{constructor(){super(...arguments);tt(this,"state",{hasError:!1})}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:h.jsx(de,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"50vh",p:4},children:h.jsxs(gn,{elevation:2,sx:{p:4,textAlign:"center",maxWidth:500,width:"100%"},children:[h.jsx(he,{variant:"h5",color:"error",gutterBottom:!0,children:"Something went wrong"}),h.jsx(he,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"An error occurred while loading this component. Please try refreshing the page."}),h.jsx(Ct,{variant:"contained",startIcon:h.jsx(ij,{}),onClick:()=>window.location.reload(),children:"Refresh Page"})]})}):this.props.children}};var fg={},R5={};const EM=s3(f9);var wk;function Bd(){return wk||(wk=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=EM}(R5)),R5}var Sk;function kM(){if(Sk)return fg;Sk=1;var e=zd();Object.defineProperty(fg,"__esModule",{value:!0}),fg.default=void 0;var n=e(Bd()),t=qd();return fg.default=(0,n.default)((0,t.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),fg}var _M=kM();const NM=ts(_M);var hg={},Ak;function TM(){if(Ak)return hg;Ak=1;var e=zd();Object.defineProperty(hg,"__esModule",{value:!0}),hg.default=void 0;var n=e(Bd()),t=qd();return hg.default=(0,n.default)((0,t.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),hg}var jM=TM();const OM=ts(jM);var pg={},Ck;function IM(){if(Ck)return pg;Ck=1;var e=zd();Object.defineProperty(pg,"__esModule",{value:!0}),pg.default=void 0;var n=e(Bd()),t=qd();return pg.default=(0,n.default)((0,t.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),pg}var DM=IM();const $j=ts(DM),LM=()=>{const e=ya();return h.jsxs(gn,{elevation:3,sx:{p:4,m:4,textAlign:"center",backgroundColor:"#fafafa",border:"1px solid #e0e0e0",maxWidth:600,mx:"auto",mt:8},children:[h.jsx(NM,{color:"error",sx:{fontSize:64,mb:2}}),h.jsx(he,{variant:"h4",gutterBottom:!0,color:"error",children:"Page Error"}),h.jsx(he,{variant:"body1",sx:{mb:4,color:"text.secondary"},children:"This page encountered an error and cannot be displayed. You can try going back to the previous page or return to the home page."}),h.jsxs(de,{sx:{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:[h.jsx(Ct,{variant:"contained",color:"primary",startIcon:h.jsx(OM,{}),onClick:()=>e("/"),children:"Go to Home"}),h.jsx(Ct,{variant:"outlined",color:"primary",startIcon:h.jsx($j,{}),onClick:()=>e(-1),children:"Go Back"}),h.jsx(Ct,{variant:"outlined",color:"secondary",onClick:()=>window.location.reload(),children:"Refresh Page"})]})]})},Uj=({children:e,showDetails:n})=>h.jsx(bv,{fallback:h.jsx(LM,{}),children:e}),K={primary:{50:"#F0F4FF",100:"#E0ECFF",200:"#CDDAFF",300:"#9BB5FF",400:"#6B8FFF",500:"#0B53C0",600:"#0841A0",700:"#062F80"},secondary:{50:"#F0FDF4",100:"#DCFCE7",200:"#BBF7D0",300:"#86EFAC",500:"#22C55E",600:"#16A34A",700:"#15803D"},neutral:{50:"#FAFAFA",100:"#F5F5F5",200:"#E5E5E5",300:"#D4D4D4",400:"#A3A3A3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717"},success:"#22C55E",warning:"#F59E0B",error:"#EF4444",info:"#3B82F6",background:{primary:"#FFFFFF",secondary:"#F8FAFC",tertiary:"#F1F5F9",elevated:"#FFFFFF"},surface:{primary:"#FFFFFF",elevated:"#FFFFFF"},text:{primary:"#0F172A",secondary:"#475569",tertiary:"#64748B",disabled:"#94A3B8",inverse:"#FFFFFF"}},we={fontFamily:{primary:["Inter","system-ui","sans-serif"].join(","),secondary:["Gabarito","system-ui","sans-serif"].join(","),display:["Staatliches","system-ui","sans-serif"].join(",")},fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem"},fontWeight:{light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},lineHeight:{tight:1.25,snug:1.375,normal:1.5,relaxed:1.625}},$e={1:"0.25rem",2:"0.5rem",3:"0.75rem",4:"1rem",5:"1.25rem",6:"1.5rem",8:"2rem",12:"3rem"},Et={sm:"0.125rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem",full:"9999px"},Ft={sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",base:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","2xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)"},vc={transitions:{fast:"all 150ms cubic-bezier(0.4, 0, 0.2, 1)",normal:"all 300ms cubic-bezier(0.4, 0, 0.2, 1)"}},RM={width:"320px",minWidth:"320px",maxWidth:"320px",backgroundColor:K.background.secondary,borderRight:`1px solid ${K.neutral[200]}`},Hj=()=>({palette:{primary:{main:K.primary[500],light:K.primary[300],dark:K.primary[700],contrastText:K.text.inverse},secondary:{main:K.secondary[500],light:K.secondary[300],dark:K.secondary[700],contrastText:K.text.inverse},error:{main:K.error,light:"#FEE2E2",dark:"#DC2626"},warning:{main:K.warning,light:"#FEF3C7",dark:"#D97706"},info:{main:K.info,light:"#DBEAFE",dark:"#2563EB"},success:{main:K.success,light:"#D1FAE5",dark:"#059669"},background:{default:K.background.primary,paper:K.surface.primary},text:{primary:K.text.primary,secondary:K.text.secondary,disabled:K.text.disabled},grey:{50:K.neutral[50],100:K.neutral[100],200:K.neutral[200],300:K.neutral[300],400:K.neutral[400],500:K.neutral[500],600:K.neutral[600],700:K.neutral[700],800:K.neutral[800],900:K.neutral[900]}},typography:{fontFamily:we.fontFamily.primary,h1:{fontFamily:we.fontFamily.display,fontSize:we.fontSize["5xl"],fontWeight:we.fontWeight.bold,lineHeight:we.lineHeight.tight,color:K.text.primary},h2:{fontFamily:we.fontFamily.display,fontSize:we.fontSize["4xl"],fontWeight:we.fontWeight.bold,lineHeight:we.lineHeight.tight,color:K.text.primary},h3:{fontFamily:we.fontFamily.display,fontSize:we.fontSize["3xl"],fontWeight:we.fontWeight.bold,lineHeight:we.lineHeight.snug,color:K.text.primary},h4:{fontFamily:we.fontFamily.display,fontSize:we.fontSize["2xl"],fontWeight:we.fontWeight.semibold,lineHeight:we.lineHeight.snug,color:K.text.primary},h5:{fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.xl,fontWeight:we.fontWeight.semibold,lineHeight:we.lineHeight.normal,color:K.text.primary},h6:{fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.lg,fontWeight:we.fontWeight.semibold,lineHeight:we.lineHeight.normal,color:K.text.primary},body1:{fontFamily:we.fontFamily.primary,fontSize:we.fontSize.base,fontWeight:we.fontWeight.normal,lineHeight:we.lineHeight.normal,color:K.text.primary},body2:{fontFamily:we.fontFamily.primary,fontSize:we.fontSize.sm,fontWeight:we.fontWeight.normal,lineHeight:we.lineHeight.normal,color:K.text.secondary},button:{fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.base,fontWeight:we.fontWeight.semibold,textTransform:"none"}},shape:{borderRadius:12},shadows:["none",Ft.sm,Ft.base,Ft.md,Ft.lg,Ft.xl,Ft["2xl"],Ft["2xl"],Ft["2xl"],Ft["2xl"],Ft["2xl"],Ft["2xl"],Ft["2xl"],Ft["2xl"],Ft["2xl"],Ft["2xl"],Ft["2xl"],Ft["2xl"],Ft["2xl"],Ft["2xl"],Ft["2xl"],Ft["2xl"],Ft["2xl"],Ft["2xl"],Ft["2xl"]],components:{MuiButton:{styleOverrides:{root:{borderRadius:Et.xl,padding:`${$e[3]} ${$e[6]}`,fontWeight:we.fontWeight.semibold,textTransform:"none",transition:vc.transitions.fast,boxShadow:"none","&:hover":{boxShadow:Ft.md,transform:"none !important"}},contained:{backgroundColor:K.primary[500],"&:hover":{backgroundColor:K.primary[600]}},outlined:{borderColor:K.primary[500],color:K.primary[500],"&:hover":{backgroundColor:K.primary[50],borderColor:K.primary[600]}}}},MuiCard:{styleOverrides:{root:{borderRadius:Et.lg,boxShadow:Ft.md,border:`1px solid ${K.neutral[200]}`,transition:vc.transitions.fast,"&:hover":{boxShadow:Ft.lg,transform:"translateY(-2px)"}}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:Et.lg,"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:K.primary[300]},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:K.primary[500],borderWidth:2}}}}},MuiChip:{styleOverrides:{root:{borderRadius:Et.full,fontWeight:we.fontWeight.medium}}},MuiTabs:{styleOverrides:{root:{backgroundColor:K.background.secondary,borderRadius:Et.lg,padding:$e[2],"& .MuiTabs-indicator":{display:"none"}}}},MuiTab:{styleOverrides:{root:{borderRadius:Et.lg,fontWeight:we.fontWeight.semibold,textTransform:"none",transition:vc.transitions.fast,"&.Mui-selected":{backgroundColor:K.primary[500],color:K.text.inverse,boxShadow:Ft.sm},"&:not(.Mui-selected)":{backgroundColor:K.primary[100],color:K.primary[700],"&:hover":{backgroundColor:K.primary[200],transform:"none"}}}}}}}),MM=Hj(),ht=aj(MM);var mg={},Ek;function FM(){if(Ek)return mg;Ek=1;var e=zd();Object.defineProperty(mg,"__esModule",{value:!0}),mg.default=void 0;var n=e(Bd()),t=qd();return mg.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),mg}var PM=FM();const zM=ts(PM),kk=e=>{let n;const t=new Set,r=(d,f)=>{const m=typeof d=="function"?d(n):d;if(!Object.is(m,n)){const b=n;n=f??(typeof m!="object"||m===null)?m:Object.assign({},n,m),t.forEach(g=>g(n,b))}},i=()=>n,l={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(t.add(d),()=>t.delete(d))},u=n=e(r,i,l);return l},qM=e=>e?kk(e):kk,BM=e=>e;function $M(e,n=BM){const t=st.useSyncExternalStore(e.subscribe,()=>n(e.getState()),()=>n(e.getInitialState()));return st.useDebugValue(t),t}const _k=e=>{const n=qM(e),t=r=>$M(n,r);return Object.assign(t,n),t},vp=e=>e?_k(e):_k,UM=()=>Math.random().toString(36).substr(2,9),HM=e=>{switch(e){case Wo.NETWORK:return"";case Wo.AUTHENTICATION:return"";case Wo.AUTHORIZATION:return"";case Wo.VALIDATION:return"";case Wo.NOT_FOUND:return"";case Wo.SERVER_ERROR:return"";default:return""}},WM=e=>{switch(e){case Wo.NETWORK:return 8e3;case Wo.AUTHENTICATION:case Wo.AUTHORIZATION:return 1e4;case Wo.VALIDATION:return 6e3;case Wo.NOT_FOUND:return 5e3;default:return 7e3}},YM=vp((e,n)=>({notifications:[],addNotification:t=>{const r={...t,id:UM(),timestamp:new Date,duration:t.duration??5e3};e(i=>({notifications:[...i.notifications,r]})),r.duration>0&&setTimeout(()=>{n().removeNotification(r.id)},r.duration)},removeNotification:t=>{e(r=>({notifications:r.notifications.filter(i=>i.id!==t)}))},clearAll:()=>{e({notifications:[]})},showError:(t,r)=>{const i=HM(t.type),a=WM(t.type),s=[];t.type===Wo.NETWORK&&s.push({label:"Retry",action:()=>{console.log("Retry requested for:",t)},primary:!0}),n().addNotification({type:"error",title:`${i} ${t.type.replace("_"," ")} Error`,message:t.message,duration:a,actions:r||s,error:t})},showSuccess:(t,r)=>{n().addNotification({type:"success",title:r||" Success",message:t,duration:4e3})},showWarning:(t,r)=>{n().addNotification({type:"warning",title:r||" Warning",message:t,duration:6e3})},showInfo:(t,r)=>{n().addNotification({type:"info",title:r||" Info",message:t,duration:5e3})}})),VM=()=>{const{notifications:e,removeNotification:n}=YM();return e.length===0?null:h.jsx(de,{sx:{position:"fixed",top:16,right:16,zIndex:9999,maxWidth:400,display:"flex",flexDirection:"column",gap:1},children:e.map(t=>h.jsx(_x,{in:!0,timeout:300,children:h.jsx(gn,{elevation:6,children:h.jsxs(rr,{severity:t.type,sx:{width:"100%","& .MuiAlert-action":{alignItems:"flex-start",padding:"4px 0 0 16px"}},action:h.jsx(_n,{size:"small",onClick:()=>n(t.id),sx:{color:"inherit"},children:h.jsx(zM,{fontSize:"small"})}),children:[t.title&&h.jsx(h9,{sx:{fontWeight:"bold",mb:.5},children:t.title}),t.message,t.actions&&t.actions.length>0&&h.jsx(de,{sx:{mt:1.5,display:"flex",gap:1,flexWrap:"wrap"},children:t.actions.map((r,i)=>h.jsx(Ct,{size:"small",variant:r.primary?"contained":"outlined",color:t.type==="error"?"error":"primary",onClick:()=>{r.action(),n(t.id)},sx:{minWidth:"auto",fontSize:"0.75rem",padding:"2px 8px"},children:r.label},i))})]})})},t.id))})},GM=({message:e})=>h.jsx(de,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:$e[12],color:K.text.secondary},children:h.jsx(he,{variant:"body1",sx:{fontStyle:"italic",textAlign:"center",fontFamily:"Gabarito, sans-serif"},children:e})}),QM=()=>h.jsx(de,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:$e[12]},children:h.jsx(Zr,{size:40})});function sh({data:e,columns:n,loading:t=!1,emptyMessage:r="No data available",onRowClick:i,stickyHeader:a=!1,maxHeight:s,headerColor:l=K.primary[500],headerTextColor:u=K.text.inverse,rowHeight:d="72px",showRowNumbers:f=!1,className:m}){const b=n.length+(f?1:0);return h.jsx(dv,{component:gn,className:m,sx:{borderRadius:Et["2xl"],boxShadow:Ft.lg,border:`1px solid ${K.neutral[200]}`,overflow:"hidden",maxHeight:s},children:h.jsxs(fv,{stickyHeader:a,sx:{"& .MuiTableCell-root":{fontSize:we.fontSize.base,fontFamily:we.fontFamily.primary,borderBottom:`1px solid ${K.neutral[200]}`},"& .MuiTableCell-head":{fontSize:we.fontSize.lg,fontFamily:we.fontFamily.display,fontWeight:we.fontWeight.semibold,backgroundColor:l,color:u,textTransform:"uppercase",letterSpacing:"0.5px"},"& .MuiTableRow-root:hover":{backgroundColor:K.primary[25],cursor:i?"pointer":"default"}},children:[h.jsx(hv,{children:h.jsxs(yc,{sx:{height:"64px"},children:[f&&h.jsx(kn,{sx:{width:"60px",textAlign:"center"},children:"#"}),n.map(g=>h.jsx(kn,{sx:{width:g.width,textAlign:g.align||"left"},children:g.label},String(g.id)))]})}),h.jsx(pv,{children:t?h.jsx(yc,{children:h.jsx(kn,{colSpan:b,sx:{border:"none",p:0},children:h.jsx(QM,{})})}):e.length===0?h.jsx(yc,{children:h.jsx(kn,{colSpan:b,sx:{border:"none",p:0},children:h.jsx(GM,{message:r})})}):e.map((g,x)=>h.jsxs(yc,{onClick:()=>i==null?void 0:i(g,x),sx:{height:d,transition:vc.transitions.fast,"&:hover":{backgroundColor:K.primary[25],transform:"translateY(-1px)",boxShadow:Ft.sm}},children:[f&&h.jsx(kn,{sx:{textAlign:"center"},children:h.jsx(he,{variant:"body2",sx:{fontWeight:we.fontWeight.semibold,color:K.text.secondary},children:x+1})}),n.map(y=>{const A=g[y.id];return h.jsx(kn,{sx:{textAlign:y.align||"left"},children:y.render?y.render(A,g,x):A},String(y.id))})]},x))})]})})}const Ao=({title:e,subtitle:n})=>{const t=yp(),r=jd(t.breakpoints.down("md"));return h.jsxs(de,{sx:{p:r?$e[4]:$e[6],backgroundColor:K.primary[100],borderRadius:Et["2xl"],mb:$e[6],border:`1px solid ${K.primary[200]}`,boxShadow:Ft.sm},children:[h.jsx(he,{variant:"h2",sx:{fontFamily:we.fontFamily.display,fontSize:r?we.fontSize["3xl"]:we.fontSize["5xl"],fontWeight:we.fontWeight.bold,color:K.primary[700],lineHeight:we.lineHeight.tight,mb:n?$e[2]:0},children:e}),n&&h.jsx(he,{variant:"body1",sx:{fontFamily:we.fontFamily.primary,fontSize:r?we.fontSize.base:we.fontSize.lg,color:K.text.secondary,lineHeight:we.lineHeight.relaxed},children:n})]})},oh=({userId:e,userType:n="student",maxLength:t=999})=>{const[r,i]=X.useState(!1),a=async d=>{d.stopPropagation();try{await navigator.clipboard.writeText(e),i(!0),setTimeout(()=>i(!1),2e3)}catch(f){console.error("Failed to copy:",f)}},s=()=>{switch(n){case"superAdmin":return{backgroundColor:K.secondary[100],color:K.secondary[700],borderColor:K.secondary[300],hoverColor:K.secondary[200]};case"educator":return{backgroundColor:K.primary[100],color:K.primary[700],borderColor:K.primary[300],hoverColor:K.primary[200]};default:return{backgroundColor:K.neutral[100],color:K.neutral[700],borderColor:K.neutral[300],hoverColor:K.neutral[200]}}},l=e.length>t?`${e.substring(0,t)}...`:e,u=s();return h.jsx(fi,{title:r?"Copied!":"Click to Copy",children:h.jsx(de,{onClick:a,sx:{display:"inline-flex",alignItems:"center",backgroundColor:u.backgroundColor,color:u.color,border:`1px solid ${u.borderColor}`,borderRadius:Et.full,padding:`${$e[2]} ${$e[3]}`,fontSize:we.fontSize.sm,fontWeight:we.fontWeight.medium,fontFamily:"monospace",cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:u.hoverColor,transform:"translateY(-1px)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},children:h.jsx(he,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"inherit",color:"inherit",fontWeight:"inherit",userSelect:"none"},title:e,children:l})})})},wp=({courseId:e,courseNumber:n,courseTitle:t,variant:r="link",isAdmin:i=!1,showNumber:a=!0,showTitle:s=!0,maxTitleLength:l=50,onClick:u})=>{const d=ya(),f=g=>{if(g.preventDefault(),g.stopPropagation(),u)u();else{const x=window.location.hostname.includes("github.io"),A=`${x?"https://institute-for-future-intelligence.github.io/nexlab":""}/supplemental-materials?course=${e}`;x?window.open(A,"_blank"):d(`/supplemental-materials?course=${e}`)}},m=t.length>l?`${t.substring(0,l)}...`:t,b=()=>i?{backgroundColor:K.primary[100],color:K.primary[700],"&:hover":{backgroundColor:K.primary[200]}}:{backgroundColor:K.neutral[200],color:K.neutral[700],"&:hover":{backgroundColor:K.neutral[300]}};if(r==="chip"){const g=a&&s?`${n} - ${m}`:a?n:s?m:"";return h.jsx(cr,{label:g,size:"small",clickable:!0,onClick:f,sx:{...b(),fontFamily:we.fontFamily.secondary,fontWeight:we.fontWeight.medium,fontSize:we.fontSize.sm,cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%"},title:`${n} - ${t}`})}return r==="text"?h.jsxs(de,{sx:{display:"flex",flexDirection:"column",gap:$e[1]},children:[a&&h.jsx(he,{variant:"body2",sx:{fontWeight:we.fontWeight.semibold,color:K.text.primary,fontSize:we.fontSize.sm},children:n}),s&&h.jsx(q1,{component:"button",variant:"body2",onClick:f,sx:{color:K.primary[600],textDecoration:"none",fontSize:we.fontSize.sm,fontWeight:we.fontWeight.medium,textAlign:"left",cursor:"pointer","&:hover":{textDecoration:"underline",color:K.primary[700]}},title:t,children:m})]}):h.jsx(de,{onClick:f,sx:{display:"inline-flex",alignItems:"center",backgroundColor:K.primary[50],border:`1px solid ${K.primary[200]}`,borderRadius:Et.lg,padding:`${$e[2]} ${$e[3]}`,cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:K.primary[100],borderColor:K.primary[300],transform:"translateY(-1px)",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},title:`${n} - ${t}`,children:h.jsx(he,{variant:"body1",sx:{fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.base,fontWeight:we.fontWeight.semibold,color:K.primary[700],textDecoration:"none",userSelect:"none","&:hover":{textDecoration:"underline"}},children:a&&s?`${n} - ${m}`:a?n:s?m:""})})},pm=({value:e,onChange:n,courses:t,label:r="Course",placeholder:i,helperText:a,error:s=!1,disabled:l=!1,loading:u=!1,required:d=!1,showNumber:f=!0,showTitle:m=!0,showAdminBadge:b=!0,maxTitleLength:g=50,fullWidth:x=!0,variant:y="outlined",size:A="medium","aria-label":w,"data-testid":C})=>{const T=R=>{n(R.target.value)},M=()=>t.find(R=>R.id===e);return M(),h.jsxs(Od,{fullWidth:x,error:s,disabled:l,required:d,variant:y,size:A,sx:{"& .MuiOutlinedInput-root":{borderRadius:Et.lg,backgroundColor:K.surface.primary,border:`2px solid ${K.neutral[300]}`,minHeight:A==="small"?"48px":"56px","&:hover":{backgroundColor:K.surface.primary,borderColor:K.neutral[300]},"&.Mui-focused":{backgroundColor:K.surface.primary,borderColor:K.primary[500],borderWidth:"2px"},"&.Mui-error":{borderColor:K.error},"& .MuiSelect-select":{padding:A==="small"?"12px 14px":"16px 14px",boxSizing:"border-box",fontFamily:we.fontFamily.primary,fontSize:we.fontSize.base,color:K.text.primary}},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputLabel-root":{fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.base,fontWeight:we.fontWeight.medium,color:K.text.secondary,transform:"none",position:"static",marginBottom:$e[1],"&.Mui-focused":{color:K.primary[600]},"&.Mui-error":{color:K.error}},"& .MuiFormHelperText-root":{fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.sm,color:s?K.error:K.text.secondary,marginTop:$e[1],marginBottom:0}},children:[r&&h.jsx(lp,{id:`course-selector-label-${Math.random().toString(36).substr(2,9)}`,"aria-label":w,children:r}),h.jsx(Dc,{labelId:r?`course-selector-label-${Math.random().toString(36).substr(2,9)}`:void 0,value:e,onChange:T,label:r||void 0,displayEmpty:!e||e==="",renderValue:R=>{const z=M();return z?h.jsx(de,{sx:{display:"flex",alignItems:"center",gap:$e[2]},children:h.jsxs(de,{sx:{backgroundColor:K.primary[50],border:`1px solid ${K.primary[200]}`,borderRadius:Et.lg,padding:`${$e[2]} ${$e[3]}`,display:"inline-flex",alignItems:"center",gap:$e[1],width:"fit-content",maxWidth:"100%"},children:[f&&h.jsx(he,{sx:{fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.sm,fontWeight:we.fontWeight.semibold,color:K.primary[700],flexShrink:0},children:z.number}),f&&m&&h.jsx(he,{sx:{fontFamily:we.fontFamily.primary,fontSize:we.fontSize.sm,color:K.text.secondary,flexShrink:0},children:"-"}),m&&h.jsx(he,{sx:{fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.sm,fontWeight:we.fontWeight.semibold,color:K.primary[700],flexShrink:0},children:z.title.length>g?`${z.title.substring(0,g)}...`:z.title})]})}):h.jsx(he,{sx:{color:K.text.secondary,fontFamily:we.fontFamily.primary,fontSize:we.fontSize.base},children:i||`Select ${r.toLowerCase()}`})},"data-testid":C,MenuProps:{PaperProps:{sx:{borderRadius:Et.lg,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:`1px solid ${K.neutral[200]}`,backgroundColor:K.surface.primary,maxHeight:"300px"}}},children:u?h.jsx(ai,{disabled:!0,children:h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:$e[2],width:"100%"},children:[h.jsx(Zr,{size:20}),h.jsx(he,{sx:{fontFamily:we.fontFamily.primary},children:"Loading courses..."})]})}):t.length>0?t.map(R=>h.jsx(ai,{value:R.id,sx:{padding:`${$e[2]} ${$e[3]}`,"&:hover":{backgroundColor:K.primary[50]},"&.Mui-selected":{backgroundColor:K.primary[100],"&:hover":{backgroundColor:K.primary[200]}}},children:h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:$e[2],width:"100%"},children:[h.jsxs(de,{sx:{backgroundColor:K.primary[100],border:`1px solid ${K.primary[300]}`,borderRadius:Et.lg,padding:`${$e[2]} ${$e[3]}`,display:"inline-flex",alignItems:"center",gap:$e[1],width:"fit-content",maxWidth:"100%"},children:[f&&h.jsx(he,{sx:{fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.sm,fontWeight:we.fontWeight.semibold,color:K.primary[700],flexShrink:0},children:R.number}),f&&m&&h.jsx(he,{sx:{fontFamily:we.fontFamily.primary,fontSize:we.fontSize.sm,color:K.text.secondary,flexShrink:0},children:"-"}),m&&h.jsx(he,{sx:{fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.sm,fontWeight:we.fontWeight.semibold,color:K.primary[700],flexShrink:0},children:R.title})]}),b&&R.isCourseAdmin&&h.jsx(de,{sx:{backgroundColor:K.secondary[100],border:`1px solid ${K.secondary[300]}`,borderRadius:Et.sm,padding:`${$e[.5]} ${$e[1]}`,display:"inline-flex",alignItems:"center",flexShrink:0},children:h.jsx(he,{sx:{fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.xs,fontWeight:we.fontWeight.semibold,color:K.secondary[700],textTransform:"uppercase"},children:"Admin"})})]})},R.id)):h.jsx(ai,{disabled:!0,children:h.jsx(he,{sx:{fontFamily:we.fontFamily.primary,color:K.text.secondary,fontStyle:"italic"},children:"No courses available"})})}),a&&h.jsx(O6,{children:a})]})},KM=({value:e,onChange:n,materials:t,label:r="Material",placeholder:i,helperText:a,error:s=!1,disabled:l=!1,loading:u=!1,required:d=!1,fullWidth:f=!0,variant:m="outlined",size:b="medium",sx:g})=>{const x=()=>t.find(y=>y.id===e);return x(),h.jsxs(Od,{fullWidth:f,error:s,disabled:l,required:d,variant:m,size:b,sx:{"& .MuiOutlinedInput-root":{borderRadius:Et.lg,backgroundColor:K.surface.primary,border:`2px solid ${K.neutral[300]}`,minHeight:b==="small"?"48px":"56px","&:hover":{backgroundColor:K.surface.primary,borderColor:K.neutral[300]},"&.Mui-focused":{backgroundColor:K.surface.primary,borderColor:K.primary[500],borderWidth:"2px"},"&.Mui-error":{borderColor:K.error},"& .MuiSelect-select":{padding:b==="small"?"12px 14px":"16px 14px",boxSizing:"border-box",fontFamily:we.fontFamily.primary,fontSize:we.fontSize.base,color:K.text.primary}},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputLabel-root":{fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.base,fontWeight:we.fontWeight.medium,color:K.text.secondary,transform:"none",position:"static",marginBottom:$e[1],"&.Mui-focused":{color:K.primary[600]},"&.Mui-error":{color:K.error}},"& .MuiFormHelperText-root":{fontFamily:we.fontFamily.primary,fontSize:we.fontSize.sm,marginTop:$e[1],minHeight:"20px",lineHeight:"1.2"},...g},children:[h.jsx(sj,{required:d,sx:{mb:1,fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.base,fontWeight:we.fontWeight.medium,color:K.text.secondary},children:r}),h.jsx(Dc,{value:e,onChange:y=>n(y.target.value),displayEmpty:!0,renderValue:y=>{if(!y)return h.jsx(he,{sx:{color:K.text.secondary,fontFamily:we.fontFamily.primary,fontSize:we.fontSize.base},children:i||`Select ${r.toLowerCase()}`});const A=x();return A?h.jsx(de,{sx:{display:"flex",alignItems:"center",gap:$e[2]},children:h.jsx(de,{sx:{backgroundColor:"#D1FAE5",border:"1px solid #22C55E",borderRadius:Et.lg,padding:`${$e[2]} ${$e[3]}`,display:"inline-flex",alignItems:"center",gap:$e[1],width:"fit-content",maxWidth:"100%"},children:h.jsx(he,{sx:{fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.sm,fontWeight:we.fontWeight.semibold,color:"#059669",flexShrink:0,minWidth:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:A.title})})}):""},children:u?h.jsx(ai,{disabled:!0,children:h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:$e[2]},children:[h.jsx(Zr,{size:20}),h.jsx(he,{sx:{fontFamily:we.fontFamily.primary},children:"Loading materials..."})]})}):t.length>0?t.map(y=>h.jsx(ai,{value:y.id,sx:{padding:$e[2],"&:hover":{backgroundColor:"#ECFDF5"},"&.Mui-selected":{backgroundColor:"#D1FAE5","&:hover":{backgroundColor:"#A7F3D0"}}},children:h.jsx(de,{sx:{display:"flex",alignItems:"center",gap:$e[2],width:"100%"},children:h.jsx(de,{sx:{backgroundColor:"#A7F3D0",border:"1px solid #22C55E",borderRadius:Et.lg,padding:`${$e[2]} ${$e[3]}`,display:"inline-flex",alignItems:"center",gap:$e[1],width:"fit-content",maxWidth:"100%"},children:h.jsx(he,{sx:{fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.sm,fontWeight:we.fontWeight.semibold,color:"#059669",flexShrink:0,minWidth:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:y.title})})})},y.id)):h.jsx(ai,{disabled:!0,children:h.jsx(he,{sx:{fontFamily:we.fontFamily.primary,color:K.text.secondary},children:"No materials available"})})}),a&&h.jsx(O6,{children:a})]})},Wj=({materialId:e,materialTitle:n,maxTitleLength:t=50,variant:r="link",onClick:i})=>{const a=ya(),s=u=>{if(u.preventDefault(),u.stopPropagation(),i)i();else{const d=window.location.hostname.includes("github.io"),m=`${d?"https://institute-for-future-intelligence.github.io/nexlab":""}/view-material/${e}?material=${e}`;d?window.open(m,"_blank"):a(`/view-material/${e}?material=${e}`)}},l=n.length>t?`${n.substring(0,t)}...`:n;return r==="text"?h.jsx(he,{variant:"body2",sx:{color:K.text.primary,fontSize:we.fontSize.sm,fontWeight:we.fontWeight.medium},title:n,children:l}):h.jsx(he,{variant:"body1",onClick:s,sx:{fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.base,fontWeight:we.fontWeight.semibold,color:K.text.primary,cursor:"pointer",textDecoration:"none","&:hover":{color:K.primary[600],textDecoration:"underline"}},title:n,children:l})},Yj=({status:e,size:n="small",variant:t="filled"})=>{const i=(()=>{switch(e){case"superAdmin":return{label:"Super Admin",color:t==="filled"?{backgroundColor:K.success,color:K.text.inverse,borderColor:K.success}:{backgroundColor:"transparent",color:K.success,borderColor:K.success}};case"educator":return{label:"Educator",color:t==="filled"?{backgroundColor:K.primary[500],color:K.text.inverse,borderColor:K.primary[500]}:{backgroundColor:"transparent",color:K.primary[500],borderColor:K.primary[500]}};case"student":return{label:"Student",color:t==="filled"?{backgroundColor:K.neutral[400],color:K.text.inverse,borderColor:K.neutral[400]}:{backgroundColor:"transparent",color:K.neutral[600],borderColor:K.neutral[400]}};default:return{label:"Unknown",color:{backgroundColor:K.neutral[200],color:K.neutral[700],borderColor:K.neutral[300]}}}})();return h.jsx(cr,{label:i.label,size:n,variant:t==="outlined"?"outlined":"filled",sx:{...i.color,fontFamily:we.fontFamily.secondary,fontWeight:we.fontWeight.medium,fontSize:n==="small"?we.fontSize.xs:we.fontSize.sm,border:`1px solid ${i.color.borderColor}`,"&:hover":{backgroundColor:t==="filled"?i.color.backgroundColor:`${i.color.borderColor}10`}}})},Vj=({chatbotId:e,maxLength:n=999})=>{const[t,r]=X.useState(!1),i=async s=>{s.stopPropagation();try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3)}catch(l){console.error("Failed to copy:",l)}},a=e.length>n?`${e.substring(0,n)}...`:e;return h.jsx(fi,{title:t?"Copied!":"Click to Copy",children:h.jsx(de,{onClick:i,sx:{display:"inline-flex",alignItems:"center",backgroundColor:K.info+"15",color:K.info,border:`1px solid ${K.info}40`,borderRadius:Et.md,padding:`${$e[2]} ${$e[3]}`,fontSize:we.fontSize.sm,fontWeight:we.fontWeight.medium,fontFamily:"monospace",cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:K.info+"25",transform:"translateY(-1px)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},children:h.jsx(he,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"inherit",color:"inherit",fontWeight:"inherit",userSelect:"none"},title:e,children:a})})})},XM=({conversationId:e,maxLength:n=999})=>{const[t,r]=X.useState(!1),i=async s=>{s.stopPropagation();try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3)}catch(l){console.error("Failed to copy:",l)}},a=e.length>n?`${e.substring(0,n)}...`:e;return h.jsx(fi,{title:t?"Copied!":"Click to Copy",children:h.jsx(de,{onClick:i,sx:{display:"inline-flex",alignItems:"center",backgroundColor:K.warning+"15",color:K.warning,border:`1px solid ${K.warning}40`,borderRadius:Et.full,padding:`${$e[2]} ${$e[3]}`,fontSize:we.fontSize.sm,fontWeight:we.fontWeight.medium,fontFamily:"monospace",cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:K.warning+"25",transform:"translateY(-1px)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},children:h.jsx(he,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"inherit",color:"inherit",fontWeight:"inherit",userSelect:"none"},title:e,children:a})})})},Gj=({courseId:e,maxLength:n=999})=>{const[t,r]=X.useState(!1),i=async s=>{s.stopPropagation();try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3)}catch(l){console.error("Failed to copy:",l)}},a=e.length>n?`${e.substring(0,n)}...`:e;return h.jsx(fi,{title:t?"Copied!":"Click to Copy",children:h.jsx(de,{onClick:i,sx:{display:"inline-flex",alignItems:"center",backgroundColor:K.neutral[100],color:K.neutral[700],border:`1px solid ${K.neutral[300]}`,borderRadius:Et.full,padding:`${$e[2]} ${$e[3]}`,fontSize:we.fontSize.sm,fontWeight:we.fontWeight.medium,fontFamily:"monospace",cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:K.neutral[200],transform:"translateY(-1px)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},children:h.jsx(he,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"inherit",color:"inherit",fontWeight:"inherit",userSelect:"none"},title:e,children:a})})})},ZM=({materialId:e,maxLength:n=999})=>{const[t,r]=X.useState(!1),i=async s=>{s.stopPropagation();try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3)}catch(l){console.error("Failed to copy:",l)}},a=e.length>n?`${e.substring(0,n)}...`:e;return h.jsx(fi,{title:t?"Copied!":"Click to Copy",children:h.jsx(de,{onClick:i,sx:{display:"inline-flex",alignItems:"center",backgroundColor:K.secondary[50],color:K.secondary[700],border:`1px solid ${K.secondary[300]}`,borderRadius:Et.md,padding:`${$e[2]} ${$e[3]}`,fontSize:we.fontSize.sm,fontWeight:we.fontWeight.medium,fontFamily:"monospace",cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:K.secondary[100],transform:"translateY(-1px)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},children:h.jsx(he,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"inherit",color:"inherit",fontWeight:"inherit",userSelect:"none"},title:e,children:a})})})};var gg={},Nk;function JM(){if(Nk)return gg;Nk=1;var e=zd();Object.defineProperty(gg,"__esModule",{value:!0}),gg.default=void 0;var n=e(Bd()),t=qd();return gg.default=(0,n.default)((0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),gg}var eF=JM();const Qj=ts(eF);var bg={},Tk;function tF(){if(Tk)return bg;Tk=1;var e=zd();Object.defineProperty(bg,"__esModule",{value:!0}),bg.default=void 0;var n=e(Bd()),t=qd();return bg.default=(0,n.default)((0,t.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),bg}var nF=tF();const rF=ts(nF);var yg={},jk;function iF(){if(jk)return yg;jk=1;var e=zd();Object.defineProperty(yg,"__esModule",{value:!0}),yg.default=void 0;var n=e(Bd()),t=qd();return yg.default=(0,n.default)((0,t.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),yg}var aF=iF();const sF=ts(aF);var xg={},Ok;function oF(){if(Ok)return xg;Ok=1;var e=zd();Object.defineProperty(xg,"__esModule",{value:!0}),xg.default=void 0;var n=e(Bd()),t=qd();return xg.default=(0,n.default)((0,t.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),xg}var lF=oF();const uF=ts(lF),Ik=e=>e?e instanceof Xi?e.toDate().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):e.seconds?new Date(e.seconds*1e3).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):e instanceof Date?e.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"N/A":"N/A",Kj=e=>e?e instanceof Xi?e.toDate().toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):e.seconds?new Date(e.seconds*1e3).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):e instanceof Date?e.toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):"N/A":"N/A",yv=({label:e,status:n,size:t="small"})=>{const r=()=>{switch(n){case"success":return{backgroundColor:K.secondary[100],color:K.secondary[700]};case"warning":return{backgroundColor:"#FEF3C7",color:"#D97706"};case"error":return{backgroundColor:"#FEE2E2",color:"#DC2626"};case"info":return{backgroundColor:K.primary[100],color:K.primary[700]};default:return{backgroundColor:K.neutral[100],color:K.neutral[700]}}};return h.jsx(cr,{label:e,size:t,sx:{...r(),fontFamily:we.fontFamily.secondary,fontWeight:we.fontWeight.medium,fontSize:we.fontSize.sm}})},G1=({actions:e})=>h.jsx(de,{sx:{display:"flex",justifyContent:"center",gap:$e[1]},children:e.map((n,t)=>h.jsx(fi,{title:n.tooltip,children:h.jsx("span",{children:h.jsx(_n,{size:"small",onClick:n.onClick,disabled:n.disabled,sx:{color:n.disabled?K.text.disabled:n.color||K.primary[600],"&:hover":{backgroundColor:n.disabled?"transparent":n.hoverColor||K.primary[100]}},children:n.icon})})},t))}),Sp=({date:e,format:n="long"})=>h.jsx(he,{variant:"body2",sx:{color:K.text.secondary,fontSize:we.fontSize.sm},children:n==="short"?Ik(e).split(",")[0]:n==="full"?Kj(e):Ik(e)}),Xa=({text:e,maxLength:n=100,variant:t="primary",weight:r="normal"})=>{const i=e.length>n?`${e.substring(0,n)}...`:e,a=()=>{const s={fontSize:we.fontSize.sm,fontWeight:we.fontWeight[r]};switch(t){case"secondary":return{...s,color:K.text.secondary};case"monospace":return{...s,fontFamily:"monospace",color:K.text.secondary,wordBreak:"break-all"};default:return{...s,color:K.text.primary}}};return h.jsx(he,{variant:"body2",sx:a(),title:e.length>n?e:void 0,children:i})},p1={delete:h.jsx(Qj,{fontSize:"small"}),view:h.jsx(rF,{fontSize:"small"}),add:h.jsx(sF,{fontSize:"small"})},$6=({title:e,subtitle:n,children:t,maxWidth:r="1200px",className:i=""})=>{const a=yp(),s=jd(a.breakpoints.down("md"));return h.jsxs(de,{className:`form-page-container ${i}`,sx:{p:s?$e[3]:$e[4],maxWidth:r,mx:"auto",minHeight:"100vh",backgroundColor:K.primary[50]},children:[h.jsx(Ao,{title:e,subtitle:n}),h.jsx(gn,{className:"form-container",elevation:0,sx:{backgroundColor:K.surface.primary,borderRadius:Et["2xl"],p:s?$e[4]:$e[6],border:`1px solid ${K.neutral[200]}`,boxShadow:Ft.lg,position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"3px",background:K.primary[500],borderRadius:`${Et["2xl"]} ${Et["2xl"]} 0 0`}},children:t})]})},Yf=({title:e,description:n,children:t,showDivider:r=!1,className:i=""})=>h.jsxs(h.Fragment,{children:[r&&h.jsx(qs,{sx:{my:$e[4],borderColor:K.neutral[200]}}),h.jsxs(de,{className:`form-section ${i}`,sx:{mb:$e[4]},children:[e&&h.jsx(he,{variant:"h6",component:"h2",sx:{mb:$e[2],fontFamily:we.fontFamily.display,fontWeight:we.fontWeight.semibold,color:K.text.primary,fontSize:we.fontSize.xl},children:e}),n&&h.jsx(he,{variant:"body1",sx:{mb:$e[3],color:K.text.secondary,lineHeight:we.lineHeight.relaxed,fontFamily:we.fontFamily.primary},children:n}),t]})]}),hu=({sx:e,variant:n="outlined",...t})=>{const r=yp(),i=jd(r.breakpoints.down("sm"));return h.jsx(Jt,{variant:"outlined",fullWidth:!0,margin:"normal",...t,sx:{"& .MuiOutlinedInput-root":{borderRadius:Et.lg,backgroundColor:K.surface.primary,border:`2px solid ${K.neutral[300]}`,minHeight:"56px","&:hover":{backgroundColor:K.surface.primary,borderColor:K.neutral[300]},"&.Mui-focused":{backgroundColor:K.surface.primary,borderColor:K.neutral[300]},"&.Mui-error":{borderColor:K.error},"& .MuiOutlinedInput-input":{padding:"16px 14px",boxSizing:"border-box"}},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputLabel-root":{fontFamily:we.fontFamily.primary,fontWeight:we.fontWeight.medium,color:K.text.secondary,transition:"color 0.2s ease-in-out",transform:"none !important",position:"static !important",marginBottom:"8px","&.Mui-focused":{color:K.primary[600],transform:"none !important"},"&.MuiInputLabel-shrink":{transform:"none !important"},"&.Mui-error":{color:K.error}},"& .MuiFormHelperText-root":{fontFamily:we.fontFamily.primary,fontSize:we.fontSize.sm,marginTop:$e[1],minHeight:"20px",lineHeight:"1.2"},"& .MuiInputBase-input":{fontSize:we.fontSize.base,fontFamily:we.fontFamily.primary},...e}})},cF=({label:e,helperText:n,error:t=!1,required:r=!1,variant:i="outlined",children:a,sx:s,...l})=>{const u=yp(),d=jd(u.breakpoints.down("sm"));return h.jsxs(Od,{fullWidth:!0,margin:"normal",error:t,sx:{"& .MuiOutlinedInput-root":{borderRadius:Et.lg,backgroundColor:K.surface.primary,border:`2px solid ${K.neutral[300]}`,minHeight:"56px","&:hover":{backgroundColor:K.surface.primary,borderColor:K.neutral[300]},"&.Mui-focused":{backgroundColor:K.surface.primary,borderColor:K.neutral[300]},"&.Mui-error":{borderColor:K.error},"& .MuiSelect-select":{padding:"16px 14px",boxSizing:"border-box"}},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputLabel-root":{fontFamily:we.fontFamily.primary,fontWeight:we.fontWeight.medium,color:K.text.secondary,transition:"color 0.2s ease-in-out",transform:"none !important",position:"static !important",marginBottom:"8px","&.Mui-focused":{color:K.primary[600],transform:"none !important"},"&.MuiInputLabel-shrink":{transform:"none !important"}},"& .MuiFormHelperText-root":{fontFamily:we.fontFamily.primary,fontSize:we.fontSize.sm,marginTop:$e[1],minHeight:"20px",lineHeight:"1.2"},...s},children:[h.jsx(sj,{required:r,sx:{mb:1,fontFamily:we.fontFamily.primary,fontWeight:we.fontWeight.medium,color:K.text.secondary,fontSize:d?we.fontSize.sm:we.fontSize.base},children:e}),h.jsx(Dc,{variant:"outlined",...l,children:a}),n&&h.jsx(de,{component:"span",sx:{fontSize:we.fontSize.sm,color:t?K.error:K.text.tertiary,mt:$e[1],display:"block",fontFamily:we.fontFamily.primary,fontWeight:we.fontWeight.normal},children:n})]})},em=({variant:e="primary",loading:n=!1,children:t,sx:r,disabled:i,...a})=>{const s=yp(),l=jd(s.breakpoints.down("sm")),u=()=>{switch(e){case"primary":return{backgroundColor:K.primary[500],color:K.text.inverse,"&:hover":{backgroundColor:K.primary[600],boxShadow:Ft.md,transform:"translateY(-1px)"},"&:active":{transform:"translateY(0)"},"&:disabled":{backgroundColor:K.neutral[300],color:K.text.disabled}};case"secondary":return{backgroundColor:K.secondary[500],color:K.text.inverse,"&:hover":{backgroundColor:K.secondary[600],boxShadow:Ft.md,transform:"translateY(-1px)"},"&:active":{transform:"translateY(0)"},"&:disabled":{backgroundColor:K.neutral[300],color:K.text.disabled}};case"outline":return{backgroundColor:"transparent",color:K.primary[600],border:`2px solid ${K.primary[500]}`,"&:hover":{backgroundColor:K.primary[50],borderColor:K.primary[600],transform:"translateY(-1px)"},"&:active":{transform:"translateY(0)"},"&:disabled":{borderColor:K.neutral[300],color:K.text.disabled}};case"text":return{backgroundColor:"transparent",color:K.text.secondary,"&:hover":{backgroundColor:K.neutral[100],color:K.text.primary},"&:disabled":{color:K.text.disabled}};default:return{}}};return h.jsx(Ct,{disabled:i||n,...a,sx:{borderRadius:Et.xl,padding:l?`${$e[2]} ${$e[4]}`:`${$e[3]} ${$e[6]}`,fontFamily:we.fontFamily.secondary,fontWeight:we.fontWeight.semibold,fontSize:l?we.fontSize.sm:we.fontSize.base,textTransform:"none",transition:"all 0.2s ease-in-out",minHeight:"48px",position:"relative",...u(),...n&&{"&::after":{content:'""',position:"absolute",width:"16px",height:"16px",border:`2px solid ${e==="primary"||e==="secondary"?K.text.inverse:K.primary[500]}`,borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}},...r},children:n?"":t})},U6=({children:e,align:n="left",className:t=""})=>{const r=yp(),i=jd(r.breakpoints.down("sm")),a=()=>{switch(n){case"center":return"center";case"right":return"flex-end";case"space-between":return"space-between";default:return"flex-start"}};return h.jsx(de,{className:`form-actions ${t}`,sx:{display:"flex",flexDirection:i?"column":"row",gap:$e[3],justifyContent:a(),alignItems:i?"stretch":"center",mt:$e[5],pt:$e[4],borderTop:`1px solid ${K.neutral[200]}`,...i&&{"& > *":{width:"100%"}}},children:e})},Xj=({children:e,title:n,appName:t="NexLAB",appUrl:r="https://institute-for-future-intelligence.github.io/nexlab",supportEmail:i="andriy@intofuture.org"})=>`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>${n}</title>
      <style>
        body {
          margin: 0;
          padding: 0;
          font-family: ${we.fontFamily.primary};
          background-color: ${K.background.secondary};
          color: ${K.text.primary};
          line-height: ${we.lineHeight.normal};
        }
        .email-container {
          max-width: 600px;
          margin: 0 auto;
          background-color: ${K.background.primary};
          border-radius: ${Et.lg};
          box-shadow: ${Ft.lg};
          overflow: hidden;
        }
        .email-header {
          background: linear-gradient(135deg, ${K.primary[500]} 0%, ${K.primary[600]} 100%);
          padding: ${$e[8]} ${$e[6]};
          text-align: center;
          color: ${K.text.inverse};
        }
        .email-header h1 {
          margin: 0;
          font-size: ${we.fontSize["2xl"]};
          font-weight: ${we.fontWeight.bold};
          font-family: ${we.fontFamily.display};
        }
        .email-header p {
          margin: ${$e[2]} 0 0 0;
          font-size: ${we.fontSize.base};
          opacity: 0.9;
        }
        .email-content {
          padding: ${$e[8]} ${$e[6]};
        }
        .email-content h2 {
          color: ${K.text.primary};
          font-size: ${we.fontSize.xl};
          font-weight: ${we.fontWeight.semibold};
          margin: 0 0 ${$e[4]} 0;
          font-family: ${we.fontFamily.secondary};
        }
        .email-content p {
          color: ${K.text.secondary};
          font-size: ${we.fontSize.base};
          margin: 0 0 ${$e[4]} 0;
          line-height: ${we.lineHeight.relaxed};
        }
        .info-card {
          background: linear-gradient(135deg, ${K.background.secondary} 0%, ${K.background.tertiary} 100%);
          border: 1px solid ${K.neutral[200]};
          border-radius: ${Et.xl};
          padding: ${$e[8]};
          margin: ${$e[6]} 0;
          box-shadow: ${Ft.sm};
        }
        .info-table {
          width: 100%;
          border-collapse: collapse;
          margin: 0;
        }
        .info-row {
          display: table-row;
        }
        .info-label {
          font-weight: ${we.fontWeight.semibold};
          color: ${K.text.primary};
          font-size: ${we.fontSize.sm};
          padding: ${$e[3]} ${$e[4]};
          background-color: ${K.primary[50]};
          border: 1px solid ${K.neutral[200]};
          border-right: none;
          width: 35%;
          vertical-align: top;
        }
        .info-value {
          color: ${K.text.secondary};
          font-size: ${we.fontSize.sm};
          padding: ${$e[3]} ${$e[4]};
          background-color: ${K.background.primary};
          border: 1px solid ${K.neutral[200]};
          border-left: none;
          width: 65%;
          vertical-align: top;
        }
        .info-row:first-child .info-label,
        .info-row:first-child .info-value {
          border-top-left-radius: ${Et.lg};
          border-top-right-radius: ${Et.lg};
        }
        .info-row:last-child .info-label,
        .info-row:last-child .info-value {
          border-bottom-left-radius: ${Et.lg};
          border-bottom-right-radius: ${Et.lg};
        }
        .cta-button {
          display: inline-block;
          background: linear-gradient(135deg, ${K.primary[500]} 0%, ${K.primary[600]} 100%);
          color: ${K.text.inverse};
          text-decoration: none;
          padding: ${$e[4]} ${$e[8]};
          border-radius: ${Et.xl};
          font-weight: ${we.fontWeight.semibold};
          font-size: ${we.fontSize.base};
          text-align: center;
          margin: ${$e[6]} 0;
          transition: all 0.3s ease;
          box-shadow: ${Ft.md};
        }
        .cta-button:hover {
          transform: translateY(-2px);
          box-shadow: ${Ft.lg};
        }
        .status-badge {
          display: inline-block;
          padding: ${$e[1]} ${$e[3]};
          border-radius: ${Et.full};
          font-size: ${we.fontSize.xs};
          font-weight: ${we.fontWeight.semibold};
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        .status-pending {
          background-color: ${K.warning}20;
          color: ${K.warning};
          border: 1px solid ${K.warning}40;
        }
        .status-approved {
          background-color: ${K.success}20;
          color: ${K.success};
          border: 1px solid ${K.success}40;
        }
        .email-footer {
          background-color: ${K.background.secondary};
          padding: ${$e[6]};
          text-align: center;
          border-top: 1px solid ${K.neutral[200]};
        }
        .email-footer p {
          margin: 0;
          font-size: ${we.fontSize.sm};
          color: ${K.text.tertiary};
        }
        .email-footer a {
          color: ${K.primary[500]};
          text-decoration: none;
        }
        .email-footer a:hover {
          text-decoration: underline;
        }
        @media (max-width: 600px) {
          .email-container {
            margin: 0;
            border-radius: 0;
          }
          .email-header, .email-content, .email-footer {
            padding: ${$e[4]};
          }
          .info-label, .info-value {
            display: block;
            width: 100%;
            border: 1px solid ${K.neutral[200]};
            border-radius: 0;
          }
          .info-label {
            border-bottom: none;
            background-color: ${K.primary[100]};
            font-weight: ${we.fontWeight.bold};
          }
          .info-value {
            border-top: none;
            margin-bottom: ${$e[2]};
          }
          .info-row:last-child .info-value {
            margin-bottom: 0;
          }
        }
      </style>
    </head>
    <body>
      <div class="email-container">
        <div class="email-header">
          <h1>${t}</h1>
          <p>Next-Generation Experiments and Learning for Advanced Biotech</p>
        </div>
        <div class="email-content">
          ${e}
        </div>
        <div class="email-footer">
          <p>
            This email was sent from <a href="${r}">${t}</a><br>
            If you have any questions, please contact us at <a href="mailto:${i}">${i}</a>
          </p>
        </div>
      </div>
    </body>
    </html>
  `,dF=(e,n="NexLAB",t="https://institute-for-future-intelligence.github.io/nexlab")=>{const r=e.requestType==="primary"?"Primary Instructor":"Co-Instructor",i=e.courseCreationMode==="syllabus"?"Syllabus Import":"Manual Entry";return Xj({children:`
      <h2> Instructor Request Submitted Successfully!</h2>
      <p>Dear ${e.firstName} ${e.lastName},</p>
      <p>Thank you for submitting your request to become an instructor on NexLAB platform. We have received your application and it is currently being reviewed by our team.</p>
      
      <div class="info-card">
        <table class="info-table">
          <tr class="info-row">
            <td class="info-label">Request Status</td>
            <td class="info-value"><span class="status-badge status-pending">Pending Review</span></td>
          </tr>
          <tr class="info-row">
            <td class="info-label">Request Type</td>
            <td class="info-value">${r}</td>
          </tr>
          <tr class="info-row">
            <td class="info-label">Course</td>
            <td class="info-value">${e.courseNumber} - ${e.courseTitle}</td>
          </tr>
          <tr class="info-row">
            <td class="info-label">Institution</td>
            <td class="info-value">${e.institution}</td>
          </tr>
          ${e.requestType==="primary"?`
          <tr class="info-row">
            <td class="info-label">Creation Method</td>
            <td class="info-value">${i}</td>
          </tr>
          `:""}
          ${e.generatedMaterialsCount&&e.generatedMaterialsCount>0?`
          <tr class="info-row">
            <td class="info-label">Materials Generated</td>
            <td class="info-value">${e.generatedMaterialsCount} materials ready for publication</td>
          </tr>
          `:""}
          <tr class="info-row">
            <td class="info-label">Request ID</td>
            <td class="info-value">${e.requestId}</td>
          </tr>
          <tr class="info-row">
            <td class="info-label">Submitted</td>
            <td class="info-value">${new Date(e.submittedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}</td>
          </tr>
        </table>
      </div>
      
      <p><strong>What happens next?</strong></p>
      <p>Our team will review your request within 1-2 business days. You will receive an email notification once your request has been processed.</p>
      
      <p>If you have any questions or need to make changes to your request, please don't hesitate to contact our support team.</p>
    `,title:"Instructor Request Submitted - NexLAB",appName:n,appUrl:t})},Dk=(e,n="NexLAB",t="https://institute-for-future-intelligence.github.io/nexlab")=>{const r=e.requestType==="primary"?"Primary Instructor":"Co-Instructor";return Xj({children:`
      <h2> Congratulations! Your Request Has Been Approved!</h2>
      <p>Dear ${e.firstName} ${e.lastName},</p>
      <p>Great news! Your request to become an instructor on NexLAB platform has been approved. You now have access to instructor features and can start managing your course.</p>
      
      <div class="info-card">
        <table class="info-table">
          <tr class="info-row">
            <td class="info-label">Request Status</td>
            <td class="info-value"><span class="status-badge status-approved">Approved</span></td>
          </tr>
          <tr class="info-row">
            <td class="info-label">Request Type</td>
            <td class="info-value">${r}</td>
          </tr>
          <tr class="info-row">
            <td class="info-label">Course</td>
            <td class="info-value">${e.courseNumber} - ${e.courseTitle}</td>
          </tr>
          <tr class="info-row">
            <td class="info-label">Institution</td>
            <td class="info-value">${e.institution}</td>
          </tr>
          ${e.passcode?`
          <tr class="info-row">
            <td class="info-label">Course Passcode</td>
            <td class="info-value" style="font-family: monospace; font-weight: bold; color: ${K.primary[600]};">${e.passcode}</td>
          </tr>
          `:""}
          ${e.materialsCreatedCount&&e.materialsCreatedCount>0?`
          <tr class="info-row">
            <td class="info-label">Materials Created</td>
            <td class="info-value">${e.materialsCreatedCount} materials automatically added to your course</td>
          </tr>
          `:""}
          <tr class="info-row">
            <td class="info-label">Request ID</td>
            <td class="info-value">${e.requestId}</td>
          </tr>
          <tr class="info-row">
            <td class="info-label">Approved</td>
            <td class="info-value">${new Date(e.approvedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}</td>
          </tr>
        </table>
      </div>
      
      <div style="margin: ${$e[8]} 0;">
        <a href="${t}/supplemental-materials${e.courseId?`?course=${e.courseId}`:""}" class="cta-button">View My Course</a>
      </div>
      
      <p><strong>What you can do now:</strong></p>
      <ul style="color: ${K.text.secondary}; padding-left: ${$e[6]};">
        <li>Access your course management dashboard</li>
        <li>Create and manage course materials</li>
        <li>Set up student enrollment with your course passcode</li>
        ${e.materialsCreatedCount&&e.materialsCreatedCount>0?"<li>Review and customize your auto-generated materials</li>":""}
      </ul>
      
      <p>Welcome to the NexLAB instructor community! We're excited to see what you'll create.</p>
    `,title:"Instructor Request Approved - NexLAB",appName:n,appUrl:t})},rS=(e,n,t)=>({to:e,message:{subject:n,html:t}}),fF=()=>{const{userDetails:e}=Pi(),n=ya(),t=e&&!e.isAdmin&&(!e.classes||Object.keys(e.classes).length===0),r=[{title:"My Account",description:"Manage your profile and account settings",icon:h.jsx(oj,{sx:{fontSize:40}}),path:"/my-profile",color:K.primary[500],disabled:!1,external:!1},{title:"Messages",description:"View and manage course messages",icon:h.jsx(lj,{sx:{fontSize:40}}),path:"/messages",color:K.secondary[500],disabled:!1,external:!1}],i=[{title:"Course Materials",description:"View and manage course materials",icon:h.jsx(Id,{sx:{fontSize:40}}),path:"/supplemental-materials",color:K.error,disabled:!1,external:!1},{title:"Laboratory Notebook",description:"Access your lab experiments and designs",icon:h.jsx(I6,{sx:{fontSize:40}}),path:"/laboratory-notebooks",color:K.success,disabled:t,external:!1}];return h.jsxs(de,{className:"profile-container",children:[h.jsx(Ao,{title:"Welcome!"}),h.jsxs(de,{sx:{mb:$e[6],p:$e[4],backgroundColor:K.background.secondary,borderRadius:Et.xl,border:`1px solid ${K.neutral[200]}`,boxShadow:Ft.sm,position:"relative",mt:$e[8]},children:[h.jsx(de,{sx:{position:"absolute",top:"-25px",left:"40px",backgroundColor:K.warning,borderRadius:`${Et.lg} ${Et.lg} 0 0`,px:$e[3],py:$e[1],zIndex:1},children:h.jsx(he,{sx:{color:K.text.inverse,fontFamily:we.fontFamily.display,fontSize:"2rem",fontWeight:we.fontWeight.bold,whiteSpace:"nowrap",lineHeight:1},children:"Getting Started"})}),h.jsxs(wt,{container:!0,spacing:$e[4],sx:{mt:$e[3],mb:$e[4]},children:[h.jsx(wt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(de,{sx:{height:"100%",p:$e[3],backgroundColor:K.background.primary,borderRadius:Et.lg,border:`1px solid ${K.neutral[200]}`,boxShadow:Ft.sm},children:[h.jsx(he,{variant:"h6",component:"h3",sx:{fontFamily:we.fontFamily.display,fontSize:"2rem",fontWeight:we.fontWeight.bold,color:K.text.primary,mb:$e[3],textAlign:"left"},children:"What is NexLAB?"}),h.jsx(he,{variant:"body1",paragraph:!0,sx:{fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.lg,color:K.text.secondary,lineHeight:1.6,textAlign:"left"},children:"NexLAB enhances the Antibody Engineering curriculum with an adaptive content management platform designed for educators, students, and researchers."})]})}),h.jsx(wt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(de,{sx:{height:"100%",p:$e[3],backgroundColor:K.background.primary,borderRadius:Et.lg,border:`1px solid ${K.neutral[200]}`,boxShadow:Ft.sm},children:[h.jsx(he,{variant:"h6",component:"h3",sx:{fontFamily:we.fontFamily.display,fontSize:"2rem",fontWeight:we.fontWeight.bold,color:K.text.primary,mb:$e[3],textAlign:"left"},children:"Key Features:"}),h.jsxs(de,{component:"ul",sx:{pl:$e[3],"& li":{fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.lg,color:K.text.secondary,lineHeight:1.5,mb:$e[1]}},children:[h.jsx("li",{children:"Electronic Laboratory Notebook using the Design-Build-Test framework"}),h.jsx("li",{children:"Platform for creating and sharing learning materials"}),h.jsx("li",{children:"Student progress tracking and class content efficacy analysis"}),h.jsx("li",{children:"Quiz AI & Chatbot Tools to support interactive learning"})]})]})}),h.jsx(wt,{item:!0,xs:12,sm:6,md:3,children:h.jsx(Za,{sx:{height:"100%",cursor:"pointer",backgroundColor:K.background.primary,borderRadius:Et.xl,border:`1px solid ${K.neutral[200]}`,boxShadow:Ft.sm,transition:vc.transitions.normal,"&:hover":{transform:"translateY(-8px)",boxShadow:Ft.xl,border:`1px solid ${K.warning}`}},onClick:()=>window.open("http://localhost:3002/view-material/xsA42JCvfCUtmyoyx45s?material=xsA42JCvfCUtmyoyx45s","_blank"),children:h.jsxs(Ja,{sx:{textAlign:"center",p:$e[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[h.jsx(de,{sx:{color:K.warning,mb:$e[3],display:"flex",justifyContent:"center"},children:h.jsx(p9,{sx:{fontSize:40}})}),h.jsxs(de,{sx:{flex:1},children:[h.jsx(he,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:we.fontWeight.bold,fontFamily:we.fontFamily.display,fontSize:"2rem",color:K.text.primary,mb:$e[2]},children:"Quick-Start Guide"}),h.jsx(he,{variant:"body2",sx:{color:K.text.secondary,fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.lg,lineHeight:1.5},children:"Get started with public course materials and learn the basics"})]})]})})}),h.jsx(wt,{item:!0,xs:12,sm:6,md:3,children:h.jsx(Za,{sx:{height:"100%",cursor:"pointer",backgroundColor:K.background.primary,borderRadius:Et.xl,border:`1px solid ${K.neutral[200]}`,boxShadow:Ft.sm,transition:vc.transitions.normal,"&:hover":{transform:"translateY(-8px)",boxShadow:Ft.xl,border:`1px solid ${K.primary[500]}`}},onClick:()=>window.open("https://www.loom.com/share/f3ca701c66d34f84a13eb7ec12b0c6ec","_blank"),children:h.jsxs(Ja,{sx:{textAlign:"center",p:$e[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[h.jsx(de,{sx:{color:K.primary[500],mb:$e[3],display:"flex",justifyContent:"center"},children:h.jsx(m9,{sx:{fontSize:40}})}),h.jsxs(de,{sx:{flex:1},children:[h.jsx(he,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:we.fontWeight.bold,fontFamily:we.fontFamily.display,fontSize:"2rem",color:K.text.primary,mb:$e[2]},children:"Tutorial"}),h.jsx(he,{variant:"body2",sx:{color:K.text.secondary,fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.lg,lineHeight:1.5},children:"Watch our introduction video to learn how to use NexLAB"})]})]})})})]})]}),h.jsxs(de,{sx:{mb:$e[6],p:$e[4],backgroundColor:K.background.secondary,borderRadius:Et.xl,border:`1px solid ${K.neutral[200]}`,boxShadow:Ft.sm,position:"relative",mt:$e[8]},children:[h.jsx(de,{sx:{position:"absolute",top:"-25px",left:"40px",backgroundColor:K.primary[500],borderRadius:`${Et.lg} ${Et.lg} 0 0`,px:$e[3],py:$e[1],zIndex:1},children:h.jsx(he,{sx:{color:K.text.inverse,fontFamily:we.fontFamily.display,fontSize:"2rem",fontWeight:we.fontWeight.bold,whiteSpace:"nowrap",lineHeight:1},children:"Quick Actions"})}),h.jsx(wt,{container:!0,spacing:$e[4],sx:{mb:$e[4],mt:$e[3]},children:r.map((a,s)=>h.jsx(wt,{item:!0,xs:12,sm:6,md:6,children:h.jsx(Za,{sx:{height:"100%",cursor:a.disabled?"not-allowed":"pointer",opacity:a.disabled?.6:1,backgroundColor:K.background.primary,borderRadius:Et.xl,border:`1px solid ${K.neutral[200]}`,boxShadow:Ft.sm,transition:vc.transitions.normal,"&:hover":a.disabled?{}:{transform:"translateY(-8px)",boxShadow:Ft.xl,border:`1px solid ${a.color}`}},onClick:()=>{a.disabled||(a.external?window.open(a.path,"_blank"):n(a.path))},children:h.jsxs(Ja,{sx:{textAlign:"center",p:$e[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[h.jsx(de,{sx:{color:a.color,mb:$e[3],display:"flex",justifyContent:"center"},children:a.icon}),h.jsxs(de,{sx:{flex:1},children:[h.jsx(he,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:we.fontWeight.bold,fontFamily:we.fontFamily.display,fontSize:"2rem",color:K.text.primary,mb:$e[2]},children:a.title}),h.jsx(he,{variant:"body2",sx:{color:K.text.secondary,fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.lg,lineHeight:1.5},children:a.description}),a.disabled&&h.jsx(he,{variant:"caption",sx:{mt:$e[2],display:"block",color:K.error,fontFamily:we.fontFamily.secondary},children:"Enroll in a course to access this feature"})]})]})})},s))}),h.jsx(wt,{container:!0,spacing:$e[4],children:i.map((a,s)=>h.jsx(wt,{item:!0,xs:12,sm:6,md:6,children:h.jsx(Za,{sx:{height:"100%",cursor:a.disabled?"not-allowed":"pointer",opacity:a.disabled?.6:1,backgroundColor:K.background.primary,borderRadius:Et.xl,border:`1px solid ${K.neutral[200]}`,boxShadow:Ft.sm,transition:vc.transitions.normal,"&:hover":a.disabled?{}:{transform:"translateY(-8px)",boxShadow:Ft.xl,border:`1px solid ${a.color}`}},onClick:()=>{a.disabled||(a.external?window.open(a.path,"_blank"):n(a.path))},children:h.jsxs(Ja,{sx:{textAlign:"center",p:$e[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[h.jsx(de,{sx:{color:a.color,mb:$e[3],display:"flex",justifyContent:"center"},children:a.icon}),h.jsxs(de,{sx:{flex:1},children:[h.jsx(he,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:we.fontWeight.bold,fontFamily:we.fontFamily.display,fontSize:"2rem",color:K.text.primary,mb:$e[2]},children:a.title}),h.jsx(he,{variant:"body2",sx:{color:K.text.secondary,fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.lg,lineHeight:1.5},children:a.description}),a.disabled&&h.jsx(he,{variant:"caption",sx:{mt:$e[2],display:"block",color:K.error,fontFamily:we.fontFamily.secondary},children:"Enroll in a course to access this feature"})]})]})})},s))})]})]})};let xy;const hF=new Uint8Array(16);function pF(){if(!xy&&(xy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!xy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xy(hF)}const fs=[];for(let e=0;e<256;++e)fs.push((e+256).toString(16).slice(1));function mF(e,n=0){return fs[e[n+0]]+fs[e[n+1]]+fs[e[n+2]]+fs[e[n+3]]+"-"+fs[e[n+4]]+fs[e[n+5]]+"-"+fs[e[n+6]]+fs[e[n+7]]+"-"+fs[e[n+8]]+fs[e[n+9]]+"-"+fs[e[n+10]]+fs[e[n+11]]+fs[e[n+12]]+fs[e[n+13]]+fs[e[n+14]]+fs[e[n+15]]}const gF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Lk={randomUUID:gF};function Ri(e,n,t){if(Lk.randomUUID&&!e)return Lk.randomUUID();e=e||{};const r=e.random||(e.rng||pF)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,mF(r)}const Rk={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"ce5f7921-a3a0-4ea7-b95f-10fe41becda5",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},m1=new Map,vy=e=>{const n=m1.get(e);return n?Object.fromEntries(Object.entries(n.stores).map(([t,r])=>[t,r.getState()])):{}},bF=(e,n,t)=>{if(e===void 0)return{type:"untracked",connection:n.connect(t)};const r=m1.get(t.name);if(r)return{type:"tracked",store:e,...r};const i={connection:n.connect(t),stores:{}};return m1.set(t.name,i),{type:"tracked",store:e,...i}},yF=(e,n)=>{if(n===void 0)return;const t=m1.get(e);t&&(delete t.stores[n],Object.keys(t.stores).length===0&&m1.delete(e))},xF=e=>{var n,t;if(!e)return;const r=e.split(`
`),i=r.findIndex(s=>s.includes("api.setState"));if(i<0)return;const a=((n=r[i+1])==null?void 0:n.trim())||"";return(t=/.+ (.+) .+/.exec(a))==null?void 0:t[1]},vF=(e,n={})=>(t,r,i)=>{const{enabled:a,anonymousActionType:s,store:l,...u}=n;let d;try{d=(a??(Rk?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!d)return e(t,r,i);const{connection:f,...m}=bF(l,d,u);let b=!0;i.setState=(y,A,w)=>{const C=t(y,A);if(!b)return C;const T=w===void 0?{type:s||xF(new Error().stack)||"anonymous"}:typeof w=="string"?{type:w}:w;return l===void 0?(f==null||f.send(T,r()),C):(f==null||f.send({...T,type:`${l}/${T.type}`},{...vy(u.name),[l]:i.getState()}),C)},i.devtools={cleanup:()=>{f&&typeof f.unsubscribe=="function"&&f.unsubscribe(),yF(u.name,l)}};const g=(...y)=>{const A=b;b=!1,t(...y),b=A},x=e(i.setState,r,i);if(m.type==="untracked"?f==null||f.init(x):(m.stores[m.store]=i,f==null||f.init(Object.fromEntries(Object.entries(m.stores).map(([y,A])=>[y,y===m.store?x:A.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let y=!1;const A=i.dispatch;i.dispatch=(...w)=>{(Rk?"production":void 0)!=="production"&&w[0].type==="__setState"&&!y&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),y=!0),A(...w)}}return f.subscribe(y=>{var A;switch(y.type){case"ACTION":if(typeof y.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return M5(y.payload,w=>{if(w.type==="__setState"){if(l===void 0){g(w.state);return}Object.keys(w.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const C=w.state[l];if(C==null)return;JSON.stringify(i.getState())!==JSON.stringify(C)&&g(C);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(w)});case"DISPATCH":switch(y.payload.type){case"RESET":return g(x),l===void 0?f==null?void 0:f.init(i.getState()):f==null?void 0:f.init(vy(u.name));case"COMMIT":if(l===void 0){f==null||f.init(i.getState());return}return f==null?void 0:f.init(vy(u.name));case"ROLLBACK":return M5(y.state,w=>{if(l===void 0){g(w),f==null||f.init(i.getState());return}g(w[l]),f==null||f.init(vy(u.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return M5(y.state,w=>{if(l===void 0){g(w);return}JSON.stringify(i.getState())!==JSON.stringify(w[l])&&g(w[l])});case"IMPORT_STATE":{const{nextLiftedState:w}=y.payload,C=(A=w.computedStates.slice(-1)[0])==null?void 0:A.state;if(!C)return;g(l===void 0?C:C[l]),f==null||f.send(null,w);return}case"PAUSE_RECORDING":return b=!b}return}}),x},Q1=vF,M5=(e,n)=>{let t;try{t=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}t!==void 0&&n(t)};function wF(e,n){let t;try{t=e()}catch{return}return{getItem:i=>{var a;const s=u=>u===null?null:JSON.parse(u,void 0),l=(a=t.getItem(i))!=null?a:null;return l instanceof Promise?l.then(s):s(l)},setItem:(i,a)=>t.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>t.removeItem(i)}}const iS=e=>n=>{try{const t=e(n);return t instanceof Promise?t:{then(r){return iS(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return iS(r)(t)}}}},SF=(e,n)=>(t,r,i)=>{let a={storage:wF(()=>localStorage),partialize:y=>y,version:0,merge:(y,A)=>({...A,...y}),...n},s=!1;const l=new Set,u=new Set;let d=a.storage;if(!d)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...y)},r,i);const f=()=>{const y=a.partialize({...r()});return d.setItem(a.name,{state:y,version:a.version})},m=i.setState;i.setState=(y,A)=>{m(y,A),f()};const b=e((...y)=>{t(...y),f()},r,i);i.getInitialState=()=>b;let g;const x=()=>{var y,A;if(!d)return;s=!1,l.forEach(C=>{var T;return C((T=r())!=null?T:b)});const w=((A=a.onRehydrateStorage)==null?void 0:A.call(a,(y=r())!=null?y:b))||void 0;return iS(d.getItem.bind(d))(a.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==a.version){if(a.migrate){const T=a.migrate(C.state,C.version);return T instanceof Promise?T.then(M=>[!0,M]):[!0,T]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var T;const[M,R]=C;if(g=a.merge(R,(T=r())!=null?T:b),t(g,!0),M)return f()}).then(()=>{w==null||w(g,void 0),g=r(),s=!0,u.forEach(C=>C(g))}).catch(C=>{w==null||w(void 0,C)})};return i.persist={setOptions:y=>{a={...a,...y},y.storage&&(d=y.storage)},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>x(),hasHydrated:()=>s,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(u.add(y),()=>{u.delete(y)})},a.skipHydration||x(),g||b},xv=SF;var Mk;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(Mk||(Mk={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fk;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(Fk||(Fk={}));var Pk;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Pk||(Pk={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=["user","model","function","system"];var qk;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(qk||(qk={}));var Bk;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Bk||(Bk={}));var $k;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})($k||($k={}));var Uk;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(Uk||(Uk={}));var Jg;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Jg||(Jg={}));var Hk;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(Hk||(Hk={}));var Wk;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Wk||(Wk={}));var Yk;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Yk||(Yk={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Error{constructor(n){super(`[GoogleGenerativeAI Error]: ${n}`)}}class c0 extends Rs{constructor(n,t){super(n),this.response=t}}class Zj extends Rs{constructor(n,t,r,i){super(n),this.status=t,this.statusText=r,this.errorDetails=i}}class Vf extends Rs{}class Jj extends Rs{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF="https://generativelanguage.googleapis.com",CF="v1beta",EF="0.24.1",kF="genai-js";var up;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(up||(up={}));class _F{constructor(n,t,r,i,a){this.model=n,this.task=t,this.apiKey=r,this.stream=i,this.requestOptions=a}toString(){var n,t;const r=((n=this.requestOptions)===null||n===void 0?void 0:n.apiVersion)||CF;let a=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||AF}/${r}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function NF(e){const n=[];return e!=null&&e.apiClient&&n.push(e.apiClient),n.push(`${kF}/${EF}`),n.join(" ")}async function TF(e){var n;const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",NF(e.requestOptions)),t.append("x-goog-api-key",e.apiKey);let r=(n=e.requestOptions)===null||n===void 0?void 0:n.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Vf(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,a]of r.entries()){if(i==="x-goog-api-key")throw new Vf(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Vf(`Header name ${i} can only be set using the apiClient field`);t.append(i,a)}}return t}async function jF(e,n,t,r,i,a){const s=new _F(e,n,t,r,a);return{url:s.toString(),fetchOptions:Object.assign(Object.assign({},LF(a)),{method:"POST",headers:await TF(s),body:i})}}async function K1(e,n,t,r,i,a={},s=fetch){const{url:l,fetchOptions:u}=await jF(e,n,t,r,i,a);return OF(l,u,s)}async function OF(e,n,t=fetch){let r;try{r=await t(e,n)}catch(i){IF(i,e)}return r.ok||await DF(r,e),r}function IF(e,n){let t=e;throw t.name==="AbortError"?(t=new Jj(`Request aborted when fetching ${n.toString()}: ${e.message}`),t.stack=e.stack):e instanceof Zj||e instanceof Vf||(t=new Rs(`Error fetching from ${n.toString()}: ${e.message}`),t.stack=e.stack),t}async function DF(e,n){let t="",r;try{const i=await e.json();t=i.error.message,i.error.details&&(t+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new Zj(`Error fetching from ${n.toString()}: [${e.status} ${e.statusText}] ${t}`,e.status,e.statusText,r)}function LF(e){const n={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const t=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>t.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{t.abort()}),n.signal=t.signal}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Jy(e.candidates[0]))throw new c0(`${Df(e)}`,e);return RF(e)}else if(e.promptFeedback)throw new c0(`Text not available. ${Df(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Jy(e.candidates[0]))throw new c0(`${Df(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Vk(e)[0]}else if(e.promptFeedback)throw new c0(`Function call not available. ${Df(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Jy(e.candidates[0]))throw new c0(`${Df(e)}`,e);return Vk(e)}else if(e.promptFeedback)throw new c0(`Function call not available. ${Df(e)}`,e)},e}function RF(e){var n,t,r,i;const a=[];if(!((t=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||t===void 0)&&t.parts)for(const s of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)s.text&&a.push(s.text),s.executableCode&&a.push("\n```"+s.executableCode.language+`
`+s.executableCode.code+"\n```\n"),s.codeExecutionResult&&a.push("\n```\n"+s.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}function Vk(e){var n,t,r,i;const a=[];if(!((t=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||t===void 0)&&t.parts)for(const s of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)s.functionCall&&a.push(s.functionCall);if(a.length>0)return a}const MF=[Jg.RECITATION,Jg.SAFETY,Jg.LANGUAGE];function Jy(e){return!!e.finishReason&&MF.includes(e.finishReason)}function Df(e){var n,t,r;let i="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)i+="Response was blocked",!((n=e.promptFeedback)===null||n===void 0)&&n.blockReason&&(i+=` due to ${e.promptFeedback.blockReason}`),!((t=e.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const a=e.candidates[0];Jy(a)&&(i+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(i+=`: ${a.finishMessage}`))}return i}function g1(e){return this instanceof g1?(this.v=e,this):new g1(e)}function FF(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(b){r[b]&&(i[b]=function(g){return new Promise(function(x,y){a.push([b,g,x,y])>1||l(b,g)})})}function l(b,g){try{u(r[b](g))}catch(x){m(a[0][3],x)}}function u(b){b.value instanceof g1?Promise.resolve(b.value.v).then(d,f):m(a[0][2],b)}function d(b){l("next",b)}function f(b){l("throw",b)}function m(b,g){b(g),a.shift(),a.length&&l(a[0][0],a[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function PF(e){const n=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=BF(n),[r,i]=t.tee();return{stream:qF(r),response:zF(i)}}async function zF(e){const n=[],t=e.getReader();for(;;){const{done:r,value:i}=await t.read();if(r)return H6($F(n));n.push(i)}}function qF(e){return FF(this,arguments,function*(){const t=e.getReader();for(;;){const{value:r,done:i}=yield g1(t.read());if(i)break;yield yield g1(H6(r))}})}function BF(e){const n=e.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return n.read().then(({value:s,done:l})=>{if(l){if(i.trim()){r.error(new Rs("Failed to parse stream"));return}r.close();return}i+=s;let u=i.match(Gk),d;for(;u;){try{d=JSON.parse(u[1])}catch{r.error(new Rs(`Error parsing JSON response: "${u[1]}"`));return}r.enqueue(d),i=i.substring(u[0].length),u=i.match(Gk)}return a()}).catch(s=>{let l=s;throw l.stack=s.stack,l.name==="AbortError"?l=new Jj("Request aborted when reading from the stream"):l=new Rs("Error reading from the stream"),l})}}})}function $F(e){const n=e[e.length-1],t={promptFeedback:n==null?void 0:n.promptFeedback};for(const r of e){if(r.candidates){let i=0;for(const a of r.candidates)if(t.candidates||(t.candidates=[]),t.candidates[i]||(t.candidates[i]={index:i}),t.candidates[i].citationMetadata=a.citationMetadata,t.candidates[i].groundingMetadata=a.groundingMetadata,t.candidates[i].finishReason=a.finishReason,t.candidates[i].finishMessage=a.finishMessage,t.candidates[i].safetyRatings=a.safetyRatings,a.content&&a.content.parts){t.candidates[i].content||(t.candidates[i].content={role:a.content.role||"user",parts:[]});const s={};for(const l of a.content.parts)l.text&&(s.text=l.text),l.functionCall&&(s.functionCall=l.functionCall),l.executableCode&&(s.executableCode=l.executableCode),l.codeExecutionResult&&(s.codeExecutionResult=l.codeExecutionResult),Object.keys(s).length===0&&(s.text=""),t.candidates[i].content.parts.push(s)}i++}r.usageMetadata&&(t.usageMetadata=r.usageMetadata)}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e7(e,n,t,r){const i=await K1(n,up.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(t),r);return PF(i)}async function t7(e,n,t,r){const a=await(await K1(n,up.GENERATE_CONTENT,e,!1,JSON.stringify(t),r)).json();return{response:H6(a)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n7(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function b1(e){let n=[];if(typeof e=="string")n=[{text:e}];else for(const t of e)typeof t=="string"?n.push({text:t}):n.push(t);return UF(n)}function UF(e){const n={role:"user",parts:[]},t={role:"function",parts:[]};let r=!1,i=!1;for(const a of e)"functionResponse"in a?(t.parts.push(a),i=!0):(n.parts.push(a),r=!0);if(r&&i)throw new Rs("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new Rs("No content is provided for sending chat message.");return r?n:t}function HF(e,n){var t;let r={model:n==null?void 0:n.model,generationConfig:n==null?void 0:n.generationConfig,safetySettings:n==null?void 0:n.safetySettings,tools:n==null?void 0:n.tools,toolConfig:n==null?void 0:n.toolConfig,systemInstruction:n==null?void 0:n.systemInstruction,cachedContent:(t=n==null?void 0:n.cachedContent)===null||t===void 0?void 0:t.name,contents:[]};const i=e.generateContentRequest!=null;if(e.contents){if(i)throw new Vf("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(i)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const a=b1(e);r.contents=[a]}return{generateContentRequest:r}}function Qk(e){let n;return e.contents?n=e:n={contents:[b1(e)]},e.systemInstruction&&(n.systemInstruction=n7(e.systemInstruction)),n}function WF(e){return typeof e=="string"||Array.isArray(e)?{content:b1(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],YF={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function VF(e){let n=!1;for(const t of e){const{role:r,parts:i}=t;if(!n&&r!=="user")throw new Rs(`First content should be with role 'user', got ${r}`);if(!zk.includes(r))throw new Rs(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(zk)}`);if(!Array.isArray(i))throw new Rs("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Rs("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of i)for(const u of Kk)u in l&&(a[u]+=1);const s=YF[r];for(const l of Kk)if(!s.includes(l)&&a[l]>0)throw new Rs(`Content with role '${r}' can't contain '${l}' part`);n=!0}}function Xk(e){var n;if(e.candidates===void 0||e.candidates.length===0)return!1;const t=(n=e.candidates[0])===null||n===void 0?void 0:n.content;if(t===void 0||t.parts===void 0||t.parts.length===0)return!1;for(const r of t.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="SILENT_ERROR";class GF{constructor(n,t,r,i={}){this.model=t,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=n,r!=null&&r.history&&(VF(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(n,t={}){var r,i,a,s,l,u;await this._sendPromise;const d=b1(n),f={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,d]},m=Object.assign(Object.assign({},this._requestOptions),t);let b;return this._sendPromise=this._sendPromise.then(()=>t7(this._apiKey,this.model,f,m)).then(g=>{var x;if(Xk(g.response)){this._history.push(d);const y=Object.assign({parts:[],role:"model"},(x=g.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(y)}else{const y=Df(g.response);y&&console.warn(`sendMessage() was unsuccessful. ${y}. Inspect response object for details.`)}b=g}).catch(g=>{throw this._sendPromise=Promise.resolve(),g}),await this._sendPromise,b}async sendMessageStream(n,t={}){var r,i,a,s,l,u;await this._sendPromise;const d=b1(n),f={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,d]},m=Object.assign(Object.assign({},this._requestOptions),t),b=e7(this._apiKey,this.model,f,m);return this._sendPromise=this._sendPromise.then(()=>b).catch(g=>{throw new Error(Zk)}).then(g=>g.response).then(g=>{if(Xk(g)){this._history.push(d);const x=Object.assign({},g.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=Df(g);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(g=>{g.message!==Zk&&console.error(g)}),b}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QF(e,n,t,r){return(await K1(n,up.COUNT_TOKENS,e,!1,JSON.stringify(t),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KF(e,n,t,r){return(await K1(n,up.EMBED_CONTENT,e,!1,JSON.stringify(t),r)).json()}async function XF(e,n,t,r){const i=t.requests.map(s=>Object.assign(Object.assign({},s),{model:n}));return(await K1(n,up.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(n,t,r={}){this.apiKey=n,this._requestOptions=r,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=n7(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(n,t={}){var r;const i=Qk(n),a=Object.assign(Object.assign({},this._requestOptions),t);return t7(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}async generateContentStream(n,t={}){var r;const i=Qk(n),a=Object.assign(Object.assign({},this._requestOptions),t);return e7(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}startChat(n){var t;return new GF(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},n),this._requestOptions)}async countTokens(n,t={}){const r=HF(n,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),t);return QF(this.apiKey,this.model,r,i)}async embedContent(n,t={}){const r=WF(n),i=Object.assign(Object.assign({},this._requestOptions),t);return KF(this.apiKey,this.model,r,i)}async batchEmbedContents(n,t={}){const r=Object.assign(Object.assign({},this._requestOptions),t);return XF(this.apiKey,this.model,n,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(n){this.apiKey=n}getGenerativeModel(n,t){if(!n.model)throw new Rs("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Jk(this.apiKey,n,t)}getGenerativeModelFromCachedContent(n,t,r){if(!n.name)throw new Vf("Cached content must contain a `name` field.");if(!n.model)throw new Vf("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const s of i)if(t!=null&&t[s]&&n[s]&&(t==null?void 0:t[s])!==n[s]){if(s==="model"){const l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model,u=n.model.startsWith("models/")?n.model.replace("models/",""):n.model;if(l===u)continue}throw new Vf(`Different value for "${s}" specified in modelParams (${t[s]}) and cachedContent (${n[s]})`)}const a=Object.assign(Object.assign({},t),{model:n.model,tools:n.tools,toolConfig:n.toolConfig,systemInstruction:n.systemInstruction,cachedContent:n});return new Jk(this.apiKey,a,r)}}var F5={exports:{}},e_;function ZF(){return e_||(e_=1,(()=>{var e={d:(a,s)=>{for(var l in s)e.o(s,l)&&!e.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:s[l]})},o:(a,s)=>Object.prototype.hasOwnProperty.call(a,s),r:a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}},n={};function t(a,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}e.r(n),e.d(n,{default:()=>i});var r=function(){function a(){(function(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")})(this,a)}var s,l;return s=a,l=[{key:"changeHeightWidth",value:function(u,d,f,m,b,g){return f>m&&(u=Math.round(u*m/f),f=m),u>d&&(f=Math.round(f*d/u),u=d),b&&f<b&&(u=Math.round(u*b/f),f=b),g&&u<g&&(f=Math.round(f*g/u),u=g),{height:u,width:f}}},{key:"resizeAndRotateImage",value:function(u,d,f,m,b){var g=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",x=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,y=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,A=x/100,w=document.createElement("canvas"),C=u.width,T=u.height,M=this.changeHeightWidth(T,f,C,d,m,b);!y||y!==90&&y!==270?(w.width=M.width,w.height=M.height):(w.width=M.height,w.height=M.width),C=M.width,T=M.height;var R=w.getContext("2d");return R.fillStyle="rgba(0, 0, 0, 0)",R.fillRect(0,0,C,T),R.imageSmoothingEnabled&&R.imageSmoothingQuality&&(R.imageSmoothingQuality="high"),y&&(R.rotate(y*Math.PI/180),y===90?R.translate(0,-w.width):y===180?R.translate(-w.width,-w.height):y===270?R.translate(-w.height,0):y!==0&&y!==360||R.translate(0,0)),R.drawImage(u,0,0,C,T),w.toDataURL("image/".concat(g),A)}},{key:"b64toByteArrays",value:function(u,d){for(var f=atob(u.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),m=[],b=0;b<f.length;b+=512){for(var g=f.slice(b,b+512),x=new Array(g.length),y=0;y<g.length;y++)x[y]=g.charCodeAt(y);var A=new Uint8Array(x);m.push(A)}return m}},{key:"b64toBlob",value:function(u,d){var f=this.b64toByteArrays(u,d);return new Blob(f,{type:d,lastModified:new Date})}},{key:"b64toFile",value:function(u,d,f){var m=this.b64toByteArrays(u,f);return new File(m,d,{type:f,lastModified:new Date})}},{key:"createResizedImage",value:function(u,d,f,m,b,g,x){var y=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",A=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,w=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,C=new FileReader;if(!u)throw Error("File Not Found!");if(u.type&&!u.type.includes("image"))throw Error("File Is NOT Image!");C.readAsDataURL(u),C.onload=function(){var T=new Image;T.src=C.result,T.onload=function(){var M=a.resizeAndRotateImage(T,d,f,A,w,m,b,g),R="image/".concat(m);switch(y){case"blob":var z=a.b64toBlob(M,R);x(z);break;case"base64":x(M);break;case"file":var _=u.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(m.toString()),L=a.b64toFile(M,_,R);x(L);break;default:x(M)}}},C.onerror=function(T){throw Error(T)}}}],l&&t(s,l),a}();const i={imageFileResizer:function(a,s,l,u,d,f,m,b,g,x){return r.createResizedImage(a,s,l,u,d,f,m,b,g,x)}};F5.exports=n})()),F5.exports}var JF=ZF();const i7=ts(JF),eP=(e,n=5*1024*1024)=>new Promise((t,r)=>{var b;const i=((b=e.type.split("/")[1])==null?void 0:b.toLowerCase())||"unknown";if(e.size<=n&&(i==="jpeg"||i==="png"||i==="webp")){console.log(` Image already optimized: ${e.size} bytes, format: ${i}`),t({blob:e,format:i==="jpeg"?"jpg":i});return}const a=e.size>n;console.log(` Processing image: ${e.size} bytes, format: ${i}, compress: ${a}`);const s=new File([e],`image.${i}`,{type:e.type});let l="JPEG",u="jpg";(i==="png"||i==="gif")&&(l="PNG",u="png");const d=a?60:75,f=a?600:800,m=setTimeout(()=>{r(new Error("Image compression timed out after 10 seconds"))},1e4);i7.imageFileResizer(s,f,f,l,d,0,g=>{clearTimeout(m),g instanceof Blob?(console.log(` Image compressed: ${e.size}  ${g.size} bytes (${((1-g.size/e.size)*100).toFixed(1)}% reduction)`),t({blob:g,format:u})):r(new Error("Compression failed - unexpected result type"))},"blob")}),tP=async(e,n,t,r=3,i=15e3)=>{const a=xp();for(let s=1;s<=r;s++)try{const{blob:l,format:u}=await eP(e),d=`${n}_${Ri()}.${u}`,f=async()=>{const g=xc(a,`materials/${t}/${d}`),x=await Hf(g,l);return{url:await Wf(x.ref),path:x.ref.fullPath,filename:d,originalSize:e.size,compressedSize:l.size}},m=new Promise((g,x)=>{setTimeout(()=>x(new Error(`Upload timeout after ${i}ms`)),i)}),b=await Promise.race([f(),m]);return console.log(`Successfully uploaded image: ${b.filename} (attempt ${s})`,{originalSize:b.originalSize,compressedSize:b.compressedSize,url:b.url}),{url:b.url,path:b.path}}catch(l){const u=l instanceof Error?l.message:"Unknown error";if(console.warn(`Upload attempt ${s}/${r} failed for ${n}: ${u}`),s===r)throw console.error(`All ${r} upload attempts failed for ${n}:`,l),new Error(`Image upload failed after ${r} attempts: ${u}`);const d=Math.min(1e3*Math.pow(2,s-1),5e3);console.log(`Waiting ${d}ms before retry...`),await new Promise(f=>setTimeout(f,d))}throw new Error("Upload failed - should not reach here")},P5=e=>{const t=`
    <svg width="400" height="300" xmlns="http://www.w3.org/2000/svg">
      <rect width="100%" height="100%" fill="#f44336"/>
      <text x="50%" y="45%" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle" dominant-baseline="middle">
        Upload Failed
      </text>
      <text x="50%" y="55%" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle" dominant-baseline="middle">
        ${e.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30)}
      </text>
    </svg>
  `;try{return`data:image/svg+xml;base64,${btoa(t)}`}catch(r){return console.error("Failed to create fallback placeholder:",r),`data:image/svg+xml,${encodeURIComponent(t)}`}},nP=async(e,n,t,r=3)=>{const i=e.filter(u=>u.imageBlob),a=[];console.log(` Starting batch upload of ${i.length} images (batch size: ${r})`),console.log(" Images to upload:",i.map((u,d)=>{var f,m;return{index:d+1,slideNumber:u.slideNumber,description:u.description,blobSize:(f=u.imageBlob)==null?void 0:f.size,blobType:(m=u.imageBlob)==null?void 0:m.type}}));for(let u=0;u<i.length;u+=r){const d=Math.min(u+r,i.length),f=i.slice(u,d);console.log(`Processing batch ${Math.floor(u/r)+1}/${Math.ceil(i.length/r)} (images ${u+1}-${d})`);const m=f.map(async(b,g)=>{const x=u+g;console.log(` Starting upload for image ${x+1}/${i.length} (slide ${b.slideNumber})`);try{const y=`slide_${b.slideNumber}_image_${x+1}`,A=tP(b.imageBlob,y,n,2,1e4),w=new Promise((T,M)=>{setTimeout(()=>{M(new Error(`Individual image timeout after 15 seconds for image ${x+1}`))},15e3)}),{url:C}=await Promise.race([A,w]);return console.log(` Successfully processed image ${x+1}/${i.length}`),{url:C,title:b.description||`Image from Slide ${b.slideNumber}`,originalFilename:b.filename,slideNumber:b.slideNumber,index:x}}catch(y){return console.error(` Failed to upload image ${x+1}/${i.length} from slide ${b.slideNumber}:`,y),{url:P5(b.description||`Image from Slide ${b.slideNumber}`),title:b.description||`Image from Slide ${b.slideNumber}`,originalFilename:b.filename,slideNumber:b.slideNumber,index:x}}});try{console.log(` Waiting for batch ${Math.floor(u/r)+1} to complete...`);const b=2e4,g=new Promise((y,A)=>{setTimeout(()=>{A(new Error(`Batch ${Math.floor(u/r)+1} timeout after ${b}ms`))},b)}),x=await Promise.race([Promise.allSettled(m),g]);console.log(` Batch ${Math.floor(u/r)+1} completed, processing ${x.length} results...`),x.forEach((y,A)=>{const w=u+A;if(y.status==="fulfilled")a.push(y.value),console.log(` Image ${w+1}/${i.length} uploaded successfully`);else{console.error(` Image ${w+1}/${i.length} failed:`,y.reason);const C=f[A];a.push({url:P5(C.description||`Image from Slide ${C.slideNumber}`),title:C.description||`Image from Slide ${C.slideNumber}`,originalFilename:C.filename,slideNumber:C.slideNumber})}t==null||t(w+1,i.length)})}catch(b){console.error(` Batch ${Math.floor(u/r)+1} failed or timed out:`,b),f.forEach((g,x)=>{const y=u+x;console.log(` Creating fallback for timed out image ${y+1}/${i.length}`),a.push({url:P5(g.description||`Image from Slide ${g.slideNumber}`),title:g.description||`Image from Slide ${g.slideNumber}`,originalFilename:g.filename,slideNumber:g.slideNumber}),t==null||t(y+1,i.length)})}d<i.length&&(console.log(" Waiting 1 second before next batch..."),await new Promise(b=>setTimeout(b,1e3)))}a.sort((u,d)=>(u.index||0)-(d.index||0));const s=a.filter(u=>!u.url.startsWith("data:")).length,l=a.length-s;return console.log(`Upload complete: ${s} successful, ${l} failed out of ${a.length} total`),a};class rP{constructor(n){tt(this,"genAI");tt(this,"model");tt(this,"activeBlobUrls",new Set);this.genAI=new r7(n),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.2,topK:3,topP:.9,maxOutputTokens:16384}})}cleanupBlobUrls(){this.activeBlobUrls.forEach(n=>{URL.revokeObjectURL(n)}),this.activeBlobUrls.clear()}createTrackedBlobUrl(n){const t=URL.createObjectURL(n);return this.activeBlobUrls.add(t),t}async processMaterialContent(n,t,r,i,a,s){if(!(n!=null&&n.trim()))throw new Error("No content provided for processing");a==null||a({stage:"analyzing",percentage:20,currentOperation:"Analyzing document structure..."});const l=n.length,u=Math.ceil(l/4);if(l>15e3||u>4e3){console.log(`Document is large (${l} chars, ~${u} tokens), using chunked processing`);const d=n.substring(0,15e3);return console.log("Truncating input to prevent AI response truncation"),this.processSingleMaterial(d+`

[Content truncated for processing]`,t,r,i,a,s)}return this.processSingleMaterial(n,t,r,i,a,s)}async processSingleMaterial(n,t,r,i,a,s){const l=this.buildMaterialAnalysisPrompt(n,t,r,i,s);a==null||a({stage:"analyzing",percentage:40,currentOperation:"Processing with AI..."});try{const f=(await(await this.model.generateContent(l)).response).text();if(!f||f.trim().length===0)throw new Error("Empty response from AI service");a==null||a({stage:"structuring",percentage:70,currentOperation:"Structuring content..."});let m=f.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();console.log("Raw response text (first 1000 chars):",f.substring(0,1e3)),console.log("Cleaned text (first 1000 chars):",m.substring(0,1e3)),m=this.repairTruncatedJSON(m);let b;try{b=JSON.parse(m)}catch(g){throw console.error("JSON parsing failed:",g),console.error("Raw response text (first 1000 chars):",f.substring(0,1e3)),console.error("Cleaned text (first 1000 chars):",m.substring(0,1e3)),new Error("AI response format invalid - unable to parse JSON")}if(!b||typeof b!="object")throw new Error("AI response is not a valid object");return a==null||a({stage:"complete",percentage:100,currentOperation:"Processing complete!"}),this.validateAndSanitizeMaterialResponse(b,t,r)}catch(u){if(console.error("Material Import AI Error:",u),a==null||a({stage:"error",percentage:0,currentOperation:`Error: ${u instanceof Error?u.message:"Unknown error"}`}),u instanceof Error){if(u.message.includes("API_KEY_INVALID")||u.message.includes("API key"))throw new Error("Invalid API key. Please check your material import API key configuration.");if(u.message.includes("RATE_LIMIT_EXCEEDED"))throw new Error("Rate limit exceeded. Please try again in a few minutes.");if(u.message.includes("SAFETY"))throw new Error("Content flagged by safety filters. Please try with different content.")}throw new Error(`Material processing failed: ${u instanceof Error?u.message:"Unknown error"}`)}}async processLargeMaterial(n,t,r,i,a){a==null||a({stage:"analyzing",percentage:10,currentOperation:"Processing large document with chunking..."});const s=this.chunkMaterialText(n);let l=null;const u=[];a==null||a({stage:"analyzing",percentage:30,currentOperation:`Processing main content (1/${s.length})...`,subSteps:{current:1,total:s.length,description:"Analyzing primary structure"}}),l=await this.processSingleMaterial(s[0],t,r,i);for(let f=1;f<s.length;f++){a==null||a({stage:"analyzing",percentage:30+40*f/s.length,currentOperation:`Processing additional content (${f+1}/${s.length})...`,subSteps:{current:f+1,total:s.length,description:"Extracting supplementary details"}});try{const m=await this.processChunkForAdditionalContent(s[f],t,r);m&&u.push(m)}catch(m){console.warn(`Failed to process chunk ${f+1}:`,m)}}a==null||a({stage:"structuring",percentage:80,currentOperation:"Merging content from all sections..."});const d=this.mergeChunkedMaterialResults(l,u);return a==null||a({stage:"complete",percentage:100,currentOperation:"Large document processing complete!"}),d}buildMaterialAnalysisPrompt(n,t,r,i,a){const s=this.getFileTypeContext(r);return`
Analyze this ${s} educational material and extract structured information for course content management.

File: ${t}
Type: ${r}

CONTENT:
${n}

${a!=null&&a.images&&a.images.length>0?`
DETECTED IMAGES:
${a.images.map((l,u)=>`${u+1}. ${l.description||`Image ${u+1}`}${l.slideNumber?` (Slide ${l.slideNumber})`:""}${l.altText?` - ${l.altText}`:""}`).join(`
`)}

CRITICAL IMAGE PLACEMENT INSTRUCTIONS:
- Each image MUST be placed in the section corresponding to its slide number
- If "Image X (Slide Y)" is detected, place it in the section created from Slide Y content
- Each image should have a unique, descriptive title based on its context
- Include slideNumber property in each image object for proper matching
- DO NOT reuse the same image in multiple sections
`:""}

Please extract and structure this content into a comprehensive educational material format. Focus on:

1. **Document Structure**: Identify main topics, subtopics, and hierarchical organization
2. **Content Quality**: Preserve important educational information and context
3. **Visual Elements**: Note references to images, diagrams, charts (even if not extractable)
4. **Links and Resources**: Extract any URLs, references, or external resources mentioned
5. **Learning Context**: Maintain educational value and logical flow

${s==="presentation slide deck"?`
SPECIAL INSTRUCTIONS FOR PRESENTATIONS:
- Each slide should become a section or subsection
- Preserve slide order and hierarchy
- Note slide titles and main content points
- Identify slide transitions and logical groupings
- Extract speaker notes or additional context if present
`:""}

Return ONLY a JSON object with this exact structure:
{
  "title": "Material title (extracted from content or filename)",
  "description": "Brief description of the material content",
  "header": {
    "title": "Introduction or Overview",
    "content": "HTML formatted introductory content"
  },
  "footer": {
    "title": "Summary or Conclusion", 
    "content": "HTML formatted concluding content"
  },
  "sections": [
    {
      "title": "Section Title",
      "content": "HTML formatted main section content",
      "subsections": [
        {
          "title": "Subsection Title",
          "content": "HTML formatted subsection content",
          "subSubsections": [
            {
              "title": "Sub-subsection Title",
              "content": "HTML formatted detailed content",
              "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 2}],
              "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
            }
          ],
          "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 3}],
          "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
        }
      ],
      "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 4}],
      "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
    }
  ],
  "sourceInfo": {
    "fileName": "${t}",
    "fileType": "${r}",
    "extractedAt": "${new Date().toISOString()}",
    "originalFileReference": "Reference to original file for debugging"
  },
  "images": [{"url": "", "title": "Overall image description", "description": "Context", "slideNumber": 1}],
  "links": [{"title": "Overall link title", "url": "URL", "description": "Link context"}]
}

CRITICAL JSON FORMATTING RULES:
- Return ONLY valid JSON - no comments, no explanations, no additional text
- Use proper HTML tags for content formatting (<p>, <h1>-<h6>, <ul>, <ol>, <li>, <strong>, <em>, <br>)
- Preserve educational structure and hierarchy
- Create logical sections based on content organization
- For images: Use EMPTY STRINGS for URLs ("url": "") with descriptive titles, context, and slideNumber property
-- IMPORTANT: Each image object MUST include "slideNumber" property matching the source slide
-- NEVER use placeholder filenames like "placeholder_image_1.png" - always use empty strings for URLs
- For links: Extract actual URLs when present, provide context
- Complete ALL sections and subsections - do not use comments like "// ... continue"
- Ensure all JSON arrays and objects are properly closed
- Maintain educational value and readability

IMPORTANT: Your response must be complete, valid JSON that can be parsed directly. Do not include any explanatory text, comments, or incomplete sections. End your response when the JSON object is complete.
`}async processChunkForAdditionalContent(n,t,r){const i=`
Extract additional educational content from this section of the material:

File: ${t}
Type: ${r}

CONTENT:
${n}

Focus on extracting any additional sections, detailed information, or supplementary content that should be included in the educational material.

Return ONLY a JSON object with additional sections, images, or links:
{
  "sections": [...],
  "images": [...],
  "links": [...]
}
`;try{const l=(await(await this.model.generateContent(i)).response).text();if(!l||l.trim().length===0)return null;let u;try{u=this.extractValidJSON(l)}catch(d){try{u=this.fallbackJSONExtraction(l)}catch{throw d}}return JSON.parse(u)}catch(a){return console.warn("Failed to process additional content chunk:",a),null}}chunkMaterialText(n,t=25e3){const r=[],i=n.split(`
`);let a="";for(const s of i)a.length+s.length>t&&a.length>0?(r.push(a.trim()),a=s):a+=(a?`
`:"")+s;return a.trim()&&r.push(a.trim()),r.length>0?r:[n]}mergeChunkedMaterialResults(n,t){const r={...n};for(const i of t)i.sections&&Array.isArray(i.sections)&&(r.sections=[...r.sections,...i.sections]),i.images&&Array.isArray(i.images)&&(r.images=[...r.images||[],...i.images]),i.links&&Array.isArray(i.links)&&(r.links=[...r.links||[],...i.links]);return r}extractValidJSON(n){let t=n.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();t=t.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const r=t.indexOf("{");if(r===-1)throw new Error("No JSON object found in response");t=t.substring(r);let i=0,a=-1,s=!1,l=!1;for(let f=0;f<t.length;f++){const m=t[f];if(l){l=!1;continue}if(m==="\\"){l=!0;continue}if(m==='"'&&!l){s=!s;continue}if(!s){if(m==="{")i++;else if(m==="}"&&(i--,i===0)){a=f+1;break}}}if(a===-1)throw new Error("No matching closing brace found for JSON object");let u=t.substring(0,a);u=u.replace(/,(\s*[}\]])/g,"$1"),this.detectTruncatedJSON(u)&&(console.warn("Detected truncated JSON response, attempting repair"),u=this.attemptJSONRepair(u));try{return JSON.parse(u),u}catch(f){console.warn("Initial JSON parsing failed, attempting to fix common issues:",f);const m=this.attemptJSONRepair(u);try{return JSON.parse(m),m}catch(b){throw console.error("JSON repair failed:",b),new Error(`Invalid JSON structure: ${b.message}`)}}}detectTruncatedJSON(n){const t=n.trim(),r=[/"[^"]*$/,/:\s*$/,/,\s*$/,/"[a-zA-Z]+\w*$/,/[a-zA-Z]+\w*$/,/\[\s*$/,/{\s*$/];for(const a of r)if(a.test(t))return console.log(`Truncation detected: ${a.toString()}`),!0;const i=t.charAt(t.length-1);return i!=="}"&&i!=="]"?(console.log(`Truncation detected: JSON doesn't end with } or ], ends with: "${i}"`),!0):!1}detectTruncatedResponse(n){const r=n.trim().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),i=[/"[^"]*$/,/\w+$/,/:\s*$/,/,\s*$/,!r.endsWith("}"),!r.endsWith("]"),r.length<500];for(let a=0;a<i.length-1;a++){const s=i[a];if(s instanceof RegExp&&s.test(r))return!0}return!!(i[i.length-3]||i[i.length-2]||i[i.length-1])}attemptJSONRepair(n){let t=n;const r=t.split(`
`),i=[];for(const d of r){const f=d.trim();f.startsWith("//")||f.includes("... (Continue")||f.includes("continue structuring")||f.includes("similarly")||i.push(d)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1");const a=(t.match(/{/g)||[]).length,s=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,u=(t.match(/\]/g)||[]).length;for(let d=0;d<a-s;d++)t+="}";for(let d=0;d<l-u;d++)t+="]";return t}fallbackJSONExtraction(n){console.log("Attempting fallback JSON extraction...");let t=n.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();t=t.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const r=t.indexOf("{");if(r===-1)throw new Error("No JSON object found in response");t=t.substring(r);const i=[/}\s*$/m,/}\s*\n\s*[A-Z]/m,/}\s*\n\s*This/m,/}\s*\n\s*Note:/m];let a=-1;for(const l of i){const u=t.match(l);if(u&&u.index!==void 0){const d=u.index+u[0].indexOf("}")+1;(a===-1||d<a)&&(a=d)}}a>0&&(t=t.substring(0,a));const s=this.attemptJSONRepair(t);try{return JSON.parse(s),s}catch{return console.log("Attempting aggressive JSON repair..."),this.aggressiveJSONRepair(t)}}aggressiveJSONRepair(n){let t=n;const r=t.split(`
`),i=[];for(const d of r){const f=d.trim();if(f.startsWith("//")||f.includes("... (")||f.includes("continue")||f.includes("similarly")||f.includes("Remember to")||f.includes("This structure")||f.length>0&&!f.includes('"')&&!f.includes("{")&&!f.includes("}")&&!f.includes("[")&&!f.includes("]"))break;i.push(d)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1");const a=(t.match(/{/g)||[]).length,s=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,u=(t.match(/\]/g)||[]).length;for(let d=0;d<a-s;d++)t+=`
}`;for(let d=0;d<l-u;d++)t+=`
]`;return t=t.replace(/,(\s*[}\]])/g,"$1"),t}repairTruncatedJSON(n){let t=n;const r=t.split(`
`),i=[];for(const d of r){const f=d.trim();if(f.length===0){i.push(d);continue}if(f.match(/^"[^"]*$/)){i.push('"": ""');break}if(f.match(/:\s*"[^"]*$/)){i.push(f.replace(/:\s*"[^"]*$/,': ""'));break}if(f.match(/^[a-zA-Z]+\w*$/))break;i.push(d)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1"),t=t.replace(/,\s*$/,"");const a=(t.match(/{/g)||[]).length,s=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,u=(t.match(/\]/g)||[]).length;console.log(`JSON structure analysis: ${a} open braces, ${s} close braces, ${l} open brackets, ${u} close brackets`);for(let d=0;d<l-u;d++)t+=`
]`;for(let d=0;d<a-s;d++)t+=`
}`;return t=t.replace(/,(\s*[}\]])/g,"$1"),console.log("Repaired JSON (first 1000 chars):",t.substring(0,1e3)),t}getFileTypeContext(n){const t=n.toLowerCase();return t.includes("presentation")||t.includes("powerpoint")||t.includes("pptx")?"presentation slide deck":t.includes("pdf")?"PDF document":t.includes("word")||t.includes("docx")?"Word document":"document"}validateAndSanitizeMaterialResponse(n,t,r){var a,s,l,u,d;const i={title:n.title||t.replace(/\.[^/.]+$/,"")||"Untitled Material",description:n.description||"",header:{title:((a=n.header)==null?void 0:a.title)||"Introduction",content:((s=n.header)==null?void 0:s.content)||""},footer:{title:((l=n.footer)==null?void 0:l.title)||"Summary",content:((u=n.footer)==null?void 0:u.content)||""},sections:[],sourceInfo:{fileName:t,fileType:r,extractedAt:new Date().toISOString(),originalFileReference:((d=n.sourceInfo)==null?void 0:d.originalFileReference)||t},images:Array.isArray(n.images)?n.images:[],links:Array.isArray(n.links)?n.links:[]};return Array.isArray(n.sections)&&(i.sections=n.sections.map(f=>({title:f.title||"Section",content:f.content||"",subsections:Array.isArray(f.subsections)?f.subsections.map(m=>({title:m.title||"Subsection",content:m.content||"",subSubsections:Array.isArray(m.subSubsections)?m.subSubsections.map(b=>({title:b.title||"Sub-subsection",content:b.content||"",images:Array.isArray(b.images)?b.images:[],links:Array.isArray(b.links)?b.links:[]})):[],images:Array.isArray(m.images)?m.images:[],links:Array.isArray(m.links)?m.links:[]})):[],images:Array.isArray(f.images)?f.images:[],links:Array.isArray(f.links)?f.links:[]}))),i.sections.length===0&&i.sections.push({title:"Main Content",content:"Content extracted from the uploaded material.",subsections:[],images:[],links:[]}),i}convertToMaterialFormat(n,t,r,i){const a=(u,d=400,f=300)=>{const m=u.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30),b=`
        <svg width="${d}" height="${f}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${m}
          </text>
        </svg>
      `;try{return`data:image/svg+xml;base64,${btoa(b)}`}catch(g){return console.error("Failed to create placeholder image URL:",g),`data:image/svg+xml,${encodeURIComponent(b)}`}},s=u=>{const d=new Map;i!=null&&i.images&&i.images.forEach(g=>{g.slideNumber&&g.imageBlob&&(d.has(g.slideNumber)||d.set(g.slideNumber,[]),d.get(g.slideNumber).push(g))});const f=new Map,m=(u==null?void 0:u.map((g,x)=>{let y="";if(g.slideNumber&&d.has(g.slideNumber)){const w=d.get(g.slideNumber);f.has(g.slideNumber)||f.set(g.slideNumber,new Set);const C=f.get(g.slideNumber);let T=null;if(g.title||g.description){const M=(g.title||g.description).toLowerCase();T=w.find(R=>{const z=(R.description||"").toLowerCase();return!C.has(R.embedId||"")&&z.includes(M.split(" ")[0])})||null}if(T||(T=w.find(M=>!C.has(M.embedId||""))||null),!T&&w.length>0){const M=x%w.length;T=w[M]}T!=null&&T.imageBlob&&(T.embedId&&C.add(T.embedId),y=this.createTrackedBlobUrl(T.imageBlob),console.log(`Using extracted image blob for slide ${g.slideNumber} (${C.size}/${w.length}):`,{slideNumber:g.slideNumber,imageIndex:x,embedId:T.embedId,blobSize:T.imageBlob.size,blobType:T.imageBlob.type,matchedBy:T.description||"position"}))}y||(g.url&&g.url.trim()&&(g.url.startsWith("data:")||g.url.startsWith("http"))&&!g.url.includes("placeholder_image")?y=g.url:y=a(g.title||"Image"));const A={url:y,title:g.title||g.description||"Detected Image"};return console.log("Enhanced image (preview):",A),A}))||[],b=Array.from(d.values()).reduce((g,x)=>g+x.length,0);return console.log(`Enhanced ${m.length} images for material preview (${b} extracted images available across ${d.size} slides)`),m},l=u=>{var d;return{id:Ri(),title:u.title,content:u.content,subsections:((d=u.subsections)==null?void 0:d.map(f=>{var m;return{id:Ri(),title:f.title,content:f.content,subSubsections:((m=f.subSubsections)==null?void 0:m.map(b=>({id:Ri(),title:b.title,content:b.content,images:s(b.images||[]),links:b.links||[]})))||[],images:s(f.images||[]),links:f.links||[]}}))||[],images:s(u.images||[]),links:u.links||[]}};return{course:t,title:n.title,header:n.header,footer:n.footer,sections:n.sections.map(l),author:r,published:!1,sourceInfo:n.sourceInfo}}async convertToMaterialFormatWithImageUpload(n,t,r,i,a,s){var g;let l=[];if(a!=null&&a.images)try{console.log(` Starting image upload process for ${a.images.length} extracted images...`),console.log(" Image metadata:",a.images.map(x=>{var y;return{slideNumber:x.slideNumber,description:x.description,hasBlob:!!x.imageBlob,blobSize:(y=x.imageBlob)==null?void 0:y.size}})),l=await nP(a.images,i,s),console.log(` Successfully uploaded ${l.length} images to Firebase Storage`),console.log(" Uploaded image URLs:",l.map(x=>({title:x.title,url:x.url.substring(0,100)+"...",slideNumber:x.slideNumber})))}catch(x){console.error(" Failed to upload extracted images:",x)}else console.log(" No images to upload - extractionMetadata.images is empty or undefined");const u=(x,y=400,A=300)=>{const w=x.substring(0,30),C=`
        <svg width="${y}" height="${A}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${w}
          </text>
        </svg>
      `;return`data:image/svg+xml;base64,${btoa(C)}`},d=x=>{const y=new Map;l.forEach(C=>{C.slideNumber&&(y.has(C.slideNumber)||y.set(C.slideNumber,[]),y.get(C.slideNumber).push(C))});const A=new Set,w=(x==null?void 0:x.map((C,T)=>{let M=null;if(C.slideNumber&&y.has(C.slideNumber)){const z=y.get(C.slideNumber);if(M=z.find(_=>!A.has(_.url))||null,!M&&z.length>0){const _=T%z.length;M=z[_]}}if(!M){const z=(C.title||C.description||"").toLowerCase().split(" ");M=l.find(_=>{if(A.has(_.url))return!1;const L=_.title.toLowerCase().split(" ");return z.some($=>$.length>3&&L.some(Z=>Z.includes($)))})||null}if(M||(M=l.find(z=>!A.has(z.url))||null),!M&&l.length>0){const z=T%l.length;M=l[z]}M&&A.add(M.url);const R={url:(M==null?void 0:M.url)||(C.url&&C.url.trim()?C.url:u(C.title||"Image")),title:(M==null?void 0:M.title)||C.title||C.description||"Detected Image"};return console.log("Enhanced image with upload:",{...R,url:R.url.substring(0,100)+"...",isUploaded:!!M,imageIndex:T,originalSlideNumber:C.slideNumber,matchedSlideNumber:M==null?void 0:M.slideNumber,matchStrategy:M?M.slideNumber===C.slideNumber?"slideNumber":R.title.includes(C.title||"")?"title":"sequential":"placeholder",usedCount:A.size,totalAvailable:l.length}),R}))||[];return console.log(`Enhanced ${w.length} images for material (${l.length} uploaded, ${A.size} used)`),w},f=x=>{var y;return{id:Ri(),title:x.title,content:x.content,images:d(x.images||[]),links:x.links||[],subsections:((y=x.subsections)==null?void 0:y.map(m))||[]}},m=x=>{var y;return{id:Ri(),title:x.title,content:x.content,images:d(x.images||[]),links:x.links||[],subSubsections:((y=x.subSubsections)==null?void 0:y.map(b))||[]}},b=x=>({id:Ri(),title:x.title,content:x.content,images:d(x.images||[]),links:x.links||[]});return{course:t,title:n.title,header:n.header||{title:"",content:""},footer:n.footer||{title:"",content:""},sections:((g=n.sections)==null?void 0:g.map(f))||[],author:r,published:!1,scheduledTimestamp:null}}}let wy=null;const aS=e=>{const n=e||"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0";if(!wy&&n&&(wy=new rP(n)),!wy)throw new Error("Material Import service not initialized. Please configure VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.");return wy},iP=async e=>{try{const n=await wi(()=>import("./pdf-VQKGuvxX.js"),[]),t="/nexlab";n.GlobalWorkerOptions.workerSrc=`${t}/js/pdf.worker.min.js`;const r=await e.arrayBuffer(),i=await n.getDocument({data:r}).promise,a=i.numPages;let s="";for(let l=1;l<=a;l++){const f=(await(await i.getPage(l)).getTextContent()).items.filter(m=>m&&typeof m.str=="string").map(m=>m.str).join(" ").trim();f&&(s+=f+`

`)}return{text:s.trim(),metadata:{pageCount:a,wordCount:s.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"PDF.js"}}}catch(n){throw{message:"Failed to extract text from PDF file. Please ensure the PDF contains selectable text.",code:"PDF_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},aP=async e=>{try{const n=await wi(()=>import("./index-DdABhq5U.js").then(i=>i.i),__vite__mapDeps([0,1])),t=await e.arrayBuffer(),r=await n.extractRawText({arrayBuffer:t});return r.messages&&r.messages.length>0&&console.warn("DOCX extraction warnings:",r.messages),{text:r.value.trim(),metadata:{wordCount:r.value.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"Mammoth"}}}catch(n){throw{message:"Failed to extract text from Word document. Please ensure the file is not corrupted.",code:"DOCX_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},sP=async e=>{var n,t;try{const r=(await wi(async()=>{const{default:m}=await import("./index-CZYWMsg6.js").then(b=>b.i);return{default:m}},__vite__mapDeps([2,1]))).default,i=await e.arrayBuffer(),a=new r(i);let s="",l=0;const u=[],d=Object.keys(a.files).filter(m=>m.startsWith("ppt/slides/slide")&&m.endsWith(".xml"));l=d.length;for(const m of d)try{const b=a.files[m].asText(),g=parseInt(((n=m.match(/slide(\d+)\.xml/))==null?void 0:n[1])||"0"),x=b.matchAll(/<a:blip[^>]*r:embed="([^"]*)"[^>]*>/g);for(const w of x){const C=w[1],T=b.match(new RegExp('<p:cNvPr[^>]*name="([^"]*)"[^>]*>',"i")),M=b.match(new RegExp('<p:cNvPr[^>]*descr="([^"]*)"[^>]*>',"i")),R=b.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();let z=`Image on slide ${g}`;const _=["chart","graph","diagram","figure","table","photo","image","illustration","screenshot","logo","flowchart","timeline","comparison","data","results","example","structure","process"],L=R.toLowerCase().split(/\s+/),$=_.filter(O=>L.some(j=>j.includes(O)));if($.length>0)z=`${$[0].charAt(0).toUpperCase()+$[0].slice(1)} (Slide ${g})`;else if(R.length>0){const O=L.slice(0,3).join(" ");O.length>5&&(z=`Image: ${O}... (Slide ${g})`)}let Z;try{const O=`ppt/slides/_rels/slide${g}.xml.rels`;if(a.files[O]){const F=a.files[O].asText().match(new RegExp(`Id="${C}"[^>]*Target="([^"]*)"`,"i"));if(F){const N=F[1],G=N.startsWith("../")?`ppt/${N.substring(3)}`:`ppt/slides/${N}`;if(a.files[G]){const H=a.files[G].asUint8Array();let Q="image/jpeg";const te=G.toLowerCase();if(te.includes(".png"))Q="image/png";else if(te.includes(".gif"))Q="image/gif";else if(te.includes(".bmp"))Q="image/bmp";else if(te.includes(".webp"))Q="image/webp";else if(te.includes(".emf")||te.includes(".wmf")){console.warn(`Skipping unsupported vector image format: ${G}`);continue}Z=new Blob([H],{type:Q}),console.log(`Extracted image blob for slide ${g}:`,{size:Z.size,type:Q,path:G})}}}}catch(O){console.warn(`Failed to extract image blob for ${C} on slide ${g}:`,O)}u.push({slideNumber:g,description:(T==null?void 0:T[1])||z,altText:(M==null?void 0:M[1])||void 0,filename:C,embedId:C,imageBlob:Z})}const y=b.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();y&&(s+=`
--- Slide ${g} ---
${y}
`);const A=u.filter(w=>w.slideNumber===g);A.length>0&&(s+=`
[IMAGES ON SLIDE ${g}]: `,A.forEach(w=>{s+=`"${w.description}"${w.altText?` (${w.altText})`:""}, `}),s=s.slice(0,-2)+`
`)}catch(b){console.warn(`Failed to extract text from ${m}:`,b)}const f=Object.keys(a.files).filter(m=>m.startsWith("ppt/notesSlides/notesSlide")&&m.endsWith(".xml"));for(const m of f)try{const g=a.files[m].asText().replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();if(g){const x=((t=m.match(/notesSlide(\d+)\.xml/))==null?void 0:t[1])||"unknown";s+=`
--- Notes for Slide ${x} ---
${g}
`}}catch(b){console.warn(`Failed to extract notes from ${m}:`,b)}if(!s.trim())throw new Error("No text content found in PowerPoint file");return{text:s.trim(),metadata:{slideCount:l,wordCount:s.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"PizZip",images:u.length>0?u:void 0}}}catch(r){throw{message:"Failed to extract text from PowerPoint file. Please ensure the file is not corrupted and contains text content.",code:"PPTX_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},oP=async e=>{try{const n=await e.text();return{text:n.trim(),metadata:{wordCount:n.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"Native"}}}catch(n){throw{message:"Failed to extract text from text file",code:"TXT_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},a7=async e=>{if(!e)throw{message:"No file provided",code:"NO_FILE_ERROR"};const n=e.type.toLowerCase(),t=e.name.toLowerCase();try{if(n==="application/pdf"||t.endsWith(".pdf"))return await iP(e);if(n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||t.endsWith(".docx"))return await aP(e);if(n==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||t.endsWith(".pptx"))return await sP(e);if(n==="text/plain"||t.endsWith(".txt"))return await oP(e);throw{message:`Unsupported file format: ${n||"unknown"}. Supported formats: PDF (.pdf), Word (.docx), PowerPoint (.pptx), Text (.txt)`,code:"UNSUPPORTED_FORMAT_ERROR"}}catch(r){throw r&&typeof r=="object"&&"code"in r?r:{message:`Failed to extract text from ${e.name}`,code:"GENERIC_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},s7=e=>{const t=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain"],r=[".pdf",".docx",".pptx",".txt"];if(e.size>524288e3)return{isValid:!1,error:`File size (${(e.size/1024/1024).toFixed(1)}MB) exceeds the maximum limit of 500MB.`};const i=e.type.toLowerCase(),a=e.name.toLowerCase(),s=t.includes(i),l=r.some(u=>a.endsWith(u));return!s&&!l?{isValid:!1,error:`Unsupported file format. Please upload files with extensions: ${r.join(", ")}`}:{isValid:!0}},o7=e=>{const n=e.type.toLowerCase(),t=e.name.toLowerCase();return n==="application/pdf"||t.endsWith(".pdf")?"PDF Document":n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||t.endsWith(".docx")?"Word Document":n==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||t.endsWith(".pptx")?"PowerPoint Presentation":n==="text/plain"||t.endsWith(".txt")?"Text File":"Unknown Format"},lP=e=>{const n=e.size/1048576,t=e.type.toLowerCase();let r=0;return t==="application/pdf"?r=Math.max(2,n*.5):t==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?r=Math.max(1,n*.3):t==="application/vnd.openxmlformats-officedocument.presentationml.presentation"?r=Math.max(1.5,n*.4):r=Math.max(.5,n*.1),Math.round(r)};class uP{constructor(){tt(this,"storage",xp());tt(this,"DEFAULT_CHUNK_SIZE",5*1024*1024);tt(this,"DEFAULT_MAX_RETRIES",3);tt(this,"DEFAULT_TIMEOUT",6e4)}async uploadLargeFile(n,t,r={}){const i=Date.now(),{chunkSize:a=this.DEFAULT_CHUNK_SIZE,maxRetries:s=this.DEFAULT_MAX_RETRIES,timeoutMs:l=this.DEFAULT_TIMEOUT,onProgress:u,onChunkComplete:d}=r,f=500*1024*1024;if(n.size>f)throw new Error(`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`);if(!(n.size>a))return this.uploadStandardFile(n,t,u);console.log(` Starting chunked upload for ${n.name} (${(n.size/1024/1024).toFixed(1)}MB)`),u==null||u({stage:"preparing",percentage:0,bytesUploaded:0,totalBytes:n.size,currentOperation:"Preparing file for chunked upload..."});const b=this.createChunkMetadata(n,a),g=Ri(),x=`${t}_chunks_${g}`;u==null||u({stage:"preparing",percentage:5,totalChunks:b.length,bytesUploaded:0,totalBytes:n.size,currentOperation:`Created ${b.length} chunks for upload...`});try{await this.uploadChunks(n,b,x,{maxRetries:s,timeoutMs:l,onProgress:w=>{const C=this.calculateOverallProgress(b,w);u==null||u({stage:"uploading",percentage:5+C*.85,currentChunk:w.currentChunk,totalChunks:b.length,bytesUploaded:w.bytesUploaded,totalBytes:n.size,currentOperation:w.currentOperation,estimatedTimeRemaining:this.estimateTimeRemaining(i,C)})},onChunkComplete:d}),u==null||u({stage:"assembling",percentage:90,totalChunks:b.length,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Assembling chunks into final file..."});const y=await this.assembleChunks(n,b,t,g);u==null||u({stage:"completed",percentage:100,totalChunks:b.length,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Upload completed successfully!"});const A=Date.now()-i;return console.log(` Chunked upload completed in ${(A/1e3).toFixed(1)}s`),{...y,chunks:b.length,uploadTime:A}}catch(y){throw console.error(" Chunked upload failed:",y),await this.cleanupFailedUpload(b),y}}createChunkMetadata(n,t){const r=[];let i=0;for(;i<n.size;){const a=Math.min(i+t,n.size);r.push({index:r.length,size:a-i,start:i,end:a,retries:0}),i=a}return r}async uploadChunks(n,t,r,i){const{maxRetries:a,timeoutMs:s,onProgress:l,onChunkComplete:u}=i;let d=0;const f=3;for(let m=0;m<t.length;m+=f){const g=t.slice(m,Math.min(m+f,t.length)).map(async x=>{const y=n.slice(x.start,x.end),A=`${r}/chunk_${x.index.toString().padStart(4,"0")}`;let w=null;for(let C=0;C<=a;C++)try{l==null||l({currentChunk:x.index+1,bytesUploaded:d,currentOperation:`Uploading chunk ${x.index+1}/${t.length} (attempt ${C+1})`});const T=await this.uploadSingleChunk(y,A,s);x.uploadUrl=T.url,x.uploadPath=T.path,d+=x.size,u==null||u(x.index,t.length),console.log(` Chunk ${x.index+1}/${t.length} uploaded successfully`);return}catch(T){w=T,x.retries=C+1,C<a&&(console.warn(` Chunk ${x.index+1} failed (attempt ${C+1}), retrying...`),await this.delay(Math.pow(2,C)*1e3))}throw new Error(`Failed to upload chunk ${x.index+1} after ${a+1} attempts: ${w==null?void 0:w.message}`)});await Promise.all(g),m+f<t.length&&await this.delay(500)}}async uploadSingleChunk(n,t,r){const i=xc(this.storage,t),a=async()=>{const l=await Hf(i,n);return{url:await Wf(l.ref),path:l.ref.fullPath}},s=new Promise((l,u)=>{setTimeout(()=>u(new Error(`Chunk upload timeout after ${r}ms`)),r)});return Promise.race([a(),s])}async assembleChunks(n,t,r,i){const a=await this.reconstructFileFromChunks(n,t),s=xc(this.storage,r),l=await Hf(s,a),u=await Wf(l.ref);return await this.cleanupChunks(t),{url:u,path:l.ref.fullPath,name:n.name,type:n.type,size:n.size,uploadedAt:new Date}}async reconstructFileFromChunks(n,t){const r=[];for(const i of t.sort((a,s)=>a.index-s.index))r.push(n.slice(i.start,i.end));return new Blob(r,{type:n.type})}async uploadStandardFile(n,t,r){const i=Date.now(),a=xc(this.storage,t);r==null||r({stage:"uploading",percentage:10,bytesUploaded:0,totalBytes:n.size,currentOperation:"Uploading file..."});const s=await Hf(a,n);r==null||r({stage:"uploading",percentage:90,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Getting download URL..."});const l=await Wf(s.ref);r==null||r({stage:"completed",percentage:100,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Upload completed!"});const u=Date.now()-i;return{url:l,path:s.ref.fullPath,name:n.name,type:n.type,size:n.size,uploadedAt:new Date,chunks:1,uploadTime:u}}calculateOverallProgress(n,t){const r=n.filter(a=>a.uploadUrl).length,i=t.currentChunk?t.bytesUploaded/n.reduce((a,s)=>a+s.size,0):0;return(r+i)/n.length}estimateTimeRemaining(n,t){if(t<=0)return 0;const r=Date.now()-n,i=r/t;return Math.max(0,i-r)}async cleanupChunks(n){const t=n.filter(r=>r.uploadPath).map(async r=>{try{const i=xc(this.storage,r.uploadPath);await Cj(i)}catch(i){console.warn(`Failed to cleanup chunk ${r.index}:`,i)}});await Promise.allSettled(t)}async cleanupFailedUpload(n){console.log(" Cleaning up failed chunked upload..."),await this.cleanupChunks(n)}delay(n){return new Promise(t=>setTimeout(t,n))}validateFileForChunkedUpload(n){return n.size>524288e3?{isValid:!1,error:`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`}:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(n.type)?{isValid:!0}:{isValid:!1,error:`Unsupported file type: ${n.type}. Supported formats: PowerPoint, PDF, Word, Text files`}}}const t_=new uP;class cP{constructor(){tt(this,"storage",xp())}async uploadOriginalFile(n,t,r,i){return n.size>26214400?(console.log(` File is large (${(n.size/1024/1024).toFixed(1)}MB), using chunked upload`),this.uploadOriginalFileEnhanced(n,t,r,i?s=>i(s.percentage):void 0)):this.uploadOriginalFileStandard(n,t,r,i)}async uploadOriginalFileEnhanced(n,t,r,i){const a=t_.validateFileForChunkedUpload(n);if(!a.isValid)throw new Error(a.error);const s=n.name.split(".").pop()||"",l=r||Ri(),u=`${n.name.replace(/\.[^/.]+$/,"")}_${l}.${s}`,d=`original-files/${t}/${u}`;console.log(" Starting enhanced original file upload:",{fileName:u,fileSize:n.size,fileType:n.type,courseId:t,chunked:!0});try{const f=await t_.uploadLargeFile(n,d,{chunkSize:5242880,maxRetries:3,timeoutMs:6e4,onProgress:i,onChunkComplete:(b,g)=>{console.log(` Chunk ${b+1}/${g} completed`)}}),m={name:n.name,type:n.type,size:n.size,url:f.url,uploadedAt:new Date};return console.log(" Enhanced original file uploaded successfully:",{originalName:n.name,storageName:u,url:f.url,size:n.size,chunks:f.chunks,uploadTime:`${(f.uploadTime/1e3).toFixed(1)}s`}),m}catch(f){throw console.error(" Enhanced original file upload failed:",f),new Error(`Failed to upload original file: ${f instanceof Error?f.message:"Unknown error"}`)}}async uploadOriginalFileStandard(n,t,r,i){try{const a=n.name.split(".").pop()||"",s=r||Ri(),l=`${n.name.replace(/\.[^/.]+$/,"")}_${s}.${a}`,u=xc(this.storage,`original-files/${t}/${l}`);console.log(" Starting original file upload:",{fileName:l,fileSize:n.size,fileType:n.type,courseId:t}),i==null||i(10);const d=await Hf(u,n);i==null||i(70);const f=await Wf(d.ref);i==null||i(100);const m={name:n.name,type:n.type,size:n.size,url:f,uploadedAt:new Date};return console.log(" Original file uploaded successfully:",{originalName:n.name,storageName:l,url:f,size:n.size}),m}catch(a){throw console.error(" Original file upload failed:",a),new Error(`Failed to upload original file: ${a instanceof Error?a.message:"Unknown error"}`)}}async deleteOriginalFile(n){try{const r=new URL(n).pathname.match(/\/o\/(.+?)\?/);if(!r)throw new Error("Invalid Firebase Storage URL format");const i=decodeURIComponent(r[1]),a=xc(this.storage,i);await Cj(a),console.log(" Original file deleted successfully:",i)}catch(t){console.error(" Original file deletion failed:",t),console.warn("Continuing despite file deletion failure")}}async replaceOriginalFile(n,t,r,i,a){try{return i&&await this.deleteOriginalFile(i),await this.uploadOriginalFile(n,t,r,a)}catch(s){throw console.error(" Original file replacement failed:",s),new Error(`Failed to replace original file: ${s instanceof Error?s.message:"Unknown error"}`)}}getFileExtension(n){var t;return((t=n.split(".").pop())==null?void 0:t.toLowerCase())||""}validateFile(n){return n.size>524288e3?{isValid:!1,error:`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`}:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(n.type)?{isValid:!0}:{isValid:!1,error:`Unsupported file type: ${n.type}. Supported formats: PowerPoint, PDF, Word, Text files`}}}const z5=new cP,n_={isProcessing:!1,progress:null,error:null,uploadedFile:null,extractedText:null,extractionResult:null,originalFileUploadProgress:null,originalFileUrl:null,aiExtractedData:null,convertedMaterial:null,processingOptions:{maxOutputTokens:4096,topK:1,topP:.1,preserveFormatting:!0,extractImages:!0,extractLinks:!0}},Ed=vp()(Q1((e,n)=>({...n_,setUploadedFile:t=>{const{originalFileUrl:r}=n();r&&t&&t.name!==r&&z5.deleteOriginalFile(r).catch(i=>{console.warn("Failed to delete previous original file:",i)}),e({uploadedFile:t,extractedText:null,extractionResult:null,originalFileUploadProgress:null,originalFileUrl:null,aiExtractedData:null,convertedMaterial:null,error:null})},extractTextFromFile:async()=>{const{uploadedFile:t}=n();if(!t){e({error:"No file uploaded"});return}try{const r=s7(t);if(!r.isValid){e({error:r.error||"Invalid file"});return}}catch(r){console.error("File validation error:",r),e({error:"Failed to validate file"});return}e({isProcessing:!0,error:null,progress:{stage:"extracting",percentage:10,currentOperation:`Extracting text from ${o7(t)}...`}});try{const r=await a7(t);if(!r||!r.text||r.text.trim().length===0)throw new Error("No text content could be extracted from the file");const i=r.text.trim().split(/\s+/).length;i<5&&console.warn("Very short text extracted:",{wordCount:i,text:r.text.substring(0,100)}),e({extractedText:r.text,extractionResult:r,progress:{stage:"extracting",percentage:100,currentOperation:"Text extraction complete!"}}),setTimeout(()=>{e({isProcessing:!1,progress:null})},500)}catch(r){console.error("Text extraction error:",r);const i=r;let a="Failed to extract text from file";i.code==="PDF_EXTRACTION_ERROR"?a="Could not extract text from PDF. The file may be image-based or corrupted.":i.code==="DOCX_EXTRACTION_ERROR"?a="Could not extract text from Word document. Please check the file is not corrupted.":i.code==="PPTX_EXTRACTION_ERROR"?a="Could not extract text from PowerPoint presentation. Please ensure it contains text content.":i.message&&(a=i.message),e({error:a,isProcessing:!1,progress:null})}},processWithAI:async(t,r,i)=>{var f;const{uploadedFile:a,extractedText:s,extractionResult:l,processingOptions:u}=n();if(!(t!=null&&t.trim())){e({error:"Course ID is required for AI processing"});return}if(!(r!=null&&r.trim())){e({error:"Author ID is required for AI processing"});return}if(!a||!(s!=null&&s.trim())){e({error:"No file or extracted text available for AI processing"});return}const d=s.trim().split(/\s+/).length;if(d<10){e({error:"Extracted text is too short for meaningful AI processing (minimum 10 words required)"});return}d>5e4&&console.warn("Very large text content detected:",{wordCount:d,fileName:a.name}),e({isProcessing:!0,error:null,progress:{stage:"analyzing",percentage:0,currentOperation:"Initializing AI processing..."}});try{let m;try{m=aS(i)}catch(w){console.error("Service initialization error:",w);let C="Material import service not available.";w instanceof Error&&(w.message.includes("API key")?C="API key not configured. Please set VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.":C=`Service error: ${w.message}`),e({error:C,isProcessing:!1,progress:null});return}const b={maxOutputTokens:Math.min(Math.max(u.maxOutputTokens||16384,8192),32768),topK:Math.min(Math.max(u.topK||3,1),10),topP:Math.min(Math.max(u.topP||.9,.1),1),preserveFormatting:!!u.preserveFormatting,extractImages:!!u.extractImages,extractLinks:!!u.extractLinks},g=12e4,x=new Promise((w,C)=>{setTimeout(()=>C(new Error("AI processing timeout - please try with a smaller file")),g)}),y=await Promise.race([m.processMaterialContent(s,a.name,a.type,b,w=>{w&&typeof w=="object"&&e({progress:w})},l==null?void 0:l.metadata),x]);if(!y||typeof y!="object")throw new Error("Invalid AI processing result received");(f=y.title)!=null&&f.trim()||(console.warn("AI result missing title, using filename as fallback"),y.title=a.name.replace(/\.[^/.]+$/,"")||"Untitled Material"),(!y.sections||!Array.isArray(y.sections)||y.sections.length===0)&&(console.warn("AI result missing sections, creating default section"),y.sections=[{title:"Main Content",content:"Content extracted from uploaded material.",subsections:[],images:[],links:[]}]);const A=m.convertToMaterialFormat(y,t,r,l==null?void 0:l.metadata);e({aiExtractedData:y,convertedMaterial:A,isProcessing:!1,progress:{stage:"complete",percentage:100,currentOperation:"Material processing complete!"}}),setTimeout(()=>{e({progress:null})},1500)}catch(m){console.error("AI processing error:",m);let b="Failed to process material with AI";m instanceof Error&&(m.message.includes("timeout")?b="AI processing timed out. Please try with a smaller file or simpler content.":m.message.includes("API key")||m.message.includes("API_KEY_INVALID")?b="Invalid API key. Please check your API key configuration.":m.message.includes("RATE_LIMIT")||m.message.includes("rate limit")?b="API rate limit exceeded. Please wait a few minutes before trying again.":m.message.includes("SAFETY")||m.message.includes("safety")?b="Content flagged by safety filters. Please try with different content.":m.message.includes("network")||m.message.includes("fetch")?b="Network error. Please check your internet connection and try again.":b=`AI processing failed: ${m.message}`),e({error:b,isProcessing:!1,progress:null})}},uploadOriginalFile:async(t,r)=>{const{uploadedFile:i}=n();if(!i){e({error:"No file selected for upload"});return}try{e({originalFileUploadProgress:0,error:null});const a=i.size>25*1024*1024,s=(i.size/1024/1024).toFixed(1);console.log(` Starting original file upload to Firebase Storage... (${s}MB, ${a?"chunked":"standard"} upload)`);const l=await z5.uploadOriginalFile(i,t,r,u=>{e({originalFileUploadProgress:u})});e({originalFileUrl:l.url,originalFileUploadProgress:null}),console.log(" Original file uploaded successfully:",{url:l.url,size:`${s}MB`,method:a?"chunked":"standard"})}catch(a){throw console.error(" Original file upload failed:",a),e({error:a instanceof Error?a.message:"Failed to upload original file",originalFileUploadProgress:null}),a}},replaceOriginalFile:async(t,r,i)=>{const{uploadedFile:a}=n();if(!a){e({error:"No file selected for replacement"});return}try{e({originalFileUploadProgress:0,error:null}),console.log(" Replacing original file in Firebase Storage...");const s=await z5.replaceOriginalFile(a,t,r,i,l=>{e({originalFileUploadProgress:l})});e({originalFileUrl:s.url,originalFileUploadProgress:null}),console.log(" Original file replaced successfully:",s.url)}catch(s){throw console.error(" Original file replacement failed:",s),e({error:s instanceof Error?s.message:"Failed to replace original file",originalFileUploadProgress:null}),s}},resetImport:()=>{try{aS().cleanupBlobUrls()}catch(t){console.warn("Failed to cleanup blob URLs during reset:",t)}e(n_)},setProcessingOptions:t=>{e(r=>({processingOptions:{...r.processingOptions,...t}}))},setError:t=>{e({error:t})}}),{name:"material-import-store",partialize:e=>({processingOptions:e.processingOptions})})),dP=()=>{const e=Ed();return{setUploadedFile:e.setUploadedFile,extractTextFromFile:e.extractTextFromFile,processWithAI:e.processWithAI,resetImport:e.resetImport,setProcessingOptions:e.setProcessingOptions,setError:e.setError}},fP=()=>{const e=Ed();return{isProcessing:e.isProcessing,progress:e.progress,error:e.error,uploadedFile:e.uploadedFile,extractedText:e.extractedText,aiExtractedData:e.aiExtractedData,convertedMaterial:e.convertedMaterial,processingOptions:e.processingOptions}},sS=async(e,n,t,r)=>{const i=Ed.getState(),{aiExtractedData:a,extractionResult:s}=i;if(!a)throw new Error("No AI result available for conversion");return await aS().convertToMaterialFormatWithImageUpload(a,e,n,t,s==null?void 0:s.metadata,r)},hP=()=>{const{extractedText:e,isProcessing:n}=Ed();return!n&&!!(e!=null&&e.trim())},pP=()=>{const{convertedMaterial:e,isProcessing:n}=Ed();return!n&&!!e},zhe=Object.freeze(Object.defineProperty({__proto__:null,convertMaterialWithImageUpload:sS,useIsImportComplete:pP,useIsReadyForAI:hP,useMaterialImportActions:dP,useMaterialImportStatus:fP,useMaterialImportStore:Ed},Symbol.toStringTag,{value:"Module"})),q5=({onDelete:e,itemType:n})=>{const[t,r]=st.useState(!1),i=()=>{r(!0)},a=()=>{r(!1)},s=()=>{e(),a()};return h.jsxs(h.Fragment,{children:[h.jsx(_n,{onClick:i,size:"small",children:h.jsx(Qj,{})}),h.jsxs(Zi,{open:t,onClose:a,children:[h.jsx(pa,{children:`Delete ${n}`}),h.jsx(Ji,{children:h.jsx(Ll,{children:`Are you sure you want to delete this ${n}? This action cannot be undone.`})}),h.jsxs(ma,{children:[h.jsx(Ct,{onClick:a,color:"primary",children:"Cancel"}),h.jsx(Ct,{onClick:s,color:"secondary",children:"Delete"})]})]})]})},l7=({sections:e,selected:n,onAddSection:t,onAddSubsection:r,onAddSubSubsection:i,onSelectSection:a,onUpdateSectionTitle:s,onUpdateSubsectionTitle:l,onUpdateSubSubsectionTitle:u,onDeleteSection:d,onDeleteSubsection:f,onDeleteSubSubsection:m,isViewMode:b=!1})=>{const[g,x]=X.useState(null),[y,A]=X.useState(null),[w,C]=X.useState(null),[T,M]=X.useState(""),[R,z]=X.useState(e.map(()=>!0)),[_,L]=X.useState(e.reduce((U,se,q)=>(U[q]=se.subsections.map(()=>!0),U),{}));X.useEffect(()=>{z(e.map(()=>!0))},[e]),X.useEffect(()=>{const U=e.reduce((se,q,B)=>(se[B]=q.subsections.map(()=>!0),se),{});L(U)},[e]);const $=U=>{const se=[...R];se[U]=!se[U],z(se)},Z=(U,se)=>{const q={..._};q[U][se]=!q[U][se],L(q)},O=(U,se)=>{g!==null?s(g,T):y?l(y.section,y.subsection,T):w&&u(w.section,w.subsection,w.subSubsection,T),x(U),A(null),C(null),M(se)},j=U=>{s(U,T),x(null),M("")},F=(U,se,q)=>{g!==null?s(g,T):y?l(y.section,y.subsection,T):w&&u(w.section,w.subsection,w.subSubsection,T),x(null),A({section:U,subsection:se}),C(null),M(q)},N=(U,se)=>{l(U,se,T),A(null),M("")},G=(U,se,q,B)=>{g!==null?s(g,T):y?l(y.section,y.subsection,T):w&&u(w.section,w.subsection,w.subSubsection,T),x(null),A(null),C({section:U,subsection:se,subSubsection:q}),M(B)},H=(U,se,q)=>{u(U,se,q,T),C(null),M("")},Q=(U,se,q,B)=>n.sectionIndex===U&&n.subsectionIndex===se&&n.subSubsectionIndex===q&&n.type===B,oe=RM||{width:"320px",minWidth:"320px",maxWidth:"320px",backgroundColor:"#F8FAFC",borderRight:"1px solid #E2E8F0"};return h.jsxs(de,{sx:{width:oe.width,minWidth:oe.minWidth,maxWidth:oe.maxWidth,backgroundColor:oe.backgroundColor,borderRight:oe.borderRight,height:"100%",display:"flex",flexDirection:"column"},children:[h.jsxs(de,{sx:{p:3,pb:2},children:[h.jsxs(he,{variant:"h6",sx:{fontFamily:ht.typography.h6.fontFamily,fontWeight:ht.typography.h6.fontWeight,color:ht.palette.text.primary,mb:2,display:"flex",alignItems:"center",gap:1},children:[h.jsx(g9,{sx:{fontSize:20}}),"Outline"]}),!b&&h.jsx(Ct,{variant:"contained",startIcon:h.jsx(mu,{}),onClick:t,sx:{width:"100%",borderRadius:Et.xl,textTransform:"none",fontWeight:600},children:"Add Section"})]}),h.jsx(qs,{}),h.jsx(de,{sx:{flex:1,overflow:"auto"},children:h.jsxs(Xh,{sx:{p:0},children:[h.jsx(xd,{onClick:()=>a("header"),sx:{cursor:"pointer",backgroundColor:Q(void 0,void 0,void 0,"header")?ht.palette.primary.light:"transparent",borderLeft:Q(void 0,void 0,void 0,"header")?`4px solid ${ht.palette.primary.main}`:"4px solid transparent",transition:ht.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ht.palette.action.hover}},children:h.jsx(fc,{primary:"Header",sx:{"& .MuiListItemText-primary":{fontFamily:ht.typography.body1.fontFamily,fontWeight:Q(void 0,void 0,void 0,"header")?600:400,color:Q(void 0,void 0,void 0,"header")?ht.palette.primary.main:ht.palette.text.primary}}})}),e.map((U,se)=>h.jsxs(de,{children:[h.jsx(xd,{onClick:()=>a(se),sx:{cursor:"pointer",backgroundColor:Q(se)?ht.palette.primary.light:"transparent",borderLeft:Q(se)?`4px solid ${ht.palette.primary.main}`:"4px solid transparent",transition:ht.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ht.palette.action.hover}},children:g===se?h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[h.jsx(Jt,{value:T,onChange:q=>M(q.target.value),size:"small",variant:"outlined",disabled:b,sx:{flex:1}}),!b&&h.jsx(_n,{onClick:()=>j(se),size:"small",color:"primary",children:h.jsx(M0,{})})]}):h.jsxs(h.Fragment,{children:[h.jsx(fc,{primary:U.title,sx:{"& .MuiListItemText-primary":{fontFamily:ht.typography.body1.fontFamily,fontWeight:Q(se)?600:400,color:Q(se)?ht.palette.primary.main:ht.palette.text.primary}}}),!b&&h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:.5},children:[h.jsx(fi,{title:"Edit Section",arrow:!0,children:h.jsx(_n,{onClick:q=>{q.stopPropagation(),O(se,U.title)},size:"small",sx:{color:ht.palette.primary.main},children:h.jsx(yu,{fontSize:"small"})})}),h.jsx(q5,{onDelete:()=>d(se),itemType:"section"})]}),U.subsections.length>0&&h.jsx(_n,{onClick:q=>{q.stopPropagation(),$(se)},size:"small",sx:{ml:1},children:R[se]?h.jsx(Nx,{fontSize:"small"}):h.jsx(Tl,{fontSize:"small"})}),!b&&h.jsx(fi,{title:"Add Subsection",arrow:!0,children:h.jsx(_n,{onClick:q=>{q.stopPropagation(),r(se)},size:"small",sx:{color:ht.palette.success.main},children:h.jsx(mu,{fontSize:"small"})})})]})}),h.jsx(_x,{in:R[se],timeout:"auto",unmountOnExit:!0,children:h.jsx(Xh,{sx:{pl:2},children:U.subsections.map((q,B)=>h.jsxs(de,{children:[h.jsx(xd,{onClick:()=>a(se,B),sx:{cursor:"pointer",backgroundColor:Q(se,B)?ht.palette.primary.light:"transparent",borderLeft:Q(se,B)?`4px solid ${ht.palette.primary.main}`:"4px solid transparent",transition:ht.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ht.palette.action.hover}},children:y&&y.section===se&&y.subsection===B?h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[h.jsx(Jt,{value:T,onChange:J=>M(J.target.value),size:"small",variant:"outlined",disabled:b,sx:{flex:1}}),!b&&h.jsx(_n,{onClick:()=>N(se,B),size:"small",color:"primary",children:h.jsx(M0,{})})]}):h.jsxs(h.Fragment,{children:[h.jsx(fc,{primary:q.title,sx:{"& .MuiListItemText-primary":{fontFamily:ht.typography.body2.fontFamily,fontWeight:Q(se,B)?600:400,color:Q(se,B)?ht.palette.primary.main:ht.palette.text.primary}}}),!b&&h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:.5},children:[h.jsx(fi,{title:"Edit Subsection",arrow:!0,children:h.jsx(_n,{onClick:J=>{J.stopPropagation(),F(se,B,q.title)},size:"small",sx:{color:ht.palette.primary.main},children:h.jsx(yu,{fontSize:"small"})})}),h.jsx(q5,{onDelete:()=>f(se,B),itemType:"subsection"})]}),q.subSubsections.length>0&&h.jsx(_n,{onClick:J=>{J.stopPropagation(),Z(se,B)},size:"small",sx:{ml:1},children:_[se][B]?h.jsx(Nx,{fontSize:"small"}):h.jsx(Tl,{fontSize:"small"})}),!b&&h.jsx(fi,{title:"Add Sub-subsection",arrow:!0,children:h.jsx(_n,{onClick:J=>{J.stopPropagation(),i(se,B)},size:"small",sx:{color:ht.palette.success.main},children:h.jsx(mu,{fontSize:"small"})})})]})}),h.jsx(_x,{in:_[se][B],timeout:"auto",unmountOnExit:!0,children:h.jsx(Xh,{sx:{pl:2},children:q.subSubsections.map((J,ne)=>h.jsx(xd,{onClick:()=>a(se,B,ne),sx:{cursor:"pointer",backgroundColor:Q(se,B,ne)?ht.palette.primary.light:"transparent",borderLeft:Q(se,B,ne)?`4px solid ${ht.palette.primary.main}`:"4px solid transparent",transition:ht.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ht.palette.action.hover}},children:w&&w.section===se&&w.subsection===B&&w.subSubsection===ne?h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[h.jsx(Jt,{value:T,onChange:le=>M(le.target.value),size:"small",variant:"outlined",disabled:b,sx:{flex:1}}),!b&&h.jsx(_n,{onClick:()=>H(se,B,ne),size:"small",color:"primary",children:h.jsx(M0,{})})]}):h.jsxs(h.Fragment,{children:[h.jsx(fc,{primary:J.title,sx:{"& .MuiListItemText-primary":{fontFamily:ht.typography.body2.fontFamily,fontWeight:Q(se,B,ne)?600:400,color:Q(se,B,ne)?ht.palette.primary.main:ht.palette.text.secondary,fontSize:"0.875rem"}}}),!b&&h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:.5},children:[h.jsx(fi,{title:"Edit Sub-subsection",arrow:!0,children:h.jsx(_n,{onClick:le=>{le.stopPropagation(),G(se,B,ne,J.title)},size:"small",sx:{color:ht.palette.primary.main},children:h.jsx(yu,{fontSize:"small"})})}),h.jsx(q5,{onDelete:()=>m(se,B,ne),itemType:"subSubsection"})]})]})},J.id))})})]},q.id))})})]},U.id)),h.jsx(xd,{onClick:()=>a("footer"),sx:{cursor:"pointer",backgroundColor:Q(void 0,void 0,void 0,"footer")?ht.palette.primary.light:"transparent",borderLeft:Q(void 0,void 0,void 0,"footer")?`4px solid ${ht.palette.primary.main}`:"4px solid transparent",transition:ht.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ht.palette.action.hover}},children:h.jsx(fc,{primary:"Footer",sx:{"& .MuiListItemText-primary":{fontFamily:ht.typography.body1.fontFamily,fontWeight:Q(void 0,void 0,void 0,"footer")?600:400,color:Q(void 0,void 0,void 0,"footer")?ht.palette.primary.main:ht.palette.text.primary}}})})]})})]})},mP=({returnToSelection:e=!1,courseId:n})=>{const t=ya(),[r]=V1(),i=r.get("course"),a=()=>{const s=n||i;t(e||!s?"/supplemental-materials":`/supplemental-materials?course=${s}`)};return h.jsx(Ct,{variant:"text",color:"primary",startIcon:h.jsx($j,{}),onClick:a,className:"supplemental-back-button",children:e?"Course Selection":"Course Materials"})},gP=({sectionId:e,images:n,onImagesChange:t})=>{const[r,i]=X.useState(!1),[a,s]=X.useState(""),[l,u]=X.useState("success"),[d,f]=X.useState(null),[m,b]=X.useState(""),g=xp(),x=async M=>{if(M.target.files){const R=Array.from(M.target.files),z=[];for(const _ of R)try{const L=await C(_),$=await T(L);z.push({url:$.url,title:`Image ${n.length+z.length+1}`,id:Ri()})}catch{s("Failed to upload images"),u("error"),i(!0)}t([...n,...z]),s("Image(s) uploaded successfully"),u("success"),i(!0)}},y=M=>{f(M),b(M.title)},A=()=>{if(d){const M=n.map(R=>R.url===d.url?{...R,title:m}:R);t(M),f(null),b("")}},w=M=>{const R=n.filter(z=>z.url!==M.url);t(R)},C=M=>new Promise((R,z)=>{M.size>5*1024*1024?i7.imageFileResizer(M,500,500,"JPEG",70,0,_=>{typeof _=="string"?z(new Error("Compression returned a string instead of a file")):R(_)},"file"):R(M)}),T=M=>new Promise((R,z)=>{const _=xc(g,`materials/${e}/${M.name}`);Hf(_,M).then(L=>{Wf(L.ref).then($=>{R({url:$,path:L.ref.fullPath})})}).catch(L=>z(L))});return h.jsxs(de,{children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",mb:2},children:[h.jsx(b9,{sx:{mr:1,color:ht.palette.primary.main}}),h.jsx(he,{variant:"h6",sx:{fontWeight:600,color:ht.palette.text.primary},children:"Images"}),h.jsx(cr,{label:`${n.length} image${n.length!==1?"s":""}`,size:"small",sx:{ml:2}})]}),h.jsxs(Ct,{variant:"contained",component:"label",startIcon:h.jsx(mu,{}),sx:{mb:3,textTransform:"none",borderRadius:Et.xl},children:["Add Images",h.jsx("input",{type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:x})]}),n.length>0&&h.jsx(wt,{container:!0,spacing:2,children:n.map((M,R)=>h.jsx(wt,{item:!0,xs:12,sm:6,md:4,children:h.jsxs(Za,{sx:{borderRadius:Et.xl,border:`1px solid ${ht.palette.divider}`,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{boxShadow:ht.shadows[4],transform:"translateY(-2px)"}},children:[h.jsxs(de,{sx:{position:"relative"},children:[h.jsx("img",{src:M.url,alt:M.title,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:`${Et.xl} ${Et.xl} 0 0`}}),h.jsxs(de,{sx:{position:"absolute",top:8,right:8,display:"flex",gap:.5},children:[h.jsx(_n,{size:"small",onClick:()=>y(M),sx:{backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:ht.palette.primary.main,color:"white"}},children:h.jsx(yu,{fontSize:"small"})}),h.jsx(_n,{size:"small",onClick:()=>w(M),sx:{backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:ht.palette.error.main,color:"white"}},children:h.jsx(gu,{fontSize:"small"})})]})]}),h.jsx(Ja,{sx:{p:2},children:h.jsx(he,{variant:"body2",sx:{fontWeight:500,color:ht.palette.text.primary,wordBreak:"break-word"},children:M.title})})]})},M.id||R))}),h.jsxs(Zi,{open:!!d,onClose:()=>f(null),maxWidth:"sm",fullWidth:!0,children:[h.jsx(pa,{sx:{pb:1},children:h.jsxs(de,{sx:{display:"flex",alignItems:"center"},children:[h.jsx(yu,{sx:{mr:1,color:ht.palette.primary.main}}),"Edit Image Title"]})}),h.jsx(Ji,{children:h.jsx(Jt,{fullWidth:!0,label:"Image Title",value:m,onChange:M=>b(M.target.value),variant:"outlined",sx:{mt:2}})}),h.jsxs(ma,{sx:{p:3,pt:1},children:[h.jsx(Ct,{onClick:()=>f(null),startIcon:h.jsx(D6,{}),sx:{textTransform:"none"},children:"Cancel"}),h.jsx(Ct,{onClick:A,variant:"contained",startIcon:h.jsx(M0,{}),sx:{textTransform:"none"},children:"Save Changes"})]})]}),h.jsx(Rl,{open:r,autoHideDuration:6e3,onClose:()=>i(!1),children:h.jsx(rr,{onClose:()=>i(!1),severity:l,sx:{width:"100%"},children:a})})]})},bP=({links:e,onLinksChange:n})=>{const t=()=>{const s={title:"",url:"",description:""};n([...e,s])},r=s=>{const l=e.filter((u,d)=>d!==s);n(l)},i=(s,l,u)=>{const d=[...e];d[s][l]=u,n(d)},a=s=>{try{return new URL(s),!0}catch{return!1}};return h.jsxs(de,{children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",mb:2},children:[h.jsx(y9,{sx:{mr:1,color:ht.palette.primary.main}}),h.jsx(he,{variant:"h6",sx:{fontWeight:600,color:ht.palette.text.primary},children:"Links"}),h.jsx(cr,{label:`${e.length} link${e.length!==1?"s":""}`,size:"small",sx:{ml:2}})]}),h.jsx(Ct,{variant:"contained",onClick:t,startIcon:h.jsx(mu,{}),sx:{mb:3,textTransform:"none",borderRadius:Et.xl},children:"Add Link"}),e.length>0&&h.jsx(de,{sx:{display:"flex",flexDirection:"column",gap:2},children:e.map((s,l)=>h.jsxs(Za,{sx:{borderRadius:Et.xl,border:`1px solid ${ht.palette.divider}`,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{boxShadow:ht.shadows[2]}},children:[h.jsx(Ja,{sx:{p:3},children:h.jsxs(wt,{container:!0,spacing:2,children:[h.jsx(wt,{item:!0,xs:12,sm:6,children:h.jsx(Jt,{fullWidth:!0,label:"Link Title",value:s.title,onChange:u=>i(l,"title",u.target.value),variant:"outlined",size:"small",placeholder:"Enter link title",sx:{"& .MuiOutlinedInput-root":{borderRadius:Et.xl}}})}),h.jsx(wt,{item:!0,xs:12,sm:6,children:h.jsx(Jt,{fullWidth:!0,label:"URL",value:s.url,onChange:u=>i(l,"url",u.target.value),variant:"outlined",size:"small",placeholder:"https://example.com",error:s.url&&!a(s.url),helperText:s.url&&!a(s.url)?"Please enter a valid URL":"",sx:{"& .MuiOutlinedInput-root":{borderRadius:Et.xl}}})}),h.jsx(wt,{item:!0,xs:12,children:h.jsx(Jt,{fullWidth:!0,label:"Description (Optional)",value:s.description,onChange:u=>i(l,"description",u.target.value),variant:"outlined",size:"small",multiline:!0,rows:2,placeholder:"Enter link description",sx:{"& .MuiOutlinedInput-root":{borderRadius:Et.xl}}})})]})}),h.jsx(qs,{}),h.jsxs(uj,{sx:{p:2,justifyContent:"space-between"},children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.url&&a(s.url)&&h.jsx(fi,{title:"Open link",arrow:!0,children:h.jsx(_n,{size:"small",onClick:()=>window.open(s.url,"_blank"),sx:{color:ht.palette.primary.main,"&:hover":{backgroundColor:ht.palette.primary.light}},children:h.jsx(x9,{fontSize:"small"})})}),h.jsxs(he,{variant:"caption",color:"text.secondary",children:["Link ",l+1]})]}),h.jsx(fi,{title:"Delete link",arrow:!0,children:h.jsx(_n,{size:"small",onClick:()=>r(l),sx:{color:ht.palette.error.main,"&:hover":{backgroundColor:ht.palette.error.light}},children:h.jsx(gu,{fontSize:"small"})})})]})]},l))})]})};var u7=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,yP=typeof self=="object"&&self&&self.Object===Object&&self,zc=u7||yP||Function("return this")(),Zf=zc.Symbol,c7=Object.prototype,xP=c7.hasOwnProperty,vP=c7.toString,vg=Zf?Zf.toStringTag:void 0;function wP(e){var n=xP.call(e,vg),t=e[vg];try{e[vg]=void 0;var r=!0}catch{}var i=vP.call(e);return r&&(n?e[vg]=t:delete e[vg]),i}var SP=Object.prototype,AP=SP.toString;function CP(e){return AP.call(e)}var EP="[object Null]",kP="[object Undefined]",r_=Zf?Zf.toStringTag:void 0;function mm(e){return e==null?e===void 0?kP:EP:r_&&r_ in Object(e)?wP(e):CP(e)}function Dd(e){return e!=null&&typeof e=="object"}var cp=Array.isArray;function lh(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function d7(e){return e}var _P="[object AsyncFunction]",NP="[object Function]",TP="[object GeneratorFunction]",jP="[object Proxy]";function W6(e){if(!lh(e))return!1;var n=mm(e);return n==NP||n==TP||n==_P||n==jP}var B5=zc["__core-js_shared__"],i_=function(){var e=/[^.]+$/.exec(B5&&B5.keys&&B5.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function OP(e){return!!i_&&i_ in e}var IP=Function.prototype,DP=IP.toString;function Ap(e){if(e!=null){try{return DP.call(e)}catch{}try{return e+""}catch{}}return""}var LP=/[\\^$.*+?()[\]{}|]/g,RP=/^\[object .+?Constructor\]$/,MP=Function.prototype,FP=Object.prototype,PP=MP.toString,zP=FP.hasOwnProperty,qP=RegExp("^"+PP.call(zP).replace(LP,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function BP(e){if(!lh(e)||OP(e))return!1;var n=W6(e)?qP:RP;return n.test(Ap(e))}function $P(e,n){return e==null?void 0:e[n]}function Cp(e,n){var t=$P(e,n);return BP(t)?t:void 0}var oS=Cp(zc,"WeakMap"),a_=Object.create,UP=function(){function e(){}return function(n){if(!lh(n))return{};if(a_)return a_(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}();function HP(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}function WP(e,n){var t=-1,r=e.length;for(n||(n=Array(r));++t<r;)n[t]=e[t];return n}var YP=800,VP=16,GP=Date.now;function QP(e){var n=0,t=0;return function(){var r=GP(),i=VP-(r-t);if(t=r,i>0){if(++n>=YP)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}function KP(e){return function(){return e}}var Dx=function(){try{var e=Cp(Object,"defineProperty");return e({},"",{}),e}catch{}}(),XP=Dx?function(e,n){return Dx(e,"toString",{configurable:!0,enumerable:!1,value:KP(n),writable:!0})}:d7,ZP=QP(XP);function JP(e,n){for(var t=-1,r=e==null?0:e.length;++t<r&&n(e[t],t,e)!==!1;);return e}var ez=9007199254740991,tz=/^(?:0|[1-9]\d*)$/;function f7(e,n){var t=typeof e;return n=n??ez,!!n&&(t=="number"||t!="symbol"&&tz.test(e))&&e>-1&&e%1==0&&e<n}function Y6(e,n,t){n=="__proto__"&&Dx?Dx(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function X1(e,n){return e===n||e!==e&&n!==n}var nz=Object.prototype,rz=nz.hasOwnProperty;function h7(e,n,t){var r=e[n];(!(rz.call(e,n)&&X1(r,t))||t===void 0&&!(n in e))&&Y6(e,n,t)}function iz(e,n,t,r){var i=!t;t||(t={});for(var a=-1,s=n.length;++a<s;){var l=n[a],u=void 0;u===void 0&&(u=e[l]),i?Y6(t,l,u):h7(t,l,u)}return t}var s_=Math.max;function az(e,n,t){return n=s_(n===void 0?e.length-1:n,0),function(){for(var r=arguments,i=-1,a=s_(r.length-n,0),s=Array(a);++i<a;)s[i]=r[n+i];i=-1;for(var l=Array(n+1);++i<n;)l[i]=r[i];return l[n]=t(s),HP(e,this,l)}}function sz(e,n){return ZP(az(e,n,d7),e+"")}var oz=9007199254740991;function p7(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=oz}function vv(e){return e!=null&&p7(e.length)&&!W6(e)}function lz(e,n,t){if(!lh(t))return!1;var r=typeof n;return(r=="number"?vv(t)&&f7(n,t.length):r=="string"&&n in t)?X1(t[n],e):!1}function uz(e){return sz(function(n,t){var r=-1,i=t.length,a=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,s&&lz(t[0],t[1],s)&&(a=i<3?void 0:a,i=1),n=Object(n);++r<i;){var l=t[r];l&&e(n,l,r,a)}return n})}var cz=Object.prototype;function V6(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||cz;return e===t}function dz(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t);return r}var fz="[object Arguments]";function o_(e){return Dd(e)&&mm(e)==fz}var m7=Object.prototype,hz=m7.hasOwnProperty,pz=m7.propertyIsEnumerable,lS=o_(function(){return arguments}())?o_:function(e){return Dd(e)&&hz.call(e,"callee")&&!pz.call(e,"callee")};function mz(){return!1}var g7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,l_=g7&&typeof module=="object"&&module&&!module.nodeType&&module,gz=l_&&l_.exports===g7,u_=gz?zc.Buffer:void 0,bz=u_?u_.isBuffer:void 0,y1=bz||mz,yz="[object Arguments]",xz="[object Array]",vz="[object Boolean]",wz="[object Date]",Sz="[object Error]",Az="[object Function]",Cz="[object Map]",Ez="[object Number]",kz="[object Object]",_z="[object RegExp]",Nz="[object Set]",Tz="[object String]",jz="[object WeakMap]",Oz="[object ArrayBuffer]",Iz="[object DataView]",Dz="[object Float32Array]",Lz="[object Float64Array]",Rz="[object Int8Array]",Mz="[object Int16Array]",Fz="[object Int32Array]",Pz="[object Uint8Array]",zz="[object Uint8ClampedArray]",qz="[object Uint16Array]",Bz="[object Uint32Array]",di={};di[Dz]=di[Lz]=di[Rz]=di[Mz]=di[Fz]=di[Pz]=di[zz]=di[qz]=di[Bz]=!0;di[yz]=di[xz]=di[Oz]=di[vz]=di[Iz]=di[wz]=di[Sz]=di[Az]=di[Cz]=di[Ez]=di[kz]=di[_z]=di[Nz]=di[Tz]=di[jz]=!1;function $z(e){return Dd(e)&&p7(e.length)&&!!di[mm(e)]}function G6(e){return function(n){return e(n)}}var b7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,e1=b7&&typeof module=="object"&&module&&!module.nodeType&&module,Uz=e1&&e1.exports===b7,$5=Uz&&u7.process,tm=function(){try{var e=e1&&e1.require&&e1.require("util").types;return e||$5&&$5.binding&&$5.binding("util")}catch{}}(),c_=tm&&tm.isTypedArray,Q6=c_?G6(c_):$z,Hz=Object.prototype,Wz=Hz.hasOwnProperty;function y7(e,n){var t=cp(e),r=!t&&lS(e),i=!t&&!r&&y1(e),a=!t&&!r&&!i&&Q6(e),s=t||r||i||a,l=s?dz(e.length,String):[],u=l.length;for(var d in e)(n||Wz.call(e,d))&&!(s&&(d=="length"||i&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||f7(d,u)))&&l.push(d);return l}function x7(e,n){return function(t){return e(n(t))}}var Yz=x7(Object.keys,Object),Vz=Object.prototype,Gz=Vz.hasOwnProperty;function Qz(e){if(!V6(e))return Yz(e);var n=[];for(var t in Object(e))Gz.call(e,t)&&t!="constructor"&&n.push(t);return n}function Kz(e){return vv(e)?y7(e):Qz(e)}function Xz(e){var n=[];if(e!=null)for(var t in Object(e))n.push(t);return n}var Zz=Object.prototype,Jz=Zz.hasOwnProperty;function eq(e){if(!lh(e))return Xz(e);var n=V6(e),t=[];for(var r in e)r=="constructor"&&(n||!Jz.call(e,r))||t.push(r);return t}function v7(e){return vv(e)?y7(e,!0):eq(e)}var x1=Cp(Object,"create");function tq(){this.__data__=x1?x1(null):{},this.size=0}function nq(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var rq="__lodash_hash_undefined__",iq=Object.prototype,aq=iq.hasOwnProperty;function sq(e){var n=this.__data__;if(x1){var t=n[e];return t===rq?void 0:t}return aq.call(n,e)?n[e]:void 0}var oq=Object.prototype,lq=oq.hasOwnProperty;function uq(e){var n=this.__data__;return x1?n[e]!==void 0:lq.call(n,e)}var cq="__lodash_hash_undefined__";function dq(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=x1&&n===void 0?cq:n,this}function dp(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}dp.prototype.clear=tq;dp.prototype.delete=nq;dp.prototype.get=sq;dp.prototype.has=uq;dp.prototype.set=dq;function fq(){this.__data__=[],this.size=0}function wv(e,n){for(var t=e.length;t--;)if(X1(e[t][0],n))return t;return-1}var hq=Array.prototype,pq=hq.splice;function mq(e){var n=this.__data__,t=wv(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():pq.call(n,t,1),--this.size,!0}function gq(e){var n=this.__data__,t=wv(n,e);return t<0?void 0:n[t][1]}function bq(e){return wv(this.__data__,e)>-1}function yq(e,n){var t=this.__data__,r=wv(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}function $d(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}$d.prototype.clear=fq;$d.prototype.delete=mq;$d.prototype.get=gq;$d.prototype.has=bq;$d.prototype.set=yq;var v1=Cp(zc,"Map");function xq(){this.size=0,this.__data__={hash:new dp,map:new(v1||$d),string:new dp}}function vq(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function Sv(e,n){var t=e.__data__;return vq(n)?t[typeof n=="string"?"string":"hash"]:t.map}function wq(e){var n=Sv(this,e).delete(e);return this.size-=n?1:0,n}function Sq(e){return Sv(this,e).get(e)}function Aq(e){return Sv(this,e).has(e)}function Cq(e,n){var t=Sv(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}function Ep(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Ep.prototype.clear=xq;Ep.prototype.delete=wq;Ep.prototype.get=Sq;Ep.prototype.has=Aq;Ep.prototype.set=Cq;function Eq(e,n){for(var t=-1,r=n.length,i=e.length;++t<r;)e[i+t]=n[t];return e}var w7=x7(Object.getPrototypeOf,Object),kq="[object Object]",_q=Function.prototype,Nq=Object.prototype,S7=_q.toString,Tq=Nq.hasOwnProperty,jq=S7.call(Object);function Oq(e){if(!Dd(e)||mm(e)!=kq)return!1;var n=w7(e);if(n===null)return!0;var t=Tq.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&S7.call(t)==jq}function Iq(){this.__data__=new $d,this.size=0}function Dq(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function Lq(e){return this.__data__.get(e)}function Rq(e){return this.__data__.has(e)}var Mq=200;function Fq(e,n){var t=this.__data__;if(t instanceof $d){var r=t.__data__;if(!v1||r.length<Mq-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new Ep(r)}return t.set(e,n),this.size=t.size,this}function Ac(e){var n=this.__data__=new $d(e);this.size=n.size}Ac.prototype.clear=Iq;Ac.prototype.delete=Dq;Ac.prototype.get=Lq;Ac.prototype.has=Rq;Ac.prototype.set=Fq;var A7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,d_=A7&&typeof module=="object"&&module&&!module.nodeType&&module,Pq=d_&&d_.exports===A7,f_=Pq?zc.Buffer:void 0,h_=f_?f_.allocUnsafe:void 0;function C7(e,n){if(n)return e.slice();var t=e.length,r=h_?h_(t):new e.constructor(t);return e.copy(r),r}function zq(e,n){for(var t=-1,r=e==null?0:e.length,i=0,a=[];++t<r;){var s=e[t];n(s,t,e)&&(a[i++]=s)}return a}function qq(){return[]}var Bq=Object.prototype,$q=Bq.propertyIsEnumerable,p_=Object.getOwnPropertySymbols,Uq=p_?function(e){return e==null?[]:(e=Object(e),zq(p_(e),function(n){return $q.call(e,n)}))}:qq;function Hq(e,n,t){var r=n(e);return cp(e)?r:Eq(r,t(e))}function uS(e){return Hq(e,Kz,Uq)}var cS=Cp(zc,"DataView"),dS=Cp(zc,"Promise"),fS=Cp(zc,"Set"),m_="[object Map]",Wq="[object Object]",g_="[object Promise]",b_="[object Set]",y_="[object WeakMap]",x_="[object DataView]",Yq=Ap(cS),Vq=Ap(v1),Gq=Ap(dS),Qq=Ap(fS),Kq=Ap(oS),pu=mm;(cS&&pu(new cS(new ArrayBuffer(1)))!=x_||v1&&pu(new v1)!=m_||dS&&pu(dS.resolve())!=g_||fS&&pu(new fS)!=b_||oS&&pu(new oS)!=y_)&&(pu=function(e){var n=mm(e),t=n==Wq?e.constructor:void 0,r=t?Ap(t):"";if(r)switch(r){case Yq:return x_;case Vq:return m_;case Gq:return g_;case Qq:return b_;case Kq:return y_}return n});var Xq=Object.prototype,Zq=Xq.hasOwnProperty;function Jq(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&Zq.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var Lx=zc.Uint8Array;function K6(e){var n=new e.constructor(e.byteLength);return new Lx(n).set(new Lx(e)),n}function eB(e,n){var t=K6(e.buffer);return new e.constructor(t,e.byteOffset,e.byteLength)}var tB=/\w*$/;function nB(e){var n=new e.constructor(e.source,tB.exec(e));return n.lastIndex=e.lastIndex,n}var v_=Zf?Zf.prototype:void 0,w_=v_?v_.valueOf:void 0;function rB(e){return w_?Object(w_.call(e)):{}}function E7(e,n){var t=n?K6(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var iB="[object Boolean]",aB="[object Date]",sB="[object Map]",oB="[object Number]",lB="[object RegExp]",uB="[object Set]",cB="[object String]",dB="[object Symbol]",fB="[object ArrayBuffer]",hB="[object DataView]",pB="[object Float32Array]",mB="[object Float64Array]",gB="[object Int8Array]",bB="[object Int16Array]",yB="[object Int32Array]",xB="[object Uint8Array]",vB="[object Uint8ClampedArray]",wB="[object Uint16Array]",SB="[object Uint32Array]";function AB(e,n,t){var r=e.constructor;switch(n){case fB:return K6(e);case iB:case aB:return new r(+e);case hB:return eB(e);case pB:case mB:case gB:case bB:case yB:case xB:case vB:case wB:case SB:return E7(e,t);case sB:return new r;case oB:case cB:return new r(e);case lB:return nB(e);case uB:return new r;case dB:return rB(e)}}function k7(e){return typeof e.constructor=="function"&&!V6(e)?UP(w7(e)):{}}var CB="[object Map]";function EB(e){return Dd(e)&&pu(e)==CB}var S_=tm&&tm.isMap,kB=S_?G6(S_):EB,_B="[object Set]";function NB(e){return Dd(e)&&pu(e)==_B}var A_=tm&&tm.isSet,TB=A_?G6(A_):NB,jB=1,_7="[object Arguments]",OB="[object Array]",IB="[object Boolean]",DB="[object Date]",LB="[object Error]",N7="[object Function]",RB="[object GeneratorFunction]",MB="[object Map]",FB="[object Number]",T7="[object Object]",PB="[object RegExp]",zB="[object Set]",qB="[object String]",BB="[object Symbol]",$B="[object WeakMap]",UB="[object ArrayBuffer]",HB="[object DataView]",WB="[object Float32Array]",YB="[object Float64Array]",VB="[object Int8Array]",GB="[object Int16Array]",QB="[object Int32Array]",KB="[object Uint8Array]",XB="[object Uint8ClampedArray]",ZB="[object Uint16Array]",JB="[object Uint32Array]",ri={};ri[_7]=ri[OB]=ri[UB]=ri[HB]=ri[IB]=ri[DB]=ri[WB]=ri[YB]=ri[VB]=ri[GB]=ri[QB]=ri[MB]=ri[FB]=ri[T7]=ri[PB]=ri[zB]=ri[qB]=ri[BB]=ri[KB]=ri[XB]=ri[ZB]=ri[JB]=!0;ri[LB]=ri[N7]=ri[$B]=!1;function ex(e,n,t,r,i,a){var s,l=n&jB;if(s!==void 0)return s;if(!lh(e))return e;var u=cp(e);if(u)s=Jq(e);else{var d=pu(e),f=d==N7||d==RB;if(y1(e))return C7(e,l);if(d==T7||d==_7||f&&!i)s=f?{}:k7(e);else{if(!ri[d])return i?e:{};s=AB(e,d,l)}}a||(a=new Ac);var m=a.get(e);if(m)return m;a.set(e,s),TB(e)?e.forEach(function(x){s.add(ex(x,n,t,x,e,a))}):kB(e)&&e.forEach(function(x,y){s.set(y,ex(x,n,t,y,e,a))});var b=uS,g=u?void 0:b(e);return JP(g||e,function(x,y){g&&(y=x,x=e[y]),h7(s,y,ex(x,n,t,y,e,a))}),s}var e$=1,t$=4;function F0(e){return ex(e,e$|t$)}var n$="__lodash_hash_undefined__";function r$(e){return this.__data__.set(e,n$),this}function i$(e){return this.__data__.has(e)}function Rx(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new Ep;++n<t;)this.add(e[n])}Rx.prototype.add=Rx.prototype.push=r$;Rx.prototype.has=i$;function a$(e,n){for(var t=-1,r=e==null?0:e.length;++t<r;)if(n(e[t],t,e))return!0;return!1}function s$(e,n){return e.has(n)}var o$=1,l$=2;function j7(e,n,t,r,i,a){var s=t&o$,l=e.length,u=n.length;if(l!=u&&!(s&&u>l))return!1;var d=a.get(e),f=a.get(n);if(d&&f)return d==n&&f==e;var m=-1,b=!0,g=t&l$?new Rx:void 0;for(a.set(e,n),a.set(n,e);++m<l;){var x=e[m],y=n[m];if(r)var A=s?r(y,x,m,n,e,a):r(x,y,m,e,n,a);if(A!==void 0){if(A)continue;b=!1;break}if(g){if(!a$(n,function(w,C){if(!s$(g,C)&&(x===w||i(x,w,t,r,a)))return g.push(C)})){b=!1;break}}else if(!(x===y||i(x,y,t,r,a))){b=!1;break}}return a.delete(e),a.delete(n),b}function u$(e){var n=-1,t=Array(e.size);return e.forEach(function(r,i){t[++n]=[i,r]}),t}function c$(e){var n=-1,t=Array(e.size);return e.forEach(function(r){t[++n]=r}),t}var d$=1,f$=2,h$="[object Boolean]",p$="[object Date]",m$="[object Error]",g$="[object Map]",b$="[object Number]",y$="[object RegExp]",x$="[object Set]",v$="[object String]",w$="[object Symbol]",S$="[object ArrayBuffer]",A$="[object DataView]",C_=Zf?Zf.prototype:void 0,U5=C_?C_.valueOf:void 0;function C$(e,n,t,r,i,a,s){switch(t){case A$:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case S$:return!(e.byteLength!=n.byteLength||!a(new Lx(e),new Lx(n)));case h$:case p$:case b$:return X1(+e,+n);case m$:return e.name==n.name&&e.message==n.message;case y$:case v$:return e==n+"";case g$:var l=u$;case x$:var u=r&d$;if(l||(l=c$),e.size!=n.size&&!u)return!1;var d=s.get(e);if(d)return d==n;r|=f$,s.set(e,n);var f=j7(l(e),l(n),r,i,a,s);return s.delete(e),f;case w$:if(U5)return U5.call(e)==U5.call(n)}return!1}var E$=1,k$=Object.prototype,_$=k$.hasOwnProperty;function N$(e,n,t,r,i,a){var s=t&E$,l=uS(e),u=l.length,d=uS(n),f=d.length;if(u!=f&&!s)return!1;for(var m=u;m--;){var b=l[m];if(!(s?b in n:_$.call(n,b)))return!1}var g=a.get(e),x=a.get(n);if(g&&x)return g==n&&x==e;var y=!0;a.set(e,n),a.set(n,e);for(var A=s;++m<u;){b=l[m];var w=e[b],C=n[b];if(r)var T=s?r(C,w,b,n,e,a):r(w,C,b,e,n,a);if(!(T===void 0?w===C||i(w,C,t,r,a):T)){y=!1;break}A||(A=b=="constructor")}if(y&&!A){var M=e.constructor,R=n.constructor;M!=R&&"constructor"in e&&"constructor"in n&&!(typeof M=="function"&&M instanceof M&&typeof R=="function"&&R instanceof R)&&(y=!1)}return a.delete(e),a.delete(n),y}var T$=1,E_="[object Arguments]",k_="[object Array]",Sy="[object Object]",j$=Object.prototype,__=j$.hasOwnProperty;function O$(e,n,t,r,i,a){var s=cp(e),l=cp(n),u=s?k_:pu(e),d=l?k_:pu(n);u=u==E_?Sy:u,d=d==E_?Sy:d;var f=u==Sy,m=d==Sy,b=u==d;if(b&&y1(e)){if(!y1(n))return!1;s=!0,f=!1}if(b&&!f)return a||(a=new Ac),s||Q6(e)?j7(e,n,t,r,i,a):C$(e,n,u,t,r,i,a);if(!(t&T$)){var g=f&&__.call(e,"__wrapped__"),x=m&&__.call(n,"__wrapped__");if(g||x){var y=g?e.value():e,A=x?n.value():n;return a||(a=new Ac),i(y,A,t,r,a)}}return b?(a||(a=new Ac),N$(e,n,t,r,i,a)):!1}function O7(e,n,t,r,i){return e===n?!0:e==null||n==null||!Dd(e)&&!Dd(n)?e!==e&&n!==n:O$(e,n,t,r,O7,i)}function I$(e){return function(n,t,r){for(var i=-1,a=Object(n),s=r(n),l=s.length;l--;){var u=s[++i];if(t(a[u],u,a)===!1)break}return n}}var D$=I$();function hS(e,n,t){(t!==void 0&&!X1(e[n],t)||t===void 0&&!(n in e))&&Y6(e,n,t)}function L$(e){return Dd(e)&&vv(e)}function pS(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}function R$(e){return iz(e,v7(e))}function M$(e,n,t,r,i,a,s){var l=pS(e,t),u=pS(n,t),d=s.get(u);if(d){hS(e,t,d);return}var f=a?a(l,u,t+"",e,n,s):void 0,m=f===void 0;if(m){var b=cp(u),g=!b&&y1(u),x=!b&&!g&&Q6(u);f=u,b||g||x?cp(l)?f=l:L$(l)?f=WP(l):g?(m=!1,f=C7(u,!0)):x?(m=!1,f=E7(u,!0)):f=[]:Oq(u)||lS(u)?(f=l,lS(l)?f=R$(l):(!lh(l)||W6(l))&&(f=k7(u))):m=!1}m&&(s.set(u,f),i(f,u,r,a,s),s.delete(u)),hS(e,t,f)}function I7(e,n,t,r,i){e!==n&&D$(n,function(a,s){if(i||(i=new Ac),lh(a))M$(e,n,s,t,I7,r,i);else{var l=r?r(pS(e,s),a,s+"",e,n,i):void 0;l===void 0&&(l=a),hS(e,s,l)}},v7)}function Lf(e,n){return O7(e,n)}var Gf=uz(function(e,n,t){I7(e,n,t)}),Wt=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(Wt||{});class Rc{constructor(n,t,r={}){this.attrName=n,this.keyName=t;const i=Wt.TYPE&Wt.ATTRIBUTE;this.scope=r.scope!=null?r.scope&Wt.LEVEL|i:Wt.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(n){return Array.from(n.attributes).map(t=>t.name)}add(n,t){return this.canAdd(n,t)?(n.setAttribute(this.keyName,t),!0):!1}canAdd(n,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(n){n.removeAttribute(this.keyName)}value(n){const t=n.getAttribute(this.keyName);return this.canAdd(n,t)&&t?t:""}}class P0 extends Error{constructor(n){n="[Parchment] "+n,super(n),this.message=n,this.name=this.constructor.name}}const D7=class mS{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(n,t=!1){if(n==null)return null;if(this.blots.has(n))return this.blots.get(n)||null;if(t){let r=null;try{r=n.parentNode}catch{return null}return this.find(r,t)}return null}create(n,t,r){const i=this.query(t);if(i==null)throw new P0(`Unable to create ${t} blot`);const a=i,s=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:a.create(r),l=new a(n,s,r);return mS.blots.set(l.domNode,l),l}find(n,t=!1){return mS.find(n,t)}query(n,t=Wt.ANY){let r;return typeof n=="string"?r=this.types[n]||this.attributes[n]:n instanceof Text||n.nodeType===Node.TEXT_NODE?r=this.types.text:typeof n=="number"?n&Wt.LEVEL&Wt.BLOCK?r=this.types.block:n&Wt.LEVEL&Wt.INLINE&&(r=this.types.inline):n instanceof Element&&((n.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[n.tagName]),r==null?null:"scope"in r&&t&Wt.LEVEL&r.scope&&t&Wt.TYPE&r.scope?r:null}register(...n){return n.map(t=>{const r="blotName"in t,i="attrName"in t;if(!r&&!i)throw new P0("Invalid definition");if(r&&t.blotName==="abstract")throw new P0("Cannot register abstract class");const a=r?t.blotName:i?t.attrName:void 0;return this.types[a]=t,i?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(s=>s.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(s=>{(this.tags[s]==null||t.className==null)&&(this.tags[s]=t)}))),t})}};D7.blots=new WeakMap;let nm=D7;function N_(e,n){return(e.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${n}-`)===0)}class F$ extends Rc{static keys(n){return(n.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(n,t){return this.canAdd(n,t)?(this.remove(n),n.classList.add(`${this.keyName}-${t}`),!0):!1}remove(n){N_(n,this.keyName).forEach(t=>{n.classList.remove(t)}),n.classList.length===0&&n.removeAttribute("class")}value(n){const t=(N_(n,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(n,t)?t:""}}const Au=F$;function H5(e){const n=e.split("-"),t=n.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return n[0]+t}class P$ extends Rc{static keys(n){return(n.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(n,t){return this.canAdd(n,t)?(n.style[H5(this.keyName)]=t,!0):!1}remove(n){n.style[H5(this.keyName)]="",n.getAttribute("style")||n.removeAttribute("style")}value(n){const t=n.style[H5(this.keyName)];return this.canAdd(n,t)?t:""}}const uh=P$;class z${constructor(n){this.attributes={},this.domNode=n,this.build()}attribute(n,t){t?n.add(this.domNode,t)&&(n.value(this.domNode)!=null?this.attributes[n.attrName]=n:delete this.attributes[n.attrName]):(n.remove(this.domNode),delete this.attributes[n.attrName])}build(){this.attributes={};const n=nm.find(this.domNode);if(n==null)return;const t=Rc.keys(this.domNode),r=Au.keys(this.domNode),i=uh.keys(this.domNode);t.concat(r).concat(i).forEach(a=>{const s=n.scroll.query(a,Wt.ATTRIBUTE);s instanceof Rc&&(this.attributes[s.attrName]=s)})}copy(n){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);n.format(t,r)})}move(n){this.copy(n),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((n,t)=>(n[t]=this.attributes[t].value(this.domNode),n),{})}}const Av=z$,L7=class{constructor(n,t){this.scroll=n,this.domNode=t,nm.blots.set(t,this),this.prev=null,this.next=null}static create(n){if(this.tagName==null)throw new P0("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof n=="string"?(r=n.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof n=="number"&&(r=n),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const n=this.domNode.cloneNode(!1);return this.scroll.create(n)}detach(){this.parent!=null&&this.parent.removeChild(this),nm.blots.delete(this.domNode)}deleteAt(n,t){this.isolate(n,t).remove()}formatAt(n,t,r,i){const a=this.isolate(n,t);if(this.scroll.query(r,Wt.BLOT)!=null&&i)a.wrap(r,i);else if(this.scroll.query(r,Wt.ATTRIBUTE)!=null){const s=this.scroll.create(this.statics.scope);a.wrap(s),s.format(r,i)}}insertAt(n,t,r){const i=r==null?this.scroll.create("text",t):this.scroll.create(t,r),a=this.split(n);this.parent.insertBefore(i,a||void 0)}isolate(n,t){const r=this.split(n);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(n=this.parent){return this.parent==null||this===n?0:this.parent.children.offset(this)+this.parent.offset(n)}optimize(n){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(n,t){return n===0?this:this.next}update(n,t){}wrap(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new P0(`Cannot wrap ${n}`);return r.appendChild(this),r}};L7.blotName="abstract";let R7=L7;const M7=class extends R7{static value(n){return!0}index(n,t){return this.domNode===n||this.domNode.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(n,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return n>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};M7.scope=Wt.INLINE_BLOT;let q$=M7;const Ms=q$;class B${constructor(){this.head=null,this.tail=null,this.length=0}append(...n){if(this.insertBefore(n[0],null),n.length>1){const t=n.slice(1);this.append(...t)}}at(n){const t=this.iterator();let r=t();for(;r&&n>0;)n-=1,r=t();return r}contains(n){const t=this.iterator();let r=t();for(;r;){if(r===n)return!0;r=t()}return!1}indexOf(n){const t=this.iterator();let r=t(),i=0;for(;r;){if(r===n)return i;i+=1,r=t()}return-1}insertBefore(n,t){n!=null&&(this.remove(n),n.next=t,t!=null?(n.prev=t.prev,t.prev!=null&&(t.prev.next=n),t.prev=n,t===this.head&&(this.head=n)):this.tail!=null?(this.tail.next=n,n.prev=this.tail,this.tail=n):(n.prev=null,this.head=this.tail=n),this.length+=1)}offset(n){let t=0,r=this.head;for(;r!=null;){if(r===n)return t;t+=r.length(),r=r.next}return-1}remove(n){this.contains(n)&&(n.prev!=null&&(n.prev.next=n.next),n.next!=null&&(n.next.prev=n.prev),n===this.head&&(this.head=n.next),n===this.tail&&(this.tail=n.prev),this.length-=1)}iterator(n=this.head){return()=>{const t=n;return n!=null&&(n=n.next),t}}find(n,t=!1){const r=this.iterator();let i=r();for(;i;){const a=i.length();if(n<a||t&&n===a&&(i.next==null||i.next.length()!==0))return[i,n];n-=a,i=r()}return[null,0]}forEach(n){const t=this.iterator();let r=t();for(;r;)n(r),r=t()}forEachAt(n,t,r){if(t<=0)return;const[i,a]=this.find(n);let s=n-a;const l=this.iterator(i);let u=l();for(;u&&s<n+t;){const d=u.length();n>s?r(u,n-s,Math.min(t,s+d-n)):r(u,0,Math.min(d,n+t-s)),s+=d,u=l()}}map(n){return this.reduce((t,r)=>(t.push(n(r)),t),[])}reduce(n,t){const r=this.iterator();let i=r();for(;i;)t=n(t,i),i=r();return t}}function T_(e,n){const t=n.find(e);if(t)return t;try{return n.create(e)}catch{const r=n.create(Wt.INLINE);return Array.from(e.childNodes).forEach(i=>{r.domNode.appendChild(i)}),e.parentNode&&e.parentNode.replaceChild(r.domNode,e),r.attach(),r}}const F7=class If extends R7{constructor(n,t){super(n,t),this.uiNode=null,this.build()}appendChild(n){this.insertBefore(n)}attach(){super.attach(),this.children.forEach(n=>{n.attach()})}attachUI(n){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=n,If.uiClass&&this.uiNode.classList.add(If.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new B$,Array.from(this.domNode.childNodes).filter(n=>n!==this.uiNode).reverse().forEach(n=>{try{const t=T_(n,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof P0)return;throw t}})}deleteAt(n,t){if(n===0&&t===this.length())return this.remove();this.children.forEachAt(n,t,(r,i,a)=>{r.deleteAt(i,a)})}descendant(n,t=0){const[r,i]=this.children.find(t);return n.blotName==null&&n(r)||n.blotName!=null&&r instanceof n?[r,i]:r instanceof If?r.descendant(n,i):[null,-1]}descendants(n,t=0,r=Number.MAX_VALUE){let i=[],a=r;return this.children.forEachAt(t,r,(s,l,u)=>{(n.blotName==null&&n(s)||n.blotName!=null&&s instanceof n)&&i.push(s),s instanceof If&&(i=i.concat(s.descendants(n,l,a))),a-=u}),i}detach(){this.children.forEach(n=>{n.detach()}),super.detach()}enforceAllowedChildren(){let n=!1;this.children.forEach(t=>{n||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===Wt.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),n=!0):t instanceof If?t.unwrap():t.remove())})}formatAt(n,t,r,i){this.children.forEachAt(n,t,(a,s,l)=>{a.formatAt(s,l,r,i)})}insertAt(n,t,r){const[i,a]=this.children.find(n);if(i)i.insertAt(a,t,r);else{const s=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(s)}}insertBefore(n,t){n.parent!=null&&n.parent.children.remove(n);let r=null;this.children.insertBefore(n,t||null),n.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==n.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(n.domNode,r),n.attach()}length(){return this.children.reduce((n,t)=>n+t.length(),0)}moveChildren(n,t){this.children.forEach(r=>{n.insertBefore(r,t)})}optimize(n){if(super.optimize(n),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(n,t=!1){const[r,i]=this.children.find(n,t),a=[[this,n]];return r instanceof If?a.concat(r.path(i,t)):(r!=null&&a.push([r,i]),a)}removeChild(n){this.children.remove(n)}replaceWith(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;return r instanceof If&&this.moveChildren(r),super.replaceWith(r)}split(n,t=!1){if(!t){if(n===0)return this;if(n===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(n,this.length(),(i,a,s)=>{const l=i.split(a,t);l!=null&&r.appendChild(l)}),r}splitAfter(n){const t=this.clone();for(;n.next!=null;)t.appendChild(n.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(n,t){const r=[],i=[];n.forEach(a=>{a.target===this.domNode&&a.type==="childList"&&(r.push(...a.addedNodes),i.push(...a.removedNodes))}),i.forEach(a=>{if(a.parentNode!=null&&a.tagName!=="IFRAME"&&document.body.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const s=this.scroll.find(a);s!=null&&(s.domNode.parentNode==null||s.domNode.parentNode===this.domNode)&&s.detach()}),r.filter(a=>a.parentNode===this.domNode&&a!==this.uiNode).sort((a,s)=>a===s?0:a.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(a=>{let s=null;a.nextSibling!=null&&(s=this.scroll.find(a.nextSibling));const l=T_(a,this.scroll);(l.next!==s||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,s||void 0))}),this.enforceAllowedChildren()}};F7.uiClass="";let $$=F7;const xu=$$;function U$(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const t in e)if(e[t]!==n[t])return!1;return!0}const k0=class _0 extends xu{static create(n){return super.create(n)}static formats(n,t){const r=t.query(_0.blotName);if(!(r!=null&&n.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return n.tagName.toLowerCase()}}constructor(n,t){super(n,t),this.attributes=new Av(this.domNode)}format(n,t){if(n===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof _0||(r=r.wrap(_0.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(n,Wt.INLINE);if(r==null)return;r instanceof Rc?this.attributes.attribute(r,t):t&&(n!==this.statics.blotName||this.formats()[n]!==t)&&this.replaceWith(n,t)}}formats(){const n=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(n[this.statics.blotName]=t),n}formatAt(n,t,r,i){this.formats()[r]!=null||this.scroll.query(r,Wt.ATTRIBUTE)?this.isolate(n,t).format(r,i):super.formatAt(n,t,r,i)}optimize(n){super.optimize(n);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof _0&&r.prev===this&&U$(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(n,t){const r=super.replaceWith(n,t);return this.attributes.copy(r),r}update(n,t){super.update(n,t),n.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(n,t){const r=super.wrap(n,t);return r instanceof _0&&this.attributes.move(r),r}};k0.allowedChildren=[k0,Ms],k0.blotName="inline",k0.scope=Wt.INLINE_BLOT,k0.tagName="SPAN";let H$=k0;const X6=H$,N0=class gS extends xu{static create(n){return super.create(n)}static formats(n,t){const r=t.query(gS.blotName);if(!(r!=null&&n.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return n.tagName.toLowerCase()}}constructor(n,t){super(n,t),this.attributes=new Av(this.domNode)}format(n,t){const r=this.scroll.query(n,Wt.BLOCK);r!=null&&(r instanceof Rc?this.attributes.attribute(r,t):n===this.statics.blotName&&!t?this.replaceWith(gS.blotName):t&&(n!==this.statics.blotName||this.formats()[n]!==t)&&this.replaceWith(n,t))}formats(){const n=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(n[this.statics.blotName]=t),n}formatAt(n,t,r,i){this.scroll.query(r,Wt.BLOCK)!=null?this.format(r,i):super.formatAt(n,t,r,i)}insertAt(n,t,r){if(r==null||this.scroll.query(t,Wt.INLINE)!=null)super.insertAt(n,t,r);else{const i=this.split(n);if(i!=null){const a=this.scroll.create(t,r);i.parent.insertBefore(a,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(n,t){const r=super.replaceWith(n,t);return this.attributes.copy(r),r}update(n,t){super.update(n,t),n.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};N0.blotName="block",N0.scope=Wt.BLOCK_BLOT,N0.tagName="P",N0.allowedChildren=[X6,N0,Ms];let W$=N0;const w1=W$,bS=class extends xu{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(n,t){super.deleteAt(n,t),this.enforceAllowedChildren()}formatAt(n,t,r,i){super.formatAt(n,t,r,i),this.enforceAllowedChildren()}insertAt(n,t,r){super.insertAt(n,t,r),this.enforceAllowedChildren()}optimize(n){super.optimize(n),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};bS.blotName="container",bS.scope=Wt.BLOCK_BLOT;let Y$=bS;const Cv=Y$;class V$ extends Ms{static formats(n,t){}format(n,t){super.formatAt(0,this.length(),n,t)}formatAt(n,t,r,i){n===0&&t===this.length()?this.format(r,i):super.formatAt(n,t,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const tl=V$,G$={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Q$=100,T0=class extends xu{constructor(n,t){super(null,t),this.registry=n,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,G$),this.attach()}create(n,t){return this.registry.create(this,n,t)}find(n,t=!1){const r=this.registry.find(n,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(n,t=Wt.ANY){return this.registry.query(n,t)}register(...n){return this.registry.register(...n)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(n,t){this.update(),n===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(n,t)}formatAt(n,t,r,i){this.update(),super.formatAt(n,t,r,i)}insertAt(n,t,r){this.update(),super.insertAt(n,t,r)}optimize(n=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)n.push(i.pop());const a=(u,d=!0)=>{u==null||u===this||u.domNode.parentNode!=null&&(r.has(u.domNode)||r.set(u.domNode,[]),d&&a(u.parent))},s=u=>{r.has(u.domNode)&&(u instanceof xu&&u.children.forEach(s),r.delete(u.domNode),u.optimize(t))};let l=n;for(let u=0;l.length>0;u+=1){if(u>=Q$)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(d=>{const f=this.find(d.target,!0);f!=null&&(f.domNode===d.target&&(d.type==="childList"?(a(this.find(d.previousSibling,!1)),Array.from(d.addedNodes).forEach(m=>{const b=this.find(m,!1);a(b,!1),b instanceof xu&&b.children.forEach(g=>{a(g,!1)})})):d.type==="attributes"&&a(f.prev)),a(f))}),this.children.forEach(s),l=Array.from(this.observer.takeRecords()),i=l.slice();i.length>0;)n.push(i.pop())}}update(n,t={}){n=n||this.observer.takeRecords();const r=new WeakMap;n.map(i=>{const a=this.find(i.target,!0);return a==null?null:r.has(a.domNode)?(r.get(a.domNode).push(i),null):(r.set(a.domNode,[i]),a)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(n,t)}};T0.blotName="scroll",T0.defaultChild=w1,T0.allowedChildren=[w1,Cv],T0.scope=Wt.BLOCK_BLOT,T0.tagName="DIV";let K$=T0;const Z6=K$,yS=class P7 extends Ms{static create(n){return document.createTextNode(n)}static value(n){return n.data}constructor(n,t){super(n,t),this.text=this.statics.value(this.domNode)}deleteAt(n,t){this.domNode.data=this.text=this.text.slice(0,n)+this.text.slice(n+t)}index(n,t){return this.domNode===n?t:-1}insertAt(n,t,r){r==null?(this.text=this.text.slice(0,n)+t+this.text.slice(n),this.domNode.data=this.text):super.insertAt(n,t,r)}length(){return this.text.length}optimize(n){super.optimize(n),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof P7&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(n,t=!1){return[this.domNode,n]}split(n,t=!1){if(!t){if(n===0)return this;if(n===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(n));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(n,t){n.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};yS.blotName="text",yS.scope=Wt.INLINE_BLOT;let X$=yS;const Mx=X$,Z$=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Rc,AttributorStore:Av,BlockBlot:w1,ClassAttributor:Au,ContainerBlot:Cv,EmbedBlot:tl,InlineBlot:X6,LeafBlot:Ms,ParentBlot:xu,Registry:nm,Scope:Wt,ScrollBlot:Z6,StyleAttributor:uh,TextBlot:Mx},Symbol.toStringTag,{value:"Module"}));var Ay={exports:{}},W5,j_;function J$(){if(j_)return W5;j_=1;var e=-1,n=1,t=0;function r(O,j,F,N,G){if(O===j)return O?[[t,O]]:[];if(F!=null){var H=$(O,j,F);if(H)return H}var Q=l(O,j),te=O.substring(0,Q);O=O.substring(Q),j=j.substring(Q),Q=d(O,j);var oe=O.substring(O.length-Q);O=O.substring(0,O.length-Q),j=j.substring(0,j.length-Q);var U=i(O,j);return te&&U.unshift([t,te]),oe&&U.push([t,oe]),C(U,G),N&&m(U),U}function i(O,j){var F;if(!O)return[[n,j]];if(!j)return[[e,O]];var N=O.length>j.length?O:j,G=O.length>j.length?j:O,H=N.indexOf(G);if(H!==-1)return F=[[n,N.substring(0,H)],[t,G],[n,N.substring(H+G.length)]],O.length>j.length&&(F[0][0]=F[2][0]=e),F;if(G.length===1)return[[e,O],[n,j]];var Q=f(O,j);if(Q){var te=Q[0],oe=Q[1],U=Q[2],se=Q[3],q=Q[4],B=r(te,U),J=r(oe,se);return B.concat([[t,q]],J)}return a(O,j)}function a(O,j){for(var F=O.length,N=j.length,G=Math.ceil((F+N)/2),H=G,Q=2*G,te=new Array(Q),oe=new Array(Q),U=0;U<Q;U++)te[U]=-1,oe[U]=-1;te[H+1]=0,oe[H+1]=0;for(var se=F-N,q=se%2!==0,B=0,J=0,ne=0,le=0,Se=0;Se<G;Se++){for(var xe=-Se+B;xe<=Se-J;xe+=2){var ke=H+xe,De;xe===-Se||xe!==Se&&te[ke-1]<te[ke+1]?De=te[ke+1]:De=te[ke-1]+1;for(var Me=De-xe;De<F&&Me<N&&O.charAt(De)===j.charAt(Me);)De++,Me++;if(te[ke]=De,De>F)J+=2;else if(Me>N)B+=2;else if(q){var He=H+se-xe;if(He>=0&&He<Q&&oe[He]!==-1){var Ve=F-oe[He];if(De>=Ve)return s(O,j,De,Me)}}}for(var Y=-Se+ne;Y<=Se-le;Y+=2){var He=H+Y,Ve;Y===-Se||Y!==Se&&oe[He-1]<oe[He+1]?Ve=oe[He+1]:Ve=oe[He-1]+1;for(var Ae=Ve-Y;Ve<F&&Ae<N&&O.charAt(F-Ve-1)===j.charAt(N-Ae-1);)Ve++,Ae++;if(oe[He]=Ve,Ve>F)le+=2;else if(Ae>N)ne+=2;else if(!q){var ke=H+se-Y;if(ke>=0&&ke<Q&&te[ke]!==-1){var De=te[ke],Me=H+De-ke;if(Ve=F-Ve,De>=Ve)return s(O,j,De,Me)}}}}return[[e,O],[n,j]]}function s(O,j,F,N){var G=O.substring(0,F),H=j.substring(0,N),Q=O.substring(F),te=j.substring(N),oe=r(G,H),U=r(Q,te);return oe.concat(U)}function l(O,j){if(!O||!j||O.charAt(0)!==j.charAt(0))return 0;for(var F=0,N=Math.min(O.length,j.length),G=N,H=0;F<G;)O.substring(H,G)==j.substring(H,G)?(F=G,H=F):N=G,G=Math.floor((N-F)/2+F);return T(O.charCodeAt(G-1))&&G--,G}function u(O,j){var F=O.length,N=j.length;if(F==0||N==0)return 0;F>N?O=O.substring(F-N):F<N&&(j=j.substring(0,F));var G=Math.min(F,N);if(O==j)return G;for(var H=0,Q=1;;){var te=O.substring(G-Q),oe=j.indexOf(te);if(oe==-1)return H;Q+=oe,(oe==0||O.substring(G-Q)==j.substring(0,Q))&&(H=Q,Q++)}}function d(O,j){if(!O||!j||O.slice(-1)!==j.slice(-1))return 0;for(var F=0,N=Math.min(O.length,j.length),G=N,H=0;F<G;)O.substring(O.length-G,O.length-H)==j.substring(j.length-G,j.length-H)?(F=G,H=F):N=G,G=Math.floor((N-F)/2+F);return M(O.charCodeAt(O.length-G))&&G--,G}function f(O,j){var F=O.length>j.length?O:j,N=O.length>j.length?j:O;if(F.length<4||N.length*2<F.length)return null;function G(J,ne,le){for(var Se=J.substring(le,le+Math.floor(J.length/4)),xe=-1,ke="",De,Me,He,Ve;(xe=ne.indexOf(Se,xe+1))!==-1;){var Y=l(J.substring(le),ne.substring(xe)),Ae=d(J.substring(0,le),ne.substring(0,xe));ke.length<Ae+Y&&(ke=ne.substring(xe-Ae,xe)+ne.substring(xe,xe+Y),De=J.substring(0,le-Ae),Me=J.substring(le+Y),He=ne.substring(0,xe-Ae),Ve=ne.substring(xe+Y))}return ke.length*2>=J.length?[De,Me,He,Ve,ke]:null}var H=G(F,N,Math.ceil(F.length/4)),Q=G(F,N,Math.ceil(F.length/2)),te;if(!H&&!Q)return null;Q?H?te=H[4].length>Q[4].length?H:Q:te=Q:te=H;var oe,U,se,q;O.length>j.length?(oe=te[0],U=te[1],se=te[2],q=te[3]):(se=te[0],q=te[1],oe=te[2],U=te[3]);var B=te[4];return[oe,U,se,q,B]}function m(O){for(var j=!1,F=[],N=0,G=null,H=0,Q=0,te=0,oe=0,U=0;H<O.length;)O[H][0]==t?(F[N++]=H,Q=oe,te=U,oe=0,U=0,G=O[H][1]):(O[H][0]==n?oe+=O[H][1].length:U+=O[H][1].length,G&&G.length<=Math.max(Q,te)&&G.length<=Math.max(oe,U)&&(O.splice(F[N-1],0,[e,G]),O[F[N-1]+1][0]=n,N--,N--,H=N>0?F[N-1]:-1,Q=0,te=0,oe=0,U=0,G=null,j=!0)),H++;for(j&&C(O),w(O),H=1;H<O.length;){if(O[H-1][0]==e&&O[H][0]==n){var se=O[H-1][1],q=O[H][1],B=u(se,q),J=u(q,se);B>=J?(B>=se.length/2||B>=q.length/2)&&(O.splice(H,0,[t,q.substring(0,B)]),O[H-1][1]=se.substring(0,se.length-B),O[H+1][1]=q.substring(B),H++):(J>=se.length/2||J>=q.length/2)&&(O.splice(H,0,[t,se.substring(0,J)]),O[H-1][0]=n,O[H-1][1]=q.substring(0,q.length-J),O[H+1][0]=e,O[H+1][1]=se.substring(J),H++),H++}H++}}var b=/[^a-zA-Z0-9]/,g=/\s/,x=/[\r\n]/,y=/\n\r?\n$/,A=/^\r?\n\r?\n/;function w(O){function j(J,ne){if(!J||!ne)return 6;var le=J.charAt(J.length-1),Se=ne.charAt(0),xe=le.match(b),ke=Se.match(b),De=xe&&le.match(g),Me=ke&&Se.match(g),He=De&&le.match(x),Ve=Me&&Se.match(x),Y=He&&J.match(y),Ae=Ve&&ne.match(A);return Y||Ae?5:He||Ve?4:xe&&!De&&Me?3:De||Me?2:xe||ke?1:0}for(var F=1;F<O.length-1;){if(O[F-1][0]==t&&O[F+1][0]==t){var N=O[F-1][1],G=O[F][1],H=O[F+1][1],Q=d(N,G);if(Q){var te=G.substring(G.length-Q);N=N.substring(0,N.length-Q),G=te+G.substring(0,G.length-Q),H=te+H}for(var oe=N,U=G,se=H,q=j(N,G)+j(G,H);G.charAt(0)===H.charAt(0);){N+=G.charAt(0),G=G.substring(1)+H.charAt(0),H=H.substring(1);var B=j(N,G)+j(G,H);B>=q&&(q=B,oe=N,U=G,se=H)}O[F-1][1]!=oe&&(oe?O[F-1][1]=oe:(O.splice(F-1,1),F--),O[F][1]=U,se?O[F+1][1]=se:(O.splice(F+1,1),F--))}F++}}function C(O,j){O.push([t,""]);for(var F=0,N=0,G=0,H="",Q="",te;F<O.length;){if(F<O.length-1&&!O[F][1]){O.splice(F,1);continue}switch(O[F][0]){case n:G++,Q+=O[F][1],F++;break;case e:N++,H+=O[F][1],F++;break;case t:var oe=F-G-N-1;if(j){if(oe>=0&&z(O[oe][1])){var U=O[oe][1].slice(-1);if(O[oe][1]=O[oe][1].slice(0,-1),H=U+H,Q=U+Q,!O[oe][1]){O.splice(oe,1),F--;var se=oe-1;O[se]&&O[se][0]===n&&(G++,Q=O[se][1]+Q,se--),O[se]&&O[se][0]===e&&(N++,H=O[se][1]+H,se--),oe=se}}if(R(O[F][1])){var U=O[F][1].charAt(0);O[F][1]=O[F][1].slice(1),H+=U,Q+=U}}if(F<O.length-1&&!O[F][1]){O.splice(F,1);break}if(H.length>0||Q.length>0){H.length>0&&Q.length>0&&(te=l(Q,H),te!==0&&(oe>=0?O[oe][1]+=Q.substring(0,te):(O.splice(0,0,[t,Q.substring(0,te)]),F++),Q=Q.substring(te),H=H.substring(te)),te=d(Q,H),te!==0&&(O[F][1]=Q.substring(Q.length-te)+O[F][1],Q=Q.substring(0,Q.length-te),H=H.substring(0,H.length-te)));var q=G+N;H.length===0&&Q.length===0?(O.splice(F-q,q),F=F-q):H.length===0?(O.splice(F-q,q,[n,Q]),F=F-q+1):Q.length===0?(O.splice(F-q,q,[e,H]),F=F-q+1):(O.splice(F-q,q,[e,H],[n,Q]),F=F-q+2)}F!==0&&O[F-1][0]===t?(O[F-1][1]+=O[F][1],O.splice(F,1)):F++,G=0,N=0,H="",Q="";break}}O[O.length-1][1]===""&&O.pop();var B=!1;for(F=1;F<O.length-1;)O[F-1][0]===t&&O[F+1][0]===t&&(O[F][1].substring(O[F][1].length-O[F-1][1].length)===O[F-1][1]?(O[F][1]=O[F-1][1]+O[F][1].substring(0,O[F][1].length-O[F-1][1].length),O[F+1][1]=O[F-1][1]+O[F+1][1],O.splice(F-1,1),B=!0):O[F][1].substring(0,O[F+1][1].length)==O[F+1][1]&&(O[F-1][1]+=O[F+1][1],O[F][1]=O[F][1].substring(O[F+1][1].length)+O[F+1][1],O.splice(F+1,1),B=!0)),F++;B&&C(O,j)}function T(O){return O>=55296&&O<=56319}function M(O){return O>=56320&&O<=57343}function R(O){return M(O.charCodeAt(0))}function z(O){return T(O.charCodeAt(O.length-1))}function _(O){for(var j=[],F=0;F<O.length;F++)O[F][1].length>0&&j.push(O[F]);return j}function L(O,j,F,N){return z(O)||R(N)?null:_([[t,O],[e,j],[n,F],[t,N]])}function $(O,j,F){var N=typeof F=="number"?{index:F,length:0}:F.oldRange,G=typeof F=="number"?null:F.newRange,H=O.length,Q=j.length;if(N.length===0&&(G===null||G.length===0)){var te=N.index,oe=O.slice(0,te),U=O.slice(te),se=G?G.index:null;e:{var q=te+Q-H;if(se!==null&&se!==q||q<0||q>Q)break e;var B=j.slice(0,q),J=j.slice(q);if(J!==U)break e;var ne=Math.min(te,q),le=oe.slice(0,ne),Se=B.slice(0,ne);if(le!==Se)break e;var xe=oe.slice(ne),ke=B.slice(ne);return L(le,xe,ke,U)}e:{if(se!==null&&se!==te)break e;var De=te,B=j.slice(0,De),J=j.slice(De);if(B!==oe)break e;var Me=Math.min(H-De,Q-De),He=U.slice(U.length-Me),Ve=J.slice(J.length-Me);if(He!==Ve)break e;var xe=U.slice(0,U.length-Me),ke=J.slice(0,J.length-Me);return L(oe,xe,ke,He)}}if(N.length>0&&G&&G.length===0)e:{var le=O.slice(0,N.index),He=O.slice(N.index+N.length),ne=le.length,Me=He.length;if(Q<ne+Me)break e;var Se=j.slice(0,ne),Ve=j.slice(Q-Me);if(le!==Se||He!==Ve)break e;var xe=O.slice(ne,H-Me),ke=j.slice(ne,Q-Me);return L(le,xe,ke,He)}return null}function Z(O,j,F,N){return r(O,j,F,N,!0)}return Z.INSERT=n,Z.DELETE=e,Z.EQUAL=t,W5=Z,W5}var Gg={exports:{}};Gg.exports;var O_;function z7(){return O_||(O_=1,function(e,n){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",s="[object Array]",l="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Function]",m="[object GeneratorFunction]",b="[object Map]",g="[object Number]",x="[object Object]",y="[object Promise]",A="[object RegExp]",w="[object Set]",C="[object String]",T="[object Symbol]",M="[object WeakMap]",R="[object ArrayBuffer]",z="[object DataView]",_="[object Float32Array]",L="[object Float64Array]",$="[object Int8Array]",Z="[object Int16Array]",O="[object Int32Array]",j="[object Uint8Array]",F="[object Uint8ClampedArray]",N="[object Uint16Array]",G="[object Uint32Array]",H=/[\\^$.*+?()[\]{}|]/g,Q=/\w*$/,te=/^\[object .+?Constructor\]$/,oe=/^(?:0|[1-9]\d*)$/,U={};U[a]=U[s]=U[R]=U[z]=U[l]=U[u]=U[_]=U[L]=U[$]=U[Z]=U[O]=U[b]=U[g]=U[x]=U[A]=U[w]=U[C]=U[T]=U[j]=U[F]=U[N]=U[G]=!0,U[d]=U[f]=U[M]=!1;var se=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,q=typeof self=="object"&&self&&self.Object===Object&&self,B=se||q||Function("return this")(),J=n&&!n.nodeType&&n,ne=J&&!0&&e&&!e.nodeType&&e,le=ne&&ne.exports===J;function Se(W,ge){return W.set(ge[0],ge[1]),W}function xe(W,ge){return W.add(ge),W}function ke(W,ge){for(var Ie=-1,lt=W?W.length:0;++Ie<lt&&ge(W[Ie],Ie,W)!==!1;);return W}function De(W,ge){for(var Ie=-1,lt=ge.length,Zt=W.length;++Ie<lt;)W[Zt+Ie]=ge[Ie];return W}function Me(W,ge,Ie,lt){for(var Zt=-1,$t=W?W.length:0;++Zt<$t;)Ie=ge(Ie,W[Zt],Zt,W);return Ie}function He(W,ge){for(var Ie=-1,lt=Array(W);++Ie<W;)lt[Ie]=ge(Ie);return lt}function Ve(W,ge){return W==null?void 0:W[ge]}function Y(W){var ge=!1;if(W!=null&&typeof W.toString!="function")try{ge=!!(W+"")}catch{}return ge}function Ae(W){var ge=-1,Ie=Array(W.size);return W.forEach(function(lt,Zt){Ie[++ge]=[Zt,lt]}),Ie}function re(W,ge){return function(Ie){return W(ge(Ie))}}function be(W){var ge=-1,Ie=Array(W.size);return W.forEach(function(lt){Ie[++ge]=lt}),Ie}var fe=Array.prototype,Ce=Function.prototype,Le=Object.prototype,qe=B["__core-js_shared__"],Te=function(){var W=/[^.]+$/.exec(qe&&qe.keys&&qe.keys.IE_PROTO||"");return W?"Symbol(src)_1."+W:""}(),Ze=Ce.toString,ut=Le.hasOwnProperty,rt=Le.toString,Pe=RegExp("^"+Ze.call(ut).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ve=le?B.Buffer:void 0,Ne=B.Symbol,Oe=B.Uint8Array,ft=re(Object.getPrototypeOf,Object),et=Object.create,Pt=Le.propertyIsEnumerable,Nt=fe.splice,Yt=Object.getOwnPropertySymbols,Rt=ve?ve.isBuffer:void 0,Xt=re(Object.keys,Object),nn=Bi(B,"DataView"),ln=Bi(B,"Map"),Pn=Bi(B,"Promise"),zn=Bi(B,"Set"),Vr=Bi(B,"WeakMap"),ir=Bi(Object,"create"),Rn=Jr(nn),Vt=Jr(ln),An=Jr(Pn),wa=Jr(zn),wr=Jr(Vr),oi=Ne?Ne.prototype:void 0,Sa=oi?oi.valueOf:void 0;function Lt(W){var ge=-1,Ie=W?W.length:0;for(this.clear();++ge<Ie;){var lt=W[ge];this.set(lt[0],lt[1])}}function Hn(){this.__data__=ir?ir(null):{}}function ar(W){return this.has(W)&&delete this.__data__[W]}function Rr(W){var ge=this.__data__;if(ir){var Ie=ge[W];return Ie===r?void 0:Ie}return ut.call(ge,W)?ge[W]:void 0}function dr(W){var ge=this.__data__;return ir?ge[W]!==void 0:ut.call(ge,W)}function fr(W,ge){var Ie=this.__data__;return Ie[W]=ir&&ge===void 0?r:ge,this}Lt.prototype.clear=Hn,Lt.prototype.delete=ar,Lt.prototype.get=Rr,Lt.prototype.has=dr,Lt.prototype.set=fr;function Un(W){var ge=-1,Ie=W?W.length:0;for(this.clear();++ge<Ie;){var lt=W[ge];this.set(lt[0],lt[1])}}function bs(){this.__data__=[]}function _r(W){var ge=this.__data__,Ie=xs(ge,W);if(Ie<0)return!1;var lt=ge.length-1;return Ie==lt?ge.pop():Nt.call(ge,Ie,1),!0}function Da(W){var ge=this.__data__,Ie=xs(ge,W);return Ie<0?void 0:ge[Ie][1]}function zi(W){return xs(this.__data__,W)>-1}function qi(W,ge){var Ie=this.__data__,lt=xs(Ie,W);return lt<0?Ie.push([W,ge]):Ie[lt][1]=ge,this}Un.prototype.clear=bs,Un.prototype.delete=_r,Un.prototype.get=Da,Un.prototype.has=zi,Un.prototype.set=qi;function Zn(W){var ge=-1,Ie=W?W.length:0;for(this.clear();++ge<Ie;){var lt=W[ge];this.set(lt[0],lt[1])}}function Ci(){this.__data__={hash:new Lt,map:new(ln||Un),string:new Lt}}function Jn(W){return Ws(this,W).delete(W)}function ro(W){return Ws(this,W).get(W)}function Eo(W){return Ws(this,W).has(W)}function Fa(W,ge){return Ws(this,W).set(W,ge),this}Zn.prototype.clear=Ci,Zn.prototype.delete=Jn,Zn.prototype.get=ro,Zn.prototype.has=Eo,Zn.prototype.set=Fa;function Mr(W){this.__data__=new Un(W)}function nl(){this.__data__=new Un}function ql(W){return this.__data__.delete(W)}function ju(W){return this.__data__.get(W)}function $c(W){return this.__data__.has(W)}function Us(W,ge){var Ie=this.__data__;if(Ie instanceof Un){var lt=Ie.__data__;if(!ln||lt.length<t-1)return lt.push([W,ge]),this;Ie=this.__data__=new Zn(lt)}return Ie.set(W,ge),this}Mr.prototype.clear=nl,Mr.prototype.delete=ql,Mr.prototype.get=ju,Mr.prototype.has=$c,Mr.prototype.set=Us;function ys(W,ge){var Ie=ol(W)||so(W)?He(W.length,String):[],lt=Ie.length,Zt=!!lt;for(var $t in W)ut.call(W,$t)&&!(Zt&&($t=="length"||al($t,lt)))&&Ie.push($t);return Ie}function Pa(W,ge,Ie){var lt=W[ge];(!(ut.call(W,ge)&&tn(lt,Ie))||Ie===void 0&&!(ge in W))&&(W[ge]=Ie)}function xs(W,ge){for(var Ie=W.length;Ie--;)if(tn(W[Ie][0],ge))return Ie;return-1}function rs(W,ge){return W&&_o(ge,ll(ge),W)}function is(W,ge,Ie,lt,Zt,$t,jn){var Cn;if(lt&&(Cn=$t?lt(W,Zt,$t,jn):lt(W)),Cn!==void 0)return Cn;if(!Ua(W))return W;var pr=ol(W);if(pr){if(Cn=Iu(W),!ge)return Ul(W,Cn)}else{var bn=vs(W),Nr=bn==f||bn==m;if(No(W))return ao(W,ge);if(bn==x||bn==a||Nr&&!$t){if(Y(W))return $t?W:{};if(Cn=qa(Nr?{}:W),!ge)return Hs(W,rs(Cn,W))}else{if(!U[bn])return $t?W:{};Cn=Ys(W,bn,is,ge)}}jn||(jn=new Mr);var Aa=jn.get(W);if(Aa)return Aa;if(jn.set(W,Cn),!pr)var Sr=Ie?Ou(W):ll(W);return ke(Sr||W,function(Ar,Gr){Sr&&(Gr=Ar,Ar=W[Gr]),Pa(Cn,Gr,is(Ar,ge,Ie,lt,Gr,W,jn))}),Cn}function Bl(W){return Ua(W)?et(W):{}}function io(W,ge,Ie){var lt=ge(W);return ol(W)?lt:De(lt,Ie(W))}function Uc(W){return rt.call(W)}function Fr(W){if(!Ua(W)||sl(W))return!1;var ge=$a(W)||Y(W)?Pe:te;return ge.test(Jr(W))}function ta(W){if(!li(W))return Xt(W);var ge=[];for(var Ie in Object(W))ut.call(W,Ie)&&Ie!="constructor"&&ge.push(Ie);return ge}function ao(W,ge){if(ge)return W.slice();var Ie=new W.constructor(W.length);return W.copy(Ie),Ie}function rl(W){var ge=new W.constructor(W.byteLength);return new Oe(ge).set(new Oe(W)),ge}function za(W,ge){var Ie=ge?rl(W.buffer):W.buffer;return new W.constructor(Ie,W.byteOffset,W.byteLength)}function $l(W,ge,Ie){var lt=ge?Ie(Ae(W),!0):Ae(W);return Me(lt,Se,new W.constructor)}function na(W){var ge=new W.constructor(W.source,Q.exec(W));return ge.lastIndex=W.lastIndex,ge}function il(W,ge,Ie){var lt=ge?Ie(be(W),!0):be(W);return Me(lt,xe,new W.constructor)}function hr(W){return Sa?Object(Sa.call(W)):{}}function ko(W,ge){var Ie=ge?rl(W.buffer):W.buffer;return new W.constructor(Ie,W.byteOffset,W.length)}function Ul(W,ge){var Ie=-1,lt=W.length;for(ge||(ge=Array(lt));++Ie<lt;)ge[Ie]=W[Ie];return ge}function _o(W,ge,Ie,lt){Ie||(Ie={});for(var Zt=-1,$t=ge.length;++Zt<$t;){var jn=ge[Zt],Cn=void 0;Pa(Ie,jn,Cn===void 0?W[jn]:Cn)}return Ie}function Hs(W,ge){return _o(W,as(W),ge)}function Ou(W){return io(W,ll,as)}function Ws(W,ge){var Ie=W.__data__;return Vs(ge)?Ie[typeof ge=="string"?"string":"hash"]:Ie.map}function Bi(W,ge){var Ie=Ve(W,ge);return Fr(Ie)?Ie:void 0}var as=Yt?re(Yt,Object):oo,vs=Uc;(nn&&vs(new nn(new ArrayBuffer(1)))!=z||ln&&vs(new ln)!=b||Pn&&vs(Pn.resolve())!=y||zn&&vs(new zn)!=w||Vr&&vs(new Vr)!=M)&&(vs=function(W){var ge=rt.call(W),Ie=ge==x?W.constructor:void 0,lt=Ie?Jr(Ie):void 0;if(lt)switch(lt){case Rn:return z;case Vt:return b;case An:return y;case wa:return w;case wr:return M}return ge});function Iu(W){var ge=W.length,Ie=W.constructor(ge);return ge&&typeof W[0]=="string"&&ut.call(W,"index")&&(Ie.index=W.index,Ie.input=W.input),Ie}function qa(W){return typeof W.constructor=="function"&&!li(W)?Bl(ft(W)):{}}function Ys(W,ge,Ie,lt){var Zt=W.constructor;switch(ge){case R:return rl(W);case l:case u:return new Zt(+W);case z:return za(W,lt);case _:case L:case $:case Z:case O:case j:case F:case N:case G:return ko(W,lt);case b:return $l(W,lt,Ie);case g:case C:return new Zt(W);case A:return na(W);case w:return il(W,lt,Ie);case T:return hr(W)}}function al(W,ge){return ge=ge??i,!!ge&&(typeof W=="number"||oe.test(W))&&W>-1&&W%1==0&&W<ge}function Vs(W){var ge=typeof W;return ge=="string"||ge=="number"||ge=="symbol"||ge=="boolean"?W!=="__proto__":W===null}function sl(W){return!!Te&&Te in W}function li(W){var ge=W&&W.constructor,Ie=typeof ge=="function"&&ge.prototype||Le;return W===Ie}function Jr(W){if(W!=null){try{return Ze.call(W)}catch{}try{return W+""}catch{}}return""}function ws(W){return is(W,!0,!0)}function tn(W,ge){return W===ge||W!==W&&ge!==ge}function so(W){return Ba(W)&&ut.call(W,"callee")&&(!Pt.call(W,"callee")||rt.call(W)==a)}var ol=Array.isArray;function Ei(W){return W!=null&&La(W.length)&&!$a(W)}function Ba(W){return To(W)&&Ei(W)}var No=Rt||Ss;function $a(W){var ge=Ua(W)?rt.call(W):"";return ge==f||ge==m}function La(W){return typeof W=="number"&&W>-1&&W%1==0&&W<=i}function Ua(W){var ge=typeof W;return!!W&&(ge=="object"||ge=="function")}function To(W){return!!W&&typeof W=="object"}function ll(W){return Ei(W)?ys(W):ta(W)}function oo(){return[]}function Ss(){return!1}e.exports=ws}(Gg,Gg.exports)),Gg.exports}var Qg={exports:{}};Qg.exports;var I_;function q7(){return I_||(I_=1,function(e,n){var t=200,r="__lodash_hash_undefined__",i=1,a=2,s=9007199254740991,l="[object Arguments]",u="[object Array]",d="[object AsyncFunction]",f="[object Boolean]",m="[object Date]",b="[object Error]",g="[object Function]",x="[object GeneratorFunction]",y="[object Map]",A="[object Number]",w="[object Null]",C="[object Object]",T="[object Promise]",M="[object Proxy]",R="[object RegExp]",z="[object Set]",_="[object String]",L="[object Symbol]",$="[object Undefined]",Z="[object WeakMap]",O="[object ArrayBuffer]",j="[object DataView]",F="[object Float32Array]",N="[object Float64Array]",G="[object Int8Array]",H="[object Int16Array]",Q="[object Int32Array]",te="[object Uint8Array]",oe="[object Uint8ClampedArray]",U="[object Uint16Array]",se="[object Uint32Array]",q=/[\\^$.*+?()[\]{}|]/g,B=/^\[object .+?Constructor\]$/,J=/^(?:0|[1-9]\d*)$/,ne={};ne[F]=ne[N]=ne[G]=ne[H]=ne[Q]=ne[te]=ne[oe]=ne[U]=ne[se]=!0,ne[l]=ne[u]=ne[O]=ne[f]=ne[j]=ne[m]=ne[b]=ne[g]=ne[y]=ne[A]=ne[C]=ne[R]=ne[z]=ne[_]=ne[Z]=!1;var le=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,Se=typeof self=="object"&&self&&self.Object===Object&&self,xe=le||Se||Function("return this")(),ke=n&&!n.nodeType&&n,De=ke&&!0&&e&&!e.nodeType&&e,Me=De&&De.exports===ke,He=Me&&le.process,Ve=function(){try{return He&&He.binding&&He.binding("util")}catch{}}(),Y=Ve&&Ve.isTypedArray;function Ae(W,ge){for(var Ie=-1,lt=W==null?0:W.length,Zt=0,$t=[];++Ie<lt;){var jn=W[Ie];ge(jn,Ie,W)&&($t[Zt++]=jn)}return $t}function re(W,ge){for(var Ie=-1,lt=ge.length,Zt=W.length;++Ie<lt;)W[Zt+Ie]=ge[Ie];return W}function be(W,ge){for(var Ie=-1,lt=W==null?0:W.length;++Ie<lt;)if(ge(W[Ie],Ie,W))return!0;return!1}function fe(W,ge){for(var Ie=-1,lt=Array(W);++Ie<W;)lt[Ie]=ge(Ie);return lt}function Ce(W){return function(ge){return W(ge)}}function Le(W,ge){return W.has(ge)}function qe(W,ge){return W==null?void 0:W[ge]}function Te(W){var ge=-1,Ie=Array(W.size);return W.forEach(function(lt,Zt){Ie[++ge]=[Zt,lt]}),Ie}function Ze(W,ge){return function(Ie){return W(ge(Ie))}}function ut(W){var ge=-1,Ie=Array(W.size);return W.forEach(function(lt){Ie[++ge]=lt}),Ie}var rt=Array.prototype,Pe=Function.prototype,ve=Object.prototype,Ne=xe["__core-js_shared__"],Oe=Pe.toString,ft=ve.hasOwnProperty,et=function(){var W=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||"");return W?"Symbol(src)_1."+W:""}(),Pt=ve.toString,Nt=RegExp("^"+Oe.call(ft).replace(q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yt=Me?xe.Buffer:void 0,Rt=xe.Symbol,Xt=xe.Uint8Array,nn=ve.propertyIsEnumerable,ln=rt.splice,Pn=Rt?Rt.toStringTag:void 0,zn=Object.getOwnPropertySymbols,Vr=Yt?Yt.isBuffer:void 0,ir=Ze(Object.keys,Object),Rn=as(xe,"DataView"),Vt=as(xe,"Map"),An=as(xe,"Promise"),wa=as(xe,"Set"),wr=as(xe,"WeakMap"),oi=as(Object,"create"),Sa=Jr(Rn),Lt=Jr(Vt),Hn=Jr(An),ar=Jr(wa),Rr=Jr(wr),dr=Rt?Rt.prototype:void 0,fr=dr?dr.valueOf:void 0;function Un(W){var ge=-1,Ie=W==null?0:W.length;for(this.clear();++ge<Ie;){var lt=W[ge];this.set(lt[0],lt[1])}}function bs(){this.__data__=oi?oi(null):{},this.size=0}function _r(W){var ge=this.has(W)&&delete this.__data__[W];return this.size-=ge?1:0,ge}function Da(W){var ge=this.__data__;if(oi){var Ie=ge[W];return Ie===r?void 0:Ie}return ft.call(ge,W)?ge[W]:void 0}function zi(W){var ge=this.__data__;return oi?ge[W]!==void 0:ft.call(ge,W)}function qi(W,ge){var Ie=this.__data__;return this.size+=this.has(W)?0:1,Ie[W]=oi&&ge===void 0?r:ge,this}Un.prototype.clear=bs,Un.prototype.delete=_r,Un.prototype.get=Da,Un.prototype.has=zi,Un.prototype.set=qi;function Zn(W){var ge=-1,Ie=W==null?0:W.length;for(this.clear();++ge<Ie;){var lt=W[ge];this.set(lt[0],lt[1])}}function Ci(){this.__data__=[],this.size=0}function Jn(W){var ge=this.__data__,Ie=ao(ge,W);if(Ie<0)return!1;var lt=ge.length-1;return Ie==lt?ge.pop():ln.call(ge,Ie,1),--this.size,!0}function ro(W){var ge=this.__data__,Ie=ao(ge,W);return Ie<0?void 0:ge[Ie][1]}function Eo(W){return ao(this.__data__,W)>-1}function Fa(W,ge){var Ie=this.__data__,lt=ao(Ie,W);return lt<0?(++this.size,Ie.push([W,ge])):Ie[lt][1]=ge,this}Zn.prototype.clear=Ci,Zn.prototype.delete=Jn,Zn.prototype.get=ro,Zn.prototype.has=Eo,Zn.prototype.set=Fa;function Mr(W){var ge=-1,Ie=W==null?0:W.length;for(this.clear();++ge<Ie;){var lt=W[ge];this.set(lt[0],lt[1])}}function nl(){this.size=0,this.__data__={hash:new Un,map:new(Vt||Zn),string:new Un}}function ql(W){var ge=Bi(this,W).delete(W);return this.size-=ge?1:0,ge}function ju(W){return Bi(this,W).get(W)}function $c(W){return Bi(this,W).has(W)}function Us(W,ge){var Ie=Bi(this,W),lt=Ie.size;return Ie.set(W,ge),this.size+=Ie.size==lt?0:1,this}Mr.prototype.clear=nl,Mr.prototype.delete=ql,Mr.prototype.get=ju,Mr.prototype.has=$c,Mr.prototype.set=Us;function ys(W){var ge=-1,Ie=W==null?0:W.length;for(this.__data__=new Mr;++ge<Ie;)this.add(W[ge])}function Pa(W){return this.__data__.set(W,r),this}function xs(W){return this.__data__.has(W)}ys.prototype.add=ys.prototype.push=Pa,ys.prototype.has=xs;function rs(W){var ge=this.__data__=new Zn(W);this.size=ge.size}function is(){this.__data__=new Zn,this.size=0}function Bl(W){var ge=this.__data__,Ie=ge.delete(W);return this.size=ge.size,Ie}function io(W){return this.__data__.get(W)}function Uc(W){return this.__data__.has(W)}function Fr(W,ge){var Ie=this.__data__;if(Ie instanceof Zn){var lt=Ie.__data__;if(!Vt||lt.length<t-1)return lt.push([W,ge]),this.size=++Ie.size,this;Ie=this.__data__=new Mr(lt)}return Ie.set(W,ge),this.size=Ie.size,this}rs.prototype.clear=is,rs.prototype.delete=Bl,rs.prototype.get=io,rs.prototype.has=Uc,rs.prototype.set=Fr;function ta(W,ge){var Ie=so(W),lt=!Ie&&tn(W),Zt=!Ie&&!lt&&Ei(W),$t=!Ie&&!lt&&!Zt&&To(W),jn=Ie||lt||Zt||$t,Cn=jn?fe(W.length,String):[],pr=Cn.length;for(var bn in W)ft.call(W,bn)&&!(jn&&(bn=="length"||Zt&&(bn=="offset"||bn=="parent")||$t&&(bn=="buffer"||bn=="byteLength"||bn=="byteOffset")||Ys(bn,pr)))&&Cn.push(bn);return Cn}function ao(W,ge){for(var Ie=W.length;Ie--;)if(ws(W[Ie][0],ge))return Ie;return-1}function rl(W,ge,Ie){var lt=ge(W);return so(W)?lt:re(lt,Ie(W))}function za(W){return W==null?W===void 0?$:w:Pn&&Pn in Object(W)?vs(W):li(W)}function $l(W){return Ua(W)&&za(W)==l}function na(W,ge,Ie,lt,Zt){return W===ge?!0:W==null||ge==null||!Ua(W)&&!Ua(ge)?W!==W&&ge!==ge:il(W,ge,Ie,lt,na,Zt)}function il(W,ge,Ie,lt,Zt,$t){var jn=so(W),Cn=so(ge),pr=jn?u:qa(W),bn=Cn?u:qa(ge);pr=pr==l?C:pr,bn=bn==l?C:bn;var Nr=pr==C,Aa=bn==C,Sr=pr==bn;if(Sr&&Ei(W)){if(!Ei(ge))return!1;jn=!0,Nr=!1}if(Sr&&!Nr)return $t||($t=new rs),jn||To(W)?_o(W,ge,Ie,lt,Zt,$t):Hs(W,ge,pr,Ie,lt,Zt,$t);if(!(Ie&i)){var Ar=Nr&&ft.call(W,"__wrapped__"),Gr=Aa&&ft.call(ge,"__wrapped__");if(Ar||Gr){var Ha=Ar?W.value():W,Gs=Gr?ge.value():ge;return $t||($t=new rs),Zt(Ha,Gs,Ie,lt,$t)}}return Sr?($t||($t=new rs),Ou(W,ge,Ie,lt,Zt,$t)):!1}function hr(W){if(!La(W)||Vs(W))return!1;var ge=No(W)?Nt:B;return ge.test(Jr(W))}function ko(W){return Ua(W)&&$a(W.length)&&!!ne[za(W)]}function Ul(W){if(!sl(W))return ir(W);var ge=[];for(var Ie in Object(W))ft.call(W,Ie)&&Ie!="constructor"&&ge.push(Ie);return ge}function _o(W,ge,Ie,lt,Zt,$t){var jn=Ie&i,Cn=W.length,pr=ge.length;if(Cn!=pr&&!(jn&&pr>Cn))return!1;var bn=$t.get(W);if(bn&&$t.get(ge))return bn==ge;var Nr=-1,Aa=!0,Sr=Ie&a?new ys:void 0;for($t.set(W,ge),$t.set(ge,W);++Nr<Cn;){var Ar=W[Nr],Gr=ge[Nr];if(lt)var Ha=jn?lt(Gr,Ar,Nr,ge,W,$t):lt(Ar,Gr,Nr,W,ge,$t);if(Ha!==void 0){if(Ha)continue;Aa=!1;break}if(Sr){if(!be(ge,function(Gs,As){if(!Le(Sr,As)&&(Ar===Gs||Zt(Ar,Gs,Ie,lt,$t)))return Sr.push(As)})){Aa=!1;break}}else if(!(Ar===Gr||Zt(Ar,Gr,Ie,lt,$t))){Aa=!1;break}}return $t.delete(W),$t.delete(ge),Aa}function Hs(W,ge,Ie,lt,Zt,$t,jn){switch(Ie){case j:if(W.byteLength!=ge.byteLength||W.byteOffset!=ge.byteOffset)return!1;W=W.buffer,ge=ge.buffer;case O:return!(W.byteLength!=ge.byteLength||!$t(new Xt(W),new Xt(ge)));case f:case m:case A:return ws(+W,+ge);case b:return W.name==ge.name&&W.message==ge.message;case R:case _:return W==ge+"";case y:var Cn=Te;case z:var pr=lt&i;if(Cn||(Cn=ut),W.size!=ge.size&&!pr)return!1;var bn=jn.get(W);if(bn)return bn==ge;lt|=a,jn.set(W,ge);var Nr=_o(Cn(W),Cn(ge),lt,Zt,$t,jn);return jn.delete(W),Nr;case L:if(fr)return fr.call(W)==fr.call(ge)}return!1}function Ou(W,ge,Ie,lt,Zt,$t){var jn=Ie&i,Cn=Ws(W),pr=Cn.length,bn=Ws(ge),Nr=bn.length;if(pr!=Nr&&!jn)return!1;for(var Aa=pr;Aa--;){var Sr=Cn[Aa];if(!(jn?Sr in ge:ft.call(ge,Sr)))return!1}var Ar=$t.get(W);if(Ar&&$t.get(ge))return Ar==ge;var Gr=!0;$t.set(W,ge),$t.set(ge,W);for(var Ha=jn;++Aa<pr;){Sr=Cn[Aa];var Gs=W[Sr],As=ge[Sr];if(lt)var Yd=jn?lt(As,Gs,Sr,ge,W,$t):lt(Gs,As,Sr,W,ge,$t);if(!(Yd===void 0?Gs===As||Zt(Gs,As,Ie,lt,$t):Yd)){Gr=!1;break}Ha||(Ha=Sr=="constructor")}if(Gr&&!Ha){var ul=W.constructor,jo=ge.constructor;ul!=jo&&"constructor"in W&&"constructor"in ge&&!(typeof ul=="function"&&ul instanceof ul&&typeof jo=="function"&&jo instanceof jo)&&(Gr=!1)}return $t.delete(W),$t.delete(ge),Gr}function Ws(W){return rl(W,ll,Iu)}function Bi(W,ge){var Ie=W.__data__;return al(ge)?Ie[typeof ge=="string"?"string":"hash"]:Ie.map}function as(W,ge){var Ie=qe(W,ge);return hr(Ie)?Ie:void 0}function vs(W){var ge=ft.call(W,Pn),Ie=W[Pn];try{W[Pn]=void 0;var lt=!0}catch{}var Zt=Pt.call(W);return lt&&(ge?W[Pn]=Ie:delete W[Pn]),Zt}var Iu=zn?function(W){return W==null?[]:(W=Object(W),Ae(zn(W),function(ge){return nn.call(W,ge)}))}:oo,qa=za;(Rn&&qa(new Rn(new ArrayBuffer(1)))!=j||Vt&&qa(new Vt)!=y||An&&qa(An.resolve())!=T||wa&&qa(new wa)!=z||wr&&qa(new wr)!=Z)&&(qa=function(W){var ge=za(W),Ie=ge==C?W.constructor:void 0,lt=Ie?Jr(Ie):"";if(lt)switch(lt){case Sa:return j;case Lt:return y;case Hn:return T;case ar:return z;case Rr:return Z}return ge});function Ys(W,ge){return ge=ge??s,!!ge&&(typeof W=="number"||J.test(W))&&W>-1&&W%1==0&&W<ge}function al(W){var ge=typeof W;return ge=="string"||ge=="number"||ge=="symbol"||ge=="boolean"?W!=="__proto__":W===null}function Vs(W){return!!et&&et in W}function sl(W){var ge=W&&W.constructor,Ie=typeof ge=="function"&&ge.prototype||ve;return W===Ie}function li(W){return Pt.call(W)}function Jr(W){if(W!=null){try{return Oe.call(W)}catch{}try{return W+""}catch{}}return""}function ws(W,ge){return W===ge||W!==W&&ge!==ge}var tn=$l(function(){return arguments}())?$l:function(W){return Ua(W)&&ft.call(W,"callee")&&!nn.call(W,"callee")},so=Array.isArray;function ol(W){return W!=null&&$a(W.length)&&!No(W)}var Ei=Vr||Ss;function Ba(W,ge){return na(W,ge)}function No(W){if(!La(W))return!1;var ge=za(W);return ge==g||ge==x||ge==d||ge==M}function $a(W){return typeof W=="number"&&W>-1&&W%1==0&&W<=s}function La(W){var ge=typeof W;return W!=null&&(ge=="object"||ge=="function")}function Ua(W){return W!=null&&typeof W=="object"}var To=Y?Ce(Y):ko;function ll(W){return ol(W)?ta(W):Ul(W)}function oo(){return[]}function Ss(){return!1}e.exports=Ba}(Qg,Qg.exports)),Qg.exports}var Cy={},D_;function eU(){if(D_)return Cy;D_=1,Object.defineProperty(Cy,"__esModule",{value:!0});const e=z7(),n=q7();var t;return function(r){function i(u={},d={},f=!1){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});let m=e(d);f||(m=Object.keys(m).reduce((b,g)=>(m[g]!=null&&(b[g]=m[g]),b),{}));for(const b in u)u[b]!==void 0&&d[b]===void 0&&(m[b]=u[b]);return Object.keys(m).length>0?m:void 0}r.compose=i;function a(u={},d={}){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});const f=Object.keys(u).concat(Object.keys(d)).reduce((m,b)=>(n(u[b],d[b])||(m[b]=d[b]===void 0?null:d[b]),m),{});return Object.keys(f).length>0?f:void 0}r.diff=a;function s(u={},d={}){u=u||{};const f=Object.keys(d).reduce((m,b)=>(d[b]!==u[b]&&u[b]!==void 0&&(m[b]=d[b]),m),{});return Object.keys(u).reduce((m,b)=>(u[b]!==d[b]&&d[b]===void 0&&(m[b]=null),m),f)}r.invert=s;function l(u,d,f=!1){if(typeof u!="object")return d;if(typeof d!="object")return;if(!f)return d;const m=Object.keys(d).reduce((b,g)=>(u[g]===void 0&&(b[g]=d[g]),b),{});return Object.keys(m).length>0?m:void 0}r.transform=l}(t||(t={})),Cy.default=t,Cy}var Ey={},L_;function B7(){if(L_)return Ey;L_=1,Object.defineProperty(Ey,"__esModule",{value:!0});var e;return function(n){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}n.length=t}(e||(e={})),Ey.default=e,Ey}var ky={},R_;function tU(){if(R_)return ky;R_=1,Object.defineProperty(ky,"__esModule",{value:!0});const e=B7();class n{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const i=this.ops[this.index];if(i){const a=this.offset,s=e.default.length(i);if(r>=s-a?(r=s-a,this.index+=1,this.offset=0):this.offset+=r,typeof i.delete=="number")return{delete:r};{const l={};return i.attributes&&(l.attributes=i.attributes),typeof i.retain=="number"?l.retain=r:typeof i.retain=="object"&&i.retain!==null?l.retain=i.retain:typeof i.insert=="string"?l.insert=i.insert.substr(a,r):l.insert=i.insert,l}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,i=this.index,a=this.next(),s=this.ops.slice(this.index);return this.offset=r,this.index=i,[a].concat(s)}}else return[]}}return ky.default=n,ky}var M_;function nU(){return M_||(M_=1,function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AttributeMap=n.OpIterator=n.Op=void 0;const t=J$(),r=z7(),i=q7(),a=eU();n.AttributeMap=a.default;const s=B7();n.Op=s.default;const l=tU();n.OpIterator=l.default;const u="\0",d=(m,b)=>{if(typeof m!="object"||m===null)throw new Error(`cannot retain a ${typeof m}`);if(typeof b!="object"||b===null)throw new Error(`cannot retain a ${typeof b}`);const g=Object.keys(m)[0];if(!g||g!==Object.keys(b)[0])throw new Error(`embed types not matched: ${g} != ${Object.keys(b)[0]}`);return[g,m[g],b[g]]};class f{constructor(b){Array.isArray(b)?this.ops=b:b!=null&&Array.isArray(b.ops)?this.ops=b.ops:this.ops=[]}static registerEmbed(b,g){this.handlers[b]=g}static unregisterEmbed(b){delete this.handlers[b]}static getHandler(b){const g=this.handlers[b];if(!g)throw new Error(`no handlers for embed type "${b}"`);return g}insert(b,g){const x={};return typeof b=="string"&&b.length===0?this:(x.insert=b,g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(x.attributes=g),this.push(x))}delete(b){return b<=0?this:this.push({delete:b})}retain(b,g){if(typeof b=="number"&&b<=0)return this;const x={retain:b};return g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(x.attributes=g),this.push(x)}push(b){let g=this.ops.length,x=this.ops[g-1];if(b=r(b),typeof x=="object"){if(typeof b.delete=="number"&&typeof x.delete=="number")return this.ops[g-1]={delete:x.delete+b.delete},this;if(typeof x.delete=="number"&&b.insert!=null&&(g-=1,x=this.ops[g-1],typeof x!="object"))return this.ops.unshift(b),this;if(i(b.attributes,x.attributes)){if(typeof b.insert=="string"&&typeof x.insert=="string")return this.ops[g-1]={insert:x.insert+b.insert},typeof b.attributes=="object"&&(this.ops[g-1].attributes=b.attributes),this;if(typeof b.retain=="number"&&typeof x.retain=="number")return this.ops[g-1]={retain:x.retain+b.retain},typeof b.attributes=="object"&&(this.ops[g-1].attributes=b.attributes),this}}return g===this.ops.length?this.ops.push(b):this.ops.splice(g,0,b),this}chop(){const b=this.ops[this.ops.length-1];return b&&typeof b.retain=="number"&&!b.attributes&&this.ops.pop(),this}filter(b){return this.ops.filter(b)}forEach(b){this.ops.forEach(b)}map(b){return this.ops.map(b)}partition(b){const g=[],x=[];return this.forEach(y=>{(b(y)?g:x).push(y)}),[g,x]}reduce(b,g){return this.ops.reduce(b,g)}changeLength(){return this.reduce((b,g)=>g.insert?b+s.default.length(g):g.delete?b-g.delete:b,0)}length(){return this.reduce((b,g)=>b+s.default.length(g),0)}slice(b=0,g=1/0){const x=[],y=new l.default(this.ops);let A=0;for(;A<g&&y.hasNext();){let w;A<b?w=y.next(b-A):(w=y.next(g-A),x.push(w)),A+=s.default.length(w)}return new f(x)}compose(b){const g=new l.default(this.ops),x=new l.default(b.ops),y=[],A=x.peek();if(A!=null&&typeof A.retain=="number"&&A.attributes==null){let C=A.retain;for(;g.peekType()==="insert"&&g.peekLength()<=C;)C-=g.peekLength(),y.push(g.next());A.retain-C>0&&x.next(A.retain-C)}const w=new f(y);for(;g.hasNext()||x.hasNext();)if(x.peekType()==="insert")w.push(x.next());else if(g.peekType()==="delete")w.push(g.next());else{const C=Math.min(g.peekLength(),x.peekLength()),T=g.next(C),M=x.next(C);if(M.retain){const R={};if(typeof T.retain=="number")R.retain=typeof M.retain=="number"?C:M.retain;else if(typeof M.retain=="number")T.retain==null?R.insert=T.insert:R.retain=T.retain;else{const _=T.retain==null?"insert":"retain",[L,$,Z]=d(T[_],M.retain),O=f.getHandler(L);R[_]={[L]:O.compose($,Z,_==="retain")}}const z=a.default.compose(T.attributes,M.attributes,typeof T.retain=="number");if(z&&(R.attributes=z),w.push(R),!x.hasNext()&&i(w.ops[w.ops.length-1],R)){const _=new f(g.rest());return w.concat(_).chop()}}else typeof M.delete=="number"&&(typeof T.retain=="number"||typeof T.retain=="object"&&T.retain!==null)&&w.push(M)}return w.chop()}concat(b){const g=new f(this.ops.slice());return b.ops.length>0&&(g.push(b.ops[0]),g.ops=g.ops.concat(b.ops.slice(1))),g}diff(b,g){if(this.ops===b.ops)return new f;const x=[this,b].map(T=>T.map(M=>{if(M.insert!=null)return typeof M.insert=="string"?M.insert:u;const R=T===b?"on":"with";throw new Error("diff() called "+R+" non-document")}).join("")),y=new f,A=t(x[0],x[1],g,!0),w=new l.default(this.ops),C=new l.default(b.ops);return A.forEach(T=>{let M=T[1].length;for(;M>0;){let R=0;switch(T[0]){case t.INSERT:R=Math.min(C.peekLength(),M),y.push(C.next(R));break;case t.DELETE:R=Math.min(M,w.peekLength()),w.next(R),y.delete(R);break;case t.EQUAL:R=Math.min(w.peekLength(),C.peekLength(),M);const z=w.next(R),_=C.next(R);i(z.insert,_.insert)?y.retain(R,a.default.diff(z.attributes,_.attributes)):y.push(_).delete(R);break}M-=R}}),y.chop()}eachLine(b,g=`
`){const x=new l.default(this.ops);let y=new f,A=0;for(;x.hasNext();){if(x.peekType()!=="insert")return;const w=x.peek(),C=s.default.length(w)-x.peekLength(),T=typeof w.insert=="string"?w.insert.indexOf(g,C)-C:-1;if(T<0)y.push(x.next());else if(T>0)y.push(x.next(T));else{if(b(y,x.next(1).attributes||{},A)===!1)return;A+=1,y=new f}}y.length()>0&&b(y,{},A)}invert(b){const g=new f;return this.reduce((x,y)=>{if(y.insert)g.delete(s.default.length(y));else{if(typeof y.retain=="number"&&y.attributes==null)return g.retain(y.retain),x+y.retain;if(y.delete||typeof y.retain=="number"){const A=y.delete||y.retain;return b.slice(x,x+A).forEach(C=>{y.delete?g.push(C):y.retain&&y.attributes&&g.retain(s.default.length(C),a.default.invert(y.attributes,C.attributes))}),x+A}else if(typeof y.retain=="object"&&y.retain!==null){const A=b.slice(x,x+1),w=new l.default(A.ops).next(),[C,T,M]=d(y.retain,w.insert),R=f.getHandler(C);return g.retain({[C]:R.invert(T,M)},a.default.invert(y.attributes,w.attributes)),x+1}}return x},0),g.chop()}transform(b,g=!1){if(g=!!g,typeof b=="number")return this.transformPosition(b,g);const x=b,y=new l.default(this.ops),A=new l.default(x.ops),w=new f;for(;y.hasNext()||A.hasNext();)if(y.peekType()==="insert"&&(g||A.peekType()!=="insert"))w.retain(s.default.length(y.next()));else if(A.peekType()==="insert")w.push(A.next());else{const C=Math.min(y.peekLength(),A.peekLength()),T=y.next(C),M=A.next(C);if(T.delete)continue;if(M.delete)w.push(M);else{const R=T.retain,z=M.retain;let _=typeof z=="object"&&z!==null?z:C;if(typeof R=="object"&&R!==null&&typeof z=="object"&&z!==null){const L=Object.keys(R)[0];if(L===Object.keys(z)[0]){const $=f.getHandler(L);$&&(_={[L]:$.transform(R[L],z[L],g)})}}w.retain(_,a.default.transform(T.attributes,M.attributes,g))}}return w.chop()}transformPosition(b,g=!1){g=!!g;const x=new l.default(this.ops);let y=0;for(;x.hasNext()&&y<=b;){const A=x.peekLength(),w=x.peekType();if(x.next(),w==="delete"){b-=Math.min(A,b-y);continue}else w==="insert"&&(y<b||!g)&&(b+=A);y+=A}return b}}f.Op=s.default,f.OpIterator=l.default,f.AttributeMap=a.default,f.handlers={},n.default=f,e.exports=f,e.exports.default=f}(Ay,Ay.exports)),Ay.exports}var Ol=nU();const Ht=ts(Ol);class Cu extends tl{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Cu.blotName="break";Cu.tagName="BR";let wu=class extends Mx{};const rU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ev(e){return e.replace(/[&<>"']/g,n=>rU[n])}const oc=class oc extends X6{static compare(n,t){const r=oc.order.indexOf(n),i=oc.order.indexOf(t);return r>=0||i>=0?r-i:n===t?0:n<t?-1:1}formatAt(n,t,r,i){if(oc.compare(this.statics.blotName,r)<0&&this.scroll.query(r,Wt.BLOT)){const a=this.isolate(n,t);i&&a.wrap(r,i)}else super.formatAt(n,t,r,i)}optimize(n){if(super.optimize(n),this.parent instanceof oc&&oc.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}};tt(oc,"allowedChildren",[oc,Cu,tl,wu]),tt(oc,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Mc=oc;const F_=1;class gs extends w1{constructor(){super(...arguments);tt(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=$7(this)),this.cache.delta}deleteAt(t,r){super.deleteAt(t,r),this.cache={}}formatAt(t,r,i,a){r<=0||(this.scroll.query(i,Wt.BLOCK)?t+r===this.length()&&this.format(i,a):super.formatAt(t,Math.min(r,this.length()-t-1),i,a),this.cache={})}insertAt(t,r,i){if(i!=null){super.insertAt(t,r,i),this.cache={};return}if(r.length===0)return;const a=r.split(`
`),s=a.shift();s.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});let l=this;a.reduce((u,d)=>(l=l.split(u,!0),l.insertAt(0,d),d.length),t+s.length)}insertBefore(t,r){const{head:i}=this.children;super.insertBefore(t,r),i instanceof Cu&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+F_),this.cache.length}moveChildren(t,r){super.moveChildren(t,r),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(t===0||t>=this.length()-F_)){const a=this.clone();return t===0?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}const i=super.split(t,r);return this.cache={},i}}gs.blotName="block";gs.tagName="P";gs.defaultChild=Cu;gs.allowedChildren=[Cu,Mc,tl,wu];class jl extends tl{attach(){super.attach(),this.attributes=new Av(this.domNode)}delta(){return new Ht().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(n,t){const r=this.scroll.query(n,Wt.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(n,t,r,i){this.format(r,i)}insertAt(n,t,r){if(r!=null){super.insertAt(n,t,r);return}const i=t.split(`
`),a=i.pop(),s=i.map(u=>{const d=this.scroll.create(gs.blotName);return d.insertAt(0,u),d}),l=this.split(n);s.forEach(u=>{this.parent.insertBefore(u,l)}),a&&this.parent.insertBefore(this.scroll.create("text",a),l)}}jl.scope=Wt.BLOCK_BLOT;function $7(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.descendants(Ms).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),Al(r,{},n)),new Ht).insert(`
`,Al(e))}function Al(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return e==null||("formats"in e&&typeof e.formats=="function"&&(n={...n,...e.formats()},t&&delete n["code-token"]),e.parent==null||e.parent.statics.blotName==="scroll"||e.parent.statics.scope!==e.statics.scope)?n:Al(e.parent,n,t)}const wl=class wl extends tl{static value(){}constructor(n,t,r){super(n,t),this.selection=r,this.textNode=document.createTextNode(wl.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(n,t){if(this.savedLength!==0){super.format(n,t);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==Wt.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=wl.CONTENTS.length,r.optimize(),r.formatAt(i,wl.CONTENTS.length,n,t),this.savedLength=0)}index(n,t){return n===this.textNode?0:super.index(n,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const n=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof wu?this.prev:null,r=t?t.length():0,i=this.next instanceof wu?this.next:null,a=i?i.text:"",{textNode:s}=this,l=s.data.split(wl.CONTENTS).join("");s.data=wl.CONTENTS;let u;if(t)u=t,(l||i)&&(t.insertAt(t.length(),l+a),i&&i.remove());else if(i)u=i,i.insertAt(0,l);else{const d=document.createTextNode(l);u=this.scroll.create(d),this.parent.insertBefore(u,this)}if(this.remove(),n){const d=(b,g)=>t&&b===t.domNode?g:b===s?r+g-1:i&&b===i.domNode?r+l.length+g:null,f=d(n.start.node,n.start.offset),m=d(n.end.node,n.end.offset);if(f!==null&&m!==null)return{startNode:u.domNode,startOffset:f,endNode:u.domNode,endOffset:m}}return null}update(n,t){if(n.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(n){super.optimize(n);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=wl.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}};tt(wl,"blotName","cursor"),tt(wl,"className","ql-cursor"),tt(wl,"tagName","span"),tt(wl,"CONTENTS","\uFEFF");let rm=wl;var Y5={exports:{}},P_;function iU(){return P_||(P_=1,function(e){var n=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function a(u,d,f,m,b){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,m||u,b),x=t?t+d:d;return u._events[x]?u._events[x].fn?u._events[x]=[u._events[x],g]:u._events[x].push(g):(u._events[x]=g,u._eventsCount++),u}function s(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,m;if(this._eventsCount===0)return d;for(m in f=this._events)n.call(f,m)&&d.push(t?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=t?t+d:d,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var b=0,g=m.length,x=new Array(g);b<g;b++)x[b]=m[b].fn;return x},l.prototype.listenerCount=function(d){var f=t?t+d:d,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,f,m,b,g,x){var y=t?t+d:d;if(!this._events[y])return!1;var A=this._events[y],w=arguments.length,C,T;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),w){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,f),!0;case 3:return A.fn.call(A.context,f,m),!0;case 4:return A.fn.call(A.context,f,m,b),!0;case 5:return A.fn.call(A.context,f,m,b,g),!0;case 6:return A.fn.call(A.context,f,m,b,g,x),!0}for(T=1,C=new Array(w-1);T<w;T++)C[T-1]=arguments[T];A.fn.apply(A.context,C)}else{var M=A.length,R;for(T=0;T<M;T++)switch(A[T].once&&this.removeListener(d,A[T].fn,void 0,!0),w){case 1:A[T].fn.call(A[T].context);break;case 2:A[T].fn.call(A[T].context,f);break;case 3:A[T].fn.call(A[T].context,f,m);break;case 4:A[T].fn.call(A[T].context,f,m,b);break;default:if(!C)for(R=1,C=new Array(w-1);R<w;R++)C[R-1]=arguments[R];A[T].fn.apply(A[T].context,C)}}return!0},l.prototype.on=function(d,f,m){return a(this,d,f,m,!1)},l.prototype.once=function(d,f,m){return a(this,d,f,m,!0)},l.prototype.removeListener=function(d,f,m,b){var g=t?t+d:d;if(!this._events[g])return this;if(!f)return s(this,g),this;var x=this._events[g];if(x.fn)x.fn===f&&(!b||x.once)&&(!m||x.context===m)&&s(this,g);else{for(var y=0,A=[],w=x.length;y<w;y++)(x[y].fn!==f||b&&!x[y].once||m&&x[y].context!==m)&&A.push(x[y]);A.length?this._events[g]=A.length===1?A[0]:A:s(this,g)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=t?t+d:d,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,e.exports=l}(Y5)),Y5.exports}var aU=iU();const sU=ts(aU),xS=new WeakMap,vS=["error","warn","log","info"];let wS="warn";function U7(e){if(wS&&vS.indexOf(e)<=vS.indexOf(wS)){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];console[e](...t)}}function Ud(e){return vS.reduce((n,t)=>(n[t]=U7.bind(console,t,e),n),{})}Ud.level=e=>{wS=e};U7.level=Ud.level;const V5=Ud("quill:events"),oU=["selectionchange","mousedown","mouseup","click"];oU.forEach(e=>{document.addEventListener(e,function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const a=xS.get(i);a&&a.emitter&&a.emitter.handleDOM(...t)})})});class zt extends sU{constructor(){super(),this.domListeners={},this.on("error",V5.error)}emit(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return V5.log.call(V5,...t),super.emit(...t)}handleDOM(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];(this.domListeners[n.type]||[]).forEach(a=>{let{node:s,handler:l}=a;(n.target===s||s.contains(n.target))&&l(n,...r)})}listenDOM(n,t,r){this.domListeners[n]||(this.domListeners[n]=[]),this.domListeners[n].push({node:t,handler:r})}}tt(zt,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),tt(zt,"sources",{API:"api",SILENT:"silent",USER:"user"});const G5=Ud("quill:selection");class fp{constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=n,this.length=t}}class lU{constructor(n,t){this.emitter=t,this.scroll=n,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new fp(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,zt.sources.USER),1)}),this.emitter.on(zt.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(zt.events.SCROLL_UPDATE,(i,a)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const s=a.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(s?zt.sources.SILENT:i)}catch{}})}),this.emitter.on(zt.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:a,startOffset:s,endNode:l,endOffset:u}=i.range;this.setNativeRange(a,s,l,u),this.update(zt.sources.SILENT)}}),this.update(zt.sources.SILENT)}handleComposition(){this.emitter.on(zt.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(zt.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const n=this.cursor.restore();if(!n)return;setTimeout(()=>{this.setNativeRange(n.startNode,n.startOffset,n.endNode,n.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(zt.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(n,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(n,Wt.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof Ms){const a=i.split(r.start.offset);i.parent.insertBefore(this.cursor,a)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(n,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();n=Math.min(n,r-1),t=Math.min(n+t,r-1)-n;let i,[a,s]=this.scroll.leaf(n);if(a==null)return null;if(t>0&&s===a.length()){const[f]=this.scroll.leaf(n+1);if(f){const[m]=this.scroll.line(n),[b]=this.scroll.line(n+1);m===b&&(a=f,s=0)}}[i,s]=a.position(s,!0);const l=document.createRange();if(t>0)return l.setStart(i,s),[a,s]=this.scroll.leaf(n+t),a==null?null:([i,s]=a.position(s,!0),l.setEnd(i,s),l.getBoundingClientRect());let u="left",d;if(i instanceof Text){if(!i.data.length)return null;s<i.data.length?(l.setStart(i,s),l.setEnd(i,s+1)):(l.setStart(i,s-1),l.setEnd(i,s),u="right"),d=l.getBoundingClientRect()}else{if(!(a.domNode instanceof Element))return null;d=a.domNode.getBoundingClientRect(),s>0&&(u="right")}return{bottom:d.top+d.height,height:d.height,left:d[u],right:d[u],top:d.top,width:0}}getNativeRange(){const n=document.getSelection();if(n==null||n.rangeCount<=0)return null;const t=n.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return G5.info("getNativeRange",r),r}getRange(){const n=this.scroll.domNode;if("isConnected"in n&&!n.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Q5(this.root,document.activeElement)}normalizedToRange(n){const t=[[n.start.node,n.start.offset]];n.native.collapsed||t.push([n.end.node,n.end.offset]);const r=t.map(s=>{const[l,u]=s,d=this.scroll.find(l,!0),f=d.offset(this.scroll);return u===0?f:d instanceof Ms?f+d.index(l,u):f+d.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),a=Math.min(i,...r);return new fp(a,i-a)}normalizeNative(n){if(!Q5(this.root,n.startContainer)||!n.collapsed&&!Q5(this.root,n.endContainer))return null;const t={start:{node:n.startContainer,offset:n.startOffset},end:{node:n.endContainer,offset:n.endOffset},native:n};return[t.start,t.end].forEach(r=>{let{node:i,offset:a}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>a)i=i.childNodes[a],a=0;else if(i.childNodes.length===a)i=i.lastChild,i instanceof Text?a=i.data.length:i.childNodes.length>0?a=i.childNodes.length:a=i.childNodes.length+1;else break;r.node=i,r.offset=a}),t}rangeToNative(n){const t=this.scroll.length(),r=(i,a)=>{i=Math.min(t-1,i);const[s,l]=this.scroll.leaf(i);return s?s.position(l,a):[null,-1]};return[...r(n.index,!1),...r(n.index+n.length,!0)]}setNativeRange(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(G5.info("setNativeRange",n,t,r,i),n!=null&&(this.root.parentNode==null||n.parentNode==null||r.parentNode==null))return;const s=document.getSelection();if(s!=null)if(n!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||a||n!==l.startContainer||t!==l.startOffset||r!==l.endContainer||i!==l.endOffset){n instanceof Element&&n.tagName==="BR"&&(t=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const u=document.createRange();u.setStart(n,t),u.setEnd(r,i),s.removeAllRanges(),s.addRange(u)}}else s.removeAllRanges(),this.root.blur()}setRange(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zt.sources.API;if(typeof t=="string"&&(r=t,t=!1),G5.info("setRange",n),n!=null){const i=this.rangeToNative(n);this.setNativeRange(...i,t)}else this.setNativeRange(null);this.update(r)}update(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zt.sources.USER;const t=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!Lf(t,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const s=this.cursor.restore();s&&this.setNativeRange(s.startNode,s.startOffset,s.endNode,s.endOffset)}const a=[zt.events.SELECTION_CHANGE,F0(this.lastRange),F0(t),n];this.emitter.emit(zt.events.EDITOR_CHANGE,...a),n!==zt.sources.SILENT&&this.emitter.emit(...a)}}}function Q5(e,n){try{n.parentNode}catch{return!1}return e.contains(n)}const uU=/^[ -~]*$/;class cU{constructor(n){this.scroll=n,this.delta=this.getDelta()}applyDelta(n){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=z_(n),i=new Ht;return fU(r.ops.slice()).reduce((s,l)=>{const u=Ol.Op.length(l);let d=l.attributes||{},f=!1,m=!1;if(l.insert!=null){if(i.retain(u),typeof l.insert=="string"){const x=l.insert;m=!x.endsWith(`
`)&&(t<=s||!!this.scroll.descendant(jl,s)[0]),this.scroll.insertAt(s,x);const[y,A]=this.scroll.line(s);let w=Gf({},Al(y));if(y instanceof gs){const[C]=y.descendant(Ms,A);C&&(w=Gf(w,Al(C)))}d=Ol.AttributeMap.diff(w,d)||{}}else if(typeof l.insert=="object"){const x=Object.keys(l.insert)[0];if(x==null)return s;const y=this.scroll.query(x,Wt.INLINE)!=null;if(y)(t<=s||this.scroll.descendant(jl,s)[0])&&(m=!0);else if(s>0){const[A,w]=this.scroll.descendant(Ms,s-1);A instanceof wu?A.value()[w]!==`
`&&(f=!0):A instanceof tl&&A.statics.scope===Wt.INLINE_BLOT&&(f=!0)}if(this.scroll.insertAt(s,x,l.insert[x]),y){const[A]=this.scroll.descendant(Ms,s);if(A){const w=Gf({},Al(A));d=Ol.AttributeMap.diff(w,d)||{}}}}t+=u}else if(i.push(l),l.retain!==null&&typeof l.retain=="object"){const x=Object.keys(l.retain)[0];if(x==null)return s;this.scroll.updateEmbedAt(s,x,l.retain[x])}Object.keys(d).forEach(x=>{this.scroll.formatAt(s,u,x,d[x])});const b=f?1:0,g=m?1:0;return t+=b+g,i.retain(b),i.delete(g),s+u+b+g},0),i.reduce((s,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(s,l.delete),s):s+Ol.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(n,t){return this.scroll.deleteAt(n,t),this.update(new Ht().retain(n).delete(t))}formatLine(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(a=>{this.scroll.lines(n,Math.max(t,1)).forEach(s=>{s.format(a,r[a])})}),this.scroll.optimize();const i=new Ht().retain(n).retain(t,F0(r));return this.update(i)}formatText(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(a=>{this.scroll.formatAt(n,t,a,r[a])});const i=new Ht().retain(n).retain(t,F0(r));return this.update(i)}getContents(n,t){return this.delta.slice(n,n+t)}getDelta(){return this.scroll.lines().reduce((n,t)=>n.concat(t.delta()),new Ht)}getFormat(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];t===0?this.scroll.path(n).forEach(l=>{const[u]=l;u instanceof gs?r.push(u):u instanceof Ms&&i.push(u)}):(r=this.scroll.lines(n,t),i=this.scroll.descendants(Ms,n,t));const[a,s]=[r,i].map(l=>{const u=l.shift();if(u==null)return{};let d=Al(u);for(;Object.keys(d).length>0;){const f=l.shift();if(f==null)return d;d=dU(Al(f),d)}return d});return{...a,...s}}getHTML(n,t){const[r,i]=this.scroll.line(n);if(r){const a=r.length();return r.length()>=i+t&&!(i===0&&t===a)?S1(r,i,t,!0):S1(this.scroll,n,t,!0)}return""}getText(n,t){return this.getContents(n,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(n,t){const r=z_(t),i=new Ht().retain(n).concat(r);return this.scroll.insertContents(n,r),this.update(i)}insertEmbed(n,t,r){return this.scroll.insertAt(n,t,r),this.update(new Ht().retain(n).insert({[t]:r}))}insertText(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(n,t),Object.keys(r).forEach(i=>{this.scroll.formatAt(n,t.length,i,r[i])}),this.update(new Ht().retain(n).insert(t,F0(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const n=this.scroll.children.head;if((n==null?void 0:n.statics.blotName)!==gs.blotName)return!1;const t=n;return t.children.length>1?!1:t.children.head instanceof Cu}removeFormat(n,t){const r=this.getText(n,t),[i,a]=this.scroll.line(n+t);let s=0,l=new Ht;i!=null&&(s=i.length()-a,l=i.delta().slice(a,a+s-1).insert(`
`));const d=this.getContents(n,t+s).diff(new Ht().insert(r).concat(l)),f=new Ht().retain(n).concat(d);return this.applyDelta(f)}update(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(uU)&&this.scroll.find(t[0].target)){const a=this.scroll.find(t[0].target),s=Al(a),l=a.offset(this.scroll),u=t[0].oldValue.replace(rm.CONTENTS,""),d=new Ht().insert(u),f=new Ht().insert(a.value()),m=r&&{oldRange:q_(r.oldRange,-l),newRange:q_(r.newRange,-l)};n=new Ht().retain(l).concat(d.diff(f,m)).reduce((g,x)=>x.insert?g.insert(x.insert,s):g.push(x),new Ht),this.delta=i.compose(n)}else this.delta=this.getDelta(),(!n||!Lf(i.compose(n),this.delta))&&(n=i.diff(this.delta,r));return n}}function j0(e,n,t){if(e.length===0){const[g]=K5(t.pop());return n<=0?`</li></${g}>`:`</li></${g}>${j0([],n-1,t)}`}const[{child:r,offset:i,length:a,indent:s,type:l},...u]=e,[d,f]=K5(l);if(s>n)return t.push(l),s===n+1?`<${d}><li${f}>${S1(r,i,a)}${j0(u,s,t)}`:`<${d}><li>${j0(e,n+1,t)}`;const m=t[t.length-1];if(s===n&&l===m)return`</li><li${f}>${S1(r,i,a)}${j0(u,s,t)}`;const[b]=K5(t.pop());return`</li></${b}>${j0(e,n-1,t)}`}function S1(e,n,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in e&&typeof e.html=="function")return e.html(n,t);if(e instanceof wu)return Ev(e.value().slice(n,n+t)).replaceAll(" ","&nbsp;");if(e instanceof xu){if(e.statics.blotName==="list-container"){const d=[];return e.children.forEachAt(n,t,(f,m,b)=>{const g="formats"in f&&typeof f.formats=="function"?f.formats():{};d.push({child:f,offset:m,length:b,indent:g.indent||0,type:g.list})}),j0(d,-1,[])}const i=[];if(e.children.forEachAt(n,t,(d,f,m)=>{i.push(S1(d,f,m))}),r||e.statics.blotName==="list")return i.join("");const{outerHTML:a,innerHTML:s}=e.domNode,[l,u]=a.split(`>${s}<`);return l==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${u}`:`${l}>${i.join("")}<${u}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function dU(e,n){return Object.keys(n).reduce((t,r)=>{if(e[r]==null)return t;const i=n[r];return i===e[r]?t[r]=i:Array.isArray(i)?i.indexOf(e[r])<0?t[r]=i.concat([e[r]]):t[r]=i:t[r]=[i,e[r]],t},{})}function K5(e){const n=e==="ordered"?"ol":"ul";switch(e){case"checked":return[n,' data-list="checked"'];case"unchecked":return[n,' data-list="unchecked"'];default:return[n,""]}}function z_(e){return e.reduce((n,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return n.insert(r,t.attributes)}return n.push(t)},new Ht)}function q_(e,n){let{index:t,length:r}=e;return new fp(t+n,r)}function fU(e){const n=[];return e.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((i,a)=>{a&&n.push({insert:`
`,attributes:t.attributes}),i&&n.push({insert:i,attributes:t.attributes})}):n.push(t)}),n}class Eu{constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=n,this.options=t}}tt(Eu,"DEFAULTS",{});const _y="\uFEFF";class J6 extends tl{constructor(n,t){super(n,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(_y),this.rightGuard=document.createTextNode(_y),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(n,t){return n===this.leftGuard?0:n===this.rightGuard?1:super.index(n,t)}restore(n){let t=null,r;const i=n.data.split(_y).join("");if(n===this.leftGuard)if(this.prev instanceof wu){const a=this.prev.length();this.prev.insertAt(a,i),t={startNode:this.prev.domNode,startOffset:a+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:i.length};else n===this.rightGuard&&(this.next instanceof wu?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:i.length}));return n.data=_y,t}update(n,t){n.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(t.range=i)}})}}class hU{constructor(n,t){tt(this,"isComposing",!1);this.scroll=n,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",n=>{this.isComposing||this.handleCompositionStart(n)}),this.scroll.domNode.addEventListener("compositionend",n=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(n)})})}handleCompositionStart(n){const t=n.target instanceof Node?this.scroll.find(n.target,!0):null;t&&!(t instanceof J6)&&(this.emitter.emit(zt.events.COMPOSITION_BEFORE_START,n),this.scroll.batchStart(),this.emitter.emit(zt.events.COMPOSITION_START,n),this.isComposing=!0)}handleCompositionEnd(n){this.emitter.emit(zt.events.COMPOSITION_BEFORE_END,n),this.scroll.batchEnd(),this.emitter.emit(zt.events.COMPOSITION_END,n),this.isComposing=!1}}const l1=class l1{constructor(n,t){tt(this,"modules",{});this.quill=n,this.options=t}init(){Object.keys(this.options.modules).forEach(n=>{this.modules[n]==null&&this.addModule(n)})}addModule(n){const t=this.quill.constructor.import(`modules/${n}`);return this.modules[n]=new t(this.quill,this.options.modules[n]||{}),this.modules[n]}};tt(l1,"DEFAULTS",{modules:{}}),tt(l1,"themes",{default:l1});let im=l1;const pU=e=>e.parentElement||e.getRootNode().host||null,mU=e=>{const n=e.getBoundingClientRect(),t="offsetWidth"in e&&Math.abs(n.width)/e.offsetWidth||1,r="offsetHeight"in e&&Math.abs(n.height)/e.offsetHeight||1;return{top:n.top,right:n.left+e.clientWidth*t,bottom:n.top+e.clientHeight*r,left:n.left}},Ny=e=>{const n=parseInt(e,10);return Number.isNaN(n)?0:n},B_=(e,n,t,r,i,a)=>e<t&&n>r?0:e<t?-(t-e+i):n>r?n-e>r-t?e+i-t:n-r+a:0,gU=(e,n)=>{var a,s,l;const t=e.ownerDocument;let r=n,i=e;for(;i;){const u=i===t.body,d=u?{top:0,right:((a=window.visualViewport)==null?void 0:a.width)??t.documentElement.clientWidth,bottom:((s=window.visualViewport)==null?void 0:s.height)??t.documentElement.clientHeight,left:0}:mU(i),f=getComputedStyle(i),m=B_(r.left,r.right,d.left,d.right,Ny(f.scrollPaddingLeft),Ny(f.scrollPaddingRight)),b=B_(r.top,r.bottom,d.top,d.bottom,Ny(f.scrollPaddingTop),Ny(f.scrollPaddingBottom));if(m||b)if(u)(l=t.defaultView)==null||l.scrollBy(m,b);else{const{scrollLeft:g,scrollTop:x}=i;b&&(i.scrollTop+=b),m&&(i.scrollLeft+=m);const y=i.scrollLeft-g,A=i.scrollTop-x;r={left:r.left-y,top:r.top-A,right:r.right-y,bottom:r.bottom-A}}i=u||f.position==="fixed"?null:pU(i)}},bU=100,yU=["block","break","cursor","inline","scroll","text"],xU=(e,n,t)=>{const r=new nm;return yU.forEach(i=>{const a=n.query(i);a&&r.register(a)}),e.forEach(i=>{let a=n.query(i);a||t.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let s=0;for(;a;)if(r.register(a),a="blotName"in a?a.requiredContainer??null:null,s+=1,s>bU){t.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},z0=Ud("quill"),Ty=new nm;xu.uiClass="ql-ui";const du=class du{static debug(n){n===!0&&(n="log"),Ud.level(n)}static find(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return xS.get(n)||Ty.find(n,t)}static import(n){return this.imports[n]==null&&z0.error(`Cannot import ${n}. Are you sure it was registered?`),this.imports[n]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const n=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in n?n.attrName:n.blotName;typeof r=="string"?this.register(`formats/${r}`,n,t):Object.keys(n).forEach(i=>{this.register(i,n[i],t)})}else{const n=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[n]!=null&&!r&&z0.warn(`Overwriting ${n} with`,t),this.imports[n]=t,(n.startsWith("blots/")||n.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&Ty.register(t),typeof t.register=="function"&&t.register(Ty)}}constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=vU(n,t),this.container=this.options.container,this.container==null){z0.error("Invalid Quill container",n);return}this.options.debug&&du.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",xS.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new zt;const i=Z6.blotName,a=this.options.registry.query(i);if(!a||!("blotName"in a))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new a(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new cU(this.scroll),this.selection=new lU(this.scroll,this.emitter),this.composition=new hU(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(zt.events.EDITOR_CHANGE,s=>{s===zt.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(zt.events.SCROLL_UPDATE,(s,l)=>{const u=this.selection.lastRange,[d]=this.selection.getRange(),f=u&&d?{oldRange:u,newRange:d}:void 0;lu.call(this,()=>this.editor.update(null,l,f),s)}),this.emitter.on(zt.events.SCROLL_EMBED_UPDATE,(s,l)=>{const u=this.selection.lastRange,[d]=this.selection.getRange(),f=u&&d?{oldRange:u,newRange:d}:void 0;lu.call(this,()=>{const m=new Ht().retain(s.offset(this)).retain({[s.statics.blotName]:l});return this.editor.update(m,[],f)},du.sources.USER)}),r){const s=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(s)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof n=="string"){const r=n;n=document.createElement("div"),n.classList.add(r)}return this.container.insertBefore(n,t),n}blur(){this.selection.setRange(null)}deleteText(n,t,r){return[n,t,,r]=pd(n,t,r),lu.call(this,()=>this.editor.deleteText(n,t),r,n,-1*t)}disable(){this.enable(!1)}editReadOnly(n){this.allowReadOnlyEdits=!0;const t=n();return this.allowReadOnlyEdits=!1,t}enable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(n),this.container.classList.toggle("ql-disabled",!n)}focus(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),n.preventScroll||this.scrollSelectionIntoView()}format(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zt.sources.API;return lu.call(this,()=>{const i=this.getSelection(!0);let a=new Ht;if(i==null)return a;if(this.scroll.query(n,Wt.BLOCK))a=this.editor.formatLine(i.index,i.length,{[n]:t});else{if(i.length===0)return this.selection.format(n,t),a;a=this.editor.formatText(i.index,i.length,{[n]:t})}return this.setSelection(i,zt.sources.SILENT),a},r)}formatLine(n,t,r,i,a){let s;return[n,t,s,a]=pd(n,t,r,i,a),lu.call(this,()=>this.editor.formatLine(n,t,s),a,n,0)}formatText(n,t,r,i,a){let s;return[n,t,s,a]=pd(n,t,r,i,a),lu.call(this,()=>this.editor.formatText(n,t,s),a,n,0)}getBounds(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof n=="number"?r=this.selection.getBounds(n,t):r=this.selection.getBounds(n.index,n.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-n;return[n,t]=pd(n,t),this.editor.getContents(n,t)}getFormat(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof n=="number"?this.editor.getFormat(n,t):this.editor.getFormat(n.index,n.length)}getIndex(n){return n.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(n){return this.scroll.leaf(n)}getLine(n){return this.scroll.line(n)}getLines(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof n!="number"?this.scroll.lines(n.index,n.length):this.scroll.lines(n,t)}getModule(n){return this.theme.modules[n]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof n=="number"&&(t=t??this.getLength()-n),[n,t]=pd(n,t),this.editor.getHTML(n,t)}getText(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof n=="number"&&(t=t??this.getLength()-n),[n,t]=pd(n,t),this.editor.getText(n,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(n,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:du.sources.API;return lu.call(this,()=>this.editor.insertEmbed(n,t,r),i,n)}insertText(n,t,r,i,a){let s;return[n,,s,a]=pd(n,0,r,i,a),lu.call(this,()=>this.editor.insertText(n,t,s),a,n,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(n,t,r){return[n,t,,r]=pd(n,t,r),lu.call(this,()=>this.editor.removeFormat(n,t),r,n)}scrollRectIntoView(n){gU(this.root,n)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const n=this.selection.lastRange,t=n&&this.selection.getBounds(n.index,n.length);t&&this.scrollRectIntoView(t)}setContents(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zt.sources.API;return lu.call(this,()=>{n=new Ht(n);const r=this.getLength(),i=this.editor.deleteText(0,r),a=this.editor.insertContents(0,n),s=this.editor.deleteText(this.getLength()-1,1);return i.compose(a).compose(s)},t)}setSelection(n,t,r){n==null?this.selection.setRange(null,t||du.sources.API):([n,t,,r]=pd(n,t,r),this.selection.setRange(new fp(Math.max(0,n),t),r),r!==zt.sources.SILENT&&this.scrollSelectionIntoView())}setText(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zt.sources.API;const r=new Ht().insert(n);return this.setContents(r,t)}update(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zt.sources.USER;const t=this.scroll.update(n);return this.selection.update(n),t}updateContents(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zt.sources.API;return lu.call(this,()=>(n=new Ht(n),this.editor.applyDelta(n)),t,!0)}};tt(du,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Ty,theme:"default"}),tt(du,"events",zt.events),tt(du,"sources",zt.sources),tt(du,"version","2.0.3"),tt(du,"imports",{delta:Ht,parchment:Z$,"core/module":Eu,"core/theme":im});let vt=du;function $_(e){return typeof e=="string"?document.querySelector(e):e}function X5(e){return Object.entries(e??{}).reduce((n,t)=>{let[r,i]=t;return{...n,[r]:i===!0?{}:i}},{})}function U_(e){return Object.fromEntries(Object.entries(e).filter(n=>n[1]!==void 0))}function vU(e,n){const t=$_(e);if(!t)throw new Error("Invalid Quill container");const i=!n.theme||n.theme===vt.DEFAULTS.theme?im:vt.import(`themes/${n.theme}`);if(!i)throw new Error(`Invalid theme ${n.theme}. Did you register it?`);const{modules:a,...s}=vt.DEFAULTS,{modules:l,...u}=i.DEFAULTS;let d=X5(n.modules);d!=null&&d.toolbar&&d.toolbar.constructor!==Object&&(d={...d,toolbar:{container:d.toolbar}});const f=Gf({},X5(a),X5(l),d),m={...s,...U_(u),...U_(n)};let b=n.registry;return b?n.formats&&z0.warn('Ignoring "formats" option because "registry" is specified'):b=n.formats?xU(n.formats,m.registry,z0):m.registry,{...m,registry:b,container:t,theme:i,modules:Object.entries(f).reduce((g,x)=>{let[y,A]=x;if(!A)return g;const w=vt.import(`modules/${y}`);return w==null?(z0.error(`Cannot load ${y} module. Are you sure you registered it?`),g):{...g,[y]:Gf({},w.DEFAULTS||{},A)}},{}),bounds:$_(m.bounds)}}function lu(e,n,t,r){if(!this.isEnabled()&&n===zt.sources.USER&&!this.allowReadOnlyEdits)return new Ht;let i=t==null?null:this.getSelection();const a=this.editor.delta,s=e();if(i!=null&&(t===!0&&(t=i.index),r==null?i=H_(i,s,n):r!==0&&(i=H_(i,t,r,n)),this.setSelection(i,zt.sources.SILENT)),s.length()>0){const l=[zt.events.TEXT_CHANGE,s,a,n];this.emitter.emit(zt.events.EDITOR_CHANGE,...l),n!==zt.sources.SILENT&&this.emitter.emit(...l)}return s}function pd(e,n,t,r,i){let a={};return typeof e.index=="number"&&typeof e.length=="number"?typeof n!="number"?(i=r,r=t,t=n,n=e.length,e=e.index):(n=e.length,e=e.index):typeof n!="number"&&(i=r,r=t,t=n,n=0),typeof t=="object"?(a=t,i=r):typeof t=="string"&&(r!=null?a[t]=r:i=t),i=i||zt.sources.API,[e,n,a,i]}function H_(e,n,t,r){const i=typeof t=="number"?t:0;if(e==null)return null;let a,s;return n&&typeof n.transformPosition=="function"?[a,s]=[e.index,e.index+e.length].map(l=>n.transformPosition(l,r!==zt.sources.USER)):[a,s]=[e.index,e.index+e.length].map(l=>l<n||l===n&&r===zt.sources.USER?l:i>=0?l+i:Math.max(n,l+i)),new fp(a,s-a)}class kp extends Cv{}function W_(e){return e instanceof gs||e instanceof jl}function Y_(e){return typeof e.updateContent=="function"}class O0 extends Z6{constructor(n,t,r){let{emitter:i}=r;super(n,t),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",a=>this.handleDragStart(a))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const n=this.batch;this.batch=!1,this.update(n)}emitMount(n){this.emitter.emit(zt.events.SCROLL_BLOT_MOUNT,n)}emitUnmount(n){this.emitter.emit(zt.events.SCROLL_BLOT_UNMOUNT,n)}emitEmbedUpdate(n,t){this.emitter.emit(zt.events.SCROLL_EMBED_UPDATE,n,t)}deleteAt(n,t){const[r,i]=this.line(n),[a]=this.line(n+t);if(super.deleteAt(n,t),a!=null&&r!==a&&i>0){if(r instanceof jl||a instanceof jl){this.optimize();return}const s=a.children.head instanceof Cu?null:a.children.head;r.moveChildren(a,s),r.remove()}this.optimize()}enable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",n?"true":"false")}formatAt(n,t,r,i){super.formatAt(n,t,r,i),this.optimize()}insertAt(n,t,r){if(n>=this.length())if(r==null||this.scroll.query(t,Wt.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&t.endsWith(`
`)?i.insertAt(0,t.slice(0,-1),r):i.insertAt(0,t,r)}else{const i=this.scroll.create(t,r);this.appendChild(i)}else super.insertAt(n,t,r);this.optimize()}insertBefore(n,t){if(n.statics.scope===Wt.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(n),super.insertBefore(r,t)}else super.insertBefore(n,t)}insertContents(n,t){const r=this.deltaToRenderBlocks(t.concat(new Ht().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const a=r.shift();if(a){const u=a.type==="block"&&(a.delta.length()===0||!this.descendant(jl,n)[0]&&n<this.length()),d=a.type==="block"?a.delta:new Ht().insert({[a.key]:a.value});Z5(this,n,d);const f=a.type==="block"?1:0,m=n+d.length()+f;u&&this.insertAt(m-1,`
`);const b=Al(this.line(n)[0]),g=Ol.AttributeMap.diff(b,a.attributes)||{};Object.keys(g).forEach(x=>{this.formatAt(m-1,1,x,g[x])}),n=m}let[s,l]=this.children.find(n);if(r.length&&(s&&(s=s.split(l),l=0),r.forEach(u=>{if(u.type==="block"){const d=this.createBlock(u.attributes,s||void 0);Z5(d,0,u.delta)}else{const d=this.create(u.key,u.value);this.insertBefore(d,s||void 0),Object.keys(u.attributes).forEach(f=>{d.format(f,u.attributes[f])})}})),i.type==="block"&&i.delta.length()){const u=s?s.offset(s.scroll)+l:this.length();Z5(this,u,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(n){const t=this.path(n).pop();if(!t)return[null,-1];const[r,i]=t;return r instanceof Ms?[r,i]:[null,-1]}line(n){return n===this.length()?this.line(n-1):this.descendant(W_,n)}lines(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,a,s)=>{let l=[],u=s;return i.children.forEachAt(a,s,(d,f,m)=>{W_(d)?l.push(d):d instanceof Cv&&(l=l.concat(r(d,f,u))),u-=m}),l};return r(this,n,t)}optimize(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(n,t),n.length>0&&this.emitter.emit(zt.events.SCROLL_OPTIMIZE,n,t))}path(n){return super.path(n).slice(1)}remove(){}update(n){if(this.batch){Array.isArray(n)&&(this.batch=this.batch.concat(n));return}let t=zt.sources.USER;typeof n=="string"&&(t=n),Array.isArray(n)||(n=this.observer.takeRecords()),n=n.filter(r=>{let{target:i}=r;const a=this.find(i,!0);return a&&!Y_(a)}),n.length>0&&this.emitter.emit(zt.events.SCROLL_BEFORE_UPDATE,t,n),super.update(n.concat([])),n.length>0&&this.emitter.emit(zt.events.SCROLL_UPDATE,t,n)}updateEmbedAt(n,t,r){const[i]=this.descendant(a=>a instanceof jl,n);i&&i.statics.blotName===t&&Y_(i)&&i.updateContent(r)}handleDragStart(n){n.preventDefault()}deltaToRenderBlocks(n){const t=[];let r=new Ht;return n.forEach(i=>{const a=i==null?void 0:i.insert;if(a)if(typeof a=="string"){const s=a.split(`
`);s.slice(0,-1).forEach(u=>{r.insert(u,i.attributes),t.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new Ht});const l=s[s.length-1];l&&r.insert(l,i.attributes)}else{const s=Object.keys(a)[0];if(!s)return;this.query(s,Wt.INLINE)?r.push(i):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new Ht,t.push({type:"blockEmbed",key:s,value:a[s],attributes:i.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(n,t){let r;const i={};Object.entries(n).forEach(l=>{let[u,d]=l;this.query(u,Wt.BLOCK&Wt.BLOT)!=null?r=u:i[u]=d});const a=this.create(r||this.statics.defaultChild.blotName,r?n[r]:void 0);this.insertBefore(a,t||void 0);const s=a.length();return Object.entries(i).forEach(l=>{let[u,d]=l;a.formatAt(0,s,u,d)}),a}}tt(O0,"blotName","scroll"),tt(O0,"className","ql-editor"),tt(O0,"tagName","DIV"),tt(O0,"defaultChild",gs),tt(O0,"allowedChildren",[gs,jl,kp]);function Z5(e,n,t){t.reduce((r,i)=>{const a=Ol.Op.length(i);let s=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const l=i.insert;e.insertAt(r,l);const[u]=e.descendant(Ms,r),d=Al(u);s=Ol.AttributeMap.diff(d,s)||{}}else if(typeof i.insert=="object"){const l=Object.keys(i.insert)[0];if(l==null)return r;if(e.insertAt(r,l,i.insert[l]),e.scroll.query(l,Wt.INLINE)!=null){const[d]=e.descendant(Ms,r),f=Al(d);s=Ol.AttributeMap.diff(f,s)||{}}}}return Object.keys(s).forEach(l=>{e.formatAt(r,a,l,s[l])}),r+a},n)}const eA={scope:Wt.BLOCK,whitelist:["right","center","justify"]},wU=new Rc("align","align",eA),H7=new Au("align","ql-align",eA),W7=new uh("align","text-align",eA);class Y7 extends uh{value(n){let t=super.value(n);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):t}}const SU=new Au("color","ql-color",{scope:Wt.INLINE}),tA=new Y7("color","color",{scope:Wt.INLINE}),AU=new Au("background","ql-bg",{scope:Wt.INLINE}),nA=new Y7("background","background-color",{scope:Wt.INLINE});class _p extends kp{static create(n){const t=super.create(n);return t.setAttribute("spellcheck","false"),t}code(n,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(n,n+t)}html(n,t){return`<pre>
${Ev(this.code(n,t))}
</pre>`}}class $s extends gs{static register(){vt.register(_p)}}tt($s,"TAB","  ");class rA extends Mc{}rA.blotName="code";rA.tagName="CODE";$s.blotName="code-block";$s.className="ql-code-block";$s.tagName="DIV";_p.blotName="code-block-container";_p.className="ql-code-block-container";_p.tagName="DIV";_p.allowedChildren=[$s];$s.allowedChildren=[wu,Cu,rm];$s.requiredContainer=_p;const iA={scope:Wt.BLOCK,whitelist:["rtl"]},V7=new Rc("direction","dir",iA),G7=new Au("direction","ql-direction",iA),Q7=new uh("direction","direction",iA),K7={scope:Wt.INLINE,whitelist:["serif","monospace"]},X7=new Au("font","ql-font",K7);class CU extends uh{value(n){return super.value(n).replace(/["']/g,"")}}const Z7=new CU("font","font-family",K7),J7=new Au("size","ql-size",{scope:Wt.INLINE,whitelist:["small","large","huge"]}),eO=new uh("size","font-size",{scope:Wt.INLINE,whitelist:["10px","18px","32px"]}),EU=Ud("quill:keyboard"),kU=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class kv extends Eu{static match(n,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==n[r]&&t[r]!==null)?!1:t.key===n.key||t.key===n.which}constructor(n,t){super(n,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=NU(n);if(i==null){EU.warn("Attempted to add invalid keyboard binding",i);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(s=>{const l={...i,key:s,...t,...r};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",n=>{if(n.defaultPrevented||n.isComposing||n.keyCode===229&&(n.key==="Enter"||n.key==="Backspace"))return;const i=(this.bindings[n.key]||[]).concat(this.bindings[n.which]||[]).filter(w=>kv.match(n,w));if(i.length===0)return;const a=vt.find(n.target,!0);if(a&&a.scroll!==this.quill.scroll)return;const s=this.quill.getSelection();if(s==null||!this.quill.hasFocus())return;const[l,u]=this.quill.getLine(s.index),[d,f]=this.quill.getLeaf(s.index),[m,b]=s.length===0?[d,f]:this.quill.getLeaf(s.index+s.length),g=d instanceof Mx?d.value().slice(0,f):"",x=m instanceof Mx?m.value().slice(b):"",y={collapsed:s.length===0,empty:s.length===0&&l.length()<=1,format:this.quill.getFormat(s),line:l,offset:u,prefix:g,suffix:x,event:n};i.some(w=>{if(w.collapsed!=null&&w.collapsed!==y.collapsed||w.empty!=null&&w.empty!==y.empty||w.offset!=null&&w.offset!==y.offset)return!1;if(Array.isArray(w.format)){if(w.format.every(C=>y.format[C]==null))return!1}else if(typeof w.format=="object"&&!Object.keys(w.format).every(C=>w.format[C]===!0?y.format[C]!=null:w.format[C]===!1?y.format[C]==null:Lf(w.format[C],y.format[C])))return!1;return w.prefix!=null&&!w.prefix.test(y.prefix)||w.suffix!=null&&!w.suffix.test(y.suffix)?!1:w.handler.call(this,s,y,w)!==!0})&&n.preventDefault()})}handleBackspace(n,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(n.index===0||this.quill.getLength()<=1)return;let i={};const[a]=this.quill.getLine(n.index);let s=new Ht().retain(n.index-r).delete(r);if(t.offset===0){const[l]=this.quill.getLine(n.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const d=a.formats(),f=this.quill.getFormat(n.index-1,1);if(i=Ol.AttributeMap.diff(d,f)||{},Object.keys(i).length>0){const m=new Ht().retain(n.index+a.length()-2).retain(1,i);s=s.compose(m)}}}this.quill.updateContents(s,vt.sources.USER),this.quill.focus()}handleDelete(n,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(n.index>=this.quill.getLength()-r)return;let i={};const[a]=this.quill.getLine(n.index);let s=new Ht().retain(n.index).delete(r);if(t.offset>=a.length()-1){const[l]=this.quill.getLine(n.index+1);if(l){const u=a.formats(),d=this.quill.getFormat(n.index,1);i=Ol.AttributeMap.diff(u,d)||{},Object.keys(i).length>0&&(s=s.retain(l.length()-1).retain(1,i))}}this.quill.updateContents(s,vt.sources.USER),this.quill.focus()}handleDeleteRange(n){aA({range:n,quill:this.quill}),this.quill.focus()}handleEnter(n,t){const r=Object.keys(t.format).reduce((a,s)=>(this.quill.scroll.query(s,Wt.BLOCK)&&!Array.isArray(t.format[s])&&(a[s]=t.format[s]),a),{}),i=new Ht().retain(n.index).delete(n.length).insert(`
`,r);this.quill.updateContents(i,vt.sources.USER),this.quill.setSelection(n.index+1,vt.sources.SILENT),this.quill.focus()}}const _U={bindings:{bold:J5("bold"),italic:J5("italic"),underline:J5("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,n){return n.collapsed&&n.offset!==0?!0:(this.quill.format("indent","+1",vt.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,n){return n.collapsed&&n.offset!==0?!0:(this.quill.format("indent","-1",vt.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,n){n.format.indent!=null?this.quill.format("indent","-1",vt.sources.USER):n.format.list!=null&&this.quill.format("list",!1,vt.sources.USER)}},"indent code-block":V_(!0),"outdent code-block":V_(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,vt.sources.USER)}},tab:{key:"Tab",handler(e,n){if(n.format.table)return!0;this.quill.history.cutoff();const t=new Ht().retain(e.index).delete(e.length).insert("	");return this.quill.updateContents(t,vt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,vt.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,vt.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,n){const t={list:!1};n.format.indent&&(t.indent=!1),this.quill.formatLine(e.index,e.length,t,vt.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[n,t]=this.quill.getLine(e.index),r={...n.formats(),list:"checked"},i=new Ht().retain(e.index).insert(`
`,r).retain(n.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,vt.sources.USER),this.quill.setSelection(e.index+1,vt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,n){const[t,r]=this.quill.getLine(e.index),i=new Ht().retain(e.index).insert(`
`,n.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,vt.sources.USER),this.quill.setSelection(e.index+1,vt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const n=this.quill.getModule("table");if(n){const[t,r,i,a]=n.getTable(e),s=TU(t,r,i,a);if(s==null)return;let l=t.offset();if(s<0){const u=new Ht().retain(l).insert(`
`);this.quill.updateContents(u,vt.sources.USER),this.quill.setSelection(e.index+1,e.length,vt.sources.SILENT)}else if(s>0){l+=t.length();const u=new Ht().retain(l).insert(`
`);this.quill.updateContents(u,vt.sources.USER),this.quill.setSelection(l,vt.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,n){const{event:t,line:r}=n,i=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(i-1,vt.sources.USER):this.quill.setSelection(i+r.length(),vt.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,n){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=n.prefix,[r,i]=this.quill.getLine(e.index);if(i>t)return!0;let a;switch(n.prefix.trim()){case"[]":case"[ ]":a="unchecked";break;case"[x]":a="checked";break;case"-":case"*":a="bullet";break;default:a="ordered"}this.quill.insertText(e.index," ",vt.sources.USER),this.quill.history.cutoff();const s=new Ht().retain(e.index-i).delete(t+1).retain(r.length()-2-i).retain(1,{list:a});return this.quill.updateContents(s,vt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-t,vt.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[n,t]=this.quill.getLine(e.index);let r=2,i=n;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const a=new Ht().retain(e.index+n.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(a,vt.sources.USER),this.quill.setSelection(e.index-1,vt.sources.SILENT),!1}return!0}},"embed left":jy("ArrowLeft",!1),"embed left shift":jy("ArrowLeft",!0),"embed right":jy("ArrowRight",!1),"embed right shift":jy("ArrowRight",!0),"table down":G_(!1),"table up":G_(!0)}};kv.DEFAULTS=_U;function V_(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(n,t){let{event:r}=t;const i=this.quill.scroll.query("code-block"),{TAB:a}=i;if(n.length===0&&!r.shiftKey){this.quill.insertText(n.index,a,vt.sources.USER),this.quill.setSelection(n.index+a.length,vt.sources.SILENT);return}const s=n.length===0?this.quill.getLines(n.index,1):this.quill.getLines(n);let{index:l,length:u}=n;s.forEach((d,f)=>{e?(d.insertAt(0,a),f===0?l+=a.length:u+=a.length):d.domNode.textContent.startsWith(a)&&(d.deleteAt(0,a.length),f===0?l-=a.length:u-=a.length)}),this.quill.update(vt.sources.USER),this.quill.setSelection(l,u,vt.sources.SILENT)}}}function jy(e,n){return{key:e,shiftKey:n,altKey:null,[e==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;e==="ArrowRight"&&(i+=r.length+1);const[a]=this.quill.getLeaf(i);return a instanceof tl?(e==="ArrowLeft"?n?this.quill.setSelection(r.index-1,r.length+1,vt.sources.USER):this.quill.setSelection(r.index-1,vt.sources.USER):n?this.quill.setSelection(r.index,r.length+1,vt.sources.USER):this.quill.setSelection(r.index+r.length+1,vt.sources.USER),!1):!0}}}function J5(e){return{key:e[0],shortKey:!0,handler(n,t){this.quill.format(e,!t.format[e],vt.sources.USER)}}}function G_(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(n,t){const r=e?"prev":"next",i=t.line,a=i.parent[r];if(a!=null){if(a.statics.blotName==="table-row"){let s=a.children.head,l=i;for(;l.prev!=null;)l=l.prev,s=s.next;const u=s.offset(this.quill.scroll)+Math.min(t.offset,s.length()-1);this.quill.setSelection(u,0,vt.sources.USER)}}else{const s=i.table()[r];s!=null&&(e?this.quill.setSelection(s.offset(this.quill.scroll)+s.length()-1,0,vt.sources.USER):this.quill.setSelection(s.offset(this.quill.scroll),0,vt.sources.USER))}return!1}}}function NU(e){if(typeof e=="string"||typeof e=="number")e={key:e};else if(typeof e=="object")e=F0(e);else return null;return e.shortKey&&(e[kU]=e.shortKey,delete e.shortKey),e}function aA(e){let{quill:n,range:t}=e;const r=n.getLines(t);let i={};if(r.length>1){const a=r[0].formats(),s=r[r.length-1].formats();i=Ol.AttributeMap.diff(s,a)||{}}n.deleteText(t,vt.sources.USER),Object.keys(i).length>0&&n.formatLine(t.index,1,i,vt.sources.USER),n.setSelection(t.index,vt.sources.SILENT)}function TU(e,n,t,r){return n.prev==null&&n.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:n.prev==null?-1:n.next==null?1:null}const jU=/font-weight:\s*normal/,OU=["P","OL","UL"],Q_=e=>e&&OU.includes(e.tagName),IU=e=>{Array.from(e.querySelectorAll("br")).filter(n=>Q_(n.previousElementSibling)&&Q_(n.nextElementSibling)).forEach(n=>{var t;(t=n.parentNode)==null||t.removeChild(n)})},DU=e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter(n=>{var t;return(t=n.getAttribute("style"))==null?void 0:t.match(jU)}).forEach(n=>{var r;const t=e.createDocumentFragment();t.append(...n.childNodes),(r=n.parentNode)==null||r.replaceChild(t,n)})};function LU(e){e.querySelector('[id^="docs-internal-guid-"]')&&(DU(e),IU(e))}const RU=/\bmso-list:[^;]*ignore/i,MU=/\bmso-list:[^;]*\bl(\d+)/i,FU=/\bmso-list:[^;]*\blevel(\d+)/i,PU=(e,n)=>{const t=e.getAttribute("style"),r=t==null?void 0:t.match(MU);if(!r)return null;const i=Number(r[1]),a=t==null?void 0:t.match(FU),s=a?Number(a[1]):1,l=new RegExp(`@list l${i}:level${s}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),u=n.match(l),d=u&&u[1]==="bullet"?"bullet":"ordered";return{id:i,indent:s,type:d,element:e}},zU=e=>{var s,l;const n=Array.from(e.querySelectorAll("[style*=mso-list]")),t=[],r=[];n.forEach(u=>{(u.getAttribute("style")||"").match(RU)?t.push(u):r.push(u)}),t.forEach(u=>{var d;return(d=u.parentNode)==null?void 0:d.removeChild(u)});const i=e.documentElement.innerHTML,a=r.map(u=>PU(u,i)).filter(u=>u);for(;a.length;){const u=[];let d=a.shift();for(;d;)u.push(d),d=a.length&&((s=a[0])==null?void 0:s.element)===d.element.nextElementSibling&&a[0].id===d.id?a.shift():null;const f=document.createElement("ul");u.forEach(g=>{const x=document.createElement("li");x.setAttribute("data-list",g.type),g.indent>1&&x.setAttribute("class",`ql-indent-${g.indent-1}`),x.innerHTML=g.element.innerHTML,f.appendChild(x)});const m=(l=u[0])==null?void 0:l.element,{parentNode:b}=m??{};m&&(b==null||b.replaceChild(f,m)),u.slice(1).forEach(g=>{let{element:x}=g;b==null||b.removeChild(x)})}};function qU(e){e.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&zU(e)}const BU=[qU,LU],$U=e=>{e.documentElement&&BU.forEach(n=>{n(e)})},UU=Ud("quill:clipboard"),HU=[[Node.TEXT_NODE,nH],[Node.TEXT_NODE,X_],["br",QU],[Node.ELEMENT_NODE,X_],[Node.ELEMENT_NODE,GU],[Node.ELEMENT_NODE,VU],[Node.ELEMENT_NODE,eH],["li",ZU],["ol, ul",JU],["pre",KU],["tr",tH],["b",ew("bold")],["i",ew("italic")],["strike",ew("strike")],["style",XU]],WU=[wU,V7].reduce((e,n)=>(e[n.keyName]=n,e),{}),K_=[W7,nA,tA,Q7,Z7,eO].reduce((e,n)=>(e[n.keyName]=n,e),{});class tO extends Eu{constructor(n,t){super(n,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],HU.concat(this.options.matchers??[]).forEach(r=>{let[i,a]=r;this.addMatcher(i,a)})}addMatcher(n,t){this.matchers.push([n,t])}convert(n){let{html:t,text:r}=n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[$s.blotName])return new Ht().insert(r||"",{[$s.blotName]:i[$s.blotName]});if(!t)return new Ht().insert(r||"",i);const a=this.convertHTML(t);return Z1(a,`
`)&&(a.ops[a.ops.length-1].attributes==null||i.table)?a.compose(new Ht().retain(a.length()-1).delete(1)):a}normalizeHTML(n){$U(n)}convertHTML(n){const t=new DOMParser().parseFromString(n,"text/html");this.normalizeHTML(t);const r=t.body,i=new WeakMap,[a,s]=this.prepareMatching(r,i);return sA(this.quill.scroll,r,a,s,i)}dangerouslyPasteHTML(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vt.sources.API;if(typeof n=="string"){const i=this.convert({html:n,text:""});this.quill.setContents(i,t),this.quill.setSelection(0,vt.sources.SILENT)}else{const i=this.convert({html:t,text:""});this.quill.updateContents(new Ht().retain(n).concat(i),r),this.quill.setSelection(n+i.length(),vt.sources.SILENT)}}onCaptureCopy(n){var s,l;let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n.defaultPrevented)return;n.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:a}=this.onCopy(r,t);(s=n.clipboardData)==null||s.setData("text/plain",a),(l=n.clipboardData)==null||l.setData("text/html",i),t&&aA({range:r,quill:this.quill})}normalizeURIList(n){return n.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(n){var s,l,u,d,f;if(n.defaultPrevented||!this.quill.isEnabled())return;n.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=(s=n.clipboardData)==null?void 0:s.getData("text/html");let i=(l=n.clipboardData)==null?void 0:l.getData("text/plain");if(!r&&!i){const m=(u=n.clipboardData)==null?void 0:u.getData("text/uri-list");m&&(i=this.normalizeURIList(m))}const a=Array.from(((d=n.clipboardData)==null?void 0:d.files)||[]);if(!r&&a.length>0){this.quill.uploader.upload(t,a);return}if(r&&a.length>0){const m=new DOMParser().parseFromString(r,"text/html");if(m.body.childElementCount===1&&((f=m.body.firstElementChild)==null?void 0:f.tagName)==="IMG"){this.quill.uploader.upload(t,a);return}}this.onPaste(t,{html:r,text:i})}onCopy(n){const t=this.quill.getText(n);return{html:this.quill.getSemanticHTML(n),text:t}}onPaste(n,t){let{text:r,html:i}=t;const a=this.quill.getFormat(n.index),s=this.convert({text:r,html:i},a);UU.log("onPaste",s,{text:r,html:i});const l=new Ht().retain(n.index).delete(n.length).concat(s);this.quill.updateContents(l,vt.sources.USER),this.quill.setSelection(l.length()-n.length,vt.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(n,t){const r=[],i=[];return this.matchers.forEach(a=>{const[s,l]=a;switch(s){case Node.TEXT_NODE:i.push(l);break;case Node.ELEMENT_NODE:r.push(l);break;default:Array.from(n.querySelectorAll(s)).forEach(u=>{if(t.has(u)){const d=t.get(u);d==null||d.push(l)}else t.set(u,[l])});break}}),[r,i]}}tt(tO,"DEFAULTS",{matchers:[]});function Np(e,n,t,r){return r.query(n)?e.reduce((i,a)=>{if(!a.insert)return i;if(a.attributes&&a.attributes[n])return i.push(a);const s=t?{[n]:t}:{};return i.insert(a.insert,{...s,...a.attributes})},new Ht):e}function Z1(e,n){let t="";for(let r=e.ops.length-1;r>=0&&t.length<n.length;--r){const i=e.ops[r];if(typeof i.insert!="string")break;t=i.insert+t}return t.slice(-1*n.length)===n}function Ff(e,n){if(!(e instanceof Element))return!1;const t=n.query(e);return t&&t.prototype instanceof tl?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}function YU(e,n){return e.previousElementSibling&&e.nextElementSibling&&!Ff(e.previousElementSibling,n)&&!Ff(e.nextElementSibling,n)}const Oy=new WeakMap;function nO(e){return e==null?!1:(Oy.has(e)||(e.tagName==="PRE"?Oy.set(e,!0):Oy.set(e,nO(e.parentNode))),Oy.get(e))}function sA(e,n,t,r,i){return n.nodeType===n.TEXT_NODE?r.reduce((a,s)=>s(n,a,e),new Ht):n.nodeType===n.ELEMENT_NODE?Array.from(n.childNodes||[]).reduce((a,s)=>{let l=sA(e,s,t,r,i);return s.nodeType===n.ELEMENT_NODE&&(l=t.reduce((u,d)=>d(s,u,e),l),l=(i.get(s)||[]).reduce((u,d)=>d(s,u,e),l)),a.concat(l)},new Ht):new Ht}function ew(e){return(n,t,r)=>Np(t,e,!0,r)}function VU(e,n,t){const r=Rc.keys(e),i=Au.keys(e),a=uh.keys(e),s={};return r.concat(i).concat(a).forEach(l=>{let u=t.query(l,Wt.ATTRIBUTE);u!=null&&(s[u.attrName]=u.value(e),s[u.attrName])||(u=WU[l],u!=null&&(u.attrName===l||u.keyName===l)&&(s[u.attrName]=u.value(e)||void 0),u=K_[l],u!=null&&(u.attrName===l||u.keyName===l)&&(u=K_[l],s[u.attrName]=u.value(e)||void 0))}),Object.entries(s).reduce((l,u)=>{let[d,f]=u;return Np(l,d,f,t)},n)}function GU(e,n,t){const r=t.query(e);if(r==null)return n;if(r.prototype instanceof tl){const i={},a=r.value(e);if(a!=null)return i[r.blotName]=a,new Ht().insert(i,r.formats(e,t))}else if(r.prototype instanceof w1&&!Z1(n,`
`)&&n.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return Np(n,r.blotName,r.formats(e,t),t);return n}function QU(e,n){return Z1(n,`
`)||n.insert(`
`),n}function KU(e,n,t){const r=t.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(e,t):!0;return Np(n,"code-block",i,t)}function XU(){return new Ht}function ZU(e,n,t){const r=t.query(e);if(r==null||r.blotName!=="list"||!Z1(n,`
`))return n;let i=-1,a=e.parentNode;for(;a!=null;)["OL","UL"].includes(a.tagName)&&(i+=1),a=a.parentNode;return i<=0?n:n.reduce((s,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?s.push(l):s.insert(l.insert,{indent:i,...l.attributes||{}}):s,new Ht)}function JU(e,n,t){const r=e;let i=r.tagName==="OL"?"ordered":"bullet";const a=r.getAttribute("data-checked");return a&&(i=a==="true"?"checked":"unchecked"),Np(n,"list",i,t)}function X_(e,n,t){if(!Z1(n,`
`)){if(Ff(e,t)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return n.insert(`
`);if(n.length()>0&&e.nextSibling){let r=e.nextSibling;for(;r!=null;){if(Ff(r,t))return n.insert(`
`);const i=t.query(r);if(i&&i.prototype instanceof jl)return n.insert(`
`);r=r.firstChild}}}return n}function eH(e,n,t){var a;const r={},i=e.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),((a=i.fontWeight)!=null&&a.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),n=Object.entries(r).reduce((s,l)=>{let[u,d]=l;return Np(s,u,d,t)},n),parseFloat(i.textIndent||0)>0?new Ht().insert("	").concat(n):n}function tH(e,n,t){var i,a;const r=((i=e.parentElement)==null?void 0:i.tagName)==="TABLE"?e.parentElement:(a=e.parentElement)==null?void 0:a.parentElement;if(r!=null){const l=Array.from(r.querySelectorAll("tr")).indexOf(e)+1;return Np(n,"table",l,t)}return n}function nH(e,n,t){var i;let r=e.data;if(((i=e.parentElement)==null?void 0:i.tagName)==="O:P")return n.insert(r.trim());if(!nO(e)){if(r.trim().length===0&&r.includes(`
`)&&!YU(e,t))return n;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(e.previousSibling==null&&e.parentElement!=null&&Ff(e.parentElement,t)||e.previousSibling instanceof Element&&Ff(e.previousSibling,t))&&(r=r.replace(/^ /,"")),(e.nextSibling==null&&e.parentElement!=null&&Ff(e.parentElement,t)||e.nextSibling instanceof Element&&Ff(e.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return n.insert(r)}class rO extends Eu{constructor(t,r){super(t,r);tt(this,"lastRecorded",0);tt(this,"ignoreChange",!1);tt(this,"stack",{undo:[],redo:[]});tt(this,"currentRange",null);this.quill.on(vt.events.EDITOR_CHANGE,(i,a,s,l)=>{i===vt.events.SELECTION_CHANGE?a&&l!==vt.sources.SILENT&&(this.currentRange=a):i===vt.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===vt.sources.USER?this.record(a,s):this.transform(a)),this.currentRange=SS(this.currentRange,a))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(t,r){if(this.stack[t].length===0)return;const i=this.stack[t].pop();if(!i)return;const a=this.quill.getContents(),s=i.delta.invert(a);this.stack[r].push({delta:s,range:SS(i.range,s)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,vt.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,r){if(t.ops.length===0)return;this.stack.redo=[];let i=t.invert(r),a=this.currentRange;const s=Date.now();if(this.lastRecorded+this.options.delay>s&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(i=i.compose(l.delta),a=l.range)}else this.lastRecorded=s;i.length()!==0&&(this.stack.undo.push({delta:i,range:a}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){Z_(this.stack.undo,t),Z_(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,vt.sources.USER);else{const r=iH(this.quill.scroll,t.delta);this.quill.setSelection(r,vt.sources.USER)}}}tt(rO,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function Z_(e,n){let t=n;for(let r=e.length-1;r>=0;r-=1){const i=e[r];e[r]={delta:t.transform(i.delta,!0),range:i.range&&SS(i.range,t)},t=i.delta.transform(t),e[r].delta.length()===0&&e.splice(r,1)}}function rH(e,n){const t=n.ops[n.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>e.query(r,Wt.BLOCK)!=null):!1}function iH(e,n){const t=n.reduce((i,a)=>i+(a.delete||0),0);let r=n.length()-t;return rH(e,n)&&(r-=1),r}function SS(e,n){if(!e)return e;const t=n.transformPosition(e.index),r=n.transformPosition(e.index+e.length);return{index:t,length:r-t}}class iO extends Eu{constructor(n,t){super(n,t),n.root.addEventListener("drop",r=>{var s;r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(l.offsetNode,l.offset),i.setEnd(l.offsetNode,l.offset)}const a=i&&n.selection.normalizeNative(i);if(a){const l=n.selection.normalizedToRange(a);(s=r.dataTransfer)!=null&&s.files&&this.upload(l,r.dataTransfer.files)}})}upload(n,t){const r=[];Array.from(t).forEach(i=>{var a;i&&((a=this.options.mimetypes)!=null&&a.includes(i.type))&&r.push(i)}),r.length>0&&this.options.handler.call(this,n,r)}}iO.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,n){if(!this.quill.scroll.query("image"))return;const t=n.map(r=>new Promise(i=>{const a=new FileReader;a.onload=()=>{i(a.result)},a.readAsDataURL(r)}));Promise.all(t).then(r=>{const i=r.reduce((a,s)=>a.insert({image:s}),new Ht().retain(e.index).delete(e.length));this.quill.updateContents(i,zt.sources.USER),this.quill.setSelection(e.index+r.length,zt.sources.SILENT)})}};const aH=["insertText","insertReplacementText"];class sH extends Eu{constructor(n,t){super(n,t),n.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||n.on(vt.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(n){aA({range:n,quill:this.quill})}replaceText(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n.length===0)return!1;if(t){const r=this.quill.getFormat(n.index,1);this.deleteRange(n),this.quill.updateContents(new Ht().retain(n.index).insert(t,r),vt.sources.USER)}else this.deleteRange(n);return this.quill.setSelection(n.index+t.length,0,vt.sources.SILENT),!0}handleBeforeInput(n){if(this.quill.composition.isComposing||n.defaultPrevented||!aH.includes(n.inputType))return;const t=n.getTargetRanges?n.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=oH(n);if(r==null)return;const i=this.quill.selection.normalizeNative(t),a=i?this.quill.selection.normalizedToRange(i):null;a&&this.replaceText(a,r)&&n.preventDefault()}handleCompositionStart(){const n=this.quill.getSelection();n&&this.replaceText(n)}}function oH(e){var n;return typeof e.data=="string"?e.data:(n=e.dataTransfer)!=null&&n.types.includes("text/plain")?e.dataTransfer.getData("text/plain"):null}const lH=/Mac/i.test(navigator.platform),uH=100,cH=e=>!!(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="Home"||lH&&e.key==="a"&&e.ctrlKey===!0);class dH extends Eu{constructor(t,r){super(t,r);tt(this,"isListening",!1);tt(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,r){let{line:i,event:a}=r;if(!(i instanceof xu)||!i.uiNode)return!0;const s=getComputedStyle(i.domNode).direction==="rtl";return s&&a.key!=="ArrowRight"||!s&&a.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(a.shiftKey?1:0),vt.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&cH(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+uH,this.isListening)return;this.isListening=!0;const t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const r=t.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const i=this.quill.scroll.find(r.startContainer);if(!(i instanceof xu)||!i.uiNode)return;const a=document.createRange();a.setStartAfter(i.uiNode),a.setEndAfter(i.uiNode),t.removeAllRanges(),t.addRange(a)}}vt.register({"blots/block":gs,"blots/block/embed":jl,"blots/break":Cu,"blots/container":kp,"blots/cursor":rm,"blots/embed":J6,"blots/inline":Mc,"blots/scroll":O0,"blots/text":wu,"modules/clipboard":tO,"modules/history":rO,"modules/keyboard":kv,"modules/uploader":iO,"modules/input":sH,"modules/uiNode":dH});class fH extends Au{add(n,t){let r=0;if(t==="+1"||t==="-1"){const i=this.value(n)||0;r=t==="+1"?i+1:i-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(n),!0):super.add(n,r.toString())}canAdd(n,t){return super.canAdd(n,t)||super.canAdd(n,parseInt(t,10))}value(n){return parseInt(super.value(n),10)||void 0}}const hH=new fH("indent","ql-indent",{scope:Wt.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class AS extends gs{}tt(AS,"blotName","blockquote"),tt(AS,"tagName","blockquote");class CS extends gs{static formats(n){return this.tagName.indexOf(n.tagName)+1}}tt(CS,"blotName","header"),tt(CS,"tagName",["H1","H2","H3","H4","H5","H6"]);class J1 extends kp{}J1.blotName="list-container";J1.tagName="OL";class eb extends gs{static create(n){const t=super.create();return t.setAttribute("data-list",n),t}static formats(n){return n.getAttribute("data-list")||void 0}static register(){vt.register(J1)}constructor(n,t){super(n,t);const r=t.ownerDocument.createElement("span"),i=a=>{if(!n.isEnabled())return;const s=this.statics.formats(t,n);s==="checked"?(this.format("list","unchecked"),a.preventDefault()):s==="unchecked"&&(this.format("list","checked"),a.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(n,t){n===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(n,t)}}eb.blotName="list";eb.tagName="LI";J1.allowedChildren=[eb];eb.requiredContainer=J1;class A1 extends Mc{static create(){return super.create()}static formats(){return!0}optimize(n){super.optimize(n),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}tt(A1,"blotName","bold"),tt(A1,"tagName",["STRONG","B"]);class ES extends A1{}tt(ES,"blotName","italic"),tt(ES,"tagName",["EM","I"]);class Pf extends Mc{static create(n){const t=super.create(n);return t.setAttribute("href",this.sanitize(n)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(n){return n.getAttribute("href")}static sanitize(n){return aO(n,this.PROTOCOL_WHITELIST)?n:this.SANITIZED_URL}format(n,t){n!==this.statics.blotName||!t?super.format(n,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}tt(Pf,"blotName","link"),tt(Pf,"tagName","A"),tt(Pf,"SANITIZED_URL","about:blank"),tt(Pf,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function aO(e,n){const t=document.createElement("a");t.href=e;const r=t.href.slice(0,t.href.indexOf(":"));return n.indexOf(r)>-1}class kS extends Mc{static create(n){return n==="super"?document.createElement("sup"):n==="sub"?document.createElement("sub"):super.create(n)}static formats(n){if(n.tagName==="SUB")return"sub";if(n.tagName==="SUP")return"super"}}tt(kS,"blotName","script"),tt(kS,"tagName",["SUB","SUP"]);class _S extends A1{}tt(_S,"blotName","strike"),tt(_S,"tagName",["S","STRIKE"]);class NS extends Mc{}tt(NS,"blotName","underline"),tt(NS,"tagName","U");class tx extends J6{static create(n){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(n);return typeof n=="string"&&(window.katex.render(n,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",n)),t}static value(n){return n.getAttribute("data-value")}html(){const{formula:n}=this.value();return`<span>${n}</span>`}}tt(tx,"blotName","formula"),tt(tx,"className","ql-formula"),tt(tx,"tagName","SPAN");const J_=["alt","height","width"];var Xy;let pH=(Xy=class extends tl{static create(n){const t=super.create(n);return typeof n=="string"&&t.setAttribute("src",this.sanitize(n)),t}static formats(n){return J_.reduce((t,r)=>(n.hasAttribute(r)&&(t[r]=n.getAttribute(r)),t),{})}static match(n){return/\.(jpe?g|gif|png)$/.test(n)||/^data:image\/.+;base64/.test(n)}static sanitize(n){return aO(n,["http","https","data"])?n:"//:0"}static value(n){return n.getAttribute("src")}format(n,t){J_.indexOf(n)>-1?t?this.domNode.setAttribute(n,t):this.domNode.removeAttribute(n):super.format(n,t)}},tt(Xy,"blotName","image"),tt(Xy,"tagName","IMG"),Xy);const e8=["height","width"];class nx extends jl{static create(n){const t=super.create(n);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(n)),t}static formats(n){return e8.reduce((t,r)=>(n.hasAttribute(r)&&(t[r]=n.getAttribute(r)),t),{})}static sanitize(n){return Pf.sanitize(n)}static value(n){return n.getAttribute("src")}format(n,t){e8.indexOf(n)>-1?t?this.domNode.setAttribute(n,t):this.domNode.removeAttribute(n):super.format(n,t)}html(){const{video:n}=this.value();return`<a href="${n}">${n}</a>`}}tt(nx,"blotName","video"),tt(nx,"className","ql-video"),tt(nx,"tagName","IFRAME");const Kg=new Au("code-token","hljs",{scope:Wt.INLINE});class Ld extends Mc{static formats(n,t){for(;n!=null&&n!==t.domNode;){if(n.classList&&n.classList.contains($s.className))return super.formats(n,t);n=n.parentNode}}constructor(n,t,r){super(n,t,r),Kg.add(this.domNode,r)}format(n,t){n!==Ld.blotName?super.format(n,t):t?Kg.add(this.domNode,t):(Kg.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Kg.value(this.domNode)||this.unwrap()}}Ld.blotName="code-token";Ld.className="ql-token";class Cl extends $s{static create(n){const t=super.create(n);return typeof n=="string"&&t.setAttribute("data-language",n),t}static formats(n){return n.getAttribute("data-language")||"plain"}static register(){}format(n,t){n===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(n,t)}replaceWith(n,t){return this.formatAt(0,this.length(),Ld.blotName,!1),super.replaceWith(n,t)}}class t1 extends _p{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(n,t){n===Cl.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(n,t)}))}formatAt(n,t,r,i){r===Cl.blotName&&(this.forceNext=!0),super.formatAt(n,t,r,i)}highlight(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(s=>s!==this.uiNode).map(s=>s.textContent).join(`
`)}
`,a=Cl.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const s=this.children.reduce((u,d)=>u.concat($7(d,!1)),new Ht),l=n(i,a);s.diff(l).reduce((u,d)=>{let{retain:f,attributes:m}=d;return f?(m&&Object.keys(m).forEach(b=>{[Cl.blotName,Ld.blotName].includes(b)&&this.formatAt(u,f,b,m[b])}),u+f):u},0)}this.cachedText=i,this.forceNext=!1}}html(n,t){const[r]=this.children.find(n);return`<pre data-language="${r?Cl.formats(r.domNode):"plain"}">
${Ev(this.code(n,t))}
</pre>`}optimize(n){if(super.optimize(n),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=Cl.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}t1.allowedChildren=[Cl];Cl.requiredContainer=t1;Cl.allowedChildren=[Ld,rm,wu,Cu];const mH=(e,n,t)=>{if(typeof e.versionString=="string"){const r=e.versionString.split(".")[0];if(parseInt(r,10)>=11)return e.highlight(t,{language:n}).value}return e.highlight(n,t).value};class sO extends Eu{static register(){vt.register(Ld,!0),vt.register(Cl,!0),vt.register(t1,!0)}constructor(n,t){if(super(n,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:a}=i;return r[a]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(vt.events.SCROLL_BLOT_MOUNT,n=>{if(!(n instanceof t1))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:a}=r;const s=t.ownerDocument.createElement("option");s.textContent=a,s.setAttribute("value",i),t.appendChild(s)}),t.addEventListener("change",()=>{n.format(Cl.blotName,t.value),this.quill.root.focus(),this.highlight(n,!0)}),n.uiNode==null&&(n.attachUI(t),n.children.head&&(t.value=Cl.formats(n.children.head.domNode)))})}initTimer(){let n=null;this.quill.on(vt.events.SCROLL_OPTIMIZE,()=>{n&&clearTimeout(n),n=setTimeout(()=>{this.highlight(),n=null},this.options.interval)})}highlight(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(vt.sources.USER);const r=this.quill.getSelection();(n==null?this.quill.scroll.descendants(t1):[n]).forEach(a=>{a.highlight(this.highlightBlot,t)}),this.quill.update(vt.sources.SILENT),r!=null&&this.quill.setSelection(r,vt.sources.SILENT)}highlightBlot(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return Ev(n).split(`
`).reduce((i,a,s)=>(s!==0&&i.insert(`
`,{[$s.blotName]:t}),i.insert(a)),new Ht);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add($s.className),r.innerHTML=mH(this.options.hljs,t,n),sA(this.quill.scroll,r,[(i,a)=>{const s=Kg.value(i);return s?a.compose(new Ht().retain(a.length(),{[Ld.blotName]:s})):a}],[(i,a)=>i.data.split(`
`).reduce((s,l,u)=>(u!==0&&s.insert(`
`,{[$s.blotName]:t}),s.insert(l)),a)],new WeakMap)}}sO.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const u1=class u1 extends gs{static create(n){const t=super.create();return n?t.setAttribute("data-row",n):t.setAttribute("data-row",oA()),t}static formats(n){if(n.hasAttribute("data-row"))return n.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(n,t){n===u1.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(n,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};tt(u1,"blotName","table"),tt(u1,"tagName","TD");let bu=u1;class Rd extends kp{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const n=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return n.table===t.table&&n.table===r.table&&n.table===i.table}return!1}optimize(n){super.optimize(n),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),i=t.next.formats();if(r.table!==i.table){const a=this.splitAfter(t);a&&a.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}tt(Rd,"blotName","table-row"),tt(Rd,"tagName","TR");class Cc extends kp{}tt(Cc,"blotName","table-body"),tt(Cc,"tagName","TBODY");class am extends kp{balanceCells(){const n=this.descendants(Rd),t=n.reduce((r,i)=>Math.max(i.children.length,r),0);n.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=bu.formats(r.children.head.domNode));const a=this.scroll.create(bu.blotName,i);r.appendChild(a),a.optimize()})})}cells(n){return this.rows().map(t=>t.children.at(n))}deleteColumn(n){const[t]=this.descendant(Cc);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(n);i!=null&&i.remove()})}insertColumn(n){const[t]=this.descendant(Cc);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(n),a=bu.formats(r.children.head.domNode),s=this.scroll.create(bu.blotName,a);r.insertBefore(s,i)})}insertRow(n){const[t]=this.descendant(Cc);if(t==null||t.children.head==null)return;const r=oA(),i=this.scroll.create(Rd.blotName);t.children.head.children.forEach(()=>{const s=this.scroll.create(bu.blotName,r);i.appendChild(s)});const a=t.children.at(n);t.insertBefore(i,a)}rows(){const n=this.children.head;return n==null?[]:n.children.map(t=>t)}}tt(am,"blotName","table-container"),tt(am,"tagName","TABLE");am.allowedChildren=[Cc];Cc.requiredContainer=am;Cc.allowedChildren=[Rd];Rd.requiredContainer=Cc;Rd.allowedChildren=[bu];bu.requiredContainer=Rd;function oA(){return`row-${Math.random().toString(36).slice(2,6)}`}class gH extends Eu{static register(){vt.register(bu),vt.register(Rd),vt.register(Cc),vt.register(am)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(am).forEach(n=>{n.balanceCells()})}deleteColumn(){const[n,,t]=this.getTable();t!=null&&(n.deleteColumn(t.cellOffset()),this.quill.update(vt.sources.USER))}deleteRow(){const[,n]=this.getTable();n!=null&&(n.remove(),this.quill.update(vt.sources.USER))}deleteTable(){const[n]=this.getTable();if(n==null)return;const t=n.offset();n.remove(),this.quill.update(vt.sources.USER),this.quill.setSelection(t,vt.sources.SILENT)}getTable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(n==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(n.index);if(t==null||t.statics.blotName!==bu.blotName)return[null,null,null,-1];const i=t.parent;return[i.parent.parent,i,t,r]}insertColumn(n){const t=this.quill.getSelection();if(!t)return;const[r,i,a]=this.getTable(t);if(a==null)return;const s=a.cellOffset();r.insertColumn(s+n),this.quill.update(vt.sources.USER);let l=i.rowOffset();n===0&&(l+=1),this.quill.setSelection(t.index+l,t.length,vt.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(n){const t=this.quill.getSelection();if(!t)return;const[r,i,a]=this.getTable(t);if(a==null)return;const s=i.rowOffset();r.insertRow(s+n),this.quill.update(vt.sources.USER),n>0?this.quill.setSelection(t,vt.sources.SILENT):this.quill.setSelection(t.index+i.children.length,t.length,vt.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(n,t){const r=this.quill.getSelection();if(r==null)return;const i=new Array(n).fill(0).reduce(a=>{const s=new Array(t).fill(`
`).join("");return a.insert(s,{table:oA()})},new Ht().retain(r.index));this.quill.updateContents(i,vt.sources.USER),this.quill.setSelection(r.index,vt.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(vt.events.SCROLL_OPTIMIZE,n=>{n.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(vt.events.TEXT_CHANGE,(r,i,a)=>{a===vt.sources.USER&&this.balanceTables()}),!0):!1)})}}const t8=Ud("quill:toolbar");class lA extends Eu{constructor(n,t){var r,i;if(super(n,t),Array.isArray(this.options.container)){const a=document.createElement("div");a.setAttribute("role","toolbar"),bH(a,this.options.container),(i=(r=n.container)==null?void 0:r.parentNode)==null||i.insertBefore(a,n.container),this.container=a}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){t8.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(a=>{var l;const s=(l=this.options.handlers)==null?void 0:l[a];s&&this.addHandler(a,s)}),Array.from(this.container.querySelectorAll("button, select")).forEach(a=>{this.attach(a)}),this.quill.on(vt.events.EDITOR_CHANGE,()=>{const[a]=this.quill.selection.getRange();this.update(a)})}addHandler(n,t){this.handlers[n]=t}attach(n){let t=Array.from(n.classList).find(i=>i.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),n.tagName==="BUTTON"&&n.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){t8.warn("ignoring attaching to nonexistent format",t,n);return}const r=n.tagName==="SELECT"?"change":"click";n.addEventListener(r,i=>{let a;if(n.tagName==="SELECT"){if(n.selectedIndex<0)return;const l=n.options[n.selectedIndex];l.hasAttribute("selected")?a=!1:a=l.value||!1}else n.classList.contains("ql-active")?a=!1:a=n.value||!n.hasAttribute("value"),i.preventDefault();this.quill.focus();const[s]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,a);else if(this.quill.scroll.query(t).prototype instanceof tl){if(a=prompt(`Enter ${t}`),!a)return;this.quill.updateContents(new Ht().retain(s.index).delete(s.length).insert({[t]:a}),vt.sources.USER)}else this.quill.format(t,a,vt.sources.USER);this.update(s)}),this.controls.push([t,n])}update(n){const t=n==null?{}:this.quill.getFormat(n);this.controls.forEach(r=>{const[i,a]=r;if(a.tagName==="SELECT"){let s=null;if(n==null)s=null;else if(t[i]==null)s=a.querySelector("option[selected]");else if(!Array.isArray(t[i])){let l=t[i];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),s=a.querySelector(`option[value="${l}"]`)}s==null?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(n==null)a.classList.remove("ql-active"),a.setAttribute("aria-pressed","false");else if(a.hasAttribute("value")){const s=t[i],l=s===a.getAttribute("value")||s!=null&&s.toString()===a.getAttribute("value")||s==null&&!a.getAttribute("value");a.classList.toggle("ql-active",l),a.setAttribute("aria-pressed",l.toString())}else{const s=t[i]!=null;a.classList.toggle("ql-active",s),a.setAttribute("aria-pressed",s.toString())}})}}lA.DEFAULTS={};function n8(e,n,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${n}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${n}: ${t}`)):r.setAttribute("aria-label",n),e.appendChild(r)}function bH(e,n){Array.isArray(n[0])||(n=[n]),n.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(i=>{if(typeof i=="string")n8(r,i);else{const a=Object.keys(i)[0],s=i[a];Array.isArray(s)?yH(r,a,s):n8(r,a,s)}}),e.appendChild(r)})}function yH(e,n,t){const r=document.createElement("select");r.classList.add(`ql-${n}`),t.forEach(i=>{const a=document.createElement("option");i!==!1?a.setAttribute("value",String(i)):a.setAttribute("selected","selected"),r.appendChild(a)}),e.appendChild(r)}lA.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(e!=null)if(e.length===0){const n=this.quill.getFormat();Object.keys(n).forEach(t=>{this.quill.scroll.query(t,Wt.INLINE)!=null&&this.quill.format(t,!1,vt.sources.USER)})}else this.quill.removeFormat(e.index,e.length,vt.sources.USER)},direction(e){const{align:n}=this.quill.getFormat();e==="rtl"&&n==null?this.quill.format("align","right",vt.sources.USER):!e&&n==="right"&&this.quill.format("align",!1,vt.sources.USER),this.quill.format("direction",e,vt.sources.USER)},indent(e){const n=this.quill.getSelection(),t=this.quill.getFormat(n),r=parseInt(t.indent||0,10);if(e==="+1"||e==="-1"){let i=e==="+1"?1:-1;t.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,vt.sources.USER)}},link(e){e===!0&&(e=prompt("Enter link URL:")),this.quill.format("link",e,vt.sources.USER)},list(e){const n=this.quill.getSelection(),t=this.quill.getFormat(n);e==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,vt.sources.USER):this.quill.format("list","unchecked",vt.sources.USER):this.quill.format("list",e,vt.sources.USER)}}};const xH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',vH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',wH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',SH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',AH='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',CH='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',EH='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',kH='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',r8='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',_H='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',NH='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',TH='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',jH='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',OH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',IH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',DH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',LH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',RH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',MH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',FH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',PH='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',zH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',qH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',BH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',$H='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',UH='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',HH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',WH='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',YH='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',VH='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',GH='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',QH='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',KH='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',C1={align:{"":xH,center:vH,right:wH,justify:SH},background:AH,blockquote:CH,bold:EH,clean:kH,code:r8,"code-block":r8,color:_H,direction:{"":NH,rtl:TH},formula:jH,header:{1:OH,2:IH,3:DH,4:LH,5:RH,6:MH},italic:FH,image:PH,indent:{"+1":zH,"-1":qH},link:BH,list:{bullet:$H,check:UH,ordered:HH},script:{sub:WH,super:YH},strike:VH,table:GH,underline:QH,video:KH},XH='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let i8=0;function a8(e,n){e.setAttribute(n,`${e.getAttribute(n)!=="true"}`)}class _v{constructor(n){this.select=n,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),a8(this.label,"aria-expanded"),a8(this.options,"aria-hidden")}buildItem(n){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=n.getAttribute("value");return r&&t.setAttribute("data-value",r),n.textContent&&t.setAttribute("data-label",n.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(t,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),t}buildLabel(){const n=document.createElement("span");return n.classList.add("ql-picker-label"),n.innerHTML=XH,n.tabIndex="0",n.setAttribute("role","button"),n.setAttribute("aria-expanded","false"),this.container.appendChild(n),n}buildOptions(){const n=document.createElement("span");n.classList.add("ql-picker-options"),n.setAttribute("aria-hidden","true"),n.tabIndex="-1",n.id=`ql-picker-options-${i8}`,i8+=1,this.label.setAttribute("aria-controls",n.id),this.options=n,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);n.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(n)}buildPicker(){Array.from(this.select.attributes).forEach(n=>{this.container.setAttribute(n.name,n.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");n!==r&&(r!=null&&r.classList.remove("ql-selected"),n!=null&&(n.classList.add("ql-selected"),this.select.selectedIndex=Array.from(n.parentNode.children).indexOf(n),n.hasAttribute("data-value")?this.label.setAttribute("data-value",n.getAttribute("data-value")):this.label.removeAttribute("data-value"),n.hasAttribute("data-label")?this.label.setAttribute("data-label",n.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let n;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];n=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=n!=null&&n!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class oO extends _v{constructor(n,t){super(n),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(n){const t=super.buildItem(n);return t.style.backgroundColor=n.getAttribute("value")||"",t}selectItem(n,t){super.selectItem(n,t);const r=this.label.querySelector(".ql-color-label"),i=n&&n.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}}class lO extends _v{constructor(n,t){super(n),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(n,t){super.selectItem(n,t);const r=n||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const ZH=e=>{const{overflowY:n}=getComputedStyle(e,null);return n!=="visible"&&n!=="clip"};class uO{constructor(n,t){this.quill=n,this.boundsContainer=t||document.body,this.root=n.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,ZH(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(n){const t=n.left+n.width/2-this.root.offsetWidth/2,r=n.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),a=this.root.getBoundingClientRect();let s=0;if(a.right>i.right&&(s=i.right-a.right,this.root.style.left=`${t+s}px`),a.left<i.left&&(s=i.left-a.left,this.root.style.left=`${t+s}px`),a.bottom>i.bottom){const l=a.bottom-a.top,u=n.bottom-n.top+l;this.root.style.top=`${r-u}px`,this.root.classList.add("ql-flip")}return s}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const JH=[!1,"center","right","justify"],eW=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],tW=[!1,"serif","monospace"],nW=["1","2","3",!1],rW=["small",!1,"large","huge"];class tb extends im{constructor(n,t){super(n,t);const r=i=>{if(!document.body.contains(n.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(a=>{a.container.contains(i.target)||a.close()})};n.emitter.listenDOM("click",document.body,r)}addModule(n){const t=super.addModule(n);return n==="toolbar"&&this.extendToolbar(t),t}buildButtons(n,t){Array.from(n).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(a=>{if(a.startsWith("ql-")&&(a=a.slice(3),t[a]!=null))if(a==="direction")r.innerHTML=t[a][""]+t[a].rtl;else if(typeof t[a]=="string")r.innerHTML=t[a];else{const s=r.value||"";s!=null&&t[a][s]&&(r.innerHTML=t[a][s])}})})}buildPickers(n,t){this.pickers=Array.from(n).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&wg(i,JH),typeof t.align=="object"))return new lO(i,t.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const a=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&wg(i,eW,a==="background"?"#ffffff":"#000000"),new oO(i,t[a])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?wg(i,tW):i.classList.contains("ql-header")?wg(i,nW):i.classList.contains("ql-size")&&wg(i,rW)),new _v(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(zt.events.EDITOR_CHANGE,r)}}tb.DEFAULTS=Gf({},im.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");e==null&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",()=>{const n=this.quill.getSelection(!0);this.quill.uploader.upload(n,e.files),e.value=""}),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class cO extends uO{constructor(n,t){super(n,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",n=>{n.key==="Enter"?(this.save(),n.preventDefault()):n.key==="Escape"&&(this.cancel(),n.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:n!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${n}`)||""),this.root.setAttribute("data-mode",n)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:n}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,zt.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,zt.sources.USER)),this.quill.root.scrollTop=t;break}case"video":n=iW(n);case"formula":{if(!n)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),n,zt.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",zt.sources.USER),this.quill.setSelection(r+2,zt.sources.USER)}break}}this.textbox.value="",this.hide()}}function iW(e){let n=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return n?`${n[1]||"https"}://www.youtube.com/embed/${n[2]}?showinfo=0`:(n=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${n[1]||"https"}://player.vimeo.com/video/${n[2]}/`:e}function wg(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;n.forEach(r=>{const i=document.createElement("option");r===t?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),e.appendChild(i)})}const aW=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class dO extends cO{constructor(n,t){super(n,t),this.quill.on(zt.events.EDITOR_CHANGE,(r,i,a,s)=>{if(r===zt.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&s===zt.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(i.index,i.length);if(l.length===1){const u=this.quill.getBounds(i);u!=null&&this.position(u)}else{const u=l[l.length-1],d=this.quill.getIndex(u),f=Math.min(u.length()-1,i.index+i.length-d),m=this.quill.getBounds(new fp(d,f));m!=null&&this.position(m)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(zt.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const n=this.quill.getSelection();if(n!=null){const t=this.quill.getBounds(n);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(n){const t=super.position(n),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}tt(dO,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class fO extends tb{constructor(n,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=aW),super(n,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(n){this.tooltip=new dO(this.quill,this.options.bounds),n.container!=null&&(this.tooltip.root.appendChild(n.container),this.buildButtons(n.container.querySelectorAll("button"),C1),this.buildPickers(n.container.querySelectorAll("select"),C1))}}fO.DEFAULTS=Gf({},tb.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,vt.sources.USER)}}}}});const sW=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class hO extends cO{constructor(){super(...arguments);tt(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,zt.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(zt.events.SELECTION_CHANGE,(t,r,i)=>{if(t!=null){if(t.length===0&&i===zt.sources.USER){const[a,s]=this.quill.scroll.descendant(Pf,t.index);if(a!=null){this.linkRange=new fp(t.index-s,a.length());const l=Pf.formats(a.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const u=this.quill.getBounds(this.linkRange);u!=null&&this.position(u);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}tt(hO,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class pO extends tb{constructor(n,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=sW),super(n,t),this.quill.container.classList.add("ql-snow")}extendToolbar(n){n.container!=null&&(n.container.classList.add("ql-snow"),this.buildButtons(n.container.querySelectorAll("button"),C1),this.buildPickers(n.container.querySelectorAll("select"),C1),this.tooltip=new hO(this.quill,this.options.bounds),n.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{n.handlers.link.call(n,!r.format.link)}))}}pO.DEFAULTS=Gf({},tb.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const n=this.quill.getSelection();if(n==null||n.length===0)return;let t=this.quill.getText(n);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,vt.sources.USER)}}}}});vt.register({"attributors/attribute/direction":V7,"attributors/class/align":H7,"attributors/class/background":AU,"attributors/class/color":SU,"attributors/class/direction":G7,"attributors/class/font":X7,"attributors/class/size":J7,"attributors/style/align":W7,"attributors/style/background":nA,"attributors/style/color":tA,"attributors/style/direction":Q7,"attributors/style/font":Z7,"attributors/style/size":eO},!0);vt.register({"formats/align":H7,"formats/direction":G7,"formats/indent":hH,"formats/background":nA,"formats/color":tA,"formats/font":X7,"formats/size":J7,"formats/blockquote":AS,"formats/code-block":$s,"formats/header":CS,"formats/list":eb,"formats/bold":A1,"formats/code":rA,"formats/italic":ES,"formats/link":Pf,"formats/script":kS,"formats/strike":_S,"formats/underline":NS,"formats/formula":tx,"formats/image":pH,"formats/video":nx,"modules/syntax":sO,"modules/table":gH,"modules/toolbar":lA,"themes/bubble":fO,"themes/snow":pO,"ui/icons":C1,"ui/picker":_v,"ui/icon-picker":lO,"ui/color-picker":oO,"ui/tooltip":uO},!0);class Nv extends st.Component{constructor(n){super(n),this.editingAreaRef=X.createRef(),this.containerRef=X.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(r,i,a,s)=>{var l,u;r==="text-change"?(l=this.onEditorChangeText)==null||l.call(this,this.editor.root.innerHTML,i,s,this.unprivilegedEditor):r==="selection-change"&&((u=this.onEditorChangeSelection)==null||u.call(this,i,s,this.unprivilegedEditor))};const t=this.isControlled()?n.value:n.defaultValue;this.value=t??""}validateProps(n){if(st.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(st.Children.count(n.children)){const t=st.Children.only(n.children);if((t==null?void 0:t.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(n,t){if(this.validateProps(n),!this.editor||this.state.generation!==t.generation)return!0;if("value"in n){const r=this.getEditorContents(),i=n.value??"";this.isEqualValue(i,r)||this.setEditorContents(this.editor,i)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),[...this.cleanProps,...this.dirtyProps].some(r=>!Lf(n[r],this.props[r]))}shouldComponentRegenerate(n){return this.dirtyProps.some(t=>!Lf(n[t],this.props[t]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(n,t){if(this.editor&&this.shouldComponentRegenerate(n)){const r=this.editor.getContents(),i=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:i},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){const{delta:r,selection:i}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const a=this.editor;a.setContents(r),s8(()=>this.setEditorSelection(a,i))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){var r,i;if(!this.editor)return;this.unhookEditor(this.editor);const n=(r=this.props.modules)==null?void 0:r.toolbar;if(!(typeof n=="object"&&n&&"container"in n&&typeof n.container=="string"||typeof n=="string")){const a=(i=this.containerRef.current)==null?void 0:i.querySelector(".ql-toolbar");a&&a.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(n,t){const r=new vt(n,t);return t.tabIndex!=null&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r}hookEditor(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)}unhookEditor(n){n.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(n){return n&&n.ops}isEqualValue(n,t){return this.isDelta(n)&&this.isDelta(t)?Lf(n.ops,t.ops):Lf(n,t)}setEditorContents(n,t){this.value=t;const r=this.getEditorSelection();typeof t=="string"?n.setContents(n.clipboard.convert({html:t})):n.setContents(t),s8(()=>this.setEditorSelection(n,r))}setEditorSelection(n,t){if(this.selection=t,t){const r=n.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),n.setSelection(t)}}setEditorTabIndex(n,t){var r;(r=n==null?void 0:n.scroll)!=null&&r.domNode&&(n.scroll.domNode.tabIndex=t)}setEditorReadOnly(n,t){t?n.disable():n.enable()}makeUnprivilegedEditor(n){const t=n;return{getHTML:()=>t.root.innerHTML,getSemanticHTML:t.getSemanticHTML.bind(t),getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}}getEditingArea(){const n=this.editingAreaRef.current;if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n}renderEditingArea(){const{children:n,preserveWhitespace:t}=this.props,{generation:r}=this.state,i={key:r,ref:this.editingAreaRef};return st.Children.count(n)?st.cloneElement(st.Children.only(n),i):t?st.createElement("pre",{...i}):st.createElement("div",{...i})}render(){return st.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(n,t,r,i){var s,l;if(!this.editor)return;const a=this.isDelta(this.value)?i.getContents():i.getHTML();a!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=a,(l=(s=this.props).onChange)==null||l.call(s,n,t,r,i))}onEditorChangeSelection(n,t,r){var l,u,d,f,m,b;if(!this.editor)return;const i=this.getEditorSelection(),a=!i&&n,s=i&&!n;Lf(n,i)||(this.selection=n,(u=(l=this.props).onChangeSelection)==null||u.call(l,n,t,r),a?(f=(d=this.props).onFocus)==null||f.call(d,n,t,r):s&&((b=(m=this.props).onBlur)==null||b.call(m,i,t,r)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}Nv.displayName="React Quill";Nv.Quill=vt;Nv.defaultProps={theme:"snow",modules:{},readOnly:!1};function s8(e){Promise.resolve().then(e)}const oW=({content:e,onChange:n})=>{const t=a=>{n(a)},r={toolbar:[[{header:[1,2,3,!1]}],["bold","italic"],["blockquote",{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},i=["header","bold","italic","blockquote","list","link"];return h.jsx(Nv,{value:e,onChange:t,modules:r,formats:i,theme:"snow",placeholder:"Start writing...",style:{backgroundColor:"white",borderRadius:"4px",minHeight:"150px"}})},lW=(e,n={enabled:!0,priority:"low"})=>{const t=X.useCallback(r=>{!n.enabled||r.length===0||r.forEach((i,a)=>{if(!i||i.startsWith("data:"))return;const s=new Image;"loading"in s&&(s.loading="lazy");const l=n.priority==="low"?a*100:0;setTimeout(()=>{s.src=i,s.onload=()=>{console.log(` Preloaded image: ${i.substring(0,50)}...`)},s.onerror=u=>{console.error(` Failed to preload image: ${i}`,u),console.error("Image details:",{url:i,naturalWidth:s.naturalWidth,naturalHeight:s.naturalHeight,complete:s.complete})}},l)})},[n.enabled,n.priority]);return X.useEffect(()=>{t(e)},[e,t]),{preloadImages:t}},mO=(e,n,t=!0)=>{const{preloadImages:r}=lW([],{enabled:t,priority:"low"});X.useEffect(()=>{var s,l;if(!t||!e.length)return;const i=[];if(n>0){const u=e[n-1];u!=null&&u.images&&i.push(...u.images.map(d=>d.url)),(s=u==null?void 0:u.subsections)==null||s.forEach(d=>{var f;d.images&&i.push(...d.images.map(m=>m.url)),(f=d==null?void 0:d.subSubsections)==null||f.forEach(m=>{m.images&&i.push(...m.images.map(b=>b.url))})})}if(n<e.length-1){const u=e[n+1];u!=null&&u.images&&i.push(...u.images.map(d=>d.url)),(l=u==null?void 0:u.subsections)==null||l.forEach(d=>{var f;d.images&&i.push(...d.images.map(m=>m.url)),(f=d==null?void 0:d.subSubsections)==null||f.forEach(m=>{m.images&&i.push(...m.images.map(b=>b.url))})})}const a=Array.from(new Set(i.filter(Boolean)));a.length>0&&(console.log(`Preloading ${a.length} images from adjacent sections`),r(a))},[e,n,t,r])},uW=({value:e,onChange:n,disabled:t=!1})=>{const[r,i]=X.useState([]),[a,s]=X.useState(!0),{userDetails:l}=Pi();X.useEffect(()=>{if(console.log("User Details in CourseDropdown:",l),l!=null&&l.classes){const d=Object.entries(l.classes).filter(([f,m])=>m.isCourseAdmin||l.isSuperAdmin).map(([f,m])=>({id:f,number:m.number,title:m.title,isCourseAdmin:m.isCourseAdmin}));console.log("Filtered Courses for Dropdown:",d),i(d)}else i([]);s(!1)},[l]);const u=r.some(d=>d.id===e);return a?h.jsx(de,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:h.jsx(Zr,{})}):h.jsx(pm,{value:u?e:"",onChange:n,courses:r,label:"Select Course",placeholder:"Choose a course",helperText:!u&&e!==""?"Invalid course selected":"",error:!u&&e!=="",disabled:t,loading:a,showNumber:!0,showTitle:!0,showAdminBadge:!1})};function Mt(e){const n=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&n==="[object Date]"?new e.constructor(+e):typeof e=="number"||n==="[object Number]"||typeof e=="string"||n==="[object String]"?new Date(e):new Date(NaN)}function Dr(e,n){return e instanceof Date?new e.constructor(n):new Date(n)}function vu(e,n){const t=Mt(e);return isNaN(n)?Dr(e,NaN):(n&&t.setDate(t.getDate()+n),t)}function Su(e,n){const t=Mt(e);if(isNaN(n))return Dr(e,NaN);if(!n)return t;const r=t.getDate(),i=Dr(e,t.getTime());i.setMonth(t.getMonth()+n+1,0);const a=i.getDate();return r>=a?i:(t.setFullYear(i.getFullYear(),i.getMonth(),r),t)}function uA(e,n){const t=+Mt(e);return Dr(e,t+n)}const gO=6048e5,cW=864e5,Tv=6e4,jv=36e5,dW=1e3;function fW(e,n){return uA(e,n*jv)}let hW={};function Tp(){return hW}function Md(e,n){var l,u,d,f;const t=Tp(),r=(n==null?void 0:n.weekStartsOn)??((u=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??t.weekStartsOn??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,i=Mt(e),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function sm(e){return Md(e,{weekStartsOn:1})}function bO(e){const n=Mt(e),t=n.getFullYear(),r=Dr(e,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const i=sm(r),a=Dr(e,0);a.setFullYear(t,0,4),a.setHours(0,0,0,0);const s=sm(a);return n.getTime()>=i.getTime()?t+1:n.getTime()>=s.getTime()?t:t-1}function hp(e){const n=Mt(e);return n.setHours(0,0,0,0),n}function Fx(e){const n=Mt(e),t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),+e-+t}function om(e,n){const t=hp(e),r=hp(n),i=+t-Fx(t),a=+r-Fx(r);return Math.round((i-a)/cW)}function pW(e){const n=bO(e),t=Dr(e,0);return t.setFullYear(n,0,4),t.setHours(0,0,0,0),sm(t)}function TS(e,n){return uA(e,n*Tv)}function cA(e,n){const t=n*3;return Su(e,t)}function mW(e,n){return uA(e,n*1e3)}function Px(e,n){const t=n*7;return vu(e,t)}function kd(e,n){return Su(e,n*12)}function o8(e){let n;return e.forEach(function(t){const r=Mt(t);(n===void 0||n<r||isNaN(Number(r)))&&(n=r)}),n||new Date(NaN)}function l8(e){let n;return e.forEach(t=>{const r=Mt(t);(!n||n>r||isNaN(+r))&&(n=r)}),n||new Date(NaN)}function gW(e,n){const t=hp(e),r=hp(n);return+t==+r}function _d(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function zx(e){if(!_d(e)&&typeof e!="number")return!1;const n=Mt(e);return!isNaN(Number(n))}function qx(e,n){const t=Mt(e),r=Mt(n),i=t.getFullYear()-r.getFullYear(),a=t.getMonth()-r.getMonth();return i*12+a}function ep(e){const n=Mt(e);return Math.trunc(n.getMonth()/3)+1}function Bx(e,n){const t=Mt(e),r=Mt(n),i=t.getFullYear()-r.getFullYear(),a=ep(t)-ep(r);return i*4+a}function $x(e,n){const t=Mt(e),r=Mt(n);return t.getFullYear()-r.getFullYear()}function bW(e,n){const t=Mt(e),r=Mt(n),i=u8(t,r),a=Math.abs(om(t,r));t.setDate(t.getDate()-i*a);const s=+(u8(t,r)===-i),l=i*(a-s);return l===0?0:l}function u8(e,n){const t=e.getFullYear()-n.getFullYear()||e.getMonth()-n.getMonth()||e.getDate()-n.getDate()||e.getHours()-n.getHours()||e.getMinutes()-n.getMinutes()||e.getSeconds()-n.getSeconds()||e.getMilliseconds()-n.getMilliseconds();return t<0?-1:t>0?1:t}function yO(e){const n=Mt(e);return n.setHours(23,59,59,999),n}function xO(e){const n=Mt(e),t=n.getMonth();return n.setFullYear(n.getFullYear(),t+1,0),n.setHours(23,59,59,999),n}function jS(e){const n=Mt(e),t=n.getMonth(),r=t-t%3;return n.setMonth(r,1),n.setHours(0,0,0,0),n}function vO(e){const n=Mt(e);return n.setDate(1),n.setHours(0,0,0,0),n}function wO(e){const n=Mt(e),t=n.getFullYear();return n.setFullYear(t+1,0,0),n.setHours(23,59,59,999),n}function Ov(e){const n=Mt(e),t=Dr(e,0);return t.setFullYear(n.getFullYear(),0,1),t.setHours(0,0,0,0),t}function yW(e,n){var l,u;const t=Tp(),r=t.weekStartsOn??((u=(l=t.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,i=Mt(e),a=i.getDay(),s=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const xW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vW=(e,n,t)=>{let r;const i=xW[e];return typeof i=="string"?r=i:n===1?r=i.one:r=i.other.replace("{{count}}",n.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function tw(e){return(n={})=>{const t=n.width?String(n.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const wW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},SW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},AW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},CW={date:tw({formats:wW,defaultWidth:"full"}),time:tw({formats:SW,defaultWidth:"full"}),dateTime:tw({formats:AW,defaultWidth:"full"})},EW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kW=(e,n,t,r)=>EW[e];function Sg(e){return(n,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,l=t!=null&&t.width?String(t.width):s;i=e.formattingValues[l]||e.formattingValues[s]}else{const s=e.defaultWidth,l=t!=null&&t.width?String(t.width):e.defaultWidth;i=e.values[l]||e.values[s]}const a=e.argumentCallback?e.argumentCallback(n):n;return i[a]}}const _W={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},NW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},TW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},OW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},IW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},DW=(e,n)=>{const t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},LW={ordinalNumber:DW,era:Sg({values:_W,defaultWidth:"wide"}),quarter:Sg({values:NW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Sg({values:TW,defaultWidth:"wide"}),day:Sg({values:jW,defaultWidth:"wide"}),dayPeriod:Sg({values:OW,defaultWidth:"wide",formattingValues:IW,defaultFormattingWidth:"wide"})};function Ag(e){return(n,t={})=>{const r=t.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=n.match(i);if(!a)return null;const s=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?MW(l,m=>m.test(s)):RW(l,m=>m.test(s));let d;d=e.valueCallback?e.valueCallback(u):u,d=t.valueCallback?t.valueCallback(d):d;const f=n.slice(s.length);return{value:d,rest:f}}}function RW(e,n){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n(e[t]))return t}function MW(e,n){for(let t=0;t<e.length;t++)if(n(e[t]))return t}function FW(e){return(n,t={})=>{const r=n.match(e.matchPattern);if(!r)return null;const i=r[0],a=n.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=t.valueCallback?t.valueCallback(s):s;const l=n.slice(i.length);return{value:s,rest:l}}}const PW=/^(\d+)(th|st|nd|rd)?/i,zW=/\d+/i,qW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},BW={any:[/^b/i,/^(a|c)/i]},$W={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},UW={any:[/1/i,/2/i,/3/i,/4/i]},HW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},WW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},YW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},VW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},GW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},QW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},KW={ordinalNumber:FW({matchPattern:PW,parsePattern:zW,valueCallback:e=>parseInt(e,10)}),era:Ag({matchPatterns:qW,defaultMatchWidth:"wide",parsePatterns:BW,defaultParseWidth:"any"}),quarter:Ag({matchPatterns:$W,defaultMatchWidth:"wide",parsePatterns:UW,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ag({matchPatterns:HW,defaultMatchWidth:"wide",parsePatterns:WW,defaultParseWidth:"any"}),day:Ag({matchPatterns:YW,defaultMatchWidth:"wide",parsePatterns:VW,defaultParseWidth:"any"}),dayPeriod:Ag({matchPatterns:GW,defaultMatchWidth:"any",parsePatterns:QW,defaultParseWidth:"any"})},SO={code:"en-US",formatDistance:vW,formatLong:CW,formatRelative:kW,localize:LW,match:KW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function XW(e){const n=Mt(e);return om(n,Ov(n))+1}function dA(e){const n=Mt(e),t=+sm(n)-+pW(n);return Math.round(t/gO)+1}function fA(e,n){var f,m,b,g;const t=Mt(e),r=t.getFullYear(),i=Tp(),a=(n==null?void 0:n.firstWeekContainsDate)??((m=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(b=i.locale)==null?void 0:b.options)==null?void 0:g.firstWeekContainsDate)??1,s=Dr(e,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const l=Md(s,n),u=Dr(e,0);u.setFullYear(r,0,a),u.setHours(0,0,0,0);const d=Md(u,n);return t.getTime()>=l.getTime()?r+1:t.getTime()>=d.getTime()?r:r-1}function ZW(e,n){var l,u,d,f;const t=Tp(),r=(n==null?void 0:n.firstWeekContainsDate)??((u=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??t.firstWeekContainsDate??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=fA(e,n),a=Dr(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Md(a,n)}function AO(e,n){const t=Mt(e),r=+Md(t,n)-+ZW(t,n);return Math.round(r/gO)+1}function Ir(e,n){const t=e<0?"-":"",r=Math.abs(e).toString().padStart(n,"0");return t+r}const Nf={y(e,n){const t=e.getFullYear(),r=t>0?t:1-t;return Ir(n==="yy"?r%100:r,n.length)},M(e,n){const t=e.getMonth();return n==="M"?String(t+1):Ir(t+1,2)},d(e,n){return Ir(e.getDate(),n.length)},a(e,n){const t=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,n){return Ir(e.getHours()%12||12,n.length)},H(e,n){return Ir(e.getHours(),n.length)},m(e,n){return Ir(e.getMinutes(),n.length)},s(e,n){return Ir(e.getSeconds(),n.length)},S(e,n){const t=n.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Ir(i,n.length)}},d0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},c8={G:function(e,n,t){const r=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(e,n,t){if(n==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return Nf.y(e,n)},Y:function(e,n,t,r){const i=fA(e,r),a=i>0?i:1-i;if(n==="YY"){const s=a%100;return Ir(s,2)}return n==="Yo"?t.ordinalNumber(a,{unit:"year"}):Ir(a,n.length)},R:function(e,n){const t=bO(e);return Ir(t,n.length)},u:function(e,n){const t=e.getFullYear();return Ir(t,n.length)},Q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return Ir(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return Ir(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,t){const r=e.getMonth();switch(n){case"M":case"MM":return Nf.M(e,n);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,t){const r=e.getMonth();switch(n){case"L":return String(r+1);case"LL":return Ir(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,t,r){const i=AO(e,r);return n==="wo"?t.ordinalNumber(i,{unit:"week"}):Ir(i,n.length)},I:function(e,n,t){const r=dA(e);return n==="Io"?t.ordinalNumber(r,{unit:"week"}):Ir(r,n.length)},d:function(e,n,t){return n==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):Nf.d(e,n)},D:function(e,n,t){const r=XW(e);return n==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Ir(r,n.length)},E:function(e,n,t){const r=e.getDay();switch(n){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,t,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return Ir(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,t,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return Ir(a,n.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,t){const r=e.getDay(),i=r===0?7:r;switch(n){case"i":return String(i);case"ii":return Ir(i,n.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,t){const i=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,t){const r=e.getHours();let i;switch(r===12?i=d0.noon:r===0?i=d0.midnight:i=r/12>=1?"pm":"am",n){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,t){const r=e.getHours();let i;switch(r>=17?i=d0.evening:r>=12?i=d0.afternoon:r>=4?i=d0.morning:i=d0.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,t){if(n==="ho"){let r=e.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Nf.h(e,n)},H:function(e,n,t){return n==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):Nf.H(e,n)},K:function(e,n,t){const r=e.getHours()%12;return n==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Ir(r,n.length)},k:function(e,n,t){let r=e.getHours();return r===0&&(r=24),n==="ko"?t.ordinalNumber(r,{unit:"hour"}):Ir(r,n.length)},m:function(e,n,t){return n==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):Nf.m(e,n)},s:function(e,n,t){return n==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):Nf.s(e,n)},S:function(e,n){return Nf.S(e,n)},X:function(e,n,t){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(n){case"X":return f8(r);case"XXXX":case"XX":return $h(r);case"XXXXX":case"XXX":default:return $h(r,":")}},x:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"x":return f8(r);case"xxxx":case"xx":return $h(r);case"xxxxx":case"xxx":default:return $h(r,":")}},O:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+d8(r,":");case"OOOO":default:return"GMT"+$h(r,":")}},z:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+d8(r,":");case"zzzz":default:return"GMT"+$h(r,":")}},t:function(e,n,t){const r=Math.trunc(e.getTime()/1e3);return Ir(r,n.length)},T:function(e,n,t){const r=e.getTime();return Ir(r,n.length)}};function d8(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?t+String(i):t+String(i)+n+Ir(a,2)}function f8(e,n){return e%60===0?(e>0?"-":"+")+Ir(Math.abs(e)/60,2):$h(e,n)}function $h(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),i=Ir(Math.trunc(r/60),2),a=Ir(r%60,2);return t+i+n+a}const h8=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},CO=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},JW=(e,n)=>{const t=e.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return h8(e,n);let a;switch(r){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",h8(r,n)).replace("{{time}}",CO(i,n))},Ux={p:CO,P:JW},eY=/^D+$/,tY=/^Y+$/,nY=["D","DD","YY","YYYY"];function EO(e){return eY.test(e)}function kO(e){return tY.test(e)}function OS(e,n,t){const r=rY(e,n,t);if(console.warn(r),nY.includes(e))throw new RangeError(r)}function rY(e,n,t){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const iY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,aY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sY=/^'([^]*?)'?$/,oY=/''/g,lY=/[a-zA-Z]/;function p8(e,n,t){var f,m,b,g,x,y,A,w;const r=Tp(),i=(t==null?void 0:t.locale)??r.locale??SO,a=(t==null?void 0:t.firstWeekContainsDate)??((m=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(b=r.locale)==null?void 0:b.options)==null?void 0:g.firstWeekContainsDate)??1,s=(t==null?void 0:t.weekStartsOn)??((y=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((w=(A=r.locale)==null?void 0:A.options)==null?void 0:w.weekStartsOn)??0,l=Mt(e);if(!zx(l))throw new RangeError("Invalid time value");let u=n.match(aY).map(C=>{const T=C[0];if(T==="p"||T==="P"){const M=Ux[T];return M(C,i.formatLong)}return C}).join("").match(iY).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const T=C[0];if(T==="'")return{isToken:!1,value:uY(C)};if(c8[T])return{isToken:!0,value:C};if(T.match(lY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:C}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const d={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return u.map(C=>{if(!C.isToken)return C.value;const T=C.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&kO(T)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&EO(T))&&OS(T,n,String(e));const M=c8[T[0]];return M(l,T,i.localize,d)}).join("")}function uY(e){const n=e.match(sY);return n?n[1].replace(oY,"'"):e}function m8(e){return Mt(e).getDate()}function cY(e){return Mt(e).getDay()}function dY(e){const n=Mt(e),t=n.getFullYear(),r=n.getMonth(),i=Dr(e,0);return i.setFullYear(t,r+1,0),i.setHours(0,0,0,0),i.getDate()}function fY(){return Object.assign({},Tp())}function Ec(e){return Mt(e).getHours()}function hY(e){let t=Mt(e).getDay();return t===0&&(t=7),t}function kc(e){return Mt(e).getMinutes()}function to(e){return Mt(e).getMonth()}function Nd(e){return Mt(e).getSeconds()}function IS(e){return Mt(e).getTime()}function Fn(e){return Mt(e).getFullYear()}function Jf(e,n){const t=Mt(e),r=Mt(n);return t.getTime()>r.getTime()}function pp(e,n){const t=Mt(e),r=Mt(n);return+t<+r}function pY(e,n){const t=Mt(e),r=Mt(n);return+t==+r}function mY(e,n){const t=n instanceof Date?Dr(n,0):new n(0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}const gY=10;class _O{constructor(){tt(this,"subPriority",0)}validate(n,t){return!0}}class bY extends _O{constructor(n,t,r,i,a){super(),this.value=n,this.validateValue=t,this.setValue=r,this.priority=i,a&&(this.subPriority=a)}validate(n,t){return this.validateValue(n,this.value,t)}set(n,t,r){return this.setValue(n,t,this.value,r)}}class yY extends _O{constructor(){super(...arguments);tt(this,"priority",gY);tt(this,"subPriority",-1)}set(t,r){return r.timestampIsSet?t:Dr(t,mY(t,Date))}}let vr=class{run(n,t,r,i){const a=this.parse(n,t,r,i);return a?{setter:new bY(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(n,t,r){return!0}};class xY extends vr{constructor(){super(...arguments);tt(this,"priority",140);tt(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const fa={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},hc={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ha(e,n){return e&&{value:n(e.value),rest:e.rest}}function Mi(e,n){const t=n.match(e);return t?{value:parseInt(t[0],10),rest:n.slice(t[0].length)}:null}function pc(e,n){const t=n.match(e);if(!t)return null;if(t[0]==="Z")return{value:0,rest:n.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,s=t[5]?parseInt(t[5],10):0;return{value:r*(i*jv+a*Tv+s*dW),rest:n.slice(t[0].length)}}function NO(e){return Mi(fa.anyDigitsSigned,e)}function ea(e,n){switch(e){case 1:return Mi(fa.singleDigit,n);case 2:return Mi(fa.twoDigits,n);case 3:return Mi(fa.threeDigits,n);case 4:return Mi(fa.fourDigits,n);default:return Mi(new RegExp("^\\d{1,"+e+"}"),n)}}function Hx(e,n){switch(e){case 1:return Mi(fa.singleDigitSigned,n);case 2:return Mi(fa.twoDigitsSigned,n);case 3:return Mi(fa.threeDigitsSigned,n);case 4:return Mi(fa.fourDigitsSigned,n);default:return Mi(new RegExp("^-?\\d{1,"+e+"}"),n)}}function hA(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function TO(e,n){const t=n>0,r=t?n:1-n;let i;if(r<=50)i=e||100;else{const a=r+50,s=Math.trunc(a/100)*100,l=e>=a%100;i=e+s-(l?100:0)}return t?i:1-i}function jO(e){return e%400===0||e%4===0&&e%100!==0}class vY extends vr{constructor(){super(...arguments);tt(this,"priority",130);tt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const a=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return ha(ea(4,t),a);case"yo":return ha(i.ordinalNumber(t,{unit:"year"}),a);default:return ha(ea(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const a=t.getFullYear();if(i.isTwoDigitYear){const l=TO(i.year,a);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const s=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class wY extends vr{constructor(){super(...arguments);tt(this,"priority",130);tt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const a=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return ha(ea(4,t),a);case"Yo":return ha(i.ordinalNumber(t,{unit:"year"}),a);default:return ha(ea(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,a){const s=fA(t,a);if(i.isTwoDigitYear){const u=TO(i.year,s);return t.setFullYear(u,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Md(t,a)}const l=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(l,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Md(t,a)}}class SY extends vr{constructor(){super(...arguments);tt(this,"priority",130);tt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return Hx(r==="R"?4:r.length,t)}set(t,r,i){const a=Dr(t,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),sm(a)}}class AY extends vr{constructor(){super(...arguments);tt(this,"priority",130);tt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return Hx(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class CY extends vr{constructor(){super(...arguments);tt(this,"priority",120);tt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return ea(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class EY extends vr{constructor(){super(...arguments);tt(this,"priority",120);tt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return ea(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class kY extends vr{constructor(){super(...arguments);tt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);tt(this,"priority",110)}parse(t,r,i){const a=s=>s-1;switch(r){case"M":return ha(Mi(fa.month,t),a);case"MM":return ha(ea(2,t),a);case"Mo":return ha(i.ordinalNumber(t,{unit:"month"}),a);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class _Y extends vr{constructor(){super(...arguments);tt(this,"priority",110);tt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const a=s=>s-1;switch(r){case"L":return ha(Mi(fa.month,t),a);case"LL":return ha(ea(2,t),a);case"Lo":return ha(i.ordinalNumber(t,{unit:"month"}),a);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function NY(e,n,t){const r=Mt(e),i=AO(r,t)-n;return r.setDate(r.getDate()-i*7),r}class TY extends vr{constructor(){super(...arguments);tt(this,"priority",100);tt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return Mi(fa.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return ea(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,a){return Md(NY(t,i,a),a)}}function jY(e,n){const t=Mt(e),r=dA(t)-n;return t.setDate(t.getDate()-r*7),t}class OY extends vr{constructor(){super(...arguments);tt(this,"priority",100);tt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return Mi(fa.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return ea(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return sm(jY(t,i))}}const IY=[31,28,31,30,31,30,31,31,30,31,30,31],DY=[31,29,31,30,31,30,31,31,30,31,30,31];class LY extends vr{constructor(){super(...arguments);tt(this,"priority",90);tt(this,"subPriority",1);tt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return Mi(fa.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return ea(r.length,t)}}validate(t,r){const i=t.getFullYear(),a=jO(i),s=t.getMonth();return a?r>=1&&r<=DY[s]:r>=1&&r<=IY[s]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class RY extends vr{constructor(){super(...arguments);tt(this,"priority",90);tt(this,"subpriority",1);tt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return Mi(fa.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return ea(r.length,t)}}validate(t,r){const i=t.getFullYear();return jO(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function pA(e,n,t){var m,b,g,x;const r=Tp(),i=(t==null?void 0:t.weekStartsOn)??((b=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:b.weekStartsOn)??r.weekStartsOn??((x=(g=r.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??0,a=Mt(e),s=a.getDay(),u=(n%7+7)%7,d=7-i,f=n<0||n>6?n-(s+d)%7:(u+d)%7-(s+d)%7;return vu(a,f)}class MY extends vr{constructor(){super(...arguments);tt(this,"priority",90);tt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=pA(t,i,a),t.setHours(0,0,0,0),t}}class FY extends vr{constructor(){super(...arguments);tt(this,"priority",90);tt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,a){const s=l=>{const u=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+u};switch(r){case"e":case"ee":return ha(ea(r.length,t),s);case"eo":return ha(i.ordinalNumber(t,{unit:"day"}),s);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=pA(t,i,a),t.setHours(0,0,0,0),t}}class PY extends vr{constructor(){super(...arguments);tt(this,"priority",90);tt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,a){const s=l=>{const u=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+u};switch(r){case"c":case"cc":return ha(ea(r.length,t),s);case"co":return ha(i.ordinalNumber(t,{unit:"day"}),s);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=pA(t,i,a),t.setHours(0,0,0,0),t}}function zY(e,n){const t=Mt(e),r=hY(t),i=n-r;return vu(t,i)}class qY extends vr{constructor(){super(...arguments);tt(this,"priority",90);tt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const a=s=>s===0?7:s;switch(r){case"i":case"ii":return ea(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return ha(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return ha(i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return ha(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return ha(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=zY(t,i),t.setHours(0,0,0,0),t}}class BY extends vr{constructor(){super(...arguments);tt(this,"priority",80);tt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(hA(i),0,0,0),t}}class $Y extends vr{constructor(){super(...arguments);tt(this,"priority",80);tt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(hA(i),0,0,0),t}}class UY extends vr{constructor(){super(...arguments);tt(this,"priority",80);tt(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(hA(i),0,0,0),t}}class HY extends vr{constructor(){super(...arguments);tt(this,"priority",70);tt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return Mi(fa.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return ea(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const a=t.getHours()>=12;return a&&i<12?t.setHours(i+12,0,0,0):!a&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class WY extends vr{constructor(){super(...arguments);tt(this,"priority",70);tt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return Mi(fa.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return ea(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class YY extends vr{constructor(){super(...arguments);tt(this,"priority",70);tt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return Mi(fa.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return ea(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class VY extends vr{constructor(){super(...arguments);tt(this,"priority",70);tt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return Mi(fa.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return ea(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const a=i<=24?i%24:i;return t.setHours(a,0,0,0),t}}class GY extends vr{constructor(){super(...arguments);tt(this,"priority",60);tt(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return Mi(fa.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return ea(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class QY extends vr{constructor(){super(...arguments);tt(this,"priority",50);tt(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return Mi(fa.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return ea(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class KY extends vr{constructor(){super(...arguments);tt(this,"priority",30);tt(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=a=>Math.trunc(a*Math.pow(10,-r.length+3));return ha(ea(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class XY extends vr{constructor(){super(...arguments);tt(this,"priority",10);tt(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return pc(hc.basicOptionalMinutes,t);case"XX":return pc(hc.basic,t);case"XXXX":return pc(hc.basicOptionalSeconds,t);case"XXXXX":return pc(hc.extendedOptionalSeconds,t);case"XXX":default:return pc(hc.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Dr(t,t.getTime()-Fx(t)-i)}}class ZY extends vr{constructor(){super(...arguments);tt(this,"priority",10);tt(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return pc(hc.basicOptionalMinutes,t);case"xx":return pc(hc.basic,t);case"xxxx":return pc(hc.basicOptionalSeconds,t);case"xxxxx":return pc(hc.extendedOptionalSeconds,t);case"xxx":default:return pc(hc.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Dr(t,t.getTime()-Fx(t)-i)}}class JY extends vr{constructor(){super(...arguments);tt(this,"priority",40);tt(this,"incompatibleTokens","*")}parse(t){return NO(t)}set(t,r,i){return[Dr(t,i*1e3),{timestampIsSet:!0}]}}class eV extends vr{constructor(){super(...arguments);tt(this,"priority",20);tt(this,"incompatibleTokens","*")}parse(t){return NO(t)}set(t,r,i){return[Dr(t,i),{timestampIsSet:!0}]}}const tV={G:new xY,y:new vY,Y:new wY,R:new SY,u:new AY,Q:new CY,q:new EY,M:new kY,L:new _Y,w:new TY,I:new OY,d:new LY,D:new RY,E:new MY,e:new FY,c:new PY,i:new qY,a:new BY,b:new $Y,B:new UY,h:new HY,H:new WY,K:new YY,k:new VY,m:new GY,s:new QY,S:new KY,X:new XY,x:new ZY,t:new JY,T:new eV},nV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iV=/^'([^]*?)'?$/,aV=/''/g,sV=/\S/,oV=/[a-zA-Z]/;function nw(e,n,t,r){var y,A,w,C,T,M,R,z;const i=fY(),a=(r==null?void 0:r.locale)??i.locale??SO,s=(r==null?void 0:r.firstWeekContainsDate)??((A=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:A.firstWeekContainsDate)??i.firstWeekContainsDate??((C=(w=i.locale)==null?void 0:w.options)==null?void 0:C.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((M=(T=r==null?void 0:r.locale)==null?void 0:T.options)==null?void 0:M.weekStartsOn)??i.weekStartsOn??((z=(R=i.locale)==null?void 0:R.options)==null?void 0:z.weekStartsOn)??0;if(n==="")return e===""?Mt(t):Dr(t,NaN);const u={firstWeekContainsDate:s,weekStartsOn:l,locale:a},d=[new yY],f=n.match(rV).map(_=>{const L=_[0];if(L in Ux){const $=Ux[L];return $(_,a.formatLong)}return _}).join("").match(nV),m=[];for(let _ of f){!(r!=null&&r.useAdditionalWeekYearTokens)&&kO(_)&&OS(_,n,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&EO(_)&&OS(_,n,e);const L=_[0],$=tV[L];if($){const{incompatibleTokens:Z}=$;if(Array.isArray(Z)){const j=m.find(F=>Z.includes(F.token)||F.token===L);if(j)throw new RangeError(`The format string mustn't contain \`${j.fullToken}\` and \`${_}\` at the same time`)}else if($.incompatibleTokens==="*"&&m.length>0)throw new RangeError(`The format string mustn't contain \`${_}\` and any other token at the same time`);m.push({token:L,fullToken:_});const O=$.run(e,_,a.match,u);if(!O)return Dr(t,NaN);d.push(O.setter),e=O.rest}else{if(L.match(oV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");if(_==="''"?_="'":L==="'"&&(_=lV(_)),e.indexOf(_)===0)e=e.slice(_.length);else return Dr(t,NaN)}}if(e.length>0&&sV.test(e))return Dr(t,NaN);const b=d.map(_=>_.priority).sort((_,L)=>L-_).filter((_,L,$)=>$.indexOf(_)===L).map(_=>d.filter(L=>L.priority===_).sort((L,$)=>$.subPriority-L.subPriority)).map(_=>_[0]);let g=Mt(t);if(isNaN(g.getTime()))return Dr(t,NaN);const x={};for(const _ of b){if(!_.validate(g,u))return Dr(t,NaN);const L=_.set(g,x,u);Array.isArray(L)?(g=L[0],Object.assign(x,L[1])):g=L}return Dr(t,g)}function lV(e){return e.match(iV)[1].replace(aV,"'")}function uV(e,n){const t=Mt(e),r=Mt(n);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function cV(e,n){const t=jS(e),r=jS(n);return+t==+r}function dV(e,n){const t=Mt(e),r=Mt(n);return t.getFullYear()===r.getFullYear()}function E1(e,n){const t=+Mt(e),[r,i]=[+Mt(n.start),+Mt(n.end)].sort((a,s)=>a-s);return t>=r&&t<=i}function fV(e,n){return vu(e,-1)}function hV(e,n){const r=bV(e);let i;if(r.date){const u=yV(r.date,2);i=xV(u.restDateString,u.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let s=0,l;if(r.time&&(s=vV(r.time),isNaN(s)))return new Date(NaN);if(r.timezone){if(l=wV(r.timezone),isNaN(l))return new Date(NaN)}else{const u=new Date(a+s),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(a+s+l)}const Iy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},pV=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,mV=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,gV=/^([+-])(\d{2})(?::?(\d{2}))?$/;function bV(e){const n={},t=e.split(Iy.dateTimeDelimiter);let r;if(t.length>2)return n;if(/:/.test(t[0])?r=t[0]:(n.date=t[0],r=t[1],Iy.timeZoneDelimiter.test(n.date)&&(n.date=e.split(Iy.timeZoneDelimiter)[0],r=e.substr(n.date.length,e.length))),r){const i=Iy.timezone.exec(r);i?(n.time=r.replace(i[1],""),n.timezone=i[1]):n.time=r}return n}function yV(e,n){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),r=e.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function xV(e,n){if(n===null)return new Date(NaN);const t=e.match(pV);if(!t)return new Date(NaN);const r=!!t[4],i=Cg(t[1]),a=Cg(t[2])-1,s=Cg(t[3]),l=Cg(t[4]),u=Cg(t[5])-1;if(r)return kV(n,l,u)?SV(n,l,u):new Date(NaN);{const d=new Date(0);return!CV(n,a,s)||!EV(n,i)?new Date(NaN):(d.setUTCFullYear(n,a,Math.max(i,s)),d)}}function Cg(e){return e?parseInt(e):1}function vV(e){const n=e.match(mV);if(!n)return NaN;const t=rw(n[1]),r=rw(n[2]),i=rw(n[3]);return _V(t,r,i)?t*jv+r*Tv+i*1e3:NaN}function rw(e){return e&&parseFloat(e.replace(",","."))||0}function wV(e){if(e==="Z")return 0;const n=e.match(gV);if(!n)return 0;const t=n[1]==="+"?-1:1,r=parseInt(n[2]),i=n[3]&&parseInt(n[3])||0;return NV(r,i)?t*(r*jv+i*Tv):NaN}function SV(e,n,t){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,a=(n-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const AV=[31,null,31,30,31,30,31,31,30,31,30,31];function OO(e){return e%400===0||e%4===0&&e%100!==0}function CV(e,n,t){return n>=0&&n<=11&&t>=1&&t<=(AV[n]||(OO(e)?29:28))}function EV(e,n){return n>=1&&n<=(OO(e)?366:365)}function kV(e,n,t){return n>=1&&n<=53&&t>=0&&t<=6}function _V(e,n,t){return e===24?n===0&&t===0:t>=0&&t<60&&n>=0&&n<60&&e>=0&&e<25}function NV(e,n){return n>=0&&n<=59}function Ho(e,n){const t=Mt(e),r=t.getFullYear(),i=t.getDate(),a=Dr(e,0);a.setFullYear(r,n,15),a.setHours(0,0,0,0);const s=dY(a);return t.setMonth(n,Math.min(i,s)),t}function TV(e,n){let t=Mt(e);return isNaN(+t)?Dr(e,NaN):(n.year!=null&&t.setFullYear(n.year),n.month!=null&&(t=Ho(t,n.month)),n.date!=null&&t.setDate(n.date),n.hours!=null&&t.setHours(n.hours),n.minutes!=null&&t.setMinutes(n.minutes),n.seconds!=null&&t.setSeconds(n.seconds),n.milliseconds!=null&&t.setMilliseconds(n.milliseconds),t)}function rx(e,n){const t=Mt(e);return t.setHours(n),t}function ix(e,n){const t=Mt(e);return t.setMinutes(n),t}function I0(e,n){const t=Mt(e),r=Math.trunc(t.getMonth()/3)+1,i=n-r;return Ho(t,t.getMonth()+i*3)}function ax(e,n){const t=Mt(e);return t.setSeconds(n),t}function lc(e,n){const t=Mt(e);return isNaN(+t)?Dr(e,NaN):(t.setFullYear(n),t)}function tp(e,n){return Su(e,-n)}function IO(e,n){return cA(e,-1)}function g8(e,n){return Px(e,-1)}function lm(e,n){return kd(e,-n)}function Iv(){return typeof window<"u"}function gm(e){return DO(e)?(e.nodeName||"").toLowerCase():"#document"}function Xo(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function qc(e){var n;return(n=(DO(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function DO(e){return Iv()?e instanceof Node||e instanceof Xo(e).Node:!1}function no(e){return Iv()?e instanceof Element||e instanceof Xo(e).Element:!1}function Fc(e){return Iv()?e instanceof HTMLElement||e instanceof Xo(e).HTMLElement:!1}function b8(e){return!Iv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xo(e).ShadowRoot}const jV=new Set(["inline","contents"]);function nb(e){const{overflow:n,overflowX:t,overflowY:r,display:i}=Dl(e);return/auto|scroll|overlay|hidden|clip/.test(n+r+t)&&!jV.has(i)}const OV=new Set(["table","td","th"]);function IV(e){return OV.has(gm(e))}const DV=[":popover-open",":modal"];function Dv(e){return DV.some(n=>{try{return e.matches(n)}catch{return!1}})}const LV=["transform","translate","scale","rotate","perspective"],RV=["transform","translate","scale","rotate","perspective","filter"],MV=["paint","layout","strict","content"];function mA(e){const n=gA(),t=no(e)?Dl(e):e;return LV.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||RV.some(r=>(t.willChange||"").includes(r))||MV.some(r=>(t.contain||"").includes(r))}function FV(e){let n=eh(e);for(;Fc(n)&&!um(n);){if(mA(n))return n;if(Dv(n))return null;n=eh(n)}return null}function gA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const PV=new Set(["html","body","#document"]);function um(e){return PV.has(gm(e))}function Dl(e){return Xo(e).getComputedStyle(e)}function Lv(e){return no(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function eh(e){if(gm(e)==="html")return e;const n=e.assignedSlot||e.parentNode||b8(e)&&e.host||qc(e);return b8(n)?n.host:n}function LO(e){const n=eh(e);return um(n)?e.ownerDocument?e.ownerDocument.body:e.body:Fc(n)&&nb(n)?n:LO(n)}function k1(e,n,t){var r;n===void 0&&(n=[]),t===void 0&&(t=!0);const i=LO(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),s=Xo(i);if(a){const l=DS(s);return n.concat(s,s.visualViewport||[],nb(i)?i:[],l&&t?k1(l):[])}return n.concat(i,k1(i,[],t))}function DS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const cm=Math.min,np=Math.max,Wx=Math.round,Dy=Math.floor,_c=e=>({x:e,y:e}),zV={left:"right",right:"left",bottom:"top",top:"bottom"},qV={start:"end",end:"start"};function BV(e,n,t){return np(e,cm(n,t))}function Rv(e,n){return typeof e=="function"?e(n):e}function dm(e){return e.split("-")[0]}function rb(e){return e.split("-")[1]}function $V(e){return e==="x"?"y":"x"}function bA(e){return e==="y"?"height":"width"}const UV=new Set(["top","bottom"]);function Vh(e){return UV.has(dm(e))?"y":"x"}function yA(e){return $V(Vh(e))}function HV(e,n,t){t===void 0&&(t=!1);const r=rb(e),i=yA(e),a=bA(i);let s=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return n.reference[a]>n.floating[a]&&(s=Yx(s)),[s,Yx(s)]}function WV(e){const n=Yx(e);return[LS(e),n,LS(n)]}function LS(e){return e.replace(/start|end/g,n=>qV[n])}const y8=["left","right"],x8=["right","left"],YV=["top","bottom"],VV=["bottom","top"];function GV(e,n,t){switch(e){case"top":case"bottom":return t?n?x8:y8:n?y8:x8;case"left":case"right":return n?YV:VV;default:return[]}}function QV(e,n,t,r){const i=rb(e);let a=GV(dm(e),t==="start",r);return i&&(a=a.map(s=>s+"-"+i),n&&(a=a.concat(a.map(LS)))),a}function Yx(e){return e.replace(/left|right|bottom|top/g,n=>zV[n])}function KV(e){return{top:0,right:0,bottom:0,left:0,...e}}function RO(e){return typeof e!="number"?KV(e):{top:e,right:e,bottom:e,left:e}}function Vx(e){const{x:n,y:t,width:r,height:i}=e;return{width:r,height:i,top:t,left:n,right:n+r,bottom:t+i,x:n,y:t}}var XV=typeof document<"u",ZV=function(){},Gx=XV?X.useLayoutEffect:ZV;const JV={...j6},eG=JV.useInsertionEffect,tG=eG||(e=>e());function nG(e){const n=X.useRef(()=>{});return tG(()=>{n.current=e}),X.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.current==null?void 0:n.current(...r)},[])}function v8(e,n,t){let{reference:r,floating:i}=e;const a=Vh(n),s=yA(n),l=bA(s),u=dm(n),d=a==="y",f=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,b=r[l]/2-i[l]/2;let g;switch(u){case"top":g={x:f,y:r.y-i.height};break;case"bottom":g={x:f,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:m};break;case"left":g={x:r.x-i.width,y:m};break;default:g={x:r.x,y:r.y}}switch(rb(n)){case"start":g[s]-=b*(t&&d?-1:1);break;case"end":g[s]+=b*(t&&d?-1:1);break}return g}const rG=async(e,n,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=t,l=a.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(n));let d=await s.getElementRects({reference:e,floating:n,strategy:i}),{x:f,y:m}=v8(d,r,u),b=r,g={},x=0;for(let y=0;y<l.length;y++){const{name:A,fn:w}=l[y],{x:C,y:T,data:M,reset:R}=await w({x:f,y:m,initialPlacement:r,placement:b,strategy:i,middlewareData:g,rects:d,platform:s,elements:{reference:e,floating:n}});f=C??f,m=T??m,g={...g,[A]:{...g[A],...M}},R&&x<=50&&(x++,typeof R=="object"&&(R.placement&&(b=R.placement),R.rects&&(d=R.rects===!0?await s.getElementRects({reference:e,floating:n,strategy:i}):R.rects),{x:f,y:m}=v8(d,b,u)),y=-1)}return{x:f,y:m,placement:b,strategy:i,middlewareData:g}};async function iG(e,n){var t;n===void 0&&(n={});const{x:r,y:i,platform:a,rects:s,elements:l,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:b=!1,padding:g=0}=Rv(n,e),x=RO(g),A=l[b?m==="floating"?"reference":"floating":m],w=Vx(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(A)))==null||t?A:A.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:u})),C=m==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),M=await(a.isElement==null?void 0:a.isElement(T))?await(a.getScale==null?void 0:a.getScale(T))||{x:1,y:1}:{x:1,y:1},R=Vx(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:T,strategy:u}):C);return{top:(w.top-R.top+x.top)/M.y,bottom:(R.bottom-w.bottom+x.bottom)/M.y,left:(w.left-R.left+x.left)/M.x,right:(R.right-w.right+x.right)/M.x}}const aG=e=>({name:"arrow",options:e,async fn(n){const{x:t,y:r,placement:i,rects:a,platform:s,elements:l,middlewareData:u}=n,{element:d,padding:f=0}=Rv(e,n)||{};if(d==null)return{};const m=RO(f),b={x:t,y:r},g=yA(i),x=bA(g),y=await s.getDimensions(d),A=g==="y",w=A?"top":"left",C=A?"bottom":"right",T=A?"clientHeight":"clientWidth",M=a.reference[x]+a.reference[g]-b[g]-a.floating[x],R=b[g]-a.reference[g],z=await(s.getOffsetParent==null?void 0:s.getOffsetParent(d));let _=z?z[T]:0;(!_||!await(s.isElement==null?void 0:s.isElement(z)))&&(_=l.floating[T]||a.floating[x]);const L=M/2-R/2,$=_/2-y[x]/2-1,Z=cm(m[w],$),O=cm(m[C],$),j=Z,F=_-y[x]-O,N=_/2-y[x]/2+L,G=BV(j,N,F),H=!u.arrow&&rb(i)!=null&&N!==G&&a.reference[x]/2-(N<j?Z:O)-y[x]/2<0,Q=H?N<j?N-j:N-F:0;return{[g]:b[g]+Q,data:{[g]:G,centerOffset:N-G-Q,...H&&{alignmentOffset:Q}},reset:H}}}),sG=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var t,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:l,platform:u,elements:d}=n,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:b,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...A}=Rv(e,n);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const w=dm(i),C=Vh(l),T=dm(l)===l,M=await(u.isRTL==null?void 0:u.isRTL(d.floating)),R=b||(T||!y?[Yx(l)]:WV(l)),z=x!=="none";!b&&z&&R.push(...QV(l,y,x,M));const _=[l,...R],L=await iG(n,A),$=[];let Z=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&$.push(L[w]),m){const N=HV(i,s,M);$.push(L[N[0]],L[N[1]])}if(Z=[...Z,{placement:i,overflows:$}],!$.every(N=>N<=0)){var O,j;const N=(((O=a.flip)==null?void 0:O.index)||0)+1,G=_[N];if(G&&(!(m==="alignment"?C!==Vh(G):!1)||Z.every(te=>te.overflows[0]>0&&Vh(te.placement)===C)))return{data:{index:N,overflows:Z},reset:{placement:G}};let H=(j=Z.filter(Q=>Q.overflows[0]<=0).sort((Q,te)=>Q.overflows[1]-te.overflows[1])[0])==null?void 0:j.placement;if(!H)switch(g){case"bestFit":{var F;const Q=(F=Z.filter(te=>{if(z){const oe=Vh(te.placement);return oe===C||oe==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(oe=>oe>0).reduce((oe,U)=>oe+U,0)]).sort((te,oe)=>te[1]-oe[1])[0])==null?void 0:F[0];Q&&(H=Q);break}case"initialPlacement":H=l;break}if(i!==H)return{reset:{placement:H}}}return{}}}},oG=new Set(["left","top"]);async function lG(e,n){const{placement:t,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=dm(t),l=rb(t),u=Vh(t)==="y",d=oG.has(s)?-1:1,f=a&&u?-1:1,m=Rv(n,e);let{mainAxis:b,crossAxis:g,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof x=="number"&&(g=l==="end"?x*-1:x),u?{x:g*f,y:b*d}:{x:b*d,y:g*f}}const uG=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var t,r;const{x:i,y:a,placement:s,middlewareData:l}=n,u=await lG(n,e);return s===((t=l.offset)==null?void 0:t.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:a+u.y,data:{...u,placement:s}}}}};function MO(e){const n=Dl(e);let t=parseFloat(n.width)||0,r=parseFloat(n.height)||0;const i=Fc(e),a=i?e.offsetWidth:t,s=i?e.offsetHeight:r,l=Wx(t)!==a||Wx(r)!==s;return l&&(t=a,r=s),{width:t,height:r,$:l}}function xA(e){return no(e)?e:e.contextElement}function q0(e){const n=xA(e);if(!Fc(n))return _c(1);const t=n.getBoundingClientRect(),{width:r,height:i,$:a}=MO(n);let s=(a?Wx(t.width):t.width)/r,l=(a?Wx(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const cG=_c(0);function FO(e){const n=Xo(e);return!gA()||!n.visualViewport?cG:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function dG(e,n,t){return n===void 0&&(n=!1),!t||n&&t!==Xo(e)?!1:n}function mp(e,n,t,r){n===void 0&&(n=!1),t===void 0&&(t=!1);const i=e.getBoundingClientRect(),a=xA(e);let s=_c(1);n&&(r?no(r)&&(s=q0(r)):s=q0(e));const l=dG(a,t,r)?FO(a):_c(0);let u=(i.left+l.x)/s.x,d=(i.top+l.y)/s.y,f=i.width/s.x,m=i.height/s.y;if(a){const b=Xo(a),g=r&&no(r)?Xo(r):r;let x=b,y=DS(x);for(;y&&r&&g!==x;){const A=q0(y),w=y.getBoundingClientRect(),C=Dl(y),T=w.left+(y.clientLeft+parseFloat(C.paddingLeft))*A.x,M=w.top+(y.clientTop+parseFloat(C.paddingTop))*A.y;u*=A.x,d*=A.y,f*=A.x,m*=A.y,u+=T,d+=M,x=Xo(y),y=DS(x)}}return Vx({width:f,height:m,x:u,y:d})}function vA(e,n){const t=Lv(e).scrollLeft;return n?n.left+t:mp(qc(e)).left+t}function PO(e,n,t){t===void 0&&(t=!1);const r=e.getBoundingClientRect(),i=r.left+n.scrollLeft-(t?0:vA(e,r)),a=r.top+n.scrollTop;return{x:i,y:a}}function fG(e){let{elements:n,rect:t,offsetParent:r,strategy:i}=e;const a=i==="fixed",s=qc(r),l=n?Dv(n.floating):!1;if(r===s||l&&a)return t;let u={scrollLeft:0,scrollTop:0},d=_c(1);const f=_c(0),m=Fc(r);if((m||!m&&!a)&&((gm(r)!=="body"||nb(s))&&(u=Lv(r)),Fc(r))){const g=mp(r);d=q0(r),f.x=g.x+r.clientLeft,f.y=g.y+r.clientTop}const b=s&&!m&&!a?PO(s,u,!0):_c(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-u.scrollLeft*d.x+f.x+b.x,y:t.y*d.y-u.scrollTop*d.y+f.y+b.y}}function hG(e){return Array.from(e.getClientRects())}function pG(e){const n=qc(e),t=Lv(e),r=e.ownerDocument.body,i=np(n.scrollWidth,n.clientWidth,r.scrollWidth,r.clientWidth),a=np(n.scrollHeight,n.clientHeight,r.scrollHeight,r.clientHeight);let s=-t.scrollLeft+vA(e);const l=-t.scrollTop;return Dl(r).direction==="rtl"&&(s+=np(n.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:l}}function mG(e,n){const t=Xo(e),r=qc(e),i=t.visualViewport;let a=r.clientWidth,s=r.clientHeight,l=0,u=0;if(i){a=i.width,s=i.height;const d=gA();(!d||d&&n==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:a,height:s,x:l,y:u}}const gG=new Set(["absolute","fixed"]);function bG(e,n){const t=mp(e,!0,n==="fixed"),r=t.top+e.clientTop,i=t.left+e.clientLeft,a=Fc(e)?q0(e):_c(1),s=e.clientWidth*a.x,l=e.clientHeight*a.y,u=i*a.x,d=r*a.y;return{width:s,height:l,x:u,y:d}}function w8(e,n,t){let r;if(n==="viewport")r=mG(e,t);else if(n==="document")r=pG(qc(e));else if(no(n))r=bG(n,t);else{const i=FO(e);r={x:n.x-i.x,y:n.y-i.y,width:n.width,height:n.height}}return Vx(r)}function zO(e,n){const t=eh(e);return t===n||!no(t)||um(t)?!1:Dl(t).position==="fixed"||zO(t,n)}function yG(e,n){const t=n.get(e);if(t)return t;let r=k1(e,[],!1).filter(l=>no(l)&&gm(l)!=="body"),i=null;const a=Dl(e).position==="fixed";let s=a?eh(e):e;for(;no(s)&&!um(s);){const l=Dl(s),u=mA(s);!u&&l.position==="fixed"&&(i=null),(a?!u&&!i:!u&&l.position==="static"&&!!i&&gG.has(i.position)||nb(s)&&!u&&zO(e,s))?r=r.filter(f=>f!==s):i=l,s=eh(s)}return n.set(e,r),r}function xG(e){let{element:n,boundary:t,rootBoundary:r,strategy:i}=e;const s=[...t==="clippingAncestors"?Dv(n)?[]:yG(n,this._c):[].concat(t),r],l=s[0],u=s.reduce((d,f)=>{const m=w8(n,f,i);return d.top=np(m.top,d.top),d.right=cm(m.right,d.right),d.bottom=cm(m.bottom,d.bottom),d.left=np(m.left,d.left),d},w8(n,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function vG(e){const{width:n,height:t}=MO(e);return{width:n,height:t}}function wG(e,n,t){const r=Fc(n),i=qc(n),a=t==="fixed",s=mp(e,!0,a,n);let l={scrollLeft:0,scrollTop:0};const u=_c(0);function d(){u.x=vA(i)}if(r||!r&&!a)if((gm(n)!=="body"||nb(i))&&(l=Lv(n)),r){const g=mp(n,!0,a,n);u.x=g.x+n.clientLeft,u.y=g.y+n.clientTop}else i&&d();a&&!r&&i&&d();const f=i&&!r&&!a?PO(i,l):_c(0),m=s.left+l.scrollLeft-u.x-f.x,b=s.top+l.scrollTop-u.y-f.y;return{x:m,y:b,width:s.width,height:s.height}}function iw(e){return Dl(e).position==="static"}function S8(e,n){if(!Fc(e)||Dl(e).position==="fixed")return null;if(n)return n(e);let t=e.offsetParent;return qc(e)===t&&(t=t.ownerDocument.body),t}function qO(e,n){const t=Xo(e);if(Dv(e))return t;if(!Fc(e)){let i=eh(e);for(;i&&!um(i);){if(no(i)&&!iw(i))return i;i=eh(i)}return t}let r=S8(e,n);for(;r&&IV(r)&&iw(r);)r=S8(r,n);return r&&um(r)&&iw(r)&&!mA(r)?t:r||FV(e)||t}const SG=async function(e){const n=this.getOffsetParent||qO,t=this.getDimensions,r=await t(e.floating);return{reference:wG(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function AG(e){return Dl(e).direction==="rtl"}const CG={convertOffsetParentRelativeRectToViewportRelativeRect:fG,getDocumentElement:qc,getClippingRect:xG,getOffsetParent:qO,getElementRects:SG,getClientRects:hG,getDimensions:vG,getScale:q0,isElement:no,isRTL:AG};function BO(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function EG(e,n){let t=null,r;const i=qc(e);function a(){var l;clearTimeout(r),(l=t)==null||l.disconnect(),t=null}function s(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),a();const d=e.getBoundingClientRect(),{left:f,top:m,width:b,height:g}=d;if(l||n(),!b||!g)return;const x=Dy(m),y=Dy(i.clientWidth-(f+b)),A=Dy(i.clientHeight-(m+g)),w=Dy(f),T={rootMargin:-x+"px "+-y+"px "+-A+"px "+-w+"px",threshold:np(0,cm(1,u))||1};let M=!0;function R(z){const _=z[0].intersectionRatio;if(_!==u){if(!M)return s();_?s(!1,_):r=setTimeout(()=>{s(!1,1e-7)},1e3)}_===1&&!BO(d,e.getBoundingClientRect())&&s(),M=!1}try{t=new IntersectionObserver(R,{...T,root:i.ownerDocument})}catch{t=new IntersectionObserver(R,T)}t.observe(e)}return s(!0),a}function kG(e,n,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=xA(e),f=i||a?[...d?k1(d):[],...k1(n)]:[];f.forEach(w=>{i&&w.addEventListener("scroll",t,{passive:!0}),a&&w.addEventListener("resize",t)});const m=d&&l?EG(d,t):null;let b=-1,g=null;s&&(g=new ResizeObserver(w=>{let[C]=w;C&&C.target===d&&g&&(g.unobserve(n),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(n)})),t()}),d&&!u&&g.observe(d),g.observe(n));let x,y=u?mp(e):null;u&&A();function A(){const w=mp(e);y&&!BO(y,w)&&t(),y=w,x=requestAnimationFrame(A)}return t(),()=>{var w;f.forEach(C=>{i&&C.removeEventListener("scroll",t),a&&C.removeEventListener("resize",t)}),m==null||m(),(w=g)==null||w.disconnect(),g=null,u&&cancelAnimationFrame(x)}}const _G=uG,NG=sG,A8=aG,TG=(e,n,t)=>{const r=new Map,i={platform:CG,...t},a={...i.platform,_c:r};return rG(e,n,{...i,platform:a})};var jG=typeof document<"u",OG=function(){},sx=jG?X.useLayoutEffect:OG;function Qx(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let t,r,i;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==n.length)return!1;for(r=t;r--!==0;)if(!Qx(e[r],n[r]))return!1;return!0}if(i=Object.keys(e),t=i.length,t!==Object.keys(n).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(n,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Qx(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}function $O(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function C8(e,n){const t=$O(e);return Math.round(n*t)/t}function aw(e){const n=X.useRef(e);return sx(()=>{n.current=e}),n}function IG(e){e===void 0&&(e={});const{placement:n="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:l=!0,whileElementsMounted:u,open:d}=e,[f,m]=X.useState({x:0,y:0,strategy:t,placement:n,middlewareData:{},isPositioned:!1}),[b,g]=X.useState(r);Qx(b,r)||g(r);const[x,y]=X.useState(null),[A,w]=X.useState(null),C=X.useCallback(te=>{te!==z.current&&(z.current=te,y(te))},[]),T=X.useCallback(te=>{te!==_.current&&(_.current=te,w(te))},[]),M=a||x,R=s||A,z=X.useRef(null),_=X.useRef(null),L=X.useRef(f),$=u!=null,Z=aw(u),O=aw(i),j=aw(d),F=X.useCallback(()=>{if(!z.current||!_.current)return;const te={placement:n,strategy:t,middleware:b};O.current&&(te.platform=O.current),TG(z.current,_.current,te).then(oe=>{const U={...oe,isPositioned:j.current!==!1};N.current&&!Qx(L.current,U)&&(L.current=U,v9.flushSync(()=>{m(U)}))})},[b,n,t,O,j]);sx(()=>{d===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,m(te=>({...te,isPositioned:!1})))},[d]);const N=X.useRef(!1);sx(()=>(N.current=!0,()=>{N.current=!1}),[]),sx(()=>{if(M&&(z.current=M),R&&(_.current=R),M&&R){if(Z.current)return Z.current(M,R,F);F()}},[M,R,F,Z,$]);const G=X.useMemo(()=>({reference:z,floating:_,setReference:C,setFloating:T}),[C,T]),H=X.useMemo(()=>({reference:M,floating:R}),[M,R]),Q=X.useMemo(()=>{const te={position:t,left:0,top:0};if(!H.floating)return te;const oe=C8(H.floating,f.x),U=C8(H.floating,f.y);return l?{...te,transform:"translate("+oe+"px, "+U+"px)",...$O(H.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:oe,top:U}},[t,l,H.floating,f.x,f.y]);return X.useMemo(()=>({...f,update:F,refs:G,elements:H,floatingStyles:Q}),[f,F,G,H,Q])}const DG=e=>{function n(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:r,padding:i}=typeof e=="function"?e(t):e;return r&&n(r)?r.current!=null?A8({element:r.current,padding:i}).fn(t):{}:r?A8({element:r,padding:i}).fn(t):{}}}},LG=(e,n)=>({..._G(e),options:[e,n]}),RG=(e,n)=>({...NG(e),options:[e,n]}),MG=(e,n)=>({...DG(e),options:[e,n]}),FG={...j6};let E8=!1,PG=0;const k8=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+PG++;function zG(){const[e,n]=X.useState(()=>E8?k8():void 0);return Gx(()=>{e==null&&n(k8())},[]),X.useEffect(()=>{E8=!0},[]),e}const qG=FG.useId,UO=qG||zG,BG=X.forwardRef(function(n,t){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:a,shift:s}},width:l=14,height:u=7,tipRadius:d=0,strokeWidth:f=0,staticOffset:m,stroke:b,d:g,style:{transform:x,...y}={},...A}=n,w=UO(),[C,T]=X.useState(!1);if(Gx(()=>{if(!i)return;Dl(i).direction==="rtl"&&T(!0)},[i]),!i)return null;const[M,R]=r.split("-"),z=M==="top"||M==="bottom";let _=m;(z&&s!=null&&s.x||!z&&s!=null&&s.y)&&(_=null);const L=f*2,$=L/2,Z=l/2*(d/-8+1),O=u/2*d/4,j=!!g,F=_&&R==="end"?"bottom":"top";let N=_&&R==="end"?"right":"left";_&&C&&(N=R==="end"?"left":"right");const G=(a==null?void 0:a.x)!=null?_||a.x:"",H=(a==null?void 0:a.y)!=null?_||a.y:"",Q=g||"M0,0"+(" H"+l)+(" L"+(l-Z)+","+(u-O))+(" Q"+l/2+","+u+" "+Z+","+(u-O))+" Z",te={top:j?"rotate(180deg)":"",left:j?"rotate(90deg)":"rotate(-90deg)",bottom:j?"":"rotate(180deg)",right:j?"rotate(-90deg)":"rotate(90deg)"}[M];return h.jsxs("svg",{...A,"aria-hidden":!0,ref:t,width:j?l:l+L,height:l,viewBox:"0 0 "+l+" "+(u>l?u:l),style:{position:"absolute",pointerEvents:"none",[N]:G,[F]:H,[M]:z||j?"100%":"calc(100% - "+L/2+"px)",transform:[te,x].filter(oe=>!!oe).join(" "),...y},children:[L>0&&h.jsx("path",{clipPath:"url(#"+w+")",fill:"none",stroke:b,strokeWidth:L+(g?0:1),d:Q}),h.jsx("path",{stroke:L&&!g?A.fill:"none",d:Q}),h.jsx("clipPath",{id:w,children:h.jsx("rect",{x:-$,y:$*(j?-1:1),width:l+L,height:l})})]})});function $G(){const e=new Map;return{emit(n,t){var r;(r=e.get(n))==null||r.forEach(i=>i(t))},on(n,t){e.has(n)||e.set(n,new Set),e.get(n).add(t)},off(n,t){var r;(r=e.get(n))==null||r.delete(t)}}}const UG=X.createContext(null),HG=X.createContext(null),WG=()=>{var e;return((e=X.useContext(UG))==null?void 0:e.id)||null},YG=()=>X.useContext(HG);function VG(e){const{open:n=!1,onOpenChange:t,elements:r}=e,i=UO(),a=X.useRef({}),[s]=X.useState(()=>$G()),l=WG()!=null,[u,d]=X.useState(r.reference),f=nG((g,x,y)=>{a.current.openEvent=g?x:void 0,s.emit("openchange",{open:g,event:x,reason:y,nested:l}),t==null||t(g,x,y)}),m=X.useMemo(()=>({setPositionReference:d}),[]),b=X.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return X.useMemo(()=>({dataRef:a,open:n,onOpenChange:f,elements:b,events:s,floatingId:i,refs:m}),[n,f,b,s,i,m])}function GG(e){e===void 0&&(e={});const{nodeId:n}=e,t=VG({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||t,i=r.elements,[a,s]=X.useState(null),[l,u]=X.useState(null),f=(i==null?void 0:i.domReference)||a,m=X.useRef(null),b=YG();Gx(()=>{f&&(m.current=f)},[f]);const g=IG({...e,elements:{...i,...l&&{reference:l}}}),x=X.useCallback(T=>{const M=no(T)?{getBoundingClientRect:()=>T.getBoundingClientRect(),getClientRects:()=>T.getClientRects(),contextElement:T}:T;u(M),g.refs.setReference(M)},[g.refs]),y=X.useCallback(T=>{(no(T)||T===null)&&(m.current=T,s(T)),(no(g.refs.reference.current)||g.refs.reference.current===null||T!==null&&!no(T))&&g.refs.setReference(T)},[g.refs]),A=X.useMemo(()=>({...g.refs,setReference:y,setPositionReference:x,domReference:m}),[g.refs,y,x]),w=X.useMemo(()=>({...g.elements,domReference:f}),[g.elements,f]),C=X.useMemo(()=>({...g,...r,refs:A,elements:w,nodeId:n}),[g,A,w,n,r]);return Gx(()=>{r.dataRef.current.floatingContext=C;const T=b==null?void 0:b.nodesRef.current.find(M=>M.id===n);T&&(T.context=C)}),X.useMemo(()=>({...g,context:C,refs:A,elements:w}),[g,A,w,C])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var RS=function(n,t){return RS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},RS(n,t)};function ns(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");RS(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var nr=function(){return nr=Object.assign||function(t){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},nr.apply(this,arguments)};function wc(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))}var QG=function(e){var n=e.showTimeSelectOnly,t=n===void 0?!1:n,r=e.showTime,i=r===void 0?!1:r,a=e.className,s=e.children,l=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return st.createElement("div",{className:a,role:"dialog","aria-label":l,"aria-modal":"true"},s)},KG=function(e,n){var t=X.useRef(null),r=X.useRef(e);r.current=e;var i=X.useCallback(function(a){var s;t.current&&!t.current.contains(a.target)&&(n&&a.target instanceof HTMLElement&&a.target.classList.contains(n)||(s=r.current)===null||s===void 0||s.call(r,a))},[n]);return X.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},Mv=function(e){var n=e.children,t=e.onClickOutside,r=e.className,i=e.containerRef,a=e.style,s=e.ignoreClass,l=KG(t,s);return st.createElement("div",{className:r,style:a,ref:function(u){l.current=u,i&&(i.current=u)}},n)},Dt;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Dt||(Dt={}));function HO(){var e=typeof window<"u"?window:globalThis;return e}var ib=12,XG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Lr(e){if(e==null)return new Date;var n=typeof e=="string"?hV(e):Mt(e);return bd(n)?n:new Date}function sw(e,n,t,r,i){var a,s=null,l=rp(t)||rp(n1()),u=!0;if(Array.isArray(n))return n.forEach(function(f){var m=nw(e,f,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(u=bd(m,i)&&e===pi(m,f,t)),bd(m,i)&&u&&(s=m)}),s;if(s=nw(e,n,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)u=bd(s)&&e===pi(s,n,t);else if(!bd(s)){var d=((a=n.match(XG))!==null&&a!==void 0?a:[]).map(function(f){var m=f[0];if(m==="p"||m==="P"){var b=Ux[m];return l?b(f,l.formatLong):m}return f}).join("");e.length>0&&(s=nw(e,d.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),bd(s)||(s=new Date(e))}return bd(s)&&u?s:null}function bd(e,n){return zx(e)&&!pp(e,n??new Date("1/1/1800"))}function pi(e,n,t){if(t==="en")return p8(e,n,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?rp(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!r&&n1()&&rp(n1())&&(r=rp(n1())),p8(e,n,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Sl(e,n){var t=n.dateFormat,r=n.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return e&&pi(e,i,r)||""}function ZG(e,n,t){if(!e)return"";var r=Sl(e,t),i=n?Sl(n,t):"";return"".concat(r," - ").concat(i)}function JG(e,n){if(!(e!=null&&e.length))return"";var t=e[0]?Sl(e[0],n):"";if(e.length===1)return t;if(e.length===2&&e[1]){var r=Sl(e[1],n);return"".concat(t,", ").concat(r)}var i=e.length-1;return"".concat(t," (+").concat(i,")")}function ow(e,n){var t=n.hour,r=t===void 0?0:t,i=n.minute,a=i===void 0?0:i,s=n.second,l=s===void 0?0:s;return rx(ix(ax(e,l),a),r)}function eQ(e){return dA(e)}function tQ(e,n){return pi(e,"ddd",n)}function ox(e){return hp(e)}function Qf(e,n,t){var r=rp(n||n1());return Md(e,{locale:r,weekStartsOn:t})}function Td(e){return vO(e)}function Xg(e){return Ov(e)}function _8(e){return jS(e)}function N8(){return hp(Lr())}function T8(e){return yO(e)}function nQ(e){return yW(e)}function rQ(e){return xO(e)}function uc(e,n){return e&&n?dV(e,n):!e&&!n}function eo(e,n){return e&&n?uV(e,n):!e&&!n}function Kx(e,n){return e&&n?cV(e,n):!e&&!n}function Kn(e,n){return e&&n?gW(e,n):!e&&!n}function Gh(e,n){return e&&n?pY(e,n):!e&&!n}function Zg(e,n,t){var r,i=hp(n),a=yO(t);try{r=E1(e,{start:i,end:a})}catch{r=!1}return r}function n1(){var e=HO();return e.__localeId__}function rp(e){if(typeof e=="string"){var n=HO();return n.__localeData__?n.__localeData__[e]:void 0}else return e}function iQ(e,n,t){return n(pi(e,"EEEE",t))}function aQ(e,n){return pi(e,"EEEEEE",n)}function sQ(e,n){return pi(e,"EEE",n)}function wA(e,n){return pi(Ho(Lr(),e),"LLLL",n)}function WO(e,n){return pi(Ho(Lr(),e),"LLL",n)}function oQ(e,n){return pi(I0(Lr(),e),"QQQ",n)}function El(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.excludeDateIntervals,l=t.includeDates,u=t.includeDateIntervals,d=t.filterDate;return ab(e,{minDate:r,maxDate:i})||a&&a.some(function(f){return f instanceof Date?Kn(e,f):Kn(e,f.date)})||s&&s.some(function(f){var m=f.start,b=f.end;return E1(e,{start:m,end:b})})||l&&!l.some(function(f){return Kn(e,f)})||u&&!u.some(function(f){var m=f.start,b=f.end;return E1(e,{start:m,end:b})})||d&&!d(Lr(e))||!1}function SA(e,n){var t=n===void 0?{}:n,r=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(a){var s=a.start,l=a.end;return E1(e,{start:s,end:l})}):r&&r.some(function(a){var s;return a instanceof Date?Kn(e,a):Kn(e,(s=a.date)!==null&&s!==void 0?s:new Date)})||!1}function YO(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,l=t.filterDate;return ab(e,{minDate:r?vO(r):void 0,maxDate:i?xO(i):void 0})||(a==null?void 0:a.some(function(u){return eo(e,u instanceof Date?u:u.date)}))||s&&!s.some(function(u){return eo(e,u)})||l&&!l(Lr(e))||!1}function Ly(e,n,t,r){var i=Fn(e),a=to(e),s=Fn(n),l=to(n),u=Fn(r);return i===s&&i===u?a<=t&&t<=l:i<s?u===i&&a<=t||u===s&&l>=t||u<s&&u>i:!1}function lQ(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates;return ab(e,{minDate:r,maxDate:i})||a&&a.some(function(l){return eo(l instanceof Date?l:l.date,e)})||s&&!s.some(function(l){return eo(l,e)})||!1}function Ry(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,l=t.filterDate;return ab(e,{minDate:r,maxDate:i})||(a==null?void 0:a.some(function(u){return Kx(e,u instanceof Date?u:u.date)}))||s&&!s.some(function(u){return Kx(e,u)})||l&&!l(Lr(e))||!1}function My(e,n,t){if(!n||!t||!zx(n)||!zx(t))return!1;var r=Fn(n),i=Fn(t);return r<=e&&i>=e}function lx(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,l=t.filterDate,u=new Date(e,0,1);return ab(u,{minDate:r?Ov(r):void 0,maxDate:i?wO(i):void 0})||(a==null?void 0:a.some(function(d){return uc(u,d instanceof Date?d:d.date)}))||s&&!s.some(function(d){return uc(u,d)})||l&&!l(Lr(u))||!1}function Fy(e,n,t,r){var i=Fn(e),a=ep(e),s=Fn(n),l=ep(n),u=Fn(r);return i===s&&i===u?a<=t&&t<=l:i<s?u===i&&a<=t||u===s&&l>=t||u<s&&u>i:!1}function ab(e,n){var t,r=n===void 0?{}:n,i=r.minDate,a=r.maxDate;return(t=i&&om(e,i)<0||a&&om(e,a)>0)!==null&&t!==void 0?t:!1}function j8(e,n){return n.some(function(t){return Ec(t)===Ec(e)&&kc(t)===kc(e)&&Nd(t)===Nd(e)})}function O8(e,n){var t=n===void 0?{}:n,r=t.excludeTimes,i=t.includeTimes,a=t.filterTime;return r&&j8(e,r)||i&&!j8(e,i)||a&&!a(e)||!1}function I8(e,n){var t=n.minTime,r=n.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var i=Lr();i=rx(i,Ec(e)),i=ix(i,kc(e)),i=ax(i,Nd(e));var a=Lr();a=rx(a,Ec(t)),a=ix(a,kc(t)),a=ax(a,Nd(t));var s=Lr();s=rx(s,Ec(r)),s=ix(s,kc(r)),s=ax(s,Nd(r));var l;try{l=!E1(i,{start:a,end:s})}catch{l=!1}return l}function D8(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=tp(e,1);return r&&qx(r,a)>0||i&&i.every(function(s){return qx(s,a)>0})||!1}function L8(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=Su(e,1);return r&&qx(a,r)>0||i&&i.every(function(s){return qx(a,s)>0})||!1}function uQ(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=Ov(e),s=IO(a);return r&&Bx(r,s)>0||i&&i.every(function(l){return Bx(l,s)>0})||!1}function cQ(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=wO(e),s=cA(a,1);return r&&Bx(s,r)>0||i&&i.every(function(l){return Bx(s,l)>0})||!1}function R8(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=lm(e,1);return r&&$x(r,a)>0||i&&i.every(function(s){return $x(s,a)>0})||!1}function dQ(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.yearItemNumber,a=i===void 0?ib:i,s=Xg(lm(e,a)),l=zf(s,a).endPeriod,u=r&&Fn(r);return u&&u>l||!1}function M8(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=kd(e,1);return r&&$x(a,r)>0||i&&i.every(function(s){return $x(a,s)>0})||!1}function fQ(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.yearItemNumber,a=i===void 0?ib:i,s=kd(e,a),l=zf(s,a).startPeriod,u=r&&Fn(r);return u&&u<l||!1}function VO(e){var n=e.minDate,t=e.includeDates;if(t&&n){var r=t.filter(function(i){return om(i,n)>=0});return l8(r)}else return t?l8(t):n}function GO(e){var n=e.maxDate,t=e.includeDates;if(t&&n){var r=t.filter(function(i){return om(i,n)<=0});return o8(r)}else return t?o8(t):n}function F8(e,n){var t;e===void 0&&(e=[]),n===void 0&&(n="react-datepicker__day--highlighted");for(var r=new Map,i=0,a=e.length;i<a;i++){var s=e[i];if(_d(s)){var l=pi(s,"MM.dd.yyyy"),u=r.get(l)||[];u.includes(n)||(u.push(n),r.set(l,u))}else if(typeof s=="object"){var d=Object.keys(s),f=(t=d[0])!==null&&t!==void 0?t:"",m=s[f];if(typeof f=="string"&&Array.isArray(m))for(var b=0,g=m.length;b<g;b++){var x=m[b];if(x){var l=pi(x,"MM.dd.yyyy"),u=r.get(l)||[];u.includes(f)||(u.push(f),r.set(l,u))}}}}return r}function hQ(e,n){return e.length!==n.length?!1:e.every(function(t,r){return t===n[r]})}function pQ(e,n){e===void 0&&(e=[]),n===void 0&&(n="react-datepicker__day--holidays");var t=new Map;return e.forEach(function(r){var i=r.date,a=r.holidayName;if(_d(i)){var s=pi(i,"MM.dd.yyyy"),l=t.get(s)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===n&&hQ(l.holidayNames,[a]))){l.className=n;var u=l.holidayNames;l.holidayNames=u?wc(wc([],u,!0),[a],!1):[a],t.set(s,l)}}}),t}function mQ(e,n,t,r,i){for(var a=i.length,s=[],l=0;l<a;l++){var u=e,d=i[l];d&&(u=fW(u,Ec(d)),u=TS(u,kc(d)),u=mW(u,Nd(d)));var f=TS(e,(t+1)*r);Jf(u,n)&&pp(u,f)&&d!=null&&s.push(d)}return s}function P8(e){return e<10?"0".concat(e):"".concat(e)}function zf(e,n){n===void 0&&(n=ib);var t=Math.ceil(Fn(e)/n)*n,r=t-(n-1);return{startPeriod:r,endPeriod:t}}function gQ(e){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+t-+n)/36e5)}function z8(e){var n=e.getSeconds(),t=e.getMilliseconds();return Mt(e.getTime()-n*1e3-t)}function bQ(e,n){return z8(e).getTime()===z8(n).getTime()}function q8(e){if(!_d(e))throw new Error("Invalid date");var n=new Date(e);return n.setHours(0,0,0,0),n}function B8(e,n){if(!_d(e)||!_d(n))throw new Error("Invalid date received");var t=q8(e),r=q8(n);return pp(t,r)}function QO(e){return e.key===Dt.Space}var yQ=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;return r.inputRef=st.createRef(),r.onTimeChange=function(i){var a,s;r.setState({time:i});var l=r.props.date,u=l instanceof Date&&!isNaN(+l),d=u?l:new Date;if(i!=null&&i.includes(":")){var f=i.split(":"),m=f[0],b=f[1];d.setHours(Number(m)),d.setMinutes(Number(b))}(s=(a=r.props).onChange)===null||s===void 0||s.call(a,d)},r.renderTimeInput=function(){var i=r.state.time,a=r.props,s=a.date,l=a.timeString,u=a.customTimeInput;return u?X.cloneElement(u,{date:s,value:i,onChange:r.onTimeChange}):st.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var d;(d=r.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:i,onChange:function(d){r.onTimeChange(d.target.value||l)}})},r.state={time:r.props.timeString},r}return n.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},n.prototype.render=function(){return st.createElement("div",{className:"react-datepicker__input-time-container"},st.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),st.createElement("div",{className:"react-datepicker-time__input-container"},st.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},n}(X.Component),xQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.dayEl=X.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var i,a,s=r.key;s===Dt.Space&&(r.preventDefault(),r.key=Dt.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},t.isSameDay=function(r){return Kn(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected),a=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!a},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),El(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return SA(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Kn(t.props.day,Qf(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&Kn(r,Qf(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,i=r.day,a=r.highlightDates;if(!a)return!1;var s=pi(i,"MM.dd.yyyy");return a.get(s)},t.getHolidaysClass=function(){var r,i=t.props,a=i.day,s=i.holidays;if(!s)return[void 0];var l=pi(a,"MM.dd.yyyy");return s.has(l)?[(r=s.get(l))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:Zg(i,a,s)},t.isInSelectingRange=function(){var r,i=t.props,a=i.day,s=i.selectsStart,l=i.selectsEnd,u=i.selectsRange,d=i.selectsDisabledDaysInRange,f=i.startDate,m=i.endDate,b=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(s||l||u)||!b||!d&&t.isDisabled()?!1:s&&m&&(pp(b,m)||Gh(b,m))?Zg(a,b,m):l&&f&&(Jf(b,f)||Gh(b,f))||u&&f&&!m&&(Jf(b,f)||Gh(b,f))?Zg(a,f,b):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,s=i.startDate,l=i.selectsStart,u=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return l?Kn(a,u):Kn(a,s)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,s=i.endDate,l=i.selectsEnd,u=i.selectsRange,d=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return l||u?Kn(a,d):Kn(a,s)},t.isRangeStart=function(){var r=t.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:Kn(a,i)},t.isRangeEnd=function(){var r=t.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:Kn(s,i)},t.isWeekend=function(){var r=cY(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===to(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(to(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Lr())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var i=t.props.dayClassName?t.props.dayClassName(r):void 0;return ms("react-datepicker__day",i,"react-datepicker__day--"+tQ(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,i=r.day,a=r.ariaLabelPrefixWhenEnabled,s=a===void 0?"Choose":a,l=r.ariaLabelPrefixWhenDisabled,u=l===void 0?"Not available":l,d=t.isDisabled()||t.isExcluded()?u:s;return"".concat(d," ").concat(pi(i,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,i=r.day,a=r.holidays,s=a===void 0?new Map:a,l=r.excludeDates,u=pi(i,"MM.dd.yyyy"),d=[];return s.has(u)&&d.push.apply(d,s.get(u).holidayNames),t.isExcluded()&&d.push(l==null?void 0:l.filter(function(f){return f instanceof Date?Kn(f,i):Kn(f==null?void 0:f.date,i)}).map(function(f){if(!(f instanceof Date))return f==null?void 0:f.message})),d.join(", ")},t.getTabIndex=function(){var r=t.props.selected,i=t.props.preSelection,a=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&Kn(i,r))?0:-1;return a},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(m8(t.props.day),t.props.day):m8(t.props.day)},t.render=function(){return st.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&st.createElement("span",{className:"overlay"},t.getTitle()))},t}return n.prototype.componentDidMount=function(){this.handleFocusDay()},n.prototype.componentDidUpdate=function(){this.handleFocusDay()},n.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},n.prototype.isDayActiveElement=function(){var t,r,i;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},n.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},n}(X.Component),vQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.weekNumberEl=X.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var i,a,s=r.key;s===Dt.Space&&(r.preventDefault(),r.key=Dt.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Kn(t.props.date,t.props.selected)&&Kn(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Kn(t.props.date,t.props.selected)&&Kn(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var i=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Kn(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},n.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},n.prototype.render=function(){var t=this.props,r=t.weekNumber,i=t.isWeekDisabled,a=t.ariaLabelPrefix,s=a===void 0?n.defaultProps.ariaLabelPrefix:a,l=t.onClick,u={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!i,"react-datepicker__week-number--selected":!!l&&Kn(this.props.date,this.props.selected)};return st.createElement("div",{ref:this.weekNumberEl,className:ms(u),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},n}(X.Component),wQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.isDisabled=function(r){return El(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,i){t.props.onDayClick&&t.props.onDayClick(r,i)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,i,a){for(var s,l,u,d=new Date(r),f=0;f<7;f++){var m=new Date(r);m.setDate(m.getDate()+f);var b=!t.isDisabled(m);if(b){d=m;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(d,i,a),t.props.showWeekPicker&&t.handleDayClick(d,a),((s=t.props.shouldCloseOnSelect)!==null&&s!==void 0?s:n.defaultProps.shouldCloseOnSelect)&&((u=(l=t.props).setOpen)===null||u===void 0||u.call(l,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):eQ(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),i=vu(r,6),a=new Date(r);a<=i;){if(!t.isDisabled(a))return!1;a=vu(a,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),i=[],a=t.formatWeekNumber(r);if(t.props.showWeekNumber){var s=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,a):void 0;i.push(st.createElement(vQ,nr({key:"W"},n.defaultProps,t.props,{weekNumber:a,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:s})))}return i.concat([0,1,2,3,4,5,6].map(function(l){var u=vu(r,l);return st.createElement(xQ,nr({},n.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:u.valueOf(),day:u,onClick:t.handleDayClick.bind(t,u),onMouseEnter:t.handleDayMouseEnter.bind(t,u)}))}))},t.startOfWeek=function(){return Qf(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Kn(t.startOfWeek(),t.props.selected)&&Kn(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Kn(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return st.createElement("div",{className:ms(t)},this.renderDays())},n}(X.Component),Eg,SQ=6,B0={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},lw=(Eg={},Eg[B0.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Eg[B0.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Eg[B0.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Eg),Py=1;function $8(e,n){return e?B0.FOUR_COLUMNS:n?B0.TWO_COLUMNS:B0.THREE_COLUMNS}var AQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.MONTH_REFS=wc([],Array(12),!0).map(function(){return X.createRef()}),t.QUARTER_REFS=wc([],Array(4),!0).map(function(){return X.createRef()}),t.isDisabled=function(r){return El(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return SA(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,i){var a,s;(s=(a=t.props).onDayClick)===null||s===void 0||s.call(a,r,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var i,a;(a=(i=t.props).onDayMouseEnter)===null||a===void 0||a.call(i,r)},t.handleMouseLeave=function(){var r,i;(i=(r=t.props).onMouseLeave)===null||i===void 0||i.call(r)},t.isRangeStartMonth=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:eo(Ho(a,r),s)},t.isRangeStartQuarter=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:Kx(I0(a,r),s)},t.isRangeEndMonth=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:eo(Ho(a,r),l)},t.isRangeEndQuarter=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:Kx(I0(a,r),l)},t.isInSelectingRangeMonth=function(r){var i,a=t.props,s=a.day,l=a.selectsStart,u=a.selectsEnd,d=a.selectsRange,f=a.startDate,m=a.endDate,b=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(l||u||d)||!b?!1:l&&m?Ly(b,m,r,s):u&&f||d&&f&&!m?Ly(f,b,r,s):!1},t.isSelectingMonthRangeStart=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var a=t.props,s=a.day,l=a.startDate,u=a.selectsStart,d=Ho(s,r),f=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return u?eo(d,f):eo(d,l)},t.isSelectingMonthRangeEnd=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var a=t.props,s=a.day,l=a.endDate,u=a.selectsEnd,d=a.selectsRange,f=Ho(s,r),m=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return u||d?eo(f,m):eo(f,l)},t.isInSelectingRangeQuarter=function(r){var i,a=t.props,s=a.day,l=a.selectsStart,u=a.selectsEnd,d=a.selectsRange,f=a.startDate,m=a.endDate,b=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(l||u||d)||!b?!1:l&&m?Fy(b,m,r,s):u&&f||d&&f&&!m?Fy(f,b,r,s):!1},t.isWeekInMonth=function(r){var i=t.props.day,a=vu(r,6);return eo(r,i)||eo(a,i)},t.isCurrentMonth=function(r,i){return Fn(r)===Fn(Lr())&&i===to(Lr())},t.isCurrentQuarter=function(r,i){return Fn(r)===Fn(Lr())&&i===ep(Lr())},t.isSelectedMonth=function(r,i,a){return to(a)===i&&Fn(r)===Fn(a)},t.isSelectMonthInList=function(r,i,a){return a.some(function(s){return t.isSelectedMonth(r,i,s)})},t.isSelectedQuarter=function(r,i,a){return ep(r)===i&&Fn(r)===Fn(a)},t.renderWeeks=function(){for(var r=[],i=t.props.fixedHeight,a=0,s=!1,l=Qf(Td(t.props.day),t.props.locale,t.props.calendarStartDay),u=function(x){return t.props.showWeekPicker?Qf(x,t.props.locale,t.props.calendarStartDay):t.props.preSelection},d=function(x){return t.props.showWeekPicker?Qf(x,t.props.locale,t.props.calendarStartDay):t.props.selected},f=t.props.selected?d(t.props.selected):void 0,m=t.props.preSelection?u(t.props.preSelection):void 0;r.push(st.createElement(wQ,nr({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:a,day:l,month:to(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:f,preSelection:m,showWeekNumber:t.props.showWeekNumbers}))),!s;){a++,l=Px(l,1);var b=i&&a>=SQ,g=!i&&!t.isWeekInMonth(l);if(b||g)if(t.props.peekNextMonth)s=!0;else break}return r},t.onMonthClick=function(r,i){var a=t.isMonthDisabledForLabelDate(i),s=a.isDisabled,l=a.labelDate;s||t.handleDayClick(Td(l),r)},t.onMonthMouseEnter=function(r){var i=t.isMonthDisabledForLabelDate(r),a=i.isDisabled,s=i.labelDate;a||t.handleDayMouseEnter(Td(s))},t.handleMonthNavigation=function(r,i){var a,s,l,u;(s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,i),(u=(l=t.MONTH_REFS[r])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus()},t.handleKeyboardNavigation=function(r,i,a){var s,l=t.props,u=l.selected,d=l.preSelection,f=l.setPreSelection,m=l.minDate,b=l.maxDate,g=l.showFourColumnMonthYearPicker,x=l.showTwoColumnMonthYearPicker;if(d){var y=$8(g,x),A=t.getVerticalOffset(y),w=(s=lw[y])===null||s===void 0?void 0:s.grid,C=function(_,L,$){var Z,O,j=L,F=$;switch(_){case Dt.ArrowRight:j=Su(L,Py),F=$===11?0:$+Py;break;case Dt.ArrowLeft:j=tp(L,Py),F=$===0?11:$-Py;break;case Dt.ArrowUp:j=tp(L,A),F=!((Z=w==null?void 0:w[0])===null||Z===void 0)&&Z.includes($)?$+12-A:$-A;break;case Dt.ArrowDown:j=Su(L,A),F=!((O=w==null?void 0:w[w.length-1])===null||O===void 0)&&O.includes($)?$-12+A:$+A;break}return{newCalculatedDate:j,newCalculatedMonth:F}},T=function(_,L,$){for(var Z=40,O=_,j=!1,F=0,N=C(O,L,$),G=N.newCalculatedDate,H=N.newCalculatedMonth;!j;){if(F>=Z){G=L,H=$;break}if(m&&G<m){O=Dt.ArrowRight;var Q=C(O,G,H);G=Q.newCalculatedDate,H=Q.newCalculatedMonth}if(b&&G>b){O=Dt.ArrowLeft;var Q=C(O,G,H);G=Q.newCalculatedDate,H=Q.newCalculatedMonth}if(lQ(G,t.props)){var Q=C(O,G,H);G=Q.newCalculatedDate,H=Q.newCalculatedMonth}else j=!0;F++}return{newCalculatedDate:G,newCalculatedMonth:H}};if(i===Dt.Enter){t.isMonthDisabled(a)||(t.onMonthClick(r,a),f==null||f(u));return}var M=T(i,d,a),R=M.newCalculatedDate,z=M.newCalculatedMonth;switch(i){case Dt.ArrowRight:case Dt.ArrowLeft:case Dt.ArrowUp:case Dt.ArrowDown:t.handleMonthNavigation(z,R);break}}},t.getVerticalOffset=function(r){var i,a;return(a=(i=lw[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&a!==void 0?a:0},t.onMonthKeyDown=function(r,i){var a=t.props,s=a.disabledKeyboardNavigation,l=a.handleOnMonthKeyDown,u=r.key;u!==Dt.Tab&&r.preventDefault(),s||t.handleKeyboardNavigation(r,u,i),l&&l(r)},t.onQuarterClick=function(r,i){var a=I0(t.props.day,i);Ry(a,t.props)||t.handleDayClick(_8(a),r)},t.onQuarterMouseEnter=function(r){var i=I0(t.props.day,r);Ry(i,t.props)||t.handleDayMouseEnter(_8(i))},t.handleQuarterNavigation=function(r,i){var a,s,l,u;t.isDisabled(i)||t.isExcluded(i)||((s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,i),(u=(l=t.QUARTER_REFS[r-1])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus())},t.onQuarterKeyDown=function(r,i){var a,s,l=r.key;if(!t.props.disabledKeyboardNavigation)switch(l){case Dt.Enter:t.onQuarterClick(r,i),(s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,t.props.selected);break;case Dt.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,cA(t.props.preSelection,1));break;case Dt.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,IO(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var i,a=t.props,s=a.day,l=a.minDate,u=a.maxDate,d=a.excludeDates,f=a.includeDates,m=Ho(s,r);return{isDisabled:(i=(l||u||d||f)&&YO(m,t.props))!==null&&i!==void 0?i:!1,labelDate:m}},t.isMonthDisabled=function(r){var i=t.isMonthDisabledForLabelDate(r).isDisabled;return i},t.getMonthClassNames=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate,u=i.preSelection,d=i.monthClassName,f=d?d(Ho(a,r)):void 0,m=t.getSelection();return ms("react-datepicker__month-text","react-datepicker__month-".concat(r),f,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":m?t.isSelectMonthInList(a,r,m):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&u&&t.isSelectedMonth(a,r,u)&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":s&&l?Ly(s,l,r,a):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(a,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=to(t.props.preSelection),a=t.isMonthDisabledForLabelDate(i).isDisabled,s=r===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return s},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=ep(t.props.preSelection),a=Ry(t.props.day,t.props),s=r===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return s},t.getAriaLabel=function(r){var i=t.props,a=i.chooseDayAriaLabelPrefix,s=a===void 0?"Choose":a,l=i.disabledDayAriaLabelPrefix,u=l===void 0?"Not available":l,d=i.day,f=i.locale,m=Ho(d,r),b=t.isDisabled(m)||t.isExcluded(m)?u:s;return"".concat(b," ").concat(pi(m,"MMMM yyyy",f))},t.getQuarterClassNames=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate,u=i.selected,d=i.minDate,f=i.maxDate,m=i.excludeDates,b=i.includeDates,g=i.filterDate,x=i.preSelection,y=i.disabledKeyboardNavigation,A=(d||f||m||b||g)&&Ry(I0(a,r),t.props);return ms("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":A,"react-datepicker__quarter-text--selected":u?t.isSelectedQuarter(a,r,u):void 0,"react-datepicker__quarter-text--keyboard-selected":!y&&x&&t.isSelectedQuarter(a,r,x)&&!A,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":s&&l?Fy(s,l,r,a):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r)})},t.getMonthContent=function(r){var i=t.props,a=i.showFullMonthYearPicker,s=i.renderMonthContent,l=i.locale,u=i.day,d=WO(r,l),f=wA(r,l);return s?s(r,d,f,u):a?f:d},t.getQuarterContent=function(r){var i,a=t.props,s=a.renderQuarterContent,l=a.locale,u=oQ(r,l);return(i=s==null?void 0:s(r,u))!==null&&i!==void 0?i:u},t.renderMonths=function(){var r,i=t.props,a=i.showTwoColumnMonthYearPicker,s=i.showFourColumnMonthYearPicker,l=i.day,u=i.selected,d=(r=lw[$8(s,a)])===null||r===void 0?void 0:r.grid;return d==null?void 0:d.map(function(f,m){return st.createElement("div",{className:"react-datepicker__month-wrapper",key:m},f.map(function(b,g){return st.createElement("div",{ref:t.MONTH_REFS[b],key:g,onClick:function(x){t.onMonthClick(x,b)},onKeyDown:function(x){QO(x)&&(x.preventDefault(),x.key=Dt.Enter),t.onMonthKeyDown(x,b)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(b)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(b)}:void 0,tabIndex:Number(t.getTabIndex(b)),className:t.getMonthClassNames(b),"aria-disabled":t.isMonthDisabled(b),role:"option","aria-label":t.getAriaLabel(b),"aria-current":t.isCurrentMonth(l,b)?"date":void 0,"aria-selected":u?t.isSelectedMonth(l,b,u):void 0},t.getMonthContent(b))}))})},t.renderQuarters=function(){var r=t.props,i=r.day,a=r.selected,s=[1,2,3,4];return st.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(l,u){return st.createElement("div",{key:u,ref:t.QUARTER_REFS[u],role:"option",onClick:function(d){t.onQuarterClick(d,l)},onKeyDown:function(d){t.onQuarterKeyDown(d,l)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(l)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(l)}:void 0,className:t.getQuarterClassNames(l),"aria-selected":a?t.isSelectedQuarter(i,l,a):void 0,tabIndex:Number(t.getQuarterTabIndex(l)),"aria-current":t.isCurrentQuarter(i,l)?"date":void 0},t.getQuarterContent(l))}))},t.getClassNames=function(){var r=t.props,i=r.selectingDate,a=r.selectsStart,s=r.selectsEnd,l=r.showMonthYearPicker,u=r.showQuarterYearPicker,d=r.showWeekPicker;return ms("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(a||s)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":u},{"react-datepicker__weekPicker":d})},t}return n.prototype.getSelection=function(){var t=this.props,r=t.selected,i=t.selectedDates,a=t.selectsMultiple;if(a)return i;if(r)return[r]},n.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,i=t.showQuarterYearPicker,a=t.day,s=t.ariaLabelPrefix,l=s===void 0?"Month ":s,u=l?l.trim()+" ":"";return st.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(u).concat(pi(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},n}(X.Component),CQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,i){return st.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?st.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return n.prototype.render=function(){return st.createElement(Mv,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},n}(X.Component),EQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(i,a){return st.createElement("option",{key:i,value:a},i)})},t.renderSelectMode=function(r){return st.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,i){return st.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},st.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),st.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(r){return st.createElement(CQ,nr({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var i=t.state.dropdownVisible,a=[t.renderReadView(!i,r)];return i&&a.unshift(t.renderDropdown(r)),a},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return WO(a,t.props.locale)}:function(a){return wA(a,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return st.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},n}(X.Component);function kQ(e,n){for(var t=[],r=Td(e),i=Td(n);!Jf(r,i);)t.push(Lr(r)),r=Su(r,1);return t}var _Q=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var a=IS(i),s=uc(r.props.date,i)&&eo(r.props.date,i);return st.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:r.onChange.bind(r,a),"aria-selected":s?"true":void 0},s?st.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",pi(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:kQ(r.props.minDate,r.props.maxDate)},r}return n.prototype.render=function(){var t=ms({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return st.createElement(Mv,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(X.Component),NQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=Td(t.props.minDate),i=Td(t.props.maxDate),a=[];!Jf(r,i);){var s=IS(r);a.push(st.createElement("option",{key:s,value:s},pi(r,t.props.dateFormat,t.props.locale))),r=Su(r,1)}return a},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return st.createElement("select",{value:IS(Td(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var i=pi(t.props.date,t.props.dateFormat,t.props.locale);return st.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},st.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),st.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return st.createElement(_Q,nr({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown();var i=Lr(r);uc(t.props.date,i)&&eo(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return st.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(X.Component),TQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,a;t.list&&(t.list.scrollTop=(a=t.centerLi&&n.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&a!==void 0?a:0)})},t.handleClick=function(r){var i,a;(t.props.minTime||t.props.maxTime)&&I8(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&O8(r,t.props)||(a=(i=t.props).onChange)===null||a===void 0||a.call(i,r)},t.isSelectedTime=function(r){return t.props.selected&&bQ(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&I8(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&O8(r,t.props)},t.liClasses=function(r){var i,a=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&a.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&a.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Ec(r)*3600+kc(r)*60+Nd(r))%(((i=t.props.intervals)!==null&&i!==void 0?i:n.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},t.handleOnKeyDown=function(r,i){var a,s;r.key===Dt.Space&&(r.preventDefault(),r.key=Dt.Enter),(r.key===Dt.ArrowUp||r.key===Dt.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Dt.ArrowDown||r.key===Dt.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Dt.Enter&&t.handleClick(i),(s=(a=t.props).handleOnKeyDown)===null||s===void 0||s.call(a,r)},t.renderTimes=function(){for(var r,i=[],a=typeof t.props.format=="string"?t.props.format:"p",s=(r=t.props.intervals)!==null&&r!==void 0?r:n.defaultProps.intervals,l=t.props.selected||t.props.openToDate||Lr(),u=ox(l),d=t.props.injectTimes&&t.props.injectTimes.sort(function(A,w){return A.getTime()-w.getTime()}),f=60*gQ(l),m=f/s,b=0;b<m;b++){var g=TS(u,b*s);if(i.push(g),d){var x=mQ(u,g,b,s,d);i=i.concat(x)}}var y=i.reduce(function(A,w){return w.getTime()<=l.getTime()?w:A},i[0]);return i.map(function(A){return st.createElement("li",{key:A.valueOf(),onClick:t.handleClick.bind(t,A),className:t.liClasses(A),ref:function(w){A===y&&(t.centerLi=w)},onKeyDown:function(w){t.handleOnKeyDown(w,A)},tabIndex:A===y?0:-1,role:"option","aria-selected":t.isSelectedTime(A)?"true":void 0,"aria-disabled":t.isDisabledTime(A)?"true":void 0},pi(A,a,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?st.createElement(st.Fragment,null):st.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},st.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},n.prototype.render=function(){var t=this,r,i=this.state.height;return st.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:n.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),st.createElement("div",{className:"react-datepicker__time"},st.createElement("div",{className:"react-datepicker__time-box"},st.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){t.list=a},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},n.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},n}(X.Component),U8=3,jQ=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;return r.YEAR_REFS=wc([],Array(r.props.yearItemNumber),!0).map(function(){return X.createRef()}),r.isDisabled=function(i){return El(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return SA(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var a=function(){var s,l;(l=(s=r.YEAR_REFS[i])===null||s===void 0?void 0:s.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(a)},r.handleYearClick=function(i,a){r.props.onDayClick&&r.props.onDayClick(i,a)},r.handleYearNavigation=function(i,a){var s,l,u,d,f=r.props,m=f.date,b=f.yearItemNumber;if(!(m===void 0||b===void 0)){var g=zf(m,b).startPeriod;r.isDisabled(a)||r.isExcluded(a)||((l=(s=r.props).setPreSelection)===null||l===void 0||l.call(s,a),i-g<0?r.updateFocusOnPaginate(b-(g-i)):i-g>=b?r.updateFocusOnPaginate(Math.abs(b-(i-g))):(d=(u=r.YEAR_REFS[i-g])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus())}},r.isSameDay=function(i,a){return Kn(i,a)},r.isCurrentYear=function(i){return i===Fn(Lr())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&uc(lc(Lr(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&uc(lc(Lr(),i),r.props.endDate)},r.isInRange=function(i){return My(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var a=r.props,s=a.selectsStart,l=a.selectsEnd,u=a.selectsRange,d=a.startDate,f=a.endDate;return!(s||l||u)||!r.selectingDate()?!1:s&&f?My(i,r.selectingDate(),f):l&&d||u&&d&&!f?My(i,d,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var a;if(!r.isInSelectingRange(i))return!1;var s=r.props,l=s.startDate,u=s.selectsStart,d=lc(Lr(),i);return u?uc(d,(a=r.selectingDate())!==null&&a!==void 0?a:null):uc(d,l??null)},r.isSelectingRangeEnd=function(i){var a;if(!r.isInSelectingRange(i))return!1;var s=r.props,l=s.endDate,u=s.selectsEnd,d=s.selectsRange,f=lc(Lr(),i);return u||d?uc(f,(a=r.selectingDate())!==null&&a!==void 0?a:null):uc(f,l??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var a=r.props,s=a.minDate,l=a.maxDate,u=a.excludeDates,d=a.includeDates,f=a.filterDate,m=Xg(lc(r.props.date,i)),b=(s||l||u||d||f)&&lx(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Kn(m,Xg(r.props.selected))&&Kn(m,Xg(r.props.preSelection))&&!b}},r.onYearClick=function(i,a){var s=r.props.date;s!==void 0&&r.handleYearClick(Xg(lc(s,a)),i)},r.onYearKeyDown=function(i,a){var s,l,u=i.key,d=r.props,f=d.date,m=d.yearItemNumber,b=d.handleOnKeyDown;if(u!==Dt.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(u){case Dt.Enter:if(r.props.selected==null)break;r.onYearClick(i,a),(l=(s=r.props).setPreSelection)===null||l===void 0||l.call(s,r.props.selected);break;case Dt.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(a+1,kd(r.props.preSelection,1));break;case Dt.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(a-1,lm(r.props.preSelection,1));break;case Dt.ArrowUp:{if(f===void 0||m===void 0||r.props.preSelection==null)break;var g=zf(f,m).startPeriod,x=U8,y=a-x;if(y<g){var A=m%x;a>=g&&a<g+A?x=A:x+=A,y=a-x}r.handleYearNavigation(y,lm(r.props.preSelection,x));break}case Dt.ArrowDown:{if(f===void 0||m===void 0||r.props.preSelection==null)break;var w=zf(f,m).endPeriod,x=U8,y=a+x;if(y>w){var A=m%x;a<=w&&a>w-A?x=A:x+=A,y=a+x}r.handleYearNavigation(y,kd(r.props.preSelection,x));break}}b&&b(i)},r.getYearClassNames=function(i){var a=r.props,s=a.date,l=a.minDate,u=a.maxDate,d=a.selected,f=a.excludeDates,m=a.includeDates,b=a.filterDate,g=a.yearClassName;return ms("react-datepicker__year-text","react-datepicker__year-".concat(i),s?g==null?void 0:g(lc(s,i)):void 0,{"react-datepicker__year-text--selected":d?i===Fn(d):void 0,"react-datepicker__year-text--disabled":(l||u||f||m||b)&&lx(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var a=Fn(r.props.preSelection),s=lx(i,r.props);return i===a&&!s?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return n.prototype.render=function(){var t=this,r=[],i=this.props,a=i.date,s=i.yearItemNumber,l=i.onYearMouseEnter,u=i.onYearMouseLeave;if(a===void 0)return null;for(var d=zf(a,s),f=d.startPeriod,m=d.endPeriod,b=function(y){r.push(st.createElement("div",{ref:g.YEAR_REFS[y-f],onClick:function(A){t.onYearClick(A,y)},onKeyDown:function(A){QO(A)&&(A.preventDefault(),A.key=Dt.Enter),t.onYearKeyDown(A,y)},tabIndex:Number(g.getYearTabIndex(y)),className:g.getYearClassNames(y),onMouseEnter:g.props.usePointerEvent?void 0:function(A){return l(A,y)},onPointerEnter:g.props.usePointerEvent?function(A){return l(A,y)}:void 0,onMouseLeave:g.props.usePointerEvent?void 0:function(A){return u(A,y)},onPointerLeave:g.props.usePointerEvent?function(A){return u(A,y)}:void 0,key:y,"aria-current":g.isCurrentYear(y)?"date":void 0},g.getYearContent(y)))},g=this,x=f;x<=m;x++)b(x);return st.createElement("div",{className:"react-datepicker__year"},st.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},n}(X.Component);function OQ(e,n,t,r){for(var i=[],a=0;a<2*n+1;a++){var s=e+n-a,l=!0;t&&(l=Fn(t)<=s),r&&l&&(l=Fn(r)>=s),l&&i.push(s)}return i}var IQ=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;r.renderOptions=function(){var l=r.props.year,u=r.state.yearsList.map(function(m){return st.createElement("div",{className:l===m?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:m,onClick:r.onChange.bind(r,m),"aria-selected":l===m?"true":void 0},l===m?st.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",m)}),d=r.props.minDate?Fn(r.props.minDate):null,f=r.props.maxDate?Fn(r.props.maxDate):null;return(!f||!r.state.yearsList.find(function(m){return m===f}))&&u.unshift(st.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},st.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!r.state.yearsList.find(function(m){return m===d}))&&u.push(st.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},st.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),u},r.onChange=function(l){r.props.onChange(l)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(l){var u=r.state.yearsList.map(function(d){return d+l});r.setState({yearsList:u})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,s=i||(a?10:5);return r.state={yearsList:OQ(r.props.year,s,r.props.minDate,r.props.maxDate)},r.dropdownRef=X.createRef(),r}return n.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,i=r?r.find(function(a){return a.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},n.prototype.render=function(){var t=ms({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return st.createElement(Mv,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(X.Component),DQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?Fn(t.props.minDate):1900,i=t.props.maxDate?Fn(t.props.maxDate):2100,a=[],s=r;s<=i;s++)a.push(st.createElement("option",{key:s,value:s},s));return a},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return st.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return st.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},st.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),st.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return st.createElement(IQ,nr({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,i){var a;(a=t.onSelect)===null||a===void 0||a.call(t,r,i),t.setOpen()},t.onSelect=function(r,i){var a,s;(s=(a=t.props).onSelect)===null||s===void 0||s.call(a,r,i)},t.setOpen=function(){var r,i;(i=(r=t.props).setOpen)===null||i===void 0||i.call(r,!0)},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return st.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(X.Component),LQ=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],RQ=function(e){var n=(e.className||"").split(/\s+/);return LQ.some(function(t){return n.indexOf(t)>=0})},MQ=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var a,s;RQ(i.target)&&((s=(a=r.props).onDropdownFocus)===null||s===void 0||s.call(a,i))},r.getDateInView=function(){var i=r.props,a=i.preSelection,s=i.selected,l=i.openToDate,u=VO(r.props),d=GO(r.props),f=Lr(),m=l||s||a;return m||(u&&pp(f,u)?u:d&&Jf(f,d)?d:f)},r.increaseMonth=function(){r.setState(function(i){var a=i.date;return{date:Su(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var a=i.date;return{date:tp(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,a,s){r.props.onSelect(i,a,s),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,a){r.setState({selectingDate:lc(Lr(),a)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,a)},r.handleYearMouseLeave=function(i,a){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,a)},r.handleYearChange=function(i){var a,s,l,u;(s=(a=r.props).onYearChange)===null||s===void 0||s.call(a,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(u=(l=r.props).setOpen)===null||u===void 0||u.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!El(i,r.props))return i;for(var a=Td(i),s=rQ(i),l=bW(s,a),u=null,d=0;d<=l;d++){var f=vu(a,d);if(!El(f,r.props)){u=f;break}}return u},r.handleMonthChange=function(i){var a,s,l,u=(a=r.getEnabledPreSelectionDateForMonth(i))!==null&&a!==void 0?a:i;r.handleCustomMonthChange(u),r.props.adjustDateOnChange&&(r.props.onSelect(u),(l=(s=r.props).setOpen)===null||l===void 0||l.call(s,!0)),r.props.setPreSelection&&r.props.setPreSelection(u)},r.handleCustomMonthChange=function(i){var a,s;(s=(a=r.props).onMonthChange)===null||s===void 0||s.call(a,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(a){var s=a.date;return{date:lc(s,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(a){var s=a.date;return{date:Ho(s,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(a){var s=a.date;return{date:lc(Ho(s,to(i)),Fn(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var a=Qf(i,r.props.locale,r.props.calendarStartDay),s=[];return r.props.showWeekNumbers&&s.push(st.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(l){var u=vu(a,l),d=r.formatWeekday(u,r.props.locale),f=r.props.weekDayClassName?r.props.weekDayClassName(u):void 0;return st.createElement("div",{key:l,"aria-label":pi(u,"EEEE",r.props.locale),className:ms("react-datepicker__day-name",f)},d)}))},r.formatWeekday=function(i,a){return r.props.formatWeekDay?iQ(i,r.props.formatWeekDay,a):r.props.useWeekdaysShort?sQ(i,a):aQ(i,a)},r.decreaseYear=function(){r.setState(function(i){var a,s=i.date;return{date:lm(s,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:n.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,a,s;if(!r.props.renderCustomHeader){var l=(i=r.props.monthsShown)!==null&&i!==void 0?i:n.defaultProps.monthsShown,u=r.props.showPreviousMonths?l-1:0,d=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:u,f=tp(r.state.date,d),m;switch(!0){case r.props.showMonthYearPicker:m=R8(r.state.date,r.props);break;case r.props.showYearPicker:m=dQ(r.state.date,r.props);break;case r.props.showQuarterYearPicker:m=uQ(r.state.date,r.props);break;default:m=D8(f,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:n.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&m||r.props.showTimeSelectOnly)){var b=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],g=["react-datepicker__navigation","react-datepicker__navigation--previous"],x=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(x=r.decreaseYear),m&&r.props.showDisabledMonthNavigation&&(g.push("react-datepicker__navigation--previous--disabled"),x=void 0);var y=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,A=r.props,w=A.previousMonthButtonLabel,C=w===void 0?n.defaultProps.previousMonthButtonLabel:w,T=A.previousYearButtonLabel,M=T===void 0?n.defaultProps.previousYearButtonLabel:T,R=r.props,z=R.previousMonthAriaLabel,_=z===void 0?typeof C=="string"?C:"Previous Month":z,L=R.previousYearAriaLabel,$=L===void 0?typeof M=="string"?M:"Previous Year":L;return st.createElement("button",{type:"button",className:g.join(" "),onClick:x,onKeyDown:r.props.handleOnKeyDown,"aria-label":y?$:_},st.createElement("span",{className:b.join(" ")},y?M:C))}}},r.increaseYear=function(){r.setState(function(i){var a,s=i.date;return{date:kd(s,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:n.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.showMonthYearPicker:a=M8(r.state.date,r.props);break;case r.props.showYearPicker:a=fQ(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=cQ(r.state.date,r.props);break;default:a=L8(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:n.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var u=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(u=r.increaseYear),a&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),u=void 0);var d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,f=r.props,m=f.nextMonthButtonLabel,b=m===void 0?n.defaultProps.nextMonthButtonLabel:m,g=f.nextYearButtonLabel,x=g===void 0?n.defaultProps.nextYearButtonLabel:g,y=r.props,A=y.nextMonthAriaLabel,w=A===void 0?typeof b=="string"?b:"Next Month":A,C=y.nextYearAriaLabel,T=C===void 0?typeof x=="string"?x:"Next Year":C;return st.createElement("button",{type:"button",className:s.join(" "),onClick:u,onKeyDown:r.props.handleOnKeyDown,"aria-label":d?T:w},st.createElement("span",{className:l.join(" ")},d?x:b))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var a=["react-datepicker__current-month"];return r.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),st.createElement("h2",{className:a.join(" ")},pi(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return st.createElement(DQ,nr({},n.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Fn(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return st.createElement(EQ,nr({},n.defaultProps,r.props,{month:to(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return st.createElement(NQ,nr({},n.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(N8(),i),r.props.setPreSelection&&r.props.setPreSelection(N8())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return st.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var a=i.monthDate,s=i.i;return st.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(a),st.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(s!==0),r.renderMonthYearDropdown(s!==0),r.renderYearDropdown(s!==0)),st.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderCustomHeader=function(i){var a,s,l=i.monthDate,u=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var d=D8(r.state.date,r.props),f=L8(r.state.date,r.props),m=R8(r.state.date,r.props),b=M8(r.state.date,r.props),g=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return st.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(s=(a=r.props).renderCustomHeader)===null||s===void 0?void 0:s.call(a,nr(nr({},r.state),{customHeaderCount:u,monthDate:l,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:d,nextMonthButtonDisabled:f,prevYearButtonDisabled:m,nextYearButtonDisabled:b})),g&&st.createElement("div",{className:"react-datepicker__day-names"},r.header(l)))},r.renderYearHeader=function(i){var a=i.monthDate,s=r.props,l=s.showYearPicker,u=s.yearItemNumber,d=u===void 0?n.defaultProps.yearItemNumber:u,f=zf(a,d),m=f.startPeriod,b=f.endPeriod;return st.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(m," - ").concat(b):Fn(a))},r.renderHeader=function(i){var a=i.monthDate,s=i.i,l=s===void 0?0:s,u={monthDate:a,i:l};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(u);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(u);default:return r.renderDefaultHeader(u)}},r.renderMonths=function(){var i,a;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var s=[],l=(i=r.props.monthsShown)!==null&&i!==void 0?i:n.defaultProps.monthsShown,u=r.props.showPreviousMonths?l-1:0,d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?kd(r.state.date,u):tp(r.state.date,u),f=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:u,m=0;m<l;++m){var b=m-f+u,g=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?kd(d,b):Su(d,b),x="month-".concat(m),y=m<l-1,A=m>0;s.push(st.createElement("div",{key:x,ref:function(w){r.monthContainer=w??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:g,i:m}),st.createElement(AQ,nr({},n.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:g,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:m,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:A}))))}return s}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return st.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),st.createElement(jQ,nr({},n.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return st.createElement(TQ,nr({},n.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,a=i&&bd(i)&&!!r.props.selected,s=a?"".concat(P8(i.getHours()),":").concat(P8(i.getMinutes())):"";if(r.props.showTimeInput)return st.createElement(yQ,nr({},n.defaultProps,r.props,{date:i,timeString:s,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,a=zf(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:n.defaultProps.yearItemNumber),s=a.startPeriod,l=a.endPeriod,u;return r.props.showYearPicker?u="".concat(s," - ").concat(l):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?u=Fn(r.state.date):u="".concat(wA(to(r.state.date),r.props.locale)," ").concat(Fn(r.state.date)),st.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&u)},r.renderChildren=function(){if(r.props.children)return st.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=X.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(n,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:ib}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},n.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!Kn(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!eo(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Kn(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},n.prototype.render=function(){var t=this.props.container||QG;return st.createElement(Mv,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},st.createElement(t,{className:ms("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},n}(X.Component),FQ=function(e){var n=e.icon,t=e.className,r=t===void 0?"":t,i=e.onClick,a="react-datepicker__calendar-icon";return typeof n=="string"?st.createElement("i",{className:"".concat(a," ").concat(n," ").concat(r),"aria-hidden":"true",onClick:i}):st.isValidElement(n)?st.cloneElement(n,{className:"".concat(n.props.className||""," ").concat(a," ").concat(r),onClick:function(s){typeof n.props.onClick=="function"&&n.props.onClick(s),typeof i=="function"&&i(s)}}):st.createElement("svg",{className:"".concat(a," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},st.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},KO=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return n.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},n.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},n.prototype.render=function(){return w9.createPortal(this.props.children,this.el)},n}(X.Component),PQ="[tabindex], a, button, input, select, textarea",zQ=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},XO=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(PQ),1,-1).filter(zQ)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=X.createRef(),r}return n.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:n.defaultProps.enableTabLoop)?st.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},st.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,st.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},n.defaultProps={enableTabLoop:!0},n}(X.Component);function qQ(e){var n=function(t){var r,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,a=X.useRef(null),s=GG(nr({open:!i,whileElementsMounted:kG,placement:t.popperPlacement,middleware:wc([RG({padding:15}),LG(10),MG({element:a})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),l=nr(nr({},t),{hidePopper:i,popperProps:nr(nr({},s),{arrowRef:a})});return st.createElement(e,nr({},l))};return n}var BQ=function(e){ns(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(n,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t=this.props,r=t.className,i=t.wrapperClassName,a=t.hidePopper,s=a===void 0?n.defaultProps.hidePopper:a,l=t.popperComponent,u=t.targetComponent,d=t.enableTabLoop,f=t.popperOnKeyDown,m=t.portalId,b=t.portalHost,g=t.popperProps,x=t.showArrow,y=void 0;if(!s){var A=ms("react-datepicker-popper",r);y=st.createElement(XO,{enableTabLoop:d},st.createElement("div",{ref:g.refs.setFloating,style:g.floatingStyles,className:A,"data-placement":g.placement,onKeyDown:f},l,x&&st.createElement(BG,{ref:g.arrowRef,context:g.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(y=X.createElement(this.props.popperContainer,{},y)),m&&!s&&(y=st.createElement(KO,{portalId:m,portalHost:b},y));var w=ms("react-datepicker-wrapper",i);return st.createElement(st.Fragment,null,st.createElement("div",{ref:g.refs.setReference,className:w},u),y)},n}(X.Component),$Q=qQ(BQ),H8="react-datepicker-ignore-onclickoutside";function UQ(e,n){return e&&n?to(e)!==to(n)||Fn(e)!==Fn(n):e!==n}var uw="Date input not valid.",HQ=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Lr()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(a,s){var l=new Date(s.date);return bd(l)?wc(wc([],a,!0),[nr(nr({},s),{date:l})],!1):a},[])},r.calcInitialState=function(){var i,a=r.getPreSelection(),s=VO(r.props),l=GO(r.props),u=s&&pp(a,ox(s))?s:l&&Jf(a,T8(l))?l:a;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:u,highlightDates:F8(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(nr(nr({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(nr(nr({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.safeFocus=function(){setTimeout(function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.focus)===null||a===void 0||a.call(i,{preventScroll:!0})},0)},r.safeBlur=function(){setTimeout(function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.blur)===null||a===void 0||a.call(i)},0)},r.setFocus=function(){r.safeFocus()},r.setBlur=function(){r.safeBlur(),r.cancelFocusInput()},r.setOpen=function(i,a){a===void 0&&(a=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:cw},function(){i||r.setState(function(s){return{focused:a?s.focused:!1}},function(){!a&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return _d(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var a,s,l=r.state.wasHidden,u=l?r.state.open:!0;l&&r.resetHiddenStatus(),!r.state.preventFocus&&u&&((s=(a=r.props).onFocus)===null||s===void 0||s.call(a,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var a,s;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((s=(a=r.props).onBlur)===null||s===void 0||s.call(a,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var a,s;r.props.inline||r.setOpen(!1),(s=(a=r.props).onClickOutside)===null||s===void 0||s.call(a,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,a,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var u=s[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,s),!u||typeof u.isDefaultPrevented!="function"||u.isDefaultPrevented()))){r.setState({inputValue:(u==null?void 0:u.target)instanceof HTMLInputElement?u.target.value:null,lastPreSelectChange:WQ});var d=r.props,f=d.dateFormat,m=f===void 0?n.defaultProps.dateFormat:f,b=d.strictParsing,g=b===void 0?n.defaultProps.strictParsing:b,x=d.selectsRange,y=d.startDate,A=d.endDate,w=(u==null?void 0:u.target)instanceof HTMLInputElement?u.target.value:"";if(x){var C=w.split("-",2).map(function(Z){return Z.trim()}),T=C[0],M=C[1],R=sw(T??"",m,r.props.locale,g),z=sw(M??"",m,r.props.locale,g),_=(y==null?void 0:y.getTime())!==(R==null?void 0:R.getTime()),L=(A==null?void 0:A.getTime())!==(z==null?void 0:z.getTime());if(!_&&!L||R&&El(R,r.props)||z&&El(z,r.props))return;(a=(i=r.props).onChange)===null||a===void 0||a.call(i,[R,z],u)}else{var $=sw(w,m,r.props.locale,g,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&$&&!Kn($,r.props.selected)&&($=TV(r.props.selected,{hours:Ec($),minutes:kc($),seconds:Nd($)})),($||!w)&&r.setSelected($,u,!0)}}},r.handleSelect=function(i,a,s){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(a),r.setSelected(i,a,!1,s),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var l=r.props,u=l.startDate,d=l.endDate;u&&!d&&(r.props.swapRange||!B8(i,u))&&r.setOpen(!1)}},r.setSelected=function(i,a,s,l){var u,d,f=i;if(r.props.showYearPicker){if(f!==null&&lx(Fn(f),r.props))return}else if(r.props.showMonthYearPicker){if(f!==null&&YO(f,r.props))return}else if(f!==null&&El(f,r.props))return;var m=r.props,b=m.onChange,g=m.selectsRange,x=m.startDate,y=m.endDate,A=m.selectsMultiple,w=m.selectedDates,C=m.minTime,T=m.swapRange;if(!Gh(r.props.selected,f)||r.props.allowSameDay||g||A)if(f!==null&&(r.props.selected&&(!s||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(f=ow(f,{hour:Ec(r.props.selected),minute:kc(r.props.selected),second:Nd(r.props.selected)})),!s&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&C&&(f=ow(f,{hour:C.getHours(),minute:C.getMinutes(),second:C.getSeconds()})),r.props.inline||r.setState({preSelection:f}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:l})),g){var M=!x&&!y,R=x&&!y,z=x&&y;M?b==null||b([f,null],a):R&&(f===null?b==null||b([null,null],a):B8(f,x)?T?b==null||b([f,x],a):b==null||b([f,null],a):b==null||b([x,f],a)),z&&(b==null||b([f,null],a))}else if(A){if(f!==null)if(!(w!=null&&w.length))b==null||b([f],a);else{var _=w.some(function($){return Kn($,f)});if(_){var L=w.filter(function($){return!Kn($,f)});b==null||b(L,a)}else b==null||b(wc(wc([],w,!0),[f],!1),a)}}else b==null||b(f,a);s||((d=(u=r.props).onSelect)===null||d===void 0||d.call(u,f,a),r.setState({inputValue:null}))},r.setPreSelection=function(i){var a=_d(r.props.minDate),s=_d(r.props.maxDate),l=!0;if(i){var u=ox(i);if(a&&s)l=Zg(i,r.props.minDate,r.props.maxDate);else if(a){var d=ox(r.props.minDate);l=Jf(i,d)||Gh(u,d)}else if(s){var f=T8(r.props.maxDate);l=pp(i,f)||Gh(u,f)}}l&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var a,s;if(!(r.props.selectsRange||r.props.selectsMultiple)){var l=r.props.selected?r.props.selected:r.getPreSelection(),u=r.props.selected?i:ow(l,{hour:Ec(i),minute:kc(i)});r.setState({preSelection:u}),(s=(a=r.props).onChange)===null||s===void 0||s.call(a,u),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,a;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(a=(i=r.props).onInputClick)===null||a===void 0||a.call(i)},r.onInputKeyDown=function(i){var a,s,l,u,d,f;(s=(a=r.props).onKeyDown)===null||s===void 0||s.call(a,i);var m=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(m===Dt.ArrowDown||m===Dt.ArrowUp||m===Dt.Enter)&&((l=r.onInputClick)===null||l===void 0||l.call(r));return}if(r.state.open){if(m===Dt.ArrowDown||m===Dt.ArrowUp){i.preventDefault();var b=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',g=((u=r.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(b);g instanceof HTMLElement&&g.focus({preventScroll:!0});return}var x=Lr(r.state.preSelection);m===Dt.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===cw?(r.handleSelect(x,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(x)):r.setOpen(!1)):m===Dt.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):m===Dt.Tab&&r.setOpen(!1),r.inputOk()||(f=(d=r.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:uw})}},r.onPortalKeyDown=function(i){var a=i.key;a===Dt.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var a,s,l,u,d,f,m=r.props,b=m.minDate,g=m.maxDate,x=m.disabledKeyboardNavigation,y=m.showWeekPicker,A=m.shouldCloseOnSelect,w=m.locale,C=m.calendarStartDay,T=m.adjustDateOnChange,M=m.inline;if((s=(a=r.props).onKeyDown)===null||s===void 0||s.call(a,i),!x){var R=i.key,z=i.shiftKey,_=Lr(r.state.preSelection),L=function(G,H){var Q=H;switch(G){case Dt.ArrowRight:Q=y?Px(H,1):vu(H,1);break;case Dt.ArrowLeft:Q=y?g8(H):fV(H);break;case Dt.ArrowUp:Q=g8(H);break;case Dt.ArrowDown:Q=Px(H,1);break;case Dt.PageUp:Q=z?lm(H,1):tp(H,1);break;case Dt.PageDown:Q=z?kd(H,1):Su(H,1);break;case Dt.Home:Q=Qf(H,w,C);break;case Dt.End:Q=nQ(H);break}return Q},$=function(G,H){for(var Q=40,te=G,oe=!1,U=0,se=L(G,H);!oe;){if(U>=Q){se=H;break}b&&se<b&&(te=Dt.ArrowRight,se=El(b,r.props)?L(te,se):b),g&&se>g&&(te=Dt.ArrowLeft,se=El(g,r.props)?L(te,se):g),El(se,r.props)?((te===Dt.PageUp||te===Dt.Home)&&(te=Dt.ArrowRight),(te===Dt.PageDown||te===Dt.End)&&(te=Dt.ArrowLeft),se=L(te,se)):oe=!0,U++}return se};if(R===Dt.Enter){i.preventDefault(),r.handleSelect(_,i),!A&&r.setPreSelection(_);return}else if(R===Dt.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(u=(l=r.props).onInputError)===null||u===void 0||u.call(l,{code:1,msg:uw});return}var Z=null;switch(R){case Dt.ArrowLeft:case Dt.ArrowRight:case Dt.ArrowUp:case Dt.ArrowDown:case Dt.PageUp:case Dt.PageDown:case Dt.Home:case Dt.End:Z=$(R,_);break}if(!Z){(f=(d=r.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:uw});return}if(i.preventDefault(),r.setState({lastPreSelectChange:cw}),T&&r.setSelected(Z),r.setPreSelection(Z),M){var O=to(_),j=to(Z),F=Fn(_),N=Fn(Z);O!==j||F!==N?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var a=i.key;a===Dt.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var a=r.props,s=a.selectsRange,l=a.onChange;s?l==null||l([null,null],i):l==null||l(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,a;return!r.props.inline&&!r.isCalendarOpen()?null:st.createElement(MQ,nr({showMonthYearDropdown:void 0,ref:function(s){r.calendar=s}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:n.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:pQ(r.modifyHolidays()),outsideClickIgnoreClass:H8,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(a=r.props.dropdownMode)!==null&&a!==void 0?a:n.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,a=i.dateFormat,s=a===void 0?n.defaultProps.dateFormat:a,l=i.locale,u=r.props.showTimeInput||r.props.showTimeSelect,d=u?"PPPPp":"PPPP",f;return r.props.selectsRange?f="Selected start date: ".concat(Sl(r.props.startDate,{dateFormat:d,locale:l}),". ").concat(r.props.endDate?"End date: "+Sl(r.props.endDate,{dateFormat:d,locale:l}):""):r.props.showTimeSelectOnly?f="Selected time: ".concat(Sl(r.props.selected,{dateFormat:s,locale:l})):r.props.showYearPicker?f="Selected year: ".concat(Sl(r.props.selected,{dateFormat:"yyyy",locale:l})):r.props.showMonthYearPicker?f="Selected month: ".concat(Sl(r.props.selected,{dateFormat:"MMMM yyyy",locale:l})):r.props.showQuarterYearPicker?f="Selected quarter: ".concat(Sl(r.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):f="Selected date: ".concat(Sl(r.props.selected,{dateFormat:d,locale:l})),st.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},f)},r.renderDateInput=function(){var i,a,s,l=ms(r.props.className,(i={},i[H8]=r.state.open,i)),u=r.props.customInput||st.createElement("input",{type:"text"}),d=r.props.customInputRef||"ref",f=r.props,m=f.dateFormat,b=m===void 0?n.defaultProps.dateFormat:m,g=f.locale,x=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?ZG(r.props.startDate,r.props.endDate,{dateFormat:b,locale:g}):r.props.selectsMultiple?JG((s=r.props.selectedDates)!==null&&s!==void 0?s:[],{dateFormat:b,locale:g}):Sl(r.props.selected,{dateFormat:b,locale:g});return X.cloneElement(u,(a={},a[d]=function(y){r.input=y},a.value=x,a.onBlur=r.handleBlur,a.onChange=r.handleChange,a.onClick=r.onInputClick,a.onFocus=r.handleFocus,a.onKeyDown=r.onInputKeyDown,a.id=r.props.id,a.name=r.props.name,a.form=r.props.form,a.autoFocus=r.props.autoFocus,a.placeholder=r.props.placeholderText,a.disabled=r.props.disabled,a.autoComplete=r.props.autoComplete,a.className=ms(u.props.className,l),a.title=r.props.title,a.readOnly=r.props.readOnly,a.required=r.props.required,a.tabIndex=r.props.tabIndex,a["aria-describedby"]=r.props.ariaDescribedBy,a["aria-invalid"]=r.props.ariaInvalid,a["aria-labelledby"]=r.props.ariaLabelledBy,a["aria-required"]=r.props.ariaRequired,a))},r.renderClearButton=function(){var i=r.props,a=i.isClearable,s=i.disabled,l=i.selected,u=i.startDate,d=i.endDate,f=i.clearButtonTitle,m=i.clearButtonClassName,b=m===void 0?"":m,g=i.ariaLabelClose,x=g===void 0?"Close":g,y=i.selectedDates;return a&&(l!=null||u!=null||d!=null||y!=null&&y.length)?st.createElement("button",{type:"button",className:ms("react-datepicker__close-icon",b,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":x,onClick:r.onClearClick,title:f,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(n,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:ib,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.componentDidUpdate=function(t,r){var i,a,s,l;t.inline&&UQ(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:F8(this.props.highlightDates)}),!r.focused&&!Gh(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((a=(i=this.props).onCalendarOpen)===null||a===void 0||a.call(i)),r.open===!0&&this.state.open===!1&&((l=(s=this.props).onCalendarClose)===null||l===void 0||l.call(s)))},n.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,i=t.icon,a=t.calendarIconClassname,s=t.calendarIconClassName,l=t.toggleCalendarOnIconClick,u=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),st.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&st.createElement(FQ,nr({icon:i,className:ms(s,!s&&a,u&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},n.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?st.createElement(XO,{enableTabLoop:this.props.enableTabLoop},st.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=st.createElement(KO,nr({portalId:this.props.portalId},this.props),r)),st.createElement("div",null,this.renderInputContainer(),r)}return st.createElement($Q,nr({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},n}(X.Component),WQ="input",cw="navigate";const YQ=e=>h.jsx(Jt,{...e,sx:{width:"100%","& .MuiOutlinedInput-root":{borderRadius:Et.xl,backgroundColor:ht.palette.background.paper,"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:ht.palette.primary.main},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:ht.palette.primary.main,borderWidth:2}},"& .MuiInputBase-input":{color:ht.palette.text.primary,fontSize:"1rem",padding:"12px 14px"},"& .MuiInputLabel-root":{color:ht.palette.text.secondary,"&.Mui-focused":{color:ht.palette.primary.main}}}}),ZO=st.forwardRef((e,n)=>h.jsx(YQ,{...e,inputRef:n,fullWidth:!0}));ZO.displayName="CustomInput";const VQ=({value:e,onChange:n})=>{const t=r=>r?r.toLocaleString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return h.jsxs(gn,{elevation:2,sx:{p:3,mb:3,backgroundColor:ht.palette.background.paper,borderRadius:Et.xl,border:`1px solid ${ht.palette.divider}`},children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",mb:2},children:[h.jsx(Z0,{sx:{mr:1,color:ht.palette.primary.main}}),h.jsx(he,{variant:"h6",sx:{fontWeight:600,color:ht.palette.text.primary},children:"Schedule Publish"})]}),h.jsx(he,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Choose when you want this material to be automatically published."}),h.jsx(HQ,{selected:e,onChange:r=>n(r),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"MMM d, yyyy h:mm aa",minDate:new Date,customInput:h.jsx(ZO,{label:"Select Date & Time"}),placeholderText:"Click to select date and time"}),e&&h.jsx(de,{sx:{mt:2},children:h.jsx(cr,{icon:h.jsx(Z0,{}),label:`Scheduled for ${t(e)}`,color:"primary",variant:"outlined",sx:{backgroundColor:ht.palette.primary.light,color:ht.palette.primary.main,borderColor:ht.palette.primary.main}})})]})},GQ=X.lazy(()=>wi(()=>import("./MaterialImportWrapper-D6lFYWib.js"),__vite__mapDeps([3,4,1,5]))),JO=({materialData:e})=>{var rt;const n=ya(),{userDetails:t}=Pi(),r=Xn(),{uploadedFile:i,uploadOriginalFile:a,originalFileUrl:s,originalFileUploadProgress:l}=Ed(),[u]=V1(),d=u.get("course"),f=u.get("mode")||"manual",[m,b]=X.useState((e==null?void 0:e.course)||d||""),[g,x]=X.useState((e==null?void 0:e.id)||null),[y,A]=X.useState((e==null?void 0:e.title)||""),[w,C]=X.useState((e==null?void 0:e.header)||{title:"Header",content:""}),[T,M]=X.useState((e==null?void 0:e.footer)||{title:"Footer",content:""}),[R,z]=X.useState((e==null?void 0:e.sections)||[{id:Ri(),title:"Section 1",content:"",subsections:[],images:[],links:[]}]),[_,L]=X.useState({sectionIndex:0}),[$,Z]=X.useState(!1),[O,j]=X.useState(""),[F,N]=X.useState("success"),[G,H]=X.useState(!1),[Q,te]=X.useState(((rt=e==null?void 0:e.scheduledTimestamp)==null?void 0:rt.toDate())||null),[oe,U]=X.useState(!1),[se,q]=X.useState(f),[B,J]=X.useState(!1),[ne,le]=X.useState(null),[Se,xe]=X.useState(!1),[ke,De]=X.useState(null),[Me,He]=X.useState(!1);mO(R,_.sectionIndex||0,R.length>1),X.useEffect(()=>{const Pe=ve=>{ve.key==="ArrowLeft"||ve.key};return window.addEventListener("keydown",Pe),()=>window.removeEventListener("keydown",Pe)},[_,R]);const Ve=async(Pe,ve=!1,Ne)=>{Pe.preventDefault();try{const Oe=R.some(ft=>{var et,Pt;return((et=ft.images)==null?void 0:et.some(Nt=>Nt.url.startsWith("blob:")))||((Pt=ft.subsections)==null?void 0:Pt.some(Nt=>{var Yt;return(Yt=Nt.images)==null?void 0:Yt.some(Rt=>Rt.url.startsWith("blob:"))}))});if(B&&Oe){console.log(" Starting AI material creation with image upload...");const ft=await Si(dn(r,"materials"),{course:m,title:y,header:w,footer:T,sections:[],author:(t==null?void 0:t.uid)||"",timestamp:Uf(),published:!1,scheduledTimestamp:Ne?Xi.fromDate(Ne):null});console.log(" Material created with ID:",ft.id),x(ft.id),console.log(" Starting image upload process...");const et=await sS(m,(t==null?void 0:t.uid)||"",ft.id,(Yt,Rt)=>{console.log(` Image upload progress: ${Yt}/${Rt}`),le({completed:Yt,total:Rt})});console.log(" Image upload complete, updating material..."),await Hr(ft,{sections:et,published:ve,scheduledTimestamp:Ne?Xi.fromDate(Ne):null}),le(null),J(!1);const{resetImport:Pt}=Ed.getState();Pt(),j(ve?"Material published successfully!":Ne?"Material scheduled successfully!":"Material saved successfully!"),N("success"),Z(!0),(ve||Ne)&&n(`/supplemental-materials?course=${m}`)}else{const ft={course:m,title:y,header:w,footer:T,sections:R,author:(t==null?void 0:t.uid)||"",timestamp:Uf(),published:ve,scheduledTimestamp:Ne?Xi.fromDate(Ne):null,...s&&{originalFile:{url:s}}};if(g)await Hr(fn(r,"materials",g),ft),j(ve?"Material updated and published!":Ne?"Material updated and scheduled!":"Material updated successfully!");else{const et=await Si(dn(r,"materials"),ft);x(et.id),j(ve?"Material created and published!":Ne?"Material created and scheduled!":"Material created successfully!")}N("success"),Z(!0),(ve||Ne)&&n(`/supplemental-materials?course=${m}`)}}catch(Oe){console.error("Error saving material:",Oe),j("Error saving material. Please try again."),N("error"),Z(!0)}},Y=(Pe,ve,Ne)=>{L({sectionIndex:typeof Pe=="number"?Pe:void 0,subsectionIndex:ve,subSubsectionIndex:Ne,type:typeof Pe=="string"?Pe:void 0})},Ae=()=>{var Pe,ve,Ne;if(_.type==="header")return w.content;if(_.type==="footer")return T.content;if(_.sectionIndex!==void 0){const Oe=R[_.sectionIndex];return _.subSubsectionIndex!==void 0?((ve=(Pe=Oe==null?void 0:Oe.subsections[_.subsectionIndex])==null?void 0:Pe.subSubsections[_.subSubsectionIndex])==null?void 0:ve.content)||"":_.subsectionIndex!==void 0?((Ne=Oe==null?void 0:Oe.subsections[_.subsectionIndex])==null?void 0:Ne.content)||"":(Oe==null?void 0:Oe.content)||""}return""},re=()=>{var Pe,ve,Ne;if(_.type==="header")return w.title;if(_.type==="footer")return T.title;if(_.sectionIndex!==void 0){const Oe=R[_.sectionIndex];return _.subSubsectionIndex!==void 0?((ve=(Pe=Oe==null?void 0:Oe.subsections[_.subsectionIndex])==null?void 0:Pe.subSubsections[_.subSubsectionIndex])==null?void 0:ve.title)||"":_.subsectionIndex!==void 0?((Ne=Oe==null?void 0:Oe.subsections[_.subsectionIndex])==null?void 0:Ne.title)||"":(Oe==null?void 0:Oe.title)||""}return""},be=Pe=>{_.type==="header"?C(ve=>({...ve,content:Pe})):_.type==="footer"?M(ve=>({...ve,content:Pe})):_.sectionIndex!==void 0&&z(ve=>{const Ne=[...ve],Oe=Ne[_.sectionIndex];return _.subSubsectionIndex!==void 0?Oe.subsections[_.subsectionIndex].subSubsections[_.subSubsectionIndex].content=Pe:_.subsectionIndex!==void 0?Oe.subsections[_.subsectionIndex].content=Pe:Oe.content=Pe,Ne})},fe=Pe=>{oe&&Q?Ve(Pe,!1,Q):U(!0)},Ce=Pe=>{_.type==="header"?C(ve=>({...ve,title:Pe})):_.type==="footer"?M(ve=>({...ve,title:Pe})):_.sectionIndex!==void 0&&z(ve=>{const Ne=[...ve],Oe=Ne[_.sectionIndex];return _.subSubsectionIndex!==void 0?Oe.subsections[_.subsectionIndex].subSubsections[_.subSubsectionIndex].title=Pe:_.subsectionIndex!==void 0?Oe.subsections[_.subsectionIndex].title=Pe:Oe.title=Pe,Ne})},Le=()=>{var Pe,ve,Ne;if(_.type==="header"||_.type==="footer")return[];if(_.sectionIndex!==void 0){const Oe=R[_.sectionIndex];return _.subSubsectionIndex!==void 0?((ve=(Pe=Oe==null?void 0:Oe.subsections[_.subsectionIndex])==null?void 0:Pe.subSubsections[_.subSubsectionIndex])==null?void 0:ve.images)||[]:_.subsectionIndex!==void 0?((Ne=Oe==null?void 0:Oe.subsections[_.subsectionIndex])==null?void 0:Ne.images)||[]:(Oe==null?void 0:Oe.images)||[]}return[]},qe=()=>{var Pe,ve,Ne;if(_.type==="header"||_.type==="footer")return[];if(_.sectionIndex!==void 0){const Oe=R[_.sectionIndex];return _.subSubsectionIndex!==void 0?((ve=(Pe=Oe==null?void 0:Oe.subsections[_.subsectionIndex])==null?void 0:Pe.subSubsections[_.subSubsectionIndex])==null?void 0:ve.links)||[]:_.subsectionIndex!==void 0?((Ne=Oe==null?void 0:Oe.subsections[_.subsectionIndex])==null?void 0:Ne.links)||[]:(Oe==null?void 0:Oe.links)||[]}return[]},Te=Pe=>{_.type==="header"||_.type==="footer"||_.sectionIndex!==void 0&&z(ve=>{const Ne=[...ve],Oe=Ne[_.sectionIndex];return _.subSubsectionIndex!==void 0?Oe.subsections[_.subsectionIndex].subSubsections[_.subSubsectionIndex].images=Pe:_.subsectionIndex!==void 0?Oe.subsections[_.subsectionIndex].images=Pe:Oe.images=Pe,Ne})},Ze=Pe=>{_.type==="header"||_.type==="footer"||_.sectionIndex!==void 0&&z(ve=>{const Ne=[...ve],Oe=Ne[_.sectionIndex];return _.subSubsectionIndex!==void 0?Oe.subsections[_.subsectionIndex].subSubsections[_.subSubsectionIndex].links=Pe:_.subsectionIndex!==void 0?Oe.subsections[_.subsectionIndex].links=Pe:Oe.links=Pe,Ne})},ut=()=>_.type==="header"?"header":_.type==="footer"?"footer":_.sectionIndex!==void 0?_.subSubsectionIndex!==void 0?`section-${_.sectionIndex}-subsection-${_.subsectionIndex}-subsubsection-${_.subSubsectionIndex}`:_.subsectionIndex!==void 0?`section-${_.sectionIndex}-subsection-${_.subsectionIndex}`:`section-${_.sectionIndex}`:"unknown";return h.jsxs(de,{sx:{display:"flex",flexGrow:1,flexDirection:"column",minHeight:"100vh"},children:[h.jsxs(gn,{elevation:1,sx:{p:3,mb:2,backgroundColor:ht.palette.background.paper,borderRadius:0},children:[h.jsxs(de,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",alignItems:{xs:"stretch",md:"center"},mb:3,gap:2},children:[h.jsx(mP,{courseId:(e==null?void 0:e.course)||m}),h.jsx(de,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,alignItems:"center",width:{xs:"100%",md:"auto"}},children:h.jsxs(L6,{value:se,exclusive:!0,onChange:(Pe,ve)=>ve&&q(ve),size:"small",sx:{backgroundColor:ht.palette.background.paper,borderRadius:Et.xl,width:{xs:"100%",sm:"auto"},"& .MuiToggleButton-root":{borderRadius:Et.xl,textTransform:"none",fontWeight:600,flex:{xs:1,sm:"none"},"&.Mui-selected":{backgroundColor:ht.palette.primary.main,color:ht.palette.primary.contrastText}}},children:[h.jsxs(J0,{value:"manual",children:[h.jsx(yu,{sx:{mr:1}}),"Manual"]}),h.jsxs(J0,{value:"ai",children:[h.jsx(S9,{sx:{mr:1}}),"AI Import"]})]})})]}),h.jsx(de,{sx:{mb:3},children:h.jsx(uW,{value:m,onChange:b,disabled:!!g})}),h.jsx(Jt,{fullWidth:!0,label:"Material Title",value:y,onChange:Pe=>A(Pe.target.value),variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:Et.xl}}})]}),h.jsxs(de,{sx:{display:"flex",flexGrow:1,minHeight:0},children:[h.jsx(bv,{children:h.jsx(l7,{sections:R,selected:_,onAddSection:()=>{const Pe={id:Ri(),title:`Section ${R.length+1}`,content:"",subsections:[],images:[],links:[]};z(ve=>[...ve,Pe]),L({sectionIndex:R.length})},onAddSubsection:Pe=>{z(ve=>{const Ne=[...ve],Oe=Ne[Pe].subsections,ft={id:Ri(),title:`Subsection ${Oe.length+1}`,content:"",subSubsections:[],images:[],links:[]};return Ne[Pe].subsections=[...Oe,ft],Ne})},onAddSubSubsection:(Pe,ve)=>{z(Ne=>{const Oe=[...Ne],ft=Oe[Pe].subsections[ve].subSubsections,et={id:Ri(),title:`Sub-subsection ${ft.length+1}`,content:"",images:[],links:[]};return Oe[Pe].subsections[ve].subSubsections=[...ft,et],Oe})},onSelectSection:Y,onUpdateSectionTitle:(Pe,ve)=>{z(Ne=>{const Oe=[...Ne];return Oe[Pe].title=ve,Oe})},onUpdateSubsectionTitle:(Pe,ve,Ne)=>{z(Oe=>{const ft=[...Oe];return ft[Pe].subsections[ve].title=Ne,ft})},onUpdateSubSubsectionTitle:(Pe,ve,Ne,Oe)=>{z(ft=>{const et=[...ft];return et[Pe].subsections[ve].subSubsections[Ne].title=Oe,et})},onDeleteSection:Pe=>{z(ve=>ve.filter((Ne,Oe)=>Oe!==Pe)),L({sectionIndex:0})},onDeleteSubsection:(Pe,ve)=>{z(Ne=>{const Oe=[...Ne];return Oe[Pe].subsections=Oe[Pe].subsections.filter((ft,et)=>et!==ve),Oe})},onDeleteSubSubsection:(Pe,ve,Ne)=>{z(Oe=>{const ft=[...Oe];return ft[Pe].subsections[ve].subSubsections=ft[Pe].subsections[ve].subSubsections.filter((et,Pt)=>Pt!==Ne),ft})},isViewMode:!1})}),h.jsx(de,{sx:{flexGrow:1,p:4,overflow:"auto"},children:se==="ai"?h.jsx(X.Suspense,{fallback:h.jsx(Zr,{}),children:h.jsx(GQ,{courseId:m,authorId:(t==null?void 0:t.uid)||"",imageUploadProgress:ne,isSaving:Se,onMaterialReady:async Pe=>{console.log(" AI Material ready callback triggered:",Pe);try{xe(!0),le({completed:0,total:1});const ve=Ri(),Ne=await sS(m,(t==null?void 0:t.uid)||"",ve,(et,Pt)=>{console.log(` Image upload progress: ${et}/${Pt}`),le({completed:et,total:Pt})});console.log(" Material with images converted:",Ne);const Oe={...Ne,sections:Array.isArray(Ne.sections)?Ne.sections:[]},ft=await Si(dn(r,"materials"),{...Oe,timestamp:Uf(),scheduledTimestamp:null});console.log(" Material saved to Firestore with ID:",ft.id),await Hr(ft,{id:ft.id}),console.log(" Material updated with correct ID:",ft.id),j("AI-imported material saved successfully!"),N("success"),Z(!0),J(!1),Ed.getState().resetImport(),q("manual"),xe(!1),le(null),n(`/edit-material/${ft.id}`)}catch(ve){console.error(" Failed to save AI material:",ve),j("Failed to save AI-imported material. Please try again."),N("error"),Z(!0),xe(!1),le(null)}},onCancel:()=>q("manual"),onError:(Pe,ve)=>{console.error("Material Import Error:",Pe,ve),j(`Import error: ${Pe.message}`),N("error"),Z(!0)}})}):h.jsxs(de,{children:[h.jsx(Jt,{fullWidth:!0,label:"Section Title",value:re(),onChange:Pe=>Ce(Pe.target.value),variant:"outlined",sx:{mb:3}}),h.jsx(gn,{elevation:0,sx:{p:3,mb:3,backgroundColor:ht.palette.background.paper,borderRadius:Et.xl,border:`1px solid ${ht.palette.divider}`},children:h.jsx(oW,{content:Ae(),onChange:be})}),_.sectionIndex!==void 0&&h.jsxs(de,{sx:{mb:3},children:[h.jsx(gn,{elevation:0,sx:{p:3,mb:2,backgroundColor:ht.palette.background.paper,borderRadius:Et.xl,border:`1px solid ${ht.palette.divider}`},children:h.jsx(gP,{sectionId:ut(),images:Le(),onImagesChange:Te})}),h.jsx(gn,{elevation:0,sx:{p:3,backgroundColor:ht.palette.background.paper,borderRadius:Et.xl,border:`1px solid ${ht.palette.divider}`},children:h.jsx(bP,{links:qe(),onLinksChange:Ze})})]}),oe&&h.jsx(de,{sx:{mb:3},children:h.jsx(VQ,{value:Q,onChange:te})}),ne&&h.jsx(de,{sx:{mb:3},children:h.jsxs(gn,{elevation:1,sx:{p:2,backgroundColor:ht.palette.background.paper,borderRadius:Et.xl,border:`1px solid ${ht.palette.divider}`},children:[h.jsxs(he,{variant:"body2",sx:{mb:1,color:ht.palette.text.secondary},children:["Uploading images... (",ne.completed," of ",ne.total,")"]}),h.jsx(Ko,{variant:"determinate",value:ne.completed/ne.total*100,sx:{borderRadius:Et.xl,height:8,backgroundColor:ht.palette.grey[200],"& .MuiLinearProgress-bar":{borderRadius:Et.xl,backgroundColor:ht.palette.primary.main}}})]})}),h.jsxs(de,{sx:{display:"flex",gap:2,justifyContent:"flex-end",flexWrap:"wrap"},children:[h.jsx(Ct,{variant:"outlined",onClick:Pe=>Ve(Pe,!1),startIcon:h.jsx(M0,{}),sx:{textTransform:"none"},children:"Save Draft"}),h.jsx(Ct,{variant:"contained",onClick:Pe=>Ve(Pe,!0),startIcon:h.jsx(A9,{}),sx:{textTransform:"none"},children:"Publish"}),h.jsx(Ct,{variant:"outlined",onClick:fe,startIcon:h.jsx(Z0,{}),sx:{textTransform:"none",borderColor:ht.palette.primary.main,color:ht.palette.primary.main,"&:hover":{backgroundColor:ht.palette.primary.main,color:ht.palette.primary.contrastText}},children:"Schedule Publish"})]})]})})]}),h.jsx(Rl,{open:$,autoHideDuration:6e3,onClose:()=>Z(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:h.jsx(rr,{onClose:()=>Z(!1),severity:F,sx:{width:"100%"},children:O})})]})},QQ=()=>{const{id:e}=q6(),n=Xn(),{userDetails:t}=Pi(),[r,i]=X.useState(null),a=X.useMemo(()=>t!=null&&t.classes?Object.entries(t.classes).filter(([l,u])=>u.isCourseAdmin).map(([l])=>l):[],[t==null?void 0:t.classes]);X.useEffect(()=>{e&&(async()=>{try{const u=fn(n,"materials",e),d=await ga(u);if(d.exists()){const f={id:d.id,...d.data()};console.log("Material data from Firestore:",f),console.log("Sections type:",typeof f.sections),console.log("Sections value:",f.sections),Array.isArray(f.sections)||(console.warn("Sections is not an array, initializing as empty array. Original value:",f.sections),f.sections=[]),f.sections=f.sections.map(m=>({id:m.id||Ri(),title:m.title||"Untitled Section",content:m.content||"",images:Array.isArray(m.images)?m.images.map(g=>({...g,title:g.title||""})):[],links:Array.isArray(m.links)?m.links:[],subsections:Array.isArray(m.subsections)?m.subsections.map(g=>({id:g.id||Ri(),title:g.title||"Untitled Subsection",content:g.content||"",images:Array.isArray(g.images)?g.images.map(x=>({...x,title:x.title||""})):[],links:Array.isArray(g.links)?g.links:[],subSubsections:Array.isArray(g.subSubsections)?g.subSubsections.map(x=>({id:x.id||Ri(),title:x.title||"Untitled Sub-subsection",content:x.content||"",images:Array.isArray(x.images)?x.images.map(y=>({...y,title:y.title||""})):[],links:Array.isArray(x.links)?x.links:[]})):[]})):[]})),f.course=a.includes(f.course)?f.course:a[0]||"",i(f)}}catch(u){console.error("Error fetching material:",u)}})()},[e,n,t,a]);const s=async l=>{try{if(e){const u=fn(n,"materials",e);await Hr(u,{...l})}}catch(u){console.error("Error updating material:",u)}};return r?h.jsx(JO,{materialData:r,onSubmit:s}):h.jsx(de,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:h.jsx(Zr,{})})},W8=({children:e,...n})=>h.jsx(de,{...n,sx:{marginBottom:4,textAlign:"center",position:"relative"},children:e}),KQ=({src:e,alt:n,...t})=>h.jsx("img",{src:e,alt:n,...t,style:{maxWidth:"100%",maxHeight:"500px",marginBottom:8,borderRadius:8,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease-in-out",...t.style},onMouseEnter:r=>{r.currentTarget.style.transform="scale(1.02)",r.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.15)"},onMouseLeave:r=>{r.currentTarget.style.transform="scale(1)",r.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"}}),XQ=e=>h.jsx(C9,{...e,sx:{borderRadius:1,marginBottom:1}}),ZQ=({src:e,alt:n,title:t})=>{const[r,i]=X.useState(!1),[a,s]=X.useState(!1),[l]=X.useState(0);return X.useEffect(()=>{i(!1),s(!1);const u=new Image;return u.src=e,u.onload=()=>{console.log(` SmartImage loaded: ${e.substring(0,50)}...`),i(!0)},u.onerror=d=>{console.error(` SmartImage failed to load: ${e}`,d),console.error("Image details:",{src:e,naturalWidth:u.naturalWidth,naturalHeight:u.naturalHeight,complete:u.complete}),console.error("Image load failed. URL accessible via curl but blocked in browser."),console.error("This is likely a Firebase Storage CORS configuration issue."),console.error(`Fix: Configure CORS to allow ${window.location.origin}`),s(!0)},()=>{u.onload=null,u.onerror=null}},[e,l]),a?h.jsxs(W8,{children:[h.jsxs(de,{sx:{width:"100%",maxWidth:400,height:200,bgcolor:"#ffebee",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:1,border:"1px dashed #f44336",p:2},children:[h.jsx(he,{variant:"body2",color:"error",gutterBottom:!0,children:"Image failed to load"}),h.jsx(he,{variant:"caption",color:"text.secondary",sx:{textAlign:"center",wordBreak:"break-all"},children:t}),h.jsxs(he,{variant:"caption",color:"text.secondary",sx:{mt:1,fontSize:"0.7rem"},children:["URL: ",e.substring(0,60),"..."]})]}),h.jsx(he,{variant:"body2",sx:{fontStyle:"italic",mt:1},children:t})]}):h.jsxs(W8,{children:[!r&&h.jsx(XQ,{variant:"rectangular",width:"100%",height:300,sx:{maxWidth:400}}),h.jsx(Jw,{in:r,timeout:500,children:h.jsx(de,{sx:{display:r?"block":"none"},children:h.jsx(KQ,{src:e,alt:n,loading:"lazy"})})}),r&&h.jsx(Jw,{in:r,timeout:700,children:h.jsx(he,{variant:"body2",sx:{fontStyle:"italic",color:"text.secondary"},children:t})})]})},dw=({images:e})=>h.jsx(de,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2},children:e.map((n,t)=>h.jsx(ZQ,{src:n.url,alt:`Image ${t+1}`,title:n.title,index:t},`${n.url}-${t}`))}),JQ=e=>!e.startsWith("http://")&&!e.startsWith("https://")?`https://${e}`:e,eK=({links:e})=>e.length===0?null:h.jsxs(de,{sx:{mt:2,width:"50%"},children:[h.jsx(he,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Links"}),h.jsxs(de,{sx:{display:"flex",mb:1,borderBottom:"1px solid gray"},children:[h.jsx(he,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"Title"}),h.jsx(he,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"URL"}),h.jsx(he,{sx:{flexBasis:"40%",fontWeight:"bold"},children:"Description"})]}),e.map((n,t)=>h.jsx(de,{children:h.jsxs(de,{sx:{display:"flex",alignItems:"center",mb:1,flexWrap:"wrap",borderBottom:"1px solid lightgray"},children:[h.jsx(he,{sx:{flexBasis:"30%",fontStyle:"italic",wordWrap:"break-word",paddingRight:"8px"},children:n.title}),h.jsx(q1,{sx:{flexBasis:"30%",wordWrap:"break-word",paddingRight:"8px"},href:JQ(n.url),target:"_blank",rel:"noopener",children:n.url}),h.jsx(he,{sx:{flexBasis:"40%",wordWrap:"break-word"},children:n.description})]})},t))]});var Fs=Uint8Array,Go=Uint16Array,AA=Int32Array,Fv=new Fs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Pv=new Fs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),MS=new Fs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),eI=function(e,n){for(var t=new Go(31),r=0;r<31;++r)t[r]=n+=1<<e[r-1];for(var i=new AA(t[30]),r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)i[a]=a-t[r]<<5|r;return{b:t,r:i}},tI=eI(Fv,2),nI=tI.b,FS=tI.r;nI[28]=258,FS[258]=28;var rI=eI(Pv,0),tK=rI.b,Y8=rI.r,PS=new Go(32768);for(var hi=0;hi<32768;++hi){var Tf=(hi&43690)>>1|(hi&21845)<<1;Tf=(Tf&52428)>>2|(Tf&13107)<<2,Tf=(Tf&61680)>>4|(Tf&3855)<<4,PS[hi]=((Tf&65280)>>8|(Tf&255)<<8)>>1}var Nc=function(e,n,t){for(var r=e.length,i=0,a=new Go(n);i<r;++i)e[i]&&++a[e[i]-1];var s=new Go(n);for(i=1;i<n;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(t){l=new Go(1<<n);var u=15-n;for(i=0;i<r;++i)if(e[i])for(var d=i<<4|e[i],f=n-e[i],m=s[e[i]-1]++<<f,b=m|(1<<f)-1;m<=b;++m)l[PS[m]>>u]=d}else for(l=new Go(r),i=0;i<r;++i)e[i]&&(l[i]=PS[s[e[i]-1]++]>>15-e[i]);return l},th=new Fs(288);for(var hi=0;hi<144;++hi)th[hi]=8;for(var hi=144;hi<256;++hi)th[hi]=9;for(var hi=256;hi<280;++hi)th[hi]=7;for(var hi=280;hi<288;++hi)th[hi]=8;var _1=new Fs(32);for(var hi=0;hi<32;++hi)_1[hi]=5;var nK=Nc(th,9,0),rK=Nc(th,9,1),iK=Nc(_1,5,0),aK=Nc(_1,5,1),fw=function(e){for(var n=e[0],t=1;t<e.length;++t)e[t]>n&&(n=e[t]);return n},uu=function(e,n,t){var r=n/8|0;return(e[r]|e[r+1]<<8)>>(n&7)&t},hw=function(e,n){var t=n/8|0;return(e[t]|e[t+1]<<8|e[t+2]<<16)>>(n&7)},CA=function(e){return(e+7)/8|0},iI=function(e,n,t){return(t==null||t>e.length)&&(t=e.length),new Fs(e.subarray(n,t))},sK=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],fu=function(e,n,t){var r=new Error(n||sK[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,fu),!t)throw r;return r},oK=function(e,n,t,r){var i=e.length,a=0;if(!i||n.f&&!n.l)return t||new Fs(0);var s=!t,l=s||n.i!=2,u=n.i;s&&(t=new Fs(i*3));var d=function(Me){var He=t.length;if(Me>He){var Ve=new Fs(Math.max(He*2,Me));Ve.set(t),t=Ve}},f=n.f||0,m=n.p||0,b=n.b||0,g=n.l,x=n.d,y=n.m,A=n.n,w=i*8;do{if(!g){f=uu(e,m,1);var C=uu(e,m+1,3);if(m+=3,C)if(C==1)g=rK,x=aK,y=9,A=5;else if(C==2){var z=uu(e,m,31)+257,_=uu(e,m+10,15)+4,L=z+uu(e,m+5,31)+1;m+=14;for(var $=new Fs(L),Z=new Fs(19),O=0;O<_;++O)Z[MS[O]]=uu(e,m+O*3,7);m+=_*3;for(var j=fw(Z),F=(1<<j)-1,N=Nc(Z,j,1),O=0;O<L;){var G=N[uu(e,m,F)];m+=G&15;var T=G>>4;if(T<16)$[O++]=T;else{var H=0,Q=0;for(T==16?(Q=3+uu(e,m,3),m+=2,H=$[O-1]):T==17?(Q=3+uu(e,m,7),m+=3):T==18&&(Q=11+uu(e,m,127),m+=7);Q--;)$[O++]=H}}var te=$.subarray(0,z),oe=$.subarray(z);y=fw(te),A=fw(oe),g=Nc(te,y,1),x=Nc(oe,A,1)}else fu(1);else{var T=CA(m)+4,M=e[T-4]|e[T-3]<<8,R=T+M;if(R>i){u&&fu(0);break}l&&d(b+M),t.set(e.subarray(T,R),b),n.b=b+=M,n.p=m=R*8,n.f=f;continue}if(m>w){u&&fu(0);break}}l&&d(b+131072);for(var U=(1<<y)-1,se=(1<<A)-1,q=m;;q=m){var H=g[hw(e,m)&U],B=H>>4;if(m+=H&15,m>w){u&&fu(0);break}if(H||fu(2),B<256)t[b++]=B;else if(B==256){q=m,g=null;break}else{var J=B-254;if(B>264){var O=B-257,ne=Fv[O];J=uu(e,m,(1<<ne)-1)+nI[O],m+=ne}var le=x[hw(e,m)&se],Se=le>>4;le||fu(3),m+=le&15;var oe=tK[Se];if(Se>3){var ne=Pv[Se];oe+=hw(e,m)&(1<<ne)-1,m+=ne}if(m>w){u&&fu(0);break}l&&d(b+131072);var xe=b+J;if(b<oe){var ke=a-oe,De=Math.min(oe,xe);for(ke+b<0&&fu(3);b<De;++b)t[b]=r[ke+b]}for(;b<xe;++b)t[b]=t[b-oe]}}n.l=g,n.p=q,n.b=b,n.f=f,g&&(f=1,n.m=y,n.d=x,n.n=A)}while(!f);return b!=t.length&&s?iI(t,0,b):t.subarray(0,b)},md=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>8},kg=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>8,e[r+2]|=t>>16},pw=function(e,n){for(var t=[],r=0;r<e.length;++r)e[r]&&t.push({s:r,f:e[r]});var i=t.length,a=t.slice();if(!i)return{t:sI,l:0};if(i==1){var s=new Fs(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(R,z){return R.f-z.f}),t.push({s:-1,f:25001});var l=t[0],u=t[1],d=0,f=1,m=2;for(t[0]={s:-1,f:l.f+u.f,l,r:u};f!=i-1;)l=t[t[d].f<t[m].f?d++:m++],u=t[d!=f&&t[d].f<t[m].f?d++:m++],t[f++]={s:-1,f:l.f+u.f,l,r:u};for(var b=a[0].s,r=1;r<i;++r)a[r].s>b&&(b=a[r].s);var g=new Go(b+1),x=zS(t[f-1],g,0);if(x>n){var r=0,y=0,A=x-n,w=1<<A;for(a.sort(function(z,_){return g[_.s]-g[z.s]||z.f-_.f});r<i;++r){var C=a[r].s;if(g[C]>n)y+=w-(1<<x-g[C]),g[C]=n;else break}for(y>>=A;y>0;){var T=a[r].s;g[T]<n?y-=1<<n-g[T]++-1:++r}for(;r>=0&&y;--r){var M=a[r].s;g[M]==n&&(--g[M],++y)}x=n}return{t:new Fs(g),l:x}},zS=function(e,n,t){return e.s==-1?Math.max(zS(e.l,n,t+1),zS(e.r,n,t+1)):n[e.s]=t},V8=function(e){for(var n=e.length;n&&!e[--n];);for(var t=new Go(++n),r=0,i=e[0],a=1,s=function(u){t[r++]=u},l=1;l<=n;++l)if(e[l]==i&&l!=n)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[l]}return{c:t.subarray(0,r),n}},_g=function(e,n){for(var t=0,r=0;r<n.length;++r)t+=e[r]*n[r];return t},aI=function(e,n,t){var r=t.length,i=CA(n+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=t[a];return(i+4+r)*8},G8=function(e,n,t,r,i,a,s,l,u,d,f){md(n,f++,t),++i[256];for(var m=pw(i,15),b=m.t,g=m.l,x=pw(a,15),y=x.t,A=x.l,w=V8(b),C=w.c,T=w.n,M=V8(y),R=M.c,z=M.n,_=new Go(19),L=0;L<C.length;++L)++_[C[L]&31];for(var L=0;L<R.length;++L)++_[R[L]&31];for(var $=pw(_,7),Z=$.t,O=$.l,j=19;j>4&&!Z[MS[j-1]];--j);var F=d+5<<3,N=_g(i,th)+_g(a,_1)+s,G=_g(i,b)+_g(a,y)+s+14+3*j+_g(_,Z)+2*_[16]+3*_[17]+7*_[18];if(u>=0&&F<=N&&F<=G)return aI(n,f,e.subarray(u,u+d));var H,Q,te,oe;if(md(n,f,1+(G<N)),f+=2,G<N){H=Nc(b,g,0),Q=b,te=Nc(y,A,0),oe=y;var U=Nc(Z,O,0);md(n,f,T-257),md(n,f+5,z-1),md(n,f+10,j-4),f+=14;for(var L=0;L<j;++L)md(n,f+3*L,Z[MS[L]]);f+=3*j;for(var se=[C,R],q=0;q<2;++q)for(var B=se[q],L=0;L<B.length;++L){var J=B[L]&31;md(n,f,U[J]),f+=Z[J],J>15&&(md(n,f,B[L]>>5&127),f+=B[L]>>12)}}else H=nK,Q=th,te=iK,oe=_1;for(var L=0;L<l;++L){var ne=r[L];if(ne>255){var J=ne>>18&31;kg(n,f,H[J+257]),f+=Q[J+257],J>7&&(md(n,f,ne>>23&31),f+=Fv[J]);var le=ne&31;kg(n,f,te[le]),f+=oe[le],le>3&&(kg(n,f,ne>>5&8191),f+=Pv[le])}else kg(n,f,H[ne]),f+=Q[ne]}return kg(n,f,H[256]),f+Q[256]},lK=new AA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sI=new Fs(0),uK=function(e,n,t,r,i,a){var s=a.z||e.length,l=new Fs(r+s+5*(1+Math.ceil(s/7e3))+i),u=l.subarray(r,l.length-i),d=a.l,f=(a.r||0)&7;if(n){f&&(u[0]=a.r>>3);for(var m=lK[n-1],b=m>>13,g=m&8191,x=(1<<t)-1,y=a.p||new Go(32768),A=a.h||new Go(x+1),w=Math.ceil(t/3),C=2*w,T=function(Y){return(e[Y]^e[Y+1]<<w^e[Y+2]<<C)&x},M=new AA(25e3),R=new Go(288),z=new Go(32),_=0,L=0,$=a.i||0,Z=0,O=a.w||0,j=0;$+2<s;++$){var F=T($),N=$&32767,G=A[F];if(y[N]=G,A[F]=N,O<=$){var H=s-$;if((_>7e3||Z>24576)&&(H>423||!d)){f=G8(e,u,0,M,R,z,L,Z,j,$-j,f),Z=_=L=0,j=$;for(var Q=0;Q<286;++Q)R[Q]=0;for(var Q=0;Q<30;++Q)z[Q]=0}var te=2,oe=0,U=g,se=N-G&32767;if(H>2&&F==T($-se))for(var q=Math.min(b,H)-1,B=Math.min(32767,$),J=Math.min(258,H);se<=B&&--U&&N!=G;){if(e[$+te]==e[$+te-se]){for(var ne=0;ne<J&&e[$+ne]==e[$+ne-se];++ne);if(ne>te){if(te=ne,oe=se,ne>q)break;for(var le=Math.min(se,ne-2),Se=0,Q=0;Q<le;++Q){var xe=$-se+Q&32767,ke=y[xe],De=xe-ke&32767;De>Se&&(Se=De,G=xe)}}}N=G,G=y[N],se+=N-G&32767}if(oe){M[Z++]=268435456|FS[te]<<18|Y8[oe];var Me=FS[te]&31,He=Y8[oe]&31;L+=Fv[Me]+Pv[He],++R[257+Me],++z[He],O=$+te,++_}else M[Z++]=e[$],++R[e[$]]}}for($=Math.max($,O);$<s;++$)M[Z++]=e[$],++R[e[$]];f=G8(e,u,d,M,R,z,L,Z,j,$-j,f),d||(a.r=f&7|u[f/8|0]<<3,f-=7,a.h=A,a.p=y,a.i=$,a.w=O)}else{for(var $=a.w||0;$<s+d;$+=65535){var Ve=$+65535;Ve>=s&&(u[f/8|0]=d,Ve=s),f=aI(u,f+1,e.subarray($,Ve))}a.i=s}return iI(l,0,r+CA(f)+i)},oI=function(){var e=1,n=0;return{p:function(t){for(var r=e,i=n,a=t.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=r+=t[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,n=i},d:function(){return e%=65521,n%=65521,(e&255)<<24|(e&65280)<<8|(n&255)<<8|n>>8}}},cK=function(e,n,t,r,i){if(!i&&(i={l:1},n.dictionary)){var a=n.dictionary.subarray(-32768),s=new Fs(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return uK(e,n.level==null?6:n.level,n.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+n.mem,t,r,i)},lI=function(e,n,t){for(;t;++n)e[n]=t,t>>>=8},dK=function(e,n){var t=n.level,r=t==0?0:t<6?1:t==9?3:2;if(e[0]=120,e[1]=r<<6|(n.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,n.dictionary){var i=oI();i.p(n.dictionary),lI(e,2,i.d())}},fK=function(e,n){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&fu(6,"invalid zlib data"),(e[1]>>5&1)==1&&fu(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function qS(e,n){n||(n={});var t=oI();t.p(e);var r=cK(e,n,n.dictionary?6:2,4);return dK(r,n),lI(r,r.length-4,t.d()),r}function hK(e,n){return oK(e.subarray(fK(e),-4),{i:2},n,n)}var pK=typeof TextDecoder<"u"&&new TextDecoder,mK=0;try{pK.decode(sI,{stream:!0}),mK=1}catch{}var cn=function(){return typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:this}();function mw(){cn.console&&typeof cn.console.log=="function"&&cn.console.log.apply(cn.console,arguments)}var Kr={log:mw,warn:function(e){cn.console&&(typeof cn.console.warn=="function"?cn.console.warn.apply(cn.console,arguments):mw.call(null,arguments))},error:function(e){cn.console&&(typeof cn.console.error=="function"?cn.console.error.apply(cn.console,arguments):mw(e))}};function gw(e,n,t){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Uh(r.response,n,t)},r.onerror=function(){Kr.error("could not download file")},r.send()}function Q8(e){var n=new XMLHttpRequest;n.open("HEAD",e,!1);try{n.send()}catch{}return n.status>=200&&n.status<=299}function zy(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var r1,BS,Uh=cn.saveAs||((typeof window>"u"?"undefined":Xr(window))!=="object"||window!==cn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,n,t){var r=cn.URL||cn.webkitURL,i=document.createElement("a");n=n||e.name||"download",i.download=n,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?Q8(i.href)?gw(e,n,t):zy(i,i.target="_blank"):zy(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){zy(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,t){if(n=n||e.name||"download",typeof e=="string")if(Q8(e))gw(e,n,t);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){zy(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Xr(a)!=="object"&&(Kr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,t),n)}:function(e,n,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return gw(e,n,t);var i=e.type==="application/octet-stream",a=/constructor/i.test(cn.HTMLElement)||cn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Xr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=s?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},l.readAsDataURL(e)}else{var u=cn.URL||cn.webkitURL,d=u.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function uI(e){var n;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,a=t[r].process,s=i.exec(e);s&&(n=a(s),this.r=n[0],this.g=n[1],this.b=n[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+l+u+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function bw(e,n){var t=e[0],r=e[1],i=e[2],a=e[3];t=Ts(t,r,i,a,n[0],7,-680876936),a=Ts(a,t,r,i,n[1],12,-389564586),i=Ts(i,a,t,r,n[2],17,606105819),r=Ts(r,i,a,t,n[3],22,-1044525330),t=Ts(t,r,i,a,n[4],7,-176418897),a=Ts(a,t,r,i,n[5],12,1200080426),i=Ts(i,a,t,r,n[6],17,-1473231341),r=Ts(r,i,a,t,n[7],22,-45705983),t=Ts(t,r,i,a,n[8],7,1770035416),a=Ts(a,t,r,i,n[9],12,-1958414417),i=Ts(i,a,t,r,n[10],17,-42063),r=Ts(r,i,a,t,n[11],22,-1990404162),t=Ts(t,r,i,a,n[12],7,1804603682),a=Ts(a,t,r,i,n[13],12,-40341101),i=Ts(i,a,t,r,n[14],17,-1502002290),t=js(t,r=Ts(r,i,a,t,n[15],22,1236535329),i,a,n[1],5,-165796510),a=js(a,t,r,i,n[6],9,-1069501632),i=js(i,a,t,r,n[11],14,643717713),r=js(r,i,a,t,n[0],20,-373897302),t=js(t,r,i,a,n[5],5,-701558691),a=js(a,t,r,i,n[10],9,38016083),i=js(i,a,t,r,n[15],14,-660478335),r=js(r,i,a,t,n[4],20,-405537848),t=js(t,r,i,a,n[9],5,568446438),a=js(a,t,r,i,n[14],9,-1019803690),i=js(i,a,t,r,n[3],14,-187363961),r=js(r,i,a,t,n[8],20,1163531501),t=js(t,r,i,a,n[13],5,-1444681467),a=js(a,t,r,i,n[2],9,-51403784),i=js(i,a,t,r,n[7],14,1735328473),t=Os(t,r=js(r,i,a,t,n[12],20,-1926607734),i,a,n[5],4,-378558),a=Os(a,t,r,i,n[8],11,-2022574463),i=Os(i,a,t,r,n[11],16,1839030562),r=Os(r,i,a,t,n[14],23,-35309556),t=Os(t,r,i,a,n[1],4,-1530992060),a=Os(a,t,r,i,n[4],11,1272893353),i=Os(i,a,t,r,n[7],16,-155497632),r=Os(r,i,a,t,n[10],23,-1094730640),t=Os(t,r,i,a,n[13],4,681279174),a=Os(a,t,r,i,n[0],11,-358537222),i=Os(i,a,t,r,n[3],16,-722521979),r=Os(r,i,a,t,n[6],23,76029189),t=Os(t,r,i,a,n[9],4,-640364487),a=Os(a,t,r,i,n[12],11,-421815835),i=Os(i,a,t,r,n[15],16,530742520),t=Is(t,r=Os(r,i,a,t,n[2],23,-995338651),i,a,n[0],6,-198630844),a=Is(a,t,r,i,n[7],10,1126891415),i=Is(i,a,t,r,n[14],15,-1416354905),r=Is(r,i,a,t,n[5],21,-57434055),t=Is(t,r,i,a,n[12],6,1700485571),a=Is(a,t,r,i,n[3],10,-1894986606),i=Is(i,a,t,r,n[10],15,-1051523),r=Is(r,i,a,t,n[1],21,-2054922799),t=Is(t,r,i,a,n[8],6,1873313359),a=Is(a,t,r,i,n[15],10,-30611744),i=Is(i,a,t,r,n[6],15,-1560198380),r=Is(r,i,a,t,n[13],21,1309151649),t=Is(t,r,i,a,n[4],6,-145523070),a=Is(a,t,r,i,n[11],10,-1120210379),i=Is(i,a,t,r,n[2],15,718787259),r=Is(r,i,a,t,n[9],21,-343485551),e[0]=qf(t,e[0]),e[1]=qf(r,e[1]),e[2]=qf(i,e[2]),e[3]=qf(a,e[3])}function zv(e,n,t,r,i,a){return n=qf(qf(n,e),qf(r,a)),qf(n<<i|n>>>32-i,t)}function Ts(e,n,t,r,i,a,s){return zv(n&t|~n&r,e,n,i,a,s)}function js(e,n,t,r,i,a,s){return zv(n&r|t&~r,e,n,i,a,s)}function Os(e,n,t,r,i,a,s){return zv(n^t^r,e,n,i,a,s)}function Is(e,n,t,r,i,a,s){return zv(t^(n|~r),e,n,i,a,s)}function cI(e){var n,t=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=e.length;n+=64)bw(r,gK(e.substring(n-64,n)));e=e.substring(n-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)i[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(bw(r,i),n=0;n<16;n++)i[n]=0;return i[14]=8*t,bw(r,i),r}function gK(e){var n,t=[];for(n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}r1=cn.atob.bind(cn),BS=cn.btoa.bind(cn);var K8="0123456789abcdef".split("");function bK(e){for(var n="",t=0;t<4;t++)n+=K8[e>>8*t+4&15]+K8[e>>8*t&15];return n}function yK(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function $S(e){return cI(e).map(yK).join("")}var xK=function(e){for(var n=0;n<e.length;n++)e[n]=bK(e[n]);return e.join("")}(cI("hello"))!="5d41402abc4b2a76b9719d911017c592";function qf(e,n){if(xK){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}return e+n&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function US(e,n){var t,r,i,a;if(e!==t){for(var s=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),l=[],u=0;u<256;u++)l[u]=u;var d=0;for(u=0;u<256;u++){var f=l[u];d=(d+f+s.charCodeAt(u))%256,l[u]=l[d],l[d]=f}t=e,r=l}else l=r;var m=n.length,b=0,g=0,x="";for(u=0;u<m;u++)g=(g+(f=l[b=(b+1)%256]))%256,l[b]=l[g],l[g]=f,s=l[(l[b]+l[g])%256],x+=String.fromCharCode(n.charCodeAt(u)^s);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var X8={print:4,modify:8,copy:16,"annot-forms":32};function D0(e,n,t,r){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(X8.perm!==void 0)throw new Error("Invalid permission: "+l);i+=X8[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(n+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=$S(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=US(this.encryptionKey,this.padding)}function L0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var n="",t=e.length,r=0;r<t;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?n+="#"+("0"+i.toString(16)).slice(-2):n+=e[r]}return n}function Z8(e){if(Xr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var n={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");n.hasOwnProperty(t)||(n[t]={});var a=Math.random().toString(35);return n[t][a]=[r,!!i],a},this.unsubscribe=function(t){for(var r in n)if(n[r][t])return delete n[r][t],Object.keys(n[r]).length===0&&delete n[r],!0;return!1},this.publish=function(t){if(n.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in n[t]){var s=n[t][a];try{s[0].apply(e,r)}catch(l){cn.console&&Kr.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return n}}function Xx(e){if(!(this instanceof Xx))return new Xx(e);var n="opacity,stroke-opacity".split(",");for(var t in e)e.hasOwnProperty(t)&&n.indexOf(t)>=0&&(this[t]=e[t]);this.id="",this.objectNumber=-1}function dI(e,n){this.gState=e,this.matrix=n,this.id="",this.objectNumber=-1}function Hh(e,n,t,r,i){if(!(this instanceof Hh))return new Hh(e,n,t,r,i);this.type=e==="axial"?2:3,this.coords=n,this.colors=t,dI.call(this,r,i)}function R0(e,n,t,r,i){if(!(this instanceof R0))return new R0(e,n,t,r,i);this.boundingBox=e,this.xStep=n,this.yStep=t,this.stream="",this.cloneIndex=0,dI.call(this,r,i)}function on(e){var n,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],l=1,u=16,d="S",f=null;Xr(e=e||{})==="object"&&(t=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(n=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),d=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",t=(""+(t||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,b={},g={internal:{},__private__:{}};g.__private__.PubSub=Z8;var x="1.3",y=g.__private__.getPdfVersion=function(){return x};g.__private__.setPdfVersion=function(D){x=D};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return A};var w=g.__private__.getPageFormat=function(D){return A[D]};i=i||"a4";var C={COMPAT:"compat",ADVANCED:"advanced"},T=C.COMPAT;function M(){this.saveGraphicsState(),re(new Lt(et,0,0,-et,0,Du()*et).toString()+" cm"),this.setFontSize(this.getFontSize()/et),d="n",T=C.ADVANCED}function R(){this.restoreGraphicsState(),d="S",T=C.COMPAT}var z=g.__private__.combineFontStyleAndFontWeight=function(D,ae){if(D=="bold"&&ae=="normal"||D=="bold"&&ae==400||D=="normal"&&ae=="italic"||D=="bold"&&ae=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ae&&(D=ae==400||ae==="normal"?D==="italic"?"italic":"normal":ae!=700&&ae!=="bold"||D!=="normal"?(ae==700?"bold":ae)+""+D:"bold"),D};g.advancedAPI=function(D){var ae=T===C.COMPAT;return ae&&M.call(this),typeof D!="function"||(D(this),ae&&R.call(this)),this},g.compatAPI=function(D){var ae=T===C.ADVANCED;return ae&&R.call(this),typeof D!="function"||(D(this),ae&&M.call(this)),this},g.isAdvancedAPI=function(){return T===C.ADVANCED};var _,L=function(D){if(T!==C.ADVANCED)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=g.roundToPrecision=g.__private__.roundToPrecision=function(D,ae){var _e=n||ae;if(isNaN(D)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(_e).replace(/0+$/,"")};_=g.hpf=g.__private__.hpf=typeof u=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return $(D,u)}:u==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return $(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return $(D,16)};var Z=g.f2=g.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return $(D,2)},O=g.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return $(D,3)},j=g.scale=g.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return T===C.COMPAT?D*et:T===C.ADVANCED?D:void 0},F=function(D){return T===C.COMPAT?Du()-D:T===C.ADVANCED?D:void 0},N=function(D){return j(F(D))};g.__private__.setPrecision=g.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(n=parseInt(D,10))};var G,H="00000000000000000000000000000000",Q=g.__private__.getFileId=function(){return H},te=g.__private__.setFileId=function(D){return H=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():H.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(li=new D0(f.userPermissions,f.userPassword,f.ownerPassword,H)),H};g.setFileId=function(D){return te(D),this},g.getFileId=function(){return Q()};var oe=g.__private__.convertDateToPDFDate=function(D){var ae=D.getTimezoneOffset(),_e=ae<0?"+":"-",Re=Math.floor(Math.abs(ae/60)),Ge=Math.abs(ae%60),dt=[_e,J(Re),"'",J(Ge),"'"].join("");return["D:",D.getFullYear(),J(D.getMonth()+1),J(D.getDate()),J(D.getHours()),J(D.getMinutes()),J(D.getSeconds()),dt].join("")},U=g.__private__.convertPDFDateToDate=function(D){var ae=parseInt(D.substr(2,4),10),_e=parseInt(D.substr(6,2),10)-1,Re=parseInt(D.substr(8,2),10),Ge=parseInt(D.substr(10,2),10),dt=parseInt(D.substr(12,2),10),At=parseInt(D.substr(14,2),10);return new Date(ae,_e,Re,Ge,dt,At,0)},se=g.__private__.setCreationDate=function(D){var ae;if(D===void 0&&(D=new Date),D instanceof Date)ae=oe(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ae=D}return G=ae},q=g.__private__.getCreationDate=function(D){var ae=G;return D==="jsDate"&&(ae=U(G)),ae};g.setCreationDate=function(D){return se(D),this},g.getCreationDate=function(D){return q(D)};var B,J=g.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},ne=g.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},le=0,Se=[],xe=[],ke=0,De=[],Me=[],He=!1,Ve=xe,Y=function(){le=0,ke=0,xe=[],Se=[],De=[],_r=fr(),Da=fr()};g.__private__.setCustomOutputDestination=function(D){He=!0,Ve=D};var Ae=function(D){He||(Ve=D)};g.__private__.resetCustomOutputDestination=function(){He=!1,Ve=xe};var re=g.__private__.out=function(D){return D=D.toString(),ke+=D.length+1,Ve.push(D),Ve},be=g.__private__.write=function(D){return re(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},fe=g.__private__.getArrayBuffer=function(D){for(var ae=D.length,_e=new ArrayBuffer(ae),Re=new Uint8Array(_e);ae--;)Re[ae]=D.charCodeAt(ae);return _e},Ce=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Ce};var Le=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(D){return Le=T===C.ADVANCED?D/et:D,this};var qe,Te=g.__private__.getFontSize=g.getFontSize=function(){return T===C.COMPAT?Le:Le*et},Ze=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(D){return Ze=D,this},g.__private__.getR2L=g.getR2L=function(){return Ze};var ut,rt=g.__private__.setZoomMode=function(D){var ae=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))qe=D;else if(isNaN(D)){if(ae.indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');qe=D}else qe=parseInt(D,10)};g.__private__.getZoomMode=function(){return qe};var Pe,ve=g.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');ut=D};g.__private__.getPageMode=function(){return ut};var Ne=g.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');Pe=D};g.__private__.getLayoutMode=function(){return Pe},g.__private__.setDisplayMode=g.setDisplayMode=function(D,ae,_e){return rt(D),Ne(ae),ve(_e),this};var Oe={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(D){if(Object.keys(Oe).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Oe[D]},g.__private__.getDocumentProperties=function(){return Oe},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(D){for(var ae in Oe)Oe.hasOwnProperty(ae)&&D[ae]&&(Oe[ae]=D[ae]);return this},g.__private__.setDocumentProperty=function(D,ae){if(Object.keys(Oe).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Oe[D]=ae};var ft,et,Pt,Nt,Yt,Rt={},Xt={},nn=[],ln={},Pn={},zn={},Vr={},ir=null,Rn=0,Vt=[],An=new Z8(g),wa=e.hotfixes||[],wr={},oi={},Sa=[],Lt=function D(ae,_e,Re,Ge,dt,At){if(!(this instanceof D))return new D(ae,_e,Re,Ge,dt,At);isNaN(ae)&&(ae=1),isNaN(_e)&&(_e=0),isNaN(Re)&&(Re=0),isNaN(Ge)&&(Ge=1),isNaN(dt)&&(dt=0),isNaN(At)&&(At=0),this._matrix=[ae,_e,Re,Ge,dt,At]};Object.defineProperty(Lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Lt.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(_).join(D)},Lt.prototype.multiply=function(D){var ae=D.sx*this.sx+D.shy*this.shx,_e=D.sx*this.shy+D.shy*this.sy,Re=D.shx*this.sx+D.sy*this.shx,Ge=D.shx*this.shy+D.sy*this.sy,dt=D.tx*this.sx+D.ty*this.shx+this.tx,At=D.tx*this.shy+D.ty*this.sy+this.ty;return new Lt(ae,_e,Re,Ge,dt,At)},Lt.prototype.decompose=function(){var D=this.sx,ae=this.shy,_e=this.shx,Re=this.sy,Ge=this.tx,dt=this.ty,At=Math.sqrt(D*D+ae*ae),Ot=(D/=At)*_e+(ae/=At)*Re;_e-=D*Ot,Re-=ae*Ot;var Ut=Math.sqrt(_e*_e+Re*Re);return Ot/=Ut,D*(Re/=Ut)<ae*(_e/=Ut)&&(D=-D,ae=-ae,Ot=-Ot,At=-At),{scale:new Lt(At,0,0,Ut,0,0),translate:new Lt(1,0,0,1,Ge,dt),rotate:new Lt(D,ae,-ae,D,0,0),skew:new Lt(1,0,Ot,1,0,0)}},Lt.prototype.toString=function(D){return this.join(" ")},Lt.prototype.inversed=function(){var D=this.sx,ae=this.shy,_e=this.shx,Re=this.sy,Ge=this.tx,dt=this.ty,At=1/(D*Re-ae*_e),Ot=Re*At,Ut=-ae*At,vn=-_e*At,pn=D*At;return new Lt(Ot,Ut,vn,pn,-Ot*Ge-vn*dt,-Ut*Ge-pn*dt)},Lt.prototype.applyToPoint=function(D){var ae=D.x*this.sx+D.y*this.shx+this.tx,_e=D.x*this.shy+D.y*this.sy+this.ty;return new Vd(ae,_e)},Lt.prototype.applyToRectangle=function(D){var ae=this.applyToPoint(D),_e=this.applyToPoint(new Vd(D.x+D.w,D.y+D.h));return new hh(ae.x,ae.y,_e.x-ae.x,_e.y-ae.y)},Lt.prototype.clone=function(){var D=this.sx,ae=this.shy,_e=this.shx,Re=this.sy,Ge=this.tx,dt=this.ty;return new Lt(D,ae,_e,Re,Ge,dt)},g.Matrix=Lt;var Hn=g.matrixMult=function(D,ae){return ae.multiply(D)},ar=new Lt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=ar;var Rr=function(D,ae){if(!Pn[D]){var _e=(ae instanceof Hh?"Sh":"P")+(Object.keys(ln).length+1).toString(10);ae.id=_e,Pn[D]=_e,ln[_e]=ae,An.publish("addPattern",ae)}};g.ShadingPattern=Hh,g.TilingPattern=R0,g.addShadingPattern=function(D,ae){return L("addShadingPattern()"),Rr(D,ae),this},g.beginTilingPattern=function(D){L("beginTilingPattern()"),Gd(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},g.endTilingPattern=function(D,ae){L("endTilingPattern()"),ae.stream=Me[B].join(`
`),Rr(D,ae),An.publish("endTilingPattern",ae),Sa.pop().restore()};var dr=g.__private__.newObject=function(){var D=fr();return Un(D,!0),D},fr=g.__private__.newObjectDeferred=function(){return le++,Se[le]=function(){return ke},le},Un=function(D,ae){return ae=typeof ae=="boolean"&&ae,Se[D]=ke,ae&&re(D+" 0 obj"),D},bs=g.__private__.newAdditionalObject=function(){var D={objId:fr(),content:""};return De.push(D),D},_r=fr(),Da=fr(),zi=g.__private__.decodeColorString=function(D){var ae=D.split(" ");if(ae.length!==2||ae[1]!=="g"&&ae[1]!=="G")ae.length===5&&(ae[4]==="k"||ae[4]==="K")&&(ae=[(1-ae[0])*(1-ae[3]),(1-ae[1])*(1-ae[3]),(1-ae[2])*(1-ae[3]),"r"]);else{var _e=parseFloat(ae[0]);ae=[_e,_e,_e,"r"]}for(var Re="#",Ge=0;Ge<3;Ge++)Re+=("0"+Math.floor(255*parseFloat(ae[Ge])).toString(16)).slice(-2);return Re},qi=g.__private__.encodeColorString=function(D){var ae;typeof D=="string"&&(D={ch1:D});var _e=D.ch1,Re=D.ch2,Ge=D.ch3,dt=D.ch4,At=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var Ot=new uI(_e);if(Ot.ok)_e=Ot.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var Ut=parseInt(_e.substr(1),16);_e=Ut>>16&255,Re=Ut>>8&255,Ge=255&Ut}if(Re===void 0||dt===void 0&&_e===Re&&Re===Ge)if(typeof _e=="string")ae=_e+" "+At[0];else switch(D.precision){case 2:ae=Z(_e/255)+" "+At[0];break;case 3:default:ae=O(_e/255)+" "+At[0]}else if(dt===void 0||Xr(dt)==="object"){if(dt&&!isNaN(dt.a)&&dt.a===0)return ae=["1.","1.","1.",At[1]].join(" ");if(typeof _e=="string")ae=[_e,Re,Ge,At[1]].join(" ");else switch(D.precision){case 2:ae=[Z(_e/255),Z(Re/255),Z(Ge/255),At[1]].join(" ");break;default:case 3:ae=[O(_e/255),O(Re/255),O(Ge/255),At[1]].join(" ")}}else if(typeof _e=="string")ae=[_e,Re,Ge,dt,At[2]].join(" ");else switch(D.precision){case 2:ae=[Z(_e),Z(Re),Z(Ge),Z(dt),At[2]].join(" ");break;case 3:default:ae=[O(_e),O(Re),O(Ge),O(dt),At[2]].join(" ")}return ae},Zn=g.__private__.getFilters=function(){return s},Ci=g.__private__.putStream=function(D){var ae=(D=D||{}).data||"",_e=D.filters||Zn(),Re=D.alreadyAppliedFilters||[],Ge=D.addLength1||!1,dt=ae.length,At=D.objectId,Ot=function(_i){return _i};if(f!==null&&At===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Ot=li.encryptor(At,0));var Ut={};_e===!0&&(_e=["FlateEncode"]);var vn=D.additionalKeyValues||[],pn=(Ut=on.API.processDataByFilters!==void 0?on.API.processDataByFilters(ae,_e):{data:ae,reverseChain:[]}).reverseChain+(Array.isArray(Re)?Re.join(" "):Re.toString());if(Ut.data.length!==0&&(vn.push({key:"Length",value:Ut.data.length}),Ge===!0&&vn.push({key:"Length1",value:dt})),pn.length!=0)if(pn.split("/").length-1==1)vn.push({key:"Filter",value:pn});else{vn.push({key:"Filter",value:"["+pn+"]"});for(var qn=0;qn<vn.length;qn+=1)if(vn[qn].key==="DecodeParms"){for(var ei=[],ui=0;ui<Ut.reverseChain.split("/").length-1;ui+=1)ei.push("null");ei.push(vn[qn].value),vn[qn].value="["+ei.join(" ")+"]"}}re("<<");for(var ki=0;ki<vn.length;ki++)re("/"+vn[ki].key+" "+vn[ki].value);re(">>"),Ut.data.length!==0&&(re("stream"),re(Ot(Ut.data)),re("endstream"))},Jn=g.__private__.putPage=function(D){var ae=D.number,_e=D.data,Re=D.objId,Ge=D.contentsObjId;Un(Re,!0),re("<</Type /Page"),re("/Parent "+D.rootDictionaryObjId+" 0 R"),re("/Resources "+D.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(_(D.mediaBox.bottomLeftX))+" "+parseFloat(_(D.mediaBox.bottomLeftY))+" "+_(D.mediaBox.topRightX)+" "+_(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&re("/CropBox ["+_(D.cropBox.bottomLeftX)+" "+_(D.cropBox.bottomLeftY)+" "+_(D.cropBox.topRightX)+" "+_(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&re("/BleedBox ["+_(D.bleedBox.bottomLeftX)+" "+_(D.bleedBox.bottomLeftY)+" "+_(D.bleedBox.topRightX)+" "+_(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&re("/TrimBox ["+_(D.trimBox.bottomLeftX)+" "+_(D.trimBox.bottomLeftY)+" "+_(D.trimBox.topRightX)+" "+_(D.trimBox.topRightY)+"]"),D.artBox!==null&&re("/ArtBox ["+_(D.artBox.bottomLeftX)+" "+_(D.artBox.bottomLeftY)+" "+_(D.artBox.topRightX)+" "+_(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&re("/UserUnit "+D.userUnit),An.publish("putPage",{objId:Re,pageContext:Vt[ae],pageNumber:ae,page:_e}),re("/Contents "+Ge+" 0 R"),re(">>"),re("endobj");var dt=_e.join(`
`);return T===C.ADVANCED&&(dt+=`
Q`),Un(Ge,!0),Ci({data:dt,filters:Zn(),objectId:Ge}),re("endobj"),Re},ro=g.__private__.putPages=function(){var D,ae,_e=[];for(D=1;D<=Rn;D++)Vt[D].objId=fr(),Vt[D].contentsObjId=fr();for(D=1;D<=Rn;D++)_e.push(Jn({number:D,data:Me[D],objId:Vt[D].objId,contentsObjId:Vt[D].contentsObjId,mediaBox:Vt[D].mediaBox,cropBox:Vt[D].cropBox,bleedBox:Vt[D].bleedBox,trimBox:Vt[D].trimBox,artBox:Vt[D].artBox,userUnit:Vt[D].userUnit,rootDictionaryObjId:_r,resourceDictionaryObjId:Da}));Un(_r,!0),re("<</Type /Pages");var Re="/Kids [";for(ae=0;ae<Rn;ae++)Re+=_e[ae]+" 0 R ";re(Re+"]"),re("/Count "+Rn),re(">>"),re("endobj"),An.publish("postPutPages")},Eo=function(D){An.publish("putFont",{font:D,out:re,newObject:dr,putStream:Ci}),D.isAlreadyPutted!==!0&&(D.objectNumber=dr(),re("<<"),re("/Type /Font"),re("/BaseFont /"+L0(D.postScriptName)),re("/Subtype /Type1"),typeof D.encoding=="string"&&re("/Encoding /"+D.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Fa=function(){for(var D in Rt)Rt.hasOwnProperty(D)&&(m===!1||m===!0&&b.hasOwnProperty(D))&&Eo(Rt[D])},Mr=function(D){D.objectNumber=dr();var ae=[];ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Form"}),ae.push({key:"BBox",value:"["+[_(D.x),_(D.y),_(D.x+D.width),_(D.y+D.height)].join(" ")+"]"}),ae.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var _e=D.pages[1].join(`
`);Ci({data:_e,additionalKeyValues:ae,objectId:D.objectNumber}),re("endobj")},nl=function(){for(var D in wr)wr.hasOwnProperty(D)&&Mr(wr[D])},ql=function(D,ae){var _e,Re=[],Ge=1/(ae-1);for(_e=0;_e<1;_e+=Ge)Re.push(_e);if(Re.push(1),D[0].offset!=0){var dt={offset:0,color:D[0].color};D.unshift(dt)}if(D[D.length-1].offset!=1){var At={offset:1,color:D[D.length-1].color};D.push(At)}for(var Ot="",Ut=0,vn=0;vn<Re.length;vn++){for(_e=Re[vn];_e>D[Ut+1].offset;)Ut++;var pn=D[Ut].offset,qn=(_e-pn)/(D[Ut+1].offset-pn),ei=D[Ut].color,ui=D[Ut+1].color;Ot+=ne(Math.round((1-qn)*ei[0]+qn*ui[0]).toString(16))+ne(Math.round((1-qn)*ei[1]+qn*ui[1]).toString(16))+ne(Math.round((1-qn)*ei[2]+qn*ui[2]).toString(16))}return Ot.trim()},ju=function(D,ae){ae||(ae=21);var _e=dr(),Re=ql(D.colors,ae),Ge=[];Ge.push({key:"FunctionType",value:"0"}),Ge.push({key:"Domain",value:"[0.0 1.0]"}),Ge.push({key:"Size",value:"["+ae+"]"}),Ge.push({key:"BitsPerSample",value:"8"}),Ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ci({data:Re,additionalKeyValues:Ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),re("endobj"),D.objectNumber=dr(),re("<< /ShadingType "+D.type),re("/ColorSpace /DeviceRGB");var dt="/Coords ["+_(parseFloat(D.coords[0]))+" "+_(parseFloat(D.coords[1]))+" ";D.type===2?dt+=_(parseFloat(D.coords[2]))+" "+_(parseFloat(D.coords[3])):dt+=_(parseFloat(D.coords[2]))+" "+_(parseFloat(D.coords[3]))+" "+_(parseFloat(D.coords[4]))+" "+_(parseFloat(D.coords[5])),re(dt+="]"),D.matrix&&re("/Matrix ["+D.matrix.toString()+"]"),re("/Function "+_e+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},$c=function(D,ae){var _e=fr(),Re=dr();ae.push({resourcesOid:_e,objectOid:Re}),D.objectNumber=Re;var Ge=[];Ge.push({key:"Type",value:"/Pattern"}),Ge.push({key:"PatternType",value:"1"}),Ge.push({key:"PaintType",value:"1"}),Ge.push({key:"TilingType",value:"1"}),Ge.push({key:"BBox",value:"["+D.boundingBox.map(_).join(" ")+"]"}),Ge.push({key:"XStep",value:_(D.xStep)}),Ge.push({key:"YStep",value:_(D.yStep)}),Ge.push({key:"Resources",value:_e+" 0 R"}),D.matrix&&Ge.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),Ci({data:D.stream,additionalKeyValues:Ge,objectId:D.objectNumber}),re("endobj")},Us=function(D){var ae;for(ae in ln)ln.hasOwnProperty(ae)&&(ln[ae]instanceof Hh?ju(ln[ae]):ln[ae]instanceof R0&&$c(ln[ae],D))},ys=function(D){for(var ae in D.objectNumber=dr(),re("<<"),D)switch(ae){case"opacity":re("/ca "+Z(D[ae]));break;case"stroke-opacity":re("/CA "+Z(D[ae]))}re(">>"),re("endobj")},Pa=function(){var D;for(D in zn)zn.hasOwnProperty(D)&&ys(zn[D])},xs=function(){for(var D in re("/XObject <<"),wr)wr.hasOwnProperty(D)&&wr[D].objectNumber>=0&&re("/"+D+" "+wr[D].objectNumber+" 0 R");An.publish("putXobjectDict"),re(">>")},rs=function(){li.oid=dr(),re("<<"),re("/Filter /Standard"),re("/V "+li.v),re("/R "+li.r),re("/U <"+li.toHexString(li.U)+">"),re("/O <"+li.toHexString(li.O)+">"),re("/P "+li.P),re(">>"),re("endobj")},is=function(){for(var D in re("/Font <<"),Rt)Rt.hasOwnProperty(D)&&(m===!1||m===!0&&b.hasOwnProperty(D))&&re("/"+D+" "+Rt[D].objectNumber+" 0 R");re(">>")},Bl=function(){if(Object.keys(ln).length>0){for(var D in re("/Shading <<"),ln)ln.hasOwnProperty(D)&&ln[D]instanceof Hh&&ln[D].objectNumber>=0&&re("/"+D+" "+ln[D].objectNumber+" 0 R");An.publish("putShadingPatternDict"),re(">>")}},io=function(D){if(Object.keys(ln).length>0){for(var ae in re("/Pattern <<"),ln)ln.hasOwnProperty(ae)&&ln[ae]instanceof g.TilingPattern&&ln[ae].objectNumber>=0&&ln[ae].objectNumber<D&&re("/"+ae+" "+ln[ae].objectNumber+" 0 R");An.publish("putTilingPatternDict"),re(">>")}},Uc=function(){if(Object.keys(zn).length>0){var D;for(D in re("/ExtGState <<"),zn)zn.hasOwnProperty(D)&&zn[D].objectNumber>=0&&re("/"+D+" "+zn[D].objectNumber+" 0 R");An.publish("putGStateDict"),re(">>")}},Fr=function(D){Un(D.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),is(),Bl(),io(D.objectOid),Uc(),xs(),re(">>"),re("endobj")},ta=function(){var D=[];Fa(),Pa(),nl(),Us(D),An.publish("putResources"),D.forEach(Fr),Fr({resourcesOid:Da,objectOid:Number.MAX_SAFE_INTEGER}),An.publish("postPutResources")},ao=function(){An.publish("putAdditionalObjects");for(var D=0;D<De.length;D++){var ae=De[D];Un(ae.objId,!0),re(ae.content),re("endobj")}An.publish("postPutAdditionalObjects")},rl=function(D){Xt[D.fontName]=Xt[D.fontName]||{},Xt[D.fontName][D.fontStyle]=D.id},za=function(D,ae,_e,Re,Ge){var dt={id:"F"+(Object.keys(Rt).length+1).toString(10),postScriptName:D,fontName:ae,fontStyle:_e,encoding:Re,isStandardFont:Ge||!1,metadata:{}};return An.publish("addFont",{font:dt,instance:this}),Rt[dt.id]=dt,rl(dt),dt.id},$l=function(D){for(var ae=0,_e=Ce.length;ae<_e;ae++){var Re=za.call(this,D[ae][0],D[ae][1],D[ae][2],Ce[ae][3],!0);m===!1&&(b[Re]=!0);var Ge=D[ae][0].split("-");rl({id:Re,fontName:Ge[0],fontStyle:Ge[1]||""})}An.publish("addFonts",{fonts:Rt,dictionary:Xt})},na=function(D){return D.foo=function(){try{return D.apply(this,arguments)}catch(Re){var ae=Re.stack||"";~ae.indexOf(" at ")&&(ae=ae.split(" at ")[1]);var _e="Error in function "+ae.split(`
`)[0].split("<")[0]+": "+Re.message;if(!cn.console)throw new Error(_e);cn.console.error(_e,Re),cn.alert&&alert(_e)}},D.foo.bar=D,D.foo},il=function(D,ae){var _e,Re,Ge,dt,At,Ot,Ut,vn,pn;if(Ge=(ae=ae||{}).sourceEncoding||"Unicode",At=ae.outputEncoding,(ae.autoencode||At)&&Rt[ft].metadata&&Rt[ft].metadata[Ge]&&Rt[ft].metadata[Ge].encoding&&(dt=Rt[ft].metadata[Ge].encoding,!At&&Rt[ft].encoding&&(At=Rt[ft].encoding),!At&&dt.codePages&&(At=dt.codePages[0]),typeof At=="string"&&(At=dt[At]),At)){for(Ut=!1,Ot=[],_e=0,Re=D.length;_e<Re;_e++)(vn=At[D.charCodeAt(_e)])?Ot.push(String.fromCharCode(vn)):Ot.push(D[_e]),Ot[_e].charCodeAt(0)>>8&&(Ut=!0);D=Ot.join("")}for(_e=D.length;Ut===void 0&&_e!==0;)D.charCodeAt(_e-1)>>8&&(Ut=!0),_e--;if(!Ut)return D;for(Ot=ae.noBOM?[]:[254,255],_e=0,Re=D.length;_e<Re;_e++){if((pn=(vn=D.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+D+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ot.push(pn),Ot.push(vn-(pn<<8))}return String.fromCharCode.apply(void 0,Ot)},hr=g.__private__.pdfEscape=g.pdfEscape=function(D,ae){return il(D,ae).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ko=g.__private__.beginPage=function(D){Me[++Rn]=[],Vt[Rn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},Hs(Rn),Ae(Me[B])},Ul=function(D,ae){var _e,Re,Ge;switch(t=ae||t,typeof D=="string"&&(_e=w(D.toLowerCase()),Array.isArray(_e)&&(Re=_e[0],Ge=_e[1])),Array.isArray(D)&&(Re=D[0]*et,Ge=D[1]*et),isNaN(Re)&&(Re=i[0],Ge=i[1]),(Re>14400||Ge>14400)&&(Kr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Re=Math.min(14400,Re),Ge=Math.min(14400,Ge)),i=[Re,Ge],t.substr(0,1)){case"l":Ge>Re&&(i=[Ge,Re]);break;case"p":Re>Ge&&(i=[Ge,Re])}ko(i),$t(lt),re(Ar),ul!==0&&re(ul+" J"),jo!==0&&re(jo+" j"),An.publish("addPage",{pageNumber:Rn})},_o=function(D){D>0&&D<=Rn&&(Me.splice(D,1),Vt.splice(D,1),Rn--,B>Rn&&(B=Rn),this.setPage(B))},Hs=function(D){D>0&&D<=Rn&&(B=D)},Ou=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Me.length-1},Ws=function(D,ae,_e){var Re,Ge=void 0;return _e=_e||{},D=D!==void 0?D:Rt[ft].fontName,ae=ae!==void 0?ae:Rt[ft].fontStyle,Re=D.toLowerCase(),Xt[Re]!==void 0&&Xt[Re][ae]!==void 0?Ge=Xt[Re][ae]:Xt[D]!==void 0&&Xt[D][ae]!==void 0?Ge=Xt[D][ae]:_e.disableWarning===!1&&Kr.warn("Unable to look up font label for font '"+D+"', '"+ae+"'. Refer to getFontList() for available fonts."),Ge||_e.noFallback||(Ge=Xt.times[ae])==null&&(Ge=Xt.times.normal),Ge},Bi=g.__private__.putInfo=function(){var D=dr(),ae=function(Re){return Re};for(var _e in f!==null&&(ae=li.encryptor(D,0)),re("<<"),re("/Producer ("+hr(ae("jsPDF "+on.version))+")"),Oe)Oe.hasOwnProperty(_e)&&Oe[_e]&&re("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+hr(ae(Oe[_e]))+")");re("/CreationDate ("+hr(ae(G))+")"),re(">>"),re("endobj")},as=g.__private__.putCatalog=function(D){var ae=(D=D||{}).rootDictionaryObjId||_r;switch(dr(),re("<<"),re("/Type /Catalog"),re("/Pages "+ae+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+qe;_e.substr(_e.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&re("/OpenAction [3 0 R /XYZ null null "+Z(qe)+"]")}switch(Pe||(Pe="continuous"),Pe){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}ut&&re("/PageMode /"+ut),An.publish("putCatalog"),re(">>"),re("endobj")},vs=g.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(le+1)),re("/Root "+le+" 0 R"),re("/Info "+(le-1)+" 0 R"),f!==null&&re("/Encrypt "+li.oid+" 0 R"),re("/ID [ <"+H+"> <"+H+"> ]"),re(">>")},Iu=g.__private__.putHeader=function(){re("%PDF-"+x),re("%")},qa=g.__private__.putXRef=function(){var D="0000000000";re("xref"),re("0 "+(le+1)),re("0000000000 65535 f ");for(var ae=1;ae<=le;ae++)typeof Se[ae]=="function"?re((D+Se[ae]()).slice(-10)+" 00000 n "):Se[ae]!==void 0?re((D+Se[ae]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},Ys=g.__private__.buildDocument=function(){Y(),Ae(xe),An.publish("buildDocument"),Iu(),ro(),ao(),ta(),f!==null&&rs(),Bi(),as();var D=ke;return qa(),vs(),re("startxref"),re(""+D),re("%%EOF"),Ae(Me[B]),xe.join(`
`)},al=g.__private__.getBlob=function(D){return new Blob([fe(D)],{type:"application/pdf"})},Vs=g.output=g.__private__.output=na(function(D,ae){switch(typeof(ae=ae||{})=="string"?ae={filename:ae}:ae.filename=ae.filename||"generated.pdf",D){case void 0:return Ys();case"save":g.save(ae.filename);break;case"arraybuffer":return fe(Ys());case"blob":return al(Ys());case"bloburi":case"bloburl":if(cn.URL!==void 0&&typeof cn.URL.createObjectURL=="function")return cn.URL&&cn.URL.createObjectURL(al(Ys()))||void 0;Kr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",Re=Ys();try{_e=BS(Re)}catch{_e=BS(unescape(encodeURIComponent(Re)))}return"data:application/pdf;filename="+ae.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(cn)==="[object Window]"){var Ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",dt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ae.pdfObjectUrl&&(Ge=ae.pdfObjectUrl,dt="");var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ge+'"'+dt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ae)+");<\/script></body></html>",Ot=cn.open();return Ot!==null&&Ot.document.write(At),Ot}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(cn)==="[object Window]"){var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ae.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ae.filename+'" width="500px" height="400px" /></body></html>',vn=cn.open();if(vn!==null){vn.document.write(Ut);var pn=this;vn.document.documentElement.querySelector("#pdfViewer").onload=function(){vn.document.title=ae.filename,vn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pn.output("bloburl"))}}return vn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(cn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var qn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ae)+'"></iframe></body></html>',ei=cn.open();if(ei!==null&&(ei.document.write(qn),ei.document.title=ae.filename),ei||typeof safari>"u")return ei;break;case"datauri":case"dataurl":return cn.document.location.href=this.output("datauristring",ae);default:return null}}),sl=function(D){return Array.isArray(wa)===!0&&wa.indexOf(D)>-1};switch(r){case"pt":et=1;break;case"mm":et=72/25.4;break;case"cm":et=72/2.54;break;case"in":et=72;break;case"px":et=sl("px_scaling")==1?.75:96/72;break;case"pc":case"em":et=12;break;case"ex":et=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);et=r}var li=null;se(),te();var Jr=function(D){return f!==null?li.encryptor(D,0):function(ae){return ae}},ws=g.__private__.getPageInfo=g.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Vt[D].objId,pageNumber:D,pageContext:Vt[D]}},tn=g.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ae in Vt)if(Vt[ae].objId===D)break;return ws(ae)},so=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Vt[B].objId,pageNumber:B,pageContext:Vt[B]}};g.addPage=function(){return Ul.apply(this,arguments),this},g.setPage=function(){return Hs.apply(this,arguments),Ae.call(this,Me[B]),this},g.insertPage=function(D){return this.addPage(),this.movePage(B,D),this},g.movePage=function(D,ae){var _e,Re;if(D>ae){_e=Me[D],Re=Vt[D];for(var Ge=D;Ge>ae;Ge--)Me[Ge]=Me[Ge-1],Vt[Ge]=Vt[Ge-1];Me[ae]=_e,Vt[ae]=Re,this.setPage(ae)}else if(D<ae){_e=Me[D],Re=Vt[D];for(var dt=D;dt<ae;dt++)Me[dt]=Me[dt+1],Vt[dt]=Vt[dt+1];Me[ae]=_e,Vt[ae]=Re,this.setPage(ae)}return this},g.deletePage=function(){return _o.apply(this,arguments),this},g.__private__.text=g.text=function(D,ae,_e,Re,Ge){var dt,At,Ot,Ut,vn,pn,qn,ei,ui,ki=(Re=Re||{}).scope||this;if(typeof D=="number"&&typeof ae=="number"&&(typeof _e=="string"||Array.isArray(_e))){var _i=_e;_e=ae,ae=D,D=_i}if(arguments[3]instanceof Lt?(L("The transform parameter of text() with a Matrix value"),ui=Ge):(Ot=arguments[4],Ut=arguments[5],Xr(qn=arguments[3])==="object"&&qn!==null||(typeof Ot=="string"&&(Ut=Ot,Ot=null),typeof qn=="string"&&(Ut=qn,qn=null),typeof qn=="number"&&(Ot=qn,qn=null),Re={flags:qn,angle:Ot,align:Ut})),isNaN(ae)||isNaN(_e)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return ki;var Ca="",Oo=!1,Qs=typeof Re.lineHeightFactor=="number"?Re.lineHeightFactor:Ie,Io=ki.internal.scaleFactor;function gh(Dn){return Dn=Dn.split("	").join(Array(Re.TabLen||9).join(" ")),hr(Dn,qn)}function Hl(Dn){for(var Ln,Pr=Dn.concat(),Ni=[],uo=Pr.length;uo--;)typeof(Ln=Pr.shift())=="string"?Ni.push(Ln):Array.isArray(Dn)&&(Ln.length===1||Ln[1]===void 0&&Ln[2]===void 0)?Ni.push(Ln[0]):Ni.push([Ln[0],Ln[1],Ln[2]]);return Ni}function Wl(Dn,Ln){var Pr;if(typeof Dn=="string")Pr=Ln(Dn)[0];else if(Array.isArray(Dn)){for(var Ni,uo,Uu=Dn.concat(),Hu=[],Gl=Uu.length;Gl--;)typeof(Ni=Uu.shift())=="string"?Hu.push(Ln(Ni)[0]):Array.isArray(Ni)&&typeof Ni[0]=="string"&&(uo=Ln(Ni[0],Ni[1],Ni[2]),Hu.push([uo[0],uo[1],uo[2]]));Pr=Hu}return Pr}var Xd=!1,Lu=!0;if(typeof D=="string")Xd=!0;else if(Array.isArray(D)){var Zd=D.concat();At=[];for(var Wc,ra=Zd.length;ra--;)(typeof(Wc=Zd.shift())!="string"||Array.isArray(Wc)&&typeof Wc[0]!="string")&&(Lu=!1);Xd=Lu}if(Xd===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var Ru=Le/ki.internal.scaleFactor,Yc=Ru*(Qs-1);switch(Re.baseline){case"bottom":_e-=Yc;break;case"top":_e+=Ru-Yc;break;case"hanging":_e+=Ru-2*Yc;break;case"middle":_e+=Ru/2-Yc}if((pn=Re.maxWidth||0)>0&&(typeof D=="string"?D=ki.splitTextToSize(D,pn):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(Dn,Ln){return Dn.concat(ki.splitTextToSize(Ln,pn))},[]))),dt={text:D,x:ae,y:_e,options:Re,mutex:{pdfEscape:hr,activeFontKey:ft,fonts:Rt,activeFontSize:Le}},An.publish("preProcessText",dt),D=dt.text,Ot=(Re=dt.options).angle,!(ui instanceof Lt)&&Ot&&typeof Ot=="number"){Ot*=Math.PI/180,Re.rotationDirection===0&&(Ot=-Ot),T===C.ADVANCED&&(Ot=-Ot);var Vc=Math.cos(Ot),Jd=Math.sin(Ot);ui=new Lt(Vc,Jd,-Jd,Vc,0,0)}else Ot&&Ot instanceof Lt&&(ui=Ot);T!==C.ADVANCED||ui||(ui=ar),(vn=Re.charSpace||As)!==void 0&&(Ca+=_(j(vn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ei=Re.horizontalScale)!==void 0&&(Ca+=_(100*ei)+` Tz
`),Re.lang;var Cs=-1,_m=Re.renderingMode!==void 0?Re.renderingMode:Re.stroke,bh=ki.internal.getCurrentPageInfo().pageContext;switch(_m){case 0:case!1:case"fill":Cs=0;break;case 1:case!0:case"stroke":Cs=1;break;case 2:case"fillThenStroke":Cs=2;break;case 3:case"invisible":Cs=3;break;case 4:case"fillAndAddForClipping":Cs=4;break;case 5:case"strokeAndAddPathForClipping":Cs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Cs=6;break;case 7:case"addToPathForClipping":Cs=7}var Lp=bh.usedRenderingMode!==void 0?bh.usedRenderingMode:-1;Cs!==-1?Ca+=Cs+` Tr
`:Lp!==-1&&(Ca+=`0 Tr
`),Cs!==-1&&(bh.usedRenderingMode=Cs),Ut=Re.align||"left";var lo,Ea=Le*Qs,Mu=ki.internal.pageSize.getWidth(),yh=Rt[ft];vn=Re.charSpace||As,pn=Re.maxWidth||0,qn=Object.assign({autoencode:!0,noBOM:!0},Re.flags);var Yl=[],Fu=function(Dn){return ki.getStringUnitWidth(Dn,{font:yh,charSpace:vn,fontSize:Le,doKerning:!1})*Le/Io};if(Object.prototype.toString.call(D)==="[object Array]"){var ss;At=Hl(D),Ut!=="left"&&(lo=At.map(Fu));var Ra,Pu=0;if(Ut==="right"){ae-=lo[0],D=[],ra=At.length;for(var Es=0;Es<ra;Es++)Es===0?(Ra=bn(ae),ss=Nr(_e)):(Ra=j(Pu-lo[Es]),ss=-Ea),D.push([At[Es],Ra,ss]),Pu=lo[Es]}else if(Ut==="center"){ae-=lo[0]/2,D=[],ra=At.length;for(var Do=0;Do<ra;Do++)Do===0?(Ra=bn(ae),ss=Nr(_e)):(Ra=j((Pu-lo[Do])/2),ss=-Ea),D.push([At[Do],Ra,ss]),Pu=lo[Do]}else if(Ut==="left"){D=[],ra=At.length;for(var cl=0;cl<ra;cl++)D.push(At[cl])}else if(Ut==="justify"&&yh.encoding==="Identity-H"){D=[],ra=At.length,pn=pn!==0?pn:Mu;for(var Lo=0,mi=0;mi<ra;mi++)if(ss=mi===0?Nr(_e):-Ea,Ra=mi===0?bn(ae):Lo,mi<ra-1){var Ro=j((pn-lo[mi])/(At[mi].split(" ").length-1)),$i=At[mi].split(" ");D.push([$i[0]+" ",Ra,ss]),Lo=0;for(var ks=1;ks<$i.length;ks++){var Gc=(Fu($i[ks-1]+" "+$i[ks])-Fu($i[ks]))*Io+Ro;ks==$i.length-1?D.push([$i[ks],Gc,0]):D.push([$i[ks]+" ",Gc,0]),Lo-=Gc}}else D.push([At[mi],Ra,ss]);D.push(["",Lo,0])}else{if(Ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],ra=At.length,pn=pn!==0?pn:Mu,mi=0;mi<ra;mi++)ss=mi===0?Nr(_e):-Ea,Ra=mi===0?bn(ae):0,mi<ra-1?Yl.push(_(j((pn-lo[mi])/(At[mi].split(" ").length-1)))):Yl.push(0),D.push([At[mi],Ra,ss])}}var dl=typeof Re.R2L=="boolean"?Re.R2L:Ze;dl===!0&&(D=Wl(D,function(Dn,Ln,Pr){return[Dn.split("").reverse().join(""),Ln,Pr]})),dt={text:D,x:ae,y:_e,options:Re,mutex:{pdfEscape:hr,activeFontKey:ft,fonts:Rt,activeFontSize:Le}},An.publish("postProcessText",dt),D=dt.text,Oo=dt.mutex.isHex||!1;var ef=Rt[ft].encoding;ef!=="WinAnsiEncoding"&&ef!=="StandardEncoding"||(D=Wl(D,function(Dn,Ln,Pr){return[gh(Dn),Ln,Pr]})),At=Hl(D),D=[];for(var zu,qu,Bu,Qc=0,tf=1,$u=Array.isArray(At[0])?tf:Qc,Vl="",Kc=function(Dn,Ln,Pr){var Ni="";return Pr instanceof Lt?(Pr=typeof Re.angle=="number"?Hn(Pr,new Lt(1,0,0,1,Dn,Ln)):Hn(new Lt(1,0,0,1,Dn,Ln),Pr),T===C.ADVANCED&&(Pr=Hn(new Lt(1,0,0,-1,0,0),Pr)),Ni=Pr.join(" ")+` Tm
`):Ni=_(Dn)+" "+_(Ln)+` Td
`,Ni},gi=0;gi<At.length;gi++){switch(Vl="",$u){case tf:Bu=(Oo?"<":"(")+At[gi][0]+(Oo?">":")"),zu=parseFloat(At[gi][1]),qu=parseFloat(At[gi][2]);break;case Qc:Bu=(Oo?"<":"(")+At[gi]+(Oo?">":")"),zu=bn(ae),qu=Nr(_e)}Yl!==void 0&&Yl[gi]!==void 0&&(Vl=Yl[gi]+` Tw
`),gi===0?D.push(Vl+Kc(zu,qu,ui)+Bu):$u===Qc?D.push(Vl+Bu):$u===tf&&D.push(Vl+Kc(zu,qu,ui)+Bu)}D=$u===Qc?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var Ks=`BT
/`;return Ks+=ft+" "+Le+` Tf
`,Ks+=_(Le*Qs)+` TL
`,Ks+=Ha+`
`,Ks+=Ca,Ks+=D,re(Ks+="ET"),b[ft]=!0,ki};var ol=g.__private__.clip=g.clip=function(D){return re(D==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return ol("evenodd")},g.__private__.discardPath=g.discardPath=function(){return re("n"),this};var Ei=g.__private__.isValidStyle=function(D){var ae=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(ae=!0),ae};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(D){return Ei(D)&&(d=D),this};var Ba=g.__private__.getStyle=g.getStyle=function(D){var ae=d;switch(D){case"D":case"S":ae="S";break;case"F":ae="f";break;case"FD":case"DF":ae="B";break;case"f":case"f*":case"B":case"B*":ae=D}return ae},No=g.close=function(){return re("h"),this};g.stroke=function(){return re("S"),this},g.fill=function(D){return $a("f",D),this},g.fillEvenOdd=function(D){return $a("f*",D),this},g.fillStroke=function(D){return $a("B",D),this},g.fillStrokeEvenOdd=function(D){return $a("B*",D),this};var $a=function(D,ae){Xr(ae)==="object"?To(ae,D):re(D)},La=function(D){D===null||T===C.ADVANCED&&D===void 0||(D=Ba(D),re(D))};function Ua(D,ae,_e,Re,Ge){var dt=new R0(ae||this.boundingBox,_e||this.xStep,Re||this.yStep,this.gState,Ge||this.matrix);dt.stream=this.stream;var At=D+"$$"+this.cloneIndex+++"$$";return Rr(At,dt),dt}var To=function(D,ae){var _e=Pn[D.key],Re=ln[_e];if(Re instanceof Hh)re("q"),re(ll(ae)),Re.gState&&g.setGState(Re.gState),re(D.matrix.toString()+" cm"),re("/"+_e+" sh"),re("Q");else if(Re instanceof R0){var Ge=new Lt(1,0,0,-1,0,Du());D.matrix&&(Ge=Ge.multiply(D.matrix||ar),_e=Ua.call(Re,D.key,D.boundingBox,D.xStep,D.yStep,Ge).id),re("q"),re("/Pattern cs"),re("/"+_e+" scn"),Re.gState&&g.setGState(Re.gState),re(ae),re("Q")}},ll=function(D){switch(D){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},oo=g.moveTo=function(D,ae){return re(_(j(D))+" "+_(N(ae))+" m"),this},Ss=g.lineTo=function(D,ae){return re(_(j(D))+" "+_(N(ae))+" l"),this},W=g.curveTo=function(D,ae,_e,Re,Ge,dt){return re([_(j(D)),_(N(ae)),_(j(_e)),_(N(Re)),_(j(Ge)),_(N(dt)),"c"].join(" ")),this};g.__private__.line=g.line=function(D,ae,_e,Re,Ge){if(isNaN(D)||isNaN(ae)||isNaN(_e)||isNaN(Re)||!Ei(Ge))throw new Error("Invalid arguments passed to jsPDF.line");return T===C.COMPAT?this.lines([[_e-D,Re-ae]],D,ae,[1,1],Ge||"S"):this.lines([[_e-D,Re-ae]],D,ae,[1,1]).stroke()},g.__private__.lines=g.lines=function(D,ae,_e,Re,Ge,dt){var At,Ot,Ut,vn,pn,qn,ei,ui,ki,_i,Ca,Oo;if(typeof D=="number"&&(Oo=_e,_e=ae,ae=D,D=Oo),Re=Re||[1,1],dt=dt||!1,isNaN(ae)||isNaN(_e)||!Array.isArray(D)||!Array.isArray(Re)||!Ei(Ge)||typeof dt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(oo(ae,_e),At=Re[0],Ot=Re[1],vn=D.length,_i=ae,Ca=_e,Ut=0;Ut<vn;Ut++)(pn=D[Ut]).length===2?(_i=pn[0]*At+_i,Ca=pn[1]*Ot+Ca,Ss(_i,Ca)):(qn=pn[0]*At+_i,ei=pn[1]*Ot+Ca,ui=pn[2]*At+_i,ki=pn[3]*Ot+Ca,_i=pn[4]*At+_i,Ca=pn[5]*Ot+Ca,W(qn,ei,ui,ki,_i,Ca));return dt&&No(),La(Ge),this},g.path=function(D){for(var ae=0;ae<D.length;ae++){var _e=D[ae],Re=_e.c;switch(_e.op){case"m":oo(Re[0],Re[1]);break;case"l":Ss(Re[0],Re[1]);break;case"c":W.apply(this,Re);break;case"h":No()}}return this},g.__private__.rect=g.rect=function(D,ae,_e,Re,Ge){if(isNaN(D)||isNaN(ae)||isNaN(_e)||isNaN(Re)||!Ei(Ge))throw new Error("Invalid arguments passed to jsPDF.rect");return T===C.COMPAT&&(Re=-Re),re([_(j(D)),_(N(ae)),_(j(_e)),_(j(Re)),"re"].join(" ")),La(Ge),this},g.__private__.triangle=g.triangle=function(D,ae,_e,Re,Ge,dt,At){if(isNaN(D)||isNaN(ae)||isNaN(_e)||isNaN(Re)||isNaN(Ge)||isNaN(dt)||!Ei(At))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-D,Re-ae],[Ge-_e,dt-Re],[D-Ge,ae-dt]],D,ae,[1,1],At,!0),this},g.__private__.roundedRect=g.roundedRect=function(D,ae,_e,Re,Ge,dt,At){if(isNaN(D)||isNaN(ae)||isNaN(_e)||isNaN(Re)||isNaN(Ge)||isNaN(dt)||!Ei(At))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ot=4/3*(Math.SQRT2-1);return Ge=Math.min(Ge,.5*_e),dt=Math.min(dt,.5*Re),this.lines([[_e-2*Ge,0],[Ge*Ot,0,Ge,dt-dt*Ot,Ge,dt],[0,Re-2*dt],[0,dt*Ot,-Ge*Ot,dt,-Ge,dt],[2*Ge-_e,0],[-Ge*Ot,0,-Ge,-dt*Ot,-Ge,-dt],[0,2*dt-Re],[0,-dt*Ot,Ge*Ot,-dt,Ge,-dt]],D+Ge,ae,[1,1],At,!0),this},g.__private__.ellipse=g.ellipse=function(D,ae,_e,Re,Ge){if(isNaN(D)||isNaN(ae)||isNaN(_e)||isNaN(Re)||!Ei(Ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var dt=4/3*(Math.SQRT2-1)*_e,At=4/3*(Math.SQRT2-1)*Re;return oo(D+_e,ae),W(D+_e,ae-At,D+dt,ae-Re,D,ae-Re),W(D-dt,ae-Re,D-_e,ae-At,D-_e,ae),W(D-_e,ae+At,D-dt,ae+Re,D,ae+Re),W(D+dt,ae+Re,D+_e,ae+At,D+_e,ae),La(Ge),this},g.__private__.circle=g.circle=function(D,ae,_e,Re){if(isNaN(D)||isNaN(ae)||isNaN(_e)||!Ei(Re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,ae,_e,_e,Re)},g.setFont=function(D,ae,_e){return _e&&(ae=z(ae,_e)),ft=Ws(D,ae,{disableWarning:!1}),this};var ge=g.__private__.getFont=g.getFont=function(){return Rt[Ws.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var D,ae,_e={};for(D in Xt)if(Xt.hasOwnProperty(D))for(ae in _e[D]=[],Xt[D])Xt[D].hasOwnProperty(ae)&&_e[D].push(ae);return _e},g.addFont=function(D,ae,_e,Re,Ge){var dt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&dt.indexOf(arguments[3])!==-1?Ge=arguments[3]:arguments[3]&&dt.indexOf(arguments[3])==-1&&(_e=z(_e,Re)),Ge=Ge||"Identity-H",za.call(this,D,ae,_e,Ge)};var Ie,lt=e.lineWidth||.200025,Zt=g.__private__.getLineWidth=g.getLineWidth=function(){return lt},$t=g.__private__.setLineWidth=g.setLineWidth=function(D){return lt=D,re(_(j(D))+" w"),this};g.__private__.setLineDash=on.API.setLineDash=on.API.setLineDashPattern=function(D,ae){if(D=D||[],ae=ae||0,isNaN(ae)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(_e){return _(j(_e))}).join(" "),ae=_(j(ae)),re("["+D+"] "+ae+" d"),this};var jn=g.__private__.getLineHeight=g.getLineHeight=function(){return Le*Ie};g.__private__.getLineHeight=g.getLineHeight=function(){return Le*Ie};var Cn=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(Ie=D),this},pr=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Ie};Cn(e.lineHeight);var bn=g.__private__.getHorizontalCoordinate=function(D){return j(D)},Nr=g.__private__.getVerticalCoordinate=function(D){return T===C.ADVANCED?D:Vt[B].mediaBox.topRightY-Vt[B].mediaBox.bottomLeftY-j(D)},Aa=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(D){return _(bn(D))},Sr=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(D){return _(Nr(D))},Ar=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return zi(Ar)},g.__private__.setStrokeColor=g.setDrawColor=function(D,ae,_e,Re){return Ar=qi({ch1:D,ch2:ae,ch3:_e,ch4:Re,pdfColorType:"draw",precision:2}),re(Ar),this};var Gr=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return zi(Gr)},g.__private__.setFillColor=g.setFillColor=function(D,ae,_e,Re){return Gr=qi({ch1:D,ch2:ae,ch3:_e,ch4:Re,pdfColorType:"fill",precision:2}),re(Gr),this};var Ha=e.textColor||"0 g",Gs=g.__private__.getTextColor=g.getTextColor=function(){return zi(Ha)};g.__private__.setTextColor=g.setTextColor=function(D,ae,_e,Re){return Ha=qi({ch1:D,ch2:ae,ch3:_e,ch4:Re,pdfColorType:"text",precision:3}),this};var As=e.charSpace,Yd=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(As||0)};g.__private__.setCharSpace=g.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return As=D,this};var ul=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(D){var ae=g.CapJoinStyles[D];if(ae===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ul=ae,re(ae+" J"),this};var jo=0;g.__private__.setLineJoin=g.setLineJoin=function(D){var ae=g.CapJoinStyles[D];if(ae===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return jo=ae,re(ae+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(_(j(D))+" M"),this},g.GState=Xx,g.setGState=function(D){(D=typeof D=="string"?zn[Vr[D]]:Dp(null,D)).equals(ir)||(re("/"+D.id+" gs"),ir=D)};var Dp=function(D,ae){if(!D||!Vr[D]){var _e=!1;for(var Re in zn)if(zn.hasOwnProperty(Re)&&zn[Re].equals(ae)){_e=!0;break}if(_e)ae=zn[Re];else{var Ge="GS"+(Object.keys(zn).length+1).toString(10);zn[Ge]=ae,ae.id=Ge}return D&&(Vr[D]=ae.id),An.publish("addGState",ae),ae}};g.addGState=function(D,ae){return Dp(D,ae),this},g.saveGraphicsState=function(){return re("q"),nn.push({key:ft,size:Le,color:Ha}),this},g.restoreGraphicsState=function(){re("Q");var D=nn.pop();return ft=D.key,Le=D.size,Ha=D.color,ir=null,this},g.setCurrentTransformationMatrix=function(D){return re(D.toString()+" cm"),this},g.comment=function(D){return re("#"+D),this};var Vd=function(D,ae){var _e=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(dt){isNaN(dt)||(_e=parseFloat(dt))}});var Re=ae||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Re},set:function(dt){isNaN(dt)||(Re=parseFloat(dt))}});var Ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ge},set:function(dt){Ge=dt.toString()}}),this},hh=function(D,ae,_e,Re){Vd.call(this,D,ae),this.type="rect";var Ge=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ge},set:function(At){isNaN(At)||(Ge=parseFloat(At))}});var dt=Re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return dt},set:function(At){isNaN(At)||(dt=parseFloat(At))}}),this},ph=function(){this.page=Rn,this.currentPage=B,this.pages=Me.slice(0),this.pagesContext=Vt.slice(0),this.x=Pt,this.y=Nt,this.matrix=Yt,this.width=Hc(B),this.height=Du(B),this.outputDestination=Ve,this.id="",this.objectNumber=-1};ph.prototype.restore=function(){Rn=this.page,B=this.currentPage,Vt=this.pagesContext,Me=this.pages,Pt=this.x,Nt=this.y,Yt=this.matrix,Kd(B,this.width),mh(B,this.height),Ve=this.outputDestination};var Gd=function(D,ae,_e,Re,Ge){Sa.push(new ph),Rn=B=0,Me=[],Pt=D,Nt=ae,Yt=Ge,ko([_e,Re])},km=function(D){if(oi[D])Sa.pop().restore();else{var ae=new ph,_e="Xo"+(Object.keys(wr).length+1).toString(10);ae.id=_e,oi[D]=_e,wr[_e]=ae,An.publish("addFormObject",ae),Sa.pop().restore()}};for(var Qd in g.beginFormObject=function(D,ae,_e,Re,Ge){return Gd(D,ae,_e,Re,Ge),this},g.endFormObject=function(D){return km(D),this},g.doFormObject=function(D,ae){var _e=wr[oi[D]];return re("q"),re(ae.toString()+" cm"),re("/"+_e.id+" Do"),re("Q"),this},g.getFormObject=function(D){var ae=wr[oi[D]];return{x:ae.x,y:ae.y,width:ae.width,height:ae.height,matrix:ae.matrix}},g.save=function(D,ae){return D=D||"generated.pdf",(ae=ae||{}).returnPromise=ae.returnPromise||!1,ae.returnPromise===!1?(Uh(al(Ys()),D),typeof Uh.unload=="function"&&cn.setTimeout&&setTimeout(Uh.unload,911),this):new Promise(function(_e,Re){try{var Ge=Uh(al(Ys()),D);typeof Uh.unload=="function"&&cn.setTimeout&&setTimeout(Uh.unload,911),_e(Ge)}catch(dt){Re(dt.message)}})},on.API)on.API.hasOwnProperty(Qd)&&(Qd==="events"&&on.API.events.length?function(D,ae){var _e,Re,Ge;for(Ge=ae.length-1;Ge!==-1;Ge--)_e=ae[Ge][0],Re=ae[Ge][1],D.subscribe.apply(D,[_e].concat(typeof Re=="function"?[Re]:Re))}(An,on.API.events):g[Qd]=on.API[Qd]);var Hc=g.getPageWidth=function(D){return(Vt[D=D||B].mediaBox.topRightX-Vt[D].mediaBox.bottomLeftX)/et},Kd=g.setPageWidth=function(D,ae){Vt[D].mediaBox.topRightX=ae*et+Vt[D].mediaBox.bottomLeftX},Du=g.getPageHeight=function(D){return(Vt[D=D||B].mediaBox.topRightY-Vt[D].mediaBox.bottomLeftY)/et},mh=g.setPageHeight=function(D,ae){Vt[D].mediaBox.topRightY=ae*et+Vt[D].mediaBox.bottomLeftY};return g.internal={pdfEscape:hr,getStyle:Ba,getFont:ge,getFontSize:Te,getCharSpace:Yd,getTextColor:Gs,getLineHeight:jn,getLineHeightFactor:pr,getLineWidth:Zt,write:be,getHorizontalCoordinate:bn,getVerticalCoordinate:Nr,getCoordinateString:Aa,getVerticalCoordinateString:Sr,collections:{},newObject:dr,newAdditionalObject:bs,newObjectDeferred:fr,newObjectDeferredBegin:Un,getFilters:Zn,putStream:Ci,events:An,scaleFactor:et,pageSize:{getWidth:function(){return Hc(B)},setWidth:function(D){Kd(B,D)},getHeight:function(){return Du(B)},setHeight:function(D){mh(B,D)}},encryptionOptions:f,encryption:li,getEncryptor:Jr,output:Vs,getNumberOfPages:Ou,pages:Me,out:re,f2:Z,f3:O,getPageInfo:ws,getPageInfoByObjId:tn,getCurrentPageInfo:so,getPDFVersion:y,Point:Vd,Rectangle:hh,Matrix:Lt,hasHotfix:sl},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Hc(B)},set:function(D){Kd(B,D)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Du(B)},set:function(D){mh(B,D)},enumerable:!0,configurable:!0}),$l.call(g,Ce),ft="F1",Ul(i,t),An.publish("initialized"),g}D0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},D0.prototype.toHexString=function(e){return e.split("").map(function(n){return("0"+(255&n.charCodeAt(0)).toString(16)).slice(-2)}).join("")},D0.prototype.hexToBytes=function(e){for(var n=[],t=0;t<e.length;t+=2)n.push(String.fromCharCode(parseInt(e.substr(t,2),16)));return n.join("")},D0.prototype.processOwnerPassword=function(e,n){return US($S(n).substr(0,5),e)},D0.prototype.encryptor=function(e,n){var t=$S(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&n,n>>8&255)).substr(0,10);return function(r){return US(t,r)}},Xx.prototype.equals=function(e){var n,t="id,objectNumber,equals";if(!e||Xr(e)!==Xr(this))return!1;var r=0;for(n in this)if(!(t.indexOf(n)>=0)){if(this.hasOwnProperty(n)&&!e.hasOwnProperty(n)||this[n]!==e[n])return!1;r++}for(n in e)e.hasOwnProperty(n)&&t.indexOf(n)<0&&r--;return r===0},on.API={events:[]},on.version="3.0.1";var Ki=on.API,EA=1,jp=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},f0=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Sn=function(e){return e.toFixed(2)},jf=function(e){return e.toFixed(5)};Ki.__acroform__={};var Co=function(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e},J8=function(e){return e*EA},ac=function(e){var n=new hI,t=Bt.internal.getHeight(e)||0,r=Bt.internal.getWidth(e)||0;return n.BBox=[0,0,Number(Sn(r)),Number(Sn(t))],n},vK=Ki.__acroform__.setBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<n},wK=Ki.__acroform__.clearBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<n)},SK=Ki.__acroform__.getBit=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<n)==0?0:1},ua=Ki.__acroform__.getBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return SK(e,n-1)},ca=Ki.__acroform__.setBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return vK(e,n-1)},da=Ki.__acroform__.clearBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return wK(e,n-1)},AK=Ki.__acroform__.calculateCoordinates=function(e,n){var t=n.internal.getHorizontalCoordinate,r=n.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],l=e[3],u={};return u.lowerLeft_X=t(i)||0,u.lowerLeft_Y=r(a+l)||0,u.upperRight_X=t(i+s)||0,u.upperRight_Y=r(a)||0,[Number(Sn(u.lowerLeft_X)),Number(Sn(u.lowerLeft_Y)),Number(Sn(u.upperRight_X)),Number(Sn(u.upperRight_Y))]},CK=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var n=[],t=e._V||e.DV,r=HS(e,t),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;n.push("/Tx BMC"),n.push("q"),n.push("BT"),n.push(e.scope.__private__.encodeColorString(e.color)),n.push("/"+i+" "+Sn(r.fontSize)+" Tf"),n.push("1 0 0 1 0 0 Tm"),n.push(r.text),n.push("ET"),n.push("Q"),n.push("EMC");var a=ac(e);return a.scope=e.scope,a.stream=n.join(`
`),a}},HS=function(e,n){var t=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(n=(n=n.substr(0,1)=="("?n.substr(1):n).substr(n.length-1)==")"?n.substr(0,n.length-1):n).split(" ");i=e.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var a=t,s=Bt.internal.getHeight(e)||0;s=s<0?-s:s;var l=Bt.internal.getWidth(e)||0;l=l<0?-l:l;var u=function(O,j,F){if(O+1<i.length){var N=j+" "+i[O+1][0];return qy(N,e,F).width<=l-4}return!1};a++;e:for(;a>0;){n="",a--;var d,f,m=qy("3",e,a).height,b=e.multiline?s-a:(s-m)/2,g=b+=2,x=0,y=0,A=0;if(a<=0){n=`(...) Tj
`,n+="% Width of Text: "+qy(n,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var w="",C=0,T=0;T<i.length;T++)if(i.hasOwnProperty(T)){var M=!1;if(i[T].length!==1&&A!==i[T].length-1){if((m+2)*(C+2)+2>s)continue e;w+=i[T][A],M=!0,y=T,T--}else{w=(w+=i[T][A]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var R=parseInt(T),z=u(R,w,a),_=T>=i.length-1;if(z&&!_){w+=" ",A=0;continue}if(z||_){if(_)y=R;else if(e.multiline&&(m+2)*(C+2)+2>s)continue e}else{if(!e.multiline||(m+2)*(C+2)+2>s)continue e;y=R}}for(var L="",$=x;$<=y;$++){var Z=i[$];if(e.multiline){if($===y){L+=Z[A]+" ",A=(A+1)%Z.length;continue}if($===x){L+=Z[Z.length-1]+" ";continue}}L+=Z[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,f=qy(L,e,a).width,e.textAlign){case"right":d=l-f-2;break;case"center":d=(l-f)/2;break;case"left":default:d=2}n+=Sn(d)+" "+Sn(g)+` Td
`,n+="("+jp(L)+`) Tj
`,n+=-Sn(d)+` 0 Td
`,g=-(a+2),f=0,x=M?y:y+1,C++,w=""}break}return r.text=n,r.fontSize=a,r},qy=function(e,n,t){var r=n.scope.internal.getFont(n.fontName,n.fontStyle),i=n.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:n.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},EK={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kK=function(e,n){var t={type:"reference",object:e};n.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&n.internal.getPageInfo(e.page).pageContext.annotations.push(t)},_K=function(e,n){for(var t in e)if(e.hasOwnProperty(t)){var r=t,i=e[t];n.internal.newObjectDeferredBegin(i.objId,!0),Xr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},NK=function(e,n){if(n.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ku.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(EK)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");EA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new pI,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&kK(a,t)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(t){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var l=r[s],u=[],d=l.Rect;if(l.Rect&&(l.Rect=AK(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Bt.createDefaultAppearanceStream(l),Xr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=CK(l);u.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var m="";for(var b in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(b)){var g=l.appearanceStreamContent[b];if(m+="/"+b+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var s in g)if(g.hasOwnProperty(s)){var x=g[s];typeof x=="function"&&(x=x.call(i,l)),m+="/"+s+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=g)=="function"&&(x=x.call(i,l)),m+="/"+s+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);m+=">>"}u.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:l.objId}),i.internal.out("endobj")}a&&_K(i.internal.acroformPlugin.xForms,i)})(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},fI=Ki.__acroform__.arrayToPdfArray=function(e,n,t){var r=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Xr(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(n!==void 0&&t&&(r=t.internal.getEncryptor(n)),i+="("+jp(r(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},yw=function(e,n,t){var r=function(i){return i};return n!==void 0&&t&&(r=t.internal.getEncryptor(n)),(e=e||"").toString(),e="("+jp(r(e))+")"},Sc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Sc.prototype.toString=function(){return this.objId+" 0 R"},Sc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Sc.prototype.getKeyValueListForStream=function(){var e=[],n=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in n)if(Object.getOwnPropertyDescriptor(this,n[t]).configurable===!1){var r=n[t],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:fI(i,this.objId,this.scope)}):i instanceof Sc?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var hI=function(){Sc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,n=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Co(hI,Sc);var pI=function(){Sc.call(this);var e,n=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return n.length>0?n:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return n}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+jp(t(e))+")"}},set:function(t){e=t}})};Co(pI,Sc);var ku=function e(){Sc.call(this);var n=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');n=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ua(n,3)},set:function(w){w?this.F=ca(n,3):this.F=da(n,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');t=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Zx)return;a="FieldObject"+e.FieldNum++}var w=function(C){return C};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+jp(w(a))+")"},set:function(w){a=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(w){a=w}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(w){u=w}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/EA:d},set:function(w){d=w}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(w){f=w}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Zx||this instanceof ip))return yw(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=w}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Ka?b:yw(b,this.objId,this.scope)},set:function(w){w=w.toString(),b=this instanceof Ka?w:w.substr(0,1)==="("?f0(w.substr(1,w.length-2)):f0(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ka?f0(b.substr(1,b.length-1)):b},set:function(w){w=w.toString(),b=this instanceof Ka?"/"+w:w}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ka?g:yw(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=this instanceof Ka?w:w.substr(0,1)==="("?f0(w.substr(1,w.length-2)):f0(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ka?f0(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof Ka?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(w){w=!!w,y=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(w){x=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,1)},set:function(w){w?this.Ff=ca(this.Ff,1):this.Ff=da(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,2)},set:function(w){w?this.Ff=ca(this.Ff,2):this.Ff=da(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,3)},set:function(w){w?this.Ff=ca(this.Ff,3):this.Ff=da(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');A=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(A){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};Co(ku,Sc);var $0=function(){ku.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var n=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return fI(n,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(a,s,l){l||(l=1);for(var u,d=[];u=s.exec(a);)d.push(u[l]);return d}(r,/\((.*?)\)/g)),n=i}}),this.getOptions=function(){return n},this.setOptions=function(t){n=t,this.sort&&n.sort()},this.addOption=function(t){t=(t=t||"").toString(),n.push(t),this.sort&&n.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();n.indexOf(t)!==-1&&(n.splice(n.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,18)},set:function(t){t?this.Ff=ca(this.Ff,18):this.Ff=da(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ca(this.Ff,19):this.Ff=da(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,20)},set:function(t){t?(this.Ff=ca(this.Ff,20),n.sort()):this.Ff=da(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,22)},set:function(t){t?this.Ff=ca(this.Ff,22):this.Ff=da(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,23)},set:function(t){t?this.Ff=ca(this.Ff,23):this.Ff=da(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,27)},set:function(t){t?this.Ff=ca(this.Ff,27):this.Ff=da(this.Ff,27)}}),this.hasAppearanceStream=!1};Co($0,ku);var U0=function(){$0.call(this),this.fontName="helvetica",this.combo=!1};Co(U0,$0);var H0=function(){U0.call(this),this.combo=!0};Co(H0,U0);var ux=function(){H0.call(this),this.edit=!0};Co(ux,H0);var Ka=function(){ku.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,15)},set:function(t){t?this.Ff=ca(this.Ff,15):this.Ff=da(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,16)},set:function(t){t?this.Ff=ca(this.Ff,16):this.Ff=da(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,17)},set:function(t){t?this.Ff=ca(this.Ff,17):this.Ff=da(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,26)},set:function(t){t?this.Ff=ca(this.Ff,26):this.Ff=da(this.Ff,26)}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(n).length!==0){var r,i=[];for(r in i.push("<<"),n)i.push("/"+r+" ("+jp(t(n[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Xr(t)==="object"&&(n=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(t){typeof t=="string"&&(n.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Co(Ka,ku);var cx=function(){Ka.call(this),this.pushButton=!0};Co(cx,Ka);var W0=function(){Ka.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n!==void 0?n:[]}})};Co(W0,Ka);var Zx=function(){var e,n;ku.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(i){n=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+jp(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Xr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Bt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Co(Zx,ku),W0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var n in this.Kids)if(this.Kids.hasOwnProperty(n)){var t=this.Kids[n];t.appearanceStreamContent=e.createAppearanceStream(t.optionName),t.caption=e.getCA()}},W0.prototype.createOption=function(e){var n=new Zx;return n.Parent=this,n.optionName=e,this.Kids.push(n),TK.call(this.scope,n),n};var dx=function(){Ka.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Bt.CheckBox.createAppearanceStream()};Co(dx,Ka);var ip=function(){ku.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,13)},set:function(n){n?this.Ff=ca(this.Ff,13):this.Ff=da(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,21)},set:function(n){n?this.Ff=ca(this.Ff,21):this.Ff=da(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,23)},set:function(n){n?this.Ff=ca(this.Ff,23):this.Ff=da(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,24)},set:function(n){n?this.Ff=ca(this.Ff,24):this.Ff=da(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,25)},set:function(n){n?this.Ff=ca(this.Ff,25):this.Ff=da(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,26)},set:function(n){n?this.Ff=ca(this.Ff,26):this.Ff=da(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){Number.isInteger(n)&&(e=n)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Co(ip,ku);var fx=function(){ip.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,14)},set:function(e){e?this.Ff=ca(this.Ff,14):this.Ff=da(this.Ff,14)}}),this.password=!0};Co(fx,ip);var Bt={CheckBox:{createAppearanceStream:function(){return{N:{On:Bt.CheckBox.YesNormal},D:{On:Bt.CheckBox.YesPushDown,Off:Bt.CheckBox.OffPushDown}}},YesPushDown:function(e){var n=ac(e);n.scope=e.scope;var t=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=HS(e,e.caption);return t.push("0.749023 g"),t.push("0 0 "+Sn(Bt.internal.getWidth(e))+" "+Sn(Bt.internal.getHeight(e))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Sn(a.fontSize)+" Tf "+i),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),n.stream=t.join(`
`),n},YesNormal:function(e){var n=ac(e);n.scope=e.scope;var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=Bt.internal.getHeight(e),s=Bt.internal.getWidth(e),l=HS(e,e.caption);return i.push("1 g"),i.push("0 0 "+Sn(s)+" "+Sn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Sn(s-1)+" "+Sn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Sn(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),n.stream=i.join(`
`),n},OffPushDown:function(e){var n=ac(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Sn(Bt.internal.getWidth(e))+" "+Sn(Bt.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join(`
`),n}},RadioButton:{Circle:{createAppearanceStream:function(e){var n={D:{Off:Bt.RadioButton.Circle.OffPushDown},N:{}};return n.N[e]=Bt.RadioButton.Circle.YesNormal,n.D[e]=Bt.RadioButton.Circle.YesPushDown,n},getCA:function(){return"l"},YesNormal:function(e){var n=ac(e);n.scope=e.scope;var t=[],r=Bt.internal.getWidth(e)<=Bt.internal.getHeight(e)?Bt.internal.getWidth(e)/4:Bt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Bt.internal.Bezier_C,a=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+jf(Bt.internal.getWidth(e)/2)+" "+jf(Bt.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n},YesPushDown:function(e){var n=ac(e);n.scope=e.scope;var t=[],r=Bt.internal.getWidth(e)<=Bt.internal.getHeight(e)?Bt.internal.getWidth(e)/4:Bt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Bt.internal.Bezier_C).toFixed(5)),s=Number((r*Bt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+jf(Bt.internal.getWidth(e)/2)+" "+jf(Bt.internal.getHeight(e)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+jf(Bt.internal.getWidth(e)/2)+" "+jf(Bt.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n},OffPushDown:function(e){var n=ac(e);n.scope=e.scope;var t=[],r=Bt.internal.getWidth(e)<=Bt.internal.getHeight(e)?Bt.internal.getWidth(e)/4:Bt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Bt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+jf(Bt.internal.getWidth(e)/2)+" "+jf(Bt.internal.getHeight(e)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n}},Cross:{createAppearanceStream:function(e){var n={D:{Off:Bt.RadioButton.Cross.OffPushDown},N:{}};return n.N[e]=Bt.RadioButton.Cross.YesNormal,n.D[e]=Bt.RadioButton.Cross.YesPushDown,n},getCA:function(){return"8"},YesNormal:function(e){var n=ac(e);n.scope=e.scope;var t=[],r=Bt.internal.calculateCross(e);return t.push("q"),t.push("1 1 "+Sn(Bt.internal.getWidth(e)-2)+" "+Sn(Bt.internal.getHeight(e)-2)+" re"),t.push("W"),t.push("n"),t.push(Sn(r.x1.x)+" "+Sn(r.x1.y)+" m"),t.push(Sn(r.x2.x)+" "+Sn(r.x2.y)+" l"),t.push(Sn(r.x4.x)+" "+Sn(r.x4.y)+" m"),t.push(Sn(r.x3.x)+" "+Sn(r.x3.y)+" l"),t.push("s"),t.push("Q"),n.stream=t.join(`
`),n},YesPushDown:function(e){var n=ac(e);n.scope=e.scope;var t=Bt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Sn(Bt.internal.getWidth(e))+" "+Sn(Bt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Sn(Bt.internal.getWidth(e)-2)+" "+Sn(Bt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Sn(t.x1.x)+" "+Sn(t.x1.y)+" m"),r.push(Sn(t.x2.x)+" "+Sn(t.x2.y)+" l"),r.push(Sn(t.x4.x)+" "+Sn(t.x4.y)+" m"),r.push(Sn(t.x3.x)+" "+Sn(t.x3.y)+" l"),r.push("s"),r.push("Q"),n.stream=r.join(`
`),n},OffPushDown:function(e){var n=ac(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Sn(Bt.internal.getWidth(e))+" "+Sn(Bt.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join(`
`),n}}},createDefaultAppearanceStream:function(e){var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,t=e.scope.__private__.encodeColorString(e.color);return"/"+n+" "+e.fontSize+" Tf "+t}};Bt.internal={Bezier_C:.551915024494,calculateCross:function(e){var n=Bt.internal.getWidth(e),t=Bt.internal.getHeight(e),r=Math.min(n,t);return{x1:{x:(n-r)/2,y:(t-r)/2+r},x2:{x:(n-r)/2+r,y:(t-r)/2},x3:{x:(n-r)/2,y:(t-r)/2},x4:{x:(n-r)/2+r,y:(t-r)/2+r}}}},Bt.internal.getWidth=function(e){var n=0;return Xr(e)==="object"&&(n=J8(e.Rect[2])),n},Bt.internal.getHeight=function(e){var n=0;return Xr(e)==="object"&&(n=J8(e.Rect[3])),n};var TK=Ki.addField=function(e){if(NK(this,e),!(e instanceof ku))throw new Error("Invalid argument passed to jsPDF.addField.");var n;return(n=e).scope.internal.acroformPlugin.printedOut&&(n.scope.internal.acroformPlugin.printedOut=!1,n.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),n.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(n),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ki.AcroFormChoiceField=$0,Ki.AcroFormListBox=U0,Ki.AcroFormComboBox=H0,Ki.AcroFormEditBox=ux,Ki.AcroFormButton=Ka,Ki.AcroFormPushButton=cx,Ki.AcroFormRadioButton=W0,Ki.AcroFormCheckBox=dx,Ki.AcroFormTextField=ip,Ki.AcroFormPasswordField=fx,Ki.AcroFormAppearance=Bt,Ki.AcroForm={ChoiceField:$0,ListBox:U0,ComboBox:H0,EditBox:ux,Button:Ka,PushButton:cx,RadioButton:W0,CheckBox:dx,TextField:ip,PasswordField:fx,Appearance:Bt},on.AcroForm={ChoiceField:$0,ListBox:U0,ComboBox:H0,EditBox:ux,Button:Ka,PushButton:cx,RadioButton:W0,CheckBox:dx,TextField:ip,PasswordField:fx,Appearance:Bt};on.AcroForm;function mI(e){return e.reduce(function(n,t,r){return n[t]=r,n},{})}(function(e){e.__addimage__={};var n="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(O,j){var F,N,G,H,Q,te=n;if((j=j||n)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(z(O))for(Q in t)for(G=t[Q],F=0;F<G.length;F+=1){for(H=!0,N=0;N<G[F].length;N+=1)if(G[F][N]!==void 0&&G[F][N]!==O[N]){H=!1;break}if(H===!0){te=Q;break}}else for(Q in t)for(G=t[Q],F=0;F<G.length;F+=1){for(H=!0,N=0;N<G[F].length;N+=1)if(G[F][N]!==void 0&&G[F][N]!==O.charCodeAt(N)){H=!1;break}if(H===!0){te=Q;break}}return te===n&&j!==n&&(te=j),te},i=function O(j){for(var F=this.internal.write,N=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var H=[];if(H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Image"}),H.push({key:"Width",value:j.width}),H.push({key:"Height",value:j.height}),j.colorSpace===A.INDEXED?H.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(H.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===A.DEVICE_CMYK&&H.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),H.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&H.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var Q="",te=0,oe=j.transparency.length;te<oe;te++)Q+=j.transparency[te]+" "+j.transparency[te]+" ";H.push({key:"Mask",value:"["+Q+"]"})}j.sMask!==void 0&&H.push({key:"SMask",value:j.objectId+1+" 0 R"});var U=j.filter!==void 0?["/"+j.filter]:void 0;if(N({data:j.data,additionalKeyValues:H,alreadyAppliedFilters:U,objectId:j.objectId}),F("endobj"),"sMask"in j&&j.sMask!==void 0){var se="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,q={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:se,data:j.sMask};"filter"in j&&(q.filter=j.filter),O.call(this,q)}if(j.colorSpace===A.INDEXED){var B=this.internal.newObject();N({data:L(new Uint8Array(j.palette)),objectId:B}),F("endobj")}},a=function(){var O=this.internal.collections.addImage_images;for(var j in O)i.call(this,O[j])},s=function(){var O,j=this.internal.collections.addImage_images,F=this.internal.write;for(var N in j)F("/I"+(O=j[N]).index,O.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},u=function(){var O=this.internal.collections.addImage_images;return l.call(this),O},d=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(O){return typeof e["process"+O.toUpperCase()]=="function"},m=function(O){return Xr(O)==="object"&&O.nodeType===1},b=function(O,j){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var F=""+O.getAttribute("src");if(F.indexOf("data:image/")===0)return r1(unescape(F).split("base64,").pop());var N=e.loadFile(F,!0);if(N!==void 0)return N}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var G;switch(j){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;case"JPEG":case"JPG":default:G="image/jpeg"}return r1(O.toDataURL(G,1).split("base64,").pop())}},g=function(O){var j=this.internal.collections.addImage_images;if(j){for(var F in j)if(O===j[F].alias)return j[F]}},x=function(O,j,F){return O||j||(O=-96,j=-96),O<0&&(O=-1*F.width*72/O/this.internal.scaleFactor),j<0&&(j=-1*F.height*72/j/this.internal.scaleFactor),O===0&&(O=j*F.width/F.height),j===0&&(j=O*F.height/F.width),[O,j]},y=function(O,j,F,N,G,H){var Q=x.call(this,F,N,G),te=this.internal.getCoordinateString,oe=this.internal.getVerticalCoordinateString,U=u.call(this);if(F=Q[0],N=Q[1],U[G.index]=G,H){H*=Math.PI/180;var se=Math.cos(H),q=Math.sin(H),B=function(ne){return ne.toFixed(4)},J=[B(se),B(q),B(-1*q),B(se),0,0,"cm"]}this.internal.write("q"),H?(this.internal.write([1,"0","0",1,te(O),oe(j+N),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([te(F),"0","0",te(N),"0","0","cm"].join(" "))):this.internal.write([te(F),"0","0",te(N),te(O),oe(j+N),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},A=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=e.__addimage__.sHashCode=function(O){var j,F,N=0;if(typeof O=="string")for(F=O.length,j=0;j<F;j++)N=(N<<5)-N+O.charCodeAt(j),N|=0;else if(z(O))for(F=O.byteLength/2,j=0;j<F;j++)N=(N<<5)-N+O[j],N|=0;return N},T=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var j=!0;return O.length===0&&(j=!1),O.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(j=!1),j},M=e.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var j=O.indexOf(",");return j<0?null:O.substring(0,j).trim().endsWith("base64")?O.substring(j+1):null},R=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(O){return R()&&O instanceof ArrayBuffer};var z=e.__addimage__.isArrayBufferView=function(O){return R()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},_=e.__addimage__.binaryStringToUint8Array=function(O){for(var j=O.length,F=new Uint8Array(j),N=0;N<j;N++)F[N]=O.charCodeAt(N);return F},L=e.__addimage__.arrayBufferToBinaryString=function(O){for(var j="",F=z(O)?O:new Uint8Array(O),N=0;N<F.length;N+=8192)j+=String.fromCharCode.apply(null,F.subarray(N,N+8192));return j};e.addImage=function(){var O,j,F,N,G,H,Q,te,oe;if(typeof arguments[1]=="number"?(j=n,F=arguments[1],N=arguments[2],G=arguments[3],H=arguments[4],Q=arguments[5],te=arguments[6],oe=arguments[7]):(j=arguments[1],F=arguments[2],N=arguments[3],G=arguments[4],H=arguments[5],Q=arguments[6],te=arguments[7],oe=arguments[8]),Xr(O=arguments[0])==="object"&&!m(O)&&"imageData"in O){var U=O;O=U.imageData,j=U.format||j||n,F=U.x||F||0,N=U.y||N||0,G=U.w||U.width||G,H=U.h||U.height||H,Q=U.alias||Q,te=U.compression||te,oe=U.rotation||U.angle||oe}var se=this.internal.getFilters();if(te===void 0&&se.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(F)||isNaN(N))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var q=$.call(this,O,j,Q,te);return y.call(this,F,N,G,H,q,oe),this};var $=function(O,j,F,N){var G,H,Q;if(typeof O=="string"&&r(O)===n){O=unescape(O);var te=Z(O,!1);(te!==""||(te=e.loadFile(O,!0))!==void 0)&&(O=te)}if(m(O)&&(O=b(O,j)),j=r(O,j),!f(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((Q=F)==null||Q.length===0)&&(F=function(oe){return typeof oe=="string"||z(oe)?C(oe):z(oe.data)?C(oe.data):null}(O)),(G=g.call(this,F))||(R()&&(O instanceof Uint8Array||j==="RGBA"||(H=O,O=_(O))),G=this["process"+j.toUpperCase()](O,d.call(this),F,function(oe){return oe&&typeof oe=="string"&&(oe=oe.toUpperCase()),oe in e.image_compression?oe:w.NONE}(N),H)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},Z=e.__addimage__.convertBase64ToBinaryString=function(O,j){j=typeof j!="boolean"||j;var F,N="";if(typeof O=="string"){var G;F=(G=M(O))!==null&&G!==void 0?G:O;try{N=r1(F)}catch(H){if(j)throw T(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+H.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return N};e.getImageProperties=function(O){var j,F,N="";if(m(O)&&(O=b(O)),typeof O=="string"&&r(O)===n&&((N=Z(O,!1))===""&&(N=e.loadFile(O)||""),O=N),F=r(O),!f(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(!R()||O instanceof Uint8Array||(O=_(O)),!(j=this["process"+F.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=F,j}})(on.API),function(e){var n=function(t){if(t!==void 0&&t!="")return!0};on.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(t){for(var r,i,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,f=!1,m=0;m<d.length&&!f;m++)switch((r=d[m]).type){case"link":(n(r.options.url)||n(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var b=0;b<d.length;b++){r=d[b];var g=this.internal.pdfEscape,x=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(y.objId),C=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+g(w(r.contents))+")",a+=" /Popup "+A.objId+" 0 R",a+=" /P "+u.objId+" 0 R",a+=" /T ("+g(w(C))+") >>",y.content=a;var T=y.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+T,r.open&&(a+=" /Open true"),a+=" >>",A.content=a,this.internal.write(y.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var M=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(x(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+M+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var R=this.annotations._nameMap[r.options.name];r.options.pageNumber=R.page,r.options.top=R.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(x(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var z=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+z+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},e.link=function(t,r,i,a,s){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(t),y:d(r),w:u(t+i),h:d(r+a)},options:s,type:"link"})},e.textWithLink=function(t,r,i,a){var s,l,u=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var f=this.splitTextToSize(t,l).length;s=Math.ceil(d*f)}else l=u,s=d;return this.text(t,r,i,a),i+=.2*d,a.align==="center"&&(r-=u/2),a.align==="right"&&(r-=u),this.link(r,i-d,l,s,a),u},e.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(on.API),function(e){var n={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(y){return n[y.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},l=e.__arabicParser__.isArabicEndLetter=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(y){return s(y)&&i.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(y){var A=0,w=t,C="",T=0;for(A=0;A<y.length;A+=1)w[y.charCodeAt(A)]!==void 0?(T++,typeof(w=w[y.charCodeAt(A)])=="number"&&(C+=String.fromCharCode(w),w=t,T=0),A===y.length-1&&(w=t,C+=y.charAt(A-(T-1)),A-=T-1,T=0)):(w=t,C+=y.charAt(A-T),A-=T,T=0);return C};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var b=e.__arabicParser__.getCorrectForm=function(y,A,w){return s(y)?a(y)===!1?-1:!d(y)||!s(A)&&!s(w)||!s(w)&&l(A)||l(y)&&!s(A)||l(y)&&u(A)||l(y)&&l(A)?0:f(y)&&s(A)&&!l(A)&&s(w)&&d(w)?3:l(y)||!s(w)?1:2:-1},g=function(y){var A=0,w=0,C=0,T="",M="",R="",z=(y=y||"").split("\\s+"),_=[];for(A=0;A<z.length;A+=1){for(_.push(""),w=0;w<z[A].length;w+=1)T=z[A][w],M=z[A][w-1],R=z[A][w+1],s(T)?(C=b(T,M,R),_[A]+=C!==-1?String.fromCharCode(n[T.charCodeAt(0)][C]):T):_[A]+=T;_[A]=m(_[A])}return _.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var y,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(A)){var C=0;for(w=[],C=0;C<A.length;C+=1)Array.isArray(A[C])?w.push([g(A[C][0]),A[C][1],A[C][2]]):w.push([g(A[C])]);y=w}else y=g(A);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",x])}(on.API),on.API.autoPrint=function(e){var n;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+n+" 0 R")})}return this},function(e){var n=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};n.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},n.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new n,this.canvas.pdf=this}])}(on.API),function(e){var n={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},n),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(y){b=y}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(y){x=y}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,d){r.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),m=d.font||this.getFont(),b=d.scaleFactor||this.internal.scaleFactor,g=0,x=0,y=0,A=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var w=d.maxWidth;w>0?typeof u=="string"?u=this.splitTextToSize(u,w):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(T,M){return T.concat(A.splitTextToSize(M,w))},[])):u=Array.isArray(u)?u:[u];for(var C=0;C<u.length;C++)g<(y=this.getStringUnitWidth(u[C],{font:m})*f)&&(g=y);return g!==0&&(x=u.length),{w:g/=b,h:Math.max((x*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/b,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||n;return this.internal.__cell__.lastCell=new a(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var u;u=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,m=this.internal.__cell__.margins||n,b=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=m.top,g&&b&&(this.printHeaderRow(u.lineNumber,!0),u.y+=b[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};e.table=function(u,d,f,m,b){if(r.call(this),!f)throw new Error("No data for PDF table.");var g,x,y,A,w=[],C=[],T=[],M={},R={},z=[],_=[],L=(b=b||{}).autoSize||!1,$=b.printHeaders!==!1,Z=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,O=b.margins||Object.assign({width:this.getPageWidth()},n),j=typeof b.padding=="number"?b.padding:3,F=b.headerBackgroundColor||"#c8c8c8",N=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=$,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=Z,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=N,this.setFontSize(Z),m==null)C=w=Object.keys(f[0]),T=w.map(function(){return"left"});else if(Array.isArray(m)&&Xr(m[0])==="object")for(w=m.map(function(U){return U.name}),C=m.map(function(U){return U.prompt||U.name||""}),T=m.map(function(U){return U.align||"left"}),g=0;g<m.length;g+=1)R[m[g].name]=m[g].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(C=w=m,T=w.map(function(){return"left"}));if(L||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<w.length;g+=1){for(M[A=w[g]]=f.map(function(U){return U[A]}),this.setFont(void 0,"bold"),z.push(this.getTextDimensions(C[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=M[A],this.setFont(void 0,"normal"),y=0;y<x.length;y+=1)z.push(this.getTextDimensions(x[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);R[A]=Math.max.apply(null,z)+j+j,z=[]}if($){var G={};for(g=0;g<w.length;g+=1)G[w[g]]={},G[w[g]].text=C[g],G[w[g]].align=T[g];var H=l.call(this,G,R);_=w.map(function(U){return new a(u,d,R[U],H,G[U].text,void 0,G[U].align)}),this.setTableHeaderRow(_),this.printHeaderRow(1,!1)}var Q=m.reduce(function(U,se){return U[se.name]=se.align,U},{});for(g=0;g<f.length;g+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:g,data:f[g]},this);var te=l.call(this,f[g],R);for(y=0;y<w.length;y+=1){var oe=f[g][w[y]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:g,col:y,data:oe},this),s.call(this,new a(u,d,R[w[y]],te,oe,g+2,Q[w[y]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var l=function(u,d){var f=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(u).map(function(g){var x=u[g];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/b+f+f},this).reduce(function(g,x){return Math.max(g,x)},0)};e.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,b.push(f)),f.lineNumber=u;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,f),this.setTextColor(x)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),t=!1}}(on.API);var gI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},bI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],WS=mI(bI),yI=[100,200,300,400,500,600,700,800,900],jK=mI(yI);function YS(e){var n=e.family.replace(/"|'/g,"").toLowerCase(),t=function(a){return gI[a=a||"normal"]?a:"normal"}(e.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(a){return typeof WS[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:n,style:t,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:n,style:[i,t,r].join(" ")}}}function e4(e,n,t,r){var i;for(i=t;i>=0&&i<n.length;i+=r)if(e[n[i]])return e[n[i]];for(i=t;i>=0&&i<n.length;i-=r)if(e[n[i]])return e[n[i]]}var OK={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},t4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function n4(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function IK(e,n,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},OK,t.genericFontFamilies||{}),a=null,s=null,l=0;l<n.length;++l)if(i[(a=YS(n[l])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){s=e[a.family];break}if(!(s=s||e[r]))throw new Error("Could not find a font-family for the rule '"+n4(a)+"' and default family '"+r+"'.");if(s=function(u,d){if(d[u])return d[u];var f=WS[u],m=f<=WS.normal?-1:1,b=e4(d,bI,f,m);if(!b)throw new Error("Could not find a matching font-stretch value for "+u);return b}(a.stretch,s),s=function(u,d){if(d[u])return d[u];for(var f=gI[u],m=0;m<f.length;++m)if(d[f[m]])return d[f[m]];throw new Error("Could not find a matching font-style for "+u)}(a.style,s),!(s=function(u,d){if(d[u])return d[u];if(u===400&&d[500])return d[500];if(u===500&&d[400])return d[400];var f=jK[u],m=e4(d,yI,f,u<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+u);return m}(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+n4(a)+"'.");return s}function r4(e){return e.trimLeft()}function DK(e,n){for(var t=0;t<e.length;){if(e.charAt(t)===n)return[e.substring(0,t),e.substring(t+1)];t+=1}return null}function LK(e){var n=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return n===null?null:[n[0],e.substring(n[0].length)]}var By,i4,a4,xw=["times"];(function(e){var n,t,r,i,a,s,l,u,d,f=function(q){return q=q||{},this.isStrokeTransparent=q.isStrokeTransparent||!1,this.strokeOpacity=q.strokeOpacity||1,this.strokeStyle=q.strokeStyle||"#000000",this.fillStyle=q.fillStyle||"#000000",this.isFillTransparent=q.isFillTransparent||!1,this.fillOpacity=q.fillOpacity||1,this.font=q.font||"10px sans-serif",this.textBaseline=q.textBaseline||"alphabetic",this.textAlign=q.textAlign||"left",this.lineWidth=q.lineWidth||1,this.lineJoin=q.lineJoin||"miter",this.lineCap=q.lineCap||"butt",this.path=q.path||[],this.transform=q.transform!==void 0?q.transform.clone():new u,this.globalCompositeOperation=q.globalCompositeOperation||"normal",this.globalAlpha=q.globalAlpha||1,this.clip_path=q.clip_path||[],this.currentPoint=q.currentPoint||new s,this.miterLimit=q.miterLimit||10,this.lastPoint=q.lastPoint||new s,this.lineDashOffset=q.lineDashOffset||0,this.lineDash=q.lineDash||[],this.margin=q.margin||[0,0,0,0],this.prevPageLastElemOffset=q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof q.ignoreClearRect!="boolean"||q.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),n=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,d=new f}]);var m=function(q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=q;Object.defineProperty(this,"pdf",{get:function(){return B}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Ae){J=!!Ae}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(Ae){ne=!!Ae}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(Ae){isNaN(Ae)||(le=Ae)}});var Se=0;Object.defineProperty(this,"posY",{get:function(){return Se},set:function(Ae){isNaN(Ae)||(Se=Ae)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Ae){var re;typeof Ae=="number"?re=[Ae,Ae,Ae,Ae]:((re=new Array(4))[0]=Ae[0],re[1]=Ae.length>=2?Ae[1]:re[0],re[2]=Ae.length>=3?Ae[2]:re[0],re[3]=Ae.length>=4?Ae[3]:re[1]),d.margin=re}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(Ae){xe=Ae}});var ke=0;Object.defineProperty(this,"lastBreak",{get:function(){return ke},set:function(Ae){ke=Ae}});var De=[];Object.defineProperty(this,"pageBreaks",{get:function(){return De},set:function(Ae){De=Ae}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Ae){Ae instanceof f&&(d=Ae)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Ae){d.path=Ae}});var Me=[];Object.defineProperty(this,"ctxStack",{get:function(){return Me},set:function(Ae){Me=Ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ae){var re;re=b(Ae),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ae){var re=b(Ae);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ae){["butt","round","square"].indexOf(Ae)!==-1&&(this.ctx.lineCap=Ae,this.pdf.setLineCap(Ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ae){isNaN(Ae)||(this.ctx.lineWidth=Ae,this.pdf.setLineWidth(Ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ae){["bevel","round","miter"].indexOf(Ae)!==-1&&(this.ctx.lineJoin=Ae,this.pdf.setLineJoin(Ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ae){isNaN(Ae)||(this.ctx.miterLimit=Ae,this.pdf.setMiterLimit(Ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ae){this.ctx.textBaseline=Ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ae){["right","end","center","left","start"].indexOf(Ae)!==-1&&(this.ctx.textAlign=Ae)}});var He=null;function Ve(Ae,re){if(He===null){var be=function(fe){var Ce=[];return Object.keys(fe).forEach(function(Le){fe[Le].forEach(function(qe){var Te=null;switch(qe){case"bold":Te={family:Le,weight:"bold"};break;case"italic":Te={family:Le,style:"italic"};break;case"bolditalic":Te={family:Le,weight:"bold",style:"italic"};break;case"":case"normal":Te={family:Le}}Te!==null&&(Te.ref={name:Le,style:qe},Ce.push(Te))})}),Ce}(Ae.getFontList());He=function(fe){for(var Ce={},Le=0;Le<fe.length;++Le){var qe=YS(fe[Le]),Te=qe.family,Ze=qe.stretch,ut=qe.style,rt=qe.weight;Ce[Te]=Ce[Te]||{},Ce[Te][Ze]=Ce[Te][Ze]||{},Ce[Te][Ze][ut]=Ce[Te][Ze][ut]||{},Ce[Te][Ze][ut][rt]=qe}return Ce}(be.concat(re))}return He}var Y=null;Object.defineProperty(this,"fontFaces",{get:function(){return Y},set:function(Ae){He=null,Y=Ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ae){var re;if(this.ctx.font=Ae,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ae))!==null){var be=re[1];re[2];var fe=re[3],Ce=re[4];re[5];var Le=re[6],qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ce)[2];Ce=Math.floor(qe==="px"?parseFloat(Ce)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(Ce)*this.pdf.getFontSize():parseFloat(Ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ce);var Te=function(Oe){var ft,et,Pt=[],Nt=Oe.trim();if(Nt==="")return xw;if(Nt in t4)return[t4[Nt]];for(;Nt!=="";){switch(et=null,ft=(Nt=r4(Nt)).charAt(0)){case'"':case"'":et=DK(Nt.substring(1),ft);break;default:et=LK(Nt)}if(et===null||(Pt.push(et[0]),(Nt=r4(et[1]))!==""&&Nt.charAt(0)!==","))return xw;Nt=Nt.replace(/^,/,"")}return Pt}(Le);if(this.fontFaces){var Ze=IK(Ve(this.pdf,this.fontFaces),Te.map(function(Oe){return{family:Oe,stretch:"normal",weight:fe,style:be}}));this.pdf.setFont(Ze.ref.name,Ze.ref.style)}else{var ut="";(fe==="bold"||parseInt(fe,10)>=700||be==="bold")&&(ut="bold"),be==="italic"&&(ut+="italic"),ut.length===0&&(ut="normal");for(var rt="",Pe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ve=0;ve<Te.length;ve++){if(this.pdf.internal.getFont(Te[ve],ut,{noFallback:!0,disableWarning:!0})!==void 0){rt=Te[ve];break}if(ut==="bolditalic"&&this.pdf.internal.getFont(Te[ve],"bold",{noFallback:!0,disableWarning:!0})!==void 0)rt=Te[ve],ut="bold";else if(this.pdf.internal.getFont(Te[ve],"normal",{noFallback:!0,disableWarning:!0})!==void 0){rt=Te[ve],ut="normal";break}}if(rt===""){for(var Ne=0;Ne<Te.length;Ne++)if(Pe[Te[Ne]]){rt=Pe[Te[Ne]];break}}rt=rt===""?"Times":rt,this.pdf.setFont(rt,ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ae){this.ctx.globalCompositeOperation=Ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ae){this.ctx.globalAlpha=Ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ae){this.ctx.lineDashOffset=Ae,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ae){this.ctx.lineDash=Ae,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ae){this.ctx.ignoreClearRect=!!Ae}})};m.prototype.setLineDash=function(q){this.lineDash=q},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){M.call(this,"fill",!1)},m.prototype.stroke=function(){M.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(q,B){if(isNaN(q)||isNaN(B))throw Kr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new s(q,B));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new s(q,B)},m.prototype.closePath=function(){var q=new s(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&Xr(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){q=new s(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(q.x,q.y)},m.prototype.lineTo=function(q,B){if(isNaN(q)||isNaN(B))throw Kr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new s(q,B));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new s(J.x,J.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),M.call(this,null,!0)},m.prototype.quadraticCurveTo=function(q,B,J,ne){if(isNaN(J)||isNaN(ne)||isNaN(q)||isNaN(B))throw Kr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new s(J,ne)),Se=this.ctx.transform.applyToPoint(new s(q,B));this.path.push({type:"qct",x1:Se.x,y1:Se.y,x:le.x,y:le.y}),this.ctx.lastPoint=new s(le.x,le.y)},m.prototype.bezierCurveTo=function(q,B,J,ne,le,Se){if(isNaN(le)||isNaN(Se)||isNaN(q)||isNaN(B)||isNaN(J)||isNaN(ne))throw Kr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new s(le,Se)),ke=this.ctx.transform.applyToPoint(new s(q,B)),De=this.ctx.transform.applyToPoint(new s(J,ne));this.path.push({type:"bct",x1:ke.x,y1:ke.y,x2:De.x,y2:De.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new s(xe.x,xe.y)},m.prototype.arc=function(q,B,J,ne,le,Se){if(isNaN(q)||isNaN(B)||isNaN(J)||isNaN(ne)||isNaN(le))throw Kr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Se=!!Se,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new s(q,B));q=xe.x,B=xe.y;var ke=this.ctx.transform.applyToPoint(new s(0,J)),De=this.ctx.transform.applyToPoint(new s(0,0));J=Math.sqrt(Math.pow(ke.x-De.x,2)+Math.pow(ke.y-De.y,2))}Math.abs(le-ne)>=2*Math.PI&&(ne=0,le=2*Math.PI),this.path.push({type:"arc",x:q,y:B,radius:J,startAngle:ne,endAngle:le,counterclockwise:Se})},m.prototype.arcTo=function(q,B,J,ne,le){throw new Error("arcTo not implemented.")},m.prototype.rect=function(q,B,J,ne){if(isNaN(q)||isNaN(B)||isNaN(J)||isNaN(ne))throw Kr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(q,B),this.lineTo(q+J,B),this.lineTo(q+J,B+ne),this.lineTo(q,B+ne),this.lineTo(q,B),this.lineTo(q+J,B),this.lineTo(q,B)},m.prototype.fillRect=function(q,B,J,ne){if(isNaN(q)||isNaN(B)||isNaN(J)||isNaN(ne))throw Kr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(q,B,J,ne),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},m.prototype.strokeRect=function(q,B,J,ne){if(isNaN(q)||isNaN(B)||isNaN(J)||isNaN(ne))throw Kr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(q,B,J,ne),this.stroke())},m.prototype.clearRect=function(q,B,J,ne){if(isNaN(q)||isNaN(B)||isNaN(J)||isNaN(ne))throw Kr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(q,B,J,ne))},m.prototype.save=function(q){q=typeof q!="boolean"||q;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),q){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},m.prototype.restore=function(q){q=typeof q!="boolean"||q;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(B),q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(q){var B,J,ne,le;if(q.isCanvasGradient===!0&&(q=q.getColor()),!q)return{r:0,g:0,b:0,a:0,style:q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(q))B=0,J=0,ne=0,le=0;else{var Se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(q);if(Se!==null)B=parseInt(Se[1]),J=parseInt(Se[2]),ne=parseInt(Se[3]),le=1;else if((Se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(q))!==null)B=parseInt(Se[1]),J=parseInt(Se[2]),ne=parseInt(Se[3]),le=parseFloat(Se[4]);else{if(le=1,typeof q=="string"&&q.charAt(0)!=="#"){var xe=new uI(q);q=xe.ok?xe.toHex():"#000000"}q.length===4?(B=q.substring(1,2),B+=B,J=q.substring(2,3),J+=J,ne=q.substring(3,4),ne+=ne):(B=q.substring(1,3),J=q.substring(3,5),ne=q.substring(5,7)),B=parseInt(B,16),J=parseInt(J,16),ne=parseInt(ne,16)}}return{r:B,g:J,b:ne,a:le,style:q}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(q,B,J,ne){if(isNaN(B)||isNaN(J)||typeof q!="string")throw Kr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!g.call(this)){var le=te(this.ctx.transform.rotation),Se=this.ctx.transform.scaleX;j.call(this,{text:q,x:B,y:J,scale:Se,angle:le,align:this.textAlign,maxWidth:ne})}},m.prototype.strokeText=function(q,B,J,ne){if(isNaN(B)||isNaN(J)||typeof q!="string")throw Kr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){ne=isNaN(ne)?void 0:ne;var le=te(this.ctx.transform.rotation),Se=this.ctx.transform.scaleX;j.call(this,{text:q,x:B,y:J,scale:Se,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:ne})}},m.prototype.measureText=function(q){if(typeof q!="string")throw Kr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,J=this.pdf.internal.scaleFactor,ne=B.internal.getFontSize(),le=B.getStringUnitWidth(q)*ne/B.internal.scaleFactor,Se=function(xe){var ke=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this};return new Se({width:le*=Math.round(96*J/72*1e4)/1e4})},m.prototype.scale=function(q,B){if(isNaN(q)||isNaN(B))throw Kr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new u(q,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},m.prototype.rotate=function(q){if(isNaN(q))throw Kr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new u(Math.cos(q),Math.sin(q),-Math.sin(q),Math.cos(q),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},m.prototype.translate=function(q,B){if(isNaN(q)||isNaN(B))throw Kr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new u(1,0,0,1,q,B);this.ctx.transform=this.ctx.transform.multiply(J)},m.prototype.transform=function(q,B,J,ne,le,Se){if(isNaN(q)||isNaN(B)||isNaN(J)||isNaN(ne)||isNaN(le)||isNaN(Se))throw Kr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new u(q,B,J,ne,le,Se);this.ctx.transform=this.ctx.transform.multiply(xe)},m.prototype.setTransform=function(q,B,J,ne,le,Se){q=isNaN(q)?1:q,B=isNaN(B)?0:B,J=isNaN(J)?0:J,ne=isNaN(ne)?1:ne,le=isNaN(le)?0:le,Se=isNaN(Se)?0:Se,this.ctx.transform=new u(q,B,J,ne,le,Se)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(q,B,J,ne,le,Se,xe,ke,De){var Me=this.pdf.getImageProperties(q),He=1,Ve=1,Y=1,Ae=1;ne!==void 0&&ke!==void 0&&(Y=ke/ne,Ae=De/le,He=Me.width/ne*ke/ne,Ve=Me.height/le*De/le),Se===void 0&&(Se=B,xe=J,B=0,J=0),ne!==void 0&&ke===void 0&&(ke=ne,De=le),ne===void 0&&ke===void 0&&(ke=Me.width,De=Me.height);for(var re,be=this.ctx.transform.decompose(),fe=te(be.rotate.shx),Ce=new u,Le=(Ce=(Ce=(Ce=Ce.multiply(be.translate)).multiply(be.skew)).multiply(be.scale)).applyToRectangle(new l(Se-B*Y,xe-J*Ae,ne*He,le*Ve)),qe=A.call(this,Le),Te=[],Ze=0;Ze<qe.length;Ze+=1)Te.indexOf(qe[Ze])===-1&&Te.push(qe[Ze]);if(T(Te),this.autoPaging)for(var ut=Te[0],rt=Te[Te.length-1],Pe=ut;Pe<rt+1;Pe++){this.pdf.setPage(Pe);var ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ne=Pe===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=Pe===1?0:Oe+(Pe-2)*ft;if(this.ctx.clip_path.length!==0){var Pt=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(re,this.posX+this.margin[3],-et+Ne+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=Pt}var Nt=JSON.parse(JSON.stringify(Le));Nt=C([Nt],this.posX+this.margin[3],-et+Ne+this.ctx.prevPageLastElemOffset)[0];var Yt=(Pe>ut||Pe<rt)&&y.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ve,ft,null).clip().discardPath()),this.pdf.addImage(q,"JPEG",Nt.x,Nt.y,Nt.w,Nt.h,null,null,fe),Yt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(q,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,fe)};var A=function(q,B,J){var ne=[];B=B||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(q.type){default:case"mt":case"lt":ne.push(Math.floor((q.y+le)/J)+1);break;case"arc":ne.push(Math.floor((q.y+le-q.radius)/J)+1),ne.push(Math.floor((q.y+le+q.radius)/J)+1);break;case"qct":var Se=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x,q.y);ne.push(Math.floor((Se.y+le)/J)+1),ne.push(Math.floor((Se.y+Se.h+le)/J)+1);break;case"bct":var xe=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x2,q.y2,q.x,q.y);ne.push(Math.floor((xe.y+le)/J)+1),ne.push(Math.floor((xe.y+xe.h+le)/J)+1);break;case"rect":ne.push(Math.floor((q.y+le)/J)+1),ne.push(Math.floor((q.y+q.h+le)/J)+1)}for(var ke=0;ke<ne.length;ke+=1)for(;this.pdf.internal.getNumberOfPages()<ne[ke];)w.call(this);return ne},w=function(){var q=this.fillStyle,B=this.strokeStyle,J=this.font,ne=this.lineCap,le=this.lineWidth,Se=this.lineJoin;this.pdf.addPage(),this.fillStyle=q,this.strokeStyle=B,this.font=J,this.lineCap=ne,this.lineWidth=le,this.lineJoin=Se},C=function(q,B,J){for(var ne=0;ne<q.length;ne++)switch(q[ne].type){case"bct":q[ne].x2+=B,q[ne].y2+=J;case"qct":q[ne].x1+=B,q[ne].y1+=J;case"mt":case"lt":case"arc":default:q[ne].x+=B,q[ne].y+=J}return q},T=function(q){return q.sort(function(B,J){return B-J})},M=function(q,B){for(var J,ne,le=this.fillStyle,Se=this.strokeStyle,xe=this.lineCap,ke=this.lineWidth,De=Math.abs(ke*this.ctx.transform.scaleX),Me=this.lineJoin,He=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),Y=[],Ae=0;Ae<Ve.length;Ae++)if(Ve[Ae].x!==void 0)for(var re=A.call(this,Ve[Ae]),be=0;be<re.length;be+=1)Y.indexOf(re[be])===-1&&Y.push(re[be]);for(var fe=0;fe<Y.length;fe++)for(;this.pdf.internal.getNumberOfPages()<Y[fe];)w.call(this);if(T(Y),this.autoPaging)for(var Ce=Y[0],Le=Y[Y.length-1],qe=Ce;qe<Le+1;qe++){this.pdf.setPage(qe),this.fillStyle=le,this.strokeStyle=Se,this.lineCap=xe,this.lineWidth=De,this.lineJoin=Me;var Te=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=qe===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pe=qe===1?0:ut+(qe-2)*rt;if(this.ctx.clip_path.length!==0){var ve=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(J,this.posX+this.margin[3],-Pe+Ze+this.ctx.prevPageLastElemOffset),R.call(this,q,!0),this.path=ve}if(ne=JSON.parse(JSON.stringify(He)),this.path=C(ne,this.posX+this.margin[3],-Pe+Ze+this.ctx.prevPageLastElemOffset),B===!1||qe===0){var Ne=(qe>Ce||qe<Le)&&y.call(this);Ne&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Te,rt,null).clip().discardPath()),R.call(this,q,B),Ne&&this.pdf.restoreGraphicsState()}this.lineWidth=ke}else this.lineWidth=De,R.call(this,q,B),this.lineWidth=ke;this.path=He},R=function(q,B){if((q!=="stroke"||B||!x.call(this))&&(q==="stroke"||B||!g.call(this))){for(var J,ne,le=[],Se=this.path,xe=0;xe<Se.length;xe++){var ke=Se[xe];switch(ke.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:ke,deltas:[],abs:[]});break;case"lt":var De=le.length;if(Se[xe-1]&&!isNaN(Se[xe-1].x)&&(J=[ke.x-Se[xe-1].x,ke.y-Se[xe-1].y],De>0)){for(;De>=0;De--)if(le[De-1].close!==!0&&le[De-1].begin!==!0){le[De-1].deltas.push(J),le[De-1].abs.push(ke);break}}break;case"bct":J=[ke.x1-Se[xe-1].x,ke.y1-Se[xe-1].y,ke.x2-Se[xe-1].x,ke.y2-Se[xe-1].y,ke.x-Se[xe-1].x,ke.y-Se[xe-1].y],le[le.length-1].deltas.push(J);break;case"qct":var Me=Se[xe-1].x+2/3*(ke.x1-Se[xe-1].x),He=Se[xe-1].y+2/3*(ke.y1-Se[xe-1].y),Ve=ke.x+2/3*(ke.x1-ke.x),Y=ke.y+2/3*(ke.y1-ke.y),Ae=ke.x,re=ke.y;J=[Me-Se[xe-1].x,He-Se[xe-1].y,Ve-Se[xe-1].x,Y-Se[xe-1].y,Ae-Se[xe-1].x,re-Se[xe-1].y],le[le.length-1].deltas.push(J);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(ke)}}ne=B?null:q==="stroke"?"stroke":"fill";for(var be=!1,fe=0;fe<le.length;fe++)if(le[fe].arc)for(var Ce=le[fe].abs,Le=0;Le<Ce.length;Le++){var qe=Ce[Le];qe.type==="arc"?L.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,B,!be):F.call(this,qe.x,qe.y),be=!0}else if(le[fe].close===!0)this.pdf.internal.out("h"),be=!1;else if(le[fe].begin!==!0){var Te=le[fe].start.x,Ze=le[fe].start.y;N.call(this,le[fe].deltas,Te,Ze),be=!0}ne&&$.call(this,ne),B&&Z.call(this)}},z=function(q){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return q-J;case"top":return q+B-J;case"hanging":return q+B-2*J;case"middle":return q+B/2-J;case"ideographic":return q;case"alphabetic":default:return q}},_=function(q){return q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var q=function(){};return q.colorStops=[],q.addColorStop=function(B,J){this.colorStops.push([B,J])},q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},q.isCanvasGradient=!0,q},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(q,B,J,ne,le,Se,xe,ke,De){for(var Me=H.call(this,J,ne,le,Se),He=0;He<Me.length;He++){var Ve=Me[He];He===0&&(De?O.call(this,Ve.x1+q,Ve.y1+B):F.call(this,Ve.x1+q,Ve.y1+B)),G.call(this,q,B,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}ke?Z.call(this):$.call(this,xe)},$=function(q){switch(q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Z=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(q,B){this.pdf.internal.out(t(q)+" "+r(B)+" m")},j=function(q){var B;switch(q.align){case"right":case"end":B="right";break;case"center":B="center";break;case"left":case"start":default:B="left"}var J=this.pdf.getTextDimensions(q.text),ne=z.call(this,q.y),le=_.call(this,ne)-J.h,Se=this.ctx.transform.applyToPoint(new s(q.x,ne)),xe=this.ctx.transform.decompose(),ke=new u;ke=(ke=(ke=ke.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var De,Me,He,Ve=this.ctx.transform.applyToRectangle(new l(q.x,ne,J.w,J.h)),Y=ke.applyToRectangle(new l(q.x,le,J.w,J.h)),Ae=A.call(this,Y),re=[],be=0;be<Ae.length;be+=1)re.indexOf(Ae[be])===-1&&re.push(Ae[be]);if(T(re),this.autoPaging)for(var fe=re[0],Ce=re[re.length-1],Le=fe;Le<Ce+1;Le++){this.pdf.setPage(Le);var qe=Le===1?this.posY+this.margin[0]:this.margin[0],Te=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[2],ut=Ze-this.margin[0],rt=this.pdf.internal.pageSize.width-this.margin[1],Pe=rt-this.margin[3],ve=Le===1?0:Te+(Le-2)*ut;if(this.ctx.clip_path.length!==0){var Ne=this.path;De=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(De,this.posX+this.margin[3],-1*ve+qe),R.call(this,"fill",!0),this.path=Ne}var Oe=C([JSON.parse(JSON.stringify(Y))],this.posX+this.margin[3],-ve+qe+this.ctx.prevPageLastElemOffset)[0];q.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*q.scale),He=this.lineWidth,this.lineWidth=He*q.scale);var ft=this.autoPaging!=="text";if(ft||Oe.y+Oe.h<=Ze){if(ft||Oe.y>=qe&&Oe.x<=rt){var et=ft?q.text:this.pdf.splitTextToSize(q.text,q.maxWidth||rt-Oe.x)[0],Pt=C([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-ve+qe+this.ctx.prevPageLastElemOffset)[0],Nt=ft&&(Le>fe||Le<Ce)&&y.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pe,ut,null).clip().discardPath()),this.pdf.text(et,Pt.x,Pt.y,{angle:q.angle,align:B,renderingMode:q.renderingMode}),Nt&&this.pdf.restoreGraphicsState()}}else Oe.y<Ze&&(this.ctx.prevPageLastElemOffset+=Ze-Oe.y);q.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=He)}else q.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*q.scale),He=this.lineWidth,this.lineWidth=He*q.scale),this.pdf.text(q.text,Se.x+this.posX,Se.y+this.posY,{angle:q.angle,align:B,renderingMode:q.renderingMode,maxWidth:q.maxWidth}),q.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=He)},F=function(q,B,J,ne){J=J||0,ne=ne||0,this.pdf.internal.out(t(q+J)+" "+r(B+ne)+" l")},N=function(q,B,J){return this.pdf.lines(q,B,J,null,null)},G=function(q,B,J,ne,le,Se,xe,ke){this.pdf.internal.out([n(i(J+q)),n(a(ne+B)),n(i(le+q)),n(a(Se+B)),n(i(xe+q)),n(a(ke+B)),"c"].join(" "))},H=function(q,B,J,ne){for(var le=2*Math.PI,Se=Math.PI/2;B>J;)B-=le;var xe=Math.abs(J-B);xe<le&&ne&&(xe=le-xe);for(var ke=[],De=ne?-1:1,Me=B;xe>1e-5;){var He=Me+De*Math.min(xe,Se);ke.push(Q.call(this,q,Me,He)),xe-=Math.abs(He-Me),Me=He}return ke},Q=function(q,B,J){var ne=(J-B)/2,le=q*Math.cos(ne),Se=q*Math.sin(ne),xe=le,ke=-Se,De=xe*xe+ke*ke,Me=De+xe*le+ke*Se,He=4/3*(Math.sqrt(2*De*Me)-Me)/(xe*Se-ke*le),Ve=xe-He*ke,Y=ke+He*xe,Ae=Ve,re=-Y,be=ne+B,fe=Math.cos(be),Ce=Math.sin(be);return{x1:q*Math.cos(B),y1:q*Math.sin(B),x2:Ve*fe-Y*Ce,y2:Ve*Ce+Y*fe,x3:Ae*fe-re*Ce,y3:Ae*Ce+re*fe,x4:q*Math.cos(J),y4:q*Math.sin(J)}},te=function(q){return 180*q/Math.PI},oe=function(q,B,J,ne,le,Se){var xe=q+.5*(J-q),ke=B+.5*(ne-B),De=le+.5*(J-le),Me=Se+.5*(ne-Se),He=Math.min(q,le,xe,De),Ve=Math.max(q,le,xe,De),Y=Math.min(B,Se,ke,Me),Ae=Math.max(B,Se,ke,Me);return new l(He,Y,Ve-He,Ae-Y)},U=function(q,B,J,ne,le,Se,xe,ke){var De,Me,He,Ve,Y,Ae,re,be,fe,Ce,Le,qe,Te,Ze,ut=J-q,rt=ne-B,Pe=le-J,ve=Se-ne,Ne=xe-le,Oe=ke-Se;for(Me=0;Me<41;Me++)fe=(re=(He=q+(De=Me/40)*ut)+De*((Y=J+De*Pe)-He))+De*(Y+De*(le+De*Ne-Y)-re),Ce=(be=(Ve=B+De*rt)+De*((Ae=ne+De*ve)-Ve))+De*(Ae+De*(Se+De*Oe-Ae)-be),Me==0?(Le=fe,qe=Ce,Te=fe,Ze=Ce):(Le=Math.min(Le,fe),qe=Math.min(qe,Ce),Te=Math.max(Te,fe),Ze=Math.max(Ze,Ce));return new l(Math.round(Le),Math.round(qe),Math.round(Te-Le),Math.round(Ze-qe))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var q,B,J=(q=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:q,lineDashOffset:B}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(on.API),function(e){var n=function(a){var s,l,u,d,f,m,b,g,x,y;for(l=[],u=0,d=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;d>u;u+=4)(f=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(m=(f=((f=((f=((f=(f-(y=f%85))/85)-(x=f%85))/85)-(g=f%85))/85)-(b=f%85))/85)%85,l.push(m+33,b+33,g+33,x+33,y+33)):l.push(122);return function(A,w){for(var C=w;C>0;C--)A.pop()}(l,s.length),String.fromCharCode.apply(String,l)+"~>"},t=function(a){var s,l,u,d,f,m=String,b="length",g=255,x="charCodeAt",y="slice",A="replace";for(a[y](-2),a=a[y](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),u=[],d=0,f=(a+=s="uuuuu"[y](a[b]%5||5))[b];f>d;d+=5)l=52200625*(a[x](d)-33)+614125*(a[x](d+1)-33)+7225*(a[x](d+2)-33)+85*(a[x](d+3)-33)+(a[x](d+4)-33),u.push(g&l>>24,g&l>>16,g&l>>8,g&l);return function(w,C){for(var T=C;T>0;T--)w.pop()}(u,s[b]),m.fromCharCode.apply(m,u)},r=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var l="",u=0;u<a.length;u+=2)l+=String.fromCharCode("0x"+(a[u]+a[u+1]));return l},i=function(a){for(var s=new Uint8Array(a.length),l=a.length;l--;)s[l]=a.charCodeAt(l);return a=(s=qS(s)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(a,s){var l=0,u=a||"",d=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=n(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(on.API),function(e){e.loadFile=function(n,t,r){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=function(u,d,f){var m=new XMLHttpRequest,b=0,g=function(x){var y=x.length,A=[],w=String.fromCharCode;for(b=0;b<y;b+=1)A.push(w(255&x.charCodeAt(b)));return A.join("")};if(m.open("GET",u,!d),m.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(m.onload=function(){m.status===200?f(g(this.responseText)):f(void 0)}),m.send(null),d&&m.status===200)return g(m.responseText)}(i,a,s)}catch{}return l}(n,t,r)},e.loadImageFile=e.loadFile}(on.API),function(e){function n(){return(cn.html2canvas?Promise.resolve(cn.html2canvas):wi(()=>import("./html2canvas.esm-DadlvMMh.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function t(){return(cn.DOMPurify?Promise.resolve(cn.DOMPurify):wi(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var l=Xr(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(s,l){var u=document.createElement(s);for(var d in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[d]=l.style[d];return u},a=function s(l){var u=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),d=s.convert(Promise.resolve(),u);return d=(d=d.setProgress(1,s,1,[s])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,l){return s.__proto__=l||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(t).then(function(u){return this.set({src:i("div",{innerHTML:s,dompurify:u})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function u(d,f){for(var m=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),b=d.firstChild;b;b=b.nextSibling)f!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||m.appendChild(u(b,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(m.width=d.width,m.height=d.height,m.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(m.value=d.value),m.addEventListener("load",function(){m.scrollTop=d.scrollTop,m.scrollLeft=d.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(n).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(n).then(function(l){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var b=0;b<d.length;++b){var g=d[b],x=g.src.find(function(y){return y.format==="truetype"});x&&u.addFont(x.url,g.ref.name,g.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(s,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},a.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(s){if(r(s)!=="object")return this;var l=Object.keys(s||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=s[u]};switch(u){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[u]=s[u]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(s,l){return this.then(function(){var u=s in a.template.prop?this.prop[s]:this.opt[s];return l?l(u):u})},a.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},a.prototype.setPageSize=function(s){function l(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(s=s||on.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},a.prototype.setProgress=function(s,l,u,d){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,l,u,d){return this.setProgress(s?this.progress.val+s:null,l||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(s,l){var u=this;return this.thenCore(s,l,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,d),m}).then(d,f).then(function(m){return u.updateProgress(1),m})})},a.prototype.thenCore=function(s,l,u){u=u||Promise.prototype.then,s&&(s=s.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),f=u.call(d,s,l);return a.convert(f,this.__proto__)},a.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},a.prototype.thenList=function(s){var l=this;return s.forEach(function(u){l=l.thenCore(u)}),l},a.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return a.convert(l,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then(function(){throw new Error(s)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,on.getPageSize=function(s,l,u){if(Xr(s)==="object"){var d=s;s=d.orientation,l=d.unit||l,u=d.format||u}l=l||"mm",u=u||"a4",s=(""+(s||"P")).toLowerCase();var f,m=(""+u).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var g,x=0,y=0;if(b.hasOwnProperty(m))x=b[m][1]/f,y=b[m][0]/f;else try{x=u[1],y=u[0]}catch{throw new Error("Invalid format: "+u)}if(s==="p"||s==="portrait")s="p",y>x&&(g=y,y=x,x=g);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",x>y&&(g=y,y=x,x=g)}return{width:y,height:x,unit:l,k:f,orientation:s}},e.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(YS):null;var u=new a(l);return l.worker?u:u.from(s).doCallback()}}(on.API),on.API.addJS=function(e){return a4=e,this.internal.events.subscribe("postPutResources",function(){By=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(By+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),i4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+a4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){By!==void 0&&i4!==void 0&&this.internal.out("/Names <</JavaScript "+By+" 0 R>>")}),this},function(e){var n;e.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],l=r.exec(s);if(l!=null){var u=l[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(a=0;a<d;a++){var m=t.internal.newObject();f.push(m);var b=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var g=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<f.length;a++)t.internal.write("(page_"+(a+1)+")"+f[a]+" 0 R");t.internal.write(" ] >>","endobj"),n=t.internal.newObject(),t.internal.write("<< /Dests "+g+" 0 R"),t.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+n+" 0 R"))}]),e.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var u=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(on.API),function(e){var n=[192,193,194,195,196,197,198,199];e.processJPEG=function(t,r,i,a,s,l){var u,d=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(u=function(m){for(var b,g=256*m.charCodeAt(4)+m.charCodeAt(5),x=m.length,y={width:0,height:0,numcomponents:1},A=4;A<x;A+=2){if(A+=g,n.indexOf(m.charCodeAt(A+1))!==-1){b=256*m.charCodeAt(A+5)+m.charCodeAt(A+6),y={width:256*m.charCodeAt(A+7)+m.charCodeAt(A+8),height:b,numcomponents:m.charCodeAt(A+9)};break}g=256*m.charCodeAt(A+2)+m.charCodeAt(A+3)}return y}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:t,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:d,index:r,alias:i}}return f}}(on.API);var h0,$y,s4,o4,l4,RK=function(){var e,n,t;function r(a){var s,l,u,d,f,m,b,g,x,y,A,w,C,T;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(s=this.readUInt32(),x=(function(){var M,R;for(R=[],M=0;M<4;++M)R.push(String.fromCharCode(this.data[this.pos++]));return R}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),d=this.readUInt16()||100,m.delay=1e3*f/d,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,s-=4),a=(m!=null?m.data:void 0)||this.imgData,w=0;0<=s?w<s:w>s;0<=s?++w:--w)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((y=u-this.transparency.indexed.length)>0)for(C=0;0<=y?C<y:C>y;0<=y?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":b=(A=this.read(s)).indexOf(0),g=String.fromCharCode.apply(String,A.slice(0,b)),this.text[g]=String.fromCharCode.apply(String,A.slice(b+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(T=this.colorType)===4||T===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var s,l;for(l=[],s=0;0<=a?s<a:s>a;0<=a?++s:--s)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var s=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*s),u=0,d=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function f(m,b,g,x){var y,A,w,C,T,M,R,z,_,L,$,Z,O,j,F,N,G,H,Q,te,oe,U=Math.ceil((d.width-m)/g),se=Math.ceil((d.height-b)/x),q=d.width==U&&d.height==se;for(j=s*U,Z=q?l:new Uint8Array(j*se),M=a.length,O=0,A=0;O<se&&u<M;){switch(a[u++]){case 0:for(C=G=0;G<j;C=G+=1)Z[A++]=a[u++];break;case 1:for(C=H=0;H<j;C=H+=1)y=a[u++],T=C<s?0:Z[A-s],Z[A++]=(y+T)%256;break;case 2:for(C=Q=0;Q<j;C=Q+=1)y=a[u++],w=(C-C%s)/s,F=O&&Z[(O-1)*j+w*s+C%s],Z[A++]=(F+y)%256;break;case 3:for(C=te=0;te<j;C=te+=1)y=a[u++],w=(C-C%s)/s,T=C<s?0:Z[A-s],F=O&&Z[(O-1)*j+w*s+C%s],Z[A++]=(y+Math.floor((T+F)/2))%256;break;case 4:for(C=oe=0;oe<j;C=oe+=1)y=a[u++],w=(C-C%s)/s,T=C<s?0:Z[A-s],O===0?F=N=0:(F=Z[(O-1)*j+w*s+C%s],N=w&&Z[(O-1)*j+(w-1)*s+C%s]),R=T+F-N,z=Math.abs(R-T),L=Math.abs(R-F),$=Math.abs(R-N),_=z<=L&&z<=$?T:L<=$?F:N,Z[A++]=(y+_)%256;break;default:throw new Error("Invalid filter algorithm: "+a[u-1])}if(!q){var B=((b+O*x)*d.width+m)*s,J=O*j;for(C=0;C<U;C+=1){for(var ne=0;ne<s;ne+=1)l[B++]=Z[J++];B+=(g-1)*s}}O++}}return a=hK(a),d.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),l},r.prototype.decodePalette=function(){var a,s,l,u,d,f,m,b,g;for(l=this.palette,f=this.transparency.indexed||[],d=new Uint8Array((f.length||0)+l.length),u=0,a=0,s=m=0,b=l.length;m<b;s=m+=3)d[u++]=l[s],d[u++]=l[s+1],d[u++]=l[s+2],d[u++]=(g=f[a++])!=null?g:255;return d},r.prototype.copyToImageData=function(a,s){var l,u,d,f,m,b,g,x,y,A,w;if(u=this.colors,y=null,l=this.hasAlphaChannel,this.palette.length&&(y=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),u=4,l=!0),x=(d=a.data||a).length,m=y||s,f=b=0,u===1)for(;f<x;)g=y?4*s[f/4]:b,A=m[g++],d[f++]=A,d[f++]=A,d[f++]=A,d[f++]=l?m[g++]:255,b=g;else for(;f<x;)g=y?4*s[f/4]:b,d[f++]=m[g++],d[f++]=m[g++],d[f++]=m[g++],d[f++]=l?m[g++]:255,b=g},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(cn)==="[object Window]"){try{n=cn.document.createElement("canvas"),t=n.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var s;if(i()===!0)return t.width=a.width,t.height=a.height,t.clearRect(0,0,a.width,a.height),t.putImageData(a,0,0),(s=new Image).src=n.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var s,l,u,d,f,m,b,g;if(this.animation){for(g=[],l=f=0,m=(b=this.animation.frames).length;f<m;l=++f)s=b[l],u=a.createImageData(s.width,s.height),d=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(u,d),s.imageData=u,g.push(s.image=e(u));return g}},r.prototype.renderFrame=function(a,s){var l,u,d;return l=(u=this.animation.frames)[s],d=u[s-1],s===0&&a.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?a.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&a.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(a){var s,l,u,d,f,m,b=this;return l=0,m=this.animation,d=m.numFrames,u=m.frames,f=m.numPlays,(s=function(){var g,x;if(g=l++%d,x=u[g],b.renderFrame(a,g),d>1&&l/d<f)return b.animation._timeout=setTimeout(s,x.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var s,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,s=a.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(l=s.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),s.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function MK(e){var n=0;if(e[n++]!==71||e[n++]!==73||e[n++]!==70||e[n++]!==56||(e[n++]+1&253)!=56||e[n++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=e[n++]|e[n++]<<8,r=e[n++]|e[n++]<<8,i=e[n++],a=i>>7,s=1<<(7&i)+1;e[n++],e[n++];var l=null,u=null;a&&(l=n,u=s,n+=3*s);var d=!0,f=[],m=0,b=null,g=0,x=null;for(this.width=t,this.height=r;d&&n<e.length;)switch(e[n++]){case 33:switch(e[n++]){case 255:if(e[n]!==11||e[n+1]==78&&e[n+2]==69&&e[n+3]==84&&e[n+4]==83&&e[n+5]==67&&e[n+6]==65&&e[n+7]==80&&e[n+8]==69&&e[n+9]==50&&e[n+10]==46&&e[n+11]==48&&e[n+12]==3&&e[n+13]==1&&e[n+16]==0)n+=14,x=e[n++]|e[n++]<<8,n++;else for(n+=12;;){if(!((O=e[n++])>=0))throw Error("Invalid block size");if(O===0)break;n+=O}break;case 249:if(e[n++]!==4||e[n+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[n++];m=e[n++]|e[n++]<<8,b=e[n++],(1&y)==0&&(b=null),g=y>>2&7,n++;break;case 254:for(;;){if(!((O=e[n++])>=0))throw Error("Invalid block size");if(O===0)break;n+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[n-1].toString(16))}break;case 44:var A=e[n++]|e[n++]<<8,w=e[n++]|e[n++]<<8,C=e[n++]|e[n++]<<8,T=e[n++]|e[n++]<<8,M=e[n++],R=M>>6&1,z=1<<(7&M)+1,_=l,L=u,$=!1;M>>7&&($=!0,_=n,L=z,n+=3*z);var Z=n;for(n++;;){var O;if(!((O=e[n++])>=0))throw Error("Invalid block size");if(O===0)break;n+=O}f.push({x:A,y:w,width:C,height:T,has_local_palette:$,palette_offset:_,palette_size:L,data_offset:Z,data_length:n-Z,transparent_index:b,interlaced:!!R,delay:m,disposal:g});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[n-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return x},this.frameInfo=function(j){if(j<0||j>=f.length)throw new Error("Frame index out of range.");return f[j]},this.decodeAndBlitFrameBGRA=function(j,F){var N=this.frameInfo(j),G=N.width*N.height,H=new Uint8Array(G);u4(e,N.data_offset,H,G);var Q=N.palette_offset,te=N.transparent_index;te===null&&(te=256);var oe=N.width,U=t-oe,se=oe,q=4*(N.y*t+N.x),B=4*((N.y+N.height)*t+N.x),J=q,ne=4*U;N.interlaced===!0&&(ne+=4*t*7);for(var le=8,Se=0,xe=H.length;Se<xe;++Se){var ke=H[Se];if(se===0&&(se=oe,(J+=ne)>=B&&(ne=4*U+4*t*(le-1),J=q+(oe+U)*(le<<1),le>>=1)),ke===te)J+=4;else{var De=e[Q+3*ke],Me=e[Q+3*ke+1],He=e[Q+3*ke+2];F[J++]=He,F[J++]=Me,F[J++]=De,F[J++]=255}--se}},this.decodeAndBlitFrameRGBA=function(j,F){var N=this.frameInfo(j),G=N.width*N.height,H=new Uint8Array(G);u4(e,N.data_offset,H,G);var Q=N.palette_offset,te=N.transparent_index;te===null&&(te=256);var oe=N.width,U=t-oe,se=oe,q=4*(N.y*t+N.x),B=4*((N.y+N.height)*t+N.x),J=q,ne=4*U;N.interlaced===!0&&(ne+=4*t*7);for(var le=8,Se=0,xe=H.length;Se<xe;++Se){var ke=H[Se];if(se===0&&(se=oe,(J+=ne)>=B&&(ne=4*U+4*t*(le-1),J=q+(oe+U)*(le<<1),le>>=1)),ke===te)J+=4;else{var De=e[Q+3*ke],Me=e[Q+3*ke+1],He=e[Q+3*ke+2];F[J++]=De,F[J++]=Me,F[J++]=He,F[J++]=255}--se}}}function u4(e,n,t,r){for(var i=e[n++],a=1<<i,s=a+1,l=s+1,u=i+1,d=(1<<u)-1,f=0,m=0,b=0,g=e[n++],x=new Int32Array(4096),y=null;;){for(;f<16&&g!==0;)m|=e[n++]<<f,f+=8,g===1?g=e[n++]:--g;if(f<u)break;var A=m&d;if(m>>=u,f-=u,A!==a){if(A===s)break;for(var w=A<l?A:y,C=0,T=w;T>a;)T=x[T]>>8,++C;var M=T;if(b+C+(w!==A?1:0)>r)return void Kr.log("Warning, gif stream longer than expected.");t[b++]=M;var R=b+=C;for(w!==A&&(t[b++]=M),T=w;C--;)T=x[T],t[--R]=255&T,T>>=8;y!==null&&l<4096&&(x[l++]=y<<8|M,l>=d+1&&u<12&&(++u,d=d<<1|1)),y=A}else l=s+1,d=(1<<(u=i+1))-1,y=null}return b!==r&&Kr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function vw(e){var n,t,r,i,a,s=Math.floor,l=new Array(64),u=new Array(64),d=new Array(64),f=new Array(64),m=new Array(65535),b=new Array(65535),g=new Array(64),x=new Array(64),y=[],A=0,w=7,C=new Array(64),T=new Array(64),M=new Array(64),R=new Array(256),z=new Array(2048),_=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function H(q,B){for(var J=0,ne=0,le=new Array,Se=1;Se<=16;Se++){for(var xe=1;xe<=q[Se];xe++)le[B[ne]]=[],le[B[ne]][0]=J,le[B[ne]][1]=Se,ne++,J++;J*=2}return le}function Q(q){for(var B=q[0],J=q[1]-1;J>=0;)B&1<<J&&(A|=1<<w),J--,--w<0&&(A==255?(te(255),te(0)):te(A),w=7,A=0)}function te(q){y.push(q)}function oe(q){te(q>>8&255),te(255&q)}function U(q,B,J,ne,le){for(var Se,xe=le[0],ke=le[240],De=function(Ce,Le){var qe,Te,Ze,ut,rt,Pe,ve,Ne,Oe,ft,et=0;for(Oe=0;Oe<8;++Oe){qe=Ce[et],Te=Ce[et+1],Ze=Ce[et+2],ut=Ce[et+3],rt=Ce[et+4],Pe=Ce[et+5],ve=Ce[et+6];var Pt=qe+(Ne=Ce[et+7]),Nt=qe-Ne,Yt=Te+ve,Rt=Te-ve,Xt=Ze+Pe,nn=Ze-Pe,ln=ut+rt,Pn=ut-rt,zn=Pt+ln,Vr=Pt-ln,ir=Yt+Xt,Rn=Yt-Xt;Ce[et]=zn+ir,Ce[et+4]=zn-ir;var Vt=.707106781*(Rn+Vr);Ce[et+2]=Vr+Vt,Ce[et+6]=Vr-Vt;var An=.382683433*((zn=Pn+nn)-(Rn=Rt+Nt)),wa=.5411961*zn+An,wr=1.306562965*Rn+An,oi=.707106781*(ir=nn+Rt),Sa=Nt+oi,Lt=Nt-oi;Ce[et+5]=Lt+wa,Ce[et+3]=Lt-wa,Ce[et+1]=Sa+wr,Ce[et+7]=Sa-wr,et+=8}for(et=0,Oe=0;Oe<8;++Oe){qe=Ce[et],Te=Ce[et+8],Ze=Ce[et+16],ut=Ce[et+24],rt=Ce[et+32],Pe=Ce[et+40],ve=Ce[et+48];var Hn=qe+(Ne=Ce[et+56]),ar=qe-Ne,Rr=Te+ve,dr=Te-ve,fr=Ze+Pe,Un=Ze-Pe,bs=ut+rt,_r=ut-rt,Da=Hn+bs,zi=Hn-bs,qi=Rr+fr,Zn=Rr-fr;Ce[et]=Da+qi,Ce[et+32]=Da-qi;var Ci=.707106781*(Zn+zi);Ce[et+16]=zi+Ci,Ce[et+48]=zi-Ci;var Jn=.382683433*((Da=_r+Un)-(Zn=dr+ar)),ro=.5411961*Da+Jn,Eo=1.306562965*Zn+Jn,Fa=.707106781*(qi=Un+dr),Mr=ar+Fa,nl=ar-Fa;Ce[et+40]=nl+ro,Ce[et+24]=nl-ro,Ce[et+8]=Mr+Eo,Ce[et+56]=Mr-Eo,et++}for(Oe=0;Oe<64;++Oe)ft=Ce[Oe]*Le[Oe],g[Oe]=ft>0?ft+.5|0:ft-.5|0;return g}(q,B),Me=0;Me<64;++Me)x[_[Me]]=De[Me];var He=x[0]-J;J=x[0],He==0?Q(ne[0]):(Q(ne[b[Se=32767+He]]),Q(m[Se]));for(var Ve=63;Ve>0&&x[Ve]==0;)Ve--;if(Ve==0)return Q(xe),J;for(var Y,Ae=1;Ae<=Ve;){for(var re=Ae;x[Ae]==0&&Ae<=Ve;)++Ae;var be=Ae-re;if(be>=16){Y=be>>4;for(var fe=1;fe<=Y;++fe)Q(ke);be&=15}Se=32767+x[Ae],Q(le[(be<<4)+b[Se]]),Q(m[Se]),Ae++}return Ve!=63&&Q(xe),J}function se(q){q=Math.min(Math.max(q,1),100),a!=q&&(function(B){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var le=s((J[ne]*B+50)/100);le=Math.min(Math.max(le,1),255),l[_[ne]]=le}for(var Se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var ke=s((Se[xe]*B+50)/100);ke=Math.min(Math.max(ke,1),255),u[_[xe]]=ke}for(var De=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Me=0,He=0;He<8;He++)for(var Ve=0;Ve<8;Ve++)d[Me]=1/(l[_[Me]]*De[He]*De[Ve]*8),f[Me]=1/(u[_[Me]]*De[He]*De[Ve]*8),Me++}(q<50?Math.floor(5e3/q):Math.floor(200-2*q)),a=q)}this.encode=function(q,B){B&&se(B),y=new Array,A=0,w=7,oe(65496),oe(65504),oe(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),oe(1),oe(1),te(0),te(0),function(){oe(65499),oe(132),te(0);for(var Te=0;Te<64;Te++)te(l[Te]);te(1);for(var Ze=0;Ze<64;Ze++)te(u[Ze])}(),function(Te,Ze){oe(65472),oe(17),te(8),oe(Ze),oe(Te),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)}(q.width,q.height),function(){oe(65476),oe(418),te(0);for(var Te=0;Te<16;Te++)te(L[Te+1]);for(var Ze=0;Ze<=11;Ze++)te($[Ze]);te(16);for(var ut=0;ut<16;ut++)te(Z[ut+1]);for(var rt=0;rt<=161;rt++)te(O[rt]);te(1);for(var Pe=0;Pe<16;Pe++)te(j[Pe+1]);for(var ve=0;ve<=11;ve++)te(F[ve]);te(17);for(var Ne=0;Ne<16;Ne++)te(N[Ne+1]);for(var Oe=0;Oe<=161;Oe++)te(G[Oe])}(),oe(65498),oe(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var J=0,ne=0,le=0;A=0,w=7,this.encode.displayName="_encode_";for(var Se,xe,ke,De,Me,He,Ve,Y,Ae,re=q.data,be=q.width,fe=q.height,Ce=4*be,Le=0;Le<fe;){for(Se=0;Se<Ce;){for(Me=Ce*Le+Se,Ve=-1,Y=0,Ae=0;Ae<64;Ae++)He=Me+(Y=Ae>>3)*Ce+(Ve=4*(7&Ae)),Le+Y>=fe&&(He-=Ce*(Le+1+Y-fe)),Se+Ve>=Ce&&(He-=Se+Ve-Ce+4),xe=re[He++],ke=re[He++],De=re[He++],C[Ae]=(z[xe]+z[ke+256>>0]+z[De+512>>0]>>16)-128,T[Ae]=(z[xe+768>>0]+z[ke+1024>>0]+z[De+1280>>0]>>16)-128,M[Ae]=(z[xe+1280>>0]+z[ke+1536>>0]+z[De+1792>>0]>>16)-128;J=U(C,d,J,n,r),ne=U(T,f,ne,t,i),le=U(M,f,le,t,i),Se+=32}Le+=8}if(w>=0){var qe=[];qe[1]=w+1,qe[0]=(1<<w+1)-1,Q(qe)}return oe(65497),new Uint8Array(y)},e=e||50,function(){for(var q=String.fromCharCode,B=0;B<256;B++)R[B]=q(B)}(),n=H(L,$),t=H(j,F),r=H(Z,O),i=H(N,G),function(){for(var q=1,B=2,J=1;J<=15;J++){for(var ne=q;ne<B;ne++)b[32767+ne]=J,m[32767+ne]=[],m[32767+ne][1]=J,m[32767+ne][0]=ne;for(var le=-(B-1);le<=-q;le++)b[32767+le]=J,m[32767+le]=[],m[32767+le][1]=J,m[32767+le][0]=B-1+le;q<<=1,B<<=1}}(),function(){for(var q=0;q<256;q++)z[q]=19595*q,z[q+256>>0]=38470*q,z[q+512>>0]=7471*q+32768,z[q+768>>0]=-11059*q,z[q+1024>>0]=-21709*q,z[q+1280>>0]=32768*q+8421375,z[q+1536>>0]=-27439*q,z[q+1792>>0]=-5329*q}(),se(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function cu(e,n){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!n,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function c4(e){function n(L){if(!L)throw Error("assert :P")}function t(L,$,Z){for(var O=0;4>O;O++)if(L[$+O]!=Z.charCodeAt(O))return!0;return!1}function r(L,$,Z,O,j){for(var F=0;F<j;F++)L[$+F]=Z[O+F]}function i(L,$,Z,O){for(var j=0;j<O;j++)L[$+j]=Z}function a(L){return new Int32Array(L)}function s(L,$){for(var Z=[],O=0;O<L;O++)Z.push(new $);return Z}function l(L,$){var Z=[];return function O(j,F,N){for(var G=N[F],H=0;H<G&&(j.push(N.length>F+1?[]:new $),!(N.length<F+1));H++)O(j[H],F+1,N)}(Z,0,L),Z}var u=function(){var L=this;function $(S,k){for(var P=1<<k-1>>>0;S&P;)P>>>=1;return P?(S&P-1)+P:S}function Z(S,k,P,V,ie){n(!(V%P));do S[k+(V-=P)]=ie;while(0<V)}function O(S,k,P,V,ie){if(n(2328>=ie),512>=ie)var ue=a(512);else if((ue=a(ie))==null)return 0;return function(ce,pe,ye,Ee,Fe,Xe){var Qe,We,yt=pe,at=1<<ye,ze=a(16),Ue=a(16);for(n(Fe!=0),n(Ee!=null),n(ce!=null),n(0<ye),We=0;We<Fe;++We){if(15<Ee[We])return 0;++ze[Ee[We]]}if(ze[0]==Fe)return 0;for(Ue[1]=0,Qe=1;15>Qe;++Qe){if(ze[Qe]>1<<Qe)return 0;Ue[Qe+1]=Ue[Qe]+ze[Qe]}for(We=0;We<Fe;++We)Qe=Ee[We],0<Ee[We]&&(Xe[Ue[Qe]++]=We);if(Ue[15]==1)return(Ee=new j).g=0,Ee.value=Xe[0],Z(ce,yt,1,at,Ee),at;var pt,xt=-1,gt=at-1,It=0,Tt=1,Gt=1,jt=1<<ye;for(We=0,Qe=1,Fe=2;Qe<=ye;++Qe,Fe<<=1){if(Tt+=Gt<<=1,0>(Gt-=ze[Qe]))return 0;for(;0<ze[Qe];--ze[Qe])(Ee=new j).g=Qe,Ee.value=Xe[We++],Z(ce,yt+It,Fe,jt,Ee),It=$(It,Qe)}for(Qe=ye+1,Fe=2;15>=Qe;++Qe,Fe<<=1){if(Tt+=Gt<<=1,0>(Gt-=ze[Qe]))return 0;for(;0<ze[Qe];--ze[Qe]){if(Ee=new j,(It&gt)!=xt){for(yt+=jt,pt=1<<(xt=Qe)-ye;15>xt&&!(0>=(pt-=ze[xt]));)++xt,pt<<=1;at+=jt=1<<(pt=xt-ye),ce[pe+(xt=It&gt)].g=pt+ye,ce[pe+xt].value=yt-pe-xt}Ee.g=Qe-ye,Ee.value=Xe[We++],Z(ce,yt+(It>>ye),Fe,jt,Ee),It=$(It,Qe)}}return Tt!=2*Ue[15]-1?0:at}(S,k,P,V,ie,ue)}function j(){this.value=this.g=0}function F(){this.value=this.g=0}function N(){this.G=s(5,j),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ra,F)}function G(S,k,P,V){n(S!=null),n(k!=null),n(2147483648>V),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=k,S.pa=P,S.Jd=k,S.Yc=P+V,S.Zc=4<=V?P+V-4+1:P,Se(S)}function H(S,k){for(var P=0;0<k--;)P|=ke(S,128)<<k;return P}function Q(S,k){var P=H(S,k);return xe(S)?-P:P}function te(S,k,P,V){var ie,ue=0;for(n(S!=null),n(k!=null),n(4294967288>V),S.Sb=V,S.Ra=0,S.u=0,S.h=0,4<V&&(V=4),ie=0;ie<V;++ie)ue+=k[P+ie]<<8*ie;S.Ra=ue,S.bb=V,S.oa=k,S.pa=P}function oe(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<Vc-8>>>0,++S.bb,S.u-=8;J(S)&&(S.h=1,S.u=0)}function U(S,k){if(n(0<=k),!S.h&&k<=Yc){var P=B(S)&Ru[k];return S.u+=k,oe(S),P}return S.h=1,S.u=0}function se(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(S){return S.Ra>>>(S.u&Vc-1)>>>0}function J(S){return n(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>Vc}function ne(S,k){S.u=k,S.h=J(S)}function le(S){S.u>=Jd&&(n(S.u>=Jd),oe(S))}function Se(S){n(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(n(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function xe(S){return H(S,1)}function ke(S,k){var P=S.Ca;0>S.b&&Se(S);var V=S.b,ie=P*k>>>8,ue=(S.I>>>V>ie)+0;for(ue?(P-=ie,S.I-=ie+1<<V>>>0):P=ie+1,V=P,ie=0;256<=V;)ie+=8,V>>=8;return V=7^ie+Cs[V],S.b-=V,S.Ca=(P<<V)-1,ue}function De(S,k,P){S[k+0]=P>>24&255,S[k+1]=P>>16&255,S[k+2]=P>>8&255,S[k+3]=P>>0&255}function Me(S,k){return S[k+0]<<0|S[k+1]<<8}function He(S,k){return Me(S,k)|S[k+2]<<16}function Ve(S,k){return Me(S,k)|Me(S,k+2)<<16}function Y(S,k){var P=1<<k;return n(S!=null),n(0<k),S.X=a(P),S.X==null?0:(S.Mb=32-k,S.Xa=k,1)}function Ae(S,k){n(S!=null),n(k!=null),n(S.Xa==k.Xa),r(k.X,0,S.X,0,1<<k.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function be(S,k,P,V){n(P!=null),n(V!=null);var ie=P[0],ue=V[0];return ie==0&&(ie=(S*ue+k/2)/k),ue==0&&(ue=(k*ie+S/2)/S),0>=ie||0>=ue?0:(P[0]=ie,V[0]=ue,1)}function fe(S,k){return S+(1<<k)-1>>>k}function Ce(S,k){return((4278255360&S)+(4278255360&k)>>>0&4278255360)+((16711935&S)+(16711935&k)>>>0&16711935)>>>0}function Le(S,k){L[k]=function(P,V,ie,ue,ce,pe,ye){var Ee;for(Ee=0;Ee<ce;++Ee){var Fe=L[S](pe[ye+Ee-1],ie,ue+Ee);pe[ye+Ee]=Ce(P[V+Ee],Fe)}}}function qe(){this.ud=this.hd=this.jd=0}function Te(S,k){return((4278124286&(S^k))>>>1)+(S&k)>>>0}function Ze(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function ut(S,k){return Ze(S+(S-k+.5>>1))}function rt(S,k,P){return Math.abs(k-P)-Math.abs(S-P)}function Pe(S,k,P,V,ie,ue,ce){for(V=ue[ce-1],P=0;P<ie;++P)ue[ce+P]=V=Ce(S[k+P],V)}function ve(S,k,P,V,ie){var ue;for(ue=0;ue<P;++ue){var ce=S[k+ue],pe=ce>>8&255,ye=16711935&(ye=(ye=16711935&ce)+((pe<<16)+pe));V[ie+ue]=(4278255360&ce)+ye>>>0}}function Ne(S,k){k.jd=S>>0&255,k.hd=S>>8&255,k.ud=S>>16&255}function Oe(S,k,P,V,ie,ue){var ce;for(ce=0;ce<V;++ce){var pe=k[P+ce],ye=pe>>>8,Ee=pe,Fe=255&(Fe=(Fe=pe>>>16)+((S.jd<<24>>24)*(ye<<24>>24)>>>5));Ee=255&(Ee=(Ee=Ee+((S.hd<<24>>24)*(ye<<24>>24)>>>5))+((S.ud<<24>>24)*(Fe<<24>>24)>>>5)),ie[ue+ce]=(4278255360&pe)+(Fe<<16)+Ee}}function ft(S,k,P,V,ie){L[k]=function(ue,ce,pe,ye,Ee,Fe,Xe,Qe,We){for(ye=Xe;ye<Qe;++ye)for(Xe=0;Xe<We;++Xe)Ee[Fe++]=ie(pe[V(ue[ce++])])},L[S]=function(ue,ce,pe,ye,Ee,Fe,Xe){var Qe=8>>ue.b,We=ue.Ea,yt=ue.K[0],at=ue.w;if(8>Qe)for(ue=(1<<ue.b)-1,at=(1<<Qe)-1;ce<pe;++ce){var ze,Ue=0;for(ze=0;ze<We;++ze)ze&ue||(Ue=V(ye[Ee++])),Fe[Xe++]=ie(yt[Ue&at]),Ue>>=Qe}else L["VP8LMapColor"+P](ye,Ee,yt,at,Fe,Xe,ce,pe,We)}}function et(S,k,P,V,ie){for(P=k+P;k<P;){var ue=S[k++];V[ie++]=ue>>16&255,V[ie++]=ue>>8&255,V[ie++]=ue>>0&255}}function Pt(S,k,P,V,ie){for(P=k+P;k<P;){var ue=S[k++];V[ie++]=ue>>16&255,V[ie++]=ue>>8&255,V[ie++]=ue>>0&255,V[ie++]=ue>>24&255}}function Nt(S,k,P,V,ie){for(P=k+P;k<P;){var ue=(ce=S[k++])>>16&240|ce>>12&15,ce=ce>>0&240|ce>>28&15;V[ie++]=ue,V[ie++]=ce}}function Yt(S,k,P,V,ie){for(P=k+P;k<P;){var ue=(ce=S[k++])>>16&248|ce>>13&7,ce=ce>>5&224|ce>>3&31;V[ie++]=ue,V[ie++]=ce}}function Rt(S,k,P,V,ie){for(P=k+P;k<P;){var ue=S[k++];V[ie++]=ue>>0&255,V[ie++]=ue>>8&255,V[ie++]=ue>>16&255}}function Xt(S,k,P,V,ie,ue){if(ue==0)for(P=k+P;k<P;)De(V,((ue=S[k++])[0]>>24|ue[1]>>8&65280|ue[2]<<8&16711680|ue[3]<<24)>>>0),ie+=32;else r(V,ie,S,k,P)}function nn(S,k){L[k][0]=L[S+"0"],L[k][1]=L[S+"1"],L[k][2]=L[S+"2"],L[k][3]=L[S+"3"],L[k][4]=L[S+"4"],L[k][5]=L[S+"5"],L[k][6]=L[S+"6"],L[k][7]=L[S+"7"],L[k][8]=L[S+"8"],L[k][9]=L[S+"9"],L[k][10]=L[S+"10"],L[k][11]=L[S+"11"],L[k][12]=L[S+"12"],L[k][13]=L[S+"13"],L[k][14]=L[S+"0"],L[k][15]=L[S+"0"]}function ln(S){return S==vh||S==Wu||S==Kl||S==rf}function Pn(){this.eb=[],this.size=this.A=this.fb=0}function zn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Vr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Pn,this.f.kb=new zn,this.sd=null}function ir(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Rn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Vt(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function An(S,k){var P=S.T,V=k.ba.f.RGBA,ie=V.eb,ue=V.fb+S.ka*V.A,ce=_a[k.ba.S],pe=S.y,ye=S.O,Ee=S.f,Fe=S.N,Xe=S.ea,Qe=S.W,We=k.cc,yt=k.dc,at=k.Mc,ze=k.Nc,Ue=S.ka,pt=S.ka+S.T,xt=S.U,gt=xt+1>>1;for(Ue==0?ce(pe,ye,null,null,Ee,Fe,Xe,Qe,Ee,Fe,Xe,Qe,ie,ue,null,null,xt):(ce(k.ec,k.fc,pe,ye,We,yt,at,ze,Ee,Fe,Xe,Qe,ie,ue-V.A,ie,ue,xt),++P);Ue+2<pt;Ue+=2)We=Ee,yt=Fe,at=Xe,ze=Qe,Fe+=S.Rc,Qe+=S.Rc,ue+=2*V.A,ce(pe,(ye+=2*S.fa)-S.fa,pe,ye,We,yt,at,ze,Ee,Fe,Xe,Qe,ie,ue-V.A,ie,ue,xt);return ye+=S.fa,S.j+pt<S.o?(r(k.ec,k.fc,pe,ye,xt),r(k.cc,k.dc,Ee,Fe,gt),r(k.Mc,k.Nc,Xe,Qe,gt),P--):1&pt||ce(pe,ye,null,null,Ee,Fe,Xe,Qe,Ee,Fe,Xe,Qe,ie,ue+V.A,null,null,xt),P}function wa(S,k,P){var V=S.F,ie=[S.J];if(V!=null){var ue=S.U,ce=k.ba.S,pe=ce==Zc||ce==Kl;k=k.ba.f.RGBA;var ye=[0],Ee=S.ka;ye[0]=S.T,S.Kb&&(Ee==0?--ye[0]:(--Ee,ie[0]-=S.width),S.j+S.ka+S.T==S.o&&(ye[0]=S.o-S.j-Ee));var Fe=k.eb;Ee=k.fb+Ee*k.A,S=Ln(V,ie[0],S.width,ue,ye,Fe,Ee+(pe?0:3),k.A),n(P==ye),S&&ln(ce)&&Ks(Fe,Ee,pe,ue,ye,k.A)}return 0}function wr(S){var k=S.ma,P=k.ba.S,V=11>P,ie=P==nf||P==xh||P==Zc||P==Ql||P==12||ln(P);if(k.memory=null,k.Ib=null,k.Jb=null,k.Nd=null,!Lu(k.Oa,S,ie?11:12))return 0;if(ie&&ln(P)&&At(),S.da)alert("todo:use_scaling");else{if(V){if(k.Ib=Vt,S.Kb){if(P=S.U+1>>1,k.memory=a(S.U+2*P),k.memory==null)return 0;k.ec=k.memory,k.fc=0,k.cc=k.ec,k.dc=k.fc+S.U,k.Mc=k.cc,k.Nc=k.dc+P,k.Ib=An,At()}}else alert("todo:EmitYUV");ie&&(k.Jb=wa,V&&Ge())}if(V&&!Eb){for(S=0;256>S;++S)k2[S]=89858*(S-128)+aa>>gl,Ah[S]=-22014*(S-128)+aa,Tm[S]=-45773*(S-128),sa[S]=113618*(S-128)+aa>>gl;for(S=Gu;S<Bp;++S)k=76283*(S-16)+aa>>gl,Ch[S-Gu]=Qs(k,255),jm[S-Gu]=Qs(k+8>>4,15);Eb=1}return 1}function oi(S){var k=S.ma,P=S.U,V=S.T;return n(!(1&S.ka)),0>=P||0>=V?0:(P=k.Ib(S,k),k.Jb!=null&&k.Jb(S,k,P),k.Dc+=P,1)}function Sa(S){S.ma.memory=null}function Lt(S,k,P,V){return U(S,8)!=47?0:(k[0]=U(S,14)+1,P[0]=U(S,14)+1,V[0]=U(S,1),U(S,3)!=0?0:!S.h)}function Hn(S,k){if(4>S)return S+1;var P=S-2>>1;return(2+(1&S)<<P)+U(k,P)+1}function ar(S,k){return 120<k?k-120:1<=(P=((P=Zl[k-1])>>4)*S+(8-(15&P)))?P:1;var P}function Rr(S,k,P){var V=B(P),ie=S[k+=255&V].g-8;return 0<ie&&(ne(P,P.u+8),V=B(P),k+=S[k].value,k+=V&(1<<ie)-1),ne(P,P.u+S[k].g),S[k].value}function dr(S,k,P){return P.g+=S.g,P.value+=S.value<<k>>>0,n(8>=P.g),S.g}function fr(S,k,P){var V=S.xc;return n((k=V==0?0:S.vc[S.md*(P>>V)+(k>>V)])<S.Wb),S.Ya[k]}function Un(S,k,P,V){var ie=S.ab,ue=S.c*k,ce=S.C;k=ce+k;var pe=P,ye=V;for(V=S.Ta,P=S.Ua;0<ie--;){var Ee=S.gc[ie],Fe=ce,Xe=k,Qe=pe,We=ye,yt=(ye=V,pe=P,Ee.Ea);switch(n(Fe<Xe),n(Xe<=Ee.nc),Ee.hc){case 2:Lp(Qe,We,(Xe-Fe)*yt,ye,pe);break;case 0:var at=Fe,ze=Xe,Ue=ye,pt=pe,xt=(jt=Ee).Ea;at==0&&(_m(Qe,We,null,null,1,Ue,pt),Pe(Qe,We+1,0,0,xt-1,Ue,pt+1),We+=xt,pt+=xt,++at);for(var gt=1<<jt.b,It=gt-1,Tt=fe(xt,jt.b),Gt=jt.K,jt=jt.w+(at>>jt.b)*Tt;at<ze;){var Yn=Gt,sr=jt,In=1;for(bh(Qe,We,Ue,pt-xt,1,Ue,pt);In<xt;){var On=(In&~It)+gt;On>xt&&(On=xt),(0,Yl[Yn[sr++]>>8&15])(Qe,We+ +In,Ue,pt+In-xt,On-In,Ue,pt+In),In=On}We+=xt,pt+=xt,++at&It||(jt+=Tt)}Xe!=Ee.nc&&r(ye,pe-yt,ye,pe+(Xe-Fe-1)*yt,yt);break;case 1:for(yt=Qe,ze=We,xt=(Qe=Ee.Ea)-(pt=Qe&~(Ue=(We=1<<Ee.b)-1)),at=fe(Qe,Ee.b),gt=Ee.K,Ee=Ee.w+(Fe>>Ee.b)*at;Fe<Xe;){for(It=gt,Tt=Ee,Gt=new qe,jt=ze+pt,Yn=ze+Qe;ze<jt;)Ne(It[Tt++],Gt),Fu(Gt,yt,ze,We,ye,pe),ze+=We,pe+=We;ze<Yn&&(Ne(It[Tt++],Gt),Fu(Gt,yt,ze,xt,ye,pe),ze+=xt,pe+=xt),++Fe&Ue||(Ee+=at)}break;case 3:if(Qe==ye&&We==pe&&0<Ee.b){for(ze=ye,Qe=yt=pe+(Xe-Fe)*yt-(pt=(Xe-Fe)*fe(Ee.Ea,Ee.b)),We=ye,Ue=pe,at=[],pt=(xt=pt)-1;0<=pt;--pt)at[pt]=We[Ue+pt];for(pt=xt-1;0<=pt;--pt)ze[Qe+pt]=at[pt];lo(Ee,Fe,Xe,ye,yt,ye,pe)}else lo(Ee,Fe,Xe,Qe,We,ye,pe)}pe=V,ye=P}ye!=P&&r(V,P,pe,ye,ue)}function bs(S,k){var P=S.V,V=S.Ba+S.c*S.C,ie=k-S.C;if(n(k<=S.l.o),n(16>=ie),0<ie){var ue=S.l,ce=S.Ta,pe=S.Ua,ye=ue.width;if(Un(S,ie,P,V),ie=pe=[pe],n((P=S.C)<(V=k)),n(ue.v<ue.va),V>ue.o&&(V=ue.o),P<ue.j){var Ee=ue.j-P;P=ue.j,ie[0]+=Ee*ye}if(P>=V?P=0:(ie[0]+=4*ue.v,ue.ka=P-ue.j,ue.U=ue.va-ue.v,ue.T=V-P,P=1),P){if(pe=pe[0],11>(P=S.ca).S){var Fe=P.f.RGBA,Xe=(V=P.S,ie=ue.U,ue=ue.T,Ee=Fe.eb,Fe.A),Qe=ue;for(Fe=Fe.fb+S.Ma*Fe.A;0<Qe--;){var We=ce,yt=pe,at=ie,ze=Ee,Ue=Fe;switch(V){case Wa:ss(We,yt,at,ze,Ue);break;case nf:Ra(We,yt,at,ze,Ue);break;case vh:Ra(We,yt,at,ze,Ue),Ks(ze,Ue,0,at,1,0);break;case fl:Do(We,yt,at,ze,Ue);break;case xh:Xt(We,yt,at,ze,Ue,1);break;case Wu:Xt(We,yt,at,ze,Ue,1),Ks(ze,Ue,0,at,1,0);break;case Zc:Xt(We,yt,at,ze,Ue,0);break;case Kl:Xt(We,yt,at,ze,Ue,0),Ks(ze,Ue,1,at,1,0);break;case Ql:Pu(We,yt,at,ze,Ue);break;case rf:Pu(We,yt,at,ze,Ue),Dn(ze,Ue,at,1,0);break;case Mp:Es(We,yt,at,ze,Ue);break;default:n(0)}pe+=ye,Fe+=Xe}S.Ma+=ue}else alert("todo:EmitRescaledRowsYUVA");n(S.Ma<=P.height)}}S.C=k,n(S.C<=S.i)}function _r(S){var k;if(0<S.ua)return 0;for(k=0;k<S.Wb;++k){var P=S.Ya[k].G,V=S.Ya[k].H;if(0<P[1][V[1]+0].g||0<P[2][V[2]+0].g||0<P[3][V[3]+0].g)return 0}return 1}function Da(S,k,P,V,ie,ue){if(S.Z!=0){var ce=S.qd,pe=S.rd;for(n(pl[S.Z]!=null);k<P;++k)pl[S.Z](ce,pe,V,ie,V,ie,ue),ce=V,pe=ie,ie+=ue;S.qd=ce,S.rd=pe}}function zi(S,k){var P=S.l.ma,V=P.Z==0||P.Z==1?S.l.j:S.C;if(V=S.C<V?V:S.C,n(k<=S.l.o),k>V){var ie=S.l.width,ue=P.ca,ce=P.tb+ie*V,pe=S.V,ye=S.Ba+S.c*V,Ee=S.gc;n(S.ab==1),n(Ee[0].hc==3),Mu(Ee[0],V,k,pe,ye,ue,ce),Da(P,V,k,ue,ce,ie)}S.C=S.Ma=k}function qi(S,k,P,V,ie,ue,ce){var pe=S.$/V,ye=S.$%V,Ee=S.m,Fe=S.s,Xe=P+S.$,Qe=Xe;ie=P+V*ie;var We=P+V*ue,yt=280+Fe.ua,at=S.Pb?pe:16777216,ze=0<Fe.ua?Fe.Wa:null,Ue=Fe.wc,pt=Xe<We?fr(Fe,ye,pe):null;n(S.C<ue),n(We<=ie);var xt=!1;e:for(;;){for(;xt||Xe<We;){var gt=0;if(pe>=at){var It=Xe-P;n((at=S).Pb),at.wd=at.m,at.xd=It,0<at.s.ua&&Ae(at.s.Wa,at.s.vb),at=pe+Sb}if(ye&Ue||(pt=fr(Fe,ye,pe)),n(pt!=null),pt.Qb&&(k[Xe]=pt.qb,xt=!0),!xt)if(le(Ee),pt.jc){gt=Ee,It=k;var Tt=Xe,Gt=pt.pd[B(gt)&ra-1];n(pt.jc),256>Gt.g?(ne(gt,gt.u+Gt.g),It[Tt]=Gt.value,gt=0):(ne(gt,gt.u+Gt.g-256),n(256<=Gt.value),gt=Gt.value),gt==0&&(xt=!0)}else gt=Rr(pt.G[0],pt.H[0],Ee);if(Ee.h)break;if(xt||256>gt){if(!xt)if(pt.nd)k[Xe]=(pt.qb|gt<<8)>>>0;else{if(le(Ee),xt=Rr(pt.G[1],pt.H[1],Ee),le(Ee),It=Rr(pt.G[2],pt.H[2],Ee),Tt=Rr(pt.G[3],pt.H[3],Ee),Ee.h)break;k[Xe]=(Tt<<24|xt<<16|gt<<8|It)>>>0}if(xt=!1,++Xe,++ye>=V&&(ye=0,++pe,ce!=null&&pe<=ue&&!(pe%16)&&ce(S,pe),ze!=null))for(;Qe<Xe;)gt=k[Qe++],ze.X[(506832829*gt&4294967295)>>>ze.Mb]=gt}else if(280>gt){if(gt=Hn(gt-256,Ee),It=Rr(pt.G[4],pt.H[4],Ee),le(Ee),It=ar(V,It=Hn(It,Ee)),Ee.h)break;if(Xe-P<It||ie-Xe<gt)break e;for(Tt=0;Tt<gt;++Tt)k[Xe+Tt]=k[Xe+Tt-It];for(Xe+=gt,ye+=gt;ye>=V;)ye-=V,++pe,ce!=null&&pe<=ue&&!(pe%16)&&ce(S,pe);if(n(Xe<=ie),ye&Ue&&(pt=fr(Fe,ye,pe)),ze!=null)for(;Qe<Xe;)gt=k[Qe++],ze.X[(506832829*gt&4294967295)>>>ze.Mb]=gt}else{if(!(gt<yt))break e;for(xt=gt-280,n(ze!=null);Qe<Xe;)gt=k[Qe++],ze.X[(506832829*gt&4294967295)>>>ze.Mb]=gt;gt=Xe,n(!(xt>>>(It=ze).Xa)),k[gt]=It.X[xt],xt=!0}xt||n(Ee.h==J(Ee))}if(S.Pb&&Ee.h&&Xe<ie)n(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&Ae(S.s.vb,S.s.Wa);else{if(Ee.h)break e;ce!=null&&ce(S,pe>ue?ue:pe),S.a=0,S.$=Xe-P}return 1}return S.a=3,0}function Zn(S){n(S!=null),S.vc=null,S.yc=null,S.Ya=null;var k=S.Wa;k!=null&&(k.X=null),S.vb=null,n(S!=null)}function Ci(){var S=new km;return S==null?null:(S.a=0,S.xb=af,nn("Predictor","VP8LPredictors"),nn("Predictor","VP8LPredictors_C"),nn("PredictorAdd","VP8LPredictorsAdd"),nn("PredictorAdd","VP8LPredictorsAdd_C"),Lp=ve,Fu=Oe,ss=et,Ra=Pt,Pu=Nt,Es=Yt,Do=Rt,L.VP8LMapColor32b=Ea,L.VP8LMapColor8b=yh,S)}function Jn(S,k,P,V,ie){var ue=1,ce=[S],pe=[k],ye=V.m,Ee=V.s,Fe=null,Xe=0;e:for(;;){if(P)for(;ue&&U(ye,1);){var Qe=ce,We=pe,yt=V,at=1,ze=yt.m,Ue=yt.gc[yt.ab],pt=U(ze,2);if(yt.Oc&1<<pt)ue=0;else{switch(yt.Oc|=1<<pt,Ue.hc=pt,Ue.Ea=Qe[0],Ue.nc=We[0],Ue.K=[null],++yt.ab,n(4>=yt.ab),pt){case 0:case 1:Ue.b=U(ze,3)+2,at=Jn(fe(Ue.Ea,Ue.b),fe(Ue.nc,Ue.b),0,yt,Ue.K),Ue.K=Ue.K[0];break;case 3:var xt,gt=U(ze,8)+1,It=16<gt?0:4<gt?1:2<gt?2:3;if(Qe[0]=fe(Ue.Ea,It),Ue.b=It,xt=at=Jn(gt,1,0,yt,Ue.K)){var Tt,Gt=gt,jt=Ue,Yn=1<<(8>>jt.b),sr=a(Yn);if(sr==null)xt=0;else{var In=jt.K[0],On=jt.w;for(sr[0]=jt.K[0][0],Tt=1;Tt<1*Gt;++Tt)sr[Tt]=Ce(In[On+Tt],sr[Tt-1]);for(;Tt<4*Yn;++Tt)sr[Tt]=0;jt.K[0]=null,jt.K[0]=sr,xt=1}}at=xt;break;case 2:break;default:n(0)}ue=at}}if(ce=ce[0],pe=pe[0],ue&&U(ye,1)&&!(ue=1<=(Xe=U(ye,4))&&11>=Xe)){V.a=3;break e}var Cr;if(Cr=ue)t:{var or,yn,Tr,en=V,un=ce,Wn=pe,Vn=Xe,Na=P,oa=en.m,Ti=en.s,ji=[null],Ui=1,ho=0,lr=ed[Vn];n:for(;;){if(Na&&U(oa,1)){var Hi=U(oa,3)+2,Mo=fe(un,Hi),Qu=fe(Wn,Hi),rd=Mo*Qu;if(!Jn(Mo,Qu,0,en,ji))break n;for(ji=ji[0],Ti.xc=Hi,or=0;or<rd;++or){var Ku=ji[or]>>8&65535;ji[or]=Ku,Ku>=Ui&&(Ui=Ku+1)}}if(oa.h)break n;for(yn=0;5>yn;++yn){var ti=Xs[yn];!yn&&0<Vn&&(ti+=1<<Vn),ho<ti&&(ho=ti)}var Eh=s(Ui*lr,j),$p=Ui,ls=s($p,N);if(ls==null)var ci=null;else n(65536>=$p),ci=ls;var id=a(ho);if(ci==null||id==null||Eh==null){en.a=1;break n}var Xu=Eh;for(or=Tr=0;or<Ui;++or){var _s=ci[or],Zu=_s.G,Ns=_s.H,kh=0,of=1,Up=0;for(yn=0;5>yn;++yn){ti=Xs[yn],Zu[yn]=Xu,Ns[yn]=Tr,!yn&&0<Vn&&(ti+=1<<Vn);i:{var _h,Hp=ti,Nh=en,lf=id,Nb=Xu,Tb=Tr,Th=0,nu=Nh.m,N2=U(nu,1);if(i(lf,0,0,Hp),N2){var jb=U(nu,1)+1,Ob=U(nu,1),Om=U(nu,Ob==0?1:8);lf[Om]=1,jb==2&&(lf[Om=U(nu,8)]=1);var uf=1}else{var Im=a(19),Dm=U(nu,4)+4;if(19<Dm){Nh.a=3;var jh=0;break i}for(_h=0;_h<Dm;++_h)Im[Xl[_h]]=U(nu,3);var Wp=void 0,cf=void 0,Ib=Nh,Db=Im,ru=Hp,Oh=lf,Yp=0,Fo=Ib.m,df=8,Lm=s(128,j);r:for(;O(Lm,0,7,Db,19);){if(U(Fo,1)){var Lb=2+2*U(Fo,3);if((Wp=2+U(Fo,Lb))>ru)break r}else Wp=ru;for(cf=0;cf<ru&&Wp--;){le(Fo);var Rm=Lm[0+(127&B(Fo))];ne(Fo,Fo.u+Rm.g);var ad=Rm.value;if(16>ad)Oh[cf++]=ad,ad!=0&&(df=ad);else{var Rb=ad==16,Mm=ad-16,Fm=fo[Mm],Pm=U(Fo,Fp[Mm])+Fm;if(cf+Pm>ru)break r;for(var Mb=Rb?df:0;0<Pm--;)Oh[cf++]=Mb}}Yp=1;break r}Yp||(Ib.a=3),uf=Yp}(uf=uf&&!nu.h)&&(Th=O(Nb,Tb,8,lf,Hp)),uf&&Th!=0?jh=Th:(Nh.a=3,jh=0)}if(jh==0)break n;if(of&&Jc[yn]==1&&(of=Xu[Tr].g==0),kh+=Xu[Tr].g,Tr+=jh,3>=yn){var sd,Vp=id[0];for(sd=1;sd<ti;++sd)id[sd]>Vp&&(Vp=id[sd]);Up+=Vp}}if(_s.nd=of,_s.Qb=0,of&&(_s.qb=(Zu[3][Ns[3]+0].value<<24|Zu[1][Ns[1]+0].value<<16|Zu[2][Ns[2]+0].value)>>>0,kh==0&&256>Zu[0][Ns[0]+0].value&&(_s.Qb=1,_s.qb+=Zu[0][Ns[0]+0].value<<8)),_s.jc=!_s.Qb&&6>Up,_s.jc){var Ih,iu=_s;for(Ih=0;Ih<ra;++Ih){var bl=Ih,au=iu.pd[bl],Dh=iu.G[0][iu.H[0]+bl];256<=Dh.value?(au.g=Dh.g+256,au.value=Dh.value):(au.g=0,au.value=0,bl>>=dr(Dh,8,au),bl>>=dr(iu.G[1][iu.H[1]+bl],16,au),bl>>=dr(iu.G[2][iu.H[2]+bl],0,au),dr(iu.G[3][iu.H[3]+bl],24,au))}}}Ti.vc=ji,Ti.Wb=Ui,Ti.Ya=ci,Ti.yc=Eh,Cr=1;break t}Cr=0}if(!(ue=Cr)){V.a=3;break e}if(0<Xe){if(Ee.ua=1<<Xe,!Y(Ee.Wa,Xe)){V.a=1,ue=0;break e}}else Ee.ua=0;var Lh=V,zm=ce,Fb=pe,qm=Lh.s,Bm=qm.xc;if(Lh.c=zm,Lh.i=Fb,qm.md=fe(zm,Bm),qm.wc=Bm==0?-1:(1<<Bm)-1,P){V.xb=Cb;break e}if((Fe=a(ce*pe))==null){V.a=1,ue=0;break e}ue=(ue=qi(V,Fe,0,ce,pe,pe,null))&&!ye.h;break e}return ue?(ie!=null?ie[0]=Fe:(n(Fe==null),n(P)),V.$=0,P||Zn(Ee)):Zn(Ee),ue}function ro(S,k){var P=S.c*S.i,V=P+k+16*k;return n(S.c<=k),S.V=a(V),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+P+k,1)}function Eo(S,k){var P=S.C,V=k-P,ie=S.V,ue=S.Ba+S.c*P;for(n(k<=S.l.o);0<V;){var ce=16<V?16:V,pe=S.l.ma,ye=S.l.width,Ee=ye*ce,Fe=pe.ca,Xe=pe.tb+ye*P,Qe=S.Ta,We=S.Ua;Un(S,ce,ie,ue),Pr(Qe,We,Fe,Xe,Ee),Da(pe,P,P+ce,Fe,Xe,ye),V-=ce,ie+=ce*S.c,P+=ce}n(P==k),S.C=S.Ma=k}function Fa(){this.ub=this.yd=this.td=this.Rb=0}function Mr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function nl(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function ql(){this.Yb=function(){var S=[];return function k(P,V,ie){for(var ue=ie[V],ce=0;ce<ue&&(P.push(ie.length>V+1?[]:0),!(ie.length<V+1));ce++)k(P[ce],V+1,ie)}(S,0,[3,11]),S}()}function ju(){this.jb=a(3),this.Wc=l([4,8],ql),this.Xc=l([4,17],ql)}function $c(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Us(){this.ld=this.La=this.dd=this.tc=0}function ys(){this.Na=this.la=0}function Pa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xs(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function rs(){this.uc=this.M=this.Nb=0,this.wa=Array(new Us),this.Y=0,this.ya=Array(new xs),this.aa=0,this.l=new io}function is(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Bl(){this.cb=this.a=0,this.sc="",this.m=new se,this.Od=new Fa,this.Kc=new Mr,this.ed=new $c,this.Qa=new nl,this.Ic=this.$c=this.Aa=0,this.D=new rs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,se),this.ia=0,this.pb=s(4,Pa),this.Pa=new ju,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new is),this.Hd=0,this.rb=Array(new ys),this.sb=0,this.wa=Array(new Us),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xs),this.L=this.aa=0,this.gd=l([4,2],Us),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function io(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Uc(){var S=new Bl;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,ia||(ia=rl)),S}function Fr(S,k,P){return S.a==0&&(S.a=k,S.sc=P,S.cb=0),0}function ta(S,k,P){return 3<=P&&S[k+0]==157&&S[k+1]==1&&S[k+2]==42}function ao(S,k){if(S==null)return 0;if(S.a=0,S.sc="OK",k==null)return Fr(S,2,"null VP8Io passed to VP8GetHeaders()");var P=k.data,V=k.w,ie=k.ha;if(4>ie)return Fr(S,7,"Truncated header.");var ue=P[V+0]|P[V+1]<<8|P[V+2]<<16,ce=S.Od;if(ce.Rb=!(1&ue),ce.td=ue>>1&7,ce.yd=ue>>4&1,ce.ub=ue>>5,3<ce.td)return Fr(S,3,"Incorrect keyframe parameters.");if(!ce.yd)return Fr(S,4,"Frame not displayable.");V+=3,ie-=3;var pe=S.Kc;if(ce.Rb){if(7>ie)return Fr(S,7,"cannot parse picture header");if(!ta(P,V,ie))return Fr(S,3,"Bad code word");pe.c=16383&(P[V+4]<<8|P[V+3]),pe.Td=P[V+4]>>6,pe.i=16383&(P[V+6]<<8|P[V+5]),pe.Ud=P[V+6]>>6,V+=7,ie-=7,S.za=pe.c+15>>4,S.Ub=pe.i+15>>4,k.width=pe.c,k.height=pe.i,k.Da=0,k.j=0,k.v=0,k.va=k.width,k.o=k.height,k.da=0,k.ib=k.width,k.hb=k.height,k.U=k.width,k.T=k.height,i((ue=S.Pa).jb,0,255,ue.jb.length),n((ue=S.Qa)!=null),ue.Cb=0,ue.Bb=0,ue.Fb=1,i(ue.Zb,0,0,ue.Zb.length),i(ue.Lb,0,0,ue.Lb)}if(ce.ub>ie)return Fr(S,7,"bad partition length");G(ue=S.m,P,V,ce.ub),V+=ce.ub,ie-=ce.ub,ce.Rb&&(pe.Ld=xe(ue),pe.Kd=xe(ue)),pe=S.Qa;var ye,Ee=S.Pa;if(n(ue!=null),n(pe!=null),pe.Cb=xe(ue),pe.Cb){if(pe.Bb=xe(ue),xe(ue)){for(pe.Fb=xe(ue),ye=0;4>ye;++ye)pe.Zb[ye]=xe(ue)?Q(ue,7):0;for(ye=0;4>ye;++ye)pe.Lb[ye]=xe(ue)?Q(ue,6):0}if(pe.Bb)for(ye=0;3>ye;++ye)Ee.jb[ye]=xe(ue)?H(ue,8):255}else pe.Bb=0;if(ue.Ka)return Fr(S,3,"cannot parse segment header");if((pe=S.ed).zd=xe(ue),pe.Tb=H(ue,6),pe.wb=H(ue,3),pe.Pc=xe(ue),pe.Pc&&xe(ue)){for(Ee=0;4>Ee;++Ee)xe(ue)&&(pe.vd[Ee]=Q(ue,6));for(Ee=0;4>Ee;++Ee)xe(ue)&&(pe.od[Ee]=Q(ue,6))}if(S.L=pe.Tb==0?0:pe.zd?1:2,ue.Ka)return Fr(S,3,"cannot parse filter header");var Fe=ie;if(ie=ye=V,V=ye+Fe,pe=Fe,S.Xb=(1<<H(S.m,2))-1,Fe<3*(Ee=S.Xb))P=7;else{for(ye+=3*Ee,pe-=3*Ee,Fe=0;Fe<Ee;++Fe){var Xe=P[ie+0]|P[ie+1]<<8|P[ie+2]<<16;Xe>pe&&(Xe=pe),G(S.Jc[+Fe],P,ye,Xe),ye+=Xe,pe-=Xe,ie+=3}G(S.Jc[+Ee],P,ye,pe),P=ye<V?0:5}if(P!=0)return Fr(S,P,"cannot parse partitions");for(P=H(ye=S.m,7),ie=xe(ye)?Q(ye,4):0,V=xe(ye)?Q(ye,4):0,pe=xe(ye)?Q(ye,4):0,Ee=xe(ye)?Q(ye,4):0,ye=xe(ye)?Q(ye,4):0,Fe=S.Qa,Xe=0;4>Xe;++Xe){if(Fe.Cb){var Qe=Fe.Zb[Xe];Fe.Fb||(Qe+=P)}else{if(0<Xe){S.pb[Xe]=S.pb[0];continue}Qe=P}var We=S.pb[Xe];We.Sc[0]=wh[Qs(Qe+ie,127)],We.Sc[1]=Sh[Qs(Qe+0,127)],We.Eb[0]=2*wh[Qs(Qe+V,127)],We.Eb[1]=101581*Sh[Qs(Qe+pe,127)]>>16,8>We.Eb[1]&&(We.Eb[1]=8),We.Qc[0]=wh[Qs(Qe+Ee,117)],We.Qc[1]=Sh[Qs(Qe+ye,127)],We.lc=Qe+ye}if(!ce.Rb)return Fr(S,4,"Not a key frame.");for(xe(ue),ce=S.Pa,P=0;4>P;++P){for(ie=0;8>ie;++ie)for(V=0;3>V;++V)for(pe=0;11>pe;++pe)Ee=ke(ue,td[P][ie][V][pe])?H(ue,8):hl[P][ie][V][pe],ce.Wc[P][ie].Yb[V][pe]=Ee;for(ie=0;17>ie;++ie)ce.Xc[P][ie]=ce.Wc[P][Ab[ie]]}return S.kc=xe(ue),S.kc&&(S.Bd=H(ue,8)),S.cb=1}function rl(S,k,P,V,ie,ue,ce){var pe=k[ie].Yb[P];for(P=0;16>ie;++ie){if(!ke(S,pe[P+0]))return ie;for(;!ke(S,pe[P+1]);)if(pe=k[++ie].Yb[0],P=0,ie==16)return 16;var ye=k[ie+1].Yb;if(ke(S,pe[P+2])){var Ee=S,Fe=0;if(ke(Ee,(Qe=pe)[(Xe=P)+3]))if(ke(Ee,Qe[Xe+6])){for(pe=0,Xe=2*(Fe=ke(Ee,Qe[Xe+8]))+(Qe=ke(Ee,Qe[Xe+9+Fe])),Fe=0,Qe=bi[Xe];Qe[pe];++pe)Fe+=Fe+ke(Ee,Qe[pe]);Fe+=3+(8<<Xe)}else ke(Ee,Qe[Xe+7])?(Fe=7+2*ke(Ee,165),Fe+=ke(Ee,145)):Fe=5+ke(Ee,159);else Fe=ke(Ee,Qe[Xe+4])?3+ke(Ee,Qe[Xe+5]):2;pe=ye[2]}else Fe=1,pe=ye[1];ye=ce+er[ie],0>(Ee=S).b&&Se(Ee);var Xe,Qe=Ee.b,We=(Xe=Ee.Ca>>1)-(Ee.I>>Qe)>>31;--Ee.b,Ee.Ca+=We,Ee.Ca|=1,Ee.I-=(Xe+1&We)<<Qe,ue[ye]=((Fe^We)-We)*V[(0<ie)+0]}return 16}function za(S){var k=S.rb[S.sb-1];k.la=0,k.Na=0,i(S.zc,0,0,S.zc.length),S.ja=0}function $l(S,k){if(S==null)return 0;if(k==null)return Fr(S,2,"NULL VP8Io parameter in VP8Decode().");if(!S.cb&&!ao(S,k))return 0;if(n(S.cb),k.ac==null||k.ac(k)){k.ob&&(S.L=0);var P=tu[S.L];if(S.L==2?(S.yb=0,S.zb=0):(S.yb=k.v-P>>4,S.zb=k.j-P>>4,0>S.yb&&(S.yb=0),0>S.zb&&(S.zb=0)),S.Va=k.o+15+P>>4,S.Hb=k.va+15+P>>4,S.Hb>S.za&&(S.Hb=S.za),S.Va>S.Ub&&(S.Va=S.Ub),0<S.L){var V=S.ed;for(P=0;4>P;++P){var ie;if(S.Qa.Cb){var ue=S.Qa.Lb[P];S.Qa.Fb||(ue+=V.Tb)}else ue=V.Tb;for(ie=0;1>=ie;++ie){var ce=S.gd[P][ie],pe=ue;if(V.Pc&&(pe+=V.vd[0],ie&&(pe+=V.od[0])),0<(pe=0>pe?0:63<pe?63:pe)){var ye=pe;0<V.wb&&(ye=4<V.wb?ye>>2:ye>>1)>9-V.wb&&(ye=9-V.wb),1>ye&&(ye=1),ce.dd=ye,ce.tc=2*pe+ye,ce.ld=40<=pe?2:15<=pe?1:0}else ce.tc=0;ce.La=ie}}}P=0}else Fr(S,6,"Frame setup failed"),P=S.a;if(P=P==0){if(P){S.$c=0,0<S.Aa||(S.Ic=kb);e:{P=S.Ic,V=4*(ye=S.za);var Ee=32*ye,Fe=ye+1,Xe=0<S.L?ye*(0<S.Aa?2:1):0,Qe=(S.Aa==2?2:1)*ye;if((ce=V+832+(ie=3*(16*P+tu[S.L])/2*Ee)+(ue=S.Fa!=null&&0<S.Fa.length?S.Kc.c*S.Kc.i:0))!=ce)P=0;else{if(ce>S.Vb){if(S.Vb=0,S.Ec=a(ce),S.Fc=0,S.Ec==null){P=Fr(S,1,"no memory during frame initialization.");break e}S.Vb=ce}ce=S.Ec,pe=S.Fc,S.Ac=ce,S.Bc=pe,pe+=V,S.Gd=s(Ee,is),S.Hd=0,S.rb=s(Fe+1,ys),S.sb=1,S.wa=Xe?s(Xe,Us):null,S.Y=0,S.D.Nb=0,S.D.wa=S.wa,S.D.Y=S.Y,0<S.Aa&&(S.D.Y+=ye),n(!0),S.oc=ce,S.pc=pe,pe+=832,S.ya=s(Qe,xs),S.aa=0,S.D.ya=S.ya,S.D.aa=S.aa,S.Aa==2&&(S.D.aa+=ye),S.R=16*ye,S.B=8*ye,ye=(Ee=tu[S.L])*S.R,Ee=Ee/2*S.B,S.sa=ce,S.ta=pe+ye,S.qa=S.sa,S.ra=S.ta+16*P*S.R+Ee,S.Ha=S.qa,S.Ia=S.ra+8*P*S.B+Ee,S.$c=0,pe+=ie,S.mb=ue?ce:null,S.nb=ue?pe:null,n(pe+ue<=S.Fc+S.Vb),za(S),i(S.Ac,S.Bc,0,V),P=1}}if(P){if(k.ka=0,k.y=S.sa,k.O=S.ta,k.f=S.qa,k.N=S.ra,k.ea=S.Ha,k.Vd=S.Ia,k.fa=S.R,k.Rc=S.B,k.F=null,k.J=0,!Gl){for(P=-255;255>=P;++P)Ni[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)uo[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)Uu[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)Hu[255+P]=0>P?0:255<P?255:P;Gl=1}cl=Bi,Lo=_o,Ro=Hs,$i=Ou,ks=Ws,mi=Ul,Gc=Gr,dl=Ha,ef=Yd,zu=ul,qu=Gs,Bu=As,Qc=jo,tf=Dp,$u=pr,Vl=bn,Kc=Nr,gi=Aa,os[0]=Ei,os[1]=vs,os[2]=so,os[3]=ol,os[4]=Ba,os[5]=$a,os[6]=No,os[7]=La,os[8]=To,os[9]=Ua,Jl[0]=sl,Jl[1]=qa,Jl[2]=Ys,Jl[3]=al,Jl[4]=li,Jl[5]=Jr,Jl[6]=ws,Zs[0]=W,Zs[1]=Iu,Zs[2]=ll,Zs[3]=oo,Zs[4]=Ie,Zs[5]=ge,Zs[6]=lt,P=1}else P=0}P&&(P=function(We,yt){for(We.M=0;We.M<We.Va;++We.M){var at,ze=We.Jc[We.M&We.Xb],Ue=We.m,pt=We;for(at=0;at<pt.za;++at){var xt=Ue,gt=pt,It=gt.Ac,Tt=gt.Bc+4*at,Gt=gt.zc,jt=gt.ya[gt.aa+at];if(gt.Qa.Bb?jt.$b=ke(xt,gt.Pa.jb[0])?2+ke(xt,gt.Pa.jb[2]):ke(xt,gt.Pa.jb[1]):jt.$b=0,gt.kc&&(jt.Ad=ke(xt,gt.Bd)),jt.Za=!ke(xt,145)+0,jt.Za){var Yn=jt.Ob,sr=0;for(gt=0;4>gt;++gt){var In,On=Gt[0+gt];for(In=0;4>In;++In){On=Nm[It[Tt+In]][On];for(var Cr=Yu[ke(xt,On[0])];0<Cr;)Cr=Yu[2*Cr+ke(xt,On[Cr])];On=-Cr,It[Tt+In]=On}r(Yn,sr,It,Tt,4),sr+=4,Gt[0+gt]=On}}else On=ke(xt,156)?ke(xt,128)?1:3:ke(xt,163)?2:0,jt.Ob[0]=On,i(It,Tt,On,4),i(Gt,0,On,4);jt.Dd=ke(xt,142)?ke(xt,114)?ke(xt,183)?1:3:2:0}if(pt.m.Ka)return Fr(We,7,"Premature end-of-partition0 encountered.");for(;We.ja<We.za;++We.ja){if(pt=ze,xt=(Ue=We).rb[Ue.sb-1],It=Ue.rb[Ue.sb+Ue.ja],at=Ue.ya[Ue.aa+Ue.ja],Tt=Ue.kc?at.Ad:0)xt.la=It.la=0,at.Za||(xt.Na=It.Na=0),at.Hc=0,at.Gc=0,at.ia=0;else{var or,yn;if(xt=It,It=pt,Tt=Ue.Pa.Xc,Gt=Ue.ya[Ue.aa+Ue.ja],jt=Ue.pb[Gt.$b],gt=Gt.ad,Yn=0,sr=Ue.rb[Ue.sb-1],On=In=0,i(gt,Yn,0,384),Gt.Za)var Tr=0,en=Tt[3];else{Cr=a(16);var un=xt.Na+sr.Na;if(un=ia(It,Tt[1],un,jt.Eb,0,Cr,0),xt.Na=sr.Na=(0<un)+0,1<un)cl(Cr,0,gt,Yn);else{var Wn=Cr[0]+3>>3;for(Cr=0;256>Cr;Cr+=16)gt[Yn+Cr]=Wn}Tr=1,en=Tt[0]}var Vn=15&xt.la,Na=15&sr.la;for(Cr=0;4>Cr;++Cr){var oa=1&Na;for(Wn=yn=0;4>Wn;++Wn)Vn=Vn>>1|(oa=(un=ia(It,en,un=oa+(1&Vn),jt.Sc,Tr,gt,Yn))>Tr)<<7,yn=yn<<2|(3<un?3:1<un?2:gt[Yn+0]!=0),Yn+=16;Vn>>=4,Na=Na>>1|oa<<7,In=(In<<8|yn)>>>0}for(en=Vn,Tr=Na>>4,or=0;4>or;or+=2){for(yn=0,Vn=xt.la>>4+or,Na=sr.la>>4+or,Cr=0;2>Cr;++Cr){for(oa=1&Na,Wn=0;2>Wn;++Wn)un=oa+(1&Vn),Vn=Vn>>1|(oa=0<(un=ia(It,Tt[2],un,jt.Qc,0,gt,Yn)))<<3,yn=yn<<2|(3<un?3:1<un?2:gt[Yn+0]!=0),Yn+=16;Vn>>=2,Na=Na>>1|oa<<5}On|=yn<<4*or,en|=Vn<<4<<or,Tr|=(240&Na)<<or}xt.la=en,sr.la=Tr,Gt.Hc=In,Gt.Gc=On,Gt.ia=43690&On?0:jt.ia,Tt=!(In|On)}if(0<Ue.L&&(Ue.wa[Ue.Y+Ue.ja]=Ue.gd[at.$b][at.Za],Ue.wa[Ue.Y+Ue.ja].La|=!Tt),pt.Ka)return Fr(We,7,"Premature end-of-file encountered.")}if(za(We),Ue=yt,pt=1,at=(ze=We).D,xt=0<ze.L&&ze.M>=ze.zb&&ze.M<=ze.Va,ze.Aa==0)e:{if(at.M=ze.M,at.uc=xt,Wl(ze,at),pt=1,at=(yn=ze.D).Nb,xt=(On=tu[ze.L])*ze.R,It=On/2*ze.B,Cr=16*at*ze.R,Wn=8*at*ze.B,Tt=ze.sa,Gt=ze.ta-xt+Cr,jt=ze.qa,gt=ze.ra-It+Wn,Yn=ze.Ha,sr=ze.Ia-It+Wn,Na=(Vn=yn.M)==0,In=Vn>=ze.Va-1,ze.Aa==2&&Wl(ze,yn),yn.uc)for(oa=(un=ze).D.M,n(un.D.uc),yn=un.yb;yn<un.Hb;++yn){Tr=yn,en=oa;var Ti=(ji=(ti=un).D).Nb;or=ti.R;var ji=ji.wa[ji.Y+Tr],Ui=ti.sa,ho=ti.ta+16*Ti*or+16*Tr,lr=ji.dd,Hi=ji.tc;if(Hi!=0)if(n(3<=Hi),ti.L==1)0<Tr&&Vl(Ui,ho,or,Hi+4),ji.La&&gi(Ui,ho,or,Hi),0<en&&$u(Ui,ho,or,Hi+4),ji.La&&Kc(Ui,ho,or,Hi);else{var Mo=ti.B,Qu=ti.qa,rd=ti.ra+8*Ti*Mo+8*Tr,Ku=ti.Ha,ti=ti.Ia+8*Ti*Mo+8*Tr;Ti=ji.ld,0<Tr&&(dl(Ui,ho,or,Hi+4,lr,Ti),zu(Qu,rd,Ku,ti,Mo,Hi+4,lr,Ti)),ji.La&&(Bu(Ui,ho,or,Hi,lr,Ti),tf(Qu,rd,Ku,ti,Mo,Hi,lr,Ti)),0<en&&(Gc(Ui,ho,or,Hi+4,lr,Ti),ef(Qu,rd,Ku,ti,Mo,Hi+4,lr,Ti)),ji.La&&(qu(Ui,ho,or,Hi,lr,Ti),Qc(Qu,rd,Ku,ti,Mo,Hi,lr,Ti))}}if(ze.ia&&alert("todo:DitherRow"),Ue.put!=null){if(yn=16*Vn,Vn=16*(Vn+1),Na?(Ue.y=ze.sa,Ue.O=ze.ta+Cr,Ue.f=ze.qa,Ue.N=ze.ra+Wn,Ue.ea=ze.Ha,Ue.W=ze.Ia+Wn):(yn-=On,Ue.y=Tt,Ue.O=Gt,Ue.f=jt,Ue.N=gt,Ue.ea=Yn,Ue.W=sr),In||(Vn-=On),Vn>Ue.o&&(Vn=Ue.o),Ue.F=null,Ue.J=null,ze.Fa!=null&&0<ze.Fa.length&&yn<Vn&&(Ue.J=mh(ze,Ue,yn,Vn-yn),Ue.F=ze.mb,Ue.F==null&&Ue.F.length==0)){pt=Fr(ze,3,"Could not decode alpha data.");break e}yn<Ue.j&&(On=Ue.j-yn,yn=Ue.j,n(!(1&On)),Ue.O+=ze.R*On,Ue.N+=ze.B*(On>>1),Ue.W+=ze.B*(On>>1),Ue.F!=null&&(Ue.J+=Ue.width*On)),yn<Vn&&(Ue.O+=Ue.v,Ue.N+=Ue.v>>1,Ue.W+=Ue.v>>1,Ue.F!=null&&(Ue.J+=Ue.v),Ue.ka=yn-Ue.j,Ue.U=Ue.va-Ue.v,Ue.T=Vn-yn,pt=Ue.put(Ue))}at+1!=ze.Ic||In||(r(ze.sa,ze.ta-xt,Tt,Gt+16*ze.R,xt),r(ze.qa,ze.ra-It,jt,gt+8*ze.B,It),r(ze.Ha,ze.Ia-It,Yn,sr+8*ze.B,It))}if(!pt)return Fr(We,6,"Output aborted.")}return 1}(S,k)),k.bc!=null&&k.bc(k),P&=1}return P?(S.cb=0,P):0}function na(S,k,P,V,ie){ie=S[k+P+32*V]+(ie>>3),S[k+P+32*V]=-256&ie?0>ie?0:255:ie}function il(S,k,P,V,ie,ue){na(S,k,0,P,V+ie),na(S,k,1,P,V+ue),na(S,k,2,P,V-ue),na(S,k,3,P,V-ie)}function hr(S){return(20091*S>>16)+S}function ko(S,k,P,V){var ie,ue=0,ce=a(16);for(ie=0;4>ie;++ie){var pe=S[k+0]+S[k+8],ye=S[k+0]-S[k+8],Ee=(35468*S[k+4]>>16)-hr(S[k+12]),Fe=hr(S[k+4])+(35468*S[k+12]>>16);ce[ue+0]=pe+Fe,ce[ue+1]=ye+Ee,ce[ue+2]=ye-Ee,ce[ue+3]=pe-Fe,ue+=4,k++}for(ie=ue=0;4>ie;++ie)pe=(S=ce[ue+0]+4)+ce[ue+8],ye=S-ce[ue+8],Ee=(35468*ce[ue+4]>>16)-hr(ce[ue+12]),na(P,V,0,0,pe+(Fe=hr(ce[ue+4])+(35468*ce[ue+12]>>16))),na(P,V,1,0,ye+Ee),na(P,V,2,0,ye-Ee),na(P,V,3,0,pe-Fe),ue++,V+=32}function Ul(S,k,P,V){var ie=S[k+0]+4,ue=35468*S[k+4]>>16,ce=hr(S[k+4]),pe=35468*S[k+1]>>16;il(P,V,0,ie+ce,S=hr(S[k+1]),pe),il(P,V,1,ie+ue,S,pe),il(P,V,2,ie-ue,S,pe),il(P,V,3,ie-ce,S,pe)}function _o(S,k,P,V,ie){ko(S,k,P,V),ie&&ko(S,k+16,P,V+4)}function Hs(S,k,P,V){Lo(S,k+0,P,V,1),Lo(S,k+32,P,V+128,1)}function Ou(S,k,P,V){var ie;for(S=S[k+0]+4,ie=0;4>ie;++ie)for(k=0;4>k;++k)na(P,V,k,ie,S)}function Ws(S,k,P,V){S[k+0]&&$i(S,k+0,P,V),S[k+16]&&$i(S,k+16,P,V+4),S[k+32]&&$i(S,k+32,P,V+128),S[k+48]&&$i(S,k+48,P,V+128+4)}function Bi(S,k,P,V){var ie,ue=a(16);for(ie=0;4>ie;++ie){var ce=S[k+0+ie]+S[k+12+ie],pe=S[k+4+ie]+S[k+8+ie],ye=S[k+4+ie]-S[k+8+ie],Ee=S[k+0+ie]-S[k+12+ie];ue[0+ie]=ce+pe,ue[8+ie]=ce-pe,ue[4+ie]=Ee+ye,ue[12+ie]=Ee-ye}for(ie=0;4>ie;++ie)ce=(S=ue[0+4*ie]+3)+ue[3+4*ie],pe=ue[1+4*ie]+ue[2+4*ie],ye=ue[1+4*ie]-ue[2+4*ie],Ee=S-ue[3+4*ie],P[V+0]=ce+pe>>3,P[V+16]=Ee+ye>>3,P[V+32]=ce-pe>>3,P[V+48]=Ee-ye>>3,V+=64}function as(S,k,P){var V,ie=k-32,ue=ka,ce=255-S[ie-1];for(V=0;V<P;++V){var pe,ye=ue,Ee=ce+S[k-1];for(pe=0;pe<P;++pe)S[k+pe]=ye[Ee+S[ie+pe]];k+=32}}function vs(S,k){as(S,k,4)}function Iu(S,k){as(S,k,8)}function qa(S,k){as(S,k,16)}function Ys(S,k){var P;for(P=0;16>P;++P)r(S,k+32*P,S,k-32,16)}function al(S,k){var P;for(P=16;0<P;--P)i(S,k,S[k-1],16),k+=32}function Vs(S,k,P){var V;for(V=0;16>V;++V)i(k,P+32*V,S,16)}function sl(S,k){var P,V=16;for(P=0;16>P;++P)V+=S[k-1+32*P]+S[k+P-32];Vs(V>>5,S,k)}function li(S,k){var P,V=8;for(P=0;16>P;++P)V+=S[k-1+32*P];Vs(V>>4,S,k)}function Jr(S,k){var P,V=8;for(P=0;16>P;++P)V+=S[k+P-32];Vs(V>>4,S,k)}function ws(S,k){Vs(128,S,k)}function tn(S,k,P){return S+2*k+P+2>>2}function so(S,k){var P,V=k-32;for(V=new Uint8Array([tn(S[V-1],S[V+0],S[V+1]),tn(S[V+0],S[V+1],S[V+2]),tn(S[V+1],S[V+2],S[V+3]),tn(S[V+2],S[V+3],S[V+4])]),P=0;4>P;++P)r(S,k+32*P,V,0,V.length)}function ol(S,k){var P=S[k-1],V=S[k-1+32],ie=S[k-1+64],ue=S[k-1+96];De(S,k+0,16843009*tn(S[k-1-32],P,V)),De(S,k+32,16843009*tn(P,V,ie)),De(S,k+64,16843009*tn(V,ie,ue)),De(S,k+96,16843009*tn(ie,ue,ue))}function Ei(S,k){var P,V=4;for(P=0;4>P;++P)V+=S[k+P-32]+S[k-1+32*P];for(V>>=3,P=0;4>P;++P)i(S,k+32*P,V,4)}function Ba(S,k){var P=S[k-1+0],V=S[k-1+32],ie=S[k-1+64],ue=S[k-1-32],ce=S[k+0-32],pe=S[k+1-32],ye=S[k+2-32],Ee=S[k+3-32];S[k+0+96]=tn(V,ie,S[k-1+96]),S[k+1+96]=S[k+0+64]=tn(P,V,ie),S[k+2+96]=S[k+1+64]=S[k+0+32]=tn(ue,P,V),S[k+3+96]=S[k+2+64]=S[k+1+32]=S[k+0+0]=tn(ce,ue,P),S[k+3+64]=S[k+2+32]=S[k+1+0]=tn(pe,ce,ue),S[k+3+32]=S[k+2+0]=tn(ye,pe,ce),S[k+3+0]=tn(Ee,ye,pe)}function No(S,k){var P=S[k+1-32],V=S[k+2-32],ie=S[k+3-32],ue=S[k+4-32],ce=S[k+5-32],pe=S[k+6-32],ye=S[k+7-32];S[k+0+0]=tn(S[k+0-32],P,V),S[k+1+0]=S[k+0+32]=tn(P,V,ie),S[k+2+0]=S[k+1+32]=S[k+0+64]=tn(V,ie,ue),S[k+3+0]=S[k+2+32]=S[k+1+64]=S[k+0+96]=tn(ie,ue,ce),S[k+3+32]=S[k+2+64]=S[k+1+96]=tn(ue,ce,pe),S[k+3+64]=S[k+2+96]=tn(ce,pe,ye),S[k+3+96]=tn(pe,ye,ye)}function $a(S,k){var P=S[k-1+0],V=S[k-1+32],ie=S[k-1+64],ue=S[k-1-32],ce=S[k+0-32],pe=S[k+1-32],ye=S[k+2-32],Ee=S[k+3-32];S[k+0+0]=S[k+1+64]=ue+ce+1>>1,S[k+1+0]=S[k+2+64]=ce+pe+1>>1,S[k+2+0]=S[k+3+64]=pe+ye+1>>1,S[k+3+0]=ye+Ee+1>>1,S[k+0+96]=tn(ie,V,P),S[k+0+64]=tn(V,P,ue),S[k+0+32]=S[k+1+96]=tn(P,ue,ce),S[k+1+32]=S[k+2+96]=tn(ue,ce,pe),S[k+2+32]=S[k+3+96]=tn(ce,pe,ye),S[k+3+32]=tn(pe,ye,Ee)}function La(S,k){var P=S[k+0-32],V=S[k+1-32],ie=S[k+2-32],ue=S[k+3-32],ce=S[k+4-32],pe=S[k+5-32],ye=S[k+6-32],Ee=S[k+7-32];S[k+0+0]=P+V+1>>1,S[k+1+0]=S[k+0+64]=V+ie+1>>1,S[k+2+0]=S[k+1+64]=ie+ue+1>>1,S[k+3+0]=S[k+2+64]=ue+ce+1>>1,S[k+0+32]=tn(P,V,ie),S[k+1+32]=S[k+0+96]=tn(V,ie,ue),S[k+2+32]=S[k+1+96]=tn(ie,ue,ce),S[k+3+32]=S[k+2+96]=tn(ue,ce,pe),S[k+3+64]=tn(ce,pe,ye),S[k+3+96]=tn(pe,ye,Ee)}function Ua(S,k){var P=S[k-1+0],V=S[k-1+32],ie=S[k-1+64],ue=S[k-1+96];S[k+0+0]=P+V+1>>1,S[k+2+0]=S[k+0+32]=V+ie+1>>1,S[k+2+32]=S[k+0+64]=ie+ue+1>>1,S[k+1+0]=tn(P,V,ie),S[k+3+0]=S[k+1+32]=tn(V,ie,ue),S[k+3+32]=S[k+1+64]=tn(ie,ue,ue),S[k+3+64]=S[k+2+64]=S[k+0+96]=S[k+1+96]=S[k+2+96]=S[k+3+96]=ue}function To(S,k){var P=S[k-1+0],V=S[k-1+32],ie=S[k-1+64],ue=S[k-1+96],ce=S[k-1-32],pe=S[k+0-32],ye=S[k+1-32],Ee=S[k+2-32];S[k+0+0]=S[k+2+32]=P+ce+1>>1,S[k+0+32]=S[k+2+64]=V+P+1>>1,S[k+0+64]=S[k+2+96]=ie+V+1>>1,S[k+0+96]=ue+ie+1>>1,S[k+3+0]=tn(pe,ye,Ee),S[k+2+0]=tn(ce,pe,ye),S[k+1+0]=S[k+3+32]=tn(P,ce,pe),S[k+1+32]=S[k+3+64]=tn(V,P,ce),S[k+1+64]=S[k+3+96]=tn(ie,V,P),S[k+1+96]=tn(ue,ie,V)}function ll(S,k){var P;for(P=0;8>P;++P)r(S,k+32*P,S,k-32,8)}function oo(S,k){var P;for(P=0;8>P;++P)i(S,k,S[k-1],8),k+=32}function Ss(S,k,P){var V;for(V=0;8>V;++V)i(k,P+32*V,S,8)}function W(S,k){var P,V=8;for(P=0;8>P;++P)V+=S[k+P-32]+S[k-1+32*P];Ss(V>>4,S,k)}function ge(S,k){var P,V=4;for(P=0;8>P;++P)V+=S[k+P-32];Ss(V>>3,S,k)}function Ie(S,k){var P,V=4;for(P=0;8>P;++P)V+=S[k-1+32*P];Ss(V>>3,S,k)}function lt(S,k){Ss(128,S,k)}function Zt(S,k,P){var V=S[k-P],ie=S[k+0],ue=3*(ie-V)+Rp[1020+S[k-2*P]-S[k+P]],ce=Xc[112+(ue+4>>3)];S[k-P]=ka[255+V+Xc[112+(ue+3>>3)]],S[k+0]=ka[255+ie-ce]}function $t(S,k,P,V){var ie=S[k+0],ue=S[k+P];return co[255+S[k-2*P]-S[k-P]]>V||co[255+ue-ie]>V}function jn(S,k,P,V){return 4*co[255+S[k-P]-S[k+0]]+co[255+S[k-2*P]-S[k+P]]<=V}function Cn(S,k,P,V,ie){var ue=S[k-3*P],ce=S[k-2*P],pe=S[k-P],ye=S[k+0],Ee=S[k+P],Fe=S[k+2*P],Xe=S[k+3*P];return 4*co[255+pe-ye]+co[255+ce-Ee]>V?0:co[255+S[k-4*P]-ue]<=ie&&co[255+ue-ce]<=ie&&co[255+ce-pe]<=ie&&co[255+Xe-Fe]<=ie&&co[255+Fe-Ee]<=ie&&co[255+Ee-ye]<=ie}function pr(S,k,P,V){var ie=2*V+1;for(V=0;16>V;++V)jn(S,k+V,P,ie)&&Zt(S,k+V,P)}function bn(S,k,P,V){var ie=2*V+1;for(V=0;16>V;++V)jn(S,k+V*P,1,ie)&&Zt(S,k+V*P,1)}function Nr(S,k,P,V){var ie;for(ie=3;0<ie;--ie)pr(S,k+=4*P,P,V)}function Aa(S,k,P,V){var ie;for(ie=3;0<ie;--ie)bn(S,k+=4,P,V)}function Sr(S,k,P,V,ie,ue,ce,pe){for(ue=2*ue+1;0<ie--;){if(Cn(S,k,P,ue,ce))if($t(S,k,P,pe))Zt(S,k,P);else{var ye=S,Ee=k,Fe=P,Xe=ye[Ee-2*Fe],Qe=ye[Ee-Fe],We=ye[Ee+0],yt=ye[Ee+Fe],at=ye[Ee+2*Fe],ze=27*(pt=Rp[1020+3*(We-Qe)+Rp[1020+Xe-yt]])+63>>7,Ue=18*pt+63>>7,pt=9*pt+63>>7;ye[Ee-3*Fe]=ka[255+ye[Ee-3*Fe]+pt],ye[Ee-2*Fe]=ka[255+Xe+Ue],ye[Ee-Fe]=ka[255+Qe+ze],ye[Ee+0]=ka[255+We-ze],ye[Ee+Fe]=ka[255+yt-Ue],ye[Ee+2*Fe]=ka[255+at-pt]}k+=V}}function Ar(S,k,P,V,ie,ue,ce,pe){for(ue=2*ue+1;0<ie--;){if(Cn(S,k,P,ue,ce))if($t(S,k,P,pe))Zt(S,k,P);else{var ye=S,Ee=k,Fe=P,Xe=ye[Ee-Fe],Qe=ye[Ee+0],We=ye[Ee+Fe],yt=Xc[112+((at=3*(Qe-Xe))+4>>3)],at=Xc[112+(at+3>>3)],ze=yt+1>>1;ye[Ee-2*Fe]=ka[255+ye[Ee-2*Fe]+ze],ye[Ee-Fe]=ka[255+Xe+at],ye[Ee+0]=ka[255+Qe-yt],ye[Ee+Fe]=ka[255+We-ze]}k+=V}}function Gr(S,k,P,V,ie,ue){Sr(S,k,P,1,16,V,ie,ue)}function Ha(S,k,P,V,ie,ue){Sr(S,k,1,P,16,V,ie,ue)}function Gs(S,k,P,V,ie,ue){var ce;for(ce=3;0<ce;--ce)Ar(S,k+=4*P,P,1,16,V,ie,ue)}function As(S,k,P,V,ie,ue){var ce;for(ce=3;0<ce;--ce)Ar(S,k+=4,1,P,16,V,ie,ue)}function Yd(S,k,P,V,ie,ue,ce,pe){Sr(S,k,ie,1,8,ue,ce,pe),Sr(P,V,ie,1,8,ue,ce,pe)}function ul(S,k,P,V,ie,ue,ce,pe){Sr(S,k,1,ie,8,ue,ce,pe),Sr(P,V,1,ie,8,ue,ce,pe)}function jo(S,k,P,V,ie,ue,ce,pe){Ar(S,k+4*ie,ie,1,8,ue,ce,pe),Ar(P,V+4*ie,ie,1,8,ue,ce,pe)}function Dp(S,k,P,V,ie,ue,ce,pe){Ar(S,k+4,1,ie,8,ue,ce,pe),Ar(P,V+4,1,ie,8,ue,ce,pe)}function Vd(){this.ba=new Vr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Rn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function hh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ph(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Gd(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new N,this.yc=new j}function km(){this.xb=this.a=0,this.l=new io,this.ca=new Vr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Gd,this.ab=0,this.gc=s(4,ph),this.Oc=0}function Qd(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new io,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Hc(S,k,P,V,ie,ue,ce){for(S=S==null?0:S[k+0],k=0;k<ce;++k)ie[ue+k]=S+P[V+k]&255,S=ie[ue+k]}function Kd(S,k,P,V,ie,ue,ce){var pe;if(S==null)Hc(null,null,P,V,ie,ue,ce);else for(pe=0;pe<ce;++pe)ie[ue+pe]=S[k+pe]+P[V+pe]&255}function Du(S,k,P,V,ie,ue,ce){if(S==null)Hc(null,null,P,V,ie,ue,ce);else{var pe,ye=S[k+0],Ee=ye,Fe=ye;for(pe=0;pe<ce;++pe)Ee=Fe+(ye=S[k+pe])-Ee,Fe=P[V+pe]+(-256&Ee?0>Ee?0:255:Ee)&255,Ee=ye,ie[ue+pe]=Fe}}function mh(S,k,P,V){var ie=k.width,ue=k.o;if(n(S!=null&&k!=null),0>P||0>=V||P+V>ue)return null;if(!S.Cc){if(S.ga==null){var ce;if(S.ga=new Qd,(ce=S.ga==null)||(ce=k.width*k.o,n(S.Gb.length==0),S.Gb=a(ce),S.Uc=0,S.Gb==null?ce=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,ce=1),ce=!ce),!ce){ce=S.ga;var pe=S.Fa,ye=S.P,Ee=S.qc,Fe=S.mb,Xe=S.nb,Qe=ye+1,We=Ee-1,yt=ce.l;if(n(pe!=null&&Fe!=null&&k!=null),pl[0]=null,pl[1]=Hc,pl[2]=Kd,pl[3]=Du,ce.ca=Fe,ce.tb=Xe,ce.c=k.width,ce.i=k.height,n(0<ce.c&&0<ce.i),1>=Ee)k=0;else if(ce.$a=pe[ye+0]>>0&3,ce.Z=pe[ye+0]>>2&3,ce.Lc=pe[ye+0]>>4&3,ye=pe[ye+0]>>6&3,0>ce.$a||1<ce.$a||4<=ce.Z||1<ce.Lc||ye)k=0;else if(yt.put=oi,yt.ac=wr,yt.bc=Sa,yt.ma=ce,yt.width=k.width,yt.height=k.height,yt.Da=k.Da,yt.v=k.v,yt.va=k.va,yt.j=k.j,yt.o=k.o,ce.$a)e:{n(ce.$a==1),k=Ci();t:for(;;){if(k==null){k=0;break e}if(n(ce!=null),ce.mc=k,k.c=ce.c,k.i=ce.i,k.l=ce.l,k.l.ma=ce,k.l.width=ce.c,k.l.height=ce.i,k.a=0,te(k.m,pe,Qe,We),!Jn(ce.c,ce.i,1,k,null)||(k.ab==1&&k.gc[0].hc==3&&_r(k.s)?(ce.ic=1,pe=k.c*k.i,k.Ta=null,k.Ua=0,k.V=a(pe),k.Ba=0,k.V==null?(k.a=1,k=0):k=1):(ce.ic=0,k=ro(k,ce.c)),!k))break t;k=1;break e}ce.mc=null,k=0}else k=We>=ce.c*ce.i;ce=!k}if(ce)return null;S.ga.Lc!=1?S.Ga=0:V=ue-P}n(S.ga!=null),n(P+V<=ue);e:{if(k=(pe=S.ga).c,ue=pe.l.o,pe.$a==0){if(Qe=S.rc,We=S.Vc,yt=S.Fa,ye=S.P+1+P*k,Ee=S.mb,Fe=S.nb+P*k,n(ye<=S.P+S.qc),pe.Z!=0)for(n(pl[pe.Z]!=null),ce=0;ce<V;++ce)pl[pe.Z](Qe,We,yt,ye,Ee,Fe,k),Qe=Ee,We=Fe,Fe+=k,ye+=k;else for(ce=0;ce<V;++ce)r(Ee,Fe,yt,ye,k),Qe=Ee,We=Fe,Fe+=k,ye+=k;S.rc=Qe,S.Vc=We}else{if(n(pe.mc!=null),k=P+V,n((ce=pe.mc)!=null),n(k<=ce.i),ce.C>=k)k=1;else if(pe.ic||Ge(),pe.ic){pe=ce.V,Qe=ce.Ba,We=ce.c;var at=ce.i,ze=(yt=1,ye=ce.$/We,Ee=ce.$%We,Fe=ce.m,Xe=ce.s,ce.$),Ue=We*at,pt=We*k,xt=Xe.wc,gt=ze<pt?fr(Xe,Ee,ye):null;n(ze<=Ue),n(k<=at),n(_r(Xe));t:for(;;){for(;!Fe.h&&ze<pt;){if(Ee&xt||(gt=fr(Xe,Ee,ye)),n(gt!=null),le(Fe),256>(at=Rr(gt.G[0],gt.H[0],Fe)))pe[Qe+ze]=at,++ze,++Ee>=We&&(Ee=0,++ye<=k&&!(ye%16)&&zi(ce,ye));else{if(!(280>at)){yt=0;break t}at=Hn(at-256,Fe);var It,Tt=Rr(gt.G[4],gt.H[4],Fe);if(le(Fe),!(ze>=(Tt=ar(We,Tt=Hn(Tt,Fe)))&&Ue-ze>=at)){yt=0;break t}for(It=0;It<at;++It)pe[Qe+ze+It]=pe[Qe+ze+It-Tt];for(ze+=at,Ee+=at;Ee>=We;)Ee-=We,++ye<=k&&!(ye%16)&&zi(ce,ye);ze<pt&&Ee&xt&&(gt=fr(Xe,Ee,ye))}n(Fe.h==J(Fe))}zi(ce,ye>k?k:ye);break t}!yt||Fe.h&&ze<Ue?(yt=0,ce.a=Fe.h?5:3):ce.$=ze,k=yt}else k=qi(ce,ce.V,ce.Ba,ce.c,ce.i,k,Eo);if(!k){V=0;break e}}P+V>=ue&&(S.Cc=1),V=1}if(!V)return null;if(S.Cc&&((V=S.ga)!=null&&(V.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+P*ie}function D(S,k,P,V,ie,ue){for(;0<ie--;){var ce,pe=S,ye=k+(P?1:0),Ee=S,Fe=k+(P?0:3);for(ce=0;ce<V;++ce){var Xe=Ee[Fe+4*ce];Xe!=255&&(Xe*=32897,pe[ye+4*ce+0]=pe[ye+4*ce+0]*Xe>>23,pe[ye+4*ce+1]=pe[ye+4*ce+1]*Xe>>23,pe[ye+4*ce+2]=pe[ye+4*ce+2]*Xe>>23)}k+=ue}}function ae(S,k,P,V,ie){for(;0<V--;){var ue;for(ue=0;ue<P;++ue){var ce=S[k+2*ue+0],pe=15&(Ee=S[k+2*ue+1]),ye=4369*pe,Ee=(240&Ee|Ee>>4)*ye>>16;S[k+2*ue+0]=(240&ce|ce>>4)*ye>>16&240|(15&ce|ce<<4)*ye>>16>>4&15,S[k+2*ue+1]=240&Ee|pe}k+=ie}}function _e(S,k,P,V,ie,ue,ce,pe){var ye,Ee,Fe=255;for(Ee=0;Ee<ie;++Ee){for(ye=0;ye<V;++ye){var Xe=S[k+ye];ue[ce+4*ye]=Xe,Fe&=Xe}k+=P,ce+=pe}return Fe!=255}function Re(S,k,P,V,ie){var ue;for(ue=0;ue<ie;++ue)P[V+ue]=S[k+ue]>>8}function Ge(){Ks=D,Dn=ae,Ln=_e,Pr=Re}function dt(S,k,P){L[S]=function(V,ie,ue,ce,pe,ye,Ee,Fe,Xe,Qe,We,yt,at,ze,Ue,pt,xt){var gt,It=xt-1>>1,Tt=pe[ye+0]|Ee[Fe+0]<<16,Gt=Xe[Qe+0]|We[yt+0]<<16;n(V!=null);var jt=3*Tt+Gt+131074>>2;for(k(V[ie+0],255&jt,jt>>16,at,ze),ue!=null&&(jt=3*Gt+Tt+131074>>2,k(ue[ce+0],255&jt,jt>>16,Ue,pt)),gt=1;gt<=It;++gt){var Yn=pe[ye+gt]|Ee[Fe+gt]<<16,sr=Xe[Qe+gt]|We[yt+gt]<<16,In=Tt+Yn+Gt+sr+524296,On=In+2*(Yn+Gt)>>3;jt=On+Tt>>1,Tt=(In=In+2*(Tt+sr)>>3)+Yn>>1,k(V[ie+2*gt-1],255&jt,jt>>16,at,ze+(2*gt-1)*P),k(V[ie+2*gt-0],255&Tt,Tt>>16,at,ze+(2*gt-0)*P),ue!=null&&(jt=In+Gt>>1,Tt=On+sr>>1,k(ue[ce+2*gt-1],255&jt,jt>>16,Ue,pt+(2*gt-1)*P),k(ue[ce+2*gt+0],255&Tt,Tt>>16,Ue,pt+(2*gt+0)*P)),Tt=Yn,Gt=sr}1&xt||(jt=3*Tt+Gt+131074>>2,k(V[ie+xt-1],255&jt,jt>>16,at,ze+(xt-1)*P),ue!=null&&(jt=3*Gt+Tt+131074>>2,k(ue[ce+xt-1],255&jt,jt>>16,Ue,pt+(xt-1)*P)))}}function At(){_a[Wa]=eu,_a[nf]=ml,_a[fl]=Vu,_a[xh]=Pp,_a[Zc]=zp,_a[Ql]=sf,_a[Mp]=qp,_a[vh]=ml,_a[Wu]=Pp,_a[Kl]=zp,_a[rf]=sf}function Ot(S){return S&-16384?0>S?0:255:S>>E2}function Ut(S,k){return Ot((19077*S>>8)+(26149*k>>8)-14234)}function vn(S,k,P){return Ot((19077*S>>8)-(6419*k>>8)-(13320*P>>8)+8708)}function pn(S,k){return Ot((19077*S>>8)+(33050*k>>8)-17685)}function qn(S,k,P,V,ie){V[ie+0]=Ut(S,P),V[ie+1]=vn(S,k,P),V[ie+2]=pn(S,k)}function ei(S,k,P,V,ie){V[ie+0]=pn(S,k),V[ie+1]=vn(S,k,P),V[ie+2]=Ut(S,P)}function ui(S,k,P,V,ie){var ue=vn(S,k,P);k=ue<<3&224|pn(S,k)>>3,V[ie+0]=248&Ut(S,P)|ue>>5,V[ie+1]=k}function ki(S,k,P,V,ie){var ue=240&pn(S,k)|15;V[ie+0]=240&Ut(S,P)|vn(S,k,P)>>4,V[ie+1]=ue}function _i(S,k,P,V,ie){V[ie+0]=255,qn(S,k,P,V,ie+1)}function Ca(S,k,P,V,ie){ei(S,k,P,V,ie),V[ie+3]=255}function Oo(S,k,P,V,ie){qn(S,k,P,V,ie),V[ie+3]=255}function Qs(S,k){return 0>S?0:S>k?k:S}function Io(S,k,P){L[S]=function(V,ie,ue,ce,pe,ye,Ee,Fe,Xe){for(var Qe=Fe+(-2&Xe)*P;Fe!=Qe;)k(V[ie+0],ue[ce+0],pe[ye+0],Ee,Fe),k(V[ie+1],ue[ce+0],pe[ye+0],Ee,Fe+P),ie+=2,++ce,++ye,Fe+=2*P;1&Xe&&k(V[ie+0],ue[ce+0],pe[ye+0],Ee,Fe)}}function gh(S,k,P){return P==0?S==0?k==0?6:5:k==0?4:0:P}function Hl(S,k,P,V,ie){switch(S>>>30){case 3:Lo(k,P,V,ie,0);break;case 2:mi(k,P,V,ie);break;case 1:$i(k,P,V,ie)}}function Wl(S,k){var P,V,ie=k.M,ue=k.Nb,ce=S.oc,pe=S.pc+40,ye=S.oc,Ee=S.pc+584,Fe=S.oc,Xe=S.pc+600;for(P=0;16>P;++P)ce[pe+32*P-1]=129;for(P=0;8>P;++P)ye[Ee+32*P-1]=129,Fe[Xe+32*P-1]=129;for(0<ie?ce[pe-1-32]=ye[Ee-1-32]=Fe[Xe-1-32]=129:(i(ce,pe-32-1,127,21),i(ye,Ee-32-1,127,9),i(Fe,Xe-32-1,127,9)),V=0;V<S.za;++V){var Qe=k.ya[k.aa+V];if(0<V){for(P=-1;16>P;++P)r(ce,pe+32*P-4,ce,pe+32*P+12,4);for(P=-1;8>P;++P)r(ye,Ee+32*P-4,ye,Ee+32*P+4,4),r(Fe,Xe+32*P-4,Fe,Xe+32*P+4,4)}var We=S.Gd,yt=S.Hd+V,at=Qe.ad,ze=Qe.Hc;if(0<ie&&(r(ce,pe-32,We[yt].y,0,16),r(ye,Ee-32,We[yt].f,0,8),r(Fe,Xe-32,We[yt].ea,0,8)),Qe.Za){var Ue=ce,pt=pe-32+16;for(0<ie&&(V>=S.za-1?i(Ue,pt,We[yt].y[15],4):r(Ue,pt,We[yt+1].y,0,4)),P=0;4>P;P++)Ue[pt+128+P]=Ue[pt+256+P]=Ue[pt+384+P]=Ue[pt+0+P];for(P=0;16>P;++P,ze<<=2)Ue=ce,pt=pe+nd[P],os[Qe.Ob[P]](Ue,pt),Hl(ze,at,16*+P,Ue,pt)}else if(Ue=gh(V,ie,Qe.Ob[0]),Jl[Ue](ce,pe),ze!=0)for(P=0;16>P;++P,ze<<=2)Hl(ze,at,16*+P,ce,pe+nd[P]);for(P=Qe.Gc,Ue=gh(V,ie,Qe.Dd),Zs[Ue](ye,Ee),Zs[Ue](Fe,Xe),ze=at,Ue=ye,pt=Ee,255&(Qe=P>>0)&&(170&Qe?Ro(ze,256,Ue,pt):ks(ze,256,Ue,pt)),Qe=Fe,ze=Xe,255&(P>>=8)&&(170&P?Ro(at,320,Qe,ze):ks(at,320,Qe,ze)),ie<S.Ub-1&&(r(We[yt].y,0,ce,pe+480,16),r(We[yt].f,0,ye,Ee+224,8),r(We[yt].ea,0,Fe,Xe+224,8)),P=8*ue*S.B,We=S.sa,yt=S.ta+16*V+16*ue*S.R,at=S.qa,Qe=S.ra+8*V+P,ze=S.Ha,Ue=S.Ia+8*V+P,P=0;16>P;++P)r(We,yt+P*S.R,ce,pe+32*P,16);for(P=0;8>P;++P)r(at,Qe+P*S.B,ye,Ee+32*P,8),r(ze,Ue+P*S.B,Fe,Xe+32*P,8)}}function Xd(S,k,P,V,ie,ue,ce,pe,ye){var Ee=[0],Fe=[0],Xe=0,Qe=ye!=null?ye.kd:0,We=ye??new hh;if(S==null||12>P)return 7;We.data=S,We.w=k,We.ha=P,k=[k],P=[P],We.gb=[We.gb];e:{var yt=k,at=P,ze=We.gb;if(n(S!=null),n(at!=null),n(ze!=null),ze[0]=0,12<=at[0]&&!t(S,yt[0],"RIFF")){if(t(S,yt[0]+8,"WEBP")){ze=3;break e}var Ue=Ve(S,yt[0]+4);if(12>Ue||4294967286<Ue){ze=3;break e}if(Qe&&Ue>at[0]-8){ze=7;break e}ze[0]=Ue,yt[0]+=12,at[0]-=12}ze=0}if(ze!=0)return ze;for(Ue=0<We.gb[0],P=P[0];;){e:{var pt=S;at=k,ze=P;var xt=Ee,gt=Fe,It=yt=[0];if((jt=Xe=[Xe])[0]=0,8>ze[0])ze=7;else{if(!t(pt,at[0],"VP8X")){if(Ve(pt,at[0]+4)!=10){ze=3;break e}if(18>ze[0]){ze=7;break e}var Tt=Ve(pt,at[0]+8),Gt=1+He(pt,at[0]+12);if(2147483648<=Gt*(pt=1+He(pt,at[0]+15))){ze=3;break e}It!=null&&(It[0]=Tt),xt!=null&&(xt[0]=Gt),gt!=null&&(gt[0]=pt),at[0]+=18,ze[0]-=18,jt[0]=1}ze=0}}if(Xe=Xe[0],yt=yt[0],ze!=0)return ze;if(at=!!(2&yt),!Ue&&Xe)return 3;if(ue!=null&&(ue[0]=!!(16&yt)),ce!=null&&(ce[0]=at),pe!=null&&(pe[0]=0),ce=Ee[0],yt=Fe[0],Xe&&at&&ye==null){ze=0;break}if(4>P){ze=7;break}if(Ue&&Xe||!Ue&&!Xe&&!t(S,k[0],"ALPH")){P=[P],We.na=[We.na],We.P=[We.P],We.Sa=[We.Sa];e:{Tt=S,ze=k,Ue=P;var jt=We.gb;xt=We.na,gt=We.P,It=We.Sa,Gt=22,n(Tt!=null),n(Ue!=null),pt=ze[0];var Yn=Ue[0];for(n(xt!=null),n(It!=null),xt[0]=null,gt[0]=null,It[0]=0;;){if(ze[0]=pt,Ue[0]=Yn,8>Yn){ze=7;break e}var sr=Ve(Tt,pt+4);if(4294967286<sr){ze=3;break e}var In=8+sr+1&-2;if(Gt+=In,0<jt&&Gt>jt){ze=3;break e}if(!t(Tt,pt,"VP8 ")||!t(Tt,pt,"VP8L")){ze=0;break e}if(Yn[0]<In){ze=7;break e}t(Tt,pt,"ALPH")||(xt[0]=Tt,gt[0]=pt+8,It[0]=sr),pt+=In,Yn-=In}}if(P=P[0],We.na=We.na[0],We.P=We.P[0],We.Sa=We.Sa[0],ze!=0)break}P=[P],We.Ja=[We.Ja],We.xa=[We.xa];e:if(jt=S,ze=k,Ue=P,xt=We.gb[0],gt=We.Ja,It=We.xa,Tt=ze[0],pt=!t(jt,Tt,"VP8 "),Gt=!t(jt,Tt,"VP8L"),n(jt!=null),n(Ue!=null),n(gt!=null),n(It!=null),8>Ue[0])ze=7;else{if(pt||Gt){if(jt=Ve(jt,Tt+4),12<=xt&&jt>xt-12){ze=3;break e}if(Qe&&jt>Ue[0]-8){ze=7;break e}gt[0]=jt,ze[0]+=8,Ue[0]-=8,It[0]=Gt}else It[0]=5<=Ue[0]&&jt[Tt+0]==47&&!(jt[Tt+4]>>5),gt[0]=Ue[0];ze=0}if(P=P[0],We.Ja=We.Ja[0],We.xa=We.xa[0],k=k[0],ze!=0)break;if(4294967286<We.Ja)return 3;if(pe==null||at||(pe[0]=We.xa?2:1),ce=[ce],yt=[yt],We.xa){if(5>P){ze=7;break}pe=ce,Qe=yt,at=ue,S==null||5>P?S=0:5<=P&&S[k+0]==47&&!(S[k+4]>>5)?(Ue=[0],jt=[0],xt=[0],te(gt=new q,S,k,P),Lt(gt,Ue,jt,xt)?(pe!=null&&(pe[0]=Ue[0]),Qe!=null&&(Qe[0]=jt[0]),at!=null&&(at[0]=xt[0]),S=1):S=0):S=0}else{if(10>P){ze=7;break}pe=yt,S==null||10>P||!ta(S,k+3,P-3)?S=0:(Qe=S[k+0]|S[k+1]<<8|S[k+2]<<16,at=16383&(S[k+7]<<8|S[k+6]),S=16383&(S[k+9]<<8|S[k+8]),1&Qe||3<(Qe>>1&7)||!(Qe>>4&1)||Qe>>5>=We.Ja||!at||!S?S=0:(ce&&(ce[0]=at),pe&&(pe[0]=S),S=1))}if(!S||(ce=ce[0],yt=yt[0],Xe&&(Ee[0]!=ce||Fe[0]!=yt)))return 3;ye!=null&&(ye[0]=We,ye.offset=k-ye.w,n(4294967286>k-ye.w),n(ye.offset==ye.ha-P));break}return ze==0||ze==7&&Xe&&ye==null?(ue!=null&&(ue[0]|=We.na!=null&&0<We.na.length),V!=null&&(V[0]=ce),ie!=null&&(ie[0]=yt),0):ze}function Lu(S,k,P){var V=k.width,ie=k.height,ue=0,ce=0,pe=V,ye=ie;if(k.Da=S!=null&&0<S.Da,k.Da&&(pe=S.cd,ye=S.bd,ue=S.v,ce=S.j,11>P||(ue&=-2,ce&=-2),0>ue||0>ce||0>=pe||0>=ye||ue+pe>V||ce+ye>ie))return 0;if(k.v=ue,k.j=ce,k.va=ue+pe,k.o=ce+ye,k.U=pe,k.T=ye,k.da=S!=null&&0<S.da,k.da){if(!be(pe,ye,P=[S.ib],ue=[S.hb]))return 0;k.ib=P[0],k.hb=ue[0]}return k.ob=S!=null&&S.ob,k.Kb=S==null||!S.Sd,k.da&&(k.ob=k.ib<3*V/4&&k.hb<3*ie/4,k.Kb=0),1}function Zd(S){if(S==null)return 2;if(11>S.S){var k=S.f.RGBA;k.fb+=(S.height-1)*k.A,k.A=-k.A}else k=S.f.kb,S=S.height,k.O+=(S-1)*k.fa,k.fa=-k.fa,k.N+=(S-1>>1)*k.Ab,k.Ab=-k.Ab,k.W+=(S-1>>1)*k.Db,k.Db=-k.Db,k.F!=null&&(k.J+=(S-1)*k.lb,k.lb=-k.lb);return 0}function Wc(S,k,P,V){if(V==null||0>=S||0>=k)return 2;if(P!=null){if(P.Da){var ie=P.cd,ue=P.bd,ce=-2&P.v,pe=-2&P.j;if(0>ce||0>pe||0>=ie||0>=ue||ce+ie>S||pe+ue>k)return 2;S=ie,k=ue}if(P.da){if(!be(S,k,ie=[P.ib],ue=[P.hb]))return 2;S=ie[0],k=ue[0]}}V.width=S,V.height=k;e:{var ye=V.width,Ee=V.height;if(S=V.S,0>=ye||0>=Ee||!(S>=Wa&&13>S))S=2;else{if(0>=V.Rd&&V.sd==null){ce=ue=ie=k=0;var Fe=(pe=ye*_b[S])*Ee;if(11>S||(ue=(Ee+1)/2*(k=(ye+1)/2),S==12&&(ce=(ie=ye)*Ee)),(Ee=a(Fe+2*ue+ce))==null){S=1;break e}V.sd=Ee,11>S?((ye=V.f.RGBA).eb=Ee,ye.fb=0,ye.A=pe,ye.size=Fe):((ye=V.f.kb).y=Ee,ye.O=0,ye.fa=pe,ye.Fd=Fe,ye.f=Ee,ye.N=0+Fe,ye.Ab=k,ye.Cd=ue,ye.ea=Ee,ye.W=0+Fe+ue,ye.Db=k,ye.Ed=ue,S==12&&(ye.F=Ee,ye.J=0+Fe+2*ue),ye.Tc=ce,ye.lb=ie)}if(k=1,ie=V.S,ue=V.width,ce=V.height,ie>=Wa&&13>ie)if(11>ie)S=V.f.RGBA,k&=(pe=Math.abs(S.A))*(ce-1)+ue<=S.size,k&=pe>=ue*_b[ie],k&=S.eb!=null;else{S=V.f.kb,pe=(ue+1)/2,Fe=(ce+1)/2,ye=Math.abs(S.fa),Ee=Math.abs(S.Ab);var Xe=Math.abs(S.Db),Qe=Math.abs(S.lb),We=Qe*(ce-1)+ue;k&=ye*(ce-1)+ue<=S.Fd,k&=Ee*(Fe-1)+pe<=S.Cd,k=(k&=Xe*(Fe-1)+pe<=S.Ed)&ye>=ue&Ee>=pe&Xe>=pe,k&=S.y!=null,k&=S.f!=null,k&=S.ea!=null,ie==12&&(k&=Qe>=ue,k&=We<=S.Tc,k&=S.F!=null)}else k=0;S=k?0:2}}return S!=0||P!=null&&P.fd&&(S=Zd(V)),S}var ra=64,Ru=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Yc=24,Vc=32,Jd=8,Cs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Le("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(S){return S},L.Predictor2=function(S,k,P){return k[P+0]},L.Predictor3=function(S,k,P){return k[P+1]},L.Predictor4=function(S,k,P){return k[P-1]},L.Predictor5=function(S,k,P){return Te(Te(S,k[P+1]),k[P+0])},L.Predictor6=function(S,k,P){return Te(S,k[P-1])},L.Predictor7=function(S,k,P){return Te(S,k[P+0])},L.Predictor8=function(S,k,P){return Te(k[P-1],k[P+0])},L.Predictor9=function(S,k,P){return Te(k[P+0],k[P+1])},L.Predictor10=function(S,k,P){return Te(Te(S,k[P-1]),Te(k[P+0],k[P+1]))},L.Predictor11=function(S,k,P){var V=k[P+0];return 0>=rt(V>>24&255,S>>24&255,(k=k[P-1])>>24&255)+rt(V>>16&255,S>>16&255,k>>16&255)+rt(V>>8&255,S>>8&255,k>>8&255)+rt(255&V,255&S,255&k)?V:S},L.Predictor12=function(S,k,P){var V=k[P+0];return(Ze((S>>24&255)+(V>>24&255)-((k=k[P-1])>>24&255))<<24|Ze((S>>16&255)+(V>>16&255)-(k>>16&255))<<16|Ze((S>>8&255)+(V>>8&255)-(k>>8&255))<<8|Ze((255&S)+(255&V)-(255&k)))>>>0},L.Predictor13=function(S,k,P){var V=k[P-1];return(ut((S=Te(S,k[P+0]))>>24&255,V>>24&255)<<24|ut(S>>16&255,V>>16&255)<<16|ut(S>>8&255,V>>8&255)<<8|ut(S>>0&255,V>>0&255))>>>0};var _m=L.PredictorAdd0;L.PredictorAdd1=Pe,Le("Predictor2","PredictorAdd2"),Le("Predictor3","PredictorAdd3"),Le("Predictor4","PredictorAdd4"),Le("Predictor5","PredictorAdd5"),Le("Predictor6","PredictorAdd6"),Le("Predictor7","PredictorAdd7"),Le("Predictor8","PredictorAdd8"),Le("Predictor9","PredictorAdd9"),Le("Predictor10","PredictorAdd10"),Le("Predictor11","PredictorAdd11"),Le("Predictor12","PredictorAdd12"),Le("Predictor13","PredictorAdd13");var bh=L.PredictorAdd2;ft("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var Lp,lo=L.ColorIndexInverseTransform,Ea=L.MapARGB,Mu=L.VP8LColorIndexInverseTransformAlpha,yh=L.MapAlpha,Yl=L.VP8LPredictorsAdd=[];Yl.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var Fu,ss,Ra,Pu,Es,Do,cl,Lo,mi,Ro,$i,ks,Gc,dl,ef,zu,qu,Bu,Qc,tf,$u,Vl,Kc,gi,Ks,Dn,Ln,Pr,Ni=a(511),uo=a(2041),Uu=a(225),Hu=a(767),Gl=0,Rp=uo,Xc=Uu,ka=Hu,co=Ni,Wa=0,nf=1,fl=2,xh=3,Zc=4,Ql=5,Mp=6,vh=7,Wu=8,Kl=9,rf=10,Fp=[2,3,7],fo=[3,3,11],Xs=[280,256,256,256,40],Jc=[0,1,1,1,0],Xl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Zl=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ed=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Sb=8,wh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Sh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ia=null,bi=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],er=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Yu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],hl=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Nm=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],td=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ab=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Jl=[],os=[],Zs=[],Cb=1,af=2,pl=[],_a=[];dt("UpsampleRgbLinePair",qn,3),dt("UpsampleBgrLinePair",ei,3),dt("UpsampleRgbaLinePair",Oo,4),dt("UpsampleBgraLinePair",Ca,4),dt("UpsampleArgbLinePair",_i,4),dt("UpsampleRgba4444LinePair",ki,2),dt("UpsampleRgb565LinePair",ui,2);var eu=L.UpsampleRgbLinePair,Vu=L.UpsampleBgrLinePair,ml=L.UpsampleRgbaLinePair,Pp=L.UpsampleBgraLinePair,zp=L.UpsampleArgbLinePair,sf=L.UpsampleRgba4444LinePair,qp=L.UpsampleRgb565LinePair,gl=16,aa=1<<gl-1,Gu=-227,Bp=482,E2=6,Eb=0,k2=a(256),sa=a(256),Tm=a(256),Ah=a(256),Ch=a(Bp-Gu),jm=a(Bp-Gu);Io("YuvToRgbRow",qn,3),Io("YuvToBgrRow",ei,3),Io("YuvToRgbaRow",Oo,4),Io("YuvToBgraRow",Ca,4),Io("YuvToArgbRow",_i,4),Io("YuvToRgba4444Row",ki,2),Io("YuvToRgb565Row",ui,2);var nd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],tu=[0,2,8],_2=[8,7,6,4,4,2,2,2,1,1,1,1],kb=1;this.WebPDecodeRGBA=function(S,k,P,V,ie){var ue=nf,ce=new Vd,pe=new Vr;ce.ba=pe,pe.S=ue,pe.width=[pe.width],pe.height=[pe.height];var ye=pe.width,Ee=pe.height,Fe=new ir;if(Fe==null||S==null)var Xe=2;else n(Fe!=null),Xe=Xd(S,k,P,Fe.width,Fe.height,Fe.Pd,Fe.Qd,Fe.format,null);if(Xe!=0?ye=0:(ye!=null&&(ye[0]=Fe.width[0]),Ee!=null&&(Ee[0]=Fe.height[0]),ye=1),ye){pe.width=pe.width[0],pe.height=pe.height[0],V!=null&&(V[0]=pe.width),ie!=null&&(ie[0]=pe.height);e:{if(V=new io,(ie=new hh).data=S,ie.w=k,ie.ha=P,ie.kd=1,k=[0],n(ie!=null),((S=Xd(ie.data,ie.w,ie.ha,null,null,null,k,null,ie))==0||S==7)&&k[0]&&(S=4),(k=S)==0){if(n(ce!=null),V.data=ie.data,V.w=ie.w+ie.offset,V.ha=ie.ha-ie.offset,V.put=oi,V.ac=wr,V.bc=Sa,V.ma=ce,ie.xa){if((S=Ci())==null){ce=1;break e}if(function(Qe,We){var yt=[0],at=[0],ze=[0];t:for(;;){if(Qe==null)return 0;if(We==null)return Qe.a=2,0;if(Qe.l=We,Qe.a=0,te(Qe.m,We.data,We.w,We.ha),!Lt(Qe.m,yt,at,ze)){Qe.a=3;break t}if(Qe.xb=af,We.width=yt[0],We.height=at[0],!Jn(yt[0],at[0],1,Qe,null))break t;return 1}return n(Qe.a!=0),0}(S,V)){if(V=(k=Wc(V.width,V.height,ce.Oa,ce.ba))==0){t:{V=S;n:for(;;){if(V==null){V=0;break t}if(n(V.s.yc!=null),n(V.s.Ya!=null),n(0<V.s.Wb),n((P=V.l)!=null),n((ie=P.ma)!=null),V.xb!=0){if(V.ca=ie.ba,V.tb=ie.tb,n(V.ca!=null),!Lu(ie.Oa,P,xh)){V.a=2;break n}if(!ro(V,P.width)||P.da)break n;if((P.da||ln(V.ca.S))&&Ge(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),V.ca.f.kb.F!=null&&Ge()),V.Pb&&0<V.s.ua&&V.s.vb.X==null&&!Y(V.s.vb,V.s.Wa.Xa)){V.a=1;break n}V.xb=0}if(!qi(V,V.V,V.Ba,V.c,V.i,P.o,bs))break n;ie.Dc=V.Ma,V=1;break t}n(V.a!=0),V=0}V=!V}V&&(k=S.a)}else k=S.a}else{if((S=new Uc)==null){ce=1;break e}if(S.Fa=ie.na,S.P=ie.P,S.qc=ie.Sa,ao(S,V)){if((k=Wc(V.width,V.height,ce.Oa,ce.ba))==0){if(S.Aa=0,P=ce.Oa,n((ie=S)!=null),P!=null){if(0<(ye=0>(ye=P.Md)?0:100<ye?255:255*ye/100)){for(Ee=Fe=0;4>Ee;++Ee)12>(Xe=ie.pb[Ee]).lc&&(Xe.ia=ye*_2[0>Xe.lc?0:Xe.lc]>>3),Fe|=Xe.ia;Fe&&(alert("todo:VP8InitRandom"),ie.ia=1)}ie.Ga=P.Id,100<ie.Ga?ie.Ga=100:0>ie.Ga&&(ie.Ga=0)}$l(S,V)||(k=S.a)}}else k=S.a}k==0&&ce.Oa!=null&&ce.Oa.fd&&(k=Zd(ce.ba))}ce=k}ue=ce!=0?null:11>ue?pe.f.RGBA.eb:pe.f.kb.y}else ue=null;return ue};var _b=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(L,$){for(var Z="",O=0;O<4;O++)Z+=String.fromCharCode(L[$++]);return Z}function f(L,$){return(L[$+0]<<0|L[$+1]<<8|L[$+2]<<16)>>>0}function m(L,$){return(L[$+0]<<0|L[$+1]<<8|L[$+2]<<16|L[$+3]<<24)>>>0}new u;var b=[0],g=[0],x=[],y=new u,A=e,w=function(L,$){var Z={},O=0,j=!1,F=0,N=0;if(Z.frames=[],!function(B,J,ne,le){for(var Se=0;Se<le;Se++)if(B[J+Se]!=ne.charCodeAt(Se))return!0;return!1}(L,$,"RIFF",4)){for(m(L,$+=4),$+=8;$<L.length;){var G=d(L,$),H=m(L,$+=4);$+=4;var Q=H+(1&H);switch(G){case"VP8 ":case"VP8L":Z.frames[O]===void 0&&(Z.frames[O]={}),(U=Z.frames[O]).src_off=j?N:$-8,U.src_size=F+H+8,O++,j&&(j=!1,F=0,N=0);break;case"VP8X":(U=Z.header={}).feature_flags=L[$];var te=$+4;U.canvas_width=1+f(L,te),te+=3,U.canvas_height=1+f(L,te),te+=3;break;case"ALPH":j=!0,F=Q+8,N=$-8;break;case"ANIM":(U=Z.header).bgcolor=m(L,$),te=$+4,U.loop_count=(se=L)[(q=te)+0]<<0|se[q+1]<<8,te+=2;break;case"ANMF":var oe,U;(U=Z.frames[O]={}).offset_x=2*f(L,$),$+=3,U.offset_y=2*f(L,$),$+=3,U.width=1+f(L,$),$+=3,U.height=1+f(L,$),$+=3,U.duration=f(L,$),$+=3,oe=L[$++],U.dispose=1&oe,U.blend=oe>>1&1}G!="ANMF"&&($+=Q)}var se,q;return Z}}(A,0);w.response=A,w.rgbaoutput=!0,w.dataurl=!1;var C=w.header?w.header:null,T=w.frames?w.frames:null;if(C){C.loop_counter=C.loop_count,b=[C.canvas_height],g=[C.canvas_width];for(var M=0;M<T.length&&T[M].blend!=0;M++);}var R=T[0],z=y.WebPDecodeRGBA(A,R.src_off,R.src_size,g,b);R.rgba=z,R.imgwidth=g[0],R.imgheight=b[0];for(var _=0;_<g[0]*b[0]*4;_++)x[_]=z[_];return this.width=g,this.height=b,this.data=x,this}(function(e){var n=function(){return typeof qS=="function"},t=function(b,g,x,y){var A=4,w=s;switch(y){case e.image_compression.FAST:A=1,w=a;break;case e.image_compression.MEDIUM:A=6,w=l;break;case e.image_compression.SLOW:A=9,w=u}b=r(b,g,x,w);var C=qS(b,{level:A});return e.__addimage__.arrayBufferToBinaryString(C)},r=function(b,g,x,y){for(var A,w,C,T=b.length/g,M=new Uint8Array(b.length+T),R=f(),z=0;z<T;z+=1){if(C=z*g,A=b.subarray(C,C+g),y)M.set(y(A,x,w),C+z);else{for(var _,L=R.length,$=[];_<L;_+=1)$[_]=R[_](A,x,w);var Z=m($.concat());M.set($[Z],C+z)}w=A}return M},i=function(b){var g=Array.apply([],b);return g.unshift(0),g},a=function(b,g){var x,y=[],A=b.length;y[0]=1;for(var w=0;w<A;w+=1)x=b[w-g]||0,y[w+1]=b[w]-x+256&255;return y},s=function(b,g,x){var y,A=[],w=b.length;A[0]=2;for(var C=0;C<w;C+=1)y=x&&x[C]||0,A[C+1]=b[C]-y+256&255;return A},l=function(b,g,x){var y,A,w=[],C=b.length;w[0]=3;for(var T=0;T<C;T+=1)y=b[T-g]||0,A=x&&x[T]||0,w[T+1]=b[T]+256-(y+A>>>1)&255;return w},u=function(b,g,x){var y,A,w,C,T=[],M=b.length;T[0]=4;for(var R=0;R<M;R+=1)y=b[R-g]||0,A=x&&x[R]||0,w=x&&x[R-g]||0,C=d(y,A,w),T[R+1]=b[R]-C+256&255;return T},d=function(b,g,x){if(b===g&&g===x)return b;var y=Math.abs(g-x),A=Math.abs(b-x),w=Math.abs(b+g-x-x);return y<=A&&y<=w?b:A<=w?g:x},f=function(){return[i,a,s,l,u]},m=function(b){var g=b.map(function(x){return x.reduce(function(y,A){return y+Math.abs(A)},0)});return g.indexOf(Math.min.apply(null,g))};e.processPNG=function(b,g,x,y){var A,w,C,T,M,R,z,_,L,$,Z,O,j,F,N,G=this.decode.FLATE_DECODE,H="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(C=new RK(b)).imgData,w=C.bits,A=C.colorSpace,M=C.colors,[4,6].indexOf(C.colorType)!==-1){if(C.bits===8){L=(_=C.pixelBitlength==32?new Uint32Array(C.decodePixels().buffer):C.pixelBitlength==16?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,Z=new Uint8Array(L*C.colors),$=new Uint8Array(L);var Q,te=C.pixelBitlength-C.bits;for(F=0,N=0;F<L;F++){for(j=_[F],Q=0;Q<te;)Z[N++]=j>>>Q&255,Q+=C.bits;$[F]=j>>>Q&255}}if(C.bits===16){L=(_=new Uint32Array(C.decodePixels().buffer)).length,Z=new Uint8Array(L*(32/C.pixelBitlength)*C.colors),$=new Uint8Array(L*(32/C.pixelBitlength)),O=C.colors>1,F=0,N=0;for(var oe=0;F<L;)j=_[F++],Z[N++]=j>>>0&255,O&&(Z[N++]=j>>>16&255,j=_[F++],Z[N++]=j>>>0&255),$[oe++]=j>>>16&255;w=8}y!==e.image_compression.NONE&&n()?(b=t(Z,C.width*C.colors,C.colors,y),z=t($,C.width,1,y)):(b=Z,z=$,G=void 0)}if(C.colorType===3&&(A=this.color_spaces.INDEXED,R=C.palette,C.transparency.indexed)){var U=C.transparency.indexed,se=0;for(F=0,L=U.length;F<L;++F)se+=U[F];if((se/=255)===L-1&&U.indexOf(0)!==-1)T=[U.indexOf(0)];else if(se!==L){for(_=C.decodePixels(),$=new Uint8Array(_.length),F=0,L=_.length;F<L;F++)$[F]=U[_[F]];z=t($,C.width,1)}}var q=function(B){var J;switch(B){case e.image_compression.FAST:J=11;break;case e.image_compression.MEDIUM:J=13;break;case e.image_compression.SLOW:J=14;break;default:J=12}return J}(y);return G===this.decode.FLATE_DECODE&&(H="/Predictor "+q+" "),H+="/Colors "+M+" /BitsPerComponent "+w+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(z&&this.__addimage__.isArrayBuffer(z)||this.__addimage__.isArrayBufferView(z))&&(z=this.__addimage__.arrayBufferToBinaryString(z)),{alias:x,data:b,index:g,filter:G,decodeParameters:H,transparency:T,palette:R,sMask:z,predictor:q,width:C.width,height:C.height,bitsPerComponent:w,colorSpace:A}}}})(on.API),function(e){e.processGIF89A=function(n,t,r,i){var a=new MK(n),s=a.width,l=a.height,u=[];a.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:s,height:l},f=new vw(100).encode(d,100);return e.processJPEG.call(this,f,t,r,i)},e.processGIF87A=e.processGIF89A}(on.API),cu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var n=0;n<e;n++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[n]={red:i,green:r,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},cu.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,n=this.width*this.height*4;this.data=new Uint8Array(n),this[e]()}catch(t){Kr.log("bit decode error:"+t)}},cu.prototype.bit1=function(){var e,n=Math.ceil(this.width/8),t=n%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<n;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var u=this.palette[a>>7-l&1];this.data[s+4*l]=u.blue,this.data[s+4*l+1]=u.green,this.data[s+4*l+2]=u.red,this.data[s+4*l+3]=255}t!==0&&(this.pos+=4-t)}},cu.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),n=e%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,l=a>>4,u=15&a,d=this.palette[l];if(this.data[s]=d.blue,this.data[s+1]=d.green,this.data[s+2]=d.red,this.data[s+3]=255,2*i+1>=this.width)break;d=this.palette[u],this.data[s+4]=d.blue,this.data[s+4+1]=d.green,this.data[s+4+2]=d.red,this.data[s+4+3]=255}n!==0&&(this.pos+=4-n)}},cu.prototype.bit8=function(){for(var e=this.width%4,n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},cu.prototype.bit15=function(){for(var e=this.width%3,n=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&n)/n*255|0,l=(a>>5&n)/n*255|0,u=(a>>10&n)/n*255|0,d=a>>15?255:0,f=r*this.width*4+4*i;this.data[f]=u,this.data[f+1]=l,this.data[f+2]=s,this.data[f+3]=d}this.pos+=e}},cu.prototype.bit16=function(){for(var e=this.width%3,n=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&n)/n*255|0,u=(s>>5&t)/t*255|0,d=(s>>11)/n*255|0,f=i*this.width*4+4*a;this.data[f]=d,this.data[f+1]=u,this.data[f+2]=l,this.data[f+3]=255}this.pos+=e}},cu.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*t;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},cu.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*t;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=s}},cu.prototype.getData=function(){return this.data},function(e){e.processBMP=function(n,t,r,i){var a=new cu(n,!1),s=a.width,l=a.height,u={data:a.getData(),width:s,height:l},d=new vw(100).encode(u,100);return e.processJPEG.call(this,d,t,r,i)}}(on.API),c4.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(n,t,r,i){var a=new c4(n),s=a.width,l=a.height,u={data:a.getData(),width:s,height:l},d=new vw(100).encode(u,100);return e.processJPEG.call(this,d,t,r,i)}}(on.API),on.API.processRGBA=function(e,n,t){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,u=0,d=0;d<i;d+=4){var f=r[d],m=r[d+1],b=r[d+2],g=r[d+3];a[l++]=f,a[l++]=m,a[l++]=b,s[u++]=g}var x=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:x,index:n,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},on.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},h0=on.API,$y=h0.getCharWidthsArray=function(e,n){var t,r,i=(n=n||{}).font||this.internal.getFont(),a=n.fontSize||this.internal.getFontSize(),s=n.charSpace||this.internal.getCharSpace(),l=n.widths?n.widths:i.metadata.Unicode.widths,u=l.fof?l.fof:1,d=n.kerning?n.kerning:i.metadata.Unicode.kerning,f=d.fof?d.fof:1,m=n.doKerning!==!1,b=0,g=e.length,x=0,y=l[0]||u,A=[];for(t=0;t<g;t++)r=e.charCodeAt(t),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(b=m&&Xr(d[r])==="object"&&!isNaN(parseInt(d[r][x],10))?d[r][x]/f:0,A.push((l[r]||y)/u+b)),x=r;return A},s4=h0.getStringUnitWidth=function(e,n){var t=(n=n||{}).fontSize||this.internal.getFontSize(),r=n.font||this.internal.getFont(),i=n.charSpace||this.internal.getCharSpace();return h0.processArabic&&(e=h0.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,t,i)/t:$y.apply(this,arguments).reduce(function(a,s){return a+s},0)},o4=function(e,n,t,r){for(var i=[],a=0,s=e.length,l=0;a!==s&&l+n[a]<t;)l+=n[a],a++;i.push(e.slice(0,a));var u=a;for(l=0;a!==s;)l+n[a]>r&&(i.push(e.slice(u,a)),l=0,u=a),l+=n[a],a++;return u!==a&&i.push(e.slice(u,a)),i},l4=function(e,n,t){t||(t={});var r,i,a,s,l,u,d,f=[],m=[f],b=t.textIndent||0,g=0,x=0,y=e.split(" "),A=$y.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?y[0].length+2:t.lineIndent||0){var w=Array(u).join(" "),C=[];y.map(function(M){(M=M.split(/\s*\n/)).length>1?C=C.concat(M.map(function(R,z){return(z&&R.length?`
`:"")+R})):C.push(M[0])}),y=C,u=s4.apply(this,[w,t])}for(a=0,s=y.length;a<s;a++){var T=0;if(r=y[a],u&&r[0]==`
`&&(r=r.substr(1),T=1),b+g+(x=(i=$y.apply(this,[r,t])).reduce(function(M,R){return M+R},0))>n||T){if(x>n){for(l=o4.apply(this,[r,i,n-(b+g),n]),f.push(l.shift()),f=[l.pop()];l.length;)m.push([l.shift()]);x=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(M,R){return M+R},0)}else f=[r];m.push(f),b=x+u,g=A}else f.push(r),b+=g+x,g=A}return d=u?function(M,R){return(R?w:"")+M.join(" ")}:function(M){return M.join(" ")},m.map(d)},h0.splitTextToSize=function(e,n,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var m=this.internal.getFont(f.fontName,f.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*n/i;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=t.lineIndent;var l,u,d=[];for(l=0,u=r.length;l<u;l++)d=d.concat(l4.apply(this,[r[l],s,a]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var n="klmnopqrstuvwxyz",t={},r={},i=0;i<n.length;i++)t[n[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=n[i];var a=function(m){return"0x"+parseInt(m,10).toString(16)},s=e.__fontmetrics__.compress=function(m){var b,g,x,y,A=["{"];for(var w in m){if(b=m[w],isNaN(parseInt(w,10))?g="'"+w+"'":(w=parseInt(w,10),g=(g=a(w).slice(2)).slice(0,-1)+r[g.slice(-1)]),typeof b=="number")b<0?(x=a(b).slice(3),y="-"):(x=a(b).slice(2),y=""),x=y+x.slice(0,-1)+r[x.slice(-1)];else{if(Xr(b)!=="object")throw new Error("Don't know what to do with value type "+Xr(b)+".");x=s(b)}A.push(g+x)}return A.push("}"),A.join("")},l=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,g,x,y,A={},w=1,C=A,T=[],M="",R="",z=m.length-1,_=1;_<z;_+=1)(y=m[_])=="'"?b?(x=b.join(""),b=void 0):b=[]:b?b.push(y):y=="{"?(T.push([C,x]),C={},x=void 0):y=="}"?((g=T.pop())[0][g[1]]=C,x=void 0,C=g[0]):y=="-"?w=-1:x===void 0?t.hasOwnProperty(y)?(M+=t[y],x=parseInt(M,16)*w,w=1,M=""):M+=y:t.hasOwnProperty(y)?(R+=t[y],C[x]=parseInt(R,16)*w,w=1,x=void 0,R=""):R+=y;return A},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var b=m.font,g=f.Unicode[b.postScriptName];g&&(b.metadata.Unicode={},b.metadata.Unicode.widths=g.widths,b.metadata.Unicode.kerning=g.kerning);var x=d.Unicode[b.postScriptName];x&&(b.metadata.Unicode.encoding=x,b.encoding=x.codePages[0])}])}(on.API),function(e){var n=function(t){for(var r=t.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=t.charCodeAt(a);return i};e.API.events.push(["addFont",function(t){var r=void 0,i=t.font,a=t.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?n(l):n(r1(l)),s.metadata=e.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(on),function(e){function n(){return(cn.canvg?Promise.resolve(cn.canvg):wi(()=>import("./index.es-CNx6xYqH.js"),__vite__mapDeps([6,4,1]))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}on.API.addSvgAsImage=function(t,r,i,a,s,l,u,d){if(isNaN(r)||isNaN(i))throw Kr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Kr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=a,f.height=s;var m=f.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,f.width,f.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return n().then(function(x){return x.fromString(m,t,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(b)}).then(function(){g.addImage(f.toDataURL("image/jpeg",1),r,i,a,s,u,d)})}}(),on.API.putTotalPages=function(e){var n,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(n=new RegExp(e,"g"),t=this.internal.getNumberOfPages()):(n=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(n,t);return this},on.API.viewerPreferences=function(e,n){var t;e=e||{},n=n||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),u=[],d=0,f=0,m=0;function b(x,y){var A,w=!1;for(A=0;A<x.length;A+=1)x[A]===y&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,e==="reset"||n===!0){var g=l.length;for(m=0;m<g;m+=1)t[l[m]].value=t[l[m]].defaultValue,t[l[m]].explicitSet=!1}if(Xr(e)==="object"){for(i in e)if(a=e[i],b(l,i)&&a!==void 0){if(t[i].type==="boolean"&&typeof a=="boolean")t[i].value=a;else if(t[i].type==="name"&&b(t[i].valueSet,a))t[i].value=a;else if(t[i].type==="integer"&&Number.isInteger(a))t[i].value=a;else if(t[i].type==="array"){for(d=0;d<a.length;d+=1)if(r=!0,a[d].length===1&&typeof a[d][0]=="number")u.push(String(a[d]-1));else if(a[d].length>1){for(f=0;f<a[d].length;f+=1)typeof a[d][f]!="number"&&(r=!1);r===!0&&u.push([a[d][0]-1,a[d][1]-1].join(" "))}t[i].value="["+u.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,y=[];for(x in t)t[x].explicitSet===!0&&(t[x].type==="name"?y.push("/"+x+" /"+t[x].value):y.push("/"+x+" "+t[x].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(e){var n=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+s.length+l.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+l+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",n)),this}}(on.API),function(e){var n=e.API,t=n.pdfEscape16=function(a,s){for(var l,u=s.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],m=0,b=a.length;m<b;++m){if(l=s.metadata.characterToGlyph(a.charCodeAt(m)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(m),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(d[4-l.length],l)}return f.join("")},r=function(a){var s,l,u,d,f,m,b;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],m=0,b=(l=Object.keys(a).sort(function(g,x){return g-x})).length;m<b;m++)s=l[m],u.length>=100&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(d=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),u.push("<"+s+"><"+d+">"));return u.length&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};n.events.push(["putFont",function(a){(function(s){var l=s.font,u=s.out,d=s.newObject,f=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,b=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",x=0;x<b.length;x++)g+=String.fromCharCode(b[x]);var y=d();f({data:g,addLength1:!0,objectId:y}),u("endobj");var A=d();f({data:r(l.metadata.toUnicode),addLength1:!0,objectId:A}),u("endobj");var w=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+L0(l.fontName)),u("/FontFile2 "+y+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var C=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+L0(l.fontName)),u("/FontDescriptor "+w+" 0 R"),u("/W "+e.API.PDFObject.convert(m)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+A+" 0 R"),u("/BaseFont /"+L0(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+C+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(a)}]),n.events.push(["putFont",function(a){(function(s){var l=s.font,u=s.out,d=s.newObject,f=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,b="",g=0;g<m.length;g++)b+=String.fromCharCode(m[g]);var x=d();f({data:b,addLength1:!0,objectId:x}),u("endobj");var y=d();f({data:r(l.metadata.toUnicode),addLength1:!0,objectId:y}),u("endobj");var A=d();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+x+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+L0(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=d();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+L0(l.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,l=a.text||"",u=a.x,d=a.y,f=a.options||{},m=a.mutex||{},b=m.pdfEscape,g=m.activeFontKey,x=m.fonts,y=g,A="",w=0,C="",T=x[y].encoding;if(x[y].encoding!=="Identity-H")return{text:l,x:u,y:d,options:f,mutex:m};for(C=l,y=g,Array.isArray(l)&&(C=l[0]),w=0;w<C.length;w+=1)x[y].metadata.hasOwnProperty("cmap")&&(s=x[y].metadata.cmap.unicode.codeMap[C[w].charCodeAt(0)]),s||C[w].charCodeAt(0)<256&&x[y].metadata.hasOwnProperty("Unicode")?A+=C[w]:A+="";var M="";return parseInt(y.slice(1))<14||T==="WinAnsiEncoding"?M=b(A,y).split("").map(function(R){return R.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(M=t(A,x[y])),m.isHex=!0,{text:M,x:u,y:d,options:f,mutex:m}};n.events.push(["postProcessText",function(a){var s=a.text||"",l=[],u={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var d=0;for(d=0;d<s.length;d+=1)Array.isArray(s[d])&&s[d].length===3?l.push([i(Object.assign({},u,{text:s[d][0]})).text,s[d][1],s[d][2]]):l.push(i(Object.assign({},u,{text:s[d]})).text);a.text=l}else a.text=i(Object.assign({},u,{text:s})).text}])}(on),function(e){var n=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(t){return n.call(this),this.internal.vFS[t]!==void 0},e.addFileToVFS=function(t,r){return n.call(this),this.internal.vFS[t]=r,this},e.getFileFromVFS=function(t){return n.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(on.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,s,l,u,d,f,m=n,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,T=0;this.__bidiEngine__={};var M=function(O){var j=O.charCodeAt(),F=j>>8,N=y[F];return N!==void 0?m[256*N+(255&j)]:F===252||F===253?"AL":w.test(F)?"L":F===8?"R":"N"},R=function(O){for(var j,F=0;F<O.length;F++){if((j=M(O.charAt(F)))==="L")return!1;if(j==="R")return!0}return!1},z=function(O,j,F,N){var G,H,Q,te,oe=j[N];switch(oe){case"L":case"R":C=!1;break;case"N":case"AN":break;case"EN":C&&(oe="AN");break;case"AL":C=!0,oe="R";break;case"WS":oe="N";break;case"CS":N<1||N+1>=j.length||(G=F[N-1])!=="EN"&&G!=="AN"||(H=j[N+1])!=="EN"&&H!=="AN"?oe="N":C&&(H="AN"),oe=H===G?H:"N";break;case"ES":oe=(G=N>0?F[N-1]:"B")==="EN"&&N+1<j.length&&j[N+1]==="EN"?"EN":"N";break;case"ET":if(N>0&&F[N-1]==="EN"){oe="EN";break}if(C){oe="N";break}for(Q=N+1,te=j.length;Q<te&&j[Q]==="ET";)Q++;oe=Q<te&&j[Q]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(te=j.length,Q=N+1;Q<te&&j[Q]==="NSM";)Q++;if(Q<te){var U=O[N],se=U>=1425&&U<=2303||U===64286;if(G=j[Q],se&&(G==="R"||G==="AL")){oe="R";break}}}oe=N<1||(G=j[N-1])==="B"?"N":F[N-1];break;case"B":C=!1,i=!0,oe=T;break;case"S":a=!0,oe="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"BN":oe="N"}return oe},_=function(O,j,F){var N=O.split("");return F&&L(N,F,{hiLevel:T}),N.reverse(),j&&j.reverse(),N.join("")},L=function(O,j,F){var N,G,H,Q,te,oe=-1,U=O.length,se=0,q=[],B=T?g:b,J=[];for(C=!1,i=!1,a=!1,G=0;G<U;G++)J[G]=M(O[G]);for(H=0;H<U;H++){if(te=se,q[H]=z(O,J,q,H),N=240&(se=B[te][x[q[H]]]),se&=15,j[H]=Q=B[se][5],N>0)if(N===16){for(G=oe;G<H;G++)j[G]=1;oe=-1}else oe=-1;if(B[se][6])oe===-1&&(oe=H);else if(oe>-1){for(G=oe;G<H;G++)j[G]=Q;oe=-1}J[H]==="B"&&(j[H]=0),F.hiLevel|=Q}a&&function(ne,le,Se){for(var xe=0;xe<Se;xe++)if(ne[xe]==="S"){le[xe]=T;for(var ke=xe-1;ke>=0&&ne[ke]==="WS";ke--)le[ke]=T}}(J,j,U)},$=function(O,j,F,N,G){if(!(G.hiLevel<O)){if(O===1&&T===1&&!i)return j.reverse(),void(F&&F.reverse());for(var H,Q,te,oe,U=j.length,se=0;se<U;){if(N[se]>=O){for(te=se+1;te<U&&N[te]>=O;)te++;for(oe=se,Q=te-1;oe<Q;oe++,Q--)H=j[oe],j[oe]=j[Q],j[Q]=H,F&&(H=F[oe],F[oe]=F[Q],F[Q]=H);se=te}se++}}},Z=function(O,j,F){var N=O.split(""),G={hiLevel:T};return F||(F=[]),L(N,F,G),function(H,Q,te){if(te.hiLevel!==0&&f)for(var oe,U=0;U<H.length;U++)Q[U]===1&&(oe=A.indexOf(H[U]))>=0&&(H[U]=A[oe+1])}(N,F,G),$(2,N,j,F,G),$(1,N,j,F,G),N.join("")};return this.__bidiEngine__.doBidiReorder=function(O,j,F){if(function(G,H){if(H)for(var Q=0;Q<G.length;Q++)H[Q]=Q;l===void 0&&(l=R(G)),d===void 0&&(d=R(G))}(O,j),s||!u||d)if(s&&u&&l^d)T=l?1:0,O=_(O,j,F);else if(!s&&u&&d)T=l?1:0,O=Z(O,j,F),O=_(O,j);else if(!s||l||u||d){if(s&&!u&&l^d)O=_(O,j),l?(T=0,O=Z(O,j,F)):(T=1,O=Z(O,j,F),O=_(O,j));else if(s&&l&&!u&&d)T=1,O=Z(O,j,F),O=_(O,j);else if(!s&&!u&&l^d){var N=f;l?(T=1,O=Z(O,j,F),T=0,f=!1,O=Z(O,j,F),f=N):(T=0,O=Z(O,j,F),O=_(O,j),T=1,f=!1,O=Z(O,j,F),f=N,O=_(O,j))}}else T=0,O=Z(O,j,F);else T=l?1:0,O=Z(O,j,F);return O},this.__bidiEngine__.setOptions=function(O){O&&(s=O.isInputVisual,u=O.isOutputVisual,l=O.isInputRtl,d=O.isOutputRtl,f=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var n=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([t.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([t.doBidiReorder(i[l])]);r.text=s}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(on),on.API.TTFFont=function(){function e(n){var t;if(this.rawData=n,t=this.contents=new nh(n),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new XK(this),this.registerTTF()}return e.open=function(n){return new e(n)},e.prototype.parse=function(){return this.directory=new FK(this.contents),this.head=new zK(this),this.name=new HK(this),this.cmap=new xI(this),this.toUnicode={},this.hhea=new qK(this),this.maxp=new WK(this),this.hmtx=new YK(this),this.post=new $K(this),this.os2=new BK(this),this.loca=new KK(this),this.glyf=new VK(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var n,t,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,u,d;for(d=[],s=0,l=(u=this.bbox).length;s<l;s++)n=u[s],d.push(Math.round(n*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(n){var t;return((t=this.cmap.unicode)!=null?t.codeMap[n]:void 0)||0},e.prototype.widthOfGlyph=function(n){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(n).advance*t},e.prototype.widthOfString=function(n,t,r){var i,a,s,l;for(s=0,a=0,l=(n=""+n).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=n.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return s*(t/1e3)},e.prototype.lineHeight=function(n,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*n},e}();var _u,nh=function(){function e(n){this.data=n??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(n){return this.data[this.pos++]=n},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(n){return this.writeByte(n>>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt32=function(){var n;return(n=this.readUInt32())>=2147483648?n-4294967296:n},e.prototype.writeInt32=function(n){return n<0&&(n+=4294967296),this.writeUInt32(n)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(n){return this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt16=function(){var n;return(n=this.readUInt16())>=32768?n-65536:n},e.prototype.writeInt16=function(n){return n<0&&(n+=65536),this.writeUInt16(n)},e.prototype.readString=function(n){var t,r;for(r=[],t=0;0<=n?t<n:t>n;t=0<=n?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(n){var t,r,i;for(i=[],t=0,r=n.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(n.charCodeAt(t)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(n){return this.writeInt16(n)},e.prototype.readLongLong=function(){var n,t,r,i,a,s,l,u;return n=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),u=this.readByte(),128&n?-1*(72057594037927940*(255^n)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^u)+1):72057594037927940*n+281474976710656*t+1099511627776*r+4294967296*i+16777216*a+65536*s+256*l+u},e.prototype.writeLongLong=function(n){var t,r;return t=Math.floor(n/4294967296),r=4294967295&n,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(n){return this.writeInt32(n)},e.prototype.read=function(n){var t,r;for(t=[],r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)t.push(this.readByte());return t},e.prototype.write=function(n){var t,r,i,a;for(a=[],r=0,i=n.length;r<i;r++)t=n[r],a.push(this.writeByte(t));return a},e}(),FK=function(){var e;function n(t){var r,i,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return n.prototype.encode=function(t){var r,i,a,s,l,u,d,f,m,b,g,x,y;for(y in g=Object.keys(t).length,u=Math.log(2),m=16*Math.floor(Math.log(g)/u),s=Math.floor(m/u),f=16*g-m,(i=new nh).writeInt(this.scalarType),i.writeShort(g),i.writeShort(m),i.writeShort(s),i.writeShort(f),a=16*g,d=i.pos+a,l=null,x=[],t)for(b=t[y],i.writeString(y),i.writeInt(e(b)),i.writeInt(d),i.writeInt(b.length),x=x.concat(b),y==="head"&&(l=d),d+=b.length;d%4;)x.push(0),d++;return i.write(x),r=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(r),i.data},e=function(t){var r,i,a,s;for(t=vI.call(t);t.length%4;)t.push(0);for(a=new nh(t),i=0,r=0,s=t.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},n}(),PK={}.hasOwnProperty,Bc=function(e,n){for(var t in n)PK.call(n,t)&&(e[t]=n[t]);function r(){this.constructor=e}return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};_u=function(){function e(n){var t;this.file=n,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var zK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Bc(n,_u),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var r;return(r=new nh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},n}(),d4=function(){function e(n,t){var r,i,a,s,l,u,d,f,m,b,g,x,y,A,w,C,T;switch(this.platformID=n.readUInt16(),this.encodingID=n.readShort(),this.offset=t+n.readInt(),m=n.pos,n.pos=this.offset,this.format=n.readUInt16(),this.length=n.readUInt16(),this.language=n.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=n.readByte();break;case 4:for(g=n.readUInt16(),b=g/2,n.pos+=6,a=function(){var M,R;for(R=[],u=M=0;0<=b?M<b:M>b;u=0<=b?++M:--M)R.push(n.readUInt16());return R}(),n.pos+=2,y=function(){var M,R;for(R=[],u=M=0;0<=b?M<b:M>b;u=0<=b?++M:--M)R.push(n.readUInt16());return R}(),d=function(){var M,R;for(R=[],u=M=0;0<=b?M<b:M>b;u=0<=b?++M:--M)R.push(n.readUInt16());return R}(),f=function(){var M,R;for(R=[],u=M=0;0<=b?M<b:M>b;u=0<=b?++M:--M)R.push(n.readUInt16());return R}(),i=(this.length-n.pos+this.offset)/2,l=function(){var M,R;for(R=[],u=M=0;0<=i?M<i:M>i;u=0<=i?++M:--M)R.push(n.readUInt16());return R}(),u=w=0,T=a.length;w<T;u=++w)for(A=a[u],r=C=x=y[u];x<=A?C<=A:C>=A;r=x<=A?++C:--C)f[u]===0?s=r+d[u]:(s=l[f[u]/2+(r-x)-(b-u)]||0)!==0&&(s+=d[u]),this.codeMap[r]=65535&s}n.pos=m}return e.encode=function(n,t){var r,i,a,s,l,u,d,f,m,b,g,x,y,A,w,C,T,M,R,z,_,L,$,Z,O,j,F,N,G,H,Q,te,oe,U,se,q,B,J,ne,le,Se,xe,ke,De,Me,He;switch(N=new nh,s=Object.keys(n).sort(function(Ve,Y){return Ve-Y}),t){case"macroman":for(y=0,A=function(){var Ve=[];for(x=0;x<256;++x)Ve.push(0);return Ve}(),C={0:0},a={},G=0,oe=s.length;G<oe;G++)C[ke=n[i=s[G]]]==null&&(C[ke]=++y),a[i]={old:n[i],new:C[n[i]]},A[i]=C[n[i]];return N.writeUInt16(1),N.writeUInt16(0),N.writeUInt32(12),N.writeUInt16(0),N.writeUInt16(262),N.writeUInt16(0),N.write(A),{charMap:a,subtable:N.data,maxGlyphID:y+1};case"unicode":for(j=[],m=[],T=0,C={},r={},w=d=null,H=0,U=s.length;H<U;H++)C[R=n[i=s[H]]]==null&&(C[R]=++T),r[i]={old:R,new:C[R]},l=C[R]-i,w!=null&&l===d||(w&&m.push(w),j.push(i),d=l),w=i;for(w&&m.push(w),m.push(65535),j.push(65535),Z=2*($=j.length),L=2*Math.pow(Math.log($)/Math.LN2,2),b=Math.log(L/2)/Math.LN2,_=2*$-L,u=[],z=[],g=[],x=Q=0,se=j.length;Q<se;x=++Q){if(O=j[x],f=m[x],O===65535){u.push(0),z.push(0);break}if(O-(F=r[O].new)>=32768)for(u.push(0),z.push(2*(g.length+$-x)),i=te=O;O<=f?te<=f:te>=f;i=O<=f?++te:--te)g.push(r[i].new);else u.push(F-O),z.push(0)}for(N.writeUInt16(3),N.writeUInt16(1),N.writeUInt32(12),N.writeUInt16(4),N.writeUInt16(16+8*$+2*g.length),N.writeUInt16(0),N.writeUInt16(Z),N.writeUInt16(L),N.writeUInt16(b),N.writeUInt16(_),Se=0,q=m.length;Se<q;Se++)i=m[Se],N.writeUInt16(i);for(N.writeUInt16(0),xe=0,B=j.length;xe<B;xe++)i=j[xe],N.writeUInt16(i);for(De=0,J=u.length;De<J;De++)l=u[De],N.writeUInt16(l);for(Me=0,ne=z.length;Me<ne;Me++)M=z[Me],N.writeUInt16(M);for(He=0,le=g.length;He<le;He++)y=g[He],N.writeUInt16(y);return{charMap:r,subtable:N.data,maxGlyphID:T+1}}},e}(),xI=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Bc(n,_u),n.prototype.tag="cmap",n.prototype.parse=function(t){var r,i,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new d4(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},n.encode=function(t,r){var i,a;return r==null&&(r="macroman"),i=d4.encode(t,r),(a=new nh).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},n}(),qK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Bc(n,_u),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n}(),BK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Bc(n,_u),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n}(),$K=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Bc(n,_u),n.prototype.tag="post",n.prototype.parse=function(t){var r,i,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var s;for(i=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var l,u,d;for(d=[],s=l=0,u=this.file.maxp.numGlyphs;0<=u?l<u:l>u;s=0<=u?++l:--l)d.push(t.readUInt32());return d}).call(this)}},n}(),UK=function(e,n){this.raw=e,this.length=e.length,this.platformID=n.platformID,this.encodingID=n.encodingID,this.languageID=n.languageID},HK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Bc(n,_u),n.prototype.tag="name",n.prototype.parse=function(t){var r,i,a,s,l,u,d,f,m,b,g;for(t.pos=this.offset,t.readShort(),r=t.readShort(),u=t.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(d={},s=m=0,b=i.length;m<b;s=++m)a=i[s],t.pos=a.offset,f=t.readString(a.length),l=new UK(f,a),d[g=a.nameID]==null&&(d[g]=[]),d[a.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},n}(),WK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Bc(n,_u),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n}(),YK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Bc(n,_u),n.prototype.tag="hmtx",n.prototype.parse=function(t){var r,i,a,s,l,u,d;for(t.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,m;for(m=[],r=f=0;0<=a?f<a:f>a;r=0<=a?++f:--f)m.push(t.readInt16());return m}(),this.widths=(function(){var f,m,b,g;for(g=[],f=0,m=(b=this.metrics).length;f<m;f++)s=b[f],g.push(s.advance);return g}).call(this),i=this.widths[this.widths.length-1],d=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)d.push(this.widths.push(i));return d},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n}(),vI=[].slice,VK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Bc(n,_u),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var r,i,a,s,l,u,d,f,m,b;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(t),(a=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,l=(u=new nh(r.read(a))).readShort(),f=u.readShort(),b=u.readShort(),d=u.readShort(),m=u.readShort(),this.cache[t]=l===-1?new QK(u,f,b,d,m):new GK(u,l,f,b,d,m),this.cache[t]))},n.prototype.encode=function(t,r,i){var a,s,l,u,d;for(l=[],s=[],u=0,d=r.length;u<d;u++)a=t[r[u]],s.push(l.length),a&&(l=l.concat(a.encode(i)));return s.push(l.length),{table:l,offsets:s}},n}(),GK=function(){function e(n,t,r,i,a,s){this.raw=n,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),QK=function(){function e(n,t,r,i,a){var s,l;for(this.raw=n,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return e.prototype.encode=function(){var n,t,r;for(t=new nh(vI.call(this.raw.data)),n=0,r=this.glyphIDs.length;n<r;++n)t.pos=this.glyphOffsets[n];return t.data},e}(),KK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Bc(n,_u),n.prototype.tag="loca",n.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=4)s.push(t.readUInt32());return s}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),a=0,s=0,l=0;l<i.length;++l)if(i[l]=a,s<r.length&&r[s]==l){++s,i[l]=a;var u=this.offsets[l],d=this.offsets[l+1]-u;d>0&&(a+=d)}for(var f=new Array(4*i.length),m=0;m<i.length;++m)f[4*m+3]=255&i[m],f[4*m+2]=(65280&i[m])>>8,f[4*m+1]=(16711680&i[m])>>16,f[4*m]=(4278190080&i[m])>>24;return f},n}(),XK=function(){function e(n){this.font=n,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var n,t,r,i,a;for(t in i=this.font.cmap.tables[0].codeMap,n={},a=this.subset)r=a[t],n[t]=i[r];return n},e.prototype.glyphsFor=function(n){var t,r,i,a,s,l,u;for(i={},s=0,l=n.length;s<l;s++)i[a=n[s]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(r=i[a])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(a in u=this.glyphsFor(t))r=u[a],i[a]=r;return i},e.prototype.encode=function(n,t){var r,i,a,s,l,u,d,f,m,b,g,x,y,A,w;for(i in r=xI.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(n),g={0:0},w=r.charMap)g[(u=w[i]).old]=u.new;for(x in b=r.maxGlyphID,s)x in g||(g[x]=b++);return f=function(C){var T,M;for(T in M={},C)M[C[T]]=T;return M}(g),m=Object.keys(f).sort(function(C,T){return C-T}),y=function(){var C,T,M;for(M=[],C=0,T=m.length;C<T;C++)l=m[C],M.push(f[l]);return M}(),a=this.font.glyf.encode(s,y,g),d=this.font.loca.encode(a.offsets,y),A={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},e}();on.API.PDFObject=function(){var e;function n(){}return e=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},n.convert=function(t){var r,i,a,s;if(Array.isArray(t))return"["+function(){var l,u,d;for(d=[],l=0,u=t.length;l<u;l++)r=t[l],d.push(n.convert(r));return d}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+e(t.getUTCFullYear(),4)+e(t.getUTCMonth(),2)+e(t.getUTCDate(),2)+e(t.getUTCHours(),2)+e(t.getUTCMinutes(),2)+e(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in a=["<<"],t)s=t[i],a.push("/"+i+" "+n.convert(s));return a.push(">>"),a.join(`
`)}return""+t},n}();const ZK=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),JK=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var ww;const eX=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),f4=(ww=String.fromCodePoint)!==null&&ww!==void 0?ww:function(e){let n="";return e>65535&&(e-=65536,n+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),n+=String.fromCharCode(e),n};function tX(e){var n;return e>=55296&&e<=57343||e>1114111?65533:(n=eX.get(e))!==null&&n!==void 0?n:e}var es;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(es||(es={}));const nX=32;var Bf;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Bf||(Bf={}));function VS(e){return e>=es.ZERO&&e<=es.NINE}function rX(e){return e>=es.UPPER_A&&e<=es.UPPER_F||e>=es.LOWER_A&&e<=es.LOWER_F}function iX(e){return e>=es.UPPER_A&&e<=es.UPPER_Z||e>=es.LOWER_A&&e<=es.LOWER_Z||VS(e)}function aX(e){return e===es.EQUALS||iX(e)}var Qa;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Qa||(Qa={}));var mc;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(mc||(mc={}));class sX{constructor(n,t,r){this.decodeTree=n,this.emitCodePoint=t,this.errors=r,this.state=Qa.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=mc.Strict}startEntity(n){this.decodeMode=n,this.state=Qa.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(n,t){switch(this.state){case Qa.EntityStart:return n.charCodeAt(t)===es.NUM?(this.state=Qa.NumericStart,this.consumed+=1,this.stateNumericStart(n,t+1)):(this.state=Qa.NamedEntity,this.stateNamedEntity(n,t));case Qa.NumericStart:return this.stateNumericStart(n,t);case Qa.NumericDecimal:return this.stateNumericDecimal(n,t);case Qa.NumericHex:return this.stateNumericHex(n,t);case Qa.NamedEntity:return this.stateNamedEntity(n,t)}}stateNumericStart(n,t){return t>=n.length?-1:(n.charCodeAt(t)|nX)===es.LOWER_X?(this.state=Qa.NumericHex,this.consumed+=1,this.stateNumericHex(n,t+1)):(this.state=Qa.NumericDecimal,this.stateNumericDecimal(n,t))}addToNumericResult(n,t,r,i){if(t!==r){const a=r-t;this.result=this.result*Math.pow(i,a)+Number.parseInt(n.substr(t,a),i),this.consumed+=a}}stateNumericHex(n,t){const r=t;for(;t<n.length;){const i=n.charCodeAt(t);if(VS(i)||rX(i))t+=1;else return this.addToNumericResult(n,r,t,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(n,r,t,16),-1}stateNumericDecimal(n,t){const r=t;for(;t<n.length;){const i=n.charCodeAt(t);if(VS(i))t+=1;else return this.addToNumericResult(n,r,t,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(n,r,t,10),-1}emitNumericEntity(n,t){var r;if(this.consumed<=t)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(n===es.SEMI)this.consumed+=1;else if(this.decodeMode===mc.Strict)return 0;return this.emitCodePoint(tX(this.result),this.consumed),this.errors&&(n!==es.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(n,t){const{decodeTree:r}=this;let i=r[this.treeIndex],a=(i&Bf.VALUE_LENGTH)>>14;for(;t<n.length;t++,this.excess++){const s=n.charCodeAt(t);if(this.treeIndex=oX(r,i,this.treeIndex+Math.max(1,a),s),this.treeIndex<0)return this.result===0||this.decodeMode===mc.Attribute&&(a===0||aX(s))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],a=(i&Bf.VALUE_LENGTH)>>14,a!==0){if(s===es.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==mc.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var n;const{result:t,decodeTree:r}=this,i=(r[t]&Bf.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,i,this.consumed),(n=this.errors)===null||n===void 0||n.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(n,t,r){const{decodeTree:i}=this;return this.emitCodePoint(t===1?i[n]&~Bf.VALUE_LENGTH:i[n+1],r),t===3&&this.emitCodePoint(i[n+2],r),r}end(){var n;switch(this.state){case Qa.NamedEntity:return this.result!==0&&(this.decodeMode!==mc.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Qa.NumericDecimal:return this.emitNumericEntity(0,2);case Qa.NumericHex:return this.emitNumericEntity(0,3);case Qa.NumericStart:return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Qa.EntityStart:return 0}}}function oX(e,n,t,r){const i=(n&Bf.BRANCH_LENGTH)>>7,a=n&Bf.JUMP_TABLE;if(i===0)return a!==0&&r===a?t:-1;if(a){const u=r-a;return u<0||u>=i?-1:e[t+u]-1}let s=t,l=s+i-1;for(;s<=l;){const u=s+l>>>1,d=e[u];if(d<r)s=u+1;else if(d>r)l=u-1;else return e[u+i]}return-1}var an;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(an||(an={}));var kt;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(kt||(kt={}));function gd(e){return e===an.Space||e===an.NewLine||e===an.Tab||e===an.FormFeed||e===an.CarriageReturn}function Uy(e){return e===an.Slash||e===an.Gt||gd(e)}function lX(e){return e>=an.LowerA&&e<=an.LowerZ||e>=an.UpperA&&e<=an.UpperZ}var gc;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(gc||(gc={}));const Ta={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};class uX{constructor({xmlMode:n=!1,decodeEntities:t=!0},r){this.cbs=r,this.state=kt.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=kt.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=n,this.decodeEntities=t,this.entityDecoder=new sX(n?JK:ZK,(i,a)=>this.emitCodePoint(i,a))}reset(){this.state=kt.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=kt.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(n){this.offset+=this.buffer.length,this.buffer=n,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(n){n===an.Lt||!this.decodeEntities&&this.fastForwardTo(an.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=kt.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&n===an.Amp&&this.startEntity()}stateSpecialStartSequence(n){const t=this.sequenceIndex===this.currentSequence.length;if(!(t?Uy(n):(n|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!t){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=kt.InTagName,this.stateInTagName(n)}stateInSpecialTag(n){if(this.sequenceIndex===this.currentSequence.length){if(n===an.Gt||gd(n)){const t=this.index-this.currentSequence.length;if(this.sectionStart<t){const r=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=r}this.isSpecial=!1,this.sectionStart=t+2,this.stateInClosingTagName(n);return}this.sequenceIndex=0}(n|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Ta.TitleEnd?this.decodeEntities&&n===an.Amp&&this.startEntity():this.fastForwardTo(an.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(n===an.Lt)}stateCDATASequence(n){n===Ta.Cdata[this.sequenceIndex]?++this.sequenceIndex===Ta.Cdata.length&&(this.state=kt.InCommentLike,this.currentSequence=Ta.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=kt.InDeclaration,this.stateInDeclaration(n))}fastForwardTo(n){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===n)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(n){n===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Ta.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=kt.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):n!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(n){return this.xmlMode?!Uy(n):lX(n)}startSpecial(n,t){this.isSpecial=!0,this.currentSequence=n,this.sequenceIndex=t,this.state=kt.SpecialStartSequence}stateBeforeTagName(n){if(n===an.ExclamationMark)this.state=kt.BeforeDeclaration,this.sectionStart=this.index+1;else if(n===an.Questionmark)this.state=kt.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(n)){const t=n|32;this.sectionStart=this.index,this.xmlMode?this.state=kt.InTagName:t===Ta.ScriptEnd[2]?this.state=kt.BeforeSpecialS:t===Ta.TitleEnd[2]||t===Ta.XmpEnd[2]?this.state=kt.BeforeSpecialT:this.state=kt.InTagName}else n===an.Slash?this.state=kt.BeforeClosingTagName:(this.state=kt.Text,this.stateText(n))}stateInTagName(n){Uy(n)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=kt.BeforeAttributeName,this.stateBeforeAttributeName(n))}stateBeforeClosingTagName(n){gd(n)||(n===an.Gt?this.state=kt.Text:(this.state=this.isTagStartChar(n)?kt.InClosingTagName:kt.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(n){(n===an.Gt||gd(n))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=kt.AfterClosingTagName,this.stateAfterClosingTagName(n))}stateAfterClosingTagName(n){(n===an.Gt||this.fastForwardTo(an.Gt))&&(this.state=kt.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(n){n===an.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=kt.InSpecialTag,this.sequenceIndex=0):this.state=kt.Text,this.sectionStart=this.index+1):n===an.Slash?this.state=kt.InSelfClosingTag:gd(n)||(this.state=kt.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(n){n===an.Gt?(this.cbs.onselfclosingtag(this.index),this.state=kt.Text,this.sectionStart=this.index+1,this.isSpecial=!1):gd(n)||(this.state=kt.BeforeAttributeName,this.stateBeforeAttributeName(n))}stateInAttributeName(n){(n===an.Eq||Uy(n))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=kt.AfterAttributeName,this.stateAfterAttributeName(n))}stateAfterAttributeName(n){n===an.Eq?this.state=kt.BeforeAttributeValue:n===an.Slash||n===an.Gt?(this.cbs.onattribend(gc.NoValue,this.sectionStart),this.sectionStart=-1,this.state=kt.BeforeAttributeName,this.stateBeforeAttributeName(n)):gd(n)||(this.cbs.onattribend(gc.NoValue,this.sectionStart),this.state=kt.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(n){n===an.DoubleQuote?(this.state=kt.InAttributeValueDq,this.sectionStart=this.index+1):n===an.SingleQuote?(this.state=kt.InAttributeValueSq,this.sectionStart=this.index+1):gd(n)||(this.sectionStart=this.index,this.state=kt.InAttributeValueNq,this.stateInAttributeValueNoQuotes(n))}handleInAttributeValue(n,t){n===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===an.DoubleQuote?gc.Double:gc.Single,this.index+1),this.state=kt.BeforeAttributeName):this.decodeEntities&&n===an.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(n){this.handleInAttributeValue(n,an.DoubleQuote)}stateInAttributeValueSingleQuotes(n){this.handleInAttributeValue(n,an.SingleQuote)}stateInAttributeValueNoQuotes(n){gd(n)||n===an.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(gc.Unquoted,this.index),this.state=kt.BeforeAttributeName,this.stateBeforeAttributeName(n)):this.decodeEntities&&n===an.Amp&&this.startEntity()}stateBeforeDeclaration(n){n===an.OpeningSquareBracket?(this.state=kt.CDATASequence,this.sequenceIndex=0):this.state=n===an.Dash?kt.BeforeComment:kt.InDeclaration}stateInDeclaration(n){(n===an.Gt||this.fastForwardTo(an.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=kt.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(n){(n===an.Gt||this.fastForwardTo(an.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=kt.Text,this.sectionStart=this.index+1)}stateBeforeComment(n){n===an.Dash?(this.state=kt.InCommentLike,this.currentSequence=Ta.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=kt.InDeclaration}stateInSpecialComment(n){(n===an.Gt||this.fastForwardTo(an.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=kt.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(n){const t=n|32;t===Ta.ScriptEnd[3]?this.startSpecial(Ta.ScriptEnd,4):t===Ta.StyleEnd[3]?this.startSpecial(Ta.StyleEnd,4):(this.state=kt.InTagName,this.stateInTagName(n))}stateBeforeSpecialT(n){switch(n|32){case Ta.TitleEnd[3]:{this.startSpecial(Ta.TitleEnd,4);break}case Ta.TextareaEnd[3]:{this.startSpecial(Ta.TextareaEnd,4);break}case Ta.XmpEnd[3]:{this.startSpecial(Ta.XmpEnd,4);break}default:this.state=kt.InTagName,this.stateInTagName(n)}}startEntity(){this.baseState=this.state,this.state=kt.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?mc.Strict:this.baseState===kt.Text||this.baseState===kt.InSpecialTag?mc.Legacy:mc.Attribute)}stateInEntity(){const n=this.entityDecoder.write(this.buffer,this.index-this.offset);n>=0?(this.state=this.baseState,n===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===kt.Text||this.state===kt.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===kt.InAttributeValueDq||this.state===kt.InAttributeValueSq||this.state===kt.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const n=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case kt.Text:{this.stateText(n);break}case kt.SpecialStartSequence:{this.stateSpecialStartSequence(n);break}case kt.InSpecialTag:{this.stateInSpecialTag(n);break}case kt.CDATASequence:{this.stateCDATASequence(n);break}case kt.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(n);break}case kt.InAttributeName:{this.stateInAttributeName(n);break}case kt.InCommentLike:{this.stateInCommentLike(n);break}case kt.InSpecialComment:{this.stateInSpecialComment(n);break}case kt.BeforeAttributeName:{this.stateBeforeAttributeName(n);break}case kt.InTagName:{this.stateInTagName(n);break}case kt.InClosingTagName:{this.stateInClosingTagName(n);break}case kt.BeforeTagName:{this.stateBeforeTagName(n);break}case kt.AfterAttributeName:{this.stateAfterAttributeName(n);break}case kt.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(n);break}case kt.BeforeAttributeValue:{this.stateBeforeAttributeValue(n);break}case kt.BeforeClosingTagName:{this.stateBeforeClosingTagName(n);break}case kt.AfterClosingTagName:{this.stateAfterClosingTagName(n);break}case kt.BeforeSpecialS:{this.stateBeforeSpecialS(n);break}case kt.BeforeSpecialT:{this.stateBeforeSpecialT(n);break}case kt.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(n);break}case kt.InSelfClosingTag:{this.stateInSelfClosingTag(n);break}case kt.InDeclaration:{this.stateInDeclaration(n);break}case kt.BeforeDeclaration:{this.stateBeforeDeclaration(n);break}case kt.BeforeComment:{this.stateBeforeComment(n);break}case kt.InProcessingInstruction:{this.stateInProcessingInstruction(n);break}case kt.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===kt.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const n=this.buffer.length+this.offset;this.sectionStart>=n||(this.state===kt.InCommentLike?this.currentSequence===Ta.CdataEnd?this.cbs.oncdata(this.sectionStart,n,0):this.cbs.oncomment(this.sectionStart,n,0):this.state===kt.InTagName||this.state===kt.BeforeAttributeName||this.state===kt.BeforeAttributeValue||this.state===kt.AfterAttributeName||this.state===kt.InAttributeName||this.state===kt.InAttributeValueSq||this.state===kt.InAttributeValueDq||this.state===kt.InAttributeValueNq||this.state===kt.InClosingTagName||this.cbs.ontext(this.sectionStart,n))}emitCodePoint(n,t){this.baseState!==kt.Text&&this.baseState!==kt.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.onattribentity(n)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.ontextentity(n,this.sectionStart))}}const p0=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Br=new Set(["p"]),h4=new Set(["thead","tbody"]),p4=new Set(["dd","dt"]),m4=new Set(["rt","rp"]),cX=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Br],["h1",Br],["h2",Br],["h3",Br],["h4",Br],["h5",Br],["h6",Br],["select",p0],["input",p0],["output",p0],["button",p0],["datalist",p0],["textarea",p0],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",p4],["dt",p4],["address",Br],["article",Br],["aside",Br],["blockquote",Br],["details",Br],["div",Br],["dl",Br],["fieldset",Br],["figcaption",Br],["figure",Br],["footer",Br],["form",Br],["header",Br],["hr",Br],["main",Br],["nav",Br],["ol",Br],["pre",Br],["section",Br],["table",Br],["ul",Br],["rt",m4],["rp",m4],["tbody",h4],["tfoot",h4]]),dX=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),g4=new Set(["math","svg"]),b4=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),fX=/\s|\//;class hX{constructor(n,t={}){var r,i,a,s,l,u;this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=n??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=t.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(i=t.lowerCaseAttributeNames)!==null&&i!==void 0?i:this.htmlMode,this.recognizeSelfClosing=(a=t.recognizeSelfClosing)!==null&&a!==void 0?a:!this.htmlMode,this.tokenizer=new((s=t.Tokenizer)!==null&&s!==void 0?s:uX)(this.options,this),this.foreignContext=[!this.htmlMode],(u=(l=this.cbs).onparserinit)===null||u===void 0||u.call(l,this)}ontext(n,t){var r,i;const a=this.getSlice(n,t);this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,a),this.startIndex=t}ontextentity(n,t){var r,i;this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,f4(n)),this.startIndex=t}isVoidElement(n){return this.htmlMode&&dX.has(n)}onopentagname(n,t){this.endIndex=t;let r=this.getSlice(n,t);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(n){var t,r,i,a;this.openTagStart=this.startIndex,this.tagname=n;const s=this.htmlMode&&cX.get(n);if(s)for(;this.stack.length>0&&s.has(this.stack[0]);){const l=this.stack.shift();(r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,l,!0)}this.isVoidElement(n)||(this.stack.unshift(n),this.htmlMode&&(g4.has(n)?this.foreignContext.unshift(!0):b4.has(n)&&this.foreignContext.unshift(!1))),(a=(i=this.cbs).onopentagname)===null||a===void 0||a.call(i,n),this.cbs.onopentag&&(this.attribs={})}endOpenTag(n){var t,r;this.startIndex=this.openTagStart,this.attribs&&((r=(t=this.cbs).onopentag)===null||r===void 0||r.call(t,this.tagname,this.attribs,n),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(n){this.endIndex=n,this.endOpenTag(!1),this.startIndex=n+1}onclosetag(n,t){var r,i,a,s,l,u,d,f;this.endIndex=t;let m=this.getSlice(n,t);if(this.lowerCaseTagNames&&(m=m.toLowerCase()),this.htmlMode&&(g4.has(m)||b4.has(m))&&this.foreignContext.shift(),this.isVoidElement(m))this.htmlMode&&m==="br"&&((s=(a=this.cbs).onopentagname)===null||s===void 0||s.call(a,"br"),(u=(l=this.cbs).onopentag)===null||u===void 0||u.call(l,"br",{},!0),(f=(d=this.cbs).onclosetag)===null||f===void 0||f.call(d,"br",!1));else{const b=this.stack.indexOf(m);if(b!==-1)for(let g=0;g<=b;g++){const x=this.stack.shift();(i=(r=this.cbs).onclosetag)===null||i===void 0||i.call(r,x,g!==b)}else this.htmlMode&&m==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1}onselfclosingtag(n){this.endIndex=n,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=n+1):this.onopentagend(n)}closeCurrentTag(n){var t,r;const i=this.tagname;this.endOpenTag(n),this.stack[0]===i&&((r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,i,!n),this.stack.shift())}onattribname(n,t){this.startIndex=n;const r=this.getSlice(n,t);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(n,t){this.attribvalue+=this.getSlice(n,t)}onattribentity(n){this.attribvalue+=f4(n)}onattribend(n,t){var r,i;this.endIndex=t,(i=(r=this.cbs).onattribute)===null||i===void 0||i.call(r,this.attribname,this.attribvalue,n===gc.Double?'"':n===gc.Single?"'":n===gc.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(n){const t=n.search(fX);let r=t<0?n:n.substr(0,t);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(n,t){this.endIndex=t;const r=this.getSlice(n,t);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${i}`,`!${r}`)}this.startIndex=t+1}onprocessinginstruction(n,t){this.endIndex=t;const r=this.getSlice(n,t);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${i}`,`?${r}`)}this.startIndex=t+1}oncomment(n,t,r){var i,a,s,l;this.endIndex=t,(a=(i=this.cbs).oncomment)===null||a===void 0||a.call(i,this.getSlice(n,t-r)),(l=(s=this.cbs).oncommentend)===null||l===void 0||l.call(s),this.startIndex=t+1}oncdata(n,t,r){var i,a,s,l,u,d,f,m,b,g;this.endIndex=t;const x=this.getSlice(n,t-r);!this.htmlMode||this.options.recognizeCDATA?((a=(i=this.cbs).oncdatastart)===null||a===void 0||a.call(i),(l=(s=this.cbs).ontext)===null||l===void 0||l.call(s,x),(d=(u=this.cbs).oncdataend)===null||d===void 0||d.call(u)):((m=(f=this.cbs).oncomment)===null||m===void 0||m.call(f,`[CDATA[${x}]]`),(g=(b=this.cbs).oncommentend)===null||g===void 0||g.call(b)),this.startIndex=t+1}onend(){var n,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(t=(n=this.cbs).onend)===null||t===void 0||t.call(n)}reset(){var n,t,r,i;(t=(n=this.cbs).onreset)===null||t===void 0||t.call(n),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(r=this.cbs).onparserinit)===null||i===void 0||i.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(n){this.reset(),this.end(n)}getSlice(n,t){for(;n-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(n-this.bufferOffset,t-this.bufferOffset);for(;t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,t-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(n){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".write() after done!"));return}this.buffers.push(n),this.tokenizer.running&&(this.tokenizer.write(n),this.writeIndex++)}end(n){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".end() after done!"));return}n&&this.write(n),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(n){this.write(n)}done(n){this.end(n)}}var kr;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(kr||(kr={}));function hx(e){return e.type===kr.Tag||e.type===kr.Script||e.type===kr.Style}kr.Root;kr.Text;kr.Directive;kr.Comment;kr.Script;kr.Style;kr.Tag;kr.CDATA;kr.Doctype;let wI=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(n){this.parent=n}get previousSibling(){return this.prev}set previousSibling(n){this.prev=n}get nextSibling(){return this.next}set nextSibling(n){this.next=n}cloneNode(n=!1){return TI(this,n)}};class kA extends wI{constructor(n){super(),this.data=n}get nodeValue(){return this.data}set nodeValue(n){this.data=n}}let GS=class extends kA{constructor(){super(...arguments),this.type=kr.Text}get nodeType(){return 3}};class SI extends kA{constructor(){super(...arguments),this.type=kr.Comment}get nodeType(){return 8}}class AI extends kA{constructor(n,t){super(t),this.name=n,this.type=kr.Directive}get nodeType(){return 1}}class _A extends wI{constructor(n){super(),this.children=n}get firstChild(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(n){this.children=n}}class CI extends _A{constructor(){super(...arguments),this.type=kr.CDATA}get nodeType(){return 4}}class QS extends _A{constructor(){super(...arguments),this.type=kr.Root}get nodeType(){return 9}}let EI=class extends _A{constructor(n,t,r=[],i=n==="script"?kr.Script:n==="style"?kr.Style:kr.Tag){super(r),this.name=n,this.attribs=t,this.type=i}get nodeType(){return 1}get tagName(){return this.name}set tagName(n){this.name=n}get attributes(){return Object.keys(this.attribs).map(n=>{var t,r;return{name:n,value:this.attribs[n],namespace:(t=this["x-attribsNamespace"])===null||t===void 0?void 0:t[n],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[n]}})}};function kI(e){return hx(e)}function _I(e){return e.type===kr.CDATA}function NI(e){return e.type===kr.Text}function pX(e){return e.type===kr.Comment}function mX(e){return e.type===kr.Directive}function gX(e){return e.type===kr.Root}function TI(e,n=!1){let t;if(NI(e))t=new GS(e.data);else if(pX(e))t=new SI(e.data);else if(kI(e)){const r=n?Sw(e.children):[],i=new EI(e.name,{...e.attribs},r);r.forEach(a=>a.parent=i),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]={...e["x-attribsPrefix"]}),t=i}else if(_I(e)){const r=n?Sw(e.children):[],i=new CI(r);r.forEach(a=>a.parent=i),t=i}else if(gX(e)){const r=n?Sw(e.children):[],i=new QS(r);r.forEach(a=>a.parent=i),e["x-mode"]&&(i["x-mode"]=e["x-mode"]),t=i}else if(mX(e)){const r=new AI(e.name,e.data);e["x-name"]!=null&&(r["x-name"]=e["x-name"],r["x-publicId"]=e["x-publicId"],r["x-systemId"]=e["x-systemId"]),t=r}else throw new Error(`Not implemented yet: ${e.type}`);return t.startIndex=e.startIndex,t.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(t.sourceCodeLocation=e.sourceCodeLocation),t}function Sw(e){const n=e.map(t=>TI(t,!0));for(let t=1;t<n.length;t++)n[t].prev=n[t-1],n[t-1].next=n[t];return n}const y4={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class bX{constructor(n,t,r){this.dom=[],this.root=new QS(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof t=="function"&&(r=t,t=y4),typeof n=="object"&&(t=n,n=void 0),this.callback=n??null,this.options=t??y4,this.elementCB=r??null}onparserinit(n){this.parser=n}onreset(){this.dom=[],this.root=new QS(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(n){this.handleCallback(n)}onclosetag(){this.lastNode=null;const n=this.tagStack.pop();this.options.withEndIndices&&(n.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(n)}onopentag(n,t){const r=this.options.xmlMode?kr.Tag:void 0,i=new EI(n,t,void 0,r);this.addNode(i),this.tagStack.push(i)}ontext(n){const{lastNode:t}=this;if(t&&t.type===kr.Text)t.data+=n,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{const r=new GS(n);this.addNode(r),this.lastNode=r}}oncomment(n){if(this.lastNode&&this.lastNode.type===kr.Comment){this.lastNode.data+=n;return}const t=new SI(n);this.addNode(t),this.lastNode=t}oncommentend(){this.lastNode=null}oncdatastart(){const n=new GS(""),t=new CI([n]);this.addNode(t),n.parent=t,this.lastNode=n}oncdataend(){this.lastNode=null}onprocessinginstruction(n,t){const r=new AI(n,t);this.addNode(r)}handleCallback(n){if(typeof this.callback=="function")this.callback(n,this.dom);else if(n)throw n}addNode(n){const t=this.tagStack[this.tagStack.length-1],r=t.children[t.children.length-1];this.options.withStartIndices&&(n.startIndex=this.parser.startIndex),this.options.withEndIndices&&(n.endIndex=this.parser.endIndex),t.children.push(n),r&&(n.prev=r,r.next=n),n.parent=t,this.lastNode=null}}function yd(e){return Array.isArray(e)?e.map(yd).join(""):kI(e)?e.name==="br"?`
`:yd(e.children):_I(e)?yd(e.children):NI(e)?e.data:""}function yX(e,n){const t=new bX(void 0,n);return new hX(t,n).end(e),t.root}const xX=async(e,n)=>{var g,x,y,A,w,C,T,M;if(!e)return;const t=new on("p","mm","a4",!0);let r=10;const i=297,a=R=>{r+R*6>i-20&&(t.addPage(),r=10)},s=e.sections.length+e.sections.reduce((R,z)=>R+z.subsections.length,0)+e.sections.reduce((R,z)=>R+z.subsections.reduce((_,L)=>_+L.subSubsections.length,0),0)+e.sections.reduce((R,z)=>{var _;return R+(((_=z.images)==null?void 0:_.length)||0)+z.subsections.reduce((L,$)=>{var Z;return L+(((Z=$.images)==null?void 0:Z.length)||0)+$.subSubsections.reduce((O,j)=>{var F;return O+(((F=j.images)==null?void 0:F.length)||0)},0)},0)},0);let l=0;const u=()=>{l+=1,n(Math.round(l/s*100))},d=async(R,z=150,_=150)=>new Promise(L=>{const $=new Image;$.crossOrigin="anonymous",$.src=R.url,$.onload=()=>{const Z=$.width/$.height;let O=z,j=_;Z>1?j=z/Z:O=_*Z,a(j+15);const F=(210-O)/2;if(t.addImage($,"JPEG",F,r,O,j),r+=j+5,R.title){t.setFont("helvetica","italic"),t.setFontSize(10);const G=(210-t.getTextWidth(R.title))/2;t.text(R.title,G,r),t.setFont("helvetica","normal"),r+=6}u(),L()},$.onerror=()=>{console.warn(`Image failed to load: ${R.url}`),u(),L()}}),f=(R,z=10,_=12)=>{var Z;const L=yX(R),$=(O,j=0,F=!1)=>{var N,G,H,Q,te,oe,U;if(O){if(hx(O)){const se=O,q=se.name.toLowerCase();switch(q){case"p":r+=6,(N=se.children)==null||N.forEach(B=>$(B,j)),r+=6;break;case"br":r+=6;break;case"strong":case"b":case"i":case"em":t.setFont("helvetica",q==="strong"||q==="b"?"bold":"italic"),(G=se.children)==null||G.forEach(B=>$(B,j)),t.setFont("helvetica","normal");break;case"ul":case"ol":r+=4,(H=se.children)==null||H.forEach(B=>$(B,j+1,!0));break;case"li":{const B=j===1?"-":"--";let J="";(Q=se.children)==null||Q.forEach(ne=>{if(hx(ne)){const le=ne;le.name==="strong"||le.name==="b"?(t.setFont("helvetica","bold"),J+=` ${yd(le)}`,t.setFont("helvetica","normal")):le.name!=="ul"&&le.name!=="ol"&&(J+=` ${yd(le)}`)}else ne.type==="text"&&"data"in ne&&(J+=` ${ne.data.trim()}`)}),J=J.trim(),J&&(j===0?m(`${B} ${J}`,z,_+2,!0):m(`${B} ${J}`,z+j*8,_),r+=6),(te=se.children)==null||te.forEach(ne=>{if(hx(ne)){const le=ne;["ul","ol"].includes(le.name)&&$(le,j+1,!0)}});break}case"a":(oe=se.attribs)!=null&&oe.href&&b(yd(se),se.attribs.href);break;case"h1":m(yd(se),z,20,!0),r+=8;break;case"h2":m(yd(se),z,18,!0),r+=8;break;case"h3":m(yd(se),z,16,!0),r+=6;break;default:(U=se.children)==null||U.forEach(B=>$(B,j))}}else if(O.type==="text"&&"data"in O){const se=O.data.trim();se&&m(se,z+j*8,_)}}};(Z=L.children)==null||Z.forEach(O=>$(O))},m=(R,z,_=12,L=!1,$=[0,0,0],Z=!1,O=200)=>{if(!R)return;t.setFontSize(_),t.setTextColor($[0],$[1],$[2]),t.setFont("helvetica",L?Z?"bolditalic":"bold":Z?"italic":"normal"),t.splitTextToSize(R,O-z).forEach(F=>{a(1),t.text(F,z,r),r+=6})},b=(R,z)=>{a(1),t.setTextColor(10,104,71),t.textWithLink(R,10,r,{url:z}),r+=6};(g=e.header)!=null&&g.content&&(m("Header:",10,12,!0),f(e.header.content),r+=5),e.title&&(m(e.title,10,18,!0,[10,104,71]),r+=5);for(const R of e.sections){if(m(R.title,10,16,!0),f(R.content),(x=R.images)!=null&&x.length)for(const z of R.images)await d(z);u();for(const z of R.subsections){if(m(z.title,12,14,!0),f(z.content,12),(y=z.images)!=null&&y.length)for(const _ of z.images)await d(_);u();for(const _ of z.subSubsections){if(m(_.title,14,12,!0),f(_.content,14),(A=_.images)!=null&&A.length)for(const L of _.images)await d(L);u(),(w=_.links)!=null&&w.length&&(m("Links:",14,12,!0),_.links.forEach(L=>b(L.title,L.url)))}(C=z.links)!=null&&C.length&&(m("Links:",12,12,!0),z.links.forEach(_=>b(_.title,_.url)))}(T=R.links)!=null&&T.length&&(m("Links:",10,12,!0),R.links.forEach(z=>b(z.title,z.url))),r+=5}(M=e.footer)!=null&&M.content&&(m("Footer:",10,12,!0),f(e.footer.content)),t.save(`${e.title||"Material"}.pdf`),n(100)},vX=()=>{var M,R,z,_,L,$,Z,O,j,F,N,G,H,Q,te,oe,U,se,q,B,J,ne,le,Se,xe,ke,De,Me,He,Ve,Y,Ae,re,be,fe,Ce,Le,qe,Te,Ze,ut,rt;const{id:e}=q6(),[n,t]=V1(),r=Xn(),[i,a]=X.useState(null),[s,l]=X.useState({sectionIndex:0}),[u,d]=X.useState(null),[f,m]=X.useState(0),[b,g]=X.useState(!0);mO((i==null?void 0:i.sections)||[],s.sectionIndex||0,!!i),X.useEffect(()=>{m(Pe=>Pe+1)},[s]);const x=async()=>{if(i!=null&&i.originalFile)try{console.log(" Starting original file download:",i.originalFile.name);const Pe=document.createElement("a");Pe.href=i.originalFile.url,Pe.download=i.originalFile.name,Pe.target="_blank",document.body.appendChild(Pe),Pe.click(),document.body.removeChild(Pe),console.log(" Original file download initiated")}catch(Pe){console.error(" Original file download failed:",Pe)}};X.useEffect(()=>{e&&(async()=>{var ve,Ne;try{g(!0);const Oe=fn(r,"materials",e),ft=await ga(Oe);if(ft.exists()){const et={id:ft.id,...ft.data()};console.log("Material data from Firestore:",et),console.log("Sections type:",typeof et.sections),console.log("Sections value:",et.sections),Array.isArray(et.sections)||(console.warn("Sections is not an array, initializing as empty array. Original value:",et.sections),et.sections=[]),et.sections=et.sections.map(Pt=>({id:Pt.id||Ri(),title:Pt.title||"Untitled Section",content:Pt.content||"",images:Array.isArray(Pt.images)?Pt.images.map(Yt=>({...Yt,title:Yt.title||""})):[],links:Array.isArray(Pt.links)?Pt.links:[],subsections:Array.isArray(Pt.subsections)?Pt.subsections.map(Yt=>({id:Yt.id||Ri(),title:Yt.title||"Untitled Subsection",content:Yt.content||"",images:Array.isArray(Yt.images)?Yt.images.map(Rt=>({...Rt,title:Rt.title||""})):[],links:Array.isArray(Yt.links)?Yt.links:[],subSubsections:Array.isArray(Yt.subSubsections)?Yt.subSubsections.map(Rt=>({id:Rt.id||Ri(),title:Rt.title||"Untitled Sub-subsection",content:Rt.content||"",images:Array.isArray(Rt.images)?Rt.images.map(Xt=>({...Xt,title:Xt.title||""})):[],links:Array.isArray(Rt.links)?Rt.links:[]})):[]})):[]})),console.log("Loaded material from database:",{title:et.title,sectionsCount:((ve=et.sections)==null?void 0:ve.length)||0,sectionsWithImages:((Ne=et.sections)==null?void 0:Ne.filter(Pt=>{var Nt;return((Nt=Pt.images)==null?void 0:Nt.length)>0}).length)||0}),a(et)}}catch(Oe){console.error("Error fetching material:",Oe)}finally{g(!1)}})()},[e,r]),X.useEffect(()=>{e&&n.get("material")!==e&&(console.log(" Updating URL: Adding material ID to query parameters:",e),t(Pe=>{const ve=new URLSearchParams(Pe);return ve.set("material",e),ve},{replace:!0}))},[e,n,t]);const y=(Pe,ve,Ne)=>{l({sectionIndex:typeof Pe=="number"?Pe:void 0,subsectionIndex:ve,subSubsectionIndex:Ne,type:typeof Pe=="string"?Pe:void 0})},A=Pe=>{var et,Pt,Nt,Yt,Rt,Xt,nn,ln,Pn,zn,Vr,ir,Rn,Vt,An,wa,wr,oi,Sa,Lt,Hn,ar,Rr,dr,fr,Un,bs;const{sectionIndex:ve,subsectionIndex:Ne,subSubsectionIndex:Oe,type:ft}=s;if(Pe==="prev")if(Oe!==void 0&&Oe>0)l({sectionIndex:ve,subsectionIndex:Ne,subSubsectionIndex:Oe-1});else if(Oe!==void 0&&Oe===0)l({sectionIndex:ve,subsectionIndex:Ne});else if(Ne!==void 0&&Ne>0)l({sectionIndex:ve,subsectionIndex:Ne-1});else if(Ne!==void 0&&Ne===0)l({sectionIndex:ve});else if(ve>0){const _r=i==null?void 0:i.sections[ve-1];l({sectionIndex:ve-1,subsectionIndex:(et=_r==null?void 0:_r.subsections)!=null&&et.length?_r.subsections.length-1:void 0,subSubsectionIndex:(Pt=_r==null?void 0:_r.subsections)!=null&&Pt.length?((Yt=(Nt=_r.subsections[_r.subsections.length-1])==null?void 0:Nt.subSubsections)==null?void 0:Yt.length)-1:void 0})}else ft==="footer"?l({sectionIndex:((i==null?void 0:i.sections.length)??1)-1,type:"footer"}):ve===void 0&&ft==="header"&&l({sectionIndex:((i==null?void 0:i.sections.length)??1)-1});else Pe==="next"&&(Oe===void 0&&Ne!==void 0&&((ln=(nn=(Xt=(Rt=i==null?void 0:i.sections[ve??0])==null?void 0:Rt.subsections)==null?void 0:Xt[Ne])==null?void 0:nn.subSubsections)!=null&&ln.length)?l({sectionIndex:ve,subsectionIndex:Ne,subSubsectionIndex:0}):Oe!==void 0&&Oe<(((ir=(Vr=(zn=(Pn=i==null?void 0:i.sections[ve??0])==null?void 0:Pn.subsections)==null?void 0:zn[Ne??0])==null?void 0:Vr.subSubsections)==null?void 0:ir.length)??1)-1?l({sectionIndex:ve,subsectionIndex:Ne,subSubsectionIndex:Oe+1}):Oe!==void 0&&Oe===(((wa=(An=(Vt=(Rn=i==null?void 0:i.sections[ve??0])==null?void 0:Rn.subsections)==null?void 0:Vt[Ne??0])==null?void 0:An.subSubsections)==null?void 0:wa.length)??1)-1&&(Ne??0)<(((oi=(wr=i==null?void 0:i.sections[ve??0])==null?void 0:wr.subsections)==null?void 0:oi.length)??1)-1?l({sectionIndex:ve,subsectionIndex:(Ne??0)+1}):Ne===void 0&&((Lt=(Sa=i==null?void 0:i.sections[ve??0])==null?void 0:Sa.subsections)!=null&&Lt.length)?l({sectionIndex:ve,subsectionIndex:0}):Ne!==void 0&&Ne<(((ar=(Hn=i==null?void 0:i.sections[ve??0])==null?void 0:Hn.subsections)==null?void 0:ar.length)??1)-1?l({sectionIndex:ve,subsectionIndex:Ne+1}):Ne!==void 0&&Ne===(((dr=(Rr=i==null?void 0:i.sections[ve??0])==null?void 0:Rr.subsections)==null?void 0:dr.length)??1)-1&&(ve??0)<(((fr=i==null?void 0:i.sections)==null?void 0:fr.length)??1)-1?l({sectionIndex:(ve??0)+1}):(ve??0)<(((Un=i==null?void 0:i.sections)==null?void 0:Un.length)??1)-1?l({sectionIndex:(ve??0)+1}):ve===(((bs=i==null?void 0:i.sections)==null?void 0:bs.length)??1)-1&&Ne===void 0&&l({sectionIndex:void 0,type:"footer"}))};if(b)return h.jsx(de,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:h.jsx(Zr,{size:60,sx:{color:ht.palette.primary.main}})});if(!i)return h.jsx(R6,{maxWidth:"md",children:h.jsxs(de,{sx:{textAlign:"center",py:8,px:4,backgroundColor:ht.palette.background.paper,borderRadius:Et["2xl"],border:`1px solid ${ht.palette.divider}`},children:[h.jsx(he,{variant:"h5",sx:{fontFamily:ht.typography.h5.fontFamily,fontWeight:ht.typography.h5.fontWeight,color:ht.palette.text.secondary,mb:2},children:"Material Not Found"}),h.jsx(he,{variant:"body1",sx:{color:ht.palette.text.secondary},children:"The requested material could not be found or you don't have permission to view it."})]})});const w=s.type==="header"||s.type==="footer"?"":s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((z=(R=(M=i.sections[s.sectionIndex])==null?void 0:M.subsections[s.subsectionIndex])==null?void 0:R.subSubsections[s.subSubsectionIndex])==null?void 0:z.content)||"":s.subsectionIndex!==void 0?((L=(_=i.sections[s.sectionIndex])==null?void 0:_.subsections[s.subsectionIndex])==null?void 0:L.content)||"":(($=i.sections[s.sectionIndex])==null?void 0:$.content)||"":"",C=s.type==="header"||s.type==="footer"?"":s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((j=(O=(Z=i.sections[s.sectionIndex])==null?void 0:Z.subsections[s.subsectionIndex])==null?void 0:O.subSubsections[s.subSubsectionIndex])==null?void 0:j.title)||"":s.subsectionIndex!==void 0?((N=(F=i.sections[s.sectionIndex])==null?void 0:F.subsections[s.subsectionIndex])==null?void 0:N.title)||"":((G=i.sections[s.sectionIndex])==null?void 0:G.title)||"":"",T=s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((te=(Q=(H=i.sections[s.sectionIndex])==null?void 0:H.subsections[s.subsectionIndex])==null?void 0:Q.subSubsections[s.subSubsectionIndex])==null?void 0:te.links)||[]:s.subsectionIndex!==void 0?((U=(oe=i.sections[s.sectionIndex])==null?void 0:oe.subsections[s.subsectionIndex])==null?void 0:U.links)||[]:((se=i.sections[s.sectionIndex])==null?void 0:se.links)||[]:[];return h.jsxs(de,{sx:{display:"flex",flexGrow:1,flexDirection:"column",minHeight:"100vh"},children:[h.jsxs(gn,{elevation:1,sx:{p:3,mb:2,backgroundColor:ht.palette.background.paper,borderRadius:0},children:[h.jsx(de,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center"},children:h.jsxs(de,{sx:{display:"flex",gap:2,alignItems:"center"},children:[h.jsx(cr,{label:i.published?"Published":i.scheduledTimestamp?"Scheduled":"Draft",color:i.published?"success":i.scheduledTimestamp?"info":"warning",variant:"outlined",sx:{fontWeight:600}}),h.jsxs(de,{sx:{display:"flex",gap:1},children:[(i==null?void 0:i.originalFile)&&h.jsx(fi,{title:`Download original file: ${i.originalFile.name}`,arrow:!0,children:h.jsx(Ct,{variant:"outlined",startIcon:h.jsx(E9,{}),endIcon:h.jsx(nk,{}),onClick:x,sx:{borderRadius:"12px",textTransform:"none",fontWeight:600},children:"PPTX"})}),h.jsx(Ct,{variant:"outlined",startIcon:h.jsx(Tx,{}),endIcon:h.jsx(nk,{}),onClick:async()=>{i&&(d(0),await xX(i,d),d(null))},disabled:u!==null,sx:{borderRadius:"12px",textTransform:"none",fontWeight:600},children:u!==null?"Generating...":"PDF"})]})]})}),u!==null&&h.jsx(de,{sx:{width:"100%",mt:2},children:h.jsx(Ko,{variant:"determinate",value:u,sx:{borderRadius:Et.xl,height:8}})})]}),h.jsxs(de,{sx:{display:"flex",flexGrow:1,minHeight:0},children:[h.jsx(bv,{children:h.jsx(l7,{sections:i.sections,selected:s,onAddSection:()=>{},onAddSubsection:()=>{},onAddSubSubsection:()=>{},onSelectSection:y,onUpdateSectionTitle:()=>{},onUpdateSubsectionTitle:()=>{},onUpdateSubSubsectionTitle:()=>{},onDeleteSection:()=>{},onDeleteSubsection:()=>{},onDeleteSubSubsection:()=>{},isViewMode:!0})}),h.jsxs(de,{sx:{flexGrow:1,p:4,overflow:"auto"},children:[h.jsx(gn,{elevation:0,sx:{p:3,mb:3,backgroundColor:ht.palette.background.paper,borderRadius:Et.xl,border:`1px solid ${ht.palette.divider}`},children:h.jsx(he,{dangerouslySetInnerHTML:{__html:i.header.content.replace(/\n/g,"<br />")},sx:{fontFamily:ht.typography.body1.fontFamily,color:ht.palette.text.secondary,lineHeight:1.6}})}),h.jsx(he,{variant:"h3",align:"center",sx:{fontFamily:ht.typography.h3.fontFamily,fontWeight:ht.typography.h3.fontWeight,color:ht.palette.text.primary,mb:4},children:i.title}),C&&h.jsx(he,{variant:"h4",align:"center",sx:{fontFamily:ht.typography.h4.fontFamily,fontWeight:ht.typography.h4.fontWeight,color:ht.palette.text.primary,mb:4},children:C}),s.type!=="header"&&s.type!=="footer"&&h.jsx(Jw,{in:!0,timeout:400,children:h.jsxs(de,{children:[h.jsxs(gn,{elevation:0,sx:{p:4,mb:3,backgroundColor:ht.palette.background.paper,borderRadius:Et.xl,border:`1px solid ${ht.palette.divider}`},children:[h.jsx(he,{dangerouslySetInnerHTML:{__html:w.replace(/\n/g,"<br />")},sx:{fontFamily:ht.typography.body1.fontFamily,color:ht.palette.text.primary,lineHeight:1.7,"& p":{mb:2}}}),h.jsx(de,{sx:{mt:3},children:s.sectionIndex!==void 0&&h.jsx(h.Fragment,{children:s.subSubsectionIndex!==void 0?(((Se=(le=(ne=(J=(B=(q=i.sections[s.sectionIndex])==null?void 0:q.subsections)==null?void 0:B[s.subsectionIndex])==null?void 0:J.subSubsections)==null?void 0:ne[s.subSubsectionIndex])==null?void 0:le.images)==null?void 0:Se.length)||0)>0&&h.jsx(dw,{images:((He=(Me=(De=(ke=(xe=i.sections[s.sectionIndex])==null?void 0:xe.subsections)==null?void 0:ke[s.subsectionIndex])==null?void 0:De.subSubsections)==null?void 0:Me[s.subSubsectionIndex])==null?void 0:He.images)||[]}):s.subsectionIndex!==void 0?(((re=(Ae=(Y=(Ve=i.sections[s.sectionIndex])==null?void 0:Ve.subsections)==null?void 0:Y[s.subsectionIndex])==null?void 0:Ae.images)==null?void 0:re.length)||0)>0&&h.jsx(dw,{images:((Ce=(fe=(be=i.sections[s.sectionIndex])==null?void 0:be.subsections)==null?void 0:fe[s.subsectionIndex])==null?void 0:Ce.images)||[]}):(((qe=(Le=i.sections[s.sectionIndex])==null?void 0:Le.images)==null?void 0:qe.length)||0)>0&&h.jsx(dw,{images:((Te=i.sections[s.sectionIndex])==null?void 0:Te.images)||[]})})})]}),T.length>0&&h.jsx(eK,{links:T})]})},f),h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[h.jsx(fi,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:h.jsx("span",{children:h.jsx(_n,{onClick:()=>A("prev"),disabled:s.sectionIndex===0&&s.subsectionIndex===void 0&&s.type==="header",sx:{backgroundColor:ht.palette.primary.main,color:ht.palette.primary.contrastText,"&:hover":{backgroundColor:ht.palette.primary.dark},"&:disabled":{backgroundColor:ht.palette.action.disabled,color:ht.palette.action.disabled}},children:h.jsx(k9,{})})})}),h.jsx(fi,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:h.jsx("span",{children:h.jsx(_n,{onClick:()=>A("next"),disabled:s.sectionIndex===(((Ze=i.sections)==null?void 0:Ze.length)??1)-1&&(s.subsectionIndex===void 0||s.subsectionIndex===(((rt=(ut=i.sections[s.sectionIndex])==null?void 0:ut.subsections)==null?void 0:rt.length)??1)-1)&&s.type==="footer",sx:{backgroundColor:ht.palette.primary.main,color:ht.palette.primary.contrastText,"&:hover":{backgroundColor:ht.palette.primary.dark},"&:disabled":{backgroundColor:ht.palette.action.disabled,color:ht.palette.action.disabled}},children:h.jsx(_9,{})})})})]}),h.jsx(gn,{elevation:0,sx:{p:3,mt:4,backgroundColor:ht.palette.background.paper,borderRadius:Et.xl,border:`1px solid ${ht.palette.divider}`},children:h.jsx(he,{dangerouslySetInnerHTML:{__html:i.footer.content.replace(/\n/g,"<br />")},sx:{fontFamily:ht.typography.body1.fontFamily,color:ht.palette.text.secondary,lineHeight:1.6}})})]})]})]})},jI=({value:e,onChange:n})=>{const[t,r]=X.useState([]),{userDetails:i}=Pi();return X.useEffect(()=>{if(i!=null&&i.classes){const a=Object.entries(i.classes).filter(([s,l])=>l.isCourseAdmin||i.isSuperAdmin).map(([s,l])=>({id:s,number:l.number,title:l.title,isCourseAdmin:l.isCourseAdmin}));r(a)}else r([])},[i]),h.jsxs(h.Fragment,{children:[h.jsx(pm,{value:e,onChange:n,courses:t,label:"Course",placeholder:"Select a course",helperText:"",showNumber:!0,showTitle:!0,showAdminBadge:!1}),!e&&h.jsx(O6,{children:"Please select a course"})]})},OI=({links:e,onLinkChange:n,onAddLink:t,onRemoveLink:r})=>h.jsxs(de,{sx:{mt:$e[5]},children:[h.jsxs(he,{variant:"h6",sx:{mb:$e[3],fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.lg,fontWeight:we.fontWeight.semibold,color:K.primary[700],display:"flex",alignItems:"center",gap:$e[2]},children:[h.jsx(de,{sx:{width:24,height:24,borderRadius:Et.sm,backgroundColor:K.primary[100],display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px"},children:""}),"Links & Resources"]}),e.map((i,a)=>h.jsxs(gn,{elevation:0,sx:{p:$e[3],mb:$e[3],backgroundColor:K.neutral[50],borderRadius:Et.lg,border:`1px solid ${K.neutral[200]}`,position:"relative","&:hover":{borderColor:K.primary[300],backgroundColor:K.primary[25],"& .remove-button":{opacity:1,visibility:"visible"}},transition:"all 0.2s ease-in-out"},children:[h.jsx(fi,{title:"Remove this link",arrow:!0,placement:"top",children:h.jsx(_n,{className:"remove-button",onClick:()=>r(a),sx:{position:"absolute",top:$e[2],right:$e[2],width:32,height:32,backgroundColor:K.error[50],border:`1px solid ${K.error[200]}`,borderRadius:Et.sm,opacity:0,visibility:"hidden",transition:"all 0.2s ease-in-out","&:hover":{backgroundColor:K.error[100],borderColor:K.error[300],transform:"scale(1.05)"},"& .MuiSvgIcon-root":{fontSize:"16px",color:K.error[600]}},children:h.jsx(N9,{})})}),h.jsx(de,{sx:{display:"flex",alignItems:"center",mb:$e[2]},children:h.jsxs(he,{variant:"body2",sx:{fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.sm,fontWeight:we.fontWeight.medium,color:K.text.secondary},children:["Link ",a+1]})}),h.jsxs(de,{sx:{display:"flex",gap:$e[3],alignItems:"flex-start"},children:[h.jsx(Jt,{label:"Link Title",fullWidth:!0,value:i.title,onChange:s=>n(a,"title",s.target.value),placeholder:"Enter a descriptive title for this link",sx:{flex:"0 0 65%","& .MuiOutlinedInput-root":{borderRadius:Et.lg,backgroundColor:K.surface.primary}}}),h.jsx(Jt,{label:"URL",fullWidth:!0,value:i.url,onChange:s=>n(a,"url",s.target.value),placeholder:"https://example.com",sx:{flex:"0 0 35%","& .MuiOutlinedInput-root":{borderRadius:Et.lg,backgroundColor:K.surface.primary}}})]})]},i.id)),h.jsx(Ct,{variant:"outlined",onClick:t,startIcon:h.jsx(de,{sx:{width:20,height:20,borderRadius:Et.sm,backgroundColor:K.primary[100],display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:we.fontWeight.semibold,color:K.primary[700]},children:"+"}),sx:{fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.base,fontWeight:we.fontWeight.medium,color:K.primary[600],borderColor:K.primary[300],borderRadius:Et.lg,padding:`${$e[2]} ${$e[4]}`,textTransform:"none","&:hover":{backgroundColor:K.primary[50],borderColor:K.primary[400],color:K.primary[700]},transition:"all 0.2s ease-in-out"},children:"Add Link"})]}),wX=()=>{const[e,n]=X.useState(""),[t,r]=X.useState(""),[i,a]=X.useState([{id:crypto.randomUUID(),title:"",url:""}]),[s,l]=X.useState(""),u=ya(),d=Xn(),f=async()=>{if(!s){alert("Please select a course to post the message.");return}try{await Si(dn(d,"messages"),{title:e,description:t,links:i,course:s,postedOn:Uf(),isPinned:!1}),u("/messages")}catch(y){console.error("Error adding message: ",y)}},m=()=>u("/messages"),b=(y,A,w)=>{const C=[...i];C[y][A]=w,a(C)},g=()=>a([...i,{id:crypto.randomUUID(),title:"",url:""}]),x=y=>{const A=i.filter((w,C)=>C!==y);a(A)};return h.jsxs(R6,{maxWidth:"md",sx:{mt:6,fontFamily:we.fontFamily.primary},children:[h.jsx(Ao,{title:"Add Message",subtitle:"Share important announcements and updates with your course participants"}),h.jsx(gn,{elevation:3,sx:{p:$e[6],borderRadius:Et["2xl"],backgroundColor:K.background.elevated,border:`1px solid ${K.neutral[200]}`,boxShadow:Ft.lg},children:h.jsxs(de,{sx:{mt:$e[4]},children:[h.jsx(jI,{value:s,onChange:l}),h.jsx(Jt,{label:"Subject",fullWidth:!0,value:e,onChange:y=>n(y.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),h.jsx(Jt,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:t,onChange:y=>r(y.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),h.jsx(OI,{links:i,onLinkChange:b,onAddLink:g,onRemoveLink:x}),h.jsx(qs,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between"},children:[h.jsx(Ct,{variant:"outlined",onClick:m,className:"cancel-button",children:"Cancel"}),h.jsx(Ct,{variant:"outlined",onClick:f,className:"save-button",children:"Save"})]})]})})]})},SX=()=>{const{id:e}=q6(),[n,t]=X.useState(""),[r,i]=X.useState(""),[a,s]=X.useState([{id:crypto.randomUUID(),title:"",url:""}]),[l,u]=X.useState(""),d=ya(),f=Xn();X.useEffect(()=>{(async()=>{try{const w=fn(f,"messages",e),C=await ga(w);if(C.exists()){const T=C.data();t(T.title),i(T.description);const M=T.links||[];s(M.length>0?M.map(R=>({id:R.id||crypto.randomUUID(),title:R.title||"",url:R.url||""})):[{id:crypto.randomUUID(),title:"",url:""}]),u(T.course||"")}}catch(w){console.error("Error fetching message: ",w)}})()},[f,e]);const m=async()=>{try{if(!l){alert("Please select a valid course to update the message.");return}const A=fn(f,"messages",e);await Hr(A,{title:n,description:r,links:a,course:l,lastUpdatedOn:Uf()}),d("/messages")}catch(A){console.error("Error editing message: ",A)}},b=()=>d("/messages"),g=(A,w,C)=>{const T=[...a];T[A][w]=C,s(T)},x=()=>s([...a,{id:crypto.randomUUID(),title:"",url:""}]),y=A=>{const w=a.filter((C,T)=>T!==A);s(w)};return h.jsxs(R6,{maxWidth:"md",sx:{mt:6,fontFamily:we.fontFamily.primary},children:[h.jsx(Ao,{title:"Edit Message",subtitle:"Update your message content and course assignment"}),h.jsx(gn,{elevation:3,sx:{p:$e[6],borderRadius:Et["2xl"],backgroundColor:K.background.elevated,border:`1px solid ${K.neutral[200]}`,boxShadow:Ft.lg},children:h.jsxs(de,{sx:{mt:$e[4]},children:[h.jsx(jI,{value:l,onChange:u}),h.jsx(Jt,{label:"Subject",fullWidth:!0,value:n,onChange:A=>t(A.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),h.jsx(Jt,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:r,onChange:A=>i(A.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),h.jsx(OI,{links:a,onLinkChange:g,onAddLink:x,onRemoveLink:y}),h.jsx(qs,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between"},children:[h.jsx(Ct,{variant:"outlined",onClick:b,className:"cancel-button",children:"Cancel"}),h.jsx(Ct,{variant:"outlined",onClick:m,className:"save-button",children:"Save"})]})]})})]})},AX=({users:e,loading:n=!1})=>{const t=a=>a.isSuperAdmin?"superAdmin":a.isAdmin?"educator":"student",r=a=>{if(!a||Object.keys(a).length===0)return h.jsx(de,{sx:{fontStyle:"italic",color:K.text.disabled},children:"None"});const s=Object.entries(a);return h.jsx(de,{sx:{display:"flex",flexDirection:"column",gap:$e[1]},children:s.map(([l,u])=>h.jsx(wp,{courseId:l,courseNumber:u.number,courseTitle:u.title,variant:"link",maxTitleLength:999},l))})},i=[{id:"id",label:"User ID",width:"25%",render:(a,s)=>h.jsx(oh,{userId:a,userType:t(s)})},{id:"isAdmin",label:"Status",width:"15%",render:(a,s)=>h.jsx(Yj,{status:t(s)})},{id:"lastLogin",label:"Last Login",width:"20%",render:a=>h.jsx(Sp,{date:a,format:"full"})},{id:"classes",label:"Courses",width:"40%",render:a=>r(a)}];return h.jsx(sh,{data:e,columns:i,loading:n,emptyMessage:"No users found.",showRowNumbers:!0})},CX=({userId:e,onUserDeleted:n})=>{const[t,r]=X.useState(!1),[i,a]=X.useState(!1),s=Xn(),l=()=>{r(!0)},u=()=>{r(!1)},d=async()=>{a(!0);try{const f=fn(s,"users",e);await $1(f),n(!0)}catch(f){console.error("Error deleting user:",f),n(!1)}a(!1),r(!1)};return h.jsxs(h.Fragment,{children:[h.jsx(Ct,{variant:"text",color:"error",onClick:l,children:"Delete User Account"}),h.jsxs(Zi,{open:t,onClose:u,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[h.jsx(pa,{id:"alert-dialog-title",children:"Confirm Deletion"}),h.jsx(Ji,{children:h.jsx(Ll,{id:"alert-dialog-description",children:"Are you sure you want to delete this user account? This action cannot be undone."})}),h.jsxs(ma,{children:[h.jsx(Ct,{onClick:u,color:"primary",disabled:i,children:"Cancel"}),h.jsx(Ct,{onClick:d,color:"error",autoFocus:!0,disabled:i,children:i?h.jsx(Zr,{size:24}):"Delete"})]})]})]})},EX=({userId:e,userClasses:n,courses:t,onCourseAssigned:r})=>{const[i,a]=X.useState(""),[s,l]=X.useState(!1),[u,d]=X.useState(!1),[f,m]=X.useState(""),[b,g]=X.useState(!1),[x,y]=X.useState(!1),[A,w]=X.useState(!1),[C,T]=X.useState(!1),M=Xn(),R=async()=>{if(!e||!i){m("Please enter a User ID and select a course."),w(!1),g(!0);return}d(!0);try{const $=fn(M,"users",e),Z=t.find(O=>O.id===i);if(Z){const O=fn(M,"courses",i),j=await ga(O),F=j.exists()?j.data():null,N=(F==null?void 0:F.courseCreatedAt)||(F==null?void 0:F.createdAt)||(F==null?void 0:F.timestamp)||new Date;await Hr($,{[`classes.${i}`]:{number:Z.number,title:Z.title,isCourseAdmin:s,courseCreatedAt:N,enrolledAt:new Date}}),m(`Course ${Z.title} assigned successfully to user ${e}${s?" as Course Admin.":"."}`),r(i,{number:Z.number,title:Z.title,isCourseAdmin:s}),T(!0),setTimeout(()=>T(!1),1e3),y(!1),a(""),l(!1),w(!0)}else m("Selected course not found."),w(!1)}catch($){console.error("Error assigning course:",$),m("Error assigning course."),w(!1)}d(!1),g(!0)},z=()=>{g(!1)},_=()=>y(!0),L=()=>y(!1);return h.jsxs(h.Fragment,{children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",mt:2,p:2,borderRadius:2,transition:"background-color 0.3s ease",backgroundColor:C?"#e8f5e8":"transparent",border:C?"2px solid #4caf50":"2px solid transparent"},children:[h.jsx(he,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Courses:"}),h.jsx(de,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:n&&Object.keys(n).length>0?Object.values(n).map(($,Z)=>h.jsx(cr,{label:`${$.isCourseAdmin?"[Course Admin] ":""}${$.number} - ${$.title}`,style:{backgroundColor:$.isCourseAdmin?"#ffcccb":"#d4edda",color:$.isCourseAdmin?"#b71c1c":"#155724",margin:"4px"}},Z)):h.jsx(he,{children:"No courses assigned."})}),h.jsx(pm,{value:i,onChange:a,courses:t.map($=>({id:$.id,number:$.number,title:$.title,isCourseAdmin:!1})),label:"Course",placeholder:"Select a course to assign",helperText:"Choose a course to assign to the user",size:"small",sx:{minWidth:200,mr:2}}),h.jsxs(Od,{sx:{mr:2},children:[h.jsx(lp,{children:"Role"}),h.jsxs(Dc,{value:s?"admin":"student",onChange:$=>l($.target.value==="admin"),children:[h.jsx(ai,{value:"admin",children:"Course Admin"}),h.jsx(ai,{value:"student",children:"Student"})]})]}),h.jsx(Ct,{variant:"contained",color:"primary",onClick:_,disabled:u||!i,children:u?h.jsx(Zr,{size:24}):"Assign Course"})]}),h.jsx(Rl,{open:b,autoHideDuration:6e3,onClose:z,children:h.jsx(rr,{onClose:z,severity:A?"success":"error",children:f})}),h.jsxs(Zi,{open:x,onClose:L,"aria-labelledby":"assign-dialog-title",children:[h.jsx(pa,{id:"assign-dialog-title",children:"Assign Course"}),h.jsx(Ji,{children:h.jsxs(Ll,{children:["Are you sure you want to assign the course ",i," to this user",s?" as a Course Admin?":"?"]})}),h.jsxs(ma,{children:[h.jsx(Ct,{onClick:L,color:"primary",children:"Cancel"}),h.jsx(Ct,{onClick:R,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},kX=()=>{const[e,n]=X.useState(""),[t,r]=X.useState(!1),[i,a]=X.useState(!1),[s,l]=X.useState(void 0),[u,d]=X.useState(!1),[f,m]=X.useState(""),[b,g]=X.useState(!1),[x,y]=X.useState(!1),[A,w]=X.useState(!1),[C,T]=X.useState([]),[M,R]=X.useState(""),[z,_]=X.useState([]),L=Xn(),[$,Z]=X.useState("");ya(),X.useEffect(()=>{(async()=>{try{const B=dn(L,"courses"),ne=(await Ai(B)).docs.map(le=>({id:le.id,number:le.data().number,title:le.data().title}));_(ne)}catch(B){console.error("Error fetching courses:",B)}})()},[L]);const O=async()=>{if(e){d(!0),a(!1);try{const q=fn(L,"users",e),B=await ga(q);if(B.exists()){const J=B.data();r(J.isAdmin),l(J.classes),a(!0)}else m("User not found."),g(!0)}catch(q){console.error("Error fetching user:",q),m("Error fetching user."),g(!0)}d(!1)}},j=X.useCallback(async()=>{d(!0);try{const q=dn(L,"users"),J=(await Ai(q)).docs.map(ne=>({id:ne.id,...ne.data()}));T(J)}catch(q){console.error("Error fetching users:",q),m("Error fetching users."),g(!0)}d(!1)},[L]);X.useEffect(()=>{j()},[j]);const F=async()=>{try{const q=fn(L,"users",e);await Hr(q,{isAdmin:A}),m(`User ${A?"granted":"revoked"} admin privileges successfully.`),r(A);const B=C.map(J=>J.id===e?{...J,isAdmin:A}:J);T(B)}catch(q){console.error("Error updating user:",q),m("Error updating user.")}g(!0),y(!1)},N=q=>{q.preventDefault(),i?(w(!t),y(!0)):(m("User not found."),g(!0))},G=()=>{g(!1)},H=()=>{y(!1)},Q=q=>M?q.classes&&M in q.classes:!0,te=q=>$==="superAdmin"?q.isSuperAdmin:$==="educator"?q.isAdmin&&!q.isSuperAdmin:$==="student"?!q.isAdmin&&!q.isSuperAdmin:!0,oe=q=>q.filter(B=>Q(B)&&te(B)),U=q=>{q?(m("User account deleted successfully."),a(!1),n(""),j()):m("Error deleting user account."),g(!0)},se=(q,B)=>{l(J=>({...J,[q]:B}))};return h.jsxs(de,{sx:{padding:3},children:[h.jsx(Ao,{title:"User Management"}),h.jsx(he,{variant:"body1",gutterBottom:!0,children:"Use this page to view and manage user permissions. Enter the User ID to grant or revoke admin privileges, or delete user account."}),h.jsx(de,{sx:{display:"flex",justifyContent:"flex-start"},children:h.jsxs("form",{onSubmit:N,children:[h.jsx(Jt,{label:"User ID",value:e,onChange:q=>n(q.target.value),fullWidth:!0,required:!0,margin:"normal",onKeyPress:q=>{q.key==="Enter"&&(O(),q.preventDefault())},sx:{minWidth:"300px"}}),u?h.jsx(Zr,{}):i&&h.jsxs(gn,{variant:"outlined",sx:{padding:2,borderRadius:"15px",mb:1},children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #e0e0e0",padding:"16px",borderRadius:"8px",backgroundColor:"#f9f9f9",mb:2},children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center"},children:[h.jsx(he,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Status:"}),h.jsx(cr,{label:t?"Educator (Admin)":"Student (Non-Admin)",color:t?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",backgroundColor:t?"#1976d2":"#e0e0e0",color:t?"#fff":"#000"}})]}),h.jsx(Ct,{type:"submit",variant:"contained",color:t?"secondary":"primary",sx:{padding:"8px 16px",textTransform:"none",fontSize:"0.9rem",borderRadius:"8px",fontWeight:"bold",boxShadow:"none","&:hover":{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.2)"}},children:t?"Revoke Educator Access":"Grant Educator Access"})]}),h.jsx(EX,{userId:e,userClasses:s,courses:z,onCourseAssigned:se}),h.jsx(CX,{userId:e,onUserDeleted:U})]})]})}),h.jsx(he,{variant:"h5",component:"h2",gutterBottom:!0,children:"Current Users"}),h.jsx(pm,{value:M,onChange:R,courses:[{id:"",number:"All",title:"Courses"},...z.map(q=>({id:q.id,number:q.number,title:q.title,isCourseAdmin:!1}))],label:"Filter by Course",placeholder:"All courses",helperText:"",size:"small",sx:{mb:3,width:"25%"}}),h.jsxs(Od,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[h.jsx(lp,{children:"User Status"}),h.jsxs(Dc,{value:$,onChange:q=>Z(q.target.value),children:[h.jsx(ai,{value:"",children:"All Statuses"}),h.jsx(ai,{value:"superAdmin",children:"Super Admin"}),h.jsx(ai,{value:"educator",children:"Educator"}),h.jsx(ai,{value:"student",children:"Student"})]})]}),h.jsx(AX,{users:oe(C)}),h.jsxs(Zi,{open:x,onClose:H,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[h.jsx(pa,{id:"alert-dialog-title",children:t?"Revoke Admin Privileges":"Grant Admin Privileges"}),h.jsx(Ji,{children:h.jsxs(Ll,{id:"alert-dialog-description",children:["Are you sure you want to ",t?"revoke":"grant"," admin privileges for this user?"]})}),h.jsxs(ma,{children:[h.jsx(Ct,{onClick:H,color:"primary",children:"Cancel"}),h.jsx(Ct,{onClick:F,color:"primary",autoFocus:!0,children:"Confirm"})]})]}),h.jsx(Rl,{open:b,autoHideDuration:6e3,onClose:G,children:h.jsx(rr,{onClose:G,severity:"info",children:f})})]})},_X=({onCourseAdded:e})=>{const[n,t]=X.useState(""),{userDetails:r,setUserDetails:i}=Pi(),a=Xn(),s=u=>{t(u.target.value)},l=async()=>{try{const f=(await Ai(dn(a,"courses"))).docs.map(m=>({id:m.id,passcode:m.data().passcode,number:m.data().number,title:m.data().title})).find(m=>m.passcode===n);if(f){if(r)if((r.classes||{})[f.id])e(`Course access for ${f.number} is already added to your account!`,"info");else{const b=fn(a,"users",r.uid),g=fn(a,"courses",f.id),x=await ga(g),y=x.exists()?x.data():null,A=(y==null?void 0:y.courseCreatedAt)||(y==null?void 0:y.createdAt)||(y==null?void 0:y.timestamp)||new Date;await Hr(b,{[`classes.${f.id}`]:{number:f.number,title:f.title,isCourseAdmin:!1,courseCreatedAt:A,enrolledAt:new Date}});const w=await ga(b);if(w.exists()){const C=w.data();i({...C,uid:r.uid})}e(`Course access for ${f.number} added to your account successfully!`,"success"),t("")}}else e("Invalid passcode. Course not found.","error")}catch(u){console.error("Error updating document: ",u),e("Error adding course access to your account.","error")}};return h.jsxs(de,{sx:{p:$e[4],backgroundColor:K.background.primary,borderRadius:Et.lg,border:`1px solid ${K.neutral[200]}`,boxShadow:Ft.sm,maxWidth:"600px"},children:[h.jsx(he,{variant:"h6",sx:{mb:$e[3],fontFamily:we.fontFamily.secondary,fontWeight:we.fontWeight.semibold,color:K.text.primary},children:"Enter Course Passcode"}),h.jsxs(wt,{container:!0,spacing:$e[3],alignItems:"center",children:[h.jsx(wt,{item:!0,xs:12,md:8,children:h.jsx(Jt,{label:"Course Passcode",value:n,onChange:s,fullWidth:!0,variant:"outlined",placeholder:"Enter the passcode provided by your instructor",sx:{"& .MuiOutlinedInput-root":{fontFamily:we.fontFamily.primary,"& fieldset":{borderColor:K.neutral[300]},"&:hover fieldset":{borderColor:K.primary[400]},"&.Mui-focused fieldset":{borderColor:K.primary[500]}},"& .MuiInputLabel-root":{fontFamily:we.fontFamily.secondary,color:K.text.secondary,"&.Mui-focused":{color:K.primary[500]}}}})}),h.jsx(wt,{item:!0,xs:12,md:4,children:h.jsx(Ct,{variant:"contained",onClick:l,fullWidth:!0,sx:{fontFamily:we.fontFamily.secondary,fontWeight:we.fontWeight.medium,backgroundColor:K.primary[500],color:K.text.inverse,borderRadius:Et.md,textTransform:"none",py:$e[2],"&:hover":{backgroundColor:K.primary[600]},"&:disabled":{backgroundColor:K.neutral[300],color:K.text.disabled}},children:"Add Course"})})]})]})};var Ng={},x4;function NX(){if(x4)return Ng;x4=1;var e=zd();Object.defineProperty(Ng,"__esModule",{value:!0}),Ng.default=void 0;var n=e(Bd()),t=qd();return Ng.default=(0,n.default)((0,t.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),Ng}var TX=NX();const jX=ts(TX),OX=({userDetails:e})=>{const n=()=>e.isSuperAdmin?"superAdmin":e.isAdmin?"educator":"student",t=()=>n(),r=()=>e!=null&&e.classes?h.jsx(de,{sx:{border:`1px solid ${K.neutral[200]}`,borderRadius:Et.md,overflow:"hidden"},children:Object.entries(e.classes).map(([i,a],s)=>h.jsxs(de,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:$e[3],backgroundColor:s%2===0?K.background.primary:K.neutral[50],borderBottom:s<Object.keys(e.classes).length-1?`1px solid ${K.neutral[200]}`:"none","&:hover":{backgroundColor:K.primary[50]}},children:[h.jsx(de,{sx:{flex:1},children:h.jsx(wp,{courseId:i,courseNumber:a.number,courseTitle:a.title,variant:"link",maxTitleLength:30})}),a.isCourseAdmin&&h.jsx(de,{sx:{ml:$e[2],px:$e[2],py:$e[1],backgroundColor:K.success[100],color:K.success[700],borderRadius:Et.sm,fontSize:we.fontSize.xs,fontWeight:we.fontWeight.semibold,fontFamily:we.fontFamily.secondary},children:"Admin"})]},i))}):h.jsx(de,{sx:{p:$e[3],textAlign:"center",backgroundColor:K.neutral[50],borderRadius:Et.md,border:`1px solid ${K.neutral[200]}`},children:h.jsx(he,{variant:"body2",sx:{color:K.text.secondary,fontStyle:"italic",fontFamily:we.fontFamily.secondary},children:"No courses enrolled"})});return h.jsxs(gn,{elevation:0,sx:{padding:$e[6],borderRadius:Et.xl,backgroundColor:K.background.primary,border:`1px solid ${K.neutral[200]}`,boxShadow:Ft.lg,maxWidth:"600px",margin:"auto",transition:"all 0.2s ease","&:hover":{boxShadow:Ft.xl,transform:"translateY(-2px)"}},children:[h.jsx(de,{sx:{display:"flex",justifyContent:"center",mb:$e[4]},children:h.jsx(T9,{sx:{width:80,height:80,bgcolor:K.primary[500],border:`3px solid ${K.primary[100]}`,boxShadow:Ft.md},children:h.jsx(jX,{sx:{fontSize:48,color:K.text.inverse}})})}),h.jsxs(de,{sx:{display:"flex",flexDirection:"column",gap:$e[4]},children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:$e[3]},children:[h.jsx(he,{sx:{fontWeight:we.fontWeight.semibold,fontFamily:we.fontFamily.secondary,color:K.text.primary,minWidth:"100px"},children:"User ID:"}),h.jsx(oh,{userId:e.uid,userType:n(),maxLength:999})]}),h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:$e[3]},children:[h.jsx(he,{sx:{fontWeight:we.fontWeight.semibold,fontFamily:we.fontFamily.secondary,color:K.text.primary,minWidth:"100px"},children:"Status:"}),h.jsx(Yj,{status:t(),size:"medium"})]}),h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:$e[3]},children:[h.jsx(he,{sx:{fontWeight:we.fontWeight.semibold,fontFamily:we.fontFamily.secondary,color:K.text.primary,minWidth:"100px"},children:"Last Login:"}),h.jsx(he,{variant:"body2",sx:{fontFamily:"monospace",fontSize:we.fontSize.sm,color:K.text.secondary,backgroundColor:K.neutral[100],padding:`${$e[2]} ${$e[3]}`,borderRadius:Et.md,border:`1px solid ${K.neutral[300]}`},children:Kj(e.lastLogin)})]})]}),h.jsx(qs,{sx:{my:$e[4],borderColor:K.neutral[200]}}),h.jsxs(de,{children:[h.jsx(he,{sx:{fontWeight:we.fontWeight.semibold,fontFamily:we.fontFamily.secondary,color:K.text.primary,mb:$e[3],fontSize:we.fontSize.lg},children:"Enrolled Courses:"}),r()]})]})},IX=()=>{const{userDetails:e,setUserDetails:n}=Pi(),[t,r]=X.useState(!1),[i,a]=X.useState(!1),[s,l]=X.useState(!1),[u,d]=X.useState(""),[f,m]=X.useState("success"),b=ya(),g=Xn(),x=()=>{e!=null&&e.isAdmin||b("/request-educator-permissions")},y=(T,M)=>{l(!0),d(T),m(M),M==="success"&&e&&(async()=>{const z=fn(g,"users",e.uid),_=await ga(z);if(_.exists()){const L=_.data();n({...L,uid:e.uid})}})()},A=()=>{r(!t)},w=()=>{a(!i)},C=()=>{l(!1)};return h.jsxs(de,{sx:{minHeight:"100vh",backgroundColor:K.background.secondary,padding:$e[4]},children:[h.jsx(Ao,{title:"My Account",subtitle:"Manage your account settings, course enrollments, and permissions"}),e&&h.jsx(de,{sx:{mb:$e[6]},children:h.jsx(OX,{userDetails:e})}),h.jsxs(de,{sx:{display:"flex",gap:$e[4],mb:$e[4],alignItems:"flex-start"},children:[!(e!=null&&e.isAdmin)&&h.jsxs(de,{sx:{flex:1,p:$e[4],backgroundColor:K.background.primary,borderRadius:Et.lg,border:`1px solid ${K.neutral[200]}`,boxShadow:Ft.sm},children:[h.jsx(Ad,{control:h.jsx(Cd,{checked:t,onChange:A,sx:{"& .MuiSwitch-thumb":{backgroundColor:K.primary[500]},"& .MuiSwitch-track":{backgroundColor:K.primary[100]},"&.Mui-checked .MuiSwitch-track":{backgroundColor:K.primary[500]}}}),label:h.jsx(he,{sx:{fontFamily:we.fontFamily.display,fontWeight:we.fontWeight.semibold,color:K.text.primary,fontSize:we.fontSize.xl},children:"Enroll in a Course"})}),t&&h.jsx(de,{sx:{mt:$e[3]},children:h.jsx(_X,{onCourseAdded:y})})]}),h.jsxs(de,{sx:{flex:1,p:$e[4],backgroundColor:K.background.primary,borderRadius:Et.lg,border:`1px solid ${K.neutral[200]}`,boxShadow:Ft.sm},children:[h.jsx(Ad,{control:h.jsx(Cd,{checked:i,onChange:w,sx:{"& .MuiSwitch-thumb":{backgroundColor:K.primary[500]},"& .MuiSwitch-track":{backgroundColor:K.primary[100]},"&.Mui-checked .MuiSwitch-track":{backgroundColor:K.primary[500]}}}),label:h.jsx(he,{sx:{fontFamily:we.fontFamily.display,fontWeight:we.fontWeight.semibold,color:K.text.primary,fontSize:we.fontSize.xl},children:"Advanced"})}),i&&h.jsx(de,{sx:{mt:$e[3]},children:h.jsx(Ct,{variant:e!=null&&e.isAdmin?"outlined":"contained",onClick:x,disabled:e==null?void 0:e.isAdmin,sx:{fontFamily:we.fontFamily.secondary,fontWeight:we.fontWeight.medium,borderRadius:Et.md,textTransform:"none",px:$e[4],py:$e[2],...e!=null&&e.isAdmin?{borderColor:K.success[500],color:K.success[700],backgroundColor:K.success[50],"&:hover":{backgroundColor:K.success[100]}}:{backgroundColor:K.primary[600],color:K.text.inverse,"&:hover":{backgroundColor:K.primary[700]}}},children:e!=null&&e.isAdmin?h.jsxs(he,{sx:{fontFamily:we.fontFamily.secondary,fontWeight:we.fontWeight.medium,display:"flex",alignItems:"center",gap:$e[2]},children:[h.jsx("span",{children:""}),"Educator Account Approved"]}):"Request Educator Permissions"})})]})]}),h.jsx(Rl,{open:s,autoHideDuration:6e3,onClose:C,children:h.jsx(rr,{onClose:C,severity:f,sx:{width:"100%",fontFamily:we.fontFamily.secondary},children:u})})]})},DX=({selectedCourse:e,selectedCourseDetails:n,onStudentChange:t})=>{const[r,i]=X.useState(""),[a,s]=X.useState(!1),[l,u]=X.useState(""),[d,f]=X.useState(!1),[m,b]=X.useState(!1),g=Xn(),x=async()=>{if(!r||!e){u("Please enter a Student ID and select a course."),f(!0);return}s(!0);try{const C=fn(g,"users",r),T=await ga(C);if(T.exists()){const R=T.data().classes||{};e in R?b(!0):(u(`Student ${r} is not enrolled in course ${(n==null?void 0:n.number)||e}, cannot remove.`),f(!0))}else u(`Student ${r} does not exist.`),f(!0)}catch(C){console.error("Error checking student course:",C),u("Error checking student course."),f(!0)}s(!1)},y=async()=>{s(!0);try{const C=fn(g,"users",r);await Hr(C,{[`classes.${e}`]:b3()}),u(`Student ${r} removed from course ${(n==null?void 0:n.number)||e}.`),i(""),t()}catch(C){console.error("Error updating student course:",C),u("Error updating student course.")}s(!1),f(!0),b(!1)},A=()=>{f(!1)},w=()=>{b(!1)};return h.jsxs(de,{sx:{mt:4},children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",mt:2},children:[h.jsx(Jt,{label:"Student ID",value:r,onChange:C=>i(C.target.value),fullWidth:!0,required:!0,margin:"normal",sx:{mr:2}}),h.jsx(Ct,{variant:"contained",color:"primary",onClick:x,disabled:a,children:a?h.jsx(Zr,{size:24}):"Remove"})]}),h.jsx(Rl,{open:d,autoHideDuration:6e3,onClose:A,children:h.jsx(rr,{onClose:A,severity:"info",children:l})}),h.jsxs(Zi,{open:m,onClose:w,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[h.jsx(pa,{id:"confirm-dialog-title",children:"Confirm Removal"}),h.jsx(Ji,{children:h.jsx(Ll,{id:"confirm-dialog-description",children:"Are you sure you want to remove the student from the course? This action cannot be undone."})}),h.jsxs(ma,{children:[h.jsx(Ct,{onClick:w,color:"primary",children:"Cancel"}),h.jsx(Ct,{onClick:y,color:"secondary",autoFocus:!0,children:"Confirm"})]})]})]})},LX=e=>e?typeof e=="object"&&"toDate"in e?e.toDate().toLocaleString():typeof e=="object"&&"seconds"in e?new Date(e.seconds*1e3).toLocaleString():"N/A":"No data available",Khe=e=>e?typeof e=="object"&&"toDate"in e?e.toDate():typeof e=="object"&&"seconds"in e?new Date(e.seconds*1e3):null:null,RX=({students:e,selectedCourse:n})=>{const t=()=>{if(e.length>0){const r=["User ID","Courses","Last Login"],i=e.map(d=>[`"${d.id||d.uid}"`,`"${d.classes?Object.values(d.classes).map(f=>`${f.number} - ${f.title}`).join(", "):"None"}"`,`"${LX(d.lastLogin)}"`]),a=[r.join(","),...i.map(d=>d.join(","))].join(`
`),s=new Blob([a],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(s),u=document.createElement("a");u.href=l,u.setAttribute("download",`${n}_students.csv`),document.body.appendChild(u),u.click(),document.body.removeChild(u)}};return h.jsx(de,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:h.jsx(Ct,{variant:"contained",color:"primary",onClick:t,disabled:e.length===0,sx:{background:"linear-gradient(45deg, #3f51b5 30%, #1e88e5 90%)",borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"white",padding:"0 30px",fontSize:"16px",fontWeight:"bold",textTransform:"none","&:hover":{background:"linear-gradient(45deg, #1e88e5 30%, #3f51b5 90%)",boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)"}},children:"Export as CSV"})})},MX=({students:e,loading:n=!1})=>{const t=[{id:"uid",label:"Student ID",width:"60%",render:r=>h.jsx(oh,{userId:r,userType:"student"})},{id:"lastLogin",label:"Last Login",width:"40%",render:r=>h.jsx(Sp,{date:r,format:"full"})}];return h.jsx(sh,{data:e,columns:t,loading:n,emptyMessage:"No students are currently enrolled in this course.",showRowNumbers:!0})},FX=({selectedCourse:e,selectedCourseDetails:n,onCourseUpdate:t})=>{const[r,i]=X.useState(!1),[a,s]=X.useState(""),[l,u]=X.useState(""),d=Xn(),{userDetails:f,refreshUserDetails:m}=Pi(),b=()=>{n&&(s(n.number||""),u(n.title||"")),i(!0)},g=()=>{i(!1),x()},x=()=>{s(""),u("")},y=async()=>{if(!e||!(f!=null&&f.uid)){console.error("Selected course or user details are missing.");return}try{const A=fn(d,"courses",e);await Hr(A,{number:a,title:l});const w=fn(d,"users",f.uid),C=await ga(w);if(C.exists()){const T=C.data();if(T.classes&&T.classes[e]){const M=T.classes[e],R={...T.classes,[e]:{...M,number:a,title:l}};await Hr(w,{classes:R})}}await m(),t(),g()}catch(A){console.error("Error updating course:",A)}};return h.jsxs(de,{sx:{mt:2},children:[h.jsx(Ct,{variant:"outlined",onClick:b,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#4CAF50",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#388E3C",transform:"scale(1.03)"}},children:"Edit Course Details"}),h.jsxs(Zi,{open:r,onClose:g,children:[h.jsx(pa,{children:"Edit Course Details"}),h.jsxs(Ji,{children:[h.jsx(Jt,{label:"Course Number",value:a,onChange:A=>s(A.target.value),fullWidth:!0,sx:{mb:2}}),h.jsx(Jt,{label:"Course Title",value:l,onChange:A=>u(A.target.value),fullWidth:!0})]}),h.jsxs(ma,{children:[h.jsx(Ct,{onClick:g,children:"Cancel"}),h.jsx(Ct,{onClick:y,variant:"contained",color:"primary",disabled:!a||!l,children:"Save"})]})]})]})},PX=({selectedCourse:e,onInfoUpdate:n})=>{var F,N,G,H,Q,te,oe,U,se,q,B,J,ne;const[t,r]=X.useState(!1),[i,a]=X.useState(!1),[s,l]=X.useState(null),[u,d]=X.useState({}),[f,m]=X.useState("contact"),b=Xn();X.useEffect(()=>{t&&e&&g()},[t,e]);const g=async()=>{try{a(!0);const le=fn(b,"courses",e),Se=await ga(le);if(Se.exists()){const xe=Se.data();d(xe.additionalInfo||{})}}catch(le){console.error("Error fetching course info:",le),l("Failed to load course information")}finally{a(!1)}},x=()=>{r(!0),l(null)},y=()=>{r(!1),l(null)},A=async()=>{try{a(!0);const le=fn(b,"courses",e);await Hr(le,{additionalInfo:{...u,lastUpdated:new Date}}),n(),y()}catch(le){console.error("Error updating course info:",le),l("Failed to save course information")}finally{a(!1)}},w=(le,Se)=>{d(xe=>({...xe,contactInfo:{...xe.contactInfo,[le]:Se}}))},C=(le,Se)=>{d(xe=>({...xe,policies:{...xe.policies,[le]:Se}}))},T=()=>{d(le=>({...le,textbooks:[...le.textbooks||[],{title:"",author:"",edition:"",isbn:"",required:!0}]}))},M=(le,Se,xe)=>{d(ke=>{var De;return{...ke,textbooks:(De=ke.textbooks)==null?void 0:De.map((Me,He)=>He===le?{...Me,[Se]:xe}:Me)}})},R=le=>{d(Se=>{var xe;return{...Se,textbooks:(xe=Se.textbooks)==null?void 0:xe.filter((ke,De)=>De!==le)}})},z=()=>{d(le=>({...le,gradingPolicy:[...le.gradingPolicy||[],{component:"",percentage:0,description:""}]}))},_=(le,Se,xe)=>{d(ke=>{var De;return{...ke,gradingPolicy:(De=ke.gradingPolicy)==null?void 0:De.map((Me,He)=>He===le?{...Me,[Se]:xe}:Me)}})},L=le=>{d(Se=>{var xe;return{...Se,gradingPolicy:(xe=Se.gradingPolicy)==null?void 0:xe.filter((ke,De)=>De!==le)}})},$=(le,Se)=>{d(xe=>{var ke;return{...xe,[le]:{...xe[le],[Se]:[...((ke=xe[le])==null?void 0:ke[Se])||[],""]}}})},Z=(le,Se,xe,ke)=>{d(De=>{var Me;return{...De,[le]:{...De[le],[Se]:(((Me=De[le])==null?void 0:Me[Se])||[]).map((He,Ve)=>Ve===xe?ke:He)}}})},O=(le,Se,xe)=>{d(ke=>{var De;return{...ke,[le]:{...ke[le],[Se]:(((De=ke[le])==null?void 0:De[Se])||[]).filter((Me,He)=>He!==xe)}}})},j=le=>(Se,xe)=>{m(xe?le:!1)};return h.jsxs(de,{sx:{mt:2},children:[h.jsx(Ct,{variant:"outlined",onClick:x,startIcon:h.jsx(yu,{}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#2196F3",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#1976D2",transform:"scale(1.03)"}},children:"Edit Additional Info"}),h.jsxs(Zi,{open:t,onClose:y,maxWidth:"md",fullWidth:!0,children:[h.jsx(pa,{children:h.jsx(he,{variant:"h5",children:"Edit Additional Course Information"})}),h.jsxs(Ji,{sx:{minHeight:"500px"},children:[s&&h.jsx(rr,{severity:"error",sx:{mb:2},children:s}),h.jsxs(vd,{expanded:f==="contact",onChange:j("contact"),children:[h.jsx(wd,{expandIcon:h.jsx(Tl,{}),children:h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(j9,{color:"primary"}),h.jsx(he,{variant:"h6",children:"Contact Information"})]})}),h.jsx(Sd,{children:h.jsxs(wt,{container:!0,spacing:2,children:[h.jsx(wt,{item:!0,xs:12,md:6,children:h.jsx(Jt,{label:"Email",fullWidth:!0,value:((F=u.contactInfo)==null?void 0:F.email)||"",onChange:le=>w("email",le.target.value)})}),h.jsx(wt,{item:!0,xs:12,md:6,children:h.jsx(Jt,{label:"Phone",fullWidth:!0,value:((N=u.contactInfo)==null?void 0:N.phone)||"",onChange:le=>w("phone",le.target.value)})}),h.jsx(wt,{item:!0,xs:12,md:6,children:h.jsx(Jt,{label:"Office",fullWidth:!0,value:((G=u.contactInfo)==null?void 0:G.office)||"",onChange:le=>w("office",le.target.value)})}),h.jsx(wt,{item:!0,xs:12,md:6,children:h.jsx(Jt,{label:"Office Hours",fullWidth:!0,value:((H=u.contactInfo)==null?void 0:H.officeHours)||"",onChange:le=>w("officeHours",le.target.value)})}),h.jsx(wt,{item:!0,xs:12,children:h.jsx(Jt,{label:"Website",fullWidth:!0,value:((Q=u.contactInfo)==null?void 0:Q.website)||"",onChange:le=>w("website",le.target.value)})})]})})]}),h.jsxs(vd,{expanded:f==="textbooks",onChange:j("textbooks"),children:[h.jsx(wd,{expandIcon:h.jsx(Tl,{}),children:h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(O9,{color:"primary"}),h.jsx(he,{variant:"h6",children:"Textbooks & Resources"})]})}),h.jsxs(Sd,{children:[h.jsx(de,{sx:{mb:2},children:h.jsx(Ct,{startIcon:h.jsx(mu,{}),onClick:T,variant:"outlined",children:"Add Textbook"})}),(te=u.textbooks)==null?void 0:te.map((le,Se)=>h.jsx(de,{sx:{mb:3,p:2,border:"1px solid #ddd",borderRadius:1},children:h.jsxs(wt,{container:!0,spacing:2,children:[h.jsx(wt,{item:!0,xs:12,children:h.jsx(Jt,{label:"Title",fullWidth:!0,value:le.title,onChange:xe=>M(Se,"title",xe.target.value)})}),h.jsx(wt,{item:!0,xs:12,md:4,children:h.jsx(Jt,{label:"Author",fullWidth:!0,value:le.author||"",onChange:xe=>M(Se,"author",xe.target.value)})}),h.jsx(wt,{item:!0,xs:12,md:4,children:h.jsx(Jt,{label:"Edition",fullWidth:!0,value:le.edition||"",onChange:xe=>M(Se,"edition",xe.target.value)})}),h.jsx(wt,{item:!0,xs:12,md:4,children:h.jsx(Jt,{label:"ISBN",fullWidth:!0,value:le.isbn||"",onChange:xe=>M(Se,"isbn",xe.target.value)})}),h.jsx(wt,{item:!0,xs:12,children:h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsx(Ad,{control:h.jsx(Cd,{checked:le.required,onChange:xe=>M(Se,"required",xe.target.checked)}),label:"Required"}),h.jsx(_n,{onClick:()=>R(Se),color:"error",children:h.jsx(gu,{})})]})})]})},Se))]})]}),h.jsxs(vd,{expanded:f==="grading",onChange:j("grading"),children:[h.jsx(wd,{expandIcon:h.jsx(Tl,{}),children:h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(I9,{color:"primary"}),h.jsx(he,{variant:"h6",children:"Grading Policy"})]})}),h.jsxs(Sd,{children:[h.jsx(de,{sx:{mb:2},children:h.jsx(Ct,{startIcon:h.jsx(mu,{}),onClick:z,variant:"outlined",children:"Add Grading Component"})}),(oe=u.gradingPolicy)==null?void 0:oe.map((le,Se)=>h.jsx(de,{sx:{mb:2,p:2,border:"1px solid #ddd",borderRadius:1},children:h.jsxs(wt,{container:!0,spacing:2,children:[h.jsx(wt,{item:!0,xs:12,md:4,children:h.jsx(Jt,{label:"Component",fullWidth:!0,value:le.component,onChange:xe=>_(Se,"component",xe.target.value)})}),h.jsx(wt,{item:!0,xs:12,md:3,children:h.jsx(Jt,{label:"Percentage",type:"number",fullWidth:!0,value:le.percentage,onChange:xe=>_(Se,"percentage",parseInt(xe.target.value)||0),inputProps:{min:0,max:100}})}),h.jsx(wt,{item:!0,xs:12,md:4,children:h.jsx(Jt,{label:"Description",fullWidth:!0,value:le.description||"",onChange:xe=>_(Se,"description",xe.target.value)})}),h.jsx(wt,{item:!0,xs:12,md:1,children:h.jsx(_n,{onClick:()=>L(Se),color:"error",children:h.jsx(gu,{})})})]})},Se))]})]}),h.jsxs(vd,{expanded:f==="policies",onChange:j("policies"),children:[h.jsx(wd,{expandIcon:h.jsx(Tl,{}),children:h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(D9,{color:"primary"}),h.jsx(he,{variant:"h6",children:"Course Policies"})]})}),h.jsx(Sd,{children:h.jsx(wt,{container:!0,spacing:2,children:[{key:"attendance",label:"Attendance Policy"},{key:"lateWork",label:"Late Work Policy"},{key:"academicIntegrity",label:"Academic Integrity"},{key:"accommodations",label:"Accommodations"},{key:"communication",label:"Communication Policy"},{key:"safety",label:"Safety Policy"},{key:"groupWork",label:"Group Work Policy"},{key:"makeupPolicy",label:"Make-up Policy"}].map(({key:le,label:Se})=>{var xe;return h.jsx(wt,{item:!0,xs:12,children:h.jsx(Jt,{label:Se,multiline:!0,rows:3,fullWidth:!0,value:((xe=u.policies)==null?void 0:xe[le])||"",onChange:ke=>C(le,ke.target.value)})},le)})})})]}),h.jsxs(vd,{expanded:f==="lab",onChange:j("lab"),children:[h.jsx(wd,{expandIcon:h.jsx(Tl,{}),children:h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(I6,{color:"primary"}),h.jsx(he,{variant:"h6",children:"Laboratory Information"})]})}),h.jsx(Sd,{children:h.jsxs(wt,{container:!0,spacing:3,children:[h.jsxs(wt,{item:!0,xs:12,children:[h.jsx(he,{variant:"subtitle2",sx:{mb:1},children:"Safety Requirements"}),h.jsx(de,{sx:{mb:2},children:h.jsx(Ct,{startIcon:h.jsx(mu,{}),onClick:()=>$("labSpecific","safetyRequirements"),size:"small",variant:"outlined",children:"Add Safety Requirement"})}),(se=(U=u.labSpecific)==null?void 0:U.safetyRequirements)==null?void 0:se.map((le,Se)=>h.jsxs(de,{sx:{display:"flex",gap:1,mb:1},children:[h.jsx(Jt,{fullWidth:!0,size:"small",value:le,onChange:xe=>Z("labSpecific","safetyRequirements",Se,xe.target.value),placeholder:"Safety requirement"}),h.jsx(_n,{onClick:()=>O("labSpecific","safetyRequirements",Se),color:"error",size:"small",children:h.jsx(gu,{})})]},Se))]}),h.jsxs(wt,{item:!0,xs:12,md:6,children:[h.jsx(he,{variant:"subtitle2",sx:{mb:1},children:"Required Equipment"}),h.jsx(de,{sx:{mb:2},children:h.jsx(Ct,{startIcon:h.jsx(mu,{}),onClick:()=>$("labSpecific","requiredEquipment"),size:"small",variant:"outlined",children:"Add Equipment"})}),(B=(q=u.labSpecific)==null?void 0:q.requiredEquipment)==null?void 0:B.map((le,Se)=>h.jsxs(de,{sx:{display:"flex",gap:1,mb:1},children:[h.jsx(Jt,{fullWidth:!0,size:"small",value:le,onChange:xe=>Z("labSpecific","requiredEquipment",Se,xe.target.value),placeholder:"Equipment item"}),h.jsx(_n,{onClick:()=>O("labSpecific","requiredEquipment",Se),color:"error",size:"small",children:h.jsx(gu,{})})]},Se))]}),h.jsxs(wt,{item:!0,xs:12,md:6,children:[h.jsx(he,{variant:"subtitle2",sx:{mb:1},children:"Dress Code"}),h.jsx(de,{sx:{mb:2},children:h.jsx(Ct,{startIcon:h.jsx(mu,{}),onClick:()=>$("labSpecific","dresscode"),size:"small",variant:"outlined",children:"Add Dress Code Item"})}),(ne=(J=u.labSpecific)==null?void 0:J.dresscode)==null?void 0:ne.map((le,Se)=>h.jsxs(de,{sx:{display:"flex",gap:1,mb:1},children:[h.jsx(Jt,{fullWidth:!0,size:"small",value:le,onChange:xe=>Z("labSpecific","dresscode",Se,xe.target.value),placeholder:"Dress code requirement"}),h.jsx(_n,{onClick:()=>O("labSpecific","dresscode",Se),color:"error",size:"small",children:h.jsx(gu,{})})]},Se))]})]})})]})]}),h.jsxs(ma,{children:[h.jsx(Ct,{onClick:y,children:"Cancel"}),h.jsx(Ct,{onClick:A,variant:"contained",disabled:i,children:i?"Saving...":"Save Changes"})]})]})]})},zX=async(e,n,t)=>{const r=xp(),i=e.name.split(".").pop()||"txt",a=`${e.name.replace(/\.[^/.]+$/,"")}_${Ri()}.${i}`,s=`syllabi/${n}/${a}`,l=xc(r,s);try{const u=await Hf(l,e),d=await Wf(u.ref),f={originalFilename:e.name,fileSize:e.size,fileType:e.type||"application/octet-stream",uploadedAt:new Date,uploadedBy:n,courseId:t};return console.log(`Successfully uploaded syllabus file: ${a}`,{size:e.size,type:e.type,url:d}),{url:d,path:u.ref.fullPath,metadata:f}}catch(u){throw console.error("Failed to upload syllabus file:",u),new Error(`Failed to upload syllabus file: ${u instanceof Error?u.message:"Unknown error"}`)}},v4=e=>{switch(e.toLowerCase()){case"application/pdf":return"PDF Document";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return"Word Document";case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return"PowerPoint Presentation";case"text/plain":return"Text File";default:return"Document"}},w4=e=>{if(e===0)return"0 Bytes";const n=1024,t=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,r)).toFixed(2))+" "+t[r]},qX=({courseId:e})=>{const[n,t]=X.useState(null),[r,i]=X.useState(!0),[a,s]=X.useState(null),[l,u]=X.useState(!1),d=Xn();X.useEffect(()=>{e&&(async()=>{try{i(!0);const g=fn(d,"courses",e),x=await ga(g);if(x.exists()){const y=x.data();t(y.syllabusFile||null)}else s("Course not found")}catch(g){console.error("Error fetching syllabus file:",g),s("Failed to load syllabus file information")}finally{i(!1)}})()},[e,d]);const f=()=>{n!=null&&n.url&&window.open(n.url,"_blank")},m=()=>{u(!0)};return r?h.jsx(de,{sx:{display:"flex",justifyContent:"center",p:2},children:h.jsx(Zr,{size:24})}):a?h.jsx(rr,{severity:"error",sx:{mb:2},children:a}):n?h.jsxs(gn,{sx:{p:3,mb:3,backgroundColor:"info.50"},children:[h.jsxs(he,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[h.jsx(Tx,{color:"primary"}),"Original Syllabus Document"]}),h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[h.jsx(he,{variant:"body1",sx:{flexGrow:1},children:h.jsx("strong",{children:n.metadata.originalFilename})}),h.jsxs(he,{variant:"body2",color:"text.secondary",children:[v4(n.metadata.fileType),"  ",w4(n.metadata.fileSize)]})]}),h.jsxs(he,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Uploaded: ",new Date(n.metadata.uploadedAt).toLocaleDateString()]}),h.jsxs(de,{sx:{display:"flex",gap:2},children:[h.jsx(Ct,{variant:"outlined",startIcon:h.jsx(M6,{}),onClick:m,size:"small",children:"View Details"}),h.jsx(Ct,{variant:"contained",startIcon:h.jsx(c1,{}),onClick:f,size:"small",children:"Download"})]}),h.jsxs(Zi,{open:l,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[h.jsxs(pa,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Tx,{}),"Syllabus File Details"]}),h.jsx(Ji,{children:h.jsxs(de,{sx:{mb:2},children:[h.jsx(he,{variant:"body2",color:"text.secondary",children:h.jsx("strong",{children:"Filename:"})}),h.jsx(he,{variant:"body1",sx:{mb:2},children:n.metadata.originalFilename}),h.jsx(he,{variant:"body2",color:"text.secondary",children:h.jsx("strong",{children:"File Type:"})}),h.jsx(he,{variant:"body1",sx:{mb:2},children:v4(n.metadata.fileType)}),h.jsx(he,{variant:"body2",color:"text.secondary",children:h.jsx("strong",{children:"File Size:"})}),h.jsx(he,{variant:"body1",sx:{mb:2},children:w4(n.metadata.fileSize)}),h.jsx(he,{variant:"body2",color:"text.secondary",children:h.jsx("strong",{children:"Uploaded:"})}),h.jsx(he,{variant:"body1",sx:{mb:2},children:new Date(n.metadata.uploadedAt).toLocaleString()}),h.jsx(he,{variant:"body2",color:"text.secondary",children:h.jsx("strong",{children:"Storage Path:"})}),h.jsx(he,{variant:"body2",sx:{fontFamily:"monospace",backgroundColor:"grey.100",p:1,borderRadius:1},children:n.path})]})}),h.jsxs(ma,{children:[h.jsx(Ct,{onClick:()=>u(!1),children:"Close"}),h.jsx(Ct,{onClick:f,variant:"contained",startIcon:h.jsx(c1,{}),children:"Download File"})]})]})]}):null},BX=({selectedCourse:e,onCourseDelete:n})=>{const[t,r]=X.useState(!1),i=Xn(),{refreshUserDetails:a}=Pi(),s=()=>r(!0),l=()=>r(!1),u=async()=>{if(e)try{const d=F6(i),f=fn(i,"courses",e);d.delete(f);const m=dn(i,"users");(await Ai(m)).forEach(g=>{const x=fn(i,"users",g.id),y=g.data().classes||{};y&&y[e]&&(delete y[e],d.update(x,{classes:y}))}),await d.commit(),await a(),n(),l()}catch(d){console.error("Error deleting course:",d)}};return h.jsxs(de,{sx:{mt:2},children:[h.jsx(Ct,{variant:"contained",onClick:s,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#F44336",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#D32F2F",transform:"scale(1.03)"}},children:"Delete Course"}),h.jsxs(Zi,{open:t,onClose:l,children:[h.jsx(pa,{children:"Confirm Delete"}),h.jsx(Ji,{children:h.jsx(Ll,{children:"Are you sure you want to delete this course? This action cannot be undone."})}),h.jsxs(ma,{children:[h.jsx(Ct,{onClick:l,children:"Cancel"}),h.jsx(Ct,{onClick:u,variant:"contained",color:"error",children:"Delete"})]})]})]})},$X=()=>{const[e,n]=X.useState({passcode:null,loading:!1,error:null}),t=X.useRef(new Map),r=Xn(),i=X.useCallback(async l=>{if(!l){n(d=>({...d,error:"Course ID is required"}));return}const u=t.current.get(l);if(u){n(d=>({...d,loading:!1,error:null,passcode:u}));return}n(d=>({...d,loading:!0,error:null}));try{const d=await ga(fn(r,"courses",l));if(!d.exists()){n(b=>({...b,loading:!1,error:"Course not found",passcode:null}));return}const f=d.data(),m=f==null?void 0:f.passcode;if(!m){n(b=>({...b,loading:!1,error:"No passcode found for this course",passcode:null}));return}t.current.set(l,m),n(b=>({...b,loading:!1,error:null,passcode:m}))}catch(d){console.error("Error fetching course passcode:",d),n(f=>({...f,loading:!1,error:"Failed to fetch passcode. Please try again.",passcode:null}))}},[r]),a=X.useCallback(()=>{n(l=>({...l,passcode:null,error:null}))},[]),s=X.useCallback(()=>{t.current.clear()},[]);return{...e,fetchPasscode:i,clearPasscode:a,clearCache:s}},UX=({text:e,tooltipText:n="Click to Copy",successText:t="Copied!"})=>{const[r,i]=X.useState(!1),a=()=>{navigator.clipboard.writeText(e).then(()=>{i(!0),setTimeout(()=>i(!1),2e3)}).catch(s=>console.error("Could not copy text: ",s))};return h.jsx(fi,{title:r?t:n,enterDelay:300,leaveDelay:200,children:h.jsx(cr,{label:e,variant:"outlined",onClick:a,sx:{borderRadius:"15px",fontSize:"16px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",fontFamily:"Gabarito, sans-serif"}})})},HX=({selectedCourse:e,courseDetails:n})=>{const{passcode:t,loading:r,error:i,fetchPasscode:a,clearPasscode:s,clearCache:l}=$X(),u=X.useCallback(()=>{e?a(e):(s(),l())},[e,a,s,l]);return X.useEffect(()=>{u()},[u]),e?h.jsxs(de,{sx:{mt:2},children:[r&&h.jsx(de,{sx:{display:"flex",justifyContent:"center",py:3},children:h.jsx(Zr,{size:28})}),i&&h.jsx(rr,{severity:"error",sx:{mb:2},children:i}),t&&!r&&h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:2},children:[h.jsx(he,{variant:"body1",sx:{fontWeight:"medium"},children:"Passcode:"}),h.jsx(UX,{text:t,tooltipText:"Click to copy passcode",successText:"Passcode copied!"})]}),!t&&!r&&!i&&h.jsx(rr,{severity:"warning",children:"No passcode available for this course."})]}):h.jsx(de,{sx:{mt:2},children:h.jsx(rr,{severity:"info",children:"Please select a course to retrieve its passcode."})})},WX=()=>{const{userDetails:e}=Pi(),[n,t]=X.useState([]),[r,i]=X.useState(""),[a,s]=X.useState(!1),[l,u]=X.useState(!1),[d,f]=X.useState(!1),m=Xn(),b=ya(),x=e!=null&&e.classes?Object.entries(e.classes).filter(([M,R])=>R.isCourseAdmin).reduce((M,[R,z])=>({...M,[R]:z}),{}):{},y=Object.entries(x).map(([M,R])=>({id:M,number:R.number,title:R.title,isCourseAdmin:R.isCourseAdmin}));X.useEffect(()=>{x[r]||i(Object.keys(x)[0]||"")},[x,r]),X.useEffect(()=>{(async()=>{if(r)try{const R=Il(dn(m,"users"),Li("isAdmin","==",!1)),L=(await Ai(R)).docs.map($=>({uid:$.id,...$.data()})).filter($=>$.classes&&$.classes[r]);t(L)}catch(R){console.error("Error fetching students:",R)}})()},[r,m]);const A=M=>{i(M)},w=()=>{b("/request-new-course")},C=x[r];C&&`${C.number}${C.title}`;const T=!!(r&&C);return h.jsxs(de,{className:"profile-container",sx:{p:4},children:[h.jsx(Ao,{title:"Course Management"}),h.jsxs(de,{sx:{mb:4,p:3,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[h.jsx(he,{variant:"h6",sx:{fontFamily:"Staatliches, sans-serif",mb:2,color:"#0B53C0",fontSize:"1.25rem"},children:"Select a Course"}),y.length>0?h.jsx(pm,{value:r,onChange:A,courses:y,label:"",placeholder:"",helperText:"",showNumber:!0,showTitle:!0,showAdminBadge:!1}):h.jsx(he,{variant:"body1",sx:{color:"#9E9E9E"},children:"No courses available for selection."})]}),h.jsx(de,{children:T&&h.jsxs(h.Fragment,{children:[h.jsx(qX,{courseId:r}),h.jsxs(de,{sx:{flex:2,display:"flex",justifyContent:"flex-end",gap:2},children:[h.jsx(FX,{selectedCourse:r,selectedCourseDetails:C,onCourseUpdate:()=>{}}),h.jsx(PX,{selectedCourse:r,onInfoUpdate:()=>{}}),h.jsx(BX,{selectedCourse:r,onCourseDelete:()=>i("")})]})]})}),T&&h.jsxs(gn,{elevation:0,sx:{p:$e[6],mb:$e[6],borderRadius:Et.xl,backgroundColor:K.background.secondary,border:`1px solid ${K.neutral[200]}`},children:[h.jsx(he,{variant:"h5",component:"h2",sx:{fontFamily:we.fontFamily.display,fontWeight:we.fontWeight.bold,mb:$e[4],color:K.primary[500]},children:"Students Enrolled in Course"}),h.jsx(de,{sx:{mb:$e[4]},children:h.jsx(MX,{students:n,loading:!1})}),n.length>0&&h.jsx(RX,{students:n,selectedCourse:r}),n.length>0&&h.jsxs(gn,{sx:{mt:4,p:3,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[h.jsx(he,{variant:"h6",sx:{fontFamily:"Staatliches, sans-serif",mb:2,color:"#0B53C0",fontSize:"1.25rem"},children:"Remove Student(s) from the Course"}),h.jsx(Ad,{control:h.jsx(Cd,{checked:d,onChange:()=>f(M=>!M),sx:{"& .MuiSwitch-thumb":{backgroundColor:"#0B53C0"},"& .MuiSwitch-track":{backgroundColor:"#E0ECFF"},"&.Mui-checked .MuiSwitch-track":{backgroundColor:"#0B53C0"}}}),label:"",sx:{mb:2}}),d&&h.jsx(DX,{selectedCourse:r,selectedCourseDetails:C,onStudentChange:()=>{}})]})]}),h.jsxs(de,{sx:{display:"flex",gap:4,mb:4},children:[h.jsxs(de,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[h.jsx(Ad,{control:h.jsx(Cd,{checked:l,onChange:()=>u(M=>!M),sx:{"& .MuiSwitch-thumb":{backgroundColor:"#0B53C0"},"& .MuiSwitch-track":{backgroundColor:"#E0ECFF"},"&.Mui-checked .MuiSwitch-track":{backgroundColor:"#0B53C0"}}}),label:"Retrieve Course Passcode",sx:{mb:2,"& .MuiFormControlLabel-label":{fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.25rem"}}}),l&&h.jsx(de,{sx:{mt:2},children:h.jsx(HX,{selectedCourse:r,courseDetails:C?{number:C.number,title:C.title}:void 0})})]}),h.jsxs(de,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[h.jsx(Ad,{control:h.jsx(Cd,{checked:a,onChange:()=>s(M=>!M),sx:{"& .MuiSwitch-thumb":{backgroundColor:"#0B53C0"},"& .MuiSwitch-track":{backgroundColor:"#E0ECFF"},"&.Mui-checked .MuiSwitch-track":{backgroundColor:"#0B53C0"}}}),label:"Request Creating a New Course",sx:{mb:2,"& .MuiFormControlLabel-label":{fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.25rem"}}}),a&&h.jsx(de,{sx:{mt:2},children:h.jsx(Ct,{variant:"contained",onClick:w,sx:{backgroundColor:"#4CAF50",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",textTransform:"none","&:hover":{backgroundColor:"#388E3C"}},children:"Request New Course"})})]})]})]})};class YX{constructor(n){tt(this,"genAI");tt(this,"model");this.genAI=new r7(n),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.1,topK:1,topP:.8,maxOutputTokens:16384}})}async processSyllabusText(n,t,r){return n.length>3e4?(console.log("Large document detected, using chunked processing"),this.processLargeDocument(n,t,r)):this.processSingleDocument(n,t,r)}async processSingleDocument(n,t,r){const i=this.buildSyllabusAnalysisPrompt(n,t);try{const l=(await(await this.model.generateContent(i)).response).text();if(!l||l.trim().length===0)throw new Error("Empty response from AI service");const u=l.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();let d;try{d=JSON.parse(u)}catch(f){throw console.error("JSON parsing failed:",f),console.error("Raw response text:",l),console.error("Cleaned text:",u),new Error("AI response format invalid - unable to parse JSON")}if(!d||typeof d!="object")throw new Error("AI response is not a valid object");return d.courseInfo||(console.warn("Missing courseInfo in AI response, using defaults"),d.courseInfo={}),this.validateAndSanitizeResponse(d)}catch(a){if(console.error("Gemini API Error:",a),a instanceof Error){if(a.message.includes("AI response")||a.message.includes("JSON parsing"))throw a;if(a.message.includes("API key"))throw new Error("Invalid or missing Gemini API key. Please check your environment configuration.");if(a.message.includes("quota")||a.message.includes("rate limit"))throw new Error("API rate limit exceeded. Please try again later.")}throw new Error(`Failed to process syllabus with AI: ${a instanceof Error?a.message:"Unknown error"}`)}}async processLargeDocument(n,t,r){const a=this.chunkText(n,35e3);console.log(`Processing ${a.length} chunks for large document`);const s=await this.processSingleDocument(a[0],t,r),l=await Promise.allSettled(a.slice(1).map(u=>this.processChunkForDetails(u,t)));return this.mergeChunkedResults(s,l)}chunkText(n,t){const r=[],i=n.split(`
`);let a="";const s=["schedule","session","unit","week","topic","assignment","objective","learning outcome","reading","textbook","prerequisite"];for(let l=0;l<i.length;l++){const u=i[l],d=i[l+1]||"",f=s.some(m=>u.toLowerCase().includes(m)||d.toLowerCase().includes(m));a.length+u.length>t&&a.length>0&&(f||a.length>t*.8)?(r.push(a.trim()),a=u):a+=`
`+u}return a.trim()&&r.push(a.trim()),r}async processChunkForDetails(n,t){const r=`
Extract additional course details from this syllabus section. Focus heavily on:
- ALL schedule items, sessions, units, weeks, and topics
- Session numbers, titles, and descriptions
- Learning outcomes for each session
- Reading assignments and resources
- Assignment details and due dates
- Any additional objectives or policies

IMPORTANT: Extract ALL schedule/session information - do not limit the number of items.
Convert session numbers to week numbers (Session 1 = Week 1, etc.).

Return JSON with only the fields you can extract from this section:
${n}
`;try{const l=(await(await this.model.generateContent(r)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(l)}catch(i){return console.warn("Failed to process chunk:",i),{}}}mergeChunkedResults(n,t){const r={...n};return t.forEach(i=>{if(i.status==="fulfilled"&&i.value){const a=i.value;if(a.learningObjectives&&(r.learningObjectives=[...r.learningObjectives,...a.learningObjectives]),a.schedule){const s=new Set(r.schedule.map(u=>`${u.week}-${u.topic}`)),l=a.schedule.filter(u=>!s.has(`${u.week}-${u.topic}`));r.schedule=[...r.schedule,...l]}a.assignments&&(r.assignments=[...r.assignments,...a.assignments]),a.prerequisites&&(r.prerequisites=[...r.prerequisites,...a.prerequisites]),a.contactInfo&&(r.contactInfo={...r.contactInfo,...a.contactInfo}),a.policies&&(r.policies={...r.policies,...a.policies}),a.additionalResources&&(r.additionalResources={...r.additionalResources,...a.additionalResources})}}),r.learningObjectives=[...new Set(r.learningObjectives)],r.prerequisites=[...new Set(r.prerequisites)],r.schedule=r.schedule.sort((i,a)=>i.week-a.week),r}buildSyllabusAnalysisPrompt(n,t){return`
You are an expert educational content analyzer. Analyze the following course syllabus and extract structured information in JSON format.

IMPORTANT INSTRUCTIONS:
1. Return ONLY valid JSON - no markdown, no explanations, no additional text
2. If information is not available, use null or empty arrays/objects
3. Be thorough but accurate - don't invent information
4. For percentages in grading, ensure they are numbers (not strings)
5. For week numbers, ensure they are integers
6. Extract all learning objectives, even if they're not numbered
7. Look for course schedules in various formats (weekly, by date, by topic, by session/unit)
8. IMPORTANT: Extract ALL schedule items, sessions, units, and topics - do not limit to just a few weeks
9. For session-based schedules, convert sessions to week numbers (e.g., Session 1 = Week 1)
10. LABORATORY COURSES: Pay special attention to safety requirements, lab equipment, dress codes, group work policies, and experiment-based schedules
11. Identify course type: determine if this is a lecture, lab, seminar, or hybrid course based on content

Required JSON structure:
{
  "courseInfo": {
    "title": "string",
    "number": "string (e.g., CS 350, BIOL 301, CHEM 315)",
    "description": "string",
    "instructor": "string or null",
    "department": "string or null",
    "institution": "string or null",
    "credits": "number or null",
    "meetingTimes": "string or null (include lab times if applicable)",
    "semester": "string or null",
    "year": "string or null",
    "courseType": "lecture|lab|seminar|hybrid",
    "location": "string or null (lab room, classroom, etc.)"
  },
  "learningObjectives": [
    "string (each objective as separate item)"
  ],
  "schedule": [
    {
      "week": "number",
      "topic": "string",
      "description": "string or null",
      "readings": ["string"] or null,
      "assignments": ["string"] or null,
      "dueDate": "string or null",
      "notes": "string or null",
      "experimentType": "string or null (for lab courses)",
      "equipmentNeeded": ["string"] or null
    }
  ],
  "prerequisites": [
    "string (each prerequisite course/requirement)"
  ],
  "textbooks": [
    {
      "title": "string",
      "author": "string or null",
      "edition": "string or null",
      "isbn": "string or null",
      "required": "boolean"
    }
  ],
  "gradingPolicy": [
    {
      "component": "string (e.g., Exams, Homework, Projects)",
      "percentage": "number (e.g., 40, not '40%')",
      "description": "string or null"
    }
  ],
  "assignments": [
    {
      "name": "string",
      "description": "string",
      "type": "string (exam|project|homework|quiz|presentation|lab_report|lab_practical)",
      "dueDate": "string or null",
      "points": "number or null",
      "weight": "number or null (for weighted assignments)"
    }
  ],
  "policies": {
    "attendance": "string or null",
    "lateWork": "string or null",
    "academicIntegrity": "string or null",
    "accommodations": "string or null",
    "communication": "string or null",
    "safety": "string or null (lab safety requirements)",
    "groupWork": "string or null (partner/group work policies)",
    "makeupPolicy": "string or null (make-up lab/exam policies)"
  },
  "contactInfo": {
    "email": "string or null",
    "phone": "string or null",
    "office": "string or null",
    "officeHours": "string or null",
    "website": "string or null"
  },
  "additionalResources": {
    "software": ["string"] or null,
    "equipment": ["string"] or null,
    "websites": ["string"] or null,
    "tutoring": "string or null",
    "learningPlatform": "string or null (Moodle, Blackboard, etc.)"
  },
  "labSpecific": {
    "safetyRequirements": ["string"] or null,
    "requiredEquipment": ["string"] or null,
    "dresscode": ["string"] or null,
    "notebookRequirements": "string or null",
    "groupWorkStructure": "string or null",
    "makeupPolicy": "string or null"
  }
}

${t?`File name: ${t}`:""}

Syllabus content to analyze:
${n}
`}validateAndSanitizeResponse(n){var r,i,a,s,l,u,d,f,m,b,g,x,y,A;const t={courseInfo:{title:"Course Title",number:"COURSE 101",description:"Course description not available"},learningObjectives:[],schedule:[],prerequisites:[],textbooks:[],gradingPolicy:[],assignments:[],policies:{},contactInfo:{},additionalResources:{}};try{return{courseInfo:{...t.courseInfo,...n.courseInfo},learningObjectives:Array.isArray(n.learningObjectives)?n.learningObjectives:[],schedule:Array.isArray(n.schedule)?n.schedule.map((C,T)=>({week:typeof C.week=="number"?C.week:T+1,topic:C.topic||`Week ${T+1} Topic`,description:C.description||null,readings:Array.isArray(C.readings)?C.readings:null,assignments:Array.isArray(C.assignments)?C.assignments:null,dueDate:C.dueDate||null,notes:C.notes||null})):[],prerequisites:Array.isArray(n.prerequisites)?n.prerequisites:[],textbooks:Array.isArray(n.textbooks)?n.textbooks.map(C=>({title:C.title||"Unknown Textbook",author:C.author||null,edition:C.edition||null,isbn:C.isbn||null,required:typeof C.required=="boolean"?C.required:!0})):[],gradingPolicy:Array.isArray(n.gradingPolicy)?n.gradingPolicy.map(C=>({component:C.component||"Unknown Component",percentage:typeof C.percentage=="number"?C.percentage:0,description:C.description||null})):[],assignments:Array.isArray(n.assignments)?n.assignments.map(C=>({name:C.name||"Assignment",description:C.description||"",type:C.type||"homework",dueDate:C.dueDate||null,points:typeof C.points=="number"?C.points:null})):[],policies:{attendance:((r=n.policies)==null?void 0:r.attendance)||null,lateWork:((i=n.policies)==null?void 0:i.lateWork)||null,academicIntegrity:((a=n.policies)==null?void 0:a.academicIntegrity)||null,accommodations:((s=n.policies)==null?void 0:s.accommodations)||null,communication:((l=n.policies)==null?void 0:l.communication)||null},contactInfo:{email:((u=n.contactInfo)==null?void 0:u.email)||null,phone:((d=n.contactInfo)==null?void 0:d.phone)||null,office:((f=n.contactInfo)==null?void 0:f.office)||null,officeHours:((m=n.contactInfo)==null?void 0:m.officeHours)||null,website:((b=n.contactInfo)==null?void 0:b.website)||null},additionalResources:{software:Array.isArray((g=n.additionalResources)==null?void 0:g.software)?n.additionalResources.software:null,equipment:Array.isArray((x=n.additionalResources)==null?void 0:x.equipment)?n.additionalResources.equipment:null,websites:Array.isArray((y=n.additionalResources)==null?void 0:y.websites)?n.additionalResources.websites:null,tutoring:((A=n.additionalResources)==null?void 0:A.tutoring)||null}}}catch(w){return console.error("Error validating AI response:",w),t}}async generateCourseMaterials(n,t){const r=`
Based on the following course information, generate detailed course materials in JSON format.

CRITICAL REQUIREMENTS:
1. Return ONLY valid JSON - absolutely NO explanatory text, comments, or additional content
2. Do not add any text before or after the JSON array
3. Do not include comments like "// ..." in the JSON
4. Generate materials for ALL available weeks/sessions from the course information

Create materials for:
1. Course Overview (with detailed description, objectives, and policies)  
2. Weekly/session materials for ALL weeks found in the schedule
3. Assignment descriptions where applicable

Course Information:
${JSON.stringify(n,null,2)}

Generate materials for ${(t==null?void 0:t.includeWeeks)||n.schedule.length} weeks/sessions.

Return ONLY a JSON array of materials with this structure:
[
  {
    "id": "unique-id",
    "title": "Material Title",
    "type": "overview|weekly|assignment|resource",
    "header": {"title": "string", "content": "string"},
    "sections": [
      {
        "id": "section-id",
        "title": "Section Title",
        "content": "HTML formatted content",
        "subsections": [
          {
            "id": "subsection-id",
            "title": "Subsection Title",
            "content": "HTML formatted content"
          }
        ]
      }
    ],
    "footer": {"title": "string", "content": "string"},
    "published": false,
    "scheduledTimestamp": "ISO date string or null"
  }
]
`;try{const s=(await(await this.model.generateContent(r)).response).text();if(!s||s.trim().length===0)return console.warn("Empty response from AI service for material generation"),[];let l=s.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();const u=l.lastIndexOf("]");u!==-1&&(l=l.substring(0,u+1));let d;try{d=JSON.parse(l)}catch(f){return console.error("JSON parsing failed for material generation:",f),console.error("Raw response text:",s),console.error("Cleaned text:",l),console.warn("Falling back to empty materials array"),[]}return Array.isArray(d)?d:(console.warn("AI response is not an array, wrapping in array:",d),d?[d]:[])}catch(i){return console.error("Error generating materials:",i),[]}}}let Hy=null;const S4=e=>{const n="AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8";if(!Hy&&n&&(Hy=new YX(n)),!Hy)throw new Error("Gemini service not initialized. Please configure VITE_GEMINI_API_KEY environment variable.");return Hy},zh=()=>Math.random().toString(36).substr(2,9),VX=e=>e.length?`<ul>${e.map(t=>`<li>${t}</li>`).join("")}</ul>`:"<p>No objectives specified</p>",GX=e=>e.length?`<ul>${e.map(t=>`<li>${t}</li>`).join("")}</ul>`:"<p>No readings assigned</p>",Op=vp()(Q1(xv((e,n)=>({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null,setUploadedFile:t=>e({uploadedFile:t}),setUploadProgress:t=>e({uploadProgress:t}),setExtractedText:t=>e({extractedText:t}),setStoredSyllabusFile:t=>e({storedSyllabusFile:t}),setAIExtractedInfo:t=>e({aiExtractedInfo:t}),setUseAIProcessing:t=>e({useAIProcessing:t}),setParsedCourseInfo:t=>e({parsedCourseInfo:t}),setGeneratedMaterials:t=>e({generatedMaterials:t}),setCurrentStep:t=>e({currentStep:t}),setIsProcessing:t=>e({isProcessing:t}),setError:t=>e({error:t}),setProcessingProgress:t=>e({processingProgress:t}),uploadSyllabus:async(t,r)=>{const i=s7(t);if(!i.isValid){e({error:i.error,currentStep:"upload"});return}const a=lP(t);e({uploadedFile:t,uploadProgress:0,error:null,extractionMetadata:{fileName:t.name,fileSize:t.size,fileType:o7(t),estimatedProcessingTime:a},processingProgress:{stage:"uploading",percentage:0,currentOperation:"Preparing file for processing..."}});try{for(let s=0;s<=100;s+=20)e({uploadProgress:s,processingProgress:{stage:"uploading",percentage:s,currentOperation:s===100?"Upload complete, starting text extraction...":`Uploading file... ${s}%`}}),await new Promise(l=>setTimeout(l,100));if(e({currentStep:"processing",isProcessing:!0,processingProgress:{stage:"extracting",percentage:0,currentOperation:"Extracting text from document..."}}),await n().extractTextFromFile(),r)try{e({processingProgress:{stage:"uploading",percentage:90,currentOperation:"Storing syllabus file..."}});const s=await zX(t,r);e({storedSyllabusFile:s}),console.log("Syllabus file stored successfully:",s.url)}catch(s){console.warn("Failed to store syllabus file, continuing with processing:",s)}e({processingProgress:{stage:"analyzing",percentage:0,currentOperation:n().useAIProcessing?"Analyzing syllabus with AI...":"Parsing syllabus content..."}}),await n().parseSyllabus()}catch(s){e({error:s instanceof Error?s.message:"Failed to upload file",currentStep:"upload"})}},extractTextFromFile:async()=>{const{uploadedFile:t}=n();if(!t){e({error:"No file uploaded"});return}e({isProcessing:!0,error:null});try{const r=await a7(t);e({extractedText:r.text,extractionMetadata:{...n().extractionMetadata,...r.metadata},isProcessing:!1})}catch(r){e({error:r.message||"Failed to extract text from file",isProcessing:!1})}},parseSyllabus:async()=>{const{extractedText:t,uploadedFile:r,useAIProcessing:i}=n();if(!t){e({error:"No text to parse"});return}e({isProcessing:!0,error:null});try{let a;if(i)try{e({processingProgress:{stage:"analyzing",percentage:25,currentOperation:"Sending syllabus to AI for analysis..."}});const l=await S4().processSyllabusText(t,r==null?void 0:r.name);e({processingProgress:{stage:"analyzing",percentage:75,currentOperation:"Processing AI analysis results..."}}),e({aiExtractedInfo:l}),a={suggestedTitle:l.courseInfo.title||"Course Title",suggestedNumber:l.courseInfo.number||"COURSE 101",suggestedDescription:l.courseInfo.description||"Course description not available",objectives:l.learningObjectives.length>0?l.learningObjectives:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:l.schedule.map(u=>({week:u.week,topic:u.topic,description:u.description,readings:u.readings||[],assignments:u.assignments||[],date:u.dueDate?new Date(u.dueDate):void 0})),prerequisites:l.prerequisites,textbook:l.textbooks.length>0?l.textbooks[0].title:"",grading:l.gradingPolicy.map(u=>`${u.component}: ${u.percentage}%`).join(", "),instructor:l.courseInfo.instructor,department:l.courseInfo.department,institution:l.courseInfo.institution,credits:l.courseInfo.credits,semester:l.courseInfo.semester,year:l.courseInfo.year,contactInfo:l.contactInfo,policies:l.policies,textbooks:l.textbooks,gradingComponents:l.gradingPolicy,assignments:l.assignments}}catch(s){console.warn("AI processing failed, falling back to pattern-based parsing:",s),e({error:`AI analysis failed: ${s instanceof Error?s.message:"Unknown error"}. Using pattern-based parsing instead.`,processingProgress:{stage:"analyzing",percentage:50,currentOperation:"AI failed, using pattern-based parsing..."}}),a=await n().fallbackParsing(t)}else a=await n().fallbackParsing(t);e({parsedCourseInfo:a}),e({processingProgress:{stage:"generating",percentage:0,currentOperation:"Generating course materials..."}}),await n().generateMaterials()}catch(a){e({error:a instanceof Error?a.message:"Failed to parse syllabus",isProcessing:!1})}},fallbackParsing:async t=>{var m,b;const r=t.split(`
`).filter(g=>g.trim()),i=r.find(g=>{const x=g.toLowerCase();return(x.includes("course")||x.includes("class"))&&(x.includes("title")||x.includes("name")||g.includes(":"))}),a=r.find(g=>{const x=g.toLowerCase();return x.includes("description")||x.includes("overview")||x.includes("about this course")}),s=r.find(g=>/[A-Z]{2,4}\s*\d{3,4}/.test(g)||g.toLowerCase().includes("course number")),l=r.findIndex(g=>{const x=g.toLowerCase();return x.includes("objective")||x.includes("learning outcome")||x.includes("goals")||x.includes("by the end of this course")}),u=[];if(l!==-1)for(let g=l+1;g<r.length&&g<l+15;g++){const x=r[g].trim();x&&(x.startsWith("-")||x.startsWith("")||x.match(/^\d+\./)||x.startsWith("*"))?u.push(x.replace(/^[-\d.*]\s*/,"")):x&&u.length===0&&u.push(x)}const d=[];for(let g=1;g<=16;g++){const x=new RegExp(`week\\s*${g}|${g}\\s*week`,"i"),y=r.find(A=>x.test(A));if(y){const A=y.replace(/week\s*\d+:?\s*/i,"").trim()||`Week ${g} Topic`;d.push({week:g,topic:A,description:`Content and activities for week ${g}`,readings:[],assignments:[]})}else d.push({week:g,topic:`Week ${g} Topic`,description:`Content for week ${g}`,readings:[],assignments:[]})}let f="COURSE 101";if(s){const g=s.match(/[A-Z]{2,4}\s*\d{3,4}/);g&&(f=g[0])}return{suggestedTitle:i&&((m=i.split(":").slice(-1)[0])==null?void 0:m.trim())||"Course Title",suggestedNumber:f,suggestedDescription:a&&((b=a.split(":").slice(-1)[0])==null?void 0:b.trim())||t.substring(0,300)+"...",objectives:u.length>0?u:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:d.slice(0,15),prerequisites:[],textbook:"",grading:""}},generateMaterials:async()=>{const{parsedCourseInfo:t,aiExtractedInfo:r,useAIProcessing:i}=n();if(!t){e({error:"No parsed course info available"});return}e({isProcessing:!0,error:null});try{let a=[];if(i&&r)try{const l=await S4().generateCourseMaterials(r,{includeWeeks:r.schedule.length,materialTypes:["overview","weekly","assignment"]});l&&l.length>0?a=l.map(u=>({id:u.id||zh(),title:u.title||"Generated Material",header:u.header||{title:"Header",content:`<p>${u.title||"Material"}</p>`},footer:u.footer||{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:u.sections||[],published:u.published||!1,scheduledTimestamp:u.scheduledTimestamp?new Date(u.scheduledTimestamp):void 0})):(console.warn("AI material generation returned empty results, using fallback"),a=n().generateFallbackMaterials(t))}catch(s){console.warn("AI material generation failed, using fallback:",s),e({error:`AI material generation failed: ${s instanceof Error?s.message:"Unknown error"}. Using fallback material generation instead.`,processingProgress:{stage:"generating",percentage:75,currentOperation:"AI material generation failed, using fallback..."}}),a=n().generateFallbackMaterials(t)}else a=n().generateFallbackMaterials(t);e({generatedMaterials:a,isProcessing:!1,currentStep:"review",processingProgress:{stage:"complete",percentage:100,currentOperation:"Processing complete! Review your course materials below."}})}catch(a){e({error:a instanceof Error?a.message:"Failed to generate materials",isProcessing:!1})}},generateFallbackMaterials:t=>{const r=[];return r.push({id:zh(),title:`${t.suggestedNumber} - Course Overview`,header:{title:"Course Overview",content:`<p>${t.suggestedTitle}</p>`},footer:{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:[{id:zh(),title:"Course Description",content:`<p>${t.suggestedDescription}</p>`,subsections:[],images:[],links:[]},{id:zh(),title:"Learning Objectives",content:VX(t.objectives),subsections:[],images:[],links:[]}],published:!1}),t.schedule.slice(0,6).forEach(i=>{r.push({id:zh(),title:`Week ${i.week}: ${i.topic}`,header:{title:`Week ${i.week}`,content:`<p>${i.topic}</p>`},footer:{title:"Footer",content:"<p>Review materials before next class</p>"},sections:[{id:zh(),title:"Overview",content:`<p>${i.description||`Topics and activities for week ${i.week}`}</p>`,subsections:i.readings&&i.readings.length>0?[{id:zh(),title:"Required Readings",content:GX(i.readings),subSubsections:[],images:[],links:[]}]:[],images:[],links:[]}],published:!1,scheduledTimestamp:i.date})}),r},editMaterial:(t,r)=>{const{generatedMaterials:i}=n(),a=[...i];a[t]={...a[t],...r},e({generatedMaterials:a})},editCourseInfo:t=>{const{parsedCourseInfo:r}=n();r&&e({parsedCourseInfo:{...r,...t}})},reset:()=>e({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null})}),{name:"syllabus-store",partialize:e=>({extractedText:e.extractedText,extractionMetadata:e.extractionMetadata,storedSyllabusFile:e.storedSyllabusFile,aiExtractedInfo:e.aiExtractedInfo,useAIProcessing:e.useAIProcessing,parsedCourseInfo:e.parsedCourseInfo,generatedMaterials:e.generatedMaterials,currentStep:e.currentStep})}))),Tg={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"ce5f7921-a3a0-4ea7-b95f-10fe41becda5",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},jg={GEMINI_API_KEY:"VITE_GEMINI_API_KEY",ENABLE_AI_PROCESSING:"VITE_ENABLE_AI_PROCESSING",MAX_RETRIES:"VITE_AI_MAX_RETRIES",TIMEOUT:"VITE_AI_TIMEOUT",FALLBACK_TO_PATTERN:"VITE_AI_FALLBACK_TO_PATTERN"},QX=()=>({geminiApiKey:Tg[jg.GEMINI_API_KEY],enableAIProcessing:Tg[jg.ENABLE_AI_PROCESSING]!=="false",maxRetries:parseInt(Tg[jg.MAX_RETRIES]||"3",10),timeout:parseInt(Tg[jg.TIMEOUT]||"30000",10),fallbackToPatternParsing:Tg[jg.FALLBACK_TO_PATTERN]!=="false"}),II=e=>{const n=[];return e.enableAIProcessing&&!e.geminiApiKey&&n.push("Gemini API key is required when AI processing is enabled"),(e.maxRetries<0||e.maxRetries>10)&&n.push("Max retries must be between 0 and 10"),(e.timeout<1e3||e.timeout>12e4)&&n.push("Timeout must be between 1 second and 2 minutes"),{isValid:n.length===0,errors:n}},DI=()=>{const e=QX(),n=II(e);return{config:e,...n}},A4=({onUploadComplete:e,apiKey:n,educatorUid:t})=>{const{uploadedFile:r,uploadProgress:i,error:a,isProcessing:s,useAIProcessing:l,processingProgress:u,uploadSyllabus:d,setUploadedFile:f,setError:m}=Op(),[b,g]=X.useState(!1),x=X.useMemo(()=>["text/plain","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],[]),y=X.useMemo(()=>[".txt",".pdf",".docx"],[]),A=X.useCallback(async L=>{const Z=(O=>{if(!x.includes(O.type))return`Unsupported file type. Please upload ${y.join(", ")} files.`;const j=10*1024*1024;return O.size>j?"File size too large. Please upload files smaller than 10MB.":null})(L);if(Z){m(Z);return}try{await d(L,t),e==null||e(L)}catch(O){console.error("Upload error:",O)}},[d,e,m,x,y,n,t]),w=X.useCallback(L=>{L.preventDefault(),g(!1);const $=Array.from(L.dataTransfer.files);$.length>0&&A($[0])},[A]),C=X.useCallback(L=>{L.preventDefault(),g(!0)},[]),T=X.useCallback(L=>{L.preventDefault(),g(!1)},[]),M=X.useCallback(L=>{const $=L.target.files;$&&$.length>0&&A($[0]),L.target.value=""},[A]),R=X.useCallback(()=>{f(null),m(null)},[f,m]),z=L=>{if(L===0)return"0 Bytes";const $=1024,Z=["Bytes","KB","MB","GB"],O=Math.floor(Math.log(L)/Math.log($));return parseFloat((L/Math.pow($,O)).toFixed(2))+" "+Z[O]},_=()=>h.jsx(R9,{color:"primary"});return h.jsxs(de,{sx:{width:"100%",maxWidth:600,mx:"auto"},children:[!r&&h.jsxs(gn,{sx:{p:4,border:"2px dashed",borderColor:b?"primary.main":"grey.300",backgroundColor:b?"primary.50":"background.paper",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center","&:hover":{borderColor:"primary.main",backgroundColor:"primary.50"}},onDragOver:C,onDragLeave:T,onDrop:w,onClick:()=>{var L;return(L=document.getElementById("syllabus-file-input"))==null?void 0:L.click()},children:[h.jsx(L9,{sx:{fontSize:48,color:b?"primary.main":"grey.400",mb:2}}),h.jsx(he,{variant:"h6",gutterBottom:!0,children:"Upload Your Syllabus"}),h.jsx(he,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Drag and drop your syllabus file here, or click to browse"}),h.jsx(de,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center"},children:y.map(L=>h.jsx(cr,{label:L.toUpperCase(),size:"small",variant:"outlined",color:"primary"},L))}),h.jsx(he,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"Maximum file size: 10MB"}),h.jsx("input",{id:"syllabus-file-input",type:"file",accept:x.join(","),onChange:M,style:{display:"none"}})]}),r&&h.jsxs(gn,{sx:{p:3,mb:2},children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:2},children:[_(),h.jsxs(de,{sx:{flexGrow:1},children:[h.jsx(he,{variant:"subtitle1",sx:{fontWeight:500},children:r.name}),h.jsx(he,{variant:"body2",color:"text.secondary",children:z(r.size)})]}),!s&&h.jsx(_n,{onClick:R,color:"error",size:"small",children:h.jsx(gu,{})})]}),i>0&&i<100&&h.jsxs(de,{sx:{mt:2},children:[h.jsx(Ko,{variant:"determinate",value:i,sx:{height:6,borderRadius:3}}),h.jsxs(he,{variant:"caption",sx:{mt:1,display:"block"},children:["Uploading... ",i,"%"]})]}),s&&h.jsx(de,{sx:{mt:2},children:u?h.jsxs(h.Fragment,{children:[h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[h.jsx(cr,{label:u.stage.charAt(0).toUpperCase()+u.stage.slice(1),size:"small",color:"primary",variant:"outlined"}),h.jsxs(he,{variant:"caption",color:"text.secondary",children:[u.percentage,"%"]})]}),h.jsx(Ko,{variant:"determinate",value:u.percentage,sx:{height:6,borderRadius:3,mb:1}}),h.jsx(he,{variant:"caption",sx:{display:"block",color:"text.secondary"},children:u.currentOperation})]}):h.jsxs(h.Fragment,{children:[h.jsx(Ko,{sx:{height:6,borderRadius:3}}),h.jsx(he,{variant:"caption",sx:{mt:1,display:"block"},children:l?"AI is analyzing your syllabus...":"Processing syllabus..."})]})})]}),a&&h.jsx(rr,{severity:"error",sx:{mt:2},onClose:()=>m(null),children:a}),h.jsxs(gn,{sx:{p:2,mt:2,backgroundColor:"info.50"},children:[h.jsx(he,{variant:"body2",color:"info.main",sx:{fontWeight:500,mb:1},children:" Tips for best results:"}),h.jsxs(he,{variant:"body2",color:"text.secondary",component:"ul",sx:{m:0,pl:2},children:[h.jsx("li",{children:"Include course objectives and weekly schedule"}),h.jsx("li",{children:"List reading assignments and materials"}),h.jsx("li",{children:"Text files (.txt) work best for parsing"}),h.jsx("li",{children:"Ensure text is well-structured with clear headings"})]})]})]})},KX=({onContinue:e})=>{var C;const{parsedCourseInfo:n,editCourseInfo:t,error:r,isProcessing:i,currentStep:a}=Op(),[s,l]=X.useState(!1),[u,d]=X.useState(null);if(!n)return h.jsx(rr,{severity:"warning",children:"No course information available. Please upload and process a syllabus first."});if(i||a==="processing")return h.jsx(rr,{severity:"info",children:h.jsx(he,{variant:"body2",children:" Processing complete! Preparing course information for review..."})});const f=()=>{d({...n}),l(!0)},m=()=>{u&&(t(u),l(!1),d(null))},b=()=>{l(!1),d(null)},g=()=>{u&&d({...u,objectives:[...u.objectives,"New objective"]})},x=T=>{if(u){const M=u.objectives.filter((R,z)=>z!==T);d({...u,objectives:M})}},y=(T,M)=>{if(u){const R=[...u.objectives];R[T]=M,d({...u,objectives:R})}},A=(T,M,R)=>{if(u){const z=[...u.schedule];z[T]={...z[T],[M]:R},d({...u,schedule:z})}},w=s?u:n;return w?h.jsx(de,{sx:{maxWidth:800,mx:"auto"},children:h.jsxs(gn,{sx:{p:3},children:[h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[h.jsx(he,{variant:"h5",component:"h2",children:"Course Information Preview"}),s?h.jsxs(de,{sx:{display:"flex",gap:1},children:[h.jsx(Ct,{startIcon:h.jsx(M0,{}),onClick:m,variant:"contained",color:"primary",children:"Save"}),h.jsx(Ct,{startIcon:h.jsx(D6,{}),onClick:b,variant:"outlined",children:"Cancel"})]}):h.jsx(Ct,{startIcon:h.jsx(yu,{}),onClick:f,variant:"outlined",children:"Edit Details"})]}),r&&h.jsx(rr,{severity:"error",sx:{mb:3},children:r}),h.jsxs(wt,{container:!0,spacing:3,children:[h.jsx(wt,{item:!0,xs:12,md:6,children:h.jsx(Jt,{fullWidth:!0,label:"Course Number",value:w.suggestedNumber,onChange:T=>s&&u&&d({...u,suggestedNumber:T.target.value}),disabled:!s,variant:s?"outlined":"filled"})}),h.jsx(wt,{item:!0,xs:12,md:6,children:h.jsx(Jt,{fullWidth:!0,label:"Course Title",value:w.suggestedTitle,onChange:T=>s&&u&&d({...u,suggestedTitle:T.target.value}),disabled:!s,variant:s?"outlined":"filled"})}),h.jsx(wt,{item:!0,xs:12,children:h.jsx(Jt,{fullWidth:!0,multiline:!0,rows:4,label:"Course Description",value:w.suggestedDescription,onChange:T=>s&&u&&d({...u,suggestedDescription:T.target.value}),disabled:!s,variant:s?"outlined":"filled"})})]}),h.jsx(qs,{sx:{my:3}}),h.jsxs(de,{sx:{mb:3},children:[h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[h.jsxs(he,{variant:"h6",children:["Learning Objectives (",w.objectives.length,")"]}),s&&h.jsx(_n,{onClick:g,color:"primary",children:h.jsx(mu,{})})]}),h.jsx(de,{sx:{display:"flex",flexDirection:"column",gap:2},children:w.objectives.map((T,M)=>h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsxs(he,{variant:"body2",sx:{minWidth:24,color:"text.secondary"},children:[M+1,"."]}),s?h.jsxs(h.Fragment,{children:[h.jsx(Jt,{fullWidth:!0,multiline:!0,value:T,onChange:R=>y(M,R.target.value),size:"small"}),h.jsx(_n,{onClick:()=>x(M),color:"error",size:"small",children:h.jsx(gu,{})})]}):h.jsx(he,{variant:"body2",children:T})]},M))})]}),h.jsx(qs,{sx:{my:3}}),h.jsxs(vd,{children:[h.jsx(wd,{expandIcon:h.jsx(Tl,{}),children:h.jsxs(he,{variant:"h6",children:["Course Schedule (",w.schedule.length," weeks)"]})}),h.jsx(Sd,{children:h.jsx(de,{sx:{display:"flex",flexDirection:"column",gap:2},children:w.schedule.map((T,M)=>h.jsx(gn,{sx:{p:2,backgroundColor:"grey.50"},children:h.jsxs(wt,{container:!0,spacing:2,alignItems:"center",children:[h.jsx(wt,{item:!0,xs:12,sm:1,children:h.jsx(cr,{label:`W${T.week}`,size:"small",color:"primary"})}),h.jsx(wt,{item:!0,xs:12,sm:5,children:s?h.jsx(Jt,{fullWidth:!0,size:"small",label:"Topic",value:T.topic,onChange:R=>A(M,"topic",R.target.value)}):h.jsx(he,{variant:"body2",sx:{fontWeight:500},children:T.topic})}),h.jsx(wt,{item:!0,xs:12,sm:6,children:s?h.jsx(Jt,{fullWidth:!0,size:"small",label:"Description",value:T.description||"",onChange:R=>A(M,"description",R.target.value)}):h.jsx(he,{variant:"body2",color:"text.secondary",children:T.description||"No description"})})]})},M))})})]}),(((C=w.prerequisites)==null?void 0:C.length)||w.textbook||w.grading)&&h.jsxs(h.Fragment,{children:[h.jsx(qs,{sx:{my:3}}),h.jsx(he,{variant:"h6",sx:{mb:2},children:"Additional Information"}),h.jsxs(wt,{container:!0,spacing:2,children:[w.prerequisites&&w.prerequisites.length>0&&h.jsxs(wt,{item:!0,xs:12,md:4,children:[h.jsx(he,{variant:"subtitle2",sx:{mb:1},children:"Prerequisites:"}),h.jsx(he,{variant:"body2",color:"text.secondary",children:w.prerequisites.join(", ")})]}),w.textbook&&h.jsxs(wt,{item:!0,xs:12,md:4,children:[h.jsx(he,{variant:"subtitle2",sx:{mb:1},children:"Textbook:"}),h.jsx(he,{variant:"body2",color:"text.secondary",children:w.textbook})]}),w.grading&&h.jsxs(wt,{item:!0,xs:12,md:4,children:[h.jsx(he,{variant:"subtitle2",sx:{mb:1},children:"Grading:"}),h.jsx(he,{variant:"body2",color:"text.secondary",children:w.grading})]})]})]}),e&&h.jsx(de,{sx:{mt:4,textAlign:"right"},children:h.jsx(Ct,{variant:"contained",color:"primary",size:"large",onClick:e,disabled:s,children:"Continue to Materials Preview"})})]})}):null},XX=({onContinue:e,onBack:n})=>{const{generatedMaterials:t,editMaterial:r,error:i}=Op(),[a,s]=X.useState(null),[l,u]=X.useState(null);if(!t.length)return h.jsx(rr,{severity:"warning",children:"No materials generated. Please go back and process a syllabus first."});const d=w=>{s({index:w,material:{...t[w]}})},f=()=>{a&&(r(a.index,a.material),s(null))},m=()=>{s(null)},b=w=>{u(w)},g=w=>{const C=t[w];r(w,{published:!C.published})},x=(w,C=150)=>{const T=w.replace(/<[^>]*>/g,"");return T.length>C?T.substring(0,C)+"...":T},y=w=>w.toLowerCase().includes("overview")?h.jsx(Id,{color:"primary"}):w.toLowerCase().includes("week")?h.jsx(Z0,{color:"secondary"}):h.jsx(Id,{color:"action"}),A=t.filter(w=>w.published).length;return h.jsxs(de,{sx:{maxWidth:1e3,mx:"auto"},children:[h.jsxs(gn,{sx:{p:3,mb:3},children:[h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[h.jsx(he,{variant:"h5",component:"h2",children:"Generated Course Materials"}),h.jsx(cr,{label:`${A}/${t.length} will be published`,color:"primary",variant:"outlined"})]}),h.jsx(he,{variant:"body2",color:"text.secondary",children:"Review and customize the course materials generated from your syllabus. You can edit content, toggle publication status, and organize materials before creating your course."}),i&&h.jsx(rr,{severity:"error",sx:{mt:2},children:i})]}),h.jsx(wt,{container:!0,spacing:3,children:t.map((w,C)=>h.jsx(wt,{item:!0,xs:12,md:6,lg:4,children:h.jsxs(Za,{sx:{height:"100%",display:"flex",flexDirection:"column",border:w.published?"2px solid":"1px solid",borderColor:w.published?"success.main":"divider"},children:[h.jsxs(Ja,{sx:{flexGrow:1},children:[h.jsxs(de,{sx:{display:"flex",alignItems:"flex-start",gap:1,mb:2},children:[y(w.title),h.jsxs(de,{sx:{flexGrow:1},children:[h.jsx(he,{variant:"h6",component:"h3",sx:{fontSize:"1rem",lineHeight:1.3,mb:1},children:w.title}),h.jsxs(de,{sx:{display:"flex",gap:1,alignItems:"center"},children:[h.jsx(Ad,{control:h.jsx(Cd,{checked:w.published,onChange:()=>g(C),size:"small"}),label:h.jsx(he,{variant:"caption",children:w.published?"Publish":"Draft"}),sx:{mr:0}}),w.scheduledTimestamp&&h.jsx(cr,{label:"Scheduled",size:"small",variant:"outlined",color:"info"})]})]})]}),h.jsxs(he,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[h.jsx("strong",{children:"Sections:"})," ",w.sections.length]}),w.sections[0]&&h.jsxs(de,{sx:{mb:2},children:[h.jsx(he,{variant:"subtitle2",sx:{mb:1},children:w.sections[0].title}),h.jsx(he,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.85rem",fontStyle:"italic"},children:x(w.sections[0].content)})]})]}),h.jsxs(uj,{children:[h.jsx(Ct,{size:"small",startIcon:h.jsx(M6,{}),onClick:()=>b(w),children:"Preview"}),h.jsx(Ct,{size:"small",startIcon:h.jsx(yu,{}),onClick:()=>d(C),children:"Edit"})]})]})},w.id))}),h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[n&&h.jsx(Ct,{variant:"outlined",onClick:n,size:"large",children:"Back to Course Info"}),e&&h.jsxs(Ct,{variant:"contained",color:"primary",onClick:e,size:"large",disabled:A===0,children:["Create Course with ",A," Materials"]})]}),h.jsxs(Zi,{open:a!==null,onClose:m,maxWidth:"md",fullWidth:!0,children:[h.jsxs(pa,{children:["Edit Material: ",a==null?void 0:a.material.title]}),h.jsx(Ji,{children:a&&h.jsxs(de,{sx:{pt:1},children:[h.jsx(Jt,{fullWidth:!0,label:"Material Title",value:a.material.title,onChange:w=>s({...a,material:{...a.material,title:w.target.value}}),sx:{mb:3}}),h.jsx(he,{variant:"h6",sx:{mb:2},children:"Header"}),h.jsx(Jt,{fullWidth:!0,label:"Header Title",value:a.material.header.title,onChange:w=>s({...a,material:{...a.material,header:{...a.material.header,title:w.target.value}}}),sx:{mb:2}}),h.jsx(Jt,{fullWidth:!0,multiline:!0,rows:2,label:"Header Content",value:a.material.header.content,onChange:w=>s({...a,material:{...a.material,header:{...a.material.header,content:w.target.value}}}),sx:{mb:3}}),h.jsx(he,{variant:"h6",sx:{mb:2},children:"Sections"}),a.material.sections.map((w,C)=>h.jsxs(vd,{sx:{mb:2},children:[h.jsx(wd,{expandIcon:h.jsx(Tl,{}),children:h.jsx(he,{children:w.title})}),h.jsxs(Sd,{children:[h.jsx(Jt,{fullWidth:!0,label:"Section Title",value:w.title,onChange:T=>{const M=[...a.material.sections];M[C]={...M[C],title:T.target.value},s({...a,material:{...a.material,sections:M}})},sx:{mb:2}}),h.jsx(Jt,{fullWidth:!0,multiline:!0,rows:4,label:"Section Content",value:w.content,onChange:T=>{const M=[...a.material.sections];M[C]={...M[C],content:T.target.value},s({...a,material:{...a.material,sections:M}})}})]})]},w.id))]})}),h.jsxs(ma,{children:[h.jsx(Ct,{onClick:m,children:"Cancel"}),h.jsx(Ct,{onClick:f,variant:"contained",children:"Save Changes"})]})]}),h.jsxs(Zi,{open:l!==null,onClose:()=>u(null),maxWidth:"md",fullWidth:!0,children:[h.jsx(pa,{children:l==null?void 0:l.title}),h.jsx(Ji,{children:l&&h.jsxs(de,{sx:{pt:1},children:[h.jsxs(gn,{sx:{p:2,mb:3,backgroundColor:"primary.50"},children:[h.jsx(he,{variant:"h6",color:"primary",children:l.header.title}),h.jsx(he,{variant:"body2",sx:{mt:1},children:l.header.content.replace(/<[^>]*>/g,"")})]}),l.sections.map(w=>h.jsxs(de,{sx:{mb:3},children:[h.jsx(he,{variant:"h6",sx:{mb:2},children:w.title}),h.jsx(he,{variant:"body1",sx:{mb:2},children:w.content.replace(/<[^>]*>/g,"")}),w.subsections.map(C=>h.jsxs(de,{sx:{ml:2,mb:2},children:[h.jsx(he,{variant:"subtitle1",sx:{mb:1},children:C.title}),h.jsx(he,{variant:"body2",color:"text.secondary",children:C.content.replace(/<[^>]*>/g,"")})]},C.id))]},w.id)),h.jsx(gn,{sx:{p:2,backgroundColor:"grey.50"},children:h.jsx(he,{variant:"body2",color:"text.secondary",children:l.footer.content.replace(/<[^>]*>/g,"")})})]})}),h.jsx(ma,{children:h.jsx(Ct,{onClick:()=>u(null),children:"Close"})})]})]})},ZX=({onConfigChange:e,compact:n=!1})=>{const{useAIProcessing:t,setUseAIProcessing:r}=Op(),[i,a]=X.useState(null);X.useEffect(()=>{const{config:f,isValid:m,errors:b}=DI();a({config:f,isValid:m,errors:b})},[]);const s=f=>{if(r(f),i){const m={...i.config,enableAIProcessing:f},b=II(m);a({config:m,...b}),e==null||e(m)}},l=()=>i?i.isValid&&t?h.jsx(B1,{color:"success"}):!i.isValid&&t?h.jsx(F9,{color:"error"}):h.jsx(jx,{color:"action"}):h.jsx(jx,{color:"action"}),u=()=>t?i?i.isValid?"AI processing ready - enhanced syllabus analysis enabled":`Configuration issues: ${i.errors.join(", ")}`:"Loading configuration...":"AI processing disabled - using pattern-based parsing",d=()=>t?i?i.isValid?"success":"error":"info":"warning";return n?h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:2},children:[l(),h.jsx(Ad,{control:h.jsx(Cd,{checked:t,onChange:f=>s(f.target.checked),size:"small"}),label:"AI Processing"}),h.jsx(fi,{title:u(),children:h.jsx(M9,{fontSize:"small",color:"action"})})]}):h.jsx(gn,{sx:{p:2,mb:2},children:h.jsxs(vd,{children:[h.jsx(wd,{expandIcon:h.jsx(Tl,{}),children:h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[l(),h.jsxs(de,{sx:{flexGrow:1},children:[h.jsx(he,{variant:"subtitle1",sx:{fontWeight:500},children:"AI-Powered Processing Settings"}),h.jsx(he,{variant:"caption",color:"text.secondary",children:u()})]}),h.jsx(cr,{label:t?"Enabled":"Disabled",color:t?"success":"default",size:"small"})]})}),h.jsx(Sd,{children:h.jsxs(wt,{container:!0,spacing:3,children:[h.jsx(wt,{item:!0,xs:12,children:h.jsx(Ad,{control:h.jsx(Cd,{checked:t,onChange:f=>s(f.target.checked)}),label:h.jsxs(de,{children:[h.jsx(he,{variant:"body2",sx:{fontWeight:500},children:"Enable AI-Powered Analysis"}),h.jsx(he,{variant:"caption",color:"text.secondary",children:"Use Google Gemini to extract structured information from syllabi"})]})})}),t&&h.jsx(wt,{item:!0,xs:12,children:h.jsxs(gn,{sx:{p:2,backgroundColor:i!=null&&i.isValid?"success.50":"error.50",border:"1px solid",borderColor:i!=null&&i.isValid?"success.200":"error.200"},children:[h.jsx(he,{variant:"subtitle2",sx:{mb:1,color:i!=null&&i.isValid?"success.main":"error.main"},children:i!=null&&i.isValid?" API Configuration":" API Configuration"}),h.jsx(he,{variant:"body2",color:"text.secondary",children:i!=null&&i.isValid?"Gemini API key is configured and ready for use.":"Gemini API key is required. Please add VITE_GEMINI_API_KEY to your environment variables."})]})}),h.jsx(wt,{item:!0,xs:12,children:h.jsxs(rr,{severity:d(),sx:{mb:2},children:[h.jsx(he,{variant:"body2",children:u()}),(i==null?void 0:i.errors)&&i.errors.length>0&&h.jsx(de,{sx:{mt:1},children:i.errors.map((f,m)=>h.jsxs(he,{variant:"caption",display:"block",children:[" ",f]},m))})]})}),t&&(i==null?void 0:i.isValid)&&h.jsx(wt,{item:!0,xs:12,children:h.jsxs(gn,{sx:{p:2,backgroundColor:"primary.50",border:"1px solid",borderColor:"primary.200"},children:[h.jsx(he,{variant:"subtitle2",sx:{mb:1,color:"primary.main"},children:" Enhanced Features with AI:"}),h.jsxs(wt,{container:!0,spacing:1,children:[h.jsxs(wt,{item:!0,xs:12,sm:6,children:[h.jsx(he,{variant:"caption",display:"block",children:" Intelligent course information extraction"}),h.jsx(he,{variant:"caption",display:"block",children:" Automatic learning objectives identification"}),h.jsx(he,{variant:"caption",display:"block",children:" Smart schedule parsing and organization"})]}),h.jsxs(wt,{item:!0,xs:12,sm:6,children:[h.jsx(he,{variant:"caption",display:"block",children:" Grading policy analysis"}),h.jsx(he,{variant:"caption",display:"block",children:" Assignment and due date extraction"}),h.jsx(he,{variant:"caption",display:"block",children:" Enhanced material generation"})]})]})]})}),!t&&h.jsx(wt,{item:!0,xs:12,children:h.jsxs(gn,{sx:{p:2,backgroundColor:"warning.50",border:"1px solid",borderColor:"warning.200"},children:[h.jsx(he,{variant:"subtitle2",sx:{mb:1,color:"warning.main"},children:" Pattern-Based Processing:"}),h.jsx(he,{variant:"caption",color:"text.secondary",children:"Using traditional text parsing methods. Results may be less accurate than AI processing. Enable AI processing for better extraction accuracy."})]})})]})})]})})},LI=({onComplete:e,onCancel:n,educatorUid:t})=>{const{currentStep:r,setCurrentStep:i,parsedCourseInfo:a,generatedMaterials:s,isProcessing:l,error:u,useAIProcessing:d,processingProgress:f,reset:m}=Op(),[b,g]=X.useState(null);st.useEffect(()=>{const{config:z}=DI();g(z)},[]);const x=[{label:"Upload Syllabus",description:"Upload your syllabus document"},{label:"Review Course Info",description:"Verify and edit course information"},{label:"Review Materials",description:"Customize generated course materials"}],y=()=>{switch(r){case"upload":case"processing":return 0;case"review":return 1;case"editing":return 2;case"complete":return 2;default:return 0}},A=()=>{i("editing")},w=()=>{i("review")},C=()=>{if(a&&s.length>0){const z=s.filter(_=>_.published);e==null||e({courseInfo:a,materials:z})}},T=()=>{m(),n==null||n()},M=z=>{g(z)},R=()=>{switch(r){case"upload":case"processing":return h.jsx(A4,{onUploadComplete:()=>{},educatorUid:t});case"review":return h.jsx(KX,{onContinue:A});case"editing":case"complete":return h.jsx(XX,{onContinue:C,onBack:w});default:return h.jsx(A4,{onUploadComplete:()=>{},educatorUid:t})}};return h.jsxs(de,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:3},children:[h.jsxs(gn,{sx:{p:3,mb:4},children:[h.jsx(he,{variant:"h4",component:"h1",gutterBottom:!0,children:"Import Course from Syllabus"}),h.jsx(he,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Upload your syllabus document and we'll automatically create a course structure with organized materials based on your content."}),h.jsx(P9,{activeStep:y(),alternativeLabel:!0,children:x.map(z=>h.jsx(z9,{children:h.jsxs(q9,{children:[h.jsx(he,{variant:"body2",sx:{fontWeight:500},children:z.label}),h.jsx(he,{variant:"caption",color:"text.secondary",children:z.description})]})},z.label))})]}),r==="upload"&&h.jsx(ZX,{onConfigChange:M,compact:!1}),u&&h.jsx(rr,{severity:"error",sx:{mb:3},onClose:()=>{},children:u}),l&&h.jsx(rr,{severity:"info",sx:{mb:3},children:h.jsx(he,{variant:"body2",children:d?" AI is analyzing your syllabus for enhanced data extraction... This usually takes 10-30 seconds.":" Processing your syllabus with pattern-based analysis... This usually takes a moment."})}),h.jsx(de,{sx:{minHeight:400},children:R()}),r!=="upload"&&n&&h.jsx(de,{sx:{display:"flex",justifyContent:"center",mt:3},children:h.jsx(Ct,{variant:"outlined",color:"secondary",onClick:T,size:"small",children:"Cancel & Return to Manual Entry"})})]})},Jx=e=>{if(e==null)return null;if(e instanceof Date)return e;if(Array.isArray(e))return e.map(Jx).filter(n=>n!=null);if(typeof e=="object"){const n={};return Object.keys(e).forEach(t=>{const r=e[t];if(r!==void 0){const i=Jx(r);i!=null&&(n[t]=i)}}),n}return e},JX=()=>{const{userDetails:e}=Pi(),n=ya(),t=Xn(),[r,i]=X.useState(""),[a,s]=X.useState(""),[l,u]=X.useState(""),[d,f]=X.useState(""),[m,b]=X.useState(""),[g,x]=X.useState(""),[y,A]=X.useState(""),[w,C]=X.useState("primary"),[T,M]=X.useState("manual"),{parsedCourseInfo:R,generatedMaterials:z,reset:_,currentStep:L}=Op(),[$,Z]=X.useState(!1),[O,j]=X.useState(!1),[F,N]=X.useState("");X.useEffect(()=>{(T==="manual"||w==="co-instructor")&&_()},[T,w,_]),X.useEffect(()=>{w==="primary"&&T==="syllabus"&&R&&(b(R.suggestedNumber||""),x(R.suggestedTitle||""),A(R.suggestedDescription||""))},[w,T,R]);const G=J=>ne=>{J(ne.target.value)},H=J=>{const ne=J.target.value;C(ne),ne==="co-instructor"&&(M("manual"),b(""),x(""),A(""))},Q=(J,ne)=>{ne!==null&&(M(ne),ne==="syllabus"&&(b(""),x(""),A("")))},te=()=>{if(!r||!a||!l||!d||!m||!g)return"Please fill in all required fields.";if(w==="primary"){if(T==="manual"&&!y)return"Please provide a course description.";if(T==="syllabus"){if(!R)return"Please complete the syllabus import process first.";if(!y)return"Please ensure course description is properly filled from your syllabus."}}return null},oe=J=>{console.log("Syllabus import completed for educator request:",J)},U=async()=>{const J=te();if(J){N(J),j(!0);return}Z(!0);try{const ne={uid:(e==null?void 0:e.uid)||"",firstName:r||"",lastName:a||"",institution:l||"",email:d||"",courseNumber:m||"",courseTitle:g||"",courseDescription:w==="primary"?y||"":"CO-INSTRUCTOR REQUEST",requestType:w||"primary",status:"pending",timestamp:new Date,syllabusImported:!1};if(w==="primary"&&T==="syllabus"&&R&&z.length>0){const He={parsedCourseInfo:R,generatedMaterials:z.filter(Y=>Y.published)},Ve=Jx(He);ne.syllabusImported=!0,ne.syllabusData=Ve}const le=Jx(ne);console.log("Submitting clean educator request document:",le);const Se=await Si(dn(t,"educatorRequests"),le),xe={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Educator Request Submitted${w==="primary"&&T==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new educator request has been submitted:</p>
            <p><strong>Name:</strong> ${r} ${a}</p>
            <p><strong>Email:</strong> ${d}</p>
            <p><strong>Institution:</strong> ${l}</p>
            <p><strong>Course:</strong> ${m} - ${g}</p>
            <p><strong>Request Type:</strong> ${w}</p>
            ${w==="primary"?`<p><strong>Course Creation Method:</strong> ${T==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>`:""}
            ${w==="primary"&&T==="syllabus"&&z.length>0?`<p><strong>Generated Materials:</strong> ${z.filter(He=>He.published).length} materials ready for publication</p>`:""}
            <p><strong>Description:</strong> ${y}</p>
            <p><strong>Request ID:</strong> ${Se.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/educator-requests">
            Click here to review the request.
            </a></p>
          `}};await Si(dn(t,"mail"),xe);const ke={firstName:r,lastName:a,email:d,institution:l,courseNumber:m,courseTitle:g,requestType:w,courseCreationMode:w==="primary"?T:void 0,generatedMaterialsCount:w==="primary"&&T==="syllabus"?z.filter(He=>He.published).length:void 0,requestId:Se.id,submittedAt:new Date().toISOString()},De=dF(ke),Me=rS([d],"Instructor Request Submitted - NexLAB",De);await Si(dn(t,"mail"),Me),N(w==="primary"&&T==="syllabus"&&z.length>0?`Your educator request has been submitted for review with ${z.filter(He=>He.published).length} auto-generated course materials.`:"Your request has been submitted for review."),i(""),s(""),u(""),f(""),b(""),x(""),A(""),C("primary"),M("manual"),T==="syllabus"&&_(),j(!0),setTimeout(()=>{n("/my-profile")},3e3)}catch(ne){console.error("Error submitting request: ",ne),ne instanceof Error&&console.error("Error details:",{message:ne.message,name:ne.name,stack:ne.stack}),N("Error submitting your request. Please try again."),j(!0)}finally{Z(!1)}},se=()=>{j(!1)},q=w==="primary"&&T==="syllabus"&&L!=="upload"&&!R,B=w==="primary"&&T==="syllabus"&&(L==="review"||L==="editing"||L==="complete")&&R;return h.jsxs($6,{title:"Request Educator Permissions",subtitle:"Request permissions to create courses or join existing courses as a co-instructor.",children:[h.jsx(Yf,{title:"Request Type",description:"Select the type of educator permissions you are requesting.",children:h.jsxs(cF,{label:"Request Type",value:w,onChange:H,required:!0,disabled:$,helperText:"Choose whether you want to create a new course or join an existing one",children:[h.jsx(ai,{value:"primary",children:"I am a primary course instructor, I want to create a new course"}),h.jsx(ai,{value:"co-instructor",children:"I am a co-instructor, I want to be added to an existing course"})]})}),h.jsxs(Yf,{title:"Personal Information",description:"Provide your contact and institutional details.",showDivider:!0,children:[h.jsxs(wt,{container:!0,spacing:3,children:[h.jsx(wt,{item:!0,xs:12,md:6,children:h.jsx(hu,{label:"First Name",value:r,onChange:G(i),required:!0,disabled:$,placeholder:"John"})}),h.jsx(wt,{item:!0,xs:12,md:6,children:h.jsx(hu,{label:"Last Name",value:a,onChange:G(s),required:!0,disabled:$,placeholder:"Doe"})})]}),h.jsxs(wt,{container:!0,spacing:3,children:[h.jsx(wt,{item:!0,xs:12,md:6,children:h.jsx(hu,{label:"Institution Affiliation",value:l,onChange:G(u),required:!0,disabled:$,placeholder:"University Name",helperText:"The name of your educational institution"})}),h.jsx(wt,{item:!0,xs:12,md:6,children:h.jsx(hu,{label:"Institutional Email",type:"email",value:d,onChange:G(f),required:!0,disabled:$,placeholder:"name@institution.edu",helperText:"Please use your institutional email to confirm your affiliation"})})]})]}),h.jsxs(Yf,{title:w==="primary"?"New Course Details":"Existing Course Details",description:w==="primary"?"Provide details for the course you want to create.":"Provide details about the existing course you want to join.",showDivider:!0,children:[w==="primary"&&h.jsxs(gn,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[h.jsxs(L6,{value:T,exclusive:!0,onChange:Q,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[h.jsxs(J0,{value:"manual","aria-label":"manual entry",children:[h.jsx(yu,{sx:{mr:1}}),"Manual Entry"]}),h.jsxs(J0,{value:"syllabus","aria-label":"syllabus import",children:[h.jsx(cj,{sx:{mr:1}}),"Import from Syllabus"]})]}),h.jsx(gn,{sx:{p:2,backgroundColor:"primary.50",border:"1px solid",borderColor:"primary.200",fontFamily:we.fontFamily.primary,fontSize:we.fontSize.sm,color:K.text.secondary},children:T==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),w==="primary"&&T==="syllabus"&&h.jsx(LI,{onComplete:oe,onCancel:()=>M("manual")}),(w==="co-instructor"||w==="primary"&&T==="manual")&&h.jsxs(h.Fragment,{children:[h.jsxs(wt,{container:!0,spacing:3,children:[h.jsx(wt,{item:!0,xs:12,md:3,children:h.jsx(hu,{label:"Course Number",value:m,onChange:G(b),required:!0,disabled:$,placeholder:"e.g., BIOL301",helperText:"Enter the official course number or code"})}),h.jsx(wt,{item:!0,xs:12,md:9,children:h.jsx(hu,{label:"Course Title",value:g,onChange:G(x),required:!0,disabled:$,placeholder:"e.g., Biotech Research Methods",helperText:"Enter the full course title"})})]}),w==="primary"&&h.jsx(hu,{label:"Course Description",value:y,onChange:G(A),required:!0,disabled:$,multiline:!0,rows:4,placeholder:"A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",helperText:"Describe the course content, objectives, and learning outcomes"})]})]}),(w==="co-instructor"||w==="primary"&&T==="manual"||B)&&h.jsxs(U6,{align:"space-between",children:[h.jsx(em,{variant:"text",onClick:()=>n("/my-profile"),disabled:$,children:"Cancel"}),h.jsx(em,{variant:"primary",onClick:U,disabled:$||q,loading:$,children:w==="primary"&&T==="syllabus"&&z.length>0?`Submit with ${z.filter(J=>J.published).length} Materials`:"Submit"})]}),h.jsxs(Zi,{open:O,onClose:se,children:[h.jsx(pa,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(B1,{sx:{color:"green",fontSize:50,marginRight:1}})}),h.jsx(Ji,{children:h.jsx(Ll,{sx:{textAlign:"center"},children:F})}),h.jsx(ma,{children:h.jsx(Ct,{onClick:se,color:"primary",autoFocus:!0,children:"Close"})})]})]})},eZ=({requests:e,loading:n=!1,onApprove:t,onDeny:r,onDelete:i})=>{const a=l=>{switch(l.toLowerCase()){case"approved":return"success";case"pending":return"warning";case"denied":return"error";default:return"default"}},s=[{id:"firstName",label:"Name",width:"12%",render:(l,u)=>h.jsx(Xa,{text:`${l} ${u.lastName}`,weight:"semibold"})},{id:"uid",label:"User ID",width:"12%",render:l=>h.jsx(oh,{userId:l,userType:"student"})},{id:"institution",label:"Institution",width:"12%",render:l=>h.jsx(Xa,{text:l,maxLength:30})},{id:"email",label:"Email",width:"12%",render:l=>h.jsx(Xa,{text:l,maxLength:30,variant:"monospace"})},{id:"courseNumber",label:"Course",width:"12%",render:(l,u)=>h.jsx(wp,{courseId:u.courseId||"",courseNumber:l,courseTitle:u.courseTitle,variant:"link",maxTitleLength:30})},{id:"timestamp",label:"Submitted",width:"10%",render:l=>h.jsx(Sp,{date:new Date(l.seconds*1e3),format:"full"})},{id:"status",label:"Status",width:"7%",render:l=>h.jsx(yv,{label:l,status:a(l)})},{id:"actions",label:"Actions",width:"15%",align:"center",render:(l,u)=>{const d=u.status==="pending",f=u.status==="approved"||u.status==="denied";return h.jsx(G1,{actions:[{icon:h.jsx(dj,{}),tooltip:d?"Approve Request":"Already processed",onClick:()=>t(u.id),disabled:!d,color:K.success,hoverColor:K.success+"20"},{icon:h.jsx(d1,{}),tooltip:d?"Deny Request":"Already processed",onClick:()=>r(u.id),disabled:!d,color:K.error,hoverColor:K.error+"20"},{icon:h.jsx(gu,{}),tooltip:f?"Delete Request":"Request must be approved or denied first",onClick:()=>i(u.id),disabled:!f,color:K.text.secondary,hoverColor:K.text.secondary+"20"}]})}}];return h.jsx(sh,{data:e,columns:s,loading:n,emptyMessage:"No educator permission requests found.",stickyHeader:!0})},tZ=()=>{const[e,n]=X.useState([]),[t,r]=X.useState([]),[i,a]=X.useState(""),[s,l]=X.useState(!1),[u,d]=X.useState(""),[f,m]=X.useState("success"),[b,g]=X.useState(!1),[x,y]=X.useState(null),[A,w]=X.useState(null),[C,T]=X.useState(null),M=Xn();ya(),X.useEffect(()=>{(async()=>{const N=(await Ai(dn(M,"educatorRequests"))).docs.map(te=>({id:te.id,...te.data()})),H=(await Ai(dn(M,"courses"))).docs.map(te=>({id:te.id,...te.data()})),Q=N.sort((te,oe)=>{var B,J;const U=((B=te.timestamp)==null?void 0:B.seconds)||0,q=(((J=oe.timestamp)==null?void 0:J.seconds)||0)-U;return q!==0?q:te.status==="pending"&&oe.status!=="pending"||te.status==="approved"&&oe.status==="denied"?-1:te.status==="denied"&&oe.status==="approved"?1:0});n(Q),r(H)})()},[M]);function R(){const j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let F="";for(let N=0;N<28;N++)F+=j.charAt(Math.floor(Math.random()*j.length));return F}const z=async()=>{var j,F;if(!(!A||!C)){if(!C.courseNumber||!C.courseTitle){d("Course number or title is missing. Cannot approve request."),m("error"),l(!0);return}if(C.requestType==="co-instructor"&&!i){d("Please select a course for the co-instructor request."),m("error"),l(!0);return}if(C.status!=="pending"){d("This request has already been processed."),m("warning"),l(!0);return}try{const N=fn(M,"users",C.uid);if(C.requestType==="primary"){const G=R(),H=await Si(dn(M,"courses"),{number:C.courseNumber,title:C.courseTitle,passcode:G,courseAdmin:[C.uid],createdAt:new Date,courseCreatedAt:new Date}),Q=await ga(N),te=Q.exists()?((j=Q.data())==null?void 0:j.classes)||{}:{};await Hr(N,{isAdmin:!0,classes:{...te,[H.id]:{number:C.courseNumber,title:C.courseTitle,isCourseAdmin:!0,courseCreatedAt:new Date,enrolledAt:new Date}}}),await Hr(fn(M,"educatorRequests",A),{status:"approved",courseId:H.id,passcode:G});const oe={firstName:C.firstName,lastName:C.lastName,email:C.email,institution:C.institution,courseNumber:C.courseNumber,courseTitle:C.courseTitle,requestType:C.requestType,passcode:G,courseId:H.id,requestId:A,approvedAt:new Date().toISOString()},U=Dk(oe),se=rS([C.email],"Instructor Request Approved - NexLAB",U);await Si(dn(M,"mail"),se);const q={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"Educator Request Approved - NexLAB",html:`
              <p>An educator request has been approved:</p>
              <p><strong>Name:</strong> ${C.firstName} ${C.lastName}</p>
              <p><strong>Email:</strong> ${C.email}</p>
              <p><strong>Institution:</strong> ${C.institution}</p>
              <p><strong>Course:</strong> ${C.courseNumber} - ${C.courseTitle}</p>
              <p><strong>Request Type:</strong> ${C.requestType==="primary"?"Primary Instructor":"Co-Instructor"}</p>
              <p><strong>Course ID:</strong> ${H.id}</p>
              <p><strong>Passcode:</strong> ${G}</p>
              <p><strong>Request ID:</strong> ${A}</p>
              <p><strong>Approved:</strong> ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}</p>
            `}};await Si(dn(M,"mail"),q)}else if(C.requestType==="co-instructor"){if(!i){d("Please select a course for the co-instructor request."),m("error"),l(!0);return}const G=fn(M,"courses",i);await Hr(G,{courseAdmin:y3(C.uid)});const H=await ga(N),Q=H.exists()?((F=H.data())==null?void 0:F.classes)||{}:{};await Hr(N,{isAdmin:!0,classes:{...Q,[i]:{number:C.courseNumber,title:C.courseTitle,isCourseAdmin:!0,courseCreatedAt:new Date,enrolledAt:new Date}}}),await Hr(fn(M,"educatorRequests",A),{status:"approved",courseId:i});const te={firstName:C.firstName,lastName:C.lastName,email:C.email,institution:C.institution,courseNumber:C.courseNumber,courseTitle:C.courseTitle,requestType:C.requestType,courseId:i,requestId:A,approvedAt:new Date().toISOString()},oe=Dk(te),U=rS([C.email],"Instructor Request Approved - NexLAB",oe);await Si(dn(M,"mail"),U);const se={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"Co-Instructor Request Approved - NexLAB",html:`
              <p>A co-instructor request has been approved:</p>
              <p><strong>Name:</strong> ${C.firstName} ${C.lastName}</p>
              <p><strong>Email:</strong> ${C.email}</p>
              <p><strong>Institution:</strong> ${C.institution}</p>
              <p><strong>Course:</strong> ${C.courseNumber} - ${C.courseTitle}</p>
              <p><strong>Request Type:</strong> Co-Instructor</p>
              <p><strong>Course ID:</strong> ${i}</p>
              <p><strong>Request ID:</strong> ${A}</p>
              <p><strong>Approved:</strong> ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}</p>
            `}};await Si(dn(M,"mail"),se)}d("Request approved, and user promoted to educator."),m("success"),n(G=>G.map(Q=>Q.id===A?{...Q,status:"approved"}:Q).sort((Q,te)=>{var q,B;const oe=((q=Q.timestamp)==null?void 0:q.seconds)||0,se=(((B=te.timestamp)==null?void 0:B.seconds)||0)-oe;return se!==0?se:Q.status==="pending"&&te.status!=="pending"||Q.status==="approved"&&te.status==="denied"?-1:Q.status==="denied"&&te.status==="approved"?1:0}))}catch(N){console.error("Error approving request: ",N),d("Error approving the request. Please try again."),m("error")}l(!0),Z()}},_=async()=>{if(A){try{await Hr(fn(M,"educatorRequests",A),{status:"denied"}),d("Request denied."),m("success"),n(j=>j.map(N=>N.id===A?{...N,status:"denied"}:N).sort((N,G)=>{var oe,U;const H=((oe=N.timestamp)==null?void 0:oe.seconds)||0,te=(((U=G.timestamp)==null?void 0:U.seconds)||0)-H;return te!==0?te:N.status==="pending"&&G.status!=="pending"||N.status==="approved"&&G.status==="denied"?-1:N.status==="denied"&&G.status==="approved"?1:0}))}catch(j){console.error("Error denying request: ",j),d("Error denying the request. Please try again."),m("error")}l(!0),Z()}},L=async()=>{if(A){try{await $1(fn(M,"educatorRequests",A)),d("Educator request deleted successfully."),m("success"),n(j=>j.filter(N=>N.id!==A).sort((N,G)=>{var oe,U;const H=((oe=N.timestamp)==null?void 0:oe.seconds)||0,te=(((U=G.timestamp)==null?void 0:U.seconds)||0)-H;return te!==0?te:N.status==="pending"&&G.status!=="pending"||N.status==="approved"&&G.status==="denied"?-1:N.status==="denied"&&G.status==="approved"?1:0}))}catch(j){console.error("Error deleting request: ",j),d("Error deleting the request. Please try again."),m("error")}l(!0),Z()}},$=(j,F,N)=>{y(j),w(F),T(N),a(""),g(!0)},Z=()=>{g(!1),y(null),w(null),T(null)},O=()=>{l(!1)};return h.jsxs(de,{sx:{p:$e[6],backgroundColor:K.background.primary,minHeight:"100vh"},children:[h.jsx(Ao,{title:"Educator Permission Requests"}),h.jsx(he,{variant:"body1",sx:{mb:$e[4],color:K.text.secondary,fontFamily:"Gabarito, sans-serif"},children:"Review and manage educator permission requests from users seeking to become course instructors."}),h.jsx(eZ,{requests:e,loading:!1,onApprove:j=>{const F=e.find(N=>N.id===j);F&&$("approve",j,F)},onDeny:j=>{const F=e.find(N=>N.id===j);F&&$("deny",j,F)},onDelete:j=>{const F=e.find(N=>N.id===j);F&&$("delete",j,F)}}),h.jsx(Rl,{open:s,autoHideDuration:6e3,onClose:O,children:h.jsx(rr,{onClose:O,severity:f,sx:{width:"100%"},children:u})}),h.jsxs(Zi,{open:b,onClose:Z,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",children:[h.jsx(pa,{id:"confirmation-dialog-title",children:x==="approve"?"Confirm Approval":x==="deny"?"Confirm Denial":"Delete Request"}),h.jsxs(Ji,{children:[h.jsx(Ll,{id:"confirmation-dialog-description",children:x==="delete"?`Are you sure you want to delete this request for ${C==null?void 0:C.firstName} ${C==null?void 0:C.lastName}? This action cannot be undone.`:`Are you sure you want to ${x} this request for ${C==null?void 0:C.firstName} ${C==null?void 0:C.lastName}?`}),x==="approve"&&(C==null?void 0:C.requestType)==="co-instructor"&&h.jsxs(de,{sx:{mt:2},children:[h.jsx(he,{children:"Select Course:"}),h.jsx(Dc,{fullWidth:!0,value:i,onChange:j=>a(j.target.value),children:t.map(j=>h.jsx(ai,{value:j.id,children:`${j.number} - ${j.title}`},j.id))})]})]}),h.jsxs(ma,{children:[h.jsx(Ct,{onClick:Z,color:"primary",children:"Cancel"}),h.jsx(Ct,{onClick:x==="approve"?z:x==="deny"?_:L,color:x==="delete"?"error":"primary",variant:"contained",autoFocus:!0,disabled:(C==null?void 0:C.requestType)==="co-instructor"&&x==="approve"&&!i,children:x==="approve"?"Approve":x==="deny"?"Deny":"Delete"})]})]})]})},ev=e=>{if(e==null)return null;if(e instanceof Date)return e;if(Array.isArray(e))return e.map(ev).filter(n=>n!=null);if(typeof e=="object"){const n={};return Object.keys(e).forEach(t=>{const r=e[t];if(r!==void 0){const i=ev(r);i!=null&&(n[t]=i)}}),n}return e},nZ=()=>{const{userDetails:e}=Pi(),n=ya(),t=Xn(),[r,i]=X.useState("manual"),[a,s]=X.useState(""),[l,u]=X.useState(""),[d,f]=X.useState(""),{parsedCourseInfo:m,generatedMaterials:b,aiExtractedInfo:g,storedSyllabusFile:x,reset:y,currentStep:A}=Op(),[w,C]=X.useState(!1),[T,M]=X.useState(!1),[R,z]=X.useState("");X.useEffect(()=>{r==="manual"&&y()},[r,y]),X.useEffect(()=>{r==="syllabus"&&m&&(s(m.suggestedNumber||""),u(m.suggestedTitle||""),f(m.suggestedDescription||""))},[r,m]);const _=G=>H=>{G(H.target.value)},L=(G,H)=>{H!==null&&(i(H),H==="syllabus"&&(s(""),u(""),f("")))},$=()=>{if(r==="manual"){if(!a||!l||!d)return"Please fill in all required fields."}else if(r==="syllabus"){if(!m)return"Please complete the syllabus import process first.";if(!a||!l||!d)return"Please ensure course information is properly filled from your syllabus."}return null},Z=G=>{console.log("Syllabus import completed:",G),O()},O=async()=>{const G=$();if(G){z(G),M(!0);return}C(!0);try{const H={uid:(e==null?void 0:e.uid)||"",courseNumber:a||"",courseTitle:l||"",courseDescription:d||"",status:"pending",timestamp:new Date,syllabusImported:!1};if(r==="syllabus"&&m&&b.length>0){const U={parsedCourseInfo:m,generatedMaterials:b.filter(q=>q.published),additionalInfo:g?{contactInfo:g.contactInfo,policies:g.policies,additionalResources:g.additionalResources,labSpecific:g.labSpecific,textbooks:g.textbooks,gradingPolicy:g.gradingPolicy,assignments:g.assignments,prerequisites:g.prerequisites}:null,syllabusFile:x?{url:x.url,path:x.path,metadata:x.metadata}:null},se=ev(U);H.syllabusImported=!0,H.syllabusData=se}const Q=ev(H);console.log("Submitting clean request document:",Q);const te=await Si(dn(t,"courseRequests"),Q),oe={to:["andriy@intofuture.org"],message:{subject:`New Course Request Submitted${r==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new course request has been submitted:</p>
            <p><strong>Educator ID:</strong> ${(e==null?void 0:e.uid)||"Unknown"}</p>
            <p><strong>Course:</strong> ${a} - ${l}</p>
            <p><strong>Description:</strong> ${d}</p>
            <p><strong>Creation Method:</strong> ${r==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>
            ${r==="syllabus"&&b.length>0?`<p><strong>Generated Materials:</strong> ${b.filter(U=>U.published).length} materials ready for publication</p>`:""}
            <p><strong>Request ID:</strong> ${te.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/course-requests">
            Click here to review the request.
            </a></p>
          `}};await Si(dn(t,"mail"),oe),z(r==="syllabus"?`Your course request has been submitted for review with ${b.filter(U=>U.published).length} auto-generated materials.`:"Your course request has been submitted for review."),s(""),u(""),f(""),r==="syllabus"&&y(),M(!0),setTimeout(()=>{n("/course-management")},3e3)}catch(H){console.error("Error submitting course request: ",H),H instanceof Error&&console.error("Error details:",{message:H.message,name:H.name,stack:H.stack}),z("Error submitting your course request. Please try again."),M(!0)}finally{C(!1)}},j=()=>{M(!1)},F=r==="syllabus"&&A!=="upload"&&!m,N=r==="syllabus"&&(A==="review"||A==="editing"||A==="complete")&&m;return h.jsxs($6,{title:"Request New Course",subtitle:"Create a new course by entering course information manually or importing from a syllabus document.",children:[h.jsx(Yf,{title:"Course Creation Method",description:"Choose how you would like to create your course.",children:h.jsxs(gn,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[h.jsxs(L6,{value:r,exclusive:!0,onChange:L,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[h.jsxs(J0,{value:"manual","aria-label":"manual entry",children:[h.jsx(yu,{sx:{mr:1}}),"Manual Entry"]}),h.jsxs(J0,{value:"syllabus","aria-label":"syllabus import",children:[h.jsx(cj,{sx:{mr:1}}),"Import from Syllabus"]})]}),h.jsx(gn,{sx:{p:2,backgroundColor:"primary.50",border:"1px solid",borderColor:"primary.200",fontFamily:we.fontFamily.primary,fontSize:we.fontSize.sm,color:K.text.secondary},children:r==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]})}),r==="syllabus"&&h.jsx(Yf,{title:"Syllabus Import",description:"Upload your syllabus document to automatically extract course information.",showDivider:!0,children:h.jsx(LI,{onComplete:Z,onCancel:()=>i("manual"),educatorUid:e==null?void 0:e.uid})}),r==="manual"&&h.jsxs(Yf,{title:"Course Information",description:"Provide the basic details for your course.",showDivider:!0,children:[h.jsxs(wt,{container:!0,spacing:3,children:[h.jsx(wt,{item:!0,xs:12,md:4,children:h.jsx(hu,{label:"Course Number",value:a,onChange:_(s),required:!0,disabled:w,placeholder:"e.g., BIOL301",helperText:"Enter the official course number or code"})}),h.jsx(wt,{item:!0,xs:12,md:8,children:h.jsx(hu,{label:"Course Title",value:l,onChange:_(u),required:!0,disabled:w,placeholder:"e.g., Biotech Research Methods",helperText:"Enter the full course title"})})]}),h.jsx(hu,{label:"Course Description",value:d,onChange:_(f),required:!0,disabled:w,multiline:!0,rows:4,placeholder:"A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",helperText:"Describe the course content, objectives, and learning outcomes"})]}),(r==="manual"||N)&&h.jsxs(U6,{align:"space-between",children:[h.jsx(em,{variant:"text",onClick:()=>n("/course-management"),disabled:w,children:"Cancel"}),h.jsx(em,{variant:"primary",onClick:O,disabled:w||F,loading:w,children:r==="syllabus"&&b.length>0?`Submit Request with ${b.filter(G=>G.published).length} Materials`:"Submit"})]}),h.jsxs(Zi,{open:T,onClose:j,children:[h.jsx(pa,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(B1,{sx:{color:"green",fontSize:50,marginRight:1}})}),h.jsx(Ji,{children:h.jsx(Ll,{sx:{textAlign:"center"},children:R})}),h.jsx(ma,{children:h.jsx(Ct,{onClick:j,color:"primary",autoFocus:!0,children:"Close"})})]})]})},rZ=({requests:e,loading:n=!1,onApprove:t,onDeny:r,onDelete:i,onViewSyllabus:a})=>{const s=d=>{switch(d.toLowerCase()){case"approved":return"success";case"pending":return"warning";case"denied":return"error";default:return"default"}},l=d=>d.syllabusImported?"Syllabus Import":"Manual Creation",u=[{id:"uid",label:"Educator ID",width:"15%",render:d=>h.jsx(oh,{userId:d,userType:"educator"})},{id:"courseNumber",label:"Course",width:"25%",render:(d,f)=>h.jsx(wp,{courseId:f.id||"",courseNumber:d,courseTitle:f.courseTitle,variant:"link",maxTitleLength:35})},{id:"courseDescription",label:"Description",width:"15%",render:d=>h.jsx(Xa,{text:d,maxLength:60,variant:"secondary"})},{id:"syllabusImported",label:"Creation Method",width:"10%",render:(d,f)=>h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Xa,{text:l(f)}),d&&a&&h.jsx(fi,{title:"View Syllabus Data",children:h.jsx(_n,{size:"small",onClick:()=>a(f),sx:{color:K.primary[600],"&:hover":{backgroundColor:K.primary[100]}},children:h.jsx(Tx,{fontSize:"small"})})})]})},{id:"timestamp",label:"Submitted",width:"8%",render:d=>h.jsx(Sp,{date:new Date(d.seconds*1e3),format:"full"})},{id:"status",label:"Status",width:"7%",render:d=>h.jsx(yv,{label:d,status:s(d)})},{id:"actions",label:"Actions",width:"15%",align:"center",render:(d,f)=>{const m=f.status==="pending",b=f.status==="approved"||f.status==="denied";return h.jsx(G1,{actions:[{icon:h.jsx(dj,{}),tooltip:m?"Approve Request":"Already processed",onClick:()=>t(f.id),disabled:!m,color:K.success,hoverColor:K.success+"20"},{icon:h.jsx(d1,{}),tooltip:m?"Deny Request":"Already processed",onClick:()=>r(f.id),disabled:!m,color:K.error,hoverColor:K.error+"20"},{icon:h.jsx(gu,{}),tooltip:b?"Delete Request":"Request must be approved or denied first",onClick:()=>i(f.id),disabled:!b,color:K.text.secondary,hoverColor:K.text.secondary+"20"}]})}}];return h.jsx(sh,{data:e,columns:u,loading:n,emptyMessage:"No course creation requests found.",stickyHeader:!1})},iZ=()=>{var L,$,Z,O;const[e,n]=X.useState([]),[t,r]=X.useState(!1),[i,a]=X.useState(""),[s,l]=X.useState("success"),[u,d]=X.useState(!1),[f,m]=X.useState(null),[b,g]=X.useState(null),[x,y]=X.useState(null),A=Xn();X.useEffect(()=>{(async()=>{try{const N=(await Ai(dn(A,"courseRequests"))).docs.map(G=>({id:G.id,...G.data()}));N.sort((G,H)=>{var U,se;const Q=((U=G.timestamp)==null?void 0:U.seconds)||0,oe=(((se=H.timestamp)==null?void 0:se.seconds)||0)-Q;return oe!==0?oe:G.status==="pending"&&H.status!=="pending"||G.status==="approved"&&H.status==="denied"?-1:G.status==="denied"&&H.status==="approved"?1:0}),n(N)}catch(F){console.error("Error fetching course requests: ",F)}})()},[A]);function w(){const j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let F="";for(let N=0;N<28;N++)F+=j.charAt(Math.floor(Math.random()*j.length));return F}const C=async()=>{var j,F,N,G;if(!(!b||!x)){try{const H=w(),Q={number:x.courseNumber,title:x.courseTitle,description:x.courseDescription,passcode:H,courseAdmin:[x.uid],createdAt:new Date,courseCreatedAt:new Date};if(x.syllabusImported&&((j=x.syllabusData)!=null&&j.additionalInfo)){const J=x.syllabusData.additionalInfo;Q.additionalInfo={contactInfo:J.contactInfo||{},policies:J.policies||{},additionalResources:J.additionalResources||{},labSpecific:J.labSpecific||{},textbooks:J.textbooks||[],gradingPolicy:J.gradingPolicy||[],assignments:J.assignments||[],prerequisites:J.prerequisites||[],lastUpdated:new Date}}x.syllabusImported&&((F=x.syllabusData)!=null&&F.syllabusFile)&&(Q.syllabusFile=x.syllabusData.syllabusFile);const te=await Si(dn(A,"courses"),Q),oe=fn(A,"users",x.uid),U=await ga(oe),se=U.exists()?((N=U.data())==null?void 0:N.classes)||{}:{};await Hr(oe,{classes:{...se,[te.id]:{number:x.courseNumber,title:x.courseTitle,isCourseAdmin:!0,courseCreatedAt:new Date,enrolledAt:new Date}}});let q=0;if(x.syllabusImported&&((G=x.syllabusData)!=null&&G.generatedMaterials)){const J=F6(A);x.syllabusData.generatedMaterials.forEach(ne=>{const le=fn(dn(A,"materials")),Se={title:ne.title||"Untitled Material",header:ne.header||{title:"",content:""},footer:ne.footer||{title:"",content:""},sections:(ne.sections||[]).map(xe=>({...xe,images:xe.images||[],links:xe.links||[],subsections:(xe.subsections||[]).map(ke=>({...ke,images:ke.images||[],links:ke.links||[],subSubsections:(ke.subSubsections||[]).map(De=>({...De,images:De.images||[],links:De.links||[]}))}))})),published:!0,course:te.id,author:x.uid,timestamp:Xi.now(),createdAt:new Date,updatedAt:new Date};ne.scheduledTimestamp&&(Se.scheduledTimestamp=Xi.fromDate(ne.scheduledTimestamp)),J.set(le,Se),q++}),await J.commit(),console.log(`Created ${q} materials from syllabus`)}await Hr(fn(A,"courseRequests",b),{status:"approved",courseId:te.id,passcode:H});const B={to:["andriy@intofuture.org"],message:{subject:"Your Course Request Has Been Approved",html:`
            <p>Your course request has been approved:</p>
            <p><strong>Course:</strong> ${x.courseNumber} - ${x.courseTitle}</p>
            <p><strong>Passcode:</strong> ${H}</p>
            ${x.syllabusImported&&q>0?`<p><strong>Materials Created:</strong> ${q} materials have been automatically added to your course from your syllabus import.</p>`:""}
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/supplemental-materials">
            Click here to view your course.
            </a></p>
          `}};await Si(dn(A,"mail"),B),a(`Course request approved, course added${q>0?` with ${q} materials`:""}.`),l("success"),n(J=>J.map(le=>le.id===b?{...le,status:"approved"}:le).sort((le,Se)=>{var Me,He;const xe=((Me=le.timestamp)==null?void 0:Me.seconds)||0,De=(((He=Se.timestamp)==null?void 0:He.seconds)||0)-xe;return De!==0?De:le.status==="pending"&&Se.status!=="pending"||le.status==="approved"&&Se.status==="denied"?-1:le.status==="denied"&&Se.status==="approved"?1:0}))}catch(H){console.error("Error approving request: ",H),a("Error approving the request. Please try again."),l("error")}r(!0),z()}},T=async()=>{if(b){try{await Hr(fn(A,"courseRequests",b),{status:"denied"}),a("Course request denied."),l("success"),n(j=>j.map(N=>N.id===b?{...N,status:"denied"}:N).sort((N,G)=>{var oe,U;const H=((oe=N.timestamp)==null?void 0:oe.seconds)||0,te=(((U=G.timestamp)==null?void 0:U.seconds)||0)-H;return te!==0?te:N.status==="pending"&&G.status!=="pending"||N.status==="approved"&&G.status==="denied"?-1:N.status==="denied"&&G.status==="approved"?1:0}))}catch(j){console.error("Error denying request: ",j),a("Error denying the request. Please try again."),l("error")}r(!0),z()}},M=async()=>{if(b){try{await $1(fn(A,"courseRequests",b)),a("Course request deleted successfully."),l("success"),n(j=>j.filter(N=>N.id!==b).sort((N,G)=>{var oe,U;const H=((oe=N.timestamp)==null?void 0:oe.seconds)||0,te=(((U=G.timestamp)==null?void 0:U.seconds)||0)-H;return te!==0?te:N.status==="pending"&&G.status!=="pending"||N.status==="approved"&&G.status==="denied"?-1:N.status==="denied"&&G.status==="approved"?1:0}))}catch(j){console.error("Error deleting request: ",j),a("Error deleting the request. Please try again."),l("error")}r(!0),z()}},R=(j,F,N)=>{m(j),g(F),y(N),d(!0)},z=()=>{d(!1),m(null),g(null),y(null)},_=()=>{r(!1)};return h.jsxs(de,{sx:{p:$e[6],backgroundColor:K.background.primary,minHeight:"100vh"},children:[h.jsx(Ao,{title:"Course Creation Requests"}),h.jsx(he,{variant:"body1",sx:{mb:$e[4],color:K.text.secondary,fontFamily:"Gabarito, sans-serif"},children:"Review and approve course creation requests from educators."}),h.jsx(rZ,{requests:e,loading:!1,onApprove:j=>{const F=e.find(N=>N.id===j);F&&R("approve",j,F)},onDeny:j=>{const F=e.find(N=>N.id===j);F&&R("deny",j,F)},onDelete:j=>{const F=e.find(N=>N.id===j);F&&R("delete",j,F)},onViewSyllabus:j=>{var F;(F=j.syllabusData)!=null&&F.syllabusFile&&typeof j.syllabusData.syllabusFile=="object"&&j.syllabusData.syllabusFile!==null&&"url"in j.syllabusData.syllabusFile&&window.open(j.syllabusData.syllabusFile.url,"_blank")}}),h.jsxs(Zi,{open:u,onClose:z,children:[h.jsx(pa,{children:f==="approve"?"Approve Course Request":f==="deny"?"Deny Course Request":"Delete Course Request"}),h.jsx(Ji,{children:h.jsx(Ll,{children:f==="approve"?h.jsxs(h.Fragment,{children:["Are you sure you want to approve this course request?",(x==null?void 0:x.syllabusImported)&&h.jsxs(de,{sx:{mt:2,p:2,backgroundColor:"#ECF4FE",borderRadius:1},children:[h.jsx(he,{variant:"body2",sx:{fontWeight:"bold"},children:" Syllabus Import Detected"}),h.jsxs(he,{variant:"body2",children:["This request includes ",(($=(L=x==null?void 0:x.syllabusData)==null?void 0:L.generatedMaterials)==null?void 0:$.length)||0," auto-generated materials that will be added to the course."]}),((Z=x==null?void 0:x.syllabusData)==null?void 0:Z.syllabusFile)&&h.jsxs(de,{sx:{mt:1},children:[h.jsxs(he,{variant:"body2",sx:{mb:1},children:[h.jsx("strong",{children:"Syllabus File:"})," ",x.syllabusData.syllabusFile.metadata.originalFilename," ","(",(x.syllabusData.syllabusFile.metadata.fileSize/1024/1024).toFixed(2)," MB)"]}),h.jsx(Ct,{size:"small",variant:"outlined",startIcon:h.jsx(c1,{}),onClick:()=>{var j;(j=x.syllabusData)!=null&&j.syllabusFile&&"url"in x.syllabusData.syllabusFile&&window.open(x.syllabusData.syllabusFile.url,"_blank")},sx:{mt:.5},children:"View/Download Syllabus"})]}),((O=x==null?void 0:x.syllabusData)==null?void 0:O.additionalInfo)&&h.jsxs(he,{variant:"body2",sx:{mt:1},children:[h.jsx("strong",{children:"Additional Info:"})," Contact info, policies, textbooks, and other course details extracted"]})]})]}):f==="deny"?"Are you sure you want to deny this course request?":"Are you sure you want to delete this course request? This action cannot be undone."})}),h.jsxs(ma,{children:[h.jsx(Ct,{onClick:z,color:"primary",children:"Cancel"}),h.jsx(Ct,{onClick:f==="approve"?C:f==="deny"?T:M,color:f==="approve"?"success":"error",variant:"contained",children:f==="approve"?"Approve":f==="deny"?"Deny":"Delete"})]})]}),h.jsx(Rl,{open:t,autoHideDuration:6e3,onClose:_,children:h.jsx(rr,{onClose:_,severity:s,sx:{width:"100%"},children:i})})]})},aZ=({courses:e,loading:n=!1,onAddSuperAdmin:t,onDeleteCourse:r,userUid:i})=>{const a=d=>!!i&&d.courseAdmin.includes(i),s=d=>d.length===0?h.jsx(Xa,{text:"No admins assigned",variant:"secondary"}):h.jsx(de,{sx:{display:"flex",flexDirection:"column",gap:$e[1]},children:d.map((f,m)=>h.jsx(oh,{userId:f,userType:"educator"},m))}),l=d=>{const f=d.courseCreatedAt||d.createdAt||d.timestamp;if(!f)return h.jsx(Xa,{text:"Unknown",variant:"secondary"});const m=f.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return h.jsx(Xa,{text:m})},u=[{id:"number",label:"Course",width:"30%",render:(d,f)=>{const m=a(f);return h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:$e[2]},children:[h.jsx(wp,{courseId:f.id,courseNumber:d,courseTitle:f.title,variant:"link",maxTitleLength:999}),m&&h.jsx(cr,{label:"ADMIN",size:"small",sx:{backgroundColor:K.success,color:K.text.inverse,fontSize:we.fontSize.xs,fontWeight:we.fontWeight.bold,height:"20px"}})]})}},{id:"id",label:"Course ID",width:"15%",render:d=>h.jsx(Gj,{courseId:d})},{id:"createdAt",label:"Created",width:"20%",render:(d,f)=>l(f)},{id:"courseAdmin",label:"Course Admins",width:"20%",render:d=>s(d)},{id:"actions",label:"Actions",width:"15%",align:"center",render:(d,f)=>{const m=a(f);return h.jsx(G1,{actions:[{icon:p1.add,tooltip:m?"Already an instructor":"Add yourself as an instructor",onClick:()=>t(f.id),disabled:m,color:K.success,hoverColor:K.success+"20"},{icon:p1.delete,tooltip:m?"Delete this course":"You are not authorized to delete this course",onClick:()=>r(f.id),disabled:!m,color:K.error,hoverColor:K.error+"20"}]})}}];return h.jsx(sh,{data:e,columns:u,loading:n,emptyMessage:"No courses found.",stickyHeader:!1,showRowNumbers:!0})},sZ=()=>{const e=Xn(),{userDetails:n}=Pi(),[t,r]=X.useState([]),[i,a]=X.useState(!0),[s,l]=X.useState(!1),[u,d]=X.useState(""),[f,m]=X.useState("info"),[b,g]=X.useState(!1),[x,y]=X.useState(""),[A,w]=X.useState("");ya(),X.useEffect(()=>{(async()=>{a(!0);try{const O=(await Ai(dn(e,"courses"))).docs.map(j=>{const F=j.data(),N=G=>{if(G){if(G instanceof Date)return G;if(G instanceof Xi)return G.toDate();if(G.seconds)return new Xi(G.seconds,G.nanoseconds||0).toDate()}};return{id:j.id,title:F.title||"Untitled",number:F.number||"N/A",courseAdmin:F.courseAdmin||[],createdAt:N(F.createdAt),courseCreatedAt:N(F.courseCreatedAt),timestamp:N(F.timestamp)}}).sort((j,F)=>{const N=j.courseCreatedAt||j.createdAt||j.timestamp,G=F.courseCreatedAt||F.createdAt||F.timestamp;return!N&&!G?0:N?G?G.getTime()-N.getTime():-1:1});r(O)}catch($){console.error("Error fetching courses: ",$)}finally{a(!1)}})()},[e]);const C=async L=>{if(!n){R("User details are not available.","error");return}const $=t.find(Z=>Z.id===L);if($&&n)try{if($.courseAdmin.includes(n.uid)){R("You are already an admin for this course.","warning");return}const Z=fn(e,"courses",L),O=[...$.courseAdmin,n.uid];await Hr(Z,{courseAdmin:O});const j=await ga(Z),F=j.exists()?j.data():null,N=(F==null?void 0:F.courseCreatedAt)||(F==null?void 0:F.createdAt)||(F==null?void 0:F.timestamp)||new Date,G=fn(e,"users",n.uid);await Hr(G,{[`classes.${L}`]:{number:$.number,title:$.title,isCourseAdmin:!0,courseCreatedAt:N,enrolledAt:new Date}}),r(t.map(H=>H.id===L?{...H,courseAdmin:O}:H)),R("You have been successfully added as an admin to this course.","success")}catch(Z){console.error("Error adding super-admin to course: ",Z),R("Failed to add admin to course.","error")}},T=L=>{w(L),g(!0)},M=async()=>{if(n&&x===n.uid){const L=t.find($=>$.id===A);if(L&&L.courseAdmin.includes(n.uid))try{await $1(fn(e,"courses",A));const $=await Ai(dn(e,"users")),Z=F6(e);$.forEach(O=>{const j=fn(e,"users",O.id),N={...O.data().classes};delete N[A],Z.update(j,{classes:N})}),await Z.commit(),r(t.filter(O=>O.id!==A)),R("Course deleted successfully.","success")}catch($){console.error("Error deleting course: ",$),R("Failed to delete course.","error")}finally{g(!1),y("")}else R("You are not authorized to delete this course.","warning"),g(!1)}else R("User ID does not match. Please try again.","error")},R=(L,$)=>{d(L),m($),l(!0)},z=(L,$)=>{$!=="clickaway"&&l(!1)},_=()=>{g(!1),y("")};return h.jsxs(de,{sx:{p:$e[6],backgroundColor:K.background.primary,minHeight:"100vh"},children:[h.jsx(Ao,{title:"Super Admin Course Management"}),h.jsx(he,{variant:"body1",sx:{mb:$e[4],color:K.text.secondary},children:"Manage all courses in the system. Add yourself as an instructor or delete courses you manage."}),h.jsx(aZ,{courses:t,loading:i,onAddSuperAdmin:C,onDeleteCourse:T,userUid:n==null?void 0:n.uid}),h.jsx(Rl,{open:s,autoHideDuration:6e3,onClose:z,children:h.jsx(rr,{onClose:z,severity:f,sx:{width:"100%"},children:u})}),h.jsxs(Zi,{open:b,onClose:_,children:[h.jsx(pa,{children:"Confirm Delete"}),h.jsxs(Ji,{children:[h.jsx(Ll,{children:"To confirm the deletion of this course, please enter your User ID:"}),h.jsx(Jt,{autoFocus:!0,margin:"dense",id:"userId",label:"User ID",type:"text",fullWidth:!0,variant:"outlined",value:x,onChange:L=>y(L.target.value)})]}),h.jsxs(ma,{children:[h.jsx(Ct,{onClick:_,color:"primary",children:"Cancel"}),h.jsx(Ct,{onClick:M,color:"primary",children:"Confirm"})]})]})]})},oZ=({requests:e,loading:n=!1})=>{const t=i=>{switch(i.toLowerCase()){case"approved":return"success";case"pending":return"warning";case"denied":return"error";default:return"default"}},r=[{id:"title",label:"Title",width:"25%",render:i=>h.jsx(Xa,{text:i,maxLength:50,weight:"semibold"})},{id:"courseNumber",label:"Course",width:"20%",render:(i,a)=>h.jsx(wp,{courseId:a.courseId||"",courseNumber:i,courseTitle:a.courseTitle,variant:"link",maxTitleLength:30})},{id:"materialTitle",label:"Material",width:"20%",render:(i,a)=>i&&a.materialId?h.jsx(Wj,{materialId:a.materialId,materialTitle:i,variant:"link",maxTitleLength:999}):h.jsx(Xa,{text:"N/A",variant:"secondary"})},{id:"timestamp",label:"Submitted",width:"15%",render:i=>h.jsx(Sp,{date:new Date(i),format:"full"})},{id:"status",label:"Status",width:"10%",render:i=>h.jsx(yv,{label:i,status:t(i)})},{id:"files",label:"Files",width:"10%",render:i=>h.jsxs(de,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[i&&i.length>0?i.slice(0,2).map((a,s)=>h.jsxs(q1,{href:a,target:"_blank",rel:"noopener noreferrer",sx:{fontSize:"0.75rem",color:K.primary[600],textDecoration:"none","&:hover":{textDecoration:"underline"}},children:["File ",s+1]},s)):h.jsx(Xa,{text:"No files",variant:"secondary"}),i&&i.length>2&&h.jsx(Xa,{text:`+${i.length-2} more`,variant:"secondary"})]})}];return h.jsx(sh,{data:e,columns:r,loading:n,emptyMessage:"No chatbot requests found. Submit your first request to get started!",stickyHeader:!0})},lZ=()=>{const{userDetails:e}=Pi(),[n,t]=X.useState([]),[r,i]=X.useState(!0);return X.useEffect(()=>{(async()=>{if(!(e!=null&&e.uid))return;const s=Xn(),l=dn(s,"chatbotRequests"),u=Il(l,Li("educatorId","==",e.uid));try{const f=(await Ai(u)).docs.map(m=>({id:m.id,...m.data()}));t(f)}catch(d){console.error("Error fetching chatbot requests:",d)}finally{i(!1)}})()},[e==null?void 0:e.uid]),r?h.jsx(de,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:h.jsx(Zr,{})}):n.length===0?h.jsx(he,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):h.jsxs(de,{sx:{mt:$e[6]},children:[h.jsx(he,{variant:"h5",sx:{mb:$e[4],fontFamily:we.fontFamily.display,fontWeight:we.fontWeight.bold,color:K.primary[500]},children:"Your Chatbot Requests"}),h.jsx(oZ,{requests:n,loading:r})]})},uZ=()=>{const e=ya();return h.jsxs(de,{className:"profile-container",sx:{p:4},children:[h.jsx(Ao,{title:"Chatbot Management"}),h.jsx(he,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Manage your chatbots or create new chatbot requests."}),h.jsx(Ct,{variant:"contained",onClick:()=>e("/request-chatbot"),sx:{mt:2},className:"submit-button",children:"Request a New Chatbot"}),h.jsx(lZ,{})]})},cZ=({folderPath:e,onUploadComplete:n})=>{const[t,r]=X.useState(!1),[i,a]=X.useState([]),[s,l]=X.useState(null),u=5*1024*1024,d=[".pdf",".ppt",".pptx",".doc",".docx",".txt"],f=async m=>{if(!m.target.files)return;const b=Array.from(m.target.files),g=xp(),x=[];r(!0),l(null);try{for(const y of b){const A=y.name.slice(y.name.lastIndexOf(".")).toLowerCase();if(!d.includes(A)){l(`File ${y.name} is not a supported format.`);continue}if(y.size>u){l(`File ${y.name} exceeds the 5 MB limit and cannot be uploaded.`);continue}const w=xc(g,`${e}/files/${y.name}`);await Hf(w,y);const C=await Wf(w);x.push(C)}a(y=>[...y,...b]),n(x)}catch(y){console.error("Error uploading files:",y),l("Failed to upload files. Please try again.")}finally{r(!1)}};return h.jsxs(de,{children:[h.jsx("input",{type:"file",accept:".pdf,.ppt,.pptx,.doc,.docx,.txt",multiple:!0,onChange:f,style:{display:"none"},id:"file-upload"}),h.jsx("label",{htmlFor:"file-upload",children:h.jsx(Ct,{variant:"contained",component:"span",disabled:t,startIcon:t?h.jsx(Zr,{size:20}):null,children:t?"Uploading...":"Select and Upload Files"})}),s&&h.jsx(rr,{severity:"error",sx:{mt:2},children:s}),h.jsx(de,{sx:{marginTop:2},children:i.map((m,b)=>h.jsx(he,{children:m.name},b))})]})},dZ=vp()(Q1((e,n)=>({materials:[],selectedCourse:null,loading:!1,error:null,isEditing:!1,selectedMaterial:null,setMaterials:t=>e({materials:t}),addMaterial:t=>e(r=>({materials:[...r.materials,t]})),updateMaterial:(t,r)=>e(i=>({materials:i.materials.map(a=>a.id===t?{...a,...r}:a)})),deleteMaterial:t=>e(r=>({materials:r.materials.filter(i=>i.id!==t)})),setSelectedCourse:t=>e({selectedCourse:t}),setLoading:t=>e({loading:t}),setError:t=>e({error:t}),setIsEditing:t=>e({isEditing:t}),setSelectedMaterial:t=>e({selectedMaterial:t}),fetchMaterials:async t=>{e({loading:!0,error:null});try{const{db:r}=await wi(async()=>{const{db:f}=await Promise.resolve().then(()=>Jh);return{db:f}},void 0),{collection:i,query:a,where:s,onSnapshot:l,orderBy:u}=await wi(async()=>{const{collection:f,query:m,where:b,onSnapshot:g,orderBy:x}=await import("./firebase-CTJJwFJC.js").then(y=>y.B);return{collection:f,query:m,where:b,onSnapshot:g,orderBy:x}},[]),d=a(i(r,"materials"),s("course","==",t),u("timestamp","desc"));return new Promise(f=>{l(d,m=>{const b=m.docs.map(g=>({id:g.id,...g.data()}));e({materials:b,loading:!1}),f(void 0)})})}catch(r){e({error:r instanceof Error?r.message:"Failed to fetch materials",loading:!1})}},publishMaterial:async t=>{try{const{db:r}=await wi(async()=>{const{db:s}=await Promise.resolve().then(()=>Jh);return{db:s}},void 0),{doc:i,updateDoc:a}=await wi(async()=>{const{doc:s,updateDoc:l}=await import("./firebase-CTJJwFJC.js").then(u=>u.B);return{doc:s,updateDoc:l}},[]);await a(i(r,"materials",t),{published:!0}),n().updateMaterial(t,{published:!0})}catch{e({error:"Failed to publish material"})}},unpublishMaterial:async t=>{try{const{db:r}=await wi(async()=>{const{db:s}=await Promise.resolve().then(()=>Jh);return{db:s}},void 0),{doc:i,updateDoc:a}=await wi(async()=>{const{doc:s,updateDoc:l}=await import("./firebase-CTJJwFJC.js").then(u=>u.B);return{doc:s,updateDoc:l}},[]);await a(i(r,"materials",t),{published:!1}),n().updateMaterial(t,{published:!1})}catch{e({error:"Failed to unpublish material"})}}}))),fZ=()=>{const{userDetails:e}=Pi(),n=ya(),t=Xn(),[r,i]=X.useState(""),[a,s]=X.useState(""),[l,u]=X.useState(""),[d,f]=X.useState([]),[m,b]=X.useState(!1),[g,x]=X.useState(""),[y,A]=X.useState("success"),{materials:w,loading:C,error:T,fetchMaterials:M}=dZ(),R=Object.entries((e==null?void 0:e.classes)||{}).filter(([Z,O])=>O.isCourseAdmin).map(([Z,O])=>({id:Z,number:O.number,title:O.title,isCourseAdmin:O.isCourseAdmin}));X.useEffect(()=>{u(""),a&&M(a)},[a,M]);const z=Z=>{f(O=>[...O,...Z])},_=async()=>{var G;if(!r||!a||!l||d.length===0){x("Please fill all required fields and upload at least one file."),A("error"),b(!0);return}const Z=(G=e==null?void 0:e.classes)==null?void 0:G[a];if(!Z||!Z.isCourseAdmin){x("You are not authorized to request a chatbot for this course."),A("error"),b(!0);return}const O=(Z==null?void 0:Z.number)??"N/A",j=(Z==null?void 0:Z.title)??"Untitled Course",F=w.find(H=>H.id===l);if(!F){x("Selected material details could not be found."),A("error"),b(!0);return}const{title:N}=F;try{const H=await Si(dn(t,"chatbotRequests"),{educatorId:e==null?void 0:e.uid,courseId:a,courseNumber:O,courseTitle:j,materialId:l,materialTitle:N,title:r,files:d,status:"pending",timestamp:new Date().toISOString()});await Si(dn(t,"mail"),{to:["andriy@intofuture.org"],message:{subject:"New Chatbot Request Submitted",html:`
            <p>A new chatbot request has been submitted:</p>
            <p><strong>Title:</strong> ${r}</p>
            <p><strong>Educator ID:</strong> ${e==null?void 0:e.uid}</p>
            <p><strong>Course:</strong> ${O} - ${j}</p>
            <p><strong>Material:</strong> ${N}</p>
            <p><strong>Request ID:</strong> ${H.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/super-admin-chatbot-requests">
            Click here to review the request.
            </a></p>
          `}}),x("Chatbot request submitted successfully!"),A("success"),b(!0),setTimeout(()=>n("/chatbot-management"),1500)}catch(H){console.error("Error submitting chatbot request:",H),x("Failed to submit the chatbot request. Please try again."),A("error"),b(!0)}},L=()=>{n("/chatbot-management")},$=()=>{b(!1)};return h.jsxs($6,{title:"Create a Chatbot",subtitle:"Fill out the form below to request a chatbot. Please upload all related materials for the chatbot's knowledge base.",children:[h.jsxs(Yf,{title:"Basic Information",description:"Provide the basic details for your chatbot request.",children:[h.jsx(hu,{label:"Chatbot Title",value:r,onChange:Z=>i(Z.target.value),required:!0,placeholder:"Enter a descriptive title for your chatbot",helperText:"Choose a clear, descriptive name that reflects the chatbot's purpose"}),h.jsxs(wt,{container:!0,spacing:3,children:[h.jsx(wt,{item:!0,xs:12,md:6,children:h.jsx(pm,{value:a,onChange:s,courses:R,label:"Course",placeholder:"Select a course",helperText:"Only courses where you are an admin are available for chatbot requests.",required:!0,showNumber:!0,showTitle:!0,showAdminBadge:!1})}),h.jsx(wt,{item:!0,xs:12,md:6,children:h.jsx(KM,{value:l,onChange:u,materials:w.map(Z=>({id:Z.id,title:Z.title,course:Z.course})),label:"Material",placeholder:"Select a material",helperText:a?T||(C?"Loading materials...":w.length===0?"No materials available for this course.":"Select the primary material for your chatbot"):"Please select a course first.",required:!0,disabled:!a||C,loading:C,error:!!T})})]})]}),h.jsx(Yf,{title:"Additional Materials",description:"Upload additional files to enhance your chatbot's knowledge base. Supported formats: PDF, PPT, DOC/DOCX, TXT.",showDivider:!0,children:h.jsx(cZ,{folderPath:`chatbotRequests/${e==null?void 0:e.uid}`,onUploadComplete:z})}),h.jsxs(U6,{align:"space-between",children:[h.jsx(em,{variant:"text",onClick:L,children:"Cancel"}),h.jsx(em,{variant:"primary",onClick:_,disabled:!r||!a||!l||d.length===0,children:"Submit"})]}),h.jsx(Rl,{open:m,autoHideDuration:6e3,onClose:$,children:h.jsx(rr,{severity:y,onClose:$,children:g})})]})},hZ=({conversations:e,loading:n=!1,onViewHistory:t,onDeleteConversation:r,loadingMap:i})=>{const a=[{id:"id",label:"Conversation ID",width:"25%",render:s=>h.jsx(XM,{conversationId:s})},{id:"userId",label:"User ID",width:"25%",render:s=>h.jsx(oh,{userId:s,userType:"student"})},{id:"chatbotId",label:"Chatbot ID",width:"25%",render:s=>h.jsx(Vj,{chatbotId:s})},{id:"startedAt",label:"Started At",width:"15%",render:s=>h.jsx(Sp,{date:new Date(s),format:"full"})},{id:"actions",label:"Actions",width:"10%",align:"center",render:(s,l)=>{const u=i[l.id];return h.jsx(G1,{actions:[{icon:p1.view,tooltip:u?"Loading...":"View Conversation History",onClick:()=>t(l.chatbotId,l.id,{userId:l.userId,startedAt:l.startedAt}),disabled:u,color:K.primary[600],hoverColor:K.primary[100]},{icon:p1.delete,tooltip:u?"Loading...":"Delete Conversation",onClick:()=>r(l.id),disabled:u,color:K.error,hoverColor:K.error+"20"}]})}}];return h.jsx(sh,{data:e,columns:a,loading:n,emptyMessage:"No conversations available to display.",stickyHeader:!1,showRowNumbers:!0})};function RI(e,n){return function(){return e.apply(n,arguments)}}const{toString:pZ}=Object.prototype,{getPrototypeOf:NA}=Object,{iterator:qv,toStringTag:MI}=Symbol,Bv=(e=>n=>{const t=pZ.call(n);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Nu=e=>(e=e.toLowerCase(),n=>Bv(n)===e),$v=e=>n=>typeof n===e,{isArray:bm}=Array,N1=$v("undefined");function mZ(e){return e!==null&&!N1(e)&&e.constructor!==null&&!N1(e.constructor)&&bo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const FI=Nu("ArrayBuffer");function gZ(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&FI(e.buffer),n}const bZ=$v("string"),bo=$v("function"),PI=$v("number"),Uv=e=>e!==null&&typeof e=="object",yZ=e=>e===!0||e===!1,px=e=>{if(Bv(e)!=="object")return!1;const n=NA(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(MI in e)&&!(qv in e)},xZ=Nu("Date"),vZ=Nu("File"),wZ=Nu("Blob"),SZ=Nu("FileList"),AZ=e=>Uv(e)&&bo(e.pipe),CZ=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||bo(e.append)&&((n=Bv(e))==="formdata"||n==="object"&&bo(e.toString)&&e.toString()==="[object FormData]"))},EZ=Nu("URLSearchParams"),[kZ,_Z,NZ,TZ]=["ReadableStream","Request","Response","Headers"].map(Nu),jZ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sb(e,n,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),bm(e))for(r=0,i=e.length;r<i;r++)n.call(null,e[r],r,e);else{const a=t?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let l;for(r=0;r<s;r++)l=a[r],n.call(null,e[l],l,e)}}function zI(e,n){n=n.toLowerCase();const t=Object.keys(e);let r=t.length,i;for(;r-- >0;)if(i=t[r],n===i.toLowerCase())return i;return null}const Qh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,qI=e=>!N1(e)&&e!==Qh;function KS(){const{caseless:e}=qI(this)&&this||{},n={},t=(r,i)=>{const a=e&&zI(n,i)||i;px(n[a])&&px(r)?n[a]=KS(n[a],r):px(r)?n[a]=KS({},r):bm(r)?n[a]=r.slice():n[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&sb(arguments[r],t);return n}const OZ=(e,n,t,{allOwnKeys:r}={})=>(sb(n,(i,a)=>{t&&bo(i)?e[a]=RI(i,t):e[a]=i},{allOwnKeys:r}),e),IZ=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),DZ=(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},LZ=(e,n,t,r)=>{let i,a,s;const l={};if(n=n||{},e==null)return n;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!r||r(s,e,n))&&!l[s]&&(n[s]=e[s],l[s]=!0);e=t!==!1&&NA(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},RZ=(e,n,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return r!==-1&&r===t},MZ=e=>{if(!e)return null;if(bm(e))return e;let n=e.length;if(!PI(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},FZ=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&NA(Uint8Array)),PZ=(e,n)=>{const r=(e&&e[qv]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;n.call(e,a[0],a[1])}},zZ=(e,n)=>{let t;const r=[];for(;(t=e.exec(n))!==null;)r.push(t);return r},qZ=Nu("HTMLFormElement"),BZ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),C4=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),$Z=Nu("RegExp"),BI=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};sb(t,(i,a)=>{let s;(s=n(i,a,e))!==!1&&(r[a]=s||i)}),Object.defineProperties(e,r)},UZ=e=>{BI(e,(n,t)=>{if(bo(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=e[t];if(bo(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},HZ=(e,n)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return bm(e)?r(e):r(String(e).split(n)),t},WZ=()=>{},YZ=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function VZ(e){return!!(e&&bo(e.append)&&e[MI]==="FormData"&&e[qv])}const GZ=e=>{const n=new Array(10),t=(r,i)=>{if(Uv(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[i]=r;const a=bm(r)?[]:{};return sb(r,(s,l)=>{const u=t(s,i+1);!N1(u)&&(a[l]=u)}),n[i]=void 0,a}}return r};return t(e,0)},QZ=Nu("AsyncFunction"),KZ=e=>e&&(Uv(e)||bo(e))&&bo(e.then)&&bo(e.catch),$I=((e,n)=>e?setImmediate:n?((t,r)=>(Qh.addEventListener("message",({source:i,data:a})=>{i===Qh&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Qh.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",bo(Qh.postMessage)),XZ=typeof queueMicrotask<"u"?queueMicrotask.bind(Qh):typeof process<"u"&&process.nextTick||$I,ZZ=e=>e!=null&&bo(e[qv]),ot={isArray:bm,isArrayBuffer:FI,isBuffer:mZ,isFormData:CZ,isArrayBufferView:gZ,isString:bZ,isNumber:PI,isBoolean:yZ,isObject:Uv,isPlainObject:px,isReadableStream:kZ,isRequest:_Z,isResponse:NZ,isHeaders:TZ,isUndefined:N1,isDate:xZ,isFile:vZ,isBlob:wZ,isRegExp:$Z,isFunction:bo,isStream:AZ,isURLSearchParams:EZ,isTypedArray:FZ,isFileList:SZ,forEach:sb,merge:KS,extend:OZ,trim:jZ,stripBOM:IZ,inherits:DZ,toFlatObject:LZ,kindOf:Bv,kindOfTest:Nu,endsWith:RZ,toArray:MZ,forEachEntry:PZ,matchAll:zZ,isHTMLForm:qZ,hasOwnProperty:C4,hasOwnProp:C4,reduceDescriptors:BI,freezeMethods:UZ,toObjectSet:HZ,toCamelCase:BZ,noop:WZ,toFiniteNumber:YZ,findKey:zI,global:Qh,isContextDefined:qI,isSpecCompliantForm:VZ,toJSONObject:GZ,isAsyncFn:QZ,isThenable:KZ,setImmediate:$I,asap:XZ,isIterable:ZZ};function Nn(e,n,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ot.inherits(Nn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ot.toJSONObject(this.config),code:this.code,status:this.status}}});const UI=Nn.prototype,HI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{HI[e]={value:e}});Object.defineProperties(Nn,HI);Object.defineProperty(UI,"isAxiosError",{value:!0});Nn.from=(e,n,t,r,i,a)=>{const s=Object.create(UI);return ot.toFlatObject(e,s,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),Nn.call(s,e.message,n,t,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const JZ=null;function XS(e){return ot.isPlainObject(e)||ot.isArray(e)}function WI(e){return ot.endsWith(e,"[]")?e.slice(0,-2):e}function E4(e,n,t){return e?e.concat(n).map(function(i,a){return i=WI(i),!t&&a?"["+i+"]":i}).join(t?".":""):n}function eJ(e){return ot.isArray(e)&&!e.some(XS)}const tJ=ot.toFlatObject(ot,{},null,function(n){return/^is[A-Z]/.test(n)});function Hv(e,n,t){if(!ot.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,t=ot.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,A){return!ot.isUndefined(A[y])});const r=t.metaTokens,i=t.visitor||f,a=t.dots,s=t.indexes,u=(t.Blob||typeof Blob<"u"&&Blob)&&ot.isSpecCompliantForm(n);if(!ot.isFunction(i))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(ot.isDate(x))return x.toISOString();if(ot.isBoolean(x))return x.toString();if(!u&&ot.isBlob(x))throw new Nn("Blob is not supported. Use a Buffer instead.");return ot.isArrayBuffer(x)||ot.isTypedArray(x)?u&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function f(x,y,A){let w=x;if(x&&!A&&typeof x=="object"){if(ot.endsWith(y,"{}"))y=r?y:y.slice(0,-2),x=JSON.stringify(x);else if(ot.isArray(x)&&eJ(x)||(ot.isFileList(x)||ot.endsWith(y,"[]"))&&(w=ot.toArray(x)))return y=WI(y),w.forEach(function(T,M){!(ot.isUndefined(T)||T===null)&&n.append(s===!0?E4([y],M,a):s===null?y:y+"[]",d(T))}),!1}return XS(x)?!0:(n.append(E4(A,y,a),d(x)),!1)}const m=[],b=Object.assign(tJ,{defaultVisitor:f,convertValue:d,isVisitable:XS});function g(x,y){if(!ot.isUndefined(x)){if(m.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));m.push(x),ot.forEach(x,function(w,C){(!(ot.isUndefined(w)||w===null)&&i.call(n,w,ot.isString(C)?C.trim():C,y,b))===!0&&g(w,y?y.concat(C):[C])}),m.pop()}}if(!ot.isObject(e))throw new TypeError("data must be an object");return g(e),n}function k4(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function TA(e,n){this._pairs=[],e&&Hv(e,this,n)}const YI=TA.prototype;YI.append=function(n,t){this._pairs.push([n,t])};YI.toString=function(n){const t=n?function(r){return n.call(this,r,k4)}:k4;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function nJ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function VI(e,n,t){if(!n)return e;const r=t&&t.encode||nJ;ot.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(n,t):a=ot.isURLSearchParams(n)?n.toString():new TA(n,t).toString(r),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class _4{constructor(){this.handlers=[]}use(n,t,r){return this.handlers.push({fulfilled:n,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ot.forEach(this.handlers,function(r){r!==null&&n(r)})}}const GI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rJ=typeof URLSearchParams<"u"?URLSearchParams:TA,iJ=typeof FormData<"u"?FormData:null,aJ=typeof Blob<"u"?Blob:null,sJ={isBrowser:!0,classes:{URLSearchParams:rJ,FormData:iJ,Blob:aJ},protocols:["http","https","file","blob","url","data"]},jA=typeof window<"u"&&typeof document<"u",ZS=typeof navigator=="object"&&navigator||void 0,oJ=jA&&(!ZS||["ReactNative","NativeScript","NS"].indexOf(ZS.product)<0),lJ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",uJ=jA&&window.location.href||"http://localhost",cJ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jA,hasStandardBrowserEnv:oJ,hasStandardBrowserWebWorkerEnv:lJ,navigator:ZS,origin:uJ},Symbol.toStringTag,{value:"Module"})),Ps={...cJ,...sJ};function dJ(e,n){return Hv(e,new Ps.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,a){return Ps.isNode&&ot.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},n))}function fJ(e){return ot.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function hJ(e){const n={},t=Object.keys(e);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],n[a]=e[a];return n}function QI(e){function n(t,r,i,a){let s=t[a++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),u=a>=t.length;return s=!s&&ot.isArray(i)?i.length:s,u?(ot.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!ot.isObject(i[s]))&&(i[s]=[]),n(t,r,i[s],a)&&ot.isArray(i[s])&&(i[s]=hJ(i[s])),!l)}if(ot.isFormData(e)&&ot.isFunction(e.entries)){const t={};return ot.forEachEntry(e,(r,i)=>{n(fJ(r),i,t,0)}),t}return null}function pJ(e,n,t){if(ot.isString(e))try{return(n||JSON.parse)(e),ot.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(e)}const ob={transitional:GI,adapter:["xhr","http","fetch"],transformRequest:[function(n,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=ot.isObject(n);if(a&&ot.isHTMLForm(n)&&(n=new FormData(n)),ot.isFormData(n))return i?JSON.stringify(QI(n)):n;if(ot.isArrayBuffer(n)||ot.isBuffer(n)||ot.isStream(n)||ot.isFile(n)||ot.isBlob(n)||ot.isReadableStream(n))return n;if(ot.isArrayBufferView(n))return n.buffer;if(ot.isURLSearchParams(n))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return dJ(n,this.formSerializer).toString();if((l=ot.isFileList(n))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Hv(l?{"files[]":n}:n,u&&new u,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),pJ(n)):n}],transformResponse:[function(n){const t=this.transitional||ob.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(ot.isResponse(n)||ot.isReadableStream(n))return n;if(n&&ot.isString(n)&&(r&&!this.responseType||i)){const s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(n)}catch(l){if(s)throw l.name==="SyntaxError"?Nn.from(l,Nn.ERR_BAD_RESPONSE,this,null,this.response):l}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ps.classes.FormData,Blob:Ps.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ot.forEach(["delete","get","head","post","put","patch"],e=>{ob.headers[e]={}});const mJ=ot.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gJ=e=>{const n={};let t,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),t=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!t||n[t]&&mJ[t])&&(t==="set-cookie"?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n},N4=Symbol("internals");function Og(e){return e&&String(e).trim().toLowerCase()}function mx(e){return e===!1||e==null?e:ot.isArray(e)?e.map(mx):String(e)}function bJ(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}const yJ=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Aw(e,n,t,r,i){if(ot.isFunction(r))return r.call(this,n,t);if(i&&(n=t),!!ot.isString(n)){if(ot.isString(r))return n.indexOf(r)!==-1;if(ot.isRegExp(r))return r.test(n)}}function xJ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,r)=>t.toUpperCase()+r)}function vJ(e,n){const t=ot.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(i,a,s){return this[r].call(this,n,i,a,s)},configurable:!0})})}let yo=class{constructor(n){n&&this.set(n)}set(n,t,r){const i=this;function a(l,u,d){const f=Og(u);if(!f)throw new Error("header name must be a non-empty string");const m=ot.findKey(i,f);(!m||i[m]===void 0||d===!0||d===void 0&&i[m]!==!1)&&(i[m||u]=mx(l))}const s=(l,u)=>ot.forEach(l,(d,f)=>a(d,f,u));if(ot.isPlainObject(n)||n instanceof this.constructor)s(n,t);else if(ot.isString(n)&&(n=n.trim())&&!yJ(n))s(gJ(n),t);else if(ot.isObject(n)&&ot.isIterable(n)){let l={},u,d;for(const f of n){if(!ot.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[d=f[0]]=(u=l[d])?ot.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}s(l,t)}else n!=null&&a(t,n,r);return this}get(n,t){if(n=Og(n),n){const r=ot.findKey(this,n);if(r){const i=this[r];if(!t)return i;if(t===!0)return bJ(i);if(ot.isFunction(t))return t.call(this,i,r);if(ot.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=Og(n),n){const r=ot.findKey(this,n);return!!(r&&this[r]!==void 0&&(!t||Aw(this,this[r],r,t)))}return!1}delete(n,t){const r=this;let i=!1;function a(s){if(s=Og(s),s){const l=ot.findKey(r,s);l&&(!t||Aw(r,r[l],l,t))&&(delete r[l],i=!0)}}return ot.isArray(n)?n.forEach(a):a(n),i}clear(n){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!n||Aw(this,this[a],a,n,!0))&&(delete this[a],i=!0)}return i}normalize(n){const t=this,r={};return ot.forEach(this,(i,a)=>{const s=ot.findKey(r,a);if(s){t[s]=mx(i),delete t[a];return}const l=n?xJ(a):String(a).trim();l!==a&&delete t[a],t[l]=mx(i),r[l]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return ot.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=n&&ot.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const r=new this(n);return t.forEach(i=>r.set(i)),r}static accessor(n){const r=(this[N4]=this[N4]={accessors:{}}).accessors,i=this.prototype;function a(s){const l=Og(s);r[l]||(vJ(i,s),r[l]=!0)}return ot.isArray(n)?n.forEach(a):a(n),this}};yo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ot.reduceDescriptors(yo.prototype,({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[t]=r}}});ot.freezeMethods(yo);function Cw(e,n){const t=this||ob,r=n||t,i=yo.from(r.headers);let a=r.data;return ot.forEach(e,function(l){a=l.call(t,a,i.normalize(),n?n.status:void 0)}),i.normalize(),a}function KI(e){return!!(e&&e.__CANCEL__)}function ym(e,n,t){Nn.call(this,e??"canceled",Nn.ERR_CANCELED,n,t),this.name="CanceledError"}ot.inherits(ym,Nn,{__CANCEL__:!0});function XI(e,n,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?e(t):n(new Nn("Request failed with status code "+t.status,[Nn.ERR_BAD_REQUEST,Nn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function wJ(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function SJ(e,n){e=e||10;const t=new Array(e),r=new Array(e);let i=0,a=0,s;return n=n!==void 0?n:1e3,function(u){const d=Date.now(),f=r[a];s||(s=d),t[i]=u,r[i]=d;let m=a,b=0;for(;m!==i;)b+=t[m++],m=m%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),d-s<n)return;const g=f&&d-f;return g?Math.round(b*1e3/g):void 0}}function AJ(e,n){let t=0,r=1e3/n,i,a;const s=(d,f=Date.now())=>{t=f,i=null,a&&(clearTimeout(a),a=null),e.apply(null,d)};return[(...d)=>{const f=Date.now(),m=f-t;m>=r?s(d,f):(i=d,a||(a=setTimeout(()=>{a=null,s(i)},r-m)))},()=>i&&s(i)]}const tv=(e,n,t=3)=>{let r=0;const i=SJ(50,250);return AJ(a=>{const s=a.loaded,l=a.lengthComputable?a.total:void 0,u=s-r,d=i(u),f=s<=l;r=s;const m={loaded:s,total:l,progress:l?s/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&f?(l-s)/d:void 0,event:a,lengthComputable:l!=null,[n?"download":"upload"]:!0};e(m)},t)},T4=(e,n)=>{const t=e!=null;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},j4=e=>(...n)=>ot.asap(()=>e(...n)),CJ=Ps.hasStandardBrowserEnv?((e,n)=>t=>(t=new URL(t,Ps.origin),e.protocol===t.protocol&&e.host===t.host&&(n||e.port===t.port)))(new URL(Ps.origin),Ps.navigator&&/(msie|trident)/i.test(Ps.navigator.userAgent)):()=>!0,EJ=Ps.hasStandardBrowserEnv?{write(e,n,t,r,i,a){const s=[e+"="+encodeURIComponent(n)];ot.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),ot.isString(r)&&s.push("path="+r),ot.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function kJ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function _J(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function ZI(e,n,t){let r=!kJ(n);return e&&(r||t==!1)?_J(e,n):n}const O4=e=>e instanceof yo?{...e}:e;function gp(e,n){n=n||{};const t={};function r(d,f,m,b){return ot.isPlainObject(d)&&ot.isPlainObject(f)?ot.merge.call({caseless:b},d,f):ot.isPlainObject(f)?ot.merge({},f):ot.isArray(f)?f.slice():f}function i(d,f,m,b){if(ot.isUndefined(f)){if(!ot.isUndefined(d))return r(void 0,d,m,b)}else return r(d,f,m,b)}function a(d,f){if(!ot.isUndefined(f))return r(void 0,f)}function s(d,f){if(ot.isUndefined(f)){if(!ot.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function l(d,f,m){if(m in n)return r(d,f);if(m in e)return r(void 0,d)}const u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(d,f,m)=>i(O4(d),O4(f),m,!0)};return ot.forEach(Object.keys(Object.assign({},e,n)),function(f){const m=u[f]||i,b=m(e[f],n[f],f);ot.isUndefined(b)&&m!==l||(t[f]=b)}),t}const JI=e=>{const n=gp({},e);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=n;n.headers=s=yo.from(s),n.url=VI(ZI(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(ot.isFormData(t)){if(Ps.hasStandardBrowserEnv||Ps.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((u=s.getContentType())!==!1){const[d,...f]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];s.setContentType([d||"multipart/form-data",...f].join("; "))}}if(Ps.hasStandardBrowserEnv&&(r&&ot.isFunction(r)&&(r=r(n)),r||r!==!1&&CJ(n.url))){const d=i&&a&&EJ.read(a);d&&s.set(i,d)}return n},NJ=typeof XMLHttpRequest<"u",TJ=NJ&&function(e){return new Promise(function(t,r){const i=JI(e);let a=i.data;const s=yo.from(i.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=i,f,m,b,g,x;function y(){g&&g(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let A=new XMLHttpRequest;A.open(i.method.toUpperCase(),i.url,!0),A.timeout=i.timeout;function w(){if(!A)return;const T=yo.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),R={data:!l||l==="text"||l==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:T,config:e,request:A};XI(function(_){t(_),y()},function(_){r(_),y()},R),A=null}"onloadend"in A?A.onloadend=w:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(w)},A.onabort=function(){A&&(r(new Nn("Request aborted",Nn.ECONNABORTED,e,A)),A=null)},A.onerror=function(){r(new Nn("Network Error",Nn.ERR_NETWORK,e,A)),A=null},A.ontimeout=function(){let M=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const R=i.transitional||GI;i.timeoutErrorMessage&&(M=i.timeoutErrorMessage),r(new Nn(M,R.clarifyTimeoutError?Nn.ETIMEDOUT:Nn.ECONNABORTED,e,A)),A=null},a===void 0&&s.setContentType(null),"setRequestHeader"in A&&ot.forEach(s.toJSON(),function(M,R){A.setRequestHeader(R,M)}),ot.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),l&&l!=="json"&&(A.responseType=i.responseType),d&&([b,x]=tv(d,!0),A.addEventListener("progress",b)),u&&A.upload&&([m,g]=tv(u),A.upload.addEventListener("progress",m),A.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(f=T=>{A&&(r(!T||T.type?new ym(null,e,A):T),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const C=wJ(i.url);if(C&&Ps.protocols.indexOf(C)===-1){r(new Nn("Unsupported protocol "+C+":",Nn.ERR_BAD_REQUEST,e));return}A.send(a||null)})},jJ=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let r=new AbortController,i;const a=function(d){if(!i){i=!0,l();const f=d instanceof Error?d:this.reason;r.abort(f instanceof Nn?f:new ym(f instanceof Error?f.message:f))}};let s=n&&setTimeout(()=>{s=null,a(new Nn(`timeout ${n} of ms exceeded`,Nn.ETIMEDOUT))},n);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:u}=r;return u.unsubscribe=()=>ot.asap(l),u}},OJ=function*(e,n){let t=e.byteLength;if(t<n){yield e;return}let r=0,i;for(;r<t;)i=r+n,yield e.slice(r,i),r=i},IJ=async function*(e,n){for await(const t of DJ(e))yield*OJ(t,n)},DJ=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:t,value:r}=await n.read();if(t)break;yield r}}finally{await n.cancel()}},I4=(e,n,t,r)=>{const i=IJ(e,n);let a=0,s,l=u=>{s||(s=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:d,value:f}=await i.next();if(d){l(),u.close();return}let m=f.byteLength;if(t){let b=a+=m;t(b)}u.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},Wv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",eD=Wv&&typeof ReadableStream=="function",LJ=Wv&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),tD=(e,...n)=>{try{return!!e(...n)}catch{return!1}},RJ=eD&&tD(()=>{let e=!1;const n=new Request(Ps.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),D4=64*1024,JS=eD&&tD(()=>ot.isReadableStream(new Response("").body)),nv={stream:JS&&(e=>e.body)};Wv&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!nv[n]&&(nv[n]=ot.isFunction(e[n])?t=>t[n]():(t,r)=>{throw new Nn(`Response type '${n}' is not supported`,Nn.ERR_NOT_SUPPORT,r)})})})(new Response);const MJ=async e=>{if(e==null)return 0;if(ot.isBlob(e))return e.size;if(ot.isSpecCompliantForm(e))return(await new Request(Ps.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ot.isArrayBufferView(e)||ot.isArrayBuffer(e))return e.byteLength;if(ot.isURLSearchParams(e)&&(e=e+""),ot.isString(e))return(await LJ(e)).byteLength},FJ=async(e,n)=>{const t=ot.toFiniteNumber(e.getContentLength());return t??MJ(n)},PJ=Wv&&(async e=>{let{url:n,method:t,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:l,onUploadProgress:u,responseType:d,headers:f,withCredentials:m="same-origin",fetchOptions:b}=JI(e);d=d?(d+"").toLowerCase():"text";let g=jJ([i,a&&a.toAbortSignal()],s),x;const y=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let A;try{if(u&&RJ&&t!=="get"&&t!=="head"&&(A=await FJ(f,r))!==0){let R=new Request(n,{method:"POST",body:r,duplex:"half"}),z;if(ot.isFormData(r)&&(z=R.headers.get("content-type"))&&f.setContentType(z),R.body){const[_,L]=T4(A,tv(j4(u)));r=I4(R.body,D4,_,L)}}ot.isString(m)||(m=m?"include":"omit");const w="credentials"in Request.prototype;x=new Request(n,{...b,signal:g,method:t.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:w?m:void 0});let C=await fetch(x,b);const T=JS&&(d==="stream"||d==="response");if(JS&&(l||T&&y)){const R={};["status","statusText","headers"].forEach($=>{R[$]=C[$]});const z=ot.toFiniteNumber(C.headers.get("content-length")),[_,L]=l&&T4(z,tv(j4(l),!0))||[];C=new Response(I4(C.body,D4,_,()=>{L&&L(),y&&y()}),R)}d=d||"text";let M=await nv[ot.findKey(nv,d)||"text"](C,e);return!T&&y&&y(),await new Promise((R,z)=>{XI(R,z,{data:M,headers:yo.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:x})})}catch(w){throw y&&y(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new Nn("Network Error",Nn.ERR_NETWORK,e,x),{cause:w.cause||w}):Nn.from(w,w&&w.code,e,x)}}),e6={http:JZ,xhr:TJ,fetch:PJ};ot.forEach(e6,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const L4=e=>`- ${e}`,zJ=e=>ot.isFunction(e)||e===null||e===!1,nD={getAdapter:e=>{e=ot.isArray(e)?e:[e];const{length:n}=e;let t,r;const i={};for(let a=0;a<n;a++){t=e[a];let s;if(r=t,!zJ(t)&&(r=e6[(s=String(t)).toLowerCase()],r===void 0))throw new Nn(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){const a=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=n?a.length>1?`since :
`+a.map(L4).join(`
`):" "+L4(a[0]):"as no adapter specified";throw new Nn("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:e6};function Ew(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ym(null,e)}function R4(e){return Ew(e),e.headers=yo.from(e.headers),e.data=Cw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),nD.getAdapter(e.adapter||ob.adapter)(e).then(function(r){return Ew(e),r.data=Cw.call(e,e.transformResponse,r),r.headers=yo.from(r.headers),r},function(r){return KI(r)||(Ew(e),r&&r.response&&(r.response.data=Cw.call(e,e.transformResponse,r.response),r.response.headers=yo.from(r.response.headers))),Promise.reject(r)})}const rD="1.10.0",Yv={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{Yv[e]=function(r){return typeof r===e||"a"+(n<1?"n ":" ")+e}});const M4={};Yv.transitional=function(n,t,r){function i(a,s){return"[Axios v"+rD+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,l)=>{if(n===!1)throw new Nn(i(s," has been removed"+(t?" in "+t:"")),Nn.ERR_DEPRECATED);return t&&!M4[s]&&(M4[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),n?n(a,s,l):!0}};Yv.spelling=function(n){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${n}`),!0)};function qJ(e,n,t){if(typeof e!="object")throw new Nn("options must be an object",Nn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=n[a];if(s){const l=e[a],u=l===void 0||s(l,a,e);if(u!==!0)throw new Nn("option "+a+" must be "+u,Nn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Nn("Unknown option "+a,Nn.ERR_BAD_OPTION)}}const gx={assertOptions:qJ,validators:Yv},rc=gx.validators;let ap=class{constructor(n){this.defaults=n||{},this.interceptors={request:new _4,response:new _4}}async request(n,t){try{return await this._request(n,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=gp(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&gx.assertOptions(r,{silentJSONParsing:rc.transitional(rc.boolean),forcedJSONParsing:rc.transitional(rc.boolean),clarifyTimeoutError:rc.transitional(rc.boolean)},!1),i!=null&&(ot.isFunction(i)?t.paramsSerializer={serialize:i}:gx.assertOptions(i,{encode:rc.function,serialize:rc.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),gx.assertOptions(t,{baseUrl:rc.spelling("baseURL"),withXsrfToken:rc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&ot.merge(a.common,a[t.method]);a&&ot.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),t.headers=yo.concat(s,a);const l=[];let u=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(t)===!1||(u=u&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const d=[];this.interceptors.response.forEach(function(y){d.push(y.fulfilled,y.rejected)});let f,m=0,b;if(!u){const x=[R4.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,d),b=x.length,f=Promise.resolve(t);m<b;)f=f.then(x[m++],x[m++]);return f}b=l.length;let g=t;for(m=0;m<b;){const x=l[m++],y=l[m++];try{g=x(g)}catch(A){y.call(this,A);break}}try{f=R4.call(this,g)}catch(x){return Promise.reject(x)}for(m=0,b=d.length;m<b;)f=f.then(d[m++],d[m++]);return f}getUri(n){n=gp(this.defaults,n);const t=ZI(n.baseURL,n.url,n.allowAbsoluteUrls);return VI(t,n.params,n.paramsSerializer)}};ot.forEach(["delete","get","head","options"],function(n){ap.prototype[n]=function(t,r){return this.request(gp(r||{},{method:n,url:t,data:(r||{}).data}))}});ot.forEach(["post","put","patch"],function(n){function t(r){return function(a,s,l){return this.request(gp(l||{},{method:n,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}ap.prototype[n]=t(),ap.prototype[n+"Form"]=t(!0)});let BJ=class iD{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(l=>{r.subscribe(l),a=l}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},n(function(a,s,l){r.reason||(r.reason=new ym(a,s,l),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const n=new AbortController,t=r=>{n.abort(r)};return this.subscribe(t),n.signal.unsubscribe=()=>this.unsubscribe(t),n.signal}static source(){let n;return{token:new iD(function(i){n=i}),cancel:n}}};function $J(e){return function(t){return e.apply(null,t)}}function UJ(e){return ot.isObject(e)&&e.isAxiosError===!0}const t6={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(t6).forEach(([e,n])=>{t6[n]=e});function aD(e){const n=new ap(e),t=RI(ap.prototype.request,n);return ot.extend(t,ap.prototype,n,{allOwnKeys:!0}),ot.extend(t,n,null,{allOwnKeys:!0}),t.create=function(i){return aD(gp(e,i))},t}const ba=aD(ob);ba.Axios=ap;ba.CanceledError=ym;ba.CancelToken=BJ;ba.isCancel=KI;ba.VERSION=rD;ba.toFormData=Hv;ba.AxiosError=Nn;ba.Cancel=ba.CanceledError;ba.all=function(n){return Promise.all(n)};ba.spread=$J;ba.isAxiosError=UJ;ba.mergeConfig=gp;ba.AxiosHeaders=yo;ba.formToJSON=e=>QI(ot.isHTMLForm(e)?new FormData(e):e);ba.getAdapter=nD.getAdapter;ba.HttpStatusCode=t6;ba.default=ba;const{Axios:Jhe,AxiosError:epe,CanceledError:tpe,isCancel:npe,CancelToken:rpe,VERSION:ipe,all:ape,Cancel:spe,isAxiosError:ope,spread:lpe,toFormData:upe,AxiosHeaders:cpe,HttpStatusCode:dpe,formToJSON:fpe,getAdapter:hpe,mergeConfig:ppe}=ba;function Wy(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var kw={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var F4;function HJ(){return F4||(F4=1,function(e,n){(function(t){e.exports=t()})(function(){return function t(r,i,a){function s(d,f){if(!i[d]){if(!r[d]){var m=typeof Wy=="function"&&Wy;if(!f&&m)return m(d,!0);if(l)return l(d,!0);var b=new Error("Cannot find module '"+d+"'");throw b.code="MODULE_NOT_FOUND",b}var g=i[d]={exports:{}};r[d][0].call(g.exports,function(x){var y=r[d][1][x];return s(y||x)},g,g.exports,t,r,i,a)}return i[d].exports}for(var l=typeof Wy=="function"&&Wy,u=0;u<a.length;u++)s(a[u]);return s}({1:[function(t,r,i){var a=t("./utils"),s=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var d,f,m,b,g,x,y,A=[],w=0,C=u.length,T=C,M=a.getTypeOf(u)!=="string";w<u.length;)T=C-w,m=M?(d=u[w++],f=w<C?u[w++]:0,w<C?u[w++]:0):(d=u.charCodeAt(w++),f=w<C?u.charCodeAt(w++):0,w<C?u.charCodeAt(w++):0),b=d>>2,g=(3&d)<<4|f>>4,x=1<T?(15&f)<<2|m>>6:64,y=2<T?63&m:64,A.push(l.charAt(b)+l.charAt(g)+l.charAt(x)+l.charAt(y));return A.join("")},i.decode=function(u){var d,f,m,b,g,x,y=0,A=0,w="data:";if(u.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var C,T=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===l.charAt(64)&&T--,u.charAt(u.length-2)===l.charAt(64)&&T--,T%1!=0)throw new Error("Invalid base64 input, bad content length.");for(C=s.uint8array?new Uint8Array(0|T):new Array(0|T);y<u.length;)d=l.indexOf(u.charAt(y++))<<2|(b=l.indexOf(u.charAt(y++)))>>4,f=(15&b)<<4|(g=l.indexOf(u.charAt(y++)))>>2,m=(3&g)<<6|(x=l.indexOf(u.charAt(y++))),C[A++]=d,g!==64&&(C[A++]=f),x!==64&&(C[A++]=m);return C}},{"./support":30,"./utils":32}],2:[function(t,r,i){var a=t("./external"),s=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function d(f,m,b,g,x){this.compressedSize=f,this.uncompressedSize=m,this.crc32=b,this.compression=g,this.compressedContent=x}d.prototype={getContentWorker:function(){var f=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),m=this;return f.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(f,m,b){return f.pipe(new l).pipe(new u("uncompressedSize")).pipe(m.compressWorker(b)).pipe(new u("compressedSize")).withStreamInfo("compression",m)},r.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var a=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var a=t("./utils"),s=function(){for(var l,u=[],d=0;d<256;d++){l=d;for(var f=0;f<8;f++)l=1&l?3988292384^l>>>1:l>>>1;u[d]=l}return u}();r.exports=function(l,u){return l!==void 0&&l.length?a.getTypeOf(l)!=="string"?function(d,f,m,b){var g=s,x=b+m;d^=-1;for(var y=b;y<x;y++)d=d>>>8^g[255&(d^f[y])];return-1^d}(0|u,l,l.length,0):function(d,f,m,b){var g=s,x=b+m;d^=-1;for(var y=b;y<x;y++)d=d>>>8^g[255&(d^f.charCodeAt(y))];return-1^d}(0|u,l,l.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var a=null;a=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:a}},{lie:37}],7:[function(t,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=t("pako"),l=t("./utils"),u=t("./stream/GenericWorker"),d=a?"uint8array":"array";function f(m,b){u.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=b,this.meta={}}i.magic="\b\0",l.inherits(f,u),f.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(d,m.data),!1)},f.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(b){m.push({data:b,meta:m.meta})}},i.compressWorker=function(m){return new f("Deflate",m)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function a(g,x){var y,A="";for(y=0;y<x;y++)A+=String.fromCharCode(255&g),g>>>=8;return A}function s(g,x,y,A,w,C){var T,M,R=g.file,z=g.compression,_=C!==d.utf8encode,L=l.transformTo("string",C(R.name)),$=l.transformTo("string",d.utf8encode(R.name)),Z=R.comment,O=l.transformTo("string",C(Z)),j=l.transformTo("string",d.utf8encode(Z)),F=$.length!==R.name.length,N=j.length!==Z.length,G="",H="",Q="",te=R.dir,oe=R.date,U={crc32:0,compressedSize:0,uncompressedSize:0};x&&!y||(U.crc32=g.crc32,U.compressedSize=g.compressedSize,U.uncompressedSize=g.uncompressedSize);var se=0;x&&(se|=8),_||!F&&!N||(se|=2048);var q=0,B=0;te&&(q|=16),w==="UNIX"?(B=798,q|=function(ne,le){var Se=ne;return ne||(Se=le?16893:33204),(65535&Se)<<16}(R.unixPermissions,te)):(B=20,q|=function(ne){return 63&(ne||0)}(R.dosPermissions)),T=oe.getUTCHours(),T<<=6,T|=oe.getUTCMinutes(),T<<=5,T|=oe.getUTCSeconds()/2,M=oe.getUTCFullYear()-1980,M<<=4,M|=oe.getUTCMonth()+1,M<<=5,M|=oe.getUTCDate(),F&&(H=a(1,1)+a(f(L),4)+$,G+="up"+a(H.length,2)+H),N&&(Q=a(1,1)+a(f(O),4)+j,G+="uc"+a(Q.length,2)+Q);var J="";return J+=`
\0`,J+=a(se,2),J+=z.magic,J+=a(T,2),J+=a(M,2),J+=a(U.crc32,4),J+=a(U.compressedSize,4),J+=a(U.uncompressedSize,4),J+=a(L.length,2),J+=a(G.length,2),{fileRecord:m.LOCAL_FILE_HEADER+J+L+G,dirRecord:m.CENTRAL_FILE_HEADER+a(B,2)+J+a(O.length,2)+"\0\0\0\0"+a(q,4)+a(A,4)+L+G+O}}var l=t("../utils"),u=t("../stream/GenericWorker"),d=t("../utf8"),f=t("../crc32"),m=t("../signature");function b(g,x,y,A){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=y,this.encodeFileName=A,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(b,u),b.prototype.push=function(g){var x=g.meta.percent||0,y=this.entriesCount,A=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,u.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:y?(x+100*(y-A-1))/y:100}}))},b.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var x=this.streamFiles&&!g.file.dir;if(x){var y=s(g,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(g){this.accumulate=!1;var x=this.streamFiles&&!g.file.dir,y=s(g,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),x)this.push({data:function(A){return m.DATA_DESCRIPTOR+a(A.crc32,4)+a(A.compressedSize,4)+a(A.uncompressedSize,4)}(g),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var g=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var y=this.bytesWritten-g,A=function(w,C,T,M,R){var z=l.transformTo("string",R(M));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(w,2)+a(w,2)+a(C,4)+a(T,4)+a(z.length,2)+z}(this.dirRecords.length,y,g,this.zipComment,this.encodeFileName);this.push({data:A,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(g){this._sources.push(g);var x=this;return g.on("data",function(y){x.processChunk(y)}),g.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),g.on("error",function(y){x.error(y)}),this},b.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(g){var x=this._sources;if(!u.prototype.error.call(this,g))return!1;for(var y=0;y<x.length;y++)try{x[y].error(g)}catch{}return!0},b.prototype.lock=function(){u.prototype.lock.call(this);for(var g=this._sources,x=0;x<g.length;x++)g[x].lock()},r.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var a=t("../compressions"),s=t("./ZipFileWorker");i.generateWorker=function(l,u,d){var f=new s(u.streamFiles,d,u.platform,u.encodeFileName),m=0;try{l.forEach(function(b,g){m++;var x=function(C,T){var M=C||T,R=a[M];if(!R)throw new Error(M+" is not a valid compression method !");return R}(g.options.compression,u.compression),y=g.options.compressionOptions||u.compressionOptions||{},A=g.dir,w=g.date;g._compressWorker(x,y).withStreamInfo("file",{name:b,dir:A,date:w,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(f)}),f.entriesCount=m}catch(b){f.error(b)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var l in this)typeof this[l]!="function"&&(s[l]=this[l]);return s}}(a.prototype=t("./object")).loadAsync=t("./load"),a.support=t("./support"),a.defaults=t("./defaults"),a.version="3.10.1",a.loadAsync=function(s,l){return new a().loadAsync(s,l)},a.external=t("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var a=t("./utils"),s=t("./external"),l=t("./utf8"),u=t("./zipEntries"),d=t("./stream/Crc32Probe"),f=t("./nodejsUtils");function m(b){return new s.Promise(function(g,x){var y=b.decompressed.getContentWorker().pipe(new d);y.on("error",function(A){x(A)}).on("end",function(){y.streamInfo.crc32!==b.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}r.exports=function(b,g){var x=this;return g=a.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),f.isNode&&f.isStream(b)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",b,!0,g.optimizedBinaryString,g.base64).then(function(y){var A=new u(g);return A.load(y),A}).then(function(y){var A=[s.Promise.resolve(y)],w=y.files;if(g.checkCRC32)for(var C=0;C<w.length;C++)A.push(m(w[C]));return s.Promise.all(A)}).then(function(y){for(var A=y.shift(),w=A.files,C=0;C<w.length;C++){var T=w[C],M=T.fileNameStr,R=a.resolve(T.fileNameStr);x.file(R,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:g.createFolders}),T.dir||(x.file(R).unsafeOriginalName=M)}return A.zipComment.length&&(x.comment=A.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var a=t("../utils"),s=t("../stream/GenericWorker");function l(u,d){s.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(d)}a.inherits(l,s),l.prototype._bindStream=function(u){var d=this;(this._stream=u).pause(),u.on("data",function(f){d.push({data:f,meta:{percent:0}})}).on("error",function(f){d.isPaused?this.generatedError=f:d.error(f)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},l.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var a=t("readable-stream").Readable;function s(l,u,d){a.call(this,u),this._helper=l;var f=this;l.on("data",function(m,b){f.push(m)||f._helper.pause(),d&&d(b)}).on("error",function(m){f.emit("error",m)}).on("end",function(){f.push(null)})}t("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(t,r,i){function a(R,z,_){var L,$=l.getTypeOf(z),Z=l.extend(_||{},f);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(R=w(R)),Z.createFolders&&(L=A(R))&&C.call(this,L,!0);var O=$==="string"&&Z.binary===!1&&Z.base64===!1;_&&_.binary!==void 0||(Z.binary=!O),(z instanceof m&&z.uncompressedSize===0||Z.dir||!z||z.length===0)&&(Z.base64=!1,Z.binary=!0,z="",Z.compression="STORE",$="string");var j=null;j=z instanceof m||z instanceof u?z:x.isNode&&x.isStream(z)?new y(R,z):l.prepareContent(R,z,Z.binary,Z.optimizedBinaryString,Z.base64);var F=new b(R,j,Z);this.files[R]=F}var s=t("./utf8"),l=t("./utils"),u=t("./stream/GenericWorker"),d=t("./stream/StreamHelper"),f=t("./defaults"),m=t("./compressedObject"),b=t("./zipObject"),g=t("./generate"),x=t("./nodejsUtils"),y=t("./nodejs/NodejsStreamInputAdapter"),A=function(R){R.slice(-1)==="/"&&(R=R.substring(0,R.length-1));var z=R.lastIndexOf("/");return 0<z?R.substring(0,z):""},w=function(R){return R.slice(-1)!=="/"&&(R+="/"),R},C=function(R,z){return z=z!==void 0?z:f.createFolders,R=w(R),this.files[R]||a.call(this,R,null,{dir:!0,createFolders:z}),this.files[R]};function T(R){return Object.prototype.toString.call(R)==="[object RegExp]"}var M={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(R){var z,_,L;for(z in this.files)L=this.files[z],(_=z.slice(this.root.length,z.length))&&z.slice(0,this.root.length)===this.root&&R(_,L)},filter:function(R){var z=[];return this.forEach(function(_,L){R(_,L)&&z.push(L)}),z},file:function(R,z,_){if(arguments.length!==1)return R=this.root+R,a.call(this,R,z,_),this;if(T(R)){var L=R;return this.filter(function(Z,O){return!O.dir&&L.test(Z)})}var $=this.files[this.root+R];return $&&!$.dir?$:null},folder:function(R){if(!R)return this;if(T(R))return this.filter(function($,Z){return Z.dir&&R.test($)});var z=this.root+R,_=C.call(this,z),L=this.clone();return L.root=_.name,L},remove:function(R){R=this.root+R;var z=this.files[R];if(z||(R.slice(-1)!=="/"&&(R+="/"),z=this.files[R]),z&&!z.dir)delete this.files[R];else for(var _=this.filter(function($,Z){return Z.name.slice(0,R.length)===R}),L=0;L<_.length;L++)delete this.files[_[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(R){var z,_={};try{if((_=l.extend(R||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");l.checkSupport(_.type),_.platform!=="darwin"&&_.platform!=="freebsd"&&_.platform!=="linux"&&_.platform!=="sunos"||(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var L=_.comment||this.comment||"";z=g.generateWorker(this,_,L)}catch($){(z=new u("error")).error($)}return new d(z,_.type||"string",_.mimeType)},generateAsync:function(R,z){return this.generateInternalStream(R).accumulate(z)},generateNodeStream:function(R,z){return(R=R||{}).type||(R.type="nodebuffer"),this.generateInternalStream(R).toNodejsStream(z)}};r.exports=M},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var a=t("./DataReader");function s(l){a.call(this,l);for(var u=0;u<this.data.length;u++)l[u]=255&l[u]}t("../utils").inherits(s,a),s.prototype.byteAt=function(l){return this.data[this.zero+l]},s.prototype.lastIndexOfSignature=function(l){for(var u=l.charCodeAt(0),d=l.charCodeAt(1),f=l.charCodeAt(2),m=l.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===u&&this.data[b+1]===d&&this.data[b+2]===f&&this.data[b+3]===m)return b-this.zero;return-1},s.prototype.readAndCheckSignature=function(l){var u=l.charCodeAt(0),d=l.charCodeAt(1),f=l.charCodeAt(2),m=l.charCodeAt(3),b=this.readData(4);return u===b[0]&&d===b[1]&&f===b[2]&&m===b[3]},s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var a=t("../utils");function s(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var u,d=0;for(this.checkOffset(l),u=this.index+l-1;u>=this.index;u--)d=(d<<8)+this.byteAt(u);return this.index+=l,d},readString:function(l){return a.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=s},{"../utils":32}],19:[function(t,r,i){var a=t("./Uint8ArrayReader");function s(l){a.call(this,l)}t("../utils").inherits(s,a),s.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var a=t("./DataReader");function s(l){a.call(this,l)}t("../utils").inherits(s,a),s.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},s.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},s.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},s.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var a=t("./ArrayReader");function s(l){a.call(this,l)}t("../utils").inherits(s,a),s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var a=t("../utils"),s=t("../support"),l=t("./ArrayReader"),u=t("./StringReader"),d=t("./NodeBufferReader"),f=t("./Uint8ArrayReader");r.exports=function(m){var b=a.getTypeOf(m);return a.checkSupport(b),b!=="string"||s.uint8array?b==="nodebuffer"?new d(m):s.uint8array?new f(a.transformTo("uint8array",m)):new l(a.transformTo("array",m)):new u(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var a=t("./GenericWorker"),s=t("../utils");function l(u){a.call(this,"ConvertWorker to "+u),this.destType=u}s.inherits(l,a),l.prototype.processChunk=function(u){this.push({data:s.transformTo(this.destType,u.data),meta:u.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var a=t("./GenericWorker"),s=t("../crc32");function l(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,a),l.prototype.processChunk=function(u){this.streamInfo.crc32=s(u.data,this.streamInfo.crc32||0),this.push(u)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var a=t("../utils"),s=t("./GenericWorker");function l(u){s.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}a.inherits(l,s),l.prototype.processChunk=function(u){if(u){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+u.data.length}s.prototype.processChunk.call(this,u)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var a=t("../utils"),s=t("./GenericWorker");function l(u){s.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(f){d.dataIsReady=!0,d.data=f,d.max=f&&f.length||0,d.type=a.getTypeOf(f),d.isPaused||d._tickAndRepeat()},function(f){d.error(f)})}a.inherits(l,s),l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,d);break;case"uint8array":u=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":u=this.data.slice(this.index,d)}return this.index=d,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,l){return this._listeners[s].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,l){if(this._listeners[s])for(var u=0;u<this._listeners[s].length;u++)this._listeners[s][u].call(this,l)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var l=this;return s.on("data",function(u){l.processChunk(u)}),s.on("end",function(){l.end()}),s.on("error",function(u){l.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,l){return this.extraStreamInfo[s]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(t,r,i){var a=t("../utils"),s=t("./ConvertWorker"),l=t("./GenericWorker"),u=t("../base64"),d=t("../support"),f=t("../external"),m=null;if(d.nodestream)try{m=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(x,y){return new f.Promise(function(A,w){var C=[],T=x._internalType,M=x._outputType,R=x._mimeType;x.on("data",function(z,_){C.push(z),y&&y(_)}).on("error",function(z){C=[],w(z)}).on("end",function(){try{var z=function(_,L,$){switch(_){case"blob":return a.newBlob(a.transformTo("arraybuffer",L),$);case"base64":return u.encode(L);default:return a.transformTo(_,L)}}(M,function(_,L){var $,Z=0,O=null,j=0;for($=0;$<L.length;$++)j+=L[$].length;switch(_){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(O=new Uint8Array(j),$=0;$<L.length;$++)O.set(L[$],Z),Z+=L[$].length;return O;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+_+"'")}}(T,C),R);A(z)}catch(_){w(_)}C=[]}).resume()})}function g(x,y,A){var w=y;switch(y){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=y,this._mimeType=A,a.checkSupport(w),this._worker=x.pipe(new s(w)),x.lock()}catch(C){this._worker=new l("error"),this._worker.error(C)}}g.prototype={accumulate:function(x){return b(this,x)},on:function(x,y){var A=this;return x==="data"?this._worker.on(x,function(w){y.call(A,w.data,w.meta)}):this._worker.on(x,function(){a.delay(y,arguments,A)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},x)}},r.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var a=t("./utils"),s=t("./support"),l=t("./nodejsUtils"),u=t("./stream/GenericWorker"),d=new Array(256),f=0;f<256;f++)d[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;d[254]=d[254]=1;function m(){u.call(this,"utf-8 decode"),this.leftOver=null}function b(){u.call(this,"utf-8 encode")}i.utf8encode=function(g){return s.nodebuffer?l.newBufferFrom(g,"utf-8"):function(x){var y,A,w,C,T,M=x.length,R=0;for(C=0;C<M;C++)(64512&(A=x.charCodeAt(C)))==55296&&C+1<M&&(64512&(w=x.charCodeAt(C+1)))==56320&&(A=65536+(A-55296<<10)+(w-56320),C++),R+=A<128?1:A<2048?2:A<65536?3:4;for(y=s.uint8array?new Uint8Array(R):new Array(R),C=T=0;T<R;C++)(64512&(A=x.charCodeAt(C)))==55296&&C+1<M&&(64512&(w=x.charCodeAt(C+1)))==56320&&(A=65536+(A-55296<<10)+(w-56320),C++),A<128?y[T++]=A:(A<2048?y[T++]=192|A>>>6:(A<65536?y[T++]=224|A>>>12:(y[T++]=240|A>>>18,y[T++]=128|A>>>12&63),y[T++]=128|A>>>6&63),y[T++]=128|63&A);return y}(g)},i.utf8decode=function(g){return s.nodebuffer?a.transformTo("nodebuffer",g).toString("utf-8"):function(x){var y,A,w,C,T=x.length,M=new Array(2*T);for(y=A=0;y<T;)if((w=x[y++])<128)M[A++]=w;else if(4<(C=d[w]))M[A++]=65533,y+=C-1;else{for(w&=C===2?31:C===3?15:7;1<C&&y<T;)w=w<<6|63&x[y++],C--;1<C?M[A++]=65533:w<65536?M[A++]=w:(w-=65536,M[A++]=55296|w>>10&1023,M[A++]=56320|1023&w)}return M.length!==A&&(M.subarray?M=M.subarray(0,A):M.length=A),a.applyFromCharCode(M)}(g=a.transformTo(s.uint8array?"uint8array":"array",g))},a.inherits(m,u),m.prototype.processChunk=function(g){var x=a.transformTo(s.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var y=x;(x=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),x.set(y,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var A=function(C,T){var M;for((T=T||C.length)>C.length&&(T=C.length),M=T-1;0<=M&&(192&C[M])==128;)M--;return M<0||M===0?T:M+d[C[M]]>T?M:T}(x),w=x;A!==x.length&&(s.uint8array?(w=x.subarray(0,A),this.leftOver=x.subarray(A,x.length)):(w=x.slice(0,A),this.leftOver=x.slice(A,x.length))),this.push({data:i.utf8decode(w),meta:g.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,a.inherits(b,u),b.prototype.processChunk=function(g){this.push({data:i.utf8encode(g.data),meta:g.meta})},i.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var a=t("./support"),s=t("./base64"),l=t("./nodejsUtils"),u=t("./external");function d(y){return y}function f(y,A){for(var w=0;w<y.length;++w)A[w]=255&y.charCodeAt(w);return A}t("setimmediate"),i.newBlob=function(y,A){i.checkSupport("blob");try{return new Blob([y],{type:A})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(y),w.getBlob(A)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(y,A,w){var C=[],T=0,M=y.length;if(M<=w)return String.fromCharCode.apply(null,y);for(;T<M;)A==="array"||A==="nodebuffer"?C.push(String.fromCharCode.apply(null,y.slice(T,Math.min(T+w,M)))):C.push(String.fromCharCode.apply(null,y.subarray(T,Math.min(T+w,M)))),T+=w;return C.join("")},stringifyByChar:function(y){for(var A="",w=0;w<y.length;w++)A+=String.fromCharCode(y[w]);return A},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function b(y){var A=65536,w=i.getTypeOf(y),C=!0;if(w==="uint8array"?C=m.applyCanBeUsed.uint8array:w==="nodebuffer"&&(C=m.applyCanBeUsed.nodebuffer),C)for(;1<A;)try{return m.stringifyByChunk(y,w,A)}catch{A=Math.floor(A/2)}return m.stringifyByChar(y)}function g(y,A){for(var w=0;w<y.length;w++)A[w]=y[w];return A}i.applyFromCharCode=b;var x={};x.string={string:d,array:function(y){return f(y,new Array(y.length))},arraybuffer:function(y){return x.string.uint8array(y).buffer},uint8array:function(y){return f(y,new Uint8Array(y.length))},nodebuffer:function(y){return f(y,l.allocBuffer(y.length))}},x.array={string:b,array:d,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(y)}},x.arraybuffer={string:function(y){return b(new Uint8Array(y))},array:function(y){return g(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:d,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(new Uint8Array(y))}},x.uint8array={string:b,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:d,nodebuffer:function(y){return l.newBufferFrom(y)}},x.nodebuffer={string:b,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return x.nodebuffer.uint8array(y).buffer},uint8array:function(y){return g(y,new Uint8Array(y.length))},nodebuffer:d},i.transformTo=function(y,A){if(A=A||"",!y)return A;i.checkSupport(y);var w=i.getTypeOf(A);return x[w][y](A)},i.resolve=function(y){for(var A=y.split("/"),w=[],C=0;C<A.length;C++){var T=A[C];T==="."||T===""&&C!==0&&C!==A.length-1||(T===".."?w.pop():w.push(T))}return w.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":a.nodebuffer&&l.isBuffer(y)?"nodebuffer":a.uint8array&&y instanceof Uint8Array?"uint8array":a.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!a[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var A,w,C="";for(w=0;w<(y||"").length;w++)C+="\\x"+((A=y.charCodeAt(w))<16?"0":"")+A.toString(16).toUpperCase();return C},i.delay=function(y,A,w){setImmediate(function(){y.apply(w||null,A||[])})},i.inherits=function(y,A){function w(){}w.prototype=A.prototype,y.prototype=new w},i.extend=function(){var y,A,w={};for(y=0;y<arguments.length;y++)for(A in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],A)&&w[A]===void 0&&(w[A]=arguments[y][A]);return w},i.prepareContent=function(y,A,w,C,T){return u.Promise.resolve(A).then(function(M){return a.blob&&(M instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(M))!==-1)&&typeof FileReader<"u"?new u.Promise(function(R,z){var _=new FileReader;_.onload=function(L){R(L.target.result)},_.onerror=function(L){z(L.target.error)},_.readAsArrayBuffer(M)}):M}).then(function(M){var R=i.getTypeOf(M);return R?(R==="arraybuffer"?M=i.transformTo("uint8array",M):R==="string"&&(T?M=s.decode(M):w&&C!==!0&&(M=function(z){return f(z,a.uint8array?new Uint8Array(z.length):new Array(z.length))}(M))),M):u.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var a=t("./reader/readerFor"),s=t("./utils"),l=t("./signature"),u=t("./zipEntry"),d=t("./support");function f(m){this.files=[],this.loadOptions=m}f.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(b)+", expected "+s.pretty(m)+")")}},isSignature:function(m,b){var g=this.reader.index;this.reader.setIndex(m);var x=this.reader.readString(4)===b;return this.reader.setIndex(g),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),b=d.uint8array?"uint8array":"array",g=s.transformTo(b,m);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,b,g,x=this.zip64EndOfCentralSize-44;0<x;)m=this.reader.readInt(2),b=this.reader.readInt(4),g=this.reader.readData(b),this.zip64ExtensibleData[m]={id:m,length:b,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,b;for(m=0;m<this.files.length;m++)b=this.files[m],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(m=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var b=m;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var x=b-g;if(0<x)this.isSignature(b,l.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(m){this.reader=a(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var a=t("./reader/readerFor"),s=t("./utils"),l=t("./compressedObject"),u=t("./crc32"),d=t("./utf8"),f=t("./compressions"),m=t("./support");function b(g,x){this.options=g,this.loadOptions=x}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var x,y;if(g.skip(22),this.fileNameLength=g.readInt(2),y=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(A){for(var w in f)if(Object.prototype.hasOwnProperty.call(f,w)&&f[w].magic===A)return f[w];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,x,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var x=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(x),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var x,y,A,w=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<w;)x=g.readInt(2),y=g.readInt(2),A=g.readData(y),this.extraFields[x]={id:x,length:y,value:A};g.setIndex(w)},handleUTF8:function(){var g=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var y=s.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var A=this.findExtraFieldUnicodeComment();if(A!==null)this.fileCommentStr=A;else{var w=s.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var x=a(g.value);return x.readInt(1)!==1||u(this.fileName)!==x.readInt(4)?null:d.utf8decode(x.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var x=a(g.value);return x.readInt(1)!==1||u(this.fileComment)!==x.readInt(4)?null:d.utf8decode(x.readData(g.length-5))}return null}},r.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function a(x,y,A){this.name=x,this.dir=A.dir,this.date=A.date,this.comment=A.comment,this.unixPermissions=A.unixPermissions,this.dosPermissions=A.dosPermissions,this._data=y,this._dataBinary=A.binary,this.options={compression:A.compression,compressionOptions:A.compressionOptions}}var s=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),u=t("./utf8"),d=t("./compressedObject"),f=t("./stream/GenericWorker");a.prototype={internalStream:function(x){var y=null,A="string";try{if(!x)throw new Error("No output type specified.");var w=(A=x.toLowerCase())==="string"||A==="text";A!=="binarystring"&&A!=="text"||(A="string"),y=this._decompressWorker();var C=!this._dataBinary;C&&!w&&(y=y.pipe(new u.Utf8EncodeWorker)),!C&&w&&(y=y.pipe(new u.Utf8DecodeWorker))}catch(T){(y=new f("error")).error(T)}return new s(y,A,"")},async:function(x,y){return this.internalStream(x).accumulate(y)},nodeStream:function(x,y){return this.internalStream(x||"nodebuffer").toNodejsStream(y)},_compressWorker:function(x,y){if(this._data instanceof d&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var A=this._decompressWorker();return this._dataBinary||(A=A.pipe(new u.Utf8EncodeWorker)),d.createWorkerFrom(A,x,y)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof f?this._data:new l(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<m.length;g++)a.prototype[m[g]]=b;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(a){var s,l,u=a.MutationObserver||a.WebKitMutationObserver;if(u){var d=0,f=new u(x),m=a.document.createTextNode("");f.observe(m,{characterData:!0}),s=function(){m.data=d=++d%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var y=a.document.createElement("script");y.onreadystatechange=function(){x(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},a.document.documentElement.appendChild(y)}:function(){setTimeout(x,0)};else{var b=new a.MessageChannel;b.port1.onmessage=x,s=function(){b.port2.postMessage(0)}}var g=[];function x(){var y,A;l=!0;for(var w=g.length;w;){for(A=g,g=[],y=-1;++y<w;)A[y]();w=g.length}l=!1}r.exports=function(y){g.push(y)!==1||l||s()}}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var a=t("immediate");function s(){}var l={},u=["REJECTED"],d=["FULFILLED"],f=["PENDING"];function m(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,w!==s&&y(this,w)}function b(w,C,T){this.promise=w,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function g(w,C,T){a(function(){var M;try{M=C(T)}catch(R){return l.reject(w,R)}M===w?l.reject(w,new TypeError("Cannot resolve promise with itself")):l.resolve(w,M)})}function x(w){var C=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof C=="function")return function(){C.apply(w,arguments)}}function y(w,C){var T=!1;function M(_){T||(T=!0,l.reject(w,_))}function R(_){T||(T=!0,l.resolve(w,_))}var z=A(function(){C(R,M)});z.status==="error"&&M(z.value)}function A(w,C){var T={};try{T.value=w(C),T.status="success"}catch(M){T.status="error",T.value=M}return T}(r.exports=m).prototype.finally=function(w){if(typeof w!="function")return this;var C=this.constructor;return this.then(function(T){return C.resolve(w()).then(function(){return T})},function(T){return C.resolve(w()).then(function(){throw T})})},m.prototype.catch=function(w){return this.then(null,w)},m.prototype.then=function(w,C){if(typeof w!="function"&&this.state===d||typeof C!="function"&&this.state===u)return this;var T=new this.constructor(s);return this.state!==f?g(T,this.state===d?w:C,this.outcome):this.queue.push(new b(T,w,C)),T},b.prototype.callFulfilled=function(w){l.resolve(this.promise,w)},b.prototype.otherCallFulfilled=function(w){g(this.promise,this.onFulfilled,w)},b.prototype.callRejected=function(w){l.reject(this.promise,w)},b.prototype.otherCallRejected=function(w){g(this.promise,this.onRejected,w)},l.resolve=function(w,C){var T=A(x,C);if(T.status==="error")return l.reject(w,T.value);var M=T.value;if(M)y(w,M);else{w.state=d,w.outcome=C;for(var R=-1,z=w.queue.length;++R<z;)w.queue[R].callFulfilled(C)}return w},l.reject=function(w,C){w.state=u,w.outcome=C;for(var T=-1,M=w.queue.length;++T<M;)w.queue[T].callRejected(C);return w},m.resolve=function(w){return w instanceof this?w:l.resolve(new this(s),w)},m.reject=function(w){var C=new this(s);return l.reject(C,w)},m.all=function(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=w.length,M=!1;if(!T)return this.resolve([]);for(var R=new Array(T),z=0,_=-1,L=new this(s);++_<T;)$(w[_],_);return L;function $(Z,O){C.resolve(Z).then(function(j){R[O]=j,++z!==T||M||(M=!0,l.resolve(L,R))},function(j){M||(M=!0,l.reject(L,j))})}},m.race=function(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=w.length,M=!1;if(!T)return this.resolve([]);for(var R=-1,z=new this(s);++R<T;)_=w[R],C.resolve(_).then(function(L){M||(M=!0,l.resolve(z,L))},function(L){M||(M=!0,l.reject(z,L))});var _;return z}},{immediate:36}],38:[function(t,r,i){var a={};(0,t("./lib/utils/common").assign)(a,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var a=t("./zlib/deflate"),s=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/messages"),d=t("./zlib/zstream"),f=Object.prototype.toString,m=0,b=-1,g=0,x=8;function y(w){if(!(this instanceof y))return new y(w);this.options=s.assign({level:b,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},w||{});var C=this.options;C.raw&&0<C.windowBits?C.windowBits=-C.windowBits:C.gzip&&0<C.windowBits&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var T=a.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(T!==m)throw new Error(u[T]);if(C.header&&a.deflateSetHeader(this.strm,C.header),C.dictionary){var M;if(M=typeof C.dictionary=="string"?l.string2buf(C.dictionary):f.call(C.dictionary)==="[object ArrayBuffer]"?new Uint8Array(C.dictionary):C.dictionary,(T=a.deflateSetDictionary(this.strm,M))!==m)throw new Error(u[T]);this._dict_set=!0}}function A(w,C){var T=new y(C);if(T.push(w,!0),T.err)throw T.msg||u[T.err];return T.result}y.prototype.push=function(w,C){var T,M,R=this.strm,z=this.options.chunkSize;if(this.ended)return!1;M=C===~~C?C:C===!0?4:0,typeof w=="string"?R.input=l.string2buf(w):f.call(w)==="[object ArrayBuffer]"?R.input=new Uint8Array(w):R.input=w,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new s.Buf8(z),R.next_out=0,R.avail_out=z),(T=a.deflate(R,M))!==1&&T!==m)return this.onEnd(T),!(this.ended=!0);R.avail_out!==0&&(R.avail_in!==0||M!==4&&M!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(s.shrinkBuf(R.output,R.next_out))):this.onData(s.shrinkBuf(R.output,R.next_out)))}while((0<R.avail_in||R.avail_out===0)&&T!==1);return M===4?(T=a.deflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===m):M!==2||(this.onEnd(m),!(R.avail_out=0))},y.prototype.onData=function(w){this.chunks.push(w)},y.prototype.onEnd=function(w){w===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Deflate=y,i.deflate=A,i.deflateRaw=function(w,C){return(C=C||{}).raw=!0,A(w,C)},i.gzip=function(w,C){return(C=C||{}).gzip=!0,A(w,C)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var a=t("./zlib/inflate"),s=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/constants"),d=t("./zlib/messages"),f=t("./zlib/zstream"),m=t("./zlib/gzheader"),b=Object.prototype.toString;function g(y){if(!(this instanceof g))return new g(y);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},y||{});var A=this.options;A.raw&&0<=A.windowBits&&A.windowBits<16&&(A.windowBits=-A.windowBits,A.windowBits===0&&(A.windowBits=-15)),!(0<=A.windowBits&&A.windowBits<16)||y&&y.windowBits||(A.windowBits+=32),15<A.windowBits&&A.windowBits<48&&(15&A.windowBits)==0&&(A.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var w=a.inflateInit2(this.strm,A.windowBits);if(w!==u.Z_OK)throw new Error(d[w]);this.header=new m,a.inflateGetHeader(this.strm,this.header)}function x(y,A){var w=new g(A);if(w.push(y,!0),w.err)throw w.msg||d[w.err];return w.result}g.prototype.push=function(y,A){var w,C,T,M,R,z,_=this.strm,L=this.options.chunkSize,$=this.options.dictionary,Z=!1;if(this.ended)return!1;C=A===~~A?A:A===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof y=="string"?_.input=l.binstring2buf(y):b.call(y)==="[object ArrayBuffer]"?_.input=new Uint8Array(y):_.input=y,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new s.Buf8(L),_.next_out=0,_.avail_out=L),(w=a.inflate(_,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&$&&(z=typeof $=="string"?l.string2buf($):b.call($)==="[object ArrayBuffer]"?new Uint8Array($):$,w=a.inflateSetDictionary(this.strm,z)),w===u.Z_BUF_ERROR&&Z===!0&&(w=u.Z_OK,Z=!1),w!==u.Z_STREAM_END&&w!==u.Z_OK)return this.onEnd(w),!(this.ended=!0);_.next_out&&(_.avail_out!==0&&w!==u.Z_STREAM_END&&(_.avail_in!==0||C!==u.Z_FINISH&&C!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(T=l.utf8border(_.output,_.next_out),M=_.next_out-T,R=l.buf2string(_.output,T),_.next_out=M,_.avail_out=L-M,M&&s.arraySet(_.output,_.output,T,M,0),this.onData(R)):this.onData(s.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&(Z=!0)}while((0<_.avail_in||_.avail_out===0)&&w!==u.Z_STREAM_END);return w===u.Z_STREAM_END&&(C=u.Z_FINISH),C===u.Z_FINISH?(w=a.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===u.Z_OK):C!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(_.avail_out=0))},g.prototype.onData=function(y){this.chunks.push(y)},g.prototype.onEnd=function(y){y===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=g,i.inflate=x,i.inflateRaw=function(y,A){return(A=A||{}).raw=!0,x(y,A)},i.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var f=d.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var m in f)f.hasOwnProperty(m)&&(u[m]=f[m])}}return u},i.shrinkBuf=function(u,d){return u.length===d?u:u.subarray?u.subarray(0,d):(u.length=d,u)};var s={arraySet:function(u,d,f,m,b){if(d.subarray&&u.subarray)u.set(d.subarray(f,f+m),b);else for(var g=0;g<m;g++)u[b+g]=d[f+g]},flattenChunks:function(u){var d,f,m,b,g,x;for(d=m=0,f=u.length;d<f;d++)m+=u[d].length;for(x=new Uint8Array(m),d=b=0,f=u.length;d<f;d++)g=u[d],x.set(g,b),b+=g.length;return x}},l={arraySet:function(u,d,f,m,b){for(var g=0;g<m;g++)u[b+g]=d[f+g]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(a)},{}],42:[function(t,r,i){var a=t("./common"),s=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var u=new a.Buf8(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function f(m,b){if(b<65537&&(m.subarray&&l||!m.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(m,b));for(var g="",x=0;x<b;x++)g+=String.fromCharCode(m[x]);return g}u[254]=u[254]=1,i.string2buf=function(m){var b,g,x,y,A,w=m.length,C=0;for(y=0;y<w;y++)(64512&(g=m.charCodeAt(y)))==55296&&y+1<w&&(64512&(x=m.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(x-56320),y++),C+=g<128?1:g<2048?2:g<65536?3:4;for(b=new a.Buf8(C),y=A=0;A<C;y++)(64512&(g=m.charCodeAt(y)))==55296&&y+1<w&&(64512&(x=m.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(x-56320),y++),g<128?b[A++]=g:(g<2048?b[A++]=192|g>>>6:(g<65536?b[A++]=224|g>>>12:(b[A++]=240|g>>>18,b[A++]=128|g>>>12&63),b[A++]=128|g>>>6&63),b[A++]=128|63&g);return b},i.buf2binstring=function(m){return f(m,m.length)},i.binstring2buf=function(m){for(var b=new a.Buf8(m.length),g=0,x=b.length;g<x;g++)b[g]=m.charCodeAt(g);return b},i.buf2string=function(m,b){var g,x,y,A,w=b||m.length,C=new Array(2*w);for(g=x=0;g<w;)if((y=m[g++])<128)C[x++]=y;else if(4<(A=u[y]))C[x++]=65533,g+=A-1;else{for(y&=A===2?31:A===3?15:7;1<A&&g<w;)y=y<<6|63&m[g++],A--;1<A?C[x++]=65533:y<65536?C[x++]=y:(y-=65536,C[x++]=55296|y>>10&1023,C[x++]=56320|1023&y)}return f(C,x)},i.utf8border=function(m,b){var g;for((b=b||m.length)>m.length&&(b=m.length),g=b-1;0<=g&&(192&m[g])==128;)g--;return g<0||g===0?b:g+u[m[g]]>b?g:b}},{"./common":41}],43:[function(t,r,i){r.exports=function(a,s,l,u){for(var d=65535&a|0,f=a>>>16&65535|0,m=0;l!==0;){for(l-=m=2e3<l?2e3:l;f=f+(d=d+s[u++]|0)|0,--m;);d%=65521,f%=65521}return d|f<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var a=function(){for(var s,l=[],u=0;u<256;u++){s=u;for(var d=0;d<8;d++)s=1&s?3988292384^s>>>1:s>>>1;l[u]=s}return l}();r.exports=function(s,l,u,d){var f=a,m=d+u;s^=-1;for(var b=d;b<m;b++)s=s>>>8^f[255&(s^l[b])];return-1^s}},{}],46:[function(t,r,i){var a,s=t("../utils/common"),l=t("./trees"),u=t("./adler32"),d=t("./crc32"),f=t("./messages"),m=0,b=4,g=0,x=-2,y=-1,A=4,w=2,C=8,T=9,M=286,R=30,z=19,_=2*M+1,L=15,$=3,Z=258,O=Z+$+1,j=42,F=113,N=1,G=2,H=3,Q=4;function te(Y,Ae){return Y.msg=f[Ae],Ae}function oe(Y){return(Y<<1)-(4<Y?9:0)}function U(Y){for(var Ae=Y.length;0<=--Ae;)Y[Ae]=0}function se(Y){var Ae=Y.state,re=Ae.pending;re>Y.avail_out&&(re=Y.avail_out),re!==0&&(s.arraySet(Y.output,Ae.pending_buf,Ae.pending_out,re,Y.next_out),Y.next_out+=re,Ae.pending_out+=re,Y.total_out+=re,Y.avail_out-=re,Ae.pending-=re,Ae.pending===0&&(Ae.pending_out=0))}function q(Y,Ae){l._tr_flush_block(Y,0<=Y.block_start?Y.block_start:-1,Y.strstart-Y.block_start,Ae),Y.block_start=Y.strstart,se(Y.strm)}function B(Y,Ae){Y.pending_buf[Y.pending++]=Ae}function J(Y,Ae){Y.pending_buf[Y.pending++]=Ae>>>8&255,Y.pending_buf[Y.pending++]=255&Ae}function ne(Y,Ae){var re,be,fe=Y.max_chain_length,Ce=Y.strstart,Le=Y.prev_length,qe=Y.nice_match,Te=Y.strstart>Y.w_size-O?Y.strstart-(Y.w_size-O):0,Ze=Y.window,ut=Y.w_mask,rt=Y.prev,Pe=Y.strstart+Z,ve=Ze[Ce+Le-1],Ne=Ze[Ce+Le];Y.prev_length>=Y.good_match&&(fe>>=2),qe>Y.lookahead&&(qe=Y.lookahead);do if(Ze[(re=Ae)+Le]===Ne&&Ze[re+Le-1]===ve&&Ze[re]===Ze[Ce]&&Ze[++re]===Ze[Ce+1]){Ce+=2,re++;do;while(Ze[++Ce]===Ze[++re]&&Ze[++Ce]===Ze[++re]&&Ze[++Ce]===Ze[++re]&&Ze[++Ce]===Ze[++re]&&Ze[++Ce]===Ze[++re]&&Ze[++Ce]===Ze[++re]&&Ze[++Ce]===Ze[++re]&&Ze[++Ce]===Ze[++re]&&Ce<Pe);if(be=Z-(Pe-Ce),Ce=Pe-Z,Le<be){if(Y.match_start=Ae,qe<=(Le=be))break;ve=Ze[Ce+Le-1],Ne=Ze[Ce+Le]}}while((Ae=rt[Ae&ut])>Te&&--fe!=0);return Le<=Y.lookahead?Le:Y.lookahead}function le(Y){var Ae,re,be,fe,Ce,Le,qe,Te,Ze,ut,rt=Y.w_size;do{if(fe=Y.window_size-Y.lookahead-Y.strstart,Y.strstart>=rt+(rt-O)){for(s.arraySet(Y.window,Y.window,rt,rt,0),Y.match_start-=rt,Y.strstart-=rt,Y.block_start-=rt,Ae=re=Y.hash_size;be=Y.head[--Ae],Y.head[Ae]=rt<=be?be-rt:0,--re;);for(Ae=re=rt;be=Y.prev[--Ae],Y.prev[Ae]=rt<=be?be-rt:0,--re;);fe+=rt}if(Y.strm.avail_in===0)break;if(Le=Y.strm,qe=Y.window,Te=Y.strstart+Y.lookahead,Ze=fe,ut=void 0,ut=Le.avail_in,Ze<ut&&(ut=Ze),re=ut===0?0:(Le.avail_in-=ut,s.arraySet(qe,Le.input,Le.next_in,ut,Te),Le.state.wrap===1?Le.adler=u(Le.adler,qe,ut,Te):Le.state.wrap===2&&(Le.adler=d(Le.adler,qe,ut,Te)),Le.next_in+=ut,Le.total_in+=ut,ut),Y.lookahead+=re,Y.lookahead+Y.insert>=$)for(Ce=Y.strstart-Y.insert,Y.ins_h=Y.window[Ce],Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Ce+1])&Y.hash_mask;Y.insert&&(Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Ce+$-1])&Y.hash_mask,Y.prev[Ce&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Ce,Ce++,Y.insert--,!(Y.lookahead+Y.insert<$)););}while(Y.lookahead<O&&Y.strm.avail_in!==0)}function Se(Y,Ae){for(var re,be;;){if(Y.lookahead<O){if(le(Y),Y.lookahead<O&&Ae===m)return N;if(Y.lookahead===0)break}if(re=0,Y.lookahead>=$&&(Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Y.strstart+$-1])&Y.hash_mask,re=Y.prev[Y.strstart&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Y.strstart),re!==0&&Y.strstart-re<=Y.w_size-O&&(Y.match_length=ne(Y,re)),Y.match_length>=$)if(be=l._tr_tally(Y,Y.strstart-Y.match_start,Y.match_length-$),Y.lookahead-=Y.match_length,Y.match_length<=Y.max_lazy_match&&Y.lookahead>=$){for(Y.match_length--;Y.strstart++,Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Y.strstart+$-1])&Y.hash_mask,re=Y.prev[Y.strstart&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Y.strstart,--Y.match_length!=0;);Y.strstart++}else Y.strstart+=Y.match_length,Y.match_length=0,Y.ins_h=Y.window[Y.strstart],Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Y.strstart+1])&Y.hash_mask;else be=l._tr_tally(Y,0,Y.window[Y.strstart]),Y.lookahead--,Y.strstart++;if(be&&(q(Y,!1),Y.strm.avail_out===0))return N}return Y.insert=Y.strstart<$-1?Y.strstart:$-1,Ae===b?(q(Y,!0),Y.strm.avail_out===0?H:Q):Y.last_lit&&(q(Y,!1),Y.strm.avail_out===0)?N:G}function xe(Y,Ae){for(var re,be,fe;;){if(Y.lookahead<O){if(le(Y),Y.lookahead<O&&Ae===m)return N;if(Y.lookahead===0)break}if(re=0,Y.lookahead>=$&&(Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Y.strstart+$-1])&Y.hash_mask,re=Y.prev[Y.strstart&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Y.strstart),Y.prev_length=Y.match_length,Y.prev_match=Y.match_start,Y.match_length=$-1,re!==0&&Y.prev_length<Y.max_lazy_match&&Y.strstart-re<=Y.w_size-O&&(Y.match_length=ne(Y,re),Y.match_length<=5&&(Y.strategy===1||Y.match_length===$&&4096<Y.strstart-Y.match_start)&&(Y.match_length=$-1)),Y.prev_length>=$&&Y.match_length<=Y.prev_length){for(fe=Y.strstart+Y.lookahead-$,be=l._tr_tally(Y,Y.strstart-1-Y.prev_match,Y.prev_length-$),Y.lookahead-=Y.prev_length-1,Y.prev_length-=2;++Y.strstart<=fe&&(Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Y.strstart+$-1])&Y.hash_mask,re=Y.prev[Y.strstart&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Y.strstart),--Y.prev_length!=0;);if(Y.match_available=0,Y.match_length=$-1,Y.strstart++,be&&(q(Y,!1),Y.strm.avail_out===0))return N}else if(Y.match_available){if((be=l._tr_tally(Y,0,Y.window[Y.strstart-1]))&&q(Y,!1),Y.strstart++,Y.lookahead--,Y.strm.avail_out===0)return N}else Y.match_available=1,Y.strstart++,Y.lookahead--}return Y.match_available&&(be=l._tr_tally(Y,0,Y.window[Y.strstart-1]),Y.match_available=0),Y.insert=Y.strstart<$-1?Y.strstart:$-1,Ae===b?(q(Y,!0),Y.strm.avail_out===0?H:Q):Y.last_lit&&(q(Y,!1),Y.strm.avail_out===0)?N:G}function ke(Y,Ae,re,be,fe){this.good_length=Y,this.max_lazy=Ae,this.nice_length=re,this.max_chain=be,this.func=fe}function De(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*_),this.dyn_dtree=new s.Buf16(2*(2*R+1)),this.bl_tree=new s.Buf16(2*(2*z+1)),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(L+1),this.heap=new s.Buf16(2*M+1),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*M+1),U(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Me(Y){var Ae;return Y&&Y.state?(Y.total_in=Y.total_out=0,Y.data_type=w,(Ae=Y.state).pending=0,Ae.pending_out=0,Ae.wrap<0&&(Ae.wrap=-Ae.wrap),Ae.status=Ae.wrap?j:F,Y.adler=Ae.wrap===2?0:1,Ae.last_flush=m,l._tr_init(Ae),g):te(Y,x)}function He(Y){var Ae=Me(Y);return Ae===g&&function(re){re.window_size=2*re.w_size,U(re.head),re.max_lazy_match=a[re.level].max_lazy,re.good_match=a[re.level].good_length,re.nice_match=a[re.level].nice_length,re.max_chain_length=a[re.level].max_chain,re.strstart=0,re.block_start=0,re.lookahead=0,re.insert=0,re.match_length=re.prev_length=$-1,re.match_available=0,re.ins_h=0}(Y.state),Ae}function Ve(Y,Ae,re,be,fe,Ce){if(!Y)return x;var Le=1;if(Ae===y&&(Ae=6),be<0?(Le=0,be=-be):15<be&&(Le=2,be-=16),fe<1||T<fe||re!==C||be<8||15<be||Ae<0||9<Ae||Ce<0||A<Ce)return te(Y,x);be===8&&(be=9);var qe=new De;return(Y.state=qe).strm=Y,qe.wrap=Le,qe.gzhead=null,qe.w_bits=be,qe.w_size=1<<qe.w_bits,qe.w_mask=qe.w_size-1,qe.hash_bits=fe+7,qe.hash_size=1<<qe.hash_bits,qe.hash_mask=qe.hash_size-1,qe.hash_shift=~~((qe.hash_bits+$-1)/$),qe.window=new s.Buf8(2*qe.w_size),qe.head=new s.Buf16(qe.hash_size),qe.prev=new s.Buf16(qe.w_size),qe.lit_bufsize=1<<fe+6,qe.pending_buf_size=4*qe.lit_bufsize,qe.pending_buf=new s.Buf8(qe.pending_buf_size),qe.d_buf=1*qe.lit_bufsize,qe.l_buf=3*qe.lit_bufsize,qe.level=Ae,qe.strategy=Ce,qe.method=re,He(Y)}a=[new ke(0,0,0,0,function(Y,Ae){var re=65535;for(re>Y.pending_buf_size-5&&(re=Y.pending_buf_size-5);;){if(Y.lookahead<=1){if(le(Y),Y.lookahead===0&&Ae===m)return N;if(Y.lookahead===0)break}Y.strstart+=Y.lookahead,Y.lookahead=0;var be=Y.block_start+re;if((Y.strstart===0||Y.strstart>=be)&&(Y.lookahead=Y.strstart-be,Y.strstart=be,q(Y,!1),Y.strm.avail_out===0)||Y.strstart-Y.block_start>=Y.w_size-O&&(q(Y,!1),Y.strm.avail_out===0))return N}return Y.insert=0,Ae===b?(q(Y,!0),Y.strm.avail_out===0?H:Q):(Y.strstart>Y.block_start&&(q(Y,!1),Y.strm.avail_out),N)}),new ke(4,4,8,4,Se),new ke(4,5,16,8,Se),new ke(4,6,32,32,Se),new ke(4,4,16,16,xe),new ke(8,16,32,32,xe),new ke(8,16,128,128,xe),new ke(8,32,128,256,xe),new ke(32,128,258,1024,xe),new ke(32,258,258,4096,xe)],i.deflateInit=function(Y,Ae){return Ve(Y,Ae,C,15,8,0)},i.deflateInit2=Ve,i.deflateReset=He,i.deflateResetKeep=Me,i.deflateSetHeader=function(Y,Ae){return Y&&Y.state?Y.state.wrap!==2?x:(Y.state.gzhead=Ae,g):x},i.deflate=function(Y,Ae){var re,be,fe,Ce;if(!Y||!Y.state||5<Ae||Ae<0)return Y?te(Y,x):x;if(be=Y.state,!Y.output||!Y.input&&Y.avail_in!==0||be.status===666&&Ae!==b)return te(Y,Y.avail_out===0?-5:x);if(be.strm=Y,re=be.last_flush,be.last_flush=Ae,be.status===j)if(be.wrap===2)Y.adler=0,B(be,31),B(be,139),B(be,8),be.gzhead?(B(be,(be.gzhead.text?1:0)+(be.gzhead.hcrc?2:0)+(be.gzhead.extra?4:0)+(be.gzhead.name?8:0)+(be.gzhead.comment?16:0)),B(be,255&be.gzhead.time),B(be,be.gzhead.time>>8&255),B(be,be.gzhead.time>>16&255),B(be,be.gzhead.time>>24&255),B(be,be.level===9?2:2<=be.strategy||be.level<2?4:0),B(be,255&be.gzhead.os),be.gzhead.extra&&be.gzhead.extra.length&&(B(be,255&be.gzhead.extra.length),B(be,be.gzhead.extra.length>>8&255)),be.gzhead.hcrc&&(Y.adler=d(Y.adler,be.pending_buf,be.pending,0)),be.gzindex=0,be.status=69):(B(be,0),B(be,0),B(be,0),B(be,0),B(be,0),B(be,be.level===9?2:2<=be.strategy||be.level<2?4:0),B(be,3),be.status=F);else{var Le=C+(be.w_bits-8<<4)<<8;Le|=(2<=be.strategy||be.level<2?0:be.level<6?1:be.level===6?2:3)<<6,be.strstart!==0&&(Le|=32),Le+=31-Le%31,be.status=F,J(be,Le),be.strstart!==0&&(J(be,Y.adler>>>16),J(be,65535&Y.adler)),Y.adler=1}if(be.status===69)if(be.gzhead.extra){for(fe=be.pending;be.gzindex<(65535&be.gzhead.extra.length)&&(be.pending!==be.pending_buf_size||(be.gzhead.hcrc&&be.pending>fe&&(Y.adler=d(Y.adler,be.pending_buf,be.pending-fe,fe)),se(Y),fe=be.pending,be.pending!==be.pending_buf_size));)B(be,255&be.gzhead.extra[be.gzindex]),be.gzindex++;be.gzhead.hcrc&&be.pending>fe&&(Y.adler=d(Y.adler,be.pending_buf,be.pending-fe,fe)),be.gzindex===be.gzhead.extra.length&&(be.gzindex=0,be.status=73)}else be.status=73;if(be.status===73)if(be.gzhead.name){fe=be.pending;do{if(be.pending===be.pending_buf_size&&(be.gzhead.hcrc&&be.pending>fe&&(Y.adler=d(Y.adler,be.pending_buf,be.pending-fe,fe)),se(Y),fe=be.pending,be.pending===be.pending_buf_size)){Ce=1;break}Ce=be.gzindex<be.gzhead.name.length?255&be.gzhead.name.charCodeAt(be.gzindex++):0,B(be,Ce)}while(Ce!==0);be.gzhead.hcrc&&be.pending>fe&&(Y.adler=d(Y.adler,be.pending_buf,be.pending-fe,fe)),Ce===0&&(be.gzindex=0,be.status=91)}else be.status=91;if(be.status===91)if(be.gzhead.comment){fe=be.pending;do{if(be.pending===be.pending_buf_size&&(be.gzhead.hcrc&&be.pending>fe&&(Y.adler=d(Y.adler,be.pending_buf,be.pending-fe,fe)),se(Y),fe=be.pending,be.pending===be.pending_buf_size)){Ce=1;break}Ce=be.gzindex<be.gzhead.comment.length?255&be.gzhead.comment.charCodeAt(be.gzindex++):0,B(be,Ce)}while(Ce!==0);be.gzhead.hcrc&&be.pending>fe&&(Y.adler=d(Y.adler,be.pending_buf,be.pending-fe,fe)),Ce===0&&(be.status=103)}else be.status=103;if(be.status===103&&(be.gzhead.hcrc?(be.pending+2>be.pending_buf_size&&se(Y),be.pending+2<=be.pending_buf_size&&(B(be,255&Y.adler),B(be,Y.adler>>8&255),Y.adler=0,be.status=F)):be.status=F),be.pending!==0){if(se(Y),Y.avail_out===0)return be.last_flush=-1,g}else if(Y.avail_in===0&&oe(Ae)<=oe(re)&&Ae!==b)return te(Y,-5);if(be.status===666&&Y.avail_in!==0)return te(Y,-5);if(Y.avail_in!==0||be.lookahead!==0||Ae!==m&&be.status!==666){var qe=be.strategy===2?function(Te,Ze){for(var ut;;){if(Te.lookahead===0&&(le(Te),Te.lookahead===0)){if(Ze===m)return N;break}if(Te.match_length=0,ut=l._tr_tally(Te,0,Te.window[Te.strstart]),Te.lookahead--,Te.strstart++,ut&&(q(Te,!1),Te.strm.avail_out===0))return N}return Te.insert=0,Ze===b?(q(Te,!0),Te.strm.avail_out===0?H:Q):Te.last_lit&&(q(Te,!1),Te.strm.avail_out===0)?N:G}(be,Ae):be.strategy===3?function(Te,Ze){for(var ut,rt,Pe,ve,Ne=Te.window;;){if(Te.lookahead<=Z){if(le(Te),Te.lookahead<=Z&&Ze===m)return N;if(Te.lookahead===0)break}if(Te.match_length=0,Te.lookahead>=$&&0<Te.strstart&&(rt=Ne[Pe=Te.strstart-1])===Ne[++Pe]&&rt===Ne[++Pe]&&rt===Ne[++Pe]){ve=Te.strstart+Z;do;while(rt===Ne[++Pe]&&rt===Ne[++Pe]&&rt===Ne[++Pe]&&rt===Ne[++Pe]&&rt===Ne[++Pe]&&rt===Ne[++Pe]&&rt===Ne[++Pe]&&rt===Ne[++Pe]&&Pe<ve);Te.match_length=Z-(ve-Pe),Te.match_length>Te.lookahead&&(Te.match_length=Te.lookahead)}if(Te.match_length>=$?(ut=l._tr_tally(Te,1,Te.match_length-$),Te.lookahead-=Te.match_length,Te.strstart+=Te.match_length,Te.match_length=0):(ut=l._tr_tally(Te,0,Te.window[Te.strstart]),Te.lookahead--,Te.strstart++),ut&&(q(Te,!1),Te.strm.avail_out===0))return N}return Te.insert=0,Ze===b?(q(Te,!0),Te.strm.avail_out===0?H:Q):Te.last_lit&&(q(Te,!1),Te.strm.avail_out===0)?N:G}(be,Ae):a[be.level].func(be,Ae);if(qe!==H&&qe!==Q||(be.status=666),qe===N||qe===H)return Y.avail_out===0&&(be.last_flush=-1),g;if(qe===G&&(Ae===1?l._tr_align(be):Ae!==5&&(l._tr_stored_block(be,0,0,!1),Ae===3&&(U(be.head),be.lookahead===0&&(be.strstart=0,be.block_start=0,be.insert=0))),se(Y),Y.avail_out===0))return be.last_flush=-1,g}return Ae!==b?g:be.wrap<=0?1:(be.wrap===2?(B(be,255&Y.adler),B(be,Y.adler>>8&255),B(be,Y.adler>>16&255),B(be,Y.adler>>24&255),B(be,255&Y.total_in),B(be,Y.total_in>>8&255),B(be,Y.total_in>>16&255),B(be,Y.total_in>>24&255)):(J(be,Y.adler>>>16),J(be,65535&Y.adler)),se(Y),0<be.wrap&&(be.wrap=-be.wrap),be.pending!==0?g:1)},i.deflateEnd=function(Y){var Ae;return Y&&Y.state?(Ae=Y.state.status)!==j&&Ae!==69&&Ae!==73&&Ae!==91&&Ae!==103&&Ae!==F&&Ae!==666?te(Y,x):(Y.state=null,Ae===F?te(Y,-3):g):x},i.deflateSetDictionary=function(Y,Ae){var re,be,fe,Ce,Le,qe,Te,Ze,ut=Ae.length;if(!Y||!Y.state||(Ce=(re=Y.state).wrap)===2||Ce===1&&re.status!==j||re.lookahead)return x;for(Ce===1&&(Y.adler=u(Y.adler,Ae,ut,0)),re.wrap=0,ut>=re.w_size&&(Ce===0&&(U(re.head),re.strstart=0,re.block_start=0,re.insert=0),Ze=new s.Buf8(re.w_size),s.arraySet(Ze,Ae,ut-re.w_size,re.w_size,0),Ae=Ze,ut=re.w_size),Le=Y.avail_in,qe=Y.next_in,Te=Y.input,Y.avail_in=ut,Y.next_in=0,Y.input=Ae,le(re);re.lookahead>=$;){for(be=re.strstart,fe=re.lookahead-($-1);re.ins_h=(re.ins_h<<re.hash_shift^re.window[be+$-1])&re.hash_mask,re.prev[be&re.w_mask]=re.head[re.ins_h],re.head[re.ins_h]=be,be++,--fe;);re.strstart=be,re.lookahead=$-1,le(re)}return re.strstart+=re.lookahead,re.block_start=re.strstart,re.insert=re.lookahead,re.lookahead=0,re.match_length=re.prev_length=$-1,re.match_available=0,Y.next_in=qe,Y.input=Te,Y.avail_in=Le,re.wrap=Ce,g},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(a,s){var l,u,d,f,m,b,g,x,y,A,w,C,T,M,R,z,_,L,$,Z,O,j,F,N,G;l=a.state,u=a.next_in,N=a.input,d=u+(a.avail_in-5),f=a.next_out,G=a.output,m=f-(s-a.avail_out),b=f+(a.avail_out-257),g=l.dmax,x=l.wsize,y=l.whave,A=l.wnext,w=l.window,C=l.hold,T=l.bits,M=l.lencode,R=l.distcode,z=(1<<l.lenbits)-1,_=(1<<l.distbits)-1;e:do{T<15&&(C+=N[u++]<<T,T+=8,C+=N[u++]<<T,T+=8),L=M[C&z];t:for(;;){if(C>>>=$=L>>>24,T-=$,($=L>>>16&255)===0)G[f++]=65535&L;else{if(!(16&$)){if((64&$)==0){L=M[(65535&L)+(C&(1<<$)-1)];continue t}if(32&$){l.mode=12;break e}a.msg="invalid literal/length code",l.mode=30;break e}Z=65535&L,($&=15)&&(T<$&&(C+=N[u++]<<T,T+=8),Z+=C&(1<<$)-1,C>>>=$,T-=$),T<15&&(C+=N[u++]<<T,T+=8,C+=N[u++]<<T,T+=8),L=R[C&_];n:for(;;){if(C>>>=$=L>>>24,T-=$,!(16&($=L>>>16&255))){if((64&$)==0){L=R[(65535&L)+(C&(1<<$)-1)];continue n}a.msg="invalid distance code",l.mode=30;break e}if(O=65535&L,T<($&=15)&&(C+=N[u++]<<T,(T+=8)<$&&(C+=N[u++]<<T,T+=8)),g<(O+=C&(1<<$)-1)){a.msg="invalid distance too far back",l.mode=30;break e}if(C>>>=$,T-=$,($=f-m)<O){if(y<($=O-$)&&l.sane){a.msg="invalid distance too far back",l.mode=30;break e}if(F=w,(j=0)===A){if(j+=x-$,$<Z){for(Z-=$;G[f++]=w[j++],--$;);j=f-O,F=G}}else if(A<$){if(j+=x+A-$,($-=A)<Z){for(Z-=$;G[f++]=w[j++],--$;);if(j=0,A<Z){for(Z-=$=A;G[f++]=w[j++],--$;);j=f-O,F=G}}}else if(j+=A-$,$<Z){for(Z-=$;G[f++]=w[j++],--$;);j=f-O,F=G}for(;2<Z;)G[f++]=F[j++],G[f++]=F[j++],G[f++]=F[j++],Z-=3;Z&&(G[f++]=F[j++],1<Z&&(G[f++]=F[j++]))}else{for(j=f-O;G[f++]=G[j++],G[f++]=G[j++],G[f++]=G[j++],2<(Z-=3););Z&&(G[f++]=G[j++],1<Z&&(G[f++]=G[j++]))}break}}break}}while(u<d&&f<b);u-=Z=T>>3,C&=(1<<(T-=Z<<3))-1,a.next_in=u,a.next_out=f,a.avail_in=u<d?d-u+5:5-(u-d),a.avail_out=f<b?b-f+257:257-(f-b),l.hold=C,l.bits=T}},{}],49:[function(t,r,i){var a=t("../utils/common"),s=t("./adler32"),l=t("./crc32"),u=t("./inffast"),d=t("./inftrees"),f=1,m=2,b=0,g=-2,x=1,y=852,A=592;function w(j){return(j>>>24&255)+(j>>>8&65280)+((65280&j)<<8)+((255&j)<<24)}function C(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function T(j){var F;return j&&j.state?(F=j.state,j.total_in=j.total_out=F.total=0,j.msg="",F.wrap&&(j.adler=1&F.wrap),F.mode=x,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new a.Buf32(y),F.distcode=F.distdyn=new a.Buf32(A),F.sane=1,F.back=-1,b):g}function M(j){var F;return j&&j.state?((F=j.state).wsize=0,F.whave=0,F.wnext=0,T(j)):g}function R(j,F){var N,G;return j&&j.state?(G=j.state,F<0?(N=0,F=-F):(N=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?g:(G.window!==null&&G.wbits!==F&&(G.window=null),G.wrap=N,G.wbits=F,M(j))):g}function z(j,F){var N,G;return j?(G=new C,(j.state=G).window=null,(N=R(j,F))!==b&&(j.state=null),N):g}var _,L,$=!0;function Z(j){if($){var F;for(_=new a.Buf32(512),L=new a.Buf32(32),F=0;F<144;)j.lens[F++]=8;for(;F<256;)j.lens[F++]=9;for(;F<280;)j.lens[F++]=7;for(;F<288;)j.lens[F++]=8;for(d(f,j.lens,0,288,_,0,j.work,{bits:9}),F=0;F<32;)j.lens[F++]=5;d(m,j.lens,0,32,L,0,j.work,{bits:5}),$=!1}j.lencode=_,j.lenbits=9,j.distcode=L,j.distbits=5}function O(j,F,N,G){var H,Q=j.state;return Q.window===null&&(Q.wsize=1<<Q.wbits,Q.wnext=0,Q.whave=0,Q.window=new a.Buf8(Q.wsize)),G>=Q.wsize?(a.arraySet(Q.window,F,N-Q.wsize,Q.wsize,0),Q.wnext=0,Q.whave=Q.wsize):(G<(H=Q.wsize-Q.wnext)&&(H=G),a.arraySet(Q.window,F,N-G,H,Q.wnext),(G-=H)?(a.arraySet(Q.window,F,N-G,G,0),Q.wnext=G,Q.whave=Q.wsize):(Q.wnext+=H,Q.wnext===Q.wsize&&(Q.wnext=0),Q.whave<Q.wsize&&(Q.whave+=H))),0}i.inflateReset=M,i.inflateReset2=R,i.inflateResetKeep=T,i.inflateInit=function(j){return z(j,15)},i.inflateInit2=z,i.inflate=function(j,F){var N,G,H,Q,te,oe,U,se,q,B,J,ne,le,Se,xe,ke,De,Me,He,Ve,Y,Ae,re,be,fe=0,Ce=new a.Buf8(4),Le=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!j||!j.state||!j.output||!j.input&&j.avail_in!==0)return g;(N=j.state).mode===12&&(N.mode=13),te=j.next_out,H=j.output,U=j.avail_out,Q=j.next_in,G=j.input,oe=j.avail_in,se=N.hold,q=N.bits,B=oe,J=U,Ae=b;e:for(;;)switch(N.mode){case x:if(N.wrap===0){N.mode=13;break}for(;q<16;){if(oe===0)break e;oe--,se+=G[Q++]<<q,q+=8}if(2&N.wrap&&se===35615){Ce[N.check=0]=255&se,Ce[1]=se>>>8&255,N.check=l(N.check,Ce,2,0),q=se=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&se)<<8)+(se>>8))%31){j.msg="incorrect header check",N.mode=30;break}if((15&se)!=8){j.msg="unknown compression method",N.mode=30;break}if(q-=4,Y=8+(15&(se>>>=4)),N.wbits===0)N.wbits=Y;else if(Y>N.wbits){j.msg="invalid window size",N.mode=30;break}N.dmax=1<<Y,j.adler=N.check=1,N.mode=512&se?10:12,q=se=0;break;case 2:for(;q<16;){if(oe===0)break e;oe--,se+=G[Q++]<<q,q+=8}if(N.flags=se,(255&N.flags)!=8){j.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){j.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=se>>8&1),512&N.flags&&(Ce[0]=255&se,Ce[1]=se>>>8&255,N.check=l(N.check,Ce,2,0)),q=se=0,N.mode=3;case 3:for(;q<32;){if(oe===0)break e;oe--,se+=G[Q++]<<q,q+=8}N.head&&(N.head.time=se),512&N.flags&&(Ce[0]=255&se,Ce[1]=se>>>8&255,Ce[2]=se>>>16&255,Ce[3]=se>>>24&255,N.check=l(N.check,Ce,4,0)),q=se=0,N.mode=4;case 4:for(;q<16;){if(oe===0)break e;oe--,se+=G[Q++]<<q,q+=8}N.head&&(N.head.xflags=255&se,N.head.os=se>>8),512&N.flags&&(Ce[0]=255&se,Ce[1]=se>>>8&255,N.check=l(N.check,Ce,2,0)),q=se=0,N.mode=5;case 5:if(1024&N.flags){for(;q<16;){if(oe===0)break e;oe--,se+=G[Q++]<<q,q+=8}N.length=se,N.head&&(N.head.extra_len=se),512&N.flags&&(Ce[0]=255&se,Ce[1]=se>>>8&255,N.check=l(N.check,Ce,2,0)),q=se=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(oe<(ne=N.length)&&(ne=oe),ne&&(N.head&&(Y=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),a.arraySet(N.head.extra,G,Q,ne,Y)),512&N.flags&&(N.check=l(N.check,G,ne,Q)),oe-=ne,Q+=ne,N.length-=ne),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(oe===0)break e;for(ne=0;Y=G[Q+ne++],N.head&&Y&&N.length<65536&&(N.head.name+=String.fromCharCode(Y)),Y&&ne<oe;);if(512&N.flags&&(N.check=l(N.check,G,ne,Q)),oe-=ne,Q+=ne,Y)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(oe===0)break e;for(ne=0;Y=G[Q+ne++],N.head&&Y&&N.length<65536&&(N.head.comment+=String.fromCharCode(Y)),Y&&ne<oe;);if(512&N.flags&&(N.check=l(N.check,G,ne,Q)),oe-=ne,Q+=ne,Y)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;q<16;){if(oe===0)break e;oe--,se+=G[Q++]<<q,q+=8}if(se!==(65535&N.check)){j.msg="header crc mismatch",N.mode=30;break}q=se=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),j.adler=N.check=0,N.mode=12;break;case 10:for(;q<32;){if(oe===0)break e;oe--,se+=G[Q++]<<q,q+=8}j.adler=N.check=w(se),q=se=0,N.mode=11;case 11:if(N.havedict===0)return j.next_out=te,j.avail_out=U,j.next_in=Q,j.avail_in=oe,N.hold=se,N.bits=q,2;j.adler=N.check=1,N.mode=12;case 12:if(F===5||F===6)break e;case 13:if(N.last){se>>>=7&q,q-=7&q,N.mode=27;break}for(;q<3;){if(oe===0)break e;oe--,se+=G[Q++]<<q,q+=8}switch(N.last=1&se,q-=1,3&(se>>>=1)){case 0:N.mode=14;break;case 1:if(Z(N),N.mode=20,F!==6)break;se>>>=2,q-=2;break e;case 2:N.mode=17;break;case 3:j.msg="invalid block type",N.mode=30}se>>>=2,q-=2;break;case 14:for(se>>>=7&q,q-=7&q;q<32;){if(oe===0)break e;oe--,se+=G[Q++]<<q,q+=8}if((65535&se)!=(se>>>16^65535)){j.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&se,q=se=0,N.mode=15,F===6)break e;case 15:N.mode=16;case 16:if(ne=N.length){if(oe<ne&&(ne=oe),U<ne&&(ne=U),ne===0)break e;a.arraySet(H,G,Q,ne,te),oe-=ne,Q+=ne,U-=ne,te+=ne,N.length-=ne;break}N.mode=12;break;case 17:for(;q<14;){if(oe===0)break e;oe--,se+=G[Q++]<<q,q+=8}if(N.nlen=257+(31&se),se>>>=5,q-=5,N.ndist=1+(31&se),se>>>=5,q-=5,N.ncode=4+(15&se),se>>>=4,q-=4,286<N.nlen||30<N.ndist){j.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;q<3;){if(oe===0)break e;oe--,se+=G[Q++]<<q,q+=8}N.lens[Le[N.have++]]=7&se,se>>>=3,q-=3}for(;N.have<19;)N.lens[Le[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,re={bits:N.lenbits},Ae=d(0,N.lens,0,19,N.lencode,0,N.work,re),N.lenbits=re.bits,Ae){j.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;ke=(fe=N.lencode[se&(1<<N.lenbits)-1])>>>16&255,De=65535&fe,!((xe=fe>>>24)<=q);){if(oe===0)break e;oe--,se+=G[Q++]<<q,q+=8}if(De<16)se>>>=xe,q-=xe,N.lens[N.have++]=De;else{if(De===16){for(be=xe+2;q<be;){if(oe===0)break e;oe--,se+=G[Q++]<<q,q+=8}if(se>>>=xe,q-=xe,N.have===0){j.msg="invalid bit length repeat",N.mode=30;break}Y=N.lens[N.have-1],ne=3+(3&se),se>>>=2,q-=2}else if(De===17){for(be=xe+3;q<be;){if(oe===0)break e;oe--,se+=G[Q++]<<q,q+=8}q-=xe,Y=0,ne=3+(7&(se>>>=xe)),se>>>=3,q-=3}else{for(be=xe+7;q<be;){if(oe===0)break e;oe--,se+=G[Q++]<<q,q+=8}q-=xe,Y=0,ne=11+(127&(se>>>=xe)),se>>>=7,q-=7}if(N.have+ne>N.nlen+N.ndist){j.msg="invalid bit length repeat",N.mode=30;break}for(;ne--;)N.lens[N.have++]=Y}}if(N.mode===30)break;if(N.lens[256]===0){j.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,re={bits:N.lenbits},Ae=d(f,N.lens,0,N.nlen,N.lencode,0,N.work,re),N.lenbits=re.bits,Ae){j.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,re={bits:N.distbits},Ae=d(m,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,re),N.distbits=re.bits,Ae){j.msg="invalid distances set",N.mode=30;break}if(N.mode=20,F===6)break e;case 20:N.mode=21;case 21:if(6<=oe&&258<=U){j.next_out=te,j.avail_out=U,j.next_in=Q,j.avail_in=oe,N.hold=se,N.bits=q,u(j,J),te=j.next_out,H=j.output,U=j.avail_out,Q=j.next_in,G=j.input,oe=j.avail_in,se=N.hold,q=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;ke=(fe=N.lencode[se&(1<<N.lenbits)-1])>>>16&255,De=65535&fe,!((xe=fe>>>24)<=q);){if(oe===0)break e;oe--,se+=G[Q++]<<q,q+=8}if(ke&&(240&ke)==0){for(Me=xe,He=ke,Ve=De;ke=(fe=N.lencode[Ve+((se&(1<<Me+He)-1)>>Me)])>>>16&255,De=65535&fe,!(Me+(xe=fe>>>24)<=q);){if(oe===0)break e;oe--,se+=G[Q++]<<q,q+=8}se>>>=Me,q-=Me,N.back+=Me}if(se>>>=xe,q-=xe,N.back+=xe,N.length=De,ke===0){N.mode=26;break}if(32&ke){N.back=-1,N.mode=12;break}if(64&ke){j.msg="invalid literal/length code",N.mode=30;break}N.extra=15&ke,N.mode=22;case 22:if(N.extra){for(be=N.extra;q<be;){if(oe===0)break e;oe--,se+=G[Q++]<<q,q+=8}N.length+=se&(1<<N.extra)-1,se>>>=N.extra,q-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;ke=(fe=N.distcode[se&(1<<N.distbits)-1])>>>16&255,De=65535&fe,!((xe=fe>>>24)<=q);){if(oe===0)break e;oe--,se+=G[Q++]<<q,q+=8}if((240&ke)==0){for(Me=xe,He=ke,Ve=De;ke=(fe=N.distcode[Ve+((se&(1<<Me+He)-1)>>Me)])>>>16&255,De=65535&fe,!(Me+(xe=fe>>>24)<=q);){if(oe===0)break e;oe--,se+=G[Q++]<<q,q+=8}se>>>=Me,q-=Me,N.back+=Me}if(se>>>=xe,q-=xe,N.back+=xe,64&ke){j.msg="invalid distance code",N.mode=30;break}N.offset=De,N.extra=15&ke,N.mode=24;case 24:if(N.extra){for(be=N.extra;q<be;){if(oe===0)break e;oe--,se+=G[Q++]<<q,q+=8}N.offset+=se&(1<<N.extra)-1,se>>>=N.extra,q-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){j.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(U===0)break e;if(ne=J-U,N.offset>ne){if((ne=N.offset-ne)>N.whave&&N.sane){j.msg="invalid distance too far back",N.mode=30;break}le=ne>N.wnext?(ne-=N.wnext,N.wsize-ne):N.wnext-ne,ne>N.length&&(ne=N.length),Se=N.window}else Se=H,le=te-N.offset,ne=N.length;for(U<ne&&(ne=U),U-=ne,N.length-=ne;H[te++]=Se[le++],--ne;);N.length===0&&(N.mode=21);break;case 26:if(U===0)break e;H[te++]=N.length,U--,N.mode=21;break;case 27:if(N.wrap){for(;q<32;){if(oe===0)break e;oe--,se|=G[Q++]<<q,q+=8}if(J-=U,j.total_out+=J,N.total+=J,J&&(j.adler=N.check=N.flags?l(N.check,H,J,te-J):s(N.check,H,J,te-J)),J=U,(N.flags?se:w(se))!==N.check){j.msg="incorrect data check",N.mode=30;break}q=se=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;q<32;){if(oe===0)break e;oe--,se+=G[Q++]<<q,q+=8}if(se!==(4294967295&N.total)){j.msg="incorrect length check",N.mode=30;break}q=se=0}N.mode=29;case 29:Ae=1;break e;case 30:Ae=-3;break e;case 31:return-4;case 32:default:return g}return j.next_out=te,j.avail_out=U,j.next_in=Q,j.avail_in=oe,N.hold=se,N.bits=q,(N.wsize||J!==j.avail_out&&N.mode<30&&(N.mode<27||F!==4))&&O(j,j.output,j.next_out,J-j.avail_out)?(N.mode=31,-4):(B-=j.avail_in,J-=j.avail_out,j.total_in+=B,j.total_out+=J,N.total+=J,N.wrap&&J&&(j.adler=N.check=N.flags?l(N.check,H,J,j.next_out-J):s(N.check,H,J,j.next_out-J)),j.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(B==0&&J===0||F===4)&&Ae===b&&(Ae=-5),Ae)},i.inflateEnd=function(j){if(!j||!j.state)return g;var F=j.state;return F.window&&(F.window=null),j.state=null,b},i.inflateGetHeader=function(j,F){var N;return j&&j.state?(2&(N=j.state).wrap)==0?g:((N.head=F).done=!1,b):g},i.inflateSetDictionary=function(j,F){var N,G=F.length;return j&&j.state?(N=j.state).wrap!==0&&N.mode!==11?g:N.mode===11&&s(1,F,G,0)!==N.check?-3:O(j,F,G,G)?(N.mode=31,-4):(N.havedict=1,b):g},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var a=t("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(f,m,b,g,x,y,A,w){var C,T,M,R,z,_,L,$,Z,O=w.bits,j=0,F=0,N=0,G=0,H=0,Q=0,te=0,oe=0,U=0,se=0,q=null,B=0,J=new a.Buf16(16),ne=new a.Buf16(16),le=null,Se=0;for(j=0;j<=15;j++)J[j]=0;for(F=0;F<g;F++)J[m[b+F]]++;for(H=O,G=15;1<=G&&J[G]===0;G--);if(G<H&&(H=G),G===0)return x[y++]=20971520,x[y++]=20971520,w.bits=1,0;for(N=1;N<G&&J[N]===0;N++);for(H<N&&(H=N),j=oe=1;j<=15;j++)if(oe<<=1,(oe-=J[j])<0)return-1;if(0<oe&&(f===0||G!==1))return-1;for(ne[1]=0,j=1;j<15;j++)ne[j+1]=ne[j]+J[j];for(F=0;F<g;F++)m[b+F]!==0&&(A[ne[m[b+F]]++]=F);if(_=f===0?(q=le=A,19):f===1?(q=s,B-=257,le=l,Se-=257,256):(q=u,le=d,-1),j=N,z=y,te=F=se=0,M=-1,R=(U=1<<(Q=H))-1,f===1&&852<U||f===2&&592<U)return 1;for(;;){for(L=j-te,Z=A[F]<_?($=0,A[F]):A[F]>_?($=le[Se+A[F]],q[B+A[F]]):($=96,0),C=1<<j-te,N=T=1<<Q;x[z+(se>>te)+(T-=C)]=L<<24|$<<16|Z|0,T!==0;);for(C=1<<j-1;se&C;)C>>=1;if(C!==0?(se&=C-1,se+=C):se=0,F++,--J[j]==0){if(j===G)break;j=m[b+A[F]]}if(H<j&&(se&R)!==M){for(te===0&&(te=H),z+=N,oe=1<<(Q=j-te);Q+te<G&&!((oe-=J[Q+te])<=0);)Q++,oe<<=1;if(U+=1<<Q,f===1&&852<U||f===2&&592<U)return 1;x[M=se&R]=H<<24|Q<<16|z-y|0}}return se!==0&&(x[z+se]=j-te<<24|64<<16|0),w.bits=H,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var a=t("../utils/common"),s=0,l=1;function u(fe){for(var Ce=fe.length;0<=--Ce;)fe[Ce]=0}var d=0,f=29,m=256,b=m+1+f,g=30,x=19,y=2*b+1,A=15,w=16,C=7,T=256,M=16,R=17,z=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=new Array(2*(b+2));u(O);var j=new Array(2*g);u(j);var F=new Array(512);u(F);var N=new Array(256);u(N);var G=new Array(f);u(G);var H,Q,te,oe=new Array(g);function U(fe,Ce,Le,qe,Te){this.static_tree=fe,this.extra_bits=Ce,this.extra_base=Le,this.elems=qe,this.max_length=Te,this.has_stree=fe&&fe.length}function se(fe,Ce){this.dyn_tree=fe,this.max_code=0,this.stat_desc=Ce}function q(fe){return fe<256?F[fe]:F[256+(fe>>>7)]}function B(fe,Ce){fe.pending_buf[fe.pending++]=255&Ce,fe.pending_buf[fe.pending++]=Ce>>>8&255}function J(fe,Ce,Le){fe.bi_valid>w-Le?(fe.bi_buf|=Ce<<fe.bi_valid&65535,B(fe,fe.bi_buf),fe.bi_buf=Ce>>w-fe.bi_valid,fe.bi_valid+=Le-w):(fe.bi_buf|=Ce<<fe.bi_valid&65535,fe.bi_valid+=Le)}function ne(fe,Ce,Le){J(fe,Le[2*Ce],Le[2*Ce+1])}function le(fe,Ce){for(var Le=0;Le|=1&fe,fe>>>=1,Le<<=1,0<--Ce;);return Le>>>1}function Se(fe,Ce,Le){var qe,Te,Ze=new Array(A+1),ut=0;for(qe=1;qe<=A;qe++)Ze[qe]=ut=ut+Le[qe-1]<<1;for(Te=0;Te<=Ce;Te++){var rt=fe[2*Te+1];rt!==0&&(fe[2*Te]=le(Ze[rt]++,rt))}}function xe(fe){var Ce;for(Ce=0;Ce<b;Ce++)fe.dyn_ltree[2*Ce]=0;for(Ce=0;Ce<g;Ce++)fe.dyn_dtree[2*Ce]=0;for(Ce=0;Ce<x;Ce++)fe.bl_tree[2*Ce]=0;fe.dyn_ltree[2*T]=1,fe.opt_len=fe.static_len=0,fe.last_lit=fe.matches=0}function ke(fe){8<fe.bi_valid?B(fe,fe.bi_buf):0<fe.bi_valid&&(fe.pending_buf[fe.pending++]=fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0}function De(fe,Ce,Le,qe){var Te=2*Ce,Ze=2*Le;return fe[Te]<fe[Ze]||fe[Te]===fe[Ze]&&qe[Ce]<=qe[Le]}function Me(fe,Ce,Le){for(var qe=fe.heap[Le],Te=Le<<1;Te<=fe.heap_len&&(Te<fe.heap_len&&De(Ce,fe.heap[Te+1],fe.heap[Te],fe.depth)&&Te++,!De(Ce,qe,fe.heap[Te],fe.depth));)fe.heap[Le]=fe.heap[Te],Le=Te,Te<<=1;fe.heap[Le]=qe}function He(fe,Ce,Le){var qe,Te,Ze,ut,rt=0;if(fe.last_lit!==0)for(;qe=fe.pending_buf[fe.d_buf+2*rt]<<8|fe.pending_buf[fe.d_buf+2*rt+1],Te=fe.pending_buf[fe.l_buf+rt],rt++,qe===0?ne(fe,Te,Ce):(ne(fe,(Ze=N[Te])+m+1,Ce),(ut=_[Ze])!==0&&J(fe,Te-=G[Ze],ut),ne(fe,Ze=q(--qe),Le),(ut=L[Ze])!==0&&J(fe,qe-=oe[Ze],ut)),rt<fe.last_lit;);ne(fe,T,Ce)}function Ve(fe,Ce){var Le,qe,Te,Ze=Ce.dyn_tree,ut=Ce.stat_desc.static_tree,rt=Ce.stat_desc.has_stree,Pe=Ce.stat_desc.elems,ve=-1;for(fe.heap_len=0,fe.heap_max=y,Le=0;Le<Pe;Le++)Ze[2*Le]!==0?(fe.heap[++fe.heap_len]=ve=Le,fe.depth[Le]=0):Ze[2*Le+1]=0;for(;fe.heap_len<2;)Ze[2*(Te=fe.heap[++fe.heap_len]=ve<2?++ve:0)]=1,fe.depth[Te]=0,fe.opt_len--,rt&&(fe.static_len-=ut[2*Te+1]);for(Ce.max_code=ve,Le=fe.heap_len>>1;1<=Le;Le--)Me(fe,Ze,Le);for(Te=Pe;Le=fe.heap[1],fe.heap[1]=fe.heap[fe.heap_len--],Me(fe,Ze,1),qe=fe.heap[1],fe.heap[--fe.heap_max]=Le,fe.heap[--fe.heap_max]=qe,Ze[2*Te]=Ze[2*Le]+Ze[2*qe],fe.depth[Te]=(fe.depth[Le]>=fe.depth[qe]?fe.depth[Le]:fe.depth[qe])+1,Ze[2*Le+1]=Ze[2*qe+1]=Te,fe.heap[1]=Te++,Me(fe,Ze,1),2<=fe.heap_len;);fe.heap[--fe.heap_max]=fe.heap[1],function(Ne,Oe){var ft,et,Pt,Nt,Yt,Rt,Xt=Oe.dyn_tree,nn=Oe.max_code,ln=Oe.stat_desc.static_tree,Pn=Oe.stat_desc.has_stree,zn=Oe.stat_desc.extra_bits,Vr=Oe.stat_desc.extra_base,ir=Oe.stat_desc.max_length,Rn=0;for(Nt=0;Nt<=A;Nt++)Ne.bl_count[Nt]=0;for(Xt[2*Ne.heap[Ne.heap_max]+1]=0,ft=Ne.heap_max+1;ft<y;ft++)ir<(Nt=Xt[2*Xt[2*(et=Ne.heap[ft])+1]+1]+1)&&(Nt=ir,Rn++),Xt[2*et+1]=Nt,nn<et||(Ne.bl_count[Nt]++,Yt=0,Vr<=et&&(Yt=zn[et-Vr]),Rt=Xt[2*et],Ne.opt_len+=Rt*(Nt+Yt),Pn&&(Ne.static_len+=Rt*(ln[2*et+1]+Yt)));if(Rn!==0){do{for(Nt=ir-1;Ne.bl_count[Nt]===0;)Nt--;Ne.bl_count[Nt]--,Ne.bl_count[Nt+1]+=2,Ne.bl_count[ir]--,Rn-=2}while(0<Rn);for(Nt=ir;Nt!==0;Nt--)for(et=Ne.bl_count[Nt];et!==0;)nn<(Pt=Ne.heap[--ft])||(Xt[2*Pt+1]!==Nt&&(Ne.opt_len+=(Nt-Xt[2*Pt+1])*Xt[2*Pt],Xt[2*Pt+1]=Nt),et--)}}(fe,Ce),Se(Ze,ve,fe.bl_count)}function Y(fe,Ce,Le){var qe,Te,Ze=-1,ut=Ce[1],rt=0,Pe=7,ve=4;for(ut===0&&(Pe=138,ve=3),Ce[2*(Le+1)+1]=65535,qe=0;qe<=Le;qe++)Te=ut,ut=Ce[2*(qe+1)+1],++rt<Pe&&Te===ut||(rt<ve?fe.bl_tree[2*Te]+=rt:Te!==0?(Te!==Ze&&fe.bl_tree[2*Te]++,fe.bl_tree[2*M]++):rt<=10?fe.bl_tree[2*R]++:fe.bl_tree[2*z]++,Ze=Te,ve=(rt=0)===ut?(Pe=138,3):Te===ut?(Pe=6,3):(Pe=7,4))}function Ae(fe,Ce,Le){var qe,Te,Ze=-1,ut=Ce[1],rt=0,Pe=7,ve=4;for(ut===0&&(Pe=138,ve=3),qe=0;qe<=Le;qe++)if(Te=ut,ut=Ce[2*(qe+1)+1],!(++rt<Pe&&Te===ut)){if(rt<ve)for(;ne(fe,Te,fe.bl_tree),--rt!=0;);else Te!==0?(Te!==Ze&&(ne(fe,Te,fe.bl_tree),rt--),ne(fe,M,fe.bl_tree),J(fe,rt-3,2)):rt<=10?(ne(fe,R,fe.bl_tree),J(fe,rt-3,3)):(ne(fe,z,fe.bl_tree),J(fe,rt-11,7));Ze=Te,ve=(rt=0)===ut?(Pe=138,3):Te===ut?(Pe=6,3):(Pe=7,4)}}u(oe);var re=!1;function be(fe,Ce,Le,qe){J(fe,(d<<1)+(qe?1:0),3),function(Te,Ze,ut,rt){ke(Te),B(Te,ut),B(Te,~ut),a.arraySet(Te.pending_buf,Te.window,Ze,ut,Te.pending),Te.pending+=ut}(fe,Ce,Le)}i._tr_init=function(fe){re||(function(){var Ce,Le,qe,Te,Ze,ut=new Array(A+1);for(Te=qe=0;Te<f-1;Te++)for(G[Te]=qe,Ce=0;Ce<1<<_[Te];Ce++)N[qe++]=Te;for(N[qe-1]=Te,Te=Ze=0;Te<16;Te++)for(oe[Te]=Ze,Ce=0;Ce<1<<L[Te];Ce++)F[Ze++]=Te;for(Ze>>=7;Te<g;Te++)for(oe[Te]=Ze<<7,Ce=0;Ce<1<<L[Te]-7;Ce++)F[256+Ze++]=Te;for(Le=0;Le<=A;Le++)ut[Le]=0;for(Ce=0;Ce<=143;)O[2*Ce+1]=8,Ce++,ut[8]++;for(;Ce<=255;)O[2*Ce+1]=9,Ce++,ut[9]++;for(;Ce<=279;)O[2*Ce+1]=7,Ce++,ut[7]++;for(;Ce<=287;)O[2*Ce+1]=8,Ce++,ut[8]++;for(Se(O,b+1,ut),Ce=0;Ce<g;Ce++)j[2*Ce+1]=5,j[2*Ce]=le(Ce,5);H=new U(O,_,m+1,b,A),Q=new U(j,L,0,g,A),te=new U(new Array(0),$,0,x,C)}(),re=!0),fe.l_desc=new se(fe.dyn_ltree,H),fe.d_desc=new se(fe.dyn_dtree,Q),fe.bl_desc=new se(fe.bl_tree,te),fe.bi_buf=0,fe.bi_valid=0,xe(fe)},i._tr_stored_block=be,i._tr_flush_block=function(fe,Ce,Le,qe){var Te,Ze,ut=0;0<fe.level?(fe.strm.data_type===2&&(fe.strm.data_type=function(rt){var Pe,ve=4093624447;for(Pe=0;Pe<=31;Pe++,ve>>>=1)if(1&ve&&rt.dyn_ltree[2*Pe]!==0)return s;if(rt.dyn_ltree[18]!==0||rt.dyn_ltree[20]!==0||rt.dyn_ltree[26]!==0)return l;for(Pe=32;Pe<m;Pe++)if(rt.dyn_ltree[2*Pe]!==0)return l;return s}(fe)),Ve(fe,fe.l_desc),Ve(fe,fe.d_desc),ut=function(rt){var Pe;for(Y(rt,rt.dyn_ltree,rt.l_desc.max_code),Y(rt,rt.dyn_dtree,rt.d_desc.max_code),Ve(rt,rt.bl_desc),Pe=x-1;3<=Pe&&rt.bl_tree[2*Z[Pe]+1]===0;Pe--);return rt.opt_len+=3*(Pe+1)+5+5+4,Pe}(fe),Te=fe.opt_len+3+7>>>3,(Ze=fe.static_len+3+7>>>3)<=Te&&(Te=Ze)):Te=Ze=Le+5,Le+4<=Te&&Ce!==-1?be(fe,Ce,Le,qe):fe.strategy===4||Ze===Te?(J(fe,2+(qe?1:0),3),He(fe,O,j)):(J(fe,4+(qe?1:0),3),function(rt,Pe,ve,Ne){var Oe;for(J(rt,Pe-257,5),J(rt,ve-1,5),J(rt,Ne-4,4),Oe=0;Oe<Ne;Oe++)J(rt,rt.bl_tree[2*Z[Oe]+1],3);Ae(rt,rt.dyn_ltree,Pe-1),Ae(rt,rt.dyn_dtree,ve-1)}(fe,fe.l_desc.max_code+1,fe.d_desc.max_code+1,ut+1),He(fe,fe.dyn_ltree,fe.dyn_dtree)),xe(fe),qe&&ke(fe)},i._tr_tally=function(fe,Ce,Le){return fe.pending_buf[fe.d_buf+2*fe.last_lit]=Ce>>>8&255,fe.pending_buf[fe.d_buf+2*fe.last_lit+1]=255&Ce,fe.pending_buf[fe.l_buf+fe.last_lit]=255&Le,fe.last_lit++,Ce===0?fe.dyn_ltree[2*Le]++:(fe.matches++,Ce--,fe.dyn_ltree[2*(N[Le]+m+1)]++,fe.dyn_dtree[2*q(Ce)]++),fe.last_lit===fe.lit_bufsize-1},i._tr_align=function(fe){J(fe,2,3),ne(fe,T,O),function(Ce){Ce.bi_valid===16?(B(Ce,Ce.bi_buf),Ce.bi_buf=0,Ce.bi_valid=0):8<=Ce.bi_valid&&(Ce.pending_buf[Ce.pending++]=255&Ce.bi_buf,Ce.bi_buf>>=8,Ce.bi_valid-=8)}(fe)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(a){(function(s,l){if(!s.setImmediate){var u,d,f,m,b=1,g={},x=!1,y=s.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(s);A=A&&A.setTimeout?A:s,u={}.toString.call(s.process)==="[object process]"?function(M){process.nextTick(function(){C(M)})}:function(){if(s.postMessage&&!s.importScripts){var M=!0,R=s.onmessage;return s.onmessage=function(){M=!1},s.postMessage("","*"),s.onmessage=R,M}}()?(m="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",T,!1):s.attachEvent("onmessage",T),function(M){s.postMessage(m+M,"*")}):s.MessageChannel?((f=new MessageChannel).port1.onmessage=function(M){C(M.data)},function(M){f.port2.postMessage(M)}):y&&"onreadystatechange"in y.createElement("script")?(d=y.documentElement,function(M){var R=y.createElement("script");R.onreadystatechange=function(){C(M),R.onreadystatechange=null,d.removeChild(R),R=null},d.appendChild(R)}):function(M){setTimeout(C,0,M)},A.setImmediate=function(M){typeof M!="function"&&(M=new Function(""+M));for(var R=new Array(arguments.length-1),z=0;z<R.length;z++)R[z]=arguments[z+1];var _={callback:M,args:R};return g[b]=_,u(b),b++},A.clearImmediate=w}function w(M){delete g[M]}function C(M){if(x)setTimeout(C,0,M);else{var R=g[M];if(R){x=!0;try{(function(z){var _=z.callback,L=z.args;switch(L.length){case 0:_();break;case 1:_(L[0]);break;case 2:_(L[0],L[1]);break;case 3:_(L[0],L[1],L[2]);break;default:_.apply(l,L)}})(R)}finally{w(M),x=!1}}}}function T(M){M.source===s&&typeof M.data=="string"&&M.data.indexOf(m)===0&&C(+M.data.slice(m.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(kw)),kw.exports}var WJ=HJ();const YJ=ts(WJ),VJ=async(e,n,t)=>{const r=new YJ,i=["timestamp,question,answer"];n.forEach(({timestamp:u,question:d,answer:f})=>{i.push(`"${new Date(u).toLocaleString()}","${d.replace(/"/g,'""')}","${f.replace(/"/g,'""')}"`)}),r.file(`${e}.csv`,i.join(`
`)),r.file(`${e}_metadata.json`,JSON.stringify(t,null,4));const a=await r.generateAsync({type:"blob"}),s=URL.createObjectURL(a),l=document.createElement("a");l.href=s,l.download=`${e}.zip`,document.body.appendChild(l),l.click(),document.body.removeChild(l)},GJ=op(de)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"600px",maxHeight:"80vh",overflowY:"auto",backgroundColor:"#fff",borderRadius:"10px",boxShadow:"0px 5px 15px rgba(0,0,0,0.2)",padding:"20px"}),QJ=op(de)({marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"}),KJ=({open:e,onClose:n,conversationHistory:t,conversationId:r,conversationHistoryError:i,chatbotDetails:a,userId:s,startedAt:l})=>{const u=async()=>{const d={conversationId:r,userId:s,chatbotId:a.chatbotId,chatbotTitle:a.chatbotTitle,startedAt:new Date(l).toLocaleString(),courseTitle:a.courseTitle,courseId:a.courseId,materialTitle:a.materialTitle,materialId:a.materialId,materialLink:a.materialLink,chatbotCreatedBy:a.chatbotCreatedBy,chatbotCreatedAt:new Date(a.chatbotCreatedAt).toLocaleString()};await VJ(r,t,d)};return h.jsx(Ox,{open:e,onClose:n,children:h.jsxs(GJ,{children:[h.jsxs(QJ,{children:[h.jsxs(he,{variant:"h6",children:["Conversation History for ",r]}),h.jsx(fi,{title:"Download ZIP",children:h.jsx(_n,{onClick:u,"aria-label":"Download as ZIP",children:h.jsx(uF,{})})})]}),i&&h.jsx(he,{color:"error",sx:{marginBottom:"20px"},children:i}),t.length===0?h.jsx(he,{children:"No messages found in this conversation."}):h.jsx(Xh,{children:t.map((d,f)=>h.jsx(xd,{sx:{padding:"10px 0"},children:h.jsx(fc,{primary:`Q: ${d.question}`,secondary:`A: ${d.answer} (${new Date(d.timestamp).toLocaleString()})`})},f))}),h.jsx(Ct,{variant:"contained",onClick:n,style:{marginTop:"20px",backgroundColor:"#000",color:"#fff"},children:"Close"})]})})},XJ=({totalItems:e,itemsPerPage:n,currentPage:t,onPageChange:r})=>{const i=Math.ceil(e/n),a=()=>{t>1&&r(t-1)},s=()=>{t<i&&r(t+1)};return h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:3},children:[h.jsx(Ct,{variant:"outlined",disabled:t===1,onClick:a,children:"Previous"}),h.jsxs(he,{variant:"body1",children:["Page ",t," of ",i]}),h.jsx(Ct,{variant:"outlined",disabled:t===i,onClick:s,children:"Next"})]})},ZJ=({chatbotId:e})=>{const n=Xn(),[t,r]=X.useState(null),[i,a]=X.useState(!0),[s,l]=X.useState(null);if(X.useEffect(()=>{e!=="All"&&(async()=>{a(!0),l(null);try{const C=Il(dn(n,"chatbots"),Li("chatbotId","==",e)),T=await Ai(C);T.empty?l("Chatbot details not found!"):r(T.docs[0].data())}catch(C){console.error("Error fetching chatbot details:",C),l("Failed to fetch chatbot details.")}finally{a(!1)}})()},[n,e]),i)return h.jsx(de,{sx:{mt:3},children:h.jsx(Zr,{})});if(s)return h.jsx(he,{variant:"body1",color:"error",sx:{mt:3},children:s});if(!t)return null;const{title:u="N/A",courseId:d,createdBy:f="Unknown",timestamp:m,material:b}=t,g=(d==null?void 0:d.title)||"N/A",x=(b==null?void 0:b.title)||"N/A",y=(b==null?void 0:b.id)||"N/A",A=`https://institute-for-future-intelligence.github.io/nexlab/view-material/${y}`;return h.jsxs(de,{sx:{mt:3,p:2,border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:[h.jsx(he,{variant:"h6",children:"Chatbot Details"}),h.jsxs(he,{variant:"body1",children:[h.jsx("strong",{children:"Title:"})," ",u]}),h.jsxs(he,{variant:"body1",children:[h.jsx("strong",{children:"Course:"})," ",g]}),h.jsxs(he,{variant:"body1",children:[h.jsx("strong",{children:"Material:"})," ",y!=="N/A"?h.jsx(q1,{href:A,target:"_blank",rel:"noopener noreferrer",children:x}):x]}),h.jsx(qs,{sx:{my:2}}),h.jsxs(he,{variant:"body1",children:[h.jsx("strong",{children:"Created By:"})," ",f]}),h.jsxs(he,{variant:"body1",children:[h.jsx("strong",{children:"Created At:"})," ",m?new Date(m).toLocaleString():"N/A"]})]})},P4=op(Ct)({width:100,height:40,display:"flex",alignItems:"center",justifyContent:"center"}),JJ=({open:e,onClose:n,onConfirm:t,conversationId:r,deleting:i})=>h.jsxs(Zi,{open:e,onClose:n,children:[h.jsx(pa,{children:"Confirm Deletion"}),h.jsx(Ji,{children:h.jsxs(Ll,{children:["Are you sure you want to delete the conversation with ID: ",h.jsx("strong",{children:r}),"? This action cannot be undone."]})}),h.jsxs(ma,{children:[h.jsx(P4,{onClick:n,color:"primary",variant:"outlined",children:"Cancel"}),h.jsx(P4,{onClick:t,color:"error",disabled:i,children:i?h.jsx(Zr,{size:20,color:"inherit"}):"Delete"})]})]}),eee=()=>{const e=Xn(),[n,t]=X.useState([]),[r,i]=X.useState([]),[a,s]=X.useState(1),[l]=X.useState(10),[u,d]=X.useState(!0),[f,m]=X.useState(null),[b,g]=X.useState([]),[x,y]=X.useState(null),[A,w]=X.useState(!1),[C,T]=X.useState(null),[M,R]=X.useState({}),z="https://rag-flask-api.onrender.com",[_,L]=X.useState([]),[$,Z]=X.useState([]),[O,j]=X.useState("All"),[F,N]=X.useState("All"),[G,H]=X.useState(null),[Q,te]=X.useState(null),[oe,U]=X.useState(!1),[se,q]=X.useState(null),[B,J]=X.useState(!1),[ne,le]=X.useState({open:!1,message:"",type:"success"}),Se=()=>{le(re=>({...re,open:!1}))};X.useEffect(()=>{(async()=>{try{const fe=(await Ai(dn(e,"conversations"))).docs.map(qe=>({id:qe.id,...qe.data()}));t(fe);const Ce=Array.from(new Set(fe.map(qe=>qe.chatbotId)));L(fe.length>0?["All",...Ce]:[]);const Le=Array.from(new Set(fe.map(qe=>qe.userId)));Z(fe.length>0?["All",...Le]:[]),i(fe)}catch(be){console.error("Error fetching chatbot conversations:",be),m("Failed to load conversations. Please try again later.")}finally{d(!1)}})()},[e]);const xe=(re,be)=>{re==="chatbot"?j(be):N(be);const fe=re==="chatbot"?be:O,Ce=re==="user"?be:F;let Le=n;fe!=="All"&&(Le=Le.filter(qe=>qe.chatbotId===fe)),Ce!=="All"&&(Le=Le.filter(qe=>qe.userId===Ce)),i(Le),fe==="All"&&Ce==="All"&&i(n),s(1)},ke=async(re,be,fe,Ce)=>{var Le,qe,Te,Ze,ut;R(rt=>({...rt,[be]:!0})),y(null);try{const rt=await ba.get(`${z}/conversations/${re}/${be}`);g(rt.data);const Ne=(await(async()=>{try{const Oe=new Map;return(await Ai(dn(e,"chatbots"))).forEach(et=>{Oe.set(et.data().chatbotId,et.data())}),Oe}catch(Oe){return console.error("Error fetching chatbots:",Oe),new Map}})()).get(re);H(Ne?{chatbotId:re,chatbotTitle:Ne.title||"N/A",courseTitle:((Le=Ne.courseId)==null?void 0:Le.title)||"N/A",courseId:((qe=Ne.courseId)==null?void 0:qe.id)||"N/A",materialTitle:((Te=Ne.material)==null?void 0:Te.title)||"N/A",materialId:((Ze=Ne.material)==null?void 0:Ze.id)||"N/A",materialLink:`https://institute-for-future-intelligence.github.io/nexlab/view-material/${((ut=Ne.material)==null?void 0:ut.id)||""}`,chatbotCreatedBy:Ne.createdBy||"Unknown",chatbotCreatedAt:Ne.timestamp||"N/A"}:null),te({userId:fe,startedAt:Ce}),T({chatbotId:re,conversationId:be}),w(!0)}catch(rt){console.error("Error fetching conversation or chatbot details:",rt),y("Failed to fetch conversation history or chatbot details.")}finally{R(rt=>({...rt,[be]:!1}))}},De=a*l,Me=De-l,He=r.slice(Me,De);if(u)return h.jsx(de,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:h.jsx(Zr,{})});if(f)return h.jsx(de,{sx:{textAlign:"center",mt:4},children:h.jsx(he,{variant:"h6",color:"error",children:f})});const Ve=re=>{q(re),U(!0)},Y=()=>{U(!1),q(null)},Ae=async()=>{if(se){J(!0);try{await $1(fn(e,"conversations",se)),t(re=>re.filter(be=>be.id!==se)),i(re=>re.filter(be=>be.id!==se)),le({open:!0,message:"Conversation deleted successfully.",type:"success"}),Y()}catch(re){console.error("Error deleting conversation:",re),le({open:!0,message:"Failed to delete the conversation. Please try again.",type:"error"})}finally{J(!1),Y()}}};return h.jsxs(de,{className:"profile-container",sx:{p:4},children:[h.jsx(Ao,{title:"Chatbot Conversations"}),h.jsxs(de,{sx:{display:"flex",gap:2,mb:3},children:[h.jsxs(Od,{sx:{minWidth:200},children:[h.jsx(lp,{id:"filter-chatbot-id",children:"Filter by Chatbot ID"}),h.jsx(Dc,{labelId:"filter-chatbot-id",value:O,onChange:re=>xe("chatbot",re.target.value),children:_.length>0?_.map(re=>h.jsx(ai,{value:re,children:re},re)):h.jsx(ai,{value:"",disabled:!0,children:"No Chatbots Available"})})]}),h.jsxs(Od,{sx:{minWidth:200},children:[h.jsx(lp,{id:"filter-user-id",children:"Filter by User ID"}),h.jsx(Dc,{labelId:"filter-user-id",value:F,onChange:re=>xe("user",re.target.value),children:$.map(re=>h.jsx(ai,{value:re,children:re},re))})]})]}),O!=="All"&&h.jsx(ZJ,{chatbotId:O}),h.jsxs(de,{className:"profile-container",sx:{p:4},children:[h.jsx(hZ,{conversations:He,onViewHistory:(re,be,fe)=>ke(re,be,fe.userId,fe.startedAt),onDeleteConversation:Ve,loadingMap:M,loading:u}),h.jsx(JJ,{open:oe,onClose:Y,onConfirm:Ae,conversationId:se||"",deleting:B})]}),h.jsx(XJ,{totalItems:r.length,itemsPerPage:l,currentPage:a,onPageChange:s}),C&&G&&Q&&h.jsx(KJ,{open:A,onClose:()=>{w(!1),T(null)},conversationHistory:b,conversationId:C.conversationId,conversationHistoryError:x,chatbotDetails:G,userId:Q.userId,startedAt:Q.startedAt}),h.jsx(Rl,{open:ne.open,autoHideDuration:3e3,onClose:Se,message:ne.message,anchorOrigin:{vertical:"top",horizontal:"center"},ContentProps:{style:{backgroundColor:ne.type==="success"?"#4caf50":"#f44336"}}})]})},tee=({requests:e,loading:n=!1,onApprove:t,chatbotIdMap:r,onChatbotIdChange:i})=>{const[a,s]=X.useState(0),[l,u]=X.useState(10),d=A=>{switch(A.toLowerCase()){case"approved":return"success";case"pending":return"warning";case"denied":return"error";default:return"default"}},f=A=>A.charAt(0).toUpperCase()+A.slice(1),m=(A,w)=>A==="approved"?"Approved":A==="denied"?"Denied":"Enter ID",b=[{id:"title",label:"Title",width:"15%",render:A=>h.jsx(Xa,{text:A,maxLength:999,weight:"semibold"})},{id:"courseNumber",label:"Course",width:"18%",render:(A,w)=>h.jsxs(de,{sx:{display:"flex",flexDirection:"column",gap:$e[1]},children:[h.jsx(wp,{courseId:w.courseId,courseNumber:A,courseTitle:w.courseTitle,variant:"link",maxTitleLength:999}),h.jsx(Gj,{courseId:w.courseId})]})},{id:"materialTitle",label:"Material",width:"15%",render:(A,w)=>h.jsxs(de,{sx:{display:"flex",flexDirection:"column",gap:$e[1]},children:[A&&w.materialId?h.jsx(Wj,{materialId:w.materialId,materialTitle:A,variant:"link",maxTitleLength:999}):h.jsx(Xa,{text:"N/A",variant:"secondary"}),w.materialId&&h.jsx(ZM,{materialId:w.materialId})]})},{id:"educatorId",label:"Educator",width:"12%",render:A=>h.jsx(oh,{userId:A,userType:"educator"})},{id:"timestamp",label:"Submitted",width:"10%",render:A=>h.jsx(Sp,{date:new Date(A),format:"full"})},{id:"status",label:"Status",width:"8%",render:A=>h.jsx(yv,{label:f(A),status:d(A)})},{id:"files",label:"Files",width:"8%",render:A=>h.jsxs(de,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[A&&A.length>0?A.slice(0,2).map((w,C)=>h.jsxs(q1,{href:w,target:"_blank",rel:"noopener noreferrer",sx:{fontSize:"0.7rem",color:K.primary[600],textDecoration:"none","&:hover":{textDecoration:"underline"}},children:["File ",C+1]},C)):h.jsx(Xa,{text:"No files",variant:"secondary"}),A&&A.length>2&&h.jsx(Xa,{text:`+${A.length-2}`,variant:"secondary"})]})},{id:"chatbotId",label:"Chatbot ID",width:"12%",render:(A,w)=>w.status==="pending"?h.jsx(Jt,{size:"small",variant:"outlined",placeholder:"Enter ID",value:r[w.id]||"",onChange:T=>i(w.id,T.target.value),sx:{width:"100%","& .MuiOutlinedInput-root":{fontSize:we.fontSize.xs,height:"32px",fontFamily:"monospace"}}}):A?h.jsx(Vj,{chatbotId:A}):h.jsx(Xa,{text:"Not assigned",variant:"secondary"})},{id:"actions",label:"Action",width:"8%",align:"center",render:(A,w)=>{var M;const C=w.status==="pending",T=(M=r[w.id])==null?void 0:M.trim();return C?h.jsx(G1,{actions:[{icon:p1.add,tooltip:T?"Approve Request":"Enter Chatbot ID first",onClick:()=>t(w.id,r[w.id]),disabled:!T,color:K.success,hoverColor:K.success+"20"}]}):h.jsx(Xa,{text:m(w.status),variant:"secondary",weight:"medium"})}}],g=(A,w)=>{s(w)},x=A=>{u(parseInt(A.target.value,10)),s(0)},y=e.slice(a*l,a*l+l);return h.jsxs(de,{children:[h.jsx(sh,{data:y,columns:b,loading:n,emptyMessage:"No chatbot requests found.",stickyHeader:!1}),e.length>0&&h.jsx(gn,{elevation:0,sx:{borderRadius:0,borderTop:`1px solid ${K.neutral[200]}`},children:h.jsx(B9,{rowsPerPageOptions:[5,10,25,50],component:"div",count:e.length,rowsPerPage:l,page:a,onPageChange:g,onRowsPerPageChange:x,sx:{"& .MuiTablePagination-toolbar":{paddingLeft:$e[4],paddingRight:$e[4]},"& .MuiTablePagination-selectLabel, & .MuiTablePagination-displayedRows":{color:K.text.secondary,fontSize:we.fontSize.sm}}})})]})},nee=()=>{const[e,n]=X.useState([]),[t,r]=X.useState(!0),[i,a]=X.useState({}),[s,l]=X.useState(!1),[u,d]=X.useState(""),[f,m]=X.useState("success");X.useEffect(()=>{(async()=>{const A=Xn(),w=dn(A,"chatbotRequests");try{const T=(await Ai(w)).docs.map(M=>({id:M.id,...M.data()}));n(T)}catch(C){console.error("Error fetching chatbot requests:",C)}finally{r(!1)}})()},[]);const b=async y=>{const A=i[y];if(!A){d("Please assign a Chatbot ID before approving the request."),m("error"),l(!0);return}try{const w=Xn(),C=fn(w,"chatbotRequests",y),T=await ga(C);if(!T.exists()){d("Request not found. Please refresh the page."),m("error"),l(!0);return}const M=T.data();if(M.status!=="pending"){d("This request has already been processed."),m("warning"),l(!0);return}await Hr(C,{status:"approved",chatbotId:A});const R={chatbotId:A,title:M.title,courseId:{id:M.courseId,number:M.courseNumber,title:M.courseTitle},material:{id:M.materialId||null,title:M.materialTitle||"N/A"},createdBy:M.educatorId,files:M.files,timestamp:new Date().toISOString()};await Si(dn(w,"chatbots"),R),n(z=>z.map(_=>_.id===y?{..._,status:"approved",chatbotId:A}:_)),d("Chatbot request approved and chatbot created successfully!"),m("success"),l(!0)}catch(w){console.error("Error approving chatbot request or creating chatbot:",w),d("Failed to approve the request and create the chatbot. Please try again."),m("error"),l(!0)}},g=()=>{l(!1)},x=(y,A)=>{a(w=>({...w,[y]:A}))};return t?h.jsx(de,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:h.jsx(Zr,{})}):e.length===0?h.jsx(he,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):h.jsxs(de,{sx:{p:$e[6],backgroundColor:K.background.primary,minHeight:"100vh"},children:[h.jsx(Ao,{title:"Chatbot Requests Management"}),h.jsx(he,{variant:"body1",sx:{mb:$e[4],color:K.text.secondary},children:"Manage chatbot requests submitted by educators. Approve requests and assign Chatbot IDs."}),h.jsx(tee,{requests:e,loading:t,onApprove:b,chatbotIdMap:i,onChatbotIdChange:x}),h.jsx(Rl,{open:s,autoHideDuration:6e3,onClose:g,children:h.jsx(rr,{onClose:g,severity:f,sx:{width:"100%"},children:u})})]})},T1=Xn(),j1={CHATBOTS:"chatbots",QUIZ_SESSIONS:"quizSessions",QUIZ_EVENTS:"quizEvents",USERS:"users"},ree=async()=>{var e,n,t,r;try{console.log(" Loading chatbots with quiz information...");const i=Il(dn(T1,j1.CHATBOTS),mv("timestamp","desc")),a=await Ai(i),s=[];for(const l of a.docs){const u=l.data(),d={chatbotId:u.chatbotId,title:u.title||"Untitled Chatbot",materialTitle:((e=u.material)==null?void 0:e.title)||"Unknown Material",materialId:((n=u.material)==null?void 0:n.id)||"",courseId:((t=u.courseId)==null?void 0:t.id)||"",courseTitle:((r=u.courseId)==null?void 0:r.title)||"Unknown Course",createdBy:u.createdBy||"",timestamp:u.timestamp||new Date().toISOString(),quizId:null,hasQuiz:!0};s.push(d)}for(const l of s)try{const u=Il(dn(T1,j1.QUIZ_SESSIONS),Li("chatbotId","==",l.chatbotId),gv(1)),d=await Ai(u);if(!d.empty){const f=d.docs[0].data();l.quizId=f.quizId||null}}catch(u){console.warn(` Could not fetch quiz ID for chatbot ${l.chatbotId}:`,u),l.quizId=null}return console.log(` Loaded ${s.length} chatbots with quiz information`),s}catch(i){throw console.error(" Error loading chatbots with quizzes:",i),i}},iee=async(e={},n=100,t)=>{var r,i;try{console.log(" Loading enhanced quiz sessions with filters:",e);const a=dn(T1,j1.QUIZ_SESSIONS),s=[];e.chatbotId&&s.push(Li("chatbotId","==",e.chatbotId)),e.difficulty&&e.difficulty!=="all"&&s.push(Li("difficulty","==",e.difficulty)),e.completionStatus&&e.completionStatus!=="all"&&s.push(Li("completed","==",e.completionStatus==="completed")),e.userId&&s.push(Li("userId","==",e.userId)),e.dateRange&&(s.push(Li("startedAt",">=",Xi.fromDate(new Date(e.dateRange.start)))),s.push(Li("startedAt","<=",Xi.fromDate(new Date(e.dateRange.end))))),s.push(mv("startedAt","desc")),s.push(gv(n));const l=Il(a,...s),u=await Ai(l),d=[],f=new Map;for(const g of u.docs){const x=g.data();let y=f.get(x.userId);if(!y){const M=x.userId.length>12?`${x.userId.substring(0,8)}...${x.userId.slice(-4)}`:x.userId.substring(0,12);y={email:M,displayName:`User ${M}`},f.set(x.userId,y)}let A,w;if(x.startedAt&&x.submittedAt){const M=x.startedAt.toMillis(),R=x.submittedAt.toMillis(),z=Math.round((R-M)/1e3),_=Math.floor(z/60),L=z%60;A=z,w=`${_}m ${L}s`}const C=Object.keys(x.finalAnswers||{}).length,T={id:g.id,quizId:x.quizId,chatbotId:x.chatbotId,userId:x.userId,userEmail:y.email,userName:y.displayName,difficulty:x.difficulty,startedAt:x.startedAt.toDate().toISOString(),submittedAt:(r=x.submittedAt)==null?void 0:r.toDate().toISOString(),closedAt:(i=x.closedAt)==null?void 0:i.toDate().toISOString(),completed:x.completed,answers:x.finalAnswers||{},summary:x.summary,questionsAttempted:C,timeSpent:A,timeSpentFormatted:w};d.push(T)}const m=u.docs.length===n,b=u.docs.length>0?u.docs[u.docs.length-1]:void 0;return console.log(` Loaded ${d.length} enhanced quiz sessions`),{sessions:d,hasMore:m,lastDoc:b}}catch(a){throw console.error(" Error loading enhanced quiz sessions:",a),a}},aee=async e=>{var n;try{console.log(" Loading quiz pool for quiz:",e);const t=Il(dn(T1,j1.QUIZ_SESSIONS),Li("quizId","==",e),mv("startedAt","desc"),gv(50)),r=await Ai(t),i=new Set,a=new Map;for(const m of r.docs){const b=m.data();(n=b.summary)!=null&&n.items&&Object.keys(b.summary.items).forEach(g=>{i.add(g)}),b.finalAnswers&&Object.entries(b.finalAnswers).forEach(([g,x])=>{i.add(g),a.has(g)||a.set(g,x)})}const s=Array.from(i).map(m=>{const b=a.get(m)||"",g=b.length>0?`Question about: ${b.split(" ").slice(0,10).join(" ")}${b.split(" ").length>10?"...":""}`:"Question text not available";return{questionId:m,question:g,category:"Biology Fundamentals",difficulty:"medium",maxScore:100}}),l=s.length>0?s:[{questionId:"no-sessions-found",question:"No quiz sessions found for this quiz ID. Question IDs will appear here once students take quizzes.",category:"Biology Fundamentals",difficulty:"medium",maxScore:100}],u={},d={easy:0,medium:0,hard:0};l.forEach(m=>{u[m.category]=(u[m.category]||0)+1,d[m.difficulty]=(d[m.difficulty]||0)+1});const f={quizId:e,chatbotId:e,questions:l,categoryCounts:u,difficultyBreakdown:d,totalQuestions:l.length,lastUpdated:new Date().toISOString()};return console.log(` Loaded quiz pool with ${l.length} real question IDs from ${r.docs.length} sessions`),f}catch(t){throw console.error(" Error loading quiz pool:",t),t}},see=e=>{try{console.log(" Generating quiz analytics from",e.length,"sessions");const n=e.filter(f=>f.completed&&f.summary),t=e.length,r=t>0?n.length/t*100:0,i=n.length>0?n.reduce((f,m)=>{var b;return f+(((b=m.summary)==null?void 0:b.percent)||0)},0)/n.length:0,a=e.filter(f=>f.timeSpent).length>0?Math.round(e.filter(f=>f.timeSpent).reduce((f,m)=>f+(m.timeSpent||0),0)/e.filter(f=>f.timeSpent).length):0,s={easy:0,medium:0,hard:0};e.forEach(f=>{s[f.difficulty]=(s[f.difficulty]||0)+1});const l={};n.forEach(f=>{var m;(m=f.summary)!=null&&m.items&&Object.values(f.summary.items).forEach(b=>{const g="Mixed Questions";l[g]||(l[g]={averageScore:0,totalAttempts:0,successRate:0}),l[g].totalAttempts+=1,l[g].averageScore+=b.score,b.verdict==="correct"&&(l[g].successRate+=1)})}),Object.keys(l).forEach(f=>{const m=l[f];m.totalAttempts>0&&(m.averageScore=m.averageScore/m.totalAttempts,m.successRate=m.successRate/m.totalAttempts*100)});const u={daily:{},weekly:{},monthly:{}};e.forEach(f=>{const m=new Date(f.startedAt),b=m.toISOString().split("T")[0],g=`${m.getFullYear()}-W${Math.ceil(m.getDate()/7)}`,x=`${m.getFullYear()}-${String(m.getMonth()+1).padStart(2,"0")}`;u.daily[b]=(u.daily[b]||0)+1,u.weekly[g]=(u.weekly[g]||0)+1,u.monthly[x]=(u.monthly[x]||0)+1});const d={totalSessions:t,completionRate:r,averageScore:i,averageTimeSpent:a,difficultyDistribution:s,categoryPerformance:l,timeBasedStats:u};return console.log(" Generated quiz analytics:",d),d}catch(n){throw console.error(" Error generating quiz analytics:",n),n}},oee=async e=>{var n;try{console.log(" Exporting quiz session data for:",e);const t=await ga(fn(T1,j1.QUIZ_SESSIONS,e));if(!t.exists())throw new Error("Quiz session not found");const r=t.data(),i={sessionId:e,quizId:r.quizId,chatbotId:r.chatbotId,userId:r.userId,difficulty:r.difficulty,startedAt:r.startedAt.toDate().toISOString(),submittedAt:(n=r.submittedAt)==null?void 0:n.toDate().toISOString(),completed:r.completed,answers:r.finalAnswers||{},summary:r.summary,exportedAt:new Date().toISOString()},a=JSON.stringify(i,null,2),s=new Blob([a],{type:"application/json"});return console.log(" Quiz session data exported successfully"),s}catch(t){throw console.error(" Error exporting quiz session data:",t),t}},z4={difficulty:"all",completionStatus:"all"},sD=vp()(Q1(xv((e,n)=>({courses:[],selectedCourse:null,chatbotsWithQuizzes:[],filteredChatbots:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,filters:z4,selectedSession:null,loadChatbotsWithQuizzes:async()=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading chatbots with quizzes...");const t=await ree(),r=new Map;t.forEach(a=>{r.has(a.courseId)||r.set(a.courseId,{courseId:a.courseId,courseTitle:a.courseTitle,chatbotCount:0,quizCount:0});const s=r.get(a.courseId);s.chatbotCount++,a.quizId&&s.quizCount++});const i=Array.from(r.values()).sort((a,s)=>a.courseTitle.localeCompare(s.courseTitle));e({chatbotsWithQuizzes:t,courses:i,filteredChatbots:t,loading:!1}),console.log(` Loaded ${t.length} chatbots with quiz information from ${i.length} courses`)}catch(t){console.error(" Failed to load chatbots with quizzes:",t),e({error:t instanceof Error?t.message:"Failed to load chatbots",loading:!1})}},selectCourse:t=>{console.log(" Quiz Management Store: Selecting course:",t==null?void 0:t.courseId);const{chatbotsWithQuizzes:r}=n(),i=t?r.filter(a=>a.courseId===t.courseId):r;e({selectedCourse:t,filteredChatbots:i,selectedChatbot:null,selectedSession:null,quizSessions:[]})},selectChatbot:t=>{console.log(" Quiz Management Store: Selecting chatbot:",t==null?void 0:t.chatbotId),e({selectedChatbot:t,selectedSession:null,filters:{...n().filters,chatbotId:t==null?void 0:t.chatbotId}}),t&&n().loadQuizSessions(t.chatbotId)},loadQuizSessions:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading quiz sessions for chatbot:",t);const r=n().filters,i=t?{...r,chatbotId:t}:r,a=await iee(i);e({quizSessions:a.sessions,loading:!1}),n().generateAnalytics(),console.log(` Loaded ${a.sessions.length} enhanced quiz sessions`)}catch(r){console.error(" Failed to load quiz sessions:",r),e({error:r instanceof Error?r.message:"Failed to load quiz sessions",loading:!1})}},loadQuizPool:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading quiz pool for:",t);const r=await aee(t);e(i=>({quizPools:{...i.quizPools,[t]:r},loading:!1})),console.log(` Loaded quiz pool with ${r.totalQuestions} questions`)}catch(r){console.error(" Failed to load quiz pool:",r),e({error:r instanceof Error?r.message:"Failed to load quiz pool",loading:!1})}},updateFilters:t=>{const r={...n().filters,...t};console.log(" Quiz Management Store: Updating filters:",r),e({filters:r}),n().loadQuizSessions(r.chatbotId)},selectSession:t=>{console.log(" Quiz Management Store: Selecting session:",t==null?void 0:t.id),e({selectedSession:t})},generateAnalytics:()=>{try{const{quizSessions:t}=n();console.log(" Quiz Management Store: Generating analytics from",t.length,"sessions");const r=see(t);e({analytics:r}),console.log(" Generated quiz analytics successfully")}catch(t){console.error(" Failed to generate analytics:",t),e({error:t instanceof Error?t.message:"Failed to generate analytics"})}},exportSessionData:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Exporting session data for:",t);const r=await oee(t),i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=`quiz-session-${t}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i),e({loading:!1}),console.log(" Quiz session data exported successfully")}catch(r){console.error(" Failed to export session data:",r),e({error:r instanceof Error?r.message:"Failed to export session data",loading:!1})}},clearError:()=>{e({error:null})},reset:()=>{console.log(" Quiz Management Store: Resetting store state"),e({chatbotsWithQuizzes:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,filters:z4,selectedSession:null})}}),{name:"quiz-management-store",partialize:e=>({filters:e.filters,selectedChatbot:e.selectedChatbot}),merge:(e,n)=>({...n,...e||{},courses:[],selectedCourse:null,chatbotsWithQuizzes:[],filteredChatbots:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,selectedSession:null})}),{name:"quiz-management-store"})),lee=({courses:e,selectedCourse:n,onSelect:t,loading:r=!1})=>h.jsx(de,{children:h.jsx(fj,{value:n,onChange:(i,a)=>t(a),options:e,getOptionLabel:i=>i.courseTitle,loading:r,renderInput:i=>h.jsx(Jt,{...i,label:"Select Course",placeholder:"Choose a course to filter materials...",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, sans-serif","& fieldset":{borderColor:"#CDDAFF",borderWidth:2},"&:hover fieldset":{borderColor:"#0B53C0"},"&.Mui-focused fieldset":{borderColor:"#0B53C0",borderWidth:2}},"& .MuiInputLabel-root":{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",fontWeight:"bold","&.Mui-focused":{color:"#0B53C0"}}},InputProps:{...i.InputProps,endAdornment:h.jsxs(h.Fragment,{children:[r?h.jsx(Zr,{color:"inherit",size:20}):null,i.InputProps.endAdornment]})}}),renderOption:(i,a)=>{const{...s}=i;return h.jsx(de,{component:"li",...s,sx:{"&:hover":{backgroundColor:"#F0F4FF !important"}},children:h.jsxs(de,{sx:{display:"flex",alignItems:"center",width:"100%",p:2},children:[h.jsx(Id,{sx:{mr:2,flexShrink:0,color:"#0B53C0",fontSize:28}}),h.jsxs(de,{sx:{flex:1,minWidth:0},children:[h.jsx(he,{variant:"subtitle1",noWrap:!0,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#0B53C0",fontWeight:"bold"},children:a.courseTitle}),h.jsxs(he,{variant:"body2",sx:{fontFamily:"Gabarito, sans-serif",color:"#666666",display:"flex",alignItems:"center",mt:.5},children:[h.jsx(Lc,{sx:{fontSize:14,mr:.5}}),a.chatbotCount," material",a.chatbotCount!==1?"s":"","  ",a.quizCount," quiz",a.quizCount!==1?"zes":""," available"]})]}),h.jsxs(de,{sx:{ml:2,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:.5},children:[h.jsx(cr,{label:`${a.chatbotCount} Material${a.chatbotCount!==1?"s":""}`,size:"small",sx:{backgroundColor:"#CDDAFF",color:"#0B53C0",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}}),a.quizCount>0&&h.jsx(cr,{label:`${a.quizCount} Quiz${a.quizCount!==1?"zes":""}`,size:"small",sx:{backgroundColor:"#C8E6C9",color:"#2E7D32",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}})]})]})},a.courseId)},PaperComponent:i=>h.jsx(gn,{...i,sx:{mt:1,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #CDDAFF",backgroundColor:"#FFFFFF"}}),isOptionEqualToValue:(i,a)=>i.courseId===a.courseId,noOptionsText:r?"Loading courses...":"No courses found.",clearOnBlur:!0,selectOnFocus:!0})}),uee=({chatbots:e,selectedChatbot:n,onSelect:t,loading:r=!1})=>h.jsxs(de,{children:[h.jsx(fj,{value:n,onChange:(i,a)=>t(a),options:e,getOptionLabel:i=>i.title,loading:r,renderInput:i=>h.jsx(Jt,{...i,label:"Select Chatbot & Material",placeholder:"Choose a chatbot to view its quiz data...",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, sans-serif","& fieldset":{borderColor:"#CDDAFF",borderWidth:2},"&:hover fieldset":{borderColor:"#0B53C0"},"&.Mui-focused fieldset":{borderColor:"#0B53C0",borderWidth:2}},"& .MuiInputLabel-root":{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",fontWeight:"bold","&.Mui-focused":{color:"#0B53C0"}}},InputProps:{...i.InputProps,endAdornment:h.jsxs(h.Fragment,{children:[r?h.jsx(Zr,{color:"inherit",size:20}):null,i.InputProps.endAdornment]})}}),renderOption:(i,a)=>{const{...s}=i;return h.jsx(de,{component:"li",...s,sx:{"&:hover":{backgroundColor:"#F0F4FF !important"}},children:h.jsxs(de,{sx:{display:"flex",alignItems:"center",width:"100%",p:2},children:[h.jsx(Lc,{sx:{mr:2,flexShrink:0,color:"#0B53C0",fontSize:28}}),h.jsxs(de,{sx:{flex:1,minWidth:0},children:[h.jsx(he,{variant:"subtitle1",noWrap:!0,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#0B53C0",fontWeight:"bold"},children:a.title}),h.jsxs(he,{variant:"body2",noWrap:!0,sx:{fontFamily:"Gabarito, sans-serif",color:"#666666",display:"flex",alignItems:"center",mt:.5},children:[h.jsx($9,{sx:{fontSize:14,mr:.5}}),a.materialTitle]}),h.jsxs(he,{variant:"caption",noWrap:!0,sx:{fontFamily:"Gabarito, sans-serif",color:"#888888",display:"flex",alignItems:"center",mt:.25},children:[h.jsx(Id,{sx:{fontSize:12,mr:.5}}),a.courseTitle]})]}),h.jsxs(de,{sx:{ml:2,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:.5},children:[a.quizId&&h.jsx(cr,{label:"Quiz Available",size:"small",sx:{backgroundColor:"#C8E6C9",color:"#2E7D32",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}}),h.jsxs(he,{variant:"caption",sx:{fontFamily:"monospace",color:a.quizId?"#0B53C0":"#888888",fontSize:"0.7rem",backgroundColor:a.quizId?"#F0F4FF":"#F5F5F5",padding:"2px 6px",borderRadius:"4px",border:`1px solid ${a.quizId?"#CDDAFF":"#E0E0E0"}`},children:["Quiz: ",a.quizId?a.quizId.substring(0,8)+"...":"N/A"]}),h.jsxs(he,{variant:"caption",sx:{fontFamily:"monospace",color:"#888888",fontSize:"0.65rem"},children:["ChatBot: ",a.chatbotId.substring(0,8),"..."]})]})]})},a.chatbotId)},PaperComponent:i=>h.jsx(gn,{...i,sx:{mt:1,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #CDDAFF",backgroundColor:"#FFFFFF"}}),isOptionEqualToValue:(i,a)=>i.chatbotId===a.chatbotId,noOptionsText:r?"Loading chatbots...":"No chatbots found. Create a chatbot first to see quiz data.",clearOnBlur:!0,handleHomeEndKeys:!0}),e.length===0&&!r&&h.jsx(de,{sx:{mt:2,p:2,bgcolor:"info.light",borderRadius:1},children:h.jsxs(he,{variant:"body2",color:"info.contrastText",children:[h.jsx("strong",{children:"No chatbots available."})," You need to create chatbots first before you can manage quiz sessions. Each chatbot automatically has an associated quiz with predefined questions."]})})]}),cee=({sessions:e,loading:n=!1,onViewDetails:t,onExportSession:r})=>{const i=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),a=l=>{switch(l){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},s=l=>l>=80?"success":l>=60?"warning":"error";return n?h.jsxs(de,{sx:{width:"100%",mt:2},children:[h.jsx(Ko,{}),h.jsx(he,{variant:"body2",sx:{mt:1,textAlign:"center"},children:"Loading quiz sessions..."})]}):e.length===0?h.jsxs(de,{sx:{textAlign:"center",py:8},children:[h.jsx(Lc,{sx:{fontSize:64,color:"text.secondary",mb:2}}),h.jsx(he,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No quiz sessions found"}),h.jsx(he,{variant:"body2",color:"text.secondary",children:"No quiz sessions have been completed for this chatbot yet. Students need to take quizzes to see data here."})]}):h.jsx(dv,{component:gn,variant:"outlined",children:h.jsxs(fv,{children:[h.jsx(hv,{children:h.jsxs(yc,{children:[h.jsx(kn,{children:h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Lc,{fontSize:"small"}),"Session ID"]})}),h.jsx(kn,{children:h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(hj,{fontSize:"small"}),"User ID"]})}),h.jsx(kn,{children:h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(U9,{fontSize:"small"}),"Date & Time"]})}),h.jsx(kn,{children:"Difficulty"}),h.jsx(kn,{children:"Status"}),h.jsx(kn,{align:"center",children:"Questions"}),h.jsx(kn,{align:"center",children:"Time Spent"}),h.jsx(kn,{align:"center",children:"Score"}),h.jsx(kn,{align:"center",children:"Performance"}),h.jsx(kn,{align:"center",children:"Actions"})]})}),h.jsx(pv,{children:e.map(l=>h.jsxs(yc,{hover:!0,children:[h.jsx(kn,{children:h.jsx(he,{variant:"body2",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:l.id})}),h.jsx(kn,{children:h.jsx(he,{variant:"body2",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:l.userId})}),h.jsx(kn,{children:h.jsxs(de,{children:[h.jsx(he,{variant:"body2",children:i(l.startedAt)}),l.submittedAt&&h.jsxs(he,{variant:"caption",color:"text.secondary",children:["Submitted: ",i(l.submittedAt)]})]})}),h.jsx(kn,{children:h.jsx(cr,{label:l.difficulty.charAt(0).toUpperCase()+l.difficulty.slice(1),color:a(l.difficulty),size:"small"})}),h.jsx(kn,{children:h.jsx(cr,{label:l.completed?"Completed":"In Progress",color:l.completed?"success":"warning",size:"small",variant:l.completed?"filled":"outlined"})}),h.jsxs(kn,{align:"center",children:[h.jsx(he,{variant:"body2",fontWeight:"medium",children:l.questionsAttempted}),h.jsx(he,{variant:"caption",color:"text.secondary",children:"attempted"})]}),h.jsx(kn,{align:"center",children:l.timeSpentFormatted?h.jsxs(de,{children:[h.jsx(he,{variant:"body2",fontWeight:"medium",children:l.timeSpentFormatted}),h.jsx(he,{variant:"caption",color:"text.secondary",children:"duration"})]}):h.jsx(he,{variant:"body2",color:"text.secondary",children:"-"})}),h.jsx(kn,{align:"center",children:l.summary?h.jsxs(de,{children:[h.jsxs(he,{variant:"body2",fontWeight:"bold",children:[l.summary.total_score,"/",l.summary.total_max]}),h.jsx(he,{variant:"caption",color:"text.secondary",children:"points"})]}):h.jsx(he,{variant:"body2",color:"text.secondary",children:"-"})}),h.jsx(kn,{align:"center",children:l.summary?h.jsx(cr,{label:`${Math.round(l.summary.percent)}%`,color:s(l.summary.percent),size:"small"}):h.jsx(he,{variant:"body2",color:"text.secondary",children:"-"})}),h.jsx(kn,{align:"center",children:h.jsxs(eS,{direction:"row",spacing:1,justifyContent:"center",children:[h.jsx(fi,{title:"View Details",children:h.jsx(_n,{size:"small",onClick:()=>t(l),color:"primary",children:h.jsx(M6,{fontSize:"small"})})}),h.jsx(fi,{title:"Export Data",children:h.jsx(_n,{size:"small",onClick:()=>r(l.id),color:"secondary",children:h.jsx(c1,{fontSize:"small"})})})]})})]},l.id))})]})})},dee=({analytics:e})=>{const n=i=>{switch(i){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},t=i=>i>=70?"success":i>=50?"warning":"error",r=i=>{if(i===0)return"0s";const a=Math.floor(i/60),s=i%60;return a===0?`${s}s`:s===0?`${a}m`:`${a}m ${s}s`};return h.jsx(Za,{sx:{mb:4,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:h.jsxs(Ja,{sx:{p:3},children:[h.jsxs(he,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[h.jsx(H9,{color:"primary"}),"Quiz Analytics & Insights"]}),h.jsxs(wt,{container:!0,spacing:3,sx:{mb:4},children:[h.jsx(wt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(de,{sx:{textAlign:"center",p:2,bgcolor:"#CDDAFF",borderRadius:2,border:"1px solid #0B53C0"},children:[h.jsx(Lc,{sx:{fontSize:40,color:"#0B53C0",mb:1}}),h.jsx(he,{variant:"h4",sx:{color:"#0B53C0",fontFamily:"Staatliches, sans-serif"},children:e.totalSessions}),h.jsx(he,{variant:"body2",sx:{color:"#0B53C0",fontFamily:"Gabarito, sans-serif"},children:"Total Sessions"})]})}),h.jsx(wt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(de,{sx:{textAlign:"center",p:2,bgcolor:"#C8E6C9",borderRadius:2,border:"1px solid #2E7D32"},children:[h.jsx(B1,{sx:{fontSize:40,color:"#2E7D32",mb:1}}),h.jsxs(he,{variant:"h4",sx:{color:"#2E7D32",fontFamily:"Staatliches, sans-serif"},children:[Math.round(e.completionRate),"%"]}),h.jsx(he,{variant:"body2",sx:{color:"#2E7D32",fontFamily:"Gabarito, sans-serif"},children:"Completion Rate"})]})}),h.jsx(wt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(de,{sx:{textAlign:"center",p:2,bgcolor:"#E3F2FD",borderRadius:2,border:"1px solid #1565C0"},children:[h.jsx(pj,{sx:{fontSize:40,color:"#1565C0",mb:1}}),h.jsxs(he,{variant:"h4",sx:{color:"#1565C0",fontFamily:"Staatliches, sans-serif"},children:[Math.round(e.averageScore),"%"]}),h.jsx(he,{variant:"body2",sx:{color:"#1565C0",fontFamily:"Gabarito, sans-serif"},children:"Average Score"})]})}),h.jsx(wt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(de,{sx:{textAlign:"center",p:2,bgcolor:"#FFF3E0",borderRadius:2,border:"1px solid #F57C00"},children:[h.jsx(Z0,{sx:{fontSize:40,color:"#F57C00",mb:1}}),h.jsx(he,{variant:"h4",sx:{color:"#F57C00",fontFamily:"Staatliches, sans-serif"},children:r(e.averageTimeSpent)}),h.jsx(he,{variant:"body2",sx:{color:"#F57C00",fontFamily:"Gabarito, sans-serif"},children:"Avg. Time Spent"})]})})]}),h.jsx(qs,{sx:{my:3}}),h.jsxs(wt,{container:!0,spacing:4,children:[h.jsxs(wt,{item:!0,xs:12,md:6,children:[h.jsxs(he,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Lc,{color:"primary"}),"Difficulty Distribution"]}),h.jsx(de,{sx:{mt:2},children:Object.entries(e.difficultyDistribution).map(([i,a])=>{const s=e.totalSessions>0?a/e.totalSessions*100:0;return h.jsxs(de,{sx:{mb:2},children:[h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(cr,{label:i.charAt(0).toUpperCase()+i.slice(1),color:n(i),size:"small"}),h.jsxs(he,{variant:"body2",children:[a," sessions"]})]}),h.jsxs(he,{variant:"body2",color:"text.secondary",children:[Math.round(s),"%"]})]}),h.jsx(Ko,{variant:"determinate",value:s,color:n(i),sx:{height:8,borderRadius:4}})]},i)})})]}),h.jsxs(wt,{item:!0,xs:12,md:6,children:[h.jsxs(he,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Id,{color:"primary"}),"Bloom's Taxonomy Performance"]}),h.jsx(de,{sx:{mt:2},children:Object.entries(e.categoryPerformance).map(([i,a])=>h.jsxs(de,{sx:{mb:2},children:[h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[h.jsxs(de,{children:[h.jsx(he,{variant:"body2",fontWeight:"medium",children:i}),h.jsxs(he,{variant:"caption",color:"text.secondary",children:[a.totalAttempts," attempts"]})]}),h.jsxs(de,{sx:{textAlign:"right"},children:[h.jsxs(he,{variant:"body2",fontWeight:"medium",children:[Math.round(a.averageScore),"%"]}),h.jsx(cr,{label:`${a.successRate}% success`,color:t(a.successRate),size:"small",variant:"outlined"})]})]}),h.jsx(Ko,{variant:"determinate",value:a.successRate,color:t(a.successRate),sx:{height:6,borderRadius:3}})]},i))})]})]})]})})},fee=({quizId:e,open:n,onClose:t})=>{const{quizPools:r,loading:i}=sD(),a=r[e],s=u=>({Remember:"success",Understand:"info",Apply:"primary",Analyze:"warning",Evaluate:"error",Create:"secondary"})[u]||"primary",l=u=>{const d=["Remember","Understand","Apply","Analyze","Evaluate","Create"],f=u.split("").reduce((m,b)=>m+b.charCodeAt(0),0);return d[f%d.length]};return i?h.jsx(Zi,{open:n,onClose:t,maxWidth:"md",fullWidth:!0,children:h.jsx(Ji,{children:h.jsxs(de,{sx:{display:"flex",flexDirection:"column",alignItems:"center",py:4},children:[h.jsx(Ko,{sx:{width:"100%",mb:2}}),h.jsx(he,{variant:"body1",children:"Loading quiz questions..."})]})})}):a?h.jsxs(Zi,{open:n,onClose:t,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{minHeight:"80vh"}},children:[h.jsx(pa,{children:h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs(de,{children:[h.jsx(he,{variant:"h5",component:"div",children:"Quiz Question Pool"}),h.jsxs(he,{variant:"body2",color:"text.secondary",children:["Quiz ID: ",e.substring(0,16),"..."]})]}),h.jsx(_n,{onClick:t,edge:"end",children:h.jsx(d1,{})})]})}),h.jsxs(Ji,{dividers:!0,children:[h.jsx(Za,{sx:{mb:3},children:h.jsxs(Ja,{children:[h.jsxs(he,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(pj,{color:"primary"}),"Pool Statistics"]}),h.jsxs(wt,{container:!0,spacing:3,children:[h.jsx(wt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(de,{sx:{textAlign:"center",p:2,bgcolor:"primary.light",borderRadius:1},children:[h.jsx(he,{variant:"h4",color:"primary.contrastText",children:a.totalQuestions}),h.jsx(he,{variant:"body2",color:"primary.contrastText",children:"Total Questions"})]})}),h.jsx(wt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(de,{sx:{textAlign:"center",p:2,bgcolor:"success.light",borderRadius:1},children:[h.jsx(he,{variant:"h4",color:"success.contrastText",children:a.difficultyBreakdown.easy||0}),h.jsx(he,{variant:"body2",color:"success.contrastText",children:"Easy Questions"})]})}),h.jsx(wt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(de,{sx:{textAlign:"center",p:2,bgcolor:"warning.light",borderRadius:1},children:[h.jsx(he,{variant:"h4",color:"warning.contrastText",children:a.difficultyBreakdown.medium||0}),h.jsx(he,{variant:"body2",color:"warning.contrastText",children:"Medium Questions"})]})}),h.jsx(wt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(de,{sx:{textAlign:"center",p:2,bgcolor:"error.light",borderRadius:1},children:[h.jsx(he,{variant:"h4",color:"error.contrastText",children:a.difficultyBreakdown.hard||0}),h.jsx(he,{variant:"body2",color:"error.contrastText",children:"Hard Questions"})]})})]})]})}),h.jsx(Za,{sx:{mb:3},children:h.jsxs(Ja,{children:[h.jsxs(he,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(W9,{color:"primary"}),"Bloom's Taxonomy Categories"]}),h.jsx(wt,{container:!0,spacing:2,children:Object.entries(a.categoryCounts).map(([u,d])=>{const f=d/a.totalQuestions*100;return h.jsx(wt,{item:!0,xs:12,sm:6,md:4,children:h.jsxs(de,{sx:{p:2,border:"1px solid",borderColor:"grey.300",borderRadius:1},children:[h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[h.jsx(cr,{label:u,color:s(u),size:"small"}),h.jsxs(he,{variant:"body2",fontWeight:"bold",children:[d," questions"]})]}),h.jsx(Ko,{variant:"determinate",value:f,color:s(u),sx:{height:6,borderRadius:3}}),h.jsxs(he,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:[Math.round(f),"% of total"]})]})},u)})})]})}),h.jsx(Za,{children:h.jsxs(Ja,{children:[h.jsxs(he,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(mj,{color:"primary"}),"Quiz Questions"]}),h.jsx(he,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"All available question IDs from the quiz pool. Questions are categorized using Bloom's taxonomy levels and automatically selected based on quiz difficulty mode."}),h.jsx(dv,{component:gn,variant:"outlined",children:h.jsxs(fv,{children:[h.jsx(hv,{children:h.jsxs(yc,{children:[h.jsx(kn,{children:"Question ID"}),h.jsx(kn,{children:"Question"}),h.jsx(kn,{align:"center",children:"Bloom's Taxonomy Category"})]})}),h.jsx(pv,{children:a.questions.map((u,d)=>{const f=l(u.category);return h.jsxs(yc,{hover:!0,children:[h.jsx(kn,{children:h.jsx(he,{variant:"body2",fontFamily:"monospace",children:u.questionId})}),h.jsx(kn,{children:h.jsx(he,{variant:"body2",sx:{maxWidth:400},children:u.question.length>120?`${u.question.substring(0,120)}...`:u.question})}),h.jsx(kn,{align:"center",children:h.jsx(cr,{label:f,color:s(f),size:"small"})})]},u.questionId)})})]})})]})}),h.jsx(qs,{sx:{my:3}}),h.jsxs(de,{sx:{p:2,bgcolor:"info.light",borderRadius:1},children:[h.jsxs(he,{variant:"body2",color:"info.contrastText",children:[h.jsx("strong",{children:"Quiz Question Pool:"})," This shows the available questions that can be selected for quizzes. When students take a quiz, questions are automatically chosen from this pool based on the selected difficulty mode: Easy (~5 questions), Medium (~8 questions), Hard (~10 questions)."]}),h.jsxs(he,{variant:"caption",color:"info.contrastText",sx:{mt:1,display:"block"},children:[h.jsx("strong",{children:"Note:"})," This is placeholder data for demonstration. Actual questions will be loaded from the quiz API."]})]})]}),h.jsx(ma,{children:h.jsx(Ct,{onClick:t,variant:"contained",children:"Close"})})]}):h.jsxs(Zi,{open:n,onClose:t,maxWidth:"md",fullWidth:!0,children:[h.jsx(pa,{children:h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsx(he,{variant:"h6",children:"Quiz Pool"}),h.jsx(_n,{onClick:t,edge:"end",children:h.jsx(d1,{})})]})}),h.jsx(Ji,{children:h.jsxs(de,{sx:{textAlign:"center",py:4},children:[h.jsx(he,{variant:"h6",color:"text.secondary",children:"Quiz pool not found"}),h.jsxs(he,{variant:"body2",color:"text.secondary",children:["Unable to load questions for quiz ID: ",e]})]})}),h.jsx(ma,{children:h.jsx(Ct,{onClick:t,children:"Close"})})]})},hee=({session:e,open:n,onClose:t})=>{const r=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),i=u=>{switch(u){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},a=u=>u==="correct"?"success":"error",s=u=>{const d=e.answers[u];if(!d)return"Question text not available";const f=d.split(" ");return f.length>15?`Question about: ${f.slice(0,15).join(" ")}...`:`Question about: ${d.substring(0,100)}${d.length>100?"...":""}`},l=()=>{const u={sessionId:e.id,quizId:e.quizId,chatbotId:e.chatbotId,student:{userId:e.userId,name:e.userName,email:e.userEmail},quiz:{difficulty:e.difficulty,startedAt:e.startedAt,submittedAt:e.submittedAt,completed:e.completed,timeSpent:e.timeSpent},answers:e.answers,summary:e.summary,exportedAt:new Date().toISOString()},d=JSON.stringify(u,null,2),f=new Blob([d],{type:"application/json"}),m=URL.createObjectURL(f),b=document.createElement("a");b.href=m,b.download=`quiz-session-${e.id}.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(m)};return h.jsxs(Zi,{open:n,onClose:t,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{minHeight:"80vh"}},children:[h.jsx(pa,{children:h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs(de,{children:[h.jsx(he,{variant:"h5",component:"div",children:"Quiz Session Details"}),h.jsxs(he,{variant:"body2",color:"text.secondary",children:["Session ID: ",e.id]})]}),h.jsx(_n,{onClick:t,edge:"end",children:h.jsx(d1,{})})]})}),h.jsxs(Ji,{dividers:!0,children:[h.jsx(Za,{sx:{mb:3},children:h.jsxs(Ja,{children:[h.jsxs(he,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(hj,{color:"primary"}),"User Information"]}),h.jsx(wt,{container:!0,spacing:2,children:h.jsxs(wt,{item:!0,xs:12,children:[h.jsx(he,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),h.jsx(he,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all"},children:e.userId})]})})]})}),h.jsx(Za,{sx:{mb:3},children:h.jsxs(Ja,{children:[h.jsxs(he,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Lc,{color:"primary"}),"Quiz Information"]}),h.jsxs(wt,{container:!0,spacing:2,children:[h.jsxs(wt,{item:!0,xs:12,md:6,children:[h.jsx(he,{variant:"subtitle2",color:"text.secondary",children:"Quiz ID"}),h.jsx(he,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:e.quizId})]}),h.jsxs(wt,{item:!0,xs:12,md:6,children:[h.jsx(he,{variant:"subtitle2",color:"text.secondary",children:"Chatbot ID"}),h.jsx(he,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:e.chatbotId})]}),h.jsxs(wt,{item:!0,xs:12,md:6,children:[h.jsx(he,{variant:"subtitle2",color:"text.secondary",children:"Difficulty"}),h.jsx(cr,{label:e.difficulty.charAt(0).toUpperCase()+e.difficulty.slice(1),color:i(e.difficulty),size:"small"})]}),h.jsxs(wt,{item:!0,xs:12,md:6,children:[h.jsx(he,{variant:"subtitle2",color:"text.secondary",children:"Status"}),h.jsx(cr,{label:e.completed?"Completed":"In Progress",color:e.completed?"success":"warning",size:"small"})]}),h.jsxs(wt,{item:!0,xs:12,md:6,children:[h.jsx(he,{variant:"subtitle2",color:"text.secondary",children:"Questions Attempted"}),h.jsxs(he,{variant:"body1",children:[e.questionsAttempted," questions answered"]})]}),h.jsxs(wt,{item:!0,xs:12,md:6,children:[h.jsx(he,{variant:"subtitle2",color:"text.secondary",children:"Quiz Mode"}),h.jsx(he,{variant:"body1",children:e.difficulty==="easy"?"~5 questions (Remember/Understand focus)":e.difficulty==="medium"?"~8 questions (Mixed difficulty)":"~10 questions (Analyze/Evaluate focus)"})]})]})]})}),h.jsx(Za,{sx:{mb:3},children:h.jsxs(Ja,{children:[h.jsxs(he,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Z0,{color:"primary"}),"Session Timeline"]}),h.jsxs(wt,{container:!0,spacing:2,children:[h.jsxs(wt,{item:!0,xs:12,md:4,children:[h.jsx(he,{variant:"subtitle2",color:"text.secondary",children:"Started At"}),h.jsx(he,{variant:"body1",children:r(e.startedAt)})]}),e.submittedAt&&h.jsxs(wt,{item:!0,xs:12,md:4,children:[h.jsx(he,{variant:"subtitle2",color:"text.secondary",children:"Submitted At"}),h.jsx(he,{variant:"body1",children:r(e.submittedAt)})]}),e.timeSpentFormatted&&h.jsxs(wt,{item:!0,xs:12,md:4,children:[h.jsx(he,{variant:"subtitle2",color:"text.secondary",children:"Time Spent"}),h.jsx(he,{variant:"body1",children:e.timeSpentFormatted})]})]})]})}),e.summary&&h.jsx(Za,{sx:{mb:3},children:h.jsxs(Ja,{children:[h.jsx(he,{variant:"h6",gutterBottom:!0,children:"Quiz Results"}),h.jsxs(wt,{container:!0,spacing:2,sx:{mb:3},children:[h.jsx(wt,{item:!0,xs:12,md:4,children:h.jsxs(de,{sx:{textAlign:"center",p:2,bgcolor:"primary.light",borderRadius:1},children:[h.jsx(he,{variant:"h4",color:"primary.contrastText",children:e.summary.total_score}),h.jsx(he,{variant:"body2",color:"primary.contrastText",children:"Total Score"})]})}),h.jsx(wt,{item:!0,xs:12,md:4,children:h.jsxs(de,{sx:{textAlign:"center",p:2,bgcolor:"info.light",borderRadius:1},children:[h.jsx(he,{variant:"h4",color:"info.contrastText",children:e.summary.total_max}),h.jsx(he,{variant:"body2",color:"info.contrastText",children:"Maximum Score"})]})}),h.jsx(wt,{item:!0,xs:12,md:4,children:h.jsxs(de,{sx:{textAlign:"center",p:2,bgcolor:"success.light",borderRadius:1},children:[h.jsxs(he,{variant:"h4",color:"success.contrastText",children:[Math.round(e.summary.percent),"%"]}),h.jsx(he,{variant:"body2",color:"success.contrastText",children:"Percentage"})]})})]}),h.jsx(qs,{sx:{my:2}}),h.jsx(he,{variant:"h6",gutterBottom:!0,children:"Question Results"}),h.jsx(dv,{component:gn,variant:"outlined",children:h.jsxs(fv,{size:"small",children:[h.jsx(hv,{children:h.jsxs(yc,{children:[h.jsx(kn,{children:"Question"}),h.jsx(kn,{align:"center",children:"Score"}),h.jsx(kn,{align:"center",children:"Max Score"}),h.jsx(kn,{align:"center",children:"Verdict"}),h.jsx(kn,{children:"Reasoning"})]})}),h.jsx(pv,{children:Object.entries(e.summary.items).map(([u,d])=>h.jsxs(yc,{children:[h.jsxs(kn,{children:[h.jsx(he,{variant:"body2",sx:{mb:1},children:s(u)}),h.jsxs(he,{variant:"caption",color:"text.secondary",fontFamily:"monospace",children:["ID: ",u]})]}),h.jsx(kn,{align:"center",children:h.jsx(he,{variant:"body2",fontWeight:"bold",children:d.score})}),h.jsx(kn,{align:"center",children:h.jsx(he,{variant:"body2",children:d.max_score})}),h.jsx(kn,{align:"center",children:(()=>{let f;return d.verdict==="correct"?f="correct":d.verdict==="incorrect"?f="incorrect":f=d.score>=d.max_score*.7?"correct":"incorrect",h.jsx(cr,{label:f,color:a(f),size:"small",icon:f==="correct"?h.jsx(B1,{}):h.jsx(D6,{})})})()}),h.jsx(kn,{children:h.jsx(he,{variant:"body2",children:d.reasoning||"No reasoning provided"})})]},u))})]})})]})}),Object.keys(e.answers).length>0&&h.jsx(Za,{children:h.jsxs(Ja,{children:[h.jsx(he,{variant:"h6",gutterBottom:!0,children:"User Answers"}),Object.entries(e.answers).map(([u,d],f)=>h.jsxs(vd,{children:[h.jsx(wd,{expandIcon:h.jsx(Tl,{}),children:h.jsxs(he,{variant:"subtitle1",children:["Question ",f+1," (",u,")"]})}),h.jsx(Sd,{children:h.jsx(de,{sx:{p:2,bgcolor:"grey.50",borderRadius:1},children:h.jsx(he,{variant:"body1",sx:{whiteSpace:"pre-wrap"},children:d})})})]},u))]})})]}),h.jsxs(ma,{children:[h.jsx(Ct,{startIcon:h.jsx(c1,{}),onClick:l,variant:"outlined",children:"Export Session Data"}),h.jsx(Ct,{onClick:t,variant:"contained",children:"Close"})]})]})},pee=()=>{ya();const{userDetails:e}=Pi(),{courses:n,selectedCourse:t,chatbotsWithQuizzes:r,filteredChatbots:i,selectedChatbot:a,quizSessions:s,analytics:l,loading:u,error:d,filters:f,selectedSession:m,loadChatbotsWithQuizzes:b,selectCourse:g,selectChatbot:x,loadQuizSessions:y,loadQuizPool:A,updateFilters:w,selectSession:C,exportSessionData:T,clearError:M}=sD(),[R,z]=X.useState(!1),[_,L]=X.useState(!1),[$,Z]=X.useState("");X.useEffect(()=>{console.log(" Enhanced Quiz Management Page: Initializing..."),b()},[b]);const O=U=>{g(U),U&&console.log(" Selected course:",U.courseTitle,"with",U.chatbotCount,"chatbots")},j=U=>{x(U),U&&console.log(" Selected chatbot:",U.title,"with quiz ID:",U.quizId)},F=U=>{C(U),z(!0)},N=async U=>{await A(U),L(!0)},G=()=>{b(),a&&y(a.chatbotId)},H=async U=>{await T(U)},Q=U=>{w({difficulty:U})},te=U=>{w({completionStatus:U})},oe=U=>{Z(U),w({userId:U||void 0})};return u&&r.length===0?h.jsxs(de,{sx:{width:"100%",mt:2},children:[h.jsx(Ko,{}),h.jsx(he,{variant:"body2",sx:{mt:1,textAlign:"center"},children:"Loading quiz management data..."})]}):h.jsxs(de,{className:"profile-container",children:[h.jsx(Ao,{title:"Quiz Management"}),h.jsx(de,{sx:{mb:4},children:h.jsx(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:h.jsx(de,{children:h.jsx(eS,{direction:"row",spacing:2,children:h.jsx(fi,{title:"Refresh Data",children:h.jsx("span",{children:h.jsx(_n,{onClick:G,disabled:u,children:h.jsx(ij,{})})})})})})})}),d&&h.jsx(rr,{severity:"error",sx:{mb:3},onClose:M,children:d}),h.jsx(Za,{sx:{mb:4,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:h.jsxs(Ja,{sx:{p:3},children:[h.jsxs(he,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[h.jsx(Id,{color:"primary"}),"Course & Quiz Selection"]}),h.jsx(he,{variant:"body2",sx:{mb:3,fontFamily:"Gabarito, sans-serif",color:"#666666"},children:"First select a course to filter materials, then choose a specific chatbot to view its quiz sessions and manage quiz data."}),h.jsx(de,{sx:{mb:3},children:h.jsx(lee,{courses:n,selectedCourse:t,onSelect:O,loading:u})}),h.jsx(de,{children:h.jsx(uee,{chatbots:i,selectedChatbot:a,onSelect:j,loading:u})}),a&&h.jsxs(de,{sx:{mt:3,p:2,bgcolor:"#F0F4FF",borderRadius:2,border:"1px solid #CDDAFF"},children:[h.jsxs(wt,{container:!0,spacing:2,children:[h.jsxs(wt,{item:!0,xs:12,md:6,children:[h.jsx(he,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Material"}),h.jsx(he,{variant:"body1",sx:{fontFamily:"Gabarito, sans-serif"},children:a.materialTitle})]}),h.jsxs(wt,{item:!0,xs:12,md:3,children:[h.jsx(he,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Course"}),h.jsx(he,{variant:"body1",sx:{fontFamily:"Gabarito, sans-serif"},children:a.courseTitle})]}),h.jsxs(wt,{item:!0,xs:12,md:3,children:[h.jsx(he,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Quiz ID"}),h.jsx(he,{variant:"body1",fontFamily:"monospace",sx:{fontSize:"0.875rem",wordBreak:"break-all",lineHeight:1.2},children:a.quizId||"No Quiz ID Available"})]})]}),h.jsxs(de,{sx:{mt:2,display:"flex",gap:2},children:[h.jsx(Ct,{variant:"outlined",startIcon:h.jsx(mj,{}),onClick:()=>a.quizId&&N(a.quizId),size:"small",sx:{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",borderColor:"#0B53C0","&:hover":{backgroundColor:"#0B53C0",color:"#FFFFFF"}},children:"View Quiz Questions"}),h.jsx(rk,{badgeContent:s.length,color:"primary",children:h.jsx(Ct,{variant:"outlined",size:"small",sx:{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",borderColor:"#0B53C0"},children:"Quiz Sessions"})})]})]})]})}),l&&h.jsx(dee,{analytics:l}),a&&h.jsx(Za,{sx:{backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:h.jsxs(Ja,{sx:{p:3},children:[h.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[h.jsxs(he,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[h.jsx(Lc,{color:"primary"}),"Quiz Sessions",h.jsx(rk,{badgeContent:s.length,color:"primary",sx:{ml:1}})]}),h.jsxs(eS,{direction:"row",spacing:2,alignItems:"center",flexWrap:"wrap",children:[h.jsx(Jt,{size:"small",label:"Filter by User ID",placeholder:"Enter user ID...",value:$,onChange:U=>oe(U.target.value),sx:{minWidth:200}}),h.jsxs(Od,{size:"small",sx:{minWidth:120},children:[h.jsx(lp,{children:"Difficulty"}),h.jsxs(Dc,{value:f.difficulty||"all",label:"Difficulty",onChange:U=>Q(U.target.value),children:[h.jsx(ai,{value:"all",children:"All Levels"}),h.jsx(ai,{value:"easy",children:"Easy"}),h.jsx(ai,{value:"medium",children:"Medium"}),h.jsx(ai,{value:"hard",children:"Hard"})]})]}),h.jsxs(Od,{size:"small",sx:{minWidth:120},children:[h.jsx(lp,{children:"Status"}),h.jsxs(Dc,{value:f.completionStatus||"all",label:"Status",onChange:U=>te(U.target.value),children:[h.jsx(ai,{value:"all",children:"All Sessions"}),h.jsx(ai,{value:"completed",children:"Completed"}),h.jsx(ai,{value:"incomplete",children:"In Progress"})]})]})]})]}),h.jsx(cee,{sessions:s,loading:u,onViewDetails:F,onExportSession:H})]})}),m&&h.jsx(hee,{session:m,open:R,onClose:()=>z(!1)}),(a==null?void 0:a.quizId)&&h.jsx(fee,{quizId:a.quizId,open:_,onClose:()=>L(!1)})]})},mee=X.lazy(()=>wi(()=>import("./index-C4K8GZwd.js"),__vite__mapDeps([7,4,1,5]))),gee=X.lazy(()=>wi(()=>import("./index-BOVeJIsZ.js"),__vite__mapDeps([8,4,1,9,5,10]))),bee=X.lazy(()=>wi(()=>import("./DesignDetailPage-BBBxLoNy.js"),__vite__mapDeps([11,4,1,9,5,10,12]))),yee=X.lazy(()=>wi(()=>import("./SupplementalMaterials-Icu_yTMR.js"),__vite__mapDeps([13,4,1,5]))),xee=X.lazy(()=>wi(()=>import("./MessagesPage-B_OPU07N.js"),__vite__mapDeps([14,4,1,5]))),Ig=({element:e})=>h.jsx(Uj,{children:h.jsx(Js,{element:e})}),vee=({element:e})=>h.jsx(bv,{children:e}),wee=(e,n)=>[{path:"/",element:e?h.jsx(Uj,{children:h.jsx(fF,{})}):h.jsx(vee,{element:h.jsx(mee,{})})},{path:"/messages",element:h.jsx(Ig,{element:xee})},{path:"/laboratory-notebook",element:h.jsx(Ig,{element:gee})},{path:"/laboratory-notebook/:designId",element:h.jsx(Ig,{element:bee})},{path:"/supplemental-materials",element:h.jsx(Ig,{element:yee})},{path:"/my-profile",element:h.jsx(Ig,{element:IX})},{path:"/add-material",element:h.jsx(Js,{element:JO})},{path:"/edit-material/:id",element:h.jsx(Js,{element:QQ})},{path:"/view-material/:id",element:h.jsx(Js,{element:vX})},{path:"/add-message",element:h.jsx(Js,{element:wX})},{path:"/edit-message/:id",element:h.jsx(Js,{element:SX})},{path:"/chatbot-management",element:h.jsx(Js,{element:uZ})},{path:"/course-management",element:h.jsx(Js,{element:WX})},{path:"/request-chatbot",element:h.jsx(Js,{element:fZ})},{path:"/quiz-management",element:h.jsx(Js,{element:pee})},{path:"/request-educator-permissions",element:h.jsx(Js,{element:JX})},{path:"/educator-requests",element:h.jsx(Js,{element:tZ})},{path:"/request-new-course",element:h.jsx(nZ,{})},{path:"/course-requests",element:h.jsx(iZ,{})},{path:"/super-admin-course-management",element:h.jsx(sZ,{})},{path:"/super-admin-chatbot-requests",element:h.jsx(Js,{element:nee})},...n?[{path:"/user-management",element:h.jsx(Js,{element:kX})},{path:"/chatbot-conversations",element:h.jsx(Js,{element:eee})}]:[],{path:"*",element:h.jsx(Pj,{to:"/"})}],See=aj(Hj()),Aee=vp()(xv((e,n)=>({isOpen:!0,isMobile:!1,messagesExpanded:!1,setOpen:t=>e({isOpen:t}),setMobile:t=>e({isMobile:t}),toggleMessages:()=>e(t=>({messagesExpanded:!t.messagesExpanded})),toggleSidebar:()=>e(t=>({isOpen:!t.isOpen}))}),{name:"nexlab-sidebar-storage",partialize:e=>({isOpen:e.isOpen,messagesExpanded:e.messagesExpanded})})),Cee=()=>{const e=yp(),n=jd(e.breakpoints.down("md"));return{...Aee(),isMobile:n}},Eee=({children:e})=>{const n=ya(),t=Y1(),{userDetails:r,isSuperAdmin:i}=Pi(),{isOpen:a,isMobile:s,setOpen:l,toggleSidebar:u}=Cee(),d=A=>{n(A),s&&l(!1)},f=A=>t.pathname===A,m=[{title:"Home",icon:h.jsx(Y9,{}),path:"/",roles:["student","educator","superadmin"],color:K.primary[500]},{title:"My Account",icon:h.jsx(oj,{}),path:"/my-profile",roles:["student","educator","superadmin"],color:K.primary[500]},{title:"Messages",icon:h.jsx(lj,{}),path:"/messages",roles:["student","educator","superadmin"],color:K.info},{title:"Course Materials",icon:h.jsx(Id,{}),path:"/supplemental-materials",roles:["student","educator","superadmin"],color:K.warning},{title:"Laboratory Notebook",icon:h.jsx(I6,{}),path:"/laboratory-notebook",roles:["student","educator","superadmin"],disabled:r&&!r.isAdmin&&(!r.classes||Object.keys(r.classes).length===0),color:K.secondary[500]}],b=[{title:"Course Management",icon:h.jsx(jx,{}),path:"/course-management",roles:["educator","superadmin"],color:K.primary[600]},{title:"Chatbot Management",icon:h.jsx(ik,{}),path:"/chatbot-management",roles:["educator","superadmin"],color:K.secondary[600]},{title:"Quiz Management",icon:h.jsx(Lc,{}),path:"/quiz-management",roles:["educator","superadmin"],color:K.warning},{title:"Request Chatbot",icon:h.jsx(ik,{}),path:"/request-chatbot",roles:["educator","superadmin"],color:K.info}],g=[{title:"User Management",icon:h.jsx(X9,{}),path:"/user-management",roles:["superadmin"],color:K.error},{title:"Educator Requests",icon:h.jsx(ak,{}),path:"/educator-requests",roles:["superadmin"],color:K.info},{title:"Course Requests",icon:h.jsx(jx,{}),path:"/course-requests",roles:["superadmin"],color:K.primary[600]},{title:"Super Admin Chatbot Requests",icon:h.jsx(ak,{}),path:"/super-admin-chatbot-requests",roles:["superadmin"],color:K.warning},{title:"Chatbot Conversations",icon:h.jsx(gj,{}),path:"/chatbot-conversations",roles:["superadmin"],color:K.primary[700]},{title:"Super Admin Course Management",icon:h.jsx(Z9,{}),path:"/super-admin-course-management",roles:["superadmin"],color:K.secondary[700]}],x=A=>{const w=f(A.path),C=i?"superadmin":r!=null&&r.isAdmin?"educator":"student";if(!A.roles.includes(C))return null;const M=h.jsxs(j5,{onClick:()=>d(A.path),disabled:A.disabled,sx:{minHeight:56,justifyContent:a?"initial":"center",px:a?3:2,mx:1,borderRadius:Et.lg,backgroundColor:w?A.color:"transparent",color:w?K.text.inverse:K.text.primary,fontFamily:we.fontFamily.display,fontWeight:w?we.fontWeight.bold:we.fontWeight.medium,fontSize:we.fontSize.lg,transition:"all 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94)",boxShadow:w?Ft.sm:"none","&:hover":{backgroundColor:w?A.color:K.neutral[100],transform:"translateY(-1px)",boxShadow:w?Ft.md:Ft.sm},"&:disabled":{opacity:.5,cursor:"not-allowed"}},children:[h.jsx(Zy,{sx:{minWidth:0,mr:a?2:"auto",justifyContent:"center",color:w?K.text.inverse:A.color,transition:"all 300ms cubic-bezier(0.25, 0.46, 0.45, 0.94)"},children:A.icon}),a&&h.jsx(fc,{primary:A.title,sx:{opacity:a?1:0,transform:a?"translateX(0)":"translateX(-20px)",transition:"opacity 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94)","& .MuiListItemText-primary":{fontSize:we.fontSize.lg,fontWeight:w?we.fontWeight.bold:we.fontWeight.medium,fontFamily:we.fontFamily.display}}})]});return A.disabled&&a?h.jsx(fi,{title:"Enroll in a course to access this feature",placement:"right",children:h.jsx("span",{children:M})}):M},y=h.jsxs(de,{sx:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:K.background.secondary,borderRight:`1px solid ${K.neutral[200]}`},children:[h.jsxs(de,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:a?3:2,minHeight:80,backgroundColor:K.background.primary,borderBottom:`1px solid ${K.neutral[200]}`,boxShadow:Ft.sm},children:[a&&h.jsx(de,{sx:{display:"flex",alignItems:"center",gap:2,flex:1},children:h.jsx(de,{sx:{flex:1}})}),h.jsx(_n,{onClick:u,sx:{backgroundColor:K.primary[100],color:K.primary[600],"&:hover":{backgroundColor:K.primary[200],transform:"scale(1.08) rotate(5deg)",boxShadow:Ft.md},"&:active":{transform:"scale(0.95)"},transition:"all 250ms cubic-bezier(0.34, 1.56, 0.64, 1)",borderRadius:Et.lg,zIndex:101},children:a?h.jsx(V9,{}):h.jsx(G9,{})})]}),h.jsxs(de,{sx:{flexGrow:1,overflow:"auto",py:2,"&::-webkit-scrollbar":{width:a?"8px":"6px",transition:"width 300ms ease"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:a?K.neutral[300]:K.neutral[200],borderRadius:"4px",transition:"background 300ms ease","&:hover":{background:a?K.neutral[400]:K.neutral[300]}},"&::-webkit-scrollbar-thumb:hover":{background:a?K.neutral[400]:K.neutral[300]},scrollbarWidth:"thin",scrollbarColor:`${a?K.neutral[300]:K.neutral[200]} transparent`},children:[h.jsx(Xh,{sx:{px:1},children:m.map((A,w)=>h.jsx(xd,{disablePadding:!0,sx:{display:"block",mb:.5},children:x(A)},w))}),(r==null?void 0:r.isAdmin)&&h.jsxs(h.Fragment,{children:[h.jsx(qs,{sx:{my:3,mx:2,borderColor:K.neutral[200]}}),h.jsx(de,{sx:{px:3,py:1},children:a&&h.jsx(he,{variant:"caption",sx:{fontFamily:we.fontFamily.display,fontWeight:we.fontWeight.bold,color:K.warning,fontSize:we.fontSize.xs,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Educator Tools"})}),h.jsx(Xh,{sx:{px:1},children:b.map((A,w)=>h.jsx(xd,{disablePadding:!0,sx:{display:"block",mb:.5},children:x(A)},`educator-${w}`))})]}),i&&h.jsxs(h.Fragment,{children:[h.jsx(qs,{sx:{my:3,mx:2,borderColor:K.neutral[200]}}),h.jsx(de,{sx:{px:3,py:1},children:a&&h.jsx(he,{variant:"caption",sx:{fontFamily:we.fontFamily.display,fontWeight:we.fontWeight.bold,color:K.error,fontSize:we.fontSize.xs,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Super Admin Tools"})}),h.jsx(Xh,{sx:{px:1},children:g.map((A,w)=>h.jsx(xd,{disablePadding:!0,sx:{display:"block",mb:.5},children:x(A)},`superadmin-${w}`))})]}),h.jsxs(de,{sx:{mt:"auto",p:2,borderTop:`1px solid ${K.neutral[200]}`,backgroundColor:K.background.primary},children:[h.jsx(de,{sx:{mb:2},children:h.jsxs(j5,{onClick:()=>{window.open("https://help.waveshi.org","_blank","noopener,noreferrer")},sx:{borderRadius:Et.lg,backgroundColor:K.secondary[50],color:K.secondary[700],fontFamily:we.fontFamily.display,fontWeight:we.fontWeight.medium,fontSize:we.fontSize.lg,"&:hover":{backgroundColor:K.secondary[100],transform:"translateY(-1px)",boxShadow:Ft.sm},transition:vc.transitions.normal},children:[h.jsx(Zy,{sx:{color:K.secondary[600]},children:h.jsx(Q9,{})}),a&&h.jsx(fc,{primary:"Provide Feedback",sx:{"& .MuiListItemText-primary":{fontSize:we.fontSize.lg,fontWeight:we.fontWeight.medium,fontFamily:we.fontFamily.display}}})]})}),h.jsxs(j5,{onClick:async()=>{try{await zj.signOut()}catch(A){console.error("Logout failed:",A)}},sx:{borderRadius:Et.lg,backgroundColor:K.error+"20",color:K.error,fontFamily:we.fontFamily.display,fontWeight:we.fontWeight.medium,fontSize:we.fontSize.lg,"&:hover":{backgroundColor:K.error+"30",transform:"translateY(-1px)",boxShadow:Ft.sm},transition:vc.transitions.normal},children:[h.jsx(Zy,{sx:{color:K.error},children:h.jsx(K9,{})}),a&&h.jsx(fc,{primary:"Logout",sx:{"& .MuiListItemText-primary":{fontSize:we.fontSize.lg,fontWeight:we.fontWeight.medium,fontFamily:we.fontFamily.display}}})]})]})]})]});return h.jsxs(de,{sx:{display:"flex",flex:1,width:"100%"},children:[h.jsx(de,{sx:{width:a?320:100,height:"100%",flexShrink:0,transition:"width 400ms cubic-bezier(0.25, 0.46, 0.45, 0.94), box-shadow 300ms ease-out",backgroundColor:K.primary[100],borderRight:`1px solid ${K.primary[200]}`,boxShadow:a?Ft.xl:Ft.md,overflow:"auto",position:"relative",zIndex:100,"&::-webkit-scrollbar":{width:a?"8px":"6px",transition:"width 300ms ease"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:a?K.neutral[300]:K.neutral[200],borderRadius:"4px",transition:"background 300ms ease","&:hover":{background:a?K.neutral[400]:K.neutral[300]}},scrollbarWidth:"thin",scrollbarColor:`${a?K.neutral[300]:K.neutral[200]} transparent`},children:y}),h.jsx(de,{sx:{flex:1,backgroundColor:"#F0F4FF",overflow:"auto",transition:"margin-left 400ms cubic-bezier(0.25, 0.46, 0.45, 0.94)"},children:e})]})},kee=()=>h.jsx(de,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",padding:$e[4],backgroundColor:K.primary[100],borderBottom:`1px solid ${K.primary[200]}`,boxShadow:Ft.sm,height:"100%",width:"100%",position:"relative",zIndex:1},children:h.jsxs(de,{sx:{display:"flex",alignItems:"center",gap:$e[4],width:"100%"},children:[h.jsx("img",{src:"/nexlab/nexlab-logo.png",alt:"NexLab Logo",style:{height:85,borderRadius:Et.lg}}),h.jsx(de,{className:"divider",sx:{height:"85px",borderLeft:`2px solid ${K.primary[500]}`,marginRight:$e[5]}}),h.jsx(he,{variant:"h4",component:"p",sx:{color:K.primary[700],fontFamily:we.fontFamily.secondary,fontSize:we.fontSize["2xl"],fontWeight:we.fontWeight.normal,whiteSpace:"nowrap",flex:1},children:"Next-Generation Experiments and Learning for Advanced Biotech"})]})}),_ee=()=>h.jsxs(de,{sx:{backgroundColor:K.primary[100],borderTop:`1px solid ${K.primary[200]}`,height:"10vh",minHeight:70,maxHeight:100,display:"flex",flexDirection:"column",justifyContent:"center",flexShrink:0},children:[h.jsx(qs,{}),h.jsxs(de,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flex:1,px:$e[4],gap:$e[4]},children:[h.jsx(de,{sx:{flex:.25,display:"flex",justifyContent:"center"},children:h.jsx("img",{src:"/nexlab/FooterLogoLong.png",alt:"Partner Logos",style:{height:60,borderRadius:Et.lg,border:`1px solid ${K.primary[700]}`,opacity:.8}})}),h.jsx(de,{className:"divider",sx:{height:"60px",borderLeft:`2px solid ${K.primary[500]}`,opacity:.8}}),h.jsx(de,{sx:{flex:.4},children:h.jsx(he,{variant:"body2",sx:{color:K.primary[700],fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.sm,lineHeight:1.4,opacity:.8},children:"This project is supported by the National Science Foundation (NSF) under grant number #2300976. Any opinions, findings, and conclusions or recommendations expressed in this material, however, are those of the authors and do not necessarily reflect the views of NSF."})}),h.jsx(de,{className:"divider",sx:{height:"60px",borderLeft:`2px solid ${K.primary[500]}`,opacity:.8}}),h.jsxs(de,{sx:{flex:.1},children:[h.jsx(he,{variant:"body2",sx:{color:K.primary[700],fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.sm,lineHeight:1.4,opacity:.8,mb:1},children:"Legal:"}),h.jsxs(he,{variant:"body2",sx:{color:K.primary[700],fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.sm,lineHeight:1.4,opacity:.8},children:[h.jsx("a",{href:"https://intofuture.org/nexlab-privacy.html",target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline",opacity:.8},children:"Privacy Policy"}),"  ",h.jsx("a",{href:"https://intofuture.org/nexlab-terms.html",target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline",opacity:.8},children:"Terms of Service"})]})]}),h.jsx(de,{className:"divider",sx:{height:"60px",borderLeft:`2px solid ${K.primary[500]}`,opacity:.8}}),h.jsx(de,{sx:{flex:.25},children:h.jsx(he,{variant:"body2",sx:{color:K.primary[700],fontFamily:we.fontFamily.secondary,fontSize:we.fontSize.sm,lineHeight:1.4,opacity:.8},children:" 2025 Institute for Future Intelligence and Kapi'olani Community College Antibody Engineering & Research Projects."})})]})]}),q4=["http","https","mailto","tel"];function Nee(e){const n=(e||"").trim(),t=n.charAt(0);if(t==="#"||t==="/")return n;const r=n.indexOf(":");if(r===-1)return n;let i=-1;for(;++i<q4.length;){const a=q4[i];if(r===a.length&&n.slice(0,a.length).toLowerCase()===a)return n}return i=n.indexOf("?"),i!==-1&&r>i||(i=n.indexOf("#"),i!==-1&&r>i)?n:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var _w,B4;function Tee(){return B4||(B4=1,_w=function(n){return n!=null&&n.constructor!=null&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}),_w}var jee=Tee();const oD=ts(jee);function i1(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?$4(e.position):"start"in e||"end"in e?$4(e):"line"in e||"column"in e?n6(e):""}function n6(e){return U4(e&&e.line)+":"+U4(e&&e.column)}function $4(e){return n6(e&&e.start)+"-"+n6(e&&e.end)}function U4(e){return e&&typeof e=="number"?e:1}class Ml extends Error{constructor(n,t,r){const i=[null,null];let a={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof t=="string"&&(r=t,t=void 0),typeof r=="string"){const s=r.indexOf(":");s===-1?i[1]=r:(i[0]=r.slice(0,s),i[1]=r.slice(s+1))}t&&("type"in t||"position"in t?t.position&&(a=t.position):"start"in t||"end"in t?a=t:("line"in t||"column"in t)&&(a.start=t)),this.name=i1(t)||"1:1",this.message=typeof n=="object"?n.message:n,this.stack="",typeof n=="object"&&n.stack&&(this.stack=n.stack),this.reason=this.message,this.fatal,this.line=a.start.line,this.column=a.start.column,this.position=a,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}Ml.prototype.file="";Ml.prototype.name="";Ml.prototype.reason="";Ml.prototype.message="";Ml.prototype.stack="";Ml.prototype.fatal=null;Ml.prototype.column=null;Ml.prototype.line=null;Ml.prototype.source=null;Ml.prototype.ruleId=null;Ml.prototype.position=null;const sc={basename:Oee,dirname:Iee,extname:Dee,join:Lee,sep:"/"};function Oee(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');lb(e);let t=0,r=-1,i=e.length,a;if(n===void 0||n.length===0||n.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(a){t=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(t,r)}if(n===e)return"";let s=-1,l=n.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(a){t=i+1;break}}else s<0&&(a=!0,s=i+1),l>-1&&(e.charCodeAt(i)===n.charCodeAt(l--)?l<0&&(r=i):(l=-1,r=s));return t===r?r=s:r<0&&(r=e.length),e.slice(t,r)}function Iee(e){if(lb(e),e.length===0)return".";let n=-1,t=e.length,r;for(;--t;)if(e.charCodeAt(t)===47){if(r){n=t;break}}else r||(r=!0);return n<0?e.charCodeAt(0)===47?"/":".":n===1&&e.charCodeAt(0)===47?"//":e.slice(0,n)}function Dee(e){lb(e);let n=e.length,t=-1,r=0,i=-1,a=0,s;for(;n--;){const l=e.charCodeAt(n);if(l===47){if(s){r=n+1;break}continue}t<0&&(s=!0,t=n+1),l===46?i<0?i=n:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||t<0||a===0||a===1&&i===t-1&&i===r+1?"":e.slice(i,t)}function Lee(...e){let n=-1,t;for(;++n<e.length;)lb(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":Ree(t)}function Ree(e){lb(e);const n=e.charCodeAt(0)===47;let t=Mee(e,!n);return t.length===0&&!n&&(t="."),t.length>0&&e.charCodeAt(e.length-1)===47&&(t+="/"),n?"/"+t:t}function Mee(e,n){let t="",r=0,i=-1,a=0,s=-1,l,u;for(;++s<=e.length;){if(s<e.length)l=e.charCodeAt(s);else{if(l===47)break;l=47}if(l===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(u=t.lastIndexOf("/"),u!==t.length-1){u<0?(t="",r=0):(t=t.slice(0,u),r=t.length-1-t.lastIndexOf("/")),i=s,a=0;continue}}else if(t.length>0){t="",r=0,i=s,a=0;continue}}n&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+e.slice(i+1,s):t=e.slice(i+1,s),r=s-i-1;i=s,a=0}else l===46&&a>-1?a++:a=-1}return t}function lb(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Fee={cwd:Pee};function Pee(){return"/"}function r6(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function zee(e){if(typeof e=="string")e=new URL(e);else if(!r6(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return qee(e)}function qee(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const n=e.pathname;let t=-1;for(;++t<n.length;)if(n.charCodeAt(t)===37&&n.charCodeAt(t+1)===50){const r=n.charCodeAt(t+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(n)}const Nw=["history","path","basename","stem","extname","dirname"];class lD{constructor(n){let t;n?typeof n=="string"||Bee(n)?t={value:n}:r6(n)?t={path:n}:t=n:t={},this.data={},this.messages=[],this.history=[],this.cwd=Fee.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<Nw.length;){const a=Nw[r];a in t&&t[a]!==void 0&&t[a]!==null&&(this[a]=a==="history"?[...t[a]]:t[a])}let i;for(i in t)Nw.includes(i)||(this[i]=t[i])}get path(){return this.history[this.history.length-1]}set path(n){r6(n)&&(n=zee(n)),jw(n,"path"),this.path!==n&&this.history.push(n)}get dirname(){return typeof this.path=="string"?sc.dirname(this.path):void 0}set dirname(n){H4(this.basename,"dirname"),this.path=sc.join(n||"",this.basename)}get basename(){return typeof this.path=="string"?sc.basename(this.path):void 0}set basename(n){jw(n,"basename"),Tw(n,"basename"),this.path=sc.join(this.dirname||"",n)}get extname(){return typeof this.path=="string"?sc.extname(this.path):void 0}set extname(n){if(Tw(n,"extname"),H4(this.dirname,"extname"),n){if(n.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=sc.join(this.dirname,this.stem+(n||""))}get stem(){return typeof this.path=="string"?sc.basename(this.path,this.extname):void 0}set stem(n){jw(n,"stem"),Tw(n,"stem"),this.path=sc.join(this.dirname||"",n+(this.extname||""))}toString(n){return(this.value||"").toString(n||void 0)}message(n,t,r){const i=new Ml(n,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(n,t,r){const i=this.message(n,t,r);return i.fatal=null,i}fail(n,t,r){const i=this.message(n,t,r);throw i.fatal=!0,i}}function Tw(e,n){if(e&&e.includes(sc.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+sc.sep+"`")}function jw(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function H4(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function Bee(e){return oD(e)}function W4(e){if(e)throw e}var Ow,Y4;function $ee(){if(Y4)return Ow;Y4=1;var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):n.call(d)==="[object Array]"},a=function(d){if(!d||n.call(d)!=="[object Object]")return!1;var f=e.call(d,"constructor"),m=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!f&&!m)return!1;var b;for(b in d);return typeof b>"u"||e.call(d,b)},s=function(d,f){t&&f.name==="__proto__"?t(d,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):d[f.name]=f.newValue},l=function(d,f){if(f==="__proto__")if(e.call(d,f)){if(r)return r(d,f).value}else return;return d[f]};return Ow=function u(){var d,f,m,b,g,x,y=arguments[0],A=1,w=arguments.length,C=!1;for(typeof y=="boolean"&&(C=y,y=arguments[1]||{},A=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});A<w;++A)if(d=arguments[A],d!=null)for(f in d)m=l(y,f),b=l(d,f),y!==b&&(C&&b&&(a(b)||(g=i(b)))?(g?(g=!1,x=m&&i(m)?m:[]):x=m&&a(m)?m:{},s(y,{name:f,newValue:u(C,x,b)})):typeof b<"u"&&s(y,{name:f,newValue:b}));return y},Ow}var Uee=$ee();const V4=ts(Uee);function i6(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Hee(){const e=[],n={run:t,use:r};return n;function t(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...i);function l(u,...d){const f=e[++a];let m=-1;if(u){s(u);return}for(;++m<i.length;)(d[m]===null||d[m]===void 0)&&(d[m]=i[m]);i=d,f?Wee(f,l)(...d):s(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),n}}function Wee(e,n){let t;return r;function r(...s){const l=e.length>s.length;let u;l&&s.push(i);try{u=e.apply(this,s)}catch(d){const f=d;if(l&&t)throw f;return i(f)}l||(u&&u.then&&typeof u.then=="function"?u.then(a,i):u instanceof Error?i(u):a(u))}function i(s,...l){t||(t=!0,n(s,...l))}function a(s){i(null,s)}}const Yee=cD().freeze(),uD={}.hasOwnProperty;function cD(){const e=Hee(),n=[];let t={},r,i=-1;return a.data=s,a.Parser=void 0,a.Compiler=void 0,a.freeze=l,a.attachers=n,a.use=u,a.parse=d,a.stringify=f,a.run=m,a.runSync=b,a.process=g,a.processSync=x,a;function a(){const y=cD();let A=-1;for(;++A<n.length;)y.use(...n[A]);return y.data(V4(!0,{},t)),y}function s(y,A){return typeof y=="string"?arguments.length===2?(Lw("data",r),t[y]=A,a):uD.call(t,y)&&t[y]||null:y?(Lw("data",r),t=y,a):t}function l(){if(r)return a;for(;++i<n.length;){const[y,...A]=n[i];if(A[0]===!1)continue;A[0]===!0&&(A[0]=void 0);const w=y.call(a,...A);typeof w=="function"&&e.use(w)}return r=!0,i=Number.POSITIVE_INFINITY,a}function u(y,...A){let w;if(Lw("use",r),y!=null)if(typeof y=="function")R(y,...A);else if(typeof y=="object")Array.isArray(y)?M(y):T(y);else throw new TypeError("Expected usable value, not `"+y+"`");return w&&(t.settings=Object.assign(t.settings||{},w)),a;function C(z){if(typeof z=="function")R(z);else if(typeof z=="object")if(Array.isArray(z)){const[_,...L]=z;R(_,...L)}else T(z);else throw new TypeError("Expected usable value, not `"+z+"`")}function T(z){M(z.plugins),z.settings&&(w=Object.assign(w||{},z.settings))}function M(z){let _=-1;if(z!=null)if(Array.isArray(z))for(;++_<z.length;){const L=z[_];C(L)}else throw new TypeError("Expected a list of plugins, not `"+z+"`")}function R(z,_){let L=-1,$;for(;++L<n.length;)if(n[L][0]===z){$=n[L];break}$?(i6($[1])&&i6(_)&&(_=V4(!0,$[1],_)),$[1]=_):n.push([...arguments])}}function d(y){a.freeze();const A=Dg(y),w=a.Parser;return Iw("parse",w),G4(w,"parse")?new w(String(A),A).parse():w(String(A),A)}function f(y,A){a.freeze();const w=Dg(A),C=a.Compiler;return Dw("stringify",C),Q4(y),G4(C,"compile")?new C(y,w).compile():C(y,w)}function m(y,A,w){if(Q4(y),a.freeze(),!w&&typeof A=="function"&&(w=A,A=void 0),!w)return new Promise(C);C(null,w);function C(T,M){e.run(y,Dg(A),R);function R(z,_,L){_=_||y,z?M(z):T?T(_):w(null,_,L)}}}function b(y,A){let w,C;return a.run(y,A,T),K4("runSync","run",C),w;function T(M,R){W4(M),w=R,C=!0}}function g(y,A){if(a.freeze(),Iw("process",a.Parser),Dw("process",a.Compiler),!A)return new Promise(w);w(null,A);function w(C,T){const M=Dg(y);a.run(a.parse(M),M,(z,_,L)=>{if(z||!_||!L)R(z);else{const $=a.stringify(_,L);$==null||(Qee($)?L.value=$:L.result=$),R(z,L)}});function R(z,_){z||!_?T(z):C?C(_):A(null,_)}}}function x(y){let A;a.freeze(),Iw("processSync",a.Parser),Dw("processSync",a.Compiler);const w=Dg(y);return a.process(w,C),K4("processSync","process",A),w;function C(T){A=!0,W4(T)}}}function G4(e,n){return typeof e=="function"&&e.prototype&&(Vee(e.prototype)||n in e.prototype)}function Vee(e){let n;for(n in e)if(uD.call(e,n))return!0;return!1}function Iw(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function Dw(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function Lw(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Q4(e){if(!i6(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function K4(e,n,t){if(!t)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function Dg(e){return Gee(e)?e:new lD(e)}function Gee(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Qee(e){return typeof e=="string"||oD(e)}const Kee={};function Xee(e,n){const t=Kee,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return dD(e,r,i)}function dD(e,n,t){if(Zee(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return X4(e.children,n,t)}return Array.isArray(e)?X4(e,n,t):""}function X4(e,n,t){const r=[];let i=-1;for(;++i<e.length;)r[i]=dD(e[i],n,t);return r.join("")}function Zee(e){return!!(e&&typeof e=="object")}function Pc(e,n,t,r){const i=e.length;let a=0,s;if(n<0?n=-n>i?0:i+n:n=n>i?i:n,t=t>0?t:0,r.length<1e4)s=Array.from(r),s.unshift(n,t),e.splice(...s);else for(t&&e.splice(n,t);a<r.length;)s=r.slice(a,a+1e4),s.unshift(n,0),e.splice(...s),a+=1e4,n+=1e4}function kl(e,n){return e.length>0?(Pc(e,e.length,0,n),e):n}const Z4={}.hasOwnProperty;function Jee(e){const n={};let t=-1;for(;++t<e.length;)ete(n,e[t]);return n}function ete(e,n){let t;for(t in n){const i=(Z4.call(e,t)?e[t]:void 0)||(e[t]={}),a=n[t];let s;if(a)for(s in a){Z4.call(i,s)||(i[s]=[]);const l=a[s];tte(i[s],Array.isArray(l)?l:l?[l]:[])}}}function tte(e,n){let t=-1;const r=[];for(;++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);Pc(e,0,0,r)}const nte=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,bc=ch(/[A-Za-z]/),Qo=ch(/[\dA-Za-z]/),rte=ch(/[#-'*+\--9=?A-Z^-~]/);function a6(e){return e!==null&&(e<32||e===127)}const s6=ch(/\d/),ite=ch(/[\dA-Fa-f]/),ate=ch(/[!-/:-@[-`{-~]/);function mn(e){return e!==null&&e<-2}function xo(e){return e!==null&&(e<0||e===32)}function xr(e){return e===-2||e===-1||e===32}const ste=ch(nte),ote=ch(/\s/);function ch(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function si(e,n,t,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(u){return xr(u)?(e.enter(t),l(u)):n(u)}function l(u){return xr(u)&&a++<i?(e.consume(u),l):(e.exit(t),n(u))}}const lte={tokenize:ute};function ute(e){const n=e.attempt(this.parser.constructs.contentInitial,r,i);let t;return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),si(e,n,"linePrefix")}function i(l){return e.enter("paragraph"),a(l)}function a(l){const u=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=u),t=u,s(l)}function s(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return mn(l)?(e.consume(l),e.exit("chunkText"),a):(e.consume(l),s)}}const cte={tokenize:dte},J4={tokenize:fte};function dte(e){const n=this,t=[];let r=0,i,a,s;return l;function l(T){if(r<t.length){const M=t[r];return n.containerState=M[1],e.attempt(M[0].continuation,u,d)(T)}return d(T)}function u(T){if(r++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,i&&C();const M=n.events.length;let R=M,z;for(;R--;)if(n.events[R][0]==="exit"&&n.events[R][1].type==="chunkFlow"){z=n.events[R][1].end;break}w(r);let _=M;for(;_<n.events.length;)n.events[_][1].end=Object.assign({},z),_++;return Pc(n.events,R+1,0,n.events.slice(M)),n.events.length=_,d(T)}return l(T)}function d(T){if(r===t.length){if(!i)return b(T);if(i.currentConstruct&&i.currentConstruct.concrete)return x(T);n.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(J4,f,m)(T)}function f(T){return i&&C(),w(r),b(T)}function m(T){return n.parser.lazy[n.now().line]=r!==t.length,s=n.now().offset,x(T)}function b(T){return n.containerState={},e.attempt(J4,g,x)(T)}function g(T){return r++,t.push([n.currentConstruct,n.containerState]),b(T)}function x(T){if(T===null){i&&C(),w(0),e.consume(T);return}return i=i||n.parser.flow(n.now()),e.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),y(T)}function y(T){if(T===null){A(e.exit("chunkFlow"),!0),w(0),e.consume(T);return}return mn(T)?(e.consume(T),A(e.exit("chunkFlow")),r=0,n.interrupt=void 0,l):(e.consume(T),y)}function A(T,M){const R=n.sliceStream(T);if(M&&R.push(null),T.previous=a,a&&(a.next=T),a=T,i.defineSkip(T.start),i.write(R),n.parser.lazy[T.start.line]){let z=i.events.length;for(;z--;)if(i.events[z][1].start.offset<s&&(!i.events[z][1].end||i.events[z][1].end.offset>s))return;const _=n.events.length;let L=_,$,Z;for(;L--;)if(n.events[L][0]==="exit"&&n.events[L][1].type==="chunkFlow"){if($){Z=n.events[L][1].end;break}$=!0}for(w(r),z=_;z<n.events.length;)n.events[z][1].end=Object.assign({},Z),z++;Pc(n.events,L+1,0,n.events.slice(_)),n.events.length=z}}function w(T){let M=t.length;for(;M-- >T;){const R=t[M];n.containerState=R[1],R[0].exit.call(n,e)}t.length=T}function C(){i.write([null]),a=void 0,i=void 0,n.containerState._closeFlow=void 0}}function fte(e,n,t){return si(e,e.attempt(this.parser.constructs.document,n,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function eN(e){if(e===null||xo(e)||ote(e))return 1;if(ste(e))return 2}function OA(e,n,t){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(n=a(n,t),r.push(a))}return n}const o6={name:"attention",tokenize:pte,resolveAll:hte};function hte(e,n){let t=-1,r,i,a,s,l,u,d,f;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(r=t;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&n.sliceSerialize(e[r][1]).charCodeAt(0)===n.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[r][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;const m=Object.assign({},e[r][1].end),b=Object.assign({},e[t][1].start);tN(m,-u),tN(b,u),s={type:u>1?"strongSequence":"emphasisSequence",start:m,end:Object.assign({},e[r][1].end)},l={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[t][1].start),end:b},a={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[t][1].start)},i={type:u>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},l.end)},e[r][1].end=Object.assign({},s.start),e[t][1].start=Object.assign({},l.end),d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=kl(d,[["enter",e[r][1],n],["exit",e[r][1],n]])),d=kl(d,[["enter",i,n],["enter",s,n],["exit",s,n],["enter",a,n]]),d=kl(d,OA(n.parser.constructs.insideSpan.null,e.slice(r+1,t),n)),d=kl(d,[["exit",a,n],["enter",l,n],["exit",l,n],["exit",i,n]]),e[t][1].end.offset-e[t][1].start.offset?(f=2,d=kl(d,[["enter",e[t][1],n],["exit",e[t][1],n]])):f=0,Pc(e,r-1,t-r+3,d),t=r+d.length-f-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function pte(e,n){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=eN(r);let a;return s;function s(u){return a=u,e.enter("attentionSequence"),l(u)}function l(u){if(u===a)return e.consume(u),l;const d=e.exit("attentionSequence"),f=eN(u),m=!f||f===2&&i||t.includes(u),b=!i||i===2&&f||t.includes(r);return d._open=!!(a===42?m:m&&(i||!b)),d._close=!!(a===42?b:b&&(f||!m)),n(u)}}function tN(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const mte={name:"autolink",tokenize:gte};function gte(e,n,t){let r=0;return i;function i(g){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(g){return bc(g)?(e.consume(g),s):d(g)}function s(g){return g===43||g===45||g===46||Qo(g)?(r=1,l(g)):d(g)}function l(g){return g===58?(e.consume(g),r=0,u):(g===43||g===45||g===46||Qo(g))&&r++<32?(e.consume(g),l):(r=0,d(g))}function u(g){return g===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),n):g===null||g===32||g===60||a6(g)?t(g):(e.consume(g),u)}function d(g){return g===64?(e.consume(g),f):rte(g)?(e.consume(g),d):t(g)}function f(g){return Qo(g)?m(g):t(g)}function m(g){return g===46?(e.consume(g),r=0,f):g===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),n):b(g)}function b(g){if((g===45||Qo(g))&&r++<63){const x=g===45?b:m;return e.consume(g),x}return t(g)}}const Vv={tokenize:bte,partial:!0};function bte(e,n,t){return r;function r(a){return xr(a)?si(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||mn(a)?n(a):t(a)}}const fD={name:"blockQuote",tokenize:yte,continuation:{tokenize:xte},exit:vte};function yte(e,n,t){const r=this;return i;function i(s){if(s===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return t(s)}function a(s){return xr(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(s))}}function xte(e,n,t){const r=this;return i;function i(s){return xr(s)?si(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(fD,n,t)(s)}}function vte(e){e.exit("blockQuote")}const hD={name:"characterEscape",tokenize:wte};function wte(e,n,t){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return ate(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):t(a)}}const nN=document.createElement("i");function IA(e){const n="&"+e+";";nN.innerHTML=n;const t=nN.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===n?!1:t}const pD={name:"characterReference",tokenize:Ste};function Ste(e,n,t){const r=this;let i=0,a,s;return l;function l(m){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),u}function u(m){return m===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(m),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),a=31,s=Qo,f(m))}function d(m){return m===88||m===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(m),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=ite,f):(e.enter("characterReferenceValue"),a=7,s=s6,f(m))}function f(m){if(m===59&&i){const b=e.exit("characterReferenceValue");return s===Qo&&!IA(r.sliceSerialize(b))?t(m):(e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return s(m)&&i++<a?(e.consume(m),f):t(m)}}const rN={tokenize:Cte,partial:!0},iN={name:"codeFenced",tokenize:Ate,concrete:!0};function Ate(e,n,t){const r=this,i={tokenize:R,partial:!0};let a=0,s=0,l;return u;function u(z){return d(z)}function d(z){const _=r.events[r.events.length-1];return a=_&&_[1].type==="linePrefix"?_[2].sliceSerialize(_[1],!0).length:0,l=z,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(z)}function f(z){return z===l?(s++,e.consume(z),f):s<3?t(z):(e.exit("codeFencedFenceSequence"),xr(z)?si(e,m,"whitespace")(z):m(z))}function m(z){return z===null||mn(z)?(e.exit("codeFencedFence"),r.interrupt?n(z):e.check(rN,y,M)(z)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),b(z))}function b(z){return z===null||mn(z)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),m(z)):xr(z)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),si(e,g,"whitespace")(z)):z===96&&z===l?t(z):(e.consume(z),b)}function g(z){return z===null||mn(z)?m(z):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(z))}function x(z){return z===null||mn(z)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),m(z)):z===96&&z===l?t(z):(e.consume(z),x)}function y(z){return e.attempt(i,M,A)(z)}function A(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),w}function w(z){return a>0&&xr(z)?si(e,C,"linePrefix",a+1)(z):C(z)}function C(z){return z===null||mn(z)?e.check(rN,y,M)(z):(e.enter("codeFlowValue"),T(z))}function T(z){return z===null||mn(z)?(e.exit("codeFlowValue"),C(z)):(e.consume(z),T)}function M(z){return e.exit("codeFenced"),n(z)}function R(z,_,L){let $=0;return Z;function Z(G){return z.enter("lineEnding"),z.consume(G),z.exit("lineEnding"),O}function O(G){return z.enter("codeFencedFence"),xr(G)?si(z,j,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):j(G)}function j(G){return G===l?(z.enter("codeFencedFenceSequence"),F(G)):L(G)}function F(G){return G===l?($++,z.consume(G),F):$>=s?(z.exit("codeFencedFenceSequence"),xr(G)?si(z,N,"whitespace")(G):N(G)):L(G)}function N(G){return G===null||mn(G)?(z.exit("codeFencedFence"),_(G)):L(G)}}}function Cte(e,n,t){const r=this;return i;function i(s){return s===null?t(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?t(s):n(s)}}const Rw={name:"codeIndented",tokenize:kte},Ete={tokenize:_te,partial:!0};function kte(e,n,t){const r=this;return i;function i(d){return e.enter("codeIndented"),si(e,a,"linePrefix",5)(d)}function a(d){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?s(d):t(d)}function s(d){return d===null?u(d):mn(d)?e.attempt(Ete,s,u)(d):(e.enter("codeFlowValue"),l(d))}function l(d){return d===null||mn(d)?(e.exit("codeFlowValue"),s(d)):(e.consume(d),l)}function u(d){return e.exit("codeIndented"),n(d)}}function _te(e,n,t){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?t(s):mn(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):si(e,a,"linePrefix",5)(s)}function a(s){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?n(s):mn(s)?i(s):t(s)}}const Nte={name:"codeText",tokenize:Ote,resolve:Tte,previous:jte};function Tte(e){let n=e.length-4,t=3,r,i;if((e[t][1].type==="lineEnding"||e[t][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(r=t;++r<n;)if(e[r][1].type==="codeTextData"){e[t][1].type="codeTextPadding",e[n][1].type="codeTextPadding",t+=2,n-=2;break}}for(r=t-1,n++;++r<=n;)i===void 0?r!==n&&e[r][1].type!=="lineEnding"&&(i=r):(r===n||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),n-=r-i-2,r=i+2),i=void 0);return e}function jte(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ote(e,n,t){let r=0,i,a;return s;function s(m){return e.enter("codeText"),e.enter("codeTextSequence"),l(m)}function l(m){return m===96?(e.consume(m),r++,l):(e.exit("codeTextSequence"),u(m))}function u(m){return m===null?t(m):m===32?(e.enter("space"),e.consume(m),e.exit("space"),u):m===96?(a=e.enter("codeTextSequence"),i=0,f(m)):mn(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),u):(e.enter("codeTextData"),d(m))}function d(m){return m===null||m===32||m===96||mn(m)?(e.exit("codeTextData"),u(m)):(e.consume(m),d)}function f(m){return m===96?(e.consume(m),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),n(m)):(a.type="codeTextData",d(m))}}function mD(e){const n={};let t=-1,r,i,a,s,l,u,d;for(;++t<e.length;){for(;t in n;)t=n[t];if(r=e[t],t&&r[1].type==="chunkFlow"&&e[t-1][1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,a=0,a<u.length&&u[a][1].type==="lineEndingBlank"&&(a+=2),a<u.length&&u[a][1].type==="content"))for(;++a<u.length&&u[a][1].type!=="content";)u[a][1].type==="chunkText"&&(u[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(n,Ite(e,t)),t=n[t],d=!0);else if(r[1]._container){for(a=t,i=void 0;a--&&(s=e[a],s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},e[i][1].start),l=e.slice(i,t),l.unshift(r),Pc(e,i,t-i+1,l))}}return!d}function Ite(e,n){const t=e[n][1],r=e[n][2];let i=n-1;const a=[],s=t._tokenizer||r.parser[t.contentType](t.start),l=s.events,u=[],d={};let f,m,b=-1,g=t,x=0,y=0;const A=[y];for(;g;){for(;e[++i][1]!==g;);a.push(i),g._tokenizer||(f=r.sliceStream(g),g.next||f.push(null),m&&s.defineSkip(g.start),g._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(f),g._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),m=g,g=g.next}for(g=t;++b<l.length;)l[b][0]==="exit"&&l[b-1][0]==="enter"&&l[b][1].type===l[b-1][1].type&&l[b][1].start.line!==l[b][1].end.line&&(y=b+1,A.push(y),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(s.events=[],g?(g._tokenizer=void 0,g.previous=void 0):A.pop(),b=A.length;b--;){const w=l.slice(A[b],A[b+1]),C=a.pop();u.unshift([C,C+w.length-1]),Pc(e,C,2,w)}for(b=-1;++b<u.length;)d[x+u[b][0]]=x+u[b][1],x+=u[b][1]-u[b][0]-1;return d}const Dte={tokenize:Mte,resolve:Rte},Lte={tokenize:Fte,partial:!0};function Rte(e){return mD(e),e}function Mte(e,n){let t;return r;function r(l){return e.enter("content"),t=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):mn(l)?e.check(Lte,s,a)(l):(e.consume(l),i)}function a(l){return e.exit("chunkContent"),e.exit("content"),n(l)}function s(l){return e.consume(l),e.exit("chunkContent"),t.next=e.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function Fte(e,n,t){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),si(e,a,"linePrefix")}function a(s){if(s===null||mn(s))return t(s);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?n(s):e.interrupt(r.parser.constructs.flow,t,n)(s)}}function gD(e,n,t,r,i,a,s,l,u){const d=u||Number.POSITIVE_INFINITY;let f=0;return m;function m(w){return w===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(w),e.exit(a),b):w===null||w===32||w===41||a6(w)?t(w):(e.enter(r),e.enter(s),e.enter(l),e.enter("chunkString",{contentType:"string"}),y(w))}function b(w){return w===62?(e.enter(a),e.consume(w),e.exit(a),e.exit(i),e.exit(r),n):(e.enter(l),e.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===62?(e.exit("chunkString"),e.exit(l),b(w)):w===null||w===60||mn(w)?t(w):(e.consume(w),w===92?x:g)}function x(w){return w===60||w===62||w===92?(e.consume(w),g):g(w)}function y(w){return!f&&(w===null||w===41||xo(w))?(e.exit("chunkString"),e.exit(l),e.exit(s),e.exit(r),n(w)):f<d&&w===40?(e.consume(w),f++,y):w===41?(e.consume(w),f--,y):w===null||w===32||w===40||a6(w)?t(w):(e.consume(w),w===92?A:y)}function A(w){return w===40||w===41||w===92?(e.consume(w),y):y(w)}}function bD(e,n,t,r,i,a){const s=this;let l=0,u;return d;function d(g){return e.enter(r),e.enter(i),e.consume(g),e.exit(i),e.enter(a),f}function f(g){return l>999||g===null||g===91||g===93&&!u||g===94&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?t(g):g===93?(e.exit(a),e.enter(i),e.consume(g),e.exit(i),e.exit(r),n):mn(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===null||g===91||g===93||mn(g)||l++>999?(e.exit("chunkString"),f(g)):(e.consume(g),u||(u=!xr(g)),g===92?b:m)}function b(g){return g===91||g===92||g===93?(e.consume(g),l++,m):m(g)}}function yD(e,n,t,r,i,a){let s;return l;function l(b){return b===34||b===39||b===40?(e.enter(r),e.enter(i),e.consume(b),e.exit(i),s=b===40?41:b,u):t(b)}function u(b){return b===s?(e.enter(i),e.consume(b),e.exit(i),e.exit(r),n):(e.enter(a),d(b))}function d(b){return b===s?(e.exit(a),u(s)):b===null?t(b):mn(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),si(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(b))}function f(b){return b===s||b===null||mn(b)?(e.exit("chunkString"),d(b)):(e.consume(b),b===92?m:f)}function m(b){return b===s||b===92?(e.consume(b),f):f(b)}}function a1(e,n){let t;return r;function r(i){return mn(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t=!0,r):xr(i)?si(e,r,t?"linePrefix":"lineSuffix")(i):n(i)}}function Y0(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Pte={name:"definition",tokenize:qte},zte={tokenize:Bte,partial:!0};function qte(e,n,t){const r=this;let i;return a;function a(g){return e.enter("definition"),s(g)}function s(g){return bD.call(r,e,l,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function l(g){return i=Y0(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),u):t(g)}function u(g){return xo(g)?a1(e,d)(g):d(g)}function d(g){return gD(e,f,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function f(g){return e.attempt(zte,m,m)(g)}function m(g){return xr(g)?si(e,b,"whitespace")(g):b(g)}function b(g){return g===null||mn(g)?(e.exit("definition"),r.parser.defined.push(i),n(g)):t(g)}}function Bte(e,n,t){return r;function r(l){return xo(l)?a1(e,i)(l):t(l)}function i(l){return yD(e,a,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return xr(l)?si(e,s,"whitespace")(l):s(l)}function s(l){return l===null||mn(l)?n(l):t(l)}}const $te={name:"hardBreakEscape",tokenize:Ute};function Ute(e,n,t){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return mn(a)?(e.exit("hardBreakEscape"),n(a)):t(a)}}const Hte={name:"headingAtx",tokenize:Yte,resolve:Wte};function Wte(e,n){let t=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),t-2>r&&e[t][1].type==="whitespace"&&(t-=2),e[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&e[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[t][1].end},a={type:"chunkText",start:e[r][1].start,end:e[t][1].end,contentType:"text"},Pc(e,r,t-r+1,[["enter",i,n],["enter",a,n],["exit",a,n],["exit",i,n]])),e}function Yte(e,n,t){let r=0;return i;function i(f){return e.enter("atxHeading"),a(f)}function a(f){return e.enter("atxHeadingSequence"),s(f)}function s(f){return f===35&&r++<6?(e.consume(f),s):f===null||xo(f)?(e.exit("atxHeadingSequence"),l(f)):t(f)}function l(f){return f===35?(e.enter("atxHeadingSequence"),u(f)):f===null||mn(f)?(e.exit("atxHeading"),n(f)):xr(f)?si(e,l,"whitespace")(f):(e.enter("atxHeadingText"),d(f))}function u(f){return f===35?(e.consume(f),u):(e.exit("atxHeadingSequence"),l(f))}function d(f){return f===null||f===35||xo(f)?(e.exit("atxHeadingText"),l(f)):(e.consume(f),d)}}const Vte=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],aN=["pre","script","style","textarea"],Gte={name:"htmlFlow",tokenize:Zte,resolveTo:Xte,concrete:!0},Qte={tokenize:ene,partial:!0},Kte={tokenize:Jte,partial:!0};function Xte(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function Zte(e,n,t){const r=this;let i,a,s,l,u;return d;function d(B){return f(B)}function f(B){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(B),m}function m(B){return B===33?(e.consume(B),b):B===47?(e.consume(B),a=!0,y):B===63?(e.consume(B),i=3,r.interrupt?n:U):bc(B)?(e.consume(B),s=String.fromCharCode(B),A):t(B)}function b(B){return B===45?(e.consume(B),i=2,g):B===91?(e.consume(B),i=5,l=0,x):bc(B)?(e.consume(B),i=4,r.interrupt?n:U):t(B)}function g(B){return B===45?(e.consume(B),r.interrupt?n:U):t(B)}function x(B){const J="CDATA[";return B===J.charCodeAt(l++)?(e.consume(B),l===J.length?r.interrupt?n:j:x):t(B)}function y(B){return bc(B)?(e.consume(B),s=String.fromCharCode(B),A):t(B)}function A(B){if(B===null||B===47||B===62||xo(B)){const J=B===47,ne=s.toLowerCase();return!J&&!a&&aN.includes(ne)?(i=1,r.interrupt?n(B):j(B)):Vte.includes(s.toLowerCase())?(i=6,J?(e.consume(B),w):r.interrupt?n(B):j(B)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(B):a?C(B):T(B))}return B===45||Qo(B)?(e.consume(B),s+=String.fromCharCode(B),A):t(B)}function w(B){return B===62?(e.consume(B),r.interrupt?n:j):t(B)}function C(B){return xr(B)?(e.consume(B),C):Z(B)}function T(B){return B===47?(e.consume(B),Z):B===58||B===95||bc(B)?(e.consume(B),M):xr(B)?(e.consume(B),T):Z(B)}function M(B){return B===45||B===46||B===58||B===95||Qo(B)?(e.consume(B),M):R(B)}function R(B){return B===61?(e.consume(B),z):xr(B)?(e.consume(B),R):T(B)}function z(B){return B===null||B===60||B===61||B===62||B===96?t(B):B===34||B===39?(e.consume(B),u=B,_):xr(B)?(e.consume(B),z):L(B)}function _(B){return B===u?(e.consume(B),u=null,$):B===null||mn(B)?t(B):(e.consume(B),_)}function L(B){return B===null||B===34||B===39||B===47||B===60||B===61||B===62||B===96||xo(B)?R(B):(e.consume(B),L)}function $(B){return B===47||B===62||xr(B)?T(B):t(B)}function Z(B){return B===62?(e.consume(B),O):t(B)}function O(B){return B===null||mn(B)?j(B):xr(B)?(e.consume(B),O):t(B)}function j(B){return B===45&&i===2?(e.consume(B),H):B===60&&i===1?(e.consume(B),Q):B===62&&i===4?(e.consume(B),se):B===63&&i===3?(e.consume(B),U):B===93&&i===5?(e.consume(B),oe):mn(B)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Qte,q,F)(B)):B===null||mn(B)?(e.exit("htmlFlowData"),F(B)):(e.consume(B),j)}function F(B){return e.check(Kte,N,q)(B)}function N(B){return e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),G}function G(B){return B===null||mn(B)?F(B):(e.enter("htmlFlowData"),j(B))}function H(B){return B===45?(e.consume(B),U):j(B)}function Q(B){return B===47?(e.consume(B),s="",te):j(B)}function te(B){if(B===62){const J=s.toLowerCase();return aN.includes(J)?(e.consume(B),se):j(B)}return bc(B)&&s.length<8?(e.consume(B),s+=String.fromCharCode(B),te):j(B)}function oe(B){return B===93?(e.consume(B),U):j(B)}function U(B){return B===62?(e.consume(B),se):B===45&&i===2?(e.consume(B),U):j(B)}function se(B){return B===null||mn(B)?(e.exit("htmlFlowData"),q(B)):(e.consume(B),se)}function q(B){return e.exit("htmlFlow"),n(B)}}function Jte(e,n,t){const r=this;return i;function i(s){return mn(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):t(s)}function a(s){return r.parser.lazy[r.now().line]?t(s):n(s)}}function ene(e,n,t){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Vv,n,t)}}const tne={name:"htmlText",tokenize:nne};function nne(e,n,t){const r=this;let i,a,s;return l;function l(U){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(U),u}function u(U){return U===33?(e.consume(U),d):U===47?(e.consume(U),R):U===63?(e.consume(U),T):bc(U)?(e.consume(U),L):t(U)}function d(U){return U===45?(e.consume(U),f):U===91?(e.consume(U),a=0,x):bc(U)?(e.consume(U),C):t(U)}function f(U){return U===45?(e.consume(U),g):t(U)}function m(U){return U===null?t(U):U===45?(e.consume(U),b):mn(U)?(s=m,Q(U)):(e.consume(U),m)}function b(U){return U===45?(e.consume(U),g):m(U)}function g(U){return U===62?H(U):U===45?b(U):m(U)}function x(U){const se="CDATA[";return U===se.charCodeAt(a++)?(e.consume(U),a===se.length?y:x):t(U)}function y(U){return U===null?t(U):U===93?(e.consume(U),A):mn(U)?(s=y,Q(U)):(e.consume(U),y)}function A(U){return U===93?(e.consume(U),w):y(U)}function w(U){return U===62?H(U):U===93?(e.consume(U),w):y(U)}function C(U){return U===null||U===62?H(U):mn(U)?(s=C,Q(U)):(e.consume(U),C)}function T(U){return U===null?t(U):U===63?(e.consume(U),M):mn(U)?(s=T,Q(U)):(e.consume(U),T)}function M(U){return U===62?H(U):T(U)}function R(U){return bc(U)?(e.consume(U),z):t(U)}function z(U){return U===45||Qo(U)?(e.consume(U),z):_(U)}function _(U){return mn(U)?(s=_,Q(U)):xr(U)?(e.consume(U),_):H(U)}function L(U){return U===45||Qo(U)?(e.consume(U),L):U===47||U===62||xo(U)?$(U):t(U)}function $(U){return U===47?(e.consume(U),H):U===58||U===95||bc(U)?(e.consume(U),Z):mn(U)?(s=$,Q(U)):xr(U)?(e.consume(U),$):H(U)}function Z(U){return U===45||U===46||U===58||U===95||Qo(U)?(e.consume(U),Z):O(U)}function O(U){return U===61?(e.consume(U),j):mn(U)?(s=O,Q(U)):xr(U)?(e.consume(U),O):$(U)}function j(U){return U===null||U===60||U===61||U===62||U===96?t(U):U===34||U===39?(e.consume(U),i=U,F):mn(U)?(s=j,Q(U)):xr(U)?(e.consume(U),j):(e.consume(U),N)}function F(U){return U===i?(e.consume(U),i=void 0,G):U===null?t(U):mn(U)?(s=F,Q(U)):(e.consume(U),F)}function N(U){return U===null||U===34||U===39||U===60||U===61||U===96?t(U):U===47||U===62||xo(U)?$(U):(e.consume(U),N)}function G(U){return U===47||U===62||xo(U)?$(U):t(U)}function H(U){return U===62?(e.consume(U),e.exit("htmlTextData"),e.exit("htmlText"),n):t(U)}function Q(U){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(U),e.exit("lineEnding"),te}function te(U){return xr(U)?si(e,oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):oe(U)}function oe(U){return e.enter("htmlTextData"),s(U)}}const DA={name:"labelEnd",tokenize:lne,resolveTo:one,resolveAll:sne},rne={tokenize:une},ine={tokenize:cne},ane={tokenize:dne};function sne(e){let n=-1;for(;++n<e.length;){const t=e[n][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(e.splice(n+1,t.type==="labelImage"?4:2),t.type="data",n++)}return e}function one(e,n){let t=e.length,r=0,i,a,s,l;for(;t--;)if(i=e[t][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=t);const u={type:e[a][1].type==="labelLink"?"link":"image",start:Object.assign({},e[a][1].start),end:Object.assign({},e[e.length-1][1].end)},d={type:"label",start:Object.assign({},e[a][1].start),end:Object.assign({},e[s][1].end)},f={type:"labelText",start:Object.assign({},e[a+r+2][1].end),end:Object.assign({},e[s-2][1].start)};return l=[["enter",u,n],["enter",d,n]],l=kl(l,e.slice(a+1,a+r+3)),l=kl(l,[["enter",f,n]]),l=kl(l,OA(n.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),n)),l=kl(l,[["exit",f,n],e[s-2],e[s-1],["exit",d,n]]),l=kl(l,e.slice(s+1)),l=kl(l,[["exit",u,n]]),Pc(e,a,e.length,l),e}function lne(e,n,t){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return l;function l(b){return a?a._inactive?m(b):(s=r.parser.defined.includes(Y0(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(b),e.exit("labelMarker"),e.exit("labelEnd"),u):t(b)}function u(b){return b===40?e.attempt(rne,f,s?f:m)(b):b===91?e.attempt(ine,f,s?d:m)(b):s?f(b):m(b)}function d(b){return e.attempt(ane,f,m)(b)}function f(b){return n(b)}function m(b){return a._balanced=!0,t(b)}}function une(e,n,t){return r;function r(m){return e.enter("resource"),e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),i}function i(m){return xo(m)?a1(e,a)(m):a(m)}function a(m){return m===41?f(m):gD(e,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function s(m){return xo(m)?a1(e,u)(m):f(m)}function l(m){return t(m)}function u(m){return m===34||m===39||m===40?yD(e,d,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):f(m)}function d(m){return xo(m)?a1(e,f)(m):f(m)}function f(m){return m===41?(e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),e.exit("resource"),n):t(m)}}function cne(e,n,t){const r=this;return i;function i(l){return bD.call(r,e,a,s,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(Y0(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?n(l):t(l)}function s(l){return t(l)}}function dne(e,n,t){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),n):t(a)}}const fne={name:"labelStartImage",tokenize:hne,resolveAll:DA.resolveAll};function hne(e,n,t){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),a}function a(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),s):t(l)}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(l):n(l)}}const pne={name:"labelStartLink",tokenize:mne,resolveAll:DA.resolveAll};function mne(e,n,t){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(s):n(s)}}const Mw={name:"lineEnding",tokenize:gne};function gne(e,n){return t;function t(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),si(e,n,"linePrefix")}}const bx={name:"thematicBreak",tokenize:bne};function bne(e,n,t){let r=0,i;return a;function a(d){return e.enter("thematicBreak"),s(d)}function s(d){return i=d,l(d)}function l(d){return d===i?(e.enter("thematicBreakSequence"),u(d)):r>=3&&(d===null||mn(d))?(e.exit("thematicBreak"),n(d)):t(d)}function u(d){return d===i?(e.consume(d),r++,u):(e.exit("thematicBreakSequence"),xr(d)?si(e,l,"whitespace")(d):l(d))}}const go={name:"list",tokenize:vne,continuation:{tokenize:wne},exit:Ane},yne={tokenize:Cne,partial:!0},xne={tokenize:Sne,partial:!0};function vne(e,n,t){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return l;function l(g){const x=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:s6(g)){if(r.containerState.type||(r.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),g===42||g===45?e.check(bx,t,d)(g):d(g);if(!r.interrupt||g===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(g)}return t(g)}function u(g){return s6(g)&&++s<10?(e.consume(g),u):(!r.interrupt||s<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(e.exit("listItemValue"),d(g)):t(g)}function d(g){return e.enter("listItemMarker"),e.consume(g),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,e.check(Vv,r.interrupt?t:f,e.attempt(yne,b,m))}function f(g){return r.containerState.initialBlankLine=!0,a++,b(g)}function m(g){return xr(g)?(e.enter("listItemPrefixWhitespace"),e.consume(g),e.exit("listItemPrefixWhitespace"),b):t(g)}function b(g){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(g)}}function wne(e,n,t){const r=this;return r.containerState._closeFlow=void 0,e.check(Vv,i,a);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,si(e,n,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!xr(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(xne,n,s)(l))}function s(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,si(e,e.attempt(go,n,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function Sne(e,n,t){const r=this;return si(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?n(a):t(a)}}function Ane(e){e.exit(this.containerState.type)}function Cne(e,n,t){const r=this;return si(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!xr(a)&&s&&s[1].type==="listItemPrefixWhitespace"?n(a):t(a)}}const sN={name:"setextUnderline",tokenize:kne,resolveTo:Ene};function Ene(e,n){let t=e.length,r,i,a;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type==="content"){r=t;break}e[t][1].type==="paragraph"&&(i=t)}else e[t][1].type==="content"&&e.splice(t,1),!a&&e[t][1].type==="definition"&&(a=t);const s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,n]),e.splice(a+1,0,["exit",e[r][1],n]),e[r][1].end=Object.assign({},e[a][1].end)):e[r][1]=s,e.push(["exit",s,n]),e}function kne(e,n,t){const r=this;let i;return a;function a(d){let f=r.events.length,m;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){m=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(e.enter("setextHeadingLine"),i=d,s(d)):t(d)}function s(d){return e.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(e.consume(d),l):(e.exit("setextHeadingLineSequence"),xr(d)?si(e,u,"lineSuffix")(d):u(d))}function u(d){return d===null||mn(d)?(e.exit("setextHeadingLine"),n(d)):t(d)}}const _ne={tokenize:Nne};function Nne(e){const n=this,t=e.attempt(Vv,r,e.attempt(this.parser.constructs.flowInitial,i,si(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Dte,i)),"linePrefix")));return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),n.currentConstruct=void 0,t}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n.currentConstruct=void 0,t}}const Tne={resolveAll:vD()},jne=xD("string"),One=xD("text");function xD(e){return{tokenize:n,resolveAll:vD(e==="text"?Ine:void 0)};function n(t){const r=this,i=this.parser.constructs[e],a=t.attempt(i,s,l);return s;function s(f){return d(f)?a(f):l(f)}function l(f){if(f===null){t.consume(f);return}return t.enter("data"),t.consume(f),u}function u(f){return d(f)?(t.exit("data"),a(f)):(t.consume(f),u)}function d(f){if(f===null)return!0;const m=i[f];let b=-1;if(m)for(;++b<m.length;){const g=m[b];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function vD(e){return n;function n(t,r){let i=-1,a;for(;++i<=t.length;)a===void 0?t[i]&&t[i][1].type==="data"&&(a=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==a+2&&(t[a][1].end=t[i-1][1].end,t.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(t,r):t}}function Ine(e,n){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type==="lineEnding")&&e[t-1][1].type==="data"){const r=e[t-1][1],i=n.sliceStream(r);let a=i.length,s=-1,l=0,u;for(;a--;){const d=i[a];if(typeof d=="string"){for(s=d.length;d.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(d===-2)u=!0,l++;else if(d!==-1){a++;break}}if(l){const d={type:t===e.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},d.start),r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(t,0,["enter",d,n],["exit",d,n]),t+=2)}t++}return e}function Dne(e,n,t){let r=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let s=[],l=[];const u={consume:C,enter:T,exit:M,attempt:_(R),check:_(z),interrupt:_(z,{interrupt:!0})},d={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:g,sliceSerialize:b,now:x,defineSkip:y,write:m};let f=n.tokenize.call(d,u);return n.resolveAll&&a.push(n),d;function m(O){return s=kl(s,O),A(),s[s.length-1]!==null?[]:(L(n,0),d.events=OA(a,d.events,d),d.events)}function b(O,j){return Rne(g(O),j)}function g(O){return Lne(s,O)}function x(){const{line:O,column:j,offset:F,_index:N,_bufferIndex:G}=r;return{line:O,column:j,offset:F,_index:N,_bufferIndex:G}}function y(O){i[O.line]=O.column,Z()}function A(){let O;for(;r._index<s.length;){const j=s[r._index];if(typeof j=="string")for(O=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===O&&r._bufferIndex<j.length;)w(j.charCodeAt(r._bufferIndex));else w(j)}}function w(O){f=f(O)}function C(O){mn(O)?(r.line++,r.column=1,r.offset+=O===-3?2:1,Z()):O!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=O}function T(O,j){const F=j||{};return F.type=O,F.start=x(),d.events.push(["enter",F,d]),l.push(F),F}function M(O){const j=l.pop();return j.end=x(),d.events.push(["exit",j,d]),j}function R(O,j){L(O,j.from)}function z(O,j){j.restore()}function _(O,j){return F;function F(N,G,H){let Q,te,oe,U;return Array.isArray(N)?q(N):"tokenize"in N?q([N]):se(N);function se(le){return Se;function Se(xe){const ke=xe!==null&&le[xe],De=xe!==null&&le.null,Me=[...Array.isArray(ke)?ke:ke?[ke]:[],...Array.isArray(De)?De:De?[De]:[]];return q(Me)(xe)}}function q(le){return Q=le,te=0,le.length===0?H:B(le[te])}function B(le){return Se;function Se(xe){return U=$(),oe=le,le.partial||(d.currentConstruct=le),le.name&&d.parser.constructs.disable.null.includes(le.name)?ne():le.tokenize.call(j?Object.assign(Object.create(d),j):d,u,J,ne)(xe)}}function J(le){return O(oe,U),G}function ne(le){return U.restore(),++te<Q.length?B(Q[te]):H}}}function L(O,j){O.resolveAll&&!a.includes(O)&&a.push(O),O.resolve&&Pc(d.events,j,d.events.length-j,O.resolve(d.events.slice(j),d)),O.resolveTo&&(d.events=O.resolveTo(d.events,d))}function $(){const O=x(),j=d.previous,F=d.currentConstruct,N=d.events.length,G=Array.from(l);return{restore:H,from:N};function H(){r=O,d.previous=j,d.currentConstruct=F,d.events.length=N,l=G,Z()}}function Z(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Lne(e,n){const t=n.start._index,r=n.start._bufferIndex,i=n.end._index,a=n.end._bufferIndex;let s;if(t===i)s=[e[t].slice(r,a)];else{if(s=e.slice(t,i),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function Rne(e,n){let t=-1;const r=[];let i;for(;++t<e.length;){const a=e[t];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=n?" ":"	";break}case-1:{if(!n&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}const Mne={42:go,43:go,45:go,48:go,49:go,50:go,51:go,52:go,53:go,54:go,55:go,56:go,57:go,62:fD},Fne={91:Pte},Pne={[-2]:Rw,[-1]:Rw,32:Rw},zne={35:Hte,42:bx,45:[sN,bx],60:Gte,61:sN,95:bx,96:iN,126:iN},qne={38:pD,92:hD},Bne={[-5]:Mw,[-4]:Mw,[-3]:Mw,33:fne,38:pD,42:o6,60:[mte,tne],91:pne,92:[$te,hD],93:DA,95:o6,96:Nte},$ne={null:[o6,Tne]},Une={null:[42,95]},Hne={null:[]},Wne=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Une,contentInitial:Fne,disable:Hne,document:Mne,flow:zne,flowInitial:Pne,insideSpan:$ne,string:qne,text:Bne},Symbol.toStringTag,{value:"Module"}));function Yne(e){const t=Jee([Wne,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:t,content:i(lte),document:i(cte),flow:i(_ne),string:i(jne),text:i(One)};return r;function i(a){return s;function s(l){return Dne(r,a,l)}}}const oN=/[\0\t\n\r]/g;function Vne(){let e=1,n="",t=!0,r;return i;function i(a,s,l){const u=[];let d,f,m,b,g;for(a=n+a.toString(s),m=0,n="",t&&(a.charCodeAt(0)===65279&&m++,t=void 0);m<a.length;){if(oN.lastIndex=m,d=oN.exec(a),b=d&&d.index!==void 0?d.index:a.length,g=a.charCodeAt(b),!d){n=a.slice(m);break}if(g===10&&m===b&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),m<b&&(u.push(a.slice(m,b)),e+=b-m),g){case 0:{u.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,u.push(-2);e++<f;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}m=b+1}return l&&(r&&u.push(-5),n&&u.push(n),u.push(null)),u}}function Gne(e){for(;!mD(e););return e}function wD(e,n){const t=Number.parseInt(e,n);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCharCode(t)}const Qne=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Kne(e){return e.replace(Qne,Xne)}function Xne(e,n,t){if(n)return n;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),a=i===120||i===88;return wD(t.slice(a?2:1),a?16:10)}return IA(t)||e}const SD={}.hasOwnProperty,Zne=function(e,n,t){return typeof n!="string"&&(t=n,n=void 0),Jne(t)(Gne(Yne(t).document().write(Vne()(e,n,!0))))};function Jne(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Le),autolinkProtocol:O,autolinkEmail:O,atxHeading:l(re),blockQuote:l(Me),characterEscape:O,characterReference:O,codeFenced:l(He),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(He,u),codeText:l(Ve,u),codeTextData:O,data:O,codeFlowValue:O,definition:l(Y),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(Ae),hardBreakEscape:l(be),hardBreakTrailing:l(be),htmlFlow:l(fe,u),htmlFlowData:O,htmlText:l(fe,u),htmlTextData:O,image:l(Ce),label:u,link:l(Le),listItem:l(Te),listItemValue:x,listOrdered:l(qe,g),listUnordered:l(qe),paragraph:l(Ze),reference:ne,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(re),strong:l(ut),thematicBreak:l(Pe)},exit:{atxHeading:f(),atxHeadingSequence:_,autolink:f(),autolinkEmail:De,autolinkProtocol:ke,blockQuote:f(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:Se,characterReferenceMarkerNumeric:Se,characterReferenceValue:xe,codeFenced:f(C),codeFencedFence:w,codeFencedFenceInfo:y,codeFencedFenceMeta:A,codeFlowValue:j,codeIndented:f(T),codeText:f(Q),codeTextData:j,data:j,definition:f(),definitionDestinationString:z,definitionLabelString:M,definitionTitleString:R,emphasis:f(),hardBreakEscape:f(N),hardBreakTrailing:f(N),htmlFlow:f(G),htmlFlowData:j,htmlText:f(H),htmlTextData:j,image:f(oe),label:se,labelText:U,lineEnding:F,link:f(te),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:le,resourceDestinationString:q,resourceTitleString:B,resource:J,setextHeading:f(Z),setextHeadingLineSequence:$,setextHeadingText:L,strong:f(),thematicBreak:f()}};AD(n,(e||{}).mdastExtensions||[]);const t={};return r;function r(ve){let Ne={type:"root",children:[]};const Oe={stack:[Ne],tokenStack:[],config:n,enter:d,exit:m,buffer:u,resume:b,setData:a,getData:s},ft=[];let et=-1;for(;++et<ve.length;)if(ve[et][1].type==="listOrdered"||ve[et][1].type==="listUnordered")if(ve[et][0]==="enter")ft.push(et);else{const Pt=ft.pop();et=i(ve,Pt,et)}for(et=-1;++et<ve.length;){const Pt=n[ve[et][0]];SD.call(Pt,ve[et][1].type)&&Pt[ve[et][1].type].call(Object.assign({sliceSerialize:ve[et][2].sliceSerialize},Oe),ve[et][1])}if(Oe.tokenStack.length>0){const Pt=Oe.tokenStack[Oe.tokenStack.length-1];(Pt[1]||lN).call(Oe,void 0,Pt[0])}for(Ne.position={start:Of(ve.length>0?ve[0][1].start:{line:1,column:1,offset:0}),end:Of(ve.length>0?ve[ve.length-2][1].end:{line:1,column:1,offset:0})},et=-1;++et<n.transforms.length;)Ne=n.transforms[et](Ne)||Ne;return Ne}function i(ve,Ne,Oe){let ft=Ne-1,et=-1,Pt=!1,Nt,Yt,Rt,Xt;for(;++ft<=Oe;){const nn=ve[ft];if(nn[1].type==="listUnordered"||nn[1].type==="listOrdered"||nn[1].type==="blockQuote"?(nn[0]==="enter"?et++:et--,Xt=void 0):nn[1].type==="lineEndingBlank"?nn[0]==="enter"&&(Nt&&!Xt&&!et&&!Rt&&(Rt=ft),Xt=void 0):nn[1].type==="linePrefix"||nn[1].type==="listItemValue"||nn[1].type==="listItemMarker"||nn[1].type==="listItemPrefix"||nn[1].type==="listItemPrefixWhitespace"||(Xt=void 0),!et&&nn[0]==="enter"&&nn[1].type==="listItemPrefix"||et===-1&&nn[0]==="exit"&&(nn[1].type==="listUnordered"||nn[1].type==="listOrdered")){if(Nt){let ln=ft;for(Yt=void 0;ln--;){const Pn=ve[ln];if(Pn[1].type==="lineEnding"||Pn[1].type==="lineEndingBlank"){if(Pn[0]==="exit")continue;Yt&&(ve[Yt][1].type="lineEndingBlank",Pt=!0),Pn[1].type="lineEnding",Yt=ln}else if(!(Pn[1].type==="linePrefix"||Pn[1].type==="blockQuotePrefix"||Pn[1].type==="blockQuotePrefixWhitespace"||Pn[1].type==="blockQuoteMarker"||Pn[1].type==="listItemIndent"))break}Rt&&(!Yt||Rt<Yt)&&(Nt._spread=!0),Nt.end=Object.assign({},Yt?ve[Yt][1].start:nn[1].end),ve.splice(Yt||ft,0,["exit",Nt,nn[2]]),ft++,Oe++}nn[1].type==="listItemPrefix"&&(Nt={type:"listItem",_spread:!1,start:Object.assign({},nn[1].start),end:void 0},ve.splice(ft,0,["enter",Nt,nn[2]]),ft++,Oe++,Rt=void 0,Xt=!0)}}return ve[Ne][1]._spread=Pt,Oe}function a(ve,Ne){t[ve]=Ne}function s(ve){return t[ve]}function l(ve,Ne){return Oe;function Oe(ft){d.call(this,ve(ft),ft),Ne&&Ne.call(this,ft)}}function u(){this.stack.push({type:"fragment",children:[]})}function d(ve,Ne,Oe){return this.stack[this.stack.length-1].children.push(ve),this.stack.push(ve),this.tokenStack.push([Ne,Oe]),ve.position={start:Of(Ne.start)},ve}function f(ve){return Ne;function Ne(Oe){ve&&ve.call(this,Oe),m.call(this,Oe)}}function m(ve,Ne){const Oe=this.stack.pop(),ft=this.tokenStack.pop();if(ft)ft[0].type!==ve.type&&(Ne?Ne.call(this,ve,ft[0]):(ft[1]||lN).call(this,ve,ft[0]));else throw new Error("Cannot close `"+ve.type+"` ("+i1({start:ve.start,end:ve.end})+"): its not open");return Oe.position.end=Of(ve.end),Oe}function b(){return Xee(this.stack.pop())}function g(){a("expectingFirstListItemValue",!0)}function x(ve){if(s("expectingFirstListItemValue")){const Ne=this.stack[this.stack.length-2];Ne.start=Number.parseInt(this.sliceSerialize(ve),10),a("expectingFirstListItemValue")}}function y(){const ve=this.resume(),Ne=this.stack[this.stack.length-1];Ne.lang=ve}function A(){const ve=this.resume(),Ne=this.stack[this.stack.length-1];Ne.meta=ve}function w(){s("flowCodeInside")||(this.buffer(),a("flowCodeInside",!0))}function C(){const ve=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=ve.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),a("flowCodeInside")}function T(){const ve=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=ve.replace(/(\r?\n|\r)$/g,"")}function M(ve){const Ne=this.resume(),Oe=this.stack[this.stack.length-1];Oe.label=Ne,Oe.identifier=Y0(this.sliceSerialize(ve)).toLowerCase()}function R(){const ve=this.resume(),Ne=this.stack[this.stack.length-1];Ne.title=ve}function z(){const ve=this.resume(),Ne=this.stack[this.stack.length-1];Ne.url=ve}function _(ve){const Ne=this.stack[this.stack.length-1];if(!Ne.depth){const Oe=this.sliceSerialize(ve).length;Ne.depth=Oe}}function L(){a("setextHeadingSlurpLineEnding",!0)}function $(ve){const Ne=this.stack[this.stack.length-1];Ne.depth=this.sliceSerialize(ve).charCodeAt(0)===61?1:2}function Z(){a("setextHeadingSlurpLineEnding")}function O(ve){const Ne=this.stack[this.stack.length-1];let Oe=Ne.children[Ne.children.length-1];(!Oe||Oe.type!=="text")&&(Oe=rt(),Oe.position={start:Of(ve.start)},Ne.children.push(Oe)),this.stack.push(Oe)}function j(ve){const Ne=this.stack.pop();Ne.value+=this.sliceSerialize(ve),Ne.position.end=Of(ve.end)}function F(ve){const Ne=this.stack[this.stack.length-1];if(s("atHardBreak")){const Oe=Ne.children[Ne.children.length-1];Oe.position.end=Of(ve.end),a("atHardBreak");return}!s("setextHeadingSlurpLineEnding")&&n.canContainEols.includes(Ne.type)&&(O.call(this,ve),j.call(this,ve))}function N(){a("atHardBreak",!0)}function G(){const ve=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=ve}function H(){const ve=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=ve}function Q(){const ve=this.resume(),Ne=this.stack[this.stack.length-1];Ne.value=ve}function te(){const ve=this.stack[this.stack.length-1];if(s("inReference")){const Ne=s("referenceType")||"shortcut";ve.type+="Reference",ve.referenceType=Ne,delete ve.url,delete ve.title}else delete ve.identifier,delete ve.label;a("referenceType")}function oe(){const ve=this.stack[this.stack.length-1];if(s("inReference")){const Ne=s("referenceType")||"shortcut";ve.type+="Reference",ve.referenceType=Ne,delete ve.url,delete ve.title}else delete ve.identifier,delete ve.label;a("referenceType")}function U(ve){const Ne=this.sliceSerialize(ve),Oe=this.stack[this.stack.length-2];Oe.label=Kne(Ne),Oe.identifier=Y0(Ne).toLowerCase()}function se(){const ve=this.stack[this.stack.length-1],Ne=this.resume(),Oe=this.stack[this.stack.length-1];if(a("inReference",!0),Oe.type==="link"){const ft=ve.children;Oe.children=ft}else Oe.alt=Ne}function q(){const ve=this.resume(),Ne=this.stack[this.stack.length-1];Ne.url=ve}function B(){const ve=this.resume(),Ne=this.stack[this.stack.length-1];Ne.title=ve}function J(){a("inReference")}function ne(){a("referenceType","collapsed")}function le(ve){const Ne=this.resume(),Oe=this.stack[this.stack.length-1];Oe.label=Ne,Oe.identifier=Y0(this.sliceSerialize(ve)).toLowerCase(),a("referenceType","full")}function Se(ve){a("characterReferenceType",ve.type)}function xe(ve){const Ne=this.sliceSerialize(ve),Oe=s("characterReferenceType");let ft;Oe?(ft=wD(Ne,Oe==="characterReferenceMarkerNumeric"?10:16),a("characterReferenceType")):ft=IA(Ne);const et=this.stack.pop();et.value+=ft,et.position.end=Of(ve.end)}function ke(ve){j.call(this,ve);const Ne=this.stack[this.stack.length-1];Ne.url=this.sliceSerialize(ve)}function De(ve){j.call(this,ve);const Ne=this.stack[this.stack.length-1];Ne.url="mailto:"+this.sliceSerialize(ve)}function Me(){return{type:"blockquote",children:[]}}function He(){return{type:"code",lang:null,meta:null,value:""}}function Ve(){return{type:"inlineCode",value:""}}function Y(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ae(){return{type:"emphasis",children:[]}}function re(){return{type:"heading",depth:void 0,children:[]}}function be(){return{type:"break"}}function fe(){return{type:"html",value:""}}function Ce(){return{type:"image",title:null,url:"",alt:null}}function Le(){return{type:"link",title:null,url:"",children:[]}}function qe(ve){return{type:"list",ordered:ve.type==="listOrdered",start:null,spread:ve._spread,children:[]}}function Te(ve){return{type:"listItem",spread:ve._spread,checked:null,children:[]}}function Ze(){return{type:"paragraph",children:[]}}function ut(){return{type:"strong",children:[]}}function rt(){return{type:"text",value:""}}function Pe(){return{type:"thematicBreak"}}}function Of(e){return{line:e.line,column:e.column,offset:e.offset}}function AD(e,n){let t=-1;for(;++t<n.length;){const r=n[t];Array.isArray(r)?AD(e,r):ere(e,r)}}function ere(e,n){let t;for(t in n)if(SD.call(n,t)){if(t==="canContainEols"){const r=n[t];r&&e[t].push(...r)}else if(t==="transforms"){const r=n[t];r&&e[t].push(...r)}else if(t==="enter"||t==="exit"){const r=n[t];r&&Object.assign(e[t],r)}}}function lN(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+i1({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+i1({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+i1({start:n.start,end:n.end})+") is still open")}function tre(e){Object.assign(this,{Parser:t=>{const r=this.data("settings");return Zne(t,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function nre(e,n){const t={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,t),e.applyData(n,t)}function rre(e,n){const t={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,t),[e.applyData(n,t),{type:"text",value:`
`}]}function ire(e,n){const t=n.value?n.value+`
`:"",r=n.lang?n.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return n.meta&&(a.data={meta:n.meta}),e.patch(n,a),a=e.applyData(n,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(n,a),a}function are(e,n){const t={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function sre(e,n){const t={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function xm(e){const n=[];let t=-1,r=0,i=0;for(;++t<e.length;){const a=e.charCodeAt(t);let s="";if(a===37&&Qo(e.charCodeAt(t+1))&&Qo(e.charCodeAt(t+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const l=e.charCodeAt(t+1);a<56320&&l>56319&&l<57344?(s=String.fromCharCode(a,l),i=1):s=""}else s=String.fromCharCode(a);s&&(n.push(e.slice(r,t),encodeURIComponent(s)),r=t+i+1,s=""),i&&(t+=i,i=0)}return n.join("")+e.slice(r)}function CD(e,n){const t=String(n.identifier).toUpperCase(),r=xm(t.toLowerCase()),i=e.footnoteOrder.indexOf(t);let a;i===-1?(e.footnoteOrder.push(t),e.footnoteCounts[t]=1,a=e.footnoteOrder.length):(e.footnoteCounts[t]++,a=i+1);const s=e.footnoteCounts[t],l={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(n,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(n,u),e.applyData(n,u)}function ore(e,n){const t=e.footnoteById;let r=1;for(;r in t;)r++;const i=String(r);return t[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:n.children}],position:n.position},CD(e,{type:"footnoteReference",identifier:i,position:n.position})}function lre(e,n){const t={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function ure(e,n){if(e.dangerous){const t={type:"raw",value:n.value};return e.patch(n,t),e.applyData(n,t)}return null}function ED(e,n){const t=n.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return{type:"text",value:"!["+n.alt+r};const i=e.all(n),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function cre(e,n){const t=e.definition(n.identifier);if(!t)return ED(e,n);const r={src:xm(t.url||""),alt:n.alt};t.title!==null&&t.title!==void 0&&(r.title=t.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(n,i),e.applyData(n,i)}function dre(e,n){const t={src:xm(n.url)};n.alt!==null&&n.alt!==void 0&&(t.alt=n.alt),n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"img",properties:t,children:[]};return e.patch(n,r),e.applyData(n,r)}function fre(e,n){const t={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return e.patch(n,r),e.applyData(n,r)}function hre(e,n){const t=e.definition(n.identifier);if(!t)return ED(e,n);const r={href:xm(t.url||"")};t.title!==null&&t.title!==void 0&&(r.title=t.title);const i={type:"element",tagName:"a",properties:r,children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function pre(e,n){const t={href:xm(n.url)};n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"a",properties:t,children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function mre(e,n,t){const r=e.all(n),i=t?gre(t):kD(n),a={},s=[];if(typeof n.checked=="boolean"){const f=r[0];let m;f&&f.type==="element"&&f.tagName==="p"?m=f:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const f=r[l];(i||l!==0||f.type!=="element"||f.tagName!=="p")&&s.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?s.push(...f.children):s.push(f)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:s};return e.patch(n,d),e.applyData(n,d)}function gre(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const t=e.children;let r=-1;for(;!n&&++r<t.length;)n=kD(t[r])}return n}function kD(e){const n=e.spread;return n??e.children.length>1}function bre(e,n){const t={},r=e.all(n);let i=-1;for(typeof n.start=="number"&&n.start!==1&&(t.start=n.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const a={type:"element",tagName:n.ordered?"ol":"ul",properties:t,children:e.wrap(r,!0)};return e.patch(n,a),e.applyData(n,a)}function yre(e,n){const t={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function xre(e,n){const t={type:"root",children:e.wrap(e.all(n))};return e.patch(n,t),e.applyData(n,t)}function vre(e,n){const t={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const LA=_D("start"),RA=_D("end");function wre(e){return{start:LA(e),end:RA(e)}}function _D(e){return n;function n(t){const r=t&&t.position&&t.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function Sre(e,n){const t=e.all(n),r=t.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(n.children[0],s),i.push(s)}if(t.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(t,!0)},l=LA(n.children[1]),u=RA(n.children[n.children.length-1]);l.line&&u.line&&(s.position={start:l,end:u}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(n,a),e.applyData(n,a)}function Are(e,n,t){const r=t?t.children:void 0,a=(r?r.indexOf(n):1)===0?"th":"td",s=t&&t.type==="table"?t.align:void 0,l=s?s.length:n.children.length;let u=-1;const d=[];for(;++u<l;){const m=n.children[u],b={},g=s?s[u]:void 0;g&&(b.align=g);let x={type:"element",tagName:a,properties:b,children:[]};m&&(x.children=e.all(m),e.patch(m,x),x=e.applyData(n,x)),d.push(x)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(n,f),e.applyData(n,f)}function Cre(e,n){const t={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const uN=9,cN=32;function Ere(e){const n=String(e),t=/\r?\n|\r/g;let r=t.exec(n),i=0;const a=[];for(;r;)a.push(dN(n.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=t.exec(n);return a.push(dN(n.slice(i),i>0,!1)),a.join("")}function dN(e,n,t){let r=0,i=e.length;if(n){let a=e.codePointAt(r);for(;a===uN||a===cN;)r++,a=e.codePointAt(r)}if(t){let a=e.codePointAt(i-1);for(;a===uN||a===cN;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function kre(e,n){const t={type:"text",value:Ere(String(n.value))};return e.patch(n,t),e.applyData(n,t)}function _re(e,n){const t={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,t),e.applyData(n,t)}const Nre={blockquote:nre,break:rre,code:ire,delete:are,emphasis:sre,footnoteReference:CD,footnote:ore,heading:lre,html:ure,imageReference:cre,image:dre,inlineCode:fre,linkReference:hre,link:pre,listItem:mre,list:bre,paragraph:yre,root:xre,strong:vre,table:Sre,tableCell:Cre,tableRow:Are,text:kre,thematicBreak:_re,toml:Yy,yaml:Yy,definition:Yy,footnoteDefinition:Yy};function Yy(){return null}const ND=function(e){if(e==null)return Ire;if(typeof e=="string")return Ore(e);if(typeof e=="object")return Array.isArray(e)?Tre(e):jre(e);if(typeof e=="function")return Gv(e);throw new Error("Expected function, string, or object as test")};function Tre(e){const n=[];let t=-1;for(;++t<e.length;)n[t]=ND(e[t]);return Gv(r);function r(...i){let a=-1;for(;++a<n.length;)if(n[a].call(this,...i))return!0;return!1}}function jre(e){return Gv(n);function n(t){let r;for(r in e)if(t[r]!==e[r])return!1;return!0}}function Ore(e){return Gv(n);function n(t){return t&&t.type===e}}function Gv(e){return n;function n(t,...r){return!!(t&&typeof t=="object"&&"type"in t&&e.call(this,t,...r))}}function Ire(){return!0}const Dre=!0,fN=!1,Lre="skip",Rre=function(e,n,t,r){typeof n=="function"&&typeof t!="function"&&(r=t,t=n,n=null);const i=ND(n),a=r?-1:1;s(e,void 0,[])();function s(l,u,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const b=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(l.type+(b?"<"+b+">":""))+")"})}return m;function m(){let b=[],g,x,y;if((!n||i(l,u,d[d.length-1]||null))&&(b=Mre(t(l,d)),b[0]===fN))return b;if(l.children&&b[0]!==Lre)for(x=(r?l.children.length:-1)+a,y=d.concat(l);x>-1&&x<l.children.length;){if(g=s(l.children[x],x,y)(),g[0]===fN)return g;x=typeof g[1]=="number"?g[1]:x+a}return b}}};function Mre(e){return Array.isArray(e)?e:typeof e=="number"?[Dre,e]:[e]}const MA=function(e,n,t,r){typeof n=="function"&&typeof t!="function"&&(r=t,t=n,n=null),Rre(e,n,i,r);function i(a,s){const l=s[s.length-1];return t(a,l?l.children.indexOf(a):null,l)}};function Fre(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const hN={}.hasOwnProperty;function Pre(e){const n=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return MA(e,"definition",r=>{const i=pN(r.identifier);i&&!hN.call(n,i)&&(n[i]=r)}),t;function t(r){const i=pN(r);return i&&hN.call(n,i)?n[i]:null}}function pN(e){return String(e||"").toUpperCase()}const rv={}.hasOwnProperty;function zre(e,n){const t=n||{},r=t.allowDangerousHtml||!1,i={};return s.dangerous=r,s.clobberPrefix=t.clobberPrefix===void 0||t.clobberPrefix===null?"user-content-":t.clobberPrefix,s.footnoteLabel=t.footnoteLabel||"Footnotes",s.footnoteLabelTagName=t.footnoteLabelTagName||"h2",s.footnoteLabelProperties=t.footnoteLabelProperties||{className:["sr-only"]},s.footnoteBackLabel=t.footnoteBackLabel||"Back to content",s.unknownHandler=t.unknownHandler,s.passThrough=t.passThrough,s.handlers={...Nre,...t.handlers},s.definition=Pre(e),s.footnoteById=i,s.footnoteOrder=[],s.footnoteCounts={},s.patch=qre,s.applyData=Bre,s.one=l,s.all=u,s.wrap=Ure,s.augment=a,MA(e,"footnoteDefinition",d=>{const f=String(d.identifier).toUpperCase();rv.call(i,f)||(i[f]=d)}),s;function a(d,f){if(d&&"data"in d&&d.data){const m=d.data;m.hName&&(f.type!=="element"&&(f={type:"element",tagName:"",properties:{},children:[]}),f.tagName=m.hName),f.type==="element"&&m.hProperties&&(f.properties={...f.properties,...m.hProperties}),"children"in f&&f.children&&m.hChildren&&(f.children=m.hChildren)}if(d){const m="type"in d?d:{position:d};Fre(m)||(f.position={start:LA(m),end:RA(m)})}return f}function s(d,f,m,b){return Array.isArray(m)&&(b=m,m={}),a(d,{type:"element",tagName:f,properties:m||{},children:b||[]})}function l(d,f){return TD(s,d,f)}function u(d){return FA(s,d)}}function qre(e,n){e.position&&(n.position=wre(e))}function Bre(e,n){let t=n;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;typeof r=="string"&&(t.type==="element"?t.tagName=r:t={type:"element",tagName:r,properties:{},children:[]}),t.type==="element"&&a&&(t.properties={...t.properties,...a}),"children"in t&&t.children&&i!==null&&i!==void 0&&(t.children=i)}return t}function TD(e,n,t){const r=n&&n.type;if(!r)throw new Error("Expected node, got `"+n+"`");return rv.call(e.handlers,r)?e.handlers[r](e,n,t):e.passThrough&&e.passThrough.includes(r)?"children"in n?{...n,children:FA(e,n)}:n:e.unknownHandler?e.unknownHandler(e,n,t):$re(e,n)}function FA(e,n){const t=[];if("children"in n){const r=n.children;let i=-1;for(;++i<r.length;){const a=TD(e,r[i],n);if(a){if(i&&r[i-1].type==="break"&&(!Array.isArray(a)&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,"")),!Array.isArray(a)&&a.type==="element")){const s=a.children[0];s&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,""))}Array.isArray(a)?t.push(...a):t.push(a)}}}return t}function $re(e,n){const t=n.data||{},r="value"in n&&!(rv.call(t,"hProperties")||rv.call(t,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:FA(e,n)};return e.patch(n,r),e.applyData(n,r)}function Ure(e,n){const t=[];let r=-1;for(n&&t.push({type:"text",value:`
`});++r<e.length;)r&&t.push({type:"text",value:`
`}),t.push(e[r]);return n&&e.length>0&&t.push({type:"text",value:`
`}),t}function Hre(e){const n=[];let t=-1;for(;++t<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[t]];if(!r)continue;const i=e.all(r),a=String(r.identifier).toUpperCase(),s=xm(a.toLowerCase());let l=0;const u=[];for(;++l<=e.footnoteCounts[a];){const m={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+s+(l>1?"-"+l:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};l>1&&m.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(l)}]}),u.length>0&&u.push({type:"text",value:" "}),u.push(m)}const d=i[i.length-1];if(d&&d.type==="element"&&d.tagName==="p"){const m=d.children[d.children.length-1];m&&m.type==="text"?m.value+=" ":d.children.push({type:"text",value:" "}),d.children.push(...u)}else i.push(...u);const f={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+s},children:e.wrap(i,!0)};e.patch(r,f),n.push(f)}if(n.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(n,!0)},{type:"text",value:`
`}]}}function jD(e,n){const t=zre(e,n),r=t.one(e,null),i=Hre(t);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const Wre=function(e,n){return e&&"run"in e?Yre(e,n):Vre(e||n)};function Yre(e,n){return(t,r,i)=>{e.run(jD(t,n),r,a=>{i(a)})}}function Vre(e){return n=>jD(n,e)}class ub{constructor(n,t,r){this.property=n,this.normal=t,r&&(this.space=r)}}ub.prototype.property={};ub.prototype.normal={};ub.prototype.space=null;function OD(e,n){const t={},r={};let i=-1;for(;++i<e.length;)Object.assign(t,e[i].property),Object.assign(r,e[i].normal);return new ub(t,r,n)}function l6(e){return e.toLowerCase()}class Fl{constructor(n,t){this.property=n,this.attribute=t}}Fl.prototype.space=null;Fl.prototype.boolean=!1;Fl.prototype.booleanish=!1;Fl.prototype.overloadedBoolean=!1;Fl.prototype.number=!1;Fl.prototype.commaSeparated=!1;Fl.prototype.spaceSeparated=!1;Fl.prototype.commaOrSpaceSeparated=!1;Fl.prototype.mustUseProperty=!1;Fl.prototype.defined=!1;let Gre=0;const En=Ip(),ja=Ip(),ID=Ip(),_t=Ip(),ii=Ip(),V0=Ip(),Uo=Ip();function Ip(){return 2**++Gre}const u6=Object.freeze(Object.defineProperty({__proto__:null,boolean:En,booleanish:ja,commaOrSpaceSeparated:Uo,commaSeparated:V0,number:_t,overloadedBoolean:ID,spaceSeparated:ii},Symbol.toStringTag,{value:"Module"})),Fw=Object.keys(u6);class PA extends Fl{constructor(n,t,r,i){let a=-1;if(super(n,t),mN(this,"space",i),typeof r=="number")for(;++a<Fw.length;){const s=Fw[a];mN(this,Fw[a],(r&u6[s])===u6[s])}}}PA.prototype.defined=!0;function mN(e,n,t){t&&(e[n]=t)}const Qre={}.hasOwnProperty;function vm(e){const n={},t={};let r;for(r in e.properties)if(Qre.call(e.properties,r)){const i=e.properties[r],a=new PA(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),n[r]=a,t[l6(r)]=r,t[l6(a.attribute)]=r}return new ub(n,t,e.space)}const DD=vm({space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),LD=vm({space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function RD(e,n){return n in e?e[n]:n}function MD(e,n){return RD(e,n.toLowerCase())}const FD=vm({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:MD,properties:{xmlns:null,xmlnsXLink:null}}),PD=vm({transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ja,ariaAutoComplete:null,ariaBusy:ja,ariaChecked:ja,ariaColCount:_t,ariaColIndex:_t,ariaColSpan:_t,ariaControls:ii,ariaCurrent:null,ariaDescribedBy:ii,ariaDetails:null,ariaDisabled:ja,ariaDropEffect:ii,ariaErrorMessage:null,ariaExpanded:ja,ariaFlowTo:ii,ariaGrabbed:ja,ariaHasPopup:null,ariaHidden:ja,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ii,ariaLevel:_t,ariaLive:null,ariaModal:ja,ariaMultiLine:ja,ariaMultiSelectable:ja,ariaOrientation:null,ariaOwns:ii,ariaPlaceholder:null,ariaPosInSet:_t,ariaPressed:ja,ariaReadOnly:ja,ariaRelevant:null,ariaRequired:ja,ariaRoleDescription:ii,ariaRowCount:_t,ariaRowIndex:_t,ariaRowSpan:_t,ariaSelected:ja,ariaSetSize:_t,ariaSort:null,ariaValueMax:_t,ariaValueMin:_t,ariaValueNow:_t,ariaValueText:null,role:null}}),Kre=vm({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:MD,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:V0,acceptCharset:ii,accessKey:ii,action:null,allow:null,allowFullScreen:En,allowPaymentRequest:En,allowUserMedia:En,alt:null,as:null,async:En,autoCapitalize:null,autoComplete:ii,autoFocus:En,autoPlay:En,blocking:ii,capture:null,charSet:null,checked:En,cite:null,className:ii,cols:_t,colSpan:null,content:null,contentEditable:ja,controls:En,controlsList:ii,coords:_t|V0,crossOrigin:null,data:null,dateTime:null,decoding:null,default:En,defer:En,dir:null,dirName:null,disabled:En,download:ID,draggable:ja,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:En,formTarget:null,headers:ii,height:_t,hidden:En,high:_t,href:null,hrefLang:null,htmlFor:ii,httpEquiv:ii,id:null,imageSizes:null,imageSrcSet:null,inert:En,inputMode:null,integrity:null,is:null,isMap:En,itemId:null,itemProp:ii,itemRef:ii,itemScope:En,itemType:ii,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:En,low:_t,manifest:null,max:null,maxLength:_t,media:null,method:null,min:null,minLength:_t,multiple:En,muted:En,name:null,nonce:null,noModule:En,noValidate:En,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:En,optimum:_t,pattern:null,ping:ii,placeholder:null,playsInline:En,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:En,referrerPolicy:null,rel:ii,required:En,reversed:En,rows:_t,rowSpan:_t,sandbox:ii,scope:null,scoped:En,seamless:En,selected:En,shadowRootClonable:En,shadowRootDelegatesFocus:En,shadowRootMode:null,shape:null,size:_t,sizes:null,slot:null,span:_t,spellCheck:ja,src:null,srcDoc:null,srcLang:null,srcSet:null,start:_t,step:null,style:null,tabIndex:_t,target:null,title:null,translate:null,type:null,typeMustMatch:En,useMap:null,value:ja,width:_t,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ii,axis:null,background:null,bgColor:null,border:_t,borderColor:null,bottomMargin:_t,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:En,declare:En,event:null,face:null,frame:null,frameBorder:null,hSpace:_t,leftMargin:_t,link:null,longDesc:null,lowSrc:null,marginHeight:_t,marginWidth:_t,noResize:En,noHref:En,noShade:En,noWrap:En,object:null,profile:null,prompt:null,rev:null,rightMargin:_t,rules:null,scheme:null,scrolling:ja,standby:null,summary:null,text:null,topMargin:_t,valueType:null,version:null,vAlign:null,vLink:null,vSpace:_t,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:En,disableRemotePlayback:En,prefix:null,property:null,results:_t,security:null,unselectable:null}}),Xre=vm({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:RD,properties:{about:Uo,accentHeight:_t,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:_t,amplitude:_t,arabicForm:null,ascent:_t,attributeName:null,attributeType:null,azimuth:_t,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:_t,by:null,calcMode:null,capHeight:_t,className:ii,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:_t,diffuseConstant:_t,direction:null,display:null,dur:null,divisor:_t,dominantBaseline:null,download:En,dx:null,dy:null,edgeMode:null,editable:null,elevation:_t,enableBackground:null,end:null,event:null,exponent:_t,externalResourcesRequired:null,fill:null,fillOpacity:_t,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:V0,g2:V0,glyphName:V0,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:_t,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:_t,horizOriginX:_t,horizOriginY:_t,id:null,ideographic:_t,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:_t,k:_t,k1:_t,k2:_t,k3:_t,k4:_t,kernelMatrix:Uo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:_t,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:_t,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:_t,overlineThickness:_t,paintOrder:null,panose1:null,path:null,pathLength:_t,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ii,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:_t,pointsAtY:_t,pointsAtZ:_t,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Uo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Uo,rev:Uo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Uo,requiredFeatures:Uo,requiredFonts:Uo,requiredFormats:Uo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:_t,specularExponent:_t,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:_t,strikethroughThickness:_t,string:null,stroke:null,strokeDashArray:Uo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:_t,strokeOpacity:_t,strokeWidth:null,style:null,surfaceScale:_t,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Uo,tabIndex:_t,tableValues:null,target:null,targetX:_t,targetY:_t,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Uo,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:_t,underlineThickness:_t,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:_t,values:null,vAlphabetic:_t,vMathematical:_t,vectorEffect:null,vHanging:_t,vIdeographic:_t,version:null,vertAdvY:_t,vertOriginX:_t,vertOriginY:_t,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:_t,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Zre=/^data[-\w.:]+$/i,gN=/-[a-z]/g,Jre=/[A-Z]/g;function eie(e,n){const t=l6(n);let r=n,i=Fl;if(t in e.normal)return e.property[e.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&Zre.test(n)){if(n.charAt(4)==="-"){const a=n.slice(5).replace(gN,nie);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=n.slice(4);if(!gN.test(a)){let s=a.replace(Jre,tie);s.charAt(0)!=="-"&&(s="-"+s),n="data"+s}}i=PA}return new i(r,n)}function tie(e){return"-"+e.toLowerCase()}function nie(e){return e.charAt(1).toUpperCase()}const bN={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},rie=OD([LD,DD,FD,PD,Kre],"html"),iie=OD([LD,DD,FD,PD,Xre],"svg");function aie(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return n=>{MA(n,"element",(t,r,i)=>{const a=i;let s;if(e.allowedElements?s=!e.allowedElements.includes(t.tagName):e.disallowedElements&&(s=e.disallowedElements.includes(t.tagName)),!s&&e.allowElement&&typeof r=="number"&&(s=!e.allowElement(t,r,a)),s&&typeof r=="number")return e.unwrapDisallowed&&t.children?a.children.splice(r,1,...t.children):a.children.splice(r,1),r})}}var Pw={exports:{}},Er={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yN;function sie(){if(yN)return Er;yN=1;var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function y(A){if(typeof A=="object"&&A!==null){var w=A.$$typeof;switch(w){case e:switch(A=A.type,A){case t:case i:case r:case d:case f:return A;default:switch(A=A&&A.$$typeof,A){case l:case s:case u:case b:case m:case a:return A;default:return w}}case n:return w}}}return Er.ContextConsumer=s,Er.ContextProvider=a,Er.Element=e,Er.ForwardRef=u,Er.Fragment=t,Er.Lazy=b,Er.Memo=m,Er.Portal=n,Er.Profiler=i,Er.StrictMode=r,Er.Suspense=d,Er.SuspenseList=f,Er.isAsyncMode=function(){return!1},Er.isConcurrentMode=function(){return!1},Er.isContextConsumer=function(A){return y(A)===s},Er.isContextProvider=function(A){return y(A)===a},Er.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},Er.isForwardRef=function(A){return y(A)===u},Er.isFragment=function(A){return y(A)===t},Er.isLazy=function(A){return y(A)===b},Er.isMemo=function(A){return y(A)===m},Er.isPortal=function(A){return y(A)===n},Er.isProfiler=function(A){return y(A)===i},Er.isStrictMode=function(A){return y(A)===r},Er.isSuspense=function(A){return y(A)===d},Er.isSuspenseList=function(A){return y(A)===f},Er.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===t||A===i||A===r||A===d||A===f||A===g||typeof A=="object"&&A!==null&&(A.$$typeof===b||A.$$typeof===m||A.$$typeof===a||A.$$typeof===s||A.$$typeof===u||A.$$typeof===x||A.getModuleId!==void 0)},Er.typeOf=y,Er}var xN;function oie(){return xN||(xN=1,Pw.exports=sie()),Pw.exports}var lie=oie();const uie=ts(lie);function cie(e){const n=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof n=="string"&&n.replace(/[ \t\n\f\r]/g,"")===""}function die(e){return e.join(" ").trim()}function fie(e,n){const t={};return(e[e.length-1]===""?[...e,""]:e).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}var Vy={exports:{}},zw,vN;function hie(){if(vN)return zw;vN=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,t=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,l=/^\s+|\s+$/g,u=`
`,d="/",f="*",m="",b="comment",g="declaration";zw=function(y,A){if(typeof y!="string")throw new TypeError("First argument must be a string");if(!y)return[];A=A||{};var w=1,C=1;function T(F){var N=F.match(n);N&&(w+=N.length);var G=F.lastIndexOf(u);C=~G?F.length-G:C+F.length}function M(){var F={line:w,column:C};return function(N){return N.position=new R(F),L(),N}}function R(F){this.start=F,this.end={line:w,column:C},this.source=A.source}R.prototype.content=y;function z(F){var N=new Error(A.source+":"+w+":"+C+": "+F);if(N.reason=F,N.filename=A.source,N.line=w,N.column=C,N.source=y,!A.silent)throw N}function _(F){var N=F.exec(y);if(N){var G=N[0];return T(G),y=y.slice(G.length),N}}function L(){_(t)}function $(F){var N;for(F=F||[];N=Z();)N!==!1&&F.push(N);return F}function Z(){var F=M();if(!(d!=y.charAt(0)||f!=y.charAt(1))){for(var N=2;m!=y.charAt(N)&&(f!=y.charAt(N)||d!=y.charAt(N+1));)++N;if(N+=2,m===y.charAt(N-1))return z("End of comment missing");var G=y.slice(2,N-2);return C+=2,T(G),y=y.slice(N),C+=2,F({type:b,comment:G})}}function O(){var F=M(),N=_(r);if(N){if(Z(),!_(i))return z("property missing ':'");var G=_(a),H=F({type:g,property:x(N[0].replace(e,m)),value:G?x(G[0].replace(e,m)):m});return _(s),H}}function j(){var F=[];$(F);for(var N;N=O();)N!==!1&&(F.push(N),$(F));return F}return L(),j()};function x(y){return y?y.replace(l,m):m}return zw}var wN;function pie(){if(wN)return Vy.exports;wN=1;var e=hie();function n(t,r){var i=null;if(!t||typeof t!="string")return i;for(var a,s=e(t),l=typeof r=="function",u,d,f=0,m=s.length;f<m;f++)a=s[f],u=a.property,d=a.value,l?r(u,d,a):d&&(i||(i={}),i[u]=d);return i}return Vy.exports=n,Vy.exports.default=n,Vy.exports}var mie=pie();const gie=ts(mie),c6={}.hasOwnProperty,bie=new Set(["table","thead","tbody","tfoot","tr"]);function zD(e,n){const t=[];let r=-1,i;for(;++r<n.children.length;)i=n.children[r],i.type==="element"?t.push(yie(e,i,r,n)):i.type==="text"?(n.type!=="element"||!bie.has(n.tagName)||!cie(i))&&t.push(i.value):i.type==="raw"&&!e.options.skipHtml&&t.push(i.value);return t}function yie(e,n,t,r){const i=e.options,a=i.transformLinkUri===void 0?Nee:i.transformLinkUri,s=e.schema,l=n.tagName,u={};let d=s,f;if(s.space==="html"&&l==="svg"&&(d=iie,e.schema=d),n.properties)for(f in n.properties)c6.call(n.properties,f)&&vie(u,f,n.properties[f],e);(l==="ol"||l==="ul")&&e.listDepth++;const m=zD(e,n);(l==="ol"||l==="ul")&&e.listDepth--,e.schema=s;const b=n.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},g=i.components&&c6.call(i.components,l)?i.components[l]:l,x=typeof g=="string"||g===st.Fragment;if(!uie.isValidElementType(g))throw new TypeError(`Component for name \`${l}\` not defined or is not renderable`);if(u.key=t,l==="a"&&i.linkTarget&&(u.target=typeof i.linkTarget=="function"?i.linkTarget(String(u.href||""),n.children,typeof u.title=="string"?u.title:null):i.linkTarget),l==="a"&&a&&(u.href=a(String(u.href||""),n.children,typeof u.title=="string"?u.title:null)),!x&&l==="code"&&r.type==="element"&&r.tagName!=="pre"&&(u.inline=!0),!x&&(l==="h1"||l==="h2"||l==="h3"||l==="h4"||l==="h5"||l==="h6")&&(u.level=Number.parseInt(l.charAt(1),10)),l==="img"&&i.transformImageUri&&(u.src=i.transformImageUri(String(u.src||""),String(u.alt||""),typeof u.title=="string"?u.title:null)),!x&&l==="li"&&r.type==="element"){const y=xie(n);u.checked=y&&y.properties?!!y.properties.checked:null,u.index=qw(r,n),u.ordered=r.tagName==="ol"}return!x&&(l==="ol"||l==="ul")&&(u.ordered=l==="ol",u.depth=e.listDepth),(l==="td"||l==="th")&&(u.align&&(u.style||(u.style={}),u.style.textAlign=u.align,delete u.align),x||(u.isHeader=l==="th")),!x&&l==="tr"&&r.type==="element"&&(u.isHeader=r.tagName==="thead"),i.sourcePos&&(u["data-sourcepos"]=Aie(b)),!x&&i.rawSourcePos&&(u.sourcePosition=n.position),!x&&i.includeElementIndex&&(u.index=qw(r,n),u.siblingCount=qw(r)),x||(u.node=n),m.length>0?st.createElement(g,u,m):st.createElement(g,u)}function xie(e){let n=-1;for(;++n<e.children.length;){const t=e.children[n];if(t.type==="element"&&t.tagName==="input")return t}return null}function qw(e,n){let t=-1,r=0;for(;++t<e.children.length&&e.children[t]!==n;)e.children[t].type==="element"&&r++;return r}function vie(e,n,t,r){const i=eie(r.schema,n);let a=t;a==null||a!==a||(Array.isArray(a)&&(a=i.commaSeparated?fie(a):die(a)),i.property==="style"&&typeof a=="string"&&(a=wie(a)),i.space&&i.property?e[c6.call(bN,i.property)?bN[i.property]:i.property]=a:i.attribute&&(e[i.attribute]=a))}function wie(e){const n={};try{gie(e,t)}catch{}return n;function t(r,i){const a=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;n[a.replace(/-([a-z])/g,Sie)]=i}}function Sie(e,n){return n.toUpperCase()}function Aie(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const SN={}.hasOwnProperty,Cie="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Gy={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function zA(e){for(const a in Gy)if(SN.call(Gy,a)&&SN.call(e,a)){const s=Gy[a];console.warn(`[react-markdown] Warning: please ${s.to?`use \`${s.to}\` instead of`:"remove"} \`${a}\` (see <${Cie}#${s.id}> for more info)`),delete Gy[a]}const n=Yee().use(tre).use(e.remarkPlugins||[]).use(Wre,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(aie,e),t=new lD;typeof e.children=="string"?t.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=n.runSync(n.parse(t),t);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=st.createElement(st.Fragment,{},zD({options:e,schema:rie,listDepth:0},r));return e.className&&(i=st.createElement("div",{className:e.className},i)),i}zA.propTypes={children:wn.string,className:wn.string,allowElement:wn.func,allowedElements:wn.arrayOf(wn.string),disallowedElements:wn.arrayOf(wn.string),unwrapDisallowed:wn.bool,remarkPlugins:wn.arrayOf(wn.oneOfType([wn.object,wn.func,wn.arrayOf(wn.oneOfType([wn.bool,wn.string,wn.object,wn.func,wn.arrayOf(wn.any)]))])),rehypePlugins:wn.arrayOf(wn.oneOfType([wn.object,wn.func,wn.arrayOf(wn.oneOfType([wn.bool,wn.string,wn.object,wn.func,wn.arrayOf(wn.any)]))])),sourcePos:wn.bool,rawSourcePos:wn.bool,skipHtml:wn.bool,includeElementIndex:wn.bool,transformLinkUri:wn.oneOfType([wn.func,wn.bool]),linkTarget:wn.oneOfType([wn.func,wn.string]),transformImageUri:wn.func,components:wn.object};function qA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Hd(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var AN={exports:{}},Lg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CN;function Eie(){if(CN)return Lg;CN=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Lg.Fragment=n,Lg.jsx=t,Lg.jsxs=t,Lg}var EN;function BA(){return EN||(EN=1,AN.exports=Eie()),AN.exports}var xn=BA(),Rg={},kN={exports:{}},_N;function Qv(){return _N||(_N=1,function(e){function n(t){return t&&t.__esModule?t:{default:t}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(kN)),kN.exports}var NN={};function Wr(){return Wr=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Wr.apply(null,arguments)}function Rf(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function qD(e){if(X.isValidElement(e)||!Rf(e))return e;const n={};return Object.keys(e).forEach(t=>{n[t]=qD(e[t])}),n}function Tc(e,n,t={clone:!0}){const r=t.clone?Wr({},e):e;return Rf(e)&&Rf(n)&&Object.keys(n).forEach(i=>{X.isValidElement(n[i])?r[i]=n[i]:Rf(n[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Rf(e[i])?r[i]=Tc(e[i],n[i],t):t.clone?r[i]=Rf(n[i])?qD(n[i]):n[i]:r[i]=n[i]}),r}const kie=Object.freeze(Object.defineProperty({__proto__:null,default:Tc,isPlainObject:Rf},Symbol.toStringTag,{value:"Module"}));function O1(e){let n="https://mui.com/production-error/?code="+e;for(let t=1;t<arguments.length;t+=1)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+e+"; visit "+n+" for the full message."}const _ie=Object.freeze(Object.defineProperty({__proto__:null,default:O1},Symbol.toStringTag,{value:"Module"}));var TN={exports:{}},$r={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jN;function Nie(){if(jN)return $r;jN=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),g=Symbol.for("react.client.reference");function x(y){if(typeof y=="object"&&y!==null){var A=y.$$typeof;switch(A){case e:switch(y=y.type,y){case t:case i:case r:case u:case d:return y;default:switch(y=y&&y.$$typeof,y){case s:case l:case m:case f:return y;case a:return y;default:return A}}case n:return A}}}return $r.ContextConsumer=a,$r.ContextProvider=s,$r.Element=e,$r.ForwardRef=l,$r.Fragment=t,$r.Lazy=m,$r.Memo=f,$r.Portal=n,$r.Profiler=i,$r.StrictMode=r,$r.Suspense=u,$r.SuspenseList=d,$r.isContextConsumer=function(y){return x(y)===a},$r.isContextProvider=function(y){return x(y)===s},$r.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},$r.isForwardRef=function(y){return x(y)===l},$r.isFragment=function(y){return x(y)===t},$r.isLazy=function(y){return x(y)===m},$r.isMemo=function(y){return x(y)===f},$r.isPortal=function(y){return x(y)===n},$r.isProfiler=function(y){return x(y)===i},$r.isStrictMode=function(y){return x(y)===r},$r.isSuspense=function(y){return x(y)===u},$r.isSuspenseList=function(y){return x(y)===d},$r.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===i||y===r||y===u||y===d||y===b||typeof y=="object"&&y!==null&&(y.$$typeof===m||y.$$typeof===f||y.$$typeof===s||y.$$typeof===a||y.$$typeof===l||y.$$typeof===g||y.getModuleId!==void 0)},$r.typeOf=x,$r}var ON;function Tie(){return ON||(ON=1,TN.exports=Nie()),TN.exports}var IN=Tie();const jie=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function BD(e){const n=`${e}`.match(jie);return n&&n[1]||""}function $D(e,n=""){return e.displayName||e.name||BD(e)||n}function DN(e,n,t){const r=$D(n);return e.displayName||(r!==""?`${t}(${r})`:t)}function Oie(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return $D(e,"Component");if(typeof e=="object")switch(e.$$typeof){case IN.ForwardRef:return DN(e,e.render,"ForwardRef");case IN.Memo:return DN(e,e.type,"memo");default:return}}}const Iie=Object.freeze(Object.defineProperty({__proto__:null,default:Oie,getFunctionName:BD},Symbol.toStringTag,{value:"Module"}));function rh(e){if(typeof e!="string")throw new Error(O1(7));return e.charAt(0).toUpperCase()+e.slice(1)}const Die=Object.freeze(Object.defineProperty({__proto__:null,default:rh},Symbol.toStringTag,{value:"Module"}));function Lie(...e){return e.reduce((n,t)=>t==null?n:function(...r){n.apply(this,r),t.apply(this,r)},()=>{})}function Rie(e,n=166){let t;function r(...i){const a=()=>{e.apply(this,i)};clearTimeout(t),t=setTimeout(a,n)}return r.clear=()=>{clearTimeout(t)},r}function Mie(e,n){return()=>null}function Fie(e,n){var t,r;return X.isValidElement(e)&&n.indexOf((t=e.type.muiName)!=null?t:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function UD(e){return e&&e.ownerDocument||document}function Pie(e){return UD(e).defaultView||window}function zie(e,n){return()=>null}function HD(e,n){typeof e=="function"?e(n):e&&(e.current=n)}const WD=typeof window<"u"?X.useLayoutEffect:X.useEffect;let LN=0;function qie(e){const[n,t]=X.useState(e),r=e||n;return X.useEffect(()=>{n==null&&(LN+=1,t(`mui-${LN}`))},[n]),r}const RN=X.useId;function Bie(e){if(RN!==void 0){const n=RN();return e??n}return qie(e)}function $ie(e,n,t,r,i){return null}function Uie({controlled:e,default:n,name:t,state:r="value"}){const{current:i}=X.useRef(e!==void 0),[a,s]=X.useState(n),l=i?e:a,u=X.useCallback(d=>{i||s(d)},[]);return[l,u]}function Hie(e){const n=X.useRef(e);return WD(()=>{n.current=e}),X.useRef((...t)=>(0,n.current)(...t)).current}function Wie(...e){return X.useMemo(()=>e.every(n=>n==null)?null:n=>{e.forEach(t=>{HD(t,n)})},e)}let Yie=class YD{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new YD}start(n,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},n)}},Kv=!0,d6=!1;const Vie=new Yie,Gie={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Qie(e){const{type:n,tagName:t}=e;return!!(t==="INPUT"&&Gie[n]&&!e.readOnly||t==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function Kie(e){e.metaKey||e.altKey||e.ctrlKey||(Kv=!0)}function Bw(){Kv=!1}function Xie(){this.visibilityState==="hidden"&&d6&&(Kv=!0)}function Zie(e){e.addEventListener("keydown",Kie,!0),e.addEventListener("mousedown",Bw,!0),e.addEventListener("pointerdown",Bw,!0),e.addEventListener("touchstart",Bw,!0),e.addEventListener("visibilitychange",Xie,!0)}function Jie(e){const{target:n}=e;try{return n.matches(":focus-visible")}catch{}return Kv||Qie(n)}function eae(){const e=X.useCallback(i=>{i!=null&&Zie(i.ownerDocument)},[]),n=X.useRef(!1);function t(){return n.current?(d6=!0,Vie.start(100,()=>{d6=!1}),n.current=!1,!0):!1}function r(i){return Jie(i)?(n.current=!0,!0):!1}return{isFocusVisibleRef:n,onFocus:r,onBlur:t,ref:e}}function f6(e,n){const t=Wr({},n);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=Wr({},e[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},a=n[r];t[r]={},!a||!Object.keys(a)?t[r]=i:!i||!Object.keys(i)?t[r]=a:(t[r]=Wr({},a),Object.keys(i).forEach(s=>{t[r][s]=f6(i[s],a[s])}))}else t[r]===void 0&&(t[r]=e[r])}),t}function tae(e,n,t=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((a,s)=>{if(s){const l=n(s);l!==""&&a.push(l),t&&t[s]&&a.push(t[s])}return a},[]).join(" ")}),r}const MN=e=>e,nae=()=>{let e=MN;return{configure(n){e=n},generate(n){return e(n)},reset(){e=MN}}},VD=nae(),rae={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function GD(e,n,t="Mui"){const r=rae[n];return r?`${t}-${r}`:`${VD.generate(e)}-${n}`}function iae(e,n,t="Mui"){const r={};return n.forEach(i=>{r[i]=GD(e,i,t)}),r}function aae(e,n=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(n,Math.min(e,t))}const sae=Object.freeze(Object.defineProperty({__proto__:null,default:aae},Symbol.toStringTag,{value:"Module"}));function dh(e,n){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.includes(r))continue;t[r]=e[r]}return t}function QD(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(t=QD(e[n]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function oae(){for(var e,n,t=0,r="",i=arguments.length;t<i;t++)(e=arguments[t])&&(n=QD(e))&&(r&&(r+=" "),r+=n);return r}const lae=X.createContext(void 0);function uae(e){const{theme:n,name:t,props:r}=e;if(!n||!n.components||!n.components[t])return r;const i=n.components[t];return i.defaultProps?f6(i.defaultProps,r):!i.styleOverrides&&!i.variants?f6(i,r):r}function cae({props:e,name:n}){const t=X.useContext(lae);return uae({props:e,name:n,theme:{components:t}})}function dae(e){return cae(e)}var qh={},FN={exports:{}},PN;function fae(){return PN||(PN=1,function(e){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)({}).hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(FN)),FN.exports}var zN={exports:{}},qN;function hae(){return qN||(qN=1,function(e){function n(t,r){if(t==null)return{};var i={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.includes(a))continue;i[a]=t[a]}return i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(zN)),zN.exports}function pae(e){if(e.sheet)return e.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===e)return document.styleSheets[n]}function mae(e){var n=document.createElement("style");return n.setAttribute("data-emotion",e.key),e.nonce!==void 0&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var gae=function(){function e(t){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var n=e.prototype;return n.hydrate=function(t){t.forEach(this._insertTag)},n.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(mae(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=pae(r);try{i.insertRule(t,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(t));this.ctr++},n.flush=function(){this.tags.forEach(function(t){var r;return(r=t.parentNode)==null?void 0:r.removeChild(t)}),this.tags=[],this.ctr=0},e}(),Ds="-ms-",iv="-moz-",mr="-webkit-",KD="comm",$A="rule",UA="decl",bae="@import",XD="@keyframes",yae="@layer",xae=Math.abs,Xv=String.fromCharCode,vae=Object.assign;function wae(e,n){return hs(e,0)^45?(((n<<2^hs(e,0))<<2^hs(e,1))<<2^hs(e,2))<<2^hs(e,3):0}function ZD(e){return e.trim()}function Sae(e,n){return(e=n.exec(e))?e[0]:e}function br(e,n,t){return e.replace(n,t)}function h6(e,n){return e.indexOf(n)}function hs(e,n){return e.charCodeAt(n)|0}function I1(e,n,t){return e.slice(n,t)}function cc(e){return e.length}function HA(e){return e.length}function Qy(e,n){return n.push(e),e}function Aae(e,n){return e.map(n).join("")}var Zv=1,fm=1,JD=0,wo=0,Oa=0,wm="";function Jv(e,n,t,r,i,a,s){return{value:e,root:n,parent:t,type:r,props:i,children:a,line:Zv,column:fm,length:s,return:""}}function Mg(e,n){return vae(Jv("",null,null,"",null,null,0),e,{length:-e.length},n)}function Cae(){return Oa}function Eae(){return Oa=wo>0?hs(wm,--wo):0,fm--,Oa===10&&(fm=1,Zv--),Oa}function Zo(){return Oa=wo<JD?hs(wm,wo++):0,fm++,Oa===10&&(fm=1,Zv++),Oa}function jc(){return hs(wm,wo)}function yx(){return wo}function cb(e,n){return I1(wm,e,n)}function D1(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function eL(e){return Zv=fm=1,JD=cc(wm=e),wo=0,[]}function tL(e){return wm="",e}function xx(e){return ZD(cb(wo-1,p6(e===91?e+2:e===40?e+1:e)))}function kae(e){for(;(Oa=jc())&&Oa<33;)Zo();return D1(e)>2||D1(Oa)>3?"":" "}function _ae(e,n){for(;--n&&Zo()&&!(Oa<48||Oa>102||Oa>57&&Oa<65||Oa>70&&Oa<97););return cb(e,yx()+(n<6&&jc()==32&&Zo()==32))}function p6(e){for(;Zo();)switch(Oa){case e:return wo;case 34:case 39:e!==34&&e!==39&&p6(Oa);break;case 40:e===41&&p6(e);break;case 92:Zo();break}return wo}function Nae(e,n){for(;Zo()&&e+Oa!==57&&!(e+Oa===84&&jc()===47););return"/*"+cb(n,wo-1)+"*"+Xv(e===47?e:Zo())}function Tae(e){for(;!D1(jc());)Zo();return cb(e,wo)}function jae(e){return tL(vx("",null,null,null,[""],e=eL(e),0,[0],e))}function vx(e,n,t,r,i,a,s,l,u){for(var d=0,f=0,m=s,b=0,g=0,x=0,y=1,A=1,w=1,C=0,T="",M=i,R=a,z=r,_=T;A;)switch(x=C,C=Zo()){case 40:if(x!=108&&hs(_,m-1)==58){h6(_+=br(xx(C),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:_+=xx(C);break;case 9:case 10:case 13:case 32:_+=kae(x);break;case 92:_+=_ae(yx()-1,7);continue;case 47:switch(jc()){case 42:case 47:Qy(Oae(Nae(Zo(),yx()),n,t),u);break;default:_+="/"}break;case 123*y:l[d++]=cc(_)*w;case 125*y:case 59:case 0:switch(C){case 0:case 125:A=0;case 59+f:w==-1&&(_=br(_,/\f/g,"")),g>0&&cc(_)-m&&Qy(g>32?$N(_+";",r,t,m-1):$N(br(_," ","")+";",r,t,m-2),u);break;case 59:_+=";";default:if(Qy(z=BN(_,n,t,d,f,i,l,T,M=[],R=[],m),a),C===123)if(f===0)vx(_,n,z,z,M,a,m,l,R);else switch(b===99&&hs(_,3)===110?100:b){case 100:case 108:case 109:case 115:vx(e,z,z,r&&Qy(BN(e,z,z,0,0,i,l,T,i,M=[],m),R),i,R,m,l,r?M:R);break;default:vx(_,z,z,z,[""],R,0,l,R)}}d=f=g=0,y=w=1,T=_="",m=s;break;case 58:m=1+cc(_),g=x;default:if(y<1){if(C==123)--y;else if(C==125&&y++==0&&Eae()==125)continue}switch(_+=Xv(C),C*y){case 38:w=f>0?1:(_+="\f",-1);break;case 44:l[d++]=(cc(_)-1)*w,w=1;break;case 64:jc()===45&&(_+=xx(Zo())),b=jc(),f=m=cc(T=_+=Tae(yx())),C++;break;case 45:x===45&&cc(_)==2&&(y=0)}}return a}function BN(e,n,t,r,i,a,s,l,u,d,f){for(var m=i-1,b=i===0?a:[""],g=HA(b),x=0,y=0,A=0;x<r;++x)for(var w=0,C=I1(e,m+1,m=xae(y=s[x])),T=e;w<g;++w)(T=ZD(y>0?b[w]+" "+C:br(C,/&\f/g,b[w])))&&(u[A++]=T);return Jv(e,n,t,i===0?$A:l,u,d,f)}function Oae(e,n,t){return Jv(e,n,t,KD,Xv(Cae()),I1(e,2,-2),0)}function $N(e,n,t,r){return Jv(e,n,t,UA,I1(e,0,r),I1(e,r+1,-1),r)}function G0(e,n){for(var t="",r=HA(e),i=0;i<r;i++)t+=n(e[i],i,e,n)||"";return t}function Iae(e,n,t,r){switch(e.type){case yae:if(e.children.length)break;case bae:case UA:return e.return=e.return||e.value;case KD:return"";case XD:return e.return=e.value+"{"+G0(e.children,r)+"}";case $A:e.value=e.props.join(",")}return cc(t=G0(e.children,r))?e.return=e.value+"{"+t+"}":""}function Dae(e){var n=HA(e);return function(t,r,i,a){for(var s="",l=0;l<n;l++)s+=e[l](t,r,i,a)||"";return s}}function Lae(e){return function(n){n.root||(n=n.return)&&e(n)}}var Rae=function(e,n,t){for(var r=0,i=0;r=i,i=jc(),r===38&&i===12&&(n[t]=1),!D1(i);)Zo();return cb(e,wo)},Mae=function(e,n){var t=-1,r=44;do switch(D1(r)){case 0:r===38&&jc()===12&&(n[t]=1),e[t]+=Rae(wo-1,n,t);break;case 2:e[t]+=xx(r);break;case 4:if(r===44){e[++t]=jc()===58?"&\f":"",n[t]=e[t].length;break}default:e[t]+=Xv(r)}while(r=Zo());return e},Fae=function(e,n){return tL(Mae(eL(e),n))},UN=new WeakMap,Pae=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,t=e.parent,r=e.column===t.column&&e.line===t.line;t.type!=="rule";)if(t=t.parent,!t)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!UN.get(t))&&!r){UN.set(e,!0);for(var i=[],a=Fae(n,i),s=t.props,l=0,u=0;l<a.length;l++)for(var d=0;d<s.length;d++,u++)e.props[u]=i[l]?a[l].replace(/&\f/g,s[d]):s[d]+" "+a[l]}}},zae=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function nL(e,n){switch(wae(e,n)){case 5103:return mr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return mr+e+iv+e+Ds+e+e;case 6828:case 4268:return mr+e+Ds+e+e;case 6165:return mr+e+Ds+"flex-"+e+e;case 5187:return mr+e+br(e,/(\w+).+(:[^]+)/,mr+"box-$1$2"+Ds+"flex-$1$2")+e;case 5443:return mr+e+Ds+"flex-item-"+br(e,/flex-|-self/,"")+e;case 4675:return mr+e+Ds+"flex-line-pack"+br(e,/align-content|flex-|-self/,"")+e;case 5548:return mr+e+Ds+br(e,"shrink","negative")+e;case 5292:return mr+e+Ds+br(e,"basis","preferred-size")+e;case 6060:return mr+"box-"+br(e,"-grow","")+mr+e+Ds+br(e,"grow","positive")+e;case 4554:return mr+br(e,/([^-])(transform)/g,"$1"+mr+"$2")+e;case 6187:return br(br(br(e,/(zoom-|grab)/,mr+"$1"),/(image-set)/,mr+"$1"),e,"")+e;case 5495:case 3959:return br(e,/(image-set\([^]*)/,mr+"$1$`$1");case 4968:return br(br(e,/(.+:)(flex-)?(.*)/,mr+"box-pack:$3"+Ds+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mr+e+e;case 4095:case 3583:case 4068:case 2532:return br(e,/(.+)-inline(.+)/,mr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(cc(e)-1-n>6)switch(hs(e,n+1)){case 109:if(hs(e,n+4)!==45)break;case 102:return br(e,/(.+:)(.+)-([^]+)/,"$1"+mr+"$2-$3$1"+iv+(hs(e,n+3)==108?"$3":"$2-$3"))+e;case 115:return~h6(e,"stretch")?nL(br(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(hs(e,n+1)!==115)break;case 6444:switch(hs(e,cc(e)-3-(~h6(e,"!important")&&10))){case 107:return br(e,":",":"+mr)+e;case 101:return br(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mr+(hs(e,14)===45?"inline-":"")+"box$3$1"+mr+"$2$3$1"+Ds+"$2box$3")+e}break;case 5936:switch(hs(e,n+11)){case 114:return mr+e+Ds+br(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return mr+e+Ds+br(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return mr+e+Ds+br(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return mr+e+Ds+e+e}return e}var qae=function(e,n,t,r){if(e.length>-1&&!e.return)switch(e.type){case UA:e.return=nL(e.value,e.length);break;case XD:return G0([Mg(e,{value:br(e.value,"@","@"+mr)})],r);case $A:if(e.length)return Aae(e.props,function(i){switch(Sae(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return G0([Mg(e,{props:[br(i,/:(read-\w+)/,":"+iv+"$1")]})],r);case"::placeholder":return G0([Mg(e,{props:[br(i,/:(plac\w+)/,":"+mr+"input-$1")]}),Mg(e,{props:[br(i,/:(plac\w+)/,":"+iv+"$1")]}),Mg(e,{props:[br(i,/:(plac\w+)/,Ds+"input-$1")]})],r)}return""})}},Bae=[qae],$ae=function(e){var n=e.key;if(n==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(x){var y=x.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var r=e.stylisPlugins||Bae,i={},a,s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var y=x.getAttribute("data-emotion").split(" "),A=1;A<y.length;A++)i[y[A]]=!0;s.push(x)});var l,u=[Pae,zae];{var d,f=[Iae,Lae(function(x){d.insert(x)})],m=Dae(u.concat(r,f)),b=function(x){return G0(jae(x),m)};l=function(x,y,A,w){d=A,b(x?x+"{"+y.styles+"}":y.styles),w&&(g.inserted[y.name]=!0)}}var g={key:n,sheet:new gae({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return g.sheet.hydrate(s),g};let m6;typeof document=="object"&&(m6=$ae({key:"css",prepend:!0}));function Uae(e){const{injectFirst:n,children:t}=e;return n&&m6?xn.jsx(wj,{value:m6,children:t}):t}function Hae(e){return e==null||Object.keys(e).length===0}function Wae(e){const{styles:n,defaultTheme:t={}}=e,r=typeof n=="function"?i=>n(Hae(i)?t:i):n;return xn.jsx(Sj,{styles:r})}/**
 * @mui/styled-engine v5.16.12
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Yae(e,n){return vj(e,n)}const Vae=(e,n)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=n(e.__emotion_styles))},Gae=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Wae,StyledEngineProvider:Uae,ThemeContext:xj,css:yj,default:Yae,internal_processStyles:Vae,keyframes:bj},Symbol.toStringTag,{value:"Module"})),Qae=Hd(Gae),Kae=Hd(kie),Xae=Hd(Die),Zae=Hd(Iie),Jae=["values","unit","step"],ese=e=>{const n=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return n.sort((t,r)=>t.val-r.val),n.reduce((t,r)=>Wr({},t,{[r.key]:r.val}),{})};function rL(e){const{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=e,i=dh(e,Jae),a=ese(n),s=Object.keys(a);function l(b){return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t})`}function u(b){return`@media (max-width:${(typeof n[b]=="number"?n[b]:b)-r/100}${t})`}function d(b,g){const x=s.indexOf(g);return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t}) and (max-width:${(x!==-1&&typeof n[s[x]]=="number"?n[s[x]]:g)-r/100}${t})`}function f(b){return s.indexOf(b)+1<s.length?d(b,s[s.indexOf(b)+1]):l(b)}function m(b){const g=s.indexOf(b);return g===0?l(s[1]):g===s.length-1?u(s[g]):d(b,s[s.indexOf(b)+1]).replace("@media","@media not all and")}return Wr({keys:s,values:a,up:l,down:u,between:d,only:f,not:m,unit:t},i)}const tse={borderRadius:4};function s1(e,n){return n?Tc(e,n,{clone:!1}):e}const WA={xs:0,sm:600,md:900,lg:1200,xl:1536},HN={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${WA[e]}px)`};function Fd(e,n,t){const r=e.theme||{};if(Array.isArray(n)){const i=r.breakpoints||HN;return n.reduce((a,s,l)=>(a[i.up(i.keys[l])]=t(n[l]),a),{})}if(typeof n=="object"){const i=r.breakpoints||HN;return Object.keys(n).reduce((a,s)=>{if(Object.keys(i.values||WA).indexOf(s)!==-1){const l=i.up(s);a[l]=t(n[s],s)}else{const l=s;a[l]=n[l]}return a},{})}return t(n)}function nse(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((t,r)=>{const i=e.up(r);return t[i]={},t},{}))||{}}function rse(e,n){return e.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},n)}function e2(e,n,t=!0){if(!n||typeof n!="string")return null;if(e&&e.vars&&t){const r=`vars.${n}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(r!=null)return r}return n.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function av(e,n,t,r=t){let i;return typeof e=="function"?i=e(t):Array.isArray(e)?i=e[t]||r:i=e2(e,t)||r,n&&(i=n(i,r,e)),i}function xa(e){const{prop:n,cssProperty:t=e.prop,themeKey:r,transform:i}=e,a=s=>{if(s[n]==null)return null;const l=s[n],u=s.theme,d=e2(u,r)||{};return Fd(s,l,f=>{let m=av(d,i,f);return f===m&&typeof f=="string"&&(m=av(d,i,`${n}${f==="default"?"":rh(f)}`,f)),t===!1?m:{[t]:m}})};return a.propTypes={},a.filterProps=[n],a}function ise(e){const n={};return t=>(n[t]===void 0&&(n[t]=e(t)),n[t])}const ase={m:"margin",p:"padding"},sse={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},WN={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ose=ise(e=>{if(e.length>2)if(WN[e])e=WN[e];else return[e];const[n,t]=e.split(""),r=ase[n],i=sse[t]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),YA=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],VA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...YA,...VA];function db(e,n,t,r){var i;const a=(i=e2(e,n,!1))!=null?i:t;return typeof a=="number"?s=>typeof s=="string"?s:a*s:Array.isArray(a)?s=>typeof s=="string"?s:a[s]:typeof a=="function"?a:()=>{}}function iL(e){return db(e,"spacing",8)}function fb(e,n){if(typeof n=="string"||n==null)return n;const t=Math.abs(n),r=e(t);return n>=0?r:typeof r=="number"?-r:`-${r}`}function lse(e,n){return t=>e.reduce((r,i)=>(r[i]=fb(n,t),r),{})}function use(e,n,t,r){if(n.indexOf(t)===-1)return null;const i=ose(t),a=lse(i,r),s=e[t];return Fd(e,s,a)}function aL(e,n){const t=iL(e.theme);return Object.keys(e).map(r=>use(e,n,r,t)).reduce(s1,{})}function Yi(e){return aL(e,YA)}Yi.propTypes={};Yi.filterProps=YA;function Vi(e){return aL(e,VA)}Vi.propTypes={};Vi.filterProps=VA;function cse(e=8){if(e.mui)return e;const n=iL({spacing:e}),t=(...r)=>(r.length===0?[1]:r).map(i=>{const a=n(i);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function t2(...e){const n=e.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),t=r=>Object.keys(r).reduce((i,a)=>n[a]?s1(i,n[a](r)):i,{});return t.propTypes={},t.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),t}function _l(e){return typeof e!="number"?e:`${e}px solid`}function Pl(e,n){return xa({prop:e,themeKey:"borders",transform:n})}const dse=Pl("border",_l),fse=Pl("borderTop",_l),hse=Pl("borderRight",_l),pse=Pl("borderBottom",_l),mse=Pl("borderLeft",_l),gse=Pl("borderColor"),bse=Pl("borderTopColor"),yse=Pl("borderRightColor"),xse=Pl("borderBottomColor"),vse=Pl("borderLeftColor"),wse=Pl("outline",_l),Sse=Pl("outlineColor"),n2=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const n=db(e.theme,"shape.borderRadius",4),t=r=>({borderRadius:fb(n,r)});return Fd(e,e.borderRadius,t)}return null};n2.propTypes={};n2.filterProps=["borderRadius"];t2(dse,fse,hse,pse,mse,gse,bse,yse,xse,vse,n2,wse,Sse);const r2=e=>{if(e.gap!==void 0&&e.gap!==null){const n=db(e.theme,"spacing",8),t=r=>({gap:fb(n,r)});return Fd(e,e.gap,t)}return null};r2.propTypes={};r2.filterProps=["gap"];const i2=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const n=db(e.theme,"spacing",8),t=r=>({columnGap:fb(n,r)});return Fd(e,e.columnGap,t)}return null};i2.propTypes={};i2.filterProps=["columnGap"];const a2=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const n=db(e.theme,"spacing",8),t=r=>({rowGap:fb(n,r)});return Fd(e,e.rowGap,t)}return null};a2.propTypes={};a2.filterProps=["rowGap"];const Ase=xa({prop:"gridColumn"}),Cse=xa({prop:"gridRow"}),Ese=xa({prop:"gridAutoFlow"}),kse=xa({prop:"gridAutoColumns"}),_se=xa({prop:"gridAutoRows"}),Nse=xa({prop:"gridTemplateColumns"}),Tse=xa({prop:"gridTemplateRows"}),jse=xa({prop:"gridTemplateAreas"}),Ose=xa({prop:"gridArea"});t2(r2,i2,a2,Ase,Cse,Ese,kse,_se,Nse,Tse,jse,Ose);function Q0(e,n){return n==="grey"?n:e}const Ise=xa({prop:"color",themeKey:"palette",transform:Q0}),Dse=xa({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Q0}),Lse=xa({prop:"backgroundColor",themeKey:"palette",transform:Q0});t2(Ise,Dse,Lse);function Yo(e){return e<=1&&e!==0?`${e*100}%`:e}const Rse=xa({prop:"width",transform:Yo}),GA=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const n=t=>{var r,i;const a=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||WA[t];return a?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Yo(t)}};return Fd(e,e.maxWidth,n)}return null};GA.filterProps=["maxWidth"];const Mse=xa({prop:"minWidth",transform:Yo}),Fse=xa({prop:"height",transform:Yo}),Pse=xa({prop:"maxHeight",transform:Yo}),zse=xa({prop:"minHeight",transform:Yo});xa({prop:"size",cssProperty:"width",transform:Yo});xa({prop:"size",cssProperty:"height",transform:Yo});const qse=xa({prop:"boxSizing"});t2(Rse,GA,Mse,Fse,Pse,zse,qse);const hb={border:{themeKey:"borders",transform:_l},borderTop:{themeKey:"borders",transform:_l},borderRight:{themeKey:"borders",transform:_l},borderBottom:{themeKey:"borders",transform:_l},borderLeft:{themeKey:"borders",transform:_l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:_l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:n2},color:{themeKey:"palette",transform:Q0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Q0},backgroundColor:{themeKey:"palette",transform:Q0},p:{style:Vi},pt:{style:Vi},pr:{style:Vi},pb:{style:Vi},pl:{style:Vi},px:{style:Vi},py:{style:Vi},padding:{style:Vi},paddingTop:{style:Vi},paddingRight:{style:Vi},paddingBottom:{style:Vi},paddingLeft:{style:Vi},paddingX:{style:Vi},paddingY:{style:Vi},paddingInline:{style:Vi},paddingInlineStart:{style:Vi},paddingInlineEnd:{style:Vi},paddingBlock:{style:Vi},paddingBlockStart:{style:Vi},paddingBlockEnd:{style:Vi},m:{style:Yi},mt:{style:Yi},mr:{style:Yi},mb:{style:Yi},ml:{style:Yi},mx:{style:Yi},my:{style:Yi},margin:{style:Yi},marginTop:{style:Yi},marginRight:{style:Yi},marginBottom:{style:Yi},marginLeft:{style:Yi},marginX:{style:Yi},marginY:{style:Yi},marginInline:{style:Yi},marginInlineStart:{style:Yi},marginInlineEnd:{style:Yi},marginBlock:{style:Yi},marginBlockStart:{style:Yi},marginBlockEnd:{style:Yi},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:r2},rowGap:{style:a2},columnGap:{style:i2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Yo},maxWidth:{style:GA},minWidth:{transform:Yo},height:{transform:Yo},maxHeight:{transform:Yo},minHeight:{transform:Yo},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Bse(...e){const n=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(n);return e.every(r=>t.size===Object.keys(r).length)}function $se(e,n){return typeof e=="function"?e(n):e}function sL(){function e(t,r,i,a){const s={[t]:r,theme:i},l=a[t];if(!l)return{[t]:r};const{cssProperty:u=t,themeKey:d,transform:f,style:m}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const b=e2(i,d)||{};return m?m(s):Fd(s,r,g=>{let x=av(b,f,g);return g===x&&typeof g=="string"&&(x=av(b,f,`${t}${g==="default"?"":rh(g)}`,g)),u===!1?x:{[u]:x}})}function n(t){var r;const{sx:i,theme:a={}}=t||{};if(!i)return null;const s=(r=a.unstable_sxConfig)!=null?r:hb;function l(u){let d=u;if(typeof u=="function")d=u(a);else if(typeof u!="object")return u;if(!d)return null;const f=nse(a.breakpoints),m=Object.keys(f);let b=f;return Object.keys(d).forEach(g=>{const x=$se(d[g],a);if(x!=null)if(typeof x=="object")if(s[g])b=s1(b,e(g,x,a,s));else{const y=Fd({theme:a},x,A=>({[g]:A}));Bse(y,x)?b[g]=n({sx:x,theme:a}):b=s1(b,y)}else b=s1(b,e(g,x,a,s))}),rse(m,b)}return Array.isArray(i)?i.map(l):l(i)}return n}const s2=sL();s2.filterProps=["sx"];function oL(e,n){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:n}:t.palette.mode===e?n:{}}const Use=["breakpoints","palette","spacing","shape"];function lL(e={},...n){const{breakpoints:t={},palette:r={},spacing:i,shape:a={}}=e,s=dh(e,Use),l=rL(t),u=cse(i);let d=Tc({breakpoints:l,direction:"ltr",components:{},palette:Wr({mode:"light"},r),spacing:u,shape:Wr({},tse,a)},s);return d.applyStyles=oL,d=n.reduce((f,m)=>Tc(f,m),d),d.unstable_sxConfig=Wr({},hb,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(f){return s2({sx:f,theme:this})},d}const Hse=Object.freeze(Object.defineProperty({__proto__:null,default:lL,private_createBreakpoints:rL,unstable_applyStyles:oL},Symbol.toStringTag,{value:"Module"})),Wse=Hd(Hse),Yse=["sx"],Vse=e=>{var n,t;const r={systemProps:{},otherProps:{}},i=(n=e==null||(t=e.theme)==null?void 0:t.unstable_sxConfig)!=null?n:hb;return Object.keys(e).forEach(a=>{i[a]?r.systemProps[a]=e[a]:r.otherProps[a]=e[a]}),r};function Gse(e){const{sx:n}=e,t=dh(e,Yse),{systemProps:r,otherProps:i}=Vse(t);let a;return Array.isArray(n)?a=[r,...n]:typeof n=="function"?a=(...s)=>{const l=n(...s);return Rf(l)?Wr({},r,l):r}:a=Wr({},r,n),Wr({},i,{sx:a})}const Qse=Object.freeze(Object.defineProperty({__proto__:null,default:s2,extendSxProp:Gse,unstable_createStyleFunctionSx:sL,unstable_defaultSxConfig:hb},Symbol.toStringTag,{value:"Module"})),Kse=Hd(Qse);var YN;function Xse(){if(YN)return qh;YN=1;var e=Qv();Object.defineProperty(qh,"__esModule",{value:!0}),qh.default=M,qh.shouldForwardProp=x,qh.systemDefaultTheme=void 0;var n=e(fae()),t=e(hae()),r=m(Qae),i=Kae;e(Xae),e(Zae);var a=e(Wse),s=e(Kse);const l=["ownerState"],u=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function f(R){if(typeof WeakMap!="function")return null;var z=new WeakMap,_=new WeakMap;return(f=function(L){return L?_:z})(R)}function m(R,z){if(R&&R.__esModule)return R;if(R===null||typeof R!="object"&&typeof R!="function")return{default:R};var _=f(z);if(_&&_.has(R))return _.get(R);var L={__proto__:null},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Z in R)if(Z!=="default"&&Object.prototype.hasOwnProperty.call(R,Z)){var O=$?Object.getOwnPropertyDescriptor(R,Z):null;O&&(O.get||O.set)?Object.defineProperty(L,Z,O):L[Z]=R[Z]}return L.default=R,_&&_.set(R,L),L}function b(R){return Object.keys(R).length===0}function g(R){return typeof R=="string"&&R.charCodeAt(0)>96}function x(R){return R!=="ownerState"&&R!=="theme"&&R!=="sx"&&R!=="as"}const y=qh.systemDefaultTheme=(0,a.default)(),A=R=>R&&R.charAt(0).toLowerCase()+R.slice(1);function w({defaultTheme:R,theme:z,themeId:_}){return b(z)?R:z[_]||z}function C(R){return R?(z,_)=>_[R]:null}function T(R,z){let{ownerState:_}=z,L=(0,t.default)(z,l);const $=typeof R=="function"?R((0,n.default)({ownerState:_},L)):R;if(Array.isArray($))return $.flatMap(Z=>T(Z,(0,n.default)({ownerState:_},L)));if($&&typeof $=="object"&&Array.isArray($.variants)){const{variants:Z=[]}=$;let O=(0,t.default)($,u);return Z.forEach(j=>{let F=!0;typeof j.props=="function"?F=j.props((0,n.default)({ownerState:_},L,_)):Object.keys(j.props).forEach(N=>{(_==null?void 0:_[N])!==j.props[N]&&L[N]!==j.props[N]&&(F=!1)}),F&&(Array.isArray(O)||(O=[O]),O.push(typeof j.style=="function"?j.style((0,n.default)({ownerState:_},L,_)):j.style))}),O}return $}function M(R={}){const{themeId:z,defaultTheme:_=y,rootShouldForwardProp:L=x,slotShouldForwardProp:$=x}=R,Z=O=>(0,s.default)((0,n.default)({},O,{theme:w((0,n.default)({},O,{defaultTheme:_,themeId:z}))}));return Z.__mui_systemSx=!0,(O,j={})=>{(0,r.internal_processStyles)(O,le=>le.filter(Se=>!(Se!=null&&Se.__mui_systemSx)));const{name:F,slot:N,skipVariantsResolver:G,skipSx:H,overridesResolver:Q=C(A(N))}=j,te=(0,t.default)(j,d),oe=G!==void 0?G:N&&N!=="Root"&&N!=="root"||!1,U=H||!1;let se,q=x;N==="Root"||N==="root"?q=L:N?q=$:g(O)&&(q=void 0);const B=(0,r.default)(O,(0,n.default)({shouldForwardProp:q,label:se},te)),J=le=>typeof le=="function"&&le.__emotion_real!==le||(0,i.isPlainObject)(le)?Se=>T(le,(0,n.default)({},Se,{theme:w({theme:Se.theme,defaultTheme:_,themeId:z})})):le,ne=(le,...Se)=>{let xe=J(le);const ke=Se?Se.map(J):[];F&&Q&&ke.push(He=>{const Ve=w((0,n.default)({},He,{defaultTheme:_,themeId:z}));if(!Ve.components||!Ve.components[F]||!Ve.components[F].styleOverrides)return null;const Y=Ve.components[F].styleOverrides,Ae={};return Object.entries(Y).forEach(([re,be])=>{Ae[re]=T(be,(0,n.default)({},He,{theme:Ve}))}),Q(He,Ae)}),F&&!oe&&ke.push(He=>{var Ve;const Y=w((0,n.default)({},He,{defaultTheme:_,themeId:z})),Ae=Y==null||(Ve=Y.components)==null||(Ve=Ve[F])==null?void 0:Ve.variants;return T({variants:Ae},(0,n.default)({},He,{theme:Y}))}),U||ke.push(Z);const De=ke.length-Se.length;if(Array.isArray(le)&&De>0){const He=new Array(De).fill("");xe=[...le,...He],xe.raw=[...le.raw,...He]}const Me=B(xe,...ke);return O.muiName&&(Me.muiName=O.muiName),Me};return B.withConfig&&(ne.withConfig=B.withConfig),ne}}return qh}var Zse=Xse();const Jse=qA(Zse);function eoe(e,n){return Wr({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},n)}var Ii={};const toe=Hd(_ie),noe=Hd(sae);var VN;function roe(){if(VN)return Ii;VN=1;var e=Qv();Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.alpha=x,Ii.blend=z,Ii.colorChannel=void 0,Ii.darken=A,Ii.decomposeColor=s,Ii.emphasize=M,Ii.getContrastRatio=g,Ii.getLuminance=b,Ii.hexToRgb=i,Ii.hslToRgb=m,Ii.lighten=C,Ii.private_safeAlpha=y,Ii.private_safeColorChannel=void 0,Ii.private_safeDarken=w,Ii.private_safeEmphasize=R,Ii.private_safeLighten=T,Ii.recomposeColor=d,Ii.rgbToHex=f;var n=e(toe),t=e(noe);function r(_,L=0,$=1){return(0,t.default)(_,L,$)}function i(_){_=_.slice(1);const L=new RegExp(`.{1,${_.length>=6?2:1}}`,"g");let $=_.match(L);return $&&$[0].length===1&&($=$.map(Z=>Z+Z)),$?`rgb${$.length===4?"a":""}(${$.map((Z,O)=>O<3?parseInt(Z,16):Math.round(parseInt(Z,16)/255*1e3)/1e3).join(", ")})`:""}function a(_){const L=_.toString(16);return L.length===1?`0${L}`:L}function s(_){if(_.type)return _;if(_.charAt(0)==="#")return s(i(_));const L=_.indexOf("("),$=_.substring(0,L);if(["rgb","rgba","hsl","hsla","color"].indexOf($)===-1)throw new Error((0,n.default)(9,_));let Z=_.substring(L+1,_.length-1),O;if($==="color"){if(Z=Z.split(" "),O=Z.shift(),Z.length===4&&Z[3].charAt(0)==="/"&&(Z[3]=Z[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(O)===-1)throw new Error((0,n.default)(10,O))}else Z=Z.split(",");return Z=Z.map(j=>parseFloat(j)),{type:$,values:Z,colorSpace:O}}const l=_=>{const L=s(_);return L.values.slice(0,3).map(($,Z)=>L.type.indexOf("hsl")!==-1&&Z!==0?`${$}%`:$).join(" ")};Ii.colorChannel=l;const u=(_,L)=>{try{return l(_)}catch{return _}};Ii.private_safeColorChannel=u;function d(_){const{type:L,colorSpace:$}=_;let{values:Z}=_;return L.indexOf("rgb")!==-1?Z=Z.map((O,j)=>j<3?parseInt(O,10):O):L.indexOf("hsl")!==-1&&(Z[1]=`${Z[1]}%`,Z[2]=`${Z[2]}%`),L.indexOf("color")!==-1?Z=`${$} ${Z.join(" ")}`:Z=`${Z.join(", ")}`,`${L}(${Z})`}function f(_){if(_.indexOf("#")===0)return _;const{values:L}=s(_);return`#${L.map(($,Z)=>a(Z===3?Math.round(255*$):$)).join("")}`}function m(_){_=s(_);const{values:L}=_,$=L[0],Z=L[1]/100,O=L[2]/100,j=Z*Math.min(O,1-O),F=(H,Q=(H+$/30)%12)=>O-j*Math.max(Math.min(Q-3,9-Q,1),-1);let N="rgb";const G=[Math.round(F(0)*255),Math.round(F(8)*255),Math.round(F(4)*255)];return _.type==="hsla"&&(N+="a",G.push(L[3])),d({type:N,values:G})}function b(_){_=s(_);let L=_.type==="hsl"||_.type==="hsla"?s(m(_)).values:_.values;return L=L.map($=>(_.type!=="color"&&($/=255),$<=.03928?$/12.92:(($+.055)/1.055)**2.4)),Number((.2126*L[0]+.7152*L[1]+.0722*L[2]).toFixed(3))}function g(_,L){const $=b(_),Z=b(L);return(Math.max($,Z)+.05)/(Math.min($,Z)+.05)}function x(_,L){return _=s(_),L=r(L),(_.type==="rgb"||_.type==="hsl")&&(_.type+="a"),_.type==="color"?_.values[3]=`/${L}`:_.values[3]=L,d(_)}function y(_,L,$){try{return x(_,L)}catch{return _}}function A(_,L){if(_=s(_),L=r(L),_.type.indexOf("hsl")!==-1)_.values[2]*=1-L;else if(_.type.indexOf("rgb")!==-1||_.type.indexOf("color")!==-1)for(let $=0;$<3;$+=1)_.values[$]*=1-L;return d(_)}function w(_,L,$){try{return A(_,L)}catch{return _}}function C(_,L){if(_=s(_),L=r(L),_.type.indexOf("hsl")!==-1)_.values[2]+=(100-_.values[2])*L;else if(_.type.indexOf("rgb")!==-1)for(let $=0;$<3;$+=1)_.values[$]+=(255-_.values[$])*L;else if(_.type.indexOf("color")!==-1)for(let $=0;$<3;$+=1)_.values[$]+=(1-_.values[$])*L;return d(_)}function T(_,L,$){try{return C(_,L)}catch{return _}}function M(_,L=.15){return b(_)>.5?A(_,L):C(_,L)}function R(_,L,$){try{return M(_,L)}catch{return _}}function z(_,L,$,Z=1){const O=(G,H)=>Math.round((G**(1/Z)*(1-$)+H**(1/Z)*$)**Z),j=s(_),F=s(L),N=[O(j.values[0],F.values[0]),O(j.values[1],F.values[1]),O(j.values[2],F.values[2])];return d({type:"rgb",values:N})}return Ii}var g6=roe();const L1={black:"#000",white:"#fff"},ioe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},m0={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},g0={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Fg={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},b0={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},y0={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},x0={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},aoe=["mode","contrastThreshold","tonalOffset"],GN={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:L1.white,default:L1.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},$w={text:{primary:L1.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:L1.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function QN(e,n,t,r){const i=r.light||r,a=r.dark||r*1.5;e[n]||(e.hasOwnProperty(t)?e[n]=e[t]:n==="light"?e.light=g6.lighten(e.main,i):n==="dark"&&(e.dark=g6.darken(e.main,a)))}function soe(e="light"){return e==="dark"?{main:b0[200],light:b0[50],dark:b0[400]}:{main:b0[700],light:b0[400],dark:b0[800]}}function ooe(e="light"){return e==="dark"?{main:m0[200],light:m0[50],dark:m0[400]}:{main:m0[500],light:m0[300],dark:m0[700]}}function loe(e="light"){return e==="dark"?{main:g0[500],light:g0[300],dark:g0[700]}:{main:g0[700],light:g0[400],dark:g0[800]}}function uoe(e="light"){return e==="dark"?{main:y0[400],light:y0[300],dark:y0[700]}:{main:y0[700],light:y0[500],dark:y0[900]}}function coe(e="light"){return e==="dark"?{main:x0[400],light:x0[300],dark:x0[700]}:{main:x0[800],light:x0[500],dark:x0[900]}}function doe(e="light"){return e==="dark"?{main:Fg[400],light:Fg[300],dark:Fg[700]}:{main:"#ed6c02",light:Fg[500],dark:Fg[900]}}function foe(e){const{mode:n="light",contrastThreshold:t=3,tonalOffset:r=.2}=e,i=dh(e,aoe),a=e.primary||soe(n),s=e.secondary||ooe(n),l=e.error||loe(n),u=e.info||uoe(n),d=e.success||coe(n),f=e.warning||doe(n);function m(x){return g6.getContrastRatio(x,$w.text.primary)>=t?$w.text.primary:GN.text.primary}const b=({color:x,name:y,mainShade:A=500,lightShade:w=300,darkShade:C=700})=>{if(x=Wr({},x),!x.main&&x[A]&&(x.main=x[A]),!x.hasOwnProperty("main"))throw new Error(O1(11,y?` (${y})`:"",A));if(typeof x.main!="string")throw new Error(O1(12,y?` (${y})`:"",JSON.stringify(x.main)));return QN(x,"light",w,r),QN(x,"dark",C,r),x.contrastText||(x.contrastText=m(x.main)),x},g={dark:$w,light:GN};return Tc(Wr({common:Wr({},L1),mode:n,primary:b({color:a,name:"primary"}),secondary:b({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:l,name:"error"}),warning:b({color:f,name:"warning"}),info:b({color:u,name:"info"}),success:b({color:d,name:"success"}),grey:ioe,contrastThreshold:t,getContrastText:m,augmentColor:b,tonalOffset:r},g[n]),i)}const hoe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function poe(e){return Math.round(e*1e5)/1e5}const KN={textTransform:"uppercase"},XN='"Roboto", "Helvetica", "Arial", sans-serif';function moe(e,n){const t=typeof n=="function"?n(e):n,{fontFamily:r=XN,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:d=16,allVariants:f,pxToRem:m}=t,b=dh(t,hoe),g=i/14,x=m||(w=>`${w/d*g}rem`),y=(w,C,T,M,R)=>Wr({fontFamily:r,fontWeight:w,fontSize:x(C),lineHeight:T},r===XN?{letterSpacing:`${poe(M/C)}em`}:{},R,f),A={h1:y(a,96,1.167,-1.5),h2:y(a,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(l,14,1.75,.4,KN),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,KN),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Tc(Wr({htmlFontSize:d,pxToRem:x,fontFamily:r,fontSize:i,fontWeightLight:a,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:u},A),b,{clone:!1})}const goe=.2,boe=.14,yoe=.12;function xi(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${goe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${boe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${yoe})`].join(",")}const xoe=["none",xi(0,2,1,-1,0,1,1,0,0,1,3,0),xi(0,3,1,-2,0,2,2,0,0,1,5,0),xi(0,3,3,-2,0,3,4,0,0,1,8,0),xi(0,2,4,-1,0,4,5,0,0,1,10,0),xi(0,3,5,-1,0,5,8,0,0,1,14,0),xi(0,3,5,-1,0,6,10,0,0,1,18,0),xi(0,4,5,-2,0,7,10,1,0,2,16,1),xi(0,5,5,-3,0,8,10,1,0,3,14,2),xi(0,5,6,-3,0,9,12,1,0,3,16,2),xi(0,6,6,-3,0,10,14,1,0,4,18,3),xi(0,6,7,-4,0,11,15,1,0,4,20,3),xi(0,7,8,-4,0,12,17,2,0,5,22,4),xi(0,7,8,-4,0,13,19,2,0,5,24,4),xi(0,7,9,-4,0,14,21,2,0,5,26,4),xi(0,8,9,-5,0,15,22,2,0,6,28,5),xi(0,8,10,-5,0,16,24,2,0,6,30,5),xi(0,8,11,-5,0,17,26,2,0,6,32,5),xi(0,9,11,-5,0,18,28,2,0,7,34,6),xi(0,9,12,-6,0,19,29,2,0,7,36,6),xi(0,10,13,-6,0,20,31,3,0,8,38,7),xi(0,10,13,-6,0,21,33,3,0,8,40,7),xi(0,10,14,-6,0,22,35,3,0,8,42,7),xi(0,11,14,-7,0,23,36,3,0,9,44,8),xi(0,11,15,-7,0,24,38,3,0,9,46,8)],voe=["duration","easing","delay"],woe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Soe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function ZN(e){return`${Math.round(e)}ms`}function Aoe(e){if(!e)return 0;const n=e/36;return Math.round((4+15*n**.25+n/5)*10)}function Coe(e){const n=Wr({},woe,e.easing),t=Wr({},Soe,e.duration);return Wr({getAutoHeightDuration:Aoe,create:(r=["all"],i={})=>{const{duration:a=t.standard,easing:s=n.easeInOut,delay:l=0}=i;return dh(i,voe),(Array.isArray(r)?r:[r]).map(u=>`${u} ${typeof a=="string"?a:ZN(a)} ${s} ${typeof l=="string"?l:ZN(l)}`).join(",")}},e,{easing:n,duration:t})}const Eoe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},koe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function _oe(e={},...n){const{mixins:t={},palette:r={},transitions:i={},typography:a={}}=e,s=dh(e,koe);if(e.vars)throw new Error(O1(18));const l=foe(r),u=lL(e);let d=Tc(u,{mixins:eoe(u.breakpoints,t),palette:l,shadows:xoe.slice(),typography:moe(l,a),transitions:Coe(i),zIndex:Wr({},Eoe)});return d=Tc(d,s),d=n.reduce((f,m)=>Tc(f,m),d),d.unstable_sxConfig=Wr({},hb,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(f){return s2({sx:f,theme:this})},d}const Noe=_oe(),Toe="$$material";function joe(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Ooe=e=>joe(e)&&e!=="classes",Ioe=Jse({themeId:Toe,defaultTheme:Noe,rootShouldForwardProp:Ooe});function Doe(e){return GD("MuiSvgIcon",e)}iae("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Loe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Roe=e=>{const{color:n,fontSize:t,classes:r}=e,i={root:["root",n!=="inherit"&&`color${rh(n)}`,`fontSize${rh(t)}`]};return tae(i,Doe,r)},Moe=Ioe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.color!=="inherit"&&n[`color${rh(t.color)}`],n[`fontSize${rh(t.fontSize)}`]]}})(({theme:e,ownerState:n})=>{var t,r,i,a,s,l,u,d,f,m,b,g,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=e.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((a=e.typography)==null||(s=a.pxToRem)==null?void 0:s.call(a,20))||"1.25rem",medium:((l=e.typography)==null||(u=l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem",large:((d=e.typography)==null||(f=d.pxToRem)==null?void 0:f.call(d,35))||"2.1875rem"}[n.fontSize],color:(m=(b=(e.vars||e).palette)==null||(b=b[n.color])==null?void 0:b.main)!=null?m:{action:(g=(e.vars||e).palette)==null||(g=g.action)==null?void 0:g.active,disabled:(x=(e.vars||e).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[n.color]}}),b6=X.forwardRef(function(e,n){const t=dae({props:e,name:"MuiSvgIcon"}),{children:r,className:i,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:f,viewBox:m="0 0 24 24"}=t,b=dh(t,Loe),g=X.isValidElement(r)&&r.type==="svg",x=Wr({},t,{color:a,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:m,hasSvgAsChild:g}),y={};d||(y.viewBox=m);const A=Roe(x);return xn.jsxs(Moe,Wr({as:s,className:oae(A.root,i),focusable:"false",color:u,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n},y,b,g&&r.props,{ownerState:x,children:[g?r.props.children:r,f?xn.jsx("title",{children:f}):null]}))});b6.muiName="SvgIcon";function Foe(e,n){function t(r,i){return xn.jsx(b6,Wr({"data-testid":`${n}Icon`,ref:i},r,{children:e}))}return t.muiName=b6.muiName,X.memo(X.forwardRef(t))}const Poe={configure:e=>{VD.configure(e)}},zoe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:rh,createChainedFunction:Lie,createSvgIcon:Foe,debounce:Rie,deprecatedPropType:Mie,isMuiElement:Fie,ownerDocument:UD,ownerWindow:Pie,requirePropFactory:zie,setRef:HD,unstable_ClassNameGenerator:Poe,unstable_useEnhancedEffect:WD,unstable_useId:Bie,unsupportedProp:$ie,useControlled:Uie,useEventCallback:Hie,useForkRef:Wie,useIsFocusVisible:eae},Symbol.toStringTag,{value:"Module"})),qoe=Hd(zoe);var JN;function uL(){return JN||(JN=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=qoe}(NN)),NN}var eT;function Boe(){if(eT)return Rg;eT=1;var e=Qv();Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.default=void 0;var n=e(uL()),t=BA();return Rg.default=(0,n.default)((0,t.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat"),Rg}var $oe=Boe();const Uoe=qA($oe),Uw={chatToggleButton:{position:"fixed",bottom:20,right:20,bgcolor:"#CDDAFF",color:"white",width:60,height:60,borderRadius:"50%",boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.3)","&:hover":{bgcolor:"#0B53C0"},transition:"background-color 0.3s, transform 0.3s","&:active":{transform:"scale(0.95)"}},chatContainer:(e,n)=>({position:"fixed",bottom:e?0:20,right:e?0:20,width:e?"80%":n?"60%":650,height:e?"50%":n?"55%":700,padding:e?1:2,display:"flex",flexDirection:"column",borderRadius:e?0:"16px",backgroundColor:"#F0F4FF",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)"}),chatHeader:{fontFamily:"Staatliches, Arial, sans-serif",fontWeight:"bold",color:"black",fontSize:"1.25rem"},chatMessageInput:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif",borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}},chatMessageBox:{maxWidth:"70%",borderRadius:"15px",padding:1,paddingX:2,boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)","&.user":{bgcolor:"#f0f0f0",color:"#555",alignSelf:"flex-end"},"&.bot":{bgcolor:"#CDDAFF",color:"black",alignSelf:"flex-start","&:hover":{bgcolor:"#0B53C0",color:"white"}}},chatButtons:{backgroundColor:"#CDDAFF",color:"black",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",color:"white"}}},Hoe=({responses:e})=>xn.jsx(de,{sx:{flexGrow:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:2,padding:2,backgroundColor:"transparent"},children:e.length>0?e.map((n,t)=>xn.jsxs(de,{sx:{display:"flex",flexDirection:"column",alignItems:n.question?"flex-end":"flex-start"},children:[n.question&&xn.jsx(de,{sx:{maxWidth:"70%",bgcolor:"#f0f0f0",color:"#555",borderRadius:"15px",p:1,px:2,mb:2,alignSelf:"flex-end",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)"},children:xn.jsx(he,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"#555"},children:n.question})}),(n.answer||n.text)&&xn.jsx(de,{sx:{maxWidth:"70%",bgcolor:"#CDDAFF",color:"black",borderRadius:"15px",p:1,px:2,alignSelf:"flex-start",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",mb:.3,"&:hover":{bgcolor:"#0B53C0",color:"white"}},children:xn.jsx(he,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"inherit",transition:"color 0.3s ease"},children:xn.jsx(zA,{children:n.answer||n.text})})})]},t)):xn.jsx(he,{variant:"body2",sx:{textAlign:"center",color:"#6c757d",fontFamily:"Gabarito, Arial, sans-serif"},children:"No messages yet. Start the conversation!"})}),Woe=({onSendMessage:e,onStartConversation:n,onEndConversation:t,conversationId:r})=>{const[i,a]=X.useState(""),s=()=>{i.trim()&&(e(i),a(""))},l=()=>{r||n()},u=()=>{r&&t()};return xn.jsxs(de,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[xn.jsxs(de,{sx:{display:"flex",gap:1},children:[xn.jsx(Jt,{variant:"outlined",placeholder:"Type your message...",fullWidth:!0,size:"small",value:i,onChange:d=>a(d.target.value),onKeyDown:d=>{d.key==="Enter"&&s()},sx:{"& .MuiOutlinedInput-root":{borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}}}),xn.jsx(Ct,{variant:"contained",onClick:s,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"Send"})]}),r?xn.jsx(Ct,{variant:"outlined",onClick:u,sx:{color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none",borderColor:"#CDDAFF","&:hover":{borderColor:"#0B53C0",color:"#0B53C0"}},children:"END CONVERSATION"}):xn.jsx(Ct,{variant:"contained",onClick:l,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"START CONVERSATION"})]})};var Pg={},tT;function Yoe(){if(tT)return Pg;tT=1;var e=Qv();Object.defineProperty(Pg,"__esModule",{value:!0}),Pg.default=void 0;var n=e(uL()),t=BA();return Pg.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Pg}var Voe=Yoe();const Goe=qA(Voe);function cL(e,n){return function(){return e.apply(n,arguments)}}const{toString:Qoe}=Object.prototype,{getPrototypeOf:QA}=Object,o2=(e=>n=>{const t=Qoe.call(n);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Tu=e=>(e=e.toLowerCase(),n=>o2(n)===e),l2=e=>n=>typeof n===e,{isArray:Sm}=Array,R1=l2("undefined");function Koe(e){return e!==null&&!R1(e)&&e.constructor!==null&&!R1(e.constructor)&&Jo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const dL=Tu("ArrayBuffer");function Xoe(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&dL(e.buffer),n}const Zoe=l2("string"),Jo=l2("function"),fL=l2("number"),u2=e=>e!==null&&typeof e=="object",Joe=e=>e===!0||e===!1,wx=e=>{if(o2(e)!=="object")return!1;const n=QA(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ele=Tu("Date"),tle=Tu("File"),nle=Tu("Blob"),rle=Tu("FileList"),ile=e=>u2(e)&&Jo(e.pipe),ale=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||Jo(e.append)&&((n=o2(e))==="formdata"||n==="object"&&Jo(e.toString)&&e.toString()==="[object FormData]"))},sle=Tu("URLSearchParams"),[ole,lle,ule,cle]=["ReadableStream","Request","Response","Headers"].map(Tu),dle=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pb(e,n,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Sm(e))for(r=0,i=e.length;r<i;r++)n.call(null,e[r],r,e);else{const a=t?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let l;for(r=0;r<s;r++)l=a[r],n.call(null,e[l],l,e)}}function hL(e,n){n=n.toLowerCase();const t=Object.keys(e);let r=t.length,i;for(;r-- >0;)if(i=t[r],n===i.toLowerCase())return i;return null}const Kh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,pL=e=>!R1(e)&&e!==Kh;function y6(){const{caseless:e}=pL(this)&&this||{},n={},t=(r,i)=>{const a=e&&hL(n,i)||i;wx(n[a])&&wx(r)?n[a]=y6(n[a],r):wx(r)?n[a]=y6({},r):Sm(r)?n[a]=r.slice():n[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&pb(arguments[r],t);return n}const fle=(e,n,t,{allOwnKeys:r}={})=>(pb(n,(i,a)=>{t&&Jo(i)?e[a]=cL(i,t):e[a]=i},{allOwnKeys:r}),e),hle=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ple=(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},mle=(e,n,t,r)=>{let i,a,s;const l={};if(n=n||{},e==null)return n;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!r||r(s,e,n))&&!l[s]&&(n[s]=e[s],l[s]=!0);e=t!==!1&&QA(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},gle=(e,n,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return r!==-1&&r===t},ble=e=>{if(!e)return null;if(Sm(e))return e;let n=e.length;if(!fL(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},yle=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&QA(Uint8Array)),xle=(e,n)=>{const t=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=t.next())&&!r.done;){const i=r.value;n.call(e,i[0],i[1])}},vle=(e,n)=>{let t;const r=[];for(;(t=e.exec(n))!==null;)r.push(t);return r},wle=Tu("HTMLFormElement"),Sle=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,t,r){return t.toUpperCase()+r}),nT=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),Ale=Tu("RegExp"),mL=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};pb(t,(i,a)=>{let s;(s=n(i,a,e))!==!1&&(r[a]=s||i)}),Object.defineProperties(e,r)},Cle=e=>{mL(e,(n,t)=>{if(Jo(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=e[t];if(Jo(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Ele=(e,n)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return Sm(e)?r(e):r(String(e).split(n)),t},kle=()=>{},_le=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n,Hw="abcdefghijklmnopqrstuvwxyz",rT="0123456789",gL={DIGIT:rT,ALPHA:Hw,ALPHA_DIGIT:Hw+Hw.toUpperCase()+rT},Nle=(e=16,n=gL.ALPHA_DIGIT)=>{let t="";const{length:r}=n;for(;e--;)t+=n[Math.random()*r|0];return t};function Tle(e){return!!(e&&Jo(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const jle=e=>{const n=new Array(10),t=(r,i)=>{if(u2(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[i]=r;const a=Sm(r)?[]:{};return pb(r,(s,l)=>{const u=t(s,i+1);!R1(u)&&(a[l]=u)}),n[i]=void 0,a}}return r};return t(e,0)},Ole=Tu("AsyncFunction"),Ile=e=>e&&(u2(e)||Jo(e))&&Jo(e.then)&&Jo(e.catch),bL=((e,n)=>e?setImmediate:n?((t,r)=>(Kh.addEventListener("message",({source:i,data:a})=>{i===Kh&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Kh.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Jo(Kh.postMessage)),Dle=typeof queueMicrotask<"u"?queueMicrotask.bind(Kh):typeof process<"u"&&process.nextTick||bL,ct={isArray:Sm,isArrayBuffer:dL,isBuffer:Koe,isFormData:ale,isArrayBufferView:Xoe,isString:Zoe,isNumber:fL,isBoolean:Joe,isObject:u2,isPlainObject:wx,isReadableStream:ole,isRequest:lle,isResponse:ule,isHeaders:cle,isUndefined:R1,isDate:ele,isFile:tle,isBlob:nle,isRegExp:Ale,isFunction:Jo,isStream:ile,isURLSearchParams:sle,isTypedArray:yle,isFileList:rle,forEach:pb,merge:y6,extend:fle,trim:dle,stripBOM:hle,inherits:ple,toFlatObject:mle,kindOf:o2,kindOfTest:Tu,endsWith:gle,toArray:ble,forEachEntry:xle,matchAll:vle,isHTMLForm:wle,hasOwnProperty:nT,hasOwnProp:nT,reduceDescriptors:mL,freezeMethods:Cle,toObjectSet:Ele,toCamelCase:Sle,noop:kle,toFiniteNumber:_le,findKey:hL,global:Kh,isContextDefined:pL,ALPHABET:gL,generateString:Nle,isSpecCompliantForm:Tle,toJSONObject:jle,isAsyncFn:Ole,isThenable:Ile,setImmediate:bL,asap:Dle};function Tn(e,n,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ct.inherits(Tn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ct.toJSONObject(this.config),code:this.code,status:this.status}}});const yL=Tn.prototype,xL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{xL[e]={value:e}});Object.defineProperties(Tn,xL);Object.defineProperty(yL,"isAxiosError",{value:!0});Tn.from=(e,n,t,r,i,a)=>{const s=Object.create(yL);return ct.toFlatObject(e,s,function(l){return l!==Error.prototype},l=>l!=="isAxiosError"),Tn.call(s,e.message,n,t,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const Lle=null;function x6(e){return ct.isPlainObject(e)||ct.isArray(e)}function vL(e){return ct.endsWith(e,"[]")?e.slice(0,-2):e}function iT(e,n,t){return e?e.concat(n).map(function(r,i){return r=vL(r),!t&&i?"["+r+"]":r}).join(t?".":""):n}function Rle(e){return ct.isArray(e)&&!e.some(x6)}const Mle=ct.toFlatObject(ct,{},null,function(e){return/^is[A-Z]/.test(e)});function c2(e,n,t){if(!ct.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,t=ct.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,x){return!ct.isUndefined(x[g])});const r=t.metaTokens,i=t.visitor||d,a=t.dots,s=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&ct.isSpecCompliantForm(n);if(!ct.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(ct.isDate(g))return g.toISOString();if(!l&&ct.isBlob(g))throw new Tn("Blob is not supported. Use a Buffer instead.");return ct.isArrayBuffer(g)||ct.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,x,y){let A=g;if(g&&!y&&typeof g=="object"){if(ct.endsWith(x,"{}"))x=r?x:x.slice(0,-2),g=JSON.stringify(g);else if(ct.isArray(g)&&Rle(g)||(ct.isFileList(g)||ct.endsWith(x,"[]"))&&(A=ct.toArray(g)))return x=vL(x),A.forEach(function(w,C){!(ct.isUndefined(w)||w===null)&&n.append(s===!0?iT([x],C,a):s===null?x:x+"[]",u(w))}),!1}return x6(g)?!0:(n.append(iT(y,x,a),u(g)),!1)}const f=[],m=Object.assign(Mle,{defaultVisitor:d,convertValue:u,isVisitable:x6});function b(g,x){if(!ct.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(g),ct.forEach(g,function(y,A){(!(ct.isUndefined(y)||y===null)&&i.call(n,y,ct.isString(A)?A.trim():A,x,m))===!0&&b(y,x?x.concat(A):[A])}),f.pop()}}if(!ct.isObject(e))throw new TypeError("data must be an object");return b(e),n}function aT(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(t){return n[t]})}function KA(e,n){this._pairs=[],e&&c2(e,this,n)}const wL=KA.prototype;wL.append=function(e,n){this._pairs.push([e,n])};wL.toString=function(e){const n=e?function(t){return e.call(this,t,aT)}:aT;return this._pairs.map(function(t){return n(t[0])+"="+n(t[1])},"").join("&")};function Fle(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function SL(e,n,t){if(!n)return e;const r=t&&t.encode||Fle;ct.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(n,t):a=ct.isURLSearchParams(n)?n.toString():new KA(n,t).toString(r),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}let sT=class{constructor(){this.handlers=[]}use(n,t,r){return this.handlers.push({fulfilled:n,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ct.forEach(this.handlers,function(t){t!==null&&n(t)})}};const AL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ple=typeof URLSearchParams<"u"?URLSearchParams:KA,zle=typeof FormData<"u"?FormData:null,qle=typeof Blob<"u"?Blob:null,Ble={isBrowser:!0,classes:{URLSearchParams:Ple,FormData:zle,Blob:qle},protocols:["http","https","file","blob","url","data"]},XA=typeof window<"u"&&typeof document<"u",v6=typeof navigator=="object"&&navigator||void 0,$le=XA&&(!v6||["ReactNative","NativeScript","NS"].indexOf(v6.product)<0),Ule=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Hle=XA&&window.location.href||"http://localhost",Wle=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:XA,hasStandardBrowserEnv:$le,hasStandardBrowserWebWorkerEnv:Ule,navigator:v6,origin:Hle},Symbol.toStringTag,{value:"Module"})),zs={...Wle,...Ble};function Yle(e,n){return c2(e,new zs.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,a){return zs.isNode&&ct.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},n))}function Vle(e){return ct.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function Gle(e){const n={},t=Object.keys(e);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],n[a]=e[a];return n}function CL(e){function n(t,r,i,a){let s=t[a++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),u=a>=t.length;return s=!s&&ct.isArray(i)?i.length:s,u?(ct.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!ct.isObject(i[s]))&&(i[s]=[]),n(t,r,i[s],a)&&ct.isArray(i[s])&&(i[s]=Gle(i[s])),!l)}if(ct.isFormData(e)&&ct.isFunction(e.entries)){const t={};return ct.forEachEntry(e,(r,i)=>{n(Vle(r),i,t,0)}),t}return null}function Qle(e,n,t){if(ct.isString(e))try{return(n||JSON.parse)(e),ct.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const mb={transitional:AL,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const t=n.getContentType()||"",r=t.indexOf("application/json")>-1,i=ct.isObject(e);if(i&&ct.isHTMLForm(e)&&(e=new FormData(e)),ct.isFormData(e))return r?JSON.stringify(CL(e)):e;if(ct.isArrayBuffer(e)||ct.isBuffer(e)||ct.isStream(e)||ct.isFile(e)||ct.isBlob(e)||ct.isReadableStream(e))return e;if(ct.isArrayBufferView(e))return e.buffer;if(ct.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(t.indexOf("application/x-www-form-urlencoded")>-1)return Yle(e,this.formSerializer).toString();if((a=ct.isFileList(e))||t.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return c2(a?{"files[]":e}:e,s&&new s,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),Qle(e)):e}],transformResponse:[function(e){const n=this.transitional||mb.transitional,t=n&&n.forcedJSONParsing,r=this.responseType==="json";if(ct.isResponse(e)||ct.isReadableStream(e))return e;if(e&&ct.isString(e)&&(t&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?Tn.from(a,Tn.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zs.classes.FormData,Blob:zs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ct.forEach(["delete","get","head","post","put","patch"],e=>{mb.headers[e]={}});const Kle=ct.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xle=e=>{const n={};let t,r,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!t||n[t]&&Kle[t])&&(t==="set-cookie"?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n},oT=Symbol("internals");function zg(e){return e&&String(e).trim().toLowerCase()}function Sx(e){return e===!1||e==null?e:ct.isArray(e)?e.map(Sx):String(e)}function Zle(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}const Jle=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ww(e,n,t,r,i){if(ct.isFunction(r))return r.call(this,n,t);if(i&&(n=t),!!ct.isString(n)){if(ct.isString(r))return n.indexOf(r)!==-1;if(ct.isRegExp(r))return r.test(n)}}function eue(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,r)=>t.toUpperCase()+r)}function tue(e,n){const t=ct.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(i,a,s){return this[r].call(this,n,i,a,s)},configurable:!0})})}class vo{constructor(n){n&&this.set(n)}set(n,t,r){const i=this;function a(l,u,d){const f=zg(u);if(!f)throw new Error("header name must be a non-empty string");const m=ct.findKey(i,f);(!m||i[m]===void 0||d===!0||d===void 0&&i[m]!==!1)&&(i[m||u]=Sx(l))}const s=(l,u)=>ct.forEach(l,(d,f)=>a(d,f,u));if(ct.isPlainObject(n)||n instanceof this.constructor)s(n,t);else if(ct.isString(n)&&(n=n.trim())&&!Jle(n))s(Xle(n),t);else if(ct.isHeaders(n))for(const[l,u]of n.entries())a(u,l,r);else n!=null&&a(t,n,r);return this}get(n,t){if(n=zg(n),n){const r=ct.findKey(this,n);if(r){const i=this[r];if(!t)return i;if(t===!0)return Zle(i);if(ct.isFunction(t))return t.call(this,i,r);if(ct.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=zg(n),n){const r=ct.findKey(this,n);return!!(r&&this[r]!==void 0&&(!t||Ww(this,this[r],r,t)))}return!1}delete(n,t){const r=this;let i=!1;function a(s){if(s=zg(s),s){const l=ct.findKey(r,s);l&&(!t||Ww(r,r[l],l,t))&&(delete r[l],i=!0)}}return ct.isArray(n)?n.forEach(a):a(n),i}clear(n){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!n||Ww(this,this[a],a,n,!0))&&(delete this[a],i=!0)}return i}normalize(n){const t=this,r={};return ct.forEach(this,(i,a)=>{const s=ct.findKey(r,a);if(s){t[s]=Sx(i),delete t[a];return}const l=n?eue(a):String(a).trim();l!==a&&delete t[a],t[l]=Sx(i),r[l]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return ct.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=n&&ct.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const r=new this(n);return t.forEach(i=>r.set(i)),r}static accessor(n){const t=(this[oT]=this[oT]={accessors:{}}).accessors,r=this.prototype;function i(a){const s=zg(a);t[s]||(tue(r,a),t[s]=!0)}return ct.isArray(n)?n.forEach(i):i(n),this}}vo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ct.reduceDescriptors(vo.prototype,({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[t]=r}}});ct.freezeMethods(vo);function Yw(e,n){const t=this||mb,r=n||t,i=vo.from(r.headers);let a=r.data;return ct.forEach(e,function(s){a=s.call(t,a,i.normalize(),n?n.status:void 0)}),i.normalize(),a}function EL(e){return!!(e&&e.__CANCEL__)}function Am(e,n,t){Tn.call(this,e??"canceled",Tn.ERR_CANCELED,n,t),this.name="CanceledError"}ct.inherits(Am,Tn,{__CANCEL__:!0});function kL(e,n,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?e(t):n(new Tn("Request failed with status code "+t.status,[Tn.ERR_BAD_REQUEST,Tn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function nue(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function rue(e,n){e=e||10;const t=new Array(e),r=new Array(e);let i=0,a=0,s;return n=n!==void 0?n:1e3,function(l){const u=Date.now(),d=r[a];s||(s=u),t[i]=l,r[i]=u;let f=a,m=0;for(;f!==i;)m+=t[f++],f=f%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),u-s<n)return;const b=d&&u-d;return b?Math.round(m*1e3/b):void 0}}function iue(e,n){let t=0,r=1e3/n,i,a;const s=(l,u=Date.now())=>{t=u,i=null,a&&(clearTimeout(a),a=null),e.apply(null,l)};return[(...l)=>{const u=Date.now(),d=u-t;d>=r?s(l,u):(i=l,a||(a=setTimeout(()=>{a=null,s(i)},r-d)))},()=>i&&s(i)]}const sv=(e,n,t=3)=>{let r=0;const i=rue(50,250);return iue(a=>{const s=a.loaded,l=a.lengthComputable?a.total:void 0,u=s-r,d=i(u),f=s<=l;r=s;const m={loaded:s,total:l,progress:l?s/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&f?(l-s)/d:void 0,event:a,lengthComputable:l!=null,[n?"download":"upload"]:!0};e(m)},t)},lT=(e,n)=>{const t=e!=null;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},uT=e=>(...n)=>ct.asap(()=>e(...n)),aue=zs.hasStandardBrowserEnv?((e,n)=>t=>(t=new URL(t,zs.origin),e.protocol===t.protocol&&e.host===t.host&&(n||e.port===t.port)))(new URL(zs.origin),zs.navigator&&/(msie|trident)/i.test(zs.navigator.userAgent)):()=>!0,sue=zs.hasStandardBrowserEnv?{write(e,n,t,r,i,a){const s=[e+"="+encodeURIComponent(n)];ct.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),ct.isString(r)&&s.push("path="+r),ct.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function oue(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function lue(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function _L(e,n){return e&&!oue(n)?lue(e,n):n}const cT=e=>e instanceof vo?{...e}:e;function bp(e,n){n=n||{};const t={};function r(d,f,m,b){return ct.isPlainObject(d)&&ct.isPlainObject(f)?ct.merge.call({caseless:b},d,f):ct.isPlainObject(f)?ct.merge({},f):ct.isArray(f)?f.slice():f}function i(d,f,m,b){if(ct.isUndefined(f)){if(!ct.isUndefined(d))return r(void 0,d,m,b)}else return r(d,f,m,b)}function a(d,f){if(!ct.isUndefined(f))return r(void 0,f)}function s(d,f){if(ct.isUndefined(f)){if(!ct.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function l(d,f,m){if(m in n)return r(d,f);if(m in e)return r(void 0,d)}const u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(d,f,m)=>i(cT(d),cT(f),m,!0)};return ct.forEach(Object.keys(Object.assign({},e,n)),function(d){const f=u[d]||i,m=f(e[d],n[d],d);ct.isUndefined(m)&&f!==l||(t[d]=m)}),t}const NL=e=>{const n=bp({},e);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=n;n.headers=s=vo.from(s),n.url=SL(_L(n.baseURL,n.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(ct.isFormData(t)){if(zs.hasStandardBrowserEnv||zs.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((u=s.getContentType())!==!1){const[d,...f]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];s.setContentType([d||"multipart/form-data",...f].join("; "))}}if(zs.hasStandardBrowserEnv&&(r&&ct.isFunction(r)&&(r=r(n)),r||r!==!1&&aue(n.url))){const d=i&&a&&sue.read(a);d&&s.set(i,d)}return n},uue=typeof XMLHttpRequest<"u",cue=uue&&function(e){return new Promise(function(n,t){const r=NL(e);let i=r.data;const a=vo.from(r.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:u}=r,d,f,m,b,g;function x(){b&&b(),g&&g(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout;function A(){if(!y)return;const C=vo.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),T={data:!s||s==="text"||s==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:C,config:e,request:y};kL(function(M){n(M),x()},function(M){t(M),x()},T),y=null}"onloadend"in y?y.onloadend=A:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(A)},y.onabort=function(){y&&(t(new Tn("Request aborted",Tn.ECONNABORTED,e,y)),y=null)},y.onerror=function(){t(new Tn("Network Error",Tn.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let C=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const T=r.transitional||AL;r.timeoutErrorMessage&&(C=r.timeoutErrorMessage),t(new Tn(C,T.clarifyTimeoutError?Tn.ETIMEDOUT:Tn.ECONNABORTED,e,y)),y=null},i===void 0&&a.setContentType(null),"setRequestHeader"in y&&ct.forEach(a.toJSON(),function(C,T){y.setRequestHeader(T,C)}),ct.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),s&&s!=="json"&&(y.responseType=r.responseType),u&&([m,g]=sv(u,!0),y.addEventListener("progress",m)),l&&y.upload&&([f,b]=sv(l),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",b)),(r.cancelToken||r.signal)&&(d=C=>{y&&(t(!C||C.type?new Am(null,e,y):C),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const w=nue(r.url);if(w&&zs.protocols.indexOf(w)===-1){t(new Tn("Unsupported protocol "+w+":",Tn.ERR_BAD_REQUEST,e));return}y.send(i||null)})},due=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let r=new AbortController,i;const a=function(d){if(!i){i=!0,l();const f=d instanceof Error?d:this.reason;r.abort(f instanceof Tn?f:new Am(f instanceof Error?f.message:f))}};let s=n&&setTimeout(()=>{s=null,a(new Tn(`timeout ${n} of ms exceeded`,Tn.ETIMEDOUT))},n);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:u}=r;return u.unsubscribe=()=>ct.asap(l),u}},fue=function*(e,n){let t=e.byteLength;if(t<n){yield e;return}let r=0,i;for(;r<t;)i=r+n,yield e.slice(r,i),r=i},hue=async function*(e,n){for await(const t of pue(e))yield*fue(t,n)},pue=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:t,value:r}=await n.read();if(t)break;yield r}}finally{await n.cancel()}},dT=(e,n,t,r)=>{const i=hue(e,n);let a=0,s,l=u=>{s||(s=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:d,value:f}=await i.next();if(d){l(),u.close();return}let m=f.byteLength;if(t){let b=a+=m;t(b)}u.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},d2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",TL=d2&&typeof ReadableStream=="function",mue=d2&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),jL=(e,...n)=>{try{return!!e(...n)}catch{return!1}},gue=TL&&jL(()=>{let e=!1;const n=new Request(zs.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),fT=64*1024,w6=TL&&jL(()=>ct.isReadableStream(new Response("").body)),ov={stream:w6&&(e=>e.body)};d2&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!ov[n]&&(ov[n]=ct.isFunction(e[n])?t=>t[n]():(t,r)=>{throw new Tn(`Response type '${n}' is not supported`,Tn.ERR_NOT_SUPPORT,r)})})})(new Response);const bue=async e=>{if(e==null)return 0;if(ct.isBlob(e))return e.size;if(ct.isSpecCompliantForm(e))return(await new Request(zs.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ct.isArrayBufferView(e)||ct.isArrayBuffer(e))return e.byteLength;if(ct.isURLSearchParams(e)&&(e=e+""),ct.isString(e))return(await mue(e)).byteLength},yue=async(e,n)=>ct.toFiniteNumber(e.getContentLength())??bue(n),xue=d2&&(async e=>{let{url:n,method:t,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:l,onUploadProgress:u,responseType:d,headers:f,withCredentials:m="same-origin",fetchOptions:b}=NL(e);d=d?(d+"").toLowerCase():"text";let g=due([i,a&&a.toAbortSignal()],s),x;const y=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let A;try{if(u&&gue&&t!=="get"&&t!=="head"&&(A=await yue(f,r))!==0){let R=new Request(n,{method:"POST",body:r,duplex:"half"}),z;if(ct.isFormData(r)&&(z=R.headers.get("content-type"))&&f.setContentType(z),R.body){const[_,L]=lT(A,sv(uT(u)));r=dT(R.body,fT,_,L)}}ct.isString(m)||(m=m?"include":"omit");const w="credentials"in Request.prototype;x=new Request(n,{...b,signal:g,method:t.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:w?m:void 0});let C=await fetch(x);const T=w6&&(d==="stream"||d==="response");if(w6&&(l||T&&y)){const R={};["status","statusText","headers"].forEach($=>{R[$]=C[$]});const z=ct.toFiniteNumber(C.headers.get("content-length")),[_,L]=l&&lT(z,sv(uT(l),!0))||[];C=new Response(dT(C.body,fT,_,()=>{L&&L(),y&&y()}),R)}d=d||"text";let M=await ov[ct.findKey(ov,d)||"text"](C,e);return!T&&y&&y(),await new Promise((R,z)=>{kL(R,z,{data:M,headers:vo.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:x})})}catch(w){throw y&&y(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new Tn("Network Error",Tn.ERR_NETWORK,e,x),{cause:w.cause||w}):Tn.from(w,w&&w.code,e,x)}}),S6={http:Lle,xhr:cue,fetch:xue};ct.forEach(S6,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const hT=e=>`- ${e}`,vue=e=>ct.isFunction(e)||e===null||e===!1,OL={getAdapter:e=>{e=ct.isArray(e)?e:[e];const{length:n}=e;let t,r;const i={};for(let a=0;a<n;a++){t=e[a];let s;if(r=t,!vue(t)&&(r=S6[(s=String(t)).toLowerCase()],r===void 0))throw new Tn(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){const a=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=n?a.length>1?`since :
`+a.map(hT).join(`
`):" "+hT(a[0]):"as no adapter specified";throw new Tn("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:S6};function Vw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Am(null,e)}function pT(e){return Vw(e),e.headers=vo.from(e.headers),e.data=Yw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),OL.getAdapter(e.adapter||mb.adapter)(e).then(function(n){return Vw(e),n.data=Yw.call(e,e.transformResponse,n),n.headers=vo.from(n.headers),n},function(n){return EL(n)||(Vw(e),n&&n.response&&(n.response.data=Yw.call(e,e.transformResponse,n.response),n.response.headers=vo.from(n.response.headers))),Promise.reject(n)})}const IL="1.7.9",f2={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{f2[e]=function(t){return typeof t===e||"a"+(n<1?"n ":" ")+e}});const mT={};f2.transitional=function(e,n,t){function r(i,a){return"[Axios v"+IL+"] Transitional option '"+i+"'"+a+(t?". "+t:"")}return(i,a,s)=>{if(e===!1)throw new Tn(r(a," has been removed"+(n?" in "+n:"")),Tn.ERR_DEPRECATED);return n&&!mT[a]&&(mT[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,s):!0}};f2.spelling=function(e){return(n,t)=>(console.warn(`${t} is likely a misspelling of ${e}`),!0)};function wue(e,n,t){if(typeof e!="object")throw new Tn("options must be an object",Tn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=n[a];if(s){const l=e[a],u=l===void 0||s(l,a,e);if(u!==!0)throw new Tn("option "+a+" must be "+u,Tn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Tn("Unknown option "+a,Tn.ERR_BAD_OPTION)}}const Ax={assertOptions:wue,validators:f2},ic=Ax.validators;let sp=class{constructor(n){this.defaults=n,this.interceptors={request:new sT,response:new sT}}async request(n,t){try{return await this._request(n,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=bp(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&Ax.assertOptions(r,{silentJSONParsing:ic.transitional(ic.boolean),forcedJSONParsing:ic.transitional(ic.boolean),clarifyTimeoutError:ic.transitional(ic.boolean)},!1),i!=null&&(ct.isFunction(i)?t.paramsSerializer={serialize:i}:Ax.assertOptions(i,{encode:ic.function,serialize:ic.function},!0)),Ax.assertOptions(t,{baseUrl:ic.spelling("baseURL"),withXsrfToken:ic.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&ct.merge(a.common,a[t.method]);a&&ct.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),t.headers=vo.concat(s,a);const l=[];let u=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(u=u&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let f,m=0,b;if(!u){const x=[pT.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,d),b=x.length,f=Promise.resolve(t);m<b;)f=f.then(x[m++],x[m++]);return f}b=l.length;let g=t;for(m=0;m<b;){const x=l[m++],y=l[m++];try{g=x(g)}catch(A){y.call(this,A);break}}try{f=pT.call(this,g)}catch(x){return Promise.reject(x)}for(m=0,b=d.length;m<b;)f=f.then(d[m++],d[m++]);return f}getUri(n){n=bp(this.defaults,n);const t=_L(n.baseURL,n.url);return SL(t,n.params,n.paramsSerializer)}};ct.forEach(["delete","get","head","options"],function(e){sp.prototype[e]=function(n,t){return this.request(bp(t||{},{method:e,url:n,data:(t||{}).data}))}});ct.forEach(["post","put","patch"],function(e){function n(t){return function(r,i,a){return this.request(bp(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}sp.prototype[e]=n(),sp.prototype[e+"Form"]=n(!0)});let Sue=class DL{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(l=>{r.subscribe(l),a=l}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},n(function(i,a,s){r.reason||(r.reason=new Am(i,a,s),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const n=new AbortController,t=r=>{n.abort(r)};return this.subscribe(t),n.signal.unsubscribe=()=>this.unsubscribe(t),n.signal}static source(){let n;return{token:new DL(function(t){n=t}),cancel:n}}};function Aue(e){return function(n){return e.apply(null,n)}}function Cue(e){return ct.isObject(e)&&e.isAxiosError===!0}const A6={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(A6).forEach(([e,n])=>{A6[n]=e});function LL(e){const n=new sp(e),t=cL(sp.prototype.request,n);return ct.extend(t,sp.prototype,n,{allOwnKeys:!0}),ct.extend(t,n,null,{allOwnKeys:!0}),t.create=function(r){return LL(bp(e,r))},t}const Fi=LL(mb);Fi.Axios=sp;Fi.CanceledError=Am;Fi.CancelToken=Sue;Fi.isCancel=EL;Fi.VERSION=IL;Fi.toFormData=c2;Fi.AxiosError=Tn;Fi.Cancel=Fi.CanceledError;Fi.all=function(e){return Promise.all(e)};Fi.spread=Aue;Fi.isAxiosError=Cue;Fi.mergeConfig=bp;Fi.AxiosHeaders=vo;Fi.formToJSON=e=>CL(ct.isHTMLForm(e)?new FormData(e):e);Fi.getAdapter=OL.getAdapter;Fi.HttpStatusCode=A6;Fi.default=Fi;const Eue=async e=>{const n=new FormData;n.append("chatbot_id",e);try{const t=await Fi.post("https://rag-flask-api.onrender.com/start_conversation",n,{headers:{"Content-Type":"multipart/form-data"}}),{conversation_id:r,intro_message:i}=t.data;if(!r)throw new Error("Failed to retrieve conversation ID from server.");return{conversationId:r,introMessage:i}}catch(t){throw console.error("Error starting conversation:",t),t}},kue=async(e,n,t)=>{const r=new FormData;r.append("chatbot_id",e),r.append("conversation_id",n),r.append("question",t);try{return(await Fi.post("https://rag-flask-api.onrender.com/ask",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(i){throw console.error("Error sending message:",i),i}},_ue=async(e,n)=>{const t=new FormData;t.append("chatbot_id",e),t.append("conversation_id",n);try{await Fi.post("https://rag-flask-api.onrender.com/end_conversation",t,{headers:{"Content-Type":"multipart/form-data"}})}catch(r){throw console.error("Error ending conversation:",r),r}},Nue=async e=>{try{const n=await Fi.get(`https://rag-flask-api.onrender.com/summary/${e}`);if(n.status===200&&n.data.summary)return n.data.summary;throw new Error("Summary not found for this chatbot.")}catch(n){throw console.error("Error fetching summary:",n),n}},Tue=({chatbotId:e,open:n,onClose:t})=>{const[r,i]=X.useState(null),[a,s]=X.useState(!1),[l,u]=X.useState(null),d=async()=>{s(!0),u(null);try{const f=await Nue(e);i(f)}catch(f){u(f.message||"Failed to fetch summary. Please try again.")}finally{s(!1)}};return X.useEffect(()=>{n&&d()},[n]),xn.jsx(Ox,{open:n,onClose:t,"aria-labelledby":"summary-modal-title","aria-describedby":"summary-modal-description",children:xn.jsxs(de,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:600,bgcolor:"background.paper",borderRadius:4,boxShadow:24,p:4},children:[xn.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[xn.jsx(he,{id:"summary-modal-title",variant:"h6",component:"h2",children:"Document Summary"}),xn.jsx(_n,{onClick:t,children:xn.jsx(Goe,{})})]}),a?xn.jsx(de,{sx:{display:"flex",justifyContent:"center",my:4},children:xn.jsx(Zr,{})}):l?xn.jsx(he,{color:"error",children:l}):xn.jsx(de,{sx:{maxHeight:300,overflowY:"auto",padding:2,border:"1px solid #ddd",borderRadius:2,backgroundColor:"#f9f9f9"},children:xn.jsx(zA,{children:r})}),xn.jsx(Ct,{variant:"contained",sx:{mt:2},onClick:t,fullWidth:!0,children:"Close"})]})})},jue=X.forwardRef(({chatbotId:e,onConversationStart:n},t)=>{const[r,i]=X.useState(!1),[a,s]=X.useState(()=>{const z=localStorage.getItem("responses");return z?JSON.parse(z):[]}),[l,u]=X.useState(()=>localStorage.getItem("conversationId")||null),[d,f]=X.useState(!1),[m,b]=X.useState(null),[g,x]=X.useState(!1),y=jd("(max-width:600px)"),A=jd("(min-width:601px) and (max-width:960px)"),w=X.useRef(null);X.useEffect(()=>{typeof n=="function"&&l&&n(l)},[l,n]),X.useEffect(()=>{w.current&&w.current.scrollIntoView({behavior:"smooth"})},[a]);const C=async()=>{i(z=>!z),!r&&!l&&!d&&T()},T=async()=>{if(!l){f(!0),b(null);try{const z=await Eue(e),{conversationId:_,introMessage:L}=z;u(_),localStorage.setItem("conversationId",_),s($=>{const Z=[...$,{id:"intro",sender:"chatbot",text:L}];return localStorage.setItem("responses",JSON.stringify(Z)),Z})}catch(z){console.error("Error starting conversation:",z),b("Failed to start a conversation. Please try again.")}finally{f(!1)}}},M=async(z,_=l)=>{f(!0),b(null);try{const L=await kue(e,_,z);s($=>{const Z=[...$,{question:z,answer:L.answer}];return localStorage.setItem("responses",JSON.stringify(Z)),Z})}catch(L){console.error("Error sending message:",L),b("Failed to send the message. Please try again.")}finally{f(!1)}},R=async()=>{f(!0),b(null);try{l&&await _ue(e,l),u(null),s([]),localStorage.removeItem("conversationId"),localStorage.removeItem("responses")}catch(z){console.error("Error ending conversation:",z),b("Failed to end the conversation. Please try again.")}finally{f(!1)}};return X.useImperativeHandle(t,()=>({endConversation:R})),xn.jsx(xn.Fragment,{children:r?xn.jsxs(gn,{elevation:3,sx:Uw.chatContainer(y,A),children:[xn.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[xn.jsx(he,{sx:Uw.chatHeader,children:"PAT (Personalized Academic Tutor)"}),xn.jsx(_n,{onClick:C,sx:{color:"black"},children:"X"})]}),xn.jsx(Hoe,{responses:a}),xn.jsx("div",{ref:w}),d&&xn.jsx(Ko,{sx:{position:"absolute",top:0,left:0,width:"100%"}}),m&&xn.jsx(he,{color:"error",children:m}),xn.jsx(Woe,{onSendMessage:M,onStartConversation:T,onEndConversation:R,conversationId:l}),xn.jsx(Ct,{variant:"outlined",onClick:()=>x(!0),sx:{mt:2},children:"View Summary"}),xn.jsx(Tue,{chatbotId:e,open:g,onClose:()=>x(!1)})]}):xn.jsx(_n,{onClick:C,sx:Uw.chatToggleButton,children:xn.jsx(Uoe,{fontSize:"large"})})})});class Oue extends X.Component{constructor(n){super(n),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(n){console.error("Error caught by ErrorBoundary:",n)}render(){return this.state.hasError?h.jsx("h2",{children:"Something went wrong while loading the Chatbot."}):this.props.children}}const RL=X.forwardRef(({chatbotId:e},n)=>{const{userDetails:t}=Pi(),r=X.useRef(null),[i,a]=X.useState(!1),s=async l=>{if(console.log(` Chatbot started. Chatbot ID: ${e}, Conversation ID: ${l}`),t!=null&&t.uid)try{await Aj(fn(qj,"conversations",l),{conversationId:l,chatbotId:e,userId:t.uid,startedAt:new Date().toISOString()},{merge:!0}),console.log("Conversation saved to Firestore")}catch(u){console.error("Failed to save conversation:",u)}};return X.useImperativeHandle(n,()=>({endConversation:()=>{r.current&&(console.log("Ending chatbot conversation..."),r.current.endConversation())}})),h.jsx(de,{sx:{position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-end"},children:h.jsxs(de,{sx:{background:i?"rgba(255, 255, 255, 0.95)":"#0B53C0",borderRadius:4,boxShadow:i?"0 8px 32px rgba(0, 0, 0, 0.12)":"0 2px 8px rgba(0, 0, 0, 0.15)",overflow:"hidden",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:i?"1px solid #e0e0e0":"none",minWidth:i?400:"auto",maxWidth:i?450:"auto"},children:[h.jsxs(Ct,{variant:"text",onClick:()=>a(!i),sx:{background:i?"#0B53C0 !important":"transparent !important",backgroundColor:i?"#0B53C0 !important":"transparent !important",color:"white !important",px:2.5,py:1.5,borderRadius:i?"16px 16px 0 0":"12px",textTransform:"none",display:"flex",alignItems:"center",gap:1.5,minWidth:"auto",width:"100%",justifyContent:"flex-start","&:hover":{background:"#064a9e !important",backgroundColor:"#064a9e !important",boxShadow:i?"none":"0px 4px 12px rgba(11, 83, 192, 0.3)"},"&:active":{background:"#064a9e !important",backgroundColor:"#064a9e !important"},"&:focus":{background:i?"#0B53C0 !important":"#064a9e !important",backgroundColor:i?"#0B53C0 !important":"#064a9e !important"},"&.Mui-focusVisible":{background:i?"#0B53C0 !important":"#064a9e !important",backgroundColor:i?"#0B53C0 !important":"#064a9e !important"},transition:"all 0.2s ease-in-out"},children:[h.jsx(gj,{sx:{fontSize:"1.5rem",color:"white !important"}}),h.jsxs(de,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",lineHeight:1,flex:1},children:[h.jsx(he,{variant:"body1",sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",fontWeight:"bold",mb:0,lineHeight:1.1,color:"white !important"},children:"Chat with PAT"}),h.jsx(he,{variant:"caption",sx:{fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",opacity:.9,lineHeight:1,mt:.2,color:"white !important"},children:"AI Tutor"})]}),i?h.jsx(Nx,{sx:{fontSize:"1.2rem",color:"white !important"}}):h.jsx(Tl,{sx:{fontSize:"1.2rem",color:"white !important"}})]}),h.jsx(_x,{in:i,timeout:300,easing:{enter:"cubic-bezier(0.4, 0, 0.2, 1)",exit:"cubic-bezier(0.4, 0, 0.6, 1)"},children:h.jsx(de,{sx:{background:"white",borderRadius:"0 0 16px 16px",overflow:"hidden"},children:h.jsx(Oue,{children:h.jsx(jue,{ref:r,chatbotId:e,onConversationStart:s})})})})]})})});RL.displayName="ChatbotWrapper";const qg="ce5f7921-a3a0-4ea7-b95f-10fe41becda5",Iue=()=>{const[e,n]=X.useState(qg),[t]=V1(),r=X.useRef(null);return X.useEffect(()=>{const i=t.get("material");if(!i){e!==qg&&n(qg);return}(async()=>{var f;console.log("Fetching chatbot ID for material:",i);const s=Xn(),l=dn(s,"chatbots"),u=Il(l,Li("material.id","==",i)),d=await Ai(u);if(d.empty)console.log(` No chatbot found for material ${i}, using default:`,qg),n(qg);else{const m=d.docs[0].data();console.log(` Found chatbot for material ${i}:`,m.chatbotId),m.chatbotId!==e&&((f=r.current)==null||f.endConversation()),n(m.chatbotId)}})()},[t,e]),h.jsx(de,{sx:{position:"fixed",bottom:16,right:16,zIndex:1100},children:h.jsx(RL,{ref:r,chatbotId:e})})};function gb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Wd(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var gT={exports:{}},Bg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT;function Due(){if(bT)return Bg;bT=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Bg.Fragment=n,Bg.jsx=t,Bg.jsxs=t,Bg}var yT;function bb(){return yT||(yT=1,gT.exports=Due()),gT.exports}var Qt=bb(),$g={},xT={exports:{}},vT;function Cm(){return vT||(vT=1,function(e){function n(t){return t&&t.__esModule?t:{default:t}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(xT)),xT.exports}var wT={};function Yr(){return Yr=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Yr.apply(null,arguments)}function Mf(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ML(e){if(X.isValidElement(e)||!Mf(e))return e;const n={};return Object.keys(e).forEach(t=>{n[t]=ML(e[t])}),n}function Oc(e,n,t={clone:!0}){const r=t.clone?Yr({},e):e;return Mf(e)&&Mf(n)&&Object.keys(n).forEach(i=>{X.isValidElement(n[i])?r[i]=n[i]:Mf(n[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Mf(e[i])?r[i]=Oc(e[i],n[i],t):t.clone?r[i]=Mf(n[i])?ML(n[i]):n[i]:r[i]=n[i]}),r}const Lue=Object.freeze(Object.defineProperty({__proto__:null,default:Oc,isPlainObject:Mf},Symbol.toStringTag,{value:"Module"}));function M1(e){let n="https://mui.com/production-error/?code="+e;for(let t=1;t<arguments.length;t+=1)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+e+"; visit "+n+" for the full message."}const Rue=Object.freeze(Object.defineProperty({__proto__:null,default:M1},Symbol.toStringTag,{value:"Module"}));var ST={exports:{}},Ur={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT;function Mue(){if(AT)return Ur;AT=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function x(y){if(typeof y=="object"&&y!==null){var A=y.$$typeof;switch(A){case e:switch(y=y.type,y){case t:case i:case r:case u:case d:case b:return y;default:switch(y=y&&y.$$typeof,y){case s:case l:case m:case f:return y;case a:return y;default:return A}}case n:return A}}}return Ur.ContextConsumer=a,Ur.ContextProvider=s,Ur.Element=e,Ur.ForwardRef=l,Ur.Fragment=t,Ur.Lazy=m,Ur.Memo=f,Ur.Portal=n,Ur.Profiler=i,Ur.StrictMode=r,Ur.Suspense=u,Ur.SuspenseList=d,Ur.isContextConsumer=function(y){return x(y)===a},Ur.isContextProvider=function(y){return x(y)===s},Ur.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Ur.isForwardRef=function(y){return x(y)===l},Ur.isFragment=function(y){return x(y)===t},Ur.isLazy=function(y){return x(y)===m},Ur.isMemo=function(y){return x(y)===f},Ur.isPortal=function(y){return x(y)===n},Ur.isProfiler=function(y){return x(y)===i},Ur.isStrictMode=function(y){return x(y)===r},Ur.isSuspense=function(y){return x(y)===u},Ur.isSuspenseList=function(y){return x(y)===d},Ur.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===i||y===r||y===u||y===d||typeof y=="object"&&y!==null&&(y.$$typeof===m||y.$$typeof===f||y.$$typeof===s||y.$$typeof===a||y.$$typeof===l||y.$$typeof===g||y.getModuleId!==void 0)},Ur.typeOf=x,Ur}var CT;function Fue(){return CT||(CT=1,ST.exports=Mue()),ST.exports}var ET=Fue();const Pue=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function FL(e){const n=`${e}`.match(Pue);return n&&n[1]||""}function PL(e,n=""){return e.displayName||e.name||FL(e)||n}function kT(e,n,t){const r=PL(n);return e.displayName||(r!==""?`${t}(${r})`:t)}function zue(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return PL(e,"Component");if(typeof e=="object")switch(e.$$typeof){case ET.ForwardRef:return kT(e,e.render,"ForwardRef");case ET.Memo:return kT(e,e.type,"memo");default:return}}}const que=Object.freeze(Object.defineProperty({__proto__:null,default:zue,getFunctionName:FL},Symbol.toStringTag,{value:"Module"}));function ih(e){if(typeof e!="string")throw new Error(M1(7));return e.charAt(0).toUpperCase()+e.slice(1)}const Bue=Object.freeze(Object.defineProperty({__proto__:null,default:ih},Symbol.toStringTag,{value:"Module"}));function $ue(...e){return e.reduce((n,t)=>t==null?n:function(...r){n.apply(this,r),t.apply(this,r)},()=>{})}function Uue(e,n=166){let t;function r(...i){const a=()=>{e.apply(this,i)};clearTimeout(t),t=setTimeout(a,n)}return r.clear=()=>{clearTimeout(t)},r}function Hue(e,n){return()=>null}function Wue(e,n){var t,r;return X.isValidElement(e)&&n.indexOf((t=e.type.muiName)!=null?t:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function zL(e){return e&&e.ownerDocument||document}function Yue(e){return zL(e).defaultView||window}function Vue(e,n){return()=>null}function qL(e,n){typeof e=="function"?e(n):e&&(e.current=n)}const BL=typeof window<"u"?X.useLayoutEffect:X.useEffect;let _T=0;function Gue(e){const[n,t]=X.useState(e),r=e||n;return X.useEffect(()=>{n==null&&(_T+=1,t(`mui-${_T}`))},[n]),r}const NT=X.useId;function Que(e){if(NT!==void 0){const n=NT();return e??n}return Gue(e)}function Kue(e,n,t,r,i){return null}function Xue({controlled:e,default:n,name:t,state:r="value"}){const{current:i}=X.useRef(e!==void 0),[a,s]=X.useState(n),l=i?e:a,u=X.useCallback(d=>{i||s(d)},[]);return[l,u]}function Zue(e){const n=X.useRef(e);return BL(()=>{n.current=e}),X.useRef((...t)=>(0,n.current)(...t)).current}function Jue(...e){return X.useMemo(()=>e.every(n=>n==null)?null:n=>{e.forEach(t=>{qL(t,n)})},e)}class ZA{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new ZA}start(n,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},n)}}let h2=!0,C6=!1;const ece=new ZA,tce={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function nce(e){const{type:n,tagName:t}=e;return!!(t==="INPUT"&&tce[n]&&!e.readOnly||t==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function rce(e){e.metaKey||e.altKey||e.ctrlKey||(h2=!0)}function Gw(){h2=!1}function ice(){this.visibilityState==="hidden"&&C6&&(h2=!0)}function ace(e){e.addEventListener("keydown",rce,!0),e.addEventListener("mousedown",Gw,!0),e.addEventListener("pointerdown",Gw,!0),e.addEventListener("touchstart",Gw,!0),e.addEventListener("visibilitychange",ice,!0)}function sce(e){const{target:n}=e;try{return n.matches(":focus-visible")}catch{}return h2||nce(n)}function oce(){const e=X.useCallback(i=>{i!=null&&ace(i.ownerDocument)},[]),n=X.useRef(!1);function t(){return n.current?(C6=!0,ece.start(100,()=>{C6=!1}),n.current=!1,!0):!1}function r(i){return sce(i)?(n.current=!0,!0):!1}return{isFocusVisibleRef:n,onFocus:r,onBlur:t,ref:e}}function E6(e,n){const t=Yr({},n);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=Yr({},e[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},a=n[r];t[r]={},!a||!Object.keys(a)?t[r]=i:!i||!Object.keys(i)?t[r]=a:(t[r]=Yr({},a),Object.keys(i).forEach(s=>{t[r][s]=E6(i[s],a[s])}))}else t[r]===void 0&&(t[r]=e[r])}),t}function lce(e,n,t=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((a,s)=>{if(s){const l=n(s);l!==""&&a.push(l),t&&t[s]&&a.push(t[s])}return a},[]).join(" ")}),r}const TT=e=>e,uce=()=>{let e=TT;return{configure(n){e=n},generate(n){return e(n)},reset(){e=TT}}},$L=uce(),cce={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function UL(e,n,t="Mui"){const r=cce[n];return r?`${t}-${r}`:`${$L.generate(e)}-${n}`}function dce(e,n,t="Mui"){const r={};return n.forEach(i=>{r[i]=UL(e,i,t)}),r}function fce(e,n=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(n,Math.min(e,t))}const hce=Object.freeze(Object.defineProperty({__proto__:null,default:fce},Symbol.toStringTag,{value:"Module"}));function fh(e,n){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;t[r]=e[r]}return t}function HL(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(t=HL(e[n]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function pce(){for(var e,n,t=0,r="",i=arguments.length;t<i;t++)(e=arguments[t])&&(n=HL(e))&&(r&&(r+=" "),r+=n);return r}const mce=X.createContext(void 0);function gce(e){const{theme:n,name:t,props:r}=e;if(!n||!n.components||!n.components[t])return r;const i=n.components[t];return i.defaultProps?E6(i.defaultProps,r):!i.styleOverrides&&!i.variants?E6(i,r):r}function bce({props:e,name:n}){const t=X.useContext(mce);return gce({props:e,name:n,theme:{components:t}})}function yce(e){return bce(e)}var Bh={},jT={exports:{}},OT;function xce(){return OT||(OT=1,function(e){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)({}).hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(jT)),jT.exports}var IT={exports:{}},DT;function vce(){return DT||(DT=1,function(e){function n(t,r){if(t==null)return{};var i={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;i[a]=t[a]}return i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(IT)),IT.exports}function wce(e){for(var n=0,t,r=0,i=e.length;i>=4;++r,i-=4)t=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,n=(t&65535)*1540483477+((t>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(i){case 3:n^=(e.charCodeAt(r+2)&255)<<16;case 2:n^=(e.charCodeAt(r+1)&255)<<8;case 1:n^=e.charCodeAt(r)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}var Sce={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Ace(e){var n=Object.create(null);return function(t){return n[t]===void 0&&(n[t]=e(t)),n[t]}}var Cce=/[A-Z]|^ms/g,Ece=/_EMO_([^_]+?)_([^]*?)_EMO_/g,WL=function(e){return e.charCodeAt(1)===45},LT=function(e){return e!=null&&typeof e!="boolean"},Qw=Ace(function(e){return WL(e)?e:e.replace(Cce,"-$&").toLowerCase()}),RT=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Ece,function(t,r,i){return $f={name:r,styles:i,next:$f},r})}return Sce[e]!==1&&!WL(e)&&typeof n=="number"&&n!==0?n+"px":n};function lv(e,n,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return $f={name:i.name,styles:i.styles,next:$f},i.name;var a=t;if(a.styles!==void 0){var s=a.next;if(s!==void 0)for(;s!==void 0;)$f={name:s.name,styles:s.styles,next:$f},s=s.next;var l=a.styles+";";return l}return kce(e,n,t)}}var u=t;return u}function kce(e,n,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=lv(e,n,t[i])+";";else for(var a in t){var s=t[a];if(typeof s!="object"){var l=s;LT(l)&&(r+=Qw(a)+":"+RT(a,l)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&n==null)for(var u=0;u<s.length;u++)LT(s[u])&&(r+=Qw(a)+":"+RT(a,s[u])+";");else{var d=lv(e,n,s);switch(a){case"animation":case"animationName":{r+=Qw(a)+":"+d+";";break}default:r+=a+"{"+d+"}"}}}return r}var MT=/label:\s*([^\s;{]+)\s*(;|$)/g,$f;function _ce(e,n,t){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";$f=void 0;var a=e[0];if(a==null||a.raw===void 0)r=!1,i+=lv(t,n,a);else{var s=a;i+=s[0]}for(var l=1;l<e.length;l++)if(i+=lv(t,n,e[l]),r){var u=a;i+=u[l]}MT.lastIndex=0;for(var d="",f;(f=MT.exec(i))!==null;)d+="-"+f[1];var m=wce(i)+d;return{name:m,styles:i,next:$f}}function Nce(e){if(e.sheet)return e.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===e)return document.styleSheets[n]}function Tce(e){var n=document.createElement("style");return n.setAttribute("data-emotion",e.key),e.nonce!==void 0&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var jce=function(){function e(t){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var n=e.prototype;return n.hydrate=function(t){t.forEach(this._insertTag)},n.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Tce(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Nce(r);try{i.insertRule(t,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(t));this.ctr++},n.flush=function(){this.tags.forEach(function(t){var r;return(r=t.parentNode)==null?void 0:r.removeChild(t)}),this.tags=[],this.ctr=0},e}(),Ls="-ms-",uv="-moz-",gr="-webkit-",YL="comm",JA="rule",eC="decl",Oce="@import",VL="@keyframes",Ice="@layer",Dce=Math.abs,p2=String.fromCharCode,Lce=Object.assign;function Rce(e,n){return ps(e,0)^45?(((n<<2^ps(e,0))<<2^ps(e,1))<<2^ps(e,2))<<2^ps(e,3):0}function GL(e){return e.trim()}function Mce(e,n){return(e=n.exec(e))?e[0]:e}function yr(e,n,t){return e.replace(n,t)}function k6(e,n){return e.indexOf(n)}function ps(e,n){return e.charCodeAt(n)|0}function F1(e,n,t){return e.slice(n,t)}function dc(e){return e.length}function tC(e){return e.length}function Ky(e,n){return n.push(e),e}function Fce(e,n){return e.map(n).join("")}var m2=1,hm=1,QL=0,So=0,Ia=0,Em="";function g2(e,n,t,r,i,a,s){return{value:e,root:n,parent:t,type:r,props:i,children:a,line:m2,column:hm,length:s,return:""}}function Ug(e,n){return Lce(g2("",null,null,"",null,null,0),e,{length:-e.length},n)}function Pce(){return Ia}function zce(){return Ia=So>0?ps(Em,--So):0,hm--,Ia===10&&(hm=1,m2--),Ia}function el(){return Ia=So<QL?ps(Em,So++):0,hm++,Ia===10&&(hm=1,m2++),Ia}function Ic(){return ps(Em,So)}function Cx(){return So}function yb(e,n){return F1(Em,e,n)}function P1(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function KL(e){return m2=hm=1,QL=dc(Em=e),So=0,[]}function XL(e){return Em="",e}function Ex(e){return GL(yb(So-1,_6(e===91?e+2:e===40?e+1:e)))}function qce(e){for(;(Ia=Ic())&&Ia<33;)el();return P1(e)>2||P1(Ia)>3?"":" "}function Bce(e,n){for(;--n&&el()&&!(Ia<48||Ia>102||Ia>57&&Ia<65||Ia>70&&Ia<97););return yb(e,Cx()+(n<6&&Ic()==32&&el()==32))}function _6(e){for(;el();)switch(Ia){case e:return So;case 34:case 39:e!==34&&e!==39&&_6(Ia);break;case 40:e===41&&_6(e);break;case 92:el();break}return So}function $ce(e,n){for(;el()&&e+Ia!==57&&!(e+Ia===84&&Ic()===47););return"/*"+yb(n,So-1)+"*"+p2(e===47?e:el())}function Uce(e){for(;!P1(Ic());)el();return yb(e,So)}function Hce(e){return XL(kx("",null,null,null,[""],e=KL(e),0,[0],e))}function kx(e,n,t,r,i,a,s,l,u){for(var d=0,f=0,m=s,b=0,g=0,x=0,y=1,A=1,w=1,C=0,T="",M=i,R=a,z=r,_=T;A;)switch(x=C,C=el()){case 40:if(x!=108&&ps(_,m-1)==58){k6(_+=yr(Ex(C),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:_+=Ex(C);break;case 9:case 10:case 13:case 32:_+=qce(x);break;case 92:_+=Bce(Cx()-1,7);continue;case 47:switch(Ic()){case 42:case 47:Ky(Wce($ce(el(),Cx()),n,t),u);break;default:_+="/"}break;case 123*y:l[d++]=dc(_)*w;case 125*y:case 59:case 0:switch(C){case 0:case 125:A=0;case 59+f:w==-1&&(_=yr(_,/\f/g,"")),g>0&&dc(_)-m&&Ky(g>32?PT(_+";",r,t,m-1):PT(yr(_," ","")+";",r,t,m-2),u);break;case 59:_+=";";default:if(Ky(z=FT(_,n,t,d,f,i,l,T,M=[],R=[],m),a),C===123)if(f===0)kx(_,n,z,z,M,a,m,l,R);else switch(b===99&&ps(_,3)===110?100:b){case 100:case 108:case 109:case 115:kx(e,z,z,r&&Ky(FT(e,z,z,0,0,i,l,T,i,M=[],m),R),i,R,m,l,r?M:R);break;default:kx(_,z,z,z,[""],R,0,l,R)}}d=f=g=0,y=w=1,T=_="",m=s;break;case 58:m=1+dc(_),g=x;default:if(y<1){if(C==123)--y;else if(C==125&&y++==0&&zce()==125)continue}switch(_+=p2(C),C*y){case 38:w=f>0?1:(_+="\f",-1);break;case 44:l[d++]=(dc(_)-1)*w,w=1;break;case 64:Ic()===45&&(_+=Ex(el())),b=Ic(),f=m=dc(T=_+=Uce(Cx())),C++;break;case 45:x===45&&dc(_)==2&&(y=0)}}return a}function FT(e,n,t,r,i,a,s,l,u,d,f){for(var m=i-1,b=i===0?a:[""],g=tC(b),x=0,y=0,A=0;x<r;++x)for(var w=0,C=F1(e,m+1,m=Dce(y=s[x])),T=e;w<g;++w)(T=GL(y>0?b[w]+" "+C:yr(C,/&\f/g,b[w])))&&(u[A++]=T);return g2(e,n,t,i===0?JA:l,u,d,f)}function Wce(e,n,t){return g2(e,n,t,YL,p2(Pce()),F1(e,2,-2),0)}function PT(e,n,t,r){return g2(e,n,t,eC,F1(e,0,r),F1(e,r+1,-1),r)}function K0(e,n){for(var t="",r=tC(e),i=0;i<r;i++)t+=n(e[i],i,e,n)||"";return t}function Yce(e,n,t,r){switch(e.type){case Ice:if(e.children.length)break;case Oce:case eC:return e.return=e.return||e.value;case YL:return"";case VL:return e.return=e.value+"{"+K0(e.children,r)+"}";case JA:e.value=e.props.join(",")}return dc(t=K0(e.children,r))?e.return=e.value+"{"+t+"}":""}function Vce(e){var n=tC(e);return function(t,r,i,a){for(var s="",l=0;l<n;l++)s+=e[l](t,r,i,a)||"";return s}}function Gce(e){return function(n){n.root||(n=n.return)&&e(n)}}var Qce=function(e,n,t){for(var r=0,i=0;r=i,i=Ic(),r===38&&i===12&&(n[t]=1),!P1(i);)el();return yb(e,So)},Kce=function(e,n){var t=-1,r=44;do switch(P1(r)){case 0:r===38&&Ic()===12&&(n[t]=1),e[t]+=Qce(So-1,n,t);break;case 2:e[t]+=Ex(r);break;case 4:if(r===44){e[++t]=Ic()===58?"&\f":"",n[t]=e[t].length;break}default:e[t]+=p2(r)}while(r=el());return e},Xce=function(e,n){return XL(Kce(KL(e),n))},zT=new WeakMap,Zce=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,t=e.parent,r=e.column===t.column&&e.line===t.line;t.type!=="rule";)if(t=t.parent,!t)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!zT.get(t))&&!r){zT.set(e,!0);for(var i=[],a=Xce(n,i),s=t.props,l=0,u=0;l<a.length;l++)for(var d=0;d<s.length;d++,u++)e.props[u]=i[l]?a[l].replace(/&\f/g,s[d]):s[d]+" "+a[l]}}},Jce=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function ZL(e,n){switch(Rce(e,n)){case 5103:return gr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return gr+e+uv+e+Ls+e+e;case 6828:case 4268:return gr+e+Ls+e+e;case 6165:return gr+e+Ls+"flex-"+e+e;case 5187:return gr+e+yr(e,/(\w+).+(:[^]+)/,gr+"box-$1$2"+Ls+"flex-$1$2")+e;case 5443:return gr+e+Ls+"flex-item-"+yr(e,/flex-|-self/,"")+e;case 4675:return gr+e+Ls+"flex-line-pack"+yr(e,/align-content|flex-|-self/,"")+e;case 5548:return gr+e+Ls+yr(e,"shrink","negative")+e;case 5292:return gr+e+Ls+yr(e,"basis","preferred-size")+e;case 6060:return gr+"box-"+yr(e,"-grow","")+gr+e+Ls+yr(e,"grow","positive")+e;case 4554:return gr+yr(e,/([^-])(transform)/g,"$1"+gr+"$2")+e;case 6187:return yr(yr(yr(e,/(zoom-|grab)/,gr+"$1"),/(image-set)/,gr+"$1"),e,"")+e;case 5495:case 3959:return yr(e,/(image-set\([^]*)/,gr+"$1$`$1");case 4968:return yr(yr(e,/(.+:)(flex-)?(.*)/,gr+"box-pack:$3"+Ls+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+gr+e+e;case 4095:case 3583:case 4068:case 2532:return yr(e,/(.+)-inline(.+)/,gr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(dc(e)-1-n>6)switch(ps(e,n+1)){case 109:if(ps(e,n+4)!==45)break;case 102:return yr(e,/(.+:)(.+)-([^]+)/,"$1"+gr+"$2-$3$1"+uv+(ps(e,n+3)==108?"$3":"$2-$3"))+e;case 115:return~k6(e,"stretch")?ZL(yr(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(ps(e,n+1)!==115)break;case 6444:switch(ps(e,dc(e)-3-(~k6(e,"!important")&&10))){case 107:return yr(e,":",":"+gr)+e;case 101:return yr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+gr+(ps(e,14)===45?"inline-":"")+"box$3$1"+gr+"$2$3$1"+Ls+"$2box$3")+e}break;case 5936:switch(ps(e,n+11)){case 114:return gr+e+Ls+yr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return gr+e+Ls+yr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return gr+e+Ls+yr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return gr+e+Ls+e+e}return e}var ede=function(e,n,t,r){if(e.length>-1&&!e.return)switch(e.type){case eC:e.return=ZL(e.value,e.length);break;case VL:return K0([Ug(e,{value:yr(e.value,"@","@"+gr)})],r);case JA:if(e.length)return Fce(e.props,function(i){switch(Mce(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return K0([Ug(e,{props:[yr(i,/:(read-\w+)/,":"+uv+"$1")]})],r);case"::placeholder":return K0([Ug(e,{props:[yr(i,/:(plac\w+)/,":"+gr+"input-$1")]}),Ug(e,{props:[yr(i,/:(plac\w+)/,":"+uv+"$1")]}),Ug(e,{props:[yr(i,/:(plac\w+)/,Ls+"input-$1")]})],r)}return""})}},tde=[ede],nde=function(e){var n=e.key;if(n==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(x){var y=x.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var r=e.stylisPlugins||tde,i={},a,s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var y=x.getAttribute("data-emotion").split(" "),A=1;A<y.length;A++)i[y[A]]=!0;s.push(x)});var l,u=[Zce,Jce];{var d,f=[Yce,Gce(function(x){d.insert(x)})],m=Vce(u.concat(r,f)),b=function(x){return K0(Hce(x),m)};l=function(x,y,A,w){d=A,b(x?x+"{"+y.styles+"}":y.styles),w&&(g.inserted[y.name]=!0)}}var g={key:n,sheet:new jce({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return g.sheet.hydrate(s),g};function rde(e,n){const t=nde({key:"css",prepend:e});if(n){const r=t.insert;t.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return t}const Kw=new Map;function ide(e){const{injectFirst:n,enableCssLayer:t,children:r}=e,i=X.useMemo(()=>{const a=`${n}-${t}`;if(typeof document=="object"&&Kw.has(a))return Kw.get(a);const s=rde(n,t);return Kw.set(a,s),s},[n,t]);return n||t?Qt.jsx(wj,{value:i,children:r}):r}function ade(e){return e==null||Object.keys(e).length===0}function sde(e){const{styles:n,defaultTheme:t={}}=e,r=typeof n=="function"?i=>n(ade(i)?t:i):n;return Qt.jsx(Sj,{styles:r})}/**
 * @mui/styled-engine v5.18.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function ode(e,n){return vj(e,n)}const lde=(e,n)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=n(e.__emotion_styles))},qT=[];function ude(e){return qT[0]=e,_ce(qT)}const cde=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:sde,StyledEngineProvider:ide,ThemeContext:xj,css:yj,default:ode,internal_processStyles:lde,internal_serializeStyles:ude,keyframes:bj},Symbol.toStringTag,{value:"Module"})),dde=Wd(cde),fde=Wd(Lue),hde=Wd(Bue),pde=Wd(que),mde=["values","unit","step"],gde=e=>{const n=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return n.sort((t,r)=>t.val-r.val),n.reduce((t,r)=>Yr({},t,{[r.key]:r.val}),{})};function JL(e){const{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=e,i=fh(e,mde),a=gde(n),s=Object.keys(a);function l(b){return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t})`}function u(b){return`@media (max-width:${(typeof n[b]=="number"?n[b]:b)-r/100}${t})`}function d(b,g){const x=s.indexOf(g);return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t}) and (max-width:${(x!==-1&&typeof n[s[x]]=="number"?n[s[x]]:g)-r/100}${t})`}function f(b){return s.indexOf(b)+1<s.length?d(b,s[s.indexOf(b)+1]):l(b)}function m(b){const g=s.indexOf(b);return g===0?l(s[1]):g===s.length-1?u(s[g]):d(b,s[s.indexOf(b)+1]).replace("@media","@media not all and")}return Yr({keys:s,values:a,up:l,down:u,between:d,only:f,not:m,unit:t},i)}const bde={borderRadius:4};function o1(e,n){return n?Oc(e,n,{clone:!1}):e}const nC={xs:0,sm:600,md:900,lg:1200,xl:1536},BT={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${nC[e]}px)`};function Pd(e,n,t){const r=e.theme||{};if(Array.isArray(n)){const i=r.breakpoints||BT;return n.reduce((a,s,l)=>(a[i.up(i.keys[l])]=t(n[l]),a),{})}if(typeof n=="object"){const i=r.breakpoints||BT;return Object.keys(n).reduce((a,s)=>{if(Object.keys(i.values||nC).indexOf(s)!==-1){const l=i.up(s);a[l]=t(n[s],s)}else{const l=s;a[l]=n[l]}return a},{})}return t(n)}function yde(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((t,r)=>{const i=e.up(r);return t[i]={},t},{}))||{}}function $T(e,n){return e.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},n)}function b2(e,n,t=!0){if(!n||typeof n!="string")return null;if(e&&e.vars&&t){const r=`vars.${n}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(r!=null)return r}return n.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function cv(e,n,t,r=t){let i;return typeof e=="function"?i=e(t):Array.isArray(e)?i=e[t]||r:i=b2(e,t)||r,n&&(i=n(i,r,e)),i}function va(e){const{prop:n,cssProperty:t=e.prop,themeKey:r,transform:i}=e,a=s=>{if(s[n]==null)return null;const l=s[n],u=s.theme,d=b2(u,r)||{};return Pd(s,l,f=>{let m=cv(d,i,f);return f===m&&typeof f=="string"&&(m=cv(d,i,`${n}${f==="default"?"":ih(f)}`,f)),t===!1?m:{[t]:m}})};return a.propTypes={},a.filterProps=[n],a}function xde(e){const n={};return t=>(n[t]===void 0&&(n[t]=e(t)),n[t])}const vde={m:"margin",p:"padding"},wde={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},UT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Sde=xde(e=>{if(e.length>2)if(UT[e])e=UT[e];else return[e];const[n,t]=e.split(""),r=vde[n],i=wde[t]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),rC=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],iC=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...rC,...iC];function xb(e,n,t,r){var i;const a=(i=b2(e,n,!1))!=null?i:t;return typeof a=="number"?s=>typeof s=="string"?s:a*s:Array.isArray(a)?s=>typeof s=="string"?s:a[s]:typeof a=="function"?a:()=>{}}function eR(e){return xb(e,"spacing",8)}function vb(e,n){if(typeof n=="string"||n==null)return n;const t=Math.abs(n),r=e(t);return n>=0?r:typeof r=="number"?-r:`-${r}`}function Ade(e,n){return t=>e.reduce((r,i)=>(r[i]=vb(n,t),r),{})}function Cde(e,n,t,r){if(n.indexOf(t)===-1)return null;const i=Sde(t),a=Ade(i,r),s=e[t];return Pd(e,s,a)}function tR(e,n){const t=eR(e.theme);return Object.keys(e).map(r=>Cde(e,n,r,t)).reduce(o1,{})}function Gi(e){return tR(e,rC)}Gi.propTypes={};Gi.filterProps=rC;function Qi(e){return tR(e,iC)}Qi.propTypes={};Qi.filterProps=iC;function Ede(e=8){if(e.mui)return e;const n=eR({spacing:e}),t=(...r)=>(r.length===0?[1]:r).map(i=>{const a=n(i);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function y2(...e){const n=e.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),t=r=>Object.keys(r).reduce((i,a)=>n[a]?o1(i,n[a](r)):i,{});return t.propTypes={},t.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Nl(e){return typeof e!="number"?e:`${e}px solid`}function zl(e,n){return va({prop:e,themeKey:"borders",transform:n})}const kde=zl("border",Nl),_de=zl("borderTop",Nl),Nde=zl("borderRight",Nl),Tde=zl("borderBottom",Nl),jde=zl("borderLeft",Nl),Ode=zl("borderColor"),Ide=zl("borderTopColor"),Dde=zl("borderRightColor"),Lde=zl("borderBottomColor"),Rde=zl("borderLeftColor"),Mde=zl("outline",Nl),Fde=zl("outlineColor"),x2=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const n=xb(e.theme,"shape.borderRadius",4),t=r=>({borderRadius:vb(n,r)});return Pd(e,e.borderRadius,t)}return null};x2.propTypes={};x2.filterProps=["borderRadius"];y2(kde,_de,Nde,Tde,jde,Ode,Ide,Dde,Lde,Rde,x2,Mde,Fde);const v2=e=>{if(e.gap!==void 0&&e.gap!==null){const n=xb(e.theme,"spacing",8),t=r=>({gap:vb(n,r)});return Pd(e,e.gap,t)}return null};v2.propTypes={};v2.filterProps=["gap"];const w2=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const n=xb(e.theme,"spacing",8),t=r=>({columnGap:vb(n,r)});return Pd(e,e.columnGap,t)}return null};w2.propTypes={};w2.filterProps=["columnGap"];const S2=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const n=xb(e.theme,"spacing",8),t=r=>({rowGap:vb(n,r)});return Pd(e,e.rowGap,t)}return null};S2.propTypes={};S2.filterProps=["rowGap"];const Pde=va({prop:"gridColumn"}),zde=va({prop:"gridRow"}),qde=va({prop:"gridAutoFlow"}),Bde=va({prop:"gridAutoColumns"}),$de=va({prop:"gridAutoRows"}),Ude=va({prop:"gridTemplateColumns"}),Hde=va({prop:"gridTemplateRows"}),Wde=va({prop:"gridTemplateAreas"}),Yde=va({prop:"gridArea"});y2(v2,w2,S2,Pde,zde,qde,Bde,$de,Ude,Hde,Wde,Yde);function X0(e,n){return n==="grey"?n:e}const Vde=va({prop:"color",themeKey:"palette",transform:X0}),Gde=va({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:X0}),Qde=va({prop:"backgroundColor",themeKey:"palette",transform:X0});y2(Vde,Gde,Qde);function Vo(e){return e<=1&&e!==0?`${e*100}%`:e}const Kde=va({prop:"width",transform:Vo}),aC=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const n=t=>{var r,i;const a=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||nC[t];return a?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Vo(t)}};return Pd(e,e.maxWidth,n)}return null};aC.filterProps=["maxWidth"];const Xde=va({prop:"minWidth",transform:Vo}),Zde=va({prop:"height",transform:Vo}),Jde=va({prop:"maxHeight",transform:Vo}),efe=va({prop:"minHeight",transform:Vo});va({prop:"size",cssProperty:"width",transform:Vo});va({prop:"size",cssProperty:"height",transform:Vo});const tfe=va({prop:"boxSizing"});y2(Kde,aC,Xde,Zde,Jde,efe,tfe);const wb={border:{themeKey:"borders",transform:Nl},borderTop:{themeKey:"borders",transform:Nl},borderRight:{themeKey:"borders",transform:Nl},borderBottom:{themeKey:"borders",transform:Nl},borderLeft:{themeKey:"borders",transform:Nl},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Nl},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:x2},color:{themeKey:"palette",transform:X0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:X0},backgroundColor:{themeKey:"palette",transform:X0},p:{style:Qi},pt:{style:Qi},pr:{style:Qi},pb:{style:Qi},pl:{style:Qi},px:{style:Qi},py:{style:Qi},padding:{style:Qi},paddingTop:{style:Qi},paddingRight:{style:Qi},paddingBottom:{style:Qi},paddingLeft:{style:Qi},paddingX:{style:Qi},paddingY:{style:Qi},paddingInline:{style:Qi},paddingInlineStart:{style:Qi},paddingInlineEnd:{style:Qi},paddingBlock:{style:Qi},paddingBlockStart:{style:Qi},paddingBlockEnd:{style:Qi},m:{style:Gi},mt:{style:Gi},mr:{style:Gi},mb:{style:Gi},ml:{style:Gi},mx:{style:Gi},my:{style:Gi},margin:{style:Gi},marginTop:{style:Gi},marginRight:{style:Gi},marginBottom:{style:Gi},marginLeft:{style:Gi},marginX:{style:Gi},marginY:{style:Gi},marginInline:{style:Gi},marginInlineStart:{style:Gi},marginInlineEnd:{style:Gi},marginBlock:{style:Gi},marginBlockStart:{style:Gi},marginBlockEnd:{style:Gi},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:v2},rowGap:{style:S2},columnGap:{style:w2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Vo},maxWidth:{style:aC},minWidth:{transform:Vo},height:{transform:Vo},maxHeight:{transform:Vo},minHeight:{transform:Vo},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function nfe(...e){const n=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(n);return e.every(r=>t.size===Object.keys(r).length)}function rfe(e,n){return typeof e=="function"?e(n):e}function nR(){function e(t,r,i,a){const s={[t]:r,theme:i},l=a[t];if(!l)return{[t]:r};const{cssProperty:u=t,themeKey:d,transform:f,style:m}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const b=b2(i,d)||{};return m?m(s):Pd(s,r,g=>{let x=cv(b,f,g);return g===x&&typeof g=="string"&&(x=cv(b,f,`${t}${g==="default"?"":ih(g)}`,g)),u===!1?x:{[u]:x}})}function n(t){var r;const{sx:i,theme:a={},nested:s}=t||{};if(!i)return null;const l=(r=a.unstable_sxConfig)!=null?r:wb;function u(d){let f=d;if(typeof d=="function")f=d(a);else if(typeof d!="object")return d;if(!f)return null;const m=yde(a.breakpoints),b=Object.keys(m);let g=m;return Object.keys(f).forEach(x=>{const y=rfe(f[x],a);if(y!=null)if(typeof y=="object")if(l[x])g=o1(g,e(x,y,a,l));else{const A=Pd({theme:a},y,w=>({[x]:w}));nfe(A,y)?g[x]=n({sx:y,theme:a,nested:!0}):g=o1(g,A)}else g=o1(g,e(x,y,a,l))}),!s&&a.modularCssLayers?{"@layer sx":$T(b,g)}:$T(b,g)}return Array.isArray(i)?i.map(u):u(i)}return n}const A2=nR();A2.filterProps=["sx"];function rR(e,n){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:n}:t.palette.mode===e?n:{}}const ife=["breakpoints","palette","spacing","shape"];function iR(e={},...n){const{breakpoints:t={},palette:r={},spacing:i,shape:a={}}=e,s=fh(e,ife),l=JL(t),u=Ede(i);let d=Oc({breakpoints:l,direction:"ltr",components:{},palette:Yr({mode:"light"},r),spacing:u,shape:Yr({},bde,a)},s);return d.applyStyles=rR,d=n.reduce((f,m)=>Oc(f,m),d),d.unstable_sxConfig=Yr({},wb,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(f){return A2({sx:f,theme:this})},d}const afe=Object.freeze(Object.defineProperty({__proto__:null,default:iR,private_createBreakpoints:JL,unstable_applyStyles:rR},Symbol.toStringTag,{value:"Module"})),sfe=Wd(afe),ofe=["sx"],lfe=e=>{var n,t;const r={systemProps:{},otherProps:{}},i=(n=e==null||(t=e.theme)==null?void 0:t.unstable_sxConfig)!=null?n:wb;return Object.keys(e).forEach(a=>{i[a]?r.systemProps[a]=e[a]:r.otherProps[a]=e[a]}),r};function ufe(e){const{sx:n}=e,t=fh(e,ofe),{systemProps:r,otherProps:i}=lfe(t);let a;return Array.isArray(n)?a=[r,...n]:typeof n=="function"?a=(...s)=>{const l=n(...s);return Mf(l)?Yr({},r,l):r}:a=Yr({},r,n),Yr({},i,{sx:a})}const cfe=Object.freeze(Object.defineProperty({__proto__:null,default:A2,extendSxProp:ufe,unstable_createStyleFunctionSx:nR,unstable_defaultSxConfig:wb},Symbol.toStringTag,{value:"Module"})),dfe=Wd(cfe);var HT;function ffe(){if(HT)return Bh;HT=1;var e=Cm();Object.defineProperty(Bh,"__esModule",{value:!0}),Bh.default=R,Bh.shouldForwardProp=x,Bh.systemDefaultTheme=void 0;var n=e(xce()),t=e(vce()),r=m(dde),i=fde;e(hde),e(pde);var a=e(sfe),s=e(dfe);const l=["ownerState"],u=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function f(z){if(typeof WeakMap!="function")return null;var _=new WeakMap,L=new WeakMap;return(f=function($){return $?L:_})(z)}function m(z,_){if(z&&z.__esModule)return z;if(z===null||typeof z!="object"&&typeof z!="function")return{default:z};var L=f(_);if(L&&L.has(z))return L.get(z);var $={__proto__:null},Z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in z)if(O!=="default"&&Object.prototype.hasOwnProperty.call(z,O)){var j=Z?Object.getOwnPropertyDescriptor(z,O):null;j&&(j.get||j.set)?Object.defineProperty($,O,j):$[O]=z[O]}return $.default=z,L&&L.set(z,$),$}function b(z){return Object.keys(z).length===0}function g(z){return typeof z=="string"&&z.charCodeAt(0)>96}function x(z){return z!=="ownerState"&&z!=="theme"&&z!=="sx"&&z!=="as"}function y(z,_){return _&&z&&typeof z=="object"&&z.styles&&!z.styles.startsWith("@layer")&&(z.styles=`@layer ${_}{${String(z.styles)}}`),z}const A=Bh.systemDefaultTheme=(0,a.default)(),w=z=>z&&z.charAt(0).toLowerCase()+z.slice(1);function C({defaultTheme:z,theme:_,themeId:L}){return b(_)?z:_[L]||_}function T(z){return z?(_,L)=>L[z]:null}function M(z,_,L){let{ownerState:$}=_,Z=(0,t.default)(_,l);const O=typeof z=="function"?z((0,n.default)({ownerState:$},Z)):z;if(Array.isArray(O))return O.flatMap(j=>M(j,(0,n.default)({ownerState:$},Z),L));if(O&&typeof O=="object"&&Array.isArray(O.variants)){const{variants:j=[]}=O;let F=(0,t.default)(O,u);return j.forEach(N=>{let G=!0;if(typeof N.props=="function"?G=N.props((0,n.default)({ownerState:$},Z,$)):Object.keys(N.props).forEach(H=>{($==null?void 0:$[H])!==N.props[H]&&Z[H]!==N.props[H]&&(G=!1)}),G){Array.isArray(F)||(F=[F]);const H=typeof N.style=="function"?N.style((0,n.default)({ownerState:$},Z,$)):N.style;F.push(L?y((0,r.internal_serializeStyles)(H),L):H)}}),F}return L?y((0,r.internal_serializeStyles)(O),L):O}function R(z={}){const{themeId:_,defaultTheme:L=A,rootShouldForwardProp:$=x,slotShouldForwardProp:Z=x}=z,O=j=>(0,s.default)((0,n.default)({},j,{theme:C((0,n.default)({},j,{defaultTheme:L,themeId:_}))}));return O.__mui_systemSx=!0,(j,F={})=>{(0,r.internal_processStyles)(j,xe=>xe.filter(ke=>!(ke!=null&&ke.__mui_systemSx)));const{name:N,slot:G,skipVariantsResolver:H,skipSx:Q,overridesResolver:te=T(w(G))}=F,oe=(0,t.default)(F,d),U=N&&N.startsWith("Mui")||G?"components":"custom",se=H!==void 0?H:G&&G!=="Root"&&G!=="root"||!1,q=Q||!1;let B,J=x;G==="Root"||G==="root"?J=$:G?J=Z:g(j)&&(J=void 0);const ne=(0,r.default)(j,(0,n.default)({shouldForwardProp:J,label:B},oe)),le=xe=>typeof xe=="function"&&xe.__emotion_real!==xe||(0,i.isPlainObject)(xe)?ke=>{const De=C({theme:ke.theme,defaultTheme:L,themeId:_});return M(xe,(0,n.default)({},ke,{theme:De}),De.modularCssLayers?U:void 0)}:xe,Se=(xe,...ke)=>{let De=le(xe);const Me=ke?ke.map(le):[];N&&te&&Me.push(Y=>{const Ae=C((0,n.default)({},Y,{defaultTheme:L,themeId:_}));if(!Ae.components||!Ae.components[N]||!Ae.components[N].styleOverrides)return null;const re=Ae.components[N].styleOverrides,be={};return Object.entries(re).forEach(([fe,Ce])=>{be[fe]=M(Ce,(0,n.default)({},Y,{theme:Ae}),Ae.modularCssLayers?"theme":void 0)}),te(Y,be)}),N&&!se&&Me.push(Y=>{var Ae;const re=C((0,n.default)({},Y,{defaultTheme:L,themeId:_})),be=re==null||(Ae=re.components)==null||(Ae=Ae[N])==null?void 0:Ae.variants;return M({variants:be},(0,n.default)({},Y,{theme:re}),re.modularCssLayers?"theme":void 0)}),q||Me.push(O);const He=Me.length-ke.length;if(Array.isArray(xe)&&He>0){const Y=new Array(He).fill("");De=[...xe,...Y],De.raw=[...xe.raw,...Y]}const Ve=ne(De,...Me);return j.muiName&&(Ve.muiName=j.muiName),Ve};return ne.withConfig&&(Se.withConfig=ne.withConfig),Se}}return Bh}var hfe=ffe();const pfe=gb(hfe);function mfe(e,n){return Yr({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},n)}var Di={};const gfe=Wd(Rue),bfe=Wd(hce);var WT;function yfe(){if(WT)return Di;WT=1;var e=Cm();Object.defineProperty(Di,"__esModule",{value:!0}),Di.alpha=x,Di.blend=z,Di.colorChannel=void 0,Di.darken=A,Di.decomposeColor=s,Di.emphasize=M,Di.getContrastRatio=g,Di.getLuminance=b,Di.hexToRgb=i,Di.hslToRgb=m,Di.lighten=C,Di.private_safeAlpha=y,Di.private_safeColorChannel=void 0,Di.private_safeDarken=w,Di.private_safeEmphasize=R,Di.private_safeLighten=T,Di.recomposeColor=d,Di.rgbToHex=f;var n=e(gfe),t=e(bfe);function r(_,L=0,$=1){return(0,t.default)(_,L,$)}function i(_){_=_.slice(1);const L=new RegExp(`.{1,${_.length>=6?2:1}}`,"g");let $=_.match(L);return $&&$[0].length===1&&($=$.map(Z=>Z+Z)),$?`rgb${$.length===4?"a":""}(${$.map((Z,O)=>O<3?parseInt(Z,16):Math.round(parseInt(Z,16)/255*1e3)/1e3).join(", ")})`:""}function a(_){const L=_.toString(16);return L.length===1?`0${L}`:L}function s(_){if(_.type)return _;if(_.charAt(0)==="#")return s(i(_));const L=_.indexOf("("),$=_.substring(0,L);if(["rgb","rgba","hsl","hsla","color"].indexOf($)===-1)throw new Error((0,n.default)(9,_));let Z=_.substring(L+1,_.length-1),O;if($==="color"){if(Z=Z.split(" "),O=Z.shift(),Z.length===4&&Z[3].charAt(0)==="/"&&(Z[3]=Z[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(O)===-1)throw new Error((0,n.default)(10,O))}else Z=Z.split(",");return Z=Z.map(j=>parseFloat(j)),{type:$,values:Z,colorSpace:O}}const l=_=>{const L=s(_);return L.values.slice(0,3).map(($,Z)=>L.type.indexOf("hsl")!==-1&&Z!==0?`${$}%`:$).join(" ")};Di.colorChannel=l;const u=(_,L)=>{try{return l(_)}catch{return _}};Di.private_safeColorChannel=u;function d(_){const{type:L,colorSpace:$}=_;let{values:Z}=_;return L.indexOf("rgb")!==-1?Z=Z.map((O,j)=>j<3?parseInt(O,10):O):L.indexOf("hsl")!==-1&&(Z[1]=`${Z[1]}%`,Z[2]=`${Z[2]}%`),L.indexOf("color")!==-1?Z=`${$} ${Z.join(" ")}`:Z=`${Z.join(", ")}`,`${L}(${Z})`}function f(_){if(_.indexOf("#")===0)return _;const{values:L}=s(_);return`#${L.map(($,Z)=>a(Z===3?Math.round(255*$):$)).join("")}`}function m(_){_=s(_);const{values:L}=_,$=L[0],Z=L[1]/100,O=L[2]/100,j=Z*Math.min(O,1-O),F=(H,Q=(H+$/30)%12)=>O-j*Math.max(Math.min(Q-3,9-Q,1),-1);let N="rgb";const G=[Math.round(F(0)*255),Math.round(F(8)*255),Math.round(F(4)*255)];return _.type==="hsla"&&(N+="a",G.push(L[3])),d({type:N,values:G})}function b(_){_=s(_);let L=_.type==="hsl"||_.type==="hsla"?s(m(_)).values:_.values;return L=L.map($=>(_.type!=="color"&&($/=255),$<=.03928?$/12.92:(($+.055)/1.055)**2.4)),Number((.2126*L[0]+.7152*L[1]+.0722*L[2]).toFixed(3))}function g(_,L){const $=b(_),Z=b(L);return(Math.max($,Z)+.05)/(Math.min($,Z)+.05)}function x(_,L){return _=s(_),L=r(L),(_.type==="rgb"||_.type==="hsl")&&(_.type+="a"),_.type==="color"?_.values[3]=`/${L}`:_.values[3]=L,d(_)}function y(_,L,$){try{return x(_,L)}catch{return _}}function A(_,L){if(_=s(_),L=r(L),_.type.indexOf("hsl")!==-1)_.values[2]*=1-L;else if(_.type.indexOf("rgb")!==-1||_.type.indexOf("color")!==-1)for(let $=0;$<3;$+=1)_.values[$]*=1-L;return d(_)}function w(_,L,$){try{return A(_,L)}catch{return _}}function C(_,L){if(_=s(_),L=r(L),_.type.indexOf("hsl")!==-1)_.values[2]+=(100-_.values[2])*L;else if(_.type.indexOf("rgb")!==-1)for(let $=0;$<3;$+=1)_.values[$]+=(255-_.values[$])*L;else if(_.type.indexOf("color")!==-1)for(let $=0;$<3;$+=1)_.values[$]+=(1-_.values[$])*L;return d(_)}function T(_,L,$){try{return C(_,L)}catch{return _}}function M(_,L=.15){return b(_)>.5?A(_,L):C(_,L)}function R(_,L,$){try{return M(_,L)}catch{return _}}function z(_,L,$,Z=1){const O=(G,H)=>Math.round((G**(1/Z)*(1-$)+H**(1/Z)*$)**Z),j=s(_),F=s(L),N=[O(j.values[0],F.values[0]),O(j.values[1],F.values[1]),O(j.values[2],F.values[2])];return d({type:"rgb",values:N})}return Di}var N6=yfe();const z1={black:"#000",white:"#fff"},xfe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},v0={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},w0={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Hg={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},S0={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},A0={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},C0={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},vfe=["mode","contrastThreshold","tonalOffset"],YT={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:z1.white,default:z1.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Xw={text:{primary:z1.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:z1.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function VT(e,n,t,r){const i=r.light||r,a=r.dark||r*1.5;e[n]||(e.hasOwnProperty(t)?e[n]=e[t]:n==="light"?e.light=N6.lighten(e.main,i):n==="dark"&&(e.dark=N6.darken(e.main,a)))}function wfe(e="light"){return e==="dark"?{main:S0[200],light:S0[50],dark:S0[400]}:{main:S0[700],light:S0[400],dark:S0[800]}}function Sfe(e="light"){return e==="dark"?{main:v0[200],light:v0[50],dark:v0[400]}:{main:v0[500],light:v0[300],dark:v0[700]}}function Afe(e="light"){return e==="dark"?{main:w0[500],light:w0[300],dark:w0[700]}:{main:w0[700],light:w0[400],dark:w0[800]}}function Cfe(e="light"){return e==="dark"?{main:A0[400],light:A0[300],dark:A0[700]}:{main:A0[700],light:A0[500],dark:A0[900]}}function Efe(e="light"){return e==="dark"?{main:C0[400],light:C0[300],dark:C0[700]}:{main:C0[800],light:C0[500],dark:C0[900]}}function kfe(e="light"){return e==="dark"?{main:Hg[400],light:Hg[300],dark:Hg[700]}:{main:"#ed6c02",light:Hg[500],dark:Hg[900]}}function _fe(e){const{mode:n="light",contrastThreshold:t=3,tonalOffset:r=.2}=e,i=fh(e,vfe),a=e.primary||wfe(n),s=e.secondary||Sfe(n),l=e.error||Afe(n),u=e.info||Cfe(n),d=e.success||Efe(n),f=e.warning||kfe(n);function m(x){return N6.getContrastRatio(x,Xw.text.primary)>=t?Xw.text.primary:YT.text.primary}const b=({color:x,name:y,mainShade:A=500,lightShade:w=300,darkShade:C=700})=>{if(x=Yr({},x),!x.main&&x[A]&&(x.main=x[A]),!x.hasOwnProperty("main"))throw new Error(M1(11,y?` (${y})`:"",A));if(typeof x.main!="string")throw new Error(M1(12,y?` (${y})`:"",JSON.stringify(x.main)));return VT(x,"light",w,r),VT(x,"dark",C,r),x.contrastText||(x.contrastText=m(x.main)),x},g={dark:Xw,light:YT};return Oc(Yr({common:Yr({},z1),mode:n,primary:b({color:a,name:"primary"}),secondary:b({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:l,name:"error"}),warning:b({color:f,name:"warning"}),info:b({color:u,name:"info"}),success:b({color:d,name:"success"}),grey:xfe,contrastThreshold:t,getContrastText:m,augmentColor:b,tonalOffset:r},g[n]),i)}const Nfe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Tfe(e){return Math.round(e*1e5)/1e5}const GT={textTransform:"uppercase"},QT='"Roboto", "Helvetica", "Arial", sans-serif';function jfe(e,n){const t=typeof n=="function"?n(e):n,{fontFamily:r=QT,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:d=16,allVariants:f,pxToRem:m}=t,b=fh(t,Nfe),g=i/14,x=m||(w=>`${w/d*g}rem`),y=(w,C,T,M,R)=>Yr({fontFamily:r,fontWeight:w,fontSize:x(C),lineHeight:T},r===QT?{letterSpacing:`${Tfe(M/C)}em`}:{},R,f),A={h1:y(a,96,1.167,-1.5),h2:y(a,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(l,14,1.75,.4,GT),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,GT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Oc(Yr({htmlFontSize:d,pxToRem:x,fontFamily:r,fontSize:i,fontWeightLight:a,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:u},A),b,{clone:!1})}const Ofe=.2,Ife=.14,Dfe=.12;function vi(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Ofe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Ife})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Dfe})`].join(",")}const Lfe=["none",vi(0,2,1,-1,0,1,1,0,0,1,3,0),vi(0,3,1,-2,0,2,2,0,0,1,5,0),vi(0,3,3,-2,0,3,4,0,0,1,8,0),vi(0,2,4,-1,0,4,5,0,0,1,10,0),vi(0,3,5,-1,0,5,8,0,0,1,14,0),vi(0,3,5,-1,0,6,10,0,0,1,18,0),vi(0,4,5,-2,0,7,10,1,0,2,16,1),vi(0,5,5,-3,0,8,10,1,0,3,14,2),vi(0,5,6,-3,0,9,12,1,0,3,16,2),vi(0,6,6,-3,0,10,14,1,0,4,18,3),vi(0,6,7,-4,0,11,15,1,0,4,20,3),vi(0,7,8,-4,0,12,17,2,0,5,22,4),vi(0,7,8,-4,0,13,19,2,0,5,24,4),vi(0,7,9,-4,0,14,21,2,0,5,26,4),vi(0,8,9,-5,0,15,22,2,0,6,28,5),vi(0,8,10,-5,0,16,24,2,0,6,30,5),vi(0,8,11,-5,0,17,26,2,0,6,32,5),vi(0,9,11,-5,0,18,28,2,0,7,34,6),vi(0,9,12,-6,0,19,29,2,0,7,36,6),vi(0,10,13,-6,0,20,31,3,0,8,38,7),vi(0,10,13,-6,0,21,33,3,0,8,40,7),vi(0,10,14,-6,0,22,35,3,0,8,42,7),vi(0,11,14,-7,0,23,36,3,0,9,44,8),vi(0,11,15,-7,0,24,38,3,0,9,46,8)],Rfe=["duration","easing","delay"],Mfe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Ffe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function KT(e){return`${Math.round(e)}ms`}function Pfe(e){if(!e)return 0;const n=e/36;return Math.round((4+15*n**.25+n/5)*10)}function zfe(e){const n=Yr({},Mfe,e.easing),t=Yr({},Ffe,e.duration);return Yr({getAutoHeightDuration:Pfe,create:(r=["all"],i={})=>{const{duration:a=t.standard,easing:s=n.easeInOut,delay:l=0}=i;return fh(i,Rfe),(Array.isArray(r)?r:[r]).map(u=>`${u} ${typeof a=="string"?a:KT(a)} ${s} ${typeof l=="string"?l:KT(l)}`).join(",")}},e,{easing:n,duration:t})}const qfe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Bfe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function $fe(e={},...n){const{mixins:t={},palette:r={},transitions:i={},typography:a={}}=e,s=fh(e,Bfe);if(e.vars&&e.generateCssVars===void 0)throw new Error(M1(18));const l=_fe(r),u=iR(e);let d=Oc(u,{mixins:mfe(u.breakpoints,t),palette:l,shadows:Lfe.slice(),typography:jfe(l,a),transitions:zfe(i),zIndex:Yr({},qfe)});return d=Oc(d,s),d=n.reduce((f,m)=>Oc(f,m),d),d.unstable_sxConfig=Yr({},wb,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(f){return A2({sx:f,theme:this})},d}const Ufe=$fe(),Hfe="$$material";function Wfe(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Yfe=e=>Wfe(e)&&e!=="classes",Vfe=pfe({themeId:Hfe,defaultTheme:Ufe,rootShouldForwardProp:Yfe});function Gfe(e){return UL("MuiSvgIcon",e)}dce("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Qfe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Kfe=e=>{const{color:n,fontSize:t,classes:r}=e,i={root:["root",n!=="inherit"&&`color${ih(n)}`,`fontSize${ih(t)}`]};return lce(i,Gfe,r)},Xfe=Vfe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.color!=="inherit"&&n[`color${ih(t.color)}`],n[`fontSize${ih(t.fontSize)}`]]}})(({theme:e,ownerState:n})=>{var t,r,i,a,s,l,u,d,f,m,b,g,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=e.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((a=e.typography)==null||(s=a.pxToRem)==null?void 0:s.call(a,20))||"1.25rem",medium:((l=e.typography)==null||(u=l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem",large:((d=e.typography)==null||(f=d.pxToRem)==null?void 0:f.call(d,35))||"2.1875rem"}[n.fontSize],color:(m=(b=(e.vars||e).palette)==null||(b=b[n.color])==null?void 0:b.main)!=null?m:{action:(g=(e.vars||e).palette)==null||(g=g.action)==null?void 0:g.active,disabled:(x=(e.vars||e).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[n.color]}}),T6=X.forwardRef(function(e,n){const t=yce({props:e,name:"MuiSvgIcon"}),{children:r,className:i,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:f,viewBox:m="0 0 24 24"}=t,b=fh(t,Qfe),g=X.isValidElement(r)&&r.type==="svg",x=Yr({},t,{color:a,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:m,hasSvgAsChild:g}),y={};d||(y.viewBox=m);const A=Kfe(x);return Qt.jsxs(Xfe,Yr({as:s,className:pce(A.root,i),focusable:"false",color:u,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n},y,b,g&&r.props,{ownerState:x,children:[g?r.props.children:r,f?Qt.jsx("title",{children:f}):null]}))});T6.muiName="SvgIcon";function Zfe(e,n){function t(r,i){return Qt.jsx(T6,Yr({"data-testid":`${n}Icon`,ref:i},r,{children:e}))}return t.muiName=T6.muiName,X.memo(X.forwardRef(t))}const Jfe={configure:e=>{$L.configure(e)}},ehe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:ih,createChainedFunction:$ue,createSvgIcon:Zfe,debounce:Uue,deprecatedPropType:Hue,isMuiElement:Wue,ownerDocument:zL,ownerWindow:Yue,requirePropFactory:Vue,setRef:qL,unstable_ClassNameGenerator:Jfe,unstable_useEnhancedEffect:BL,unstable_useId:Que,unsupportedProp:Kue,useControlled:Xue,useEventCallback:Zue,useForkRef:Jue,useIsFocusVisible:oce},Symbol.toStringTag,{value:"Module"})),the=Wd(ehe);var XT;function C2(){return XT||(XT=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=the}(wT)),wT}var ZT;function nhe(){if(ZT)return $g;ZT=1;var e=Cm();Object.defineProperty($g,"__esModule",{value:!0}),$g.default=void 0;var n=e(C2()),t=bb();return $g.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),$g}var rhe=nhe();const JT=gb(rhe);var Wg={},ej;function ihe(){if(ej)return Wg;ej=1;var e=Cm();Object.defineProperty(Wg,"__esModule",{value:!0}),Wg.default=void 0;var n=e(C2()),t=bb();return Wg.default=(0,n.default)((0,t.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),Wg}var ahe=ihe();const she=gb(ahe);var Yg={},tj;function ohe(){if(tj)return Yg;tj=1;var e=Cm();Object.defineProperty(Yg,"__esModule",{value:!0}),Yg.default=void 0;var n=e(C2()),t=bb();return Yg.default=(0,n.default)((0,t.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),Yg}var lhe=ohe();const uhe=gb(lhe);var Vg={},nj;function che(){if(nj)return Vg;nj=1;var e=Cm();Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.default=void 0;var n=e(C2()),t=bb();return Vg.default=(0,n.default)((0,t.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),Vg}var dhe=che();const fhe=gb(dhe),tr={primary:"#0B53C0",primaryLight:"#CDDAFF",background:"#F0F4FF",white:"#FFFFFF",text:"#000000",success:"#4caf50",error:"#f44336",disabled:"#ccc"},Qn={modal:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"95%",sm:"80%",md:700},maxHeight:"90vh",bgcolor:tr.background,borderRadius:"16px",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)",p:3,outline:"none",overflow:"hidden",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,pb:2,borderBottom:`2px solid ${tr.primaryLight}`},title:{fontFamily:"Staatliches, Arial, sans-serif",fontSize:{xs:"1.5rem",sm:"2rem"},color:tr.text},closeButton:{color:tr.text,"&:hover":{bgcolor:tr.primaryLight}},progressBar:{height:8,borderRadius:4,bgcolor:tr.disabled,mb:3,"& .MuiLinearProgress-bar":{bgcolor:tr.primary,borderRadius:4}},questionCard:{bgcolor:tr.white,borderRadius:"12px",p:3,mb:3,minHeight:200,boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)"},questionText:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1.1rem",color:tr.text,mb:3},categoryBadge:{display:"inline-block",px:2,py:.5,bgcolor:tr.primaryLight,color:tr.text,borderRadius:"20px",fontSize:"0.85rem",fontFamily:"Gabarito, Arial, sans-serif",mb:2},answerInput:{width:"100%","& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif","& fieldset":{borderColor:tr.disabled},"&:hover fieldset":{borderColor:tr.primary},"&.Mui-focused fieldset":{borderColor:tr.primary}}},navigationDots:{display:"flex",justifyContent:"center",gap:1,my:2},dot:{width:12,height:12,borderRadius:"50%",border:"none",cursor:"pointer",transition:"all 0.3s","&:hover":{transform:"scale(1.2)"}},dotStates:{unanswered:{bgcolor:tr.disabled},answered:{bgcolor:tr.primaryLight},current:{bgcolor:tr.primary,transform:"scale(1.3)"}},navigationButtons:{display:"flex",justifyContent:"space-between",gap:2,mt:2},button:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",py:1,px:3,borderRadius:"20px",textTransform:"none"},primaryButton:{bgcolor:tr.primaryLight,color:tr.text,"&:hover":{bgcolor:tr.primary,color:tr.white}},secondaryButton:{bgcolor:tr.white,color:tr.text,border:`2px solid ${tr.primaryLight}`,"&:hover":{bgcolor:tr.primaryLight}},submitButton:{bgcolor:tr.success,color:tr.white,"&:hover":{bgcolor:"#388e3c"}},resultsContainer:{flex:1,overflowY:"auto",px:2},scoreCard:{bgcolor:tr.white,borderRadius:"12px",p:3,mb:3,textAlign:"center",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)"},scoreText:{fontSize:"3rem",fontFamily:"Staatliches, sans-serif",color:tr.primary},feedbackCard:{bgcolor:tr.white,borderRadius:"8px",p:2,mb:2,border:`1px solid ${tr.disabled}`},correctAnswer:{borderLeft:`4px solid ${tr.success}`},incorrectAnswer:{borderLeft:`4px solid ${tr.error}`}},aR="https://rag-flask-api.onrender.com",hhe=async e=>{if(!(e!=null&&e.trim()))throw new Error("Chatbot ID is required");try{const n=await fetch(`${aR}/get_quiz?chatbot_id=${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json"}}),t=await n.json();if(!n.ok||!t.success)throw new Error(t.error||"Failed to fetch quiz");return{quizId:t.quiz_id,questions:t.questions||[]}}catch(n){throw console.error("Error fetching quiz:",n),n}},phe=async(e,n,t)=>{if(!e||!n||!t||Object.keys(t).length===0)throw new Error("Invalid quiz submission");try{const r=await fetch(`${aR}/grade_quiz`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatbot_id:e,quiz_id:n,answers:t})}),i=await r.json();if(!r.ok||!i.success)throw new Error(i.error||"Quiz grading failed");return i.summary}catch(r){throw console.error("Error grading quiz:",r),r}},mhe=(e,n)=>{if(e)try{const t=`quiz_progress_${e}`;localStorage.setItem(t,JSON.stringify({answers:n,timestamp:new Date().toISOString()}))}catch(t){console.error("Failed to save progress:",t)}},ghe=e=>{if(!e)return null;try{const n=`quiz_progress_${e}`,t=localStorage.getItem(n);if(!t)return null;const r=JSON.parse(t),i=new Date(r.timestamp);return(new Date-i)/(1e3*60*60)>24?(localStorage.removeItem(n),null):r.answers}catch(n){return console.error("Failed to load progress:",n),null}},Zw=e=>{if(e)try{const n=`quiz_progress_${e}`;localStorage.removeItem(n)}catch(n){console.error("Failed to clear progress:",n)}},bhe=e=>{const n=((e==null?void 0:e.bloom_level)||(e==null?void 0:e.bloomLevel)||"").toString().toLowerCase();return n==="remember"||n==="understand"?"lower":n==="apply"?"middle":n==="analyze"||n==="evaluate"||n==="create"?"upper":"lower"},yhe=e=>e==="easy"?5:e==="hard"?10:8,xhe=(e,n)=>{const t=[],r=[],i=[];e.forEach(d=>{const f=bhe(d);f==="lower"?t.push(d):f==="middle"?r.push(d):i.push(d)});const a=d=>{const f=[...d];for(let m=f.length-1;m>0;m-=1){const b=Math.floor(Math.random()*(m+1));[f[m],f[b]]=[f[b],f[m]]}return f},s=yhe(n);let l=[];if(n==="easy"){const d=a(t),f=a(r),m=a(i);l=[...d.slice(0,s)],l.length<s&&(l=[...l,...f.slice(0,s-l.length)]),l.length<s&&(l=[...l,...m.slice(0,s-l.length)])}else if(n==="medium"){const d=a(r),f=a(t),m=a(i);l=[...d.slice(0,s)],l.length<s&&(l=[...l,...f.slice(0,s-l.length)]),l.length<s&&(l=[...l,...m.slice(0,s-l.length)])}else{const d=a(i),f=a(r),m=a(t);l=[...d.slice(0,s)],l.length<s&&(l=[...l,...f.slice(0,s-l.length)]),l.length<s&&(l=[...l,...m.slice(0,s-l.length)])}const u=Math.min(s,l.length);return{selected:l.slice(0,u),selection:{mode:n,target:s,finalCount:u},totalAvailable:{lower:t.length,middle:r.length,upper:i.length}}},vhe=X.forwardRef(({chatbotId:e,open:n,onClose:t,difficulty:r="medium",onQuizStart:i,onQuizProgress:a,onAnswerChange:s,onQuizSubmit:l,onQuizClose:u,onError:d},f)=>{const[m,b]=X.useState(null),[g,x]=X.useState([]),[y,A]=X.useState(null),[w,C]=X.useState(0),[T,M]=X.useState({}),[R,z]=X.useState(!0),[_,L]=X.useState(!1),[$,Z]=X.useState(""),[O,j]=X.useState(!1),[F,N]=X.useState(null),G=X.useRef(null),H=X.useRef(null);X.useEffect(()=>{n&&e&&Q()},[n,e,r]),X.useEffect(()=>{if(H.current&&Object.keys(T).length>0){mhe(H.current,T);const De=g.length,Me=De>0?Object.keys(T).length/De*100:0;a==null||a({quizId:m==null?void 0:m.quizId,answers:T,percentComplete:Me,selection:y||void 0})}},[T,H.current,g.length]);const Q=async()=>{z(!0),Z(""),j(!1),N(null),C(0),M({}),x([]),A(null),G.current=new Date;try{const De=await hhe(e),{selected:Me,selection:He,totalAvailable:Ve}=xhe((De==null?void 0:De.questions)||[],r);b(De),x(Me),A(He);const Y=`${De.quizId}::${r}`;H.current=Y;const Ae=ghe(Y);Ae&&M(Ae),i==null||i({quizId:De.quizId,chatbotId:e,startedAt:G.current,selection:He,totalAvailable:Ve})}catch(De){const Me=(De==null?void 0:De.message)||"Failed to load quiz";Z(Me),d==null||d(De,"load")}finally{z(!1)}},te=g[w],oe=g.length||0,U=oe>0?(w+1)/oe*100:0,se=De=>{if(!te)return;const Me={...T,[te.id]:De};M(Me),s==null||s({quizId:m==null?void 0:m.quizId,questionId:te.id,value:De,answers:Me})},q=()=>{w<oe-1&&C(De=>De+1)},B=()=>{w>0&&C(De=>De-1)},J=De=>C(De),ne=async()=>{if(!m)return;const De=g.filter(Me=>!T[Me.id]);if(De.length>0){Z(`Please answer all questions (${De.length} remaining)`);return}L(!0),Z("");try{const Me=new Date,He={};g.forEach(Y=>{He[Y.id]=T[Y.id]});const Ve=await phe(e,m.quizId,He);N(Ve),j(!0),H.current&&Zw(H.current),l==null||l({quizId:m.quizId,chatbotId:e,startedAt:G.current,submittedAt:Me,answers:He,summary:Ve,selection:y||void 0})}catch(Me){const He=`Failed to submit quiz: ${(Me==null?void 0:Me.message)||""}`.trim();Z(He),d==null||d(Me,"submit")}finally{L(!1)}},le=()=>{H.current&&Zw(H.current),u==null||u({quizId:m==null?void 0:m.quizId,chatbotId:e,answers:T,summary:F,completed:O,closedAt:new Date,selection:y||void 0}),t()},Se=(De,Me)=>{const He=Me===w,Ve=!!T[De];return{isCurrent:He,hasAnswer:Ve}},xe=()=>{const De=(te==null?void 0:te.answer_type)||"text",Me=T[te==null?void 0:te.id]||"";return Qt.jsx(Jt,{multiline:De==="long_answer",rows:De==="long_answer"?6:1,value:Me,onChange:He=>se(He.target.value),placeholder:"Enter your answer here...",sx:Qn.answerInput,disabled:_})};if(X.useImperativeHandle(f,()=>({reloadQuiz:Q,clearProgress:()=>H.current&&Zw(H.current),submit:ne,getAnswers:()=>T,getSummary:()=>F,close:le})),O&&F){const De=(()=>{const He=F==null?void 0:F.percent;if(typeof He=="number"&&Number.isFinite(He))return Math.round(He);const Ve=F==null?void 0:F.score;if(typeof Ve=="number"&&Number.isFinite(Ve))return Math.round(Ve);const Y=Number(F==null?void 0:F.total_score)||0,Ae=Number(F==null?void 0:F.total_max)||0;return Ae>0?Math.round(Y/Ae*100):0})(),Me=F.items||F.questions||{};return Qt.jsx(Ox,{open:n,onClose:le,children:Qt.jsxs(de,{sx:Qn.modal,children:[Qt.jsxs(de,{sx:Qn.header,children:[Qt.jsx(he,{sx:Qn.title,children:"Quiz Results"}),Qt.jsx(_n,{onClick:le,sx:Qn.closeButton,children:Qt.jsx(JT,{})})]}),Qt.jsxs(de,{sx:Qn.resultsContainer,children:[Qt.jsxs(de,{sx:Qn.scoreCard,children:[Qt.jsxs(he,{sx:Qn.scoreText,children:[De,"%"]}),Qt.jsx(he,{variant:"h6",sx:{fontFamily:"Gabarito"},children:"Final Score"}),F.total_score!==void 0&&Qt.jsxs(he,{variant:"body2",sx:{mt:1},children:[F.total_score," / ",F.total_max," points"]})]}),F.feedback&&Qt.jsx(rr,{severity:"info",sx:{mb:2},children:F.feedback}),!!g.length&&!!Object.keys(Me).length&&Qt.jsxs(de,{children:[Qt.jsx(he,{variant:"h6",sx:{mb:2,fontFamily:"Staatliches"},children:"Question Breakdown"}),g.map(He=>{const Ve=Me[He.id]||{},Y=Ve.score??0,Ae=Ve.verdict==="correct"||Y>=70||Ve.passed===!0;return Qt.jsxs(de,{sx:{...Qn.feedbackCard,...Ae?Qn.correctAnswer:Qn.incorrectAnswer},children:[Qt.jsxs(he,{variant:"body2",sx:{mb:1},children:["Q: ",(He==null?void 0:He.question)||"Question not found"]}),Qt.jsxs(he,{variant:"caption",color:"textSecondary",children:["Your answer: ",T[He.id]]}),Ve.score!==void 0&&Qt.jsxs(he,{variant:"caption",display:"block",sx:{mt:1},children:["Score: ",Y,"/",Ve.max_score||100]}),(Ve.feedback||Ve.reasoning)&&Qt.jsx(he,{variant:"caption",display:"block",sx:{mt:1},children:Ve.feedback||Ve.reasoning})]},He.id)})]})]}),Qt.jsx(Ct,{fullWidth:!0,variant:"contained",onClick:le,sx:{...Qn.button,...Qn.primaryButton,mt:2},children:"Close"})]})})}const ke=y&&y.finalCount<y.target;return Qt.jsx(Ox,{open:n,onClose:le,children:Qt.jsxs(de,{sx:Qn.modal,children:[Qt.jsxs(de,{sx:Qn.header,children:[Qt.jsx(he,{sx:Qn.title,children:"Quiz"}),Qt.jsx(_n,{onClick:le,sx:Qn.closeButton,children:Qt.jsx(JT,{})})]}),y&&Qt.jsx(de,{sx:{mb:1},children:Qt.jsx(cr,{label:`Mode: ${y.mode}  ${y.finalCount} Qs`,size:"small",sx:Qn.categoryBadge})}),ke&&Qt.jsxs(rr,{severity:"info",sx:{mb:2},children:["Not enough questions available for ",y.mode,". Showing"," ",y.finalCount," instead of ",y.target,"."]}),R?Qt.jsx(de,{sx:{display:"flex",justifyContent:"center",py:5},children:Qt.jsx(Zr,{})}):$&&!m?Qt.jsx(rr,{severity:"error",children:$}):m&&te?Qt.jsxs(Qt.Fragment,{children:[Qt.jsx(Ko,{variant:"determinate",value:U,sx:Qn.progressBar}),Qt.jsxs(de,{sx:Qn.questionCard,children:[Qt.jsxs(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[Qt.jsxs(he,{variant:"h6",sx:{fontFamily:"Staatliches"},children:["Question ",w+1," of ",oe]}),te.category&&Qt.jsx(cr,{label:te.category,size:"small",sx:Qn.categoryBadge})]}),Qt.jsx(he,{sx:Qn.questionText,children:te.question}),xe()]}),$&&Qt.jsx(rr,{severity:"error",sx:{mb:2},children:$}),Qt.jsx(de,{sx:Qn.navigationDots,children:g.map((De,Me)=>{const{isCurrent:He,hasAnswer:Ve}=Se(De.id,Me);return Qt.jsx(de,{component:"button",onClick:()=>J(Me),title:Ve?"Answered":"Unanswered",sx:{...Qn.dot,...Ve&&!He&&Qn.dotStates.answered,...!Ve&&!He&&Qn.dotStates.unanswered,...He&&Qn.dotStates.current}},De.id)})}),Qt.jsxs(de,{sx:Qn.navigationButtons,children:[Qt.jsx(Ct,{startIcon:Qt.jsx(she,{}),onClick:B,disabled:w===0,sx:{...Qn.button,...Qn.secondaryButton},children:"Previous"}),w===oe-1?Qt.jsx(Ct,{onClick:ne,disabled:_,endIcon:Qt.jsx(fhe,{}),sx:{...Qn.button,...Qn.submitButton},children:_?Qt.jsx(Zr,{size:20}):"Submit Quiz"}):Qt.jsx(Ct,{endIcon:Qt.jsx(uhe,{}),onClick:q,sx:{...Qn.button,...Qn.primaryButton},children:"Next"})]})]}):Qt.jsx(rr,{severity:"info",children:"No quiz available"})]})})}),rj={totalQuizzes:0,completedQuizzes:0,averageScore:0,difficultyBreakdown:{easy:0,medium:0,hard:0}},sR=vp()(Q1(xv((e,n)=>({currentSession:null,sessions:[],statistics:rj,isModalOpen:!1,currentChatbotId:null,currentDifficulty:"medium",loading:!1,error:null,isQuizActive:!1,currentAnswers:{},lastSummary:null,openQuizModal:(t,r="medium")=>{e({isModalOpen:!0,currentChatbotId:t,currentDifficulty:r,error:null})},closeQuizModal:()=>{e({isModalOpen:!1,error:null})},setDifficulty:t=>{e({currentDifficulty:t})},setLoading:t=>{e({loading:t})},setError:t=>{e({error:t})},startQuiz:t=>{const r={id:`session_${Date.now()}`,quizId:t.quizId,chatbotId:t.chatbotId,userId:"",difficulty:t.selection.mode,startedAt:t.startedAt,completed:!1,answers:{}};e({currentSession:r,isQuizActive:!0,currentAnswers:{},lastSummary:null,error:null})},updateAnswers:t=>{const{currentSession:r}=n();if(!r)return;const i={...t.answers};e({currentAnswers:i,currentSession:{...r,answers:i}})},submitQuiz:t=>{console.log(" Quiz Store: Quiz submitted. Data should be saved by quiz modal API:",t),e({lastSummary:t.summary,isQuizActive:!1})},closeQuiz:t=>{console.log(" Quiz Store: Quiz closed. Data handled by quiz modal API:",t),e({currentSession:null,isQuizActive:!1,isModalOpen:!1,currentAnswers:{},lastSummary:t.completed?t.summary:null})},addSession:t=>{e(r=>({sessions:[...r.sessions,t]}))},updateSession:(t,r)=>{e(i=>{var a;return{sessions:i.sessions.map(s=>s.id===t?{...s,...r}:s),currentSession:((a=i.currentSession)==null?void 0:a.id)===t?{...i.currentSession,...r}:i.currentSession}})},deleteSession:t=>{e(r=>({sessions:r.sessions.filter(i=>i.id!==t)}))},clearCurrentSession:()=>{e({currentSession:null,isQuizActive:!1,currentAnswers:{},lastSummary:null})},updateStatistics:()=>{const{sessions:t}=n(),r=t.filter(l=>l.completed),i=r.reduce((l,u)=>{var d;return l+(((d=u.summary)==null?void 0:d.percent)||0)},0),a=t.reduce((l,u)=>({...l,[u.difficulty]:l[u.difficulty]+1}),{easy:0,medium:0,hard:0}),s={totalQuizzes:t.length,completedQuizzes:r.length,averageScore:r.length>0?i/r.length:0,difficultyBreakdown:a,lastQuizDate:t.length>0?t[t.length-1].startedAt:void 0};e({statistics:s})},saveSessionToFirestore:async t=>{try{const{db:r}=await wi(async()=>{const{db:s}=await Promise.resolve().then(()=>Jh);return{db:s}},void 0),{doc:i,setDoc:a}=await wi(async()=>{const{doc:s,setDoc:l}=await import("./firebase-CTJJwFJC.js").then(u=>u.B);return{doc:s,setDoc:l}},[]);await a(i(r,"quizSessions",t.id),{...t,timestamp:new Date().toISOString()}),console.log("Quiz session saved to Firestore:",t.id)}catch(r){console.error("Failed to save quiz session:",r),e({error:"Failed to save quiz session"})}},fetchUserSessions:async t=>{try{e({loading:!0,error:null});const{db:r}=await wi(async()=>{const{db:b}=await Promise.resolve().then(()=>Jh);return{db:b}},void 0),{collection:i,query:a,where:s,getDocs:l,orderBy:u}=await wi(async()=>{const{collection:b,query:g,where:x,getDocs:y,orderBy:A}=await import("./firebase-CTJJwFJC.js").then(w=>w.B);return{collection:b,query:g,where:x,getDocs:y,orderBy:A}},[]),d=a(i(r,"quizSessions"),s("userId","==",t),u("startedAt","desc")),m=(await l(d)).docs.map(b=>({id:b.id,...b.data()}));e({sessions:m,loading:!1}),n().updateStatistics()}catch(r){r instanceof Error&&r.message.includes("permissions")?(console.warn("User does not have permission to access quiz sessions"),e({sessions:[],loading:!1,error:null})):(console.error("Failed to fetch quiz sessions:",r),e({error:"Failed to fetch quiz sessions",loading:!1}))}},reset:()=>{e({currentSession:null,sessions:[],statistics:rj,isModalOpen:!1,currentChatbotId:null,currentDifficulty:"medium",loading:!1,error:null,isQuizActive:!1,currentAnswers:{},lastSummary:null})}}),{name:"quiz-store",partialize:e=>({currentDifficulty:e.currentDifficulty}),merge:(e,n)=>({...n,...e||{},currentDifficulty:(e==null?void 0:e.currentDifficulty)||"medium"})}),{name:"quiz-store"})),Kf=Xn(),Xf={QUIZ_SESSIONS:"quizSessions",QUIZ_EVENTS:"quizEvents"},whe=async(e,n)=>{try{const t=Xi.now(),r=Xi.fromDate(new Date(e.startedAt)),i=5*1e3,a=Xi.fromMillis(r.toMillis()-i),s=Xi.fromMillis(r.toMillis()+i),l=Il(dn(Kf,Xf.QUIZ_SESSIONS),Li("quizId","==",e.quizId),Li("userId","==",n),Li("startedAt",">=",a),Li("startedAt","<=",s),gv(1)),u=await Ai(l);if(!u.empty){console.log(" Quiz session with same start time already exists, skipping duplicate:",{quizId:e.quizId,startedAt:e.startedAt,userId:n.substring(0,8)+"...",existingSessionId:u.docs[0].id});return}const d={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,startedAt:Xi.fromDate(new Date(e.startedAt)),completed:!1,difficulty:e.selection.mode,selection:{mode:e.selection.mode,target:e.selection.target,finalCount:e.selection.finalCount},createdAt:t,updatedAt:t},f={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_started",timestamp:t,data:e,createdAt:t};await Promise.all([Si(dn(Kf,Xf.QUIZ_SESSIONS),d),Si(dn(Kf,Xf.QUIZ_EVENTS),f)]),console.log(" Quiz start event saved to Firestore:",{quizId:e.quizId,difficulty:e.selection.mode,userId:n.substring(0,8)+"..."})}catch(t){throw console.error(" Error saving quiz start event:",t),t}},She=async(e,n)=>{try{const t=Xi.now(),r={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"answer_changed",timestamp:t,data:{quizId:e.quizId,chatbotId:e.chatbotId,questionId:e.questionId,value:e.value,answers:e.answers},createdAt:t};await Si(dn(Kf,Xf.QUIZ_EVENTS),r),console.log(" Answer change event saved to Firestore:",{quizId:e.quizId,questionId:e.questionId,userId:n.substring(0,8)+"..."})}catch(t){console.error(" Error saving answer change event:",t)}},Ahe=async(e,n)=>{try{const t=Xi.now(),r=Xi.fromMillis(t.toMillis()-3600*1e3),i=Il(dn(Kf,Xf.QUIZ_SESSIONS),Li("quizId","==",e.quizId),Li("userId","==",n),Li("completed","==",!1),Li("createdAt",">=",r),mv("createdAt","desc")),a=await Ai(i);if(a.empty)throw console.error(" No incomplete session found for quiz submission - this should not happen!",{quizId:e.quizId,userId:n.substring(0,8)+"...",submittedAt:e.submittedAt}),new Error("No matching quiz session found for submission");{const l=a.docs[0],u=l.ref,d=l.data(),f={submittedAt:Xi.fromDate(new Date(e.submittedAt)),completed:!0,finalAnswers:e.answers,summary:e.summary,updatedAt:t};await Hr(u,f),console.log(" Updated quiz session:",{quizId:e.quizId,difficulty:d.difficulty,score:`${e.summary.total_score}/${e.summary.total_max}`,userId:n.substring(0,8)+"..."})}const s={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_submitted",timestamp:t,data:e,createdAt:t};await Si(dn(Kf,Xf.QUIZ_EVENTS),s),console.log(" Quiz submission saved to Firestore:",{quizId:e.quizId,score:`${e.summary.total_score}/${e.summary.total_max} (${e.summary.percent}%)`})}catch(t){throw console.error(" Error saving quiz submission:",t),t}},Che=async(e,n)=>{try{const t=Xi.now(),r=Il(dn(Kf,Xf.QUIZ_SESSIONS),Li("quizId","==",e.quizId),Li("userId","==",n)),i=await Ai(r);if(!i.empty){const l=i.docs[0].ref,u={closedAt:Xi.fromDate(new Date(e.closedAt)),updatedAt:t};e.completed&&e.summary&&(u.completed=!0,u.finalAnswers=e.answers,u.summary=e.summary),await Hr(l,u)}const a={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_closed",timestamp:t,data:e,createdAt:t};await Si(dn(Kf,Xf.QUIZ_EVENTS),a),console.log(" Quiz close event saved to Firestore:",{quizId:e.quizId,completed:e.completed})}catch(t){throw console.error(" Error saving quiz close event:",t),t}},oR=X.forwardRef(({chatbotId:e,difficulty:n,open:t,onClose:r,eventHandlers:i},a)=>{const{userDetails:s}=Pi(),l=X.useRef(null),{startQuiz:u,updateAnswers:d,submitQuiz:f,closeQuiz:m,setError:b}=sR(),g=X.useCallback(C=>{console.log("Quiz started:",C),u(C),s!=null&&s.uid&&whe(C,s.uid).catch(T=>{console.error("Failed to save quiz start event:",T)}),i!=null&&i.onQuizStart&&i.onQuizStart(C)},[s==null?void 0:s.uid,u,i]),x=X.useCallback(C=>{if(console.log("Answer changed:",C),d(C),s!=null&&s.uid){const T={...C,chatbotId:C.chatbotId||e};She(T,s.uid).catch(M=>{console.warn("Failed to save answer change event:",M)})}i!=null&&i.onAnswerChange&&i.onAnswerChange(C)},[d,i,s==null?void 0:s.uid,e]),y=X.useCallback(C=>{console.log("Quiz submitted:",C),f(C),s!=null&&s.uid&&Ahe(C,s.uid).catch(T=>{console.error("Failed to save quiz submission event:",T)}),i!=null&&i.onQuizSubmit&&i.onQuizSubmit(C)},[f,i,s==null?void 0:s.uid]),A=X.useCallback(C=>{console.log("Quiz closed:",C),m(C),s!=null&&s.uid&&Che(C,s.uid).catch(T=>{console.error("Failed to save quiz close event:",T)}),i!=null&&i.onQuizClose&&i.onQuizClose(C)},[m,i,s==null?void 0:s.uid]),w=X.useCallback((C,T)=>{console.error("Error in",T,C),b(`Quiz ${T} failed: ${C.message}`),i!=null&&i.onError&&i.onError(C,T)},[b,i]);return X.useImperativeHandle(a,()=>({reloadQuiz:()=>{l.current&&l.current.reloadQuiz()},clearProgress:()=>{l.current&&l.current.clearProgress()},submit:()=>{l.current&&l.current.submit()},getAnswers:()=>l.current?l.current.getAnswers():{},getSummary:()=>l.current?l.current.getSummary():null,close:()=>{l.current&&l.current.close(),r()}})),h.jsx(vhe,{ref:l,chatbotId:e,open:t,onClose:r,difficulty:n,onQuizStart:g,onAnswerChange:x,onQuizSubmit:y,onQuizClose:A,onError:w})});oR.displayName="QuizWrapper";const Ehe=({onStartQuiz:e,disabled:n=!1})=>{const[t,r]=X.useState(null),i=!!t,a=d=>{r(d.currentTarget)},s=()=>{r(null)},l=d=>{e(d),s()},u=[{value:"easy",description:"~5 questions",icon:h.jsx(Id,{color:"success"}),color:"success"},{value:"medium",description:"~8 questions",icon:h.jsx(e3,{color:"warning"}),color:"warning"},{value:"hard",description:"Up to 10 questions",icon:h.jsx(t3,{color:"error"}),color:"error"}];return h.jsxs(h.Fragment,{children:[h.jsx(Ct,{variant:"contained",onClick:a,disabled:n,startIcon:i?h.jsx(Nx,{}):h.jsx(Lc,{}),sx:{background:"#0B53C0",color:"white",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",fontWeight:"bold",px:3,py:1.5,borderRadius:"12px",textTransform:"none","&:hover":{background:"#064a9e",boxShadow:"0px 4px 12px rgba(11, 83, 192, 0.3)"},"&:disabled":{background:"#ccc",color:"#999"},boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",transition:"all 0.2s ease-in-out"},children:"Start Quiz"}),h.jsxs(J9,{anchorEl:t,open:i,onClose:s,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"},PaperProps:{sx:{minWidth:300,borderRadius:2,border:"1px solid #e0e0e0",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)","& .MuiMenuItem-root":{py:1.5,px:2,borderRadius:1,mx:1,mb:.5,"&:hover":{backgroundColor:"#f5f5f5",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},"&:last-child":{mb:1}}}},children:[h.jsx(de,{sx:{px:2,py:1.5,borderBottom:"1px solid #e0e0e0",backgroundColor:"#CDDAFF"},children:h.jsx(he,{variant:"subtitle1",sx:{fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.1rem",textAlign:"center"},children:"Select Quiz Difficulty"})}),u.map(d=>h.jsxs(ai,{onClick:()=>l(d.value),children:[h.jsx(Zy,{sx:{minWidth:40},children:d.icon}),h.jsx(fc,{primary:h.jsx(he,{variant:"body1",sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#333",fontWeight:"bold"},children:d.value.charAt(0).toUpperCase()+d.value.slice(1)}),secondary:h.jsx(he,{variant:"body2",sx:{fontFamily:"Gabarito, sans-serif",color:"#666",fontSize:"0.875rem"},children:d.description})})]},d.value))]})]})},E0="ce5f7921-a3a0-4ea7-b95f-10fe41becda5",khe=({defaultDifficulty:e="medium",position:n="fixed"})=>{const{userDetails:t}=Pi(),[r]=V1(),i=X.useRef(null),{isModalOpen:a,currentChatbotId:s,currentDifficulty:l,statistics:u,openQuizModal:d,closeQuizModal:f,setDifficulty:m,fetchUserSessions:b,setError:g}=sR(),[x,y]=st.useState(E0);X.useEffect(()=>{const M=r.get("material");if(!M){x!==E0&&y(E0);return}(async()=>{try{console.log(" Fetching chatbot ID for quiz material:",M);const z=Xn(),_=dn(z,"chatbots"),L=Il(_,Li("material.id","==",M)),$=await Ai(L);if($.empty)console.log(` No chatbot found for material ${M}, using default for quiz:`,E0),y(E0);else{const Z=$.docs[0].data();console.log(` Found chatbot for quiz material ${M}:`,Z.chatbotId),y(Z.chatbotId)}}catch(z){console.error("Failed to fetch chatbot for quiz:",z),g("Failed to load quiz for this material"),y(E0)}})()},[r,x,g]),X.useEffect(()=>{t!=null&&t.uid&&(t.isAdmin||t.isSuperAdmin)&&b(t.uid)},[t==null?void 0:t.uid,t==null?void 0:t.isAdmin,t==null?void 0:t.isSuperAdmin,b]),X.useEffect(()=>{m(e)},[e,m]);const A=X.useCallback(M=>{x?d(x,M):g("No chatbot available for quiz")},[x,d,g]),w=X.useCallback(()=>{f()},[f]);if(!(t!=null&&t.uid)||!r.get("material"))return null;const T=n==="fixed"?{position:"fixed",bottom:120,right:16,zIndex:1e3}:{position:"relative"};return h.jsxs(h.Fragment,{children:[h.jsx(de,{sx:T,children:h.jsx(Ehe,{onStartQuiz:A,disabled:!x})}),a&&s&&h.jsx(oR,{ref:i,chatbotId:s,difficulty:l,open:a,onClose:w,eventHandlers:{onQuizStart:M=>{},onQuizSubmit:M=>{},onError:(M,R)=>{console.error("Quiz error:",R,M)}}})]})},_he=({children:e})=>h.jsxs(de,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh",backgroundColor:K.background.primary},children:[h.jsx(de,{component:"header",sx:{height:"12.5vh",minHeight:90,maxHeight:120,zIndex:1e3,flexShrink:0,position:"relative"},children:h.jsx(kee,{})}),h.jsx(de,{component:"main",sx:{flex:1,display:"flex",minHeight:0},children:h.jsx(Eee,{children:e})}),h.jsx(de,{component:"footer",sx:{height:"10vh",minHeight:70,maxHeight:100,flexShrink:0},children:h.jsx(_ee,{})}),h.jsx(Iue,{}),h.jsx(khe,{}),h.jsx(VM,{})]}),Nhe=()=>{const{userDetails:e,isSuperAdmin:n}=Pi(),t=wee(e,n),r=J3(t);return e!=null&&e.uid?h.jsx(_he,{children:r}):r},The=()=>{const{userDetails:e,loading:n}=Pi();if(n)return h.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:h.jsx(Zr,{})});const t="/nexlab";return e!=null&&e.uid,h.jsxs(n3,{theme:See,children:[h.jsx(r3,{}),h.jsx(bM,{basename:t,future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:h.jsx(X.Suspense,{fallback:h.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:h.jsx(Zr,{})}),children:h.jsx(Nhe,{})})})]})},jhe=document.getElementById("root"),Ohe=C3.createRoot(jhe);Ohe.render(h.jsx(CM,{children:h.jsx(The,{})}));export{fP as A,s7 as B,pm as C,_ee as D,o7 as E,hP as F,Jh as G,zhe as H,Ao as P,Nv as R,wi as _,Ft as a,Et as b,K as c,vc as d,zj as e,ya as f,q6 as g,vp as h,Q1 as i,ht as j,Khe as k,v4 as l,w4 as m,V1 as n,YM as o,xv as p,Fhe as q,Bd as r,$e as s,we as t,Pi as u,Ri as v,Qj as w,LX as x,HJ as y,dP as z};
