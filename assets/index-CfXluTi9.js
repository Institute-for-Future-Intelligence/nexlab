const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CsqmMOiI.js","assets/vendor-BFl3bqVE.js","assets/index-CZYWMsg6.js","assets/MaterialImportWrapper-BvBx4GUv.js","assets/ui-Cwo9kF9n.js","assets/firebase-DpGenoA-.js","assets/index.es-DgMabZXj.js","assets/index-GiTiZLln.js","assets/index-RduC3kfB.js","assets/purify.es-CQJ0hv7W.js","assets/SupplementalMaterials-CULzRk5N.js"])))=>i.map(i=>d[i]);
var nR=Object.defineProperty;var rR=(e,n,t)=>n in e?nR(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var Xe=(e,n,t)=>rR(e,typeof n!="symbol"?n+"":n,t);import{s as qc,r as K,R as C6,j as f,C as Rr,B as be,P as nn,T as ce,a as lt,b as tT,u as iR,c as Eo,d as _o,e as tt,f as Pi,g as fs,h as aR,i as Js,G as mt,D as Za,I as un,E as Y0,k as bo,l as G0,m as Si,n as zi,o as Ai,p as ko,q as qi,A as yu,t as xu,v as _n,w as vu,L as fg,S as no,x as nr,y as nT,z as sR,F as wu,H as Zy,J as v0,K as Hh,M as zt,N as O0,O as Cu,Q as oR,U as kd,V as E6,W as lR,X as rT,Y as uR,Z as Kn,_ as cR,$ as hs,a0 as dR,a1 as Q0,a2 as _6,a3 as K0,a4 as fR,a5 as tl,a6 as hR,a7 as Gw,a8 as pR,a9 as Zr,aa as k6,ab as VE,ac as mR,ad as kx,ae as gR,af as bR,ag as Bc,ah as Uc,ai as Pl,aj as yR,ak as ju,al as Tu,am as Ou,an as Bi,ao as dt,ap as Iu,aq as xR,ar as Nd,as as jd,at as vR,au as wR,av as SR,aw as AR,ax as CR,ay as N6,az as hg,aA as ER,aB as _R,aC as sp,aD as kR,aE as YE,aF as Bg,aG as NR,aH as jR,aI as TR,aJ as OR,aK as mu,aL as yc,aM as iT,aN as Nx,aO as IR,aP as aT,aQ as Md,aR as DR,aS as sT,aT as LR,aU as Qw,aV as RR,aW as oT,aX as Kw,aY as MR,aZ as lT,a_ as PR,a$ as GE,b0 as FR,b1 as eg,b2 as zR,b3 as qR,b4 as xn,b5 as uT,b6 as cT,b7 as dT,b8 as fT,b9 as hT,ba as pT,bb as BR,bc as UR,bd as $R,be as HR,bf as WR,bg as VR,bh as YR,bi as GR}from"./ui-Cwo9kF9n.js";import{r as QR,b as KR,g as $i,a as XR}from"./vendor-BFl3bqVE.js";import{g as ZR,G as JR,o as e3,b as t3,a as n3,s as r3,c as i3,d as a3,P as Un,e as hn,f as ms,h as Wf,m as mT,i as Dr,I as gT,j as s3,k as sh,R as So,x as Ug,_ as bn,y as $g,r as Au,u as Vf,l as Td,n as bT,p as Ra,q as Ka,t as hi,K as o3,W as j6,v as wi,Q as l3,w as lv}from"./firebase-DpGenoA-.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var A5={exports:{}},o1={},C5={exports:{}},E5={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function u3(){return QE||(QE=1,function(e){function n(H,G){var ee=H.length;H.push(G);e:for(;0<ee;){var le=ee-1>>>1,Y=H[le];if(0<i(Y,G))H[le]=G,H[ee]=Y,ee=le;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var G=H[0],ee=H.pop();if(ee!==G){H[0]=ee;e:for(var le=0,Y=H.length,te=Y>>>1;le<te;){var U=2*(le+1)-1,B=H[U],re=U+1,Z=H[re];if(0>i(B,ee))re<Y&&0>i(Z,B)?(H[le]=Z,H[re]=ee,le=re):(H[le]=B,H[U]=ee,le=U);else if(re<Y&&0>i(Z,ee))H[le]=Z,H[re]=ee,le=re;else break e}}return G}function i(H,G){var ee=H.sortIndex-G.sortIndex;return ee!==0?ee:H.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],d=[],h=1,g=null,b=3,m=!1,x=!1,y=!1,A=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function P(H){for(var G=t(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=H)r(d),G.sortIndex=G.expirationTime,n(c,G);else break;G=t(d)}}function F(H){if(y=!1,P(H),!x)if(t(c)!==null)x=!0,R||(R=!0,O());else{var G=t(d);G!==null&&X(F,G.startTime-H)}}var R=!1,k=-1,M=5,q=-1;function Q(){return A?!0:!(e.unstable_now()-q<M)}function T(){if(A=!1,R){var H=e.unstable_now();q=H;var G=!0;try{e:{x=!1,y&&(y=!1,C(k),k=-1),m=!0;var ee=b;try{t:{for(P(H),g=t(c);g!==null&&!(g.expirationTime>H&&Q());){var le=g.callback;if(typeof le=="function"){g.callback=null,b=g.priorityLevel;var Y=le(g.expirationTime<=H);if(H=e.unstable_now(),typeof Y=="function"){g.callback=Y,P(H),G=!0;break t}g===t(c)&&r(c),P(H)}else r(c);g=t(c)}if(g!==null)G=!0;else{var te=t(d);te!==null&&X(F,te.startTime-H),G=!1}}break e}finally{g=null,b=ee,m=!1}G=void 0}}finally{G?O():R=!1}}}var O;if(typeof N=="function")O=function(){N(T)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,j=L.port2;L.port1.onmessage=T,O=function(){j.postMessage(null)}}else O=function(){w(T,0)};function X(H,G){k=w(function(){H(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(H){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var ee=b;b=G;try{return H()}finally{b=ee}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ee=b;b=H;try{return G()}finally{b=ee}},e.unstable_scheduleCallback=function(H,G,ee){var le=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?le+ee:le):ee=le,H){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ee+Y,H={id:h++,callback:G,priorityLevel:H,startTime:ee,expirationTime:Y,sortIndex:-1},ee>le?(H.sortIndex=ee,n(d,H),t(c)===null&&H===t(d)&&(y?(C(k),k=-1):y=!0,X(F,ee-le))):(H.sortIndex=Y,n(c,H),x||m||(x=!0,R||(R=!0,O()))),H},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(H){var G=b;return function(){var ee=b;b=G;try{return H.apply(this,arguments)}finally{b=ee}}}}(E5)),E5}var KE;function c3(){return KE||(KE=1,C5.exports=u3()),C5.exports}var XE;function d3(){if(XE)return o1;XE=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=c3(),n=QR(),t=KR();function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var u=o,p=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(p=u.return),o=u.return;while(o)}return u.tag===3?p:null}function s(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(a(o)!==o)throw Error(r(188))}function c(o){var u=o.alternate;if(!u){if(u=a(o),u===null)throw Error(r(188));return u!==o?null:o}for(var p=o,v=u;;){var E=p.return;if(E===null)break;var I=E.alternate;if(I===null){if(v=E.return,v!==null){p=v;continue}break}if(E.child===I.child){for(I=E.child;I;){if(I===p)return l(E),o;if(I===v)return l(E),u;I=I.sibling}throw Error(r(188))}if(p.return!==v.return)p=E,v=I;else{for(var J=!1,pe=E.child;pe;){if(pe===p){J=!0,p=E,v=I;break}if(pe===v){J=!0,v=E,p=I;break}pe=pe.sibling}if(!J){for(pe=I.child;pe;){if(pe===p){J=!0,p=I,v=E;break}if(pe===v){J=!0,v=I,p=E;break}pe=pe.sibling}if(!J)throw Error(r(189))}}if(p.alternate!==v)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:u}function d(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=d(o),u!==null)return u;o=o.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),N=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function O(o){return o===null||typeof o!="object"?null:(o=T&&o[T]||o["@@iterator"],typeof o=="function"?o:null)}var L=Symbol.for("react.client.reference");function j(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===L?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case A:return"Profiler";case y:return"StrictMode";case F:return"Suspense";case R:return"SuspenseList";case q:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case m:return"Portal";case N:return(o.displayName||"Context")+".Provider";case C:return(o._context.displayName||"Context")+".Consumer";case P:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case k:return u=o.displayName||null,u!==null?u:j(o.type)||"Memo";case M:u=o._payload,o=o._init;try{return j(o(u))}catch{}}return null}var X=Array.isArray,H=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},le=[],Y=-1;function te(o){return{current:o}}function U(o){0>Y||(o.current=le[Y],le[Y]=null,Y--)}function B(o,u){Y++,le[Y]=o.current,o.current=u}var re=te(null),Z=te(null),ne=te(null),ve=te(null);function ye(o,u){switch(B(ne,u),B(Z,o),B(re,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?vE(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=vE(u),o=wE(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}U(re),B(re,o)}function Ce(){U(re),U(Z),U(ne)}function Oe(o){o.memoizedState!==null&&B(ve,o);var u=re.current,p=wE(u,o.type);u!==p&&(B(Z,o),B(re,p))}function Ie(o){Z.current===o&&(U(re),U(Z)),ve.current===o&&(U(ve),n1._currentValue=ee)}var Ue=Object.prototype.hasOwnProperty,He=e.unstable_scheduleCallback,V=e.unstable_cancelCallback,Se=e.unstable_shouldYield,se=e.unstable_requestPaint,he=e.unstable_now,de=e.unstable_getCurrentPriorityLevel,we=e.unstable_ImmediatePriority,Le=e.unstable_UserBlockingPriority,Fe=e.unstable_NormalPriority,_e=e.unstable_LowPriority,Qe=e.unstable_IdlePriority,st=e.log,nt=e.unstable_setDisableYieldValue,De=null,xe=null;function ke(o){if(typeof st=="function"&&nt(o),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(De,o)}catch{}}var Ne=Math.clz32?Math.clz32:Dt,ut=Math.log,Ze=Math.LN2;function Dt(o){return o>>>=0,o===0?32:31-(ut(o)/Ze|0)|0}var Et=256,$t=4194304;function It(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Gt(o,u,p){var v=o.pendingLanes;if(v===0)return 0;var E=0,I=o.suspendedLanes,J=o.pingedLanes;o=o.warmLanes;var pe=v&134217727;return pe!==0?(v=pe&~I,v!==0?E=It(v):(J&=pe,J!==0?E=It(J):p||(p=pe&~o,p!==0&&(E=It(p))))):(pe=v&~I,pe!==0?E=It(pe):J!==0?E=It(J):p||(p=v&~o,p!==0&&(E=It(p)))),E===0?0:u!==0&&u!==E&&(u&I)===0&&(I=E&-E,p=u&-u,I>=p||I===32&&(p&4194048)!==0)?u:E}function Jt(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function sn(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mn(){var o=Et;return Et<<=1,(Et&4194048)===0&&(Et=256),o}function Pn(){var o=$t;return $t<<=1,($t&62914560)===0&&($t=4194304),o}function Gr(o){for(var u=[],p=0;31>p;p++)u.push(o);return u}function rr(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Dn(o,u,p,v,E,I){var J=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var pe=o.entanglements,je=o.expirationTimes,Ke=o.hiddenUpdates;for(p=J&~p;0<p;){var pt=31-Ne(p),wt=1<<pt;pe[pt]=0,je[pt]=-1;var Je=Ke[pt];if(Je!==null)for(Ke[pt]=null,pt=0;pt<Je.length;pt++){var et=Je[pt];et!==null&&(et.lane&=-536870913)}p&=~wt}v!==0&&Ht(o,v,0),I!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=I&~(J&~u))}function Ht(o,u,p){o.pendingLanes|=u,o.suspendedLanes&=~u;var v=31-Ne(u);o.entangledLanes|=u,o.entanglements[v]=o.entanglements[v]|1073741824|p&4194090}function wn(o,u){var p=o.entangledLanes|=u;for(o=o.entanglements;p;){var v=31-Ne(p),E=1<<v;E&u|o[v]&u&&(o[v]|=u),p&=~E}}function xa(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function vr(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function si(){var o=G.p;return o!==0?o:(o=window.event,o===void 0?32:qE(o.type))}function va(o,u){var p=G.p;try{return G.p=o,u()}finally{G.p=p}}var Ot=Math.random().toString(36).slice(2),$n="__reactFiber$"+Ot,ir="__reactProps$"+Ot,Mr="__reactContainer$"+Ot,cr="__reactEvents$"+Ot,dr="__reactListeners$"+Ot,Bn="__reactHandles$"+Ot,gs="__reactResources$"+Ot,_r="__reactMarker$"+Ot;function Oa(o){delete o[$n],delete o[ir],delete o[cr],delete o[dr],delete o[Bn]}function Hi(o){var u=o[$n];if(u)return u;for(var p=o.parentNode;p;){if(u=p[Mr]||p[$n]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(o=EE(o);o!==null;){if(p=o[$n])return p;o=EE(o)}return u}o=p,p=o.parentNode}return null}function Wi(o){if(o=o[$n]||o[Mr]){var u=o.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return o}return null}function Xn(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(r(33))}function Ei(o){var u=o[gs];return u||(u=o[gs]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Zn(o){o[_r]=!0}var ro=new Set,To={};function Ma(o,u){Pr(o,u),Pr(o+"Capture",u)}function Pr(o,u){for(To[o]=u,o=0;o<u.length;o++)ro.add(u[o])}var ol=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$l={},qu={};function Kc(o){return Ue.call(qu,o)?!0:Ue.call($l,o)?!1:ol.test(o)?qu[o]=!0:($l[o]=!0,!1)}function Bs(o,u,p){if(Kc(u))if(p===null)o.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var v=u.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+p)}}function bs(o,u,p){if(p===null)o.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+p)}}function Pa(o,u,p,v){if(v===null)o.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(u,p,""+v)}}var ys,es;function ts(o){if(ys===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);ys=u&&u[1]||"",es=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ys+o+es}var Hl=!1;function io(o,u){if(!o||Hl)return"";Hl=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(u){var wt=function(){throw Error()};if(Object.defineProperty(wt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(wt,[])}catch(et){var Je=et}Reflect.construct(o,[],wt)}else{try{wt.call()}catch(et){Je=et}o.call(wt.prototype)}}else{try{throw Error()}catch(et){Je=et}(wt=o())&&typeof wt.catch=="function"&&wt.catch(function(){})}}catch(et){if(et&&Je&&typeof et.stack=="string")return[et.stack,Je.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=v.DetermineComponentFrameRoot(),J=I[0],pe=I[1];if(J&&pe){var je=J.split(`
`),Ke=pe.split(`
`);for(E=v=0;v<je.length&&!je[v].includes("DetermineComponentFrameRoot");)v++;for(;E<Ke.length&&!Ke[E].includes("DetermineComponentFrameRoot");)E++;if(v===je.length||E===Ke.length)for(v=je.length-1,E=Ke.length-1;1<=v&&0<=E&&je[v]!==Ke[E];)E--;for(;1<=v&&0<=E;v--,E--)if(je[v]!==Ke[E]){if(v!==1||E!==1)do if(v--,E--,0>E||je[v]!==Ke[E]){var pt=`
`+je[v].replace(" at new "," at ");return o.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",o.displayName)),pt}while(1<=v&&0<=E);break}}}finally{Hl=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?ts(p):""}function Xc(o){switch(o.tag){case 26:case 27:case 5:return ts(o.type);case 16:return ts("Lazy");case 13:return ts("Suspense");case 19:return ts("SuspenseList");case 0:case 15:return io(o.type,!1);case 11:return io(o.type.render,!1);case 1:return io(o.type,!0);case 31:return ts("Activity");default:return""}}function Fr(o){try{var u="";do u+=Xc(o),o=o.return;while(o);return u}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function ra(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ao(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ll(o){var u=ao(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),v=""+o[u];if(!o.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,I=p.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return E.call(this)},set:function(J){v=""+J,I.call(this,J)}}),Object.defineProperty(o,u,{enumerable:p.enumerable}),{getValue:function(){return v},setValue:function(J){v=""+J},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Fa(o){o._valueTracker||(o._valueTracker=ll(o))}function Wl(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var p=u.getValue(),v="";return o&&(v=ao(o)?o.checked?"true":"false":o.value),o=v,o!==p?(u.setValue(o),!0):!1}function ia(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var ul=/[\n"\\]/g;function fr(o){return o.replace(ul,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Oo(o,u,p,v,E,I,J,pe){o.name="",J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?o.type=J:o.removeAttribute("type"),u!=null?J==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+ra(u)):o.value!==""+ra(u)&&(o.value=""+ra(u)):J!=="submit"&&J!=="reset"||o.removeAttribute("value"),u!=null?Io(o,J,ra(u)):p!=null?Io(o,J,ra(p)):v!=null&&o.removeAttribute("value"),E==null&&I!=null&&(o.defaultChecked=!!I),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),pe!=null&&typeof pe!="function"&&typeof pe!="symbol"&&typeof pe!="boolean"?o.name=""+ra(pe):o.removeAttribute("name")}function Vl(o,u,p,v,E,I,J,pe){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(o.type=I),u!=null||p!=null){if(!(I!=="submit"&&I!=="reset"||u!=null))return;p=p!=null?""+ra(p):"",u=u!=null?""+ra(u):p,pe||u===o.value||(o.value=u),o.defaultValue=u}v=v??E,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=pe?o.checked:!!v,o.defaultChecked=!!v,J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(o.name=J)}function Io(o,u,p){u==="number"&&ia(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function Us(o,u,p,v){if(o=o.options,u){u={};for(var E=0;E<p.length;E++)u["$"+p[E]]=!0;for(p=0;p<o.length;p++)E=u.hasOwnProperty("$"+o[p].value),o[p].selected!==E&&(o[p].selected=E),E&&v&&(o[p].defaultSelected=!0)}else{for(p=""+ra(p),u=null,E=0;E<o.length;E++){if(o[E].value===p){o[E].selected=!0,v&&(o[E].defaultSelected=!0);return}u!==null||o[E].disabled||(u=o[E])}u!==null&&(u.selected=!0)}}function Bu(o,u,p){if(u!=null&&(u=""+ra(u),u!==o.value&&(o.value=u),p==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=p!=null?""+ra(p):""}function $s(o,u,p,v){if(u==null){if(v!=null){if(p!=null)throw Error(r(92));if(X(v)){if(1<v.length)throw Error(r(93));v=v[0]}p=v}p==null&&(p=""),u=p}p=ra(u),o.defaultValue=p,v=o.textContent,v===p&&v!==""&&v!==null&&(o.value=v)}function Vi(o,u){if(u){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=u;return}}o.textContent=u}var ns=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xs(o,u,p){var v=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":v?o.setProperty(u,p):typeof p!="number"||p===0||ns.has(u)?u==="float"?o.cssFloat=p:o[u]=(""+p).trim():o[u]=p+"px"}function Uu(o,u,p){if(u!=null&&typeof u!="object")throw Error(r(62));if(o=o.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||u!=null&&u.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var E in u)v=u[E],u.hasOwnProperty(E)&&p[E]!==v&&xs(o,E,v)}else for(var I in u)u.hasOwnProperty(I)&&xs(o,I,u[I])}function za(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ws(o){return cl.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var dl=null;function oi(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Jr=null,vs=null;function Xt(o){var u=Wi(o);if(u&&(o=u.stateNode)){var p=o[ir]||null;e:switch(o=u.stateNode,u.type){case"input":if(Oo(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+fr(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var v=p[u];if(v!==o&&v.form===o.form){var E=v[ir]||null;if(!E)throw Error(r(90));Oo(v,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(u=0;u<p.length;u++)v=p[u],v.form===o.form&&Wl(v)}break e;case"textarea":Bu(o,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&Us(o,!!p.multiple,u,!1)}}}var so=!1;function fl(o,u,p){if(so)return o(u,p);so=!0;try{var v=o(u);return v}finally{if(so=!1,(Jr!==null||vs!==null)&&(Kb(),Jr&&(u=Jr,o=vs,vs=Jr=null,Xt(u),o)))for(u=0;u<o.length;u++)Xt(o[u])}}function _i(o,u){var p=o.stateNode;if(p===null)return null;var v=p[ir]||null;if(v===null)return null;p=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,u,typeof p));return p}var qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Do=!1;if(qa)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){Do=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{Do=!1}var Ia=null,Ua=null,Lo=null;function hl(){if(Lo)return Lo;var o,u=Ua,p=u.length,v,E="value"in Ia?Ia.value:Ia.textContent,I=E.length;for(o=0;o<p&&u[o]===E[o];o++);var J=p-o;for(v=1;v<=J&&u[p-v]===E[I-v];v++);return Lo=E.slice(o,1<v?1-v:void 0)}function oo(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function ws(){return!0}function $(){return!1}function me(o){function u(p,v,E,I,J){this._reactName=p,this._targetInst=E,this.type=v,this.nativeEvent=I,this.target=J,this.currentTarget=null;for(var pe in o)o.hasOwnProperty(pe)&&(p=o[pe],this[pe]=p?p(I):I[pe]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?ws:$,this.isPropagationStopped=$,this}return h(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),u}var Te={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},at=me(Te),Qt=h({},Te,{view:0,detail:0}),Ft=me(Qt),kn,Sn,hr,pn=h({},Qt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==hr&&(hr&&o.type==="mousemove"?(kn=o.screenX-hr.screenX,Sn=o.screenY-hr.screenY):Sn=kn=0,hr=o),kn)},movementY:function(o){return"movementY"in o?o.movementY:Sn}}),kr=me(pn),wa=h({},pn,{dataTransfer:0}),wr=me(wa),Sr=h({},Qt,{relatedTarget:0}),Qr=me(Sr),$a=h({},Te,{animationName:0,elapsedTime:0,pseudoElement:0}),Vs=me($a),Ss=h({},Te,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Yd=me(Ss),pl=h({},Te,{data:0}),Ro=me(pl),kp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ph(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=hh[o])?!!u[o]:!1}function Qd(){return ph}var Sm=h({},Qt,{key:function(o){if(o.key){var u=kp[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=oo(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Gd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qd,charCode:function(o){return o.type==="keypress"?oo(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?oo(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Kd=me(Sm),Zc=h({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xd=me(Zc),$u=h({},Qt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qd}),mh=me($u),D=h({},Te,{propertyName:0,elapsedTime:0,pseudoElement:0}),ae=me(D),Ee=h({},pn,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Re=me(Ee),We=h({},Te,{newState:0,oldState:0}),ct=me(We),St=[9,13,27,32],Nt=qa&&"CompositionEvent"in window,qt=null;qa&&"documentMode"in document&&(qt=document.documentMode);var yn=qa&&"TextEvent"in window&&!qt,dn=qa&&(!Nt||qt&&8<qt&&11>=qt),Fn=" ",ei=!1;function li(o,u){switch(o){case"keyup":return St.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ki(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ni=!1;function Sa(o,u){switch(o){case"compositionend":return ki(u);case"keypress":return u.which!==32?null:(ei=!0,Fn);case"textInput":return o=u.data,o===Fn&&ei?null:o;default:return null}}function Mo(o,u){if(Ni)return o==="compositionend"||!Nt&&li(o,u)?(o=hl(),Lo=Ua=Ia=null,Ni=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return dn&&u.locale!=="ko"?null:u.data;default:return null}}var Ys={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Po(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!Ys[o.type]:u==="textarea"}function gh(o,u,p,v){Jr?vs?vs.push(v):vs=[v]:Jr=v,u=ny(u,"onChange"),0<u.length&&(p=new at("onChange","change",null,p,v),o.push({event:p,listeners:u}))}var Yl=null,Gl=null;function Zd(o){mE(o,0)}function Hu(o){var u=Xn(o);if(Wl(u))return o}function Jd(o,u){if(o==="change")return u}var Jc=!1;if(qa){var aa;if(qa){var Wu="oninput"in document;if(!Wu){var ed=document.createElement("div");ed.setAttribute("oninput","return;"),Wu=typeof ed.oninput=="function"}aa=Wu}else aa=!1;Jc=aa&&(!document.documentMode||9<document.documentMode)}function td(){Yl&&(Yl.detachEvent("onpropertychange",ef),Gl=Yl=null)}function ef(o){if(o.propertyName==="value"&&Hu(Gl)){var u=[];gh(u,Gl,o,oi(o)),fl(Zd,u)}}function As(o,u,p){o==="focusin"?(td(),Yl=u,Gl=p,Yl.attachEvent("onpropertychange",ef)):o==="focusout"&&td()}function Am(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Hu(Gl)}function bh(o,u){if(o==="click")return Hu(u)}function Np(o,u){if(o==="input"||o==="change")return Hu(u)}function lo(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Aa=typeof Object.is=="function"?Object.is:lo;function Vu(o,u){if(Aa(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var p=Object.keys(o),v=Object.keys(u);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var E=p[v];if(!Ue.call(u,E)||!Aa(o[E],u[E]))return!1}return!0}function yh(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ql(o,u){var p=yh(o);o=0;for(var v;p;){if(p.nodeType===3){if(v=o+p.textContent.length,o<=u&&v>=u)return{node:p,offset:u-o};o=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=yh(p)}}function Yu(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?Yu(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function rs(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=ia(o.document);u instanceof o.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)o=u.contentWindow;else break;u=ia(o.document)}return u}function Da(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var Gu=qa&&"documentMode"in document&&11>=document.documentMode,Cs=null,Fo=null,ml=null,zo=!1;function mi(o,u,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;zo||Cs==null||Cs!==ia(v)||(v=Cs,"selectionStart"in v&&Da(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),ml&&Vu(ml,v)||(ml=v,v=ny(Fo,"onSelect"),0<v.length&&(u=new at("onSelect","select",null,u,p),o.push({event:u,listeners:v}),u.target=Cs)))}function qo(o,u){var p={};return p[o.toLowerCase()]=u.toLowerCase(),p["Webkit"+o]="webkit"+u,p["Moz"+o]="moz"+u,p}var Yi={animationend:qo("Animation","AnimationEnd"),animationiteration:qo("Animation","AnimationIteration"),animationstart:qo("Animation","AnimationStart"),transitionrun:qo("Transition","TransitionRun"),transitionstart:qo("Transition","TransitionStart"),transitioncancel:qo("Transition","TransitionCancel"),transitionend:qo("Transition","TransitionEnd")},Es={},nd={};qa&&(nd=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function gl(o){if(Es[o])return Es[o];if(!Yi[o])return o;var u=Yi[o],p;for(p in u)if(u.hasOwnProperty(p)&&p in nd)return Es[o]=u[p];return o}var tf=gl("animationend"),Qu=gl("animationiteration"),Ku=gl("animationstart"),Xu=gl("transitionrun"),rd=gl("transitionstart"),nf=gl("transitioncancel"),Zu=gl("transitionend"),Kl=new Map,id="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");id.push("scrollEnd");function gi(o,u){Kl.set(o,u),Ma(u,[o])}var Gs=new WeakMap;function Tn(o,u){if(typeof o=="object"&&o!==null){var p=Gs.get(o);return p!==void 0?p:(u={value:o,source:u,stack:Fr(u)},Gs.set(o,u),u)}return{value:o,source:u,stack:Fr(u)}}var On=[],zr=0,ji=0;function uo(){for(var o=zr,u=ji=zr=0;u<o;){var p=On[u];On[u++]=null;var v=On[u];On[u++]=null;var E=On[u];On[u++]=null;var I=On[u];if(On[u++]=null,v!==null&&E!==null){var J=v.pending;J===null?E.next=E:(E.next=J.next,J.next=E),v.pending=E}I!==0&&jp(p,E,I)}}function Ju(o,u,p,v){On[zr++]=o,On[zr++]=u,On[zr++]=p,On[zr++]=v,ji|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function ec(o,u,p,v){return Ju(o,u,p,v),ad(o)}function Xl(o,u){return Ju(o,null,null,u),ad(o)}function jp(o,u,p){o.lanes|=p;var v=o.alternate;v!==null&&(v.lanes|=p);for(var E=!1,I=o.return;I!==null;)I.childLanes|=p,v=I.alternate,v!==null&&(v.childLanes|=p),I.tag===22&&(o=I.stateNode,o===null||o._visibility&1||(E=!0)),o=I,I=I.return;return o.tag===3?(I=o.stateNode,E&&u!==null&&(E=31-Ne(p),o=I.hiddenUpdates,v=o[E],v===null?o[E]=[u]:v.push(u),u.lane=p|536870912),I):null}function ad(o){if(50<Gm)throw Gm=0,Y2=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var Ca={};function co(o,u,p,v){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ha(o,u,p,v){return new co(o,u,p,v)}function rf(o){return o=o.prototype,!(!o||!o.isReactComponent)}function bl(o,u){var p=o.alternate;return p===null?(p=Ha(o.tag,u,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=u,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,u=o.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function xh(o,u){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,u=p.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function sd(o,u,p,v,E,I){var J=0;if(v=o,typeof o=="function")rf(o)&&(J=1);else if(typeof o=="string")J=$9(o,p,re.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case q:return o=Ha(31,p,u,E),o.elementType=q,o.lanes=I,o;case x:return Zl(p.children,E,I,u);case y:J=8,E|=24;break;case A:return o=Ha(12,p,u,E|2),o.elementType=A,o.lanes=I,o;case F:return o=Ha(13,p,u,E),o.elementType=F,o.lanes=I,o;case R:return o=Ha(19,p,u,E),o.elementType=R,o.lanes=I,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case w:case N:J=10;break e;case C:J=9;break e;case P:J=11;break e;case k:J=14;break e;case M:J=16,v=null;break e}J=29,p=Error(r(130,o===null?"null":typeof o,"")),v=null}return u=Ha(J,p,u,E),u.elementType=o,u.type=v,u.lanes=I,u}function Zl(o,u,p,v){return o=Ha(7,o,v,u),o.lanes=p,o}function Tp(o,u,p){return o=Ha(6,o,null,u),o.lanes=p,o}function vh(o,u,p){return u=Ha(4,o.children!==null?o.children:[],o.key,u),u.lanes=p,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var tc=[],Jl=0,af=null,Op=0,fo=[],Qs=0,od=null,eu=1,tu="";function ld(o,u){tc[Jl++]=Op,tc[Jl++]=af,af=o,Op=u}function vb(o,u,p){fo[Qs++]=eu,fo[Qs++]=tu,fo[Qs++]=od,od=o;var v=eu;o=tu;var E=32-Ne(v)-1;v&=~(1<<E),p+=1;var I=32-Ne(u)+E;if(30<I){var J=E-E%5;I=(v&(1<<J)-1).toString(32),v>>=J,E-=J,eu=1<<32-Ne(u)+E|p<<E|v,tu=I+o}else eu=1<<I|p<<E|v,tu=o}function wh(o){o.return!==null&&(ld(o,1),vb(o,1,0))}function Sh(o){for(;o===af;)af=tc[--Jl],tc[Jl]=null,Op=tc[--Jl],tc[Jl]=null;for(;o===od;)od=fo[--Qs],fo[Qs]=null,tu=fo[--Qs],fo[Qs]=null,eu=fo[--Qs],fo[Qs]=null}var sa=null,bi=null,Jn=!1,nc=null,yl=!1,Cm=Error(r(519));function ud(o){var u=Error(r(418,""));throw sf(Tn(u,o)),Cm}function wb(o){var u=o.stateNode,p=o.type,v=o.memoizedProps;switch(u[$n]=o,u[ir]=v,p){case"dialog":qn("cancel",u),qn("close",u);break;case"iframe":case"object":case"embed":qn("load",u);break;case"video":case"audio":for(p=0;p<Km.length;p++)qn(Km[p],u);break;case"source":qn("error",u);break;case"img":case"image":case"link":qn("error",u),qn("load",u);break;case"details":qn("toggle",u);break;case"input":qn("invalid",u),Vl(u,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),Fa(u);break;case"select":qn("invalid",u);break;case"textarea":qn("invalid",u),$s(u,v.value,v.defaultValue,v.children),Fa(u)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||v.suppressHydrationWarning===!0||xE(u.textContent,p)?(v.popover!=null&&(qn("beforetoggle",u),qn("toggle",u)),v.onScroll!=null&&qn("scroll",u),v.onScrollEnd!=null&&qn("scrollend",u),v.onClick!=null&&(u.onclick=ry),u=!0):u=!1,u||ud(o)}function nu(o){for(sa=o.return;sa;)switch(sa.tag){case 5:case 13:yl=!1;return;case 27:case 3:yl=!0;return;default:sa=sa.return}}function is(o){if(o!==sa)return!1;if(!Jn)return nu(o),Jn=!0,!1;var u=o.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||u5(o.type,o.memoizedProps)),p=!p),p&&bi&&ud(o),nu(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8)if(p=o.data,p==="/$"){if(u===0){bi=cu(o.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++;o=o.nextSibling}bi=null}}else u===27?(u=bi,Af(o.type)?(o=h5,h5=null,bi=o):bi=u):bi=sa?cu(o.stateNode.nextSibling):null;return!0}function Ks(){bi=sa=null,Jn=!1}function Sb(){var o=nc;return o!==null&&(mo===null?mo=o:mo.push.apply(mo,o),nc=null),o}function sf(o){nc===null?nc=[o]:nc.push(o)}var xl=te(null),Ea=null,ru=null;function rc(o,u,p){B(xl,u._currentValue),u._currentValue=p}function vl(o){o._currentValue=xl.current,U(xl)}function Ip(o,u,p){for(;o!==null;){var v=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),o===p)break;o=o.return}}function Dp(o,u,p,v){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var I=E.dependencies;if(I!==null){var J=E.child;I=I.firstContext;e:for(;I!==null;){var pe=I;I=E;for(var je=0;je<u.length;je++)if(pe.context===u[je]){I.lanes|=p,pe=I.alternate,pe!==null&&(pe.lanes|=p),Ip(I.return,p,o),v||(J=null);break e}I=pe.next}}else if(E.tag===18){if(J=E.return,J===null)throw Error(r(341));J.lanes|=p,I=J.alternate,I!==null&&(I.lanes|=p),Ip(J,p,o),J=null}else J=E.child;if(J!==null)J.return=E;else for(J=E;J!==null;){if(J===o){J=null;break}if(E=J.sibling,E!==null){E.return=J.return,J=E;break}J=J.return}E=J}}function of(o,u,p,v){o=null;for(var E=u,I=!1;E!==null;){if(!I){if((E.flags&524288)!==0)I=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var J=E.alternate;if(J===null)throw Error(r(387));if(J=J.memoizedProps,J!==null){var pe=E.type;Aa(E.pendingProps.value,J.value)||(o!==null?o.push(pe):o=[pe])}}else if(E===ve.current){if(J=E.alternate,J===null)throw Error(r(387));J.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(n1):o=[n1])}E=E.return}o!==null&&Dp(u,o,p,v),u.flags|=262144}function Lp(o){for(o=o.firstContext;o!==null;){if(!Aa(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function wl(o){Ea=o,ru=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function oa(o){return Rp(Ea,o)}function ic(o,u){return Ea===null&&wl(o),Rp(o,u)}function Rp(o,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},ru===null){if(o===null)throw Error(r(308));ru=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else ru=ru.next=u;return p}var y2=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(p,v){o.push(v)}};this.abort=function(){u.aborted=!0,o.forEach(function(p){return p()})}},Ab=e.unstable_scheduleCallback,x2=e.unstable_NormalPriority,la={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Em(){return{controller:new y2,data:new Map,refCount:0}}function Ah(o){o.refCount--,o.refCount===0&&Ab(x2,function(){o.controller.abort()})}var Ch=null,_m=0,cd=0,iu=null;function v2(o,u){if(Ch===null){var p=Ch=[];_m=0,cd=e5(),iu={status:"pending",value:void 0,then:function(v){p.push(v)}}}return _m++,u.then(Cb,Cb),u}function Cb(){if(--_m===0&&Ch!==null){iu!==null&&(iu.status="fulfilled");var o=Ch;Ch=null,cd=0,iu=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function Eb(o,u){var p=[],v={status:"pending",value:null,reason:null,then:function(E){p.push(E)}};return o.then(function(){v.status="fulfilled",v.value=u;for(var E=0;E<p.length;E++)(0,p[E])(u)},function(E){for(v.status="rejected",v.reason=E,E=0;E<p.length;E++)(0,p[E])(void 0)}),v}var S=H.S;H.S=function(o,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&v2(o,u),S!==null&&S(o,u)};var _=te(null);function z(){var o=_.current;return o!==null?o:ni.pooledCache}function W(o,u){u===null?B(_,_.current):B(_,u.pool)}function ie(){var o=z();return o===null?null:{parent:la._currentValue,pool:o}}var oe=Error(r(460)),ue=Error(r(474)),fe=Error(r(542)),ge={then:function(){}};function Ae(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Me(){}function Ge(o,u,p){switch(p=o[p],p===void 0?o.push(u):p!==u&&(u.then(Me,Me),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,yt(o),o;default:if(typeof u.status=="string")u.then(Me,Me);else{if(o=ni,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(v){if(u.status==="pending"){var E=u;E.status="fulfilled",E.value=v}},function(v){if(u.status==="pending"){var E=u;E.status="rejected",E.reason=v}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,yt(o),o}throw Ve=u,oe}}var Ve=null;function Be(){if(Ve===null)throw Error(r(459));var o=Ve;return Ve=null,o}function yt(o){if(o===oe||o===fe)throw Error(r(483))}var rt=!1;function Pe(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qe(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ht(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function xt(o,u,p){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(jr&2)!==0){var E=v.pending;return E===null?u.next=u:(u.next=E.next,E.next=u),v.pending=u,u=ad(o),jp(o,null,p),u}return Ju(o,v,u,p),ad(o)}function gt(o,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var v=u.lanes;v&=o.pendingLanes,p|=v,u.lanes=p,wn(o,p)}}function jt(o,u){var p=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var E=null,I=null;if(p=p.firstBaseUpdate,p!==null){do{var J={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};I===null?E=I=J:I=I.next=J,p=p.next}while(p!==null);I===null?E=I=u:I=I.next=u}else E=I=u;p={baseState:v.baseState,firstBaseUpdate:E,lastBaseUpdate:I,shared:v.shared,callbacks:v.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=u:o.next=u,p.lastBaseUpdate=u}var _t=!1;function Wt(){if(_t){var o=iu;if(o!==null)throw o}}function kt(o,u,p,v){_t=!1;var E=o.updateQueue;rt=!1;var I=E.firstBaseUpdate,J=E.lastBaseUpdate,pe=E.shared.pending;if(pe!==null){E.shared.pending=null;var je=pe,Ke=je.next;je.next=null,J===null?I=Ke:J.next=Ke,J=je;var pt=o.alternate;pt!==null&&(pt=pt.updateQueue,pe=pt.lastBaseUpdate,pe!==J&&(pe===null?pt.firstBaseUpdate=Ke:pe.next=Ke,pt.lastBaseUpdate=je))}if(I!==null){var wt=E.baseState;J=0,pt=Ke=je=null,pe=I;do{var Je=pe.lane&-536870913,et=Je!==pe.lane;if(et?(Yn&Je)===Je:(v&Je)===Je){Je!==0&&Je===cd&&(_t=!0),pt!==null&&(pt=pt.next={lane:0,tag:pe.tag,payload:pe.payload,callback:null,next:null});e:{var cn=o,en=pe;Je=u;var Br=p;switch(en.tag){case 1:if(cn=en.payload,typeof cn=="function"){wt=cn.call(Br,wt,Je);break e}wt=cn;break e;case 3:cn.flags=cn.flags&-65537|128;case 0:if(cn=en.payload,Je=typeof cn=="function"?cn.call(Br,wt,Je):cn,Je==null)break e;wt=h({},wt,Je);break e;case 2:rt=!0}}Je=pe.callback,Je!==null&&(o.flags|=64,et&&(o.flags|=8192),et=E.callbacks,et===null?E.callbacks=[Je]:et.push(Je))}else et={lane:Je,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},pt===null?(Ke=pt=et,je=wt):pt=pt.next=et,J|=Je;if(pe=pe.next,pe===null){if(pe=E.shared.pending,pe===null)break;et=pe,pe=et.next,et.next=null,E.lastBaseUpdate=et,E.shared.pending=null}}while(!0);pt===null&&(je=wt),E.baseState=je,E.firstBaseUpdate=Ke,E.lastBaseUpdate=pt,I===null&&(E.shared.lanes=0),xf|=J,o.lanes=J,o.memoizedState=wt}}function Wn(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function ar(o,u){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)Wn(p[o],u)}var jn=te(null),Nn=te(0);function Ar(o,u){o=vd,B(Nn,o),B(jn,u),vd=o|u.baseLanes}function sr(){B(Nn,vd),B(jn,jn.current)}function mn(){vd=Nn.current,U(jn),U(Nn)}var Nr=0,Kt=null,on=null,Hn=null,Vn=!1,_a=!1,ua=!1,Ti=0,Oi=0,Gi=null,ho=0;function or(){throw Error(r(321))}function Qi(o,u){if(u===null)return!1;for(var p=0;p<u.length&&p<o.length;p++)if(!Aa(o[p],u[p]))return!1;return!0}function Bo(o,u,p,v,E,I){return Nr=I,Kt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,H.H=o===null||o.memoizedState===null?JA:eC,ua=!1,I=p(v,E),ua=!1,_a&&(I=dd(u,p,v,E)),ac(o),I}function ac(o){H.H=Pb;var u=on!==null&&on.next!==null;if(Nr=0,Hn=on=Kt=null,Vn=!1,Oi=0,Gi=null,u)throw Error(r(300));o===null||Wa||(o=o.dependencies,o!==null&&Lp(o)&&(Wa=!0))}function dd(o,u,p,v){Kt=o;var E=0;do{if(_a&&(Gi=null),Oi=0,_a=!1,25<=E)throw Error(r(301));if(E+=1,Hn=on=null,o.updateQueue!=null){var I=o.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}H.H=e9,I=u(p,v)}while(_a);return I}function sc(){var o=H.H,u=o.useState()[0];return u=typeof u.then=="function"?oc(u):u,o=o.useState()[0],(on!==null?on.memoizedState:null)!==o&&(Kt.flags|=1024),u}function ti(){var o=Ti!==0;return Ti=0,o}function Eh(o,u,p){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~p}function Mp(o){if(Vn){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Vn=!1}Nr=0,Hn=on=Kt=null,_a=!1,Oi=Ti=0,Gi=null}function as(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?Kt.memoizedState=Hn=o:Hn=Hn.next=o,Hn}function ui(){if(on===null){var o=Kt.alternate;o=o!==null?o.memoizedState:null}else o=on.next;var u=Hn===null?Kt.memoizedState:Hn.next;if(u!==null)Hn=u,on=o;else{if(o===null)throw Kt.alternate===null?Error(r(467)):Error(r(310));on=o,o={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},Hn===null?Kt.memoizedState=Hn=o:Hn=Hn.next=o}return Hn}function fd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oc(o){var u=Oi;return Oi+=1,Gi===null&&(Gi=[]),o=Ge(Gi,o,u),u=Kt,(Hn===null?u.memoizedState:Hn.next)===null&&(u=u.alternate,H.H=u===null||u.memoizedState===null?JA:eC),o}function _s(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return oc(o);if(o.$$typeof===N)return oa(o)}throw Error(r(438,String(o)))}function lc(o){var u=null,p=Kt.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var v=Kt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(u={data:v.data.map(function(E){return E.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=fd(),Kt.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(o),v=0;v<o;v++)p[v]=Q;return u.index++,p}function ks(o,u){return typeof u=="function"?u(o):u}function _h(o){var u=ui();return lf(u,on,o)}function lf(o,u,p){var v=o.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=p;var E=o.baseQueue,I=v.pending;if(I!==null){if(E!==null){var J=E.next;E.next=I.next,I.next=J}u.baseQueue=E=I,v.pending=null}if(I=o.baseState,E===null)o.memoizedState=I;else{u=E.next;var pe=J=null,je=null,Ke=u,pt=!1;do{var wt=Ke.lane&-536870913;if(wt!==Ke.lane?(Yn&wt)===wt:(Nr&wt)===wt){var Je=Ke.revertLane;if(Je===0)je!==null&&(je=je.next={lane:0,revertLane:0,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null}),wt===cd&&(pt=!0);else if((Nr&Je)===Je){Ke=Ke.next,Je===cd&&(pt=!0);continue}else wt={lane:0,revertLane:Ke.revertLane,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null},je===null?(pe=je=wt,J=I):je=je.next=wt,Kt.lanes|=Je,xf|=Je;wt=Ke.action,ua&&p(I,wt),I=Ke.hasEagerState?Ke.eagerState:p(I,wt)}else Je={lane:wt,revertLane:Ke.revertLane,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null},je===null?(pe=je=Je,J=I):je=je.next=Je,Kt.lanes|=wt,xf|=wt;Ke=Ke.next}while(Ke!==null&&Ke!==u);if(je===null?J=I:je.next=pe,!Aa(I,o.memoizedState)&&(Wa=!0,pt&&(p=iu,p!==null)))throw p;o.memoizedState=I,o.baseState=J,o.baseQueue=je,v.lastRenderedState=I}return E===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function Pp(o){var u=ui(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var v=p.dispatch,E=p.pending,I=u.memoizedState;if(E!==null){p.pending=null;var J=E=E.next;do I=o(I,J.action),J=J.next;while(J!==E);Aa(I,u.memoizedState)||(Wa=!0),u.memoizedState=I,u.baseQueue===null&&(u.baseState=I),p.lastRenderedState=I}return[I,v]}function kh(o,u,p){var v=Kt,E=ui(),I=Jn;if(I){if(p===void 0)throw Error(r(407));p=p()}else p=u();var J=!Aa((on||E).memoizedState,p);J&&(E.memoizedState=p,Wa=!0),E=E.queue;var pe=uf.bind(null,v,E,o);if(ff(2048,8,pe,[o]),E.getSnapshot!==u||J||Hn!==null&&Hn.memoizedState.tag&1){if(v.flags|=2048,su(9,Oh(),Nh.bind(null,v,E,p,u),null),ni===null)throw Error(r(349));I||(Nr&124)!==0||Fp(v,u,p)}return p}function Fp(o,u,p){o.flags|=16384,o={getSnapshot:u,value:p},u=Kt.updateQueue,u===null?(u=fd(),Kt.updateQueue=u,u.stores=[o]):(p=u.stores,p===null?u.stores=[o]:p.push(o))}function Nh(o,u,p,v){u.value=p,u.getSnapshot=v,_b(u)&&kb(o)}function uf(o,u,p){return p(function(){_b(u)&&kb(o)})}function _b(o){var u=o.getSnapshot;o=o.value;try{var p=u();return!Aa(o,p)}catch{return!0}}function kb(o){var u=Xl(o,2);u!==null&&Yo(u,o,2)}function jh(o){var u=as();if(typeof o=="function"){var p=o;if(o=p(),ua){ke(!0);try{p()}finally{ke(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:o},u}function au(o,u,p,v){return o.baseState=p,lf(o,on,typeof v=="function"?v:ks)}function w2(o,u,p,v,E){if(Mb(o))throw Error(r(485));if(o=u.action,o!==null){var I={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){I.listeners.push(J)}};H.T!==null?p(!0):I.isTransition=!1,v(I),p=u.pending,p===null?(I.next=u.pending=I,Nb(u,I)):(I.next=p.next,u.pending=p.next=I)}}function Nb(o,u){var p=u.action,v=u.payload,E=o.state;if(u.isTransition){var I=H.T,J={};H.T=J;try{var pe=p(E,v),je=H.S;je!==null&&je(J,pe),jb(o,u,pe)}catch(Ke){cf(o,u,Ke)}finally{H.T=I}}else try{I=p(E,v),jb(o,u,I)}catch(Ke){cf(o,u,Ke)}}function jb(o,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){km(o,u,v)},function(v){return cf(o,u,v)}):km(o,u,p)}function km(o,u,p){u.status="fulfilled",u.value=p,Nm(u),o.state=p,u=o.pending,u!==null&&(p=u.next,p===u?o.pending=null:(p=p.next,u.next=p,Nb(o,p)))}function cf(o,u,p){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do u.status="rejected",u.reason=p,Nm(u),u=u.next;while(u!==v)}o.action=null}function Nm(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function jm(o,u){return u}function Th(o,u){if(Jn){var p=ni.formState;if(p!==null){e:{var v=Kt;if(Jn){if(bi){t:{for(var E=bi,I=yl;E.nodeType!==8;){if(!I){E=null;break t}if(E=cu(E.nextSibling),E===null){E=null;break t}}I=E.data,E=I==="F!"||I==="F"?E:null}if(E){bi=cu(E.nextSibling),v=E.data==="F!";break e}}ud(v)}v=!1}v&&(u=p[0])}}return p=as(),p.memoizedState=p.baseState=u,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jm,lastRenderedState:u},p.queue=v,p=KA.bind(null,Kt,v),v.dispatch=p,v=jh(!1),I=S2.bind(null,Kt,!1,v.queue),v=as(),E={state:u,dispatch:null,action:o,pending:null},v.queue=E,p=w2.bind(null,Kt,E,I,p),E.dispatch=p,v.memoizedState=o,[u,p,!1]}function zp(o){var u=ui();return df(u,on,o)}function df(o,u,p){if(u=lf(o,u,jm)[0],o=_h(ks)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var v=oc(u)}catch(J){throw J===oe?fe:J}else v=u;u=ui();var E=u.queue,I=E.dispatch;return p!==u.memoizedState&&(Kt.flags|=2048,su(9,Oh(),Tb.bind(null,E,p),null)),[v,I,o]}function Tb(o,u){o.action=u}function Ob(o){var u=ui(),p=on;if(p!==null)return df(u,p,o);ui(),u=u.memoizedState,p=ui();var v=p.queue.dispatch;return p.memoizedState=o,[u,v,!1]}function su(o,u,p,v){return o={tag:o,create:p,deps:v,inst:u,next:null},u=Kt.updateQueue,u===null&&(u=fd(),Kt.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=o.next=o:(v=p.next,p.next=o,o.next=v,u.lastEffect=o),o}function Oh(){return{destroy:void 0,resource:void 0}}function qp(){return ui().memoizedState}function Uo(o,u,p,v){var E=as();v=v===void 0?null:v,Kt.flags|=o,E.memoizedState=su(1|u,Oh(),p,v)}function ff(o,u,p,v){var E=ui();v=v===void 0?null:v;var I=E.memoizedState.inst;on!==null&&v!==null&&Qi(v,on.memoizedState.deps)?E.memoizedState=su(u,I,p,v):(Kt.flags|=o,E.memoizedState=su(1|u,I,p,v))}function Tm(o,u){Uo(8390656,8,o,u)}function Ib(o,u){ff(2048,8,o,u)}function Om(o,u){return ff(4,2,o,u)}function hd(o,u){return ff(4,4,o,u)}function Db(o,u){if(typeof u=="function"){o=o();var p=u(o);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function Im(o,u,p){p=p!=null?p.concat([o]):null,ff(4,4,Db.bind(null,u,o),p)}function Dm(){}function Lm(o,u){var p=ui();u=u===void 0?null:u;var v=p.memoizedState;return u!==null&&Qi(u,v[1])?v[0]:(p.memoizedState=[o,u],o)}function Lb(o,u){var p=ui();u=u===void 0?null:u;var v=p.memoizedState;if(u!==null&&Qi(u,v[1]))return v[0];if(v=o(),ua){ke(!0);try{o()}finally{ke(!1)}}return p.memoizedState=[v,u],v}function pd(o,u,p){return p===void 0||(Nr&1073741824)!==0?o.memoizedState=u:(o.memoizedState=p,o=VC(),Kt.lanes|=o,xf|=o,p)}function Bp(o,u,p,v){return Aa(p,u)?p:jn.current!==null?(o=pd(o,p,v),Aa(o,u)||(Wa=!0),o):(Nr&42)===0?(Wa=!0,o.memoizedState=p):(o=VC(),Kt.lanes|=o,xf|=o,u)}function Ih(o,u,p,v,E){var I=G.p;G.p=I!==0&&8>I?I:8;var J=H.T,pe={};H.T=pe,S2(o,!1,u,p);try{var je=E(),Ke=H.S;if(Ke!==null&&Ke(pe,je),je!==null&&typeof je=="object"&&typeof je.then=="function"){var pt=Eb(je,v);Fm(o,u,pt,Vo(o))}else Fm(o,u,v,Vo(o))}catch(wt){Fm(o,u,{then:function(){},status:"rejected",reason:wt},Vo())}finally{G.p=I,H.T=J}}function ou(){}function Sl(o,u,p,v){if(o.tag!==5)throw Error(r(476));var E=lu(o).queue;Ih(o,E,u,ee,p===null?ou:function(){return Dh(o),p(v)})}function lu(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:ee},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:p},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function Dh(o){var u=lu(o).next.queue;Fm(o,u,{},Vo())}function Lh(){return oa(n1)}function Rm(){return ui().memoizedState}function Rb(){return ui().memoizedState}function Mm(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var p=Vo();o=ht(p);var v=xt(u,o,p);v!==null&&(Yo(v,u,p),gt(v,u,p)),u={cache:Em()},o.payload=u;return}u=u.return}}function Pm(o,u,p){var v=Vo();p={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},Mb(o)?XA(u,p):(p=ec(o,u,p,v),p!==null&&(Yo(p,o,v),ZA(p,u,v)))}function KA(o,u,p){var v=Vo();Fm(o,u,p,v)}function Fm(o,u,p,v){var E={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(Mb(o))XA(u,E);else{var I=o.alternate;if(o.lanes===0&&(I===null||I.lanes===0)&&(I=u.lastRenderedReducer,I!==null))try{var J=u.lastRenderedState,pe=I(J,p);if(E.hasEagerState=!0,E.eagerState=pe,Aa(pe,J))return Ju(o,u,E,0),ni===null&&uo(),!1}catch{}finally{}if(p=ec(o,u,E,v),p!==null)return Yo(p,o,v),ZA(p,u,v),!0}return!1}function S2(o,u,p,v){if(v={lane:2,revertLane:e5(),action:v,hasEagerState:!1,eagerState:null,next:null},Mb(o)){if(u)throw Error(r(479))}else u=ec(o,p,v,2),u!==null&&Yo(u,o,2)}function Mb(o){var u=o.alternate;return o===Kt||u!==null&&u===Kt}function XA(o,u){_a=Vn=!0;var p=o.pending;p===null?u.next=u:(u.next=p.next,p.next=u),o.pending=u}function ZA(o,u,p){if((p&4194048)!==0){var v=u.lanes;v&=o.pendingLanes,p|=v,u.lanes=p,wn(o,p)}}var Pb={readContext:oa,use:_s,useCallback:or,useContext:or,useEffect:or,useImperativeHandle:or,useLayoutEffect:or,useInsertionEffect:or,useMemo:or,useReducer:or,useRef:or,useState:or,useDebugValue:or,useDeferredValue:or,useTransition:or,useSyncExternalStore:or,useId:or,useHostTransitionStatus:or,useFormState:or,useActionState:or,useOptimistic:or,useMemoCache:or,useCacheRefresh:or},JA={readContext:oa,use:_s,useCallback:function(o,u){return as().memoizedState=[o,u===void 0?null:u],o},useContext:oa,useEffect:Tm,useImperativeHandle:function(o,u,p){p=p!=null?p.concat([o]):null,Uo(4194308,4,Db.bind(null,u,o),p)},useLayoutEffect:function(o,u){return Uo(4194308,4,o,u)},useInsertionEffect:function(o,u){Uo(4,2,o,u)},useMemo:function(o,u){var p=as();u=u===void 0?null:u;var v=o();if(ua){ke(!0);try{o()}finally{ke(!1)}}return p.memoizedState=[v,u],v},useReducer:function(o,u,p){var v=as();if(p!==void 0){var E=p(u);if(ua){ke(!0);try{p(u)}finally{ke(!1)}}}else E=u;return v.memoizedState=v.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},v.queue=o,o=o.dispatch=Pm.bind(null,Kt,o),[v.memoizedState,o]},useRef:function(o){var u=as();return o={current:o},u.memoizedState=o},useState:function(o){o=jh(o);var u=o.queue,p=KA.bind(null,Kt,u);return u.dispatch=p,[o.memoizedState,p]},useDebugValue:Dm,useDeferredValue:function(o,u){var p=as();return pd(p,o,u)},useTransition:function(){var o=jh(!1);return o=Ih.bind(null,Kt,o.queue,!0,!1),as().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,p){var v=Kt,E=as();if(Jn){if(p===void 0)throw Error(r(407));p=p()}else{if(p=u(),ni===null)throw Error(r(349));(Yn&124)!==0||Fp(v,u,p)}E.memoizedState=p;var I={value:p,getSnapshot:u};return E.queue=I,Tm(uf.bind(null,v,I,o),[o]),v.flags|=2048,su(9,Oh(),Nh.bind(null,v,I,p,u),null),p},useId:function(){var o=as(),u=ni.identifierPrefix;if(Jn){var p=tu,v=eu;p=(v&~(1<<32-Ne(v)-1)).toString(32)+p,u=""+u+"R"+p,p=Ti++,0<p&&(u+="H"+p.toString(32)),u+=""}else p=ho++,u=""+u+"r"+p.toString(32)+"";return o.memoizedState=u},useHostTransitionStatus:Lh,useFormState:Th,useActionState:Th,useOptimistic:function(o){var u=as();u.memoizedState=u.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=S2.bind(null,Kt,!0,p),p.dispatch=u,[o,u]},useMemoCache:lc,useCacheRefresh:function(){return as().memoizedState=Mm.bind(null,Kt)}},eC={readContext:oa,use:_s,useCallback:Lm,useContext:oa,useEffect:Ib,useImperativeHandle:Im,useInsertionEffect:Om,useLayoutEffect:hd,useMemo:Lb,useReducer:_h,useRef:qp,useState:function(){return _h(ks)},useDebugValue:Dm,useDeferredValue:function(o,u){var p=ui();return Bp(p,on.memoizedState,o,u)},useTransition:function(){var o=_h(ks)[0],u=ui().memoizedState;return[typeof o=="boolean"?o:oc(o),u]},useSyncExternalStore:kh,useId:Rm,useHostTransitionStatus:Lh,useFormState:zp,useActionState:zp,useOptimistic:function(o,u){var p=ui();return au(p,on,o,u)},useMemoCache:lc,useCacheRefresh:Rb},e9={readContext:oa,use:_s,useCallback:Lm,useContext:oa,useEffect:Ib,useImperativeHandle:Im,useInsertionEffect:Om,useLayoutEffect:hd,useMemo:Lb,useReducer:Pp,useRef:qp,useState:function(){return Pp(ks)},useDebugValue:Dm,useDeferredValue:function(o,u){var p=ui();return on===null?pd(p,o,u):Bp(p,on.memoizedState,o,u)},useTransition:function(){var o=Pp(ks)[0],u=ui().memoizedState;return[typeof o=="boolean"?o:oc(o),u]},useSyncExternalStore:kh,useId:Rm,useHostTransitionStatus:Lh,useFormState:Ob,useActionState:Ob,useOptimistic:function(o,u){var p=ui();return on!==null?au(p,on,o,u):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:lc,useCacheRefresh:Rb},Up=null,zm=0;function Fb(o){var u=zm;return zm+=1,Up===null&&(Up=[]),Ge(Up,o,u)}function qm(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function zb(o,u){throw u.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function tC(o){var u=o._init;return u(o._payload)}function nC(o){function u($e,ze){if(o){var Ye=$e.deletions;Ye===null?($e.deletions=[ze],$e.flags|=16):Ye.push(ze)}}function p($e,ze){if(!o)return null;for(;ze!==null;)u($e,ze),ze=ze.sibling;return null}function v($e){for(var ze=new Map;$e!==null;)$e.key!==null?ze.set($e.key,$e):ze.set($e.index,$e),$e=$e.sibling;return ze}function E($e,ze){return $e=bl($e,ze),$e.index=0,$e.sibling=null,$e}function I($e,ze,Ye){return $e.index=Ye,o?(Ye=$e.alternate,Ye!==null?(Ye=Ye.index,Ye<ze?($e.flags|=67108866,ze):Ye):($e.flags|=67108866,ze)):($e.flags|=1048576,ze)}function J($e){return o&&$e.alternate===null&&($e.flags|=67108866),$e}function pe($e,ze,Ye,bt){return ze===null||ze.tag!==6?(ze=Tp(Ye,$e.mode,bt),ze.return=$e,ze):(ze=E(ze,Ye),ze.return=$e,ze)}function je($e,ze,Ye,bt){var Mt=Ye.type;return Mt===x?pt($e,ze,Ye.props.children,bt,Ye.key):ze!==null&&(ze.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===M&&tC(Mt)===ze.type)?(ze=E(ze,Ye.props),qm(ze,Ye),ze.return=$e,ze):(ze=sd(Ye.type,Ye.key,Ye.props,null,$e.mode,bt),qm(ze,Ye),ze.return=$e,ze)}function Ke($e,ze,Ye,bt){return ze===null||ze.tag!==4||ze.stateNode.containerInfo!==Ye.containerInfo||ze.stateNode.implementation!==Ye.implementation?(ze=vh(Ye,$e.mode,bt),ze.return=$e,ze):(ze=E(ze,Ye.children||[]),ze.return=$e,ze)}function pt($e,ze,Ye,bt,Mt){return ze===null||ze.tag!==7?(ze=Zl(Ye,$e.mode,bt,Mt),ze.return=$e,ze):(ze=E(ze,Ye),ze.return=$e,ze)}function wt($e,ze,Ye){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return ze=Tp(""+ze,$e.mode,Ye),ze.return=$e,ze;if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case b:return Ye=sd(ze.type,ze.key,ze.props,null,$e.mode,Ye),qm(Ye,ze),Ye.return=$e,Ye;case m:return ze=vh(ze,$e.mode,Ye),ze.return=$e,ze;case M:var bt=ze._init;return ze=bt(ze._payload),wt($e,ze,Ye)}if(X(ze)||O(ze))return ze=Zl(ze,$e.mode,Ye,null),ze.return=$e,ze;if(typeof ze.then=="function")return wt($e,Fb(ze),Ye);if(ze.$$typeof===N)return wt($e,ic($e,ze),Ye);zb($e,ze)}return null}function Je($e,ze,Ye,bt){var Mt=ze!==null?ze.key:null;if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return Mt!==null?null:pe($e,ze,""+Ye,bt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case b:return Ye.key===Mt?je($e,ze,Ye,bt):null;case m:return Ye.key===Mt?Ke($e,ze,Ye,bt):null;case M:return Mt=Ye._init,Ye=Mt(Ye._payload),Je($e,ze,Ye,bt)}if(X(Ye)||O(Ye))return Mt!==null?null:pt($e,ze,Ye,bt,null);if(typeof Ye.then=="function")return Je($e,ze,Fb(Ye),bt);if(Ye.$$typeof===N)return Je($e,ze,ic($e,Ye),bt);zb($e,Ye)}return null}function et($e,ze,Ye,bt,Mt){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return $e=$e.get(Ye)||null,pe(ze,$e,""+bt,Mt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case b:return $e=$e.get(bt.key===null?Ye:bt.key)||null,je(ze,$e,bt,Mt);case m:return $e=$e.get(bt.key===null?Ye:bt.key)||null,Ke(ze,$e,bt,Mt);case M:var Ln=bt._init;return bt=Ln(bt._payload),et($e,ze,Ye,bt,Mt)}if(X(bt)||O(bt))return $e=$e.get(Ye)||null,pt(ze,$e,bt,Mt,null);if(typeof bt.then=="function")return et($e,ze,Ye,Fb(bt),Mt);if(bt.$$typeof===N)return et($e,ze,Ye,ic(ze,bt),Mt);zb(ze,bt)}return null}function cn($e,ze,Ye,bt){for(var Mt=null,Ln=null,Yt=ze,rn=ze=0,Ya=null;Yt!==null&&rn<Ye.length;rn++){Yt.index>rn?(Ya=Yt,Yt=null):Ya=Yt.sibling;var lr=Je($e,Yt,Ye[rn],bt);if(lr===null){Yt===null&&(Yt=Ya);break}o&&Yt&&lr.alternate===null&&u($e,Yt),ze=I(lr,ze,rn),Ln===null?Mt=lr:Ln.sibling=lr,Ln=lr,Yt=Ya}if(rn===Ye.length)return p($e,Yt),Jn&&ld($e,rn),Mt;if(Yt===null){for(;rn<Ye.length;rn++)Yt=wt($e,Ye[rn],bt),Yt!==null&&(ze=I(Yt,ze,rn),Ln===null?Mt=Yt:Ln.sibling=Yt,Ln=Yt);return Jn&&ld($e,rn),Mt}for(Yt=v(Yt);rn<Ye.length;rn++)Ya=et(Yt,$e,rn,Ye[rn],bt),Ya!==null&&(o&&Ya.alternate!==null&&Yt.delete(Ya.key===null?rn:Ya.key),ze=I(Ya,ze,rn),Ln===null?Mt=Ya:Ln.sibling=Ya,Ln=Ya);return o&&Yt.forEach(function(Nf){return u($e,Nf)}),Jn&&ld($e,rn),Mt}function en($e,ze,Ye,bt){if(Ye==null)throw Error(r(151));for(var Mt=null,Ln=null,Yt=ze,rn=ze=0,Ya=null,lr=Ye.next();Yt!==null&&!lr.done;rn++,lr=Ye.next()){Yt.index>rn?(Ya=Yt,Yt=null):Ya=Yt.sibling;var Nf=Je($e,Yt,lr.value,bt);if(Nf===null){Yt===null&&(Yt=Ya);break}o&&Yt&&Nf.alternate===null&&u($e,Yt),ze=I(Nf,ze,rn),Ln===null?Mt=Nf:Ln.sibling=Nf,Ln=Nf,Yt=Ya}if(lr.done)return p($e,Yt),Jn&&ld($e,rn),Mt;if(Yt===null){for(;!lr.done;rn++,lr=Ye.next())lr=wt($e,lr.value,bt),lr!==null&&(ze=I(lr,ze,rn),Ln===null?Mt=lr:Ln.sibling=lr,Ln=lr);return Jn&&ld($e,rn),Mt}for(Yt=v(Yt);!lr.done;rn++,lr=Ye.next())lr=et(Yt,$e,rn,lr.value,bt),lr!==null&&(o&&lr.alternate!==null&&Yt.delete(lr.key===null?rn:lr.key),ze=I(lr,ze,rn),Ln===null?Mt=lr:Ln.sibling=lr,Ln=lr);return o&&Yt.forEach(function(tR){return u($e,tR)}),Jn&&ld($e,rn),Mt}function Br($e,ze,Ye,bt){if(typeof Ye=="object"&&Ye!==null&&Ye.type===x&&Ye.key===null&&(Ye=Ye.props.children),typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case b:e:{for(var Mt=Ye.key;ze!==null;){if(ze.key===Mt){if(Mt=Ye.type,Mt===x){if(ze.tag===7){p($e,ze.sibling),bt=E(ze,Ye.props.children),bt.return=$e,$e=bt;break e}}else if(ze.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===M&&tC(Mt)===ze.type){p($e,ze.sibling),bt=E(ze,Ye.props),qm(bt,Ye),bt.return=$e,$e=bt;break e}p($e,ze);break}else u($e,ze);ze=ze.sibling}Ye.type===x?(bt=Zl(Ye.props.children,$e.mode,bt,Ye.key),bt.return=$e,$e=bt):(bt=sd(Ye.type,Ye.key,Ye.props,null,$e.mode,bt),qm(bt,Ye),bt.return=$e,$e=bt)}return J($e);case m:e:{for(Mt=Ye.key;ze!==null;){if(ze.key===Mt)if(ze.tag===4&&ze.stateNode.containerInfo===Ye.containerInfo&&ze.stateNode.implementation===Ye.implementation){p($e,ze.sibling),bt=E(ze,Ye.children||[]),bt.return=$e,$e=bt;break e}else{p($e,ze);break}else u($e,ze);ze=ze.sibling}bt=vh(Ye,$e.mode,bt),bt.return=$e,$e=bt}return J($e);case M:return Mt=Ye._init,Ye=Mt(Ye._payload),Br($e,ze,Ye,bt)}if(X(Ye))return cn($e,ze,Ye,bt);if(O(Ye)){if(Mt=O(Ye),typeof Mt!="function")throw Error(r(150));return Ye=Mt.call(Ye),en($e,ze,Ye,bt)}if(typeof Ye.then=="function")return Br($e,ze,Fb(Ye),bt);if(Ye.$$typeof===N)return Br($e,ze,ic($e,Ye),bt);zb($e,Ye)}return typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint"?(Ye=""+Ye,ze!==null&&ze.tag===6?(p($e,ze.sibling),bt=E(ze,Ye),bt.return=$e,$e=bt):(p($e,ze),bt=Tp(Ye,$e.mode,bt),bt.return=$e,$e=bt),J($e)):p($e,ze)}return function($e,ze,Ye,bt){try{zm=0;var Mt=Br($e,ze,Ye,bt);return Up=null,Mt}catch(Yt){if(Yt===oe||Yt===fe)throw Yt;var Ln=Ha(29,Yt,null,$e.mode);return Ln.lanes=bt,Ln.return=$e,Ln}finally{}}}var $p=nC(!0),rC=nC(!1),Al=te(null),uc=null;function hf(o){var u=o.alternate;B(La,La.current&1),B(Al,o),uc===null&&(u===null||jn.current!==null||u.memoizedState!==null)&&(uc=o)}function iC(o){if(o.tag===22){if(B(La,La.current),B(Al,o),uc===null){var u=o.alternate;u!==null&&u.memoizedState!==null&&(uc=o)}}else pf()}function pf(){B(La,La.current),B(Al,Al.current)}function md(o){U(Al),uc===o&&(uc=null),U(La)}var La=te(0);function qb(o){for(var u=o;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||f5(p)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function A2(o,u,p,v){u=o.memoizedState,p=p(v,u),p=p==null?u:h({},u,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var C2={enqueueSetState:function(o,u,p){o=o._reactInternals;var v=Vo(),E=ht(v);E.payload=u,p!=null&&(E.callback=p),u=xt(o,E,v),u!==null&&(Yo(u,o,v),gt(u,o,v))},enqueueReplaceState:function(o,u,p){o=o._reactInternals;var v=Vo(),E=ht(v);E.tag=1,E.payload=u,p!=null&&(E.callback=p),u=xt(o,E,v),u!==null&&(Yo(u,o,v),gt(u,o,v))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var p=Vo(),v=ht(p);v.tag=2,u!=null&&(v.callback=u),u=xt(o,v,p),u!==null&&(Yo(u,o,p),gt(u,o,p))}};function aC(o,u,p,v,E,I,J){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,I,J):u.prototype&&u.prototype.isPureReactComponent?!Vu(p,v)||!Vu(E,I):!0}function sC(o,u,p,v){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,v),u.state!==o&&C2.enqueueReplaceState(u,u.state,null)}function Rh(o,u){var p=u;if("ref"in u){p={};for(var v in u)v!=="ref"&&(p[v]=u[v])}if(o=o.defaultProps){p===u&&(p=h({},p));for(var E in o)p[E]===void 0&&(p[E]=o[E])}return p}var Bb=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function oC(o){Bb(o)}function lC(o){console.error(o)}function uC(o){Bb(o)}function Ub(o,u){try{var p=o.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(v){setTimeout(function(){throw v})}}function cC(o,u,p){try{var v=o.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function E2(o,u,p){return p=ht(p),p.tag=3,p.payload={element:null},p.callback=function(){Ub(o,u)},p}function dC(o){return o=ht(o),o.tag=3,o}function fC(o,u,p,v){var E=p.type.getDerivedStateFromError;if(typeof E=="function"){var I=v.value;o.payload=function(){return E(I)},o.callback=function(){cC(u,p,v)}}var J=p.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(o.callback=function(){cC(u,p,v),typeof E!="function"&&(vf===null?vf=new Set([this]):vf.add(this));var pe=v.stack;this.componentDidCatch(v.value,{componentStack:pe!==null?pe:""})})}function t9(o,u,p,v,E){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(u=p.alternate,u!==null&&of(u,p,E,!0),p=Al.current,p!==null){switch(p.tag){case 13:return uc===null?Q2():p.alternate===null&&Ki===0&&(Ki=3),p.flags&=-257,p.flags|=65536,p.lanes=E,v===ge?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([v]):u.add(v),X2(o,v,E)),!1;case 22:return p.flags|=65536,v===ge?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([v]):p.add(v)),X2(o,v,E)),!1}throw Error(r(435,p.tag))}return X2(o,v,E),Q2(),!1}if(Jn)return u=Al.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=E,v!==Cm&&(o=Error(r(422),{cause:v}),sf(Tn(o,p)))):(v!==Cm&&(u=Error(r(423),{cause:v}),sf(Tn(u,p))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,v=Tn(v,p),E=E2(o.stateNode,v,E),jt(o,E),Ki!==4&&(Ki=2)),!1;var I=Error(r(520),{cause:v});if(I=Tn(I,p),Ym===null?Ym=[I]:Ym.push(I),Ki!==4&&(Ki=2),u===null)return!0;v=Tn(v,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,o=E&-E,p.lanes|=o,o=E2(p.stateNode,v,o),jt(p,o),!1;case 1:if(u=p.type,I=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(vf===null||!vf.has(I))))return p.flags|=65536,E&=-E,p.lanes|=E,E=dC(E),fC(E,o,p,v),jt(p,E),!1}p=p.return}while(p!==null);return!1}var hC=Error(r(461)),Wa=!1;function ss(o,u,p,v){u.child=o===null?rC(u,null,p,v):$p(u,o.child,p,v)}function pC(o,u,p,v,E){p=p.render;var I=u.ref;if("ref"in v){var J={};for(var pe in v)pe!=="ref"&&(J[pe]=v[pe])}else J=v;return wl(u),v=Bo(o,u,p,J,I,E),pe=ti(),o!==null&&!Wa?(Eh(o,u,E),gd(o,u,E)):(Jn&&pe&&wh(u),u.flags|=1,ss(o,u,v,E),u.child)}function mC(o,u,p,v,E){if(o===null){var I=p.type;return typeof I=="function"&&!rf(I)&&I.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=I,gC(o,u,I,v,E)):(o=sd(p.type,null,v,u,u.mode,E),o.ref=u.ref,o.return=u,u.child=o)}if(I=o.child,!D2(o,E)){var J=I.memoizedProps;if(p=p.compare,p=p!==null?p:Vu,p(J,v)&&o.ref===u.ref)return gd(o,u,E)}return u.flags|=1,o=bl(I,v),o.ref=u.ref,o.return=u,u.child=o}function gC(o,u,p,v,E){if(o!==null){var I=o.memoizedProps;if(Vu(I,v)&&o.ref===u.ref)if(Wa=!1,u.pendingProps=v=I,D2(o,E))(o.flags&131072)!==0&&(Wa=!0);else return u.lanes=o.lanes,gd(o,u,E)}return _2(o,u,p,v,E)}function bC(o,u,p){var v=u.pendingProps,E=v.children,I=o!==null?o.memoizedState:null;if(v.mode==="hidden"){if((u.flags&128)!==0){if(v=I!==null?I.baseLanes|p:p,o!==null){for(E=u.child=o.child,I=0;E!==null;)I=I|E.lanes|E.childLanes,E=E.sibling;u.childLanes=I&~v}else u.childLanes=0,u.child=null;return yC(o,u,v,p)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&W(u,I!==null?I.cachePool:null),I!==null?Ar(u,I):sr(),iC(u);else return u.lanes=u.childLanes=536870912,yC(o,u,I!==null?I.baseLanes|p:p,p)}else I!==null?(W(u,I.cachePool),Ar(u,I),pf(),u.memoizedState=null):(o!==null&&W(u,null),sr(),pf());return ss(o,u,E,p),u.child}function yC(o,u,p,v){var E=z();return E=E===null?null:{parent:la._currentValue,pool:E},u.memoizedState={baseLanes:p,cachePool:E},o!==null&&W(u,null),sr(),iC(u),o!==null&&of(o,u,v,!0),null}function $b(o,u){var p=u.ref;if(p===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(o===null||o.ref!==p)&&(u.flags|=4194816)}}function _2(o,u,p,v,E){return wl(u),p=Bo(o,u,p,v,void 0,E),v=ti(),o!==null&&!Wa?(Eh(o,u,E),gd(o,u,E)):(Jn&&v&&wh(u),u.flags|=1,ss(o,u,p,E),u.child)}function xC(o,u,p,v,E,I){return wl(u),u.updateQueue=null,p=dd(u,v,p,E),ac(o),v=ti(),o!==null&&!Wa?(Eh(o,u,I),gd(o,u,I)):(Jn&&v&&wh(u),u.flags|=1,ss(o,u,p,I),u.child)}function vC(o,u,p,v,E){if(wl(u),u.stateNode===null){var I=Ca,J=p.contextType;typeof J=="object"&&J!==null&&(I=oa(J)),I=new p(v,I),u.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=C2,u.stateNode=I,I._reactInternals=u,I=u.stateNode,I.props=v,I.state=u.memoizedState,I.refs={},Pe(u),J=p.contextType,I.context=typeof J=="object"&&J!==null?oa(J):Ca,I.state=u.memoizedState,J=p.getDerivedStateFromProps,typeof J=="function"&&(A2(u,p,J,v),I.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(J=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),J!==I.state&&C2.enqueueReplaceState(I,I.state,null),kt(u,v,I,E),Wt(),I.state=u.memoizedState),typeof I.componentDidMount=="function"&&(u.flags|=4194308),v=!0}else if(o===null){I=u.stateNode;var pe=u.memoizedProps,je=Rh(p,pe);I.props=je;var Ke=I.context,pt=p.contextType;J=Ca,typeof pt=="object"&&pt!==null&&(J=oa(pt));var wt=p.getDerivedStateFromProps;pt=typeof wt=="function"||typeof I.getSnapshotBeforeUpdate=="function",pe=u.pendingProps!==pe,pt||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(pe||Ke!==J)&&sC(u,I,v,J),rt=!1;var Je=u.memoizedState;I.state=Je,kt(u,v,I,E),Wt(),Ke=u.memoizedState,pe||Je!==Ke||rt?(typeof wt=="function"&&(A2(u,p,wt,v),Ke=u.memoizedState),(je=rt||aC(u,p,je,v,Je,Ke,J))?(pt||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(u.flags|=4194308)):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=Ke),I.props=v,I.state=Ke,I.context=J,v=je):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{I=u.stateNode,qe(o,u),J=u.memoizedProps,pt=Rh(p,J),I.props=pt,wt=u.pendingProps,Je=I.context,Ke=p.contextType,je=Ca,typeof Ke=="object"&&Ke!==null&&(je=oa(Ke)),pe=p.getDerivedStateFromProps,(Ke=typeof pe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(J!==wt||Je!==je)&&sC(u,I,v,je),rt=!1,Je=u.memoizedState,I.state=Je,kt(u,v,I,E),Wt();var et=u.memoizedState;J!==wt||Je!==et||rt||o!==null&&o.dependencies!==null&&Lp(o.dependencies)?(typeof pe=="function"&&(A2(u,p,pe,v),et=u.memoizedState),(pt=rt||aC(u,p,pt,v,Je,et,je)||o!==null&&o.dependencies!==null&&Lp(o.dependencies))?(Ke||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(v,et,je),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(v,et,je)),typeof I.componentDidUpdate=="function"&&(u.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof I.componentDidUpdate!="function"||J===o.memoizedProps&&Je===o.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&Je===o.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=et),I.props=v,I.state=et,I.context=je,v=pt):(typeof I.componentDidUpdate!="function"||J===o.memoizedProps&&Je===o.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&Je===o.memoizedState||(u.flags|=1024),v=!1)}return I=v,$b(o,u),v=(u.flags&128)!==0,I||v?(I=u.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:I.render(),u.flags|=1,o!==null&&v?(u.child=$p(u,o.child,null,E),u.child=$p(u,null,p,E)):ss(o,u,p,E),u.memoizedState=I.state,o=u.child):o=gd(o,u,E),o}function wC(o,u,p,v){return Ks(),u.flags|=256,ss(o,u,p,v),u.child}var k2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function N2(o){return{baseLanes:o,cachePool:ie()}}function j2(o,u,p){return o=o!==null?o.childLanes&~p:0,u&&(o|=Cl),o}function SC(o,u,p){var v=u.pendingProps,E=!1,I=(u.flags&128)!==0,J;if((J=I)||(J=o!==null&&o.memoizedState===null?!1:(La.current&2)!==0),J&&(E=!0,u.flags&=-129),J=(u.flags&32)!==0,u.flags&=-33,o===null){if(Jn){if(E?hf(u):pf(),Jn){var pe=bi,je;if(je=pe){e:{for(je=pe,pe=yl;je.nodeType!==8;){if(!pe){pe=null;break e}if(je=cu(je.nextSibling),je===null){pe=null;break e}}pe=je}pe!==null?(u.memoizedState={dehydrated:pe,treeContext:od!==null?{id:eu,overflow:tu}:null,retryLane:536870912,hydrationErrors:null},je=Ha(18,null,null,0),je.stateNode=pe,je.return=u,u.child=je,sa=u,bi=null,je=!0):je=!1}je||ud(u)}if(pe=u.memoizedState,pe!==null&&(pe=pe.dehydrated,pe!==null))return f5(pe)?u.lanes=32:u.lanes=536870912,null;md(u)}return pe=v.children,v=v.fallback,E?(pf(),E=u.mode,pe=Hb({mode:"hidden",children:pe},E),v=Zl(v,E,p,null),pe.return=u,v.return=u,pe.sibling=v,u.child=pe,E=u.child,E.memoizedState=N2(p),E.childLanes=j2(o,J,p),u.memoizedState=k2,v):(hf(u),T2(u,pe))}if(je=o.memoizedState,je!==null&&(pe=je.dehydrated,pe!==null)){if(I)u.flags&256?(hf(u),u.flags&=-257,u=O2(o,u,p)):u.memoizedState!==null?(pf(),u.child=o.child,u.flags|=128,u=null):(pf(),E=v.fallback,pe=u.mode,v=Hb({mode:"visible",children:v.children},pe),E=Zl(E,pe,p,null),E.flags|=2,v.return=u,E.return=u,v.sibling=E,u.child=v,$p(u,o.child,null,p),v=u.child,v.memoizedState=N2(p),v.childLanes=j2(o,J,p),u.memoizedState=k2,u=E);else if(hf(u),f5(pe)){if(J=pe.nextSibling&&pe.nextSibling.dataset,J)var Ke=J.dgst;J=Ke,v=Error(r(419)),v.stack="",v.digest=J,sf({value:v,source:null,stack:null}),u=O2(o,u,p)}else if(Wa||of(o,u,p,!1),J=(p&o.childLanes)!==0,Wa||J){if(J=ni,J!==null&&(v=p&-p,v=(v&42)!==0?1:xa(v),v=(v&(J.suspendedLanes|p))!==0?0:v,v!==0&&v!==je.retryLane))throw je.retryLane=v,Xl(o,v),Yo(J,o,v),hC;pe.data==="$?"||Q2(),u=O2(o,u,p)}else pe.data==="$?"?(u.flags|=192,u.child=o.child,u=null):(o=je.treeContext,bi=cu(pe.nextSibling),sa=u,Jn=!0,nc=null,yl=!1,o!==null&&(fo[Qs++]=eu,fo[Qs++]=tu,fo[Qs++]=od,eu=o.id,tu=o.overflow,od=u),u=T2(u,v.children),u.flags|=4096);return u}return E?(pf(),E=v.fallback,pe=u.mode,je=o.child,Ke=je.sibling,v=bl(je,{mode:"hidden",children:v.children}),v.subtreeFlags=je.subtreeFlags&65011712,Ke!==null?E=bl(Ke,E):(E=Zl(E,pe,p,null),E.flags|=2),E.return=u,v.return=u,v.sibling=E,u.child=v,v=E,E=u.child,pe=o.child.memoizedState,pe===null?pe=N2(p):(je=pe.cachePool,je!==null?(Ke=la._currentValue,je=je.parent!==Ke?{parent:Ke,pool:Ke}:je):je=ie(),pe={baseLanes:pe.baseLanes|p,cachePool:je}),E.memoizedState=pe,E.childLanes=j2(o,J,p),u.memoizedState=k2,v):(hf(u),p=o.child,o=p.sibling,p=bl(p,{mode:"visible",children:v.children}),p.return=u,p.sibling=null,o!==null&&(J=u.deletions,J===null?(u.deletions=[o],u.flags|=16):J.push(o)),u.child=p,u.memoizedState=null,p)}function T2(o,u){return u=Hb({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function Hb(o,u){return o=Ha(22,o,null,u),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function O2(o,u,p){return $p(u,o.child,null,p),o=T2(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function AC(o,u,p){o.lanes|=u;var v=o.alternate;v!==null&&(v.lanes|=u),Ip(o.return,u,p)}function I2(o,u,p,v,E){var I=o.memoizedState;I===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:E}:(I.isBackwards=u,I.rendering=null,I.renderingStartTime=0,I.last=v,I.tail=p,I.tailMode=E)}function CC(o,u,p){var v=u.pendingProps,E=v.revealOrder,I=v.tail;if(ss(o,u,v.children,p),v=La.current,(v&2)!==0)v=v&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&AC(o,p,u);else if(o.tag===19)AC(o,p,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}v&=1}switch(B(La,v),E){case"forwards":for(p=u.child,E=null;p!==null;)o=p.alternate,o!==null&&qb(o)===null&&(E=p),p=p.sibling;p=E,p===null?(E=u.child,u.child=null):(E=p.sibling,p.sibling=null),I2(u,!1,E,p,I);break;case"backwards":for(p=null,E=u.child,u.child=null;E!==null;){if(o=E.alternate,o!==null&&qb(o)===null){u.child=E;break}o=E.sibling,E.sibling=p,p=E,E=o}I2(u,!0,p,null,I);break;case"together":I2(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function gd(o,u,p){if(o!==null&&(u.dependencies=o.dependencies),xf|=u.lanes,(p&u.childLanes)===0)if(o!==null){if(of(o,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,p=bl(o,o.pendingProps),u.child=p,p.return=u;o.sibling!==null;)o=o.sibling,p=p.sibling=bl(o,o.pendingProps),p.return=u;p.sibling=null}return u.child}function D2(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Lp(o)))}function n9(o,u,p){switch(u.tag){case 3:ye(u,u.stateNode.containerInfo),rc(u,la,o.memoizedState.cache),Ks();break;case 27:case 5:Oe(u);break;case 4:ye(u,u.stateNode.containerInfo);break;case 10:rc(u,u.type,u.memoizedProps.value);break;case 13:var v=u.memoizedState;if(v!==null)return v.dehydrated!==null?(hf(u),u.flags|=128,null):(p&u.child.childLanes)!==0?SC(o,u,p):(hf(u),o=gd(o,u,p),o!==null?o.sibling:null);hf(u);break;case 19:var E=(o.flags&128)!==0;if(v=(p&u.childLanes)!==0,v||(of(o,u,p,!1),v=(p&u.childLanes)!==0),E){if(v)return CC(o,u,p);u.flags|=128}if(E=u.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),B(La,La.current),v)break;return null;case 22:case 23:return u.lanes=0,bC(o,u,p);case 24:rc(u,la,o.memoizedState.cache)}return gd(o,u,p)}function EC(o,u,p){if(o!==null)if(o.memoizedProps!==u.pendingProps)Wa=!0;else{if(!D2(o,p)&&(u.flags&128)===0)return Wa=!1,n9(o,u,p);Wa=(o.flags&131072)!==0}else Wa=!1,Jn&&(u.flags&1048576)!==0&&vb(u,Op,u.index);switch(u.lanes=0,u.tag){case 16:e:{o=u.pendingProps;var v=u.elementType,E=v._init;if(v=E(v._payload),u.type=v,typeof v=="function")rf(v)?(o=Rh(v,o),u.tag=1,u=vC(null,u,v,o,p)):(u.tag=0,u=_2(null,u,v,o,p));else{if(v!=null){if(E=v.$$typeof,E===P){u.tag=11,u=pC(null,u,v,o,p);break e}else if(E===k){u.tag=14,u=mC(null,u,v,o,p);break e}}throw u=j(v)||v,Error(r(306,u,""))}}return u;case 0:return _2(o,u,u.type,u.pendingProps,p);case 1:return v=u.type,E=Rh(v,u.pendingProps),vC(o,u,v,E,p);case 3:e:{if(ye(u,u.stateNode.containerInfo),o===null)throw Error(r(387));v=u.pendingProps;var I=u.memoizedState;E=I.element,qe(o,u),kt(u,v,null,p);var J=u.memoizedState;if(v=J.cache,rc(u,la,v),v!==I.cache&&Dp(u,[la],p,!0),Wt(),v=J.element,I.isDehydrated)if(I={element:v,isDehydrated:!1,cache:J.cache},u.updateQueue.baseState=I,u.memoizedState=I,u.flags&256){u=wC(o,u,v,p);break e}else if(v!==E){E=Tn(Error(r(424)),u),sf(E),u=wC(o,u,v,p);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(bi=cu(o.firstChild),sa=u,Jn=!0,nc=null,yl=!0,p=rC(u,null,v,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Ks(),v===E){u=gd(o,u,p);break e}ss(o,u,v,p)}u=u.child}return u;case 26:return $b(o,u),o===null?(p=jE(u.type,null,u.pendingProps,null))?u.memoizedState=p:Jn||(p=u.type,o=u.pendingProps,v=iy(ne.current).createElement(p),v[$n]=u,v[ir]=o,ls(v,p,o),Zn(v),u.stateNode=v):u.memoizedState=jE(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Oe(u),o===null&&Jn&&(v=u.stateNode=_E(u.type,u.pendingProps,ne.current),sa=u,yl=!0,E=bi,Af(u.type)?(h5=E,bi=cu(v.firstChild)):bi=E),ss(o,u,u.pendingProps.children,p),$b(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&Jn&&((E=v=bi)&&(v=T9(v,u.type,u.pendingProps,yl),v!==null?(u.stateNode=v,sa=u,bi=cu(v.firstChild),yl=!1,E=!0):E=!1),E||ud(u)),Oe(u),E=u.type,I=u.pendingProps,J=o!==null?o.memoizedProps:null,v=I.children,u5(E,I)?v=null:J!==null&&u5(E,J)&&(u.flags|=32),u.memoizedState!==null&&(E=Bo(o,u,sc,null,null,p),n1._currentValue=E),$b(o,u),ss(o,u,v,p),u.child;case 6:return o===null&&Jn&&((o=p=bi)&&(p=O9(p,u.pendingProps,yl),p!==null?(u.stateNode=p,sa=u,bi=null,o=!0):o=!1),o||ud(u)),null;case 13:return SC(o,u,p);case 4:return ye(u,u.stateNode.containerInfo),v=u.pendingProps,o===null?u.child=$p(u,null,v,p):ss(o,u,v,p),u.child;case 11:return pC(o,u,u.type,u.pendingProps,p);case 7:return ss(o,u,u.pendingProps,p),u.child;case 8:return ss(o,u,u.pendingProps.children,p),u.child;case 12:return ss(o,u,u.pendingProps.children,p),u.child;case 10:return v=u.pendingProps,rc(u,u.type,v.value),ss(o,u,v.children,p),u.child;case 9:return E=u.type._context,v=u.pendingProps.children,wl(u),E=oa(E),v=v(E),u.flags|=1,ss(o,u,v,p),u.child;case 14:return mC(o,u,u.type,u.pendingProps,p);case 15:return gC(o,u,u.type,u.pendingProps,p);case 19:return CC(o,u,p);case 31:return v=u.pendingProps,p=u.mode,v={mode:v.mode,children:v.children},o===null?(p=Hb(v,p),p.ref=u.ref,u.child=p,p.return=u,u=p):(p=bl(o.child,v),p.ref=u.ref,u.child=p,p.return=u,u=p),u;case 22:return bC(o,u,p);case 24:return wl(u),v=oa(la),o===null?(E=z(),E===null&&(E=ni,I=Em(),E.pooledCache=I,I.refCount++,I!==null&&(E.pooledCacheLanes|=p),E=I),u.memoizedState={parent:v,cache:E},Pe(u),rc(u,la,E)):((o.lanes&p)!==0&&(qe(o,u),kt(u,null,null,p),Wt()),E=o.memoizedState,I=u.memoizedState,E.parent!==v?(E={parent:v,cache:v},u.memoizedState=E,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=E),rc(u,la,v)):(v=I.cache,rc(u,la,v),v!==E.cache&&Dp(u,[la],p,!0))),ss(o,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function bd(o){o.flags|=4}function _C(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!LE(u)){if(u=Al.current,u!==null&&((Yn&4194048)===Yn?uc!==null:(Yn&62914560)!==Yn&&(Yn&536870912)===0||u!==uc))throw Ve=ge,ue;o.flags|=8192}}function Wb(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?Pn():536870912,o.lanes|=u,Yp|=u)}function Bm(o,u){if(!Jn)switch(o.tailMode){case"hidden":u=o.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function Ii(o){var u=o.alternate!==null&&o.alternate.child===o.child,p=0,v=0;if(u)for(var E=o.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags&65011712,v|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags,v|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=v,o.childLanes=p,u}function r9(o,u,p){var v=u.pendingProps;switch(Sh(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ii(u),null;case 1:return Ii(u),null;case 3:return p=u.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),u.memoizedState.cache!==v&&(u.flags|=2048),vl(la),Ce(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(is(u)?bd(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Sb())),Ii(u),null;case 26:return p=u.memoizedState,o===null?(bd(u),p!==null?(Ii(u),_C(u,p)):(Ii(u),u.flags&=-16777217)):p?p!==o.memoizedState?(bd(u),Ii(u),_C(u,p)):(Ii(u),u.flags&=-16777217):(o.memoizedProps!==v&&bd(u),Ii(u),u.flags&=-16777217),null;case 27:Ie(u),p=ne.current;var E=u.type;if(o!==null&&u.stateNode!=null)o.memoizedProps!==v&&bd(u);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Ii(u),null}o=re.current,is(u)?wb(u):(o=_E(E,v,p),u.stateNode=o,bd(u))}return Ii(u),null;case 5:if(Ie(u),p=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==v&&bd(u);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Ii(u),null}if(o=re.current,is(u))wb(u);else{switch(E=iy(ne.current),o){case 1:o=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:o=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":o=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":o=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":o=E.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof v.is=="string"?E.createElement("select",{is:v.is}):E.createElement("select"),v.multiple?o.multiple=!0:v.size&&(o.size=v.size);break;default:o=typeof v.is=="string"?E.createElement(p,{is:v.is}):E.createElement(p)}}o[$n]=u,o[ir]=v;e:for(E=u.child;E!==null;){if(E.tag===5||E.tag===6)o.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===u)break e;for(;E.sibling===null;){if(E.return===null||E.return===u)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}u.stateNode=o;e:switch(ls(o,p,v),p){case"button":case"input":case"select":case"textarea":o=!!v.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&bd(u)}}return Ii(u),u.flags&=-16777217,null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==v&&bd(u);else{if(typeof v!="string"&&u.stateNode===null)throw Error(r(166));if(o=ne.current,is(u)){if(o=u.stateNode,p=u.memoizedProps,v=null,E=sa,E!==null)switch(E.tag){case 27:case 5:v=E.memoizedProps}o[$n]=u,o=!!(o.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||xE(o.nodeValue,p)),o||ud(u)}else o=iy(o).createTextNode(v),o[$n]=u,u.stateNode=o}return Ii(u),null;case 13:if(v=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=is(u),v!==null&&v.dehydrated!==null){if(o===null){if(!E)throw Error(r(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[$n]=u}else Ks(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ii(u),E=!1}else E=Sb(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return u.flags&256?(md(u),u):(md(u),null)}if(md(u),(u.flags&128)!==0)return u.lanes=p,u;if(p=v!==null,o=o!==null&&o.memoizedState!==null,p){v=u.child,E=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(E=v.alternate.memoizedState.cachePool.pool);var I=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(I=v.memoizedState.cachePool.pool),I!==E&&(v.flags|=2048)}return p!==o&&p&&(u.child.flags|=8192),Wb(u,u.updateQueue),Ii(u),null;case 4:return Ce(),o===null&&i5(u.stateNode.containerInfo),Ii(u),null;case 10:return vl(u.type),Ii(u),null;case 19:if(U(La),E=u.memoizedState,E===null)return Ii(u),null;if(v=(u.flags&128)!==0,I=E.rendering,I===null)if(v)Bm(E,!1);else{if(Ki!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(I=qb(o),I!==null){for(u.flags|=128,Bm(E,!1),o=I.updateQueue,u.updateQueue=o,Wb(u,o),u.subtreeFlags=0,o=p,p=u.child;p!==null;)xh(p,o),p=p.sibling;return B(La,La.current&1|2),u.child}o=o.sibling}E.tail!==null&&he()>Gb&&(u.flags|=128,v=!0,Bm(E,!1),u.lanes=4194304)}else{if(!v)if(o=qb(I),o!==null){if(u.flags|=128,v=!0,o=o.updateQueue,u.updateQueue=o,Wb(u,o),Bm(E,!0),E.tail===null&&E.tailMode==="hidden"&&!I.alternate&&!Jn)return Ii(u),null}else 2*he()-E.renderingStartTime>Gb&&p!==536870912&&(u.flags|=128,v=!0,Bm(E,!1),u.lanes=4194304);E.isBackwards?(I.sibling=u.child,u.child=I):(o=E.last,o!==null?o.sibling=I:u.child=I,E.last=I)}return E.tail!==null?(u=E.tail,E.rendering=u,E.tail=u.sibling,E.renderingStartTime=he(),u.sibling=null,o=La.current,B(La,v?o&1|2:o&1),u):(Ii(u),null);case 22:case 23:return md(u),mn(),v=u.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(u.flags|=8192):v&&(u.flags|=8192),v?(p&536870912)!==0&&(u.flags&128)===0&&(Ii(u),u.subtreeFlags&6&&(u.flags|=8192)):Ii(u),p=u.updateQueue,p!==null&&Wb(u,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048),o!==null&&U(_),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),vl(la),Ii(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function i9(o,u){switch(Sh(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return vl(la),Ce(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Ie(u),null;case 13:if(md(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Ks()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return U(La),null;case 4:return Ce(),null;case 10:return vl(u.type),null;case 22:case 23:return md(u),mn(),o!==null&&U(_),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return vl(la),null;case 25:return null;default:return null}}function kC(o,u){switch(Sh(u),u.tag){case 3:vl(la),Ce();break;case 26:case 27:case 5:Ie(u);break;case 4:Ce();break;case 13:md(u);break;case 19:U(La);break;case 10:vl(u.type);break;case 22:case 23:md(u),mn(),o!==null&&U(_);break;case 24:vl(la)}}function Um(o,u){try{var p=u.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var E=v.next;p=E;do{if((p.tag&o)===o){v=void 0;var I=p.create,J=p.inst;v=I(),J.destroy=v}p=p.next}while(p!==E)}}catch(pe){Kr(u,u.return,pe)}}function mf(o,u,p){try{var v=u.updateQueue,E=v!==null?v.lastEffect:null;if(E!==null){var I=E.next;v=I;do{if((v.tag&o)===o){var J=v.inst,pe=J.destroy;if(pe!==void 0){J.destroy=void 0,E=u;var je=p,Ke=pe;try{Ke()}catch(pt){Kr(E,je,pt)}}}v=v.next}while(v!==I)}}catch(pt){Kr(u,u.return,pt)}}function NC(o){var u=o.updateQueue;if(u!==null){var p=o.stateNode;try{ar(u,p)}catch(v){Kr(o,o.return,v)}}}function jC(o,u,p){p.props=Rh(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(v){Kr(o,u,v)}}function $m(o,u){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof p=="function"?o.refCleanup=p(v):p.current=v}}catch(E){Kr(o,u,E)}}function cc(o,u){var p=o.ref,v=o.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(E){Kr(o,u,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(E){Kr(o,u,E)}else p.current=null}function TC(o){var u=o.type,p=o.memoizedProps,v=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(E){Kr(o,o.return,E)}}function L2(o,u,p){try{var v=o.stateNode;E9(v,o.type,p,u),v[ir]=u}catch(E){Kr(o,o.return,E)}}function OC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Af(o.type)||o.tag===4}function R2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||OC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Af(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function M2(o,u,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(o),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=ry));else if(v!==4&&(v===27&&Af(o.type)&&(p=o.stateNode,u=null),o=o.child,o!==null))for(M2(o,u,p),o=o.sibling;o!==null;)M2(o,u,p),o=o.sibling}function Vb(o,u,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,u?p.insertBefore(o,u):p.appendChild(o);else if(v!==4&&(v===27&&Af(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(Vb(o,u,p),o=o.sibling;o!==null;)Vb(o,u,p),o=o.sibling}function IC(o){var u=o.stateNode,p=o.memoizedProps;try{for(var v=o.type,E=u.attributes;E.length;)u.removeAttributeNode(E[0]);ls(u,v,p),u[$n]=o,u[ir]=p}catch(I){Kr(o,o.return,I)}}var yd=!1,ca=!1,P2=!1,DC=typeof WeakSet=="function"?WeakSet:Set,Va=null;function a9(o,u){if(o=o.containerInfo,o5=cy,o=rs(o),Da(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var E=v.anchorOffset,I=v.focusNode;v=v.focusOffset;try{p.nodeType,I.nodeType}catch{p=null;break e}var J=0,pe=-1,je=-1,Ke=0,pt=0,wt=o,Je=null;t:for(;;){for(var et;wt!==p||E!==0&&wt.nodeType!==3||(pe=J+E),wt!==I||v!==0&&wt.nodeType!==3||(je=J+v),wt.nodeType===3&&(J+=wt.nodeValue.length),(et=wt.firstChild)!==null;)Je=wt,wt=et;for(;;){if(wt===o)break t;if(Je===p&&++Ke===E&&(pe=J),Je===I&&++pt===v&&(je=J),(et=wt.nextSibling)!==null)break;wt=Je,Je=wt.parentNode}wt=et}p=pe===-1||je===-1?null:{start:pe,end:je}}else p=null}p=p||{start:0,end:0}}else p=null;for(l5={focusedElem:o,selectionRange:p},cy=!1,Va=u;Va!==null;)if(u=Va,o=u.child,(u.subtreeFlags&1024)!==0&&o!==null)o.return=u,Va=o;else for(;Va!==null;){switch(u=Va,I=u.alternate,o=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&I!==null){o=void 0,p=u,E=I.memoizedProps,I=I.memoizedState,v=p.stateNode;try{var cn=Rh(p.type,E,p.elementType===p.type);o=v.getSnapshotBeforeUpdate(cn,I),v.__reactInternalSnapshotBeforeUpdate=o}catch(en){Kr(p,p.return,en)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,p=o.nodeType,p===9)d5(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":d5(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=u.sibling,o!==null){o.return=u.return,Va=o;break}Va=u.return}}function LC(o,u,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:gf(o,p),v&4&&Um(5,p);break;case 1:if(gf(o,p),v&4)if(o=p.stateNode,u===null)try{o.componentDidMount()}catch(J){Kr(p,p.return,J)}else{var E=Rh(p.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(E,u,o.__reactInternalSnapshotBeforeUpdate)}catch(J){Kr(p,p.return,J)}}v&64&&NC(p),v&512&&$m(p,p.return);break;case 3:if(gf(o,p),v&64&&(o=p.updateQueue,o!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{ar(o,u)}catch(J){Kr(p,p.return,J)}}break;case 27:u===null&&v&4&&IC(p);case 26:case 5:gf(o,p),u===null&&v&4&&TC(p),v&512&&$m(p,p.return);break;case 12:gf(o,p);break;case 13:gf(o,p),v&4&&PC(o,p),v&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=p9.bind(null,p),I9(o,p))));break;case 22:if(v=p.memoizedState!==null||yd,!v){u=u!==null&&u.memoizedState!==null||ca,E=yd;var I=ca;yd=v,(ca=u)&&!I?bf(o,p,(p.subtreeFlags&8772)!==0):gf(o,p),yd=E,ca=I}break;case 30:break;default:gf(o,p)}}function RC(o){var u=o.alternate;u!==null&&(o.alternate=null,RC(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&Oa(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var yi=null,po=!1;function xd(o,u,p){for(p=p.child;p!==null;)MC(o,u,p),p=p.sibling}function MC(o,u,p){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(De,p)}catch{}switch(p.tag){case 26:ca||cc(p,u),xd(o,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:ca||cc(p,u);var v=yi,E=po;Af(p.type)&&(yi=p.stateNode,po=!1),xd(o,u,p),Zm(p.stateNode),yi=v,po=E;break;case 5:ca||cc(p,u);case 6:if(v=yi,E=po,yi=null,xd(o,u,p),yi=v,po=E,yi!==null)if(po)try{(yi.nodeType===9?yi.body:yi.nodeName==="HTML"?yi.ownerDocument.body:yi).removeChild(p.stateNode)}catch(I){Kr(p,u,I)}else try{yi.removeChild(p.stateNode)}catch(I){Kr(p,u,I)}break;case 18:yi!==null&&(po?(o=yi,CE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),s1(o)):CE(yi,p.stateNode));break;case 4:v=yi,E=po,yi=p.stateNode.containerInfo,po=!0,xd(o,u,p),yi=v,po=E;break;case 0:case 11:case 14:case 15:ca||mf(2,p,u),ca||mf(4,p,u),xd(o,u,p);break;case 1:ca||(cc(p,u),v=p.stateNode,typeof v.componentWillUnmount=="function"&&jC(p,u,v)),xd(o,u,p);break;case 21:xd(o,u,p);break;case 22:ca=(v=ca)||p.memoizedState!==null,xd(o,u,p),ca=v;break;default:xd(o,u,p)}}function PC(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{s1(o)}catch(p){Kr(u,u.return,p)}}function s9(o){switch(o.tag){case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new DC),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new DC),u;default:throw Error(r(435,o.tag))}}function F2(o,u){var p=s9(o);u.forEach(function(v){var E=m9.bind(null,o,v);p.has(v)||(p.add(v),v.then(E,E))})}function $o(o,u){var p=u.deletions;if(p!==null)for(var v=0;v<p.length;v++){var E=p[v],I=o,J=u,pe=J;e:for(;pe!==null;){switch(pe.tag){case 27:if(Af(pe.type)){yi=pe.stateNode,po=!1;break e}break;case 5:yi=pe.stateNode,po=!1;break e;case 3:case 4:yi=pe.stateNode.containerInfo,po=!0;break e}pe=pe.return}if(yi===null)throw Error(r(160));MC(I,J,E),yi=null,po=!1,I=E.alternate,I!==null&&(I.return=null),E.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)FC(u,o),u=u.sibling}var uu=null;function FC(o,u){var p=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:$o(u,o),Ho(o),v&4&&(mf(3,o,o.return),Um(3,o),mf(5,o,o.return));break;case 1:$o(u,o),Ho(o),v&512&&(ca||p===null||cc(p,p.return)),v&64&&yd&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var E=uu;if($o(u,o),Ho(o),v&512&&(ca||p===null||cc(p,p.return)),v&4){var I=p!==null?p.memoizedState:null;if(v=o.memoizedState,p===null)if(v===null)if(o.stateNode===null){e:{v=o.type,p=o.memoizedProps,E=E.ownerDocument||E;t:switch(v){case"title":I=E.getElementsByTagName("title")[0],(!I||I[_r]||I[$n]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=E.createElement(v),E.head.insertBefore(I,E.querySelector("head > title"))),ls(I,v,p),I[$n]=o,Zn(I),v=I;break e;case"link":var J=IE("link","href",E).get(v+(p.href||""));if(J){for(var pe=0;pe<J.length;pe++)if(I=J[pe],I.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&I.getAttribute("rel")===(p.rel==null?null:p.rel)&&I.getAttribute("title")===(p.title==null?null:p.title)&&I.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){J.splice(pe,1);break t}}I=E.createElement(v),ls(I,v,p),E.head.appendChild(I);break;case"meta":if(J=IE("meta","content",E).get(v+(p.content||""))){for(pe=0;pe<J.length;pe++)if(I=J[pe],I.getAttribute("content")===(p.content==null?null:""+p.content)&&I.getAttribute("name")===(p.name==null?null:p.name)&&I.getAttribute("property")===(p.property==null?null:p.property)&&I.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&I.getAttribute("charset")===(p.charSet==null?null:p.charSet)){J.splice(pe,1);break t}}I=E.createElement(v),ls(I,v,p),E.head.appendChild(I);break;default:throw Error(r(468,v))}I[$n]=o,Zn(I),v=I}o.stateNode=v}else DE(E,o.type,o.stateNode);else o.stateNode=OE(E,v,o.memoizedProps);else I!==v?(I===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):I.count--,v===null?DE(E,o.type,o.stateNode):OE(E,v,o.memoizedProps)):v===null&&o.stateNode!==null&&L2(o,o.memoizedProps,p.memoizedProps)}break;case 27:$o(u,o),Ho(o),v&512&&(ca||p===null||cc(p,p.return)),p!==null&&v&4&&L2(o,o.memoizedProps,p.memoizedProps);break;case 5:if($o(u,o),Ho(o),v&512&&(ca||p===null||cc(p,p.return)),o.flags&32){E=o.stateNode;try{Vi(E,"")}catch(et){Kr(o,o.return,et)}}v&4&&o.stateNode!=null&&(E=o.memoizedProps,L2(o,E,p!==null?p.memoizedProps:E)),v&1024&&(P2=!0);break;case 6:if($o(u,o),Ho(o),v&4){if(o.stateNode===null)throw Error(r(162));v=o.memoizedProps,p=o.stateNode;try{p.nodeValue=v}catch(et){Kr(o,o.return,et)}}break;case 3:if(oy=null,E=uu,uu=ay(u.containerInfo),$o(u,o),uu=E,Ho(o),v&4&&p!==null&&p.memoizedState.isDehydrated)try{s1(u.containerInfo)}catch(et){Kr(o,o.return,et)}P2&&(P2=!1,zC(o));break;case 4:v=uu,uu=ay(o.stateNode.containerInfo),$o(u,o),Ho(o),uu=v;break;case 12:$o(u,o),Ho(o);break;case 13:$o(u,o),Ho(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(H2=he()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,F2(o,v)));break;case 22:E=o.memoizedState!==null;var je=p!==null&&p.memoizedState!==null,Ke=yd,pt=ca;if(yd=Ke||E,ca=pt||je,$o(u,o),ca=pt,yd=Ke,Ho(o),v&8192)e:for(u=o.stateNode,u._visibility=E?u._visibility&-2:u._visibility|1,E&&(p===null||je||yd||ca||Mh(o)),p=null,u=o;;){if(u.tag===5||u.tag===26){if(p===null){je=p=u;try{if(I=je.stateNode,E)J=I.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none";else{pe=je.stateNode;var wt=je.memoizedProps.style,Je=wt!=null&&wt.hasOwnProperty("display")?wt.display:null;pe.style.display=Je==null||typeof Je=="boolean"?"":(""+Je).trim()}}catch(et){Kr(je,je.return,et)}}}else if(u.tag===6){if(p===null){je=u;try{je.stateNode.nodeValue=E?"":je.memoizedProps}catch(et){Kr(je,je.return,et)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}v&4&&(v=o.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,F2(o,p))));break;case 19:$o(u,o),Ho(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,F2(o,v)));break;case 30:break;case 21:break;default:$o(u,o),Ho(o)}}function Ho(o){var u=o.flags;if(u&2){try{for(var p,v=o.return;v!==null;){if(OC(v)){p=v;break}v=v.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var E=p.stateNode,I=R2(o);Vb(o,I,E);break;case 5:var J=p.stateNode;p.flags&32&&(Vi(J,""),p.flags&=-33);var pe=R2(o);Vb(o,pe,J);break;case 3:case 4:var je=p.stateNode.containerInfo,Ke=R2(o);M2(o,Ke,je);break;default:throw Error(r(161))}}catch(pt){Kr(o,o.return,pt)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function zC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;zC(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function gf(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)LC(o,u.alternate,u),u=u.sibling}function Mh(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:mf(4,u,u.return),Mh(u);break;case 1:cc(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&jC(u,u.return,p),Mh(u);break;case 27:Zm(u.stateNode);case 26:case 5:cc(u,u.return),Mh(u);break;case 22:u.memoizedState===null&&Mh(u);break;case 30:Mh(u);break;default:Mh(u)}o=o.sibling}}function bf(o,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var v=u.alternate,E=o,I=u,J=I.flags;switch(I.tag){case 0:case 11:case 15:bf(E,I,p),Um(4,I);break;case 1:if(bf(E,I,p),v=I,E=v.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Ke){Kr(v,v.return,Ke)}if(v=I,E=v.updateQueue,E!==null){var pe=v.stateNode;try{var je=E.shared.hiddenCallbacks;if(je!==null)for(E.shared.hiddenCallbacks=null,E=0;E<je.length;E++)Wn(je[E],pe)}catch(Ke){Kr(v,v.return,Ke)}}p&&J&64&&NC(I),$m(I,I.return);break;case 27:IC(I);case 26:case 5:bf(E,I,p),p&&v===null&&J&4&&TC(I),$m(I,I.return);break;case 12:bf(E,I,p);break;case 13:bf(E,I,p),p&&J&4&&PC(E,I);break;case 22:I.memoizedState===null&&bf(E,I,p),$m(I,I.return);break;case 30:break;default:bf(E,I,p)}u=u.sibling}}function z2(o,u){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&Ah(p))}function q2(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Ah(o))}function dc(o,u,p,v){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)qC(o,u,p,v),u=u.sibling}function qC(o,u,p,v){var E=u.flags;switch(u.tag){case 0:case 11:case 15:dc(o,u,p,v),E&2048&&Um(9,u);break;case 1:dc(o,u,p,v);break;case 3:dc(o,u,p,v),E&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Ah(o)));break;case 12:if(E&2048){dc(o,u,p,v),o=u.stateNode;try{var I=u.memoizedProps,J=I.id,pe=I.onPostCommit;typeof pe=="function"&&pe(J,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(je){Kr(u,u.return,je)}}else dc(o,u,p,v);break;case 13:dc(o,u,p,v);break;case 23:break;case 22:I=u.stateNode,J=u.alternate,u.memoizedState!==null?I._visibility&2?dc(o,u,p,v):Hm(o,u):I._visibility&2?dc(o,u,p,v):(I._visibility|=2,Hp(o,u,p,v,(u.subtreeFlags&10256)!==0)),E&2048&&z2(J,u);break;case 24:dc(o,u,p,v),E&2048&&q2(u.alternate,u);break;default:dc(o,u,p,v)}}function Hp(o,u,p,v,E){for(E=E&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var I=o,J=u,pe=p,je=v,Ke=J.flags;switch(J.tag){case 0:case 11:case 15:Hp(I,J,pe,je,E),Um(8,J);break;case 23:break;case 22:var pt=J.stateNode;J.memoizedState!==null?pt._visibility&2?Hp(I,J,pe,je,E):Hm(I,J):(pt._visibility|=2,Hp(I,J,pe,je,E)),E&&Ke&2048&&z2(J.alternate,J);break;case 24:Hp(I,J,pe,je,E),E&&Ke&2048&&q2(J.alternate,J);break;default:Hp(I,J,pe,je,E)}u=u.sibling}}function Hm(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=o,v=u,E=v.flags;switch(v.tag){case 22:Hm(p,v),E&2048&&z2(v.alternate,v);break;case 24:Hm(p,v),E&2048&&q2(v.alternate,v);break;default:Hm(p,v)}u=u.sibling}}var Wm=8192;function Wp(o){if(o.subtreeFlags&Wm)for(o=o.child;o!==null;)BC(o),o=o.sibling}function BC(o){switch(o.tag){case 26:Wp(o),o.flags&Wm&&o.memoizedState!==null&&W9(uu,o.memoizedState,o.memoizedProps);break;case 5:Wp(o);break;case 3:case 4:var u=uu;uu=ay(o.stateNode.containerInfo),Wp(o),uu=u;break;case 22:o.memoizedState===null&&(u=o.alternate,u!==null&&u.memoizedState!==null?(u=Wm,Wm=16777216,Wp(o),Wm=u):Wp(o));break;default:Wp(o)}}function UC(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function Vm(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];Va=v,HC(v,o)}UC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)$C(o),o=o.sibling}function $C(o){switch(o.tag){case 0:case 11:case 15:Vm(o),o.flags&2048&&mf(9,o,o.return);break;case 3:Vm(o);break;case 12:Vm(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,Yb(o)):Vm(o);break;default:Vm(o)}}function Yb(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];Va=v,HC(v,o)}UC(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:mf(8,u,u.return),Yb(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,Yb(u));break;default:Yb(u)}o=o.sibling}}function HC(o,u){for(;Va!==null;){var p=Va;switch(p.tag){case 0:case 11:case 15:mf(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Ah(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,Va=v;else e:for(p=o;Va!==null;){v=Va;var E=v.sibling,I=v.return;if(RC(v),v===p){Va=null;break e}if(E!==null){E.return=I,Va=E;break e}Va=I}}}var o9={getCacheForType:function(o){var u=oa(la),p=u.data.get(o);return p===void 0&&(p=o(),u.data.set(o,p)),p}},l9=typeof WeakMap=="function"?WeakMap:Map,jr=0,ni=null,zn=null,Yn=0,Tr=0,Wo=null,yf=!1,Vp=!1,B2=!1,vd=0,Ki=0,xf=0,Ph=0,U2=0,Cl=0,Yp=0,Ym=null,mo=null,$2=!1,H2=0,Gb=1/0,Qb=null,vf=null,os=0,wf=null,Gp=null,Qp=0,W2=0,V2=null,WC=null,Gm=0,Y2=null;function Vo(){if((jr&2)!==0&&Yn!==0)return Yn&-Yn;if(H.T!==null){var o=cd;return o!==0?o:e5()}return si()}function VC(){Cl===0&&(Cl=(Yn&536870912)===0||Jn?Mn():536870912);var o=Al.current;return o!==null&&(o.flags|=32),Cl}function Yo(o,u,p){(o===ni&&(Tr===2||Tr===9)||o.cancelPendingCommit!==null)&&(Kp(o,0),Sf(o,Yn,Cl,!1)),rr(o,p),((jr&2)===0||o!==ni)&&(o===ni&&((jr&2)===0&&(Ph|=p),Ki===4&&Sf(o,Yn,Cl,!1)),fc(o))}function YC(o,u,p){if((jr&6)!==0)throw Error(r(327));var v=!p&&(u&124)===0&&(u&o.expiredLanes)===0||Jt(o,u),E=v?d9(o,u):K2(o,u,!0),I=v;do{if(E===0){Vp&&!v&&Sf(o,u,0,!1);break}else{if(p=o.current.alternate,I&&!u9(p)){E=K2(o,u,!1),I=!1;continue}if(E===2){if(I=u,o.errorRecoveryDisabledLanes&I)var J=0;else J=o.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){u=J;e:{var pe=o;E=Ym;var je=pe.current.memoizedState.isDehydrated;if(je&&(Kp(pe,J).flags|=256),J=K2(pe,J,!1),J!==2){if(B2&&!je){pe.errorRecoveryDisabledLanes|=I,Ph|=I,E=4;break e}I=mo,mo=E,I!==null&&(mo===null?mo=I:mo.push.apply(mo,I))}E=J}if(I=!1,E!==2)continue}}if(E===1){Kp(o,0),Sf(o,u,0,!0);break}e:{switch(v=o,I=E,I){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Sf(v,u,Cl,!yf);break e;case 2:mo=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(E=H2+300-he(),10<E)){if(Sf(v,u,Cl,!yf),Gt(v,0,!0)!==0)break e;v.timeoutHandle=SE(GC.bind(null,v,p,mo,Qb,$2,u,Cl,Ph,Yp,yf,I,2,-0,0),E);break e}GC(v,p,mo,Qb,$2,u,Cl,Ph,Yp,yf,I,0,-0,0)}}break}while(!0);fc(o)}function GC(o,u,p,v,E,I,J,pe,je,Ke,pt,wt,Je,et){if(o.timeoutHandle=-1,wt=u.subtreeFlags,(wt&8192||(wt&16785408)===16785408)&&(t1={stylesheets:null,count:0,unsuspend:H9},BC(u),wt=V9(),wt!==null)){o.cancelPendingCommit=wt(tE.bind(null,o,u,I,p,v,E,J,pe,je,pt,1,Je,et)),Sf(o,I,J,!Ke);return}tE(o,u,I,p,v,E,J,pe,je)}function u9(o){for(var u=o;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var E=p[v],I=E.getSnapshot;E=E.value;try{if(!Aa(I(),E))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Sf(o,u,p,v){u&=~U2,u&=~Ph,o.suspendedLanes|=u,o.pingedLanes&=~u,v&&(o.warmLanes|=u),v=o.expirationTimes;for(var E=u;0<E;){var I=31-Ne(E),J=1<<I;v[I]=-1,E&=~J}p!==0&&Ht(o,p,u)}function Kb(){return(jr&6)===0?(Qm(0),!1):!0}function G2(){if(zn!==null){if(Tr===0)var o=zn.return;else o=zn,ru=Ea=null,Mp(o),Up=null,zm=0,o=zn;for(;o!==null;)kC(o.alternate,o),o=o.return;zn=null}}function Kp(o,u){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,k9(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),G2(),ni=o,zn=p=bl(o.current,null),Yn=u,Tr=0,Wo=null,yf=!1,Vp=Jt(o,u),B2=!1,Yp=Cl=U2=Ph=xf=Ki=0,mo=Ym=null,$2=!1,(u&8)!==0&&(u|=u&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=u;0<v;){var E=31-Ne(v),I=1<<E;u|=o[E],v&=~I}return vd=u,uo(),p}function QC(o,u){Kt=null,H.H=Pb,u===oe||u===fe?(u=Be(),Tr=3):u===ue?(u=Be(),Tr=4):Tr=u===hC?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Wo=u,zn===null&&(Ki=1,Ub(o,Tn(u,o.current)))}function KC(){var o=H.H;return H.H=Pb,o===null?Pb:o}function XC(){var o=H.A;return H.A=o9,o}function Q2(){Ki=4,yf||(Yn&4194048)!==Yn&&Al.current!==null||(Vp=!0),(xf&134217727)===0&&(Ph&134217727)===0||ni===null||Sf(ni,Yn,Cl,!1)}function K2(o,u,p){var v=jr;jr|=2;var E=KC(),I=XC();(ni!==o||Yn!==u)&&(Qb=null,Kp(o,u)),u=!1;var J=Ki;e:do try{if(Tr!==0&&zn!==null){var pe=zn,je=Wo;switch(Tr){case 8:G2(),J=6;break e;case 3:case 2:case 9:case 6:Al.current===null&&(u=!0);var Ke=Tr;if(Tr=0,Wo=null,Xp(o,pe,je,Ke),p&&Vp){J=0;break e}break;default:Ke=Tr,Tr=0,Wo=null,Xp(o,pe,je,Ke)}}c9(),J=Ki;break}catch(pt){QC(o,pt)}while(!0);return u&&o.shellSuspendCounter++,ru=Ea=null,jr=v,H.H=E,H.A=I,zn===null&&(ni=null,Yn=0,uo()),J}function c9(){for(;zn!==null;)ZC(zn)}function d9(o,u){var p=jr;jr|=2;var v=KC(),E=XC();ni!==o||Yn!==u?(Qb=null,Gb=he()+500,Kp(o,u)):Vp=Jt(o,u);e:do try{if(Tr!==0&&zn!==null){u=zn;var I=Wo;t:switch(Tr){case 1:Tr=0,Wo=null,Xp(o,u,I,1);break;case 2:case 9:if(Ae(I)){Tr=0,Wo=null,JC(u);break}u=function(){Tr!==2&&Tr!==9||ni!==o||(Tr=7),fc(o)},I.then(u,u);break e;case 3:Tr=7;break e;case 4:Tr=5;break e;case 7:Ae(I)?(Tr=0,Wo=null,JC(u)):(Tr=0,Wo=null,Xp(o,u,I,7));break;case 5:var J=null;switch(zn.tag){case 26:J=zn.memoizedState;case 5:case 27:var pe=zn;if(!J||LE(J)){Tr=0,Wo=null;var je=pe.sibling;if(je!==null)zn=je;else{var Ke=pe.return;Ke!==null?(zn=Ke,Xb(Ke)):zn=null}break t}}Tr=0,Wo=null,Xp(o,u,I,5);break;case 6:Tr=0,Wo=null,Xp(o,u,I,6);break;case 8:G2(),Ki=6;break e;default:throw Error(r(462))}}f9();break}catch(pt){QC(o,pt)}while(!0);return ru=Ea=null,H.H=v,H.A=E,jr=p,zn!==null?0:(ni=null,Yn=0,uo(),Ki)}function f9(){for(;zn!==null&&!Se();)ZC(zn)}function ZC(o){var u=EC(o.alternate,o,vd);o.memoizedProps=o.pendingProps,u===null?Xb(o):zn=u}function JC(o){var u=o,p=u.alternate;switch(u.tag){case 15:case 0:u=xC(p,u,u.pendingProps,u.type,void 0,Yn);break;case 11:u=xC(p,u,u.pendingProps,u.type.render,u.ref,Yn);break;case 5:Mp(u);default:kC(p,u),u=zn=xh(u,vd),u=EC(p,u,vd)}o.memoizedProps=o.pendingProps,u===null?Xb(o):zn=u}function Xp(o,u,p,v){ru=Ea=null,Mp(u),Up=null,zm=0;var E=u.return;try{if(t9(o,E,u,p,Yn)){Ki=1,Ub(o,Tn(p,o.current)),zn=null;return}}catch(I){if(E!==null)throw zn=E,I;Ki=1,Ub(o,Tn(p,o.current)),zn=null;return}u.flags&32768?(Jn||v===1?o=!0:Vp||(Yn&536870912)!==0?o=!1:(yf=o=!0,(v===2||v===9||v===3||v===6)&&(v=Al.current,v!==null&&v.tag===13&&(v.flags|=16384))),eE(u,o)):Xb(u)}function Xb(o){var u=o;do{if((u.flags&32768)!==0){eE(u,yf);return}o=u.return;var p=r9(u.alternate,u,vd);if(p!==null){zn=p;return}if(u=u.sibling,u!==null){zn=u;return}zn=u=o}while(u!==null);Ki===0&&(Ki=5)}function eE(o,u){do{var p=i9(o.alternate,o);if(p!==null){p.flags&=32767,zn=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(o=o.sibling,o!==null)){zn=o;return}zn=o=p}while(o!==null);Ki=6,zn=null}function tE(o,u,p,v,E,I,J,pe,je){o.cancelPendingCommit=null;do Zb();while(os!==0);if((jr&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(I=u.lanes|u.childLanes,I|=ji,Dn(o,p,I,J,pe,je),o===ni&&(zn=ni=null,Yn=0),Gp=u,wf=o,Qp=p,W2=I,V2=E,WC=v,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,g9(Fe,function(){return sE(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||v){v=H.T,H.T=null,E=G.p,G.p=2,J=jr,jr|=4;try{a9(o,u,p)}finally{jr=J,G.p=E,H.T=v}}os=1,nE(),rE(),iE()}}function nE(){if(os===1){os=0;var o=wf,u=Gp,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=H.T,H.T=null;var v=G.p;G.p=2;var E=jr;jr|=4;try{FC(u,o);var I=l5,J=rs(o.containerInfo),pe=I.focusedElem,je=I.selectionRange;if(J!==pe&&pe&&pe.ownerDocument&&Yu(pe.ownerDocument.documentElement,pe)){if(je!==null&&Da(pe)){var Ke=je.start,pt=je.end;if(pt===void 0&&(pt=Ke),"selectionStart"in pe)pe.selectionStart=Ke,pe.selectionEnd=Math.min(pt,pe.value.length);else{var wt=pe.ownerDocument||document,Je=wt&&wt.defaultView||window;if(Je.getSelection){var et=Je.getSelection(),cn=pe.textContent.length,en=Math.min(je.start,cn),Br=je.end===void 0?en:Math.min(je.end,cn);!et.extend&&en>Br&&(J=Br,Br=en,en=J);var $e=Ql(pe,en),ze=Ql(pe,Br);if($e&&ze&&(et.rangeCount!==1||et.anchorNode!==$e.node||et.anchorOffset!==$e.offset||et.focusNode!==ze.node||et.focusOffset!==ze.offset)){var Ye=wt.createRange();Ye.setStart($e.node,$e.offset),et.removeAllRanges(),en>Br?(et.addRange(Ye),et.extend(ze.node,ze.offset)):(Ye.setEnd(ze.node,ze.offset),et.addRange(Ye))}}}}for(wt=[],et=pe;et=et.parentNode;)et.nodeType===1&&wt.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof pe.focus=="function"&&pe.focus(),pe=0;pe<wt.length;pe++){var bt=wt[pe];bt.element.scrollLeft=bt.left,bt.element.scrollTop=bt.top}}cy=!!o5,l5=o5=null}finally{jr=E,G.p=v,H.T=p}}o.current=u,os=2}}function rE(){if(os===2){os=0;var o=wf,u=Gp,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=H.T,H.T=null;var v=G.p;G.p=2;var E=jr;jr|=4;try{LC(o,u.alternate,u)}finally{jr=E,G.p=v,H.T=p}}os=3}}function iE(){if(os===4||os===3){os=0,se();var o=wf,u=Gp,p=Qp,v=WC;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?os=5:(os=0,Gp=wf=null,aE(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(vf=null),vr(p),u=u.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(De,u,void 0,(u.current.flags&128)===128)}catch{}if(v!==null){u=H.T,E=G.p,G.p=2,H.T=null;try{for(var I=o.onRecoverableError,J=0;J<v.length;J++){var pe=v[J];I(pe.value,{componentStack:pe.stack})}}finally{H.T=u,G.p=E}}(Qp&3)!==0&&Zb(),fc(o),E=o.pendingLanes,(p&4194090)!==0&&(E&42)!==0?o===Y2?Gm++:(Gm=0,Y2=o):Gm=0,Qm(0)}}function aE(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,Ah(u)))}function Zb(o){return nE(),rE(),iE(),sE()}function sE(){if(os!==5)return!1;var o=wf,u=W2;W2=0;var p=vr(Qp),v=H.T,E=G.p;try{G.p=32>p?32:p,H.T=null,p=V2,V2=null;var I=wf,J=Qp;if(os=0,Gp=wf=null,Qp=0,(jr&6)!==0)throw Error(r(331));var pe=jr;if(jr|=4,$C(I.current),qC(I,I.current,J,p),jr=pe,Qm(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(De,I)}catch{}return!0}finally{G.p=E,H.T=v,aE(o,u)}}function oE(o,u,p){u=Tn(p,u),u=E2(o.stateNode,u,2),o=xt(o,u,2),o!==null&&(rr(o,2),fc(o))}function Kr(o,u,p){if(o.tag===3)oE(o,o,p);else for(;u!==null;){if(u.tag===3){oE(u,o,p);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(vf===null||!vf.has(v))){o=Tn(p,o),p=dC(2),v=xt(u,p,2),v!==null&&(fC(p,v,u,o),rr(v,2),fc(v));break}}u=u.return}}function X2(o,u,p){var v=o.pingCache;if(v===null){v=o.pingCache=new l9;var E=new Set;v.set(u,E)}else E=v.get(u),E===void 0&&(E=new Set,v.set(u,E));E.has(p)||(B2=!0,E.add(p),o=h9.bind(null,o,u,p),u.then(o,o))}function h9(o,u,p){var v=o.pingCache;v!==null&&v.delete(u),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,ni===o&&(Yn&p)===p&&(Ki===4||Ki===3&&(Yn&62914560)===Yn&&300>he()-H2?(jr&2)===0&&Kp(o,0):U2|=p,Yp===Yn&&(Yp=0)),fc(o)}function lE(o,u){u===0&&(u=Pn()),o=Xl(o,u),o!==null&&(rr(o,u),fc(o))}function p9(o){var u=o.memoizedState,p=0;u!==null&&(p=u.retryLane),lE(o,p)}function m9(o,u){var p=0;switch(o.tag){case 13:var v=o.stateNode,E=o.memoizedState;E!==null&&(p=E.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(u),lE(o,p)}function g9(o,u){return He(o,u)}var Jb=null,Zp=null,Z2=!1,ey=!1,J2=!1,Fh=0;function fc(o){o!==Zp&&o.next===null&&(Zp===null?Jb=Zp=o:Zp=Zp.next=o),ey=!0,Z2||(Z2=!0,y9())}function Qm(o,u){if(!J2&&ey){J2=!0;do for(var p=!1,v=Jb;v!==null;){if(o!==0){var E=v.pendingLanes;if(E===0)var I=0;else{var J=v.suspendedLanes,pe=v.pingedLanes;I=(1<<31-Ne(42|o)+1)-1,I&=E&~(J&~pe),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(p=!0,fE(v,I))}else I=Yn,I=Gt(v,v===ni?I:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(I&3)===0||Jt(v,I)||(p=!0,fE(v,I));v=v.next}while(p);J2=!1}}function b9(){uE()}function uE(){ey=Z2=!1;var o=0;Fh!==0&&(_9()&&(o=Fh),Fh=0);for(var u=he(),p=null,v=Jb;v!==null;){var E=v.next,I=cE(v,u);I===0?(v.next=null,p===null?Jb=E:p.next=E,E===null&&(Zp=p)):(p=v,(o!==0||(I&3)!==0)&&(ey=!0)),v=E}Qm(o)}function cE(o,u){for(var p=o.suspendedLanes,v=o.pingedLanes,E=o.expirationTimes,I=o.pendingLanes&-62914561;0<I;){var J=31-Ne(I),pe=1<<J,je=E[J];je===-1?((pe&p)===0||(pe&v)!==0)&&(E[J]=sn(pe,u)):je<=u&&(o.expiredLanes|=pe),I&=~pe}if(u=ni,p=Yn,p=Gt(o,o===u?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,p===0||o===u&&(Tr===2||Tr===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&V(v),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||Jt(o,p)){if(u=p&-p,u===o.callbackPriority)return u;switch(v!==null&&V(v),vr(p)){case 2:case 8:p=Le;break;case 32:p=Fe;break;case 268435456:p=Qe;break;default:p=Fe}return v=dE.bind(null,o),p=He(p,v),o.callbackPriority=u,o.callbackNode=p,u}return v!==null&&v!==null&&V(v),o.callbackPriority=2,o.callbackNode=null,2}function dE(o,u){if(os!==0&&os!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(Zb()&&o.callbackNode!==p)return null;var v=Yn;return v=Gt(o,o===ni?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(YC(o,v,u),cE(o,he()),o.callbackNode!=null&&o.callbackNode===p?dE.bind(null,o):null)}function fE(o,u){if(Zb())return null;YC(o,u,!0)}function y9(){N9(function(){(jr&6)!==0?He(we,b9):uE()})}function e5(){return Fh===0&&(Fh=Mn()),Fh}function hE(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Ws(""+o)}function pE(o,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,o.id&&p.setAttribute("form",o.id),u.parentNode.insertBefore(p,u),o=new FormData(o),p.parentNode.removeChild(p),o}function x9(o,u,p,v,E){if(u==="submit"&&p&&p.stateNode===E){var I=hE((E[ir]||null).action),J=v.submitter;J&&(u=(u=J[ir]||null)?hE(u.formAction):J.getAttribute("formAction"),u!==null&&(I=u,J=null));var pe=new at("action","action",null,v,E);o.push({event:pe,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Fh!==0){var je=J?pE(E,J):new FormData(E);Sl(p,{pending:!0,data:je,method:E.method,action:I},null,je)}}else typeof I=="function"&&(pe.preventDefault(),je=J?pE(E,J):new FormData(E),Sl(p,{pending:!0,data:je,method:E.method,action:I},I,je))},currentTarget:E}]})}}for(var t5=0;t5<id.length;t5++){var n5=id[t5],v9=n5.toLowerCase(),w9=n5[0].toUpperCase()+n5.slice(1);gi(v9,"on"+w9)}gi(tf,"onAnimationEnd"),gi(Qu,"onAnimationIteration"),gi(Ku,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(Xu,"onTransitionRun"),gi(rd,"onTransitionStart"),gi(nf,"onTransitionCancel"),gi(Zu,"onTransitionEnd"),Pr("onMouseEnter",["mouseout","mouseover"]),Pr("onMouseLeave",["mouseout","mouseover"]),Pr("onPointerEnter",["pointerout","pointerover"]),Pr("onPointerLeave",["pointerout","pointerover"]),Ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Km="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Km));function mE(o,u){u=(u&4)!==0;for(var p=0;p<o.length;p++){var v=o[p],E=v.event;v=v.listeners;e:{var I=void 0;if(u)for(var J=v.length-1;0<=J;J--){var pe=v[J],je=pe.instance,Ke=pe.currentTarget;if(pe=pe.listener,je!==I&&E.isPropagationStopped())break e;I=pe,E.currentTarget=Ke;try{I(E)}catch(pt){Bb(pt)}E.currentTarget=null,I=je}else for(J=0;J<v.length;J++){if(pe=v[J],je=pe.instance,Ke=pe.currentTarget,pe=pe.listener,je!==I&&E.isPropagationStopped())break e;I=pe,E.currentTarget=Ke;try{I(E)}catch(pt){Bb(pt)}E.currentTarget=null,I=je}}}}function qn(o,u){var p=u[cr];p===void 0&&(p=u[cr]=new Set);var v=o+"__bubble";p.has(v)||(gE(u,o,2,!1),p.add(v))}function r5(o,u,p){var v=0;u&&(v|=4),gE(p,o,v,u)}var ty="_reactListening"+Math.random().toString(36).slice(2);function i5(o){if(!o[ty]){o[ty]=!0,ro.forEach(function(p){p!=="selectionchange"&&(S9.has(p)||r5(p,!1,o),r5(p,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[ty]||(u[ty]=!0,r5("selectionchange",!1,u))}}function gE(o,u,p,v){switch(qE(u)){case 2:var E=Q9;break;case 8:E=K9;break;default:E=y5}p=E.bind(null,u,p,o),E=void 0,!Do||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(E=!0),v?E!==void 0?o.addEventListener(u,p,{capture:!0,passive:E}):o.addEventListener(u,p,!0):E!==void 0?o.addEventListener(u,p,{passive:E}):o.addEventListener(u,p,!1)}function a5(o,u,p,v,E){var I=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var J=v.tag;if(J===3||J===4){var pe=v.stateNode.containerInfo;if(pe===E)break;if(J===4)for(J=v.return;J!==null;){var je=J.tag;if((je===3||je===4)&&J.stateNode.containerInfo===E)return;J=J.return}for(;pe!==null;){if(J=Hi(pe),J===null)return;if(je=J.tag,je===5||je===6||je===26||je===27){v=I=J;continue e}pe=pe.parentNode}}v=v.return}fl(function(){var Ke=I,pt=oi(p),wt=[];e:{var Je=Kl.get(o);if(Je!==void 0){var et=at,cn=o;switch(o){case"keypress":if(oo(p)===0)break e;case"keydown":case"keyup":et=Kd;break;case"focusin":cn="focus",et=Qr;break;case"focusout":cn="blur",et=Qr;break;case"beforeblur":case"afterblur":et=Qr;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=kr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=wr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=mh;break;case tf:case Qu:case Ku:et=Vs;break;case Zu:et=ae;break;case"scroll":case"scrollend":et=Ft;break;case"wheel":et=Re;break;case"copy":case"cut":case"paste":et=Yd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=Xd;break;case"toggle":case"beforetoggle":et=ct}var en=(u&4)!==0,Br=!en&&(o==="scroll"||o==="scrollend"),$e=en?Je!==null?Je+"Capture":null:Je;en=[];for(var ze=Ke,Ye;ze!==null;){var bt=ze;if(Ye=bt.stateNode,bt=bt.tag,bt!==5&&bt!==26&&bt!==27||Ye===null||$e===null||(bt=_i(ze,$e),bt!=null&&en.push(Xm(ze,bt,Ye))),Br)break;ze=ze.return}0<en.length&&(Je=new et(Je,cn,null,p,pt),wt.push({event:Je,listeners:en}))}}if((u&7)===0){e:{if(Je=o==="mouseover"||o==="pointerover",et=o==="mouseout"||o==="pointerout",Je&&p!==dl&&(cn=p.relatedTarget||p.fromElement)&&(Hi(cn)||cn[Mr]))break e;if((et||Je)&&(Je=pt.window===pt?pt:(Je=pt.ownerDocument)?Je.defaultView||Je.parentWindow:window,et?(cn=p.relatedTarget||p.toElement,et=Ke,cn=cn?Hi(cn):null,cn!==null&&(Br=a(cn),en=cn.tag,cn!==Br||en!==5&&en!==27&&en!==6)&&(cn=null)):(et=null,cn=Ke),et!==cn)){if(en=kr,bt="onMouseLeave",$e="onMouseEnter",ze="mouse",(o==="pointerout"||o==="pointerover")&&(en=Xd,bt="onPointerLeave",$e="onPointerEnter",ze="pointer"),Br=et==null?Je:Xn(et),Ye=cn==null?Je:Xn(cn),Je=new en(bt,ze+"leave",et,p,pt),Je.target=Br,Je.relatedTarget=Ye,bt=null,Hi(pt)===Ke&&(en=new en($e,ze+"enter",cn,p,pt),en.target=Ye,en.relatedTarget=Br,bt=en),Br=bt,et&&cn)t:{for(en=et,$e=cn,ze=0,Ye=en;Ye;Ye=Jp(Ye))ze++;for(Ye=0,bt=$e;bt;bt=Jp(bt))Ye++;for(;0<ze-Ye;)en=Jp(en),ze--;for(;0<Ye-ze;)$e=Jp($e),Ye--;for(;ze--;){if(en===$e||$e!==null&&en===$e.alternate)break t;en=Jp(en),$e=Jp($e)}en=null}else en=null;et!==null&&bE(wt,Je,et,en,!1),cn!==null&&Br!==null&&bE(wt,Br,cn,en,!0)}}e:{if(Je=Ke?Xn(Ke):window,et=Je.nodeName&&Je.nodeName.toLowerCase(),et==="select"||et==="input"&&Je.type==="file")var Mt=Jd;else if(Po(Je))if(Jc)Mt=Np;else{Mt=Am;var Ln=As}else et=Je.nodeName,!et||et.toLowerCase()!=="input"||Je.type!=="checkbox"&&Je.type!=="radio"?Ke&&za(Ke.elementType)&&(Mt=Jd):Mt=bh;if(Mt&&(Mt=Mt(o,Ke))){gh(wt,Mt,p,pt);break e}Ln&&Ln(o,Je,Ke),o==="focusout"&&Ke&&Je.type==="number"&&Ke.memoizedProps.value!=null&&Io(Je,"number",Je.value)}switch(Ln=Ke?Xn(Ke):window,o){case"focusin":(Po(Ln)||Ln.contentEditable==="true")&&(Cs=Ln,Fo=Ke,ml=null);break;case"focusout":ml=Fo=Cs=null;break;case"mousedown":zo=!0;break;case"contextmenu":case"mouseup":case"dragend":zo=!1,mi(wt,p,pt);break;case"selectionchange":if(Gu)break;case"keydown":case"keyup":mi(wt,p,pt)}var Yt;if(Nt)e:{switch(o){case"compositionstart":var rn="onCompositionStart";break e;case"compositionend":rn="onCompositionEnd";break e;case"compositionupdate":rn="onCompositionUpdate";break e}rn=void 0}else Ni?li(o,p)&&(rn="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(rn="onCompositionStart");rn&&(dn&&p.locale!=="ko"&&(Ni||rn!=="onCompositionStart"?rn==="onCompositionEnd"&&Ni&&(Yt=hl()):(Ia=pt,Ua="value"in Ia?Ia.value:Ia.textContent,Ni=!0)),Ln=ny(Ke,rn),0<Ln.length&&(rn=new Ro(rn,o,null,p,pt),wt.push({event:rn,listeners:Ln}),Yt?rn.data=Yt:(Yt=ki(p),Yt!==null&&(rn.data=Yt)))),(Yt=yn?Sa(o,p):Mo(o,p))&&(rn=ny(Ke,"onBeforeInput"),0<rn.length&&(Ln=new Ro("onBeforeInput","beforeinput",null,p,pt),wt.push({event:Ln,listeners:rn}),Ln.data=Yt)),x9(wt,o,Ke,p,pt)}mE(wt,u)})}function Xm(o,u,p){return{instance:o,listener:u,currentTarget:p}}function ny(o,u){for(var p=u+"Capture",v=[];o!==null;){var E=o,I=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||I===null||(E=_i(o,p),E!=null&&v.unshift(Xm(o,E,I)),E=_i(o,u),E!=null&&v.push(Xm(o,E,I))),o.tag===3)return v;o=o.return}return[]}function Jp(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function bE(o,u,p,v,E){for(var I=u._reactName,J=[];p!==null&&p!==v;){var pe=p,je=pe.alternate,Ke=pe.stateNode;if(pe=pe.tag,je!==null&&je===v)break;pe!==5&&pe!==26&&pe!==27||Ke===null||(je=Ke,E?(Ke=_i(p,I),Ke!=null&&J.unshift(Xm(p,Ke,je))):E||(Ke=_i(p,I),Ke!=null&&J.push(Xm(p,Ke,je)))),p=p.return}J.length!==0&&o.push({event:u,listeners:J})}var A9=/\r\n?/g,C9=/\u0000|\uFFFD/g;function yE(o){return(typeof o=="string"?o:""+o).replace(A9,`
`).replace(C9,"")}function xE(o,u){return u=yE(u),yE(o)===u}function ry(){}function qr(o,u,p,v,E,I){switch(p){case"children":typeof v=="string"?u==="body"||u==="textarea"&&v===""||Vi(o,v):(typeof v=="number"||typeof v=="bigint")&&u!=="body"&&Vi(o,""+v);break;case"className":bs(o,"class",v);break;case"tabIndex":bs(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":bs(o,p,v);break;case"style":Uu(o,v,I);break;case"data":if(u!=="object"){bs(o,"data",v);break}case"src":case"href":if(v===""&&(u!=="a"||p!=="href")){o.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=Ws(""+v),o.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(p==="formAction"?(u!=="input"&&qr(o,u,"name",E.name,E,null),qr(o,u,"formEncType",E.formEncType,E,null),qr(o,u,"formMethod",E.formMethod,E,null),qr(o,u,"formTarget",E.formTarget,E,null)):(qr(o,u,"encType",E.encType,E,null),qr(o,u,"method",E.method,E,null),qr(o,u,"target",E.target,E,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=Ws(""+v),o.setAttribute(p,v);break;case"onClick":v!=null&&(o.onclick=ry);break;case"onScroll":v!=null&&qn("scroll",o);break;case"onScrollEnd":v!=null&&qn("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}p=Ws(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""+v):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":v===!0?o.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,v):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(p,v):o.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(p):o.setAttribute(p,v);break;case"popover":qn("beforetoggle",o),qn("toggle",o),Bs(o,"popover",v);break;case"xlinkActuate":Pa(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Pa(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Pa(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Pa(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Pa(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Pa(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Pa(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Pa(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Pa(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Bs(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Hs.get(p)||p,Bs(o,p,v))}}function s5(o,u,p,v,E,I){switch(p){case"style":Uu(o,v,I);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"children":typeof v=="string"?Vi(o,v):(typeof v=="number"||typeof v=="bigint")&&Vi(o,""+v);break;case"onScroll":v!=null&&qn("scroll",o);break;case"onScrollEnd":v!=null&&qn("scrollend",o);break;case"onClick":v!=null&&(o.onclick=ry);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!To.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(E=p.endsWith("Capture"),u=p.slice(2,E?p.length-7:void 0),I=o[ir]||null,I=I!=null?I[p]:null,typeof I=="function"&&o.removeEventListener(u,I,E),typeof v=="function")){typeof I!="function"&&I!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(u,v,E);break e}p in o?o[p]=v:v===!0?o.setAttribute(p,""):Bs(o,p,v)}}}function ls(o,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qn("error",o),qn("load",o);var v=!1,E=!1,I;for(I in p)if(p.hasOwnProperty(I)){var J=p[I];if(J!=null)switch(I){case"src":v=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:qr(o,u,I,J,p,null)}}E&&qr(o,u,"srcSet",p.srcSet,p,null),v&&qr(o,u,"src",p.src,p,null);return;case"input":qn("invalid",o);var pe=I=J=E=null,je=null,Ke=null;for(v in p)if(p.hasOwnProperty(v)){var pt=p[v];if(pt!=null)switch(v){case"name":E=pt;break;case"type":J=pt;break;case"checked":je=pt;break;case"defaultChecked":Ke=pt;break;case"value":I=pt;break;case"defaultValue":pe=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(r(137,u));break;default:qr(o,u,v,pt,p,null)}}Vl(o,I,pe,je,Ke,J,E,!1),Fa(o);return;case"select":qn("invalid",o),v=J=I=null;for(E in p)if(p.hasOwnProperty(E)&&(pe=p[E],pe!=null))switch(E){case"value":I=pe;break;case"defaultValue":J=pe;break;case"multiple":v=pe;default:qr(o,u,E,pe,p,null)}u=I,p=J,o.multiple=!!v,u!=null?Us(o,!!v,u,!1):p!=null&&Us(o,!!v,p,!0);return;case"textarea":qn("invalid",o),I=E=v=null;for(J in p)if(p.hasOwnProperty(J)&&(pe=p[J],pe!=null))switch(J){case"value":v=pe;break;case"defaultValue":E=pe;break;case"children":I=pe;break;case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(91));break;default:qr(o,u,J,pe,p,null)}$s(o,v,E,I),Fa(o);return;case"option":for(je in p)if(p.hasOwnProperty(je)&&(v=p[je],v!=null))switch(je){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:qr(o,u,je,v,p,null)}return;case"dialog":qn("beforetoggle",o),qn("toggle",o),qn("cancel",o),qn("close",o);break;case"iframe":case"object":qn("load",o);break;case"video":case"audio":for(v=0;v<Km.length;v++)qn(Km[v],o);break;case"image":qn("error",o),qn("load",o);break;case"details":qn("toggle",o);break;case"embed":case"source":case"link":qn("error",o),qn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ke in p)if(p.hasOwnProperty(Ke)&&(v=p[Ke],v!=null))switch(Ke){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:qr(o,u,Ke,v,p,null)}return;default:if(za(u)){for(pt in p)p.hasOwnProperty(pt)&&(v=p[pt],v!==void 0&&s5(o,u,pt,v,p,void 0));return}}for(pe in p)p.hasOwnProperty(pe)&&(v=p[pe],v!=null&&qr(o,u,pe,v,p,null))}function E9(o,u,p,v){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,I=null,J=null,pe=null,je=null,Ke=null,pt=null;for(et in p){var wt=p[et];if(p.hasOwnProperty(et)&&wt!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":je=wt;default:v.hasOwnProperty(et)||qr(o,u,et,null,v,wt)}}for(var Je in v){var et=v[Je];if(wt=p[Je],v.hasOwnProperty(Je)&&(et!=null||wt!=null))switch(Je){case"type":I=et;break;case"name":E=et;break;case"checked":Ke=et;break;case"defaultChecked":pt=et;break;case"value":J=et;break;case"defaultValue":pe=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(r(137,u));break;default:et!==wt&&qr(o,u,Je,et,v,wt)}}Oo(o,J,pe,je,Ke,pt,I,E);return;case"select":et=J=pe=Je=null;for(I in p)if(je=p[I],p.hasOwnProperty(I)&&je!=null)switch(I){case"value":break;case"multiple":et=je;default:v.hasOwnProperty(I)||qr(o,u,I,null,v,je)}for(E in v)if(I=v[E],je=p[E],v.hasOwnProperty(E)&&(I!=null||je!=null))switch(E){case"value":Je=I;break;case"defaultValue":pe=I;break;case"multiple":J=I;default:I!==je&&qr(o,u,E,I,v,je)}u=pe,p=J,v=et,Je!=null?Us(o,!!p,Je,!1):!!v!=!!p&&(u!=null?Us(o,!!p,u,!0):Us(o,!!p,p?[]:"",!1));return;case"textarea":et=Je=null;for(pe in p)if(E=p[pe],p.hasOwnProperty(pe)&&E!=null&&!v.hasOwnProperty(pe))switch(pe){case"value":break;case"children":break;default:qr(o,u,pe,null,v,E)}for(J in v)if(E=v[J],I=p[J],v.hasOwnProperty(J)&&(E!=null||I!=null))switch(J){case"value":Je=E;break;case"defaultValue":et=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==I&&qr(o,u,J,E,v,I)}Bu(o,Je,et);return;case"option":for(var cn in p)if(Je=p[cn],p.hasOwnProperty(cn)&&Je!=null&&!v.hasOwnProperty(cn))switch(cn){case"selected":o.selected=!1;break;default:qr(o,u,cn,null,v,Je)}for(je in v)if(Je=v[je],et=p[je],v.hasOwnProperty(je)&&Je!==et&&(Je!=null||et!=null))switch(je){case"selected":o.selected=Je&&typeof Je!="function"&&typeof Je!="symbol";break;default:qr(o,u,je,Je,v,et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var en in p)Je=p[en],p.hasOwnProperty(en)&&Je!=null&&!v.hasOwnProperty(en)&&qr(o,u,en,null,v,Je);for(Ke in v)if(Je=v[Ke],et=p[Ke],v.hasOwnProperty(Ke)&&Je!==et&&(Je!=null||et!=null))switch(Ke){case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(r(137,u));break;default:qr(o,u,Ke,Je,v,et)}return;default:if(za(u)){for(var Br in p)Je=p[Br],p.hasOwnProperty(Br)&&Je!==void 0&&!v.hasOwnProperty(Br)&&s5(o,u,Br,void 0,v,Je);for(pt in v)Je=v[pt],et=p[pt],!v.hasOwnProperty(pt)||Je===et||Je===void 0&&et===void 0||s5(o,u,pt,Je,v,et);return}}for(var $e in p)Je=p[$e],p.hasOwnProperty($e)&&Je!=null&&!v.hasOwnProperty($e)&&qr(o,u,$e,null,v,Je);for(wt in v)Je=v[wt],et=p[wt],!v.hasOwnProperty(wt)||Je===et||Je==null&&et==null||qr(o,u,wt,Je,v,et)}var o5=null,l5=null;function iy(o){return o.nodeType===9?o:o.ownerDocument}function vE(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wE(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function u5(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var c5=null;function _9(){var o=window.event;return o&&o.type==="popstate"?o===c5?!1:(c5=o,!0):(c5=null,!1)}var SE=typeof setTimeout=="function"?setTimeout:void 0,k9=typeof clearTimeout=="function"?clearTimeout:void 0,AE=typeof Promise=="function"?Promise:void 0,N9=typeof queueMicrotask=="function"?queueMicrotask:typeof AE<"u"?function(o){return AE.resolve(null).then(o).catch(j9)}:SE;function j9(o){setTimeout(function(){throw o})}function Af(o){return o==="head"}function CE(o,u){var p=u,v=0,E=0;do{var I=p.nextSibling;if(o.removeChild(p),I&&I.nodeType===8)if(p=I.data,p==="/$"){if(0<v&&8>v){p=v;var J=o.ownerDocument;if(p&1&&Zm(J.documentElement),p&2&&Zm(J.body),p&4)for(p=J.head,Zm(p),J=p.firstChild;J;){var pe=J.nextSibling,je=J.nodeName;J[_r]||je==="SCRIPT"||je==="STYLE"||je==="LINK"&&J.rel.toLowerCase()==="stylesheet"||p.removeChild(J),J=pe}}if(E===0){o.removeChild(I),s1(u);return}E--}else p==="$"||p==="$?"||p==="$!"?E++:v=p.charCodeAt(0)-48;else v=0;p=I}while(p);s1(u)}function d5(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":d5(p),Oa(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function T9(o,u,p,v){for(;o.nodeType===1;){var E=p;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[_r])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(I=o.getAttribute("rel"),I==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(I!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(I=o.getAttribute("src"),(I!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&I&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var I=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===I)return o}else return o;if(o=cu(o.nextSibling),o===null)break}return null}function O9(o,u,p){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=cu(o.nextSibling),o===null))return null;return o}function f5(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function I9(o,u){var p=o.ownerDocument;if(o.data!=="$?"||p.readyState==="complete")u();else{var v=function(){u(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function cu(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return o}var h5=null;function EE(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return o;u--}else p==="/$"&&u++}o=o.previousSibling}return null}function _E(o,u,p){switch(u=iy(p),o){case"html":if(o=u.documentElement,!o)throw Error(r(452));return o;case"head":if(o=u.head,!o)throw Error(r(453));return o;case"body":if(o=u.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Zm(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);Oa(o)}var El=new Map,kE=new Set;function ay(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var wd=G.d;G.d={f:D9,r:L9,D:R9,C:M9,L:P9,m:F9,X:q9,S:z9,M:B9};function D9(){var o=wd.f(),u=Kb();return o||u}function L9(o){var u=Wi(o);u!==null&&u.tag===5&&u.type==="form"?Dh(u):wd.r(o)}var e0=typeof document>"u"?null:document;function NE(o,u,p){var v=e0;if(v&&typeof u=="string"&&u){var E=fr(u);E='link[rel="'+o+'"][href="'+E+'"]',typeof p=="string"&&(E+='[crossorigin="'+p+'"]'),kE.has(E)||(kE.add(E),o={rel:o,crossOrigin:p,href:u},v.querySelector(E)===null&&(u=v.createElement("link"),ls(u,"link",o),Zn(u),v.head.appendChild(u)))}}function R9(o){wd.D(o),NE("dns-prefetch",o,null)}function M9(o,u){wd.C(o,u),NE("preconnect",o,u)}function P9(o,u,p){wd.L(o,u,p);var v=e0;if(v&&o&&u){var E='link[rel="preload"][as="'+fr(u)+'"]';u==="image"&&p&&p.imageSrcSet?(E+='[imagesrcset="'+fr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(E+='[imagesizes="'+fr(p.imageSizes)+'"]')):E+='[href="'+fr(o)+'"]';var I=E;switch(u){case"style":I=t0(o);break;case"script":I=n0(o)}El.has(I)||(o=h({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:o,as:u},p),El.set(I,o),v.querySelector(E)!==null||u==="style"&&v.querySelector(Jm(I))||u==="script"&&v.querySelector(e1(I))||(u=v.createElement("link"),ls(u,"link",o),Zn(u),v.head.appendChild(u)))}}function F9(o,u){wd.m(o,u);var p=e0;if(p&&o){var v=u&&typeof u.as=="string"?u.as:"script",E='link[rel="modulepreload"][as="'+fr(v)+'"][href="'+fr(o)+'"]',I=E;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=n0(o)}if(!El.has(I)&&(o=h({rel:"modulepreload",href:o},u),El.set(I,o),p.querySelector(E)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(e1(I)))return}v=p.createElement("link"),ls(v,"link",o),Zn(v),p.head.appendChild(v)}}}function z9(o,u,p){wd.S(o,u,p);var v=e0;if(v&&o){var E=Ei(v).hoistableStyles,I=t0(o);u=u||"default";var J=E.get(I);if(!J){var pe={loading:0,preload:null};if(J=v.querySelector(Jm(I)))pe.loading=5;else{o=h({rel:"stylesheet",href:o,"data-precedence":u},p),(p=El.get(I))&&p5(o,p);var je=J=v.createElement("link");Zn(je),ls(je,"link",o),je._p=new Promise(function(Ke,pt){je.onload=Ke,je.onerror=pt}),je.addEventListener("load",function(){pe.loading|=1}),je.addEventListener("error",function(){pe.loading|=2}),pe.loading|=4,sy(J,u,v)}J={type:"stylesheet",instance:J,count:1,state:pe},E.set(I,J)}}}function q9(o,u){wd.X(o,u);var p=e0;if(p&&o){var v=Ei(p).hoistableScripts,E=n0(o),I=v.get(E);I||(I=p.querySelector(e1(E)),I||(o=h({src:o,async:!0},u),(u=El.get(E))&&m5(o,u),I=p.createElement("script"),Zn(I),ls(I,"link",o),p.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(E,I))}}function B9(o,u){wd.M(o,u);var p=e0;if(p&&o){var v=Ei(p).hoistableScripts,E=n0(o),I=v.get(E);I||(I=p.querySelector(e1(E)),I||(o=h({src:o,async:!0,type:"module"},u),(u=El.get(E))&&m5(o,u),I=p.createElement("script"),Zn(I),ls(I,"link",o),p.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(E,I))}}function jE(o,u,p,v){var E=(E=ne.current)?ay(E):null;if(!E)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=t0(p.href),p=Ei(E).hoistableStyles,v=p.get(u),v||(v={type:"style",instance:null,count:0,state:null},p.set(u,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=t0(p.href);var I=Ei(E).hoistableStyles,J=I.get(o);if(J||(E=E.ownerDocument||E,J={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(o,J),(I=E.querySelector(Jm(o)))&&!I._p&&(J.instance=I,J.state.loading=5),El.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},El.set(o,p),I||U9(E,o,p,J.state))),u&&v===null)throw Error(r(528,""));return J}if(u&&v!==null)throw Error(r(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=n0(p),p=Ei(E).hoistableScripts,v=p.get(u),v||(v={type:"script",instance:null,count:0,state:null},p.set(u,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function t0(o){return'href="'+fr(o)+'"'}function Jm(o){return'link[rel="stylesheet"]['+o+"]"}function TE(o){return h({},o,{"data-precedence":o.precedence,precedence:null})}function U9(o,u,p,v){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?v.loading=1:(u=o.createElement("link"),v.preload=u,u.addEventListener("load",function(){return v.loading|=1}),u.addEventListener("error",function(){return v.loading|=2}),ls(u,"link",p),Zn(u),o.head.appendChild(u))}function n0(o){return'[src="'+fr(o)+'"]'}function e1(o){return"script[async]"+o}function OE(o,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var v=o.querySelector('style[data-href~="'+fr(p.href)+'"]');if(v)return u.instance=v,Zn(v),v;var E=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),Zn(v),ls(v,"style",E),sy(v,p.precedence,o),u.instance=v;case"stylesheet":E=t0(p.href);var I=o.querySelector(Jm(E));if(I)return u.state.loading|=4,u.instance=I,Zn(I),I;v=TE(p),(E=El.get(E))&&p5(v,E),I=(o.ownerDocument||o).createElement("link"),Zn(I);var J=I;return J._p=new Promise(function(pe,je){J.onload=pe,J.onerror=je}),ls(I,"link",v),u.state.loading|=4,sy(I,p.precedence,o),u.instance=I;case"script":return I=n0(p.src),(E=o.querySelector(e1(I)))?(u.instance=E,Zn(E),E):(v=p,(E=El.get(I))&&(v=h({},p),m5(v,E)),o=o.ownerDocument||o,E=o.createElement("script"),Zn(E),ls(E,"link",v),o.head.appendChild(E),u.instance=E);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(v=u.instance,u.state.loading|=4,sy(v,p.precedence,o));return u.instance}function sy(o,u,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=v.length?v[v.length-1]:null,I=E,J=0;J<v.length;J++){var pe=v[J];if(pe.dataset.precedence===u)I=pe;else if(I!==E)break}I?I.parentNode.insertBefore(o,I.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(o,u.firstChild))}function p5(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function m5(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var oy=null;function IE(o,u,p){if(oy===null){var v=new Map,E=oy=new Map;E.set(p,v)}else E=oy,v=E.get(p),v||(v=new Map,E.set(p,v));if(v.has(o))return v;for(v.set(o,null),p=p.getElementsByTagName(o),E=0;E<p.length;E++){var I=p[E];if(!(I[_r]||I[$n]||o==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var J=I.getAttribute(u)||"";J=o+J;var pe=v.get(J);pe?pe.push(I):v.set(J,[I])}}return v}function DE(o,u,p){o=o.ownerDocument||o,o.head.insertBefore(p,u==="title"?o.querySelector("head > title"):null)}function $9(o,u,p){if(p===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function LE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var t1=null;function H9(){}function W9(o,u,p){if(t1===null)throw Error(r(475));var v=t1;if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var E=t0(p.href),I=o.querySelector(Jm(E));if(I){o=I._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(v.count++,v=ly.bind(v),o.then(v,v)),u.state.loading|=4,u.instance=I,Zn(I);return}I=o.ownerDocument||o,p=TE(p),(E=El.get(E))&&p5(p,E),I=I.createElement("link"),Zn(I);var J=I;J._p=new Promise(function(pe,je){J.onload=pe,J.onerror=je}),ls(I,"link",p),u.instance=I}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(v.count++,u=ly.bind(v),o.addEventListener("load",u),o.addEventListener("error",u))}}function V9(){if(t1===null)throw Error(r(475));var o=t1;return o.stylesheets&&o.count===0&&g5(o,o.stylesheets),0<o.count?function(u){var p=setTimeout(function(){if(o.stylesheets&&g5(o,o.stylesheets),o.unsuspend){var v=o.unsuspend;o.unsuspend=null,v()}},6e4);return o.unsuspend=u,function(){o.unsuspend=null,clearTimeout(p)}}:null}function ly(){if(this.count--,this.count===0){if(this.stylesheets)g5(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var uy=null;function g5(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,uy=new Map,u.forEach(Y9,o),uy=null,ly.call(o))}function Y9(o,u){if(!(u.state.loading&4)){var p=uy.get(o);if(p)var v=p.get(null);else{p=new Map,uy.set(o,p);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<E.length;I++){var J=E[I];(J.nodeName==="LINK"||J.getAttribute("media")!=="not all")&&(p.set(J.dataset.precedence,J),v=J)}v&&p.set(null,v)}E=u.instance,J=E.getAttribute("data-precedence"),I=p.get(J)||v,I===v&&p.set(null,E),p.set(J,E),this.count++,v=ly.bind(this),E.addEventListener("load",v),E.addEventListener("error",v),I?I.parentNode.insertBefore(E,I.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),u.state.loading|=4}}var n1={$$typeof:N,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function G9(o,u,p,v,E,I,J,pe){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.hiddenUpdates=Gr(null),this.identifierPrefix=v,this.onUncaughtError=E,this.onCaughtError=I,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pe,this.incompleteTransitions=new Map}function RE(o,u,p,v,E,I,J,pe,je,Ke,pt,wt){return o=new G9(o,u,p,J,pe,je,Ke,wt),u=1,I===!0&&(u|=24),I=Ha(3,null,null,u),o.current=I,I.stateNode=o,u=Em(),u.refCount++,o.pooledCache=u,u.refCount++,I.memoizedState={element:v,isDehydrated:p,cache:u},Pe(I),o}function ME(o){return o?(o=Ca,o):Ca}function PE(o,u,p,v,E,I){E=ME(E),v.context===null?v.context=E:v.pendingContext=E,v=ht(u),v.payload={element:p},I=I===void 0?null:I,I!==null&&(v.callback=I),p=xt(o,v,u),p!==null&&(Yo(p,o,u),gt(p,o,u))}function FE(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<u?p:u}}function b5(o,u){FE(o,u),(o=o.alternate)&&FE(o,u)}function zE(o){if(o.tag===13){var u=Xl(o,67108864);u!==null&&Yo(u,o,67108864),b5(o,67108864)}}var cy=!0;function Q9(o,u,p,v){var E=H.T;H.T=null;var I=G.p;try{G.p=2,y5(o,u,p,v)}finally{G.p=I,H.T=E}}function K9(o,u,p,v){var E=H.T;H.T=null;var I=G.p;try{G.p=8,y5(o,u,p,v)}finally{G.p=I,H.T=E}}function y5(o,u,p,v){if(cy){var E=x5(v);if(E===null)a5(o,u,v,dy,p),BE(o,v);else if(Z9(E,o,u,p,v))v.stopPropagation();else if(BE(o,v),u&4&&-1<X9.indexOf(o)){for(;E!==null;){var I=Wi(E);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var J=It(I.pendingLanes);if(J!==0){var pe=I;for(pe.pendingLanes|=2,pe.entangledLanes|=2;J;){var je=1<<31-Ne(J);pe.entanglements[1]|=je,J&=~je}fc(I),(jr&6)===0&&(Gb=he()+500,Qm(0))}}break;case 13:pe=Xl(I,2),pe!==null&&Yo(pe,I,2),Kb(),b5(I,2)}if(I=x5(v),I===null&&a5(o,u,v,dy,p),I===E)break;E=I}E!==null&&v.stopPropagation()}else a5(o,u,v,null,p)}}function x5(o){return o=oi(o),v5(o)}var dy=null;function v5(o){if(dy=null,o=Hi(o),o!==null){var u=a(o);if(u===null)o=null;else{var p=u.tag;if(p===13){if(o=s(u),o!==null)return o;o=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return dy=o,null}function qE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case we:return 2;case Le:return 8;case Fe:case _e:return 32;case Qe:return 268435456;default:return 32}default:return 32}}var w5=!1,Cf=null,Ef=null,_f=null,r1=new Map,i1=new Map,kf=[],X9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BE(o,u){switch(o){case"focusin":case"focusout":Cf=null;break;case"dragenter":case"dragleave":Ef=null;break;case"mouseover":case"mouseout":_f=null;break;case"pointerover":case"pointerout":r1.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":i1.delete(u.pointerId)}}function a1(o,u,p,v,E,I){return o===null||o.nativeEvent!==I?(o={blockedOn:u,domEventName:p,eventSystemFlags:v,nativeEvent:I,targetContainers:[E]},u!==null&&(u=Wi(u),u!==null&&zE(u)),o):(o.eventSystemFlags|=v,u=o.targetContainers,E!==null&&u.indexOf(E)===-1&&u.push(E),o)}function Z9(o,u,p,v,E){switch(u){case"focusin":return Cf=a1(Cf,o,u,p,v,E),!0;case"dragenter":return Ef=a1(Ef,o,u,p,v,E),!0;case"mouseover":return _f=a1(_f,o,u,p,v,E),!0;case"pointerover":var I=E.pointerId;return r1.set(I,a1(r1.get(I)||null,o,u,p,v,E)),!0;case"gotpointercapture":return I=E.pointerId,i1.set(I,a1(i1.get(I)||null,o,u,p,v,E)),!0}return!1}function UE(o){var u=Hi(o.target);if(u!==null){var p=a(u);if(p!==null){if(u=p.tag,u===13){if(u=s(p),u!==null){o.blockedOn=u,va(o.priority,function(){if(p.tag===13){var v=Vo();v=xa(v);var E=Xl(p,v);E!==null&&Yo(E,p,v),b5(p,v)}});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function fy(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var p=x5(o.nativeEvent);if(p===null){p=o.nativeEvent;var v=new p.constructor(p.type,p);dl=v,p.target.dispatchEvent(v),dl=null}else return u=Wi(p),u!==null&&zE(u),o.blockedOn=p,!1;u.shift()}return!0}function $E(o,u,p){fy(o)&&p.delete(u)}function J9(){w5=!1,Cf!==null&&fy(Cf)&&(Cf=null),Ef!==null&&fy(Ef)&&(Ef=null),_f!==null&&fy(_f)&&(_f=null),r1.forEach($E),i1.forEach($E)}function hy(o,u){o.blockedOn===u&&(o.blockedOn=null,w5||(w5=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,J9)))}var py=null;function HE(o){py!==o&&(py=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){py===o&&(py=null);for(var u=0;u<o.length;u+=3){var p=o[u],v=o[u+1],E=o[u+2];if(typeof v!="function"){if(v5(v||p)===null)continue;break}var I=Wi(p);I!==null&&(o.splice(u,3),u-=3,Sl(I,{pending:!0,data:E,method:p.method,action:v},v,E))}}))}function s1(o){function u(je){return hy(je,o)}Cf!==null&&hy(Cf,o),Ef!==null&&hy(Ef,o),_f!==null&&hy(_f,o),r1.forEach(u),i1.forEach(u);for(var p=0;p<kf.length;p++){var v=kf[p];v.blockedOn===o&&(v.blockedOn=null)}for(;0<kf.length&&(p=kf[0],p.blockedOn===null);)UE(p),p.blockedOn===null&&kf.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var E=p[v],I=p[v+1],J=E[ir]||null;if(typeof I=="function")J||HE(p);else if(J){var pe=null;if(I&&I.hasAttribute("formAction")){if(E=I,J=I[ir]||null)pe=J.formAction;else if(v5(E)!==null)continue}else pe=J.action;typeof pe=="function"?p[v+1]=pe:(p.splice(v,3),v-=3),HE(p)}}}function S5(o){this._internalRoot=o}my.prototype.render=S5.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));var p=u.current,v=Vo();PE(p,v,o,u,null,null)},my.prototype.unmount=S5.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;PE(o.current,2,null,o,null,null),Kb(),u[Mr]=null}};function my(o){this._internalRoot=o}my.prototype.unstable_scheduleHydration=function(o){if(o){var u=si();o={blockedOn:null,target:o,priority:u};for(var p=0;p<kf.length&&u!==0&&u<kf[p].priority;p++);kf.splice(p,0,o),p===0&&UE(o)}};var WE=n.version;if(WE!=="19.1.1")throw Error(r(527,WE,"19.1.1"));G.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=c(u),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var eR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gy.isDisabled&&gy.supportsFiber)try{De=gy.inject(eR),xe=gy}catch{}}return o1.createRoot=function(o,u){if(!i(o))throw Error(r(299));var p=!1,v="",E=oC,I=lC,J=uC,pe=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(J=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(pe=u.unstable_transitionCallbacks)),u=RE(o,1,!1,null,null,p,v,E,I,J,pe,null),o[Mr]=u.current,i5(o),new S5(u)},o1.hydrateRoot=function(o,u,p){if(!i(o))throw Error(r(299));var v=!1,E="",I=oC,J=lC,pe=uC,je=null,Ke=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onUncaughtError!==void 0&&(I=p.onUncaughtError),p.onCaughtError!==void 0&&(J=p.onCaughtError),p.onRecoverableError!==void 0&&(pe=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(je=p.unstable_transitionCallbacks),p.formState!==void 0&&(Ke=p.formState)),u=RE(o,1,!0,u,p??null,v,E,I,J,pe,je,Ke),u.context=ME(null),p=u.current,v=Vo(),v=xa(v),E=ht(v),E.callback=null,xt(p,E,v),p=v,u.current.lanes=p,rr(u,p),fc(u),o[Mr]=u.current,i5(o),new my(u)},o1.version="19.1.1",o1}var ZE;function f3(){if(ZE)return A5.exports;ZE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),A5.exports=d3(),A5.exports}var h3=f3();const p3=$i(h3);typeof window<"u"&&(window.styled_default=qc,window.styled=qc);typeof globalThis<"u"&&(globalThis.styled_default=qc,globalThis.styled=qc);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},pg.apply(this,arguments)}var Yh;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yh||(Yh={}));const JE="popstate";function m3(e){e===void 0&&(e={});function n(r,i){let{pathname:a,search:s,hash:l}=r.location;return Xw("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:xT(i)}return b3(n,t,null,e)}function zs(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function yT(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function g3(){return Math.random().toString(36).substr(2,8)}function e_(e,n){return{usr:e.state,key:e.key,idx:n}}function Xw(e,n,t,r){return t===void 0&&(t=null),pg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?Hg(n):n,{state:t,key:n&&n.key||r||g3()})}function xT(e){let{pathname:n="/",search:t="",hash:r=""}=e;return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function Hg(e){let n={};if(e){let t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));let r=e.indexOf("?");r>=0&&(n.search=e.substr(r),e=e.substr(0,r)),e&&(n.pathname=e)}return n}function b3(e,n,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,l=Yh.Pop,c=null,d=h();d==null&&(d=0,s.replaceState(pg({},s.state,{idx:d}),""));function h(){return(s.state||{idx:null}).idx}function g(){l=Yh.Pop;let A=h(),w=A==null?null:A-d;d=A,c&&c({action:l,location:y.location,delta:w})}function b(A,w){l=Yh.Push;let C=Xw(y.location,A,w);d=h()+1;let N=e_(C,d),P=y.createHref(C);try{s.pushState(N,"",P)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(P)}a&&c&&c({action:l,location:y.location,delta:1})}function m(A,w){l=Yh.Replace;let C=Xw(y.location,A,w);d=h();let N=e_(C,d),P=y.createHref(C);s.replaceState(N,"",P),a&&c&&c({action:l,location:y.location,delta:0})}function x(A){let w=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof A=="string"?A:xT(A);return C=C.replace(/ $/,"%20"),zs(w,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,w)}let y={get action(){return l},get location(){return e(i,s)},listen(A){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(JE,g),c=A,()=>{i.removeEventListener(JE,g),c=null}},createHref(A){return n(i,A)},createURL:x,encodeLocation(A){let w=x(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:b,replace:m,go(A){return s.go(A)}};return y}var t_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(t_||(t_={}));function y3(e,n,t){return t===void 0&&(t="/"),x3(e,n,t)}function x3(e,n,t,r){let i=typeof n=="string"?Hg(n):n,a=ST(i.pathname||"/",t);if(a==null)return null;let s=vT(e);v3(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let d=I3(a);l=j3(s[c],d)}return l}function vT(e,n,t,r){n===void 0&&(n=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,s,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(zs(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Zh([r,c.relativePath]),h=t.concat(c);a.children&&a.children.length>0&&(zs(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),vT(a.children,n,h,d)),!(a.path==null&&!a.index)&&n.push({path:d,score:k3(d,a.index),routesMeta:h})};return e.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let c of wT(a.path))i(a,s,c)}),n}function wT(e){let n=e.split("/");if(n.length===0)return[];let[t,...r]=n,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=wT(r.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function v3(e){e.sort((n,t)=>n.score!==t.score?t.score-n.score:N3(n.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const w3=/^:[\w-]+$/,S3=3,A3=2,C3=1,E3=10,_3=-2,n_=e=>e==="*";function k3(e,n){let t=e.split("/"),r=t.length;return t.some(n_)&&(r+=_3),n&&(r+=A3),t.filter(i=>!n_(i)).reduce((i,a)=>i+(w3.test(a)?S3:a===""?C3:E3),r)}function N3(e,n){return e.length===n.length&&e.slice(0,-1).every((r,i)=>r===n[i])?e[e.length-1]-n[n.length-1]:0}function j3(e,n,t){let{routesMeta:r}=e,i={},a="/",s=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=a==="/"?n:n.slice(a.length)||"/",g=T3({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),b=c.route;if(!g)return null;Object.assign(i,g.params),s.push({params:i,pathname:Zh([a,g.pathname]),pathnameBase:M3(Zh([a,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(a=Zh([a,g.pathnameBase]))}return s}function T3(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,r]=O3(e.path,e.caseSensitive,e.end),i=n.match(t);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,h,g)=>{let{paramName:b,isOptional:m}=h;if(b==="*"){let y=l[g]||"";s=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const x=l[g];return m&&!x?d[b]=void 0:d[b]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:s,pattern:e}}function O3(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!0),yT(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),r]}function I3(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return yT(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function ST(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,r=e.charAt(t);return r&&r!=="/"?null:e.slice(t)||"/"}function D3(e,n){n===void 0&&(n="/");let{pathname:t,search:r="",hash:i=""}=typeof e=="string"?Hg(e):e;return{pathname:t?t.startsWith("/")?t:L3(t,n):n,search:P3(r),hash:F3(i)}}function L3(e,n){let t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function _5(e,n,t,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function R3(e){return e.filter((n,t)=>t===0||n.route.path&&n.route.path.length>0)}function AT(e,n){let t=R3(e);return n?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function CT(e,n,t,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Hg(e):(i=pg({},e),zs(!i.pathname||!i.pathname.includes("?"),_5("?","pathname","search",i)),zs(!i.pathname||!i.pathname.includes("#"),_5("#","pathname","hash",i)),zs(!i.search||!i.search.includes("#"),_5("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=t;else{let g=n.length-1;if(!r&&s.startsWith("..")){let b=s.split("/");for(;b[0]==="..";)b.shift(),g-=1;i.pathname=b.join("/")}l=g>=0?n[g]:"/"}let c=D3(i,l),d=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const Zh=e=>e.join("/").replace(/\/\/+/g,"/"),M3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,F3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function z3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ET=["post","put","patch","delete"];new Set(ET);const q3=["get",...ET];new Set(q3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},jx.apply(this,arguments)}const T6=K.createContext(null),B3=K.createContext(null),Wg=K.createContext(null),O6=K.createContext(null),oh=K.createContext({outlet:null,matches:[],isDataRoute:!1}),_T=K.createContext(null);function Vg(){return K.useContext(O6)!=null}function uv(){return Vg()||zs(!1),K.useContext(O6).location}function kT(e){K.useContext(Wg).static||K.useLayoutEffect(e)}function pi(){let{isDataRoute:e}=K.useContext(oh);return e?eM():U3()}function U3(){Vg()||zs(!1);let e=K.useContext(T6),{basename:n,future:t,navigator:r}=K.useContext(Wg),{matches:i}=K.useContext(oh),{pathname:a}=uv(),s=JSON.stringify(AT(i,t.v7_relativeSplatPath)),l=K.useRef(!1);return kT(()=>{l.current=!0}),K.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let g=CT(d,JSON.parse(s),a,h.relative==="path");e==null&&n!=="/"&&(g.pathname=g.pathname==="/"?n:Zh([n,g.pathname])),(h.replace?r.replace:r.push)(g,h.state,h)},[n,r,s,a,e])}function I6(){let{matches:e}=K.useContext(oh),n=e[e.length-1];return n?n.params:{}}function $3(e,n){return H3(e)}function H3(e,n,t,r){Vg()||zs(!1);let{navigator:i}=K.useContext(Wg),{matches:a}=K.useContext(oh),s=a[a.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let d=uv(),h;h=d;let g=h.pathname||"/",b=g;if(c!=="/"){let y=c.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=y3(e,{pathname:b});return Q3(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Zh([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Zh([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,t,r)}function W3(){let e=J3(),n=z3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},n),t?K.createElement("pre",{style:i},t):null,null)}const V3=K.createElement(W3,null);class Y3 extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?K.createElement(oh.Provider,{value:this.props.routeContext},K.createElement(_T.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G3(e){let{routeContext:n,match:t,children:r}=e,i=K.useContext(T6);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),K.createElement(oh.Provider,{value:n},r)}function Q3(e,n,t,r){var i;if(n===void 0&&(n=[]),t===void 0&&(t=null),r===void 0&&(r=null),e==null){var a;if(!t)return null;if(t.errors)e=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&n.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let s=e,l=(i=t)==null?void 0:i.errors;if(l!=null){let h=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);h>=0||zs(!1),s=s.slice(0,Math.min(s.length,h+1))}let c=!1,d=-1;if(t&&r&&r.v7_partialHydration)for(let h=0;h<s.length;h++){let g=s[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=h),g.route.id){let{loaderData:b,errors:m}=t,x=g.route.loader&&b[g.route.id]===void 0&&(!m||m[g.route.id]===void 0);if(g.route.lazy||x){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((h,g,b)=>{let m,x=!1,y=null,A=null;t&&(m=l&&g.route.id?l[g.route.id]:void 0,y=g.route.errorElement||V3,c&&(d<0&&b===0?(tM("route-fallback"),x=!0,A=null):d===b&&(x=!0,A=g.route.hydrateFallbackElement||null)));let w=n.concat(s.slice(0,b+1)),C=()=>{let N;return m?N=y:x?N=A:g.route.Component?N=K.createElement(g.route.Component,null):g.route.element?N=g.route.element:N=h,K.createElement(G3,{match:g,routeContext:{outlet:h,matches:w,isDataRoute:t!=null},children:N})};return t&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?K.createElement(Y3,{location:t.location,revalidation:t.revalidation,component:y,error:m,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}var NT=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(NT||{}),jT=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(jT||{});function K3(e){let n=K.useContext(T6);return n||zs(!1),n}function X3(e){let n=K.useContext(B3);return n||zs(!1),n}function Z3(e){let n=K.useContext(oh);return n||zs(!1),n}function TT(e){let n=Z3(),t=n.matches[n.matches.length-1];return t.route.id||zs(!1),t.route.id}function J3(){var e;let n=K.useContext(_T),t=X3(),r=TT();return n!==void 0?n:(e=t.errors)==null?void 0:e[r]}function eM(){let{router:e}=K3(NT.UseNavigateStable),n=TT(jT.UseNavigateStable),t=K.useRef(!1);return kT(()=>{t.current=!0}),K.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,jx({fromRouteId:n},a)))},[e,n])}const r_={};function tM(e,n,t){r_[e]||(r_[e]=!0)}function nM(e,n){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function OT(e){let{to:n,replace:t,state:r,relative:i}=e;Vg()||zs(!1);let{future:a,static:s}=K.useContext(Wg),{matches:l}=K.useContext(oh),{pathname:c}=uv(),d=pi(),h=CT(n,AT(l,a.v7_relativeSplatPath),c,i==="path"),g=JSON.stringify(h);return K.useEffect(()=>d(JSON.parse(g),{replace:t,state:r,relative:i}),[d,g,i,t,r]),null}function rM(e){let{basename:n="/",children:t=null,location:r,navigationType:i=Yh.Pop,navigator:a,static:s=!1,future:l}=e;Vg()&&zs(!1);let c=n.replace(/^\/*/,"/"),d=K.useMemo(()=>({basename:c,navigator:a,static:s,future:jx({v7_relativeSplatPath:!1},l)}),[c,l,a,s]);typeof r=="string"&&(r=Hg(r));let{pathname:h="/",search:g="",hash:b="",state:m=null,key:x="default"}=r,y=K.useMemo(()=>{let A=ST(h,c);return A==null?null:{location:{pathname:A,search:g,hash:b,state:m,key:x},navigationType:i}},[c,h,g,b,m,x,i]);return y==null?null:K.createElement(Wg.Provider,{value:d},K.createElement(O6.Provider,{children:t,value:y}))}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zw(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((n,t)=>{let r=e[t];return n.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function iM(e,n){let t=Zw(e);return n&&n.forEach((r,i)=>{t.has(i)||n.getAll(i).forEach(a=>{t.append(i,a)})}),t}const aM="6";try{window.__reactRouterVersion=aM}catch{}const sM="startTransition",i_=C6[sM];function oM(e){let{basename:n,children:t,future:r,window:i}=e,a=K.useRef();a.current==null&&(a.current=m3({window:i,v5Compat:!0}));let s=a.current,[l,c]=K.useState({action:s.action,location:s.location}),{v7_startTransition:d}=r||{},h=K.useCallback(g=>{d&&i_?i_(()=>c(g)):c(g)},[c,d]);return K.useLayoutEffect(()=>s.listen(h),[s,h]),K.useEffect(()=>nM(r),[r]),K.createElement(rM,{basename:n,children:t,location:l.location,navigationType:l.action,navigator:s,future:r})}var a_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(a_||(a_={}));var s_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(s_||(s_={}));function Yg(e){let n=K.useRef(Zw(e)),t=K.useRef(!1),r=uv(),i=K.useMemo(()=>iM(r.search,t.current?null:n.current),[r.search]),a=pi(),s=K.useCallback((l,c)=>{const d=Zw(typeof l=="function"?l(i):l);t.current=!0,a("?"+d,c)},[a,i]);return[i,s]}const lM="modulepreload",uM=function(e){return"/nexlab/"+e},o_={},Ri=function(n,t,r){let i=Promise.resolve();if(t&&t.length>0){let s=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=s(t.map(d=>{if(d=uM(d),d in o_)return;o_[d]=!0;const h=d.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const b=document.createElement("link");if(b.rel=h?"stylesheet":lM,h||(b.as="script"),b.crossOrigin="",b.href=d,c&&b.setAttribute("nonce",c),document.head.appendChild(b),h)return new Promise((m,x)=>{b.addEventListener("load",m),b.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return n().catch(a)})};var Ko=(e=>(e.NETWORK="NETWORK",e.AUTHENTICATION="AUTHENTICATION",e.AUTHORIZATION="AUTHORIZATION",e.VALIDATION="VALIDATION",e.NOT_FOUND="NOT_FOUND",e.SERVER_ERROR="SERVER_ERROR",e.UNKNOWN="UNKNOWN",e))(Ko||{});const l_={"auth/user-not-found":{type:"AUTHENTICATION",message:"No user found with this email address."},"auth/wrong-password":{type:"AUTHENTICATION",message:"Incorrect password. Please try again."},"auth/user-disabled":{type:"AUTHORIZATION",message:"This account has been disabled. Please contact support."},"auth/too-many-requests":{type:"NETWORK",message:"Too many failed attempts. Please try again later."},"auth/network-request-failed":{type:"NETWORK",message:"Network error. Please check your connection and try again."},"permission-denied":{type:"AUTHORIZATION",message:"You do not have permission for this action."},"not-found":{type:"NOT_FOUND",message:"The requested resource was not found."},unavailable:{type:"NETWORK",message:"Service is temporarily unavailable. Please try again."}},Vh=class Vh{constructor(){Xe(this,"errorQueue",[]);Xe(this,"maxErrorQueueSize",50)}static getInstance(){return Vh.instance||(Vh.instance=new Vh),Vh.instance}handleError(n,t){const r=this.createAppError(n,t);return this.logError(r),this.queueError(r),r}createAppError(n,t){let r="UNKNOWN",i="An unexpected error occurred.";if(n!=null&&n.code&&l_[n.code]){const a=l_[n.code];r=a.type,i=a.message}else n!=null&&n.message&&(i=n.message,n.message.includes("network")||n.message.includes("fetch")?r="NETWORK":n.message.includes("unauthorized")||n.message.includes("permission")?r="AUTHORIZATION":n.message.includes("not found")?r="NOT_FOUND":n.message.includes("validation")&&(r="VALIDATION"));return{type:r,message:i,originalError:n instanceof Error?n:new Error(String(n)),context:{...t,userAgent:navigator.userAgent,url:window.location.href,timestamp:new Date().toISOString()},timestamp:new Date,userId:t==null?void 0:t.userId}}logError(n){const t=`[${n.type}] ${n.message}`,r={error:n.originalError,context:n.context,timestamp:n.timestamp};switch(n.type){case"NETWORK":case"NOT_FOUND":console.warn(t,r);break;case"AUTHENTICATION":case"AUTHORIZATION":case"VALIDATION":console.error(t,r);break;case"SERVER_ERROR":case"UNKNOWN":console.error(t,r);break}}queueError(n){this.errorQueue.push(n),this.errorQueue.length>this.maxErrorQueueSize&&this.errorQueue.shift()}getErrorQueue(){return[...this.errorQueue]}clearErrorQueue(){this.errorQueue=[]}getUserFriendlyMessage(n){return n.message}shouldRetry(n){return n.type==="NETWORK"}};Xe(Vh,"instance");let mg=Vh;const u_=async(e,n)=>{try{return{data:await e()}}catch(t){return{error:mg.getInstance().handleError(t,n)}}},cM=()=>{const e=mg.getInstance();return{handleError:(i,a)=>e.handleError(i,a),getUserFriendlyMessage:i=>e.getUserFriendlyMessage(i),shouldRetry:i=>e.shouldRetry(i)}};mg.getInstance();class dM{constructor(){Xe(this,"auth",null);Xe(this,"googleProvider",null)}initialize(){this.auth||(Ri(()=>Promise.resolve().then(()=>Yf),void 0),this.auth=ZR(),this.googleProvider=new JR)}async signInWithGoogle(n=!0){var r;this.initialize();const t=await u_(async()=>{const i=n?t3:n3;await r3(this.auth,i),this.googleProvider.setCustomParameters({});const a=await i3(this.auth,this.googleProvider);if(!a.user)throw new Error("No user returned from authentication");return a.user},{operation:"google_sign_in",keepSignedIn:n});if(t.error){const i=(r=t.error.originalError)==null?void 0:r.code;throw console.error("Google Auth Error:",{code:i,message:t.error.message,originalError:t.error.originalError}),i==="auth/popup-closed-by-user"?new Error("Sign-in was cancelled. Please try again and complete the sign-in process. If you only have one Google account logged in, try logging out and back in to your Google account."):i==="auth/popup-blocked"?new Error("Popup was blocked by your browser. Please allow popups for this site and try again."):i==="auth/network-request-failed"?new Error("Network error. Please check your internet connection and try again."):i==="auth/account-exists-with-different-credential"?new Error("An account already exists with this email address. Please use a different sign-in method."):t.error}return t.data}async signOut(){this.initialize();const n=await u_(async()=>{await a3(this.auth)},{operation:"sign_out"});if(n.error)throw n.error}onAuthStateChanged(n){return this.initialize(),e3(this.auth,n)}getCurrentUser(){return this.initialize(),this.auth.currentUser}getErrorMessage(n){return{"auth/network-request-failed":"Login Failed: Network error, please check your connection.","auth/popup-closed-by-user":"Login Failed: The sign-in popup was closed before completion.","auth/cancelled-popup-request":"Login Failed: Another sign-in request was made before the first one was completed.","auth/popup-blocked":"Login Failed: The sign-in popup was blocked by the browser. Please allow popups for this site.","auth/user-disabled":"Login Failed: This account has been disabled.","auth/user-not-found":"Login Failed: No account found with this email.","auth/wrong-password":"Login Failed: Incorrect password.","auth/too-many-requests":"Login Failed: Too many failed attempts. Please try again later."}[n]||"Login Failed: An unexpected error occurred."}}const IT=new dM;class fM{constructor(){Xe(this,"db",null);Xe(this,"publicCourseId");if(this.publicCourseId="rqoyheM9Lf8jGftIoZyT",!this.publicCourseId)throw new Error("Public course ID is not defined in environment variables.")}initialize(){this.db||(Ri(()=>Promise.resolve().then(()=>Yf),void 0),this.db=Un())}async getUserDetails(n){this.initialize();try{const t=hn(this.db,"users",n),r=await ms(t);return r.exists()?{...r.data(),uid:n}:null}catch(t){throw console.error("Error fetching user details:",t),new Error("Failed to fetch user details")}}async createUserDocument(n){this.initialize();try{const t=await this.getPublicCourseInfo(),r=hn(this.db,"users",n.uid),i={isAdmin:!1,isSuperAdmin:!1,lastLogin:Wf(),classes:{[this.publicCourseId]:t}};return await mT(r,i),{uid:n.uid,isAdmin:!1,isSuperAdmin:!1,lastLogin:Wf(),classes:{[this.publicCourseId]:t}}}catch(t){throw console.error("Error creating user document:",t),new Error("Failed to create user document")}}async updateUserLogin(n){this.initialize();try{const t=hn(this.db,"users",n);await Dr(t,{lastLogin:Wf()})}catch(t){throw console.error("Error updating user login:",t),new Error("Failed to update user login")}}async refreshUserDetails(n){return this.getUserDetails(n)}subscribeToUserDetails(n,t){this.initialize();const r=hn(this.db,"users",n);return gT(r,i=>{if(i.exists()){const a=i.data();t({...a,uid:n})}else t(null)},i=>{console.error("Error in user details subscription:",i),t(null)})}async ensurePublicCourseAccess(n,t){this.initialize();try{if(t.classes&&t.classes[this.publicCourseId])return t;const r=await this.getPublicCourseInfo(),i=hn(this.db,"users",n);return await Dr(i,{[`classes.${this.publicCourseId}`]:r}),{...t,classes:{...t.classes||{},[this.publicCourseId]:r}}}catch(r){throw console.error("Error ensuring public course access:",r),new Error("Failed to ensure public course access")}}async getPublicCourseInfo(){this.initialize();try{const n=hn(this.db,"courses",this.publicCourseId),t=await ms(n);if(!t.exists())throw new Error("Public course document does not exist in the courses collection!");const r=t.data();if(!r||!r.number||!r.title)throw new Error("Public course data is incomplete or invalid.");return{number:r.number,title:r.title,isCourseAdmin:!1}}catch(n){throw console.error("Error fetching public course info:",n),new Error("Failed to fetch public course information")}}}const r0=new fM,hM={apiKey:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",authDomain:"nexlab-prod.firebaseapp.com",projectId:"nexlab-prod",storageBucket:"nexlab-prod.firebasestorage.app",messagingSenderId:"922352392986",appId:"1:922352392986:web:6c4d6e16b5e615bd4daaa3"},D6=s3(hM),DT=Un(D6),pM=sh(D6),Yf=Object.freeze(Object.defineProperty({__proto__:null,app:D6,db:DT,storage:pM},Symbol.toStringTag,{value:"Module"})),LT=K.createContext(void 0),mM=({children:e})=>{const[n,t]=K.useState(null),[r,i]=K.useState(null),[a,s]=K.useState(!1),[l,c]=K.useState(!0),[d,h]=K.useState(null),g=K.useRef(null);K.useEffect(()=>{const m=IT.onAuthStateChanged(async x=>{c(!0),h(null),g.current&&(g.current(),g.current=null);try{if(x){console.log("User is signed in with UID:",x.uid);let y=await r0.getUserDetails(x.uid);y?(await r0.updateUserLogin(x.uid),y=await r0.ensurePublicCourseAccess(x.uid,y)):(console.log("User document does not exist. Creating a new one..."),y=await r0.createUserDocument(x)),i(y),s(y.isSuperAdmin||!1);const A=r0.subscribeToUserDetails(x.uid,w=>{console.log("[UserContext] User details updated in real-time:",{uid:w==null?void 0:w.uid,classesCount:w!=null&&w.classes?Object.keys(w.classes).length:0,classes:w!=null&&w.classes?Object.keys(w.classes):[],timestamp:new Date().toISOString()}),w&&(i(w),s(w.isSuperAdmin||!1))});g.current=A}else i(null),s(!1);t(x)}catch(y){console.error("Error managing user authentication:",y),h(y instanceof Error?y:new Error("Failed to manage user authentication")),t(null),i(null),s(!1)}finally{c(!1)}});return()=>{m(),g.current&&(g.current(),g.current=null)}},[]);const b=async()=>{if(!n){console.warn("No user signed in, cannot refresh user details");return}try{const m=await r0.refreshUserDetails(n.uid);m?(i(m),s(m.isSuperAdmin||!1)):(console.error("User document does not exist. Unable to refresh user details."),h(new Error("User document not found")))}catch(m){console.error("Error refreshing user details:",m),h(m instanceof Error?m:new Error("Failed to refresh user details"))}};return f.jsx(LT.Provider,{value:{user:n,userDetails:r,setUserDetails:i,refreshUserDetails:b,loading:l,error:d,isSuperAdmin:a},children:e})},Ci=()=>{const e=K.useContext(LT);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e},Xs=({element:e})=>{const{userDetails:n,loading:t}=Ci();return t?f.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:f.jsx(Rr,{})}):n?f.jsx(e,{}):f.jsx(OT,{to:"/"})};let cv=class extends K.Component{constructor(){super(...arguments);Xe(this,"state",{hasError:!1})}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:f.jsx(be,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"50vh",p:4},children:f.jsxs(nn,{elevation:2,sx:{p:4,textAlign:"center",maxWidth:500,width:"100%"},children:[f.jsx(ce,{variant:"h5",color:"error",gutterBottom:!0,children:"Something went wrong"}),f.jsx(ce,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"An error occurred while loading this component. Please try refreshing the page."}),f.jsx(lt,{variant:"contained",startIcon:f.jsx(tT,{}),onClick:()=>window.location.reload(),children:"Refresh Page"})]})}):this.props.children}};var l1={},k5={};const gM=XR(iR);var c_;function No(){return c_||(c_=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=gM}(k5)),k5}var d_;function bM(){if(d_)return l1;d_=1;var e=Eo();Object.defineProperty(l1,"__esModule",{value:!0}),l1.default=void 0;var n=e(No()),t=_o();return l1.default=(0,n.default)((0,t.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),l1}var yM=bM();const xM=$i(yM);var u1={},f_;function vM(){if(f_)return u1;f_=1;var e=Eo();Object.defineProperty(u1,"__esModule",{value:!0}),u1.default=void 0;var n=e(No()),t=_o();return u1.default=(0,n.default)((0,t.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),u1}var wM=vM();const SM=$i(wM);var c1={},h_;function AM(){if(h_)return c1;h_=1;var e=Eo();Object.defineProperty(c1,"__esModule",{value:!0}),c1.default=void 0;var n=e(No()),t=_o();return c1.default=(0,n.default)((0,t.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),c1}var CM=AM();const RT=$i(CM),EM=()=>{const e=pi();return f.jsxs(nn,{elevation:3,sx:{p:4,m:4,textAlign:"center",backgroundColor:"#fafafa",border:"1px solid #e0e0e0",maxWidth:600,mx:"auto",mt:8},children:[f.jsx(xM,{color:"error",sx:{fontSize:64,mb:2}}),f.jsx(ce,{variant:"h4",gutterBottom:!0,color:"error",children:"Page Error"}),f.jsx(ce,{variant:"body1",sx:{mb:4,color:"text.secondary"},children:"This page encountered an error and cannot be displayed. You can try going back to the previous page or return to the home page."}),f.jsxs(be,{sx:{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:[f.jsx(lt,{variant:"contained",color:"primary",startIcon:f.jsx(SM,{}),onClick:()=>e("/"),children:"Go to Home"}),f.jsx(lt,{variant:"outlined",color:"primary",startIcon:f.jsx(RT,{}),onClick:()=>e(-1),children:"Go Back"}),f.jsx(lt,{variant:"outlined",color:"secondary",onClick:()=>window.location.reload(),children:"Refresh Page"})]})]})},MT=({children:e,showDetails:n})=>f.jsx(cv,{fallbackComponent:f.jsx(EM,{}),showDetails:n,onError:(t,r)=>{console.error("Route Error:",{error:t.message,stack:t.stack,componentStack:r.componentStack,url:window.location.href,timestamp:new Date().toISOString()})},children:e});class _M{constructor(){Xe(this,"db",null);Xe(this,"cacheKey","messages")}initialize(){this.db||(Ri(()=>Promise.resolve().then(()=>Yf),void 0),this.db=Un())}subscribeToMessages(n){this.initialize();const t=So(bn(this.db,"messages"),Ug("postedOn","desc"));return gT(t,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));n(i),this.setCachedMessages(i)},r=>{console.error("Error listening to messages:",r);const i=this.getCachedMessages();i&&n(i)})}getCachedMessages(){try{const n=sessionStorage.getItem(this.cacheKey);return n?JSON.parse(n):null}catch(n){return console.error("Error reading cached messages:",n),null}}setCachedMessages(n){try{sessionStorage.setItem(this.cacheKey,JSON.stringify(n))}catch(t){console.error("Error caching messages:",t)}}clearCache(){try{sessionStorage.removeItem(this.cacheKey)}catch(n){console.error("Error clearing message cache:",n)}}async togglePinMessage(n,t){this.initialize();try{const r=hn(this.db,"messages",n);await Dr(r,{isPinned:!t})}catch(r){throw console.error("Error toggling pin status:",r),r}}async deleteMessage(n){try{const t=hn(this.db,"messages",n);await $g(t)}catch(t){throw console.error("Error deleting message:",t),t}}}const by=new _M,p_=e=>{let n;const t=new Set,r=(d,h)=>{const g=typeof d=="function"?d(n):d;if(!Object.is(g,n)){const b=n;n=h??(typeof g!="object"||g===null)?g:Object.assign({},n,g),t.forEach(m=>m(n,b))}},i=()=>n,l={setState:r,getState:i,getInitialState:()=>c,subscribe:d=>(t.add(d),()=>t.delete(d))},c=n=e(r,i,l);return l},kM=e=>e?p_(e):p_,NM=e=>e;function jM(e,n=NM){const t=tt.useSyncExternalStore(e.subscribe,()=>n(e.getState()),()=>n(e.getInitialState()));return tt.useDebugValue(t),t}const m_=e=>{const n=kM(e),t=r=>jM(n,r);return Object.assign(t,n),t},gp=e=>e?m_(e):m_,TM=()=>Math.random().toString(36).substr(2,9),OM=e=>{switch(e){case Ko.NETWORK:return"";case Ko.AUTHENTICATION:return"";case Ko.AUTHORIZATION:return"";case Ko.VALIDATION:return"";case Ko.NOT_FOUND:return"";case Ko.SERVER_ERROR:return"";default:return""}},IM=e=>{switch(e){case Ko.NETWORK:return 8e3;case Ko.AUTHENTICATION:case Ko.AUTHORIZATION:return 1e4;case Ko.VALIDATION:return 6e3;case Ko.NOT_FOUND:return 5e3;default:return 7e3}},PT=gp((e,n)=>({notifications:[],addNotification:t=>{const r={...t,id:TM(),timestamp:new Date,duration:t.duration??5e3};e(i=>({notifications:[...i.notifications,r]})),r.duration>0&&setTimeout(()=>{n().removeNotification(r.id)},r.duration)},removeNotification:t=>{e(r=>({notifications:r.notifications.filter(i=>i.id!==t)}))},clearAll:()=>{e({notifications:[]})},showError:(t,r)=>{const i=OM(t.type),a=IM(t.type),s=[];t.type===Ko.NETWORK&&s.push({label:"Retry",action:()=>{console.log("Retry requested for:",t)},primary:!0}),n().addNotification({type:"error",title:`${i} ${t.type.replace("_"," ")} Error`,message:t.message,duration:a,actions:r||s,error:t})},showSuccess:(t,r)=>{n().addNotification({type:"success",title:r||" Success",message:t,duration:4e3})},showWarning:(t,r)=>{n().addNotification({type:"warning",title:r||" Warning",message:t,duration:6e3})},showInfo:(t,r)=>{n().addNotification({type:"info",title:r||" Info",message:t,duration:5e3})}})),DM=()=>{const[e,n]=K.useState([]),[t,r]=K.useState(!0),[i,a]=K.useState(null),{handleError:s}=cM(),{showError:l,showSuccess:c}=PT();return K.useEffect(()=>{const b=by.getCachedMessages();b&&(n(b),r(!1));const m=by.subscribeToMessages(x=>{n(x),a(null),b||r(!1)});return()=>{m()}},[]),{messages:e,loading:t,error:i,deleteMessage:async b=>{try{await by.deleteMessage(b),c("Message deleted successfully")}catch(m){const x=s(m,{operation:"delete_message",messageId:b});a(x.message),l(x)}},togglePinMessage:async(b,m)=>{try{await by.togglePinMessage(b,m),c(`Message ${m?"unpinned":"pinned"} successfully`)}catch(x){const y=s(x,{operation:"toggle_pin_message",messageId:b,currentPinStatus:m});a(y.message),l(y)}},clearError:()=>{a(null)}}},Nl=({title:e,onClick:n,disabled:t=!1,disabledTooltip:r,lockIcon:i=!1,className:a="menu-item"})=>{const s=f.jsx(fs,{className:a,children:f.jsx(aR,{onClick:n,disabled:t,children:f.jsx(Js,{children:f.jsxs(ce,{className:"menu-item-typography",variant:"h6",component:"div",sx:t?{color:"#9e9e9e",opacity:.5}:{},children:[e,i&&f.jsx("span",{style:{marginLeft:8},children:""})]})})})});return t&&r?f.jsx(Pi,{title:r,children:f.jsx("span",{children:s})}):s},LM=({userDetails:e})=>{const n=pi(),t=e&&!e.isAdmin&&(!e.classes||Object.keys(e.classes).length===0);return f.jsxs(f.Fragment,{children:[f.jsx(mt,{item:!0,xs:12,children:f.jsx(Nl,{title:"My Account",onClick:()=>n("/my-profile")})}),f.jsx(mt,{item:!0,xs:12,children:f.jsx(Nl,{title:"Laboratory Notebook",onClick:()=>n("/laboratory-notebooks"),disabled:t,disabledTooltip:"The Laboratory Notebook is accessible to users enrolled in an academic course. Please enroll in a course via 'My Account' by following the instructions provided by your academic instructor.",lockIcon:t})}),f.jsx(mt,{item:!0,xs:12,children:f.jsx(Nl,{title:"Course Materials",onClick:()=>n("/supplemental-materials")})})]})},g_={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"ce5f7921-a3a0-4ea7-b95f-10fe41becda5",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},gg=new Map,yy=e=>{const n=gg.get(e);return n?Object.fromEntries(Object.entries(n.stores).map(([t,r])=>[t,r.getState()])):{}},RM=(e,n,t)=>{if(e===void 0)return{type:"untracked",connection:n.connect(t)};const r=gg.get(t.name);if(r)return{type:"tracked",store:e,...r};const i={connection:n.connect(t),stores:{}};return gg.set(t.name,i),{type:"tracked",store:e,...i}},MM=(e,n)=>{if(n===void 0)return;const t=gg.get(e);t&&(delete t.stores[n],Object.keys(t.stores).length===0&&gg.delete(e))},PM=e=>{var n,t;if(!e)return;const r=e.split(`
`),i=r.findIndex(s=>s.includes("api.setState"));if(i<0)return;const a=((n=r[i+1])==null?void 0:n.trim())||"";return(t=/.+ (.+) .+/.exec(a))==null?void 0:t[1]},FM=(e,n={})=>(t,r,i)=>{const{enabled:a,anonymousActionType:s,store:l,...c}=n;let d;try{d=(a??(g_?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!d)return e(t,r,i);const{connection:h,...g}=RM(l,d,c);let b=!0;i.setState=(y,A,w)=>{const C=t(y,A);if(!b)return C;const N=w===void 0?{type:s||PM(new Error().stack)||"anonymous"}:typeof w=="string"?{type:w}:w;return l===void 0?(h==null||h.send(N,r()),C):(h==null||h.send({...N,type:`${l}/${N.type}`},{...yy(c.name),[l]:i.getState()}),C)},i.devtools={cleanup:()=>{h&&typeof h.unsubscribe=="function"&&h.unsubscribe(),MM(c.name,l)}};const m=(...y)=>{const A=b;b=!1,t(...y),b=A},x=e(i.setState,r,i);if(g.type==="untracked"?h==null||h.init(x):(g.stores[g.store]=i,h==null||h.init(Object.fromEntries(Object.entries(g.stores).map(([y,A])=>[y,y===g.store?x:A.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let y=!1;const A=i.dispatch;i.dispatch=(...w)=>{(g_?"production":void 0)!=="production"&&w[0].type==="__setState"&&!y&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),y=!0),A(...w)}}return h.subscribe(y=>{var A;switch(y.type){case"ACTION":if(typeof y.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return N5(y.payload,w=>{if(w.type==="__setState"){if(l===void 0){m(w.state);return}Object.keys(w.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const C=w.state[l];if(C==null)return;JSON.stringify(i.getState())!==JSON.stringify(C)&&m(C);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(w)});case"DISPATCH":switch(y.payload.type){case"RESET":return m(x),l===void 0?h==null?void 0:h.init(i.getState()):h==null?void 0:h.init(yy(c.name));case"COMMIT":if(l===void 0){h==null||h.init(i.getState());return}return h==null?void 0:h.init(yy(c.name));case"ROLLBACK":return N5(y.state,w=>{if(l===void 0){m(w),h==null||h.init(i.getState());return}m(w[l]),h==null||h.init(yy(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return N5(y.state,w=>{if(l===void 0){m(w);return}JSON.stringify(i.getState())!==JSON.stringify(w[l])&&m(w[l])});case"IMPORT_STATE":{const{nextLiftedState:w}=y.payload,C=(A=w.computedStates.slice(-1)[0])==null?void 0:A.state;if(!C)return;m(l===void 0?C:C[l]),h==null||h.send(null,w);return}case"PAUSE_RECORDING":return b=!b}return}}),x},cm=FM,N5=(e,n)=>{let t;try{t=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}t!==void 0&&n(t)};function zM(e,n){let t;try{t=e()}catch{return}return{getItem:i=>{var a;const s=c=>c===null?null:JSON.parse(c,void 0),l=(a=t.getItem(i))!=null?a:null;return l instanceof Promise?l.then(s):s(l)},setItem:(i,a)=>t.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>t.removeItem(i)}}const Jw=e=>n=>{try{const t=e(n);return t instanceof Promise?t:{then(r){return Jw(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return Jw(r)(t)}}}},qM=(e,n)=>(t,r,i)=>{let a={storage:zM(()=>localStorage),partialize:y=>y,version:0,merge:(y,A)=>({...A,...y}),...n},s=!1;const l=new Set,c=new Set;let d=a.storage;if(!d)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...y)},r,i);const h=()=>{const y=a.partialize({...r()});return d.setItem(a.name,{state:y,version:a.version})},g=i.setState;i.setState=(y,A)=>{g(y,A),h()};const b=e((...y)=>{t(...y),h()},r,i);i.getInitialState=()=>b;let m;const x=()=>{var y,A;if(!d)return;s=!1,l.forEach(C=>{var N;return C((N=r())!=null?N:b)});const w=((A=a.onRehydrateStorage)==null?void 0:A.call(a,(y=r())!=null?y:b))||void 0;return Jw(d.getItem.bind(d))(a.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==a.version){if(a.migrate){const N=a.migrate(C.state,C.version);return N instanceof Promise?N.then(P=>[!0,P]):[!0,N]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var N;const[P,F]=C;if(m=a.merge(F,(N=r())!=null?N:b),t(m,!0),P)return h()}).then(()=>{w==null||w(m,void 0),m=r(),s=!0,c.forEach(C=>C(m))}).catch(C=>{w==null||w(void 0,C)})};return i.persist={setOptions:y=>{a={...a,...y},y.storage&&(d=y.storage)},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>x(),hasHydrated:()=>s,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},a.skipHydration||x(),m||b},dv=qM,FT=gp()(cm(dv((e,n)=>({globalLoading:!1,pageLoading:{},openDialogs:{},currentPage:"/",previousPage:null,navigationSections:{educatorExpanded:!1,superAdminExpanded:!1},sidebarCollapsed:!1,theme:"light",setGlobalLoading:t=>e({globalLoading:t}),setPageLoading:(t,r)=>e(i=>({pageLoading:{...i.pageLoading,[t]:r}})),openDialog:t=>e(r=>({openDialogs:{...r.openDialogs,[t]:!0}})),closeDialog:t=>e(r=>({openDialogs:{...r.openDialogs,[t]:!1}})),toggleDialog:t=>e(r=>({openDialogs:{...r.openDialogs,[t]:!r.openDialogs[t]}})),isDialogOpen:t=>!!n().openDialogs[t],setCurrentPage:t=>e(r=>({currentPage:t,previousPage:r.currentPage})),toggleEducatorSection:()=>e(t=>({navigationSections:{...t.navigationSections,educatorExpanded:!t.navigationSections.educatorExpanded}})),toggleSuperAdminSection:()=>e(t=>({navigationSections:{...t.navigationSections,superAdminExpanded:!t.navigationSections.superAdminExpanded}})),setEducatorSectionExpanded:t=>e(r=>({navigationSections:{...r.navigationSections,educatorExpanded:t}})),setSuperAdminSectionExpanded:t=>e(r=>({navigationSections:{...r.navigationSections,superAdminExpanded:t}})),setSidebarCollapsed:t=>e({sidebarCollapsed:t}),toggleSidebar:()=>e(t=>({sidebarCollapsed:!t.sidebarCollapsed})),setTheme:t=>e({theme:t}),toggleTheme:()=>e(t=>({theme:t.theme==="light"?"dark":"light"}))}),{name:"ui-preferences",partialize:e=>({sidebarCollapsed:e.sidebarCollapsed,theme:e.theme,navigationSections:e.navigationSections})}))),BM=()=>{const e=pi(),{navigationSections:n,toggleEducatorSection:t}=FT(),r=n.educatorExpanded;return f.jsx(f.Fragment,{children:f.jsxs(mt,{item:!0,xs:12,children:[f.jsx(Za,{sx:{my:2}}),f.jsxs(be,{sx:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",py:1.5,px:2,mx:1,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},borderRadius:2,transition:"background-color 0.2s"},onClick:t,children:[f.jsx(ce,{className:"general-menu-title",variant:"h6",component:"h2",sx:{flexGrow:1,textAlign:"center"},children:"Educator Access"}),f.jsx(un,{size:"small",sx:{ml:2,p:.5,color:"primary.main","&:hover":{backgroundColor:"primary.light",color:"primary.contrastText"}},"aria-label":r?"collapse educator section":"expand educator section",children:r?f.jsx(Y0,{fontSize:"small"}):f.jsx(bo,{fontSize:"small"})})]}),f.jsx(G0,{in:r,timeout:"auto",unmountOnExit:!0,children:f.jsxs(be,{sx:{mt:2,px:1},children:[f.jsx(Nl,{title:"Course Management",onClick:()=>e("/course-management")}),f.jsx(be,{sx:{mt:1},children:f.jsx(Nl,{title:"Chatbot Management",onClick:()=>e("/chatbot-management")})})]})})]})})},UM=()=>{const e=pi(),{navigationSections:n,toggleSuperAdminSection:t}=FT(),r=n.superAdminExpanded;return f.jsx(f.Fragment,{children:f.jsxs(mt,{item:!0,xs:12,children:[f.jsx(Za,{sx:{my:2}}),f.jsxs(be,{sx:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",py:1.5,px:2,mx:1,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},borderRadius:2,transition:"background-color 0.2s"},onClick:t,children:[f.jsx(ce,{className:"general-menu-title",variant:"h6",component:"h2",sx:{flexGrow:1,textAlign:"center"},children:"Super-Admin Access"}),f.jsx(un,{size:"small",sx:{ml:2,p:.5,color:"primary.main","&:hover":{backgroundColor:"primary.light",color:"primary.contrastText"}},"aria-label":r?"collapse super-admin section":"expand super-admin section",children:r?f.jsx(Y0,{fontSize:"small"}):f.jsx(bo,{fontSize:"small"})})]}),f.jsx(G0,{in:r,timeout:"auto",unmountOnExit:!0,children:f.jsxs(be,{sx:{mt:2,px:1},children:[f.jsx(Nl,{title:"User Management",onClick:()=>e("/user-management")}),f.jsx(be,{sx:{mt:1},children:f.jsx(Nl,{title:"Course Management",onClick:()=>e("/super-admin-course-management")})}),f.jsx(be,{sx:{mt:1},children:f.jsx(Nl,{title:"Educator Requests",onClick:()=>e("/educator-requests")})}),f.jsx(be,{sx:{mt:1},children:f.jsx(Nl,{title:"Course Requests",onClick:()=>e("/course-requests")})}),f.jsx(be,{sx:{mt:1},children:f.jsx(Nl,{title:"Chatbot Requests",onClick:()=>e("/super-admin-chatbot-requests")})}),f.jsx(be,{sx:{mt:1},children:f.jsx(Nl,{title:"Chatbot Conversations",onClick:()=>e("/chatbot-conversations")})}),f.jsx(be,{sx:{mt:1},children:f.jsx(Nl,{title:"Quiz Management",onClick:()=>e("/quiz-management")})})]})})]})})},$M=({userDetails:e,isSuperAdmin:n})=>f.jsx(be,{className:"menu-container",children:f.jsxs(mt,{container:!0,spacing:2,justifyContent:"center",children:[f.jsx(LM,{userDetails:e}),(e==null?void 0:e.isAdmin)&&f.jsx(BM,{}),n&&f.jsx(UM,{})]})});var d1={},b_;function HM(){if(b_)return d1;b_=1;var e=Eo();Object.defineProperty(d1,"__esModule",{value:!0}),d1.default=void 0;var n=e(No()),t=_o();return d1.default=(0,n.default)((0,t.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H4V8l8 5 8-5zm-8-7L4 6h16z"}),"MailOutline"),d1}var WM=HM();const VM=$i(WM);var f1={},y_;function YM(){if(y_)return f1;y_=1;var e=Eo();Object.defineProperty(f1,"__esModule",{value:!0}),f1.default=void 0;var n=e(No()),t=_o();return f1.default=(0,n.default)((0,t.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),f1}var GM=YM();const x_=$i(GM);var h1={},v_;function QM(){if(v_)return h1;v_=1;var e=Eo();Object.defineProperty(h1,"__esModule",{value:!0}),h1.default=void 0;var n=e(No()),t=_o();return h1.default=(0,n.default)((0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),h1}var KM=QM();const fv=$i(KM),w_=({messageId:e,onDelete:n})=>{const[t,r]=K.useState(!1),i=Un(),a=()=>{r(!0)},s=()=>{r(!1)},l=async()=>{try{await $g(hn(i,"messages",e)),n(e),s()}catch(c){console.error("Error deleting message: ",c)}};return f.jsxs(f.Fragment,{children:[f.jsx(un,{onClick:a,children:f.jsx(fv,{})}),f.jsxs(Si,{open:t,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[f.jsx(zi,{id:"alert-dialog-title",children:"Confirm Delete"}),f.jsx(Ai,{children:f.jsx(ko,{id:"alert-dialog-description",children:"Are you sure you want to delete this message? This action cannot be undone."})}),f.jsxs(qi,{children:[f.jsx(lt,{onClick:s,color:"primary",children:"Cancel"}),f.jsx(lt,{onClick:l,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})};var p1={},S_;function XM(){if(S_)return p1;S_=1;var e=Eo();Object.defineProperty(p1,"__esModule",{value:!0}),p1.default=void 0;var n=e(No()),t=_o();return p1.default=(0,n.default)((0,t.jsx)("path",{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3"}),"PushPin"),p1}var ZM=XM();const zT=$i(ZM),A_=({message:e,togglePinMessage:n})=>{const t=async()=>{try{await n(e.id,e.isPinned||!1)}catch(r){console.error("Error updating pin status: ",r)}};return f.jsx(un,{onClick:t,sx:{marginRight:1},children:f.jsx(zT,{color:e.isPinned?"primary":"inherit"})})};var m1={},C_;function JM(){if(C_)return m1;C_=1;var e=Eo();Object.defineProperty(m1,"__esModule",{value:!0}),m1.default=void 0;var n=e(No()),t=_o();return m1.default=(0,n.default)((0,t.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),m1}var eP=JM();const E_=$i(eP),Ff=e=>e?typeof e=="object"&&"toDate"in e?e.toDate().toLocaleString():typeof e=="object"&&"seconds"in e?new Date(e.seconds*1e3).toLocaleString():"N/A":"No data available",tP=({messages:e,userDetails:n,navigate:t,handleDeleteMessage:r,togglePinMessage:i})=>{const[a,s]=K.useState(0),l=3,c=e.filter(N=>(n==null?void 0:n.classes)&&N.course in n.classes),d=c.filter(N=>N.isPinned),h=c.filter(N=>!N.isPinned),g=(a+1)*l,b=g-l,m=h.slice(b,g),x=Math.ceil(h.length/l),y=()=>s(N=>N+1),A=()=>s(N=>N-1),w=N=>{var P,F;return!!(n!=null&&n.isSuperAdmin||(F=(P=n==null?void 0:n.classes)==null?void 0:P[N.course])!=null&&F.isCourseAdmin)},C=N=>{var F;const P=(F=n==null?void 0:n.classes)==null?void 0:F[N];return P?`${P.number}`:"Unknown Course"};return f.jsxs(be,{className:"messages-display-container",children:[" ",d.length>0&&f.jsxs(nn,{elevation:3,sx:{mb:3,p:2,backgroundColor:"#FBFADA",borderRadius:"15px"},children:[f.jsxs(be,{className:"pinned-section",children:[f.jsx(zT,{color:"primary",sx:{mr:1}}),f.jsx(ce,{variant:"h6",className:"pinned-title",children:"Pinned"})]}),d.map(N=>f.jsx(fs,{className:"messages-card",children:f.jsxs(yu,{children:[f.jsx(xu,{expandIcon:f.jsx(E_,{}),"aria-controls":`panel-${N.id}-content`,id:`panel-${N.id}-header`,children:f.jsxs(mt,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[f.jsxs(mt,{item:!0,children:[f.jsxs(be,{display:"flex",alignItems:"center",children:[f.jsx(_n,{label:C(N.course),color:"primary",variant:"outlined",className:"message-chip",sx:{marginRight:1}}),f.jsxs(ce,{variant:"subtitle2",className:"message-posted-on",children:["Posted On: ",Ff(N.postedOn)," |"]}),N.lastUpdatedOn&&f.jsxs(ce,{variant:"subtitle2",className:"message-updated-on",children:["| Last Updated: ",Ff(N.lastUpdatedOn)]})]}),f.jsxs(ce,{variant:"h6",className:"message-title",children:["Subject: ",N.title]})]}),w(N)&&f.jsxs(mt,{item:!0,children:[f.jsx(A_,{message:N,togglePinMessage:i}),f.jsx(un,{onClick:()=>t(`/edit-message/${N.id}`),sx:{marginRight:1},children:f.jsx(x_,{})}),f.jsx(w_,{messageId:N.id,onDelete:r})]})]})}),f.jsx(vu,{children:f.jsxs(be,{sx:{border:"1px solid #e0e0e0",padding:"20px",borderRadius:"4px",backgroundColor:"#fafafa",marginBottom:"16px"},children:[f.jsx(ce,{variant:"body1",className:"message-description",children:N.description}),N.links&&N.links.some(P=>P.title&&P.url)&&f.jsxs(be,{sx:{mt:1},children:[f.jsx(ce,{variant:"subtitle2",className:"message-links-title",children:"Links:"}),N.links.map((P,F)=>P.title&&P.url&&f.jsxs(be,{sx:{mt:1},children:[f.jsxs(ce,{variant:"body2",component:"span",className:"message-link",children:[" ",P.title,": "]}),f.jsx(fg,{href:P.url,target:"_blank",rel:"noopener",children:P.url})]},F))]})]})})]})},N.id))]}),f.jsx(nn,{elevation:3,sx:{mb:3,p:2,backgroundColor:"#f5f5f5",borderRadius:"15px"},children:m.map(N=>f.jsx(fs,{className:"messages-card",children:f.jsxs(yu,{children:[f.jsx(xu,{expandIcon:f.jsx(E_,{}),"aria-controls":`panel-${N.id}-content`,id:`panel-${N.id}-header`,children:f.jsxs(mt,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[f.jsxs(mt,{item:!0,children:[f.jsxs(be,{display:"flex",alignItems:"center",children:[f.jsx(_n,{label:C(N.course),color:"primary",variant:"outlined",className:"message-chip",sx:{marginRight:1}}),f.jsxs(ce,{variant:"subtitle2",className:"message-posted-on",children:["Posted On: ",Ff(N.postedOn)]}),N.lastUpdatedOn&&f.jsxs(ce,{variant:"subtitle2",className:"message-updated-on",children:["Last Updated: ",Ff(N.lastUpdatedOn)]})]}),f.jsxs(ce,{variant:"h6",className:"message-title",children:["Subject: ",N.title]})]}),w(N)&&f.jsxs(mt,{item:!0,children:[f.jsx(A_,{message:N,togglePinMessage:i}),f.jsx(un,{onClick:()=>t(`/edit-message/${N.id}`),sx:{marginRight:1},children:f.jsx(x_,{})}),f.jsx(w_,{messageId:N.id,onDelete:r})]})]})}),f.jsx(vu,{children:f.jsxs(be,{sx:{border:"1px solid #e0e0e0",padding:"20px",borderRadius:"4px",backgroundColor:"#fafafa",marginBottom:"16px"},children:[f.jsx(ce,{variant:"body1",className:"message-description",children:N.description}),N.links&&N.links.some(P=>P.title&&P.url)&&f.jsxs(be,{sx:{mt:1},children:[f.jsx(ce,{variant:"subtitle2",className:"message-links-title",children:"Links:"}),N.links.map((P,F)=>P.title&&P.url&&f.jsxs(be,{sx:{mt:1},children:[f.jsxs(ce,{variant:"body2",component:"span",className:"message-link",children:[" ",P.title,": "]}),f.jsx(fg,{href:P.url,target:"_blank",rel:"noopener",children:P.url})]},F))]})]})})]})},N.id))}),f.jsxs(be,{className:"pagination-container",children:[" ",f.jsx(lt,{onClick:A,disabled:a===0,className:"pagination-button",children:"Previous"}),f.jsx(lt,{onClick:y,disabled:a>=x-1,className:"pagination-button",children:"Next"})]})]})},nP=({messages:e,loading:n,userDetails:t,handleDeleteMessage:r,togglePinMessage:i})=>{const a=pi();return f.jsxs(be,{className:"messages-container",children:[f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[f.jsxs(be,{sx:{display:"flex",alignItems:"center"},children:[f.jsx(VM,{sx:{mr:1}}),f.jsx(ce,{variant:"h5",component:"h4",className:"inbox-text",children:"Inbox"})]}),(t==null?void 0:t.isAdmin)&&f.jsx(lt,{variant:"contained",onClick:()=>a("/add-message"),sx:{backgroundColor:"#CDDAFF",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",border:"0px solid #0B53C0"}},children:"+ Add Message"})]}),n?f.jsx(be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px"},children:f.jsx(Rr,{})}):f.jsx(tP,{messages:e,userDetails:t,navigate:a,handleDeleteMessage:r,togglePinMessage:i})]})},rP=()=>{const{userDetails:e,isSuperAdmin:n}=Ci(),[t,r]=K.useState(!1),{messages:i,loading:a,deleteMessage:s,togglePinMessage:l}=DM(),c=(h,g)=>{g!=="clickaway"&&r(!1)},d=h=>{s(h)};return f.jsxs(be,{sx:{flexGrow:1,padding:3},children:[f.jsxs(mt,{container:!0,spacing:3,children:[f.jsx(mt,{item:!0,xs:12,md:3,children:f.jsx($M,{userDetails:e,isSuperAdmin:n})}),f.jsx(mt,{item:!0,xs:12,md:9,children:f.jsx(nP,{messages:i,loading:a,userDetails:e,handleDeleteMessage:d,togglePinMessage:l})})]}),f.jsx(no,{open:t,autoHideDuration:6e3,onClose:c,children:f.jsx(nr,{onClose:c,severity:"success",sx:{width:"100%"},children:"User ID copied to clipboard!"})})]})};let xy;const iP=new Uint8Array(16);function aP(){if(!xy&&(xy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!xy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xy(iP)}const us=[];for(let e=0;e<256;++e)us.push((e+256).toString(16).slice(1));function sP(e,n=0){return us[e[n+0]]+us[e[n+1]]+us[e[n+2]]+us[e[n+3]]+"-"+us[e[n+4]]+us[e[n+5]]+"-"+us[e[n+6]]+us[e[n+7]]+"-"+us[e[n+8]]+us[e[n+9]]+"-"+us[e[n+10]]+us[e[n+11]]+us[e[n+12]]+us[e[n+13]]+us[e[n+14]]+us[e[n+15]]}const oP=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),__={randomUUID:oP};function Mi(e,n,t){if(__.randomUUID&&!e)return __.randomUUID();e=e||{};const r=e.random||(e.rng||aP)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,sP(r)}var k_;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(k_||(k_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N_;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(N_||(N_={}));var j_;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(j_||(j_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=["user","model","function","system"];var O_;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(O_||(O_={}));var I_;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(I_||(I_={}));var D_;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(D_||(D_={}));var L_;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(L_||(L_={}));var tg;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(tg||(tg={}));var R_;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(R_||(R_={}));var M_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(M_||(M_={}));var P_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(P_||(P_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Error{constructor(n){super(`[GoogleGenerativeAI Error]: ${n}`)}}class i0 extends Ls{constructor(n,t){super(n),this.response=t}}class qT extends Ls{constructor(n,t,r,i){super(n),this.status=t,this.statusText=r,this.errorDetails=i}}class Gf extends Ls{}class BT extends Ls{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="https://generativelanguage.googleapis.com",uP="v1beta",cP="0.24.1",dP="genai-js";var op;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(op||(op={}));class fP{constructor(n,t,r,i,a){this.model=n,this.task=t,this.apiKey=r,this.stream=i,this.requestOptions=a}toString(){var n,t;const r=((n=this.requestOptions)===null||n===void 0?void 0:n.apiVersion)||uP;let a=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||lP}/${r}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function hP(e){const n=[];return e!=null&&e.apiClient&&n.push(e.apiClient),n.push(`${dP}/${cP}`),n.join(" ")}async function pP(e){var n;const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",hP(e.requestOptions)),t.append("x-goog-api-key",e.apiKey);let r=(n=e.requestOptions)===null||n===void 0?void 0:n.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Gf(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,a]of r.entries()){if(i==="x-goog-api-key")throw new Gf(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Gf(`Header name ${i} can only be set using the apiClient field`);t.append(i,a)}}return t}async function mP(e,n,t,r,i,a){const s=new fP(e,n,t,r,a);return{url:s.toString(),fetchOptions:Object.assign(Object.assign({},xP(a)),{method:"POST",headers:await pP(s),body:i})}}async function Gg(e,n,t,r,i,a={},s=fetch){const{url:l,fetchOptions:c}=await mP(e,n,t,r,i,a);return gP(l,c,s)}async function gP(e,n,t=fetch){let r;try{r=await t(e,n)}catch(i){bP(i,e)}return r.ok||await yP(r,e),r}function bP(e,n){let t=e;throw t.name==="AbortError"?(t=new BT(`Request aborted when fetching ${n.toString()}: ${e.message}`),t.stack=e.stack):e instanceof qT||e instanceof Gf||(t=new Ls(`Error fetching from ${n.toString()}: ${e.message}`),t.stack=e.stack),t}async function yP(e,n){let t="",r;try{const i=await e.json();t=i.error.message,i.error.details&&(t+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new qT(`Error fetching from ${n.toString()}: [${e.status} ${e.statusText}] ${t}`,e.status,e.statusText,r)}function xP(e){const n={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const t=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>t.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{t.abort()}),n.signal=t.signal}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Jy(e.candidates[0]))throw new i0(`${Lf(e)}`,e);return vP(e)}else if(e.promptFeedback)throw new i0(`Text not available. ${Lf(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Jy(e.candidates[0]))throw new i0(`${Lf(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),F_(e)[0]}else if(e.promptFeedback)throw new i0(`Function call not available. ${Lf(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Jy(e.candidates[0]))throw new i0(`${Lf(e)}`,e);return F_(e)}else if(e.promptFeedback)throw new i0(`Function call not available. ${Lf(e)}`,e)},e}function vP(e){var n,t,r,i;const a=[];if(!((t=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||t===void 0)&&t.parts)for(const s of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)s.text&&a.push(s.text),s.executableCode&&a.push("\n```"+s.executableCode.language+`
`+s.executableCode.code+"\n```\n"),s.codeExecutionResult&&a.push("\n```\n"+s.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}function F_(e){var n,t,r,i;const a=[];if(!((t=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||t===void 0)&&t.parts)for(const s of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)s.functionCall&&a.push(s.functionCall);if(a.length>0)return a}const wP=[tg.RECITATION,tg.SAFETY,tg.LANGUAGE];function Jy(e){return!!e.finishReason&&wP.includes(e.finishReason)}function Lf(e){var n,t,r;let i="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)i+="Response was blocked",!((n=e.promptFeedback)===null||n===void 0)&&n.blockReason&&(i+=` due to ${e.promptFeedback.blockReason}`),!((t=e.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const a=e.candidates[0];Jy(a)&&(i+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(i+=`: ${a.finishMessage}`))}return i}function bg(e){return this instanceof bg?(this.v=e,this):new bg(e)}function SP(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(b){r[b]&&(i[b]=function(m){return new Promise(function(x,y){a.push([b,m,x,y])>1||l(b,m)})})}function l(b,m){try{c(r[b](m))}catch(x){g(a[0][3],x)}}function c(b){b.value instanceof bg?Promise.resolve(b.value.v).then(d,h):g(a[0][2],b)}function d(b){l("next",b)}function h(b){l("throw",b)}function g(b,m){b(m),a.shift(),a.length&&l(a[0][0],a[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function AP(e){const n=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=_P(n),[r,i]=t.tee();return{stream:EP(r),response:CP(i)}}async function CP(e){const n=[],t=e.getReader();for(;;){const{done:r,value:i}=await t.read();if(r)return L6(kP(n));n.push(i)}}function EP(e){return SP(this,arguments,function*(){const t=e.getReader();for(;;){const{value:r,done:i}=yield bg(t.read());if(i)break;yield yield bg(L6(r))}})}function _P(e){const n=e.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return n.read().then(({value:s,done:l})=>{if(l){if(i.trim()){r.error(new Ls("Failed to parse stream"));return}r.close();return}i+=s;let c=i.match(z_),d;for(;c;){try{d=JSON.parse(c[1])}catch{r.error(new Ls(`Error parsing JSON response: "${c[1]}"`));return}r.enqueue(d),i=i.substring(c[0].length),c=i.match(z_)}return a()}).catch(s=>{let l=s;throw l.stack=s.stack,l.name==="AbortError"?l=new BT("Request aborted when reading from the stream"):l=new Ls("Error reading from the stream"),l})}}})}function kP(e){const n=e[e.length-1],t={promptFeedback:n==null?void 0:n.promptFeedback};for(const r of e){if(r.candidates){let i=0;for(const a of r.candidates)if(t.candidates||(t.candidates=[]),t.candidates[i]||(t.candidates[i]={index:i}),t.candidates[i].citationMetadata=a.citationMetadata,t.candidates[i].groundingMetadata=a.groundingMetadata,t.candidates[i].finishReason=a.finishReason,t.candidates[i].finishMessage=a.finishMessage,t.candidates[i].safetyRatings=a.safetyRatings,a.content&&a.content.parts){t.candidates[i].content||(t.candidates[i].content={role:a.content.role||"user",parts:[]});const s={};for(const l of a.content.parts)l.text&&(s.text=l.text),l.functionCall&&(s.functionCall=l.functionCall),l.executableCode&&(s.executableCode=l.executableCode),l.codeExecutionResult&&(s.codeExecutionResult=l.codeExecutionResult),Object.keys(s).length===0&&(s.text=""),t.candidates[i].content.parts.push(s)}i++}r.usageMetadata&&(t.usageMetadata=r.usageMetadata)}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UT(e,n,t,r){const i=await Gg(n,op.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(t),r);return AP(i)}async function $T(e,n,t,r){const a=await(await Gg(n,op.GENERATE_CONTENT,e,!1,JSON.stringify(t),r)).json();return{response:L6(a)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function yg(e){let n=[];if(typeof e=="string")n=[{text:e}];else for(const t of e)typeof t=="string"?n.push({text:t}):n.push(t);return NP(n)}function NP(e){const n={role:"user",parts:[]},t={role:"function",parts:[]};let r=!1,i=!1;for(const a of e)"functionResponse"in a?(t.parts.push(a),i=!0):(n.parts.push(a),r=!0);if(r&&i)throw new Ls("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new Ls("No content is provided for sending chat message.");return r?n:t}function jP(e,n){var t;let r={model:n==null?void 0:n.model,generationConfig:n==null?void 0:n.generationConfig,safetySettings:n==null?void 0:n.safetySettings,tools:n==null?void 0:n.tools,toolConfig:n==null?void 0:n.toolConfig,systemInstruction:n==null?void 0:n.systemInstruction,cachedContent:(t=n==null?void 0:n.cachedContent)===null||t===void 0?void 0:t.name,contents:[]};const i=e.generateContentRequest!=null;if(e.contents){if(i)throw new Gf("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(i)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const a=yg(e);r.contents=[a]}return{generateContentRequest:r}}function q_(e){let n;return e.contents?n=e:n={contents:[yg(e)]},e.systemInstruction&&(n.systemInstruction=HT(e.systemInstruction)),n}function TP(e){return typeof e=="string"||Array.isArray(e)?{content:yg(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],OP={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function IP(e){let n=!1;for(const t of e){const{role:r,parts:i}=t;if(!n&&r!=="user")throw new Ls(`First content should be with role 'user', got ${r}`);if(!T_.includes(r))throw new Ls(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(T_)}`);if(!Array.isArray(i))throw new Ls("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Ls("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of i)for(const c of B_)c in l&&(a[c]+=1);const s=OP[r];for(const l of B_)if(!s.includes(l)&&a[l]>0)throw new Ls(`Content with role '${r}' can't contain '${l}' part`);n=!0}}function U_(e){var n;if(e.candidates===void 0||e.candidates.length===0)return!1;const t=(n=e.candidates[0])===null||n===void 0?void 0:n.content;if(t===void 0||t.parts===void 0||t.parts.length===0)return!1;for(const r of t.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="SILENT_ERROR";class DP{constructor(n,t,r,i={}){this.model=t,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=n,r!=null&&r.history&&(IP(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(n,t={}){var r,i,a,s,l,c;await this._sendPromise;const d=yg(n),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,d]},g=Object.assign(Object.assign({},this._requestOptions),t);let b;return this._sendPromise=this._sendPromise.then(()=>$T(this._apiKey,this.model,h,g)).then(m=>{var x;if(U_(m.response)){this._history.push(d);const y=Object.assign({parts:[],role:"model"},(x=m.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(y)}else{const y=Lf(m.response);y&&console.warn(`sendMessage() was unsuccessful. ${y}. Inspect response object for details.`)}b=m}).catch(m=>{throw this._sendPromise=Promise.resolve(),m}),await this._sendPromise,b}async sendMessageStream(n,t={}){var r,i,a,s,l,c;await this._sendPromise;const d=yg(n),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,d]},g=Object.assign(Object.assign({},this._requestOptions),t),b=UT(this._apiKey,this.model,h,g);return this._sendPromise=this._sendPromise.then(()=>b).catch(m=>{throw new Error($_)}).then(m=>m.response).then(m=>{if(U_(m)){this._history.push(d);const x=Object.assign({},m.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=Lf(m);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(m=>{m.message!==$_&&console.error(m)}),b}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(e,n,t,r){return(await Gg(n,op.COUNT_TOKENS,e,!1,JSON.stringify(t),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RP(e,n,t,r){return(await Gg(n,op.EMBED_CONTENT,e,!1,JSON.stringify(t),r)).json()}async function MP(e,n,t,r){const i=t.requests.map(s=>Object.assign(Object.assign({},s),{model:n}));return(await Gg(n,op.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(n,t,r={}){this.apiKey=n,this._requestOptions=r,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=HT(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(n,t={}){var r;const i=q_(n),a=Object.assign(Object.assign({},this._requestOptions),t);return $T(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}async generateContentStream(n,t={}){var r;const i=q_(n),a=Object.assign(Object.assign({},this._requestOptions),t);return UT(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}startChat(n){var t;return new DP(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},n),this._requestOptions)}async countTokens(n,t={}){const r=jP(n,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),t);return LP(this.apiKey,this.model,r,i)}async embedContent(n,t={}){const r=TP(n),i=Object.assign(Object.assign({},this._requestOptions),t);return RP(this.apiKey,this.model,r,i)}async batchEmbedContents(n,t={}){const r=Object.assign(Object.assign({},this._requestOptions),t);return MP(this.apiKey,this.model,n,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(n){this.apiKey=n}getGenerativeModel(n,t){if(!n.model)throw new Ls("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new H_(this.apiKey,n,t)}getGenerativeModelFromCachedContent(n,t,r){if(!n.name)throw new Gf("Cached content must contain a `name` field.");if(!n.model)throw new Gf("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const s of i)if(t!=null&&t[s]&&n[s]&&(t==null?void 0:t[s])!==n[s]){if(s==="model"){const l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model,c=n.model.startsWith("models/")?n.model.replace("models/",""):n.model;if(l===c)continue}throw new Gf(`Different value for "${s}" specified in modelParams (${t[s]}) and cachedContent (${n[s]})`)}const a=Object.assign(Object.assign({},t),{model:n.model,tools:n.tools,toolConfig:n.toolConfig,systemInstruction:n.systemInstruction,cachedContent:n});return new H_(this.apiKey,a,r)}}var j5={exports:{}},W_;function PP(){return W_||(W_=1,(()=>{var e={d:(a,s)=>{for(var l in s)e.o(s,l)&&!e.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:s[l]})},o:(a,s)=>Object.prototype.hasOwnProperty.call(a,s),r:a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}},n={};function t(a,s){for(var l=0;l<s.length;l++){var c=s[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}e.r(n),e.d(n,{default:()=>i});var r=function(){function a(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,a)}var s,l;return s=a,l=[{key:"changeHeightWidth",value:function(c,d,h,g,b,m){return h>g&&(c=Math.round(c*g/h),h=g),c>d&&(h=Math.round(h*d/c),c=d),b&&h<b&&(c=Math.round(c*b/h),h=b),m&&c<m&&(h=Math.round(h*m/c),c=m),{height:c,width:h}}},{key:"resizeAndRotateImage",value:function(c,d,h,g,b){var m=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",x=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,y=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,A=x/100,w=document.createElement("canvas"),C=c.width,N=c.height,P=this.changeHeightWidth(N,h,C,d,g,b);!y||y!==90&&y!==270?(w.width=P.width,w.height=P.height):(w.width=P.height,w.height=P.width),C=P.width,N=P.height;var F=w.getContext("2d");return F.fillStyle="rgba(0, 0, 0, 0)",F.fillRect(0,0,C,N),F.imageSmoothingEnabled&&F.imageSmoothingQuality&&(F.imageSmoothingQuality="high"),y&&(F.rotate(y*Math.PI/180),y===90?F.translate(0,-w.width):y===180?F.translate(-w.width,-w.height):y===270?F.translate(-w.height,0):y!==0&&y!==360||F.translate(0,0)),F.drawImage(c,0,0,C,N),w.toDataURL("image/".concat(m),A)}},{key:"b64toByteArrays",value:function(c,d){for(var h=atob(c.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),g=[],b=0;b<h.length;b+=512){for(var m=h.slice(b,b+512),x=new Array(m.length),y=0;y<m.length;y++)x[y]=m.charCodeAt(y);var A=new Uint8Array(x);g.push(A)}return g}},{key:"b64toBlob",value:function(c,d){var h=this.b64toByteArrays(c,d);return new Blob(h,{type:d,lastModified:new Date})}},{key:"b64toFile",value:function(c,d,h){var g=this.b64toByteArrays(c,h);return new File(g,d,{type:h,lastModified:new Date})}},{key:"createResizedImage",value:function(c,d,h,g,b,m,x){var y=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",A=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,w=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,C=new FileReader;if(!c)throw Error("File Not Found!");if(c.type&&!c.type.includes("image"))throw Error("File Is NOT Image!");C.readAsDataURL(c),C.onload=function(){var N=new Image;N.src=C.result,N.onload=function(){var P=a.resizeAndRotateImage(N,d,h,A,w,g,b,m),F="image/".concat(g);switch(y){case"blob":var R=a.b64toBlob(P,F);x(R);break;case"base64":x(P);break;case"file":var k=c.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(g.toString()),M=a.b64toFile(P,k,F);x(M);break;default:x(P)}}},C.onerror=function(N){throw Error(N)}}}],l&&t(s,l),a}();const i={imageFileResizer:function(a,s,l,c,d,h,g,b,m,x){return r.createResizedImage(a,s,l,c,d,h,g,b,m,x)}};j5.exports=n})()),j5.exports}var FP=PP();const VT=$i(FP),zP=(e,n=5*1024*1024)=>new Promise((t,r)=>{var b;const i=((b=e.type.split("/")[1])==null?void 0:b.toLowerCase())||"unknown";if(e.size<=n&&(i==="jpeg"||i==="png"||i==="webp")){console.log(` Image already optimized: ${e.size} bytes, format: ${i}`),t({blob:e,format:i==="jpeg"?"jpg":i});return}const a=e.size>n;console.log(` Processing image: ${e.size} bytes, format: ${i}, compress: ${a}`);const s=new File([e],`image.${i}`,{type:e.type});let l="JPEG",c="jpg";(i==="png"||i==="gif")&&(l="PNG",c="png");const d=a?60:75,h=a?600:800,g=setTimeout(()=>{r(new Error("Image compression timed out after 10 seconds"))},1e4);VT.imageFileResizer(s,h,h,l,d,0,m=>{clearTimeout(g),m instanceof Blob?(console.log(` Image compressed: ${e.size}  ${m.size} bytes (${((1-m.size/e.size)*100).toFixed(1)}% reduction)`),t({blob:m,format:c})):r(new Error("Compression failed - unexpected result type"))},"blob")}),qP=async(e,n,t,r=3,i=15e3)=>{const a=sh();for(let s=1;s<=r;s++)try{const{blob:l,format:c}=await zP(e),d=`${n}_${Mi()}.${c}`,h=async()=>{const m=Au(a,`materials/${t}/${d}`),x=await Vf(m,l);return{url:await Td(x.ref),path:x.ref.fullPath,filename:d,originalSize:e.size,compressedSize:l.size}},g=new Promise((m,x)=>{setTimeout(()=>x(new Error(`Upload timeout after ${i}ms`)),i)}),b=await Promise.race([h(),g]);return console.log(`Successfully uploaded image: ${b.filename} (attempt ${s})`,{originalSize:b.originalSize,compressedSize:b.compressedSize,url:b.url}),{url:b.url,path:b.path}}catch(l){const c=l instanceof Error?l.message:"Unknown error";if(console.warn(`Upload attempt ${s}/${r} failed for ${n}: ${c}`),s===r)throw console.error(`All ${r} upload attempts failed for ${n}:`,l),new Error(`Image upload failed after ${r} attempts: ${c}`);const d=Math.min(1e3*Math.pow(2,s-1),5e3);console.log(`Waiting ${d}ms before retry...`),await new Promise(h=>setTimeout(h,d))}throw new Error("Upload failed - should not reach here")},T5=e=>{const t=`
    <svg width="400" height="300" xmlns="http://www.w3.org/2000/svg">
      <rect width="100%" height="100%" fill="#f44336"/>
      <text x="50%" y="45%" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle" dominant-baseline="middle">
        Upload Failed
      </text>
      <text x="50%" y="55%" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle" dominant-baseline="middle">
        ${e.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30)}
      </text>
    </svg>
  `;try{return`data:image/svg+xml;base64,${btoa(t)}`}catch(r){return console.error("Failed to create fallback placeholder:",r),`data:image/svg+xml,${encodeURIComponent(t)}`}},BP=async(e,n,t,r=3)=>{const i=e.filter(c=>c.imageBlob),a=[];console.log(` Starting batch upload of ${i.length} images (batch size: ${r})`),console.log(" Images to upload:",i.map((c,d)=>{var h,g;return{index:d+1,slideNumber:c.slideNumber,description:c.description,blobSize:(h=c.imageBlob)==null?void 0:h.size,blobType:(g=c.imageBlob)==null?void 0:g.type}}));for(let c=0;c<i.length;c+=r){const d=Math.min(c+r,i.length),h=i.slice(c,d);console.log(`Processing batch ${Math.floor(c/r)+1}/${Math.ceil(i.length/r)} (images ${c+1}-${d})`);const g=h.map(async(b,m)=>{const x=c+m;console.log(` Starting upload for image ${x+1}/${i.length} (slide ${b.slideNumber})`);try{const y=`slide_${b.slideNumber}_image_${x+1}`,A=qP(b.imageBlob,y,n,2,1e4),w=new Promise((N,P)=>{setTimeout(()=>{P(new Error(`Individual image timeout after 15 seconds for image ${x+1}`))},15e3)}),{url:C}=await Promise.race([A,w]);return console.log(` Successfully processed image ${x+1}/${i.length}`),{url:C,title:b.description||`Image from Slide ${b.slideNumber}`,originalFilename:b.filename,slideNumber:b.slideNumber,index:x}}catch(y){return console.error(` Failed to upload image ${x+1}/${i.length} from slide ${b.slideNumber}:`,y),{url:T5(b.description||`Image from Slide ${b.slideNumber}`),title:b.description||`Image from Slide ${b.slideNumber}`,originalFilename:b.filename,slideNumber:b.slideNumber,index:x}}});try{console.log(` Waiting for batch ${Math.floor(c/r)+1} to complete...`);const b=2e4,m=new Promise((y,A)=>{setTimeout(()=>{A(new Error(`Batch ${Math.floor(c/r)+1} timeout after ${b}ms`))},b)}),x=await Promise.race([Promise.allSettled(g),m]);console.log(` Batch ${Math.floor(c/r)+1} completed, processing ${x.length} results...`),x.forEach((y,A)=>{const w=c+A;if(y.status==="fulfilled")a.push(y.value),console.log(` Image ${w+1}/${i.length} uploaded successfully`);else{console.error(` Image ${w+1}/${i.length} failed:`,y.reason);const C=h[A];a.push({url:T5(C.description||`Image from Slide ${C.slideNumber}`),title:C.description||`Image from Slide ${C.slideNumber}`,originalFilename:C.filename,slideNumber:C.slideNumber})}t==null||t(w+1,i.length)})}catch(b){console.error(` Batch ${Math.floor(c/r)+1} failed or timed out:`,b),h.forEach((m,x)=>{const y=c+x;console.log(` Creating fallback for timed out image ${y+1}/${i.length}`),a.push({url:T5(m.description||`Image from Slide ${m.slideNumber}`),title:m.description||`Image from Slide ${m.slideNumber}`,originalFilename:m.filename,slideNumber:m.slideNumber}),t==null||t(y+1,i.length)})}d<i.length&&(console.log(" Waiting 1 second before next batch..."),await new Promise(b=>setTimeout(b,1e3)))}a.sort((c,d)=>(c.index||0)-(d.index||0));const s=a.filter(c=>!c.url.startsWith("data:")).length,l=a.length-s;return console.log(`Upload complete: ${s} successful, ${l} failed out of ${a.length} total`),a};class UP{constructor(n){Xe(this,"genAI");Xe(this,"model");Xe(this,"activeBlobUrls",new Set);this.genAI=new WT(n),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.2,topK:3,topP:.9,maxOutputTokens:16384}})}cleanupBlobUrls(){this.activeBlobUrls.forEach(n=>{URL.revokeObjectURL(n)}),this.activeBlobUrls.clear()}createTrackedBlobUrl(n){const t=URL.createObjectURL(n);return this.activeBlobUrls.add(t),t}async processMaterialContent(n,t,r,i,a,s){if(!(n!=null&&n.trim()))throw new Error("No content provided for processing");a==null||a({stage:"analyzing",percentage:20,currentOperation:"Analyzing document structure..."});const l=n.length,c=Math.ceil(l/4);if(l>15e3||c>4e3){console.log(`Document is large (${l} chars, ~${c} tokens), using chunked processing`);const d=n.substring(0,15e3);return console.log("Truncating input to prevent AI response truncation"),this.processSingleMaterial(d+`

[Content truncated for processing]`,t,r,i,a,s)}return this.processSingleMaterial(n,t,r,i,a,s)}async processSingleMaterial(n,t,r,i,a,s){const l=this.buildMaterialAnalysisPrompt(n,t,r,i,s);a==null||a({stage:"analyzing",percentage:40,currentOperation:"Processing with AI..."});try{const h=(await(await this.model.generateContent(l)).response).text();if(!h||h.trim().length===0)throw new Error("Empty response from AI service");a==null||a({stage:"structuring",percentage:70,currentOperation:"Structuring content..."});let g=h.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();console.log("Raw response text (first 1000 chars):",h.substring(0,1e3)),console.log("Cleaned text (first 1000 chars):",g.substring(0,1e3)),g=this.repairTruncatedJSON(g);let b;try{b=JSON.parse(g)}catch(m){throw console.error("JSON parsing failed:",m),console.error("Raw response text (first 1000 chars):",h.substring(0,1e3)),console.error("Cleaned text (first 1000 chars):",g.substring(0,1e3)),new Error("AI response format invalid - unable to parse JSON")}if(!b||typeof b!="object")throw new Error("AI response is not a valid object");return a==null||a({stage:"complete",percentage:100,currentOperation:"Processing complete!"}),this.validateAndSanitizeMaterialResponse(b,t,r)}catch(c){if(console.error("Material Import AI Error:",c),a==null||a({stage:"error",percentage:0,currentOperation:`Error: ${c instanceof Error?c.message:"Unknown error"}`}),c instanceof Error){if(c.message.includes("API_KEY_INVALID")||c.message.includes("API key"))throw new Error("Invalid API key. Please check your material import API key configuration.");if(c.message.includes("RATE_LIMIT_EXCEEDED"))throw new Error("Rate limit exceeded. Please try again in a few minutes.");if(c.message.includes("SAFETY"))throw new Error("Content flagged by safety filters. Please try with different content.")}throw new Error(`Material processing failed: ${c instanceof Error?c.message:"Unknown error"}`)}}async processLargeMaterial(n,t,r,i,a){a==null||a({stage:"analyzing",percentage:10,currentOperation:"Processing large document with chunking..."});const s=this.chunkMaterialText(n);let l=null;const c=[];a==null||a({stage:"analyzing",percentage:30,currentOperation:`Processing main content (1/${s.length})...`,subSteps:{current:1,total:s.length,description:"Analyzing primary structure"}}),l=await this.processSingleMaterial(s[0],t,r,i);for(let h=1;h<s.length;h++){a==null||a({stage:"analyzing",percentage:30+40*h/s.length,currentOperation:`Processing additional content (${h+1}/${s.length})...`,subSteps:{current:h+1,total:s.length,description:"Extracting supplementary details"}});try{const g=await this.processChunkForAdditionalContent(s[h],t,r);g&&c.push(g)}catch(g){console.warn(`Failed to process chunk ${h+1}:`,g)}}a==null||a({stage:"structuring",percentage:80,currentOperation:"Merging content from all sections..."});const d=this.mergeChunkedMaterialResults(l,c);return a==null||a({stage:"complete",percentage:100,currentOperation:"Large document processing complete!"}),d}buildMaterialAnalysisPrompt(n,t,r,i,a){const s=this.getFileTypeContext(r);return`
Analyze this ${s} educational material and extract structured information for course content management.

File: ${t}
Type: ${r}

CONTENT:
${n}

${a!=null&&a.images&&a.images.length>0?`
DETECTED IMAGES:
${a.images.map((l,c)=>`${c+1}. ${l.description||`Image ${c+1}`}${l.slideNumber?` (Slide ${l.slideNumber})`:""}${l.altText?` - ${l.altText}`:""}`).join(`
`)}

CRITICAL IMAGE PLACEMENT INSTRUCTIONS:
- Each image MUST be placed in the section corresponding to its slide number
- If "Image X (Slide Y)" is detected, place it in the section created from Slide Y content
- Each image should have a unique, descriptive title based on its context
- Include slideNumber property in each image object for proper matching
- DO NOT reuse the same image in multiple sections
`:""}

Please extract and structure this content into a comprehensive educational material format. Focus on:

1. **Document Structure**: Identify main topics, subtopics, and hierarchical organization
2. **Content Quality**: Preserve important educational information and context
3. **Visual Elements**: Note references to images, diagrams, charts (even if not extractable)
4. **Links and Resources**: Extract any URLs, references, or external resources mentioned
5. **Learning Context**: Maintain educational value and logical flow

${s==="presentation slide deck"?`
SPECIAL INSTRUCTIONS FOR PRESENTATIONS:
- Each slide should become a section or subsection
- Preserve slide order and hierarchy
- Note slide titles and main content points
- Identify slide transitions and logical groupings
- Extract speaker notes or additional context if present
`:""}

Return ONLY a JSON object with this exact structure:
{
  "title": "Material title (extracted from content or filename)",
  "description": "Brief description of the material content",
  "header": {
    "title": "Introduction or Overview",
    "content": "HTML formatted introductory content"
  },
  "footer": {
    "title": "Summary or Conclusion", 
    "content": "HTML formatted concluding content"
  },
  "sections": [
    {
      "title": "Section Title",
      "content": "HTML formatted main section content",
      "subsections": [
        {
          "title": "Subsection Title",
          "content": "HTML formatted subsection content",
          "subSubsections": [
            {
              "title": "Sub-subsection Title",
              "content": "HTML formatted detailed content",
              "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 2}],
              "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
            }
          ],
          "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 3}],
          "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
        }
      ],
      "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 4}],
      "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
    }
  ],
  "sourceInfo": {
    "fileName": "${t}",
    "fileType": "${r}",
    "extractedAt": "${new Date().toISOString()}",
    "originalFileReference": "Reference to original file for debugging"
  },
  "images": [{"url": "", "title": "Overall image description", "description": "Context", "slideNumber": 1}],
  "links": [{"title": "Overall link title", "url": "URL", "description": "Link context"}]
}

CRITICAL JSON FORMATTING RULES:
- Return ONLY valid JSON - no comments, no explanations, no additional text
- Use proper HTML tags for content formatting (<p>, <h1>-<h6>, <ul>, <ol>, <li>, <strong>, <em>, <br>)
- Preserve educational structure and hierarchy
- Create logical sections based on content organization
- For images: Use EMPTY STRINGS for URLs ("url": "") with descriptive titles, context, and slideNumber property
-- IMPORTANT: Each image object MUST include "slideNumber" property matching the source slide
-- NEVER use placeholder filenames like "placeholder_image_1.png" - always use empty strings for URLs
- For links: Extract actual URLs when present, provide context
- Complete ALL sections and subsections - do not use comments like "// ... continue"
- Ensure all JSON arrays and objects are properly closed
- Maintain educational value and readability

IMPORTANT: Your response must be complete, valid JSON that can be parsed directly. Do not include any explanatory text, comments, or incomplete sections. End your response when the JSON object is complete.
`}async processChunkForAdditionalContent(n,t,r){const i=`
Extract additional educational content from this section of the material:

File: ${t}
Type: ${r}

CONTENT:
${n}

Focus on extracting any additional sections, detailed information, or supplementary content that should be included in the educational material.

Return ONLY a JSON object with additional sections, images, or links:
{
  "sections": [...],
  "images": [...],
  "links": [...]
}
`;try{const l=(await(await this.model.generateContent(i)).response).text();if(!l||l.trim().length===0)return null;let c;try{c=this.extractValidJSON(l)}catch(d){try{c=this.fallbackJSONExtraction(l)}catch{throw d}}return JSON.parse(c)}catch(a){return console.warn("Failed to process additional content chunk:",a),null}}chunkMaterialText(n,t=25e3){const r=[],i=n.split(`
`);let a="";for(const s of i)a.length+s.length>t&&a.length>0?(r.push(a.trim()),a=s):a+=(a?`
`:"")+s;return a.trim()&&r.push(a.trim()),r.length>0?r:[n]}mergeChunkedMaterialResults(n,t){const r={...n};for(const i of t)i.sections&&Array.isArray(i.sections)&&(r.sections=[...r.sections,...i.sections]),i.images&&Array.isArray(i.images)&&(r.images=[...r.images||[],...i.images]),i.links&&Array.isArray(i.links)&&(r.links=[...r.links||[],...i.links]);return r}extractValidJSON(n){let t=n.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();t=t.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const r=t.indexOf("{");if(r===-1)throw new Error("No JSON object found in response");t=t.substring(r);let i=0,a=-1,s=!1,l=!1;for(let h=0;h<t.length;h++){const g=t[h];if(l){l=!1;continue}if(g==="\\"){l=!0;continue}if(g==='"'&&!l){s=!s;continue}if(!s){if(g==="{")i++;else if(g==="}"&&(i--,i===0)){a=h+1;break}}}if(a===-1)throw new Error("No matching closing brace found for JSON object");let c=t.substring(0,a);c=c.replace(/,(\s*[}\]])/g,"$1"),this.detectTruncatedJSON(c)&&(console.warn("Detected truncated JSON response, attempting repair"),c=this.attemptJSONRepair(c));try{return JSON.parse(c),c}catch(h){console.warn("Initial JSON parsing failed, attempting to fix common issues:",h);const g=this.attemptJSONRepair(c);try{return JSON.parse(g),g}catch(b){throw console.error("JSON repair failed:",b),new Error(`Invalid JSON structure: ${b.message}`)}}}detectTruncatedJSON(n){const t=n.trim(),r=[/"[^"]*$/,/:\s*$/,/,\s*$/,/"[a-zA-Z]+\w*$/,/[a-zA-Z]+\w*$/,/\[\s*$/,/{\s*$/];for(const a of r)if(a.test(t))return console.log(`Truncation detected: ${a.toString()}`),!0;const i=t.charAt(t.length-1);return i!=="}"&&i!=="]"?(console.log(`Truncation detected: JSON doesn't end with } or ], ends with: "${i}"`),!0):!1}detectTruncatedResponse(n){const r=n.trim().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),i=[/"[^"]*$/,/\w+$/,/:\s*$/,/,\s*$/,!r.endsWith("}"),!r.endsWith("]"),r.length<500];for(let a=0;a<i.length-1;a++){const s=i[a];if(s instanceof RegExp&&s.test(r))return!0}return!!(i[i.length-3]||i[i.length-2]||i[i.length-1])}attemptJSONRepair(n){let t=n;const r=t.split(`
`),i=[];for(const d of r){const h=d.trim();h.startsWith("//")||h.includes("... (Continue")||h.includes("continue structuring")||h.includes("similarly")||i.push(d)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1");const a=(t.match(/{/g)||[]).length,s=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,c=(t.match(/\]/g)||[]).length;for(let d=0;d<a-s;d++)t+="}";for(let d=0;d<l-c;d++)t+="]";return t}fallbackJSONExtraction(n){console.log("Attempting fallback JSON extraction...");let t=n.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();t=t.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const r=t.indexOf("{");if(r===-1)throw new Error("No JSON object found in response");t=t.substring(r);const i=[/}\s*$/m,/}\s*\n\s*[A-Z]/m,/}\s*\n\s*This/m,/}\s*\n\s*Note:/m];let a=-1;for(const l of i){const c=t.match(l);if(c&&c.index!==void 0){const d=c.index+c[0].indexOf("}")+1;(a===-1||d<a)&&(a=d)}}a>0&&(t=t.substring(0,a));const s=this.attemptJSONRepair(t);try{return JSON.parse(s),s}catch{return console.log("Attempting aggressive JSON repair..."),this.aggressiveJSONRepair(t)}}aggressiveJSONRepair(n){let t=n;const r=t.split(`
`),i=[];for(const d of r){const h=d.trim();if(h.startsWith("//")||h.includes("... (")||h.includes("continue")||h.includes("similarly")||h.includes("Remember to")||h.includes("This structure")||h.length>0&&!h.includes('"')&&!h.includes("{")&&!h.includes("}")&&!h.includes("[")&&!h.includes("]"))break;i.push(d)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1");const a=(t.match(/{/g)||[]).length,s=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,c=(t.match(/\]/g)||[]).length;for(let d=0;d<a-s;d++)t+=`
}`;for(let d=0;d<l-c;d++)t+=`
]`;return t=t.replace(/,(\s*[}\]])/g,"$1"),t}repairTruncatedJSON(n){let t=n;const r=t.split(`
`),i=[];for(const d of r){const h=d.trim();if(h.length===0){i.push(d);continue}if(h.match(/^"[^"]*$/)){i.push('"": ""');break}if(h.match(/:\s*"[^"]*$/)){i.push(h.replace(/:\s*"[^"]*$/,': ""'));break}if(h.match(/^[a-zA-Z]+\w*$/))break;i.push(d)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1"),t=t.replace(/,\s*$/,"");const a=(t.match(/{/g)||[]).length,s=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,c=(t.match(/\]/g)||[]).length;console.log(`JSON structure analysis: ${a} open braces, ${s} close braces, ${l} open brackets, ${c} close brackets`);for(let d=0;d<l-c;d++)t+=`
]`;for(let d=0;d<a-s;d++)t+=`
}`;return t=t.replace(/,(\s*[}\]])/g,"$1"),console.log("Repaired JSON (first 1000 chars):",t.substring(0,1e3)),t}getFileTypeContext(n){const t=n.toLowerCase();return t.includes("presentation")||t.includes("powerpoint")||t.includes("pptx")?"presentation slide deck":t.includes("pdf")?"PDF document":t.includes("word")||t.includes("docx")?"Word document":"document"}validateAndSanitizeMaterialResponse(n,t,r){var a,s,l,c,d;const i={title:n.title||t.replace(/\.[^/.]+$/,"")||"Untitled Material",description:n.description||"",header:{title:((a=n.header)==null?void 0:a.title)||"Introduction",content:((s=n.header)==null?void 0:s.content)||""},footer:{title:((l=n.footer)==null?void 0:l.title)||"Summary",content:((c=n.footer)==null?void 0:c.content)||""},sections:[],sourceInfo:{fileName:t,fileType:r,extractedAt:new Date().toISOString(),originalFileReference:((d=n.sourceInfo)==null?void 0:d.originalFileReference)||t},images:Array.isArray(n.images)?n.images:[],links:Array.isArray(n.links)?n.links:[]};return Array.isArray(n.sections)&&(i.sections=n.sections.map(h=>({title:h.title||"Section",content:h.content||"",subsections:Array.isArray(h.subsections)?h.subsections.map(g=>({title:g.title||"Subsection",content:g.content||"",subSubsections:Array.isArray(g.subSubsections)?g.subSubsections.map(b=>({title:b.title||"Sub-subsection",content:b.content||"",images:Array.isArray(b.images)?b.images:[],links:Array.isArray(b.links)?b.links:[]})):[],images:Array.isArray(g.images)?g.images:[],links:Array.isArray(g.links)?g.links:[]})):[],images:Array.isArray(h.images)?h.images:[],links:Array.isArray(h.links)?h.links:[]}))),i.sections.length===0&&i.sections.push({title:"Main Content",content:"Content extracted from the uploaded material.",subsections:[],images:[],links:[]}),i}convertToMaterialFormat(n,t,r,i){const a=(c,d=400,h=300)=>{const g=c.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30),b=`
        <svg width="${d}" height="${h}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${g}
          </text>
        </svg>
      `;try{return`data:image/svg+xml;base64,${btoa(b)}`}catch(m){return console.error("Failed to create placeholder image URL:",m),`data:image/svg+xml,${encodeURIComponent(b)}`}},s=c=>{const d=new Map;i!=null&&i.images&&i.images.forEach(m=>{m.slideNumber&&m.imageBlob&&(d.has(m.slideNumber)||d.set(m.slideNumber,[]),d.get(m.slideNumber).push(m))});const h=new Map,g=(c==null?void 0:c.map((m,x)=>{let y="";if(m.slideNumber&&d.has(m.slideNumber)){const w=d.get(m.slideNumber);h.has(m.slideNumber)||h.set(m.slideNumber,new Set);const C=h.get(m.slideNumber);let N=null;if(m.title||m.description){const P=(m.title||m.description).toLowerCase();N=w.find(F=>{const R=(F.description||"").toLowerCase();return!C.has(F.embedId||"")&&R.includes(P.split(" ")[0])})||null}if(N||(N=w.find(P=>!C.has(P.embedId||""))||null),!N&&w.length>0){const P=x%w.length;N=w[P]}N!=null&&N.imageBlob&&(N.embedId&&C.add(N.embedId),y=this.createTrackedBlobUrl(N.imageBlob),console.log(`Using extracted image blob for slide ${m.slideNumber} (${C.size}/${w.length}):`,{slideNumber:m.slideNumber,imageIndex:x,embedId:N.embedId,blobSize:N.imageBlob.size,blobType:N.imageBlob.type,matchedBy:N.description||"position"}))}y||(m.url&&m.url.trim()&&(m.url.startsWith("data:")||m.url.startsWith("http"))&&!m.url.includes("placeholder_image")?y=m.url:y=a(m.title||"Image"));const A={url:y,title:m.title||m.description||"Detected Image"};return console.log("Enhanced image (preview):",A),A}))||[],b=Array.from(d.values()).reduce((m,x)=>m+x.length,0);return console.log(`Enhanced ${g.length} images for material preview (${b} extracted images available across ${d.size} slides)`),g},l=c=>{var d;return{id:Mi(),title:c.title,content:c.content,subsections:((d=c.subsections)==null?void 0:d.map(h=>{var g;return{id:Mi(),title:h.title,content:h.content,subSubsections:((g=h.subSubsections)==null?void 0:g.map(b=>({id:Mi(),title:b.title,content:b.content,images:s(b.images||[]),links:b.links||[]})))||[],images:s(h.images||[]),links:h.links||[]}}))||[],images:s(c.images||[]),links:c.links||[]}};return{course:t,title:n.title,header:n.header,footer:n.footer,sections:n.sections.map(l),author:r,published:!1,sourceInfo:n.sourceInfo}}async convertToMaterialFormatWithImageUpload(n,t,r,i,a,s){var m;let l=[];if(a!=null&&a.images)try{console.log(` Starting image upload process for ${a.images.length} extracted images...`),console.log(" Image metadata:",a.images.map(x=>{var y;return{slideNumber:x.slideNumber,description:x.description,hasBlob:!!x.imageBlob,blobSize:(y=x.imageBlob)==null?void 0:y.size}})),l=await BP(a.images,i,s),console.log(` Successfully uploaded ${l.length} images to Firebase Storage`),console.log(" Uploaded image URLs:",l.map(x=>({title:x.title,url:x.url.substring(0,100)+"...",slideNumber:x.slideNumber})))}catch(x){console.error(" Failed to upload extracted images:",x)}else console.log(" No images to upload - extractionMetadata.images is empty or undefined");const c=(x,y=400,A=300)=>{const w=x.substring(0,30),C=`
        <svg width="${y}" height="${A}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${w}
          </text>
        </svg>
      `;return`data:image/svg+xml;base64,${btoa(C)}`},d=x=>{const y=new Map;l.forEach(C=>{C.slideNumber&&(y.has(C.slideNumber)||y.set(C.slideNumber,[]),y.get(C.slideNumber).push(C))});const A=new Set,w=(x==null?void 0:x.map((C,N)=>{let P=null;if(C.slideNumber&&y.has(C.slideNumber)){const R=y.get(C.slideNumber);if(P=R.find(k=>!A.has(k.url))||null,!P&&R.length>0){const k=N%R.length;P=R[k]}}if(!P){const R=(C.title||C.description||"").toLowerCase().split(" ");P=l.find(k=>{if(A.has(k.url))return!1;const M=k.title.toLowerCase().split(" ");return R.some(q=>q.length>3&&M.some(Q=>Q.includes(q)))})||null}if(P||(P=l.find(R=>!A.has(R.url))||null),!P&&l.length>0){const R=N%l.length;P=l[R]}P&&A.add(P.url);const F={url:(P==null?void 0:P.url)||(C.url&&C.url.trim()?C.url:c(C.title||"Image")),title:(P==null?void 0:P.title)||C.title||C.description||"Detected Image"};return console.log("Enhanced image with upload:",{...F,url:F.url.substring(0,100)+"...",isUploaded:!!P,imageIndex:N,originalSlideNumber:C.slideNumber,matchedSlideNumber:P==null?void 0:P.slideNumber,matchStrategy:P?P.slideNumber===C.slideNumber?"slideNumber":F.title.includes(C.title||"")?"title":"sequential":"placeholder",usedCount:A.size,totalAvailable:l.length}),F}))||[];return console.log(`Enhanced ${w.length} images for material (${l.length} uploaded, ${A.size} used)`),w},h=x=>{var y;return{id:Mi(),title:x.title,content:x.content,images:d(x.images||[]),links:x.links||[],subsections:((y=x.subsections)==null?void 0:y.map(g))||[]}},g=x=>{var y;return{id:Mi(),title:x.title,content:x.content,images:d(x.images||[]),links:x.links||[],subSubsections:((y=x.subSubsections)==null?void 0:y.map(b))||[]}},b=x=>({id:Mi(),title:x.title,content:x.content,images:d(x.images||[]),links:x.links||[]});return{course:t,title:n.title,header:n.header||{title:"",content:""},footer:n.footer||{title:"",content:""},sections:((m=n.sections)==null?void 0:m.map(h))||[],author:r,published:!1,scheduledTimestamp:null}}}let vy=null;const eS=e=>{const n=e||"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0";if(!vy&&n&&(vy=new UP(n)),!vy)throw new Error("Material Import service not initialized. Please configure VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.");return vy},$P=async e=>{try{const n=await Ri(()=>import("./pdf-VQKGuvxX.js"),[]),t="/nexlab";n.GlobalWorkerOptions.workerSrc=`${t}/js/pdf.worker.min.js`;const r=await e.arrayBuffer(),i=await n.getDocument({data:r}).promise,a=i.numPages;let s="";for(let l=1;l<=a;l++){const h=(await(await i.getPage(l)).getTextContent()).items.filter(g=>g&&typeof g.str=="string").map(g=>g.str).join(" ").trim();h&&(s+=h+`

`)}return{text:s.trim(),metadata:{pageCount:a,wordCount:s.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"PDF.js"}}}catch(n){throw{message:"Failed to extract text from PDF file. Please ensure the PDF contains selectable text.",code:"PDF_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},HP=async e=>{try{const n=await Ri(()=>import("./index-CsqmMOiI.js").then(i=>i.i),__vite__mapDeps([0,1])),t=await e.arrayBuffer(),r=await n.extractRawText({arrayBuffer:t});return r.messages&&r.messages.length>0&&console.warn("DOCX extraction warnings:",r.messages),{text:r.value.trim(),metadata:{wordCount:r.value.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"Mammoth"}}}catch(n){throw{message:"Failed to extract text from Word document. Please ensure the file is not corrupted.",code:"DOCX_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},WP=async e=>{var n,t;try{const r=(await Ri(async()=>{const{default:g}=await import("./index-CZYWMsg6.js").then(b=>b.i);return{default:g}},__vite__mapDeps([2,1]))).default,i=await e.arrayBuffer(),a=new r(i);let s="",l=0;const c=[],d=Object.keys(a.files).filter(g=>g.startsWith("ppt/slides/slide")&&g.endsWith(".xml"));l=d.length;for(const g of d)try{const b=a.files[g].asText(),m=parseInt(((n=g.match(/slide(\d+)\.xml/))==null?void 0:n[1])||"0"),x=b.matchAll(/<a:blip[^>]*r:embed="([^"]*)"[^>]*>/g);for(const w of x){const C=w[1],N=b.match(new RegExp('<p:cNvPr[^>]*name="([^"]*)"[^>]*>',"i")),P=b.match(new RegExp('<p:cNvPr[^>]*descr="([^"]*)"[^>]*>',"i")),F=b.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();let R=`Image on slide ${m}`;const k=["chart","graph","diagram","figure","table","photo","image","illustration","screenshot","logo","flowchart","timeline","comparison","data","results","example","structure","process"],M=F.toLowerCase().split(/\s+/),q=k.filter(T=>M.some(O=>O.includes(T)));if(q.length>0)R=`${q[0].charAt(0).toUpperCase()+q[0].slice(1)} (Slide ${m})`;else if(F.length>0){const T=M.slice(0,3).join(" ");T.length>5&&(R=`Image: ${T}... (Slide ${m})`)}let Q;try{const T=`ppt/slides/_rels/slide${m}.xml.rels`;if(a.files[T]){const L=a.files[T].asText().match(new RegExp(`Id="${C}"[^>]*Target="([^"]*)"`,"i"));if(L){const j=L[1],X=j.startsWith("../")?`ppt/${j.substring(3)}`:`ppt/slides/${j}`;if(a.files[X]){const H=a.files[X].asUint8Array();let G="image/jpeg";const ee=X.toLowerCase();if(ee.includes(".png"))G="image/png";else if(ee.includes(".gif"))G="image/gif";else if(ee.includes(".bmp"))G="image/bmp";else if(ee.includes(".webp"))G="image/webp";else if(ee.includes(".emf")||ee.includes(".wmf")){console.warn(`Skipping unsupported vector image format: ${X}`);continue}Q=new Blob([H],{type:G}),console.log(`Extracted image blob for slide ${m}:`,{size:Q.size,type:G,path:X})}}}}catch(T){console.warn(`Failed to extract image blob for ${C} on slide ${m}:`,T)}c.push({slideNumber:m,description:(N==null?void 0:N[1])||R,altText:(P==null?void 0:P[1])||void 0,filename:C,embedId:C,imageBlob:Q})}const y=b.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();y&&(s+=`
--- Slide ${m} ---
${y}
`);const A=c.filter(w=>w.slideNumber===m);A.length>0&&(s+=`
[IMAGES ON SLIDE ${m}]: `,A.forEach(w=>{s+=`"${w.description}"${w.altText?` (${w.altText})`:""}, `}),s=s.slice(0,-2)+`
`)}catch(b){console.warn(`Failed to extract text from ${g}:`,b)}const h=Object.keys(a.files).filter(g=>g.startsWith("ppt/notesSlides/notesSlide")&&g.endsWith(".xml"));for(const g of h)try{const m=a.files[g].asText().replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();if(m){const x=((t=g.match(/notesSlide(\d+)\.xml/))==null?void 0:t[1])||"unknown";s+=`
--- Notes for Slide ${x} ---
${m}
`}}catch(b){console.warn(`Failed to extract notes from ${g}:`,b)}if(!s.trim())throw new Error("No text content found in PowerPoint file");return{text:s.trim(),metadata:{slideCount:l,wordCount:s.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"PizZip",images:c.length>0?c:void 0}}}catch(r){throw{message:"Failed to extract text from PowerPoint file. Please ensure the file is not corrupted and contains text content.",code:"PPTX_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},VP=async e=>{try{const n=await e.text();return{text:n.trim(),metadata:{wordCount:n.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"Native"}}}catch(n){throw{message:"Failed to extract text from text file",code:"TXT_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},YT=async e=>{if(!e)throw{message:"No file provided",code:"NO_FILE_ERROR"};const n=e.type.toLowerCase(),t=e.name.toLowerCase();try{if(n==="application/pdf"||t.endsWith(".pdf"))return await $P(e);if(n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||t.endsWith(".docx"))return await HP(e);if(n==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||t.endsWith(".pptx"))return await WP(e);if(n==="text/plain"||t.endsWith(".txt"))return await VP(e);throw{message:`Unsupported file format: ${n||"unknown"}. Supported formats: PDF (.pdf), Word (.docx), PowerPoint (.pptx), Text (.txt)`,code:"UNSUPPORTED_FORMAT_ERROR"}}catch(r){throw r&&typeof r=="object"&&"code"in r?r:{message:`Failed to extract text from ${e.name}`,code:"GENERIC_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},GT=e=>{const t=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain"],r=[".pdf",".docx",".pptx",".txt"];if(e.size>524288e3)return{isValid:!1,error:`File size (${(e.size/1024/1024).toFixed(1)}MB) exceeds the maximum limit of 500MB.`};const i=e.type.toLowerCase(),a=e.name.toLowerCase(),s=t.includes(i),l=r.some(c=>a.endsWith(c));return!s&&!l?{isValid:!1,error:`Unsupported file format. Please upload files with extensions: ${r.join(", ")}`}:{isValid:!0}},QT=e=>{const n=e.type.toLowerCase(),t=e.name.toLowerCase();return n==="application/pdf"||t.endsWith(".pdf")?"PDF Document":n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||t.endsWith(".docx")?"Word Document":n==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||t.endsWith(".pptx")?"PowerPoint Presentation":n==="text/plain"||t.endsWith(".txt")?"Text File":"Unknown Format"},YP=e=>{const n=e.size/1048576,t=e.type.toLowerCase();let r=0;return t==="application/pdf"?r=Math.max(2,n*.5):t==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?r=Math.max(1,n*.3):t==="application/vnd.openxmlformats-officedocument.presentationml.presentation"?r=Math.max(1.5,n*.4):r=Math.max(.5,n*.1),Math.round(r)};class GP{constructor(){Xe(this,"storage",sh());Xe(this,"DEFAULT_CHUNK_SIZE",5*1024*1024);Xe(this,"DEFAULT_MAX_RETRIES",3);Xe(this,"DEFAULT_TIMEOUT",6e4)}async uploadLargeFile(n,t,r={}){const i=Date.now(),{chunkSize:a=this.DEFAULT_CHUNK_SIZE,maxRetries:s=this.DEFAULT_MAX_RETRIES,timeoutMs:l=this.DEFAULT_TIMEOUT,onProgress:c,onChunkComplete:d}=r,h=500*1024*1024;if(n.size>h)throw new Error(`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`);if(!(n.size>a))return this.uploadStandardFile(n,t,c);console.log(` Starting chunked upload for ${n.name} (${(n.size/1024/1024).toFixed(1)}MB)`),c==null||c({stage:"preparing",percentage:0,bytesUploaded:0,totalBytes:n.size,currentOperation:"Preparing file for chunked upload..."});const b=this.createChunkMetadata(n,a),m=Mi(),x=`${t}_chunks_${m}`;c==null||c({stage:"preparing",percentage:5,totalChunks:b.length,bytesUploaded:0,totalBytes:n.size,currentOperation:`Created ${b.length} chunks for upload...`});try{await this.uploadChunks(n,b,x,{maxRetries:s,timeoutMs:l,onProgress:w=>{const C=this.calculateOverallProgress(b,w);c==null||c({stage:"uploading",percentage:5+C*.85,currentChunk:w.currentChunk,totalChunks:b.length,bytesUploaded:w.bytesUploaded,totalBytes:n.size,currentOperation:w.currentOperation,estimatedTimeRemaining:this.estimateTimeRemaining(i,C)})},onChunkComplete:d}),c==null||c({stage:"assembling",percentage:90,totalChunks:b.length,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Assembling chunks into final file..."});const y=await this.assembleChunks(n,b,t,m);c==null||c({stage:"completed",percentage:100,totalChunks:b.length,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Upload completed successfully!"});const A=Date.now()-i;return console.log(` Chunked upload completed in ${(A/1e3).toFixed(1)}s`),{...y,chunks:b.length,uploadTime:A}}catch(y){throw console.error(" Chunked upload failed:",y),await this.cleanupFailedUpload(b),y}}createChunkMetadata(n,t){const r=[];let i=0;for(;i<n.size;){const a=Math.min(i+t,n.size);r.push({index:r.length,size:a-i,start:i,end:a,retries:0}),i=a}return r}async uploadChunks(n,t,r,i){const{maxRetries:a,timeoutMs:s,onProgress:l,onChunkComplete:c}=i;let d=0;const h=3;for(let g=0;g<t.length;g+=h){const m=t.slice(g,Math.min(g+h,t.length)).map(async x=>{const y=n.slice(x.start,x.end),A=`${r}/chunk_${x.index.toString().padStart(4,"0")}`;let w=null;for(let C=0;C<=a;C++)try{l==null||l({currentChunk:x.index+1,bytesUploaded:d,currentOperation:`Uploading chunk ${x.index+1}/${t.length} (attempt ${C+1})`});const N=await this.uploadSingleChunk(y,A,s);x.uploadUrl=N.url,x.uploadPath=N.path,d+=x.size,c==null||c(x.index,t.length),console.log(` Chunk ${x.index+1}/${t.length} uploaded successfully`);return}catch(N){w=N,x.retries=C+1,C<a&&(console.warn(` Chunk ${x.index+1} failed (attempt ${C+1}), retrying...`),await this.delay(Math.pow(2,C)*1e3))}throw new Error(`Failed to upload chunk ${x.index+1} after ${a+1} attempts: ${w==null?void 0:w.message}`)});await Promise.all(m),g+h<t.length&&await this.delay(500)}}async uploadSingleChunk(n,t,r){const i=Au(this.storage,t),a=async()=>{const l=await Vf(i,n);return{url:await Td(l.ref),path:l.ref.fullPath}},s=new Promise((l,c)=>{setTimeout(()=>c(new Error(`Chunk upload timeout after ${r}ms`)),r)});return Promise.race([a(),s])}async assembleChunks(n,t,r,i){const a=await this.reconstructFileFromChunks(n,t),s=Au(this.storage,r),l=await Vf(s,a),c=await Td(l.ref);return await this.cleanupChunks(t),{url:c,path:l.ref.fullPath,name:n.name,type:n.type,size:n.size,uploadedAt:new Date}}async reconstructFileFromChunks(n,t){const r=[];for(const i of t.sort((a,s)=>a.index-s.index))r.push(n.slice(i.start,i.end));return new Blob(r,{type:n.type})}async uploadStandardFile(n,t,r){const i=Date.now(),a=Au(this.storage,t);r==null||r({stage:"uploading",percentage:10,bytesUploaded:0,totalBytes:n.size,currentOperation:"Uploading file..."});const s=await Vf(a,n);r==null||r({stage:"uploading",percentage:90,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Getting download URL..."});const l=await Td(s.ref);r==null||r({stage:"completed",percentage:100,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Upload completed!"});const c=Date.now()-i;return{url:l,path:s.ref.fullPath,name:n.name,type:n.type,size:n.size,uploadedAt:new Date,chunks:1,uploadTime:c}}calculateOverallProgress(n,t){const r=n.filter(a=>a.uploadUrl).length,i=t.currentChunk?t.bytesUploaded/n.reduce((a,s)=>a+s.size,0):0;return(r+i)/n.length}estimateTimeRemaining(n,t){if(t<=0)return 0;const r=Date.now()-n,i=r/t;return Math.max(0,i-r)}async cleanupChunks(n){const t=n.filter(r=>r.uploadPath).map(async r=>{try{const i=Au(this.storage,r.uploadPath);await bT(i)}catch(i){console.warn(`Failed to cleanup chunk ${r.index}:`,i)}});await Promise.allSettled(t)}async cleanupFailedUpload(n){console.log(" Cleaning up failed chunked upload..."),await this.cleanupChunks(n)}delay(n){return new Promise(t=>setTimeout(t,n))}validateFileForChunkedUpload(n){return n.size>524288e3?{isValid:!1,error:`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`}:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(n.type)?{isValid:!0}:{isValid:!1,error:`Unsupported file type: ${n.type}. Supported formats: PowerPoint, PDF, Word, Text files`}}}const V_=new GP;class QP{constructor(){Xe(this,"storage",sh())}async uploadOriginalFile(n,t,r,i){return n.size>26214400?(console.log(` File is large (${(n.size/1024/1024).toFixed(1)}MB), using chunked upload`),this.uploadOriginalFileEnhanced(n,t,r,i?s=>i(s.percentage):void 0)):this.uploadOriginalFileStandard(n,t,r,i)}async uploadOriginalFileEnhanced(n,t,r,i){const a=V_.validateFileForChunkedUpload(n);if(!a.isValid)throw new Error(a.error);const s=n.name.split(".").pop()||"",l=r||Mi(),c=`${n.name.replace(/\.[^/.]+$/,"")}_${l}.${s}`,d=`original-files/${t}/${c}`;console.log(" Starting enhanced original file upload:",{fileName:c,fileSize:n.size,fileType:n.type,courseId:t,chunked:!0});try{const h=await V_.uploadLargeFile(n,d,{chunkSize:5242880,maxRetries:3,timeoutMs:6e4,onProgress:i,onChunkComplete:(b,m)=>{console.log(` Chunk ${b+1}/${m} completed`)}}),g={name:n.name,type:n.type,size:n.size,url:h.url,uploadedAt:new Date};return console.log(" Enhanced original file uploaded successfully:",{originalName:n.name,storageName:c,url:h.url,size:n.size,chunks:h.chunks,uploadTime:`${(h.uploadTime/1e3).toFixed(1)}s`}),g}catch(h){throw console.error(" Enhanced original file upload failed:",h),new Error(`Failed to upload original file: ${h instanceof Error?h.message:"Unknown error"}`)}}async uploadOriginalFileStandard(n,t,r,i){try{const a=n.name.split(".").pop()||"",s=r||Mi(),l=`${n.name.replace(/\.[^/.]+$/,"")}_${s}.${a}`,c=Au(this.storage,`original-files/${t}/${l}`);console.log(" Starting original file upload:",{fileName:l,fileSize:n.size,fileType:n.type,courseId:t}),i==null||i(10);const d=await Vf(c,n);i==null||i(70);const h=await Td(d.ref);i==null||i(100);const g={name:n.name,type:n.type,size:n.size,url:h,uploadedAt:new Date};return console.log(" Original file uploaded successfully:",{originalName:n.name,storageName:l,url:h,size:n.size}),g}catch(a){throw console.error(" Original file upload failed:",a),new Error(`Failed to upload original file: ${a instanceof Error?a.message:"Unknown error"}`)}}async deleteOriginalFile(n){try{const r=new URL(n).pathname.match(/\/o\/(.+?)\?/);if(!r)throw new Error("Invalid Firebase Storage URL format");const i=decodeURIComponent(r[1]),a=Au(this.storage,i);await bT(a),console.log(" Original file deleted successfully:",i)}catch(t){console.error(" Original file deletion failed:",t),console.warn("Continuing despite file deletion failure")}}async replaceOriginalFile(n,t,r,i,a){try{return i&&await this.deleteOriginalFile(i),await this.uploadOriginalFile(n,t,r,a)}catch(s){throw console.error(" Original file replacement failed:",s),new Error(`Failed to replace original file: ${s instanceof Error?s.message:"Unknown error"}`)}}getFileExtension(n){var t;return((t=n.split(".").pop())==null?void 0:t.toLowerCase())||""}validateFile(n){return n.size>524288e3?{isValid:!1,error:`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`}:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(n.type)?{isValid:!0}:{isValid:!1,error:`Unsupported file type: ${n.type}. Supported formats: PowerPoint, PDF, Word, Text files`}}}const O5=new QP,Y_={isProcessing:!1,progress:null,error:null,uploadedFile:null,extractedText:null,extractionResult:null,originalFileUploadProgress:null,originalFileUrl:null,aiExtractedData:null,convertedMaterial:null,processingOptions:{maxOutputTokens:4096,topK:1,topP:.1,preserveFormatting:!0,extractImages:!0,extractLinks:!0}},Od=gp()(cm((e,n)=>({...Y_,setUploadedFile:t=>{const{originalFileUrl:r}=n();r&&t&&t.name!==r&&O5.deleteOriginalFile(r).catch(i=>{console.warn("Failed to delete previous original file:",i)}),e({uploadedFile:t,extractedText:null,extractionResult:null,originalFileUploadProgress:null,originalFileUrl:null,aiExtractedData:null,convertedMaterial:null,error:null})},extractTextFromFile:async()=>{const{uploadedFile:t}=n();if(!t){e({error:"No file uploaded"});return}try{const r=GT(t);if(!r.isValid){e({error:r.error||"Invalid file"});return}}catch(r){console.error("File validation error:",r),e({error:"Failed to validate file"});return}e({isProcessing:!0,error:null,progress:{stage:"extracting",percentage:10,currentOperation:`Extracting text from ${QT(t)}...`}});try{const r=await YT(t);if(!r||!r.text||r.text.trim().length===0)throw new Error("No text content could be extracted from the file");const i=r.text.trim().split(/\s+/).length;i<5&&console.warn("Very short text extracted:",{wordCount:i,text:r.text.substring(0,100)}),e({extractedText:r.text,extractionResult:r,progress:{stage:"extracting",percentage:100,currentOperation:"Text extraction complete!"}}),setTimeout(()=>{e({isProcessing:!1,progress:null})},500)}catch(r){console.error("Text extraction error:",r);const i=r;let a="Failed to extract text from file";i.code==="PDF_EXTRACTION_ERROR"?a="Could not extract text from PDF. The file may be image-based or corrupted.":i.code==="DOCX_EXTRACTION_ERROR"?a="Could not extract text from Word document. Please check the file is not corrupted.":i.code==="PPTX_EXTRACTION_ERROR"?a="Could not extract text from PowerPoint presentation. Please ensure it contains text content.":i.message&&(a=i.message),e({error:a,isProcessing:!1,progress:null})}},processWithAI:async(t,r,i)=>{var h;const{uploadedFile:a,extractedText:s,extractionResult:l,processingOptions:c}=n();if(!(t!=null&&t.trim())){e({error:"Course ID is required for AI processing"});return}if(!(r!=null&&r.trim())){e({error:"Author ID is required for AI processing"});return}if(!a||!(s!=null&&s.trim())){e({error:"No file or extracted text available for AI processing"});return}const d=s.trim().split(/\s+/).length;if(d<10){e({error:"Extracted text is too short for meaningful AI processing (minimum 10 words required)"});return}d>5e4&&console.warn("Very large text content detected:",{wordCount:d,fileName:a.name}),e({isProcessing:!0,error:null,progress:{stage:"analyzing",percentage:0,currentOperation:"Initializing AI processing..."}});try{let g;try{g=eS(i)}catch(w){console.error("Service initialization error:",w);let C="Material import service not available.";w instanceof Error&&(w.message.includes("API key")?C="API key not configured. Please set VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.":C=`Service error: ${w.message}`),e({error:C,isProcessing:!1,progress:null});return}const b={maxOutputTokens:Math.min(Math.max(c.maxOutputTokens||16384,8192),32768),topK:Math.min(Math.max(c.topK||3,1),10),topP:Math.min(Math.max(c.topP||.9,.1),1),preserveFormatting:!!c.preserveFormatting,extractImages:!!c.extractImages,extractLinks:!!c.extractLinks},m=12e4,x=new Promise((w,C)=>{setTimeout(()=>C(new Error("AI processing timeout - please try with a smaller file")),m)}),y=await Promise.race([g.processMaterialContent(s,a.name,a.type,b,w=>{w&&typeof w=="object"&&e({progress:w})},l==null?void 0:l.metadata),x]);if(!y||typeof y!="object")throw new Error("Invalid AI processing result received");(h=y.title)!=null&&h.trim()||(console.warn("AI result missing title, using filename as fallback"),y.title=a.name.replace(/\.[^/.]+$/,"")||"Untitled Material"),(!y.sections||!Array.isArray(y.sections)||y.sections.length===0)&&(console.warn("AI result missing sections, creating default section"),y.sections=[{title:"Main Content",content:"Content extracted from uploaded material.",subsections:[],images:[],links:[]}]);const A=g.convertToMaterialFormat(y,t,r,l==null?void 0:l.metadata);e({aiExtractedData:y,convertedMaterial:A,isProcessing:!1,progress:{stage:"complete",percentage:100,currentOperation:"Material processing complete!"}}),setTimeout(()=>{e({progress:null})},1500)}catch(g){console.error("AI processing error:",g);let b="Failed to process material with AI";g instanceof Error&&(g.message.includes("timeout")?b="AI processing timed out. Please try with a smaller file or simpler content.":g.message.includes("API key")||g.message.includes("API_KEY_INVALID")?b="Invalid API key. Please check your API key configuration.":g.message.includes("RATE_LIMIT")||g.message.includes("rate limit")?b="API rate limit exceeded. Please wait a few minutes before trying again.":g.message.includes("SAFETY")||g.message.includes("safety")?b="Content flagged by safety filters. Please try with different content.":g.message.includes("network")||g.message.includes("fetch")?b="Network error. Please check your internet connection and try again.":b=`AI processing failed: ${g.message}`),e({error:b,isProcessing:!1,progress:null})}},uploadOriginalFile:async(t,r)=>{const{uploadedFile:i}=n();if(!i){e({error:"No file selected for upload"});return}try{e({originalFileUploadProgress:0,error:null});const a=i.size>25*1024*1024,s=(i.size/1024/1024).toFixed(1);console.log(` Starting original file upload to Firebase Storage... (${s}MB, ${a?"chunked":"standard"} upload)`);const l=await O5.uploadOriginalFile(i,t,r,c=>{e({originalFileUploadProgress:c})});e({originalFileUrl:l.url,originalFileUploadProgress:null}),console.log(" Original file uploaded successfully:",{url:l.url,size:`${s}MB`,method:a?"chunked":"standard"})}catch(a){throw console.error(" Original file upload failed:",a),e({error:a instanceof Error?a.message:"Failed to upload original file",originalFileUploadProgress:null}),a}},replaceOriginalFile:async(t,r,i)=>{const{uploadedFile:a}=n();if(!a){e({error:"No file selected for replacement"});return}try{e({originalFileUploadProgress:0,error:null}),console.log(" Replacing original file in Firebase Storage...");const s=await O5.replaceOriginalFile(a,t,r,i,l=>{e({originalFileUploadProgress:l})});e({originalFileUrl:s.url,originalFileUploadProgress:null}),console.log(" Original file replaced successfully:",s.url)}catch(s){throw console.error(" Original file replacement failed:",s),e({error:s instanceof Error?s.message:"Failed to replace original file",originalFileUploadProgress:null}),s}},resetImport:()=>{try{eS().cleanupBlobUrls()}catch(t){console.warn("Failed to cleanup blob URLs during reset:",t)}e(Y_)},setProcessingOptions:t=>{e(r=>({processingOptions:{...r.processingOptions,...t}}))},setError:t=>{e({error:t})}}),{name:"material-import-store",partialize:e=>({processingOptions:e.processingOptions})})),KP=()=>{const e=Od();return{setUploadedFile:e.setUploadedFile,extractTextFromFile:e.extractTextFromFile,processWithAI:e.processWithAI,resetImport:e.resetImport,setProcessingOptions:e.setProcessingOptions,setError:e.setError}},XP=()=>{const e=Od();return{isProcessing:e.isProcessing,progress:e.progress,error:e.error,uploadedFile:e.uploadedFile,extractedText:e.extractedText,aiExtractedData:e.aiExtractedData,convertedMaterial:e.convertedMaterial,processingOptions:e.processingOptions}},tS=async(e,n,t,r)=>{const i=Od.getState(),{aiExtractedData:a,extractionResult:s}=i;if(!a)throw new Error("No AI result available for conversion");return await eS().convertToMaterialFormatWithImageUpload(a,e,n,t,s==null?void 0:s.metadata,r)},ZP=()=>{const{extractedText:e,isProcessing:n}=Od();return!n&&!!(e!=null&&e.trim())},JP=()=>{const{convertedMaterial:e,isProcessing:n}=Od();return!n&&!!e},Dhe=Object.freeze(Object.defineProperty({__proto__:null,convertMaterialWithImageUpload:tS,useIsImportComplete:JP,useIsReadyForAI:ZP,useMaterialImportActions:KP,useMaterialImportStatus:XP,useMaterialImportStore:Od},Symbol.toStringTag,{value:"Module"})),Zt={primary:{50:"#F0F4FF",100:"#E0ECFF",200:"#CDDAFF",300:"#9BB5FF",500:"#0B53C0",600:"#0841A0",700:"#062F80"},secondary:{300:"#86EFAC",500:"#22C55E",700:"#15803D"},neutral:{50:"#FAFAFA",100:"#F5F5F5",200:"#E5E5E5",300:"#D4D4D4",400:"#A3A3A3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717"},success:"#22C55E",warning:"#F59E0B",error:"#EF4444",info:"#3B82F6",background:{primary:"#FFFFFF",secondary:"#F8FAFC"},surface:{primary:"#FFFFFF"},text:{primary:"#0F172A",secondary:"#475569",disabled:"#94A3B8",inverse:"#FFFFFF"}},In={fontFamily:{primary:["Inter","system-ui","sans-serif"].join(","),secondary:["Gabarito","system-ui","sans-serif"].join(","),display:["Staatliches","system-ui","sans-serif"].join(",")},fontSize:{sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem"},fontWeight:{normal:400,medium:500,semibold:600,bold:700},lineHeight:{tight:1.25,snug:1.375,normal:1.5}},I5={2:"0.5rem",3:"0.75rem",6:"1.5rem"},ur={lg:"0.5rem",xl:"0.75rem","2xl":"1rem",full:"9999px"},Ur={sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",base:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","2xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)"},D5={transitions:{fast:"all 150ms cubic-bezier(0.4, 0, 0.2, 1)"}},eF={width:"320px",minWidth:"320px",maxWidth:"320px",backgroundColor:Zt.background.secondary,borderRight:`1px solid ${Zt.neutral[200]}`},KT=()=>({palette:{primary:{main:Zt.primary[500],light:Zt.primary[300],dark:Zt.primary[700],contrastText:Zt.text.inverse},secondary:{main:Zt.secondary[500],light:Zt.secondary[300],dark:Zt.secondary[700],contrastText:Zt.text.inverse},error:{main:Zt.error,light:"#FEE2E2",dark:"#DC2626"},warning:{main:Zt.warning,light:"#FEF3C7",dark:"#D97706"},info:{main:Zt.info,light:"#DBEAFE",dark:"#2563EB"},success:{main:Zt.success,light:"#D1FAE5",dark:"#059669"},background:{default:Zt.background.primary,paper:Zt.surface.primary},text:{primary:Zt.text.primary,secondary:Zt.text.secondary,disabled:Zt.text.disabled},grey:{50:Zt.neutral[50],100:Zt.neutral[100],200:Zt.neutral[200],300:Zt.neutral[300],400:Zt.neutral[400],500:Zt.neutral[500],600:Zt.neutral[600],700:Zt.neutral[700],800:Zt.neutral[800],900:Zt.neutral[900]}},typography:{fontFamily:In.fontFamily.primary,h1:{fontFamily:In.fontFamily.display,fontSize:In.fontSize["5xl"],fontWeight:In.fontWeight.bold,lineHeight:In.lineHeight.tight,color:Zt.text.primary},h2:{fontFamily:In.fontFamily.display,fontSize:In.fontSize["4xl"],fontWeight:In.fontWeight.bold,lineHeight:In.lineHeight.tight,color:Zt.text.primary},h3:{fontFamily:In.fontFamily.display,fontSize:In.fontSize["3xl"],fontWeight:In.fontWeight.bold,lineHeight:In.lineHeight.snug,color:Zt.text.primary},h4:{fontFamily:In.fontFamily.display,fontSize:In.fontSize["2xl"],fontWeight:In.fontWeight.semibold,lineHeight:In.lineHeight.snug,color:Zt.text.primary},h5:{fontFamily:In.fontFamily.secondary,fontSize:In.fontSize.xl,fontWeight:In.fontWeight.semibold,lineHeight:In.lineHeight.normal,color:Zt.text.primary},h6:{fontFamily:In.fontFamily.secondary,fontSize:In.fontSize.lg,fontWeight:In.fontWeight.semibold,lineHeight:In.lineHeight.normal,color:Zt.text.primary},body1:{fontFamily:In.fontFamily.primary,fontSize:In.fontSize.base,fontWeight:In.fontWeight.normal,lineHeight:In.lineHeight.normal,color:Zt.text.primary},body2:{fontFamily:In.fontFamily.primary,fontSize:In.fontSize.sm,fontWeight:In.fontWeight.normal,lineHeight:In.lineHeight.normal,color:Zt.text.secondary},button:{fontFamily:In.fontFamily.secondary,fontSize:In.fontSize.base,fontWeight:In.fontWeight.semibold,textTransform:"none"}},shape:{borderRadius:12},shadows:["none",Ur.sm,Ur.base,Ur.md,Ur.lg,Ur.xl,Ur["2xl"],Ur["2xl"],Ur["2xl"],Ur["2xl"],Ur["2xl"],Ur["2xl"],Ur["2xl"],Ur["2xl"],Ur["2xl"],Ur["2xl"],Ur["2xl"],Ur["2xl"],Ur["2xl"],Ur["2xl"],Ur["2xl"],Ur["2xl"],Ur["2xl"],Ur["2xl"],Ur["2xl"]],components:{MuiButton:{styleOverrides:{root:{borderRadius:ur.xl,padding:`${I5[3]} ${I5[6]}`,fontWeight:In.fontWeight.semibold,textTransform:"none",transition:D5.transitions.fast,boxShadow:"none","&:hover":{boxShadow:Ur.md,transform:"none !important"}},contained:{backgroundColor:Zt.primary[500],"&:hover":{backgroundColor:Zt.primary[600]}},outlined:{borderColor:Zt.primary[500],color:Zt.primary[500],"&:hover":{backgroundColor:Zt.primary[50],borderColor:Zt.primary[600]}}}},MuiCard:{styleOverrides:{root:{borderRadius:ur.lg,boxShadow:Ur.md,border:`1px solid ${Zt.neutral[200]}`,transition:D5.transitions.fast,"&:hover":{boxShadow:Ur.lg,transform:"translateY(-2px)"}}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:ur.lg,"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:Zt.primary[300]},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:Zt.primary[500],borderWidth:2}}}}},MuiChip:{styleOverrides:{root:{borderRadius:ur.full,fontWeight:In.fontWeight.medium}}},MuiTabs:{styleOverrides:{root:{backgroundColor:Zt.background.secondary,borderRadius:ur.lg,padding:I5[2],"& .MuiTabs-indicator":{display:"none"}}}},MuiTab:{styleOverrides:{root:{borderRadius:ur.lg,fontWeight:In.fontWeight.semibold,textTransform:"none",transition:D5.transitions.fast,"&.Mui-selected":{backgroundColor:Zt.primary[500],color:Zt.text.inverse,boxShadow:Ur.sm},"&:not(.Mui-selected)":{backgroundColor:Zt.primary[100],color:Zt.primary[700],"&:hover":{backgroundColor:Zt.primary[200],transform:"none"}}}}}}}),tF=KT(),ft=nT(tF),L5=({onDelete:e,itemType:n})=>{const[t,r]=tt.useState(!1),i=()=>{r(!0)},a=()=>{r(!1)},s=()=>{e(),a()};return f.jsxs(f.Fragment,{children:[f.jsx(un,{onClick:i,size:"small",children:f.jsx(fv,{})}),f.jsxs(Si,{open:t,onClose:a,children:[f.jsx(zi,{children:`Delete ${n}`}),f.jsx(Ai,{children:f.jsx(ko,{children:`Are you sure you want to delete this ${n}? This action cannot be undone.`})}),f.jsxs(qi,{children:[f.jsx(lt,{onClick:a,color:"primary",children:"Cancel"}),f.jsx(lt,{onClick:s,color:"secondary",children:"Delete"})]})]})]})},XT=({sections:e,selected:n,onAddSection:t,onAddSubsection:r,onAddSubSubsection:i,onSelectSection:a,onUpdateSectionTitle:s,onUpdateSubsectionTitle:l,onUpdateSubSubsectionTitle:c,onDeleteSection:d,onDeleteSubsection:h,onDeleteSubSubsection:g,isViewMode:b=!1})=>{const[m,x]=K.useState(null),[y,A]=K.useState(null),[w,C]=K.useState(null),[N,P]=K.useState(""),[F,R]=K.useState(e.map(()=>!0)),[k,M]=K.useState(e.reduce((Y,te,U)=>(Y[U]=te.subsections.map(()=>!0),Y),{}));K.useEffect(()=>{R(e.map(()=>!0))},[e]),K.useEffect(()=>{const Y=e.reduce((te,U,B)=>(te[B]=U.subsections.map(()=>!0),te),{});M(Y)},[e]);const q=Y=>{const te=[...F];te[Y]=!te[Y],R(te)},Q=(Y,te)=>{const U={...k};U[Y][te]=!U[Y][te],M(U)},T=(Y,te)=>{m!==null?s(m,N):y?l(y.section,y.subsection,N):w&&c(w.section,w.subsection,w.subSubsection,N),x(Y),A(null),C(null),P(te)},O=Y=>{s(Y,N),x(null),P("")},L=(Y,te,U)=>{m!==null?s(m,N):y?l(y.section,y.subsection,N):w&&c(w.section,w.subsection,w.subSubsection,N),x(null),A({section:Y,subsection:te}),C(null),P(U)},j=(Y,te)=>{l(Y,te,N),A(null),P("")},X=(Y,te,U,B)=>{m!==null?s(m,N):y?l(y.section,y.subsection,N):w&&c(w.section,w.subsection,w.subSubsection,N),x(null),A(null),C({section:Y,subsection:te,subSubsection:U}),P(B)},H=(Y,te,U)=>{c(Y,te,U,N),C(null),P("")},G=(Y,te,U,B)=>n.sectionIndex===Y&&n.subsectionIndex===te&&n.subSubsectionIndex===U&&n.type===B,le=eF||{width:"320px",minWidth:"320px",maxWidth:"320px",backgroundColor:"#F8FAFC",borderRight:"1px solid #E2E8F0"};return f.jsxs(be,{sx:{width:le.width,minWidth:le.minWidth,maxWidth:le.maxWidth,backgroundColor:le.backgroundColor,borderRight:le.borderRight,height:"100%",display:"flex",flexDirection:"column"},children:[f.jsxs(be,{sx:{p:3,pb:2},children:[f.jsxs(ce,{variant:"h6",sx:{fontFamily:ft.typography.h6.fontFamily,fontWeight:ft.typography.h6.fontWeight,color:ft.palette.text.primary,mb:2,display:"flex",alignItems:"center",gap:1},children:[f.jsx(sR,{sx:{fontSize:20}}),"Outline"]}),!b&&f.jsx(lt,{variant:"contained",startIcon:f.jsx(wu,{}),onClick:t,sx:{width:"100%",borderRadius:ur.xl,textTransform:"none",fontWeight:600},children:"Add Section"})]}),f.jsx(Za,{}),f.jsx(be,{sx:{flex:1,overflow:"auto"},children:f.jsxs(Zy,{sx:{p:0},children:[f.jsx(v0,{onClick:()=>a("header"),sx:{cursor:"pointer",backgroundColor:G(void 0,void 0,void 0,"header")?ft.palette.primary.light:"transparent",borderLeft:G(void 0,void 0,void 0,"header")?`4px solid ${ft.palette.primary.main}`:"4px solid transparent",transition:ft.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ft.palette.action.hover}},children:f.jsx(Hh,{primary:"Header",sx:{"& .MuiListItemText-primary":{fontFamily:ft.typography.body1.fontFamily,fontWeight:G(void 0,void 0,void 0,"header")?600:400,color:G(void 0,void 0,void 0,"header")?ft.palette.primary.main:ft.palette.text.primary}}})}),e.map((Y,te)=>f.jsxs(be,{children:[f.jsx(v0,{onClick:()=>a(te),sx:{cursor:"pointer",backgroundColor:G(te)?ft.palette.primary.light:"transparent",borderLeft:G(te)?`4px solid ${ft.palette.primary.main}`:"4px solid transparent",transition:ft.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ft.palette.action.hover}},children:m===te?f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[f.jsx(zt,{value:N,onChange:U=>P(U.target.value),size:"small",variant:"outlined",disabled:b,sx:{flex:1}}),!b&&f.jsx(un,{onClick:()=>O(te),size:"small",color:"primary",children:f.jsx(O0,{})})]}):f.jsxs(f.Fragment,{children:[f.jsx(Hh,{primary:Y.title,sx:{"& .MuiListItemText-primary":{fontFamily:ft.typography.body1.fontFamily,fontWeight:G(te)?600:400,color:G(te)?ft.palette.primary.main:ft.palette.text.primary}}}),!b&&f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:.5},children:[f.jsx(Pi,{title:"Edit Section",arrow:!0,children:f.jsx(un,{onClick:U=>{U.stopPropagation(),T(te,Y.title)},size:"small",sx:{color:ft.palette.primary.main},children:f.jsx(Cu,{fontSize:"small"})})}),f.jsx(L5,{onDelete:()=>d(te),itemType:"section"})]}),Y.subsections.length>0&&f.jsx(un,{onClick:U=>{U.stopPropagation(),q(te)},size:"small",sx:{ml:1},children:F[te]?f.jsx(Y0,{fontSize:"small"}):f.jsx(bo,{fontSize:"small"})}),!b&&f.jsx(Pi,{title:"Add Subsection",arrow:!0,children:f.jsx(un,{onClick:U=>{U.stopPropagation(),r(te)},size:"small",sx:{color:ft.palette.success.main},children:f.jsx(wu,{fontSize:"small"})})})]})}),f.jsx(G0,{in:F[te],timeout:"auto",unmountOnExit:!0,children:f.jsx(Zy,{sx:{pl:2},children:Y.subsections.map((U,B)=>f.jsxs(be,{children:[f.jsx(v0,{onClick:()=>a(te,B),sx:{cursor:"pointer",backgroundColor:G(te,B)?ft.palette.primary.light:"transparent",borderLeft:G(te,B)?`4px solid ${ft.palette.primary.main}`:"4px solid transparent",transition:ft.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ft.palette.action.hover}},children:y&&y.section===te&&y.subsection===B?f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[f.jsx(zt,{value:N,onChange:re=>P(re.target.value),size:"small",variant:"outlined",disabled:b,sx:{flex:1}}),!b&&f.jsx(un,{onClick:()=>j(te,B),size:"small",color:"primary",children:f.jsx(O0,{})})]}):f.jsxs(f.Fragment,{children:[f.jsx(Hh,{primary:U.title,sx:{"& .MuiListItemText-primary":{fontFamily:ft.typography.body2.fontFamily,fontWeight:G(te,B)?600:400,color:G(te,B)?ft.palette.primary.main:ft.palette.text.primary}}}),!b&&f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:.5},children:[f.jsx(Pi,{title:"Edit Subsection",arrow:!0,children:f.jsx(un,{onClick:re=>{re.stopPropagation(),L(te,B,U.title)},size:"small",sx:{color:ft.palette.primary.main},children:f.jsx(Cu,{fontSize:"small"})})}),f.jsx(L5,{onDelete:()=>h(te,B),itemType:"subsection"})]}),U.subSubsections.length>0&&f.jsx(un,{onClick:re=>{re.stopPropagation(),Q(te,B)},size:"small",sx:{ml:1},children:k[te][B]?f.jsx(Y0,{fontSize:"small"}):f.jsx(bo,{fontSize:"small"})}),!b&&f.jsx(Pi,{title:"Add Sub-subsection",arrow:!0,children:f.jsx(un,{onClick:re=>{re.stopPropagation(),i(te,B)},size:"small",sx:{color:ft.palette.success.main},children:f.jsx(wu,{fontSize:"small"})})})]})}),f.jsx(G0,{in:k[te][B],timeout:"auto",unmountOnExit:!0,children:f.jsx(Zy,{sx:{pl:2},children:U.subSubsections.map((re,Z)=>f.jsx(v0,{onClick:()=>a(te,B,Z),sx:{cursor:"pointer",backgroundColor:G(te,B,Z)?ft.palette.primary.light:"transparent",borderLeft:G(te,B,Z)?`4px solid ${ft.palette.primary.main}`:"4px solid transparent",transition:ft.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ft.palette.action.hover}},children:w&&w.section===te&&w.subsection===B&&w.subSubsection===Z?f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[f.jsx(zt,{value:N,onChange:ne=>P(ne.target.value),size:"small",variant:"outlined",disabled:b,sx:{flex:1}}),!b&&f.jsx(un,{onClick:()=>H(te,B,Z),size:"small",color:"primary",children:f.jsx(O0,{})})]}):f.jsxs(f.Fragment,{children:[f.jsx(Hh,{primary:re.title,sx:{"& .MuiListItemText-primary":{fontFamily:ft.typography.body2.fontFamily,fontWeight:G(te,B,Z)?600:400,color:G(te,B,Z)?ft.palette.primary.main:ft.palette.text.secondary,fontSize:"0.875rem"}}}),!b&&f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:.5},children:[f.jsx(Pi,{title:"Edit Sub-subsection",arrow:!0,children:f.jsx(un,{onClick:ne=>{ne.stopPropagation(),X(te,B,Z,re.title)},size:"small",sx:{color:ft.palette.primary.main},children:f.jsx(Cu,{fontSize:"small"})})}),f.jsx(L5,{onDelete:()=>g(te,B,Z),itemType:"subSubsection"})]})]})},re.id))})})]},U.id))})})]},Y.id)),f.jsx(v0,{onClick:()=>a("footer"),sx:{cursor:"pointer",backgroundColor:G(void 0,void 0,void 0,"footer")?ft.palette.primary.light:"transparent",borderLeft:G(void 0,void 0,void 0,"footer")?`4px solid ${ft.palette.primary.main}`:"4px solid transparent",transition:ft.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ft.palette.action.hover}},children:f.jsx(Hh,{primary:"Footer",sx:{"& .MuiListItemText-primary":{fontFamily:ft.typography.body1.fontFamily,fontWeight:G(void 0,void 0,void 0,"footer")?600:400,color:G(void 0,void 0,void 0,"footer")?ft.palette.primary.main:ft.palette.text.primary}}})})]})})]})},ZT=({returnToSelection:e=!1,courseId:n})=>{const t=pi(),[r]=Yg(),i=r.get("course"),a=()=>{const s=n||i;t(e||!s?"/supplemental-materials":`/supplemental-materials?course=${s}`)};return f.jsx(lt,{variant:"text",color:"primary",startIcon:f.jsx(RT,{}),onClick:a,className:"supplemental-back-button",children:e?"Course Selection":"Course Materials"})},nF=({sectionId:e,images:n,onImagesChange:t})=>{const[r,i]=K.useState(!1),[a,s]=K.useState(""),[l,c]=K.useState("success"),[d,h]=K.useState(null),[g,b]=K.useState(""),m=sh(),x=async P=>{if(P.target.files){const F=Array.from(P.target.files),R=[];for(const k of F)try{const M=await C(k),q=await N(M);R.push({url:q.url,title:`Image ${n.length+R.length+1}`,id:Mi()})}catch{s("Failed to upload images"),c("error"),i(!0)}t([...n,...R]),s("Image(s) uploaded successfully"),c("success"),i(!0)}},y=P=>{h(P),b(P.title)},A=()=>{if(d){const P=n.map(F=>F.url===d.url?{...F,title:g}:F);t(P),h(null),b("")}},w=P=>{const F=n.filter(R=>R.url!==P.url);t(F)},C=P=>new Promise((F,R)=>{P.size>5*1024*1024?VT.imageFileResizer(P,500,500,"JPEG",70,0,k=>{typeof k=="string"?R(new Error("Compression returned a string instead of a file")):F(k)},"file"):F(P)}),N=P=>new Promise((F,R)=>{const k=Au(m,`materials/${e}/${P.name}`);Vf(k,P).then(M=>{Td(M.ref).then(q=>{F({url:q,path:M.ref.fullPath})})}).catch(M=>R(M))});return f.jsxs(be,{children:[f.jsxs(be,{sx:{display:"flex",alignItems:"center",mb:2},children:[f.jsx(oR,{sx:{mr:1,color:ft.palette.primary.main}}),f.jsx(ce,{variant:"h6",sx:{fontWeight:600,color:ft.palette.text.primary},children:"Images"}),f.jsx(_n,{label:`${n.length} image${n.length!==1?"s":""}`,size:"small",sx:{ml:2}})]}),f.jsxs(lt,{variant:"contained",component:"label",startIcon:f.jsx(wu,{}),sx:{mb:3,textTransform:"none",borderRadius:ur.xl},children:["Add Images",f.jsx("input",{type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:x})]}),n.length>0&&f.jsx(mt,{container:!0,spacing:2,children:n.map((P,F)=>f.jsx(mt,{item:!0,xs:12,sm:6,md:4,children:f.jsxs(fs,{sx:{borderRadius:ur.xl,border:`1px solid ${ft.palette.divider}`,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{boxShadow:ft.shadows[4],transform:"translateY(-2px)"}},children:[f.jsxs(be,{sx:{position:"relative"},children:[f.jsx("img",{src:P.url,alt:P.title,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:`${ur.xl} ${ur.xl} 0 0`}}),f.jsxs(be,{sx:{position:"absolute",top:8,right:8,display:"flex",gap:.5},children:[f.jsx(un,{size:"small",onClick:()=>y(P),sx:{backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:ft.palette.primary.main,color:"white"}},children:f.jsx(Cu,{fontSize:"small"})}),f.jsx(un,{size:"small",onClick:()=>w(P),sx:{backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:ft.palette.error.main,color:"white"}},children:f.jsx(kd,{fontSize:"small"})})]})]}),f.jsx(Js,{sx:{p:2},children:f.jsx(ce,{variant:"body2",sx:{fontWeight:500,color:ft.palette.text.primary,wordBreak:"break-word"},children:P.title})})]})},P.id||F))}),f.jsxs(Si,{open:!!d,onClose:()=>h(null),maxWidth:"sm",fullWidth:!0,children:[f.jsx(zi,{sx:{pb:1},children:f.jsxs(be,{sx:{display:"flex",alignItems:"center"},children:[f.jsx(Cu,{sx:{mr:1,color:ft.palette.primary.main}}),"Edit Image Title"]})}),f.jsx(Ai,{children:f.jsx(zt,{fullWidth:!0,label:"Image Title",value:g,onChange:P=>b(P.target.value),variant:"outlined",sx:{mt:2}})}),f.jsxs(qi,{sx:{p:3,pt:1},children:[f.jsx(lt,{onClick:()=>h(null),startIcon:f.jsx(E6,{}),sx:{textTransform:"none"},children:"Cancel"}),f.jsx(lt,{onClick:A,variant:"contained",startIcon:f.jsx(O0,{}),sx:{textTransform:"none"},children:"Save Changes"})]})]}),f.jsx(no,{open:r,autoHideDuration:6e3,onClose:()=>i(!1),children:f.jsx(nr,{onClose:()=>i(!1),severity:l,sx:{width:"100%"},children:a})})]})},rF=({links:e,onLinksChange:n})=>{const t=()=>{const s={title:"",url:"",description:""};n([...e,s])},r=s=>{const l=e.filter((c,d)=>d!==s);n(l)},i=(s,l,c)=>{const d=[...e];d[s][l]=c,n(d)},a=s=>{try{return new URL(s),!0}catch{return!1}};return f.jsxs(be,{children:[f.jsxs(be,{sx:{display:"flex",alignItems:"center",mb:2},children:[f.jsx(lR,{sx:{mr:1,color:ft.palette.primary.main}}),f.jsx(ce,{variant:"h6",sx:{fontWeight:600,color:ft.palette.text.primary},children:"Links"}),f.jsx(_n,{label:`${e.length} link${e.length!==1?"s":""}`,size:"small",sx:{ml:2}})]}),f.jsx(lt,{variant:"contained",onClick:t,startIcon:f.jsx(wu,{}),sx:{mb:3,textTransform:"none",borderRadius:ur.xl},children:"Add Link"}),e.length>0&&f.jsx(be,{sx:{display:"flex",flexDirection:"column",gap:2},children:e.map((s,l)=>f.jsxs(fs,{sx:{borderRadius:ur.xl,border:`1px solid ${ft.palette.divider}`,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{boxShadow:ft.shadows[2]}},children:[f.jsx(Js,{sx:{p:3},children:f.jsxs(mt,{container:!0,spacing:2,children:[f.jsx(mt,{item:!0,xs:12,sm:6,children:f.jsx(zt,{fullWidth:!0,label:"Link Title",value:s.title,onChange:c=>i(l,"title",c.target.value),variant:"outlined",size:"small",placeholder:"Enter link title",sx:{"& .MuiOutlinedInput-root":{borderRadius:ur.xl}}})}),f.jsx(mt,{item:!0,xs:12,sm:6,children:f.jsx(zt,{fullWidth:!0,label:"URL",value:s.url,onChange:c=>i(l,"url",c.target.value),variant:"outlined",size:"small",placeholder:"https://example.com",error:s.url&&!a(s.url),helperText:s.url&&!a(s.url)?"Please enter a valid URL":"",sx:{"& .MuiOutlinedInput-root":{borderRadius:ur.xl}}})}),f.jsx(mt,{item:!0,xs:12,children:f.jsx(zt,{fullWidth:!0,label:"Description (Optional)",value:s.description,onChange:c=>i(l,"description",c.target.value),variant:"outlined",size:"small",multiline:!0,rows:2,placeholder:"Enter link description",sx:{"& .MuiOutlinedInput-root":{borderRadius:ur.xl}}})})]})}),f.jsx(Za,{}),f.jsxs(rT,{sx:{p:2,justifyContent:"space-between"},children:[f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.url&&a(s.url)&&f.jsx(Pi,{title:"Open link",arrow:!0,children:f.jsx(un,{size:"small",onClick:()=>window.open(s.url,"_blank"),sx:{color:ft.palette.primary.main,"&:hover":{backgroundColor:ft.palette.primary.light}},children:f.jsx(uR,{fontSize:"small"})})}),f.jsxs(ce,{variant:"caption",color:"text.secondary",children:["Link ",l+1]})]}),f.jsx(Pi,{title:"Delete link",arrow:!0,children:f.jsx(un,{size:"small",onClick:()=>r(l),sx:{color:ft.palette.error.main,"&:hover":{backgroundColor:ft.palette.error.light}},children:f.jsx(kd,{fontSize:"small"})})})]})]},l))})]})};var JT=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,iF=typeof self=="object"&&self&&self.Object===Object&&self,Yc=JT||iF||Function("return this")(),Jf=Yc.Symbol,e7=Object.prototype,aF=e7.hasOwnProperty,sF=e7.toString,g1=Jf?Jf.toStringTag:void 0;function oF(e){var n=aF.call(e,g1),t=e[g1];try{e[g1]=void 0;var r=!0}catch{}var i=sF.call(e);return r&&(n?e[g1]=t:delete e[g1]),i}var lF=Object.prototype,uF=lF.toString;function cF(e){return uF.call(e)}var dF="[object Null]",fF="[object Undefined]",G_=Jf?Jf.toStringTag:void 0;function dm(e){return e==null?e===void 0?fF:dF:G_&&G_ in Object(e)?oF(e):cF(e)}function Pd(e){return e!=null&&typeof e=="object"}var lp=Array.isArray;function lh(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function t7(e){return e}var hF="[object AsyncFunction]",pF="[object Function]",mF="[object GeneratorFunction]",gF="[object Proxy]";function R6(e){if(!lh(e))return!1;var n=dm(e);return n==pF||n==mF||n==hF||n==gF}var R5=Yc["__core-js_shared__"],Q_=function(){var e=/[^.]+$/.exec(R5&&R5.keys&&R5.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function bF(e){return!!Q_&&Q_ in e}var yF=Function.prototype,xF=yF.toString;function bp(e){if(e!=null){try{return xF.call(e)}catch{}try{return e+""}catch{}}return""}var vF=/[\\^$.*+?()[\]{}|]/g,wF=/^\[object .+?Constructor\]$/,SF=Function.prototype,AF=Object.prototype,CF=SF.toString,EF=AF.hasOwnProperty,_F=RegExp("^"+CF.call(EF).replace(vF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kF(e){if(!lh(e)||bF(e))return!1;var n=R6(e)?_F:wF;return n.test(bp(e))}function NF(e,n){return e==null?void 0:e[n]}function yp(e,n){var t=NF(e,n);return kF(t)?t:void 0}var nS=yp(Yc,"WeakMap"),K_=Object.create,jF=function(){function e(){}return function(n){if(!lh(n))return{};if(K_)return K_(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}();function TF(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}function OF(e,n){var t=-1,r=e.length;for(n||(n=Array(r));++t<r;)n[t]=e[t];return n}var IF=800,DF=16,LF=Date.now;function RF(e){var n=0,t=0;return function(){var r=LF(),i=DF-(r-t);if(t=r,i>0){if(++n>=IF)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}function MF(e){return function(){return e}}var Tx=function(){try{var e=yp(Object,"defineProperty");return e({},"",{}),e}catch{}}(),PF=Tx?function(e,n){return Tx(e,"toString",{configurable:!0,enumerable:!1,value:MF(n),writable:!0})}:t7,FF=RF(PF);function zF(e,n){for(var t=-1,r=e==null?0:e.length;++t<r&&n(e[t],t,e)!==!1;);return e}var qF=9007199254740991,BF=/^(?:0|[1-9]\d*)$/;function n7(e,n){var t=typeof e;return n=n??qF,!!n&&(t=="number"||t!="symbol"&&BF.test(e))&&e>-1&&e%1==0&&e<n}function M6(e,n,t){n=="__proto__"&&Tx?Tx(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function Qg(e,n){return e===n||e!==e&&n!==n}var UF=Object.prototype,$F=UF.hasOwnProperty;function r7(e,n,t){var r=e[n];(!($F.call(e,n)&&Qg(r,t))||t===void 0&&!(n in e))&&M6(e,n,t)}function HF(e,n,t,r){var i=!t;t||(t={});for(var a=-1,s=n.length;++a<s;){var l=n[a],c=void 0;c===void 0&&(c=e[l]),i?M6(t,l,c):r7(t,l,c)}return t}var X_=Math.max;function WF(e,n,t){return n=X_(n===void 0?e.length-1:n,0),function(){for(var r=arguments,i=-1,a=X_(r.length-n,0),s=Array(a);++i<a;)s[i]=r[n+i];i=-1;for(var l=Array(n+1);++i<n;)l[i]=r[i];return l[n]=t(s),TF(e,this,l)}}function VF(e,n){return FF(WF(e,n,t7),e+"")}var YF=9007199254740991;function i7(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=YF}function hv(e){return e!=null&&i7(e.length)&&!R6(e)}function GF(e,n,t){if(!lh(t))return!1;var r=typeof n;return(r=="number"?hv(t)&&n7(n,t.length):r=="string"&&n in t)?Qg(t[n],e):!1}function QF(e){return VF(function(n,t){var r=-1,i=t.length,a=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,s&&GF(t[0],t[1],s)&&(a=i<3?void 0:a,i=1),n=Object(n);++r<i;){var l=t[r];l&&e(n,l,r,a)}return n})}var KF=Object.prototype;function P6(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||KF;return e===t}function XF(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t);return r}var ZF="[object Arguments]";function Z_(e){return Pd(e)&&dm(e)==ZF}var a7=Object.prototype,JF=a7.hasOwnProperty,ez=a7.propertyIsEnumerable,rS=Z_(function(){return arguments}())?Z_:function(e){return Pd(e)&&JF.call(e,"callee")&&!ez.call(e,"callee")};function tz(){return!1}var s7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,J_=s7&&typeof module=="object"&&module&&!module.nodeType&&module,nz=J_&&J_.exports===s7,e8=nz?Yc.Buffer:void 0,rz=e8?e8.isBuffer:void 0,xg=rz||tz,iz="[object Arguments]",az="[object Array]",sz="[object Boolean]",oz="[object Date]",lz="[object Error]",uz="[object Function]",cz="[object Map]",dz="[object Number]",fz="[object Object]",hz="[object RegExp]",pz="[object Set]",mz="[object String]",gz="[object WeakMap]",bz="[object ArrayBuffer]",yz="[object DataView]",xz="[object Float32Array]",vz="[object Float64Array]",wz="[object Int8Array]",Sz="[object Int16Array]",Az="[object Int32Array]",Cz="[object Uint8Array]",Ez="[object Uint8ClampedArray]",_z="[object Uint16Array]",kz="[object Uint32Array]",ci={};ci[xz]=ci[vz]=ci[wz]=ci[Sz]=ci[Az]=ci[Cz]=ci[Ez]=ci[_z]=ci[kz]=!0;ci[iz]=ci[az]=ci[bz]=ci[sz]=ci[yz]=ci[oz]=ci[lz]=ci[uz]=ci[cz]=ci[dz]=ci[fz]=ci[hz]=ci[pz]=ci[mz]=ci[gz]=!1;function Nz(e){return Pd(e)&&i7(e.length)&&!!ci[dm(e)]}function F6(e){return function(n){return e(n)}}var o7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ng=o7&&typeof module=="object"&&module&&!module.nodeType&&module,jz=ng&&ng.exports===o7,M5=jz&&JT.process,X0=function(){try{var e=ng&&ng.require&&ng.require("util").types;return e||M5&&M5.binding&&M5.binding("util")}catch{}}(),t8=X0&&X0.isTypedArray,z6=t8?F6(t8):Nz,Tz=Object.prototype,Oz=Tz.hasOwnProperty;function l7(e,n){var t=lp(e),r=!t&&rS(e),i=!t&&!r&&xg(e),a=!t&&!r&&!i&&z6(e),s=t||r||i||a,l=s?XF(e.length,String):[],c=l.length;for(var d in e)(n||Oz.call(e,d))&&!(s&&(d=="length"||i&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||n7(d,c)))&&l.push(d);return l}function u7(e,n){return function(t){return e(n(t))}}var Iz=u7(Object.keys,Object),Dz=Object.prototype,Lz=Dz.hasOwnProperty;function Rz(e){if(!P6(e))return Iz(e);var n=[];for(var t in Object(e))Lz.call(e,t)&&t!="constructor"&&n.push(t);return n}function Mz(e){return hv(e)?l7(e):Rz(e)}function Pz(e){var n=[];if(e!=null)for(var t in Object(e))n.push(t);return n}var Fz=Object.prototype,zz=Fz.hasOwnProperty;function qz(e){if(!lh(e))return Pz(e);var n=P6(e),t=[];for(var r in e)r=="constructor"&&(n||!zz.call(e,r))||t.push(r);return t}function c7(e){return hv(e)?l7(e,!0):qz(e)}var vg=yp(Object,"create");function Bz(){this.__data__=vg?vg(null):{},this.size=0}function Uz(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var $z="__lodash_hash_undefined__",Hz=Object.prototype,Wz=Hz.hasOwnProperty;function Vz(e){var n=this.__data__;if(vg){var t=n[e];return t===$z?void 0:t}return Wz.call(n,e)?n[e]:void 0}var Yz=Object.prototype,Gz=Yz.hasOwnProperty;function Qz(e){var n=this.__data__;return vg?n[e]!==void 0:Gz.call(n,e)}var Kz="__lodash_hash_undefined__";function Xz(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=vg&&n===void 0?Kz:n,this}function up(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}up.prototype.clear=Bz;up.prototype.delete=Uz;up.prototype.get=Vz;up.prototype.has=Qz;up.prototype.set=Xz;function Zz(){this.__data__=[],this.size=0}function pv(e,n){for(var t=e.length;t--;)if(Qg(e[t][0],n))return t;return-1}var Jz=Array.prototype,eq=Jz.splice;function tq(e){var n=this.__data__,t=pv(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():eq.call(n,t,1),--this.size,!0}function nq(e){var n=this.__data__,t=pv(n,e);return t<0?void 0:n[t][1]}function rq(e){return pv(this.__data__,e)>-1}function iq(e,n){var t=this.__data__,r=pv(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}function $d(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}$d.prototype.clear=Zz;$d.prototype.delete=tq;$d.prototype.get=nq;$d.prototype.has=rq;$d.prototype.set=iq;var wg=yp(Yc,"Map");function aq(){this.size=0,this.__data__={hash:new up,map:new(wg||$d),string:new up}}function sq(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function mv(e,n){var t=e.__data__;return sq(n)?t[typeof n=="string"?"string":"hash"]:t.map}function oq(e){var n=mv(this,e).delete(e);return this.size-=n?1:0,n}function lq(e){return mv(this,e).get(e)}function uq(e){return mv(this,e).has(e)}function cq(e,n){var t=mv(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}function xp(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}xp.prototype.clear=aq;xp.prototype.delete=oq;xp.prototype.get=lq;xp.prototype.has=uq;xp.prototype.set=cq;function dq(e,n){for(var t=-1,r=n.length,i=e.length;++t<r;)e[i+t]=n[t];return e}var d7=u7(Object.getPrototypeOf,Object),fq="[object Object]",hq=Function.prototype,pq=Object.prototype,f7=hq.toString,mq=pq.hasOwnProperty,gq=f7.call(Object);function bq(e){if(!Pd(e)||dm(e)!=fq)return!1;var n=d7(e);if(n===null)return!0;var t=mq.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&f7.call(t)==gq}function yq(){this.__data__=new $d,this.size=0}function xq(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function vq(e){return this.__data__.get(e)}function wq(e){return this.__data__.has(e)}var Sq=200;function Aq(e,n){var t=this.__data__;if(t instanceof $d){var r=t.__data__;if(!wg||r.length<Sq-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new xp(r)}return t.set(e,n),this.size=t.size,this}function Tc(e){var n=this.__data__=new $d(e);this.size=n.size}Tc.prototype.clear=yq;Tc.prototype.delete=xq;Tc.prototype.get=vq;Tc.prototype.has=wq;Tc.prototype.set=Aq;var h7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,n8=h7&&typeof module=="object"&&module&&!module.nodeType&&module,Cq=n8&&n8.exports===h7,r8=Cq?Yc.Buffer:void 0,i8=r8?r8.allocUnsafe:void 0;function p7(e,n){if(n)return e.slice();var t=e.length,r=i8?i8(t):new e.constructor(t);return e.copy(r),r}function Eq(e,n){for(var t=-1,r=e==null?0:e.length,i=0,a=[];++t<r;){var s=e[t];n(s,t,e)&&(a[i++]=s)}return a}function _q(){return[]}var kq=Object.prototype,Nq=kq.propertyIsEnumerable,a8=Object.getOwnPropertySymbols,jq=a8?function(e){return e==null?[]:(e=Object(e),Eq(a8(e),function(n){return Nq.call(e,n)}))}:_q;function Tq(e,n,t){var r=n(e);return lp(e)?r:dq(r,t(e))}function iS(e){return Tq(e,Mz,jq)}var aS=yp(Yc,"DataView"),sS=yp(Yc,"Promise"),oS=yp(Yc,"Set"),s8="[object Map]",Oq="[object Object]",o8="[object Promise]",l8="[object Set]",u8="[object WeakMap]",c8="[object DataView]",Iq=bp(aS),Dq=bp(wg),Lq=bp(sS),Rq=bp(oS),Mq=bp(nS),bu=dm;(aS&&bu(new aS(new ArrayBuffer(1)))!=c8||wg&&bu(new wg)!=s8||sS&&bu(sS.resolve())!=o8||oS&&bu(new oS)!=l8||nS&&bu(new nS)!=u8)&&(bu=function(e){var n=dm(e),t=n==Oq?e.constructor:void 0,r=t?bp(t):"";if(r)switch(r){case Iq:return c8;case Dq:return s8;case Lq:return o8;case Rq:return l8;case Mq:return u8}return n});var Pq=Object.prototype,Fq=Pq.hasOwnProperty;function zq(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&Fq.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var Ox=Yc.Uint8Array;function q6(e){var n=new e.constructor(e.byteLength);return new Ox(n).set(new Ox(e)),n}function qq(e,n){var t=q6(e.buffer);return new e.constructor(t,e.byteOffset,e.byteLength)}var Bq=/\w*$/;function Uq(e){var n=new e.constructor(e.source,Bq.exec(e));return n.lastIndex=e.lastIndex,n}var d8=Jf?Jf.prototype:void 0,f8=d8?d8.valueOf:void 0;function $q(e){return f8?Object(f8.call(e)):{}}function m7(e,n){var t=n?q6(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var Hq="[object Boolean]",Wq="[object Date]",Vq="[object Map]",Yq="[object Number]",Gq="[object RegExp]",Qq="[object Set]",Kq="[object String]",Xq="[object Symbol]",Zq="[object ArrayBuffer]",Jq="[object DataView]",eB="[object Float32Array]",tB="[object Float64Array]",nB="[object Int8Array]",rB="[object Int16Array]",iB="[object Int32Array]",aB="[object Uint8Array]",sB="[object Uint8ClampedArray]",oB="[object Uint16Array]",lB="[object Uint32Array]";function uB(e,n,t){var r=e.constructor;switch(n){case Zq:return q6(e);case Hq:case Wq:return new r(+e);case Jq:return qq(e);case eB:case tB:case nB:case rB:case iB:case aB:case sB:case oB:case lB:return m7(e,t);case Vq:return new r;case Yq:case Kq:return new r(e);case Gq:return Uq(e);case Qq:return new r;case Xq:return $q(e)}}function g7(e){return typeof e.constructor=="function"&&!P6(e)?jF(d7(e)):{}}var cB="[object Map]";function dB(e){return Pd(e)&&bu(e)==cB}var h8=X0&&X0.isMap,fB=h8?F6(h8):dB,hB="[object Set]";function pB(e){return Pd(e)&&bu(e)==hB}var p8=X0&&X0.isSet,mB=p8?F6(p8):pB,gB=1,b7="[object Arguments]",bB="[object Array]",yB="[object Boolean]",xB="[object Date]",vB="[object Error]",y7="[object Function]",wB="[object GeneratorFunction]",SB="[object Map]",AB="[object Number]",x7="[object Object]",CB="[object RegExp]",EB="[object Set]",_B="[object String]",kB="[object Symbol]",NB="[object WeakMap]",jB="[object ArrayBuffer]",TB="[object DataView]",OB="[object Float32Array]",IB="[object Float64Array]",DB="[object Int8Array]",LB="[object Int16Array]",RB="[object Int32Array]",MB="[object Uint8Array]",PB="[object Uint8ClampedArray]",FB="[object Uint16Array]",zB="[object Uint32Array]",ri={};ri[b7]=ri[bB]=ri[jB]=ri[TB]=ri[yB]=ri[xB]=ri[OB]=ri[IB]=ri[DB]=ri[LB]=ri[RB]=ri[SB]=ri[AB]=ri[x7]=ri[CB]=ri[EB]=ri[_B]=ri[kB]=ri[MB]=ri[PB]=ri[FB]=ri[zB]=!0;ri[vB]=ri[y7]=ri[NB]=!1;function ex(e,n,t,r,i,a){var s,l=n&gB;if(s!==void 0)return s;if(!lh(e))return e;var c=lp(e);if(c)s=zq(e);else{var d=bu(e),h=d==y7||d==wB;if(xg(e))return p7(e,l);if(d==x7||d==b7||h&&!i)s=h?{}:g7(e);else{if(!ri[d])return i?e:{};s=uB(e,d,l)}}a||(a=new Tc);var g=a.get(e);if(g)return g;a.set(e,s),mB(e)?e.forEach(function(x){s.add(ex(x,n,t,x,e,a))}):fB(e)&&e.forEach(function(x,y){s.set(y,ex(x,n,t,y,e,a))});var b=iS,m=c?void 0:b(e);return zF(m||e,function(x,y){m&&(y=x,x=e[y]),r7(s,y,ex(x,n,t,y,e,a))}),s}var qB=1,BB=4;function I0(e){return ex(e,qB|BB)}var UB="__lodash_hash_undefined__";function $B(e){return this.__data__.set(e,UB),this}function HB(e){return this.__data__.has(e)}function Ix(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new xp;++n<t;)this.add(e[n])}Ix.prototype.add=Ix.prototype.push=$B;Ix.prototype.has=HB;function WB(e,n){for(var t=-1,r=e==null?0:e.length;++t<r;)if(n(e[t],t,e))return!0;return!1}function VB(e,n){return e.has(n)}var YB=1,GB=2;function v7(e,n,t,r,i,a){var s=t&YB,l=e.length,c=n.length;if(l!=c&&!(s&&c>l))return!1;var d=a.get(e),h=a.get(n);if(d&&h)return d==n&&h==e;var g=-1,b=!0,m=t&GB?new Ix:void 0;for(a.set(e,n),a.set(n,e);++g<l;){var x=e[g],y=n[g];if(r)var A=s?r(y,x,g,n,e,a):r(x,y,g,e,n,a);if(A!==void 0){if(A)continue;b=!1;break}if(m){if(!WB(n,function(w,C){if(!VB(m,C)&&(x===w||i(x,w,t,r,a)))return m.push(C)})){b=!1;break}}else if(!(x===y||i(x,y,t,r,a))){b=!1;break}}return a.delete(e),a.delete(n),b}function QB(e){var n=-1,t=Array(e.size);return e.forEach(function(r,i){t[++n]=[i,r]}),t}function KB(e){var n=-1,t=Array(e.size);return e.forEach(function(r){t[++n]=r}),t}var XB=1,ZB=2,JB="[object Boolean]",eU="[object Date]",tU="[object Error]",nU="[object Map]",rU="[object Number]",iU="[object RegExp]",aU="[object Set]",sU="[object String]",oU="[object Symbol]",lU="[object ArrayBuffer]",uU="[object DataView]",m8=Jf?Jf.prototype:void 0,P5=m8?m8.valueOf:void 0;function cU(e,n,t,r,i,a,s){switch(t){case uU:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case lU:return!(e.byteLength!=n.byteLength||!a(new Ox(e),new Ox(n)));case JB:case eU:case rU:return Qg(+e,+n);case tU:return e.name==n.name&&e.message==n.message;case iU:case sU:return e==n+"";case nU:var l=QB;case aU:var c=r&XB;if(l||(l=KB),e.size!=n.size&&!c)return!1;var d=s.get(e);if(d)return d==n;r|=ZB,s.set(e,n);var h=v7(l(e),l(n),r,i,a,s);return s.delete(e),h;case oU:if(P5)return P5.call(e)==P5.call(n)}return!1}var dU=1,fU=Object.prototype,hU=fU.hasOwnProperty;function pU(e,n,t,r,i,a){var s=t&dU,l=iS(e),c=l.length,d=iS(n),h=d.length;if(c!=h&&!s)return!1;for(var g=c;g--;){var b=l[g];if(!(s?b in n:hU.call(n,b)))return!1}var m=a.get(e),x=a.get(n);if(m&&x)return m==n&&x==e;var y=!0;a.set(e,n),a.set(n,e);for(var A=s;++g<c;){b=l[g];var w=e[b],C=n[b];if(r)var N=s?r(C,w,b,n,e,a):r(w,C,b,e,n,a);if(!(N===void 0?w===C||i(w,C,t,r,a):N)){y=!1;break}A||(A=b=="constructor")}if(y&&!A){var P=e.constructor,F=n.constructor;P!=F&&"constructor"in e&&"constructor"in n&&!(typeof P=="function"&&P instanceof P&&typeof F=="function"&&F instanceof F)&&(y=!1)}return a.delete(e),a.delete(n),y}var mU=1,g8="[object Arguments]",b8="[object Array]",wy="[object Object]",gU=Object.prototype,y8=gU.hasOwnProperty;function bU(e,n,t,r,i,a){var s=lp(e),l=lp(n),c=s?b8:bu(e),d=l?b8:bu(n);c=c==g8?wy:c,d=d==g8?wy:d;var h=c==wy,g=d==wy,b=c==d;if(b&&xg(e)){if(!xg(n))return!1;s=!0,h=!1}if(b&&!h)return a||(a=new Tc),s||z6(e)?v7(e,n,t,r,i,a):cU(e,n,c,t,r,i,a);if(!(t&mU)){var m=h&&y8.call(e,"__wrapped__"),x=g&&y8.call(n,"__wrapped__");if(m||x){var y=m?e.value():e,A=x?n.value():n;return a||(a=new Tc),i(y,A,t,r,a)}}return b?(a||(a=new Tc),pU(e,n,t,r,i,a)):!1}function w7(e,n,t,r,i){return e===n?!0:e==null||n==null||!Pd(e)&&!Pd(n)?e!==e&&n!==n:bU(e,n,t,r,w7,i)}function yU(e){return function(n,t,r){for(var i=-1,a=Object(n),s=r(n),l=s.length;l--;){var c=s[++i];if(t(a[c],c,a)===!1)break}return n}}var xU=yU();function lS(e,n,t){(t!==void 0&&!Qg(e[n],t)||t===void 0&&!(n in e))&&M6(e,n,t)}function vU(e){return Pd(e)&&hv(e)}function uS(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}function wU(e){return HF(e,c7(e))}function SU(e,n,t,r,i,a,s){var l=uS(e,t),c=uS(n,t),d=s.get(c);if(d){lS(e,t,d);return}var h=a?a(l,c,t+"",e,n,s):void 0,g=h===void 0;if(g){var b=lp(c),m=!b&&xg(c),x=!b&&!m&&z6(c);h=c,b||m||x?lp(l)?h=l:vU(l)?h=OF(l):m?(g=!1,h=p7(c,!0)):x?(g=!1,h=m7(c,!0)):h=[]:bq(c)||rS(c)?(h=l,rS(l)?h=wU(l):(!lh(l)||R6(l))&&(h=g7(c))):g=!1}g&&(s.set(c,h),i(h,c,r,a,s),s.delete(c)),lS(e,t,h)}function S7(e,n,t,r,i){e!==n&&xU(n,function(a,s){if(i||(i=new Tc),lh(a))SU(e,n,s,t,S7,r,i);else{var l=r?r(uS(e,s),a,s+"",e,n,i):void 0;l===void 0&&(l=a),lS(e,s,l)}},c7)}function Rf(e,n){return w7(e,n)}var Qf=QF(function(e,n,t){S7(e,n,t)}),Ut=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(Ut||{});class $c{constructor(n,t,r={}){this.attrName=n,this.keyName=t;const i=Ut.TYPE&Ut.ATTRIBUTE;this.scope=r.scope!=null?r.scope&Ut.LEVEL|i:Ut.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(n){return Array.from(n.attributes).map(t=>t.name)}add(n,t){return this.canAdd(n,t)?(n.setAttribute(this.keyName,t),!0):!1}canAdd(n,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(n){n.removeAttribute(this.keyName)}value(n){const t=n.getAttribute(this.keyName);return this.canAdd(n,t)&&t?t:""}}class D0 extends Error{constructor(n){n="[Parchment] "+n,super(n),this.message=n,this.name=this.constructor.name}}const A7=class cS{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(n,t=!1){if(n==null)return null;if(this.blots.has(n))return this.blots.get(n)||null;if(t){let r=null;try{r=n.parentNode}catch{return null}return this.find(r,t)}return null}create(n,t,r){const i=this.query(t);if(i==null)throw new D0(`Unable to create ${t} blot`);const a=i,s=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:a.create(r),l=new a(n,s,r);return cS.blots.set(l.domNode,l),l}find(n,t=!1){return cS.find(n,t)}query(n,t=Ut.ANY){let r;return typeof n=="string"?r=this.types[n]||this.attributes[n]:n instanceof Text||n.nodeType===Node.TEXT_NODE?r=this.types.text:typeof n=="number"?n&Ut.LEVEL&Ut.BLOCK?r=this.types.block:n&Ut.LEVEL&Ut.INLINE&&(r=this.types.inline):n instanceof Element&&((n.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[n.tagName]),r==null?null:"scope"in r&&t&Ut.LEVEL&r.scope&&t&Ut.TYPE&r.scope?r:null}register(...n){return n.map(t=>{const r="blotName"in t,i="attrName"in t;if(!r&&!i)throw new D0("Invalid definition");if(r&&t.blotName==="abstract")throw new D0("Cannot register abstract class");const a=r?t.blotName:i?t.attrName:void 0;return this.types[a]=t,i?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(s=>s.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(s=>{(this.tags[s]==null||t.className==null)&&(this.tags[s]=t)}))),t})}};A7.blots=new WeakMap;let Z0=A7;function x8(e,n){return(e.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${n}-`)===0)}class AU extends $c{static keys(n){return(n.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(n,t){return this.canAdd(n,t)?(this.remove(n),n.classList.add(`${this.keyName}-${t}`),!0):!1}remove(n){x8(n,this.keyName).forEach(t=>{n.classList.remove(t)}),n.classList.length===0&&n.removeAttribute("class")}value(n){const t=(x8(n,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(n,t)?t:""}}const Du=AU;function F5(e){const n=e.split("-"),t=n.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return n[0]+t}class CU extends $c{static keys(n){return(n.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(n,t){return this.canAdd(n,t)?(n.style[F5(this.keyName)]=t,!0):!1}remove(n){n.style[F5(this.keyName)]="",n.getAttribute("style")||n.removeAttribute("style")}value(n){const t=n.style[F5(this.keyName)];return this.canAdd(n,t)?t:""}}const uh=CU;class EU{constructor(n){this.attributes={},this.domNode=n,this.build()}attribute(n,t){t?n.add(this.domNode,t)&&(n.value(this.domNode)!=null?this.attributes[n.attrName]=n:delete this.attributes[n.attrName]):(n.remove(this.domNode),delete this.attributes[n.attrName])}build(){this.attributes={};const n=Z0.find(this.domNode);if(n==null)return;const t=$c.keys(this.domNode),r=Du.keys(this.domNode),i=uh.keys(this.domNode);t.concat(r).concat(i).forEach(a=>{const s=n.scroll.query(a,Ut.ATTRIBUTE);s instanceof $c&&(this.attributes[s.attrName]=s)})}copy(n){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);n.format(t,r)})}move(n){this.copy(n),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((n,t)=>(n[t]=this.attributes[t].value(this.domNode),n),{})}}const gv=EU,C7=class{constructor(n,t){this.scroll=n,this.domNode=t,Z0.blots.set(t,this),this.prev=null,this.next=null}static create(n){if(this.tagName==null)throw new D0("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof n=="string"?(r=n.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof n=="number"&&(r=n),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const n=this.domNode.cloneNode(!1);return this.scroll.create(n)}detach(){this.parent!=null&&this.parent.removeChild(this),Z0.blots.delete(this.domNode)}deleteAt(n,t){this.isolate(n,t).remove()}formatAt(n,t,r,i){const a=this.isolate(n,t);if(this.scroll.query(r,Ut.BLOT)!=null&&i)a.wrap(r,i);else if(this.scroll.query(r,Ut.ATTRIBUTE)!=null){const s=this.scroll.create(this.statics.scope);a.wrap(s),s.format(r,i)}}insertAt(n,t,r){const i=r==null?this.scroll.create("text",t):this.scroll.create(t,r),a=this.split(n);this.parent.insertBefore(i,a||void 0)}isolate(n,t){const r=this.split(n);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(n=this.parent){return this.parent==null||this===n?0:this.parent.children.offset(this)+this.parent.offset(n)}optimize(n){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(n,t){return n===0?this:this.next}update(n,t){}wrap(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new D0(`Cannot wrap ${n}`);return r.appendChild(this),r}};C7.blotName="abstract";let E7=C7;const _7=class extends E7{static value(n){return!0}index(n,t){return this.domNode===n||this.domNode.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(n,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return n>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};_7.scope=Ut.INLINE_BLOT;let _U=_7;const Rs=_U;class kU{constructor(){this.head=null,this.tail=null,this.length=0}append(...n){if(this.insertBefore(n[0],null),n.length>1){const t=n.slice(1);this.append(...t)}}at(n){const t=this.iterator();let r=t();for(;r&&n>0;)n-=1,r=t();return r}contains(n){const t=this.iterator();let r=t();for(;r;){if(r===n)return!0;r=t()}return!1}indexOf(n){const t=this.iterator();let r=t(),i=0;for(;r;){if(r===n)return i;i+=1,r=t()}return-1}insertBefore(n,t){n!=null&&(this.remove(n),n.next=t,t!=null?(n.prev=t.prev,t.prev!=null&&(t.prev.next=n),t.prev=n,t===this.head&&(this.head=n)):this.tail!=null?(this.tail.next=n,n.prev=this.tail,this.tail=n):(n.prev=null,this.head=this.tail=n),this.length+=1)}offset(n){let t=0,r=this.head;for(;r!=null;){if(r===n)return t;t+=r.length(),r=r.next}return-1}remove(n){this.contains(n)&&(n.prev!=null&&(n.prev.next=n.next),n.next!=null&&(n.next.prev=n.prev),n===this.head&&(this.head=n.next),n===this.tail&&(this.tail=n.prev),this.length-=1)}iterator(n=this.head){return()=>{const t=n;return n!=null&&(n=n.next),t}}find(n,t=!1){const r=this.iterator();let i=r();for(;i;){const a=i.length();if(n<a||t&&n===a&&(i.next==null||i.next.length()!==0))return[i,n];n-=a,i=r()}return[null,0]}forEach(n){const t=this.iterator();let r=t();for(;r;)n(r),r=t()}forEachAt(n,t,r){if(t<=0)return;const[i,a]=this.find(n);let s=n-a;const l=this.iterator(i);let c=l();for(;c&&s<n+t;){const d=c.length();n>s?r(c,n-s,Math.min(t,s+d-n)):r(c,0,Math.min(d,n+t-s)),s+=d,c=l()}}map(n){return this.reduce((t,r)=>(t.push(n(r)),t),[])}reduce(n,t){const r=this.iterator();let i=r();for(;i;)t=n(t,i),i=r();return t}}function v8(e,n){const t=n.find(e);if(t)return t;try{return n.create(e)}catch{const r=n.create(Ut.INLINE);return Array.from(e.childNodes).forEach(i=>{r.domNode.appendChild(i)}),e.parentNode&&e.parentNode.replaceChild(r.domNode,e),r.attach(),r}}const k7=class Df extends E7{constructor(n,t){super(n,t),this.uiNode=null,this.build()}appendChild(n){this.insertBefore(n)}attach(){super.attach(),this.children.forEach(n=>{n.attach()})}attachUI(n){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=n,Df.uiClass&&this.uiNode.classList.add(Df.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new kU,Array.from(this.domNode.childNodes).filter(n=>n!==this.uiNode).reverse().forEach(n=>{try{const t=v8(n,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof D0)return;throw t}})}deleteAt(n,t){if(n===0&&t===this.length())return this.remove();this.children.forEachAt(n,t,(r,i,a)=>{r.deleteAt(i,a)})}descendant(n,t=0){const[r,i]=this.children.find(t);return n.blotName==null&&n(r)||n.blotName!=null&&r instanceof n?[r,i]:r instanceof Df?r.descendant(n,i):[null,-1]}descendants(n,t=0,r=Number.MAX_VALUE){let i=[],a=r;return this.children.forEachAt(t,r,(s,l,c)=>{(n.blotName==null&&n(s)||n.blotName!=null&&s instanceof n)&&i.push(s),s instanceof Df&&(i=i.concat(s.descendants(n,l,a))),a-=c}),i}detach(){this.children.forEach(n=>{n.detach()}),super.detach()}enforceAllowedChildren(){let n=!1;this.children.forEach(t=>{n||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===Ut.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),n=!0):t instanceof Df?t.unwrap():t.remove())})}formatAt(n,t,r,i){this.children.forEachAt(n,t,(a,s,l)=>{a.formatAt(s,l,r,i)})}insertAt(n,t,r){const[i,a]=this.children.find(n);if(i)i.insertAt(a,t,r);else{const s=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(s)}}insertBefore(n,t){n.parent!=null&&n.parent.children.remove(n);let r=null;this.children.insertBefore(n,t||null),n.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==n.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(n.domNode,r),n.attach()}length(){return this.children.reduce((n,t)=>n+t.length(),0)}moveChildren(n,t){this.children.forEach(r=>{n.insertBefore(r,t)})}optimize(n){if(super.optimize(n),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(n,t=!1){const[r,i]=this.children.find(n,t),a=[[this,n]];return r instanceof Df?a.concat(r.path(i,t)):(r!=null&&a.push([r,i]),a)}removeChild(n){this.children.remove(n)}replaceWith(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;return r instanceof Df&&this.moveChildren(r),super.replaceWith(r)}split(n,t=!1){if(!t){if(n===0)return this;if(n===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(n,this.length(),(i,a,s)=>{const l=i.split(a,t);l!=null&&r.appendChild(l)}),r}splitAfter(n){const t=this.clone();for(;n.next!=null;)t.appendChild(n.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(n,t){const r=[],i=[];n.forEach(a=>{a.target===this.domNode&&a.type==="childList"&&(r.push(...a.addedNodes),i.push(...a.removedNodes))}),i.forEach(a=>{if(a.parentNode!=null&&a.tagName!=="IFRAME"&&document.body.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const s=this.scroll.find(a);s!=null&&(s.domNode.parentNode==null||s.domNode.parentNode===this.domNode)&&s.detach()}),r.filter(a=>a.parentNode===this.domNode&&a!==this.uiNode).sort((a,s)=>a===s?0:a.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(a=>{let s=null;a.nextSibling!=null&&(s=this.scroll.find(a.nextSibling));const l=v8(a,this.scroll);(l.next!==s||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,s||void 0))}),this.enforceAllowedChildren()}};k7.uiClass="";let NU=k7;const Eu=NU;function jU(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const t in e)if(e[t]!==n[t])return!1;return!0}const w0=class S0 extends Eu{static create(n){return super.create(n)}static formats(n,t){const r=t.query(S0.blotName);if(!(r!=null&&n.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return n.tagName.toLowerCase()}}constructor(n,t){super(n,t),this.attributes=new gv(this.domNode)}format(n,t){if(n===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof S0||(r=r.wrap(S0.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(n,Ut.INLINE);if(r==null)return;r instanceof $c?this.attributes.attribute(r,t):t&&(n!==this.statics.blotName||this.formats()[n]!==t)&&this.replaceWith(n,t)}}formats(){const n=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(n[this.statics.blotName]=t),n}formatAt(n,t,r,i){this.formats()[r]!=null||this.scroll.query(r,Ut.ATTRIBUTE)?this.isolate(n,t).format(r,i):super.formatAt(n,t,r,i)}optimize(n){super.optimize(n);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof S0&&r.prev===this&&jU(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(n,t){const r=super.replaceWith(n,t);return this.attributes.copy(r),r}update(n,t){super.update(n,t),n.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(n,t){const r=super.wrap(n,t);return r instanceof S0&&this.attributes.move(r),r}};w0.allowedChildren=[w0,Rs],w0.blotName="inline",w0.scope=Ut.INLINE_BLOT,w0.tagName="SPAN";let TU=w0;const B6=TU,A0=class dS extends Eu{static create(n){return super.create(n)}static formats(n,t){const r=t.query(dS.blotName);if(!(r!=null&&n.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return n.tagName.toLowerCase()}}constructor(n,t){super(n,t),this.attributes=new gv(this.domNode)}format(n,t){const r=this.scroll.query(n,Ut.BLOCK);r!=null&&(r instanceof $c?this.attributes.attribute(r,t):n===this.statics.blotName&&!t?this.replaceWith(dS.blotName):t&&(n!==this.statics.blotName||this.formats()[n]!==t)&&this.replaceWith(n,t))}formats(){const n=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(n[this.statics.blotName]=t),n}formatAt(n,t,r,i){this.scroll.query(r,Ut.BLOCK)!=null?this.format(r,i):super.formatAt(n,t,r,i)}insertAt(n,t,r){if(r==null||this.scroll.query(t,Ut.INLINE)!=null)super.insertAt(n,t,r);else{const i=this.split(n);if(i!=null){const a=this.scroll.create(t,r);i.parent.insertBefore(a,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(n,t){const r=super.replaceWith(n,t);return this.attributes.copy(r),r}update(n,t){super.update(n,t),n.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};A0.blotName="block",A0.scope=Ut.BLOCK_BLOT,A0.tagName="P",A0.allowedChildren=[B6,A0,Rs];let OU=A0;const Sg=OU,fS=class extends Eu{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(n,t){super.deleteAt(n,t),this.enforceAllowedChildren()}formatAt(n,t,r,i){super.formatAt(n,t,r,i),this.enforceAllowedChildren()}insertAt(n,t,r){super.insertAt(n,t,r),this.enforceAllowedChildren()}optimize(n){super.optimize(n),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};fS.blotName="container",fS.scope=Ut.BLOCK_BLOT;let IU=fS;const bv=IU;class DU extends Rs{static formats(n,t){}format(n,t){super.formatAt(0,this.length(),n,t)}formatAt(n,t,r,i){n===0&&t===this.length()?this.format(r,i):super.formatAt(n,t,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const sl=DU,LU={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},RU=100,C0=class extends Eu{constructor(n,t){super(null,t),this.registry=n,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,LU),this.attach()}create(n,t){return this.registry.create(this,n,t)}find(n,t=!1){const r=this.registry.find(n,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(n,t=Ut.ANY){return this.registry.query(n,t)}register(...n){return this.registry.register(...n)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(n,t){this.update(),n===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(n,t)}formatAt(n,t,r,i){this.update(),super.formatAt(n,t,r,i)}insertAt(n,t,r){this.update(),super.insertAt(n,t,r)}optimize(n=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)n.push(i.pop());const a=(c,d=!0)=>{c==null||c===this||c.domNode.parentNode!=null&&(r.has(c.domNode)||r.set(c.domNode,[]),d&&a(c.parent))},s=c=>{r.has(c.domNode)&&(c instanceof Eu&&c.children.forEach(s),r.delete(c.domNode),c.optimize(t))};let l=n;for(let c=0;l.length>0;c+=1){if(c>=RU)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(d=>{const h=this.find(d.target,!0);h!=null&&(h.domNode===d.target&&(d.type==="childList"?(a(this.find(d.previousSibling,!1)),Array.from(d.addedNodes).forEach(g=>{const b=this.find(g,!1);a(b,!1),b instanceof Eu&&b.children.forEach(m=>{a(m,!1)})})):d.type==="attributes"&&a(h.prev)),a(h))}),this.children.forEach(s),l=Array.from(this.observer.takeRecords()),i=l.slice();i.length>0;)n.push(i.pop())}}update(n,t={}){n=n||this.observer.takeRecords();const r=new WeakMap;n.map(i=>{const a=this.find(i.target,!0);return a==null?null:r.has(a.domNode)?(r.get(a.domNode).push(i),null):(r.set(a.domNode,[i]),a)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(n,t)}};C0.blotName="scroll",C0.defaultChild=Sg,C0.allowedChildren=[Sg,bv],C0.scope=Ut.BLOCK_BLOT,C0.tagName="DIV";let MU=C0;const U6=MU,hS=class N7 extends Rs{static create(n){return document.createTextNode(n)}static value(n){return n.data}constructor(n,t){super(n,t),this.text=this.statics.value(this.domNode)}deleteAt(n,t){this.domNode.data=this.text=this.text.slice(0,n)+this.text.slice(n+t)}index(n,t){return this.domNode===n?t:-1}insertAt(n,t,r){r==null?(this.text=this.text.slice(0,n)+t+this.text.slice(n),this.domNode.data=this.text):super.insertAt(n,t,r)}length(){return this.text.length}optimize(n){super.optimize(n),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof N7&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(n,t=!1){return[this.domNode,n]}split(n,t=!1){if(!t){if(n===0)return this;if(n===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(n));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(n,t){n.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};hS.blotName="text",hS.scope=Ut.INLINE_BLOT;let PU=hS;const Dx=PU,FU=Object.freeze(Object.defineProperty({__proto__:null,Attributor:$c,AttributorStore:gv,BlockBlot:Sg,ClassAttributor:Du,ContainerBlot:bv,EmbedBlot:sl,InlineBlot:B6,LeafBlot:Rs,ParentBlot:Eu,Registry:Z0,Scope:Ut,ScrollBlot:U6,StyleAttributor:uh,TextBlot:Dx},Symbol.toStringTag,{value:"Module"}));var Sy={exports:{}},z5,w8;function zU(){if(w8)return z5;w8=1;var e=-1,n=1,t=0;function r(T,O,L,j,X){if(T===O)return T?[[t,T]]:[];if(L!=null){var H=q(T,O,L);if(H)return H}var G=l(T,O),ee=T.substring(0,G);T=T.substring(G),O=O.substring(G),G=d(T,O);var le=T.substring(T.length-G);T=T.substring(0,T.length-G),O=O.substring(0,O.length-G);var Y=i(T,O);return ee&&Y.unshift([t,ee]),le&&Y.push([t,le]),C(Y,X),j&&g(Y),Y}function i(T,O){var L;if(!T)return[[n,O]];if(!O)return[[e,T]];var j=T.length>O.length?T:O,X=T.length>O.length?O:T,H=j.indexOf(X);if(H!==-1)return L=[[n,j.substring(0,H)],[t,X],[n,j.substring(H+X.length)]],T.length>O.length&&(L[0][0]=L[2][0]=e),L;if(X.length===1)return[[e,T],[n,O]];var G=h(T,O);if(G){var ee=G[0],le=G[1],Y=G[2],te=G[3],U=G[4],B=r(ee,Y),re=r(le,te);return B.concat([[t,U]],re)}return a(T,O)}function a(T,O){for(var L=T.length,j=O.length,X=Math.ceil((L+j)/2),H=X,G=2*X,ee=new Array(G),le=new Array(G),Y=0;Y<G;Y++)ee[Y]=-1,le[Y]=-1;ee[H+1]=0,le[H+1]=0;for(var te=L-j,U=te%2!==0,B=0,re=0,Z=0,ne=0,ve=0;ve<X;ve++){for(var ye=-ve+B;ye<=ve-re;ye+=2){var Ce=H+ye,Oe;ye===-ve||ye!==ve&&ee[Ce-1]<ee[Ce+1]?Oe=ee[Ce+1]:Oe=ee[Ce-1]+1;for(var Ie=Oe-ye;Oe<L&&Ie<j&&T.charAt(Oe)===O.charAt(Ie);)Oe++,Ie++;if(ee[Ce]=Oe,Oe>L)re+=2;else if(Ie>j)B+=2;else if(U){var Ue=H+te-ye;if(Ue>=0&&Ue<G&&le[Ue]!==-1){var He=L-le[Ue];if(Oe>=He)return s(T,O,Oe,Ie)}}}for(var V=-ve+Z;V<=ve-ne;V+=2){var Ue=H+V,He;V===-ve||V!==ve&&le[Ue-1]<le[Ue+1]?He=le[Ue+1]:He=le[Ue-1]+1;for(var Se=He-V;He<L&&Se<j&&T.charAt(L-He-1)===O.charAt(j-Se-1);)He++,Se++;if(le[Ue]=He,He>L)ne+=2;else if(Se>j)Z+=2;else if(!U){var Ce=H+te-V;if(Ce>=0&&Ce<G&&ee[Ce]!==-1){var Oe=ee[Ce],Ie=H+Oe-Ce;if(He=L-He,Oe>=He)return s(T,O,Oe,Ie)}}}}return[[e,T],[n,O]]}function s(T,O,L,j){var X=T.substring(0,L),H=O.substring(0,j),G=T.substring(L),ee=O.substring(j),le=r(X,H),Y=r(G,ee);return le.concat(Y)}function l(T,O){if(!T||!O||T.charAt(0)!==O.charAt(0))return 0;for(var L=0,j=Math.min(T.length,O.length),X=j,H=0;L<X;)T.substring(H,X)==O.substring(H,X)?(L=X,H=L):j=X,X=Math.floor((j-L)/2+L);return N(T.charCodeAt(X-1))&&X--,X}function c(T,O){var L=T.length,j=O.length;if(L==0||j==0)return 0;L>j?T=T.substring(L-j):L<j&&(O=O.substring(0,L));var X=Math.min(L,j);if(T==O)return X;for(var H=0,G=1;;){var ee=T.substring(X-G),le=O.indexOf(ee);if(le==-1)return H;G+=le,(le==0||T.substring(X-G)==O.substring(0,G))&&(H=G,G++)}}function d(T,O){if(!T||!O||T.slice(-1)!==O.slice(-1))return 0;for(var L=0,j=Math.min(T.length,O.length),X=j,H=0;L<X;)T.substring(T.length-X,T.length-H)==O.substring(O.length-X,O.length-H)?(L=X,H=L):j=X,X=Math.floor((j-L)/2+L);return P(T.charCodeAt(T.length-X))&&X--,X}function h(T,O){var L=T.length>O.length?T:O,j=T.length>O.length?O:T;if(L.length<4||j.length*2<L.length)return null;function X(re,Z,ne){for(var ve=re.substring(ne,ne+Math.floor(re.length/4)),ye=-1,Ce="",Oe,Ie,Ue,He;(ye=Z.indexOf(ve,ye+1))!==-1;){var V=l(re.substring(ne),Z.substring(ye)),Se=d(re.substring(0,ne),Z.substring(0,ye));Ce.length<Se+V&&(Ce=Z.substring(ye-Se,ye)+Z.substring(ye,ye+V),Oe=re.substring(0,ne-Se),Ie=re.substring(ne+V),Ue=Z.substring(0,ye-Se),He=Z.substring(ye+V))}return Ce.length*2>=re.length?[Oe,Ie,Ue,He,Ce]:null}var H=X(L,j,Math.ceil(L.length/4)),G=X(L,j,Math.ceil(L.length/2)),ee;if(!H&&!G)return null;G?H?ee=H[4].length>G[4].length?H:G:ee=G:ee=H;var le,Y,te,U;T.length>O.length?(le=ee[0],Y=ee[1],te=ee[2],U=ee[3]):(te=ee[0],U=ee[1],le=ee[2],Y=ee[3]);var B=ee[4];return[le,Y,te,U,B]}function g(T){for(var O=!1,L=[],j=0,X=null,H=0,G=0,ee=0,le=0,Y=0;H<T.length;)T[H][0]==t?(L[j++]=H,G=le,ee=Y,le=0,Y=0,X=T[H][1]):(T[H][0]==n?le+=T[H][1].length:Y+=T[H][1].length,X&&X.length<=Math.max(G,ee)&&X.length<=Math.max(le,Y)&&(T.splice(L[j-1],0,[e,X]),T[L[j-1]+1][0]=n,j--,j--,H=j>0?L[j-1]:-1,G=0,ee=0,le=0,Y=0,X=null,O=!0)),H++;for(O&&C(T),w(T),H=1;H<T.length;){if(T[H-1][0]==e&&T[H][0]==n){var te=T[H-1][1],U=T[H][1],B=c(te,U),re=c(U,te);B>=re?(B>=te.length/2||B>=U.length/2)&&(T.splice(H,0,[t,U.substring(0,B)]),T[H-1][1]=te.substring(0,te.length-B),T[H+1][1]=U.substring(B),H++):(re>=te.length/2||re>=U.length/2)&&(T.splice(H,0,[t,te.substring(0,re)]),T[H-1][0]=n,T[H-1][1]=U.substring(0,U.length-re),T[H+1][0]=e,T[H+1][1]=te.substring(re),H++),H++}H++}}var b=/[^a-zA-Z0-9]/,m=/\s/,x=/[\r\n]/,y=/\n\r?\n$/,A=/^\r?\n\r?\n/;function w(T){function O(re,Z){if(!re||!Z)return 6;var ne=re.charAt(re.length-1),ve=Z.charAt(0),ye=ne.match(b),Ce=ve.match(b),Oe=ye&&ne.match(m),Ie=Ce&&ve.match(m),Ue=Oe&&ne.match(x),He=Ie&&ve.match(x),V=Ue&&re.match(y),Se=He&&Z.match(A);return V||Se?5:Ue||He?4:ye&&!Oe&&Ie?3:Oe||Ie?2:ye||Ce?1:0}for(var L=1;L<T.length-1;){if(T[L-1][0]==t&&T[L+1][0]==t){var j=T[L-1][1],X=T[L][1],H=T[L+1][1],G=d(j,X);if(G){var ee=X.substring(X.length-G);j=j.substring(0,j.length-G),X=ee+X.substring(0,X.length-G),H=ee+H}for(var le=j,Y=X,te=H,U=O(j,X)+O(X,H);X.charAt(0)===H.charAt(0);){j+=X.charAt(0),X=X.substring(1)+H.charAt(0),H=H.substring(1);var B=O(j,X)+O(X,H);B>=U&&(U=B,le=j,Y=X,te=H)}T[L-1][1]!=le&&(le?T[L-1][1]=le:(T.splice(L-1,1),L--),T[L][1]=Y,te?T[L+1][1]=te:(T.splice(L+1,1),L--))}L++}}function C(T,O){T.push([t,""]);for(var L=0,j=0,X=0,H="",G="",ee;L<T.length;){if(L<T.length-1&&!T[L][1]){T.splice(L,1);continue}switch(T[L][0]){case n:X++,G+=T[L][1],L++;break;case e:j++,H+=T[L][1],L++;break;case t:var le=L-X-j-1;if(O){if(le>=0&&R(T[le][1])){var Y=T[le][1].slice(-1);if(T[le][1]=T[le][1].slice(0,-1),H=Y+H,G=Y+G,!T[le][1]){T.splice(le,1),L--;var te=le-1;T[te]&&T[te][0]===n&&(X++,G=T[te][1]+G,te--),T[te]&&T[te][0]===e&&(j++,H=T[te][1]+H,te--),le=te}}if(F(T[L][1])){var Y=T[L][1].charAt(0);T[L][1]=T[L][1].slice(1),H+=Y,G+=Y}}if(L<T.length-1&&!T[L][1]){T.splice(L,1);break}if(H.length>0||G.length>0){H.length>0&&G.length>0&&(ee=l(G,H),ee!==0&&(le>=0?T[le][1]+=G.substring(0,ee):(T.splice(0,0,[t,G.substring(0,ee)]),L++),G=G.substring(ee),H=H.substring(ee)),ee=d(G,H),ee!==0&&(T[L][1]=G.substring(G.length-ee)+T[L][1],G=G.substring(0,G.length-ee),H=H.substring(0,H.length-ee)));var U=X+j;H.length===0&&G.length===0?(T.splice(L-U,U),L=L-U):H.length===0?(T.splice(L-U,U,[n,G]),L=L-U+1):G.length===0?(T.splice(L-U,U,[e,H]),L=L-U+1):(T.splice(L-U,U,[e,H],[n,G]),L=L-U+2)}L!==0&&T[L-1][0]===t?(T[L-1][1]+=T[L][1],T.splice(L,1)):L++,X=0,j=0,H="",G="";break}}T[T.length-1][1]===""&&T.pop();var B=!1;for(L=1;L<T.length-1;)T[L-1][0]===t&&T[L+1][0]===t&&(T[L][1].substring(T[L][1].length-T[L-1][1].length)===T[L-1][1]?(T[L][1]=T[L-1][1]+T[L][1].substring(0,T[L][1].length-T[L-1][1].length),T[L+1][1]=T[L-1][1]+T[L+1][1],T.splice(L-1,1),B=!0):T[L][1].substring(0,T[L+1][1].length)==T[L+1][1]&&(T[L-1][1]+=T[L+1][1],T[L][1]=T[L][1].substring(T[L+1][1].length)+T[L+1][1],T.splice(L+1,1),B=!0)),L++;B&&C(T,O)}function N(T){return T>=55296&&T<=56319}function P(T){return T>=56320&&T<=57343}function F(T){return P(T.charCodeAt(0))}function R(T){return N(T.charCodeAt(T.length-1))}function k(T){for(var O=[],L=0;L<T.length;L++)T[L][1].length>0&&O.push(T[L]);return O}function M(T,O,L,j){return R(T)||F(j)?null:k([[t,T],[e,O],[n,L],[t,j]])}function q(T,O,L){var j=typeof L=="number"?{index:L,length:0}:L.oldRange,X=typeof L=="number"?null:L.newRange,H=T.length,G=O.length;if(j.length===0&&(X===null||X.length===0)){var ee=j.index,le=T.slice(0,ee),Y=T.slice(ee),te=X?X.index:null;e:{var U=ee+G-H;if(te!==null&&te!==U||U<0||U>G)break e;var B=O.slice(0,U),re=O.slice(U);if(re!==Y)break e;var Z=Math.min(ee,U),ne=le.slice(0,Z),ve=B.slice(0,Z);if(ne!==ve)break e;var ye=le.slice(Z),Ce=B.slice(Z);return M(ne,ye,Ce,Y)}e:{if(te!==null&&te!==ee)break e;var Oe=ee,B=O.slice(0,Oe),re=O.slice(Oe);if(B!==le)break e;var Ie=Math.min(H-Oe,G-Oe),Ue=Y.slice(Y.length-Ie),He=re.slice(re.length-Ie);if(Ue!==He)break e;var ye=Y.slice(0,Y.length-Ie),Ce=re.slice(0,re.length-Ie);return M(le,ye,Ce,Ue)}}if(j.length>0&&X&&X.length===0)e:{var ne=T.slice(0,j.index),Ue=T.slice(j.index+j.length),Z=ne.length,Ie=Ue.length;if(G<Z+Ie)break e;var ve=O.slice(0,Z),He=O.slice(G-Ie);if(ne!==ve||Ue!==He)break e;var ye=T.slice(Z,H-Ie),Ce=O.slice(Z,G-Ie);return M(ne,ye,Ce,Ue)}return null}function Q(T,O,L,j){return r(T,O,L,j,!0)}return Q.INSERT=n,Q.DELETE=e,Q.EQUAL=t,z5=Q,z5}var Q1={exports:{}};Q1.exports;var S8;function j7(){return S8||(S8=1,function(e,n){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",s="[object Array]",l="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Function]",g="[object GeneratorFunction]",b="[object Map]",m="[object Number]",x="[object Object]",y="[object Promise]",A="[object RegExp]",w="[object Set]",C="[object String]",N="[object Symbol]",P="[object WeakMap]",F="[object ArrayBuffer]",R="[object DataView]",k="[object Float32Array]",M="[object Float64Array]",q="[object Int8Array]",Q="[object Int16Array]",T="[object Int32Array]",O="[object Uint8Array]",L="[object Uint8ClampedArray]",j="[object Uint16Array]",X="[object Uint32Array]",H=/[\\^$.*+?()[\]{}|]/g,G=/\w*$/,ee=/^\[object .+?Constructor\]$/,le=/^(?:0|[1-9]\d*)$/,Y={};Y[a]=Y[s]=Y[F]=Y[R]=Y[l]=Y[c]=Y[k]=Y[M]=Y[q]=Y[Q]=Y[T]=Y[b]=Y[m]=Y[x]=Y[A]=Y[w]=Y[C]=Y[N]=Y[O]=Y[L]=Y[j]=Y[X]=!0,Y[d]=Y[h]=Y[P]=!1;var te=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,U=typeof self=="object"&&self&&self.Object===Object&&self,B=te||U||Function("return this")(),re=n&&!n.nodeType&&n,Z=re&&!0&&e&&!e.nodeType&&e,ne=Z&&Z.exports===re;function ve($,me){return $.set(me[0],me[1]),$}function ye($,me){return $.add(me),$}function Ce($,me){for(var Te=-1,at=$?$.length:0;++Te<at&&me($[Te],Te,$)!==!1;);return $}function Oe($,me){for(var Te=-1,at=me.length,Qt=$.length;++Te<at;)$[Qt+Te]=me[Te];return $}function Ie($,me,Te,at){for(var Qt=-1,Ft=$?$.length:0;++Qt<Ft;)Te=me(Te,$[Qt],Qt,$);return Te}function Ue($,me){for(var Te=-1,at=Array($);++Te<$;)at[Te]=me(Te);return at}function He($,me){return $==null?void 0:$[me]}function V($){var me=!1;if($!=null&&typeof $.toString!="function")try{me=!!($+"")}catch{}return me}function Se($){var me=-1,Te=Array($.size);return $.forEach(function(at,Qt){Te[++me]=[Qt,at]}),Te}function se($,me){return function(Te){return $(me(Te))}}function he($){var me=-1,Te=Array($.size);return $.forEach(function(at){Te[++me]=at}),Te}var de=Array.prototype,we=Function.prototype,Le=Object.prototype,Fe=B["__core-js_shared__"],_e=function(){var $=/[^.]+$/.exec(Fe&&Fe.keys&&Fe.keys.IE_PROTO||"");return $?"Symbol(src)_1."+$:""}(),Qe=we.toString,st=Le.hasOwnProperty,nt=Le.toString,De=RegExp("^"+Qe.call(st).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xe=ne?B.Buffer:void 0,ke=B.Symbol,Ne=B.Uint8Array,ut=se(Object.getPrototypeOf,Object),Ze=Object.create,Dt=Le.propertyIsEnumerable,Et=de.splice,$t=Object.getOwnPropertySymbols,It=xe?xe.isBuffer:void 0,Gt=se(Object.keys,Object),Jt=Vi(B,"DataView"),sn=Vi(B,"Map"),Mn=Vi(B,"Promise"),Pn=Vi(B,"Set"),Gr=Vi(B,"WeakMap"),rr=Vi(Object,"create"),Dn=Jr(Jt),Ht=Jr(sn),wn=Jr(Mn),xa=Jr(Pn),vr=Jr(Gr),si=ke?ke.prototype:void 0,va=si?si.valueOf:void 0;function Ot($){var me=-1,Te=$?$.length:0;for(this.clear();++me<Te;){var at=$[me];this.set(at[0],at[1])}}function $n(){this.__data__=rr?rr(null):{}}function ir($){return this.has($)&&delete this.__data__[$]}function Mr($){var me=this.__data__;if(rr){var Te=me[$];return Te===r?void 0:Te}return st.call(me,$)?me[$]:void 0}function cr($){var me=this.__data__;return rr?me[$]!==void 0:st.call(me,$)}function dr($,me){var Te=this.__data__;return Te[$]=rr&&me===void 0?r:me,this}Ot.prototype.clear=$n,Ot.prototype.delete=ir,Ot.prototype.get=Mr,Ot.prototype.has=cr,Ot.prototype.set=dr;function Bn($){var me=-1,Te=$?$.length:0;for(this.clear();++me<Te;){var at=$[me];this.set(at[0],at[1])}}function gs(){this.__data__=[]}function _r($){var me=this.__data__,Te=ys(me,$);if(Te<0)return!1;var at=me.length-1;return Te==at?me.pop():Et.call(me,Te,1),!0}function Oa($){var me=this.__data__,Te=ys(me,$);return Te<0?void 0:me[Te][1]}function Hi($){return ys(this.__data__,$)>-1}function Wi($,me){var Te=this.__data__,at=ys(Te,$);return at<0?Te.push([$,me]):Te[at][1]=me,this}Bn.prototype.clear=gs,Bn.prototype.delete=_r,Bn.prototype.get=Oa,Bn.prototype.has=Hi,Bn.prototype.set=Wi;function Xn($){var me=-1,Te=$?$.length:0;for(this.clear();++me<Te;){var at=$[me];this.set(at[0],at[1])}}function Ei(){this.__data__={hash:new Ot,map:new(sn||Bn),string:new Ot}}function Zn($){return $s(this,$).delete($)}function ro($){return $s(this,$).get($)}function To($){return $s(this,$).has($)}function Ma($,me){return $s(this,$).set($,me),this}Xn.prototype.clear=Ei,Xn.prototype.delete=Zn,Xn.prototype.get=ro,Xn.prototype.has=To,Xn.prototype.set=Ma;function Pr($){this.__data__=new Bn($)}function ol(){this.__data__=new Bn}function $l($){return this.__data__.delete($)}function qu($){return this.__data__.get($)}function Kc($){return this.__data__.has($)}function Bs($,me){var Te=this.__data__;if(Te instanceof Bn){var at=Te.__data__;if(!sn||at.length<t-1)return at.push([$,me]),this;Te=this.__data__=new Xn(at)}return Te.set($,me),this}Pr.prototype.clear=ol,Pr.prototype.delete=$l,Pr.prototype.get=qu,Pr.prototype.has=Kc,Pr.prototype.set=Bs;function bs($,me){var Te=fl($)||so($)?Ue($.length,String):[],at=Te.length,Qt=!!at;for(var Ft in $)st.call($,Ft)&&!(Qt&&(Ft=="length"||cl(Ft,at)))&&Te.push(Ft);return Te}function Pa($,me,Te){var at=$[me];(!(st.call($,me)&&Xt(at,Te))||Te===void 0&&!(me in $))&&($[me]=Te)}function ys($,me){for(var Te=$.length;Te--;)if(Xt($[Te][0],me))return Te;return-1}function es($,me){return $&&Io(me,hl(me),$)}function ts($,me,Te,at,Qt,Ft,kn){var Sn;if(at&&(Sn=Ft?at($,Qt,Ft,kn):at($)),Sn!==void 0)return Sn;if(!Ua($))return $;var hr=fl($);if(hr){if(Sn=Uu($),!me)return Vl($,Sn)}else{var pn=xs($),kr=pn==h||pn==g;if(Do($))return ao($,me);if(pn==x||pn==a||kr&&!Ft){if(V($))return Ft?$:{};if(Sn=za(kr?{}:$),!me)return Us($,es(Sn,$))}else{if(!Y[pn])return Ft?$:{};Sn=Hs($,pn,ts,me)}}kn||(kn=new Pr);var wa=kn.get($);if(wa)return wa;if(kn.set($,Sn),!hr)var wr=Te?Bu($):hl($);return Ce(wr||$,function(Sr,Qr){wr&&(Qr=Sr,Sr=$[Qr]),Pa(Sn,Qr,ts(Sr,me,Te,at,Qr,$,kn))}),Sn}function Hl($){return Ua($)?Ze($):{}}function io($,me,Te){var at=me($);return fl($)?at:Oe(at,Te($))}function Xc($){return nt.call($)}function Fr($){if(!Ua($)||dl($))return!1;var me=Ba($)||V($)?De:ee;return me.test(Jr($))}function ra($){if(!oi($))return Gt($);var me=[];for(var Te in Object($))st.call($,Te)&&Te!="constructor"&&me.push(Te);return me}function ao($,me){if(me)return $.slice();var Te=new $.constructor($.length);return $.copy(Te),Te}function ll($){var me=new $.constructor($.byteLength);return new Ne(me).set(new Ne($)),me}function Fa($,me){var Te=me?ll($.buffer):$.buffer;return new $.constructor(Te,$.byteOffset,$.byteLength)}function Wl($,me,Te){var at=me?Te(Se($),!0):Se($);return Ie(at,ve,new $.constructor)}function ia($){var me=new $.constructor($.source,G.exec($));return me.lastIndex=$.lastIndex,me}function ul($,me,Te){var at=me?Te(he($),!0):he($);return Ie(at,ye,new $.constructor)}function fr($){return va?Object(va.call($)):{}}function Oo($,me){var Te=me?ll($.buffer):$.buffer;return new $.constructor(Te,$.byteOffset,$.length)}function Vl($,me){var Te=-1,at=$.length;for(me||(me=Array(at));++Te<at;)me[Te]=$[Te];return me}function Io($,me,Te,at){Te||(Te={});for(var Qt=-1,Ft=me.length;++Qt<Ft;){var kn=me[Qt],Sn=void 0;Pa(Te,kn,Sn===void 0?$[kn]:Sn)}return Te}function Us($,me){return Io($,ns($),me)}function Bu($){return io($,hl,ns)}function $s($,me){var Te=$.__data__;return Ws(me)?Te[typeof me=="string"?"string":"hash"]:Te.map}function Vi($,me){var Te=He($,me);return Fr(Te)?Te:void 0}var ns=$t?se($t,Object):oo,xs=Xc;(Jt&&xs(new Jt(new ArrayBuffer(1)))!=R||sn&&xs(new sn)!=b||Mn&&xs(Mn.resolve())!=y||Pn&&xs(new Pn)!=w||Gr&&xs(new Gr)!=P)&&(xs=function($){var me=nt.call($),Te=me==x?$.constructor:void 0,at=Te?Jr(Te):void 0;if(at)switch(at){case Dn:return R;case Ht:return b;case wn:return y;case xa:return w;case vr:return P}return me});function Uu($){var me=$.length,Te=$.constructor(me);return me&&typeof $[0]=="string"&&st.call($,"index")&&(Te.index=$.index,Te.input=$.input),Te}function za($){return typeof $.constructor=="function"&&!oi($)?Hl(ut($)):{}}function Hs($,me,Te,at){var Qt=$.constructor;switch(me){case F:return ll($);case l:case c:return new Qt(+$);case R:return Fa($,at);case k:case M:case q:case Q:case T:case O:case L:case j:case X:return Oo($,at);case b:return Wl($,at,Te);case m:case C:return new Qt($);case A:return ia($);case w:return ul($,at,Te);case N:return fr($)}}function cl($,me){return me=me??i,!!me&&(typeof $=="number"||le.test($))&&$>-1&&$%1==0&&$<me}function Ws($){var me=typeof $;return me=="string"||me=="number"||me=="symbol"||me=="boolean"?$!=="__proto__":$===null}function dl($){return!!_e&&_e in $}function oi($){var me=$&&$.constructor,Te=typeof me=="function"&&me.prototype||Le;return $===Te}function Jr($){if($!=null){try{return Qe.call($)}catch{}try{return $+""}catch{}}return""}function vs($){return ts($,!0,!0)}function Xt($,me){return $===me||$!==$&&me!==me}function so($){return qa($)&&st.call($,"callee")&&(!Dt.call($,"callee")||nt.call($)==a)}var fl=Array.isArray;function _i($){return $!=null&&Ia($.length)&&!Ba($)}function qa($){return Lo($)&&_i($)}var Do=It||ws;function Ba($){var me=Ua($)?nt.call($):"";return me==h||me==g}function Ia($){return typeof $=="number"&&$>-1&&$%1==0&&$<=i}function Ua($){var me=typeof $;return!!$&&(me=="object"||me=="function")}function Lo($){return!!$&&typeof $=="object"}function hl($){return _i($)?bs($):ra($)}function oo(){return[]}function ws(){return!1}e.exports=vs}(Q1,Q1.exports)),Q1.exports}var K1={exports:{}};K1.exports;var A8;function T7(){return A8||(A8=1,function(e,n){var t=200,r="__lodash_hash_undefined__",i=1,a=2,s=9007199254740991,l="[object Arguments]",c="[object Array]",d="[object AsyncFunction]",h="[object Boolean]",g="[object Date]",b="[object Error]",m="[object Function]",x="[object GeneratorFunction]",y="[object Map]",A="[object Number]",w="[object Null]",C="[object Object]",N="[object Promise]",P="[object Proxy]",F="[object RegExp]",R="[object Set]",k="[object String]",M="[object Symbol]",q="[object Undefined]",Q="[object WeakMap]",T="[object ArrayBuffer]",O="[object DataView]",L="[object Float32Array]",j="[object Float64Array]",X="[object Int8Array]",H="[object Int16Array]",G="[object Int32Array]",ee="[object Uint8Array]",le="[object Uint8ClampedArray]",Y="[object Uint16Array]",te="[object Uint32Array]",U=/[\\^$.*+?()[\]{}|]/g,B=/^\[object .+?Constructor\]$/,re=/^(?:0|[1-9]\d*)$/,Z={};Z[L]=Z[j]=Z[X]=Z[H]=Z[G]=Z[ee]=Z[le]=Z[Y]=Z[te]=!0,Z[l]=Z[c]=Z[T]=Z[h]=Z[O]=Z[g]=Z[b]=Z[m]=Z[y]=Z[A]=Z[C]=Z[F]=Z[R]=Z[k]=Z[Q]=!1;var ne=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,ve=typeof self=="object"&&self&&self.Object===Object&&self,ye=ne||ve||Function("return this")(),Ce=n&&!n.nodeType&&n,Oe=Ce&&!0&&e&&!e.nodeType&&e,Ie=Oe&&Oe.exports===Ce,Ue=Ie&&ne.process,He=function(){try{return Ue&&Ue.binding&&Ue.binding("util")}catch{}}(),V=He&&He.isTypedArray;function Se($,me){for(var Te=-1,at=$==null?0:$.length,Qt=0,Ft=[];++Te<at;){var kn=$[Te];me(kn,Te,$)&&(Ft[Qt++]=kn)}return Ft}function se($,me){for(var Te=-1,at=me.length,Qt=$.length;++Te<at;)$[Qt+Te]=me[Te];return $}function he($,me){for(var Te=-1,at=$==null?0:$.length;++Te<at;)if(me($[Te],Te,$))return!0;return!1}function de($,me){for(var Te=-1,at=Array($);++Te<$;)at[Te]=me(Te);return at}function we($){return function(me){return $(me)}}function Le($,me){return $.has(me)}function Fe($,me){return $==null?void 0:$[me]}function _e($){var me=-1,Te=Array($.size);return $.forEach(function(at,Qt){Te[++me]=[Qt,at]}),Te}function Qe($,me){return function(Te){return $(me(Te))}}function st($){var me=-1,Te=Array($.size);return $.forEach(function(at){Te[++me]=at}),Te}var nt=Array.prototype,De=Function.prototype,xe=Object.prototype,ke=ye["__core-js_shared__"],Ne=De.toString,ut=xe.hasOwnProperty,Ze=function(){var $=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||"");return $?"Symbol(src)_1."+$:""}(),Dt=xe.toString,Et=RegExp("^"+Ne.call(ut).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$t=Ie?ye.Buffer:void 0,It=ye.Symbol,Gt=ye.Uint8Array,Jt=xe.propertyIsEnumerable,sn=nt.splice,Mn=It?It.toStringTag:void 0,Pn=Object.getOwnPropertySymbols,Gr=$t?$t.isBuffer:void 0,rr=Qe(Object.keys,Object),Dn=ns(ye,"DataView"),Ht=ns(ye,"Map"),wn=ns(ye,"Promise"),xa=ns(ye,"Set"),vr=ns(ye,"WeakMap"),si=ns(Object,"create"),va=Jr(Dn),Ot=Jr(Ht),$n=Jr(wn),ir=Jr(xa),Mr=Jr(vr),cr=It?It.prototype:void 0,dr=cr?cr.valueOf:void 0;function Bn($){var me=-1,Te=$==null?0:$.length;for(this.clear();++me<Te;){var at=$[me];this.set(at[0],at[1])}}function gs(){this.__data__=si?si(null):{},this.size=0}function _r($){var me=this.has($)&&delete this.__data__[$];return this.size-=me?1:0,me}function Oa($){var me=this.__data__;if(si){var Te=me[$];return Te===r?void 0:Te}return ut.call(me,$)?me[$]:void 0}function Hi($){var me=this.__data__;return si?me[$]!==void 0:ut.call(me,$)}function Wi($,me){var Te=this.__data__;return this.size+=this.has($)?0:1,Te[$]=si&&me===void 0?r:me,this}Bn.prototype.clear=gs,Bn.prototype.delete=_r,Bn.prototype.get=Oa,Bn.prototype.has=Hi,Bn.prototype.set=Wi;function Xn($){var me=-1,Te=$==null?0:$.length;for(this.clear();++me<Te;){var at=$[me];this.set(at[0],at[1])}}function Ei(){this.__data__=[],this.size=0}function Zn($){var me=this.__data__,Te=ao(me,$);if(Te<0)return!1;var at=me.length-1;return Te==at?me.pop():sn.call(me,Te,1),--this.size,!0}function ro($){var me=this.__data__,Te=ao(me,$);return Te<0?void 0:me[Te][1]}function To($){return ao(this.__data__,$)>-1}function Ma($,me){var Te=this.__data__,at=ao(Te,$);return at<0?(++this.size,Te.push([$,me])):Te[at][1]=me,this}Xn.prototype.clear=Ei,Xn.prototype.delete=Zn,Xn.prototype.get=ro,Xn.prototype.has=To,Xn.prototype.set=Ma;function Pr($){var me=-1,Te=$==null?0:$.length;for(this.clear();++me<Te;){var at=$[me];this.set(at[0],at[1])}}function ol(){this.size=0,this.__data__={hash:new Bn,map:new(Ht||Xn),string:new Bn}}function $l($){var me=Vi(this,$).delete($);return this.size-=me?1:0,me}function qu($){return Vi(this,$).get($)}function Kc($){return Vi(this,$).has($)}function Bs($,me){var Te=Vi(this,$),at=Te.size;return Te.set($,me),this.size+=Te.size==at?0:1,this}Pr.prototype.clear=ol,Pr.prototype.delete=$l,Pr.prototype.get=qu,Pr.prototype.has=Kc,Pr.prototype.set=Bs;function bs($){var me=-1,Te=$==null?0:$.length;for(this.__data__=new Pr;++me<Te;)this.add($[me])}function Pa($){return this.__data__.set($,r),this}function ys($){return this.__data__.has($)}bs.prototype.add=bs.prototype.push=Pa,bs.prototype.has=ys;function es($){var me=this.__data__=new Xn($);this.size=me.size}function ts(){this.__data__=new Xn,this.size=0}function Hl($){var me=this.__data__,Te=me.delete($);return this.size=me.size,Te}function io($){return this.__data__.get($)}function Xc($){return this.__data__.has($)}function Fr($,me){var Te=this.__data__;if(Te instanceof Xn){var at=Te.__data__;if(!Ht||at.length<t-1)return at.push([$,me]),this.size=++Te.size,this;Te=this.__data__=new Pr(at)}return Te.set($,me),this.size=Te.size,this}es.prototype.clear=ts,es.prototype.delete=Hl,es.prototype.get=io,es.prototype.has=Xc,es.prototype.set=Fr;function ra($,me){var Te=so($),at=!Te&&Xt($),Qt=!Te&&!at&&_i($),Ft=!Te&&!at&&!Qt&&Lo($),kn=Te||at||Qt||Ft,Sn=kn?de($.length,String):[],hr=Sn.length;for(var pn in $)ut.call($,pn)&&!(kn&&(pn=="length"||Qt&&(pn=="offset"||pn=="parent")||Ft&&(pn=="buffer"||pn=="byteLength"||pn=="byteOffset")||Hs(pn,hr)))&&Sn.push(pn);return Sn}function ao($,me){for(var Te=$.length;Te--;)if(vs($[Te][0],me))return Te;return-1}function ll($,me,Te){var at=me($);return so($)?at:se(at,Te($))}function Fa($){return $==null?$===void 0?q:w:Mn&&Mn in Object($)?xs($):oi($)}function Wl($){return Ua($)&&Fa($)==l}function ia($,me,Te,at,Qt){return $===me?!0:$==null||me==null||!Ua($)&&!Ua(me)?$!==$&&me!==me:ul($,me,Te,at,ia,Qt)}function ul($,me,Te,at,Qt,Ft){var kn=so($),Sn=so(me),hr=kn?c:za($),pn=Sn?c:za(me);hr=hr==l?C:hr,pn=pn==l?C:pn;var kr=hr==C,wa=pn==C,wr=hr==pn;if(wr&&_i($)){if(!_i(me))return!1;kn=!0,kr=!1}if(wr&&!kr)return Ft||(Ft=new es),kn||Lo($)?Io($,me,Te,at,Qt,Ft):Us($,me,hr,Te,at,Qt,Ft);if(!(Te&i)){var Sr=kr&&ut.call($,"__wrapped__"),Qr=wa&&ut.call(me,"__wrapped__");if(Sr||Qr){var $a=Sr?$.value():$,Vs=Qr?me.value():me;return Ft||(Ft=new es),Qt($a,Vs,Te,at,Ft)}}return wr?(Ft||(Ft=new es),Bu($,me,Te,at,Qt,Ft)):!1}function fr($){if(!Ia($)||Ws($))return!1;var me=Do($)?Et:B;return me.test(Jr($))}function Oo($){return Ua($)&&Ba($.length)&&!!Z[Fa($)]}function Vl($){if(!dl($))return rr($);var me=[];for(var Te in Object($))ut.call($,Te)&&Te!="constructor"&&me.push(Te);return me}function Io($,me,Te,at,Qt,Ft){var kn=Te&i,Sn=$.length,hr=me.length;if(Sn!=hr&&!(kn&&hr>Sn))return!1;var pn=Ft.get($);if(pn&&Ft.get(me))return pn==me;var kr=-1,wa=!0,wr=Te&a?new bs:void 0;for(Ft.set($,me),Ft.set(me,$);++kr<Sn;){var Sr=$[kr],Qr=me[kr];if(at)var $a=kn?at(Qr,Sr,kr,me,$,Ft):at(Sr,Qr,kr,$,me,Ft);if($a!==void 0){if($a)continue;wa=!1;break}if(wr){if(!he(me,function(Vs,Ss){if(!Le(wr,Ss)&&(Sr===Vs||Qt(Sr,Vs,Te,at,Ft)))return wr.push(Ss)})){wa=!1;break}}else if(!(Sr===Qr||Qt(Sr,Qr,Te,at,Ft))){wa=!1;break}}return Ft.delete($),Ft.delete(me),wa}function Us($,me,Te,at,Qt,Ft,kn){switch(Te){case O:if($.byteLength!=me.byteLength||$.byteOffset!=me.byteOffset)return!1;$=$.buffer,me=me.buffer;case T:return!($.byteLength!=me.byteLength||!Ft(new Gt($),new Gt(me)));case h:case g:case A:return vs(+$,+me);case b:return $.name==me.name&&$.message==me.message;case F:case k:return $==me+"";case y:var Sn=_e;case R:var hr=at&i;if(Sn||(Sn=st),$.size!=me.size&&!hr)return!1;var pn=kn.get($);if(pn)return pn==me;at|=a,kn.set($,me);var kr=Io(Sn($),Sn(me),at,Qt,Ft,kn);return kn.delete($),kr;case M:if(dr)return dr.call($)==dr.call(me)}return!1}function Bu($,me,Te,at,Qt,Ft){var kn=Te&i,Sn=$s($),hr=Sn.length,pn=$s(me),kr=pn.length;if(hr!=kr&&!kn)return!1;for(var wa=hr;wa--;){var wr=Sn[wa];if(!(kn?wr in me:ut.call(me,wr)))return!1}var Sr=Ft.get($);if(Sr&&Ft.get(me))return Sr==me;var Qr=!0;Ft.set($,me),Ft.set(me,$);for(var $a=kn;++wa<hr;){wr=Sn[wa];var Vs=$[wr],Ss=me[wr];if(at)var Yd=kn?at(Ss,Vs,wr,me,$,Ft):at(Vs,Ss,wr,$,me,Ft);if(!(Yd===void 0?Vs===Ss||Qt(Vs,Ss,Te,at,Ft):Yd)){Qr=!1;break}$a||($a=wr=="constructor")}if(Qr&&!$a){var pl=$.constructor,Ro=me.constructor;pl!=Ro&&"constructor"in $&&"constructor"in me&&!(typeof pl=="function"&&pl instanceof pl&&typeof Ro=="function"&&Ro instanceof Ro)&&(Qr=!1)}return Ft.delete($),Ft.delete(me),Qr}function $s($){return ll($,hl,Uu)}function Vi($,me){var Te=$.__data__;return cl(me)?Te[typeof me=="string"?"string":"hash"]:Te.map}function ns($,me){var Te=Fe($,me);return fr(Te)?Te:void 0}function xs($){var me=ut.call($,Mn),Te=$[Mn];try{$[Mn]=void 0;var at=!0}catch{}var Qt=Dt.call($);return at&&(me?$[Mn]=Te:delete $[Mn]),Qt}var Uu=Pn?function($){return $==null?[]:($=Object($),Se(Pn($),function(me){return Jt.call($,me)}))}:oo,za=Fa;(Dn&&za(new Dn(new ArrayBuffer(1)))!=O||Ht&&za(new Ht)!=y||wn&&za(wn.resolve())!=N||xa&&za(new xa)!=R||vr&&za(new vr)!=Q)&&(za=function($){var me=Fa($),Te=me==C?$.constructor:void 0,at=Te?Jr(Te):"";if(at)switch(at){case va:return O;case Ot:return y;case $n:return N;case ir:return R;case Mr:return Q}return me});function Hs($,me){return me=me??s,!!me&&(typeof $=="number"||re.test($))&&$>-1&&$%1==0&&$<me}function cl($){var me=typeof $;return me=="string"||me=="number"||me=="symbol"||me=="boolean"?$!=="__proto__":$===null}function Ws($){return!!Ze&&Ze in $}function dl($){var me=$&&$.constructor,Te=typeof me=="function"&&me.prototype||xe;return $===Te}function oi($){return Dt.call($)}function Jr($){if($!=null){try{return Ne.call($)}catch{}try{return $+""}catch{}}return""}function vs($,me){return $===me||$!==$&&me!==me}var Xt=Wl(function(){return arguments}())?Wl:function($){return Ua($)&&ut.call($,"callee")&&!Jt.call($,"callee")},so=Array.isArray;function fl($){return $!=null&&Ba($.length)&&!Do($)}var _i=Gr||ws;function qa($,me){return ia($,me)}function Do($){if(!Ia($))return!1;var me=Fa($);return me==m||me==x||me==d||me==P}function Ba($){return typeof $=="number"&&$>-1&&$%1==0&&$<=s}function Ia($){var me=typeof $;return $!=null&&(me=="object"||me=="function")}function Ua($){return $!=null&&typeof $=="object"}var Lo=V?we(V):Oo;function hl($){return fl($)?ra($):Vl($)}function oo(){return[]}function ws(){return!1}e.exports=qa}(K1,K1.exports)),K1.exports}var Ay={},C8;function qU(){if(C8)return Ay;C8=1,Object.defineProperty(Ay,"__esModule",{value:!0});const e=j7(),n=T7();var t;return function(r){function i(c={},d={},h=!1){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});let g=e(d);h||(g=Object.keys(g).reduce((b,m)=>(g[m]!=null&&(b[m]=g[m]),b),{}));for(const b in c)c[b]!==void 0&&d[b]===void 0&&(g[b]=c[b]);return Object.keys(g).length>0?g:void 0}r.compose=i;function a(c={},d={}){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});const h=Object.keys(c).concat(Object.keys(d)).reduce((g,b)=>(n(c[b],d[b])||(g[b]=d[b]===void 0?null:d[b]),g),{});return Object.keys(h).length>0?h:void 0}r.diff=a;function s(c={},d={}){c=c||{};const h=Object.keys(d).reduce((g,b)=>(d[b]!==c[b]&&c[b]!==void 0&&(g[b]=d[b]),g),{});return Object.keys(c).reduce((g,b)=>(c[b]!==d[b]&&d[b]===void 0&&(g[b]=null),g),h)}r.invert=s;function l(c,d,h=!1){if(typeof c!="object")return d;if(typeof d!="object")return;if(!h)return d;const g=Object.keys(d).reduce((b,m)=>(c[m]===void 0&&(b[m]=d[m]),b),{});return Object.keys(g).length>0?g:void 0}r.transform=l}(t||(t={})),Ay.default=t,Ay}var Cy={},E8;function O7(){if(E8)return Cy;E8=1,Object.defineProperty(Cy,"__esModule",{value:!0});var e;return function(n){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}n.length=t}(e||(e={})),Cy.default=e,Cy}var Ey={},_8;function BU(){if(_8)return Ey;_8=1,Object.defineProperty(Ey,"__esModule",{value:!0});const e=O7();class n{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const i=this.ops[this.index];if(i){const a=this.offset,s=e.default.length(i);if(r>=s-a?(r=s-a,this.index+=1,this.offset=0):this.offset+=r,typeof i.delete=="number")return{delete:r};{const l={};return i.attributes&&(l.attributes=i.attributes),typeof i.retain=="number"?l.retain=r:typeof i.retain=="object"&&i.retain!==null?l.retain=i.retain:typeof i.insert=="string"?l.insert=i.insert.substr(a,r):l.insert=i.insert,l}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,i=this.index,a=this.next(),s=this.ops.slice(this.index);return this.offset=r,this.index=i,[a].concat(s)}}else return[]}}return Ey.default=n,Ey}var k8;function UU(){return k8||(k8=1,function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AttributeMap=n.OpIterator=n.Op=void 0;const t=zU(),r=j7(),i=T7(),a=qU();n.AttributeMap=a.default;const s=O7();n.Op=s.default;const l=BU();n.OpIterator=l.default;const c="\0",d=(g,b)=>{if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);if(typeof b!="object"||b===null)throw new Error(`cannot retain a ${typeof b}`);const m=Object.keys(g)[0];if(!m||m!==Object.keys(b)[0])throw new Error(`embed types not matched: ${m} != ${Object.keys(b)[0]}`);return[m,g[m],b[m]]};class h{constructor(b){Array.isArray(b)?this.ops=b:b!=null&&Array.isArray(b.ops)?this.ops=b.ops:this.ops=[]}static registerEmbed(b,m){this.handlers[b]=m}static unregisterEmbed(b){delete this.handlers[b]}static getHandler(b){const m=this.handlers[b];if(!m)throw new Error(`no handlers for embed type "${b}"`);return m}insert(b,m){const x={};return typeof b=="string"&&b.length===0?this:(x.insert=b,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(x.attributes=m),this.push(x))}delete(b){return b<=0?this:this.push({delete:b})}retain(b,m){if(typeof b=="number"&&b<=0)return this;const x={retain:b};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(x.attributes=m),this.push(x)}push(b){let m=this.ops.length,x=this.ops[m-1];if(b=r(b),typeof x=="object"){if(typeof b.delete=="number"&&typeof x.delete=="number")return this.ops[m-1]={delete:x.delete+b.delete},this;if(typeof x.delete=="number"&&b.insert!=null&&(m-=1,x=this.ops[m-1],typeof x!="object"))return this.ops.unshift(b),this;if(i(b.attributes,x.attributes)){if(typeof b.insert=="string"&&typeof x.insert=="string")return this.ops[m-1]={insert:x.insert+b.insert},typeof b.attributes=="object"&&(this.ops[m-1].attributes=b.attributes),this;if(typeof b.retain=="number"&&typeof x.retain=="number")return this.ops[m-1]={retain:x.retain+b.retain},typeof b.attributes=="object"&&(this.ops[m-1].attributes=b.attributes),this}}return m===this.ops.length?this.ops.push(b):this.ops.splice(m,0,b),this}chop(){const b=this.ops[this.ops.length-1];return b&&typeof b.retain=="number"&&!b.attributes&&this.ops.pop(),this}filter(b){return this.ops.filter(b)}forEach(b){this.ops.forEach(b)}map(b){return this.ops.map(b)}partition(b){const m=[],x=[];return this.forEach(y=>{(b(y)?m:x).push(y)}),[m,x]}reduce(b,m){return this.ops.reduce(b,m)}changeLength(){return this.reduce((b,m)=>m.insert?b+s.default.length(m):m.delete?b-m.delete:b,0)}length(){return this.reduce((b,m)=>b+s.default.length(m),0)}slice(b=0,m=1/0){const x=[],y=new l.default(this.ops);let A=0;for(;A<m&&y.hasNext();){let w;A<b?w=y.next(b-A):(w=y.next(m-A),x.push(w)),A+=s.default.length(w)}return new h(x)}compose(b){const m=new l.default(this.ops),x=new l.default(b.ops),y=[],A=x.peek();if(A!=null&&typeof A.retain=="number"&&A.attributes==null){let C=A.retain;for(;m.peekType()==="insert"&&m.peekLength()<=C;)C-=m.peekLength(),y.push(m.next());A.retain-C>0&&x.next(A.retain-C)}const w=new h(y);for(;m.hasNext()||x.hasNext();)if(x.peekType()==="insert")w.push(x.next());else if(m.peekType()==="delete")w.push(m.next());else{const C=Math.min(m.peekLength(),x.peekLength()),N=m.next(C),P=x.next(C);if(P.retain){const F={};if(typeof N.retain=="number")F.retain=typeof P.retain=="number"?C:P.retain;else if(typeof P.retain=="number")N.retain==null?F.insert=N.insert:F.retain=N.retain;else{const k=N.retain==null?"insert":"retain",[M,q,Q]=d(N[k],P.retain),T=h.getHandler(M);F[k]={[M]:T.compose(q,Q,k==="retain")}}const R=a.default.compose(N.attributes,P.attributes,typeof N.retain=="number");if(R&&(F.attributes=R),w.push(F),!x.hasNext()&&i(w.ops[w.ops.length-1],F)){const k=new h(m.rest());return w.concat(k).chop()}}else typeof P.delete=="number"&&(typeof N.retain=="number"||typeof N.retain=="object"&&N.retain!==null)&&w.push(P)}return w.chop()}concat(b){const m=new h(this.ops.slice());return b.ops.length>0&&(m.push(b.ops[0]),m.ops=m.ops.concat(b.ops.slice(1))),m}diff(b,m){if(this.ops===b.ops)return new h;const x=[this,b].map(N=>N.map(P=>{if(P.insert!=null)return typeof P.insert=="string"?P.insert:c;const F=N===b?"on":"with";throw new Error("diff() called "+F+" non-document")}).join("")),y=new h,A=t(x[0],x[1],m,!0),w=new l.default(this.ops),C=new l.default(b.ops);return A.forEach(N=>{let P=N[1].length;for(;P>0;){let F=0;switch(N[0]){case t.INSERT:F=Math.min(C.peekLength(),P),y.push(C.next(F));break;case t.DELETE:F=Math.min(P,w.peekLength()),w.next(F),y.delete(F);break;case t.EQUAL:F=Math.min(w.peekLength(),C.peekLength(),P);const R=w.next(F),k=C.next(F);i(R.insert,k.insert)?y.retain(F,a.default.diff(R.attributes,k.attributes)):y.push(k).delete(F);break}P-=F}}),y.chop()}eachLine(b,m=`
`){const x=new l.default(this.ops);let y=new h,A=0;for(;x.hasNext();){if(x.peekType()!=="insert")return;const w=x.peek(),C=s.default.length(w)-x.peekLength(),N=typeof w.insert=="string"?w.insert.indexOf(m,C)-C:-1;if(N<0)y.push(x.next());else if(N>0)y.push(x.next(N));else{if(b(y,x.next(1).attributes||{},A)===!1)return;A+=1,y=new h}}y.length()>0&&b(y,{},A)}invert(b){const m=new h;return this.reduce((x,y)=>{if(y.insert)m.delete(s.default.length(y));else{if(typeof y.retain=="number"&&y.attributes==null)return m.retain(y.retain),x+y.retain;if(y.delete||typeof y.retain=="number"){const A=y.delete||y.retain;return b.slice(x,x+A).forEach(C=>{y.delete?m.push(C):y.retain&&y.attributes&&m.retain(s.default.length(C),a.default.invert(y.attributes,C.attributes))}),x+A}else if(typeof y.retain=="object"&&y.retain!==null){const A=b.slice(x,x+1),w=new l.default(A.ops).next(),[C,N,P]=d(y.retain,w.insert),F=h.getHandler(C);return m.retain({[C]:F.invert(N,P)},a.default.invert(y.attributes,w.attributes)),x+1}}return x},0),m.chop()}transform(b,m=!1){if(m=!!m,typeof b=="number")return this.transformPosition(b,m);const x=b,y=new l.default(this.ops),A=new l.default(x.ops),w=new h;for(;y.hasNext()||A.hasNext();)if(y.peekType()==="insert"&&(m||A.peekType()!=="insert"))w.retain(s.default.length(y.next()));else if(A.peekType()==="insert")w.push(A.next());else{const C=Math.min(y.peekLength(),A.peekLength()),N=y.next(C),P=A.next(C);if(N.delete)continue;if(P.delete)w.push(P);else{const F=N.retain,R=P.retain;let k=typeof R=="object"&&R!==null?R:C;if(typeof F=="object"&&F!==null&&typeof R=="object"&&R!==null){const M=Object.keys(F)[0];if(M===Object.keys(R)[0]){const q=h.getHandler(M);q&&(k={[M]:q.transform(F[M],R[M],m)})}}w.retain(k,a.default.transform(N.attributes,P.attributes,m))}}return w.chop()}transformPosition(b,m=!1){m=!!m;const x=new l.default(this.ops);let y=0;for(;x.hasNext()&&y<=b;){const A=x.peekLength(),w=x.peekType();if(x.next(),w==="delete"){b-=Math.min(A,b-y);continue}else w==="insert"&&(y<b||!m)&&(b+=A);y+=A}return b}}h.Op=s.default,h.OpIterator=l.default,h.AttributeMap=a.default,h.handlers={},n.default=h,e.exports=h,e.exports.default=h}(Sy,Sy.exports)),Sy.exports}var Ml=UU();const Bt=$i(Ml);class Lu extends sl{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Lu.blotName="break";Lu.tagName="BR";let ku=class extends Dx{};const $U={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function yv(e){return e.replace(/[&<>"']/g,n=>$U[n])}const bc=class bc extends B6{static compare(n,t){const r=bc.order.indexOf(n),i=bc.order.indexOf(t);return r>=0||i>=0?r-i:n===t?0:n<t?-1:1}formatAt(n,t,r,i){if(bc.compare(this.statics.blotName,r)<0&&this.scroll.query(r,Ut.BLOT)){const a=this.isolate(n,t);i&&a.wrap(r,i)}else super.formatAt(n,t,r,i)}optimize(n){if(super.optimize(n),this.parent instanceof bc&&bc.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}};Xe(bc,"allowedChildren",[bc,Lu,sl,ku]),Xe(bc,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Hc=bc;const N8=1;class ps extends Sg{constructor(){super(...arguments);Xe(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=I7(this)),this.cache.delta}deleteAt(t,r){super.deleteAt(t,r),this.cache={}}formatAt(t,r,i,a){r<=0||(this.scroll.query(i,Ut.BLOCK)?t+r===this.length()&&this.format(i,a):super.formatAt(t,Math.min(r,this.length()-t-1),i,a),this.cache={})}insertAt(t,r,i){if(i!=null){super.insertAt(t,r,i),this.cache={};return}if(r.length===0)return;const a=r.split(`
`),s=a.shift();s.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});let l=this;a.reduce((c,d)=>(l=l.split(c,!0),l.insertAt(0,d),d.length),t+s.length)}insertBefore(t,r){const{head:i}=this.children;super.insertBefore(t,r),i instanceof Lu&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+N8),this.cache.length}moveChildren(t,r){super.moveChildren(t,r),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(t===0||t>=this.length()-N8)){const a=this.clone();return t===0?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}const i=super.split(t,r);return this.cache={},i}}ps.blotName="block";ps.tagName="P";ps.defaultChild=Lu;ps.allowedChildren=[Lu,Hc,sl,ku];class Rl extends sl{attach(){super.attach(),this.attributes=new gv(this.domNode)}delta(){return new Bt().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(n,t){const r=this.scroll.query(n,Ut.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(n,t,r,i){this.format(r,i)}insertAt(n,t,r){if(r!=null){super.insertAt(n,t,r);return}const i=t.split(`
`),a=i.pop(),s=i.map(c=>{const d=this.scroll.create(ps.blotName);return d.insertAt(0,c),d}),l=this.split(n);s.forEach(c=>{this.parent.insertBefore(c,l)}),a&&this.parent.insertBefore(this.scroll.create("text",a),l)}}Rl.scope=Ut.BLOCK_BLOT;function I7(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.descendants(Rs).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),jl(r,{},n)),new Bt).insert(`
`,jl(e))}function jl(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return e==null||("formats"in e&&typeof e.formats=="function"&&(n={...n,...e.formats()},t&&delete n["code-token"]),e.parent==null||e.parent.statics.blotName==="scroll"||e.parent.statics.scope!==e.statics.scope)?n:jl(e.parent,n,t)}const _l=class _l extends sl{static value(){}constructor(n,t,r){super(n,t),this.selection=r,this.textNode=document.createTextNode(_l.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(n,t){if(this.savedLength!==0){super.format(n,t);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==Ut.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=_l.CONTENTS.length,r.optimize(),r.formatAt(i,_l.CONTENTS.length,n,t),this.savedLength=0)}index(n,t){return n===this.textNode?0:super.index(n,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const n=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof ku?this.prev:null,r=t?t.length():0,i=this.next instanceof ku?this.next:null,a=i?i.text:"",{textNode:s}=this,l=s.data.split(_l.CONTENTS).join("");s.data=_l.CONTENTS;let c;if(t)c=t,(l||i)&&(t.insertAt(t.length(),l+a),i&&i.remove());else if(i)c=i,i.insertAt(0,l);else{const d=document.createTextNode(l);c=this.scroll.create(d),this.parent.insertBefore(c,this)}if(this.remove(),n){const d=(b,m)=>t&&b===t.domNode?m:b===s?r+m-1:i&&b===i.domNode?r+l.length+m:null,h=d(n.start.node,n.start.offset),g=d(n.end.node,n.end.offset);if(h!==null&&g!==null)return{startNode:c.domNode,startOffset:h,endNode:c.domNode,endOffset:g}}return null}update(n,t){if(n.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(n){super.optimize(n);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=_l.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}};Xe(_l,"blotName","cursor"),Xe(_l,"className","ql-cursor"),Xe(_l,"tagName","span"),Xe(_l,"CONTENTS","\uFEFF");let J0=_l;var q5={exports:{}},j8;function HU(){return j8||(j8=1,function(e){var n=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function a(c,d,h,g,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new i(h,g||c,b),x=t?t+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function s(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,g;if(this._eventsCount===0)return d;for(g in h=this._events)n.call(h,g)&&d.push(t?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=t?t+d:d,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,m=g.length,x=new Array(m);b<m;b++)x[b]=g[b].fn;return x},l.prototype.listenerCount=function(d){var h=t?t+d:d,g=this._events[h];return g?g.fn?1:g.length:0},l.prototype.emit=function(d,h,g,b,m,x){var y=t?t+d:d;if(!this._events[y])return!1;var A=this._events[y],w=arguments.length,C,N;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),w){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,h),!0;case 3:return A.fn.call(A.context,h,g),!0;case 4:return A.fn.call(A.context,h,g,b),!0;case 5:return A.fn.call(A.context,h,g,b,m),!0;case 6:return A.fn.call(A.context,h,g,b,m,x),!0}for(N=1,C=new Array(w-1);N<w;N++)C[N-1]=arguments[N];A.fn.apply(A.context,C)}else{var P=A.length,F;for(N=0;N<P;N++)switch(A[N].once&&this.removeListener(d,A[N].fn,void 0,!0),w){case 1:A[N].fn.call(A[N].context);break;case 2:A[N].fn.call(A[N].context,h);break;case 3:A[N].fn.call(A[N].context,h,g);break;case 4:A[N].fn.call(A[N].context,h,g,b);break;default:if(!C)for(F=1,C=new Array(w-1);F<w;F++)C[F-1]=arguments[F];A[N].fn.apply(A[N].context,C)}}return!0},l.prototype.on=function(d,h,g){return a(this,d,h,g,!1)},l.prototype.once=function(d,h,g){return a(this,d,h,g,!0)},l.prototype.removeListener=function(d,h,g,b){var m=t?t+d:d;if(!this._events[m])return this;if(!h)return s(this,m),this;var x=this._events[m];if(x.fn)x.fn===h&&(!b||x.once)&&(!g||x.context===g)&&s(this,m);else{for(var y=0,A=[],w=x.length;y<w;y++)(x[y].fn!==h||b&&!x[y].once||g&&x[y].context!==g)&&A.push(x[y]);A.length?this._events[m]=A.length===1?A[0]:A:s(this,m)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=t?t+d:d,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,e.exports=l}(q5)),q5.exports}var WU=HU();const VU=$i(WU),pS=new WeakMap,mS=["error","warn","log","info"];let gS="warn";function D7(e){if(gS&&mS.indexOf(e)<=mS.indexOf(gS)){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];console[e](...t)}}function Hd(e){return mS.reduce((n,t)=>(n[t]=D7.bind(console,t,e),n),{})}Hd.level=e=>{gS=e};D7.level=Hd.level;const B5=Hd("quill:events"),YU=["selectionchange","mousedown","mouseup","click"];YU.forEach(e=>{document.addEventListener(e,function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const a=pS.get(i);a&&a.emitter&&a.emitter.handleDOM(...t)})})});class Rt extends VU{constructor(){super(),this.domListeners={},this.on("error",B5.error)}emit(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return B5.log.call(B5,...t),super.emit(...t)}handleDOM(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];(this.domListeners[n.type]||[]).forEach(a=>{let{node:s,handler:l}=a;(n.target===s||s.contains(n.target))&&l(n,...r)})}listenDOM(n,t,r){this.domListeners[n]||(this.domListeners[n]=[]),this.domListeners[n].push({node:t,handler:r})}}Xe(Rt,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),Xe(Rt,"sources",{API:"api",SILENT:"silent",USER:"user"});const U5=Hd("quill:selection");class cp{constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=n,this.length=t}}class GU{constructor(n,t){this.emitter=t,this.scroll=n,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new cp(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Rt.sources.USER),1)}),this.emitter.on(Rt.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(Rt.events.SCROLL_UPDATE,(i,a)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const s=a.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(s?Rt.sources.SILENT:i)}catch{}})}),this.emitter.on(Rt.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:a,startOffset:s,endNode:l,endOffset:c}=i.range;this.setNativeRange(a,s,l,c),this.update(Rt.sources.SILENT)}}),this.update(Rt.sources.SILENT)}handleComposition(){this.emitter.on(Rt.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Rt.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const n=this.cursor.restore();if(!n)return;setTimeout(()=>{this.setNativeRange(n.startNode,n.startOffset,n.endNode,n.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Rt.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(n,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(n,Ut.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof Rs){const a=i.split(r.start.offset);i.parent.insertBefore(this.cursor,a)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(n,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();n=Math.min(n,r-1),t=Math.min(n+t,r-1)-n;let i,[a,s]=this.scroll.leaf(n);if(a==null)return null;if(t>0&&s===a.length()){const[h]=this.scroll.leaf(n+1);if(h){const[g]=this.scroll.line(n),[b]=this.scroll.line(n+1);g===b&&(a=h,s=0)}}[i,s]=a.position(s,!0);const l=document.createRange();if(t>0)return l.setStart(i,s),[a,s]=this.scroll.leaf(n+t),a==null?null:([i,s]=a.position(s,!0),l.setEnd(i,s),l.getBoundingClientRect());let c="left",d;if(i instanceof Text){if(!i.data.length)return null;s<i.data.length?(l.setStart(i,s),l.setEnd(i,s+1)):(l.setStart(i,s-1),l.setEnd(i,s),c="right"),d=l.getBoundingClientRect()}else{if(!(a.domNode instanceof Element))return null;d=a.domNode.getBoundingClientRect(),s>0&&(c="right")}return{bottom:d.top+d.height,height:d.height,left:d[c],right:d[c],top:d.top,width:0}}getNativeRange(){const n=document.getSelection();if(n==null||n.rangeCount<=0)return null;const t=n.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return U5.info("getNativeRange",r),r}getRange(){const n=this.scroll.domNode;if("isConnected"in n&&!n.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&$5(this.root,document.activeElement)}normalizedToRange(n){const t=[[n.start.node,n.start.offset]];n.native.collapsed||t.push([n.end.node,n.end.offset]);const r=t.map(s=>{const[l,c]=s,d=this.scroll.find(l,!0),h=d.offset(this.scroll);return c===0?h:d instanceof Rs?h+d.index(l,c):h+d.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),a=Math.min(i,...r);return new cp(a,i-a)}normalizeNative(n){if(!$5(this.root,n.startContainer)||!n.collapsed&&!$5(this.root,n.endContainer))return null;const t={start:{node:n.startContainer,offset:n.startOffset},end:{node:n.endContainer,offset:n.endOffset},native:n};return[t.start,t.end].forEach(r=>{let{node:i,offset:a}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>a)i=i.childNodes[a],a=0;else if(i.childNodes.length===a)i=i.lastChild,i instanceof Text?a=i.data.length:i.childNodes.length>0?a=i.childNodes.length:a=i.childNodes.length+1;else break;r.node=i,r.offset=a}),t}rangeToNative(n){const t=this.scroll.length(),r=(i,a)=>{i=Math.min(t-1,i);const[s,l]=this.scroll.leaf(i);return s?s.position(l,a):[null,-1]};return[...r(n.index,!1),...r(n.index+n.length,!0)]}setNativeRange(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(U5.info("setNativeRange",n,t,r,i),n!=null&&(this.root.parentNode==null||n.parentNode==null||r.parentNode==null))return;const s=document.getSelection();if(s!=null)if(n!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||a||n!==l.startContainer||t!==l.startOffset||r!==l.endContainer||i!==l.endOffset){n instanceof Element&&n.tagName==="BR"&&(t=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const c=document.createRange();c.setStart(n,t),c.setEnd(r,i),s.removeAllRanges(),s.addRange(c)}}else s.removeAllRanges(),this.root.blur()}setRange(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rt.sources.API;if(typeof t=="string"&&(r=t,t=!1),U5.info("setRange",n),n!=null){const i=this.rangeToNative(n);this.setNativeRange(...i,t)}else this.setNativeRange(null);this.update(r)}update(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Rt.sources.USER;const t=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!Rf(t,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const s=this.cursor.restore();s&&this.setNativeRange(s.startNode,s.startOffset,s.endNode,s.endOffset)}const a=[Rt.events.SELECTION_CHANGE,I0(this.lastRange),I0(t),n];this.emitter.emit(Rt.events.EDITOR_CHANGE,...a),n!==Rt.sources.SILENT&&this.emitter.emit(...a)}}}function $5(e,n){try{n.parentNode}catch{return!1}return e.contains(n)}const QU=/^[ -~]*$/;class KU{constructor(n){this.scroll=n,this.delta=this.getDelta()}applyDelta(n){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=T8(n),i=new Bt;return ZU(r.ops.slice()).reduce((s,l)=>{const c=Ml.Op.length(l);let d=l.attributes||{},h=!1,g=!1;if(l.insert!=null){if(i.retain(c),typeof l.insert=="string"){const x=l.insert;g=!x.endsWith(`
`)&&(t<=s||!!this.scroll.descendant(Rl,s)[0]),this.scroll.insertAt(s,x);const[y,A]=this.scroll.line(s);let w=Qf({},jl(y));if(y instanceof ps){const[C]=y.descendant(Rs,A);C&&(w=Qf(w,jl(C)))}d=Ml.AttributeMap.diff(w,d)||{}}else if(typeof l.insert=="object"){const x=Object.keys(l.insert)[0];if(x==null)return s;const y=this.scroll.query(x,Ut.INLINE)!=null;if(y)(t<=s||this.scroll.descendant(Rl,s)[0])&&(g=!0);else if(s>0){const[A,w]=this.scroll.descendant(Rs,s-1);A instanceof ku?A.value()[w]!==`
`&&(h=!0):A instanceof sl&&A.statics.scope===Ut.INLINE_BLOT&&(h=!0)}if(this.scroll.insertAt(s,x,l.insert[x]),y){const[A]=this.scroll.descendant(Rs,s);if(A){const w=Qf({},jl(A));d=Ml.AttributeMap.diff(w,d)||{}}}}t+=c}else if(i.push(l),l.retain!==null&&typeof l.retain=="object"){const x=Object.keys(l.retain)[0];if(x==null)return s;this.scroll.updateEmbedAt(s,x,l.retain[x])}Object.keys(d).forEach(x=>{this.scroll.formatAt(s,c,x,d[x])});const b=h?1:0,m=g?1:0;return t+=b+m,i.retain(b),i.delete(m),s+c+b+m},0),i.reduce((s,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(s,l.delete),s):s+Ml.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(n,t){return this.scroll.deleteAt(n,t),this.update(new Bt().retain(n).delete(t))}formatLine(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(a=>{this.scroll.lines(n,Math.max(t,1)).forEach(s=>{s.format(a,r[a])})}),this.scroll.optimize();const i=new Bt().retain(n).retain(t,I0(r));return this.update(i)}formatText(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(a=>{this.scroll.formatAt(n,t,a,r[a])});const i=new Bt().retain(n).retain(t,I0(r));return this.update(i)}getContents(n,t){return this.delta.slice(n,n+t)}getDelta(){return this.scroll.lines().reduce((n,t)=>n.concat(t.delta()),new Bt)}getFormat(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];t===0?this.scroll.path(n).forEach(l=>{const[c]=l;c instanceof ps?r.push(c):c instanceof Rs&&i.push(c)}):(r=this.scroll.lines(n,t),i=this.scroll.descendants(Rs,n,t));const[a,s]=[r,i].map(l=>{const c=l.shift();if(c==null)return{};let d=jl(c);for(;Object.keys(d).length>0;){const h=l.shift();if(h==null)return d;d=XU(jl(h),d)}return d});return{...a,...s}}getHTML(n,t){const[r,i]=this.scroll.line(n);if(r){const a=r.length();return r.length()>=i+t&&!(i===0&&t===a)?Ag(r,i,t,!0):Ag(this.scroll,n,t,!0)}return""}getText(n,t){return this.getContents(n,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(n,t){const r=T8(t),i=new Bt().retain(n).concat(r);return this.scroll.insertContents(n,r),this.update(i)}insertEmbed(n,t,r){return this.scroll.insertAt(n,t,r),this.update(new Bt().retain(n).insert({[t]:r}))}insertText(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(n,t),Object.keys(r).forEach(i=>{this.scroll.formatAt(n,t.length,i,r[i])}),this.update(new Bt().retain(n).insert(t,I0(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const n=this.scroll.children.head;if((n==null?void 0:n.statics.blotName)!==ps.blotName)return!1;const t=n;return t.children.length>1?!1:t.children.head instanceof Lu}removeFormat(n,t){const r=this.getText(n,t),[i,a]=this.scroll.line(n+t);let s=0,l=new Bt;i!=null&&(s=i.length()-a,l=i.delta().slice(a,a+s-1).insert(`
`));const d=this.getContents(n,t+s).diff(new Bt().insert(r).concat(l)),h=new Bt().retain(n).concat(d);return this.applyDelta(h)}update(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(QU)&&this.scroll.find(t[0].target)){const a=this.scroll.find(t[0].target),s=jl(a),l=a.offset(this.scroll),c=t[0].oldValue.replace(J0.CONTENTS,""),d=new Bt().insert(c),h=new Bt().insert(a.value()),g=r&&{oldRange:O8(r.oldRange,-l),newRange:O8(r.newRange,-l)};n=new Bt().retain(l).concat(d.diff(h,g)).reduce((m,x)=>x.insert?m.insert(x.insert,s):m.push(x),new Bt),this.delta=i.compose(n)}else this.delta=this.getDelta(),(!n||!Rf(i.compose(n),this.delta))&&(n=i.diff(this.delta,r));return n}}function E0(e,n,t){if(e.length===0){const[m]=H5(t.pop());return n<=0?`</li></${m}>`:`</li></${m}>${E0([],n-1,t)}`}const[{child:r,offset:i,length:a,indent:s,type:l},...c]=e,[d,h]=H5(l);if(s>n)return t.push(l),s===n+1?`<${d}><li${h}>${Ag(r,i,a)}${E0(c,s,t)}`:`<${d}><li>${E0(e,n+1,t)}`;const g=t[t.length-1];if(s===n&&l===g)return`</li><li${h}>${Ag(r,i,a)}${E0(c,s,t)}`;const[b]=H5(t.pop());return`</li></${b}>${E0(e,n-1,t)}`}function Ag(e,n,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in e&&typeof e.html=="function")return e.html(n,t);if(e instanceof ku)return yv(e.value().slice(n,n+t)).replaceAll(" ","&nbsp;");if(e instanceof Eu){if(e.statics.blotName==="list-container"){const d=[];return e.children.forEachAt(n,t,(h,g,b)=>{const m="formats"in h&&typeof h.formats=="function"?h.formats():{};d.push({child:h,offset:g,length:b,indent:m.indent||0,type:m.list})}),E0(d,-1,[])}const i=[];if(e.children.forEachAt(n,t,(d,h,g)=>{i.push(Ag(d,h,g))}),r||e.statics.blotName==="list")return i.join("");const{outerHTML:a,innerHTML:s}=e.domNode,[l,c]=a.split(`>${s}<`);return l==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${c}`:`${l}>${i.join("")}<${c}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function XU(e,n){return Object.keys(n).reduce((t,r)=>{if(e[r]==null)return t;const i=n[r];return i===e[r]?t[r]=i:Array.isArray(i)?i.indexOf(e[r])<0?t[r]=i.concat([e[r]]):t[r]=i:t[r]=[i,e[r]],t},{})}function H5(e){const n=e==="ordered"?"ol":"ul";switch(e){case"checked":return[n,' data-list="checked"'];case"unchecked":return[n,' data-list="unchecked"'];default:return[n,""]}}function T8(e){return e.reduce((n,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return n.insert(r,t.attributes)}return n.push(t)},new Bt)}function O8(e,n){let{index:t,length:r}=e;return new cp(t+n,r)}function ZU(e){const n=[];return e.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((i,a)=>{a&&n.push({insert:`
`,attributes:t.attributes}),i&&n.push({insert:i,attributes:t.attributes})}):n.push(t)}),n}class Ru{constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=n,this.options=t}}Xe(Ru,"DEFAULTS",{});const _y="\uFEFF";class $6 extends sl{constructor(n,t){super(n,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(_y),this.rightGuard=document.createTextNode(_y),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(n,t){return n===this.leftGuard?0:n===this.rightGuard?1:super.index(n,t)}restore(n){let t=null,r;const i=n.data.split(_y).join("");if(n===this.leftGuard)if(this.prev instanceof ku){const a=this.prev.length();this.prev.insertAt(a,i),t={startNode:this.prev.domNode,startOffset:a+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:i.length};else n===this.rightGuard&&(this.next instanceof ku?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:i.length}));return n.data=_y,t}update(n,t){n.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(t.range=i)}})}}class JU{constructor(n,t){Xe(this,"isComposing",!1);this.scroll=n,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",n=>{this.isComposing||this.handleCompositionStart(n)}),this.scroll.domNode.addEventListener("compositionend",n=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(n)})})}handleCompositionStart(n){const t=n.target instanceof Node?this.scroll.find(n.target,!0):null;t&&!(t instanceof $6)&&(this.emitter.emit(Rt.events.COMPOSITION_BEFORE_START,n),this.scroll.batchStart(),this.emitter.emit(Rt.events.COMPOSITION_START,n),this.isComposing=!0)}handleCompositionEnd(n){this.emitter.emit(Rt.events.COMPOSITION_BEFORE_END,n),this.scroll.batchEnd(),this.emitter.emit(Rt.events.COMPOSITION_END,n),this.isComposing=!1}}const cg=class cg{constructor(n,t){Xe(this,"modules",{});this.quill=n,this.options=t}init(){Object.keys(this.options.modules).forEach(n=>{this.modules[n]==null&&this.addModule(n)})}addModule(n){const t=this.quill.constructor.import(`modules/${n}`);return this.modules[n]=new t(this.quill,this.options.modules[n]||{}),this.modules[n]}};Xe(cg,"DEFAULTS",{modules:{}}),Xe(cg,"themes",{default:cg});let em=cg;const e$=e=>e.parentElement||e.getRootNode().host||null,t$=e=>{const n=e.getBoundingClientRect(),t="offsetWidth"in e&&Math.abs(n.width)/e.offsetWidth||1,r="offsetHeight"in e&&Math.abs(n.height)/e.offsetHeight||1;return{top:n.top,right:n.left+e.clientWidth*t,bottom:n.top+e.clientHeight*r,left:n.left}},ky=e=>{const n=parseInt(e,10);return Number.isNaN(n)?0:n},I8=(e,n,t,r,i,a)=>e<t&&n>r?0:e<t?-(t-e+i):n>r?n-e>r-t?e+i-t:n-r+a:0,n$=(e,n)=>{var a,s,l;const t=e.ownerDocument;let r=n,i=e;for(;i;){const c=i===t.body,d=c?{top:0,right:((a=window.visualViewport)==null?void 0:a.width)??t.documentElement.clientWidth,bottom:((s=window.visualViewport)==null?void 0:s.height)??t.documentElement.clientHeight,left:0}:t$(i),h=getComputedStyle(i),g=I8(r.left,r.right,d.left,d.right,ky(h.scrollPaddingLeft),ky(h.scrollPaddingRight)),b=I8(r.top,r.bottom,d.top,d.bottom,ky(h.scrollPaddingTop),ky(h.scrollPaddingBottom));if(g||b)if(c)(l=t.defaultView)==null||l.scrollBy(g,b);else{const{scrollLeft:m,scrollTop:x}=i;b&&(i.scrollTop+=b),g&&(i.scrollLeft+=g);const y=i.scrollLeft-m,A=i.scrollTop-x;r={left:r.left-y,top:r.top-A,right:r.right-y,bottom:r.bottom-A}}i=c||h.position==="fixed"?null:e$(i)}},r$=100,i$=["block","break","cursor","inline","scroll","text"],a$=(e,n,t)=>{const r=new Z0;return i$.forEach(i=>{const a=n.query(i);a&&r.register(a)}),e.forEach(i=>{let a=n.query(i);a||t.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let s=0;for(;a;)if(r.register(a),a="blotName"in a?a.requiredContainer??null:null,s+=1,s>r$){t.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},L0=Hd("quill"),Ny=new Z0;Eu.uiClass="ql-ui";const pu=class pu{static debug(n){n===!0&&(n="log"),Hd.level(n)}static find(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return pS.get(n)||Ny.find(n,t)}static import(n){return this.imports[n]==null&&L0.error(`Cannot import ${n}. Are you sure it was registered?`),this.imports[n]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const n=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in n?n.attrName:n.blotName;typeof r=="string"?this.register(`formats/${r}`,n,t):Object.keys(n).forEach(i=>{this.register(i,n[i],t)})}else{const n=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[n]!=null&&!r&&L0.warn(`Overwriting ${n} with`,t),this.imports[n]=t,(n.startsWith("blots/")||n.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&Ny.register(t),typeof t.register=="function"&&t.register(Ny)}}constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=s$(n,t),this.container=this.options.container,this.container==null){L0.error("Invalid Quill container",n);return}this.options.debug&&pu.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",pS.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Rt;const i=U6.blotName,a=this.options.registry.query(i);if(!a||!("blotName"in a))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new a(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new KU(this.scroll),this.selection=new GU(this.scroll,this.emitter),this.composition=new JU(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Rt.events.EDITOR_CHANGE,s=>{s===Rt.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Rt.events.SCROLL_UPDATE,(s,l)=>{const c=this.selection.lastRange,[d]=this.selection.getRange(),h=c&&d?{oldRange:c,newRange:d}:void 0;du.call(this,()=>this.editor.update(null,l,h),s)}),this.emitter.on(Rt.events.SCROLL_EMBED_UPDATE,(s,l)=>{const c=this.selection.lastRange,[d]=this.selection.getRange(),h=c&&d?{oldRange:c,newRange:d}:void 0;du.call(this,()=>{const g=new Bt().retain(s.offset(this)).retain({[s.statics.blotName]:l});return this.editor.update(g,[],h)},pu.sources.USER)}),r){const s=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(s)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof n=="string"){const r=n;n=document.createElement("div"),n.classList.add(r)}return this.container.insertBefore(n,t),n}blur(){this.selection.setRange(null)}deleteText(n,t,r){return[n,t,,r]=Sd(n,t,r),du.call(this,()=>this.editor.deleteText(n,t),r,n,-1*t)}disable(){this.enable(!1)}editReadOnly(n){this.allowReadOnlyEdits=!0;const t=n();return this.allowReadOnlyEdits=!1,t}enable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(n),this.container.classList.toggle("ql-disabled",!n)}focus(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),n.preventScroll||this.scrollSelectionIntoView()}format(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rt.sources.API;return du.call(this,()=>{const i=this.getSelection(!0);let a=new Bt;if(i==null)return a;if(this.scroll.query(n,Ut.BLOCK))a=this.editor.formatLine(i.index,i.length,{[n]:t});else{if(i.length===0)return this.selection.format(n,t),a;a=this.editor.formatText(i.index,i.length,{[n]:t})}return this.setSelection(i,Rt.sources.SILENT),a},r)}formatLine(n,t,r,i,a){let s;return[n,t,s,a]=Sd(n,t,r,i,a),du.call(this,()=>this.editor.formatLine(n,t,s),a,n,0)}formatText(n,t,r,i,a){let s;return[n,t,s,a]=Sd(n,t,r,i,a),du.call(this,()=>this.editor.formatText(n,t,s),a,n,0)}getBounds(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof n=="number"?r=this.selection.getBounds(n,t):r=this.selection.getBounds(n.index,n.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-n;return[n,t]=Sd(n,t),this.editor.getContents(n,t)}getFormat(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof n=="number"?this.editor.getFormat(n,t):this.editor.getFormat(n.index,n.length)}getIndex(n){return n.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(n){return this.scroll.leaf(n)}getLine(n){return this.scroll.line(n)}getLines(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof n!="number"?this.scroll.lines(n.index,n.length):this.scroll.lines(n,t)}getModule(n){return this.theme.modules[n]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof n=="number"&&(t=t??this.getLength()-n),[n,t]=Sd(n,t),this.editor.getHTML(n,t)}getText(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof n=="number"&&(t=t??this.getLength()-n),[n,t]=Sd(n,t),this.editor.getText(n,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(n,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:pu.sources.API;return du.call(this,()=>this.editor.insertEmbed(n,t,r),i,n)}insertText(n,t,r,i,a){let s;return[n,,s,a]=Sd(n,0,r,i,a),du.call(this,()=>this.editor.insertText(n,t,s),a,n,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(n,t,r){return[n,t,,r]=Sd(n,t,r),du.call(this,()=>this.editor.removeFormat(n,t),r,n)}scrollRectIntoView(n){n$(this.root,n)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const n=this.selection.lastRange,t=n&&this.selection.getBounds(n.index,n.length);t&&this.scrollRectIntoView(t)}setContents(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rt.sources.API;return du.call(this,()=>{n=new Bt(n);const r=this.getLength(),i=this.editor.deleteText(0,r),a=this.editor.insertContents(0,n),s=this.editor.deleteText(this.getLength()-1,1);return i.compose(a).compose(s)},t)}setSelection(n,t,r){n==null?this.selection.setRange(null,t||pu.sources.API):([n,t,,r]=Sd(n,t,r),this.selection.setRange(new cp(Math.max(0,n),t),r),r!==Rt.sources.SILENT&&this.scrollSelectionIntoView())}setText(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rt.sources.API;const r=new Bt().insert(n);return this.setContents(r,t)}update(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Rt.sources.USER;const t=this.scroll.update(n);return this.selection.update(n),t}updateContents(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rt.sources.API;return du.call(this,()=>(n=new Bt(n),this.editor.applyDelta(n)),t,!0)}};Xe(pu,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Ny,theme:"default"}),Xe(pu,"events",Rt.events),Xe(pu,"sources",Rt.sources),Xe(pu,"version","2.0.3"),Xe(pu,"imports",{delta:Bt,parchment:FU,"core/module":Ru,"core/theme":em});let vt=pu;function D8(e){return typeof e=="string"?document.querySelector(e):e}function W5(e){return Object.entries(e??{}).reduce((n,t)=>{let[r,i]=t;return{...n,[r]:i===!0?{}:i}},{})}function L8(e){return Object.fromEntries(Object.entries(e).filter(n=>n[1]!==void 0))}function s$(e,n){const t=D8(e);if(!t)throw new Error("Invalid Quill container");const i=!n.theme||n.theme===vt.DEFAULTS.theme?em:vt.import(`themes/${n.theme}`);if(!i)throw new Error(`Invalid theme ${n.theme}. Did you register it?`);const{modules:a,...s}=vt.DEFAULTS,{modules:l,...c}=i.DEFAULTS;let d=W5(n.modules);d!=null&&d.toolbar&&d.toolbar.constructor!==Object&&(d={...d,toolbar:{container:d.toolbar}});const h=Qf({},W5(a),W5(l),d),g={...s,...L8(c),...L8(n)};let b=n.registry;return b?n.formats&&L0.warn('Ignoring "formats" option because "registry" is specified'):b=n.formats?a$(n.formats,g.registry,L0):g.registry,{...g,registry:b,container:t,theme:i,modules:Object.entries(h).reduce((m,x)=>{let[y,A]=x;if(!A)return m;const w=vt.import(`modules/${y}`);return w==null?(L0.error(`Cannot load ${y} module. Are you sure you registered it?`),m):{...m,[y]:Qf({},w.DEFAULTS||{},A)}},{}),bounds:D8(g.bounds)}}function du(e,n,t,r){if(!this.isEnabled()&&n===Rt.sources.USER&&!this.allowReadOnlyEdits)return new Bt;let i=t==null?null:this.getSelection();const a=this.editor.delta,s=e();if(i!=null&&(t===!0&&(t=i.index),r==null?i=R8(i,s,n):r!==0&&(i=R8(i,t,r,n)),this.setSelection(i,Rt.sources.SILENT)),s.length()>0){const l=[Rt.events.TEXT_CHANGE,s,a,n];this.emitter.emit(Rt.events.EDITOR_CHANGE,...l),n!==Rt.sources.SILENT&&this.emitter.emit(...l)}return s}function Sd(e,n,t,r,i){let a={};return typeof e.index=="number"&&typeof e.length=="number"?typeof n!="number"?(i=r,r=t,t=n,n=e.length,e=e.index):(n=e.length,e=e.index):typeof n!="number"&&(i=r,r=t,t=n,n=0),typeof t=="object"?(a=t,i=r):typeof t=="string"&&(r!=null?a[t]=r:i=t),i=i||Rt.sources.API,[e,n,a,i]}function R8(e,n,t,r){const i=typeof t=="number"?t:0;if(e==null)return null;let a,s;return n&&typeof n.transformPosition=="function"?[a,s]=[e.index,e.index+e.length].map(l=>n.transformPosition(l,r!==Rt.sources.USER)):[a,s]=[e.index,e.index+e.length].map(l=>l<n||l===n&&r===Rt.sources.USER?l:i>=0?l+i:Math.max(n,l+i)),new cp(a,s-a)}class vp extends bv{}function M8(e){return e instanceof ps||e instanceof Rl}function P8(e){return typeof e.updateContent=="function"}class _0 extends U6{constructor(n,t,r){let{emitter:i}=r;super(n,t),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",a=>this.handleDragStart(a))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const n=this.batch;this.batch=!1,this.update(n)}emitMount(n){this.emitter.emit(Rt.events.SCROLL_BLOT_MOUNT,n)}emitUnmount(n){this.emitter.emit(Rt.events.SCROLL_BLOT_UNMOUNT,n)}emitEmbedUpdate(n,t){this.emitter.emit(Rt.events.SCROLL_EMBED_UPDATE,n,t)}deleteAt(n,t){const[r,i]=this.line(n),[a]=this.line(n+t);if(super.deleteAt(n,t),a!=null&&r!==a&&i>0){if(r instanceof Rl||a instanceof Rl){this.optimize();return}const s=a.children.head instanceof Lu?null:a.children.head;r.moveChildren(a,s),r.remove()}this.optimize()}enable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",n?"true":"false")}formatAt(n,t,r,i){super.formatAt(n,t,r,i),this.optimize()}insertAt(n,t,r){if(n>=this.length())if(r==null||this.scroll.query(t,Ut.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&t.endsWith(`
`)?i.insertAt(0,t.slice(0,-1),r):i.insertAt(0,t,r)}else{const i=this.scroll.create(t,r);this.appendChild(i)}else super.insertAt(n,t,r);this.optimize()}insertBefore(n,t){if(n.statics.scope===Ut.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(n),super.insertBefore(r,t)}else super.insertBefore(n,t)}insertContents(n,t){const r=this.deltaToRenderBlocks(t.concat(new Bt().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const a=r.shift();if(a){const c=a.type==="block"&&(a.delta.length()===0||!this.descendant(Rl,n)[0]&&n<this.length()),d=a.type==="block"?a.delta:new Bt().insert({[a.key]:a.value});V5(this,n,d);const h=a.type==="block"?1:0,g=n+d.length()+h;c&&this.insertAt(g-1,`
`);const b=jl(this.line(n)[0]),m=Ml.AttributeMap.diff(b,a.attributes)||{};Object.keys(m).forEach(x=>{this.formatAt(g-1,1,x,m[x])}),n=g}let[s,l]=this.children.find(n);if(r.length&&(s&&(s=s.split(l),l=0),r.forEach(c=>{if(c.type==="block"){const d=this.createBlock(c.attributes,s||void 0);V5(d,0,c.delta)}else{const d=this.create(c.key,c.value);this.insertBefore(d,s||void 0),Object.keys(c.attributes).forEach(h=>{d.format(h,c.attributes[h])})}})),i.type==="block"&&i.delta.length()){const c=s?s.offset(s.scroll)+l:this.length();V5(this,c,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(n){const t=this.path(n).pop();if(!t)return[null,-1];const[r,i]=t;return r instanceof Rs?[r,i]:[null,-1]}line(n){return n===this.length()?this.line(n-1):this.descendant(M8,n)}lines(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,a,s)=>{let l=[],c=s;return i.children.forEachAt(a,s,(d,h,g)=>{M8(d)?l.push(d):d instanceof bv&&(l=l.concat(r(d,h,c))),c-=g}),l};return r(this,n,t)}optimize(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(n,t),n.length>0&&this.emitter.emit(Rt.events.SCROLL_OPTIMIZE,n,t))}path(n){return super.path(n).slice(1)}remove(){}update(n){if(this.batch){Array.isArray(n)&&(this.batch=this.batch.concat(n));return}let t=Rt.sources.USER;typeof n=="string"&&(t=n),Array.isArray(n)||(n=this.observer.takeRecords()),n=n.filter(r=>{let{target:i}=r;const a=this.find(i,!0);return a&&!P8(a)}),n.length>0&&this.emitter.emit(Rt.events.SCROLL_BEFORE_UPDATE,t,n),super.update(n.concat([])),n.length>0&&this.emitter.emit(Rt.events.SCROLL_UPDATE,t,n)}updateEmbedAt(n,t,r){const[i]=this.descendant(a=>a instanceof Rl,n);i&&i.statics.blotName===t&&P8(i)&&i.updateContent(r)}handleDragStart(n){n.preventDefault()}deltaToRenderBlocks(n){const t=[];let r=new Bt;return n.forEach(i=>{const a=i==null?void 0:i.insert;if(a)if(typeof a=="string"){const s=a.split(`
`);s.slice(0,-1).forEach(c=>{r.insert(c,i.attributes),t.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new Bt});const l=s[s.length-1];l&&r.insert(l,i.attributes)}else{const s=Object.keys(a)[0];if(!s)return;this.query(s,Ut.INLINE)?r.push(i):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new Bt,t.push({type:"blockEmbed",key:s,value:a[s],attributes:i.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(n,t){let r;const i={};Object.entries(n).forEach(l=>{let[c,d]=l;this.query(c,Ut.BLOCK&Ut.BLOT)!=null?r=c:i[c]=d});const a=this.create(r||this.statics.defaultChild.blotName,r?n[r]:void 0);this.insertBefore(a,t||void 0);const s=a.length();return Object.entries(i).forEach(l=>{let[c,d]=l;a.formatAt(0,s,c,d)}),a}}Xe(_0,"blotName","scroll"),Xe(_0,"className","ql-editor"),Xe(_0,"tagName","DIV"),Xe(_0,"defaultChild",ps),Xe(_0,"allowedChildren",[ps,Rl,vp]);function V5(e,n,t){t.reduce((r,i)=>{const a=Ml.Op.length(i);let s=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const l=i.insert;e.insertAt(r,l);const[c]=e.descendant(Rs,r),d=jl(c);s=Ml.AttributeMap.diff(d,s)||{}}else if(typeof i.insert=="object"){const l=Object.keys(i.insert)[0];if(l==null)return r;if(e.insertAt(r,l,i.insert[l]),e.scroll.query(l,Ut.INLINE)!=null){const[d]=e.descendant(Rs,r),h=jl(d);s=Ml.AttributeMap.diff(h,s)||{}}}}return Object.keys(s).forEach(l=>{e.formatAt(r,a,l,s[l])}),r+a},n)}const H6={scope:Ut.BLOCK,whitelist:["right","center","justify"]},o$=new $c("align","align",H6),L7=new Du("align","ql-align",H6),R7=new uh("align","text-align",H6);class M7 extends uh{value(n){let t=super.value(n);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):t}}const l$=new Du("color","ql-color",{scope:Ut.INLINE}),W6=new M7("color","color",{scope:Ut.INLINE}),u$=new Du("background","ql-bg",{scope:Ut.INLINE}),V6=new M7("background","background-color",{scope:Ut.INLINE});class wp extends vp{static create(n){const t=super.create(n);return t.setAttribute("spellcheck","false"),t}code(n,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(n,n+t)}html(n,t){return`<pre>
${yv(this.code(n,t))}
</pre>`}}class qs extends ps{static register(){vt.register(wp)}}Xe(qs,"TAB","  ");class Y6 extends Hc{}Y6.blotName="code";Y6.tagName="CODE";qs.blotName="code-block";qs.className="ql-code-block";qs.tagName="DIV";wp.blotName="code-block-container";wp.className="ql-code-block-container";wp.tagName="DIV";wp.allowedChildren=[qs];qs.allowedChildren=[ku,Lu,J0];qs.requiredContainer=wp;const G6={scope:Ut.BLOCK,whitelist:["rtl"]},P7=new $c("direction","dir",G6),F7=new Du("direction","ql-direction",G6),z7=new uh("direction","direction",G6),q7={scope:Ut.INLINE,whitelist:["serif","monospace"]},B7=new Du("font","ql-font",q7);class c$ extends uh{value(n){return super.value(n).replace(/["']/g,"")}}const U7=new c$("font","font-family",q7),$7=new Du("size","ql-size",{scope:Ut.INLINE,whitelist:["small","large","huge"]}),H7=new uh("size","font-size",{scope:Ut.INLINE,whitelist:["10px","18px","32px"]}),d$=Hd("quill:keyboard"),f$=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class xv extends Ru{static match(n,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==n[r]&&t[r]!==null)?!1:t.key===n.key||t.key===n.which}constructor(n,t){super(n,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=p$(n);if(i==null){d$.warn("Attempted to add invalid keyboard binding",i);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(s=>{const l={...i,key:s,...t,...r};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",n=>{if(n.defaultPrevented||n.isComposing||n.keyCode===229&&(n.key==="Enter"||n.key==="Backspace"))return;const i=(this.bindings[n.key]||[]).concat(this.bindings[n.which]||[]).filter(w=>xv.match(n,w));if(i.length===0)return;const a=vt.find(n.target,!0);if(a&&a.scroll!==this.quill.scroll)return;const s=this.quill.getSelection();if(s==null||!this.quill.hasFocus())return;const[l,c]=this.quill.getLine(s.index),[d,h]=this.quill.getLeaf(s.index),[g,b]=s.length===0?[d,h]:this.quill.getLeaf(s.index+s.length),m=d instanceof Dx?d.value().slice(0,h):"",x=g instanceof Dx?g.value().slice(b):"",y={collapsed:s.length===0,empty:s.length===0&&l.length()<=1,format:this.quill.getFormat(s),line:l,offset:c,prefix:m,suffix:x,event:n};i.some(w=>{if(w.collapsed!=null&&w.collapsed!==y.collapsed||w.empty!=null&&w.empty!==y.empty||w.offset!=null&&w.offset!==y.offset)return!1;if(Array.isArray(w.format)){if(w.format.every(C=>y.format[C]==null))return!1}else if(typeof w.format=="object"&&!Object.keys(w.format).every(C=>w.format[C]===!0?y.format[C]!=null:w.format[C]===!1?y.format[C]==null:Rf(w.format[C],y.format[C])))return!1;return w.prefix!=null&&!w.prefix.test(y.prefix)||w.suffix!=null&&!w.suffix.test(y.suffix)?!1:w.handler.call(this,s,y,w)!==!0})&&n.preventDefault()})}handleBackspace(n,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(n.index===0||this.quill.getLength()<=1)return;let i={};const[a]=this.quill.getLine(n.index);let s=new Bt().retain(n.index-r).delete(r);if(t.offset===0){const[l]=this.quill.getLine(n.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const d=a.formats(),h=this.quill.getFormat(n.index-1,1);if(i=Ml.AttributeMap.diff(d,h)||{},Object.keys(i).length>0){const g=new Bt().retain(n.index+a.length()-2).retain(1,i);s=s.compose(g)}}}this.quill.updateContents(s,vt.sources.USER),this.quill.focus()}handleDelete(n,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(n.index>=this.quill.getLength()-r)return;let i={};const[a]=this.quill.getLine(n.index);let s=new Bt().retain(n.index).delete(r);if(t.offset>=a.length()-1){const[l]=this.quill.getLine(n.index+1);if(l){const c=a.formats(),d=this.quill.getFormat(n.index,1);i=Ml.AttributeMap.diff(c,d)||{},Object.keys(i).length>0&&(s=s.retain(l.length()-1).retain(1,i))}}this.quill.updateContents(s,vt.sources.USER),this.quill.focus()}handleDeleteRange(n){Q6({range:n,quill:this.quill}),this.quill.focus()}handleEnter(n,t){const r=Object.keys(t.format).reduce((a,s)=>(this.quill.scroll.query(s,Ut.BLOCK)&&!Array.isArray(t.format[s])&&(a[s]=t.format[s]),a),{}),i=new Bt().retain(n.index).delete(n.length).insert(`
`,r);this.quill.updateContents(i,vt.sources.USER),this.quill.setSelection(n.index+1,vt.sources.SILENT),this.quill.focus()}}const h$={bindings:{bold:Y5("bold"),italic:Y5("italic"),underline:Y5("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,n){return n.collapsed&&n.offset!==0?!0:(this.quill.format("indent","+1",vt.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,n){return n.collapsed&&n.offset!==0?!0:(this.quill.format("indent","-1",vt.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,n){n.format.indent!=null?this.quill.format("indent","-1",vt.sources.USER):n.format.list!=null&&this.quill.format("list",!1,vt.sources.USER)}},"indent code-block":F8(!0),"outdent code-block":F8(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,vt.sources.USER)}},tab:{key:"Tab",handler(e,n){if(n.format.table)return!0;this.quill.history.cutoff();const t=new Bt().retain(e.index).delete(e.length).insert("	");return this.quill.updateContents(t,vt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,vt.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,vt.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,n){const t={list:!1};n.format.indent&&(t.indent=!1),this.quill.formatLine(e.index,e.length,t,vt.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[n,t]=this.quill.getLine(e.index),r={...n.formats(),list:"checked"},i=new Bt().retain(e.index).insert(`
`,r).retain(n.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,vt.sources.USER),this.quill.setSelection(e.index+1,vt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,n){const[t,r]=this.quill.getLine(e.index),i=new Bt().retain(e.index).insert(`
`,n.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,vt.sources.USER),this.quill.setSelection(e.index+1,vt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const n=this.quill.getModule("table");if(n){const[t,r,i,a]=n.getTable(e),s=m$(t,r,i,a);if(s==null)return;let l=t.offset();if(s<0){const c=new Bt().retain(l).insert(`
`);this.quill.updateContents(c,vt.sources.USER),this.quill.setSelection(e.index+1,e.length,vt.sources.SILENT)}else if(s>0){l+=t.length();const c=new Bt().retain(l).insert(`
`);this.quill.updateContents(c,vt.sources.USER),this.quill.setSelection(l,vt.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,n){const{event:t,line:r}=n,i=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(i-1,vt.sources.USER):this.quill.setSelection(i+r.length(),vt.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,n){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=n.prefix,[r,i]=this.quill.getLine(e.index);if(i>t)return!0;let a;switch(n.prefix.trim()){case"[]":case"[ ]":a="unchecked";break;case"[x]":a="checked";break;case"-":case"*":a="bullet";break;default:a="ordered"}this.quill.insertText(e.index," ",vt.sources.USER),this.quill.history.cutoff();const s=new Bt().retain(e.index-i).delete(t+1).retain(r.length()-2-i).retain(1,{list:a});return this.quill.updateContents(s,vt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-t,vt.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[n,t]=this.quill.getLine(e.index);let r=2,i=n;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const a=new Bt().retain(e.index+n.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(a,vt.sources.USER),this.quill.setSelection(e.index-1,vt.sources.SILENT),!1}return!0}},"embed left":jy("ArrowLeft",!1),"embed left shift":jy("ArrowLeft",!0),"embed right":jy("ArrowRight",!1),"embed right shift":jy("ArrowRight",!0),"table down":z8(!1),"table up":z8(!0)}};xv.DEFAULTS=h$;function F8(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(n,t){let{event:r}=t;const i=this.quill.scroll.query("code-block"),{TAB:a}=i;if(n.length===0&&!r.shiftKey){this.quill.insertText(n.index,a,vt.sources.USER),this.quill.setSelection(n.index+a.length,vt.sources.SILENT);return}const s=n.length===0?this.quill.getLines(n.index,1):this.quill.getLines(n);let{index:l,length:c}=n;s.forEach((d,h)=>{e?(d.insertAt(0,a),h===0?l+=a.length:c+=a.length):d.domNode.textContent.startsWith(a)&&(d.deleteAt(0,a.length),h===0?l-=a.length:c-=a.length)}),this.quill.update(vt.sources.USER),this.quill.setSelection(l,c,vt.sources.SILENT)}}}function jy(e,n){return{key:e,shiftKey:n,altKey:null,[e==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;e==="ArrowRight"&&(i+=r.length+1);const[a]=this.quill.getLeaf(i);return a instanceof sl?(e==="ArrowLeft"?n?this.quill.setSelection(r.index-1,r.length+1,vt.sources.USER):this.quill.setSelection(r.index-1,vt.sources.USER):n?this.quill.setSelection(r.index,r.length+1,vt.sources.USER):this.quill.setSelection(r.index+r.length+1,vt.sources.USER),!1):!0}}}function Y5(e){return{key:e[0],shortKey:!0,handler(n,t){this.quill.format(e,!t.format[e],vt.sources.USER)}}}function z8(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(n,t){const r=e?"prev":"next",i=t.line,a=i.parent[r];if(a!=null){if(a.statics.blotName==="table-row"){let s=a.children.head,l=i;for(;l.prev!=null;)l=l.prev,s=s.next;const c=s.offset(this.quill.scroll)+Math.min(t.offset,s.length()-1);this.quill.setSelection(c,0,vt.sources.USER)}}else{const s=i.table()[r];s!=null&&(e?this.quill.setSelection(s.offset(this.quill.scroll)+s.length()-1,0,vt.sources.USER):this.quill.setSelection(s.offset(this.quill.scroll),0,vt.sources.USER))}return!1}}}function p$(e){if(typeof e=="string"||typeof e=="number")e={key:e};else if(typeof e=="object")e=I0(e);else return null;return e.shortKey&&(e[f$]=e.shortKey,delete e.shortKey),e}function Q6(e){let{quill:n,range:t}=e;const r=n.getLines(t);let i={};if(r.length>1){const a=r[0].formats(),s=r[r.length-1].formats();i=Ml.AttributeMap.diff(s,a)||{}}n.deleteText(t,vt.sources.USER),Object.keys(i).length>0&&n.formatLine(t.index,1,i,vt.sources.USER),n.setSelection(t.index,vt.sources.SILENT)}function m$(e,n,t,r){return n.prev==null&&n.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:n.prev==null?-1:n.next==null?1:null}const g$=/font-weight:\s*normal/,b$=["P","OL","UL"],q8=e=>e&&b$.includes(e.tagName),y$=e=>{Array.from(e.querySelectorAll("br")).filter(n=>q8(n.previousElementSibling)&&q8(n.nextElementSibling)).forEach(n=>{var t;(t=n.parentNode)==null||t.removeChild(n)})},x$=e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter(n=>{var t;return(t=n.getAttribute("style"))==null?void 0:t.match(g$)}).forEach(n=>{var r;const t=e.createDocumentFragment();t.append(...n.childNodes),(r=n.parentNode)==null||r.replaceChild(t,n)})};function v$(e){e.querySelector('[id^="docs-internal-guid-"]')&&(x$(e),y$(e))}const w$=/\bmso-list:[^;]*ignore/i,S$=/\bmso-list:[^;]*\bl(\d+)/i,A$=/\bmso-list:[^;]*\blevel(\d+)/i,C$=(e,n)=>{const t=e.getAttribute("style"),r=t==null?void 0:t.match(S$);if(!r)return null;const i=Number(r[1]),a=t==null?void 0:t.match(A$),s=a?Number(a[1]):1,l=new RegExp(`@list l${i}:level${s}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),c=n.match(l),d=c&&c[1]==="bullet"?"bullet":"ordered";return{id:i,indent:s,type:d,element:e}},E$=e=>{var s,l;const n=Array.from(e.querySelectorAll("[style*=mso-list]")),t=[],r=[];n.forEach(c=>{(c.getAttribute("style")||"").match(w$)?t.push(c):r.push(c)}),t.forEach(c=>{var d;return(d=c.parentNode)==null?void 0:d.removeChild(c)});const i=e.documentElement.innerHTML,a=r.map(c=>C$(c,i)).filter(c=>c);for(;a.length;){const c=[];let d=a.shift();for(;d;)c.push(d),d=a.length&&((s=a[0])==null?void 0:s.element)===d.element.nextElementSibling&&a[0].id===d.id?a.shift():null;const h=document.createElement("ul");c.forEach(m=>{const x=document.createElement("li");x.setAttribute("data-list",m.type),m.indent>1&&x.setAttribute("class",`ql-indent-${m.indent-1}`),x.innerHTML=m.element.innerHTML,h.appendChild(x)});const g=(l=c[0])==null?void 0:l.element,{parentNode:b}=g??{};g&&(b==null||b.replaceChild(h,g)),c.slice(1).forEach(m=>{let{element:x}=m;b==null||b.removeChild(x)})}};function _$(e){e.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&E$(e)}const k$=[_$,v$],N$=e=>{e.documentElement&&k$.forEach(n=>{n(e)})},j$=Hd("quill:clipboard"),T$=[[Node.TEXT_NODE,U$],[Node.TEXT_NODE,U8],["br",R$],[Node.ELEMENT_NODE,U8],[Node.ELEMENT_NODE,L$],[Node.ELEMENT_NODE,D$],[Node.ELEMENT_NODE,q$],["li",F$],["ol, ul",z$],["pre",M$],["tr",B$],["b",G5("bold")],["i",G5("italic")],["strike",G5("strike")],["style",P$]],O$=[o$,P7].reduce((e,n)=>(e[n.keyName]=n,e),{}),B8=[R7,V6,W6,z7,U7,H7].reduce((e,n)=>(e[n.keyName]=n,e),{});class W7 extends Ru{constructor(n,t){super(n,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],T$.concat(this.options.matchers??[]).forEach(r=>{let[i,a]=r;this.addMatcher(i,a)})}addMatcher(n,t){this.matchers.push([n,t])}convert(n){let{html:t,text:r}=n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[qs.blotName])return new Bt().insert(r||"",{[qs.blotName]:i[qs.blotName]});if(!t)return new Bt().insert(r||"",i);const a=this.convertHTML(t);return Kg(a,`
`)&&(a.ops[a.ops.length-1].attributes==null||i.table)?a.compose(new Bt().retain(a.length()-1).delete(1)):a}normalizeHTML(n){N$(n)}convertHTML(n){const t=new DOMParser().parseFromString(n,"text/html");this.normalizeHTML(t);const r=t.body,i=new WeakMap,[a,s]=this.prepareMatching(r,i);return K6(this.quill.scroll,r,a,s,i)}dangerouslyPasteHTML(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vt.sources.API;if(typeof n=="string"){const i=this.convert({html:n,text:""});this.quill.setContents(i,t),this.quill.setSelection(0,vt.sources.SILENT)}else{const i=this.convert({html:t,text:""});this.quill.updateContents(new Bt().retain(n).concat(i),r),this.quill.setSelection(n+i.length(),vt.sources.SILENT)}}onCaptureCopy(n){var s,l;let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n.defaultPrevented)return;n.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:a}=this.onCopy(r,t);(s=n.clipboardData)==null||s.setData("text/plain",a),(l=n.clipboardData)==null||l.setData("text/html",i),t&&Q6({range:r,quill:this.quill})}normalizeURIList(n){return n.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(n){var s,l,c,d,h;if(n.defaultPrevented||!this.quill.isEnabled())return;n.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=(s=n.clipboardData)==null?void 0:s.getData("text/html");let i=(l=n.clipboardData)==null?void 0:l.getData("text/plain");if(!r&&!i){const g=(c=n.clipboardData)==null?void 0:c.getData("text/uri-list");g&&(i=this.normalizeURIList(g))}const a=Array.from(((d=n.clipboardData)==null?void 0:d.files)||[]);if(!r&&a.length>0){this.quill.uploader.upload(t,a);return}if(r&&a.length>0){const g=new DOMParser().parseFromString(r,"text/html");if(g.body.childElementCount===1&&((h=g.body.firstElementChild)==null?void 0:h.tagName)==="IMG"){this.quill.uploader.upload(t,a);return}}this.onPaste(t,{html:r,text:i})}onCopy(n){const t=this.quill.getText(n);return{html:this.quill.getSemanticHTML(n),text:t}}onPaste(n,t){let{text:r,html:i}=t;const a=this.quill.getFormat(n.index),s=this.convert({text:r,html:i},a);j$.log("onPaste",s,{text:r,html:i});const l=new Bt().retain(n.index).delete(n.length).concat(s);this.quill.updateContents(l,vt.sources.USER),this.quill.setSelection(l.length()-n.length,vt.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(n,t){const r=[],i=[];return this.matchers.forEach(a=>{const[s,l]=a;switch(s){case Node.TEXT_NODE:i.push(l);break;case Node.ELEMENT_NODE:r.push(l);break;default:Array.from(n.querySelectorAll(s)).forEach(c=>{if(t.has(c)){const d=t.get(c);d==null||d.push(l)}else t.set(c,[l])});break}}),[r,i]}}Xe(W7,"DEFAULTS",{matchers:[]});function Sp(e,n,t,r){return r.query(n)?e.reduce((i,a)=>{if(!a.insert)return i;if(a.attributes&&a.attributes[n])return i.push(a);const s=t?{[n]:t}:{};return i.insert(a.insert,{...s,...a.attributes})},new Bt):e}function Kg(e,n){let t="";for(let r=e.ops.length-1;r>=0&&t.length<n.length;--r){const i=e.ops[r];if(typeof i.insert!="string")break;t=i.insert+t}return t.slice(-1*n.length)===n}function zf(e,n){if(!(e instanceof Element))return!1;const t=n.query(e);return t&&t.prototype instanceof sl?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}function I$(e,n){return e.previousElementSibling&&e.nextElementSibling&&!zf(e.previousElementSibling,n)&&!zf(e.nextElementSibling,n)}const Ty=new WeakMap;function V7(e){return e==null?!1:(Ty.has(e)||(e.tagName==="PRE"?Ty.set(e,!0):Ty.set(e,V7(e.parentNode))),Ty.get(e))}function K6(e,n,t,r,i){return n.nodeType===n.TEXT_NODE?r.reduce((a,s)=>s(n,a,e),new Bt):n.nodeType===n.ELEMENT_NODE?Array.from(n.childNodes||[]).reduce((a,s)=>{let l=K6(e,s,t,r,i);return s.nodeType===n.ELEMENT_NODE&&(l=t.reduce((c,d)=>d(s,c,e),l),l=(i.get(s)||[]).reduce((c,d)=>d(s,c,e),l)),a.concat(l)},new Bt):new Bt}function G5(e){return(n,t,r)=>Sp(t,e,!0,r)}function D$(e,n,t){const r=$c.keys(e),i=Du.keys(e),a=uh.keys(e),s={};return r.concat(i).concat(a).forEach(l=>{let c=t.query(l,Ut.ATTRIBUTE);c!=null&&(s[c.attrName]=c.value(e),s[c.attrName])||(c=O$[l],c!=null&&(c.attrName===l||c.keyName===l)&&(s[c.attrName]=c.value(e)||void 0),c=B8[l],c!=null&&(c.attrName===l||c.keyName===l)&&(c=B8[l],s[c.attrName]=c.value(e)||void 0))}),Object.entries(s).reduce((l,c)=>{let[d,h]=c;return Sp(l,d,h,t)},n)}function L$(e,n,t){const r=t.query(e);if(r==null)return n;if(r.prototype instanceof sl){const i={},a=r.value(e);if(a!=null)return i[r.blotName]=a,new Bt().insert(i,r.formats(e,t))}else if(r.prototype instanceof Sg&&!Kg(n,`
`)&&n.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return Sp(n,r.blotName,r.formats(e,t),t);return n}function R$(e,n){return Kg(n,`
`)||n.insert(`
`),n}function M$(e,n,t){const r=t.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(e,t):!0;return Sp(n,"code-block",i,t)}function P$(){return new Bt}function F$(e,n,t){const r=t.query(e);if(r==null||r.blotName!=="list"||!Kg(n,`
`))return n;let i=-1,a=e.parentNode;for(;a!=null;)["OL","UL"].includes(a.tagName)&&(i+=1),a=a.parentNode;return i<=0?n:n.reduce((s,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?s.push(l):s.insert(l.insert,{indent:i,...l.attributes||{}}):s,new Bt)}function z$(e,n,t){const r=e;let i=r.tagName==="OL"?"ordered":"bullet";const a=r.getAttribute("data-checked");return a&&(i=a==="true"?"checked":"unchecked"),Sp(n,"list",i,t)}function U8(e,n,t){if(!Kg(n,`
`)){if(zf(e,t)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return n.insert(`
`);if(n.length()>0&&e.nextSibling){let r=e.nextSibling;for(;r!=null;){if(zf(r,t))return n.insert(`
`);const i=t.query(r);if(i&&i.prototype instanceof Rl)return n.insert(`
`);r=r.firstChild}}}return n}function q$(e,n,t){var a;const r={},i=e.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),((a=i.fontWeight)!=null&&a.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),n=Object.entries(r).reduce((s,l)=>{let[c,d]=l;return Sp(s,c,d,t)},n),parseFloat(i.textIndent||0)>0?new Bt().insert("	").concat(n):n}function B$(e,n,t){var i,a;const r=((i=e.parentElement)==null?void 0:i.tagName)==="TABLE"?e.parentElement:(a=e.parentElement)==null?void 0:a.parentElement;if(r!=null){const l=Array.from(r.querySelectorAll("tr")).indexOf(e)+1;return Sp(n,"table",l,t)}return n}function U$(e,n,t){var i;let r=e.data;if(((i=e.parentElement)==null?void 0:i.tagName)==="O:P")return n.insert(r.trim());if(!V7(e)){if(r.trim().length===0&&r.includes(`
`)&&!I$(e,t))return n;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(e.previousSibling==null&&e.parentElement!=null&&zf(e.parentElement,t)||e.previousSibling instanceof Element&&zf(e.previousSibling,t))&&(r=r.replace(/^ /,"")),(e.nextSibling==null&&e.parentElement!=null&&zf(e.parentElement,t)||e.nextSibling instanceof Element&&zf(e.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return n.insert(r)}class Y7 extends Ru{constructor(t,r){super(t,r);Xe(this,"lastRecorded",0);Xe(this,"ignoreChange",!1);Xe(this,"stack",{undo:[],redo:[]});Xe(this,"currentRange",null);this.quill.on(vt.events.EDITOR_CHANGE,(i,a,s,l)=>{i===vt.events.SELECTION_CHANGE?a&&l!==vt.sources.SILENT&&(this.currentRange=a):i===vt.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===vt.sources.USER?this.record(a,s):this.transform(a)),this.currentRange=bS(this.currentRange,a))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(t,r){if(this.stack[t].length===0)return;const i=this.stack[t].pop();if(!i)return;const a=this.quill.getContents(),s=i.delta.invert(a);this.stack[r].push({delta:s,range:bS(i.range,s)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,vt.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,r){if(t.ops.length===0)return;this.stack.redo=[];let i=t.invert(r),a=this.currentRange;const s=Date.now();if(this.lastRecorded+this.options.delay>s&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(i=i.compose(l.delta),a=l.range)}else this.lastRecorded=s;i.length()!==0&&(this.stack.undo.push({delta:i,range:a}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){$8(this.stack.undo,t),$8(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,vt.sources.USER);else{const r=H$(this.quill.scroll,t.delta);this.quill.setSelection(r,vt.sources.USER)}}}Xe(Y7,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function $8(e,n){let t=n;for(let r=e.length-1;r>=0;r-=1){const i=e[r];e[r]={delta:t.transform(i.delta,!0),range:i.range&&bS(i.range,t)},t=i.delta.transform(t),e[r].delta.length()===0&&e.splice(r,1)}}function $$(e,n){const t=n.ops[n.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>e.query(r,Ut.BLOCK)!=null):!1}function H$(e,n){const t=n.reduce((i,a)=>i+(a.delete||0),0);let r=n.length()-t;return $$(e,n)&&(r-=1),r}function bS(e,n){if(!e)return e;const t=n.transformPosition(e.index),r=n.transformPosition(e.index+e.length);return{index:t,length:r-t}}class G7 extends Ru{constructor(n,t){super(n,t),n.root.addEventListener("drop",r=>{var s;r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(l.offsetNode,l.offset),i.setEnd(l.offsetNode,l.offset)}const a=i&&n.selection.normalizeNative(i);if(a){const l=n.selection.normalizedToRange(a);(s=r.dataTransfer)!=null&&s.files&&this.upload(l,r.dataTransfer.files)}})}upload(n,t){const r=[];Array.from(t).forEach(i=>{var a;i&&((a=this.options.mimetypes)!=null&&a.includes(i.type))&&r.push(i)}),r.length>0&&this.options.handler.call(this,n,r)}}G7.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,n){if(!this.quill.scroll.query("image"))return;const t=n.map(r=>new Promise(i=>{const a=new FileReader;a.onload=()=>{i(a.result)},a.readAsDataURL(r)}));Promise.all(t).then(r=>{const i=r.reduce((a,s)=>a.insert({image:s}),new Bt().retain(e.index).delete(e.length));this.quill.updateContents(i,Rt.sources.USER),this.quill.setSelection(e.index+r.length,Rt.sources.SILENT)})}};const W$=["insertText","insertReplacementText"];class V$ extends Ru{constructor(n,t){super(n,t),n.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||n.on(vt.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(n){Q6({range:n,quill:this.quill})}replaceText(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n.length===0)return!1;if(t){const r=this.quill.getFormat(n.index,1);this.deleteRange(n),this.quill.updateContents(new Bt().retain(n.index).insert(t,r),vt.sources.USER)}else this.deleteRange(n);return this.quill.setSelection(n.index+t.length,0,vt.sources.SILENT),!0}handleBeforeInput(n){if(this.quill.composition.isComposing||n.defaultPrevented||!W$.includes(n.inputType))return;const t=n.getTargetRanges?n.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=Y$(n);if(r==null)return;const i=this.quill.selection.normalizeNative(t),a=i?this.quill.selection.normalizedToRange(i):null;a&&this.replaceText(a,r)&&n.preventDefault()}handleCompositionStart(){const n=this.quill.getSelection();n&&this.replaceText(n)}}function Y$(e){var n;return typeof e.data=="string"?e.data:(n=e.dataTransfer)!=null&&n.types.includes("text/plain")?e.dataTransfer.getData("text/plain"):null}const G$=/Mac/i.test(navigator.platform),Q$=100,K$=e=>!!(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="Home"||G$&&e.key==="a"&&e.ctrlKey===!0);class X$ extends Ru{constructor(t,r){super(t,r);Xe(this,"isListening",!1);Xe(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,r){let{line:i,event:a}=r;if(!(i instanceof Eu)||!i.uiNode)return!0;const s=getComputedStyle(i.domNode).direction==="rtl";return s&&a.key!=="ArrowRight"||!s&&a.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(a.shiftKey?1:0),vt.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&K$(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+Q$,this.isListening)return;this.isListening=!0;const t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const r=t.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const i=this.quill.scroll.find(r.startContainer);if(!(i instanceof Eu)||!i.uiNode)return;const a=document.createRange();a.setStartAfter(i.uiNode),a.setEndAfter(i.uiNode),t.removeAllRanges(),t.addRange(a)}}vt.register({"blots/block":ps,"blots/block/embed":Rl,"blots/break":Lu,"blots/container":vp,"blots/cursor":J0,"blots/embed":$6,"blots/inline":Hc,"blots/scroll":_0,"blots/text":ku,"modules/clipboard":W7,"modules/history":Y7,"modules/keyboard":xv,"modules/uploader":G7,"modules/input":V$,"modules/uiNode":X$});class Z$ extends Du{add(n,t){let r=0;if(t==="+1"||t==="-1"){const i=this.value(n)||0;r=t==="+1"?i+1:i-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(n),!0):super.add(n,r.toString())}canAdd(n,t){return super.canAdd(n,t)||super.canAdd(n,parseInt(t,10))}value(n){return parseInt(super.value(n),10)||void 0}}const J$=new Z$("indent","ql-indent",{scope:Ut.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class yS extends ps{}Xe(yS,"blotName","blockquote"),Xe(yS,"tagName","blockquote");var Ky;let eH=(Ky=class extends ps{static formats(n){return this.tagName.indexOf(n.tagName)+1}},Xe(Ky,"blotName","header"),Xe(Ky,"tagName",["H1","H2","H3","H4","H5","H6"]),Ky);class Xg extends vp{}Xg.blotName="list-container";Xg.tagName="OL";class Zg extends ps{static create(n){const t=super.create();return t.setAttribute("data-list",n),t}static formats(n){return n.getAttribute("data-list")||void 0}static register(){vt.register(Xg)}constructor(n,t){super(n,t);const r=t.ownerDocument.createElement("span"),i=a=>{if(!n.isEnabled())return;const s=this.statics.formats(t,n);s==="checked"?(this.format("list","unchecked"),a.preventDefault()):s==="unchecked"&&(this.format("list","checked"),a.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(n,t){n===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(n,t)}}Zg.blotName="list";Zg.tagName="LI";Xg.allowedChildren=[Zg];Zg.requiredContainer=Xg;class Cg extends Hc{static create(){return super.create()}static formats(){return!0}optimize(n){super.optimize(n),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}Xe(Cg,"blotName","bold"),Xe(Cg,"tagName",["STRONG","B"]);class xS extends Cg{}Xe(xS,"blotName","italic"),Xe(xS,"tagName",["EM","I"]);class qf extends Hc{static create(n){const t=super.create(n);return t.setAttribute("href",this.sanitize(n)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(n){return n.getAttribute("href")}static sanitize(n){return Q7(n,this.PROTOCOL_WHITELIST)?n:this.SANITIZED_URL}format(n,t){n!==this.statics.blotName||!t?super.format(n,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}Xe(qf,"blotName","link"),Xe(qf,"tagName","A"),Xe(qf,"SANITIZED_URL","about:blank"),Xe(qf,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function Q7(e,n){const t=document.createElement("a");t.href=e;const r=t.href.slice(0,t.href.indexOf(":"));return n.indexOf(r)>-1}class vS extends Hc{static create(n){return n==="super"?document.createElement("sup"):n==="sub"?document.createElement("sub"):super.create(n)}static formats(n){if(n.tagName==="SUB")return"sub";if(n.tagName==="SUP")return"super"}}Xe(vS,"blotName","script"),Xe(vS,"tagName",["SUB","SUP"]);class wS extends Cg{}Xe(wS,"blotName","strike"),Xe(wS,"tagName",["S","STRIKE"]);class SS extends Hc{}Xe(SS,"blotName","underline"),Xe(SS,"tagName","U");class tx extends $6{static create(n){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(n);return typeof n=="string"&&(window.katex.render(n,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",n)),t}static value(n){return n.getAttribute("data-value")}html(){const{formula:n}=this.value();return`<span>${n}</span>`}}Xe(tx,"blotName","formula"),Xe(tx,"className","ql-formula"),Xe(tx,"tagName","SPAN");const H8=["alt","height","width"];var Xy;let tH=(Xy=class extends sl{static create(n){const t=super.create(n);return typeof n=="string"&&t.setAttribute("src",this.sanitize(n)),t}static formats(n){return H8.reduce((t,r)=>(n.hasAttribute(r)&&(t[r]=n.getAttribute(r)),t),{})}static match(n){return/\.(jpe?g|gif|png)$/.test(n)||/^data:image\/.+;base64/.test(n)}static sanitize(n){return Q7(n,["http","https","data"])?n:"//:0"}static value(n){return n.getAttribute("src")}format(n,t){H8.indexOf(n)>-1?t?this.domNode.setAttribute(n,t):this.domNode.removeAttribute(n):super.format(n,t)}},Xe(Xy,"blotName","image"),Xe(Xy,"tagName","IMG"),Xy);const W8=["height","width"];class nx extends Rl{static create(n){const t=super.create(n);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(n)),t}static formats(n){return W8.reduce((t,r)=>(n.hasAttribute(r)&&(t[r]=n.getAttribute(r)),t),{})}static sanitize(n){return qf.sanitize(n)}static value(n){return n.getAttribute("src")}format(n,t){W8.indexOf(n)>-1?t?this.domNode.setAttribute(n,t):this.domNode.removeAttribute(n):super.format(n,t)}html(){const{video:n}=this.value();return`<a href="${n}">${n}</a>`}}Xe(nx,"blotName","video"),Xe(nx,"className","ql-video"),Xe(nx,"tagName","IFRAME");const X1=new Du("code-token","hljs",{scope:Ut.INLINE});class Fd extends Hc{static formats(n,t){for(;n!=null&&n!==t.domNode;){if(n.classList&&n.classList.contains(qs.className))return super.formats(n,t);n=n.parentNode}}constructor(n,t,r){super(n,t,r),X1.add(this.domNode,r)}format(n,t){n!==Fd.blotName?super.format(n,t):t?X1.add(this.domNode,t):(X1.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),X1.value(this.domNode)||this.unwrap()}}Fd.blotName="code-token";Fd.className="ql-token";class Tl extends qs{static create(n){const t=super.create(n);return typeof n=="string"&&t.setAttribute("data-language",n),t}static formats(n){return n.getAttribute("data-language")||"plain"}static register(){}format(n,t){n===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(n,t)}replaceWith(n,t){return this.formatAt(0,this.length(),Fd.blotName,!1),super.replaceWith(n,t)}}class rg extends wp{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(n,t){n===Tl.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(n,t)}))}formatAt(n,t,r,i){r===Tl.blotName&&(this.forceNext=!0),super.formatAt(n,t,r,i)}highlight(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(s=>s!==this.uiNode).map(s=>s.textContent).join(`
`)}
`,a=Tl.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const s=this.children.reduce((c,d)=>c.concat(I7(d,!1)),new Bt),l=n(i,a);s.diff(l).reduce((c,d)=>{let{retain:h,attributes:g}=d;return h?(g&&Object.keys(g).forEach(b=>{[Tl.blotName,Fd.blotName].includes(b)&&this.formatAt(c,h,b,g[b])}),c+h):c},0)}this.cachedText=i,this.forceNext=!1}}html(n,t){const[r]=this.children.find(n);return`<pre data-language="${r?Tl.formats(r.domNode):"plain"}">
${yv(this.code(n,t))}
</pre>`}optimize(n){if(super.optimize(n),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=Tl.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}rg.allowedChildren=[Tl];Tl.requiredContainer=rg;Tl.allowedChildren=[Fd,J0,ku,Lu];const nH=(e,n,t)=>{if(typeof e.versionString=="string"){const r=e.versionString.split(".")[0];if(parseInt(r,10)>=11)return e.highlight(t,{language:n}).value}return e.highlight(n,t).value};class K7 extends Ru{static register(){vt.register(Fd,!0),vt.register(Tl,!0),vt.register(rg,!0)}constructor(n,t){if(super(n,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:a}=i;return r[a]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(vt.events.SCROLL_BLOT_MOUNT,n=>{if(!(n instanceof rg))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:a}=r;const s=t.ownerDocument.createElement("option");s.textContent=a,s.setAttribute("value",i),t.appendChild(s)}),t.addEventListener("change",()=>{n.format(Tl.blotName,t.value),this.quill.root.focus(),this.highlight(n,!0)}),n.uiNode==null&&(n.attachUI(t),n.children.head&&(t.value=Tl.formats(n.children.head.domNode)))})}initTimer(){let n=null;this.quill.on(vt.events.SCROLL_OPTIMIZE,()=>{n&&clearTimeout(n),n=setTimeout(()=>{this.highlight(),n=null},this.options.interval)})}highlight(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(vt.sources.USER);const r=this.quill.getSelection();(n==null?this.quill.scroll.descendants(rg):[n]).forEach(a=>{a.highlight(this.highlightBlot,t)}),this.quill.update(vt.sources.SILENT),r!=null&&this.quill.setSelection(r,vt.sources.SILENT)}highlightBlot(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return yv(n).split(`
`).reduce((i,a,s)=>(s!==0&&i.insert(`
`,{[qs.blotName]:t}),i.insert(a)),new Bt);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(qs.className),r.innerHTML=nH(this.options.hljs,t,n),K6(this.quill.scroll,r,[(i,a)=>{const s=X1.value(i);return s?a.compose(new Bt().retain(a.length(),{[Fd.blotName]:s})):a}],[(i,a)=>i.data.split(`
`).reduce((s,l,c)=>(c!==0&&s.insert(`
`,{[qs.blotName]:t}),s.insert(l)),a)],new WeakMap)}}K7.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const dg=class dg extends ps{static create(n){const t=super.create();return n?t.setAttribute("data-row",n):t.setAttribute("data-row",X6()),t}static formats(n){if(n.hasAttribute("data-row"))return n.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(n,t){n===dg.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(n,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};Xe(dg,"blotName","table"),Xe(dg,"tagName","TD");let Su=dg;class zd extends vp{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const n=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return n.table===t.table&&n.table===r.table&&n.table===i.table}return!1}optimize(n){super.optimize(n),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),i=t.next.formats();if(r.table!==i.table){const a=this.splitAfter(t);a&&a.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}Xe(zd,"blotName","table-row"),Xe(zd,"tagName","TR");class Oc extends vp{}Xe(Oc,"blotName","table-body"),Xe(Oc,"tagName","TBODY");class tm extends vp{balanceCells(){const n=this.descendants(zd),t=n.reduce((r,i)=>Math.max(i.children.length,r),0);n.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=Su.formats(r.children.head.domNode));const a=this.scroll.create(Su.blotName,i);r.appendChild(a),a.optimize()})})}cells(n){return this.rows().map(t=>t.children.at(n))}deleteColumn(n){const[t]=this.descendant(Oc);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(n);i!=null&&i.remove()})}insertColumn(n){const[t]=this.descendant(Oc);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(n),a=Su.formats(r.children.head.domNode),s=this.scroll.create(Su.blotName,a);r.insertBefore(s,i)})}insertRow(n){const[t]=this.descendant(Oc);if(t==null||t.children.head==null)return;const r=X6(),i=this.scroll.create(zd.blotName);t.children.head.children.forEach(()=>{const s=this.scroll.create(Su.blotName,r);i.appendChild(s)});const a=t.children.at(n);t.insertBefore(i,a)}rows(){const n=this.children.head;return n==null?[]:n.children.map(t=>t)}}Xe(tm,"blotName","table-container"),Xe(tm,"tagName","TABLE");tm.allowedChildren=[Oc];Oc.requiredContainer=tm;Oc.allowedChildren=[zd];zd.requiredContainer=Oc;zd.allowedChildren=[Su];Su.requiredContainer=zd;function X6(){return`row-${Math.random().toString(36).slice(2,6)}`}class rH extends Ru{static register(){vt.register(Su),vt.register(zd),vt.register(Oc),vt.register(tm)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(tm).forEach(n=>{n.balanceCells()})}deleteColumn(){const[n,,t]=this.getTable();t!=null&&(n.deleteColumn(t.cellOffset()),this.quill.update(vt.sources.USER))}deleteRow(){const[,n]=this.getTable();n!=null&&(n.remove(),this.quill.update(vt.sources.USER))}deleteTable(){const[n]=this.getTable();if(n==null)return;const t=n.offset();n.remove(),this.quill.update(vt.sources.USER),this.quill.setSelection(t,vt.sources.SILENT)}getTable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(n==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(n.index);if(t==null||t.statics.blotName!==Su.blotName)return[null,null,null,-1];const i=t.parent;return[i.parent.parent,i,t,r]}insertColumn(n){const t=this.quill.getSelection();if(!t)return;const[r,i,a]=this.getTable(t);if(a==null)return;const s=a.cellOffset();r.insertColumn(s+n),this.quill.update(vt.sources.USER);let l=i.rowOffset();n===0&&(l+=1),this.quill.setSelection(t.index+l,t.length,vt.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(n){const t=this.quill.getSelection();if(!t)return;const[r,i,a]=this.getTable(t);if(a==null)return;const s=i.rowOffset();r.insertRow(s+n),this.quill.update(vt.sources.USER),n>0?this.quill.setSelection(t,vt.sources.SILENT):this.quill.setSelection(t.index+i.children.length,t.length,vt.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(n,t){const r=this.quill.getSelection();if(r==null)return;const i=new Array(n).fill(0).reduce(a=>{const s=new Array(t).fill(`
`).join("");return a.insert(s,{table:X6()})},new Bt().retain(r.index));this.quill.updateContents(i,vt.sources.USER),this.quill.setSelection(r.index,vt.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(vt.events.SCROLL_OPTIMIZE,n=>{n.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(vt.events.TEXT_CHANGE,(r,i,a)=>{a===vt.sources.USER&&this.balanceTables()}),!0):!1)})}}const V8=Hd("quill:toolbar");class Z6 extends Ru{constructor(n,t){var r,i;if(super(n,t),Array.isArray(this.options.container)){const a=document.createElement("div");a.setAttribute("role","toolbar"),iH(a,this.options.container),(i=(r=n.container)==null?void 0:r.parentNode)==null||i.insertBefore(a,n.container),this.container=a}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){V8.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(a=>{var l;const s=(l=this.options.handlers)==null?void 0:l[a];s&&this.addHandler(a,s)}),Array.from(this.container.querySelectorAll("button, select")).forEach(a=>{this.attach(a)}),this.quill.on(vt.events.EDITOR_CHANGE,()=>{const[a]=this.quill.selection.getRange();this.update(a)})}addHandler(n,t){this.handlers[n]=t}attach(n){let t=Array.from(n.classList).find(i=>i.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),n.tagName==="BUTTON"&&n.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){V8.warn("ignoring attaching to nonexistent format",t,n);return}const r=n.tagName==="SELECT"?"change":"click";n.addEventListener(r,i=>{let a;if(n.tagName==="SELECT"){if(n.selectedIndex<0)return;const l=n.options[n.selectedIndex];l.hasAttribute("selected")?a=!1:a=l.value||!1}else n.classList.contains("ql-active")?a=!1:a=n.value||!n.hasAttribute("value"),i.preventDefault();this.quill.focus();const[s]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,a);else if(this.quill.scroll.query(t).prototype instanceof sl){if(a=prompt(`Enter ${t}`),!a)return;this.quill.updateContents(new Bt().retain(s.index).delete(s.length).insert({[t]:a}),vt.sources.USER)}else this.quill.format(t,a,vt.sources.USER);this.update(s)}),this.controls.push([t,n])}update(n){const t=n==null?{}:this.quill.getFormat(n);this.controls.forEach(r=>{const[i,a]=r;if(a.tagName==="SELECT"){let s=null;if(n==null)s=null;else if(t[i]==null)s=a.querySelector("option[selected]");else if(!Array.isArray(t[i])){let l=t[i];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),s=a.querySelector(`option[value="${l}"]`)}s==null?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(n==null)a.classList.remove("ql-active"),a.setAttribute("aria-pressed","false");else if(a.hasAttribute("value")){const s=t[i],l=s===a.getAttribute("value")||s!=null&&s.toString()===a.getAttribute("value")||s==null&&!a.getAttribute("value");a.classList.toggle("ql-active",l),a.setAttribute("aria-pressed",l.toString())}else{const s=t[i]!=null;a.classList.toggle("ql-active",s),a.setAttribute("aria-pressed",s.toString())}})}}Z6.DEFAULTS={};function Y8(e,n,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${n}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${n}: ${t}`)):r.setAttribute("aria-label",n),e.appendChild(r)}function iH(e,n){Array.isArray(n[0])||(n=[n]),n.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(i=>{if(typeof i=="string")Y8(r,i);else{const a=Object.keys(i)[0],s=i[a];Array.isArray(s)?aH(r,a,s):Y8(r,a,s)}}),e.appendChild(r)})}function aH(e,n,t){const r=document.createElement("select");r.classList.add(`ql-${n}`),t.forEach(i=>{const a=document.createElement("option");i!==!1?a.setAttribute("value",String(i)):a.setAttribute("selected","selected"),r.appendChild(a)}),e.appendChild(r)}Z6.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(e!=null)if(e.length===0){const n=this.quill.getFormat();Object.keys(n).forEach(t=>{this.quill.scroll.query(t,Ut.INLINE)!=null&&this.quill.format(t,!1,vt.sources.USER)})}else this.quill.removeFormat(e.index,e.length,vt.sources.USER)},direction(e){const{align:n}=this.quill.getFormat();e==="rtl"&&n==null?this.quill.format("align","right",vt.sources.USER):!e&&n==="right"&&this.quill.format("align",!1,vt.sources.USER),this.quill.format("direction",e,vt.sources.USER)},indent(e){const n=this.quill.getSelection(),t=this.quill.getFormat(n),r=parseInt(t.indent||0,10);if(e==="+1"||e==="-1"){let i=e==="+1"?1:-1;t.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,vt.sources.USER)}},link(e){e===!0&&(e=prompt("Enter link URL:")),this.quill.format("link",e,vt.sources.USER)},list(e){const n=this.quill.getSelection(),t=this.quill.getFormat(n);e==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,vt.sources.USER):this.quill.format("list","unchecked",vt.sources.USER):this.quill.format("list",e,vt.sources.USER)}}};const sH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',oH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',lH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',uH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',cH='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',dH='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',fH='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',hH='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',G8='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',pH='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',mH='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',gH='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',bH='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',yH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',xH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',vH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',wH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',SH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',AH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',CH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',EH='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',_H='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',kH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',NH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',jH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',TH='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',OH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',IH='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',DH='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',LH='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',RH='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',MH='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',PH='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Eg={align:{"":sH,center:oH,right:lH,justify:uH},background:cH,blockquote:dH,bold:fH,clean:hH,code:G8,"code-block":G8,color:pH,direction:{"":mH,rtl:gH},formula:bH,header:{1:yH,2:xH,3:vH,4:wH,5:SH,6:AH},italic:CH,image:EH,indent:{"+1":_H,"-1":kH},link:NH,list:{bullet:jH,check:TH,ordered:OH},script:{sub:IH,super:DH},strike:LH,table:RH,underline:MH,video:PH},FH='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Q8=0;function K8(e,n){e.setAttribute(n,`${e.getAttribute(n)!=="true"}`)}class vv{constructor(n){this.select=n,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),K8(this.label,"aria-expanded"),K8(this.options,"aria-hidden")}buildItem(n){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=n.getAttribute("value");return r&&t.setAttribute("data-value",r),n.textContent&&t.setAttribute("data-label",n.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(t,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),t}buildLabel(){const n=document.createElement("span");return n.classList.add("ql-picker-label"),n.innerHTML=FH,n.tabIndex="0",n.setAttribute("role","button"),n.setAttribute("aria-expanded","false"),this.container.appendChild(n),n}buildOptions(){const n=document.createElement("span");n.classList.add("ql-picker-options"),n.setAttribute("aria-hidden","true"),n.tabIndex="-1",n.id=`ql-picker-options-${Q8}`,Q8+=1,this.label.setAttribute("aria-controls",n.id),this.options=n,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);n.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(n)}buildPicker(){Array.from(this.select.attributes).forEach(n=>{this.container.setAttribute(n.name,n.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");n!==r&&(r!=null&&r.classList.remove("ql-selected"),n!=null&&(n.classList.add("ql-selected"),this.select.selectedIndex=Array.from(n.parentNode.children).indexOf(n),n.hasAttribute("data-value")?this.label.setAttribute("data-value",n.getAttribute("data-value")):this.label.removeAttribute("data-value"),n.hasAttribute("data-label")?this.label.setAttribute("data-label",n.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let n;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];n=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=n!=null&&n!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class X7 extends vv{constructor(n,t){super(n),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(n){const t=super.buildItem(n);return t.style.backgroundColor=n.getAttribute("value")||"",t}selectItem(n,t){super.selectItem(n,t);const r=this.label.querySelector(".ql-color-label"),i=n&&n.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}}class Z7 extends vv{constructor(n,t){super(n),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(n,t){super.selectItem(n,t);const r=n||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const zH=e=>{const{overflowY:n}=getComputedStyle(e,null);return n!=="visible"&&n!=="clip"};class J7{constructor(n,t){this.quill=n,this.boundsContainer=t||document.body,this.root=n.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,zH(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(n){const t=n.left+n.width/2-this.root.offsetWidth/2,r=n.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),a=this.root.getBoundingClientRect();let s=0;if(a.right>i.right&&(s=i.right-a.right,this.root.style.left=`${t+s}px`),a.left<i.left&&(s=i.left-a.left,this.root.style.left=`${t+s}px`),a.bottom>i.bottom){const l=a.bottom-a.top,c=n.bottom-n.top+l;this.root.style.top=`${r-c}px`,this.root.classList.add("ql-flip")}return s}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const qH=[!1,"center","right","justify"],BH=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],UH=[!1,"serif","monospace"],$H=["1","2","3",!1],HH=["small",!1,"large","huge"];class Jg extends em{constructor(n,t){super(n,t);const r=i=>{if(!document.body.contains(n.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(a=>{a.container.contains(i.target)||a.close()})};n.emitter.listenDOM("click",document.body,r)}addModule(n){const t=super.addModule(n);return n==="toolbar"&&this.extendToolbar(t),t}buildButtons(n,t){Array.from(n).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(a=>{if(a.startsWith("ql-")&&(a=a.slice(3),t[a]!=null))if(a==="direction")r.innerHTML=t[a][""]+t[a].rtl;else if(typeof t[a]=="string")r.innerHTML=t[a];else{const s=r.value||"";s!=null&&t[a][s]&&(r.innerHTML=t[a][s])}})})}buildPickers(n,t){this.pickers=Array.from(n).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&b1(i,qH),typeof t.align=="object"))return new Z7(i,t.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const a=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&b1(i,BH,a==="background"?"#ffffff":"#000000"),new X7(i,t[a])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?b1(i,UH):i.classList.contains("ql-header")?b1(i,$H):i.classList.contains("ql-size")&&b1(i,HH)),new vv(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(Rt.events.EDITOR_CHANGE,r)}}Jg.DEFAULTS=Qf({},em.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");e==null&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",()=>{const n=this.quill.getSelection(!0);this.quill.uploader.upload(n,e.files),e.value=""}),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class eO extends J7{constructor(n,t){super(n,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",n=>{n.key==="Enter"?(this.save(),n.preventDefault()):n.key==="Escape"&&(this.cancel(),n.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:n!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${n}`)||""),this.root.setAttribute("data-mode",n)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:n}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,Rt.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,Rt.sources.USER)),this.quill.root.scrollTop=t;break}case"video":n=WH(n);case"formula":{if(!n)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),n,Rt.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",Rt.sources.USER),this.quill.setSelection(r+2,Rt.sources.USER)}break}}this.textbox.value="",this.hide()}}function WH(e){let n=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return n?`${n[1]||"https"}://www.youtube.com/embed/${n[2]}?showinfo=0`:(n=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${n[1]||"https"}://player.vimeo.com/video/${n[2]}/`:e}function b1(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;n.forEach(r=>{const i=document.createElement("option");r===t?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),e.appendChild(i)})}const VH=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class tO extends eO{constructor(n,t){super(n,t),this.quill.on(Rt.events.EDITOR_CHANGE,(r,i,a,s)=>{if(r===Rt.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&s===Rt.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(i.index,i.length);if(l.length===1){const c=this.quill.getBounds(i);c!=null&&this.position(c)}else{const c=l[l.length-1],d=this.quill.getIndex(c),h=Math.min(c.length()-1,i.index+i.length-d),g=this.quill.getBounds(new cp(d,h));g!=null&&this.position(g)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Rt.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const n=this.quill.getSelection();if(n!=null){const t=this.quill.getBounds(n);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(n){const t=super.position(n),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}Xe(tO,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class nO extends Jg{constructor(n,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=VH),super(n,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(n){this.tooltip=new tO(this.quill,this.options.bounds),n.container!=null&&(this.tooltip.root.appendChild(n.container),this.buildButtons(n.container.querySelectorAll("button"),Eg),this.buildPickers(n.container.querySelectorAll("select"),Eg))}}nO.DEFAULTS=Qf({},Jg.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,vt.sources.USER)}}}}});const YH=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class rO extends eO{constructor(){super(...arguments);Xe(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,Rt.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(Rt.events.SELECTION_CHANGE,(t,r,i)=>{if(t!=null){if(t.length===0&&i===Rt.sources.USER){const[a,s]=this.quill.scroll.descendant(qf,t.index);if(a!=null){this.linkRange=new cp(t.index-s,a.length());const l=qf.formats(a.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const c=this.quill.getBounds(this.linkRange);c!=null&&this.position(c);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}Xe(rO,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class iO extends Jg{constructor(n,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=YH),super(n,t),this.quill.container.classList.add("ql-snow")}extendToolbar(n){n.container!=null&&(n.container.classList.add("ql-snow"),this.buildButtons(n.container.querySelectorAll("button"),Eg),this.buildPickers(n.container.querySelectorAll("select"),Eg),this.tooltip=new rO(this.quill,this.options.bounds),n.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{n.handlers.link.call(n,!r.format.link)}))}}iO.DEFAULTS=Qf({},Jg.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const n=this.quill.getSelection();if(n==null||n.length===0)return;let t=this.quill.getText(n);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,vt.sources.USER)}}}}});vt.register({"attributors/attribute/direction":P7,"attributors/class/align":L7,"attributors/class/background":u$,"attributors/class/color":l$,"attributors/class/direction":F7,"attributors/class/font":B7,"attributors/class/size":$7,"attributors/style/align":R7,"attributors/style/background":V6,"attributors/style/color":W6,"attributors/style/direction":z7,"attributors/style/font":U7,"attributors/style/size":H7},!0);vt.register({"formats/align":L7,"formats/direction":F7,"formats/indent":J$,"formats/background":V6,"formats/color":W6,"formats/font":B7,"formats/size":$7,"formats/blockquote":yS,"formats/code-block":qs,"formats/header":eH,"formats/list":Zg,"formats/bold":Cg,"formats/code":Y6,"formats/italic":xS,"formats/link":qf,"formats/script":vS,"formats/strike":wS,"formats/underline":SS,"formats/formula":tx,"formats/image":tH,"formats/video":nx,"modules/syntax":K7,"modules/table":rH,"modules/toolbar":Z6,"themes/bubble":nO,"themes/snow":iO,"ui/icons":Eg,"ui/picker":vv,"ui/icon-picker":Z7,"ui/color-picker":X7,"ui/tooltip":J7},!0);class wv extends tt.Component{constructor(n){super(n),this.editingAreaRef=K.createRef(),this.containerRef=K.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(r,i,a,s)=>{var l,c;r==="text-change"?(l=this.onEditorChangeText)==null||l.call(this,this.editor.root.innerHTML,i,s,this.unprivilegedEditor):r==="selection-change"&&((c=this.onEditorChangeSelection)==null||c.call(this,i,s,this.unprivilegedEditor))};const t=this.isControlled()?n.value:n.defaultValue;this.value=t??""}validateProps(n){if(tt.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(tt.Children.count(n.children)){const t=tt.Children.only(n.children);if((t==null?void 0:t.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(n,t){if(this.validateProps(n),!this.editor||this.state.generation!==t.generation)return!0;if("value"in n){const r=this.getEditorContents(),i=n.value??"";this.isEqualValue(i,r)||this.setEditorContents(this.editor,i)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),[...this.cleanProps,...this.dirtyProps].some(r=>!Rf(n[r],this.props[r]))}shouldComponentRegenerate(n){return this.dirtyProps.some(t=>!Rf(n[t],this.props[t]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(n,t){if(this.editor&&this.shouldComponentRegenerate(n)){const r=this.editor.getContents(),i=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:i},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){const{delta:r,selection:i}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const a=this.editor;a.setContents(r),X8(()=>this.setEditorSelection(a,i))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){var r,i;if(!this.editor)return;this.unhookEditor(this.editor);const n=(r=this.props.modules)==null?void 0:r.toolbar;if(!(typeof n=="object"&&n&&"container"in n&&typeof n.container=="string"||typeof n=="string")){const a=(i=this.containerRef.current)==null?void 0:i.querySelector(".ql-toolbar");a&&a.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(n,t){const r=new vt(n,t);return t.tabIndex!=null&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r}hookEditor(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)}unhookEditor(n){n.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(n){return n&&n.ops}isEqualValue(n,t){return this.isDelta(n)&&this.isDelta(t)?Rf(n.ops,t.ops):Rf(n,t)}setEditorContents(n,t){this.value=t;const r=this.getEditorSelection();typeof t=="string"?n.setContents(n.clipboard.convert({html:t})):n.setContents(t),X8(()=>this.setEditorSelection(n,r))}setEditorSelection(n,t){if(this.selection=t,t){const r=n.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),n.setSelection(t)}}setEditorTabIndex(n,t){var r;(r=n==null?void 0:n.scroll)!=null&&r.domNode&&(n.scroll.domNode.tabIndex=t)}setEditorReadOnly(n,t){t?n.disable():n.enable()}makeUnprivilegedEditor(n){const t=n;return{getHTML:()=>t.root.innerHTML,getSemanticHTML:t.getSemanticHTML.bind(t),getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}}getEditingArea(){const n=this.editingAreaRef.current;if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n}renderEditingArea(){const{children:n,preserveWhitespace:t}=this.props,{generation:r}=this.state,i={key:r,ref:this.editingAreaRef};return tt.Children.count(n)?tt.cloneElement(tt.Children.only(n),i):t?tt.createElement("pre",{...i}):tt.createElement("div",{...i})}render(){return tt.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(n,t,r,i){var s,l;if(!this.editor)return;const a=this.isDelta(this.value)?i.getContents():i.getHTML();a!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=a,(l=(s=this.props).onChange)==null||l.call(s,n,t,r,i))}onEditorChangeSelection(n,t,r){var l,c,d,h,g,b;if(!this.editor)return;const i=this.getEditorSelection(),a=!i&&n,s=i&&!n;Rf(n,i)||(this.selection=n,(c=(l=this.props).onChangeSelection)==null||c.call(l,n,t,r),a?(h=(d=this.props).onFocus)==null||h.call(d,n,t,r):s&&((b=(g=this.props).onBlur)==null||b.call(g,i,t,r)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}wv.displayName="React Quill";wv.Quill=vt;wv.defaultProps={theme:"snow",modules:{},readOnly:!1};function X8(e){Promise.resolve().then(e)}const GH=({content:e,onChange:n})=>{const t=a=>{n(a)},r={toolbar:[[{header:[1,2,3,!1]}],["bold","italic"],["blockquote",{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},i=["header","bold","italic","blockquote","list","link"];return f.jsx(wv,{value:e,onChange:t,modules:r,formats:i,theme:"snow",placeholder:"Start writing...",style:{backgroundColor:"white",borderRadius:"4px",minHeight:"150px"}})},QH=(e,n={enabled:!0,priority:"low"})=>{const t=K.useCallback(r=>{!n.enabled||r.length===0||r.forEach((i,a)=>{if(!i||i.startsWith("data:"))return;const s=new Image;"loading"in s&&(s.loading="lazy");const l=n.priority==="low"?a*100:0;setTimeout(()=>{s.src=i,s.onload=()=>{console.log(` Preloaded image: ${i.substring(0,50)}...`)},s.onerror=c=>{console.error(` Failed to preload image: ${i}`,c),console.error("Image details:",{url:i,naturalWidth:s.naturalWidth,naturalHeight:s.naturalHeight,complete:s.complete})}},l)})},[n.enabled,n.priority]);return K.useEffect(()=>{t(e)},[e,t]),{preloadImages:t}},aO=(e,n,t=!0)=>{const{preloadImages:r}=QH([],{enabled:t,priority:"low"});K.useEffect(()=>{var s,l;if(!t||!e.length)return;const i=[];if(n>0){const c=e[n-1];c!=null&&c.images&&i.push(...c.images.map(d=>d.url)),(s=c==null?void 0:c.subsections)==null||s.forEach(d=>{var h;d.images&&i.push(...d.images.map(g=>g.url)),(h=d==null?void 0:d.subSubsections)==null||h.forEach(g=>{g.images&&i.push(...g.images.map(b=>b.url))})})}if(n<e.length-1){const c=e[n+1];c!=null&&c.images&&i.push(...c.images.map(d=>d.url)),(l=c==null?void 0:c.subsections)==null||l.forEach(d=>{var h;d.images&&i.push(...d.images.map(g=>g.url)),(h=d==null?void 0:d.subSubsections)==null||h.forEach(g=>{g.images&&i.push(...g.images.map(b=>b.url))})})}const a=Array.from(new Set(i.filter(Boolean)));a.length>0&&(console.log(`Preloading ${a.length} images from adjacent sections`),r(a))},[e,n,t,r])},KH=({value:e,onChange:n,disabled:t=!1})=>{const[r,i]=K.useState([]),[a,s]=K.useState(!0),{userDetails:l}=Ci();K.useEffect(()=>{if(console.log("User Details in CourseDropdown:",l),l!=null&&l.classes){const d=Object.entries(l.classes).filter(([h,g])=>g.isCourseAdmin||l.isSuperAdmin).map(([h,g])=>({id:h,number:g.number,title:g.title}));console.log("Filtered Courses for Dropdown:",d),i(d)}else i([]);s(!1)},[l]);const c=r.some(d=>d.id===e);return a?f.jsx(be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:f.jsx(Rr,{})}):f.jsx(zt,{select:!0,label:"Select Course",value:c?e:"",onChange:d=>n(d.target.value),fullWidth:!0,disabled:t,sx:{mb:2},error:!c&&e!=="",helperText:!c&&e!==""?"Invalid course selected":"",children:r.length>0?r.map(d=>f.jsxs(Kn,{value:d.id,children:[d.number," - ",d.title]},d.id)):f.jsx(Kn,{disabled:!0,children:"No courses available"})})};function Lt(e){const n=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&n==="[object Date]"?new e.constructor(+e):typeof e=="number"||n==="[object Number]"||typeof e=="string"||n==="[object String]"?new Date(e):new Date(NaN)}function Ir(e,n){return e instanceof Date?new e.constructor(n):new Date(n)}function _u(e,n){const t=Lt(e);return isNaN(n)?Ir(e,NaN):(n&&t.setDate(t.getDate()+n),t)}function Nu(e,n){const t=Lt(e);if(isNaN(n))return Ir(e,NaN);if(!n)return t;const r=t.getDate(),i=Ir(e,t.getTime());i.setMonth(t.getMonth()+n+1,0);const a=i.getDate();return r>=a?i:(t.setFullYear(i.getFullYear(),i.getMonth(),r),t)}function J6(e,n){const t=+Lt(e);return Ir(e,t+n)}const sO=6048e5,XH=864e5,Sv=6e4,Av=36e5,ZH=1e3;function JH(e,n){return J6(e,n*Av)}let eW={};function Ap(){return eW}function qd(e,n){var l,c,d,h;const t=Ap(),r=(n==null?void 0:n.weekStartsOn)??((c=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??t.weekStartsOn??((h=(d=t.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=Lt(e),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function nm(e){return qd(e,{weekStartsOn:1})}function oO(e){const n=Lt(e),t=n.getFullYear(),r=Ir(e,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const i=nm(r),a=Ir(e,0);a.setFullYear(t,0,4),a.setHours(0,0,0,0);const s=nm(a);return n.getTime()>=i.getTime()?t+1:n.getTime()>=s.getTime()?t:t-1}function dp(e){const n=Lt(e);return n.setHours(0,0,0,0),n}function Lx(e){const n=Lt(e),t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),+e-+t}function rm(e,n){const t=dp(e),r=dp(n),i=+t-Lx(t),a=+r-Lx(r);return Math.round((i-a)/XH)}function tW(e){const n=oO(e),t=Ir(e,0);return t.setFullYear(n,0,4),t.setHours(0,0,0,0),nm(t)}function AS(e,n){return J6(e,n*Sv)}function eA(e,n){const t=n*3;return Nu(e,t)}function nW(e,n){return J6(e,n*1e3)}function Rx(e,n){const t=n*7;return _u(e,t)}function Id(e,n){return Nu(e,n*12)}function Z8(e){let n;return e.forEach(function(t){const r=Lt(t);(n===void 0||n<r||isNaN(Number(r)))&&(n=r)}),n||new Date(NaN)}function J8(e){let n;return e.forEach(t=>{const r=Lt(t);(!n||n>r||isNaN(+r))&&(n=r)}),n||new Date(NaN)}function rW(e,n){const t=dp(e),r=dp(n);return+t==+r}function Dd(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Mx(e){if(!Dd(e)&&typeof e!="number")return!1;const n=Lt(e);return!isNaN(Number(n))}function Px(e,n){const t=Lt(e),r=Lt(n),i=t.getFullYear()-r.getFullYear(),a=t.getMonth()-r.getMonth();return i*12+a}function Jh(e){const n=Lt(e);return Math.trunc(n.getMonth()/3)+1}function Fx(e,n){const t=Lt(e),r=Lt(n),i=t.getFullYear()-r.getFullYear(),a=Jh(t)-Jh(r);return i*4+a}function zx(e,n){const t=Lt(e),r=Lt(n);return t.getFullYear()-r.getFullYear()}function iW(e,n){const t=Lt(e),r=Lt(n),i=ek(t,r),a=Math.abs(rm(t,r));t.setDate(t.getDate()-i*a);const s=+(ek(t,r)===-i),l=i*(a-s);return l===0?0:l}function ek(e,n){const t=e.getFullYear()-n.getFullYear()||e.getMonth()-n.getMonth()||e.getDate()-n.getDate()||e.getHours()-n.getHours()||e.getMinutes()-n.getMinutes()||e.getSeconds()-n.getSeconds()||e.getMilliseconds()-n.getMilliseconds();return t<0?-1:t>0?1:t}function lO(e){const n=Lt(e);return n.setHours(23,59,59,999),n}function uO(e){const n=Lt(e),t=n.getMonth();return n.setFullYear(n.getFullYear(),t+1,0),n.setHours(23,59,59,999),n}function CS(e){const n=Lt(e),t=n.getMonth(),r=t-t%3;return n.setMonth(r,1),n.setHours(0,0,0,0),n}function cO(e){const n=Lt(e);return n.setDate(1),n.setHours(0,0,0,0),n}function dO(e){const n=Lt(e),t=n.getFullYear();return n.setFullYear(t+1,0,0),n.setHours(23,59,59,999),n}function Cv(e){const n=Lt(e),t=Ir(e,0);return t.setFullYear(n.getFullYear(),0,1),t.setHours(0,0,0,0),t}function aW(e,n){var l,c;const t=Ap(),r=t.weekStartsOn??((c=(l=t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,i=Lt(e),a=i.getDay(),s=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const sW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oW=(e,n,t)=>{let r;const i=sW[e];return typeof i=="string"?r=i:n===1?r=i.one:r=i.other.replace("{{count}}",n.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Q5(e){return(n={})=>{const t=n.width?String(n.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const lW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dW={date:Q5({formats:lW,defaultWidth:"full"}),time:Q5({formats:uW,defaultWidth:"full"}),dateTime:Q5({formats:cW,defaultWidth:"full"})},fW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hW=(e,n,t,r)=>fW[e];function y1(e){return(n,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,l=t!=null&&t.width?String(t.width):s;i=e.formattingValues[l]||e.formattingValues[s]}else{const s=e.defaultWidth,l=t!=null&&t.width?String(t.width):e.defaultWidth;i=e.values[l]||e.values[s]}const a=e.argumentCallback?e.argumentCallback(n):n;return i[a]}}const pW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vW=(e,n)=>{const t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},wW={ordinalNumber:vW,era:y1({values:pW,defaultWidth:"wide"}),quarter:y1({values:mW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:y1({values:gW,defaultWidth:"wide"}),day:y1({values:bW,defaultWidth:"wide"}),dayPeriod:y1({values:yW,defaultWidth:"wide",formattingValues:xW,defaultFormattingWidth:"wide"})};function x1(e){return(n,t={})=>{const r=t.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=n.match(i);if(!a)return null;const s=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?AW(l,g=>g.test(s)):SW(l,g=>g.test(s));let d;d=e.valueCallback?e.valueCallback(c):c,d=t.valueCallback?t.valueCallback(d):d;const h=n.slice(s.length);return{value:d,rest:h}}}function SW(e,n){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n(e[t]))return t}function AW(e,n){for(let t=0;t<e.length;t++)if(n(e[t]))return t}function CW(e){return(n,t={})=>{const r=n.match(e.matchPattern);if(!r)return null;const i=r[0],a=n.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=t.valueCallback?t.valueCallback(s):s;const l=n.slice(i.length);return{value:s,rest:l}}}const EW=/^(\d+)(th|st|nd|rd)?/i,_W=/\d+/i,kW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NW={any:[/^b/i,/^(a|c)/i]},jW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},TW={any:[/1/i,/2/i,/3/i,/4/i]},OW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},IW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},DW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},LW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},RW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},MW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PW={ordinalNumber:CW({matchPattern:EW,parsePattern:_W,valueCallback:e=>parseInt(e,10)}),era:x1({matchPatterns:kW,defaultMatchWidth:"wide",parsePatterns:NW,defaultParseWidth:"any"}),quarter:x1({matchPatterns:jW,defaultMatchWidth:"wide",parsePatterns:TW,defaultParseWidth:"any",valueCallback:e=>e+1}),month:x1({matchPatterns:OW,defaultMatchWidth:"wide",parsePatterns:IW,defaultParseWidth:"any"}),day:x1({matchPatterns:DW,defaultMatchWidth:"wide",parsePatterns:LW,defaultParseWidth:"any"}),dayPeriod:x1({matchPatterns:RW,defaultMatchWidth:"any",parsePatterns:MW,defaultParseWidth:"any"})},fO={code:"en-US",formatDistance:oW,formatLong:dW,formatRelative:hW,localize:wW,match:PW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function FW(e){const n=Lt(e);return rm(n,Cv(n))+1}function tA(e){const n=Lt(e),t=+nm(n)-+tW(n);return Math.round(t/sO)+1}function nA(e,n){var h,g,b,m;const t=Lt(e),r=t.getFullYear(),i=Ap(),a=(n==null?void 0:n.firstWeekContainsDate)??((g=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(b=i.locale)==null?void 0:b.options)==null?void 0:m.firstWeekContainsDate)??1,s=Ir(e,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const l=qd(s,n),c=Ir(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const d=qd(c,n);return t.getTime()>=l.getTime()?r+1:t.getTime()>=d.getTime()?r:r-1}function zW(e,n){var l,c,d,h;const t=Ap(),r=(n==null?void 0:n.firstWeekContainsDate)??((c=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??t.firstWeekContainsDate??((h=(d=t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=nA(e,n),a=Ir(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),qd(a,n)}function hO(e,n){const t=Lt(e),r=+qd(t,n)-+zW(t,n);return Math.round(r/sO)+1}function Or(e,n){const t=e<0?"-":"",r=Math.abs(e).toString().padStart(n,"0");return t+r}const jf={y(e,n){const t=e.getFullYear(),r=t>0?t:1-t;return Or(n==="yy"?r%100:r,n.length)},M(e,n){const t=e.getMonth();return n==="M"?String(t+1):Or(t+1,2)},d(e,n){return Or(e.getDate(),n.length)},a(e,n){const t=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,n){return Or(e.getHours()%12||12,n.length)},H(e,n){return Or(e.getHours(),n.length)},m(e,n){return Or(e.getMinutes(),n.length)},s(e,n){return Or(e.getSeconds(),n.length)},S(e,n){const t=n.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Or(i,n.length)}},a0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tk={G:function(e,n,t){const r=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(e,n,t){if(n==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return jf.y(e,n)},Y:function(e,n,t,r){const i=nA(e,r),a=i>0?i:1-i;if(n==="YY"){const s=a%100;return Or(s,2)}return n==="Yo"?t.ordinalNumber(a,{unit:"year"}):Or(a,n.length)},R:function(e,n){const t=oO(e);return Or(t,n.length)},u:function(e,n){const t=e.getFullYear();return Or(t,n.length)},Q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return Or(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return Or(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,t){const r=e.getMonth();switch(n){case"M":case"MM":return jf.M(e,n);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,t){const r=e.getMonth();switch(n){case"L":return String(r+1);case"LL":return Or(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,t,r){const i=hO(e,r);return n==="wo"?t.ordinalNumber(i,{unit:"week"}):Or(i,n.length)},I:function(e,n,t){const r=tA(e);return n==="Io"?t.ordinalNumber(r,{unit:"week"}):Or(r,n.length)},d:function(e,n,t){return n==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):jf.d(e,n)},D:function(e,n,t){const r=FW(e);return n==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Or(r,n.length)},E:function(e,n,t){const r=e.getDay();switch(n){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,t,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return Or(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,t,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return Or(a,n.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,t){const r=e.getDay(),i=r===0?7:r;switch(n){case"i":return String(i);case"ii":return Or(i,n.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,t){const i=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,t){const r=e.getHours();let i;switch(r===12?i=a0.noon:r===0?i=a0.midnight:i=r/12>=1?"pm":"am",n){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,t){const r=e.getHours();let i;switch(r>=17?i=a0.evening:r>=12?i=a0.afternoon:r>=4?i=a0.morning:i=a0.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,t){if(n==="ho"){let r=e.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return jf.h(e,n)},H:function(e,n,t){return n==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):jf.H(e,n)},K:function(e,n,t){const r=e.getHours()%12;return n==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Or(r,n.length)},k:function(e,n,t){let r=e.getHours();return r===0&&(r=24),n==="ko"?t.ordinalNumber(r,{unit:"hour"}):Or(r,n.length)},m:function(e,n,t){return n==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):jf.m(e,n)},s:function(e,n,t){return n==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):jf.s(e,n)},S:function(e,n){return jf.S(e,n)},X:function(e,n,t){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(n){case"X":return rk(r);case"XXXX":case"XX":return Uh(r);case"XXXXX":case"XXX":default:return Uh(r,":")}},x:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"x":return rk(r);case"xxxx":case"xx":return Uh(r);case"xxxxx":case"xxx":default:return Uh(r,":")}},O:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+nk(r,":");case"OOOO":default:return"GMT"+Uh(r,":")}},z:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+nk(r,":");case"zzzz":default:return"GMT"+Uh(r,":")}},t:function(e,n,t){const r=Math.trunc(e.getTime()/1e3);return Or(r,n.length)},T:function(e,n,t){const r=e.getTime();return Or(r,n.length)}};function nk(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?t+String(i):t+String(i)+n+Or(a,2)}function rk(e,n){return e%60===0?(e>0?"-":"+")+Or(Math.abs(e)/60,2):Uh(e,n)}function Uh(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),i=Or(Math.trunc(r/60),2),a=Or(r%60,2);return t+i+n+a}const ik=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},pO=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},qW=(e,n)=>{const t=e.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return ik(e,n);let a;switch(r){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",ik(r,n)).replace("{{time}}",pO(i,n))},qx={p:pO,P:qW},BW=/^D+$/,UW=/^Y+$/,$W=["D","DD","YY","YYYY"];function mO(e){return BW.test(e)}function gO(e){return UW.test(e)}function ES(e,n,t){const r=HW(e,n,t);if(console.warn(r),$W.includes(e))throw new RangeError(r)}function HW(e,n,t){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const WW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,VW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,YW=/^'([^]*?)'?$/,GW=/''/g,QW=/[a-zA-Z]/;function ak(e,n,t){var h,g,b,m,x,y,A,w;const r=Ap(),i=(t==null?void 0:t.locale)??r.locale??fO,a=(t==null?void 0:t.firstWeekContainsDate)??((g=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(b=r.locale)==null?void 0:b.options)==null?void 0:m.firstWeekContainsDate)??1,s=(t==null?void 0:t.weekStartsOn)??((y=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((w=(A=r.locale)==null?void 0:A.options)==null?void 0:w.weekStartsOn)??0,l=Lt(e);if(!Mx(l))throw new RangeError("Invalid time value");let c=n.match(VW).map(C=>{const N=C[0];if(N==="p"||N==="P"){const P=qx[N];return P(C,i.formatLong)}return C}).join("").match(WW).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const N=C[0];if(N==="'")return{isToken:!1,value:KW(C)};if(tk[N])return{isToken:!0,value:C};if(N.match(QW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:C}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return c.map(C=>{if(!C.isToken)return C.value;const N=C.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&gO(N)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&mO(N))&&ES(N,n,String(e));const P=tk[N[0]];return P(l,N,i.localize,d)}).join("")}function KW(e){const n=e.match(YW);return n?n[1].replace(GW,"'"):e}function sk(e){return Lt(e).getDate()}function XW(e){return Lt(e).getDay()}function ZW(e){const n=Lt(e),t=n.getFullYear(),r=n.getMonth(),i=Ir(e,0);return i.setFullYear(t,r+1,0),i.setHours(0,0,0,0),i.getDate()}function JW(){return Object.assign({},Ap())}function Ic(e){return Lt(e).getHours()}function eV(e){let t=Lt(e).getDay();return t===0&&(t=7),t}function Dc(e){return Lt(e).getMinutes()}function eo(e){return Lt(e).getMonth()}function Ld(e){return Lt(e).getSeconds()}function _S(e){return Lt(e).getTime()}function Rn(e){return Lt(e).getFullYear()}function eh(e,n){const t=Lt(e),r=Lt(n);return t.getTime()>r.getTime()}function fp(e,n){const t=Lt(e),r=Lt(n);return+t<+r}function tV(e,n){const t=Lt(e),r=Lt(n);return+t==+r}function nV(e,n){const t=n instanceof Date?Ir(n,0):new n(0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}const rV=10;class bO{constructor(){Xe(this,"subPriority",0)}validate(n,t){return!0}}class iV extends bO{constructor(n,t,r,i,a){super(),this.value=n,this.validateValue=t,this.setValue=r,this.priority=i,a&&(this.subPriority=a)}validate(n,t){return this.validateValue(n,this.value,t)}set(n,t,r){return this.setValue(n,t,this.value,r)}}class aV extends bO{constructor(){super(...arguments);Xe(this,"priority",rV);Xe(this,"subPriority",-1)}set(t,r){return r.timestampIsSet?t:Ir(t,nV(t,Date))}}let xr=class{run(n,t,r,i){const a=this.parse(n,t,r,i);return a?{setter:new iV(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(n,t,r){return!0}};class sV extends xr{constructor(){super(...arguments);Xe(this,"priority",140);Xe(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const pa={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ac={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ma(e,n){return e&&{value:n(e.value),rest:e.rest}}function Fi(e,n){const t=n.match(e);return t?{value:parseInt(t[0],10),rest:n.slice(t[0].length)}:null}function Cc(e,n){const t=n.match(e);if(!t)return null;if(t[0]==="Z")return{value:0,rest:n.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,s=t[5]?parseInt(t[5],10):0;return{value:r*(i*Av+a*Sv+s*ZH),rest:n.slice(t[0].length)}}function yO(e){return Fi(pa.anyDigitsSigned,e)}function na(e,n){switch(e){case 1:return Fi(pa.singleDigit,n);case 2:return Fi(pa.twoDigits,n);case 3:return Fi(pa.threeDigits,n);case 4:return Fi(pa.fourDigits,n);default:return Fi(new RegExp("^\\d{1,"+e+"}"),n)}}function Bx(e,n){switch(e){case 1:return Fi(pa.singleDigitSigned,n);case 2:return Fi(pa.twoDigitsSigned,n);case 3:return Fi(pa.threeDigitsSigned,n);case 4:return Fi(pa.fourDigitsSigned,n);default:return Fi(new RegExp("^-?\\d{1,"+e+"}"),n)}}function rA(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function xO(e,n){const t=n>0,r=t?n:1-n;let i;if(r<=50)i=e||100;else{const a=r+50,s=Math.trunc(a/100)*100,l=e>=a%100;i=e+s-(l?100:0)}return t?i:1-i}function vO(e){return e%400===0||e%4===0&&e%100!==0}class oV extends xr{constructor(){super(...arguments);Xe(this,"priority",130);Xe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const a=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return ma(na(4,t),a);case"yo":return ma(i.ordinalNumber(t,{unit:"year"}),a);default:return ma(na(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const a=t.getFullYear();if(i.isTwoDigitYear){const l=xO(i.year,a);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const s=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class lV extends xr{constructor(){super(...arguments);Xe(this,"priority",130);Xe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const a=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return ma(na(4,t),a);case"Yo":return ma(i.ordinalNumber(t,{unit:"year"}),a);default:return ma(na(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,a){const s=nA(t,a);if(i.isTwoDigitYear){const c=xO(i.year,s);return t.setFullYear(c,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),qd(t,a)}const l=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(l,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),qd(t,a)}}class uV extends xr{constructor(){super(...arguments);Xe(this,"priority",130);Xe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return Bx(r==="R"?4:r.length,t)}set(t,r,i){const a=Ir(t,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),nm(a)}}class cV extends xr{constructor(){super(...arguments);Xe(this,"priority",130);Xe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return Bx(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class dV extends xr{constructor(){super(...arguments);Xe(this,"priority",120);Xe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return na(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class fV extends xr{constructor(){super(...arguments);Xe(this,"priority",120);Xe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return na(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class hV extends xr{constructor(){super(...arguments);Xe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Xe(this,"priority",110)}parse(t,r,i){const a=s=>s-1;switch(r){case"M":return ma(Fi(pa.month,t),a);case"MM":return ma(na(2,t),a);case"Mo":return ma(i.ordinalNumber(t,{unit:"month"}),a);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class pV extends xr{constructor(){super(...arguments);Xe(this,"priority",110);Xe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const a=s=>s-1;switch(r){case"L":return ma(Fi(pa.month,t),a);case"LL":return ma(na(2,t),a);case"Lo":return ma(i.ordinalNumber(t,{unit:"month"}),a);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function mV(e,n,t){const r=Lt(e),i=hO(r,t)-n;return r.setDate(r.getDate()-i*7),r}class gV extends xr{constructor(){super(...arguments);Xe(this,"priority",100);Xe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return Fi(pa.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return na(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,a){return qd(mV(t,i,a),a)}}function bV(e,n){const t=Lt(e),r=tA(t)-n;return t.setDate(t.getDate()-r*7),t}class yV extends xr{constructor(){super(...arguments);Xe(this,"priority",100);Xe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return Fi(pa.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return na(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return nm(bV(t,i))}}const xV=[31,28,31,30,31,30,31,31,30,31,30,31],vV=[31,29,31,30,31,30,31,31,30,31,30,31];class wV extends xr{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"subPriority",1);Xe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return Fi(pa.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return na(r.length,t)}}validate(t,r){const i=t.getFullYear(),a=vO(i),s=t.getMonth();return a?r>=1&&r<=vV[s]:r>=1&&r<=xV[s]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class SV extends xr{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"subpriority",1);Xe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return Fi(pa.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return na(r.length,t)}}validate(t,r){const i=t.getFullYear();return vO(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function iA(e,n,t){var g,b,m,x;const r=Ap(),i=(t==null?void 0:t.weekStartsOn)??((b=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)??r.weekStartsOn??((x=(m=r.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??0,a=Lt(e),s=a.getDay(),c=(n%7+7)%7,d=7-i,h=n<0||n>6?n-(s+d)%7:(c+d)%7-(s+d)%7;return _u(a,h)}class AV extends xr{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=iA(t,i,a),t.setHours(0,0,0,0),t}}class CV extends xr{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,a){const s=l=>{const c=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+c};switch(r){case"e":case"ee":return ma(na(r.length,t),s);case"eo":return ma(i.ordinalNumber(t,{unit:"day"}),s);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=iA(t,i,a),t.setHours(0,0,0,0),t}}class EV extends xr{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,a){const s=l=>{const c=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+c};switch(r){case"c":case"cc":return ma(na(r.length,t),s);case"co":return ma(i.ordinalNumber(t,{unit:"day"}),s);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=iA(t,i,a),t.setHours(0,0,0,0),t}}function _V(e,n){const t=Lt(e),r=eV(t),i=n-r;return _u(t,i)}class kV extends xr{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const a=s=>s===0?7:s;switch(r){case"i":case"ii":return na(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return ma(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return ma(i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return ma(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return ma(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=_V(t,i),t.setHours(0,0,0,0),t}}class NV extends xr{constructor(){super(...arguments);Xe(this,"priority",80);Xe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(rA(i),0,0,0),t}}class jV extends xr{constructor(){super(...arguments);Xe(this,"priority",80);Xe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(rA(i),0,0,0),t}}class TV extends xr{constructor(){super(...arguments);Xe(this,"priority",80);Xe(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(rA(i),0,0,0),t}}class OV extends xr{constructor(){super(...arguments);Xe(this,"priority",70);Xe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return Fi(pa.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return na(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const a=t.getHours()>=12;return a&&i<12?t.setHours(i+12,0,0,0):!a&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class IV extends xr{constructor(){super(...arguments);Xe(this,"priority",70);Xe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return Fi(pa.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return na(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class DV extends xr{constructor(){super(...arguments);Xe(this,"priority",70);Xe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return Fi(pa.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return na(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class LV extends xr{constructor(){super(...arguments);Xe(this,"priority",70);Xe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return Fi(pa.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return na(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const a=i<=24?i%24:i;return t.setHours(a,0,0,0),t}}class RV extends xr{constructor(){super(...arguments);Xe(this,"priority",60);Xe(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return Fi(pa.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return na(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class MV extends xr{constructor(){super(...arguments);Xe(this,"priority",50);Xe(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return Fi(pa.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return na(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class PV extends xr{constructor(){super(...arguments);Xe(this,"priority",30);Xe(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=a=>Math.trunc(a*Math.pow(10,-r.length+3));return ma(na(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class FV extends xr{constructor(){super(...arguments);Xe(this,"priority",10);Xe(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return Cc(Ac.basicOptionalMinutes,t);case"XX":return Cc(Ac.basic,t);case"XXXX":return Cc(Ac.basicOptionalSeconds,t);case"XXXXX":return Cc(Ac.extendedOptionalSeconds,t);case"XXX":default:return Cc(Ac.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Ir(t,t.getTime()-Lx(t)-i)}}class zV extends xr{constructor(){super(...arguments);Xe(this,"priority",10);Xe(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return Cc(Ac.basicOptionalMinutes,t);case"xx":return Cc(Ac.basic,t);case"xxxx":return Cc(Ac.basicOptionalSeconds,t);case"xxxxx":return Cc(Ac.extendedOptionalSeconds,t);case"xxx":default:return Cc(Ac.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Ir(t,t.getTime()-Lx(t)-i)}}class qV extends xr{constructor(){super(...arguments);Xe(this,"priority",40);Xe(this,"incompatibleTokens","*")}parse(t){return yO(t)}set(t,r,i){return[Ir(t,i*1e3),{timestampIsSet:!0}]}}class BV extends xr{constructor(){super(...arguments);Xe(this,"priority",20);Xe(this,"incompatibleTokens","*")}parse(t){return yO(t)}set(t,r,i){return[Ir(t,i),{timestampIsSet:!0}]}}const UV={G:new sV,y:new oV,Y:new lV,R:new uV,u:new cV,Q:new dV,q:new fV,M:new hV,L:new pV,w:new gV,I:new yV,d:new wV,D:new SV,E:new AV,e:new CV,c:new EV,i:new kV,a:new NV,b:new jV,B:new TV,h:new OV,H:new IV,K:new DV,k:new LV,m:new RV,s:new MV,S:new PV,X:new FV,x:new zV,t:new qV,T:new BV},$V=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,WV=/^'([^]*?)'?$/,VV=/''/g,YV=/\S/,GV=/[a-zA-Z]/;function K5(e,n,t,r){var y,A,w,C,N,P,F,R;const i=JW(),a=(r==null?void 0:r.locale)??i.locale??fO,s=(r==null?void 0:r.firstWeekContainsDate)??((A=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:A.firstWeekContainsDate)??i.firstWeekContainsDate??((C=(w=i.locale)==null?void 0:w.options)==null?void 0:C.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((P=(N=r==null?void 0:r.locale)==null?void 0:N.options)==null?void 0:P.weekStartsOn)??i.weekStartsOn??((R=(F=i.locale)==null?void 0:F.options)==null?void 0:R.weekStartsOn)??0;if(n==="")return e===""?Lt(t):Ir(t,NaN);const c={firstWeekContainsDate:s,weekStartsOn:l,locale:a},d=[new aV],h=n.match(HV).map(k=>{const M=k[0];if(M in qx){const q=qx[M];return q(k,a.formatLong)}return k}).join("").match($V),g=[];for(let k of h){!(r!=null&&r.useAdditionalWeekYearTokens)&&gO(k)&&ES(k,n,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&mO(k)&&ES(k,n,e);const M=k[0],q=UV[M];if(q){const{incompatibleTokens:Q}=q;if(Array.isArray(Q)){const O=g.find(L=>Q.includes(L.token)||L.token===M);if(O)throw new RangeError(`The format string mustn't contain \`${O.fullToken}\` and \`${k}\` at the same time`)}else if(q.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${k}\` and any other token at the same time`);g.push({token:M,fullToken:k});const T=q.run(e,k,a.match,c);if(!T)return Ir(t,NaN);d.push(T.setter),e=T.rest}else{if(M.match(GV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");if(k==="''"?k="'":M==="'"&&(k=QV(k)),e.indexOf(k)===0)e=e.slice(k.length);else return Ir(t,NaN)}}if(e.length>0&&YV.test(e))return Ir(t,NaN);const b=d.map(k=>k.priority).sort((k,M)=>M-k).filter((k,M,q)=>q.indexOf(k)===M).map(k=>d.filter(M=>M.priority===k).sort((M,q)=>q.subPriority-M.subPriority)).map(k=>k[0]);let m=Lt(t);if(isNaN(m.getTime()))return Ir(t,NaN);const x={};for(const k of b){if(!k.validate(m,c))return Ir(t,NaN);const M=k.set(m,x,c);Array.isArray(M)?(m=M[0],Object.assign(x,M[1])):m=M}return Ir(t,m)}function QV(e){return e.match(WV)[1].replace(VV,"'")}function KV(e,n){const t=Lt(e),r=Lt(n);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function XV(e,n){const t=CS(e),r=CS(n);return+t==+r}function ZV(e,n){const t=Lt(e),r=Lt(n);return t.getFullYear()===r.getFullYear()}function _g(e,n){const t=+Lt(e),[r,i]=[+Lt(n.start),+Lt(n.end)].sort((a,s)=>a-s);return t>=r&&t<=i}function JV(e,n){return _u(e,-1)}function eY(e,n){const r=iY(e);let i;if(r.date){const c=aY(r.date,2);i=sY(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let s=0,l;if(r.time&&(s=oY(r.time),isNaN(s)))return new Date(NaN);if(r.timezone){if(l=lY(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(a+s),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(a+s+l)}const Oy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},tY=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,nY=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,rY=/^([+-])(\d{2})(?::?(\d{2}))?$/;function iY(e){const n={},t=e.split(Oy.dateTimeDelimiter);let r;if(t.length>2)return n;if(/:/.test(t[0])?r=t[0]:(n.date=t[0],r=t[1],Oy.timeZoneDelimiter.test(n.date)&&(n.date=e.split(Oy.timeZoneDelimiter)[0],r=e.substr(n.date.length,e.length))),r){const i=Oy.timezone.exec(r);i?(n.time=r.replace(i[1],""),n.timezone=i[1]):n.time=r}return n}function aY(e,n){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),r=e.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function sY(e,n){if(n===null)return new Date(NaN);const t=e.match(tY);if(!t)return new Date(NaN);const r=!!t[4],i=v1(t[1]),a=v1(t[2])-1,s=v1(t[3]),l=v1(t[4]),c=v1(t[5])-1;if(r)return hY(n,l,c)?uY(n,l,c):new Date(NaN);{const d=new Date(0);return!dY(n,a,s)||!fY(n,i)?new Date(NaN):(d.setUTCFullYear(n,a,Math.max(i,s)),d)}}function v1(e){return e?parseInt(e):1}function oY(e){const n=e.match(nY);if(!n)return NaN;const t=X5(n[1]),r=X5(n[2]),i=X5(n[3]);return pY(t,r,i)?t*Av+r*Sv+i*1e3:NaN}function X5(e){return e&&parseFloat(e.replace(",","."))||0}function lY(e){if(e==="Z")return 0;const n=e.match(rY);if(!n)return 0;const t=n[1]==="+"?-1:1,r=parseInt(n[2]),i=n[3]&&parseInt(n[3])||0;return mY(r,i)?t*(r*Av+i*Sv):NaN}function uY(e,n,t){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,a=(n-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const cY=[31,null,31,30,31,30,31,31,30,31,30,31];function wO(e){return e%400===0||e%4===0&&e%100!==0}function dY(e,n,t){return n>=0&&n<=11&&t>=1&&t<=(cY[n]||(wO(e)?29:28))}function fY(e,n){return n>=1&&n<=(wO(e)?366:365)}function hY(e,n,t){return n>=1&&n<=53&&t>=0&&t<=6}function pY(e,n,t){return e===24?n===0&&t===0:t>=0&&t<60&&n>=0&&n<60&&e>=0&&e<25}function mY(e,n){return n>=0&&n<=59}function Qo(e,n){const t=Lt(e),r=t.getFullYear(),i=t.getDate(),a=Ir(e,0);a.setFullYear(r,n,15),a.setHours(0,0,0,0);const s=ZW(a);return t.setMonth(n,Math.min(i,s)),t}function gY(e,n){let t=Lt(e);return isNaN(+t)?Ir(e,NaN):(n.year!=null&&t.setFullYear(n.year),n.month!=null&&(t=Qo(t,n.month)),n.date!=null&&t.setDate(n.date),n.hours!=null&&t.setHours(n.hours),n.minutes!=null&&t.setMinutes(n.minutes),n.seconds!=null&&t.setSeconds(n.seconds),n.milliseconds!=null&&t.setMilliseconds(n.milliseconds),t)}function rx(e,n){const t=Lt(e);return t.setHours(n),t}function ix(e,n){const t=Lt(e);return t.setMinutes(n),t}function k0(e,n){const t=Lt(e),r=Math.trunc(t.getMonth()/3)+1,i=n-r;return Qo(t,t.getMonth()+i*3)}function ax(e,n){const t=Lt(e);return t.setSeconds(n),t}function xc(e,n){const t=Lt(e);return isNaN(+t)?Ir(e,NaN):(t.setFullYear(n),t)}function ep(e,n){return Nu(e,-n)}function SO(e,n){return eA(e,-1)}function ok(e,n){return Rx(e,-1)}function im(e,n){return Id(e,-n)}function Ev(){return typeof window<"u"}function fm(e){return AO(e)?(e.nodeName||"").toLowerCase():"#document"}function nl(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function Gc(e){var n;return(n=(AO(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function AO(e){return Ev()?e instanceof Node||e instanceof nl(e).Node:!1}function to(e){return Ev()?e instanceof Element||e instanceof nl(e).Element:!1}function Wc(e){return Ev()?e instanceof HTMLElement||e instanceof nl(e).HTMLElement:!1}function lk(e){return!Ev()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof nl(e).ShadowRoot}const bY=new Set(["inline","contents"]);function eb(e){const{overflow:n,overflowX:t,overflowY:r,display:i}=Fl(e);return/auto|scroll|overlay|hidden|clip/.test(n+r+t)&&!bY.has(i)}const yY=new Set(["table","td","th"]);function xY(e){return yY.has(fm(e))}const vY=[":popover-open",":modal"];function _v(e){return vY.some(n=>{try{return e.matches(n)}catch{return!1}})}const wY=["transform","translate","scale","rotate","perspective"],SY=["transform","translate","scale","rotate","perspective","filter"],AY=["paint","layout","strict","content"];function aA(e){const n=sA(),t=to(e)?Fl(e):e;return wY.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||SY.some(r=>(t.willChange||"").includes(r))||AY.some(r=>(t.contain||"").includes(r))}function CY(e){let n=th(e);for(;Wc(n)&&!am(n);){if(aA(n))return n;if(_v(n))return null;n=th(n)}return null}function sA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const EY=new Set(["html","body","#document"]);function am(e){return EY.has(fm(e))}function Fl(e){return nl(e).getComputedStyle(e)}function kv(e){return to(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function th(e){if(fm(e)==="html")return e;const n=e.assignedSlot||e.parentNode||lk(e)&&e.host||Gc(e);return lk(n)?n.host:n}function CO(e){const n=th(e);return am(n)?e.ownerDocument?e.ownerDocument.body:e.body:Wc(n)&&eb(n)?n:CO(n)}function kg(e,n,t){var r;n===void 0&&(n=[]),t===void 0&&(t=!0);const i=CO(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),s=nl(i);if(a){const l=kS(s);return n.concat(s,s.visualViewport||[],eb(i)?i:[],l&&t?kg(l):[])}return n.concat(i,kg(i,[],t))}function kS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const sm=Math.min,tp=Math.max,Ux=Math.round,Iy=Math.floor,Lc=e=>({x:e,y:e}),_Y={left:"right",right:"left",bottom:"top",top:"bottom"},kY={start:"end",end:"start"};function NY(e,n,t){return tp(e,sm(n,t))}function Nv(e,n){return typeof e=="function"?e(n):e}function om(e){return e.split("-")[0]}function tb(e){return e.split("-")[1]}function jY(e){return e==="x"?"y":"x"}function oA(e){return e==="y"?"height":"width"}const TY=new Set(["top","bottom"]);function Gh(e){return TY.has(om(e))?"y":"x"}function lA(e){return jY(Gh(e))}function OY(e,n,t){t===void 0&&(t=!1);const r=tb(e),i=lA(e),a=oA(i);let s=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return n.reference[a]>n.floating[a]&&(s=$x(s)),[s,$x(s)]}function IY(e){const n=$x(e);return[NS(e),n,NS(n)]}function NS(e){return e.replace(/start|end/g,n=>kY[n])}const uk=["left","right"],ck=["right","left"],DY=["top","bottom"],LY=["bottom","top"];function RY(e,n,t){switch(e){case"top":case"bottom":return t?n?ck:uk:n?uk:ck;case"left":case"right":return n?DY:LY;default:return[]}}function MY(e,n,t,r){const i=tb(e);let a=RY(om(e),t==="start",r);return i&&(a=a.map(s=>s+"-"+i),n&&(a=a.concat(a.map(NS)))),a}function $x(e){return e.replace(/left|right|bottom|top/g,n=>_Y[n])}function PY(e){return{top:0,right:0,bottom:0,left:0,...e}}function EO(e){return typeof e!="number"?PY(e):{top:e,right:e,bottom:e,left:e}}function Hx(e){const{x:n,y:t,width:r,height:i}=e;return{width:r,height:i,top:t,left:n,right:n+r,bottom:t+i,x:n,y:t}}var FY=typeof document<"u",zY=function(){},Wx=FY?K.useLayoutEffect:zY;const qY={...C6},BY=qY.useInsertionEffect,UY=BY||(e=>e());function $Y(e){const n=K.useRef(()=>{});return UY(()=>{n.current=e}),K.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.current==null?void 0:n.current(...r)},[])}function dk(e,n,t){let{reference:r,floating:i}=e;const a=Gh(n),s=lA(n),l=oA(s),c=om(n),d=a==="y",h=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,b=r[l]/2-i[l]/2;let m;switch(c){case"top":m={x:h,y:r.y-i.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:g};break;case"left":m={x:r.x-i.width,y:g};break;default:m={x:r.x,y:r.y}}switch(tb(n)){case"start":m[s]-=b*(t&&d?-1:1);break;case"end":m[s]+=b*(t&&d?-1:1);break}return m}const HY=async(e,n,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=t,l=a.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(n));let d=await s.getElementRects({reference:e,floating:n,strategy:i}),{x:h,y:g}=dk(d,r,c),b=r,m={},x=0;for(let y=0;y<l.length;y++){const{name:A,fn:w}=l[y],{x:C,y:N,data:P,reset:F}=await w({x:h,y:g,initialPlacement:r,placement:b,strategy:i,middlewareData:m,rects:d,platform:s,elements:{reference:e,floating:n}});h=C??h,g=N??g,m={...m,[A]:{...m[A],...P}},F&&x<=50&&(x++,typeof F=="object"&&(F.placement&&(b=F.placement),F.rects&&(d=F.rects===!0?await s.getElementRects({reference:e,floating:n,strategy:i}):F.rects),{x:h,y:g}=dk(d,b,c)),y=-1)}return{x:h,y:g,placement:b,strategy:i,middlewareData:m}};async function WY(e,n){var t;n===void 0&&(n={});const{x:r,y:i,platform:a,rects:s,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:b=!1,padding:m=0}=Nv(n,e),x=EO(m),A=l[b?g==="floating"?"reference":"floating":g],w=Hx(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(A)))==null||t?A:A.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),C=g==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),P=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},F=Hx(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:N,strategy:c}):C);return{top:(w.top-F.top+x.top)/P.y,bottom:(F.bottom-w.bottom+x.bottom)/P.y,left:(w.left-F.left+x.left)/P.x,right:(F.right-w.right+x.right)/P.x}}const VY=e=>({name:"arrow",options:e,async fn(n){const{x:t,y:r,placement:i,rects:a,platform:s,elements:l,middlewareData:c}=n,{element:d,padding:h=0}=Nv(e,n)||{};if(d==null)return{};const g=EO(h),b={x:t,y:r},m=lA(i),x=oA(m),y=await s.getDimensions(d),A=m==="y",w=A?"top":"left",C=A?"bottom":"right",N=A?"clientHeight":"clientWidth",P=a.reference[x]+a.reference[m]-b[m]-a.floating[x],F=b[m]-a.reference[m],R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(d));let k=R?R[N]:0;(!k||!await(s.isElement==null?void 0:s.isElement(R)))&&(k=l.floating[N]||a.floating[x]);const M=P/2-F/2,q=k/2-y[x]/2-1,Q=sm(g[w],q),T=sm(g[C],q),O=Q,L=k-y[x]-T,j=k/2-y[x]/2+M,X=NY(O,j,L),H=!c.arrow&&tb(i)!=null&&j!==X&&a.reference[x]/2-(j<O?Q:T)-y[x]/2<0,G=H?j<O?j-O:j-L:0;return{[m]:b[m]+G,data:{[m]:X,centerOffset:j-X-G,...H&&{alignmentOffset:G}},reset:H}}}),YY=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var t,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:l,platform:c,elements:d}=n,{mainAxis:h=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...A}=Nv(e,n);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const w=om(i),C=Gh(l),N=om(l)===l,P=await(c.isRTL==null?void 0:c.isRTL(d.floating)),F=b||(N||!y?[$x(l)]:IY(l)),R=x!=="none";!b&&R&&F.push(...MY(l,y,x,P));const k=[l,...F],M=await WY(n,A),q=[];let Q=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&q.push(M[w]),g){const j=OY(i,s,P);q.push(M[j[0]],M[j[1]])}if(Q=[...Q,{placement:i,overflows:q}],!q.every(j=>j<=0)){var T,O;const j=(((T=a.flip)==null?void 0:T.index)||0)+1,X=k[j];if(X&&(!(g==="alignment"?C!==Gh(X):!1)||Q.every(ee=>ee.overflows[0]>0&&Gh(ee.placement)===C)))return{data:{index:j,overflows:Q},reset:{placement:X}};let H=(O=Q.filter(G=>G.overflows[0]<=0).sort((G,ee)=>G.overflows[1]-ee.overflows[1])[0])==null?void 0:O.placement;if(!H)switch(m){case"bestFit":{var L;const G=(L=Q.filter(ee=>{if(R){const le=Gh(ee.placement);return le===C||le==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(le=>le>0).reduce((le,Y)=>le+Y,0)]).sort((ee,le)=>ee[1]-le[1])[0])==null?void 0:L[0];G&&(H=G);break}case"initialPlacement":H=l;break}if(i!==H)return{reset:{placement:H}}}return{}}}},GY=new Set(["left","top"]);async function QY(e,n){const{placement:t,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=om(t),l=tb(t),c=Gh(t)==="y",d=GY.has(s)?-1:1,h=a&&c?-1:1,g=Nv(n,e);let{mainAxis:b,crossAxis:m,alignmentAxis:x}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),c?{x:m*h,y:b*d}:{x:b*d,y:m*h}}const KY=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var t,r;const{x:i,y:a,placement:s,middlewareData:l}=n,c=await QY(n,e);return s===((t=l.offset)==null?void 0:t.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:s}}}}};function _O(e){const n=Fl(e);let t=parseFloat(n.width)||0,r=parseFloat(n.height)||0;const i=Wc(e),a=i?e.offsetWidth:t,s=i?e.offsetHeight:r,l=Ux(t)!==a||Ux(r)!==s;return l&&(t=a,r=s),{width:t,height:r,$:l}}function uA(e){return to(e)?e:e.contextElement}function R0(e){const n=uA(e);if(!Wc(n))return Lc(1);const t=n.getBoundingClientRect(),{width:r,height:i,$:a}=_O(n);let s=(a?Ux(t.width):t.width)/r,l=(a?Ux(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const XY=Lc(0);function kO(e){const n=nl(e);return!sA()||!n.visualViewport?XY:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function ZY(e,n,t){return n===void 0&&(n=!1),!t||n&&t!==nl(e)?!1:n}function hp(e,n,t,r){n===void 0&&(n=!1),t===void 0&&(t=!1);const i=e.getBoundingClientRect(),a=uA(e);let s=Lc(1);n&&(r?to(r)&&(s=R0(r)):s=R0(e));const l=ZY(a,t,r)?kO(a):Lc(0);let c=(i.left+l.x)/s.x,d=(i.top+l.y)/s.y,h=i.width/s.x,g=i.height/s.y;if(a){const b=nl(a),m=r&&to(r)?nl(r):r;let x=b,y=kS(x);for(;y&&r&&m!==x;){const A=R0(y),w=y.getBoundingClientRect(),C=Fl(y),N=w.left+(y.clientLeft+parseFloat(C.paddingLeft))*A.x,P=w.top+(y.clientTop+parseFloat(C.paddingTop))*A.y;c*=A.x,d*=A.y,h*=A.x,g*=A.y,c+=N,d+=P,x=nl(y),y=kS(x)}}return Hx({width:h,height:g,x:c,y:d})}function cA(e,n){const t=kv(e).scrollLeft;return n?n.left+t:hp(Gc(e)).left+t}function NO(e,n,t){t===void 0&&(t=!1);const r=e.getBoundingClientRect(),i=r.left+n.scrollLeft-(t?0:cA(e,r)),a=r.top+n.scrollTop;return{x:i,y:a}}function JY(e){let{elements:n,rect:t,offsetParent:r,strategy:i}=e;const a=i==="fixed",s=Gc(r),l=n?_v(n.floating):!1;if(r===s||l&&a)return t;let c={scrollLeft:0,scrollTop:0},d=Lc(1);const h=Lc(0),g=Wc(r);if((g||!g&&!a)&&((fm(r)!=="body"||eb(s))&&(c=kv(r)),Wc(r))){const m=hp(r);d=R0(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}const b=s&&!g&&!a?NO(s,c,!0):Lc(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-c.scrollLeft*d.x+h.x+b.x,y:t.y*d.y-c.scrollTop*d.y+h.y+b.y}}function eG(e){return Array.from(e.getClientRects())}function tG(e){const n=Gc(e),t=kv(e),r=e.ownerDocument.body,i=tp(n.scrollWidth,n.clientWidth,r.scrollWidth,r.clientWidth),a=tp(n.scrollHeight,n.clientHeight,r.scrollHeight,r.clientHeight);let s=-t.scrollLeft+cA(e);const l=-t.scrollTop;return Fl(r).direction==="rtl"&&(s+=tp(n.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:l}}function nG(e,n){const t=nl(e),r=Gc(e),i=t.visualViewport;let a=r.clientWidth,s=r.clientHeight,l=0,c=0;if(i){a=i.width,s=i.height;const d=sA();(!d||d&&n==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:s,x:l,y:c}}const rG=new Set(["absolute","fixed"]);function iG(e,n){const t=hp(e,!0,n==="fixed"),r=t.top+e.clientTop,i=t.left+e.clientLeft,a=Wc(e)?R0(e):Lc(1),s=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,d=r*a.y;return{width:s,height:l,x:c,y:d}}function fk(e,n,t){let r;if(n==="viewport")r=nG(e,t);else if(n==="document")r=tG(Gc(e));else if(to(n))r=iG(n,t);else{const i=kO(e);r={x:n.x-i.x,y:n.y-i.y,width:n.width,height:n.height}}return Hx(r)}function jO(e,n){const t=th(e);return t===n||!to(t)||am(t)?!1:Fl(t).position==="fixed"||jO(t,n)}function aG(e,n){const t=n.get(e);if(t)return t;let r=kg(e,[],!1).filter(l=>to(l)&&fm(l)!=="body"),i=null;const a=Fl(e).position==="fixed";let s=a?th(e):e;for(;to(s)&&!am(s);){const l=Fl(s),c=aA(s);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&rG.has(i.position)||eb(s)&&!c&&jO(e,s))?r=r.filter(h=>h!==s):i=l,s=th(s)}return n.set(e,r),r}function sG(e){let{element:n,boundary:t,rootBoundary:r,strategy:i}=e;const s=[...t==="clippingAncestors"?_v(n)?[]:aG(n,this._c):[].concat(t),r],l=s[0],c=s.reduce((d,h)=>{const g=fk(n,h,i);return d.top=tp(g.top,d.top),d.right=sm(g.right,d.right),d.bottom=sm(g.bottom,d.bottom),d.left=tp(g.left,d.left),d},fk(n,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function oG(e){const{width:n,height:t}=_O(e);return{width:n,height:t}}function lG(e,n,t){const r=Wc(n),i=Gc(n),a=t==="fixed",s=hp(e,!0,a,n);let l={scrollLeft:0,scrollTop:0};const c=Lc(0);function d(){c.x=cA(i)}if(r||!r&&!a)if((fm(n)!=="body"||eb(i))&&(l=kv(n)),r){const m=hp(n,!0,a,n);c.x=m.x+n.clientLeft,c.y=m.y+n.clientTop}else i&&d();a&&!r&&i&&d();const h=i&&!r&&!a?NO(i,l):Lc(0),g=s.left+l.scrollLeft-c.x-h.x,b=s.top+l.scrollTop-c.y-h.y;return{x:g,y:b,width:s.width,height:s.height}}function Z5(e){return Fl(e).position==="static"}function hk(e,n){if(!Wc(e)||Fl(e).position==="fixed")return null;if(n)return n(e);let t=e.offsetParent;return Gc(e)===t&&(t=t.ownerDocument.body),t}function TO(e,n){const t=nl(e);if(_v(e))return t;if(!Wc(e)){let i=th(e);for(;i&&!am(i);){if(to(i)&&!Z5(i))return i;i=th(i)}return t}let r=hk(e,n);for(;r&&xY(r)&&Z5(r);)r=hk(r,n);return r&&am(r)&&Z5(r)&&!aA(r)?t:r||CY(e)||t}const uG=async function(e){const n=this.getOffsetParent||TO,t=this.getDimensions,r=await t(e.floating);return{reference:lG(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function cG(e){return Fl(e).direction==="rtl"}const dG={convertOffsetParentRelativeRectToViewportRelativeRect:JY,getDocumentElement:Gc,getClippingRect:sG,getOffsetParent:TO,getElementRects:uG,getClientRects:eG,getDimensions:oG,getScale:R0,isElement:to,isRTL:cG};function OO(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function fG(e,n){let t=null,r;const i=Gc(e);function a(){var l;clearTimeout(r),(l=t)==null||l.disconnect(),t=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:h,top:g,width:b,height:m}=d;if(l||n(),!b||!m)return;const x=Iy(g),y=Iy(i.clientWidth-(h+b)),A=Iy(i.clientHeight-(g+m)),w=Iy(h),N={rootMargin:-x+"px "+-y+"px "+-A+"px "+-w+"px",threshold:tp(0,sm(1,c))||1};let P=!0;function F(R){const k=R[0].intersectionRatio;if(k!==c){if(!P)return s();k?s(!1,k):r=setTimeout(()=>{s(!1,1e-7)},1e3)}k===1&&!OO(d,e.getBoundingClientRect())&&s(),P=!1}try{t=new IntersectionObserver(F,{...N,root:i.ownerDocument})}catch{t=new IntersectionObserver(F,N)}t.observe(e)}return s(!0),a}function hG(e,n,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=uA(e),h=i||a?[...d?kg(d):[],...kg(n)]:[];h.forEach(w=>{i&&w.addEventListener("scroll",t,{passive:!0}),a&&w.addEventListener("resize",t)});const g=d&&l?fG(d,t):null;let b=-1,m=null;s&&(m=new ResizeObserver(w=>{let[C]=w;C&&C.target===d&&m&&(m.unobserve(n),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var N;(N=m)==null||N.observe(n)})),t()}),d&&!c&&m.observe(d),m.observe(n));let x,y=c?hp(e):null;c&&A();function A(){const w=hp(e);y&&!OO(y,w)&&t(),y=w,x=requestAnimationFrame(A)}return t(),()=>{var w;h.forEach(C=>{i&&C.removeEventListener("scroll",t),a&&C.removeEventListener("resize",t)}),g==null||g(),(w=m)==null||w.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const pG=KY,mG=YY,pk=VY,gG=(e,n,t)=>{const r=new Map,i={platform:dG,...t},a={...i.platform,_c:r};return HY(e,n,{...i,platform:a})};var bG=typeof document<"u",yG=function(){},sx=bG?K.useLayoutEffect:yG;function Vx(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let t,r,i;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==n.length)return!1;for(r=t;r--!==0;)if(!Vx(e[r],n[r]))return!1;return!0}if(i=Object.keys(e),t=i.length,t!==Object.keys(n).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(n,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Vx(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}function IO(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function mk(e,n){const t=IO(e);return Math.round(n*t)/t}function J5(e){const n=K.useRef(e);return sx(()=>{n.current=e}),n}function xG(e){e===void 0&&(e={});const{placement:n="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[h,g]=K.useState({x:0,y:0,strategy:t,placement:n,middlewareData:{},isPositioned:!1}),[b,m]=K.useState(r);Vx(b,r)||m(r);const[x,y]=K.useState(null),[A,w]=K.useState(null),C=K.useCallback(ee=>{ee!==R.current&&(R.current=ee,y(ee))},[]),N=K.useCallback(ee=>{ee!==k.current&&(k.current=ee,w(ee))},[]),P=a||x,F=s||A,R=K.useRef(null),k=K.useRef(null),M=K.useRef(h),q=c!=null,Q=J5(c),T=J5(i),O=J5(d),L=K.useCallback(()=>{if(!R.current||!k.current)return;const ee={placement:n,strategy:t,middleware:b};T.current&&(ee.platform=T.current),gG(R.current,k.current,ee).then(le=>{const Y={...le,isPositioned:O.current!==!1};j.current&&!Vx(M.current,Y)&&(M.current=Y,cR.flushSync(()=>{g(Y)}))})},[b,n,t,T,O]);sx(()=>{d===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,g(ee=>({...ee,isPositioned:!1})))},[d]);const j=K.useRef(!1);sx(()=>(j.current=!0,()=>{j.current=!1}),[]),sx(()=>{if(P&&(R.current=P),F&&(k.current=F),P&&F){if(Q.current)return Q.current(P,F,L);L()}},[P,F,L,Q,q]);const X=K.useMemo(()=>({reference:R,floating:k,setReference:C,setFloating:N}),[C,N]),H=K.useMemo(()=>({reference:P,floating:F}),[P,F]),G=K.useMemo(()=>{const ee={position:t,left:0,top:0};if(!H.floating)return ee;const le=mk(H.floating,h.x),Y=mk(H.floating,h.y);return l?{...ee,transform:"translate("+le+"px, "+Y+"px)",...IO(H.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:le,top:Y}},[t,l,H.floating,h.x,h.y]);return K.useMemo(()=>({...h,update:L,refs:X,elements:H,floatingStyles:G}),[h,L,X,H,G])}const vG=e=>{function n(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:r,padding:i}=typeof e=="function"?e(t):e;return r&&n(r)?r.current!=null?pk({element:r.current,padding:i}).fn(t):{}:r?pk({element:r,padding:i}).fn(t):{}}}},wG=(e,n)=>({...pG(e),options:[e,n]}),SG=(e,n)=>({...mG(e),options:[e,n]}),AG=(e,n)=>({...vG(e),options:[e,n]}),CG={...C6};let gk=!1,EG=0;const bk=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+EG++;function _G(){const[e,n]=K.useState(()=>gk?bk():void 0);return Wx(()=>{e==null&&n(bk())},[]),K.useEffect(()=>{gk=!0},[]),e}const kG=CG.useId,DO=kG||_G,NG=K.forwardRef(function(n,t){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:a,shift:s}},width:l=14,height:c=7,tipRadius:d=0,strokeWidth:h=0,staticOffset:g,stroke:b,d:m,style:{transform:x,...y}={},...A}=n,w=DO(),[C,N]=K.useState(!1);if(Wx(()=>{if(!i)return;Fl(i).direction==="rtl"&&N(!0)},[i]),!i)return null;const[P,F]=r.split("-"),R=P==="top"||P==="bottom";let k=g;(R&&s!=null&&s.x||!R&&s!=null&&s.y)&&(k=null);const M=h*2,q=M/2,Q=l/2*(d/-8+1),T=c/2*d/4,O=!!m,L=k&&F==="end"?"bottom":"top";let j=k&&F==="end"?"right":"left";k&&C&&(j=F==="end"?"left":"right");const X=(a==null?void 0:a.x)!=null?k||a.x:"",H=(a==null?void 0:a.y)!=null?k||a.y:"",G=m||"M0,0"+(" H"+l)+(" L"+(l-Q)+","+(c-T))+(" Q"+l/2+","+c+" "+Q+","+(c-T))+" Z",ee={top:O?"rotate(180deg)":"",left:O?"rotate(90deg)":"rotate(-90deg)",bottom:O?"":"rotate(180deg)",right:O?"rotate(-90deg)":"rotate(90deg)"}[P];return f.jsxs("svg",{...A,"aria-hidden":!0,ref:t,width:O?l:l+M,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[j]:X,[L]:H,[P]:R||O?"100%":"calc(100% - "+M/2+"px)",transform:[ee,x].filter(le=>!!le).join(" "),...y},children:[M>0&&f.jsx("path",{clipPath:"url(#"+w+")",fill:"none",stroke:b,strokeWidth:M+(m?0:1),d:G}),f.jsx("path",{stroke:M&&!m?A.fill:"none",d:G}),f.jsx("clipPath",{id:w,children:f.jsx("rect",{x:-q,y:q*(O?-1:1),width:l+M,height:l})})]})});function jG(){const e=new Map;return{emit(n,t){var r;(r=e.get(n))==null||r.forEach(i=>i(t))},on(n,t){e.has(n)||e.set(n,new Set),e.get(n).add(t)},off(n,t){var r;(r=e.get(n))==null||r.delete(t)}}}const TG=K.createContext(null),OG=K.createContext(null),IG=()=>{var e;return((e=K.useContext(TG))==null?void 0:e.id)||null},DG=()=>K.useContext(OG);function LG(e){const{open:n=!1,onOpenChange:t,elements:r}=e,i=DO(),a=K.useRef({}),[s]=K.useState(()=>jG()),l=IG()!=null,[c,d]=K.useState(r.reference),h=$Y((m,x,y)=>{a.current.openEvent=m?x:void 0,s.emit("openchange",{open:m,event:x,reason:y,nested:l}),t==null||t(m,x,y)}),g=K.useMemo(()=>({setPositionReference:d}),[]),b=K.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return K.useMemo(()=>({dataRef:a,open:n,onOpenChange:h,elements:b,events:s,floatingId:i,refs:g}),[n,h,b,s,i,g])}function RG(e){e===void 0&&(e={});const{nodeId:n}=e,t=LG({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||t,i=r.elements,[a,s]=K.useState(null),[l,c]=K.useState(null),h=(i==null?void 0:i.domReference)||a,g=K.useRef(null),b=DG();Wx(()=>{h&&(g.current=h)},[h]);const m=xG({...e,elements:{...i,...l&&{reference:l}}}),x=K.useCallback(N=>{const P=to(N)?{getBoundingClientRect:()=>N.getBoundingClientRect(),getClientRects:()=>N.getClientRects(),contextElement:N}:N;c(P),m.refs.setReference(P)},[m.refs]),y=K.useCallback(N=>{(to(N)||N===null)&&(g.current=N,s(N)),(to(m.refs.reference.current)||m.refs.reference.current===null||N!==null&&!to(N))&&m.refs.setReference(N)},[m.refs]),A=K.useMemo(()=>({...m.refs,setReference:y,setPositionReference:x,domReference:g}),[m.refs,y,x]),w=K.useMemo(()=>({...m.elements,domReference:h}),[m.elements,h]),C=K.useMemo(()=>({...m,...r,refs:A,elements:w,nodeId:n}),[m,A,w,n,r]);return Wx(()=>{r.dataRef.current.floatingContext=C;const N=b==null?void 0:b.nodesRef.current.find(P=>P.id===n);N&&(N.context=C)}),K.useMemo(()=>({...m,context:C,refs:A,elements:w}),[m,A,w,C])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var jS=function(n,t){return jS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},jS(n,t)};function Ja(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");jS(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var tr=function(){return tr=Object.assign||function(t){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},tr.apply(this,arguments)};function Nc(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))}var MG=function(e){var n=e.showTimeSelectOnly,t=n===void 0?!1:n,r=e.showTime,i=r===void 0?!1:r,a=e.className,s=e.children,l=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return tt.createElement("div",{className:a,role:"dialog","aria-label":l,"aria-modal":"true"},s)},PG=function(e,n){var t=K.useRef(null),r=K.useRef(e);r.current=e;var i=K.useCallback(function(a){var s;t.current&&!t.current.contains(a.target)&&(n&&a.target instanceof HTMLElement&&a.target.classList.contains(n)||(s=r.current)===null||s===void 0||s.call(r,a))},[n]);return K.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},jv=function(e){var n=e.children,t=e.onClickOutside,r=e.className,i=e.containerRef,a=e.style,s=e.ignoreClass,l=PG(t,s);return tt.createElement("div",{className:r,style:a,ref:function(c){l.current=c,i&&(i.current=c)}},n)},Tt;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Tt||(Tt={}));function LO(){var e=typeof window<"u"?window:globalThis;return e}var nb=12,FG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Lr(e){if(e==null)return new Date;var n=typeof e=="string"?eY(e):Lt(e);return Ed(n)?n:new Date}function ew(e,n,t,r,i){var a,s=null,l=np(t)||np(ig()),c=!0;if(Array.isArray(n))return n.forEach(function(h){var g=K5(e,h,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(c=Ed(g,i)&&e===fi(g,h,t)),Ed(g,i)&&c&&(s=g)}),s;if(s=K5(e,n,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)c=Ed(s)&&e===fi(s,n,t);else if(!Ed(s)){var d=((a=n.match(FG))!==null&&a!==void 0?a:[]).map(function(h){var g=h[0];if(g==="p"||g==="P"){var b=qx[g];return l?b(h,l.formatLong):g}return h}).join("");e.length>0&&(s=K5(e,d.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Ed(s)||(s=new Date(e))}return Ed(s)&&c?s:null}function Ed(e,n){return Mx(e)&&!fp(e,n??new Date("1/1/1800"))}function fi(e,n,t){if(t==="en")return ak(e,n,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?np(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!r&&ig()&&np(ig())&&(r=np(ig())),ak(e,n,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function kl(e,n){var t=n.dateFormat,r=n.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return e&&fi(e,i,r)||""}function zG(e,n,t){if(!e)return"";var r=kl(e,t),i=n?kl(n,t):"";return"".concat(r," - ").concat(i)}function qG(e,n){if(!(e!=null&&e.length))return"";var t=e[0]?kl(e[0],n):"";if(e.length===1)return t;if(e.length===2&&e[1]){var r=kl(e[1],n);return"".concat(t,", ").concat(r)}var i=e.length-1;return"".concat(t," (+").concat(i,")")}function tw(e,n){var t=n.hour,r=t===void 0?0:t,i=n.minute,a=i===void 0?0:i,s=n.second,l=s===void 0?0:s;return rx(ix(ax(e,l),a),r)}function BG(e){return tA(e)}function UG(e,n){return fi(e,"ddd",n)}function ox(e){return dp(e)}function Kf(e,n,t){var r=np(n||ig());return qd(e,{locale:r,weekStartsOn:t})}function Rd(e){return cO(e)}function Z1(e){return Cv(e)}function yk(e){return CS(e)}function xk(){return dp(Lr())}function vk(e){return lO(e)}function $G(e){return aW(e)}function HG(e){return uO(e)}function vc(e,n){return e&&n?ZV(e,n):!e&&!n}function Zs(e,n){return e&&n?KV(e,n):!e&&!n}function Yx(e,n){return e&&n?XV(e,n):!e&&!n}function Qn(e,n){return e&&n?rW(e,n):!e&&!n}function Qh(e,n){return e&&n?tV(e,n):!e&&!n}function J1(e,n,t){var r,i=dp(n),a=lO(t);try{r=_g(e,{start:i,end:a})}catch{r=!1}return r}function ig(){var e=LO();return e.__localeId__}function np(e){if(typeof e=="string"){var n=LO();return n.__localeData__?n.__localeData__[e]:void 0}else return e}function WG(e,n,t){return n(fi(e,"EEEE",t))}function VG(e,n){return fi(e,"EEEEEE",n)}function YG(e,n){return fi(e,"EEE",n)}function dA(e,n){return fi(Qo(Lr(),e),"LLLL",n)}function RO(e,n){return fi(Qo(Lr(),e),"LLL",n)}function GG(e,n){return fi(k0(Lr(),e),"QQQ",n)}function Ol(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.excludeDateIntervals,l=t.includeDates,c=t.includeDateIntervals,d=t.filterDate;return rb(e,{minDate:r,maxDate:i})||a&&a.some(function(h){return h instanceof Date?Qn(e,h):Qn(e,h.date)})||s&&s.some(function(h){var g=h.start,b=h.end;return _g(e,{start:g,end:b})})||l&&!l.some(function(h){return Qn(e,h)})||c&&!c.some(function(h){var g=h.start,b=h.end;return _g(e,{start:g,end:b})})||d&&!d(Lr(e))||!1}function fA(e,n){var t=n===void 0?{}:n,r=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(a){var s=a.start,l=a.end;return _g(e,{start:s,end:l})}):r&&r.some(function(a){var s;return a instanceof Date?Qn(e,a):Qn(e,(s=a.date)!==null&&s!==void 0?s:new Date)})||!1}function MO(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,l=t.filterDate;return rb(e,{minDate:r?cO(r):void 0,maxDate:i?uO(i):void 0})||(a==null?void 0:a.some(function(c){return Zs(e,c instanceof Date?c:c.date)}))||s&&!s.some(function(c){return Zs(e,c)})||l&&!l(Lr(e))||!1}function Dy(e,n,t,r){var i=Rn(e),a=eo(e),s=Rn(n),l=eo(n),c=Rn(r);return i===s&&i===c?a<=t&&t<=l:i<s?c===i&&a<=t||c===s&&l>=t||c<s&&c>i:!1}function QG(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates;return rb(e,{minDate:r,maxDate:i})||a&&a.some(function(l){return Zs(l instanceof Date?l:l.date,e)})||s&&!s.some(function(l){return Zs(l,e)})||!1}function Ly(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,l=t.filterDate;return rb(e,{minDate:r,maxDate:i})||(a==null?void 0:a.some(function(c){return Yx(e,c instanceof Date?c:c.date)}))||s&&!s.some(function(c){return Yx(e,c)})||l&&!l(Lr(e))||!1}function Ry(e,n,t){if(!n||!t||!Mx(n)||!Mx(t))return!1;var r=Rn(n),i=Rn(t);return r<=e&&i>=e}function lx(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,l=t.filterDate,c=new Date(e,0,1);return rb(c,{minDate:r?Cv(r):void 0,maxDate:i?dO(i):void 0})||(a==null?void 0:a.some(function(d){return vc(c,d instanceof Date?d:d.date)}))||s&&!s.some(function(d){return vc(c,d)})||l&&!l(Lr(c))||!1}function My(e,n,t,r){var i=Rn(e),a=Jh(e),s=Rn(n),l=Jh(n),c=Rn(r);return i===s&&i===c?a<=t&&t<=l:i<s?c===i&&a<=t||c===s&&l>=t||c<s&&c>i:!1}function rb(e,n){var t,r=n===void 0?{}:n,i=r.minDate,a=r.maxDate;return(t=i&&rm(e,i)<0||a&&rm(e,a)>0)!==null&&t!==void 0?t:!1}function wk(e,n){return n.some(function(t){return Ic(t)===Ic(e)&&Dc(t)===Dc(e)&&Ld(t)===Ld(e)})}function Sk(e,n){var t=n===void 0?{}:n,r=t.excludeTimes,i=t.includeTimes,a=t.filterTime;return r&&wk(e,r)||i&&!wk(e,i)||a&&!a(e)||!1}function Ak(e,n){var t=n.minTime,r=n.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var i=Lr();i=rx(i,Ic(e)),i=ix(i,Dc(e)),i=ax(i,Ld(e));var a=Lr();a=rx(a,Ic(t)),a=ix(a,Dc(t)),a=ax(a,Ld(t));var s=Lr();s=rx(s,Ic(r)),s=ix(s,Dc(r)),s=ax(s,Ld(r));var l;try{l=!_g(i,{start:a,end:s})}catch{l=!1}return l}function Ck(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=ep(e,1);return r&&Px(r,a)>0||i&&i.every(function(s){return Px(s,a)>0})||!1}function Ek(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=Nu(e,1);return r&&Px(a,r)>0||i&&i.every(function(s){return Px(a,s)>0})||!1}function KG(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=Cv(e),s=SO(a);return r&&Fx(r,s)>0||i&&i.every(function(l){return Fx(l,s)>0})||!1}function XG(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=dO(e),s=eA(a,1);return r&&Fx(s,r)>0||i&&i.every(function(l){return Fx(s,l)>0})||!1}function _k(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=im(e,1);return r&&zx(r,a)>0||i&&i.every(function(s){return zx(s,a)>0})||!1}function ZG(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.yearItemNumber,a=i===void 0?nb:i,s=Z1(im(e,a)),l=Bf(s,a).endPeriod,c=r&&Rn(r);return c&&c>l||!1}function kk(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=Id(e,1);return r&&zx(a,r)>0||i&&i.every(function(s){return zx(a,s)>0})||!1}function JG(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.yearItemNumber,a=i===void 0?nb:i,s=Id(e,a),l=Bf(s,a).startPeriod,c=r&&Rn(r);return c&&c<l||!1}function PO(e){var n=e.minDate,t=e.includeDates;if(t&&n){var r=t.filter(function(i){return rm(i,n)>=0});return J8(r)}else return t?J8(t):n}function FO(e){var n=e.maxDate,t=e.includeDates;if(t&&n){var r=t.filter(function(i){return rm(i,n)<=0});return Z8(r)}else return t?Z8(t):n}function Nk(e,n){var t;e===void 0&&(e=[]),n===void 0&&(n="react-datepicker__day--highlighted");for(var r=new Map,i=0,a=e.length;i<a;i++){var s=e[i];if(Dd(s)){var l=fi(s,"MM.dd.yyyy"),c=r.get(l)||[];c.includes(n)||(c.push(n),r.set(l,c))}else if(typeof s=="object"){var d=Object.keys(s),h=(t=d[0])!==null&&t!==void 0?t:"",g=s[h];if(typeof h=="string"&&Array.isArray(g))for(var b=0,m=g.length;b<m;b++){var x=g[b];if(x){var l=fi(x,"MM.dd.yyyy"),c=r.get(l)||[];c.includes(h)||(c.push(h),r.set(l,c))}}}}return r}function eQ(e,n){return e.length!==n.length?!1:e.every(function(t,r){return t===n[r]})}function tQ(e,n){e===void 0&&(e=[]),n===void 0&&(n="react-datepicker__day--holidays");var t=new Map;return e.forEach(function(r){var i=r.date,a=r.holidayName;if(Dd(i)){var s=fi(i,"MM.dd.yyyy"),l=t.get(s)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===n&&eQ(l.holidayNames,[a]))){l.className=n;var c=l.holidayNames;l.holidayNames=c?Nc(Nc([],c,!0),[a],!1):[a],t.set(s,l)}}}),t}function nQ(e,n,t,r,i){for(var a=i.length,s=[],l=0;l<a;l++){var c=e,d=i[l];d&&(c=JH(c,Ic(d)),c=AS(c,Dc(d)),c=nW(c,Ld(d)));var h=AS(e,(t+1)*r);eh(c,n)&&fp(c,h)&&d!=null&&s.push(d)}return s}function jk(e){return e<10?"0".concat(e):"".concat(e)}function Bf(e,n){n===void 0&&(n=nb);var t=Math.ceil(Rn(e)/n)*n,r=t-(n-1);return{startPeriod:r,endPeriod:t}}function rQ(e){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+t-+n)/36e5)}function Tk(e){var n=e.getSeconds(),t=e.getMilliseconds();return Lt(e.getTime()-n*1e3-t)}function iQ(e,n){return Tk(e).getTime()===Tk(n).getTime()}function Ok(e){if(!Dd(e))throw new Error("Invalid date");var n=new Date(e);return n.setHours(0,0,0,0),n}function Ik(e,n){if(!Dd(e)||!Dd(n))throw new Error("Invalid date received");var t=Ok(e),r=Ok(n);return fp(t,r)}function zO(e){return e.key===Tt.Space}var aQ=function(e){Ja(n,e);function n(t){var r=e.call(this,t)||this;return r.inputRef=tt.createRef(),r.onTimeChange=function(i){var a,s;r.setState({time:i});var l=r.props.date,c=l instanceof Date&&!isNaN(+l),d=c?l:new Date;if(i!=null&&i.includes(":")){var h=i.split(":"),g=h[0],b=h[1];d.setHours(Number(g)),d.setMinutes(Number(b))}(s=(a=r.props).onChange)===null||s===void 0||s.call(a,d)},r.renderTimeInput=function(){var i=r.state.time,a=r.props,s=a.date,l=a.timeString,c=a.customTimeInput;return c?K.cloneElement(c,{date:s,value:i,onChange:r.onTimeChange}):tt.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var d;(d=r.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:i,onChange:function(d){r.onTimeChange(d.target.value||l)}})},r.state={time:r.props.timeString},r}return n.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},n.prototype.render=function(){return tt.createElement("div",{className:"react-datepicker__input-time-container"},tt.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),tt.createElement("div",{className:"react-datepicker-time__input-container"},tt.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},n}(K.Component),sQ=function(e){Ja(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.dayEl=K.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var i,a,s=r.key;s===Tt.Space&&(r.preventDefault(),r.key=Tt.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},t.isSameDay=function(r){return Qn(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected),a=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!a},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),Ol(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return fA(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Qn(t.props.day,Kf(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&Qn(r,Kf(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,i=r.day,a=r.highlightDates;if(!a)return!1;var s=fi(i,"MM.dd.yyyy");return a.get(s)},t.getHolidaysClass=function(){var r,i=t.props,a=i.day,s=i.holidays;if(!s)return[void 0];var l=fi(a,"MM.dd.yyyy");return s.has(l)?[(r=s.get(l))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:J1(i,a,s)},t.isInSelectingRange=function(){var r,i=t.props,a=i.day,s=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,d=i.selectsDisabledDaysInRange,h=i.startDate,g=i.endDate,b=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(s||l||c)||!b||!d&&t.isDisabled()?!1:s&&g&&(fp(b,g)||Qh(b,g))?J1(a,b,g):l&&h&&(eh(b,h)||Qh(b,h))||c&&h&&!g&&(eh(b,h)||Qh(b,h))?J1(a,h,b):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,s=i.startDate,l=i.selectsStart,c=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return l?Qn(a,c):Qn(a,s)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,s=i.endDate,l=i.selectsEnd,c=i.selectsRange,d=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return l||c?Qn(a,d):Qn(a,s)},t.isRangeStart=function(){var r=t.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:Qn(a,i)},t.isRangeEnd=function(){var r=t.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:Qn(s,i)},t.isWeekend=function(){var r=XW(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===eo(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(eo(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Lr())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var i=t.props.dayClassName?t.props.dayClassName(r):void 0;return hs("react-datepicker__day",i,"react-datepicker__day--"+UG(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,i=r.day,a=r.ariaLabelPrefixWhenEnabled,s=a===void 0?"Choose":a,l=r.ariaLabelPrefixWhenDisabled,c=l===void 0?"Not available":l,d=t.isDisabled()||t.isExcluded()?c:s;return"".concat(d," ").concat(fi(i,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,i=r.day,a=r.holidays,s=a===void 0?new Map:a,l=r.excludeDates,c=fi(i,"MM.dd.yyyy"),d=[];return s.has(c)&&d.push.apply(d,s.get(c).holidayNames),t.isExcluded()&&d.push(l==null?void 0:l.filter(function(h){return h instanceof Date?Qn(h,i):Qn(h==null?void 0:h.date,i)}).map(function(h){if(!(h instanceof Date))return h==null?void 0:h.message})),d.join(", ")},t.getTabIndex=function(){var r=t.props.selected,i=t.props.preSelection,a=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&Qn(i,r))?0:-1;return a},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(sk(t.props.day),t.props.day):sk(t.props.day)},t.render=function(){return tt.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&tt.createElement("span",{className:"overlay"},t.getTitle()))},t}return n.prototype.componentDidMount=function(){this.handleFocusDay()},n.prototype.componentDidUpdate=function(){this.handleFocusDay()},n.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},n.prototype.isDayActiveElement=function(){var t,r,i;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},n.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},n}(K.Component),oQ=function(e){Ja(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.weekNumberEl=K.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var i,a,s=r.key;s===Tt.Space&&(r.preventDefault(),r.key=Tt.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qn(t.props.date,t.props.selected)&&Qn(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Qn(t.props.date,t.props.selected)&&Qn(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var i=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Qn(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},n.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},n.prototype.render=function(){var t=this.props,r=t.weekNumber,i=t.isWeekDisabled,a=t.ariaLabelPrefix,s=a===void 0?n.defaultProps.ariaLabelPrefix:a,l=t.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!i,"react-datepicker__week-number--selected":!!l&&Qn(this.props.date,this.props.selected)};return tt.createElement("div",{ref:this.weekNumberEl,className:hs(c),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},n}(K.Component),lQ=function(e){Ja(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.isDisabled=function(r){return Ol(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,i){t.props.onDayClick&&t.props.onDayClick(r,i)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,i,a){for(var s,l,c,d=new Date(r),h=0;h<7;h++){var g=new Date(r);g.setDate(g.getDate()+h);var b=!t.isDisabled(g);if(b){d=g;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(d,i,a),t.props.showWeekPicker&&t.handleDayClick(d,a),((s=t.props.shouldCloseOnSelect)!==null&&s!==void 0?s:n.defaultProps.shouldCloseOnSelect)&&((c=(l=t.props).setOpen)===null||c===void 0||c.call(l,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):BG(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),i=_u(r,6),a=new Date(r);a<=i;){if(!t.isDisabled(a))return!1;a=_u(a,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),i=[],a=t.formatWeekNumber(r);if(t.props.showWeekNumber){var s=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,a):void 0;i.push(tt.createElement(oQ,tr({key:"W"},n.defaultProps,t.props,{weekNumber:a,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:s})))}return i.concat([0,1,2,3,4,5,6].map(function(l){var c=_u(r,l);return tt.createElement(sQ,tr({},n.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:t.handleDayClick.bind(t,c),onMouseEnter:t.handleDayMouseEnter.bind(t,c)}))}))},t.startOfWeek=function(){return Kf(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qn(t.startOfWeek(),t.props.selected)&&Qn(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Qn(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return tt.createElement("div",{className:hs(t)},this.renderDays())},n}(K.Component),w1,uQ=6,M0={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},nw=(w1={},w1[M0.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},w1[M0.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},w1[M0.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},w1),Py=1;function Dk(e,n){return e?M0.FOUR_COLUMNS:n?M0.TWO_COLUMNS:M0.THREE_COLUMNS}var cQ=function(e){Ja(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.MONTH_REFS=Nc([],Array(12),!0).map(function(){return K.createRef()}),t.QUARTER_REFS=Nc([],Array(4),!0).map(function(){return K.createRef()}),t.isDisabled=function(r){return Ol(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return fA(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,i){var a,s;(s=(a=t.props).onDayClick)===null||s===void 0||s.call(a,r,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var i,a;(a=(i=t.props).onDayMouseEnter)===null||a===void 0||a.call(i,r)},t.handleMouseLeave=function(){var r,i;(i=(r=t.props).onMouseLeave)===null||i===void 0||i.call(r)},t.isRangeStartMonth=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:Zs(Qo(a,r),s)},t.isRangeStartQuarter=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:Yx(k0(a,r),s)},t.isRangeEndMonth=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:Zs(Qo(a,r),l)},t.isRangeEndQuarter=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:Yx(k0(a,r),l)},t.isInSelectingRangeMonth=function(r){var i,a=t.props,s=a.day,l=a.selectsStart,c=a.selectsEnd,d=a.selectsRange,h=a.startDate,g=a.endDate,b=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(l||c||d)||!b?!1:l&&g?Dy(b,g,r,s):c&&h||d&&h&&!g?Dy(h,b,r,s):!1},t.isSelectingMonthRangeStart=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var a=t.props,s=a.day,l=a.startDate,c=a.selectsStart,d=Qo(s,r),h=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return c?Zs(d,h):Zs(d,l)},t.isSelectingMonthRangeEnd=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var a=t.props,s=a.day,l=a.endDate,c=a.selectsEnd,d=a.selectsRange,h=Qo(s,r),g=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return c||d?Zs(h,g):Zs(h,l)},t.isInSelectingRangeQuarter=function(r){var i,a=t.props,s=a.day,l=a.selectsStart,c=a.selectsEnd,d=a.selectsRange,h=a.startDate,g=a.endDate,b=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(l||c||d)||!b?!1:l&&g?My(b,g,r,s):c&&h||d&&h&&!g?My(h,b,r,s):!1},t.isWeekInMonth=function(r){var i=t.props.day,a=_u(r,6);return Zs(r,i)||Zs(a,i)},t.isCurrentMonth=function(r,i){return Rn(r)===Rn(Lr())&&i===eo(Lr())},t.isCurrentQuarter=function(r,i){return Rn(r)===Rn(Lr())&&i===Jh(Lr())},t.isSelectedMonth=function(r,i,a){return eo(a)===i&&Rn(r)===Rn(a)},t.isSelectMonthInList=function(r,i,a){return a.some(function(s){return t.isSelectedMonth(r,i,s)})},t.isSelectedQuarter=function(r,i,a){return Jh(r)===i&&Rn(r)===Rn(a)},t.renderWeeks=function(){for(var r=[],i=t.props.fixedHeight,a=0,s=!1,l=Kf(Rd(t.props.day),t.props.locale,t.props.calendarStartDay),c=function(x){return t.props.showWeekPicker?Kf(x,t.props.locale,t.props.calendarStartDay):t.props.preSelection},d=function(x){return t.props.showWeekPicker?Kf(x,t.props.locale,t.props.calendarStartDay):t.props.selected},h=t.props.selected?d(t.props.selected):void 0,g=t.props.preSelection?c(t.props.preSelection):void 0;r.push(tt.createElement(lQ,tr({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:a,day:l,month:eo(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:h,preSelection:g,showWeekNumber:t.props.showWeekNumbers}))),!s;){a++,l=Rx(l,1);var b=i&&a>=uQ,m=!i&&!t.isWeekInMonth(l);if(b||m)if(t.props.peekNextMonth)s=!0;else break}return r},t.onMonthClick=function(r,i){var a=t.isMonthDisabledForLabelDate(i),s=a.isDisabled,l=a.labelDate;s||t.handleDayClick(Rd(l),r)},t.onMonthMouseEnter=function(r){var i=t.isMonthDisabledForLabelDate(r),a=i.isDisabled,s=i.labelDate;a||t.handleDayMouseEnter(Rd(s))},t.handleMonthNavigation=function(r,i){var a,s,l,c;(s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,i),(c=(l=t.MONTH_REFS[r])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()},t.handleKeyboardNavigation=function(r,i,a){var s,l=t.props,c=l.selected,d=l.preSelection,h=l.setPreSelection,g=l.minDate,b=l.maxDate,m=l.showFourColumnMonthYearPicker,x=l.showTwoColumnMonthYearPicker;if(d){var y=Dk(m,x),A=t.getVerticalOffset(y),w=(s=nw[y])===null||s===void 0?void 0:s.grid,C=function(k,M,q){var Q,T,O=M,L=q;switch(k){case Tt.ArrowRight:O=Nu(M,Py),L=q===11?0:q+Py;break;case Tt.ArrowLeft:O=ep(M,Py),L=q===0?11:q-Py;break;case Tt.ArrowUp:O=ep(M,A),L=!((Q=w==null?void 0:w[0])===null||Q===void 0)&&Q.includes(q)?q+12-A:q-A;break;case Tt.ArrowDown:O=Nu(M,A),L=!((T=w==null?void 0:w[w.length-1])===null||T===void 0)&&T.includes(q)?q-12+A:q+A;break}return{newCalculatedDate:O,newCalculatedMonth:L}},N=function(k,M,q){for(var Q=40,T=k,O=!1,L=0,j=C(T,M,q),X=j.newCalculatedDate,H=j.newCalculatedMonth;!O;){if(L>=Q){X=M,H=q;break}if(g&&X<g){T=Tt.ArrowRight;var G=C(T,X,H);X=G.newCalculatedDate,H=G.newCalculatedMonth}if(b&&X>b){T=Tt.ArrowLeft;var G=C(T,X,H);X=G.newCalculatedDate,H=G.newCalculatedMonth}if(QG(X,t.props)){var G=C(T,X,H);X=G.newCalculatedDate,H=G.newCalculatedMonth}else O=!0;L++}return{newCalculatedDate:X,newCalculatedMonth:H}};if(i===Tt.Enter){t.isMonthDisabled(a)||(t.onMonthClick(r,a),h==null||h(c));return}var P=N(i,d,a),F=P.newCalculatedDate,R=P.newCalculatedMonth;switch(i){case Tt.ArrowRight:case Tt.ArrowLeft:case Tt.ArrowUp:case Tt.ArrowDown:t.handleMonthNavigation(R,F);break}}},t.getVerticalOffset=function(r){var i,a;return(a=(i=nw[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&a!==void 0?a:0},t.onMonthKeyDown=function(r,i){var a=t.props,s=a.disabledKeyboardNavigation,l=a.handleOnMonthKeyDown,c=r.key;c!==Tt.Tab&&r.preventDefault(),s||t.handleKeyboardNavigation(r,c,i),l&&l(r)},t.onQuarterClick=function(r,i){var a=k0(t.props.day,i);Ly(a,t.props)||t.handleDayClick(yk(a),r)},t.onQuarterMouseEnter=function(r){var i=k0(t.props.day,r);Ly(i,t.props)||t.handleDayMouseEnter(yk(i))},t.handleQuarterNavigation=function(r,i){var a,s,l,c;t.isDisabled(i)||t.isExcluded(i)||((s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,i),(c=(l=t.QUARTER_REFS[r-1])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())},t.onQuarterKeyDown=function(r,i){var a,s,l=r.key;if(!t.props.disabledKeyboardNavigation)switch(l){case Tt.Enter:t.onQuarterClick(r,i),(s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,t.props.selected);break;case Tt.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,eA(t.props.preSelection,1));break;case Tt.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,SO(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var i,a=t.props,s=a.day,l=a.minDate,c=a.maxDate,d=a.excludeDates,h=a.includeDates,g=Qo(s,r);return{isDisabled:(i=(l||c||d||h)&&MO(g,t.props))!==null&&i!==void 0?i:!1,labelDate:g}},t.isMonthDisabled=function(r){var i=t.isMonthDisabledForLabelDate(r).isDisabled;return i},t.getMonthClassNames=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate,c=i.preSelection,d=i.monthClassName,h=d?d(Qo(a,r)):void 0,g=t.getSelection();return hs("react-datepicker__month-text","react-datepicker__month-".concat(r),h,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":g?t.isSelectMonthInList(a,r,g):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&c&&t.isSelectedMonth(a,r,c)&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":s&&l?Dy(s,l,r,a):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(a,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=eo(t.props.preSelection),a=t.isMonthDisabledForLabelDate(i).isDisabled,s=r===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return s},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=Jh(t.props.preSelection),a=Ly(t.props.day,t.props),s=r===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return s},t.getAriaLabel=function(r){var i=t.props,a=i.chooseDayAriaLabelPrefix,s=a===void 0?"Choose":a,l=i.disabledDayAriaLabelPrefix,c=l===void 0?"Not available":l,d=i.day,h=i.locale,g=Qo(d,r),b=t.isDisabled(g)||t.isExcluded(g)?c:s;return"".concat(b," ").concat(fi(g,"MMMM yyyy",h))},t.getQuarterClassNames=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate,c=i.selected,d=i.minDate,h=i.maxDate,g=i.excludeDates,b=i.includeDates,m=i.filterDate,x=i.preSelection,y=i.disabledKeyboardNavigation,A=(d||h||g||b||m)&&Ly(k0(a,r),t.props);return hs("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":A,"react-datepicker__quarter-text--selected":c?t.isSelectedQuarter(a,r,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!y&&x&&t.isSelectedQuarter(a,r,x)&&!A,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":s&&l?My(s,l,r,a):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r)})},t.getMonthContent=function(r){var i=t.props,a=i.showFullMonthYearPicker,s=i.renderMonthContent,l=i.locale,c=i.day,d=RO(r,l),h=dA(r,l);return s?s(r,d,h,c):a?h:d},t.getQuarterContent=function(r){var i,a=t.props,s=a.renderQuarterContent,l=a.locale,c=GG(r,l);return(i=s==null?void 0:s(r,c))!==null&&i!==void 0?i:c},t.renderMonths=function(){var r,i=t.props,a=i.showTwoColumnMonthYearPicker,s=i.showFourColumnMonthYearPicker,l=i.day,c=i.selected,d=(r=nw[Dk(s,a)])===null||r===void 0?void 0:r.grid;return d==null?void 0:d.map(function(h,g){return tt.createElement("div",{className:"react-datepicker__month-wrapper",key:g},h.map(function(b,m){return tt.createElement("div",{ref:t.MONTH_REFS[b],key:m,onClick:function(x){t.onMonthClick(x,b)},onKeyDown:function(x){zO(x)&&(x.preventDefault(),x.key=Tt.Enter),t.onMonthKeyDown(x,b)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(b)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(b)}:void 0,tabIndex:Number(t.getTabIndex(b)),className:t.getMonthClassNames(b),"aria-disabled":t.isMonthDisabled(b),role:"option","aria-label":t.getAriaLabel(b),"aria-current":t.isCurrentMonth(l,b)?"date":void 0,"aria-selected":c?t.isSelectedMonth(l,b,c):void 0},t.getMonthContent(b))}))})},t.renderQuarters=function(){var r=t.props,i=r.day,a=r.selected,s=[1,2,3,4];return tt.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(l,c){return tt.createElement("div",{key:c,ref:t.QUARTER_REFS[c],role:"option",onClick:function(d){t.onQuarterClick(d,l)},onKeyDown:function(d){t.onQuarterKeyDown(d,l)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(l)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(l)}:void 0,className:t.getQuarterClassNames(l),"aria-selected":a?t.isSelectedQuarter(i,l,a):void 0,tabIndex:Number(t.getQuarterTabIndex(l)),"aria-current":t.isCurrentQuarter(i,l)?"date":void 0},t.getQuarterContent(l))}))},t.getClassNames=function(){var r=t.props,i=r.selectingDate,a=r.selectsStart,s=r.selectsEnd,l=r.showMonthYearPicker,c=r.showQuarterYearPicker,d=r.showWeekPicker;return hs("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(a||s)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":d})},t}return n.prototype.getSelection=function(){var t=this.props,r=t.selected,i=t.selectedDates,a=t.selectsMultiple;if(a)return i;if(r)return[r]},n.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,i=t.showQuarterYearPicker,a=t.day,s=t.ariaLabelPrefix,l=s===void 0?"Month ":s,c=l?l.trim()+" ":"";return tt.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(fi(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},n}(K.Component),dQ=function(e){Ja(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,i){return tt.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?tt.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return n.prototype.render=function(){return tt.createElement(jv,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},n}(K.Component),fQ=function(e){Ja(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(i,a){return tt.createElement("option",{key:i,value:a},i)})},t.renderSelectMode=function(r){return tt.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,i){return tt.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},tt.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),tt.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(r){return tt.createElement(dQ,tr({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var i=t.state.dropdownVisible,a=[t.renderReadView(!i,r)];return i&&a.unshift(t.renderDropdown(r)),a},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return RO(a,t.props.locale)}:function(a){return dA(a,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return tt.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},n}(K.Component);function hQ(e,n){for(var t=[],r=Rd(e),i=Rd(n);!eh(r,i);)t.push(Lr(r)),r=Nu(r,1);return t}var pQ=function(e){Ja(n,e);function n(t){var r=e.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var a=_S(i),s=vc(r.props.date,i)&&Zs(r.props.date,i);return tt.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:r.onChange.bind(r,a),"aria-selected":s?"true":void 0},s?tt.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",fi(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:hQ(r.props.minDate,r.props.maxDate)},r}return n.prototype.render=function(){var t=hs({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return tt.createElement(jv,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(K.Component),mQ=function(e){Ja(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=Rd(t.props.minDate),i=Rd(t.props.maxDate),a=[];!eh(r,i);){var s=_S(r);a.push(tt.createElement("option",{key:s,value:s},fi(r,t.props.dateFormat,t.props.locale))),r=Nu(r,1)}return a},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return tt.createElement("select",{value:_S(Rd(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var i=fi(t.props.date,t.props.dateFormat,t.props.locale);return tt.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},tt.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),tt.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return tt.createElement(pQ,tr({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown();var i=Lr(r);vc(t.props.date,i)&&Zs(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return tt.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(K.Component),gQ=function(e){Ja(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,a;t.list&&(t.list.scrollTop=(a=t.centerLi&&n.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&a!==void 0?a:0)})},t.handleClick=function(r){var i,a;(t.props.minTime||t.props.maxTime)&&Ak(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Sk(r,t.props)||(a=(i=t.props).onChange)===null||a===void 0||a.call(i,r)},t.isSelectedTime=function(r){return t.props.selected&&iQ(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&Ak(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Sk(r,t.props)},t.liClasses=function(r){var i,a=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&a.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&a.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Ic(r)*3600+Dc(r)*60+Ld(r))%(((i=t.props.intervals)!==null&&i!==void 0?i:n.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},t.handleOnKeyDown=function(r,i){var a,s;r.key===Tt.Space&&(r.preventDefault(),r.key=Tt.Enter),(r.key===Tt.ArrowUp||r.key===Tt.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Tt.ArrowDown||r.key===Tt.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Tt.Enter&&t.handleClick(i),(s=(a=t.props).handleOnKeyDown)===null||s===void 0||s.call(a,r)},t.renderTimes=function(){for(var r,i=[],a=typeof t.props.format=="string"?t.props.format:"p",s=(r=t.props.intervals)!==null&&r!==void 0?r:n.defaultProps.intervals,l=t.props.selected||t.props.openToDate||Lr(),c=ox(l),d=t.props.injectTimes&&t.props.injectTimes.sort(function(A,w){return A.getTime()-w.getTime()}),h=60*rQ(l),g=h/s,b=0;b<g;b++){var m=AS(c,b*s);if(i.push(m),d){var x=nQ(c,m,b,s,d);i=i.concat(x)}}var y=i.reduce(function(A,w){return w.getTime()<=l.getTime()?w:A},i[0]);return i.map(function(A){return tt.createElement("li",{key:A.valueOf(),onClick:t.handleClick.bind(t,A),className:t.liClasses(A),ref:function(w){A===y&&(t.centerLi=w)},onKeyDown:function(w){t.handleOnKeyDown(w,A)},tabIndex:A===y?0:-1,role:"option","aria-selected":t.isSelectedTime(A)?"true":void 0,"aria-disabled":t.isDisabledTime(A)?"true":void 0},fi(A,a,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?tt.createElement(tt.Fragment,null):tt.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},tt.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},n.prototype.render=function(){var t=this,r,i=this.state.height;return tt.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:n.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),tt.createElement("div",{className:"react-datepicker__time"},tt.createElement("div",{className:"react-datepicker__time-box"},tt.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){t.list=a},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},n.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},n}(K.Component),Lk=3,bQ=function(e){Ja(n,e);function n(t){var r=e.call(this,t)||this;return r.YEAR_REFS=Nc([],Array(r.props.yearItemNumber),!0).map(function(){return K.createRef()}),r.isDisabled=function(i){return Ol(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return fA(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var a=function(){var s,l;(l=(s=r.YEAR_REFS[i])===null||s===void 0?void 0:s.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(a)},r.handleYearClick=function(i,a){r.props.onDayClick&&r.props.onDayClick(i,a)},r.handleYearNavigation=function(i,a){var s,l,c,d,h=r.props,g=h.date,b=h.yearItemNumber;if(!(g===void 0||b===void 0)){var m=Bf(g,b).startPeriod;r.isDisabled(a)||r.isExcluded(a)||((l=(s=r.props).setPreSelection)===null||l===void 0||l.call(s,a),i-m<0?r.updateFocusOnPaginate(b-(m-i)):i-m>=b?r.updateFocusOnPaginate(Math.abs(b-(i-m))):(d=(c=r.YEAR_REFS[i-m])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())}},r.isSameDay=function(i,a){return Qn(i,a)},r.isCurrentYear=function(i){return i===Rn(Lr())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&vc(xc(Lr(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&vc(xc(Lr(),i),r.props.endDate)},r.isInRange=function(i){return Ry(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var a=r.props,s=a.selectsStart,l=a.selectsEnd,c=a.selectsRange,d=a.startDate,h=a.endDate;return!(s||l||c)||!r.selectingDate()?!1:s&&h?Ry(i,r.selectingDate(),h):l&&d||c&&d&&!h?Ry(i,d,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var a;if(!r.isInSelectingRange(i))return!1;var s=r.props,l=s.startDate,c=s.selectsStart,d=xc(Lr(),i);return c?vc(d,(a=r.selectingDate())!==null&&a!==void 0?a:null):vc(d,l??null)},r.isSelectingRangeEnd=function(i){var a;if(!r.isInSelectingRange(i))return!1;var s=r.props,l=s.endDate,c=s.selectsEnd,d=s.selectsRange,h=xc(Lr(),i);return c||d?vc(h,(a=r.selectingDate())!==null&&a!==void 0?a:null):vc(h,l??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var a=r.props,s=a.minDate,l=a.maxDate,c=a.excludeDates,d=a.includeDates,h=a.filterDate,g=Z1(xc(r.props.date,i)),b=(s||l||c||d||h)&&lx(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Qn(g,Z1(r.props.selected))&&Qn(g,Z1(r.props.preSelection))&&!b}},r.onYearClick=function(i,a){var s=r.props.date;s!==void 0&&r.handleYearClick(Z1(xc(s,a)),i)},r.onYearKeyDown=function(i,a){var s,l,c=i.key,d=r.props,h=d.date,g=d.yearItemNumber,b=d.handleOnKeyDown;if(c!==Tt.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(c){case Tt.Enter:if(r.props.selected==null)break;r.onYearClick(i,a),(l=(s=r.props).setPreSelection)===null||l===void 0||l.call(s,r.props.selected);break;case Tt.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(a+1,Id(r.props.preSelection,1));break;case Tt.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(a-1,im(r.props.preSelection,1));break;case Tt.ArrowUp:{if(h===void 0||g===void 0||r.props.preSelection==null)break;var m=Bf(h,g).startPeriod,x=Lk,y=a-x;if(y<m){var A=g%x;a>=m&&a<m+A?x=A:x+=A,y=a-x}r.handleYearNavigation(y,im(r.props.preSelection,x));break}case Tt.ArrowDown:{if(h===void 0||g===void 0||r.props.preSelection==null)break;var w=Bf(h,g).endPeriod,x=Lk,y=a+x;if(y>w){var A=g%x;a<=w&&a>w-A?x=A:x+=A,y=a+x}r.handleYearNavigation(y,Id(r.props.preSelection,x));break}}b&&b(i)},r.getYearClassNames=function(i){var a=r.props,s=a.date,l=a.minDate,c=a.maxDate,d=a.selected,h=a.excludeDates,g=a.includeDates,b=a.filterDate,m=a.yearClassName;return hs("react-datepicker__year-text","react-datepicker__year-".concat(i),s?m==null?void 0:m(xc(s,i)):void 0,{"react-datepicker__year-text--selected":d?i===Rn(d):void 0,"react-datepicker__year-text--disabled":(l||c||h||g||b)&&lx(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var a=Rn(r.props.preSelection),s=lx(i,r.props);return i===a&&!s?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return n.prototype.render=function(){var t=this,r=[],i=this.props,a=i.date,s=i.yearItemNumber,l=i.onYearMouseEnter,c=i.onYearMouseLeave;if(a===void 0)return null;for(var d=Bf(a,s),h=d.startPeriod,g=d.endPeriod,b=function(y){r.push(tt.createElement("div",{ref:m.YEAR_REFS[y-h],onClick:function(A){t.onYearClick(A,y)},onKeyDown:function(A){zO(A)&&(A.preventDefault(),A.key=Tt.Enter),t.onYearKeyDown(A,y)},tabIndex:Number(m.getYearTabIndex(y)),className:m.getYearClassNames(y),onMouseEnter:m.props.usePointerEvent?void 0:function(A){return l(A,y)},onPointerEnter:m.props.usePointerEvent?function(A){return l(A,y)}:void 0,onMouseLeave:m.props.usePointerEvent?void 0:function(A){return c(A,y)},onPointerLeave:m.props.usePointerEvent?function(A){return c(A,y)}:void 0,key:y,"aria-current":m.isCurrentYear(y)?"date":void 0},m.getYearContent(y)))},m=this,x=h;x<=g;x++)b(x);return tt.createElement("div",{className:"react-datepicker__year"},tt.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},n}(K.Component);function yQ(e,n,t,r){for(var i=[],a=0;a<2*n+1;a++){var s=e+n-a,l=!0;t&&(l=Rn(t)<=s),r&&l&&(l=Rn(r)>=s),l&&i.push(s)}return i}var xQ=function(e){Ja(n,e);function n(t){var r=e.call(this,t)||this;r.renderOptions=function(){var l=r.props.year,c=r.state.yearsList.map(function(g){return tt.createElement("div",{className:l===g?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:g,onClick:r.onChange.bind(r,g),"aria-selected":l===g?"true":void 0},l===g?tt.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",g)}),d=r.props.minDate?Rn(r.props.minDate):null,h=r.props.maxDate?Rn(r.props.maxDate):null;return(!h||!r.state.yearsList.find(function(g){return g===h}))&&c.unshift(tt.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},tt.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!r.state.yearsList.find(function(g){return g===d}))&&c.push(tt.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},tt.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},r.onChange=function(l){r.props.onChange(l)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(l){var c=r.state.yearsList.map(function(d){return d+l});r.setState({yearsList:c})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,s=i||(a?10:5);return r.state={yearsList:yQ(r.props.year,s,r.props.minDate,r.props.maxDate)},r.dropdownRef=K.createRef(),r}return n.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,i=r?r.find(function(a){return a.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},n.prototype.render=function(){var t=hs({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return tt.createElement(jv,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(K.Component),vQ=function(e){Ja(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?Rn(t.props.minDate):1900,i=t.props.maxDate?Rn(t.props.maxDate):2100,a=[],s=r;s<=i;s++)a.push(tt.createElement("option",{key:s,value:s},s));return a},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return tt.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return tt.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},tt.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),tt.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return tt.createElement(xQ,tr({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,i){var a;(a=t.onSelect)===null||a===void 0||a.call(t,r,i),t.setOpen()},t.onSelect=function(r,i){var a,s;(s=(a=t.props).onSelect)===null||s===void 0||s.call(a,r,i)},t.setOpen=function(){var r,i;(i=(r=t.props).setOpen)===null||i===void 0||i.call(r,!0)},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return tt.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(K.Component),wQ=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],SQ=function(e){var n=(e.className||"").split(/\s+/);return wQ.some(function(t){return n.indexOf(t)>=0})},AQ=function(e){Ja(n,e);function n(t){var r=e.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var a,s;SQ(i.target)&&((s=(a=r.props).onDropdownFocus)===null||s===void 0||s.call(a,i))},r.getDateInView=function(){var i=r.props,a=i.preSelection,s=i.selected,l=i.openToDate,c=PO(r.props),d=FO(r.props),h=Lr(),g=l||s||a;return g||(c&&fp(h,c)?c:d&&eh(h,d)?d:h)},r.increaseMonth=function(){r.setState(function(i){var a=i.date;return{date:Nu(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var a=i.date;return{date:ep(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,a,s){r.props.onSelect(i,a,s),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,a){r.setState({selectingDate:xc(Lr(),a)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,a)},r.handleYearMouseLeave=function(i,a){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,a)},r.handleYearChange=function(i){var a,s,l,c;(s=(a=r.props).onYearChange)===null||s===void 0||s.call(a,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(c=(l=r.props).setOpen)===null||c===void 0||c.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Ol(i,r.props))return i;for(var a=Rd(i),s=HG(i),l=iW(s,a),c=null,d=0;d<=l;d++){var h=_u(a,d);if(!Ol(h,r.props)){c=h;break}}return c},r.handleMonthChange=function(i){var a,s,l,c=(a=r.getEnabledPreSelectionDateForMonth(i))!==null&&a!==void 0?a:i;r.handleCustomMonthChange(c),r.props.adjustDateOnChange&&(r.props.onSelect(c),(l=(s=r.props).setOpen)===null||l===void 0||l.call(s,!0)),r.props.setPreSelection&&r.props.setPreSelection(c)},r.handleCustomMonthChange=function(i){var a,s;(s=(a=r.props).onMonthChange)===null||s===void 0||s.call(a,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(a){var s=a.date;return{date:xc(s,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(a){var s=a.date;return{date:Qo(s,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(a){var s=a.date;return{date:xc(Qo(s,eo(i)),Rn(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var a=Kf(i,r.props.locale,r.props.calendarStartDay),s=[];return r.props.showWeekNumbers&&s.push(tt.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(l){var c=_u(a,l),d=r.formatWeekday(c,r.props.locale),h=r.props.weekDayClassName?r.props.weekDayClassName(c):void 0;return tt.createElement("div",{key:l,"aria-label":fi(c,"EEEE",r.props.locale),className:hs("react-datepicker__day-name",h)},d)}))},r.formatWeekday=function(i,a){return r.props.formatWeekDay?WG(i,r.props.formatWeekDay,a):r.props.useWeekdaysShort?YG(i,a):VG(i,a)},r.decreaseYear=function(){r.setState(function(i){var a,s=i.date;return{date:im(s,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:n.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,a,s;if(!r.props.renderCustomHeader){var l=(i=r.props.monthsShown)!==null&&i!==void 0?i:n.defaultProps.monthsShown,c=r.props.showPreviousMonths?l-1:0,d=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:c,h=ep(r.state.date,d),g;switch(!0){case r.props.showMonthYearPicker:g=_k(r.state.date,r.props);break;case r.props.showYearPicker:g=ZG(r.state.date,r.props);break;case r.props.showQuarterYearPicker:g=KG(r.state.date,r.props);break;default:g=Ck(h,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:n.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&g||r.props.showTimeSelectOnly)){var b=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],x=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(x=r.decreaseYear),g&&r.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),x=void 0);var y=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,A=r.props,w=A.previousMonthButtonLabel,C=w===void 0?n.defaultProps.previousMonthButtonLabel:w,N=A.previousYearButtonLabel,P=N===void 0?n.defaultProps.previousYearButtonLabel:N,F=r.props,R=F.previousMonthAriaLabel,k=R===void 0?typeof C=="string"?C:"Previous Month":R,M=F.previousYearAriaLabel,q=M===void 0?typeof P=="string"?P:"Previous Year":M;return tt.createElement("button",{type:"button",className:m.join(" "),onClick:x,onKeyDown:r.props.handleOnKeyDown,"aria-label":y?q:k},tt.createElement("span",{className:b.join(" ")},y?P:C))}}},r.increaseYear=function(){r.setState(function(i){var a,s=i.date;return{date:Id(s,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:n.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.showMonthYearPicker:a=kk(r.state.date,r.props);break;case r.props.showYearPicker:a=JG(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=XG(r.state.date,r.props);break;default:a=Ek(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:n.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var c=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(c=r.increaseYear),a&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),c=void 0);var d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,h=r.props,g=h.nextMonthButtonLabel,b=g===void 0?n.defaultProps.nextMonthButtonLabel:g,m=h.nextYearButtonLabel,x=m===void 0?n.defaultProps.nextYearButtonLabel:m,y=r.props,A=y.nextMonthAriaLabel,w=A===void 0?typeof b=="string"?b:"Next Month":A,C=y.nextYearAriaLabel,N=C===void 0?typeof x=="string"?x:"Next Year":C;return tt.createElement("button",{type:"button",className:s.join(" "),onClick:c,onKeyDown:r.props.handleOnKeyDown,"aria-label":d?N:w},tt.createElement("span",{className:l.join(" ")},d?x:b))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var a=["react-datepicker__current-month"];return r.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),tt.createElement("h2",{className:a.join(" ")},fi(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return tt.createElement(vQ,tr({},n.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Rn(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return tt.createElement(fQ,tr({},n.defaultProps,r.props,{month:eo(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return tt.createElement(mQ,tr({},n.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(xk(),i),r.props.setPreSelection&&r.props.setPreSelection(xk())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return tt.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var a=i.monthDate,s=i.i;return tt.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(a),tt.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(s!==0),r.renderMonthYearDropdown(s!==0),r.renderYearDropdown(s!==0)),tt.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderCustomHeader=function(i){var a,s,l=i.monthDate,c=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var d=Ck(r.state.date,r.props),h=Ek(r.state.date,r.props),g=_k(r.state.date,r.props),b=kk(r.state.date,r.props),m=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return tt.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(s=(a=r.props).renderCustomHeader)===null||s===void 0?void 0:s.call(a,tr(tr({},r.state),{customHeaderCount:c,monthDate:l,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:d,nextMonthButtonDisabled:h,prevYearButtonDisabled:g,nextYearButtonDisabled:b})),m&&tt.createElement("div",{className:"react-datepicker__day-names"},r.header(l)))},r.renderYearHeader=function(i){var a=i.monthDate,s=r.props,l=s.showYearPicker,c=s.yearItemNumber,d=c===void 0?n.defaultProps.yearItemNumber:c,h=Bf(a,d),g=h.startPeriod,b=h.endPeriod;return tt.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(g," - ").concat(b):Rn(a))},r.renderHeader=function(i){var a=i.monthDate,s=i.i,l=s===void 0?0:s,c={monthDate:a,i:l};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(c);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(c);default:return r.renderDefaultHeader(c)}},r.renderMonths=function(){var i,a;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var s=[],l=(i=r.props.monthsShown)!==null&&i!==void 0?i:n.defaultProps.monthsShown,c=r.props.showPreviousMonths?l-1:0,d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Id(r.state.date,c):ep(r.state.date,c),h=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:c,g=0;g<l;++g){var b=g-h+c,m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Id(d,b):Nu(d,b),x="month-".concat(g),y=g<l-1,A=g>0;s.push(tt.createElement("div",{key:x,ref:function(w){r.monthContainer=w??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:m,i:g}),tt.createElement(cQ,tr({},n.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:m,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:g,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:A}))))}return s}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return tt.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),tt.createElement(bQ,tr({},n.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return tt.createElement(gQ,tr({},n.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,a=i&&Ed(i)&&!!r.props.selected,s=a?"".concat(jk(i.getHours()),":").concat(jk(i.getMinutes())):"";if(r.props.showTimeInput)return tt.createElement(aQ,tr({},n.defaultProps,r.props,{date:i,timeString:s,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,a=Bf(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:n.defaultProps.yearItemNumber),s=a.startPeriod,l=a.endPeriod,c;return r.props.showYearPicker?c="".concat(s," - ").concat(l):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?c=Rn(r.state.date):c="".concat(dA(eo(r.state.date),r.props.locale)," ").concat(Rn(r.state.date)),tt.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&c)},r.renderChildren=function(){if(r.props.children)return tt.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=K.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(n,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:nb}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},n.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!Qn(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!Zs(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Qn(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},n.prototype.render=function(){var t=this.props.container||MG;return tt.createElement(jv,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},tt.createElement(t,{className:hs("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},n}(K.Component),CQ=function(e){var n=e.icon,t=e.className,r=t===void 0?"":t,i=e.onClick,a="react-datepicker__calendar-icon";return typeof n=="string"?tt.createElement("i",{className:"".concat(a," ").concat(n," ").concat(r),"aria-hidden":"true",onClick:i}):tt.isValidElement(n)?tt.cloneElement(n,{className:"".concat(n.props.className||""," ").concat(a," ").concat(r),onClick:function(s){typeof n.props.onClick=="function"&&n.props.onClick(s),typeof i=="function"&&i(s)}}):tt.createElement("svg",{className:"".concat(a," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},tt.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},qO=function(e){Ja(n,e);function n(t){var r=e.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return n.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},n.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},n.prototype.render=function(){return dR.createPortal(this.props.children,this.el)},n}(K.Component),EQ="[tabindex], a, button, input, select, textarea",_Q=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},BO=function(e){Ja(n,e);function n(t){var r=e.call(this,t)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(EQ),1,-1).filter(_Q)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=K.createRef(),r}return n.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:n.defaultProps.enableTabLoop)?tt.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},tt.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,tt.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},n.defaultProps={enableTabLoop:!0},n}(K.Component);function kQ(e){var n=function(t){var r,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,a=K.useRef(null),s=RG(tr({open:!i,whileElementsMounted:hG,placement:t.popperPlacement,middleware:Nc([SG({padding:15}),wG(10),AG({element:a})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),l=tr(tr({},t),{hidePopper:i,popperProps:tr(tr({},s),{arrowRef:a})});return tt.createElement(e,tr({},l))};return n}var NQ=function(e){Ja(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(n,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t=this.props,r=t.className,i=t.wrapperClassName,a=t.hidePopper,s=a===void 0?n.defaultProps.hidePopper:a,l=t.popperComponent,c=t.targetComponent,d=t.enableTabLoop,h=t.popperOnKeyDown,g=t.portalId,b=t.portalHost,m=t.popperProps,x=t.showArrow,y=void 0;if(!s){var A=hs("react-datepicker-popper",r);y=tt.createElement(BO,{enableTabLoop:d},tt.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:A,"data-placement":m.placement,onKeyDown:h},l,x&&tt.createElement(NG,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(y=K.createElement(this.props.popperContainer,{},y)),g&&!s&&(y=tt.createElement(qO,{portalId:g,portalHost:b},y));var w=hs("react-datepicker-wrapper",i);return tt.createElement(tt.Fragment,null,tt.createElement("div",{ref:m.refs.setReference,className:w},c),y)},n}(K.Component),jQ=kQ(NQ),Rk="react-datepicker-ignore-onclickoutside";function TQ(e,n){return e&&n?eo(e)!==eo(n)||Rn(e)!==Rn(n):e!==n}var rw="Date input not valid.",OQ=function(e){Ja(n,e);function n(t){var r=e.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Lr()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(a,s){var l=new Date(s.date);return Ed(l)?Nc(Nc([],a,!0),[tr(tr({},s),{date:l})],!1):a},[])},r.calcInitialState=function(){var i,a=r.getPreSelection(),s=PO(r.props),l=FO(r.props),c=s&&fp(a,ox(s))?s:l&&eh(a,vk(l))?l:a;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:c,highlightDates:Nk(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(tr(tr({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(tr(tr({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.safeFocus=function(){setTimeout(function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.focus)===null||a===void 0||a.call(i,{preventScroll:!0})},0)},r.safeBlur=function(){setTimeout(function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.blur)===null||a===void 0||a.call(i)},0)},r.setFocus=function(){r.safeFocus()},r.setBlur=function(){r.safeBlur(),r.cancelFocusInput()},r.setOpen=function(i,a){a===void 0&&(a=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:iw},function(){i||r.setState(function(s){return{focused:a?s.focused:!1}},function(){!a&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Dd(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var a,s,l=r.state.wasHidden,c=l?r.state.open:!0;l&&r.resetHiddenStatus(),!r.state.preventFocus&&c&&((s=(a=r.props).onFocus)===null||s===void 0||s.call(a,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var a,s;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((s=(a=r.props).onBlur)===null||s===void 0||s.call(a,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var a,s;r.props.inline||r.setOpen(!1),(s=(a=r.props).onClickOutside)===null||s===void 0||s.call(a,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,a,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var c=s[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,s),!c||typeof c.isDefaultPrevented!="function"||c.isDefaultPrevented()))){r.setState({inputValue:(c==null?void 0:c.target)instanceof HTMLInputElement?c.target.value:null,lastPreSelectChange:IQ});var d=r.props,h=d.dateFormat,g=h===void 0?n.defaultProps.dateFormat:h,b=d.strictParsing,m=b===void 0?n.defaultProps.strictParsing:b,x=d.selectsRange,y=d.startDate,A=d.endDate,w=(c==null?void 0:c.target)instanceof HTMLInputElement?c.target.value:"";if(x){var C=w.split("-",2).map(function(Q){return Q.trim()}),N=C[0],P=C[1],F=ew(N??"",g,r.props.locale,m),R=ew(P??"",g,r.props.locale,m),k=(y==null?void 0:y.getTime())!==(F==null?void 0:F.getTime()),M=(A==null?void 0:A.getTime())!==(R==null?void 0:R.getTime());if(!k&&!M||F&&Ol(F,r.props)||R&&Ol(R,r.props))return;(a=(i=r.props).onChange)===null||a===void 0||a.call(i,[F,R],c)}else{var q=ew(w,g,r.props.locale,m,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&q&&!Qn(q,r.props.selected)&&(q=gY(r.props.selected,{hours:Ic(q),minutes:Dc(q),seconds:Ld(q)})),(q||!w)&&r.setSelected(q,c,!0)}}},r.handleSelect=function(i,a,s){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(a),r.setSelected(i,a,!1,s),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var l=r.props,c=l.startDate,d=l.endDate;c&&!d&&(r.props.swapRange||!Ik(i,c))&&r.setOpen(!1)}},r.setSelected=function(i,a,s,l){var c,d,h=i;if(r.props.showYearPicker){if(h!==null&&lx(Rn(h),r.props))return}else if(r.props.showMonthYearPicker){if(h!==null&&MO(h,r.props))return}else if(h!==null&&Ol(h,r.props))return;var g=r.props,b=g.onChange,m=g.selectsRange,x=g.startDate,y=g.endDate,A=g.selectsMultiple,w=g.selectedDates,C=g.minTime,N=g.swapRange;if(!Qh(r.props.selected,h)||r.props.allowSameDay||m||A)if(h!==null&&(r.props.selected&&(!s||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(h=tw(h,{hour:Ic(r.props.selected),minute:Dc(r.props.selected),second:Ld(r.props.selected)})),!s&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&C&&(h=tw(h,{hour:C.getHours(),minute:C.getMinutes(),second:C.getSeconds()})),r.props.inline||r.setState({preSelection:h}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:l})),m){var P=!x&&!y,F=x&&!y,R=x&&y;P?b==null||b([h,null],a):F&&(h===null?b==null||b([null,null],a):Ik(h,x)?N?b==null||b([h,x],a):b==null||b([h,null],a):b==null||b([x,h],a)),R&&(b==null||b([h,null],a))}else if(A){if(h!==null)if(!(w!=null&&w.length))b==null||b([h],a);else{var k=w.some(function(q){return Qn(q,h)});if(k){var M=w.filter(function(q){return!Qn(q,h)});b==null||b(M,a)}else b==null||b(Nc(Nc([],w,!0),[h],!1),a)}}else b==null||b(h,a);s||((d=(c=r.props).onSelect)===null||d===void 0||d.call(c,h,a),r.setState({inputValue:null}))},r.setPreSelection=function(i){var a=Dd(r.props.minDate),s=Dd(r.props.maxDate),l=!0;if(i){var c=ox(i);if(a&&s)l=J1(i,r.props.minDate,r.props.maxDate);else if(a){var d=ox(r.props.minDate);l=eh(i,d)||Qh(c,d)}else if(s){var h=vk(r.props.maxDate);l=fp(i,h)||Qh(c,h)}}l&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var a,s;if(!(r.props.selectsRange||r.props.selectsMultiple)){var l=r.props.selected?r.props.selected:r.getPreSelection(),c=r.props.selected?i:tw(l,{hour:Ic(i),minute:Dc(i)});r.setState({preSelection:c}),(s=(a=r.props).onChange)===null||s===void 0||s.call(a,c),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,a;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(a=(i=r.props).onInputClick)===null||a===void 0||a.call(i)},r.onInputKeyDown=function(i){var a,s,l,c,d,h;(s=(a=r.props).onKeyDown)===null||s===void 0||s.call(a,i);var g=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(g===Tt.ArrowDown||g===Tt.ArrowUp||g===Tt.Enter)&&((l=r.onInputClick)===null||l===void 0||l.call(r));return}if(r.state.open){if(g===Tt.ArrowDown||g===Tt.ArrowUp){i.preventDefault();var b=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=((c=r.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(b);m instanceof HTMLElement&&m.focus({preventScroll:!0});return}var x=Lr(r.state.preSelection);g===Tt.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===iw?(r.handleSelect(x,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(x)):r.setOpen(!1)):g===Tt.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):g===Tt.Tab&&r.setOpen(!1),r.inputOk()||(h=(d=r.props).onInputError)===null||h===void 0||h.call(d,{code:1,msg:rw})}},r.onPortalKeyDown=function(i){var a=i.key;a===Tt.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var a,s,l,c,d,h,g=r.props,b=g.minDate,m=g.maxDate,x=g.disabledKeyboardNavigation,y=g.showWeekPicker,A=g.shouldCloseOnSelect,w=g.locale,C=g.calendarStartDay,N=g.adjustDateOnChange,P=g.inline;if((s=(a=r.props).onKeyDown)===null||s===void 0||s.call(a,i),!x){var F=i.key,R=i.shiftKey,k=Lr(r.state.preSelection),M=function(X,H){var G=H;switch(X){case Tt.ArrowRight:G=y?Rx(H,1):_u(H,1);break;case Tt.ArrowLeft:G=y?ok(H):JV(H);break;case Tt.ArrowUp:G=ok(H);break;case Tt.ArrowDown:G=Rx(H,1);break;case Tt.PageUp:G=R?im(H,1):ep(H,1);break;case Tt.PageDown:G=R?Id(H,1):Nu(H,1);break;case Tt.Home:G=Kf(H,w,C);break;case Tt.End:G=$G(H);break}return G},q=function(X,H){for(var G=40,ee=X,le=!1,Y=0,te=M(X,H);!le;){if(Y>=G){te=H;break}b&&te<b&&(ee=Tt.ArrowRight,te=Ol(b,r.props)?M(ee,te):b),m&&te>m&&(ee=Tt.ArrowLeft,te=Ol(m,r.props)?M(ee,te):m),Ol(te,r.props)?((ee===Tt.PageUp||ee===Tt.Home)&&(ee=Tt.ArrowRight),(ee===Tt.PageDown||ee===Tt.End)&&(ee=Tt.ArrowLeft),te=M(ee,te)):le=!0,Y++}return te};if(F===Tt.Enter){i.preventDefault(),r.handleSelect(k,i),!A&&r.setPreSelection(k);return}else if(F===Tt.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(c=(l=r.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:rw});return}var Q=null;switch(F){case Tt.ArrowLeft:case Tt.ArrowRight:case Tt.ArrowUp:case Tt.ArrowDown:case Tt.PageUp:case Tt.PageDown:case Tt.Home:case Tt.End:Q=q(F,k);break}if(!Q){(h=(d=r.props).onInputError)===null||h===void 0||h.call(d,{code:1,msg:rw});return}if(i.preventDefault(),r.setState({lastPreSelectChange:iw}),N&&r.setSelected(Q),r.setPreSelection(Q),P){var T=eo(k),O=eo(Q),L=Rn(k),j=Rn(Q);T!==O||L!==j?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var a=i.key;a===Tt.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var a=r.props,s=a.selectsRange,l=a.onChange;s?l==null||l([null,null],i):l==null||l(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,a;return!r.props.inline&&!r.isCalendarOpen()?null:tt.createElement(AQ,tr({showMonthYearDropdown:void 0,ref:function(s){r.calendar=s}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:n.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:tQ(r.modifyHolidays()),outsideClickIgnoreClass:Rk,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(a=r.props.dropdownMode)!==null&&a!==void 0?a:n.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,a=i.dateFormat,s=a===void 0?n.defaultProps.dateFormat:a,l=i.locale,c=r.props.showTimeInput||r.props.showTimeSelect,d=c?"PPPPp":"PPPP",h;return r.props.selectsRange?h="Selected start date: ".concat(kl(r.props.startDate,{dateFormat:d,locale:l}),". ").concat(r.props.endDate?"End date: "+kl(r.props.endDate,{dateFormat:d,locale:l}):""):r.props.showTimeSelectOnly?h="Selected time: ".concat(kl(r.props.selected,{dateFormat:s,locale:l})):r.props.showYearPicker?h="Selected year: ".concat(kl(r.props.selected,{dateFormat:"yyyy",locale:l})):r.props.showMonthYearPicker?h="Selected month: ".concat(kl(r.props.selected,{dateFormat:"MMMM yyyy",locale:l})):r.props.showQuarterYearPicker?h="Selected quarter: ".concat(kl(r.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):h="Selected date: ".concat(kl(r.props.selected,{dateFormat:d,locale:l})),tt.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},h)},r.renderDateInput=function(){var i,a,s,l=hs(r.props.className,(i={},i[Rk]=r.state.open,i)),c=r.props.customInput||tt.createElement("input",{type:"text"}),d=r.props.customInputRef||"ref",h=r.props,g=h.dateFormat,b=g===void 0?n.defaultProps.dateFormat:g,m=h.locale,x=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?zG(r.props.startDate,r.props.endDate,{dateFormat:b,locale:m}):r.props.selectsMultiple?qG((s=r.props.selectedDates)!==null&&s!==void 0?s:[],{dateFormat:b,locale:m}):kl(r.props.selected,{dateFormat:b,locale:m});return K.cloneElement(c,(a={},a[d]=function(y){r.input=y},a.value=x,a.onBlur=r.handleBlur,a.onChange=r.handleChange,a.onClick=r.onInputClick,a.onFocus=r.handleFocus,a.onKeyDown=r.onInputKeyDown,a.id=r.props.id,a.name=r.props.name,a.form=r.props.form,a.autoFocus=r.props.autoFocus,a.placeholder=r.props.placeholderText,a.disabled=r.props.disabled,a.autoComplete=r.props.autoComplete,a.className=hs(c.props.className,l),a.title=r.props.title,a.readOnly=r.props.readOnly,a.required=r.props.required,a.tabIndex=r.props.tabIndex,a["aria-describedby"]=r.props.ariaDescribedBy,a["aria-invalid"]=r.props.ariaInvalid,a["aria-labelledby"]=r.props.ariaLabelledBy,a["aria-required"]=r.props.ariaRequired,a))},r.renderClearButton=function(){var i=r.props,a=i.isClearable,s=i.disabled,l=i.selected,c=i.startDate,d=i.endDate,h=i.clearButtonTitle,g=i.clearButtonClassName,b=g===void 0?"":g,m=i.ariaLabelClose,x=m===void 0?"Close":m,y=i.selectedDates;return a&&(l!=null||c!=null||d!=null||y!=null&&y.length)?tt.createElement("button",{type:"button",className:hs("react-datepicker__close-icon",b,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":x,onClick:r.onClearClick,title:h,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(n,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:nb,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.componentDidUpdate=function(t,r){var i,a,s,l;t.inline&&TQ(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Nk(this.props.highlightDates)}),!r.focused&&!Qh(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((a=(i=this.props).onCalendarOpen)===null||a===void 0||a.call(i)),r.open===!0&&this.state.open===!1&&((l=(s=this.props).onCalendarClose)===null||l===void 0||l.call(s)))},n.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,i=t.icon,a=t.calendarIconClassname,s=t.calendarIconClassName,l=t.toggleCalendarOnIconClick,c=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),tt.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&tt.createElement(CQ,tr({icon:i,className:hs(s,!s&&a,c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},n.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?tt.createElement(BO,{enableTabLoop:this.props.enableTabLoop},tt.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=tt.createElement(qO,tr({portalId:this.props.portalId},this.props),r)),tt.createElement("div",null,this.renderInputContainer(),r)}return tt.createElement(jQ,tr({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},n}(K.Component),IQ="input",iw="navigate";const DQ=e=>f.jsx(zt,{...e,sx:{width:"100%","& .MuiOutlinedInput-root":{borderRadius:ur.xl,backgroundColor:ft.palette.background.paper,"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:ft.palette.primary.main},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:ft.palette.primary.main,borderWidth:2}},"& .MuiInputBase-input":{color:ft.palette.text.primary,fontSize:"1rem",padding:"12px 14px"},"& .MuiInputLabel-root":{color:ft.palette.text.secondary,"&.Mui-focused":{color:ft.palette.primary.main}}}}),UO=tt.forwardRef((e,n)=>f.jsx(DQ,{...e,inputRef:n,fullWidth:!0}));UO.displayName="CustomInput";const LQ=({value:e,onChange:n})=>{const t=r=>r?r.toLocaleString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return f.jsxs(nn,{elevation:2,sx:{p:3,mb:3,backgroundColor:ft.palette.background.paper,borderRadius:ur.xl,border:`1px solid ${ft.palette.divider}`},children:[f.jsxs(be,{sx:{display:"flex",alignItems:"center",mb:2},children:[f.jsx(Q0,{sx:{mr:1,color:ft.palette.primary.main}}),f.jsx(ce,{variant:"h6",sx:{fontWeight:600,color:ft.palette.text.primary},children:"Schedule Publish"})]}),f.jsx(ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Choose when you want this material to be automatically published."}),f.jsx(OQ,{selected:e,onChange:r=>n(r),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"MMM d, yyyy h:mm aa",minDate:new Date,customInput:f.jsx(UO,{label:"Select Date & Time"}),placeholderText:"Click to select date and time"}),e&&f.jsx(be,{sx:{mt:2},children:f.jsx(_n,{icon:f.jsx(Q0,{}),label:`Scheduled for ${t(e)}`,color:"primary",variant:"outlined",sx:{backgroundColor:ft.palette.primary.light,color:ft.palette.primary.main,borderColor:ft.palette.primary.main}})})]})},RQ=K.lazy(()=>Ri(()=>import("./MaterialImportWrapper-BvBx4GUv.js"),__vite__mapDeps([3,4,1,5]))),$O=({materialData:e})=>{var nt;const n=pi(),{userDetails:t}=Ci(),r=Un(),{uploadedFile:i,uploadOriginalFile:a,originalFileUrl:s,originalFileUploadProgress:l}=Od(),[c]=Yg(),d=c.get("course"),h=c.get("mode")||"manual",[g,b]=K.useState((e==null?void 0:e.course)||d||""),[m,x]=K.useState((e==null?void 0:e.id)||null),[y,A]=K.useState((e==null?void 0:e.title)||""),[w,C]=K.useState((e==null?void 0:e.header)||{title:"Header",content:""}),[N,P]=K.useState((e==null?void 0:e.footer)||{title:"Footer",content:""}),[F,R]=K.useState((e==null?void 0:e.sections)||[{id:Mi(),title:"Section 1",content:"",subsections:[],images:[],links:[]}]),[k,M]=K.useState({sectionIndex:0}),[q,Q]=K.useState(!1),[T,O]=K.useState(""),[L,j]=K.useState("success"),[X,H]=K.useState(!1),[G,ee]=K.useState(((nt=e==null?void 0:e.scheduledTimestamp)==null?void 0:nt.toDate())||null),[le,Y]=K.useState(!1),[te,U]=K.useState(h),[B,re]=K.useState(!1),[Z,ne]=K.useState(null),[ve,ye]=K.useState(!1),[Ce,Oe]=K.useState(null),[Ie,Ue]=K.useState(!1);aO(F,k.sectionIndex||0,F.length>1),K.useEffect(()=>{const De=xe=>{xe.key==="ArrowLeft"||xe.key};return window.addEventListener("keydown",De),()=>window.removeEventListener("keydown",De)},[k,F]);const He=async(De,xe=!1,ke)=>{De.preventDefault();try{const Ne=F.some(ut=>{var Ze,Dt;return((Ze=ut.images)==null?void 0:Ze.some(Et=>Et.url.startsWith("blob:")))||((Dt=ut.subsections)==null?void 0:Dt.some(Et=>{var $t;return($t=Et.images)==null?void 0:$t.some(It=>It.url.startsWith("blob:"))}))});if(B&&Ne){console.log(" Starting AI material creation with image upload...");const ut=await Ra(bn(r,"materials"),{course:g,title:y,header:w,footer:N,sections:[],author:(t==null?void 0:t.uid)||"",timestamp:Wf(),published:!1,scheduledTimestamp:ke?Ka.fromDate(ke):null});console.log(" Material created with ID:",ut.id),x(ut.id),console.log(" Starting image upload process...");const Ze=await tS(g,(t==null?void 0:t.uid)||"",ut.id,($t,It)=>{console.log(` Image upload progress: ${$t}/${It}`),ne({completed:$t,total:It})});console.log(" Image upload complete, updating material..."),await Dr(ut,{sections:Ze,published:xe,scheduledTimestamp:ke?Ka.fromDate(ke):null}),ne(null),re(!1);const{resetImport:Dt}=Od.getState();Dt(),O(xe?"Material published successfully!":ke?"Material scheduled successfully!":"Material saved successfully!"),j("success"),Q(!0),(xe||ke)&&n(`/supplemental-materials?course=${g}`)}else{const ut={course:g,title:y,header:w,footer:N,sections:F,author:(t==null?void 0:t.uid)||"",timestamp:Wf(),published:xe,scheduledTimestamp:ke?Ka.fromDate(ke):null,...s&&{originalFile:{url:s}}};if(m)await Dr(hn(r,"materials",m),ut),O(xe?"Material updated and published!":ke?"Material updated and scheduled!":"Material updated successfully!");else{const Ze=await Ra(bn(r,"materials"),ut);x(Ze.id),O(xe?"Material created and published!":ke?"Material created and scheduled!":"Material created successfully!")}j("success"),Q(!0),(xe||ke)&&n(`/supplemental-materials?course=${g}`)}}catch(Ne){console.error("Error saving material:",Ne),O("Error saving material. Please try again."),j("error"),Q(!0)}},V=(De,xe,ke)=>{M({sectionIndex:typeof De=="number"?De:void 0,subsectionIndex:xe,subSubsectionIndex:ke,type:typeof De=="string"?De:void 0})},Se=()=>{var De,xe,ke;if(k.type==="header")return w.content;if(k.type==="footer")return N.content;if(k.sectionIndex!==void 0){const Ne=F[k.sectionIndex];return k.subSubsectionIndex!==void 0?((xe=(De=Ne==null?void 0:Ne.subsections[k.subsectionIndex])==null?void 0:De.subSubsections[k.subSubsectionIndex])==null?void 0:xe.content)||"":k.subsectionIndex!==void 0?((ke=Ne==null?void 0:Ne.subsections[k.subsectionIndex])==null?void 0:ke.content)||"":(Ne==null?void 0:Ne.content)||""}return""},se=()=>{var De,xe,ke;if(k.type==="header")return w.title;if(k.type==="footer")return N.title;if(k.sectionIndex!==void 0){const Ne=F[k.sectionIndex];return k.subSubsectionIndex!==void 0?((xe=(De=Ne==null?void 0:Ne.subsections[k.subsectionIndex])==null?void 0:De.subSubsections[k.subSubsectionIndex])==null?void 0:xe.title)||"":k.subsectionIndex!==void 0?((ke=Ne==null?void 0:Ne.subsections[k.subsectionIndex])==null?void 0:ke.title)||"":(Ne==null?void 0:Ne.title)||""}return""},he=De=>{k.type==="header"?C(xe=>({...xe,content:De})):k.type==="footer"?P(xe=>({...xe,content:De})):k.sectionIndex!==void 0&&R(xe=>{const ke=[...xe],Ne=ke[k.sectionIndex];return k.subSubsectionIndex!==void 0?Ne.subsections[k.subsectionIndex].subSubsections[k.subSubsectionIndex].content=De:k.subsectionIndex!==void 0?Ne.subsections[k.subsectionIndex].content=De:Ne.content=De,ke})},de=De=>{le&&G?He(De,!1,G):Y(!0)},we=De=>{k.type==="header"?C(xe=>({...xe,title:De})):k.type==="footer"?P(xe=>({...xe,title:De})):k.sectionIndex!==void 0&&R(xe=>{const ke=[...xe],Ne=ke[k.sectionIndex];return k.subSubsectionIndex!==void 0?Ne.subsections[k.subsectionIndex].subSubsections[k.subSubsectionIndex].title=De:k.subsectionIndex!==void 0?Ne.subsections[k.subsectionIndex].title=De:Ne.title=De,ke})},Le=()=>{var De,xe,ke;if(k.type==="header"||k.type==="footer")return[];if(k.sectionIndex!==void 0){const Ne=F[k.sectionIndex];return k.subSubsectionIndex!==void 0?((xe=(De=Ne==null?void 0:Ne.subsections[k.subsectionIndex])==null?void 0:De.subSubsections[k.subSubsectionIndex])==null?void 0:xe.images)||[]:k.subsectionIndex!==void 0?((ke=Ne==null?void 0:Ne.subsections[k.subsectionIndex])==null?void 0:ke.images)||[]:(Ne==null?void 0:Ne.images)||[]}return[]},Fe=()=>{var De,xe,ke;if(k.type==="header"||k.type==="footer")return[];if(k.sectionIndex!==void 0){const Ne=F[k.sectionIndex];return k.subSubsectionIndex!==void 0?((xe=(De=Ne==null?void 0:Ne.subsections[k.subsectionIndex])==null?void 0:De.subSubsections[k.subSubsectionIndex])==null?void 0:xe.links)||[]:k.subsectionIndex!==void 0?((ke=Ne==null?void 0:Ne.subsections[k.subsectionIndex])==null?void 0:ke.links)||[]:(Ne==null?void 0:Ne.links)||[]}return[]},_e=De=>{k.type==="header"||k.type==="footer"||k.sectionIndex!==void 0&&R(xe=>{const ke=[...xe],Ne=ke[k.sectionIndex];return k.subSubsectionIndex!==void 0?Ne.subsections[k.subsectionIndex].subSubsections[k.subSubsectionIndex].images=De:k.subsectionIndex!==void 0?Ne.subsections[k.subsectionIndex].images=De:Ne.images=De,ke})},Qe=De=>{k.type==="header"||k.type==="footer"||k.sectionIndex!==void 0&&R(xe=>{const ke=[...xe],Ne=ke[k.sectionIndex];return k.subSubsectionIndex!==void 0?Ne.subsections[k.subsectionIndex].subSubsections[k.subSubsectionIndex].links=De:k.subsectionIndex!==void 0?Ne.subsections[k.subsectionIndex].links=De:Ne.links=De,ke})},st=()=>k.type==="header"?"header":k.type==="footer"?"footer":k.sectionIndex!==void 0?k.subSubsectionIndex!==void 0?`section-${k.sectionIndex}-subsection-${k.subsectionIndex}-subsubsection-${k.subSubsectionIndex}`:k.subsectionIndex!==void 0?`section-${k.sectionIndex}-subsection-${k.subsectionIndex}`:`section-${k.sectionIndex}`:"unknown";return f.jsxs(be,{sx:{display:"flex",flexGrow:1,flexDirection:"column",minHeight:"100vh"},children:[f.jsxs(nn,{elevation:1,sx:{p:3,mb:2,backgroundColor:ft.palette.background.paper,borderRadius:0},children:[f.jsxs(be,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",alignItems:{xs:"stretch",md:"center"},mb:3,gap:2},children:[f.jsx(ZT,{courseId:(e==null?void 0:e.course)||g}),f.jsxs(be,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,alignItems:"center",width:{xs:"100%",md:"auto"}},children:[f.jsxs(_6,{value:te,exclusive:!0,onChange:(De,xe)=>xe&&U(xe),size:"small",sx:{backgroundColor:ft.palette.background.paper,borderRadius:ur.xl,width:{xs:"100%",sm:"auto"},"& .MuiToggleButton-root":{borderRadius:ur.xl,textTransform:"none",fontWeight:600,flex:{xs:1,sm:"none"},"&.Mui-selected":{backgroundColor:ft.palette.primary.main,color:ft.palette.primary.contrastText}}},children:[f.jsxs(K0,{value:"manual",children:[f.jsx(Cu,{sx:{mr:1}}),"Manual"]}),f.jsxs(K0,{value:"ai",children:[f.jsx(fR,{sx:{mr:1}}),"AI Import"]})]}),f.jsx(be,{sx:{width:{xs:"100%",sm:"200px",md:"250px"}},children:f.jsx(KH,{value:g,onChange:b,disabled:!!m})})]})]}),f.jsx(zt,{fullWidth:!0,label:"Material Title",value:y,onChange:De=>A(De.target.value),variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:ur.xl}}})]}),f.jsxs(be,{sx:{display:"flex",flexGrow:1,minHeight:0},children:[f.jsx(cv,{children:f.jsx(XT,{sections:F,selected:k,onAddSection:()=>{const De={id:Mi(),title:`Section ${F.length+1}`,content:"",subsections:[],images:[],links:[]};R(xe=>[...xe,De]),M({sectionIndex:F.length})},onAddSubsection:De=>{R(xe=>{const ke=[...xe],Ne=ke[De].subsections,ut={id:Mi(),title:`Subsection ${Ne.length+1}`,content:"",subSubsections:[],images:[],links:[]};return ke[De].subsections=[...Ne,ut],ke})},onAddSubSubsection:(De,xe)=>{R(ke=>{const Ne=[...ke],ut=Ne[De].subsections[xe].subSubsections,Ze={id:Mi(),title:`Sub-subsection ${ut.length+1}`,content:"",images:[],links:[]};return Ne[De].subsections[xe].subSubsections=[...ut,Ze],Ne})},onSelectSection:V,onUpdateSectionTitle:(De,xe)=>{R(ke=>{const Ne=[...ke];return Ne[De].title=xe,Ne})},onUpdateSubsectionTitle:(De,xe,ke)=>{R(Ne=>{const ut=[...Ne];return ut[De].subsections[xe].title=ke,ut})},onUpdateSubSubsectionTitle:(De,xe,ke,Ne)=>{R(ut=>{const Ze=[...ut];return Ze[De].subsections[xe].subSubsections[ke].title=Ne,Ze})},onDeleteSection:De=>{R(xe=>xe.filter((ke,Ne)=>Ne!==De)),M({sectionIndex:0})},onDeleteSubsection:(De,xe)=>{R(ke=>{const Ne=[...ke];return Ne[De].subsections=Ne[De].subsections.filter((ut,Ze)=>Ze!==xe),Ne})},onDeleteSubSubsection:(De,xe,ke)=>{R(Ne=>{const ut=[...Ne];return ut[De].subsections[xe].subSubsections=ut[De].subsections[xe].subSubsections.filter((Ze,Dt)=>Dt!==ke),ut})},isViewMode:!1})}),f.jsx(be,{sx:{flexGrow:1,p:4,overflow:"auto"},children:te==="ai"?f.jsx(K.Suspense,{fallback:f.jsx(Rr,{}),children:f.jsx(RQ,{courseId:g,authorId:(t==null?void 0:t.uid)||"",imageUploadProgress:Z,isSaving:ve,onMaterialReady:async De=>{console.log(" AI Material ready callback triggered:",De);try{ye(!0),ne({completed:0,total:1});const xe=Mi(),ke=await tS(g,(t==null?void 0:t.uid)||"",xe,(Ze,Dt)=>{console.log(` Image upload progress: ${Ze}/${Dt}`),ne({completed:Ze,total:Dt})});console.log(" Material with images converted:",ke);const Ne={...ke,sections:Array.isArray(ke.sections)?ke.sections:[]},ut=await Ra(bn(r,"materials"),{...Ne,timestamp:Wf(),scheduledTimestamp:null});console.log(" Material saved to Firestore with ID:",ut.id),await Dr(ut,{id:ut.id}),console.log(" Material updated with correct ID:",ut.id),O("AI-imported material saved successfully!"),j("success"),Q(!0),re(!1),Od.getState().resetImport(),U("manual"),ye(!1),ne(null),n(`/edit-material/${ut.id}`)}catch(xe){console.error(" Failed to save AI material:",xe),O("Failed to save AI-imported material. Please try again."),j("error"),Q(!0),ye(!1),ne(null)}},onCancel:()=>U("manual"),onError:(De,xe)=>{console.error("Material Import Error:",De,xe),O(`Import error: ${De.message}`),j("error"),Q(!0)}})}):f.jsxs(be,{children:[f.jsx(zt,{fullWidth:!0,label:"Section Title",value:se(),onChange:De=>we(De.target.value),variant:"outlined",sx:{mb:3}}),f.jsx(nn,{elevation:0,sx:{p:3,mb:3,backgroundColor:ft.palette.background.paper,borderRadius:ur.xl,border:`1px solid ${ft.palette.divider}`},children:f.jsx(GH,{content:Se(),onChange:he})}),k.sectionIndex!==void 0&&f.jsxs(be,{sx:{mb:3},children:[f.jsx(nn,{elevation:0,sx:{p:3,mb:2,backgroundColor:ft.palette.background.paper,borderRadius:ur.xl,border:`1px solid ${ft.palette.divider}`},children:f.jsx(nF,{sectionId:st(),images:Le(),onImagesChange:_e})}),f.jsx(nn,{elevation:0,sx:{p:3,backgroundColor:ft.palette.background.paper,borderRadius:ur.xl,border:`1px solid ${ft.palette.divider}`},children:f.jsx(rF,{links:Fe(),onLinksChange:Qe})})]}),le&&f.jsx(be,{sx:{mb:3},children:f.jsx(LQ,{value:G,onChange:ee})}),Z&&f.jsx(be,{sx:{mb:3},children:f.jsxs(nn,{elevation:1,sx:{p:2,backgroundColor:ft.palette.background.paper,borderRadius:ur.xl,border:`1px solid ${ft.palette.divider}`},children:[f.jsxs(ce,{variant:"body2",sx:{mb:1,color:ft.palette.text.secondary},children:["Uploading images... (",Z.completed," of ",Z.total,")"]}),f.jsx(tl,{variant:"determinate",value:Z.completed/Z.total*100,sx:{borderRadius:ur.xl,height:8,backgroundColor:ft.palette.grey[200],"& .MuiLinearProgress-bar":{borderRadius:ur.xl,backgroundColor:ft.palette.primary.main}}})]})}),f.jsxs(be,{sx:{display:"flex",gap:2,justifyContent:"flex-end",flexWrap:"wrap"},children:[f.jsx(lt,{variant:"outlined",onClick:De=>He(De,!1),startIcon:f.jsx(O0,{}),sx:{textTransform:"none"},children:"Save Draft"}),f.jsx(lt,{variant:"contained",onClick:De=>He(De,!0),startIcon:f.jsx(hR,{}),sx:{textTransform:"none"},children:"Publish"}),f.jsx(lt,{variant:"outlined",onClick:de,startIcon:f.jsx(Q0,{}),sx:{textTransform:"none",borderColor:ft.palette.primary.main,color:ft.palette.primary.main,"&:hover":{backgroundColor:ft.palette.primary.main,color:ft.palette.primary.contrastText}},children:"Schedule Publish"})]})]})})]}),f.jsx(no,{open:q,autoHideDuration:6e3,onClose:()=>Q(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:f.jsx(nr,{onClose:()=>Q(!1),severity:L,sx:{width:"100%"},children:T})})]})},MQ=()=>{const{id:e}=I6(),n=Un(),{userDetails:t}=Ci(),[r,i]=K.useState(null),a=K.useMemo(()=>t!=null&&t.classes?Object.entries(t.classes).filter(([l,c])=>c.isCourseAdmin).map(([l])=>l):[],[t==null?void 0:t.classes]);K.useEffect(()=>{e&&(async()=>{try{const c=hn(n,"materials",e),d=await ms(c);if(d.exists()){const h={id:d.id,...d.data()};console.log("Material data from Firestore:",h),console.log("Sections type:",typeof h.sections),console.log("Sections value:",h.sections),Array.isArray(h.sections)||(console.warn("Sections is not an array, initializing as empty array. Original value:",h.sections),h.sections=[]),h.sections=h.sections.map(g=>({id:g.id||Mi(),title:g.title||"Untitled Section",content:g.content||"",images:Array.isArray(g.images)?g.images.map(m=>({...m,title:m.title||""})):[],links:Array.isArray(g.links)?g.links:[],subsections:Array.isArray(g.subsections)?g.subsections.map(m=>({id:m.id||Mi(),title:m.title||"Untitled Subsection",content:m.content||"",images:Array.isArray(m.images)?m.images.map(x=>({...x,title:x.title||""})):[],links:Array.isArray(m.links)?m.links:[],subSubsections:Array.isArray(m.subSubsections)?m.subSubsections.map(x=>({id:x.id||Mi(),title:x.title||"Untitled Sub-subsection",content:x.content||"",images:Array.isArray(x.images)?x.images.map(y=>({...y,title:y.title||""})):[],links:Array.isArray(x.links)?x.links:[]})):[]})):[]})),h.course=a.includes(h.course)?h.course:a[0]||"",i(h)}}catch(c){console.error("Error fetching material:",c)}})()},[e,n,t,a]);const s=async l=>{try{if(e){const c=hn(n,"materials",e);await Dr(c,{...l})}}catch(c){console.error("Error updating material:",c)}};return r?f.jsx($O,{materialData:r,onSubmit:s}):f.jsx(be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:f.jsx(Rr,{})})},Mk=({children:e,...n})=>f.jsx(be,{...n,sx:{marginBottom:4,textAlign:"center",position:"relative"},children:e}),PQ=({src:e,alt:n,...t})=>f.jsx("img",{src:e,alt:n,...t,style:{maxWidth:"100%",maxHeight:"500px",marginBottom:8,borderRadius:8,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease-in-out",...t.style},onMouseEnter:r=>{r.currentTarget.style.transform="scale(1.02)",r.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.15)"},onMouseLeave:r=>{r.currentTarget.style.transform="scale(1)",r.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"}}),FQ=e=>f.jsx(pR,{...e,sx:{borderRadius:1,marginBottom:1}}),zQ=({src:e,alt:n,title:t})=>{const[r,i]=K.useState(!1),[a,s]=K.useState(!1),[l]=K.useState(0);return K.useEffect(()=>{i(!1),s(!1);const c=new Image;return c.src=e,c.onload=()=>{console.log(` SmartImage loaded: ${e.substring(0,50)}...`),i(!0)},c.onerror=d=>{console.error(` SmartImage failed to load: ${e}`,d),console.error("Image details:",{src:e,naturalWidth:c.naturalWidth,naturalHeight:c.naturalHeight,complete:c.complete}),console.error("Image load failed. URL accessible via curl but blocked in browser."),console.error("This is likely a Firebase Storage CORS configuration issue."),console.error(`Fix: Configure CORS to allow ${window.location.origin}`),s(!0)},()=>{c.onload=null,c.onerror=null}},[e,l]),a?f.jsxs(Mk,{children:[f.jsxs(be,{sx:{width:"100%",maxWidth:400,height:200,bgcolor:"#ffebee",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:1,border:"1px dashed #f44336",p:2},children:[f.jsx(ce,{variant:"body2",color:"error",gutterBottom:!0,children:"Image failed to load"}),f.jsx(ce,{variant:"caption",color:"text.secondary",sx:{textAlign:"center",wordBreak:"break-all"},children:t}),f.jsxs(ce,{variant:"caption",color:"text.secondary",sx:{mt:1,fontSize:"0.7rem"},children:["URL: ",e.substring(0,60),"..."]})]}),f.jsx(ce,{variant:"body2",sx:{fontStyle:"italic",mt:1},children:t})]}):f.jsxs(Mk,{children:[!r&&f.jsx(FQ,{variant:"rectangular",width:"100%",height:300,sx:{maxWidth:400}}),f.jsx(Gw,{in:r,timeout:500,children:f.jsx(be,{sx:{display:r?"block":"none"},children:f.jsx(PQ,{src:e,alt:n,loading:"lazy"})})}),r&&f.jsx(Gw,{in:r,timeout:700,children:f.jsx(ce,{variant:"body2",sx:{fontStyle:"italic",color:"text.secondary"},children:t})})]})},aw=({images:e})=>f.jsx(be,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2},children:e.map((n,t)=>f.jsx(zQ,{src:n.url,alt:`Image ${t+1}`,title:n.title,index:t},`${n.url}-${t}`))}),qQ=e=>!e.startsWith("http://")&&!e.startsWith("https://")?`https://${e}`:e,BQ=({links:e})=>e.length===0?null:f.jsxs(be,{sx:{mt:2,width:"50%"},children:[f.jsx(ce,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Links"}),f.jsxs(be,{sx:{display:"flex",mb:1,borderBottom:"1px solid gray"},children:[f.jsx(ce,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"Title"}),f.jsx(ce,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"URL"}),f.jsx(ce,{sx:{flexBasis:"40%",fontWeight:"bold"},children:"Description"})]}),e.map((n,t)=>f.jsx(be,{children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",mb:1,flexWrap:"wrap",borderBottom:"1px solid lightgray"},children:[f.jsx(ce,{sx:{flexBasis:"30%",fontStyle:"italic",wordWrap:"break-word",paddingRight:"8px"},children:n.title}),f.jsx(fg,{sx:{flexBasis:"30%",wordWrap:"break-word",paddingRight:"8px"},href:qQ(n.url),target:"_blank",rel:"noopener",children:n.url}),f.jsx(ce,{sx:{flexBasis:"40%",wordWrap:"break-word"},children:n.description})]})},t))]});var Ms=Uint8Array,Jo=Uint16Array,hA=Int32Array,Tv=new Ms([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ov=new Ms([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),TS=new Ms([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),HO=function(e,n){for(var t=new Jo(31),r=0;r<31;++r)t[r]=n+=1<<e[r-1];for(var i=new hA(t[30]),r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)i[a]=a-t[r]<<5|r;return{b:t,r:i}},WO=HO(Tv,2),VO=WO.b,OS=WO.r;VO[28]=258,OS[258]=28;var YO=HO(Ov,0),UQ=YO.b,Pk=YO.r,IS=new Jo(32768);for(var di=0;di<32768;++di){var Tf=(di&43690)>>1|(di&21845)<<1;Tf=(Tf&52428)>>2|(Tf&13107)<<2,Tf=(Tf&61680)>>4|(Tf&3855)<<4,IS[di]=((Tf&65280)>>8|(Tf&255)<<8)>>1}var Rc=function(e,n,t){for(var r=e.length,i=0,a=new Jo(n);i<r;++i)e[i]&&++a[e[i]-1];var s=new Jo(n);for(i=1;i<n;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(t){l=new Jo(1<<n);var c=15-n;for(i=0;i<r;++i)if(e[i])for(var d=i<<4|e[i],h=n-e[i],g=s[e[i]-1]++<<h,b=g|(1<<h)-1;g<=b;++g)l[IS[g]>>c]=d}else for(l=new Jo(r),i=0;i<r;++i)e[i]&&(l[i]=IS[s[e[i]-1]++]>>15-e[i]);return l},nh=new Ms(288);for(var di=0;di<144;++di)nh[di]=8;for(var di=144;di<256;++di)nh[di]=9;for(var di=256;di<280;++di)nh[di]=7;for(var di=280;di<288;++di)nh[di]=8;var Ng=new Ms(32);for(var di=0;di<32;++di)Ng[di]=5;var $Q=Rc(nh,9,0),HQ=Rc(nh,9,1),WQ=Rc(Ng,5,0),VQ=Rc(Ng,5,1),sw=function(e){for(var n=e[0],t=1;t<e.length;++t)e[t]>n&&(n=e[t]);return n},fu=function(e,n,t){var r=n/8|0;return(e[r]|e[r+1]<<8)>>(n&7)&t},ow=function(e,n){var t=n/8|0;return(e[t]|e[t+1]<<8|e[t+2]<<16)>>(n&7)},pA=function(e){return(e+7)/8|0},GO=function(e,n,t){return(t==null||t>e.length)&&(t=e.length),new Ms(e.subarray(n,t))},YQ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],gu=function(e,n,t){var r=new Error(n||YQ[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,gu),!t)throw r;return r},GQ=function(e,n,t,r){var i=e.length,a=0;if(!i||n.f&&!n.l)return t||new Ms(0);var s=!t,l=s||n.i!=2,c=n.i;s&&(t=new Ms(i*3));var d=function(Ie){var Ue=t.length;if(Ie>Ue){var He=new Ms(Math.max(Ue*2,Ie));He.set(t),t=He}},h=n.f||0,g=n.p||0,b=n.b||0,m=n.l,x=n.d,y=n.m,A=n.n,w=i*8;do{if(!m){h=fu(e,g,1);var C=fu(e,g+1,3);if(g+=3,C)if(C==1)m=HQ,x=VQ,y=9,A=5;else if(C==2){var R=fu(e,g,31)+257,k=fu(e,g+10,15)+4,M=R+fu(e,g+5,31)+1;g+=14;for(var q=new Ms(M),Q=new Ms(19),T=0;T<k;++T)Q[TS[T]]=fu(e,g+T*3,7);g+=k*3;for(var O=sw(Q),L=(1<<O)-1,j=Rc(Q,O,1),T=0;T<M;){var X=j[fu(e,g,L)];g+=X&15;var N=X>>4;if(N<16)q[T++]=N;else{var H=0,G=0;for(N==16?(G=3+fu(e,g,3),g+=2,H=q[T-1]):N==17?(G=3+fu(e,g,7),g+=3):N==18&&(G=11+fu(e,g,127),g+=7);G--;)q[T++]=H}}var ee=q.subarray(0,R),le=q.subarray(R);y=sw(ee),A=sw(le),m=Rc(ee,y,1),x=Rc(le,A,1)}else gu(1);else{var N=pA(g)+4,P=e[N-4]|e[N-3]<<8,F=N+P;if(F>i){c&&gu(0);break}l&&d(b+P),t.set(e.subarray(N,F),b),n.b=b+=P,n.p=g=F*8,n.f=h;continue}if(g>w){c&&gu(0);break}}l&&d(b+131072);for(var Y=(1<<y)-1,te=(1<<A)-1,U=g;;U=g){var H=m[ow(e,g)&Y],B=H>>4;if(g+=H&15,g>w){c&&gu(0);break}if(H||gu(2),B<256)t[b++]=B;else if(B==256){U=g,m=null;break}else{var re=B-254;if(B>264){var T=B-257,Z=Tv[T];re=fu(e,g,(1<<Z)-1)+VO[T],g+=Z}var ne=x[ow(e,g)&te],ve=ne>>4;ne||gu(3),g+=ne&15;var le=UQ[ve];if(ve>3){var Z=Ov[ve];le+=ow(e,g)&(1<<Z)-1,g+=Z}if(g>w){c&&gu(0);break}l&&d(b+131072);var ye=b+re;if(b<le){var Ce=a-le,Oe=Math.min(le,ye);for(Ce+b<0&&gu(3);b<Oe;++b)t[b]=r[Ce+b]}for(;b<ye;++b)t[b]=t[b-le]}}n.l=m,n.p=U,n.b=b,n.f=h,m&&(h=1,n.m=y,n.d=x,n.n=A)}while(!h);return b!=t.length&&s?GO(t,0,b):t.subarray(0,b)},Ad=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>8},S1=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>8,e[r+2]|=t>>16},lw=function(e,n){for(var t=[],r=0;r<e.length;++r)e[r]&&t.push({s:r,f:e[r]});var i=t.length,a=t.slice();if(!i)return{t:KO,l:0};if(i==1){var s=new Ms(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(F,R){return F.f-R.f}),t.push({s:-1,f:25001});var l=t[0],c=t[1],d=0,h=1,g=2;for(t[0]={s:-1,f:l.f+c.f,l,r:c};h!=i-1;)l=t[t[d].f<t[g].f?d++:g++],c=t[d!=h&&t[d].f<t[g].f?d++:g++],t[h++]={s:-1,f:l.f+c.f,l,r:c};for(var b=a[0].s,r=1;r<i;++r)a[r].s>b&&(b=a[r].s);var m=new Jo(b+1),x=DS(t[h-1],m,0);if(x>n){var r=0,y=0,A=x-n,w=1<<A;for(a.sort(function(R,k){return m[k.s]-m[R.s]||R.f-k.f});r<i;++r){var C=a[r].s;if(m[C]>n)y+=w-(1<<x-m[C]),m[C]=n;else break}for(y>>=A;y>0;){var N=a[r].s;m[N]<n?y-=1<<n-m[N]++-1:++r}for(;r>=0&&y;--r){var P=a[r].s;m[P]==n&&(--m[P],++y)}x=n}return{t:new Ms(m),l:x}},DS=function(e,n,t){return e.s==-1?Math.max(DS(e.l,n,t+1),DS(e.r,n,t+1)):n[e.s]=t},Fk=function(e){for(var n=e.length;n&&!e[--n];);for(var t=new Jo(++n),r=0,i=e[0],a=1,s=function(c){t[r++]=c},l=1;l<=n;++l)if(e[l]==i&&l!=n)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[l]}return{c:t.subarray(0,r),n}},A1=function(e,n){for(var t=0,r=0;r<n.length;++r)t+=e[r]*n[r];return t},QO=function(e,n,t){var r=t.length,i=pA(n+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=t[a];return(i+4+r)*8},zk=function(e,n,t,r,i,a,s,l,c,d,h){Ad(n,h++,t),++i[256];for(var g=lw(i,15),b=g.t,m=g.l,x=lw(a,15),y=x.t,A=x.l,w=Fk(b),C=w.c,N=w.n,P=Fk(y),F=P.c,R=P.n,k=new Jo(19),M=0;M<C.length;++M)++k[C[M]&31];for(var M=0;M<F.length;++M)++k[F[M]&31];for(var q=lw(k,7),Q=q.t,T=q.l,O=19;O>4&&!Q[TS[O-1]];--O);var L=d+5<<3,j=A1(i,nh)+A1(a,Ng)+s,X=A1(i,b)+A1(a,y)+s+14+3*O+A1(k,Q)+2*k[16]+3*k[17]+7*k[18];if(c>=0&&L<=j&&L<=X)return QO(n,h,e.subarray(c,c+d));var H,G,ee,le;if(Ad(n,h,1+(X<j)),h+=2,X<j){H=Rc(b,m,0),G=b,ee=Rc(y,A,0),le=y;var Y=Rc(Q,T,0);Ad(n,h,N-257),Ad(n,h+5,R-1),Ad(n,h+10,O-4),h+=14;for(var M=0;M<O;++M)Ad(n,h+3*M,Q[TS[M]]);h+=3*O;for(var te=[C,F],U=0;U<2;++U)for(var B=te[U],M=0;M<B.length;++M){var re=B[M]&31;Ad(n,h,Y[re]),h+=Q[re],re>15&&(Ad(n,h,B[M]>>5&127),h+=B[M]>>12)}}else H=$Q,G=nh,ee=WQ,le=Ng;for(var M=0;M<l;++M){var Z=r[M];if(Z>255){var re=Z>>18&31;S1(n,h,H[re+257]),h+=G[re+257],re>7&&(Ad(n,h,Z>>23&31),h+=Tv[re]);var ne=Z&31;S1(n,h,ee[ne]),h+=le[ne],ne>3&&(S1(n,h,Z>>5&8191),h+=Ov[ne])}else S1(n,h,H[Z]),h+=G[Z]}return S1(n,h,H[256]),h+G[256]},QQ=new hA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),KO=new Ms(0),KQ=function(e,n,t,r,i,a){var s=a.z||e.length,l=new Ms(r+s+5*(1+Math.ceil(s/7e3))+i),c=l.subarray(r,l.length-i),d=a.l,h=(a.r||0)&7;if(n){h&&(c[0]=a.r>>3);for(var g=QQ[n-1],b=g>>13,m=g&8191,x=(1<<t)-1,y=a.p||new Jo(32768),A=a.h||new Jo(x+1),w=Math.ceil(t/3),C=2*w,N=function(V){return(e[V]^e[V+1]<<w^e[V+2]<<C)&x},P=new hA(25e3),F=new Jo(288),R=new Jo(32),k=0,M=0,q=a.i||0,Q=0,T=a.w||0,O=0;q+2<s;++q){var L=N(q),j=q&32767,X=A[L];if(y[j]=X,A[L]=j,T<=q){var H=s-q;if((k>7e3||Q>24576)&&(H>423||!d)){h=zk(e,c,0,P,F,R,M,Q,O,q-O,h),Q=k=M=0,O=q;for(var G=0;G<286;++G)F[G]=0;for(var G=0;G<30;++G)R[G]=0}var ee=2,le=0,Y=m,te=j-X&32767;if(H>2&&L==N(q-te))for(var U=Math.min(b,H)-1,B=Math.min(32767,q),re=Math.min(258,H);te<=B&&--Y&&j!=X;){if(e[q+ee]==e[q+ee-te]){for(var Z=0;Z<re&&e[q+Z]==e[q+Z-te];++Z);if(Z>ee){if(ee=Z,le=te,Z>U)break;for(var ne=Math.min(te,Z-2),ve=0,G=0;G<ne;++G){var ye=q-te+G&32767,Ce=y[ye],Oe=ye-Ce&32767;Oe>ve&&(ve=Oe,X=ye)}}}j=X,X=y[j],te+=j-X&32767}if(le){P[Q++]=268435456|OS[ee]<<18|Pk[le];var Ie=OS[ee]&31,Ue=Pk[le]&31;M+=Tv[Ie]+Ov[Ue],++F[257+Ie],++R[Ue],T=q+ee,++k}else P[Q++]=e[q],++F[e[q]]}}for(q=Math.max(q,T);q<s;++q)P[Q++]=e[q],++F[e[q]];h=zk(e,c,d,P,F,R,M,Q,O,q-O,h),d||(a.r=h&7|c[h/8|0]<<3,h-=7,a.h=A,a.p=y,a.i=q,a.w=T)}else{for(var q=a.w||0;q<s+d;q+=65535){var He=q+65535;He>=s&&(c[h/8|0]=d,He=s),h=QO(c,h+1,e.subarray(q,He))}a.i=s}return GO(l,0,r+pA(h)+i)},XO=function(){var e=1,n=0;return{p:function(t){for(var r=e,i=n,a=t.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=r+=t[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,n=i},d:function(){return e%=65521,n%=65521,(e&255)<<24|(e&65280)<<8|(n&255)<<8|n>>8}}},XQ=function(e,n,t,r,i){if(!i&&(i={l:1},n.dictionary)){var a=n.dictionary.subarray(-32768),s=new Ms(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return KQ(e,n.level==null?6:n.level,n.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+n.mem,t,r,i)},ZO=function(e,n,t){for(;t;++n)e[n]=t,t>>>=8},ZQ=function(e,n){var t=n.level,r=t==0?0:t<6?1:t==9?3:2;if(e[0]=120,e[1]=r<<6|(n.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,n.dictionary){var i=XO();i.p(n.dictionary),ZO(e,2,i.d())}},JQ=function(e,n){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&gu(6,"invalid zlib data"),(e[1]>>5&1)==1&&gu(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function LS(e,n){n||(n={});var t=XO();t.p(e);var r=XQ(e,n,n.dictionary?6:2,4);return ZQ(r,n),ZO(r,r.length-4,t.d()),r}function eK(e,n){return GQ(e.subarray(JQ(e),-4),{i:2},n,n)}var tK=typeof TextDecoder<"u"&&new TextDecoder,nK=0;try{tK.decode(KO,{stream:!0}),nK=1}catch{}var ln=function(){return typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:this}();function uw(){ln.console&&typeof ln.console.log=="function"&&ln.console.log.apply(ln.console,arguments)}var Xr={log:uw,warn:function(e){ln.console&&(typeof ln.console.warn=="function"?ln.console.warn.apply(ln.console,arguments):uw.call(null,arguments))},error:function(e){ln.console&&(typeof ln.console.error=="function"?ln.console.error.apply(ln.console,arguments):uw(e))}};function cw(e,n,t){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){$h(r.response,n,t)},r.onerror=function(){Xr.error("could not download file")},r.send()}function qk(e){var n=new XMLHttpRequest;n.open("HEAD",e,!1);try{n.send()}catch{}return n.status>=200&&n.status<=299}function Fy(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var ag,RS,$h=ln.saveAs||((typeof window>"u"?"undefined":Zr(window))!=="object"||window!==ln?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,n,t){var r=ln.URL||ln.webkitURL,i=document.createElement("a");n=n||e.name||"download",i.download=n,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?qk(i.href)?cw(e,n,t):Fy(i,i.target="_blank"):Fy(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Fy(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,t){if(n=n||e.name||"download",typeof e=="string")if(qk(e))cw(e,n,t);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Fy(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Zr(a)!=="object"&&(Xr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,t),n)}:function(e,n,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return cw(e,n,t);var i=e.type==="application/octet-stream",a=/constructor/i.test(ln.HTMLElement)||ln.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Zr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=s?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},l.readAsDataURL(e)}else{var c=ln.URL||ln.webkitURL,d=c.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function JO(e){var n;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,a=t[r].process,s=i.exec(e);s&&(n=a(s),this.r=n[0],this.g=n[1],this.b=n[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function dw(e,n){var t=e[0],r=e[1],i=e[2],a=e[3];t=Ns(t,r,i,a,n[0],7,-680876936),a=Ns(a,t,r,i,n[1],12,-389564586),i=Ns(i,a,t,r,n[2],17,606105819),r=Ns(r,i,a,t,n[3],22,-1044525330),t=Ns(t,r,i,a,n[4],7,-176418897),a=Ns(a,t,r,i,n[5],12,1200080426),i=Ns(i,a,t,r,n[6],17,-1473231341),r=Ns(r,i,a,t,n[7],22,-45705983),t=Ns(t,r,i,a,n[8],7,1770035416),a=Ns(a,t,r,i,n[9],12,-1958414417),i=Ns(i,a,t,r,n[10],17,-42063),r=Ns(r,i,a,t,n[11],22,-1990404162),t=Ns(t,r,i,a,n[12],7,1804603682),a=Ns(a,t,r,i,n[13],12,-40341101),i=Ns(i,a,t,r,n[14],17,-1502002290),t=js(t,r=Ns(r,i,a,t,n[15],22,1236535329),i,a,n[1],5,-165796510),a=js(a,t,r,i,n[6],9,-1069501632),i=js(i,a,t,r,n[11],14,643717713),r=js(r,i,a,t,n[0],20,-373897302),t=js(t,r,i,a,n[5],5,-701558691),a=js(a,t,r,i,n[10],9,38016083),i=js(i,a,t,r,n[15],14,-660478335),r=js(r,i,a,t,n[4],20,-405537848),t=js(t,r,i,a,n[9],5,568446438),a=js(a,t,r,i,n[14],9,-1019803690),i=js(i,a,t,r,n[3],14,-187363961),r=js(r,i,a,t,n[8],20,1163531501),t=js(t,r,i,a,n[13],5,-1444681467),a=js(a,t,r,i,n[2],9,-51403784),i=js(i,a,t,r,n[7],14,1735328473),t=Ts(t,r=js(r,i,a,t,n[12],20,-1926607734),i,a,n[5],4,-378558),a=Ts(a,t,r,i,n[8],11,-2022574463),i=Ts(i,a,t,r,n[11],16,1839030562),r=Ts(r,i,a,t,n[14],23,-35309556),t=Ts(t,r,i,a,n[1],4,-1530992060),a=Ts(a,t,r,i,n[4],11,1272893353),i=Ts(i,a,t,r,n[7],16,-155497632),r=Ts(r,i,a,t,n[10],23,-1094730640),t=Ts(t,r,i,a,n[13],4,681279174),a=Ts(a,t,r,i,n[0],11,-358537222),i=Ts(i,a,t,r,n[3],16,-722521979),r=Ts(r,i,a,t,n[6],23,76029189),t=Ts(t,r,i,a,n[9],4,-640364487),a=Ts(a,t,r,i,n[12],11,-421815835),i=Ts(i,a,t,r,n[15],16,530742520),t=Os(t,r=Ts(r,i,a,t,n[2],23,-995338651),i,a,n[0],6,-198630844),a=Os(a,t,r,i,n[7],10,1126891415),i=Os(i,a,t,r,n[14],15,-1416354905),r=Os(r,i,a,t,n[5],21,-57434055),t=Os(t,r,i,a,n[12],6,1700485571),a=Os(a,t,r,i,n[3],10,-1894986606),i=Os(i,a,t,r,n[10],15,-1051523),r=Os(r,i,a,t,n[1],21,-2054922799),t=Os(t,r,i,a,n[8],6,1873313359),a=Os(a,t,r,i,n[15],10,-30611744),i=Os(i,a,t,r,n[6],15,-1560198380),r=Os(r,i,a,t,n[13],21,1309151649),t=Os(t,r,i,a,n[4],6,-145523070),a=Os(a,t,r,i,n[11],10,-1120210379),i=Os(i,a,t,r,n[2],15,718787259),r=Os(r,i,a,t,n[9],21,-343485551),e[0]=Uf(t,e[0]),e[1]=Uf(r,e[1]),e[2]=Uf(i,e[2]),e[3]=Uf(a,e[3])}function Iv(e,n,t,r,i,a){return n=Uf(Uf(n,e),Uf(r,a)),Uf(n<<i|n>>>32-i,t)}function Ns(e,n,t,r,i,a,s){return Iv(n&t|~n&r,e,n,i,a,s)}function js(e,n,t,r,i,a,s){return Iv(n&r|t&~r,e,n,i,a,s)}function Ts(e,n,t,r,i,a,s){return Iv(n^t^r,e,n,i,a,s)}function Os(e,n,t,r,i,a,s){return Iv(t^(n|~r),e,n,i,a,s)}function eI(e){var n,t=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=e.length;n+=64)dw(r,rK(e.substring(n-64,n)));e=e.substring(n-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)i[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(dw(r,i),n=0;n<16;n++)i[n]=0;return i[14]=8*t,dw(r,i),r}function rK(e){var n,t=[];for(n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}ag=ln.atob.bind(ln),RS=ln.btoa.bind(ln);var Bk="0123456789abcdef".split("");function iK(e){for(var n="",t=0;t<4;t++)n+=Bk[e>>8*t+4&15]+Bk[e>>8*t&15];return n}function aK(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function MS(e){return eI(e).map(aK).join("")}var sK=function(e){for(var n=0;n<e.length;n++)e[n]=iK(e[n]);return e.join("")}(eI("hello"))!="5d41402abc4b2a76b9719d911017c592";function Uf(e,n){if(sK){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}return e+n&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function PS(e,n){var t,r,i,a;if(e!==t){for(var s=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var h=l[c];d=(d+h+s.charCodeAt(c))%256,l[c]=l[d],l[d]=h}t=e,r=l}else l=r;var g=n.length,b=0,m=0,x="";for(c=0;c<g;c++)m=(m+(h=l[b=(b+1)%256]))%256,l[b]=l[m],l[m]=h,s=l[(l[b]+l[m])%256],x+=String.fromCharCode(n.charCodeAt(c)^s);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Uk={print:4,modify:8,copy:16,"annot-forms":32};function N0(e,n,t,r){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(Uk.perm!==void 0)throw new Error("Invalid permission: "+l);i+=Uk[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(n+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=MS(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=PS(this.encryptionKey,this.padding)}function j0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var n="",t=e.length,r=0;r<t;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?n+="#"+("0"+i.toString(16)).slice(-2):n+=e[r]}return n}function $k(e){if(Zr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var n={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");n.hasOwnProperty(t)||(n[t]={});var a=Math.random().toString(35);return n[t][a]=[r,!!i],a},this.unsubscribe=function(t){for(var r in n)if(n[r][t])return delete n[r][t],Object.keys(n[r]).length===0&&delete n[r],!0;return!1},this.publish=function(t){if(n.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in n[t]){var s=n[t][a];try{s[0].apply(e,r)}catch(l){ln.console&&Xr.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return n}}function Gx(e){if(!(this instanceof Gx))return new Gx(e);var n="opacity,stroke-opacity".split(",");for(var t in e)e.hasOwnProperty(t)&&n.indexOf(t)>=0&&(this[t]=e[t]);this.id="",this.objectNumber=-1}function tI(e,n){this.gState=e,this.matrix=n,this.id="",this.objectNumber=-1}function Wh(e,n,t,r,i){if(!(this instanceof Wh))return new Wh(e,n,t,r,i);this.type=e==="axial"?2:3,this.coords=n,this.colors=t,tI.call(this,r,i)}function T0(e,n,t,r,i){if(!(this instanceof T0))return new T0(e,n,t,r,i);this.boundingBox=e,this.xStep=n,this.yStep=t,this.stream="",this.cloneIndex=0,tI.call(this,r,i)}function an(e){var n,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],l=1,c=16,d="S",h=null;Zr(e=e||{})==="object"&&(t=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(n=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",t=(""+(t||"P")).toLowerCase();var g=e.putOnlyUsedFonts||!1,b={},m={internal:{},__private__:{}};m.__private__.PubSub=$k;var x="1.3",y=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(D){x=D};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return A};var w=m.__private__.getPageFormat=function(D){return A[D]};i=i||"a4";var C={COMPAT:"compat",ADVANCED:"advanced"},N=C.COMPAT;function P(){this.saveGraphicsState(),se(new Ot(Ze,0,0,-Ze,0,$u()*Ze).toString()+" cm"),this.setFontSize(this.getFontSize()/Ze),d="n",N=C.ADVANCED}function F(){this.restoreGraphicsState(),d="S",N=C.COMPAT}var R=m.__private__.combineFontStyleAndFontWeight=function(D,ae){if(D=="bold"&&ae=="normal"||D=="bold"&&ae==400||D=="normal"&&ae=="italic"||D=="bold"&&ae=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ae&&(D=ae==400||ae==="normal"?D==="italic"?"italic":"normal":ae!=700&&ae!=="bold"||D!=="normal"?(ae==700?"bold":ae)+""+D:"bold"),D};m.advancedAPI=function(D){var ae=N===C.COMPAT;return ae&&P.call(this),typeof D!="function"||(D(this),ae&&F.call(this)),this},m.compatAPI=function(D){var ae=N===C.ADVANCED;return ae&&F.call(this),typeof D!="function"||(D(this),ae&&P.call(this)),this},m.isAdvancedAPI=function(){return N===C.ADVANCED};var k,M=function(D){if(N!==C.ADVANCED)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=m.roundToPrecision=m.__private__.roundToPrecision=function(D,ae){var Ee=n||ae;if(isNaN(D)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(Ee).replace(/0+$/,"")};k=m.hpf=m.__private__.hpf=typeof c=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return q(D,c)}:c==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return q(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return q(D,16)};var Q=m.f2=m.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return q(D,2)},T=m.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return q(D,3)},O=m.scale=m.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return N===C.COMPAT?D*Ze:N===C.ADVANCED?D:void 0},L=function(D){return N===C.COMPAT?$u()-D:N===C.ADVANCED?D:void 0},j=function(D){return O(L(D))};m.__private__.setPrecision=m.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(n=parseInt(D,10))};var X,H="00000000000000000000000000000000",G=m.__private__.getFileId=function(){return H},ee=m.__private__.setFileId=function(D){return H=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():H.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(oi=new N0(h.userPermissions,h.userPassword,h.ownerPassword,H)),H};m.setFileId=function(D){return ee(D),this},m.getFileId=function(){return G()};var le=m.__private__.convertDateToPDFDate=function(D){var ae=D.getTimezoneOffset(),Ee=ae<0?"+":"-",Re=Math.floor(Math.abs(ae/60)),We=Math.abs(ae%60),ct=[Ee,re(Re),"'",re(We),"'"].join("");return["D:",D.getFullYear(),re(D.getMonth()+1),re(D.getDate()),re(D.getHours()),re(D.getMinutes()),re(D.getSeconds()),ct].join("")},Y=m.__private__.convertPDFDateToDate=function(D){var ae=parseInt(D.substr(2,4),10),Ee=parseInt(D.substr(6,2),10)-1,Re=parseInt(D.substr(8,2),10),We=parseInt(D.substr(10,2),10),ct=parseInt(D.substr(12,2),10),St=parseInt(D.substr(14,2),10);return new Date(ae,Ee,Re,We,ct,St,0)},te=m.__private__.setCreationDate=function(D){var ae;if(D===void 0&&(D=new Date),D instanceof Date)ae=le(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ae=D}return X=ae},U=m.__private__.getCreationDate=function(D){var ae=X;return D==="jsDate"&&(ae=Y(X)),ae};m.setCreationDate=function(D){return te(D),this},m.getCreationDate=function(D){return U(D)};var B,re=m.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},Z=m.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},ne=0,ve=[],ye=[],Ce=0,Oe=[],Ie=[],Ue=!1,He=ye,V=function(){ne=0,Ce=0,ye=[],ve=[],Oe=[],_r=dr(),Oa=dr()};m.__private__.setCustomOutputDestination=function(D){Ue=!0,He=D};var Se=function(D){Ue||(He=D)};m.__private__.resetCustomOutputDestination=function(){Ue=!1,He=ye};var se=m.__private__.out=function(D){return D=D.toString(),Ce+=D.length+1,He.push(D),He},he=m.__private__.write=function(D){return se(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},de=m.__private__.getArrayBuffer=function(D){for(var ae=D.length,Ee=new ArrayBuffer(ae),Re=new Uint8Array(Ee);ae--;)Re[ae]=D.charCodeAt(ae);return Ee},we=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return we};var Le=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(D){return Le=N===C.ADVANCED?D/Ze:D,this};var Fe,_e=m.__private__.getFontSize=m.getFontSize=function(){return N===C.COMPAT?Le:Le*Ze},Qe=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(D){return Qe=D,this},m.__private__.getR2L=m.getR2L=function(){return Qe};var st,nt=m.__private__.setZoomMode=function(D){var ae=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))Fe=D;else if(isNaN(D)){if(ae.indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');Fe=D}else Fe=parseInt(D,10)};m.__private__.getZoomMode=function(){return Fe};var De,xe=m.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');st=D};m.__private__.getPageMode=function(){return st};var ke=m.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');De=D};m.__private__.getLayoutMode=function(){return De},m.__private__.setDisplayMode=m.setDisplayMode=function(D,ae,Ee){return nt(D),ke(ae),xe(Ee),this};var Ne={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(D){if(Object.keys(Ne).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ne[D]},m.__private__.getDocumentProperties=function(){return Ne},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(D){for(var ae in Ne)Ne.hasOwnProperty(ae)&&D[ae]&&(Ne[ae]=D[ae]);return this},m.__private__.setDocumentProperty=function(D,ae){if(Object.keys(Ne).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ne[D]=ae};var ut,Ze,Dt,Et,$t,It={},Gt={},Jt=[],sn={},Mn={},Pn={},Gr={},rr=null,Dn=0,Ht=[],wn=new $k(m),xa=e.hotfixes||[],vr={},si={},va=[],Ot=function D(ae,Ee,Re,We,ct,St){if(!(this instanceof D))return new D(ae,Ee,Re,We,ct,St);isNaN(ae)&&(ae=1),isNaN(Ee)&&(Ee=0),isNaN(Re)&&(Re=0),isNaN(We)&&(We=1),isNaN(ct)&&(ct=0),isNaN(St)&&(St=0),this._matrix=[ae,Ee,Re,We,ct,St]};Object.defineProperty(Ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ot.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(D)},Ot.prototype.multiply=function(D){var ae=D.sx*this.sx+D.shy*this.shx,Ee=D.sx*this.shy+D.shy*this.sy,Re=D.shx*this.sx+D.sy*this.shx,We=D.shx*this.shy+D.sy*this.sy,ct=D.tx*this.sx+D.ty*this.shx+this.tx,St=D.tx*this.shy+D.ty*this.sy+this.ty;return new Ot(ae,Ee,Re,We,ct,St)},Ot.prototype.decompose=function(){var D=this.sx,ae=this.shy,Ee=this.shx,Re=this.sy,We=this.tx,ct=this.ty,St=Math.sqrt(D*D+ae*ae),Nt=(D/=St)*Ee+(ae/=St)*Re;Ee-=D*Nt,Re-=ae*Nt;var qt=Math.sqrt(Ee*Ee+Re*Re);return Nt/=qt,D*(Re/=qt)<ae*(Ee/=qt)&&(D=-D,ae=-ae,Nt=-Nt,St=-St),{scale:new Ot(St,0,0,qt,0,0),translate:new Ot(1,0,0,1,We,ct),rotate:new Ot(D,ae,-ae,D,0,0),skew:new Ot(1,0,Nt,1,0,0)}},Ot.prototype.toString=function(D){return this.join(" ")},Ot.prototype.inversed=function(){var D=this.sx,ae=this.shy,Ee=this.shx,Re=this.sy,We=this.tx,ct=this.ty,St=1/(D*Re-ae*Ee),Nt=Re*St,qt=-ae*St,yn=-Ee*St,dn=D*St;return new Ot(Nt,qt,yn,dn,-Nt*We-yn*ct,-qt*We-dn*ct)},Ot.prototype.applyToPoint=function(D){var ae=D.x*this.sx+D.y*this.shx+this.tx,Ee=D.x*this.shy+D.y*this.sy+this.ty;return new Gd(ae,Ee)},Ot.prototype.applyToRectangle=function(D){var ae=this.applyToPoint(D),Ee=this.applyToPoint(new Gd(D.x+D.w,D.y+D.h));return new hh(ae.x,ae.y,Ee.x-ae.x,Ee.y-ae.y)},Ot.prototype.clone=function(){var D=this.sx,ae=this.shy,Ee=this.shx,Re=this.sy,We=this.tx,ct=this.ty;return new Ot(D,ae,Ee,Re,We,ct)},m.Matrix=Ot;var $n=m.matrixMult=function(D,ae){return ae.multiply(D)},ir=new Ot(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=ir;var Mr=function(D,ae){if(!Mn[D]){var Ee=(ae instanceof Wh?"Sh":"P")+(Object.keys(sn).length+1).toString(10);ae.id=Ee,Mn[D]=Ee,sn[Ee]=ae,wn.publish("addPattern",ae)}};m.ShadingPattern=Wh,m.TilingPattern=T0,m.addShadingPattern=function(D,ae){return M("addShadingPattern()"),Mr(D,ae),this},m.beginTilingPattern=function(D){M("beginTilingPattern()"),Qd(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},m.endTilingPattern=function(D,ae){M("endTilingPattern()"),ae.stream=Ie[B].join(`
`),Mr(D,ae),wn.publish("endTilingPattern",ae),va.pop().restore()};var cr=m.__private__.newObject=function(){var D=dr();return Bn(D,!0),D},dr=m.__private__.newObjectDeferred=function(){return ne++,ve[ne]=function(){return Ce},ne},Bn=function(D,ae){return ae=typeof ae=="boolean"&&ae,ve[D]=Ce,ae&&se(D+" 0 obj"),D},gs=m.__private__.newAdditionalObject=function(){var D={objId:dr(),content:""};return Oe.push(D),D},_r=dr(),Oa=dr(),Hi=m.__private__.decodeColorString=function(D){var ae=D.split(" ");if(ae.length!==2||ae[1]!=="g"&&ae[1]!=="G")ae.length===5&&(ae[4]==="k"||ae[4]==="K")&&(ae=[(1-ae[0])*(1-ae[3]),(1-ae[1])*(1-ae[3]),(1-ae[2])*(1-ae[3]),"r"]);else{var Ee=parseFloat(ae[0]);ae=[Ee,Ee,Ee,"r"]}for(var Re="#",We=0;We<3;We++)Re+=("0"+Math.floor(255*parseFloat(ae[We])).toString(16)).slice(-2);return Re},Wi=m.__private__.encodeColorString=function(D){var ae;typeof D=="string"&&(D={ch1:D});var Ee=D.ch1,Re=D.ch2,We=D.ch3,ct=D.ch4,St=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var Nt=new JO(Ee);if(Nt.ok)Ee=Nt.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var qt=parseInt(Ee.substr(1),16);Ee=qt>>16&255,Re=qt>>8&255,We=255&qt}if(Re===void 0||ct===void 0&&Ee===Re&&Re===We)if(typeof Ee=="string")ae=Ee+" "+St[0];else switch(D.precision){case 2:ae=Q(Ee/255)+" "+St[0];break;case 3:default:ae=T(Ee/255)+" "+St[0]}else if(ct===void 0||Zr(ct)==="object"){if(ct&&!isNaN(ct.a)&&ct.a===0)return ae=["1.","1.","1.",St[1]].join(" ");if(typeof Ee=="string")ae=[Ee,Re,We,St[1]].join(" ");else switch(D.precision){case 2:ae=[Q(Ee/255),Q(Re/255),Q(We/255),St[1]].join(" ");break;default:case 3:ae=[T(Ee/255),T(Re/255),T(We/255),St[1]].join(" ")}}else if(typeof Ee=="string")ae=[Ee,Re,We,ct,St[2]].join(" ");else switch(D.precision){case 2:ae=[Q(Ee),Q(Re),Q(We),Q(ct),St[2]].join(" ");break;case 3:default:ae=[T(Ee),T(Re),T(We),T(ct),St[2]].join(" ")}return ae},Xn=m.__private__.getFilters=function(){return s},Ei=m.__private__.putStream=function(D){var ae=(D=D||{}).data||"",Ee=D.filters||Xn(),Re=D.alreadyAppliedFilters||[],We=D.addLength1||!1,ct=ae.length,St=D.objectId,Nt=function(Ni){return Ni};if(h!==null&&St===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Nt=oi.encryptor(St,0));var qt={};Ee===!0&&(Ee=["FlateEncode"]);var yn=D.additionalKeyValues||[],dn=(qt=an.API.processDataByFilters!==void 0?an.API.processDataByFilters(ae,Ee):{data:ae,reverseChain:[]}).reverseChain+(Array.isArray(Re)?Re.join(" "):Re.toString());if(qt.data.length!==0&&(yn.push({key:"Length",value:qt.data.length}),We===!0&&yn.push({key:"Length1",value:ct})),dn.length!=0)if(dn.split("/").length-1==1)yn.push({key:"Filter",value:dn});else{yn.push({key:"Filter",value:"["+dn+"]"});for(var Fn=0;Fn<yn.length;Fn+=1)if(yn[Fn].key==="DecodeParms"){for(var ei=[],li=0;li<qt.reverseChain.split("/").length-1;li+=1)ei.push("null");ei.push(yn[Fn].value),yn[Fn].value="["+ei.join(" ")+"]"}}se("<<");for(var ki=0;ki<yn.length;ki++)se("/"+yn[ki].key+" "+yn[ki].value);se(">>"),qt.data.length!==0&&(se("stream"),se(Nt(qt.data)),se("endstream"))},Zn=m.__private__.putPage=function(D){var ae=D.number,Ee=D.data,Re=D.objId,We=D.contentsObjId;Bn(Re,!0),se("<</Type /Page"),se("/Parent "+D.rootDictionaryObjId+" 0 R"),se("/Resources "+D.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(k(D.mediaBox.bottomLeftX))+" "+parseFloat(k(D.mediaBox.bottomLeftY))+" "+k(D.mediaBox.topRightX)+" "+k(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&se("/CropBox ["+k(D.cropBox.bottomLeftX)+" "+k(D.cropBox.bottomLeftY)+" "+k(D.cropBox.topRightX)+" "+k(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&se("/BleedBox ["+k(D.bleedBox.bottomLeftX)+" "+k(D.bleedBox.bottomLeftY)+" "+k(D.bleedBox.topRightX)+" "+k(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&se("/TrimBox ["+k(D.trimBox.bottomLeftX)+" "+k(D.trimBox.bottomLeftY)+" "+k(D.trimBox.topRightX)+" "+k(D.trimBox.topRightY)+"]"),D.artBox!==null&&se("/ArtBox ["+k(D.artBox.bottomLeftX)+" "+k(D.artBox.bottomLeftY)+" "+k(D.artBox.topRightX)+" "+k(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&se("/UserUnit "+D.userUnit),wn.publish("putPage",{objId:Re,pageContext:Ht[ae],pageNumber:ae,page:Ee}),se("/Contents "+We+" 0 R"),se(">>"),se("endobj");var ct=Ee.join(`
`);return N===C.ADVANCED&&(ct+=`
Q`),Bn(We,!0),Ei({data:ct,filters:Xn(),objectId:We}),se("endobj"),Re},ro=m.__private__.putPages=function(){var D,ae,Ee=[];for(D=1;D<=Dn;D++)Ht[D].objId=dr(),Ht[D].contentsObjId=dr();for(D=1;D<=Dn;D++)Ee.push(Zn({number:D,data:Ie[D],objId:Ht[D].objId,contentsObjId:Ht[D].contentsObjId,mediaBox:Ht[D].mediaBox,cropBox:Ht[D].cropBox,bleedBox:Ht[D].bleedBox,trimBox:Ht[D].trimBox,artBox:Ht[D].artBox,userUnit:Ht[D].userUnit,rootDictionaryObjId:_r,resourceDictionaryObjId:Oa}));Bn(_r,!0),se("<</Type /Pages");var Re="/Kids [";for(ae=0;ae<Dn;ae++)Re+=Ee[ae]+" 0 R ";se(Re+"]"),se("/Count "+Dn),se(">>"),se("endobj"),wn.publish("postPutPages")},To=function(D){wn.publish("putFont",{font:D,out:se,newObject:cr,putStream:Ei}),D.isAlreadyPutted!==!0&&(D.objectNumber=cr(),se("<<"),se("/Type /Font"),se("/BaseFont /"+j0(D.postScriptName)),se("/Subtype /Type1"),typeof D.encoding=="string"&&se("/Encoding /"+D.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},Ma=function(){for(var D in It)It.hasOwnProperty(D)&&(g===!1||g===!0&&b.hasOwnProperty(D))&&To(It[D])},Pr=function(D){D.objectNumber=cr();var ae=[];ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Form"}),ae.push({key:"BBox",value:"["+[k(D.x),k(D.y),k(D.x+D.width),k(D.y+D.height)].join(" ")+"]"}),ae.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var Ee=D.pages[1].join(`
`);Ei({data:Ee,additionalKeyValues:ae,objectId:D.objectNumber}),se("endobj")},ol=function(){for(var D in vr)vr.hasOwnProperty(D)&&Pr(vr[D])},$l=function(D,ae){var Ee,Re=[],We=1/(ae-1);for(Ee=0;Ee<1;Ee+=We)Re.push(Ee);if(Re.push(1),D[0].offset!=0){var ct={offset:0,color:D[0].color};D.unshift(ct)}if(D[D.length-1].offset!=1){var St={offset:1,color:D[D.length-1].color};D.push(St)}for(var Nt="",qt=0,yn=0;yn<Re.length;yn++){for(Ee=Re[yn];Ee>D[qt+1].offset;)qt++;var dn=D[qt].offset,Fn=(Ee-dn)/(D[qt+1].offset-dn),ei=D[qt].color,li=D[qt+1].color;Nt+=Z(Math.round((1-Fn)*ei[0]+Fn*li[0]).toString(16))+Z(Math.round((1-Fn)*ei[1]+Fn*li[1]).toString(16))+Z(Math.round((1-Fn)*ei[2]+Fn*li[2]).toString(16))}return Nt.trim()},qu=function(D,ae){ae||(ae=21);var Ee=cr(),Re=$l(D.colors,ae),We=[];We.push({key:"FunctionType",value:"0"}),We.push({key:"Domain",value:"[0.0 1.0]"}),We.push({key:"Size",value:"["+ae+"]"}),We.push({key:"BitsPerSample",value:"8"}),We.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),We.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ei({data:Re,additionalKeyValues:We,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),se("endobj"),D.objectNumber=cr(),se("<< /ShadingType "+D.type),se("/ColorSpace /DeviceRGB");var ct="/Coords ["+k(parseFloat(D.coords[0]))+" "+k(parseFloat(D.coords[1]))+" ";D.type===2?ct+=k(parseFloat(D.coords[2]))+" "+k(parseFloat(D.coords[3])):ct+=k(parseFloat(D.coords[2]))+" "+k(parseFloat(D.coords[3]))+" "+k(parseFloat(D.coords[4]))+" "+k(parseFloat(D.coords[5])),se(ct+="]"),D.matrix&&se("/Matrix ["+D.matrix.toString()+"]"),se("/Function "+Ee+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},Kc=function(D,ae){var Ee=dr(),Re=cr();ae.push({resourcesOid:Ee,objectOid:Re}),D.objectNumber=Re;var We=[];We.push({key:"Type",value:"/Pattern"}),We.push({key:"PatternType",value:"1"}),We.push({key:"PaintType",value:"1"}),We.push({key:"TilingType",value:"1"}),We.push({key:"BBox",value:"["+D.boundingBox.map(k).join(" ")+"]"}),We.push({key:"XStep",value:k(D.xStep)}),We.push({key:"YStep",value:k(D.yStep)}),We.push({key:"Resources",value:Ee+" 0 R"}),D.matrix&&We.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),Ei({data:D.stream,additionalKeyValues:We,objectId:D.objectNumber}),se("endobj")},Bs=function(D){var ae;for(ae in sn)sn.hasOwnProperty(ae)&&(sn[ae]instanceof Wh?qu(sn[ae]):sn[ae]instanceof T0&&Kc(sn[ae],D))},bs=function(D){for(var ae in D.objectNumber=cr(),se("<<"),D)switch(ae){case"opacity":se("/ca "+Q(D[ae]));break;case"stroke-opacity":se("/CA "+Q(D[ae]))}se(">>"),se("endobj")},Pa=function(){var D;for(D in Pn)Pn.hasOwnProperty(D)&&bs(Pn[D])},ys=function(){for(var D in se("/XObject <<"),vr)vr.hasOwnProperty(D)&&vr[D].objectNumber>=0&&se("/"+D+" "+vr[D].objectNumber+" 0 R");wn.publish("putXobjectDict"),se(">>")},es=function(){oi.oid=cr(),se("<<"),se("/Filter /Standard"),se("/V "+oi.v),se("/R "+oi.r),se("/U <"+oi.toHexString(oi.U)+">"),se("/O <"+oi.toHexString(oi.O)+">"),se("/P "+oi.P),se(">>"),se("endobj")},ts=function(){for(var D in se("/Font <<"),It)It.hasOwnProperty(D)&&(g===!1||g===!0&&b.hasOwnProperty(D))&&se("/"+D+" "+It[D].objectNumber+" 0 R");se(">>")},Hl=function(){if(Object.keys(sn).length>0){for(var D in se("/Shading <<"),sn)sn.hasOwnProperty(D)&&sn[D]instanceof Wh&&sn[D].objectNumber>=0&&se("/"+D+" "+sn[D].objectNumber+" 0 R");wn.publish("putShadingPatternDict"),se(">>")}},io=function(D){if(Object.keys(sn).length>0){for(var ae in se("/Pattern <<"),sn)sn.hasOwnProperty(ae)&&sn[ae]instanceof m.TilingPattern&&sn[ae].objectNumber>=0&&sn[ae].objectNumber<D&&se("/"+ae+" "+sn[ae].objectNumber+" 0 R");wn.publish("putTilingPatternDict"),se(">>")}},Xc=function(){if(Object.keys(Pn).length>0){var D;for(D in se("/ExtGState <<"),Pn)Pn.hasOwnProperty(D)&&Pn[D].objectNumber>=0&&se("/"+D+" "+Pn[D].objectNumber+" 0 R");wn.publish("putGStateDict"),se(">>")}},Fr=function(D){Bn(D.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ts(),Hl(),io(D.objectOid),Xc(),ys(),se(">>"),se("endobj")},ra=function(){var D=[];Ma(),Pa(),ol(),Bs(D),wn.publish("putResources"),D.forEach(Fr),Fr({resourcesOid:Oa,objectOid:Number.MAX_SAFE_INTEGER}),wn.publish("postPutResources")},ao=function(){wn.publish("putAdditionalObjects");for(var D=0;D<Oe.length;D++){var ae=Oe[D];Bn(ae.objId,!0),se(ae.content),se("endobj")}wn.publish("postPutAdditionalObjects")},ll=function(D){Gt[D.fontName]=Gt[D.fontName]||{},Gt[D.fontName][D.fontStyle]=D.id},Fa=function(D,ae,Ee,Re,We){var ct={id:"F"+(Object.keys(It).length+1).toString(10),postScriptName:D,fontName:ae,fontStyle:Ee,encoding:Re,isStandardFont:We||!1,metadata:{}};return wn.publish("addFont",{font:ct,instance:this}),It[ct.id]=ct,ll(ct),ct.id},Wl=function(D){for(var ae=0,Ee=we.length;ae<Ee;ae++){var Re=Fa.call(this,D[ae][0],D[ae][1],D[ae][2],we[ae][3],!0);g===!1&&(b[Re]=!0);var We=D[ae][0].split("-");ll({id:Re,fontName:We[0],fontStyle:We[1]||""})}wn.publish("addFonts",{fonts:It,dictionary:Gt})},ia=function(D){return D.foo=function(){try{return D.apply(this,arguments)}catch(Re){var ae=Re.stack||"";~ae.indexOf(" at ")&&(ae=ae.split(" at ")[1]);var Ee="Error in function "+ae.split(`
`)[0].split("<")[0]+": "+Re.message;if(!ln.console)throw new Error(Ee);ln.console.error(Ee,Re),ln.alert&&alert(Ee)}},D.foo.bar=D,D.foo},ul=function(D,ae){var Ee,Re,We,ct,St,Nt,qt,yn,dn;if(We=(ae=ae||{}).sourceEncoding||"Unicode",St=ae.outputEncoding,(ae.autoencode||St)&&It[ut].metadata&&It[ut].metadata[We]&&It[ut].metadata[We].encoding&&(ct=It[ut].metadata[We].encoding,!St&&It[ut].encoding&&(St=It[ut].encoding),!St&&ct.codePages&&(St=ct.codePages[0]),typeof St=="string"&&(St=ct[St]),St)){for(qt=!1,Nt=[],Ee=0,Re=D.length;Ee<Re;Ee++)(yn=St[D.charCodeAt(Ee)])?Nt.push(String.fromCharCode(yn)):Nt.push(D[Ee]),Nt[Ee].charCodeAt(0)>>8&&(qt=!0);D=Nt.join("")}for(Ee=D.length;qt===void 0&&Ee!==0;)D.charCodeAt(Ee-1)>>8&&(qt=!0),Ee--;if(!qt)return D;for(Nt=ae.noBOM?[]:[254,255],Ee=0,Re=D.length;Ee<Re;Ee++){if((dn=(yn=D.charCodeAt(Ee))>>8)>>8)throw new Error("Character at position "+Ee+" of string '"+D+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Nt.push(dn),Nt.push(yn-(dn<<8))}return String.fromCharCode.apply(void 0,Nt)},fr=m.__private__.pdfEscape=m.pdfEscape=function(D,ae){return ul(D,ae).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Oo=m.__private__.beginPage=function(D){Ie[++Dn]=[],Ht[Dn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},Us(Dn),Se(Ie[B])},Vl=function(D,ae){var Ee,Re,We;switch(t=ae||t,typeof D=="string"&&(Ee=w(D.toLowerCase()),Array.isArray(Ee)&&(Re=Ee[0],We=Ee[1])),Array.isArray(D)&&(Re=D[0]*Ze,We=D[1]*Ze),isNaN(Re)&&(Re=i[0],We=i[1]),(Re>14400||We>14400)&&(Xr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Re=Math.min(14400,Re),We=Math.min(14400,We)),i=[Re,We],t.substr(0,1)){case"l":We>Re&&(i=[We,Re]);break;case"p":Re>We&&(i=[We,Re])}Oo(i),Ft(at),se(Sr),pl!==0&&se(pl+" J"),Ro!==0&&se(Ro+" j"),wn.publish("addPage",{pageNumber:Dn})},Io=function(D){D>0&&D<=Dn&&(Ie.splice(D,1),Ht.splice(D,1),Dn--,B>Dn&&(B=Dn),this.setPage(B))},Us=function(D){D>0&&D<=Dn&&(B=D)},Bu=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Ie.length-1},$s=function(D,ae,Ee){var Re,We=void 0;return Ee=Ee||{},D=D!==void 0?D:It[ut].fontName,ae=ae!==void 0?ae:It[ut].fontStyle,Re=D.toLowerCase(),Gt[Re]!==void 0&&Gt[Re][ae]!==void 0?We=Gt[Re][ae]:Gt[D]!==void 0&&Gt[D][ae]!==void 0?We=Gt[D][ae]:Ee.disableWarning===!1&&Xr.warn("Unable to look up font label for font '"+D+"', '"+ae+"'. Refer to getFontList() for available fonts."),We||Ee.noFallback||(We=Gt.times[ae])==null&&(We=Gt.times.normal),We},Vi=m.__private__.putInfo=function(){var D=cr(),ae=function(Re){return Re};for(var Ee in h!==null&&(ae=oi.encryptor(D,0)),se("<<"),se("/Producer ("+fr(ae("jsPDF "+an.version))+")"),Ne)Ne.hasOwnProperty(Ee)&&Ne[Ee]&&se("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+fr(ae(Ne[Ee]))+")");se("/CreationDate ("+fr(ae(X))+")"),se(">>"),se("endobj")},ns=m.__private__.putCatalog=function(D){var ae=(D=D||{}).rootDictionaryObjId||_r;switch(cr(),se("<<"),se("/Type /Catalog"),se("/Pages "+ae+" 0 R"),Fe||(Fe="fullwidth"),Fe){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+Fe;Ee.substr(Ee.length-1)==="%"&&(Fe=parseInt(Fe)/100),typeof Fe=="number"&&se("/OpenAction [3 0 R /XYZ null null "+Q(Fe)+"]")}switch(De||(De="continuous"),De){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}st&&se("/PageMode /"+st),wn.publish("putCatalog"),se(">>"),se("endobj")},xs=m.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(ne+1)),se("/Root "+ne+" 0 R"),se("/Info "+(ne-1)+" 0 R"),h!==null&&se("/Encrypt "+oi.oid+" 0 R"),se("/ID [ <"+H+"> <"+H+"> ]"),se(">>")},Uu=m.__private__.putHeader=function(){se("%PDF-"+x),se("%")},za=m.__private__.putXRef=function(){var D="0000000000";se("xref"),se("0 "+(ne+1)),se("0000000000 65535 f ");for(var ae=1;ae<=ne;ae++)typeof ve[ae]=="function"?se((D+ve[ae]()).slice(-10)+" 00000 n "):ve[ae]!==void 0?se((D+ve[ae]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},Hs=m.__private__.buildDocument=function(){V(),Se(ye),wn.publish("buildDocument"),Uu(),ro(),ao(),ra(),h!==null&&es(),Vi(),ns();var D=Ce;return za(),xs(),se("startxref"),se(""+D),se("%%EOF"),Se(Ie[B]),ye.join(`
`)},cl=m.__private__.getBlob=function(D){return new Blob([de(D)],{type:"application/pdf"})},Ws=m.output=m.__private__.output=ia(function(D,ae){switch(typeof(ae=ae||{})=="string"?ae={filename:ae}:ae.filename=ae.filename||"generated.pdf",D){case void 0:return Hs();case"save":m.save(ae.filename);break;case"arraybuffer":return de(Hs());case"blob":return cl(Hs());case"bloburi":case"bloburl":if(ln.URL!==void 0&&typeof ln.URL.createObjectURL=="function")return ln.URL&&ln.URL.createObjectURL(cl(Hs()))||void 0;Xr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",Re=Hs();try{Ee=RS(Re)}catch{Ee=RS(unescape(encodeURIComponent(Re)))}return"data:application/pdf;filename="+ae.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ln)==="[object Window]"){var We="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ct=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ae.pdfObjectUrl&&(We=ae.pdfObjectUrl,ct="");var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+We+'"'+ct+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ae)+");<\/script></body></html>",Nt=ln.open();return Nt!==null&&Nt.document.write(St),Nt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ln)==="[object Window]"){var qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ae.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ae.filename+'" width="500px" height="400px" /></body></html>',yn=ln.open();if(yn!==null){yn.document.write(qt);var dn=this;yn.document.documentElement.querySelector("#pdfViewer").onload=function(){yn.document.title=ae.filename,yn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(dn.output("bloburl"))}}return yn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ln)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Fn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ae)+'"></iframe></body></html>',ei=ln.open();if(ei!==null&&(ei.document.write(Fn),ei.document.title=ae.filename),ei||typeof safari>"u")return ei;break;case"datauri":case"dataurl":return ln.document.location.href=this.output("datauristring",ae);default:return null}}),dl=function(D){return Array.isArray(xa)===!0&&xa.indexOf(D)>-1};switch(r){case"pt":Ze=1;break;case"mm":Ze=72/25.4;break;case"cm":Ze=72/2.54;break;case"in":Ze=72;break;case"px":Ze=dl("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ze=12;break;case"ex":Ze=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ze=r}var oi=null;te(),ee();var Jr=function(D){return h!==null?oi.encryptor(D,0):function(ae){return ae}},vs=m.__private__.getPageInfo=m.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ht[D].objId,pageNumber:D,pageContext:Ht[D]}},Xt=m.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ae in Ht)if(Ht[ae].objId===D)break;return vs(ae)},so=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Ht[B].objId,pageNumber:B,pageContext:Ht[B]}};m.addPage=function(){return Vl.apply(this,arguments),this},m.setPage=function(){return Us.apply(this,arguments),Se.call(this,Ie[B]),this},m.insertPage=function(D){return this.addPage(),this.movePage(B,D),this},m.movePage=function(D,ae){var Ee,Re;if(D>ae){Ee=Ie[D],Re=Ht[D];for(var We=D;We>ae;We--)Ie[We]=Ie[We-1],Ht[We]=Ht[We-1];Ie[ae]=Ee,Ht[ae]=Re,this.setPage(ae)}else if(D<ae){Ee=Ie[D],Re=Ht[D];for(var ct=D;ct<ae;ct++)Ie[ct]=Ie[ct+1],Ht[ct]=Ht[ct+1];Ie[ae]=Ee,Ht[ae]=Re,this.setPage(ae)}return this},m.deletePage=function(){return Io.apply(this,arguments),this},m.__private__.text=m.text=function(D,ae,Ee,Re,We){var ct,St,Nt,qt,yn,dn,Fn,ei,li,ki=(Re=Re||{}).scope||this;if(typeof D=="number"&&typeof ae=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var Ni=Ee;Ee=ae,ae=D,D=Ni}if(arguments[3]instanceof Ot?(M("The transform parameter of text() with a Matrix value"),li=We):(Nt=arguments[4],qt=arguments[5],Zr(Fn=arguments[3])==="object"&&Fn!==null||(typeof Nt=="string"&&(qt=Nt,Nt=null),typeof Fn=="string"&&(qt=Fn,Fn=null),typeof Fn=="number"&&(Nt=Fn,Fn=null),Re={flags:Fn,angle:Nt,align:qt})),isNaN(ae)||isNaN(Ee)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return ki;var Sa="",Mo=!1,Ys=typeof Re.lineHeightFactor=="number"?Re.lineHeightFactor:Te,Po=ki.internal.scaleFactor;function gh(Tn){return Tn=Tn.split("	").join(Array(Re.TabLen||9).join(" ")),fr(Tn,Fn)}function Yl(Tn){for(var On,zr=Tn.concat(),ji=[],uo=zr.length;uo--;)typeof(On=zr.shift())=="string"?ji.push(On):Array.isArray(Tn)&&(On.length===1||On[1]===void 0&&On[2]===void 0)?ji.push(On[0]):ji.push([On[0],On[1],On[2]]);return ji}function Gl(Tn,On){var zr;if(typeof Tn=="string")zr=On(Tn)[0];else if(Array.isArray(Tn)){for(var ji,uo,Ju=Tn.concat(),ec=[],Xl=Ju.length;Xl--;)typeof(ji=Ju.shift())=="string"?ec.push(On(ji)[0]):Array.isArray(ji)&&typeof ji[0]=="string"&&(uo=On(ji[0],ji[1],ji[2]),ec.push([uo[0],uo[1],uo[2]]));zr=ec}return zr}var Zd=!1,Hu=!0;if(typeof D=="string")Zd=!0;else if(Array.isArray(D)){var Jd=D.concat();St=[];for(var Jc,aa=Jd.length;aa--;)(typeof(Jc=Jd.shift())!="string"||Array.isArray(Jc)&&typeof Jc[0]!="string")&&(Hu=!1);Zd=Hu}if(Zd===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var Wu=Le/ki.internal.scaleFactor,ed=Wu*(Ys-1);switch(Re.baseline){case"bottom":Ee-=ed;break;case"top":Ee+=Wu-ed;break;case"hanging":Ee+=Wu-2*ed;break;case"middle":Ee+=Wu/2-ed}if((dn=Re.maxWidth||0)>0&&(typeof D=="string"?D=ki.splitTextToSize(D,dn):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(Tn,On){return Tn.concat(ki.splitTextToSize(On,dn))},[]))),ct={text:D,x:ae,y:Ee,options:Re,mutex:{pdfEscape:fr,activeFontKey:ut,fonts:It,activeFontSize:Le}},wn.publish("preProcessText",ct),D=ct.text,Nt=(Re=ct.options).angle,!(li instanceof Ot)&&Nt&&typeof Nt=="number"){Nt*=Math.PI/180,Re.rotationDirection===0&&(Nt=-Nt),N===C.ADVANCED&&(Nt=-Nt);var td=Math.cos(Nt),ef=Math.sin(Nt);li=new Ot(td,ef,-ef,td,0,0)}else Nt&&Nt instanceof Ot&&(li=Nt);N!==C.ADVANCED||li||(li=ir),(yn=Re.charSpace||Ss)!==void 0&&(Sa+=k(O(yn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ei=Re.horizontalScale)!==void 0&&(Sa+=k(100*ei)+` Tz
`),Re.lang;var As=-1,Am=Re.renderingMode!==void 0?Re.renderingMode:Re.stroke,bh=ki.internal.getCurrentPageInfo().pageContext;switch(Am){case 0:case!1:case"fill":As=0;break;case 1:case!0:case"stroke":As=1;break;case 2:case"fillThenStroke":As=2;break;case 3:case"invisible":As=3;break;case 4:case"fillAndAddForClipping":As=4;break;case 5:case"strokeAndAddPathForClipping":As=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":As=6;break;case 7:case"addToPathForClipping":As=7}var Np=bh.usedRenderingMode!==void 0?bh.usedRenderingMode:-1;As!==-1?Sa+=As+` Tr
`:Np!==-1&&(Sa+=`0 Tr
`),As!==-1&&(bh.usedRenderingMode=As),qt=Re.align||"left";var lo,Aa=Le*Ys,Vu=ki.internal.pageSize.getWidth(),yh=It[ut];yn=Re.charSpace||Ss,dn=Re.maxWidth||0,Fn=Object.assign({autoencode:!0,noBOM:!0},Re.flags);var Ql=[],Yu=function(Tn){return ki.getStringUnitWidth(Tn,{font:yh,charSpace:yn,fontSize:Le,doKerning:!1})*Le/Po};if(Object.prototype.toString.call(D)==="[object Array]"){var rs;St=Yl(D),qt!=="left"&&(lo=St.map(Yu));var Da,Gu=0;if(qt==="right"){ae-=lo[0],D=[],aa=St.length;for(var Cs=0;Cs<aa;Cs++)Cs===0?(Da=pn(ae),rs=kr(Ee)):(Da=O(Gu-lo[Cs]),rs=-Aa),D.push([St[Cs],Da,rs]),Gu=lo[Cs]}else if(qt==="center"){ae-=lo[0]/2,D=[],aa=St.length;for(var Fo=0;Fo<aa;Fo++)Fo===0?(Da=pn(ae),rs=kr(Ee)):(Da=O((Gu-lo[Fo])/2),rs=-Aa),D.push([St[Fo],Da,rs]),Gu=lo[Fo]}else if(qt==="left"){D=[],aa=St.length;for(var ml=0;ml<aa;ml++)D.push(St[ml])}else if(qt==="justify"&&yh.encoding==="Identity-H"){D=[],aa=St.length,dn=dn!==0?dn:Vu;for(var zo=0,mi=0;mi<aa;mi++)if(rs=mi===0?kr(Ee):-Aa,Da=mi===0?pn(ae):zo,mi<aa-1){var qo=O((dn-lo[mi])/(St[mi].split(" ").length-1)),Yi=St[mi].split(" ");D.push([Yi[0]+" ",Da,rs]),zo=0;for(var Es=1;Es<Yi.length;Es++){var nd=(Yu(Yi[Es-1]+" "+Yi[Es])-Yu(Yi[Es]))*Po+qo;Es==Yi.length-1?D.push([Yi[Es],nd,0]):D.push([Yi[Es]+" ",nd,0]),zo-=nd}}else D.push([St[mi],Da,rs]);D.push(["",zo,0])}else{if(qt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],aa=St.length,dn=dn!==0?dn:Vu,mi=0;mi<aa;mi++)rs=mi===0?kr(Ee):-Aa,Da=mi===0?pn(ae):0,mi<aa-1?Ql.push(k(O((dn-lo[mi])/(St[mi].split(" ").length-1)))):Ql.push(0),D.push([St[mi],Da,rs])}}var gl=typeof Re.R2L=="boolean"?Re.R2L:Qe;gl===!0&&(D=Gl(D,function(Tn,On,zr){return[Tn.split("").reverse().join(""),On,zr]})),ct={text:D,x:ae,y:Ee,options:Re,mutex:{pdfEscape:fr,activeFontKey:ut,fonts:It,activeFontSize:Le}},wn.publish("postProcessText",ct),D=ct.text,Mo=ct.mutex.isHex||!1;var tf=It[ut].encoding;tf!=="WinAnsiEncoding"&&tf!=="StandardEncoding"||(D=Gl(D,function(Tn,On,zr){return[gh(Tn),On,zr]})),St=Yl(D),D=[];for(var Qu,Ku,Xu,rd=0,nf=1,Zu=Array.isArray(St[0])?nf:rd,Kl="",id=function(Tn,On,zr){var ji="";return zr instanceof Ot?(zr=typeof Re.angle=="number"?$n(zr,new Ot(1,0,0,1,Tn,On)):$n(new Ot(1,0,0,1,Tn,On),zr),N===C.ADVANCED&&(zr=$n(new Ot(1,0,0,-1,0,0),zr)),ji=zr.join(" ")+` Tm
`):ji=k(Tn)+" "+k(On)+` Td
`,ji},gi=0;gi<St.length;gi++){switch(Kl="",Zu){case nf:Xu=(Mo?"<":"(")+St[gi][0]+(Mo?">":")"),Qu=parseFloat(St[gi][1]),Ku=parseFloat(St[gi][2]);break;case rd:Xu=(Mo?"<":"(")+St[gi]+(Mo?">":")"),Qu=pn(ae),Ku=kr(Ee)}Ql!==void 0&&Ql[gi]!==void 0&&(Kl=Ql[gi]+` Tw
`),gi===0?D.push(Kl+id(Qu,Ku,li)+Xu):Zu===rd?D.push(Kl+Xu):Zu===nf&&D.push(Kl+id(Qu,Ku,li)+Xu)}D=Zu===rd?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var Gs=`BT
/`;return Gs+=ut+" "+Le+` Tf
`,Gs+=k(Le*Ys)+` TL
`,Gs+=$a+`
`,Gs+=Sa,Gs+=D,se(Gs+="ET"),b[ut]=!0,ki};var fl=m.__private__.clip=m.clip=function(D){return se(D==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return fl("evenodd")},m.__private__.discardPath=m.discardPath=function(){return se("n"),this};var _i=m.__private__.isValidStyle=function(D){var ae=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(ae=!0),ae};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(D){return _i(D)&&(d=D),this};var qa=m.__private__.getStyle=m.getStyle=function(D){var ae=d;switch(D){case"D":case"S":ae="S";break;case"F":ae="f";break;case"FD":case"DF":ae="B";break;case"f":case"f*":case"B":case"B*":ae=D}return ae},Do=m.close=function(){return se("h"),this};m.stroke=function(){return se("S"),this},m.fill=function(D){return Ba("f",D),this},m.fillEvenOdd=function(D){return Ba("f*",D),this},m.fillStroke=function(D){return Ba("B",D),this},m.fillStrokeEvenOdd=function(D){return Ba("B*",D),this};var Ba=function(D,ae){Zr(ae)==="object"?Lo(ae,D):se(D)},Ia=function(D){D===null||N===C.ADVANCED&&D===void 0||(D=qa(D),se(D))};function Ua(D,ae,Ee,Re,We){var ct=new T0(ae||this.boundingBox,Ee||this.xStep,Re||this.yStep,this.gState,We||this.matrix);ct.stream=this.stream;var St=D+"$$"+this.cloneIndex+++"$$";return Mr(St,ct),ct}var Lo=function(D,ae){var Ee=Mn[D.key],Re=sn[Ee];if(Re instanceof Wh)se("q"),se(hl(ae)),Re.gState&&m.setGState(Re.gState),se(D.matrix.toString()+" cm"),se("/"+Ee+" sh"),se("Q");else if(Re instanceof T0){var We=new Ot(1,0,0,-1,0,$u());D.matrix&&(We=We.multiply(D.matrix||ir),Ee=Ua.call(Re,D.key,D.boundingBox,D.xStep,D.yStep,We).id),se("q"),se("/Pattern cs"),se("/"+Ee+" scn"),Re.gState&&m.setGState(Re.gState),se(ae),se("Q")}},hl=function(D){switch(D){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},oo=m.moveTo=function(D,ae){return se(k(O(D))+" "+k(j(ae))+" m"),this},ws=m.lineTo=function(D,ae){return se(k(O(D))+" "+k(j(ae))+" l"),this},$=m.curveTo=function(D,ae,Ee,Re,We,ct){return se([k(O(D)),k(j(ae)),k(O(Ee)),k(j(Re)),k(O(We)),k(j(ct)),"c"].join(" ")),this};m.__private__.line=m.line=function(D,ae,Ee,Re,We){if(isNaN(D)||isNaN(ae)||isNaN(Ee)||isNaN(Re)||!_i(We))throw new Error("Invalid arguments passed to jsPDF.line");return N===C.COMPAT?this.lines([[Ee-D,Re-ae]],D,ae,[1,1],We||"S"):this.lines([[Ee-D,Re-ae]],D,ae,[1,1]).stroke()},m.__private__.lines=m.lines=function(D,ae,Ee,Re,We,ct){var St,Nt,qt,yn,dn,Fn,ei,li,ki,Ni,Sa,Mo;if(typeof D=="number"&&(Mo=Ee,Ee=ae,ae=D,D=Mo),Re=Re||[1,1],ct=ct||!1,isNaN(ae)||isNaN(Ee)||!Array.isArray(D)||!Array.isArray(Re)||!_i(We)||typeof ct!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(oo(ae,Ee),St=Re[0],Nt=Re[1],yn=D.length,Ni=ae,Sa=Ee,qt=0;qt<yn;qt++)(dn=D[qt]).length===2?(Ni=dn[0]*St+Ni,Sa=dn[1]*Nt+Sa,ws(Ni,Sa)):(Fn=dn[0]*St+Ni,ei=dn[1]*Nt+Sa,li=dn[2]*St+Ni,ki=dn[3]*Nt+Sa,Ni=dn[4]*St+Ni,Sa=dn[5]*Nt+Sa,$(Fn,ei,li,ki,Ni,Sa));return ct&&Do(),Ia(We),this},m.path=function(D){for(var ae=0;ae<D.length;ae++){var Ee=D[ae],Re=Ee.c;switch(Ee.op){case"m":oo(Re[0],Re[1]);break;case"l":ws(Re[0],Re[1]);break;case"c":$.apply(this,Re);break;case"h":Do()}}return this},m.__private__.rect=m.rect=function(D,ae,Ee,Re,We){if(isNaN(D)||isNaN(ae)||isNaN(Ee)||isNaN(Re)||!_i(We))throw new Error("Invalid arguments passed to jsPDF.rect");return N===C.COMPAT&&(Re=-Re),se([k(O(D)),k(j(ae)),k(O(Ee)),k(O(Re)),"re"].join(" ")),Ia(We),this},m.__private__.triangle=m.triangle=function(D,ae,Ee,Re,We,ct,St){if(isNaN(D)||isNaN(ae)||isNaN(Ee)||isNaN(Re)||isNaN(We)||isNaN(ct)||!_i(St))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-D,Re-ae],[We-Ee,ct-Re],[D-We,ae-ct]],D,ae,[1,1],St,!0),this},m.__private__.roundedRect=m.roundedRect=function(D,ae,Ee,Re,We,ct,St){if(isNaN(D)||isNaN(ae)||isNaN(Ee)||isNaN(Re)||isNaN(We)||isNaN(ct)||!_i(St))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Nt=4/3*(Math.SQRT2-1);return We=Math.min(We,.5*Ee),ct=Math.min(ct,.5*Re),this.lines([[Ee-2*We,0],[We*Nt,0,We,ct-ct*Nt,We,ct],[0,Re-2*ct],[0,ct*Nt,-We*Nt,ct,-We,ct],[2*We-Ee,0],[-We*Nt,0,-We,-ct*Nt,-We,-ct],[0,2*ct-Re],[0,-ct*Nt,We*Nt,-ct,We,-ct]],D+We,ae,[1,1],St,!0),this},m.__private__.ellipse=m.ellipse=function(D,ae,Ee,Re,We){if(isNaN(D)||isNaN(ae)||isNaN(Ee)||isNaN(Re)||!_i(We))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ct=4/3*(Math.SQRT2-1)*Ee,St=4/3*(Math.SQRT2-1)*Re;return oo(D+Ee,ae),$(D+Ee,ae-St,D+ct,ae-Re,D,ae-Re),$(D-ct,ae-Re,D-Ee,ae-St,D-Ee,ae),$(D-Ee,ae+St,D-ct,ae+Re,D,ae+Re),$(D+ct,ae+Re,D+Ee,ae+St,D+Ee,ae),Ia(We),this},m.__private__.circle=m.circle=function(D,ae,Ee,Re){if(isNaN(D)||isNaN(ae)||isNaN(Ee)||!_i(Re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,ae,Ee,Ee,Re)},m.setFont=function(D,ae,Ee){return Ee&&(ae=R(ae,Ee)),ut=$s(D,ae,{disableWarning:!1}),this};var me=m.__private__.getFont=m.getFont=function(){return It[$s.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var D,ae,Ee={};for(D in Gt)if(Gt.hasOwnProperty(D))for(ae in Ee[D]=[],Gt[D])Gt[D].hasOwnProperty(ae)&&Ee[D].push(ae);return Ee},m.addFont=function(D,ae,Ee,Re,We){var ct=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ct.indexOf(arguments[3])!==-1?We=arguments[3]:arguments[3]&&ct.indexOf(arguments[3])==-1&&(Ee=R(Ee,Re)),We=We||"Identity-H",Fa.call(this,D,ae,Ee,We)};var Te,at=e.lineWidth||.200025,Qt=m.__private__.getLineWidth=m.getLineWidth=function(){return at},Ft=m.__private__.setLineWidth=m.setLineWidth=function(D){return at=D,se(k(O(D))+" w"),this};m.__private__.setLineDash=an.API.setLineDash=an.API.setLineDashPattern=function(D,ae){if(D=D||[],ae=ae||0,isNaN(ae)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(Ee){return k(O(Ee))}).join(" "),ae=k(O(ae)),se("["+D+"] "+ae+" d"),this};var kn=m.__private__.getLineHeight=m.getLineHeight=function(){return Le*Te};m.__private__.getLineHeight=m.getLineHeight=function(){return Le*Te};var Sn=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(Te=D),this},hr=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Te};Sn(e.lineHeight);var pn=m.__private__.getHorizontalCoordinate=function(D){return O(D)},kr=m.__private__.getVerticalCoordinate=function(D){return N===C.ADVANCED?D:Ht[B].mediaBox.topRightY-Ht[B].mediaBox.bottomLeftY-O(D)},wa=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(D){return k(pn(D))},wr=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(D){return k(kr(D))},Sr=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Hi(Sr)},m.__private__.setStrokeColor=m.setDrawColor=function(D,ae,Ee,Re){return Sr=Wi({ch1:D,ch2:ae,ch3:Ee,ch4:Re,pdfColorType:"draw",precision:2}),se(Sr),this};var Qr=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Hi(Qr)},m.__private__.setFillColor=m.setFillColor=function(D,ae,Ee,Re){return Qr=Wi({ch1:D,ch2:ae,ch3:Ee,ch4:Re,pdfColorType:"fill",precision:2}),se(Qr),this};var $a=e.textColor||"0 g",Vs=m.__private__.getTextColor=m.getTextColor=function(){return Hi($a)};m.__private__.setTextColor=m.setTextColor=function(D,ae,Ee,Re){return $a=Wi({ch1:D,ch2:ae,ch3:Ee,ch4:Re,pdfColorType:"text",precision:3}),this};var Ss=e.charSpace,Yd=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Ss||0)};m.__private__.setCharSpace=m.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ss=D,this};var pl=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(D){var ae=m.CapJoinStyles[D];if(ae===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pl=ae,se(ae+" J"),this};var Ro=0;m.__private__.setLineJoin=m.setLineJoin=function(D){var ae=m.CapJoinStyles[D];if(ae===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ro=ae,se(ae+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(k(O(D))+" M"),this},m.GState=Gx,m.setGState=function(D){(D=typeof D=="string"?Pn[Gr[D]]:kp(null,D)).equals(rr)||(se("/"+D.id+" gs"),rr=D)};var kp=function(D,ae){if(!D||!Gr[D]){var Ee=!1;for(var Re in Pn)if(Pn.hasOwnProperty(Re)&&Pn[Re].equals(ae)){Ee=!0;break}if(Ee)ae=Pn[Re];else{var We="GS"+(Object.keys(Pn).length+1).toString(10);Pn[We]=ae,ae.id=We}return D&&(Gr[D]=ae.id),wn.publish("addGState",ae),ae}};m.addGState=function(D,ae){return kp(D,ae),this},m.saveGraphicsState=function(){return se("q"),Jt.push({key:ut,size:Le,color:$a}),this},m.restoreGraphicsState=function(){se("Q");var D=Jt.pop();return ut=D.key,Le=D.size,$a=D.color,rr=null,this},m.setCurrentTransformationMatrix=function(D){return se(D.toString()+" cm"),this},m.comment=function(D){return se("#"+D),this};var Gd=function(D,ae){var Ee=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(ct){isNaN(ct)||(Ee=parseFloat(ct))}});var Re=ae||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Re},set:function(ct){isNaN(ct)||(Re=parseFloat(ct))}});var We="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return We},set:function(ct){We=ct.toString()}}),this},hh=function(D,ae,Ee,Re){Gd.call(this,D,ae),this.type="rect";var We=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return We},set:function(St){isNaN(St)||(We=parseFloat(St))}});var ct=Re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ct},set:function(St){isNaN(St)||(ct=parseFloat(St))}}),this},ph=function(){this.page=Dn,this.currentPage=B,this.pages=Ie.slice(0),this.pagesContext=Ht.slice(0),this.x=Dt,this.y=Et,this.matrix=$t,this.width=Zc(B),this.height=$u(B),this.outputDestination=He,this.id="",this.objectNumber=-1};ph.prototype.restore=function(){Dn=this.page,B=this.currentPage,Ht=this.pagesContext,Ie=this.pages,Dt=this.x,Et=this.y,$t=this.matrix,Xd(B,this.width),mh(B,this.height),He=this.outputDestination};var Qd=function(D,ae,Ee,Re,We){va.push(new ph),Dn=B=0,Ie=[],Dt=D,Et=ae,$t=We,Oo([Ee,Re])},Sm=function(D){if(si[D])va.pop().restore();else{var ae=new ph,Ee="Xo"+(Object.keys(vr).length+1).toString(10);ae.id=Ee,si[D]=Ee,vr[Ee]=ae,wn.publish("addFormObject",ae),va.pop().restore()}};for(var Kd in m.beginFormObject=function(D,ae,Ee,Re,We){return Qd(D,ae,Ee,Re,We),this},m.endFormObject=function(D){return Sm(D),this},m.doFormObject=function(D,ae){var Ee=vr[si[D]];return se("q"),se(ae.toString()+" cm"),se("/"+Ee.id+" Do"),se("Q"),this},m.getFormObject=function(D){var ae=vr[si[D]];return{x:ae.x,y:ae.y,width:ae.width,height:ae.height,matrix:ae.matrix}},m.save=function(D,ae){return D=D||"generated.pdf",(ae=ae||{}).returnPromise=ae.returnPromise||!1,ae.returnPromise===!1?($h(cl(Hs()),D),typeof $h.unload=="function"&&ln.setTimeout&&setTimeout($h.unload,911),this):new Promise(function(Ee,Re){try{var We=$h(cl(Hs()),D);typeof $h.unload=="function"&&ln.setTimeout&&setTimeout($h.unload,911),Ee(We)}catch(ct){Re(ct.message)}})},an.API)an.API.hasOwnProperty(Kd)&&(Kd==="events"&&an.API.events.length?function(D,ae){var Ee,Re,We;for(We=ae.length-1;We!==-1;We--)Ee=ae[We][0],Re=ae[We][1],D.subscribe.apply(D,[Ee].concat(typeof Re=="function"?[Re]:Re))}(wn,an.API.events):m[Kd]=an.API[Kd]);var Zc=m.getPageWidth=function(D){return(Ht[D=D||B].mediaBox.topRightX-Ht[D].mediaBox.bottomLeftX)/Ze},Xd=m.setPageWidth=function(D,ae){Ht[D].mediaBox.topRightX=ae*Ze+Ht[D].mediaBox.bottomLeftX},$u=m.getPageHeight=function(D){return(Ht[D=D||B].mediaBox.topRightY-Ht[D].mediaBox.bottomLeftY)/Ze},mh=m.setPageHeight=function(D,ae){Ht[D].mediaBox.topRightY=ae*Ze+Ht[D].mediaBox.bottomLeftY};return m.internal={pdfEscape:fr,getStyle:qa,getFont:me,getFontSize:_e,getCharSpace:Yd,getTextColor:Vs,getLineHeight:kn,getLineHeightFactor:hr,getLineWidth:Qt,write:he,getHorizontalCoordinate:pn,getVerticalCoordinate:kr,getCoordinateString:wa,getVerticalCoordinateString:wr,collections:{},newObject:cr,newAdditionalObject:gs,newObjectDeferred:dr,newObjectDeferredBegin:Bn,getFilters:Xn,putStream:Ei,events:wn,scaleFactor:Ze,pageSize:{getWidth:function(){return Zc(B)},setWidth:function(D){Xd(B,D)},getHeight:function(){return $u(B)},setHeight:function(D){mh(B,D)}},encryptionOptions:h,encryption:oi,getEncryptor:Jr,output:Ws,getNumberOfPages:Bu,pages:Ie,out:se,f2:Q,f3:T,getPageInfo:vs,getPageInfoByObjId:Xt,getCurrentPageInfo:so,getPDFVersion:y,Point:Gd,Rectangle:hh,Matrix:Ot,hasHotfix:dl},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Zc(B)},set:function(D){Xd(B,D)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return $u(B)},set:function(D){mh(B,D)},enumerable:!0,configurable:!0}),Wl.call(m,we),ut="F1",Vl(i,t),wn.publish("initialized"),m}N0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},N0.prototype.toHexString=function(e){return e.split("").map(function(n){return("0"+(255&n.charCodeAt(0)).toString(16)).slice(-2)}).join("")},N0.prototype.hexToBytes=function(e){for(var n=[],t=0;t<e.length;t+=2)n.push(String.fromCharCode(parseInt(e.substr(t,2),16)));return n.join("")},N0.prototype.processOwnerPassword=function(e,n){return PS(MS(n).substr(0,5),e)},N0.prototype.encryptor=function(e,n){var t=MS(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&n,n>>8&255)).substr(0,10);return function(r){return PS(t,r)}},Gx.prototype.equals=function(e){var n,t="id,objectNumber,equals";if(!e||Zr(e)!==Zr(this))return!1;var r=0;for(n in this)if(!(t.indexOf(n)>=0)){if(this.hasOwnProperty(n)&&!e.hasOwnProperty(n)||this[n]!==e[n])return!1;r++}for(n in e)e.hasOwnProperty(n)&&t.indexOf(n)<0&&r--;return r===0},an.API={events:[]},an.version="3.0.1";var ta=an.API,mA=1,Cp=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},s0=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},vn=function(e){return e.toFixed(2)},Of=function(e){return e.toFixed(5)};ta.__acroform__={};var jo=function(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e},Hk=function(e){return e*mA},mc=function(e){var n=new rI,t=Pt.internal.getHeight(e)||0,r=Pt.internal.getWidth(e)||0;return n.BBox=[0,0,Number(vn(r)),Number(vn(t))],n},oK=ta.__acroform__.setBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<n},lK=ta.__acroform__.clearBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<n)},uK=ta.__acroform__.getBit=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<n)==0?0:1},da=ta.__acroform__.getBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return uK(e,n-1)},fa=ta.__acroform__.setBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return oK(e,n-1)},ha=ta.__acroform__.clearBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return lK(e,n-1)},cK=ta.__acroform__.calculateCoordinates=function(e,n){var t=n.internal.getHorizontalCoordinate,r=n.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],l=e[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=r(a+l)||0,c.upperRight_X=t(i+s)||0,c.upperRight_Y=r(a)||0,[Number(vn(c.lowerLeft_X)),Number(vn(c.lowerLeft_Y)),Number(vn(c.upperRight_X)),Number(vn(c.upperRight_Y))]},dK=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var n=[],t=e._V||e.DV,r=FS(e,t),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;n.push("/Tx BMC"),n.push("q"),n.push("BT"),n.push(e.scope.__private__.encodeColorString(e.color)),n.push("/"+i+" "+vn(r.fontSize)+" Tf"),n.push("1 0 0 1 0 0 Tm"),n.push(r.text),n.push("ET"),n.push("Q"),n.push("EMC");var a=mc(e);return a.scope=e.scope,a.stream=n.join(`
`),a}},FS=function(e,n){var t=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(n=(n=n.substr(0,1)=="("?n.substr(1):n).substr(n.length-1)==")"?n.substr(0,n.length-1):n).split(" ");i=e.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var a=t,s=Pt.internal.getHeight(e)||0;s=s<0?-s:s;var l=Pt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(T,O,L){if(T+1<i.length){var j=O+" "+i[T+1][0];return zy(j,e,L).width<=l-4}return!1};a++;e:for(;a>0;){n="",a--;var d,h,g=zy("3",e,a).height,b=e.multiline?s-a:(s-g)/2,m=b+=2,x=0,y=0,A=0;if(a<=0){n=`(...) Tj
`,n+="% Width of Text: "+zy(n,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var w="",C=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var P=!1;if(i[N].length!==1&&A!==i[N].length-1){if((g+2)*(C+2)+2>s)continue e;w+=i[N][A],P=!0,y=N,N--}else{w=(w+=i[N][A]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var F=parseInt(N),R=c(F,w,a),k=N>=i.length-1;if(R&&!k){w+=" ",A=0;continue}if(R||k){if(k)y=F;else if(e.multiline&&(g+2)*(C+2)+2>s)continue e}else{if(!e.multiline||(g+2)*(C+2)+2>s)continue e;y=F}}for(var M="",q=x;q<=y;q++){var Q=i[q];if(e.multiline){if(q===y){M+=Q[A]+" ",A=(A+1)%Q.length;continue}if(q===x){M+=Q[Q.length-1]+" ";continue}}M+=Q[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,h=zy(M,e,a).width,e.textAlign){case"right":d=l-h-2;break;case"center":d=(l-h)/2;break;case"left":default:d=2}n+=vn(d)+" "+vn(m)+` Td
`,n+="("+Cp(M)+`) Tj
`,n+=-vn(d)+` 0 Td
`,m=-(a+2),h=0,x=P?y:y+1,C++,w=""}break}return r.text=n,r.fontSize=a,r},zy=function(e,n,t){var r=n.scope.internal.getFont(n.fontName,n.fontStyle),i=n.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:n.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},fK={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hK=function(e,n){var t={type:"reference",object:e};n.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&n.internal.getPageInfo(e.page).pageContext.annotations.push(t)},pK=function(e,n){for(var t in e)if(e.hasOwnProperty(t)){var r=t,i=e[t];n.internal.newObjectDeferredBegin(i.objId,!0),Zr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},mK=function(e,n){if(n.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Mu.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(fK)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");mA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new iI,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&hK(a,t)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(t){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var l=r[s],c=[],d=l.Rect;if(l.Rect&&(l.Rect=cK(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Pt.createDefaultAppearanceStream(l),Zr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=dK(l);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var g="";for(var b in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(b)){var m=l.appearanceStreamContent[b];if(g+="/"+b+" ",g+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var s in m)if(m.hasOwnProperty(s)){var x=m[s];typeof x=="function"&&(x=x.call(i,l)),g+="/"+s+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(i,l)),g+="/"+s+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);g+=">>"}c.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&pK(i.internal.acroformPlugin.xForms,i)})(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},nI=ta.__acroform__.arrayToPdfArray=function(e,n,t){var r=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Zr(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(n!==void 0&&t&&(r=t.internal.getEncryptor(n)),i+="("+Cp(r(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},fw=function(e,n,t){var r=function(i){return i};return n!==void 0&&t&&(r=t.internal.getEncryptor(n)),(e=e||"").toString(),e="("+Cp(r(e))+")"},jc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};jc.prototype.toString=function(){return this.objId+" 0 R"},jc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},jc.prototype.getKeyValueListForStream=function(){var e=[],n=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in n)if(Object.getOwnPropertyDescriptor(this,n[t]).configurable===!1){var r=n[t],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:nI(i,this.objId,this.scope)}):i instanceof jc?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var rI=function(){jc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,n=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};jo(rI,jc);var iI=function(){jc.call(this);var e,n=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return n.length>0?n:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return n}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Cp(t(e))+")"}},set:function(t){e=t}})};jo(iI,jc);var Mu=function e(){jc.call(this);var n=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');n=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!da(n,3)},set:function(w){w?this.F=fa(n,3):this.F=ha(n,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');t=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Qx)return;a="FieldObject"+e.FieldNum++}var w=function(C){return C};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Cp(w(a))+")"},set:function(w){a=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(w){a=w}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/mA:d},set:function(w){d=w}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(w){h=w}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Qx||this instanceof rp))return fw(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=w}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Qa?b:fw(b,this.objId,this.scope)},set:function(w){w=w.toString(),b=this instanceof Qa?w:w.substr(0,1)==="("?s0(w.substr(1,w.length-2)):s0(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qa?s0(b.substr(1,b.length-1)):b},set:function(w){w=w.toString(),b=this instanceof Qa?"/"+w:w}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Qa?m:fw(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=this instanceof Qa?w:w.substr(0,1)==="("?s0(w.substr(1,w.length-2)):s0(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qa?s0(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof Qa?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(w){w=!!w,y=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(w){x=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,1)},set:function(w){w?this.Ff=fa(this.Ff,1):this.Ff=ha(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,2)},set:function(w){w?this.Ff=fa(this.Ff,2):this.Ff=ha(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,3)},set:function(w){w?this.Ff=fa(this.Ff,3):this.Ff=ha(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');A=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(A){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};jo(Mu,jc);var P0=function(){Mu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var n=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return nI(n,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(a,s,l){l||(l=1);for(var c,d=[];c=s.exec(a);)d.push(c[l]);return d}(r,/\((.*?)\)/g)),n=i}}),this.getOptions=function(){return n},this.setOptions=function(t){n=t,this.sort&&n.sort()},this.addOption=function(t){t=(t=t||"").toString(),n.push(t),this.sort&&n.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();n.indexOf(t)!==-1&&(n.splice(n.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,18)},set:function(t){t?this.Ff=fa(this.Ff,18):this.Ff=ha(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=fa(this.Ff,19):this.Ff=ha(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,20)},set:function(t){t?(this.Ff=fa(this.Ff,20),n.sort()):this.Ff=ha(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,22)},set:function(t){t?this.Ff=fa(this.Ff,22):this.Ff=ha(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,23)},set:function(t){t?this.Ff=fa(this.Ff,23):this.Ff=ha(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,27)},set:function(t){t?this.Ff=fa(this.Ff,27):this.Ff=ha(this.Ff,27)}}),this.hasAppearanceStream=!1};jo(P0,Mu);var F0=function(){P0.call(this),this.fontName="helvetica",this.combo=!1};jo(F0,P0);var z0=function(){F0.call(this),this.combo=!0};jo(z0,F0);var ux=function(){z0.call(this),this.edit=!0};jo(ux,z0);var Qa=function(){Mu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,15)},set:function(t){t?this.Ff=fa(this.Ff,15):this.Ff=ha(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,16)},set:function(t){t?this.Ff=fa(this.Ff,16):this.Ff=ha(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,17)},set:function(t){t?this.Ff=fa(this.Ff,17):this.Ff=ha(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,26)},set:function(t){t?this.Ff=fa(this.Ff,26):this.Ff=ha(this.Ff,26)}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(n).length!==0){var r,i=[];for(r in i.push("<<"),n)i.push("/"+r+" ("+Cp(t(n[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Zr(t)==="object"&&(n=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(t){typeof t=="string"&&(n.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};jo(Qa,Mu);var cx=function(){Qa.call(this),this.pushButton=!0};jo(cx,Qa);var q0=function(){Qa.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n!==void 0?n:[]}})};jo(q0,Qa);var Qx=function(){var e,n;Mu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(i){n=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+Cp(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Zr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Pt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};jo(Qx,Mu),q0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var n in this.Kids)if(this.Kids.hasOwnProperty(n)){var t=this.Kids[n];t.appearanceStreamContent=e.createAppearanceStream(t.optionName),t.caption=e.getCA()}},q0.prototype.createOption=function(e){var n=new Qx;return n.Parent=this,n.optionName=e,this.Kids.push(n),gK.call(this.scope,n),n};var dx=function(){Qa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Pt.CheckBox.createAppearanceStream()};jo(dx,Qa);var rp=function(){Mu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,13)},set:function(n){n?this.Ff=fa(this.Ff,13):this.Ff=ha(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,21)},set:function(n){n?this.Ff=fa(this.Ff,21):this.Ff=ha(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,23)},set:function(n){n?this.Ff=fa(this.Ff,23):this.Ff=ha(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,24)},set:function(n){n?this.Ff=fa(this.Ff,24):this.Ff=ha(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,25)},set:function(n){n?this.Ff=fa(this.Ff,25):this.Ff=ha(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,26)},set:function(n){n?this.Ff=fa(this.Ff,26):this.Ff=ha(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){Number.isInteger(n)&&(e=n)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};jo(rp,Mu);var fx=function(){rp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,14)},set:function(e){e?this.Ff=fa(this.Ff,14):this.Ff=ha(this.Ff,14)}}),this.password=!0};jo(fx,rp);var Pt={CheckBox:{createAppearanceStream:function(){return{N:{On:Pt.CheckBox.YesNormal},D:{On:Pt.CheckBox.YesPushDown,Off:Pt.CheckBox.OffPushDown}}},YesPushDown:function(e){var n=mc(e);n.scope=e.scope;var t=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=FS(e,e.caption);return t.push("0.749023 g"),t.push("0 0 "+vn(Pt.internal.getWidth(e))+" "+vn(Pt.internal.getHeight(e))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+vn(a.fontSize)+" Tf "+i),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),n.stream=t.join(`
`),n},YesNormal:function(e){var n=mc(e);n.scope=e.scope;var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=Pt.internal.getHeight(e),s=Pt.internal.getWidth(e),l=FS(e,e.caption);return i.push("1 g"),i.push("0 0 "+vn(s)+" "+vn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+vn(s-1)+" "+vn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+vn(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),n.stream=i.join(`
`),n},OffPushDown:function(e){var n=mc(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+vn(Pt.internal.getWidth(e))+" "+vn(Pt.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join(`
`),n}},RadioButton:{Circle:{createAppearanceStream:function(e){var n={D:{Off:Pt.RadioButton.Circle.OffPushDown},N:{}};return n.N[e]=Pt.RadioButton.Circle.YesNormal,n.D[e]=Pt.RadioButton.Circle.YesPushDown,n},getCA:function(){return"l"},YesNormal:function(e){var n=mc(e);n.scope=e.scope;var t=[],r=Pt.internal.getWidth(e)<=Pt.internal.getHeight(e)?Pt.internal.getWidth(e)/4:Pt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Pt.internal.Bezier_C,a=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Of(Pt.internal.getWidth(e)/2)+" "+Of(Pt.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n},YesPushDown:function(e){var n=mc(e);n.scope=e.scope;var t=[],r=Pt.internal.getWidth(e)<=Pt.internal.getHeight(e)?Pt.internal.getWidth(e)/4:Pt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Pt.internal.Bezier_C).toFixed(5)),s=Number((r*Pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Of(Pt.internal.getWidth(e)/2)+" "+Of(Pt.internal.getHeight(e)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Of(Pt.internal.getWidth(e)/2)+" "+Of(Pt.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n},OffPushDown:function(e){var n=mc(e);n.scope=e.scope;var t=[],r=Pt.internal.getWidth(e)<=Pt.internal.getHeight(e)?Pt.internal.getWidth(e)/4:Pt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Of(Pt.internal.getWidth(e)/2)+" "+Of(Pt.internal.getHeight(e)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n}},Cross:{createAppearanceStream:function(e){var n={D:{Off:Pt.RadioButton.Cross.OffPushDown},N:{}};return n.N[e]=Pt.RadioButton.Cross.YesNormal,n.D[e]=Pt.RadioButton.Cross.YesPushDown,n},getCA:function(){return"8"},YesNormal:function(e){var n=mc(e);n.scope=e.scope;var t=[],r=Pt.internal.calculateCross(e);return t.push("q"),t.push("1 1 "+vn(Pt.internal.getWidth(e)-2)+" "+vn(Pt.internal.getHeight(e)-2)+" re"),t.push("W"),t.push("n"),t.push(vn(r.x1.x)+" "+vn(r.x1.y)+" m"),t.push(vn(r.x2.x)+" "+vn(r.x2.y)+" l"),t.push(vn(r.x4.x)+" "+vn(r.x4.y)+" m"),t.push(vn(r.x3.x)+" "+vn(r.x3.y)+" l"),t.push("s"),t.push("Q"),n.stream=t.join(`
`),n},YesPushDown:function(e){var n=mc(e);n.scope=e.scope;var t=Pt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+vn(Pt.internal.getWidth(e))+" "+vn(Pt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+vn(Pt.internal.getWidth(e)-2)+" "+vn(Pt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(vn(t.x1.x)+" "+vn(t.x1.y)+" m"),r.push(vn(t.x2.x)+" "+vn(t.x2.y)+" l"),r.push(vn(t.x4.x)+" "+vn(t.x4.y)+" m"),r.push(vn(t.x3.x)+" "+vn(t.x3.y)+" l"),r.push("s"),r.push("Q"),n.stream=r.join(`
`),n},OffPushDown:function(e){var n=mc(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+vn(Pt.internal.getWidth(e))+" "+vn(Pt.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join(`
`),n}}},createDefaultAppearanceStream:function(e){var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,t=e.scope.__private__.encodeColorString(e.color);return"/"+n+" "+e.fontSize+" Tf "+t}};Pt.internal={Bezier_C:.551915024494,calculateCross:function(e){var n=Pt.internal.getWidth(e),t=Pt.internal.getHeight(e),r=Math.min(n,t);return{x1:{x:(n-r)/2,y:(t-r)/2+r},x2:{x:(n-r)/2+r,y:(t-r)/2},x3:{x:(n-r)/2,y:(t-r)/2},x4:{x:(n-r)/2+r,y:(t-r)/2+r}}}},Pt.internal.getWidth=function(e){var n=0;return Zr(e)==="object"&&(n=Hk(e.Rect[2])),n},Pt.internal.getHeight=function(e){var n=0;return Zr(e)==="object"&&(n=Hk(e.Rect[3])),n};var gK=ta.addField=function(e){if(mK(this,e),!(e instanceof Mu))throw new Error("Invalid argument passed to jsPDF.addField.");var n;return(n=e).scope.internal.acroformPlugin.printedOut&&(n.scope.internal.acroformPlugin.printedOut=!1,n.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),n.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(n),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ta.AcroFormChoiceField=P0,ta.AcroFormListBox=F0,ta.AcroFormComboBox=z0,ta.AcroFormEditBox=ux,ta.AcroFormButton=Qa,ta.AcroFormPushButton=cx,ta.AcroFormRadioButton=q0,ta.AcroFormCheckBox=dx,ta.AcroFormTextField=rp,ta.AcroFormPasswordField=fx,ta.AcroFormAppearance=Pt,ta.AcroForm={ChoiceField:P0,ListBox:F0,ComboBox:z0,EditBox:ux,Button:Qa,PushButton:cx,RadioButton:q0,CheckBox:dx,TextField:rp,PasswordField:fx,Appearance:Pt},an.AcroForm={ChoiceField:P0,ListBox:F0,ComboBox:z0,EditBox:ux,Button:Qa,PushButton:cx,RadioButton:q0,CheckBox:dx,TextField:rp,PasswordField:fx,Appearance:Pt};an.AcroForm;function aI(e){return e.reduce(function(n,t,r){return n[t]=r,n},{})}(function(e){e.__addimage__={};var n="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(T,O){var L,j,X,H,G,ee=n;if((O=O||n)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(R(T))for(G in t)for(X=t[G],L=0;L<X.length;L+=1){for(H=!0,j=0;j<X[L].length;j+=1)if(X[L][j]!==void 0&&X[L][j]!==T[j]){H=!1;break}if(H===!0){ee=G;break}}else for(G in t)for(X=t[G],L=0;L<X.length;L+=1){for(H=!0,j=0;j<X[L].length;j+=1)if(X[L][j]!==void 0&&X[L][j]!==T.charCodeAt(j)){H=!1;break}if(H===!0){ee=G;break}}return ee===n&&O!==n&&(ee=O),ee},i=function T(O){for(var L=this.internal.write,j=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var H=[];if(H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Image"}),H.push({key:"Width",value:O.width}),H.push({key:"Height",value:O.height}),O.colorSpace===A.INDEXED?H.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(H.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===A.DEVICE_CMYK&&H.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),H.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&H.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var G="",ee=0,le=O.transparency.length;ee<le;ee++)G+=O.transparency[ee]+" "+O.transparency[ee]+" ";H.push({key:"Mask",value:"["+G+"]"})}O.sMask!==void 0&&H.push({key:"SMask",value:O.objectId+1+" 0 R"});var Y=O.filter!==void 0?["/"+O.filter]:void 0;if(j({data:O.data,additionalKeyValues:H,alreadyAppliedFilters:Y,objectId:O.objectId}),L("endobj"),"sMask"in O&&O.sMask!==void 0){var te="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,U={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:te,data:O.sMask};"filter"in O&&(U.filter=O.filter),T.call(this,U)}if(O.colorSpace===A.INDEXED){var B=this.internal.newObject();j({data:M(new Uint8Array(O.palette)),objectId:B}),L("endobj")}},a=function(){var T=this.internal.collections.addImage_images;for(var O in T)i.call(this,T[O])},s=function(){var T,O=this.internal.collections.addImage_images,L=this.internal.write;for(var j in O)L("/I"+(T=O[j]).index,T.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var T=this.internal.collections.addImage_images;return l.call(this),T},d=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(T){return typeof e["process"+T.toUpperCase()]=="function"},g=function(T){return Zr(T)==="object"&&T.nodeType===1},b=function(T,O){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var L=""+T.getAttribute("src");if(L.indexOf("data:image/")===0)return ag(unescape(L).split("base64,").pop());var j=e.loadFile(L,!0);if(j!==void 0)return j}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var X;switch(O){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;case"JPEG":case"JPG":default:X="image/jpeg"}return ag(T.toDataURL(X,1).split("base64,").pop())}},m=function(T){var O=this.internal.collections.addImage_images;if(O){for(var L in O)if(T===O[L].alias)return O[L]}},x=function(T,O,L){return T||O||(T=-96,O=-96),T<0&&(T=-1*L.width*72/T/this.internal.scaleFactor),O<0&&(O=-1*L.height*72/O/this.internal.scaleFactor),T===0&&(T=O*L.width/L.height),O===0&&(O=T*L.height/L.width),[T,O]},y=function(T,O,L,j,X,H){var G=x.call(this,L,j,X),ee=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,Y=c.call(this);if(L=G[0],j=G[1],Y[X.index]=X,H){H*=Math.PI/180;var te=Math.cos(H),U=Math.sin(H),B=function(Z){return Z.toFixed(4)},re=[B(te),B(U),B(-1*U),B(te),0,0,"cm"]}this.internal.write("q"),H?(this.internal.write([1,"0","0",1,ee(T),le(O+j),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([ee(L),"0","0",ee(j),"0","0","cm"].join(" "))):this.internal.write([ee(L),"0","0",ee(j),ee(T),le(O+j),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},A=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=e.__addimage__.sHashCode=function(T){var O,L,j=0;if(typeof T=="string")for(L=T.length,O=0;O<L;O++)j=(j<<5)-j+T.charCodeAt(O),j|=0;else if(R(T))for(L=T.byteLength/2,O=0;O<L;O++)j=(j<<5)-j+T[O],j|=0;return j},N=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var O=!0;return T.length===0&&(O=!1),T.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(O=!1),O},P=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var O=T.indexOf(",");return O<0?null:T.substring(0,O).trim().endsWith("base64")?T.substring(O+1):null},F=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(T){return F()&&T instanceof ArrayBuffer};var R=e.__addimage__.isArrayBufferView=function(T){return F()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},k=e.__addimage__.binaryStringToUint8Array=function(T){for(var O=T.length,L=new Uint8Array(O),j=0;j<O;j++)L[j]=T.charCodeAt(j);return L},M=e.__addimage__.arrayBufferToBinaryString=function(T){for(var O="",L=R(T)?T:new Uint8Array(T),j=0;j<L.length;j+=8192)O+=String.fromCharCode.apply(null,L.subarray(j,j+8192));return O};e.addImage=function(){var T,O,L,j,X,H,G,ee,le;if(typeof arguments[1]=="number"?(O=n,L=arguments[1],j=arguments[2],X=arguments[3],H=arguments[4],G=arguments[5],ee=arguments[6],le=arguments[7]):(O=arguments[1],L=arguments[2],j=arguments[3],X=arguments[4],H=arguments[5],G=arguments[6],ee=arguments[7],le=arguments[8]),Zr(T=arguments[0])==="object"&&!g(T)&&"imageData"in T){var Y=T;T=Y.imageData,O=Y.format||O||n,L=Y.x||L||0,j=Y.y||j||0,X=Y.w||Y.width||X,H=Y.h||Y.height||H,G=Y.alias||G,ee=Y.compression||ee,le=Y.rotation||Y.angle||le}var te=this.internal.getFilters();if(ee===void 0&&te.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(L)||isNaN(j))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var U=q.call(this,T,O,G,ee);return y.call(this,L,j,X,H,U,le),this};var q=function(T,O,L,j){var X,H,G;if(typeof T=="string"&&r(T)===n){T=unescape(T);var ee=Q(T,!1);(ee!==""||(ee=e.loadFile(T,!0))!==void 0)&&(T=ee)}if(g(T)&&(T=b(T,O)),O=r(T,O),!h(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((G=L)==null||G.length===0)&&(L=function(le){return typeof le=="string"||R(le)?C(le):R(le.data)?C(le.data):null}(T)),(X=m.call(this,L))||(F()&&(T instanceof Uint8Array||O==="RGBA"||(H=T,T=k(T))),X=this["process"+O.toUpperCase()](T,d.call(this),L,function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in e.image_compression?le:w.NONE}(j),H)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},Q=e.__addimage__.convertBase64ToBinaryString=function(T,O){O=typeof O!="boolean"||O;var L,j="";if(typeof T=="string"){var X;L=(X=P(T))!==null&&X!==void 0?X:T;try{j=ag(L)}catch(H){if(O)throw N(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+H.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return j};e.getImageProperties=function(T){var O,L,j="";if(g(T)&&(T=b(T)),typeof T=="string"&&r(T)===n&&((j=Q(T,!1))===""&&(j=e.loadFile(T)||""),T=j),L=r(T),!h(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(!F()||T instanceof Uint8Array||(T=k(T)),!(O=this["process"+L.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=L,O}})(an.API),function(e){var n=function(t){if(t!==void 0&&t!="")return!0};an.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(t){for(var r,i,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,h=!1,g=0;g<d.length&&!h;g++)switch((r=d[g]).type){case"link":(n(r.options.url)||n(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var b=0;b<d.length;b++){r=d[b];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(y.objId),C=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+m(w(r.contents))+")",a+=" /Popup "+A.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+m(w(C))+") >>",y.content=a;var N=y.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+N,r.open&&(a+=" /Open true"),a+=" >>",A.content=a,this.internal.write(y.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var P=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(x(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var F=this.annotations._nameMap[r.options.name];r.options.pageNumber=F.page,r.options.top=F.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var R=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+R+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},e.link=function(t,r,i,a,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(t),y:d(r),w:c(t+i),h:d(r+a)},options:s,type:"link"})},e.textWithLink=function(t,r,i,a){var s,l,c=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var h=this.splitTextToSize(t,l).length;s=Math.ceil(d*h)}else l=c,s=d;return this.text(t,r,i,a),i+=.2*d,a.align==="center"&&(r-=c/2),a.align==="right"&&(r-=c),this.link(r,i-d,l,s,a),c},e.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(an.API),function(e){var n={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(y){return n[y.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},l=e.__arabicParser__.isArabicEndLetter=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(y){return s(y)&&i.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length==4},g=e.__arabicParser__.resolveLigatures=function(y){var A=0,w=t,C="",N=0;for(A=0;A<y.length;A+=1)w[y.charCodeAt(A)]!==void 0?(N++,typeof(w=w[y.charCodeAt(A)])=="number"&&(C+=String.fromCharCode(w),w=t,N=0),A===y.length-1&&(w=t,C+=y.charAt(A-(N-1)),A-=N-1,N=0)):(w=t,C+=y.charAt(A-N),A-=N,N=0);return C};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var b=e.__arabicParser__.getCorrectForm=function(y,A,w){return s(y)?a(y)===!1?-1:!d(y)||!s(A)&&!s(w)||!s(w)&&l(A)||l(y)&&!s(A)||l(y)&&c(A)||l(y)&&l(A)?0:h(y)&&s(A)&&!l(A)&&s(w)&&d(w)?3:l(y)||!s(w)?1:2:-1},m=function(y){var A=0,w=0,C=0,N="",P="",F="",R=(y=y||"").split("\\s+"),k=[];for(A=0;A<R.length;A+=1){for(k.push(""),w=0;w<R[A].length;w+=1)N=R[A][w],P=R[A][w-1],F=R[A][w+1],s(N)?(C=b(N,P,F),k[A]+=C!==-1?String.fromCharCode(n[N.charCodeAt(0)][C]):N):k[A]+=N;k[A]=g(k[A])}return k.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var y,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(A)){var C=0;for(w=[],C=0;C<A.length;C+=1)Array.isArray(A[C])?w.push([m(A[C][0]),A[C][1],A[C][2]]):w.push([m(A[C])]);y=w}else y=m(A);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",x])}(an.API),an.API.autoPrint=function(e){var n;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+n+" 0 R")})}return this},function(e){var n=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};n.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},n.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new n,this.canvas.pdf=this}])}(an.API),function(e){var n={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},n),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(y){b=y}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(y){x=y}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){r.call(this);var h=(d=d||{}).fontSize||this.getFontSize(),g=d.font||this.getFont(),b=d.scaleFactor||this.internal.scaleFactor,m=0,x=0,y=0,A=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var w=d.maxWidth;w>0?typeof c=="string"?c=this.splitTextToSize(c,w):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,P){return N.concat(A.splitTextToSize(P,w))},[])):c=Array.isArray(c)?c:[c];for(var C=0;C<c.length;C++)m<(y=this.getStringUnitWidth(c[C],{font:g})*h)&&(m=y);return m!==0&&(x=c.length),{w:m/=b,h:Math.max((x*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/b,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||n;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,g=this.internal.__cell__.margins||n,b=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=g.top,m&&b&&(this.printHeaderRow(c.lineNumber,!0),c.y+=b[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,h,g,b){if(r.call(this),!h)throw new Error("No data for PDF table.");var m,x,y,A,w=[],C=[],N=[],P={},F={},R=[],k=[],M=(b=b||{}).autoSize||!1,q=b.printHeaders!==!1,Q=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,T=b.margins||Object.assign({width:this.getPageWidth()},n),O=typeof b.padding=="number"?b.padding:3,L=b.headerBackgroundColor||"#c8c8c8",j=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=q,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=Q,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=j,this.setFontSize(Q),g==null)C=w=Object.keys(h[0]),N=w.map(function(){return"left"});else if(Array.isArray(g)&&Zr(g[0])==="object")for(w=g.map(function(Y){return Y.name}),C=g.map(function(Y){return Y.prompt||Y.name||""}),N=g.map(function(Y){return Y.align||"left"}),m=0;m<g.length;m+=1)F[g[m].name]=g[m].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(C=w=g,N=w.map(function(){return"left"}));if(M||Array.isArray(g)&&typeof g[0]=="string")for(m=0;m<w.length;m+=1){for(P[A=w[m]]=h.map(function(Y){return Y[A]}),this.setFont(void 0,"bold"),R.push(this.getTextDimensions(C[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=P[A],this.setFont(void 0,"normal"),y=0;y<x.length;y+=1)R.push(this.getTextDimensions(x[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[A]=Math.max.apply(null,R)+O+O,R=[]}if(q){var X={};for(m=0;m<w.length;m+=1)X[w[m]]={},X[w[m]].text=C[m],X[w[m]].align=N[m];var H=l.call(this,X,F);k=w.map(function(Y){return new a(c,d,F[Y],H,X[Y].text,void 0,X[Y].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var G=g.reduce(function(Y,te){return Y[te.name]=te.align,Y},{});for(m=0;m<h.length;m+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:m,data:h[m]},this);var ee=l.call(this,h[m],F);for(y=0;y<w.length;y+=1){var le=h[m][w[y]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:m,col:y,data:le},this),s.call(this,new a(c,d,F[w[y]],ee,le,m+2,G[w[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var h=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(c).map(function(m){var x=c[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[m]-h-h)},this).map(function(m){return this.getLineHeightFactor()*m.length*g/b+h+h},this).reduce(function(m,x){return Math.max(m,x)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){h=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(h.y=this.internal.__cell__.margins.top||0,b.push(h)),h.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,h),this.setTextColor(x)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),t=!1}}(an.API);var sI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},oI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],zS=aI(oI),lI=[100,200,300,400,500,600,700,800,900],bK=aI(lI);function qS(e){var n=e.family.replace(/"|'/g,"").toLowerCase(),t=function(a){return sI[a=a||"normal"]?a:"normal"}(e.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(a){return typeof zS[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:n,style:t,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:n,style:[i,t,r].join(" ")}}}function Wk(e,n,t,r){var i;for(i=t;i>=0&&i<n.length;i+=r)if(e[n[i]])return e[n[i]];for(i=t;i>=0&&i<n.length;i-=r)if(e[n[i]])return e[n[i]]}var yK={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Vk={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Yk(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function xK(e,n,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},yK,t.genericFontFamilies||{}),a=null,s=null,l=0;l<n.length;++l)if(i[(a=qS(n[l])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){s=e[a.family];break}if(!(s=s||e[r]))throw new Error("Could not find a font-family for the rule '"+Yk(a)+"' and default family '"+r+"'.");if(s=function(c,d){if(d[c])return d[c];var h=zS[c],g=h<=zS.normal?-1:1,b=Wk(d,oI,h,g);if(!b)throw new Error("Could not find a matching font-stretch value for "+c);return b}(a.stretch,s),s=function(c,d){if(d[c])return d[c];for(var h=sI[c],g=0;g<h.length;++g)if(d[h[g]])return d[h[g]];throw new Error("Could not find a matching font-style for "+c)}(a.style,s),!(s=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var h=bK[c],g=Wk(d,lI,h,c<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+c);return g}(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+Yk(a)+"'.");return s}function Gk(e){return e.trimLeft()}function vK(e,n){for(var t=0;t<e.length;){if(e.charAt(t)===n)return[e.substring(0,t),e.substring(t+1)];t+=1}return null}function wK(e){var n=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return n===null?null:[n[0],e.substring(n[0].length)]}var qy,Qk,Kk,hw=["times"];(function(e){var n,t,r,i,a,s,l,c,d,h=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new c,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new s,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new s,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new g(this),n=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new h}]);var g=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=U;Object.defineProperty(this,"pdf",{get:function(){return B}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(Se){re=!!Se}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(Se){Z=!!Se}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(Se){isNaN(Se)||(ne=Se)}});var ve=0;Object.defineProperty(this,"posY",{get:function(){return ve},set:function(Se){isNaN(Se)||(ve=Se)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Se){var se;typeof Se=="number"?se=[Se,Se,Se,Se]:((se=new Array(4))[0]=Se[0],se[1]=Se.length>=2?Se[1]:se[0],se[2]=Se.length>=3?Se[2]:se[0],se[3]=Se.length>=4?Se[3]:se[1]),d.margin=se}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(Se){ye=Se}});var Ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ce},set:function(Se){Ce=Se}});var Oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Oe},set:function(Se){Oe=Se}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Se){Se instanceof h&&(d=Se)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Se){d.path=Se}});var Ie=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ie},set:function(Se){Ie=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var se;se=b(Se),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var se=b(Se);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){["butt","round","square"].indexOf(Se)!==-1&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){["bevel","round","miter"].indexOf(Se)!==-1&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){["right","end","center","left","start"].indexOf(Se)!==-1&&(this.ctx.textAlign=Se)}});var Ue=null;function He(Se,se){if(Ue===null){var he=function(de){var we=[];return Object.keys(de).forEach(function(Le){de[Le].forEach(function(Fe){var _e=null;switch(Fe){case"bold":_e={family:Le,weight:"bold"};break;case"italic":_e={family:Le,style:"italic"};break;case"bolditalic":_e={family:Le,weight:"bold",style:"italic"};break;case"":case"normal":_e={family:Le}}_e!==null&&(_e.ref={name:Le,style:Fe},we.push(_e))})}),we}(Se.getFontList());Ue=function(de){for(var we={},Le=0;Le<de.length;++Le){var Fe=qS(de[Le]),_e=Fe.family,Qe=Fe.stretch,st=Fe.style,nt=Fe.weight;we[_e]=we[_e]||{},we[_e][Qe]=we[_e][Qe]||{},we[_e][Qe][st]=we[_e][Qe][st]||{},we[_e][Qe][st][nt]=Fe}return we}(he.concat(se))}return Ue}var V=null;Object.defineProperty(this,"fontFaces",{get:function(){return V},set:function(Se){Ue=null,V=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var se;if(this.ctx.font=Se,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))!==null){var he=se[1];se[2];var de=se[3],we=se[4];se[5];var Le=se[6],Fe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(we)[2];we=Math.floor(Fe==="px"?parseFloat(we)*this.pdf.internal.scaleFactor:Fe==="em"?parseFloat(we)*this.pdf.getFontSize():parseFloat(we)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(we);var _e=function(Ne){var ut,Ze,Dt=[],Et=Ne.trim();if(Et==="")return hw;if(Et in Vk)return[Vk[Et]];for(;Et!=="";){switch(Ze=null,ut=(Et=Gk(Et)).charAt(0)){case'"':case"'":Ze=vK(Et.substring(1),ut);break;default:Ze=wK(Et)}if(Ze===null||(Dt.push(Ze[0]),(Et=Gk(Ze[1]))!==""&&Et.charAt(0)!==","))return hw;Et=Et.replace(/^,/,"")}return Dt}(Le);if(this.fontFaces){var Qe=xK(He(this.pdf,this.fontFaces),_e.map(function(Ne){return{family:Ne,stretch:"normal",weight:de,style:he}}));this.pdf.setFont(Qe.ref.name,Qe.ref.style)}else{var st="";(de==="bold"||parseInt(de,10)>=700||he==="bold")&&(st="bold"),he==="italic"&&(st+="italic"),st.length===0&&(st="normal");for(var nt="",De={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},xe=0;xe<_e.length;xe++){if(this.pdf.internal.getFont(_e[xe],st,{noFallback:!0,disableWarning:!0})!==void 0){nt=_e[xe];break}if(st==="bolditalic"&&this.pdf.internal.getFont(_e[xe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)nt=_e[xe],st="bold";else if(this.pdf.internal.getFont(_e[xe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){nt=_e[xe],st="normal";break}}if(nt===""){for(var ke=0;ke<_e.length;ke++)if(De[_e[ke]]){nt=De[_e[ke]];break}}nt=nt===""?"Times":nt,this.pdf.setFont(nt,st)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};g.prototype.setLineDash=function(U){this.lineDash=U},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){P.call(this,"fill",!1)},g.prototype.stroke=function(){P.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(U,B){if(isNaN(U)||isNaN(B))throw Xr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new s(U,B));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new s(U,B)},g.prototype.closePath=function(){var U=new s(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&Zr(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){U=new s(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(U.x,U.y)},g.prototype.lineTo=function(U,B){if(isNaN(U)||isNaN(B))throw Xr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new s(U,B));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new s(re.x,re.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},g.prototype.quadraticCurveTo=function(U,B,re,Z){if(isNaN(re)||isNaN(Z)||isNaN(U)||isNaN(B))throw Xr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new s(re,Z)),ve=this.ctx.transform.applyToPoint(new s(U,B));this.path.push({type:"qct",x1:ve.x,y1:ve.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new s(ne.x,ne.y)},g.prototype.bezierCurveTo=function(U,B,re,Z,ne,ve){if(isNaN(ne)||isNaN(ve)||isNaN(U)||isNaN(B)||isNaN(re)||isNaN(Z))throw Xr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new s(ne,ve)),Ce=this.ctx.transform.applyToPoint(new s(U,B)),Oe=this.ctx.transform.applyToPoint(new s(re,Z));this.path.push({type:"bct",x1:Ce.x,y1:Ce.y,x2:Oe.x,y2:Oe.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new s(ye.x,ye.y)},g.prototype.arc=function(U,B,re,Z,ne,ve){if(isNaN(U)||isNaN(B)||isNaN(re)||isNaN(Z)||isNaN(ne))throw Xr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ve=!!ve,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new s(U,B));U=ye.x,B=ye.y;var Ce=this.ctx.transform.applyToPoint(new s(0,re)),Oe=this.ctx.transform.applyToPoint(new s(0,0));re=Math.sqrt(Math.pow(Ce.x-Oe.x,2)+Math.pow(Ce.y-Oe.y,2))}Math.abs(ne-Z)>=2*Math.PI&&(Z=0,ne=2*Math.PI),this.path.push({type:"arc",x:U,y:B,radius:re,startAngle:Z,endAngle:ne,counterclockwise:ve})},g.prototype.arcTo=function(U,B,re,Z,ne){throw new Error("arcTo not implemented.")},g.prototype.rect=function(U,B,re,Z){if(isNaN(U)||isNaN(B)||isNaN(re)||isNaN(Z))throw Xr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,B),this.lineTo(U+re,B),this.lineTo(U+re,B+Z),this.lineTo(U,B+Z),this.lineTo(U,B),this.lineTo(U+re,B),this.lineTo(U,B)},g.prototype.fillRect=function(U,B,re,Z){if(isNaN(U)||isNaN(B)||isNaN(re)||isNaN(Z))throw Xr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,B,re,Z),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},g.prototype.strokeRect=function(U,B,re,Z){if(isNaN(U)||isNaN(B)||isNaN(re)||isNaN(Z))throw Xr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(U,B,re,Z),this.stroke())},g.prototype.clearRect=function(U,B,re,Z){if(isNaN(U)||isNaN(B)||isNaN(re)||isNaN(Z))throw Xr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,B,re,Z))},g.prototype.save=function(U){U=typeof U!="boolean"||U;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},g.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(B),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(U){var B,re,Z,ne;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))B=0,re=0,Z=0,ne=0;else{var ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(ve!==null)B=parseInt(ve[1]),re=parseInt(ve[2]),Z=parseInt(ve[3]),ne=1;else if((ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)B=parseInt(ve[1]),re=parseInt(ve[2]),Z=parseInt(ve[3]),ne=parseFloat(ve[4]);else{if(ne=1,typeof U=="string"&&U.charAt(0)!=="#"){var ye=new JO(U);U=ye.ok?ye.toHex():"#000000"}U.length===4?(B=U.substring(1,2),B+=B,re=U.substring(2,3),re+=re,Z=U.substring(3,4),Z+=Z):(B=U.substring(1,3),re=U.substring(3,5),Z=U.substring(5,7)),B=parseInt(B,16),re=parseInt(re,16),Z=parseInt(Z,16)}}return{r:B,g:re,b:Z,a:ne,style:U}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(U,B,re,Z){if(isNaN(B)||isNaN(re)||typeof U!="string")throw Xr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!m.call(this)){var ne=ee(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;O.call(this,{text:U,x:B,y:re,scale:ve,angle:ne,align:this.textAlign,maxWidth:Z})}},g.prototype.strokeText=function(U,B,re,Z){if(isNaN(B)||isNaN(re)||typeof U!="string")throw Xr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){Z=isNaN(Z)?void 0:Z;var ne=ee(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;O.call(this,{text:U,x:B,y:re,scale:ve,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:Z})}},g.prototype.measureText=function(U){if(typeof U!="string")throw Xr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,re=this.pdf.internal.scaleFactor,Z=B.internal.getFontSize(),ne=B.getStringUnitWidth(U)*Z/B.internal.scaleFactor,ve=function(ye){var Ce=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ce}}),this};return new ve({width:ne*=Math.round(96*re/72*1e4)/1e4})},g.prototype.scale=function(U,B){if(isNaN(U)||isNaN(B))throw Xr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new c(U,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},g.prototype.rotate=function(U){if(isNaN(U))throw Xr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new c(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},g.prototype.translate=function(U,B){if(isNaN(U)||isNaN(B))throw Xr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new c(1,0,0,1,U,B);this.ctx.transform=this.ctx.transform.multiply(re)},g.prototype.transform=function(U,B,re,Z,ne,ve){if(isNaN(U)||isNaN(B)||isNaN(re)||isNaN(Z)||isNaN(ne)||isNaN(ve))throw Xr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new c(U,B,re,Z,ne,ve);this.ctx.transform=this.ctx.transform.multiply(ye)},g.prototype.setTransform=function(U,B,re,Z,ne,ve){U=isNaN(U)?1:U,B=isNaN(B)?0:B,re=isNaN(re)?0:re,Z=isNaN(Z)?1:Z,ne=isNaN(ne)?0:ne,ve=isNaN(ve)?0:ve,this.ctx.transform=new c(U,B,re,Z,ne,ve)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(U,B,re,Z,ne,ve,ye,Ce,Oe){var Ie=this.pdf.getImageProperties(U),Ue=1,He=1,V=1,Se=1;Z!==void 0&&Ce!==void 0&&(V=Ce/Z,Se=Oe/ne,Ue=Ie.width/Z*Ce/Z,He=Ie.height/ne*Oe/ne),ve===void 0&&(ve=B,ye=re,B=0,re=0),Z!==void 0&&Ce===void 0&&(Ce=Z,Oe=ne),Z===void 0&&Ce===void 0&&(Ce=Ie.width,Oe=Ie.height);for(var se,he=this.ctx.transform.decompose(),de=ee(he.rotate.shx),we=new c,Le=(we=(we=(we=we.multiply(he.translate)).multiply(he.skew)).multiply(he.scale)).applyToRectangle(new l(ve-B*V,ye-re*Se,Z*Ue,ne*He)),Fe=A.call(this,Le),_e=[],Qe=0;Qe<Fe.length;Qe+=1)_e.indexOf(Fe[Qe])===-1&&_e.push(Fe[Qe]);if(N(_e),this.autoPaging)for(var st=_e[0],nt=_e[_e.length-1],De=st;De<nt+1;De++){this.pdf.setPage(De);var xe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ke=De===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ze=De===1?0:Ne+(De-2)*ut;if(this.ctx.clip_path.length!==0){var Dt=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(se,this.posX+this.margin[3],-Ze+ke+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=Dt}var Et=JSON.parse(JSON.stringify(Le));Et=C([Et],this.posX+this.margin[3],-Ze+ke+this.ctx.prevPageLastElemOffset)[0];var $t=(De>st||De<nt)&&y.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xe,ut,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",Et.x,Et.y,Et.w,Et.h,null,null,de),$t&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,de)};var A=function(U,B,re){var Z=[];B=B||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":Z.push(Math.floor((U.y+ne)/re)+1);break;case"arc":Z.push(Math.floor((U.y+ne-U.radius)/re)+1),Z.push(Math.floor((U.y+ne+U.radius)/re)+1);break;case"qct":var ve=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);Z.push(Math.floor((ve.y+ne)/re)+1),Z.push(Math.floor((ve.y+ve.h+ne)/re)+1);break;case"bct":var ye=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);Z.push(Math.floor((ye.y+ne)/re)+1),Z.push(Math.floor((ye.y+ye.h+ne)/re)+1);break;case"rect":Z.push(Math.floor((U.y+ne)/re)+1),Z.push(Math.floor((U.y+U.h+ne)/re)+1)}for(var Ce=0;Ce<Z.length;Ce+=1)for(;this.pdf.internal.getNumberOfPages()<Z[Ce];)w.call(this);return Z},w=function(){var U=this.fillStyle,B=this.strokeStyle,re=this.font,Z=this.lineCap,ne=this.lineWidth,ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=B,this.font=re,this.lineCap=Z,this.lineWidth=ne,this.lineJoin=ve},C=function(U,B,re){for(var Z=0;Z<U.length;Z++)switch(U[Z].type){case"bct":U[Z].x2+=B,U[Z].y2+=re;case"qct":U[Z].x1+=B,U[Z].y1+=re;case"mt":case"lt":case"arc":default:U[Z].x+=B,U[Z].y+=re}return U},N=function(U){return U.sort(function(B,re){return B-re})},P=function(U,B){for(var re,Z,ne=this.fillStyle,ve=this.strokeStyle,ye=this.lineCap,Ce=this.lineWidth,Oe=Math.abs(Ce*this.ctx.transform.scaleX),Ie=this.lineJoin,Ue=JSON.parse(JSON.stringify(this.path)),He=JSON.parse(JSON.stringify(this.path)),V=[],Se=0;Se<He.length;Se++)if(He[Se].x!==void 0)for(var se=A.call(this,He[Se]),he=0;he<se.length;he+=1)V.indexOf(se[he])===-1&&V.push(se[he]);for(var de=0;de<V.length;de++)for(;this.pdf.internal.getNumberOfPages()<V[de];)w.call(this);if(N(V),this.autoPaging)for(var we=V[0],Le=V[V.length-1],Fe=we;Fe<Le+1;Fe++){this.pdf.setPage(Fe),this.fillStyle=ne,this.strokeStyle=ve,this.lineCap=ye,this.lineWidth=Oe,this.lineJoin=Ie;var _e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qe=Fe===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],De=Fe===1?0:st+(Fe-2)*nt;if(this.ctx.clip_path.length!==0){var xe=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(re,this.posX+this.margin[3],-De+Qe+this.ctx.prevPageLastElemOffset),F.call(this,U,!0),this.path=xe}if(Z=JSON.parse(JSON.stringify(Ue)),this.path=C(Z,this.posX+this.margin[3],-De+Qe+this.ctx.prevPageLastElemOffset),B===!1||Fe===0){var ke=(Fe>we||Fe<Le)&&y.call(this);ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,nt,null).clip().discardPath()),F.call(this,U,B),ke&&this.pdf.restoreGraphicsState()}this.lineWidth=Ce}else this.lineWidth=Oe,F.call(this,U,B),this.lineWidth=Ce;this.path=Ue},F=function(U,B){if((U!=="stroke"||B||!x.call(this))&&(U==="stroke"||B||!m.call(this))){for(var re,Z,ne=[],ve=this.path,ye=0;ye<ve.length;ye++){var Ce=ve[ye];switch(Ce.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:Ce,deltas:[],abs:[]});break;case"lt":var Oe=ne.length;if(ve[ye-1]&&!isNaN(ve[ye-1].x)&&(re=[Ce.x-ve[ye-1].x,Ce.y-ve[ye-1].y],Oe>0)){for(;Oe>=0;Oe--)if(ne[Oe-1].close!==!0&&ne[Oe-1].begin!==!0){ne[Oe-1].deltas.push(re),ne[Oe-1].abs.push(Ce);break}}break;case"bct":re=[Ce.x1-ve[ye-1].x,Ce.y1-ve[ye-1].y,Ce.x2-ve[ye-1].x,Ce.y2-ve[ye-1].y,Ce.x-ve[ye-1].x,Ce.y-ve[ye-1].y],ne[ne.length-1].deltas.push(re);break;case"qct":var Ie=ve[ye-1].x+2/3*(Ce.x1-ve[ye-1].x),Ue=ve[ye-1].y+2/3*(Ce.y1-ve[ye-1].y),He=Ce.x+2/3*(Ce.x1-Ce.x),V=Ce.y+2/3*(Ce.y1-Ce.y),Se=Ce.x,se=Ce.y;re=[Ie-ve[ye-1].x,Ue-ve[ye-1].y,He-ve[ye-1].x,V-ve[ye-1].y,Se-ve[ye-1].x,se-ve[ye-1].y],ne[ne.length-1].deltas.push(re);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(Ce)}}Z=B?null:U==="stroke"?"stroke":"fill";for(var he=!1,de=0;de<ne.length;de++)if(ne[de].arc)for(var we=ne[de].abs,Le=0;Le<we.length;Le++){var Fe=we[Le];Fe.type==="arc"?M.call(this,Fe.x,Fe.y,Fe.radius,Fe.startAngle,Fe.endAngle,Fe.counterclockwise,void 0,B,!he):L.call(this,Fe.x,Fe.y),he=!0}else if(ne[de].close===!0)this.pdf.internal.out("h"),he=!1;else if(ne[de].begin!==!0){var _e=ne[de].start.x,Qe=ne[de].start.y;j.call(this,ne[de].deltas,_e,Qe),he=!0}Z&&q.call(this,Z),B&&Q.call(this)}},R=function(U){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-re;case"top":return U+B-re;case"hanging":return U+B-2*re;case"middle":return U+B/2-re;case"ideographic":return U;case"alphabetic":default:return U}},k=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(B,re){this.colorStops.push([B,re])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(U,B,re,Z,ne,ve,ye,Ce,Oe){for(var Ie=H.call(this,re,Z,ne,ve),Ue=0;Ue<Ie.length;Ue++){var He=Ie[Ue];Ue===0&&(Oe?T.call(this,He.x1+U,He.y1+B):L.call(this,He.x1+U,He.y1+B)),X.call(this,U,B,He.x2,He.y2,He.x3,He.y3,He.x4,He.y4)}Ce?Q.call(this):q.call(this,ye)},q=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Q=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(U,B){this.pdf.internal.out(t(U)+" "+r(B)+" m")},O=function(U){var B;switch(U.align){case"right":case"end":B="right";break;case"center":B="center";break;case"left":case"start":default:B="left"}var re=this.pdf.getTextDimensions(U.text),Z=R.call(this,U.y),ne=k.call(this,Z)-re.h,ve=this.ctx.transform.applyToPoint(new s(U.x,Z)),ye=this.ctx.transform.decompose(),Ce=new c;Ce=(Ce=(Ce=Ce.multiply(ye.translate)).multiply(ye.skew)).multiply(ye.scale);for(var Oe,Ie,Ue,He=this.ctx.transform.applyToRectangle(new l(U.x,Z,re.w,re.h)),V=Ce.applyToRectangle(new l(U.x,ne,re.w,re.h)),Se=A.call(this,V),se=[],he=0;he<Se.length;he+=1)se.indexOf(Se[he])===-1&&se.push(Se[he]);if(N(se),this.autoPaging)for(var de=se[0],we=se[se.length-1],Le=de;Le<we+1;Le++){this.pdf.setPage(Le);var Fe=Le===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qe=this.pdf.internal.pageSize.height-this.margin[2],st=Qe-this.margin[0],nt=this.pdf.internal.pageSize.width-this.margin[1],De=nt-this.margin[3],xe=Le===1?0:_e+(Le-2)*st;if(this.ctx.clip_path.length!==0){var ke=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Oe,this.posX+this.margin[3],-1*xe+Fe),F.call(this,"fill",!0),this.path=ke}var Ne=C([JSON.parse(JSON.stringify(V))],this.posX+this.margin[3],-xe+Fe+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(Ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ie*U.scale),Ue=this.lineWidth,this.lineWidth=Ue*U.scale);var ut=this.autoPaging!=="text";if(ut||Ne.y+Ne.h<=Qe){if(ut||Ne.y>=Fe&&Ne.x<=nt){var Ze=ut?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||nt-Ne.x)[0],Dt=C([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-xe+Fe+this.ctx.prevPageLastElemOffset)[0],Et=ut&&(Le>de||Le<we)&&y.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,st,null).clip().discardPath()),this.pdf.text(Ze,Dt.x,Dt.y,{angle:U.angle,align:B,renderingMode:U.renderingMode}),Et&&this.pdf.restoreGraphicsState()}}else Ne.y<Qe&&(this.ctx.prevPageLastElemOffset+=Qe-Ne.y);U.scale>=.01&&(this.pdf.setFontSize(Ie),this.lineWidth=Ue)}else U.scale>=.01&&(Ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ie*U.scale),Ue=this.lineWidth,this.lineWidth=Ue*U.scale),this.pdf.text(U.text,ve.x+this.posX,ve.y+this.posY,{angle:U.angle,align:B,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(Ie),this.lineWidth=Ue)},L=function(U,B,re,Z){re=re||0,Z=Z||0,this.pdf.internal.out(t(U+re)+" "+r(B+Z)+" l")},j=function(U,B,re){return this.pdf.lines(U,B,re,null,null)},X=function(U,B,re,Z,ne,ve,ye,Ce){this.pdf.internal.out([n(i(re+U)),n(a(Z+B)),n(i(ne+U)),n(a(ve+B)),n(i(ye+U)),n(a(Ce+B)),"c"].join(" "))},H=function(U,B,re,Z){for(var ne=2*Math.PI,ve=Math.PI/2;B>re;)B-=ne;var ye=Math.abs(re-B);ye<ne&&Z&&(ye=ne-ye);for(var Ce=[],Oe=Z?-1:1,Ie=B;ye>1e-5;){var Ue=Ie+Oe*Math.min(ye,ve);Ce.push(G.call(this,U,Ie,Ue)),ye-=Math.abs(Ue-Ie),Ie=Ue}return Ce},G=function(U,B,re){var Z=(re-B)/2,ne=U*Math.cos(Z),ve=U*Math.sin(Z),ye=ne,Ce=-ve,Oe=ye*ye+Ce*Ce,Ie=Oe+ye*ne+Ce*ve,Ue=4/3*(Math.sqrt(2*Oe*Ie)-Ie)/(ye*ve-Ce*ne),He=ye-Ue*Ce,V=Ce+Ue*ye,Se=He,se=-V,he=Z+B,de=Math.cos(he),we=Math.sin(he);return{x1:U*Math.cos(B),y1:U*Math.sin(B),x2:He*de-V*we,y2:He*we+V*de,x3:Se*de-se*we,y3:Se*we+se*de,x4:U*Math.cos(re),y4:U*Math.sin(re)}},ee=function(U){return 180*U/Math.PI},le=function(U,B,re,Z,ne,ve){var ye=U+.5*(re-U),Ce=B+.5*(Z-B),Oe=ne+.5*(re-ne),Ie=ve+.5*(Z-ve),Ue=Math.min(U,ne,ye,Oe),He=Math.max(U,ne,ye,Oe),V=Math.min(B,ve,Ce,Ie),Se=Math.max(B,ve,Ce,Ie);return new l(Ue,V,He-Ue,Se-V)},Y=function(U,B,re,Z,ne,ve,ye,Ce){var Oe,Ie,Ue,He,V,Se,se,he,de,we,Le,Fe,_e,Qe,st=re-U,nt=Z-B,De=ne-re,xe=ve-Z,ke=ye-ne,Ne=Ce-ve;for(Ie=0;Ie<41;Ie++)de=(se=(Ue=U+(Oe=Ie/40)*st)+Oe*((V=re+Oe*De)-Ue))+Oe*(V+Oe*(ne+Oe*ke-V)-se),we=(he=(He=B+Oe*nt)+Oe*((Se=Z+Oe*xe)-He))+Oe*(Se+Oe*(ve+Oe*Ne-Se)-he),Ie==0?(Le=de,Fe=we,_e=de,Qe=we):(Le=Math.min(Le,de),Fe=Math.min(Fe,we),_e=Math.max(_e,de),Qe=Math.max(Qe,we));return new l(Math.round(Le),Math.round(Fe),Math.round(_e-Le),Math.round(Qe-Fe))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,B,re=(U=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:B}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(an.API),function(e){var n=function(a){var s,l,c,d,h,g,b,m,x,y;for(l=[],c=0,d=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;d>c;c+=4)(h=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(g=(h=((h=((h=((h=(h-(y=h%85))/85)-(x=h%85))/85)-(m=h%85))/85)-(b=h%85))/85)%85,l.push(g+33,b+33,m+33,x+33,y+33)):l.push(122);return function(A,w){for(var C=w;C>0;C--)A.pop()}(l,s.length),String.fromCharCode.apply(String,l)+"~>"},t=function(a){var s,l,c,d,h,g=String,b="length",m=255,x="charCodeAt",y="slice",A="replace";for(a[y](-2),a=a[y](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),c=[],d=0,h=(a+=s="uuuuu"[y](a[b]%5||5))[b];h>d;d+=5)l=52200625*(a[x](d)-33)+614125*(a[x](d+1)-33)+7225*(a[x](d+2)-33)+85*(a[x](d+3)-33)+(a[x](d+4)-33),c.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(w,C){for(var N=C;N>0;N--)w.pop()}(c,s[b]),g.fromCharCode.apply(g,c)},r=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},i=function(a){for(var s=new Uint8Array(a.length),l=a.length;l--;)s[l]=a.charCodeAt(l);return a=(s=LS(s)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(a,s){var l=0,c=a||"",d=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=n(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(an.API),function(e){e.loadFile=function(n,t,r){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=function(c,d,h){var g=new XMLHttpRequest,b=0,m=function(x){var y=x.length,A=[],w=String.fromCharCode;for(b=0;b<y;b+=1)A.push(w(255&x.charCodeAt(b)));return A.join("")};if(g.open("GET",c,!d),g.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(g.onload=function(){g.status===200?h(m(this.responseText)):h(void 0)}),g.send(null),d&&g.status===200)return m(g.responseText)}(i,a,s)}catch{}return l}(n,t,r)},e.loadImageFile=e.loadFile}(an.API),function(e){function n(){return(ln.html2canvas?Promise.resolve(ln.html2canvas):Ri(()=>import("./html2canvas.esm-DadlvMMh.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function t(){return(ln.DOMPurify?Promise.resolve(ln.DOMPurify):Ri(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var l=Zr(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(s,l){var c=document.createElement(s);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},a=function s(l){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),d=s.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,s,1,[s])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,l){return s.__proto__=l||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(d,h){for(var g=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),b=d.firstChild;b;b=b.nextSibling)h!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||g.appendChild(c(b,h));return d.nodeType===1&&(d.nodeName==="CANVAS"?(g.width=d.width,g.height=d.height,g.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(g.value=d.value),g.addEventListener("load",function(){g.scrollTop=d.scrollTop,g.scrollLeft=d.scrollLeft},!0)),g}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(n).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(n).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var b=0;b<d.length;++b){var m=d[b],x=m.src.find(function(y){return y.format==="truetype"});x&&c.addFont(x.url,m.ref.name,m.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(s,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},a.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(s){if(r(s)!=="object")return this;var l=Object.keys(s||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(s,l){return this.then(function(){var c=s in a.template.prop?this.prop[s]:this.opt[s];return l?l(c):c})},a.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},a.prototype.setPageSize=function(s){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(s=s||an.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},a.prototype.setProgress=function(s,l,c,d){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,l,c,d){return this.setProgress(s?this.progress.val+s:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(s,l){var c=this;return this.thenCore(s,l,function(d,h){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,d),g}).then(d,h).then(function(g){return c.updateProgress(1),g})})},a.prototype.thenCore=function(s,l,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),h=c.call(d,s,l);return a.convert(h,this.__proto__)},a.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},a.prototype.thenList=function(s){var l=this;return s.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return a.convert(l,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then(function(){throw new Error(s)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,an.getPageSize=function(s,l,c){if(Zr(s)==="object"){var d=s;s=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var h,g=(""+c).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var m,x=0,y=0;if(b.hasOwnProperty(g))x=b[g][1]/h,y=b[g][0]/h;else try{x=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",y>x&&(m=y,y=x,x=m);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",x>y&&(m=y,y=x,x=m)}return{width:y,height:x,unit:l,k:h,orientation:s}},e.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(qS):null;var c=new a(l);return l.worker?c:c.from(s).doCallback()}}(an.API),an.API.addJS=function(e){return Kk=e,this.internal.events.subscribe("postPutResources",function(){qy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(qy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Qk=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Kk+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){qy!==void 0&&Qk!==void 0&&this.internal.out("/Names <</JavaScript "+qy+" 0 R>>")}),this},function(e){var n;e.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],l=r.exec(s);if(l!=null){var c=l[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,h=[];for(a=0;a<d;a++){var g=t.internal.newObject();h.push(g);var b=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<h.length;a++)t.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");t.internal.write(" ] >>","endobj"),n=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+n+" 0 R"))}]),e.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(an.API),function(e){var n=[192,193,194,195,196,197,198,199];e.processJPEG=function(t,r,i,a,s,l){var c,d=this.decode.DCT_DECODE,h=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=function(g){for(var b,m=256*g.charCodeAt(4)+g.charCodeAt(5),x=g.length,y={width:0,height:0,numcomponents:1},A=4;A<x;A+=2){if(A+=m,n.indexOf(g.charCodeAt(A+1))!==-1){b=256*g.charCodeAt(A+5)+g.charCodeAt(A+6),y={width:256*g.charCodeAt(A+7)+g.charCodeAt(A+8),height:b,numcomponents:g.charCodeAt(A+9)};break}m=256*g.charCodeAt(A+2)+g.charCodeAt(A+3)}return y}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:t,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:r,alias:i}}return h}}(an.API);var o0,By,Xk,Zk,Jk,SK=function(){var e,n,t;function r(a){var s,l,c,d,h,g,b,m,x,y,A,w,C,N;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(s=this.readUInt32(),x=(function(){var P,F;for(F=[],P=0;P<4;++P)F.push(String.fromCharCode(this.data[this.pos++]));return F}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),d=this.readUInt16()||100,g.delay=1e3*h/d,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,s-=4),a=(g!=null?g.data:void 0)||this.imgData,w=0;0<=s?w<s:w>s;0<=s?++w:--w)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((y=c-this.transparency.indexed.length)>0)for(C=0;0<=y?C<y:C>y;0<=y?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":b=(A=this.read(s)).indexOf(0),m=String.fromCharCode.apply(String,A.slice(0,b)),this.text[m]=String.fromCharCode.apply(String,A.slice(b+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var s,l;for(l=[],s=0;0<=a?s<a:s>a;0<=a?++s:--s)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var s=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*s),c=0,d=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function h(g,b,m,x){var y,A,w,C,N,P,F,R,k,M,q,Q,T,O,L,j,X,H,G,ee,le,Y=Math.ceil((d.width-g)/m),te=Math.ceil((d.height-b)/x),U=d.width==Y&&d.height==te;for(O=s*Y,Q=U?l:new Uint8Array(O*te),P=a.length,T=0,A=0;T<te&&c<P;){switch(a[c++]){case 0:for(C=X=0;X<O;C=X+=1)Q[A++]=a[c++];break;case 1:for(C=H=0;H<O;C=H+=1)y=a[c++],N=C<s?0:Q[A-s],Q[A++]=(y+N)%256;break;case 2:for(C=G=0;G<O;C=G+=1)y=a[c++],w=(C-C%s)/s,L=T&&Q[(T-1)*O+w*s+C%s],Q[A++]=(L+y)%256;break;case 3:for(C=ee=0;ee<O;C=ee+=1)y=a[c++],w=(C-C%s)/s,N=C<s?0:Q[A-s],L=T&&Q[(T-1)*O+w*s+C%s],Q[A++]=(y+Math.floor((N+L)/2))%256;break;case 4:for(C=le=0;le<O;C=le+=1)y=a[c++],w=(C-C%s)/s,N=C<s?0:Q[A-s],T===0?L=j=0:(L=Q[(T-1)*O+w*s+C%s],j=w&&Q[(T-1)*O+(w-1)*s+C%s]),F=N+L-j,R=Math.abs(F-N),M=Math.abs(F-L),q=Math.abs(F-j),k=R<=M&&R<=q?N:M<=q?L:j,Q[A++]=(y+k)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!U){var B=((b+T*x)*d.width+g)*s,re=T*O;for(C=0;C<Y;C+=1){for(var Z=0;Z<s;Z+=1)l[B++]=Q[re++];B+=(m-1)*s}}T++}}return a=eK(a),d.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),l},r.prototype.decodePalette=function(){var a,s,l,c,d,h,g,b,m;for(l=this.palette,h=this.transparency.indexed||[],d=new Uint8Array((h.length||0)+l.length),c=0,a=0,s=g=0,b=l.length;g<b;s=g+=3)d[c++]=l[s],d[c++]=l[s+1],d[c++]=l[s+2],d[c++]=(m=h[a++])!=null?m:255;return d},r.prototype.copyToImageData=function(a,s){var l,c,d,h,g,b,m,x,y,A,w;if(c=this.colors,y=null,l=this.hasAlphaChannel,this.palette.length&&(y=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),c=4,l=!0),x=(d=a.data||a).length,g=y||s,h=b=0,c===1)for(;h<x;)m=y?4*s[h/4]:b,A=g[m++],d[h++]=A,d[h++]=A,d[h++]=A,d[h++]=l?g[m++]:255,b=m;else for(;h<x;)m=y?4*s[h/4]:b,d[h++]=g[m++],d[h++]=g[m++],d[h++]=g[m++],d[h++]=l?g[m++]:255,b=m},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(ln)==="[object Window]"){try{n=ln.document.createElement("canvas"),t=n.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var s;if(i()===!0)return t.width=a.width,t.height=a.height,t.clearRect(0,0,a.width,a.height),t.putImageData(a,0,0),(s=new Image).src=n.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var s,l,c,d,h,g,b,m;if(this.animation){for(m=[],l=h=0,g=(b=this.animation.frames).length;h<g;l=++h)s=b[l],c=a.createImageData(s.width,s.height),d=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,d),s.imageData=c,m.push(s.image=e(c));return m}},r.prototype.renderFrame=function(a,s){var l,c,d;return l=(c=this.animation.frames)[s],d=c[s-1],s===0&&a.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?a.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&a.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(a){var s,l,c,d,h,g,b=this;return l=0,g=this.animation,d=g.numFrames,c=g.frames,h=g.numPlays,(s=function(){var m,x;if(m=l++%d,x=c[m],b.renderFrame(a,m),d>1&&l/d<h)return b.animation._timeout=setTimeout(s,x.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var s,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,s=a.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(l=s.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),s.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function AK(e){var n=0;if(e[n++]!==71||e[n++]!==73||e[n++]!==70||e[n++]!==56||(e[n++]+1&253)!=56||e[n++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=e[n++]|e[n++]<<8,r=e[n++]|e[n++]<<8,i=e[n++],a=i>>7,s=1<<(7&i)+1;e[n++],e[n++];var l=null,c=null;a&&(l=n,c=s,n+=3*s);var d=!0,h=[],g=0,b=null,m=0,x=null;for(this.width=t,this.height=r;d&&n<e.length;)switch(e[n++]){case 33:switch(e[n++]){case 255:if(e[n]!==11||e[n+1]==78&&e[n+2]==69&&e[n+3]==84&&e[n+4]==83&&e[n+5]==67&&e[n+6]==65&&e[n+7]==80&&e[n+8]==69&&e[n+9]==50&&e[n+10]==46&&e[n+11]==48&&e[n+12]==3&&e[n+13]==1&&e[n+16]==0)n+=14,x=e[n++]|e[n++]<<8,n++;else for(n+=12;;){if(!((T=e[n++])>=0))throw Error("Invalid block size");if(T===0)break;n+=T}break;case 249:if(e[n++]!==4||e[n+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[n++];g=e[n++]|e[n++]<<8,b=e[n++],(1&y)==0&&(b=null),m=y>>2&7,n++;break;case 254:for(;;){if(!((T=e[n++])>=0))throw Error("Invalid block size");if(T===0)break;n+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[n-1].toString(16))}break;case 44:var A=e[n++]|e[n++]<<8,w=e[n++]|e[n++]<<8,C=e[n++]|e[n++]<<8,N=e[n++]|e[n++]<<8,P=e[n++],F=P>>6&1,R=1<<(7&P)+1,k=l,M=c,q=!1;P>>7&&(q=!0,k=n,M=R,n+=3*R);var Q=n;for(n++;;){var T;if(!((T=e[n++])>=0))throw Error("Invalid block size");if(T===0)break;n+=T}h.push({x:A,y:w,width:C,height:N,has_local_palette:q,palette_offset:k,palette_size:M,data_offset:Q,data_length:n-Q,transparent_index:b,interlaced:!!F,delay:g,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[n-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return x},this.frameInfo=function(O){if(O<0||O>=h.length)throw new Error("Frame index out of range.");return h[O]},this.decodeAndBlitFrameBGRA=function(O,L){var j=this.frameInfo(O),X=j.width*j.height,H=new Uint8Array(X);e4(e,j.data_offset,H,X);var G=j.palette_offset,ee=j.transparent_index;ee===null&&(ee=256);var le=j.width,Y=t-le,te=le,U=4*(j.y*t+j.x),B=4*((j.y+j.height)*t+j.x),re=U,Z=4*Y;j.interlaced===!0&&(Z+=4*t*7);for(var ne=8,ve=0,ye=H.length;ve<ye;++ve){var Ce=H[ve];if(te===0&&(te=le,(re+=Z)>=B&&(Z=4*Y+4*t*(ne-1),re=U+(le+Y)*(ne<<1),ne>>=1)),Ce===ee)re+=4;else{var Oe=e[G+3*Ce],Ie=e[G+3*Ce+1],Ue=e[G+3*Ce+2];L[re++]=Ue,L[re++]=Ie,L[re++]=Oe,L[re++]=255}--te}},this.decodeAndBlitFrameRGBA=function(O,L){var j=this.frameInfo(O),X=j.width*j.height,H=new Uint8Array(X);e4(e,j.data_offset,H,X);var G=j.palette_offset,ee=j.transparent_index;ee===null&&(ee=256);var le=j.width,Y=t-le,te=le,U=4*(j.y*t+j.x),B=4*((j.y+j.height)*t+j.x),re=U,Z=4*Y;j.interlaced===!0&&(Z+=4*t*7);for(var ne=8,ve=0,ye=H.length;ve<ye;++ve){var Ce=H[ve];if(te===0&&(te=le,(re+=Z)>=B&&(Z=4*Y+4*t*(ne-1),re=U+(le+Y)*(ne<<1),ne>>=1)),Ce===ee)re+=4;else{var Oe=e[G+3*Ce],Ie=e[G+3*Ce+1],Ue=e[G+3*Ce+2];L[re++]=Oe,L[re++]=Ie,L[re++]=Ue,L[re++]=255}--te}}}function e4(e,n,t,r){for(var i=e[n++],a=1<<i,s=a+1,l=s+1,c=i+1,d=(1<<c)-1,h=0,g=0,b=0,m=e[n++],x=new Int32Array(4096),y=null;;){for(;h<16&&m!==0;)g|=e[n++]<<h,h+=8,m===1?m=e[n++]:--m;if(h<c)break;var A=g&d;if(g>>=c,h-=c,A!==a){if(A===s)break;for(var w=A<l?A:y,C=0,N=w;N>a;)N=x[N]>>8,++C;var P=N;if(b+C+(w!==A?1:0)>r)return void Xr.log("Warning, gif stream longer than expected.");t[b++]=P;var F=b+=C;for(w!==A&&(t[b++]=P),N=w;C--;)N=x[N],t[--F]=255&N,N>>=8;y!==null&&l<4096&&(x[l++]=y<<8|P,l>=d+1&&c<12&&(++c,d=d<<1|1)),y=A}else l=s+1,d=(1<<(c=i+1))-1,y=null}return b!==r&&Xr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function pw(e){var n,t,r,i,a,s=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),h=new Array(64),g=new Array(65535),b=new Array(65535),m=new Array(64),x=new Array(64),y=[],A=0,w=7,C=new Array(64),N=new Array(64),P=new Array(64),F=new Array(256),R=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function H(U,B){for(var re=0,Z=0,ne=new Array,ve=1;ve<=16;ve++){for(var ye=1;ye<=U[ve];ye++)ne[B[Z]]=[],ne[B[Z]][0]=re,ne[B[Z]][1]=ve,Z++,re++;re*=2}return ne}function G(U){for(var B=U[0],re=U[1]-1;re>=0;)B&1<<re&&(A|=1<<w),re--,--w<0&&(A==255?(ee(255),ee(0)):ee(A),w=7,A=0)}function ee(U){y.push(U)}function le(U){ee(U>>8&255),ee(255&U)}function Y(U,B,re,Z,ne){for(var ve,ye=ne[0],Ce=ne[240],Oe=function(we,Le){var Fe,_e,Qe,st,nt,De,xe,ke,Ne,ut,Ze=0;for(Ne=0;Ne<8;++Ne){Fe=we[Ze],_e=we[Ze+1],Qe=we[Ze+2],st=we[Ze+3],nt=we[Ze+4],De=we[Ze+5],xe=we[Ze+6];var Dt=Fe+(ke=we[Ze+7]),Et=Fe-ke,$t=_e+xe,It=_e-xe,Gt=Qe+De,Jt=Qe-De,sn=st+nt,Mn=st-nt,Pn=Dt+sn,Gr=Dt-sn,rr=$t+Gt,Dn=$t-Gt;we[Ze]=Pn+rr,we[Ze+4]=Pn-rr;var Ht=.707106781*(Dn+Gr);we[Ze+2]=Gr+Ht,we[Ze+6]=Gr-Ht;var wn=.382683433*((Pn=Mn+Jt)-(Dn=It+Et)),xa=.5411961*Pn+wn,vr=1.306562965*Dn+wn,si=.707106781*(rr=Jt+It),va=Et+si,Ot=Et-si;we[Ze+5]=Ot+xa,we[Ze+3]=Ot-xa,we[Ze+1]=va+vr,we[Ze+7]=va-vr,Ze+=8}for(Ze=0,Ne=0;Ne<8;++Ne){Fe=we[Ze],_e=we[Ze+8],Qe=we[Ze+16],st=we[Ze+24],nt=we[Ze+32],De=we[Ze+40],xe=we[Ze+48];var $n=Fe+(ke=we[Ze+56]),ir=Fe-ke,Mr=_e+xe,cr=_e-xe,dr=Qe+De,Bn=Qe-De,gs=st+nt,_r=st-nt,Oa=$n+gs,Hi=$n-gs,Wi=Mr+dr,Xn=Mr-dr;we[Ze]=Oa+Wi,we[Ze+32]=Oa-Wi;var Ei=.707106781*(Xn+Hi);we[Ze+16]=Hi+Ei,we[Ze+48]=Hi-Ei;var Zn=.382683433*((Oa=_r+Bn)-(Xn=cr+ir)),ro=.5411961*Oa+Zn,To=1.306562965*Xn+Zn,Ma=.707106781*(Wi=Bn+cr),Pr=ir+Ma,ol=ir-Ma;we[Ze+40]=ol+ro,we[Ze+24]=ol-ro,we[Ze+8]=Pr+To,we[Ze+56]=Pr-To,Ze++}for(Ne=0;Ne<64;++Ne)ut=we[Ne]*Le[Ne],m[Ne]=ut>0?ut+.5|0:ut-.5|0;return m}(U,B),Ie=0;Ie<64;++Ie)x[k[Ie]]=Oe[Ie];var Ue=x[0]-re;re=x[0],Ue==0?G(Z[0]):(G(Z[b[ve=32767+Ue]]),G(g[ve]));for(var He=63;He>0&&x[He]==0;)He--;if(He==0)return G(ye),re;for(var V,Se=1;Se<=He;){for(var se=Se;x[Se]==0&&Se<=He;)++Se;var he=Se-se;if(he>=16){V=he>>4;for(var de=1;de<=V;++de)G(Ce);he&=15}ve=32767+x[Se],G(ne[(he<<4)+b[ve]]),G(g[ve]),Se++}return He!=63&&G(ye),re}function te(U){U=Math.min(Math.max(U,1),100),a!=U&&(function(B){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var ne=s((re[Z]*B+50)/100);ne=Math.min(Math.max(ne,1),255),l[k[Z]]=ne}for(var ve=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var Ce=s((ve[ye]*B+50)/100);Ce=Math.min(Math.max(Ce,1),255),c[k[ye]]=Ce}for(var Oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ie=0,Ue=0;Ue<8;Ue++)for(var He=0;He<8;He++)d[Ie]=1/(l[k[Ie]]*Oe[Ue]*Oe[He]*8),h[Ie]=1/(c[k[Ie]]*Oe[Ue]*Oe[He]*8),Ie++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),a=U)}this.encode=function(U,B){B&&te(B),y=new Array,A=0,w=7,le(65496),le(65504),le(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),le(1),le(1),ee(0),ee(0),function(){le(65499),le(132),ee(0);for(var _e=0;_e<64;_e++)ee(l[_e]);ee(1);for(var Qe=0;Qe<64;Qe++)ee(c[Qe])}(),function(_e,Qe){le(65472),le(17),ee(8),le(Qe),le(_e),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)}(U.width,U.height),function(){le(65476),le(418),ee(0);for(var _e=0;_e<16;_e++)ee(M[_e+1]);for(var Qe=0;Qe<=11;Qe++)ee(q[Qe]);ee(16);for(var st=0;st<16;st++)ee(Q[st+1]);for(var nt=0;nt<=161;nt++)ee(T[nt]);ee(1);for(var De=0;De<16;De++)ee(O[De+1]);for(var xe=0;xe<=11;xe++)ee(L[xe]);ee(17);for(var ke=0;ke<16;ke++)ee(j[ke+1]);for(var Ne=0;Ne<=161;Ne++)ee(X[Ne])}(),le(65498),le(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var re=0,Z=0,ne=0;A=0,w=7,this.encode.displayName="_encode_";for(var ve,ye,Ce,Oe,Ie,Ue,He,V,Se,se=U.data,he=U.width,de=U.height,we=4*he,Le=0;Le<de;){for(ve=0;ve<we;){for(Ie=we*Le+ve,He=-1,V=0,Se=0;Se<64;Se++)Ue=Ie+(V=Se>>3)*we+(He=4*(7&Se)),Le+V>=de&&(Ue-=we*(Le+1+V-de)),ve+He>=we&&(Ue-=ve+He-we+4),ye=se[Ue++],Ce=se[Ue++],Oe=se[Ue++],C[Se]=(R[ye]+R[Ce+256>>0]+R[Oe+512>>0]>>16)-128,N[Se]=(R[ye+768>>0]+R[Ce+1024>>0]+R[Oe+1280>>0]>>16)-128,P[Se]=(R[ye+1280>>0]+R[Ce+1536>>0]+R[Oe+1792>>0]>>16)-128;re=Y(C,d,re,n,r),Z=Y(N,h,Z,t,i),ne=Y(P,h,ne,t,i),ve+=32}Le+=8}if(w>=0){var Fe=[];Fe[1]=w+1,Fe[0]=(1<<w+1)-1,G(Fe)}return le(65497),new Uint8Array(y)},e=e||50,function(){for(var U=String.fromCharCode,B=0;B<256;B++)F[B]=U(B)}(),n=H(M,q),t=H(O,L),r=H(Q,T),i=H(j,X),function(){for(var U=1,B=2,re=1;re<=15;re++){for(var Z=U;Z<B;Z++)b[32767+Z]=re,g[32767+Z]=[],g[32767+Z][1]=re,g[32767+Z][0]=Z;for(var ne=-(B-1);ne<=-U;ne++)b[32767+ne]=re,g[32767+ne]=[],g[32767+ne][1]=re,g[32767+ne][0]=B-1+ne;U<<=1,B<<=1}}(),function(){for(var U=0;U<256;U++)R[U]=19595*U,R[U+256>>0]=38470*U,R[U+512>>0]=7471*U+32768,R[U+768>>0]=-11059*U,R[U+1024>>0]=-21709*U,R[U+1280>>0]=32768*U+8421375,R[U+1536>>0]=-27439*U,R[U+1792>>0]=-5329*U}(),te(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function hu(e,n){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!n,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function t4(e){function n(M){if(!M)throw Error("assert :P")}function t(M,q,Q){for(var T=0;4>T;T++)if(M[q+T]!=Q.charCodeAt(T))return!0;return!1}function r(M,q,Q,T,O){for(var L=0;L<O;L++)M[q+L]=Q[T+L]}function i(M,q,Q,T){for(var O=0;O<T;O++)M[q+O]=Q}function a(M){return new Int32Array(M)}function s(M,q){for(var Q=[],T=0;T<M;T++)Q.push(new q);return Q}function l(M,q){var Q=[];return function T(O,L,j){for(var X=j[L],H=0;H<X&&(O.push(j.length>L+1?[]:new q),!(j.length<L+1));H++)T(O[H],L+1,j)}(Q,0,M),Q}var c=function(){var M=this;function q(S,_){for(var z=1<<_-1>>>0;S&z;)z>>>=1;return z?(S&z-1)+z:S}function Q(S,_,z,W,ie){n(!(W%z));do S[_+(W-=z)]=ie;while(0<W)}function T(S,_,z,W,ie){if(n(2328>=ie),512>=ie)var oe=a(512);else if((oe=a(ie))==null)return 0;return function(ue,fe,ge,Ae,Me,Ge){var Ve,Be,yt=fe,rt=1<<ge,Pe=a(16),qe=a(16);for(n(Me!=0),n(Ae!=null),n(ue!=null),n(0<ge),Be=0;Be<Me;++Be){if(15<Ae[Be])return 0;++Pe[Ae[Be]]}if(Pe[0]==Me)return 0;for(qe[1]=0,Ve=1;15>Ve;++Ve){if(Pe[Ve]>1<<Ve)return 0;qe[Ve+1]=qe[Ve]+Pe[Ve]}for(Be=0;Be<Me;++Be)Ve=Ae[Be],0<Ae[Be]&&(Ge[qe[Ve]++]=Be);if(qe[15]==1)return(Ae=new O).g=0,Ae.value=Ge[0],Q(ue,yt,1,rt,Ae),rt;var ht,xt=-1,gt=rt-1,jt=0,_t=1,Wt=1,kt=1<<ge;for(Be=0,Ve=1,Me=2;Ve<=ge;++Ve,Me<<=1){if(_t+=Wt<<=1,0>(Wt-=Pe[Ve]))return 0;for(;0<Pe[Ve];--Pe[Ve])(Ae=new O).g=Ve,Ae.value=Ge[Be++],Q(ue,yt+jt,Me,kt,Ae),jt=q(jt,Ve)}for(Ve=ge+1,Me=2;15>=Ve;++Ve,Me<<=1){if(_t+=Wt<<=1,0>(Wt-=Pe[Ve]))return 0;for(;0<Pe[Ve];--Pe[Ve]){if(Ae=new O,(jt&gt)!=xt){for(yt+=kt,ht=1<<(xt=Ve)-ge;15>xt&&!(0>=(ht-=Pe[xt]));)++xt,ht<<=1;rt+=kt=1<<(ht=xt-ge),ue[fe+(xt=jt&gt)].g=ht+ge,ue[fe+xt].value=yt-fe-xt}Ae.g=Ve-ge,Ae.value=Ge[Be++],Q(ue,yt+(jt>>ge),Me,kt,Ae),jt=q(jt,Ve)}}return _t!=2*qe[15]-1?0:rt}(S,_,z,W,ie,oe)}function O(){this.value=this.g=0}function L(){this.value=this.g=0}function j(){this.G=s(5,O),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(aa,L)}function X(S,_,z,W){n(S!=null),n(_!=null),n(2147483648>W),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=_,S.pa=z,S.Jd=_,S.Yc=z+W,S.Zc=4<=W?z+W-4+1:z,ve(S)}function H(S,_){for(var z=0;0<_--;)z|=Ce(S,128)<<_;return z}function G(S,_){var z=H(S,_);return ye(S)?-z:z}function ee(S,_,z,W){var ie,oe=0;for(n(S!=null),n(_!=null),n(4294967288>W),S.Sb=W,S.Ra=0,S.u=0,S.h=0,4<W&&(W=4),ie=0;ie<W;++ie)oe+=_[z+ie]<<8*ie;S.Ra=oe,S.bb=W,S.oa=_,S.pa=z}function le(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<td-8>>>0,++S.bb,S.u-=8;re(S)&&(S.h=1,S.u=0)}function Y(S,_){if(n(0<=_),!S.h&&_<=ed){var z=B(S)&Wu[_];return S.u+=_,le(S),z}return S.h=1,S.u=0}function te(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(S){return S.Ra>>>(S.u&td-1)>>>0}function re(S){return n(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>td}function Z(S,_){S.u=_,S.h=re(S)}function ne(S){S.u>=ef&&(n(S.u>=ef),le(S))}function ve(S){n(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(n(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function ye(S){return H(S,1)}function Ce(S,_){var z=S.Ca;0>S.b&&ve(S);var W=S.b,ie=z*_>>>8,oe=(S.I>>>W>ie)+0;for(oe?(z-=ie,S.I-=ie+1<<W>>>0):z=ie+1,W=z,ie=0;256<=W;)ie+=8,W>>=8;return W=7^ie+As[W],S.b-=W,S.Ca=(z<<W)-1,oe}function Oe(S,_,z){S[_+0]=z>>24&255,S[_+1]=z>>16&255,S[_+2]=z>>8&255,S[_+3]=z>>0&255}function Ie(S,_){return S[_+0]<<0|S[_+1]<<8}function Ue(S,_){return Ie(S,_)|S[_+2]<<16}function He(S,_){return Ie(S,_)|Ie(S,_+2)<<16}function V(S,_){var z=1<<_;return n(S!=null),n(0<_),S.X=a(z),S.X==null?0:(S.Mb=32-_,S.Xa=_,1)}function Se(S,_){n(S!=null),n(_!=null),n(S.Xa==_.Xa),r(_.X,0,S.X,0,1<<_.Xa)}function se(){this.X=[],this.Xa=this.Mb=0}function he(S,_,z,W){n(z!=null),n(W!=null);var ie=z[0],oe=W[0];return ie==0&&(ie=(S*oe+_/2)/_),oe==0&&(oe=(_*ie+S/2)/S),0>=ie||0>=oe?0:(z[0]=ie,W[0]=oe,1)}function de(S,_){return S+(1<<_)-1>>>_}function we(S,_){return((4278255360&S)+(4278255360&_)>>>0&4278255360)+((16711935&S)+(16711935&_)>>>0&16711935)>>>0}function Le(S,_){M[_]=function(z,W,ie,oe,ue,fe,ge){var Ae;for(Ae=0;Ae<ue;++Ae){var Me=M[S](fe[ge+Ae-1],ie,oe+Ae);fe[ge+Ae]=we(z[W+Ae],Me)}}}function Fe(){this.ud=this.hd=this.jd=0}function _e(S,_){return((4278124286&(S^_))>>>1)+(S&_)>>>0}function Qe(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function st(S,_){return Qe(S+(S-_+.5>>1))}function nt(S,_,z){return Math.abs(_-z)-Math.abs(S-z)}function De(S,_,z,W,ie,oe,ue){for(W=oe[ue-1],z=0;z<ie;++z)oe[ue+z]=W=we(S[_+z],W)}function xe(S,_,z,W,ie){var oe;for(oe=0;oe<z;++oe){var ue=S[_+oe],fe=ue>>8&255,ge=16711935&(ge=(ge=16711935&ue)+((fe<<16)+fe));W[ie+oe]=(4278255360&ue)+ge>>>0}}function ke(S,_){_.jd=S>>0&255,_.hd=S>>8&255,_.ud=S>>16&255}function Ne(S,_,z,W,ie,oe){var ue;for(ue=0;ue<W;++ue){var fe=_[z+ue],ge=fe>>>8,Ae=fe,Me=255&(Me=(Me=fe>>>16)+((S.jd<<24>>24)*(ge<<24>>24)>>>5));Ae=255&(Ae=(Ae=Ae+((S.hd<<24>>24)*(ge<<24>>24)>>>5))+((S.ud<<24>>24)*(Me<<24>>24)>>>5)),ie[oe+ue]=(4278255360&fe)+(Me<<16)+Ae}}function ut(S,_,z,W,ie){M[_]=function(oe,ue,fe,ge,Ae,Me,Ge,Ve,Be){for(ge=Ge;ge<Ve;++ge)for(Ge=0;Ge<Be;++Ge)Ae[Me++]=ie(fe[W(oe[ue++])])},M[S]=function(oe,ue,fe,ge,Ae,Me,Ge){var Ve=8>>oe.b,Be=oe.Ea,yt=oe.K[0],rt=oe.w;if(8>Ve)for(oe=(1<<oe.b)-1,rt=(1<<Ve)-1;ue<fe;++ue){var Pe,qe=0;for(Pe=0;Pe<Be;++Pe)Pe&oe||(qe=W(ge[Ae++])),Me[Ge++]=ie(yt[qe&rt]),qe>>=Ve}else M["VP8LMapColor"+z](ge,Ae,yt,rt,Me,Ge,ue,fe,Be)}}function Ze(S,_,z,W,ie){for(z=_+z;_<z;){var oe=S[_++];W[ie++]=oe>>16&255,W[ie++]=oe>>8&255,W[ie++]=oe>>0&255}}function Dt(S,_,z,W,ie){for(z=_+z;_<z;){var oe=S[_++];W[ie++]=oe>>16&255,W[ie++]=oe>>8&255,W[ie++]=oe>>0&255,W[ie++]=oe>>24&255}}function Et(S,_,z,W,ie){for(z=_+z;_<z;){var oe=(ue=S[_++])>>16&240|ue>>12&15,ue=ue>>0&240|ue>>28&15;W[ie++]=oe,W[ie++]=ue}}function $t(S,_,z,W,ie){for(z=_+z;_<z;){var oe=(ue=S[_++])>>16&248|ue>>13&7,ue=ue>>5&224|ue>>3&31;W[ie++]=oe,W[ie++]=ue}}function It(S,_,z,W,ie){for(z=_+z;_<z;){var oe=S[_++];W[ie++]=oe>>0&255,W[ie++]=oe>>8&255,W[ie++]=oe>>16&255}}function Gt(S,_,z,W,ie,oe){if(oe==0)for(z=_+z;_<z;)Oe(W,((oe=S[_++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),ie+=32;else r(W,ie,S,_,z)}function Jt(S,_){M[_][0]=M[S+"0"],M[_][1]=M[S+"1"],M[_][2]=M[S+"2"],M[_][3]=M[S+"3"],M[_][4]=M[S+"4"],M[_][5]=M[S+"5"],M[_][6]=M[S+"6"],M[_][7]=M[S+"7"],M[_][8]=M[S+"8"],M[_][9]=M[S+"9"],M[_][10]=M[S+"10"],M[_][11]=M[S+"11"],M[_][12]=M[S+"12"],M[_][13]=M[S+"13"],M[_][14]=M[S+"0"],M[_][15]=M[S+"0"]}function sn(S){return S==vh||S==tc||S==Jl||S==af}function Mn(){this.eb=[],this.size=this.A=this.fb=0}function Pn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Gr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Mn,this.f.kb=new Pn,this.sd=null}function rr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Dn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ht(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function wn(S,_){var z=S.T,W=_.ba.f.RGBA,ie=W.eb,oe=W.fb+S.ka*W.A,ue=Ea[_.ba.S],fe=S.y,ge=S.O,Ae=S.f,Me=S.N,Ge=S.ea,Ve=S.W,Be=_.cc,yt=_.dc,rt=_.Mc,Pe=_.Nc,qe=S.ka,ht=S.ka+S.T,xt=S.U,gt=xt+1>>1;for(qe==0?ue(fe,ge,null,null,Ae,Me,Ge,Ve,Ae,Me,Ge,Ve,ie,oe,null,null,xt):(ue(_.ec,_.fc,fe,ge,Be,yt,rt,Pe,Ae,Me,Ge,Ve,ie,oe-W.A,ie,oe,xt),++z);qe+2<ht;qe+=2)Be=Ae,yt=Me,rt=Ge,Pe=Ve,Me+=S.Rc,Ve+=S.Rc,oe+=2*W.A,ue(fe,(ge+=2*S.fa)-S.fa,fe,ge,Be,yt,rt,Pe,Ae,Me,Ge,Ve,ie,oe-W.A,ie,oe,xt);return ge+=S.fa,S.j+ht<S.o?(r(_.ec,_.fc,fe,ge,xt),r(_.cc,_.dc,Ae,Me,gt),r(_.Mc,_.Nc,Ge,Ve,gt),z--):1&ht||ue(fe,ge,null,null,Ae,Me,Ge,Ve,Ae,Me,Ge,Ve,ie,oe+W.A,null,null,xt),z}function xa(S,_,z){var W=S.F,ie=[S.J];if(W!=null){var oe=S.U,ue=_.ba.S,fe=ue==sd||ue==Jl;_=_.ba.f.RGBA;var ge=[0],Ae=S.ka;ge[0]=S.T,S.Kb&&(Ae==0?--ge[0]:(--Ae,ie[0]-=S.width),S.j+S.ka+S.T==S.o&&(ge[0]=S.o-S.j-Ae));var Me=_.eb;Ae=_.fb+Ae*_.A,S=On(W,ie[0],S.width,oe,ge,Me,Ae+(fe?0:3),_.A),n(z==ge),S&&sn(ue)&&Gs(Me,Ae,fe,oe,ge,_.A)}return 0}function vr(S){var _=S.ma,z=_.ba.S,W=11>z,ie=z==rf||z==xh||z==sd||z==Zl||z==12||sn(z);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Hu(_.Oa,S,ie?11:12))return 0;if(ie&&sn(z)&&St(),S.da)alert("todo:use_scaling");else{if(W){if(_.Ib=Ht,S.Kb){if(z=S.U+1>>1,_.memory=a(S.U+2*z),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+S.U,_.Mc=_.cc,_.Nc=_.dc+z,_.Ib=wn,St()}}else alert("todo:EmitYUV");ie&&(_.Jb=xa,W&&We())}if(W&&!Ab){for(S=0;256>S;++S)x2[S]=89858*(S-128)+oa>>wl,Ah[S]=-22014*(S-128)+oa,Em[S]=-45773*(S-128),la[S]=113618*(S-128)+oa>>wl;for(S=ic;S<Rp;++S)_=76283*(S-16)+oa>>wl,Ch[S-ic]=Ys(_,255),_m[S-ic]=Ys(_+8>>4,15);Ab=1}return 1}function si(S){var _=S.ma,z=S.U,W=S.T;return n(!(1&S.ka)),0>=z||0>=W?0:(z=_.Ib(S,_),_.Jb!=null&&_.Jb(S,_,z),_.Dc+=z,1)}function va(S){S.ma.memory=null}function Ot(S,_,z,W){return Y(S,8)!=47?0:(_[0]=Y(S,14)+1,z[0]=Y(S,14)+1,W[0]=Y(S,1),Y(S,3)!=0?0:!S.h)}function $n(S,_){if(4>S)return S+1;var z=S-2>>1;return(2+(1&S)<<z)+Y(_,z)+1}function ir(S,_){return 120<_?_-120:1<=(z=((z=tu[_-1])>>4)*S+(8-(15&z)))?z:1;var z}function Mr(S,_,z){var W=B(z),ie=S[_+=255&W].g-8;return 0<ie&&(Z(z,z.u+8),W=B(z),_+=S[_].value,_+=W&(1<<ie)-1),Z(z,z.u+S[_].g),S[_].value}function cr(S,_,z){return z.g+=S.g,z.value+=S.value<<_>>>0,n(8>=z.g),S.g}function dr(S,_,z){var W=S.xc;return n((_=W==0?0:S.vc[S.md*(z>>W)+(_>>W)])<S.Wb),S.Ya[_]}function Bn(S,_,z,W){var ie=S.ab,oe=S.c*_,ue=S.C;_=ue+_;var fe=z,ge=W;for(W=S.Ta,z=S.Ua;0<ie--;){var Ae=S.gc[ie],Me=ue,Ge=_,Ve=fe,Be=ge,yt=(ge=W,fe=z,Ae.Ea);switch(n(Me<Ge),n(Ge<=Ae.nc),Ae.hc){case 2:Np(Ve,Be,(Ge-Me)*yt,ge,fe);break;case 0:var rt=Me,Pe=Ge,qe=ge,ht=fe,xt=(kt=Ae).Ea;rt==0&&(Am(Ve,Be,null,null,1,qe,ht),De(Ve,Be+1,0,0,xt-1,qe,ht+1),Be+=xt,ht+=xt,++rt);for(var gt=1<<kt.b,jt=gt-1,_t=de(xt,kt.b),Wt=kt.K,kt=kt.w+(rt>>kt.b)*_t;rt<Pe;){var Wn=Wt,ar=kt,jn=1;for(bh(Ve,Be,qe,ht-xt,1,qe,ht);jn<xt;){var Nn=(jn&~jt)+gt;Nn>xt&&(Nn=xt),(0,Ql[Wn[ar++]>>8&15])(Ve,Be+ +jn,qe,ht+jn-xt,Nn-jn,qe,ht+jn),jn=Nn}Be+=xt,ht+=xt,++rt&jt||(kt+=_t)}Ge!=Ae.nc&&r(ge,fe-yt,ge,fe+(Ge-Me-1)*yt,yt);break;case 1:for(yt=Ve,Pe=Be,xt=(Ve=Ae.Ea)-(ht=Ve&~(qe=(Be=1<<Ae.b)-1)),rt=de(Ve,Ae.b),gt=Ae.K,Ae=Ae.w+(Me>>Ae.b)*rt;Me<Ge;){for(jt=gt,_t=Ae,Wt=new Fe,kt=Pe+ht,Wn=Pe+Ve;Pe<kt;)ke(jt[_t++],Wt),Yu(Wt,yt,Pe,Be,ge,fe),Pe+=Be,fe+=Be;Pe<Wn&&(ke(jt[_t++],Wt),Yu(Wt,yt,Pe,xt,ge,fe),Pe+=xt,fe+=xt),++Me&qe||(Ae+=rt)}break;case 3:if(Ve==ge&&Be==fe&&0<Ae.b){for(Pe=ge,Ve=yt=fe+(Ge-Me)*yt-(ht=(Ge-Me)*de(Ae.Ea,Ae.b)),Be=ge,qe=fe,rt=[],ht=(xt=ht)-1;0<=ht;--ht)rt[ht]=Be[qe+ht];for(ht=xt-1;0<=ht;--ht)Pe[Ve+ht]=rt[ht];lo(Ae,Me,Ge,ge,yt,ge,fe)}else lo(Ae,Me,Ge,Ve,Be,ge,fe)}fe=W,ge=z}ge!=z&&r(W,z,fe,ge,oe)}function gs(S,_){var z=S.V,W=S.Ba+S.c*S.C,ie=_-S.C;if(n(_<=S.l.o),n(16>=ie),0<ie){var oe=S.l,ue=S.Ta,fe=S.Ua,ge=oe.width;if(Bn(S,ie,z,W),ie=fe=[fe],n((z=S.C)<(W=_)),n(oe.v<oe.va),W>oe.o&&(W=oe.o),z<oe.j){var Ae=oe.j-z;z=oe.j,ie[0]+=Ae*ge}if(z>=W?z=0:(ie[0]+=4*oe.v,oe.ka=z-oe.j,oe.U=oe.va-oe.v,oe.T=W-z,z=1),z){if(fe=fe[0],11>(z=S.ca).S){var Me=z.f.RGBA,Ge=(W=z.S,ie=oe.U,oe=oe.T,Ae=Me.eb,Me.A),Ve=oe;for(Me=Me.fb+S.Ma*Me.A;0<Ve--;){var Be=ue,yt=fe,rt=ie,Pe=Ae,qe=Me;switch(W){case Ha:rs(Be,yt,rt,Pe,qe);break;case rf:Da(Be,yt,rt,Pe,qe);break;case vh:Da(Be,yt,rt,Pe,qe),Gs(Pe,qe,0,rt,1,0);break;case bl:Fo(Be,yt,rt,Pe,qe);break;case xh:Gt(Be,yt,rt,Pe,qe,1);break;case tc:Gt(Be,yt,rt,Pe,qe,1),Gs(Pe,qe,0,rt,1,0);break;case sd:Gt(Be,yt,rt,Pe,qe,0);break;case Jl:Gt(Be,yt,rt,Pe,qe,0),Gs(Pe,qe,1,rt,1,0);break;case Zl:Gu(Be,yt,rt,Pe,qe);break;case af:Gu(Be,yt,rt,Pe,qe),Tn(Pe,qe,rt,1,0);break;case Tp:Cs(Be,yt,rt,Pe,qe);break;default:n(0)}fe+=ge,Me+=Ge}S.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");n(S.Ma<=z.height)}}S.C=_,n(S.C<=S.i)}function _r(S){var _;if(0<S.ua)return 0;for(_=0;_<S.Wb;++_){var z=S.Ya[_].G,W=S.Ya[_].H;if(0<z[1][W[1]+0].g||0<z[2][W[2]+0].g||0<z[3][W[3]+0].g)return 0}return 1}function Oa(S,_,z,W,ie,oe){if(S.Z!=0){var ue=S.qd,fe=S.rd;for(n(xl[S.Z]!=null);_<z;++_)xl[S.Z](ue,fe,W,ie,W,ie,oe),ue=W,fe=ie,ie+=oe;S.qd=ue,S.rd=fe}}function Hi(S,_){var z=S.l.ma,W=z.Z==0||z.Z==1?S.l.j:S.C;if(W=S.C<W?W:S.C,n(_<=S.l.o),_>W){var ie=S.l.width,oe=z.ca,ue=z.tb+ie*W,fe=S.V,ge=S.Ba+S.c*W,Ae=S.gc;n(S.ab==1),n(Ae[0].hc==3),Vu(Ae[0],W,_,fe,ge,oe,ue),Oa(z,W,_,oe,ue,ie)}S.C=S.Ma=_}function Wi(S,_,z,W,ie,oe,ue){var fe=S.$/W,ge=S.$%W,Ae=S.m,Me=S.s,Ge=z+S.$,Ve=Ge;ie=z+W*ie;var Be=z+W*oe,yt=280+Me.ua,rt=S.Pb?fe:16777216,Pe=0<Me.ua?Me.Wa:null,qe=Me.wc,ht=Ge<Be?dr(Me,ge,fe):null;n(S.C<oe),n(Be<=ie);var xt=!1;e:for(;;){for(;xt||Ge<Be;){var gt=0;if(fe>=rt){var jt=Ge-z;n((rt=S).Pb),rt.wd=rt.m,rt.xd=jt,0<rt.s.ua&&Se(rt.s.Wa,rt.s.vb),rt=fe+vb}if(ge&qe||(ht=dr(Me,ge,fe)),n(ht!=null),ht.Qb&&(_[Ge]=ht.qb,xt=!0),!xt)if(ne(Ae),ht.jc){gt=Ae,jt=_;var _t=Ge,Wt=ht.pd[B(gt)&aa-1];n(ht.jc),256>Wt.g?(Z(gt,gt.u+Wt.g),jt[_t]=Wt.value,gt=0):(Z(gt,gt.u+Wt.g-256),n(256<=Wt.value),gt=Wt.value),gt==0&&(xt=!0)}else gt=Mr(ht.G[0],ht.H[0],Ae);if(Ae.h)break;if(xt||256>gt){if(!xt)if(ht.nd)_[Ge]=(ht.qb|gt<<8)>>>0;else{if(ne(Ae),xt=Mr(ht.G[1],ht.H[1],Ae),ne(Ae),jt=Mr(ht.G[2],ht.H[2],Ae),_t=Mr(ht.G[3],ht.H[3],Ae),Ae.h)break;_[Ge]=(_t<<24|xt<<16|gt<<8|jt)>>>0}if(xt=!1,++Ge,++ge>=W&&(ge=0,++fe,ue!=null&&fe<=oe&&!(fe%16)&&ue(S,fe),Pe!=null))for(;Ve<Ge;)gt=_[Ve++],Pe.X[(506832829*gt&4294967295)>>>Pe.Mb]=gt}else if(280>gt){if(gt=$n(gt-256,Ae),jt=Mr(ht.G[4],ht.H[4],Ae),ne(Ae),jt=ir(W,jt=$n(jt,Ae)),Ae.h)break;if(Ge-z<jt||ie-Ge<gt)break e;for(_t=0;_t<gt;++_t)_[Ge+_t]=_[Ge+_t-jt];for(Ge+=gt,ge+=gt;ge>=W;)ge-=W,++fe,ue!=null&&fe<=oe&&!(fe%16)&&ue(S,fe);if(n(Ge<=ie),ge&qe&&(ht=dr(Me,ge,fe)),Pe!=null)for(;Ve<Ge;)gt=_[Ve++],Pe.X[(506832829*gt&4294967295)>>>Pe.Mb]=gt}else{if(!(gt<yt))break e;for(xt=gt-280,n(Pe!=null);Ve<Ge;)gt=_[Ve++],Pe.X[(506832829*gt&4294967295)>>>Pe.Mb]=gt;gt=Ge,n(!(xt>>>(jt=Pe).Xa)),_[gt]=jt.X[xt],xt=!0}xt||n(Ae.h==re(Ae))}if(S.Pb&&Ae.h&&Ge<ie)n(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&Se(S.s.vb,S.s.Wa);else{if(Ae.h)break e;ue!=null&&ue(S,fe>oe?oe:fe),S.a=0,S.$=Ge-z}return 1}return S.a=3,0}function Xn(S){n(S!=null),S.vc=null,S.yc=null,S.Ya=null;var _=S.Wa;_!=null&&(_.X=null),S.vb=null,n(S!=null)}function Ei(){var S=new Sm;return S==null?null:(S.a=0,S.xb=sf,Jt("Predictor","VP8LPredictors"),Jt("Predictor","VP8LPredictors_C"),Jt("PredictorAdd","VP8LPredictorsAdd"),Jt("PredictorAdd","VP8LPredictorsAdd_C"),Np=xe,Yu=Ne,rs=Ze,Da=Dt,Gu=Et,Cs=$t,Fo=It,M.VP8LMapColor32b=Aa,M.VP8LMapColor8b=yh,S)}function Zn(S,_,z,W,ie){var oe=1,ue=[S],fe=[_],ge=W.m,Ae=W.s,Me=null,Ge=0;e:for(;;){if(z)for(;oe&&Y(ge,1);){var Ve=ue,Be=fe,yt=W,rt=1,Pe=yt.m,qe=yt.gc[yt.ab],ht=Y(Pe,2);if(yt.Oc&1<<ht)oe=0;else{switch(yt.Oc|=1<<ht,qe.hc=ht,qe.Ea=Ve[0],qe.nc=Be[0],qe.K=[null],++yt.ab,n(4>=yt.ab),ht){case 0:case 1:qe.b=Y(Pe,3)+2,rt=Zn(de(qe.Ea,qe.b),de(qe.nc,qe.b),0,yt,qe.K),qe.K=qe.K[0];break;case 3:var xt,gt=Y(Pe,8)+1,jt=16<gt?0:4<gt?1:2<gt?2:3;if(Ve[0]=de(qe.Ea,jt),qe.b=jt,xt=rt=Zn(gt,1,0,yt,qe.K)){var _t,Wt=gt,kt=qe,Wn=1<<(8>>kt.b),ar=a(Wn);if(ar==null)xt=0;else{var jn=kt.K[0],Nn=kt.w;for(ar[0]=kt.K[0][0],_t=1;_t<1*Wt;++_t)ar[_t]=we(jn[Nn+_t],ar[_t-1]);for(;_t<4*Wn;++_t)ar[_t]=0;kt.K[0]=null,kt.K[0]=ar,xt=1}}rt=xt;break;case 2:break;default:n(0)}oe=rt}}if(ue=ue[0],fe=fe[0],oe&&Y(ge,1)&&!(oe=1<=(Ge=Y(ge,4))&&11>=Ge)){W.a=3;break e}var Ar;if(Ar=oe)t:{var sr,mn,Nr,Kt=W,on=ue,Hn=fe,Vn=Ge,_a=z,ua=Kt.m,Ti=Kt.s,Oi=[null],Gi=1,ho=0,or=ld[Vn];n:for(;;){if(_a&&Y(ua,1)){var Qi=Y(ua,3)+2,Bo=de(on,Qi),ac=de(Hn,Qi),dd=Bo*ac;if(!Zn(Bo,ac,0,Kt,Oi))break n;for(Oi=Oi[0],Ti.xc=Qi,sr=0;sr<dd;++sr){var sc=Oi[sr]>>8&65535;Oi[sr]=sc,sc>=Gi&&(Gi=sc+1)}}if(ua.h)break n;for(mn=0;5>mn;++mn){var ti=Qs[mn];!mn&&0<Vn&&(ti+=1<<Vn),ho<ti&&(ho=ti)}var Eh=s(Gi*or,O),Mp=Gi,as=s(Mp,j);if(as==null)var ui=null;else n(65536>=Mp),ui=as;var fd=a(ho);if(ui==null||fd==null||Eh==null){Kt.a=1;break n}var oc=Eh;for(sr=Nr=0;sr<Gi;++sr){var _s=ui[sr],lc=_s.G,ks=_s.H,_h=0,lf=1,Pp=0;for(mn=0;5>mn;++mn){ti=Qs[mn],lc[mn]=oc,ks[mn]=Nr,!mn&&0<Vn&&(ti+=1<<Vn);i:{var kh,Fp=ti,Nh=Kt,uf=fd,_b=oc,kb=Nr,jh=0,au=Nh.m,w2=Y(au,1);if(i(uf,0,0,Fp),w2){var Nb=Y(au,1)+1,jb=Y(au,1),km=Y(au,jb==0?1:8);uf[km]=1,Nb==2&&(uf[km=Y(au,8)]=1);var cf=1}else{var Nm=a(19),jm=Y(au,4)+4;if(19<jm){Nh.a=3;var Th=0;break i}for(kh=0;kh<jm;++kh)Nm[eu[kh]]=Y(au,3);var zp=void 0,df=void 0,Tb=Nh,Ob=Nm,su=Fp,Oh=uf,qp=0,Uo=Tb.m,ff=8,Tm=s(128,O);r:for(;T(Tm,0,7,Ob,19);){if(Y(Uo,1)){var Ib=2+2*Y(Uo,3);if((zp=2+Y(Uo,Ib))>su)break r}else zp=su;for(df=0;df<su&&zp--;){ne(Uo);var Om=Tm[0+(127&B(Uo))];Z(Uo,Uo.u+Om.g);var hd=Om.value;if(16>hd)Oh[df++]=hd,hd!=0&&(ff=hd);else{var Db=hd==16,Im=hd-16,Dm=fo[Im],Lm=Y(Uo,Op[Im])+Dm;if(df+Lm>su)break r;for(var Lb=Db?ff:0;0<Lm--;)Oh[df++]=Lb}}qp=1;break r}qp||(Tb.a=3),cf=qp}(cf=cf&&!au.h)&&(jh=T(_b,kb,8,uf,Fp)),cf&&jh!=0?Th=jh:(Nh.a=3,Th=0)}if(Th==0)break n;if(lf&&od[mn]==1&&(lf=oc[Nr].g==0),_h+=oc[Nr].g,Nr+=Th,3>=mn){var pd,Bp=fd[0];for(pd=1;pd<ti;++pd)fd[pd]>Bp&&(Bp=fd[pd]);Pp+=Bp}}if(_s.nd=lf,_s.Qb=0,lf&&(_s.qb=(lc[3][ks[3]+0].value<<24|lc[1][ks[1]+0].value<<16|lc[2][ks[2]+0].value)>>>0,_h==0&&256>lc[0][ks[0]+0].value&&(_s.Qb=1,_s.qb+=lc[0][ks[0]+0].value<<8)),_s.jc=!_s.Qb&&6>Pp,_s.jc){var Ih,ou=_s;for(Ih=0;Ih<aa;++Ih){var Sl=Ih,lu=ou.pd[Sl],Dh=ou.G[0][ou.H[0]+Sl];256<=Dh.value?(lu.g=Dh.g+256,lu.value=Dh.value):(lu.g=0,lu.value=0,Sl>>=cr(Dh,8,lu),Sl>>=cr(ou.G[1][ou.H[1]+Sl],16,lu),Sl>>=cr(ou.G[2][ou.H[2]+Sl],0,lu),cr(ou.G[3][ou.H[3]+Sl],24,lu))}}}Ti.vc=Oi,Ti.Wb=Gi,Ti.Ya=ui,Ti.yc=Eh,Ar=1;break t}Ar=0}if(!(oe=Ar)){W.a=3;break e}if(0<Ge){if(Ae.ua=1<<Ge,!V(Ae.Wa,Ge)){W.a=1,oe=0;break e}}else Ae.ua=0;var Lh=W,Rm=ue,Rb=fe,Mm=Lh.s,Pm=Mm.xc;if(Lh.c=Rm,Lh.i=Rb,Mm.md=de(Rm,Pm),Mm.wc=Pm==0?-1:(1<<Pm)-1,z){W.xb=Sb;break e}if((Me=a(ue*fe))==null){W.a=1,oe=0;break e}oe=(oe=Wi(W,Me,0,ue,fe,fe,null))&&!ge.h;break e}return oe?(ie!=null?ie[0]=Me:(n(Me==null),n(z)),W.$=0,z||Xn(Ae)):Xn(Ae),oe}function ro(S,_){var z=S.c*S.i,W=z+_+16*_;return n(S.c<=_),S.V=a(W),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+z+_,1)}function To(S,_){var z=S.C,W=_-z,ie=S.V,oe=S.Ba+S.c*z;for(n(_<=S.l.o);0<W;){var ue=16<W?16:W,fe=S.l.ma,ge=S.l.width,Ae=ge*ue,Me=fe.ca,Ge=fe.tb+ge*z,Ve=S.Ta,Be=S.Ua;Bn(S,ue,ie,oe),zr(Ve,Be,Me,Ge,Ae),Oa(fe,z,z+ue,Me,Ge,ge),W-=ue,ie+=ue*S.c,z+=ue}n(z==_),S.C=S.Ma=_}function Ma(){this.ub=this.yd=this.td=this.Rb=0}function Pr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ol(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function $l(){this.Yb=function(){var S=[];return function _(z,W,ie){for(var oe=ie[W],ue=0;ue<oe&&(z.push(ie.length>W+1?[]:0),!(ie.length<W+1));ue++)_(z[ue],W+1,ie)}(S,0,[3,11]),S}()}function qu(){this.jb=a(3),this.Wc=l([4,8],$l),this.Xc=l([4,17],$l)}function Kc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Bs(){this.ld=this.La=this.dd=this.tc=0}function bs(){this.Na=this.la=0}function Pa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ys(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function es(){this.uc=this.M=this.Nb=0,this.wa=Array(new Bs),this.Y=0,this.ya=Array(new ys),this.aa=0,this.l=new io}function ts(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Hl(){this.cb=this.a=0,this.sc="",this.m=new te,this.Od=new Ma,this.Kc=new Pr,this.ed=new Kc,this.Qa=new ol,this.Ic=this.$c=this.Aa=0,this.D=new es,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,te),this.ia=0,this.pb=s(4,Pa),this.Pa=new qu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ts),this.Hd=0,this.rb=Array(new bs),this.sb=0,this.wa=Array(new Bs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ys),this.L=this.aa=0,this.gd=l([4,2],Bs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function io(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xc(){var S=new Hl;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,sa||(sa=ll)),S}function Fr(S,_,z){return S.a==0&&(S.a=_,S.sc=z,S.cb=0),0}function ra(S,_,z){return 3<=z&&S[_+0]==157&&S[_+1]==1&&S[_+2]==42}function ao(S,_){if(S==null)return 0;if(S.a=0,S.sc="OK",_==null)return Fr(S,2,"null VP8Io passed to VP8GetHeaders()");var z=_.data,W=_.w,ie=_.ha;if(4>ie)return Fr(S,7,"Truncated header.");var oe=z[W+0]|z[W+1]<<8|z[W+2]<<16,ue=S.Od;if(ue.Rb=!(1&oe),ue.td=oe>>1&7,ue.yd=oe>>4&1,ue.ub=oe>>5,3<ue.td)return Fr(S,3,"Incorrect keyframe parameters.");if(!ue.yd)return Fr(S,4,"Frame not displayable.");W+=3,ie-=3;var fe=S.Kc;if(ue.Rb){if(7>ie)return Fr(S,7,"cannot parse picture header");if(!ra(z,W,ie))return Fr(S,3,"Bad code word");fe.c=16383&(z[W+4]<<8|z[W+3]),fe.Td=z[W+4]>>6,fe.i=16383&(z[W+6]<<8|z[W+5]),fe.Ud=z[W+6]>>6,W+=7,ie-=7,S.za=fe.c+15>>4,S.Ub=fe.i+15>>4,_.width=fe.c,_.height=fe.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((oe=S.Pa).jb,0,255,oe.jb.length),n((oe=S.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,i(oe.Zb,0,0,oe.Zb.length),i(oe.Lb,0,0,oe.Lb)}if(ue.ub>ie)return Fr(S,7,"bad partition length");X(oe=S.m,z,W,ue.ub),W+=ue.ub,ie-=ue.ub,ue.Rb&&(fe.Ld=ye(oe),fe.Kd=ye(oe)),fe=S.Qa;var ge,Ae=S.Pa;if(n(oe!=null),n(fe!=null),fe.Cb=ye(oe),fe.Cb){if(fe.Bb=ye(oe),ye(oe)){for(fe.Fb=ye(oe),ge=0;4>ge;++ge)fe.Zb[ge]=ye(oe)?G(oe,7):0;for(ge=0;4>ge;++ge)fe.Lb[ge]=ye(oe)?G(oe,6):0}if(fe.Bb)for(ge=0;3>ge;++ge)Ae.jb[ge]=ye(oe)?H(oe,8):255}else fe.Bb=0;if(oe.Ka)return Fr(S,3,"cannot parse segment header");if((fe=S.ed).zd=ye(oe),fe.Tb=H(oe,6),fe.wb=H(oe,3),fe.Pc=ye(oe),fe.Pc&&ye(oe)){for(Ae=0;4>Ae;++Ae)ye(oe)&&(fe.vd[Ae]=G(oe,6));for(Ae=0;4>Ae;++Ae)ye(oe)&&(fe.od[Ae]=G(oe,6))}if(S.L=fe.Tb==0?0:fe.zd?1:2,oe.Ka)return Fr(S,3,"cannot parse filter header");var Me=ie;if(ie=ge=W,W=ge+Me,fe=Me,S.Xb=(1<<H(S.m,2))-1,Me<3*(Ae=S.Xb))z=7;else{for(ge+=3*Ae,fe-=3*Ae,Me=0;Me<Ae;++Me){var Ge=z[ie+0]|z[ie+1]<<8|z[ie+2]<<16;Ge>fe&&(Ge=fe),X(S.Jc[+Me],z,ge,Ge),ge+=Ge,fe-=Ge,ie+=3}X(S.Jc[+Ae],z,ge,fe),z=ge<W?0:5}if(z!=0)return Fr(S,z,"cannot parse partitions");for(z=H(ge=S.m,7),ie=ye(ge)?G(ge,4):0,W=ye(ge)?G(ge,4):0,fe=ye(ge)?G(ge,4):0,Ae=ye(ge)?G(ge,4):0,ge=ye(ge)?G(ge,4):0,Me=S.Qa,Ge=0;4>Ge;++Ge){if(Me.Cb){var Ve=Me.Zb[Ge];Me.Fb||(Ve+=z)}else{if(0<Ge){S.pb[Ge]=S.pb[0];continue}Ve=z}var Be=S.pb[Ge];Be.Sc[0]=wh[Ys(Ve+ie,127)],Be.Sc[1]=Sh[Ys(Ve+0,127)],Be.Eb[0]=2*wh[Ys(Ve+W,127)],Be.Eb[1]=101581*Sh[Ys(Ve+fe,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=wh[Ys(Ve+Ae,117)],Be.Qc[1]=Sh[Ys(Ve+ge,127)],Be.lc=Ve+ge}if(!ue.Rb)return Fr(S,4,"Not a key frame.");for(ye(oe),ue=S.Pa,z=0;4>z;++z){for(ie=0;8>ie;++ie)for(W=0;3>W;++W)for(fe=0;11>fe;++fe)Ae=Ce(oe,ud[z][ie][W][fe])?H(oe,8):yl[z][ie][W][fe],ue.Wc[z][ie].Yb[W][fe]=Ae;for(ie=0;17>ie;++ie)ue.Xc[z][ie]=ue.Wc[z][wb[ie]]}return S.kc=ye(oe),S.kc&&(S.Bd=H(oe,8)),S.cb=1}function ll(S,_,z,W,ie,oe,ue){var fe=_[ie].Yb[z];for(z=0;16>ie;++ie){if(!Ce(S,fe[z+0]))return ie;for(;!Ce(S,fe[z+1]);)if(fe=_[++ie].Yb[0],z=0,ie==16)return 16;var ge=_[ie+1].Yb;if(Ce(S,fe[z+2])){var Ae=S,Me=0;if(Ce(Ae,(Ve=fe)[(Ge=z)+3]))if(Ce(Ae,Ve[Ge+6])){for(fe=0,Ge=2*(Me=Ce(Ae,Ve[Ge+8]))+(Ve=Ce(Ae,Ve[Ge+9+Me])),Me=0,Ve=bi[Ge];Ve[fe];++fe)Me+=Me+Ce(Ae,Ve[fe]);Me+=3+(8<<Ge)}else Ce(Ae,Ve[Ge+7])?(Me=7+2*Ce(Ae,165),Me+=Ce(Ae,145)):Me=5+Ce(Ae,159);else Me=Ce(Ae,Ve[Ge+4])?3+Ce(Ae,Ve[Ge+5]):2;fe=ge[2]}else Me=1,fe=ge[1];ge=ue+Jn[ie],0>(Ae=S).b&&ve(Ae);var Ge,Ve=Ae.b,Be=(Ge=Ae.Ca>>1)-(Ae.I>>Ve)>>31;--Ae.b,Ae.Ca+=Be,Ae.Ca|=1,Ae.I-=(Ge+1&Be)<<Ve,oe[ge]=((Me^Be)-Be)*W[(0<ie)+0]}return 16}function Fa(S){var _=S.rb[S.sb-1];_.la=0,_.Na=0,i(S.zc,0,0,S.zc.length),S.ja=0}function Wl(S,_){if(S==null)return 0;if(_==null)return Fr(S,2,"NULL VP8Io parameter in VP8Decode().");if(!S.cb&&!ao(S,_))return 0;if(n(S.cb),_.ac==null||_.ac(_)){_.ob&&(S.L=0);var z=iu[S.L];if(S.L==2?(S.yb=0,S.zb=0):(S.yb=_.v-z>>4,S.zb=_.j-z>>4,0>S.yb&&(S.yb=0),0>S.zb&&(S.zb=0)),S.Va=_.o+15+z>>4,S.Hb=_.va+15+z>>4,S.Hb>S.za&&(S.Hb=S.za),S.Va>S.Ub&&(S.Va=S.Ub),0<S.L){var W=S.ed;for(z=0;4>z;++z){var ie;if(S.Qa.Cb){var oe=S.Qa.Lb[z];S.Qa.Fb||(oe+=W.Tb)}else oe=W.Tb;for(ie=0;1>=ie;++ie){var ue=S.gd[z][ie],fe=oe;if(W.Pc&&(fe+=W.vd[0],ie&&(fe+=W.od[0])),0<(fe=0>fe?0:63<fe?63:fe)){var ge=fe;0<W.wb&&(ge=4<W.wb?ge>>2:ge>>1)>9-W.wb&&(ge=9-W.wb),1>ge&&(ge=1),ue.dd=ge,ue.tc=2*fe+ge,ue.ld=40<=fe?2:15<=fe?1:0}else ue.tc=0;ue.La=ie}}}z=0}else Fr(S,6,"Frame setup failed"),z=S.a;if(z=z==0){if(z){S.$c=0,0<S.Aa||(S.Ic=Cb);e:{z=S.Ic,W=4*(ge=S.za);var Ae=32*ge,Me=ge+1,Ge=0<S.L?ge*(0<S.Aa?2:1):0,Ve=(S.Aa==2?2:1)*ge;if((ue=W+832+(ie=3*(16*z+iu[S.L])/2*Ae)+(oe=S.Fa!=null&&0<S.Fa.length?S.Kc.c*S.Kc.i:0))!=ue)z=0;else{if(ue>S.Vb){if(S.Vb=0,S.Ec=a(ue),S.Fc=0,S.Ec==null){z=Fr(S,1,"no memory during frame initialization.");break e}S.Vb=ue}ue=S.Ec,fe=S.Fc,S.Ac=ue,S.Bc=fe,fe+=W,S.Gd=s(Ae,ts),S.Hd=0,S.rb=s(Me+1,bs),S.sb=1,S.wa=Ge?s(Ge,Bs):null,S.Y=0,S.D.Nb=0,S.D.wa=S.wa,S.D.Y=S.Y,0<S.Aa&&(S.D.Y+=ge),n(!0),S.oc=ue,S.pc=fe,fe+=832,S.ya=s(Ve,ys),S.aa=0,S.D.ya=S.ya,S.D.aa=S.aa,S.Aa==2&&(S.D.aa+=ge),S.R=16*ge,S.B=8*ge,ge=(Ae=iu[S.L])*S.R,Ae=Ae/2*S.B,S.sa=ue,S.ta=fe+ge,S.qa=S.sa,S.ra=S.ta+16*z*S.R+Ae,S.Ha=S.qa,S.Ia=S.ra+8*z*S.B+Ae,S.$c=0,fe+=ie,S.mb=oe?ue:null,S.nb=oe?fe:null,n(fe+oe<=S.Fc+S.Vb),Fa(S),i(S.Ac,S.Bc,0,W),z=1}}if(z){if(_.ka=0,_.y=S.sa,_.O=S.ta,_.f=S.qa,_.N=S.ra,_.ea=S.Ha,_.Vd=S.Ia,_.fa=S.R,_.Rc=S.B,_.F=null,_.J=0,!Xl){for(z=-255;255>=z;++z)ji[255+z]=0>z?-z:z;for(z=-1020;1020>=z;++z)uo[1020+z]=-128>z?-128:127<z?127:z;for(z=-112;112>=z;++z)Ju[112+z]=-16>z?-16:15<z?15:z;for(z=-255;510>=z;++z)ec[255+z]=0>z?0:255<z?255:z;Xl=1}ml=Vi,zo=Io,qo=Us,Yi=Bu,Es=$s,mi=Vl,nd=Qr,gl=$a,tf=Yd,Qu=pl,Ku=Vs,Xu=Ss,rd=Ro,nf=kp,Zu=hr,Kl=pn,id=kr,gi=wa,is[0]=_i,is[1]=xs,is[2]=so,is[3]=fl,is[4]=qa,is[5]=Ba,is[6]=Do,is[7]=Ia,is[8]=Lo,is[9]=Ua,nu[0]=dl,nu[1]=za,nu[2]=Hs,nu[3]=cl,nu[4]=oi,nu[5]=Jr,nu[6]=vs,Ks[0]=$,Ks[1]=Uu,Ks[2]=hl,Ks[3]=oo,Ks[4]=Te,Ks[5]=me,Ks[6]=at,z=1}else z=0}z&&(z=function(Be,yt){for(Be.M=0;Be.M<Be.Va;++Be.M){var rt,Pe=Be.Jc[Be.M&Be.Xb],qe=Be.m,ht=Be;for(rt=0;rt<ht.za;++rt){var xt=qe,gt=ht,jt=gt.Ac,_t=gt.Bc+4*rt,Wt=gt.zc,kt=gt.ya[gt.aa+rt];if(gt.Qa.Bb?kt.$b=Ce(xt,gt.Pa.jb[0])?2+Ce(xt,gt.Pa.jb[2]):Ce(xt,gt.Pa.jb[1]):kt.$b=0,gt.kc&&(kt.Ad=Ce(xt,gt.Bd)),kt.Za=!Ce(xt,145)+0,kt.Za){var Wn=kt.Ob,ar=0;for(gt=0;4>gt;++gt){var jn,Nn=Wt[0+gt];for(jn=0;4>jn;++jn){Nn=Cm[jt[_t+jn]][Nn];for(var Ar=nc[Ce(xt,Nn[0])];0<Ar;)Ar=nc[2*Ar+Ce(xt,Nn[Ar])];Nn=-Ar,jt[_t+jn]=Nn}r(Wn,ar,jt,_t,4),ar+=4,Wt[0+gt]=Nn}}else Nn=Ce(xt,156)?Ce(xt,128)?1:3:Ce(xt,163)?2:0,kt.Ob[0]=Nn,i(jt,_t,Nn,4),i(Wt,0,Nn,4);kt.Dd=Ce(xt,142)?Ce(xt,114)?Ce(xt,183)?1:3:2:0}if(ht.m.Ka)return Fr(Be,7,"Premature end-of-partition0 encountered.");for(;Be.ja<Be.za;++Be.ja){if(ht=Pe,xt=(qe=Be).rb[qe.sb-1],jt=qe.rb[qe.sb+qe.ja],rt=qe.ya[qe.aa+qe.ja],_t=qe.kc?rt.Ad:0)xt.la=jt.la=0,rt.Za||(xt.Na=jt.Na=0),rt.Hc=0,rt.Gc=0,rt.ia=0;else{var sr,mn;if(xt=jt,jt=ht,_t=qe.Pa.Xc,Wt=qe.ya[qe.aa+qe.ja],kt=qe.pb[Wt.$b],gt=Wt.ad,Wn=0,ar=qe.rb[qe.sb-1],Nn=jn=0,i(gt,Wn,0,384),Wt.Za)var Nr=0,Kt=_t[3];else{Ar=a(16);var on=xt.Na+ar.Na;if(on=sa(jt,_t[1],on,kt.Eb,0,Ar,0),xt.Na=ar.Na=(0<on)+0,1<on)ml(Ar,0,gt,Wn);else{var Hn=Ar[0]+3>>3;for(Ar=0;256>Ar;Ar+=16)gt[Wn+Ar]=Hn}Nr=1,Kt=_t[0]}var Vn=15&xt.la,_a=15&ar.la;for(Ar=0;4>Ar;++Ar){var ua=1&_a;for(Hn=mn=0;4>Hn;++Hn)Vn=Vn>>1|(ua=(on=sa(jt,Kt,on=ua+(1&Vn),kt.Sc,Nr,gt,Wn))>Nr)<<7,mn=mn<<2|(3<on?3:1<on?2:gt[Wn+0]!=0),Wn+=16;Vn>>=4,_a=_a>>1|ua<<7,jn=(jn<<8|mn)>>>0}for(Kt=Vn,Nr=_a>>4,sr=0;4>sr;sr+=2){for(mn=0,Vn=xt.la>>4+sr,_a=ar.la>>4+sr,Ar=0;2>Ar;++Ar){for(ua=1&_a,Hn=0;2>Hn;++Hn)on=ua+(1&Vn),Vn=Vn>>1|(ua=0<(on=sa(jt,_t[2],on,kt.Qc,0,gt,Wn)))<<3,mn=mn<<2|(3<on?3:1<on?2:gt[Wn+0]!=0),Wn+=16;Vn>>=2,_a=_a>>1|ua<<5}Nn|=mn<<4*sr,Kt|=Vn<<4<<sr,Nr|=(240&_a)<<sr}xt.la=Kt,ar.la=Nr,Wt.Hc=jn,Wt.Gc=Nn,Wt.ia=43690&Nn?0:kt.ia,_t=!(jn|Nn)}if(0<qe.L&&(qe.wa[qe.Y+qe.ja]=qe.gd[rt.$b][rt.Za],qe.wa[qe.Y+qe.ja].La|=!_t),ht.Ka)return Fr(Be,7,"Premature end-of-file encountered.")}if(Fa(Be),qe=yt,ht=1,rt=(Pe=Be).D,xt=0<Pe.L&&Pe.M>=Pe.zb&&Pe.M<=Pe.Va,Pe.Aa==0)e:{if(rt.M=Pe.M,rt.uc=xt,Gl(Pe,rt),ht=1,rt=(mn=Pe.D).Nb,xt=(Nn=iu[Pe.L])*Pe.R,jt=Nn/2*Pe.B,Ar=16*rt*Pe.R,Hn=8*rt*Pe.B,_t=Pe.sa,Wt=Pe.ta-xt+Ar,kt=Pe.qa,gt=Pe.ra-jt+Hn,Wn=Pe.Ha,ar=Pe.Ia-jt+Hn,_a=(Vn=mn.M)==0,jn=Vn>=Pe.Va-1,Pe.Aa==2&&Gl(Pe,mn),mn.uc)for(ua=(on=Pe).D.M,n(on.D.uc),mn=on.yb;mn<on.Hb;++mn){Nr=mn,Kt=ua;var Ti=(Oi=(ti=on).D).Nb;sr=ti.R;var Oi=Oi.wa[Oi.Y+Nr],Gi=ti.sa,ho=ti.ta+16*Ti*sr+16*Nr,or=Oi.dd,Qi=Oi.tc;if(Qi!=0)if(n(3<=Qi),ti.L==1)0<Nr&&Kl(Gi,ho,sr,Qi+4),Oi.La&&gi(Gi,ho,sr,Qi),0<Kt&&Zu(Gi,ho,sr,Qi+4),Oi.La&&id(Gi,ho,sr,Qi);else{var Bo=ti.B,ac=ti.qa,dd=ti.ra+8*Ti*Bo+8*Nr,sc=ti.Ha,ti=ti.Ia+8*Ti*Bo+8*Nr;Ti=Oi.ld,0<Nr&&(gl(Gi,ho,sr,Qi+4,or,Ti),Qu(ac,dd,sc,ti,Bo,Qi+4,or,Ti)),Oi.La&&(Xu(Gi,ho,sr,Qi,or,Ti),nf(ac,dd,sc,ti,Bo,Qi,or,Ti)),0<Kt&&(nd(Gi,ho,sr,Qi+4,or,Ti),tf(ac,dd,sc,ti,Bo,Qi+4,or,Ti)),Oi.La&&(Ku(Gi,ho,sr,Qi,or,Ti),rd(ac,dd,sc,ti,Bo,Qi,or,Ti))}}if(Pe.ia&&alert("todo:DitherRow"),qe.put!=null){if(mn=16*Vn,Vn=16*(Vn+1),_a?(qe.y=Pe.sa,qe.O=Pe.ta+Ar,qe.f=Pe.qa,qe.N=Pe.ra+Hn,qe.ea=Pe.Ha,qe.W=Pe.Ia+Hn):(mn-=Nn,qe.y=_t,qe.O=Wt,qe.f=kt,qe.N=gt,qe.ea=Wn,qe.W=ar),jn||(Vn-=Nn),Vn>qe.o&&(Vn=qe.o),qe.F=null,qe.J=null,Pe.Fa!=null&&0<Pe.Fa.length&&mn<Vn&&(qe.J=mh(Pe,qe,mn,Vn-mn),qe.F=Pe.mb,qe.F==null&&qe.F.length==0)){ht=Fr(Pe,3,"Could not decode alpha data.");break e}mn<qe.j&&(Nn=qe.j-mn,mn=qe.j,n(!(1&Nn)),qe.O+=Pe.R*Nn,qe.N+=Pe.B*(Nn>>1),qe.W+=Pe.B*(Nn>>1),qe.F!=null&&(qe.J+=qe.width*Nn)),mn<Vn&&(qe.O+=qe.v,qe.N+=qe.v>>1,qe.W+=qe.v>>1,qe.F!=null&&(qe.J+=qe.v),qe.ka=mn-qe.j,qe.U=qe.va-qe.v,qe.T=Vn-mn,ht=qe.put(qe))}rt+1!=Pe.Ic||jn||(r(Pe.sa,Pe.ta-xt,_t,Wt+16*Pe.R,xt),r(Pe.qa,Pe.ra-jt,kt,gt+8*Pe.B,jt),r(Pe.Ha,Pe.Ia-jt,Wn,ar+8*Pe.B,jt))}if(!ht)return Fr(Be,6,"Output aborted.")}return 1}(S,_)),_.bc!=null&&_.bc(_),z&=1}return z?(S.cb=0,z):0}function ia(S,_,z,W,ie){ie=S[_+z+32*W]+(ie>>3),S[_+z+32*W]=-256&ie?0>ie?0:255:ie}function ul(S,_,z,W,ie,oe){ia(S,_,0,z,W+ie),ia(S,_,1,z,W+oe),ia(S,_,2,z,W-oe),ia(S,_,3,z,W-ie)}function fr(S){return(20091*S>>16)+S}function Oo(S,_,z,W){var ie,oe=0,ue=a(16);for(ie=0;4>ie;++ie){var fe=S[_+0]+S[_+8],ge=S[_+0]-S[_+8],Ae=(35468*S[_+4]>>16)-fr(S[_+12]),Me=fr(S[_+4])+(35468*S[_+12]>>16);ue[oe+0]=fe+Me,ue[oe+1]=ge+Ae,ue[oe+2]=ge-Ae,ue[oe+3]=fe-Me,oe+=4,_++}for(ie=oe=0;4>ie;++ie)fe=(S=ue[oe+0]+4)+ue[oe+8],ge=S-ue[oe+8],Ae=(35468*ue[oe+4]>>16)-fr(ue[oe+12]),ia(z,W,0,0,fe+(Me=fr(ue[oe+4])+(35468*ue[oe+12]>>16))),ia(z,W,1,0,ge+Ae),ia(z,W,2,0,ge-Ae),ia(z,W,3,0,fe-Me),oe++,W+=32}function Vl(S,_,z,W){var ie=S[_+0]+4,oe=35468*S[_+4]>>16,ue=fr(S[_+4]),fe=35468*S[_+1]>>16;ul(z,W,0,ie+ue,S=fr(S[_+1]),fe),ul(z,W,1,ie+oe,S,fe),ul(z,W,2,ie-oe,S,fe),ul(z,W,3,ie-ue,S,fe)}function Io(S,_,z,W,ie){Oo(S,_,z,W),ie&&Oo(S,_+16,z,W+4)}function Us(S,_,z,W){zo(S,_+0,z,W,1),zo(S,_+32,z,W+128,1)}function Bu(S,_,z,W){var ie;for(S=S[_+0]+4,ie=0;4>ie;++ie)for(_=0;4>_;++_)ia(z,W,_,ie,S)}function $s(S,_,z,W){S[_+0]&&Yi(S,_+0,z,W),S[_+16]&&Yi(S,_+16,z,W+4),S[_+32]&&Yi(S,_+32,z,W+128),S[_+48]&&Yi(S,_+48,z,W+128+4)}function Vi(S,_,z,W){var ie,oe=a(16);for(ie=0;4>ie;++ie){var ue=S[_+0+ie]+S[_+12+ie],fe=S[_+4+ie]+S[_+8+ie],ge=S[_+4+ie]-S[_+8+ie],Ae=S[_+0+ie]-S[_+12+ie];oe[0+ie]=ue+fe,oe[8+ie]=ue-fe,oe[4+ie]=Ae+ge,oe[12+ie]=Ae-ge}for(ie=0;4>ie;++ie)ue=(S=oe[0+4*ie]+3)+oe[3+4*ie],fe=oe[1+4*ie]+oe[2+4*ie],ge=oe[1+4*ie]-oe[2+4*ie],Ae=S-oe[3+4*ie],z[W+0]=ue+fe>>3,z[W+16]=Ae+ge>>3,z[W+32]=ue-fe>>3,z[W+48]=Ae-ge>>3,W+=64}function ns(S,_,z){var W,ie=_-32,oe=Ca,ue=255-S[ie-1];for(W=0;W<z;++W){var fe,ge=oe,Ae=ue+S[_-1];for(fe=0;fe<z;++fe)S[_+fe]=ge[Ae+S[ie+fe]];_+=32}}function xs(S,_){ns(S,_,4)}function Uu(S,_){ns(S,_,8)}function za(S,_){ns(S,_,16)}function Hs(S,_){var z;for(z=0;16>z;++z)r(S,_+32*z,S,_-32,16)}function cl(S,_){var z;for(z=16;0<z;--z)i(S,_,S[_-1],16),_+=32}function Ws(S,_,z){var W;for(W=0;16>W;++W)i(_,z+32*W,S,16)}function dl(S,_){var z,W=16;for(z=0;16>z;++z)W+=S[_-1+32*z]+S[_+z-32];Ws(W>>5,S,_)}function oi(S,_){var z,W=8;for(z=0;16>z;++z)W+=S[_-1+32*z];Ws(W>>4,S,_)}function Jr(S,_){var z,W=8;for(z=0;16>z;++z)W+=S[_+z-32];Ws(W>>4,S,_)}function vs(S,_){Ws(128,S,_)}function Xt(S,_,z){return S+2*_+z+2>>2}function so(S,_){var z,W=_-32;for(W=new Uint8Array([Xt(S[W-1],S[W+0],S[W+1]),Xt(S[W+0],S[W+1],S[W+2]),Xt(S[W+1],S[W+2],S[W+3]),Xt(S[W+2],S[W+3],S[W+4])]),z=0;4>z;++z)r(S,_+32*z,W,0,W.length)}function fl(S,_){var z=S[_-1],W=S[_-1+32],ie=S[_-1+64],oe=S[_-1+96];Oe(S,_+0,16843009*Xt(S[_-1-32],z,W)),Oe(S,_+32,16843009*Xt(z,W,ie)),Oe(S,_+64,16843009*Xt(W,ie,oe)),Oe(S,_+96,16843009*Xt(ie,oe,oe))}function _i(S,_){var z,W=4;for(z=0;4>z;++z)W+=S[_+z-32]+S[_-1+32*z];for(W>>=3,z=0;4>z;++z)i(S,_+32*z,W,4)}function qa(S,_){var z=S[_-1+0],W=S[_-1+32],ie=S[_-1+64],oe=S[_-1-32],ue=S[_+0-32],fe=S[_+1-32],ge=S[_+2-32],Ae=S[_+3-32];S[_+0+96]=Xt(W,ie,S[_-1+96]),S[_+1+96]=S[_+0+64]=Xt(z,W,ie),S[_+2+96]=S[_+1+64]=S[_+0+32]=Xt(oe,z,W),S[_+3+96]=S[_+2+64]=S[_+1+32]=S[_+0+0]=Xt(ue,oe,z),S[_+3+64]=S[_+2+32]=S[_+1+0]=Xt(fe,ue,oe),S[_+3+32]=S[_+2+0]=Xt(ge,fe,ue),S[_+3+0]=Xt(Ae,ge,fe)}function Do(S,_){var z=S[_+1-32],W=S[_+2-32],ie=S[_+3-32],oe=S[_+4-32],ue=S[_+5-32],fe=S[_+6-32],ge=S[_+7-32];S[_+0+0]=Xt(S[_+0-32],z,W),S[_+1+0]=S[_+0+32]=Xt(z,W,ie),S[_+2+0]=S[_+1+32]=S[_+0+64]=Xt(W,ie,oe),S[_+3+0]=S[_+2+32]=S[_+1+64]=S[_+0+96]=Xt(ie,oe,ue),S[_+3+32]=S[_+2+64]=S[_+1+96]=Xt(oe,ue,fe),S[_+3+64]=S[_+2+96]=Xt(ue,fe,ge),S[_+3+96]=Xt(fe,ge,ge)}function Ba(S,_){var z=S[_-1+0],W=S[_-1+32],ie=S[_-1+64],oe=S[_-1-32],ue=S[_+0-32],fe=S[_+1-32],ge=S[_+2-32],Ae=S[_+3-32];S[_+0+0]=S[_+1+64]=oe+ue+1>>1,S[_+1+0]=S[_+2+64]=ue+fe+1>>1,S[_+2+0]=S[_+3+64]=fe+ge+1>>1,S[_+3+0]=ge+Ae+1>>1,S[_+0+96]=Xt(ie,W,z),S[_+0+64]=Xt(W,z,oe),S[_+0+32]=S[_+1+96]=Xt(z,oe,ue),S[_+1+32]=S[_+2+96]=Xt(oe,ue,fe),S[_+2+32]=S[_+3+96]=Xt(ue,fe,ge),S[_+3+32]=Xt(fe,ge,Ae)}function Ia(S,_){var z=S[_+0-32],W=S[_+1-32],ie=S[_+2-32],oe=S[_+3-32],ue=S[_+4-32],fe=S[_+5-32],ge=S[_+6-32],Ae=S[_+7-32];S[_+0+0]=z+W+1>>1,S[_+1+0]=S[_+0+64]=W+ie+1>>1,S[_+2+0]=S[_+1+64]=ie+oe+1>>1,S[_+3+0]=S[_+2+64]=oe+ue+1>>1,S[_+0+32]=Xt(z,W,ie),S[_+1+32]=S[_+0+96]=Xt(W,ie,oe),S[_+2+32]=S[_+1+96]=Xt(ie,oe,ue),S[_+3+32]=S[_+2+96]=Xt(oe,ue,fe),S[_+3+64]=Xt(ue,fe,ge),S[_+3+96]=Xt(fe,ge,Ae)}function Ua(S,_){var z=S[_-1+0],W=S[_-1+32],ie=S[_-1+64],oe=S[_-1+96];S[_+0+0]=z+W+1>>1,S[_+2+0]=S[_+0+32]=W+ie+1>>1,S[_+2+32]=S[_+0+64]=ie+oe+1>>1,S[_+1+0]=Xt(z,W,ie),S[_+3+0]=S[_+1+32]=Xt(W,ie,oe),S[_+3+32]=S[_+1+64]=Xt(ie,oe,oe),S[_+3+64]=S[_+2+64]=S[_+0+96]=S[_+1+96]=S[_+2+96]=S[_+3+96]=oe}function Lo(S,_){var z=S[_-1+0],W=S[_-1+32],ie=S[_-1+64],oe=S[_-1+96],ue=S[_-1-32],fe=S[_+0-32],ge=S[_+1-32],Ae=S[_+2-32];S[_+0+0]=S[_+2+32]=z+ue+1>>1,S[_+0+32]=S[_+2+64]=W+z+1>>1,S[_+0+64]=S[_+2+96]=ie+W+1>>1,S[_+0+96]=oe+ie+1>>1,S[_+3+0]=Xt(fe,ge,Ae),S[_+2+0]=Xt(ue,fe,ge),S[_+1+0]=S[_+3+32]=Xt(z,ue,fe),S[_+1+32]=S[_+3+64]=Xt(W,z,ue),S[_+1+64]=S[_+3+96]=Xt(ie,W,z),S[_+1+96]=Xt(oe,ie,W)}function hl(S,_){var z;for(z=0;8>z;++z)r(S,_+32*z,S,_-32,8)}function oo(S,_){var z;for(z=0;8>z;++z)i(S,_,S[_-1],8),_+=32}function ws(S,_,z){var W;for(W=0;8>W;++W)i(_,z+32*W,S,8)}function $(S,_){var z,W=8;for(z=0;8>z;++z)W+=S[_+z-32]+S[_-1+32*z];ws(W>>4,S,_)}function me(S,_){var z,W=4;for(z=0;8>z;++z)W+=S[_+z-32];ws(W>>3,S,_)}function Te(S,_){var z,W=4;for(z=0;8>z;++z)W+=S[_-1+32*z];ws(W>>3,S,_)}function at(S,_){ws(128,S,_)}function Qt(S,_,z){var W=S[_-z],ie=S[_+0],oe=3*(ie-W)+jp[1020+S[_-2*z]-S[_+z]],ue=ad[112+(oe+4>>3)];S[_-z]=Ca[255+W+ad[112+(oe+3>>3)]],S[_+0]=Ca[255+ie-ue]}function Ft(S,_,z,W){var ie=S[_+0],oe=S[_+z];return co[255+S[_-2*z]-S[_-z]]>W||co[255+oe-ie]>W}function kn(S,_,z,W){return 4*co[255+S[_-z]-S[_+0]]+co[255+S[_-2*z]-S[_+z]]<=W}function Sn(S,_,z,W,ie){var oe=S[_-3*z],ue=S[_-2*z],fe=S[_-z],ge=S[_+0],Ae=S[_+z],Me=S[_+2*z],Ge=S[_+3*z];return 4*co[255+fe-ge]+co[255+ue-Ae]>W?0:co[255+S[_-4*z]-oe]<=ie&&co[255+oe-ue]<=ie&&co[255+ue-fe]<=ie&&co[255+Ge-Me]<=ie&&co[255+Me-Ae]<=ie&&co[255+Ae-ge]<=ie}function hr(S,_,z,W){var ie=2*W+1;for(W=0;16>W;++W)kn(S,_+W,z,ie)&&Qt(S,_+W,z)}function pn(S,_,z,W){var ie=2*W+1;for(W=0;16>W;++W)kn(S,_+W*z,1,ie)&&Qt(S,_+W*z,1)}function kr(S,_,z,W){var ie;for(ie=3;0<ie;--ie)hr(S,_+=4*z,z,W)}function wa(S,_,z,W){var ie;for(ie=3;0<ie;--ie)pn(S,_+=4,z,W)}function wr(S,_,z,W,ie,oe,ue,fe){for(oe=2*oe+1;0<ie--;){if(Sn(S,_,z,oe,ue))if(Ft(S,_,z,fe))Qt(S,_,z);else{var ge=S,Ae=_,Me=z,Ge=ge[Ae-2*Me],Ve=ge[Ae-Me],Be=ge[Ae+0],yt=ge[Ae+Me],rt=ge[Ae+2*Me],Pe=27*(ht=jp[1020+3*(Be-Ve)+jp[1020+Ge-yt]])+63>>7,qe=18*ht+63>>7,ht=9*ht+63>>7;ge[Ae-3*Me]=Ca[255+ge[Ae-3*Me]+ht],ge[Ae-2*Me]=Ca[255+Ge+qe],ge[Ae-Me]=Ca[255+Ve+Pe],ge[Ae+0]=Ca[255+Be-Pe],ge[Ae+Me]=Ca[255+yt-qe],ge[Ae+2*Me]=Ca[255+rt-ht]}_+=W}}function Sr(S,_,z,W,ie,oe,ue,fe){for(oe=2*oe+1;0<ie--;){if(Sn(S,_,z,oe,ue))if(Ft(S,_,z,fe))Qt(S,_,z);else{var ge=S,Ae=_,Me=z,Ge=ge[Ae-Me],Ve=ge[Ae+0],Be=ge[Ae+Me],yt=ad[112+((rt=3*(Ve-Ge))+4>>3)],rt=ad[112+(rt+3>>3)],Pe=yt+1>>1;ge[Ae-2*Me]=Ca[255+ge[Ae-2*Me]+Pe],ge[Ae-Me]=Ca[255+Ge+rt],ge[Ae+0]=Ca[255+Ve-yt],ge[Ae+Me]=Ca[255+Be-Pe]}_+=W}}function Qr(S,_,z,W,ie,oe){wr(S,_,z,1,16,W,ie,oe)}function $a(S,_,z,W,ie,oe){wr(S,_,1,z,16,W,ie,oe)}function Vs(S,_,z,W,ie,oe){var ue;for(ue=3;0<ue;--ue)Sr(S,_+=4*z,z,1,16,W,ie,oe)}function Ss(S,_,z,W,ie,oe){var ue;for(ue=3;0<ue;--ue)Sr(S,_+=4,1,z,16,W,ie,oe)}function Yd(S,_,z,W,ie,oe,ue,fe){wr(S,_,ie,1,8,oe,ue,fe),wr(z,W,ie,1,8,oe,ue,fe)}function pl(S,_,z,W,ie,oe,ue,fe){wr(S,_,1,ie,8,oe,ue,fe),wr(z,W,1,ie,8,oe,ue,fe)}function Ro(S,_,z,W,ie,oe,ue,fe){Sr(S,_+4*ie,ie,1,8,oe,ue,fe),Sr(z,W+4*ie,ie,1,8,oe,ue,fe)}function kp(S,_,z,W,ie,oe,ue,fe){Sr(S,_+4,1,ie,8,oe,ue,fe),Sr(z,W+4,1,ie,8,oe,ue,fe)}function Gd(){this.ba=new Gr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Dn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function hh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ph(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Qd(){this.ua=0,this.Wa=new se,this.vb=new se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new j,this.yc=new O}function Sm(){this.xb=this.a=0,this.l=new io,this.ca=new Gr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Qd,this.ab=0,this.gc=s(4,ph),this.Oc=0}function Kd(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new io,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Zc(S,_,z,W,ie,oe,ue){for(S=S==null?0:S[_+0],_=0;_<ue;++_)ie[oe+_]=S+z[W+_]&255,S=ie[oe+_]}function Xd(S,_,z,W,ie,oe,ue){var fe;if(S==null)Zc(null,null,z,W,ie,oe,ue);else for(fe=0;fe<ue;++fe)ie[oe+fe]=S[_+fe]+z[W+fe]&255}function $u(S,_,z,W,ie,oe,ue){if(S==null)Zc(null,null,z,W,ie,oe,ue);else{var fe,ge=S[_+0],Ae=ge,Me=ge;for(fe=0;fe<ue;++fe)Ae=Me+(ge=S[_+fe])-Ae,Me=z[W+fe]+(-256&Ae?0>Ae?0:255:Ae)&255,Ae=ge,ie[oe+fe]=Me}}function mh(S,_,z,W){var ie=_.width,oe=_.o;if(n(S!=null&&_!=null),0>z||0>=W||z+W>oe)return null;if(!S.Cc){if(S.ga==null){var ue;if(S.ga=new Kd,(ue=S.ga==null)||(ue=_.width*_.o,n(S.Gb.length==0),S.Gb=a(ue),S.Uc=0,S.Gb==null?ue=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,ue=1),ue=!ue),!ue){ue=S.ga;var fe=S.Fa,ge=S.P,Ae=S.qc,Me=S.mb,Ge=S.nb,Ve=ge+1,Be=Ae-1,yt=ue.l;if(n(fe!=null&&Me!=null&&_!=null),xl[0]=null,xl[1]=Zc,xl[2]=Xd,xl[3]=$u,ue.ca=Me,ue.tb=Ge,ue.c=_.width,ue.i=_.height,n(0<ue.c&&0<ue.i),1>=Ae)_=0;else if(ue.$a=fe[ge+0]>>0&3,ue.Z=fe[ge+0]>>2&3,ue.Lc=fe[ge+0]>>4&3,ge=fe[ge+0]>>6&3,0>ue.$a||1<ue.$a||4<=ue.Z||1<ue.Lc||ge)_=0;else if(yt.put=si,yt.ac=vr,yt.bc=va,yt.ma=ue,yt.width=_.width,yt.height=_.height,yt.Da=_.Da,yt.v=_.v,yt.va=_.va,yt.j=_.j,yt.o=_.o,ue.$a)e:{n(ue.$a==1),_=Ei();t:for(;;){if(_==null){_=0;break e}if(n(ue!=null),ue.mc=_,_.c=ue.c,_.i=ue.i,_.l=ue.l,_.l.ma=ue,_.l.width=ue.c,_.l.height=ue.i,_.a=0,ee(_.m,fe,Ve,Be),!Zn(ue.c,ue.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&_r(_.s)?(ue.ic=1,fe=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(fe),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(ue.ic=0,_=ro(_,ue.c)),!_))break t;_=1;break e}ue.mc=null,_=0}else _=Be>=ue.c*ue.i;ue=!_}if(ue)return null;S.ga.Lc!=1?S.Ga=0:W=oe-z}n(S.ga!=null),n(z+W<=oe);e:{if(_=(fe=S.ga).c,oe=fe.l.o,fe.$a==0){if(Ve=S.rc,Be=S.Vc,yt=S.Fa,ge=S.P+1+z*_,Ae=S.mb,Me=S.nb+z*_,n(ge<=S.P+S.qc),fe.Z!=0)for(n(xl[fe.Z]!=null),ue=0;ue<W;++ue)xl[fe.Z](Ve,Be,yt,ge,Ae,Me,_),Ve=Ae,Be=Me,Me+=_,ge+=_;else for(ue=0;ue<W;++ue)r(Ae,Me,yt,ge,_),Ve=Ae,Be=Me,Me+=_,ge+=_;S.rc=Ve,S.Vc=Be}else{if(n(fe.mc!=null),_=z+W,n((ue=fe.mc)!=null),n(_<=ue.i),ue.C>=_)_=1;else if(fe.ic||We(),fe.ic){fe=ue.V,Ve=ue.Ba,Be=ue.c;var rt=ue.i,Pe=(yt=1,ge=ue.$/Be,Ae=ue.$%Be,Me=ue.m,Ge=ue.s,ue.$),qe=Be*rt,ht=Be*_,xt=Ge.wc,gt=Pe<ht?dr(Ge,Ae,ge):null;n(Pe<=qe),n(_<=rt),n(_r(Ge));t:for(;;){for(;!Me.h&&Pe<ht;){if(Ae&xt||(gt=dr(Ge,Ae,ge)),n(gt!=null),ne(Me),256>(rt=Mr(gt.G[0],gt.H[0],Me)))fe[Ve+Pe]=rt,++Pe,++Ae>=Be&&(Ae=0,++ge<=_&&!(ge%16)&&Hi(ue,ge));else{if(!(280>rt)){yt=0;break t}rt=$n(rt-256,Me);var jt,_t=Mr(gt.G[4],gt.H[4],Me);if(ne(Me),!(Pe>=(_t=ir(Be,_t=$n(_t,Me)))&&qe-Pe>=rt)){yt=0;break t}for(jt=0;jt<rt;++jt)fe[Ve+Pe+jt]=fe[Ve+Pe+jt-_t];for(Pe+=rt,Ae+=rt;Ae>=Be;)Ae-=Be,++ge<=_&&!(ge%16)&&Hi(ue,ge);Pe<ht&&Ae&xt&&(gt=dr(Ge,Ae,ge))}n(Me.h==re(Me))}Hi(ue,ge>_?_:ge);break t}!yt||Me.h&&Pe<qe?(yt=0,ue.a=Me.h?5:3):ue.$=Pe,_=yt}else _=Wi(ue,ue.V,ue.Ba,ue.c,ue.i,_,To);if(!_){W=0;break e}}z+W>=oe&&(S.Cc=1),W=1}if(!W)return null;if(S.Cc&&((W=S.ga)!=null&&(W.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+z*ie}function D(S,_,z,W,ie,oe){for(;0<ie--;){var ue,fe=S,ge=_+(z?1:0),Ae=S,Me=_+(z?0:3);for(ue=0;ue<W;++ue){var Ge=Ae[Me+4*ue];Ge!=255&&(Ge*=32897,fe[ge+4*ue+0]=fe[ge+4*ue+0]*Ge>>23,fe[ge+4*ue+1]=fe[ge+4*ue+1]*Ge>>23,fe[ge+4*ue+2]=fe[ge+4*ue+2]*Ge>>23)}_+=oe}}function ae(S,_,z,W,ie){for(;0<W--;){var oe;for(oe=0;oe<z;++oe){var ue=S[_+2*oe+0],fe=15&(Ae=S[_+2*oe+1]),ge=4369*fe,Ae=(240&Ae|Ae>>4)*ge>>16;S[_+2*oe+0]=(240&ue|ue>>4)*ge>>16&240|(15&ue|ue<<4)*ge>>16>>4&15,S[_+2*oe+1]=240&Ae|fe}_+=ie}}function Ee(S,_,z,W,ie,oe,ue,fe){var ge,Ae,Me=255;for(Ae=0;Ae<ie;++Ae){for(ge=0;ge<W;++ge){var Ge=S[_+ge];oe[ue+4*ge]=Ge,Me&=Ge}_+=z,ue+=fe}return Me!=255}function Re(S,_,z,W,ie){var oe;for(oe=0;oe<ie;++oe)z[W+oe]=S[_+oe]>>8}function We(){Gs=D,Tn=ae,On=Ee,zr=Re}function ct(S,_,z){M[S]=function(W,ie,oe,ue,fe,ge,Ae,Me,Ge,Ve,Be,yt,rt,Pe,qe,ht,xt){var gt,jt=xt-1>>1,_t=fe[ge+0]|Ae[Me+0]<<16,Wt=Ge[Ve+0]|Be[yt+0]<<16;n(W!=null);var kt=3*_t+Wt+131074>>2;for(_(W[ie+0],255&kt,kt>>16,rt,Pe),oe!=null&&(kt=3*Wt+_t+131074>>2,_(oe[ue+0],255&kt,kt>>16,qe,ht)),gt=1;gt<=jt;++gt){var Wn=fe[ge+gt]|Ae[Me+gt]<<16,ar=Ge[Ve+gt]|Be[yt+gt]<<16,jn=_t+Wn+Wt+ar+524296,Nn=jn+2*(Wn+Wt)>>3;kt=Nn+_t>>1,_t=(jn=jn+2*(_t+ar)>>3)+Wn>>1,_(W[ie+2*gt-1],255&kt,kt>>16,rt,Pe+(2*gt-1)*z),_(W[ie+2*gt-0],255&_t,_t>>16,rt,Pe+(2*gt-0)*z),oe!=null&&(kt=jn+Wt>>1,_t=Nn+ar>>1,_(oe[ue+2*gt-1],255&kt,kt>>16,qe,ht+(2*gt-1)*z),_(oe[ue+2*gt+0],255&_t,_t>>16,qe,ht+(2*gt+0)*z)),_t=Wn,Wt=ar}1&xt||(kt=3*_t+Wt+131074>>2,_(W[ie+xt-1],255&kt,kt>>16,rt,Pe+(xt-1)*z),oe!=null&&(kt=3*Wt+_t+131074>>2,_(oe[ue+xt-1],255&kt,kt>>16,qe,ht+(xt-1)*z)))}}function St(){Ea[Ha]=ru,Ea[rf]=vl,Ea[bl]=rc,Ea[xh]=Ip,Ea[sd]=Dp,Ea[Zl]=of,Ea[Tp]=Lp,Ea[vh]=vl,Ea[tc]=Ip,Ea[Jl]=Dp,Ea[af]=of}function Nt(S){return S&-16384?0>S?0:255:S>>y2}function qt(S,_){return Nt((19077*S>>8)+(26149*_>>8)-14234)}function yn(S,_,z){return Nt((19077*S>>8)-(6419*_>>8)-(13320*z>>8)+8708)}function dn(S,_){return Nt((19077*S>>8)+(33050*_>>8)-17685)}function Fn(S,_,z,W,ie){W[ie+0]=qt(S,z),W[ie+1]=yn(S,_,z),W[ie+2]=dn(S,_)}function ei(S,_,z,W,ie){W[ie+0]=dn(S,_),W[ie+1]=yn(S,_,z),W[ie+2]=qt(S,z)}function li(S,_,z,W,ie){var oe=yn(S,_,z);_=oe<<3&224|dn(S,_)>>3,W[ie+0]=248&qt(S,z)|oe>>5,W[ie+1]=_}function ki(S,_,z,W,ie){var oe=240&dn(S,_)|15;W[ie+0]=240&qt(S,z)|yn(S,_,z)>>4,W[ie+1]=oe}function Ni(S,_,z,W,ie){W[ie+0]=255,Fn(S,_,z,W,ie+1)}function Sa(S,_,z,W,ie){ei(S,_,z,W,ie),W[ie+3]=255}function Mo(S,_,z,W,ie){Fn(S,_,z,W,ie),W[ie+3]=255}function Ys(S,_){return 0>S?0:S>_?_:S}function Po(S,_,z){M[S]=function(W,ie,oe,ue,fe,ge,Ae,Me,Ge){for(var Ve=Me+(-2&Ge)*z;Me!=Ve;)_(W[ie+0],oe[ue+0],fe[ge+0],Ae,Me),_(W[ie+1],oe[ue+0],fe[ge+0],Ae,Me+z),ie+=2,++ue,++ge,Me+=2*z;1&Ge&&_(W[ie+0],oe[ue+0],fe[ge+0],Ae,Me)}}function gh(S,_,z){return z==0?S==0?_==0?6:5:_==0?4:0:z}function Yl(S,_,z,W,ie){switch(S>>>30){case 3:zo(_,z,W,ie,0);break;case 2:mi(_,z,W,ie);break;case 1:Yi(_,z,W,ie)}}function Gl(S,_){var z,W,ie=_.M,oe=_.Nb,ue=S.oc,fe=S.pc+40,ge=S.oc,Ae=S.pc+584,Me=S.oc,Ge=S.pc+600;for(z=0;16>z;++z)ue[fe+32*z-1]=129;for(z=0;8>z;++z)ge[Ae+32*z-1]=129,Me[Ge+32*z-1]=129;for(0<ie?ue[fe-1-32]=ge[Ae-1-32]=Me[Ge-1-32]=129:(i(ue,fe-32-1,127,21),i(ge,Ae-32-1,127,9),i(Me,Ge-32-1,127,9)),W=0;W<S.za;++W){var Ve=_.ya[_.aa+W];if(0<W){for(z=-1;16>z;++z)r(ue,fe+32*z-4,ue,fe+32*z+12,4);for(z=-1;8>z;++z)r(ge,Ae+32*z-4,ge,Ae+32*z+4,4),r(Me,Ge+32*z-4,Me,Ge+32*z+4,4)}var Be=S.Gd,yt=S.Hd+W,rt=Ve.ad,Pe=Ve.Hc;if(0<ie&&(r(ue,fe-32,Be[yt].y,0,16),r(ge,Ae-32,Be[yt].f,0,8),r(Me,Ge-32,Be[yt].ea,0,8)),Ve.Za){var qe=ue,ht=fe-32+16;for(0<ie&&(W>=S.za-1?i(qe,ht,Be[yt].y[15],4):r(qe,ht,Be[yt+1].y,0,4)),z=0;4>z;z++)qe[ht+128+z]=qe[ht+256+z]=qe[ht+384+z]=qe[ht+0+z];for(z=0;16>z;++z,Pe<<=2)qe=ue,ht=fe+cd[z],is[Ve.Ob[z]](qe,ht),Yl(Pe,rt,16*+z,qe,ht)}else if(qe=gh(W,ie,Ve.Ob[0]),nu[qe](ue,fe),Pe!=0)for(z=0;16>z;++z,Pe<<=2)Yl(Pe,rt,16*+z,ue,fe+cd[z]);for(z=Ve.Gc,qe=gh(W,ie,Ve.Dd),Ks[qe](ge,Ae),Ks[qe](Me,Ge),Pe=rt,qe=ge,ht=Ae,255&(Ve=z>>0)&&(170&Ve?qo(Pe,256,qe,ht):Es(Pe,256,qe,ht)),Ve=Me,Pe=Ge,255&(z>>=8)&&(170&z?qo(rt,320,Ve,Pe):Es(rt,320,Ve,Pe)),ie<S.Ub-1&&(r(Be[yt].y,0,ue,fe+480,16),r(Be[yt].f,0,ge,Ae+224,8),r(Be[yt].ea,0,Me,Ge+224,8)),z=8*oe*S.B,Be=S.sa,yt=S.ta+16*W+16*oe*S.R,rt=S.qa,Ve=S.ra+8*W+z,Pe=S.Ha,qe=S.Ia+8*W+z,z=0;16>z;++z)r(Be,yt+z*S.R,ue,fe+32*z,16);for(z=0;8>z;++z)r(rt,Ve+z*S.B,ge,Ae+32*z,8),r(Pe,qe+z*S.B,Me,Ge+32*z,8)}}function Zd(S,_,z,W,ie,oe,ue,fe,ge){var Ae=[0],Me=[0],Ge=0,Ve=ge!=null?ge.kd:0,Be=ge??new hh;if(S==null||12>z)return 7;Be.data=S,Be.w=_,Be.ha=z,_=[_],z=[z],Be.gb=[Be.gb];e:{var yt=_,rt=z,Pe=Be.gb;if(n(S!=null),n(rt!=null),n(Pe!=null),Pe[0]=0,12<=rt[0]&&!t(S,yt[0],"RIFF")){if(t(S,yt[0]+8,"WEBP")){Pe=3;break e}var qe=He(S,yt[0]+4);if(12>qe||4294967286<qe){Pe=3;break e}if(Ve&&qe>rt[0]-8){Pe=7;break e}Pe[0]=qe,yt[0]+=12,rt[0]-=12}Pe=0}if(Pe!=0)return Pe;for(qe=0<Be.gb[0],z=z[0];;){e:{var ht=S;rt=_,Pe=z;var xt=Ae,gt=Me,jt=yt=[0];if((kt=Ge=[Ge])[0]=0,8>Pe[0])Pe=7;else{if(!t(ht,rt[0],"VP8X")){if(He(ht,rt[0]+4)!=10){Pe=3;break e}if(18>Pe[0]){Pe=7;break e}var _t=He(ht,rt[0]+8),Wt=1+Ue(ht,rt[0]+12);if(2147483648<=Wt*(ht=1+Ue(ht,rt[0]+15))){Pe=3;break e}jt!=null&&(jt[0]=_t),xt!=null&&(xt[0]=Wt),gt!=null&&(gt[0]=ht),rt[0]+=18,Pe[0]-=18,kt[0]=1}Pe=0}}if(Ge=Ge[0],yt=yt[0],Pe!=0)return Pe;if(rt=!!(2&yt),!qe&&Ge)return 3;if(oe!=null&&(oe[0]=!!(16&yt)),ue!=null&&(ue[0]=rt),fe!=null&&(fe[0]=0),ue=Ae[0],yt=Me[0],Ge&&rt&&ge==null){Pe=0;break}if(4>z){Pe=7;break}if(qe&&Ge||!qe&&!Ge&&!t(S,_[0],"ALPH")){z=[z],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{_t=S,Pe=_,qe=z;var kt=Be.gb;xt=Be.na,gt=Be.P,jt=Be.Sa,Wt=22,n(_t!=null),n(qe!=null),ht=Pe[0];var Wn=qe[0];for(n(xt!=null),n(jt!=null),xt[0]=null,gt[0]=null,jt[0]=0;;){if(Pe[0]=ht,qe[0]=Wn,8>Wn){Pe=7;break e}var ar=He(_t,ht+4);if(4294967286<ar){Pe=3;break e}var jn=8+ar+1&-2;if(Wt+=jn,0<kt&&Wt>kt){Pe=3;break e}if(!t(_t,ht,"VP8 ")||!t(_t,ht,"VP8L")){Pe=0;break e}if(Wn[0]<jn){Pe=7;break e}t(_t,ht,"ALPH")||(xt[0]=_t,gt[0]=ht+8,jt[0]=ar),ht+=jn,Wn-=jn}}if(z=z[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],Pe!=0)break}z=[z],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if(kt=S,Pe=_,qe=z,xt=Be.gb[0],gt=Be.Ja,jt=Be.xa,_t=Pe[0],ht=!t(kt,_t,"VP8 "),Wt=!t(kt,_t,"VP8L"),n(kt!=null),n(qe!=null),n(gt!=null),n(jt!=null),8>qe[0])Pe=7;else{if(ht||Wt){if(kt=He(kt,_t+4),12<=xt&&kt>xt-12){Pe=3;break e}if(Ve&&kt>qe[0]-8){Pe=7;break e}gt[0]=kt,Pe[0]+=8,qe[0]-=8,jt[0]=Wt}else jt[0]=5<=qe[0]&&kt[_t+0]==47&&!(kt[_t+4]>>5),gt[0]=qe[0];Pe=0}if(z=z[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],_=_[0],Pe!=0)break;if(4294967286<Be.Ja)return 3;if(fe==null||rt||(fe[0]=Be.xa?2:1),ue=[ue],yt=[yt],Be.xa){if(5>z){Pe=7;break}fe=ue,Ve=yt,rt=oe,S==null||5>z?S=0:5<=z&&S[_+0]==47&&!(S[_+4]>>5)?(qe=[0],kt=[0],xt=[0],ee(gt=new U,S,_,z),Ot(gt,qe,kt,xt)?(fe!=null&&(fe[0]=qe[0]),Ve!=null&&(Ve[0]=kt[0]),rt!=null&&(rt[0]=xt[0]),S=1):S=0):S=0}else{if(10>z){Pe=7;break}fe=yt,S==null||10>z||!ra(S,_+3,z-3)?S=0:(Ve=S[_+0]|S[_+1]<<8|S[_+2]<<16,rt=16383&(S[_+7]<<8|S[_+6]),S=16383&(S[_+9]<<8|S[_+8]),1&Ve||3<(Ve>>1&7)||!(Ve>>4&1)||Ve>>5>=Be.Ja||!rt||!S?S=0:(ue&&(ue[0]=rt),fe&&(fe[0]=S),S=1))}if(!S||(ue=ue[0],yt=yt[0],Ge&&(Ae[0]!=ue||Me[0]!=yt)))return 3;ge!=null&&(ge[0]=Be,ge.offset=_-ge.w,n(4294967286>_-ge.w),n(ge.offset==ge.ha-z));break}return Pe==0||Pe==7&&Ge&&ge==null?(oe!=null&&(oe[0]|=Be.na!=null&&0<Be.na.length),W!=null&&(W[0]=ue),ie!=null&&(ie[0]=yt),0):Pe}function Hu(S,_,z){var W=_.width,ie=_.height,oe=0,ue=0,fe=W,ge=ie;if(_.Da=S!=null&&0<S.Da,_.Da&&(fe=S.cd,ge=S.bd,oe=S.v,ue=S.j,11>z||(oe&=-2,ue&=-2),0>oe||0>ue||0>=fe||0>=ge||oe+fe>W||ue+ge>ie))return 0;if(_.v=oe,_.j=ue,_.va=oe+fe,_.o=ue+ge,_.U=fe,_.T=ge,_.da=S!=null&&0<S.da,_.da){if(!he(fe,ge,z=[S.ib],oe=[S.hb]))return 0;_.ib=z[0],_.hb=oe[0]}return _.ob=S!=null&&S.ob,_.Kb=S==null||!S.Sd,_.da&&(_.ob=_.ib<3*W/4&&_.hb<3*ie/4,_.Kb=0),1}function Jd(S){if(S==null)return 2;if(11>S.S){var _=S.f.RGBA;_.fb+=(S.height-1)*_.A,_.A=-_.A}else _=S.f.kb,S=S.height,_.O+=(S-1)*_.fa,_.fa=-_.fa,_.N+=(S-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(S-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(S-1)*_.lb,_.lb=-_.lb);return 0}function Jc(S,_,z,W){if(W==null||0>=S||0>=_)return 2;if(z!=null){if(z.Da){var ie=z.cd,oe=z.bd,ue=-2&z.v,fe=-2&z.j;if(0>ue||0>fe||0>=ie||0>=oe||ue+ie>S||fe+oe>_)return 2;S=ie,_=oe}if(z.da){if(!he(S,_,ie=[z.ib],oe=[z.hb]))return 2;S=ie[0],_=oe[0]}}W.width=S,W.height=_;e:{var ge=W.width,Ae=W.height;if(S=W.S,0>=ge||0>=Ae||!(S>=Ha&&13>S))S=2;else{if(0>=W.Rd&&W.sd==null){ue=oe=ie=_=0;var Me=(fe=ge*Eb[S])*Ae;if(11>S||(oe=(Ae+1)/2*(_=(ge+1)/2),S==12&&(ue=(ie=ge)*Ae)),(Ae=a(Me+2*oe+ue))==null){S=1;break e}W.sd=Ae,11>S?((ge=W.f.RGBA).eb=Ae,ge.fb=0,ge.A=fe,ge.size=Me):((ge=W.f.kb).y=Ae,ge.O=0,ge.fa=fe,ge.Fd=Me,ge.f=Ae,ge.N=0+Me,ge.Ab=_,ge.Cd=oe,ge.ea=Ae,ge.W=0+Me+oe,ge.Db=_,ge.Ed=oe,S==12&&(ge.F=Ae,ge.J=0+Me+2*oe),ge.Tc=ue,ge.lb=ie)}if(_=1,ie=W.S,oe=W.width,ue=W.height,ie>=Ha&&13>ie)if(11>ie)S=W.f.RGBA,_&=(fe=Math.abs(S.A))*(ue-1)+oe<=S.size,_&=fe>=oe*Eb[ie],_&=S.eb!=null;else{S=W.f.kb,fe=(oe+1)/2,Me=(ue+1)/2,ge=Math.abs(S.fa),Ae=Math.abs(S.Ab);var Ge=Math.abs(S.Db),Ve=Math.abs(S.lb),Be=Ve*(ue-1)+oe;_&=ge*(ue-1)+oe<=S.Fd,_&=Ae*(Me-1)+fe<=S.Cd,_=(_&=Ge*(Me-1)+fe<=S.Ed)&ge>=oe&Ae>=fe&Ge>=fe,_&=S.y!=null,_&=S.f!=null,_&=S.ea!=null,ie==12&&(_&=Ve>=oe,_&=Be<=S.Tc,_&=S.F!=null)}else _=0;S=_?0:2}}return S!=0||z!=null&&z.fd&&(S=Jd(W)),S}var aa=64,Wu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ed=24,td=32,ef=8,As=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Le("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(S){return S},M.Predictor2=function(S,_,z){return _[z+0]},M.Predictor3=function(S,_,z){return _[z+1]},M.Predictor4=function(S,_,z){return _[z-1]},M.Predictor5=function(S,_,z){return _e(_e(S,_[z+1]),_[z+0])},M.Predictor6=function(S,_,z){return _e(S,_[z-1])},M.Predictor7=function(S,_,z){return _e(S,_[z+0])},M.Predictor8=function(S,_,z){return _e(_[z-1],_[z+0])},M.Predictor9=function(S,_,z){return _e(_[z+0],_[z+1])},M.Predictor10=function(S,_,z){return _e(_e(S,_[z-1]),_e(_[z+0],_[z+1]))},M.Predictor11=function(S,_,z){var W=_[z+0];return 0>=nt(W>>24&255,S>>24&255,(_=_[z-1])>>24&255)+nt(W>>16&255,S>>16&255,_>>16&255)+nt(W>>8&255,S>>8&255,_>>8&255)+nt(255&W,255&S,255&_)?W:S},M.Predictor12=function(S,_,z){var W=_[z+0];return(Qe((S>>24&255)+(W>>24&255)-((_=_[z-1])>>24&255))<<24|Qe((S>>16&255)+(W>>16&255)-(_>>16&255))<<16|Qe((S>>8&255)+(W>>8&255)-(_>>8&255))<<8|Qe((255&S)+(255&W)-(255&_)))>>>0},M.Predictor13=function(S,_,z){var W=_[z-1];return(st((S=_e(S,_[z+0]))>>24&255,W>>24&255)<<24|st(S>>16&255,W>>16&255)<<16|st(S>>8&255,W>>8&255)<<8|st(S>>0&255,W>>0&255))>>>0};var Am=M.PredictorAdd0;M.PredictorAdd1=De,Le("Predictor2","PredictorAdd2"),Le("Predictor3","PredictorAdd3"),Le("Predictor4","PredictorAdd4"),Le("Predictor5","PredictorAdd5"),Le("Predictor6","PredictorAdd6"),Le("Predictor7","PredictorAdd7"),Le("Predictor8","PredictorAdd8"),Le("Predictor9","PredictorAdd9"),Le("Predictor10","PredictorAdd10"),Le("Predictor11","PredictorAdd11"),Le("Predictor12","PredictorAdd12"),Le("Predictor13","PredictorAdd13");var bh=M.PredictorAdd2;ut("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var Np,lo=M.ColorIndexInverseTransform,Aa=M.MapARGB,Vu=M.VP8LColorIndexInverseTransformAlpha,yh=M.MapAlpha,Ql=M.VP8LPredictorsAdd=[];Ql.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var Yu,rs,Da,Gu,Cs,Fo,ml,zo,mi,qo,Yi,Es,nd,gl,tf,Qu,Ku,Xu,rd,nf,Zu,Kl,id,gi,Gs,Tn,On,zr,ji=a(511),uo=a(2041),Ju=a(225),ec=a(767),Xl=0,jp=uo,ad=Ju,Ca=ec,co=ji,Ha=0,rf=1,bl=2,xh=3,sd=4,Zl=5,Tp=6,vh=7,tc=8,Jl=9,af=10,Op=[2,3,7],fo=[3,3,11],Qs=[280,256,256,256,40],od=[0,1,1,1,0],eu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],tu=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ld=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],vb=8,wh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Sh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],sa=null,bi=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Jn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],nc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yl=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Cm=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ud=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],wb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],nu=[],is=[],Ks=[],Sb=1,sf=2,xl=[],Ea=[];ct("UpsampleRgbLinePair",Fn,3),ct("UpsampleBgrLinePair",ei,3),ct("UpsampleRgbaLinePair",Mo,4),ct("UpsampleBgraLinePair",Sa,4),ct("UpsampleArgbLinePair",Ni,4),ct("UpsampleRgba4444LinePair",ki,2),ct("UpsampleRgb565LinePair",li,2);var ru=M.UpsampleRgbLinePair,rc=M.UpsampleBgrLinePair,vl=M.UpsampleRgbaLinePair,Ip=M.UpsampleBgraLinePair,Dp=M.UpsampleArgbLinePair,of=M.UpsampleRgba4444LinePair,Lp=M.UpsampleRgb565LinePair,wl=16,oa=1<<wl-1,ic=-227,Rp=482,y2=6,Ab=0,x2=a(256),la=a(256),Em=a(256),Ah=a(256),Ch=a(Rp-ic),_m=a(Rp-ic);Po("YuvToRgbRow",Fn,3),Po("YuvToBgrRow",ei,3),Po("YuvToRgbaRow",Mo,4),Po("YuvToBgraRow",Sa,4),Po("YuvToArgbRow",Ni,4),Po("YuvToRgba4444Row",ki,2),Po("YuvToRgb565Row",li,2);var cd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],iu=[0,2,8],v2=[8,7,6,4,4,2,2,2,1,1,1,1],Cb=1;this.WebPDecodeRGBA=function(S,_,z,W,ie){var oe=rf,ue=new Gd,fe=new Gr;ue.ba=fe,fe.S=oe,fe.width=[fe.width],fe.height=[fe.height];var ge=fe.width,Ae=fe.height,Me=new rr;if(Me==null||S==null)var Ge=2;else n(Me!=null),Ge=Zd(S,_,z,Me.width,Me.height,Me.Pd,Me.Qd,Me.format,null);if(Ge!=0?ge=0:(ge!=null&&(ge[0]=Me.width[0]),Ae!=null&&(Ae[0]=Me.height[0]),ge=1),ge){fe.width=fe.width[0],fe.height=fe.height[0],W!=null&&(W[0]=fe.width),ie!=null&&(ie[0]=fe.height);e:{if(W=new io,(ie=new hh).data=S,ie.w=_,ie.ha=z,ie.kd=1,_=[0],n(ie!=null),((S=Zd(ie.data,ie.w,ie.ha,null,null,null,_,null,ie))==0||S==7)&&_[0]&&(S=4),(_=S)==0){if(n(ue!=null),W.data=ie.data,W.w=ie.w+ie.offset,W.ha=ie.ha-ie.offset,W.put=si,W.ac=vr,W.bc=va,W.ma=ue,ie.xa){if((S=Ei())==null){ue=1;break e}if(function(Ve,Be){var yt=[0],rt=[0],Pe=[0];t:for(;;){if(Ve==null)return 0;if(Be==null)return Ve.a=2,0;if(Ve.l=Be,Ve.a=0,ee(Ve.m,Be.data,Be.w,Be.ha),!Ot(Ve.m,yt,rt,Pe)){Ve.a=3;break t}if(Ve.xb=sf,Be.width=yt[0],Be.height=rt[0],!Zn(yt[0],rt[0],1,Ve,null))break t;return 1}return n(Ve.a!=0),0}(S,W)){if(W=(_=Jc(W.width,W.height,ue.Oa,ue.ba))==0){t:{W=S;n:for(;;){if(W==null){W=0;break t}if(n(W.s.yc!=null),n(W.s.Ya!=null),n(0<W.s.Wb),n((z=W.l)!=null),n((ie=z.ma)!=null),W.xb!=0){if(W.ca=ie.ba,W.tb=ie.tb,n(W.ca!=null),!Hu(ie.Oa,z,xh)){W.a=2;break n}if(!ro(W,z.width)||z.da)break n;if((z.da||sn(W.ca.S))&&We(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&We()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!V(W.s.vb,W.s.Wa.Xa)){W.a=1;break n}W.xb=0}if(!Wi(W,W.V,W.Ba,W.c,W.i,z.o,gs))break n;ie.Dc=W.Ma,W=1;break t}n(W.a!=0),W=0}W=!W}W&&(_=S.a)}else _=S.a}else{if((S=new Xc)==null){ue=1;break e}if(S.Fa=ie.na,S.P=ie.P,S.qc=ie.Sa,ao(S,W)){if((_=Jc(W.width,W.height,ue.Oa,ue.ba))==0){if(S.Aa=0,z=ue.Oa,n((ie=S)!=null),z!=null){if(0<(ge=0>(ge=z.Md)?0:100<ge?255:255*ge/100)){for(Ae=Me=0;4>Ae;++Ae)12>(Ge=ie.pb[Ae]).lc&&(Ge.ia=ge*v2[0>Ge.lc?0:Ge.lc]>>3),Me|=Ge.ia;Me&&(alert("todo:VP8InitRandom"),ie.ia=1)}ie.Ga=z.Id,100<ie.Ga?ie.Ga=100:0>ie.Ga&&(ie.Ga=0)}Wl(S,W)||(_=S.a)}}else _=S.a}_==0&&ue.Oa!=null&&ue.Oa.fd&&(_=Jd(ue.ba))}ue=_}oe=ue!=0?null:11>oe?fe.f.RGBA.eb:fe.f.kb.y}else oe=null;return oe};var Eb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(M,q){for(var Q="",T=0;T<4;T++)Q+=String.fromCharCode(M[q++]);return Q}function h(M,q){return(M[q+0]<<0|M[q+1]<<8|M[q+2]<<16)>>>0}function g(M,q){return(M[q+0]<<0|M[q+1]<<8|M[q+2]<<16|M[q+3]<<24)>>>0}new c;var b=[0],m=[0],x=[],y=new c,A=e,w=function(M,q){var Q={},T=0,O=!1,L=0,j=0;if(Q.frames=[],!function(B,re,Z,ne){for(var ve=0;ve<ne;ve++)if(B[re+ve]!=Z.charCodeAt(ve))return!0;return!1}(M,q,"RIFF",4)){for(g(M,q+=4),q+=8;q<M.length;){var X=d(M,q),H=g(M,q+=4);q+=4;var G=H+(1&H);switch(X){case"VP8 ":case"VP8L":Q.frames[T]===void 0&&(Q.frames[T]={}),(Y=Q.frames[T]).src_off=O?j:q-8,Y.src_size=L+H+8,T++,O&&(O=!1,L=0,j=0);break;case"VP8X":(Y=Q.header={}).feature_flags=M[q];var ee=q+4;Y.canvas_width=1+h(M,ee),ee+=3,Y.canvas_height=1+h(M,ee),ee+=3;break;case"ALPH":O=!0,L=G+8,j=q-8;break;case"ANIM":(Y=Q.header).bgcolor=g(M,q),ee=q+4,Y.loop_count=(te=M)[(U=ee)+0]<<0|te[U+1]<<8,ee+=2;break;case"ANMF":var le,Y;(Y=Q.frames[T]={}).offset_x=2*h(M,q),q+=3,Y.offset_y=2*h(M,q),q+=3,Y.width=1+h(M,q),q+=3,Y.height=1+h(M,q),q+=3,Y.duration=h(M,q),q+=3,le=M[q++],Y.dispose=1&le,Y.blend=le>>1&1}X!="ANMF"&&(q+=G)}var te,U;return Q}}(A,0);w.response=A,w.rgbaoutput=!0,w.dataurl=!1;var C=w.header?w.header:null,N=w.frames?w.frames:null;if(C){C.loop_counter=C.loop_count,b=[C.canvas_height],m=[C.canvas_width];for(var P=0;P<N.length&&N[P].blend!=0;P++);}var F=N[0],R=y.WebPDecodeRGBA(A,F.src_off,F.src_size,m,b);F.rgba=R,F.imgwidth=m[0],F.imgheight=b[0];for(var k=0;k<m[0]*b[0]*4;k++)x[k]=R[k];return this.width=m,this.height=b,this.data=x,this}(function(e){var n=function(){return typeof LS=="function"},t=function(b,m,x,y){var A=4,w=s;switch(y){case e.image_compression.FAST:A=1,w=a;break;case e.image_compression.MEDIUM:A=6,w=l;break;case e.image_compression.SLOW:A=9,w=c}b=r(b,m,x,w);var C=LS(b,{level:A});return e.__addimage__.arrayBufferToBinaryString(C)},r=function(b,m,x,y){for(var A,w,C,N=b.length/m,P=new Uint8Array(b.length+N),F=h(),R=0;R<N;R+=1){if(C=R*m,A=b.subarray(C,C+m),y)P.set(y(A,x,w),C+R);else{for(var k,M=F.length,q=[];k<M;k+=1)q[k]=F[k](A,x,w);var Q=g(q.concat());P.set(q[Q],C+R)}w=A}return P},i=function(b){var m=Array.apply([],b);return m.unshift(0),m},a=function(b,m){var x,y=[],A=b.length;y[0]=1;for(var w=0;w<A;w+=1)x=b[w-m]||0,y[w+1]=b[w]-x+256&255;return y},s=function(b,m,x){var y,A=[],w=b.length;A[0]=2;for(var C=0;C<w;C+=1)y=x&&x[C]||0,A[C+1]=b[C]-y+256&255;return A},l=function(b,m,x){var y,A,w=[],C=b.length;w[0]=3;for(var N=0;N<C;N+=1)y=b[N-m]||0,A=x&&x[N]||0,w[N+1]=b[N]+256-(y+A>>>1)&255;return w},c=function(b,m,x){var y,A,w,C,N=[],P=b.length;N[0]=4;for(var F=0;F<P;F+=1)y=b[F-m]||0,A=x&&x[F]||0,w=x&&x[F-m]||0,C=d(y,A,w),N[F+1]=b[F]-C+256&255;return N},d=function(b,m,x){if(b===m&&m===x)return b;var y=Math.abs(m-x),A=Math.abs(b-x),w=Math.abs(b+m-x-x);return y<=A&&y<=w?b:A<=w?m:x},h=function(){return[i,a,s,l,c]},g=function(b){var m=b.map(function(x){return x.reduce(function(y,A){return y+Math.abs(A)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(b,m,x,y){var A,w,C,N,P,F,R,k,M,q,Q,T,O,L,j,X=this.decode.FLATE_DECODE,H="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(C=new SK(b)).imgData,w=C.bits,A=C.colorSpace,P=C.colors,[4,6].indexOf(C.colorType)!==-1){if(C.bits===8){M=(k=C.pixelBitlength==32?new Uint32Array(C.decodePixels().buffer):C.pixelBitlength==16?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,Q=new Uint8Array(M*C.colors),q=new Uint8Array(M);var G,ee=C.pixelBitlength-C.bits;for(L=0,j=0;L<M;L++){for(O=k[L],G=0;G<ee;)Q[j++]=O>>>G&255,G+=C.bits;q[L]=O>>>G&255}}if(C.bits===16){M=(k=new Uint32Array(C.decodePixels().buffer)).length,Q=new Uint8Array(M*(32/C.pixelBitlength)*C.colors),q=new Uint8Array(M*(32/C.pixelBitlength)),T=C.colors>1,L=0,j=0;for(var le=0;L<M;)O=k[L++],Q[j++]=O>>>0&255,T&&(Q[j++]=O>>>16&255,O=k[L++],Q[j++]=O>>>0&255),q[le++]=O>>>16&255;w=8}y!==e.image_compression.NONE&&n()?(b=t(Q,C.width*C.colors,C.colors,y),R=t(q,C.width,1,y)):(b=Q,R=q,X=void 0)}if(C.colorType===3&&(A=this.color_spaces.INDEXED,F=C.palette,C.transparency.indexed)){var Y=C.transparency.indexed,te=0;for(L=0,M=Y.length;L<M;++L)te+=Y[L];if((te/=255)===M-1&&Y.indexOf(0)!==-1)N=[Y.indexOf(0)];else if(te!==M){for(k=C.decodePixels(),q=new Uint8Array(k.length),L=0,M=k.length;L<M;L++)q[L]=Y[k[L]];R=t(q,C.width,1)}}var U=function(B){var re;switch(B){case e.image_compression.FAST:re=11;break;case e.image_compression.MEDIUM:re=13;break;case e.image_compression.SLOW:re=14;break;default:re=12}return re}(y);return X===this.decode.FLATE_DECODE&&(H="/Predictor "+U+" "),H+="/Colors "+P+" /BitsPerComponent "+w+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(R&&this.__addimage__.isArrayBuffer(R)||this.__addimage__.isArrayBufferView(R))&&(R=this.__addimage__.arrayBufferToBinaryString(R)),{alias:x,data:b,index:m,filter:X,decodeParameters:H,transparency:N,palette:F,sMask:R,predictor:U,width:C.width,height:C.height,bitsPerComponent:w,colorSpace:A}}}})(an.API),function(e){e.processGIF89A=function(n,t,r,i){var a=new AK(n),s=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:s,height:l},h=new pw(100).encode(d,100);return e.processJPEG.call(this,h,t,r,i)},e.processGIF87A=e.processGIF89A}(an.API),hu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var n=0;n<e;n++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[n]={red:i,green:r,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},hu.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,n=this.width*this.height*4;this.data=new Uint8Array(n),this[e]()}catch(t){Xr.log("bit decode error:"+t)}},hu.prototype.bit1=function(){var e,n=Math.ceil(this.width/8),t=n%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<n;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}t!==0&&(this.pos+=4-t)}},hu.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),n=e%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,l=a>>4,c=15&a,d=this.palette[l];if(this.data[s]=d.blue,this.data[s+1]=d.green,this.data[s+2]=d.red,this.data[s+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[s+4]=d.blue,this.data[s+4+1]=d.green,this.data[s+4+2]=d.red,this.data[s+4+3]=255}n!==0&&(this.pos+=4-n)}},hu.prototype.bit8=function(){for(var e=this.width%4,n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},hu.prototype.bit15=function(){for(var e=this.width%3,n=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&n)/n*255|0,l=(a>>5&n)/n*255|0,c=(a>>10&n)/n*255|0,d=a>>15?255:0,h=r*this.width*4+4*i;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=s,this.data[h+3]=d}this.pos+=e}},hu.prototype.bit16=function(){for(var e=this.width%3,n=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&n)/n*255|0,c=(s>>5&t)/t*255|0,d=(s>>11)/n*255|0,h=i*this.width*4+4*a;this.data[h]=d,this.data[h+1]=c,this.data[h+2]=l,this.data[h+3]=255}this.pos+=e}},hu.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*t;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},hu.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*t;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=s}},hu.prototype.getData=function(){return this.data},function(e){e.processBMP=function(n,t,r,i){var a=new hu(n,!1),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},d=new pw(100).encode(c,100);return e.processJPEG.call(this,d,t,r,i)}}(an.API),t4.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(n,t,r,i){var a=new t4(n),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},d=new pw(100).encode(c,100);return e.processJPEG.call(this,d,t,r,i)}}(an.API),an.API.processRGBA=function(e,n,t){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,c=0,d=0;d<i;d+=4){var h=r[d],g=r[d+1],b=r[d+2],m=r[d+3];a[l++]=h,a[l++]=g,a[l++]=b,s[c++]=m}var x=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:x,index:n,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},an.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},o0=an.API,By=o0.getCharWidthsArray=function(e,n){var t,r,i=(n=n||{}).font||this.internal.getFont(),a=n.fontSize||this.internal.getFontSize(),s=n.charSpace||this.internal.getCharSpace(),l=n.widths?n.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,d=n.kerning?n.kerning:i.metadata.Unicode.kerning,h=d.fof?d.fof:1,g=n.doKerning!==!1,b=0,m=e.length,x=0,y=l[0]||c,A=[];for(t=0;t<m;t++)r=e.charCodeAt(t),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(b=g&&Zr(d[r])==="object"&&!isNaN(parseInt(d[r][x],10))?d[r][x]/h:0,A.push((l[r]||y)/c+b)),x=r;return A},Xk=o0.getStringUnitWidth=function(e,n){var t=(n=n||{}).fontSize||this.internal.getFontSize(),r=n.font||this.internal.getFont(),i=n.charSpace||this.internal.getCharSpace();return o0.processArabic&&(e=o0.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,t,i)/t:By.apply(this,arguments).reduce(function(a,s){return a+s},0)},Zk=function(e,n,t,r){for(var i=[],a=0,s=e.length,l=0;a!==s&&l+n[a]<t;)l+=n[a],a++;i.push(e.slice(0,a));var c=a;for(l=0;a!==s;)l+n[a]>r&&(i.push(e.slice(c,a)),l=0,c=a),l+=n[a],a++;return c!==a&&i.push(e.slice(c,a)),i},Jk=function(e,n,t){t||(t={});var r,i,a,s,l,c,d,h=[],g=[h],b=t.textIndent||0,m=0,x=0,y=e.split(" "),A=By.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?y[0].length+2:t.lineIndent||0){var w=Array(c).join(" "),C=[];y.map(function(P){(P=P.split(/\s*\n/)).length>1?C=C.concat(P.map(function(F,R){return(R&&F.length?`
`:"")+F})):C.push(P[0])}),y=C,c=Xk.apply(this,[w,t])}for(a=0,s=y.length;a<s;a++){var N=0;if(r=y[a],c&&r[0]==`
`&&(r=r.substr(1),N=1),b+m+(x=(i=By.apply(this,[r,t])).reduce(function(P,F){return P+F},0))>n||N){if(x>n){for(l=Zk.apply(this,[r,i,n-(b+m),n]),h.push(l.shift()),h=[l.pop()];l.length;)g.push([l.shift()]);x=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(P,F){return P+F},0)}else h=[r];g.push(h),b=x+c,m=A}else h.push(r),b+=m+x,m=A}return d=c?function(P,F){return(F?w:"")+P.join(" ")}:function(P){return P.join(" ")},g.map(d)},o0.splitTextToSize=function(e,n,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var g=this.internal.getFont(h.fontName,h.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*n/i;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=t.lineIndent;var l,c,d=[];for(l=0,c=r.length;l<c;l++)d=d.concat(Jk.apply(this,[r[l],s,a]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var n="klmnopqrstuvwxyz",t={},r={},i=0;i<n.length;i++)t[n[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=n[i];var a=function(g){return"0x"+parseInt(g,10).toString(16)},s=e.__fontmetrics__.compress=function(g){var b,m,x,y,A=["{"];for(var w in g){if(b=g[w],isNaN(parseInt(w,10))?m="'"+w+"'":(w=parseInt(w,10),m=(m=a(w).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof b=="number")b<0?(x=a(b).slice(3),y="-"):(x=a(b).slice(2),y=""),x=y+x.slice(0,-1)+r[x.slice(-1)];else{if(Zr(b)!=="object")throw new Error("Don't know what to do with value type "+Zr(b)+".");x=s(b)}A.push(m+x)}return A.push("}"),A.join("")},l=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,m,x,y,A={},w=1,C=A,N=[],P="",F="",R=g.length-1,k=1;k<R;k+=1)(y=g[k])=="'"?b?(x=b.join(""),b=void 0):b=[]:b?b.push(y):y=="{"?(N.push([C,x]),C={},x=void 0):y=="}"?((m=N.pop())[0][m[1]]=C,x=void 0,C=m[0]):y=="-"?w=-1:x===void 0?t.hasOwnProperty(y)?(P+=t[y],x=parseInt(P,16)*w,w=1,P=""):P+=y:t.hasOwnProperty(y)?(F+=t[y],C[x]=parseInt(F,16)*w,w=1,x=void 0,F=""):F+=y;return A},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var b=g.font,m=h.Unicode[b.postScriptName];m&&(b.metadata.Unicode={},b.metadata.Unicode.widths=m.widths,b.metadata.Unicode.kerning=m.kerning);var x=d.Unicode[b.postScriptName];x&&(b.metadata.Unicode.encoding=x,b.encoding=x.codePages[0])}])}(an.API),function(e){var n=function(t){for(var r=t.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=t.charCodeAt(a);return i};e.API.events.push(["addFont",function(t){var r=void 0,i=t.font,a=t.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?n(l):n(ag(l)),s.metadata=e.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(an),function(e){function n(){return(ln.canvg?Promise.resolve(ln.canvg):Ri(()=>import("./index.es-DgMabZXj.js"),__vite__mapDeps([6,4,1]))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}an.API.addSvgAsImage=function(t,r,i,a,s,l,c,d){if(isNaN(r)||isNaN(i))throw Xr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Xr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=a,h.height=s;var g=h.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,h.width,h.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return n().then(function(x){return x.fromString(g,t,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(b)}).then(function(){m.addImage(h.toDataURL("image/jpeg",1),r,i,a,s,c,d)})}}(),an.API.putTotalPages=function(e){var n,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(n=new RegExp(e,"g"),t=this.internal.getNumberOfPages()):(n=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(n,t);return this},an.API.viewerPreferences=function(e,n){var t;e=e||{},n=n||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],d=0,h=0,g=0;function b(x,y){var A,w=!1;for(A=0;A<x.length;A+=1)x[A]===y&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,e==="reset"||n===!0){var m=l.length;for(g=0;g<m;g+=1)t[l[g]].value=t[l[g]].defaultValue,t[l[g]].explicitSet=!1}if(Zr(e)==="object"){for(i in e)if(a=e[i],b(l,i)&&a!==void 0){if(t[i].type==="boolean"&&typeof a=="boolean")t[i].value=a;else if(t[i].type==="name"&&b(t[i].valueSet,a))t[i].value=a;else if(t[i].type==="integer"&&Number.isInteger(a))t[i].value=a;else if(t[i].type==="array"){for(d=0;d<a.length;d+=1)if(r=!0,a[d].length===1&&typeof a[d][0]=="number")c.push(String(a[d]-1));else if(a[d].length>1){for(h=0;h<a[d].length;h+=1)typeof a[d][h]!="number"&&(r=!1);r===!0&&c.push([a[d][0]-1,a[d][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,y=[];for(x in t)t[x].explicitSet===!0&&(t[x].type==="name"?y.push("/"+x+" /"+t[x].value):y.push("/"+x+" "+t[x].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(e){var n=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+s.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",n)),this}}(an.API),function(e){var n=e.API,t=n.pdfEscape16=function(a,s){for(var l,c=s.metadata.Unicode.widths,d=["","0","00","000","0000"],h=[""],g=0,b=a.length;g<b;++g){if(l=s.metadata.characterToGlyph(a.charCodeAt(g)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(g),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(d[4-l.length],l)}return h.join("")},r=function(a){var s,l,c,d,h,g,b;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],g=0,b=(l=Object.keys(a).sort(function(m,x){return m-x})).length;g<b;g++)s=l[g],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(d=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+d+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};n.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,d=s.newObject,h=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var g=l.metadata.Unicode.widths,b=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",x=0;x<b.length;x++)m+=String.fromCharCode(b[x]);var y=d();h({data:m,addLength1:!0,objectId:y}),c("endobj");var A=d();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:A}),c("endobj");var w=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+j0(l.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var C=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+j0(l.fontName)),c("/FontDescriptor "+w+" 0 R"),c("/W "+e.API.PDFObject.convert(g)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+A+" 0 R"),c("/BaseFont /"+j0(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+C+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),n.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,d=s.newObject,h=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var g=l.metadata.rawData,b="",m=0;m<g.length;m++)b+=String.fromCharCode(g[m]);var x=d();h({data:b,addLength1:!0,objectId:x}),c("endobj");var y=d();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var A=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+j0(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+j0(l.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,l=a.text||"",c=a.x,d=a.y,h=a.options||{},g=a.mutex||{},b=g.pdfEscape,m=g.activeFontKey,x=g.fonts,y=m,A="",w=0,C="",N=x[y].encoding;if(x[y].encoding!=="Identity-H")return{text:l,x:c,y:d,options:h,mutex:g};for(C=l,y=m,Array.isArray(l)&&(C=l[0]),w=0;w<C.length;w+=1)x[y].metadata.hasOwnProperty("cmap")&&(s=x[y].metadata.cmap.unicode.codeMap[C[w].charCodeAt(0)]),s||C[w].charCodeAt(0)<256&&x[y].metadata.hasOwnProperty("Unicode")?A+=C[w]:A+="";var P="";return parseInt(y.slice(1))<14||N==="WinAnsiEncoding"?P=b(A,y).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(P=t(A,x[y])),g.isHex=!0,{text:P,x:c,y:d,options:h,mutex:g}};n.events.push(["postProcessText",function(a){var s=a.text||"",l=[],c={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var d=0;for(d=0;d<s.length;d+=1)Array.isArray(s[d])&&s[d].length===3?l.push([i(Object.assign({},c,{text:s[d][0]})).text,s[d][1],s[d][2]]):l.push(i(Object.assign({},c,{text:s[d]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:s})).text}])}(an),function(e){var n=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(t){return n.call(this),this.internal.vFS[t]!==void 0},e.addFileToVFS=function(t,r){return n.call(this),this.internal.vFS[t]=r,this},e.getFileFromVFS=function(t){return n.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(an.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,s,l,c,d,h,g=n,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,N=0;this.__bidiEngine__={};var P=function(T){var O=T.charCodeAt(),L=O>>8,j=y[L];return j!==void 0?g[256*j+(255&O)]:L===252||L===253?"AL":w.test(L)?"L":L===8?"R":"N"},F=function(T){for(var O,L=0;L<T.length;L++){if((O=P(T.charAt(L)))==="L")return!1;if(O==="R")return!0}return!1},R=function(T,O,L,j){var X,H,G,ee,le=O[j];switch(le){case"L":case"R":C=!1;break;case"N":case"AN":break;case"EN":C&&(le="AN");break;case"AL":C=!0,le="R";break;case"WS":le="N";break;case"CS":j<1||j+1>=O.length||(X=L[j-1])!=="EN"&&X!=="AN"||(H=O[j+1])!=="EN"&&H!=="AN"?le="N":C&&(H="AN"),le=H===X?H:"N";break;case"ES":le=(X=j>0?L[j-1]:"B")==="EN"&&j+1<O.length&&O[j+1]==="EN"?"EN":"N";break;case"ET":if(j>0&&L[j-1]==="EN"){le="EN";break}if(C){le="N";break}for(G=j+1,ee=O.length;G<ee&&O[G]==="ET";)G++;le=G<ee&&O[G]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(ee=O.length,G=j+1;G<ee&&O[G]==="NSM";)G++;if(G<ee){var Y=T[j],te=Y>=1425&&Y<=2303||Y===64286;if(X=O[G],te&&(X==="R"||X==="AL")){le="R";break}}}le=j<1||(X=O[j-1])==="B"?"N":L[j-1];break;case"B":C=!1,i=!0,le=N;break;case"S":a=!0,le="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"BN":le="N"}return le},k=function(T,O,L){var j=T.split("");return L&&M(j,L,{hiLevel:N}),j.reverse(),O&&O.reverse(),j.join("")},M=function(T,O,L){var j,X,H,G,ee,le=-1,Y=T.length,te=0,U=[],B=N?m:b,re=[];for(C=!1,i=!1,a=!1,X=0;X<Y;X++)re[X]=P(T[X]);for(H=0;H<Y;H++){if(ee=te,U[H]=R(T,re,U,H),j=240&(te=B[ee][x[U[H]]]),te&=15,O[H]=G=B[te][5],j>0)if(j===16){for(X=le;X<H;X++)O[X]=1;le=-1}else le=-1;if(B[te][6])le===-1&&(le=H);else if(le>-1){for(X=le;X<H;X++)O[X]=G;le=-1}re[H]==="B"&&(O[H]=0),L.hiLevel|=G}a&&function(Z,ne,ve){for(var ye=0;ye<ve;ye++)if(Z[ye]==="S"){ne[ye]=N;for(var Ce=ye-1;Ce>=0&&Z[Ce]==="WS";Ce--)ne[Ce]=N}}(re,O,Y)},q=function(T,O,L,j,X){if(!(X.hiLevel<T)){if(T===1&&N===1&&!i)return O.reverse(),void(L&&L.reverse());for(var H,G,ee,le,Y=O.length,te=0;te<Y;){if(j[te]>=T){for(ee=te+1;ee<Y&&j[ee]>=T;)ee++;for(le=te,G=ee-1;le<G;le++,G--)H=O[le],O[le]=O[G],O[G]=H,L&&(H=L[le],L[le]=L[G],L[G]=H);te=ee}te++}}},Q=function(T,O,L){var j=T.split(""),X={hiLevel:N};return L||(L=[]),M(j,L,X),function(H,G,ee){if(ee.hiLevel!==0&&h)for(var le,Y=0;Y<H.length;Y++)G[Y]===1&&(le=A.indexOf(H[Y]))>=0&&(H[Y]=A[le+1])}(j,L,X),q(2,j,O,L,X),q(1,j,O,L,X),j.join("")};return this.__bidiEngine__.doBidiReorder=function(T,O,L){if(function(X,H){if(H)for(var G=0;G<X.length;G++)H[G]=G;l===void 0&&(l=F(X)),d===void 0&&(d=F(X))}(T,O),s||!c||d)if(s&&c&&l^d)N=l?1:0,T=k(T,O,L);else if(!s&&c&&d)N=l?1:0,T=Q(T,O,L),T=k(T,O);else if(!s||l||c||d){if(s&&!c&&l^d)T=k(T,O),l?(N=0,T=Q(T,O,L)):(N=1,T=Q(T,O,L),T=k(T,O));else if(s&&l&&!c&&d)N=1,T=Q(T,O,L),T=k(T,O);else if(!s&&!c&&l^d){var j=h;l?(N=1,T=Q(T,O,L),N=0,h=!1,T=Q(T,O,L),h=j):(N=0,T=Q(T,O,L),T=k(T,O),N=1,h=!1,T=Q(T,O,L),h=j,T=k(T,O))}}else N=0,T=Q(T,O,L);else N=l?1:0,T=Q(T,O,L);return T},this.__bidiEngine__.setOptions=function(T){T&&(s=T.isInputVisual,c=T.isOutputVisual,l=T.isInputRtl,d=T.isOutputRtl,h=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var n=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([t.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([t.doBidiReorder(i[l])]);r.text=s}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(an),an.API.TTFFont=function(){function e(n){var t;if(this.rawData=n,t=this.contents=new rh(n),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new FK(this),this.registerTTF()}return e.open=function(n){return new e(n)},e.prototype.parse=function(){return this.directory=new CK(this.contents),this.head=new _K(this),this.name=new OK(this),this.cmap=new uI(this),this.toUnicode={},this.hhea=new kK(this),this.maxp=new IK(this),this.hmtx=new DK(this),this.post=new jK(this),this.os2=new NK(this),this.loca=new PK(this),this.glyf=new LK(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var n,t,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,d;for(d=[],s=0,l=(c=this.bbox).length;s<l;s++)n=c[s],d.push(Math.round(n*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(n){var t;return((t=this.cmap.unicode)!=null?t.codeMap[n]:void 0)||0},e.prototype.widthOfGlyph=function(n){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(n).advance*t},e.prototype.widthOfString=function(n,t,r){var i,a,s,l;for(s=0,a=0,l=(n=""+n).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=n.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return s*(t/1e3)},e.prototype.lineHeight=function(n,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*n},e}();var Pu,rh=function(){function e(n){this.data=n??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(n){return this.data[this.pos++]=n},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(n){return this.writeByte(n>>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt32=function(){var n;return(n=this.readUInt32())>=2147483648?n-4294967296:n},e.prototype.writeInt32=function(n){return n<0&&(n+=4294967296),this.writeUInt32(n)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(n){return this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt16=function(){var n;return(n=this.readUInt16())>=32768?n-65536:n},e.prototype.writeInt16=function(n){return n<0&&(n+=65536),this.writeUInt16(n)},e.prototype.readString=function(n){var t,r;for(r=[],t=0;0<=n?t<n:t>n;t=0<=n?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(n){var t,r,i;for(i=[],t=0,r=n.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(n.charCodeAt(t)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(n){return this.writeInt16(n)},e.prototype.readLongLong=function(){var n,t,r,i,a,s,l,c;return n=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&n?-1*(72057594037927940*(255^n)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*n+281474976710656*t+1099511627776*r+4294967296*i+16777216*a+65536*s+256*l+c},e.prototype.writeLongLong=function(n){var t,r;return t=Math.floor(n/4294967296),r=4294967295&n,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(n){return this.writeInt32(n)},e.prototype.read=function(n){var t,r;for(t=[],r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)t.push(this.readByte());return t},e.prototype.write=function(n){var t,r,i,a;for(a=[],r=0,i=n.length;r<i;r++)t=n[r],a.push(this.writeByte(t));return a},e}(),CK=function(){var e;function n(t){var r,i,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return n.prototype.encode=function(t){var r,i,a,s,l,c,d,h,g,b,m,x,y;for(y in m=Object.keys(t).length,c=Math.log(2),g=16*Math.floor(Math.log(m)/c),s=Math.floor(g/c),h=16*m-g,(i=new rh).writeInt(this.scalarType),i.writeShort(m),i.writeShort(g),i.writeShort(s),i.writeShort(h),a=16*m,d=i.pos+a,l=null,x=[],t)for(b=t[y],i.writeString(y),i.writeInt(e(b)),i.writeInt(d),i.writeInt(b.length),x=x.concat(b),y==="head"&&(l=d),d+=b.length;d%4;)x.push(0),d++;return i.write(x),r=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(r),i.data},e=function(t){var r,i,a,s;for(t=cI.call(t);t.length%4;)t.push(0);for(a=new rh(t),i=0,r=0,s=t.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},n}(),EK={}.hasOwnProperty,Qc=function(e,n){for(var t in n)EK.call(n,t)&&(e[t]=n[t]);function r(){this.constructor=e}return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Pu=function(){function e(n){var t;this.file=n,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var _K=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Qc(n,Pu),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var r;return(r=new rh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},n}(),n4=function(){function e(n,t){var r,i,a,s,l,c,d,h,g,b,m,x,y,A,w,C,N;switch(this.platformID=n.readUInt16(),this.encodingID=n.readShort(),this.offset=t+n.readInt(),g=n.pos,n.pos=this.offset,this.format=n.readUInt16(),this.length=n.readUInt16(),this.language=n.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=n.readByte();break;case 4:for(m=n.readUInt16(),b=m/2,n.pos+=6,a=function(){var P,F;for(F=[],c=P=0;0<=b?P<b:P>b;c=0<=b?++P:--P)F.push(n.readUInt16());return F}(),n.pos+=2,y=function(){var P,F;for(F=[],c=P=0;0<=b?P<b:P>b;c=0<=b?++P:--P)F.push(n.readUInt16());return F}(),d=function(){var P,F;for(F=[],c=P=0;0<=b?P<b:P>b;c=0<=b?++P:--P)F.push(n.readUInt16());return F}(),h=function(){var P,F;for(F=[],c=P=0;0<=b?P<b:P>b;c=0<=b?++P:--P)F.push(n.readUInt16());return F}(),i=(this.length-n.pos+this.offset)/2,l=function(){var P,F;for(F=[],c=P=0;0<=i?P<i:P>i;c=0<=i?++P:--P)F.push(n.readUInt16());return F}(),c=w=0,N=a.length;w<N;c=++w)for(A=a[c],r=C=x=y[c];x<=A?C<=A:C>=A;r=x<=A?++C:--C)h[c]===0?s=r+d[c]:(s=l[h[c]/2+(r-x)-(b-c)]||0)!==0&&(s+=d[c]),this.codeMap[r]=65535&s}n.pos=g}return e.encode=function(n,t){var r,i,a,s,l,c,d,h,g,b,m,x,y,A,w,C,N,P,F,R,k,M,q,Q,T,O,L,j,X,H,G,ee,le,Y,te,U,B,re,Z,ne,ve,ye,Ce,Oe,Ie,Ue;switch(j=new rh,s=Object.keys(n).sort(function(He,V){return He-V}),t){case"macroman":for(y=0,A=function(){var He=[];for(x=0;x<256;++x)He.push(0);return He}(),C={0:0},a={},X=0,le=s.length;X<le;X++)C[Ce=n[i=s[X]]]==null&&(C[Ce]=++y),a[i]={old:n[i],new:C[n[i]]},A[i]=C[n[i]];return j.writeUInt16(1),j.writeUInt16(0),j.writeUInt32(12),j.writeUInt16(0),j.writeUInt16(262),j.writeUInt16(0),j.write(A),{charMap:a,subtable:j.data,maxGlyphID:y+1};case"unicode":for(O=[],g=[],N=0,C={},r={},w=d=null,H=0,Y=s.length;H<Y;H++)C[F=n[i=s[H]]]==null&&(C[F]=++N),r[i]={old:F,new:C[F]},l=C[F]-i,w!=null&&l===d||(w&&g.push(w),O.push(i),d=l),w=i;for(w&&g.push(w),g.push(65535),O.push(65535),Q=2*(q=O.length),M=2*Math.pow(Math.log(q)/Math.LN2,2),b=Math.log(M/2)/Math.LN2,k=2*q-M,c=[],R=[],m=[],x=G=0,te=O.length;G<te;x=++G){if(T=O[x],h=g[x],T===65535){c.push(0),R.push(0);break}if(T-(L=r[T].new)>=32768)for(c.push(0),R.push(2*(m.length+q-x)),i=ee=T;T<=h?ee<=h:ee>=h;i=T<=h?++ee:--ee)m.push(r[i].new);else c.push(L-T),R.push(0)}for(j.writeUInt16(3),j.writeUInt16(1),j.writeUInt32(12),j.writeUInt16(4),j.writeUInt16(16+8*q+2*m.length),j.writeUInt16(0),j.writeUInt16(Q),j.writeUInt16(M),j.writeUInt16(b),j.writeUInt16(k),ve=0,U=g.length;ve<U;ve++)i=g[ve],j.writeUInt16(i);for(j.writeUInt16(0),ye=0,B=O.length;ye<B;ye++)i=O[ye],j.writeUInt16(i);for(Oe=0,re=c.length;Oe<re;Oe++)l=c[Oe],j.writeUInt16(l);for(Ie=0,Z=R.length;Ie<Z;Ie++)P=R[Ie],j.writeUInt16(P);for(Ue=0,ne=m.length;Ue<ne;Ue++)y=m[Ue],j.writeUInt16(y);return{charMap:r,subtable:j.data,maxGlyphID:N+1}}},e}(),uI=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Qc(n,Pu),n.prototype.tag="cmap",n.prototype.parse=function(t){var r,i,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new n4(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},n.encode=function(t,r){var i,a;return r==null&&(r="macroman"),i=n4.encode(t,r),(a=new rh).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},n}(),kK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Qc(n,Pu),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n}(),NK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Qc(n,Pu),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n}(),jK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Qc(n,Pu),n.prototype.tag="post",n.prototype.parse=function(t){var r,i,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var s;for(i=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],s=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;s=0<=c?++l:--l)d.push(t.readUInt32());return d}).call(this)}},n}(),TK=function(e,n){this.raw=e,this.length=e.length,this.platformID=n.platformID,this.encodingID=n.encodingID,this.languageID=n.languageID},OK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Qc(n,Pu),n.prototype.tag="name",n.prototype.parse=function(t){var r,i,a,s,l,c,d,h,g,b,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),c=t.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(d={},s=g=0,b=i.length;g<b;s=++g)a=i[s],t.pos=a.offset,h=t.readString(a.length),l=new TK(h,a),d[m=a.nameID]==null&&(d[m]=[]),d[a.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},n}(),IK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Qc(n,Pu),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n}(),DK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Qc(n,Pu),n.prototype.tag="hmtx",n.prototype.parse=function(t){var r,i,a,s,l,c,d;for(t.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,g;for(g=[],r=h=0;0<=a?h<a:h>a;r=0<=a?++h:--h)g.push(t.readInt16());return g}(),this.widths=(function(){var h,g,b,m;for(m=[],h=0,g=(b=this.metrics).length;h<g;h++)s=b[h],m.push(s.advance);return m}).call(this),i=this.widths[this.widths.length-1],d=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)d.push(this.widths.push(i));return d},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n}(),cI=[].slice,LK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Qc(n,Pu),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var r,i,a,s,l,c,d,h,g,b;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(t),(a=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,l=(c=new rh(r.read(a))).readShort(),h=c.readShort(),b=c.readShort(),d=c.readShort(),g=c.readShort(),this.cache[t]=l===-1?new MK(c,h,b,d,g):new RK(c,l,h,b,d,g),this.cache[t]))},n.prototype.encode=function(t,r,i){var a,s,l,c,d;for(l=[],s=[],c=0,d=r.length;c<d;c++)a=t[r[c]],s.push(l.length),a&&(l=l.concat(a.encode(i)));return s.push(l.length),{table:l,offsets:s}},n}(),RK=function(){function e(n,t,r,i,a,s){this.raw=n,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),MK=function(){function e(n,t,r,i,a){var s,l;for(this.raw=n,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return e.prototype.encode=function(){var n,t,r;for(t=new rh(cI.call(this.raw.data)),n=0,r=this.glyphIDs.length;n<r;++n)t.pos=this.glyphOffsets[n];return t.data},e}(),PK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Qc(n,Pu),n.prototype.tag="loca",n.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=4)s.push(t.readUInt32());return s}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),a=0,s=0,l=0;l<i.length;++l)if(i[l]=a,s<r.length&&r[s]==l){++s,i[l]=a;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(a+=d)}for(var h=new Array(4*i.length),g=0;g<i.length;++g)h[4*g+3]=255&i[g],h[4*g+2]=(65280&i[g])>>8,h[4*g+1]=(16711680&i[g])>>16,h[4*g]=(4278190080&i[g])>>24;return h},n}(),FK=function(){function e(n){this.font=n,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var n,t,r,i,a;for(t in i=this.font.cmap.tables[0].codeMap,n={},a=this.subset)r=a[t],n[t]=i[r];return n},e.prototype.glyphsFor=function(n){var t,r,i,a,s,l,c;for(i={},s=0,l=n.length;s<l;s++)i[a=n[s]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(r=i[a])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(a in c=this.glyphsFor(t))r=c[a],i[a]=r;return i},e.prototype.encode=function(n,t){var r,i,a,s,l,c,d,h,g,b,m,x,y,A,w;for(i in r=uI.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(n),m={0:0},w=r.charMap)m[(c=w[i]).old]=c.new;for(x in b=r.maxGlyphID,s)x in m||(m[x]=b++);return h=function(C){var N,P;for(N in P={},C)P[C[N]]=N;return P}(m),g=Object.keys(h).sort(function(C,N){return C-N}),y=function(){var C,N,P;for(P=[],C=0,N=g.length;C<N;C++)l=g[C],P.push(h[l]);return P}(),a=this.font.glyf.encode(s,y,m),d=this.font.loca.encode(a.offsets,y),A={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},e}();an.API.PDFObject=function(){var e;function n(){}return e=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},n.convert=function(t){var r,i,a,s;if(Array.isArray(t))return"["+function(){var l,c,d;for(d=[],l=0,c=t.length;l<c;l++)r=t[l],d.push(n.convert(r));return d}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+e(t.getUTCFullYear(),4)+e(t.getUTCMonth(),2)+e(t.getUTCDate(),2)+e(t.getUTCHours(),2)+e(t.getUTCMinutes(),2)+e(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in a=["<<"],t)s=t[i],a.push("/"+i+" "+n.convert(s));return a.push(">>"),a.join(`
`)}return""+t},n}();const zK=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),qK=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var mw;const BK=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),r4=(mw=String.fromCodePoint)!==null&&mw!==void 0?mw:function(e){let n="";return e>65535&&(e-=65536,n+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),n+=String.fromCharCode(e),n};function UK(e){var n;return e>=55296&&e<=57343||e>1114111?65533:(n=BK.get(e))!==null&&n!==void 0?n:e}var Xa;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Xa||(Xa={}));const $K=32;var $f;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})($f||($f={}));function BS(e){return e>=Xa.ZERO&&e<=Xa.NINE}function HK(e){return e>=Xa.UPPER_A&&e<=Xa.UPPER_F||e>=Xa.LOWER_A&&e<=Xa.LOWER_F}function WK(e){return e>=Xa.UPPER_A&&e<=Xa.UPPER_Z||e>=Xa.LOWER_A&&e<=Xa.LOWER_Z||BS(e)}function VK(e){return e===Xa.EQUALS||WK(e)}var Ga;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Ga||(Ga={}));var Ec;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Ec||(Ec={}));class YK{constructor(n,t,r){this.decodeTree=n,this.emitCodePoint=t,this.errors=r,this.state=Ga.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ec.Strict}startEntity(n){this.decodeMode=n,this.state=Ga.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(n,t){switch(this.state){case Ga.EntityStart:return n.charCodeAt(t)===Xa.NUM?(this.state=Ga.NumericStart,this.consumed+=1,this.stateNumericStart(n,t+1)):(this.state=Ga.NamedEntity,this.stateNamedEntity(n,t));case Ga.NumericStart:return this.stateNumericStart(n,t);case Ga.NumericDecimal:return this.stateNumericDecimal(n,t);case Ga.NumericHex:return this.stateNumericHex(n,t);case Ga.NamedEntity:return this.stateNamedEntity(n,t)}}stateNumericStart(n,t){return t>=n.length?-1:(n.charCodeAt(t)|$K)===Xa.LOWER_X?(this.state=Ga.NumericHex,this.consumed+=1,this.stateNumericHex(n,t+1)):(this.state=Ga.NumericDecimal,this.stateNumericDecimal(n,t))}addToNumericResult(n,t,r,i){if(t!==r){const a=r-t;this.result=this.result*Math.pow(i,a)+Number.parseInt(n.substr(t,a),i),this.consumed+=a}}stateNumericHex(n,t){const r=t;for(;t<n.length;){const i=n.charCodeAt(t);if(BS(i)||HK(i))t+=1;else return this.addToNumericResult(n,r,t,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(n,r,t,16),-1}stateNumericDecimal(n,t){const r=t;for(;t<n.length;){const i=n.charCodeAt(t);if(BS(i))t+=1;else return this.addToNumericResult(n,r,t,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(n,r,t,10),-1}emitNumericEntity(n,t){var r;if(this.consumed<=t)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(n===Xa.SEMI)this.consumed+=1;else if(this.decodeMode===Ec.Strict)return 0;return this.emitCodePoint(UK(this.result),this.consumed),this.errors&&(n!==Xa.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(n,t){const{decodeTree:r}=this;let i=r[this.treeIndex],a=(i&$f.VALUE_LENGTH)>>14;for(;t<n.length;t++,this.excess++){const s=n.charCodeAt(t);if(this.treeIndex=GK(r,i,this.treeIndex+Math.max(1,a),s),this.treeIndex<0)return this.result===0||this.decodeMode===Ec.Attribute&&(a===0||VK(s))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],a=(i&$f.VALUE_LENGTH)>>14,a!==0){if(s===Xa.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==Ec.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var n;const{result:t,decodeTree:r}=this,i=(r[t]&$f.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,i,this.consumed),(n=this.errors)===null||n===void 0||n.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(n,t,r){const{decodeTree:i}=this;return this.emitCodePoint(t===1?i[n]&~$f.VALUE_LENGTH:i[n+1],r),t===3&&this.emitCodePoint(i[n+2],r),r}end(){var n;switch(this.state){case Ga.NamedEntity:return this.result!==0&&(this.decodeMode!==Ec.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Ga.NumericDecimal:return this.emitNumericEntity(0,2);case Ga.NumericHex:return this.emitNumericEntity(0,3);case Ga.NumericStart:return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Ga.EntityStart:return 0}}}function GK(e,n,t,r){const i=(n&$f.BRANCH_LENGTH)>>7,a=n&$f.JUMP_TABLE;if(i===0)return a!==0&&r===a?t:-1;if(a){const c=r-a;return c<0||c>=i?-1:e[t+c]-1}let s=t,l=s+i-1;for(;s<=l;){const c=s+l>>>1,d=e[c];if(d<r)s=c+1;else if(d>r)l=c-1;else return e[c+i]}return-1}var tn;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(tn||(tn={}));var At;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(At||(At={}));function Cd(e){return e===tn.Space||e===tn.NewLine||e===tn.Tab||e===tn.FormFeed||e===tn.CarriageReturn}function Uy(e){return e===tn.Slash||e===tn.Gt||Cd(e)}function QK(e){return e>=tn.LowerA&&e<=tn.LowerZ||e>=tn.UpperA&&e<=tn.UpperZ}var _c;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(_c||(_c={}));const ka={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};class KK{constructor({xmlMode:n=!1,decodeEntities:t=!0},r){this.cbs=r,this.state=At.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=At.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=n,this.decodeEntities=t,this.entityDecoder=new YK(n?qK:zK,(i,a)=>this.emitCodePoint(i,a))}reset(){this.state=At.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=At.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(n){this.offset+=this.buffer.length,this.buffer=n,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(n){n===tn.Lt||!this.decodeEntities&&this.fastForwardTo(tn.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=At.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&n===tn.Amp&&this.startEntity()}stateSpecialStartSequence(n){const t=this.sequenceIndex===this.currentSequence.length;if(!(t?Uy(n):(n|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!t){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=At.InTagName,this.stateInTagName(n)}stateInSpecialTag(n){if(this.sequenceIndex===this.currentSequence.length){if(n===tn.Gt||Cd(n)){const t=this.index-this.currentSequence.length;if(this.sectionStart<t){const r=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=r}this.isSpecial=!1,this.sectionStart=t+2,this.stateInClosingTagName(n);return}this.sequenceIndex=0}(n|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===ka.TitleEnd?this.decodeEntities&&n===tn.Amp&&this.startEntity():this.fastForwardTo(tn.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(n===tn.Lt)}stateCDATASequence(n){n===ka.Cdata[this.sequenceIndex]?++this.sequenceIndex===ka.Cdata.length&&(this.state=At.InCommentLike,this.currentSequence=ka.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=At.InDeclaration,this.stateInDeclaration(n))}fastForwardTo(n){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===n)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(n){n===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===ka.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=At.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):n!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(n){return this.xmlMode?!Uy(n):QK(n)}startSpecial(n,t){this.isSpecial=!0,this.currentSequence=n,this.sequenceIndex=t,this.state=At.SpecialStartSequence}stateBeforeTagName(n){if(n===tn.ExclamationMark)this.state=At.BeforeDeclaration,this.sectionStart=this.index+1;else if(n===tn.Questionmark)this.state=At.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(n)){const t=n|32;this.sectionStart=this.index,this.xmlMode?this.state=At.InTagName:t===ka.ScriptEnd[2]?this.state=At.BeforeSpecialS:t===ka.TitleEnd[2]||t===ka.XmpEnd[2]?this.state=At.BeforeSpecialT:this.state=At.InTagName}else n===tn.Slash?this.state=At.BeforeClosingTagName:(this.state=At.Text,this.stateText(n))}stateInTagName(n){Uy(n)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=At.BeforeAttributeName,this.stateBeforeAttributeName(n))}stateBeforeClosingTagName(n){Cd(n)||(n===tn.Gt?this.state=At.Text:(this.state=this.isTagStartChar(n)?At.InClosingTagName:At.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(n){(n===tn.Gt||Cd(n))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=At.AfterClosingTagName,this.stateAfterClosingTagName(n))}stateAfterClosingTagName(n){(n===tn.Gt||this.fastForwardTo(tn.Gt))&&(this.state=At.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(n){n===tn.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=At.InSpecialTag,this.sequenceIndex=0):this.state=At.Text,this.sectionStart=this.index+1):n===tn.Slash?this.state=At.InSelfClosingTag:Cd(n)||(this.state=At.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(n){n===tn.Gt?(this.cbs.onselfclosingtag(this.index),this.state=At.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Cd(n)||(this.state=At.BeforeAttributeName,this.stateBeforeAttributeName(n))}stateInAttributeName(n){(n===tn.Eq||Uy(n))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=At.AfterAttributeName,this.stateAfterAttributeName(n))}stateAfterAttributeName(n){n===tn.Eq?this.state=At.BeforeAttributeValue:n===tn.Slash||n===tn.Gt?(this.cbs.onattribend(_c.NoValue,this.sectionStart),this.sectionStart=-1,this.state=At.BeforeAttributeName,this.stateBeforeAttributeName(n)):Cd(n)||(this.cbs.onattribend(_c.NoValue,this.sectionStart),this.state=At.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(n){n===tn.DoubleQuote?(this.state=At.InAttributeValueDq,this.sectionStart=this.index+1):n===tn.SingleQuote?(this.state=At.InAttributeValueSq,this.sectionStart=this.index+1):Cd(n)||(this.sectionStart=this.index,this.state=At.InAttributeValueNq,this.stateInAttributeValueNoQuotes(n))}handleInAttributeValue(n,t){n===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===tn.DoubleQuote?_c.Double:_c.Single,this.index+1),this.state=At.BeforeAttributeName):this.decodeEntities&&n===tn.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(n){this.handleInAttributeValue(n,tn.DoubleQuote)}stateInAttributeValueSingleQuotes(n){this.handleInAttributeValue(n,tn.SingleQuote)}stateInAttributeValueNoQuotes(n){Cd(n)||n===tn.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(_c.Unquoted,this.index),this.state=At.BeforeAttributeName,this.stateBeforeAttributeName(n)):this.decodeEntities&&n===tn.Amp&&this.startEntity()}stateBeforeDeclaration(n){n===tn.OpeningSquareBracket?(this.state=At.CDATASequence,this.sequenceIndex=0):this.state=n===tn.Dash?At.BeforeComment:At.InDeclaration}stateInDeclaration(n){(n===tn.Gt||this.fastForwardTo(tn.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=At.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(n){(n===tn.Gt||this.fastForwardTo(tn.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=At.Text,this.sectionStart=this.index+1)}stateBeforeComment(n){n===tn.Dash?(this.state=At.InCommentLike,this.currentSequence=ka.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=At.InDeclaration}stateInSpecialComment(n){(n===tn.Gt||this.fastForwardTo(tn.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=At.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(n){const t=n|32;t===ka.ScriptEnd[3]?this.startSpecial(ka.ScriptEnd,4):t===ka.StyleEnd[3]?this.startSpecial(ka.StyleEnd,4):(this.state=At.InTagName,this.stateInTagName(n))}stateBeforeSpecialT(n){switch(n|32){case ka.TitleEnd[3]:{this.startSpecial(ka.TitleEnd,4);break}case ka.TextareaEnd[3]:{this.startSpecial(ka.TextareaEnd,4);break}case ka.XmpEnd[3]:{this.startSpecial(ka.XmpEnd,4);break}default:this.state=At.InTagName,this.stateInTagName(n)}}startEntity(){this.baseState=this.state,this.state=At.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?Ec.Strict:this.baseState===At.Text||this.baseState===At.InSpecialTag?Ec.Legacy:Ec.Attribute)}stateInEntity(){const n=this.entityDecoder.write(this.buffer,this.index-this.offset);n>=0?(this.state=this.baseState,n===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===At.Text||this.state===At.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===At.InAttributeValueDq||this.state===At.InAttributeValueSq||this.state===At.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const n=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case At.Text:{this.stateText(n);break}case At.SpecialStartSequence:{this.stateSpecialStartSequence(n);break}case At.InSpecialTag:{this.stateInSpecialTag(n);break}case At.CDATASequence:{this.stateCDATASequence(n);break}case At.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(n);break}case At.InAttributeName:{this.stateInAttributeName(n);break}case At.InCommentLike:{this.stateInCommentLike(n);break}case At.InSpecialComment:{this.stateInSpecialComment(n);break}case At.BeforeAttributeName:{this.stateBeforeAttributeName(n);break}case At.InTagName:{this.stateInTagName(n);break}case At.InClosingTagName:{this.stateInClosingTagName(n);break}case At.BeforeTagName:{this.stateBeforeTagName(n);break}case At.AfterAttributeName:{this.stateAfterAttributeName(n);break}case At.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(n);break}case At.BeforeAttributeValue:{this.stateBeforeAttributeValue(n);break}case At.BeforeClosingTagName:{this.stateBeforeClosingTagName(n);break}case At.AfterClosingTagName:{this.stateAfterClosingTagName(n);break}case At.BeforeSpecialS:{this.stateBeforeSpecialS(n);break}case At.BeforeSpecialT:{this.stateBeforeSpecialT(n);break}case At.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(n);break}case At.InSelfClosingTag:{this.stateInSelfClosingTag(n);break}case At.InDeclaration:{this.stateInDeclaration(n);break}case At.BeforeDeclaration:{this.stateBeforeDeclaration(n);break}case At.BeforeComment:{this.stateBeforeComment(n);break}case At.InProcessingInstruction:{this.stateInProcessingInstruction(n);break}case At.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===At.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const n=this.buffer.length+this.offset;this.sectionStart>=n||(this.state===At.InCommentLike?this.currentSequence===ka.CdataEnd?this.cbs.oncdata(this.sectionStart,n,0):this.cbs.oncomment(this.sectionStart,n,0):this.state===At.InTagName||this.state===At.BeforeAttributeName||this.state===At.BeforeAttributeValue||this.state===At.AfterAttributeName||this.state===At.InAttributeName||this.state===At.InAttributeValueSq||this.state===At.InAttributeValueDq||this.state===At.InAttributeValueNq||this.state===At.InClosingTagName||this.cbs.ontext(this.sectionStart,n))}emitCodePoint(n,t){this.baseState!==At.Text&&this.baseState!==At.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.onattribentity(n)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.ontextentity(n,this.sectionStart))}}const l0=new Set(["input","option","optgroup","select","button","datalist","textarea"]),$r=new Set(["p"]),i4=new Set(["thead","tbody"]),a4=new Set(["dd","dt"]),s4=new Set(["rt","rp"]),XK=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",$r],["h1",$r],["h2",$r],["h3",$r],["h4",$r],["h5",$r],["h6",$r],["select",l0],["input",l0],["output",l0],["button",l0],["datalist",l0],["textarea",l0],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",a4],["dt",a4],["address",$r],["article",$r],["aside",$r],["blockquote",$r],["details",$r],["div",$r],["dl",$r],["fieldset",$r],["figcaption",$r],["figure",$r],["footer",$r],["form",$r],["header",$r],["hr",$r],["main",$r],["nav",$r],["ol",$r],["pre",$r],["section",$r],["table",$r],["ul",$r],["rt",s4],["rp",s4],["tbody",i4],["tfoot",i4]]),ZK=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),o4=new Set(["math","svg"]),l4=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),JK=/\s|\//;class eX{constructor(n,t={}){var r,i,a,s,l,c;this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=n??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=t.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(i=t.lowerCaseAttributeNames)!==null&&i!==void 0?i:this.htmlMode,this.recognizeSelfClosing=(a=t.recognizeSelfClosing)!==null&&a!==void 0?a:!this.htmlMode,this.tokenizer=new((s=t.Tokenizer)!==null&&s!==void 0?s:KK)(this.options,this),this.foreignContext=[!this.htmlMode],(c=(l=this.cbs).onparserinit)===null||c===void 0||c.call(l,this)}ontext(n,t){var r,i;const a=this.getSlice(n,t);this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,a),this.startIndex=t}ontextentity(n,t){var r,i;this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,r4(n)),this.startIndex=t}isVoidElement(n){return this.htmlMode&&ZK.has(n)}onopentagname(n,t){this.endIndex=t;let r=this.getSlice(n,t);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(n){var t,r,i,a;this.openTagStart=this.startIndex,this.tagname=n;const s=this.htmlMode&&XK.get(n);if(s)for(;this.stack.length>0&&s.has(this.stack[0]);){const l=this.stack.shift();(r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,l,!0)}this.isVoidElement(n)||(this.stack.unshift(n),this.htmlMode&&(o4.has(n)?this.foreignContext.unshift(!0):l4.has(n)&&this.foreignContext.unshift(!1))),(a=(i=this.cbs).onopentagname)===null||a===void 0||a.call(i,n),this.cbs.onopentag&&(this.attribs={})}endOpenTag(n){var t,r;this.startIndex=this.openTagStart,this.attribs&&((r=(t=this.cbs).onopentag)===null||r===void 0||r.call(t,this.tagname,this.attribs,n),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(n){this.endIndex=n,this.endOpenTag(!1),this.startIndex=n+1}onclosetag(n,t){var r,i,a,s,l,c,d,h;this.endIndex=t;let g=this.getSlice(n,t);if(this.lowerCaseTagNames&&(g=g.toLowerCase()),this.htmlMode&&(o4.has(g)||l4.has(g))&&this.foreignContext.shift(),this.isVoidElement(g))this.htmlMode&&g==="br"&&((s=(a=this.cbs).onopentagname)===null||s===void 0||s.call(a,"br"),(c=(l=this.cbs).onopentag)===null||c===void 0||c.call(l,"br",{},!0),(h=(d=this.cbs).onclosetag)===null||h===void 0||h.call(d,"br",!1));else{const b=this.stack.indexOf(g);if(b!==-1)for(let m=0;m<=b;m++){const x=this.stack.shift();(i=(r=this.cbs).onclosetag)===null||i===void 0||i.call(r,x,m!==b)}else this.htmlMode&&g==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1}onselfclosingtag(n){this.endIndex=n,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=n+1):this.onopentagend(n)}closeCurrentTag(n){var t,r;const i=this.tagname;this.endOpenTag(n),this.stack[0]===i&&((r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,i,!n),this.stack.shift())}onattribname(n,t){this.startIndex=n;const r=this.getSlice(n,t);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(n,t){this.attribvalue+=this.getSlice(n,t)}onattribentity(n){this.attribvalue+=r4(n)}onattribend(n,t){var r,i;this.endIndex=t,(i=(r=this.cbs).onattribute)===null||i===void 0||i.call(r,this.attribname,this.attribvalue,n===_c.Double?'"':n===_c.Single?"'":n===_c.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(n){const t=n.search(JK);let r=t<0?n:n.substr(0,t);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(n,t){this.endIndex=t;const r=this.getSlice(n,t);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${i}`,`!${r}`)}this.startIndex=t+1}onprocessinginstruction(n,t){this.endIndex=t;const r=this.getSlice(n,t);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${i}`,`?${r}`)}this.startIndex=t+1}oncomment(n,t,r){var i,a,s,l;this.endIndex=t,(a=(i=this.cbs).oncomment)===null||a===void 0||a.call(i,this.getSlice(n,t-r)),(l=(s=this.cbs).oncommentend)===null||l===void 0||l.call(s),this.startIndex=t+1}oncdata(n,t,r){var i,a,s,l,c,d,h,g,b,m;this.endIndex=t;const x=this.getSlice(n,t-r);!this.htmlMode||this.options.recognizeCDATA?((a=(i=this.cbs).oncdatastart)===null||a===void 0||a.call(i),(l=(s=this.cbs).ontext)===null||l===void 0||l.call(s,x),(d=(c=this.cbs).oncdataend)===null||d===void 0||d.call(c)):((g=(h=this.cbs).oncomment)===null||g===void 0||g.call(h,`[CDATA[${x}]]`),(m=(b=this.cbs).oncommentend)===null||m===void 0||m.call(b)),this.startIndex=t+1}onend(){var n,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(t=(n=this.cbs).onend)===null||t===void 0||t.call(n)}reset(){var n,t,r,i;(t=(n=this.cbs).onreset)===null||t===void 0||t.call(n),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(r=this.cbs).onparserinit)===null||i===void 0||i.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(n){this.reset(),this.end(n)}getSlice(n,t){for(;n-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(n-this.bufferOffset,t-this.bufferOffset);for(;t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,t-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(n){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".write() after done!"));return}this.buffers.push(n),this.tokenizer.running&&(this.tokenizer.write(n),this.writeIndex++)}end(n){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".end() after done!"));return}n&&this.write(n),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(n){this.write(n)}done(n){this.end(n)}}var Er;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(Er||(Er={}));function hx(e){return e.type===Er.Tag||e.type===Er.Script||e.type===Er.Style}Er.Root;Er.Text;Er.Directive;Er.Comment;Er.Script;Er.Style;Er.Tag;Er.CDATA;Er.Doctype;let dI=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(n){this.parent=n}get previousSibling(){return this.prev}set previousSibling(n){this.prev=n}get nextSibling(){return this.next}set nextSibling(n){this.next=n}cloneNode(n=!1){return xI(this,n)}};class gA extends dI{constructor(n){super(),this.data=n}get nodeValue(){return this.data}set nodeValue(n){this.data=n}}let US=class extends gA{constructor(){super(...arguments),this.type=Er.Text}get nodeType(){return 3}};class fI extends gA{constructor(){super(...arguments),this.type=Er.Comment}get nodeType(){return 8}}class hI extends gA{constructor(n,t){super(t),this.name=n,this.type=Er.Directive}get nodeType(){return 1}}class bA extends dI{constructor(n){super(),this.children=n}get firstChild(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(n){this.children=n}}class pI extends bA{constructor(){super(...arguments),this.type=Er.CDATA}get nodeType(){return 4}}class $S extends bA{constructor(){super(...arguments),this.type=Er.Root}get nodeType(){return 9}}let mI=class extends bA{constructor(n,t,r=[],i=n==="script"?Er.Script:n==="style"?Er.Style:Er.Tag){super(r),this.name=n,this.attribs=t,this.type=i}get nodeType(){return 1}get tagName(){return this.name}set tagName(n){this.name=n}get attributes(){return Object.keys(this.attribs).map(n=>{var t,r;return{name:n,value:this.attribs[n],namespace:(t=this["x-attribsNamespace"])===null||t===void 0?void 0:t[n],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[n]}})}};function gI(e){return hx(e)}function bI(e){return e.type===Er.CDATA}function yI(e){return e.type===Er.Text}function tX(e){return e.type===Er.Comment}function nX(e){return e.type===Er.Directive}function rX(e){return e.type===Er.Root}function xI(e,n=!1){let t;if(yI(e))t=new US(e.data);else if(tX(e))t=new fI(e.data);else if(gI(e)){const r=n?gw(e.children):[],i=new mI(e.name,{...e.attribs},r);r.forEach(a=>a.parent=i),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]={...e["x-attribsPrefix"]}),t=i}else if(bI(e)){const r=n?gw(e.children):[],i=new pI(r);r.forEach(a=>a.parent=i),t=i}else if(rX(e)){const r=n?gw(e.children):[],i=new $S(r);r.forEach(a=>a.parent=i),e["x-mode"]&&(i["x-mode"]=e["x-mode"]),t=i}else if(nX(e)){const r=new hI(e.name,e.data);e["x-name"]!=null&&(r["x-name"]=e["x-name"],r["x-publicId"]=e["x-publicId"],r["x-systemId"]=e["x-systemId"]),t=r}else throw new Error(`Not implemented yet: ${e.type}`);return t.startIndex=e.startIndex,t.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(t.sourceCodeLocation=e.sourceCodeLocation),t}function gw(e){const n=e.map(t=>xI(t,!0));for(let t=1;t<n.length;t++)n[t].prev=n[t-1],n[t-1].next=n[t];return n}const u4={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class iX{constructor(n,t,r){this.dom=[],this.root=new $S(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof t=="function"&&(r=t,t=u4),typeof n=="object"&&(t=n,n=void 0),this.callback=n??null,this.options=t??u4,this.elementCB=r??null}onparserinit(n){this.parser=n}onreset(){this.dom=[],this.root=new $S(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(n){this.handleCallback(n)}onclosetag(){this.lastNode=null;const n=this.tagStack.pop();this.options.withEndIndices&&(n.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(n)}onopentag(n,t){const r=this.options.xmlMode?Er.Tag:void 0,i=new mI(n,t,void 0,r);this.addNode(i),this.tagStack.push(i)}ontext(n){const{lastNode:t}=this;if(t&&t.type===Er.Text)t.data+=n,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{const r=new US(n);this.addNode(r),this.lastNode=r}}oncomment(n){if(this.lastNode&&this.lastNode.type===Er.Comment){this.lastNode.data+=n;return}const t=new fI(n);this.addNode(t),this.lastNode=t}oncommentend(){this.lastNode=null}oncdatastart(){const n=new US(""),t=new pI([n]);this.addNode(t),n.parent=t,this.lastNode=n}oncdataend(){this.lastNode=null}onprocessinginstruction(n,t){const r=new hI(n,t);this.addNode(r)}handleCallback(n){if(typeof this.callback=="function")this.callback(n,this.dom);else if(n)throw n}addNode(n){const t=this.tagStack[this.tagStack.length-1],r=t.children[t.children.length-1];this.options.withStartIndices&&(n.startIndex=this.parser.startIndex),this.options.withEndIndices&&(n.endIndex=this.parser.endIndex),t.children.push(n),r&&(n.prev=r,r.next=n),n.parent=t,this.lastNode=null}}function _d(e){return Array.isArray(e)?e.map(_d).join(""):gI(e)?e.name==="br"?`
`:_d(e.children):bI(e)?_d(e.children):yI(e)?e.data:""}function aX(e,n){const t=new iX(void 0,n);return new eX(t,n).end(e),t.root}const sX=async(e,n)=>{var m,x,y,A,w,C,N,P;if(!e)return;const t=new an("p","mm","a4",!0);let r=10;const i=297,a=F=>{r+F*6>i-20&&(t.addPage(),r=10)},s=e.sections.length+e.sections.reduce((F,R)=>F+R.subsections.length,0)+e.sections.reduce((F,R)=>F+R.subsections.reduce((k,M)=>k+M.subSubsections.length,0),0)+e.sections.reduce((F,R)=>{var k;return F+(((k=R.images)==null?void 0:k.length)||0)+R.subsections.reduce((M,q)=>{var Q;return M+(((Q=q.images)==null?void 0:Q.length)||0)+q.subSubsections.reduce((T,O)=>{var L;return T+(((L=O.images)==null?void 0:L.length)||0)},0)},0)},0);let l=0;const c=()=>{l+=1,n(Math.round(l/s*100))},d=async(F,R=150,k=150)=>new Promise(M=>{const q=new Image;q.crossOrigin="anonymous",q.src=F.url,q.onload=()=>{const Q=q.width/q.height;let T=R,O=k;Q>1?O=R/Q:T=k*Q,a(O+15);const L=(210-T)/2;if(t.addImage(q,"JPEG",L,r,T,O),r+=O+5,F.title){t.setFont("helvetica","italic"),t.setFontSize(10);const X=(210-t.getTextWidth(F.title))/2;t.text(F.title,X,r),t.setFont("helvetica","normal"),r+=6}c(),M()},q.onerror=()=>{console.warn(`Image failed to load: ${F.url}`),c(),M()}}),h=(F,R=10,k=12)=>{var Q;const M=aX(F),q=(T,O=0,L=!1)=>{var j,X,H,G,ee,le,Y;if(T){if(hx(T)){const te=T,U=te.name.toLowerCase();switch(U){case"p":r+=6,(j=te.children)==null||j.forEach(B=>q(B,O)),r+=6;break;case"br":r+=6;break;case"strong":case"b":case"i":case"em":t.setFont("helvetica",U==="strong"||U==="b"?"bold":"italic"),(X=te.children)==null||X.forEach(B=>q(B,O)),t.setFont("helvetica","normal");break;case"ul":case"ol":r+=4,(H=te.children)==null||H.forEach(B=>q(B,O+1,!0));break;case"li":{const B=O===1?"-":"--";let re="";(G=te.children)==null||G.forEach(Z=>{if(hx(Z)){const ne=Z;ne.name==="strong"||ne.name==="b"?(t.setFont("helvetica","bold"),re+=` ${_d(ne)}`,t.setFont("helvetica","normal")):ne.name!=="ul"&&ne.name!=="ol"&&(re+=` ${_d(ne)}`)}else Z.type==="text"&&"data"in Z&&(re+=` ${Z.data.trim()}`)}),re=re.trim(),re&&(O===0?g(`${B} ${re}`,R,k+2,!0):g(`${B} ${re}`,R+O*8,k),r+=6),(ee=te.children)==null||ee.forEach(Z=>{if(hx(Z)){const ne=Z;["ul","ol"].includes(ne.name)&&q(ne,O+1,!0)}});break}case"a":(le=te.attribs)!=null&&le.href&&b(_d(te),te.attribs.href);break;case"h1":g(_d(te),R,20,!0),r+=8;break;case"h2":g(_d(te),R,18,!0),r+=8;break;case"h3":g(_d(te),R,16,!0),r+=6;break;default:(Y=te.children)==null||Y.forEach(B=>q(B,O))}}else if(T.type==="text"&&"data"in T){const te=T.data.trim();te&&g(te,R+O*8,k)}}};(Q=M.children)==null||Q.forEach(T=>q(T))},g=(F,R,k=12,M=!1,q=[0,0,0],Q=!1,T=200)=>{if(!F)return;t.setFontSize(k),t.setTextColor(q[0],q[1],q[2]),t.setFont("helvetica",M?Q?"bolditalic":"bold":Q?"italic":"normal"),t.splitTextToSize(F,T-R).forEach(L=>{a(1),t.text(L,R,r),r+=6})},b=(F,R)=>{a(1),t.setTextColor(10,104,71),t.textWithLink(F,10,r,{url:R}),r+=6};(m=e.header)!=null&&m.content&&(g("Header:",10,12,!0),h(e.header.content),r+=5),e.title&&(g(e.title,10,18,!0,[10,104,71]),r+=5);for(const F of e.sections){if(g(F.title,10,16,!0),h(F.content),(x=F.images)!=null&&x.length)for(const R of F.images)await d(R);c();for(const R of F.subsections){if(g(R.title,12,14,!0),h(R.content,12),(y=R.images)!=null&&y.length)for(const k of R.images)await d(k);c();for(const k of R.subSubsections){if(g(k.title,14,12,!0),h(k.content,14),(A=k.images)!=null&&A.length)for(const M of k.images)await d(M);c(),(w=k.links)!=null&&w.length&&(g("Links:",14,12,!0),k.links.forEach(M=>b(M.title,M.url)))}(C=R.links)!=null&&C.length&&(g("Links:",12,12,!0),R.links.forEach(k=>b(k.title,k.url)))}(N=F.links)!=null&&N.length&&(g("Links:",10,12,!0),F.links.forEach(R=>b(R.title,R.url))),r+=5}(P=e.footer)!=null&&P.content&&(g("Footer:",10,12,!0),h(e.footer.content)),t.save(`${e.title||"Material"}.pdf`),n(100)},oX=()=>{var P,F,R,k,M,q,Q,T,O,L,j,X,H,G,ee,le,Y,te,U,B,re,Z,ne,ve,ye,Ce,Oe,Ie,Ue,He,V,Se,se,he,de,we,Le,Fe,_e,Qe,st,nt;const{id:e}=I6(),[n,t]=Yg(),r=Un(),[i,a]=K.useState(null),[s,l]=K.useState({sectionIndex:0}),[c,d]=K.useState(null),[h,g]=K.useState(0),[b,m]=K.useState(!0);aO((i==null?void 0:i.sections)||[],s.sectionIndex||0,!!i),K.useEffect(()=>{g(De=>De+1)},[s]);const x=async()=>{if(i!=null&&i.originalFile)try{console.log(" Starting original file download:",i.originalFile.name);const De=document.createElement("a");De.href=i.originalFile.url,De.download=i.originalFile.name,De.target="_blank",document.body.appendChild(De),De.click(),document.body.removeChild(De),console.log(" Original file download initiated")}catch(De){console.error(" Original file download failed:",De)}};K.useEffect(()=>{e&&(async()=>{var xe,ke;try{m(!0);const Ne=hn(r,"materials",e),ut=await ms(Ne);if(ut.exists()){const Ze={id:ut.id,...ut.data()};console.log("Material data from Firestore:",Ze),console.log("Sections type:",typeof Ze.sections),console.log("Sections value:",Ze.sections),Array.isArray(Ze.sections)||(console.warn("Sections is not an array, initializing as empty array. Original value:",Ze.sections),Ze.sections=[]),Ze.sections=Ze.sections.map(Dt=>({id:Dt.id||Mi(),title:Dt.title||"Untitled Section",content:Dt.content||"",images:Array.isArray(Dt.images)?Dt.images.map($t=>({...$t,title:$t.title||""})):[],links:Array.isArray(Dt.links)?Dt.links:[],subsections:Array.isArray(Dt.subsections)?Dt.subsections.map($t=>({id:$t.id||Mi(),title:$t.title||"Untitled Subsection",content:$t.content||"",images:Array.isArray($t.images)?$t.images.map(It=>({...It,title:It.title||""})):[],links:Array.isArray($t.links)?$t.links:[],subSubsections:Array.isArray($t.subSubsections)?$t.subSubsections.map(It=>({id:It.id||Mi(),title:It.title||"Untitled Sub-subsection",content:It.content||"",images:Array.isArray(It.images)?It.images.map(Gt=>({...Gt,title:Gt.title||""})):[],links:Array.isArray(It.links)?It.links:[]})):[]})):[]})),console.log("Loaded material from database:",{title:Ze.title,sectionsCount:((xe=Ze.sections)==null?void 0:xe.length)||0,sectionsWithImages:((ke=Ze.sections)==null?void 0:ke.filter(Dt=>{var Et;return((Et=Dt.images)==null?void 0:Et.length)>0}).length)||0}),a(Ze)}}catch(Ne){console.error("Error fetching material:",Ne)}finally{m(!1)}})()},[e,r]),K.useEffect(()=>{e&&n.get("material")!==e&&(console.log(" Updating URL: Adding material ID to query parameters:",e),t(De=>{const xe=new URLSearchParams(De);return xe.set("material",e),xe},{replace:!0}))},[e,n,t]);const y=(De,xe,ke)=>{l({sectionIndex:typeof De=="number"?De:void 0,subsectionIndex:xe,subSubsectionIndex:ke,type:typeof De=="string"?De:void 0})},A=De=>{var Ze,Dt,Et,$t,It,Gt,Jt,sn,Mn,Pn,Gr,rr,Dn,Ht,wn,xa,vr,si,va,Ot,$n,ir,Mr,cr,dr,Bn,gs;const{sectionIndex:xe,subsectionIndex:ke,subSubsectionIndex:Ne,type:ut}=s;if(De==="prev")if(Ne!==void 0&&Ne>0)l({sectionIndex:xe,subsectionIndex:ke,subSubsectionIndex:Ne-1});else if(Ne!==void 0&&Ne===0)l({sectionIndex:xe,subsectionIndex:ke});else if(ke!==void 0&&ke>0)l({sectionIndex:xe,subsectionIndex:ke-1});else if(ke!==void 0&&ke===0)l({sectionIndex:xe});else if(xe>0){const _r=i==null?void 0:i.sections[xe-1];l({sectionIndex:xe-1,subsectionIndex:(Ze=_r==null?void 0:_r.subsections)!=null&&Ze.length?_r.subsections.length-1:void 0,subSubsectionIndex:(Dt=_r==null?void 0:_r.subsections)!=null&&Dt.length?(($t=(Et=_r.subsections[_r.subsections.length-1])==null?void 0:Et.subSubsections)==null?void 0:$t.length)-1:void 0})}else ut==="footer"?l({sectionIndex:((i==null?void 0:i.sections.length)??1)-1,type:"footer"}):xe===void 0&&ut==="header"&&l({sectionIndex:((i==null?void 0:i.sections.length)??1)-1});else De==="next"&&(Ne===void 0&&ke!==void 0&&((sn=(Jt=(Gt=(It=i==null?void 0:i.sections[xe??0])==null?void 0:It.subsections)==null?void 0:Gt[ke])==null?void 0:Jt.subSubsections)!=null&&sn.length)?l({sectionIndex:xe,subsectionIndex:ke,subSubsectionIndex:0}):Ne!==void 0&&Ne<(((rr=(Gr=(Pn=(Mn=i==null?void 0:i.sections[xe??0])==null?void 0:Mn.subsections)==null?void 0:Pn[ke??0])==null?void 0:Gr.subSubsections)==null?void 0:rr.length)??1)-1?l({sectionIndex:xe,subsectionIndex:ke,subSubsectionIndex:Ne+1}):Ne!==void 0&&Ne===(((xa=(wn=(Ht=(Dn=i==null?void 0:i.sections[xe??0])==null?void 0:Dn.subsections)==null?void 0:Ht[ke??0])==null?void 0:wn.subSubsections)==null?void 0:xa.length)??1)-1&&(ke??0)<(((si=(vr=i==null?void 0:i.sections[xe??0])==null?void 0:vr.subsections)==null?void 0:si.length)??1)-1?l({sectionIndex:xe,subsectionIndex:(ke??0)+1}):ke===void 0&&((Ot=(va=i==null?void 0:i.sections[xe??0])==null?void 0:va.subsections)!=null&&Ot.length)?l({sectionIndex:xe,subsectionIndex:0}):ke!==void 0&&ke<(((ir=($n=i==null?void 0:i.sections[xe??0])==null?void 0:$n.subsections)==null?void 0:ir.length)??1)-1?l({sectionIndex:xe,subsectionIndex:ke+1}):ke!==void 0&&ke===(((cr=(Mr=i==null?void 0:i.sections[xe??0])==null?void 0:Mr.subsections)==null?void 0:cr.length)??1)-1&&(xe??0)<(((dr=i==null?void 0:i.sections)==null?void 0:dr.length)??1)-1?l({sectionIndex:(xe??0)+1}):(xe??0)<(((Bn=i==null?void 0:i.sections)==null?void 0:Bn.length)??1)-1?l({sectionIndex:(xe??0)+1}):xe===(((gs=i==null?void 0:i.sections)==null?void 0:gs.length)??1)-1&&ke===void 0&&l({sectionIndex:void 0,type:"footer"}))};if(b)return f.jsx(be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:f.jsx(Rr,{size:60,sx:{color:ft.palette.primary.main}})});if(!i)return f.jsx(k6,{maxWidth:"md",children:f.jsxs(be,{sx:{textAlign:"center",py:8,px:4,backgroundColor:ft.palette.background.paper,borderRadius:ur["2xl"],border:`1px solid ${ft.palette.divider}`},children:[f.jsx(ce,{variant:"h5",sx:{fontFamily:ft.typography.h5.fontFamily,fontWeight:ft.typography.h5.fontWeight,color:ft.palette.text.secondary,mb:2},children:"Material Not Found"}),f.jsx(ce,{variant:"body1",sx:{color:ft.palette.text.secondary},children:"The requested material could not be found or you don't have permission to view it."})]})});const w=s.type==="header"||s.type==="footer"?"":s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((R=(F=(P=i.sections[s.sectionIndex])==null?void 0:P.subsections[s.subsectionIndex])==null?void 0:F.subSubsections[s.subSubsectionIndex])==null?void 0:R.content)||"":s.subsectionIndex!==void 0?((M=(k=i.sections[s.sectionIndex])==null?void 0:k.subsections[s.subsectionIndex])==null?void 0:M.content)||"":((q=i.sections[s.sectionIndex])==null?void 0:q.content)||"":"",C=s.type==="header"||s.type==="footer"?"":s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((O=(T=(Q=i.sections[s.sectionIndex])==null?void 0:Q.subsections[s.subsectionIndex])==null?void 0:T.subSubsections[s.subSubsectionIndex])==null?void 0:O.title)||"":s.subsectionIndex!==void 0?((j=(L=i.sections[s.sectionIndex])==null?void 0:L.subsections[s.subsectionIndex])==null?void 0:j.title)||"":((X=i.sections[s.sectionIndex])==null?void 0:X.title)||"":"",N=s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((ee=(G=(H=i.sections[s.sectionIndex])==null?void 0:H.subsections[s.subsectionIndex])==null?void 0:G.subSubsections[s.subSubsectionIndex])==null?void 0:ee.links)||[]:s.subsectionIndex!==void 0?((Y=(le=i.sections[s.sectionIndex])==null?void 0:le.subsections[s.subsectionIndex])==null?void 0:Y.links)||[]:((te=i.sections[s.sectionIndex])==null?void 0:te.links)||[]:[];return f.jsxs(be,{sx:{display:"flex",flexGrow:1,flexDirection:"column",minHeight:"100vh"},children:[f.jsxs(nn,{elevation:1,sx:{p:3,mb:2,backgroundColor:ft.palette.background.paper,borderRadius:0},children:[f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsx(ZT,{courseId:i.course}),f.jsxs(be,{sx:{display:"flex",gap:2,alignItems:"center"},children:[f.jsx(_n,{label:i.published?"Published":i.scheduledTimestamp?"Scheduled":"Draft",color:i.published?"success":i.scheduledTimestamp?"info":"warning",variant:"outlined",sx:{fontWeight:600}}),f.jsxs(be,{sx:{display:"flex",gap:1},children:[(i==null?void 0:i.originalFile)&&f.jsx(Pi,{title:`Download original file: ${i.originalFile.name}`,arrow:!0,children:f.jsx(lt,{variant:"outlined",startIcon:f.jsx(mR,{}),endIcon:f.jsx(VE,{}),onClick:x,sx:{borderRadius:"12px",textTransform:"none",fontWeight:600},children:"PPTX"})}),f.jsx(lt,{variant:"outlined",startIcon:f.jsx(kx,{}),endIcon:f.jsx(VE,{}),onClick:async()=>{i&&(d(0),await sX(i,d),d(null))},disabled:c!==null,sx:{borderRadius:"12px",textTransform:"none",fontWeight:600},children:c!==null?"Generating...":"PDF"})]})]})]}),c!==null&&f.jsx(be,{sx:{width:"100%",mt:2},children:f.jsx(tl,{variant:"determinate",value:c,sx:{borderRadius:ur.xl,height:8}})})]}),f.jsxs(be,{sx:{display:"flex",flexGrow:1,minHeight:0},children:[f.jsx(cv,{children:f.jsx(XT,{sections:i.sections,selected:s,onAddSection:()=>{},onAddSubsection:()=>{},onAddSubSubsection:()=>{},onSelectSection:y,onUpdateSectionTitle:()=>{},onUpdateSubsectionTitle:()=>{},onUpdateSubSubsectionTitle:()=>{},onDeleteSection:()=>{},onDeleteSubsection:()=>{},onDeleteSubSubsection:()=>{},isViewMode:!0})}),f.jsxs(be,{sx:{flexGrow:1,p:4,overflow:"auto"},children:[f.jsx(nn,{elevation:0,sx:{p:3,mb:3,backgroundColor:ft.palette.background.paper,borderRadius:ur.xl,border:`1px solid ${ft.palette.divider}`},children:f.jsx(ce,{dangerouslySetInnerHTML:{__html:i.header.content.replace(/\n/g,"<br />")},sx:{fontFamily:ft.typography.body1.fontFamily,color:ft.palette.text.secondary,lineHeight:1.6}})}),f.jsx(ce,{variant:"h3",align:"center",sx:{fontFamily:ft.typography.h3.fontFamily,fontWeight:ft.typography.h3.fontWeight,color:ft.palette.text.primary,mb:4},children:i.title}),C&&f.jsx(ce,{variant:"h4",align:"center",sx:{fontFamily:ft.typography.h4.fontFamily,fontWeight:ft.typography.h4.fontWeight,color:ft.palette.text.primary,mb:4},children:C}),s.type!=="header"&&s.type!=="footer"&&f.jsx(Gw,{in:!0,timeout:400,children:f.jsxs(be,{children:[f.jsxs(nn,{elevation:0,sx:{p:4,mb:3,backgroundColor:ft.palette.background.paper,borderRadius:ur.xl,border:`1px solid ${ft.palette.divider}`},children:[f.jsx(ce,{dangerouslySetInnerHTML:{__html:w.replace(/\n/g,"<br />")},sx:{fontFamily:ft.typography.body1.fontFamily,color:ft.palette.text.primary,lineHeight:1.7,"& p":{mb:2}}}),f.jsx(be,{sx:{mt:3},children:s.sectionIndex!==void 0&&f.jsx(f.Fragment,{children:s.subSubsectionIndex!==void 0?(((ve=(ne=(Z=(re=(B=(U=i.sections[s.sectionIndex])==null?void 0:U.subsections)==null?void 0:B[s.subsectionIndex])==null?void 0:re.subSubsections)==null?void 0:Z[s.subSubsectionIndex])==null?void 0:ne.images)==null?void 0:ve.length)||0)>0&&f.jsx(aw,{images:((Ue=(Ie=(Oe=(Ce=(ye=i.sections[s.sectionIndex])==null?void 0:ye.subsections)==null?void 0:Ce[s.subsectionIndex])==null?void 0:Oe.subSubsections)==null?void 0:Ie[s.subSubsectionIndex])==null?void 0:Ue.images)||[]}):s.subsectionIndex!==void 0?(((se=(Se=(V=(He=i.sections[s.sectionIndex])==null?void 0:He.subsections)==null?void 0:V[s.subsectionIndex])==null?void 0:Se.images)==null?void 0:se.length)||0)>0&&f.jsx(aw,{images:((we=(de=(he=i.sections[s.sectionIndex])==null?void 0:he.subsections)==null?void 0:de[s.subsectionIndex])==null?void 0:we.images)||[]}):(((Fe=(Le=i.sections[s.sectionIndex])==null?void 0:Le.images)==null?void 0:Fe.length)||0)>0&&f.jsx(aw,{images:((_e=i.sections[s.sectionIndex])==null?void 0:_e.images)||[]})})})]}),N.length>0&&f.jsx(BQ,{links:N})]})},h),f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[f.jsx(Pi,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:f.jsx("span",{children:f.jsx(un,{onClick:()=>A("prev"),disabled:s.sectionIndex===0&&s.subsectionIndex===void 0&&s.type==="header",sx:{backgroundColor:ft.palette.primary.main,color:ft.palette.primary.contrastText,"&:hover":{backgroundColor:ft.palette.primary.dark},"&:disabled":{backgroundColor:ft.palette.action.disabled,color:ft.palette.action.disabled}},children:f.jsx(gR,{})})})}),f.jsx(Pi,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:f.jsx("span",{children:f.jsx(un,{onClick:()=>A("next"),disabled:s.sectionIndex===(((Qe=i.sections)==null?void 0:Qe.length)??1)-1&&(s.subsectionIndex===void 0||s.subsectionIndex===(((nt=(st=i.sections[s.sectionIndex])==null?void 0:st.subsections)==null?void 0:nt.length)??1)-1)&&s.type==="footer",sx:{backgroundColor:ft.palette.primary.main,color:ft.palette.primary.contrastText,"&:hover":{backgroundColor:ft.palette.primary.dark},"&:disabled":{backgroundColor:ft.palette.action.disabled,color:ft.palette.action.disabled}},children:f.jsx(bR,{})})})})]}),f.jsx(nn,{elevation:0,sx:{p:3,mt:4,backgroundColor:ft.palette.background.paper,borderRadius:ur.xl,border:`1px solid ${ft.palette.divider}`},children:f.jsx(ce,{dangerouslySetInnerHTML:{__html:i.footer.content.replace(/\n/g,"<br />")},sx:{fontFamily:ft.typography.body1.fontFamily,color:ft.palette.text.secondary,lineHeight:1.6}})})]})]})]})},vI=({value:e,onChange:n})=>{const[t,r]=K.useState([]),{userDetails:i}=Ci();return K.useEffect(()=>{if(i!=null&&i.classes){const a=Object.entries(i.classes).filter(([s,l])=>l.isCourseAdmin||i.isSuperAdmin).map(([s,l])=>({id:s,number:l.number,title:l.title}));r(a)}else r([])},[i]),f.jsxs(Bc,{fullWidth:!0,sx:{mb:2},children:[f.jsx(Uc,{id:"course-selector-label",children:"Course"}),f.jsx(Pl,{labelId:"course-selector-label",value:e,onChange:a=>n(a.target.value),label:"Course",children:t.length>0?t.map(a=>f.jsx(Kn,{value:a.id,children:`${a.number} - ${a.title}`},a.id)):f.jsx(Kn,{disabled:!0,children:"No courses available"})}),!e&&f.jsx(yR,{children:"Please select a course"})]})},lX=()=>{const[e,n]=K.useState(""),[t,r]=K.useState(""),[i,a]=K.useState([{title:"",url:""}]),[s,l]=K.useState(""),c=pi(),d=Un(),h=async()=>{if(!s){alert("Please select a course to post the message.");return}try{await Ra(bn(d,"messages"),{title:e,description:t,links:i,course:s,postedOn:Wf(),isPinned:!1}),c("/")}catch(x){console.error("Error adding message: ",x)}},g=()=>c("/"),b=(x,y,A)=>{const w=[...i];w[x][y]=A,a(w)},m=()=>a([...i,{title:"",url:""}]);return f.jsx(k6,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:f.jsxs(nn,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[f.jsx(ce,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Add New Message"}),f.jsx(Za,{sx:{mb:3,backgroundColor:"#DADADA"}}),f.jsxs(be,{sx:{mt:4},children:[f.jsx(vI,{value:s,onChange:l}),f.jsx(zt,{label:"Subject",fullWidth:!0,value:e,onChange:x=>n(x.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),f.jsx(zt,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:t,onChange:x=>r(x.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),f.jsx(ce,{variant:"h6",sx:{mb:2},children:""}),i.map((x,y)=>f.jsxs(be,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[f.jsx(zt,{label:`URL Title ${y+1}`,fullWidth:!0,value:x.title,onChange:A=>b(y,"title",A.target.value),sx:{mb:1}}),f.jsx(zt,{label:`URL Link ${y+1}`,fullWidth:!0,value:x.url,onChange:A=>b(y,"url",A.target.value)})]},y)),f.jsx(lt,{variant:"outlined",onClick:m,startIcon:f.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),f.jsx(Za,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between"},children:[f.jsx(lt,{variant:"outlined",onClick:g,className:"cancel-button",children:"Cancel"}),f.jsx(lt,{variant:"outlined",onClick:h,className:"save-button",children:"Save"})]})]})]})})},uX=()=>{const{id:e}=I6(),[n,t]=K.useState(""),[r,i]=K.useState(""),[a,s]=K.useState([{title:"",url:""}]),[l,c]=K.useState(""),d=pi(),h=Un();K.useEffect(()=>{(async()=>{try{const A=hn(h,"messages",e),w=await ms(A);if(w.exists()){const C=w.data();t(C.title),i(C.description),s(C.links||[{title:"",url:""}]),c(C.course||"")}}catch(A){console.error("Error fetching message: ",A)}})()},[h,e]);const g=async()=>{try{if(!l){alert("Please select a valid course to update the message.");return}const y=hn(h,"messages",e);await Dr(y,{title:n,description:r,links:a,course:l,lastUpdatedOn:Wf()}),d("/")}catch(y){console.error("Error editing message: ",y)}},b=()=>d("/"),m=(y,A,w)=>{const C=[...a];C[y][A]=w,s(C)},x=()=>s([...a,{title:"",url:""}]);return f.jsx(k6,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:f.jsxs(nn,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[f.jsx(ce,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Edit Message"}),f.jsx(Za,{sx:{mb:3,backgroundColor:"#DADADA"}}),f.jsxs(be,{sx:{mt:4},children:[f.jsx(vI,{value:l,onChange:c}),f.jsx(zt,{label:"Subject",fullWidth:!0,value:n,onChange:y=>t(y.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),f.jsx(zt,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:r,onChange:y=>i(y.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),f.jsx(ce,{variant:"h6",sx:{mb:2},children:""}),a.map((y,A)=>f.jsxs(be,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[f.jsx(zt,{label:`URL Title ${A+1}`,fullWidth:!0,value:y.title,onChange:w=>m(A,"title",w.target.value),sx:{mb:1}}),f.jsx(zt,{label:`URL Link ${A+1}`,fullWidth:!0,value:y.url,onChange:w=>m(A,"url",w.target.value)})]},A)),f.jsx(lt,{variant:"outlined",onClick:x,startIcon:f.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),f.jsx(Za,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between"},children:[f.jsx(lt,{variant:"outlined",onClick:b,className:"cancel-button",children:"Cancel"}),f.jsx(lt,{variant:"outlined",onClick:g,className:"save-button",children:"Save"})]})]})]})})},cX=({users:e})=>{const n=(r,i)=>r?{backgroundColor:"#6a1b9a",color:"#fff"}:i?{backgroundColor:"#1976d2",color:"#fff"}:{backgroundColor:"#e0e0e0",color:"#000"},t=r=>r?Object.entries(r).map(([i,a])=>f.jsx(_n,{label:`${a.isCourseAdmin?"[Course Admin] ":""}${a.number||"N/A"} - ${a.title||"Untitled Course"}`,sx:{backgroundColor:a.isCourseAdmin?"#ffcccb":"#d4edda",color:a.isCourseAdmin?"#b71c1c":"#155724",margin:"4px",fontSize:"0.9rem",fontWeight:"bold",borderRadius:"8px",padding:"4px 8px"}},i)):"None";return f.jsx(ju,{component:nn,children:f.jsxs(Tu,{children:[f.jsx(Ou,{children:f.jsxs(Bi,{children:[f.jsx(dt,{children:"ID"}),f.jsx(dt,{children:"Status"}),f.jsx(dt,{children:"Last Login"}),f.jsx(dt,{children:"Courses"})]})}),f.jsx(Iu,{children:e.map(r=>f.jsxs(Bi,{sx:{"&:hover":{backgroundColor:"#f5f5f5",cursor:"pointer"}},children:[f.jsx(dt,{children:f.jsx(_n,{label:r.id,color:r.isSuperAdmin?"secondary":r.isAdmin?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",...n(r.isSuperAdmin,r.isAdmin)}})}),f.jsx(dt,{children:f.jsx(_n,{label:r.isSuperAdmin?"Super Admin":r.isAdmin?"Educator":"Student",color:r.isSuperAdmin?"secondary":r.isAdmin?"primary":"default"})}),f.jsx(dt,{children:Ff(r.lastLogin)}),f.jsx(dt,{children:t(r.classes)||f.jsx(_n,{label:"No courses assigned",sx:{backgroundColor:"#e0e0e0",color:"#000"}})})]},r.id))})]})})},dX=({userId:e,onUserDeleted:n})=>{const[t,r]=K.useState(!1),[i,a]=K.useState(!1),s=Un(),l=()=>{r(!0)},c=()=>{r(!1)},d=async()=>{a(!0);try{const h=hn(s,"users",e);await $g(h),n(!0)}catch(h){console.error("Error deleting user:",h),n(!1)}a(!1),r(!1)};return f.jsxs(f.Fragment,{children:[f.jsx(lt,{variant:"text",color:"error",onClick:l,children:"Delete User Account"}),f.jsxs(Si,{open:t,onClose:c,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[f.jsx(zi,{id:"alert-dialog-title",children:"Confirm Deletion"}),f.jsx(Ai,{children:f.jsx(ko,{id:"alert-dialog-description",children:"Are you sure you want to delete this user account? This action cannot be undone."})}),f.jsxs(qi,{children:[f.jsx(lt,{onClick:c,color:"primary",disabled:i,children:"Cancel"}),f.jsx(lt,{onClick:d,color:"error",autoFocus:!0,disabled:i,children:i?f.jsx(Rr,{size:24}):"Delete"})]})]})]})},fX=({userId:e,userClasses:n,courses:t,onCourseAssigned:r})=>{const[i,a]=K.useState(""),[s,l]=K.useState(!1),[c,d]=K.useState(!1),[h,g]=K.useState(""),[b,m]=K.useState(!1),[x,y]=K.useState(!1),[A,w]=K.useState(!1),[C,N]=K.useState(!1),P=Un(),F=async()=>{if(!e||!i){g("Please enter a User ID and select a course."),w(!1),m(!0);return}d(!0);try{const q=hn(P,"users",e),Q=t.find(T=>T.id===i);Q?(await Dr(q,{[`classes.${i}`]:{number:Q.number,title:Q.title,isCourseAdmin:s}}),g(`Course ${Q.title} assigned successfully to user ${e}${s?" as Course Admin.":"."}`),r(i,{number:Q.number,title:Q.title,isCourseAdmin:s}),N(!0),setTimeout(()=>N(!1),1e3),y(!1),a(""),l(!1),w(!0)):(g("Selected course not found."),w(!1))}catch(q){console.error("Error assigning course:",q),g("Error assigning course."),w(!1)}d(!1),m(!0)},R=()=>{m(!1)},k=()=>y(!0),M=()=>y(!1);return f.jsxs(f.Fragment,{children:[f.jsxs(be,{sx:{display:"flex",alignItems:"center",mt:2,p:2,borderRadius:2,transition:"background-color 0.3s ease",backgroundColor:C?"#e8f5e8":"transparent",border:C?"2px solid #4caf50":"2px solid transparent"},children:[f.jsx(ce,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Courses:"}),f.jsx(be,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:n&&Object.keys(n).length>0?Object.values(n).map((q,Q)=>f.jsx(_n,{label:`${q.isCourseAdmin?"[Course Admin] ":""}${q.number} - ${q.title}`,style:{backgroundColor:q.isCourseAdmin?"#ffcccb":"#d4edda",color:q.isCourseAdmin?"#b71c1c":"#155724",margin:"4px"}},Q)):f.jsx(ce,{children:"No courses assigned."})}),f.jsxs(Bc,{sx:{minWidth:200,mr:2},children:[f.jsx(Uc,{children:"Course"}),f.jsx(Pl,{value:i,onChange:q=>a(q.target.value),children:t.map(q=>f.jsx(Kn,{value:q.id,children:`${q.number} - ${q.title}`},q.id))})]}),f.jsxs(Bc,{sx:{mr:2},children:[f.jsx(Uc,{children:"Role"}),f.jsxs(Pl,{value:s?"admin":"student",onChange:q=>l(q.target.value==="admin"),children:[f.jsx(Kn,{value:"admin",children:"Course Admin"}),f.jsx(Kn,{value:"student",children:"Student"})]})]}),f.jsx(lt,{variant:"contained",color:"primary",onClick:k,disabled:c||!i,children:c?f.jsx(Rr,{size:24}):"Assign Course"})]}),f.jsx(no,{open:b,autoHideDuration:6e3,onClose:R,children:f.jsx(nr,{onClose:R,severity:A?"success":"error",children:h})}),f.jsxs(Si,{open:x,onClose:M,"aria-labelledby":"assign-dialog-title",children:[f.jsx(zi,{id:"assign-dialog-title",children:"Assign Course"}),f.jsx(Ai,{children:f.jsxs(ko,{children:["Are you sure you want to assign the course ",i," to this user",s?" as a Course Admin?":"?"]})}),f.jsxs(qi,{children:[f.jsx(lt,{onClick:M,color:"primary",children:"Cancel"}),f.jsx(lt,{onClick:F,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},hX=()=>{const[e,n]=K.useState(""),[t,r]=K.useState(!1),[i,a]=K.useState(!1),[s,l]=K.useState(void 0),[c,d]=K.useState(!1),[h,g]=K.useState(""),[b,m]=K.useState(!1),[x,y]=K.useState(!1),[A,w]=K.useState(!1),[C,N]=K.useState([]),[P,F]=K.useState(""),[R,k]=K.useState([]),M=Un(),[q,Q]=K.useState(""),T=pi(),O=()=>{T("/")};K.useEffect(()=>{(async()=>{try{const ne=bn(M,"courses"),ye=(await hi(ne)).docs.map(Ce=>({id:Ce.id,number:Ce.data().number,title:Ce.data().title}));k(ye)}catch(ne){console.error("Error fetching courses:",ne)}})()},[M]);const L=async()=>{if(e){d(!0),a(!1);try{const Z=hn(M,"users",e),ne=await ms(Z);if(ne.exists()){const ve=ne.data();r(ve.isAdmin),l(ve.classes),a(!0)}else g("User not found."),m(!0)}catch(Z){console.error("Error fetching user:",Z),g("Error fetching user."),m(!0)}d(!1)}},j=K.useCallback(async()=>{d(!0);try{const Z=bn(M,"users"),ve=(await hi(Z)).docs.map(ye=>({id:ye.id,...ye.data()}));N(ve)}catch(Z){console.error("Error fetching users:",Z),g("Error fetching users."),m(!0)}d(!1)},[M]);K.useEffect(()=>{j()},[j]);const X=async()=>{try{const Z=hn(M,"users",e);await Dr(Z,{isAdmin:A}),g(`User ${A?"granted":"revoked"} admin privileges successfully.`),r(A);const ne=C.map(ve=>ve.id===e?{...ve,isAdmin:A}:ve);N(ne)}catch(Z){console.error("Error updating user:",Z),g("Error updating user.")}m(!0),y(!1)},H=Z=>{Z.preventDefault(),i?(w(!t),y(!0)):(g("User not found."),m(!0))},G=()=>{m(!1)},ee=()=>{y(!1)},le=Z=>{F(Z.target.value)},Y=Z=>P?Z.classes&&P in Z.classes:!0,te=Z=>q==="superAdmin"?Z.isSuperAdmin:q==="educator"?Z.isAdmin&&!Z.isSuperAdmin:q==="student"?!Z.isAdmin&&!Z.isSuperAdmin:!0,U=Z=>Z.filter(ne=>Y(ne)&&te(ne)),B=Z=>{Z?(g("User account deleted successfully."),a(!1),n(""),j()):g("Error deleting user account."),m(!0)},re=(Z,ne)=>{l(ve=>({...ve,[Z]:ne}))};return f.jsxs(be,{sx:{padding:3},children:[f.jsx(be,{sx:{display:"flex",alignItems:"center"},children:f.jsx(lt,{variant:"text",onClick:O,sx:{mr:2},children:" Home Page"})}),f.jsx(ce,{variant:"h4",component:"h1",gutterBottom:!0,children:"User Management"}),f.jsx(ce,{variant:"body1",gutterBottom:!0,children:"Use this page to view and manage user permissions. Enter the User ID to grant or revoke admin privileges, or delete user account."}),f.jsx(be,{sx:{display:"flex",justifyContent:"flex-start"},children:f.jsxs("form",{onSubmit:H,children:[f.jsx(zt,{label:"User ID",value:e,onChange:Z=>n(Z.target.value),fullWidth:!0,required:!0,margin:"normal",onKeyPress:Z=>{Z.key==="Enter"&&(L(),Z.preventDefault())},sx:{minWidth:"300px"}}),c?f.jsx(Rr,{}):i&&f.jsxs(nn,{variant:"outlined",sx:{padding:2,borderRadius:"15px",mb:1},children:[f.jsxs(be,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #e0e0e0",padding:"16px",borderRadius:"8px",backgroundColor:"#f9f9f9",mb:2},children:[f.jsxs(be,{sx:{display:"flex",alignItems:"center"},children:[f.jsx(ce,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Status:"}),f.jsx(_n,{label:t?"Educator (Admin)":"Student (Non-Admin)",color:t?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",backgroundColor:t?"#1976d2":"#e0e0e0",color:t?"#fff":"#000"}})]}),f.jsx(lt,{type:"submit",variant:"contained",color:t?"secondary":"primary",sx:{padding:"8px 16px",textTransform:"none",fontSize:"0.9rem",borderRadius:"8px",fontWeight:"bold",boxShadow:"none","&:hover":{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.2)"}},children:t?"Revoke Educator Access":"Grant Educator Access"})]}),f.jsx(fX,{userId:e,userClasses:s,courses:R,onCourseAssigned:re}),f.jsx(dX,{userId:e,onUserDeleted:B})]})]})}),f.jsx(ce,{variant:"h5",component:"h2",gutterBottom:!0,children:"Current Users"}),f.jsxs(Bc,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[f.jsx(Uc,{children:"Filter by Course"}),f.jsxs(Pl,{value:P,onChange:le,children:[f.jsx(Kn,{value:"",children:"All Courses"}),R.map(Z=>f.jsx(Kn,{value:Z.id,children:Z.number},Z.id))]})]}),f.jsxs(Bc,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[f.jsx(Uc,{children:"User Status"}),f.jsxs(Pl,{value:q,onChange:Z=>Q(Z.target.value),children:[f.jsx(Kn,{value:"",children:"All Statuses"}),f.jsx(Kn,{value:"superAdmin",children:"Super Admin"}),f.jsx(Kn,{value:"educator",children:"Educator"}),f.jsx(Kn,{value:"student",children:"Student"})]})]}),f.jsx(cX,{users:U(C)}),f.jsxs(Si,{open:x,onClose:ee,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[f.jsx(zi,{id:"alert-dialog-title",children:t?"Revoke Admin Privileges":"Grant Admin Privileges"}),f.jsx(Ai,{children:f.jsxs(ko,{id:"alert-dialog-description",children:["Are you sure you want to ",t?"revoke":"grant"," admin privileges for this user?"]})}),f.jsxs(qi,{children:[f.jsx(lt,{onClick:ee,color:"primary",children:"Cancel"}),f.jsx(lt,{onClick:X,color:"primary",autoFocus:!0,children:"Confirm"})]})]}),f.jsx(no,{open:b,autoHideDuration:6e3,onClose:G,children:f.jsx(nr,{onClose:G,severity:"info",children:h})})]})},pX=({onCourseAdded:e})=>{const[n,t]=K.useState(""),{userDetails:r,setUserDetails:i}=Ci(),a=Un(),s=c=>{t(c.target.value)},l=async()=>{try{const h=(await hi(bn(a,"courses"))).docs.map(g=>({id:g.id,passcode:g.data().passcode,number:g.data().number,title:g.data().title})).find(g=>g.passcode===n);if(h){if(r)if((r.classes||{})[h.id])e(`Course access for ${h.number} is already added to your account!`,"info");else{const b=hn(a,"users",r.uid);await Dr(b,{[`classes.${h.id}`]:{number:h.number,title:h.title,isCourseAdmin:!1}});const m=await ms(b);if(m.exists()){const x=m.data();i({...x,uid:r.uid})}e(`Course access for ${h.number} added to your account successfully!`,"success"),t("")}}else e("Invalid passcode. Course not found.","error")}catch(c){console.error("Error updating document: ",c),e("Error adding course access to your account.","error")}};return f.jsx("div",{children:f.jsxs(mt,{container:!0,spacing:2,sx:{maxWidth:"50%"},children:[f.jsx(mt,{item:!0,xs:10,children:f.jsx(zt,{label:"Enter Course Passcode",value:n,onChange:s,fullWidth:!0,sx:{mb:2}})}),f.jsx(mt,{item:!0,xs:2,sx:{display:"flex",alignItems:"center"},children:f.jsx(lt,{variant:"contained",onClick:l,children:"Add Course"})})]})})};var C1={},c4;function mX(){if(c4)return C1;c4=1;var e=Eo();Object.defineProperty(C1,"__esModule",{value:!0}),C1.default=void 0;var n=e(No()),t=_o();return C1.default=(0,n.default)((0,t.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),C1}var gX=mX();const bX=$i(gX),yX=({userDetails:e,getAccountStatus:n,renderCourses:t})=>f.jsxs(nn,{elevation:3,sx:{padding:3,borderRadius:"12px",backgroundColor:"#ffffff",maxWidth:"500px",margin:"auto"},children:[f.jsx(be,{sx:{display:"flex",justifyContent:"center",mb:2},children:f.jsx(xR,{sx:{width:72,height:72,bgcolor:"#1054c4"},children:f.jsx(bX,{sx:{fontSize:48,color:"#f8f4fc"}})})}),f.jsxs(be,{sx:{display:"flex",flexDirection:"column",gap:1,alignItems:"left"},children:[f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(ce,{sx:{fontWeight:"bold"},children:"User ID:"}),f.jsx(_n,{label:e.uid,variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#E3F2FD",color:"#1565C0"}})]}),f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(ce,{sx:{fontWeight:"bold"},children:"Account Status:"}),f.jsx(_n,{label:n(),variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#C8E6C9",color:"#2E7D32"}})]}),f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(ce,{sx:{fontWeight:"bold"},children:"Last Login:"}),f.jsx(_n,{label:Ff(e.lastLogin),variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#FFF3E0",color:"#EF6C00"}})]})]}),f.jsx(Za,{sx:{my:2}}),f.jsx(ce,{sx:{fontWeight:"bold",mb:1},children:"Current Courses:"}),f.jsx(be,{sx:{display:"flex",flexWrap:"wrap"},children:t()})]}),xX=()=>{const{userDetails:e,setUserDetails:n}=Ci(),[t,r]=K.useState(!1),[i,a]=K.useState(!1),[s,l]=K.useState(!1),[c,d]=K.useState(""),[h,g]=K.useState("success"),b=pi(),m=Un(),x=()=>{b("/")},y=()=>{e!=null&&e.isAdmin||b("/request-educator-permissions")},A=(R,k)=>{l(!0),d(R),g(k),k==="success"&&e&&(async()=>{const q=hn(m,"users",e.uid),Q=await ms(q);if(Q.exists()){const T=Q.data();n({...T,uid:e.uid})}})()},w=()=>{r(!t)},C=()=>{a(!i)},N=()=>e!=null&&e.isSuperAdmin?"Super Admin":e!=null&&e.isAdmin?"Educator":"Student",P=()=>{l(!1)},F=()=>e!=null&&e.classes?Object.entries(e.classes).map(([R,k])=>f.jsx(_n,{label:`${k.number} - ${k.title}${k.isCourseAdmin?" (Admin)":""}`,variant:"outlined",sx:{margin:"4px",fontSize:"14px",fontWeight:"bold",bgcolor:k.isCourseAdmin?"#FFCDD2":"#E3F2FD",color:k.isCourseAdmin?"#C62828":"#1565C0"}},R)):"None";return f.jsxs(be,{className:"profile-container",children:[f.jsx(lt,{variant:"text",onClick:x,className:"profile-button",children:" Home Page"}),f.jsx(ce,{className:"webpage_title",children:"My Account"}),e&&f.jsx(yX,{userDetails:e,getAccountStatus:N,renderCourses:F}),!(e!=null&&e.isAdmin)&&f.jsxs(be,{className:"profile-switch-container",children:[f.jsx(Nd,{control:f.jsx(jd,{checked:t,onChange:w}),label:"Enroll in a Course (As a Student)"}),t&&f.jsxs(be,{sx:{mt:2},children:[f.jsx(ce,{variant:"body1",className:"profile-text",children:"Use the area below to add a course access to your account."}),f.jsx(pX,{onCourseAdded:A})]})]}),f.jsxs(be,{className:"profile-advanced-section",children:[f.jsx(Nd,{control:f.jsx(jd,{checked:i,onChange:C}),label:"Advanced"}),i&&f.jsx(f.Fragment,{children:f.jsx(be,{sx:{mt:2},children:f.jsx(lt,{variant:"text",onClick:y,disabled:e==null?void 0:e.isAdmin,className:"profile-button",children:e!=null&&e.isAdmin?f.jsx(ce,{children:f.jsx("span",{className:"success-text",children:" Educator Account Approved"})}):"Request Educator Permissions"})})})]}),f.jsx(no,{open:s,autoHideDuration:6e3,onClose:P,children:f.jsx(nr,{onClose:P,severity:h,sx:{width:"100%"},children:c})})]})},vX=({selectedCourse:e,selectedCourseDetails:n,onStudentChange:t})=>{const[r,i]=K.useState(""),[a,s]=K.useState(!1),[l,c]=K.useState(""),[d,h]=K.useState(!1),[g,b]=K.useState(!1),m=Un(),x=async()=>{if(!r||!e){c("Please enter a Student ID and select a course."),h(!0);return}s(!0);try{const C=hn(m,"users",r),N=await ms(C);if(N.exists()){const F=N.data().classes||{};e in F?b(!0):(c(`Student ${r} is not enrolled in course ${(n==null?void 0:n.number)||e}, cannot remove.`),h(!0))}else c(`Student ${r} does not exist.`),h(!0)}catch(C){console.error("Error checking student course:",C),c("Error checking student course."),h(!0)}s(!1)},y=async()=>{s(!0);try{const C=hn(m,"users",r);await Dr(C,{[`classes.${e}`]:o3()}),c(`Student ${r} removed from course ${(n==null?void 0:n.number)||e}.`),i(""),t()}catch(C){console.error("Error updating student course:",C),c("Error updating student course.")}s(!1),h(!0),b(!1)},A=()=>{h(!1)},w=()=>{b(!1)};return f.jsxs(be,{sx:{mt:4},children:[f.jsxs(ce,{variant:"h6",component:"h2",children:["Remove Students from ",n?`${n.number}`:e]}),f.jsxs(be,{sx:{display:"flex",alignItems:"center",mt:2},children:[f.jsx(zt,{label:"Student ID",value:r,onChange:C=>i(C.target.value),fullWidth:!0,required:!0,margin:"normal",sx:{mr:2}}),f.jsx(lt,{variant:"contained",color:"primary",onClick:x,disabled:a,children:a?f.jsx(Rr,{size:24}):"Remove"})]}),f.jsx(no,{open:d,autoHideDuration:6e3,onClose:A,children:f.jsx(nr,{onClose:A,severity:"info",children:l})}),f.jsxs(Si,{open:g,onClose:w,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[f.jsx(zi,{id:"confirm-dialog-title",children:"Confirm Removal"}),f.jsx(Ai,{children:f.jsx(ko,{id:"confirm-dialog-description",children:"Are you sure you want to remove the student from the course? This action cannot be undone."})}),f.jsxs(qi,{children:[f.jsx(lt,{onClick:w,color:"primary",children:"Cancel"}),f.jsx(lt,{onClick:y,color:"secondary",autoFocus:!0,children:"Confirm"})]})]})]})},wX=({students:e,selectedCourse:n})=>{const t=()=>{if(e.length>0){const r=["User ID","Courses","Last Login"],i=e.map(d=>[`"${d.id||d.uid}"`,`"${d.classes?Object.values(d.classes).map(h=>`${h.number} - ${h.title}`).join(", "):"None"}"`,`"${Ff(d.lastLogin)}"`]),a=[r.join(","),...i.map(d=>d.join(","))].join(`
`),s=new Blob([a],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(s),c=document.createElement("a");c.href=l,c.setAttribute("download",`${n}_students.csv`),document.body.appendChild(c),c.click(),document.body.removeChild(c)}};return f.jsx(be,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:f.jsx(lt,{variant:"contained",color:"primary",onClick:t,disabled:e.length===0,sx:{background:"linear-gradient(45deg, #3f51b5 30%, #1e88e5 90%)",borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"white",padding:"0 30px",fontSize:"16px",fontWeight:"bold",textTransform:"none","&:hover":{background:"linear-gradient(45deg, #1e88e5 30%, #3f51b5 90%)",boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)"}},children:"Export as CSV"})})},SX=({userClasses:e,selectedCourse:n,onCourseChange:t})=>f.jsx(be,{sx:{mb:3},children:f.jsxs(Bc,{fullWidth:!0,variant:"outlined",children:[f.jsx(Uc,{id:"course-selector-label",children:"Select a Course"}),f.jsx(Pl,{"aria-label":"Select a course",labelId:"course-selector-label",value:n,onChange:r=>t(r.target.value),label:"Select a Course",children:Object.entries(e).map(([r,i])=>f.jsx(Kn,{value:r,children:`${i.number} - ${i.title}`},r))})]})}),AX=({selectedCourse:e,selectedCourseDetails:n,onCourseUpdate:t})=>{const[r,i]=K.useState(!1),[a,s]=K.useState(""),[l,c]=K.useState(""),d=Un(),{userDetails:h,refreshUserDetails:g}=Ci(),b=()=>{n&&(s(n.number||""),c(n.title||"")),i(!0)},m=()=>{i(!1),x()},x=()=>{s(""),c("")},y=async()=>{if(!e||!(h!=null&&h.uid)){console.error("Selected course or user details are missing.");return}try{const A=hn(d,"courses",e);await Dr(A,{number:a,title:l});const w=hn(d,"users",h.uid),C=await ms(w);if(C.exists()){const N=C.data();if(N.classes&&N.classes[e]){const P=N.classes[e],F={...N.classes,[e]:{...P,number:a,title:l}};await Dr(w,{classes:F})}}await g(),t(),m()}catch(A){console.error("Error updating course:",A)}};return f.jsxs(be,{sx:{mt:2},children:[f.jsx(lt,{variant:"outlined",onClick:b,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#4CAF50",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#388E3C",transform:"scale(1.03)"}},children:"Edit Course Details"}),f.jsxs(Si,{open:r,onClose:m,children:[f.jsx(zi,{children:"Edit Course Details"}),f.jsxs(Ai,{children:[f.jsx(zt,{label:"Course Number",value:a,onChange:A=>s(A.target.value),fullWidth:!0,sx:{mb:2}}),f.jsx(zt,{label:"Course Title",value:l,onChange:A=>c(A.target.value),fullWidth:!0})]}),f.jsxs(qi,{children:[f.jsx(lt,{onClick:m,children:"Cancel"}),f.jsx(lt,{onClick:y,variant:"contained",color:"primary",disabled:!a||!l,children:"Save"})]})]})]})},CX=({selectedCourse:e,onInfoUpdate:n})=>{var L,j,X,H,G,ee,le,Y,te,U,B,re,Z;const[t,r]=K.useState(!1),[i,a]=K.useState(!1),[s,l]=K.useState(null),[c,d]=K.useState({}),[h,g]=K.useState("contact"),b=Un();K.useEffect(()=>{t&&e&&m()},[t,e]);const m=async()=>{try{a(!0);const ne=hn(b,"courses",e),ve=await ms(ne);if(ve.exists()){const ye=ve.data();d(ye.additionalInfo||{})}}catch(ne){console.error("Error fetching course info:",ne),l("Failed to load course information")}finally{a(!1)}},x=()=>{r(!0),l(null)},y=()=>{r(!1),l(null)},A=async()=>{try{a(!0);const ne=hn(b,"courses",e);await Dr(ne,{additionalInfo:{...c,lastUpdated:new Date}}),n(),y()}catch(ne){console.error("Error updating course info:",ne),l("Failed to save course information")}finally{a(!1)}},w=(ne,ve)=>{d(ye=>({...ye,contactInfo:{...ye.contactInfo,[ne]:ve}}))},C=(ne,ve)=>{d(ye=>({...ye,policies:{...ye.policies,[ne]:ve}}))},N=()=>{d(ne=>({...ne,textbooks:[...ne.textbooks||[],{title:"",author:"",edition:"",isbn:"",required:!0}]}))},P=(ne,ve,ye)=>{d(Ce=>{var Oe;return{...Ce,textbooks:(Oe=Ce.textbooks)==null?void 0:Oe.map((Ie,Ue)=>Ue===ne?{...Ie,[ve]:ye}:Ie)}})},F=ne=>{d(ve=>{var ye;return{...ve,textbooks:(ye=ve.textbooks)==null?void 0:ye.filter((Ce,Oe)=>Oe!==ne)}})},R=()=>{d(ne=>({...ne,gradingPolicy:[...ne.gradingPolicy||[],{component:"",percentage:0,description:""}]}))},k=(ne,ve,ye)=>{d(Ce=>{var Oe;return{...Ce,gradingPolicy:(Oe=Ce.gradingPolicy)==null?void 0:Oe.map((Ie,Ue)=>Ue===ne?{...Ie,[ve]:ye}:Ie)}})},M=ne=>{d(ve=>{var ye;return{...ve,gradingPolicy:(ye=ve.gradingPolicy)==null?void 0:ye.filter((Ce,Oe)=>Oe!==ne)}})},q=(ne,ve)=>{d(ye=>{var Ce;return{...ye,[ne]:{...ye[ne],[ve]:[...((Ce=ye[ne])==null?void 0:Ce[ve])||[],""]}}})},Q=(ne,ve,ye,Ce)=>{d(Oe=>{var Ie;return{...Oe,[ne]:{...Oe[ne],[ve]:(((Ie=Oe[ne])==null?void 0:Ie[ve])||[]).map((Ue,He)=>He===ye?Ce:Ue)}}})},T=(ne,ve,ye)=>{d(Ce=>{var Oe;return{...Ce,[ne]:{...Ce[ne],[ve]:(((Oe=Ce[ne])==null?void 0:Oe[ve])||[]).filter((Ie,Ue)=>Ue!==ye)}}})},O=ne=>(ve,ye)=>{g(ye?ne:!1)};return f.jsxs(be,{sx:{mt:2},children:[f.jsx(lt,{variant:"outlined",onClick:x,startIcon:f.jsx(Cu,{}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#2196F3",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#1976D2",transform:"scale(1.03)"}},children:"Edit Additional Info"}),f.jsxs(Si,{open:t,onClose:y,maxWidth:"md",fullWidth:!0,children:[f.jsx(zi,{children:f.jsx(ce,{variant:"h5",children:"Edit Additional Course Information"})}),f.jsxs(Ai,{sx:{minHeight:"500px"},children:[s&&f.jsx(nr,{severity:"error",sx:{mb:2},children:s}),f.jsxs(yu,{expanded:h==="contact",onChange:O("contact"),children:[f.jsx(xu,{expandIcon:f.jsx(bo,{}),children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(vR,{color:"primary"}),f.jsx(ce,{variant:"h6",children:"Contact Information"})]})}),f.jsx(vu,{children:f.jsxs(mt,{container:!0,spacing:2,children:[f.jsx(mt,{item:!0,xs:12,md:6,children:f.jsx(zt,{label:"Email",fullWidth:!0,value:((L=c.contactInfo)==null?void 0:L.email)||"",onChange:ne=>w("email",ne.target.value)})}),f.jsx(mt,{item:!0,xs:12,md:6,children:f.jsx(zt,{label:"Phone",fullWidth:!0,value:((j=c.contactInfo)==null?void 0:j.phone)||"",onChange:ne=>w("phone",ne.target.value)})}),f.jsx(mt,{item:!0,xs:12,md:6,children:f.jsx(zt,{label:"Office",fullWidth:!0,value:((X=c.contactInfo)==null?void 0:X.office)||"",onChange:ne=>w("office",ne.target.value)})}),f.jsx(mt,{item:!0,xs:12,md:6,children:f.jsx(zt,{label:"Office Hours",fullWidth:!0,value:((H=c.contactInfo)==null?void 0:H.officeHours)||"",onChange:ne=>w("officeHours",ne.target.value)})}),f.jsx(mt,{item:!0,xs:12,children:f.jsx(zt,{label:"Website",fullWidth:!0,value:((G=c.contactInfo)==null?void 0:G.website)||"",onChange:ne=>w("website",ne.target.value)})})]})})]}),f.jsxs(yu,{expanded:h==="textbooks",onChange:O("textbooks"),children:[f.jsx(xu,{expandIcon:f.jsx(bo,{}),children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(wR,{color:"primary"}),f.jsx(ce,{variant:"h6",children:"Textbooks & Resources"})]})}),f.jsxs(vu,{children:[f.jsx(be,{sx:{mb:2},children:f.jsx(lt,{startIcon:f.jsx(wu,{}),onClick:N,variant:"outlined",children:"Add Textbook"})}),(ee=c.textbooks)==null?void 0:ee.map((ne,ve)=>f.jsx(be,{sx:{mb:3,p:2,border:"1px solid #ddd",borderRadius:1},children:f.jsxs(mt,{container:!0,spacing:2,children:[f.jsx(mt,{item:!0,xs:12,children:f.jsx(zt,{label:"Title",fullWidth:!0,value:ne.title,onChange:ye=>P(ve,"title",ye.target.value)})}),f.jsx(mt,{item:!0,xs:12,md:4,children:f.jsx(zt,{label:"Author",fullWidth:!0,value:ne.author||"",onChange:ye=>P(ve,"author",ye.target.value)})}),f.jsx(mt,{item:!0,xs:12,md:4,children:f.jsx(zt,{label:"Edition",fullWidth:!0,value:ne.edition||"",onChange:ye=>P(ve,"edition",ye.target.value)})}),f.jsx(mt,{item:!0,xs:12,md:4,children:f.jsx(zt,{label:"ISBN",fullWidth:!0,value:ne.isbn||"",onChange:ye=>P(ve,"isbn",ye.target.value)})}),f.jsx(mt,{item:!0,xs:12,children:f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsx(Nd,{control:f.jsx(jd,{checked:ne.required,onChange:ye=>P(ve,"required",ye.target.checked)}),label:"Required"}),f.jsx(un,{onClick:()=>F(ve),color:"error",children:f.jsx(kd,{})})]})})]})},ve))]})]}),f.jsxs(yu,{expanded:h==="grading",onChange:O("grading"),children:[f.jsx(xu,{expandIcon:f.jsx(bo,{}),children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(SR,{color:"primary"}),f.jsx(ce,{variant:"h6",children:"Grading Policy"})]})}),f.jsxs(vu,{children:[f.jsx(be,{sx:{mb:2},children:f.jsx(lt,{startIcon:f.jsx(wu,{}),onClick:R,variant:"outlined",children:"Add Grading Component"})}),(le=c.gradingPolicy)==null?void 0:le.map((ne,ve)=>f.jsx(be,{sx:{mb:2,p:2,border:"1px solid #ddd",borderRadius:1},children:f.jsxs(mt,{container:!0,spacing:2,children:[f.jsx(mt,{item:!0,xs:12,md:4,children:f.jsx(zt,{label:"Component",fullWidth:!0,value:ne.component,onChange:ye=>k(ve,"component",ye.target.value)})}),f.jsx(mt,{item:!0,xs:12,md:3,children:f.jsx(zt,{label:"Percentage",type:"number",fullWidth:!0,value:ne.percentage,onChange:ye=>k(ve,"percentage",parseInt(ye.target.value)||0),inputProps:{min:0,max:100}})}),f.jsx(mt,{item:!0,xs:12,md:4,children:f.jsx(zt,{label:"Description",fullWidth:!0,value:ne.description||"",onChange:ye=>k(ve,"description",ye.target.value)})}),f.jsx(mt,{item:!0,xs:12,md:1,children:f.jsx(un,{onClick:()=>M(ve),color:"error",children:f.jsx(kd,{})})})]})},ve))]})]}),f.jsxs(yu,{expanded:h==="policies",onChange:O("policies"),children:[f.jsx(xu,{expandIcon:f.jsx(bo,{}),children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(AR,{color:"primary"}),f.jsx(ce,{variant:"h6",children:"Course Policies"})]})}),f.jsx(vu,{children:f.jsx(mt,{container:!0,spacing:2,children:[{key:"attendance",label:"Attendance Policy"},{key:"lateWork",label:"Late Work Policy"},{key:"academicIntegrity",label:"Academic Integrity"},{key:"accommodations",label:"Accommodations"},{key:"communication",label:"Communication Policy"},{key:"safety",label:"Safety Policy"},{key:"groupWork",label:"Group Work Policy"},{key:"makeupPolicy",label:"Make-up Policy"}].map(({key:ne,label:ve})=>{var ye;return f.jsx(mt,{item:!0,xs:12,children:f.jsx(zt,{label:ve,multiline:!0,rows:3,fullWidth:!0,value:((ye=c.policies)==null?void 0:ye[ne])||"",onChange:Ce=>C(ne,Ce.target.value)})},ne)})})})]}),f.jsxs(yu,{expanded:h==="lab",onChange:O("lab"),children:[f.jsx(xu,{expandIcon:f.jsx(bo,{}),children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(CR,{color:"primary"}),f.jsx(ce,{variant:"h6",children:"Laboratory Information"})]})}),f.jsx(vu,{children:f.jsxs(mt,{container:!0,spacing:3,children:[f.jsxs(mt,{item:!0,xs:12,children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:"Safety Requirements"}),f.jsx(be,{sx:{mb:2},children:f.jsx(lt,{startIcon:f.jsx(wu,{}),onClick:()=>q("labSpecific","safetyRequirements"),size:"small",variant:"outlined",children:"Add Safety Requirement"})}),(te=(Y=c.labSpecific)==null?void 0:Y.safetyRequirements)==null?void 0:te.map((ne,ve)=>f.jsxs(be,{sx:{display:"flex",gap:1,mb:1},children:[f.jsx(zt,{fullWidth:!0,size:"small",value:ne,onChange:ye=>Q("labSpecific","safetyRequirements",ve,ye.target.value),placeholder:"Safety requirement"}),f.jsx(un,{onClick:()=>T("labSpecific","safetyRequirements",ve),color:"error",size:"small",children:f.jsx(kd,{})})]},ve))]}),f.jsxs(mt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:"Required Equipment"}),f.jsx(be,{sx:{mb:2},children:f.jsx(lt,{startIcon:f.jsx(wu,{}),onClick:()=>q("labSpecific","requiredEquipment"),size:"small",variant:"outlined",children:"Add Equipment"})}),(B=(U=c.labSpecific)==null?void 0:U.requiredEquipment)==null?void 0:B.map((ne,ve)=>f.jsxs(be,{sx:{display:"flex",gap:1,mb:1},children:[f.jsx(zt,{fullWidth:!0,size:"small",value:ne,onChange:ye=>Q("labSpecific","requiredEquipment",ve,ye.target.value),placeholder:"Equipment item"}),f.jsx(un,{onClick:()=>T("labSpecific","requiredEquipment",ve),color:"error",size:"small",children:f.jsx(kd,{})})]},ve))]}),f.jsxs(mt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:"Dress Code"}),f.jsx(be,{sx:{mb:2},children:f.jsx(lt,{startIcon:f.jsx(wu,{}),onClick:()=>q("labSpecific","dresscode"),size:"small",variant:"outlined",children:"Add Dress Code Item"})}),(Z=(re=c.labSpecific)==null?void 0:re.dresscode)==null?void 0:Z.map((ne,ve)=>f.jsxs(be,{sx:{display:"flex",gap:1,mb:1},children:[f.jsx(zt,{fullWidth:!0,size:"small",value:ne,onChange:ye=>Q("labSpecific","dresscode",ve,ye.target.value),placeholder:"Dress code requirement"}),f.jsx(un,{onClick:()=>T("labSpecific","dresscode",ve),color:"error",size:"small",children:f.jsx(kd,{})})]},ve))]})]})})]})]}),f.jsxs(qi,{children:[f.jsx(lt,{onClick:y,children:"Cancel"}),f.jsx(lt,{onClick:A,variant:"contained",disabled:i,children:i?"Saving...":"Save Changes"})]})]})]})},EX=async(e,n,t)=>{const r=sh(),i=e.name.split(".").pop()||"txt",a=`${e.name.replace(/\.[^/.]+$/,"")}_${Mi()}.${i}`,s=`syllabi/${n}/${a}`,l=Au(r,s);try{const c=await Vf(l,e),d=await Td(c.ref),h={originalFilename:e.name,fileSize:e.size,fileType:e.type||"application/octet-stream",uploadedAt:new Date,uploadedBy:n,courseId:t};return console.log(`Successfully uploaded syllabus file: ${a}`,{size:e.size,type:e.type,url:d}),{url:d,path:c.ref.fullPath,metadata:h}}catch(c){throw console.error("Failed to upload syllabus file:",c),new Error(`Failed to upload syllabus file: ${c instanceof Error?c.message:"Unknown error"}`)}},d4=e=>{switch(e.toLowerCase()){case"application/pdf":return"PDF Document";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return"Word Document";case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return"PowerPoint Presentation";case"text/plain":return"Text File";default:return"Document"}},f4=e=>{if(e===0)return"0 Bytes";const n=1024,t=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,r)).toFixed(2))+" "+t[r]},_X=({courseId:e})=>{const[n,t]=K.useState(null),[r,i]=K.useState(!0),[a,s]=K.useState(null),[l,c]=K.useState(!1),d=Un();K.useEffect(()=>{e&&(async()=>{try{i(!0);const m=hn(d,"courses",e),x=await ms(m);if(x.exists()){const y=x.data();t(y.syllabusFile||null)}else s("Course not found")}catch(m){console.error("Error fetching syllabus file:",m),s("Failed to load syllabus file information")}finally{i(!1)}})()},[e,d]);const h=()=>{n!=null&&n.url&&window.open(n.url,"_blank")},g=()=>{c(!0)};return r?f.jsx(be,{sx:{display:"flex",justifyContent:"center",p:2},children:f.jsx(Rr,{size:24})}):a?f.jsx(nr,{severity:"error",sx:{mb:2},children:a}):n?f.jsxs(nn,{sx:{p:3,mb:3,backgroundColor:"info.50"},children:[f.jsxs(ce,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[f.jsx(kx,{color:"primary"}),"Original Syllabus Document"]}),f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[f.jsx(ce,{variant:"body1",sx:{flexGrow:1},children:f.jsx("strong",{children:n.metadata.originalFilename})}),f.jsxs(ce,{variant:"body2",color:"text.secondary",children:[d4(n.metadata.fileType),"  ",f4(n.metadata.fileSize)]})]}),f.jsxs(ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Uploaded: ",new Date(n.metadata.uploadedAt).toLocaleDateString()]}),f.jsxs(be,{sx:{display:"flex",gap:2},children:[f.jsx(lt,{variant:"outlined",startIcon:f.jsx(N6,{}),onClick:g,size:"small",children:"View Details"}),f.jsx(lt,{variant:"contained",startIcon:f.jsx(hg,{}),onClick:h,size:"small",children:"Download"})]}),f.jsxs(Si,{open:l,onClose:()=>c(!1),maxWidth:"sm",fullWidth:!0,children:[f.jsxs(zi,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(kx,{}),"Syllabus File Details"]}),f.jsx(Ai,{children:f.jsxs(be,{sx:{mb:2},children:[f.jsx(ce,{variant:"body2",color:"text.secondary",children:f.jsx("strong",{children:"Filename:"})}),f.jsx(ce,{variant:"body1",sx:{mb:2},children:n.metadata.originalFilename}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:f.jsx("strong",{children:"File Type:"})}),f.jsx(ce,{variant:"body1",sx:{mb:2},children:d4(n.metadata.fileType)}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:f.jsx("strong",{children:"File Size:"})}),f.jsx(ce,{variant:"body1",sx:{mb:2},children:f4(n.metadata.fileSize)}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:f.jsx("strong",{children:"Uploaded:"})}),f.jsx(ce,{variant:"body1",sx:{mb:2},children:new Date(n.metadata.uploadedAt).toLocaleString()}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:f.jsx("strong",{children:"Storage Path:"})}),f.jsx(ce,{variant:"body2",sx:{fontFamily:"monospace",backgroundColor:"grey.100",p:1,borderRadius:1},children:n.path})]})}),f.jsxs(qi,{children:[f.jsx(lt,{onClick:()=>c(!1),children:"Close"}),f.jsx(lt,{onClick:h,variant:"contained",startIcon:f.jsx(hg,{}),children:"Download File"})]})]})]}):null},kX=({selectedCourse:e,onCourseDelete:n})=>{const[t,r]=K.useState(!1),i=Un(),{refreshUserDetails:a}=Ci(),s=()=>r(!0),l=()=>r(!1),c=async()=>{if(e)try{const d=j6(i),h=hn(i,"courses",e);d.delete(h);const g=bn(i,"users");(await hi(g)).forEach(m=>{const x=hn(i,"users",m.id),y=m.data().classes||{};y&&y[e]&&(delete y[e],d.update(x,{classes:y}))}),await d.commit(),await a(),n(),l()}catch(d){console.error("Error deleting course:",d)}};return f.jsxs(be,{sx:{mt:2},children:[f.jsx(lt,{variant:"contained",onClick:s,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#F44336",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#D32F2F",transform:"scale(1.03)"}},children:"Delete Course"}),f.jsxs(Si,{open:t,onClose:l,children:[f.jsx(zi,{children:"Confirm Delete"}),f.jsx(Ai,{children:f.jsx(ko,{children:"Are you sure you want to delete this course? This action cannot be undone."})}),f.jsxs(qi,{children:[f.jsx(lt,{onClick:l,children:"Cancel"}),f.jsx(lt,{onClick:c,variant:"contained",color:"error",children:"Delete"})]})]})]})},NX=({text:e,tooltipText:n="Click to Copy",successText:t="Copied!"})=>{const[r,i]=K.useState(!1),a=()=>{navigator.clipboard.writeText(e).then(()=>{i(!0),setTimeout(()=>i(!1),2e3)}).catch(s=>console.error("Could not copy text: ",s))};return f.jsx(Pi,{title:r?t:n,enterDelay:300,leaveDelay:200,children:f.jsx(_n,{label:e,variant:"outlined",onClick:a,sx:{borderRadius:"15px",fontSize:"16px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",fontFamily:"Gabarito, sans-serif"}})})},jX=()=>{const{userDetails:e}=Ci(),[n,t]=K.useState(""),[r,i]=K.useState([]),[a,s]=K.useState(null),[l,c]=K.useState(!1),[d,h]=K.useState(""),[g,b]=K.useState("success"),m=Un();K.useEffect(()=>{(async()=>{if(e!=null&&e.isAdmin){const w=So(bn(m,"courses"),wi("courseAdmin","array-contains",e.uid)),N=(await hi(w)).docs.map(P=>({id:P.id,number:P.data().number,title:P.data().title,passcode:P.data().passcode}));i(N)}})()},[m,e]);const x=A=>{const w=A.target.value;t(w);const C=r.find(N=>N.id===w);C?(s(C.passcode),h(`Passcode for course "${C.number} - ${C.title}" retrieved successfully.`),b("success"),c(!0)):(s(null),h("Course not found."),b("error"),c(!0))},y=()=>{c(!1)};return f.jsxs(be,{sx:{mt:4},children:[f.jsx(ce,{variant:"subtitle1",component:"h2",sx:{mb:2},children:"Retrieve Course Passcode"}),f.jsx(mt,{container:!0,spacing:2,sx:{maxWidth:"75%"},children:f.jsxs(mt,{item:!0,xs:12,sx:{display:"flex",alignItems:"center"},children:[f.jsx(zt,{select:!0,label:"Select Course Number",value:n,onChange:x,fullWidth:!0,sx:{mb:2,mr:2},children:r.map(A=>f.jsx(Kn,{value:A.id,children:`${A.number} - ${A.title}`},A.id))}),a&&f.jsxs(be,{sx:{display:"flex",alignItems:"center",ml:2},children:[f.jsx(ce,{variant:"body1",sx:{mr:1},children:"Passcode:"}),f.jsx(NX,{text:`${a}`})]})]})}),f.jsx(no,{open:l,autoHideDuration:6e3,onClose:y,children:f.jsx(nr,{onClose:y,severity:g,sx:{width:"100%"},children:d})})]})},TX=()=>{const{userDetails:e}=Ci(),[n,t]=K.useState([]),[r,i]=K.useState(""),[a,s]=K.useState(!1),[l,c]=K.useState(!1),[d,h]=K.useState(!1),g=Un(),b=pi(),x=e!=null&&e.classes?Object.entries(e.classes).filter(([P,F])=>F.isCourseAdmin).reduce((P,[F,R])=>({...P,[F]:R}),{}):{};K.useEffect(()=>{x[r]||i(Object.keys(x)[0]||"")},[x,r]),K.useEffect(()=>{(async()=>{if(r)try{const F=So(bn(g,"users"),wi("isAdmin","==",!1)),M=(await hi(F)).docs.map(q=>({uid:q.id,...q.data()})).filter(q=>q.classes&&q.classes[r]);t(M)}catch(F){console.error("Error fetching students:",F)}})()},[r,g]);const y=P=>{i(P)},A=()=>{b("/request-new-course")},w=x[r],C=w?`${w.number} - ${w.title}`:"",N=!!(r&&w);return f.jsxs(be,{className:"profile-container",sx:{p:4},children:[f.jsx(be,{sx:{display:"flex",alignItems:"center",mb:2},children:f.jsx(lt,{variant:"text",onClick:()=>b("/"),className:"profile-button",children:" Home Page"})}),f.jsx(ce,{className:"webpage_title",sx:{mb:2},children:"Course Management"}),f.jsxs(be,{sx:{mb:4,p:3,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[f.jsx(ce,{variant:"h6",sx:{fontFamily:"Staatliches, sans-serif",mb:2,color:"#0B53C0"},children:"Select a Course"}),Object.keys(x).length>0?f.jsx(SX,{userClasses:x,selectedCourse:r,onCourseChange:y}):f.jsx(ce,{variant:"body1",sx:{color:"#9E9E9E"},children:"No courses available for selection."})]}),f.jsx(be,{children:N&&f.jsxs(f.Fragment,{children:[f.jsx(_X,{courseId:r}),f.jsxs(be,{sx:{flex:2,display:"flex",justifyContent:"flex-end",gap:2},children:[f.jsx(AX,{selectedCourse:r,selectedCourseDetails:w,onCourseUpdate:()=>{}}),f.jsx(CX,{selectedCourse:r,onInfoUpdate:()=>{}}),f.jsx(kX,{selectedCourse:r,onCourseDelete:()=>i("")})]})]})}),N&&f.jsxs(nn,{elevation:3,sx:{p:3,mb:4,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",backgroundColor:"#F9FAFB"},children:[f.jsx(ce,{variant:"h6",component:"h2",sx:{fontFamily:"Staatliches, sans-serif",fontWeight:"bold",mb:2,color:"#0B53C0"},children:"Students Enrolled in a Course"}),n.length===0?f.jsxs(ce,{sx:{color:"#757575",textAlign:"center",p:3},children:["No students are currently enrolled in ",f.jsx("strong",{children:C}),"."]}):f.jsxs(f.Fragment,{children:[f.jsx(ju,{component:nn,children:f.jsxs(Tu,{children:[f.jsx(Ou,{children:f.jsxs(Bi,{children:[f.jsx(dt,{sx:{fontWeight:"bold"},children:"User ID"}),f.jsx(dt,{sx:{fontWeight:"bold"},children:"Last Login"})]})}),f.jsx(Iu,{children:n.map(P=>f.jsxs(Bi,{children:[f.jsx(dt,{children:P.uid}),f.jsx(dt,{children:Ff(P.lastLogin)})]},P.uid))})]})}),f.jsx(wX,{students:n,selectedCourse:r})]}),n.length>0&&f.jsxs(nn,{sx:{mt:4,p:3,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[f.jsx(Nd,{control:f.jsx(jd,{checked:d,onChange:()=>h(P=>!P)}),label:"Remove Student(s) from the Course"}),d&&f.jsx(vX,{selectedCourse:r,selectedCourseDetails:w,onStudentChange:()=>{}})]})]}),f.jsxs(be,{sx:{display:"flex",gap:4,mb:4},children:[f.jsxs(be,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[f.jsx(Nd,{control:f.jsx(jd,{checked:l,onChange:()=>c(P=>!P)}),label:"Retrieve Course Passcode"}),l&&f.jsx(be,{sx:{mt:2},children:f.jsx(jX,{})})]}),f.jsxs(be,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[f.jsx(Nd,{control:f.jsx(jd,{checked:a,onChange:()=>s(P=>!P)}),label:"Request Creating a New Course"}),a&&f.jsx(be,{sx:{mt:2},children:f.jsx(lt,{variant:"contained",onClick:A,sx:{backgroundColor:"#4CAF50",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",textTransform:"none","&:hover":{backgroundColor:"#388E3C"}},children:"Request New Course"})})]})]})]})};class OX{constructor(n){Xe(this,"genAI");Xe(this,"model");this.genAI=new WT(n),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.1,topK:1,topP:.8,maxOutputTokens:16384}})}async processSyllabusText(n,t,r){return n.length>3e4?(console.log("Large document detected, using chunked processing"),this.processLargeDocument(n,t,r)):this.processSingleDocument(n,t,r)}async processSingleDocument(n,t,r){const i=this.buildSyllabusAnalysisPrompt(n,t);try{const l=(await(await this.model.generateContent(i)).response).text();if(!l||l.trim().length===0)throw new Error("Empty response from AI service");const c=l.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();let d;try{d=JSON.parse(c)}catch(h){throw console.error("JSON parsing failed:",h),console.error("Raw response text:",l),console.error("Cleaned text:",c),new Error("AI response format invalid - unable to parse JSON")}if(!d||typeof d!="object")throw new Error("AI response is not a valid object");return d.courseInfo||(console.warn("Missing courseInfo in AI response, using defaults"),d.courseInfo={}),this.validateAndSanitizeResponse(d)}catch(a){if(console.error("Gemini API Error:",a),a instanceof Error){if(a.message.includes("AI response")||a.message.includes("JSON parsing"))throw a;if(a.message.includes("API key"))throw new Error("Invalid or missing Gemini API key. Please check your environment configuration.");if(a.message.includes("quota")||a.message.includes("rate limit"))throw new Error("API rate limit exceeded. Please try again later.")}throw new Error(`Failed to process syllabus with AI: ${a instanceof Error?a.message:"Unknown error"}`)}}async processLargeDocument(n,t,r){const a=this.chunkText(n,35e3);console.log(`Processing ${a.length} chunks for large document`);const s=await this.processSingleDocument(a[0],t,r),l=await Promise.allSettled(a.slice(1).map(c=>this.processChunkForDetails(c,t)));return this.mergeChunkedResults(s,l)}chunkText(n,t){const r=[],i=n.split(`
`);let a="";const s=["schedule","session","unit","week","topic","assignment","objective","learning outcome","reading","textbook","prerequisite"];for(let l=0;l<i.length;l++){const c=i[l],d=i[l+1]||"",h=s.some(g=>c.toLowerCase().includes(g)||d.toLowerCase().includes(g));a.length+c.length>t&&a.length>0&&(h||a.length>t*.8)?(r.push(a.trim()),a=c):a+=`
`+c}return a.trim()&&r.push(a.trim()),r}async processChunkForDetails(n,t){const r=`
Extract additional course details from this syllabus section. Focus heavily on:
- ALL schedule items, sessions, units, weeks, and topics
- Session numbers, titles, and descriptions
- Learning outcomes for each session
- Reading assignments and resources
- Assignment details and due dates
- Any additional objectives or policies

IMPORTANT: Extract ALL schedule/session information - do not limit the number of items.
Convert session numbers to week numbers (Session 1 = Week 1, etc.).

Return JSON with only the fields you can extract from this section:
${n}
`;try{const l=(await(await this.model.generateContent(r)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(l)}catch(i){return console.warn("Failed to process chunk:",i),{}}}mergeChunkedResults(n,t){const r={...n};return t.forEach(i=>{if(i.status==="fulfilled"&&i.value){const a=i.value;if(a.learningObjectives&&(r.learningObjectives=[...r.learningObjectives,...a.learningObjectives]),a.schedule){const s=new Set(r.schedule.map(c=>`${c.week}-${c.topic}`)),l=a.schedule.filter(c=>!s.has(`${c.week}-${c.topic}`));r.schedule=[...r.schedule,...l]}a.assignments&&(r.assignments=[...r.assignments,...a.assignments]),a.prerequisites&&(r.prerequisites=[...r.prerequisites,...a.prerequisites]),a.contactInfo&&(r.contactInfo={...r.contactInfo,...a.contactInfo}),a.policies&&(r.policies={...r.policies,...a.policies}),a.additionalResources&&(r.additionalResources={...r.additionalResources,...a.additionalResources})}}),r.learningObjectives=[...new Set(r.learningObjectives)],r.prerequisites=[...new Set(r.prerequisites)],r.schedule=r.schedule.sort((i,a)=>i.week-a.week),r}buildSyllabusAnalysisPrompt(n,t){return`
You are an expert educational content analyzer. Analyze the following course syllabus and extract structured information in JSON format.

IMPORTANT INSTRUCTIONS:
1. Return ONLY valid JSON - no markdown, no explanations, no additional text
2. If information is not available, use null or empty arrays/objects
3. Be thorough but accurate - don't invent information
4. For percentages in grading, ensure they are numbers (not strings)
5. For week numbers, ensure they are integers
6. Extract all learning objectives, even if they're not numbered
7. Look for course schedules in various formats (weekly, by date, by topic, by session/unit)
8. IMPORTANT: Extract ALL schedule items, sessions, units, and topics - do not limit to just a few weeks
9. For session-based schedules, convert sessions to week numbers (e.g., Session 1 = Week 1)
10. LABORATORY COURSES: Pay special attention to safety requirements, lab equipment, dress codes, group work policies, and experiment-based schedules
11. Identify course type: determine if this is a lecture, lab, seminar, or hybrid course based on content

Required JSON structure:
{
  "courseInfo": {
    "title": "string",
    "number": "string (e.g., CS 350, BIOL 301, CHEM 315)",
    "description": "string",
    "instructor": "string or null",
    "department": "string or null",
    "institution": "string or null",
    "credits": "number or null",
    "meetingTimes": "string or null (include lab times if applicable)",
    "semester": "string or null",
    "year": "string or null",
    "courseType": "lecture|lab|seminar|hybrid",
    "location": "string or null (lab room, classroom, etc.)"
  },
  "learningObjectives": [
    "string (each objective as separate item)"
  ],
  "schedule": [
    {
      "week": "number",
      "topic": "string",
      "description": "string or null",
      "readings": ["string"] or null,
      "assignments": ["string"] or null,
      "dueDate": "string or null",
      "notes": "string or null",
      "experimentType": "string or null (for lab courses)",
      "equipmentNeeded": ["string"] or null
    }
  ],
  "prerequisites": [
    "string (each prerequisite course/requirement)"
  ],
  "textbooks": [
    {
      "title": "string",
      "author": "string or null",
      "edition": "string or null",
      "isbn": "string or null",
      "required": "boolean"
    }
  ],
  "gradingPolicy": [
    {
      "component": "string (e.g., Exams, Homework, Projects)",
      "percentage": "number (e.g., 40, not '40%')",
      "description": "string or null"
    }
  ],
  "assignments": [
    {
      "name": "string",
      "description": "string",
      "type": "string (exam|project|homework|quiz|presentation|lab_report|lab_practical)",
      "dueDate": "string or null",
      "points": "number or null",
      "weight": "number or null (for weighted assignments)"
    }
  ],
  "policies": {
    "attendance": "string or null",
    "lateWork": "string or null",
    "academicIntegrity": "string or null",
    "accommodations": "string or null",
    "communication": "string or null",
    "safety": "string or null (lab safety requirements)",
    "groupWork": "string or null (partner/group work policies)",
    "makeupPolicy": "string or null (make-up lab/exam policies)"
  },
  "contactInfo": {
    "email": "string or null",
    "phone": "string or null",
    "office": "string or null",
    "officeHours": "string or null",
    "website": "string or null"
  },
  "additionalResources": {
    "software": ["string"] or null,
    "equipment": ["string"] or null,
    "websites": ["string"] or null,
    "tutoring": "string or null",
    "learningPlatform": "string or null (Moodle, Blackboard, etc.)"
  },
  "labSpecific": {
    "safetyRequirements": ["string"] or null,
    "requiredEquipment": ["string"] or null,
    "dresscode": ["string"] or null,
    "notebookRequirements": "string or null",
    "groupWorkStructure": "string or null",
    "makeupPolicy": "string or null"
  }
}

${t?`File name: ${t}`:""}

Syllabus content to analyze:
${n}
`}validateAndSanitizeResponse(n){var r,i,a,s,l,c,d,h,g,b,m,x,y,A;const t={courseInfo:{title:"Course Title",number:"COURSE 101",description:"Course description not available"},learningObjectives:[],schedule:[],prerequisites:[],textbooks:[],gradingPolicy:[],assignments:[],policies:{},contactInfo:{},additionalResources:{}};try{return{courseInfo:{...t.courseInfo,...n.courseInfo},learningObjectives:Array.isArray(n.learningObjectives)?n.learningObjectives:[],schedule:Array.isArray(n.schedule)?n.schedule.map((C,N)=>({week:typeof C.week=="number"?C.week:N+1,topic:C.topic||`Week ${N+1} Topic`,description:C.description||null,readings:Array.isArray(C.readings)?C.readings:null,assignments:Array.isArray(C.assignments)?C.assignments:null,dueDate:C.dueDate||null,notes:C.notes||null})):[],prerequisites:Array.isArray(n.prerequisites)?n.prerequisites:[],textbooks:Array.isArray(n.textbooks)?n.textbooks.map(C=>({title:C.title||"Unknown Textbook",author:C.author||null,edition:C.edition||null,isbn:C.isbn||null,required:typeof C.required=="boolean"?C.required:!0})):[],gradingPolicy:Array.isArray(n.gradingPolicy)?n.gradingPolicy.map(C=>({component:C.component||"Unknown Component",percentage:typeof C.percentage=="number"?C.percentage:0,description:C.description||null})):[],assignments:Array.isArray(n.assignments)?n.assignments.map(C=>({name:C.name||"Assignment",description:C.description||"",type:C.type||"homework",dueDate:C.dueDate||null,points:typeof C.points=="number"?C.points:null})):[],policies:{attendance:((r=n.policies)==null?void 0:r.attendance)||null,lateWork:((i=n.policies)==null?void 0:i.lateWork)||null,academicIntegrity:((a=n.policies)==null?void 0:a.academicIntegrity)||null,accommodations:((s=n.policies)==null?void 0:s.accommodations)||null,communication:((l=n.policies)==null?void 0:l.communication)||null},contactInfo:{email:((c=n.contactInfo)==null?void 0:c.email)||null,phone:((d=n.contactInfo)==null?void 0:d.phone)||null,office:((h=n.contactInfo)==null?void 0:h.office)||null,officeHours:((g=n.contactInfo)==null?void 0:g.officeHours)||null,website:((b=n.contactInfo)==null?void 0:b.website)||null},additionalResources:{software:Array.isArray((m=n.additionalResources)==null?void 0:m.software)?n.additionalResources.software:null,equipment:Array.isArray((x=n.additionalResources)==null?void 0:x.equipment)?n.additionalResources.equipment:null,websites:Array.isArray((y=n.additionalResources)==null?void 0:y.websites)?n.additionalResources.websites:null,tutoring:((A=n.additionalResources)==null?void 0:A.tutoring)||null}}}catch(w){return console.error("Error validating AI response:",w),t}}async generateCourseMaterials(n,t){const r=`
Based on the following course information, generate detailed course materials in JSON format.

CRITICAL REQUIREMENTS:
1. Return ONLY valid JSON - absolutely NO explanatory text, comments, or additional content
2. Do not add any text before or after the JSON array
3. Do not include comments like "// ..." in the JSON
4. Generate materials for ALL available weeks/sessions from the course information

Create materials for:
1. Course Overview (with detailed description, objectives, and policies)  
2. Weekly/session materials for ALL weeks found in the schedule
3. Assignment descriptions where applicable

Course Information:
${JSON.stringify(n,null,2)}

Generate materials for ${(t==null?void 0:t.includeWeeks)||n.schedule.length} weeks/sessions.

Return ONLY a JSON array of materials with this structure:
[
  {
    "id": "unique-id",
    "title": "Material Title",
    "type": "overview|weekly|assignment|resource",
    "header": {"title": "string", "content": "string"},
    "sections": [
      {
        "id": "section-id",
        "title": "Section Title",
        "content": "HTML formatted content",
        "subsections": [
          {
            "id": "subsection-id",
            "title": "Subsection Title",
            "content": "HTML formatted content"
          }
        ]
      }
    ],
    "footer": {"title": "string", "content": "string"},
    "published": false,
    "scheduledTimestamp": "ISO date string or null"
  }
]
`;try{const s=(await(await this.model.generateContent(r)).response).text();if(!s||s.trim().length===0)return console.warn("Empty response from AI service for material generation"),[];let l=s.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();const c=l.lastIndexOf("]");c!==-1&&(l=l.substring(0,c+1));let d;try{d=JSON.parse(l)}catch(h){return console.error("JSON parsing failed for material generation:",h),console.error("Raw response text:",s),console.error("Cleaned text:",l),console.warn("Falling back to empty materials array"),[]}return Array.isArray(d)?d:(console.warn("AI response is not an array, wrapping in array:",d),d?[d]:[])}catch(i){return console.error("Error generating materials:",i),[]}}}let $y=null;const h4=e=>{const n="AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8";if(!$y&&n&&($y=new OX(n)),!$y)throw new Error("Gemini service not initialized. Please configure VITE_GEMINI_API_KEY environment variable.");return $y},zh=()=>Math.random().toString(36).substr(2,9),IX=e=>e.length?`<ul>${e.map(t=>`<li>${t}</li>`).join("")}</ul>`:"<p>No objectives specified</p>",DX=e=>e.length?`<ul>${e.map(t=>`<li>${t}</li>`).join("")}</ul>`:"<p>No readings assigned</p>",Ep=gp()(cm(dv((e,n)=>({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null,setUploadedFile:t=>e({uploadedFile:t}),setUploadProgress:t=>e({uploadProgress:t}),setExtractedText:t=>e({extractedText:t}),setStoredSyllabusFile:t=>e({storedSyllabusFile:t}),setAIExtractedInfo:t=>e({aiExtractedInfo:t}),setUseAIProcessing:t=>e({useAIProcessing:t}),setParsedCourseInfo:t=>e({parsedCourseInfo:t}),setGeneratedMaterials:t=>e({generatedMaterials:t}),setCurrentStep:t=>e({currentStep:t}),setIsProcessing:t=>e({isProcessing:t}),setError:t=>e({error:t}),setProcessingProgress:t=>e({processingProgress:t}),uploadSyllabus:async(t,r)=>{const i=GT(t);if(!i.isValid){e({error:i.error,currentStep:"upload"});return}const a=YP(t);e({uploadedFile:t,uploadProgress:0,error:null,extractionMetadata:{fileName:t.name,fileSize:t.size,fileType:QT(t),estimatedProcessingTime:a},processingProgress:{stage:"uploading",percentage:0,currentOperation:"Preparing file for processing..."}});try{for(let s=0;s<=100;s+=20)e({uploadProgress:s,processingProgress:{stage:"uploading",percentage:s,currentOperation:s===100?"Upload complete, starting text extraction...":`Uploading file... ${s}%`}}),await new Promise(l=>setTimeout(l,100));if(e({currentStep:"processing",isProcessing:!0,processingProgress:{stage:"extracting",percentage:0,currentOperation:"Extracting text from document..."}}),await n().extractTextFromFile(),r)try{e({processingProgress:{stage:"uploading",percentage:90,currentOperation:"Storing syllabus file..."}});const s=await EX(t,r);e({storedSyllabusFile:s}),console.log("Syllabus file stored successfully:",s.url)}catch(s){console.warn("Failed to store syllabus file, continuing with processing:",s)}e({processingProgress:{stage:"analyzing",percentage:0,currentOperation:n().useAIProcessing?"Analyzing syllabus with AI...":"Parsing syllabus content..."}}),await n().parseSyllabus()}catch(s){e({error:s instanceof Error?s.message:"Failed to upload file",currentStep:"upload"})}},extractTextFromFile:async()=>{const{uploadedFile:t}=n();if(!t){e({error:"No file uploaded"});return}e({isProcessing:!0,error:null});try{const r=await YT(t);e({extractedText:r.text,extractionMetadata:{...n().extractionMetadata,...r.metadata},isProcessing:!1})}catch(r){e({error:r.message||"Failed to extract text from file",isProcessing:!1})}},parseSyllabus:async()=>{const{extractedText:t,uploadedFile:r,useAIProcessing:i}=n();if(!t){e({error:"No text to parse"});return}e({isProcessing:!0,error:null});try{let a;if(i)try{e({processingProgress:{stage:"analyzing",percentage:25,currentOperation:"Sending syllabus to AI for analysis..."}});const l=await h4().processSyllabusText(t,r==null?void 0:r.name);e({processingProgress:{stage:"analyzing",percentage:75,currentOperation:"Processing AI analysis results..."}}),e({aiExtractedInfo:l}),a={suggestedTitle:l.courseInfo.title||"Course Title",suggestedNumber:l.courseInfo.number||"COURSE 101",suggestedDescription:l.courseInfo.description||"Course description not available",objectives:l.learningObjectives.length>0?l.learningObjectives:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:l.schedule.map(c=>({week:c.week,topic:c.topic,description:c.description,readings:c.readings||[],assignments:c.assignments||[],date:c.dueDate?new Date(c.dueDate):void 0})),prerequisites:l.prerequisites,textbook:l.textbooks.length>0?l.textbooks[0].title:"",grading:l.gradingPolicy.map(c=>`${c.component}: ${c.percentage}%`).join(", "),instructor:l.courseInfo.instructor,department:l.courseInfo.department,institution:l.courseInfo.institution,credits:l.courseInfo.credits,semester:l.courseInfo.semester,year:l.courseInfo.year,contactInfo:l.contactInfo,policies:l.policies,textbooks:l.textbooks,gradingComponents:l.gradingPolicy,assignments:l.assignments}}catch(s){console.warn("AI processing failed, falling back to pattern-based parsing:",s),a=await n().fallbackParsing(t)}else a=await n().fallbackParsing(t);e({parsedCourseInfo:a}),e({processingProgress:{stage:"generating",percentage:0,currentOperation:"Generating course materials..."}}),await n().generateMaterials()}catch(a){e({error:a instanceof Error?a.message:"Failed to parse syllabus",isProcessing:!1})}},fallbackParsing:async t=>{var g,b;const r=t.split(`
`).filter(m=>m.trim()),i=r.find(m=>{const x=m.toLowerCase();return(x.includes("course")||x.includes("class"))&&(x.includes("title")||x.includes("name")||m.includes(":"))}),a=r.find(m=>{const x=m.toLowerCase();return x.includes("description")||x.includes("overview")||x.includes("about this course")}),s=r.find(m=>/[A-Z]{2,4}\s*\d{3,4}/.test(m)||m.toLowerCase().includes("course number")),l=r.findIndex(m=>{const x=m.toLowerCase();return x.includes("objective")||x.includes("learning outcome")||x.includes("goals")||x.includes("by the end of this course")}),c=[];if(l!==-1)for(let m=l+1;m<r.length&&m<l+15;m++){const x=r[m].trim();x&&(x.startsWith("-")||x.startsWith("")||x.match(/^\d+\./)||x.startsWith("*"))?c.push(x.replace(/^[-\d.*]\s*/,"")):x&&c.length===0&&c.push(x)}const d=[];for(let m=1;m<=16;m++){const x=new RegExp(`week\\s*${m}|${m}\\s*week`,"i"),y=r.find(A=>x.test(A));if(y){const A=y.replace(/week\s*\d+:?\s*/i,"").trim()||`Week ${m} Topic`;d.push({week:m,topic:A,description:`Content and activities for week ${m}`,readings:[],assignments:[]})}else d.push({week:m,topic:`Week ${m} Topic`,description:`Content for week ${m}`,readings:[],assignments:[]})}let h="COURSE 101";if(s){const m=s.match(/[A-Z]{2,4}\s*\d{3,4}/);m&&(h=m[0])}return{suggestedTitle:i&&((g=i.split(":").slice(-1)[0])==null?void 0:g.trim())||"Course Title",suggestedNumber:h,suggestedDescription:a&&((b=a.split(":").slice(-1)[0])==null?void 0:b.trim())||t.substring(0,300)+"...",objectives:c.length>0?c:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:d.slice(0,15),prerequisites:[],textbook:"",grading:""}},generateMaterials:async()=>{const{parsedCourseInfo:t,aiExtractedInfo:r,useAIProcessing:i}=n();if(!t){e({error:"No parsed course info available"});return}e({isProcessing:!0,error:null});try{let a=[];if(i&&r)try{const l=await h4().generateCourseMaterials(r,{includeWeeks:r.schedule.length,materialTypes:["overview","weekly","assignment"]});l&&l.length>0?a=l.map(c=>({id:c.id||zh(),title:c.title||"Generated Material",header:c.header||{title:"Header",content:`<p>${c.title||"Material"}</p>`},footer:c.footer||{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:c.sections||[],published:c.published||!1,scheduledTimestamp:c.scheduledTimestamp?new Date(c.scheduledTimestamp):void 0})):(console.warn("AI material generation returned empty results, using fallback"),a=n().generateFallbackMaterials(t))}catch(s){console.warn("AI material generation failed, using fallback:",s),a=n().generateFallbackMaterials(t)}else a=n().generateFallbackMaterials(t);e({generatedMaterials:a,isProcessing:!1,currentStep:"review",processingProgress:{stage:"complete",percentage:100,currentOperation:"Processing complete! Review your course materials below."}})}catch(a){e({error:a instanceof Error?a.message:"Failed to generate materials",isProcessing:!1})}},generateFallbackMaterials:t=>{const r=[];return r.push({id:zh(),title:`${t.suggestedNumber} - Course Overview`,header:{title:"Course Overview",content:`<p>${t.suggestedTitle}</p>`},footer:{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:[{id:zh(),title:"Course Description",content:`<p>${t.suggestedDescription}</p>`,subsections:[],images:[],links:[]},{id:zh(),title:"Learning Objectives",content:IX(t.objectives),subsections:[],images:[],links:[]}],published:!1}),t.schedule.slice(0,6).forEach(i=>{r.push({id:zh(),title:`Week ${i.week}: ${i.topic}`,header:{title:`Week ${i.week}`,content:`<p>${i.topic}</p>`},footer:{title:"Footer",content:"<p>Review materials before next class</p>"},sections:[{id:zh(),title:"Overview",content:`<p>${i.description||`Topics and activities for week ${i.week}`}</p>`,subsections:i.readings&&i.readings.length>0?[{id:zh(),title:"Required Readings",content:DX(i.readings),subSubsections:[],images:[],links:[]}]:[],images:[],links:[]}],published:!1,scheduledTimestamp:i.date})}),r},editMaterial:(t,r)=>{const{generatedMaterials:i}=n(),a=[...i];a[t]={...a[t],...r},e({generatedMaterials:a})},editCourseInfo:t=>{const{parsedCourseInfo:r}=n();r&&e({parsedCourseInfo:{...r,...t}})},reset:()=>e({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null})}),{name:"syllabus-store",partialize:e=>({extractedText:e.extractedText,extractionMetadata:e.extractionMetadata,storedSyllabusFile:e.storedSyllabusFile,aiExtractedInfo:e.aiExtractedInfo,useAIProcessing:e.useAIProcessing,parsedCourseInfo:e.parsedCourseInfo,generatedMaterials:e.generatedMaterials,currentStep:e.currentStep})}))),E1={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"ce5f7921-a3a0-4ea7-b95f-10fe41becda5",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},_1={GEMINI_API_KEY:"VITE_GEMINI_API_KEY",ENABLE_AI_PROCESSING:"VITE_ENABLE_AI_PROCESSING",MAX_RETRIES:"VITE_AI_MAX_RETRIES",TIMEOUT:"VITE_AI_TIMEOUT",FALLBACK_TO_PATTERN:"VITE_AI_FALLBACK_TO_PATTERN"},LX=()=>({geminiApiKey:E1[_1.GEMINI_API_KEY],enableAIProcessing:E1[_1.ENABLE_AI_PROCESSING]!=="false",maxRetries:parseInt(E1[_1.MAX_RETRIES]||"3",10),timeout:parseInt(E1[_1.TIMEOUT]||"30000",10),fallbackToPatternParsing:E1[_1.FALLBACK_TO_PATTERN]!=="false"}),wI=e=>{const n=[];return e.enableAIProcessing&&!e.geminiApiKey&&n.push("Gemini API key is required when AI processing is enabled"),(e.maxRetries<0||e.maxRetries>10)&&n.push("Max retries must be between 0 and 10"),(e.timeout<1e3||e.timeout>12e4)&&n.push("Timeout must be between 1 second and 2 minutes"),{isValid:n.length===0,errors:n}},SI=()=>{const e=LX(),n=wI(e);return{config:e,...n}},p4=({onUploadComplete:e,apiKey:n,educatorUid:t})=>{const{uploadedFile:r,uploadProgress:i,error:a,isProcessing:s,useAIProcessing:l,processingProgress:c,uploadSyllabus:d,setUploadedFile:h,setError:g}=Ep(),[b,m]=K.useState(!1),x=K.useMemo(()=>["text/plain","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],[]),y=K.useMemo(()=>[".txt",".pdf",".docx"],[]),A=K.useCallback(async M=>{const Q=(T=>{if(!x.includes(T.type))return`Unsupported file type. Please upload ${y.join(", ")} files.`;const O=10*1024*1024;return T.size>O?"File size too large. Please upload files smaller than 10MB.":null})(M);if(Q){g(Q);return}try{await d(M,t),e==null||e(M)}catch(T){console.error("Upload error:",T)}},[d,e,g,x,y,n,t]),w=K.useCallback(M=>{M.preventDefault(),m(!1);const q=Array.from(M.dataTransfer.files);q.length>0&&A(q[0])},[A]),C=K.useCallback(M=>{M.preventDefault(),m(!0)},[]),N=K.useCallback(M=>{M.preventDefault(),m(!1)},[]),P=K.useCallback(M=>{const q=M.target.files;q&&q.length>0&&A(q[0]),M.target.value=""},[A]),F=K.useCallback(()=>{h(null),g(null)},[h,g]),R=M=>{if(M===0)return"0 Bytes";const q=1024,Q=["Bytes","KB","MB","GB"],T=Math.floor(Math.log(M)/Math.log(q));return parseFloat((M/Math.pow(q,T)).toFixed(2))+" "+Q[T]},k=()=>f.jsx(_R,{color:"primary"});return f.jsxs(be,{sx:{width:"100%",maxWidth:600,mx:"auto"},children:[!r&&f.jsxs(nn,{sx:{p:4,border:"2px dashed",borderColor:b?"primary.main":"grey.300",backgroundColor:b?"primary.50":"background.paper",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center","&:hover":{borderColor:"primary.main",backgroundColor:"primary.50"}},onDragOver:C,onDragLeave:N,onDrop:w,onClick:()=>{var M;return(M=document.getElementById("syllabus-file-input"))==null?void 0:M.click()},children:[f.jsx(ER,{sx:{fontSize:48,color:b?"primary.main":"grey.400",mb:2}}),f.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Upload Your Syllabus"}),f.jsx(ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Drag and drop your syllabus file here, or click to browse"}),f.jsx(be,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center"},children:y.map(M=>f.jsx(_n,{label:M.toUpperCase(),size:"small",variant:"outlined",color:"primary"},M))}),f.jsx(ce,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"Maximum file size: 10MB"}),f.jsx("input",{id:"syllabus-file-input",type:"file",accept:x.join(","),onChange:P,style:{display:"none"}})]}),r&&f.jsxs(nn,{sx:{p:3,mb:2},children:[f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:2},children:[k(),f.jsxs(be,{sx:{flexGrow:1},children:[f.jsx(ce,{variant:"subtitle1",sx:{fontWeight:500},children:r.name}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:R(r.size)})]}),!s&&f.jsx(un,{onClick:F,color:"error",size:"small",children:f.jsx(kd,{})})]}),i>0&&i<100&&f.jsxs(be,{sx:{mt:2},children:[f.jsx(tl,{variant:"determinate",value:i,sx:{height:6,borderRadius:3}}),f.jsxs(ce,{variant:"caption",sx:{mt:1,display:"block"},children:["Uploading... ",i,"%"]})]}),s&&f.jsx(be,{sx:{mt:2},children:c?f.jsxs(f.Fragment,{children:[f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[f.jsx(_n,{label:c.stage.charAt(0).toUpperCase()+c.stage.slice(1),size:"small",color:"primary",variant:"outlined"}),f.jsxs(ce,{variant:"caption",color:"text.secondary",children:[c.percentage,"%"]})]}),f.jsx(tl,{variant:"determinate",value:c.percentage,sx:{height:6,borderRadius:3,mb:1}}),f.jsx(ce,{variant:"caption",sx:{display:"block",color:"text.secondary"},children:c.currentOperation})]}):f.jsxs(f.Fragment,{children:[f.jsx(tl,{sx:{height:6,borderRadius:3}}),f.jsx(ce,{variant:"caption",sx:{mt:1,display:"block"},children:l?"AI is analyzing your syllabus...":"Processing syllabus..."})]})})]}),a&&f.jsx(nr,{severity:"error",sx:{mt:2},onClose:()=>g(null),children:a}),f.jsxs(nn,{sx:{p:2,mt:2,backgroundColor:"info.50"},children:[f.jsx(ce,{variant:"body2",color:"info.main",sx:{fontWeight:500,mb:1},children:" Tips for best results:"}),f.jsxs(ce,{variant:"body2",color:"text.secondary",component:"ul",sx:{m:0,pl:2},children:[f.jsx("li",{children:"Include course objectives and weekly schedule"}),f.jsx("li",{children:"List reading assignments and materials"}),f.jsx("li",{children:"Text files (.txt) work best for parsing"}),f.jsx("li",{children:"Ensure text is well-structured with clear headings"})]})]})]})},RX=({onContinue:e})=>{var C;const{parsedCourseInfo:n,editCourseInfo:t,error:r,isProcessing:i,currentStep:a}=Ep(),[s,l]=K.useState(!1),[c,d]=K.useState(null);if(!n)return f.jsx(nr,{severity:"warning",children:"No course information available. Please upload and process a syllabus first."});if(i||a==="processing")return f.jsx(nr,{severity:"info",children:f.jsx(ce,{variant:"body2",children:" Processing complete! Preparing course information for review..."})});const h=()=>{d({...n}),l(!0)},g=()=>{c&&(t(c),l(!1),d(null))},b=()=>{l(!1),d(null)},m=()=>{c&&d({...c,objectives:[...c.objectives,"New objective"]})},x=N=>{if(c){const P=c.objectives.filter((F,R)=>R!==N);d({...c,objectives:P})}},y=(N,P)=>{if(c){const F=[...c.objectives];F[N]=P,d({...c,objectives:F})}},A=(N,P,F)=>{if(c){const R=[...c.schedule];R[N]={...R[N],[P]:F},d({...c,schedule:R})}},w=s?c:n;return w?f.jsx(be,{sx:{maxWidth:800,mx:"auto"},children:f.jsxs(nn,{sx:{p:3},children:[f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[f.jsx(ce,{variant:"h5",component:"h2",children:"Course Information Preview"}),s?f.jsxs(be,{sx:{display:"flex",gap:1},children:[f.jsx(lt,{startIcon:f.jsx(O0,{}),onClick:g,variant:"contained",color:"primary",children:"Save"}),f.jsx(lt,{startIcon:f.jsx(E6,{}),onClick:b,variant:"outlined",children:"Cancel"})]}):f.jsx(lt,{startIcon:f.jsx(Cu,{}),onClick:h,variant:"outlined",children:"Edit Details"})]}),r&&f.jsx(nr,{severity:"error",sx:{mb:3},children:r}),f.jsxs(mt,{container:!0,spacing:3,children:[f.jsx(mt,{item:!0,xs:12,md:6,children:f.jsx(zt,{fullWidth:!0,label:"Course Number",value:w.suggestedNumber,onChange:N=>s&&c&&d({...c,suggestedNumber:N.target.value}),disabled:!s,variant:s?"outlined":"filled"})}),f.jsx(mt,{item:!0,xs:12,md:6,children:f.jsx(zt,{fullWidth:!0,label:"Course Title",value:w.suggestedTitle,onChange:N=>s&&c&&d({...c,suggestedTitle:N.target.value}),disabled:!s,variant:s?"outlined":"filled"})}),f.jsx(mt,{item:!0,xs:12,children:f.jsx(zt,{fullWidth:!0,multiline:!0,rows:4,label:"Course Description",value:w.suggestedDescription,onChange:N=>s&&c&&d({...c,suggestedDescription:N.target.value}),disabled:!s,variant:s?"outlined":"filled"})})]}),f.jsx(Za,{sx:{my:3}}),f.jsxs(be,{sx:{mb:3},children:[f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[f.jsxs(ce,{variant:"h6",children:["Learning Objectives (",w.objectives.length,")"]}),s&&f.jsx(un,{onClick:m,color:"primary",children:f.jsx(wu,{})})]}),f.jsx(be,{sx:{display:"flex",flexDirection:"column",gap:2},children:w.objectives.map((N,P)=>f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsxs(ce,{variant:"body2",sx:{minWidth:24,color:"text.secondary"},children:[P+1,"."]}),s?f.jsxs(f.Fragment,{children:[f.jsx(zt,{fullWidth:!0,multiline:!0,value:N,onChange:F=>y(P,F.target.value),size:"small"}),f.jsx(un,{onClick:()=>x(P),color:"error",size:"small",children:f.jsx(kd,{})})]}):f.jsx(ce,{variant:"body2",children:N})]},P))})]}),f.jsx(Za,{sx:{my:3}}),f.jsxs(yu,{children:[f.jsx(xu,{expandIcon:f.jsx(bo,{}),children:f.jsxs(ce,{variant:"h6",children:["Course Schedule (",w.schedule.length," weeks)"]})}),f.jsx(vu,{children:f.jsx(be,{sx:{display:"flex",flexDirection:"column",gap:2},children:w.schedule.map((N,P)=>f.jsx(nn,{sx:{p:2,backgroundColor:"grey.50"},children:f.jsxs(mt,{container:!0,spacing:2,alignItems:"center",children:[f.jsx(mt,{item:!0,xs:12,sm:1,children:f.jsx(_n,{label:`W${N.week}`,size:"small",color:"primary"})}),f.jsx(mt,{item:!0,xs:12,sm:5,children:s?f.jsx(zt,{fullWidth:!0,size:"small",label:"Topic",value:N.topic,onChange:F=>A(P,"topic",F.target.value)}):f.jsx(ce,{variant:"body2",sx:{fontWeight:500},children:N.topic})}),f.jsx(mt,{item:!0,xs:12,sm:6,children:s?f.jsx(zt,{fullWidth:!0,size:"small",label:"Description",value:N.description||"",onChange:F=>A(P,"description",F.target.value)}):f.jsx(ce,{variant:"body2",color:"text.secondary",children:N.description||"No description"})})]})},P))})})]}),(((C=w.prerequisites)==null?void 0:C.length)||w.textbook||w.grading)&&f.jsxs(f.Fragment,{children:[f.jsx(Za,{sx:{my:3}}),f.jsx(ce,{variant:"h6",sx:{mb:2},children:"Additional Information"}),f.jsxs(mt,{container:!0,spacing:2,children:[w.prerequisites&&w.prerequisites.length>0&&f.jsxs(mt,{item:!0,xs:12,md:4,children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:"Prerequisites:"}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:w.prerequisites.join(", ")})]}),w.textbook&&f.jsxs(mt,{item:!0,xs:12,md:4,children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:"Textbook:"}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:w.textbook})]}),w.grading&&f.jsxs(mt,{item:!0,xs:12,md:4,children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:"Grading:"}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:w.grading})]})]})]}),e&&f.jsx(be,{sx:{mt:4,textAlign:"right"},children:f.jsx(lt,{variant:"contained",color:"primary",size:"large",onClick:e,disabled:s,children:"Continue to Materials Preview"})})]})}):null},MX=({onContinue:e,onBack:n})=>{const{generatedMaterials:t,editMaterial:r,error:i}=Ep(),[a,s]=K.useState(null),[l,c]=K.useState(null);if(!t.length)return f.jsx(nr,{severity:"warning",children:"No materials generated. Please go back and process a syllabus first."});const d=w=>{s({index:w,material:{...t[w]}})},h=()=>{a&&(r(a.index,a.material),s(null))},g=()=>{s(null)},b=w=>{c(w)},m=w=>{const C=t[w];r(w,{published:!C.published})},x=(w,C=150)=>{const N=w.replace(/<[^>]*>/g,"");return N.length>C?N.substring(0,C)+"...":N},y=w=>w.toLowerCase().includes("overview")?f.jsx(sp,{color:"primary"}):w.toLowerCase().includes("week")?f.jsx(Q0,{color:"secondary"}):f.jsx(sp,{color:"action"}),A=t.filter(w=>w.published).length;return f.jsxs(be,{sx:{maxWidth:1e3,mx:"auto"},children:[f.jsxs(nn,{sx:{p:3,mb:3},children:[f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[f.jsx(ce,{variant:"h5",component:"h2",children:"Generated Course Materials"}),f.jsx(_n,{label:`${A}/${t.length} will be published`,color:"primary",variant:"outlined"})]}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:"Review and customize the course materials generated from your syllabus. You can edit content, toggle publication status, and organize materials before creating your course."}),i&&f.jsx(nr,{severity:"error",sx:{mt:2},children:i})]}),f.jsx(mt,{container:!0,spacing:3,children:t.map((w,C)=>f.jsx(mt,{item:!0,xs:12,md:6,lg:4,children:f.jsxs(fs,{sx:{height:"100%",display:"flex",flexDirection:"column",border:w.published?"2px solid":"1px solid",borderColor:w.published?"success.main":"divider"},children:[f.jsxs(Js,{sx:{flexGrow:1},children:[f.jsxs(be,{sx:{display:"flex",alignItems:"flex-start",gap:1,mb:2},children:[y(w.title),f.jsxs(be,{sx:{flexGrow:1},children:[f.jsx(ce,{variant:"h6",component:"h3",sx:{fontSize:"1rem",lineHeight:1.3,mb:1},children:w.title}),f.jsxs(be,{sx:{display:"flex",gap:1,alignItems:"center"},children:[f.jsx(Nd,{control:f.jsx(jd,{checked:w.published,onChange:()=>m(C),size:"small"}),label:f.jsx(ce,{variant:"caption",children:w.published?"Publish":"Draft"}),sx:{mr:0}}),w.scheduledTimestamp&&f.jsx(_n,{label:"Scheduled",size:"small",variant:"outlined",color:"info"})]})]})]}),f.jsxs(ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[f.jsx("strong",{children:"Sections:"})," ",w.sections.length]}),w.sections[0]&&f.jsxs(be,{sx:{mb:2},children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:w.sections[0].title}),f.jsx(ce,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.85rem",fontStyle:"italic"},children:x(w.sections[0].content)})]})]}),f.jsxs(rT,{children:[f.jsx(lt,{size:"small",startIcon:f.jsx(N6,{}),onClick:()=>b(w),children:"Preview"}),f.jsx(lt,{size:"small",startIcon:f.jsx(Cu,{}),onClick:()=>d(C),children:"Edit"})]})]})},w.id))}),f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[n&&f.jsx(lt,{variant:"outlined",onClick:n,size:"large",children:"Back to Course Info"}),e&&f.jsxs(lt,{variant:"contained",color:"primary",onClick:e,size:"large",disabled:A===0,children:["Create Course with ",A," Materials"]})]}),f.jsxs(Si,{open:a!==null,onClose:g,maxWidth:"md",fullWidth:!0,children:[f.jsxs(zi,{children:["Edit Material: ",a==null?void 0:a.material.title]}),f.jsx(Ai,{children:a&&f.jsxs(be,{sx:{pt:1},children:[f.jsx(zt,{fullWidth:!0,label:"Material Title",value:a.material.title,onChange:w=>s({...a,material:{...a.material,title:w.target.value}}),sx:{mb:3}}),f.jsx(ce,{variant:"h6",sx:{mb:2},children:"Header"}),f.jsx(zt,{fullWidth:!0,label:"Header Title",value:a.material.header.title,onChange:w=>s({...a,material:{...a.material,header:{...a.material.header,title:w.target.value}}}),sx:{mb:2}}),f.jsx(zt,{fullWidth:!0,multiline:!0,rows:2,label:"Header Content",value:a.material.header.content,onChange:w=>s({...a,material:{...a.material,header:{...a.material.header,content:w.target.value}}}),sx:{mb:3}}),f.jsx(ce,{variant:"h6",sx:{mb:2},children:"Sections"}),a.material.sections.map((w,C)=>f.jsxs(yu,{sx:{mb:2},children:[f.jsx(xu,{expandIcon:f.jsx(bo,{}),children:f.jsx(ce,{children:w.title})}),f.jsxs(vu,{children:[f.jsx(zt,{fullWidth:!0,label:"Section Title",value:w.title,onChange:N=>{const P=[...a.material.sections];P[C]={...P[C],title:N.target.value},s({...a,material:{...a.material,sections:P}})},sx:{mb:2}}),f.jsx(zt,{fullWidth:!0,multiline:!0,rows:4,label:"Section Content",value:w.content,onChange:N=>{const P=[...a.material.sections];P[C]={...P[C],content:N.target.value},s({...a,material:{...a.material,sections:P}})}})]})]},w.id))]})}),f.jsxs(qi,{children:[f.jsx(lt,{onClick:g,children:"Cancel"}),f.jsx(lt,{onClick:h,variant:"contained",children:"Save Changes"})]})]}),f.jsxs(Si,{open:l!==null,onClose:()=>c(null),maxWidth:"md",fullWidth:!0,children:[f.jsx(zi,{children:l==null?void 0:l.title}),f.jsx(Ai,{children:l&&f.jsxs(be,{sx:{pt:1},children:[f.jsxs(nn,{sx:{p:2,mb:3,backgroundColor:"primary.50"},children:[f.jsx(ce,{variant:"h6",color:"primary",children:l.header.title}),f.jsx(ce,{variant:"body2",sx:{mt:1},children:l.header.content.replace(/<[^>]*>/g,"")})]}),l.sections.map(w=>f.jsxs(be,{sx:{mb:3},children:[f.jsx(ce,{variant:"h6",sx:{mb:2},children:w.title}),f.jsx(ce,{variant:"body1",sx:{mb:2},children:w.content.replace(/<[^>]*>/g,"")}),w.subsections.map(C=>f.jsxs(be,{sx:{ml:2,mb:2},children:[f.jsx(ce,{variant:"subtitle1",sx:{mb:1},children:C.title}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:C.content.replace(/<[^>]*>/g,"")})]},C.id))]},w.id)),f.jsx(nn,{sx:{p:2,backgroundColor:"grey.50"},children:f.jsx(ce,{variant:"body2",color:"text.secondary",children:l.footer.content.replace(/<[^>]*>/g,"")})})]})}),f.jsx(qi,{children:f.jsx(lt,{onClick:()=>c(null),children:"Close"})})]})]})},PX=({onConfigChange:e,compact:n=!1})=>{const{useAIProcessing:t,setUseAIProcessing:r}=Ep(),[i,a]=K.useState(null);K.useEffect(()=>{const{config:h,isValid:g,errors:b}=SI();a({config:h,isValid:g,errors:b})},[]);const s=h=>{if(r(h),i){const g={...i.config,enableAIProcessing:h},b=wI(g);a({config:g,...b}),e==null||e(g)}},l=()=>i?i.isValid&&t?f.jsx(Bg,{color:"success"}):!i.isValid&&t?f.jsx(NR,{color:"error"}):f.jsx(YE,{color:"action"}):f.jsx(YE,{color:"action"}),c=()=>t?i?i.isValid?"AI processing ready - enhanced syllabus analysis enabled":`Configuration issues: ${i.errors.join(", ")}`:"Loading configuration...":"AI processing disabled - using pattern-based parsing",d=()=>t?i?i.isValid?"success":"error":"info":"warning";return n?f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:2},children:[l(),f.jsx(Nd,{control:f.jsx(jd,{checked:t,onChange:h=>s(h.target.checked),size:"small"}),label:"AI Processing"}),f.jsx(Pi,{title:c(),children:f.jsx(kR,{fontSize:"small",color:"action"})})]}):f.jsx(nn,{sx:{p:2,mb:2},children:f.jsxs(yu,{children:[f.jsx(xu,{expandIcon:f.jsx(bo,{}),children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[l(),f.jsxs(be,{sx:{flexGrow:1},children:[f.jsx(ce,{variant:"subtitle1",sx:{fontWeight:500},children:"AI-Powered Processing Settings"}),f.jsx(ce,{variant:"caption",color:"text.secondary",children:c()})]}),f.jsx(_n,{label:t?"Enabled":"Disabled",color:t?"success":"default",size:"small"})]})}),f.jsx(vu,{children:f.jsxs(mt,{container:!0,spacing:3,children:[f.jsx(mt,{item:!0,xs:12,children:f.jsx(Nd,{control:f.jsx(jd,{checked:t,onChange:h=>s(h.target.checked)}),label:f.jsxs(be,{children:[f.jsx(ce,{variant:"body2",sx:{fontWeight:500},children:"Enable AI-Powered Analysis"}),f.jsx(ce,{variant:"caption",color:"text.secondary",children:"Use Google Gemini to extract structured information from syllabi"})]})})}),t&&f.jsx(mt,{item:!0,xs:12,children:f.jsxs(nn,{sx:{p:2,backgroundColor:i!=null&&i.isValid?"success.50":"error.50",border:"1px solid",borderColor:i!=null&&i.isValid?"success.200":"error.200"},children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1,color:i!=null&&i.isValid?"success.main":"error.main"},children:i!=null&&i.isValid?" API Configuration":" API Configuration"}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:i!=null&&i.isValid?"Gemini API key is configured and ready for use.":"Gemini API key is required. Please add VITE_GEMINI_API_KEY to your environment variables."})]})}),f.jsx(mt,{item:!0,xs:12,children:f.jsxs(nr,{severity:d(),sx:{mb:2},children:[f.jsx(ce,{variant:"body2",children:c()}),(i==null?void 0:i.errors)&&i.errors.length>0&&f.jsx(be,{sx:{mt:1},children:i.errors.map((h,g)=>f.jsxs(ce,{variant:"caption",display:"block",children:[" ",h]},g))})]})}),t&&(i==null?void 0:i.isValid)&&f.jsx(mt,{item:!0,xs:12,children:f.jsxs(nn,{sx:{p:2,backgroundColor:"primary.50",border:"1px solid",borderColor:"primary.200"},children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1,color:"primary.main"},children:" Enhanced Features with AI:"}),f.jsxs(mt,{container:!0,spacing:1,children:[f.jsxs(mt,{item:!0,xs:12,sm:6,children:[f.jsx(ce,{variant:"caption",display:"block",children:" Intelligent course information extraction"}),f.jsx(ce,{variant:"caption",display:"block",children:" Automatic learning objectives identification"}),f.jsx(ce,{variant:"caption",display:"block",children:" Smart schedule parsing and organization"})]}),f.jsxs(mt,{item:!0,xs:12,sm:6,children:[f.jsx(ce,{variant:"caption",display:"block",children:" Grading policy analysis"}),f.jsx(ce,{variant:"caption",display:"block",children:" Assignment and due date extraction"}),f.jsx(ce,{variant:"caption",display:"block",children:" Enhanced material generation"})]})]})]})}),!t&&f.jsx(mt,{item:!0,xs:12,children:f.jsxs(nn,{sx:{p:2,backgroundColor:"warning.50",border:"1px solid",borderColor:"warning.200"},children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1,color:"warning.main"},children:" Pattern-Based Processing:"}),f.jsx(ce,{variant:"caption",color:"text.secondary",children:"Using traditional text parsing methods. Results may be less accurate than AI processing. Enable AI processing for better extraction accuracy."})]})})]})})]})})},AI=({onComplete:e,onCancel:n,educatorUid:t})=>{const{currentStep:r,setCurrentStep:i,parsedCourseInfo:a,generatedMaterials:s,isProcessing:l,error:c,useAIProcessing:d,processingProgress:h,reset:g}=Ep(),[b,m]=K.useState(null);tt.useEffect(()=>{const{config:R}=SI();m(R)},[]);const x=[{label:"Upload Syllabus",description:"Upload your syllabus document"},{label:"Review Course Info",description:"Verify and edit course information"},{label:"Review Materials",description:"Customize generated course materials"}],y=()=>{switch(r){case"upload":case"processing":return 0;case"review":return 1;case"editing":return 2;case"complete":return 2;default:return 0}},A=()=>{i("editing")},w=()=>{i("review")},C=()=>{if(a&&s.length>0){const R=s.filter(k=>k.published);e==null||e({courseInfo:a,materials:R})}},N=()=>{g(),n==null||n()},P=R=>{m(R)},F=()=>{switch(r){case"upload":case"processing":return f.jsx(p4,{onUploadComplete:()=>{},educatorUid:t});case"review":return f.jsx(RX,{onContinue:A});case"editing":case"complete":return f.jsx(MX,{onContinue:C,onBack:w});default:return f.jsx(p4,{onUploadComplete:()=>{},educatorUid:t})}};return f.jsxs(be,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:3},children:[f.jsxs(nn,{sx:{p:3,mb:4},children:[f.jsx(ce,{variant:"h4",component:"h1",gutterBottom:!0,children:"Import Course from Syllabus"}),f.jsx(ce,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Upload your syllabus document and we'll automatically create a course structure with organized materials based on your content."}),f.jsx(jR,{activeStep:y(),alternativeLabel:!0,children:x.map(R=>f.jsx(TR,{children:f.jsxs(OR,{children:[f.jsx(ce,{variant:"body2",sx:{fontWeight:500},children:R.label}),f.jsx(ce,{variant:"caption",color:"text.secondary",children:R.description})]})},R.label))})]}),r==="upload"&&f.jsx(PX,{onConfigChange:P,compact:!1}),c&&f.jsx(nr,{severity:"error",sx:{mb:3},onClose:()=>{},children:c}),l&&f.jsx(nr,{severity:"info",sx:{mb:3},children:f.jsx(ce,{variant:"body2",children:d?" AI is analyzing your syllabus for enhanced data extraction... This usually takes 10-30 seconds.":" Processing your syllabus with pattern-based analysis... This usually takes a moment."})}),f.jsx(be,{sx:{minHeight:400},children:F()}),r!=="upload"&&n&&f.jsx(be,{sx:{display:"flex",justifyContent:"center",mt:3},children:f.jsx(lt,{variant:"outlined",color:"secondary",onClick:N,size:"small",children:"Cancel & Return to Manual Entry"})})]})},Kx=e=>{if(e==null)return null;if(e instanceof Date)return e;if(Array.isArray(e))return e.map(Kx).filter(n=>n!=null);if(typeof e=="object"){const n={};return Object.keys(e).forEach(t=>{const r=e[t];if(r!==void 0){const i=Kx(r);i!=null&&(n[t]=i)}}),n}return e},FX=()=>{const{userDetails:e}=Ci(),n=pi(),t=Un(),[r,i]=K.useState(""),[a,s]=K.useState(""),[l,c]=K.useState(""),[d,h]=K.useState(""),[g,b]=K.useState(""),[m,x]=K.useState(""),[y,A]=K.useState(""),[w,C]=K.useState("primary"),[N,P]=K.useState("manual"),{parsedCourseInfo:F,generatedMaterials:R,reset:k,currentStep:M}=Ep(),[q,Q]=K.useState(!1),[T,O]=K.useState(!1),[L,j]=K.useState("");K.useEffect(()=>{(N==="manual"||w==="co-instructor")&&k()},[N,w,k]),K.useEffect(()=>{w==="primary"&&N==="syllabus"&&F&&(b(F.suggestedNumber||""),x(F.suggestedTitle||""),A(F.suggestedDescription||""))},[w,N,F]);const X=Z=>ne=>{Z(ne.target.value)},H=Z=>{const ne=Z.target.value;C(ne),ne==="co-instructor"&&(P("manual"),b(""),x(""),A(""))},G=(Z,ne)=>{ne!==null&&(P(ne),ne==="syllabus"&&(b(""),x(""),A("")))},ee=()=>{if(!r||!a||!l||!d||!g||!m)return"Please fill in all required fields.";if(w==="primary"){if(N==="manual"&&!y)return"Please provide a course description.";if(N==="syllabus"){if(!F)return"Please complete the syllabus import process first.";if(!y)return"Please ensure course description is properly filled from your syllabus."}}return null},le=Z=>{console.log("Syllabus import completed for educator request:",Z)},Y=async()=>{const Z=ee();if(Z){j(Z),O(!0);return}Q(!0);try{const ne={uid:(e==null?void 0:e.uid)||"",firstName:r||"",lastName:a||"",institution:l||"",email:d||"",courseNumber:g||"",courseTitle:m||"",courseDescription:w==="primary"?y||"":"CO-INSTRUCTOR REQUEST",requestType:w||"primary",status:"pending",timestamp:new Date,syllabusImported:!1};if(w==="primary"&&N==="syllabus"&&F&&R.length>0){const Oe={parsedCourseInfo:F,generatedMaterials:R.filter(Ue=>Ue.published)},Ie=Kx(Oe);ne.syllabusImported=!0,ne.syllabusData=Ie}const ve=Kx(ne);console.log("Submitting clean educator request document:",ve);const ye=await Ra(bn(t,"educatorRequests"),ve),Ce={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Educator Request Submitted${w==="primary"&&N==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new educator request has been submitted:</p>
            <p><strong>Name:</strong> ${r} ${a}</p>
            <p><strong>Email:</strong> ${d}</p>
            <p><strong>Institution:</strong> ${l}</p>
            <p><strong>Course:</strong> ${g} - ${m}</p>
            <p><strong>Request Type:</strong> ${w}</p>
            ${w==="primary"?`<p><strong>Course Creation Method:</strong> ${N==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>`:""}
            ${w==="primary"&&N==="syllabus"&&R.length>0?`<p><strong>Generated Materials:</strong> ${R.filter(Oe=>Oe.published).length} materials ready for publication</p>`:""}
            <p><strong>Description:</strong> ${y}</p>
            <p><strong>Request ID:</strong> ${ye.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/educator-requests">
            Click here to review the request.
            </a></p>
          `}};await Ra(bn(t,"mail"),Ce),j(w==="primary"&&N==="syllabus"&&R.length>0?`Your educator request has been submitted for review with ${R.filter(Oe=>Oe.published).length} auto-generated course materials.`:"Your request has been submitted for review."),i(""),s(""),c(""),h(""),b(""),x(""),A(""),C("primary"),P("manual"),N==="syllabus"&&k(),O(!0),setTimeout(()=>{n("/my-profile")},3e3)}catch(ne){console.error("Error submitting request: ",ne),ne instanceof Error&&console.error("Error details:",{message:ne.message,name:ne.name,stack:ne.stack}),j("Error submitting your request. Please try again."),O(!0)}finally{Q(!1)}},te=()=>{O(!1)},U=()=>{n("/my-profile")},B=w==="primary"&&N==="syllabus"&&M!=="upload"&&!F,re=w==="primary"&&N==="syllabus"&&(M==="review"||M==="editing"||M==="complete")&&F;return f.jsxs(be,{className:"request-form-container",sx:{padding:3,maxWidth:"1400px",mx:"auto"},children:[f.jsx(be,{sx:{display:"flex",alignItems:"center",mb:3},children:f.jsx(lt,{variant:"text",onClick:U,className:"back-home-button",children:" My Account"})}),f.jsxs(be,{className:"request-form-outline",sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:4,border:"1px solid #e3f2fd",minWidth:"100%"},children:[f.jsx(ce,{variant:"h5",component:"h1",className:"request-form-title",sx:{mb:3},children:"Request Educator Permissions"}),f.jsxs(mt,{item:!0,xs:12,sx:{mb:3},children:[f.jsx(mu,{htmlFor:"request-type",required:!0,children:"Request Type"}),f.jsxs(Pl,{id:"request-type",name:"request-type",value:w,onChange:H,fullWidth:!0,required:!0,disabled:q,sx:{mt:1},children:[f.jsx(Kn,{value:"primary",children:"I am a primary course instructor, I want to create a new course"}),f.jsx(Kn,{value:"co-instructor",children:"I am a co-instructor, I want to be added to an existing course"})]})]}),f.jsx(ce,{variant:"h6",component:"h2",sx:{mb:2},children:"Personal Information"}),f.jsxs(mt,{container:!0,spacing:3,children:[f.jsxs(mt,{item:!0,xs:12,md:6,children:[f.jsx(mu,{htmlFor:"first-name",required:!0,children:"First Name"}),f.jsx(yc,{id:"first-name",name:"first-name",value:r,onChange:X(i),placeholder:"John",fullWidth:!0,required:!0,disabled:q})]}),f.jsxs(mt,{item:!0,xs:12,md:6,children:[f.jsx(mu,{htmlFor:"last-name",required:!0,children:"Last Name"}),f.jsx(yc,{id:"last-name",name:"last-name",value:a,onChange:X(s),placeholder:"Doe",fullWidth:!0,required:!0,disabled:q})]}),f.jsxs(mt,{item:!0,xs:12,children:[f.jsx(mu,{htmlFor:"institution",required:!0,children:"Institution Affiliation"}),f.jsx(yc,{id:"institution",name:"institution",value:l,onChange:X(c),placeholder:"University Name",fullWidth:!0,required:!0,disabled:q})]}),f.jsxs(mt,{item:!0,xs:12,children:[f.jsx(mu,{htmlFor:"email",required:!0,children:"Institutional Email"}),f.jsx(yc,{id:"email",name:"email",value:d,onChange:X(h),placeholder:"name@institution.edu",fullWidth:!0,required:!0,disabled:q}),f.jsx(ce,{variant:"caption",sx:{mt:1},children:"Please use your institutional email to confirm your affiliation."})]})]}),f.jsx(Za,{sx:{my:4}}),f.jsx(ce,{variant:"h6",component:"h2",sx:{mb:2},children:w==="primary"?"New Course Details":"Existing Course Details"}),w==="primary"&&f.jsxs(nn,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[f.jsx(ce,{variant:"subtitle1",sx:{mb:2},children:"How would you like to create your course?"}),f.jsxs(_6,{value:N,exclusive:!0,onChange:G,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[f.jsxs(K0,{value:"manual","aria-label":"manual entry",children:[f.jsx(Cu,{sx:{mr:1}}),"Manual Entry"]}),f.jsxs(K0,{value:"syllabus","aria-label":"syllabus import",children:[f.jsx(iT,{sx:{mr:1}}),"Import from Syllabus"]})]}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:N==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),w==="primary"&&N==="syllabus"&&f.jsx(be,{sx:{mb:4},children:f.jsx(AI,{onComplete:le,onCancel:()=>P("manual")})}),(w==="co-instructor"||w==="primary"&&N==="manual")&&f.jsxs(mt,{container:!0,spacing:3,sx:{mb:4},children:[f.jsxs(mt,{item:!0,xs:12,md:6,children:[f.jsx(mu,{htmlFor:"course-number",required:!0,children:"Course Number"}),f.jsx(yc,{id:"course-number",name:"course-number",value:g,onChange:X(b),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:q})]}),f.jsxs(mt,{item:!0,xs:12,md:6,children:[f.jsx(mu,{htmlFor:"course-title",required:!0,children:"Course Title"}),f.jsx(yc,{id:"course-title",name:"course-title",value:m,onChange:X(x),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:q})]}),w==="primary"&&f.jsxs(mt,{item:!0,xs:12,children:[f.jsx(mu,{htmlFor:"course-description",required:!0,children:"Course Description"}),f.jsx(yc,{id:"course-description",name:"course-description",value:y,onChange:X(A),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:q})]})]}),(w==="co-instructor"||w==="primary"&&N==="manual"||re)&&f.jsxs(be,{sx:{mt:4},children:[f.jsx(lt,{variant:"contained",color:"primary",onClick:Y,fullWidth:!0,className:"submit-button",sx:{py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},disabled:q||B,children:q?f.jsxs(f.Fragment,{children:[f.jsx(Rr,{size:24,color:"inherit",sx:{mr:1}}),"Submitting Request..."]}):`Submit Request${w==="primary"&&N==="syllabus"&&R.length>0?` with ${R.filter(Z=>Z.published).length} Materials`:""}`}),f.jsxs(ce,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",f.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})]}),f.jsxs(Si,{open:T,onClose:te,children:[f.jsx(zi,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx(Bg,{sx:{color:"green",fontSize:50,marginRight:1}})}),f.jsx(Ai,{children:f.jsx(ko,{sx:{textAlign:"center"},children:L})}),f.jsx(qi,{children:f.jsx(lt,{onClick:te,color:"primary",autoFocus:!0,children:"Close"})})]})]})]})},zX=()=>{const[e,n]=K.useState([]),[t,r]=K.useState([]),[i,a]=K.useState(""),[s,l]=K.useState(!1),[c,d]=K.useState(""),[h,g]=K.useState("success"),[b,m]=K.useState(!1),[x,y]=K.useState(null),[A,w]=K.useState(null),[C,N]=K.useState(null),P=Un(),F=pi();K.useEffect(()=>{(async()=>{const X=(await hi(bn(P,"educatorRequests"))).docs.map(ee=>({id:ee.id,...ee.data()})),G=(await hi(bn(P,"courses"))).docs.map(ee=>({id:ee.id,...ee.data()}));n(X),r(G)})()},[P]);function R(){const L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let j="";for(let X=0;X<28;X++)j+=L.charAt(Math.floor(Math.random()*L.length));return j}const k=async()=>{var L,j;if(!(!A||!C)){if(!C.courseNumber||!C.courseTitle){d("Course number or title is missing. Cannot approve request."),g("error"),l(!0);return}if(C.requestType==="co-instructor"&&!i){d("Please select a course for the co-instructor request."),g("error"),l(!0);return}if(C.status!=="pending"){d("This request has already been processed."),g("warning"),l(!0);return}try{const X=hn(P,"users",C.uid);if(C.requestType==="primary"){const H=R(),G=await Ra(bn(P,"courses"),{number:C.courseNumber,title:C.courseTitle,passcode:H,courseAdmin:[C.uid]}),ee=await ms(X),le=ee.exists()?((L=ee.data())==null?void 0:L.classes)||{}:{};await Dr(X,{isAdmin:!0,classes:{...le,[G.id]:{number:C.courseNumber,title:C.courseTitle,isCourseAdmin:!0}}}),await Dr(hn(P,"educatorRequests",A),{status:"approved",courseId:G.id,passcode:H})}else if(C.requestType==="co-instructor"){if(!i){d("Please select a course for the co-instructor request."),g("error"),l(!0);return}const H=hn(P,"courses",i);await Dr(H,{courseAdmin:l3(C.uid)});const G=await ms(X),ee=G.exists()?((j=G.data())==null?void 0:j.classes)||{}:{};await Dr(X,{isAdmin:!0,classes:{...ee,[i]:{number:C.courseNumber,title:C.courseTitle,isCourseAdmin:!0}}}),await Dr(hn(P,"educatorRequests",A),{status:"approved",courseId:i})}d("Request approved, and user promoted to educator."),g("success"),n(H=>H.map(G=>G.id===A?{...G,status:"approved"}:G))}catch(X){console.error("Error approving request: ",X),d("Error approving the request. Please try again."),g("error")}l(!0),Q()}},M=async()=>{if(A){try{await Dr(hn(P,"educatorRequests",A),{status:"denied"}),d("Request denied."),g("success"),n(e.map(L=>L.id===A?{...L,status:"denied"}:L))}catch(L){console.error("Error denying request: ",L),d("Error denying the request. Please try again."),g("error")}l(!0),Q()}},q=(L,j,X)=>{y(L),w(j),N(X),a(""),m(!0)},Q=()=>{m(!1),y(null),w(null),N(null)},T=()=>{l(!1)},O=()=>{F("/")};return f.jsxs(be,{sx:{padding:3},children:[f.jsx(be,{sx:{display:"flex",alignItems:"center"},children:f.jsx(lt,{variant:"text",onClick:O,sx:{mr:2},children:" Home Page"})}),f.jsx(ce,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:3},children:"Educator Permission Requests"}),f.jsx(ju,{component:nn,children:f.jsxs(Tu,{children:[f.jsx(Ou,{children:f.jsxs(Bi,{children:[f.jsx(dt,{children:"Name"}),f.jsx(dt,{children:"User ID"}),f.jsx(dt,{children:"Institution"}),f.jsx(dt,{children:"Email"}),f.jsx(dt,{children:"Course Number"}),f.jsx(dt,{children:"Course Title"}),f.jsx(dt,{children:"Course Description"}),f.jsx(dt,{children:"Timestamp"}),f.jsx(dt,{children:"Actions"})]})}),f.jsx(Iu,{children:e.map(L=>f.jsxs(Bi,{children:[f.jsx(dt,{children:`${L.firstName} ${L.lastName}`}),f.jsx(dt,{children:L.uid}),f.jsx(dt,{children:L.institution}),f.jsx(dt,{children:L.email}),f.jsx(dt,{children:L.courseNumber}),f.jsx(dt,{children:L.courseTitle}),f.jsx(dt,{children:L.courseDescription}),f.jsx(dt,{children:new Date(L.timestamp.seconds*1e3).toLocaleString()}),f.jsxs(dt,{children:[L.status==="pending"&&f.jsxs(f.Fragment,{children:[f.jsx(lt,{variant:"contained",color:"primary",sx:{mr:1},onClick:()=>q("approve",L.id,L),children:"Approve"}),f.jsx(lt,{variant:"contained",color:"secondary",onClick:()=>q("deny",L.id,L),children:"Deny"})]}),L.status==="approved"&&f.jsx(ce,{color:"success.main",children:"Approved"}),L.status==="denied"&&f.jsx(ce,{color:"error.main",children:"Denied"})]})]},L.id))})]})}),f.jsx(no,{open:s,autoHideDuration:6e3,onClose:T,children:f.jsx(nr,{onClose:T,severity:h,sx:{width:"100%"},children:c})}),f.jsxs(Si,{open:b,onClose:Q,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",children:[f.jsx(zi,{id:"confirmation-dialog-title",children:x==="approve"?"Confirm Approval":"Confirm Denial"}),f.jsxs(Ai,{children:[f.jsxs(ko,{id:"confirmation-dialog-description",children:["Are you sure you want to ",x," this request for ",C==null?void 0:C.firstName," ",C==null?void 0:C.lastName,"?"]}),x==="approve"&&(C==null?void 0:C.requestType)==="co-instructor"&&f.jsxs(be,{sx:{mt:2},children:[f.jsx(ce,{children:"Select Course:"}),f.jsx(Pl,{fullWidth:!0,value:i,onChange:L=>a(L.target.value),children:t.map(L=>f.jsx(Kn,{value:L.id,children:`${L.number} - ${L.title}`},L.id))})]})]}),f.jsxs(qi,{children:[f.jsx(lt,{onClick:Q,color:"primary",children:"Cancel"}),f.jsx(lt,{onClick:x==="approve"?k:M,color:"primary",variant:"contained",autoFocus:!0,disabled:(C==null?void 0:C.requestType)==="co-instructor"&&!i,children:"Confirm"})]})]})]})},Xx=e=>{if(e==null)return null;if(e instanceof Date)return e;if(Array.isArray(e))return e.map(Xx).filter(n=>n!=null);if(typeof e=="object"){const n={};return Object.keys(e).forEach(t=>{const r=e[t];if(r!==void 0){const i=Xx(r);i!=null&&(n[t]=i)}}),n}return e},qX=()=>{const{userDetails:e}=Ci(),n=pi(),t=Un(),[r,i]=K.useState("manual"),[a,s]=K.useState(""),[l,c]=K.useState(""),[d,h]=K.useState(""),{parsedCourseInfo:g,generatedMaterials:b,aiExtractedInfo:m,storedSyllabusFile:x,reset:y,currentStep:A}=Ep(),[w,C]=K.useState(!1),[N,P]=K.useState(!1),[F,R]=K.useState("");K.useEffect(()=>{r==="manual"&&y()},[r,y]),K.useEffect(()=>{r==="syllabus"&&g&&(s(g.suggestedNumber||""),c(g.suggestedTitle||""),h(g.suggestedDescription||""))},[r,g]);const k=H=>G=>{H(G.target.value)},M=(H,G)=>{G!==null&&(i(G),G==="syllabus"&&(s(""),c(""),h("")))},q=()=>{if(r==="manual"){if(!a||!l||!d)return"Please fill in all required fields."}else if(r==="syllabus"){if(!g)return"Please complete the syllabus import process first.";if(!a||!l||!d)return"Please ensure course information is properly filled from your syllabus."}return null},Q=H=>{console.log("Syllabus import completed:",H),T()},T=async()=>{const H=q();if(H){R(H),P(!0);return}C(!0);try{const G={uid:(e==null?void 0:e.uid)||"",courseNumber:a||"",courseTitle:l||"",courseDescription:d||"",status:"pending",timestamp:new Date,syllabusImported:!1};if(r==="syllabus"&&g&&b.length>0){const te={parsedCourseInfo:g,generatedMaterials:b.filter(B=>B.published),additionalInfo:m?{contactInfo:m.contactInfo,policies:m.policies,additionalResources:m.additionalResources,labSpecific:m.labSpecific,textbooks:m.textbooks,gradingPolicy:m.gradingPolicy,assignments:m.assignments,prerequisites:m.prerequisites}:null,syllabusFile:x?{url:x.url,path:x.path,metadata:x.metadata}:null},U=Xx(te);G.syllabusImported=!0,G.syllabusData=U}const ee=Xx(G);console.log("Submitting clean request document:",ee);const le=await Ra(bn(t,"courseRequests"),ee),Y={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Course Request Submitted${r==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new course request has been submitted:</p>
            <p><strong>Educator ID:</strong> ${(e==null?void 0:e.uid)||"Unknown"}</p>
            <p><strong>Course:</strong> ${a} - ${l}</p>
            <p><strong>Description:</strong> ${d}</p>
            <p><strong>Creation Method:</strong> ${r==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>
            ${r==="syllabus"&&b.length>0?`<p><strong>Generated Materials:</strong> ${b.filter(te=>te.published).length} materials ready for publication</p>`:""}
            <p><strong>Request ID:</strong> ${le.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/course-requests">
            Click here to review the request.
            </a></p>
          `}};await Ra(bn(t,"mail"),Y),R(r==="syllabus"?`Your course request has been submitted for review with ${b.filter(te=>te.published).length} auto-generated materials.`:"Your course request has been submitted for review."),s(""),c(""),h(""),r==="syllabus"&&y(),P(!0),setTimeout(()=>{n("/course-management")},3e3)}catch(G){console.error("Error submitting course request: ",G),G instanceof Error&&console.error("Error details:",{message:G.message,name:G.name,stack:G.stack}),R("Error submitting your course request. Please try again."),P(!0)}finally{C(!1)}},O=()=>{P(!1)},L=()=>{n("/course-management")},j=r==="syllabus"&&A!=="upload"&&!g,X=r==="syllabus"&&(A==="review"||A==="editing"||A==="complete")&&g;return f.jsxs(be,{className:"request-form-container",sx:{padding:3,maxWidth:"1400px",mx:"auto"},children:[f.jsx(be,{sx:{display:"flex",alignItems:"center",mb:3},children:f.jsx(lt,{variant:"text",onClick:L,className:"back-home-button",children:" Course Management"})}),f.jsxs(be,{className:"request-form-outline",sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:4,border:"1px solid #e3f2fd",minWidth:"100%"},children:[f.jsx(ce,{variant:"h5",component:"h1",className:"request-form-title",sx:{mb:3},children:"Request Creating a New Course"}),f.jsxs(nn,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[f.jsx(ce,{variant:"h6",sx:{mb:2},children:"How would you like to create your course?"}),f.jsxs(_6,{value:r,exclusive:!0,onChange:M,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[f.jsxs(K0,{value:"manual","aria-label":"manual entry",children:[f.jsx(Cu,{sx:{mr:1}}),"Manual Entry"]}),f.jsxs(K0,{value:"syllabus","aria-label":"syllabus import",children:[f.jsx(iT,{sx:{mr:1}}),"Import from Syllabus"]})]}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:r==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),r==="syllabus"&&f.jsx(be,{sx:{mb:4},children:f.jsx(AI,{onComplete:Q,onCancel:()=>i("manual"),educatorUid:e==null?void 0:e.uid})}),r==="manual"&&f.jsxs(mt,{container:!0,spacing:3,children:[f.jsxs(mt,{item:!0,xs:12,md:6,children:[f.jsx(mu,{htmlFor:"course-number",required:!0,children:"Course Number"}),f.jsx(yc,{id:"course-number",name:"course-number",value:a,onChange:k(s),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:w})]}),f.jsxs(mt,{item:!0,xs:12,md:6,children:[f.jsx(mu,{htmlFor:"course-title",required:!0,children:"Course Title"}),f.jsx(yc,{id:"course-title",name:"course-title",value:l,onChange:k(c),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:w})]}),f.jsxs(mt,{item:!0,xs:12,children:[f.jsx(mu,{htmlFor:"course-description",required:!0,children:"Course Description"}),f.jsx(yc,{id:"course-description",name:"course-description",value:d,onChange:k(h),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:w})]})]}),(r==="manual"||X)&&f.jsxs(be,{sx:{mt:4},children:[f.jsx(lt,{variant:"contained",color:"primary",onClick:T,fullWidth:!0,className:"submit-button",disabled:w||j,sx:{py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},children:w?f.jsxs(f.Fragment,{children:[f.jsx(Rr,{size:24,color:"inherit",sx:{mr:1}}),"Submitting Request..."]}):`Submit Request${r==="syllabus"&&b.length>0?` with ${b.filter(H=>H.published).length} Materials`:""}`}),f.jsxs(ce,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",f.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})]}),f.jsxs(Si,{open:N,onClose:O,children:[f.jsx(zi,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx(Bg,{sx:{color:"green",fontSize:50,marginRight:1}})}),f.jsx(Ai,{children:f.jsx(ko,{sx:{textAlign:"center"},children:F})}),f.jsx(qi,{children:f.jsx(lt,{onClick:O,color:"primary",autoFocus:!0,children:"Close"})})]})]})]})},BX=()=>{var q,Q,T,O;const[e,n]=K.useState([]),[t,r]=K.useState(!1),[i,a]=K.useState(""),[s,l]=K.useState("success"),[c,d]=K.useState(!1),[h,g]=K.useState(null),[b,m]=K.useState(null),[x,y]=K.useState(null),A=Un(),w=pi();K.useEffect(()=>{(async()=>{try{const X=(await hi(bn(A,"courseRequests"))).docs.map(H=>({id:H.id,...H.data()}));X.sort((H,G)=>H.status==="pending"&&G.status!=="pending"||H.status==="approved"&&G.status==="denied"?-1:H.status==="denied"&&G.status==="approved"?1:0),n(X)}catch(j){console.error("Error fetching course requests: ",j)}})()},[A]);function C(){const L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let j="";for(let X=0;X<28;X++)j+=L.charAt(Math.floor(Math.random()*L.length));return j}const N=async()=>{var L,j,X,H;if(!(!b||!x)){try{const G=C(),ee={number:x.courseNumber,title:x.courseTitle,description:x.courseDescription,passcode:G,courseAdmin:[x.uid],createdAt:new Date};if(x.syllabusImported&&((L=x.syllabusData)!=null&&L.additionalInfo)){const Z=x.syllabusData.additionalInfo;ee.additionalInfo={contactInfo:Z.contactInfo||{},policies:Z.policies||{},additionalResources:Z.additionalResources||{},labSpecific:Z.labSpecific||{},textbooks:Z.textbooks||[],gradingPolicy:Z.gradingPolicy||[],assignments:Z.assignments||[],prerequisites:Z.prerequisites||[],lastUpdated:new Date}}x.syllabusImported&&((j=x.syllabusData)!=null&&j.syllabusFile)&&(ee.syllabusFile=x.syllabusData.syllabusFile);const le=await Ra(bn(A,"courses"),ee),Y=hn(A,"users",x.uid),te=await ms(Y),U=te.exists()?((X=te.data())==null?void 0:X.classes)||{}:{};await Dr(Y,{classes:{...U,[le.id]:{number:x.courseNumber,title:x.courseTitle,isCourseAdmin:!0}}});let B=0;if(x.syllabusImported&&((H=x.syllabusData)!=null&&H.generatedMaterials)){const Z=j6(A);x.syllabusData.generatedMaterials.forEach(ne=>{const ve=hn(bn(A,"materials")),ye={title:ne.title||"Untitled Material",header:ne.header||{title:"",content:""},footer:ne.footer||{title:"",content:""},sections:(ne.sections||[]).map(Ce=>({...Ce,images:Ce.images||[],links:Ce.links||[],subsections:(Ce.subsections||[]).map(Oe=>({...Oe,images:Oe.images||[],links:Oe.links||[],subSubsections:(Oe.subSubsections||[]).map(Ie=>({...Ie,images:Ie.images||[],links:Ie.links||[]}))}))})),published:!0,course:le.id,author:x.uid,timestamp:Ka.now(),createdAt:new Date,updatedAt:new Date};ne.scheduledTimestamp&&(ye.scheduledTimestamp=Ka.fromDate(ne.scheduledTimestamp)),Z.set(ve,ye),B++}),await Z.commit(),console.log(`Created ${B} materials from syllabus`)}await Dr(hn(A,"courseRequests",b),{status:"approved",courseId:le.id,passcode:G});const re={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"Your Course Request Has Been Approved",html:`
            <p>Your course request has been approved:</p>
            <p><strong>Course:</strong> ${x.courseNumber} - ${x.courseTitle}</p>
            <p><strong>Passcode:</strong> ${G}</p>
            ${x.syllabusImported&&B>0?`<p><strong>Materials Created:</strong> ${B} materials have been automatically added to your course from your syllabus import.</p>`:""}
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/supplemental-materials">
            Click here to view your course.
            </a></p>
          `}};await Ra(bn(A,"mail"),re),a(`Course request approved, course added${B>0?` with ${B} materials`:""}.`),l("success"),n(Z=>Z.map(ne=>ne.id===b?{...ne,status:"approved"}:ne))}catch(G){console.error("Error approving request: ",G),a("Error approving the request. Please try again."),l("error")}r(!0),R()}},P=async()=>{if(b){try{await Dr(hn(A,"courseRequests",b),{status:"denied"}),a("Course request denied."),l("success"),n(e.map(L=>L.id===b?{...L,status:"denied"}:L))}catch(L){console.error("Error denying request: ",L),a("Error denying the request. Please try again."),l("error")}r(!0),R()}},F=(L,j,X)=>{g(L),m(j),y(X),d(!0)},R=()=>{d(!1),g(null),m(null),y(null)},k=()=>{r(!1)},M=()=>{w("/")};return f.jsxs(be,{sx:{padding:3},children:[f.jsx(be,{sx:{display:"flex",alignItems:"center"},children:f.jsx(lt,{variant:"text",onClick:M,sx:{mr:2},children:" Home Page"})}),f.jsx(ce,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:3},children:"Course Creation Requests"}),f.jsx(ju,{component:nn,children:f.jsxs(Tu,{children:[f.jsx(Ou,{children:f.jsxs(Bi,{children:[f.jsx(dt,{children:"Educator ID"}),f.jsx(dt,{children:"Course Number"}),f.jsx(dt,{children:"Course Title"}),f.jsx(dt,{children:"Course Description"}),f.jsx(dt,{children:"Creation Method"}),f.jsx(dt,{children:"Timestamp"}),f.jsx(dt,{children:"Actions"})]})}),f.jsx(Iu,{children:e.map(L=>{var j,X,H,G,ee;return f.jsxs(Bi,{children:[f.jsx(dt,{children:L.uid}),f.jsx(dt,{children:L.courseNumber}),f.jsx(dt,{children:L.courseTitle}),f.jsx(dt,{children:L.courseDescription.length>100?`${L.courseDescription.substring(0,100)}...`:L.courseDescription}),f.jsx(dt,{children:L.syllabusImported?f.jsxs(be,{children:[f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[f.jsx(ce,{variant:"body2",color:"primary",sx:{fontWeight:"bold"},children:"Syllabus Import"}),((j=L.syllabusData)==null?void 0:j.syllabusFile)&&f.jsx(Pi,{title:`Download: ${L.syllabusData.syllabusFile.metadata.originalFilename}`,children:f.jsx(un,{size:"small",onClick:()=>window.open(L.syllabusData.syllabusFile.url,"_blank"),sx:{color:"primary.main"},children:f.jsx(kx,{fontSize:"small"})})})]}),f.jsxs(ce,{variant:"caption",color:"text.secondary",children:[((H=(X=L.syllabusData)==null?void 0:X.generatedMaterials)==null?void 0:H.length)||0," materials"]}),((G=L.syllabusData)==null?void 0:G.syllabusFile)&&f.jsx(ce,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:L.syllabusData.syllabusFile.metadata.originalFilename})]}):f.jsx(ce,{variant:"body2",color:"text.secondary",children:"Manual Entry"})}),f.jsx(dt,{children:(ee=L.timestamp)!=null&&ee.seconds?new Date(L.timestamp.seconds*1e3).toLocaleString():"Invalid Date"}),f.jsxs(dt,{children:[L.status==="pending"&&f.jsxs(f.Fragment,{children:[f.jsx(lt,{variant:"contained",color:"success",size:"small",onClick:()=>F("approve",L.id,L),sx:{mr:1},children:"Approve"}),f.jsx(lt,{variant:"outlined",color:"error",size:"small",onClick:()=>F("deny",L.id,L),children:"Deny"})]}),L.status==="approved"&&f.jsx(ce,{variant:"body2",color:"success.main",sx:{fontWeight:"bold"},children:"Approved"}),L.status==="denied"&&f.jsx(ce,{variant:"body2",color:"error.main",sx:{fontWeight:"bold"},children:"Denied"})]})]},L.id)})})]})}),f.jsxs(Si,{open:c,onClose:R,children:[f.jsx(zi,{children:h==="approve"?"Approve Course Request":"Deny Course Request"}),f.jsx(Ai,{children:f.jsx(ko,{children:h==="approve"?f.jsxs(f.Fragment,{children:["Are you sure you want to approve this course request?",(x==null?void 0:x.syllabusImported)&&f.jsxs(be,{sx:{mt:2,p:2,backgroundColor:"#ECF4FE",borderRadius:1},children:[f.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:" Syllabus Import Detected"}),f.jsxs(ce,{variant:"body2",children:["This request includes ",((Q=(q=x==null?void 0:x.syllabusData)==null?void 0:q.generatedMaterials)==null?void 0:Q.length)||0," auto-generated materials that will be added to the course."]}),((T=x==null?void 0:x.syllabusData)==null?void 0:T.syllabusFile)&&f.jsxs(be,{sx:{mt:1},children:[f.jsxs(ce,{variant:"body2",sx:{mb:1},children:[f.jsx("strong",{children:"Syllabus File:"})," ",x.syllabusData.syllabusFile.metadata.originalFilename," ","(",(x.syllabusData.syllabusFile.metadata.fileSize/1024/1024).toFixed(2)," MB)"]}),f.jsx(lt,{size:"small",variant:"outlined",startIcon:f.jsx(hg,{}),onClick:()=>window.open(x.syllabusData.syllabusFile.url,"_blank"),sx:{mt:.5},children:"View/Download Syllabus"})]}),((O=x==null?void 0:x.syllabusData)==null?void 0:O.additionalInfo)&&f.jsxs(ce,{variant:"body2",sx:{mt:1},children:[f.jsx("strong",{children:"Additional Info:"})," Contact info, policies, textbooks, and other course details extracted"]})]})]}):"Are you sure you want to deny this course request?"})}),f.jsxs(qi,{children:[f.jsx(lt,{onClick:R,color:"primary",children:"Cancel"}),f.jsx(lt,{onClick:h==="approve"?N:P,color:h==="approve"?"success":"error",variant:"contained",children:h==="approve"?"Approve":"Deny"})]})]}),f.jsx(no,{open:t,autoHideDuration:6e3,onClose:k,children:f.jsx(nr,{onClose:k,severity:s,sx:{width:"100%"},children:i})})]})};var k1={},m4;function UX(){if(m4)return k1;m4=1;var e=Eo();Object.defineProperty(k1,"__esModule",{value:!0}),k1.default=void 0;var n=e(No()),t=_o();return k1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),k1}var $X=UX();const HX=$i($X),WX=()=>{const e=Un(),{userDetails:n}=Ci(),[t,r]=K.useState([]),[i,a]=K.useState(!0),[s,l]=K.useState(!1),[c,d]=K.useState(""),[h,g]=K.useState("info"),[b,m]=K.useState(!1),[x,y]=K.useState(""),[A,w]=K.useState(""),C=pi();K.useEffect(()=>{(async()=>{a(!0);try{const O=(await hi(bn(e,"courses"))).docs.map(L=>{const j=L.data();return{id:L.id,title:j.title||"Untitled",number:j.number||"N/A",courseAdmin:j.courseAdmin||[]}});r(O)}catch(T){console.error("Error fetching courses: ",T)}finally{a(!1)}})()},[e]);const N=async Q=>{if(!n){R("User details are not available.","error");return}const T=t.find(O=>O.id===Q);if(T&&n)try{if(T.courseAdmin.includes(n.uid)){R("You are already an admin for this course.","warning");return}const O=hn(e,"courses",Q),L=[...T.courseAdmin,n.uid];await Dr(O,{courseAdmin:L});const j=hn(e,"users",n.uid);await Dr(j,{[`classes.${Q}`]:{number:T.number,title:T.title,isCourseAdmin:!0}}),r(t.map(X=>X.id===Q?{...X,courseAdmin:L}:X)),R("You have been successfully added as an admin to this course.","success")}catch(O){console.error("Error adding super-admin to course: ",O),R("Failed to add admin to course.","error")}},P=Q=>{w(Q),m(!0)},F=async()=>{if(n&&x===n.uid){const Q=t.find(T=>T.id===A);if(Q&&Q.courseAdmin.includes(n.uid))try{await $g(hn(e,"courses",A));const T=await hi(bn(e,"users")),O=j6(e);T.forEach(L=>{const j=hn(e,"users",L.id),H={...L.data().classes};delete H[A],O.update(j,{classes:H})}),await O.commit(),r(t.filter(L=>L.id!==A)),R("Course deleted successfully.","success")}catch(T){console.error("Error deleting course: ",T),R("Failed to delete course.","error")}finally{m(!1),y("")}else R("You are not authorized to delete this course.","warning"),m(!1)}else R("User ID does not match. Please try again.","error")},R=(Q,T)=>{d(Q),g(T),l(!0)},k=(Q,T)=>{T!=="clickaway"&&l(!1)},M=()=>{m(!1),y("")},q=()=>{C("/")};return f.jsxs(be,{sx:{p:3},children:[f.jsx(be,{sx:{display:"flex",alignItems:"center",mb:2},children:f.jsx(lt,{variant:"text",onClick:q,sx:{mr:2},children:" Home Page"})}),f.jsx(ce,{variant:"h4",gutterBottom:!0,children:"Super Admin Course Management"}),i?f.jsx(ce,{children:"Loading courses..."}):f.jsx(ju,{component:nn,children:f.jsxs(Tu,{"aria-label":"courses table",children:[f.jsx(Ou,{children:f.jsxs(Bi,{children:[f.jsx(dt,{sx:{fontWeight:"bold"},children:"Course ID"}),f.jsx(dt,{sx:{fontWeight:"bold"},children:"Course Number"}),f.jsx(dt,{sx:{fontWeight:"bold"},children:"Course Title"}),f.jsx(dt,{sx:{fontWeight:"bold"},children:"Instructors"}),f.jsx(dt,{align:"right",sx:{fontWeight:"bold"},children:"Actions"})]})}),f.jsx(Iu,{children:t.map(Q=>{const T=!!(n!=null&&n.uid)&&Q.courseAdmin.includes(n.uid);return f.jsxs(Bi,{sx:{backgroundColor:T?"#e0f7fa":"transparent"},children:[f.jsx(dt,{children:Q.id}),f.jsx(dt,{children:Q.number}),f.jsx(dt,{children:Q.title}),f.jsx(dt,{children:Q.courseAdmin.length>0?Q.courseAdmin.join(", "):"No admins assigned"}),f.jsxs(dt,{align:"right",children:[f.jsx(Pi,{title:"Add yourself as an instructor",children:f.jsx("span",{children:f.jsx(un,{edge:"end","aria-label":"add",onClick:()=>N(Q.id),disabled:T,children:f.jsx(HX,{})})})}),f.jsx(Pi,{title:T?"Delete this course":"You are not authorized to delete this course",children:f.jsx("span",{children:f.jsx(un,{edge:"end","aria-label":"delete",onClick:()=>P(Q.id),disabled:!T,children:f.jsx(fv,{})})})})]})]},Q.id)})})]})}),f.jsx(no,{open:s,autoHideDuration:6e3,onClose:k,children:f.jsx(nr,{onClose:k,severity:h,sx:{width:"100%"},children:c})}),f.jsxs(Si,{open:b,onClose:M,children:[f.jsx(zi,{children:"Confirm Delete"}),f.jsxs(Ai,{children:[f.jsx(ko,{children:"To confirm the deletion of this course, please enter your User ID:"}),f.jsx(zt,{autoFocus:!0,margin:"dense",id:"userId",label:"User ID",type:"text",fullWidth:!0,variant:"outlined",value:x,onChange:Q=>y(Q.target.value)})]}),f.jsxs(qi,{children:[f.jsx(lt,{onClick:M,color:"primary",children:"Cancel"}),f.jsx(lt,{onClick:F,color:"primary",children:"Confirm"})]})]})]})};var N1={},g4;function VX(){if(g4)return N1;g4=1;var e=Eo();Object.defineProperty(N1,"__esModule",{value:!0}),N1.default=void 0;var n=e(No()),t=_o();return N1.default=(0,n.default)((0,t.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),N1}var YX=VX();const CI=$i(YX),EI=({filePath:e,fileLabel:n})=>{const[t,r]=K.useState(null),[i,a]=K.useState(!0);return K.useEffect(()=>{(async()=>{try{const l=sh(),c=Au(l,e),d=await Td(c);r(d)}catch(l){console.error("Error fetching download URL:",l),alert("Failed to fetch file URL. Please check your permissions.")}finally{a(!1)}})()},[e]),i?f.jsx(Rr,{size:20}):t?f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(fg,{href:t,target:"_blank",rel:"noopener noreferrer",sx:{textDecoration:"none",color:"#1976d2","&:hover":{textDecoration:"underline"}},children:n}),f.jsx(un,{component:"a",href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"Open in new tab",size:"small",children:f.jsx(CI,{})})]}):f.jsx(be,{children:f.jsx(ce,{color:"error",children:"Failed to load file link"})})},GX=()=>{const{userDetails:e}=Ci(),[n,t]=K.useState([]),[r,i]=K.useState(!0);return K.useEffect(()=>{(async()=>{if(!(e!=null&&e.uid))return;const s=Un(),l=bn(s,"chatbotRequests"),c=So(l,wi("educatorId","==",e.uid));try{const h=(await hi(c)).docs.map(g=>({id:g.id,...g.data()}));t(h)}catch(d){console.error("Error fetching chatbot requests:",d)}finally{i(!1)}})()},[e==null?void 0:e.uid]),r?f.jsx(be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:f.jsx(Rr,{})}):n.length===0?f.jsx(ce,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):f.jsxs(be,{children:[f.jsx(ce,{variant:"h6",sx:{mb:2},children:"Your Chatbot Requests"}),f.jsx(ju,{component:nn,elevation:3,sx:{maxHeight:400},children:f.jsxs(Tu,{stickyHeader:!0,children:[f.jsx(Ou,{children:f.jsxs(Bi,{children:[f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Title"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Submitted On"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Status"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"File Links"})]})}),f.jsx(Iu,{children:n.map((a,s)=>f.jsxs(Bi,{sx:{backgroundColor:s%2===0?"#F6E9B2":"#FBFADA","&:hover":{backgroundColor:"#E8E8E8"}},children:[f.jsx(dt,{children:a.title}),f.jsx(dt,{children:`${a.courseNumber} - ${a.courseTitle}`}),f.jsx(dt,{children:a.materialTitle||"N/A"}),f.jsx(dt,{children:new Date(a.timestamp).toLocaleString()}),f.jsx(dt,{children:f.jsx(ce,{variant:"body2",sx:{color:a.status==="pending"?"#FFA726":"#43A047",fontWeight:"bold"},children:a.status})}),f.jsx(dt,{children:a.files.map((l,c)=>f.jsx(EI,{filePath:l,fileLabel:`File ${c+1}`},c))})]},a.id))})]})})]})},QX=()=>{const e=pi();return f.jsxs(be,{className:"profile-container",sx:{p:4},children:[f.jsx(lt,{variant:"text",onClick:()=>e("/"),className:"profile-button",children:" Home Page"}),f.jsx(ce,{className:"webpage_title",sx:{mb:2},children:"Chatbot Management"}),f.jsx(ce,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Manage your chatbots or create new chatbot requests."}),f.jsx(lt,{variant:"contained",onClick:()=>e("/request-chatbot"),sx:{mt:2},className:"submit-button",children:"Request a New Chatbot"}),f.jsx(GX,{})]})},KX=({folderPath:e,onUploadComplete:n})=>{const[t,r]=K.useState(!1),[i,a]=K.useState([]),[s,l]=K.useState(null),c=5*1024*1024,d=[".pdf",".ppt",".pptx",".doc",".docx",".txt"],h=async g=>{if(!g.target.files)return;const b=Array.from(g.target.files),m=sh(),x=[];r(!0),l(null);try{for(const y of b){const A=y.name.slice(y.name.lastIndexOf(".")).toLowerCase();if(!d.includes(A)){l(`File ${y.name} is not a supported format.`);continue}if(y.size>c){l(`File ${y.name} exceeds the 5 MB limit and cannot be uploaded.`);continue}const w=Au(m,`${e}/files/${y.name}`);await Vf(w,y);const C=await Td(w);x.push(C)}a(y=>[...y,...b]),n(x)}catch(y){console.error("Error uploading files:",y),l("Failed to upload files. Please try again.")}finally{r(!1)}};return f.jsxs(be,{children:[f.jsx("input",{type:"file",accept:".pdf,.ppt,.pptx,.doc,.docx,.txt",multiple:!0,onChange:h,style:{display:"none"},id:"file-upload"}),f.jsx("label",{htmlFor:"file-upload",children:f.jsx(lt,{variant:"contained",component:"span",disabled:t,startIcon:t?f.jsx(Rr,{size:20}):null,children:t?"Uploading...":"Select and Upload Files"})}),s&&f.jsx(nr,{severity:"error",sx:{mt:2},children:s}),f.jsx(be,{sx:{marginTop:2},children:i.map((g,b)=>f.jsx(ce,{children:g.name},b))})]})},XX=gp()(cm((e,n)=>({materials:[],selectedCourse:null,loading:!1,error:null,isEditing:!1,selectedMaterial:null,setMaterials:t=>e({materials:t}),addMaterial:t=>e(r=>({materials:[...r.materials,t]})),updateMaterial:(t,r)=>e(i=>({materials:i.materials.map(a=>a.id===t?{...a,...r}:a)})),deleteMaterial:t=>e(r=>({materials:r.materials.filter(i=>i.id!==t)})),setSelectedCourse:t=>e({selectedCourse:t}),setLoading:t=>e({loading:t}),setError:t=>e({error:t}),setIsEditing:t=>e({isEditing:t}),setSelectedMaterial:t=>e({selectedMaterial:t}),fetchMaterials:async t=>{e({loading:!0,error:null});try{const{db:r}=await Ri(async()=>{const{db:h}=await Promise.resolve().then(()=>Yf);return{db:h}},void 0),{collection:i,query:a,where:s,onSnapshot:l,orderBy:c}=await Ri(async()=>{const{collection:h,query:g,where:b,onSnapshot:m,orderBy:x}=await import("./firebase-DpGenoA-.js").then(y=>y.B);return{collection:h,query:g,where:b,onSnapshot:m,orderBy:x}},[]),d=a(i(r,"materials"),s("course","==",t),c("timestamp","desc"));return new Promise(h=>{l(d,g=>{const b=g.docs.map(m=>({id:m.id,...m.data()}));e({materials:b,loading:!1}),h(void 0)})})}catch(r){e({error:r instanceof Error?r.message:"Failed to fetch materials",loading:!1})}},publishMaterial:async t=>{try{const{db:r}=await Ri(async()=>{const{db:s}=await Promise.resolve().then(()=>Yf);return{db:s}},void 0),{doc:i,updateDoc:a}=await Ri(async()=>{const{doc:s,updateDoc:l}=await import("./firebase-DpGenoA-.js").then(c=>c.B);return{doc:s,updateDoc:l}},[]);await a(i(r,"materials",t),{published:!0}),n().updateMaterial(t,{published:!0})}catch{e({error:"Failed to publish material"})}},unpublishMaterial:async t=>{try{const{db:r}=await Ri(async()=>{const{db:s}=await Promise.resolve().then(()=>Yf);return{db:s}},void 0),{doc:i,updateDoc:a}=await Ri(async()=>{const{doc:s,updateDoc:l}=await import("./firebase-DpGenoA-.js").then(c=>c.B);return{doc:s,updateDoc:l}},[]);await a(i(r,"materials",t),{published:!1}),n().updateMaterial(t,{published:!1})}catch{e({error:"Failed to unpublish material"})}}}))),ZX=()=>{const{userDetails:e}=Ci(),n=pi(),t=Un(),[r,i]=K.useState(""),[a,s]=K.useState(""),[l,c]=K.useState(""),[d,h]=K.useState([]),[g,b]=K.useState(!1),[m,x]=K.useState(""),[y,A]=K.useState("success"),{materials:w,loading:C,error:N,fetchMaterials:P}=XX();K.useEffect(()=>{c(""),a&&P(a)},[a,P]);const F=q=>{h(Q=>[...Q,...q])},R=async()=>{var j;if(!r||!a||!l||d.length===0){x("Please fill all required fields and upload at least one file."),A("error"),b(!0);return}const q=(j=e==null?void 0:e.classes)==null?void 0:j[a];if(!q||!q.isCourseAdmin){x("You are not authorized to request a chatbot for this course."),A("error"),b(!0);return}const Q=(q==null?void 0:q.number)??"N/A",T=(q==null?void 0:q.title)??"Untitled Course",O=w.find(X=>X.id===l);if(!O){x("Selected material details could not be found."),A("error"),b(!0);return}const{title:L}=O;try{const X=await Ra(bn(t,"chatbotRequests"),{educatorId:e==null?void 0:e.uid,courseId:a,courseNumber:Q,courseTitle:T,materialId:l,materialTitle:L,title:r,files:d,status:"pending",timestamp:new Date().toISOString()});await Ra(bn(t,"mail"),{to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"New Chatbot Request Submitted",html:`
            <p>A new chatbot request has been submitted:</p>
            <p><strong>Title:</strong> ${r}</p>
            <p><strong>Educator ID:</strong> ${e==null?void 0:e.uid}</p>
            <p><strong>Course:</strong> ${Q} - ${T}</p>
            <p><strong>Material:</strong> ${L}</p>
            <p><strong>Request ID:</strong> ${X.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/super-admin-chatbot-requests">
            Click here to review the request.
            </a></p>
          `}}),x("Chatbot request submitted successfully!"),A("success"),b(!0),setTimeout(()=>n("/chatbot-management"),1500)}catch(X){console.error("Error submitting chatbot request:",X),x("Failed to submit the chatbot request. Please try again."),A("error"),b(!0)}},k=()=>{n("/chatbot-management")},M=()=>{b(!1)};return f.jsxs(be,{className:"profile-container",sx:{p:4},children:[f.jsx(lt,{variant:"text",onClick:k,className:"profile-button",children:" Chatbot Management"}),f.jsx(ce,{className:"webpage_title",sx:{mb:2},children:"Request to Create a Chatbot"}),f.jsx(ce,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Fill out the form below to request a chatbot. Please upload all related materials for the chatbot's knowledge base."}),f.jsx(zt,{label:"Chatbot Title",value:r,onChange:q=>i(q.target.value),fullWidth:!0,margin:"normal",required:!0,className:"form-field"}),f.jsx(zt,{label:"Course ID",value:a,onChange:q=>s(q.target.value),fullWidth:!0,margin:"normal",required:!0,select:!0,helperText:"Only courses where you are an admin are available for chatbot requests.",className:"form-field",children:Object.keys((e==null?void 0:e.classes)||{}).filter(q=>{var Q,T;return(T=(Q=e==null?void 0:e.classes)==null?void 0:Q[q])==null?void 0:T.isCourseAdmin}).map(q=>{var Q,T;return f.jsx(Kn,{value:q,children:((T=(Q=e==null?void 0:e.classes)==null?void 0:Q[q])==null?void 0:T.title)||"Untitled Course"},q)})}),f.jsx(zt,{label:"Material",value:l,onChange:q=>c(q.target.value),fullWidth:!0,margin:"normal",required:!0,select:!0,disabled:!a||C,helperText:a?N||(C?"Loading materials...":w.length===0?"No materials available for this course.":""):"Please select a course first.",children:a?C?f.jsxs(Kn,{disabled:!0,children:[f.jsx(Rr,{size:20,sx:{marginRight:2}}),"Loading..."]}):w.length===0?f.jsx(Kn,{disabled:!0,children:"No materials found"}):w.map(q=>f.jsx(Kn,{value:q.id,children:q.title},q.id)):f.jsx(Kn,{disabled:!0,children:"Please select a course first"})}),f.jsxs(be,{sx:{mt:3},children:[f.jsx(ce,{variant:"body1",className:"profile-text",sx:{mb:2},children:"Upload your files below (PDF, PPT, DOC/DOCX, TXT formats only):"}),f.jsx(KX,{folderPath:`chatbotRequests/${e==null?void 0:e.uid}`,onUploadComplete:F})]}),f.jsx(lt,{variant:"contained",onClick:R,sx:{mt:4},className:"submit-button",children:"Submit Request"}),f.jsx(no,{open:g,autoHideDuration:6e3,onClose:M,children:f.jsx(nr,{severity:y,onClose:M,children:m})})]})};var j1={},b4;function JX(){if(b4)return j1;b4=1;var e=Eo();Object.defineProperty(j1,"__esModule",{value:!0}),j1.default=void 0;var n=e(No()),t=_o();return j1.default=(0,n.default)((0,t.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),j1}var eZ=JX();const tZ=$i(eZ),T1=qc(dt)({fontWeight:"bold",color:"#fff",backgroundColor:"#123372",fontSize:"1rem",textAlign:"center"}),nZ=qc(Bi)({"& td, & th":{padding:"12px 16px"},"&:nth-of-type(odd)":{backgroundColor:"#f9f9f9"},"&:hover":{backgroundColor:"#e0e0e0"}}),y4=qc(un)({width:40,height:40,padding:0,display:"flex",alignItems:"center",justifyContent:"center",textTransform:"capitalize",borderRadius:"8px",color:"#123372"}),rZ=({conversations:e,onViewHistory:n,onDeleteConversation:t,loadingMap:r})=>e.length===0?f.jsx(ce,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No conversations available to display."}):f.jsx(be,{sx:{mt:3},children:f.jsx(ju,{component:nn,sx:{boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.1)",borderRadius:"10px"},children:f.jsxs(Tu,{children:[f.jsx(Ou,{children:f.jsxs(Bi,{children:[f.jsx(T1,{children:"Conversation ID"}),f.jsx(T1,{children:"User ID"}),f.jsx(T1,{children:"Chatbot ID"}),f.jsx(T1,{children:"Timestamp (Started At)"}),f.jsx(T1,{children:"Actions"})]})}),f.jsx(Iu,{children:e.length>0?e.map(i=>f.jsxs(nZ,{children:[f.jsx(dt,{align:"center",children:i.id}),f.jsx(dt,{align:"center",children:i.userId}),f.jsx(dt,{align:"center",children:i.chatbotId}),f.jsx(dt,{align:"center",children:i.startedAt?new Date(i.startedAt).toLocaleString():"Invalid date"}),f.jsx(dt,{align:"center",children:f.jsxs(be,{sx:{display:"flex",justifyContent:"center",gap:1},children:[f.jsx(Pi,{title:"View Data",children:f.jsx(y4,{onClick:()=>n(i.chatbotId,i.id,i.userId,i.startedAt),color:"primary",disabled:r[i.id],children:r[i.id]?f.jsx(Rr,{size:20,color:"inherit"}):f.jsx(tZ,{})})}),f.jsx(Pi,{title:"Delete Conversation",children:f.jsx(y4,{onClick:()=>t(i.id),color:"error",children:f.jsx(fv,{})})})]})})]},i.id)):f.jsx(Bi,{children:f.jsx(dt,{colSpan:5,align:"center",children:"No conversations available for the selected filters."})})})]})})});function _I(e,n){return function(){return e.apply(n,arguments)}}const{toString:iZ}=Object.prototype,{getPrototypeOf:yA}=Object,{iterator:Dv,toStringTag:kI}=Symbol,Lv=(e=>n=>{const t=iZ.call(n);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Fu=e=>(e=e.toLowerCase(),n=>Lv(n)===e),Rv=e=>n=>typeof n===e,{isArray:hm}=Array,jg=Rv("undefined");function aZ(e){return e!==null&&!jg(e)&&e.constructor!==null&&!jg(e.constructor)&&yo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const NI=Fu("ArrayBuffer");function sZ(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&NI(e.buffer),n}const oZ=Rv("string"),yo=Rv("function"),jI=Rv("number"),Mv=e=>e!==null&&typeof e=="object",lZ=e=>e===!0||e===!1,px=e=>{if(Lv(e)!=="object")return!1;const n=yA(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(kI in e)&&!(Dv in e)},uZ=Fu("Date"),cZ=Fu("File"),dZ=Fu("Blob"),fZ=Fu("FileList"),hZ=e=>Mv(e)&&yo(e.pipe),pZ=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||yo(e.append)&&((n=Lv(e))==="formdata"||n==="object"&&yo(e.toString)&&e.toString()==="[object FormData]"))},mZ=Fu("URLSearchParams"),[gZ,bZ,yZ,xZ]=["ReadableStream","Request","Response","Headers"].map(Fu),vZ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ib(e,n,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),hm(e))for(r=0,i=e.length;r<i;r++)n.call(null,e[r],r,e);else{const a=t?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let l;for(r=0;r<s;r++)l=a[r],n.call(null,e[l],l,e)}}function TI(e,n){n=n.toLowerCase();const t=Object.keys(e);let r=t.length,i;for(;r-- >0;)if(i=t[r],n===i.toLowerCase())return i;return null}const Kh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,OI=e=>!jg(e)&&e!==Kh;function HS(){const{caseless:e}=OI(this)&&this||{},n={},t=(r,i)=>{const a=e&&TI(n,i)||i;px(n[a])&&px(r)?n[a]=HS(n[a],r):px(r)?n[a]=HS({},r):hm(r)?n[a]=r.slice():n[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&ib(arguments[r],t);return n}const wZ=(e,n,t,{allOwnKeys:r}={})=>(ib(n,(i,a)=>{t&&yo(i)?e[a]=_I(i,t):e[a]=i},{allOwnKeys:r}),e),SZ=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),AZ=(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},CZ=(e,n,t,r)=>{let i,a,s;const l={};if(n=n||{},e==null)return n;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!r||r(s,e,n))&&!l[s]&&(n[s]=e[s],l[s]=!0);e=t!==!1&&yA(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},EZ=(e,n,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return r!==-1&&r===t},_Z=e=>{if(!e)return null;if(hm(e))return e;let n=e.length;if(!jI(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},kZ=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&yA(Uint8Array)),NZ=(e,n)=>{const r=(e&&e[Dv]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;n.call(e,a[0],a[1])}},jZ=(e,n)=>{let t;const r=[];for(;(t=e.exec(n))!==null;)r.push(t);return r},TZ=Fu("HTMLFormElement"),OZ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),x4=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),IZ=Fu("RegExp"),II=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};ib(t,(i,a)=>{let s;(s=n(i,a,e))!==!1&&(r[a]=s||i)}),Object.defineProperties(e,r)},DZ=e=>{II(e,(n,t)=>{if(yo(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=e[t];if(yo(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},LZ=(e,n)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return hm(e)?r(e):r(String(e).split(n)),t},RZ=()=>{},MZ=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function PZ(e){return!!(e&&yo(e.append)&&e[kI]==="FormData"&&e[Dv])}const FZ=e=>{const n=new Array(10),t=(r,i)=>{if(Mv(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[i]=r;const a=hm(r)?[]:{};return ib(r,(s,l)=>{const c=t(s,i+1);!jg(c)&&(a[l]=c)}),n[i]=void 0,a}}return r};return t(e,0)},zZ=Fu("AsyncFunction"),qZ=e=>e&&(Mv(e)||yo(e))&&yo(e.then)&&yo(e.catch),DI=((e,n)=>e?setImmediate:n?((t,r)=>(Kh.addEventListener("message",({source:i,data:a})=>{i===Kh&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Kh.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",yo(Kh.postMessage)),BZ=typeof queueMicrotask<"u"?queueMicrotask.bind(Kh):typeof process<"u"&&process.nextTick||DI,UZ=e=>e!=null&&yo(e[Dv]),it={isArray:hm,isArrayBuffer:NI,isBuffer:aZ,isFormData:pZ,isArrayBufferView:sZ,isString:oZ,isNumber:jI,isBoolean:lZ,isObject:Mv,isPlainObject:px,isReadableStream:gZ,isRequest:bZ,isResponse:yZ,isHeaders:xZ,isUndefined:jg,isDate:uZ,isFile:cZ,isBlob:dZ,isRegExp:IZ,isFunction:yo,isStream:hZ,isURLSearchParams:mZ,isTypedArray:kZ,isFileList:fZ,forEach:ib,merge:HS,extend:wZ,trim:vZ,stripBOM:SZ,inherits:AZ,toFlatObject:CZ,kindOf:Lv,kindOfTest:Fu,endsWith:EZ,toArray:_Z,forEachEntry:NZ,matchAll:jZ,isHTMLForm:TZ,hasOwnProperty:x4,hasOwnProp:x4,reduceDescriptors:II,freezeMethods:DZ,toObjectSet:LZ,toCamelCase:OZ,noop:RZ,toFiniteNumber:MZ,findKey:TI,global:Kh,isContextDefined:OI,isSpecCompliantForm:PZ,toJSONObject:FZ,isAsyncFn:zZ,isThenable:qZ,setImmediate:DI,asap:BZ,isIterable:UZ};function Cn(e,n,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}it.inherits(Cn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:it.toJSONObject(this.config),code:this.code,status:this.status}}});const LI=Cn.prototype,RI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{RI[e]={value:e}});Object.defineProperties(Cn,RI);Object.defineProperty(LI,"isAxiosError",{value:!0});Cn.from=(e,n,t,r,i,a)=>{const s=Object.create(LI);return it.toFlatObject(e,s,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Cn.call(s,e.message,n,t,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const $Z=null;function WS(e){return it.isPlainObject(e)||it.isArray(e)}function MI(e){return it.endsWith(e,"[]")?e.slice(0,-2):e}function v4(e,n,t){return e?e.concat(n).map(function(i,a){return i=MI(i),!t&&a?"["+i+"]":i}).join(t?".":""):n}function HZ(e){return it.isArray(e)&&!e.some(WS)}const WZ=it.toFlatObject(it,{},null,function(n){return/^is[A-Z]/.test(n)});function Pv(e,n,t){if(!it.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,t=it.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,A){return!it.isUndefined(A[y])});const r=t.metaTokens,i=t.visitor||h,a=t.dots,s=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&it.isSpecCompliantForm(n);if(!it.isFunction(i))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(it.isDate(x))return x.toISOString();if(it.isBoolean(x))return x.toString();if(!c&&it.isBlob(x))throw new Cn("Blob is not supported. Use a Buffer instead.");return it.isArrayBuffer(x)||it.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function h(x,y,A){let w=x;if(x&&!A&&typeof x=="object"){if(it.endsWith(y,"{}"))y=r?y:y.slice(0,-2),x=JSON.stringify(x);else if(it.isArray(x)&&HZ(x)||(it.isFileList(x)||it.endsWith(y,"[]"))&&(w=it.toArray(x)))return y=MI(y),w.forEach(function(N,P){!(it.isUndefined(N)||N===null)&&n.append(s===!0?v4([y],P,a):s===null?y:y+"[]",d(N))}),!1}return WS(x)?!0:(n.append(v4(A,y,a),d(x)),!1)}const g=[],b=Object.assign(WZ,{defaultVisitor:h,convertValue:d,isVisitable:WS});function m(x,y){if(!it.isUndefined(x)){if(g.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));g.push(x),it.forEach(x,function(w,C){(!(it.isUndefined(w)||w===null)&&i.call(n,w,it.isString(C)?C.trim():C,y,b))===!0&&m(w,y?y.concat(C):[C])}),g.pop()}}if(!it.isObject(e))throw new TypeError("data must be an object");return m(e),n}function w4(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function xA(e,n){this._pairs=[],e&&Pv(e,this,n)}const PI=xA.prototype;PI.append=function(n,t){this._pairs.push([n,t])};PI.toString=function(n){const t=n?function(r){return n.call(this,r,w4)}:w4;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function VZ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function FI(e,n,t){if(!n)return e;const r=t&&t.encode||VZ;it.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(n,t):a=it.isURLSearchParams(n)?n.toString():new xA(n,t).toString(r),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class S4{constructor(){this.handlers=[]}use(n,t,r){return this.handlers.push({fulfilled:n,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){it.forEach(this.handlers,function(r){r!==null&&n(r)})}}const zI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},YZ=typeof URLSearchParams<"u"?URLSearchParams:xA,GZ=typeof FormData<"u"?FormData:null,QZ=typeof Blob<"u"?Blob:null,KZ={isBrowser:!0,classes:{URLSearchParams:YZ,FormData:GZ,Blob:QZ},protocols:["http","https","file","blob","url","data"]},vA=typeof window<"u"&&typeof document<"u",VS=typeof navigator=="object"&&navigator||void 0,XZ=vA&&(!VS||["ReactNative","NativeScript","NS"].indexOf(VS.product)<0),ZZ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",JZ=vA&&window.location.href||"http://localhost",eJ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vA,hasStandardBrowserEnv:XZ,hasStandardBrowserWebWorkerEnv:ZZ,navigator:VS,origin:JZ},Symbol.toStringTag,{value:"Module"})),Ps={...eJ,...KZ};function tJ(e,n){return Pv(e,new Ps.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,a){return Ps.isNode&&it.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},n))}function nJ(e){return it.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function rJ(e){const n={},t=Object.keys(e);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],n[a]=e[a];return n}function qI(e){function n(t,r,i,a){let s=t[a++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),c=a>=t.length;return s=!s&&it.isArray(i)?i.length:s,c?(it.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!it.isObject(i[s]))&&(i[s]=[]),n(t,r,i[s],a)&&it.isArray(i[s])&&(i[s]=rJ(i[s])),!l)}if(it.isFormData(e)&&it.isFunction(e.entries)){const t={};return it.forEachEntry(e,(r,i)=>{n(nJ(r),i,t,0)}),t}return null}function iJ(e,n,t){if(it.isString(e))try{return(n||JSON.parse)(e),it.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(e)}const ab={transitional:zI,adapter:["xhr","http","fetch"],transformRequest:[function(n,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=it.isObject(n);if(a&&it.isHTMLForm(n)&&(n=new FormData(n)),it.isFormData(n))return i?JSON.stringify(qI(n)):n;if(it.isArrayBuffer(n)||it.isBuffer(n)||it.isStream(n)||it.isFile(n)||it.isBlob(n)||it.isReadableStream(n))return n;if(it.isArrayBufferView(n))return n.buffer;if(it.isURLSearchParams(n))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return tJ(n,this.formSerializer).toString();if((l=it.isFileList(n))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Pv(l?{"files[]":n}:n,c&&new c,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),iJ(n)):n}],transformResponse:[function(n){const t=this.transitional||ab.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(it.isResponse(n)||it.isReadableStream(n))return n;if(n&&it.isString(n)&&(r&&!this.responseType||i)){const s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(n)}catch(l){if(s)throw l.name==="SyntaxError"?Cn.from(l,Cn.ERR_BAD_RESPONSE,this,null,this.response):l}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ps.classes.FormData,Blob:Ps.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};it.forEach(["delete","get","head","post","put","patch"],e=>{ab.headers[e]={}});const aJ=it.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sJ=e=>{const n={};let t,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),t=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!t||n[t]&&aJ[t])&&(t==="set-cookie"?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n},A4=Symbol("internals");function O1(e){return e&&String(e).trim().toLowerCase()}function mx(e){return e===!1||e==null?e:it.isArray(e)?e.map(mx):String(e)}function oJ(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}const lJ=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function bw(e,n,t,r,i){if(it.isFunction(r))return r.call(this,n,t);if(i&&(n=t),!!it.isString(n)){if(it.isString(r))return n.indexOf(r)!==-1;if(it.isRegExp(r))return r.test(n)}}function uJ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,r)=>t.toUpperCase()+r)}function cJ(e,n){const t=it.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(i,a,s){return this[r].call(this,n,i,a,s)},configurable:!0})})}let xo=class{constructor(n){n&&this.set(n)}set(n,t,r){const i=this;function a(l,c,d){const h=O1(c);if(!h)throw new Error("header name must be a non-empty string");const g=it.findKey(i,h);(!g||i[g]===void 0||d===!0||d===void 0&&i[g]!==!1)&&(i[g||c]=mx(l))}const s=(l,c)=>it.forEach(l,(d,h)=>a(d,h,c));if(it.isPlainObject(n)||n instanceof this.constructor)s(n,t);else if(it.isString(n)&&(n=n.trim())&&!lJ(n))s(sJ(n),t);else if(it.isObject(n)&&it.isIterable(n)){let l={},c,d;for(const h of n){if(!it.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[d=h[0]]=(c=l[d])?it.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}s(l,t)}else n!=null&&a(t,n,r);return this}get(n,t){if(n=O1(n),n){const r=it.findKey(this,n);if(r){const i=this[r];if(!t)return i;if(t===!0)return oJ(i);if(it.isFunction(t))return t.call(this,i,r);if(it.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=O1(n),n){const r=it.findKey(this,n);return!!(r&&this[r]!==void 0&&(!t||bw(this,this[r],r,t)))}return!1}delete(n,t){const r=this;let i=!1;function a(s){if(s=O1(s),s){const l=it.findKey(r,s);l&&(!t||bw(r,r[l],l,t))&&(delete r[l],i=!0)}}return it.isArray(n)?n.forEach(a):a(n),i}clear(n){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!n||bw(this,this[a],a,n,!0))&&(delete this[a],i=!0)}return i}normalize(n){const t=this,r={};return it.forEach(this,(i,a)=>{const s=it.findKey(r,a);if(s){t[s]=mx(i),delete t[a];return}const l=n?uJ(a):String(a).trim();l!==a&&delete t[a],t[l]=mx(i),r[l]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return it.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=n&&it.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const r=new this(n);return t.forEach(i=>r.set(i)),r}static accessor(n){const r=(this[A4]=this[A4]={accessors:{}}).accessors,i=this.prototype;function a(s){const l=O1(s);r[l]||(cJ(i,s),r[l]=!0)}return it.isArray(n)?n.forEach(a):a(n),this}};xo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);it.reduceDescriptors(xo.prototype,({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[t]=r}}});it.freezeMethods(xo);function yw(e,n){const t=this||ab,r=n||t,i=xo.from(r.headers);let a=r.data;return it.forEach(e,function(l){a=l.call(t,a,i.normalize(),n?n.status:void 0)}),i.normalize(),a}function BI(e){return!!(e&&e.__CANCEL__)}function pm(e,n,t){Cn.call(this,e??"canceled",Cn.ERR_CANCELED,n,t),this.name="CanceledError"}it.inherits(pm,Cn,{__CANCEL__:!0});function UI(e,n,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?e(t):n(new Cn("Request failed with status code "+t.status,[Cn.ERR_BAD_REQUEST,Cn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function dJ(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function fJ(e,n){e=e||10;const t=new Array(e),r=new Array(e);let i=0,a=0,s;return n=n!==void 0?n:1e3,function(c){const d=Date.now(),h=r[a];s||(s=d),t[i]=c,r[i]=d;let g=a,b=0;for(;g!==i;)b+=t[g++],g=g%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),d-s<n)return;const m=h&&d-h;return m?Math.round(b*1e3/m):void 0}}function hJ(e,n){let t=0,r=1e3/n,i,a;const s=(d,h=Date.now())=>{t=h,i=null,a&&(clearTimeout(a),a=null),e.apply(null,d)};return[(...d)=>{const h=Date.now(),g=h-t;g>=r?s(d,h):(i=d,a||(a=setTimeout(()=>{a=null,s(i)},r-g)))},()=>i&&s(i)]}const Zx=(e,n,t=3)=>{let r=0;const i=fJ(50,250);return hJ(a=>{const s=a.loaded,l=a.lengthComputable?a.total:void 0,c=s-r,d=i(c),h=s<=l;r=s;const g={loaded:s,total:l,progress:l?s/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&h?(l-s)/d:void 0,event:a,lengthComputable:l!=null,[n?"download":"upload"]:!0};e(g)},t)},C4=(e,n)=>{const t=e!=null;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},E4=e=>(...n)=>it.asap(()=>e(...n)),pJ=Ps.hasStandardBrowserEnv?((e,n)=>t=>(t=new URL(t,Ps.origin),e.protocol===t.protocol&&e.host===t.host&&(n||e.port===t.port)))(new URL(Ps.origin),Ps.navigator&&/(msie|trident)/i.test(Ps.navigator.userAgent)):()=>!0,mJ=Ps.hasStandardBrowserEnv?{write(e,n,t,r,i,a){const s=[e+"="+encodeURIComponent(n)];it.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),it.isString(r)&&s.push("path="+r),it.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gJ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function bJ(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function $I(e,n,t){let r=!gJ(n);return e&&(r||t==!1)?bJ(e,n):n}const _4=e=>e instanceof xo?{...e}:e;function pp(e,n){n=n||{};const t={};function r(d,h,g,b){return it.isPlainObject(d)&&it.isPlainObject(h)?it.merge.call({caseless:b},d,h):it.isPlainObject(h)?it.merge({},h):it.isArray(h)?h.slice():h}function i(d,h,g,b){if(it.isUndefined(h)){if(!it.isUndefined(d))return r(void 0,d,g,b)}else return r(d,h,g,b)}function a(d,h){if(!it.isUndefined(h))return r(void 0,h)}function s(d,h){if(it.isUndefined(h)){if(!it.isUndefined(d))return r(void 0,d)}else return r(void 0,h)}function l(d,h,g){if(g in n)return r(d,h);if(g in e)return r(void 0,d)}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(d,h,g)=>i(_4(d),_4(h),g,!0)};return it.forEach(Object.keys(Object.assign({},e,n)),function(h){const g=c[h]||i,b=g(e[h],n[h],h);it.isUndefined(b)&&g!==l||(t[h]=b)}),t}const HI=e=>{const n=pp({},e);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=n;n.headers=s=xo.from(s),n.url=FI($I(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(it.isFormData(t)){if(Ps.hasStandardBrowserEnv||Ps.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[d,...h]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];s.setContentType([d||"multipart/form-data",...h].join("; "))}}if(Ps.hasStandardBrowserEnv&&(r&&it.isFunction(r)&&(r=r(n)),r||r!==!1&&pJ(n.url))){const d=i&&a&&mJ.read(a);d&&s.set(i,d)}return n},yJ=typeof XMLHttpRequest<"u",xJ=yJ&&function(e){return new Promise(function(t,r){const i=HI(e);let a=i.data;const s=xo.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,h,g,b,m,x;function y(){m&&m(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let A=new XMLHttpRequest;A.open(i.method.toUpperCase(),i.url,!0),A.timeout=i.timeout;function w(){if(!A)return;const N=xo.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),F={data:!l||l==="text"||l==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:N,config:e,request:A};UI(function(k){t(k),y()},function(k){r(k),y()},F),A=null}"onloadend"in A?A.onloadend=w:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(w)},A.onabort=function(){A&&(r(new Cn("Request aborted",Cn.ECONNABORTED,e,A)),A=null)},A.onerror=function(){r(new Cn("Network Error",Cn.ERR_NETWORK,e,A)),A=null},A.ontimeout=function(){let P=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const F=i.transitional||zI;i.timeoutErrorMessage&&(P=i.timeoutErrorMessage),r(new Cn(P,F.clarifyTimeoutError?Cn.ETIMEDOUT:Cn.ECONNABORTED,e,A)),A=null},a===void 0&&s.setContentType(null),"setRequestHeader"in A&&it.forEach(s.toJSON(),function(P,F){A.setRequestHeader(F,P)}),it.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),l&&l!=="json"&&(A.responseType=i.responseType),d&&([b,x]=Zx(d,!0),A.addEventListener("progress",b)),c&&A.upload&&([g,m]=Zx(c),A.upload.addEventListener("progress",g),A.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(h=N=>{A&&(r(!N||N.type?new pm(null,e,A):N),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const C=dJ(i.url);if(C&&Ps.protocols.indexOf(C)===-1){r(new Cn("Unsupported protocol "+C+":",Cn.ERR_BAD_REQUEST,e));return}A.send(a||null)})},vJ=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let r=new AbortController,i;const a=function(d){if(!i){i=!0,l();const h=d instanceof Error?d:this.reason;r.abort(h instanceof Cn?h:new pm(h instanceof Error?h.message:h))}};let s=n&&setTimeout(()=>{s=null,a(new Cn(`timeout ${n} of ms exceeded`,Cn.ETIMEDOUT))},n);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>it.asap(l),c}},wJ=function*(e,n){let t=e.byteLength;if(t<n){yield e;return}let r=0,i;for(;r<t;)i=r+n,yield e.slice(r,i),r=i},SJ=async function*(e,n){for await(const t of AJ(e))yield*wJ(t,n)},AJ=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:t,value:r}=await n.read();if(t)break;yield r}}finally{await n.cancel()}},k4=(e,n,t,r)=>{const i=SJ(e,n);let a=0,s,l=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await i.next();if(d){l(),c.close();return}let g=h.byteLength;if(t){let b=a+=g;t(b)}c.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Fv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",WI=Fv&&typeof ReadableStream=="function",CJ=Fv&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),VI=(e,...n)=>{try{return!!e(...n)}catch{return!1}},EJ=WI&&VI(()=>{let e=!1;const n=new Request(Ps.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),N4=64*1024,YS=WI&&VI(()=>it.isReadableStream(new Response("").body)),Jx={stream:YS&&(e=>e.body)};Fv&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!Jx[n]&&(Jx[n]=it.isFunction(e[n])?t=>t[n]():(t,r)=>{throw new Cn(`Response type '${n}' is not supported`,Cn.ERR_NOT_SUPPORT,r)})})})(new Response);const _J=async e=>{if(e==null)return 0;if(it.isBlob(e))return e.size;if(it.isSpecCompliantForm(e))return(await new Request(Ps.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(it.isArrayBufferView(e)||it.isArrayBuffer(e))return e.byteLength;if(it.isURLSearchParams(e)&&(e=e+""),it.isString(e))return(await CJ(e)).byteLength},kJ=async(e,n)=>{const t=it.toFiniteNumber(e.getContentLength());return t??_J(n)},NJ=Fv&&(async e=>{let{url:n,method:t,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:h,withCredentials:g="same-origin",fetchOptions:b}=HI(e);d=d?(d+"").toLowerCase():"text";let m=vJ([i,a&&a.toAbortSignal()],s),x;const y=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let A;try{if(c&&EJ&&t!=="get"&&t!=="head"&&(A=await kJ(h,r))!==0){let F=new Request(n,{method:"POST",body:r,duplex:"half"}),R;if(it.isFormData(r)&&(R=F.headers.get("content-type"))&&h.setContentType(R),F.body){const[k,M]=C4(A,Zx(E4(c)));r=k4(F.body,N4,k,M)}}it.isString(g)||(g=g?"include":"omit");const w="credentials"in Request.prototype;x=new Request(n,{...b,signal:m,method:t.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:w?g:void 0});let C=await fetch(x,b);const N=YS&&(d==="stream"||d==="response");if(YS&&(l||N&&y)){const F={};["status","statusText","headers"].forEach(q=>{F[q]=C[q]});const R=it.toFiniteNumber(C.headers.get("content-length")),[k,M]=l&&C4(R,Zx(E4(l),!0))||[];C=new Response(k4(C.body,N4,k,()=>{M&&M(),y&&y()}),F)}d=d||"text";let P=await Jx[it.findKey(Jx,d)||"text"](C,e);return!N&&y&&y(),await new Promise((F,R)=>{UI(F,R,{data:P,headers:xo.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:x})})}catch(w){throw y&&y(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new Cn("Network Error",Cn.ERR_NETWORK,e,x),{cause:w.cause||w}):Cn.from(w,w&&w.code,e,x)}}),GS={http:$Z,xhr:xJ,fetch:NJ};it.forEach(GS,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const j4=e=>`- ${e}`,jJ=e=>it.isFunction(e)||e===null||e===!1,YI={getAdapter:e=>{e=it.isArray(e)?e:[e];const{length:n}=e;let t,r;const i={};for(let a=0;a<n;a++){t=e[a];let s;if(r=t,!jJ(t)&&(r=GS[(s=String(t)).toLowerCase()],r===void 0))throw new Cn(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){const a=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=n?a.length>1?`since :
`+a.map(j4).join(`
`):" "+j4(a[0]):"as no adapter specified";throw new Cn("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:GS};function xw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new pm(null,e)}function T4(e){return xw(e),e.headers=xo.from(e.headers),e.data=yw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),YI.getAdapter(e.adapter||ab.adapter)(e).then(function(r){return xw(e),r.data=yw.call(e,e.transformResponse,r),r.headers=xo.from(r.headers),r},function(r){return BI(r)||(xw(e),r&&r.response&&(r.response.data=yw.call(e,e.transformResponse,r.response),r.response.headers=xo.from(r.response.headers))),Promise.reject(r)})}const GI="1.10.0",zv={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{zv[e]=function(r){return typeof r===e||"a"+(n<1?"n ":" ")+e}});const O4={};zv.transitional=function(n,t,r){function i(a,s){return"[Axios v"+GI+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,l)=>{if(n===!1)throw new Cn(i(s," has been removed"+(t?" in "+t:"")),Cn.ERR_DEPRECATED);return t&&!O4[s]&&(O4[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),n?n(a,s,l):!0}};zv.spelling=function(n){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${n}`),!0)};function TJ(e,n,t){if(typeof e!="object")throw new Cn("options must be an object",Cn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=n[a];if(s){const l=e[a],c=l===void 0||s(l,a,e);if(c!==!0)throw new Cn("option "+a+" must be "+c,Cn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Cn("Unknown option "+a,Cn.ERR_BAD_OPTION)}}const gx={assertOptions:TJ,validators:zv},hc=gx.validators;let ip=class{constructor(n){this.defaults=n||{},this.interceptors={request:new S4,response:new S4}}async request(n,t){try{return await this._request(n,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=pp(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&gx.assertOptions(r,{silentJSONParsing:hc.transitional(hc.boolean),forcedJSONParsing:hc.transitional(hc.boolean),clarifyTimeoutError:hc.transitional(hc.boolean)},!1),i!=null&&(it.isFunction(i)?t.paramsSerializer={serialize:i}:gx.assertOptions(i,{encode:hc.function,serialize:hc.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),gx.assertOptions(t,{baseUrl:hc.spelling("baseURL"),withXsrfToken:hc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&it.merge(a.common,a[t.method]);a&&it.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),t.headers=xo.concat(s,a);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(t)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const d=[];this.interceptors.response.forEach(function(y){d.push(y.fulfilled,y.rejected)});let h,g=0,b;if(!c){const x=[T4.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,d),b=x.length,h=Promise.resolve(t);g<b;)h=h.then(x[g++],x[g++]);return h}b=l.length;let m=t;for(g=0;g<b;){const x=l[g++],y=l[g++];try{m=x(m)}catch(A){y.call(this,A);break}}try{h=T4.call(this,m)}catch(x){return Promise.reject(x)}for(g=0,b=d.length;g<b;)h=h.then(d[g++],d[g++]);return h}getUri(n){n=pp(this.defaults,n);const t=$I(n.baseURL,n.url,n.allowAbsoluteUrls);return FI(t,n.params,n.paramsSerializer)}};it.forEach(["delete","get","head","options"],function(n){ip.prototype[n]=function(t,r){return this.request(pp(r||{},{method:n,url:t,data:(r||{}).data}))}});it.forEach(["post","put","patch"],function(n){function t(r){return function(a,s,l){return this.request(pp(l||{},{method:n,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}ip.prototype[n]=t(),ip.prototype[n+"Form"]=t(!0)});let OJ=class QI{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(l=>{r.subscribe(l),a=l}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},n(function(a,s,l){r.reason||(r.reason=new pm(a,s,l),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const n=new AbortController,t=r=>{n.abort(r)};return this.subscribe(t),n.signal.unsubscribe=()=>this.unsubscribe(t),n.signal}static source(){let n;return{token:new QI(function(i){n=i}),cancel:n}}};function IJ(e){return function(t){return e.apply(null,t)}}function DJ(e){return it.isObject(e)&&e.isAxiosError===!0}const QS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(QS).forEach(([e,n])=>{QS[n]=e});function KI(e){const n=new ip(e),t=_I(ip.prototype.request,n);return it.extend(t,ip.prototype,n,{allOwnKeys:!0}),it.extend(t,n,null,{allOwnKeys:!0}),t.create=function(i){return KI(pp(e,i))},t}const ga=KI(ab);ga.Axios=ip;ga.CanceledError=pm;ga.CancelToken=OJ;ga.isCancel=BI;ga.VERSION=GI;ga.toFormData=Pv;ga.AxiosError=Cn;ga.Cancel=ga.CanceledError;ga.all=function(n){return Promise.all(n)};ga.spread=IJ;ga.isAxiosError=DJ;ga.mergeConfig=pp;ga.AxiosHeaders=xo;ga.formToJSON=e=>qI(it.isHTMLForm(e)?new FormData(e):e);ga.getAdapter=YI.getAdapter;ga.HttpStatusCode=QS;ga.default=ga;const{Axios:Yhe,AxiosError:Ghe,CanceledError:Qhe,isCancel:Khe,CancelToken:Xhe,VERSION:Zhe,all:Jhe,Cancel:epe,isAxiosError:tpe,spread:npe,toFormData:rpe,AxiosHeaders:ipe,HttpStatusCode:ape,formToJSON:spe,getAdapter:ope,mergeConfig:lpe}=ga;function Hy(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var vw={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var I4;function LJ(){return I4||(I4=1,function(e,n){(function(t){e.exports=t()})(function(){return function t(r,i,a){function s(d,h){if(!i[d]){if(!r[d]){var g=typeof Hy=="function"&&Hy;if(!h&&g)return g(d,!0);if(l)return l(d,!0);var b=new Error("Cannot find module '"+d+"'");throw b.code="MODULE_NOT_FOUND",b}var m=i[d]={exports:{}};r[d][0].call(m.exports,function(x){var y=r[d][1][x];return s(y||x)},m,m.exports,t,r,i,a)}return i[d].exports}for(var l=typeof Hy=="function"&&Hy,c=0;c<a.length;c++)s(a[c]);return s}({1:[function(t,r,i){var a=t("./utils"),s=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var d,h,g,b,m,x,y,A=[],w=0,C=c.length,N=C,P=a.getTypeOf(c)!=="string";w<c.length;)N=C-w,g=P?(d=c[w++],h=w<C?c[w++]:0,w<C?c[w++]:0):(d=c.charCodeAt(w++),h=w<C?c.charCodeAt(w++):0,w<C?c.charCodeAt(w++):0),b=d>>2,m=(3&d)<<4|h>>4,x=1<N?(15&h)<<2|g>>6:64,y=2<N?63&g:64,A.push(l.charAt(b)+l.charAt(m)+l.charAt(x)+l.charAt(y));return A.join("")},i.decode=function(c){var d,h,g,b,m,x,y=0,A=0,w="data:";if(c.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var C,N=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&N--,c.charAt(c.length-2)===l.charAt(64)&&N--,N%1!=0)throw new Error("Invalid base64 input, bad content length.");for(C=s.uint8array?new Uint8Array(0|N):new Array(0|N);y<c.length;)d=l.indexOf(c.charAt(y++))<<2|(b=l.indexOf(c.charAt(y++)))>>4,h=(15&b)<<4|(m=l.indexOf(c.charAt(y++)))>>2,g=(3&m)<<6|(x=l.indexOf(c.charAt(y++))),C[A++]=d,m!==64&&(C[A++]=h),x!==64&&(C[A++]=g);return C}},{"./support":30,"./utils":32}],2:[function(t,r,i){var a=t("./external"),s=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),c=t("./stream/DataLengthProbe");function d(h,g,b,m,x){this.compressedSize=h,this.uncompressedSize=g,this.crc32=b,this.compression=m,this.compressedContent=x}d.prototype={getContentWorker:function(){var h=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),g=this;return h.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(h,g,b){return h.pipe(new l).pipe(new c("uncompressedSize")).pipe(g.compressWorker(b)).pipe(new c("compressedSize")).withStreamInfo("compression",g)},r.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var a=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var a=t("./utils"),s=function(){for(var l,c=[],d=0;d<256;d++){l=d;for(var h=0;h<8;h++)l=1&l?3988292384^l>>>1:l>>>1;c[d]=l}return c}();r.exports=function(l,c){return l!==void 0&&l.length?a.getTypeOf(l)!=="string"?function(d,h,g,b){var m=s,x=b+g;d^=-1;for(var y=b;y<x;y++)d=d>>>8^m[255&(d^h[y])];return-1^d}(0|c,l,l.length,0):function(d,h,g,b){var m=s,x=b+g;d^=-1;for(var y=b;y<x;y++)d=d>>>8^m[255&(d^h.charCodeAt(y))];return-1^d}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var a=null;a=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:a}},{lie:37}],7:[function(t,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=t("pako"),l=t("./utils"),c=t("./stream/GenericWorker"),d=a?"uint8array":"array";function h(g,b){c.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=b,this.meta={}}i.magic="\b\0",l.inherits(h,c),h.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(d,g.data),!1)},h.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(b){g.push({data:b,meta:g.meta})}},i.compressWorker=function(g){return new h("Deflate",g)},i.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function a(m,x){var y,A="";for(y=0;y<x;y++)A+=String.fromCharCode(255&m),m>>>=8;return A}function s(m,x,y,A,w,C){var N,P,F=m.file,R=m.compression,k=C!==d.utf8encode,M=l.transformTo("string",C(F.name)),q=l.transformTo("string",d.utf8encode(F.name)),Q=F.comment,T=l.transformTo("string",C(Q)),O=l.transformTo("string",d.utf8encode(Q)),L=q.length!==F.name.length,j=O.length!==Q.length,X="",H="",G="",ee=F.dir,le=F.date,Y={crc32:0,compressedSize:0,uncompressedSize:0};x&&!y||(Y.crc32=m.crc32,Y.compressedSize=m.compressedSize,Y.uncompressedSize=m.uncompressedSize);var te=0;x&&(te|=8),k||!L&&!j||(te|=2048);var U=0,B=0;ee&&(U|=16),w==="UNIX"?(B=798,U|=function(Z,ne){var ve=Z;return Z||(ve=ne?16893:33204),(65535&ve)<<16}(F.unixPermissions,ee)):(B=20,U|=function(Z){return 63&(Z||0)}(F.dosPermissions)),N=le.getUTCHours(),N<<=6,N|=le.getUTCMinutes(),N<<=5,N|=le.getUTCSeconds()/2,P=le.getUTCFullYear()-1980,P<<=4,P|=le.getUTCMonth()+1,P<<=5,P|=le.getUTCDate(),L&&(H=a(1,1)+a(h(M),4)+q,X+="up"+a(H.length,2)+H),j&&(G=a(1,1)+a(h(T),4)+O,X+="uc"+a(G.length,2)+G);var re="";return re+=`
\0`,re+=a(te,2),re+=R.magic,re+=a(N,2),re+=a(P,2),re+=a(Y.crc32,4),re+=a(Y.compressedSize,4),re+=a(Y.uncompressedSize,4),re+=a(M.length,2),re+=a(X.length,2),{fileRecord:g.LOCAL_FILE_HEADER+re+M+X,dirRecord:g.CENTRAL_FILE_HEADER+a(B,2)+re+a(T.length,2)+"\0\0\0\0"+a(U,4)+a(A,4)+M+X+T}}var l=t("../utils"),c=t("../stream/GenericWorker"),d=t("../utf8"),h=t("../crc32"),g=t("../signature");function b(m,x,y,A){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=y,this.encodeFileName=A,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(b,c),b.prototype.push=function(m){var x=m.meta.percent||0,y=this.entriesCount,A=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,c.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:y?(x+100*(y-A-1))/y:100}}))},b.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var x=this.streamFiles&&!m.file.dir;if(x){var y=s(m,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(m){this.accumulate=!1;var x=this.streamFiles&&!m.file.dir,y=s(m,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),x)this.push({data:function(A){return g.DATA_DESCRIPTOR+a(A.crc32,4)+a(A.compressedSize,4)+a(A.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var m=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var y=this.bytesWritten-m,A=function(w,C,N,P,F){var R=l.transformTo("string",F(P));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(w,2)+a(w,2)+a(C,4)+a(N,4)+a(R.length,2)+R}(this.dirRecords.length,y,m,this.zipComment,this.encodeFileName);this.push({data:A,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(m){this._sources.push(m);var x=this;return m.on("data",function(y){x.processChunk(y)}),m.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),m.on("error",function(y){x.error(y)}),this},b.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(m){var x=this._sources;if(!c.prototype.error.call(this,m))return!1;for(var y=0;y<x.length;y++)try{x[y].error(m)}catch{}return!0},b.prototype.lock=function(){c.prototype.lock.call(this);for(var m=this._sources,x=0;x<m.length;x++)m[x].lock()},r.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var a=t("../compressions"),s=t("./ZipFileWorker");i.generateWorker=function(l,c,d){var h=new s(c.streamFiles,d,c.platform,c.encodeFileName),g=0;try{l.forEach(function(b,m){g++;var x=function(C,N){var P=C||N,F=a[P];if(!F)throw new Error(P+" is not a valid compression method !");return F}(m.options.compression,c.compression),y=m.options.compressionOptions||c.compressionOptions||{},A=m.dir,w=m.date;m._compressWorker(x,y).withStreamInfo("file",{name:b,dir:A,date:w,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(h)}),h.entriesCount=g}catch(b){h.error(b)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var l in this)typeof this[l]!="function"&&(s[l]=this[l]);return s}}(a.prototype=t("./object")).loadAsync=t("./load"),a.support=t("./support"),a.defaults=t("./defaults"),a.version="3.10.1",a.loadAsync=function(s,l){return new a().loadAsync(s,l)},a.external=t("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var a=t("./utils"),s=t("./external"),l=t("./utf8"),c=t("./zipEntries"),d=t("./stream/Crc32Probe"),h=t("./nodejsUtils");function g(b){return new s.Promise(function(m,x){var y=b.decompressed.getContentWorker().pipe(new d);y.on("error",function(A){x(A)}).on("end",function(){y.streamInfo.crc32!==b.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(b,m){var x=this;return m=a.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),h.isNode&&h.isStream(b)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",b,!0,m.optimizedBinaryString,m.base64).then(function(y){var A=new c(m);return A.load(y),A}).then(function(y){var A=[s.Promise.resolve(y)],w=y.files;if(m.checkCRC32)for(var C=0;C<w.length;C++)A.push(g(w[C]));return s.Promise.all(A)}).then(function(y){for(var A=y.shift(),w=A.files,C=0;C<w.length;C++){var N=w[C],P=N.fileNameStr,F=a.resolve(N.fileNameStr);x.file(F,N.decompressed,{binary:!0,optimizedBinaryString:!0,date:N.date,dir:N.dir,comment:N.fileCommentStr.length?N.fileCommentStr:null,unixPermissions:N.unixPermissions,dosPermissions:N.dosPermissions,createFolders:m.createFolders}),N.dir||(x.file(F).unsafeOriginalName=P)}return A.zipComment.length&&(x.comment=A.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var a=t("../utils"),s=t("../stream/GenericWorker");function l(c,d){s.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(d)}a.inherits(l,s),l.prototype._bindStream=function(c){var d=this;(this._stream=c).pause(),c.on("data",function(h){d.push({data:h,meta:{percent:0}})}).on("error",function(h){d.isPaused?this.generatedError=h:d.error(h)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},l.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var a=t("readable-stream").Readable;function s(l,c,d){a.call(this,c),this._helper=l;var h=this;l.on("data",function(g,b){h.push(g)||h._helper.pause(),d&&d(b)}).on("error",function(g){h.emit("error",g)}).on("end",function(){h.push(null)})}t("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(t,r,i){function a(F,R,k){var M,q=l.getTypeOf(R),Q=l.extend(k||{},h);Q.date=Q.date||new Date,Q.compression!==null&&(Q.compression=Q.compression.toUpperCase()),typeof Q.unixPermissions=="string"&&(Q.unixPermissions=parseInt(Q.unixPermissions,8)),Q.unixPermissions&&16384&Q.unixPermissions&&(Q.dir=!0),Q.dosPermissions&&16&Q.dosPermissions&&(Q.dir=!0),Q.dir&&(F=w(F)),Q.createFolders&&(M=A(F))&&C.call(this,M,!0);var T=q==="string"&&Q.binary===!1&&Q.base64===!1;k&&k.binary!==void 0||(Q.binary=!T),(R instanceof g&&R.uncompressedSize===0||Q.dir||!R||R.length===0)&&(Q.base64=!1,Q.binary=!0,R="",Q.compression="STORE",q="string");var O=null;O=R instanceof g||R instanceof c?R:x.isNode&&x.isStream(R)?new y(F,R):l.prepareContent(F,R,Q.binary,Q.optimizedBinaryString,Q.base64);var L=new b(F,O,Q);this.files[F]=L}var s=t("./utf8"),l=t("./utils"),c=t("./stream/GenericWorker"),d=t("./stream/StreamHelper"),h=t("./defaults"),g=t("./compressedObject"),b=t("./zipObject"),m=t("./generate"),x=t("./nodejsUtils"),y=t("./nodejs/NodejsStreamInputAdapter"),A=function(F){F.slice(-1)==="/"&&(F=F.substring(0,F.length-1));var R=F.lastIndexOf("/");return 0<R?F.substring(0,R):""},w=function(F){return F.slice(-1)!=="/"&&(F+="/"),F},C=function(F,R){return R=R!==void 0?R:h.createFolders,F=w(F),this.files[F]||a.call(this,F,null,{dir:!0,createFolders:R}),this.files[F]};function N(F){return Object.prototype.toString.call(F)==="[object RegExp]"}var P={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(F){var R,k,M;for(R in this.files)M=this.files[R],(k=R.slice(this.root.length,R.length))&&R.slice(0,this.root.length)===this.root&&F(k,M)},filter:function(F){var R=[];return this.forEach(function(k,M){F(k,M)&&R.push(M)}),R},file:function(F,R,k){if(arguments.length!==1)return F=this.root+F,a.call(this,F,R,k),this;if(N(F)){var M=F;return this.filter(function(Q,T){return!T.dir&&M.test(Q)})}var q=this.files[this.root+F];return q&&!q.dir?q:null},folder:function(F){if(!F)return this;if(N(F))return this.filter(function(q,Q){return Q.dir&&F.test(q)});var R=this.root+F,k=C.call(this,R),M=this.clone();return M.root=k.name,M},remove:function(F){F=this.root+F;var R=this.files[F];if(R||(F.slice(-1)!=="/"&&(F+="/"),R=this.files[F]),R&&!R.dir)delete this.files[F];else for(var k=this.filter(function(q,Q){return Q.name.slice(0,F.length)===F}),M=0;M<k.length;M++)delete this.files[k[M].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(F){var R,k={};try{if((k=l.extend(F||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),k.type==="binarystring"&&(k.type="string"),!k.type)throw new Error("No output type specified.");l.checkSupport(k.type),k.platform!=="darwin"&&k.platform!=="freebsd"&&k.platform!=="linux"&&k.platform!=="sunos"||(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var M=k.comment||this.comment||"";R=m.generateWorker(this,k,M)}catch(q){(R=new c("error")).error(q)}return new d(R,k.type||"string",k.mimeType)},generateAsync:function(F,R){return this.generateInternalStream(F).accumulate(R)},generateNodeStream:function(F,R){return(F=F||{}).type||(F.type="nodebuffer"),this.generateInternalStream(F).toNodejsStream(R)}};r.exports=P},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var a=t("./DataReader");function s(l){a.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}t("../utils").inherits(s,a),s.prototype.byteAt=function(l){return this.data[this.zero+l]},s.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),d=l.charCodeAt(1),h=l.charCodeAt(2),g=l.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===c&&this.data[b+1]===d&&this.data[b+2]===h&&this.data[b+3]===g)return b-this.zero;return-1},s.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),d=l.charCodeAt(1),h=l.charCodeAt(2),g=l.charCodeAt(3),b=this.readData(4);return c===b[0]&&d===b[1]&&h===b[2]&&g===b[3]},s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var a=t("../utils");function s(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,d=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)d=(d<<8)+this.byteAt(c);return this.index+=l,d},readString:function(l){return a.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=s},{"../utils":32}],19:[function(t,r,i){var a=t("./Uint8ArrayReader");function s(l){a.call(this,l)}t("../utils").inherits(s,a),s.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var a=t("./DataReader");function s(l){a.call(this,l)}t("../utils").inherits(s,a),s.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},s.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},s.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},s.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var a=t("./ArrayReader");function s(l){a.call(this,l)}t("../utils").inherits(s,a),s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var a=t("../utils"),s=t("../support"),l=t("./ArrayReader"),c=t("./StringReader"),d=t("./NodeBufferReader"),h=t("./Uint8ArrayReader");r.exports=function(g){var b=a.getTypeOf(g);return a.checkSupport(b),b!=="string"||s.uint8array?b==="nodebuffer"?new d(g):s.uint8array?new h(a.transformTo("uint8array",g)):new l(a.transformTo("array",g)):new c(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var a=t("./GenericWorker"),s=t("../utils");function l(c){a.call(this,"ConvertWorker to "+c),this.destType=c}s.inherits(l,a),l.prototype.processChunk=function(c){this.push({data:s.transformTo(this.destType,c.data),meta:c.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var a=t("./GenericWorker"),s=t("../crc32");function l(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,a),l.prototype.processChunk=function(c){this.streamInfo.crc32=s(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var a=t("../utils"),s=t("./GenericWorker");function l(c){s.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}a.inherits(l,s),l.prototype.processChunk=function(c){if(c){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+c.data.length}s.prototype.processChunk.call(this,c)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var a=t("../utils"),s=t("./GenericWorker");function l(c){s.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(h){d.dataIsReady=!0,d.data=h,d.max=h&&h.length||0,d.type=a.getTypeOf(h),d.isPaused||d._tickAndRepeat()},function(h){d.error(h)})}a.inherits(l,s),l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,d);break;case"uint8array":c=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":c=this.data.slice(this.index,d)}return this.index=d,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,l){return this._listeners[s].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,l){if(this._listeners[s])for(var c=0;c<this._listeners[s].length;c++)this._listeners[s][c].call(this,l)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var l=this;return s.on("data",function(c){l.processChunk(c)}),s.on("end",function(){l.end()}),s.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,l){return this.extraStreamInfo[s]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(t,r,i){var a=t("../utils"),s=t("./ConvertWorker"),l=t("./GenericWorker"),c=t("../base64"),d=t("../support"),h=t("../external"),g=null;if(d.nodestream)try{g=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(x,y){return new h.Promise(function(A,w){var C=[],N=x._internalType,P=x._outputType,F=x._mimeType;x.on("data",function(R,k){C.push(R),y&&y(k)}).on("error",function(R){C=[],w(R)}).on("end",function(){try{var R=function(k,M,q){switch(k){case"blob":return a.newBlob(a.transformTo("arraybuffer",M),q);case"base64":return c.encode(M);default:return a.transformTo(k,M)}}(P,function(k,M){var q,Q=0,T=null,O=0;for(q=0;q<M.length;q++)O+=M[q].length;switch(k){case"string":return M.join("");case"array":return Array.prototype.concat.apply([],M);case"uint8array":for(T=new Uint8Array(O),q=0;q<M.length;q++)T.set(M[q],Q),Q+=M[q].length;return T;case"nodebuffer":return Buffer.concat(M);default:throw new Error("concat : unsupported type '"+k+"'")}}(N,C),F);A(R)}catch(k){w(k)}C=[]}).resume()})}function m(x,y,A){var w=y;switch(y){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=y,this._mimeType=A,a.checkSupport(w),this._worker=x.pipe(new s(w)),x.lock()}catch(C){this._worker=new l("error"),this._worker.error(C)}}m.prototype={accumulate:function(x){return b(this,x)},on:function(x,y){var A=this;return x==="data"?this._worker.on(x,function(w){y.call(A,w.data,w.meta)}):this._worker.on(x,function(){a.delay(y,arguments,A)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},x)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var a=t("./utils"),s=t("./support"),l=t("./nodejsUtils"),c=t("./stream/GenericWorker"),d=new Array(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;d[254]=d[254]=1;function g(){c.call(this,"utf-8 decode"),this.leftOver=null}function b(){c.call(this,"utf-8 encode")}i.utf8encode=function(m){return s.nodebuffer?l.newBufferFrom(m,"utf-8"):function(x){var y,A,w,C,N,P=x.length,F=0;for(C=0;C<P;C++)(64512&(A=x.charCodeAt(C)))==55296&&C+1<P&&(64512&(w=x.charCodeAt(C+1)))==56320&&(A=65536+(A-55296<<10)+(w-56320),C++),F+=A<128?1:A<2048?2:A<65536?3:4;for(y=s.uint8array?new Uint8Array(F):new Array(F),C=N=0;N<F;C++)(64512&(A=x.charCodeAt(C)))==55296&&C+1<P&&(64512&(w=x.charCodeAt(C+1)))==56320&&(A=65536+(A-55296<<10)+(w-56320),C++),A<128?y[N++]=A:(A<2048?y[N++]=192|A>>>6:(A<65536?y[N++]=224|A>>>12:(y[N++]=240|A>>>18,y[N++]=128|A>>>12&63),y[N++]=128|A>>>6&63),y[N++]=128|63&A);return y}(m)},i.utf8decode=function(m){return s.nodebuffer?a.transformTo("nodebuffer",m).toString("utf-8"):function(x){var y,A,w,C,N=x.length,P=new Array(2*N);for(y=A=0;y<N;)if((w=x[y++])<128)P[A++]=w;else if(4<(C=d[w]))P[A++]=65533,y+=C-1;else{for(w&=C===2?31:C===3?15:7;1<C&&y<N;)w=w<<6|63&x[y++],C--;1<C?P[A++]=65533:w<65536?P[A++]=w:(w-=65536,P[A++]=55296|w>>10&1023,P[A++]=56320|1023&w)}return P.length!==A&&(P.subarray?P=P.subarray(0,A):P.length=A),a.applyFromCharCode(P)}(m=a.transformTo(s.uint8array?"uint8array":"array",m))},a.inherits(g,c),g.prototype.processChunk=function(m){var x=a.transformTo(s.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var y=x;(x=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),x.set(y,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var A=function(C,N){var P;for((N=N||C.length)>C.length&&(N=C.length),P=N-1;0<=P&&(192&C[P])==128;)P--;return P<0||P===0?N:P+d[C[P]]>N?P:N}(x),w=x;A!==x.length&&(s.uint8array?(w=x.subarray(0,A),this.leftOver=x.subarray(A,x.length)):(w=x.slice(0,A),this.leftOver=x.slice(A,x.length))),this.push({data:i.utf8decode(w),meta:m.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=g,a.inherits(b,c),b.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var a=t("./support"),s=t("./base64"),l=t("./nodejsUtils"),c=t("./external");function d(y){return y}function h(y,A){for(var w=0;w<y.length;++w)A[w]=255&y.charCodeAt(w);return A}t("setimmediate"),i.newBlob=function(y,A){i.checkSupport("blob");try{return new Blob([y],{type:A})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(y),w.getBlob(A)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(y,A,w){var C=[],N=0,P=y.length;if(P<=w)return String.fromCharCode.apply(null,y);for(;N<P;)A==="array"||A==="nodebuffer"?C.push(String.fromCharCode.apply(null,y.slice(N,Math.min(N+w,P)))):C.push(String.fromCharCode.apply(null,y.subarray(N,Math.min(N+w,P)))),N+=w;return C.join("")},stringifyByChar:function(y){for(var A="",w=0;w<y.length;w++)A+=String.fromCharCode(y[w]);return A},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function b(y){var A=65536,w=i.getTypeOf(y),C=!0;if(w==="uint8array"?C=g.applyCanBeUsed.uint8array:w==="nodebuffer"&&(C=g.applyCanBeUsed.nodebuffer),C)for(;1<A;)try{return g.stringifyByChunk(y,w,A)}catch{A=Math.floor(A/2)}return g.stringifyByChar(y)}function m(y,A){for(var w=0;w<y.length;w++)A[w]=y[w];return A}i.applyFromCharCode=b;var x={};x.string={string:d,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return x.string.uint8array(y).buffer},uint8array:function(y){return h(y,new Uint8Array(y.length))},nodebuffer:function(y){return h(y,l.allocBuffer(y.length))}},x.array={string:b,array:d,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(y)}},x.arraybuffer={string:function(y){return b(new Uint8Array(y))},array:function(y){return m(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:d,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(new Uint8Array(y))}},x.uint8array={string:b,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:d,nodebuffer:function(y){return l.newBufferFrom(y)}},x.nodebuffer={string:b,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return x.nodebuffer.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:d},i.transformTo=function(y,A){if(A=A||"",!y)return A;i.checkSupport(y);var w=i.getTypeOf(A);return x[w][y](A)},i.resolve=function(y){for(var A=y.split("/"),w=[],C=0;C<A.length;C++){var N=A[C];N==="."||N===""&&C!==0&&C!==A.length-1||(N===".."?w.pop():w.push(N))}return w.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":a.nodebuffer&&l.isBuffer(y)?"nodebuffer":a.uint8array&&y instanceof Uint8Array?"uint8array":a.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!a[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var A,w,C="";for(w=0;w<(y||"").length;w++)C+="\\x"+((A=y.charCodeAt(w))<16?"0":"")+A.toString(16).toUpperCase();return C},i.delay=function(y,A,w){setImmediate(function(){y.apply(w||null,A||[])})},i.inherits=function(y,A){function w(){}w.prototype=A.prototype,y.prototype=new w},i.extend=function(){var y,A,w={};for(y=0;y<arguments.length;y++)for(A in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],A)&&w[A]===void 0&&(w[A]=arguments[y][A]);return w},i.prepareContent=function(y,A,w,C,N){return c.Promise.resolve(A).then(function(P){return a.blob&&(P instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(P))!==-1)&&typeof FileReader<"u"?new c.Promise(function(F,R){var k=new FileReader;k.onload=function(M){F(M.target.result)},k.onerror=function(M){R(M.target.error)},k.readAsArrayBuffer(P)}):P}).then(function(P){var F=i.getTypeOf(P);return F?(F==="arraybuffer"?P=i.transformTo("uint8array",P):F==="string"&&(N?P=s.decode(P):w&&C!==!0&&(P=function(R){return h(R,a.uint8array?new Uint8Array(R.length):new Array(R.length))}(P))),P):c.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var a=t("./reader/readerFor"),s=t("./utils"),l=t("./signature"),c=t("./zipEntry"),d=t("./support");function h(g){this.files=[],this.loadOptions=g}h.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(b)+", expected "+s.pretty(g)+")")}},isSignature:function(g,b){var m=this.reader.index;this.reader.setIndex(g);var x=this.reader.readString(4)===b;return this.reader.setIndex(m),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),b=d.uint8array?"uint8array":"array",m=s.transformTo(b,g);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,b,m,x=this.zip64EndOfCentralSize-44;0<x;)g=this.reader.readInt(2),b=this.reader.readInt(4),m=this.reader.readData(b),this.zip64ExtensibleData[g]={id:g,length:b,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,b;for(g=0;g<this.files.length;g++)b=this.files[g],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(g=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var b=g;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var x=b-m;if(0<x)this.isSignature(b,l.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(g){this.reader=a(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var a=t("./reader/readerFor"),s=t("./utils"),l=t("./compressedObject"),c=t("./crc32"),d=t("./utf8"),h=t("./compressions"),g=t("./support");function b(m,x){this.options=m,this.loadOptions=x}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var x,y;if(m.skip(22),this.fileNameLength=m.readInt(2),y=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(A){for(var w in h)if(Object.prototype.hasOwnProperty.call(h,w)&&h[w].magic===A)return h[w];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,x,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var x=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(x),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var x,y,A,w=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<w;)x=m.readInt(2),y=m.readInt(2),A=m.readData(y),this.extraFields[x]={id:x,length:y,value:A};m.setIndex(w)},handleUTF8:function(){var m=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var y=s.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var A=this.findExtraFieldUnicodeComment();if(A!==null)this.fileCommentStr=A;else{var w=s.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var x=a(m.value);return x.readInt(1)!==1||c(this.fileName)!==x.readInt(4)?null:d.utf8decode(x.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var x=a(m.value);return x.readInt(1)!==1||c(this.fileComment)!==x.readInt(4)?null:d.utf8decode(x.readData(m.length-5))}return null}},r.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function a(x,y,A){this.name=x,this.dir=A.dir,this.date=A.date,this.comment=A.comment,this.unixPermissions=A.unixPermissions,this.dosPermissions=A.dosPermissions,this._data=y,this._dataBinary=A.binary,this.options={compression:A.compression,compressionOptions:A.compressionOptions}}var s=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),c=t("./utf8"),d=t("./compressedObject"),h=t("./stream/GenericWorker");a.prototype={internalStream:function(x){var y=null,A="string";try{if(!x)throw new Error("No output type specified.");var w=(A=x.toLowerCase())==="string"||A==="text";A!=="binarystring"&&A!=="text"||(A="string"),y=this._decompressWorker();var C=!this._dataBinary;C&&!w&&(y=y.pipe(new c.Utf8EncodeWorker)),!C&&w&&(y=y.pipe(new c.Utf8DecodeWorker))}catch(N){(y=new h("error")).error(N)}return new s(y,A,"")},async:function(x,y){return this.internalStream(x).accumulate(y)},nodeStream:function(x,y){return this.internalStream(x||"nodebuffer").toNodejsStream(y)},_compressWorker:function(x,y){if(this._data instanceof d&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var A=this._decompressWorker();return this._dataBinary||(A=A.pipe(new c.Utf8EncodeWorker)),d.createWorkerFrom(A,x,y)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof h?this._data:new l(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<g.length;m++)a.prototype[g[m]]=b;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(a){var s,l,c=a.MutationObserver||a.WebKitMutationObserver;if(c){var d=0,h=new c(x),g=a.document.createTextNode("");h.observe(g,{characterData:!0}),s=function(){g.data=d=++d%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var y=a.document.createElement("script");y.onreadystatechange=function(){x(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},a.document.documentElement.appendChild(y)}:function(){setTimeout(x,0)};else{var b=new a.MessageChannel;b.port1.onmessage=x,s=function(){b.port2.postMessage(0)}}var m=[];function x(){var y,A;l=!0;for(var w=m.length;w;){for(A=m,m=[],y=-1;++y<w;)A[y]();w=m.length}l=!1}r.exports=function(y){m.push(y)!==1||l||s()}}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var a=t("immediate");function s(){}var l={},c=["REJECTED"],d=["FULFILLED"],h=["PENDING"];function g(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,w!==s&&y(this,w)}function b(w,C,N){this.promise=w,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}function m(w,C,N){a(function(){var P;try{P=C(N)}catch(F){return l.reject(w,F)}P===w?l.reject(w,new TypeError("Cannot resolve promise with itself")):l.resolve(w,P)})}function x(w){var C=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof C=="function")return function(){C.apply(w,arguments)}}function y(w,C){var N=!1;function P(k){N||(N=!0,l.reject(w,k))}function F(k){N||(N=!0,l.resolve(w,k))}var R=A(function(){C(F,P)});R.status==="error"&&P(R.value)}function A(w,C){var N={};try{N.value=w(C),N.status="success"}catch(P){N.status="error",N.value=P}return N}(r.exports=g).prototype.finally=function(w){if(typeof w!="function")return this;var C=this.constructor;return this.then(function(N){return C.resolve(w()).then(function(){return N})},function(N){return C.resolve(w()).then(function(){throw N})})},g.prototype.catch=function(w){return this.then(null,w)},g.prototype.then=function(w,C){if(typeof w!="function"&&this.state===d||typeof C!="function"&&this.state===c)return this;var N=new this.constructor(s);return this.state!==h?m(N,this.state===d?w:C,this.outcome):this.queue.push(new b(N,w,C)),N},b.prototype.callFulfilled=function(w){l.resolve(this.promise,w)},b.prototype.otherCallFulfilled=function(w){m(this.promise,this.onFulfilled,w)},b.prototype.callRejected=function(w){l.reject(this.promise,w)},b.prototype.otherCallRejected=function(w){m(this.promise,this.onRejected,w)},l.resolve=function(w,C){var N=A(x,C);if(N.status==="error")return l.reject(w,N.value);var P=N.value;if(P)y(w,P);else{w.state=d,w.outcome=C;for(var F=-1,R=w.queue.length;++F<R;)w.queue[F].callFulfilled(C)}return w},l.reject=function(w,C){w.state=c,w.outcome=C;for(var N=-1,P=w.queue.length;++N<P;)w.queue[N].callRejected(C);return w},g.resolve=function(w){return w instanceof this?w:l.resolve(new this(s),w)},g.reject=function(w){var C=new this(s);return l.reject(C,w)},g.all=function(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=w.length,P=!1;if(!N)return this.resolve([]);for(var F=new Array(N),R=0,k=-1,M=new this(s);++k<N;)q(w[k],k);return M;function q(Q,T){C.resolve(Q).then(function(O){F[T]=O,++R!==N||P||(P=!0,l.resolve(M,F))},function(O){P||(P=!0,l.reject(M,O))})}},g.race=function(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=w.length,P=!1;if(!N)return this.resolve([]);for(var F=-1,R=new this(s);++F<N;)k=w[F],C.resolve(k).then(function(M){P||(P=!0,l.resolve(R,M))},function(M){P||(P=!0,l.reject(R,M))});var k;return R}},{immediate:36}],38:[function(t,r,i){var a={};(0,t("./lib/utils/common").assign)(a,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var a=t("./zlib/deflate"),s=t("./utils/common"),l=t("./utils/strings"),c=t("./zlib/messages"),d=t("./zlib/zstream"),h=Object.prototype.toString,g=0,b=-1,m=0,x=8;function y(w){if(!(this instanceof y))return new y(w);this.options=s.assign({level:b,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},w||{});var C=this.options;C.raw&&0<C.windowBits?C.windowBits=-C.windowBits:C.gzip&&0<C.windowBits&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var N=a.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(N!==g)throw new Error(c[N]);if(C.header&&a.deflateSetHeader(this.strm,C.header),C.dictionary){var P;if(P=typeof C.dictionary=="string"?l.string2buf(C.dictionary):h.call(C.dictionary)==="[object ArrayBuffer]"?new Uint8Array(C.dictionary):C.dictionary,(N=a.deflateSetDictionary(this.strm,P))!==g)throw new Error(c[N]);this._dict_set=!0}}function A(w,C){var N=new y(C);if(N.push(w,!0),N.err)throw N.msg||c[N.err];return N.result}y.prototype.push=function(w,C){var N,P,F=this.strm,R=this.options.chunkSize;if(this.ended)return!1;P=C===~~C?C:C===!0?4:0,typeof w=="string"?F.input=l.string2buf(w):h.call(w)==="[object ArrayBuffer]"?F.input=new Uint8Array(w):F.input=w,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new s.Buf8(R),F.next_out=0,F.avail_out=R),(N=a.deflate(F,P))!==1&&N!==g)return this.onEnd(N),!(this.ended=!0);F.avail_out!==0&&(F.avail_in!==0||P!==4&&P!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(s.shrinkBuf(F.output,F.next_out))):this.onData(s.shrinkBuf(F.output,F.next_out)))}while((0<F.avail_in||F.avail_out===0)&&N!==1);return P===4?(N=a.deflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===g):P!==2||(this.onEnd(g),!(F.avail_out=0))},y.prototype.onData=function(w){this.chunks.push(w)},y.prototype.onEnd=function(w){w===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Deflate=y,i.deflate=A,i.deflateRaw=function(w,C){return(C=C||{}).raw=!0,A(w,C)},i.gzip=function(w,C){return(C=C||{}).gzip=!0,A(w,C)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var a=t("./zlib/inflate"),s=t("./utils/common"),l=t("./utils/strings"),c=t("./zlib/constants"),d=t("./zlib/messages"),h=t("./zlib/zstream"),g=t("./zlib/gzheader"),b=Object.prototype.toString;function m(y){if(!(this instanceof m))return new m(y);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},y||{});var A=this.options;A.raw&&0<=A.windowBits&&A.windowBits<16&&(A.windowBits=-A.windowBits,A.windowBits===0&&(A.windowBits=-15)),!(0<=A.windowBits&&A.windowBits<16)||y&&y.windowBits||(A.windowBits+=32),15<A.windowBits&&A.windowBits<48&&(15&A.windowBits)==0&&(A.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var w=a.inflateInit2(this.strm,A.windowBits);if(w!==c.Z_OK)throw new Error(d[w]);this.header=new g,a.inflateGetHeader(this.strm,this.header)}function x(y,A){var w=new m(A);if(w.push(y,!0),w.err)throw w.msg||d[w.err];return w.result}m.prototype.push=function(y,A){var w,C,N,P,F,R,k=this.strm,M=this.options.chunkSize,q=this.options.dictionary,Q=!1;if(this.ended)return!1;C=A===~~A?A:A===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof y=="string"?k.input=l.binstring2buf(y):b.call(y)==="[object ArrayBuffer]"?k.input=new Uint8Array(y):k.input=y,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new s.Buf8(M),k.next_out=0,k.avail_out=M),(w=a.inflate(k,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&q&&(R=typeof q=="string"?l.string2buf(q):b.call(q)==="[object ArrayBuffer]"?new Uint8Array(q):q,w=a.inflateSetDictionary(this.strm,R)),w===c.Z_BUF_ERROR&&Q===!0&&(w=c.Z_OK,Q=!1),w!==c.Z_STREAM_END&&w!==c.Z_OK)return this.onEnd(w),!(this.ended=!0);k.next_out&&(k.avail_out!==0&&w!==c.Z_STREAM_END&&(k.avail_in!==0||C!==c.Z_FINISH&&C!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(N=l.utf8border(k.output,k.next_out),P=k.next_out-N,F=l.buf2string(k.output,N),k.next_out=P,k.avail_out=M-P,P&&s.arraySet(k.output,k.output,N,P,0),this.onData(F)):this.onData(s.shrinkBuf(k.output,k.next_out)))),k.avail_in===0&&k.avail_out===0&&(Q=!0)}while((0<k.avail_in||k.avail_out===0)&&w!==c.Z_STREAM_END);return w===c.Z_STREAM_END&&(C=c.Z_FINISH),C===c.Z_FINISH?(w=a.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===c.Z_OK):C!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(k.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=m,i.inflate=x,i.inflateRaw=function(y,A){return(A=A||{}).raw=!0,x(y,A)},i.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var h=d.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])}}return c},i.shrinkBuf=function(c,d){return c.length===d?c:c.subarray?c.subarray(0,d):(c.length=d,c)};var s={arraySet:function(c,d,h,g,b){if(d.subarray&&c.subarray)c.set(d.subarray(h,h+g),b);else for(var m=0;m<g;m++)c[b+m]=d[h+m]},flattenChunks:function(c){var d,h,g,b,m,x;for(d=g=0,h=c.length;d<h;d++)g+=c[d].length;for(x=new Uint8Array(g),d=b=0,h=c.length;d<h;d++)m=c[d],x.set(m,b),b+=m.length;return x}},l={arraySet:function(c,d,h,g,b){for(var m=0;m<g;m++)c[b+m]=d[h+m]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(a)},{}],42:[function(t,r,i){var a=t("./common"),s=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new a.Buf8(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function h(g,b){if(b<65537&&(g.subarray&&l||!g.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(g,b));for(var m="",x=0;x<b;x++)m+=String.fromCharCode(g[x]);return m}c[254]=c[254]=1,i.string2buf=function(g){var b,m,x,y,A,w=g.length,C=0;for(y=0;y<w;y++)(64512&(m=g.charCodeAt(y)))==55296&&y+1<w&&(64512&(x=g.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(x-56320),y++),C+=m<128?1:m<2048?2:m<65536?3:4;for(b=new a.Buf8(C),y=A=0;A<C;y++)(64512&(m=g.charCodeAt(y)))==55296&&y+1<w&&(64512&(x=g.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(x-56320),y++),m<128?b[A++]=m:(m<2048?b[A++]=192|m>>>6:(m<65536?b[A++]=224|m>>>12:(b[A++]=240|m>>>18,b[A++]=128|m>>>12&63),b[A++]=128|m>>>6&63),b[A++]=128|63&m);return b},i.buf2binstring=function(g){return h(g,g.length)},i.binstring2buf=function(g){for(var b=new a.Buf8(g.length),m=0,x=b.length;m<x;m++)b[m]=g.charCodeAt(m);return b},i.buf2string=function(g,b){var m,x,y,A,w=b||g.length,C=new Array(2*w);for(m=x=0;m<w;)if((y=g[m++])<128)C[x++]=y;else if(4<(A=c[y]))C[x++]=65533,m+=A-1;else{for(y&=A===2?31:A===3?15:7;1<A&&m<w;)y=y<<6|63&g[m++],A--;1<A?C[x++]=65533:y<65536?C[x++]=y:(y-=65536,C[x++]=55296|y>>10&1023,C[x++]=56320|1023&y)}return h(C,x)},i.utf8border=function(g,b){var m;for((b=b||g.length)>g.length&&(b=g.length),m=b-1;0<=m&&(192&g[m])==128;)m--;return m<0||m===0?b:m+c[g[m]]>b?m:b}},{"./common":41}],43:[function(t,r,i){r.exports=function(a,s,l,c){for(var d=65535&a|0,h=a>>>16&65535|0,g=0;l!==0;){for(l-=g=2e3<l?2e3:l;h=h+(d=d+s[c++]|0)|0,--g;);d%=65521,h%=65521}return d|h<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var a=function(){for(var s,l=[],c=0;c<256;c++){s=c;for(var d=0;d<8;d++)s=1&s?3988292384^s>>>1:s>>>1;l[c]=s}return l}();r.exports=function(s,l,c,d){var h=a,g=d+c;s^=-1;for(var b=d;b<g;b++)s=s>>>8^h[255&(s^l[b])];return-1^s}},{}],46:[function(t,r,i){var a,s=t("../utils/common"),l=t("./trees"),c=t("./adler32"),d=t("./crc32"),h=t("./messages"),g=0,b=4,m=0,x=-2,y=-1,A=4,w=2,C=8,N=9,P=286,F=30,R=19,k=2*P+1,M=15,q=3,Q=258,T=Q+q+1,O=42,L=113,j=1,X=2,H=3,G=4;function ee(V,Se){return V.msg=h[Se],Se}function le(V){return(V<<1)-(4<V?9:0)}function Y(V){for(var Se=V.length;0<=--Se;)V[Se]=0}function te(V){var Se=V.state,se=Se.pending;se>V.avail_out&&(se=V.avail_out),se!==0&&(s.arraySet(V.output,Se.pending_buf,Se.pending_out,se,V.next_out),V.next_out+=se,Se.pending_out+=se,V.total_out+=se,V.avail_out-=se,Se.pending-=se,Se.pending===0&&(Se.pending_out=0))}function U(V,Se){l._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,Se),V.block_start=V.strstart,te(V.strm)}function B(V,Se){V.pending_buf[V.pending++]=Se}function re(V,Se){V.pending_buf[V.pending++]=Se>>>8&255,V.pending_buf[V.pending++]=255&Se}function Z(V,Se){var se,he,de=V.max_chain_length,we=V.strstart,Le=V.prev_length,Fe=V.nice_match,_e=V.strstart>V.w_size-T?V.strstart-(V.w_size-T):0,Qe=V.window,st=V.w_mask,nt=V.prev,De=V.strstart+Q,xe=Qe[we+Le-1],ke=Qe[we+Le];V.prev_length>=V.good_match&&(de>>=2),Fe>V.lookahead&&(Fe=V.lookahead);do if(Qe[(se=Se)+Le]===ke&&Qe[se+Le-1]===xe&&Qe[se]===Qe[we]&&Qe[++se]===Qe[we+1]){we+=2,se++;do;while(Qe[++we]===Qe[++se]&&Qe[++we]===Qe[++se]&&Qe[++we]===Qe[++se]&&Qe[++we]===Qe[++se]&&Qe[++we]===Qe[++se]&&Qe[++we]===Qe[++se]&&Qe[++we]===Qe[++se]&&Qe[++we]===Qe[++se]&&we<De);if(he=Q-(De-we),we=De-Q,Le<he){if(V.match_start=Se,Fe<=(Le=he))break;xe=Qe[we+Le-1],ke=Qe[we+Le]}}while((Se=nt[Se&st])>_e&&--de!=0);return Le<=V.lookahead?Le:V.lookahead}function ne(V){var Se,se,he,de,we,Le,Fe,_e,Qe,st,nt=V.w_size;do{if(de=V.window_size-V.lookahead-V.strstart,V.strstart>=nt+(nt-T)){for(s.arraySet(V.window,V.window,nt,nt,0),V.match_start-=nt,V.strstart-=nt,V.block_start-=nt,Se=se=V.hash_size;he=V.head[--Se],V.head[Se]=nt<=he?he-nt:0,--se;);for(Se=se=nt;he=V.prev[--Se],V.prev[Se]=nt<=he?he-nt:0,--se;);de+=nt}if(V.strm.avail_in===0)break;if(Le=V.strm,Fe=V.window,_e=V.strstart+V.lookahead,Qe=de,st=void 0,st=Le.avail_in,Qe<st&&(st=Qe),se=st===0?0:(Le.avail_in-=st,s.arraySet(Fe,Le.input,Le.next_in,st,_e),Le.state.wrap===1?Le.adler=c(Le.adler,Fe,st,_e):Le.state.wrap===2&&(Le.adler=d(Le.adler,Fe,st,_e)),Le.next_in+=st,Le.total_in+=st,st),V.lookahead+=se,V.lookahead+V.insert>=q)for(we=V.strstart-V.insert,V.ins_h=V.window[we],V.ins_h=(V.ins_h<<V.hash_shift^V.window[we+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[we+q-1])&V.hash_mask,V.prev[we&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=we,we++,V.insert--,!(V.lookahead+V.insert<q)););}while(V.lookahead<T&&V.strm.avail_in!==0)}function ve(V,Se){for(var se,he;;){if(V.lookahead<T){if(ne(V),V.lookahead<T&&Se===g)return j;if(V.lookahead===0)break}if(se=0,V.lookahead>=q&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+q-1])&V.hash_mask,se=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),se!==0&&V.strstart-se<=V.w_size-T&&(V.match_length=Z(V,se)),V.match_length>=q)if(he=l._tr_tally(V,V.strstart-V.match_start,V.match_length-q),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=q){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+q-1])&V.hash_mask,se=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else he=l._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(he&&(U(V,!1),V.strm.avail_out===0))return j}return V.insert=V.strstart<q-1?V.strstart:q-1,Se===b?(U(V,!0),V.strm.avail_out===0?H:G):V.last_lit&&(U(V,!1),V.strm.avail_out===0)?j:X}function ye(V,Se){for(var se,he,de;;){if(V.lookahead<T){if(ne(V),V.lookahead<T&&Se===g)return j;if(V.lookahead===0)break}if(se=0,V.lookahead>=q&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+q-1])&V.hash_mask,se=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=q-1,se!==0&&V.prev_length<V.max_lazy_match&&V.strstart-se<=V.w_size-T&&(V.match_length=Z(V,se),V.match_length<=5&&(V.strategy===1||V.match_length===q&&4096<V.strstart-V.match_start)&&(V.match_length=q-1)),V.prev_length>=q&&V.match_length<=V.prev_length){for(de=V.strstart+V.lookahead-q,he=l._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-q),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=de&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+q-1])&V.hash_mask,se=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=q-1,V.strstart++,he&&(U(V,!1),V.strm.avail_out===0))return j}else if(V.match_available){if((he=l._tr_tally(V,0,V.window[V.strstart-1]))&&U(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return j}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(he=l._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<q-1?V.strstart:q-1,Se===b?(U(V,!0),V.strm.avail_out===0?H:G):V.last_lit&&(U(V,!1),V.strm.avail_out===0)?j:X}function Ce(V,Se,se,he,de){this.good_length=V,this.max_lazy=Se,this.nice_length=se,this.max_chain=he,this.func=de}function Oe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*k),this.dyn_dtree=new s.Buf16(2*(2*F+1)),this.bl_tree=new s.Buf16(2*(2*R+1)),Y(this.dyn_ltree),Y(this.dyn_dtree),Y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(M+1),this.heap=new s.Buf16(2*P+1),Y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*P+1),Y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ie(V){var Se;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=w,(Se=V.state).pending=0,Se.pending_out=0,Se.wrap<0&&(Se.wrap=-Se.wrap),Se.status=Se.wrap?O:L,V.adler=Se.wrap===2?0:1,Se.last_flush=g,l._tr_init(Se),m):ee(V,x)}function Ue(V){var Se=Ie(V);return Se===m&&function(se){se.window_size=2*se.w_size,Y(se.head),se.max_lazy_match=a[se.level].max_lazy,se.good_match=a[se.level].good_length,se.nice_match=a[se.level].nice_length,se.max_chain_length=a[se.level].max_chain,se.strstart=0,se.block_start=0,se.lookahead=0,se.insert=0,se.match_length=se.prev_length=q-1,se.match_available=0,se.ins_h=0}(V.state),Se}function He(V,Se,se,he,de,we){if(!V)return x;var Le=1;if(Se===y&&(Se=6),he<0?(Le=0,he=-he):15<he&&(Le=2,he-=16),de<1||N<de||se!==C||he<8||15<he||Se<0||9<Se||we<0||A<we)return ee(V,x);he===8&&(he=9);var Fe=new Oe;return(V.state=Fe).strm=V,Fe.wrap=Le,Fe.gzhead=null,Fe.w_bits=he,Fe.w_size=1<<Fe.w_bits,Fe.w_mask=Fe.w_size-1,Fe.hash_bits=de+7,Fe.hash_size=1<<Fe.hash_bits,Fe.hash_mask=Fe.hash_size-1,Fe.hash_shift=~~((Fe.hash_bits+q-1)/q),Fe.window=new s.Buf8(2*Fe.w_size),Fe.head=new s.Buf16(Fe.hash_size),Fe.prev=new s.Buf16(Fe.w_size),Fe.lit_bufsize=1<<de+6,Fe.pending_buf_size=4*Fe.lit_bufsize,Fe.pending_buf=new s.Buf8(Fe.pending_buf_size),Fe.d_buf=1*Fe.lit_bufsize,Fe.l_buf=3*Fe.lit_bufsize,Fe.level=Se,Fe.strategy=we,Fe.method=se,Ue(V)}a=[new Ce(0,0,0,0,function(V,Se){var se=65535;for(se>V.pending_buf_size-5&&(se=V.pending_buf_size-5);;){if(V.lookahead<=1){if(ne(V),V.lookahead===0&&Se===g)return j;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var he=V.block_start+se;if((V.strstart===0||V.strstart>=he)&&(V.lookahead=V.strstart-he,V.strstart=he,U(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-T&&(U(V,!1),V.strm.avail_out===0))return j}return V.insert=0,Se===b?(U(V,!0),V.strm.avail_out===0?H:G):(V.strstart>V.block_start&&(U(V,!1),V.strm.avail_out),j)}),new Ce(4,4,8,4,ve),new Ce(4,5,16,8,ve),new Ce(4,6,32,32,ve),new Ce(4,4,16,16,ye),new Ce(8,16,32,32,ye),new Ce(8,16,128,128,ye),new Ce(8,32,128,256,ye),new Ce(32,128,258,1024,ye),new Ce(32,258,258,4096,ye)],i.deflateInit=function(V,Se){return He(V,Se,C,15,8,0)},i.deflateInit2=He,i.deflateReset=Ue,i.deflateResetKeep=Ie,i.deflateSetHeader=function(V,Se){return V&&V.state?V.state.wrap!==2?x:(V.state.gzhead=Se,m):x},i.deflate=function(V,Se){var se,he,de,we;if(!V||!V.state||5<Se||Se<0)return V?ee(V,x):x;if(he=V.state,!V.output||!V.input&&V.avail_in!==0||he.status===666&&Se!==b)return ee(V,V.avail_out===0?-5:x);if(he.strm=V,se=he.last_flush,he.last_flush=Se,he.status===O)if(he.wrap===2)V.adler=0,B(he,31),B(he,139),B(he,8),he.gzhead?(B(he,(he.gzhead.text?1:0)+(he.gzhead.hcrc?2:0)+(he.gzhead.extra?4:0)+(he.gzhead.name?8:0)+(he.gzhead.comment?16:0)),B(he,255&he.gzhead.time),B(he,he.gzhead.time>>8&255),B(he,he.gzhead.time>>16&255),B(he,he.gzhead.time>>24&255),B(he,he.level===9?2:2<=he.strategy||he.level<2?4:0),B(he,255&he.gzhead.os),he.gzhead.extra&&he.gzhead.extra.length&&(B(he,255&he.gzhead.extra.length),B(he,he.gzhead.extra.length>>8&255)),he.gzhead.hcrc&&(V.adler=d(V.adler,he.pending_buf,he.pending,0)),he.gzindex=0,he.status=69):(B(he,0),B(he,0),B(he,0),B(he,0),B(he,0),B(he,he.level===9?2:2<=he.strategy||he.level<2?4:0),B(he,3),he.status=L);else{var Le=C+(he.w_bits-8<<4)<<8;Le|=(2<=he.strategy||he.level<2?0:he.level<6?1:he.level===6?2:3)<<6,he.strstart!==0&&(Le|=32),Le+=31-Le%31,he.status=L,re(he,Le),he.strstart!==0&&(re(he,V.adler>>>16),re(he,65535&V.adler)),V.adler=1}if(he.status===69)if(he.gzhead.extra){for(de=he.pending;he.gzindex<(65535&he.gzhead.extra.length)&&(he.pending!==he.pending_buf_size||(he.gzhead.hcrc&&he.pending>de&&(V.adler=d(V.adler,he.pending_buf,he.pending-de,de)),te(V),de=he.pending,he.pending!==he.pending_buf_size));)B(he,255&he.gzhead.extra[he.gzindex]),he.gzindex++;he.gzhead.hcrc&&he.pending>de&&(V.adler=d(V.adler,he.pending_buf,he.pending-de,de)),he.gzindex===he.gzhead.extra.length&&(he.gzindex=0,he.status=73)}else he.status=73;if(he.status===73)if(he.gzhead.name){de=he.pending;do{if(he.pending===he.pending_buf_size&&(he.gzhead.hcrc&&he.pending>de&&(V.adler=d(V.adler,he.pending_buf,he.pending-de,de)),te(V),de=he.pending,he.pending===he.pending_buf_size)){we=1;break}we=he.gzindex<he.gzhead.name.length?255&he.gzhead.name.charCodeAt(he.gzindex++):0,B(he,we)}while(we!==0);he.gzhead.hcrc&&he.pending>de&&(V.adler=d(V.adler,he.pending_buf,he.pending-de,de)),we===0&&(he.gzindex=0,he.status=91)}else he.status=91;if(he.status===91)if(he.gzhead.comment){de=he.pending;do{if(he.pending===he.pending_buf_size&&(he.gzhead.hcrc&&he.pending>de&&(V.adler=d(V.adler,he.pending_buf,he.pending-de,de)),te(V),de=he.pending,he.pending===he.pending_buf_size)){we=1;break}we=he.gzindex<he.gzhead.comment.length?255&he.gzhead.comment.charCodeAt(he.gzindex++):0,B(he,we)}while(we!==0);he.gzhead.hcrc&&he.pending>de&&(V.adler=d(V.adler,he.pending_buf,he.pending-de,de)),we===0&&(he.status=103)}else he.status=103;if(he.status===103&&(he.gzhead.hcrc?(he.pending+2>he.pending_buf_size&&te(V),he.pending+2<=he.pending_buf_size&&(B(he,255&V.adler),B(he,V.adler>>8&255),V.adler=0,he.status=L)):he.status=L),he.pending!==0){if(te(V),V.avail_out===0)return he.last_flush=-1,m}else if(V.avail_in===0&&le(Se)<=le(se)&&Se!==b)return ee(V,-5);if(he.status===666&&V.avail_in!==0)return ee(V,-5);if(V.avail_in!==0||he.lookahead!==0||Se!==g&&he.status!==666){var Fe=he.strategy===2?function(_e,Qe){for(var st;;){if(_e.lookahead===0&&(ne(_e),_e.lookahead===0)){if(Qe===g)return j;break}if(_e.match_length=0,st=l._tr_tally(_e,0,_e.window[_e.strstart]),_e.lookahead--,_e.strstart++,st&&(U(_e,!1),_e.strm.avail_out===0))return j}return _e.insert=0,Qe===b?(U(_e,!0),_e.strm.avail_out===0?H:G):_e.last_lit&&(U(_e,!1),_e.strm.avail_out===0)?j:X}(he,Se):he.strategy===3?function(_e,Qe){for(var st,nt,De,xe,ke=_e.window;;){if(_e.lookahead<=Q){if(ne(_e),_e.lookahead<=Q&&Qe===g)return j;if(_e.lookahead===0)break}if(_e.match_length=0,_e.lookahead>=q&&0<_e.strstart&&(nt=ke[De=_e.strstart-1])===ke[++De]&&nt===ke[++De]&&nt===ke[++De]){xe=_e.strstart+Q;do;while(nt===ke[++De]&&nt===ke[++De]&&nt===ke[++De]&&nt===ke[++De]&&nt===ke[++De]&&nt===ke[++De]&&nt===ke[++De]&&nt===ke[++De]&&De<xe);_e.match_length=Q-(xe-De),_e.match_length>_e.lookahead&&(_e.match_length=_e.lookahead)}if(_e.match_length>=q?(st=l._tr_tally(_e,1,_e.match_length-q),_e.lookahead-=_e.match_length,_e.strstart+=_e.match_length,_e.match_length=0):(st=l._tr_tally(_e,0,_e.window[_e.strstart]),_e.lookahead--,_e.strstart++),st&&(U(_e,!1),_e.strm.avail_out===0))return j}return _e.insert=0,Qe===b?(U(_e,!0),_e.strm.avail_out===0?H:G):_e.last_lit&&(U(_e,!1),_e.strm.avail_out===0)?j:X}(he,Se):a[he.level].func(he,Se);if(Fe!==H&&Fe!==G||(he.status=666),Fe===j||Fe===H)return V.avail_out===0&&(he.last_flush=-1),m;if(Fe===X&&(Se===1?l._tr_align(he):Se!==5&&(l._tr_stored_block(he,0,0,!1),Se===3&&(Y(he.head),he.lookahead===0&&(he.strstart=0,he.block_start=0,he.insert=0))),te(V),V.avail_out===0))return he.last_flush=-1,m}return Se!==b?m:he.wrap<=0?1:(he.wrap===2?(B(he,255&V.adler),B(he,V.adler>>8&255),B(he,V.adler>>16&255),B(he,V.adler>>24&255),B(he,255&V.total_in),B(he,V.total_in>>8&255),B(he,V.total_in>>16&255),B(he,V.total_in>>24&255)):(re(he,V.adler>>>16),re(he,65535&V.adler)),te(V),0<he.wrap&&(he.wrap=-he.wrap),he.pending!==0?m:1)},i.deflateEnd=function(V){var Se;return V&&V.state?(Se=V.state.status)!==O&&Se!==69&&Se!==73&&Se!==91&&Se!==103&&Se!==L&&Se!==666?ee(V,x):(V.state=null,Se===L?ee(V,-3):m):x},i.deflateSetDictionary=function(V,Se){var se,he,de,we,Le,Fe,_e,Qe,st=Se.length;if(!V||!V.state||(we=(se=V.state).wrap)===2||we===1&&se.status!==O||se.lookahead)return x;for(we===1&&(V.adler=c(V.adler,Se,st,0)),se.wrap=0,st>=se.w_size&&(we===0&&(Y(se.head),se.strstart=0,se.block_start=0,se.insert=0),Qe=new s.Buf8(se.w_size),s.arraySet(Qe,Se,st-se.w_size,se.w_size,0),Se=Qe,st=se.w_size),Le=V.avail_in,Fe=V.next_in,_e=V.input,V.avail_in=st,V.next_in=0,V.input=Se,ne(se);se.lookahead>=q;){for(he=se.strstart,de=se.lookahead-(q-1);se.ins_h=(se.ins_h<<se.hash_shift^se.window[he+q-1])&se.hash_mask,se.prev[he&se.w_mask]=se.head[se.ins_h],se.head[se.ins_h]=he,he++,--de;);se.strstart=he,se.lookahead=q-1,ne(se)}return se.strstart+=se.lookahead,se.block_start=se.strstart,se.insert=se.lookahead,se.lookahead=0,se.match_length=se.prev_length=q-1,se.match_available=0,V.next_in=Fe,V.input=_e,V.avail_in=Le,se.wrap=we,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(a,s){var l,c,d,h,g,b,m,x,y,A,w,C,N,P,F,R,k,M,q,Q,T,O,L,j,X;l=a.state,c=a.next_in,j=a.input,d=c+(a.avail_in-5),h=a.next_out,X=a.output,g=h-(s-a.avail_out),b=h+(a.avail_out-257),m=l.dmax,x=l.wsize,y=l.whave,A=l.wnext,w=l.window,C=l.hold,N=l.bits,P=l.lencode,F=l.distcode,R=(1<<l.lenbits)-1,k=(1<<l.distbits)-1;e:do{N<15&&(C+=j[c++]<<N,N+=8,C+=j[c++]<<N,N+=8),M=P[C&R];t:for(;;){if(C>>>=q=M>>>24,N-=q,(q=M>>>16&255)===0)X[h++]=65535&M;else{if(!(16&q)){if((64&q)==0){M=P[(65535&M)+(C&(1<<q)-1)];continue t}if(32&q){l.mode=12;break e}a.msg="invalid literal/length code",l.mode=30;break e}Q=65535&M,(q&=15)&&(N<q&&(C+=j[c++]<<N,N+=8),Q+=C&(1<<q)-1,C>>>=q,N-=q),N<15&&(C+=j[c++]<<N,N+=8,C+=j[c++]<<N,N+=8),M=F[C&k];n:for(;;){if(C>>>=q=M>>>24,N-=q,!(16&(q=M>>>16&255))){if((64&q)==0){M=F[(65535&M)+(C&(1<<q)-1)];continue n}a.msg="invalid distance code",l.mode=30;break e}if(T=65535&M,N<(q&=15)&&(C+=j[c++]<<N,(N+=8)<q&&(C+=j[c++]<<N,N+=8)),m<(T+=C&(1<<q)-1)){a.msg="invalid distance too far back",l.mode=30;break e}if(C>>>=q,N-=q,(q=h-g)<T){if(y<(q=T-q)&&l.sane){a.msg="invalid distance too far back",l.mode=30;break e}if(L=w,(O=0)===A){if(O+=x-q,q<Q){for(Q-=q;X[h++]=w[O++],--q;);O=h-T,L=X}}else if(A<q){if(O+=x+A-q,(q-=A)<Q){for(Q-=q;X[h++]=w[O++],--q;);if(O=0,A<Q){for(Q-=q=A;X[h++]=w[O++],--q;);O=h-T,L=X}}}else if(O+=A-q,q<Q){for(Q-=q;X[h++]=w[O++],--q;);O=h-T,L=X}for(;2<Q;)X[h++]=L[O++],X[h++]=L[O++],X[h++]=L[O++],Q-=3;Q&&(X[h++]=L[O++],1<Q&&(X[h++]=L[O++]))}else{for(O=h-T;X[h++]=X[O++],X[h++]=X[O++],X[h++]=X[O++],2<(Q-=3););Q&&(X[h++]=X[O++],1<Q&&(X[h++]=X[O++]))}break}}break}}while(c<d&&h<b);c-=Q=N>>3,C&=(1<<(N-=Q<<3))-1,a.next_in=c,a.next_out=h,a.avail_in=c<d?d-c+5:5-(c-d),a.avail_out=h<b?b-h+257:257-(h-b),l.hold=C,l.bits=N}},{}],49:[function(t,r,i){var a=t("../utils/common"),s=t("./adler32"),l=t("./crc32"),c=t("./inffast"),d=t("./inftrees"),h=1,g=2,b=0,m=-2,x=1,y=852,A=592;function w(O){return(O>>>24&255)+(O>>>8&65280)+((65280&O)<<8)+((255&O)<<24)}function C(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function N(O){var L;return O&&O.state?(L=O.state,O.total_in=O.total_out=L.total=0,O.msg="",L.wrap&&(O.adler=1&L.wrap),L.mode=x,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new a.Buf32(y),L.distcode=L.distdyn=new a.Buf32(A),L.sane=1,L.back=-1,b):m}function P(O){var L;return O&&O.state?((L=O.state).wsize=0,L.whave=0,L.wnext=0,N(O)):m}function F(O,L){var j,X;return O&&O.state?(X=O.state,L<0?(j=0,L=-L):(j=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?m:(X.window!==null&&X.wbits!==L&&(X.window=null),X.wrap=j,X.wbits=L,P(O))):m}function R(O,L){var j,X;return O?(X=new C,(O.state=X).window=null,(j=F(O,L))!==b&&(O.state=null),j):m}var k,M,q=!0;function Q(O){if(q){var L;for(k=new a.Buf32(512),M=new a.Buf32(32),L=0;L<144;)O.lens[L++]=8;for(;L<256;)O.lens[L++]=9;for(;L<280;)O.lens[L++]=7;for(;L<288;)O.lens[L++]=8;for(d(h,O.lens,0,288,k,0,O.work,{bits:9}),L=0;L<32;)O.lens[L++]=5;d(g,O.lens,0,32,M,0,O.work,{bits:5}),q=!1}O.lencode=k,O.lenbits=9,O.distcode=M,O.distbits=5}function T(O,L,j,X){var H,G=O.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new a.Buf8(G.wsize)),X>=G.wsize?(a.arraySet(G.window,L,j-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(X<(H=G.wsize-G.wnext)&&(H=X),a.arraySet(G.window,L,j-X,H,G.wnext),(X-=H)?(a.arraySet(G.window,L,j-X,X,0),G.wnext=X,G.whave=G.wsize):(G.wnext+=H,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=H))),0}i.inflateReset=P,i.inflateReset2=F,i.inflateResetKeep=N,i.inflateInit=function(O){return R(O,15)},i.inflateInit2=R,i.inflate=function(O,L){var j,X,H,G,ee,le,Y,te,U,B,re,Z,ne,ve,ye,Ce,Oe,Ie,Ue,He,V,Se,se,he,de=0,we=new a.Buf8(4),Le=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return m;(j=O.state).mode===12&&(j.mode=13),ee=O.next_out,H=O.output,Y=O.avail_out,G=O.next_in,X=O.input,le=O.avail_in,te=j.hold,U=j.bits,B=le,re=Y,Se=b;e:for(;;)switch(j.mode){case x:if(j.wrap===0){j.mode=13;break}for(;U<16;){if(le===0)break e;le--,te+=X[G++]<<U,U+=8}if(2&j.wrap&&te===35615){we[j.check=0]=255&te,we[1]=te>>>8&255,j.check=l(j.check,we,2,0),U=te=0,j.mode=2;break}if(j.flags=0,j.head&&(j.head.done=!1),!(1&j.wrap)||(((255&te)<<8)+(te>>8))%31){O.msg="incorrect header check",j.mode=30;break}if((15&te)!=8){O.msg="unknown compression method",j.mode=30;break}if(U-=4,V=8+(15&(te>>>=4)),j.wbits===0)j.wbits=V;else if(V>j.wbits){O.msg="invalid window size",j.mode=30;break}j.dmax=1<<V,O.adler=j.check=1,j.mode=512&te?10:12,U=te=0;break;case 2:for(;U<16;){if(le===0)break e;le--,te+=X[G++]<<U,U+=8}if(j.flags=te,(255&j.flags)!=8){O.msg="unknown compression method",j.mode=30;break}if(57344&j.flags){O.msg="unknown header flags set",j.mode=30;break}j.head&&(j.head.text=te>>8&1),512&j.flags&&(we[0]=255&te,we[1]=te>>>8&255,j.check=l(j.check,we,2,0)),U=te=0,j.mode=3;case 3:for(;U<32;){if(le===0)break e;le--,te+=X[G++]<<U,U+=8}j.head&&(j.head.time=te),512&j.flags&&(we[0]=255&te,we[1]=te>>>8&255,we[2]=te>>>16&255,we[3]=te>>>24&255,j.check=l(j.check,we,4,0)),U=te=0,j.mode=4;case 4:for(;U<16;){if(le===0)break e;le--,te+=X[G++]<<U,U+=8}j.head&&(j.head.xflags=255&te,j.head.os=te>>8),512&j.flags&&(we[0]=255&te,we[1]=te>>>8&255,j.check=l(j.check,we,2,0)),U=te=0,j.mode=5;case 5:if(1024&j.flags){for(;U<16;){if(le===0)break e;le--,te+=X[G++]<<U,U+=8}j.length=te,j.head&&(j.head.extra_len=te),512&j.flags&&(we[0]=255&te,we[1]=te>>>8&255,j.check=l(j.check,we,2,0)),U=te=0}else j.head&&(j.head.extra=null);j.mode=6;case 6:if(1024&j.flags&&(le<(Z=j.length)&&(Z=le),Z&&(j.head&&(V=j.head.extra_len-j.length,j.head.extra||(j.head.extra=new Array(j.head.extra_len)),a.arraySet(j.head.extra,X,G,Z,V)),512&j.flags&&(j.check=l(j.check,X,Z,G)),le-=Z,G+=Z,j.length-=Z),j.length))break e;j.length=0,j.mode=7;case 7:if(2048&j.flags){if(le===0)break e;for(Z=0;V=X[G+Z++],j.head&&V&&j.length<65536&&(j.head.name+=String.fromCharCode(V)),V&&Z<le;);if(512&j.flags&&(j.check=l(j.check,X,Z,G)),le-=Z,G+=Z,V)break e}else j.head&&(j.head.name=null);j.length=0,j.mode=8;case 8:if(4096&j.flags){if(le===0)break e;for(Z=0;V=X[G+Z++],j.head&&V&&j.length<65536&&(j.head.comment+=String.fromCharCode(V)),V&&Z<le;);if(512&j.flags&&(j.check=l(j.check,X,Z,G)),le-=Z,G+=Z,V)break e}else j.head&&(j.head.comment=null);j.mode=9;case 9:if(512&j.flags){for(;U<16;){if(le===0)break e;le--,te+=X[G++]<<U,U+=8}if(te!==(65535&j.check)){O.msg="header crc mismatch",j.mode=30;break}U=te=0}j.head&&(j.head.hcrc=j.flags>>9&1,j.head.done=!0),O.adler=j.check=0,j.mode=12;break;case 10:for(;U<32;){if(le===0)break e;le--,te+=X[G++]<<U,U+=8}O.adler=j.check=w(te),U=te=0,j.mode=11;case 11:if(j.havedict===0)return O.next_out=ee,O.avail_out=Y,O.next_in=G,O.avail_in=le,j.hold=te,j.bits=U,2;O.adler=j.check=1,j.mode=12;case 12:if(L===5||L===6)break e;case 13:if(j.last){te>>>=7&U,U-=7&U,j.mode=27;break}for(;U<3;){if(le===0)break e;le--,te+=X[G++]<<U,U+=8}switch(j.last=1&te,U-=1,3&(te>>>=1)){case 0:j.mode=14;break;case 1:if(Q(j),j.mode=20,L!==6)break;te>>>=2,U-=2;break e;case 2:j.mode=17;break;case 3:O.msg="invalid block type",j.mode=30}te>>>=2,U-=2;break;case 14:for(te>>>=7&U,U-=7&U;U<32;){if(le===0)break e;le--,te+=X[G++]<<U,U+=8}if((65535&te)!=(te>>>16^65535)){O.msg="invalid stored block lengths",j.mode=30;break}if(j.length=65535&te,U=te=0,j.mode=15,L===6)break e;case 15:j.mode=16;case 16:if(Z=j.length){if(le<Z&&(Z=le),Y<Z&&(Z=Y),Z===0)break e;a.arraySet(H,X,G,Z,ee),le-=Z,G+=Z,Y-=Z,ee+=Z,j.length-=Z;break}j.mode=12;break;case 17:for(;U<14;){if(le===0)break e;le--,te+=X[G++]<<U,U+=8}if(j.nlen=257+(31&te),te>>>=5,U-=5,j.ndist=1+(31&te),te>>>=5,U-=5,j.ncode=4+(15&te),te>>>=4,U-=4,286<j.nlen||30<j.ndist){O.msg="too many length or distance symbols",j.mode=30;break}j.have=0,j.mode=18;case 18:for(;j.have<j.ncode;){for(;U<3;){if(le===0)break e;le--,te+=X[G++]<<U,U+=8}j.lens[Le[j.have++]]=7&te,te>>>=3,U-=3}for(;j.have<19;)j.lens[Le[j.have++]]=0;if(j.lencode=j.lendyn,j.lenbits=7,se={bits:j.lenbits},Se=d(0,j.lens,0,19,j.lencode,0,j.work,se),j.lenbits=se.bits,Se){O.msg="invalid code lengths set",j.mode=30;break}j.have=0,j.mode=19;case 19:for(;j.have<j.nlen+j.ndist;){for(;Ce=(de=j.lencode[te&(1<<j.lenbits)-1])>>>16&255,Oe=65535&de,!((ye=de>>>24)<=U);){if(le===0)break e;le--,te+=X[G++]<<U,U+=8}if(Oe<16)te>>>=ye,U-=ye,j.lens[j.have++]=Oe;else{if(Oe===16){for(he=ye+2;U<he;){if(le===0)break e;le--,te+=X[G++]<<U,U+=8}if(te>>>=ye,U-=ye,j.have===0){O.msg="invalid bit length repeat",j.mode=30;break}V=j.lens[j.have-1],Z=3+(3&te),te>>>=2,U-=2}else if(Oe===17){for(he=ye+3;U<he;){if(le===0)break e;le--,te+=X[G++]<<U,U+=8}U-=ye,V=0,Z=3+(7&(te>>>=ye)),te>>>=3,U-=3}else{for(he=ye+7;U<he;){if(le===0)break e;le--,te+=X[G++]<<U,U+=8}U-=ye,V=0,Z=11+(127&(te>>>=ye)),te>>>=7,U-=7}if(j.have+Z>j.nlen+j.ndist){O.msg="invalid bit length repeat",j.mode=30;break}for(;Z--;)j.lens[j.have++]=V}}if(j.mode===30)break;if(j.lens[256]===0){O.msg="invalid code -- missing end-of-block",j.mode=30;break}if(j.lenbits=9,se={bits:j.lenbits},Se=d(h,j.lens,0,j.nlen,j.lencode,0,j.work,se),j.lenbits=se.bits,Se){O.msg="invalid literal/lengths set",j.mode=30;break}if(j.distbits=6,j.distcode=j.distdyn,se={bits:j.distbits},Se=d(g,j.lens,j.nlen,j.ndist,j.distcode,0,j.work,se),j.distbits=se.bits,Se){O.msg="invalid distances set",j.mode=30;break}if(j.mode=20,L===6)break e;case 20:j.mode=21;case 21:if(6<=le&&258<=Y){O.next_out=ee,O.avail_out=Y,O.next_in=G,O.avail_in=le,j.hold=te,j.bits=U,c(O,re),ee=O.next_out,H=O.output,Y=O.avail_out,G=O.next_in,X=O.input,le=O.avail_in,te=j.hold,U=j.bits,j.mode===12&&(j.back=-1);break}for(j.back=0;Ce=(de=j.lencode[te&(1<<j.lenbits)-1])>>>16&255,Oe=65535&de,!((ye=de>>>24)<=U);){if(le===0)break e;le--,te+=X[G++]<<U,U+=8}if(Ce&&(240&Ce)==0){for(Ie=ye,Ue=Ce,He=Oe;Ce=(de=j.lencode[He+((te&(1<<Ie+Ue)-1)>>Ie)])>>>16&255,Oe=65535&de,!(Ie+(ye=de>>>24)<=U);){if(le===0)break e;le--,te+=X[G++]<<U,U+=8}te>>>=Ie,U-=Ie,j.back+=Ie}if(te>>>=ye,U-=ye,j.back+=ye,j.length=Oe,Ce===0){j.mode=26;break}if(32&Ce){j.back=-1,j.mode=12;break}if(64&Ce){O.msg="invalid literal/length code",j.mode=30;break}j.extra=15&Ce,j.mode=22;case 22:if(j.extra){for(he=j.extra;U<he;){if(le===0)break e;le--,te+=X[G++]<<U,U+=8}j.length+=te&(1<<j.extra)-1,te>>>=j.extra,U-=j.extra,j.back+=j.extra}j.was=j.length,j.mode=23;case 23:for(;Ce=(de=j.distcode[te&(1<<j.distbits)-1])>>>16&255,Oe=65535&de,!((ye=de>>>24)<=U);){if(le===0)break e;le--,te+=X[G++]<<U,U+=8}if((240&Ce)==0){for(Ie=ye,Ue=Ce,He=Oe;Ce=(de=j.distcode[He+((te&(1<<Ie+Ue)-1)>>Ie)])>>>16&255,Oe=65535&de,!(Ie+(ye=de>>>24)<=U);){if(le===0)break e;le--,te+=X[G++]<<U,U+=8}te>>>=Ie,U-=Ie,j.back+=Ie}if(te>>>=ye,U-=ye,j.back+=ye,64&Ce){O.msg="invalid distance code",j.mode=30;break}j.offset=Oe,j.extra=15&Ce,j.mode=24;case 24:if(j.extra){for(he=j.extra;U<he;){if(le===0)break e;le--,te+=X[G++]<<U,U+=8}j.offset+=te&(1<<j.extra)-1,te>>>=j.extra,U-=j.extra,j.back+=j.extra}if(j.offset>j.dmax){O.msg="invalid distance too far back",j.mode=30;break}j.mode=25;case 25:if(Y===0)break e;if(Z=re-Y,j.offset>Z){if((Z=j.offset-Z)>j.whave&&j.sane){O.msg="invalid distance too far back",j.mode=30;break}ne=Z>j.wnext?(Z-=j.wnext,j.wsize-Z):j.wnext-Z,Z>j.length&&(Z=j.length),ve=j.window}else ve=H,ne=ee-j.offset,Z=j.length;for(Y<Z&&(Z=Y),Y-=Z,j.length-=Z;H[ee++]=ve[ne++],--Z;);j.length===0&&(j.mode=21);break;case 26:if(Y===0)break e;H[ee++]=j.length,Y--,j.mode=21;break;case 27:if(j.wrap){for(;U<32;){if(le===0)break e;le--,te|=X[G++]<<U,U+=8}if(re-=Y,O.total_out+=re,j.total+=re,re&&(O.adler=j.check=j.flags?l(j.check,H,re,ee-re):s(j.check,H,re,ee-re)),re=Y,(j.flags?te:w(te))!==j.check){O.msg="incorrect data check",j.mode=30;break}U=te=0}j.mode=28;case 28:if(j.wrap&&j.flags){for(;U<32;){if(le===0)break e;le--,te+=X[G++]<<U,U+=8}if(te!==(4294967295&j.total)){O.msg="incorrect length check",j.mode=30;break}U=te=0}j.mode=29;case 29:Se=1;break e;case 30:Se=-3;break e;case 31:return-4;case 32:default:return m}return O.next_out=ee,O.avail_out=Y,O.next_in=G,O.avail_in=le,j.hold=te,j.bits=U,(j.wsize||re!==O.avail_out&&j.mode<30&&(j.mode<27||L!==4))&&T(O,O.output,O.next_out,re-O.avail_out)?(j.mode=31,-4):(B-=O.avail_in,re-=O.avail_out,O.total_in+=B,O.total_out+=re,j.total+=re,j.wrap&&re&&(O.adler=j.check=j.flags?l(j.check,H,re,O.next_out-re):s(j.check,H,re,O.next_out-re)),O.data_type=j.bits+(j.last?64:0)+(j.mode===12?128:0)+(j.mode===20||j.mode===15?256:0),(B==0&&re===0||L===4)&&Se===b&&(Se=-5),Se)},i.inflateEnd=function(O){if(!O||!O.state)return m;var L=O.state;return L.window&&(L.window=null),O.state=null,b},i.inflateGetHeader=function(O,L){var j;return O&&O.state?(2&(j=O.state).wrap)==0?m:((j.head=L).done=!1,b):m},i.inflateSetDictionary=function(O,L){var j,X=L.length;return O&&O.state?(j=O.state).wrap!==0&&j.mode!==11?m:j.mode===11&&s(1,L,X,0)!==j.check?-3:T(O,L,X,X)?(j.mode=31,-4):(j.havedict=1,b):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var a=t("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(h,g,b,m,x,y,A,w){var C,N,P,F,R,k,M,q,Q,T=w.bits,O=0,L=0,j=0,X=0,H=0,G=0,ee=0,le=0,Y=0,te=0,U=null,B=0,re=new a.Buf16(16),Z=new a.Buf16(16),ne=null,ve=0;for(O=0;O<=15;O++)re[O]=0;for(L=0;L<m;L++)re[g[b+L]]++;for(H=T,X=15;1<=X&&re[X]===0;X--);if(X<H&&(H=X),X===0)return x[y++]=20971520,x[y++]=20971520,w.bits=1,0;for(j=1;j<X&&re[j]===0;j++);for(H<j&&(H=j),O=le=1;O<=15;O++)if(le<<=1,(le-=re[O])<0)return-1;if(0<le&&(h===0||X!==1))return-1;for(Z[1]=0,O=1;O<15;O++)Z[O+1]=Z[O]+re[O];for(L=0;L<m;L++)g[b+L]!==0&&(A[Z[g[b+L]]++]=L);if(k=h===0?(U=ne=A,19):h===1?(U=s,B-=257,ne=l,ve-=257,256):(U=c,ne=d,-1),O=j,R=y,ee=L=te=0,P=-1,F=(Y=1<<(G=H))-1,h===1&&852<Y||h===2&&592<Y)return 1;for(;;){for(M=O-ee,Q=A[L]<k?(q=0,A[L]):A[L]>k?(q=ne[ve+A[L]],U[B+A[L]]):(q=96,0),C=1<<O-ee,j=N=1<<G;x[R+(te>>ee)+(N-=C)]=M<<24|q<<16|Q|0,N!==0;);for(C=1<<O-1;te&C;)C>>=1;if(C!==0?(te&=C-1,te+=C):te=0,L++,--re[O]==0){if(O===X)break;O=g[b+A[L]]}if(H<O&&(te&F)!==P){for(ee===0&&(ee=H),R+=j,le=1<<(G=O-ee);G+ee<X&&!((le-=re[G+ee])<=0);)G++,le<<=1;if(Y+=1<<G,h===1&&852<Y||h===2&&592<Y)return 1;x[P=te&F]=H<<24|G<<16|R-y|0}}return te!==0&&(x[R+te]=O-ee<<24|64<<16|0),w.bits=H,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var a=t("../utils/common"),s=0,l=1;function c(de){for(var we=de.length;0<=--we;)de[we]=0}var d=0,h=29,g=256,b=g+1+h,m=30,x=19,y=2*b+1,A=15,w=16,C=7,N=256,P=16,F=17,R=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=new Array(2*(b+2));c(T);var O=new Array(2*m);c(O);var L=new Array(512);c(L);var j=new Array(256);c(j);var X=new Array(h);c(X);var H,G,ee,le=new Array(m);function Y(de,we,Le,Fe,_e){this.static_tree=de,this.extra_bits=we,this.extra_base=Le,this.elems=Fe,this.max_length=_e,this.has_stree=de&&de.length}function te(de,we){this.dyn_tree=de,this.max_code=0,this.stat_desc=we}function U(de){return de<256?L[de]:L[256+(de>>>7)]}function B(de,we){de.pending_buf[de.pending++]=255&we,de.pending_buf[de.pending++]=we>>>8&255}function re(de,we,Le){de.bi_valid>w-Le?(de.bi_buf|=we<<de.bi_valid&65535,B(de,de.bi_buf),de.bi_buf=we>>w-de.bi_valid,de.bi_valid+=Le-w):(de.bi_buf|=we<<de.bi_valid&65535,de.bi_valid+=Le)}function Z(de,we,Le){re(de,Le[2*we],Le[2*we+1])}function ne(de,we){for(var Le=0;Le|=1&de,de>>>=1,Le<<=1,0<--we;);return Le>>>1}function ve(de,we,Le){var Fe,_e,Qe=new Array(A+1),st=0;for(Fe=1;Fe<=A;Fe++)Qe[Fe]=st=st+Le[Fe-1]<<1;for(_e=0;_e<=we;_e++){var nt=de[2*_e+1];nt!==0&&(de[2*_e]=ne(Qe[nt]++,nt))}}function ye(de){var we;for(we=0;we<b;we++)de.dyn_ltree[2*we]=0;for(we=0;we<m;we++)de.dyn_dtree[2*we]=0;for(we=0;we<x;we++)de.bl_tree[2*we]=0;de.dyn_ltree[2*N]=1,de.opt_len=de.static_len=0,de.last_lit=de.matches=0}function Ce(de){8<de.bi_valid?B(de,de.bi_buf):0<de.bi_valid&&(de.pending_buf[de.pending++]=de.bi_buf),de.bi_buf=0,de.bi_valid=0}function Oe(de,we,Le,Fe){var _e=2*we,Qe=2*Le;return de[_e]<de[Qe]||de[_e]===de[Qe]&&Fe[we]<=Fe[Le]}function Ie(de,we,Le){for(var Fe=de.heap[Le],_e=Le<<1;_e<=de.heap_len&&(_e<de.heap_len&&Oe(we,de.heap[_e+1],de.heap[_e],de.depth)&&_e++,!Oe(we,Fe,de.heap[_e],de.depth));)de.heap[Le]=de.heap[_e],Le=_e,_e<<=1;de.heap[Le]=Fe}function Ue(de,we,Le){var Fe,_e,Qe,st,nt=0;if(de.last_lit!==0)for(;Fe=de.pending_buf[de.d_buf+2*nt]<<8|de.pending_buf[de.d_buf+2*nt+1],_e=de.pending_buf[de.l_buf+nt],nt++,Fe===0?Z(de,_e,we):(Z(de,(Qe=j[_e])+g+1,we),(st=k[Qe])!==0&&re(de,_e-=X[Qe],st),Z(de,Qe=U(--Fe),Le),(st=M[Qe])!==0&&re(de,Fe-=le[Qe],st)),nt<de.last_lit;);Z(de,N,we)}function He(de,we){var Le,Fe,_e,Qe=we.dyn_tree,st=we.stat_desc.static_tree,nt=we.stat_desc.has_stree,De=we.stat_desc.elems,xe=-1;for(de.heap_len=0,de.heap_max=y,Le=0;Le<De;Le++)Qe[2*Le]!==0?(de.heap[++de.heap_len]=xe=Le,de.depth[Le]=0):Qe[2*Le+1]=0;for(;de.heap_len<2;)Qe[2*(_e=de.heap[++de.heap_len]=xe<2?++xe:0)]=1,de.depth[_e]=0,de.opt_len--,nt&&(de.static_len-=st[2*_e+1]);for(we.max_code=xe,Le=de.heap_len>>1;1<=Le;Le--)Ie(de,Qe,Le);for(_e=De;Le=de.heap[1],de.heap[1]=de.heap[de.heap_len--],Ie(de,Qe,1),Fe=de.heap[1],de.heap[--de.heap_max]=Le,de.heap[--de.heap_max]=Fe,Qe[2*_e]=Qe[2*Le]+Qe[2*Fe],de.depth[_e]=(de.depth[Le]>=de.depth[Fe]?de.depth[Le]:de.depth[Fe])+1,Qe[2*Le+1]=Qe[2*Fe+1]=_e,de.heap[1]=_e++,Ie(de,Qe,1),2<=de.heap_len;);de.heap[--de.heap_max]=de.heap[1],function(ke,Ne){var ut,Ze,Dt,Et,$t,It,Gt=Ne.dyn_tree,Jt=Ne.max_code,sn=Ne.stat_desc.static_tree,Mn=Ne.stat_desc.has_stree,Pn=Ne.stat_desc.extra_bits,Gr=Ne.stat_desc.extra_base,rr=Ne.stat_desc.max_length,Dn=0;for(Et=0;Et<=A;Et++)ke.bl_count[Et]=0;for(Gt[2*ke.heap[ke.heap_max]+1]=0,ut=ke.heap_max+1;ut<y;ut++)rr<(Et=Gt[2*Gt[2*(Ze=ke.heap[ut])+1]+1]+1)&&(Et=rr,Dn++),Gt[2*Ze+1]=Et,Jt<Ze||(ke.bl_count[Et]++,$t=0,Gr<=Ze&&($t=Pn[Ze-Gr]),It=Gt[2*Ze],ke.opt_len+=It*(Et+$t),Mn&&(ke.static_len+=It*(sn[2*Ze+1]+$t)));if(Dn!==0){do{for(Et=rr-1;ke.bl_count[Et]===0;)Et--;ke.bl_count[Et]--,ke.bl_count[Et+1]+=2,ke.bl_count[rr]--,Dn-=2}while(0<Dn);for(Et=rr;Et!==0;Et--)for(Ze=ke.bl_count[Et];Ze!==0;)Jt<(Dt=ke.heap[--ut])||(Gt[2*Dt+1]!==Et&&(ke.opt_len+=(Et-Gt[2*Dt+1])*Gt[2*Dt],Gt[2*Dt+1]=Et),Ze--)}}(de,we),ve(Qe,xe,de.bl_count)}function V(de,we,Le){var Fe,_e,Qe=-1,st=we[1],nt=0,De=7,xe=4;for(st===0&&(De=138,xe=3),we[2*(Le+1)+1]=65535,Fe=0;Fe<=Le;Fe++)_e=st,st=we[2*(Fe+1)+1],++nt<De&&_e===st||(nt<xe?de.bl_tree[2*_e]+=nt:_e!==0?(_e!==Qe&&de.bl_tree[2*_e]++,de.bl_tree[2*P]++):nt<=10?de.bl_tree[2*F]++:de.bl_tree[2*R]++,Qe=_e,xe=(nt=0)===st?(De=138,3):_e===st?(De=6,3):(De=7,4))}function Se(de,we,Le){var Fe,_e,Qe=-1,st=we[1],nt=0,De=7,xe=4;for(st===0&&(De=138,xe=3),Fe=0;Fe<=Le;Fe++)if(_e=st,st=we[2*(Fe+1)+1],!(++nt<De&&_e===st)){if(nt<xe)for(;Z(de,_e,de.bl_tree),--nt!=0;);else _e!==0?(_e!==Qe&&(Z(de,_e,de.bl_tree),nt--),Z(de,P,de.bl_tree),re(de,nt-3,2)):nt<=10?(Z(de,F,de.bl_tree),re(de,nt-3,3)):(Z(de,R,de.bl_tree),re(de,nt-11,7));Qe=_e,xe=(nt=0)===st?(De=138,3):_e===st?(De=6,3):(De=7,4)}}c(le);var se=!1;function he(de,we,Le,Fe){re(de,(d<<1)+(Fe?1:0),3),function(_e,Qe,st,nt){Ce(_e),B(_e,st),B(_e,~st),a.arraySet(_e.pending_buf,_e.window,Qe,st,_e.pending),_e.pending+=st}(de,we,Le)}i._tr_init=function(de){se||(function(){var we,Le,Fe,_e,Qe,st=new Array(A+1);for(_e=Fe=0;_e<h-1;_e++)for(X[_e]=Fe,we=0;we<1<<k[_e];we++)j[Fe++]=_e;for(j[Fe-1]=_e,_e=Qe=0;_e<16;_e++)for(le[_e]=Qe,we=0;we<1<<M[_e];we++)L[Qe++]=_e;for(Qe>>=7;_e<m;_e++)for(le[_e]=Qe<<7,we=0;we<1<<M[_e]-7;we++)L[256+Qe++]=_e;for(Le=0;Le<=A;Le++)st[Le]=0;for(we=0;we<=143;)T[2*we+1]=8,we++,st[8]++;for(;we<=255;)T[2*we+1]=9,we++,st[9]++;for(;we<=279;)T[2*we+1]=7,we++,st[7]++;for(;we<=287;)T[2*we+1]=8,we++,st[8]++;for(ve(T,b+1,st),we=0;we<m;we++)O[2*we+1]=5,O[2*we]=ne(we,5);H=new Y(T,k,g+1,b,A),G=new Y(O,M,0,m,A),ee=new Y(new Array(0),q,0,x,C)}(),se=!0),de.l_desc=new te(de.dyn_ltree,H),de.d_desc=new te(de.dyn_dtree,G),de.bl_desc=new te(de.bl_tree,ee),de.bi_buf=0,de.bi_valid=0,ye(de)},i._tr_stored_block=he,i._tr_flush_block=function(de,we,Le,Fe){var _e,Qe,st=0;0<de.level?(de.strm.data_type===2&&(de.strm.data_type=function(nt){var De,xe=4093624447;for(De=0;De<=31;De++,xe>>>=1)if(1&xe&&nt.dyn_ltree[2*De]!==0)return s;if(nt.dyn_ltree[18]!==0||nt.dyn_ltree[20]!==0||nt.dyn_ltree[26]!==0)return l;for(De=32;De<g;De++)if(nt.dyn_ltree[2*De]!==0)return l;return s}(de)),He(de,de.l_desc),He(de,de.d_desc),st=function(nt){var De;for(V(nt,nt.dyn_ltree,nt.l_desc.max_code),V(nt,nt.dyn_dtree,nt.d_desc.max_code),He(nt,nt.bl_desc),De=x-1;3<=De&&nt.bl_tree[2*Q[De]+1]===0;De--);return nt.opt_len+=3*(De+1)+5+5+4,De}(de),_e=de.opt_len+3+7>>>3,(Qe=de.static_len+3+7>>>3)<=_e&&(_e=Qe)):_e=Qe=Le+5,Le+4<=_e&&we!==-1?he(de,we,Le,Fe):de.strategy===4||Qe===_e?(re(de,2+(Fe?1:0),3),Ue(de,T,O)):(re(de,4+(Fe?1:0),3),function(nt,De,xe,ke){var Ne;for(re(nt,De-257,5),re(nt,xe-1,5),re(nt,ke-4,4),Ne=0;Ne<ke;Ne++)re(nt,nt.bl_tree[2*Q[Ne]+1],3);Se(nt,nt.dyn_ltree,De-1),Se(nt,nt.dyn_dtree,xe-1)}(de,de.l_desc.max_code+1,de.d_desc.max_code+1,st+1),Ue(de,de.dyn_ltree,de.dyn_dtree)),ye(de),Fe&&Ce(de)},i._tr_tally=function(de,we,Le){return de.pending_buf[de.d_buf+2*de.last_lit]=we>>>8&255,de.pending_buf[de.d_buf+2*de.last_lit+1]=255&we,de.pending_buf[de.l_buf+de.last_lit]=255&Le,de.last_lit++,we===0?de.dyn_ltree[2*Le]++:(de.matches++,we--,de.dyn_ltree[2*(j[Le]+g+1)]++,de.dyn_dtree[2*U(we)]++),de.last_lit===de.lit_bufsize-1},i._tr_align=function(de){re(de,2,3),Z(de,N,T),function(we){we.bi_valid===16?(B(we,we.bi_buf),we.bi_buf=0,we.bi_valid=0):8<=we.bi_valid&&(we.pending_buf[we.pending++]=255&we.bi_buf,we.bi_buf>>=8,we.bi_valid-=8)}(de)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(a){(function(s,l){if(!s.setImmediate){var c,d,h,g,b=1,m={},x=!1,y=s.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(s);A=A&&A.setTimeout?A:s,c={}.toString.call(s.process)==="[object process]"?function(P){process.nextTick(function(){C(P)})}:function(){if(s.postMessage&&!s.importScripts){var P=!0,F=s.onmessage;return s.onmessage=function(){P=!1},s.postMessage("","*"),s.onmessage=F,P}}()?(g="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",N,!1):s.attachEvent("onmessage",N),function(P){s.postMessage(g+P,"*")}):s.MessageChannel?((h=new MessageChannel).port1.onmessage=function(P){C(P.data)},function(P){h.port2.postMessage(P)}):y&&"onreadystatechange"in y.createElement("script")?(d=y.documentElement,function(P){var F=y.createElement("script");F.onreadystatechange=function(){C(P),F.onreadystatechange=null,d.removeChild(F),F=null},d.appendChild(F)}):function(P){setTimeout(C,0,P)},A.setImmediate=function(P){typeof P!="function"&&(P=new Function(""+P));for(var F=new Array(arguments.length-1),R=0;R<F.length;R++)F[R]=arguments[R+1];var k={callback:P,args:F};return m[b]=k,c(b),b++},A.clearImmediate=w}function w(P){delete m[P]}function C(P){if(x)setTimeout(C,0,P);else{var F=m[P];if(F){x=!0;try{(function(R){var k=R.callback,M=R.args;switch(M.length){case 0:k();break;case 1:k(M[0]);break;case 2:k(M[0],M[1]);break;case 3:k(M[0],M[1],M[2]);break;default:k.apply(l,M)}})(F)}finally{w(P),x=!1}}}}function N(P){P.source===s&&typeof P.data=="string"&&P.data.indexOf(g)===0&&C(+P.data.slice(g.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(vw)),vw.exports}var RJ=LJ();const MJ=$i(RJ),PJ=async(e,n,t)=>{const r=new MJ,i=["timestamp,question,answer"];n.forEach(({timestamp:c,question:d,answer:h})=>{i.push(`"${new Date(c).toLocaleString()}","${d.replace(/"/g,'""')}","${h.replace(/"/g,'""')}"`)}),r.file(`${e}.csv`,i.join(`
`)),r.file(`${e}_metadata.json`,JSON.stringify(t,null,4));const a=await r.generateAsync({type:"blob"}),s=URL.createObjectURL(a),l=document.createElement("a");l.href=s,l.download=`${e}.zip`,document.body.appendChild(l),l.click(),document.body.removeChild(l)},FJ=qc(be)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"600px",maxHeight:"80vh",overflowY:"auto",backgroundColor:"#fff",borderRadius:"10px",boxShadow:"0px 5px 15px rgba(0,0,0,0.2)",padding:"20px"}),zJ=qc(be)({marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"}),qJ=({open:e,onClose:n,conversationHistory:t,conversationId:r,conversationHistoryError:i,chatbotDetails:a,userId:s,startedAt:l})=>{const c=async()=>{const d={conversationId:r,userId:s,chatbotId:a.chatbotId,chatbotTitle:a.chatbotTitle,startedAt:new Date(l).toLocaleString(),courseTitle:a.courseTitle,courseId:a.courseId,materialTitle:a.materialTitle,materialId:a.materialId,materialLink:a.materialLink,chatbotCreatedBy:a.chatbotCreatedBy,chatbotCreatedAt:new Date(a.chatbotCreatedAt).toLocaleString()};await PJ(r,t,d)};return f.jsx(Nx,{open:e,onClose:n,children:f.jsxs(FJ,{children:[f.jsxs(zJ,{children:[f.jsxs(ce,{variant:"h6",children:["Conversation History for ",r]}),f.jsx(Pi,{title:"Download ZIP",children:f.jsx(un,{onClick:c,"aria-label":"Download as ZIP",children:f.jsx(CI,{})})})]}),i&&f.jsx(ce,{color:"error",sx:{marginBottom:"20px"},children:i}),t.length===0?f.jsx(ce,{children:"No messages found in this conversation."}):f.jsx(Zy,{children:t.map((d,h)=>f.jsx(v0,{sx:{padding:"10px 0"},children:f.jsx(Hh,{primary:`Q: ${d.question}`,secondary:`A: ${d.answer} (${new Date(d.timestamp).toLocaleString()})`})},h))}),f.jsx(lt,{variant:"contained",onClick:n,style:{marginTop:"20px",backgroundColor:"#000",color:"#fff"},children:"Close"})]})})},BJ=({totalItems:e,itemsPerPage:n,currentPage:t,onPageChange:r})=>{const i=Math.ceil(e/n),a=()=>{t>1&&r(t-1)},s=()=>{t<i&&r(t+1)};return f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:3},children:[f.jsx(lt,{variant:"outlined",disabled:t===1,onClick:a,children:"Previous"}),f.jsxs(ce,{variant:"body1",children:["Page ",t," of ",i]}),f.jsx(lt,{variant:"outlined",disabled:t===i,onClick:s,children:"Next"})]})},UJ=({chatbotId:e})=>{const n=Un(),[t,r]=K.useState(null),[i,a]=K.useState(!0),[s,l]=K.useState(null);if(K.useEffect(()=>{e!=="All"&&(async()=>{a(!0),l(null);try{const C=So(bn(n,"chatbots"),wi("chatbotId","==",e)),N=await hi(C);N.empty?l("Chatbot details not found!"):r(N.docs[0].data())}catch(C){console.error("Error fetching chatbot details:",C),l("Failed to fetch chatbot details.")}finally{a(!1)}})()},[n,e]),i)return f.jsx(be,{sx:{mt:3},children:f.jsx(Rr,{})});if(s)return f.jsx(ce,{variant:"body1",color:"error",sx:{mt:3},children:s});if(!t)return null;const{title:c="N/A",courseId:d,createdBy:h="Unknown",timestamp:g,material:b}=t,m=(d==null?void 0:d.title)||"N/A",x=(b==null?void 0:b.title)||"N/A",y=(b==null?void 0:b.id)||"N/A",A=`https://institute-for-future-intelligence.github.io/nexlab/view-material/${y}`;return f.jsxs(be,{sx:{mt:3,p:2,border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:[f.jsx(ce,{variant:"h6",children:"Chatbot Details"}),f.jsxs(ce,{variant:"body1",children:[f.jsx("strong",{children:"Title:"})," ",c]}),f.jsxs(ce,{variant:"body1",children:[f.jsx("strong",{children:"Course:"})," ",m]}),f.jsxs(ce,{variant:"body1",children:[f.jsx("strong",{children:"Material:"})," ",y!=="N/A"?f.jsx(fg,{href:A,target:"_blank",rel:"noopener noreferrer",children:x}):x]}),f.jsx(Za,{sx:{my:2}}),f.jsxs(ce,{variant:"body1",children:[f.jsx("strong",{children:"Created By:"})," ",h]}),f.jsxs(ce,{variant:"body1",children:[f.jsx("strong",{children:"Created At:"})," ",g?new Date(g).toLocaleString():"N/A"]})]})},D4=qc(lt)({width:100,height:40,display:"flex",alignItems:"center",justifyContent:"center"}),$J=({open:e,onClose:n,onConfirm:t,conversationId:r,deleting:i})=>f.jsxs(Si,{open:e,onClose:n,children:[f.jsx(zi,{children:"Confirm Deletion"}),f.jsx(Ai,{children:f.jsxs(ko,{children:["Are you sure you want to delete the conversation with ID: ",f.jsx("strong",{children:r}),"? This action cannot be undone."]})}),f.jsxs(qi,{children:[f.jsx(D4,{onClick:n,color:"primary",variant:"outlined",children:"Cancel"}),f.jsx(D4,{onClick:t,color:"error",disabled:i,children:i?f.jsx(Rr,{size:20,color:"inherit"}):"Delete"})]})]}),HJ=()=>{const e=Un(),n=pi(),[t,r]=K.useState([]),[i,a]=K.useState([]),[s,l]=K.useState(1),[c]=K.useState(10),[d,h]=K.useState(!0),[g,b]=K.useState(null),[m,x]=K.useState([]),[y,A]=K.useState(null),[w,C]=K.useState(!1),[N,P]=K.useState(null),[F,R]=K.useState({}),k="https://rag-flask-api.onrender.com",[M,q]=K.useState([]),[Q,T]=K.useState([]),[O,L]=K.useState("All"),[j,X]=K.useState("All"),[H,G]=K.useState(null),[ee,le]=K.useState(null),[Y,te]=K.useState(!1),[U,B]=K.useState(null),[re,Z]=K.useState(!1),[ne,ve]=K.useState({open:!1,message:"",type:"success"}),ye=()=>{ve(he=>({...he,open:!1}))};K.useEffect(()=>{(async()=>{try{const we=(await hi(bn(e,"conversations"))).docs.map(_e=>({id:_e.id,..._e.data()}));r(we);const Le=Array.from(new Set(we.map(_e=>_e.chatbotId)));q(we.length>0?["All",...Le]:[]);const Fe=Array.from(new Set(we.map(_e=>_e.userId)));T(we.length>0?["All",...Fe]:[]),a(we)}catch(de){console.error("Error fetching chatbot conversations:",de),b("Failed to load conversations. Please try again later.")}finally{h(!1)}})()},[e]);const Ce=(he,de)=>{he==="chatbot"?L(de):X(de);const we=he==="chatbot"?de:O,Le=he==="user"?de:j;let Fe=t;we!=="All"&&(Fe=Fe.filter(_e=>_e.chatbotId===we)),Le!=="All"&&(Fe=Fe.filter(_e=>_e.userId===Le)),a(Fe),we==="All"&&Le==="All"&&a(t),l(1)},Oe=async(he,de,we,Le)=>{var Fe,_e,Qe,st,nt;R(De=>({...De,[de]:!0})),A(null);try{const De=await ga.get(`${k}/conversations/${he}/${de}`);x(De.data);const Ne=(await(async()=>{try{const ut=new Map;return(await hi(bn(e,"chatbots"))).forEach(Dt=>{ut.set(Dt.data().chatbotId,Dt.data())}),ut}catch(ut){return console.error("Error fetching chatbots:",ut),new Map}})()).get(he);G(Ne?{chatbotId:he,chatbotTitle:Ne.title||"N/A",courseTitle:((Fe=Ne.courseId)==null?void 0:Fe.title)||"N/A",courseId:((_e=Ne.courseId)==null?void 0:_e.id)||"N/A",materialTitle:((Qe=Ne.material)==null?void 0:Qe.title)||"N/A",materialId:((st=Ne.material)==null?void 0:st.id)||"N/A",materialLink:`https://institute-for-future-intelligence.github.io/nexlab/view-material/${((nt=Ne.material)==null?void 0:nt.id)||""}`,chatbotCreatedBy:Ne.createdBy||"Unknown",chatbotCreatedAt:Ne.timestamp||"N/A"}:null),le({userId:we,startedAt:Le}),P({chatbotId:he,conversationId:de}),C(!0)}catch(De){console.error("Error fetching conversation or chatbot details:",De),A("Failed to fetch conversation history or chatbot details.")}finally{R(De=>({...De,[de]:!1}))}},Ie=s*c,Ue=Ie-c,He=i.slice(Ue,Ie);if(d)return f.jsx(be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:f.jsx(Rr,{})});if(g)return f.jsx(be,{sx:{textAlign:"center",mt:4},children:f.jsx(ce,{variant:"h6",color:"error",children:g})});const V=he=>{B(he),te(!0)},Se=()=>{te(!1),B(null)},se=async()=>{if(U){Z(!0);try{await $g(hn(e,"conversations",U)),r(he=>he.filter(de=>de.id!==U)),a(he=>he.filter(de=>de.id!==U)),ve({open:!0,message:"Conversation deleted successfully.",type:"success"}),Se()}catch(he){console.error("Error deleting conversation:",he),ve({open:!0,message:"Failed to delete the conversation. Please try again.",type:"error"})}finally{Z(!1),Se()}}};return f.jsxs(be,{className:"profile-container",sx:{p:4},children:[f.jsx(lt,{variant:"text",onClick:()=>n("/"),className:"profile-button",children:" Home Page"}),f.jsx(ce,{variant:"h5",className:"webpage_title",sx:{mb:2},children:"Chatbot Conversations"}),f.jsxs(be,{sx:{display:"flex",gap:2,mb:3},children:[f.jsxs(Bc,{sx:{minWidth:200},children:[f.jsx(Uc,{id:"filter-chatbot-id",children:"Filter by Chatbot ID"}),f.jsx(Pl,{labelId:"filter-chatbot-id",value:O,onChange:he=>Ce("chatbot",he.target.value),children:M.length>0?M.map(he=>f.jsx(Kn,{value:he,children:he},he)):f.jsx(Kn,{value:"",disabled:!0,children:"No Chatbots Available"})})]}),f.jsxs(Bc,{sx:{minWidth:200},children:[f.jsx(Uc,{id:"filter-user-id",children:"Filter by User ID"}),f.jsx(Pl,{labelId:"filter-user-id",value:j,onChange:he=>Ce("user",he.target.value),children:Q.map(he=>f.jsx(Kn,{value:he,children:he},he))})]})]}),O!=="All"&&f.jsx(UJ,{chatbotId:O}),f.jsxs(be,{className:"profile-container",sx:{p:4},children:[f.jsx(rZ,{conversations:He,onViewHistory:(he,de,we,Le)=>Oe(he,de,we,Le),onDeleteConversation:V,loadingMap:F}),f.jsx($J,{open:Y,onClose:Se,onConfirm:se,conversationId:U||"",deleting:re})]}),f.jsx(BJ,{totalItems:i.length,itemsPerPage:c,currentPage:s,onPageChange:l}),N&&H&&ee&&f.jsx(qJ,{open:w,onClose:()=>{C(!1),P(null)},conversationHistory:m,conversationId:N.conversationId,conversationHistoryError:y,chatbotDetails:H,userId:ee.userId,startedAt:ee.startedAt}),f.jsx(no,{open:ne.open,autoHideDuration:3e3,onClose:ye,message:ne.message,anchorOrigin:{vertical:"top",horizontal:"center"},ContentProps:{style:{backgroundColor:ne.type==="success"?"#4caf50":"#f44336"}}})]})},WJ=()=>{const[e,n]=K.useState([]),[t,r]=K.useState(!0),[i,a]=K.useState({}),[s,l]=K.useState(!1),[c,d]=K.useState(""),[h,g]=K.useState("success"),b=pi();K.useEffect(()=>{(async()=>{const k=Un(),M=bn(k,"chatbotRequests");try{const Q=(await hi(M)).docs.map(T=>({id:T.id,...T.data()}));n(Q)}catch(q){console.error("Error fetching chatbot requests:",q)}finally{r(!1)}})()},[]);const m=async R=>{const k=i[R];if(!k){d("Please assign a Chatbot ID before approving the request."),g("error"),l(!0);return}try{const M=Un(),q=hn(M,"chatbotRequests",R),Q=await ms(q);if(!Q.exists()){d("Request not found. Please refresh the page."),g("error"),l(!0);return}const T=Q.data();if(T.status!=="pending"){d("This request has already been processed."),g("warning"),l(!0);return}await Dr(q,{status:"approved",chatbotId:k});const O={chatbotId:k,title:T.title,courseId:{id:T.courseId,number:T.courseNumber,title:T.courseTitle},material:{id:T.materialId||null,title:T.materialTitle||"N/A"},createdBy:T.educatorId,files:T.files,timestamp:new Date().toISOString()};await Ra(bn(M,"chatbots"),O),n(L=>L.map(j=>j.id===R?{...j,status:"approved",chatbotId:k}:j)),d("Chatbot request approved and chatbot created successfully!"),g("success"),l(!0)}catch(M){console.error("Error approving chatbot request or creating chatbot:",M),d("Failed to approve the request and create the chatbot. Please try again."),g("error"),l(!0)}},x=()=>{l(!1)},[y,A]=K.useState(0),[w,C]=K.useState(5),N=(R,k)=>A(k),P=R=>{C(parseInt(R.target.value,10)),A(0)},F=(R,k)=>{a(M=>({...M,[R]:k}))};return t?f.jsx(be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:f.jsx(Rr,{})}):e.length===0?f.jsx(ce,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):f.jsxs(be,{className:"profile-container",sx:{p:4},children:[f.jsx(lt,{variant:"text",onClick:()=>b("/"),className:"profile-button",children:" Home Page"}),f.jsx(ce,{variant:"h5",className:"webpage_title",sx:{mb:2},children:"Chatbot Requests Management"}),f.jsx(ce,{variant:"body1",sx:{mb:3},children:"Manage chatbot requests submitted by educators. Approve requests and assign Chatbot IDs."}),f.jsxs(ju,{component:nn,elevation:3,sx:{maxHeight:"70vh",overflow:"auto"},children:[f.jsxs(Tu,{stickyHeader:!0,children:[f.jsx(Ou,{children:f.jsxs(Bi,{children:[f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Title"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Educator ID"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course ID"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material ID"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Submitted On"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Status"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"File Links"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Chatbot ID"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Action"})]})}),f.jsx(Iu,{children:e.slice(y*w,y*w+w).map((R,k)=>{var M;return f.jsxs(Bi,{sx:{backgroundColor:k%2===0?"#F6E9B2":"#FBFADA","&:hover":{backgroundColor:"#E8E8E8"}},children:[f.jsx(dt,{children:R.title}),f.jsx(dt,{children:`${R.courseNumber} - ${R.courseTitle}`}),f.jsx(dt,{children:R.materialTitle||"N/A"}),f.jsx(dt,{children:R.educatorId}),f.jsx(dt,{children:R.courseId}),f.jsx(dt,{children:R.materialId||"N/A"}),f.jsx(dt,{children:new Date(R.timestamp).toLocaleString()}),f.jsx(dt,{children:f.jsx(ce,{variant:"body2",sx:{color:R.status==="pending"?"#FFA726":"#43A047",fontWeight:"bold"},children:R.status})}),f.jsx(dt,{children:(M=R.files)!=null&&M.length?R.files.map((q,Q)=>f.jsx(EI,{filePath:q,fileLabel:`File ${Q+1}`},Q)):f.jsx(ce,{variant:"body2",children:"No files uploaded"})}),f.jsx(dt,{children:R.status==="approved"?f.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:R.chatbotId}):f.jsx(zt,{size:"small",value:i[R.id]||"",onChange:q=>F(R.id,q.target.value),placeholder:"Enter Chatbot ID",sx:{width:"150px"}})}),f.jsx(dt,{children:f.jsx(lt,{variant:"contained",color:"primary",onClick:()=>m(R.id),disabled:R.status==="approved",sx:{fontWeight:"bold"},children:R.status==="approved"?"Approved":"Approve"})})]},R.id)})})]}),f.jsx(IR,{rowsPerPageOptions:[5,10,25],component:"div",count:e.length,rowsPerPage:w,page:y,onPageChange:N,onRowsPerPageChange:P,"aria-label":"Chatbot requests pagination",sx:{mt:2}})]}),f.jsx(no,{open:s,autoHideDuration:6e3,onClose:x,children:f.jsx(nr,{onClose:x,severity:h,sx:{width:"100%"},children:c})})]})},Tg=Un(),Og={CHATBOTS:"chatbots",QUIZ_SESSIONS:"quizSessions",QUIZ_EVENTS:"quizEvents",USERS:"users"},VJ=async()=>{var e,n,t,r;try{console.log(" Loading chatbots with quiz information...");const i=So(bn(Tg,Og.CHATBOTS),Ug("timestamp","desc")),a=await hi(i),s=[];for(const l of a.docs){const c=l.data(),d={chatbotId:c.chatbotId,title:c.title||"Untitled Chatbot",materialTitle:((e=c.material)==null?void 0:e.title)||"Unknown Material",materialId:((n=c.material)==null?void 0:n.id)||"",courseId:((t=c.courseId)==null?void 0:t.id)||"",courseTitle:((r=c.courseId)==null?void 0:r.title)||"Unknown Course",createdBy:c.createdBy||"",timestamp:c.timestamp||new Date().toISOString(),quizId:null,hasQuiz:!0};s.push(d)}for(const l of s)try{const c=So(bn(Tg,Og.QUIZ_SESSIONS),wi("chatbotId","==",l.chatbotId),lv(1)),d=await hi(c);if(!d.empty){const h=d.docs[0].data();l.quizId=h.quizId||null}}catch(c){console.warn(` Could not fetch quiz ID for chatbot ${l.chatbotId}:`,c),l.quizId=null}return console.log(` Loaded ${s.length} chatbots with quiz information`),s}catch(i){throw console.error(" Error loading chatbots with quizzes:",i),i}},YJ=async(e={},n=100,t)=>{var r,i;try{console.log(" Loading enhanced quiz sessions with filters:",e);const a=bn(Tg,Og.QUIZ_SESSIONS),s=[];e.chatbotId&&s.push(wi("chatbotId","==",e.chatbotId)),e.difficulty&&e.difficulty!=="all"&&s.push(wi("difficulty","==",e.difficulty)),e.completionStatus&&e.completionStatus!=="all"&&s.push(wi("completed","==",e.completionStatus==="completed")),e.userId&&s.push(wi("userId","==",e.userId)),e.dateRange&&(s.push(wi("startedAt",">=",Ka.fromDate(new Date(e.dateRange.start)))),s.push(wi("startedAt","<=",Ka.fromDate(new Date(e.dateRange.end))))),s.push(Ug("startedAt","desc")),s.push(lv(n));const l=So(a,...s),c=await hi(l),d=[],h=new Map;for(const m of c.docs){const x=m.data();let y=h.get(x.userId);if(!y){const P=x.userId.length>12?`${x.userId.substring(0,8)}...${x.userId.slice(-4)}`:x.userId.substring(0,12);y={email:P,displayName:`User ${P}`},h.set(x.userId,y)}let A,w;if(x.startedAt&&x.submittedAt){const P=x.startedAt.toMillis(),F=x.submittedAt.toMillis(),R=Math.round((F-P)/1e3),k=Math.floor(R/60),M=R%60;A=R,w=`${k}m ${M}s`}const C=Object.keys(x.finalAnswers||{}).length,N={id:m.id,quizId:x.quizId,chatbotId:x.chatbotId,userId:x.userId,userEmail:y.email,userName:y.displayName,difficulty:x.difficulty,startedAt:x.startedAt.toDate().toISOString(),submittedAt:(r=x.submittedAt)==null?void 0:r.toDate().toISOString(),closedAt:(i=x.closedAt)==null?void 0:i.toDate().toISOString(),completed:x.completed,answers:x.finalAnswers||{},summary:x.summary,questionsAttempted:C,timeSpent:A,timeSpentFormatted:w};d.push(N)}const g=c.docs.length===n,b=c.docs.length>0?c.docs[c.docs.length-1]:void 0;return console.log(` Loaded ${d.length} enhanced quiz sessions`),{sessions:d,hasMore:g,lastDoc:b}}catch(a){throw console.error(" Error loading enhanced quiz sessions:",a),a}},GJ=async e=>{var n;try{console.log(" Loading quiz pool for quiz:",e);const t=So(bn(Tg,Og.QUIZ_SESSIONS),wi("quizId","==",e),Ug("startedAt","desc"),lv(50)),r=await hi(t),i=new Set,a=new Map;for(const g of r.docs){const b=g.data();(n=b.summary)!=null&&n.items&&Object.keys(b.summary.items).forEach(m=>{i.add(m)}),b.finalAnswers&&Object.entries(b.finalAnswers).forEach(([m,x])=>{i.add(m),a.has(m)||a.set(m,x)})}const s=Array.from(i).map(g=>{const b=a.get(g)||"",m=b.length>0?`Question about: ${b.split(" ").slice(0,10).join(" ")}${b.split(" ").length>10?"...":""}`:"Question text not available";return{questionId:g,question:m,category:"Biology Fundamentals",difficulty:"medium",maxScore:100}}),l=s.length>0?s:[{questionId:"no-sessions-found",question:"No quiz sessions found for this quiz ID. Question IDs will appear here once students take quizzes.",category:"Biology Fundamentals",difficulty:"medium",maxScore:100}],c={},d={easy:0,medium:0,hard:0};l.forEach(g=>{c[g.category]=(c[g.category]||0)+1,d[g.difficulty]=(d[g.difficulty]||0)+1});const h={quizId:e,chatbotId:e,questions:l,categoryCounts:c,difficultyBreakdown:d,totalQuestions:l.length,lastUpdated:new Date().toISOString()};return console.log(` Loaded quiz pool with ${l.length} real question IDs from ${r.docs.length} sessions`),h}catch(t){throw console.error(" Error loading quiz pool:",t),t}},QJ=e=>{try{console.log(" Generating quiz analytics from",e.length,"sessions");const n=e.filter(h=>h.completed&&h.summary),t=e.length,r=t>0?n.length/t*100:0,i=n.length>0?n.reduce((h,g)=>{var b;return h+(((b=g.summary)==null?void 0:b.percent)||0)},0)/n.length:0,a=e.filter(h=>h.timeSpent).length>0?Math.round(e.filter(h=>h.timeSpent).reduce((h,g)=>h+(g.timeSpent||0),0)/e.filter(h=>h.timeSpent).length):0,s={easy:0,medium:0,hard:0};e.forEach(h=>{s[h.difficulty]=(s[h.difficulty]||0)+1});const l={};n.forEach(h=>{var g;(g=h.summary)!=null&&g.items&&Object.values(h.summary.items).forEach(b=>{const m="Mixed Questions";l[m]||(l[m]={averageScore:0,totalAttempts:0,successRate:0}),l[m].totalAttempts+=1,l[m].averageScore+=b.score,b.verdict==="correct"&&(l[m].successRate+=1)})}),Object.keys(l).forEach(h=>{const g=l[h];g.totalAttempts>0&&(g.averageScore=g.averageScore/g.totalAttempts,g.successRate=g.successRate/g.totalAttempts*100)});const c={daily:{},weekly:{},monthly:{}};e.forEach(h=>{const g=new Date(h.startedAt),b=g.toISOString().split("T")[0],m=`${g.getFullYear()}-W${Math.ceil(g.getDate()/7)}`,x=`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}`;c.daily[b]=(c.daily[b]||0)+1,c.weekly[m]=(c.weekly[m]||0)+1,c.monthly[x]=(c.monthly[x]||0)+1});const d={totalSessions:t,completionRate:r,averageScore:i,averageTimeSpent:a,difficultyDistribution:s,categoryPerformance:l,timeBasedStats:c};return console.log(" Generated quiz analytics:",d),d}catch(n){throw console.error(" Error generating quiz analytics:",n),n}},KJ=async e=>{var n;try{console.log(" Exporting quiz session data for:",e);const t=await ms(hn(Tg,Og.QUIZ_SESSIONS,e));if(!t.exists())throw new Error("Quiz session not found");const r=t.data(),i={sessionId:e,quizId:r.quizId,chatbotId:r.chatbotId,userId:r.userId,difficulty:r.difficulty,startedAt:r.startedAt.toDate().toISOString(),submittedAt:(n=r.submittedAt)==null?void 0:n.toDate().toISOString(),completed:r.completed,answers:r.finalAnswers||{},summary:r.summary,exportedAt:new Date().toISOString()},a=JSON.stringify(i,null,2),s=new Blob([a],{type:"application/json"});return console.log(" Quiz session data exported successfully"),s}catch(t){throw console.error(" Error exporting quiz session data:",t),t}},L4={difficulty:"all",completionStatus:"all"},XI=gp()(cm(dv((e,n)=>({courses:[],selectedCourse:null,chatbotsWithQuizzes:[],filteredChatbots:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,filters:L4,selectedSession:null,loadChatbotsWithQuizzes:async()=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading chatbots with quizzes...");const t=await VJ(),r=new Map;t.forEach(a=>{r.has(a.courseId)||r.set(a.courseId,{courseId:a.courseId,courseTitle:a.courseTitle,chatbotCount:0,quizCount:0});const s=r.get(a.courseId);s.chatbotCount++,a.quizId&&s.quizCount++});const i=Array.from(r.values()).sort((a,s)=>a.courseTitle.localeCompare(s.courseTitle));e({chatbotsWithQuizzes:t,courses:i,filteredChatbots:t,loading:!1}),console.log(` Loaded ${t.length} chatbots with quiz information from ${i.length} courses`)}catch(t){console.error(" Failed to load chatbots with quizzes:",t),e({error:t instanceof Error?t.message:"Failed to load chatbots",loading:!1})}},selectCourse:t=>{console.log(" Quiz Management Store: Selecting course:",t==null?void 0:t.courseId);const{chatbotsWithQuizzes:r}=n(),i=t?r.filter(a=>a.courseId===t.courseId):r;e({selectedCourse:t,filteredChatbots:i,selectedChatbot:null,selectedSession:null,quizSessions:[]})},selectChatbot:t=>{console.log(" Quiz Management Store: Selecting chatbot:",t==null?void 0:t.chatbotId),e({selectedChatbot:t,selectedSession:null,filters:{...n().filters,chatbotId:t==null?void 0:t.chatbotId}}),t&&n().loadQuizSessions(t.chatbotId)},loadQuizSessions:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading quiz sessions for chatbot:",t);const r=n().filters,i=t?{...r,chatbotId:t}:r,a=await YJ(i);e({quizSessions:a.sessions,loading:!1}),n().generateAnalytics(),console.log(` Loaded ${a.sessions.length} enhanced quiz sessions`)}catch(r){console.error(" Failed to load quiz sessions:",r),e({error:r instanceof Error?r.message:"Failed to load quiz sessions",loading:!1})}},loadQuizPool:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading quiz pool for:",t);const r=await GJ(t);e(i=>({quizPools:{...i.quizPools,[t]:r},loading:!1})),console.log(` Loaded quiz pool with ${r.totalQuestions} questions`)}catch(r){console.error(" Failed to load quiz pool:",r),e({error:r instanceof Error?r.message:"Failed to load quiz pool",loading:!1})}},updateFilters:t=>{const r={...n().filters,...t};console.log(" Quiz Management Store: Updating filters:",r),e({filters:r}),n().loadQuizSessions(r.chatbotId)},selectSession:t=>{console.log(" Quiz Management Store: Selecting session:",t==null?void 0:t.id),e({selectedSession:t})},generateAnalytics:()=>{try{const{quizSessions:t}=n();console.log(" Quiz Management Store: Generating analytics from",t.length,"sessions");const r=QJ(t);e({analytics:r}),console.log(" Generated quiz analytics successfully")}catch(t){console.error(" Failed to generate analytics:",t),e({error:t instanceof Error?t.message:"Failed to generate analytics"})}},exportSessionData:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Exporting session data for:",t);const r=await KJ(t),i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=`quiz-session-${t}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i),e({loading:!1}),console.log(" Quiz session data exported successfully")}catch(r){console.error(" Failed to export session data:",r),e({error:r instanceof Error?r.message:"Failed to export session data",loading:!1})}},clearError:()=>{e({error:null})},reset:()=>{console.log(" Quiz Management Store: Resetting store state"),e({chatbotsWithQuizzes:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,filters:L4,selectedSession:null})}}),{name:"quiz-management-store",partialize:e=>({filters:e.filters,selectedChatbot:e.selectedChatbot}),merge:(e,n)=>({...n,...e||{},courses:[],selectedCourse:null,chatbotsWithQuizzes:[],filteredChatbots:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,selectedSession:null})}),{name:"quiz-management-store"})),XJ=({courses:e,selectedCourse:n,onSelect:t,loading:r=!1})=>f.jsx(be,{children:f.jsx(aT,{value:n,onChange:(i,a)=>t(a),options:e,getOptionLabel:i=>i.courseTitle,loading:r,renderInput:i=>f.jsx(zt,{...i,label:"Select Course",placeholder:"Choose a course to filter materials...",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, sans-serif","& fieldset":{borderColor:"#CDDAFF",borderWidth:2},"&:hover fieldset":{borderColor:"#0B53C0"},"&.Mui-focused fieldset":{borderColor:"#0B53C0",borderWidth:2}},"& .MuiInputLabel-root":{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",fontWeight:"bold","&.Mui-focused":{color:"#0B53C0"}}},InputProps:{...i.InputProps,endAdornment:f.jsxs(f.Fragment,{children:[r?f.jsx(Rr,{color:"inherit",size:20}):null,i.InputProps.endAdornment]})}}),renderOption:(i,a)=>{const{...s}=i;return f.jsx(be,{component:"li",...s,sx:{"&:hover":{backgroundColor:"#F0F4FF !important"}},children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",width:"100%",p:2},children:[f.jsx(sp,{sx:{mr:2,flexShrink:0,color:"#0B53C0",fontSize:28}}),f.jsxs(be,{sx:{flex:1,minWidth:0},children:[f.jsx(ce,{variant:"subtitle1",noWrap:!0,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#0B53C0",fontWeight:"bold"},children:a.courseTitle}),f.jsxs(ce,{variant:"body2",sx:{fontFamily:"Gabarito, sans-serif",color:"#666666",display:"flex",alignItems:"center",mt:.5},children:[f.jsx(Md,{sx:{fontSize:14,mr:.5}}),a.chatbotCount," material",a.chatbotCount!==1?"s":"","  ",a.quizCount," quiz",a.quizCount!==1?"zes":""," available"]})]}),f.jsxs(be,{sx:{ml:2,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:.5},children:[f.jsx(_n,{label:`${a.chatbotCount} Material${a.chatbotCount!==1?"s":""}`,size:"small",sx:{backgroundColor:"#CDDAFF",color:"#0B53C0",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}}),a.quizCount>0&&f.jsx(_n,{label:`${a.quizCount} Quiz${a.quizCount!==1?"zes":""}`,size:"small",sx:{backgroundColor:"#C8E6C9",color:"#2E7D32",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}})]})]})},a.courseId)},PaperComponent:i=>f.jsx(nn,{...i,sx:{mt:1,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #CDDAFF",backgroundColor:"#FFFFFF"}}),isOptionEqualToValue:(i,a)=>i.courseId===a.courseId,noOptionsText:r?"Loading courses...":"No courses found.",clearOnBlur:!0,selectOnFocus:!0})}),ZJ=({chatbots:e,selectedChatbot:n,onSelect:t,loading:r=!1})=>f.jsxs(be,{children:[f.jsx(aT,{value:n,onChange:(i,a)=>t(a),options:e,getOptionLabel:i=>i.title,loading:r,renderInput:i=>f.jsx(zt,{...i,label:"Select Chatbot & Material",placeholder:"Choose a chatbot to view its quiz data...",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, sans-serif","& fieldset":{borderColor:"#CDDAFF",borderWidth:2},"&:hover fieldset":{borderColor:"#0B53C0"},"&.Mui-focused fieldset":{borderColor:"#0B53C0",borderWidth:2}},"& .MuiInputLabel-root":{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",fontWeight:"bold","&.Mui-focused":{color:"#0B53C0"}}},InputProps:{...i.InputProps,endAdornment:f.jsxs(f.Fragment,{children:[r?f.jsx(Rr,{color:"inherit",size:20}):null,i.InputProps.endAdornment]})}}),renderOption:(i,a)=>{const{...s}=i;return f.jsx(be,{component:"li",...s,sx:{"&:hover":{backgroundColor:"#F0F4FF !important"}},children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",width:"100%",p:2},children:[f.jsx(Md,{sx:{mr:2,flexShrink:0,color:"#0B53C0",fontSize:28}}),f.jsxs(be,{sx:{flex:1,minWidth:0},children:[f.jsx(ce,{variant:"subtitle1",noWrap:!0,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#0B53C0",fontWeight:"bold"},children:a.title}),f.jsxs(ce,{variant:"body2",noWrap:!0,sx:{fontFamily:"Gabarito, sans-serif",color:"#666666",display:"flex",alignItems:"center",mt:.5},children:[f.jsx(DR,{sx:{fontSize:14,mr:.5}}),a.materialTitle]}),f.jsxs(ce,{variant:"caption",noWrap:!0,sx:{fontFamily:"Gabarito, sans-serif",color:"#888888",display:"flex",alignItems:"center",mt:.25},children:[f.jsx(sp,{sx:{fontSize:12,mr:.5}}),a.courseTitle]})]}),f.jsxs(be,{sx:{ml:2,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:.5},children:[a.quizId&&f.jsx(_n,{label:"Quiz Available",size:"small",sx:{backgroundColor:"#C8E6C9",color:"#2E7D32",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}}),f.jsxs(ce,{variant:"caption",sx:{fontFamily:"monospace",color:a.quizId?"#0B53C0":"#888888",fontSize:"0.7rem",backgroundColor:a.quizId?"#F0F4FF":"#F5F5F5",padding:"2px 6px",borderRadius:"4px",border:`1px solid ${a.quizId?"#CDDAFF":"#E0E0E0"}`},children:["Quiz: ",a.quizId?a.quizId.substring(0,8)+"...":"N/A"]}),f.jsxs(ce,{variant:"caption",sx:{fontFamily:"monospace",color:"#888888",fontSize:"0.65rem"},children:["ChatBot: ",a.chatbotId.substring(0,8),"..."]})]})]})},a.chatbotId)},PaperComponent:i=>f.jsx(nn,{...i,sx:{mt:1,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #CDDAFF",backgroundColor:"#FFFFFF"}}),isOptionEqualToValue:(i,a)=>i.chatbotId===a.chatbotId,noOptionsText:r?"Loading chatbots...":"No chatbots found. Create a chatbot first to see quiz data.",clearOnBlur:!0,handleHomeEndKeys:!0}),e.length===0&&!r&&f.jsx(be,{sx:{mt:2,p:2,bgcolor:"info.light",borderRadius:1},children:f.jsxs(ce,{variant:"body2",color:"info.contrastText",children:[f.jsx("strong",{children:"No chatbots available."})," You need to create chatbots first before you can manage quiz sessions. Each chatbot automatically has an associated quiz with predefined questions."]})})]}),JJ=({sessions:e,loading:n=!1,onViewDetails:t,onExportSession:r})=>{const i=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),a=l=>{switch(l){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},s=l=>l>=80?"success":l>=60?"warning":"error";return n?f.jsxs(be,{sx:{width:"100%",mt:2},children:[f.jsx(tl,{}),f.jsx(ce,{variant:"body2",sx:{mt:1,textAlign:"center"},children:"Loading quiz sessions..."})]}):e.length===0?f.jsxs(be,{sx:{textAlign:"center",py:8},children:[f.jsx(Md,{sx:{fontSize:64,color:"text.secondary",mb:2}}),f.jsx(ce,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No quiz sessions found"}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:"No quiz sessions have been completed for this chatbot yet. Students need to take quizzes to see data here."})]}):f.jsx(ju,{component:nn,variant:"outlined",children:f.jsxs(Tu,{children:[f.jsx(Ou,{children:f.jsxs(Bi,{children:[f.jsx(dt,{children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(Md,{fontSize:"small"}),"Session ID"]})}),f.jsx(dt,{children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(sT,{fontSize:"small"}),"User ID"]})}),f.jsx(dt,{children:f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(LR,{fontSize:"small"}),"Date & Time"]})}),f.jsx(dt,{children:"Difficulty"}),f.jsx(dt,{children:"Status"}),f.jsx(dt,{align:"center",children:"Questions"}),f.jsx(dt,{align:"center",children:"Time Spent"}),f.jsx(dt,{align:"center",children:"Score"}),f.jsx(dt,{align:"center",children:"Performance"}),f.jsx(dt,{align:"center",children:"Actions"})]})}),f.jsx(Iu,{children:e.map(l=>f.jsxs(Bi,{hover:!0,children:[f.jsx(dt,{children:f.jsx(ce,{variant:"body2",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:l.id})}),f.jsx(dt,{children:f.jsx(ce,{variant:"body2",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:l.userId})}),f.jsx(dt,{children:f.jsxs(be,{children:[f.jsx(ce,{variant:"body2",children:i(l.startedAt)}),l.submittedAt&&f.jsxs(ce,{variant:"caption",color:"text.secondary",children:["Submitted: ",i(l.submittedAt)]})]})}),f.jsx(dt,{children:f.jsx(_n,{label:l.difficulty.charAt(0).toUpperCase()+l.difficulty.slice(1),color:a(l.difficulty),size:"small"})}),f.jsx(dt,{children:f.jsx(_n,{label:l.completed?"Completed":"In Progress",color:l.completed?"success":"warning",size:"small",variant:l.completed?"filled":"outlined"})}),f.jsxs(dt,{align:"center",children:[f.jsx(ce,{variant:"body2",fontWeight:"medium",children:l.questionsAttempted}),f.jsx(ce,{variant:"caption",color:"text.secondary",children:"attempted"})]}),f.jsx(dt,{align:"center",children:l.timeSpentFormatted?f.jsxs(be,{children:[f.jsx(ce,{variant:"body2",fontWeight:"medium",children:l.timeSpentFormatted}),f.jsx(ce,{variant:"caption",color:"text.secondary",children:"duration"})]}):f.jsx(ce,{variant:"body2",color:"text.secondary",children:"-"})}),f.jsx(dt,{align:"center",children:l.summary?f.jsxs(be,{children:[f.jsxs(ce,{variant:"body2",fontWeight:"bold",children:[l.summary.total_score,"/",l.summary.total_max]}),f.jsx(ce,{variant:"caption",color:"text.secondary",children:"points"})]}):f.jsx(ce,{variant:"body2",color:"text.secondary",children:"-"})}),f.jsx(dt,{align:"center",children:l.summary?f.jsx(_n,{label:`${Math.round(l.summary.percent)}%`,color:s(l.summary.percent),size:"small"}):f.jsx(ce,{variant:"body2",color:"text.secondary",children:"-"})}),f.jsx(dt,{align:"center",children:f.jsxs(Qw,{direction:"row",spacing:1,justifyContent:"center",children:[f.jsx(Pi,{title:"View Details",children:f.jsx(un,{size:"small",onClick:()=>t(l),color:"primary",children:f.jsx(N6,{fontSize:"small"})})}),f.jsx(Pi,{title:"Export Data",children:f.jsx(un,{size:"small",onClick:()=>r(l.id),color:"secondary",children:f.jsx(hg,{fontSize:"small"})})})]})})]},l.id))})]})})},eee=({analytics:e})=>{const n=i=>{switch(i){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},t=i=>i>=70?"success":i>=50?"warning":"error",r=i=>{if(i===0)return"0s";const a=Math.floor(i/60),s=i%60;return a===0?`${s}s`:s===0?`${a}m`:`${a}m ${s}s`};return f.jsx(fs,{sx:{mb:4,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:f.jsxs(Js,{sx:{p:3},children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[f.jsx(RR,{color:"primary"}),"Quiz Analytics & Insights"]}),f.jsxs(mt,{container:!0,spacing:3,sx:{mb:4},children:[f.jsx(mt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(be,{sx:{textAlign:"center",p:2,bgcolor:"#CDDAFF",borderRadius:2,border:"1px solid #0B53C0"},children:[f.jsx(Md,{sx:{fontSize:40,color:"#0B53C0",mb:1}}),f.jsx(ce,{variant:"h4",sx:{color:"#0B53C0",fontFamily:"Staatliches, sans-serif"},children:e.totalSessions}),f.jsx(ce,{variant:"body2",sx:{color:"#0B53C0",fontFamily:"Gabarito, sans-serif"},children:"Total Sessions"})]})}),f.jsx(mt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(be,{sx:{textAlign:"center",p:2,bgcolor:"#C8E6C9",borderRadius:2,border:"1px solid #2E7D32"},children:[f.jsx(Bg,{sx:{fontSize:40,color:"#2E7D32",mb:1}}),f.jsxs(ce,{variant:"h4",sx:{color:"#2E7D32",fontFamily:"Staatliches, sans-serif"},children:[Math.round(e.completionRate),"%"]}),f.jsx(ce,{variant:"body2",sx:{color:"#2E7D32",fontFamily:"Gabarito, sans-serif"},children:"Completion Rate"})]})}),f.jsx(mt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(be,{sx:{textAlign:"center",p:2,bgcolor:"#E3F2FD",borderRadius:2,border:"1px solid #1565C0"},children:[f.jsx(oT,{sx:{fontSize:40,color:"#1565C0",mb:1}}),f.jsxs(ce,{variant:"h4",sx:{color:"#1565C0",fontFamily:"Staatliches, sans-serif"},children:[Math.round(e.averageScore),"%"]}),f.jsx(ce,{variant:"body2",sx:{color:"#1565C0",fontFamily:"Gabarito, sans-serif"},children:"Average Score"})]})}),f.jsx(mt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(be,{sx:{textAlign:"center",p:2,bgcolor:"#FFF3E0",borderRadius:2,border:"1px solid #F57C00"},children:[f.jsx(Q0,{sx:{fontSize:40,color:"#F57C00",mb:1}}),f.jsx(ce,{variant:"h4",sx:{color:"#F57C00",fontFamily:"Staatliches, sans-serif"},children:r(e.averageTimeSpent)}),f.jsx(ce,{variant:"body2",sx:{color:"#F57C00",fontFamily:"Gabarito, sans-serif"},children:"Avg. Time Spent"})]})})]}),f.jsx(Za,{sx:{my:3}}),f.jsxs(mt,{container:!0,spacing:4,children:[f.jsxs(mt,{item:!0,xs:12,md:6,children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(Md,{color:"primary"}),"Difficulty Distribution"]}),f.jsx(be,{sx:{mt:2},children:Object.entries(e.difficultyDistribution).map(([i,a])=>{const s=e.totalSessions>0?a/e.totalSessions*100:0;return f.jsxs(be,{sx:{mb:2},children:[f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[f.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(_n,{label:i.charAt(0).toUpperCase()+i.slice(1),color:n(i),size:"small"}),f.jsxs(ce,{variant:"body2",children:[a," sessions"]})]}),f.jsxs(ce,{variant:"body2",color:"text.secondary",children:[Math.round(s),"%"]})]}),f.jsx(tl,{variant:"determinate",value:s,color:n(i),sx:{height:8,borderRadius:4}})]},i)})})]}),f.jsxs(mt,{item:!0,xs:12,md:6,children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(sp,{color:"primary"}),"Bloom's Taxonomy Performance"]}),f.jsx(be,{sx:{mt:2},children:Object.entries(e.categoryPerformance).map(([i,a])=>f.jsxs(be,{sx:{mb:2},children:[f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[f.jsxs(be,{children:[f.jsx(ce,{variant:"body2",fontWeight:"medium",children:i}),f.jsxs(ce,{variant:"caption",color:"text.secondary",children:[a.totalAttempts," attempts"]})]}),f.jsxs(be,{sx:{textAlign:"right"},children:[f.jsxs(ce,{variant:"body2",fontWeight:"medium",children:[Math.round(a.averageScore),"%"]}),f.jsx(_n,{label:`${a.successRate}% success`,color:t(a.successRate),size:"small",variant:"outlined"})]})]}),f.jsx(tl,{variant:"determinate",value:a.successRate,color:t(a.successRate),sx:{height:6,borderRadius:3}})]},i))})]})]})]})})},tee=({quizId:e,open:n,onClose:t})=>{const{quizPools:r,loading:i}=XI(),a=r[e],s=c=>({Remember:"success",Understand:"info",Apply:"primary",Analyze:"warning",Evaluate:"error",Create:"secondary"})[c]||"primary",l=c=>{const d=["Remember","Understand","Apply","Analyze","Evaluate","Create"],h=c.split("").reduce((g,b)=>g+b.charCodeAt(0),0);return d[h%d.length]};return i?f.jsx(Si,{open:n,onClose:t,maxWidth:"md",fullWidth:!0,children:f.jsx(Ai,{children:f.jsxs(be,{sx:{display:"flex",flexDirection:"column",alignItems:"center",py:4},children:[f.jsx(tl,{sx:{width:"100%",mb:2}}),f.jsx(ce,{variant:"body1",children:"Loading quiz questions..."})]})})}):a?f.jsxs(Si,{open:n,onClose:t,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{minHeight:"80vh"}},children:[f.jsx(zi,{children:f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs(be,{children:[f.jsx(ce,{variant:"h5",component:"div",children:"Quiz Question Pool"}),f.jsxs(ce,{variant:"body2",color:"text.secondary",children:["Quiz ID: ",e.substring(0,16),"..."]})]}),f.jsx(un,{onClick:t,edge:"end",children:f.jsx(Kw,{})})]})}),f.jsxs(Ai,{dividers:!0,children:[f.jsx(fs,{sx:{mb:3},children:f.jsxs(Js,{children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(oT,{color:"primary"}),"Pool Statistics"]}),f.jsxs(mt,{container:!0,spacing:3,children:[f.jsx(mt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(be,{sx:{textAlign:"center",p:2,bgcolor:"primary.light",borderRadius:1},children:[f.jsx(ce,{variant:"h4",color:"primary.contrastText",children:a.totalQuestions}),f.jsx(ce,{variant:"body2",color:"primary.contrastText",children:"Total Questions"})]})}),f.jsx(mt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(be,{sx:{textAlign:"center",p:2,bgcolor:"success.light",borderRadius:1},children:[f.jsx(ce,{variant:"h4",color:"success.contrastText",children:a.difficultyBreakdown.easy||0}),f.jsx(ce,{variant:"body2",color:"success.contrastText",children:"Easy Questions"})]})}),f.jsx(mt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(be,{sx:{textAlign:"center",p:2,bgcolor:"warning.light",borderRadius:1},children:[f.jsx(ce,{variant:"h4",color:"warning.contrastText",children:a.difficultyBreakdown.medium||0}),f.jsx(ce,{variant:"body2",color:"warning.contrastText",children:"Medium Questions"})]})}),f.jsx(mt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(be,{sx:{textAlign:"center",p:2,bgcolor:"error.light",borderRadius:1},children:[f.jsx(ce,{variant:"h4",color:"error.contrastText",children:a.difficultyBreakdown.hard||0}),f.jsx(ce,{variant:"body2",color:"error.contrastText",children:"Hard Questions"})]})})]})]})}),f.jsx(fs,{sx:{mb:3},children:f.jsxs(Js,{children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(MR,{color:"primary"}),"Bloom's Taxonomy Categories"]}),f.jsx(mt,{container:!0,spacing:2,children:Object.entries(a.categoryCounts).map(([c,d])=>{const h=d/a.totalQuestions*100;return f.jsx(mt,{item:!0,xs:12,sm:6,md:4,children:f.jsxs(be,{sx:{p:2,border:"1px solid",borderColor:"grey.300",borderRadius:1},children:[f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[f.jsx(_n,{label:c,color:s(c),size:"small"}),f.jsxs(ce,{variant:"body2",fontWeight:"bold",children:[d," questions"]})]}),f.jsx(tl,{variant:"determinate",value:h,color:s(c),sx:{height:6,borderRadius:3}}),f.jsxs(ce,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:[Math.round(h),"% of total"]})]})},c)})})]})}),f.jsx(fs,{children:f.jsxs(Js,{children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(lT,{color:"primary"}),"Quiz Questions"]}),f.jsx(ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"All available question IDs from the quiz pool. Questions are categorized using Bloom's taxonomy levels and automatically selected based on quiz difficulty mode."}),f.jsx(ju,{component:nn,variant:"outlined",children:f.jsxs(Tu,{children:[f.jsx(Ou,{children:f.jsxs(Bi,{children:[f.jsx(dt,{children:"Question ID"}),f.jsx(dt,{children:"Question"}),f.jsx(dt,{align:"center",children:"Bloom's Taxonomy Category"})]})}),f.jsx(Iu,{children:a.questions.map((c,d)=>{const h=l(c.category);return f.jsxs(Bi,{hover:!0,children:[f.jsx(dt,{children:f.jsx(ce,{variant:"body2",fontFamily:"monospace",children:c.questionId})}),f.jsx(dt,{children:f.jsx(ce,{variant:"body2",sx:{maxWidth:400},children:c.question.length>120?`${c.question.substring(0,120)}...`:c.question})}),f.jsx(dt,{align:"center",children:f.jsx(_n,{label:h,color:s(h),size:"small"})})]},c.questionId)})})]})})]})}),f.jsx(Za,{sx:{my:3}}),f.jsxs(be,{sx:{p:2,bgcolor:"info.light",borderRadius:1},children:[f.jsxs(ce,{variant:"body2",color:"info.contrastText",children:[f.jsx("strong",{children:"Quiz Question Pool:"})," This shows the available questions that can be selected for quizzes. When students take a quiz, questions are automatically chosen from this pool based on the selected difficulty mode: Easy (~5 questions), Medium (~8 questions), Hard (~10 questions)."]}),f.jsxs(ce,{variant:"caption",color:"info.contrastText",sx:{mt:1,display:"block"},children:[f.jsx("strong",{children:"Note:"})," This is placeholder data for demonstration. Actual questions will be loaded from the quiz API."]})]})]}),f.jsx(qi,{children:f.jsx(lt,{onClick:t,variant:"contained",children:"Close"})})]}):f.jsxs(Si,{open:n,onClose:t,maxWidth:"md",fullWidth:!0,children:[f.jsx(zi,{children:f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsx(ce,{variant:"h6",children:"Quiz Pool"}),f.jsx(un,{onClick:t,edge:"end",children:f.jsx(Kw,{})})]})}),f.jsx(Ai,{children:f.jsxs(be,{sx:{textAlign:"center",py:4},children:[f.jsx(ce,{variant:"h6",color:"text.secondary",children:"Quiz pool not found"}),f.jsxs(ce,{variant:"body2",color:"text.secondary",children:["Unable to load questions for quiz ID: ",e]})]})}),f.jsx(qi,{children:f.jsx(lt,{onClick:t,children:"Close"})})]})},nee=({session:e,open:n,onClose:t})=>{const r=c=>new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),i=c=>{switch(c){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},a=c=>c==="correct"?"success":"error",s=c=>{const d=e.answers[c];if(!d)return"Question text not available";const h=d.split(" ");return h.length>15?`Question about: ${h.slice(0,15).join(" ")}...`:`Question about: ${d.substring(0,100)}${d.length>100?"...":""}`},l=()=>{const c={sessionId:e.id,quizId:e.quizId,chatbotId:e.chatbotId,student:{userId:e.userId,name:e.userName,email:e.userEmail},quiz:{difficulty:e.difficulty,startedAt:e.startedAt,submittedAt:e.submittedAt,completed:e.completed,timeSpent:e.timeSpent},answers:e.answers,summary:e.summary,exportedAt:new Date().toISOString()},d=JSON.stringify(c,null,2),h=new Blob([d],{type:"application/json"}),g=URL.createObjectURL(h),b=document.createElement("a");b.href=g,b.download=`quiz-session-${e.id}.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(g)};return f.jsxs(Si,{open:n,onClose:t,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{minHeight:"80vh"}},children:[f.jsx(zi,{children:f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs(be,{children:[f.jsx(ce,{variant:"h5",component:"div",children:"Quiz Session Details"}),f.jsxs(ce,{variant:"body2",color:"text.secondary",children:["Session ID: ",e.id]})]}),f.jsx(un,{onClick:t,edge:"end",children:f.jsx(Kw,{})})]})}),f.jsxs(Ai,{dividers:!0,children:[f.jsx(fs,{sx:{mb:3},children:f.jsxs(Js,{children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(sT,{color:"primary"}),"User Information"]}),f.jsx(mt,{container:!0,spacing:2,children:f.jsxs(mt,{item:!0,xs:12,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),f.jsx(ce,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all"},children:e.userId})]})})]})}),f.jsx(fs,{sx:{mb:3},children:f.jsxs(Js,{children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(Md,{color:"primary"}),"Quiz Information"]}),f.jsxs(mt,{container:!0,spacing:2,children:[f.jsxs(mt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Quiz ID"}),f.jsx(ce,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:e.quizId})]}),f.jsxs(mt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Chatbot ID"}),f.jsx(ce,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:e.chatbotId})]}),f.jsxs(mt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Difficulty"}),f.jsx(_n,{label:e.difficulty.charAt(0).toUpperCase()+e.difficulty.slice(1),color:i(e.difficulty),size:"small"})]}),f.jsxs(mt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Status"}),f.jsx(_n,{label:e.completed?"Completed":"In Progress",color:e.completed?"success":"warning",size:"small"})]}),f.jsxs(mt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Questions Attempted"}),f.jsxs(ce,{variant:"body1",children:[e.questionsAttempted," questions answered"]})]}),f.jsxs(mt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Quiz Mode"}),f.jsx(ce,{variant:"body1",children:e.difficulty==="easy"?"~5 questions (Remember/Understand focus)":e.difficulty==="medium"?"~8 questions (Mixed difficulty)":"~10 questions (Analyze/Evaluate focus)"})]})]})]})}),f.jsx(fs,{sx:{mb:3},children:f.jsxs(Js,{children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(Q0,{color:"primary"}),"Session Timeline"]}),f.jsxs(mt,{container:!0,spacing:2,children:[f.jsxs(mt,{item:!0,xs:12,md:4,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Started At"}),f.jsx(ce,{variant:"body1",children:r(e.startedAt)})]}),e.submittedAt&&f.jsxs(mt,{item:!0,xs:12,md:4,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Submitted At"}),f.jsx(ce,{variant:"body1",children:r(e.submittedAt)})]}),e.timeSpentFormatted&&f.jsxs(mt,{item:!0,xs:12,md:4,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Time Spent"}),f.jsx(ce,{variant:"body1",children:e.timeSpentFormatted})]})]})]})}),e.summary&&f.jsx(fs,{sx:{mb:3},children:f.jsxs(Js,{children:[f.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Quiz Results"}),f.jsxs(mt,{container:!0,spacing:2,sx:{mb:3},children:[f.jsx(mt,{item:!0,xs:12,md:4,children:f.jsxs(be,{sx:{textAlign:"center",p:2,bgcolor:"primary.light",borderRadius:1},children:[f.jsx(ce,{variant:"h4",color:"primary.contrastText",children:e.summary.total_score}),f.jsx(ce,{variant:"body2",color:"primary.contrastText",children:"Total Score"})]})}),f.jsx(mt,{item:!0,xs:12,md:4,children:f.jsxs(be,{sx:{textAlign:"center",p:2,bgcolor:"info.light",borderRadius:1},children:[f.jsx(ce,{variant:"h4",color:"info.contrastText",children:e.summary.total_max}),f.jsx(ce,{variant:"body2",color:"info.contrastText",children:"Maximum Score"})]})}),f.jsx(mt,{item:!0,xs:12,md:4,children:f.jsxs(be,{sx:{textAlign:"center",p:2,bgcolor:"success.light",borderRadius:1},children:[f.jsxs(ce,{variant:"h4",color:"success.contrastText",children:[Math.round(e.summary.percent),"%"]}),f.jsx(ce,{variant:"body2",color:"success.contrastText",children:"Percentage"})]})})]}),f.jsx(Za,{sx:{my:2}}),f.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Question Results"}),f.jsx(ju,{component:nn,variant:"outlined",children:f.jsxs(Tu,{size:"small",children:[f.jsx(Ou,{children:f.jsxs(Bi,{children:[f.jsx(dt,{children:"Question"}),f.jsx(dt,{align:"center",children:"Score"}),f.jsx(dt,{align:"center",children:"Max Score"}),f.jsx(dt,{align:"center",children:"Verdict"}),f.jsx(dt,{children:"Reasoning"})]})}),f.jsx(Iu,{children:Object.entries(e.summary.items).map(([c,d])=>f.jsxs(Bi,{children:[f.jsxs(dt,{children:[f.jsx(ce,{variant:"body2",sx:{mb:1},children:s(c)}),f.jsxs(ce,{variant:"caption",color:"text.secondary",fontFamily:"monospace",children:["ID: ",c]})]}),f.jsx(dt,{align:"center",children:f.jsx(ce,{variant:"body2",fontWeight:"bold",children:d.score})}),f.jsx(dt,{align:"center",children:f.jsx(ce,{variant:"body2",children:d.max_score})}),f.jsx(dt,{align:"center",children:(()=>{let h;return d.verdict==="correct"?h="correct":d.verdict==="incorrect"?h="incorrect":h=d.score>=d.max_score*.7?"correct":"incorrect",f.jsx(_n,{label:h,color:a(h),size:"small",icon:h==="correct"?f.jsx(Bg,{}):f.jsx(E6,{})})})()}),f.jsx(dt,{children:f.jsx(ce,{variant:"body2",children:d.reasoning||"No reasoning provided"})})]},c))})]})})]})}),Object.keys(e.answers).length>0&&f.jsx(fs,{children:f.jsxs(Js,{children:[f.jsx(ce,{variant:"h6",gutterBottom:!0,children:"User Answers"}),Object.entries(e.answers).map(([c,d],h)=>f.jsxs(yu,{children:[f.jsx(xu,{expandIcon:f.jsx(bo,{}),children:f.jsxs(ce,{variant:"subtitle1",children:["Question ",h+1," (",c,")"]})}),f.jsx(vu,{children:f.jsx(be,{sx:{p:2,bgcolor:"grey.50",borderRadius:1},children:f.jsx(ce,{variant:"body1",sx:{whiteSpace:"pre-wrap"},children:d})})})]},c))]})})]}),f.jsxs(qi,{children:[f.jsx(lt,{startIcon:f.jsx(hg,{}),onClick:l,variant:"outlined",children:"Export Session Data"}),f.jsx(lt,{onClick:t,variant:"contained",children:"Close"})]})]})},ree=()=>{const e=pi(),{userDetails:n}=Ci(),{courses:t,selectedCourse:r,chatbotsWithQuizzes:i,filteredChatbots:a,selectedChatbot:s,quizSessions:l,analytics:c,loading:d,error:h,filters:g,selectedSession:b,loadChatbotsWithQuizzes:m,selectCourse:x,selectChatbot:y,loadQuizSessions:A,loadQuizPool:w,updateFilters:C,selectSession:N,exportSessionData:P,clearError:F}=XI(),[R,k]=K.useState(!1),[M,q]=K.useState(!1),[Q,T]=K.useState("");K.useEffect(()=>{console.log(" Enhanced Quiz Management Page: Initializing..."),m()},[m]);const O=te=>{x(te),te&&console.log(" Selected course:",te.courseTitle,"with",te.chatbotCount,"chatbots")},L=te=>{y(te),te&&console.log(" Selected chatbot:",te.title,"with quiz ID:",te.quizId)},j=te=>{N(te),k(!0)},X=async te=>{await w(te),q(!0)},H=()=>{m(),s&&A(s.chatbotId)},G=async te=>{await P(te)},ee=te=>{C({difficulty:te})},le=te=>{C({completionStatus:te})},Y=te=>{T(te),C({userId:te||void 0})};return d&&i.length===0?f.jsxs(be,{sx:{width:"100%",mt:2},children:[f.jsx(tl,{}),f.jsx(ce,{variant:"body2",sx:{mt:1,textAlign:"center"},children:"Loading quiz management data..."})]}):f.jsxs(be,{className:"profile-container",children:[f.jsxs(be,{sx:{mb:4},children:[f.jsx(lt,{variant:"text",startIcon:f.jsx(PR,{}),onClick:()=>e("/"),className:"profile-button",sx:{mb:2},children:"Home Page"}),f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs(be,{children:[f.jsx(ce,{className:"webpage_title",children:"Quiz Management"}),f.jsx(ce,{variant:"body1",className:"profile-text",children:"Comprehensive quiz analytics and session management"})]}),f.jsx(Qw,{direction:"row",spacing:2,children:f.jsx(Pi,{title:"Refresh Data",children:f.jsx("span",{children:f.jsx(un,{onClick:H,disabled:d,children:f.jsx(tT,{})})})})})]})]}),h&&f.jsx(nr,{severity:"error",sx:{mb:3},onClose:F,children:h}),f.jsx(fs,{sx:{mb:4,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:f.jsxs(Js,{sx:{p:3},children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[f.jsx(sp,{color:"primary"}),"Course & Quiz Selection"]}),f.jsx(ce,{variant:"body2",sx:{mb:3,fontFamily:"Gabarito, sans-serif",color:"#666666"},children:"First select a course to filter materials, then choose a specific chatbot to view its quiz sessions and manage quiz data."}),f.jsx(be,{sx:{mb:3},children:f.jsx(XJ,{courses:t,selectedCourse:r,onSelect:O,loading:d})}),f.jsx(be,{children:f.jsx(ZJ,{chatbots:a,selectedChatbot:s,onSelect:L,loading:d})}),s&&f.jsxs(be,{sx:{mt:3,p:2,bgcolor:"#F0F4FF",borderRadius:2,border:"1px solid #CDDAFF"},children:[f.jsxs(mt,{container:!0,spacing:2,children:[f.jsxs(mt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Material"}),f.jsx(ce,{variant:"body1",sx:{fontFamily:"Gabarito, sans-serif"},children:s.materialTitle})]}),f.jsxs(mt,{item:!0,xs:12,md:3,children:[f.jsx(ce,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Course"}),f.jsx(ce,{variant:"body1",sx:{fontFamily:"Gabarito, sans-serif"},children:s.courseTitle})]}),f.jsxs(mt,{item:!0,xs:12,md:3,children:[f.jsx(ce,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Quiz ID"}),f.jsx(ce,{variant:"body1",fontFamily:"monospace",sx:{fontSize:"0.875rem",wordBreak:"break-all",lineHeight:1.2},children:s.quizId||"No Quiz ID Available"})]})]}),f.jsxs(be,{sx:{mt:2,display:"flex",gap:2},children:[f.jsx(lt,{variant:"outlined",startIcon:f.jsx(lT,{}),onClick:()=>s.quizId&&X(s.quizId),size:"small",sx:{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",borderColor:"#0B53C0","&:hover":{backgroundColor:"#0B53C0",color:"#FFFFFF"}},children:"View Quiz Questions"}),f.jsx(GE,{badgeContent:l.length,color:"primary",children:f.jsx(lt,{variant:"outlined",size:"small",sx:{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",borderColor:"#0B53C0"},children:"Quiz Sessions"})})]})]})]})}),c&&f.jsx(eee,{analytics:c}),s&&f.jsx(fs,{sx:{backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:f.jsxs(Js,{sx:{p:3},children:[f.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[f.jsxs(ce,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[f.jsx(Md,{color:"primary"}),"Quiz Sessions",f.jsx(GE,{badgeContent:l.length,color:"primary",sx:{ml:1}})]}),f.jsxs(Qw,{direction:"row",spacing:2,alignItems:"center",flexWrap:"wrap",children:[f.jsx(zt,{size:"small",label:"Filter by User ID",placeholder:"Enter user ID...",value:Q,onChange:te=>Y(te.target.value),sx:{minWidth:200}}),f.jsxs(Bc,{size:"small",sx:{minWidth:120},children:[f.jsx(Uc,{children:"Difficulty"}),f.jsxs(Pl,{value:g.difficulty||"all",label:"Difficulty",onChange:te=>ee(te.target.value),children:[f.jsx(Kn,{value:"all",children:"All Levels"}),f.jsx(Kn,{value:"easy",children:"Easy"}),f.jsx(Kn,{value:"medium",children:"Medium"}),f.jsx(Kn,{value:"hard",children:"Hard"})]})]}),f.jsxs(Bc,{size:"small",sx:{minWidth:120},children:[f.jsx(Uc,{children:"Status"}),f.jsxs(Pl,{value:g.completionStatus||"all",label:"Status",onChange:te=>le(te.target.value),children:[f.jsx(Kn,{value:"all",children:"All Sessions"}),f.jsx(Kn,{value:"completed",children:"Completed"}),f.jsx(Kn,{value:"incomplete",children:"In Progress"})]})]})]})]}),f.jsx(JJ,{sessions:l,loading:d,onViewDetails:j,onExportSession:G})]})}),b&&f.jsx(nee,{session:b,open:R,onClose:()=>k(!1)}),(s==null?void 0:s.quizId)&&f.jsx(tee,{quizId:s.quizId,open:M,onClose:()=>q(!1)})]})},iee=K.lazy(()=>Ri(()=>import("./index-GiTiZLln.js"),__vite__mapDeps([7,4,1,5]))),aee=K.lazy(()=>Ri(()=>import("./index-RduC3kfB.js"),__vite__mapDeps([8,4,1,5,9]))),see=K.lazy(()=>Ri(()=>import("./SupplementalMaterials-CULzRk5N.js"),__vite__mapDeps([10,4,1,5]))),ww=({element:e})=>f.jsx(MT,{children:f.jsx(Xs,{element:e})}),oee=({element:e})=>f.jsx(cv,{children:e}),lee=(e,n)=>[{path:"/",element:e?f.jsx(MT,{children:f.jsx(rP,{})}):f.jsx(oee,{element:f.jsx(iee,{})})},{path:"/laboratory-notebooks",element:f.jsx(ww,{element:aee})},{path:"/supplemental-materials",element:f.jsx(ww,{element:see})},{path:"/my-profile",element:f.jsx(ww,{element:xX})},{path:"/add-material",element:f.jsx(Xs,{element:$O})},{path:"/edit-material/:id",element:f.jsx(Xs,{element:MQ})},{path:"/view-material/:id",element:f.jsx(Xs,{element:oX})},{path:"/add-message",element:f.jsx(Xs,{element:lX})},{path:"/edit-message/:id",element:f.jsx(Xs,{element:uX})},{path:"/chatbot-management",element:f.jsx(Xs,{element:QX})},{path:"/course-management",element:f.jsx(Xs,{element:TX})},{path:"/request-chatbot",element:f.jsx(Xs,{element:ZX})},{path:"/quiz-management",element:f.jsx(Xs,{element:ree})},{path:"/request-educator-permissions",element:f.jsx(Xs,{element:FX})},{path:"/educator-requests",element:f.jsx(Xs,{element:zX})},{path:"/request-new-course",element:f.jsx(qX,{})},{path:"/course-requests",element:f.jsx(BX,{})},{path:"/super-admin-course-management",element:f.jsx(WX,{})},{path:"/super-admin-chatbot-requests",element:f.jsx(Xs,{element:WJ})},...n?[{path:"/user-management",element:f.jsx(Xs,{element:hX})},{path:"/chatbot-conversations",element:f.jsx(Xs,{element:HJ})}]:[],{path:"*",element:f.jsx(OT,{to:"/"})}],uee=nT(KT()),cee=()=>{const e=FR(),n=eg(e.breakpoints.down("sm")),t=eg(e.breakpoints.between("sm","md")),r=eg(e.breakpoints.up("md"));return{isMobile:n,isTablet:t,isDesktop:r}},dee=()=>{const{isMobile:e,isTablet:n,isDesktop:t}=cee();return f.jsx(zR,{position:"static",className:"device-version-bar",children:f.jsx(qR,{className:"device-version-toolbar",children:f.jsxs(be,{sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[e&&f.jsx(ce,{variant:"body1",className:"device-version-text",children:"NexLAB Mobile Version 1.0"}),n&&f.jsx(ce,{variant:"body1",className:"device-version-text",children:"NexLAB Tablet Version 1.0"}),t&&f.jsx(ce,{variant:"body1",className:"device-version-text",children:"NexLAB Desktop Version 1.0"})]})})})},fee=tt.forwardRef(function(n,t){return f.jsx(nr,{elevation:6,ref:t,variant:"filled",...n})}),hee=()=>{const[e,n]=K.useState(!1),[t,r]=K.useState(!1),[i,a]=K.useState(""),[s,l]=K.useState(!1),c=pi(),d=()=>{n(!0)},h=()=>{n(!1)},g=async()=>{if(!s){l(!0);try{await IT.signOut(),n(!1),r(!0),a("Logged out successfully"),c("/")}catch(b){n(!1),r(!0);const m=b instanceof Error?b.message:"Logout failed: An unexpected error occurred";a(m)}finally{l(!1)}}};return f.jsxs(f.Fragment,{children:[f.jsx(lt,{variant:"outlined",onClick:d,disabled:s,sx:{fontSize:"1rem",fontFamily:"Staatliches, sans-serif",textTransform:"none",minWidth:"120px",color:"#FBFADA",borderColor:"#FBFADA",borderRadius:"15px",backgroundColor:"transparent",boxShadow:"none","&:hover":{borderColor:"#FFFFFF",backgroundColor:"#ffcdd2",color:"#c62828",boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.2)",transform:"scale(1.05)"},"&:disabled":{borderColor:"#ccc",color:"#999"},transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out"},children:s?"Logging out...":"Logout"}),f.jsxs(Si,{open:e,onClose:h,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[f.jsx(zi,{id:"alert-dialog-title",children:"Logging Out"}),f.jsx(Ai,{children:f.jsx(ko,{id:"alert-dialog-description",children:"Are you sure you want to log out?"})}),f.jsxs(qi,{children:[f.jsx(lt,{onClick:g,autoFocus:!0,disabled:s,children:s?"Please wait...":"Yes"}),f.jsx(lt,{onClick:h,disabled:s,children:"No"})]})]}),f.jsx(no,{open:t,autoHideDuration:6e3,onClose:()=>r(!1),children:f.jsx(fee,{onClose:()=>r(!1),severity:"info",sx:{width:"100%"},children:i})})]})},pee=tt.memo(hee),ZI=tt.memo(()=>{const{userDetails:e,isSuperAdmin:n}=Ci(),[t,r]=tt.useState(!1),i=()=>{e!=null&&e.uid?navigator.clipboard.writeText(e.uid).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)}).catch(a=>console.error("Could not copy text: ",a)):console.error("User details are null or undefined")};return f.jsxs(be,{className:"header-box",sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",backgroundColor:"#CDDAFF"},children:[f.jsxs(be,{sx:{display:"flex",alignItems:"center"},children:[f.jsx("img",{src:"/nexlab/nexlab-logo.png",alt:"ATE Logo",style:{width:300}}),f.jsx(be,{className:"divider",sx:{height:"40px",borderLeft:"2px solid #0B53C0",marginRight:"20px"}}),f.jsxs(ce,{variant:"body1",component:"p",className:"subtitle",sx:{color:"#0B53C0",fontFamily:"Gabarito",maxWidth:"300px"},children:["Next-Generation Experiments and ",f.jsx("br",{}),"Learning for Advanced Biotech"]})]}),f.jsxs(be,{className:"user-info-box",sx:{display:"flex",alignItems:"center"},children:[n&&f.jsx(_n,{label:"Super-Admin",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),(e==null?void 0:e.isAdmin)&&!n&&f.jsx(_n,{label:"Educator",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),!(e!=null&&e.isAdmin)&&f.jsx(_n,{label:"Student",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#bbdefb",color:"#1e88e5",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),e&&f.jsx(Pi,{title:t?"Copied!":"Click to Copy",enterDelay:300,leaveDelay:200,children:f.jsx(_n,{label:`User ID: ${e.uid}`,variant:"outlined",onClick:i,sx:{borderRadius:"15px",fontSize:"20px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",mr:2,fontFamily:"Staatliches, sans-serif"}})}),f.jsx(pee,{})]})]})});ZI.displayName="Header";var I1={},R4;function mee(){if(R4)return I1;R4=1;var e=Eo();Object.defineProperty(I1,"__esModule",{value:!0}),I1.default=void 0;var n=e(No()),t=_o();return I1.default=(0,n.default)((0,t.jsx)("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"}),"BugReport"),I1}var gee=mee();const bee=$i(gee),yee=()=>{const e=()=>{window.open("https://help.waveshi.org","_blank","noopener,noreferrer")};return f.jsx(lt,{onClick:e,className:"report-bug-button",startIcon:f.jsx(bee,{}),children:"Provide Feedback"})};function xee(){return f.jsxs(be,{component:"footer",className:"footer-container",children:[f.jsx(be,{className:"report-bug-container",children:f.jsx(yee,{})}),f.jsx(Za,{}),f.jsxs(be,{className:"footer-content",children:[f.jsx("img",{src:"/nexlab/FooterLogoLong.png",alt:"Logo",className:"footer-logo"}),f.jsx(ce,{variant:"body2",className:"footer-text",children:"The Institute for Future Intelligence (IFI) and Kapi'olani Community College (KCC) is funded in part by the National Science Foundation grant DUE 2300976."}),f.jsx(ce,{variant:"body2",className:"footer-text",children:" 2025 Institute for Future Intelligence and Kapi'olani Community College Antibody Engineering & Research Projects"})]})]})}const M4=["http","https","mailto","tel"];function vee(e){const n=(e||"").trim(),t=n.charAt(0);if(t==="#"||t==="/")return n;const r=n.indexOf(":");if(r===-1)return n;let i=-1;for(;++i<M4.length;){const a=M4[i];if(r===a.length&&n.slice(0,a.length).toLowerCase()===a)return n}return i=n.indexOf("?"),i!==-1&&r>i||(i=n.indexOf("#"),i!==-1&&r>i)?n:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Sw,P4;function wee(){return P4||(P4=1,Sw=function(n){return n!=null&&n.constructor!=null&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}),Sw}var See=wee();const JI=$i(See);function sg(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?F4(e.position):"start"in e||"end"in e?F4(e):"line"in e||"column"in e?KS(e):""}function KS(e){return z4(e&&e.line)+":"+z4(e&&e.column)}function F4(e){return KS(e&&e.start)+"-"+KS(e&&e.end)}function z4(e){return e&&typeof e=="number"?e:1}class zl extends Error{constructor(n,t,r){const i=[null,null];let a={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof t=="string"&&(r=t,t=void 0),typeof r=="string"){const s=r.indexOf(":");s===-1?i[1]=r:(i[0]=r.slice(0,s),i[1]=r.slice(s+1))}t&&("type"in t||"position"in t?t.position&&(a=t.position):"start"in t||"end"in t?a=t:("line"in t||"column"in t)&&(a.start=t)),this.name=sg(t)||"1:1",this.message=typeof n=="object"?n.message:n,this.stack="",typeof n=="object"&&n.stack&&(this.stack=n.stack),this.reason=this.message,this.fatal,this.line=a.start.line,this.column=a.start.column,this.position=a,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}zl.prototype.file="";zl.prototype.name="";zl.prototype.reason="";zl.prototype.message="";zl.prototype.stack="";zl.prototype.fatal=null;zl.prototype.column=null;zl.prototype.line=null;zl.prototype.source=null;zl.prototype.ruleId=null;zl.prototype.position=null;const gc={basename:Aee,dirname:Cee,extname:Eee,join:_ee,sep:"/"};function Aee(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');sb(e);let t=0,r=-1,i=e.length,a;if(n===void 0||n.length===0||n.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(a){t=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(t,r)}if(n===e)return"";let s=-1,l=n.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(a){t=i+1;break}}else s<0&&(a=!0,s=i+1),l>-1&&(e.charCodeAt(i)===n.charCodeAt(l--)?l<0&&(r=i):(l=-1,r=s));return t===r?r=s:r<0&&(r=e.length),e.slice(t,r)}function Cee(e){if(sb(e),e.length===0)return".";let n=-1,t=e.length,r;for(;--t;)if(e.charCodeAt(t)===47){if(r){n=t;break}}else r||(r=!0);return n<0?e.charCodeAt(0)===47?"/":".":n===1&&e.charCodeAt(0)===47?"//":e.slice(0,n)}function Eee(e){sb(e);let n=e.length,t=-1,r=0,i=-1,a=0,s;for(;n--;){const l=e.charCodeAt(n);if(l===47){if(s){r=n+1;break}continue}t<0&&(s=!0,t=n+1),l===46?i<0?i=n:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||t<0||a===0||a===1&&i===t-1&&i===r+1?"":e.slice(i,t)}function _ee(...e){let n=-1,t;for(;++n<e.length;)sb(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":kee(t)}function kee(e){sb(e);const n=e.charCodeAt(0)===47;let t=Nee(e,!n);return t.length===0&&!n&&(t="."),t.length>0&&e.charCodeAt(e.length-1)===47&&(t+="/"),n?"/"+t:t}function Nee(e,n){let t="",r=0,i=-1,a=0,s=-1,l,c;for(;++s<=e.length;){if(s<e.length)l=e.charCodeAt(s);else{if(l===47)break;l=47}if(l===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(c=t.lastIndexOf("/"),c!==t.length-1){c<0?(t="",r=0):(t=t.slice(0,c),r=t.length-1-t.lastIndexOf("/")),i=s,a=0;continue}}else if(t.length>0){t="",r=0,i=s,a=0;continue}}n&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+e.slice(i+1,s):t=e.slice(i+1,s),r=s-i-1;i=s,a=0}else l===46&&a>-1?a++:a=-1}return t}function sb(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const jee={cwd:Tee};function Tee(){return"/"}function XS(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function Oee(e){if(typeof e=="string")e=new URL(e);else if(!XS(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return Iee(e)}function Iee(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const n=e.pathname;let t=-1;for(;++t<n.length;)if(n.charCodeAt(t)===37&&n.charCodeAt(t+1)===50){const r=n.charCodeAt(t+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(n)}const Aw=["history","path","basename","stem","extname","dirname"];class eD{constructor(n){let t;n?typeof n=="string"||Dee(n)?t={value:n}:XS(n)?t={path:n}:t=n:t={},this.data={},this.messages=[],this.history=[],this.cwd=jee.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<Aw.length;){const a=Aw[r];a in t&&t[a]!==void 0&&t[a]!==null&&(this[a]=a==="history"?[...t[a]]:t[a])}let i;for(i in t)Aw.includes(i)||(this[i]=t[i])}get path(){return this.history[this.history.length-1]}set path(n){XS(n)&&(n=Oee(n)),Ew(n,"path"),this.path!==n&&this.history.push(n)}get dirname(){return typeof this.path=="string"?gc.dirname(this.path):void 0}set dirname(n){q4(this.basename,"dirname"),this.path=gc.join(n||"",this.basename)}get basename(){return typeof this.path=="string"?gc.basename(this.path):void 0}set basename(n){Ew(n,"basename"),Cw(n,"basename"),this.path=gc.join(this.dirname||"",n)}get extname(){return typeof this.path=="string"?gc.extname(this.path):void 0}set extname(n){if(Cw(n,"extname"),q4(this.dirname,"extname"),n){if(n.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=gc.join(this.dirname,this.stem+(n||""))}get stem(){return typeof this.path=="string"?gc.basename(this.path,this.extname):void 0}set stem(n){Ew(n,"stem"),Cw(n,"stem"),this.path=gc.join(this.dirname||"",n+(this.extname||""))}toString(n){return(this.value||"").toString(n||void 0)}message(n,t,r){const i=new zl(n,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(n,t,r){const i=this.message(n,t,r);return i.fatal=null,i}fail(n,t,r){const i=this.message(n,t,r);throw i.fatal=!0,i}}function Cw(e,n){if(e&&e.includes(gc.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+gc.sep+"`")}function Ew(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function q4(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function Dee(e){return JI(e)}function B4(e){if(e)throw e}var _w,U4;function Lee(){if(U4)return _w;U4=1;var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):n.call(d)==="[object Array]"},a=function(d){if(!d||n.call(d)!=="[object Object]")return!1;var h=e.call(d,"constructor"),g=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!g)return!1;var b;for(b in d);return typeof b>"u"||e.call(d,b)},s=function(d,h){t&&h.name==="__proto__"?t(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},l=function(d,h){if(h==="__proto__")if(e.call(d,h)){if(r)return r(d,h).value}else return;return d[h]};return _w=function c(){var d,h,g,b,m,x,y=arguments[0],A=1,w=arguments.length,C=!1;for(typeof y=="boolean"&&(C=y,y=arguments[1]||{},A=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});A<w;++A)if(d=arguments[A],d!=null)for(h in d)g=l(y,h),b=l(d,h),y!==b&&(C&&b&&(a(b)||(m=i(b)))?(m?(m=!1,x=g&&i(g)?g:[]):x=g&&a(g)?g:{},s(y,{name:h,newValue:c(C,x,b)})):typeof b<"u"&&s(y,{name:h,newValue:b}));return y},_w}var Ree=Lee();const $4=$i(Ree);function ZS(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Mee(){const e=[],n={run:t,use:r};return n;function t(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...i);function l(c,...d){const h=e[++a];let g=-1;if(c){s(c);return}for(;++g<i.length;)(d[g]===null||d[g]===void 0)&&(d[g]=i[g]);i=d,h?Pee(h,l)(...d):s(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),n}}function Pee(e,n){let t;return r;function r(...s){const l=e.length>s.length;let c;l&&s.push(i);try{c=e.apply(this,s)}catch(d){const h=d;if(l&&t)throw h;return i(h)}l||(c&&c.then&&typeof c.then=="function"?c.then(a,i):c instanceof Error?i(c):a(c))}function i(s,...l){t||(t=!0,n(s,...l))}function a(s){i(null,s)}}const Fee=nD().freeze(),tD={}.hasOwnProperty;function nD(){const e=Mee(),n=[];let t={},r,i=-1;return a.data=s,a.Parser=void 0,a.Compiler=void 0,a.freeze=l,a.attachers=n,a.use=c,a.parse=d,a.stringify=h,a.run=g,a.runSync=b,a.process=m,a.processSync=x,a;function a(){const y=nD();let A=-1;for(;++A<n.length;)y.use(...n[A]);return y.data($4(!0,{},t)),y}function s(y,A){return typeof y=="string"?arguments.length===2?(jw("data",r),t[y]=A,a):tD.call(t,y)&&t[y]||null:y?(jw("data",r),t=y,a):t}function l(){if(r)return a;for(;++i<n.length;){const[y,...A]=n[i];if(A[0]===!1)continue;A[0]===!0&&(A[0]=void 0);const w=y.call(a,...A);typeof w=="function"&&e.use(w)}return r=!0,i=Number.POSITIVE_INFINITY,a}function c(y,...A){let w;if(jw("use",r),y!=null)if(typeof y=="function")F(y,...A);else if(typeof y=="object")Array.isArray(y)?P(y):N(y);else throw new TypeError("Expected usable value, not `"+y+"`");return w&&(t.settings=Object.assign(t.settings||{},w)),a;function C(R){if(typeof R=="function")F(R);else if(typeof R=="object")if(Array.isArray(R)){const[k,...M]=R;F(k,...M)}else N(R);else throw new TypeError("Expected usable value, not `"+R+"`")}function N(R){P(R.plugins),R.settings&&(w=Object.assign(w||{},R.settings))}function P(R){let k=-1;if(R!=null)if(Array.isArray(R))for(;++k<R.length;){const M=R[k];C(M)}else throw new TypeError("Expected a list of plugins, not `"+R+"`")}function F(R,k){let M=-1,q;for(;++M<n.length;)if(n[M][0]===R){q=n[M];break}q?(ZS(q[1])&&ZS(k)&&(k=$4(!0,q[1],k)),q[1]=k):n.push([...arguments])}}function d(y){a.freeze();const A=D1(y),w=a.Parser;return kw("parse",w),H4(w,"parse")?new w(String(A),A).parse():w(String(A),A)}function h(y,A){a.freeze();const w=D1(A),C=a.Compiler;return Nw("stringify",C),W4(y),H4(C,"compile")?new C(y,w).compile():C(y,w)}function g(y,A,w){if(W4(y),a.freeze(),!w&&typeof A=="function"&&(w=A,A=void 0),!w)return new Promise(C);C(null,w);function C(N,P){e.run(y,D1(A),F);function F(R,k,M){k=k||y,R?P(R):N?N(k):w(null,k,M)}}}function b(y,A){let w,C;return a.run(y,A,N),V4("runSync","run",C),w;function N(P,F){B4(P),w=F,C=!0}}function m(y,A){if(a.freeze(),kw("process",a.Parser),Nw("process",a.Compiler),!A)return new Promise(w);w(null,A);function w(C,N){const P=D1(y);a.run(a.parse(P),P,(R,k,M)=>{if(R||!k||!M)F(R);else{const q=a.stringify(k,M);q==null||(Bee(q)?M.value=q:M.result=q),F(R,M)}});function F(R,k){R||!k?N(R):C?C(k):A(null,k)}}}function x(y){let A;a.freeze(),kw("processSync",a.Parser),Nw("processSync",a.Compiler);const w=D1(y);return a.process(w,C),V4("processSync","process",A),w;function C(N){A=!0,B4(N)}}}function H4(e,n){return typeof e=="function"&&e.prototype&&(zee(e.prototype)||n in e.prototype)}function zee(e){let n;for(n in e)if(tD.call(e,n))return!0;return!1}function kw(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function Nw(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function jw(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function W4(e){if(!ZS(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function V4(e,n,t){if(!t)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function D1(e){return qee(e)?e:new eD(e)}function qee(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Bee(e){return typeof e=="string"||JI(e)}const Uee={};function $ee(e,n){const t=Uee,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return rD(e,r,i)}function rD(e,n,t){if(Hee(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Y4(e.children,n,t)}return Array.isArray(e)?Y4(e,n,t):""}function Y4(e,n,t){const r=[];let i=-1;for(;++i<e.length;)r[i]=rD(e[i],n,t);return r.join("")}function Hee(e){return!!(e&&typeof e=="object")}function Vc(e,n,t,r){const i=e.length;let a=0,s;if(n<0?n=-n>i?0:i+n:n=n>i?i:n,t=t>0?t:0,r.length<1e4)s=Array.from(r),s.unshift(n,t),e.splice(...s);else for(t&&e.splice(n,t);a<r.length;)s=r.slice(a,a+1e4),s.unshift(n,0),e.splice(...s),a+=1e4,n+=1e4}function Il(e,n){return e.length>0?(Vc(e,e.length,0,n),e):n}const G4={}.hasOwnProperty;function Wee(e){const n={};let t=-1;for(;++t<e.length;)Vee(n,e[t]);return n}function Vee(e,n){let t;for(t in n){const i=(G4.call(e,t)?e[t]:void 0)||(e[t]={}),a=n[t];let s;if(a)for(s in a){G4.call(i,s)||(i[s]=[]);const l=a[s];Yee(i[s],Array.isArray(l)?l:l?[l]:[])}}}function Yee(e,n){let t=-1;const r=[];for(;++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);Vc(e,0,0,r)}const Gee=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,kc=ch(/[A-Za-z]/),el=ch(/[\dA-Za-z]/),Qee=ch(/[#-'*+\--9=?A-Z^-~]/);function JS(e){return e!==null&&(e<32||e===127)}const e6=ch(/\d/),Kee=ch(/[\dA-Fa-f]/),Xee=ch(/[!-/:-@[-`{-~]/);function fn(e){return e!==null&&e<-2}function vo(e){return e!==null&&(e<0||e===32)}function yr(e){return e===-2||e===-1||e===32}const Zee=ch(Gee),Jee=ch(/\s/);function ch(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function ai(e,n,t,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(c){return yr(c)?(e.enter(t),l(c)):n(c)}function l(c){return yr(c)&&a++<i?(e.consume(c),l):(e.exit(t),n(c))}}const ete={tokenize:tte};function tte(e){const n=e.attempt(this.parser.constructs.contentInitial,r,i);let t;return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),ai(e,n,"linePrefix")}function i(l){return e.enter("paragraph"),a(l)}function a(l){const c=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=c),t=c,s(l)}function s(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return fn(l)?(e.consume(l),e.exit("chunkText"),a):(e.consume(l),s)}}const nte={tokenize:rte},Q4={tokenize:ite};function rte(e){const n=this,t=[];let r=0,i,a,s;return l;function l(N){if(r<t.length){const P=t[r];return n.containerState=P[1],e.attempt(P[0].continuation,c,d)(N)}return d(N)}function c(N){if(r++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,i&&C();const P=n.events.length;let F=P,R;for(;F--;)if(n.events[F][0]==="exit"&&n.events[F][1].type==="chunkFlow"){R=n.events[F][1].end;break}w(r);let k=P;for(;k<n.events.length;)n.events[k][1].end=Object.assign({},R),k++;return Vc(n.events,F+1,0,n.events.slice(P)),n.events.length=k,d(N)}return l(N)}function d(N){if(r===t.length){if(!i)return b(N);if(i.currentConstruct&&i.currentConstruct.concrete)return x(N);n.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(Q4,h,g)(N)}function h(N){return i&&C(),w(r),b(N)}function g(N){return n.parser.lazy[n.now().line]=r!==t.length,s=n.now().offset,x(N)}function b(N){return n.containerState={},e.attempt(Q4,m,x)(N)}function m(N){return r++,t.push([n.currentConstruct,n.containerState]),b(N)}function x(N){if(N===null){i&&C(),w(0),e.consume(N);return}return i=i||n.parser.flow(n.now()),e.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),y(N)}function y(N){if(N===null){A(e.exit("chunkFlow"),!0),w(0),e.consume(N);return}return fn(N)?(e.consume(N),A(e.exit("chunkFlow")),r=0,n.interrupt=void 0,l):(e.consume(N),y)}function A(N,P){const F=n.sliceStream(N);if(P&&F.push(null),N.previous=a,a&&(a.next=N),a=N,i.defineSkip(N.start),i.write(F),n.parser.lazy[N.start.line]){let R=i.events.length;for(;R--;)if(i.events[R][1].start.offset<s&&(!i.events[R][1].end||i.events[R][1].end.offset>s))return;const k=n.events.length;let M=k,q,Q;for(;M--;)if(n.events[M][0]==="exit"&&n.events[M][1].type==="chunkFlow"){if(q){Q=n.events[M][1].end;break}q=!0}for(w(r),R=k;R<n.events.length;)n.events[R][1].end=Object.assign({},Q),R++;Vc(n.events,M+1,0,n.events.slice(k)),n.events.length=R}}function w(N){let P=t.length;for(;P-- >N;){const F=t[P];n.containerState=F[1],F[0].exit.call(n,e)}t.length=N}function C(){i.write([null]),a=void 0,i=void 0,n.containerState._closeFlow=void 0}}function ite(e,n,t){return ai(e,e.attempt(this.parser.constructs.document,n,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function K4(e){if(e===null||vo(e)||Jee(e))return 1;if(Zee(e))return 2}function wA(e,n,t){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(n=a(n,t),r.push(a))}return n}const t6={name:"attention",tokenize:ste,resolveAll:ate};function ate(e,n){let t=-1,r,i,a,s,l,c,d,h;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(r=t;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&n.sliceSerialize(e[r][1]).charCodeAt(0)===n.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[r][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;const g=Object.assign({},e[r][1].end),b=Object.assign({},e[t][1].start);X4(g,-c),X4(b,c),s={type:c>1?"strongSequence":"emphasisSequence",start:g,end:Object.assign({},e[r][1].end)},l={type:c>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[t][1].start),end:b},a={type:c>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[t][1].start)},i={type:c>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},l.end)},e[r][1].end=Object.assign({},s.start),e[t][1].start=Object.assign({},l.end),d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=Il(d,[["enter",e[r][1],n],["exit",e[r][1],n]])),d=Il(d,[["enter",i,n],["enter",s,n],["exit",s,n],["enter",a,n]]),d=Il(d,wA(n.parser.constructs.insideSpan.null,e.slice(r+1,t),n)),d=Il(d,[["exit",a,n],["enter",l,n],["exit",l,n],["exit",i,n]]),e[t][1].end.offset-e[t][1].start.offset?(h=2,d=Il(d,[["enter",e[t][1],n],["exit",e[t][1],n]])):h=0,Vc(e,r-1,t-r+3,d),t=r+d.length-h-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function ste(e,n){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=K4(r);let a;return s;function s(c){return a=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===a)return e.consume(c),l;const d=e.exit("attentionSequence"),h=K4(c),g=!h||h===2&&i||t.includes(c),b=!i||i===2&&h||t.includes(r);return d._open=!!(a===42?g:g&&(i||!b)),d._close=!!(a===42?b:b&&(h||!g)),n(c)}}function X4(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const ote={name:"autolink",tokenize:lte};function lte(e,n,t){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return kc(m)?(e.consume(m),s):d(m)}function s(m){return m===43||m===45||m===46||el(m)?(r=1,l(m)):d(m)}function l(m){return m===58?(e.consume(m),r=0,c):(m===43||m===45||m===46||el(m))&&r++<32?(e.consume(m),l):(r=0,d(m))}function c(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),n):m===null||m===32||m===60||JS(m)?t(m):(e.consume(m),c)}function d(m){return m===64?(e.consume(m),h):Qee(m)?(e.consume(m),d):t(m)}function h(m){return el(m)?g(m):t(m)}function g(m){return m===46?(e.consume(m),r=0,h):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),n):b(m)}function b(m){if((m===45||el(m))&&r++<63){const x=m===45?b:g;return e.consume(m),x}return t(m)}}const qv={tokenize:ute,partial:!0};function ute(e,n,t){return r;function r(a){return yr(a)?ai(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||fn(a)?n(a):t(a)}}const iD={name:"blockQuote",tokenize:cte,continuation:{tokenize:dte},exit:fte};function cte(e,n,t){const r=this;return i;function i(s){if(s===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return t(s)}function a(s){return yr(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(s))}}function dte(e,n,t){const r=this;return i;function i(s){return yr(s)?ai(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(iD,n,t)(s)}}function fte(e){e.exit("blockQuote")}const aD={name:"characterEscape",tokenize:hte};function hte(e,n,t){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return Xee(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):t(a)}}const Z4=document.createElement("i");function SA(e){const n="&"+e+";";Z4.innerHTML=n;const t=Z4.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===n?!1:t}const sD={name:"characterReference",tokenize:pte};function pte(e,n,t){const r=this;let i=0,a,s;return l;function l(g){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),c}function c(g){return g===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(g),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),a=31,s=el,h(g))}function d(g){return g===88||g===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(g),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=Kee,h):(e.enter("characterReferenceValue"),a=7,s=e6,h(g))}function h(g){if(g===59&&i){const b=e.exit("characterReferenceValue");return s===el&&!SA(r.sliceSerialize(b))?t(g):(e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return s(g)&&i++<a?(e.consume(g),h):t(g)}}const J4={tokenize:gte,partial:!0},eN={name:"codeFenced",tokenize:mte,concrete:!0};function mte(e,n,t){const r=this,i={tokenize:F,partial:!0};let a=0,s=0,l;return c;function c(R){return d(R)}function d(R){const k=r.events[r.events.length-1];return a=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,l=R,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(R)}function h(R){return R===l?(s++,e.consume(R),h):s<3?t(R):(e.exit("codeFencedFenceSequence"),yr(R)?ai(e,g,"whitespace")(R):g(R))}function g(R){return R===null||fn(R)?(e.exit("codeFencedFence"),r.interrupt?n(R):e.check(J4,y,P)(R)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),b(R))}function b(R){return R===null||fn(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),g(R)):yr(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ai(e,m,"whitespace")(R)):R===96&&R===l?t(R):(e.consume(R),b)}function m(R){return R===null||fn(R)?g(R):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(R))}function x(R){return R===null||fn(R)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),g(R)):R===96&&R===l?t(R):(e.consume(R),x)}function y(R){return e.attempt(i,P,A)(R)}function A(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),w}function w(R){return a>0&&yr(R)?ai(e,C,"linePrefix",a+1)(R):C(R)}function C(R){return R===null||fn(R)?e.check(J4,y,P)(R):(e.enter("codeFlowValue"),N(R))}function N(R){return R===null||fn(R)?(e.exit("codeFlowValue"),C(R)):(e.consume(R),N)}function P(R){return e.exit("codeFenced"),n(R)}function F(R,k,M){let q=0;return Q;function Q(X){return R.enter("lineEnding"),R.consume(X),R.exit("lineEnding"),T}function T(X){return R.enter("codeFencedFence"),yr(X)?ai(R,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(X):O(X)}function O(X){return X===l?(R.enter("codeFencedFenceSequence"),L(X)):M(X)}function L(X){return X===l?(q++,R.consume(X),L):q>=s?(R.exit("codeFencedFenceSequence"),yr(X)?ai(R,j,"whitespace")(X):j(X)):M(X)}function j(X){return X===null||fn(X)?(R.exit("codeFencedFence"),k(X)):M(X)}}}function gte(e,n,t){const r=this;return i;function i(s){return s===null?t(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?t(s):n(s)}}const Tw={name:"codeIndented",tokenize:yte},bte={tokenize:xte,partial:!0};function yte(e,n,t){const r=this;return i;function i(d){return e.enter("codeIndented"),ai(e,a,"linePrefix",5)(d)}function a(d){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?s(d):t(d)}function s(d){return d===null?c(d):fn(d)?e.attempt(bte,s,c)(d):(e.enter("codeFlowValue"),l(d))}function l(d){return d===null||fn(d)?(e.exit("codeFlowValue"),s(d)):(e.consume(d),l)}function c(d){return e.exit("codeIndented"),n(d)}}function xte(e,n,t){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?t(s):fn(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):ai(e,a,"linePrefix",5)(s)}function a(s){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?n(s):fn(s)?i(s):t(s)}}const vte={name:"codeText",tokenize:Ate,resolve:wte,previous:Ste};function wte(e){let n=e.length-4,t=3,r,i;if((e[t][1].type==="lineEnding"||e[t][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(r=t;++r<n;)if(e[r][1].type==="codeTextData"){e[t][1].type="codeTextPadding",e[n][1].type="codeTextPadding",t+=2,n-=2;break}}for(r=t-1,n++;++r<=n;)i===void 0?r!==n&&e[r][1].type!=="lineEnding"&&(i=r):(r===n||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),n-=r-i-2,r=i+2),i=void 0);return e}function Ste(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ate(e,n,t){let r=0,i,a;return s;function s(g){return e.enter("codeText"),e.enter("codeTextSequence"),l(g)}function l(g){return g===96?(e.consume(g),r++,l):(e.exit("codeTextSequence"),c(g))}function c(g){return g===null?t(g):g===32?(e.enter("space"),e.consume(g),e.exit("space"),c):g===96?(a=e.enter("codeTextSequence"),i=0,h(g)):fn(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),c):(e.enter("codeTextData"),d(g))}function d(g){return g===null||g===32||g===96||fn(g)?(e.exit("codeTextData"),c(g)):(e.consume(g),d)}function h(g){return g===96?(e.consume(g),i++,h):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),n(g)):(a.type="codeTextData",d(g))}}function oD(e){const n={};let t=-1,r,i,a,s,l,c,d;for(;++t<e.length;){for(;t in n;)t=n[t];if(r=e[t],t&&r[1].type==="chunkFlow"&&e[t-1][1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(n,Cte(e,t)),t=n[t],d=!0);else if(r[1]._container){for(a=t,i=void 0;a--&&(s=e[a],s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},e[i][1].start),l=e.slice(i,t),l.unshift(r),Vc(e,i,t-i+1,l))}}return!d}function Cte(e,n){const t=e[n][1],r=e[n][2];let i=n-1;const a=[],s=t._tokenizer||r.parser[t.contentType](t.start),l=s.events,c=[],d={};let h,g,b=-1,m=t,x=0,y=0;const A=[y];for(;m;){for(;e[++i][1]!==m;);a.push(i),m._tokenizer||(h=r.sliceStream(m),m.next||h.push(null),g&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(h),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),g=m,m=m.next}for(m=t;++b<l.length;)l[b][0]==="exit"&&l[b-1][0]==="enter"&&l[b][1].type===l[b-1][1].type&&l[b][1].start.line!==l[b][1].end.line&&(y=b+1,A.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):A.pop(),b=A.length;b--;){const w=l.slice(A[b],A[b+1]),C=a.pop();c.unshift([C,C+w.length-1]),Vc(e,C,2,w)}for(b=-1;++b<c.length;)d[x+c[b][0]]=x+c[b][1],x+=c[b][1]-c[b][0]-1;return d}const Ete={tokenize:Nte,resolve:kte},_te={tokenize:jte,partial:!0};function kte(e){return oD(e),e}function Nte(e,n){let t;return r;function r(l){return e.enter("content"),t=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):fn(l)?e.check(_te,s,a)(l):(e.consume(l),i)}function a(l){return e.exit("chunkContent"),e.exit("content"),n(l)}function s(l){return e.consume(l),e.exit("chunkContent"),t.next=e.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function jte(e,n,t){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),ai(e,a,"linePrefix")}function a(s){if(s===null||fn(s))return t(s);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?n(s):e.interrupt(r.parser.constructs.flow,t,n)(s)}}function lD(e,n,t,r,i,a,s,l,c){const d=c||Number.POSITIVE_INFINITY;let h=0;return g;function g(w){return w===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(w),e.exit(a),b):w===null||w===32||w===41||JS(w)?t(w):(e.enter(r),e.enter(s),e.enter(l),e.enter("chunkString",{contentType:"string"}),y(w))}function b(w){return w===62?(e.enter(a),e.consume(w),e.exit(a),e.exit(i),e.exit(r),n):(e.enter(l),e.enter("chunkString",{contentType:"string"}),m(w))}function m(w){return w===62?(e.exit("chunkString"),e.exit(l),b(w)):w===null||w===60||fn(w)?t(w):(e.consume(w),w===92?x:m)}function x(w){return w===60||w===62||w===92?(e.consume(w),m):m(w)}function y(w){return!h&&(w===null||w===41||vo(w))?(e.exit("chunkString"),e.exit(l),e.exit(s),e.exit(r),n(w)):h<d&&w===40?(e.consume(w),h++,y):w===41?(e.consume(w),h--,y):w===null||w===32||w===40||JS(w)?t(w):(e.consume(w),w===92?A:y)}function A(w){return w===40||w===41||w===92?(e.consume(w),y):y(w)}}function uD(e,n,t,r,i,a){const s=this;let l=0,c;return d;function d(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),h}function h(m){return l>999||m===null||m===91||m===93&&!c||m===94&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?t(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),n):fn(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),g(m))}function g(m){return m===null||m===91||m===93||fn(m)||l++>999?(e.exit("chunkString"),h(m)):(e.consume(m),c||(c=!yr(m)),m===92?b:g)}function b(m){return m===91||m===92||m===93?(e.consume(m),l++,g):g(m)}}function cD(e,n,t,r,i,a){let s;return l;function l(b){return b===34||b===39||b===40?(e.enter(r),e.enter(i),e.consume(b),e.exit(i),s=b===40?41:b,c):t(b)}function c(b){return b===s?(e.enter(i),e.consume(b),e.exit(i),e.exit(r),n):(e.enter(a),d(b))}function d(b){return b===s?(e.exit(a),c(s)):b===null?t(b):fn(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),ai(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(b))}function h(b){return b===s||b===null||fn(b)?(e.exit("chunkString"),d(b)):(e.consume(b),b===92?g:h)}function g(b){return b===s||b===92?(e.consume(b),h):h(b)}}function og(e,n){let t;return r;function r(i){return fn(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t=!0,r):yr(i)?ai(e,r,t?"linePrefix":"lineSuffix")(i):n(i)}}function B0(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Tte={name:"definition",tokenize:Ite},Ote={tokenize:Dte,partial:!0};function Ite(e,n,t){const r=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return uD.call(r,e,l,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function l(m){return i=B0(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),c):t(m)}function c(m){return vo(m)?og(e,d)(m):d(m)}function d(m){return lD(e,h,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function h(m){return e.attempt(Ote,g,g)(m)}function g(m){return yr(m)?ai(e,b,"whitespace")(m):b(m)}function b(m){return m===null||fn(m)?(e.exit("definition"),r.parser.defined.push(i),n(m)):t(m)}}function Dte(e,n,t){return r;function r(l){return vo(l)?og(e,i)(l):t(l)}function i(l){return cD(e,a,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return yr(l)?ai(e,s,"whitespace")(l):s(l)}function s(l){return l===null||fn(l)?n(l):t(l)}}const Lte={name:"hardBreakEscape",tokenize:Rte};function Rte(e,n,t){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return fn(a)?(e.exit("hardBreakEscape"),n(a)):t(a)}}const Mte={name:"headingAtx",tokenize:Fte,resolve:Pte};function Pte(e,n){let t=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),t-2>r&&e[t][1].type==="whitespace"&&(t-=2),e[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&e[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[t][1].end},a={type:"chunkText",start:e[r][1].start,end:e[t][1].end,contentType:"text"},Vc(e,r,t-r+1,[["enter",i,n],["enter",a,n],["exit",a,n],["exit",i,n]])),e}function Fte(e,n,t){let r=0;return i;function i(h){return e.enter("atxHeading"),a(h)}function a(h){return e.enter("atxHeadingSequence"),s(h)}function s(h){return h===35&&r++<6?(e.consume(h),s):h===null||vo(h)?(e.exit("atxHeadingSequence"),l(h)):t(h)}function l(h){return h===35?(e.enter("atxHeadingSequence"),c(h)):h===null||fn(h)?(e.exit("atxHeading"),n(h)):yr(h)?ai(e,l,"whitespace")(h):(e.enter("atxHeadingText"),d(h))}function c(h){return h===35?(e.consume(h),c):(e.exit("atxHeadingSequence"),l(h))}function d(h){return h===null||h===35||vo(h)?(e.exit("atxHeadingText"),l(h)):(e.consume(h),d)}}const zte=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],tN=["pre","script","style","textarea"],qte={name:"htmlFlow",tokenize:Hte,resolveTo:$te,concrete:!0},Bte={tokenize:Vte,partial:!0},Ute={tokenize:Wte,partial:!0};function $te(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function Hte(e,n,t){const r=this;let i,a,s,l,c;return d;function d(B){return h(B)}function h(B){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(B),g}function g(B){return B===33?(e.consume(B),b):B===47?(e.consume(B),a=!0,y):B===63?(e.consume(B),i=3,r.interrupt?n:Y):kc(B)?(e.consume(B),s=String.fromCharCode(B),A):t(B)}function b(B){return B===45?(e.consume(B),i=2,m):B===91?(e.consume(B),i=5,l=0,x):kc(B)?(e.consume(B),i=4,r.interrupt?n:Y):t(B)}function m(B){return B===45?(e.consume(B),r.interrupt?n:Y):t(B)}function x(B){const re="CDATA[";return B===re.charCodeAt(l++)?(e.consume(B),l===re.length?r.interrupt?n:O:x):t(B)}function y(B){return kc(B)?(e.consume(B),s=String.fromCharCode(B),A):t(B)}function A(B){if(B===null||B===47||B===62||vo(B)){const re=B===47,Z=s.toLowerCase();return!re&&!a&&tN.includes(Z)?(i=1,r.interrupt?n(B):O(B)):zte.includes(s.toLowerCase())?(i=6,re?(e.consume(B),w):r.interrupt?n(B):O(B)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(B):a?C(B):N(B))}return B===45||el(B)?(e.consume(B),s+=String.fromCharCode(B),A):t(B)}function w(B){return B===62?(e.consume(B),r.interrupt?n:O):t(B)}function C(B){return yr(B)?(e.consume(B),C):Q(B)}function N(B){return B===47?(e.consume(B),Q):B===58||B===95||kc(B)?(e.consume(B),P):yr(B)?(e.consume(B),N):Q(B)}function P(B){return B===45||B===46||B===58||B===95||el(B)?(e.consume(B),P):F(B)}function F(B){return B===61?(e.consume(B),R):yr(B)?(e.consume(B),F):N(B)}function R(B){return B===null||B===60||B===61||B===62||B===96?t(B):B===34||B===39?(e.consume(B),c=B,k):yr(B)?(e.consume(B),R):M(B)}function k(B){return B===c?(e.consume(B),c=null,q):B===null||fn(B)?t(B):(e.consume(B),k)}function M(B){return B===null||B===34||B===39||B===47||B===60||B===61||B===62||B===96||vo(B)?F(B):(e.consume(B),M)}function q(B){return B===47||B===62||yr(B)?N(B):t(B)}function Q(B){return B===62?(e.consume(B),T):t(B)}function T(B){return B===null||fn(B)?O(B):yr(B)?(e.consume(B),T):t(B)}function O(B){return B===45&&i===2?(e.consume(B),H):B===60&&i===1?(e.consume(B),G):B===62&&i===4?(e.consume(B),te):B===63&&i===3?(e.consume(B),Y):B===93&&i===5?(e.consume(B),le):fn(B)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Bte,U,L)(B)):B===null||fn(B)?(e.exit("htmlFlowData"),L(B)):(e.consume(B),O)}function L(B){return e.check(Ute,j,U)(B)}function j(B){return e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),X}function X(B){return B===null||fn(B)?L(B):(e.enter("htmlFlowData"),O(B))}function H(B){return B===45?(e.consume(B),Y):O(B)}function G(B){return B===47?(e.consume(B),s="",ee):O(B)}function ee(B){if(B===62){const re=s.toLowerCase();return tN.includes(re)?(e.consume(B),te):O(B)}return kc(B)&&s.length<8?(e.consume(B),s+=String.fromCharCode(B),ee):O(B)}function le(B){return B===93?(e.consume(B),Y):O(B)}function Y(B){return B===62?(e.consume(B),te):B===45&&i===2?(e.consume(B),Y):O(B)}function te(B){return B===null||fn(B)?(e.exit("htmlFlowData"),U(B)):(e.consume(B),te)}function U(B){return e.exit("htmlFlow"),n(B)}}function Wte(e,n,t){const r=this;return i;function i(s){return fn(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):t(s)}function a(s){return r.parser.lazy[r.now().line]?t(s):n(s)}}function Vte(e,n,t){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(qv,n,t)}}const Yte={name:"htmlText",tokenize:Gte};function Gte(e,n,t){const r=this;let i,a,s;return l;function l(Y){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(Y),c}function c(Y){return Y===33?(e.consume(Y),d):Y===47?(e.consume(Y),F):Y===63?(e.consume(Y),N):kc(Y)?(e.consume(Y),M):t(Y)}function d(Y){return Y===45?(e.consume(Y),h):Y===91?(e.consume(Y),a=0,x):kc(Y)?(e.consume(Y),C):t(Y)}function h(Y){return Y===45?(e.consume(Y),m):t(Y)}function g(Y){return Y===null?t(Y):Y===45?(e.consume(Y),b):fn(Y)?(s=g,G(Y)):(e.consume(Y),g)}function b(Y){return Y===45?(e.consume(Y),m):g(Y)}function m(Y){return Y===62?H(Y):Y===45?b(Y):g(Y)}function x(Y){const te="CDATA[";return Y===te.charCodeAt(a++)?(e.consume(Y),a===te.length?y:x):t(Y)}function y(Y){return Y===null?t(Y):Y===93?(e.consume(Y),A):fn(Y)?(s=y,G(Y)):(e.consume(Y),y)}function A(Y){return Y===93?(e.consume(Y),w):y(Y)}function w(Y){return Y===62?H(Y):Y===93?(e.consume(Y),w):y(Y)}function C(Y){return Y===null||Y===62?H(Y):fn(Y)?(s=C,G(Y)):(e.consume(Y),C)}function N(Y){return Y===null?t(Y):Y===63?(e.consume(Y),P):fn(Y)?(s=N,G(Y)):(e.consume(Y),N)}function P(Y){return Y===62?H(Y):N(Y)}function F(Y){return kc(Y)?(e.consume(Y),R):t(Y)}function R(Y){return Y===45||el(Y)?(e.consume(Y),R):k(Y)}function k(Y){return fn(Y)?(s=k,G(Y)):yr(Y)?(e.consume(Y),k):H(Y)}function M(Y){return Y===45||el(Y)?(e.consume(Y),M):Y===47||Y===62||vo(Y)?q(Y):t(Y)}function q(Y){return Y===47?(e.consume(Y),H):Y===58||Y===95||kc(Y)?(e.consume(Y),Q):fn(Y)?(s=q,G(Y)):yr(Y)?(e.consume(Y),q):H(Y)}function Q(Y){return Y===45||Y===46||Y===58||Y===95||el(Y)?(e.consume(Y),Q):T(Y)}function T(Y){return Y===61?(e.consume(Y),O):fn(Y)?(s=T,G(Y)):yr(Y)?(e.consume(Y),T):q(Y)}function O(Y){return Y===null||Y===60||Y===61||Y===62||Y===96?t(Y):Y===34||Y===39?(e.consume(Y),i=Y,L):fn(Y)?(s=O,G(Y)):yr(Y)?(e.consume(Y),O):(e.consume(Y),j)}function L(Y){return Y===i?(e.consume(Y),i=void 0,X):Y===null?t(Y):fn(Y)?(s=L,G(Y)):(e.consume(Y),L)}function j(Y){return Y===null||Y===34||Y===39||Y===60||Y===61||Y===96?t(Y):Y===47||Y===62||vo(Y)?q(Y):(e.consume(Y),j)}function X(Y){return Y===47||Y===62||vo(Y)?q(Y):t(Y)}function H(Y){return Y===62?(e.consume(Y),e.exit("htmlTextData"),e.exit("htmlText"),n):t(Y)}function G(Y){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(Y),e.exit("lineEnding"),ee}function ee(Y){return yr(Y)?ai(e,le,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Y):le(Y)}function le(Y){return e.enter("htmlTextData"),s(Y)}}const AA={name:"labelEnd",tokenize:ene,resolveTo:Jte,resolveAll:Zte},Qte={tokenize:tne},Kte={tokenize:nne},Xte={tokenize:rne};function Zte(e){let n=-1;for(;++n<e.length;){const t=e[n][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(e.splice(n+1,t.type==="labelImage"?4:2),t.type="data",n++)}return e}function Jte(e,n){let t=e.length,r=0,i,a,s,l;for(;t--;)if(i=e[t][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=t);const c={type:e[a][1].type==="labelLink"?"link":"image",start:Object.assign({},e[a][1].start),end:Object.assign({},e[e.length-1][1].end)},d={type:"label",start:Object.assign({},e[a][1].start),end:Object.assign({},e[s][1].end)},h={type:"labelText",start:Object.assign({},e[a+r+2][1].end),end:Object.assign({},e[s-2][1].start)};return l=[["enter",c,n],["enter",d,n]],l=Il(l,e.slice(a+1,a+r+3)),l=Il(l,[["enter",h,n]]),l=Il(l,wA(n.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),n)),l=Il(l,[["exit",h,n],e[s-2],e[s-1],["exit",d,n]]),l=Il(l,e.slice(s+1)),l=Il(l,[["exit",c,n]]),Vc(e,a,e.length,l),e}function ene(e,n,t){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return l;function l(b){return a?a._inactive?g(b):(s=r.parser.defined.includes(B0(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(b),e.exit("labelMarker"),e.exit("labelEnd"),c):t(b)}function c(b){return b===40?e.attempt(Qte,h,s?h:g)(b):b===91?e.attempt(Kte,h,s?d:g)(b):s?h(b):g(b)}function d(b){return e.attempt(Xte,h,g)(b)}function h(b){return n(b)}function g(b){return a._balanced=!0,t(b)}}function tne(e,n,t){return r;function r(g){return e.enter("resource"),e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),i}function i(g){return vo(g)?og(e,a)(g):a(g)}function a(g){return g===41?h(g):lD(e,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function s(g){return vo(g)?og(e,c)(g):h(g)}function l(g){return t(g)}function c(g){return g===34||g===39||g===40?cD(e,d,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):h(g)}function d(g){return vo(g)?og(e,h)(g):h(g)}function h(g){return g===41?(e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),e.exit("resource"),n):t(g)}}function nne(e,n,t){const r=this;return i;function i(l){return uD.call(r,e,a,s,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(B0(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?n(l):t(l)}function s(l){return t(l)}}function rne(e,n,t){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),n):t(a)}}const ine={name:"labelStartImage",tokenize:ane,resolveAll:AA.resolveAll};function ane(e,n,t){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),a}function a(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),s):t(l)}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(l):n(l)}}const sne={name:"labelStartLink",tokenize:one,resolveAll:AA.resolveAll};function one(e,n,t){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(s):n(s)}}const Ow={name:"lineEnding",tokenize:lne};function lne(e,n){return t;function t(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ai(e,n,"linePrefix")}}const bx={name:"thematicBreak",tokenize:une};function une(e,n,t){let r=0,i;return a;function a(d){return e.enter("thematicBreak"),s(d)}function s(d){return i=d,l(d)}function l(d){return d===i?(e.enter("thematicBreakSequence"),c(d)):r>=3&&(d===null||fn(d))?(e.exit("thematicBreak"),n(d)):t(d)}function c(d){return d===i?(e.consume(d),r++,c):(e.exit("thematicBreakSequence"),yr(d)?ai(e,l,"whitespace")(d):l(d))}}const go={name:"list",tokenize:fne,continuation:{tokenize:hne},exit:mne},cne={tokenize:gne,partial:!0},dne={tokenize:pne,partial:!0};function fne(e,n,t){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return l;function l(m){const x=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:e6(m)){if(r.containerState.type||(r.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(bx,t,d)(m):d(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(m)}return t(m)}function c(m){return e6(m)&&++s<10?(e.consume(m),c):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),d(m)):t(m)}function d(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(qv,r.interrupt?t:h,e.attempt(cne,b,g))}function h(m){return r.containerState.initialBlankLine=!0,a++,b(m)}function g(m){return yr(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),b):t(m)}function b(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(m)}}function hne(e,n,t){const r=this;return r.containerState._closeFlow=void 0,e.check(qv,i,a);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ai(e,n,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!yr(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(dne,n,s)(l))}function s(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,ai(e,e.attempt(go,n,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function pne(e,n,t){const r=this;return ai(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?n(a):t(a)}}function mne(e){e.exit(this.containerState.type)}function gne(e,n,t){const r=this;return ai(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!yr(a)&&s&&s[1].type==="listItemPrefixWhitespace"?n(a):t(a)}}const nN={name:"setextUnderline",tokenize:yne,resolveTo:bne};function bne(e,n){let t=e.length,r,i,a;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type==="content"){r=t;break}e[t][1].type==="paragraph"&&(i=t)}else e[t][1].type==="content"&&e.splice(t,1),!a&&e[t][1].type==="definition"&&(a=t);const s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,n]),e.splice(a+1,0,["exit",e[r][1],n]),e[r][1].end=Object.assign({},e[a][1].end)):e[r][1]=s,e.push(["exit",s,n]),e}function yne(e,n,t){const r=this;let i;return a;function a(d){let h=r.events.length,g;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){g=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(e.enter("setextHeadingLine"),i=d,s(d)):t(d)}function s(d){return e.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(e.consume(d),l):(e.exit("setextHeadingLineSequence"),yr(d)?ai(e,c,"lineSuffix")(d):c(d))}function c(d){return d===null||fn(d)?(e.exit("setextHeadingLine"),n(d)):t(d)}}const xne={tokenize:vne};function vne(e){const n=this,t=e.attempt(qv,r,e.attempt(this.parser.constructs.flowInitial,i,ai(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Ete,i)),"linePrefix")));return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),n.currentConstruct=void 0,t}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n.currentConstruct=void 0,t}}const wne={resolveAll:fD()},Sne=dD("string"),Ane=dD("text");function dD(e){return{tokenize:n,resolveAll:fD(e==="text"?Cne:void 0)};function n(t){const r=this,i=this.parser.constructs[e],a=t.attempt(i,s,l);return s;function s(h){return d(h)?a(h):l(h)}function l(h){if(h===null){t.consume(h);return}return t.enter("data"),t.consume(h),c}function c(h){return d(h)?(t.exit("data"),a(h)):(t.consume(h),c)}function d(h){if(h===null)return!0;const g=i[h];let b=-1;if(g)for(;++b<g.length;){const m=g[b];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function fD(e){return n;function n(t,r){let i=-1,a;for(;++i<=t.length;)a===void 0?t[i]&&t[i][1].type==="data"&&(a=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==a+2&&(t[a][1].end=t[i-1][1].end,t.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(t,r):t}}function Cne(e,n){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type==="lineEnding")&&e[t-1][1].type==="data"){const r=e[t-1][1],i=n.sliceStream(r);let a=i.length,s=-1,l=0,c;for(;a--;){const d=i[a];if(typeof d=="string"){for(s=d.length;d.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(d===-2)c=!0,l++;else if(d!==-1){a++;break}}if(l){const d={type:t===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},d.start),r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(t,0,["enter",d,n],["exit",d,n]),t+=2)}t++}return e}function Ene(e,n,t){let r=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let s=[],l=[];const c={consume:C,enter:N,exit:P,attempt:k(F),check:k(R),interrupt:k(R,{interrupt:!0})},d={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:m,sliceSerialize:b,now:x,defineSkip:y,write:g};let h=n.tokenize.call(d,c);return n.resolveAll&&a.push(n),d;function g(T){return s=Il(s,T),A(),s[s.length-1]!==null?[]:(M(n,0),d.events=wA(a,d.events,d),d.events)}function b(T,O){return kne(m(T),O)}function m(T){return _ne(s,T)}function x(){const{line:T,column:O,offset:L,_index:j,_bufferIndex:X}=r;return{line:T,column:O,offset:L,_index:j,_bufferIndex:X}}function y(T){i[T.line]=T.column,Q()}function A(){let T;for(;r._index<s.length;){const O=s[r._index];if(typeof O=="string")for(T=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===T&&r._bufferIndex<O.length;)w(O.charCodeAt(r._bufferIndex));else w(O)}}function w(T){h=h(T)}function C(T){fn(T)?(r.line++,r.column=1,r.offset+=T===-3?2:1,Q()):T!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=T}function N(T,O){const L=O||{};return L.type=T,L.start=x(),d.events.push(["enter",L,d]),l.push(L),L}function P(T){const O=l.pop();return O.end=x(),d.events.push(["exit",O,d]),O}function F(T,O){M(T,O.from)}function R(T,O){O.restore()}function k(T,O){return L;function L(j,X,H){let G,ee,le,Y;return Array.isArray(j)?U(j):"tokenize"in j?U([j]):te(j);function te(ne){return ve;function ve(ye){const Ce=ye!==null&&ne[ye],Oe=ye!==null&&ne.null,Ie=[...Array.isArray(Ce)?Ce:Ce?[Ce]:[],...Array.isArray(Oe)?Oe:Oe?[Oe]:[]];return U(Ie)(ye)}}function U(ne){return G=ne,ee=0,ne.length===0?H:B(ne[ee])}function B(ne){return ve;function ve(ye){return Y=q(),le=ne,ne.partial||(d.currentConstruct=ne),ne.name&&d.parser.constructs.disable.null.includes(ne.name)?Z():ne.tokenize.call(O?Object.assign(Object.create(d),O):d,c,re,Z)(ye)}}function re(ne){return T(le,Y),X}function Z(ne){return Y.restore(),++ee<G.length?B(G[ee]):H}}}function M(T,O){T.resolveAll&&!a.includes(T)&&a.push(T),T.resolve&&Vc(d.events,O,d.events.length-O,T.resolve(d.events.slice(O),d)),T.resolveTo&&(d.events=T.resolveTo(d.events,d))}function q(){const T=x(),O=d.previous,L=d.currentConstruct,j=d.events.length,X=Array.from(l);return{restore:H,from:j};function H(){r=T,d.previous=O,d.currentConstruct=L,d.events.length=j,l=X,Q()}}function Q(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function _ne(e,n){const t=n.start._index,r=n.start._bufferIndex,i=n.end._index,a=n.end._bufferIndex;let s;if(t===i)s=[e[t].slice(r,a)];else{if(s=e.slice(t,i),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function kne(e,n){let t=-1;const r=[];let i;for(;++t<e.length;){const a=e[t];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=n?" ":"	";break}case-1:{if(!n&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}const Nne={42:go,43:go,45:go,48:go,49:go,50:go,51:go,52:go,53:go,54:go,55:go,56:go,57:go,62:iD},jne={91:Tte},Tne={[-2]:Tw,[-1]:Tw,32:Tw},One={35:Mte,42:bx,45:[nN,bx],60:qte,61:nN,95:bx,96:eN,126:eN},Ine={38:sD,92:aD},Dne={[-5]:Ow,[-4]:Ow,[-3]:Ow,33:ine,38:sD,42:t6,60:[ote,Yte],91:sne,92:[Lte,aD],93:AA,95:t6,96:vte},Lne={null:[t6,wne]},Rne={null:[42,95]},Mne={null:[]},Pne=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Rne,contentInitial:jne,disable:Mne,document:Nne,flow:One,flowInitial:Tne,insideSpan:Lne,string:Ine,text:Dne},Symbol.toStringTag,{value:"Module"}));function Fne(e){const t=Wee([Pne,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:t,content:i(ete),document:i(nte),flow:i(xne),string:i(Sne),text:i(Ane)};return r;function i(a){return s;function s(l){return Ene(r,a,l)}}}const rN=/[\0\t\n\r]/g;function zne(){let e=1,n="",t=!0,r;return i;function i(a,s,l){const c=[];let d,h,g,b,m;for(a=n+a.toString(s),g=0,n="",t&&(a.charCodeAt(0)===65279&&g++,t=void 0);g<a.length;){if(rN.lastIndex=g,d=rN.exec(a),b=d&&d.index!==void 0?d.index:a.length,m=a.charCodeAt(b),!d){n=a.slice(g);break}if(m===10&&g===b&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),g<b&&(c.push(a.slice(g,b)),e+=b-g),m){case 0:{c.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,c.push(-2);e++<h;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}g=b+1}return l&&(r&&c.push(-5),n&&c.push(n),c.push(null)),c}}function qne(e){for(;!oD(e););return e}function hD(e,n){const t=Number.parseInt(e,n);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCharCode(t)}const Bne=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Une(e){return e.replace(Bne,$ne)}function $ne(e,n,t){if(n)return n;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),a=i===120||i===88;return hD(t.slice(a?2:1),a?16:10)}return SA(t)||e}const pD={}.hasOwnProperty,Hne=function(e,n,t){return typeof n!="string"&&(t=n,n=void 0),Wne(t)(qne(Fne(t).document().write(zne()(e,n,!0))))};function Wne(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Le),autolinkProtocol:T,autolinkEmail:T,atxHeading:l(se),blockQuote:l(Ie),characterEscape:T,characterReference:T,codeFenced:l(Ue),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(Ue,c),codeText:l(He,c),codeTextData:T,data:T,codeFlowValue:T,definition:l(V),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(Se),hardBreakEscape:l(he),hardBreakTrailing:l(he),htmlFlow:l(de,c),htmlFlowData:T,htmlText:l(de,c),htmlTextData:T,image:l(we),label:c,link:l(Le),listItem:l(_e),listItemValue:x,listOrdered:l(Fe,m),listUnordered:l(Fe),paragraph:l(Qe),reference:Z,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(se),strong:l(st),thematicBreak:l(De)},exit:{atxHeading:h(),atxHeadingSequence:k,autolink:h(),autolinkEmail:Oe,autolinkProtocol:Ce,blockQuote:h(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:ve,characterReferenceMarkerNumeric:ve,characterReferenceValue:ye,codeFenced:h(C),codeFencedFence:w,codeFencedFenceInfo:y,codeFencedFenceMeta:A,codeFlowValue:O,codeIndented:h(N),codeText:h(G),codeTextData:O,data:O,definition:h(),definitionDestinationString:R,definitionLabelString:P,definitionTitleString:F,emphasis:h(),hardBreakEscape:h(j),hardBreakTrailing:h(j),htmlFlow:h(X),htmlFlowData:O,htmlText:h(H),htmlTextData:O,image:h(le),label:te,labelText:Y,lineEnding:L,link:h(ee),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:ne,resourceDestinationString:U,resourceTitleString:B,resource:re,setextHeading:h(Q),setextHeadingLineSequence:q,setextHeadingText:M,strong:h(),thematicBreak:h()}};mD(n,(e||{}).mdastExtensions||[]);const t={};return r;function r(xe){let ke={type:"root",children:[]};const Ne={stack:[ke],tokenStack:[],config:n,enter:d,exit:g,buffer:c,resume:b,setData:a,getData:s},ut=[];let Ze=-1;for(;++Ze<xe.length;)if(xe[Ze][1].type==="listOrdered"||xe[Ze][1].type==="listUnordered")if(xe[Ze][0]==="enter")ut.push(Ze);else{const Dt=ut.pop();Ze=i(xe,Dt,Ze)}for(Ze=-1;++Ze<xe.length;){const Dt=n[xe[Ze][0]];pD.call(Dt,xe[Ze][1].type)&&Dt[xe[Ze][1].type].call(Object.assign({sliceSerialize:xe[Ze][2].sliceSerialize},Ne),xe[Ze][1])}if(Ne.tokenStack.length>0){const Dt=Ne.tokenStack[Ne.tokenStack.length-1];(Dt[1]||iN).call(Ne,void 0,Dt[0])}for(ke.position={start:If(xe.length>0?xe[0][1].start:{line:1,column:1,offset:0}),end:If(xe.length>0?xe[xe.length-2][1].end:{line:1,column:1,offset:0})},Ze=-1;++Ze<n.transforms.length;)ke=n.transforms[Ze](ke)||ke;return ke}function i(xe,ke,Ne){let ut=ke-1,Ze=-1,Dt=!1,Et,$t,It,Gt;for(;++ut<=Ne;){const Jt=xe[ut];if(Jt[1].type==="listUnordered"||Jt[1].type==="listOrdered"||Jt[1].type==="blockQuote"?(Jt[0]==="enter"?Ze++:Ze--,Gt=void 0):Jt[1].type==="lineEndingBlank"?Jt[0]==="enter"&&(Et&&!Gt&&!Ze&&!It&&(It=ut),Gt=void 0):Jt[1].type==="linePrefix"||Jt[1].type==="listItemValue"||Jt[1].type==="listItemMarker"||Jt[1].type==="listItemPrefix"||Jt[1].type==="listItemPrefixWhitespace"||(Gt=void 0),!Ze&&Jt[0]==="enter"&&Jt[1].type==="listItemPrefix"||Ze===-1&&Jt[0]==="exit"&&(Jt[1].type==="listUnordered"||Jt[1].type==="listOrdered")){if(Et){let sn=ut;for($t=void 0;sn--;){const Mn=xe[sn];if(Mn[1].type==="lineEnding"||Mn[1].type==="lineEndingBlank"){if(Mn[0]==="exit")continue;$t&&(xe[$t][1].type="lineEndingBlank",Dt=!0),Mn[1].type="lineEnding",$t=sn}else if(!(Mn[1].type==="linePrefix"||Mn[1].type==="blockQuotePrefix"||Mn[1].type==="blockQuotePrefixWhitespace"||Mn[1].type==="blockQuoteMarker"||Mn[1].type==="listItemIndent"))break}It&&(!$t||It<$t)&&(Et._spread=!0),Et.end=Object.assign({},$t?xe[$t][1].start:Jt[1].end),xe.splice($t||ut,0,["exit",Et,Jt[2]]),ut++,Ne++}Jt[1].type==="listItemPrefix"&&(Et={type:"listItem",_spread:!1,start:Object.assign({},Jt[1].start),end:void 0},xe.splice(ut,0,["enter",Et,Jt[2]]),ut++,Ne++,It=void 0,Gt=!0)}}return xe[ke][1]._spread=Dt,Ne}function a(xe,ke){t[xe]=ke}function s(xe){return t[xe]}function l(xe,ke){return Ne;function Ne(ut){d.call(this,xe(ut),ut),ke&&ke.call(this,ut)}}function c(){this.stack.push({type:"fragment",children:[]})}function d(xe,ke,Ne){return this.stack[this.stack.length-1].children.push(xe),this.stack.push(xe),this.tokenStack.push([ke,Ne]),xe.position={start:If(ke.start)},xe}function h(xe){return ke;function ke(Ne){xe&&xe.call(this,Ne),g.call(this,Ne)}}function g(xe,ke){const Ne=this.stack.pop(),ut=this.tokenStack.pop();if(ut)ut[0].type!==xe.type&&(ke?ke.call(this,xe,ut[0]):(ut[1]||iN).call(this,xe,ut[0]));else throw new Error("Cannot close `"+xe.type+"` ("+sg({start:xe.start,end:xe.end})+"): its not open");return Ne.position.end=If(xe.end),Ne}function b(){return $ee(this.stack.pop())}function m(){a("expectingFirstListItemValue",!0)}function x(xe){if(s("expectingFirstListItemValue")){const ke=this.stack[this.stack.length-2];ke.start=Number.parseInt(this.sliceSerialize(xe),10),a("expectingFirstListItemValue")}}function y(){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.lang=xe}function A(){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.meta=xe}function w(){s("flowCodeInside")||(this.buffer(),a("flowCodeInside",!0))}function C(){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.value=xe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),a("flowCodeInside")}function N(){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.value=xe.replace(/(\r?\n|\r)$/g,"")}function P(xe){const ke=this.resume(),Ne=this.stack[this.stack.length-1];Ne.label=ke,Ne.identifier=B0(this.sliceSerialize(xe)).toLowerCase()}function F(){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.title=xe}function R(){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.url=xe}function k(xe){const ke=this.stack[this.stack.length-1];if(!ke.depth){const Ne=this.sliceSerialize(xe).length;ke.depth=Ne}}function M(){a("setextHeadingSlurpLineEnding",!0)}function q(xe){const ke=this.stack[this.stack.length-1];ke.depth=this.sliceSerialize(xe).charCodeAt(0)===61?1:2}function Q(){a("setextHeadingSlurpLineEnding")}function T(xe){const ke=this.stack[this.stack.length-1];let Ne=ke.children[ke.children.length-1];(!Ne||Ne.type!=="text")&&(Ne=nt(),Ne.position={start:If(xe.start)},ke.children.push(Ne)),this.stack.push(Ne)}function O(xe){const ke=this.stack.pop();ke.value+=this.sliceSerialize(xe),ke.position.end=If(xe.end)}function L(xe){const ke=this.stack[this.stack.length-1];if(s("atHardBreak")){const Ne=ke.children[ke.children.length-1];Ne.position.end=If(xe.end),a("atHardBreak");return}!s("setextHeadingSlurpLineEnding")&&n.canContainEols.includes(ke.type)&&(T.call(this,xe),O.call(this,xe))}function j(){a("atHardBreak",!0)}function X(){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.value=xe}function H(){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.value=xe}function G(){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.value=xe}function ee(){const xe=this.stack[this.stack.length-1];if(s("inReference")){const ke=s("referenceType")||"shortcut";xe.type+="Reference",xe.referenceType=ke,delete xe.url,delete xe.title}else delete xe.identifier,delete xe.label;a("referenceType")}function le(){const xe=this.stack[this.stack.length-1];if(s("inReference")){const ke=s("referenceType")||"shortcut";xe.type+="Reference",xe.referenceType=ke,delete xe.url,delete xe.title}else delete xe.identifier,delete xe.label;a("referenceType")}function Y(xe){const ke=this.sliceSerialize(xe),Ne=this.stack[this.stack.length-2];Ne.label=Une(ke),Ne.identifier=B0(ke).toLowerCase()}function te(){const xe=this.stack[this.stack.length-1],ke=this.resume(),Ne=this.stack[this.stack.length-1];if(a("inReference",!0),Ne.type==="link"){const ut=xe.children;Ne.children=ut}else Ne.alt=ke}function U(){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.url=xe}function B(){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.title=xe}function re(){a("inReference")}function Z(){a("referenceType","collapsed")}function ne(xe){const ke=this.resume(),Ne=this.stack[this.stack.length-1];Ne.label=ke,Ne.identifier=B0(this.sliceSerialize(xe)).toLowerCase(),a("referenceType","full")}function ve(xe){a("characterReferenceType",xe.type)}function ye(xe){const ke=this.sliceSerialize(xe),Ne=s("characterReferenceType");let ut;Ne?(ut=hD(ke,Ne==="characterReferenceMarkerNumeric"?10:16),a("characterReferenceType")):ut=SA(ke);const Ze=this.stack.pop();Ze.value+=ut,Ze.position.end=If(xe.end)}function Ce(xe){O.call(this,xe);const ke=this.stack[this.stack.length-1];ke.url=this.sliceSerialize(xe)}function Oe(xe){O.call(this,xe);const ke=this.stack[this.stack.length-1];ke.url="mailto:"+this.sliceSerialize(xe)}function Ie(){return{type:"blockquote",children:[]}}function Ue(){return{type:"code",lang:null,meta:null,value:""}}function He(){return{type:"inlineCode",value:""}}function V(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Se(){return{type:"emphasis",children:[]}}function se(){return{type:"heading",depth:void 0,children:[]}}function he(){return{type:"break"}}function de(){return{type:"html",value:""}}function we(){return{type:"image",title:null,url:"",alt:null}}function Le(){return{type:"link",title:null,url:"",children:[]}}function Fe(xe){return{type:"list",ordered:xe.type==="listOrdered",start:null,spread:xe._spread,children:[]}}function _e(xe){return{type:"listItem",spread:xe._spread,checked:null,children:[]}}function Qe(){return{type:"paragraph",children:[]}}function st(){return{type:"strong",children:[]}}function nt(){return{type:"text",value:""}}function De(){return{type:"thematicBreak"}}}function If(e){return{line:e.line,column:e.column,offset:e.offset}}function mD(e,n){let t=-1;for(;++t<n.length;){const r=n[t];Array.isArray(r)?mD(e,r):Vne(e,r)}}function Vne(e,n){let t;for(t in n)if(pD.call(n,t)){if(t==="canContainEols"){const r=n[t];r&&e[t].push(...r)}else if(t==="transforms"){const r=n[t];r&&e[t].push(...r)}else if(t==="enter"||t==="exit"){const r=n[t];r&&Object.assign(e[t],r)}}}function iN(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+sg({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+sg({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+sg({start:n.start,end:n.end})+") is still open")}function Yne(e){Object.assign(this,{Parser:t=>{const r=this.data("settings");return Hne(t,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function Gne(e,n){const t={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,t),e.applyData(n,t)}function Qne(e,n){const t={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,t),[e.applyData(n,t),{type:"text",value:`
`}]}function Kne(e,n){const t=n.value?n.value+`
`:"",r=n.lang?n.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return n.meta&&(a.data={meta:n.meta}),e.patch(n,a),a=e.applyData(n,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(n,a),a}function Xne(e,n){const t={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function Zne(e,n){const t={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function mm(e){const n=[];let t=-1,r=0,i=0;for(;++t<e.length;){const a=e.charCodeAt(t);let s="";if(a===37&&el(e.charCodeAt(t+1))&&el(e.charCodeAt(t+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const l=e.charCodeAt(t+1);a<56320&&l>56319&&l<57344?(s=String.fromCharCode(a,l),i=1):s=""}else s=String.fromCharCode(a);s&&(n.push(e.slice(r,t),encodeURIComponent(s)),r=t+i+1,s=""),i&&(t+=i,i=0)}return n.join("")+e.slice(r)}function gD(e,n){const t=String(n.identifier).toUpperCase(),r=mm(t.toLowerCase()),i=e.footnoteOrder.indexOf(t);let a;i===-1?(e.footnoteOrder.push(t),e.footnoteCounts[t]=1,a=e.footnoteOrder.length):(e.footnoteCounts[t]++,a=i+1);const s=e.footnoteCounts[t],l={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(n,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(n,c),e.applyData(n,c)}function Jne(e,n){const t=e.footnoteById;let r=1;for(;r in t;)r++;const i=String(r);return t[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:n.children}],position:n.position},gD(e,{type:"footnoteReference",identifier:i,position:n.position})}function ere(e,n){const t={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function tre(e,n){if(e.dangerous){const t={type:"raw",value:n.value};return e.patch(n,t),e.applyData(n,t)}return null}function bD(e,n){const t=n.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return{type:"text",value:"!["+n.alt+r};const i=e.all(n),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function nre(e,n){const t=e.definition(n.identifier);if(!t)return bD(e,n);const r={src:mm(t.url||""),alt:n.alt};t.title!==null&&t.title!==void 0&&(r.title=t.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(n,i),e.applyData(n,i)}function rre(e,n){const t={src:mm(n.url)};n.alt!==null&&n.alt!==void 0&&(t.alt=n.alt),n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"img",properties:t,children:[]};return e.patch(n,r),e.applyData(n,r)}function ire(e,n){const t={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return e.patch(n,r),e.applyData(n,r)}function are(e,n){const t=e.definition(n.identifier);if(!t)return bD(e,n);const r={href:mm(t.url||"")};t.title!==null&&t.title!==void 0&&(r.title=t.title);const i={type:"element",tagName:"a",properties:r,children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function sre(e,n){const t={href:mm(n.url)};n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"a",properties:t,children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function ore(e,n,t){const r=e.all(n),i=t?lre(t):yD(n),a={},s=[];if(typeof n.checked=="boolean"){const h=r[0];let g;h&&h.type==="element"&&h.tagName==="p"?g=h:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const h=r[l];(i||l!==0||h.type!=="element"||h.tagName!=="p")&&s.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?s.push(...h.children):s.push(h)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:s};return e.patch(n,d),e.applyData(n,d)}function lre(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const t=e.children;let r=-1;for(;!n&&++r<t.length;)n=yD(t[r])}return n}function yD(e){const n=e.spread;return n??e.children.length>1}function ure(e,n){const t={},r=e.all(n);let i=-1;for(typeof n.start=="number"&&n.start!==1&&(t.start=n.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const a={type:"element",tagName:n.ordered?"ol":"ul",properties:t,children:e.wrap(r,!0)};return e.patch(n,a),e.applyData(n,a)}function cre(e,n){const t={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function dre(e,n){const t={type:"root",children:e.wrap(e.all(n))};return e.patch(n,t),e.applyData(n,t)}function fre(e,n){const t={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const CA=xD("start"),EA=xD("end");function hre(e){return{start:CA(e),end:EA(e)}}function xD(e){return n;function n(t){const r=t&&t.position&&t.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function pre(e,n){const t=e.all(n),r=t.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(n.children[0],s),i.push(s)}if(t.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(t,!0)},l=CA(n.children[1]),c=EA(n.children[n.children.length-1]);l.line&&c.line&&(s.position={start:l,end:c}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(n,a),e.applyData(n,a)}function mre(e,n,t){const r=t?t.children:void 0,a=(r?r.indexOf(n):1)===0?"th":"td",s=t&&t.type==="table"?t.align:void 0,l=s?s.length:n.children.length;let c=-1;const d=[];for(;++c<l;){const g=n.children[c],b={},m=s?s[c]:void 0;m&&(b.align=m);let x={type:"element",tagName:a,properties:b,children:[]};g&&(x.children=e.all(g),e.patch(g,x),x=e.applyData(n,x)),d.push(x)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(n,h),e.applyData(n,h)}function gre(e,n){const t={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const aN=9,sN=32;function bre(e){const n=String(e),t=/\r?\n|\r/g;let r=t.exec(n),i=0;const a=[];for(;r;)a.push(oN(n.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=t.exec(n);return a.push(oN(n.slice(i),i>0,!1)),a.join("")}function oN(e,n,t){let r=0,i=e.length;if(n){let a=e.codePointAt(r);for(;a===aN||a===sN;)r++,a=e.codePointAt(r)}if(t){let a=e.codePointAt(i-1);for(;a===aN||a===sN;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function yre(e,n){const t={type:"text",value:bre(String(n.value))};return e.patch(n,t),e.applyData(n,t)}function xre(e,n){const t={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,t),e.applyData(n,t)}const vre={blockquote:Gne,break:Qne,code:Kne,delete:Xne,emphasis:Zne,footnoteReference:gD,footnote:Jne,heading:ere,html:tre,imageReference:nre,image:rre,inlineCode:ire,linkReference:are,link:sre,listItem:ore,list:ure,paragraph:cre,root:dre,strong:fre,table:pre,tableCell:gre,tableRow:mre,text:yre,thematicBreak:xre,toml:Wy,yaml:Wy,definition:Wy,footnoteDefinition:Wy};function Wy(){return null}const vD=function(e){if(e==null)return Cre;if(typeof e=="string")return Are(e);if(typeof e=="object")return Array.isArray(e)?wre(e):Sre(e);if(typeof e=="function")return Bv(e);throw new Error("Expected function, string, or object as test")};function wre(e){const n=[];let t=-1;for(;++t<e.length;)n[t]=vD(e[t]);return Bv(r);function r(...i){let a=-1;for(;++a<n.length;)if(n[a].call(this,...i))return!0;return!1}}function Sre(e){return Bv(n);function n(t){let r;for(r in e)if(t[r]!==e[r])return!1;return!0}}function Are(e){return Bv(n);function n(t){return t&&t.type===e}}function Bv(e){return n;function n(t,...r){return!!(t&&typeof t=="object"&&"type"in t&&e.call(this,t,...r))}}function Cre(){return!0}const Ere=!0,lN=!1,_re="skip",kre=function(e,n,t,r){typeof n=="function"&&typeof t!="function"&&(r=t,t=n,n=null);const i=vD(n),a=r?-1:1;s(e,void 0,[])();function s(l,c,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const b=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(l.type+(b?"<"+b+">":""))+")"})}return g;function g(){let b=[],m,x,y;if((!n||i(l,c,d[d.length-1]||null))&&(b=Nre(t(l,d)),b[0]===lN))return b;if(l.children&&b[0]!==_re)for(x=(r?l.children.length:-1)+a,y=d.concat(l);x>-1&&x<l.children.length;){if(m=s(l.children[x],x,y)(),m[0]===lN)return m;x=typeof m[1]=="number"?m[1]:x+a}return b}}};function Nre(e){return Array.isArray(e)?e:typeof e=="number"?[Ere,e]:[e]}const _A=function(e,n,t,r){typeof n=="function"&&typeof t!="function"&&(r=t,t=n,n=null),kre(e,n,i,r);function i(a,s){const l=s[s.length-1];return t(a,l?l.children.indexOf(a):null,l)}};function jre(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const uN={}.hasOwnProperty;function Tre(e){const n=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return _A(e,"definition",r=>{const i=cN(r.identifier);i&&!uN.call(n,i)&&(n[i]=r)}),t;function t(r){const i=cN(r);return i&&uN.call(n,i)?n[i]:null}}function cN(e){return String(e||"").toUpperCase()}const ev={}.hasOwnProperty;function Ore(e,n){const t=n||{},r=t.allowDangerousHtml||!1,i={};return s.dangerous=r,s.clobberPrefix=t.clobberPrefix===void 0||t.clobberPrefix===null?"user-content-":t.clobberPrefix,s.footnoteLabel=t.footnoteLabel||"Footnotes",s.footnoteLabelTagName=t.footnoteLabelTagName||"h2",s.footnoteLabelProperties=t.footnoteLabelProperties||{className:["sr-only"]},s.footnoteBackLabel=t.footnoteBackLabel||"Back to content",s.unknownHandler=t.unknownHandler,s.passThrough=t.passThrough,s.handlers={...vre,...t.handlers},s.definition=Tre(e),s.footnoteById=i,s.footnoteOrder=[],s.footnoteCounts={},s.patch=Ire,s.applyData=Dre,s.one=l,s.all=c,s.wrap=Rre,s.augment=a,_A(e,"footnoteDefinition",d=>{const h=String(d.identifier).toUpperCase();ev.call(i,h)||(i[h]=d)}),s;function a(d,h){if(d&&"data"in d&&d.data){const g=d.data;g.hName&&(h.type!=="element"&&(h={type:"element",tagName:"",properties:{},children:[]}),h.tagName=g.hName),h.type==="element"&&g.hProperties&&(h.properties={...h.properties,...g.hProperties}),"children"in h&&h.children&&g.hChildren&&(h.children=g.hChildren)}if(d){const g="type"in d?d:{position:d};jre(g)||(h.position={start:CA(g),end:EA(g)})}return h}function s(d,h,g,b){return Array.isArray(g)&&(b=g,g={}),a(d,{type:"element",tagName:h,properties:g||{},children:b||[]})}function l(d,h){return wD(s,d,h)}function c(d){return kA(s,d)}}function Ire(e,n){e.position&&(n.position=hre(e))}function Dre(e,n){let t=n;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;typeof r=="string"&&(t.type==="element"?t.tagName=r:t={type:"element",tagName:r,properties:{},children:[]}),t.type==="element"&&a&&(t.properties={...t.properties,...a}),"children"in t&&t.children&&i!==null&&i!==void 0&&(t.children=i)}return t}function wD(e,n,t){const r=n&&n.type;if(!r)throw new Error("Expected node, got `"+n+"`");return ev.call(e.handlers,r)?e.handlers[r](e,n,t):e.passThrough&&e.passThrough.includes(r)?"children"in n?{...n,children:kA(e,n)}:n:e.unknownHandler?e.unknownHandler(e,n,t):Lre(e,n)}function kA(e,n){const t=[];if("children"in n){const r=n.children;let i=-1;for(;++i<r.length;){const a=wD(e,r[i],n);if(a){if(i&&r[i-1].type==="break"&&(!Array.isArray(a)&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,"")),!Array.isArray(a)&&a.type==="element")){const s=a.children[0];s&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,""))}Array.isArray(a)?t.push(...a):t.push(a)}}}return t}function Lre(e,n){const t=n.data||{},r="value"in n&&!(ev.call(t,"hProperties")||ev.call(t,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:kA(e,n)};return e.patch(n,r),e.applyData(n,r)}function Rre(e,n){const t=[];let r=-1;for(n&&t.push({type:"text",value:`
`});++r<e.length;)r&&t.push({type:"text",value:`
`}),t.push(e[r]);return n&&e.length>0&&t.push({type:"text",value:`
`}),t}function Mre(e){const n=[];let t=-1;for(;++t<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[t]];if(!r)continue;const i=e.all(r),a=String(r.identifier).toUpperCase(),s=mm(a.toLowerCase());let l=0;const c=[];for(;++l<=e.footnoteCounts[a];){const g={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+s+(l>1?"-"+l:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};l>1&&g.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(l)}]}),c.length>0&&c.push({type:"text",value:" "}),c.push(g)}const d=i[i.length-1];if(d&&d.type==="element"&&d.tagName==="p"){const g=d.children[d.children.length-1];g&&g.type==="text"?g.value+=" ":d.children.push({type:"text",value:" "}),d.children.push(...c)}else i.push(...c);const h={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+s},children:e.wrap(i,!0)};e.patch(r,h),n.push(h)}if(n.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(n,!0)},{type:"text",value:`
`}]}}function SD(e,n){const t=Ore(e,n),r=t.one(e,null),i=Mre(t);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const Pre=function(e,n){return e&&"run"in e?Fre(e,n):zre(e||n)};function Fre(e,n){return(t,r,i)=>{e.run(SD(t,n),r,a=>{i(a)})}}function zre(e){return n=>SD(n,e)}class ob{constructor(n,t,r){this.property=n,this.normal=t,r&&(this.space=r)}}ob.prototype.property={};ob.prototype.normal={};ob.prototype.space=null;function AD(e,n){const t={},r={};let i=-1;for(;++i<e.length;)Object.assign(t,e[i].property),Object.assign(r,e[i].normal);return new ob(t,r,n)}function n6(e){return e.toLowerCase()}class ql{constructor(n,t){this.property=n,this.attribute=t}}ql.prototype.space=null;ql.prototype.boolean=!1;ql.prototype.booleanish=!1;ql.prototype.overloadedBoolean=!1;ql.prototype.number=!1;ql.prototype.commaSeparated=!1;ql.prototype.spaceSeparated=!1;ql.prototype.commaOrSpaceSeparated=!1;ql.prototype.mustUseProperty=!1;ql.prototype.defined=!1;let qre=0;const An=_p(),Na=_p(),CD=_p(),Ct=_p(),ii=_p(),U0=_p(),Go=_p();function _p(){return 2**++qre}const r6=Object.freeze(Object.defineProperty({__proto__:null,boolean:An,booleanish:Na,commaOrSpaceSeparated:Go,commaSeparated:U0,number:Ct,overloadedBoolean:CD,spaceSeparated:ii},Symbol.toStringTag,{value:"Module"})),Iw=Object.keys(r6);class NA extends ql{constructor(n,t,r,i){let a=-1;if(super(n,t),dN(this,"space",i),typeof r=="number")for(;++a<Iw.length;){const s=Iw[a];dN(this,Iw[a],(r&r6[s])===r6[s])}}}NA.prototype.defined=!0;function dN(e,n,t){t&&(e[n]=t)}const Bre={}.hasOwnProperty;function gm(e){const n={},t={};let r;for(r in e.properties)if(Bre.call(e.properties,r)){const i=e.properties[r],a=new NA(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),n[r]=a,t[n6(r)]=r,t[n6(a.attribute)]=r}return new ob(n,t,e.space)}const ED=gm({space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),_D=gm({space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function kD(e,n){return n in e?e[n]:n}function ND(e,n){return kD(e,n.toLowerCase())}const jD=gm({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:ND,properties:{xmlns:null,xmlnsXLink:null}}),TD=gm({transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Na,ariaAutoComplete:null,ariaBusy:Na,ariaChecked:Na,ariaColCount:Ct,ariaColIndex:Ct,ariaColSpan:Ct,ariaControls:ii,ariaCurrent:null,ariaDescribedBy:ii,ariaDetails:null,ariaDisabled:Na,ariaDropEffect:ii,ariaErrorMessage:null,ariaExpanded:Na,ariaFlowTo:ii,ariaGrabbed:Na,ariaHasPopup:null,ariaHidden:Na,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ii,ariaLevel:Ct,ariaLive:null,ariaModal:Na,ariaMultiLine:Na,ariaMultiSelectable:Na,ariaOrientation:null,ariaOwns:ii,ariaPlaceholder:null,ariaPosInSet:Ct,ariaPressed:Na,ariaReadOnly:Na,ariaRelevant:null,ariaRequired:Na,ariaRoleDescription:ii,ariaRowCount:Ct,ariaRowIndex:Ct,ariaRowSpan:Ct,ariaSelected:Na,ariaSetSize:Ct,ariaSort:null,ariaValueMax:Ct,ariaValueMin:Ct,ariaValueNow:Ct,ariaValueText:null,role:null}}),Ure=gm({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:ND,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:U0,acceptCharset:ii,accessKey:ii,action:null,allow:null,allowFullScreen:An,allowPaymentRequest:An,allowUserMedia:An,alt:null,as:null,async:An,autoCapitalize:null,autoComplete:ii,autoFocus:An,autoPlay:An,blocking:ii,capture:null,charSet:null,checked:An,cite:null,className:ii,cols:Ct,colSpan:null,content:null,contentEditable:Na,controls:An,controlsList:ii,coords:Ct|U0,crossOrigin:null,data:null,dateTime:null,decoding:null,default:An,defer:An,dir:null,dirName:null,disabled:An,download:CD,draggable:Na,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:An,formTarget:null,headers:ii,height:Ct,hidden:An,high:Ct,href:null,hrefLang:null,htmlFor:ii,httpEquiv:ii,id:null,imageSizes:null,imageSrcSet:null,inert:An,inputMode:null,integrity:null,is:null,isMap:An,itemId:null,itemProp:ii,itemRef:ii,itemScope:An,itemType:ii,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:An,low:Ct,manifest:null,max:null,maxLength:Ct,media:null,method:null,min:null,minLength:Ct,multiple:An,muted:An,name:null,nonce:null,noModule:An,noValidate:An,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:An,optimum:Ct,pattern:null,ping:ii,placeholder:null,playsInline:An,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:An,referrerPolicy:null,rel:ii,required:An,reversed:An,rows:Ct,rowSpan:Ct,sandbox:ii,scope:null,scoped:An,seamless:An,selected:An,shadowRootClonable:An,shadowRootDelegatesFocus:An,shadowRootMode:null,shape:null,size:Ct,sizes:null,slot:null,span:Ct,spellCheck:Na,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ct,step:null,style:null,tabIndex:Ct,target:null,title:null,translate:null,type:null,typeMustMatch:An,useMap:null,value:Na,width:Ct,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ii,axis:null,background:null,bgColor:null,border:Ct,borderColor:null,bottomMargin:Ct,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:An,declare:An,event:null,face:null,frame:null,frameBorder:null,hSpace:Ct,leftMargin:Ct,link:null,longDesc:null,lowSrc:null,marginHeight:Ct,marginWidth:Ct,noResize:An,noHref:An,noShade:An,noWrap:An,object:null,profile:null,prompt:null,rev:null,rightMargin:Ct,rules:null,scheme:null,scrolling:Na,standby:null,summary:null,text:null,topMargin:Ct,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ct,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:An,disableRemotePlayback:An,prefix:null,property:null,results:Ct,security:null,unselectable:null}}),$re=gm({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:kD,properties:{about:Go,accentHeight:Ct,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ct,amplitude:Ct,arabicForm:null,ascent:Ct,attributeName:null,attributeType:null,azimuth:Ct,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ct,by:null,calcMode:null,capHeight:Ct,className:ii,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ct,diffuseConstant:Ct,direction:null,display:null,dur:null,divisor:Ct,dominantBaseline:null,download:An,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ct,enableBackground:null,end:null,event:null,exponent:Ct,externalResourcesRequired:null,fill:null,fillOpacity:Ct,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:U0,g2:U0,glyphName:U0,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ct,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ct,horizOriginX:Ct,horizOriginY:Ct,id:null,ideographic:Ct,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ct,k:Ct,k1:Ct,k2:Ct,k3:Ct,k4:Ct,kernelMatrix:Go,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ct,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ct,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ct,overlineThickness:Ct,paintOrder:null,panose1:null,path:null,pathLength:Ct,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ii,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ct,pointsAtY:Ct,pointsAtZ:Ct,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Go,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Go,rev:Go,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Go,requiredFeatures:Go,requiredFonts:Go,requiredFormats:Go,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ct,specularExponent:Ct,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ct,strikethroughThickness:Ct,string:null,stroke:null,strokeDashArray:Go,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ct,strokeOpacity:Ct,strokeWidth:null,style:null,surfaceScale:Ct,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Go,tabIndex:Ct,tableValues:null,target:null,targetX:Ct,targetY:Ct,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Go,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ct,underlineThickness:Ct,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ct,values:null,vAlphabetic:Ct,vMathematical:Ct,vectorEffect:null,vHanging:Ct,vIdeographic:Ct,version:null,vertAdvY:Ct,vertOriginX:Ct,vertOriginY:Ct,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ct,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Hre=/^data[-\w.:]+$/i,fN=/-[a-z]/g,Wre=/[A-Z]/g;function Vre(e,n){const t=n6(n);let r=n,i=ql;if(t in e.normal)return e.property[e.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&Hre.test(n)){if(n.charAt(4)==="-"){const a=n.slice(5).replace(fN,Gre);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=n.slice(4);if(!fN.test(a)){let s=a.replace(Wre,Yre);s.charAt(0)!=="-"&&(s="-"+s),n="data"+s}}i=NA}return new i(r,n)}function Yre(e){return"-"+e.toLowerCase()}function Gre(e){return e.charAt(1).toUpperCase()}const hN={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Qre=AD([_D,ED,jD,TD,Ure],"html"),Kre=AD([_D,ED,jD,TD,$re],"svg");function Xre(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return n=>{_A(n,"element",(t,r,i)=>{const a=i;let s;if(e.allowedElements?s=!e.allowedElements.includes(t.tagName):e.disallowedElements&&(s=e.disallowedElements.includes(t.tagName)),!s&&e.allowElement&&typeof r=="number"&&(s=!e.allowElement(t,r,a)),s&&typeof r=="number")return e.unwrapDisallowed&&t.children?a.children.splice(r,1,...t.children):a.children.splice(r,1),r})}}var Dw={exports:{}},Cr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pN;function Zre(){if(pN)return Cr;pN=1;var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function y(A){if(typeof A=="object"&&A!==null){var w=A.$$typeof;switch(w){case e:switch(A=A.type,A){case t:case i:case r:case d:case h:return A;default:switch(A=A&&A.$$typeof,A){case l:case s:case c:case b:case g:case a:return A;default:return w}}case n:return w}}}return Cr.ContextConsumer=s,Cr.ContextProvider=a,Cr.Element=e,Cr.ForwardRef=c,Cr.Fragment=t,Cr.Lazy=b,Cr.Memo=g,Cr.Portal=n,Cr.Profiler=i,Cr.StrictMode=r,Cr.Suspense=d,Cr.SuspenseList=h,Cr.isAsyncMode=function(){return!1},Cr.isConcurrentMode=function(){return!1},Cr.isContextConsumer=function(A){return y(A)===s},Cr.isContextProvider=function(A){return y(A)===a},Cr.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},Cr.isForwardRef=function(A){return y(A)===c},Cr.isFragment=function(A){return y(A)===t},Cr.isLazy=function(A){return y(A)===b},Cr.isMemo=function(A){return y(A)===g},Cr.isPortal=function(A){return y(A)===n},Cr.isProfiler=function(A){return y(A)===i},Cr.isStrictMode=function(A){return y(A)===r},Cr.isSuspense=function(A){return y(A)===d},Cr.isSuspenseList=function(A){return y(A)===h},Cr.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===t||A===i||A===r||A===d||A===h||A===m||typeof A=="object"&&A!==null&&(A.$$typeof===b||A.$$typeof===g||A.$$typeof===a||A.$$typeof===s||A.$$typeof===c||A.$$typeof===x||A.getModuleId!==void 0)},Cr.typeOf=y,Cr}var mN;function Jre(){return mN||(mN=1,Dw.exports=Zre()),Dw.exports}var eie=Jre();const tie=$i(eie);function nie(e){const n=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof n=="string"&&n.replace(/[ \t\n\f\r]/g,"")===""}function rie(e){return e.join(" ").trim()}function iie(e,n){const t={};return(e[e.length-1]===""?[...e,""]:e).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}var Vy={exports:{}},Lw,gN;function aie(){if(gN)return Lw;gN=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,t=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,l=/^\s+|\s+$/g,c=`
`,d="/",h="*",g="",b="comment",m="declaration";Lw=function(y,A){if(typeof y!="string")throw new TypeError("First argument must be a string");if(!y)return[];A=A||{};var w=1,C=1;function N(L){var j=L.match(n);j&&(w+=j.length);var X=L.lastIndexOf(c);C=~X?L.length-X:C+L.length}function P(){var L={line:w,column:C};return function(j){return j.position=new F(L),M(),j}}function F(L){this.start=L,this.end={line:w,column:C},this.source=A.source}F.prototype.content=y;function R(L){var j=new Error(A.source+":"+w+":"+C+": "+L);if(j.reason=L,j.filename=A.source,j.line=w,j.column=C,j.source=y,!A.silent)throw j}function k(L){var j=L.exec(y);if(j){var X=j[0];return N(X),y=y.slice(X.length),j}}function M(){k(t)}function q(L){var j;for(L=L||[];j=Q();)j!==!1&&L.push(j);return L}function Q(){var L=P();if(!(d!=y.charAt(0)||h!=y.charAt(1))){for(var j=2;g!=y.charAt(j)&&(h!=y.charAt(j)||d!=y.charAt(j+1));)++j;if(j+=2,g===y.charAt(j-1))return R("End of comment missing");var X=y.slice(2,j-2);return C+=2,N(X),y=y.slice(j),C+=2,L({type:b,comment:X})}}function T(){var L=P(),j=k(r);if(j){if(Q(),!k(i))return R("property missing ':'");var X=k(a),H=L({type:m,property:x(j[0].replace(e,g)),value:X?x(X[0].replace(e,g)):g});return k(s),H}}function O(){var L=[];q(L);for(var j;j=T();)j!==!1&&(L.push(j),q(L));return L}return M(),O()};function x(y){return y?y.replace(l,g):g}return Lw}var bN;function sie(){if(bN)return Vy.exports;bN=1;var e=aie();function n(t,r){var i=null;if(!t||typeof t!="string")return i;for(var a,s=e(t),l=typeof r=="function",c,d,h=0,g=s.length;h<g;h++)a=s[h],c=a.property,d=a.value,l?r(c,d,a):d&&(i||(i={}),i[c]=d);return i}return Vy.exports=n,Vy.exports.default=n,Vy.exports}var oie=sie();const lie=$i(oie),i6={}.hasOwnProperty,uie=new Set(["table","thead","tbody","tfoot","tr"]);function OD(e,n){const t=[];let r=-1,i;for(;++r<n.children.length;)i=n.children[r],i.type==="element"?t.push(cie(e,i,r,n)):i.type==="text"?(n.type!=="element"||!uie.has(n.tagName)||!nie(i))&&t.push(i.value):i.type==="raw"&&!e.options.skipHtml&&t.push(i.value);return t}function cie(e,n,t,r){const i=e.options,a=i.transformLinkUri===void 0?vee:i.transformLinkUri,s=e.schema,l=n.tagName,c={};let d=s,h;if(s.space==="html"&&l==="svg"&&(d=Kre,e.schema=d),n.properties)for(h in n.properties)i6.call(n.properties,h)&&fie(c,h,n.properties[h],e);(l==="ol"||l==="ul")&&e.listDepth++;const g=OD(e,n);(l==="ol"||l==="ul")&&e.listDepth--,e.schema=s;const b=n.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},m=i.components&&i6.call(i.components,l)?i.components[l]:l,x=typeof m=="string"||m===tt.Fragment;if(!tie.isValidElementType(m))throw new TypeError(`Component for name \`${l}\` not defined or is not renderable`);if(c.key=t,l==="a"&&i.linkTarget&&(c.target=typeof i.linkTarget=="function"?i.linkTarget(String(c.href||""),n.children,typeof c.title=="string"?c.title:null):i.linkTarget),l==="a"&&a&&(c.href=a(String(c.href||""),n.children,typeof c.title=="string"?c.title:null)),!x&&l==="code"&&r.type==="element"&&r.tagName!=="pre"&&(c.inline=!0),!x&&(l==="h1"||l==="h2"||l==="h3"||l==="h4"||l==="h5"||l==="h6")&&(c.level=Number.parseInt(l.charAt(1),10)),l==="img"&&i.transformImageUri&&(c.src=i.transformImageUri(String(c.src||""),String(c.alt||""),typeof c.title=="string"?c.title:null)),!x&&l==="li"&&r.type==="element"){const y=die(n);c.checked=y&&y.properties?!!y.properties.checked:null,c.index=Rw(r,n),c.ordered=r.tagName==="ol"}return!x&&(l==="ol"||l==="ul")&&(c.ordered=l==="ol",c.depth=e.listDepth),(l==="td"||l==="th")&&(c.align&&(c.style||(c.style={}),c.style.textAlign=c.align,delete c.align),x||(c.isHeader=l==="th")),!x&&l==="tr"&&r.type==="element"&&(c.isHeader=r.tagName==="thead"),i.sourcePos&&(c["data-sourcepos"]=mie(b)),!x&&i.rawSourcePos&&(c.sourcePosition=n.position),!x&&i.includeElementIndex&&(c.index=Rw(r,n),c.siblingCount=Rw(r)),x||(c.node=n),g.length>0?tt.createElement(m,c,g):tt.createElement(m,c)}function die(e){let n=-1;for(;++n<e.children.length;){const t=e.children[n];if(t.type==="element"&&t.tagName==="input")return t}return null}function Rw(e,n){let t=-1,r=0;for(;++t<e.children.length&&e.children[t]!==n;)e.children[t].type==="element"&&r++;return r}function fie(e,n,t,r){const i=Vre(r.schema,n);let a=t;a==null||a!==a||(Array.isArray(a)&&(a=i.commaSeparated?iie(a):rie(a)),i.property==="style"&&typeof a=="string"&&(a=hie(a)),i.space&&i.property?e[i6.call(hN,i.property)?hN[i.property]:i.property]=a:i.attribute&&(e[i.attribute]=a))}function hie(e){const n={};try{lie(e,t)}catch{}return n;function t(r,i){const a=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;n[a.replace(/-([a-z])/g,pie)]=i}}function pie(e,n){return n.toUpperCase()}function mie(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const yN={}.hasOwnProperty,gie="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Yy={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function jA(e){for(const a in Yy)if(yN.call(Yy,a)&&yN.call(e,a)){const s=Yy[a];console.warn(`[react-markdown] Warning: please ${s.to?`use \`${s.to}\` instead of`:"remove"} \`${a}\` (see <${gie}#${s.id}> for more info)`),delete Yy[a]}const n=Fee().use(Yne).use(e.remarkPlugins||[]).use(Pre,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(Xre,e),t=new eD;typeof e.children=="string"?t.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=n.runSync(n.parse(t),t);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=tt.createElement(tt.Fragment,{},OD({options:e,schema:Qre,listDepth:0},r));return e.className&&(i=tt.createElement("div",{className:e.className},i)),i}jA.propTypes={children:xn.string,className:xn.string,allowElement:xn.func,allowedElements:xn.arrayOf(xn.string),disallowedElements:xn.arrayOf(xn.string),unwrapDisallowed:xn.bool,remarkPlugins:xn.arrayOf(xn.oneOfType([xn.object,xn.func,xn.arrayOf(xn.oneOfType([xn.bool,xn.string,xn.object,xn.func,xn.arrayOf(xn.any)]))])),rehypePlugins:xn.arrayOf(xn.oneOfType([xn.object,xn.func,xn.arrayOf(xn.oneOfType([xn.bool,xn.string,xn.object,xn.func,xn.arrayOf(xn.any)]))])),sourcePos:xn.bool,rawSourcePos:xn.bool,skipHtml:xn.bool,includeElementIndex:xn.bool,transformLinkUri:xn.oneOfType([xn.func,xn.bool]),linkTarget:xn.oneOfType([xn.func,xn.string]),transformImageUri:xn.func,components:xn.object};function TA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Wd(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var xN={exports:{}},L1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vN;function bie(){if(vN)return L1;vN=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return L1.Fragment=n,L1.jsx=t,L1.jsxs=t,L1}var wN;function OA(){return wN||(wN=1,xN.exports=bie()),xN.exports}var gn=OA(),R1={},SN={exports:{}},AN;function Uv(){return AN||(AN=1,function(e){function n(t){return t&&t.__esModule?t:{default:t}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(SN)),SN.exports}var CN={};function Vr(){return Vr=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Vr.apply(null,arguments)}function Mf(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ID(e){if(K.isValidElement(e)||!Mf(e))return e;const n={};return Object.keys(e).forEach(t=>{n[t]=ID(e[t])}),n}function Mc(e,n,t={clone:!0}){const r=t.clone?Vr({},e):e;return Mf(e)&&Mf(n)&&Object.keys(n).forEach(i=>{K.isValidElement(n[i])?r[i]=n[i]:Mf(n[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Mf(e[i])?r[i]=Mc(e[i],n[i],t):t.clone?r[i]=Mf(n[i])?ID(n[i]):n[i]:r[i]=n[i]}),r}const yie=Object.freeze(Object.defineProperty({__proto__:null,default:Mc,isPlainObject:Mf},Symbol.toStringTag,{value:"Module"}));function Ig(e){let n="https://mui.com/production-error/?code="+e;for(let t=1;t<arguments.length;t+=1)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+e+"; visit "+n+" for the full message."}const xie=Object.freeze(Object.defineProperty({__proto__:null,default:Ig},Symbol.toStringTag,{value:"Module"}));var EN={exports:{}},Hr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _N;function vie(){if(_N)return Hr;_N=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),m=Symbol.for("react.client.reference");function x(y){if(typeof y=="object"&&y!==null){var A=y.$$typeof;switch(A){case e:switch(y=y.type,y){case t:case i:case r:case c:case d:return y;default:switch(y=y&&y.$$typeof,y){case s:case l:case g:case h:return y;case a:return y;default:return A}}case n:return A}}}return Hr.ContextConsumer=a,Hr.ContextProvider=s,Hr.Element=e,Hr.ForwardRef=l,Hr.Fragment=t,Hr.Lazy=g,Hr.Memo=h,Hr.Portal=n,Hr.Profiler=i,Hr.StrictMode=r,Hr.Suspense=c,Hr.SuspenseList=d,Hr.isContextConsumer=function(y){return x(y)===a},Hr.isContextProvider=function(y){return x(y)===s},Hr.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Hr.isForwardRef=function(y){return x(y)===l},Hr.isFragment=function(y){return x(y)===t},Hr.isLazy=function(y){return x(y)===g},Hr.isMemo=function(y){return x(y)===h},Hr.isPortal=function(y){return x(y)===n},Hr.isProfiler=function(y){return x(y)===i},Hr.isStrictMode=function(y){return x(y)===r},Hr.isSuspense=function(y){return x(y)===c},Hr.isSuspenseList=function(y){return x(y)===d},Hr.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===i||y===r||y===c||y===d||y===b||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===h||y.$$typeof===s||y.$$typeof===a||y.$$typeof===l||y.$$typeof===m||y.getModuleId!==void 0)},Hr.typeOf=x,Hr}var kN;function wie(){return kN||(kN=1,EN.exports=vie()),EN.exports}var NN=wie();const Sie=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function DD(e){const n=`${e}`.match(Sie);return n&&n[1]||""}function LD(e,n=""){return e.displayName||e.name||DD(e)||n}function jN(e,n,t){const r=LD(n);return e.displayName||(r!==""?`${t}(${r})`:t)}function Aie(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return LD(e,"Component");if(typeof e=="object")switch(e.$$typeof){case NN.ForwardRef:return jN(e,e.render,"ForwardRef");case NN.Memo:return jN(e,e.type,"memo");default:return}}}const Cie=Object.freeze(Object.defineProperty({__proto__:null,default:Aie,getFunctionName:DD},Symbol.toStringTag,{value:"Module"}));function ih(e){if(typeof e!="string")throw new Error(Ig(7));return e.charAt(0).toUpperCase()+e.slice(1)}const Eie=Object.freeze(Object.defineProperty({__proto__:null,default:ih},Symbol.toStringTag,{value:"Module"}));function _ie(...e){return e.reduce((n,t)=>t==null?n:function(...r){n.apply(this,r),t.apply(this,r)},()=>{})}function kie(e,n=166){let t;function r(...i){const a=()=>{e.apply(this,i)};clearTimeout(t),t=setTimeout(a,n)}return r.clear=()=>{clearTimeout(t)},r}function Nie(e,n){return()=>null}function jie(e,n){var t,r;return K.isValidElement(e)&&n.indexOf((t=e.type.muiName)!=null?t:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function RD(e){return e&&e.ownerDocument||document}function Tie(e){return RD(e).defaultView||window}function Oie(e,n){return()=>null}function MD(e,n){typeof e=="function"?e(n):e&&(e.current=n)}const PD=typeof window<"u"?K.useLayoutEffect:K.useEffect;let TN=0;function Iie(e){const[n,t]=K.useState(e),r=e||n;return K.useEffect(()=>{n==null&&(TN+=1,t(`mui-${TN}`))},[n]),r}const ON=K.useId;function Die(e){if(ON!==void 0){const n=ON();return e??n}return Iie(e)}function Lie(e,n,t,r,i){return null}function Rie({controlled:e,default:n,name:t,state:r="value"}){const{current:i}=K.useRef(e!==void 0),[a,s]=K.useState(n),l=i?e:a,c=K.useCallback(d=>{i||s(d)},[]);return[l,c]}function Mie(e){const n=K.useRef(e);return PD(()=>{n.current=e}),K.useRef((...t)=>(0,n.current)(...t)).current}function Pie(...e){return K.useMemo(()=>e.every(n=>n==null)?null:n=>{e.forEach(t=>{MD(t,n)})},e)}let Fie=class FD{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new FD}start(n,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},n)}},$v=!0,a6=!1;const zie=new Fie,qie={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Bie(e){const{type:n,tagName:t}=e;return!!(t==="INPUT"&&qie[n]&&!e.readOnly||t==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function Uie(e){e.metaKey||e.altKey||e.ctrlKey||($v=!0)}function Mw(){$v=!1}function $ie(){this.visibilityState==="hidden"&&a6&&($v=!0)}function Hie(e){e.addEventListener("keydown",Uie,!0),e.addEventListener("mousedown",Mw,!0),e.addEventListener("pointerdown",Mw,!0),e.addEventListener("touchstart",Mw,!0),e.addEventListener("visibilitychange",$ie,!0)}function Wie(e){const{target:n}=e;try{return n.matches(":focus-visible")}catch{}return $v||Bie(n)}function Vie(){const e=K.useCallback(i=>{i!=null&&Hie(i.ownerDocument)},[]),n=K.useRef(!1);function t(){return n.current?(a6=!0,zie.start(100,()=>{a6=!1}),n.current=!1,!0):!1}function r(i){return Wie(i)?(n.current=!0,!0):!1}return{isFocusVisibleRef:n,onFocus:r,onBlur:t,ref:e}}function s6(e,n){const t=Vr({},n);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=Vr({},e[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},a=n[r];t[r]={},!a||!Object.keys(a)?t[r]=i:!i||!Object.keys(i)?t[r]=a:(t[r]=Vr({},a),Object.keys(i).forEach(s=>{t[r][s]=s6(i[s],a[s])}))}else t[r]===void 0&&(t[r]=e[r])}),t}function Yie(e,n,t=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((a,s)=>{if(s){const l=n(s);l!==""&&a.push(l),t&&t[s]&&a.push(t[s])}return a},[]).join(" ")}),r}const IN=e=>e,Gie=()=>{let e=IN;return{configure(n){e=n},generate(n){return e(n)},reset(){e=IN}}},zD=Gie(),Qie={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function qD(e,n,t="Mui"){const r=Qie[n];return r?`${t}-${r}`:`${zD.generate(e)}-${n}`}function Kie(e,n,t="Mui"){const r={};return n.forEach(i=>{r[i]=qD(e,i,t)}),r}function Xie(e,n=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(n,Math.min(e,t))}const Zie=Object.freeze(Object.defineProperty({__proto__:null,default:Xie},Symbol.toStringTag,{value:"Module"}));function dh(e,n){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.includes(r))continue;t[r]=e[r]}return t}function BD(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(t=BD(e[n]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Jie(){for(var e,n,t=0,r="",i=arguments.length;t<i;t++)(e=arguments[t])&&(n=BD(e))&&(r&&(r+=" "),r+=n);return r}const eae=K.createContext(void 0);function tae(e){const{theme:n,name:t,props:r}=e;if(!n||!n.components||!n.components[t])return r;const i=n.components[t];return i.defaultProps?s6(i.defaultProps,r):!i.styleOverrides&&!i.variants?s6(i,r):r}function nae({props:e,name:n}){const t=K.useContext(eae);return tae({props:e,name:n,theme:{components:t}})}function rae(e){return nae(e)}var qh={},DN={exports:{}},LN;function iae(){return LN||(LN=1,function(e){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)({}).hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(DN)),DN.exports}var RN={exports:{}},MN;function aae(){return MN||(MN=1,function(e){function n(t,r){if(t==null)return{};var i={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.includes(a))continue;i[a]=t[a]}return i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(RN)),RN.exports}function sae(e){if(e.sheet)return e.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===e)return document.styleSheets[n]}function oae(e){var n=document.createElement("style");return n.setAttribute("data-emotion",e.key),e.nonce!==void 0&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var lae=function(){function e(t){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var n=e.prototype;return n.hydrate=function(t){t.forEach(this._insertTag)},n.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(oae(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=sae(r);try{i.insertRule(t,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(t));this.ctr++},n.flush=function(){this.tags.forEach(function(t){var r;return(r=t.parentNode)==null?void 0:r.removeChild(t)}),this.tags=[],this.ctr=0},e}(),Is="-ms-",tv="-moz-",pr="-webkit-",UD="comm",IA="rule",DA="decl",uae="@import",$D="@keyframes",cae="@layer",dae=Math.abs,Hv=String.fromCharCode,fae=Object.assign;function hae(e,n){return cs(e,0)^45?(((n<<2^cs(e,0))<<2^cs(e,1))<<2^cs(e,2))<<2^cs(e,3):0}function HD(e){return e.trim()}function pae(e,n){return(e=n.exec(e))?e[0]:e}function gr(e,n,t){return e.replace(n,t)}function o6(e,n){return e.indexOf(n)}function cs(e,n){return e.charCodeAt(n)|0}function Dg(e,n,t){return e.slice(n,t)}function wc(e){return e.length}function LA(e){return e.length}function Gy(e,n){return n.push(e),e}function mae(e,n){return e.map(n).join("")}var Wv=1,lm=1,WD=0,Ao=0,ja=0,bm="";function Vv(e,n,t,r,i,a,s){return{value:e,root:n,parent:t,type:r,props:i,children:a,line:Wv,column:lm,length:s,return:""}}function M1(e,n){return fae(Vv("",null,null,"",null,null,0),e,{length:-e.length},n)}function gae(){return ja}function bae(){return ja=Ao>0?cs(bm,--Ao):0,lm--,ja===10&&(lm=1,Wv--),ja}function rl(){return ja=Ao<WD?cs(bm,Ao++):0,lm++,ja===10&&(lm=1,Wv++),ja}function Pc(){return cs(bm,Ao)}function yx(){return Ao}function lb(e,n){return Dg(bm,e,n)}function Lg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function VD(e){return Wv=lm=1,WD=wc(bm=e),Ao=0,[]}function YD(e){return bm="",e}function xx(e){return HD(lb(Ao-1,l6(e===91?e+2:e===40?e+1:e)))}function yae(e){for(;(ja=Pc())&&ja<33;)rl();return Lg(e)>2||Lg(ja)>3?"":" "}function xae(e,n){for(;--n&&rl()&&!(ja<48||ja>102||ja>57&&ja<65||ja>70&&ja<97););return lb(e,yx()+(n<6&&Pc()==32&&rl()==32))}function l6(e){for(;rl();)switch(ja){case e:return Ao;case 34:case 39:e!==34&&e!==39&&l6(ja);break;case 40:e===41&&l6(e);break;case 92:rl();break}return Ao}function vae(e,n){for(;rl()&&e+ja!==57&&!(e+ja===84&&Pc()===47););return"/*"+lb(n,Ao-1)+"*"+Hv(e===47?e:rl())}function wae(e){for(;!Lg(Pc());)rl();return lb(e,Ao)}function Sae(e){return YD(vx("",null,null,null,[""],e=VD(e),0,[0],e))}function vx(e,n,t,r,i,a,s,l,c){for(var d=0,h=0,g=s,b=0,m=0,x=0,y=1,A=1,w=1,C=0,N="",P=i,F=a,R=r,k=N;A;)switch(x=C,C=rl()){case 40:if(x!=108&&cs(k,g-1)==58){o6(k+=gr(xx(C),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:k+=xx(C);break;case 9:case 10:case 13:case 32:k+=yae(x);break;case 92:k+=xae(yx()-1,7);continue;case 47:switch(Pc()){case 42:case 47:Gy(Aae(vae(rl(),yx()),n,t),c);break;default:k+="/"}break;case 123*y:l[d++]=wc(k)*w;case 125*y:case 59:case 0:switch(C){case 0:case 125:A=0;case 59+h:w==-1&&(k=gr(k,/\f/g,"")),m>0&&wc(k)-g&&Gy(m>32?FN(k+";",r,t,g-1):FN(gr(k," ","")+";",r,t,g-2),c);break;case 59:k+=";";default:if(Gy(R=PN(k,n,t,d,h,i,l,N,P=[],F=[],g),a),C===123)if(h===0)vx(k,n,R,R,P,a,g,l,F);else switch(b===99&&cs(k,3)===110?100:b){case 100:case 108:case 109:case 115:vx(e,R,R,r&&Gy(PN(e,R,R,0,0,i,l,N,i,P=[],g),F),i,F,g,l,r?P:F);break;default:vx(k,R,R,R,[""],F,0,l,F)}}d=h=m=0,y=w=1,N=k="",g=s;break;case 58:g=1+wc(k),m=x;default:if(y<1){if(C==123)--y;else if(C==125&&y++==0&&bae()==125)continue}switch(k+=Hv(C),C*y){case 38:w=h>0?1:(k+="\f",-1);break;case 44:l[d++]=(wc(k)-1)*w,w=1;break;case 64:Pc()===45&&(k+=xx(rl())),b=Pc(),h=g=wc(N=k+=wae(yx())),C++;break;case 45:x===45&&wc(k)==2&&(y=0)}}return a}function PN(e,n,t,r,i,a,s,l,c,d,h){for(var g=i-1,b=i===0?a:[""],m=LA(b),x=0,y=0,A=0;x<r;++x)for(var w=0,C=Dg(e,g+1,g=dae(y=s[x])),N=e;w<m;++w)(N=HD(y>0?b[w]+" "+C:gr(C,/&\f/g,b[w])))&&(c[A++]=N);return Vv(e,n,t,i===0?IA:l,c,d,h)}function Aae(e,n,t){return Vv(e,n,t,UD,Hv(gae()),Dg(e,2,-2),0)}function FN(e,n,t,r){return Vv(e,n,t,DA,Dg(e,0,r),Dg(e,r+1,-1),r)}function $0(e,n){for(var t="",r=LA(e),i=0;i<r;i++)t+=n(e[i],i,e,n)||"";return t}function Cae(e,n,t,r){switch(e.type){case cae:if(e.children.length)break;case uae:case DA:return e.return=e.return||e.value;case UD:return"";case $D:return e.return=e.value+"{"+$0(e.children,r)+"}";case IA:e.value=e.props.join(",")}return wc(t=$0(e.children,r))?e.return=e.value+"{"+t+"}":""}function Eae(e){var n=LA(e);return function(t,r,i,a){for(var s="",l=0;l<n;l++)s+=e[l](t,r,i,a)||"";return s}}function _ae(e){return function(n){n.root||(n=n.return)&&e(n)}}var kae=function(e,n,t){for(var r=0,i=0;r=i,i=Pc(),r===38&&i===12&&(n[t]=1),!Lg(i);)rl();return lb(e,Ao)},Nae=function(e,n){var t=-1,r=44;do switch(Lg(r)){case 0:r===38&&Pc()===12&&(n[t]=1),e[t]+=kae(Ao-1,n,t);break;case 2:e[t]+=xx(r);break;case 4:if(r===44){e[++t]=Pc()===58?"&\f":"",n[t]=e[t].length;break}default:e[t]+=Hv(r)}while(r=rl());return e},jae=function(e,n){return YD(Nae(VD(e),n))},zN=new WeakMap,Tae=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,t=e.parent,r=e.column===t.column&&e.line===t.line;t.type!=="rule";)if(t=t.parent,!t)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!zN.get(t))&&!r){zN.set(e,!0);for(var i=[],a=jae(n,i),s=t.props,l=0,c=0;l<a.length;l++)for(var d=0;d<s.length;d++,c++)e.props[c]=i[l]?a[l].replace(/&\f/g,s[d]):s[d]+" "+a[l]}}},Oae=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function GD(e,n){switch(hae(e,n)){case 5103:return pr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return pr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return pr+e+tv+e+Is+e+e;case 6828:case 4268:return pr+e+Is+e+e;case 6165:return pr+e+Is+"flex-"+e+e;case 5187:return pr+e+gr(e,/(\w+).+(:[^]+)/,pr+"box-$1$2"+Is+"flex-$1$2")+e;case 5443:return pr+e+Is+"flex-item-"+gr(e,/flex-|-self/,"")+e;case 4675:return pr+e+Is+"flex-line-pack"+gr(e,/align-content|flex-|-self/,"")+e;case 5548:return pr+e+Is+gr(e,"shrink","negative")+e;case 5292:return pr+e+Is+gr(e,"basis","preferred-size")+e;case 6060:return pr+"box-"+gr(e,"-grow","")+pr+e+Is+gr(e,"grow","positive")+e;case 4554:return pr+gr(e,/([^-])(transform)/g,"$1"+pr+"$2")+e;case 6187:return gr(gr(gr(e,/(zoom-|grab)/,pr+"$1"),/(image-set)/,pr+"$1"),e,"")+e;case 5495:case 3959:return gr(e,/(image-set\([^]*)/,pr+"$1$`$1");case 4968:return gr(gr(e,/(.+:)(flex-)?(.*)/,pr+"box-pack:$3"+Is+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+pr+e+e;case 4095:case 3583:case 4068:case 2532:return gr(e,/(.+)-inline(.+)/,pr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(wc(e)-1-n>6)switch(cs(e,n+1)){case 109:if(cs(e,n+4)!==45)break;case 102:return gr(e,/(.+:)(.+)-([^]+)/,"$1"+pr+"$2-$3$1"+tv+(cs(e,n+3)==108?"$3":"$2-$3"))+e;case 115:return~o6(e,"stretch")?GD(gr(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(cs(e,n+1)!==115)break;case 6444:switch(cs(e,wc(e)-3-(~o6(e,"!important")&&10))){case 107:return gr(e,":",":"+pr)+e;case 101:return gr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+pr+(cs(e,14)===45?"inline-":"")+"box$3$1"+pr+"$2$3$1"+Is+"$2box$3")+e}break;case 5936:switch(cs(e,n+11)){case 114:return pr+e+Is+gr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return pr+e+Is+gr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return pr+e+Is+gr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return pr+e+Is+e+e}return e}var Iae=function(e,n,t,r){if(e.length>-1&&!e.return)switch(e.type){case DA:e.return=GD(e.value,e.length);break;case $D:return $0([M1(e,{value:gr(e.value,"@","@"+pr)})],r);case IA:if(e.length)return mae(e.props,function(i){switch(pae(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $0([M1(e,{props:[gr(i,/:(read-\w+)/,":"+tv+"$1")]})],r);case"::placeholder":return $0([M1(e,{props:[gr(i,/:(plac\w+)/,":"+pr+"input-$1")]}),M1(e,{props:[gr(i,/:(plac\w+)/,":"+tv+"$1")]}),M1(e,{props:[gr(i,/:(plac\w+)/,Is+"input-$1")]})],r)}return""})}},Dae=[Iae],Lae=function(e){var n=e.key;if(n==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(x){var y=x.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var r=e.stylisPlugins||Dae,i={},a,s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var y=x.getAttribute("data-emotion").split(" "),A=1;A<y.length;A++)i[y[A]]=!0;s.push(x)});var l,c=[Tae,Oae];{var d,h=[Cae,_ae(function(x){d.insert(x)})],g=Eae(c.concat(r,h)),b=function(x){return $0(Sae(x),g)};l=function(x,y,A,w){d=A,b(x?x+"{"+y.styles+"}":y.styles),w&&(m.inserted[y.name]=!0)}}var m={key:n,sheet:new lae({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return m.sheet.hydrate(s),m};let u6;typeof document=="object"&&(u6=Lae({key:"css",prepend:!0}));function Rae(e){const{injectFirst:n,children:t}=e;return n&&u6?gn.jsx(hT,{value:u6,children:t}):t}function Mae(e){return e==null||Object.keys(e).length===0}function Pae(e){const{styles:n,defaultTheme:t={}}=e,r=typeof n=="function"?i=>n(Mae(i)?t:i):n;return gn.jsx(pT,{styles:r})}/**
 * @mui/styled-engine v5.16.12
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Fae(e,n){return fT(e,n)}const zae=(e,n)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=n(e.__emotion_styles))},qae=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Pae,StyledEngineProvider:Rae,ThemeContext:dT,css:cT,default:Fae,internal_processStyles:zae,keyframes:uT},Symbol.toStringTag,{value:"Module"})),Bae=Wd(qae),Uae=Wd(yie),$ae=Wd(Eie),Hae=Wd(Cie),Wae=["values","unit","step"],Vae=e=>{const n=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return n.sort((t,r)=>t.val-r.val),n.reduce((t,r)=>Vr({},t,{[r.key]:r.val}),{})};function QD(e){const{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=e,i=dh(e,Wae),a=Vae(n),s=Object.keys(a);function l(b){return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t})`}function c(b){return`@media (max-width:${(typeof n[b]=="number"?n[b]:b)-r/100}${t})`}function d(b,m){const x=s.indexOf(m);return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t}) and (max-width:${(x!==-1&&typeof n[s[x]]=="number"?n[s[x]]:m)-r/100}${t})`}function h(b){return s.indexOf(b)+1<s.length?d(b,s[s.indexOf(b)+1]):l(b)}function g(b){const m=s.indexOf(b);return m===0?l(s[1]):m===s.length-1?c(s[m]):d(b,s[s.indexOf(b)+1]).replace("@media","@media not all and")}return Vr({keys:s,values:a,up:l,down:c,between:d,only:h,not:g,unit:t},i)}const Yae={borderRadius:4};function lg(e,n){return n?Mc(e,n,{clone:!1}):e}const RA={xs:0,sm:600,md:900,lg:1200,xl:1536},qN={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${RA[e]}px)`};function Bd(e,n,t){const r=e.theme||{};if(Array.isArray(n)){const i=r.breakpoints||qN;return n.reduce((a,s,l)=>(a[i.up(i.keys[l])]=t(n[l]),a),{})}if(typeof n=="object"){const i=r.breakpoints||qN;return Object.keys(n).reduce((a,s)=>{if(Object.keys(i.values||RA).indexOf(s)!==-1){const l=i.up(s);a[l]=t(n[s],s)}else{const l=s;a[l]=n[l]}return a},{})}return t(n)}function Gae(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((t,r)=>{const i=e.up(r);return t[i]={},t},{}))||{}}function Qae(e,n){return e.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},n)}function Yv(e,n,t=!0){if(!n||typeof n!="string")return null;if(e&&e.vars&&t){const r=`vars.${n}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(r!=null)return r}return n.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function nv(e,n,t,r=t){let i;return typeof e=="function"?i=e(t):Array.isArray(e)?i=e[t]||r:i=Yv(e,t)||r,n&&(i=n(i,r,e)),i}function ba(e){const{prop:n,cssProperty:t=e.prop,themeKey:r,transform:i}=e,a=s=>{if(s[n]==null)return null;const l=s[n],c=s.theme,d=Yv(c,r)||{};return Bd(s,l,h=>{let g=nv(d,i,h);return h===g&&typeof h=="string"&&(g=nv(d,i,`${n}${h==="default"?"":ih(h)}`,h)),t===!1?g:{[t]:g}})};return a.propTypes={},a.filterProps=[n],a}function Kae(e){const n={};return t=>(n[t]===void 0&&(n[t]=e(t)),n[t])}const Xae={m:"margin",p:"padding"},Zae={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},BN={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Jae=Kae(e=>{if(e.length>2)if(BN[e])e=BN[e];else return[e];const[n,t]=e.split(""),r=Xae[n],i=Zae[t]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),MA=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],PA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...MA,...PA];function ub(e,n,t,r){var i;const a=(i=Yv(e,n,!1))!=null?i:t;return typeof a=="number"?s=>typeof s=="string"?s:a*s:Array.isArray(a)?s=>typeof s=="string"?s:a[s]:typeof a=="function"?a:()=>{}}function KD(e){return ub(e,"spacing",8)}function cb(e,n){if(typeof n=="string"||n==null)return n;const t=Math.abs(n),r=e(t);return n>=0?r:typeof r=="number"?-r:`-${r}`}function ese(e,n){return t=>e.reduce((r,i)=>(r[i]=cb(n,t),r),{})}function tse(e,n,t,r){if(n.indexOf(t)===-1)return null;const i=Jae(t),a=ese(i,r),s=e[t];return Bd(e,s,a)}function XD(e,n){const t=KD(e.theme);return Object.keys(e).map(r=>tse(e,n,r,t)).reduce(lg,{})}function Xi(e){return XD(e,MA)}Xi.propTypes={};Xi.filterProps=MA;function Zi(e){return XD(e,PA)}Zi.propTypes={};Zi.filterProps=PA;function nse(e=8){if(e.mui)return e;const n=KD({spacing:e}),t=(...r)=>(r.length===0?[1]:r).map(i=>{const a=n(i);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function Gv(...e){const n=e.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),t=r=>Object.keys(r).reduce((i,a)=>n[a]?lg(i,n[a](r)):i,{});return t.propTypes={},t.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Dl(e){return typeof e!="number"?e:`${e}px solid`}function Bl(e,n){return ba({prop:e,themeKey:"borders",transform:n})}const rse=Bl("border",Dl),ise=Bl("borderTop",Dl),ase=Bl("borderRight",Dl),sse=Bl("borderBottom",Dl),ose=Bl("borderLeft",Dl),lse=Bl("borderColor"),use=Bl("borderTopColor"),cse=Bl("borderRightColor"),dse=Bl("borderBottomColor"),fse=Bl("borderLeftColor"),hse=Bl("outline",Dl),pse=Bl("outlineColor"),Qv=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const n=ub(e.theme,"shape.borderRadius",4),t=r=>({borderRadius:cb(n,r)});return Bd(e,e.borderRadius,t)}return null};Qv.propTypes={};Qv.filterProps=["borderRadius"];Gv(rse,ise,ase,sse,ose,lse,use,cse,dse,fse,Qv,hse,pse);const Kv=e=>{if(e.gap!==void 0&&e.gap!==null){const n=ub(e.theme,"spacing",8),t=r=>({gap:cb(n,r)});return Bd(e,e.gap,t)}return null};Kv.propTypes={};Kv.filterProps=["gap"];const Xv=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const n=ub(e.theme,"spacing",8),t=r=>({columnGap:cb(n,r)});return Bd(e,e.columnGap,t)}return null};Xv.propTypes={};Xv.filterProps=["columnGap"];const Zv=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const n=ub(e.theme,"spacing",8),t=r=>({rowGap:cb(n,r)});return Bd(e,e.rowGap,t)}return null};Zv.propTypes={};Zv.filterProps=["rowGap"];const mse=ba({prop:"gridColumn"}),gse=ba({prop:"gridRow"}),bse=ba({prop:"gridAutoFlow"}),yse=ba({prop:"gridAutoColumns"}),xse=ba({prop:"gridAutoRows"}),vse=ba({prop:"gridTemplateColumns"}),wse=ba({prop:"gridTemplateRows"}),Sse=ba({prop:"gridTemplateAreas"}),Ase=ba({prop:"gridArea"});Gv(Kv,Xv,Zv,mse,gse,bse,yse,xse,vse,wse,Sse,Ase);function H0(e,n){return n==="grey"?n:e}const Cse=ba({prop:"color",themeKey:"palette",transform:H0}),Ese=ba({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:H0}),_se=ba({prop:"backgroundColor",themeKey:"palette",transform:H0});Gv(Cse,Ese,_se);function Xo(e){return e<=1&&e!==0?`${e*100}%`:e}const kse=ba({prop:"width",transform:Xo}),FA=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const n=t=>{var r,i;const a=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||RA[t];return a?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Xo(t)}};return Bd(e,e.maxWidth,n)}return null};FA.filterProps=["maxWidth"];const Nse=ba({prop:"minWidth",transform:Xo}),jse=ba({prop:"height",transform:Xo}),Tse=ba({prop:"maxHeight",transform:Xo}),Ose=ba({prop:"minHeight",transform:Xo});ba({prop:"size",cssProperty:"width",transform:Xo});ba({prop:"size",cssProperty:"height",transform:Xo});const Ise=ba({prop:"boxSizing"});Gv(kse,FA,Nse,jse,Tse,Ose,Ise);const db={border:{themeKey:"borders",transform:Dl},borderTop:{themeKey:"borders",transform:Dl},borderRight:{themeKey:"borders",transform:Dl},borderBottom:{themeKey:"borders",transform:Dl},borderLeft:{themeKey:"borders",transform:Dl},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Dl},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Qv},color:{themeKey:"palette",transform:H0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:H0},backgroundColor:{themeKey:"palette",transform:H0},p:{style:Zi},pt:{style:Zi},pr:{style:Zi},pb:{style:Zi},pl:{style:Zi},px:{style:Zi},py:{style:Zi},padding:{style:Zi},paddingTop:{style:Zi},paddingRight:{style:Zi},paddingBottom:{style:Zi},paddingLeft:{style:Zi},paddingX:{style:Zi},paddingY:{style:Zi},paddingInline:{style:Zi},paddingInlineStart:{style:Zi},paddingInlineEnd:{style:Zi},paddingBlock:{style:Zi},paddingBlockStart:{style:Zi},paddingBlockEnd:{style:Zi},m:{style:Xi},mt:{style:Xi},mr:{style:Xi},mb:{style:Xi},ml:{style:Xi},mx:{style:Xi},my:{style:Xi},margin:{style:Xi},marginTop:{style:Xi},marginRight:{style:Xi},marginBottom:{style:Xi},marginLeft:{style:Xi},marginX:{style:Xi},marginY:{style:Xi},marginInline:{style:Xi},marginInlineStart:{style:Xi},marginInlineEnd:{style:Xi},marginBlock:{style:Xi},marginBlockStart:{style:Xi},marginBlockEnd:{style:Xi},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Kv},rowGap:{style:Zv},columnGap:{style:Xv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Xo},maxWidth:{style:FA},minWidth:{transform:Xo},height:{transform:Xo},maxHeight:{transform:Xo},minHeight:{transform:Xo},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Dse(...e){const n=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(n);return e.every(r=>t.size===Object.keys(r).length)}function Lse(e,n){return typeof e=="function"?e(n):e}function ZD(){function e(t,r,i,a){const s={[t]:r,theme:i},l=a[t];if(!l)return{[t]:r};const{cssProperty:c=t,themeKey:d,transform:h,style:g}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const b=Yv(i,d)||{};return g?g(s):Bd(s,r,m=>{let x=nv(b,h,m);return m===x&&typeof m=="string"&&(x=nv(b,h,`${t}${m==="default"?"":ih(m)}`,m)),c===!1?x:{[c]:x}})}function n(t){var r;const{sx:i,theme:a={}}=t||{};if(!i)return null;const s=(r=a.unstable_sxConfig)!=null?r:db;function l(c){let d=c;if(typeof c=="function")d=c(a);else if(typeof c!="object")return c;if(!d)return null;const h=Gae(a.breakpoints),g=Object.keys(h);let b=h;return Object.keys(d).forEach(m=>{const x=Lse(d[m],a);if(x!=null)if(typeof x=="object")if(s[m])b=lg(b,e(m,x,a,s));else{const y=Bd({theme:a},x,A=>({[m]:A}));Dse(y,x)?b[m]=n({sx:x,theme:a}):b=lg(b,y)}else b=lg(b,e(m,x,a,s))}),Qae(g,b)}return Array.isArray(i)?i.map(l):l(i)}return n}const Jv=ZD();Jv.filterProps=["sx"];function JD(e,n){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:n}:t.palette.mode===e?n:{}}const Rse=["breakpoints","palette","spacing","shape"];function eL(e={},...n){const{breakpoints:t={},palette:r={},spacing:i,shape:a={}}=e,s=dh(e,Rse),l=QD(t),c=nse(i);let d=Mc({breakpoints:l,direction:"ltr",components:{},palette:Vr({mode:"light"},r),spacing:c,shape:Vr({},Yae,a)},s);return d.applyStyles=JD,d=n.reduce((h,g)=>Mc(h,g),d),d.unstable_sxConfig=Vr({},db,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(h){return Jv({sx:h,theme:this})},d}const Mse=Object.freeze(Object.defineProperty({__proto__:null,default:eL,private_createBreakpoints:QD,unstable_applyStyles:JD},Symbol.toStringTag,{value:"Module"})),Pse=Wd(Mse),Fse=["sx"],zse=e=>{var n,t;const r={systemProps:{},otherProps:{}},i=(n=e==null||(t=e.theme)==null?void 0:t.unstable_sxConfig)!=null?n:db;return Object.keys(e).forEach(a=>{i[a]?r.systemProps[a]=e[a]:r.otherProps[a]=e[a]}),r};function qse(e){const{sx:n}=e,t=dh(e,Fse),{systemProps:r,otherProps:i}=zse(t);let a;return Array.isArray(n)?a=[r,...n]:typeof n=="function"?a=(...s)=>{const l=n(...s);return Mf(l)?Vr({},r,l):r}:a=Vr({},r,n),Vr({},i,{sx:a})}const Bse=Object.freeze(Object.defineProperty({__proto__:null,default:Jv,extendSxProp:qse,unstable_createStyleFunctionSx:ZD,unstable_defaultSxConfig:db},Symbol.toStringTag,{value:"Module"})),Use=Wd(Bse);var UN;function $se(){if(UN)return qh;UN=1;var e=Uv();Object.defineProperty(qh,"__esModule",{value:!0}),qh.default=P,qh.shouldForwardProp=x,qh.systemDefaultTheme=void 0;var n=e(iae()),t=e(aae()),r=g(Bae),i=Uae;e($ae),e(Hae);var a=e(Pse),s=e(Use);const l=["ownerState"],c=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function h(F){if(typeof WeakMap!="function")return null;var R=new WeakMap,k=new WeakMap;return(h=function(M){return M?k:R})(F)}function g(F,R){if(F&&F.__esModule)return F;if(F===null||typeof F!="object"&&typeof F!="function")return{default:F};var k=h(R);if(k&&k.has(F))return k.get(F);var M={__proto__:null},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Q in F)if(Q!=="default"&&Object.prototype.hasOwnProperty.call(F,Q)){var T=q?Object.getOwnPropertyDescriptor(F,Q):null;T&&(T.get||T.set)?Object.defineProperty(M,Q,T):M[Q]=F[Q]}return M.default=F,k&&k.set(F,M),M}function b(F){return Object.keys(F).length===0}function m(F){return typeof F=="string"&&F.charCodeAt(0)>96}function x(F){return F!=="ownerState"&&F!=="theme"&&F!=="sx"&&F!=="as"}const y=qh.systemDefaultTheme=(0,a.default)(),A=F=>F&&F.charAt(0).toLowerCase()+F.slice(1);function w({defaultTheme:F,theme:R,themeId:k}){return b(R)?F:R[k]||R}function C(F){return F?(R,k)=>k[F]:null}function N(F,R){let{ownerState:k}=R,M=(0,t.default)(R,l);const q=typeof F=="function"?F((0,n.default)({ownerState:k},M)):F;if(Array.isArray(q))return q.flatMap(Q=>N(Q,(0,n.default)({ownerState:k},M)));if(q&&typeof q=="object"&&Array.isArray(q.variants)){const{variants:Q=[]}=q;let T=(0,t.default)(q,c);return Q.forEach(O=>{let L=!0;typeof O.props=="function"?L=O.props((0,n.default)({ownerState:k},M,k)):Object.keys(O.props).forEach(j=>{(k==null?void 0:k[j])!==O.props[j]&&M[j]!==O.props[j]&&(L=!1)}),L&&(Array.isArray(T)||(T=[T]),T.push(typeof O.style=="function"?O.style((0,n.default)({ownerState:k},M,k)):O.style))}),T}return q}function P(F={}){const{themeId:R,defaultTheme:k=y,rootShouldForwardProp:M=x,slotShouldForwardProp:q=x}=F,Q=T=>(0,s.default)((0,n.default)({},T,{theme:w((0,n.default)({},T,{defaultTheme:k,themeId:R}))}));return Q.__mui_systemSx=!0,(T,O={})=>{(0,r.internal_processStyles)(T,ne=>ne.filter(ve=>!(ve!=null&&ve.__mui_systemSx)));const{name:L,slot:j,skipVariantsResolver:X,skipSx:H,overridesResolver:G=C(A(j))}=O,ee=(0,t.default)(O,d),le=X!==void 0?X:j&&j!=="Root"&&j!=="root"||!1,Y=H||!1;let te,U=x;j==="Root"||j==="root"?U=M:j?U=q:m(T)&&(U=void 0);const B=(0,r.default)(T,(0,n.default)({shouldForwardProp:U,label:te},ee)),re=ne=>typeof ne=="function"&&ne.__emotion_real!==ne||(0,i.isPlainObject)(ne)?ve=>N(ne,(0,n.default)({},ve,{theme:w({theme:ve.theme,defaultTheme:k,themeId:R})})):ne,Z=(ne,...ve)=>{let ye=re(ne);const Ce=ve?ve.map(re):[];L&&G&&Ce.push(Ue=>{const He=w((0,n.default)({},Ue,{defaultTheme:k,themeId:R}));if(!He.components||!He.components[L]||!He.components[L].styleOverrides)return null;const V=He.components[L].styleOverrides,Se={};return Object.entries(V).forEach(([se,he])=>{Se[se]=N(he,(0,n.default)({},Ue,{theme:He}))}),G(Ue,Se)}),L&&!le&&Ce.push(Ue=>{var He;const V=w((0,n.default)({},Ue,{defaultTheme:k,themeId:R})),Se=V==null||(He=V.components)==null||(He=He[L])==null?void 0:He.variants;return N({variants:Se},(0,n.default)({},Ue,{theme:V}))}),Y||Ce.push(Q);const Oe=Ce.length-ve.length;if(Array.isArray(ne)&&Oe>0){const Ue=new Array(Oe).fill("");ye=[...ne,...Ue],ye.raw=[...ne.raw,...Ue]}const Ie=B(ye,...Ce);return T.muiName&&(Ie.muiName=T.muiName),Ie};return B.withConfig&&(Z.withConfig=B.withConfig),Z}}return qh}var Hse=$se();const Wse=TA(Hse);function Vse(e,n){return Vr({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},n)}var Di={};const Yse=Wd(xie),Gse=Wd(Zie);var $N;function Qse(){if($N)return Di;$N=1;var e=Uv();Object.defineProperty(Di,"__esModule",{value:!0}),Di.alpha=x,Di.blend=R,Di.colorChannel=void 0,Di.darken=A,Di.decomposeColor=s,Di.emphasize=P,Di.getContrastRatio=m,Di.getLuminance=b,Di.hexToRgb=i,Di.hslToRgb=g,Di.lighten=C,Di.private_safeAlpha=y,Di.private_safeColorChannel=void 0,Di.private_safeDarken=w,Di.private_safeEmphasize=F,Di.private_safeLighten=N,Di.recomposeColor=d,Di.rgbToHex=h;var n=e(Yse),t=e(Gse);function r(k,M=0,q=1){return(0,t.default)(k,M,q)}function i(k){k=k.slice(1);const M=new RegExp(`.{1,${k.length>=6?2:1}}`,"g");let q=k.match(M);return q&&q[0].length===1&&(q=q.map(Q=>Q+Q)),q?`rgb${q.length===4?"a":""}(${q.map((Q,T)=>T<3?parseInt(Q,16):Math.round(parseInt(Q,16)/255*1e3)/1e3).join(", ")})`:""}function a(k){const M=k.toString(16);return M.length===1?`0${M}`:M}function s(k){if(k.type)return k;if(k.charAt(0)==="#")return s(i(k));const M=k.indexOf("("),q=k.substring(0,M);if(["rgb","rgba","hsl","hsla","color"].indexOf(q)===-1)throw new Error((0,n.default)(9,k));let Q=k.substring(M+1,k.length-1),T;if(q==="color"){if(Q=Q.split(" "),T=Q.shift(),Q.length===4&&Q[3].charAt(0)==="/"&&(Q[3]=Q[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(T)===-1)throw new Error((0,n.default)(10,T))}else Q=Q.split(",");return Q=Q.map(O=>parseFloat(O)),{type:q,values:Q,colorSpace:T}}const l=k=>{const M=s(k);return M.values.slice(0,3).map((q,Q)=>M.type.indexOf("hsl")!==-1&&Q!==0?`${q}%`:q).join(" ")};Di.colorChannel=l;const c=(k,M)=>{try{return l(k)}catch{return k}};Di.private_safeColorChannel=c;function d(k){const{type:M,colorSpace:q}=k;let{values:Q}=k;return M.indexOf("rgb")!==-1?Q=Q.map((T,O)=>O<3?parseInt(T,10):T):M.indexOf("hsl")!==-1&&(Q[1]=`${Q[1]}%`,Q[2]=`${Q[2]}%`),M.indexOf("color")!==-1?Q=`${q} ${Q.join(" ")}`:Q=`${Q.join(", ")}`,`${M}(${Q})`}function h(k){if(k.indexOf("#")===0)return k;const{values:M}=s(k);return`#${M.map((q,Q)=>a(Q===3?Math.round(255*q):q)).join("")}`}function g(k){k=s(k);const{values:M}=k,q=M[0],Q=M[1]/100,T=M[2]/100,O=Q*Math.min(T,1-T),L=(H,G=(H+q/30)%12)=>T-O*Math.max(Math.min(G-3,9-G,1),-1);let j="rgb";const X=[Math.round(L(0)*255),Math.round(L(8)*255),Math.round(L(4)*255)];return k.type==="hsla"&&(j+="a",X.push(M[3])),d({type:j,values:X})}function b(k){k=s(k);let M=k.type==="hsl"||k.type==="hsla"?s(g(k)).values:k.values;return M=M.map(q=>(k.type!=="color"&&(q/=255),q<=.03928?q/12.92:((q+.055)/1.055)**2.4)),Number((.2126*M[0]+.7152*M[1]+.0722*M[2]).toFixed(3))}function m(k,M){const q=b(k),Q=b(M);return(Math.max(q,Q)+.05)/(Math.min(q,Q)+.05)}function x(k,M){return k=s(k),M=r(M),(k.type==="rgb"||k.type==="hsl")&&(k.type+="a"),k.type==="color"?k.values[3]=`/${M}`:k.values[3]=M,d(k)}function y(k,M,q){try{return x(k,M)}catch{return k}}function A(k,M){if(k=s(k),M=r(M),k.type.indexOf("hsl")!==-1)k.values[2]*=1-M;else if(k.type.indexOf("rgb")!==-1||k.type.indexOf("color")!==-1)for(let q=0;q<3;q+=1)k.values[q]*=1-M;return d(k)}function w(k,M,q){try{return A(k,M)}catch{return k}}function C(k,M){if(k=s(k),M=r(M),k.type.indexOf("hsl")!==-1)k.values[2]+=(100-k.values[2])*M;else if(k.type.indexOf("rgb")!==-1)for(let q=0;q<3;q+=1)k.values[q]+=(255-k.values[q])*M;else if(k.type.indexOf("color")!==-1)for(let q=0;q<3;q+=1)k.values[q]+=(1-k.values[q])*M;return d(k)}function N(k,M,q){try{return C(k,M)}catch{return k}}function P(k,M=.15){return b(k)>.5?A(k,M):C(k,M)}function F(k,M,q){try{return P(k,M)}catch{return k}}function R(k,M,q,Q=1){const T=(X,H)=>Math.round((X**(1/Q)*(1-q)+H**(1/Q)*q)**Q),O=s(k),L=s(M),j=[T(O.values[0],L.values[0]),T(O.values[1],L.values[1]),T(O.values[2],L.values[2])];return d({type:"rgb",values:j})}return Di}var c6=Qse();const Rg={black:"#000",white:"#fff"},Kse={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},u0={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},c0={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},P1={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},d0={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},f0={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},h0={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Xse=["mode","contrastThreshold","tonalOffset"],HN={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Rg.white,default:Rg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Pw={text:{primary:Rg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Rg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function WN(e,n,t,r){const i=r.light||r,a=r.dark||r*1.5;e[n]||(e.hasOwnProperty(t)?e[n]=e[t]:n==="light"?e.light=c6.lighten(e.main,i):n==="dark"&&(e.dark=c6.darken(e.main,a)))}function Zse(e="light"){return e==="dark"?{main:d0[200],light:d0[50],dark:d0[400]}:{main:d0[700],light:d0[400],dark:d0[800]}}function Jse(e="light"){return e==="dark"?{main:u0[200],light:u0[50],dark:u0[400]}:{main:u0[500],light:u0[300],dark:u0[700]}}function eoe(e="light"){return e==="dark"?{main:c0[500],light:c0[300],dark:c0[700]}:{main:c0[700],light:c0[400],dark:c0[800]}}function toe(e="light"){return e==="dark"?{main:f0[400],light:f0[300],dark:f0[700]}:{main:f0[700],light:f0[500],dark:f0[900]}}function noe(e="light"){return e==="dark"?{main:h0[400],light:h0[300],dark:h0[700]}:{main:h0[800],light:h0[500],dark:h0[900]}}function roe(e="light"){return e==="dark"?{main:P1[400],light:P1[300],dark:P1[700]}:{main:"#ed6c02",light:P1[500],dark:P1[900]}}function ioe(e){const{mode:n="light",contrastThreshold:t=3,tonalOffset:r=.2}=e,i=dh(e,Xse),a=e.primary||Zse(n),s=e.secondary||Jse(n),l=e.error||eoe(n),c=e.info||toe(n),d=e.success||noe(n),h=e.warning||roe(n);function g(x){return c6.getContrastRatio(x,Pw.text.primary)>=t?Pw.text.primary:HN.text.primary}const b=({color:x,name:y,mainShade:A=500,lightShade:w=300,darkShade:C=700})=>{if(x=Vr({},x),!x.main&&x[A]&&(x.main=x[A]),!x.hasOwnProperty("main"))throw new Error(Ig(11,y?` (${y})`:"",A));if(typeof x.main!="string")throw new Error(Ig(12,y?` (${y})`:"",JSON.stringify(x.main)));return WN(x,"light",w,r),WN(x,"dark",C,r),x.contrastText||(x.contrastText=g(x.main)),x},m={dark:Pw,light:HN};return Mc(Vr({common:Vr({},Rg),mode:n,primary:b({color:a,name:"primary"}),secondary:b({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:l,name:"error"}),warning:b({color:h,name:"warning"}),info:b({color:c,name:"info"}),success:b({color:d,name:"success"}),grey:Kse,contrastThreshold:t,getContrastText:g,augmentColor:b,tonalOffset:r},m[n]),i)}const aoe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function soe(e){return Math.round(e*1e5)/1e5}const VN={textTransform:"uppercase"},YN='"Roboto", "Helvetica", "Arial", sans-serif';function ooe(e,n){const t=typeof n=="function"?n(e):n,{fontFamily:r=YN,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:h,pxToRem:g}=t,b=dh(t,aoe),m=i/14,x=g||(w=>`${w/d*m}rem`),y=(w,C,N,P,F)=>Vr({fontFamily:r,fontWeight:w,fontSize:x(C),lineHeight:N},r===YN?{letterSpacing:`${soe(P/C)}em`}:{},F,h),A={h1:y(a,96,1.167,-1.5),h2:y(a,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(l,14,1.75,.4,VN),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,VN),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Mc(Vr({htmlFontSize:d,pxToRem:x,fontFamily:r,fontSize:i,fontWeightLight:a,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:c},A),b,{clone:!1})}const loe=.2,uoe=.14,coe=.12;function xi(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${loe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${uoe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${coe})`].join(",")}const doe=["none",xi(0,2,1,-1,0,1,1,0,0,1,3,0),xi(0,3,1,-2,0,2,2,0,0,1,5,0),xi(0,3,3,-2,0,3,4,0,0,1,8,0),xi(0,2,4,-1,0,4,5,0,0,1,10,0),xi(0,3,5,-1,0,5,8,0,0,1,14,0),xi(0,3,5,-1,0,6,10,0,0,1,18,0),xi(0,4,5,-2,0,7,10,1,0,2,16,1),xi(0,5,5,-3,0,8,10,1,0,3,14,2),xi(0,5,6,-3,0,9,12,1,0,3,16,2),xi(0,6,6,-3,0,10,14,1,0,4,18,3),xi(0,6,7,-4,0,11,15,1,0,4,20,3),xi(0,7,8,-4,0,12,17,2,0,5,22,4),xi(0,7,8,-4,0,13,19,2,0,5,24,4),xi(0,7,9,-4,0,14,21,2,0,5,26,4),xi(0,8,9,-5,0,15,22,2,0,6,28,5),xi(0,8,10,-5,0,16,24,2,0,6,30,5),xi(0,8,11,-5,0,17,26,2,0,6,32,5),xi(0,9,11,-5,0,18,28,2,0,7,34,6),xi(0,9,12,-6,0,19,29,2,0,7,36,6),xi(0,10,13,-6,0,20,31,3,0,8,38,7),xi(0,10,13,-6,0,21,33,3,0,8,40,7),xi(0,10,14,-6,0,22,35,3,0,8,42,7),xi(0,11,14,-7,0,23,36,3,0,9,44,8),xi(0,11,15,-7,0,24,38,3,0,9,46,8)],foe=["duration","easing","delay"],hoe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},poe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function GN(e){return`${Math.round(e)}ms`}function moe(e){if(!e)return 0;const n=e/36;return Math.round((4+15*n**.25+n/5)*10)}function goe(e){const n=Vr({},hoe,e.easing),t=Vr({},poe,e.duration);return Vr({getAutoHeightDuration:moe,create:(r=["all"],i={})=>{const{duration:a=t.standard,easing:s=n.easeInOut,delay:l=0}=i;return dh(i,foe),(Array.isArray(r)?r:[r]).map(c=>`${c} ${typeof a=="string"?a:GN(a)} ${s} ${typeof l=="string"?l:GN(l)}`).join(",")}},e,{easing:n,duration:t})}const boe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},yoe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function xoe(e={},...n){const{mixins:t={},palette:r={},transitions:i={},typography:a={}}=e,s=dh(e,yoe);if(e.vars)throw new Error(Ig(18));const l=ioe(r),c=eL(e);let d=Mc(c,{mixins:Vse(c.breakpoints,t),palette:l,shadows:doe.slice(),typography:ooe(l,a),transitions:goe(i),zIndex:Vr({},boe)});return d=Mc(d,s),d=n.reduce((h,g)=>Mc(h,g),d),d.unstable_sxConfig=Vr({},db,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(h){return Jv({sx:h,theme:this})},d}const voe=xoe(),woe="$$material";function Soe(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Aoe=e=>Soe(e)&&e!=="classes",Coe=Wse({themeId:woe,defaultTheme:voe,rootShouldForwardProp:Aoe});function Eoe(e){return qD("MuiSvgIcon",e)}Kie("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _oe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],koe=e=>{const{color:n,fontSize:t,classes:r}=e,i={root:["root",n!=="inherit"&&`color${ih(n)}`,`fontSize${ih(t)}`]};return Yie(i,Eoe,r)},Noe=Coe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.color!=="inherit"&&n[`color${ih(t.color)}`],n[`fontSize${ih(t.fontSize)}`]]}})(({theme:e,ownerState:n})=>{var t,r,i,a,s,l,c,d,h,g,b,m,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=e.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((a=e.typography)==null||(s=a.pxToRem)==null?void 0:s.call(a,20))||"1.25rem",medium:((l=e.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((d=e.typography)==null||(h=d.pxToRem)==null?void 0:h.call(d,35))||"2.1875rem"}[n.fontSize],color:(g=(b=(e.vars||e).palette)==null||(b=b[n.color])==null?void 0:b.main)!=null?g:{action:(m=(e.vars||e).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(x=(e.vars||e).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[n.color]}}),d6=K.forwardRef(function(e,n){const t=rae({props:e,name:"MuiSvgIcon"}),{children:r,className:i,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:h,viewBox:g="0 0 24 24"}=t,b=dh(t,_oe),m=K.isValidElement(r)&&r.type==="svg",x=Vr({},t,{color:a,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:g,hasSvgAsChild:m}),y={};d||(y.viewBox=g);const A=koe(x);return gn.jsxs(Noe,Vr({as:s,className:Jie(A.root,i),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},y,b,m&&r.props,{ownerState:x,children:[m?r.props.children:r,h?gn.jsx("title",{children:h}):null]}))});d6.muiName="SvgIcon";function joe(e,n){function t(r,i){return gn.jsx(d6,Vr({"data-testid":`${n}Icon`,ref:i},r,{children:e}))}return t.muiName=d6.muiName,K.memo(K.forwardRef(t))}const Toe={configure:e=>{zD.configure(e)}},Ooe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:ih,createChainedFunction:_ie,createSvgIcon:joe,debounce:kie,deprecatedPropType:Nie,isMuiElement:jie,ownerDocument:RD,ownerWindow:Tie,requirePropFactory:Oie,setRef:MD,unstable_ClassNameGenerator:Toe,unstable_useEnhancedEffect:PD,unstable_useId:Die,unsupportedProp:Lie,useControlled:Rie,useEventCallback:Mie,useForkRef:Pie,useIsFocusVisible:Vie},Symbol.toStringTag,{value:"Module"})),Ioe=Wd(Ooe);var QN;function tL(){return QN||(QN=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=Ioe}(CN)),CN}var KN;function Doe(){if(KN)return R1;KN=1;var e=Uv();Object.defineProperty(R1,"__esModule",{value:!0}),R1.default=void 0;var n=e(tL()),t=OA();return R1.default=(0,n.default)((0,t.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat"),R1}var Loe=Doe();const Roe=TA(Loe),Fw={chatToggleButton:{position:"fixed",bottom:20,right:20,bgcolor:"#CDDAFF",color:"white",width:60,height:60,borderRadius:"50%",boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.3)","&:hover":{bgcolor:"#0B53C0"},transition:"background-color 0.3s, transform 0.3s","&:active":{transform:"scale(0.95)"}},chatContainer:(e,n)=>({position:"fixed",bottom:e?0:20,right:e?0:20,width:e?"80%":n?"60%":650,height:e?"50%":n?"55%":700,padding:e?1:2,display:"flex",flexDirection:"column",borderRadius:e?0:"16px",backgroundColor:"#F0F4FF",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)"}),chatHeader:{fontFamily:"Staatliches, Arial, sans-serif",fontWeight:"bold",color:"black",fontSize:"1.25rem"},chatMessageInput:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif",borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}},chatMessageBox:{maxWidth:"70%",borderRadius:"15px",padding:1,paddingX:2,boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)","&.user":{bgcolor:"#f0f0f0",color:"#555",alignSelf:"flex-end"},"&.bot":{bgcolor:"#CDDAFF",color:"black",alignSelf:"flex-start","&:hover":{bgcolor:"#0B53C0",color:"white"}}},chatButtons:{backgroundColor:"#CDDAFF",color:"black",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",color:"white"}}},Moe=({responses:e})=>gn.jsx(be,{sx:{flexGrow:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:2,padding:2,backgroundColor:"transparent"},children:e.length>0?e.map((n,t)=>gn.jsxs(be,{sx:{display:"flex",flexDirection:"column",alignItems:n.question?"flex-end":"flex-start"},children:[n.question&&gn.jsx(be,{sx:{maxWidth:"70%",bgcolor:"#f0f0f0",color:"#555",borderRadius:"15px",p:1,px:2,mb:2,alignSelf:"flex-end",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)"},children:gn.jsx(ce,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"#555"},children:n.question})}),(n.answer||n.text)&&gn.jsx(be,{sx:{maxWidth:"70%",bgcolor:"#CDDAFF",color:"black",borderRadius:"15px",p:1,px:2,alignSelf:"flex-start",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",mb:.3,"&:hover":{bgcolor:"#0B53C0",color:"white"}},children:gn.jsx(ce,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"inherit",transition:"color 0.3s ease"},children:gn.jsx(jA,{children:n.answer||n.text})})})]},t)):gn.jsx(ce,{variant:"body2",sx:{textAlign:"center",color:"#6c757d",fontFamily:"Gabarito, Arial, sans-serif"},children:"No messages yet. Start the conversation!"})}),Poe=({onSendMessage:e,onStartConversation:n,onEndConversation:t,conversationId:r})=>{const[i,a]=K.useState(""),s=()=>{i.trim()&&(e(i),a(""))},l=()=>{r||n()},c=()=>{r&&t()};return gn.jsxs(be,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[gn.jsxs(be,{sx:{display:"flex",gap:1},children:[gn.jsx(zt,{variant:"outlined",placeholder:"Type your message...",fullWidth:!0,size:"small",value:i,onChange:d=>a(d.target.value),onKeyDown:d=>{d.key==="Enter"&&s()},sx:{"& .MuiOutlinedInput-root":{borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}}}),gn.jsx(lt,{variant:"contained",onClick:s,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"Send"})]}),r?gn.jsx(lt,{variant:"outlined",onClick:c,sx:{color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none",borderColor:"#CDDAFF","&:hover":{borderColor:"#0B53C0",color:"#0B53C0"}},children:"END CONVERSATION"}):gn.jsx(lt,{variant:"contained",onClick:l,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"START CONVERSATION"})]})};var F1={},XN;function Foe(){if(XN)return F1;XN=1;var e=Uv();Object.defineProperty(F1,"__esModule",{value:!0}),F1.default=void 0;var n=e(tL()),t=OA();return F1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),F1}var zoe=Foe();const qoe=TA(zoe);function nL(e,n){return function(){return e.apply(n,arguments)}}const{toString:Boe}=Object.prototype,{getPrototypeOf:zA}=Object,e2=(e=>n=>{const t=Boe.call(n);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),zu=e=>(e=e.toLowerCase(),n=>e2(n)===e),t2=e=>n=>typeof n===e,{isArray:ym}=Array,Mg=t2("undefined");function Uoe(e){return e!==null&&!Mg(e)&&e.constructor!==null&&!Mg(e.constructor)&&il(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const rL=zu("ArrayBuffer");function $oe(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&rL(e.buffer),n}const Hoe=t2("string"),il=t2("function"),iL=t2("number"),n2=e=>e!==null&&typeof e=="object",Woe=e=>e===!0||e===!1,wx=e=>{if(e2(e)!=="object")return!1;const n=zA(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Voe=zu("Date"),Yoe=zu("File"),Goe=zu("Blob"),Qoe=zu("FileList"),Koe=e=>n2(e)&&il(e.pipe),Xoe=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||il(e.append)&&((n=e2(e))==="formdata"||n==="object"&&il(e.toString)&&e.toString()==="[object FormData]"))},Zoe=zu("URLSearchParams"),[Joe,ele,tle,nle]=["ReadableStream","Request","Response","Headers"].map(zu),rle=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fb(e,n,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),ym(e))for(r=0,i=e.length;r<i;r++)n.call(null,e[r],r,e);else{const a=t?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let l;for(r=0;r<s;r++)l=a[r],n.call(null,e[l],l,e)}}function aL(e,n){n=n.toLowerCase();const t=Object.keys(e);let r=t.length,i;for(;r-- >0;)if(i=t[r],n===i.toLowerCase())return i;return null}const Xh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,sL=e=>!Mg(e)&&e!==Xh;function f6(){const{caseless:e}=sL(this)&&this||{},n={},t=(r,i)=>{const a=e&&aL(n,i)||i;wx(n[a])&&wx(r)?n[a]=f6(n[a],r):wx(r)?n[a]=f6({},r):ym(r)?n[a]=r.slice():n[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&fb(arguments[r],t);return n}const ile=(e,n,t,{allOwnKeys:r}={})=>(fb(n,(i,a)=>{t&&il(i)?e[a]=nL(i,t):e[a]=i},{allOwnKeys:r}),e),ale=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),sle=(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},ole=(e,n,t,r)=>{let i,a,s;const l={};if(n=n||{},e==null)return n;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!r||r(s,e,n))&&!l[s]&&(n[s]=e[s],l[s]=!0);e=t!==!1&&zA(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},lle=(e,n,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return r!==-1&&r===t},ule=e=>{if(!e)return null;if(ym(e))return e;let n=e.length;if(!iL(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},cle=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&zA(Uint8Array)),dle=(e,n)=>{const t=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=t.next())&&!r.done;){const i=r.value;n.call(e,i[0],i[1])}},fle=(e,n)=>{let t;const r=[];for(;(t=e.exec(n))!==null;)r.push(t);return r},hle=zu("HTMLFormElement"),ple=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,t,r){return t.toUpperCase()+r}),ZN=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),mle=zu("RegExp"),oL=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};fb(t,(i,a)=>{let s;(s=n(i,a,e))!==!1&&(r[a]=s||i)}),Object.defineProperties(e,r)},gle=e=>{oL(e,(n,t)=>{if(il(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=e[t];if(il(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},ble=(e,n)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return ym(e)?r(e):r(String(e).split(n)),t},yle=()=>{},xle=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n,zw="abcdefghijklmnopqrstuvwxyz",JN="0123456789",lL={DIGIT:JN,ALPHA:zw,ALPHA_DIGIT:zw+zw.toUpperCase()+JN},vle=(e=16,n=lL.ALPHA_DIGIT)=>{let t="";const{length:r}=n;for(;e--;)t+=n[Math.random()*r|0];return t};function wle(e){return!!(e&&il(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Sle=e=>{const n=new Array(10),t=(r,i)=>{if(n2(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[i]=r;const a=ym(r)?[]:{};return fb(r,(s,l)=>{const c=t(s,i+1);!Mg(c)&&(a[l]=c)}),n[i]=void 0,a}}return r};return t(e,0)},Ale=zu("AsyncFunction"),Cle=e=>e&&(n2(e)||il(e))&&il(e.then)&&il(e.catch),uL=((e,n)=>e?setImmediate:n?((t,r)=>(Xh.addEventListener("message",({source:i,data:a})=>{i===Xh&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Xh.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",il(Xh.postMessage)),Ele=typeof queueMicrotask<"u"?queueMicrotask.bind(Xh):typeof process<"u"&&process.nextTick||uL,ot={isArray:ym,isArrayBuffer:rL,isBuffer:Uoe,isFormData:Xoe,isArrayBufferView:$oe,isString:Hoe,isNumber:iL,isBoolean:Woe,isObject:n2,isPlainObject:wx,isReadableStream:Joe,isRequest:ele,isResponse:tle,isHeaders:nle,isUndefined:Mg,isDate:Voe,isFile:Yoe,isBlob:Goe,isRegExp:mle,isFunction:il,isStream:Koe,isURLSearchParams:Zoe,isTypedArray:cle,isFileList:Qoe,forEach:fb,merge:f6,extend:ile,trim:rle,stripBOM:ale,inherits:sle,toFlatObject:ole,kindOf:e2,kindOfTest:zu,endsWith:lle,toArray:ule,forEachEntry:dle,matchAll:fle,isHTMLForm:hle,hasOwnProperty:ZN,hasOwnProp:ZN,reduceDescriptors:oL,freezeMethods:gle,toObjectSet:ble,toCamelCase:ple,noop:yle,toFiniteNumber:xle,findKey:aL,global:Xh,isContextDefined:sL,ALPHABET:lL,generateString:vle,isSpecCompliantForm:wle,toJSONObject:Sle,isAsyncFn:Ale,isThenable:Cle,setImmediate:uL,asap:Ele};function En(e,n,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ot.inherits(En,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ot.toJSONObject(this.config),code:this.code,status:this.status}}});const cL=En.prototype,dL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{dL[e]={value:e}});Object.defineProperties(En,dL);Object.defineProperty(cL,"isAxiosError",{value:!0});En.from=(e,n,t,r,i,a)=>{const s=Object.create(cL);return ot.toFlatObject(e,s,function(l){return l!==Error.prototype},l=>l!=="isAxiosError"),En.call(s,e.message,n,t,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const _le=null;function h6(e){return ot.isPlainObject(e)||ot.isArray(e)}function fL(e){return ot.endsWith(e,"[]")?e.slice(0,-2):e}function ej(e,n,t){return e?e.concat(n).map(function(r,i){return r=fL(r),!t&&i?"["+r+"]":r}).join(t?".":""):n}function kle(e){return ot.isArray(e)&&!e.some(h6)}const Nle=ot.toFlatObject(ot,{},null,function(e){return/^is[A-Z]/.test(e)});function r2(e,n,t){if(!ot.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,t=ot.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,x){return!ot.isUndefined(x[m])});const r=t.metaTokens,i=t.visitor||d,a=t.dots,s=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&ot.isSpecCompliantForm(n);if(!ot.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(ot.isDate(m))return m.toISOString();if(!l&&ot.isBlob(m))throw new En("Blob is not supported. Use a Buffer instead.");return ot.isArrayBuffer(m)||ot.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,x,y){let A=m;if(m&&!y&&typeof m=="object"){if(ot.endsWith(x,"{}"))x=r?x:x.slice(0,-2),m=JSON.stringify(m);else if(ot.isArray(m)&&kle(m)||(ot.isFileList(m)||ot.endsWith(x,"[]"))&&(A=ot.toArray(m)))return x=fL(x),A.forEach(function(w,C){!(ot.isUndefined(w)||w===null)&&n.append(s===!0?ej([x],C,a):s===null?x:x+"[]",c(w))}),!1}return h6(m)?!0:(n.append(ej(y,x,a),c(m)),!1)}const h=[],g=Object.assign(Nle,{defaultVisitor:d,convertValue:c,isVisitable:h6});function b(m,x){if(!ot.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(m),ot.forEach(m,function(y,A){(!(ot.isUndefined(y)||y===null)&&i.call(n,y,ot.isString(A)?A.trim():A,x,g))===!0&&b(y,x?x.concat(A):[A])}),h.pop()}}if(!ot.isObject(e))throw new TypeError("data must be an object");return b(e),n}function tj(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(t){return n[t]})}function qA(e,n){this._pairs=[],e&&r2(e,this,n)}const hL=qA.prototype;hL.append=function(e,n){this._pairs.push([e,n])};hL.toString=function(e){const n=e?function(t){return e.call(this,t,tj)}:tj;return this._pairs.map(function(t){return n(t[0])+"="+n(t[1])},"").join("&")};function jle(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pL(e,n,t){if(!n)return e;const r=t&&t.encode||jle;ot.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(n,t):a=ot.isURLSearchParams(n)?n.toString():new qA(n,t).toString(r),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}let nj=class{constructor(){this.handlers=[]}use(n,t,r){return this.handlers.push({fulfilled:n,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ot.forEach(this.handlers,function(t){t!==null&&n(t)})}};const mL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tle=typeof URLSearchParams<"u"?URLSearchParams:qA,Ole=typeof FormData<"u"?FormData:null,Ile=typeof Blob<"u"?Blob:null,Dle={isBrowser:!0,classes:{URLSearchParams:Tle,FormData:Ole,Blob:Ile},protocols:["http","https","file","blob","url","data"]},BA=typeof window<"u"&&typeof document<"u",p6=typeof navigator=="object"&&navigator||void 0,Lle=BA&&(!p6||["ReactNative","NativeScript","NS"].indexOf(p6.product)<0),Rle=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Mle=BA&&window.location.href||"http://localhost",Ple=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:BA,hasStandardBrowserEnv:Lle,hasStandardBrowserWebWorkerEnv:Rle,navigator:p6,origin:Mle},Symbol.toStringTag,{value:"Module"})),Fs={...Ple,...Dle};function Fle(e,n){return r2(e,new Fs.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,a){return Fs.isNode&&ot.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},n))}function zle(e){return ot.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function qle(e){const n={},t=Object.keys(e);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],n[a]=e[a];return n}function gL(e){function n(t,r,i,a){let s=t[a++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),c=a>=t.length;return s=!s&&ot.isArray(i)?i.length:s,c?(ot.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!ot.isObject(i[s]))&&(i[s]=[]),n(t,r,i[s],a)&&ot.isArray(i[s])&&(i[s]=qle(i[s])),!l)}if(ot.isFormData(e)&&ot.isFunction(e.entries)){const t={};return ot.forEachEntry(e,(r,i)=>{n(zle(r),i,t,0)}),t}return null}function Ble(e,n,t){if(ot.isString(e))try{return(n||JSON.parse)(e),ot.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const hb={transitional:mL,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const t=n.getContentType()||"",r=t.indexOf("application/json")>-1,i=ot.isObject(e);if(i&&ot.isHTMLForm(e)&&(e=new FormData(e)),ot.isFormData(e))return r?JSON.stringify(gL(e)):e;if(ot.isArrayBuffer(e)||ot.isBuffer(e)||ot.isStream(e)||ot.isFile(e)||ot.isBlob(e)||ot.isReadableStream(e))return e;if(ot.isArrayBufferView(e))return e.buffer;if(ot.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(t.indexOf("application/x-www-form-urlencoded")>-1)return Fle(e,this.formSerializer).toString();if((a=ot.isFileList(e))||t.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return r2(a?{"files[]":e}:e,s&&new s,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),Ble(e)):e}],transformResponse:[function(e){const n=this.transitional||hb.transitional,t=n&&n.forcedJSONParsing,r=this.responseType==="json";if(ot.isResponse(e)||ot.isReadableStream(e))return e;if(e&&ot.isString(e)&&(t&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?En.from(a,En.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fs.classes.FormData,Blob:Fs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ot.forEach(["delete","get","head","post","put","patch"],e=>{hb.headers[e]={}});const Ule=ot.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$le=e=>{const n={};let t,r,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!t||n[t]&&Ule[t])&&(t==="set-cookie"?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n},rj=Symbol("internals");function z1(e){return e&&String(e).trim().toLowerCase()}function Sx(e){return e===!1||e==null?e:ot.isArray(e)?e.map(Sx):String(e)}function Hle(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}const Wle=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function qw(e,n,t,r,i){if(ot.isFunction(r))return r.call(this,n,t);if(i&&(n=t),!!ot.isString(n)){if(ot.isString(r))return n.indexOf(r)!==-1;if(ot.isRegExp(r))return r.test(n)}}function Vle(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,r)=>t.toUpperCase()+r)}function Yle(e,n){const t=ot.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(i,a,s){return this[r].call(this,n,i,a,s)},configurable:!0})})}class wo{constructor(n){n&&this.set(n)}set(n,t,r){const i=this;function a(l,c,d){const h=z1(c);if(!h)throw new Error("header name must be a non-empty string");const g=ot.findKey(i,h);(!g||i[g]===void 0||d===!0||d===void 0&&i[g]!==!1)&&(i[g||c]=Sx(l))}const s=(l,c)=>ot.forEach(l,(d,h)=>a(d,h,c));if(ot.isPlainObject(n)||n instanceof this.constructor)s(n,t);else if(ot.isString(n)&&(n=n.trim())&&!Wle(n))s($le(n),t);else if(ot.isHeaders(n))for(const[l,c]of n.entries())a(c,l,r);else n!=null&&a(t,n,r);return this}get(n,t){if(n=z1(n),n){const r=ot.findKey(this,n);if(r){const i=this[r];if(!t)return i;if(t===!0)return Hle(i);if(ot.isFunction(t))return t.call(this,i,r);if(ot.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=z1(n),n){const r=ot.findKey(this,n);return!!(r&&this[r]!==void 0&&(!t||qw(this,this[r],r,t)))}return!1}delete(n,t){const r=this;let i=!1;function a(s){if(s=z1(s),s){const l=ot.findKey(r,s);l&&(!t||qw(r,r[l],l,t))&&(delete r[l],i=!0)}}return ot.isArray(n)?n.forEach(a):a(n),i}clear(n){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!n||qw(this,this[a],a,n,!0))&&(delete this[a],i=!0)}return i}normalize(n){const t=this,r={};return ot.forEach(this,(i,a)=>{const s=ot.findKey(r,a);if(s){t[s]=Sx(i),delete t[a];return}const l=n?Vle(a):String(a).trim();l!==a&&delete t[a],t[l]=Sx(i),r[l]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return ot.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=n&&ot.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const r=new this(n);return t.forEach(i=>r.set(i)),r}static accessor(n){const t=(this[rj]=this[rj]={accessors:{}}).accessors,r=this.prototype;function i(a){const s=z1(a);t[s]||(Yle(r,a),t[s]=!0)}return ot.isArray(n)?n.forEach(i):i(n),this}}wo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ot.reduceDescriptors(wo.prototype,({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[t]=r}}});ot.freezeMethods(wo);function Bw(e,n){const t=this||hb,r=n||t,i=wo.from(r.headers);let a=r.data;return ot.forEach(e,function(s){a=s.call(t,a,i.normalize(),n?n.status:void 0)}),i.normalize(),a}function bL(e){return!!(e&&e.__CANCEL__)}function xm(e,n,t){En.call(this,e??"canceled",En.ERR_CANCELED,n,t),this.name="CanceledError"}ot.inherits(xm,En,{__CANCEL__:!0});function yL(e,n,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?e(t):n(new En("Request failed with status code "+t.status,[En.ERR_BAD_REQUEST,En.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Gle(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function Qle(e,n){e=e||10;const t=new Array(e),r=new Array(e);let i=0,a=0,s;return n=n!==void 0?n:1e3,function(l){const c=Date.now(),d=r[a];s||(s=c),t[i]=l,r[i]=c;let h=a,g=0;for(;h!==i;)g+=t[h++],h=h%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),c-s<n)return;const b=d&&c-d;return b?Math.round(g*1e3/b):void 0}}function Kle(e,n){let t=0,r=1e3/n,i,a;const s=(l,c=Date.now())=>{t=c,i=null,a&&(clearTimeout(a),a=null),e.apply(null,l)};return[(...l)=>{const c=Date.now(),d=c-t;d>=r?s(l,c):(i=l,a||(a=setTimeout(()=>{a=null,s(i)},r-d)))},()=>i&&s(i)]}const rv=(e,n,t=3)=>{let r=0;const i=Qle(50,250);return Kle(a=>{const s=a.loaded,l=a.lengthComputable?a.total:void 0,c=s-r,d=i(c),h=s<=l;r=s;const g={loaded:s,total:l,progress:l?s/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&h?(l-s)/d:void 0,event:a,lengthComputable:l!=null,[n?"download":"upload"]:!0};e(g)},t)},ij=(e,n)=>{const t=e!=null;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},aj=e=>(...n)=>ot.asap(()=>e(...n)),Xle=Fs.hasStandardBrowserEnv?((e,n)=>t=>(t=new URL(t,Fs.origin),e.protocol===t.protocol&&e.host===t.host&&(n||e.port===t.port)))(new URL(Fs.origin),Fs.navigator&&/(msie|trident)/i.test(Fs.navigator.userAgent)):()=>!0,Zle=Fs.hasStandardBrowserEnv?{write(e,n,t,r,i,a){const s=[e+"="+encodeURIComponent(n)];ot.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),ot.isString(r)&&s.push("path="+r),ot.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Jle(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function eue(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function xL(e,n){return e&&!Jle(n)?eue(e,n):n}const sj=e=>e instanceof wo?{...e}:e;function mp(e,n){n=n||{};const t={};function r(d,h,g,b){return ot.isPlainObject(d)&&ot.isPlainObject(h)?ot.merge.call({caseless:b},d,h):ot.isPlainObject(h)?ot.merge({},h):ot.isArray(h)?h.slice():h}function i(d,h,g,b){if(ot.isUndefined(h)){if(!ot.isUndefined(d))return r(void 0,d,g,b)}else return r(d,h,g,b)}function a(d,h){if(!ot.isUndefined(h))return r(void 0,h)}function s(d,h){if(ot.isUndefined(h)){if(!ot.isUndefined(d))return r(void 0,d)}else return r(void 0,h)}function l(d,h,g){if(g in n)return r(d,h);if(g in e)return r(void 0,d)}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(d,h,g)=>i(sj(d),sj(h),g,!0)};return ot.forEach(Object.keys(Object.assign({},e,n)),function(d){const h=c[d]||i,g=h(e[d],n[d],d);ot.isUndefined(g)&&h!==l||(t[d]=g)}),t}const vL=e=>{const n=mp({},e);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=n;n.headers=s=wo.from(s),n.url=pL(xL(n.baseURL,n.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(ot.isFormData(t)){if(Fs.hasStandardBrowserEnv||Fs.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[d,...h]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];s.setContentType([d||"multipart/form-data",...h].join("; "))}}if(Fs.hasStandardBrowserEnv&&(r&&ot.isFunction(r)&&(r=r(n)),r||r!==!1&&Xle(n.url))){const d=i&&a&&Zle.read(a);d&&s.set(i,d)}return n},tue=typeof XMLHttpRequest<"u",nue=tue&&function(e){return new Promise(function(n,t){const r=vL(e);let i=r.data;const a=wo.from(r.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:c}=r,d,h,g,b,m;function x(){b&&b(),m&&m(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout;function A(){if(!y)return;const C=wo.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),N={data:!s||s==="text"||s==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:C,config:e,request:y};yL(function(P){n(P),x()},function(P){t(P),x()},N),y=null}"onloadend"in y?y.onloadend=A:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(A)},y.onabort=function(){y&&(t(new En("Request aborted",En.ECONNABORTED,e,y)),y=null)},y.onerror=function(){t(new En("Network Error",En.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let C=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const N=r.transitional||mL;r.timeoutErrorMessage&&(C=r.timeoutErrorMessage),t(new En(C,N.clarifyTimeoutError?En.ETIMEDOUT:En.ECONNABORTED,e,y)),y=null},i===void 0&&a.setContentType(null),"setRequestHeader"in y&&ot.forEach(a.toJSON(),function(C,N){y.setRequestHeader(N,C)}),ot.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),s&&s!=="json"&&(y.responseType=r.responseType),c&&([g,m]=rv(c,!0),y.addEventListener("progress",g)),l&&y.upload&&([h,b]=rv(l),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",b)),(r.cancelToken||r.signal)&&(d=C=>{y&&(t(!C||C.type?new xm(null,e,y):C),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const w=Gle(r.url);if(w&&Fs.protocols.indexOf(w)===-1){t(new En("Unsupported protocol "+w+":",En.ERR_BAD_REQUEST,e));return}y.send(i||null)})},rue=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let r=new AbortController,i;const a=function(d){if(!i){i=!0,l();const h=d instanceof Error?d:this.reason;r.abort(h instanceof En?h:new xm(h instanceof Error?h.message:h))}};let s=n&&setTimeout(()=>{s=null,a(new En(`timeout ${n} of ms exceeded`,En.ETIMEDOUT))},n);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>ot.asap(l),c}},iue=function*(e,n){let t=e.byteLength;if(t<n){yield e;return}let r=0,i;for(;r<t;)i=r+n,yield e.slice(r,i),r=i},aue=async function*(e,n){for await(const t of sue(e))yield*iue(t,n)},sue=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:t,value:r}=await n.read();if(t)break;yield r}}finally{await n.cancel()}},oj=(e,n,t,r)=>{const i=aue(e,n);let a=0,s,l=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await i.next();if(d){l(),c.close();return}let g=h.byteLength;if(t){let b=a+=g;t(b)}c.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},i2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",wL=i2&&typeof ReadableStream=="function",oue=i2&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),SL=(e,...n)=>{try{return!!e(...n)}catch{return!1}},lue=wL&&SL(()=>{let e=!1;const n=new Request(Fs.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),lj=64*1024,m6=wL&&SL(()=>ot.isReadableStream(new Response("").body)),iv={stream:m6&&(e=>e.body)};i2&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!iv[n]&&(iv[n]=ot.isFunction(e[n])?t=>t[n]():(t,r)=>{throw new En(`Response type '${n}' is not supported`,En.ERR_NOT_SUPPORT,r)})})})(new Response);const uue=async e=>{if(e==null)return 0;if(ot.isBlob(e))return e.size;if(ot.isSpecCompliantForm(e))return(await new Request(Fs.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ot.isArrayBufferView(e)||ot.isArrayBuffer(e))return e.byteLength;if(ot.isURLSearchParams(e)&&(e=e+""),ot.isString(e))return(await oue(e)).byteLength},cue=async(e,n)=>ot.toFiniteNumber(e.getContentLength())??uue(n),due=i2&&(async e=>{let{url:n,method:t,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:h,withCredentials:g="same-origin",fetchOptions:b}=vL(e);d=d?(d+"").toLowerCase():"text";let m=rue([i,a&&a.toAbortSignal()],s),x;const y=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let A;try{if(c&&lue&&t!=="get"&&t!=="head"&&(A=await cue(h,r))!==0){let F=new Request(n,{method:"POST",body:r,duplex:"half"}),R;if(ot.isFormData(r)&&(R=F.headers.get("content-type"))&&h.setContentType(R),F.body){const[k,M]=ij(A,rv(aj(c)));r=oj(F.body,lj,k,M)}}ot.isString(g)||(g=g?"include":"omit");const w="credentials"in Request.prototype;x=new Request(n,{...b,signal:m,method:t.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:w?g:void 0});let C=await fetch(x);const N=m6&&(d==="stream"||d==="response");if(m6&&(l||N&&y)){const F={};["status","statusText","headers"].forEach(q=>{F[q]=C[q]});const R=ot.toFiniteNumber(C.headers.get("content-length")),[k,M]=l&&ij(R,rv(aj(l),!0))||[];C=new Response(oj(C.body,lj,k,()=>{M&&M(),y&&y()}),F)}d=d||"text";let P=await iv[ot.findKey(iv,d)||"text"](C,e);return!N&&y&&y(),await new Promise((F,R)=>{yL(F,R,{data:P,headers:wo.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:x})})}catch(w){throw y&&y(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new En("Network Error",En.ERR_NETWORK,e,x),{cause:w.cause||w}):En.from(w,w&&w.code,e,x)}}),g6={http:_le,xhr:nue,fetch:due};ot.forEach(g6,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const uj=e=>`- ${e}`,fue=e=>ot.isFunction(e)||e===null||e===!1,AL={getAdapter:e=>{e=ot.isArray(e)?e:[e];const{length:n}=e;let t,r;const i={};for(let a=0;a<n;a++){t=e[a];let s;if(r=t,!fue(t)&&(r=g6[(s=String(t)).toLowerCase()],r===void 0))throw new En(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){const a=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=n?a.length>1?`since :
`+a.map(uj).join(`
`):" "+uj(a[0]):"as no adapter specified";throw new En("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:g6};function Uw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xm(null,e)}function cj(e){return Uw(e),e.headers=wo.from(e.headers),e.data=Bw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),AL.getAdapter(e.adapter||hb.adapter)(e).then(function(n){return Uw(e),n.data=Bw.call(e,e.transformResponse,n),n.headers=wo.from(n.headers),n},function(n){return bL(n)||(Uw(e),n&&n.response&&(n.response.data=Bw.call(e,e.transformResponse,n.response),n.response.headers=wo.from(n.response.headers))),Promise.reject(n)})}const CL="1.7.9",a2={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{a2[e]=function(t){return typeof t===e||"a"+(n<1?"n ":" ")+e}});const dj={};a2.transitional=function(e,n,t){function r(i,a){return"[Axios v"+CL+"] Transitional option '"+i+"'"+a+(t?". "+t:"")}return(i,a,s)=>{if(e===!1)throw new En(r(a," has been removed"+(n?" in "+n:"")),En.ERR_DEPRECATED);return n&&!dj[a]&&(dj[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,s):!0}};a2.spelling=function(e){return(n,t)=>(console.warn(`${t} is likely a misspelling of ${e}`),!0)};function hue(e,n,t){if(typeof e!="object")throw new En("options must be an object",En.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=n[a];if(s){const l=e[a],c=l===void 0||s(l,a,e);if(c!==!0)throw new En("option "+a+" must be "+c,En.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new En("Unknown option "+a,En.ERR_BAD_OPTION)}}const Ax={assertOptions:hue,validators:a2},pc=Ax.validators;let ap=class{constructor(n){this.defaults=n,this.interceptors={request:new nj,response:new nj}}async request(n,t){try{return await this._request(n,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=mp(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&Ax.assertOptions(r,{silentJSONParsing:pc.transitional(pc.boolean),forcedJSONParsing:pc.transitional(pc.boolean),clarifyTimeoutError:pc.transitional(pc.boolean)},!1),i!=null&&(ot.isFunction(i)?t.paramsSerializer={serialize:i}:Ax.assertOptions(i,{encode:pc.function,serialize:pc.function},!0)),Ax.assertOptions(t,{baseUrl:pc.spelling("baseURL"),withXsrfToken:pc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&ot.merge(a.common,a[t.method]);a&&ot.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),t.headers=wo.concat(s,a);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let h,g=0,b;if(!c){const x=[cj.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,d),b=x.length,h=Promise.resolve(t);g<b;)h=h.then(x[g++],x[g++]);return h}b=l.length;let m=t;for(g=0;g<b;){const x=l[g++],y=l[g++];try{m=x(m)}catch(A){y.call(this,A);break}}try{h=cj.call(this,m)}catch(x){return Promise.reject(x)}for(g=0,b=d.length;g<b;)h=h.then(d[g++],d[g++]);return h}getUri(n){n=mp(this.defaults,n);const t=xL(n.baseURL,n.url);return pL(t,n.params,n.paramsSerializer)}};ot.forEach(["delete","get","head","options"],function(e){ap.prototype[e]=function(n,t){return this.request(mp(t||{},{method:e,url:n,data:(t||{}).data}))}});ot.forEach(["post","put","patch"],function(e){function n(t){return function(r,i,a){return this.request(mp(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}ap.prototype[e]=n(),ap.prototype[e+"Form"]=n(!0)});let pue=class EL{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(l=>{r.subscribe(l),a=l}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},n(function(i,a,s){r.reason||(r.reason=new xm(i,a,s),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const n=new AbortController,t=r=>{n.abort(r)};return this.subscribe(t),n.signal.unsubscribe=()=>this.unsubscribe(t),n.signal}static source(){let n;return{token:new EL(function(t){n=t}),cancel:n}}};function mue(e){return function(n){return e.apply(null,n)}}function gue(e){return ot.isObject(e)&&e.isAxiosError===!0}const b6={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(b6).forEach(([e,n])=>{b6[n]=e});function _L(e){const n=new ap(e),t=nL(ap.prototype.request,n);return ot.extend(t,ap.prototype,n,{allOwnKeys:!0}),ot.extend(t,n,null,{allOwnKeys:!0}),t.create=function(r){return _L(mp(e,r))},t}const Ui=_L(hb);Ui.Axios=ap;Ui.CanceledError=xm;Ui.CancelToken=pue;Ui.isCancel=bL;Ui.VERSION=CL;Ui.toFormData=r2;Ui.AxiosError=En;Ui.Cancel=Ui.CanceledError;Ui.all=function(e){return Promise.all(e)};Ui.spread=mue;Ui.isAxiosError=gue;Ui.mergeConfig=mp;Ui.AxiosHeaders=wo;Ui.formToJSON=e=>gL(ot.isHTMLForm(e)?new FormData(e):e);Ui.getAdapter=AL.getAdapter;Ui.HttpStatusCode=b6;Ui.default=Ui;const bue=async e=>{const n=new FormData;n.append("chatbot_id",e);try{const t=await Ui.post("https://rag-flask-api.onrender.com/start_conversation",n,{headers:{"Content-Type":"multipart/form-data"}}),{conversation_id:r,intro_message:i}=t.data;if(!r)throw new Error("Failed to retrieve conversation ID from server.");return{conversationId:r,introMessage:i}}catch(t){throw console.error("Error starting conversation:",t),t}},yue=async(e,n,t)=>{const r=new FormData;r.append("chatbot_id",e),r.append("conversation_id",n),r.append("question",t);try{return(await Ui.post("https://rag-flask-api.onrender.com/ask",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(i){throw console.error("Error sending message:",i),i}},xue=async(e,n)=>{const t=new FormData;t.append("chatbot_id",e),t.append("conversation_id",n);try{await Ui.post("https://rag-flask-api.onrender.com/end_conversation",t,{headers:{"Content-Type":"multipart/form-data"}})}catch(r){throw console.error("Error ending conversation:",r),r}},vue=async e=>{try{const n=await Ui.get(`https://rag-flask-api.onrender.com/summary/${e}`);if(n.status===200&&n.data.summary)return n.data.summary;throw new Error("Summary not found for this chatbot.")}catch(n){throw console.error("Error fetching summary:",n),n}},wue=({chatbotId:e,open:n,onClose:t})=>{const[r,i]=K.useState(null),[a,s]=K.useState(!1),[l,c]=K.useState(null),d=async()=>{s(!0),c(null);try{const h=await vue(e);i(h)}catch(h){c(h.message||"Failed to fetch summary. Please try again.")}finally{s(!1)}};return K.useEffect(()=>{n&&d()},[n]),gn.jsx(Nx,{open:n,onClose:t,"aria-labelledby":"summary-modal-title","aria-describedby":"summary-modal-description",children:gn.jsxs(be,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:600,bgcolor:"background.paper",borderRadius:4,boxShadow:24,p:4},children:[gn.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[gn.jsx(ce,{id:"summary-modal-title",variant:"h6",component:"h2",children:"Document Summary"}),gn.jsx(un,{onClick:t,children:gn.jsx(qoe,{})})]}),a?gn.jsx(be,{sx:{display:"flex",justifyContent:"center",my:4},children:gn.jsx(Rr,{})}):l?gn.jsx(ce,{color:"error",children:l}):gn.jsx(be,{sx:{maxHeight:300,overflowY:"auto",padding:2,border:"1px solid #ddd",borderRadius:2,backgroundColor:"#f9f9f9"},children:gn.jsx(jA,{children:r})}),gn.jsx(lt,{variant:"contained",sx:{mt:2},onClick:t,fullWidth:!0,children:"Close"})]})})},Sue=K.forwardRef(({chatbotId:e,onConversationStart:n},t)=>{const[r,i]=K.useState(!1),[a,s]=K.useState(()=>{const R=localStorage.getItem("responses");return R?JSON.parse(R):[]}),[l,c]=K.useState(()=>localStorage.getItem("conversationId")||null),[d,h]=K.useState(!1),[g,b]=K.useState(null),[m,x]=K.useState(!1),y=eg("(max-width:600px)"),A=eg("(min-width:601px) and (max-width:960px)"),w=K.useRef(null);K.useEffect(()=>{typeof n=="function"&&l&&n(l)},[l,n]),K.useEffect(()=>{w.current&&w.current.scrollIntoView({behavior:"smooth"})},[a]);const C=async()=>{i(R=>!R),!r&&!l&&!d&&N()},N=async()=>{if(!l){h(!0),b(null);try{const R=await bue(e),{conversationId:k,introMessage:M}=R;c(k),localStorage.setItem("conversationId",k),s(q=>{const Q=[...q,{id:"intro",sender:"chatbot",text:M}];return localStorage.setItem("responses",JSON.stringify(Q)),Q})}catch(R){console.error("Error starting conversation:",R),b("Failed to start a conversation. Please try again.")}finally{h(!1)}}},P=async(R,k=l)=>{h(!0),b(null);try{const M=await yue(e,k,R);s(q=>{const Q=[...q,{question:R,answer:M.answer}];return localStorage.setItem("responses",JSON.stringify(Q)),Q})}catch(M){console.error("Error sending message:",M),b("Failed to send the message. Please try again.")}finally{h(!1)}},F=async()=>{h(!0),b(null);try{l&&await xue(e,l),c(null),s([]),localStorage.removeItem("conversationId"),localStorage.removeItem("responses")}catch(R){console.error("Error ending conversation:",R),b("Failed to end the conversation. Please try again.")}finally{h(!1)}};return K.useImperativeHandle(t,()=>({endConversation:F})),gn.jsx(gn.Fragment,{children:r?gn.jsxs(nn,{elevation:3,sx:Fw.chatContainer(y,A),children:[gn.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[gn.jsx(ce,{sx:Fw.chatHeader,children:"PAT (Personalized Academic Tutor)"}),gn.jsx(un,{onClick:C,sx:{color:"black"},children:"X"})]}),gn.jsx(Moe,{responses:a}),gn.jsx("div",{ref:w}),d&&gn.jsx(tl,{sx:{position:"absolute",top:0,left:0,width:"100%"}}),g&&gn.jsx(ce,{color:"error",children:g}),gn.jsx(Poe,{onSendMessage:P,onStartConversation:N,onEndConversation:F,conversationId:l}),gn.jsx(lt,{variant:"outlined",onClick:()=>x(!0),sx:{mt:2},children:"View Summary"}),gn.jsx(wue,{chatbotId:e,open:m,onClose:()=>x(!1)})]}):gn.jsx(un,{onClick:C,sx:Fw.chatToggleButton,children:gn.jsx(Roe,{fontSize:"large"})})})});class Aue extends K.Component{constructor(n){super(n),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(n){console.error("Error caught by ErrorBoundary:",n)}render(){return this.state.hasError?f.jsx("h2",{children:"Something went wrong while loading the Chatbot."}):this.props.children}}const kL=K.forwardRef(({chatbotId:e},n)=>{const{userDetails:t}=Ci(),r=K.useRef(null),[i,a]=K.useState(!1),s=async l=>{if(console.log(` Chatbot started. Chatbot ID: ${e}, Conversation ID: ${l}`),t!=null&&t.uid)try{await mT(hn(DT,"conversations",l),{conversationId:l,chatbotId:e,userId:t.uid,startedAt:new Date().toISOString()},{merge:!0}),console.log("Conversation saved to Firestore")}catch(c){console.error("Failed to save conversation:",c)}};return K.useImperativeHandle(n,()=>({endConversation:()=>{r.current&&(console.log("Ending chatbot conversation..."),r.current.endConversation())}})),f.jsx(be,{sx:{position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-end"},children:f.jsxs(be,{sx:{background:i?"rgba(255, 255, 255, 0.95)":"#0B53C0",borderRadius:4,boxShadow:i?"0 8px 32px rgba(0, 0, 0, 0.12)":"0 2px 8px rgba(0, 0, 0, 0.15)",overflow:"hidden",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:i?"1px solid #e0e0e0":"none",minWidth:i?400:"auto",maxWidth:i?450:"auto"},children:[f.jsxs(lt,{variant:"text",onClick:()=>a(!i),sx:{background:i?"#0B53C0 !important":"transparent !important",backgroundColor:i?"#0B53C0 !important":"transparent !important",color:"white !important",px:2.5,py:1.5,borderRadius:i?"16px 16px 0 0":"12px",textTransform:"none",display:"flex",alignItems:"center",gap:1.5,minWidth:"auto",width:"100%",justifyContent:"flex-start","&:hover":{background:"#064a9e !important",backgroundColor:"#064a9e !important",boxShadow:i?"none":"0px 4px 12px rgba(11, 83, 192, 0.3)"},"&:active":{background:"#064a9e !important",backgroundColor:"#064a9e !important"},"&:focus":{background:i?"#0B53C0 !important":"#064a9e !important",backgroundColor:i?"#0B53C0 !important":"#064a9e !important"},"&.Mui-focusVisible":{background:i?"#0B53C0 !important":"#064a9e !important",backgroundColor:i?"#0B53C0 !important":"#064a9e !important"},transition:"all 0.2s ease-in-out"},children:[f.jsx(BR,{sx:{fontSize:"1.5rem",color:"white !important"}}),f.jsxs(be,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",lineHeight:1,flex:1},children:[f.jsx(ce,{variant:"body1",sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",fontWeight:"bold",mb:0,lineHeight:1.1,color:"white !important"},children:"Chat with PAT"}),f.jsx(ce,{variant:"caption",sx:{fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",opacity:.9,lineHeight:1,mt:.2,color:"white !important"},children:"AI Tutor"})]}),i?f.jsx(Y0,{sx:{fontSize:"1.2rem",color:"white !important"}}):f.jsx(bo,{sx:{fontSize:"1.2rem",color:"white !important"}})]}),f.jsx(G0,{in:i,timeout:300,easing:{enter:"cubic-bezier(0.4, 0, 0.2, 1)",exit:"cubic-bezier(0.4, 0, 0.6, 1)"},children:f.jsx(be,{sx:{background:"white",borderRadius:"0 0 16px 16px",overflow:"hidden"},children:f.jsx(Aue,{children:f.jsx(Sue,{ref:r,chatbotId:e,onConversationStart:s})})})})]})})});kL.displayName="ChatbotWrapper";const q1="ce5f7921-a3a0-4ea7-b95f-10fe41becda5",Cue=()=>{const[e,n]=K.useState(q1),[t]=Yg(),r=K.useRef(null);return K.useEffect(()=>{const i=t.get("material");if(!i){e!==q1&&n(q1);return}(async()=>{var h;console.log("Fetching chatbot ID for material:",i);const s=Un(),l=bn(s,"chatbots"),c=So(l,wi("material.id","==",i)),d=await hi(c);if(d.empty)console.log(` No chatbot found for material ${i}, using default:`,q1),n(q1);else{const g=d.docs[0].data();console.log(` Found chatbot for material ${i}:`,g.chatbotId),g.chatbotId!==e&&((h=r.current)==null||h.endConversation()),n(g.chatbotId)}})()},[t,e]),f.jsx(be,{sx:{position:"fixed",bottom:16,right:16,zIndex:1100},children:f.jsx(kL,{ref:r,chatbotId:e})})};function pb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Vd(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var fj={exports:{}},B1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hj;function Eue(){if(hj)return B1;hj=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return B1.Fragment=n,B1.jsx=t,B1.jsxs=t,B1}var pj;function mb(){return pj||(pj=1,fj.exports=Eue()),fj.exports}var Vt=mb(),U1={},mj={exports:{}},gj;function vm(){return gj||(gj=1,function(e){function n(t){return t&&t.__esModule?t:{default:t}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(mj)),mj.exports}var bj={};function Yr(){return Yr=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Yr.apply(null,arguments)}function Pf(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function NL(e){if(K.isValidElement(e)||!Pf(e))return e;const n={};return Object.keys(e).forEach(t=>{n[t]=NL(e[t])}),n}function Fc(e,n,t={clone:!0}){const r=t.clone?Yr({},e):e;return Pf(e)&&Pf(n)&&Object.keys(n).forEach(i=>{K.isValidElement(n[i])?r[i]=n[i]:Pf(n[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Pf(e[i])?r[i]=Fc(e[i],n[i],t):t.clone?r[i]=Pf(n[i])?NL(n[i]):n[i]:r[i]=n[i]}),r}const _ue=Object.freeze(Object.defineProperty({__proto__:null,default:Fc,isPlainObject:Pf},Symbol.toStringTag,{value:"Module"}));function Pg(e){let n="https://mui.com/production-error/?code="+e;for(let t=1;t<arguments.length;t+=1)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+e+"; visit "+n+" for the full message."}const kue=Object.freeze(Object.defineProperty({__proto__:null,default:Pg},Symbol.toStringTag,{value:"Module"}));var yj={exports:{}},Wr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xj;function Nue(){if(xj)return Wr;xj=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function x(y){if(typeof y=="object"&&y!==null){var A=y.$$typeof;switch(A){case e:switch(y=y.type,y){case t:case i:case r:case c:case d:case b:return y;default:switch(y=y&&y.$$typeof,y){case s:case l:case g:case h:return y;case a:return y;default:return A}}case n:return A}}}return Wr.ContextConsumer=a,Wr.ContextProvider=s,Wr.Element=e,Wr.ForwardRef=l,Wr.Fragment=t,Wr.Lazy=g,Wr.Memo=h,Wr.Portal=n,Wr.Profiler=i,Wr.StrictMode=r,Wr.Suspense=c,Wr.SuspenseList=d,Wr.isContextConsumer=function(y){return x(y)===a},Wr.isContextProvider=function(y){return x(y)===s},Wr.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Wr.isForwardRef=function(y){return x(y)===l},Wr.isFragment=function(y){return x(y)===t},Wr.isLazy=function(y){return x(y)===g},Wr.isMemo=function(y){return x(y)===h},Wr.isPortal=function(y){return x(y)===n},Wr.isProfiler=function(y){return x(y)===i},Wr.isStrictMode=function(y){return x(y)===r},Wr.isSuspense=function(y){return x(y)===c},Wr.isSuspenseList=function(y){return x(y)===d},Wr.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===i||y===r||y===c||y===d||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===h||y.$$typeof===s||y.$$typeof===a||y.$$typeof===l||y.$$typeof===m||y.getModuleId!==void 0)},Wr.typeOf=x,Wr}var vj;function jue(){return vj||(vj=1,yj.exports=Nue()),yj.exports}var wj=jue();const Tue=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function jL(e){const n=`${e}`.match(Tue);return n&&n[1]||""}function TL(e,n=""){return e.displayName||e.name||jL(e)||n}function Sj(e,n,t){const r=TL(n);return e.displayName||(r!==""?`${t}(${r})`:t)}function Oue(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return TL(e,"Component");if(typeof e=="object")switch(e.$$typeof){case wj.ForwardRef:return Sj(e,e.render,"ForwardRef");case wj.Memo:return Sj(e,e.type,"memo");default:return}}}const Iue=Object.freeze(Object.defineProperty({__proto__:null,default:Oue,getFunctionName:jL},Symbol.toStringTag,{value:"Module"}));function ah(e){if(typeof e!="string")throw new Error(Pg(7));return e.charAt(0).toUpperCase()+e.slice(1)}const Due=Object.freeze(Object.defineProperty({__proto__:null,default:ah},Symbol.toStringTag,{value:"Module"}));function Lue(...e){return e.reduce((n,t)=>t==null?n:function(...r){n.apply(this,r),t.apply(this,r)},()=>{})}function Rue(e,n=166){let t;function r(...i){const a=()=>{e.apply(this,i)};clearTimeout(t),t=setTimeout(a,n)}return r.clear=()=>{clearTimeout(t)},r}function Mue(e,n){return()=>null}function Pue(e,n){var t,r;return K.isValidElement(e)&&n.indexOf((t=e.type.muiName)!=null?t:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function OL(e){return e&&e.ownerDocument||document}function Fue(e){return OL(e).defaultView||window}function zue(e,n){return()=>null}function IL(e,n){typeof e=="function"?e(n):e&&(e.current=n)}const DL=typeof window<"u"?K.useLayoutEffect:K.useEffect;let Aj=0;function que(e){const[n,t]=K.useState(e),r=e||n;return K.useEffect(()=>{n==null&&(Aj+=1,t(`mui-${Aj}`))},[n]),r}const Cj=K.useId;function Bue(e){if(Cj!==void 0){const n=Cj();return e??n}return que(e)}function Uue(e,n,t,r,i){return null}function $ue({controlled:e,default:n,name:t,state:r="value"}){const{current:i}=K.useRef(e!==void 0),[a,s]=K.useState(n),l=i?e:a,c=K.useCallback(d=>{i||s(d)},[]);return[l,c]}function Hue(e){const n=K.useRef(e);return DL(()=>{n.current=e}),K.useRef((...t)=>(0,n.current)(...t)).current}function Wue(...e){return K.useMemo(()=>e.every(n=>n==null)?null:n=>{e.forEach(t=>{IL(t,n)})},e)}class UA{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new UA}start(n,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},n)}}let s2=!0,y6=!1;const Vue=new UA,Yue={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Gue(e){const{type:n,tagName:t}=e;return!!(t==="INPUT"&&Yue[n]&&!e.readOnly||t==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function Que(e){e.metaKey||e.altKey||e.ctrlKey||(s2=!0)}function $w(){s2=!1}function Kue(){this.visibilityState==="hidden"&&y6&&(s2=!0)}function Xue(e){e.addEventListener("keydown",Que,!0),e.addEventListener("mousedown",$w,!0),e.addEventListener("pointerdown",$w,!0),e.addEventListener("touchstart",$w,!0),e.addEventListener("visibilitychange",Kue,!0)}function Zue(e){const{target:n}=e;try{return n.matches(":focus-visible")}catch{}return s2||Gue(n)}function Jue(){const e=K.useCallback(i=>{i!=null&&Xue(i.ownerDocument)},[]),n=K.useRef(!1);function t(){return n.current?(y6=!0,Vue.start(100,()=>{y6=!1}),n.current=!1,!0):!1}function r(i){return Zue(i)?(n.current=!0,!0):!1}return{isFocusVisibleRef:n,onFocus:r,onBlur:t,ref:e}}function x6(e,n){const t=Yr({},n);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=Yr({},e[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},a=n[r];t[r]={},!a||!Object.keys(a)?t[r]=i:!i||!Object.keys(i)?t[r]=a:(t[r]=Yr({},a),Object.keys(i).forEach(s=>{t[r][s]=x6(i[s],a[s])}))}else t[r]===void 0&&(t[r]=e[r])}),t}function ece(e,n,t=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((a,s)=>{if(s){const l=n(s);l!==""&&a.push(l),t&&t[s]&&a.push(t[s])}return a},[]).join(" ")}),r}const Ej=e=>e,tce=()=>{let e=Ej;return{configure(n){e=n},generate(n){return e(n)},reset(){e=Ej}}},LL=tce(),nce={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function RL(e,n,t="Mui"){const r=nce[n];return r?`${t}-${r}`:`${LL.generate(e)}-${n}`}function rce(e,n,t="Mui"){const r={};return n.forEach(i=>{r[i]=RL(e,i,t)}),r}function ice(e,n=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(n,Math.min(e,t))}const ace=Object.freeze(Object.defineProperty({__proto__:null,default:ice},Symbol.toStringTag,{value:"Module"}));function fh(e,n){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;t[r]=e[r]}return t}function ML(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(t=ML(e[n]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function sce(){for(var e,n,t=0,r="",i=arguments.length;t<i;t++)(e=arguments[t])&&(n=ML(e))&&(r&&(r+=" "),r+=n);return r}const oce=K.createContext(void 0);function lce(e){const{theme:n,name:t,props:r}=e;if(!n||!n.components||!n.components[t])return r;const i=n.components[t];return i.defaultProps?x6(i.defaultProps,r):!i.styleOverrides&&!i.variants?x6(i,r):r}function uce({props:e,name:n}){const t=K.useContext(oce);return lce({props:e,name:n,theme:{components:t}})}function cce(e){return uce(e)}var Bh={},_j={exports:{}},kj;function dce(){return kj||(kj=1,function(e){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)({}).hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(_j)),_j.exports}var Nj={exports:{}},jj;function fce(){return jj||(jj=1,function(e){function n(t,r){if(t==null)return{};var i={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;i[a]=t[a]}return i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(Nj)),Nj.exports}function hce(e){for(var n=0,t,r=0,i=e.length;i>=4;++r,i-=4)t=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,n=(t&65535)*1540483477+((t>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(i){case 3:n^=(e.charCodeAt(r+2)&255)<<16;case 2:n^=(e.charCodeAt(r+1)&255)<<8;case 1:n^=e.charCodeAt(r)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}var pce={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function mce(e){var n=Object.create(null);return function(t){return n[t]===void 0&&(n[t]=e(t)),n[t]}}var gce=/[A-Z]|^ms/g,bce=/_EMO_([^_]+?)_([^]*?)_EMO_/g,PL=function(e){return e.charCodeAt(1)===45},Tj=function(e){return e!=null&&typeof e!="boolean"},Hw=mce(function(e){return PL(e)?e:e.replace(gce,"-$&").toLowerCase()}),Oj=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(bce,function(t,r,i){return Hf={name:r,styles:i,next:Hf},r})}return pce[e]!==1&&!PL(e)&&typeof n=="number"&&n!==0?n+"px":n};function av(e,n,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Hf={name:i.name,styles:i.styles,next:Hf},i.name;var a=t;if(a.styles!==void 0){var s=a.next;if(s!==void 0)for(;s!==void 0;)Hf={name:s.name,styles:s.styles,next:Hf},s=s.next;var l=a.styles+";";return l}return yce(e,n,t)}}var c=t;return c}function yce(e,n,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=av(e,n,t[i])+";";else for(var a in t){var s=t[a];if(typeof s!="object"){var l=s;Tj(l)&&(r+=Hw(a)+":"+Oj(a,l)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&n==null)for(var c=0;c<s.length;c++)Tj(s[c])&&(r+=Hw(a)+":"+Oj(a,s[c])+";");else{var d=av(e,n,s);switch(a){case"animation":case"animationName":{r+=Hw(a)+":"+d+";";break}default:r+=a+"{"+d+"}"}}}return r}var Ij=/label:\s*([^\s;{]+)\s*(;|$)/g,Hf;function xce(e,n,t){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Hf=void 0;var a=e[0];if(a==null||a.raw===void 0)r=!1,i+=av(t,n,a);else{var s=a;i+=s[0]}for(var l=1;l<e.length;l++)if(i+=av(t,n,e[l]),r){var c=a;i+=c[l]}Ij.lastIndex=0;for(var d="",h;(h=Ij.exec(i))!==null;)d+="-"+h[1];var g=hce(i)+d;return{name:g,styles:i,next:Hf}}function vce(e){if(e.sheet)return e.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===e)return document.styleSheets[n]}function wce(e){var n=document.createElement("style");return n.setAttribute("data-emotion",e.key),e.nonce!==void 0&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var Sce=function(){function e(t){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var n=e.prototype;return n.hydrate=function(t){t.forEach(this._insertTag)},n.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(wce(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=vce(r);try{i.insertRule(t,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(t));this.ctr++},n.flush=function(){this.tags.forEach(function(t){var r;return(r=t.parentNode)==null?void 0:r.removeChild(t)}),this.tags=[],this.ctr=0},e}(),Ds="-ms-",sv="-moz-",mr="-webkit-",FL="comm",$A="rule",HA="decl",Ace="@import",zL="@keyframes",Cce="@layer",Ece=Math.abs,o2=String.fromCharCode,_ce=Object.assign;function kce(e,n){return ds(e,0)^45?(((n<<2^ds(e,0))<<2^ds(e,1))<<2^ds(e,2))<<2^ds(e,3):0}function qL(e){return e.trim()}function Nce(e,n){return(e=n.exec(e))?e[0]:e}function br(e,n,t){return e.replace(n,t)}function v6(e,n){return e.indexOf(n)}function ds(e,n){return e.charCodeAt(n)|0}function Fg(e,n,t){return e.slice(n,t)}function Sc(e){return e.length}function WA(e){return e.length}function Qy(e,n){return n.push(e),e}function jce(e,n){return e.map(n).join("")}var l2=1,um=1,BL=0,Co=0,Ta=0,wm="";function u2(e,n,t,r,i,a,s){return{value:e,root:n,parent:t,type:r,props:i,children:a,line:l2,column:um,length:s,return:""}}function $1(e,n){return _ce(u2("",null,null,"",null,null,0),e,{length:-e.length},n)}function Tce(){return Ta}function Oce(){return Ta=Co>0?ds(wm,--Co):0,um--,Ta===10&&(um=1,l2--),Ta}function al(){return Ta=Co<BL?ds(wm,Co++):0,um++,Ta===10&&(um=1,l2++),Ta}function zc(){return ds(wm,Co)}function Cx(){return Co}function gb(e,n){return Fg(wm,e,n)}function zg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function UL(e){return l2=um=1,BL=Sc(wm=e),Co=0,[]}function $L(e){return wm="",e}function Ex(e){return qL(gb(Co-1,w6(e===91?e+2:e===40?e+1:e)))}function Ice(e){for(;(Ta=zc())&&Ta<33;)al();return zg(e)>2||zg(Ta)>3?"":" "}function Dce(e,n){for(;--n&&al()&&!(Ta<48||Ta>102||Ta>57&&Ta<65||Ta>70&&Ta<97););return gb(e,Cx()+(n<6&&zc()==32&&al()==32))}function w6(e){for(;al();)switch(Ta){case e:return Co;case 34:case 39:e!==34&&e!==39&&w6(Ta);break;case 40:e===41&&w6(e);break;case 92:al();break}return Co}function Lce(e,n){for(;al()&&e+Ta!==57&&!(e+Ta===84&&zc()===47););return"/*"+gb(n,Co-1)+"*"+o2(e===47?e:al())}function Rce(e){for(;!zg(zc());)al();return gb(e,Co)}function Mce(e){return $L(_x("",null,null,null,[""],e=UL(e),0,[0],e))}function _x(e,n,t,r,i,a,s,l,c){for(var d=0,h=0,g=s,b=0,m=0,x=0,y=1,A=1,w=1,C=0,N="",P=i,F=a,R=r,k=N;A;)switch(x=C,C=al()){case 40:if(x!=108&&ds(k,g-1)==58){v6(k+=br(Ex(C),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:k+=Ex(C);break;case 9:case 10:case 13:case 32:k+=Ice(x);break;case 92:k+=Dce(Cx()-1,7);continue;case 47:switch(zc()){case 42:case 47:Qy(Pce(Lce(al(),Cx()),n,t),c);break;default:k+="/"}break;case 123*y:l[d++]=Sc(k)*w;case 125*y:case 59:case 0:switch(C){case 0:case 125:A=0;case 59+h:w==-1&&(k=br(k,/\f/g,"")),m>0&&Sc(k)-g&&Qy(m>32?Lj(k+";",r,t,g-1):Lj(br(k," ","")+";",r,t,g-2),c);break;case 59:k+=";";default:if(Qy(R=Dj(k,n,t,d,h,i,l,N,P=[],F=[],g),a),C===123)if(h===0)_x(k,n,R,R,P,a,g,l,F);else switch(b===99&&ds(k,3)===110?100:b){case 100:case 108:case 109:case 115:_x(e,R,R,r&&Qy(Dj(e,R,R,0,0,i,l,N,i,P=[],g),F),i,F,g,l,r?P:F);break;default:_x(k,R,R,R,[""],F,0,l,F)}}d=h=m=0,y=w=1,N=k="",g=s;break;case 58:g=1+Sc(k),m=x;default:if(y<1){if(C==123)--y;else if(C==125&&y++==0&&Oce()==125)continue}switch(k+=o2(C),C*y){case 38:w=h>0?1:(k+="\f",-1);break;case 44:l[d++]=(Sc(k)-1)*w,w=1;break;case 64:zc()===45&&(k+=Ex(al())),b=zc(),h=g=Sc(N=k+=Rce(Cx())),C++;break;case 45:x===45&&Sc(k)==2&&(y=0)}}return a}function Dj(e,n,t,r,i,a,s,l,c,d,h){for(var g=i-1,b=i===0?a:[""],m=WA(b),x=0,y=0,A=0;x<r;++x)for(var w=0,C=Fg(e,g+1,g=Ece(y=s[x])),N=e;w<m;++w)(N=qL(y>0?b[w]+" "+C:br(C,/&\f/g,b[w])))&&(c[A++]=N);return u2(e,n,t,i===0?$A:l,c,d,h)}function Pce(e,n,t){return u2(e,n,t,FL,o2(Tce()),Fg(e,2,-2),0)}function Lj(e,n,t,r){return u2(e,n,t,HA,Fg(e,0,r),Fg(e,r+1,-1),r)}function W0(e,n){for(var t="",r=WA(e),i=0;i<r;i++)t+=n(e[i],i,e,n)||"";return t}function Fce(e,n,t,r){switch(e.type){case Cce:if(e.children.length)break;case Ace:case HA:return e.return=e.return||e.value;case FL:return"";case zL:return e.return=e.value+"{"+W0(e.children,r)+"}";case $A:e.value=e.props.join(",")}return Sc(t=W0(e.children,r))?e.return=e.value+"{"+t+"}":""}function zce(e){var n=WA(e);return function(t,r,i,a){for(var s="",l=0;l<n;l++)s+=e[l](t,r,i,a)||"";return s}}function qce(e){return function(n){n.root||(n=n.return)&&e(n)}}var Bce=function(e,n,t){for(var r=0,i=0;r=i,i=zc(),r===38&&i===12&&(n[t]=1),!zg(i);)al();return gb(e,Co)},Uce=function(e,n){var t=-1,r=44;do switch(zg(r)){case 0:r===38&&zc()===12&&(n[t]=1),e[t]+=Bce(Co-1,n,t);break;case 2:e[t]+=Ex(r);break;case 4:if(r===44){e[++t]=zc()===58?"&\f":"",n[t]=e[t].length;break}default:e[t]+=o2(r)}while(r=al());return e},$ce=function(e,n){return $L(Uce(UL(e),n))},Rj=new WeakMap,Hce=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,t=e.parent,r=e.column===t.column&&e.line===t.line;t.type!=="rule";)if(t=t.parent,!t)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Rj.get(t))&&!r){Rj.set(e,!0);for(var i=[],a=$ce(n,i),s=t.props,l=0,c=0;l<a.length;l++)for(var d=0;d<s.length;d++,c++)e.props[c]=i[l]?a[l].replace(/&\f/g,s[d]):s[d]+" "+a[l]}}},Wce=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function HL(e,n){switch(kce(e,n)){case 5103:return mr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return mr+e+sv+e+Ds+e+e;case 6828:case 4268:return mr+e+Ds+e+e;case 6165:return mr+e+Ds+"flex-"+e+e;case 5187:return mr+e+br(e,/(\w+).+(:[^]+)/,mr+"box-$1$2"+Ds+"flex-$1$2")+e;case 5443:return mr+e+Ds+"flex-item-"+br(e,/flex-|-self/,"")+e;case 4675:return mr+e+Ds+"flex-line-pack"+br(e,/align-content|flex-|-self/,"")+e;case 5548:return mr+e+Ds+br(e,"shrink","negative")+e;case 5292:return mr+e+Ds+br(e,"basis","preferred-size")+e;case 6060:return mr+"box-"+br(e,"-grow","")+mr+e+Ds+br(e,"grow","positive")+e;case 4554:return mr+br(e,/([^-])(transform)/g,"$1"+mr+"$2")+e;case 6187:return br(br(br(e,/(zoom-|grab)/,mr+"$1"),/(image-set)/,mr+"$1"),e,"")+e;case 5495:case 3959:return br(e,/(image-set\([^]*)/,mr+"$1$`$1");case 4968:return br(br(e,/(.+:)(flex-)?(.*)/,mr+"box-pack:$3"+Ds+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mr+e+e;case 4095:case 3583:case 4068:case 2532:return br(e,/(.+)-inline(.+)/,mr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Sc(e)-1-n>6)switch(ds(e,n+1)){case 109:if(ds(e,n+4)!==45)break;case 102:return br(e,/(.+:)(.+)-([^]+)/,"$1"+mr+"$2-$3$1"+sv+(ds(e,n+3)==108?"$3":"$2-$3"))+e;case 115:return~v6(e,"stretch")?HL(br(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(ds(e,n+1)!==115)break;case 6444:switch(ds(e,Sc(e)-3-(~v6(e,"!important")&&10))){case 107:return br(e,":",":"+mr)+e;case 101:return br(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mr+(ds(e,14)===45?"inline-":"")+"box$3$1"+mr+"$2$3$1"+Ds+"$2box$3")+e}break;case 5936:switch(ds(e,n+11)){case 114:return mr+e+Ds+br(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return mr+e+Ds+br(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return mr+e+Ds+br(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return mr+e+Ds+e+e}return e}var Vce=function(e,n,t,r){if(e.length>-1&&!e.return)switch(e.type){case HA:e.return=HL(e.value,e.length);break;case zL:return W0([$1(e,{value:br(e.value,"@","@"+mr)})],r);case $A:if(e.length)return jce(e.props,function(i){switch(Nce(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return W0([$1(e,{props:[br(i,/:(read-\w+)/,":"+sv+"$1")]})],r);case"::placeholder":return W0([$1(e,{props:[br(i,/:(plac\w+)/,":"+mr+"input-$1")]}),$1(e,{props:[br(i,/:(plac\w+)/,":"+sv+"$1")]}),$1(e,{props:[br(i,/:(plac\w+)/,Ds+"input-$1")]})],r)}return""})}},Yce=[Vce],Gce=function(e){var n=e.key;if(n==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(x){var y=x.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var r=e.stylisPlugins||Yce,i={},a,s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var y=x.getAttribute("data-emotion").split(" "),A=1;A<y.length;A++)i[y[A]]=!0;s.push(x)});var l,c=[Hce,Wce];{var d,h=[Fce,qce(function(x){d.insert(x)})],g=zce(c.concat(r,h)),b=function(x){return W0(Mce(x),g)};l=function(x,y,A,w){d=A,b(x?x+"{"+y.styles+"}":y.styles),w&&(m.inserted[y.name]=!0)}}var m={key:n,sheet:new Sce({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return m.sheet.hydrate(s),m};function Qce(e,n){const t=Gce({key:"css",prepend:e});if(n){const r=t.insert;t.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return t}const Ww=new Map;function Kce(e){const{injectFirst:n,enableCssLayer:t,children:r}=e,i=K.useMemo(()=>{const a=`${n}-${t}`;if(typeof document=="object"&&Ww.has(a))return Ww.get(a);const s=Qce(n,t);return Ww.set(a,s),s},[n,t]);return n||t?Vt.jsx(hT,{value:i,children:r}):r}function Xce(e){return e==null||Object.keys(e).length===0}function Zce(e){const{styles:n,defaultTheme:t={}}=e,r=typeof n=="function"?i=>n(Xce(i)?t:i):n;return Vt.jsx(pT,{styles:r})}/**
 * @mui/styled-engine v5.18.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Jce(e,n){return fT(e,n)}const ede=(e,n)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=n(e.__emotion_styles))},Mj=[];function tde(e){return Mj[0]=e,xce(Mj)}const nde=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Zce,StyledEngineProvider:Kce,ThemeContext:dT,css:cT,default:Jce,internal_processStyles:ede,internal_serializeStyles:tde,keyframes:uT},Symbol.toStringTag,{value:"Module"})),rde=Vd(nde),ide=Vd(_ue),ade=Vd(Due),sde=Vd(Iue),ode=["values","unit","step"],lde=e=>{const n=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return n.sort((t,r)=>t.val-r.val),n.reduce((t,r)=>Yr({},t,{[r.key]:r.val}),{})};function WL(e){const{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=e,i=fh(e,ode),a=lde(n),s=Object.keys(a);function l(b){return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t})`}function c(b){return`@media (max-width:${(typeof n[b]=="number"?n[b]:b)-r/100}${t})`}function d(b,m){const x=s.indexOf(m);return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t}) and (max-width:${(x!==-1&&typeof n[s[x]]=="number"?n[s[x]]:m)-r/100}${t})`}function h(b){return s.indexOf(b)+1<s.length?d(b,s[s.indexOf(b)+1]):l(b)}function g(b){const m=s.indexOf(b);return m===0?l(s[1]):m===s.length-1?c(s[m]):d(b,s[s.indexOf(b)+1]).replace("@media","@media not all and")}return Yr({keys:s,values:a,up:l,down:c,between:d,only:h,not:g,unit:t},i)}const ude={borderRadius:4};function ug(e,n){return n?Fc(e,n,{clone:!1}):e}const VA={xs:0,sm:600,md:900,lg:1200,xl:1536},Pj={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${VA[e]}px)`};function Ud(e,n,t){const r=e.theme||{};if(Array.isArray(n)){const i=r.breakpoints||Pj;return n.reduce((a,s,l)=>(a[i.up(i.keys[l])]=t(n[l]),a),{})}if(typeof n=="object"){const i=r.breakpoints||Pj;return Object.keys(n).reduce((a,s)=>{if(Object.keys(i.values||VA).indexOf(s)!==-1){const l=i.up(s);a[l]=t(n[s],s)}else{const l=s;a[l]=n[l]}return a},{})}return t(n)}function cde(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((t,r)=>{const i=e.up(r);return t[i]={},t},{}))||{}}function Fj(e,n){return e.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},n)}function c2(e,n,t=!0){if(!n||typeof n!="string")return null;if(e&&e.vars&&t){const r=`vars.${n}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(r!=null)return r}return n.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function ov(e,n,t,r=t){let i;return typeof e=="function"?i=e(t):Array.isArray(e)?i=e[t]||r:i=c2(e,t)||r,n&&(i=n(i,r,e)),i}function ya(e){const{prop:n,cssProperty:t=e.prop,themeKey:r,transform:i}=e,a=s=>{if(s[n]==null)return null;const l=s[n],c=s.theme,d=c2(c,r)||{};return Ud(s,l,h=>{let g=ov(d,i,h);return h===g&&typeof h=="string"&&(g=ov(d,i,`${n}${h==="default"?"":ah(h)}`,h)),t===!1?g:{[t]:g}})};return a.propTypes={},a.filterProps=[n],a}function dde(e){const n={};return t=>(n[t]===void 0&&(n[t]=e(t)),n[t])}const fde={m:"margin",p:"padding"},hde={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},zj={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},pde=dde(e=>{if(e.length>2)if(zj[e])e=zj[e];else return[e];const[n,t]=e.split(""),r=fde[n],i=hde[t]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),YA=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],GA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...YA,...GA];function bb(e,n,t,r){var i;const a=(i=c2(e,n,!1))!=null?i:t;return typeof a=="number"?s=>typeof s=="string"?s:a*s:Array.isArray(a)?s=>typeof s=="string"?s:a[s]:typeof a=="function"?a:()=>{}}function VL(e){return bb(e,"spacing",8)}function yb(e,n){if(typeof n=="string"||n==null)return n;const t=Math.abs(n),r=e(t);return n>=0?r:typeof r=="number"?-r:`-${r}`}function mde(e,n){return t=>e.reduce((r,i)=>(r[i]=yb(n,t),r),{})}function gde(e,n,t,r){if(n.indexOf(t)===-1)return null;const i=pde(t),a=mde(i,r),s=e[t];return Ud(e,s,a)}function YL(e,n){const t=VL(e.theme);return Object.keys(e).map(r=>gde(e,n,r,t)).reduce(ug,{})}function Ji(e){return YL(e,YA)}Ji.propTypes={};Ji.filterProps=YA;function ea(e){return YL(e,GA)}ea.propTypes={};ea.filterProps=GA;function bde(e=8){if(e.mui)return e;const n=VL({spacing:e}),t=(...r)=>(r.length===0?[1]:r).map(i=>{const a=n(i);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function d2(...e){const n=e.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),t=r=>Object.keys(r).reduce((i,a)=>n[a]?ug(i,n[a](r)):i,{});return t.propTypes={},t.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Ll(e){return typeof e!="number"?e:`${e}px solid`}function Ul(e,n){return ya({prop:e,themeKey:"borders",transform:n})}const yde=Ul("border",Ll),xde=Ul("borderTop",Ll),vde=Ul("borderRight",Ll),wde=Ul("borderBottom",Ll),Sde=Ul("borderLeft",Ll),Ade=Ul("borderColor"),Cde=Ul("borderTopColor"),Ede=Ul("borderRightColor"),_de=Ul("borderBottomColor"),kde=Ul("borderLeftColor"),Nde=Ul("outline",Ll),jde=Ul("outlineColor"),f2=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const n=bb(e.theme,"shape.borderRadius",4),t=r=>({borderRadius:yb(n,r)});return Ud(e,e.borderRadius,t)}return null};f2.propTypes={};f2.filterProps=["borderRadius"];d2(yde,xde,vde,wde,Sde,Ade,Cde,Ede,_de,kde,f2,Nde,jde);const h2=e=>{if(e.gap!==void 0&&e.gap!==null){const n=bb(e.theme,"spacing",8),t=r=>({gap:yb(n,r)});return Ud(e,e.gap,t)}return null};h2.propTypes={};h2.filterProps=["gap"];const p2=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const n=bb(e.theme,"spacing",8),t=r=>({columnGap:yb(n,r)});return Ud(e,e.columnGap,t)}return null};p2.propTypes={};p2.filterProps=["columnGap"];const m2=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const n=bb(e.theme,"spacing",8),t=r=>({rowGap:yb(n,r)});return Ud(e,e.rowGap,t)}return null};m2.propTypes={};m2.filterProps=["rowGap"];const Tde=ya({prop:"gridColumn"}),Ode=ya({prop:"gridRow"}),Ide=ya({prop:"gridAutoFlow"}),Dde=ya({prop:"gridAutoColumns"}),Lde=ya({prop:"gridAutoRows"}),Rde=ya({prop:"gridTemplateColumns"}),Mde=ya({prop:"gridTemplateRows"}),Pde=ya({prop:"gridTemplateAreas"}),Fde=ya({prop:"gridArea"});d2(h2,p2,m2,Tde,Ode,Ide,Dde,Lde,Rde,Mde,Pde,Fde);function V0(e,n){return n==="grey"?n:e}const zde=ya({prop:"color",themeKey:"palette",transform:V0}),qde=ya({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:V0}),Bde=ya({prop:"backgroundColor",themeKey:"palette",transform:V0});d2(zde,qde,Bde);function Zo(e){return e<=1&&e!==0?`${e*100}%`:e}const Ude=ya({prop:"width",transform:Zo}),QA=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const n=t=>{var r,i;const a=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||VA[t];return a?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Zo(t)}};return Ud(e,e.maxWidth,n)}return null};QA.filterProps=["maxWidth"];const $de=ya({prop:"minWidth",transform:Zo}),Hde=ya({prop:"height",transform:Zo}),Wde=ya({prop:"maxHeight",transform:Zo}),Vde=ya({prop:"minHeight",transform:Zo});ya({prop:"size",cssProperty:"width",transform:Zo});ya({prop:"size",cssProperty:"height",transform:Zo});const Yde=ya({prop:"boxSizing"});d2(Ude,QA,$de,Hde,Wde,Vde,Yde);const xb={border:{themeKey:"borders",transform:Ll},borderTop:{themeKey:"borders",transform:Ll},borderRight:{themeKey:"borders",transform:Ll},borderBottom:{themeKey:"borders",transform:Ll},borderLeft:{themeKey:"borders",transform:Ll},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ll},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:f2},color:{themeKey:"palette",transform:V0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:V0},backgroundColor:{themeKey:"palette",transform:V0},p:{style:ea},pt:{style:ea},pr:{style:ea},pb:{style:ea},pl:{style:ea},px:{style:ea},py:{style:ea},padding:{style:ea},paddingTop:{style:ea},paddingRight:{style:ea},paddingBottom:{style:ea},paddingLeft:{style:ea},paddingX:{style:ea},paddingY:{style:ea},paddingInline:{style:ea},paddingInlineStart:{style:ea},paddingInlineEnd:{style:ea},paddingBlock:{style:ea},paddingBlockStart:{style:ea},paddingBlockEnd:{style:ea},m:{style:Ji},mt:{style:Ji},mr:{style:Ji},mb:{style:Ji},ml:{style:Ji},mx:{style:Ji},my:{style:Ji},margin:{style:Ji},marginTop:{style:Ji},marginRight:{style:Ji},marginBottom:{style:Ji},marginLeft:{style:Ji},marginX:{style:Ji},marginY:{style:Ji},marginInline:{style:Ji},marginInlineStart:{style:Ji},marginInlineEnd:{style:Ji},marginBlock:{style:Ji},marginBlockStart:{style:Ji},marginBlockEnd:{style:Ji},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:h2},rowGap:{style:m2},columnGap:{style:p2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Zo},maxWidth:{style:QA},minWidth:{transform:Zo},height:{transform:Zo},maxHeight:{transform:Zo},minHeight:{transform:Zo},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Gde(...e){const n=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(n);return e.every(r=>t.size===Object.keys(r).length)}function Qde(e,n){return typeof e=="function"?e(n):e}function GL(){function e(t,r,i,a){const s={[t]:r,theme:i},l=a[t];if(!l)return{[t]:r};const{cssProperty:c=t,themeKey:d,transform:h,style:g}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const b=c2(i,d)||{};return g?g(s):Ud(s,r,m=>{let x=ov(b,h,m);return m===x&&typeof m=="string"&&(x=ov(b,h,`${t}${m==="default"?"":ah(m)}`,m)),c===!1?x:{[c]:x}})}function n(t){var r;const{sx:i,theme:a={},nested:s}=t||{};if(!i)return null;const l=(r=a.unstable_sxConfig)!=null?r:xb;function c(d){let h=d;if(typeof d=="function")h=d(a);else if(typeof d!="object")return d;if(!h)return null;const g=cde(a.breakpoints),b=Object.keys(g);let m=g;return Object.keys(h).forEach(x=>{const y=Qde(h[x],a);if(y!=null)if(typeof y=="object")if(l[x])m=ug(m,e(x,y,a,l));else{const A=Ud({theme:a},y,w=>({[x]:w}));Gde(A,y)?m[x]=n({sx:y,theme:a,nested:!0}):m=ug(m,A)}else m=ug(m,e(x,y,a,l))}),!s&&a.modularCssLayers?{"@layer sx":Fj(b,m)}:Fj(b,m)}return Array.isArray(i)?i.map(c):c(i)}return n}const g2=GL();g2.filterProps=["sx"];function QL(e,n){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:n}:t.palette.mode===e?n:{}}const Kde=["breakpoints","palette","spacing","shape"];function KL(e={},...n){const{breakpoints:t={},palette:r={},spacing:i,shape:a={}}=e,s=fh(e,Kde),l=WL(t),c=bde(i);let d=Fc({breakpoints:l,direction:"ltr",components:{},palette:Yr({mode:"light"},r),spacing:c,shape:Yr({},ude,a)},s);return d.applyStyles=QL,d=n.reduce((h,g)=>Fc(h,g),d),d.unstable_sxConfig=Yr({},xb,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(h){return g2({sx:h,theme:this})},d}const Xde=Object.freeze(Object.defineProperty({__proto__:null,default:KL,private_createBreakpoints:WL,unstable_applyStyles:QL},Symbol.toStringTag,{value:"Module"})),Zde=Vd(Xde),Jde=["sx"],efe=e=>{var n,t;const r={systemProps:{},otherProps:{}},i=(n=e==null||(t=e.theme)==null?void 0:t.unstable_sxConfig)!=null?n:xb;return Object.keys(e).forEach(a=>{i[a]?r.systemProps[a]=e[a]:r.otherProps[a]=e[a]}),r};function tfe(e){const{sx:n}=e,t=fh(e,Jde),{systemProps:r,otherProps:i}=efe(t);let a;return Array.isArray(n)?a=[r,...n]:typeof n=="function"?a=(...s)=>{const l=n(...s);return Pf(l)?Yr({},r,l):r}:a=Yr({},r,n),Yr({},i,{sx:a})}const nfe=Object.freeze(Object.defineProperty({__proto__:null,default:g2,extendSxProp:tfe,unstable_createStyleFunctionSx:GL,unstable_defaultSxConfig:xb},Symbol.toStringTag,{value:"Module"})),rfe=Vd(nfe);var qj;function ife(){if(qj)return Bh;qj=1;var e=vm();Object.defineProperty(Bh,"__esModule",{value:!0}),Bh.default=F,Bh.shouldForwardProp=x,Bh.systemDefaultTheme=void 0;var n=e(dce()),t=e(fce()),r=g(rde),i=ide;e(ade),e(sde);var a=e(Zde),s=e(rfe);const l=["ownerState"],c=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function h(R){if(typeof WeakMap!="function")return null;var k=new WeakMap,M=new WeakMap;return(h=function(q){return q?M:k})(R)}function g(R,k){if(R&&R.__esModule)return R;if(R===null||typeof R!="object"&&typeof R!="function")return{default:R};var M=h(k);if(M&&M.has(R))return M.get(R);var q={__proto__:null},Q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in R)if(T!=="default"&&Object.prototype.hasOwnProperty.call(R,T)){var O=Q?Object.getOwnPropertyDescriptor(R,T):null;O&&(O.get||O.set)?Object.defineProperty(q,T,O):q[T]=R[T]}return q.default=R,M&&M.set(R,q),q}function b(R){return Object.keys(R).length===0}function m(R){return typeof R=="string"&&R.charCodeAt(0)>96}function x(R){return R!=="ownerState"&&R!=="theme"&&R!=="sx"&&R!=="as"}function y(R,k){return k&&R&&typeof R=="object"&&R.styles&&!R.styles.startsWith("@layer")&&(R.styles=`@layer ${k}{${String(R.styles)}}`),R}const A=Bh.systemDefaultTheme=(0,a.default)(),w=R=>R&&R.charAt(0).toLowerCase()+R.slice(1);function C({defaultTheme:R,theme:k,themeId:M}){return b(k)?R:k[M]||k}function N(R){return R?(k,M)=>M[R]:null}function P(R,k,M){let{ownerState:q}=k,Q=(0,t.default)(k,l);const T=typeof R=="function"?R((0,n.default)({ownerState:q},Q)):R;if(Array.isArray(T))return T.flatMap(O=>P(O,(0,n.default)({ownerState:q},Q),M));if(T&&typeof T=="object"&&Array.isArray(T.variants)){const{variants:O=[]}=T;let L=(0,t.default)(T,c);return O.forEach(j=>{let X=!0;if(typeof j.props=="function"?X=j.props((0,n.default)({ownerState:q},Q,q)):Object.keys(j.props).forEach(H=>{(q==null?void 0:q[H])!==j.props[H]&&Q[H]!==j.props[H]&&(X=!1)}),X){Array.isArray(L)||(L=[L]);const H=typeof j.style=="function"?j.style((0,n.default)({ownerState:q},Q,q)):j.style;L.push(M?y((0,r.internal_serializeStyles)(H),M):H)}}),L}return M?y((0,r.internal_serializeStyles)(T),M):T}function F(R={}){const{themeId:k,defaultTheme:M=A,rootShouldForwardProp:q=x,slotShouldForwardProp:Q=x}=R,T=O=>(0,s.default)((0,n.default)({},O,{theme:C((0,n.default)({},O,{defaultTheme:M,themeId:k}))}));return T.__mui_systemSx=!0,(O,L={})=>{(0,r.internal_processStyles)(O,ye=>ye.filter(Ce=>!(Ce!=null&&Ce.__mui_systemSx)));const{name:j,slot:X,skipVariantsResolver:H,skipSx:G,overridesResolver:ee=N(w(X))}=L,le=(0,t.default)(L,d),Y=j&&j.startsWith("Mui")||X?"components":"custom",te=H!==void 0?H:X&&X!=="Root"&&X!=="root"||!1,U=G||!1;let B,re=x;X==="Root"||X==="root"?re=q:X?re=Q:m(O)&&(re=void 0);const Z=(0,r.default)(O,(0,n.default)({shouldForwardProp:re,label:B},le)),ne=ye=>typeof ye=="function"&&ye.__emotion_real!==ye||(0,i.isPlainObject)(ye)?Ce=>{const Oe=C({theme:Ce.theme,defaultTheme:M,themeId:k});return P(ye,(0,n.default)({},Ce,{theme:Oe}),Oe.modularCssLayers?Y:void 0)}:ye,ve=(ye,...Ce)=>{let Oe=ne(ye);const Ie=Ce?Ce.map(ne):[];j&&ee&&Ie.push(V=>{const Se=C((0,n.default)({},V,{defaultTheme:M,themeId:k}));if(!Se.components||!Se.components[j]||!Se.components[j].styleOverrides)return null;const se=Se.components[j].styleOverrides,he={};return Object.entries(se).forEach(([de,we])=>{he[de]=P(we,(0,n.default)({},V,{theme:Se}),Se.modularCssLayers?"theme":void 0)}),ee(V,he)}),j&&!te&&Ie.push(V=>{var Se;const se=C((0,n.default)({},V,{defaultTheme:M,themeId:k})),he=se==null||(Se=se.components)==null||(Se=Se[j])==null?void 0:Se.variants;return P({variants:he},(0,n.default)({},V,{theme:se}),se.modularCssLayers?"theme":void 0)}),U||Ie.push(T);const Ue=Ie.length-Ce.length;if(Array.isArray(ye)&&Ue>0){const V=new Array(Ue).fill("");Oe=[...ye,...V],Oe.raw=[...ye.raw,...V]}const He=Z(Oe,...Ie);return O.muiName&&(He.muiName=O.muiName),He};return Z.withConfig&&(ve.withConfig=Z.withConfig),ve}}return Bh}var afe=ife();const sfe=pb(afe);function ofe(e,n){return Yr({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},n)}var Li={};const lfe=Vd(kue),ufe=Vd(ace);var Bj;function cfe(){if(Bj)return Li;Bj=1;var e=vm();Object.defineProperty(Li,"__esModule",{value:!0}),Li.alpha=x,Li.blend=R,Li.colorChannel=void 0,Li.darken=A,Li.decomposeColor=s,Li.emphasize=P,Li.getContrastRatio=m,Li.getLuminance=b,Li.hexToRgb=i,Li.hslToRgb=g,Li.lighten=C,Li.private_safeAlpha=y,Li.private_safeColorChannel=void 0,Li.private_safeDarken=w,Li.private_safeEmphasize=F,Li.private_safeLighten=N,Li.recomposeColor=d,Li.rgbToHex=h;var n=e(lfe),t=e(ufe);function r(k,M=0,q=1){return(0,t.default)(k,M,q)}function i(k){k=k.slice(1);const M=new RegExp(`.{1,${k.length>=6?2:1}}`,"g");let q=k.match(M);return q&&q[0].length===1&&(q=q.map(Q=>Q+Q)),q?`rgb${q.length===4?"a":""}(${q.map((Q,T)=>T<3?parseInt(Q,16):Math.round(parseInt(Q,16)/255*1e3)/1e3).join(", ")})`:""}function a(k){const M=k.toString(16);return M.length===1?`0${M}`:M}function s(k){if(k.type)return k;if(k.charAt(0)==="#")return s(i(k));const M=k.indexOf("("),q=k.substring(0,M);if(["rgb","rgba","hsl","hsla","color"].indexOf(q)===-1)throw new Error((0,n.default)(9,k));let Q=k.substring(M+1,k.length-1),T;if(q==="color"){if(Q=Q.split(" "),T=Q.shift(),Q.length===4&&Q[3].charAt(0)==="/"&&(Q[3]=Q[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(T)===-1)throw new Error((0,n.default)(10,T))}else Q=Q.split(",");return Q=Q.map(O=>parseFloat(O)),{type:q,values:Q,colorSpace:T}}const l=k=>{const M=s(k);return M.values.slice(0,3).map((q,Q)=>M.type.indexOf("hsl")!==-1&&Q!==0?`${q}%`:q).join(" ")};Li.colorChannel=l;const c=(k,M)=>{try{return l(k)}catch{return k}};Li.private_safeColorChannel=c;function d(k){const{type:M,colorSpace:q}=k;let{values:Q}=k;return M.indexOf("rgb")!==-1?Q=Q.map((T,O)=>O<3?parseInt(T,10):T):M.indexOf("hsl")!==-1&&(Q[1]=`${Q[1]}%`,Q[2]=`${Q[2]}%`),M.indexOf("color")!==-1?Q=`${q} ${Q.join(" ")}`:Q=`${Q.join(", ")}`,`${M}(${Q})`}function h(k){if(k.indexOf("#")===0)return k;const{values:M}=s(k);return`#${M.map((q,Q)=>a(Q===3?Math.round(255*q):q)).join("")}`}function g(k){k=s(k);const{values:M}=k,q=M[0],Q=M[1]/100,T=M[2]/100,O=Q*Math.min(T,1-T),L=(H,G=(H+q/30)%12)=>T-O*Math.max(Math.min(G-3,9-G,1),-1);let j="rgb";const X=[Math.round(L(0)*255),Math.round(L(8)*255),Math.round(L(4)*255)];return k.type==="hsla"&&(j+="a",X.push(M[3])),d({type:j,values:X})}function b(k){k=s(k);let M=k.type==="hsl"||k.type==="hsla"?s(g(k)).values:k.values;return M=M.map(q=>(k.type!=="color"&&(q/=255),q<=.03928?q/12.92:((q+.055)/1.055)**2.4)),Number((.2126*M[0]+.7152*M[1]+.0722*M[2]).toFixed(3))}function m(k,M){const q=b(k),Q=b(M);return(Math.max(q,Q)+.05)/(Math.min(q,Q)+.05)}function x(k,M){return k=s(k),M=r(M),(k.type==="rgb"||k.type==="hsl")&&(k.type+="a"),k.type==="color"?k.values[3]=`/${M}`:k.values[3]=M,d(k)}function y(k,M,q){try{return x(k,M)}catch{return k}}function A(k,M){if(k=s(k),M=r(M),k.type.indexOf("hsl")!==-1)k.values[2]*=1-M;else if(k.type.indexOf("rgb")!==-1||k.type.indexOf("color")!==-1)for(let q=0;q<3;q+=1)k.values[q]*=1-M;return d(k)}function w(k,M,q){try{return A(k,M)}catch{return k}}function C(k,M){if(k=s(k),M=r(M),k.type.indexOf("hsl")!==-1)k.values[2]+=(100-k.values[2])*M;else if(k.type.indexOf("rgb")!==-1)for(let q=0;q<3;q+=1)k.values[q]+=(255-k.values[q])*M;else if(k.type.indexOf("color")!==-1)for(let q=0;q<3;q+=1)k.values[q]+=(1-k.values[q])*M;return d(k)}function N(k,M,q){try{return C(k,M)}catch{return k}}function P(k,M=.15){return b(k)>.5?A(k,M):C(k,M)}function F(k,M,q){try{return P(k,M)}catch{return k}}function R(k,M,q,Q=1){const T=(X,H)=>Math.round((X**(1/Q)*(1-q)+H**(1/Q)*q)**Q),O=s(k),L=s(M),j=[T(O.values[0],L.values[0]),T(O.values[1],L.values[1]),T(O.values[2],L.values[2])];return d({type:"rgb",values:j})}return Li}var S6=cfe();const qg={black:"#000",white:"#fff"},dfe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},p0={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},m0={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},H1={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},g0={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},b0={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},y0={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},ffe=["mode","contrastThreshold","tonalOffset"],Uj={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:qg.white,default:qg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Vw={text:{primary:qg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:qg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function $j(e,n,t,r){const i=r.light||r,a=r.dark||r*1.5;e[n]||(e.hasOwnProperty(t)?e[n]=e[t]:n==="light"?e.light=S6.lighten(e.main,i):n==="dark"&&(e.dark=S6.darken(e.main,a)))}function hfe(e="light"){return e==="dark"?{main:g0[200],light:g0[50],dark:g0[400]}:{main:g0[700],light:g0[400],dark:g0[800]}}function pfe(e="light"){return e==="dark"?{main:p0[200],light:p0[50],dark:p0[400]}:{main:p0[500],light:p0[300],dark:p0[700]}}function mfe(e="light"){return e==="dark"?{main:m0[500],light:m0[300],dark:m0[700]}:{main:m0[700],light:m0[400],dark:m0[800]}}function gfe(e="light"){return e==="dark"?{main:b0[400],light:b0[300],dark:b0[700]}:{main:b0[700],light:b0[500],dark:b0[900]}}function bfe(e="light"){return e==="dark"?{main:y0[400],light:y0[300],dark:y0[700]}:{main:y0[800],light:y0[500],dark:y0[900]}}function yfe(e="light"){return e==="dark"?{main:H1[400],light:H1[300],dark:H1[700]}:{main:"#ed6c02",light:H1[500],dark:H1[900]}}function xfe(e){const{mode:n="light",contrastThreshold:t=3,tonalOffset:r=.2}=e,i=fh(e,ffe),a=e.primary||hfe(n),s=e.secondary||pfe(n),l=e.error||mfe(n),c=e.info||gfe(n),d=e.success||bfe(n),h=e.warning||yfe(n);function g(x){return S6.getContrastRatio(x,Vw.text.primary)>=t?Vw.text.primary:Uj.text.primary}const b=({color:x,name:y,mainShade:A=500,lightShade:w=300,darkShade:C=700})=>{if(x=Yr({},x),!x.main&&x[A]&&(x.main=x[A]),!x.hasOwnProperty("main"))throw new Error(Pg(11,y?` (${y})`:"",A));if(typeof x.main!="string")throw new Error(Pg(12,y?` (${y})`:"",JSON.stringify(x.main)));return $j(x,"light",w,r),$j(x,"dark",C,r),x.contrastText||(x.contrastText=g(x.main)),x},m={dark:Vw,light:Uj};return Fc(Yr({common:Yr({},qg),mode:n,primary:b({color:a,name:"primary"}),secondary:b({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:l,name:"error"}),warning:b({color:h,name:"warning"}),info:b({color:c,name:"info"}),success:b({color:d,name:"success"}),grey:dfe,contrastThreshold:t,getContrastText:g,augmentColor:b,tonalOffset:r},m[n]),i)}const vfe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function wfe(e){return Math.round(e*1e5)/1e5}const Hj={textTransform:"uppercase"},Wj='"Roboto", "Helvetica", "Arial", sans-serif';function Sfe(e,n){const t=typeof n=="function"?n(e):n,{fontFamily:r=Wj,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:h,pxToRem:g}=t,b=fh(t,vfe),m=i/14,x=g||(w=>`${w/d*m}rem`),y=(w,C,N,P,F)=>Yr({fontFamily:r,fontWeight:w,fontSize:x(C),lineHeight:N},r===Wj?{letterSpacing:`${wfe(P/C)}em`}:{},F,h),A={h1:y(a,96,1.167,-1.5),h2:y(a,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(l,14,1.75,.4,Hj),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,Hj),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Fc(Yr({htmlFontSize:d,pxToRem:x,fontFamily:r,fontSize:i,fontWeightLight:a,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:c},A),b,{clone:!1})}const Afe=.2,Cfe=.14,Efe=.12;function vi(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Afe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Cfe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Efe})`].join(",")}const _fe=["none",vi(0,2,1,-1,0,1,1,0,0,1,3,0),vi(0,3,1,-2,0,2,2,0,0,1,5,0),vi(0,3,3,-2,0,3,4,0,0,1,8,0),vi(0,2,4,-1,0,4,5,0,0,1,10,0),vi(0,3,5,-1,0,5,8,0,0,1,14,0),vi(0,3,5,-1,0,6,10,0,0,1,18,0),vi(0,4,5,-2,0,7,10,1,0,2,16,1),vi(0,5,5,-3,0,8,10,1,0,3,14,2),vi(0,5,6,-3,0,9,12,1,0,3,16,2),vi(0,6,6,-3,0,10,14,1,0,4,18,3),vi(0,6,7,-4,0,11,15,1,0,4,20,3),vi(0,7,8,-4,0,12,17,2,0,5,22,4),vi(0,7,8,-4,0,13,19,2,0,5,24,4),vi(0,7,9,-4,0,14,21,2,0,5,26,4),vi(0,8,9,-5,0,15,22,2,0,6,28,5),vi(0,8,10,-5,0,16,24,2,0,6,30,5),vi(0,8,11,-5,0,17,26,2,0,6,32,5),vi(0,9,11,-5,0,18,28,2,0,7,34,6),vi(0,9,12,-6,0,19,29,2,0,7,36,6),vi(0,10,13,-6,0,20,31,3,0,8,38,7),vi(0,10,13,-6,0,21,33,3,0,8,40,7),vi(0,10,14,-6,0,22,35,3,0,8,42,7),vi(0,11,14,-7,0,23,36,3,0,9,44,8),vi(0,11,15,-7,0,24,38,3,0,9,46,8)],kfe=["duration","easing","delay"],Nfe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},jfe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Vj(e){return`${Math.round(e)}ms`}function Tfe(e){if(!e)return 0;const n=e/36;return Math.round((4+15*n**.25+n/5)*10)}function Ofe(e){const n=Yr({},Nfe,e.easing),t=Yr({},jfe,e.duration);return Yr({getAutoHeightDuration:Tfe,create:(r=["all"],i={})=>{const{duration:a=t.standard,easing:s=n.easeInOut,delay:l=0}=i;return fh(i,kfe),(Array.isArray(r)?r:[r]).map(c=>`${c} ${typeof a=="string"?a:Vj(a)} ${s} ${typeof l=="string"?l:Vj(l)}`).join(",")}},e,{easing:n,duration:t})}const Ife={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Dfe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Lfe(e={},...n){const{mixins:t={},palette:r={},transitions:i={},typography:a={}}=e,s=fh(e,Dfe);if(e.vars&&e.generateCssVars===void 0)throw new Error(Pg(18));const l=xfe(r),c=KL(e);let d=Fc(c,{mixins:ofe(c.breakpoints,t),palette:l,shadows:_fe.slice(),typography:Sfe(l,a),transitions:Ofe(i),zIndex:Yr({},Ife)});return d=Fc(d,s),d=n.reduce((h,g)=>Fc(h,g),d),d.unstable_sxConfig=Yr({},xb,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(h){return g2({sx:h,theme:this})},d}const Rfe=Lfe(),Mfe="$$material";function Pfe(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Ffe=e=>Pfe(e)&&e!=="classes",zfe=sfe({themeId:Mfe,defaultTheme:Rfe,rootShouldForwardProp:Ffe});function qfe(e){return RL("MuiSvgIcon",e)}rce("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Bfe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Ufe=e=>{const{color:n,fontSize:t,classes:r}=e,i={root:["root",n!=="inherit"&&`color${ah(n)}`,`fontSize${ah(t)}`]};return ece(i,qfe,r)},$fe=zfe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.color!=="inherit"&&n[`color${ah(t.color)}`],n[`fontSize${ah(t.fontSize)}`]]}})(({theme:e,ownerState:n})=>{var t,r,i,a,s,l,c,d,h,g,b,m,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=e.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((a=e.typography)==null||(s=a.pxToRem)==null?void 0:s.call(a,20))||"1.25rem",medium:((l=e.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((d=e.typography)==null||(h=d.pxToRem)==null?void 0:h.call(d,35))||"2.1875rem"}[n.fontSize],color:(g=(b=(e.vars||e).palette)==null||(b=b[n.color])==null?void 0:b.main)!=null?g:{action:(m=(e.vars||e).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(x=(e.vars||e).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[n.color]}}),A6=K.forwardRef(function(e,n){const t=cce({props:e,name:"MuiSvgIcon"}),{children:r,className:i,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:h,viewBox:g="0 0 24 24"}=t,b=fh(t,Bfe),m=K.isValidElement(r)&&r.type==="svg",x=Yr({},t,{color:a,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:g,hasSvgAsChild:m}),y={};d||(y.viewBox=g);const A=Ufe(x);return Vt.jsxs($fe,Yr({as:s,className:sce(A.root,i),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},y,b,m&&r.props,{ownerState:x,children:[m?r.props.children:r,h?Vt.jsx("title",{children:h}):null]}))});A6.muiName="SvgIcon";function Hfe(e,n){function t(r,i){return Vt.jsx(A6,Yr({"data-testid":`${n}Icon`,ref:i},r,{children:e}))}return t.muiName=A6.muiName,K.memo(K.forwardRef(t))}const Wfe={configure:e=>{LL.configure(e)}},Vfe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:ah,createChainedFunction:Lue,createSvgIcon:Hfe,debounce:Rue,deprecatedPropType:Mue,isMuiElement:Pue,ownerDocument:OL,ownerWindow:Fue,requirePropFactory:zue,setRef:IL,unstable_ClassNameGenerator:Wfe,unstable_useEnhancedEffect:DL,unstable_useId:Bue,unsupportedProp:Uue,useControlled:$ue,useEventCallback:Hue,useForkRef:Wue,useIsFocusVisible:Jue},Symbol.toStringTag,{value:"Module"})),Yfe=Vd(Vfe);var Yj;function b2(){return Yj||(Yj=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=Yfe}(bj)),bj}var Gj;function Gfe(){if(Gj)return U1;Gj=1;var e=vm();Object.defineProperty(U1,"__esModule",{value:!0}),U1.default=void 0;var n=e(b2()),t=mb();return U1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),U1}var Qfe=Gfe();const Qj=pb(Qfe);var W1={},Kj;function Kfe(){if(Kj)return W1;Kj=1;var e=vm();Object.defineProperty(W1,"__esModule",{value:!0}),W1.default=void 0;var n=e(b2()),t=mb();return W1.default=(0,n.default)((0,t.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),W1}var Xfe=Kfe();const Zfe=pb(Xfe);var V1={},Xj;function Jfe(){if(Xj)return V1;Xj=1;var e=vm();Object.defineProperty(V1,"__esModule",{value:!0}),V1.default=void 0;var n=e(b2()),t=mb();return V1.default=(0,n.default)((0,t.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),V1}var ehe=Jfe();const the=pb(ehe);var Y1={},Zj;function nhe(){if(Zj)return Y1;Zj=1;var e=vm();Object.defineProperty(Y1,"__esModule",{value:!0}),Y1.default=void 0;var n=e(b2()),t=mb();return Y1.default=(0,n.default)((0,t.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),Y1}var rhe=nhe();const ihe=pb(rhe),er={primary:"#0B53C0",primaryLight:"#CDDAFF",background:"#F0F4FF",white:"#FFFFFF",text:"#000000",success:"#4caf50",error:"#f44336",disabled:"#ccc"},Gn={modal:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"95%",sm:"80%",md:700},maxHeight:"90vh",bgcolor:er.background,borderRadius:"16px",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)",p:3,outline:"none",overflow:"hidden",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,pb:2,borderBottom:`2px solid ${er.primaryLight}`},title:{fontFamily:"Staatliches, Arial, sans-serif",fontSize:{xs:"1.5rem",sm:"2rem"},color:er.text},closeButton:{color:er.text,"&:hover":{bgcolor:er.primaryLight}},progressBar:{height:8,borderRadius:4,bgcolor:er.disabled,mb:3,"& .MuiLinearProgress-bar":{bgcolor:er.primary,borderRadius:4}},questionCard:{bgcolor:er.white,borderRadius:"12px",p:3,mb:3,minHeight:200,boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)"},questionText:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1.1rem",color:er.text,mb:3},categoryBadge:{display:"inline-block",px:2,py:.5,bgcolor:er.primaryLight,color:er.text,borderRadius:"20px",fontSize:"0.85rem",fontFamily:"Gabarito, Arial, sans-serif",mb:2},answerInput:{width:"100%","& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif","& fieldset":{borderColor:er.disabled},"&:hover fieldset":{borderColor:er.primary},"&.Mui-focused fieldset":{borderColor:er.primary}}},navigationDots:{display:"flex",justifyContent:"center",gap:1,my:2},dot:{width:12,height:12,borderRadius:"50%",border:"none",cursor:"pointer",transition:"all 0.3s","&:hover":{transform:"scale(1.2)"}},dotStates:{unanswered:{bgcolor:er.disabled},answered:{bgcolor:er.primaryLight},current:{bgcolor:er.primary,transform:"scale(1.3)"}},navigationButtons:{display:"flex",justifyContent:"space-between",gap:2,mt:2},button:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",py:1,px:3,borderRadius:"20px",textTransform:"none"},primaryButton:{bgcolor:er.primaryLight,color:er.text,"&:hover":{bgcolor:er.primary,color:er.white}},secondaryButton:{bgcolor:er.white,color:er.text,border:`2px solid ${er.primaryLight}`,"&:hover":{bgcolor:er.primaryLight}},submitButton:{bgcolor:er.success,color:er.white,"&:hover":{bgcolor:"#388e3c"}},resultsContainer:{flex:1,overflowY:"auto",px:2},scoreCard:{bgcolor:er.white,borderRadius:"12px",p:3,mb:3,textAlign:"center",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)"},scoreText:{fontSize:"3rem",fontFamily:"Staatliches, sans-serif",color:er.primary},feedbackCard:{bgcolor:er.white,borderRadius:"8px",p:2,mb:2,border:`1px solid ${er.disabled}`},correctAnswer:{borderLeft:`4px solid ${er.success}`},incorrectAnswer:{borderLeft:`4px solid ${er.error}`}},XL="https://rag-flask-api.onrender.com",ahe=async e=>{if(!(e!=null&&e.trim()))throw new Error("Chatbot ID is required");try{const n=await fetch(`${XL}/get_quiz?chatbot_id=${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json"}}),t=await n.json();if(!n.ok||!t.success)throw new Error(t.error||"Failed to fetch quiz");return{quizId:t.quiz_id,questions:t.questions||[]}}catch(n){throw console.error("Error fetching quiz:",n),n}},she=async(e,n,t)=>{if(!e||!n||!t||Object.keys(t).length===0)throw new Error("Invalid quiz submission");try{const r=await fetch(`${XL}/grade_quiz`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatbot_id:e,quiz_id:n,answers:t})}),i=await r.json();if(!r.ok||!i.success)throw new Error(i.error||"Quiz grading failed");return i.summary}catch(r){throw console.error("Error grading quiz:",r),r}},ohe=(e,n)=>{if(e)try{const t=`quiz_progress_${e}`;localStorage.setItem(t,JSON.stringify({answers:n,timestamp:new Date().toISOString()}))}catch(t){console.error("Failed to save progress:",t)}},lhe=e=>{if(!e)return null;try{const n=`quiz_progress_${e}`,t=localStorage.getItem(n);if(!t)return null;const r=JSON.parse(t),i=new Date(r.timestamp);return(new Date-i)/(1e3*60*60)>24?(localStorage.removeItem(n),null):r.answers}catch(n){return console.error("Failed to load progress:",n),null}},Yw=e=>{if(e)try{const n=`quiz_progress_${e}`;localStorage.removeItem(n)}catch(n){console.error("Failed to clear progress:",n)}},uhe=e=>{const n=((e==null?void 0:e.bloom_level)||(e==null?void 0:e.bloomLevel)||"").toString().toLowerCase();return n==="remember"||n==="understand"?"lower":n==="apply"?"middle":n==="analyze"||n==="evaluate"||n==="create"?"upper":"lower"},che=e=>e==="easy"?5:e==="hard"?10:8,dhe=(e,n)=>{const t=[],r=[],i=[];e.forEach(d=>{const h=uhe(d);h==="lower"?t.push(d):h==="middle"?r.push(d):i.push(d)});const a=d=>{const h=[...d];for(let g=h.length-1;g>0;g-=1){const b=Math.floor(Math.random()*(g+1));[h[g],h[b]]=[h[b],h[g]]}return h},s=che(n);let l=[];if(n==="easy"){const d=a(t),h=a(r),g=a(i);l=[...d.slice(0,s)],l.length<s&&(l=[...l,...h.slice(0,s-l.length)]),l.length<s&&(l=[...l,...g.slice(0,s-l.length)])}else if(n==="medium"){const d=a(r),h=a(t),g=a(i);l=[...d.slice(0,s)],l.length<s&&(l=[...l,...h.slice(0,s-l.length)]),l.length<s&&(l=[...l,...g.slice(0,s-l.length)])}else{const d=a(i),h=a(r),g=a(t);l=[...d.slice(0,s)],l.length<s&&(l=[...l,...h.slice(0,s-l.length)]),l.length<s&&(l=[...l,...g.slice(0,s-l.length)])}const c=Math.min(s,l.length);return{selected:l.slice(0,c),selection:{mode:n,target:s,finalCount:c},totalAvailable:{lower:t.length,middle:r.length,upper:i.length}}},fhe=K.forwardRef(({chatbotId:e,open:n,onClose:t,difficulty:r="medium",onQuizStart:i,onQuizProgress:a,onAnswerChange:s,onQuizSubmit:l,onQuizClose:c,onError:d},h)=>{const[g,b]=K.useState(null),[m,x]=K.useState([]),[y,A]=K.useState(null),[w,C]=K.useState(0),[N,P]=K.useState({}),[F,R]=K.useState(!0),[k,M]=K.useState(!1),[q,Q]=K.useState(""),[T,O]=K.useState(!1),[L,j]=K.useState(null),X=K.useRef(null),H=K.useRef(null);K.useEffect(()=>{n&&e&&G()},[n,e,r]),K.useEffect(()=>{if(H.current&&Object.keys(N).length>0){ohe(H.current,N);const Oe=m.length,Ie=Oe>0?Object.keys(N).length/Oe*100:0;a==null||a({quizId:g==null?void 0:g.quizId,answers:N,percentComplete:Ie,selection:y||void 0})}},[N,H.current,m.length]);const G=async()=>{R(!0),Q(""),O(!1),j(null),C(0),P({}),x([]),A(null),X.current=new Date;try{const Oe=await ahe(e),{selected:Ie,selection:Ue,totalAvailable:He}=dhe((Oe==null?void 0:Oe.questions)||[],r);b(Oe),x(Ie),A(Ue);const V=`${Oe.quizId}::${r}`;H.current=V;const Se=lhe(V);Se&&P(Se),i==null||i({quizId:Oe.quizId,chatbotId:e,startedAt:X.current,selection:Ue,totalAvailable:He})}catch(Oe){const Ie=(Oe==null?void 0:Oe.message)||"Failed to load quiz";Q(Ie),d==null||d(Oe,"load")}finally{R(!1)}},ee=m[w],le=m.length||0,Y=le>0?(w+1)/le*100:0,te=Oe=>{if(!ee)return;const Ie={...N,[ee.id]:Oe};P(Ie),s==null||s({quizId:g==null?void 0:g.quizId,questionId:ee.id,value:Oe,answers:Ie})},U=()=>{w<le-1&&C(Oe=>Oe+1)},B=()=>{w>0&&C(Oe=>Oe-1)},re=Oe=>C(Oe),Z=async()=>{if(!g)return;const Oe=m.filter(Ie=>!N[Ie.id]);if(Oe.length>0){Q(`Please answer all questions (${Oe.length} remaining)`);return}M(!0),Q("");try{const Ie=new Date,Ue={};m.forEach(V=>{Ue[V.id]=N[V.id]});const He=await she(e,g.quizId,Ue);j(He),O(!0),H.current&&Yw(H.current),l==null||l({quizId:g.quizId,chatbotId:e,startedAt:X.current,submittedAt:Ie,answers:Ue,summary:He,selection:y||void 0})}catch(Ie){const Ue=`Failed to submit quiz: ${(Ie==null?void 0:Ie.message)||""}`.trim();Q(Ue),d==null||d(Ie,"submit")}finally{M(!1)}},ne=()=>{H.current&&Yw(H.current),c==null||c({quizId:g==null?void 0:g.quizId,chatbotId:e,answers:N,summary:L,completed:T,closedAt:new Date,selection:y||void 0}),t()},ve=(Oe,Ie)=>{const Ue=Ie===w,He=!!N[Oe];return{isCurrent:Ue,hasAnswer:He}},ye=()=>{const Oe=(ee==null?void 0:ee.answer_type)||"text",Ie=N[ee==null?void 0:ee.id]||"";return Vt.jsx(zt,{multiline:Oe==="long_answer",rows:Oe==="long_answer"?6:1,value:Ie,onChange:Ue=>te(Ue.target.value),placeholder:"Enter your answer here...",sx:Gn.answerInput,disabled:k})};if(K.useImperativeHandle(h,()=>({reloadQuiz:G,clearProgress:()=>H.current&&Yw(H.current),submit:Z,getAnswers:()=>N,getSummary:()=>L,close:ne})),T&&L){const Oe=(()=>{const Ue=L==null?void 0:L.percent;if(typeof Ue=="number"&&Number.isFinite(Ue))return Math.round(Ue);const He=L==null?void 0:L.score;if(typeof He=="number"&&Number.isFinite(He))return Math.round(He);const V=Number(L==null?void 0:L.total_score)||0,Se=Number(L==null?void 0:L.total_max)||0;return Se>0?Math.round(V/Se*100):0})(),Ie=L.items||L.questions||{};return Vt.jsx(Nx,{open:n,onClose:ne,children:Vt.jsxs(be,{sx:Gn.modal,children:[Vt.jsxs(be,{sx:Gn.header,children:[Vt.jsx(ce,{sx:Gn.title,children:"Quiz Results"}),Vt.jsx(un,{onClick:ne,sx:Gn.closeButton,children:Vt.jsx(Qj,{})})]}),Vt.jsxs(be,{sx:Gn.resultsContainer,children:[Vt.jsxs(be,{sx:Gn.scoreCard,children:[Vt.jsxs(ce,{sx:Gn.scoreText,children:[Oe,"%"]}),Vt.jsx(ce,{variant:"h6",sx:{fontFamily:"Gabarito"},children:"Final Score"}),L.total_score!==void 0&&Vt.jsxs(ce,{variant:"body2",sx:{mt:1},children:[L.total_score," / ",L.total_max," points"]})]}),L.feedback&&Vt.jsx(nr,{severity:"info",sx:{mb:2},children:L.feedback}),!!m.length&&!!Object.keys(Ie).length&&Vt.jsxs(be,{children:[Vt.jsx(ce,{variant:"h6",sx:{mb:2,fontFamily:"Staatliches"},children:"Question Breakdown"}),m.map(Ue=>{const He=Ie[Ue.id]||{},V=He.score??0,Se=He.verdict==="correct"||V>=70||He.passed===!0;return Vt.jsxs(be,{sx:{...Gn.feedbackCard,...Se?Gn.correctAnswer:Gn.incorrectAnswer},children:[Vt.jsxs(ce,{variant:"body2",sx:{mb:1},children:["Q: ",(Ue==null?void 0:Ue.question)||"Question not found"]}),Vt.jsxs(ce,{variant:"caption",color:"textSecondary",children:["Your answer: ",N[Ue.id]]}),He.score!==void 0&&Vt.jsxs(ce,{variant:"caption",display:"block",sx:{mt:1},children:["Score: ",V,"/",He.max_score||100]}),(He.feedback||He.reasoning)&&Vt.jsx(ce,{variant:"caption",display:"block",sx:{mt:1},children:He.feedback||He.reasoning})]},Ue.id)})]})]}),Vt.jsx(lt,{fullWidth:!0,variant:"contained",onClick:ne,sx:{...Gn.button,...Gn.primaryButton,mt:2},children:"Close"})]})})}const Ce=y&&y.finalCount<y.target;return Vt.jsx(Nx,{open:n,onClose:ne,children:Vt.jsxs(be,{sx:Gn.modal,children:[Vt.jsxs(be,{sx:Gn.header,children:[Vt.jsx(ce,{sx:Gn.title,children:"Quiz"}),Vt.jsx(un,{onClick:ne,sx:Gn.closeButton,children:Vt.jsx(Qj,{})})]}),y&&Vt.jsx(be,{sx:{mb:1},children:Vt.jsx(_n,{label:`Mode: ${y.mode}  ${y.finalCount} Qs`,size:"small",sx:Gn.categoryBadge})}),Ce&&Vt.jsxs(nr,{severity:"info",sx:{mb:2},children:["Not enough questions available for ",y.mode,". Showing"," ",y.finalCount," instead of ",y.target,"."]}),F?Vt.jsx(be,{sx:{display:"flex",justifyContent:"center",py:5},children:Vt.jsx(Rr,{})}):q&&!g?Vt.jsx(nr,{severity:"error",children:q}):g&&ee?Vt.jsxs(Vt.Fragment,{children:[Vt.jsx(tl,{variant:"determinate",value:Y,sx:Gn.progressBar}),Vt.jsxs(be,{sx:Gn.questionCard,children:[Vt.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[Vt.jsxs(ce,{variant:"h6",sx:{fontFamily:"Staatliches"},children:["Question ",w+1," of ",le]}),ee.category&&Vt.jsx(_n,{label:ee.category,size:"small",sx:Gn.categoryBadge})]}),Vt.jsx(ce,{sx:Gn.questionText,children:ee.question}),ye()]}),q&&Vt.jsx(nr,{severity:"error",sx:{mb:2},children:q}),Vt.jsx(be,{sx:Gn.navigationDots,children:m.map((Oe,Ie)=>{const{isCurrent:Ue,hasAnswer:He}=ve(Oe.id,Ie);return Vt.jsx(be,{component:"button",onClick:()=>re(Ie),title:He?"Answered":"Unanswered",sx:{...Gn.dot,...He&&!Ue&&Gn.dotStates.answered,...!He&&!Ue&&Gn.dotStates.unanswered,...Ue&&Gn.dotStates.current}},Oe.id)})}),Vt.jsxs(be,{sx:Gn.navigationButtons,children:[Vt.jsx(lt,{startIcon:Vt.jsx(Zfe,{}),onClick:B,disabled:w===0,sx:{...Gn.button,...Gn.secondaryButton},children:"Previous"}),w===le-1?Vt.jsx(lt,{onClick:Z,disabled:k,endIcon:Vt.jsx(ihe,{}),sx:{...Gn.button,...Gn.submitButton},children:k?Vt.jsx(Rr,{size:20}):"Submit Quiz"}):Vt.jsx(lt,{endIcon:Vt.jsx(the,{}),onClick:U,sx:{...Gn.button,...Gn.primaryButton},children:"Next"})]})]}):Vt.jsx(nr,{severity:"info",children:"No quiz available"})]})})}),Jj={totalQuizzes:0,completedQuizzes:0,averageScore:0,difficultyBreakdown:{easy:0,medium:0,hard:0}},ZL=gp()(cm(dv((e,n)=>({currentSession:null,sessions:[],statistics:Jj,isModalOpen:!1,currentChatbotId:null,currentDifficulty:"medium",loading:!1,error:null,isQuizActive:!1,currentAnswers:{},lastSummary:null,openQuizModal:(t,r="medium")=>{e({isModalOpen:!0,currentChatbotId:t,currentDifficulty:r,error:null})},closeQuizModal:()=>{e({isModalOpen:!1,error:null})},setDifficulty:t=>{e({currentDifficulty:t})},setLoading:t=>{e({loading:t})},setError:t=>{e({error:t})},startQuiz:t=>{const r={id:`session_${Date.now()}`,quizId:t.quizId,chatbotId:t.chatbotId,userId:"",difficulty:t.selection.mode,startedAt:t.startedAt,completed:!1,answers:{}};e({currentSession:r,isQuizActive:!0,currentAnswers:{},lastSummary:null,error:null})},updateAnswers:t=>{const{currentSession:r}=n();if(!r)return;const i={...t.answers};e({currentAnswers:i,currentSession:{...r,answers:i}})},submitQuiz:t=>{console.log(" Quiz Store: Quiz submitted. Data should be saved by quiz modal API:",t),e({lastSummary:t.summary,isQuizActive:!1})},closeQuiz:t=>{console.log(" Quiz Store: Quiz closed. Data handled by quiz modal API:",t),e({currentSession:null,isQuizActive:!1,isModalOpen:!1,currentAnswers:{},lastSummary:t.completed?t.summary:null})},addSession:t=>{e(r=>({sessions:[...r.sessions,t]}))},updateSession:(t,r)=>{e(i=>{var a;return{sessions:i.sessions.map(s=>s.id===t?{...s,...r}:s),currentSession:((a=i.currentSession)==null?void 0:a.id)===t?{...i.currentSession,...r}:i.currentSession}})},deleteSession:t=>{e(r=>({sessions:r.sessions.filter(i=>i.id!==t)}))},clearCurrentSession:()=>{e({currentSession:null,isQuizActive:!1,currentAnswers:{},lastSummary:null})},updateStatistics:()=>{const{sessions:t}=n(),r=t.filter(l=>l.completed),i=r.reduce((l,c)=>{var d;return l+(((d=c.summary)==null?void 0:d.percent)||0)},0),a=t.reduce((l,c)=>({...l,[c.difficulty]:l[c.difficulty]+1}),{easy:0,medium:0,hard:0}),s={totalQuizzes:t.length,completedQuizzes:r.length,averageScore:r.length>0?i/r.length:0,difficultyBreakdown:a,lastQuizDate:t.length>0?t[t.length-1].startedAt:void 0};e({statistics:s})},saveSessionToFirestore:async t=>{try{const{db:r}=await Ri(async()=>{const{db:s}=await Promise.resolve().then(()=>Yf);return{db:s}},void 0),{doc:i,setDoc:a}=await Ri(async()=>{const{doc:s,setDoc:l}=await import("./firebase-DpGenoA-.js").then(c=>c.B);return{doc:s,setDoc:l}},[]);await a(i(r,"quizSessions",t.id),{...t,timestamp:new Date().toISOString()}),console.log("Quiz session saved to Firestore:",t.id)}catch(r){console.error("Failed to save quiz session:",r),e({error:"Failed to save quiz session"})}},fetchUserSessions:async t=>{try{e({loading:!0,error:null});const{db:r}=await Ri(async()=>{const{db:b}=await Promise.resolve().then(()=>Yf);return{db:b}},void 0),{collection:i,query:a,where:s,getDocs:l,orderBy:c}=await Ri(async()=>{const{collection:b,query:m,where:x,getDocs:y,orderBy:A}=await import("./firebase-DpGenoA-.js").then(w=>w.B);return{collection:b,query:m,where:x,getDocs:y,orderBy:A}},[]),d=a(i(r,"quizSessions"),s("userId","==",t),c("startedAt","desc")),g=(await l(d)).docs.map(b=>({id:b.id,...b.data()}));e({sessions:g,loading:!1}),n().updateStatistics()}catch(r){console.error("Failed to fetch quiz sessions:",r),e({error:"Failed to fetch quiz sessions",loading:!1})}},reset:()=>{e({currentSession:null,sessions:[],statistics:Jj,isModalOpen:!1,currentChatbotId:null,currentDifficulty:"medium",loading:!1,error:null,isQuizActive:!1,currentAnswers:{},lastSummary:null})}}),{name:"quiz-store",partialize:e=>({currentDifficulty:e.currentDifficulty}),merge:(e,n)=>({...n,...e||{},currentDifficulty:(e==null?void 0:e.currentDifficulty)||"medium"})}),{name:"quiz-store"})),Xf=Un(),Zf={QUIZ_SESSIONS:"quizSessions",QUIZ_EVENTS:"quizEvents"},hhe=async(e,n)=>{try{const t=Ka.now(),r=Ka.fromDate(new Date(e.startedAt)),i=5*1e3,a=Ka.fromMillis(r.toMillis()-i),s=Ka.fromMillis(r.toMillis()+i),l=So(bn(Xf,Zf.QUIZ_SESSIONS),wi("quizId","==",e.quizId),wi("userId","==",n),wi("startedAt",">=",a),wi("startedAt","<=",s),lv(1)),c=await hi(l);if(!c.empty){console.log(" Quiz session with same start time already exists, skipping duplicate:",{quizId:e.quizId,startedAt:e.startedAt,userId:n.substring(0,8)+"...",existingSessionId:c.docs[0].id});return}const d={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,startedAt:Ka.fromDate(new Date(e.startedAt)),completed:!1,difficulty:e.selection.mode,selection:{mode:e.selection.mode,target:e.selection.target,finalCount:e.selection.finalCount},createdAt:t,updatedAt:t},h={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_started",timestamp:t,data:e,createdAt:t};await Promise.all([Ra(bn(Xf,Zf.QUIZ_SESSIONS),d),Ra(bn(Xf,Zf.QUIZ_EVENTS),h)]),console.log(" Quiz start event saved to Firestore:",{quizId:e.quizId,difficulty:e.selection.mode,userId:n.substring(0,8)+"..."})}catch(t){throw console.error(" Error saving quiz start event:",t),t}},phe=async(e,n)=>{try{const t=Ka.now(),r={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"answer_changed",timestamp:t,data:{quizId:e.quizId,chatbotId:e.chatbotId,questionId:e.questionId,value:e.value,answers:e.answers},createdAt:t};await Ra(bn(Xf,Zf.QUIZ_EVENTS),r),console.log(" Answer change event saved to Firestore:",{quizId:e.quizId,questionId:e.questionId,userId:n.substring(0,8)+"..."})}catch(t){console.error(" Error saving answer change event:",t)}},mhe=async(e,n)=>{try{const t=Ka.now(),r=Ka.fromMillis(t.toMillis()-3600*1e3),i=So(bn(Xf,Zf.QUIZ_SESSIONS),wi("quizId","==",e.quizId),wi("userId","==",n),wi("completed","==",!1),wi("createdAt",">=",r),Ug("createdAt","desc")),a=await hi(i);if(a.empty)throw console.error(" No incomplete session found for quiz submission - this should not happen!",{quizId:e.quizId,userId:n.substring(0,8)+"...",submittedAt:e.submittedAt}),new Error("No matching quiz session found for submission");{const l=a.docs[0],c=l.ref,d=l.data(),h={submittedAt:Ka.fromDate(new Date(e.submittedAt)),completed:!0,finalAnswers:e.answers,summary:e.summary,updatedAt:t};await Dr(c,h),console.log(" Updated quiz session:",{quizId:e.quizId,difficulty:d.difficulty,score:`${e.summary.total_score}/${e.summary.total_max}`,userId:n.substring(0,8)+"..."})}const s={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_submitted",timestamp:t,data:e,createdAt:t};await Ra(bn(Xf,Zf.QUIZ_EVENTS),s),console.log(" Quiz submission saved to Firestore:",{quizId:e.quizId,score:`${e.summary.total_score}/${e.summary.total_max} (${e.summary.percent}%)`})}catch(t){throw console.error(" Error saving quiz submission:",t),t}},ghe=async(e,n)=>{try{const t=Ka.now(),r=So(bn(Xf,Zf.QUIZ_SESSIONS),wi("quizId","==",e.quizId),wi("userId","==",n)),i=await hi(r);if(!i.empty){const l=i.docs[0].ref,c={closedAt:Ka.fromDate(new Date(e.closedAt)),updatedAt:t};e.completed&&e.summary&&(c.completed=!0,c.finalAnswers=e.answers,c.summary=e.summary),await Dr(l,c)}const a={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_closed",timestamp:t,data:e,createdAt:t};await Ra(bn(Xf,Zf.QUIZ_EVENTS),a),console.log(" Quiz close event saved to Firestore:",{quizId:e.quizId,completed:e.completed})}catch(t){throw console.error(" Error saving quiz close event:",t),t}},JL=K.forwardRef(({chatbotId:e,difficulty:n,open:t,onClose:r,eventHandlers:i},a)=>{const{userDetails:s}=Ci(),l=K.useRef(null),{startQuiz:c,updateAnswers:d,submitQuiz:h,closeQuiz:g,setError:b}=ZL(),m=K.useCallback(C=>{console.log("Quiz started:",C),c(C),s!=null&&s.uid&&hhe(C,s.uid).catch(N=>{console.error("Failed to save quiz start event:",N)}),i!=null&&i.onQuizStart&&i.onQuizStart(C)},[s==null?void 0:s.uid,c,i]),x=K.useCallback(C=>{if(console.log("Answer changed:",C),d(C),s!=null&&s.uid){const N={...C,chatbotId:C.chatbotId||e};phe(N,s.uid).catch(P=>{console.warn("Failed to save answer change event:",P)})}i!=null&&i.onAnswerChange&&i.onAnswerChange(C)},[d,i,s==null?void 0:s.uid,e]),y=K.useCallback(C=>{console.log("Quiz submitted:",C),h(C),s!=null&&s.uid&&mhe(C,s.uid).catch(N=>{console.error("Failed to save quiz submission event:",N)}),i!=null&&i.onQuizSubmit&&i.onQuizSubmit(C)},[h,i,s==null?void 0:s.uid]),A=K.useCallback(C=>{console.log("Quiz closed:",C),g(C),s!=null&&s.uid&&ghe(C,s.uid).catch(N=>{console.error("Failed to save quiz close event:",N)}),i!=null&&i.onQuizClose&&i.onQuizClose(C)},[g,i,s==null?void 0:s.uid]),w=K.useCallback((C,N)=>{console.error("Error in",N,C),b(`Quiz ${N} failed: ${C.message}`),i!=null&&i.onError&&i.onError(C,N)},[b,i]);return K.useImperativeHandle(a,()=>({reloadQuiz:()=>{l.current&&l.current.reloadQuiz()},clearProgress:()=>{l.current&&l.current.clearProgress()},submit:()=>{l.current&&l.current.submit()},getAnswers:()=>l.current?l.current.getAnswers():{},getSummary:()=>l.current?l.current.getSummary():null,close:()=>{l.current&&l.current.close(),r()}})),f.jsx(fhe,{ref:l,chatbotId:e,open:t,onClose:r,difficulty:n,onQuizStart:m,onAnswerChange:x,onQuizSubmit:y,onQuizClose:A,onError:w})});JL.displayName="QuizWrapper";const bhe=({onStartQuiz:e,disabled:n=!1})=>{const[t,r]=K.useState(null),i=!!t,a=d=>{r(d.currentTarget)},s=()=>{r(null)},l=d=>{e(d),s()},c=[{value:"easy",description:"~5 questions",icon:f.jsx(sp,{color:"success"}),color:"success"},{value:"medium",description:"~8 questions",icon:f.jsx(HR,{color:"warning"}),color:"warning"},{value:"hard",description:"Up to 10 questions",icon:f.jsx(WR,{color:"error"}),color:"error"}];return f.jsxs(f.Fragment,{children:[f.jsx(lt,{variant:"contained",onClick:a,disabled:n,startIcon:i?f.jsx(Y0,{}):f.jsx(Md,{}),sx:{background:"#0B53C0",color:"white",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",fontWeight:"bold",px:3,py:1.5,borderRadius:"12px",textTransform:"none","&:hover":{background:"#064a9e",boxShadow:"0px 4px 12px rgba(11, 83, 192, 0.3)"},"&:disabled":{background:"#ccc",color:"#999"},boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",transition:"all 0.2s ease-in-out"},children:"Start Quiz"}),f.jsxs(UR,{anchorEl:t,open:i,onClose:s,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"},PaperProps:{sx:{minWidth:300,borderRadius:2,border:"1px solid #e0e0e0",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)","& .MuiMenuItem-root":{py:1.5,px:2,borderRadius:1,mx:1,mb:.5,"&:hover":{backgroundColor:"#f5f5f5",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},"&:last-child":{mb:1}}}},children:[f.jsx(be,{sx:{px:2,py:1.5,borderBottom:"1px solid #e0e0e0",backgroundColor:"#CDDAFF"},children:f.jsx(ce,{variant:"subtitle1",sx:{fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.1rem",textAlign:"center"},children:"Select Quiz Difficulty"})}),c.map(d=>f.jsxs(Kn,{onClick:()=>l(d.value),children:[f.jsx($R,{sx:{minWidth:40},children:d.icon}),f.jsx(Hh,{primary:f.jsx(ce,{variant:"body1",sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#333",fontWeight:"bold"},children:d.value.charAt(0).toUpperCase()+d.value.slice(1)}),secondary:f.jsx(ce,{variant:"body2",sx:{fontFamily:"Gabarito, sans-serif",color:"#666",fontSize:"0.875rem"},children:d.description})})]},d.value))]})]})},x0="ce5f7921-a3a0-4ea7-b95f-10fe41becda5",yhe=({defaultDifficulty:e="medium",position:n="fixed"})=>{const{userDetails:t}=Ci(),[r]=Yg(),i=K.useRef(null),{isModalOpen:a,currentChatbotId:s,currentDifficulty:l,statistics:c,openQuizModal:d,closeQuizModal:h,setDifficulty:g,fetchUserSessions:b,setError:m}=ZL(),[x,y]=tt.useState(x0);K.useEffect(()=>{const P=r.get("material");if(!P){x!==x0&&y(x0);return}(async()=>{try{console.log(" Fetching chatbot ID for quiz material:",P);const R=Un(),k=bn(R,"chatbots"),M=So(k,wi("material.id","==",P)),q=await hi(M);if(q.empty)console.log(` No chatbot found for material ${P}, using default for quiz:`,x0),y(x0);else{const Q=q.docs[0].data();console.log(` Found chatbot for quiz material ${P}:`,Q.chatbotId),y(Q.chatbotId)}}catch(R){console.error("Failed to fetch chatbot for quiz:",R),m("Failed to load quiz for this material"),y(x0)}})()},[r,x,m]),K.useEffect(()=>{t!=null&&t.uid&&b(t.uid)},[t==null?void 0:t.uid,b]),K.useEffect(()=>{g(e)},[e,g]);const A=K.useCallback(P=>{x?d(x,P):m("No chatbot available for quiz")},[x,d,m]),w=K.useCallback(()=>{h()},[h]);if(!(t!=null&&t.uid)||!r.get("material"))return null;const N=n==="fixed"?{position:"fixed",bottom:120,right:16,zIndex:1e3}:{position:"relative"};return f.jsxs(f.Fragment,{children:[f.jsx(be,{sx:N,children:f.jsx(bhe,{onStartQuiz:A,disabled:!x})}),a&&s&&f.jsx(JL,{ref:i,chatbotId:s,difficulty:l,open:a,onClose:w,eventHandlers:{onQuizStart:P=>{},onQuizSubmit:P=>{},onError:(P,F)=>{console.error("Quiz error:",F,P)}}})]})};var G1={},eT;function xhe(){if(eT)return G1;eT=1;var e=Eo();Object.defineProperty(G1,"__esModule",{value:!0}),G1.default=void 0;var n=e(No()),t=_o();return G1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),G1}var vhe=xhe();const whe=$i(vhe),She=()=>{const{notifications:e,removeNotification:n}=PT();return e.length===0?null:f.jsx(be,{sx:{position:"fixed",top:16,right:16,zIndex:9999,maxWidth:400,display:"flex",flexDirection:"column",gap:1},children:e.map(t=>f.jsx(G0,{in:!0,timeout:300,children:f.jsx(nn,{elevation:6,children:f.jsxs(nr,{severity:t.type,sx:{width:"100%","& .MuiAlert-action":{alignItems:"flex-start",padding:"4px 0 0 16px"}},action:f.jsx(un,{size:"small",onClick:()=>n(t.id),sx:{color:"inherit"},children:f.jsx(whe,{fontSize:"small"})}),children:[t.title&&f.jsx(VR,{sx:{fontWeight:"bold",mb:.5},children:t.title}),t.message,t.actions&&t.actions.length>0&&f.jsx(be,{sx:{mt:1.5,display:"flex",gap:1,flexWrap:"wrap"},children:t.actions.map((r,i)=>f.jsx(lt,{size:"small",variant:r.primary?"contained":"outlined",color:t.type==="error"?"error":"primary",onClick:()=>{r.action(),n(t.id)},sx:{minWidth:"auto",fontSize:"0.75rem",padding:"2px 8px"},children:r.label},i))})]})})},t.id))})},Ahe=()=>{const{userDetails:e,isSuperAdmin:n}=Ci(),t=lee(e,n);return $3(t)},Che=()=>{const{userDetails:e,loading:n}=Ci();if(n)return f.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:f.jsx(Rr,{})});const t="/nexlab",r=!!(e!=null&&e.uid);return f.jsxs(YR,{theme:uee,children:[f.jsx(GR,{}),f.jsxs(oM,{basename:t,future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[r&&f.jsx(ZI,{}),f.jsx("div",{className:"content",children:f.jsx(K.Suspense,{fallback:f.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:f.jsx(Rr,{})}),children:f.jsx(Ahe,{})})}),f.jsx(xee,{}),f.jsx(dee,{}),r&&f.jsx(Cue,{}),r&&f.jsx(yhe,{}),f.jsx(She,{})]})]})},Ehe=document.getElementById("root"),_he=p3.createRoot(Ehe);_he.render(f.jsx(mM,{children:f.jsx(Che,{})}));export{RT as A,ZT as B,whe as C,fv as D,x_ as E,wv as R,tZ as V,Ri as _,IT as a,Ci as b,ft as c,DT as d,ur as e,f4 as f,d4 as g,Yg as h,LJ as i,KP as j,XP as k,QT as l,ZP as m,Dhe as n,No as r,pi as u,GT as v};
