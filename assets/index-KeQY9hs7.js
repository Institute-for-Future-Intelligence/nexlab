const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BRnkcDkp.js","assets/vendor-BFl3bqVE.js","assets/index-CZYWMsg6.js","assets/MaterialImportWrapper-DJ5DZx8J.js","assets/ui-DcSnJRFv.js","assets/firebase-CTJJwFJC.js","assets/index.es-Ce_0uW-S.js","assets/index-CFo5ghDC.js","assets/index-6h6aRmBT.js","assets/Edit-CBlwyAEf.js","assets/purify.es-CQJ0hv7W.js","assets/SupplementalMaterials-CVy4Ok8e.js","assets/MessagesPage-B7GVek-w.js"])))=>i.map(i=>d[i]);
var rR=Object.defineProperty;var iR=(e,n,t)=>n in e?rR(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var et=(e,n,t)=>iR(e,typeof n!="symbol"?n+"":n,t);import{s as up,r as Q,R as T6,j as h,C as hi,B as he,P as yn,T as ge,a as At,b as nj,u as aR,c as Bd,d as Ud,e as rj,f as at,g as cg,A as vr,h as sR,I as On,i as uv,k as cv,l as dv,m as xc,n as _n,o as fv,p as xp,q as Id,t as Si,v as cr,L as qg,D as es,w as Wt,F as Su,x as oR,S as Ll,G as yt,y as Xa,z as Za,Q as lR,E as uR,H as Kw,M as ij,J as Dd,K as j6,N as Ki,O as fa,U as Xi,V as Ml,W as ha,X as cR,Y as bu,Z as zf,_ as vd,$ as Ol,a0 as F0,a1 as xu,a2 as dg,a3 as Wo,a4 as dR,a5 as wd,a6 as O6,a7 as nl,a8 as fR,a9 as aj,aa as hR,ab as Xn,ac as pR,ad as ms,ae as mR,af as J0,ag as I6,ah as em,ai as gR,aj as Ko,ak as bR,al as Xw,am as yR,an as Zr,ao as D6,ap as t_,aq as xR,ar as kx,as as vR,at as wR,au as Lc,av as SR,aw as AR,ax as Ed,ay as _d,az as Sd,aA as Ad,aB as CR,aC as Cd,aD as ER,aE as _R,aF as kR,aG as L6,aH as fg,aI as NR,aJ as TR,aK as jR,aL as Nx,aM as Bg,aN as OR,aO as IR,aP as DR,aQ as LR,aR as sj,aS as Tx,aT as RR,aU as oj,aV as Rc,aW as MR,aX as lj,aY as FR,aZ as Zw,a_ as PR,a$ as uj,b0 as Jw,b1 as zR,b2 as cj,b3 as n_,b4 as qR,b5 as BR,b6 as UR,b7 as d1,b8 as Zy,b9 as $R,ba as HR,bb as r_,bc as WR,bd as i_,be as dj,bf as YR,bg as wn,bh as fj,bi as hj,bj as pj,bk as mj,bl as gj,bm as bj,bn as VR,bo as GR,bp as QR,bq as KR,br as XR}from"./ui-DcSnJRFv.js";import{r as ZR,b as JR,g as ts,a as e3}from"./vendor-BFl3bqVE.js";import{g as t3,G as n3,o as r3,b as i3,a as a3,s as s3,c as o3,d as l3,P as Zn,e as bn,f as Oa,h as Yf,m as yj,i as Wr,I as u3,j as c3,k as vp,l as ja,r as vc,u as Vf,n as Gf,p as xj,q as Ma,_ as vn,y as R6,t as pi,K as d3,W as M6,R as tl,v as wi,Q as f3,x as hv,w as pv}from"./firebase-CTJJwFJC.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var N5={exports:{}},f1={},T5={exports:{}},j5={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function h3(){return a_||(a_=1,function(e){function n(W,K){var ie=W.length;W.push(K);e:for(;0<ie;){var ce=ie-1>>>1,$=W[ce];if(0<i($,K))W[ce]=K,W[ie]=$,ie=ce;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var K=W[0],ie=W.pop();if(ie!==K){W[0]=ie;e:for(var ce=0,$=W.length,ae=$>>>1;ce<ae;){var U=2*(ce+1)-1,z=W[U],Z=U+1,ee=W[Z];if(0>i(z,ie))Z<$&&0>i(ee,z)?(W[ce]=ee,W[Z]=ie,ce=Z):(W[ce]=z,W[U]=ie,ce=U);else if(Z<$&&0>i(ee,ie))W[ce]=ee,W[Z]=ie,ce=Z;else break e}}return K}function i(W,K){var ie=W.sortIndex-K.sortIndex;return ie!==0?ie:W.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],d=[],f=1,g=null,b=3,m=!1,x=!1,y=!1,A=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function R(W){for(var K=t(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=W)r(d),K.sortIndex=K.expirationTime,n(u,K);else break;K=t(d)}}function F(W){if(y=!1,R(W),!x)if(t(u)!==null)x=!0,q||(q=!0,O());else{var K=t(d);K!==null&&G(F,K.startTime-W)}}var q=!1,k=-1,L=5,B=-1;function X(){return A?!0:!(e.unstable_now()-B<L)}function T(){if(A=!1,q){var W=e.unstable_now();B=W;var K=!0;try{e:{x=!1,y&&(y=!1,C(k),k=-1),m=!0;var ie=b;try{t:{for(R(W),g=t(u);g!==null&&!(g.expirationTime>W&&X());){var ce=g.callback;if(typeof ce=="function"){g.callback=null,b=g.priorityLevel;var $=ce(g.expirationTime<=W);if(W=e.unstable_now(),typeof $=="function"){g.callback=$,R(W),K=!0;break t}g===t(u)&&r(u),R(W)}else r(u);g=t(u)}if(g!==null)K=!0;else{var ae=t(d);ae!==null&&G(F,ae.startTime-W),K=!1}}break e}finally{g=null,b=ie,m=!1}K=void 0}}finally{K?O():q=!1}}}var O;if(typeof N=="function")O=function(){N(T)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,j=P.port2;P.port1.onmessage=T,O=function(){j.postMessage(null)}}else O=function(){w(T,0)};function G(W,K){k=w(function(){W(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(W){switch(b){case 1:case 2:case 3:var K=3;break;default:K=b}var ie=b;b=K;try{return W()}finally{b=ie}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(W,K){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ie=b;b=W;try{return K()}finally{b=ie}},e.unstable_scheduleCallback=function(W,K,ie){var ce=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ce+ie:ce):ie=ce,W){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ie+$,W={id:f++,callback:K,priorityLevel:W,startTime:ie,expirationTime:$,sortIndex:-1},ie>ce?(W.sortIndex=ie,n(d,W),t(u)===null&&W===t(d)&&(y?(C(k),k=-1):y=!0,G(F,ie-ce))):(W.sortIndex=$,n(u,W),x||m||(x=!0,q||(q=!0,O()))),W},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(W){var K=b;return function(){var ie=b;b=K;try{return W.apply(this,arguments)}finally{b=ie}}}}(j5)),j5}var s_;function p3(){return s_||(s_=1,T5.exports=h3()),T5.exports}var o_;function m3(){if(o_)return f1;o_=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=p3(),n=ZR(),t=JR();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function s(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(a(o)!==o)throw Error(r(188))}function u(o){var c=o.alternate;if(!c){if(c=a(o),c===null)throw Error(r(188));return c!==o?null:o}for(var p=o,v=c;;){var E=p.return;if(E===null)break;var I=E.alternate;if(I===null){if(v=E.return,v!==null){p=v;continue}break}if(E.child===I.child){for(I=E.child;I;){if(I===p)return l(E),o;if(I===v)return l(E),c;I=I.sibling}throw Error(r(188))}if(p.return!==v.return)p=E,v=I;else{for(var J=!1,pe=E.child;pe;){if(pe===p){J=!0,p=E,v=I;break}if(pe===v){J=!0,v=E,p=I;break}pe=pe.sibling}if(!J){for(pe=I.child;pe;){if(pe===p){J=!0,p=I,v=E;break}if(pe===v){J=!0,v=I,p=E;break}pe=pe.sibling}if(!J)throw Error(r(189))}}if(p.alternate!==v)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:c}function d(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=d(o),c!==null)return c;o=o.sibling}return null}var f=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),N=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function O(o){return o===null||typeof o!="object"?null:(o=T&&o[T]||o["@@iterator"],typeof o=="function"?o:null)}var P=Symbol.for("react.client.reference");function j(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===P?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case A:return"Profiler";case y:return"StrictMode";case F:return"Suspense";case q:return"SuspenseList";case B:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case m:return"Portal";case N:return(o.displayName||"Context")+".Provider";case C:return(o._context.displayName||"Context")+".Consumer";case R:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case k:return c=o.displayName||null,c!==null?c:j(o.type)||"Memo";case L:c=o._payload,o=o._init;try{return j(o(c))}catch{}}return null}var G=Array.isArray,W=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ce=[],$=-1;function ae(o){return{current:o}}function U(o){0>$||(o.current=ce[$],ce[$]=null,$--)}function z(o,c){$++,ce[$]=o.current,o.current=c}var Z=ae(null),ee=ae(null),oe=ae(null),we=ae(null);function xe(o,c){switch(z(oe,c),z(ee,o),z(Z,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?TE(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=TE(c),o=jE(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}U(Z),z(Z,o)}function Ee(){U(Z),U(ee),U(oe)}function De(o){o.memoizedState!==null&&z(we,o);var c=Z.current,p=jE(c,o.type);c!==p&&(z(ee,o),z(Z,p))}function Me(o){ee.current===o&&(U(Z),U(ee)),we.current===o&&(U(we),s1._currentValue=ie)}var We=Object.prototype.hasOwnProperty,Ye=e.unstable_scheduleCallback,Y=e.unstable_cancelCallback,Se=e.unstable_shouldYield,te=e.unstable_requestPaint,be=e.unstable_now,de=e.unstable_getCurrentPriorityLevel,Ae=e.unstable_ImmediatePriority,Le=e.unstable_UserBlockingPriority,qe=e.unstable_NormalPriority,Ne=e.unstable_LowPriority,Xe=e.unstable_IdlePriority,ut=e.log,nt=e.unstable_setDisableYieldValue,Pe=null,ve=null;function ke(o){if(typeof ut=="function"&&nt(o),ve&&typeof ve.setStrictMode=="function")try{ve.setStrictMode(Pe,o)}catch{}}var je=Math.clz32?Math.clz32:Ft,ft=Math.log,Je=Math.LN2;function Ft(o){return o>>>=0,o===0?32:31-(ft(o)/Je|0)|0}var kt=256,Vt=4194304;function Rt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Zt(o,c,p){var v=o.pendingLanes;if(v===0)return 0;var E=0,I=o.suspendedLanes,J=o.pingedLanes;o=o.warmLanes;var pe=v&134217727;return pe!==0?(v=pe&~I,v!==0?E=Rt(v):(J&=pe,J!==0?E=Rt(J):p||(p=pe&~o,p!==0&&(E=Rt(p))))):(pe=v&~I,pe!==0?E=Rt(pe):J!==0?E=Rt(J):p||(p=v&~o,p!==0&&(E=Rt(p)))),E===0?0:c!==0&&c!==E&&(c&I)===0&&(I=E&-E,p=c&-c,I>=p||I===32&&(p&4194048)!==0)?c:E}function nn(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function ln(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pn(){var o=kt;return kt<<=1,(kt&4194048)===0&&(kt=256),o}function zn(){var o=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),o}function Gr(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function ir(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Rn(o,c,p,v,E,I){var J=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var pe=o.entanglements,Te=o.expirationTimes,Ze=o.hiddenUpdates;for(p=J&~p;0<p;){var mt=31-je(p),St=1<<mt;pe[mt]=0,Te[mt]=-1;var tt=Ze[mt];if(tt!==null)for(Ze[mt]=null,mt=0;mt<tt.length;mt++){var rt=tt[mt];rt!==null&&(rt.lane&=-536870913)}p&=~St}v!==0&&Gt(o,v,0),I!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=I&~(J&~c))}function Gt(o,c,p){o.pendingLanes|=c,o.suspendedLanes&=~c;var v=31-je(c);o.entangledLanes|=c,o.entanglements[v]=o.entanglements[v]|1073741824|p&4194090}function An(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var v=31-je(p),E=1<<v;E&c|o[v]&c&&(o[v]|=c),p&=~E}}function ya(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Sr(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function si(){var o=K.p;return o!==0?o:(o=window.event,o===void 0?32:QE(o.type))}function xa(o,c){var p=K.p;try{return K.p=o,c()}finally{K.p=p}}var Lt=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Lt,ar="__reactProps$"+Lt,Mr="__reactContainer$"+Lt,dr="__reactEvents$"+Lt,fr="__reactListeners$"+Lt,$n="__reactHandles$"+Lt,bs="__reactResources$"+Lt,Nr="__reactMarker$"+Lt;function Ia(o){delete o[Hn],delete o[ar],delete o[dr],delete o[fr],delete o[$n]}function Pi(o){var c=o[Hn];if(c)return c;for(var p=o.parentNode;p;){if(c=p[Mr]||p[Hn]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(o=LE(o);o!==null;){if(p=o[Hn])return p;o=LE(o)}return c}o=p,p=o.parentNode}return null}function zi(o){if(o=o[Hn]||o[Mr]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function Jn(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function Ci(o){var c=o[bs];return c||(c=o[bs]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function er(o){o[Nr]=!0}var ro=new Set,Co={};function Fa(o,c){Fr(o,c),Fr(o+"Capture",c)}function Fr(o,c){for(Co[o]=c,o=0;o<c.length;o++)ro.add(c[o])}var il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},Iu={};function $c(o){return We.call(Iu,o)?!0:We.call(Ul,o)?!1:il.test(o)?Iu[o]=!0:(Ul[o]=!0,!1)}function $s(o,c,p){if($c(c))if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+p)}}function ys(o,c,p){if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+p)}}function Pa(o,c,p,v){if(v===null)o.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(c,p,""+v)}}var xs,rs;function is(o){if(xs===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);xs=c&&c[1]||"",rs=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xs+o+rs}var $l=!1;function io(o,c){if(!o||$l)return"";$l=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var St=function(){throw Error()};if(Object.defineProperty(St.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(St,[])}catch(rt){var tt=rt}Reflect.construct(o,[],St)}else{try{St.call()}catch(rt){tt=rt}o.call(St.prototype)}}else{try{throw Error()}catch(rt){tt=rt}(St=o())&&typeof St.catch=="function"&&St.catch(function(){})}}catch(rt){if(rt&&tt&&typeof rt.stack=="string")return[rt.stack,tt.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=v.DetermineComponentFrameRoot(),J=I[0],pe=I[1];if(J&&pe){var Te=J.split(`
`),Ze=pe.split(`
`);for(E=v=0;v<Te.length&&!Te[v].includes("DetermineComponentFrameRoot");)v++;for(;E<Ze.length&&!Ze[E].includes("DetermineComponentFrameRoot");)E++;if(v===Te.length||E===Ze.length)for(v=Te.length-1,E=Ze.length-1;1<=v&&0<=E&&Te[v]!==Ze[E];)E--;for(;1<=v&&0<=E;v--,E--)if(Te[v]!==Ze[E]){if(v!==1||E!==1)do if(v--,E--,0>E||Te[v]!==Ze[E]){var mt=`
`+Te[v].replace(" at new "," at ");return o.displayName&&mt.includes("<anonymous>")&&(mt=mt.replace("<anonymous>",o.displayName)),mt}while(1<=v&&0<=E);break}}}finally{$l=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?is(p):""}function Hc(o){switch(o.tag){case 26:case 27:case 5:return is(o.type);case 16:return is("Lazy");case 13:return is("Suspense");case 19:return is("SuspenseList");case 0:case 15:return io(o.type,!1);case 11:return io(o.type.render,!1);case 1:return io(o.type,!0);case 31:return is("Activity");default:return""}}function Pr(o){try{var c="";do c+=Hc(o),o=o.return;while(o);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function Ji(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ao(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function al(o){var c=ao(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),v=""+o[c];if(!o.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,I=p.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return E.call(this)},set:function(J){v=""+J,I.call(this,J)}}),Object.defineProperty(o,c,{enumerable:p.enumerable}),{getValue:function(){return v},setValue:function(J){v=""+J},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function za(o){o._valueTracker||(o._valueTracker=al(o))}function Hl(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var p=c.getValue(),v="";return o&&(v=ao(o)?o.checked?"true":"false":o.value),o=v,o!==p?(c.setValue(o),!0):!1}function ea(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var sl=/[\n"\\]/g;function hr(o){return o.replace(sl,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Eo(o,c,p,v,E,I,J,pe){o.name="",J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?o.type=J:o.removeAttribute("type"),c!=null?J==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Ji(c)):o.value!==""+Ji(c)&&(o.value=""+Ji(c)):J!=="submit"&&J!=="reset"||o.removeAttribute("value"),c!=null?_o(o,J,Ji(c)):p!=null?_o(o,J,Ji(p)):v!=null&&o.removeAttribute("value"),E==null&&I!=null&&(o.defaultChecked=!!I),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),pe!=null&&typeof pe!="function"&&typeof pe!="symbol"&&typeof pe!="boolean"?o.name=""+Ji(pe):o.removeAttribute("name")}function Wl(o,c,p,v,E,I,J,pe){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(o.type=I),c!=null||p!=null){if(!(I!=="submit"&&I!=="reset"||c!=null))return;p=p!=null?""+Ji(p):"",c=c!=null?""+Ji(c):p,pe||c===o.value||(o.value=c),o.defaultValue=c}v=v??E,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=pe?o.checked:!!v,o.defaultChecked=!!v,J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(o.name=J)}function _o(o,c,p){c==="number"&&ea(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function Hs(o,c,p,v){if(o=o.options,c){c={};for(var E=0;E<p.length;E++)c["$"+p[E]]=!0;for(p=0;p<o.length;p++)E=c.hasOwnProperty("$"+o[p].value),o[p].selected!==E&&(o[p].selected=E),E&&v&&(o[p].defaultSelected=!0)}else{for(p=""+Ji(p),c=null,E=0;E<o.length;E++){if(o[E].value===p){o[E].selected=!0,v&&(o[E].defaultSelected=!0);return}c!==null||o[E].disabled||(c=o[E])}c!==null&&(c.selected=!0)}}function Du(o,c,p){if(c!=null&&(c=""+Ji(c),c!==o.value&&(o.value=c),p==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=p!=null?""+Ji(p):""}function Ws(o,c,p,v){if(c==null){if(v!=null){if(p!=null)throw Error(r(92));if(G(v)){if(1<v.length)throw Error(r(93));v=v[0]}p=v}p==null&&(p=""),c=p}p=Ji(c),o.defaultValue=p,v=o.textContent,v===p&&v!==""&&v!==null&&(o.value=v)}function qi(o,c){if(c){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=c;return}}o.textContent=c}var as=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vs(o,c,p){var v=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":v?o.setProperty(c,p):typeof p!="number"||p===0||as.has(c)?c==="float"?o.cssFloat=p:o[c]=(""+p).trim():o[c]=p+"px"}function Lu(o,c,p){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var E in c)v=c[E],c.hasOwnProperty(E)&&p[E]!==v&&vs(o,E,v)}else for(var I in c)c.hasOwnProperty(I)&&vs(o,I,c[I])}function qa(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ys=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ol=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vs(o){return ol.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var ll=null;function oi(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Jr=null,ws=null;function tn(o){var c=zi(o);if(c&&(o=c.stateNode)){var p=o[ar]||null;e:switch(o=c.stateNode,c.type){case"input":if(Eo(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+hr(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var v=p[c];if(v!==o&&v.form===o.form){var E=v[ar]||null;if(!E)throw Error(r(90));Eo(v,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(c=0;c<p.length;c++)v=p[c],v.form===o.form&&Hl(v)}break e;case"textarea":Du(o,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&Hs(o,!!p.multiple,c,!1)}}}var so=!1;function ul(o,c,p){if(so)return o(c,p);so=!0;try{var v=o(c);return v}finally{if(so=!1,(Jr!==null||ws!==null)&&(Xb(),Jr&&(c=Jr,o=ws,ws=Jr=null,tn(c),o)))for(c=0;c<o.length;c++)tn(o[c])}}function Ei(o,c){var p=o.stateNode;if(p===null)return null;var v=p[ar]||null;if(v===null)return null;p=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var Ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ko=!1;if(Ba)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){ko=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{ko=!1}var Da=null,$a=null,No=null;function cl(){if(No)return No;var o,c=$a,p=c.length,v,E="value"in Da?Da.value:Da.textContent,I=E.length;for(o=0;o<p&&c[o]===E[o];o++);var J=p-o;for(v=1;v<=J&&c[p-v]===E[I-v];v++);return No=E.slice(o,1<v?1-v:void 0)}function oo(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Ss(){return!0}function H(){return!1}function me(o){function c(p,v,E,I,J){this._reactName=p,this._targetInst=E,this.type=v,this.nativeEvent=I,this.target=J,this.currentTarget=null;for(var pe in o)o.hasOwnProperty(pe)&&(p=o[pe],this[pe]=p?p(I):I[pe]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Ss:H,this.isPropagationStopped=H,this}return f(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),c}var Oe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lt=me(Oe),Jt=f({},Oe,{view:0,detail:0}),Bt=me(Jt),Tn,Cn,pr,pn=f({},Jt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==pr&&(pr&&o.type==="mousemove"?(Tn=o.screenX-pr.screenX,Cn=o.screenY-pr.screenY):Cn=Tn=0,pr=o),Tn)},movementY:function(o){return"movementY"in o?o.movementY:Cn}}),Tr=me(pn),va=f({},pn,{dataTransfer:0}),Ar=me(va),Cr=f({},Jt,{relatedTarget:0}),Qr=me(Cr),Ha=f({},Oe,{animationName:0,elapsedTime:0,pseudoElement:0}),Gs=me(Ha),As=f({},Oe,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Gd=me(As),dl=f({},Oe,{data:0}),To=me(dl),Lp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bh(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=gh[o])?!!c[o]:!1}function Kd(){return bh}var _m=f({},Jt,{key:function(o){if(o.key){var c=Lp[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=oo(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Qd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kd,charCode:function(o){return o.type==="keypress"?oo(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?oo(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Xd=me(_m),Wc=f({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zd=me(Wc),Ru=f({},Jt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kd}),yh=me(Ru),D=f({},Oe,{propertyName:0,elapsedTime:0,pseudoElement:0}),re=me(D),_e=f({},pn,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Re=me(_e),Ve=f({},Oe,{newState:0,oldState:0}),dt=me(Ve),Ct=[9,13,27,32],Ot=Ba&&"CompositionEvent"in window,$t=null;Ba&&"documentMode"in document&&($t=document.documentMode);var xn=Ba&&"TextEvent"in window&&!$t,fn=Ba&&(!Ot||$t&&8<$t&&11>=$t),qn=" ",ei=!1;function li(o,c){switch(o){case"keyup":return Ct.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _i(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ki=!1;function wa(o,c){switch(o){case"compositionend":return _i(c);case"keypress":return c.which!==32?null:(ei=!0,qn);case"textInput":return o=c.data,o===qn&&ei?null:o;default:return null}}function jo(o,c){if(ki)return o==="compositionend"||!Ot&&li(o,c)?(o=cl(),No=$a=Da=null,ki=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return fn&&c.locale!=="ko"?null:c.data;default:return null}}var Qs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oo(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Qs[o.type]:c==="textarea"}function xh(o,c,p,v){Jr?ws?ws.push(v):ws=[v]:Jr=v,c=ry(c,"onChange"),0<c.length&&(p=new lt("onChange","change",null,p,v),o.push({event:p,listeners:c}))}var Yl=null,Vl=null;function Jd(o){CE(o,0)}function Mu(o){var c=Jn(o);if(Hl(c))return o}function ef(o,c){if(o==="change")return c}var Yc=!1;if(Ba){var ta;if(Ba){var Fu="oninput"in document;if(!Fu){var Vc=document.createElement("div");Vc.setAttribute("oninput","return;"),Fu=typeof Vc.oninput=="function"}ta=Fu}else ta=!1;Yc=ta&&(!document.documentMode||9<document.documentMode)}function Gc(){Yl&&(Yl.detachEvent("onpropertychange",tf),Vl=Yl=null)}function tf(o){if(o.propertyName==="value"&&Mu(Vl)){var c=[];xh(c,Vl,o,oi(o)),ul(Jd,c)}}function Cs(o,c,p){o==="focusin"?(Gc(),Yl=c,Vl=p,Yl.attachEvent("onpropertychange",tf)):o==="focusout"&&Gc()}function km(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Mu(Vl)}function vh(o,c){if(o==="click")return Mu(c)}function Rp(o,c){if(o==="input"||o==="change")return Mu(c)}function lo(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Sa=typeof Object.is=="function"?Object.is:lo;function Pu(o,c){if(Sa(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),v=Object.keys(c);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var E=p[v];if(!We.call(c,E)||!Sa(o[E],c[E]))return!1}return!0}function wh(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Gl(o,c){var p=wh(o);o=0;for(var v;p;){if(p.nodeType===3){if(v=o+p.textContent.length,o<=c&&v>=c)return{node:p,offset:c-o};o=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=wh(p)}}function zu(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?zu(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function ss(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=ea(o.document);c instanceof o.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)o=c.contentWindow;else break;c=ea(o.document)}return c}function La(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var qu=Ba&&"documentMode"in document&&11>=document.documentMode,Es=null,Io=null,fl=null,Do=!1;function mi(o,c,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Do||Es==null||Es!==ea(v)||(v=Es,"selectionStart"in v&&La(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),fl&&Pu(fl,v)||(fl=v,v=ry(Io,"onSelect"),0<v.length&&(c=new lt("onSelect","select",null,c,p),o.push({event:c,listeners:v}),c.target=Es)))}function Lo(o,c){var p={};return p[o.toLowerCase()]=c.toLowerCase(),p["Webkit"+o]="webkit"+c,p["Moz"+o]="moz"+c,p}var Bi={animationend:Lo("Animation","AnimationEnd"),animationiteration:Lo("Animation","AnimationIteration"),animationstart:Lo("Animation","AnimationStart"),transitionrun:Lo("Transition","TransitionRun"),transitionstart:Lo("Transition","TransitionStart"),transitioncancel:Lo("Transition","TransitionCancel"),transitionend:Lo("Transition","TransitionEnd")},_s={},Qc={};Ba&&(Qc=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function hl(o){if(_s[o])return _s[o];if(!Bi[o])return o;var c=Bi[o],p;for(p in c)if(c.hasOwnProperty(p)&&p in Qc)return _s[o]=c[p];return o}var nf=hl("animationend"),Bu=hl("animationiteration"),Uu=hl("animationstart"),$u=hl("transitionrun"),Kc=hl("transitionstart"),rf=hl("transitioncancel"),Hu=hl("transitionend"),Ql=new Map,Xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xc.push("scrollEnd");function gi(o,c){Ql.set(o,c),Fa(c,[o])}var Ks=new WeakMap;function Dn(o,c){if(typeof o=="object"&&o!==null){var p=Ks.get(o);return p!==void 0?p:(c={value:o,source:c,stack:Pr(c)},Ks.set(o,c),c)}return{value:o,source:c,stack:Pr(c)}}var Ln=[],zr=0,Ni=0;function uo(){for(var o=zr,c=Ni=zr=0;c<o;){var p=Ln[c];Ln[c++]=null;var v=Ln[c];Ln[c++]=null;var E=Ln[c];Ln[c++]=null;var I=Ln[c];if(Ln[c++]=null,v!==null&&E!==null){var J=v.pending;J===null?E.next=E:(E.next=J.next,J.next=E),v.pending=E}I!==0&&Mp(p,E,I)}}function Wu(o,c,p,v){Ln[zr++]=o,Ln[zr++]=c,Ln[zr++]=p,Ln[zr++]=v,Ni|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function Yu(o,c,p,v){return Wu(o,c,p,v),Zc(o)}function Kl(o,c){return Wu(o,null,null,c),Zc(o)}function Mp(o,c,p){o.lanes|=p;var v=o.alternate;v!==null&&(v.lanes|=p);for(var E=!1,I=o.return;I!==null;)I.childLanes|=p,v=I.alternate,v!==null&&(v.childLanes|=p),I.tag===22&&(o=I.stateNode,o===null||o._visibility&1||(E=!0)),o=I,I=I.return;return o.tag===3?(I=o.stateNode,E&&c!==null&&(E=31-je(p),o=I.hiddenUpdates,v=o[E],v===null?o[E]=[c]:v.push(c),c.lane=p|536870912),I):null}function Zc(o){if(50<Zm)throw Zm=0,Z2=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Aa={};function co(o,c,p,v){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wa(o,c,p,v){return new co(o,c,p,v)}function af(o){return o=o.prototype,!(!o||!o.isReactComponent)}function pl(o,c){var p=o.alternate;return p===null?(p=Wa(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function Sh(o,c){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,c=p.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Jc(o,c,p,v,E,I){var J=0;if(v=o,typeof o=="function")af(o)&&(J=1);else if(typeof o=="string")J=H9(o,p,Z.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case B:return o=Wa(31,p,c,E),o.elementType=B,o.lanes=I,o;case x:return Xl(p.children,E,I,c);case y:J=8,E|=24;break;case A:return o=Wa(12,p,c,E|2),o.elementType=A,o.lanes=I,o;case F:return o=Wa(13,p,c,E),o.elementType=F,o.lanes=I,o;case q:return o=Wa(19,p,c,E),o.elementType=q,o.lanes=I,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case w:case N:J=10;break e;case C:J=9;break e;case R:J=11;break e;case k:J=14;break e;case L:J=16,v=null;break e}J=29,p=Error(r(130,o===null?"null":typeof o,"")),v=null}return c=Wa(J,p,c,E),c.elementType=o,c.type=v,c.lanes=I,c}function Xl(o,c,p,v){return o=Wa(7,o,v,c),o.lanes=p,o}function Fp(o,c,p){return o=Wa(6,o,null,c),o.lanes=p,o}function Ah(o,c,p){return c=Wa(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Vu=[],Zl=0,sf=null,Pp=0,fo=[],Xs=0,ed=null,Jl=1,eu="";function td(o,c){Vu[Zl++]=Pp,Vu[Zl++]=sf,sf=o,Pp=c}function wb(o,c,p){fo[Xs++]=Jl,fo[Xs++]=eu,fo[Xs++]=ed,ed=o;var v=Jl;o=eu;var E=32-je(v)-1;v&=~(1<<E),p+=1;var I=32-je(c)+E;if(30<I){var J=E-E%5;I=(v&(1<<J)-1).toString(32),v>>=J,E-=J,Jl=1<<32-je(c)+E|p<<E|v,eu=I+o}else Jl=1<<I|p<<E|v,eu=o}function Ch(o){o.return!==null&&(td(o,1),wb(o,1,0))}function Eh(o){for(;o===sf;)sf=Vu[--Zl],Vu[Zl]=null,Pp=Vu[--Zl],Vu[Zl]=null;for(;o===ed;)ed=fo[--Xs],fo[Xs]=null,eu=fo[--Xs],fo[Xs]=null,Jl=fo[--Xs],fo[Xs]=null}var na=null,bi=null,tr=!1,Gu=null,ml=!1,Nm=Error(r(519));function nd(o){var c=Error(r(418,""));throw of(Dn(c,o)),Nm}function Sb(o){var c=o.stateNode,p=o.type,v=o.memoizedProps;switch(c[Hn]=o,c[ar]=v,p){case"dialog":Un("cancel",c),Un("close",c);break;case"iframe":case"object":case"embed":Un("load",c);break;case"video":case"audio":for(p=0;p<e1.length;p++)Un(e1[p],c);break;case"source":Un("error",c);break;case"img":case"image":case"link":Un("error",c),Un("load",c);break;case"details":Un("toggle",c);break;case"input":Un("invalid",c),Wl(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),za(c);break;case"select":Un("invalid",c);break;case"textarea":Un("invalid",c),Ws(c,v.value,v.defaultValue,v.children),za(c)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||v.suppressHydrationWarning===!0||NE(c.textContent,p)?(v.popover!=null&&(Un("beforetoggle",c),Un("toggle",c)),v.onScroll!=null&&Un("scroll",c),v.onScrollEnd!=null&&Un("scrollend",c),v.onClick!=null&&(c.onclick=iy),c=!0):c=!1,c||nd(o)}function tu(o){for(na=o.return;na;)switch(na.tag){case 5:case 13:ml=!1;return;case 27:case 3:ml=!0;return;default:na=na.return}}function os(o){if(o!==na)return!1;if(!tr)return tu(o),tr=!0,!1;var c=o.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||p5(o.type,o.memoizedProps)),p=!p),p&&bi&&nd(o),tu(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(p=o.data,p==="/$"){if(c===0){bi=uu(o.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++;o=o.nextSibling}bi=null}}else c===27?(c=bi,Cf(o.type)?(o=y5,y5=null,bi=o):bi=c):bi=na?uu(o.stateNode.nextSibling):null;return!0}function Zs(){bi=na=null,tr=!1}function Ab(){var o=Gu;return o!==null&&(mo===null?mo=o:mo.push.apply(mo,o),Gu=null),o}function of(o){Gu===null?Gu=[o]:Gu.push(o)}var gl=ae(null),Ca=null,nu=null;function Qu(o,c,p){z(gl,c._currentValue),c._currentValue=p}function bl(o){o._currentValue=gl.current,U(gl)}function zp(o,c,p){for(;o!==null;){var v=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),o===p)break;o=o.return}}function qp(o,c,p,v){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var I=E.dependencies;if(I!==null){var J=E.child;I=I.firstContext;e:for(;I!==null;){var pe=I;I=E;for(var Te=0;Te<c.length;Te++)if(pe.context===c[Te]){I.lanes|=p,pe=I.alternate,pe!==null&&(pe.lanes|=p),zp(I.return,p,o),v||(J=null);break e}I=pe.next}}else if(E.tag===18){if(J=E.return,J===null)throw Error(r(341));J.lanes|=p,I=J.alternate,I!==null&&(I.lanes|=p),zp(J,p,o),J=null}else J=E.child;if(J!==null)J.return=E;else for(J=E;J!==null;){if(J===o){J=null;break}if(E=J.sibling,E!==null){E.return=J.return,J=E;break}J=J.return}E=J}}function lf(o,c,p,v){o=null;for(var E=c,I=!1;E!==null;){if(!I){if((E.flags&524288)!==0)I=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var J=E.alternate;if(J===null)throw Error(r(387));if(J=J.memoizedProps,J!==null){var pe=E.type;Sa(E.pendingProps.value,J.value)||(o!==null?o.push(pe):o=[pe])}}else if(E===we.current){if(J=E.alternate,J===null)throw Error(r(387));J.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(s1):o=[s1])}E=E.return}o!==null&&qp(c,o,p,v),c.flags|=262144}function Bp(o){for(o=o.firstContext;o!==null;){if(!Sa(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function yl(o){Ca=o,nu=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ra(o){return Up(Ca,o)}function Ku(o,c){return Ca===null&&yl(o),Up(o,c)}function Up(o,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},nu===null){if(o===null)throw Error(r(308));nu=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else nu=nu.next=c;return p}var A2=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(p,v){o.push(v)}};this.abort=function(){c.aborted=!0,o.forEach(function(p){return p()})}},Cb=e.unstable_scheduleCallback,C2=e.unstable_NormalPriority,ia={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tm(){return{controller:new A2,data:new Map,refCount:0}}function _h(o){o.refCount--,o.refCount===0&&Cb(C2,function(){o.controller.abort()})}var kh=null,jm=0,rd=0,ru=null;function E2(o,c){if(kh===null){var p=kh=[];jm=0,rd=a5(),ru={status:"pending",value:void 0,then:function(v){p.push(v)}}}return jm++,c.then(Eb,Eb),c}function Eb(){if(--jm===0&&kh!==null){ru!==null&&(ru.status="fulfilled");var o=kh;kh=null,rd=0,ru=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function _b(o,c){var p=[],v={status:"pending",value:null,reason:null,then:function(E){p.push(E)}};return o.then(function(){v.status="fulfilled",v.value=c;for(var E=0;E<p.length;E++)(0,p[E])(c)},function(E){for(v.status="rejected",v.reason=E,E=0;E<p.length;E++)(0,p[E])(void 0)}),v}var S=W.S;W.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&E2(o,c),S!==null&&S(o,c)};var _=ae(null);function M(){var o=_.current;return o!==null?o:ni.pooledCache}function V(o,c){c===null?z(_,_.current):z(_,c.pool)}function ne(){var o=M();return o===null?null:{parent:ia._currentValue,pool:o}}var le=Error(r(460)),ue=Error(r(474)),fe=Error(r(542)),ye={then:function(){}};function Ce(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Fe(){}function Ke(o,c,p){switch(p=o[p],p===void 0?o.push(c):p!==c&&(c.then(Fe,Fe),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,xt(o),o;default:if(typeof c.status=="string")c.then(Fe,Fe);else{if(o=ni,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(v){if(c.status==="pending"){var E=c;E.status="fulfilled",E.value=v}},function(v){if(c.status==="pending"){var E=c;E.status="rejected",E.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,xt(o),o}throw Ge=c,le}}var Ge=null;function $e(){if(Ge===null)throw Error(r(459));var o=Ge;return Ge=null,o}function xt(o){if(o===le||o===fe)throw Error(r(483))}var it=!1;function ze(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ue(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function pt(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function vt(o,c,p){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(Or&2)!==0){var E=v.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),v.pending=c,c=Zc(o),Mp(o,null,p),c}return Wu(o,v,c,p),Zc(o)}function gt(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var v=c.lanes;v&=o.pendingLanes,p|=v,c.lanes=p,An(o,p)}}function It(o,c){var p=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var E=null,I=null;if(p=p.firstBaseUpdate,p!==null){do{var J={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};I===null?E=I=J:I=I.next=J,p=p.next}while(p!==null);I===null?E=I=c:I=I.next=c}else E=I=c;p={baseState:v.baseState,firstBaseUpdate:E,lastBaseUpdate:I,shared:v.shared,callbacks:v.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}var Nt=!1;function Qt(){if(Nt){var o=ru;if(o!==null)throw o}}function Tt(o,c,p,v){Nt=!1;var E=o.updateQueue;it=!1;var I=E.firstBaseUpdate,J=E.lastBaseUpdate,pe=E.shared.pending;if(pe!==null){E.shared.pending=null;var Te=pe,Ze=Te.next;Te.next=null,J===null?I=Ze:J.next=Ze,J=Te;var mt=o.alternate;mt!==null&&(mt=mt.updateQueue,pe=mt.lastBaseUpdate,pe!==J&&(pe===null?mt.firstBaseUpdate=Ze:pe.next=Ze,mt.lastBaseUpdate=Te))}if(I!==null){var St=E.baseState;J=0,mt=Ze=Te=null,pe=I;do{var tt=pe.lane&-536870913,rt=tt!==pe.lane;if(rt?(Gn&tt)===tt:(v&tt)===tt){tt!==0&&tt===rd&&(Nt=!0),mt!==null&&(mt=mt.next={lane:0,tag:pe.tag,payload:pe.payload,callback:null,next:null});e:{var dn=o,rn=pe;tt=c;var Br=p;switch(rn.tag){case 1:if(dn=rn.payload,typeof dn=="function"){St=dn.call(Br,St,tt);break e}St=dn;break e;case 3:dn.flags=dn.flags&-65537|128;case 0:if(dn=rn.payload,tt=typeof dn=="function"?dn.call(Br,St,tt):dn,tt==null)break e;St=f({},St,tt);break e;case 2:it=!0}}tt=pe.callback,tt!==null&&(o.flags|=64,rt&&(o.flags|=8192),rt=E.callbacks,rt===null?E.callbacks=[tt]:rt.push(tt))}else rt={lane:tt,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},mt===null?(Ze=mt=rt,Te=St):mt=mt.next=rt,J|=tt;if(pe=pe.next,pe===null){if(pe=E.shared.pending,pe===null)break;rt=pe,pe=rt.next,rt.next=null,E.lastBaseUpdate=rt,E.shared.pending=null}}while(!0);mt===null&&(Te=St),E.baseState=Te,E.firstBaseUpdate=Ze,E.lastBaseUpdate=mt,I===null&&(E.shared.lanes=0),vf|=J,o.lanes=J,o.memoizedState=St}}function Yn(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function sr(o,c){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)Yn(p[o],c)}var In=ae(null),jn=ae(0);function Er(o,c){o=hd,z(jn,o),z(In,c),hd=o|c.baseLanes}function or(){z(jn,hd),z(In,In.current)}function mn(){hd=jn.current,U(In),U(jn)}var jr=0,en=null,un=null,Wn=null,Vn=!1,Ea=!1,aa=!1,Ti=0,ji=0,Ui=null,ho=0;function lr(){throw Error(r(321))}function $i(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!Sa(o[p],c[p]))return!1;return!0}function Ro(o,c,p,v,E,I){return jr=I,en=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,W.H=o===null||o.memoizedState===null?lC:uC,aa=!1,I=p(v,E),aa=!1,Ea&&(I=id(c,p,v,E)),Xu(o),I}function Xu(o){W.H=Pb;var c=un!==null&&un.next!==null;if(jr=0,Wn=un=en=null,Vn=!1,ji=0,Ui=null,c)throw Error(r(300));o===null||Ya||(o=o.dependencies,o!==null&&Bp(o)&&(Ya=!0))}function id(o,c,p,v){en=o;var E=0;do{if(Ea&&(Ui=null),ji=0,Ea=!1,25<=E)throw Error(r(301));if(E+=1,Wn=un=null,o.updateQueue!=null){var I=o.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}W.H=t9,I=c(p,v)}while(Ea);return I}function Zu(){var o=W.H,c=o.useState()[0];return c=typeof c.then=="function"?Ju(c):c,o=o.useState()[0],(un!==null?un.memoizedState:null)!==o&&(en.flags|=1024),c}function ti(){var o=Ti!==0;return Ti=0,o}function Nh(o,c,p){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~p}function $p(o){if(Vn){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Vn=!1}jr=0,Wn=un=en=null,Ea=!1,ji=Ti=0,Ui=null}function ls(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?en.memoizedState=Wn=o:Wn=Wn.next=o,Wn}function ui(){if(un===null){var o=en.alternate;o=o!==null?o.memoizedState:null}else o=un.next;var c=Wn===null?en.memoizedState:Wn.next;if(c!==null)Wn=c,un=o;else{if(o===null)throw en.alternate===null?Error(r(467)):Error(r(310));un=o,o={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},Wn===null?en.memoizedState=Wn=o:Wn=Wn.next=o}return Wn}function ad(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ju(o){var c=ji;return ji+=1,Ui===null&&(Ui=[]),o=Ke(Ui,o,c),c=en,(Wn===null?c.memoizedState:Wn.next)===null&&(c=c.alternate,W.H=c===null||c.memoizedState===null?lC:uC),o}function ks(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Ju(o);if(o.$$typeof===N)return ra(o)}throw Error(r(438,String(o)))}function ec(o){var c=null,p=en.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var v=en.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(E){return E.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=ad(),en.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(o),v=0;v<o;v++)p[v]=X;return c.index++,p}function Ns(o,c){return typeof c=="function"?c(o):c}function Th(o){var c=ui();return uf(c,un,o)}function uf(o,c,p){var v=o.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=p;var E=o.baseQueue,I=v.pending;if(I!==null){if(E!==null){var J=E.next;E.next=I.next,I.next=J}c.baseQueue=E=I,v.pending=null}if(I=o.baseState,E===null)o.memoizedState=I;else{c=E.next;var pe=J=null,Te=null,Ze=c,mt=!1;do{var St=Ze.lane&-536870913;if(St!==Ze.lane?(Gn&St)===St:(jr&St)===St){var tt=Ze.revertLane;if(tt===0)Te!==null&&(Te=Te.next={lane:0,revertLane:0,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null}),St===rd&&(mt=!0);else if((jr&tt)===tt){Ze=Ze.next,tt===rd&&(mt=!0);continue}else St={lane:0,revertLane:Ze.revertLane,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null},Te===null?(pe=Te=St,J=I):Te=Te.next=St,en.lanes|=tt,vf|=tt;St=Ze.action,aa&&p(I,St),I=Ze.hasEagerState?Ze.eagerState:p(I,St)}else tt={lane:St,revertLane:Ze.revertLane,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null},Te===null?(pe=Te=tt,J=I):Te=Te.next=tt,en.lanes|=St,vf|=St;Ze=Ze.next}while(Ze!==null&&Ze!==c);if(Te===null?J=I:Te.next=pe,!Sa(I,o.memoizedState)&&(Ya=!0,mt&&(p=ru,p!==null)))throw p;o.memoizedState=I,o.baseState=J,o.baseQueue=Te,v.lastRenderedState=I}return E===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function Hp(o){var c=ui(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var v=p.dispatch,E=p.pending,I=c.memoizedState;if(E!==null){p.pending=null;var J=E=E.next;do I=o(I,J.action),J=J.next;while(J!==E);Sa(I,c.memoizedState)||(Ya=!0),c.memoizedState=I,c.baseQueue===null&&(c.baseState=I),p.lastRenderedState=I}return[I,v]}function jh(o,c,p){var v=en,E=ui(),I=tr;if(I){if(p===void 0)throw Error(r(407));p=p()}else p=c();var J=!Sa((un||E).memoizedState,p);J&&(E.memoizedState=p,Ya=!0),E=E.queue;var pe=cf.bind(null,v,E,o);if(hf(2048,8,pe,[o]),E.getSnapshot!==c||J||Wn!==null&&Wn.memoizedState.tag&1){if(v.flags|=2048,au(9,Lh(),Oh.bind(null,v,E,p,c),null),ni===null)throw Error(r(349));I||(jr&124)!==0||Wp(v,c,p)}return p}function Wp(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=en.updateQueue,c===null?(c=ad(),en.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function Oh(o,c,p,v){c.value=p,c.getSnapshot=v,kb(c)&&Nb(o)}function cf(o,c,p){return p(function(){kb(c)&&Nb(o)})}function kb(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!Sa(o,p)}catch{return!0}}function Nb(o){var c=Kl(o,2);c!==null&&Bo(c,o,2)}function Ih(o){var c=ls();if(typeof o=="function"){var p=o;if(o=p(),aa){ke(!0);try{p()}finally{ke(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:o},c}function iu(o,c,p,v){return o.baseState=p,uf(o,un,typeof v=="function"?v:Ns)}function _2(o,c,p,v,E){if(Fb(o))throw Error(r(485));if(o=c.action,o!==null){var I={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){I.listeners.push(J)}};W.T!==null?p(!0):I.isTransition=!1,v(I),p=c.pending,p===null?(I.next=c.pending=I,Tb(c,I)):(I.next=p.next,c.pending=p.next=I)}}function Tb(o,c){var p=c.action,v=c.payload,E=o.state;if(c.isTransition){var I=W.T,J={};W.T=J;try{var pe=p(E,v),Te=W.S;Te!==null&&Te(J,pe),jb(o,c,pe)}catch(Ze){df(o,c,Ze)}finally{W.T=I}}else try{I=p(E,v),jb(o,c,I)}catch(Ze){df(o,c,Ze)}}function jb(o,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){Om(o,c,v)},function(v){return df(o,c,v)}):Om(o,c,p)}function Om(o,c,p){c.status="fulfilled",c.value=p,Im(c),o.state=p,c=o.pending,c!==null&&(p=c.next,p===c?o.pending=null:(p=p.next,c.next=p,Tb(o,p)))}function df(o,c,p){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=p,Im(c),c=c.next;while(c!==v)}o.action=null}function Im(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function Dm(o,c){return c}function Dh(o,c){if(tr){var p=ni.formState;if(p!==null){e:{var v=en;if(tr){if(bi){t:{for(var E=bi,I=ml;E.nodeType!==8;){if(!I){E=null;break t}if(E=uu(E.nextSibling),E===null){E=null;break t}}I=E.data,E=I==="F!"||I==="F"?E:null}if(E){bi=uu(E.nextSibling),v=E.data==="F!";break e}}nd(v)}v=!1}v&&(c=p[0])}}return p=ls(),p.memoizedState=p.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dm,lastRenderedState:c},p.queue=v,p=aC.bind(null,en,v),v.dispatch=p,v=Ih(!1),I=k2.bind(null,en,!1,v.queue),v=ls(),E={state:c,dispatch:null,action:o,pending:null},v.queue=E,p=_2.bind(null,en,E,I,p),E.dispatch=p,v.memoizedState=o,[c,p,!1]}function Yp(o){var c=ui();return ff(c,un,o)}function ff(o,c,p){if(c=uf(o,c,Dm)[0],o=Th(Ns)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=Ju(c)}catch(J){throw J===le?fe:J}else v=c;c=ui();var E=c.queue,I=E.dispatch;return p!==c.memoizedState&&(en.flags|=2048,au(9,Lh(),Ob.bind(null,E,p),null)),[v,I,o]}function Ob(o,c){o.action=c}function Ib(o){var c=ui(),p=un;if(p!==null)return ff(c,p,o);ui(),c=c.memoizedState,p=ui();var v=p.queue.dispatch;return p.memoizedState=o,[c,v,!1]}function au(o,c,p,v){return o={tag:o,create:p,deps:v,inst:c,next:null},c=en.updateQueue,c===null&&(c=ad(),en.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=o.next=o:(v=p.next,p.next=o,o.next=v,c.lastEffect=o),o}function Lh(){return{destroy:void 0,resource:void 0}}function Vp(){return ui().memoizedState}function Mo(o,c,p,v){var E=ls();v=v===void 0?null:v,en.flags|=o,E.memoizedState=au(1|c,Lh(),p,v)}function hf(o,c,p,v){var E=ui();v=v===void 0?null:v;var I=E.memoizedState.inst;un!==null&&v!==null&&$i(v,un.memoizedState.deps)?E.memoizedState=au(c,I,p,v):(en.flags|=o,E.memoizedState=au(1|c,I,p,v))}function Lm(o,c){Mo(8390656,8,o,c)}function Db(o,c){hf(2048,8,o,c)}function Rm(o,c){return hf(4,2,o,c)}function sd(o,c){return hf(4,4,o,c)}function Lb(o,c){if(typeof c=="function"){o=o();var p=c(o);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Mm(o,c,p){p=p!=null?p.concat([o]):null,hf(4,4,Lb.bind(null,c,o),p)}function Fm(){}function Pm(o,c){var p=ui();c=c===void 0?null:c;var v=p.memoizedState;return c!==null&&$i(c,v[1])?v[0]:(p.memoizedState=[o,c],o)}function Rb(o,c){var p=ui();c=c===void 0?null:c;var v=p.memoizedState;if(c!==null&&$i(c,v[1]))return v[0];if(v=o(),aa){ke(!0);try{o()}finally{ke(!1)}}return p.memoizedState=[v,c],v}function od(o,c,p){return p===void 0||(jr&1073741824)!==0?o.memoizedState=c:(o.memoizedState=p,o=tE(),en.lanes|=o,vf|=o,p)}function Gp(o,c,p,v){return Sa(p,c)?p:In.current!==null?(o=od(o,p,v),Sa(o,c)||(Ya=!0),o):(jr&42)===0?(Ya=!0,o.memoizedState=p):(o=tE(),en.lanes|=o,vf|=o,c)}function Rh(o,c,p,v,E){var I=K.p;K.p=I!==0&&8>I?I:8;var J=W.T,pe={};W.T=pe,k2(o,!1,c,p);try{var Te=E(),Ze=W.S;if(Ze!==null&&Ze(pe,Te),Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var mt=_b(Te,v);Um(o,c,mt,qo(o))}else Um(o,c,v,qo(o))}catch(St){Um(o,c,{then:function(){},status:"rejected",reason:St},qo())}finally{K.p=I,W.T=J}}function su(){}function xl(o,c,p,v){if(o.tag!==5)throw Error(r(476));var E=ou(o).queue;Rh(o,E,c,ie,p===null?su:function(){return Mh(o),p(v)})}function ou(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:ie},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:p},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function Mh(o){var c=ou(o).next.queue;Um(o,c,{},qo())}function Fh(){return ra(s1)}function zm(){return ui().memoizedState}function Mb(){return ui().memoizedState}function qm(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var p=qo();o=pt(p);var v=vt(c,o,p);v!==null&&(Bo(v,c,p),gt(v,c,p)),c={cache:Tm()},o.payload=c;return}c=c.return}}function Bm(o,c,p){var v=qo();p={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},Fb(o)?sC(c,p):(p=Yu(o,c,p,v),p!==null&&(Bo(p,o,v),oC(p,c,v)))}function aC(o,c,p){var v=qo();Um(o,c,p,v)}function Um(o,c,p,v){var E={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(Fb(o))sC(c,E);else{var I=o.alternate;if(o.lanes===0&&(I===null||I.lanes===0)&&(I=c.lastRenderedReducer,I!==null))try{var J=c.lastRenderedState,pe=I(J,p);if(E.hasEagerState=!0,E.eagerState=pe,Sa(pe,J))return Wu(o,c,E,0),ni===null&&uo(),!1}catch{}finally{}if(p=Yu(o,c,E,v),p!==null)return Bo(p,o,v),oC(p,c,v),!0}return!1}function k2(o,c,p,v){if(v={lane:2,revertLane:a5(),action:v,hasEagerState:!1,eagerState:null,next:null},Fb(o)){if(c)throw Error(r(479))}else c=Yu(o,p,v,2),c!==null&&Bo(c,o,2)}function Fb(o){var c=o.alternate;return o===en||c!==null&&c===en}function sC(o,c){Ea=Vn=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function oC(o,c,p){if((p&4194048)!==0){var v=c.lanes;v&=o.pendingLanes,p|=v,c.lanes=p,An(o,p)}}var Pb={readContext:ra,use:ks,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useLayoutEffect:lr,useInsertionEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useSyncExternalStore:lr,useId:lr,useHostTransitionStatus:lr,useFormState:lr,useActionState:lr,useOptimistic:lr,useMemoCache:lr,useCacheRefresh:lr},lC={readContext:ra,use:ks,useCallback:function(o,c){return ls().memoizedState=[o,c===void 0?null:c],o},useContext:ra,useEffect:Lm,useImperativeHandle:function(o,c,p){p=p!=null?p.concat([o]):null,Mo(4194308,4,Lb.bind(null,c,o),p)},useLayoutEffect:function(o,c){return Mo(4194308,4,o,c)},useInsertionEffect:function(o,c){Mo(4,2,o,c)},useMemo:function(o,c){var p=ls();c=c===void 0?null:c;var v=o();if(aa){ke(!0);try{o()}finally{ke(!1)}}return p.memoizedState=[v,c],v},useReducer:function(o,c,p){var v=ls();if(p!==void 0){var E=p(c);if(aa){ke(!0);try{p(c)}finally{ke(!1)}}}else E=c;return v.memoizedState=v.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},v.queue=o,o=o.dispatch=Bm.bind(null,en,o),[v.memoizedState,o]},useRef:function(o){var c=ls();return o={current:o},c.memoizedState=o},useState:function(o){o=Ih(o);var c=o.queue,p=aC.bind(null,en,c);return c.dispatch=p,[o.memoizedState,p]},useDebugValue:Fm,useDeferredValue:function(o,c){var p=ls();return od(p,o,c)},useTransition:function(){var o=Ih(!1);return o=Rh.bind(null,en,o.queue,!0,!1),ls().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,p){var v=en,E=ls();if(tr){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),ni===null)throw Error(r(349));(Gn&124)!==0||Wp(v,c,p)}E.memoizedState=p;var I={value:p,getSnapshot:c};return E.queue=I,Lm(cf.bind(null,v,I,o),[o]),v.flags|=2048,au(9,Lh(),Oh.bind(null,v,I,p,c),null),p},useId:function(){var o=ls(),c=ni.identifierPrefix;if(tr){var p=eu,v=Jl;p=(v&~(1<<32-je(v)-1)).toString(32)+p,c=""+c+"R"+p,p=Ti++,0<p&&(c+="H"+p.toString(32)),c+=""}else p=ho++,c=""+c+"r"+p.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:Fh,useFormState:Dh,useActionState:Dh,useOptimistic:function(o){var c=ls();c.memoizedState=c.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=k2.bind(null,en,!0,p),p.dispatch=c,[o,c]},useMemoCache:ec,useCacheRefresh:function(){return ls().memoizedState=qm.bind(null,en)}},uC={readContext:ra,use:ks,useCallback:Pm,useContext:ra,useEffect:Db,useImperativeHandle:Mm,useInsertionEffect:Rm,useLayoutEffect:sd,useMemo:Rb,useReducer:Th,useRef:Vp,useState:function(){return Th(Ns)},useDebugValue:Fm,useDeferredValue:function(o,c){var p=ui();return Gp(p,un.memoizedState,o,c)},useTransition:function(){var o=Th(Ns)[0],c=ui().memoizedState;return[typeof o=="boolean"?o:Ju(o),c]},useSyncExternalStore:jh,useId:zm,useHostTransitionStatus:Fh,useFormState:Yp,useActionState:Yp,useOptimistic:function(o,c){var p=ui();return iu(p,un,o,c)},useMemoCache:ec,useCacheRefresh:Mb},t9={readContext:ra,use:ks,useCallback:Pm,useContext:ra,useEffect:Db,useImperativeHandle:Mm,useInsertionEffect:Rm,useLayoutEffect:sd,useMemo:Rb,useReducer:Hp,useRef:Vp,useState:function(){return Hp(Ns)},useDebugValue:Fm,useDeferredValue:function(o,c){var p=ui();return un===null?od(p,o,c):Gp(p,un.memoizedState,o,c)},useTransition:function(){var o=Hp(Ns)[0],c=ui().memoizedState;return[typeof o=="boolean"?o:Ju(o),c]},useSyncExternalStore:jh,useId:zm,useHostTransitionStatus:Fh,useFormState:Ib,useActionState:Ib,useOptimistic:function(o,c){var p=ui();return un!==null?iu(p,un,o,c):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:ec,useCacheRefresh:Mb},Qp=null,$m=0;function zb(o){var c=$m;return $m+=1,Qp===null&&(Qp=[]),Ke(Qp,o,c)}function Hm(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function qb(o,c){throw c.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function cC(o){var c=o._init;return c(o._payload)}function dC(o){function c(He,Be){if(o){var Qe=He.deletions;Qe===null?(He.deletions=[Be],He.flags|=16):Qe.push(Be)}}function p(He,Be){if(!o)return null;for(;Be!==null;)c(He,Be),Be=Be.sibling;return null}function v(He){for(var Be=new Map;He!==null;)He.key!==null?Be.set(He.key,He):Be.set(He.index,He),He=He.sibling;return Be}function E(He,Be){return He=pl(He,Be),He.index=0,He.sibling=null,He}function I(He,Be,Qe){return He.index=Qe,o?(Qe=He.alternate,Qe!==null?(Qe=Qe.index,Qe<Be?(He.flags|=67108866,Be):Qe):(He.flags|=67108866,Be)):(He.flags|=1048576,Be)}function J(He){return o&&He.alternate===null&&(He.flags|=67108866),He}function pe(He,Be,Qe,bt){return Be===null||Be.tag!==6?(Be=Fp(Qe,He.mode,bt),Be.return=He,Be):(Be=E(Be,Qe),Be.return=He,Be)}function Te(He,Be,Qe,bt){var zt=Qe.type;return zt===x?mt(He,Be,Qe.props.children,bt,Qe.key):Be!==null&&(Be.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===L&&cC(zt)===Be.type)?(Be=E(Be,Qe.props),Hm(Be,Qe),Be.return=He,Be):(Be=Jc(Qe.type,Qe.key,Qe.props,null,He.mode,bt),Hm(Be,Qe),Be.return=He,Be)}function Ze(He,Be,Qe,bt){return Be===null||Be.tag!==4||Be.stateNode.containerInfo!==Qe.containerInfo||Be.stateNode.implementation!==Qe.implementation?(Be=Ah(Qe,He.mode,bt),Be.return=He,Be):(Be=E(Be,Qe.children||[]),Be.return=He,Be)}function mt(He,Be,Qe,bt,zt){return Be===null||Be.tag!==7?(Be=Xl(Qe,He.mode,bt,zt),Be.return=He,Be):(Be=E(Be,Qe),Be.return=He,Be)}function St(He,Be,Qe){if(typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint")return Be=Fp(""+Be,He.mode,Qe),Be.return=He,Be;if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case b:return Qe=Jc(Be.type,Be.key,Be.props,null,He.mode,Qe),Hm(Qe,Be),Qe.return=He,Qe;case m:return Be=Ah(Be,He.mode,Qe),Be.return=He,Be;case L:var bt=Be._init;return Be=bt(Be._payload),St(He,Be,Qe)}if(G(Be)||O(Be))return Be=Xl(Be,He.mode,Qe,null),Be.return=He,Be;if(typeof Be.then=="function")return St(He,zb(Be),Qe);if(Be.$$typeof===N)return St(He,Ku(He,Be),Qe);qb(He,Be)}return null}function tt(He,Be,Qe,bt){var zt=Be!==null?Be.key:null;if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return zt!==null?null:pe(He,Be,""+Qe,bt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case b:return Qe.key===zt?Te(He,Be,Qe,bt):null;case m:return Qe.key===zt?Ze(He,Be,Qe,bt):null;case L:return zt=Qe._init,Qe=zt(Qe._payload),tt(He,Be,Qe,bt)}if(G(Qe)||O(Qe))return zt!==null?null:mt(He,Be,Qe,bt,null);if(typeof Qe.then=="function")return tt(He,Be,zb(Qe),bt);if(Qe.$$typeof===N)return tt(He,Be,Ku(He,Qe),bt);qb(He,Qe)}return null}function rt(He,Be,Qe,bt,zt){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return He=He.get(Qe)||null,pe(Be,He,""+bt,zt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case b:return He=He.get(bt.key===null?Qe:bt.key)||null,Te(Be,He,bt,zt);case m:return He=He.get(bt.key===null?Qe:bt.key)||null,Ze(Be,He,bt,zt);case L:var Mn=bt._init;return bt=Mn(bt._payload),rt(He,Be,Qe,bt,zt)}if(G(bt)||O(bt))return He=He.get(Qe)||null,mt(Be,He,bt,zt,null);if(typeof bt.then=="function")return rt(He,Be,Qe,zb(bt),zt);if(bt.$$typeof===N)return rt(He,Be,Qe,Ku(Be,bt),zt);qb(Be,bt)}return null}function dn(He,Be,Qe,bt){for(var zt=null,Mn=null,Xt=Be,sn=Be=0,Ga=null;Xt!==null&&sn<Qe.length;sn++){Xt.index>sn?(Ga=Xt,Xt=null):Ga=Xt.sibling;var ur=tt(He,Xt,Qe[sn],bt);if(ur===null){Xt===null&&(Xt=Ga);break}o&&Xt&&ur.alternate===null&&c(He,Xt),Be=I(ur,Be,sn),Mn===null?zt=ur:Mn.sibling=ur,Mn=ur,Xt=Ga}if(sn===Qe.length)return p(He,Xt),tr&&td(He,sn),zt;if(Xt===null){for(;sn<Qe.length;sn++)Xt=St(He,Qe[sn],bt),Xt!==null&&(Be=I(Xt,Be,sn),Mn===null?zt=Xt:Mn.sibling=Xt,Mn=Xt);return tr&&td(He,sn),zt}for(Xt=v(Xt);sn<Qe.length;sn++)Ga=rt(Xt,He,sn,Qe[sn],bt),Ga!==null&&(o&&Ga.alternate!==null&&Xt.delete(Ga.key===null?sn:Ga.key),Be=I(Ga,Be,sn),Mn===null?zt=Ga:Mn.sibling=Ga,Mn=Ga);return o&&Xt.forEach(function(Tf){return c(He,Tf)}),tr&&td(He,sn),zt}function rn(He,Be,Qe,bt){if(Qe==null)throw Error(r(151));for(var zt=null,Mn=null,Xt=Be,sn=Be=0,Ga=null,ur=Qe.next();Xt!==null&&!ur.done;sn++,ur=Qe.next()){Xt.index>sn?(Ga=Xt,Xt=null):Ga=Xt.sibling;var Tf=tt(He,Xt,ur.value,bt);if(Tf===null){Xt===null&&(Xt=Ga);break}o&&Xt&&Tf.alternate===null&&c(He,Xt),Be=I(Tf,Be,sn),Mn===null?zt=Tf:Mn.sibling=Tf,Mn=Tf,Xt=Ga}if(ur.done)return p(He,Xt),tr&&td(He,sn),zt;if(Xt===null){for(;!ur.done;sn++,ur=Qe.next())ur=St(He,ur.value,bt),ur!==null&&(Be=I(ur,Be,sn),Mn===null?zt=ur:Mn.sibling=ur,Mn=ur);return tr&&td(He,sn),zt}for(Xt=v(Xt);!ur.done;sn++,ur=Qe.next())ur=rt(Xt,He,sn,ur.value,bt),ur!==null&&(o&&ur.alternate!==null&&Xt.delete(ur.key===null?sn:ur.key),Be=I(ur,Be,sn),Mn===null?zt=ur:Mn.sibling=ur,Mn=ur);return o&&Xt.forEach(function(nR){return c(He,nR)}),tr&&td(He,sn),zt}function Br(He,Be,Qe,bt){if(typeof Qe=="object"&&Qe!==null&&Qe.type===x&&Qe.key===null&&(Qe=Qe.props.children),typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case b:e:{for(var zt=Qe.key;Be!==null;){if(Be.key===zt){if(zt=Qe.type,zt===x){if(Be.tag===7){p(He,Be.sibling),bt=E(Be,Qe.props.children),bt.return=He,He=bt;break e}}else if(Be.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===L&&cC(zt)===Be.type){p(He,Be.sibling),bt=E(Be,Qe.props),Hm(bt,Qe),bt.return=He,He=bt;break e}p(He,Be);break}else c(He,Be);Be=Be.sibling}Qe.type===x?(bt=Xl(Qe.props.children,He.mode,bt,Qe.key),bt.return=He,He=bt):(bt=Jc(Qe.type,Qe.key,Qe.props,null,He.mode,bt),Hm(bt,Qe),bt.return=He,He=bt)}return J(He);case m:e:{for(zt=Qe.key;Be!==null;){if(Be.key===zt)if(Be.tag===4&&Be.stateNode.containerInfo===Qe.containerInfo&&Be.stateNode.implementation===Qe.implementation){p(He,Be.sibling),bt=E(Be,Qe.children||[]),bt.return=He,He=bt;break e}else{p(He,Be);break}else c(He,Be);Be=Be.sibling}bt=Ah(Qe,He.mode,bt),bt.return=He,He=bt}return J(He);case L:return zt=Qe._init,Qe=zt(Qe._payload),Br(He,Be,Qe,bt)}if(G(Qe))return dn(He,Be,Qe,bt);if(O(Qe)){if(zt=O(Qe),typeof zt!="function")throw Error(r(150));return Qe=zt.call(Qe),rn(He,Be,Qe,bt)}if(typeof Qe.then=="function")return Br(He,Be,zb(Qe),bt);if(Qe.$$typeof===N)return Br(He,Be,Ku(He,Qe),bt);qb(He,Qe)}return typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint"?(Qe=""+Qe,Be!==null&&Be.tag===6?(p(He,Be.sibling),bt=E(Be,Qe),bt.return=He,He=bt):(p(He,Be),bt=Fp(Qe,He.mode,bt),bt.return=He,He=bt),J(He)):p(He,Be)}return function(He,Be,Qe,bt){try{$m=0;var zt=Br(He,Be,Qe,bt);return Qp=null,zt}catch(Xt){if(Xt===le||Xt===fe)throw Xt;var Mn=Wa(29,Xt,null,He.mode);return Mn.lanes=bt,Mn.return=He,Mn}finally{}}}var Kp=dC(!0),fC=dC(!1),vl=ae(null),tc=null;function pf(o){var c=o.alternate;z(Ra,Ra.current&1),z(vl,o),tc===null&&(c===null||In.current!==null||c.memoizedState!==null)&&(tc=o)}function hC(o){if(o.tag===22){if(z(Ra,Ra.current),z(vl,o),tc===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(tc=o)}}else mf()}function mf(){z(Ra,Ra.current),z(vl,vl.current)}function ld(o){U(vl),tc===o&&(tc=null),U(Ra)}var Ra=ae(0);function Bb(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||b5(p)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function N2(o,c,p,v){c=o.memoizedState,p=p(v,c),p=p==null?c:f({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var T2={enqueueSetState:function(o,c,p){o=o._reactInternals;var v=qo(),E=pt(v);E.payload=c,p!=null&&(E.callback=p),c=vt(o,E,v),c!==null&&(Bo(c,o,v),gt(c,o,v))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var v=qo(),E=pt(v);E.tag=1,E.payload=c,p!=null&&(E.callback=p),c=vt(o,E,v),c!==null&&(Bo(c,o,v),gt(c,o,v))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=qo(),v=pt(p);v.tag=2,c!=null&&(v.callback=c),c=vt(o,v,p),c!==null&&(Bo(c,o,p),gt(c,o,p))}};function pC(o,c,p,v,E,I,J){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,I,J):c.prototype&&c.prototype.isPureReactComponent?!Pu(p,v)||!Pu(E,I):!0}function mC(o,c,p,v){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,v),c.state!==o&&T2.enqueueReplaceState(c,c.state,null)}function Ph(o,c){var p=c;if("ref"in c){p={};for(var v in c)v!=="ref"&&(p[v]=c[v])}if(o=o.defaultProps){p===c&&(p=f({},p));for(var E in o)p[E]===void 0&&(p[E]=o[E])}return p}var Ub=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function gC(o){Ub(o)}function bC(o){console.error(o)}function yC(o){Ub(o)}function $b(o,c){try{var p=o.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function xC(o,c,p){try{var v=o.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function j2(o,c,p){return p=pt(p),p.tag=3,p.payload={element:null},p.callback=function(){$b(o,c)},p}function vC(o){return o=pt(o),o.tag=3,o}function wC(o,c,p,v){var E=p.type.getDerivedStateFromError;if(typeof E=="function"){var I=v.value;o.payload=function(){return E(I)},o.callback=function(){xC(c,p,v)}}var J=p.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(o.callback=function(){xC(c,p,v),typeof E!="function"&&(wf===null?wf=new Set([this]):wf.add(this));var pe=v.stack;this.componentDidCatch(v.value,{componentStack:pe!==null?pe:""})})}function n9(o,c,p,v,E){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=p.alternate,c!==null&&lf(c,p,E,!0),p=vl.current,p!==null){switch(p.tag){case 13:return tc===null?e5():p.alternate===null&&Hi===0&&(Hi=3),p.flags&=-257,p.flags|=65536,p.lanes=E,v===ye?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([v]):c.add(v),n5(o,v,E)),!1;case 22:return p.flags|=65536,v===ye?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([v]):p.add(v)),n5(o,v,E)),!1}throw Error(r(435,p.tag))}return n5(o,v,E),e5(),!1}if(tr)return c=vl.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=E,v!==Nm&&(o=Error(r(422),{cause:v}),of(Dn(o,p)))):(v!==Nm&&(c=Error(r(423),{cause:v}),of(Dn(c,p))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,v=Dn(v,p),E=j2(o.stateNode,v,E),It(o,E),Hi!==4&&(Hi=2)),!1;var I=Error(r(520),{cause:v});if(I=Dn(I,p),Xm===null?Xm=[I]:Xm.push(I),Hi!==4&&(Hi=2),c===null)return!0;v=Dn(v,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,o=E&-E,p.lanes|=o,o=j2(p.stateNode,v,o),It(p,o),!1;case 1:if(c=p.type,I=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(wf===null||!wf.has(I))))return p.flags|=65536,E&=-E,p.lanes|=E,E=vC(E),wC(E,o,p,v),It(p,E),!1}p=p.return}while(p!==null);return!1}var SC=Error(r(461)),Ya=!1;function us(o,c,p,v){c.child=o===null?fC(c,null,p,v):Kp(c,o.child,p,v)}function AC(o,c,p,v,E){p=p.render;var I=c.ref;if("ref"in v){var J={};for(var pe in v)pe!=="ref"&&(J[pe]=v[pe])}else J=v;return yl(c),v=Ro(o,c,p,J,I,E),pe=ti(),o!==null&&!Ya?(Nh(o,c,E),ud(o,c,E)):(tr&&pe&&Ch(c),c.flags|=1,us(o,c,v,E),c.child)}function CC(o,c,p,v,E){if(o===null){var I=p.type;return typeof I=="function"&&!af(I)&&I.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=I,EC(o,c,I,v,E)):(o=Jc(p.type,null,v,c,c.mode,E),o.ref=c.ref,o.return=c,c.child=o)}if(I=o.child,!P2(o,E)){var J=I.memoizedProps;if(p=p.compare,p=p!==null?p:Pu,p(J,v)&&o.ref===c.ref)return ud(o,c,E)}return c.flags|=1,o=pl(I,v),o.ref=c.ref,o.return=c,c.child=o}function EC(o,c,p,v,E){if(o!==null){var I=o.memoizedProps;if(Pu(I,v)&&o.ref===c.ref)if(Ya=!1,c.pendingProps=v=I,P2(o,E))(o.flags&131072)!==0&&(Ya=!0);else return c.lanes=o.lanes,ud(o,c,E)}return O2(o,c,p,v,E)}function _C(o,c,p){var v=c.pendingProps,E=v.children,I=o!==null?o.memoizedState:null;if(v.mode==="hidden"){if((c.flags&128)!==0){if(v=I!==null?I.baseLanes|p:p,o!==null){for(E=c.child=o.child,I=0;E!==null;)I=I|E.lanes|E.childLanes,E=E.sibling;c.childLanes=I&~v}else c.childLanes=0,c.child=null;return kC(o,c,v,p)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&V(c,I!==null?I.cachePool:null),I!==null?Er(c,I):or(),hC(c);else return c.lanes=c.childLanes=536870912,kC(o,c,I!==null?I.baseLanes|p:p,p)}else I!==null?(V(c,I.cachePool),Er(c,I),mf(),c.memoizedState=null):(o!==null&&V(c,null),or(),mf());return us(o,c,E,p),c.child}function kC(o,c,p,v){var E=M();return E=E===null?null:{parent:ia._currentValue,pool:E},c.memoizedState={baseLanes:p,cachePool:E},o!==null&&V(c,null),or(),hC(c),o!==null&&lf(o,c,v,!0),null}function Hb(o,c){var p=c.ref;if(p===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(o===null||o.ref!==p)&&(c.flags|=4194816)}}function O2(o,c,p,v,E){return yl(c),p=Ro(o,c,p,v,void 0,E),v=ti(),o!==null&&!Ya?(Nh(o,c,E),ud(o,c,E)):(tr&&v&&Ch(c),c.flags|=1,us(o,c,p,E),c.child)}function NC(o,c,p,v,E,I){return yl(c),c.updateQueue=null,p=id(c,v,p,E),Xu(o),v=ti(),o!==null&&!Ya?(Nh(o,c,I),ud(o,c,I)):(tr&&v&&Ch(c),c.flags|=1,us(o,c,p,I),c.child)}function TC(o,c,p,v,E){if(yl(c),c.stateNode===null){var I=Aa,J=p.contextType;typeof J=="object"&&J!==null&&(I=ra(J)),I=new p(v,I),c.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=T2,c.stateNode=I,I._reactInternals=c,I=c.stateNode,I.props=v,I.state=c.memoizedState,I.refs={},ze(c),J=p.contextType,I.context=typeof J=="object"&&J!==null?ra(J):Aa,I.state=c.memoizedState,J=p.getDerivedStateFromProps,typeof J=="function"&&(N2(c,p,J,v),I.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(J=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),J!==I.state&&T2.enqueueReplaceState(I,I.state,null),Tt(c,v,I,E),Qt(),I.state=c.memoizedState),typeof I.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(o===null){I=c.stateNode;var pe=c.memoizedProps,Te=Ph(p,pe);I.props=Te;var Ze=I.context,mt=p.contextType;J=Aa,typeof mt=="object"&&mt!==null&&(J=ra(mt));var St=p.getDerivedStateFromProps;mt=typeof St=="function"||typeof I.getSnapshotBeforeUpdate=="function",pe=c.pendingProps!==pe,mt||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(pe||Ze!==J)&&mC(c,I,v,J),it=!1;var tt=c.memoizedState;I.state=tt,Tt(c,v,I,E),Qt(),Ze=c.memoizedState,pe||tt!==Ze||it?(typeof St=="function"&&(N2(c,p,St,v),Ze=c.memoizedState),(Te=it||pC(c,p,Te,v,tt,Ze,J))?(mt||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(c.flags|=4194308)):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=Ze),I.props=v,I.state=Ze,I.context=J,v=Te):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{I=c.stateNode,Ue(o,c),J=c.memoizedProps,mt=Ph(p,J),I.props=mt,St=c.pendingProps,tt=I.context,Ze=p.contextType,Te=Aa,typeof Ze=="object"&&Ze!==null&&(Te=ra(Ze)),pe=p.getDerivedStateFromProps,(Ze=typeof pe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(J!==St||tt!==Te)&&mC(c,I,v,Te),it=!1,tt=c.memoizedState,I.state=tt,Tt(c,v,I,E),Qt();var rt=c.memoizedState;J!==St||tt!==rt||it||o!==null&&o.dependencies!==null&&Bp(o.dependencies)?(typeof pe=="function"&&(N2(c,p,pe,v),rt=c.memoizedState),(mt=it||pC(c,p,mt,v,tt,rt,Te)||o!==null&&o.dependencies!==null&&Bp(o.dependencies))?(Ze||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(v,rt,Te),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(v,rt,Te)),typeof I.componentDidUpdate=="function"&&(c.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof I.componentDidUpdate!="function"||J===o.memoizedProps&&tt===o.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&tt===o.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=rt),I.props=v,I.state=rt,I.context=Te,v=mt):(typeof I.componentDidUpdate!="function"||J===o.memoizedProps&&tt===o.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&tt===o.memoizedState||(c.flags|=1024),v=!1)}return I=v,Hb(o,c),v=(c.flags&128)!==0,I||v?(I=c.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:I.render(),c.flags|=1,o!==null&&v?(c.child=Kp(c,o.child,null,E),c.child=Kp(c,null,p,E)):us(o,c,p,E),c.memoizedState=I.state,o=c.child):o=ud(o,c,E),o}function jC(o,c,p,v){return Zs(),c.flags|=256,us(o,c,p,v),c.child}var I2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function D2(o){return{baseLanes:o,cachePool:ne()}}function L2(o,c,p){return o=o!==null?o.childLanes&~p:0,c&&(o|=wl),o}function OC(o,c,p){var v=c.pendingProps,E=!1,I=(c.flags&128)!==0,J;if((J=I)||(J=o!==null&&o.memoizedState===null?!1:(Ra.current&2)!==0),J&&(E=!0,c.flags&=-129),J=(c.flags&32)!==0,c.flags&=-33,o===null){if(tr){if(E?pf(c):mf(),tr){var pe=bi,Te;if(Te=pe){e:{for(Te=pe,pe=ml;Te.nodeType!==8;){if(!pe){pe=null;break e}if(Te=uu(Te.nextSibling),Te===null){pe=null;break e}}pe=Te}pe!==null?(c.memoizedState={dehydrated:pe,treeContext:ed!==null?{id:Jl,overflow:eu}:null,retryLane:536870912,hydrationErrors:null},Te=Wa(18,null,null,0),Te.stateNode=pe,Te.return=c,c.child=Te,na=c,bi=null,Te=!0):Te=!1}Te||nd(c)}if(pe=c.memoizedState,pe!==null&&(pe=pe.dehydrated,pe!==null))return b5(pe)?c.lanes=32:c.lanes=536870912,null;ld(c)}return pe=v.children,v=v.fallback,E?(mf(),E=c.mode,pe=Wb({mode:"hidden",children:pe},E),v=Xl(v,E,p,null),pe.return=c,v.return=c,pe.sibling=v,c.child=pe,E=c.child,E.memoizedState=D2(p),E.childLanes=L2(o,J,p),c.memoizedState=I2,v):(pf(c),R2(c,pe))}if(Te=o.memoizedState,Te!==null&&(pe=Te.dehydrated,pe!==null)){if(I)c.flags&256?(pf(c),c.flags&=-257,c=M2(o,c,p)):c.memoizedState!==null?(mf(),c.child=o.child,c.flags|=128,c=null):(mf(),E=v.fallback,pe=c.mode,v=Wb({mode:"visible",children:v.children},pe),E=Xl(E,pe,p,null),E.flags|=2,v.return=c,E.return=c,v.sibling=E,c.child=v,Kp(c,o.child,null,p),v=c.child,v.memoizedState=D2(p),v.childLanes=L2(o,J,p),c.memoizedState=I2,c=E);else if(pf(c),b5(pe)){if(J=pe.nextSibling&&pe.nextSibling.dataset,J)var Ze=J.dgst;J=Ze,v=Error(r(419)),v.stack="",v.digest=J,of({value:v,source:null,stack:null}),c=M2(o,c,p)}else if(Ya||lf(o,c,p,!1),J=(p&o.childLanes)!==0,Ya||J){if(J=ni,J!==null&&(v=p&-p,v=(v&42)!==0?1:ya(v),v=(v&(J.suspendedLanes|p))!==0?0:v,v!==0&&v!==Te.retryLane))throw Te.retryLane=v,Kl(o,v),Bo(J,o,v),SC;pe.data==="$?"||e5(),c=M2(o,c,p)}else pe.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=Te.treeContext,bi=uu(pe.nextSibling),na=c,tr=!0,Gu=null,ml=!1,o!==null&&(fo[Xs++]=Jl,fo[Xs++]=eu,fo[Xs++]=ed,Jl=o.id,eu=o.overflow,ed=c),c=R2(c,v.children),c.flags|=4096);return c}return E?(mf(),E=v.fallback,pe=c.mode,Te=o.child,Ze=Te.sibling,v=pl(Te,{mode:"hidden",children:v.children}),v.subtreeFlags=Te.subtreeFlags&65011712,Ze!==null?E=pl(Ze,E):(E=Xl(E,pe,p,null),E.flags|=2),E.return=c,v.return=c,v.sibling=E,c.child=v,v=E,E=c.child,pe=o.child.memoizedState,pe===null?pe=D2(p):(Te=pe.cachePool,Te!==null?(Ze=ia._currentValue,Te=Te.parent!==Ze?{parent:Ze,pool:Ze}:Te):Te=ne(),pe={baseLanes:pe.baseLanes|p,cachePool:Te}),E.memoizedState=pe,E.childLanes=L2(o,J,p),c.memoizedState=I2,v):(pf(c),p=o.child,o=p.sibling,p=pl(p,{mode:"visible",children:v.children}),p.return=c,p.sibling=null,o!==null&&(J=c.deletions,J===null?(c.deletions=[o],c.flags|=16):J.push(o)),c.child=p,c.memoizedState=null,p)}function R2(o,c){return c=Wb({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Wb(o,c){return o=Wa(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function M2(o,c,p){return Kp(c,o.child,null,p),o=R2(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function IC(o,c,p){o.lanes|=c;var v=o.alternate;v!==null&&(v.lanes|=c),zp(o.return,c,p)}function F2(o,c,p,v,E){var I=o.memoizedState;I===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:E}:(I.isBackwards=c,I.rendering=null,I.renderingStartTime=0,I.last=v,I.tail=p,I.tailMode=E)}function DC(o,c,p){var v=c.pendingProps,E=v.revealOrder,I=v.tail;if(us(o,c,v.children,p),v=Ra.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&IC(o,p,c);else if(o.tag===19)IC(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}v&=1}switch(z(Ra,v),E){case"forwards":for(p=c.child,E=null;p!==null;)o=p.alternate,o!==null&&Bb(o)===null&&(E=p),p=p.sibling;p=E,p===null?(E=c.child,c.child=null):(E=p.sibling,p.sibling=null),F2(c,!1,E,p,I);break;case"backwards":for(p=null,E=c.child,c.child=null;E!==null;){if(o=E.alternate,o!==null&&Bb(o)===null){c.child=E;break}o=E.sibling,E.sibling=p,p=E,E=o}F2(c,!0,p,null,I);break;case"together":F2(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function ud(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),vf|=c.lanes,(p&c.childLanes)===0)if(o!==null){if(lf(o,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,p=pl(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=pl(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function P2(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Bp(o)))}function r9(o,c,p){switch(c.tag){case 3:xe(c,c.stateNode.containerInfo),Qu(c,ia,o.memoizedState.cache),Zs();break;case 27:case 5:De(c);break;case 4:xe(c,c.stateNode.containerInfo);break;case 10:Qu(c,c.type,c.memoizedProps.value);break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(pf(c),c.flags|=128,null):(p&c.child.childLanes)!==0?OC(o,c,p):(pf(c),o=ud(o,c,p),o!==null?o.sibling:null);pf(c);break;case 19:var E=(o.flags&128)!==0;if(v=(p&c.childLanes)!==0,v||(lf(o,c,p,!1),v=(p&c.childLanes)!==0),E){if(v)return DC(o,c,p);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),z(Ra,Ra.current),v)break;return null;case 22:case 23:return c.lanes=0,_C(o,c,p);case 24:Qu(c,ia,o.memoizedState.cache)}return ud(o,c,p)}function LC(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps)Ya=!0;else{if(!P2(o,p)&&(c.flags&128)===0)return Ya=!1,r9(o,c,p);Ya=(o.flags&131072)!==0}else Ya=!1,tr&&(c.flags&1048576)!==0&&wb(c,Pp,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var v=c.elementType,E=v._init;if(v=E(v._payload),c.type=v,typeof v=="function")af(v)?(o=Ph(v,o),c.tag=1,c=TC(null,c,v,o,p)):(c.tag=0,c=O2(null,c,v,o,p));else{if(v!=null){if(E=v.$$typeof,E===R){c.tag=11,c=AC(null,c,v,o,p);break e}else if(E===k){c.tag=14,c=CC(null,c,v,o,p);break e}}throw c=j(v)||v,Error(r(306,c,""))}}return c;case 0:return O2(o,c,c.type,c.pendingProps,p);case 1:return v=c.type,E=Ph(v,c.pendingProps),TC(o,c,v,E,p);case 3:e:{if(xe(c,c.stateNode.containerInfo),o===null)throw Error(r(387));v=c.pendingProps;var I=c.memoizedState;E=I.element,Ue(o,c),Tt(c,v,null,p);var J=c.memoizedState;if(v=J.cache,Qu(c,ia,v),v!==I.cache&&qp(c,[ia],p,!0),Qt(),v=J.element,I.isDehydrated)if(I={element:v,isDehydrated:!1,cache:J.cache},c.updateQueue.baseState=I,c.memoizedState=I,c.flags&256){c=jC(o,c,v,p);break e}else if(v!==E){E=Dn(Error(r(424)),c),of(E),c=jC(o,c,v,p);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(bi=uu(o.firstChild),na=c,tr=!0,Gu=null,ml=!0,p=fC(c,null,v,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Zs(),v===E){c=ud(o,c,p);break e}us(o,c,v,p)}c=c.child}return c;case 26:return Hb(o,c),o===null?(p=PE(c.type,null,c.pendingProps,null))?c.memoizedState=p:tr||(p=c.type,o=c.pendingProps,v=ay(oe.current).createElement(p),v[Hn]=c,v[ar]=o,ds(v,p,o),er(v),c.stateNode=v):c.memoizedState=PE(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return De(c),o===null&&tr&&(v=c.stateNode=RE(c.type,c.pendingProps,oe.current),na=c,ml=!0,E=bi,Cf(c.type)?(y5=E,bi=uu(v.firstChild)):bi=E),us(o,c,c.pendingProps.children,p),Hb(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&tr&&((E=v=bi)&&(v=O9(v,c.type,c.pendingProps,ml),v!==null?(c.stateNode=v,na=c,bi=uu(v.firstChild),ml=!1,E=!0):E=!1),E||nd(c)),De(c),E=c.type,I=c.pendingProps,J=o!==null?o.memoizedProps:null,v=I.children,p5(E,I)?v=null:J!==null&&p5(E,J)&&(c.flags|=32),c.memoizedState!==null&&(E=Ro(o,c,Zu,null,null,p),s1._currentValue=E),Hb(o,c),us(o,c,v,p),c.child;case 6:return o===null&&tr&&((o=p=bi)&&(p=I9(p,c.pendingProps,ml),p!==null?(c.stateNode=p,na=c,bi=null,o=!0):o=!1),o||nd(c)),null;case 13:return OC(o,c,p);case 4:return xe(c,c.stateNode.containerInfo),v=c.pendingProps,o===null?c.child=Kp(c,null,v,p):us(o,c,v,p),c.child;case 11:return AC(o,c,c.type,c.pendingProps,p);case 7:return us(o,c,c.pendingProps,p),c.child;case 8:return us(o,c,c.pendingProps.children,p),c.child;case 12:return us(o,c,c.pendingProps.children,p),c.child;case 10:return v=c.pendingProps,Qu(c,c.type,v.value),us(o,c,v.children,p),c.child;case 9:return E=c.type._context,v=c.pendingProps.children,yl(c),E=ra(E),v=v(E),c.flags|=1,us(o,c,v,p),c.child;case 14:return CC(o,c,c.type,c.pendingProps,p);case 15:return EC(o,c,c.type,c.pendingProps,p);case 19:return DC(o,c,p);case 31:return v=c.pendingProps,p=c.mode,v={mode:v.mode,children:v.children},o===null?(p=Wb(v,p),p.ref=c.ref,c.child=p,p.return=c,c=p):(p=pl(o.child,v),p.ref=c.ref,c.child=p,p.return=c,c=p),c;case 22:return _C(o,c,p);case 24:return yl(c),v=ra(ia),o===null?(E=M(),E===null&&(E=ni,I=Tm(),E.pooledCache=I,I.refCount++,I!==null&&(E.pooledCacheLanes|=p),E=I),c.memoizedState={parent:v,cache:E},ze(c),Qu(c,ia,E)):((o.lanes&p)!==0&&(Ue(o,c),Tt(c,null,null,p),Qt()),E=o.memoizedState,I=c.memoizedState,E.parent!==v?(E={parent:v,cache:v},c.memoizedState=E,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=E),Qu(c,ia,v)):(v=I.cache,Qu(c,ia,v),v!==E.cache&&qp(c,[ia],p,!0))),us(o,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function cd(o){o.flags|=4}function RC(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!$E(c)){if(c=vl.current,c!==null&&((Gn&4194048)===Gn?tc!==null:(Gn&62914560)!==Gn&&(Gn&536870912)===0||c!==tc))throw Ge=ye,ue;o.flags|=8192}}function Yb(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?zn():536870912,o.lanes|=c,e0|=c)}function Wm(o,c){if(!tr)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function Oi(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,v=0;if(c)for(var E=o.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags&65011712,v|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags,v|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=v,o.childLanes=p,c}function i9(o,c,p){var v=c.pendingProps;switch(Eh(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oi(c),null;case 1:return Oi(c),null;case 3:return p=c.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),bl(ia),Ee(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(os(c)?cd(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Ab())),Oi(c),null;case 26:return p=c.memoizedState,o===null?(cd(c),p!==null?(Oi(c),RC(c,p)):(Oi(c),c.flags&=-16777217)):p?p!==o.memoizedState?(cd(c),Oi(c),RC(c,p)):(Oi(c),c.flags&=-16777217):(o.memoizedProps!==v&&cd(c),Oi(c),c.flags&=-16777217),null;case 27:Me(c),p=oe.current;var E=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==v&&cd(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return Oi(c),null}o=Z.current,os(c)?Sb(c):(o=RE(E,v,p),c.stateNode=o,cd(c))}return Oi(c),null;case 5:if(Me(c),p=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==v&&cd(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return Oi(c),null}if(o=Z.current,os(c))Sb(c);else{switch(E=ay(oe.current),o){case 1:o=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:o=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":o=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":o=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":o=E.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof v.is=="string"?E.createElement("select",{is:v.is}):E.createElement("select"),v.multiple?o.multiple=!0:v.size&&(o.size=v.size);break;default:o=typeof v.is=="string"?E.createElement(p,{is:v.is}):E.createElement(p)}}o[Hn]=c,o[ar]=v;e:for(E=c.child;E!==null;){if(E.tag===5||E.tag===6)o.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===c)break e;for(;E.sibling===null;){if(E.return===null||E.return===c)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}c.stateNode=o;e:switch(ds(o,p,v),p){case"button":case"input":case"select":case"textarea":o=!!v.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&cd(c)}}return Oi(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==v&&cd(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(r(166));if(o=oe.current,os(c)){if(o=c.stateNode,p=c.memoizedProps,v=null,E=na,E!==null)switch(E.tag){case 27:case 5:v=E.memoizedProps}o[Hn]=c,o=!!(o.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||NE(o.nodeValue,p)),o||nd(c)}else o=ay(o).createTextNode(v),o[Hn]=c,c.stateNode=o}return Oi(c),null;case 13:if(v=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=os(c),v!==null&&v.dehydrated!==null){if(o===null){if(!E)throw Error(r(318));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[Hn]=c}else Zs(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Oi(c),E=!1}else E=Ab(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return c.flags&256?(ld(c),c):(ld(c),null)}if(ld(c),(c.flags&128)!==0)return c.lanes=p,c;if(p=v!==null,o=o!==null&&o.memoizedState!==null,p){v=c.child,E=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(E=v.alternate.memoizedState.cachePool.pool);var I=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(I=v.memoizedState.cachePool.pool),I!==E&&(v.flags|=2048)}return p!==o&&p&&(c.child.flags|=8192),Yb(c,c.updateQueue),Oi(c),null;case 4:return Ee(),o===null&&u5(c.stateNode.containerInfo),Oi(c),null;case 10:return bl(c.type),Oi(c),null;case 19:if(U(Ra),E=c.memoizedState,E===null)return Oi(c),null;if(v=(c.flags&128)!==0,I=E.rendering,I===null)if(v)Wm(E,!1);else{if(Hi!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(I=Bb(o),I!==null){for(c.flags|=128,Wm(E,!1),o=I.updateQueue,c.updateQueue=o,Yb(c,o),c.subtreeFlags=0,o=p,p=c.child;p!==null;)Sh(p,o),p=p.sibling;return z(Ra,Ra.current&1|2),c.child}o=o.sibling}E.tail!==null&&be()>Qb&&(c.flags|=128,v=!0,Wm(E,!1),c.lanes=4194304)}else{if(!v)if(o=Bb(I),o!==null){if(c.flags|=128,v=!0,o=o.updateQueue,c.updateQueue=o,Yb(c,o),Wm(E,!0),E.tail===null&&E.tailMode==="hidden"&&!I.alternate&&!tr)return Oi(c),null}else 2*be()-E.renderingStartTime>Qb&&p!==536870912&&(c.flags|=128,v=!0,Wm(E,!1),c.lanes=4194304);E.isBackwards?(I.sibling=c.child,c.child=I):(o=E.last,o!==null?o.sibling=I:c.child=I,E.last=I)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=be(),c.sibling=null,o=Ra.current,z(Ra,v?o&1|2:o&1),c):(Oi(c),null);case 22:case 23:return ld(c),mn(),v=c.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(p&536870912)!==0&&(c.flags&128)===0&&(Oi(c),c.subtreeFlags&6&&(c.flags|=8192)):Oi(c),p=c.updateQueue,p!==null&&Yb(c,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==p&&(c.flags|=2048),o!==null&&U(_),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),bl(ia),Oi(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function a9(o,c){switch(Eh(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return bl(ia),Ee(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Me(c),null;case 13:if(ld(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Zs()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return U(Ra),null;case 4:return Ee(),null;case 10:return bl(c.type),null;case 22:case 23:return ld(c),mn(),o!==null&&U(_),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return bl(ia),null;case 25:return null;default:return null}}function MC(o,c){switch(Eh(c),c.tag){case 3:bl(ia),Ee();break;case 26:case 27:case 5:Me(c);break;case 4:Ee();break;case 13:ld(c);break;case 19:U(Ra);break;case 10:bl(c.type);break;case 22:case 23:ld(c),mn(),o!==null&&U(_);break;case 24:bl(ia)}}function Ym(o,c){try{var p=c.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var E=v.next;p=E;do{if((p.tag&o)===o){v=void 0;var I=p.create,J=p.inst;v=I(),J.destroy=v}p=p.next}while(p!==E)}}catch(pe){Kr(c,c.return,pe)}}function gf(o,c,p){try{var v=c.updateQueue,E=v!==null?v.lastEffect:null;if(E!==null){var I=E.next;v=I;do{if((v.tag&o)===o){var J=v.inst,pe=J.destroy;if(pe!==void 0){J.destroy=void 0,E=c;var Te=p,Ze=pe;try{Ze()}catch(mt){Kr(E,Te,mt)}}}v=v.next}while(v!==I)}}catch(mt){Kr(c,c.return,mt)}}function FC(o){var c=o.updateQueue;if(c!==null){var p=o.stateNode;try{sr(c,p)}catch(v){Kr(o,o.return,v)}}}function PC(o,c,p){p.props=Ph(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(v){Kr(o,c,v)}}function Vm(o,c){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof p=="function"?o.refCleanup=p(v):p.current=v}}catch(E){Kr(o,c,E)}}function nc(o,c){var p=o.ref,v=o.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(E){Kr(o,c,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(E){Kr(o,c,E)}else p.current=null}function zC(o){var c=o.type,p=o.memoizedProps,v=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(E){Kr(o,o.return,E)}}function z2(o,c,p){try{var v=o.stateNode;_9(v,o.type,p,c),v[ar]=c}catch(E){Kr(o,o.return,E)}}function qC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Cf(o.type)||o.tag===4}function q2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||qC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Cf(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function B2(o,c,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(o),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=iy));else if(v!==4&&(v===27&&Cf(o.type)&&(p=o.stateNode,c=null),o=o.child,o!==null))for(B2(o,c,p),o=o.sibling;o!==null;)B2(o,c,p),o=o.sibling}function Vb(o,c,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?p.insertBefore(o,c):p.appendChild(o);else if(v!==4&&(v===27&&Cf(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(Vb(o,c,p),o=o.sibling;o!==null;)Vb(o,c,p),o=o.sibling}function BC(o){var c=o.stateNode,p=o.memoizedProps;try{for(var v=o.type,E=c.attributes;E.length;)c.removeAttributeNode(E[0]);ds(c,v,p),c[Hn]=o,c[ar]=p}catch(I){Kr(o,o.return,I)}}var dd=!1,sa=!1,U2=!1,UC=typeof WeakSet=="function"?WeakSet:Set,Va=null;function s9(o,c){if(o=o.containerInfo,f5=dy,o=ss(o),La(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var E=v.anchorOffset,I=v.focusNode;v=v.focusOffset;try{p.nodeType,I.nodeType}catch{p=null;break e}var J=0,pe=-1,Te=-1,Ze=0,mt=0,St=o,tt=null;t:for(;;){for(var rt;St!==p||E!==0&&St.nodeType!==3||(pe=J+E),St!==I||v!==0&&St.nodeType!==3||(Te=J+v),St.nodeType===3&&(J+=St.nodeValue.length),(rt=St.firstChild)!==null;)tt=St,St=rt;for(;;){if(St===o)break t;if(tt===p&&++Ze===E&&(pe=J),tt===I&&++mt===v&&(Te=J),(rt=St.nextSibling)!==null)break;St=tt,tt=St.parentNode}St=rt}p=pe===-1||Te===-1?null:{start:pe,end:Te}}else p=null}p=p||{start:0,end:0}}else p=null;for(h5={focusedElem:o,selectionRange:p},dy=!1,Va=c;Va!==null;)if(c=Va,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,Va=o;else for(;Va!==null;){switch(c=Va,I=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&I!==null){o=void 0,p=c,E=I.memoizedProps,I=I.memoizedState,v=p.stateNode;try{var dn=Ph(p.type,E,p.elementType===p.type);o=v.getSnapshotBeforeUpdate(dn,I),v.__reactInternalSnapshotBeforeUpdate=o}catch(rn){Kr(p,p.return,rn)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,p=o.nodeType,p===9)g5(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":g5(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,Va=o;break}Va=c.return}}function $C(o,c,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:bf(o,p),v&4&&Ym(5,p);break;case 1:if(bf(o,p),v&4)if(o=p.stateNode,c===null)try{o.componentDidMount()}catch(J){Kr(p,p.return,J)}else{var E=Ph(p.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(E,c,o.__reactInternalSnapshotBeforeUpdate)}catch(J){Kr(p,p.return,J)}}v&64&&FC(p),v&512&&Vm(p,p.return);break;case 3:if(bf(o,p),v&64&&(o=p.updateQueue,o!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{sr(o,c)}catch(J){Kr(p,p.return,J)}}break;case 27:c===null&&v&4&&BC(p);case 26:case 5:bf(o,p),c===null&&v&4&&zC(p),v&512&&Vm(p,p.return);break;case 12:bf(o,p);break;case 13:bf(o,p),v&4&&YC(o,p),v&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=m9.bind(null,p),D9(o,p))));break;case 22:if(v=p.memoizedState!==null||dd,!v){c=c!==null&&c.memoizedState!==null||sa,E=dd;var I=sa;dd=v,(sa=c)&&!I?yf(o,p,(p.subtreeFlags&8772)!==0):bf(o,p),dd=E,sa=I}break;case 30:break;default:bf(o,p)}}function HC(o){var c=o.alternate;c!==null&&(o.alternate=null,HC(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Ia(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var yi=null,po=!1;function fd(o,c,p){for(p=p.child;p!==null;)WC(o,c,p),p=p.sibling}function WC(o,c,p){if(ve&&typeof ve.onCommitFiberUnmount=="function")try{ve.onCommitFiberUnmount(Pe,p)}catch{}switch(p.tag){case 26:sa||nc(p,c),fd(o,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:sa||nc(p,c);var v=yi,E=po;Cf(p.type)&&(yi=p.stateNode,po=!1),fd(o,c,p),n1(p.stateNode),yi=v,po=E;break;case 5:sa||nc(p,c);case 6:if(v=yi,E=po,yi=null,fd(o,c,p),yi=v,po=E,yi!==null)if(po)try{(yi.nodeType===9?yi.body:yi.nodeName==="HTML"?yi.ownerDocument.body:yi).removeChild(p.stateNode)}catch(I){Kr(p,c,I)}else try{yi.removeChild(p.stateNode)}catch(I){Kr(p,c,I)}break;case 18:yi!==null&&(po?(o=yi,DE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),c1(o)):DE(yi,p.stateNode));break;case 4:v=yi,E=po,yi=p.stateNode.containerInfo,po=!0,fd(o,c,p),yi=v,po=E;break;case 0:case 11:case 14:case 15:sa||gf(2,p,c),sa||gf(4,p,c),fd(o,c,p);break;case 1:sa||(nc(p,c),v=p.stateNode,typeof v.componentWillUnmount=="function"&&PC(p,c,v)),fd(o,c,p);break;case 21:fd(o,c,p);break;case 22:sa=(v=sa)||p.memoizedState!==null,fd(o,c,p),sa=v;break;default:fd(o,c,p)}}function YC(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{c1(o)}catch(p){Kr(c,c.return,p)}}function o9(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new UC),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new UC),c;default:throw Error(r(435,o.tag))}}function $2(o,c){var p=o9(o);c.forEach(function(v){var E=g9.bind(null,o,v);p.has(v)||(p.add(v),v.then(E,E))})}function Fo(o,c){var p=c.deletions;if(p!==null)for(var v=0;v<p.length;v++){var E=p[v],I=o,J=c,pe=J;e:for(;pe!==null;){switch(pe.tag){case 27:if(Cf(pe.type)){yi=pe.stateNode,po=!1;break e}break;case 5:yi=pe.stateNode,po=!1;break e;case 3:case 4:yi=pe.stateNode.containerInfo,po=!0;break e}pe=pe.return}if(yi===null)throw Error(r(160));WC(I,J,E),yi=null,po=!1,I=E.alternate,I!==null&&(I.return=null),E.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)VC(c,o),c=c.sibling}var lu=null;function VC(o,c){var p=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Fo(c,o),Po(o),v&4&&(gf(3,o,o.return),Ym(3,o),gf(5,o,o.return));break;case 1:Fo(c,o),Po(o),v&512&&(sa||p===null||nc(p,p.return)),v&64&&dd&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var E=lu;if(Fo(c,o),Po(o),v&512&&(sa||p===null||nc(p,p.return)),v&4){var I=p!==null?p.memoizedState:null;if(v=o.memoizedState,p===null)if(v===null)if(o.stateNode===null){e:{v=o.type,p=o.memoizedProps,E=E.ownerDocument||E;t:switch(v){case"title":I=E.getElementsByTagName("title")[0],(!I||I[Nr]||I[Hn]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=E.createElement(v),E.head.insertBefore(I,E.querySelector("head > title"))),ds(I,v,p),I[Hn]=o,er(I),v=I;break e;case"link":var J=BE("link","href",E).get(v+(p.href||""));if(J){for(var pe=0;pe<J.length;pe++)if(I=J[pe],I.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&I.getAttribute("rel")===(p.rel==null?null:p.rel)&&I.getAttribute("title")===(p.title==null?null:p.title)&&I.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){J.splice(pe,1);break t}}I=E.createElement(v),ds(I,v,p),E.head.appendChild(I);break;case"meta":if(J=BE("meta","content",E).get(v+(p.content||""))){for(pe=0;pe<J.length;pe++)if(I=J[pe],I.getAttribute("content")===(p.content==null?null:""+p.content)&&I.getAttribute("name")===(p.name==null?null:p.name)&&I.getAttribute("property")===(p.property==null?null:p.property)&&I.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&I.getAttribute("charset")===(p.charSet==null?null:p.charSet)){J.splice(pe,1);break t}}I=E.createElement(v),ds(I,v,p),E.head.appendChild(I);break;default:throw Error(r(468,v))}I[Hn]=o,er(I),v=I}o.stateNode=v}else UE(E,o.type,o.stateNode);else o.stateNode=qE(E,v,o.memoizedProps);else I!==v?(I===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):I.count--,v===null?UE(E,o.type,o.stateNode):qE(E,v,o.memoizedProps)):v===null&&o.stateNode!==null&&z2(o,o.memoizedProps,p.memoizedProps)}break;case 27:Fo(c,o),Po(o),v&512&&(sa||p===null||nc(p,p.return)),p!==null&&v&4&&z2(o,o.memoizedProps,p.memoizedProps);break;case 5:if(Fo(c,o),Po(o),v&512&&(sa||p===null||nc(p,p.return)),o.flags&32){E=o.stateNode;try{qi(E,"")}catch(rt){Kr(o,o.return,rt)}}v&4&&o.stateNode!=null&&(E=o.memoizedProps,z2(o,E,p!==null?p.memoizedProps:E)),v&1024&&(U2=!0);break;case 6:if(Fo(c,o),Po(o),v&4){if(o.stateNode===null)throw Error(r(162));v=o.memoizedProps,p=o.stateNode;try{p.nodeValue=v}catch(rt){Kr(o,o.return,rt)}}break;case 3:if(ly=null,E=lu,lu=sy(c.containerInfo),Fo(c,o),lu=E,Po(o),v&4&&p!==null&&p.memoizedState.isDehydrated)try{c1(c.containerInfo)}catch(rt){Kr(o,o.return,rt)}U2&&(U2=!1,GC(o));break;case 4:v=lu,lu=sy(o.stateNode.containerInfo),Fo(c,o),Po(o),lu=v;break;case 12:Fo(c,o),Po(o);break;case 13:Fo(c,o),Po(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Q2=be()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,$2(o,v)));break;case 22:E=o.memoizedState!==null;var Te=p!==null&&p.memoizedState!==null,Ze=dd,mt=sa;if(dd=Ze||E,sa=mt||Te,Fo(c,o),sa=mt,dd=Ze,Po(o),v&8192)e:for(c=o.stateNode,c._visibility=E?c._visibility&-2:c._visibility|1,E&&(p===null||Te||dd||sa||zh(o)),p=null,c=o;;){if(c.tag===5||c.tag===26){if(p===null){Te=p=c;try{if(I=Te.stateNode,E)J=I.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none";else{pe=Te.stateNode;var St=Te.memoizedProps.style,tt=St!=null&&St.hasOwnProperty("display")?St.display:null;pe.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(rt){Kr(Te,Te.return,rt)}}}else if(c.tag===6){if(p===null){Te=c;try{Te.stateNode.nodeValue=E?"":Te.memoizedProps}catch(rt){Kr(Te,Te.return,rt)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=o.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,$2(o,p))));break;case 19:Fo(c,o),Po(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,$2(o,v)));break;case 30:break;case 21:break;default:Fo(c,o),Po(o)}}function Po(o){var c=o.flags;if(c&2){try{for(var p,v=o.return;v!==null;){if(qC(v)){p=v;break}v=v.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var E=p.stateNode,I=q2(o);Vb(o,I,E);break;case 5:var J=p.stateNode;p.flags&32&&(qi(J,""),p.flags&=-33);var pe=q2(o);Vb(o,pe,J);break;case 3:case 4:var Te=p.stateNode.containerInfo,Ze=q2(o);B2(o,Ze,Te);break;default:throw Error(r(161))}}catch(mt){Kr(o,o.return,mt)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function GC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;GC(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function bf(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)$C(o,c.alternate,c),c=c.sibling}function zh(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:gf(4,c,c.return),zh(c);break;case 1:nc(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&PC(c,c.return,p),zh(c);break;case 27:n1(c.stateNode);case 26:case 5:nc(c,c.return),zh(c);break;case 22:c.memoizedState===null&&zh(c);break;case 30:zh(c);break;default:zh(c)}o=o.sibling}}function yf(o,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,E=o,I=c,J=I.flags;switch(I.tag){case 0:case 11:case 15:yf(E,I,p),Ym(4,I);break;case 1:if(yf(E,I,p),v=I,E=v.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Ze){Kr(v,v.return,Ze)}if(v=I,E=v.updateQueue,E!==null){var pe=v.stateNode;try{var Te=E.shared.hiddenCallbacks;if(Te!==null)for(E.shared.hiddenCallbacks=null,E=0;E<Te.length;E++)Yn(Te[E],pe)}catch(Ze){Kr(v,v.return,Ze)}}p&&J&64&&FC(I),Vm(I,I.return);break;case 27:BC(I);case 26:case 5:yf(E,I,p),p&&v===null&&J&4&&zC(I),Vm(I,I.return);break;case 12:yf(E,I,p);break;case 13:yf(E,I,p),p&&J&4&&YC(E,I);break;case 22:I.memoizedState===null&&yf(E,I,p),Vm(I,I.return);break;case 30:break;default:yf(E,I,p)}c=c.sibling}}function H2(o,c){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&_h(p))}function W2(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&_h(o))}function rc(o,c,p,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)QC(o,c,p,v),c=c.sibling}function QC(o,c,p,v){var E=c.flags;switch(c.tag){case 0:case 11:case 15:rc(o,c,p,v),E&2048&&Ym(9,c);break;case 1:rc(o,c,p,v);break;case 3:rc(o,c,p,v),E&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&_h(o)));break;case 12:if(E&2048){rc(o,c,p,v),o=c.stateNode;try{var I=c.memoizedProps,J=I.id,pe=I.onPostCommit;typeof pe=="function"&&pe(J,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Te){Kr(c,c.return,Te)}}else rc(o,c,p,v);break;case 13:rc(o,c,p,v);break;case 23:break;case 22:I=c.stateNode,J=c.alternate,c.memoizedState!==null?I._visibility&2?rc(o,c,p,v):Gm(o,c):I._visibility&2?rc(o,c,p,v):(I._visibility|=2,Xp(o,c,p,v,(c.subtreeFlags&10256)!==0)),E&2048&&H2(J,c);break;case 24:rc(o,c,p,v),E&2048&&W2(c.alternate,c);break;default:rc(o,c,p,v)}}function Xp(o,c,p,v,E){for(E=E&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var I=o,J=c,pe=p,Te=v,Ze=J.flags;switch(J.tag){case 0:case 11:case 15:Xp(I,J,pe,Te,E),Ym(8,J);break;case 23:break;case 22:var mt=J.stateNode;J.memoizedState!==null?mt._visibility&2?Xp(I,J,pe,Te,E):Gm(I,J):(mt._visibility|=2,Xp(I,J,pe,Te,E)),E&&Ze&2048&&H2(J.alternate,J);break;case 24:Xp(I,J,pe,Te,E),E&&Ze&2048&&W2(J.alternate,J);break;default:Xp(I,J,pe,Te,E)}c=c.sibling}}function Gm(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=o,v=c,E=v.flags;switch(v.tag){case 22:Gm(p,v),E&2048&&H2(v.alternate,v);break;case 24:Gm(p,v),E&2048&&W2(v.alternate,v);break;default:Gm(p,v)}c=c.sibling}}var Qm=8192;function Zp(o){if(o.subtreeFlags&Qm)for(o=o.child;o!==null;)KC(o),o=o.sibling}function KC(o){switch(o.tag){case 26:Zp(o),o.flags&Qm&&o.memoizedState!==null&&Y9(lu,o.memoizedState,o.memoizedProps);break;case 5:Zp(o);break;case 3:case 4:var c=lu;lu=sy(o.stateNode.containerInfo),Zp(o),lu=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=Qm,Qm=16777216,Zp(o),Qm=c):Zp(o));break;default:Zp(o)}}function XC(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Km(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];Va=v,JC(v,o)}XC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ZC(o),o=o.sibling}function ZC(o){switch(o.tag){case 0:case 11:case 15:Km(o),o.flags&2048&&gf(9,o,o.return);break;case 3:Km(o);break;case 12:Km(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Gb(o)):Km(o);break;default:Km(o)}}function Gb(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];Va=v,JC(v,o)}XC(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:gf(8,c,c.return),Gb(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,Gb(c));break;default:Gb(c)}o=o.sibling}}function JC(o,c){for(;Va!==null;){var p=Va;switch(p.tag){case 0:case 11:case 15:gf(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:_h(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,Va=v;else e:for(p=o;Va!==null;){v=Va;var E=v.sibling,I=v.return;if(HC(v),v===p){Va=null;break e}if(E!==null){E.return=I,Va=E;break e}Va=I}}}var l9={getCacheForType:function(o){var c=ra(ia),p=c.data.get(o);return p===void 0&&(p=o(),c.data.set(o,p)),p}},u9=typeof WeakMap=="function"?WeakMap:Map,Or=0,ni=null,Bn=null,Gn=0,Ir=0,zo=null,xf=!1,Jp=!1,Y2=!1,hd=0,Hi=0,vf=0,qh=0,V2=0,wl=0,e0=0,Xm=null,mo=null,G2=!1,Q2=0,Qb=1/0,Kb=null,wf=null,cs=0,Sf=null,t0=null,n0=0,K2=0,X2=null,eE=null,Zm=0,Z2=null;function qo(){if((Or&2)!==0&&Gn!==0)return Gn&-Gn;if(W.T!==null){var o=rd;return o!==0?o:a5()}return si()}function tE(){wl===0&&(wl=(Gn&536870912)===0||tr?Pn():536870912);var o=vl.current;return o!==null&&(o.flags|=32),wl}function Bo(o,c,p){(o===ni&&(Ir===2||Ir===9)||o.cancelPendingCommit!==null)&&(r0(o,0),Af(o,Gn,wl,!1)),ir(o,p),((Or&2)===0||o!==ni)&&(o===ni&&((Or&2)===0&&(qh|=p),Hi===4&&Af(o,Gn,wl,!1)),ic(o))}function nE(o,c,p){if((Or&6)!==0)throw Error(r(327));var v=!p&&(c&124)===0&&(c&o.expiredLanes)===0||nn(o,c),E=v?f9(o,c):t5(o,c,!0),I=v;do{if(E===0){Jp&&!v&&Af(o,c,0,!1);break}else{if(p=o.current.alternate,I&&!c9(p)){E=t5(o,c,!1),I=!1;continue}if(E===2){if(I=c,o.errorRecoveryDisabledLanes&I)var J=0;else J=o.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){c=J;e:{var pe=o;E=Xm;var Te=pe.current.memoizedState.isDehydrated;if(Te&&(r0(pe,J).flags|=256),J=t5(pe,J,!1),J!==2){if(Y2&&!Te){pe.errorRecoveryDisabledLanes|=I,qh|=I,E=4;break e}I=mo,mo=E,I!==null&&(mo===null?mo=I:mo.push.apply(mo,I))}E=J}if(I=!1,E!==2)continue}}if(E===1){r0(o,0),Af(o,c,0,!0);break}e:{switch(v=o,I=E,I){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Af(v,c,wl,!xf);break e;case 2:mo=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(E=Q2+300-be(),10<E)){if(Af(v,c,wl,!xf),Zt(v,0,!0)!==0)break e;v.timeoutHandle=OE(rE.bind(null,v,p,mo,Kb,G2,c,wl,qh,e0,xf,I,2,-0,0),E);break e}rE(v,p,mo,Kb,G2,c,wl,qh,e0,xf,I,0,-0,0)}}break}while(!0);ic(o)}function rE(o,c,p,v,E,I,J,pe,Te,Ze,mt,St,tt,rt){if(o.timeoutHandle=-1,St=c.subtreeFlags,(St&8192||(St&16785408)===16785408)&&(a1={stylesheets:null,count:0,unsuspend:W9},KC(c),St=V9(),St!==null)){o.cancelPendingCommit=St(cE.bind(null,o,c,I,p,v,E,J,pe,Te,mt,1,tt,rt)),Af(o,I,J,!Ze);return}cE(o,c,I,p,v,E,J,pe,Te)}function c9(o){for(var c=o;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var E=p[v],I=E.getSnapshot;E=E.value;try{if(!Sa(I(),E))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Af(o,c,p,v){c&=~V2,c&=~qh,o.suspendedLanes|=c,o.pingedLanes&=~c,v&&(o.warmLanes|=c),v=o.expirationTimes;for(var E=c;0<E;){var I=31-je(E),J=1<<I;v[I]=-1,E&=~J}p!==0&&Gt(o,p,c)}function Xb(){return(Or&6)===0?(Jm(0),!1):!0}function J2(){if(Bn!==null){if(Ir===0)var o=Bn.return;else o=Bn,nu=Ca=null,$p(o),Qp=null,$m=0,o=Bn;for(;o!==null;)MC(o.alternate,o),o=o.return;Bn=null}}function r0(o,c){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,N9(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),J2(),ni=o,Bn=p=pl(o.current,null),Gn=c,Ir=0,zo=null,xf=!1,Jp=nn(o,c),Y2=!1,e0=wl=V2=qh=vf=Hi=0,mo=Xm=null,G2=!1,(c&8)!==0&&(c|=c&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=c;0<v;){var E=31-je(v),I=1<<E;c|=o[E],v&=~I}return hd=c,uo(),p}function iE(o,c){en=null,W.H=Pb,c===le||c===fe?(c=$e(),Ir=3):c===ue?(c=$e(),Ir=4):Ir=c===SC?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,zo=c,Bn===null&&(Hi=1,$b(o,Dn(c,o.current)))}function aE(){var o=W.H;return W.H=Pb,o===null?Pb:o}function sE(){var o=W.A;return W.A=l9,o}function e5(){Hi=4,xf||(Gn&4194048)!==Gn&&vl.current!==null||(Jp=!0),(vf&134217727)===0&&(qh&134217727)===0||ni===null||Af(ni,Gn,wl,!1)}function t5(o,c,p){var v=Or;Or|=2;var E=aE(),I=sE();(ni!==o||Gn!==c)&&(Kb=null,r0(o,c)),c=!1;var J=Hi;e:do try{if(Ir!==0&&Bn!==null){var pe=Bn,Te=zo;switch(Ir){case 8:J2(),J=6;break e;case 3:case 2:case 9:case 6:vl.current===null&&(c=!0);var Ze=Ir;if(Ir=0,zo=null,i0(o,pe,Te,Ze),p&&Jp){J=0;break e}break;default:Ze=Ir,Ir=0,zo=null,i0(o,pe,Te,Ze)}}d9(),J=Hi;break}catch(mt){iE(o,mt)}while(!0);return c&&o.shellSuspendCounter++,nu=Ca=null,Or=v,W.H=E,W.A=I,Bn===null&&(ni=null,Gn=0,uo()),J}function d9(){for(;Bn!==null;)oE(Bn)}function f9(o,c){var p=Or;Or|=2;var v=aE(),E=sE();ni!==o||Gn!==c?(Kb=null,Qb=be()+500,r0(o,c)):Jp=nn(o,c);e:do try{if(Ir!==0&&Bn!==null){c=Bn;var I=zo;t:switch(Ir){case 1:Ir=0,zo=null,i0(o,c,I,1);break;case 2:case 9:if(Ce(I)){Ir=0,zo=null,lE(c);break}c=function(){Ir!==2&&Ir!==9||ni!==o||(Ir=7),ic(o)},I.then(c,c);break e;case 3:Ir=7;break e;case 4:Ir=5;break e;case 7:Ce(I)?(Ir=0,zo=null,lE(c)):(Ir=0,zo=null,i0(o,c,I,7));break;case 5:var J=null;switch(Bn.tag){case 26:J=Bn.memoizedState;case 5:case 27:var pe=Bn;if(!J||$E(J)){Ir=0,zo=null;var Te=pe.sibling;if(Te!==null)Bn=Te;else{var Ze=pe.return;Ze!==null?(Bn=Ze,Zb(Ze)):Bn=null}break t}}Ir=0,zo=null,i0(o,c,I,5);break;case 6:Ir=0,zo=null,i0(o,c,I,6);break;case 8:J2(),Hi=6;break e;default:throw Error(r(462))}}h9();break}catch(mt){iE(o,mt)}while(!0);return nu=Ca=null,W.H=v,W.A=E,Or=p,Bn!==null?0:(ni=null,Gn=0,uo(),Hi)}function h9(){for(;Bn!==null&&!Se();)oE(Bn)}function oE(o){var c=LC(o.alternate,o,hd);o.memoizedProps=o.pendingProps,c===null?Zb(o):Bn=c}function lE(o){var c=o,p=c.alternate;switch(c.tag){case 15:case 0:c=NC(p,c,c.pendingProps,c.type,void 0,Gn);break;case 11:c=NC(p,c,c.pendingProps,c.type.render,c.ref,Gn);break;case 5:$p(c);default:MC(p,c),c=Bn=Sh(c,hd),c=LC(p,c,hd)}o.memoizedProps=o.pendingProps,c===null?Zb(o):Bn=c}function i0(o,c,p,v){nu=Ca=null,$p(c),Qp=null,$m=0;var E=c.return;try{if(n9(o,E,c,p,Gn)){Hi=1,$b(o,Dn(p,o.current)),Bn=null;return}}catch(I){if(E!==null)throw Bn=E,I;Hi=1,$b(o,Dn(p,o.current)),Bn=null;return}c.flags&32768?(tr||v===1?o=!0:Jp||(Gn&536870912)!==0?o=!1:(xf=o=!0,(v===2||v===9||v===3||v===6)&&(v=vl.current,v!==null&&v.tag===13&&(v.flags|=16384))),uE(c,o)):Zb(c)}function Zb(o){var c=o;do{if((c.flags&32768)!==0){uE(c,xf);return}o=c.return;var p=i9(c.alternate,c,hd);if(p!==null){Bn=p;return}if(c=c.sibling,c!==null){Bn=c;return}Bn=c=o}while(c!==null);Hi===0&&(Hi=5)}function uE(o,c){do{var p=a9(o.alternate,o);if(p!==null){p.flags&=32767,Bn=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(o=o.sibling,o!==null)){Bn=o;return}Bn=o=p}while(o!==null);Hi=6,Bn=null}function cE(o,c,p,v,E,I,J,pe,Te){o.cancelPendingCommit=null;do Jb();while(cs!==0);if((Or&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(I=c.lanes|c.childLanes,I|=Ni,Rn(o,p,I,J,pe,Te),o===ni&&(Bn=ni=null,Gn=0),t0=c,Sf=o,n0=p,K2=I,X2=E,eE=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,b9(qe,function(){return mE(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=W.T,W.T=null,E=K.p,K.p=2,J=Or,Or|=4;try{s9(o,c,p)}finally{Or=J,K.p=E,W.T=v}}cs=1,dE(),fE(),hE()}}function dE(){if(cs===1){cs=0;var o=Sf,c=t0,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=W.T,W.T=null;var v=K.p;K.p=2;var E=Or;Or|=4;try{VC(c,o);var I=h5,J=ss(o.containerInfo),pe=I.focusedElem,Te=I.selectionRange;if(J!==pe&&pe&&pe.ownerDocument&&zu(pe.ownerDocument.documentElement,pe)){if(Te!==null&&La(pe)){var Ze=Te.start,mt=Te.end;if(mt===void 0&&(mt=Ze),"selectionStart"in pe)pe.selectionStart=Ze,pe.selectionEnd=Math.min(mt,pe.value.length);else{var St=pe.ownerDocument||document,tt=St&&St.defaultView||window;if(tt.getSelection){var rt=tt.getSelection(),dn=pe.textContent.length,rn=Math.min(Te.start,dn),Br=Te.end===void 0?rn:Math.min(Te.end,dn);!rt.extend&&rn>Br&&(J=Br,Br=rn,rn=J);var He=Gl(pe,rn),Be=Gl(pe,Br);if(He&&Be&&(rt.rangeCount!==1||rt.anchorNode!==He.node||rt.anchorOffset!==He.offset||rt.focusNode!==Be.node||rt.focusOffset!==Be.offset)){var Qe=St.createRange();Qe.setStart(He.node,He.offset),rt.removeAllRanges(),rn>Br?(rt.addRange(Qe),rt.extend(Be.node,Be.offset)):(Qe.setEnd(Be.node,Be.offset),rt.addRange(Qe))}}}}for(St=[],rt=pe;rt=rt.parentNode;)rt.nodeType===1&&St.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof pe.focus=="function"&&pe.focus(),pe=0;pe<St.length;pe++){var bt=St[pe];bt.element.scrollLeft=bt.left,bt.element.scrollTop=bt.top}}dy=!!f5,h5=f5=null}finally{Or=E,K.p=v,W.T=p}}o.current=c,cs=2}}function fE(){if(cs===2){cs=0;var o=Sf,c=t0,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=W.T,W.T=null;var v=K.p;K.p=2;var E=Or;Or|=4;try{$C(o,c.alternate,c)}finally{Or=E,K.p=v,W.T=p}}cs=3}}function hE(){if(cs===4||cs===3){cs=0,te();var o=Sf,c=t0,p=n0,v=eE;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?cs=5:(cs=0,t0=Sf=null,pE(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(wf=null),Sr(p),c=c.stateNode,ve&&typeof ve.onCommitFiberRoot=="function")try{ve.onCommitFiberRoot(Pe,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=W.T,E=K.p,K.p=2,W.T=null;try{for(var I=o.onRecoverableError,J=0;J<v.length;J++){var pe=v[J];I(pe.value,{componentStack:pe.stack})}}finally{W.T=c,K.p=E}}(n0&3)!==0&&Jb(),ic(o),E=o.pendingLanes,(p&4194090)!==0&&(E&42)!==0?o===Z2?Zm++:(Zm=0,Z2=o):Zm=0,Jm(0)}}function pE(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,_h(c)))}function Jb(o){return dE(),fE(),hE(),mE()}function mE(){if(cs!==5)return!1;var o=Sf,c=K2;K2=0;var p=Sr(n0),v=W.T,E=K.p;try{K.p=32>p?32:p,W.T=null,p=X2,X2=null;var I=Sf,J=n0;if(cs=0,t0=Sf=null,n0=0,(Or&6)!==0)throw Error(r(331));var pe=Or;if(Or|=4,ZC(I.current),QC(I,I.current,J,p),Or=pe,Jm(0,!1),ve&&typeof ve.onPostCommitFiberRoot=="function")try{ve.onPostCommitFiberRoot(Pe,I)}catch{}return!0}finally{K.p=E,W.T=v,pE(o,c)}}function gE(o,c,p){c=Dn(p,c),c=j2(o.stateNode,c,2),o=vt(o,c,2),o!==null&&(ir(o,2),ic(o))}function Kr(o,c,p){if(o.tag===3)gE(o,o,p);else for(;c!==null;){if(c.tag===3){gE(c,o,p);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(wf===null||!wf.has(v))){o=Dn(p,o),p=vC(2),v=vt(c,p,2),v!==null&&(wC(p,v,c,o),ir(v,2),ic(v));break}}c=c.return}}function n5(o,c,p){var v=o.pingCache;if(v===null){v=o.pingCache=new u9;var E=new Set;v.set(c,E)}else E=v.get(c),E===void 0&&(E=new Set,v.set(c,E));E.has(p)||(Y2=!0,E.add(p),o=p9.bind(null,o,c,p),c.then(o,o))}function p9(o,c,p){var v=o.pingCache;v!==null&&v.delete(c),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,ni===o&&(Gn&p)===p&&(Hi===4||Hi===3&&(Gn&62914560)===Gn&&300>be()-Q2?(Or&2)===0&&r0(o,0):V2|=p,e0===Gn&&(e0=0)),ic(o)}function bE(o,c){c===0&&(c=zn()),o=Kl(o,c),o!==null&&(ir(o,c),ic(o))}function m9(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),bE(o,p)}function g9(o,c){var p=0;switch(o.tag){case 13:var v=o.stateNode,E=o.memoizedState;E!==null&&(p=E.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(c),bE(o,p)}function b9(o,c){return Ye(o,c)}var ey=null,a0=null,r5=!1,ty=!1,i5=!1,Bh=0;function ic(o){o!==a0&&o.next===null&&(a0===null?ey=a0=o:a0=a0.next=o),ty=!0,r5||(r5=!0,x9())}function Jm(o,c){if(!i5&&ty){i5=!0;do for(var p=!1,v=ey;v!==null;){if(o!==0){var E=v.pendingLanes;if(E===0)var I=0;else{var J=v.suspendedLanes,pe=v.pingedLanes;I=(1<<31-je(42|o)+1)-1,I&=E&~(J&~pe),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(p=!0,wE(v,I))}else I=Gn,I=Zt(v,v===ni?I:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(I&3)===0||nn(v,I)||(p=!0,wE(v,I));v=v.next}while(p);i5=!1}}function y9(){yE()}function yE(){ty=r5=!1;var o=0;Bh!==0&&(k9()&&(o=Bh),Bh=0);for(var c=be(),p=null,v=ey;v!==null;){var E=v.next,I=xE(v,c);I===0?(v.next=null,p===null?ey=E:p.next=E,E===null&&(a0=p)):(p=v,(o!==0||(I&3)!==0)&&(ty=!0)),v=E}Jm(o)}function xE(o,c){for(var p=o.suspendedLanes,v=o.pingedLanes,E=o.expirationTimes,I=o.pendingLanes&-62914561;0<I;){var J=31-je(I),pe=1<<J,Te=E[J];Te===-1?((pe&p)===0||(pe&v)!==0)&&(E[J]=ln(pe,c)):Te<=c&&(o.expiredLanes|=pe),I&=~pe}if(c=ni,p=Gn,p=Zt(o,o===c?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,p===0||o===c&&(Ir===2||Ir===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&Y(v),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||nn(o,p)){if(c=p&-p,c===o.callbackPriority)return c;switch(v!==null&&Y(v),Sr(p)){case 2:case 8:p=Le;break;case 32:p=qe;break;case 268435456:p=Xe;break;default:p=qe}return v=vE.bind(null,o),p=Ye(p,v),o.callbackPriority=c,o.callbackNode=p,c}return v!==null&&v!==null&&Y(v),o.callbackPriority=2,o.callbackNode=null,2}function vE(o,c){if(cs!==0&&cs!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(Jb()&&o.callbackNode!==p)return null;var v=Gn;return v=Zt(o,o===ni?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(nE(o,v,c),xE(o,be()),o.callbackNode!=null&&o.callbackNode===p?vE.bind(null,o):null)}function wE(o,c){if(Jb())return null;nE(o,c,!0)}function x9(){T9(function(){(Or&6)!==0?Ye(Ae,y9):yE()})}function a5(){return Bh===0&&(Bh=Pn()),Bh}function SE(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Vs(""+o)}function AE(o,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,o.id&&p.setAttribute("form",o.id),c.parentNode.insertBefore(p,c),o=new FormData(o),p.parentNode.removeChild(p),o}function v9(o,c,p,v,E){if(c==="submit"&&p&&p.stateNode===E){var I=SE((E[ar]||null).action),J=v.submitter;J&&(c=(c=J[ar]||null)?SE(c.formAction):J.getAttribute("formAction"),c!==null&&(I=c,J=null));var pe=new lt("action","action",null,v,E);o.push({event:pe,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Bh!==0){var Te=J?AE(E,J):new FormData(E);xl(p,{pending:!0,data:Te,method:E.method,action:I},null,Te)}}else typeof I=="function"&&(pe.preventDefault(),Te=J?AE(E,J):new FormData(E),xl(p,{pending:!0,data:Te,method:E.method,action:I},I,Te))},currentTarget:E}]})}}for(var s5=0;s5<Xc.length;s5++){var o5=Xc[s5],w9=o5.toLowerCase(),S9=o5[0].toUpperCase()+o5.slice(1);gi(w9,"on"+S9)}gi(nf,"onAnimationEnd"),gi(Bu,"onAnimationIteration"),gi(Uu,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi($u,"onTransitionRun"),gi(Kc,"onTransitionStart"),gi(rf,"onTransitionCancel"),gi(Hu,"onTransitionEnd"),Fr("onMouseEnter",["mouseout","mouseover"]),Fr("onMouseLeave",["mouseout","mouseover"]),Fr("onPointerEnter",["pointerout","pointerover"]),Fr("onPointerLeave",["pointerout","pointerover"]),Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var e1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(e1));function CE(o,c){c=(c&4)!==0;for(var p=0;p<o.length;p++){var v=o[p],E=v.event;v=v.listeners;e:{var I=void 0;if(c)for(var J=v.length-1;0<=J;J--){var pe=v[J],Te=pe.instance,Ze=pe.currentTarget;if(pe=pe.listener,Te!==I&&E.isPropagationStopped())break e;I=pe,E.currentTarget=Ze;try{I(E)}catch(mt){Ub(mt)}E.currentTarget=null,I=Te}else for(J=0;J<v.length;J++){if(pe=v[J],Te=pe.instance,Ze=pe.currentTarget,pe=pe.listener,Te!==I&&E.isPropagationStopped())break e;I=pe,E.currentTarget=Ze;try{I(E)}catch(mt){Ub(mt)}E.currentTarget=null,I=Te}}}}function Un(o,c){var p=c[dr];p===void 0&&(p=c[dr]=new Set);var v=o+"__bubble";p.has(v)||(EE(c,o,2,!1),p.add(v))}function l5(o,c,p){var v=0;c&&(v|=4),EE(p,o,v,c)}var ny="_reactListening"+Math.random().toString(36).slice(2);function u5(o){if(!o[ny]){o[ny]=!0,ro.forEach(function(p){p!=="selectionchange"&&(A9.has(p)||l5(p,!1,o),l5(p,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[ny]||(c[ny]=!0,l5("selectionchange",!1,c))}}function EE(o,c,p,v){switch(QE(c)){case 2:var E=K9;break;case 8:E=X9;break;default:E=A5}p=E.bind(null,c,p,o),E=void 0,!ko||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(E=!0),v?E!==void 0?o.addEventListener(c,p,{capture:!0,passive:E}):o.addEventListener(c,p,!0):E!==void 0?o.addEventListener(c,p,{passive:E}):o.addEventListener(c,p,!1)}function c5(o,c,p,v,E){var I=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var J=v.tag;if(J===3||J===4){var pe=v.stateNode.containerInfo;if(pe===E)break;if(J===4)for(J=v.return;J!==null;){var Te=J.tag;if((Te===3||Te===4)&&J.stateNode.containerInfo===E)return;J=J.return}for(;pe!==null;){if(J=Pi(pe),J===null)return;if(Te=J.tag,Te===5||Te===6||Te===26||Te===27){v=I=J;continue e}pe=pe.parentNode}}v=v.return}ul(function(){var Ze=I,mt=oi(p),St=[];e:{var tt=Ql.get(o);if(tt!==void 0){var rt=lt,dn=o;switch(o){case"keypress":if(oo(p)===0)break e;case"keydown":case"keyup":rt=Xd;break;case"focusin":dn="focus",rt=Qr;break;case"focusout":dn="blur",rt=Qr;break;case"beforeblur":case"afterblur":rt=Qr;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Tr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=Ar;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=yh;break;case nf:case Bu:case Uu:rt=Gs;break;case Hu:rt=re;break;case"scroll":case"scrollend":rt=Bt;break;case"wheel":rt=Re;break;case"copy":case"cut":case"paste":rt=Gd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Zd;break;case"toggle":case"beforetoggle":rt=dt}var rn=(c&4)!==0,Br=!rn&&(o==="scroll"||o==="scrollend"),He=rn?tt!==null?tt+"Capture":null:tt;rn=[];for(var Be=Ze,Qe;Be!==null;){var bt=Be;if(Qe=bt.stateNode,bt=bt.tag,bt!==5&&bt!==26&&bt!==27||Qe===null||He===null||(bt=Ei(Be,He),bt!=null&&rn.push(t1(Be,bt,Qe))),Br)break;Be=Be.return}0<rn.length&&(tt=new rt(tt,dn,null,p,mt),St.push({event:tt,listeners:rn}))}}if((c&7)===0){e:{if(tt=o==="mouseover"||o==="pointerover",rt=o==="mouseout"||o==="pointerout",tt&&p!==ll&&(dn=p.relatedTarget||p.fromElement)&&(Pi(dn)||dn[Mr]))break e;if((rt||tt)&&(tt=mt.window===mt?mt:(tt=mt.ownerDocument)?tt.defaultView||tt.parentWindow:window,rt?(dn=p.relatedTarget||p.toElement,rt=Ze,dn=dn?Pi(dn):null,dn!==null&&(Br=a(dn),rn=dn.tag,dn!==Br||rn!==5&&rn!==27&&rn!==6)&&(dn=null)):(rt=null,dn=Ze),rt!==dn)){if(rn=Tr,bt="onMouseLeave",He="onMouseEnter",Be="mouse",(o==="pointerout"||o==="pointerover")&&(rn=Zd,bt="onPointerLeave",He="onPointerEnter",Be="pointer"),Br=rt==null?tt:Jn(rt),Qe=dn==null?tt:Jn(dn),tt=new rn(bt,Be+"leave",rt,p,mt),tt.target=Br,tt.relatedTarget=Qe,bt=null,Pi(mt)===Ze&&(rn=new rn(He,Be+"enter",dn,p,mt),rn.target=Qe,rn.relatedTarget=Br,bt=rn),Br=bt,rt&&dn)t:{for(rn=rt,He=dn,Be=0,Qe=rn;Qe;Qe=s0(Qe))Be++;for(Qe=0,bt=He;bt;bt=s0(bt))Qe++;for(;0<Be-Qe;)rn=s0(rn),Be--;for(;0<Qe-Be;)He=s0(He),Qe--;for(;Be--;){if(rn===He||He!==null&&rn===He.alternate)break t;rn=s0(rn),He=s0(He)}rn=null}else rn=null;rt!==null&&_E(St,tt,rt,rn,!1),dn!==null&&Br!==null&&_E(St,Br,dn,rn,!0)}}e:{if(tt=Ze?Jn(Ze):window,rt=tt.nodeName&&tt.nodeName.toLowerCase(),rt==="select"||rt==="input"&&tt.type==="file")var zt=ef;else if(Oo(tt))if(Yc)zt=Rp;else{zt=km;var Mn=Cs}else rt=tt.nodeName,!rt||rt.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?Ze&&qa(Ze.elementType)&&(zt=ef):zt=vh;if(zt&&(zt=zt(o,Ze))){xh(St,zt,p,mt);break e}Mn&&Mn(o,tt,Ze),o==="focusout"&&Ze&&tt.type==="number"&&Ze.memoizedProps.value!=null&&_o(tt,"number",tt.value)}switch(Mn=Ze?Jn(Ze):window,o){case"focusin":(Oo(Mn)||Mn.contentEditable==="true")&&(Es=Mn,Io=Ze,fl=null);break;case"focusout":fl=Io=Es=null;break;case"mousedown":Do=!0;break;case"contextmenu":case"mouseup":case"dragend":Do=!1,mi(St,p,mt);break;case"selectionchange":if(qu)break;case"keydown":case"keyup":mi(St,p,mt)}var Xt;if(Ot)e:{switch(o){case"compositionstart":var sn="onCompositionStart";break e;case"compositionend":sn="onCompositionEnd";break e;case"compositionupdate":sn="onCompositionUpdate";break e}sn=void 0}else ki?li(o,p)&&(sn="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(sn="onCompositionStart");sn&&(fn&&p.locale!=="ko"&&(ki||sn!=="onCompositionStart"?sn==="onCompositionEnd"&&ki&&(Xt=cl()):(Da=mt,$a="value"in Da?Da.value:Da.textContent,ki=!0)),Mn=ry(Ze,sn),0<Mn.length&&(sn=new To(sn,o,null,p,mt),St.push({event:sn,listeners:Mn}),Xt?sn.data=Xt:(Xt=_i(p),Xt!==null&&(sn.data=Xt)))),(Xt=xn?wa(o,p):jo(o,p))&&(sn=ry(Ze,"onBeforeInput"),0<sn.length&&(Mn=new To("onBeforeInput","beforeinput",null,p,mt),St.push({event:Mn,listeners:sn}),Mn.data=Xt)),v9(St,o,Ze,p,mt)}CE(St,c)})}function t1(o,c,p){return{instance:o,listener:c,currentTarget:p}}function ry(o,c){for(var p=c+"Capture",v=[];o!==null;){var E=o,I=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||I===null||(E=Ei(o,p),E!=null&&v.unshift(t1(o,E,I)),E=Ei(o,c),E!=null&&v.push(t1(o,E,I))),o.tag===3)return v;o=o.return}return[]}function s0(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function _E(o,c,p,v,E){for(var I=c._reactName,J=[];p!==null&&p!==v;){var pe=p,Te=pe.alternate,Ze=pe.stateNode;if(pe=pe.tag,Te!==null&&Te===v)break;pe!==5&&pe!==26&&pe!==27||Ze===null||(Te=Ze,E?(Ze=Ei(p,I),Ze!=null&&J.unshift(t1(p,Ze,Te))):E||(Ze=Ei(p,I),Ze!=null&&J.push(t1(p,Ze,Te)))),p=p.return}J.length!==0&&o.push({event:c,listeners:J})}var C9=/\r\n?/g,E9=/\u0000|\uFFFD/g;function kE(o){return(typeof o=="string"?o:""+o).replace(C9,`
`).replace(E9,"")}function NE(o,c){return c=kE(c),kE(o)===c}function iy(){}function qr(o,c,p,v,E,I){switch(p){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||qi(o,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&qi(o,""+v);break;case"className":ys(o,"class",v);break;case"tabIndex":ys(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":ys(o,p,v);break;case"style":Lu(o,v,I);break;case"data":if(c!=="object"){ys(o,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||p!=="href")){o.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=Vs(""+v),o.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(p==="formAction"?(c!=="input"&&qr(o,c,"name",E.name,E,null),qr(o,c,"formEncType",E.formEncType,E,null),qr(o,c,"formMethod",E.formMethod,E,null),qr(o,c,"formTarget",E.formTarget,E,null)):(qr(o,c,"encType",E.encType,E,null),qr(o,c,"method",E.method,E,null),qr(o,c,"target",E.target,E,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=Vs(""+v),o.setAttribute(p,v);break;case"onClick":v!=null&&(o.onclick=iy);break;case"onScroll":v!=null&&Un("scroll",o);break;case"onScrollEnd":v!=null&&Un("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}p=Vs(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""+v):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":v===!0?o.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,v):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(p,v):o.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(p):o.setAttribute(p,v);break;case"popover":Un("beforetoggle",o),Un("toggle",o),$s(o,"popover",v);break;case"xlinkActuate":Pa(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Pa(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Pa(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Pa(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Pa(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Pa(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Pa(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Pa(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Pa(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":$s(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Ys.get(p)||p,$s(o,p,v))}}function d5(o,c,p,v,E,I){switch(p){case"style":Lu(o,v,I);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"children":typeof v=="string"?qi(o,v):(typeof v=="number"||typeof v=="bigint")&&qi(o,""+v);break;case"onScroll":v!=null&&Un("scroll",o);break;case"onScrollEnd":v!=null&&Un("scrollend",o);break;case"onClick":v!=null&&(o.onclick=iy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(E=p.endsWith("Capture"),c=p.slice(2,E?p.length-7:void 0),I=o[ar]||null,I=I!=null?I[p]:null,typeof I=="function"&&o.removeEventListener(c,I,E),typeof v=="function")){typeof I!="function"&&I!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(c,v,E);break e}p in o?o[p]=v:v===!0?o.setAttribute(p,""):$s(o,p,v)}}}function ds(o,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Un("error",o),Un("load",o);var v=!1,E=!1,I;for(I in p)if(p.hasOwnProperty(I)){var J=p[I];if(J!=null)switch(I){case"src":v=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:qr(o,c,I,J,p,null)}}E&&qr(o,c,"srcSet",p.srcSet,p,null),v&&qr(o,c,"src",p.src,p,null);return;case"input":Un("invalid",o);var pe=I=J=E=null,Te=null,Ze=null;for(v in p)if(p.hasOwnProperty(v)){var mt=p[v];if(mt!=null)switch(v){case"name":E=mt;break;case"type":J=mt;break;case"checked":Te=mt;break;case"defaultChecked":Ze=mt;break;case"value":I=mt;break;case"defaultValue":pe=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(r(137,c));break;default:qr(o,c,v,mt,p,null)}}Wl(o,I,pe,Te,Ze,J,E,!1),za(o);return;case"select":Un("invalid",o),v=J=I=null;for(E in p)if(p.hasOwnProperty(E)&&(pe=p[E],pe!=null))switch(E){case"value":I=pe;break;case"defaultValue":J=pe;break;case"multiple":v=pe;default:qr(o,c,E,pe,p,null)}c=I,p=J,o.multiple=!!v,c!=null?Hs(o,!!v,c,!1):p!=null&&Hs(o,!!v,p,!0);return;case"textarea":Un("invalid",o),I=E=v=null;for(J in p)if(p.hasOwnProperty(J)&&(pe=p[J],pe!=null))switch(J){case"value":v=pe;break;case"defaultValue":E=pe;break;case"children":I=pe;break;case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(91));break;default:qr(o,c,J,pe,p,null)}Ws(o,v,E,I),za(o);return;case"option":for(Te in p)if(p.hasOwnProperty(Te)&&(v=p[Te],v!=null))switch(Te){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:qr(o,c,Te,v,p,null)}return;case"dialog":Un("beforetoggle",o),Un("toggle",o),Un("cancel",o),Un("close",o);break;case"iframe":case"object":Un("load",o);break;case"video":case"audio":for(v=0;v<e1.length;v++)Un(e1[v],o);break;case"image":Un("error",o),Un("load",o);break;case"details":Un("toggle",o);break;case"embed":case"source":case"link":Un("error",o),Un("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ze in p)if(p.hasOwnProperty(Ze)&&(v=p[Ze],v!=null))switch(Ze){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:qr(o,c,Ze,v,p,null)}return;default:if(qa(c)){for(mt in p)p.hasOwnProperty(mt)&&(v=p[mt],v!==void 0&&d5(o,c,mt,v,p,void 0));return}}for(pe in p)p.hasOwnProperty(pe)&&(v=p[pe],v!=null&&qr(o,c,pe,v,p,null))}function _9(o,c,p,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,I=null,J=null,pe=null,Te=null,Ze=null,mt=null;for(rt in p){var St=p[rt];if(p.hasOwnProperty(rt)&&St!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":Te=St;default:v.hasOwnProperty(rt)||qr(o,c,rt,null,v,St)}}for(var tt in v){var rt=v[tt];if(St=p[tt],v.hasOwnProperty(tt)&&(rt!=null||St!=null))switch(tt){case"type":I=rt;break;case"name":E=rt;break;case"checked":Ze=rt;break;case"defaultChecked":mt=rt;break;case"value":J=rt;break;case"defaultValue":pe=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(r(137,c));break;default:rt!==St&&qr(o,c,tt,rt,v,St)}}Eo(o,J,pe,Te,Ze,mt,I,E);return;case"select":rt=J=pe=tt=null;for(I in p)if(Te=p[I],p.hasOwnProperty(I)&&Te!=null)switch(I){case"value":break;case"multiple":rt=Te;default:v.hasOwnProperty(I)||qr(o,c,I,null,v,Te)}for(E in v)if(I=v[E],Te=p[E],v.hasOwnProperty(E)&&(I!=null||Te!=null))switch(E){case"value":tt=I;break;case"defaultValue":pe=I;break;case"multiple":J=I;default:I!==Te&&qr(o,c,E,I,v,Te)}c=pe,p=J,v=rt,tt!=null?Hs(o,!!p,tt,!1):!!v!=!!p&&(c!=null?Hs(o,!!p,c,!0):Hs(o,!!p,p?[]:"",!1));return;case"textarea":rt=tt=null;for(pe in p)if(E=p[pe],p.hasOwnProperty(pe)&&E!=null&&!v.hasOwnProperty(pe))switch(pe){case"value":break;case"children":break;default:qr(o,c,pe,null,v,E)}for(J in v)if(E=v[J],I=p[J],v.hasOwnProperty(J)&&(E!=null||I!=null))switch(J){case"value":tt=E;break;case"defaultValue":rt=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==I&&qr(o,c,J,E,v,I)}Du(o,tt,rt);return;case"option":for(var dn in p)if(tt=p[dn],p.hasOwnProperty(dn)&&tt!=null&&!v.hasOwnProperty(dn))switch(dn){case"selected":o.selected=!1;break;default:qr(o,c,dn,null,v,tt)}for(Te in v)if(tt=v[Te],rt=p[Te],v.hasOwnProperty(Te)&&tt!==rt&&(tt!=null||rt!=null))switch(Te){case"selected":o.selected=tt&&typeof tt!="function"&&typeof tt!="symbol";break;default:qr(o,c,Te,tt,v,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rn in p)tt=p[rn],p.hasOwnProperty(rn)&&tt!=null&&!v.hasOwnProperty(rn)&&qr(o,c,rn,null,v,tt);for(Ze in v)if(tt=v[Ze],rt=p[Ze],v.hasOwnProperty(Ze)&&tt!==rt&&(tt!=null||rt!=null))switch(Ze){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(r(137,c));break;default:qr(o,c,Ze,tt,v,rt)}return;default:if(qa(c)){for(var Br in p)tt=p[Br],p.hasOwnProperty(Br)&&tt!==void 0&&!v.hasOwnProperty(Br)&&d5(o,c,Br,void 0,v,tt);for(mt in v)tt=v[mt],rt=p[mt],!v.hasOwnProperty(mt)||tt===rt||tt===void 0&&rt===void 0||d5(o,c,mt,tt,v,rt);return}}for(var He in p)tt=p[He],p.hasOwnProperty(He)&&tt!=null&&!v.hasOwnProperty(He)&&qr(o,c,He,null,v,tt);for(St in v)tt=v[St],rt=p[St],!v.hasOwnProperty(St)||tt===rt||tt==null&&rt==null||qr(o,c,St,tt,v,rt)}var f5=null,h5=null;function ay(o){return o.nodeType===9?o:o.ownerDocument}function TE(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jE(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function p5(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var m5=null;function k9(){var o=window.event;return o&&o.type==="popstate"?o===m5?!1:(m5=o,!0):(m5=null,!1)}var OE=typeof setTimeout=="function"?setTimeout:void 0,N9=typeof clearTimeout=="function"?clearTimeout:void 0,IE=typeof Promise=="function"?Promise:void 0,T9=typeof queueMicrotask=="function"?queueMicrotask:typeof IE<"u"?function(o){return IE.resolve(null).then(o).catch(j9)}:OE;function j9(o){setTimeout(function(){throw o})}function Cf(o){return o==="head"}function DE(o,c){var p=c,v=0,E=0;do{var I=p.nextSibling;if(o.removeChild(p),I&&I.nodeType===8)if(p=I.data,p==="/$"){if(0<v&&8>v){p=v;var J=o.ownerDocument;if(p&1&&n1(J.documentElement),p&2&&n1(J.body),p&4)for(p=J.head,n1(p),J=p.firstChild;J;){var pe=J.nextSibling,Te=J.nodeName;J[Nr]||Te==="SCRIPT"||Te==="STYLE"||Te==="LINK"&&J.rel.toLowerCase()==="stylesheet"||p.removeChild(J),J=pe}}if(E===0){o.removeChild(I),c1(c);return}E--}else p==="$"||p==="$?"||p==="$!"?E++:v=p.charCodeAt(0)-48;else v=0;p=I}while(p);c1(c)}function g5(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":g5(p),Ia(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function O9(o,c,p,v){for(;o.nodeType===1;){var E=p;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[Nr])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(I=o.getAttribute("rel"),I==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(I!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(I=o.getAttribute("src"),(I!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&I&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var I=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===I)return o}else return o;if(o=uu(o.nextSibling),o===null)break}return null}function I9(o,c,p){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=uu(o.nextSibling),o===null))return null;return o}function b5(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function D9(o,c){var p=o.ownerDocument;if(o.data!=="$?"||p.readyState==="complete")c();else{var v=function(){c(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function uu(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var y5=null;function LE(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return o;c--}else p==="/$"&&c++}o=o.previousSibling}return null}function RE(o,c,p){switch(c=ay(p),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function n1(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Ia(o)}var Sl=new Map,ME=new Set;function sy(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var pd=K.d;K.d={f:L9,r:R9,D:M9,C:F9,L:P9,m:z9,X:B9,S:q9,M:U9};function L9(){var o=pd.f(),c=Xb();return o||c}function R9(o){var c=zi(o);c!==null&&c.tag===5&&c.type==="form"?Mh(c):pd.r(o)}var o0=typeof document>"u"?null:document;function FE(o,c,p){var v=o0;if(v&&typeof c=="string"&&c){var E=hr(c);E='link[rel="'+o+'"][href="'+E+'"]',typeof p=="string"&&(E+='[crossorigin="'+p+'"]'),ME.has(E)||(ME.add(E),o={rel:o,crossOrigin:p,href:c},v.querySelector(E)===null&&(c=v.createElement("link"),ds(c,"link",o),er(c),v.head.appendChild(c)))}}function M9(o){pd.D(o),FE("dns-prefetch",o,null)}function F9(o,c){pd.C(o,c),FE("preconnect",o,c)}function P9(o,c,p){pd.L(o,c,p);var v=o0;if(v&&o&&c){var E='link[rel="preload"][as="'+hr(c)+'"]';c==="image"&&p&&p.imageSrcSet?(E+='[imagesrcset="'+hr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(E+='[imagesizes="'+hr(p.imageSizes)+'"]')):E+='[href="'+hr(o)+'"]';var I=E;switch(c){case"style":I=l0(o);break;case"script":I=u0(o)}Sl.has(I)||(o=f({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:o,as:c},p),Sl.set(I,o),v.querySelector(E)!==null||c==="style"&&v.querySelector(r1(I))||c==="script"&&v.querySelector(i1(I))||(c=v.createElement("link"),ds(c,"link",o),er(c),v.head.appendChild(c)))}}function z9(o,c){pd.m(o,c);var p=o0;if(p&&o){var v=c&&typeof c.as=="string"?c.as:"script",E='link[rel="modulepreload"][as="'+hr(v)+'"][href="'+hr(o)+'"]',I=E;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=u0(o)}if(!Sl.has(I)&&(o=f({rel:"modulepreload",href:o},c),Sl.set(I,o),p.querySelector(E)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(i1(I)))return}v=p.createElement("link"),ds(v,"link",o),er(v),p.head.appendChild(v)}}}function q9(o,c,p){pd.S(o,c,p);var v=o0;if(v&&o){var E=Ci(v).hoistableStyles,I=l0(o);c=c||"default";var J=E.get(I);if(!J){var pe={loading:0,preload:null};if(J=v.querySelector(r1(I)))pe.loading=5;else{o=f({rel:"stylesheet",href:o,"data-precedence":c},p),(p=Sl.get(I))&&x5(o,p);var Te=J=v.createElement("link");er(Te),ds(Te,"link",o),Te._p=new Promise(function(Ze,mt){Te.onload=Ze,Te.onerror=mt}),Te.addEventListener("load",function(){pe.loading|=1}),Te.addEventListener("error",function(){pe.loading|=2}),pe.loading|=4,oy(J,c,v)}J={type:"stylesheet",instance:J,count:1,state:pe},E.set(I,J)}}}function B9(o,c){pd.X(o,c);var p=o0;if(p&&o){var v=Ci(p).hoistableScripts,E=u0(o),I=v.get(E);I||(I=p.querySelector(i1(E)),I||(o=f({src:o,async:!0},c),(c=Sl.get(E))&&v5(o,c),I=p.createElement("script"),er(I),ds(I,"link",o),p.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(E,I))}}function U9(o,c){pd.M(o,c);var p=o0;if(p&&o){var v=Ci(p).hoistableScripts,E=u0(o),I=v.get(E);I||(I=p.querySelector(i1(E)),I||(o=f({src:o,async:!0,type:"module"},c),(c=Sl.get(E))&&v5(o,c),I=p.createElement("script"),er(I),ds(I,"link",o),p.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(E,I))}}function PE(o,c,p,v){var E=(E=oe.current)?sy(E):null;if(!E)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=l0(p.href),p=Ci(E).hoistableStyles,v=p.get(c),v||(v={type:"style",instance:null,count:0,state:null},p.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=l0(p.href);var I=Ci(E).hoistableStyles,J=I.get(o);if(J||(E=E.ownerDocument||E,J={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(o,J),(I=E.querySelector(r1(o)))&&!I._p&&(J.instance=I,J.state.loading=5),Sl.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Sl.set(o,p),I||$9(E,o,p,J.state))),c&&v===null)throw Error(r(528,""));return J}if(c&&v!==null)throw Error(r(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=u0(p),p=Ci(E).hoistableScripts,v=p.get(c),v||(v={type:"script",instance:null,count:0,state:null},p.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function l0(o){return'href="'+hr(o)+'"'}function r1(o){return'link[rel="stylesheet"]['+o+"]"}function zE(o){return f({},o,{"data-precedence":o.precedence,precedence:null})}function $9(o,c,p,v){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=o.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),ds(c,"link",p),er(c),o.head.appendChild(c))}function u0(o){return'[src="'+hr(o)+'"]'}function i1(o){return"script[async]"+o}function qE(o,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var v=o.querySelector('style[data-href~="'+hr(p.href)+'"]');if(v)return c.instance=v,er(v),v;var E=f({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),er(v),ds(v,"style",E),oy(v,p.precedence,o),c.instance=v;case"stylesheet":E=l0(p.href);var I=o.querySelector(r1(E));if(I)return c.state.loading|=4,c.instance=I,er(I),I;v=zE(p),(E=Sl.get(E))&&x5(v,E),I=(o.ownerDocument||o).createElement("link"),er(I);var J=I;return J._p=new Promise(function(pe,Te){J.onload=pe,J.onerror=Te}),ds(I,"link",v),c.state.loading|=4,oy(I,p.precedence,o),c.instance=I;case"script":return I=u0(p.src),(E=o.querySelector(i1(I)))?(c.instance=E,er(E),E):(v=p,(E=Sl.get(I))&&(v=f({},p),v5(v,E)),o=o.ownerDocument||o,E=o.createElement("script"),er(E),ds(E,"link",v),o.head.appendChild(E),c.instance=E);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,oy(v,p.precedence,o));return c.instance}function oy(o,c,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=v.length?v[v.length-1]:null,I=E,J=0;J<v.length;J++){var pe=v[J];if(pe.dataset.precedence===c)I=pe;else if(I!==E)break}I?I.parentNode.insertBefore(o,I.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(o,c.firstChild))}function x5(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function v5(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var ly=null;function BE(o,c,p){if(ly===null){var v=new Map,E=ly=new Map;E.set(p,v)}else E=ly,v=E.get(p),v||(v=new Map,E.set(p,v));if(v.has(o))return v;for(v.set(o,null),p=p.getElementsByTagName(o),E=0;E<p.length;E++){var I=p[E];if(!(I[Nr]||I[Hn]||o==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var J=I.getAttribute(c)||"";J=o+J;var pe=v.get(J);pe?pe.push(I):v.set(J,[I])}}return v}function UE(o,c,p){o=o.ownerDocument||o,o.head.insertBefore(p,c==="title"?o.querySelector("head > title"):null)}function H9(o,c,p){if(p===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function $E(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var a1=null;function W9(){}function Y9(o,c,p){if(a1===null)throw Error(r(475));var v=a1;if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var E=l0(p.href),I=o.querySelector(r1(E));if(I){o=I._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(v.count++,v=uy.bind(v),o.then(v,v)),c.state.loading|=4,c.instance=I,er(I);return}I=o.ownerDocument||o,p=zE(p),(E=Sl.get(E))&&x5(p,E),I=I.createElement("link"),er(I);var J=I;J._p=new Promise(function(pe,Te){J.onload=pe,J.onerror=Te}),ds(I,"link",p),c.instance=I}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(v.count++,c=uy.bind(v),o.addEventListener("load",c),o.addEventListener("error",c))}}function V9(){if(a1===null)throw Error(r(475));var o=a1;return o.stylesheets&&o.count===0&&w5(o,o.stylesheets),0<o.count?function(c){var p=setTimeout(function(){if(o.stylesheets&&w5(o,o.stylesheets),o.unsuspend){var v=o.unsuspend;o.unsuspend=null,v()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(p)}}:null}function uy(){if(this.count--,this.count===0){if(this.stylesheets)w5(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var cy=null;function w5(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,cy=new Map,c.forEach(G9,o),cy=null,uy.call(o))}function G9(o,c){if(!(c.state.loading&4)){var p=cy.get(o);if(p)var v=p.get(null);else{p=new Map,cy.set(o,p);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<E.length;I++){var J=E[I];(J.nodeName==="LINK"||J.getAttribute("media")!=="not all")&&(p.set(J.dataset.precedence,J),v=J)}v&&p.set(null,v)}E=c.instance,J=E.getAttribute("data-precedence"),I=p.get(J)||v,I===v&&p.set(null,E),p.set(J,E),this.count++,v=uy.bind(this),E.addEventListener("load",v),E.addEventListener("error",v),I?I.parentNode.insertBefore(E,I.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),c.state.loading|=4}}var s1={$$typeof:N,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Q9(o,c,p,v,E,I,J,pe){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.hiddenUpdates=Gr(null),this.identifierPrefix=v,this.onUncaughtError=E,this.onCaughtError=I,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pe,this.incompleteTransitions=new Map}function HE(o,c,p,v,E,I,J,pe,Te,Ze,mt,St){return o=new Q9(o,c,p,J,pe,Te,Ze,St),c=1,I===!0&&(c|=24),I=Wa(3,null,null,c),o.current=I,I.stateNode=o,c=Tm(),c.refCount++,o.pooledCache=c,c.refCount++,I.memoizedState={element:v,isDehydrated:p,cache:c},ze(I),o}function WE(o){return o?(o=Aa,o):Aa}function YE(o,c,p,v,E,I){E=WE(E),v.context===null?v.context=E:v.pendingContext=E,v=pt(c),v.payload={element:p},I=I===void 0?null:I,I!==null&&(v.callback=I),p=vt(o,v,c),p!==null&&(Bo(p,o,c),gt(p,o,c))}function VE(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function S5(o,c){VE(o,c),(o=o.alternate)&&VE(o,c)}function GE(o){if(o.tag===13){var c=Kl(o,67108864);c!==null&&Bo(c,o,67108864),S5(o,67108864)}}var dy=!0;function K9(o,c,p,v){var E=W.T;W.T=null;var I=K.p;try{K.p=2,A5(o,c,p,v)}finally{K.p=I,W.T=E}}function X9(o,c,p,v){var E=W.T;W.T=null;var I=K.p;try{K.p=8,A5(o,c,p,v)}finally{K.p=I,W.T=E}}function A5(o,c,p,v){if(dy){var E=C5(v);if(E===null)c5(o,c,v,fy,p),KE(o,v);else if(J9(E,o,c,p,v))v.stopPropagation();else if(KE(o,v),c&4&&-1<Z9.indexOf(o)){for(;E!==null;){var I=zi(E);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var J=Rt(I.pendingLanes);if(J!==0){var pe=I;for(pe.pendingLanes|=2,pe.entangledLanes|=2;J;){var Te=1<<31-je(J);pe.entanglements[1]|=Te,J&=~Te}ic(I),(Or&6)===0&&(Qb=be()+500,Jm(0))}}break;case 13:pe=Kl(I,2),pe!==null&&Bo(pe,I,2),Xb(),S5(I,2)}if(I=C5(v),I===null&&c5(o,c,v,fy,p),I===E)break;E=I}E!==null&&v.stopPropagation()}else c5(o,c,v,null,p)}}function C5(o){return o=oi(o),E5(o)}var fy=null;function E5(o){if(fy=null,o=Pi(o),o!==null){var c=a(o);if(c===null)o=null;else{var p=c.tag;if(p===13){if(o=s(c),o!==null)return o;o=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return fy=o,null}function QE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case Ae:return 2;case Le:return 8;case qe:case Ne:return 32;case Xe:return 268435456;default:return 32}default:return 32}}var _5=!1,Ef=null,_f=null,kf=null,o1=new Map,l1=new Map,Nf=[],Z9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KE(o,c){switch(o){case"focusin":case"focusout":Ef=null;break;case"dragenter":case"dragleave":_f=null;break;case"mouseover":case"mouseout":kf=null;break;case"pointerover":case"pointerout":o1.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":l1.delete(c.pointerId)}}function u1(o,c,p,v,E,I){return o===null||o.nativeEvent!==I?(o={blockedOn:c,domEventName:p,eventSystemFlags:v,nativeEvent:I,targetContainers:[E]},c!==null&&(c=zi(c),c!==null&&GE(c)),o):(o.eventSystemFlags|=v,c=o.targetContainers,E!==null&&c.indexOf(E)===-1&&c.push(E),o)}function J9(o,c,p,v,E){switch(c){case"focusin":return Ef=u1(Ef,o,c,p,v,E),!0;case"dragenter":return _f=u1(_f,o,c,p,v,E),!0;case"mouseover":return kf=u1(kf,o,c,p,v,E),!0;case"pointerover":var I=E.pointerId;return o1.set(I,u1(o1.get(I)||null,o,c,p,v,E)),!0;case"gotpointercapture":return I=E.pointerId,l1.set(I,u1(l1.get(I)||null,o,c,p,v,E)),!0}return!1}function XE(o){var c=Pi(o.target);if(c!==null){var p=a(c);if(p!==null){if(c=p.tag,c===13){if(c=s(p),c!==null){o.blockedOn=c,xa(o.priority,function(){if(p.tag===13){var v=qo();v=ya(v);var E=Kl(p,v);E!==null&&Bo(E,p,v),S5(p,v)}});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function hy(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var p=C5(o.nativeEvent);if(p===null){p=o.nativeEvent;var v=new p.constructor(p.type,p);ll=v,p.target.dispatchEvent(v),ll=null}else return c=zi(p),c!==null&&GE(c),o.blockedOn=p,!1;c.shift()}return!0}function ZE(o,c,p){hy(o)&&p.delete(c)}function eR(){_5=!1,Ef!==null&&hy(Ef)&&(Ef=null),_f!==null&&hy(_f)&&(_f=null),kf!==null&&hy(kf)&&(kf=null),o1.forEach(ZE),l1.forEach(ZE)}function py(o,c){o.blockedOn===c&&(o.blockedOn=null,_5||(_5=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,eR)))}var my=null;function JE(o){my!==o&&(my=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){my===o&&(my=null);for(var c=0;c<o.length;c+=3){var p=o[c],v=o[c+1],E=o[c+2];if(typeof v!="function"){if(E5(v||p)===null)continue;break}var I=zi(p);I!==null&&(o.splice(c,3),c-=3,xl(I,{pending:!0,data:E,method:p.method,action:v},v,E))}}))}function c1(o){function c(Te){return py(Te,o)}Ef!==null&&py(Ef,o),_f!==null&&py(_f,o),kf!==null&&py(kf,o),o1.forEach(c),l1.forEach(c);for(var p=0;p<Nf.length;p++){var v=Nf[p];v.blockedOn===o&&(v.blockedOn=null)}for(;0<Nf.length&&(p=Nf[0],p.blockedOn===null);)XE(p),p.blockedOn===null&&Nf.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var E=p[v],I=p[v+1],J=E[ar]||null;if(typeof I=="function")J||JE(p);else if(J){var pe=null;if(I&&I.hasAttribute("formAction")){if(E=I,J=I[ar]||null)pe=J.formAction;else if(E5(E)!==null)continue}else pe=J.action;typeof pe=="function"?p[v+1]=pe:(p.splice(v,3),v-=3),JE(p)}}}function k5(o){this._internalRoot=o}gy.prototype.render=k5.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var p=c.current,v=qo();YE(p,v,o,c,null,null)},gy.prototype.unmount=k5.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;YE(o.current,2,null,o,null,null),Xb(),c[Mr]=null}};function gy(o){this._internalRoot=o}gy.prototype.unstable_scheduleHydration=function(o){if(o){var c=si();o={blockedOn:null,target:o,priority:c};for(var p=0;p<Nf.length&&c!==0&&c<Nf[p].priority;p++);Nf.splice(p,0,o),p===0&&XE(o)}};var e_=n.version;if(e_!=="19.1.1")throw Error(r(527,e_,"19.1.1"));K.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=u(c),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var tR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var by=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!by.isDisabled&&by.supportsFiber)try{Pe=by.inject(tR),ve=by}catch{}}return f1.createRoot=function(o,c){if(!i(o))throw Error(r(299));var p=!1,v="",E=gC,I=bC,J=yC,pe=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(E=c.onUncaughtError),c.onCaughtError!==void 0&&(I=c.onCaughtError),c.onRecoverableError!==void 0&&(J=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(pe=c.unstable_transitionCallbacks)),c=HE(o,1,!1,null,null,p,v,E,I,J,pe,null),o[Mr]=c.current,u5(o),new k5(c)},f1.hydrateRoot=function(o,c,p){if(!i(o))throw Error(r(299));var v=!1,E="",I=gC,J=bC,pe=yC,Te=null,Ze=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onUncaughtError!==void 0&&(I=p.onUncaughtError),p.onCaughtError!==void 0&&(J=p.onCaughtError),p.onRecoverableError!==void 0&&(pe=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(Te=p.unstable_transitionCallbacks),p.formState!==void 0&&(Ze=p.formState)),c=HE(o,1,!0,c,p??null,v,E,I,J,pe,Te,Ze),c.context=WE(null),p=c.current,v=qo(),v=ya(v),E=pt(v),E.callback=null,vt(p,E,v),p=v,c.current.lanes=p,ir(c,p),ic(c),o[Mr]=c.current,u5(o),new gy(c)},f1.version="19.1.1",f1}var l_;function g3(){if(l_)return N5.exports;l_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),N5.exports=m3(),N5.exports}var b3=g3();const y3=ts(b3);typeof window<"u"&&(window.styled_default=up,window.styled=up);typeof globalThis<"u"&&(globalThis.styled_default=up,globalThis.styled=up);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},hg.apply(this,arguments)}var Qh;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qh||(Qh={}));const u_="popstate";function x3(e){e===void 0&&(e={});function n(r,i){let{pathname:a,search:s,hash:l}=r.location;return eS("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:wj(i)}return w3(n,t,null,e)}function Bs(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function vj(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function v3(){return Math.random().toString(36).substr(2,8)}function c_(e,n){return{usr:e.state,key:e.key,idx:n}}function eS(e,n,t,r){return t===void 0&&(t=null),hg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?Ug(n):n,{state:t,key:n&&n.key||r||v3()})}function wj(e){let{pathname:n="/",search:t="",hash:r=""}=e;return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function Ug(e){let n={};if(e){let t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));let r=e.indexOf("?");r>=0&&(n.search=e.substr(r),e=e.substr(0,r)),e&&(n.pathname=e)}return n}function w3(e,n,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,l=Qh.Pop,u=null,d=f();d==null&&(d=0,s.replaceState(hg({},s.state,{idx:d}),""));function f(){return(s.state||{idx:null}).idx}function g(){l=Qh.Pop;let A=f(),w=A==null?null:A-d;d=A,u&&u({action:l,location:y.location,delta:w})}function b(A,w){l=Qh.Push;let C=eS(y.location,A,w);d=f()+1;let N=c_(C,d),R=y.createHref(C);try{s.pushState(N,"",R)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(R)}a&&u&&u({action:l,location:y.location,delta:1})}function m(A,w){l=Qh.Replace;let C=eS(y.location,A,w);d=f();let N=c_(C,d),R=y.createHref(C);s.replaceState(N,"",R),a&&u&&u({action:l,location:y.location,delta:0})}function x(A){let w=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof A=="string"?A:wj(A);return C=C.replace(/ $/,"%20"),Bs(w,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,w)}let y={get action(){return l},get location(){return e(i,s)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(u_,g),u=A,()=>{i.removeEventListener(u_,g),u=null}},createHref(A){return n(i,A)},createURL:x,encodeLocation(A){let w=x(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:b,replace:m,go(A){return s.go(A)}};return y}var d_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(d_||(d_={}));function S3(e,n,t){return t===void 0&&(t="/"),A3(e,n,t)}function A3(e,n,t,r){let i=typeof n=="string"?Ug(n):n,a=Cj(i.pathname||"/",t);if(a==null)return null;let s=Sj(e);C3(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let d=M3(a);l=D3(s[u],d)}return l}function Sj(e,n,t,r){n===void 0&&(n=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,s,l)=>{let u={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};u.relativePath.startsWith("/")&&(Bs(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=ep([r,u.relativePath]),f=t.concat(u);a.children&&a.children.length>0&&(Bs(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Sj(a.children,n,f,d)),!(a.path==null&&!a.index)&&n.push({path:d,score:O3(d,a.index),routesMeta:f})};return e.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let u of Aj(a.path))i(a,s,u)}),n}function Aj(e){let n=e.split("/");if(n.length===0)return[];let[t,...r]=n,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=Aj(r.join("/")),l=[];return l.push(...s.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...s),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function C3(e){e.sort((n,t)=>n.score!==t.score?t.score-n.score:I3(n.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const E3=/^:[\w-]+$/,_3=3,k3=2,N3=1,T3=10,j3=-2,f_=e=>e==="*";function O3(e,n){let t=e.split("/"),r=t.length;return t.some(f_)&&(r+=j3),n&&(r+=k3),t.filter(i=>!f_(i)).reduce((i,a)=>i+(E3.test(a)?_3:a===""?N3:T3),r)}function I3(e,n){return e.length===n.length&&e.slice(0,-1).every((r,i)=>r===n[i])?e[e.length-1]-n[n.length-1]:0}function D3(e,n,t){let{routesMeta:r}=e,i={},a="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,f=a==="/"?n:n.slice(a.length)||"/",g=L3({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),b=u.route;if(!g)return null;Object.assign(i,g.params),s.push({params:i,pathname:ep([a,g.pathname]),pathnameBase:q3(ep([a,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(a=ep([a,g.pathnameBase]))}return s}function L3(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,r]=R3(e.path,e.caseSensitive,e.end),i=n.match(t);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,f,g)=>{let{paramName:b,isOptional:m}=f;if(b==="*"){let y=l[g]||"";s=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const x=l[g];return m&&!x?d[b]=void 0:d[b]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:s,pattern:e}}function R3(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!0),vj(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),r]}function M3(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return vj(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function Cj(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,r=e.charAt(t);return r&&r!=="/"?null:e.slice(t)||"/"}function F3(e,n){n===void 0&&(n="/");let{pathname:t,search:r="",hash:i=""}=typeof e=="string"?Ug(e):e;return{pathname:t?t.startsWith("/")?t:P3(t,n):n,search:B3(r),hash:U3(i)}}function P3(e,n){let t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function O5(e,n,t,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function z3(e){return e.filter((n,t)=>t===0||n.route.path&&n.route.path.length>0)}function Ej(e,n){let t=z3(e);return n?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function _j(e,n,t,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ug(e):(i=hg({},e),Bs(!i.pathname||!i.pathname.includes("?"),O5("?","pathname","search",i)),Bs(!i.pathname||!i.pathname.includes("#"),O5("#","pathname","hash",i)),Bs(!i.search||!i.search.includes("#"),O5("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=t;else{let g=n.length-1;if(!r&&s.startsWith("..")){let b=s.split("/");for(;b[0]==="..";)b.shift(),g-=1;i.pathname=b.join("/")}l=g>=0?n[g]:"/"}let u=F3(i,l),d=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const ep=e=>e.join("/").replace(/\/\/+/g,"/"),q3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,U3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const kj=["post","put","patch","delete"];new Set(kj);const H3=["get",...kj];new Set(H3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},jx.apply(this,arguments)}const F6=Q.createContext(null),W3=Q.createContext(null),$g=Q.createContext(null),P6=Q.createContext(null),lh=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),Nj=Q.createContext(null);function Hg(){return Q.useContext(P6)!=null}function Wg(){return Hg()||Bs(!1),Q.useContext(P6).location}function Tj(e){Q.useContext($g).static||Q.useLayoutEffect(e)}function ma(){let{isDataRoute:e}=Q.useContext(lh);return e?iM():Y3()}function Y3(){Hg()||Bs(!1);let e=Q.useContext(F6),{basename:n,future:t,navigator:r}=Q.useContext($g),{matches:i}=Q.useContext(lh),{pathname:a}=Wg(),s=JSON.stringify(Ej(i,t.v7_relativeSplatPath)),l=Q.useRef(!1);return Tj(()=>{l.current=!0}),Q.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let g=_j(d,JSON.parse(s),a,f.relative==="path");e==null&&n!=="/"&&(g.pathname=g.pathname==="/"?n:ep([n,g.pathname])),(f.replace?r.replace:r.push)(g,f.state,f)},[n,r,s,a,e])}function z6(){let{matches:e}=Q.useContext(lh),n=e[e.length-1];return n?n.params:{}}function V3(e,n){return G3(e)}function G3(e,n,t,r){Hg()||Bs(!1);let{navigator:i}=Q.useContext($g),{matches:a}=Q.useContext(lh),s=a[a.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let d=Wg(),f;f=d;let g=f.pathname||"/",b=g;if(u!=="/"){let y=u.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=S3(e,{pathname:b});return J3(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:ep([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:ep([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,t,r)}function Q3(){let e=rM(),n=$3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},n),t?Q.createElement("pre",{style:i},t):null,null)}const K3=Q.createElement(Q3,null);class X3 extends Q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?Q.createElement(lh.Provider,{value:this.props.routeContext},Q.createElement(Nj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Z3(e){let{routeContext:n,match:t,children:r}=e,i=Q.useContext(F6);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),Q.createElement(lh.Provider,{value:n},r)}function J3(e,n,t,r){var i;if(n===void 0&&(n=[]),t===void 0&&(t=null),r===void 0&&(r=null),e==null){var a;if(!t)return null;if(t.errors)e=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&n.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let s=e,l=(i=t)==null?void 0:i.errors;if(l!=null){let f=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);f>=0||Bs(!1),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,d=-1;if(t&&r&&r.v7_partialHydration)for(let f=0;f<s.length;f++){let g=s[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=f),g.route.id){let{loaderData:b,errors:m}=t,x=g.route.loader&&b[g.route.id]===void 0&&(!m||m[g.route.id]===void 0);if(g.route.lazy||x){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,g,b)=>{let m,x=!1,y=null,A=null;t&&(m=l&&g.route.id?l[g.route.id]:void 0,y=g.route.errorElement||K3,u&&(d<0&&b===0?(aM("route-fallback"),x=!0,A=null):d===b&&(x=!0,A=g.route.hydrateFallbackElement||null)));let w=n.concat(s.slice(0,b+1)),C=()=>{let N;return m?N=y:x?N=A:g.route.Component?N=Q.createElement(g.route.Component,null):g.route.element?N=g.route.element:N=f,Q.createElement(Z3,{match:g,routeContext:{outlet:f,matches:w,isDataRoute:t!=null},children:N})};return t&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?Q.createElement(X3,{location:t.location,revalidation:t.revalidation,component:y,error:m,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}var jj=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(jj||{}),Oj=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Oj||{});function eM(e){let n=Q.useContext(F6);return n||Bs(!1),n}function tM(e){let n=Q.useContext(W3);return n||Bs(!1),n}function nM(e){let n=Q.useContext(lh);return n||Bs(!1),n}function Ij(e){let n=nM(),t=n.matches[n.matches.length-1];return t.route.id||Bs(!1),t.route.id}function rM(){var e;let n=Q.useContext(Nj),t=tM(),r=Ij();return n!==void 0?n:(e=t.errors)==null?void 0:e[r]}function iM(){let{router:e}=eM(jj.UseNavigateStable),n=Ij(Oj.UseNavigateStable),t=Q.useRef(!1);return Tj(()=>{t.current=!0}),Q.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,jx({fromRouteId:n},a)))},[e,n])}const h_={};function aM(e,n,t){h_[e]||(h_[e]=!0)}function sM(e,n){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Dj(e){let{to:n,replace:t,state:r,relative:i}=e;Hg()||Bs(!1);let{future:a,static:s}=Q.useContext($g),{matches:l}=Q.useContext(lh),{pathname:u}=Wg(),d=ma(),f=_j(n,Ej(l,a.v7_relativeSplatPath),u,i==="path"),g=JSON.stringify(f);return Q.useEffect(()=>d(JSON.parse(g),{replace:t,state:r,relative:i}),[d,g,i,t,r]),null}function oM(e){let{basename:n="/",children:t=null,location:r,navigationType:i=Qh.Pop,navigator:a,static:s=!1,future:l}=e;Hg()&&Bs(!1);let u=n.replace(/^\/*/,"/"),d=Q.useMemo(()=>({basename:u,navigator:a,static:s,future:jx({v7_relativeSplatPath:!1},l)}),[u,l,a,s]);typeof r=="string"&&(r=Ug(r));let{pathname:f="/",search:g="",hash:b="",state:m=null,key:x="default"}=r,y=Q.useMemo(()=>{let A=Cj(f,u);return A==null?null:{location:{pathname:A,search:g,hash:b,state:m,key:x},navigationType:i}},[u,f,g,b,m,x,i]);return y==null?null:Q.createElement($g.Provider,{value:d},Q.createElement(P6.Provider,{children:t,value:y}))}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tS(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((n,t)=>{let r=e[t];return n.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function lM(e,n){let t=tS(e);return n&&n.forEach((r,i)=>{t.has(i)||n.getAll(i).forEach(a=>{t.append(i,a)})}),t}const uM="6";try{window.__reactRouterVersion=uM}catch{}const cM="startTransition",p_=T6[cM];function dM(e){let{basename:n,children:t,future:r,window:i}=e,a=Q.useRef();a.current==null&&(a.current=x3({window:i,v5Compat:!0}));let s=a.current,[l,u]=Q.useState({action:s.action,location:s.location}),{v7_startTransition:d}=r||{},f=Q.useCallback(g=>{d&&p_?p_(()=>u(g)):u(g)},[u,d]);return Q.useLayoutEffect(()=>s.listen(f),[s,f]),Q.useEffect(()=>sM(r),[r]),Q.createElement(oM,{basename:n,children:t,location:l.location,navigationType:l.action,navigator:s,future:r})}var m_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(m_||(m_={}));var g_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(g_||(g_={}));function Yg(e){let n=Q.useRef(tS(e)),t=Q.useRef(!1),r=Wg(),i=Q.useMemo(()=>lM(r.search,t.current?null:n.current),[r.search]),a=ma(),s=Q.useCallback((l,u)=>{const d=tS(typeof l=="function"?l(i):l);t.current=!0,a("?"+d,u)},[a,i]);return[i,s]}const fM="modulepreload",hM=function(e){return"/nexlab/"+e},b_={},Li=function(n,t,r){let i=Promise.resolve();if(t&&t.length>0){let s=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=s(t.map(d=>{if(d=hM(d),d in b_)return;b_[d]=!0;const f=d.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const b=document.createElement("link");if(b.rel=f?"stylesheet":fM,f||(b.as="script"),b.crossOrigin="",b.href=d,u&&b.setAttribute("nonce",u),document.head.appendChild(b),f)return new Promise((m,x)=>{b.addEventListener("load",m),b.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return n().catch(a)})};var Ho=(e=>(e.NETWORK="NETWORK",e.AUTHENTICATION="AUTHENTICATION",e.AUTHORIZATION="AUTHORIZATION",e.VALIDATION="VALIDATION",e.NOT_FOUND="NOT_FOUND",e.SERVER_ERROR="SERVER_ERROR",e.UNKNOWN="UNKNOWN",e))(Ho||{});const y_={"auth/user-not-found":{type:"AUTHENTICATION",message:"No user found with this email address."},"auth/wrong-password":{type:"AUTHENTICATION",message:"Incorrect password. Please try again."},"auth/user-disabled":{type:"AUTHORIZATION",message:"This account has been disabled. Please contact support."},"auth/too-many-requests":{type:"NETWORK",message:"Too many failed attempts. Please try again later."},"auth/network-request-failed":{type:"NETWORK",message:"Network error. Please check your connection and try again."},"permission-denied":{type:"AUTHORIZATION",message:"You do not have permission for this action."},"not-found":{type:"NOT_FOUND",message:"The requested resource was not found."},unavailable:{type:"NETWORK",message:"Service is temporarily unavailable. Please try again."}},Gh=class Gh{constructor(){et(this,"errorQueue",[]);et(this,"maxErrorQueueSize",50)}static getInstance(){return Gh.instance||(Gh.instance=new Gh),Gh.instance}handleError(n,t){const r=this.createAppError(n,t);return this.logError(r),this.queueError(r),r}createAppError(n,t){let r="UNKNOWN",i="An unexpected error occurred.";if(n!=null&&n.code&&y_[n.code]){const a=y_[n.code];r=a.type,i=a.message}else n!=null&&n.message&&(i=n.message,n.message.includes("network")||n.message.includes("fetch")?r="NETWORK":n.message.includes("unauthorized")||n.message.includes("permission")?r="AUTHORIZATION":n.message.includes("not found")?r="NOT_FOUND":n.message.includes("validation")&&(r="VALIDATION"));return{type:r,message:i,originalError:n instanceof Error?n:new Error(String(n)),context:{...t,userAgent:navigator.userAgent,url:window.location.href,timestamp:new Date().toISOString()},timestamp:new Date,userId:t==null?void 0:t.userId}}logError(n){const t=`[${n.type}] ${n.message}`,r={error:n.originalError,context:n.context,timestamp:n.timestamp};switch(n.type){case"NETWORK":case"NOT_FOUND":console.warn(t,r);break;case"AUTHENTICATION":case"AUTHORIZATION":case"VALIDATION":console.error(t,r);break;case"SERVER_ERROR":case"UNKNOWN":console.error(t,r);break}}queueError(n){this.errorQueue.push(n),this.errorQueue.length>this.maxErrorQueueSize&&this.errorQueue.shift()}getErrorQueue(){return[...this.errorQueue]}clearErrorQueue(){this.errorQueue=[]}getUserFriendlyMessage(n){return n.message}shouldRetry(n){return n.type==="NETWORK"}};et(Gh,"instance");let pg=Gh;const x_=async(e,n)=>{try{return{data:await e()}}catch(t){return{error:pg.getInstance().handleError(t,n)}}},khe=()=>{const e=pg.getInstance();return{handleError:(i,a)=>e.handleError(i,a),getUserFriendlyMessage:i=>e.getUserFriendlyMessage(i),shouldRetry:i=>e.shouldRetry(i)}};pg.getInstance();class pM{constructor(){et(this,"auth",null);et(this,"googleProvider",null)}initialize(){this.auth||(Li(()=>Promise.resolve().then(()=>tp),void 0),this.auth=t3(),this.googleProvider=new n3)}async signInWithGoogle(n=!0){var r;this.initialize();const t=await x_(async()=>{const i=n?i3:a3;await s3(this.auth,i),this.googleProvider.setCustomParameters({});const a=await o3(this.auth,this.googleProvider);if(!a.user)throw new Error("No user returned from authentication");return a.user},{operation:"google_sign_in",keepSignedIn:n});if(t.error){const i=(r=t.error.originalError)==null?void 0:r.code;throw console.error("Google Auth Error:",{code:i,message:t.error.message,originalError:t.error.originalError}),i==="auth/popup-closed-by-user"?new Error("Sign-in was cancelled. Please try again and complete the sign-in process. If you only have one Google account logged in, try logging out and back in to your Google account."):i==="auth/popup-blocked"?new Error("Popup was blocked by your browser. Please allow popups for this site and try again."):i==="auth/network-request-failed"?new Error("Network error. Please check your internet connection and try again."):i==="auth/account-exists-with-different-credential"?new Error("An account already exists with this email address. Please use a different sign-in method."):t.error}return t.data}async signOut(){this.initialize();const n=await x_(async()=>{await l3(this.auth)},{operation:"sign_out"});if(n.error)throw n.error}onAuthStateChanged(n){return this.initialize(),r3(this.auth,n)}getCurrentUser(){return this.initialize(),this.auth.currentUser}getErrorMessage(n){return{"auth/network-request-failed":"Login Failed: Network error, please check your connection.","auth/popup-closed-by-user":"Login Failed: The sign-in popup was closed before completion.","auth/cancelled-popup-request":"Login Failed: Another sign-in request was made before the first one was completed.","auth/popup-blocked":"Login Failed: The sign-in popup was blocked by the browser. Please allow popups for this site.","auth/user-disabled":"Login Failed: This account has been disabled.","auth/user-not-found":"Login Failed: No account found with this email.","auth/wrong-password":"Login Failed: Incorrect password.","auth/too-many-requests":"Login Failed: Too many failed attempts. Please try again later."}[n]||"Login Failed: An unexpected error occurred."}}const Lj=new pM;class mM{constructor(){et(this,"db",null);et(this,"publicCourseId");if(this.publicCourseId="rqoyheM9Lf8jGftIoZyT",!this.publicCourseId)throw new Error("Public course ID is not defined in environment variables.")}initialize(){this.db||(Li(()=>Promise.resolve().then(()=>tp),void 0),this.db=Zn())}async getUserDetails(n){this.initialize();try{const t=bn(this.db,"users",n),r=await Oa(t);return r.exists()?{...r.data(),uid:n}:null}catch(t){throw console.error("Error fetching user details:",t),new Error("Failed to fetch user details")}}async createUserDocument(n){this.initialize();try{const t=await this.getPublicCourseInfo(),r=bn(this.db,"users",n.uid),i={isAdmin:!1,isSuperAdmin:!1,lastLogin:Yf(),classes:{[this.publicCourseId]:t}};return await yj(r,i),{uid:n.uid,isAdmin:!1,isSuperAdmin:!1,lastLogin:Yf(),classes:{[this.publicCourseId]:t}}}catch(t){throw console.error("Error creating user document:",t),new Error("Failed to create user document")}}async updateUserLogin(n){this.initialize();try{const t=bn(this.db,"users",n);await Wr(t,{lastLogin:Yf()})}catch(t){throw console.error("Error updating user login:",t),new Error("Failed to update user login")}}async refreshUserDetails(n){return this.getUserDetails(n)}subscribeToUserDetails(n,t){this.initialize();const r=bn(this.db,"users",n);return u3(r,i=>{if(i.exists()){const a=i.data();t({...a,uid:n})}else t(null)},i=>{console.error("Error in user details subscription:",i),t(null)})}async ensurePublicCourseAccess(n,t){this.initialize();try{if(t.classes&&t.classes[this.publicCourseId])return t;const r=await this.getPublicCourseInfo(),i=bn(this.db,"users",n);return await Wr(i,{[`classes.${this.publicCourseId}`]:r}),{...t,classes:{...t.classes||{},[this.publicCourseId]:r}}}catch(r){throw console.error("Error ensuring public course access:",r),new Error("Failed to ensure public course access")}}async getPublicCourseInfo(){this.initialize();try{const n=bn(this.db,"courses",this.publicCourseId),t=await Oa(n);if(!t.exists())throw new Error("Public course document does not exist in the courses collection!");const r=t.data();if(!r||!r.number||!r.title)throw new Error("Public course data is incomplete or invalid.");return{number:r.number,title:r.title,isCourseAdmin:!1}}catch(n){throw console.error("Error fetching public course info:",n),new Error("Failed to fetch public course information")}}}const c0=new mM,gM={apiKey:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",authDomain:"nexlab-prod.firebaseapp.com",projectId:"nexlab-prod",storageBucket:"nexlab-prod.firebasestorage.app",messagingSenderId:"922352392986",appId:"1:922352392986:web:6c4d6e16b5e615bd4daaa3"},q6=c3(gM),Rj=Zn(q6),bM=vp(q6),tp=Object.freeze(Object.defineProperty({__proto__:null,app:q6,db:Rj,storage:bM},Symbol.toStringTag,{value:"Module"})),Mj=Q.createContext(void 0),yM=({children:e})=>{const[n,t]=Q.useState(null),[r,i]=Q.useState(null),[a,s]=Q.useState(!1),[l,u]=Q.useState(!0),[d,f]=Q.useState(null),g=Q.useRef(null);Q.useEffect(()=>{const m=Lj.onAuthStateChanged(async x=>{u(!0),f(null),g.current&&(g.current(),g.current=null);try{if(x){console.log("User is signed in with UID:",x.uid);let y=await c0.getUserDetails(x.uid);y?(await c0.updateUserLogin(x.uid),y=await c0.ensurePublicCourseAccess(x.uid,y)):(console.log("User document does not exist. Creating a new one..."),y=await c0.createUserDocument(x)),i(y),s(y.isSuperAdmin||!1);const A=c0.subscribeToUserDetails(x.uid,w=>{console.log("[UserContext] User details updated in real-time:",{uid:w==null?void 0:w.uid,classesCount:w!=null&&w.classes?Object.keys(w.classes).length:0,classes:w!=null&&w.classes?Object.keys(w.classes):[],timestamp:new Date().toISOString()}),w&&(i(w),s(w.isSuperAdmin||!1))});g.current=A}else i(null),s(!1);t(x)}catch(y){console.error("Error managing user authentication:",y),f(y instanceof Error?y:new Error("Failed to manage user authentication")),t(null),i(null),s(!1)}finally{u(!1)}});return()=>{m(),g.current&&(g.current(),g.current=null)}},[]);const b=async()=>{if(!n){console.warn("No user signed in, cannot refresh user details");return}try{const m=await c0.refreshUserDetails(n.uid);m?(i(m),s(m.isSuperAdmin||!1)):(console.error("User document does not exist. Unable to refresh user details."),f(new Error("User document not found")))}catch(m){console.error("Error refreshing user details:",m),f(m instanceof Error?m:new Error("Failed to refresh user details"))}};return h.jsx(Mj.Provider,{value:{user:n,userDetails:r,setUserDetails:i,refreshUserDetails:b,loading:l,error:d,isSuperAdmin:a},children:e})},Ai=()=>{const e=Q.useContext(Mj);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e},Js=({element:e})=>{const{userDetails:n,loading:t}=Ai();return t?h.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:h.jsx(hi,{})}):n?h.jsx(e,{}):h.jsx(Dj,{to:"/"})};let mv=class extends Q.Component{constructor(){super(...arguments);et(this,"state",{hasError:!1})}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:h.jsx(he,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"50vh",p:4},children:h.jsxs(yn,{elevation:2,sx:{p:4,textAlign:"center",maxWidth:500,width:"100%"},children:[h.jsx(ge,{variant:"h5",color:"error",gutterBottom:!0,children:"Something went wrong"}),h.jsx(ge,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"An error occurred while loading this component. Please try refreshing the page."}),h.jsx(At,{variant:"contained",startIcon:h.jsx(nj,{}),onClick:()=>window.location.reload(),children:"Refresh Page"})]})}):this.props.children}};var h1={},I5={};const xM=e3(aR);var v_;function $d(){return v_||(v_=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=xM}(I5)),I5}var w_;function vM(){if(w_)return h1;w_=1;var e=Bd();Object.defineProperty(h1,"__esModule",{value:!0}),h1.default=void 0;var n=e($d()),t=Ud();return h1.default=(0,n.default)((0,t.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),h1}var wM=vM();const SM=ts(wM);var p1={},S_;function AM(){if(S_)return p1;S_=1;var e=Bd();Object.defineProperty(p1,"__esModule",{value:!0}),p1.default=void 0;var n=e($d()),t=Ud();return p1.default=(0,n.default)((0,t.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),p1}var CM=AM();const EM=ts(CM);var m1={},A_;function _M(){if(A_)return m1;A_=1;var e=Bd();Object.defineProperty(m1,"__esModule",{value:!0}),m1.default=void 0;var n=e($d()),t=Ud();return m1.default=(0,n.default)((0,t.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),m1}var kM=_M();const Fj=ts(kM),NM=()=>{const e=ma();return h.jsxs(yn,{elevation:3,sx:{p:4,m:4,textAlign:"center",backgroundColor:"#fafafa",border:"1px solid #e0e0e0",maxWidth:600,mx:"auto",mt:8},children:[h.jsx(SM,{color:"error",sx:{fontSize:64,mb:2}}),h.jsx(ge,{variant:"h4",gutterBottom:!0,color:"error",children:"Page Error"}),h.jsx(ge,{variant:"body1",sx:{mb:4,color:"text.secondary"},children:"This page encountered an error and cannot be displayed. You can try going back to the previous page or return to the home page."}),h.jsxs(he,{sx:{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:[h.jsx(At,{variant:"contained",color:"primary",startIcon:h.jsx(EM,{}),onClick:()=>e("/"),children:"Go to Home"}),h.jsx(At,{variant:"outlined",color:"primary",startIcon:h.jsx(Fj,{}),onClick:()=>e(-1),children:"Go Back"}),h.jsx(At,{variant:"outlined",color:"secondary",onClick:()=>window.location.reload(),children:"Refresh Page"})]})]})},Pj=({children:e,showDetails:n})=>h.jsx(mv,{fallback:h.jsx(NM,{}),children:e}),se={primary:{50:"#F0F4FF",100:"#E0ECFF",200:"#CDDAFF",300:"#9BB5FF",500:"#0B53C0",600:"#0841A0",700:"#062F80"},secondary:{50:"#F0FDF4",100:"#DCFCE7",200:"#BBF7D0",300:"#86EFAC",500:"#22C55E",600:"#16A34A",700:"#15803D"},neutral:{50:"#FAFAFA",100:"#F5F5F5",200:"#E5E5E5",300:"#D4D4D4",400:"#A3A3A3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717"},success:"#22C55E",warning:"#F59E0B",error:"#EF4444",info:"#3B82F6",background:{primary:"#FFFFFF",secondary:"#F8FAFC",elevated:"#FFFFFF"},surface:{primary:"#FFFFFF",elevated:"#FFFFFF"},text:{primary:"#0F172A",secondary:"#475569",tertiary:"#64748B",disabled:"#94A3B8",inverse:"#FFFFFF"}},Ie={fontFamily:{primary:["Inter","system-ui","sans-serif"].join(","),secondary:["Gabarito","system-ui","sans-serif"].join(","),display:["Staatliches","system-ui","sans-serif"].join(",")},fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem"},fontWeight:{light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},lineHeight:{tight:1.25,snug:1.375,normal:1.5,relaxed:1.625}},st={1:"0.25rem",2:"0.5rem",3:"0.75rem",4:"1rem",5:"1.25rem",6:"1.5rem",8:"2rem",12:"3rem"},jt={sm:"0.125rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem",full:"9999px"},Ut={sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",base:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","2xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)"},wc={transitions:{fast:"all 150ms cubic-bezier(0.4, 0, 0.2, 1)",normal:"all 300ms cubic-bezier(0.4, 0, 0.2, 1)"}},TM={width:"320px",minWidth:"320px",maxWidth:"320px",backgroundColor:se.background.secondary,borderRight:`1px solid ${se.neutral[200]}`},zj=()=>({palette:{primary:{main:se.primary[500],light:se.primary[300],dark:se.primary[700],contrastText:se.text.inverse},secondary:{main:se.secondary[500],light:se.secondary[300],dark:se.secondary[700],contrastText:se.text.inverse},error:{main:se.error,light:"#FEE2E2",dark:"#DC2626"},warning:{main:se.warning,light:"#FEF3C7",dark:"#D97706"},info:{main:se.info,light:"#DBEAFE",dark:"#2563EB"},success:{main:se.success,light:"#D1FAE5",dark:"#059669"},background:{default:se.background.primary,paper:se.surface.primary},text:{primary:se.text.primary,secondary:se.text.secondary,disabled:se.text.disabled},grey:{50:se.neutral[50],100:se.neutral[100],200:se.neutral[200],300:se.neutral[300],400:se.neutral[400],500:se.neutral[500],600:se.neutral[600],700:se.neutral[700],800:se.neutral[800],900:se.neutral[900]}},typography:{fontFamily:Ie.fontFamily.primary,h1:{fontFamily:Ie.fontFamily.display,fontSize:Ie.fontSize["5xl"],fontWeight:Ie.fontWeight.bold,lineHeight:Ie.lineHeight.tight,color:se.text.primary},h2:{fontFamily:Ie.fontFamily.display,fontSize:Ie.fontSize["4xl"],fontWeight:Ie.fontWeight.bold,lineHeight:Ie.lineHeight.tight,color:se.text.primary},h3:{fontFamily:Ie.fontFamily.display,fontSize:Ie.fontSize["3xl"],fontWeight:Ie.fontWeight.bold,lineHeight:Ie.lineHeight.snug,color:se.text.primary},h4:{fontFamily:Ie.fontFamily.display,fontSize:Ie.fontSize["2xl"],fontWeight:Ie.fontWeight.semibold,lineHeight:Ie.lineHeight.snug,color:se.text.primary},h5:{fontFamily:Ie.fontFamily.secondary,fontSize:Ie.fontSize.xl,fontWeight:Ie.fontWeight.semibold,lineHeight:Ie.lineHeight.normal,color:se.text.primary},h6:{fontFamily:Ie.fontFamily.secondary,fontSize:Ie.fontSize.lg,fontWeight:Ie.fontWeight.semibold,lineHeight:Ie.lineHeight.normal,color:se.text.primary},body1:{fontFamily:Ie.fontFamily.primary,fontSize:Ie.fontSize.base,fontWeight:Ie.fontWeight.normal,lineHeight:Ie.lineHeight.normal,color:se.text.primary},body2:{fontFamily:Ie.fontFamily.primary,fontSize:Ie.fontSize.sm,fontWeight:Ie.fontWeight.normal,lineHeight:Ie.lineHeight.normal,color:se.text.secondary},button:{fontFamily:Ie.fontFamily.secondary,fontSize:Ie.fontSize.base,fontWeight:Ie.fontWeight.semibold,textTransform:"none"}},shape:{borderRadius:12},shadows:["none",Ut.sm,Ut.base,Ut.md,Ut.lg,Ut.xl,Ut["2xl"],Ut["2xl"],Ut["2xl"],Ut["2xl"],Ut["2xl"],Ut["2xl"],Ut["2xl"],Ut["2xl"],Ut["2xl"],Ut["2xl"],Ut["2xl"],Ut["2xl"],Ut["2xl"],Ut["2xl"],Ut["2xl"],Ut["2xl"],Ut["2xl"],Ut["2xl"],Ut["2xl"]],components:{MuiButton:{styleOverrides:{root:{borderRadius:jt.xl,padding:`${st[3]} ${st[6]}`,fontWeight:Ie.fontWeight.semibold,textTransform:"none",transition:wc.transitions.fast,boxShadow:"none","&:hover":{boxShadow:Ut.md,transform:"none !important"}},contained:{backgroundColor:se.primary[500],"&:hover":{backgroundColor:se.primary[600]}},outlined:{borderColor:se.primary[500],color:se.primary[500],"&:hover":{backgroundColor:se.primary[50],borderColor:se.primary[600]}}}},MuiCard:{styleOverrides:{root:{borderRadius:jt.lg,boxShadow:Ut.md,border:`1px solid ${se.neutral[200]}`,transition:wc.transitions.fast,"&:hover":{boxShadow:Ut.lg,transform:"translateY(-2px)"}}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:jt.lg,"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:se.primary[300]},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:se.primary[500],borderWidth:2}}}}},MuiChip:{styleOverrides:{root:{borderRadius:jt.full,fontWeight:Ie.fontWeight.medium}}},MuiTabs:{styleOverrides:{root:{backgroundColor:se.background.secondary,borderRadius:jt.lg,padding:st[2],"& .MuiTabs-indicator":{display:"none"}}}},MuiTab:{styleOverrides:{root:{borderRadius:jt.lg,fontWeight:Ie.fontWeight.semibold,textTransform:"none",transition:wc.transitions.fast,"&.Mui-selected":{backgroundColor:se.primary[500],color:se.text.inverse,boxShadow:Ut.sm},"&:not(.Mui-selected)":{backgroundColor:se.primary[100],color:se.primary[700],"&:hover":{backgroundColor:se.primary[200],transform:"none"}}}}}}}),jM=zj(),ht=rj(jM);var g1={},C_;function OM(){if(C_)return g1;C_=1;var e=Bd();Object.defineProperty(g1,"__esModule",{value:!0}),g1.default=void 0;var n=e($d()),t=Ud();return g1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),g1}var IM=OM();const DM=ts(IM),E_=e=>{let n;const t=new Set,r=(d,f)=>{const g=typeof d=="function"?d(n):d;if(!Object.is(g,n)){const b=n;n=f??(typeof g!="object"||g===null)?g:Object.assign({},n,g),t.forEach(m=>m(n,b))}},i=()=>n,l={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(t.add(d),()=>t.delete(d))},u=n=e(r,i,l);return l},LM=e=>e?E_(e):E_,RM=e=>e;function MM(e,n=RM){const t=at.useSyncExternalStore(e.subscribe,()=>n(e.getState()),()=>n(e.getInitialState()));return at.useDebugValue(t),t}const __=e=>{const n=LM(e),t=r=>MM(n,r);return Object.assign(t,n),t},wp=e=>e?__(e):__,FM=()=>Math.random().toString(36).substr(2,9),PM=e=>{switch(e){case Ho.NETWORK:return"";case Ho.AUTHENTICATION:return"";case Ho.AUTHORIZATION:return"";case Ho.VALIDATION:return"";case Ho.NOT_FOUND:return"";case Ho.SERVER_ERROR:return"";default:return""}},zM=e=>{switch(e){case Ho.NETWORK:return 8e3;case Ho.AUTHENTICATION:case Ho.AUTHORIZATION:return 1e4;case Ho.VALIDATION:return 6e3;case Ho.NOT_FOUND:return 5e3;default:return 7e3}},qM=wp((e,n)=>({notifications:[],addNotification:t=>{const r={...t,id:FM(),timestamp:new Date,duration:t.duration??5e3};e(i=>({notifications:[...i.notifications,r]})),r.duration>0&&setTimeout(()=>{n().removeNotification(r.id)},r.duration)},removeNotification:t=>{e(r=>({notifications:r.notifications.filter(i=>i.id!==t)}))},clearAll:()=>{e({notifications:[]})},showError:(t,r)=>{const i=PM(t.type),a=zM(t.type),s=[];t.type===Ho.NETWORK&&s.push({label:"Retry",action:()=>{console.log("Retry requested for:",t)},primary:!0}),n().addNotification({type:"error",title:`${i} ${t.type.replace("_"," ")} Error`,message:t.message,duration:a,actions:r||s,error:t})},showSuccess:(t,r)=>{n().addNotification({type:"success",title:r||" Success",message:t,duration:4e3})},showWarning:(t,r)=>{n().addNotification({type:"warning",title:r||" Warning",message:t,duration:6e3})},showInfo:(t,r)=>{n().addNotification({type:"info",title:r||" Info",message:t,duration:5e3})}})),BM=()=>{const{notifications:e,removeNotification:n}=qM();return e.length===0?null:h.jsx(he,{sx:{position:"fixed",top:16,right:16,zIndex:9999,maxWidth:400,display:"flex",flexDirection:"column",gap:1},children:e.map(t=>h.jsx(cg,{in:!0,timeout:300,children:h.jsx(yn,{elevation:6,children:h.jsxs(vr,{severity:t.type,sx:{width:"100%","& .MuiAlert-action":{alignItems:"flex-start",padding:"4px 0 0 16px"}},action:h.jsx(On,{size:"small",onClick:()=>n(t.id),sx:{color:"inherit"},children:h.jsx(DM,{fontSize:"small"})}),children:[t.title&&h.jsx(sR,{sx:{fontWeight:"bold",mb:.5},children:t.title}),t.message,t.actions&&t.actions.length>0&&h.jsx(he,{sx:{mt:1.5,display:"flex",gap:1,flexWrap:"wrap"},children:t.actions.map((r,i)=>h.jsx(At,{size:"small",variant:r.primary?"contained":"outlined",color:t.type==="error"?"error":"primary",onClick:()=>{r.action(),n(t.id)},sx:{minWidth:"auto",fontSize:"0.75rem",padding:"2px 8px"},children:r.label},i))})]})})},t.id))})},UM=({message:e})=>h.jsx(he,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:st[12],color:se.text.secondary},children:h.jsx(ge,{variant:"body1",sx:{fontStyle:"italic",textAlign:"center"},children:e})}),$M=()=>h.jsx(he,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:st[12]},children:h.jsx(hi,{size:40})});function uh({data:e,columns:n,loading:t=!1,emptyMessage:r="No data available",onRowClick:i,stickyHeader:a=!1,maxHeight:s,headerColor:l=se.primary[500],headerTextColor:u=se.text.inverse,rowHeight:d="72px",showRowNumbers:f=!1,className:g}){const b=n.length+(f?1:0);return h.jsx(uv,{component:yn,className:g,sx:{borderRadius:jt["2xl"],boxShadow:Ut.lg,border:`1px solid ${se.neutral[200]}`,overflow:"hidden",maxHeight:s},children:h.jsxs(cv,{stickyHeader:a,sx:{"& .MuiTableCell-root":{fontSize:Ie.fontSize.base,fontFamily:Ie.fontFamily.primary,borderBottom:`1px solid ${se.neutral[200]}`},"& .MuiTableCell-head":{fontSize:Ie.fontSize.lg,fontFamily:Ie.fontFamily.display,fontWeight:Ie.fontWeight.semibold,backgroundColor:l,color:u,textTransform:"uppercase",letterSpacing:"0.5px"},"& .MuiTableRow-root:hover":{backgroundColor:se.primary[25],cursor:i?"pointer":"default"}},children:[h.jsx(dv,{children:h.jsxs(xc,{sx:{height:"64px"},children:[f&&h.jsx(_n,{sx:{width:"60px",textAlign:"center"},children:"#"}),n.map(m=>h.jsx(_n,{sx:{width:m.width,textAlign:m.align||"left"},children:m.label},String(m.id)))]})}),h.jsx(fv,{children:t?h.jsx(xc,{children:h.jsx(_n,{colSpan:b,sx:{border:"none",p:0},children:h.jsx($M,{})})}):e.length===0?h.jsx(xc,{children:h.jsx(_n,{colSpan:b,sx:{border:"none",p:0},children:h.jsx(UM,{message:r})})}):e.map((m,x)=>h.jsxs(xc,{onClick:()=>i==null?void 0:i(m,x),sx:{height:d,transition:wc.transitions.fast,"&:hover":{backgroundColor:se.primary[25],transform:"translateY(-1px)",boxShadow:Ut.sm}},children:[f&&h.jsx(_n,{sx:{textAlign:"center"},children:h.jsx(ge,{variant:"body2",sx:{fontWeight:Ie.fontWeight.semibold,color:se.text.secondary},children:x+1})}),n.map(y=>{const A=m[y.id];return h.jsx(_n,{sx:{textAlign:y.align||"left"},children:y.render?y.render(A,m,x):A},String(y.id))})]},x))})]})})}const Fl=({title:e,subtitle:n})=>{const t=xp(),r=Id(t.breakpoints.down("md"));return h.jsxs(he,{sx:{p:r?st[4]:st[6],backgroundColor:se.primary[100],borderRadius:jt["2xl"],mb:st[6],border:`1px solid ${se.primary[200]}`,boxShadow:Ut.sm},children:[h.jsx(ge,{variant:"h2",sx:{fontFamily:Ie.fontFamily.display,fontSize:r?Ie.fontSize["3xl"]:Ie.fontSize["5xl"],fontWeight:Ie.fontWeight.bold,color:se.primary[700],lineHeight:Ie.lineHeight.tight,mb:n?st[2]:0},children:e}),n&&h.jsx(ge,{variant:"body1",sx:{fontFamily:Ie.fontFamily.primary,fontSize:r?Ie.fontSize.base:Ie.fontSize.lg,color:se.text.secondary,lineHeight:Ie.lineHeight.relaxed},children:n})]})},ch=({userId:e,userType:n="student",maxLength:t=999})=>{const[r,i]=Q.useState(!1),a=async d=>{d.stopPropagation();try{await navigator.clipboard.writeText(e),i(!0),setTimeout(()=>i(!1),2e3)}catch(f){console.error("Failed to copy:",f)}},s=()=>{switch(n){case"superAdmin":return{backgroundColor:se.secondary[100],color:se.secondary[700],borderColor:se.secondary[300],hoverColor:se.secondary[200]};case"educator":return{backgroundColor:se.primary[100],color:se.primary[700],borderColor:se.primary[300],hoverColor:se.primary[200]};default:return{backgroundColor:se.neutral[100],color:se.neutral[700],borderColor:se.neutral[300],hoverColor:se.neutral[200]}}},l=e.length>t?`${e.substring(0,t)}...`:e,u=s();return h.jsx(Si,{title:r?"Copied!":"Click to Copy",children:h.jsx(he,{onClick:a,sx:{display:"inline-flex",alignItems:"center",backgroundColor:u.backgroundColor,color:u.color,border:`1px solid ${u.borderColor}`,borderRadius:jt.full,padding:`${st[2]} ${st[3]}`,fontSize:Ie.fontSize.sm,fontWeight:Ie.fontWeight.medium,fontFamily:"monospace",cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:u.hoverColor,transform:"translateY(-1px)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},children:h.jsx(ge,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"inherit",color:"inherit",fontWeight:"inherit",userSelect:"none"},title:e,children:l})})})},Sp=({courseId:e,courseNumber:n,courseTitle:t,variant:r="link",isAdmin:i=!1,showNumber:a=!0,showTitle:s=!0,maxTitleLength:l=50,onClick:u})=>{const d=ma(),f=m=>{if(m.preventDefault(),m.stopPropagation(),u)u();else{const x=window.location.hostname.includes("github.io"),A=`${x?"https://institute-for-future-intelligence.github.io/nexlab":""}/supplemental-materials?course=${e}`;x?window.open(A,"_blank"):d(`/supplemental-materials?course=${e}`)}},g=t.length>l?`${t.substring(0,l)}...`:t,b=()=>i?{backgroundColor:se.primary[100],color:se.primary[700],"&:hover":{backgroundColor:se.primary[200]}}:{backgroundColor:se.neutral[200],color:se.neutral[700],"&:hover":{backgroundColor:se.neutral[300]}};if(r==="chip"){const m=a&&s?`${n} - ${g}`:a?n:s?g:"";return h.jsx(cr,{label:m,size:"small",clickable:!0,onClick:f,sx:{...b(),fontFamily:Ie.fontFamily.secondary,fontWeight:Ie.fontWeight.medium,fontSize:Ie.fontSize.sm,cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%"},title:`${n} - ${t}`})}return r==="text"?h.jsxs(he,{sx:{display:"flex",flexDirection:"column",gap:st[1]},children:[a&&h.jsx(ge,{variant:"body2",sx:{fontWeight:Ie.fontWeight.semibold,color:se.text.primary,fontSize:Ie.fontSize.sm},children:n}),s&&h.jsx(qg,{component:"button",variant:"body2",onClick:f,sx:{color:se.primary[600],textDecoration:"none",fontSize:Ie.fontSize.sm,fontWeight:Ie.fontWeight.medium,textAlign:"left",cursor:"pointer","&:hover":{textDecoration:"underline",color:se.primary[700]}},title:t,children:g})]}):h.jsx(he,{onClick:f,sx:{display:"inline-flex",alignItems:"center",backgroundColor:se.primary[50],border:`1px solid ${se.primary[200]}`,borderRadius:jt.lg,padding:`${st[2]} ${st[3]}`,cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:se.primary[100],borderColor:se.primary[300],transform:"translateY(-1px)",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},title:`${n} - ${t}`,children:h.jsx(ge,{variant:"body1",sx:{fontFamily:Ie.fontFamily.secondary,fontSize:Ie.fontSize.base,fontWeight:Ie.fontWeight.semibold,color:se.primary[700],textDecoration:"none",userSelect:"none","&:hover":{textDecoration:"underline"}},children:a&&s?`${n} - ${g}`:a?n:s?g:""})})},qj=({materialId:e,materialTitle:n,maxTitleLength:t=50,variant:r="link",onClick:i})=>{const a=ma(),s=u=>{if(u.preventDefault(),u.stopPropagation(),i)i();else{const d=window.location.hostname.includes("github.io"),g=`${d?"https://institute-for-future-intelligence.github.io/nexlab":""}/view-material/${e}?material=${e}`;d?window.open(g,"_blank"):a(`/view-material/${e}?material=${e}`)}},l=n.length>t?`${n.substring(0,t)}...`:n;return r==="text"?h.jsx(ge,{variant:"body2",sx:{color:se.text.primary,fontSize:Ie.fontSize.sm,fontWeight:Ie.fontWeight.medium},title:n,children:l}):h.jsx(ge,{variant:"body1",onClick:s,sx:{fontFamily:Ie.fontFamily.secondary,fontSize:Ie.fontSize.base,fontWeight:Ie.fontWeight.semibold,color:se.text.primary,cursor:"pointer",textDecoration:"none","&:hover":{color:se.primary[600],textDecoration:"underline"}},title:n,children:l})},Bj=({status:e,size:n="small",variant:t="filled"})=>{const i=(()=>{switch(e){case"superAdmin":return{label:"Super Admin",color:t==="filled"?{backgroundColor:se.success,color:se.text.inverse,borderColor:se.success}:{backgroundColor:"transparent",color:se.success,borderColor:se.success}};case"educator":return{label:"Educator",color:t==="filled"?{backgroundColor:se.primary[500],color:se.text.inverse,borderColor:se.primary[500]}:{backgroundColor:"transparent",color:se.primary[500],borderColor:se.primary[500]}};case"student":return{label:"Student",color:t==="filled"?{backgroundColor:se.neutral[400],color:se.text.inverse,borderColor:se.neutral[400]}:{backgroundColor:"transparent",color:se.neutral[600],borderColor:se.neutral[400]}};default:return{label:"Unknown",color:{backgroundColor:se.neutral[200],color:se.neutral[700],borderColor:se.neutral[300]}}}})();return h.jsx(cr,{label:i.label,size:n,variant:t==="outlined"?"outlined":"filled",sx:{...i.color,fontFamily:Ie.fontFamily.secondary,fontWeight:Ie.fontWeight.medium,fontSize:n==="small"?Ie.fontSize.xs:Ie.fontSize.sm,border:`1px solid ${i.color.borderColor}`,"&:hover":{backgroundColor:t==="filled"?i.color.backgroundColor:`${i.color.borderColor}10`}}})},Uj=({chatbotId:e,maxLength:n=999})=>{const[t,r]=Q.useState(!1),i=async s=>{s.stopPropagation();try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3)}catch(l){console.error("Failed to copy:",l)}},a=e.length>n?`${e.substring(0,n)}...`:e;return h.jsx(Si,{title:t?"Copied!":"Click to Copy",children:h.jsx(he,{onClick:i,sx:{display:"inline-flex",alignItems:"center",backgroundColor:se.info+"15",color:se.info,border:`1px solid ${se.info}40`,borderRadius:jt.md,padding:`${st[2]} ${st[3]}`,fontSize:Ie.fontSize.sm,fontWeight:Ie.fontWeight.medium,fontFamily:"monospace",cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:se.info+"25",transform:"translateY(-1px)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},children:h.jsx(ge,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"inherit",color:"inherit",fontWeight:"inherit",userSelect:"none"},title:e,children:a})})})},HM=({conversationId:e,maxLength:n=999})=>{const[t,r]=Q.useState(!1),i=async s=>{s.stopPropagation();try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3)}catch(l){console.error("Failed to copy:",l)}},a=e.length>n?`${e.substring(0,n)}...`:e;return h.jsx(Si,{title:t?"Copied!":"Click to Copy",children:h.jsx(he,{onClick:i,sx:{display:"inline-flex",alignItems:"center",backgroundColor:se.warning+"15",color:se.warning,border:`1px solid ${se.warning}40`,borderRadius:jt.full,padding:`${st[2]} ${st[3]}`,fontSize:Ie.fontSize.sm,fontWeight:Ie.fontWeight.medium,fontFamily:"monospace",cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:se.warning+"25",transform:"translateY(-1px)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},children:h.jsx(ge,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"inherit",color:"inherit",fontWeight:"inherit",userSelect:"none"},title:e,children:a})})})},$j=({courseId:e,maxLength:n=999})=>{const[t,r]=Q.useState(!1),i=async s=>{s.stopPropagation();try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3)}catch(l){console.error("Failed to copy:",l)}},a=e.length>n?`${e.substring(0,n)}...`:e;return h.jsx(Si,{title:t?"Copied!":"Click to Copy",children:h.jsx(he,{onClick:i,sx:{display:"inline-flex",alignItems:"center",backgroundColor:se.neutral[100],color:se.neutral[700],border:`1px solid ${se.neutral[300]}`,borderRadius:jt.full,padding:`${st[2]} ${st[3]}`,fontSize:Ie.fontSize.sm,fontWeight:Ie.fontWeight.medium,fontFamily:"monospace",cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:se.neutral[200],transform:"translateY(-1px)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},children:h.jsx(ge,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"inherit",color:"inherit",fontWeight:"inherit",userSelect:"none"},title:e,children:a})})})},WM=({materialId:e,maxLength:n=999})=>{const[t,r]=Q.useState(!1),i=async s=>{s.stopPropagation();try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3)}catch(l){console.error("Failed to copy:",l)}},a=e.length>n?`${e.substring(0,n)}...`:e;return h.jsx(Si,{title:t?"Copied!":"Click to Copy",children:h.jsx(he,{onClick:i,sx:{display:"inline-flex",alignItems:"center",backgroundColor:se.secondary[50],color:se.secondary[700],border:`1px solid ${se.secondary[300]}`,borderRadius:jt.md,padding:`${st[2]} ${st[3]}`,fontSize:Ie.fontSize.sm,fontWeight:Ie.fontWeight.medium,fontFamily:"monospace",cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:se.secondary[100],transform:"translateY(-1px)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},children:h.jsx(ge,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"inherit",color:"inherit",fontWeight:"inherit",userSelect:"none"},title:e,children:a})})})};var b1={},k_;function YM(){if(k_)return b1;k_=1;var e=Bd();Object.defineProperty(b1,"__esModule",{value:!0}),b1.default=void 0;var n=e($d()),t=Ud();return b1.default=(0,n.default)((0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),b1}var VM=YM();const Hj=ts(VM);var y1={},N_;function GM(){if(N_)return y1;N_=1;var e=Bd();Object.defineProperty(y1,"__esModule",{value:!0}),y1.default=void 0;var n=e($d()),t=Ud();return y1.default=(0,n.default)((0,t.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),y1}var QM=GM();const KM=ts(QM);var x1={},T_;function XM(){if(T_)return x1;T_=1;var e=Bd();Object.defineProperty(x1,"__esModule",{value:!0}),x1.default=void 0;var n=e($d()),t=Ud();return x1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),x1}var ZM=XM();const JM=ts(ZM);var v1={},j_;function eF(){if(j_)return v1;j_=1;var e=Bd();Object.defineProperty(v1,"__esModule",{value:!0}),v1.default=void 0;var n=e($d()),t=Ud();return v1.default=(0,n.default)((0,t.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),v1}var tF=eF();const nF=ts(tF),O_=e=>e?e instanceof ja?e.toDate().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):e.seconds?new Date(e.seconds*1e3).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):e instanceof Date?e.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"N/A":"N/A",Wj=e=>e?e instanceof ja?e.toDate().toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):e.seconds?new Date(e.seconds*1e3).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):e instanceof Date?e.toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):"N/A":"N/A",gv=({label:e,status:n,size:t="small"})=>{const r=()=>{switch(n){case"success":return{backgroundColor:se.secondary[100],color:se.secondary[700]};case"warning":return{backgroundColor:"#FEF3C7",color:"#D97706"};case"error":return{backgroundColor:"#FEE2E2",color:"#DC2626"};case"info":return{backgroundColor:se.primary[100],color:se.primary[700]};default:return{backgroundColor:se.neutral[100],color:se.neutral[700]}}};return h.jsx(cr,{label:e,size:t,sx:{...r(),fontFamily:Ie.fontFamily.secondary,fontWeight:Ie.fontWeight.medium,fontSize:Ie.fontSize.sm}})},Vg=({actions:e})=>h.jsx(he,{sx:{display:"flex",justifyContent:"center",gap:st[1]},children:e.map((n,t)=>h.jsx(Si,{title:n.tooltip,children:h.jsx("span",{children:h.jsx(On,{size:"small",onClick:n.onClick,disabled:n.disabled,sx:{color:n.disabled?se.text.disabled:n.color||se.primary[600],"&:hover":{backgroundColor:n.disabled?"transparent":n.hoverColor||se.primary[100]}},children:n.icon})})},t))}),Ap=({date:e,format:n="long"})=>h.jsx(ge,{variant:"body2",sx:{color:se.text.secondary,fontSize:Ie.fontSize.sm},children:n==="short"?O_(e).split(",")[0]:n==="full"?Wj(e):O_(e)}),Rs=({text:e,maxLength:n=100,variant:t="primary",weight:r="normal"})=>{const i=e.length>n?`${e.substring(0,n)}...`:e,a=()=>{const s={fontSize:Ie.fontSize.sm,fontWeight:Ie.fontWeight[r]};switch(t){case"secondary":return{...s,color:se.text.secondary};case"monospace":return{...s,fontFamily:"monospace",color:se.text.secondary,wordBreak:"break-all"};default:return{...s,color:se.text.primary}}};return h.jsx(ge,{variant:"body2",sx:a(),title:e.length>n?e:void 0,children:i})},Ld={delete:h.jsx(Hj,{fontSize:"small"}),view:h.jsx(KM,{fontSize:"small"}),add:h.jsx(JM,{fontSize:"small"})},B6=({title:e,subtitle:n,children:t,maxWidth:r="1200px",className:i=""})=>{const a=xp(),s=Id(a.breakpoints.down("md"));return h.jsxs(he,{className:`form-page-container ${i}`,sx:{p:s?st[3]:st[4],maxWidth:r,mx:"auto",minHeight:"100vh",backgroundColor:se.primary[50]},children:[h.jsx(Fl,{title:e,subtitle:n}),h.jsx(yn,{className:"form-container",elevation:0,sx:{backgroundColor:se.surface.primary,borderRadius:jt["2xl"],p:s?st[4]:st[6],border:`1px solid ${se.neutral[200]}`,boxShadow:Ut.lg,position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"3px",background:se.primary[500],borderRadius:`${jt["2xl"]} ${jt["2xl"]} 0 0`}},children:t})]})},Qf=({title:e,description:n,children:t,showDivider:r=!1,className:i=""})=>h.jsxs(h.Fragment,{children:[r&&h.jsx(es,{sx:{my:st[4],borderColor:se.neutral[200]}}),h.jsxs(he,{className:`form-section ${i}`,sx:{mb:st[4]},children:[e&&h.jsx(ge,{variant:"h6",component:"h2",sx:{mb:st[2],fontFamily:Ie.fontFamily.display,fontWeight:Ie.fontWeight.semibold,color:se.text.primary,fontSize:Ie.fontSize.xl},children:e}),n&&h.jsx(ge,{variant:"body1",sx:{mb:st[3],color:se.text.secondary,lineHeight:Ie.lineHeight.relaxed,fontFamily:Ie.fontFamily.primary},children:n}),t]})]}),mu=({sx:e,variant:n="outlined",...t})=>{const r=xp(),i=Id(r.breakpoints.down("sm"));return h.jsx(Wt,{variant:"outlined",fullWidth:!0,margin:"normal",...t,sx:{"& .MuiOutlinedInput-root":{borderRadius:jt.lg,backgroundColor:se.surface.primary,border:`2px solid ${se.neutral[300]}`,minHeight:"56px","&:hover":{backgroundColor:se.surface.primary,borderColor:se.neutral[300]},"&.Mui-focused":{backgroundColor:se.surface.primary,borderColor:se.neutral[300]},"&.Mui-error":{borderColor:se.error},"& .MuiOutlinedInput-input":{padding:"16px 14px",boxSizing:"border-box"}},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputLabel-root":{fontFamily:Ie.fontFamily.primary,fontWeight:Ie.fontWeight.medium,color:se.text.secondary,transition:"color 0.2s ease-in-out",transform:"none !important",position:"static !important",marginBottom:"8px","&.Mui-focused":{color:se.primary[600],transform:"none !important"},"&.MuiInputLabel-shrink":{transform:"none !important"},"&.Mui-error":{color:se.error}},"& .MuiFormHelperText-root":{fontFamily:Ie.fontFamily.primary,fontSize:Ie.fontSize.sm,marginTop:st[1],minHeight:"20px",lineHeight:"1.2"},"& .MuiInputBase-input":{fontSize:Ie.fontSize.base,fontFamily:Ie.fontFamily.primary},...e}})},nS=({label:e,helperText:n,error:t=!1,required:r=!1,variant:i="outlined",children:a,sx:s,...l})=>{const u=xp(),d=Id(u.breakpoints.down("sm"));return h.jsxs(Su,{fullWidth:!0,margin:"normal",error:t,sx:{"& .MuiOutlinedInput-root":{borderRadius:jt.lg,backgroundColor:se.surface.primary,border:`2px solid ${se.neutral[300]}`,minHeight:"56px","&:hover":{backgroundColor:se.surface.primary,borderColor:se.neutral[300]},"&.Mui-focused":{backgroundColor:se.surface.primary,borderColor:se.neutral[300]},"&.Mui-error":{borderColor:se.error},"& .MuiSelect-select":{padding:"16px 14px",boxSizing:"border-box"}},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputLabel-root":{fontFamily:Ie.fontFamily.primary,fontWeight:Ie.fontWeight.medium,color:se.text.secondary,transition:"color 0.2s ease-in-out",transform:"none !important",position:"static !important",marginBottom:"8px","&.Mui-focused":{color:se.primary[600],transform:"none !important"},"&.MuiInputLabel-shrink":{transform:"none !important"}},"& .MuiFormHelperText-root":{fontFamily:Ie.fontFamily.primary,fontSize:Ie.fontSize.sm,marginTop:st[1],minHeight:"20px",lineHeight:"1.2"},...s},children:[h.jsx(oR,{required:r,sx:{mb:1,fontFamily:Ie.fontFamily.primary,fontWeight:Ie.fontWeight.medium,color:se.text.secondary,fontSize:d?Ie.fontSize.sm:Ie.fontSize.base},children:e}),h.jsx(Ll,{variant:"outlined",...l,children:a}),n&&h.jsx(he,{component:"span",sx:{fontSize:Ie.fontSize.sm,color:t?se.error:se.text.tertiary,mt:st[1],display:"block",fontFamily:Ie.fontFamily.primary,fontWeight:Ie.fontWeight.normal},children:n})]})},tm=({variant:e="primary",loading:n=!1,children:t,sx:r,disabled:i,...a})=>{const s=xp(),l=Id(s.breakpoints.down("sm")),u=()=>{switch(e){case"primary":return{backgroundColor:se.primary[500],color:se.text.inverse,"&:hover":{backgroundColor:se.primary[600],boxShadow:Ut.md,transform:"translateY(-1px)"},"&:active":{transform:"translateY(0)"},"&:disabled":{backgroundColor:se.neutral[300],color:se.text.disabled}};case"secondary":return{backgroundColor:se.secondary[500],color:se.text.inverse,"&:hover":{backgroundColor:se.secondary[600],boxShadow:Ut.md,transform:"translateY(-1px)"},"&:active":{transform:"translateY(0)"},"&:disabled":{backgroundColor:se.neutral[300],color:se.text.disabled}};case"outline":return{backgroundColor:"transparent",color:se.primary[600],border:`2px solid ${se.primary[500]}`,"&:hover":{backgroundColor:se.primary[50],borderColor:se.primary[600],transform:"translateY(-1px)"},"&:active":{transform:"translateY(0)"},"&:disabled":{borderColor:se.neutral[300],color:se.text.disabled}};case"text":return{backgroundColor:"transparent",color:se.text.secondary,"&:hover":{backgroundColor:se.neutral[100],color:se.text.primary},"&:disabled":{color:se.text.disabled}};default:return{}}};return h.jsx(At,{disabled:i||n,...a,sx:{borderRadius:jt.xl,padding:l?`${st[2]} ${st[4]}`:`${st[3]} ${st[6]}`,fontFamily:Ie.fontFamily.secondary,fontWeight:Ie.fontWeight.semibold,fontSize:l?Ie.fontSize.sm:Ie.fontSize.base,textTransform:"none",transition:"all 0.2s ease-in-out",minHeight:"48px",position:"relative",...u(),...n&&{"&::after":{content:'""',position:"absolute",width:"16px",height:"16px",border:`2px solid ${e==="primary"||e==="secondary"?se.text.inverse:se.primary[500]}`,borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}},...r},children:n?"":t})},U6=({children:e,align:n="left",className:t=""})=>{const r=xp(),i=Id(r.breakpoints.down("sm")),a=()=>{switch(n){case"center":return"center";case"right":return"flex-end";case"space-between":return"space-between";default:return"flex-start"}};return h.jsx(he,{className:`form-actions ${t}`,sx:{display:"flex",flexDirection:i?"column":"row",gap:st[3],justifyContent:a(),alignItems:i?"stretch":"center",mt:st[5],pt:st[4],borderTop:`1px solid ${se.neutral[200]}`,...i&&{"& > *":{width:"100%"}}},children:e})},rF=()=>{const{userDetails:e}=Ai(),n=ma(),t=e&&!e.isAdmin&&(!e.classes||Object.keys(e.classes).length===0),r=[{title:"My Account",description:"Manage your profile and account settings",icon:h.jsx(Kw,{sx:{fontSize:40}}),path:"/my-profile",color:se.primary[500],disabled:!1,external:!1},{title:"Messages",description:"View and manage course messages",icon:h.jsx(ij,{sx:{fontSize:40}}),path:"/messages",color:se.secondary[500],disabled:!1,external:!1}],i=[{title:"Course Materials",description:"View and manage course materials",icon:h.jsx(Dd,{sx:{fontSize:40}}),path:"/supplemental-materials",color:se.error,disabled:!1,external:!1},{title:"Laboratory Notebook",description:"Access your lab experiments and designs",icon:h.jsx(j6,{sx:{fontSize:40}}),path:"/laboratory-notebooks",color:se.success,disabled:t,external:!1}];return h.jsxs(he,{className:"profile-container",children:[h.jsx(Fl,{title:"Welcome!"}),h.jsxs(he,{sx:{mb:st[6],p:st[4],backgroundColor:se.background.secondary,borderRadius:jt.xl,border:`1px solid ${se.neutral[200]}`,boxShadow:Ut.sm,position:"relative",mt:st[8]},children:[h.jsx(he,{sx:{position:"absolute",top:"-25px",left:"40px",backgroundColor:se.warning,borderRadius:`${jt.lg} ${jt.lg} 0 0`,px:st[3],py:st[1],zIndex:1},children:h.jsx(ge,{sx:{color:se.text.inverse,fontFamily:Ie.fontFamily.display,fontSize:"2rem",fontWeight:Ie.fontWeight.bold,whiteSpace:"nowrap",lineHeight:1},children:"Getting Started"})}),h.jsxs(yt,{container:!0,spacing:st[4],sx:{mt:st[3],mb:st[4]},children:[h.jsx(yt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(he,{sx:{height:"100%",p:st[3],backgroundColor:se.background.primary,borderRadius:jt.lg,border:`1px solid ${se.neutral[200]}`,boxShadow:Ut.sm},children:[h.jsx(ge,{variant:"h6",component:"h3",sx:{fontFamily:Ie.fontFamily.display,fontSize:"2rem",fontWeight:Ie.fontWeight.bold,color:se.text.primary,mb:st[3],textAlign:"left"},children:"What is NexLAB?"}),h.jsx(ge,{variant:"body1",paragraph:!0,sx:{fontFamily:Ie.fontFamily.secondary,fontSize:Ie.fontSize.lg,color:se.text.secondary,lineHeight:1.6,textAlign:"left"},children:"NexLAB enhances the Antibody Engineering curriculum with an adaptive content management platform designed for educators, students, and researchers."})]})}),h.jsx(yt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(he,{sx:{height:"100%",p:st[3],backgroundColor:se.background.primary,borderRadius:jt.lg,border:`1px solid ${se.neutral[200]}`,boxShadow:Ut.sm},children:[h.jsx(ge,{variant:"h6",component:"h3",sx:{fontFamily:Ie.fontFamily.display,fontSize:"2rem",fontWeight:Ie.fontWeight.bold,color:se.text.primary,mb:st[3],textAlign:"left"},children:"Key Features:"}),h.jsxs(he,{component:"ul",sx:{pl:st[3],"& li":{fontFamily:Ie.fontFamily.secondary,fontSize:Ie.fontSize.lg,color:se.text.secondary,lineHeight:1.5,mb:st[1]}},children:[h.jsx("li",{children:"Electronic Laboratory Notebook using the Design-Build-Test framework"}),h.jsx("li",{children:"Platform for creating and sharing learning materials"}),h.jsx("li",{children:"Student progress tracking and class content efficacy analysis"}),h.jsx("li",{children:"Quiz AI & Chatbot Tools to support interactive learning"})]})]})}),h.jsx(yt,{item:!0,xs:12,sm:6,md:3,children:h.jsx(Xa,{sx:{height:"100%",cursor:"pointer",backgroundColor:se.background.primary,borderRadius:jt.xl,border:`1px solid ${se.neutral[200]}`,boxShadow:Ut.sm,transition:wc.transitions.normal,"&:hover":{transform:"translateY(-8px)",boxShadow:Ut.xl,border:`1px solid ${se.warning}`}},onClick:()=>window.open("http://localhost:3002/view-material/xsA42JCvfCUtmyoyx45s?material=xsA42JCvfCUtmyoyx45s","_blank"),children:h.jsxs(Za,{sx:{textAlign:"center",p:st[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[h.jsx(he,{sx:{color:se.warning,mb:st[3],display:"flex",justifyContent:"center"},children:h.jsx(lR,{sx:{fontSize:40}})}),h.jsxs(he,{sx:{flex:1},children:[h.jsx(ge,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:Ie.fontWeight.bold,fontFamily:Ie.fontFamily.display,fontSize:"2rem",color:se.text.primary,mb:st[2]},children:"Quick-Start Guide"}),h.jsx(ge,{variant:"body2",sx:{color:se.text.secondary,fontFamily:Ie.fontFamily.secondary,fontSize:Ie.fontSize.lg,lineHeight:1.5},children:"Get started with public course materials and learn the basics"})]})]})})}),h.jsx(yt,{item:!0,xs:12,sm:6,md:3,children:h.jsx(Xa,{sx:{height:"100%",cursor:"pointer",backgroundColor:se.background.primary,borderRadius:jt.xl,border:`1px solid ${se.neutral[200]}`,boxShadow:Ut.sm,transition:wc.transitions.normal,"&:hover":{transform:"translateY(-8px)",boxShadow:Ut.xl,border:`1px solid ${se.primary[500]}`}},onClick:()=>window.open("https://www.loom.com/share/f3ca701c66d34f84a13eb7ec12b0c6ec","_blank"),children:h.jsxs(Za,{sx:{textAlign:"center",p:st[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[h.jsx(he,{sx:{color:se.primary[500],mb:st[3],display:"flex",justifyContent:"center"},children:h.jsx(uR,{sx:{fontSize:40}})}),h.jsxs(he,{sx:{flex:1},children:[h.jsx(ge,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:Ie.fontWeight.bold,fontFamily:Ie.fontFamily.display,fontSize:"2rem",color:se.text.primary,mb:st[2]},children:"Tutorial"}),h.jsx(ge,{variant:"body2",sx:{color:se.text.secondary,fontFamily:Ie.fontFamily.secondary,fontSize:Ie.fontSize.lg,lineHeight:1.5},children:"Watch our introduction video to learn how to use NexLAB"})]})]})})})]})]}),h.jsxs(he,{sx:{mb:st[6],p:st[4],backgroundColor:se.background.secondary,borderRadius:jt.xl,border:`1px solid ${se.neutral[200]}`,boxShadow:Ut.sm,position:"relative",mt:st[8]},children:[h.jsx(he,{sx:{position:"absolute",top:"-25px",left:"40px",backgroundColor:se.primary[500],borderRadius:`${jt.lg} ${jt.lg} 0 0`,px:st[3],py:st[1],zIndex:1},children:h.jsx(ge,{sx:{color:se.text.inverse,fontFamily:Ie.fontFamily.display,fontSize:"2rem",fontWeight:Ie.fontWeight.bold,whiteSpace:"nowrap",lineHeight:1},children:"Quick Actions"})}),h.jsx(yt,{container:!0,spacing:st[4],sx:{mb:st[4],mt:st[3]},children:r.map((a,s)=>h.jsx(yt,{item:!0,xs:12,sm:6,md:6,children:h.jsx(Xa,{sx:{height:"100%",cursor:a.disabled?"not-allowed":"pointer",opacity:a.disabled?.6:1,backgroundColor:se.background.primary,borderRadius:jt.xl,border:`1px solid ${se.neutral[200]}`,boxShadow:Ut.sm,transition:wc.transitions.normal,"&:hover":a.disabled?{}:{transform:"translateY(-8px)",boxShadow:Ut.xl,border:`1px solid ${a.color}`}},onClick:()=>{a.disabled||(a.external?window.open(a.path,"_blank"):n(a.path))},children:h.jsxs(Za,{sx:{textAlign:"center",p:st[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[h.jsx(he,{sx:{color:a.color,mb:st[3],display:"flex",justifyContent:"center"},children:a.icon}),h.jsxs(he,{sx:{flex:1},children:[h.jsx(ge,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:Ie.fontWeight.bold,fontFamily:Ie.fontFamily.display,fontSize:"2rem",color:se.text.primary,mb:st[2]},children:a.title}),h.jsx(ge,{variant:"body2",sx:{color:se.text.secondary,fontFamily:Ie.fontFamily.secondary,fontSize:Ie.fontSize.lg,lineHeight:1.5},children:a.description}),a.disabled&&h.jsx(ge,{variant:"caption",sx:{mt:st[2],display:"block",color:se.error,fontFamily:Ie.fontFamily.secondary},children:"Enroll in a course to access this feature"})]})]})})},s))}),h.jsx(yt,{container:!0,spacing:st[4],children:i.map((a,s)=>h.jsx(yt,{item:!0,xs:12,sm:6,md:6,children:h.jsx(Xa,{sx:{height:"100%",cursor:a.disabled?"not-allowed":"pointer",opacity:a.disabled?.6:1,backgroundColor:se.background.primary,borderRadius:jt.xl,border:`1px solid ${se.neutral[200]}`,boxShadow:Ut.sm,transition:wc.transitions.normal,"&:hover":a.disabled?{}:{transform:"translateY(-8px)",boxShadow:Ut.xl,border:`1px solid ${a.color}`}},onClick:()=>{a.disabled||(a.external?window.open(a.path,"_blank"):n(a.path))},children:h.jsxs(Za,{sx:{textAlign:"center",p:st[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[h.jsx(he,{sx:{color:a.color,mb:st[3],display:"flex",justifyContent:"center"},children:a.icon}),h.jsxs(he,{sx:{flex:1},children:[h.jsx(ge,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:Ie.fontWeight.bold,fontFamily:Ie.fontFamily.display,fontSize:"2rem",color:se.text.primary,mb:st[2]},children:a.title}),h.jsx(ge,{variant:"body2",sx:{color:se.text.secondary,fontFamily:Ie.fontFamily.secondary,fontSize:Ie.fontSize.lg,lineHeight:1.5},children:a.description}),a.disabled&&h.jsx(ge,{variant:"caption",sx:{mt:st[2],display:"block",color:se.error,fontFamily:Ie.fontFamily.secondary},children:"Enroll in a course to access this feature"})]})]})})},s))})]}),!(e!=null&&e.isAdmin)&&h.jsxs(he,{sx:{mt:st[6],p:st[4],backgroundColor:se.background.secondary,borderRadius:jt.xl,border:`1px solid ${se.neutral[200]}`,boxShadow:Ut.sm},children:[h.jsx(ge,{variant:"h5",gutterBottom:!0,sx:{fontFamily:Ie.fontFamily.display,fontSize:Ie.fontSize.xl,fontWeight:Ie.fontWeight.bold,color:se.text.primary,mb:st[3]},children:"Getting Started"}),h.jsx(ge,{variant:"body1",paragraph:!0,sx:{fontFamily:Ie.fontFamily.secondary,fontSize:Ie.fontSize.base,color:se.text.secondary,lineHeight:1.6,mb:st[4]},children:`Welcome to NexLab! To get started, you'll need to enroll in a course. Use the "My Account" section to add course access codes provided by your instructor.`}),h.jsx(At,{variant:"contained",onClick:()=>n("/my-profile"),startIcon:h.jsx(Kw,{}),sx:{backgroundColor:se.primary[500],color:se.text.inverse,fontFamily:Ie.fontFamily.secondary,fontSize:Ie.fontSize.base,fontWeight:Ie.fontWeight.medium,borderRadius:jt.lg,px:st[4],py:st[2],"&:hover":{backgroundColor:se.primary[600]}},children:"Go to My Account"})]})]})};let yy;const iF=new Uint8Array(16);function aF(){if(!yy&&(yy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!yy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yy(iF)}const fs=[];for(let e=0;e<256;++e)fs.push((e+256).toString(16).slice(1));function sF(e,n=0){return fs[e[n+0]]+fs[e[n+1]]+fs[e[n+2]]+fs[e[n+3]]+"-"+fs[e[n+4]]+fs[e[n+5]]+"-"+fs[e[n+6]]+fs[e[n+7]]+"-"+fs[e[n+8]]+fs[e[n+9]]+"-"+fs[e[n+10]]+fs[e[n+11]]+fs[e[n+12]]+fs[e[n+13]]+fs[e[n+14]]+fs[e[n+15]]}const oF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),I_={randomUUID:oF};function Ri(e,n,t){if(I_.randomUUID&&!e)return I_.randomUUID();e=e||{};const r=e.random||(e.rng||aF)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,sF(r)}const D_={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"ce5f7921-a3a0-4ea7-b95f-10fe41becda5",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},mg=new Map,xy=e=>{const n=mg.get(e);return n?Object.fromEntries(Object.entries(n.stores).map(([t,r])=>[t,r.getState()])):{}},lF=(e,n,t)=>{if(e===void 0)return{type:"untracked",connection:n.connect(t)};const r=mg.get(t.name);if(r)return{type:"tracked",store:e,...r};const i={connection:n.connect(t),stores:{}};return mg.set(t.name,i),{type:"tracked",store:e,...i}},uF=(e,n)=>{if(n===void 0)return;const t=mg.get(e);t&&(delete t.stores[n],Object.keys(t.stores).length===0&&mg.delete(e))},cF=e=>{var n,t;if(!e)return;const r=e.split(`
`),i=r.findIndex(s=>s.includes("api.setState"));if(i<0)return;const a=((n=r[i+1])==null?void 0:n.trim())||"";return(t=/.+ (.+) .+/.exec(a))==null?void 0:t[1]},dF=(e,n={})=>(t,r,i)=>{const{enabled:a,anonymousActionType:s,store:l,...u}=n;let d;try{d=(a??(D_?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!d)return e(t,r,i);const{connection:f,...g}=lF(l,d,u);let b=!0;i.setState=(y,A,w)=>{const C=t(y,A);if(!b)return C;const N=w===void 0?{type:s||cF(new Error().stack)||"anonymous"}:typeof w=="string"?{type:w}:w;return l===void 0?(f==null||f.send(N,r()),C):(f==null||f.send({...N,type:`${l}/${N.type}`},{...xy(u.name),[l]:i.getState()}),C)},i.devtools={cleanup:()=>{f&&typeof f.unsubscribe=="function"&&f.unsubscribe(),uF(u.name,l)}};const m=(...y)=>{const A=b;b=!1,t(...y),b=A},x=e(i.setState,r,i);if(g.type==="untracked"?f==null||f.init(x):(g.stores[g.store]=i,f==null||f.init(Object.fromEntries(Object.entries(g.stores).map(([y,A])=>[y,y===g.store?x:A.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let y=!1;const A=i.dispatch;i.dispatch=(...w)=>{(D_?"production":void 0)!=="production"&&w[0].type==="__setState"&&!y&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),y=!0),A(...w)}}return f.subscribe(y=>{var A;switch(y.type){case"ACTION":if(typeof y.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return D5(y.payload,w=>{if(w.type==="__setState"){if(l===void 0){m(w.state);return}Object.keys(w.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const C=w.state[l];if(C==null)return;JSON.stringify(i.getState())!==JSON.stringify(C)&&m(C);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(w)});case"DISPATCH":switch(y.payload.type){case"RESET":return m(x),l===void 0?f==null?void 0:f.init(i.getState()):f==null?void 0:f.init(xy(u.name));case"COMMIT":if(l===void 0){f==null||f.init(i.getState());return}return f==null?void 0:f.init(xy(u.name));case"ROLLBACK":return D5(y.state,w=>{if(l===void 0){m(w),f==null||f.init(i.getState());return}m(w[l]),f==null||f.init(xy(u.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return D5(y.state,w=>{if(l===void 0){m(w);return}JSON.stringify(i.getState())!==JSON.stringify(w[l])&&m(w[l])});case"IMPORT_STATE":{const{nextLiftedState:w}=y.payload,C=(A=w.computedStates.slice(-1)[0])==null?void 0:A.state;if(!C)return;m(l===void 0?C:C[l]),f==null||f.send(null,w);return}case"PAUSE_RECORDING":return b=!b}return}}),x},Gg=dF,D5=(e,n)=>{let t;try{t=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}t!==void 0&&n(t)};function fF(e,n){let t;try{t=e()}catch{return}return{getItem:i=>{var a;const s=u=>u===null?null:JSON.parse(u,void 0),l=(a=t.getItem(i))!=null?a:null;return l instanceof Promise?l.then(s):s(l)},setItem:(i,a)=>t.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>t.removeItem(i)}}const rS=e=>n=>{try{const t=e(n);return t instanceof Promise?t:{then(r){return rS(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return rS(r)(t)}}}},hF=(e,n)=>(t,r,i)=>{let a={storage:fF(()=>localStorage),partialize:y=>y,version:0,merge:(y,A)=>({...A,...y}),...n},s=!1;const l=new Set,u=new Set;let d=a.storage;if(!d)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...y)},r,i);const f=()=>{const y=a.partialize({...r()});return d.setItem(a.name,{state:y,version:a.version})},g=i.setState;i.setState=(y,A)=>{g(y,A),f()};const b=e((...y)=>{t(...y),f()},r,i);i.getInitialState=()=>b;let m;const x=()=>{var y,A;if(!d)return;s=!1,l.forEach(C=>{var N;return C((N=r())!=null?N:b)});const w=((A=a.onRehydrateStorage)==null?void 0:A.call(a,(y=r())!=null?y:b))||void 0;return rS(d.getItem.bind(d))(a.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==a.version){if(a.migrate){const N=a.migrate(C.state,C.version);return N instanceof Promise?N.then(R=>[!0,R]):[!0,N]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var N;const[R,F]=C;if(m=a.merge(F,(N=r())!=null?N:b),t(m,!0),R)return f()}).then(()=>{w==null||w(m,void 0),m=r(),s=!0,u.forEach(C=>C(m))}).catch(C=>{w==null||w(void 0,C)})};return i.persist={setOptions:y=>{a={...a,...y},y.storage&&(d=y.storage)},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>x(),hasHydrated:()=>s,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(u.add(y),()=>{u.delete(y)})},a.skipHydration||x(),m||b},bv=hF;var L_;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(L_||(L_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R_;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(R_||(R_={}));var M_;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(M_||(M_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=["user","model","function","system"];var P_;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(P_||(P_={}));var z_;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(z_||(z_={}));var q_;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(q_||(q_={}));var B_;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(B_||(B_={}));var J1;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(J1||(J1={}));var U_;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(U_||(U_={}));var $_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})($_||($_={}));var H_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(H_||(H_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Error{constructor(n){super(`[GoogleGenerativeAI Error]: ${n}`)}}class d0 extends Ms{constructor(n,t){super(n),this.response=t}}class Yj extends Ms{constructor(n,t,r,i){super(n),this.status=t,this.statusText=r,this.errorDetails=i}}class Kf extends Ms{}class Vj extends Ms{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF="https://generativelanguage.googleapis.com",mF="v1beta",gF="0.24.1",bF="genai-js";var cp;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(cp||(cp={}));class yF{constructor(n,t,r,i,a){this.model=n,this.task=t,this.apiKey=r,this.stream=i,this.requestOptions=a}toString(){var n,t;const r=((n=this.requestOptions)===null||n===void 0?void 0:n.apiVersion)||mF;let a=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||pF}/${r}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function xF(e){const n=[];return e!=null&&e.apiClient&&n.push(e.apiClient),n.push(`${bF}/${gF}`),n.join(" ")}async function vF(e){var n;const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",xF(e.requestOptions)),t.append("x-goog-api-key",e.apiKey);let r=(n=e.requestOptions)===null||n===void 0?void 0:n.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Kf(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,a]of r.entries()){if(i==="x-goog-api-key")throw new Kf(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Kf(`Header name ${i} can only be set using the apiClient field`);t.append(i,a)}}return t}async function wF(e,n,t,r,i,a){const s=new yF(e,n,t,r,a);return{url:s.toString(),fetchOptions:Object.assign(Object.assign({},EF(a)),{method:"POST",headers:await vF(s),body:i})}}async function Qg(e,n,t,r,i,a={},s=fetch){const{url:l,fetchOptions:u}=await wF(e,n,t,r,i,a);return SF(l,u,s)}async function SF(e,n,t=fetch){let r;try{r=await t(e,n)}catch(i){AF(i,e)}return r.ok||await CF(r,e),r}function AF(e,n){let t=e;throw t.name==="AbortError"?(t=new Vj(`Request aborted when fetching ${n.toString()}: ${e.message}`),t.stack=e.stack):e instanceof Yj||e instanceof Kf||(t=new Ms(`Error fetching from ${n.toString()}: ${e.message}`),t.stack=e.stack),t}async function CF(e,n){let t="",r;try{const i=await e.json();t=i.error.message,i.error.details&&(t+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new Yj(`Error fetching from ${n.toString()}: [${e.status} ${e.statusText}] ${t}`,e.status,e.statusText,r)}function EF(e){const n={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const t=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>t.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{t.abort()}),n.signal=t.signal}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Jy(e.candidates[0]))throw new d0(`${Rf(e)}`,e);return _F(e)}else if(e.promptFeedback)throw new d0(`Text not available. ${Rf(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Jy(e.candidates[0]))throw new d0(`${Rf(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),W_(e)[0]}else if(e.promptFeedback)throw new d0(`Function call not available. ${Rf(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Jy(e.candidates[0]))throw new d0(`${Rf(e)}`,e);return W_(e)}else if(e.promptFeedback)throw new d0(`Function call not available. ${Rf(e)}`,e)},e}function _F(e){var n,t,r,i;const a=[];if(!((t=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||t===void 0)&&t.parts)for(const s of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)s.text&&a.push(s.text),s.executableCode&&a.push("\n```"+s.executableCode.language+`
`+s.executableCode.code+"\n```\n"),s.codeExecutionResult&&a.push("\n```\n"+s.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}function W_(e){var n,t,r,i;const a=[];if(!((t=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||t===void 0)&&t.parts)for(const s of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)s.functionCall&&a.push(s.functionCall);if(a.length>0)return a}const kF=[J1.RECITATION,J1.SAFETY,J1.LANGUAGE];function Jy(e){return!!e.finishReason&&kF.includes(e.finishReason)}function Rf(e){var n,t,r;let i="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)i+="Response was blocked",!((n=e.promptFeedback)===null||n===void 0)&&n.blockReason&&(i+=` due to ${e.promptFeedback.blockReason}`),!((t=e.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const a=e.candidates[0];Jy(a)&&(i+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(i+=`: ${a.finishMessage}`))}return i}function gg(e){return this instanceof gg?(this.v=e,this):new gg(e)}function NF(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(b){r[b]&&(i[b]=function(m){return new Promise(function(x,y){a.push([b,m,x,y])>1||l(b,m)})})}function l(b,m){try{u(r[b](m))}catch(x){g(a[0][3],x)}}function u(b){b.value instanceof gg?Promise.resolve(b.value.v).then(d,f):g(a[0][2],b)}function d(b){l("next",b)}function f(b){l("throw",b)}function g(b,m){b(m),a.shift(),a.length&&l(a[0][0],a[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function TF(e){const n=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=IF(n),[r,i]=t.tee();return{stream:OF(r),response:jF(i)}}async function jF(e){const n=[],t=e.getReader();for(;;){const{done:r,value:i}=await t.read();if(r)return $6(DF(n));n.push(i)}}function OF(e){return NF(this,arguments,function*(){const t=e.getReader();for(;;){const{value:r,done:i}=yield gg(t.read());if(i)break;yield yield gg($6(r))}})}function IF(e){const n=e.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return n.read().then(({value:s,done:l})=>{if(l){if(i.trim()){r.error(new Ms("Failed to parse stream"));return}r.close();return}i+=s;let u=i.match(Y_),d;for(;u;){try{d=JSON.parse(u[1])}catch{r.error(new Ms(`Error parsing JSON response: "${u[1]}"`));return}r.enqueue(d),i=i.substring(u[0].length),u=i.match(Y_)}return a()}).catch(s=>{let l=s;throw l.stack=s.stack,l.name==="AbortError"?l=new Vj("Request aborted when reading from the stream"):l=new Ms("Error reading from the stream"),l})}}})}function DF(e){const n=e[e.length-1],t={promptFeedback:n==null?void 0:n.promptFeedback};for(const r of e){if(r.candidates){let i=0;for(const a of r.candidates)if(t.candidates||(t.candidates=[]),t.candidates[i]||(t.candidates[i]={index:i}),t.candidates[i].citationMetadata=a.citationMetadata,t.candidates[i].groundingMetadata=a.groundingMetadata,t.candidates[i].finishReason=a.finishReason,t.candidates[i].finishMessage=a.finishMessage,t.candidates[i].safetyRatings=a.safetyRatings,a.content&&a.content.parts){t.candidates[i].content||(t.candidates[i].content={role:a.content.role||"user",parts:[]});const s={};for(const l of a.content.parts)l.text&&(s.text=l.text),l.functionCall&&(s.functionCall=l.functionCall),l.executableCode&&(s.executableCode=l.executableCode),l.codeExecutionResult&&(s.codeExecutionResult=l.codeExecutionResult),Object.keys(s).length===0&&(s.text=""),t.candidates[i].content.parts.push(s)}i++}r.usageMetadata&&(t.usageMetadata=r.usageMetadata)}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(e,n,t,r){const i=await Qg(n,cp.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(t),r);return TF(i)}async function Qj(e,n,t,r){const a=await(await Qg(n,cp.GENERATE_CONTENT,e,!1,JSON.stringify(t),r)).json();return{response:$6(a)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function bg(e){let n=[];if(typeof e=="string")n=[{text:e}];else for(const t of e)typeof t=="string"?n.push({text:t}):n.push(t);return LF(n)}function LF(e){const n={role:"user",parts:[]},t={role:"function",parts:[]};let r=!1,i=!1;for(const a of e)"functionResponse"in a?(t.parts.push(a),i=!0):(n.parts.push(a),r=!0);if(r&&i)throw new Ms("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new Ms("No content is provided for sending chat message.");return r?n:t}function RF(e,n){var t;let r={model:n==null?void 0:n.model,generationConfig:n==null?void 0:n.generationConfig,safetySettings:n==null?void 0:n.safetySettings,tools:n==null?void 0:n.tools,toolConfig:n==null?void 0:n.toolConfig,systemInstruction:n==null?void 0:n.systemInstruction,cachedContent:(t=n==null?void 0:n.cachedContent)===null||t===void 0?void 0:t.name,contents:[]};const i=e.generateContentRequest!=null;if(e.contents){if(i)throw new Kf("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(i)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const a=bg(e);r.contents=[a]}return{generateContentRequest:r}}function V_(e){let n;return e.contents?n=e:n={contents:[bg(e)]},e.systemInstruction&&(n.systemInstruction=Kj(e.systemInstruction)),n}function MF(e){return typeof e=="string"||Array.isArray(e)?{content:bg(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],FF={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function PF(e){let n=!1;for(const t of e){const{role:r,parts:i}=t;if(!n&&r!=="user")throw new Ms(`First content should be with role 'user', got ${r}`);if(!F_.includes(r))throw new Ms(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(F_)}`);if(!Array.isArray(i))throw new Ms("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Ms("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of i)for(const u of G_)u in l&&(a[u]+=1);const s=FF[r];for(const l of G_)if(!s.includes(l)&&a[l]>0)throw new Ms(`Content with role '${r}' can't contain '${l}' part`);n=!0}}function Q_(e){var n;if(e.candidates===void 0||e.candidates.length===0)return!1;const t=(n=e.candidates[0])===null||n===void 0?void 0:n.content;if(t===void 0||t.parts===void 0||t.parts.length===0)return!1;for(const r of t.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="SILENT_ERROR";class zF{constructor(n,t,r,i={}){this.model=t,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=n,r!=null&&r.history&&(PF(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(n,t={}){var r,i,a,s,l,u;await this._sendPromise;const d=bg(n),f={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,d]},g=Object.assign(Object.assign({},this._requestOptions),t);let b;return this._sendPromise=this._sendPromise.then(()=>Qj(this._apiKey,this.model,f,g)).then(m=>{var x;if(Q_(m.response)){this._history.push(d);const y=Object.assign({parts:[],role:"model"},(x=m.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(y)}else{const y=Rf(m.response);y&&console.warn(`sendMessage() was unsuccessful. ${y}. Inspect response object for details.`)}b=m}).catch(m=>{throw this._sendPromise=Promise.resolve(),m}),await this._sendPromise,b}async sendMessageStream(n,t={}){var r,i,a,s,l,u;await this._sendPromise;const d=bg(n),f={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,d]},g=Object.assign(Object.assign({},this._requestOptions),t),b=Gj(this._apiKey,this.model,f,g);return this._sendPromise=this._sendPromise.then(()=>b).catch(m=>{throw new Error(K_)}).then(m=>m.response).then(m=>{if(Q_(m)){this._history.push(d);const x=Object.assign({},m.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=Rf(m);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(m=>{m.message!==K_&&console.error(m)}),b}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qF(e,n,t,r){return(await Qg(n,cp.COUNT_TOKENS,e,!1,JSON.stringify(t),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BF(e,n,t,r){return(await Qg(n,cp.EMBED_CONTENT,e,!1,JSON.stringify(t),r)).json()}async function UF(e,n,t,r){const i=t.requests.map(s=>Object.assign(Object.assign({},s),{model:n}));return(await Qg(n,cp.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(n,t,r={}){this.apiKey=n,this._requestOptions=r,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=Kj(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(n,t={}){var r;const i=V_(n),a=Object.assign(Object.assign({},this._requestOptions),t);return Qj(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}async generateContentStream(n,t={}){var r;const i=V_(n),a=Object.assign(Object.assign({},this._requestOptions),t);return Gj(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}startChat(n){var t;return new zF(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},n),this._requestOptions)}async countTokens(n,t={}){const r=RF(n,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),t);return qF(this.apiKey,this.model,r,i)}async embedContent(n,t={}){const r=MF(n),i=Object.assign(Object.assign({},this._requestOptions),t);return BF(this.apiKey,this.model,r,i)}async batchEmbedContents(n,t={}){const r=Object.assign(Object.assign({},this._requestOptions),t);return UF(this.apiKey,this.model,n,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(n){this.apiKey=n}getGenerativeModel(n,t){if(!n.model)throw new Ms("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new X_(this.apiKey,n,t)}getGenerativeModelFromCachedContent(n,t,r){if(!n.name)throw new Kf("Cached content must contain a `name` field.");if(!n.model)throw new Kf("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const s of i)if(t!=null&&t[s]&&n[s]&&(t==null?void 0:t[s])!==n[s]){if(s==="model"){const l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model,u=n.model.startsWith("models/")?n.model.replace("models/",""):n.model;if(l===u)continue}throw new Kf(`Different value for "${s}" specified in modelParams (${t[s]}) and cachedContent (${n[s]})`)}const a=Object.assign(Object.assign({},t),{model:n.model,tools:n.tools,toolConfig:n.toolConfig,systemInstruction:n.systemInstruction,cachedContent:n});return new X_(this.apiKey,a,r)}}var L5={exports:{}},Z_;function $F(){return Z_||(Z_=1,(()=>{var e={d:(a,s)=>{for(var l in s)e.o(s,l)&&!e.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:s[l]})},o:(a,s)=>Object.prototype.hasOwnProperty.call(a,s),r:a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}},n={};function t(a,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}e.r(n),e.d(n,{default:()=>i});var r=function(){function a(){(function(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")})(this,a)}var s,l;return s=a,l=[{key:"changeHeightWidth",value:function(u,d,f,g,b,m){return f>g&&(u=Math.round(u*g/f),f=g),u>d&&(f=Math.round(f*d/u),u=d),b&&f<b&&(u=Math.round(u*b/f),f=b),m&&u<m&&(f=Math.round(f*m/u),u=m),{height:u,width:f}}},{key:"resizeAndRotateImage",value:function(u,d,f,g,b){var m=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",x=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,y=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,A=x/100,w=document.createElement("canvas"),C=u.width,N=u.height,R=this.changeHeightWidth(N,f,C,d,g,b);!y||y!==90&&y!==270?(w.width=R.width,w.height=R.height):(w.width=R.height,w.height=R.width),C=R.width,N=R.height;var F=w.getContext("2d");return F.fillStyle="rgba(0, 0, 0, 0)",F.fillRect(0,0,C,N),F.imageSmoothingEnabled&&F.imageSmoothingQuality&&(F.imageSmoothingQuality="high"),y&&(F.rotate(y*Math.PI/180),y===90?F.translate(0,-w.width):y===180?F.translate(-w.width,-w.height):y===270?F.translate(-w.height,0):y!==0&&y!==360||F.translate(0,0)),F.drawImage(u,0,0,C,N),w.toDataURL("image/".concat(m),A)}},{key:"b64toByteArrays",value:function(u,d){for(var f=atob(u.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),g=[],b=0;b<f.length;b+=512){for(var m=f.slice(b,b+512),x=new Array(m.length),y=0;y<m.length;y++)x[y]=m.charCodeAt(y);var A=new Uint8Array(x);g.push(A)}return g}},{key:"b64toBlob",value:function(u,d){var f=this.b64toByteArrays(u,d);return new Blob(f,{type:d,lastModified:new Date})}},{key:"b64toFile",value:function(u,d,f){var g=this.b64toByteArrays(u,f);return new File(g,d,{type:f,lastModified:new Date})}},{key:"createResizedImage",value:function(u,d,f,g,b,m,x){var y=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",A=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,w=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,C=new FileReader;if(!u)throw Error("File Not Found!");if(u.type&&!u.type.includes("image"))throw Error("File Is NOT Image!");C.readAsDataURL(u),C.onload=function(){var N=new Image;N.src=C.result,N.onload=function(){var R=a.resizeAndRotateImage(N,d,f,A,w,g,b,m),F="image/".concat(g);switch(y){case"blob":var q=a.b64toBlob(R,F);x(q);break;case"base64":x(R);break;case"file":var k=u.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(g.toString()),L=a.b64toFile(R,k,F);x(L);break;default:x(R)}}},C.onerror=function(N){throw Error(N)}}}],l&&t(s,l),a}();const i={imageFileResizer:function(a,s,l,u,d,f,g,b,m,x){return r.createResizedImage(a,s,l,u,d,f,g,b,m,x)}};L5.exports=n})()),L5.exports}var HF=$F();const Zj=ts(HF),WF=(e,n=5*1024*1024)=>new Promise((t,r)=>{var b;const i=((b=e.type.split("/")[1])==null?void 0:b.toLowerCase())||"unknown";if(e.size<=n&&(i==="jpeg"||i==="png"||i==="webp")){console.log(` Image already optimized: ${e.size} bytes, format: ${i}`),t({blob:e,format:i==="jpeg"?"jpg":i});return}const a=e.size>n;console.log(` Processing image: ${e.size} bytes, format: ${i}, compress: ${a}`);const s=new File([e],`image.${i}`,{type:e.type});let l="JPEG",u="jpg";(i==="png"||i==="gif")&&(l="PNG",u="png");const d=a?60:75,f=a?600:800,g=setTimeout(()=>{r(new Error("Image compression timed out after 10 seconds"))},1e4);Zj.imageFileResizer(s,f,f,l,d,0,m=>{clearTimeout(g),m instanceof Blob?(console.log(` Image compressed: ${e.size}  ${m.size} bytes (${((1-m.size/e.size)*100).toFixed(1)}% reduction)`),t({blob:m,format:u})):r(new Error("Compression failed - unexpected result type"))},"blob")}),YF=async(e,n,t,r=3,i=15e3)=>{const a=vp();for(let s=1;s<=r;s++)try{const{blob:l,format:u}=await WF(e),d=`${n}_${Ri()}.${u}`,f=async()=>{const m=vc(a,`materials/${t}/${d}`),x=await Vf(m,l);return{url:await Gf(x.ref),path:x.ref.fullPath,filename:d,originalSize:e.size,compressedSize:l.size}},g=new Promise((m,x)=>{setTimeout(()=>x(new Error(`Upload timeout after ${i}ms`)),i)}),b=await Promise.race([f(),g]);return console.log(`Successfully uploaded image: ${b.filename} (attempt ${s})`,{originalSize:b.originalSize,compressedSize:b.compressedSize,url:b.url}),{url:b.url,path:b.path}}catch(l){const u=l instanceof Error?l.message:"Unknown error";if(console.warn(`Upload attempt ${s}/${r} failed for ${n}: ${u}`),s===r)throw console.error(`All ${r} upload attempts failed for ${n}:`,l),new Error(`Image upload failed after ${r} attempts: ${u}`);const d=Math.min(1e3*Math.pow(2,s-1),5e3);console.log(`Waiting ${d}ms before retry...`),await new Promise(f=>setTimeout(f,d))}throw new Error("Upload failed - should not reach here")},R5=e=>{const t=`
    <svg width="400" height="300" xmlns="http://www.w3.org/2000/svg">
      <rect width="100%" height="100%" fill="#f44336"/>
      <text x="50%" y="45%" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle" dominant-baseline="middle">
        Upload Failed
      </text>
      <text x="50%" y="55%" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle" dominant-baseline="middle">
        ${e.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30)}
      </text>
    </svg>
  `;try{return`data:image/svg+xml;base64,${btoa(t)}`}catch(r){return console.error("Failed to create fallback placeholder:",r),`data:image/svg+xml,${encodeURIComponent(t)}`}},VF=async(e,n,t,r=3)=>{const i=e.filter(u=>u.imageBlob),a=[];console.log(` Starting batch upload of ${i.length} images (batch size: ${r})`),console.log(" Images to upload:",i.map((u,d)=>{var f,g;return{index:d+1,slideNumber:u.slideNumber,description:u.description,blobSize:(f=u.imageBlob)==null?void 0:f.size,blobType:(g=u.imageBlob)==null?void 0:g.type}}));for(let u=0;u<i.length;u+=r){const d=Math.min(u+r,i.length),f=i.slice(u,d);console.log(`Processing batch ${Math.floor(u/r)+1}/${Math.ceil(i.length/r)} (images ${u+1}-${d})`);const g=f.map(async(b,m)=>{const x=u+m;console.log(` Starting upload for image ${x+1}/${i.length} (slide ${b.slideNumber})`);try{const y=`slide_${b.slideNumber}_image_${x+1}`,A=YF(b.imageBlob,y,n,2,1e4),w=new Promise((N,R)=>{setTimeout(()=>{R(new Error(`Individual image timeout after 15 seconds for image ${x+1}`))},15e3)}),{url:C}=await Promise.race([A,w]);return console.log(` Successfully processed image ${x+1}/${i.length}`),{url:C,title:b.description||`Image from Slide ${b.slideNumber}`,originalFilename:b.filename,slideNumber:b.slideNumber,index:x}}catch(y){return console.error(` Failed to upload image ${x+1}/${i.length} from slide ${b.slideNumber}:`,y),{url:R5(b.description||`Image from Slide ${b.slideNumber}`),title:b.description||`Image from Slide ${b.slideNumber}`,originalFilename:b.filename,slideNumber:b.slideNumber,index:x}}});try{console.log(` Waiting for batch ${Math.floor(u/r)+1} to complete...`);const b=2e4,m=new Promise((y,A)=>{setTimeout(()=>{A(new Error(`Batch ${Math.floor(u/r)+1} timeout after ${b}ms`))},b)}),x=await Promise.race([Promise.allSettled(g),m]);console.log(` Batch ${Math.floor(u/r)+1} completed, processing ${x.length} results...`),x.forEach((y,A)=>{const w=u+A;if(y.status==="fulfilled")a.push(y.value),console.log(` Image ${w+1}/${i.length} uploaded successfully`);else{console.error(` Image ${w+1}/${i.length} failed:`,y.reason);const C=f[A];a.push({url:R5(C.description||`Image from Slide ${C.slideNumber}`),title:C.description||`Image from Slide ${C.slideNumber}`,originalFilename:C.filename,slideNumber:C.slideNumber})}t==null||t(w+1,i.length)})}catch(b){console.error(` Batch ${Math.floor(u/r)+1} failed or timed out:`,b),f.forEach((m,x)=>{const y=u+x;console.log(` Creating fallback for timed out image ${y+1}/${i.length}`),a.push({url:R5(m.description||`Image from Slide ${m.slideNumber}`),title:m.description||`Image from Slide ${m.slideNumber}`,originalFilename:m.filename,slideNumber:m.slideNumber}),t==null||t(y+1,i.length)})}d<i.length&&(console.log(" Waiting 1 second before next batch..."),await new Promise(b=>setTimeout(b,1e3)))}a.sort((u,d)=>(u.index||0)-(d.index||0));const s=a.filter(u=>!u.url.startsWith("data:")).length,l=a.length-s;return console.log(`Upload complete: ${s} successful, ${l} failed out of ${a.length} total`),a};class GF{constructor(n){et(this,"genAI");et(this,"model");et(this,"activeBlobUrls",new Set);this.genAI=new Xj(n),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.2,topK:3,topP:.9,maxOutputTokens:16384}})}cleanupBlobUrls(){this.activeBlobUrls.forEach(n=>{URL.revokeObjectURL(n)}),this.activeBlobUrls.clear()}createTrackedBlobUrl(n){const t=URL.createObjectURL(n);return this.activeBlobUrls.add(t),t}async processMaterialContent(n,t,r,i,a,s){if(!(n!=null&&n.trim()))throw new Error("No content provided for processing");a==null||a({stage:"analyzing",percentage:20,currentOperation:"Analyzing document structure..."});const l=n.length,u=Math.ceil(l/4);if(l>15e3||u>4e3){console.log(`Document is large (${l} chars, ~${u} tokens), using chunked processing`);const d=n.substring(0,15e3);return console.log("Truncating input to prevent AI response truncation"),this.processSingleMaterial(d+`

[Content truncated for processing]`,t,r,i,a,s)}return this.processSingleMaterial(n,t,r,i,a,s)}async processSingleMaterial(n,t,r,i,a,s){const l=this.buildMaterialAnalysisPrompt(n,t,r,i,s);a==null||a({stage:"analyzing",percentage:40,currentOperation:"Processing with AI..."});try{const f=(await(await this.model.generateContent(l)).response).text();if(!f||f.trim().length===0)throw new Error("Empty response from AI service");a==null||a({stage:"structuring",percentage:70,currentOperation:"Structuring content..."});let g=f.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();console.log("Raw response text (first 1000 chars):",f.substring(0,1e3)),console.log("Cleaned text (first 1000 chars):",g.substring(0,1e3)),g=this.repairTruncatedJSON(g);let b;try{b=JSON.parse(g)}catch(m){throw console.error("JSON parsing failed:",m),console.error("Raw response text (first 1000 chars):",f.substring(0,1e3)),console.error("Cleaned text (first 1000 chars):",g.substring(0,1e3)),new Error("AI response format invalid - unable to parse JSON")}if(!b||typeof b!="object")throw new Error("AI response is not a valid object");return a==null||a({stage:"complete",percentage:100,currentOperation:"Processing complete!"}),this.validateAndSanitizeMaterialResponse(b,t,r)}catch(u){if(console.error("Material Import AI Error:",u),a==null||a({stage:"error",percentage:0,currentOperation:`Error: ${u instanceof Error?u.message:"Unknown error"}`}),u instanceof Error){if(u.message.includes("API_KEY_INVALID")||u.message.includes("API key"))throw new Error("Invalid API key. Please check your material import API key configuration.");if(u.message.includes("RATE_LIMIT_EXCEEDED"))throw new Error("Rate limit exceeded. Please try again in a few minutes.");if(u.message.includes("SAFETY"))throw new Error("Content flagged by safety filters. Please try with different content.")}throw new Error(`Material processing failed: ${u instanceof Error?u.message:"Unknown error"}`)}}async processLargeMaterial(n,t,r,i,a){a==null||a({stage:"analyzing",percentage:10,currentOperation:"Processing large document with chunking..."});const s=this.chunkMaterialText(n);let l=null;const u=[];a==null||a({stage:"analyzing",percentage:30,currentOperation:`Processing main content (1/${s.length})...`,subSteps:{current:1,total:s.length,description:"Analyzing primary structure"}}),l=await this.processSingleMaterial(s[0],t,r,i);for(let f=1;f<s.length;f++){a==null||a({stage:"analyzing",percentage:30+40*f/s.length,currentOperation:`Processing additional content (${f+1}/${s.length})...`,subSteps:{current:f+1,total:s.length,description:"Extracting supplementary details"}});try{const g=await this.processChunkForAdditionalContent(s[f],t,r);g&&u.push(g)}catch(g){console.warn(`Failed to process chunk ${f+1}:`,g)}}a==null||a({stage:"structuring",percentage:80,currentOperation:"Merging content from all sections..."});const d=this.mergeChunkedMaterialResults(l,u);return a==null||a({stage:"complete",percentage:100,currentOperation:"Large document processing complete!"}),d}buildMaterialAnalysisPrompt(n,t,r,i,a){const s=this.getFileTypeContext(r);return`
Analyze this ${s} educational material and extract structured information for course content management.

File: ${t}
Type: ${r}

CONTENT:
${n}

${a!=null&&a.images&&a.images.length>0?`
DETECTED IMAGES:
${a.images.map((l,u)=>`${u+1}. ${l.description||`Image ${u+1}`}${l.slideNumber?` (Slide ${l.slideNumber})`:""}${l.altText?` - ${l.altText}`:""}`).join(`
`)}

CRITICAL IMAGE PLACEMENT INSTRUCTIONS:
- Each image MUST be placed in the section corresponding to its slide number
- If "Image X (Slide Y)" is detected, place it in the section created from Slide Y content
- Each image should have a unique, descriptive title based on its context
- Include slideNumber property in each image object for proper matching
- DO NOT reuse the same image in multiple sections
`:""}

Please extract and structure this content into a comprehensive educational material format. Focus on:

1. **Document Structure**: Identify main topics, subtopics, and hierarchical organization
2. **Content Quality**: Preserve important educational information and context
3. **Visual Elements**: Note references to images, diagrams, charts (even if not extractable)
4. **Links and Resources**: Extract any URLs, references, or external resources mentioned
5. **Learning Context**: Maintain educational value and logical flow

${s==="presentation slide deck"?`
SPECIAL INSTRUCTIONS FOR PRESENTATIONS:
- Each slide should become a section or subsection
- Preserve slide order and hierarchy
- Note slide titles and main content points
- Identify slide transitions and logical groupings
- Extract speaker notes or additional context if present
`:""}

Return ONLY a JSON object with this exact structure:
{
  "title": "Material title (extracted from content or filename)",
  "description": "Brief description of the material content",
  "header": {
    "title": "Introduction or Overview",
    "content": "HTML formatted introductory content"
  },
  "footer": {
    "title": "Summary or Conclusion", 
    "content": "HTML formatted concluding content"
  },
  "sections": [
    {
      "title": "Section Title",
      "content": "HTML formatted main section content",
      "subsections": [
        {
          "title": "Subsection Title",
          "content": "HTML formatted subsection content",
          "subSubsections": [
            {
              "title": "Sub-subsection Title",
              "content": "HTML formatted detailed content",
              "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 2}],
              "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
            }
          ],
          "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 3}],
          "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
        }
      ],
      "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 4}],
      "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
    }
  ],
  "sourceInfo": {
    "fileName": "${t}",
    "fileType": "${r}",
    "extractedAt": "${new Date().toISOString()}",
    "originalFileReference": "Reference to original file for debugging"
  },
  "images": [{"url": "", "title": "Overall image description", "description": "Context", "slideNumber": 1}],
  "links": [{"title": "Overall link title", "url": "URL", "description": "Link context"}]
}

CRITICAL JSON FORMATTING RULES:
- Return ONLY valid JSON - no comments, no explanations, no additional text
- Use proper HTML tags for content formatting (<p>, <h1>-<h6>, <ul>, <ol>, <li>, <strong>, <em>, <br>)
- Preserve educational structure and hierarchy
- Create logical sections based on content organization
- For images: Use EMPTY STRINGS for URLs ("url": "") with descriptive titles, context, and slideNumber property
-- IMPORTANT: Each image object MUST include "slideNumber" property matching the source slide
-- NEVER use placeholder filenames like "placeholder_image_1.png" - always use empty strings for URLs
- For links: Extract actual URLs when present, provide context
- Complete ALL sections and subsections - do not use comments like "// ... continue"
- Ensure all JSON arrays and objects are properly closed
- Maintain educational value and readability

IMPORTANT: Your response must be complete, valid JSON that can be parsed directly. Do not include any explanatory text, comments, or incomplete sections. End your response when the JSON object is complete.
`}async processChunkForAdditionalContent(n,t,r){const i=`
Extract additional educational content from this section of the material:

File: ${t}
Type: ${r}

CONTENT:
${n}

Focus on extracting any additional sections, detailed information, or supplementary content that should be included in the educational material.

Return ONLY a JSON object with additional sections, images, or links:
{
  "sections": [...],
  "images": [...],
  "links": [...]
}
`;try{const l=(await(await this.model.generateContent(i)).response).text();if(!l||l.trim().length===0)return null;let u;try{u=this.extractValidJSON(l)}catch(d){try{u=this.fallbackJSONExtraction(l)}catch{throw d}}return JSON.parse(u)}catch(a){return console.warn("Failed to process additional content chunk:",a),null}}chunkMaterialText(n,t=25e3){const r=[],i=n.split(`
`);let a="";for(const s of i)a.length+s.length>t&&a.length>0?(r.push(a.trim()),a=s):a+=(a?`
`:"")+s;return a.trim()&&r.push(a.trim()),r.length>0?r:[n]}mergeChunkedMaterialResults(n,t){const r={...n};for(const i of t)i.sections&&Array.isArray(i.sections)&&(r.sections=[...r.sections,...i.sections]),i.images&&Array.isArray(i.images)&&(r.images=[...r.images||[],...i.images]),i.links&&Array.isArray(i.links)&&(r.links=[...r.links||[],...i.links]);return r}extractValidJSON(n){let t=n.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();t=t.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const r=t.indexOf("{");if(r===-1)throw new Error("No JSON object found in response");t=t.substring(r);let i=0,a=-1,s=!1,l=!1;for(let f=0;f<t.length;f++){const g=t[f];if(l){l=!1;continue}if(g==="\\"){l=!0;continue}if(g==='"'&&!l){s=!s;continue}if(!s){if(g==="{")i++;else if(g==="}"&&(i--,i===0)){a=f+1;break}}}if(a===-1)throw new Error("No matching closing brace found for JSON object");let u=t.substring(0,a);u=u.replace(/,(\s*[}\]])/g,"$1"),this.detectTruncatedJSON(u)&&(console.warn("Detected truncated JSON response, attempting repair"),u=this.attemptJSONRepair(u));try{return JSON.parse(u),u}catch(f){console.warn("Initial JSON parsing failed, attempting to fix common issues:",f);const g=this.attemptJSONRepair(u);try{return JSON.parse(g),g}catch(b){throw console.error("JSON repair failed:",b),new Error(`Invalid JSON structure: ${b.message}`)}}}detectTruncatedJSON(n){const t=n.trim(),r=[/"[^"]*$/,/:\s*$/,/,\s*$/,/"[a-zA-Z]+\w*$/,/[a-zA-Z]+\w*$/,/\[\s*$/,/{\s*$/];for(const a of r)if(a.test(t))return console.log(`Truncation detected: ${a.toString()}`),!0;const i=t.charAt(t.length-1);return i!=="}"&&i!=="]"?(console.log(`Truncation detected: JSON doesn't end with } or ], ends with: "${i}"`),!0):!1}detectTruncatedResponse(n){const r=n.trim().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),i=[/"[^"]*$/,/\w+$/,/:\s*$/,/,\s*$/,!r.endsWith("}"),!r.endsWith("]"),r.length<500];for(let a=0;a<i.length-1;a++){const s=i[a];if(s instanceof RegExp&&s.test(r))return!0}return!!(i[i.length-3]||i[i.length-2]||i[i.length-1])}attemptJSONRepair(n){let t=n;const r=t.split(`
`),i=[];for(const d of r){const f=d.trim();f.startsWith("//")||f.includes("... (Continue")||f.includes("continue structuring")||f.includes("similarly")||i.push(d)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1");const a=(t.match(/{/g)||[]).length,s=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,u=(t.match(/\]/g)||[]).length;for(let d=0;d<a-s;d++)t+="}";for(let d=0;d<l-u;d++)t+="]";return t}fallbackJSONExtraction(n){console.log("Attempting fallback JSON extraction...");let t=n.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();t=t.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const r=t.indexOf("{");if(r===-1)throw new Error("No JSON object found in response");t=t.substring(r);const i=[/}\s*$/m,/}\s*\n\s*[A-Z]/m,/}\s*\n\s*This/m,/}\s*\n\s*Note:/m];let a=-1;for(const l of i){const u=t.match(l);if(u&&u.index!==void 0){const d=u.index+u[0].indexOf("}")+1;(a===-1||d<a)&&(a=d)}}a>0&&(t=t.substring(0,a));const s=this.attemptJSONRepair(t);try{return JSON.parse(s),s}catch{return console.log("Attempting aggressive JSON repair..."),this.aggressiveJSONRepair(t)}}aggressiveJSONRepair(n){let t=n;const r=t.split(`
`),i=[];for(const d of r){const f=d.trim();if(f.startsWith("//")||f.includes("... (")||f.includes("continue")||f.includes("similarly")||f.includes("Remember to")||f.includes("This structure")||f.length>0&&!f.includes('"')&&!f.includes("{")&&!f.includes("}")&&!f.includes("[")&&!f.includes("]"))break;i.push(d)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1");const a=(t.match(/{/g)||[]).length,s=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,u=(t.match(/\]/g)||[]).length;for(let d=0;d<a-s;d++)t+=`
}`;for(let d=0;d<l-u;d++)t+=`
]`;return t=t.replace(/,(\s*[}\]])/g,"$1"),t}repairTruncatedJSON(n){let t=n;const r=t.split(`
`),i=[];for(const d of r){const f=d.trim();if(f.length===0){i.push(d);continue}if(f.match(/^"[^"]*$/)){i.push('"": ""');break}if(f.match(/:\s*"[^"]*$/)){i.push(f.replace(/:\s*"[^"]*$/,': ""'));break}if(f.match(/^[a-zA-Z]+\w*$/))break;i.push(d)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1"),t=t.replace(/,\s*$/,"");const a=(t.match(/{/g)||[]).length,s=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,u=(t.match(/\]/g)||[]).length;console.log(`JSON structure analysis: ${a} open braces, ${s} close braces, ${l} open brackets, ${u} close brackets`);for(let d=0;d<l-u;d++)t+=`
]`;for(let d=0;d<a-s;d++)t+=`
}`;return t=t.replace(/,(\s*[}\]])/g,"$1"),console.log("Repaired JSON (first 1000 chars):",t.substring(0,1e3)),t}getFileTypeContext(n){const t=n.toLowerCase();return t.includes("presentation")||t.includes("powerpoint")||t.includes("pptx")?"presentation slide deck":t.includes("pdf")?"PDF document":t.includes("word")||t.includes("docx")?"Word document":"document"}validateAndSanitizeMaterialResponse(n,t,r){var a,s,l,u,d;const i={title:n.title||t.replace(/\.[^/.]+$/,"")||"Untitled Material",description:n.description||"",header:{title:((a=n.header)==null?void 0:a.title)||"Introduction",content:((s=n.header)==null?void 0:s.content)||""},footer:{title:((l=n.footer)==null?void 0:l.title)||"Summary",content:((u=n.footer)==null?void 0:u.content)||""},sections:[],sourceInfo:{fileName:t,fileType:r,extractedAt:new Date().toISOString(),originalFileReference:((d=n.sourceInfo)==null?void 0:d.originalFileReference)||t},images:Array.isArray(n.images)?n.images:[],links:Array.isArray(n.links)?n.links:[]};return Array.isArray(n.sections)&&(i.sections=n.sections.map(f=>({title:f.title||"Section",content:f.content||"",subsections:Array.isArray(f.subsections)?f.subsections.map(g=>({title:g.title||"Subsection",content:g.content||"",subSubsections:Array.isArray(g.subSubsections)?g.subSubsections.map(b=>({title:b.title||"Sub-subsection",content:b.content||"",images:Array.isArray(b.images)?b.images:[],links:Array.isArray(b.links)?b.links:[]})):[],images:Array.isArray(g.images)?g.images:[],links:Array.isArray(g.links)?g.links:[]})):[],images:Array.isArray(f.images)?f.images:[],links:Array.isArray(f.links)?f.links:[]}))),i.sections.length===0&&i.sections.push({title:"Main Content",content:"Content extracted from the uploaded material.",subsections:[],images:[],links:[]}),i}convertToMaterialFormat(n,t,r,i){const a=(u,d=400,f=300)=>{const g=u.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30),b=`
        <svg width="${d}" height="${f}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${g}
          </text>
        </svg>
      `;try{return`data:image/svg+xml;base64,${btoa(b)}`}catch(m){return console.error("Failed to create placeholder image URL:",m),`data:image/svg+xml,${encodeURIComponent(b)}`}},s=u=>{const d=new Map;i!=null&&i.images&&i.images.forEach(m=>{m.slideNumber&&m.imageBlob&&(d.has(m.slideNumber)||d.set(m.slideNumber,[]),d.get(m.slideNumber).push(m))});const f=new Map,g=(u==null?void 0:u.map((m,x)=>{let y="";if(m.slideNumber&&d.has(m.slideNumber)){const w=d.get(m.slideNumber);f.has(m.slideNumber)||f.set(m.slideNumber,new Set);const C=f.get(m.slideNumber);let N=null;if(m.title||m.description){const R=(m.title||m.description).toLowerCase();N=w.find(F=>{const q=(F.description||"").toLowerCase();return!C.has(F.embedId||"")&&q.includes(R.split(" ")[0])})||null}if(N||(N=w.find(R=>!C.has(R.embedId||""))||null),!N&&w.length>0){const R=x%w.length;N=w[R]}N!=null&&N.imageBlob&&(N.embedId&&C.add(N.embedId),y=this.createTrackedBlobUrl(N.imageBlob),console.log(`Using extracted image blob for slide ${m.slideNumber} (${C.size}/${w.length}):`,{slideNumber:m.slideNumber,imageIndex:x,embedId:N.embedId,blobSize:N.imageBlob.size,blobType:N.imageBlob.type,matchedBy:N.description||"position"}))}y||(m.url&&m.url.trim()&&(m.url.startsWith("data:")||m.url.startsWith("http"))&&!m.url.includes("placeholder_image")?y=m.url:y=a(m.title||"Image"));const A={url:y,title:m.title||m.description||"Detected Image"};return console.log("Enhanced image (preview):",A),A}))||[],b=Array.from(d.values()).reduce((m,x)=>m+x.length,0);return console.log(`Enhanced ${g.length} images for material preview (${b} extracted images available across ${d.size} slides)`),g},l=u=>{var d;return{id:Ri(),title:u.title,content:u.content,subsections:((d=u.subsections)==null?void 0:d.map(f=>{var g;return{id:Ri(),title:f.title,content:f.content,subSubsections:((g=f.subSubsections)==null?void 0:g.map(b=>({id:Ri(),title:b.title,content:b.content,images:s(b.images||[]),links:b.links||[]})))||[],images:s(f.images||[]),links:f.links||[]}}))||[],images:s(u.images||[]),links:u.links||[]}};return{course:t,title:n.title,header:n.header,footer:n.footer,sections:n.sections.map(l),author:r,published:!1,sourceInfo:n.sourceInfo}}async convertToMaterialFormatWithImageUpload(n,t,r,i,a,s){var m;let l=[];if(a!=null&&a.images)try{console.log(` Starting image upload process for ${a.images.length} extracted images...`),console.log(" Image metadata:",a.images.map(x=>{var y;return{slideNumber:x.slideNumber,description:x.description,hasBlob:!!x.imageBlob,blobSize:(y=x.imageBlob)==null?void 0:y.size}})),l=await VF(a.images,i,s),console.log(` Successfully uploaded ${l.length} images to Firebase Storage`),console.log(" Uploaded image URLs:",l.map(x=>({title:x.title,url:x.url.substring(0,100)+"...",slideNumber:x.slideNumber})))}catch(x){console.error(" Failed to upload extracted images:",x)}else console.log(" No images to upload - extractionMetadata.images is empty or undefined");const u=(x,y=400,A=300)=>{const w=x.substring(0,30),C=`
        <svg width="${y}" height="${A}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${w}
          </text>
        </svg>
      `;return`data:image/svg+xml;base64,${btoa(C)}`},d=x=>{const y=new Map;l.forEach(C=>{C.slideNumber&&(y.has(C.slideNumber)||y.set(C.slideNumber,[]),y.get(C.slideNumber).push(C))});const A=new Set,w=(x==null?void 0:x.map((C,N)=>{let R=null;if(C.slideNumber&&y.has(C.slideNumber)){const q=y.get(C.slideNumber);if(R=q.find(k=>!A.has(k.url))||null,!R&&q.length>0){const k=N%q.length;R=q[k]}}if(!R){const q=(C.title||C.description||"").toLowerCase().split(" ");R=l.find(k=>{if(A.has(k.url))return!1;const L=k.title.toLowerCase().split(" ");return q.some(B=>B.length>3&&L.some(X=>X.includes(B)))})||null}if(R||(R=l.find(q=>!A.has(q.url))||null),!R&&l.length>0){const q=N%l.length;R=l[q]}R&&A.add(R.url);const F={url:(R==null?void 0:R.url)||(C.url&&C.url.trim()?C.url:u(C.title||"Image")),title:(R==null?void 0:R.title)||C.title||C.description||"Detected Image"};return console.log("Enhanced image with upload:",{...F,url:F.url.substring(0,100)+"...",isUploaded:!!R,imageIndex:N,originalSlideNumber:C.slideNumber,matchedSlideNumber:R==null?void 0:R.slideNumber,matchStrategy:R?R.slideNumber===C.slideNumber?"slideNumber":F.title.includes(C.title||"")?"title":"sequential":"placeholder",usedCount:A.size,totalAvailable:l.length}),F}))||[];return console.log(`Enhanced ${w.length} images for material (${l.length} uploaded, ${A.size} used)`),w},f=x=>{var y;return{id:Ri(),title:x.title,content:x.content,images:d(x.images||[]),links:x.links||[],subsections:((y=x.subsections)==null?void 0:y.map(g))||[]}},g=x=>{var y;return{id:Ri(),title:x.title,content:x.content,images:d(x.images||[]),links:x.links||[],subSubsections:((y=x.subSubsections)==null?void 0:y.map(b))||[]}},b=x=>({id:Ri(),title:x.title,content:x.content,images:d(x.images||[]),links:x.links||[]});return{course:t,title:n.title,header:n.header||{title:"",content:""},footer:n.footer||{title:"",content:""},sections:((m=n.sections)==null?void 0:m.map(f))||[],author:r,published:!1,scheduledTimestamp:null}}}let vy=null;const iS=e=>{const n=e||"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0";if(!vy&&n&&(vy=new GF(n)),!vy)throw new Error("Material Import service not initialized. Please configure VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.");return vy},QF=async e=>{try{const n=await Li(()=>import("./pdf-VQKGuvxX.js"),[]),t="/nexlab";n.GlobalWorkerOptions.workerSrc=`${t}/js/pdf.worker.min.js`;const r=await e.arrayBuffer(),i=await n.getDocument({data:r}).promise,a=i.numPages;let s="";for(let l=1;l<=a;l++){const f=(await(await i.getPage(l)).getTextContent()).items.filter(g=>g&&typeof g.str=="string").map(g=>g.str).join(" ").trim();f&&(s+=f+`

`)}return{text:s.trim(),metadata:{pageCount:a,wordCount:s.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"PDF.js"}}}catch(n){throw{message:"Failed to extract text from PDF file. Please ensure the PDF contains selectable text.",code:"PDF_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},KF=async e=>{try{const n=await Li(()=>import("./index-BRnkcDkp.js").then(i=>i.i),__vite__mapDeps([0,1])),t=await e.arrayBuffer(),r=await n.extractRawText({arrayBuffer:t});return r.messages&&r.messages.length>0&&console.warn("DOCX extraction warnings:",r.messages),{text:r.value.trim(),metadata:{wordCount:r.value.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"Mammoth"}}}catch(n){throw{message:"Failed to extract text from Word document. Please ensure the file is not corrupted.",code:"DOCX_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},XF=async e=>{var n,t;try{const r=(await Li(async()=>{const{default:g}=await import("./index-CZYWMsg6.js").then(b=>b.i);return{default:g}},__vite__mapDeps([2,1]))).default,i=await e.arrayBuffer(),a=new r(i);let s="",l=0;const u=[],d=Object.keys(a.files).filter(g=>g.startsWith("ppt/slides/slide")&&g.endsWith(".xml"));l=d.length;for(const g of d)try{const b=a.files[g].asText(),m=parseInt(((n=g.match(/slide(\d+)\.xml/))==null?void 0:n[1])||"0"),x=b.matchAll(/<a:blip[^>]*r:embed="([^"]*)"[^>]*>/g);for(const w of x){const C=w[1],N=b.match(new RegExp('<p:cNvPr[^>]*name="([^"]*)"[^>]*>',"i")),R=b.match(new RegExp('<p:cNvPr[^>]*descr="([^"]*)"[^>]*>',"i")),F=b.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();let q=`Image on slide ${m}`;const k=["chart","graph","diagram","figure","table","photo","image","illustration","screenshot","logo","flowchart","timeline","comparison","data","results","example","structure","process"],L=F.toLowerCase().split(/\s+/),B=k.filter(T=>L.some(O=>O.includes(T)));if(B.length>0)q=`${B[0].charAt(0).toUpperCase()+B[0].slice(1)} (Slide ${m})`;else if(F.length>0){const T=L.slice(0,3).join(" ");T.length>5&&(q=`Image: ${T}... (Slide ${m})`)}let X;try{const T=`ppt/slides/_rels/slide${m}.xml.rels`;if(a.files[T]){const P=a.files[T].asText().match(new RegExp(`Id="${C}"[^>]*Target="([^"]*)"`,"i"));if(P){const j=P[1],G=j.startsWith("../")?`ppt/${j.substring(3)}`:`ppt/slides/${j}`;if(a.files[G]){const W=a.files[G].asUint8Array();let K="image/jpeg";const ie=G.toLowerCase();if(ie.includes(".png"))K="image/png";else if(ie.includes(".gif"))K="image/gif";else if(ie.includes(".bmp"))K="image/bmp";else if(ie.includes(".webp"))K="image/webp";else if(ie.includes(".emf")||ie.includes(".wmf")){console.warn(`Skipping unsupported vector image format: ${G}`);continue}X=new Blob([W],{type:K}),console.log(`Extracted image blob for slide ${m}:`,{size:X.size,type:K,path:G})}}}}catch(T){console.warn(`Failed to extract image blob for ${C} on slide ${m}:`,T)}u.push({slideNumber:m,description:(N==null?void 0:N[1])||q,altText:(R==null?void 0:R[1])||void 0,filename:C,embedId:C,imageBlob:X})}const y=b.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();y&&(s+=`
--- Slide ${m} ---
${y}
`);const A=u.filter(w=>w.slideNumber===m);A.length>0&&(s+=`
[IMAGES ON SLIDE ${m}]: `,A.forEach(w=>{s+=`"${w.description}"${w.altText?` (${w.altText})`:""}, `}),s=s.slice(0,-2)+`
`)}catch(b){console.warn(`Failed to extract text from ${g}:`,b)}const f=Object.keys(a.files).filter(g=>g.startsWith("ppt/notesSlides/notesSlide")&&g.endsWith(".xml"));for(const g of f)try{const m=a.files[g].asText().replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();if(m){const x=((t=g.match(/notesSlide(\d+)\.xml/))==null?void 0:t[1])||"unknown";s+=`
--- Notes for Slide ${x} ---
${m}
`}}catch(b){console.warn(`Failed to extract notes from ${g}:`,b)}if(!s.trim())throw new Error("No text content found in PowerPoint file");return{text:s.trim(),metadata:{slideCount:l,wordCount:s.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"PizZip",images:u.length>0?u:void 0}}}catch(r){throw{message:"Failed to extract text from PowerPoint file. Please ensure the file is not corrupted and contains text content.",code:"PPTX_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},ZF=async e=>{try{const n=await e.text();return{text:n.trim(),metadata:{wordCount:n.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"Native"}}}catch(n){throw{message:"Failed to extract text from text file",code:"TXT_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},Jj=async e=>{if(!e)throw{message:"No file provided",code:"NO_FILE_ERROR"};const n=e.type.toLowerCase(),t=e.name.toLowerCase();try{if(n==="application/pdf"||t.endsWith(".pdf"))return await QF(e);if(n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||t.endsWith(".docx"))return await KF(e);if(n==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||t.endsWith(".pptx"))return await XF(e);if(n==="text/plain"||t.endsWith(".txt"))return await ZF(e);throw{message:`Unsupported file format: ${n||"unknown"}. Supported formats: PDF (.pdf), Word (.docx), PowerPoint (.pptx), Text (.txt)`,code:"UNSUPPORTED_FORMAT_ERROR"}}catch(r){throw r&&typeof r=="object"&&"code"in r?r:{message:`Failed to extract text from ${e.name}`,code:"GENERIC_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},e7=e=>{const t=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain"],r=[".pdf",".docx",".pptx",".txt"];if(e.size>524288e3)return{isValid:!1,error:`File size (${(e.size/1024/1024).toFixed(1)}MB) exceeds the maximum limit of 500MB.`};const i=e.type.toLowerCase(),a=e.name.toLowerCase(),s=t.includes(i),l=r.some(u=>a.endsWith(u));return!s&&!l?{isValid:!1,error:`Unsupported file format. Please upload files with extensions: ${r.join(", ")}`}:{isValid:!0}},t7=e=>{const n=e.type.toLowerCase(),t=e.name.toLowerCase();return n==="application/pdf"||t.endsWith(".pdf")?"PDF Document":n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||t.endsWith(".docx")?"Word Document":n==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||t.endsWith(".pptx")?"PowerPoint Presentation":n==="text/plain"||t.endsWith(".txt")?"Text File":"Unknown Format"},JF=e=>{const n=e.size/1048576,t=e.type.toLowerCase();let r=0;return t==="application/pdf"?r=Math.max(2,n*.5):t==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?r=Math.max(1,n*.3):t==="application/vnd.openxmlformats-officedocument.presentationml.presentation"?r=Math.max(1.5,n*.4):r=Math.max(.5,n*.1),Math.round(r)};class eP{constructor(){et(this,"storage",vp());et(this,"DEFAULT_CHUNK_SIZE",5*1024*1024);et(this,"DEFAULT_MAX_RETRIES",3);et(this,"DEFAULT_TIMEOUT",6e4)}async uploadLargeFile(n,t,r={}){const i=Date.now(),{chunkSize:a=this.DEFAULT_CHUNK_SIZE,maxRetries:s=this.DEFAULT_MAX_RETRIES,timeoutMs:l=this.DEFAULT_TIMEOUT,onProgress:u,onChunkComplete:d}=r,f=500*1024*1024;if(n.size>f)throw new Error(`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`);if(!(n.size>a))return this.uploadStandardFile(n,t,u);console.log(` Starting chunked upload for ${n.name} (${(n.size/1024/1024).toFixed(1)}MB)`),u==null||u({stage:"preparing",percentage:0,bytesUploaded:0,totalBytes:n.size,currentOperation:"Preparing file for chunked upload..."});const b=this.createChunkMetadata(n,a),m=Ri(),x=`${t}_chunks_${m}`;u==null||u({stage:"preparing",percentage:5,totalChunks:b.length,bytesUploaded:0,totalBytes:n.size,currentOperation:`Created ${b.length} chunks for upload...`});try{await this.uploadChunks(n,b,x,{maxRetries:s,timeoutMs:l,onProgress:w=>{const C=this.calculateOverallProgress(b,w);u==null||u({stage:"uploading",percentage:5+C*.85,currentChunk:w.currentChunk,totalChunks:b.length,bytesUploaded:w.bytesUploaded,totalBytes:n.size,currentOperation:w.currentOperation,estimatedTimeRemaining:this.estimateTimeRemaining(i,C)})},onChunkComplete:d}),u==null||u({stage:"assembling",percentage:90,totalChunks:b.length,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Assembling chunks into final file..."});const y=await this.assembleChunks(n,b,t,m);u==null||u({stage:"completed",percentage:100,totalChunks:b.length,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Upload completed successfully!"});const A=Date.now()-i;return console.log(` Chunked upload completed in ${(A/1e3).toFixed(1)}s`),{...y,chunks:b.length,uploadTime:A}}catch(y){throw console.error(" Chunked upload failed:",y),await this.cleanupFailedUpload(b),y}}createChunkMetadata(n,t){const r=[];let i=0;for(;i<n.size;){const a=Math.min(i+t,n.size);r.push({index:r.length,size:a-i,start:i,end:a,retries:0}),i=a}return r}async uploadChunks(n,t,r,i){const{maxRetries:a,timeoutMs:s,onProgress:l,onChunkComplete:u}=i;let d=0;const f=3;for(let g=0;g<t.length;g+=f){const m=t.slice(g,Math.min(g+f,t.length)).map(async x=>{const y=n.slice(x.start,x.end),A=`${r}/chunk_${x.index.toString().padStart(4,"0")}`;let w=null;for(let C=0;C<=a;C++)try{l==null||l({currentChunk:x.index+1,bytesUploaded:d,currentOperation:`Uploading chunk ${x.index+1}/${t.length} (attempt ${C+1})`});const N=await this.uploadSingleChunk(y,A,s);x.uploadUrl=N.url,x.uploadPath=N.path,d+=x.size,u==null||u(x.index,t.length),console.log(` Chunk ${x.index+1}/${t.length} uploaded successfully`);return}catch(N){w=N,x.retries=C+1,C<a&&(console.warn(` Chunk ${x.index+1} failed (attempt ${C+1}), retrying...`),await this.delay(Math.pow(2,C)*1e3))}throw new Error(`Failed to upload chunk ${x.index+1} after ${a+1} attempts: ${w==null?void 0:w.message}`)});await Promise.all(m),g+f<t.length&&await this.delay(500)}}async uploadSingleChunk(n,t,r){const i=vc(this.storage,t),a=async()=>{const l=await Vf(i,n);return{url:await Gf(l.ref),path:l.ref.fullPath}},s=new Promise((l,u)=>{setTimeout(()=>u(new Error(`Chunk upload timeout after ${r}ms`)),r)});return Promise.race([a(),s])}async assembleChunks(n,t,r,i){const a=await this.reconstructFileFromChunks(n,t),s=vc(this.storage,r),l=await Vf(s,a),u=await Gf(l.ref);return await this.cleanupChunks(t),{url:u,path:l.ref.fullPath,name:n.name,type:n.type,size:n.size,uploadedAt:new Date}}async reconstructFileFromChunks(n,t){const r=[];for(const i of t.sort((a,s)=>a.index-s.index))r.push(n.slice(i.start,i.end));return new Blob(r,{type:n.type})}async uploadStandardFile(n,t,r){const i=Date.now(),a=vc(this.storage,t);r==null||r({stage:"uploading",percentage:10,bytesUploaded:0,totalBytes:n.size,currentOperation:"Uploading file..."});const s=await Vf(a,n);r==null||r({stage:"uploading",percentage:90,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Getting download URL..."});const l=await Gf(s.ref);r==null||r({stage:"completed",percentage:100,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Upload completed!"});const u=Date.now()-i;return{url:l,path:s.ref.fullPath,name:n.name,type:n.type,size:n.size,uploadedAt:new Date,chunks:1,uploadTime:u}}calculateOverallProgress(n,t){const r=n.filter(a=>a.uploadUrl).length,i=t.currentChunk?t.bytesUploaded/n.reduce((a,s)=>a+s.size,0):0;return(r+i)/n.length}estimateTimeRemaining(n,t){if(t<=0)return 0;const r=Date.now()-n,i=r/t;return Math.max(0,i-r)}async cleanupChunks(n){const t=n.filter(r=>r.uploadPath).map(async r=>{try{const i=vc(this.storage,r.uploadPath);await xj(i)}catch(i){console.warn(`Failed to cleanup chunk ${r.index}:`,i)}});await Promise.allSettled(t)}async cleanupFailedUpload(n){console.log(" Cleaning up failed chunked upload..."),await this.cleanupChunks(n)}delay(n){return new Promise(t=>setTimeout(t,n))}validateFileForChunkedUpload(n){return n.size>524288e3?{isValid:!1,error:`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`}:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(n.type)?{isValid:!0}:{isValid:!1,error:`Unsupported file type: ${n.type}. Supported formats: PowerPoint, PDF, Word, Text files`}}}const J_=new eP;class tP{constructor(){et(this,"storage",vp())}async uploadOriginalFile(n,t,r,i){return n.size>26214400?(console.log(` File is large (${(n.size/1024/1024).toFixed(1)}MB), using chunked upload`),this.uploadOriginalFileEnhanced(n,t,r,i?s=>i(s.percentage):void 0)):this.uploadOriginalFileStandard(n,t,r,i)}async uploadOriginalFileEnhanced(n,t,r,i){const a=J_.validateFileForChunkedUpload(n);if(!a.isValid)throw new Error(a.error);const s=n.name.split(".").pop()||"",l=r||Ri(),u=`${n.name.replace(/\.[^/.]+$/,"")}_${l}.${s}`,d=`original-files/${t}/${u}`;console.log(" Starting enhanced original file upload:",{fileName:u,fileSize:n.size,fileType:n.type,courseId:t,chunked:!0});try{const f=await J_.uploadLargeFile(n,d,{chunkSize:5242880,maxRetries:3,timeoutMs:6e4,onProgress:i,onChunkComplete:(b,m)=>{console.log(` Chunk ${b+1}/${m} completed`)}}),g={name:n.name,type:n.type,size:n.size,url:f.url,uploadedAt:new Date};return console.log(" Enhanced original file uploaded successfully:",{originalName:n.name,storageName:u,url:f.url,size:n.size,chunks:f.chunks,uploadTime:`${(f.uploadTime/1e3).toFixed(1)}s`}),g}catch(f){throw console.error(" Enhanced original file upload failed:",f),new Error(`Failed to upload original file: ${f instanceof Error?f.message:"Unknown error"}`)}}async uploadOriginalFileStandard(n,t,r,i){try{const a=n.name.split(".").pop()||"",s=r||Ri(),l=`${n.name.replace(/\.[^/.]+$/,"")}_${s}.${a}`,u=vc(this.storage,`original-files/${t}/${l}`);console.log(" Starting original file upload:",{fileName:l,fileSize:n.size,fileType:n.type,courseId:t}),i==null||i(10);const d=await Vf(u,n);i==null||i(70);const f=await Gf(d.ref);i==null||i(100);const g={name:n.name,type:n.type,size:n.size,url:f,uploadedAt:new Date};return console.log(" Original file uploaded successfully:",{originalName:n.name,storageName:l,url:f,size:n.size}),g}catch(a){throw console.error(" Original file upload failed:",a),new Error(`Failed to upload original file: ${a instanceof Error?a.message:"Unknown error"}`)}}async deleteOriginalFile(n){try{const r=new URL(n).pathname.match(/\/o\/(.+?)\?/);if(!r)throw new Error("Invalid Firebase Storage URL format");const i=decodeURIComponent(r[1]),a=vc(this.storage,i);await xj(a),console.log(" Original file deleted successfully:",i)}catch(t){console.error(" Original file deletion failed:",t),console.warn("Continuing despite file deletion failure")}}async replaceOriginalFile(n,t,r,i,a){try{return i&&await this.deleteOriginalFile(i),await this.uploadOriginalFile(n,t,r,a)}catch(s){throw console.error(" Original file replacement failed:",s),new Error(`Failed to replace original file: ${s instanceof Error?s.message:"Unknown error"}`)}}getFileExtension(n){var t;return((t=n.split(".").pop())==null?void 0:t.toLowerCase())||""}validateFile(n){return n.size>524288e3?{isValid:!1,error:`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`}:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(n.type)?{isValid:!0}:{isValid:!1,error:`Unsupported file type: ${n.type}. Supported formats: PowerPoint, PDF, Word, Text files`}}}const M5=new tP,ek={isProcessing:!1,progress:null,error:null,uploadedFile:null,extractedText:null,extractionResult:null,originalFileUploadProgress:null,originalFileUrl:null,aiExtractedData:null,convertedMaterial:null,processingOptions:{maxOutputTokens:4096,topK:1,topP:.1,preserveFormatting:!0,extractImages:!0,extractLinks:!0}},kd=wp()(Gg((e,n)=>({...ek,setUploadedFile:t=>{const{originalFileUrl:r}=n();r&&t&&t.name!==r&&M5.deleteOriginalFile(r).catch(i=>{console.warn("Failed to delete previous original file:",i)}),e({uploadedFile:t,extractedText:null,extractionResult:null,originalFileUploadProgress:null,originalFileUrl:null,aiExtractedData:null,convertedMaterial:null,error:null})},extractTextFromFile:async()=>{const{uploadedFile:t}=n();if(!t){e({error:"No file uploaded"});return}try{const r=e7(t);if(!r.isValid){e({error:r.error||"Invalid file"});return}}catch(r){console.error("File validation error:",r),e({error:"Failed to validate file"});return}e({isProcessing:!0,error:null,progress:{stage:"extracting",percentage:10,currentOperation:`Extracting text from ${t7(t)}...`}});try{const r=await Jj(t);if(!r||!r.text||r.text.trim().length===0)throw new Error("No text content could be extracted from the file");const i=r.text.trim().split(/\s+/).length;i<5&&console.warn("Very short text extracted:",{wordCount:i,text:r.text.substring(0,100)}),e({extractedText:r.text,extractionResult:r,progress:{stage:"extracting",percentage:100,currentOperation:"Text extraction complete!"}}),setTimeout(()=>{e({isProcessing:!1,progress:null})},500)}catch(r){console.error("Text extraction error:",r);const i=r;let a="Failed to extract text from file";i.code==="PDF_EXTRACTION_ERROR"?a="Could not extract text from PDF. The file may be image-based or corrupted.":i.code==="DOCX_EXTRACTION_ERROR"?a="Could not extract text from Word document. Please check the file is not corrupted.":i.code==="PPTX_EXTRACTION_ERROR"?a="Could not extract text from PowerPoint presentation. Please ensure it contains text content.":i.message&&(a=i.message),e({error:a,isProcessing:!1,progress:null})}},processWithAI:async(t,r,i)=>{var f;const{uploadedFile:a,extractedText:s,extractionResult:l,processingOptions:u}=n();if(!(t!=null&&t.trim())){e({error:"Course ID is required for AI processing"});return}if(!(r!=null&&r.trim())){e({error:"Author ID is required for AI processing"});return}if(!a||!(s!=null&&s.trim())){e({error:"No file or extracted text available for AI processing"});return}const d=s.trim().split(/\s+/).length;if(d<10){e({error:"Extracted text is too short for meaningful AI processing (minimum 10 words required)"});return}d>5e4&&console.warn("Very large text content detected:",{wordCount:d,fileName:a.name}),e({isProcessing:!0,error:null,progress:{stage:"analyzing",percentage:0,currentOperation:"Initializing AI processing..."}});try{let g;try{g=iS(i)}catch(w){console.error("Service initialization error:",w);let C="Material import service not available.";w instanceof Error&&(w.message.includes("API key")?C="API key not configured. Please set VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.":C=`Service error: ${w.message}`),e({error:C,isProcessing:!1,progress:null});return}const b={maxOutputTokens:Math.min(Math.max(u.maxOutputTokens||16384,8192),32768),topK:Math.min(Math.max(u.topK||3,1),10),topP:Math.min(Math.max(u.topP||.9,.1),1),preserveFormatting:!!u.preserveFormatting,extractImages:!!u.extractImages,extractLinks:!!u.extractLinks},m=12e4,x=new Promise((w,C)=>{setTimeout(()=>C(new Error("AI processing timeout - please try with a smaller file")),m)}),y=await Promise.race([g.processMaterialContent(s,a.name,a.type,b,w=>{w&&typeof w=="object"&&e({progress:w})},l==null?void 0:l.metadata),x]);if(!y||typeof y!="object")throw new Error("Invalid AI processing result received");(f=y.title)!=null&&f.trim()||(console.warn("AI result missing title, using filename as fallback"),y.title=a.name.replace(/\.[^/.]+$/,"")||"Untitled Material"),(!y.sections||!Array.isArray(y.sections)||y.sections.length===0)&&(console.warn("AI result missing sections, creating default section"),y.sections=[{title:"Main Content",content:"Content extracted from uploaded material.",subsections:[],images:[],links:[]}]);const A=g.convertToMaterialFormat(y,t,r,l==null?void 0:l.metadata);e({aiExtractedData:y,convertedMaterial:A,isProcessing:!1,progress:{stage:"complete",percentage:100,currentOperation:"Material processing complete!"}}),setTimeout(()=>{e({progress:null})},1500)}catch(g){console.error("AI processing error:",g);let b="Failed to process material with AI";g instanceof Error&&(g.message.includes("timeout")?b="AI processing timed out. Please try with a smaller file or simpler content.":g.message.includes("API key")||g.message.includes("API_KEY_INVALID")?b="Invalid API key. Please check your API key configuration.":g.message.includes("RATE_LIMIT")||g.message.includes("rate limit")?b="API rate limit exceeded. Please wait a few minutes before trying again.":g.message.includes("SAFETY")||g.message.includes("safety")?b="Content flagged by safety filters. Please try with different content.":g.message.includes("network")||g.message.includes("fetch")?b="Network error. Please check your internet connection and try again.":b=`AI processing failed: ${g.message}`),e({error:b,isProcessing:!1,progress:null})}},uploadOriginalFile:async(t,r)=>{const{uploadedFile:i}=n();if(!i){e({error:"No file selected for upload"});return}try{e({originalFileUploadProgress:0,error:null});const a=i.size>25*1024*1024,s=(i.size/1024/1024).toFixed(1);console.log(` Starting original file upload to Firebase Storage... (${s}MB, ${a?"chunked":"standard"} upload)`);const l=await M5.uploadOriginalFile(i,t,r,u=>{e({originalFileUploadProgress:u})});e({originalFileUrl:l.url,originalFileUploadProgress:null}),console.log(" Original file uploaded successfully:",{url:l.url,size:`${s}MB`,method:a?"chunked":"standard"})}catch(a){throw console.error(" Original file upload failed:",a),e({error:a instanceof Error?a.message:"Failed to upload original file",originalFileUploadProgress:null}),a}},replaceOriginalFile:async(t,r,i)=>{const{uploadedFile:a}=n();if(!a){e({error:"No file selected for replacement"});return}try{e({originalFileUploadProgress:0,error:null}),console.log(" Replacing original file in Firebase Storage...");const s=await M5.replaceOriginalFile(a,t,r,i,l=>{e({originalFileUploadProgress:l})});e({originalFileUrl:s.url,originalFileUploadProgress:null}),console.log(" Original file replaced successfully:",s.url)}catch(s){throw console.error(" Original file replacement failed:",s),e({error:s instanceof Error?s.message:"Failed to replace original file",originalFileUploadProgress:null}),s}},resetImport:()=>{try{iS().cleanupBlobUrls()}catch(t){console.warn("Failed to cleanup blob URLs during reset:",t)}e(ek)},setProcessingOptions:t=>{e(r=>({processingOptions:{...r.processingOptions,...t}}))},setError:t=>{e({error:t})}}),{name:"material-import-store",partialize:e=>({processingOptions:e.processingOptions})})),nP=()=>{const e=kd();return{setUploadedFile:e.setUploadedFile,extractTextFromFile:e.extractTextFromFile,processWithAI:e.processWithAI,resetImport:e.resetImport,setProcessingOptions:e.setProcessingOptions,setError:e.setError}},rP=()=>{const e=kd();return{isProcessing:e.isProcessing,progress:e.progress,error:e.error,uploadedFile:e.uploadedFile,extractedText:e.extractedText,aiExtractedData:e.aiExtractedData,convertedMaterial:e.convertedMaterial,processingOptions:e.processingOptions}},aS=async(e,n,t,r)=>{const i=kd.getState(),{aiExtractedData:a,extractionResult:s}=i;if(!a)throw new Error("No AI result available for conversion");return await iS().convertToMaterialFormatWithImageUpload(a,e,n,t,s==null?void 0:s.metadata,r)},iP=()=>{const{extractedText:e,isProcessing:n}=kd();return!n&&!!(e!=null&&e.trim())},aP=()=>{const{convertedMaterial:e,isProcessing:n}=kd();return!n&&!!e},The=Object.freeze(Object.defineProperty({__proto__:null,convertMaterialWithImageUpload:aS,useIsImportComplete:aP,useIsReadyForAI:iP,useMaterialImportActions:nP,useMaterialImportStatus:rP,useMaterialImportStore:kd},Symbol.toStringTag,{value:"Module"})),F5=({onDelete:e,itemType:n})=>{const[t,r]=at.useState(!1),i=()=>{r(!0)},a=()=>{r(!1)},s=()=>{e(),a()};return h.jsxs(h.Fragment,{children:[h.jsx(On,{onClick:i,size:"small",children:h.jsx(Hj,{})}),h.jsxs(Ki,{open:t,onClose:a,children:[h.jsx(fa,{children:`Delete ${n}`}),h.jsx(Xi,{children:h.jsx(Ml,{children:`Are you sure you want to delete this ${n}? This action cannot be undone.`})}),h.jsxs(ha,{children:[h.jsx(At,{onClick:a,color:"primary",children:"Cancel"}),h.jsx(At,{onClick:s,color:"secondary",children:"Delete"})]})]})]})},n7=({sections:e,selected:n,onAddSection:t,onAddSubsection:r,onAddSubSubsection:i,onSelectSection:a,onUpdateSectionTitle:s,onUpdateSubsectionTitle:l,onUpdateSubSubsectionTitle:u,onDeleteSection:d,onDeleteSubsection:f,onDeleteSubSubsection:g,isViewMode:b=!1})=>{const[m,x]=Q.useState(null),[y,A]=Q.useState(null),[w,C]=Q.useState(null),[N,R]=Q.useState(""),[F,q]=Q.useState(e.map(()=>!0)),[k,L]=Q.useState(e.reduce(($,ae,U)=>($[U]=ae.subsections.map(()=>!0),$),{}));Q.useEffect(()=>{q(e.map(()=>!0))},[e]),Q.useEffect(()=>{const $=e.reduce((ae,U,z)=>(ae[z]=U.subsections.map(()=>!0),ae),{});L($)},[e]);const B=$=>{const ae=[...F];ae[$]=!ae[$],q(ae)},X=($,ae)=>{const U={...k};U[$][ae]=!U[$][ae],L(U)},T=($,ae)=>{m!==null?s(m,N):y?l(y.section,y.subsection,N):w&&u(w.section,w.subsection,w.subSubsection,N),x($),A(null),C(null),R(ae)},O=$=>{s($,N),x(null),R("")},P=($,ae,U)=>{m!==null?s(m,N):y?l(y.section,y.subsection,N):w&&u(w.section,w.subsection,w.subSubsection,N),x(null),A({section:$,subsection:ae}),C(null),R(U)},j=($,ae)=>{l($,ae,N),A(null),R("")},G=($,ae,U,z)=>{m!==null?s(m,N):y?l(y.section,y.subsection,N):w&&u(w.section,w.subsection,w.subSubsection,N),x(null),A(null),C({section:$,subsection:ae,subSubsection:U}),R(z)},W=($,ae,U)=>{u($,ae,U,N),C(null),R("")},K=($,ae,U,z)=>n.sectionIndex===$&&n.subsectionIndex===ae&&n.subSubsectionIndex===U&&n.type===z,ce=TM||{width:"320px",minWidth:"320px",maxWidth:"320px",backgroundColor:"#F8FAFC",borderRight:"1px solid #E2E8F0"};return h.jsxs(he,{sx:{width:ce.width,minWidth:ce.minWidth,maxWidth:ce.maxWidth,backgroundColor:ce.backgroundColor,borderRight:ce.borderRight,height:"100%",display:"flex",flexDirection:"column"},children:[h.jsxs(he,{sx:{p:3,pb:2},children:[h.jsxs(ge,{variant:"h6",sx:{fontFamily:ht.typography.h6.fontFamily,fontWeight:ht.typography.h6.fontWeight,color:ht.palette.text.primary,mb:2,display:"flex",alignItems:"center",gap:1},children:[h.jsx(cR,{sx:{fontSize:20}}),"Outline"]}),!b&&h.jsx(At,{variant:"contained",startIcon:h.jsx(bu,{}),onClick:t,sx:{width:"100%",borderRadius:jt.xl,textTransform:"none",fontWeight:600},children:"Add Section"})]}),h.jsx(es,{}),h.jsx(he,{sx:{flex:1,overflow:"auto"},children:h.jsxs(zf,{sx:{p:0},children:[h.jsx(vd,{onClick:()=>a("header"),sx:{cursor:"pointer",backgroundColor:K(void 0,void 0,void 0,"header")?ht.palette.primary.light:"transparent",borderLeft:K(void 0,void 0,void 0,"header")?`4px solid ${ht.palette.primary.main}`:"4px solid transparent",transition:ht.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ht.palette.action.hover}},children:h.jsx(Ol,{primary:"Header",sx:{"& .MuiListItemText-primary":{fontFamily:ht.typography.body1.fontFamily,fontWeight:K(void 0,void 0,void 0,"header")?600:400,color:K(void 0,void 0,void 0,"header")?ht.palette.primary.main:ht.palette.text.primary}}})}),e.map(($,ae)=>h.jsxs(he,{children:[h.jsx(vd,{onClick:()=>a(ae),sx:{cursor:"pointer",backgroundColor:K(ae)?ht.palette.primary.light:"transparent",borderLeft:K(ae)?`4px solid ${ht.palette.primary.main}`:"4px solid transparent",transition:ht.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ht.palette.action.hover}},children:m===ae?h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[h.jsx(Wt,{value:N,onChange:U=>R(U.target.value),size:"small",variant:"outlined",disabled:b,sx:{flex:1}}),!b&&h.jsx(On,{onClick:()=>O(ae),size:"small",color:"primary",children:h.jsx(F0,{})})]}):h.jsxs(h.Fragment,{children:[h.jsx(Ol,{primary:$.title,sx:{"& .MuiListItemText-primary":{fontFamily:ht.typography.body1.fontFamily,fontWeight:K(ae)?600:400,color:K(ae)?ht.palette.primary.main:ht.palette.text.primary}}}),!b&&h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:.5},children:[h.jsx(Si,{title:"Edit Section",arrow:!0,children:h.jsx(On,{onClick:U=>{U.stopPropagation(),T(ae,$.title)},size:"small",sx:{color:ht.palette.primary.main},children:h.jsx(xu,{fontSize:"small"})})}),h.jsx(F5,{onDelete:()=>d(ae),itemType:"section"})]}),$.subsections.length>0&&h.jsx(On,{onClick:U=>{U.stopPropagation(),B(ae)},size:"small",sx:{ml:1},children:F[ae]?h.jsx(dg,{fontSize:"small"}):h.jsx(Wo,{fontSize:"small"})}),!b&&h.jsx(Si,{title:"Add Subsection",arrow:!0,children:h.jsx(On,{onClick:U=>{U.stopPropagation(),r(ae)},size:"small",sx:{color:ht.palette.success.main},children:h.jsx(bu,{fontSize:"small"})})})]})}),h.jsx(cg,{in:F[ae],timeout:"auto",unmountOnExit:!0,children:h.jsx(zf,{sx:{pl:2},children:$.subsections.map((U,z)=>h.jsxs(he,{children:[h.jsx(vd,{onClick:()=>a(ae,z),sx:{cursor:"pointer",backgroundColor:K(ae,z)?ht.palette.primary.light:"transparent",borderLeft:K(ae,z)?`4px solid ${ht.palette.primary.main}`:"4px solid transparent",transition:ht.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ht.palette.action.hover}},children:y&&y.section===ae&&y.subsection===z?h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[h.jsx(Wt,{value:N,onChange:Z=>R(Z.target.value),size:"small",variant:"outlined",disabled:b,sx:{flex:1}}),!b&&h.jsx(On,{onClick:()=>j(ae,z),size:"small",color:"primary",children:h.jsx(F0,{})})]}):h.jsxs(h.Fragment,{children:[h.jsx(Ol,{primary:U.title,sx:{"& .MuiListItemText-primary":{fontFamily:ht.typography.body2.fontFamily,fontWeight:K(ae,z)?600:400,color:K(ae,z)?ht.palette.primary.main:ht.palette.text.primary}}}),!b&&h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:.5},children:[h.jsx(Si,{title:"Edit Subsection",arrow:!0,children:h.jsx(On,{onClick:Z=>{Z.stopPropagation(),P(ae,z,U.title)},size:"small",sx:{color:ht.palette.primary.main},children:h.jsx(xu,{fontSize:"small"})})}),h.jsx(F5,{onDelete:()=>f(ae,z),itemType:"subsection"})]}),U.subSubsections.length>0&&h.jsx(On,{onClick:Z=>{Z.stopPropagation(),X(ae,z)},size:"small",sx:{ml:1},children:k[ae][z]?h.jsx(dg,{fontSize:"small"}):h.jsx(Wo,{fontSize:"small"})}),!b&&h.jsx(Si,{title:"Add Sub-subsection",arrow:!0,children:h.jsx(On,{onClick:Z=>{Z.stopPropagation(),i(ae,z)},size:"small",sx:{color:ht.palette.success.main},children:h.jsx(bu,{fontSize:"small"})})})]})}),h.jsx(cg,{in:k[ae][z],timeout:"auto",unmountOnExit:!0,children:h.jsx(zf,{sx:{pl:2},children:U.subSubsections.map((Z,ee)=>h.jsx(vd,{onClick:()=>a(ae,z,ee),sx:{cursor:"pointer",backgroundColor:K(ae,z,ee)?ht.palette.primary.light:"transparent",borderLeft:K(ae,z,ee)?`4px solid ${ht.palette.primary.main}`:"4px solid transparent",transition:ht.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ht.palette.action.hover}},children:w&&w.section===ae&&w.subsection===z&&w.subSubsection===ee?h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[h.jsx(Wt,{value:N,onChange:oe=>R(oe.target.value),size:"small",variant:"outlined",disabled:b,sx:{flex:1}}),!b&&h.jsx(On,{onClick:()=>W(ae,z,ee),size:"small",color:"primary",children:h.jsx(F0,{})})]}):h.jsxs(h.Fragment,{children:[h.jsx(Ol,{primary:Z.title,sx:{"& .MuiListItemText-primary":{fontFamily:ht.typography.body2.fontFamily,fontWeight:K(ae,z,ee)?600:400,color:K(ae,z,ee)?ht.palette.primary.main:ht.palette.text.secondary,fontSize:"0.875rem"}}}),!b&&h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:.5},children:[h.jsx(Si,{title:"Edit Sub-subsection",arrow:!0,children:h.jsx(On,{onClick:oe=>{oe.stopPropagation(),G(ae,z,ee,Z.title)},size:"small",sx:{color:ht.palette.primary.main},children:h.jsx(xu,{fontSize:"small"})})}),h.jsx(F5,{onDelete:()=>g(ae,z,ee),itemType:"subSubsection"})]})]})},Z.id))})})]},U.id))})})]},$.id)),h.jsx(vd,{onClick:()=>a("footer"),sx:{cursor:"pointer",backgroundColor:K(void 0,void 0,void 0,"footer")?ht.palette.primary.light:"transparent",borderLeft:K(void 0,void 0,void 0,"footer")?`4px solid ${ht.palette.primary.main}`:"4px solid transparent",transition:ht.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ht.palette.action.hover}},children:h.jsx(Ol,{primary:"Footer",sx:{"& .MuiListItemText-primary":{fontFamily:ht.typography.body1.fontFamily,fontWeight:K(void 0,void 0,void 0,"footer")?600:400,color:K(void 0,void 0,void 0,"footer")?ht.palette.primary.main:ht.palette.text.primary}}})})]})})]})},sP=({returnToSelection:e=!1,courseId:n})=>{const t=ma(),[r]=Yg(),i=r.get("course"),a=()=>{const s=n||i;t(e||!s?"/supplemental-materials":`/supplemental-materials?course=${s}`)};return h.jsx(At,{variant:"text",color:"primary",startIcon:h.jsx(Fj,{}),onClick:a,className:"supplemental-back-button",children:e?"Course Selection":"Course Materials"})},oP=({sectionId:e,images:n,onImagesChange:t})=>{const[r,i]=Q.useState(!1),[a,s]=Q.useState(""),[l,u]=Q.useState("success"),[d,f]=Q.useState(null),[g,b]=Q.useState(""),m=vp(),x=async R=>{if(R.target.files){const F=Array.from(R.target.files),q=[];for(const k of F)try{const L=await C(k),B=await N(L);q.push({url:B.url,title:`Image ${n.length+q.length+1}`,id:Ri()})}catch{s("Failed to upload images"),u("error"),i(!0)}t([...n,...q]),s("Image(s) uploaded successfully"),u("success"),i(!0)}},y=R=>{f(R),b(R.title)},A=()=>{if(d){const R=n.map(F=>F.url===d.url?{...F,title:g}:F);t(R),f(null),b("")}},w=R=>{const F=n.filter(q=>q.url!==R.url);t(F)},C=R=>new Promise((F,q)=>{R.size>5*1024*1024?Zj.imageFileResizer(R,500,500,"JPEG",70,0,k=>{typeof k=="string"?q(new Error("Compression returned a string instead of a file")):F(k)},"file"):F(R)}),N=R=>new Promise((F,q)=>{const k=vc(m,`materials/${e}/${R.name}`);Vf(k,R).then(L=>{Gf(L.ref).then(B=>{F({url:B,path:L.ref.fullPath})})}).catch(L=>q(L))});return h.jsxs(he,{children:[h.jsxs(he,{sx:{display:"flex",alignItems:"center",mb:2},children:[h.jsx(dR,{sx:{mr:1,color:ht.palette.primary.main}}),h.jsx(ge,{variant:"h6",sx:{fontWeight:600,color:ht.palette.text.primary},children:"Images"}),h.jsx(cr,{label:`${n.length} image${n.length!==1?"s":""}`,size:"small",sx:{ml:2}})]}),h.jsxs(At,{variant:"contained",component:"label",startIcon:h.jsx(bu,{}),sx:{mb:3,textTransform:"none",borderRadius:jt.xl},children:["Add Images",h.jsx("input",{type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:x})]}),n.length>0&&h.jsx(yt,{container:!0,spacing:2,children:n.map((R,F)=>h.jsx(yt,{item:!0,xs:12,sm:6,md:4,children:h.jsxs(Xa,{sx:{borderRadius:jt.xl,border:`1px solid ${ht.palette.divider}`,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{boxShadow:ht.shadows[4],transform:"translateY(-2px)"}},children:[h.jsxs(he,{sx:{position:"relative"},children:[h.jsx("img",{src:R.url,alt:R.title,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:`${jt.xl} ${jt.xl} 0 0`}}),h.jsxs(he,{sx:{position:"absolute",top:8,right:8,display:"flex",gap:.5},children:[h.jsx(On,{size:"small",onClick:()=>y(R),sx:{backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:ht.palette.primary.main,color:"white"}},children:h.jsx(xu,{fontSize:"small"})}),h.jsx(On,{size:"small",onClick:()=>w(R),sx:{backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:ht.palette.error.main,color:"white"}},children:h.jsx(wd,{fontSize:"small"})})]})]}),h.jsx(Za,{sx:{p:2},children:h.jsx(ge,{variant:"body2",sx:{fontWeight:500,color:ht.palette.text.primary,wordBreak:"break-word"},children:R.title})})]})},R.id||F))}),h.jsxs(Ki,{open:!!d,onClose:()=>f(null),maxWidth:"sm",fullWidth:!0,children:[h.jsx(fa,{sx:{pb:1},children:h.jsxs(he,{sx:{display:"flex",alignItems:"center"},children:[h.jsx(xu,{sx:{mr:1,color:ht.palette.primary.main}}),"Edit Image Title"]})}),h.jsx(Xi,{children:h.jsx(Wt,{fullWidth:!0,label:"Image Title",value:g,onChange:R=>b(R.target.value),variant:"outlined",sx:{mt:2}})}),h.jsxs(ha,{sx:{p:3,pt:1},children:[h.jsx(At,{onClick:()=>f(null),startIcon:h.jsx(O6,{}),sx:{textTransform:"none"},children:"Cancel"}),h.jsx(At,{onClick:A,variant:"contained",startIcon:h.jsx(F0,{}),sx:{textTransform:"none"},children:"Save Changes"})]})]}),h.jsx(nl,{open:r,autoHideDuration:6e3,onClose:()=>i(!1),children:h.jsx(vr,{onClose:()=>i(!1),severity:l,sx:{width:"100%"},children:a})})]})},lP=({links:e,onLinksChange:n})=>{const t=()=>{const s={title:"",url:"",description:""};n([...e,s])},r=s=>{const l=e.filter((u,d)=>d!==s);n(l)},i=(s,l,u)=>{const d=[...e];d[s][l]=u,n(d)},a=s=>{try{return new URL(s),!0}catch{return!1}};return h.jsxs(he,{children:[h.jsxs(he,{sx:{display:"flex",alignItems:"center",mb:2},children:[h.jsx(fR,{sx:{mr:1,color:ht.palette.primary.main}}),h.jsx(ge,{variant:"h6",sx:{fontWeight:600,color:ht.palette.text.primary},children:"Links"}),h.jsx(cr,{label:`${e.length} link${e.length!==1?"s":""}`,size:"small",sx:{ml:2}})]}),h.jsx(At,{variant:"contained",onClick:t,startIcon:h.jsx(bu,{}),sx:{mb:3,textTransform:"none",borderRadius:jt.xl},children:"Add Link"}),e.length>0&&h.jsx(he,{sx:{display:"flex",flexDirection:"column",gap:2},children:e.map((s,l)=>h.jsxs(Xa,{sx:{borderRadius:jt.xl,border:`1px solid ${ht.palette.divider}`,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{boxShadow:ht.shadows[2]}},children:[h.jsx(Za,{sx:{p:3},children:h.jsxs(yt,{container:!0,spacing:2,children:[h.jsx(yt,{item:!0,xs:12,sm:6,children:h.jsx(Wt,{fullWidth:!0,label:"Link Title",value:s.title,onChange:u=>i(l,"title",u.target.value),variant:"outlined",size:"small",placeholder:"Enter link title",sx:{"& .MuiOutlinedInput-root":{borderRadius:jt.xl}}})}),h.jsx(yt,{item:!0,xs:12,sm:6,children:h.jsx(Wt,{fullWidth:!0,label:"URL",value:s.url,onChange:u=>i(l,"url",u.target.value),variant:"outlined",size:"small",placeholder:"https://example.com",error:s.url&&!a(s.url),helperText:s.url&&!a(s.url)?"Please enter a valid URL":"",sx:{"& .MuiOutlinedInput-root":{borderRadius:jt.xl}}})}),h.jsx(yt,{item:!0,xs:12,children:h.jsx(Wt,{fullWidth:!0,label:"Description (Optional)",value:s.description,onChange:u=>i(l,"description",u.target.value),variant:"outlined",size:"small",multiline:!0,rows:2,placeholder:"Enter link description",sx:{"& .MuiOutlinedInput-root":{borderRadius:jt.xl}}})})]})}),h.jsx(es,{}),h.jsxs(aj,{sx:{p:2,justifyContent:"space-between"},children:[h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.url&&a(s.url)&&h.jsx(Si,{title:"Open link",arrow:!0,children:h.jsx(On,{size:"small",onClick:()=>window.open(s.url,"_blank"),sx:{color:ht.palette.primary.main,"&:hover":{backgroundColor:ht.palette.primary.light}},children:h.jsx(hR,{fontSize:"small"})})}),h.jsxs(ge,{variant:"caption",color:"text.secondary",children:["Link ",l+1]})]}),h.jsx(Si,{title:"Delete link",arrow:!0,children:h.jsx(On,{size:"small",onClick:()=>r(l),sx:{color:ht.palette.error.main,"&:hover":{backgroundColor:ht.palette.error.light}},children:h.jsx(wd,{fontSize:"small"})})})]})]},l))})]})};var r7=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,uP=typeof self=="object"&&self&&self.Object===Object&&self,qc=r7||uP||Function("return this")(),th=qc.Symbol,i7=Object.prototype,cP=i7.hasOwnProperty,dP=i7.toString,w1=th?th.toStringTag:void 0;function fP(e){var n=cP.call(e,w1),t=e[w1];try{e[w1]=void 0;var r=!0}catch{}var i=dP.call(e);return r&&(n?e[w1]=t:delete e[w1]),i}var hP=Object.prototype,pP=hP.toString;function mP(e){return pP.call(e)}var gP="[object Null]",bP="[object Undefined]",tk=th?th.toStringTag:void 0;function mm(e){return e==null?e===void 0?bP:gP:tk&&tk in Object(e)?fP(e):mP(e)}function Rd(e){return e!=null&&typeof e=="object"}var dp=Array.isArray;function dh(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function a7(e){return e}var yP="[object AsyncFunction]",xP="[object Function]",vP="[object GeneratorFunction]",wP="[object Proxy]";function H6(e){if(!dh(e))return!1;var n=mm(e);return n==xP||n==vP||n==yP||n==wP}var P5=qc["__core-js_shared__"],nk=function(){var e=/[^.]+$/.exec(P5&&P5.keys&&P5.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function SP(e){return!!nk&&nk in e}var AP=Function.prototype,CP=AP.toString;function Cp(e){if(e!=null){try{return CP.call(e)}catch{}try{return e+""}catch{}}return""}var EP=/[\\^$.*+?()[\]{}|]/g,_P=/^\[object .+?Constructor\]$/,kP=Function.prototype,NP=Object.prototype,TP=kP.toString,jP=NP.hasOwnProperty,OP=RegExp("^"+TP.call(jP).replace(EP,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function IP(e){if(!dh(e)||SP(e))return!1;var n=H6(e)?OP:_P;return n.test(Cp(e))}function DP(e,n){return e==null?void 0:e[n]}function Ep(e,n){var t=DP(e,n);return IP(t)?t:void 0}var sS=Ep(qc,"WeakMap"),rk=Object.create,LP=function(){function e(){}return function(n){if(!dh(n))return{};if(rk)return rk(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}();function RP(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}function MP(e,n){var t=-1,r=e.length;for(n||(n=Array(r));++t<r;)n[t]=e[t];return n}var FP=800,PP=16,zP=Date.now;function qP(e){var n=0,t=0;return function(){var r=zP(),i=PP-(r-t);if(t=r,i>0){if(++n>=FP)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}function BP(e){return function(){return e}}var Ox=function(){try{var e=Ep(Object,"defineProperty");return e({},"",{}),e}catch{}}(),UP=Ox?function(e,n){return Ox(e,"toString",{configurable:!0,enumerable:!1,value:BP(n),writable:!0})}:a7,$P=qP(UP);function HP(e,n){for(var t=-1,r=e==null?0:e.length;++t<r&&n(e[t],t,e)!==!1;);return e}var WP=9007199254740991,YP=/^(?:0|[1-9]\d*)$/;function s7(e,n){var t=typeof e;return n=n??WP,!!n&&(t=="number"||t!="symbol"&&YP.test(e))&&e>-1&&e%1==0&&e<n}function W6(e,n,t){n=="__proto__"&&Ox?Ox(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function Kg(e,n){return e===n||e!==e&&n!==n}var VP=Object.prototype,GP=VP.hasOwnProperty;function o7(e,n,t){var r=e[n];(!(GP.call(e,n)&&Kg(r,t))||t===void 0&&!(n in e))&&W6(e,n,t)}function QP(e,n,t,r){var i=!t;t||(t={});for(var a=-1,s=n.length;++a<s;){var l=n[a],u=void 0;u===void 0&&(u=e[l]),i?W6(t,l,u):o7(t,l,u)}return t}var ik=Math.max;function KP(e,n,t){return n=ik(n===void 0?e.length-1:n,0),function(){for(var r=arguments,i=-1,a=ik(r.length-n,0),s=Array(a);++i<a;)s[i]=r[n+i];i=-1;for(var l=Array(n+1);++i<n;)l[i]=r[i];return l[n]=t(s),RP(e,this,l)}}function XP(e,n){return $P(KP(e,n,a7),e+"")}var ZP=9007199254740991;function l7(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ZP}function yv(e){return e!=null&&l7(e.length)&&!H6(e)}function JP(e,n,t){if(!dh(t))return!1;var r=typeof n;return(r=="number"?yv(t)&&s7(n,t.length):r=="string"&&n in t)?Kg(t[n],e):!1}function ez(e){return XP(function(n,t){var r=-1,i=t.length,a=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,s&&JP(t[0],t[1],s)&&(a=i<3?void 0:a,i=1),n=Object(n);++r<i;){var l=t[r];l&&e(n,l,r,a)}return n})}var tz=Object.prototype;function Y6(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||tz;return e===t}function nz(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t);return r}var rz="[object Arguments]";function ak(e){return Rd(e)&&mm(e)==rz}var u7=Object.prototype,iz=u7.hasOwnProperty,az=u7.propertyIsEnumerable,oS=ak(function(){return arguments}())?ak:function(e){return Rd(e)&&iz.call(e,"callee")&&!az.call(e,"callee")};function sz(){return!1}var c7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,sk=c7&&typeof module=="object"&&module&&!module.nodeType&&module,oz=sk&&sk.exports===c7,ok=oz?qc.Buffer:void 0,lz=ok?ok.isBuffer:void 0,yg=lz||sz,uz="[object Arguments]",cz="[object Array]",dz="[object Boolean]",fz="[object Date]",hz="[object Error]",pz="[object Function]",mz="[object Map]",gz="[object Number]",bz="[object Object]",yz="[object RegExp]",xz="[object Set]",vz="[object String]",wz="[object WeakMap]",Sz="[object ArrayBuffer]",Az="[object DataView]",Cz="[object Float32Array]",Ez="[object Float64Array]",_z="[object Int8Array]",kz="[object Int16Array]",Nz="[object Int32Array]",Tz="[object Uint8Array]",jz="[object Uint8ClampedArray]",Oz="[object Uint16Array]",Iz="[object Uint32Array]",ci={};ci[Cz]=ci[Ez]=ci[_z]=ci[kz]=ci[Nz]=ci[Tz]=ci[jz]=ci[Oz]=ci[Iz]=!0;ci[uz]=ci[cz]=ci[Sz]=ci[dz]=ci[Az]=ci[fz]=ci[hz]=ci[pz]=ci[mz]=ci[gz]=ci[bz]=ci[yz]=ci[xz]=ci[vz]=ci[wz]=!1;function Dz(e){return Rd(e)&&l7(e.length)&&!!ci[mm(e)]}function V6(e){return function(n){return e(n)}}var d7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,eg=d7&&typeof module=="object"&&module&&!module.nodeType&&module,Lz=eg&&eg.exports===d7,z5=Lz&&r7.process,nm=function(){try{var e=eg&&eg.require&&eg.require("util").types;return e||z5&&z5.binding&&z5.binding("util")}catch{}}(),lk=nm&&nm.isTypedArray,G6=lk?V6(lk):Dz,Rz=Object.prototype,Mz=Rz.hasOwnProperty;function f7(e,n){var t=dp(e),r=!t&&oS(e),i=!t&&!r&&yg(e),a=!t&&!r&&!i&&G6(e),s=t||r||i||a,l=s?nz(e.length,String):[],u=l.length;for(var d in e)(n||Mz.call(e,d))&&!(s&&(d=="length"||i&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||s7(d,u)))&&l.push(d);return l}function h7(e,n){return function(t){return e(n(t))}}var Fz=h7(Object.keys,Object),Pz=Object.prototype,zz=Pz.hasOwnProperty;function qz(e){if(!Y6(e))return Fz(e);var n=[];for(var t in Object(e))zz.call(e,t)&&t!="constructor"&&n.push(t);return n}function Bz(e){return yv(e)?f7(e):qz(e)}function Uz(e){var n=[];if(e!=null)for(var t in Object(e))n.push(t);return n}var $z=Object.prototype,Hz=$z.hasOwnProperty;function Wz(e){if(!dh(e))return Uz(e);var n=Y6(e),t=[];for(var r in e)r=="constructor"&&(n||!Hz.call(e,r))||t.push(r);return t}function p7(e){return yv(e)?f7(e,!0):Wz(e)}var xg=Ep(Object,"create");function Yz(){this.__data__=xg?xg(null):{},this.size=0}function Vz(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var Gz="__lodash_hash_undefined__",Qz=Object.prototype,Kz=Qz.hasOwnProperty;function Xz(e){var n=this.__data__;if(xg){var t=n[e];return t===Gz?void 0:t}return Kz.call(n,e)?n[e]:void 0}var Zz=Object.prototype,Jz=Zz.hasOwnProperty;function eq(e){var n=this.__data__;return xg?n[e]!==void 0:Jz.call(n,e)}var tq="__lodash_hash_undefined__";function nq(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=xg&&n===void 0?tq:n,this}function fp(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}fp.prototype.clear=Yz;fp.prototype.delete=Vz;fp.prototype.get=Xz;fp.prototype.has=eq;fp.prototype.set=nq;function rq(){this.__data__=[],this.size=0}function xv(e,n){for(var t=e.length;t--;)if(Kg(e[t][0],n))return t;return-1}var iq=Array.prototype,aq=iq.splice;function sq(e){var n=this.__data__,t=xv(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():aq.call(n,t,1),--this.size,!0}function oq(e){var n=this.__data__,t=xv(n,e);return t<0?void 0:n[t][1]}function lq(e){return xv(this.__data__,e)>-1}function uq(e,n){var t=this.__data__,r=xv(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}function Hd(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Hd.prototype.clear=rq;Hd.prototype.delete=sq;Hd.prototype.get=oq;Hd.prototype.has=lq;Hd.prototype.set=uq;var vg=Ep(qc,"Map");function cq(){this.size=0,this.__data__={hash:new fp,map:new(vg||Hd),string:new fp}}function dq(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function vv(e,n){var t=e.__data__;return dq(n)?t[typeof n=="string"?"string":"hash"]:t.map}function fq(e){var n=vv(this,e).delete(e);return this.size-=n?1:0,n}function hq(e){return vv(this,e).get(e)}function pq(e){return vv(this,e).has(e)}function mq(e,n){var t=vv(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}function _p(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}_p.prototype.clear=cq;_p.prototype.delete=fq;_p.prototype.get=hq;_p.prototype.has=pq;_p.prototype.set=mq;function gq(e,n){for(var t=-1,r=n.length,i=e.length;++t<r;)e[i+t]=n[t];return e}var m7=h7(Object.getPrototypeOf,Object),bq="[object Object]",yq=Function.prototype,xq=Object.prototype,g7=yq.toString,vq=xq.hasOwnProperty,wq=g7.call(Object);function Sq(e){if(!Rd(e)||mm(e)!=bq)return!1;var n=m7(e);if(n===null)return!0;var t=vq.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&g7.call(t)==wq}function Aq(){this.__data__=new Hd,this.size=0}function Cq(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function Eq(e){return this.__data__.get(e)}function _q(e){return this.__data__.has(e)}var kq=200;function Nq(e,n){var t=this.__data__;if(t instanceof Hd){var r=t.__data__;if(!vg||r.length<kq-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new _p(r)}return t.set(e,n),this.size=t.size,this}function Cc(e){var n=this.__data__=new Hd(e);this.size=n.size}Cc.prototype.clear=Aq;Cc.prototype.delete=Cq;Cc.prototype.get=Eq;Cc.prototype.has=_q;Cc.prototype.set=Nq;var b7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,uk=b7&&typeof module=="object"&&module&&!module.nodeType&&module,Tq=uk&&uk.exports===b7,ck=Tq?qc.Buffer:void 0,dk=ck?ck.allocUnsafe:void 0;function y7(e,n){if(n)return e.slice();var t=e.length,r=dk?dk(t):new e.constructor(t);return e.copy(r),r}function jq(e,n){for(var t=-1,r=e==null?0:e.length,i=0,a=[];++t<r;){var s=e[t];n(s,t,e)&&(a[i++]=s)}return a}function Oq(){return[]}var Iq=Object.prototype,Dq=Iq.propertyIsEnumerable,fk=Object.getOwnPropertySymbols,Lq=fk?function(e){return e==null?[]:(e=Object(e),jq(fk(e),function(n){return Dq.call(e,n)}))}:Oq;function Rq(e,n,t){var r=n(e);return dp(e)?r:gq(r,t(e))}function lS(e){return Rq(e,Bz,Lq)}var uS=Ep(qc,"DataView"),cS=Ep(qc,"Promise"),dS=Ep(qc,"Set"),hk="[object Map]",Mq="[object Object]",pk="[object Promise]",mk="[object Set]",gk="[object WeakMap]",bk="[object DataView]",Fq=Cp(uS),Pq=Cp(vg),zq=Cp(cS),qq=Cp(dS),Bq=Cp(sS),gu=mm;(uS&&gu(new uS(new ArrayBuffer(1)))!=bk||vg&&gu(new vg)!=hk||cS&&gu(cS.resolve())!=pk||dS&&gu(new dS)!=mk||sS&&gu(new sS)!=gk)&&(gu=function(e){var n=mm(e),t=n==Mq?e.constructor:void 0,r=t?Cp(t):"";if(r)switch(r){case Fq:return bk;case Pq:return hk;case zq:return pk;case qq:return mk;case Bq:return gk}return n});var Uq=Object.prototype,$q=Uq.hasOwnProperty;function Hq(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&$q.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var Ix=qc.Uint8Array;function Q6(e){var n=new e.constructor(e.byteLength);return new Ix(n).set(new Ix(e)),n}function Wq(e,n){var t=Q6(e.buffer);return new e.constructor(t,e.byteOffset,e.byteLength)}var Yq=/\w*$/;function Vq(e){var n=new e.constructor(e.source,Yq.exec(e));return n.lastIndex=e.lastIndex,n}var yk=th?th.prototype:void 0,xk=yk?yk.valueOf:void 0;function Gq(e){return xk?Object(xk.call(e)):{}}function x7(e,n){var t=n?Q6(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var Qq="[object Boolean]",Kq="[object Date]",Xq="[object Map]",Zq="[object Number]",Jq="[object RegExp]",eB="[object Set]",tB="[object String]",nB="[object Symbol]",rB="[object ArrayBuffer]",iB="[object DataView]",aB="[object Float32Array]",sB="[object Float64Array]",oB="[object Int8Array]",lB="[object Int16Array]",uB="[object Int32Array]",cB="[object Uint8Array]",dB="[object Uint8ClampedArray]",fB="[object Uint16Array]",hB="[object Uint32Array]";function pB(e,n,t){var r=e.constructor;switch(n){case rB:return Q6(e);case Qq:case Kq:return new r(+e);case iB:return Wq(e);case aB:case sB:case oB:case lB:case uB:case cB:case dB:case fB:case hB:return x7(e,t);case Xq:return new r;case Zq:case tB:return new r(e);case Jq:return Vq(e);case eB:return new r;case nB:return Gq(e)}}function v7(e){return typeof e.constructor=="function"&&!Y6(e)?LP(m7(e)):{}}var mB="[object Map]";function gB(e){return Rd(e)&&gu(e)==mB}var vk=nm&&nm.isMap,bB=vk?V6(vk):gB,yB="[object Set]";function xB(e){return Rd(e)&&gu(e)==yB}var wk=nm&&nm.isSet,vB=wk?V6(wk):xB,wB=1,w7="[object Arguments]",SB="[object Array]",AB="[object Boolean]",CB="[object Date]",EB="[object Error]",S7="[object Function]",_B="[object GeneratorFunction]",kB="[object Map]",NB="[object Number]",A7="[object Object]",TB="[object RegExp]",jB="[object Set]",OB="[object String]",IB="[object Symbol]",DB="[object WeakMap]",LB="[object ArrayBuffer]",RB="[object DataView]",MB="[object Float32Array]",FB="[object Float64Array]",PB="[object Int8Array]",zB="[object Int16Array]",qB="[object Int32Array]",BB="[object Uint8Array]",UB="[object Uint8ClampedArray]",$B="[object Uint16Array]",HB="[object Uint32Array]",ri={};ri[w7]=ri[SB]=ri[LB]=ri[RB]=ri[AB]=ri[CB]=ri[MB]=ri[FB]=ri[PB]=ri[zB]=ri[qB]=ri[kB]=ri[NB]=ri[A7]=ri[TB]=ri[jB]=ri[OB]=ri[IB]=ri[BB]=ri[UB]=ri[$B]=ri[HB]=!0;ri[EB]=ri[S7]=ri[DB]=!1;function ex(e,n,t,r,i,a){var s,l=n&wB;if(s!==void 0)return s;if(!dh(e))return e;var u=dp(e);if(u)s=Hq(e);else{var d=gu(e),f=d==S7||d==_B;if(yg(e))return y7(e,l);if(d==A7||d==w7||f&&!i)s=f?{}:v7(e);else{if(!ri[d])return i?e:{};s=pB(e,d,l)}}a||(a=new Cc);var g=a.get(e);if(g)return g;a.set(e,s),vB(e)?e.forEach(function(x){s.add(ex(x,n,t,x,e,a))}):bB(e)&&e.forEach(function(x,y){s.set(y,ex(x,n,t,y,e,a))});var b=lS,m=u?void 0:b(e);return HP(m||e,function(x,y){m&&(y=x,x=e[y]),o7(s,y,ex(x,n,t,y,e,a))}),s}var WB=1,YB=4;function P0(e){return ex(e,WB|YB)}var VB="__lodash_hash_undefined__";function GB(e){return this.__data__.set(e,VB),this}function QB(e){return this.__data__.has(e)}function Dx(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new _p;++n<t;)this.add(e[n])}Dx.prototype.add=Dx.prototype.push=GB;Dx.prototype.has=QB;function KB(e,n){for(var t=-1,r=e==null?0:e.length;++t<r;)if(n(e[t],t,e))return!0;return!1}function XB(e,n){return e.has(n)}var ZB=1,JB=2;function C7(e,n,t,r,i,a){var s=t&ZB,l=e.length,u=n.length;if(l!=u&&!(s&&u>l))return!1;var d=a.get(e),f=a.get(n);if(d&&f)return d==n&&f==e;var g=-1,b=!0,m=t&JB?new Dx:void 0;for(a.set(e,n),a.set(n,e);++g<l;){var x=e[g],y=n[g];if(r)var A=s?r(y,x,g,n,e,a):r(x,y,g,e,n,a);if(A!==void 0){if(A)continue;b=!1;break}if(m){if(!KB(n,function(w,C){if(!XB(m,C)&&(x===w||i(x,w,t,r,a)))return m.push(C)})){b=!1;break}}else if(!(x===y||i(x,y,t,r,a))){b=!1;break}}return a.delete(e),a.delete(n),b}function eU(e){var n=-1,t=Array(e.size);return e.forEach(function(r,i){t[++n]=[i,r]}),t}function tU(e){var n=-1,t=Array(e.size);return e.forEach(function(r){t[++n]=r}),t}var nU=1,rU=2,iU="[object Boolean]",aU="[object Date]",sU="[object Error]",oU="[object Map]",lU="[object Number]",uU="[object RegExp]",cU="[object Set]",dU="[object String]",fU="[object Symbol]",hU="[object ArrayBuffer]",pU="[object DataView]",Sk=th?th.prototype:void 0,q5=Sk?Sk.valueOf:void 0;function mU(e,n,t,r,i,a,s){switch(t){case pU:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case hU:return!(e.byteLength!=n.byteLength||!a(new Ix(e),new Ix(n)));case iU:case aU:case lU:return Kg(+e,+n);case sU:return e.name==n.name&&e.message==n.message;case uU:case dU:return e==n+"";case oU:var l=eU;case cU:var u=r&nU;if(l||(l=tU),e.size!=n.size&&!u)return!1;var d=s.get(e);if(d)return d==n;r|=rU,s.set(e,n);var f=C7(l(e),l(n),r,i,a,s);return s.delete(e),f;case fU:if(q5)return q5.call(e)==q5.call(n)}return!1}var gU=1,bU=Object.prototype,yU=bU.hasOwnProperty;function xU(e,n,t,r,i,a){var s=t&gU,l=lS(e),u=l.length,d=lS(n),f=d.length;if(u!=f&&!s)return!1;for(var g=u;g--;){var b=l[g];if(!(s?b in n:yU.call(n,b)))return!1}var m=a.get(e),x=a.get(n);if(m&&x)return m==n&&x==e;var y=!0;a.set(e,n),a.set(n,e);for(var A=s;++g<u;){b=l[g];var w=e[b],C=n[b];if(r)var N=s?r(C,w,b,n,e,a):r(w,C,b,e,n,a);if(!(N===void 0?w===C||i(w,C,t,r,a):N)){y=!1;break}A||(A=b=="constructor")}if(y&&!A){var R=e.constructor,F=n.constructor;R!=F&&"constructor"in e&&"constructor"in n&&!(typeof R=="function"&&R instanceof R&&typeof F=="function"&&F instanceof F)&&(y=!1)}return a.delete(e),a.delete(n),y}var vU=1,Ak="[object Arguments]",Ck="[object Array]",wy="[object Object]",wU=Object.prototype,Ek=wU.hasOwnProperty;function SU(e,n,t,r,i,a){var s=dp(e),l=dp(n),u=s?Ck:gu(e),d=l?Ck:gu(n);u=u==Ak?wy:u,d=d==Ak?wy:d;var f=u==wy,g=d==wy,b=u==d;if(b&&yg(e)){if(!yg(n))return!1;s=!0,f=!1}if(b&&!f)return a||(a=new Cc),s||G6(e)?C7(e,n,t,r,i,a):mU(e,n,u,t,r,i,a);if(!(t&vU)){var m=f&&Ek.call(e,"__wrapped__"),x=g&&Ek.call(n,"__wrapped__");if(m||x){var y=m?e.value():e,A=x?n.value():n;return a||(a=new Cc),i(y,A,t,r,a)}}return b?(a||(a=new Cc),xU(e,n,t,r,i,a)):!1}function E7(e,n,t,r,i){return e===n?!0:e==null||n==null||!Rd(e)&&!Rd(n)?e!==e&&n!==n:SU(e,n,t,r,E7,i)}function AU(e){return function(n,t,r){for(var i=-1,a=Object(n),s=r(n),l=s.length;l--;){var u=s[++i];if(t(a[u],u,a)===!1)break}return n}}var CU=AU();function fS(e,n,t){(t!==void 0&&!Kg(e[n],t)||t===void 0&&!(n in e))&&W6(e,n,t)}function EU(e){return Rd(e)&&yv(e)}function hS(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}function _U(e){return QP(e,p7(e))}function kU(e,n,t,r,i,a,s){var l=hS(e,t),u=hS(n,t),d=s.get(u);if(d){fS(e,t,d);return}var f=a?a(l,u,t+"",e,n,s):void 0,g=f===void 0;if(g){var b=dp(u),m=!b&&yg(u),x=!b&&!m&&G6(u);f=u,b||m||x?dp(l)?f=l:EU(l)?f=MP(l):m?(g=!1,f=y7(u,!0)):x?(g=!1,f=x7(u,!0)):f=[]:Sq(u)||oS(u)?(f=l,oS(l)?f=_U(l):(!dh(l)||H6(l))&&(f=v7(u))):g=!1}g&&(s.set(u,f),i(f,u,r,a,s),s.delete(u)),fS(e,t,f)}function _7(e,n,t,r,i){e!==n&&CU(n,function(a,s){if(i||(i=new Cc),dh(a))kU(e,n,s,t,_7,r,i);else{var l=r?r(hS(e,s),a,s+"",e,n,i):void 0;l===void 0&&(l=a),fS(e,s,l)}},p7)}function Mf(e,n){return E7(e,n)}var Xf=ez(function(e,n,t){_7(e,n,t)}),Yt=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(Yt||{});class Mc{constructor(n,t,r={}){this.attrName=n,this.keyName=t;const i=Yt.TYPE&Yt.ATTRIBUTE;this.scope=r.scope!=null?r.scope&Yt.LEVEL|i:Yt.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(n){return Array.from(n.attributes).map(t=>t.name)}add(n,t){return this.canAdd(n,t)?(n.setAttribute(this.keyName,t),!0):!1}canAdd(n,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(n){n.removeAttribute(this.keyName)}value(n){const t=n.getAttribute(this.keyName);return this.canAdd(n,t)&&t?t:""}}class z0 extends Error{constructor(n){n="[Parchment] "+n,super(n),this.message=n,this.name=this.constructor.name}}const k7=class pS{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(n,t=!1){if(n==null)return null;if(this.blots.has(n))return this.blots.get(n)||null;if(t){let r=null;try{r=n.parentNode}catch{return null}return this.find(r,t)}return null}create(n,t,r){const i=this.query(t);if(i==null)throw new z0(`Unable to create ${t} blot`);const a=i,s=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:a.create(r),l=new a(n,s,r);return pS.blots.set(l.domNode,l),l}find(n,t=!1){return pS.find(n,t)}query(n,t=Yt.ANY){let r;return typeof n=="string"?r=this.types[n]||this.attributes[n]:n instanceof Text||n.nodeType===Node.TEXT_NODE?r=this.types.text:typeof n=="number"?n&Yt.LEVEL&Yt.BLOCK?r=this.types.block:n&Yt.LEVEL&Yt.INLINE&&(r=this.types.inline):n instanceof Element&&((n.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[n.tagName]),r==null?null:"scope"in r&&t&Yt.LEVEL&r.scope&&t&Yt.TYPE&r.scope?r:null}register(...n){return n.map(t=>{const r="blotName"in t,i="attrName"in t;if(!r&&!i)throw new z0("Invalid definition");if(r&&t.blotName==="abstract")throw new z0("Cannot register abstract class");const a=r?t.blotName:i?t.attrName:void 0;return this.types[a]=t,i?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(s=>s.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(s=>{(this.tags[s]==null||t.className==null)&&(this.tags[s]=t)}))),t})}};k7.blots=new WeakMap;let rm=k7;function _k(e,n){return(e.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${n}-`)===0)}class NU extends Mc{static keys(n){return(n.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(n,t){return this.canAdd(n,t)?(this.remove(n),n.classList.add(`${this.keyName}-${t}`),!0):!1}remove(n){_k(n,this.keyName).forEach(t=>{n.classList.remove(t)}),n.classList.length===0&&n.removeAttribute("class")}value(n){const t=(_k(n,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(n,t)?t:""}}const Eu=NU;function B5(e){const n=e.split("-"),t=n.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return n[0]+t}class TU extends Mc{static keys(n){return(n.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(n,t){return this.canAdd(n,t)?(n.style[B5(this.keyName)]=t,!0):!1}remove(n){n.style[B5(this.keyName)]="",n.getAttribute("style")||n.removeAttribute("style")}value(n){const t=n.style[B5(this.keyName)];return this.canAdd(n,t)?t:""}}const fh=TU;class jU{constructor(n){this.attributes={},this.domNode=n,this.build()}attribute(n,t){t?n.add(this.domNode,t)&&(n.value(this.domNode)!=null?this.attributes[n.attrName]=n:delete this.attributes[n.attrName]):(n.remove(this.domNode),delete this.attributes[n.attrName])}build(){this.attributes={};const n=rm.find(this.domNode);if(n==null)return;const t=Mc.keys(this.domNode),r=Eu.keys(this.domNode),i=fh.keys(this.domNode);t.concat(r).concat(i).forEach(a=>{const s=n.scroll.query(a,Yt.ATTRIBUTE);s instanceof Mc&&(this.attributes[s.attrName]=s)})}copy(n){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);n.format(t,r)})}move(n){this.copy(n),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((n,t)=>(n[t]=this.attributes[t].value(this.domNode),n),{})}}const wv=jU,N7=class{constructor(n,t){this.scroll=n,this.domNode=t,rm.blots.set(t,this),this.prev=null,this.next=null}static create(n){if(this.tagName==null)throw new z0("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof n=="string"?(r=n.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof n=="number"&&(r=n),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const n=this.domNode.cloneNode(!1);return this.scroll.create(n)}detach(){this.parent!=null&&this.parent.removeChild(this),rm.blots.delete(this.domNode)}deleteAt(n,t){this.isolate(n,t).remove()}formatAt(n,t,r,i){const a=this.isolate(n,t);if(this.scroll.query(r,Yt.BLOT)!=null&&i)a.wrap(r,i);else if(this.scroll.query(r,Yt.ATTRIBUTE)!=null){const s=this.scroll.create(this.statics.scope);a.wrap(s),s.format(r,i)}}insertAt(n,t,r){const i=r==null?this.scroll.create("text",t):this.scroll.create(t,r),a=this.split(n);this.parent.insertBefore(i,a||void 0)}isolate(n,t){const r=this.split(n);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(n=this.parent){return this.parent==null||this===n?0:this.parent.children.offset(this)+this.parent.offset(n)}optimize(n){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(n,t){return n===0?this:this.next}update(n,t){}wrap(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new z0(`Cannot wrap ${n}`);return r.appendChild(this),r}};N7.blotName="abstract";let T7=N7;const j7=class extends T7{static value(n){return!0}index(n,t){return this.domNode===n||this.domNode.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(n,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return n>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};j7.scope=Yt.INLINE_BLOT;let OU=j7;const Fs=OU;class IU{constructor(){this.head=null,this.tail=null,this.length=0}append(...n){if(this.insertBefore(n[0],null),n.length>1){const t=n.slice(1);this.append(...t)}}at(n){const t=this.iterator();let r=t();for(;r&&n>0;)n-=1,r=t();return r}contains(n){const t=this.iterator();let r=t();for(;r;){if(r===n)return!0;r=t()}return!1}indexOf(n){const t=this.iterator();let r=t(),i=0;for(;r;){if(r===n)return i;i+=1,r=t()}return-1}insertBefore(n,t){n!=null&&(this.remove(n),n.next=t,t!=null?(n.prev=t.prev,t.prev!=null&&(t.prev.next=n),t.prev=n,t===this.head&&(this.head=n)):this.tail!=null?(this.tail.next=n,n.prev=this.tail,this.tail=n):(n.prev=null,this.head=this.tail=n),this.length+=1)}offset(n){let t=0,r=this.head;for(;r!=null;){if(r===n)return t;t+=r.length(),r=r.next}return-1}remove(n){this.contains(n)&&(n.prev!=null&&(n.prev.next=n.next),n.next!=null&&(n.next.prev=n.prev),n===this.head&&(this.head=n.next),n===this.tail&&(this.tail=n.prev),this.length-=1)}iterator(n=this.head){return()=>{const t=n;return n!=null&&(n=n.next),t}}find(n,t=!1){const r=this.iterator();let i=r();for(;i;){const a=i.length();if(n<a||t&&n===a&&(i.next==null||i.next.length()!==0))return[i,n];n-=a,i=r()}return[null,0]}forEach(n){const t=this.iterator();let r=t();for(;r;)n(r),r=t()}forEachAt(n,t,r){if(t<=0)return;const[i,a]=this.find(n);let s=n-a;const l=this.iterator(i);let u=l();for(;u&&s<n+t;){const d=u.length();n>s?r(u,n-s,Math.min(t,s+d-n)):r(u,0,Math.min(d,n+t-s)),s+=d,u=l()}}map(n){return this.reduce((t,r)=>(t.push(n(r)),t),[])}reduce(n,t){const r=this.iterator();let i=r();for(;i;)t=n(t,i),i=r();return t}}function kk(e,n){const t=n.find(e);if(t)return t;try{return n.create(e)}catch{const r=n.create(Yt.INLINE);return Array.from(e.childNodes).forEach(i=>{r.domNode.appendChild(i)}),e.parentNode&&e.parentNode.replaceChild(r.domNode,e),r.attach(),r}}const O7=class Lf extends T7{constructor(n,t){super(n,t),this.uiNode=null,this.build()}appendChild(n){this.insertBefore(n)}attach(){super.attach(),this.children.forEach(n=>{n.attach()})}attachUI(n){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=n,Lf.uiClass&&this.uiNode.classList.add(Lf.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new IU,Array.from(this.domNode.childNodes).filter(n=>n!==this.uiNode).reverse().forEach(n=>{try{const t=kk(n,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof z0)return;throw t}})}deleteAt(n,t){if(n===0&&t===this.length())return this.remove();this.children.forEachAt(n,t,(r,i,a)=>{r.deleteAt(i,a)})}descendant(n,t=0){const[r,i]=this.children.find(t);return n.blotName==null&&n(r)||n.blotName!=null&&r instanceof n?[r,i]:r instanceof Lf?r.descendant(n,i):[null,-1]}descendants(n,t=0,r=Number.MAX_VALUE){let i=[],a=r;return this.children.forEachAt(t,r,(s,l,u)=>{(n.blotName==null&&n(s)||n.blotName!=null&&s instanceof n)&&i.push(s),s instanceof Lf&&(i=i.concat(s.descendants(n,l,a))),a-=u}),i}detach(){this.children.forEach(n=>{n.detach()}),super.detach()}enforceAllowedChildren(){let n=!1;this.children.forEach(t=>{n||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===Yt.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),n=!0):t instanceof Lf?t.unwrap():t.remove())})}formatAt(n,t,r,i){this.children.forEachAt(n,t,(a,s,l)=>{a.formatAt(s,l,r,i)})}insertAt(n,t,r){const[i,a]=this.children.find(n);if(i)i.insertAt(a,t,r);else{const s=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(s)}}insertBefore(n,t){n.parent!=null&&n.parent.children.remove(n);let r=null;this.children.insertBefore(n,t||null),n.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==n.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(n.domNode,r),n.attach()}length(){return this.children.reduce((n,t)=>n+t.length(),0)}moveChildren(n,t){this.children.forEach(r=>{n.insertBefore(r,t)})}optimize(n){if(super.optimize(n),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(n,t=!1){const[r,i]=this.children.find(n,t),a=[[this,n]];return r instanceof Lf?a.concat(r.path(i,t)):(r!=null&&a.push([r,i]),a)}removeChild(n){this.children.remove(n)}replaceWith(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;return r instanceof Lf&&this.moveChildren(r),super.replaceWith(r)}split(n,t=!1){if(!t){if(n===0)return this;if(n===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(n,this.length(),(i,a,s)=>{const l=i.split(a,t);l!=null&&r.appendChild(l)}),r}splitAfter(n){const t=this.clone();for(;n.next!=null;)t.appendChild(n.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(n,t){const r=[],i=[];n.forEach(a=>{a.target===this.domNode&&a.type==="childList"&&(r.push(...a.addedNodes),i.push(...a.removedNodes))}),i.forEach(a=>{if(a.parentNode!=null&&a.tagName!=="IFRAME"&&document.body.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const s=this.scroll.find(a);s!=null&&(s.domNode.parentNode==null||s.domNode.parentNode===this.domNode)&&s.detach()}),r.filter(a=>a.parentNode===this.domNode&&a!==this.uiNode).sort((a,s)=>a===s?0:a.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(a=>{let s=null;a.nextSibling!=null&&(s=this.scroll.find(a.nextSibling));const l=kk(a,this.scroll);(l.next!==s||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,s||void 0))}),this.enforceAllowedChildren()}};O7.uiClass="";let DU=O7;const vu=DU;function LU(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const t in e)if(e[t]!==n[t])return!1;return!0}const k0=class N0 extends vu{static create(n){return super.create(n)}static formats(n,t){const r=t.query(N0.blotName);if(!(r!=null&&n.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return n.tagName.toLowerCase()}}constructor(n,t){super(n,t),this.attributes=new wv(this.domNode)}format(n,t){if(n===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof N0||(r=r.wrap(N0.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(n,Yt.INLINE);if(r==null)return;r instanceof Mc?this.attributes.attribute(r,t):t&&(n!==this.statics.blotName||this.formats()[n]!==t)&&this.replaceWith(n,t)}}formats(){const n=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(n[this.statics.blotName]=t),n}formatAt(n,t,r,i){this.formats()[r]!=null||this.scroll.query(r,Yt.ATTRIBUTE)?this.isolate(n,t).format(r,i):super.formatAt(n,t,r,i)}optimize(n){super.optimize(n);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof N0&&r.prev===this&&LU(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(n,t){const r=super.replaceWith(n,t);return this.attributes.copy(r),r}update(n,t){super.update(n,t),n.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(n,t){const r=super.wrap(n,t);return r instanceof N0&&this.attributes.move(r),r}};k0.allowedChildren=[k0,Fs],k0.blotName="inline",k0.scope=Yt.INLINE_BLOT,k0.tagName="SPAN";let RU=k0;const K6=RU,T0=class mS extends vu{static create(n){return super.create(n)}static formats(n,t){const r=t.query(mS.blotName);if(!(r!=null&&n.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return n.tagName.toLowerCase()}}constructor(n,t){super(n,t),this.attributes=new wv(this.domNode)}format(n,t){const r=this.scroll.query(n,Yt.BLOCK);r!=null&&(r instanceof Mc?this.attributes.attribute(r,t):n===this.statics.blotName&&!t?this.replaceWith(mS.blotName):t&&(n!==this.statics.blotName||this.formats()[n]!==t)&&this.replaceWith(n,t))}formats(){const n=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(n[this.statics.blotName]=t),n}formatAt(n,t,r,i){this.scroll.query(r,Yt.BLOCK)!=null?this.format(r,i):super.formatAt(n,t,r,i)}insertAt(n,t,r){if(r==null||this.scroll.query(t,Yt.INLINE)!=null)super.insertAt(n,t,r);else{const i=this.split(n);if(i!=null){const a=this.scroll.create(t,r);i.parent.insertBefore(a,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(n,t){const r=super.replaceWith(n,t);return this.attributes.copy(r),r}update(n,t){super.update(n,t),n.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};T0.blotName="block",T0.scope=Yt.BLOCK_BLOT,T0.tagName="P",T0.allowedChildren=[K6,T0,Fs];let MU=T0;const wg=MU,gS=class extends vu{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(n,t){super.deleteAt(n,t),this.enforceAllowedChildren()}formatAt(n,t,r,i){super.formatAt(n,t,r,i),this.enforceAllowedChildren()}insertAt(n,t,r){super.insertAt(n,t,r),this.enforceAllowedChildren()}optimize(n){super.optimize(n),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};gS.blotName="container",gS.scope=Yt.BLOCK_BLOT;let FU=gS;const Sv=FU;class PU extends Fs{static formats(n,t){}format(n,t){super.formatAt(0,this.length(),n,t)}formatAt(n,t,r,i){n===0&&t===this.length()?this.format(r,i):super.formatAt(n,t,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const rl=PU,zU={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},qU=100,j0=class extends vu{constructor(n,t){super(null,t),this.registry=n,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,zU),this.attach()}create(n,t){return this.registry.create(this,n,t)}find(n,t=!1){const r=this.registry.find(n,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(n,t=Yt.ANY){return this.registry.query(n,t)}register(...n){return this.registry.register(...n)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(n,t){this.update(),n===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(n,t)}formatAt(n,t,r,i){this.update(),super.formatAt(n,t,r,i)}insertAt(n,t,r){this.update(),super.insertAt(n,t,r)}optimize(n=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)n.push(i.pop());const a=(u,d=!0)=>{u==null||u===this||u.domNode.parentNode!=null&&(r.has(u.domNode)||r.set(u.domNode,[]),d&&a(u.parent))},s=u=>{r.has(u.domNode)&&(u instanceof vu&&u.children.forEach(s),r.delete(u.domNode),u.optimize(t))};let l=n;for(let u=0;l.length>0;u+=1){if(u>=qU)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(d=>{const f=this.find(d.target,!0);f!=null&&(f.domNode===d.target&&(d.type==="childList"?(a(this.find(d.previousSibling,!1)),Array.from(d.addedNodes).forEach(g=>{const b=this.find(g,!1);a(b,!1),b instanceof vu&&b.children.forEach(m=>{a(m,!1)})})):d.type==="attributes"&&a(f.prev)),a(f))}),this.children.forEach(s),l=Array.from(this.observer.takeRecords()),i=l.slice();i.length>0;)n.push(i.pop())}}update(n,t={}){n=n||this.observer.takeRecords();const r=new WeakMap;n.map(i=>{const a=this.find(i.target,!0);return a==null?null:r.has(a.domNode)?(r.get(a.domNode).push(i),null):(r.set(a.domNode,[i]),a)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(n,t)}};j0.blotName="scroll",j0.defaultChild=wg,j0.allowedChildren=[wg,Sv],j0.scope=Yt.BLOCK_BLOT,j0.tagName="DIV";let BU=j0;const X6=BU,bS=class I7 extends Fs{static create(n){return document.createTextNode(n)}static value(n){return n.data}constructor(n,t){super(n,t),this.text=this.statics.value(this.domNode)}deleteAt(n,t){this.domNode.data=this.text=this.text.slice(0,n)+this.text.slice(n+t)}index(n,t){return this.domNode===n?t:-1}insertAt(n,t,r){r==null?(this.text=this.text.slice(0,n)+t+this.text.slice(n),this.domNode.data=this.text):super.insertAt(n,t,r)}length(){return this.text.length}optimize(n){super.optimize(n),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof I7&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(n,t=!1){return[this.domNode,n]}split(n,t=!1){if(!t){if(n===0)return this;if(n===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(n));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(n,t){n.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};bS.blotName="text",bS.scope=Yt.INLINE_BLOT;let UU=bS;const Lx=UU,$U=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Mc,AttributorStore:wv,BlockBlot:wg,ClassAttributor:Eu,ContainerBlot:Sv,EmbedBlot:rl,InlineBlot:K6,LeafBlot:Fs,ParentBlot:vu,Registry:rm,Scope:Yt,ScrollBlot:X6,StyleAttributor:fh,TextBlot:Lx},Symbol.toStringTag,{value:"Module"}));var Sy={exports:{}},U5,Nk;function HU(){if(Nk)return U5;Nk=1;var e=-1,n=1,t=0;function r(T,O,P,j,G){if(T===O)return T?[[t,T]]:[];if(P!=null){var W=B(T,O,P);if(W)return W}var K=l(T,O),ie=T.substring(0,K);T=T.substring(K),O=O.substring(K),K=d(T,O);var ce=T.substring(T.length-K);T=T.substring(0,T.length-K),O=O.substring(0,O.length-K);var $=i(T,O);return ie&&$.unshift([t,ie]),ce&&$.push([t,ce]),C($,G),j&&g($),$}function i(T,O){var P;if(!T)return[[n,O]];if(!O)return[[e,T]];var j=T.length>O.length?T:O,G=T.length>O.length?O:T,W=j.indexOf(G);if(W!==-1)return P=[[n,j.substring(0,W)],[t,G],[n,j.substring(W+G.length)]],T.length>O.length&&(P[0][0]=P[2][0]=e),P;if(G.length===1)return[[e,T],[n,O]];var K=f(T,O);if(K){var ie=K[0],ce=K[1],$=K[2],ae=K[3],U=K[4],z=r(ie,$),Z=r(ce,ae);return z.concat([[t,U]],Z)}return a(T,O)}function a(T,O){for(var P=T.length,j=O.length,G=Math.ceil((P+j)/2),W=G,K=2*G,ie=new Array(K),ce=new Array(K),$=0;$<K;$++)ie[$]=-1,ce[$]=-1;ie[W+1]=0,ce[W+1]=0;for(var ae=P-j,U=ae%2!==0,z=0,Z=0,ee=0,oe=0,we=0;we<G;we++){for(var xe=-we+z;xe<=we-Z;xe+=2){var Ee=W+xe,De;xe===-we||xe!==we&&ie[Ee-1]<ie[Ee+1]?De=ie[Ee+1]:De=ie[Ee-1]+1;for(var Me=De-xe;De<P&&Me<j&&T.charAt(De)===O.charAt(Me);)De++,Me++;if(ie[Ee]=De,De>P)Z+=2;else if(Me>j)z+=2;else if(U){var We=W+ae-xe;if(We>=0&&We<K&&ce[We]!==-1){var Ye=P-ce[We];if(De>=Ye)return s(T,O,De,Me)}}}for(var Y=-we+ee;Y<=we-oe;Y+=2){var We=W+Y,Ye;Y===-we||Y!==we&&ce[We-1]<ce[We+1]?Ye=ce[We+1]:Ye=ce[We-1]+1;for(var Se=Ye-Y;Ye<P&&Se<j&&T.charAt(P-Ye-1)===O.charAt(j-Se-1);)Ye++,Se++;if(ce[We]=Ye,Ye>P)oe+=2;else if(Se>j)ee+=2;else if(!U){var Ee=W+ae-Y;if(Ee>=0&&Ee<K&&ie[Ee]!==-1){var De=ie[Ee],Me=W+De-Ee;if(Ye=P-Ye,De>=Ye)return s(T,O,De,Me)}}}}return[[e,T],[n,O]]}function s(T,O,P,j){var G=T.substring(0,P),W=O.substring(0,j),K=T.substring(P),ie=O.substring(j),ce=r(G,W),$=r(K,ie);return ce.concat($)}function l(T,O){if(!T||!O||T.charAt(0)!==O.charAt(0))return 0;for(var P=0,j=Math.min(T.length,O.length),G=j,W=0;P<G;)T.substring(W,G)==O.substring(W,G)?(P=G,W=P):j=G,G=Math.floor((j-P)/2+P);return N(T.charCodeAt(G-1))&&G--,G}function u(T,O){var P=T.length,j=O.length;if(P==0||j==0)return 0;P>j?T=T.substring(P-j):P<j&&(O=O.substring(0,P));var G=Math.min(P,j);if(T==O)return G;for(var W=0,K=1;;){var ie=T.substring(G-K),ce=O.indexOf(ie);if(ce==-1)return W;K+=ce,(ce==0||T.substring(G-K)==O.substring(0,K))&&(W=K,K++)}}function d(T,O){if(!T||!O||T.slice(-1)!==O.slice(-1))return 0;for(var P=0,j=Math.min(T.length,O.length),G=j,W=0;P<G;)T.substring(T.length-G,T.length-W)==O.substring(O.length-G,O.length-W)?(P=G,W=P):j=G,G=Math.floor((j-P)/2+P);return R(T.charCodeAt(T.length-G))&&G--,G}function f(T,O){var P=T.length>O.length?T:O,j=T.length>O.length?O:T;if(P.length<4||j.length*2<P.length)return null;function G(Z,ee,oe){for(var we=Z.substring(oe,oe+Math.floor(Z.length/4)),xe=-1,Ee="",De,Me,We,Ye;(xe=ee.indexOf(we,xe+1))!==-1;){var Y=l(Z.substring(oe),ee.substring(xe)),Se=d(Z.substring(0,oe),ee.substring(0,xe));Ee.length<Se+Y&&(Ee=ee.substring(xe-Se,xe)+ee.substring(xe,xe+Y),De=Z.substring(0,oe-Se),Me=Z.substring(oe+Y),We=ee.substring(0,xe-Se),Ye=ee.substring(xe+Y))}return Ee.length*2>=Z.length?[De,Me,We,Ye,Ee]:null}var W=G(P,j,Math.ceil(P.length/4)),K=G(P,j,Math.ceil(P.length/2)),ie;if(!W&&!K)return null;K?W?ie=W[4].length>K[4].length?W:K:ie=K:ie=W;var ce,$,ae,U;T.length>O.length?(ce=ie[0],$=ie[1],ae=ie[2],U=ie[3]):(ae=ie[0],U=ie[1],ce=ie[2],$=ie[3]);var z=ie[4];return[ce,$,ae,U,z]}function g(T){for(var O=!1,P=[],j=0,G=null,W=0,K=0,ie=0,ce=0,$=0;W<T.length;)T[W][0]==t?(P[j++]=W,K=ce,ie=$,ce=0,$=0,G=T[W][1]):(T[W][0]==n?ce+=T[W][1].length:$+=T[W][1].length,G&&G.length<=Math.max(K,ie)&&G.length<=Math.max(ce,$)&&(T.splice(P[j-1],0,[e,G]),T[P[j-1]+1][0]=n,j--,j--,W=j>0?P[j-1]:-1,K=0,ie=0,ce=0,$=0,G=null,O=!0)),W++;for(O&&C(T),w(T),W=1;W<T.length;){if(T[W-1][0]==e&&T[W][0]==n){var ae=T[W-1][1],U=T[W][1],z=u(ae,U),Z=u(U,ae);z>=Z?(z>=ae.length/2||z>=U.length/2)&&(T.splice(W,0,[t,U.substring(0,z)]),T[W-1][1]=ae.substring(0,ae.length-z),T[W+1][1]=U.substring(z),W++):(Z>=ae.length/2||Z>=U.length/2)&&(T.splice(W,0,[t,ae.substring(0,Z)]),T[W-1][0]=n,T[W-1][1]=U.substring(0,U.length-Z),T[W+1][0]=e,T[W+1][1]=ae.substring(Z),W++),W++}W++}}var b=/[^a-zA-Z0-9]/,m=/\s/,x=/[\r\n]/,y=/\n\r?\n$/,A=/^\r?\n\r?\n/;function w(T){function O(Z,ee){if(!Z||!ee)return 6;var oe=Z.charAt(Z.length-1),we=ee.charAt(0),xe=oe.match(b),Ee=we.match(b),De=xe&&oe.match(m),Me=Ee&&we.match(m),We=De&&oe.match(x),Ye=Me&&we.match(x),Y=We&&Z.match(y),Se=Ye&&ee.match(A);return Y||Se?5:We||Ye?4:xe&&!De&&Me?3:De||Me?2:xe||Ee?1:0}for(var P=1;P<T.length-1;){if(T[P-1][0]==t&&T[P+1][0]==t){var j=T[P-1][1],G=T[P][1],W=T[P+1][1],K=d(j,G);if(K){var ie=G.substring(G.length-K);j=j.substring(0,j.length-K),G=ie+G.substring(0,G.length-K),W=ie+W}for(var ce=j,$=G,ae=W,U=O(j,G)+O(G,W);G.charAt(0)===W.charAt(0);){j+=G.charAt(0),G=G.substring(1)+W.charAt(0),W=W.substring(1);var z=O(j,G)+O(G,W);z>=U&&(U=z,ce=j,$=G,ae=W)}T[P-1][1]!=ce&&(ce?T[P-1][1]=ce:(T.splice(P-1,1),P--),T[P][1]=$,ae?T[P+1][1]=ae:(T.splice(P+1,1),P--))}P++}}function C(T,O){T.push([t,""]);for(var P=0,j=0,G=0,W="",K="",ie;P<T.length;){if(P<T.length-1&&!T[P][1]){T.splice(P,1);continue}switch(T[P][0]){case n:G++,K+=T[P][1],P++;break;case e:j++,W+=T[P][1],P++;break;case t:var ce=P-G-j-1;if(O){if(ce>=0&&q(T[ce][1])){var $=T[ce][1].slice(-1);if(T[ce][1]=T[ce][1].slice(0,-1),W=$+W,K=$+K,!T[ce][1]){T.splice(ce,1),P--;var ae=ce-1;T[ae]&&T[ae][0]===n&&(G++,K=T[ae][1]+K,ae--),T[ae]&&T[ae][0]===e&&(j++,W=T[ae][1]+W,ae--),ce=ae}}if(F(T[P][1])){var $=T[P][1].charAt(0);T[P][1]=T[P][1].slice(1),W+=$,K+=$}}if(P<T.length-1&&!T[P][1]){T.splice(P,1);break}if(W.length>0||K.length>0){W.length>0&&K.length>0&&(ie=l(K,W),ie!==0&&(ce>=0?T[ce][1]+=K.substring(0,ie):(T.splice(0,0,[t,K.substring(0,ie)]),P++),K=K.substring(ie),W=W.substring(ie)),ie=d(K,W),ie!==0&&(T[P][1]=K.substring(K.length-ie)+T[P][1],K=K.substring(0,K.length-ie),W=W.substring(0,W.length-ie)));var U=G+j;W.length===0&&K.length===0?(T.splice(P-U,U),P=P-U):W.length===0?(T.splice(P-U,U,[n,K]),P=P-U+1):K.length===0?(T.splice(P-U,U,[e,W]),P=P-U+1):(T.splice(P-U,U,[e,W],[n,K]),P=P-U+2)}P!==0&&T[P-1][0]===t?(T[P-1][1]+=T[P][1],T.splice(P,1)):P++,G=0,j=0,W="",K="";break}}T[T.length-1][1]===""&&T.pop();var z=!1;for(P=1;P<T.length-1;)T[P-1][0]===t&&T[P+1][0]===t&&(T[P][1].substring(T[P][1].length-T[P-1][1].length)===T[P-1][1]?(T[P][1]=T[P-1][1]+T[P][1].substring(0,T[P][1].length-T[P-1][1].length),T[P+1][1]=T[P-1][1]+T[P+1][1],T.splice(P-1,1),z=!0):T[P][1].substring(0,T[P+1][1].length)==T[P+1][1]&&(T[P-1][1]+=T[P+1][1],T[P][1]=T[P][1].substring(T[P+1][1].length)+T[P+1][1],T.splice(P+1,1),z=!0)),P++;z&&C(T,O)}function N(T){return T>=55296&&T<=56319}function R(T){return T>=56320&&T<=57343}function F(T){return R(T.charCodeAt(0))}function q(T){return N(T.charCodeAt(T.length-1))}function k(T){for(var O=[],P=0;P<T.length;P++)T[P][1].length>0&&O.push(T[P]);return O}function L(T,O,P,j){return q(T)||F(j)?null:k([[t,T],[e,O],[n,P],[t,j]])}function B(T,O,P){var j=typeof P=="number"?{index:P,length:0}:P.oldRange,G=typeof P=="number"?null:P.newRange,W=T.length,K=O.length;if(j.length===0&&(G===null||G.length===0)){var ie=j.index,ce=T.slice(0,ie),$=T.slice(ie),ae=G?G.index:null;e:{var U=ie+K-W;if(ae!==null&&ae!==U||U<0||U>K)break e;var z=O.slice(0,U),Z=O.slice(U);if(Z!==$)break e;var ee=Math.min(ie,U),oe=ce.slice(0,ee),we=z.slice(0,ee);if(oe!==we)break e;var xe=ce.slice(ee),Ee=z.slice(ee);return L(oe,xe,Ee,$)}e:{if(ae!==null&&ae!==ie)break e;var De=ie,z=O.slice(0,De),Z=O.slice(De);if(z!==ce)break e;var Me=Math.min(W-De,K-De),We=$.slice($.length-Me),Ye=Z.slice(Z.length-Me);if(We!==Ye)break e;var xe=$.slice(0,$.length-Me),Ee=Z.slice(0,Z.length-Me);return L(ce,xe,Ee,We)}}if(j.length>0&&G&&G.length===0)e:{var oe=T.slice(0,j.index),We=T.slice(j.index+j.length),ee=oe.length,Me=We.length;if(K<ee+Me)break e;var we=O.slice(0,ee),Ye=O.slice(K-Me);if(oe!==we||We!==Ye)break e;var xe=T.slice(ee,W-Me),Ee=O.slice(ee,K-Me);return L(oe,xe,Ee,We)}return null}function X(T,O,P,j){return r(T,O,P,j,!0)}return X.INSERT=n,X.DELETE=e,X.EQUAL=t,U5=X,U5}var G1={exports:{}};G1.exports;var Tk;function D7(){return Tk||(Tk=1,function(e,n){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",s="[object Array]",l="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Function]",g="[object GeneratorFunction]",b="[object Map]",m="[object Number]",x="[object Object]",y="[object Promise]",A="[object RegExp]",w="[object Set]",C="[object String]",N="[object Symbol]",R="[object WeakMap]",F="[object ArrayBuffer]",q="[object DataView]",k="[object Float32Array]",L="[object Float64Array]",B="[object Int8Array]",X="[object Int16Array]",T="[object Int32Array]",O="[object Uint8Array]",P="[object Uint8ClampedArray]",j="[object Uint16Array]",G="[object Uint32Array]",W=/[\\^$.*+?()[\]{}|]/g,K=/\w*$/,ie=/^\[object .+?Constructor\]$/,ce=/^(?:0|[1-9]\d*)$/,$={};$[a]=$[s]=$[F]=$[q]=$[l]=$[u]=$[k]=$[L]=$[B]=$[X]=$[T]=$[b]=$[m]=$[x]=$[A]=$[w]=$[C]=$[N]=$[O]=$[P]=$[j]=$[G]=!0,$[d]=$[f]=$[R]=!1;var ae=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,U=typeof self=="object"&&self&&self.Object===Object&&self,z=ae||U||Function("return this")(),Z=n&&!n.nodeType&&n,ee=Z&&!0&&e&&!e.nodeType&&e,oe=ee&&ee.exports===Z;function we(H,me){return H.set(me[0],me[1]),H}function xe(H,me){return H.add(me),H}function Ee(H,me){for(var Oe=-1,lt=H?H.length:0;++Oe<lt&&me(H[Oe],Oe,H)!==!1;);return H}function De(H,me){for(var Oe=-1,lt=me.length,Jt=H.length;++Oe<lt;)H[Jt+Oe]=me[Oe];return H}function Me(H,me,Oe,lt){for(var Jt=-1,Bt=H?H.length:0;++Jt<Bt;)Oe=me(Oe,H[Jt],Jt,H);return Oe}function We(H,me){for(var Oe=-1,lt=Array(H);++Oe<H;)lt[Oe]=me(Oe);return lt}function Ye(H,me){return H==null?void 0:H[me]}function Y(H){var me=!1;if(H!=null&&typeof H.toString!="function")try{me=!!(H+"")}catch{}return me}function Se(H){var me=-1,Oe=Array(H.size);return H.forEach(function(lt,Jt){Oe[++me]=[Jt,lt]}),Oe}function te(H,me){return function(Oe){return H(me(Oe))}}function be(H){var me=-1,Oe=Array(H.size);return H.forEach(function(lt){Oe[++me]=lt}),Oe}var de=Array.prototype,Ae=Function.prototype,Le=Object.prototype,qe=z["__core-js_shared__"],Ne=function(){var H=/[^.]+$/.exec(qe&&qe.keys&&qe.keys.IE_PROTO||"");return H?"Symbol(src)_1."+H:""}(),Xe=Ae.toString,ut=Le.hasOwnProperty,nt=Le.toString,Pe=RegExp("^"+Xe.call(ut).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ve=oe?z.Buffer:void 0,ke=z.Symbol,je=z.Uint8Array,ft=te(Object.getPrototypeOf,Object),Je=Object.create,Ft=Le.propertyIsEnumerable,kt=de.splice,Vt=Object.getOwnPropertySymbols,Rt=ve?ve.isBuffer:void 0,Zt=te(Object.keys,Object),nn=qi(z,"DataView"),ln=qi(z,"Map"),Pn=qi(z,"Promise"),zn=qi(z,"Set"),Gr=qi(z,"WeakMap"),ir=qi(Object,"create"),Rn=Jr(nn),Gt=Jr(ln),An=Jr(Pn),ya=Jr(zn),Sr=Jr(Gr),si=ke?ke.prototype:void 0,xa=si?si.valueOf:void 0;function Lt(H){var me=-1,Oe=H?H.length:0;for(this.clear();++me<Oe;){var lt=H[me];this.set(lt[0],lt[1])}}function Hn(){this.__data__=ir?ir(null):{}}function ar(H){return this.has(H)&&delete this.__data__[H]}function Mr(H){var me=this.__data__;if(ir){var Oe=me[H];return Oe===r?void 0:Oe}return ut.call(me,H)?me[H]:void 0}function dr(H){var me=this.__data__;return ir?me[H]!==void 0:ut.call(me,H)}function fr(H,me){var Oe=this.__data__;return Oe[H]=ir&&me===void 0?r:me,this}Lt.prototype.clear=Hn,Lt.prototype.delete=ar,Lt.prototype.get=Mr,Lt.prototype.has=dr,Lt.prototype.set=fr;function $n(H){var me=-1,Oe=H?H.length:0;for(this.clear();++me<Oe;){var lt=H[me];this.set(lt[0],lt[1])}}function bs(){this.__data__=[]}function Nr(H){var me=this.__data__,Oe=xs(me,H);if(Oe<0)return!1;var lt=me.length-1;return Oe==lt?me.pop():kt.call(me,Oe,1),!0}function Ia(H){var me=this.__data__,Oe=xs(me,H);return Oe<0?void 0:me[Oe][1]}function Pi(H){return xs(this.__data__,H)>-1}function zi(H,me){var Oe=this.__data__,lt=xs(Oe,H);return lt<0?Oe.push([H,me]):Oe[lt][1]=me,this}$n.prototype.clear=bs,$n.prototype.delete=Nr,$n.prototype.get=Ia,$n.prototype.has=Pi,$n.prototype.set=zi;function Jn(H){var me=-1,Oe=H?H.length:0;for(this.clear();++me<Oe;){var lt=H[me];this.set(lt[0],lt[1])}}function Ci(){this.__data__={hash:new Lt,map:new(ln||$n),string:new Lt}}function er(H){return Ws(this,H).delete(H)}function ro(H){return Ws(this,H).get(H)}function Co(H){return Ws(this,H).has(H)}function Fa(H,me){return Ws(this,H).set(H,me),this}Jn.prototype.clear=Ci,Jn.prototype.delete=er,Jn.prototype.get=ro,Jn.prototype.has=Co,Jn.prototype.set=Fa;function Fr(H){this.__data__=new $n(H)}function il(){this.__data__=new $n}function Ul(H){return this.__data__.delete(H)}function Iu(H){return this.__data__.get(H)}function $c(H){return this.__data__.has(H)}function $s(H,me){var Oe=this.__data__;if(Oe instanceof $n){var lt=Oe.__data__;if(!ln||lt.length<t-1)return lt.push([H,me]),this;Oe=this.__data__=new Jn(lt)}return Oe.set(H,me),this}Fr.prototype.clear=il,Fr.prototype.delete=Ul,Fr.prototype.get=Iu,Fr.prototype.has=$c,Fr.prototype.set=$s;function ys(H,me){var Oe=ul(H)||so(H)?We(H.length,String):[],lt=Oe.length,Jt=!!lt;for(var Bt in H)ut.call(H,Bt)&&!(Jt&&(Bt=="length"||ol(Bt,lt)))&&Oe.push(Bt);return Oe}function Pa(H,me,Oe){var lt=H[me];(!(ut.call(H,me)&&tn(lt,Oe))||Oe===void 0&&!(me in H))&&(H[me]=Oe)}function xs(H,me){for(var Oe=H.length;Oe--;)if(tn(H[Oe][0],me))return Oe;return-1}function rs(H,me){return H&&_o(me,cl(me),H)}function is(H,me,Oe,lt,Jt,Bt,Tn){var Cn;if(lt&&(Cn=Bt?lt(H,Jt,Bt,Tn):lt(H)),Cn!==void 0)return Cn;if(!$a(H))return H;var pr=ul(H);if(pr){if(Cn=Lu(H),!me)return Wl(H,Cn)}else{var pn=vs(H),Tr=pn==f||pn==g;if(ko(H))return ao(H,me);if(pn==x||pn==a||Tr&&!Bt){if(Y(H))return Bt?H:{};if(Cn=qa(Tr?{}:H),!me)return Hs(H,rs(Cn,H))}else{if(!$[pn])return Bt?H:{};Cn=Ys(H,pn,is,me)}}Tn||(Tn=new Fr);var va=Tn.get(H);if(va)return va;if(Tn.set(H,Cn),!pr)var Ar=Oe?Du(H):cl(H);return Ee(Ar||H,function(Cr,Qr){Ar&&(Qr=Cr,Cr=H[Qr]),Pa(Cn,Qr,is(Cr,me,Oe,lt,Qr,H,Tn))}),Cn}function $l(H){return $a(H)?Je(H):{}}function io(H,me,Oe){var lt=me(H);return ul(H)?lt:De(lt,Oe(H))}function Hc(H){return nt.call(H)}function Pr(H){if(!$a(H)||ll(H))return!1;var me=Ua(H)||Y(H)?Pe:ie;return me.test(Jr(H))}function Ji(H){if(!oi(H))return Zt(H);var me=[];for(var Oe in Object(H))ut.call(H,Oe)&&Oe!="constructor"&&me.push(Oe);return me}function ao(H,me){if(me)return H.slice();var Oe=new H.constructor(H.length);return H.copy(Oe),Oe}function al(H){var me=new H.constructor(H.byteLength);return new je(me).set(new je(H)),me}function za(H,me){var Oe=me?al(H.buffer):H.buffer;return new H.constructor(Oe,H.byteOffset,H.byteLength)}function Hl(H,me,Oe){var lt=me?Oe(Se(H),!0):Se(H);return Me(lt,we,new H.constructor)}function ea(H){var me=new H.constructor(H.source,K.exec(H));return me.lastIndex=H.lastIndex,me}function sl(H,me,Oe){var lt=me?Oe(be(H),!0):be(H);return Me(lt,xe,new H.constructor)}function hr(H){return xa?Object(xa.call(H)):{}}function Eo(H,me){var Oe=me?al(H.buffer):H.buffer;return new H.constructor(Oe,H.byteOffset,H.length)}function Wl(H,me){var Oe=-1,lt=H.length;for(me||(me=Array(lt));++Oe<lt;)me[Oe]=H[Oe];return me}function _o(H,me,Oe,lt){Oe||(Oe={});for(var Jt=-1,Bt=me.length;++Jt<Bt;){var Tn=me[Jt],Cn=void 0;Pa(Oe,Tn,Cn===void 0?H[Tn]:Cn)}return Oe}function Hs(H,me){return _o(H,as(H),me)}function Du(H){return io(H,cl,as)}function Ws(H,me){var Oe=H.__data__;return Vs(me)?Oe[typeof me=="string"?"string":"hash"]:Oe.map}function qi(H,me){var Oe=Ye(H,me);return Pr(Oe)?Oe:void 0}var as=Vt?te(Vt,Object):oo,vs=Hc;(nn&&vs(new nn(new ArrayBuffer(1)))!=q||ln&&vs(new ln)!=b||Pn&&vs(Pn.resolve())!=y||zn&&vs(new zn)!=w||Gr&&vs(new Gr)!=R)&&(vs=function(H){var me=nt.call(H),Oe=me==x?H.constructor:void 0,lt=Oe?Jr(Oe):void 0;if(lt)switch(lt){case Rn:return q;case Gt:return b;case An:return y;case ya:return w;case Sr:return R}return me});function Lu(H){var me=H.length,Oe=H.constructor(me);return me&&typeof H[0]=="string"&&ut.call(H,"index")&&(Oe.index=H.index,Oe.input=H.input),Oe}function qa(H){return typeof H.constructor=="function"&&!oi(H)?$l(ft(H)):{}}function Ys(H,me,Oe,lt){var Jt=H.constructor;switch(me){case F:return al(H);case l:case u:return new Jt(+H);case q:return za(H,lt);case k:case L:case B:case X:case T:case O:case P:case j:case G:return Eo(H,lt);case b:return Hl(H,lt,Oe);case m:case C:return new Jt(H);case A:return ea(H);case w:return sl(H,lt,Oe);case N:return hr(H)}}function ol(H,me){return me=me??i,!!me&&(typeof H=="number"||ce.test(H))&&H>-1&&H%1==0&&H<me}function Vs(H){var me=typeof H;return me=="string"||me=="number"||me=="symbol"||me=="boolean"?H!=="__proto__":H===null}function ll(H){return!!Ne&&Ne in H}function oi(H){var me=H&&H.constructor,Oe=typeof me=="function"&&me.prototype||Le;return H===Oe}function Jr(H){if(H!=null){try{return Xe.call(H)}catch{}try{return H+""}catch{}}return""}function ws(H){return is(H,!0,!0)}function tn(H,me){return H===me||H!==H&&me!==me}function so(H){return Ba(H)&&ut.call(H,"callee")&&(!Ft.call(H,"callee")||nt.call(H)==a)}var ul=Array.isArray;function Ei(H){return H!=null&&Da(H.length)&&!Ua(H)}function Ba(H){return No(H)&&Ei(H)}var ko=Rt||Ss;function Ua(H){var me=$a(H)?nt.call(H):"";return me==f||me==g}function Da(H){return typeof H=="number"&&H>-1&&H%1==0&&H<=i}function $a(H){var me=typeof H;return!!H&&(me=="object"||me=="function")}function No(H){return!!H&&typeof H=="object"}function cl(H){return Ei(H)?ys(H):Ji(H)}function oo(){return[]}function Ss(){return!1}e.exports=ws}(G1,G1.exports)),G1.exports}var Q1={exports:{}};Q1.exports;var jk;function L7(){return jk||(jk=1,function(e,n){var t=200,r="__lodash_hash_undefined__",i=1,a=2,s=9007199254740991,l="[object Arguments]",u="[object Array]",d="[object AsyncFunction]",f="[object Boolean]",g="[object Date]",b="[object Error]",m="[object Function]",x="[object GeneratorFunction]",y="[object Map]",A="[object Number]",w="[object Null]",C="[object Object]",N="[object Promise]",R="[object Proxy]",F="[object RegExp]",q="[object Set]",k="[object String]",L="[object Symbol]",B="[object Undefined]",X="[object WeakMap]",T="[object ArrayBuffer]",O="[object DataView]",P="[object Float32Array]",j="[object Float64Array]",G="[object Int8Array]",W="[object Int16Array]",K="[object Int32Array]",ie="[object Uint8Array]",ce="[object Uint8ClampedArray]",$="[object Uint16Array]",ae="[object Uint32Array]",U=/[\\^$.*+?()[\]{}|]/g,z=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,ee={};ee[P]=ee[j]=ee[G]=ee[W]=ee[K]=ee[ie]=ee[ce]=ee[$]=ee[ae]=!0,ee[l]=ee[u]=ee[T]=ee[f]=ee[O]=ee[g]=ee[b]=ee[m]=ee[y]=ee[A]=ee[C]=ee[F]=ee[q]=ee[k]=ee[X]=!1;var oe=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,we=typeof self=="object"&&self&&self.Object===Object&&self,xe=oe||we||Function("return this")(),Ee=n&&!n.nodeType&&n,De=Ee&&!0&&e&&!e.nodeType&&e,Me=De&&De.exports===Ee,We=Me&&oe.process,Ye=function(){try{return We&&We.binding&&We.binding("util")}catch{}}(),Y=Ye&&Ye.isTypedArray;function Se(H,me){for(var Oe=-1,lt=H==null?0:H.length,Jt=0,Bt=[];++Oe<lt;){var Tn=H[Oe];me(Tn,Oe,H)&&(Bt[Jt++]=Tn)}return Bt}function te(H,me){for(var Oe=-1,lt=me.length,Jt=H.length;++Oe<lt;)H[Jt+Oe]=me[Oe];return H}function be(H,me){for(var Oe=-1,lt=H==null?0:H.length;++Oe<lt;)if(me(H[Oe],Oe,H))return!0;return!1}function de(H,me){for(var Oe=-1,lt=Array(H);++Oe<H;)lt[Oe]=me(Oe);return lt}function Ae(H){return function(me){return H(me)}}function Le(H,me){return H.has(me)}function qe(H,me){return H==null?void 0:H[me]}function Ne(H){var me=-1,Oe=Array(H.size);return H.forEach(function(lt,Jt){Oe[++me]=[Jt,lt]}),Oe}function Xe(H,me){return function(Oe){return H(me(Oe))}}function ut(H){var me=-1,Oe=Array(H.size);return H.forEach(function(lt){Oe[++me]=lt}),Oe}var nt=Array.prototype,Pe=Function.prototype,ve=Object.prototype,ke=xe["__core-js_shared__"],je=Pe.toString,ft=ve.hasOwnProperty,Je=function(){var H=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||"");return H?"Symbol(src)_1."+H:""}(),Ft=ve.toString,kt=RegExp("^"+je.call(ft).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vt=Me?xe.Buffer:void 0,Rt=xe.Symbol,Zt=xe.Uint8Array,nn=ve.propertyIsEnumerable,ln=nt.splice,Pn=Rt?Rt.toStringTag:void 0,zn=Object.getOwnPropertySymbols,Gr=Vt?Vt.isBuffer:void 0,ir=Xe(Object.keys,Object),Rn=as(xe,"DataView"),Gt=as(xe,"Map"),An=as(xe,"Promise"),ya=as(xe,"Set"),Sr=as(xe,"WeakMap"),si=as(Object,"create"),xa=Jr(Rn),Lt=Jr(Gt),Hn=Jr(An),ar=Jr(ya),Mr=Jr(Sr),dr=Rt?Rt.prototype:void 0,fr=dr?dr.valueOf:void 0;function $n(H){var me=-1,Oe=H==null?0:H.length;for(this.clear();++me<Oe;){var lt=H[me];this.set(lt[0],lt[1])}}function bs(){this.__data__=si?si(null):{},this.size=0}function Nr(H){var me=this.has(H)&&delete this.__data__[H];return this.size-=me?1:0,me}function Ia(H){var me=this.__data__;if(si){var Oe=me[H];return Oe===r?void 0:Oe}return ft.call(me,H)?me[H]:void 0}function Pi(H){var me=this.__data__;return si?me[H]!==void 0:ft.call(me,H)}function zi(H,me){var Oe=this.__data__;return this.size+=this.has(H)?0:1,Oe[H]=si&&me===void 0?r:me,this}$n.prototype.clear=bs,$n.prototype.delete=Nr,$n.prototype.get=Ia,$n.prototype.has=Pi,$n.prototype.set=zi;function Jn(H){var me=-1,Oe=H==null?0:H.length;for(this.clear();++me<Oe;){var lt=H[me];this.set(lt[0],lt[1])}}function Ci(){this.__data__=[],this.size=0}function er(H){var me=this.__data__,Oe=ao(me,H);if(Oe<0)return!1;var lt=me.length-1;return Oe==lt?me.pop():ln.call(me,Oe,1),--this.size,!0}function ro(H){var me=this.__data__,Oe=ao(me,H);return Oe<0?void 0:me[Oe][1]}function Co(H){return ao(this.__data__,H)>-1}function Fa(H,me){var Oe=this.__data__,lt=ao(Oe,H);return lt<0?(++this.size,Oe.push([H,me])):Oe[lt][1]=me,this}Jn.prototype.clear=Ci,Jn.prototype.delete=er,Jn.prototype.get=ro,Jn.prototype.has=Co,Jn.prototype.set=Fa;function Fr(H){var me=-1,Oe=H==null?0:H.length;for(this.clear();++me<Oe;){var lt=H[me];this.set(lt[0],lt[1])}}function il(){this.size=0,this.__data__={hash:new $n,map:new(Gt||Jn),string:new $n}}function Ul(H){var me=qi(this,H).delete(H);return this.size-=me?1:0,me}function Iu(H){return qi(this,H).get(H)}function $c(H){return qi(this,H).has(H)}function $s(H,me){var Oe=qi(this,H),lt=Oe.size;return Oe.set(H,me),this.size+=Oe.size==lt?0:1,this}Fr.prototype.clear=il,Fr.prototype.delete=Ul,Fr.prototype.get=Iu,Fr.prototype.has=$c,Fr.prototype.set=$s;function ys(H){var me=-1,Oe=H==null?0:H.length;for(this.__data__=new Fr;++me<Oe;)this.add(H[me])}function Pa(H){return this.__data__.set(H,r),this}function xs(H){return this.__data__.has(H)}ys.prototype.add=ys.prototype.push=Pa,ys.prototype.has=xs;function rs(H){var me=this.__data__=new Jn(H);this.size=me.size}function is(){this.__data__=new Jn,this.size=0}function $l(H){var me=this.__data__,Oe=me.delete(H);return this.size=me.size,Oe}function io(H){return this.__data__.get(H)}function Hc(H){return this.__data__.has(H)}function Pr(H,me){var Oe=this.__data__;if(Oe instanceof Jn){var lt=Oe.__data__;if(!Gt||lt.length<t-1)return lt.push([H,me]),this.size=++Oe.size,this;Oe=this.__data__=new Fr(lt)}return Oe.set(H,me),this.size=Oe.size,this}rs.prototype.clear=is,rs.prototype.delete=$l,rs.prototype.get=io,rs.prototype.has=Hc,rs.prototype.set=Pr;function Ji(H,me){var Oe=so(H),lt=!Oe&&tn(H),Jt=!Oe&&!lt&&Ei(H),Bt=!Oe&&!lt&&!Jt&&No(H),Tn=Oe||lt||Jt||Bt,Cn=Tn?de(H.length,String):[],pr=Cn.length;for(var pn in H)ft.call(H,pn)&&!(Tn&&(pn=="length"||Jt&&(pn=="offset"||pn=="parent")||Bt&&(pn=="buffer"||pn=="byteLength"||pn=="byteOffset")||Ys(pn,pr)))&&Cn.push(pn);return Cn}function ao(H,me){for(var Oe=H.length;Oe--;)if(ws(H[Oe][0],me))return Oe;return-1}function al(H,me,Oe){var lt=me(H);return so(H)?lt:te(lt,Oe(H))}function za(H){return H==null?H===void 0?B:w:Pn&&Pn in Object(H)?vs(H):oi(H)}function Hl(H){return $a(H)&&za(H)==l}function ea(H,me,Oe,lt,Jt){return H===me?!0:H==null||me==null||!$a(H)&&!$a(me)?H!==H&&me!==me:sl(H,me,Oe,lt,ea,Jt)}function sl(H,me,Oe,lt,Jt,Bt){var Tn=so(H),Cn=so(me),pr=Tn?u:qa(H),pn=Cn?u:qa(me);pr=pr==l?C:pr,pn=pn==l?C:pn;var Tr=pr==C,va=pn==C,Ar=pr==pn;if(Ar&&Ei(H)){if(!Ei(me))return!1;Tn=!0,Tr=!1}if(Ar&&!Tr)return Bt||(Bt=new rs),Tn||No(H)?_o(H,me,Oe,lt,Jt,Bt):Hs(H,me,pr,Oe,lt,Jt,Bt);if(!(Oe&i)){var Cr=Tr&&ft.call(H,"__wrapped__"),Qr=va&&ft.call(me,"__wrapped__");if(Cr||Qr){var Ha=Cr?H.value():H,Gs=Qr?me.value():me;return Bt||(Bt=new rs),Jt(Ha,Gs,Oe,lt,Bt)}}return Ar?(Bt||(Bt=new rs),Du(H,me,Oe,lt,Jt,Bt)):!1}function hr(H){if(!Da(H)||Vs(H))return!1;var me=ko(H)?kt:z;return me.test(Jr(H))}function Eo(H){return $a(H)&&Ua(H.length)&&!!ee[za(H)]}function Wl(H){if(!ll(H))return ir(H);var me=[];for(var Oe in Object(H))ft.call(H,Oe)&&Oe!="constructor"&&me.push(Oe);return me}function _o(H,me,Oe,lt,Jt,Bt){var Tn=Oe&i,Cn=H.length,pr=me.length;if(Cn!=pr&&!(Tn&&pr>Cn))return!1;var pn=Bt.get(H);if(pn&&Bt.get(me))return pn==me;var Tr=-1,va=!0,Ar=Oe&a?new ys:void 0;for(Bt.set(H,me),Bt.set(me,H);++Tr<Cn;){var Cr=H[Tr],Qr=me[Tr];if(lt)var Ha=Tn?lt(Qr,Cr,Tr,me,H,Bt):lt(Cr,Qr,Tr,H,me,Bt);if(Ha!==void 0){if(Ha)continue;va=!1;break}if(Ar){if(!be(me,function(Gs,As){if(!Le(Ar,As)&&(Cr===Gs||Jt(Cr,Gs,Oe,lt,Bt)))return Ar.push(As)})){va=!1;break}}else if(!(Cr===Qr||Jt(Cr,Qr,Oe,lt,Bt))){va=!1;break}}return Bt.delete(H),Bt.delete(me),va}function Hs(H,me,Oe,lt,Jt,Bt,Tn){switch(Oe){case O:if(H.byteLength!=me.byteLength||H.byteOffset!=me.byteOffset)return!1;H=H.buffer,me=me.buffer;case T:return!(H.byteLength!=me.byteLength||!Bt(new Zt(H),new Zt(me)));case f:case g:case A:return ws(+H,+me);case b:return H.name==me.name&&H.message==me.message;case F:case k:return H==me+"";case y:var Cn=Ne;case q:var pr=lt&i;if(Cn||(Cn=ut),H.size!=me.size&&!pr)return!1;var pn=Tn.get(H);if(pn)return pn==me;lt|=a,Tn.set(H,me);var Tr=_o(Cn(H),Cn(me),lt,Jt,Bt,Tn);return Tn.delete(H),Tr;case L:if(fr)return fr.call(H)==fr.call(me)}return!1}function Du(H,me,Oe,lt,Jt,Bt){var Tn=Oe&i,Cn=Ws(H),pr=Cn.length,pn=Ws(me),Tr=pn.length;if(pr!=Tr&&!Tn)return!1;for(var va=pr;va--;){var Ar=Cn[va];if(!(Tn?Ar in me:ft.call(me,Ar)))return!1}var Cr=Bt.get(H);if(Cr&&Bt.get(me))return Cr==me;var Qr=!0;Bt.set(H,me),Bt.set(me,H);for(var Ha=Tn;++va<pr;){Ar=Cn[va];var Gs=H[Ar],As=me[Ar];if(lt)var Gd=Tn?lt(As,Gs,Ar,me,H,Bt):lt(Gs,As,Ar,H,me,Bt);if(!(Gd===void 0?Gs===As||Jt(Gs,As,Oe,lt,Bt):Gd)){Qr=!1;break}Ha||(Ha=Ar=="constructor")}if(Qr&&!Ha){var dl=H.constructor,To=me.constructor;dl!=To&&"constructor"in H&&"constructor"in me&&!(typeof dl=="function"&&dl instanceof dl&&typeof To=="function"&&To instanceof To)&&(Qr=!1)}return Bt.delete(H),Bt.delete(me),Qr}function Ws(H){return al(H,cl,Lu)}function qi(H,me){var Oe=H.__data__;return ol(me)?Oe[typeof me=="string"?"string":"hash"]:Oe.map}function as(H,me){var Oe=qe(H,me);return hr(Oe)?Oe:void 0}function vs(H){var me=ft.call(H,Pn),Oe=H[Pn];try{H[Pn]=void 0;var lt=!0}catch{}var Jt=Ft.call(H);return lt&&(me?H[Pn]=Oe:delete H[Pn]),Jt}var Lu=zn?function(H){return H==null?[]:(H=Object(H),Se(zn(H),function(me){return nn.call(H,me)}))}:oo,qa=za;(Rn&&qa(new Rn(new ArrayBuffer(1)))!=O||Gt&&qa(new Gt)!=y||An&&qa(An.resolve())!=N||ya&&qa(new ya)!=q||Sr&&qa(new Sr)!=X)&&(qa=function(H){var me=za(H),Oe=me==C?H.constructor:void 0,lt=Oe?Jr(Oe):"";if(lt)switch(lt){case xa:return O;case Lt:return y;case Hn:return N;case ar:return q;case Mr:return X}return me});function Ys(H,me){return me=me??s,!!me&&(typeof H=="number"||Z.test(H))&&H>-1&&H%1==0&&H<me}function ol(H){var me=typeof H;return me=="string"||me=="number"||me=="symbol"||me=="boolean"?H!=="__proto__":H===null}function Vs(H){return!!Je&&Je in H}function ll(H){var me=H&&H.constructor,Oe=typeof me=="function"&&me.prototype||ve;return H===Oe}function oi(H){return Ft.call(H)}function Jr(H){if(H!=null){try{return je.call(H)}catch{}try{return H+""}catch{}}return""}function ws(H,me){return H===me||H!==H&&me!==me}var tn=Hl(function(){return arguments}())?Hl:function(H){return $a(H)&&ft.call(H,"callee")&&!nn.call(H,"callee")},so=Array.isArray;function ul(H){return H!=null&&Ua(H.length)&&!ko(H)}var Ei=Gr||Ss;function Ba(H,me){return ea(H,me)}function ko(H){if(!Da(H))return!1;var me=za(H);return me==m||me==x||me==d||me==R}function Ua(H){return typeof H=="number"&&H>-1&&H%1==0&&H<=s}function Da(H){var me=typeof H;return H!=null&&(me=="object"||me=="function")}function $a(H){return H!=null&&typeof H=="object"}var No=Y?Ae(Y):Eo;function cl(H){return ul(H)?Ji(H):Wl(H)}function oo(){return[]}function Ss(){return!1}e.exports=Ba}(Q1,Q1.exports)),Q1.exports}var Ay={},Ok;function WU(){if(Ok)return Ay;Ok=1,Object.defineProperty(Ay,"__esModule",{value:!0});const e=D7(),n=L7();var t;return function(r){function i(u={},d={},f=!1){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});let g=e(d);f||(g=Object.keys(g).reduce((b,m)=>(g[m]!=null&&(b[m]=g[m]),b),{}));for(const b in u)u[b]!==void 0&&d[b]===void 0&&(g[b]=u[b]);return Object.keys(g).length>0?g:void 0}r.compose=i;function a(u={},d={}){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});const f=Object.keys(u).concat(Object.keys(d)).reduce((g,b)=>(n(u[b],d[b])||(g[b]=d[b]===void 0?null:d[b]),g),{});return Object.keys(f).length>0?f:void 0}r.diff=a;function s(u={},d={}){u=u||{};const f=Object.keys(d).reduce((g,b)=>(d[b]!==u[b]&&u[b]!==void 0&&(g[b]=d[b]),g),{});return Object.keys(u).reduce((g,b)=>(u[b]!==d[b]&&d[b]===void 0&&(g[b]=null),g),f)}r.invert=s;function l(u,d,f=!1){if(typeof u!="object")return d;if(typeof d!="object")return;if(!f)return d;const g=Object.keys(d).reduce((b,m)=>(u[m]===void 0&&(b[m]=d[m]),b),{});return Object.keys(g).length>0?g:void 0}r.transform=l}(t||(t={})),Ay.default=t,Ay}var Cy={},Ik;function R7(){if(Ik)return Cy;Ik=1,Object.defineProperty(Cy,"__esModule",{value:!0});var e;return function(n){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}n.length=t}(e||(e={})),Cy.default=e,Cy}var Ey={},Dk;function YU(){if(Dk)return Ey;Dk=1,Object.defineProperty(Ey,"__esModule",{value:!0});const e=R7();class n{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const i=this.ops[this.index];if(i){const a=this.offset,s=e.default.length(i);if(r>=s-a?(r=s-a,this.index+=1,this.offset=0):this.offset+=r,typeof i.delete=="number")return{delete:r};{const l={};return i.attributes&&(l.attributes=i.attributes),typeof i.retain=="number"?l.retain=r:typeof i.retain=="object"&&i.retain!==null?l.retain=i.retain:typeof i.insert=="string"?l.insert=i.insert.substr(a,r):l.insert=i.insert,l}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,i=this.index,a=this.next(),s=this.ops.slice(this.index);return this.offset=r,this.index=i,[a].concat(s)}}else return[]}}return Ey.default=n,Ey}var Lk;function VU(){return Lk||(Lk=1,function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AttributeMap=n.OpIterator=n.Op=void 0;const t=HU(),r=D7(),i=L7(),a=WU();n.AttributeMap=a.default;const s=R7();n.Op=s.default;const l=YU();n.OpIterator=l.default;const u="\0",d=(g,b)=>{if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);if(typeof b!="object"||b===null)throw new Error(`cannot retain a ${typeof b}`);const m=Object.keys(g)[0];if(!m||m!==Object.keys(b)[0])throw new Error(`embed types not matched: ${m} != ${Object.keys(b)[0]}`);return[m,g[m],b[m]]};class f{constructor(b){Array.isArray(b)?this.ops=b:b!=null&&Array.isArray(b.ops)?this.ops=b.ops:this.ops=[]}static registerEmbed(b,m){this.handlers[b]=m}static unregisterEmbed(b){delete this.handlers[b]}static getHandler(b){const m=this.handlers[b];if(!m)throw new Error(`no handlers for embed type "${b}"`);return m}insert(b,m){const x={};return typeof b=="string"&&b.length===0?this:(x.insert=b,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(x.attributes=m),this.push(x))}delete(b){return b<=0?this:this.push({delete:b})}retain(b,m){if(typeof b=="number"&&b<=0)return this;const x={retain:b};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(x.attributes=m),this.push(x)}push(b){let m=this.ops.length,x=this.ops[m-1];if(b=r(b),typeof x=="object"){if(typeof b.delete=="number"&&typeof x.delete=="number")return this.ops[m-1]={delete:x.delete+b.delete},this;if(typeof x.delete=="number"&&b.insert!=null&&(m-=1,x=this.ops[m-1],typeof x!="object"))return this.ops.unshift(b),this;if(i(b.attributes,x.attributes)){if(typeof b.insert=="string"&&typeof x.insert=="string")return this.ops[m-1]={insert:x.insert+b.insert},typeof b.attributes=="object"&&(this.ops[m-1].attributes=b.attributes),this;if(typeof b.retain=="number"&&typeof x.retain=="number")return this.ops[m-1]={retain:x.retain+b.retain},typeof b.attributes=="object"&&(this.ops[m-1].attributes=b.attributes),this}}return m===this.ops.length?this.ops.push(b):this.ops.splice(m,0,b),this}chop(){const b=this.ops[this.ops.length-1];return b&&typeof b.retain=="number"&&!b.attributes&&this.ops.pop(),this}filter(b){return this.ops.filter(b)}forEach(b){this.ops.forEach(b)}map(b){return this.ops.map(b)}partition(b){const m=[],x=[];return this.forEach(y=>{(b(y)?m:x).push(y)}),[m,x]}reduce(b,m){return this.ops.reduce(b,m)}changeLength(){return this.reduce((b,m)=>m.insert?b+s.default.length(m):m.delete?b-m.delete:b,0)}length(){return this.reduce((b,m)=>b+s.default.length(m),0)}slice(b=0,m=1/0){const x=[],y=new l.default(this.ops);let A=0;for(;A<m&&y.hasNext();){let w;A<b?w=y.next(b-A):(w=y.next(m-A),x.push(w)),A+=s.default.length(w)}return new f(x)}compose(b){const m=new l.default(this.ops),x=new l.default(b.ops),y=[],A=x.peek();if(A!=null&&typeof A.retain=="number"&&A.attributes==null){let C=A.retain;for(;m.peekType()==="insert"&&m.peekLength()<=C;)C-=m.peekLength(),y.push(m.next());A.retain-C>0&&x.next(A.retain-C)}const w=new f(y);for(;m.hasNext()||x.hasNext();)if(x.peekType()==="insert")w.push(x.next());else if(m.peekType()==="delete")w.push(m.next());else{const C=Math.min(m.peekLength(),x.peekLength()),N=m.next(C),R=x.next(C);if(R.retain){const F={};if(typeof N.retain=="number")F.retain=typeof R.retain=="number"?C:R.retain;else if(typeof R.retain=="number")N.retain==null?F.insert=N.insert:F.retain=N.retain;else{const k=N.retain==null?"insert":"retain",[L,B,X]=d(N[k],R.retain),T=f.getHandler(L);F[k]={[L]:T.compose(B,X,k==="retain")}}const q=a.default.compose(N.attributes,R.attributes,typeof N.retain=="number");if(q&&(F.attributes=q),w.push(F),!x.hasNext()&&i(w.ops[w.ops.length-1],F)){const k=new f(m.rest());return w.concat(k).chop()}}else typeof R.delete=="number"&&(typeof N.retain=="number"||typeof N.retain=="object"&&N.retain!==null)&&w.push(R)}return w.chop()}concat(b){const m=new f(this.ops.slice());return b.ops.length>0&&(m.push(b.ops[0]),m.ops=m.ops.concat(b.ops.slice(1))),m}diff(b,m){if(this.ops===b.ops)return new f;const x=[this,b].map(N=>N.map(R=>{if(R.insert!=null)return typeof R.insert=="string"?R.insert:u;const F=N===b?"on":"with";throw new Error("diff() called "+F+" non-document")}).join("")),y=new f,A=t(x[0],x[1],m,!0),w=new l.default(this.ops),C=new l.default(b.ops);return A.forEach(N=>{let R=N[1].length;for(;R>0;){let F=0;switch(N[0]){case t.INSERT:F=Math.min(C.peekLength(),R),y.push(C.next(F));break;case t.DELETE:F=Math.min(R,w.peekLength()),w.next(F),y.delete(F);break;case t.EQUAL:F=Math.min(w.peekLength(),C.peekLength(),R);const q=w.next(F),k=C.next(F);i(q.insert,k.insert)?y.retain(F,a.default.diff(q.attributes,k.attributes)):y.push(k).delete(F);break}R-=F}}),y.chop()}eachLine(b,m=`
`){const x=new l.default(this.ops);let y=new f,A=0;for(;x.hasNext();){if(x.peekType()!=="insert")return;const w=x.peek(),C=s.default.length(w)-x.peekLength(),N=typeof w.insert=="string"?w.insert.indexOf(m,C)-C:-1;if(N<0)y.push(x.next());else if(N>0)y.push(x.next(N));else{if(b(y,x.next(1).attributes||{},A)===!1)return;A+=1,y=new f}}y.length()>0&&b(y,{},A)}invert(b){const m=new f;return this.reduce((x,y)=>{if(y.insert)m.delete(s.default.length(y));else{if(typeof y.retain=="number"&&y.attributes==null)return m.retain(y.retain),x+y.retain;if(y.delete||typeof y.retain=="number"){const A=y.delete||y.retain;return b.slice(x,x+A).forEach(C=>{y.delete?m.push(C):y.retain&&y.attributes&&m.retain(s.default.length(C),a.default.invert(y.attributes,C.attributes))}),x+A}else if(typeof y.retain=="object"&&y.retain!==null){const A=b.slice(x,x+1),w=new l.default(A.ops).next(),[C,N,R]=d(y.retain,w.insert),F=f.getHandler(C);return m.retain({[C]:F.invert(N,R)},a.default.invert(y.attributes,w.attributes)),x+1}}return x},0),m.chop()}transform(b,m=!1){if(m=!!m,typeof b=="number")return this.transformPosition(b,m);const x=b,y=new l.default(this.ops),A=new l.default(x.ops),w=new f;for(;y.hasNext()||A.hasNext();)if(y.peekType()==="insert"&&(m||A.peekType()!=="insert"))w.retain(s.default.length(y.next()));else if(A.peekType()==="insert")w.push(A.next());else{const C=Math.min(y.peekLength(),A.peekLength()),N=y.next(C),R=A.next(C);if(N.delete)continue;if(R.delete)w.push(R);else{const F=N.retain,q=R.retain;let k=typeof q=="object"&&q!==null?q:C;if(typeof F=="object"&&F!==null&&typeof q=="object"&&q!==null){const L=Object.keys(F)[0];if(L===Object.keys(q)[0]){const B=f.getHandler(L);B&&(k={[L]:B.transform(F[L],q[L],m)})}}w.retain(k,a.default.transform(N.attributes,R.attributes,m))}}return w.chop()}transformPosition(b,m=!1){m=!!m;const x=new l.default(this.ops);let y=0;for(;x.hasNext()&&y<=b;){const A=x.peekLength(),w=x.peekType();if(x.next(),w==="delete"){b-=Math.min(A,b-y);continue}else w==="insert"&&(y<b||!m)&&(b+=A);y+=A}return b}}f.Op=s.default,f.OpIterator=l.default,f.AttributeMap=a.default,f.handlers={},n.default=f,e.exports=f,e.exports.default=f}(Sy,Sy.exports)),Sy.exports}var Dl=VU();const Ht=ts(Dl);class _u extends rl{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}_u.blotName="break";_u.tagName="BR";let Au=class extends Lx{};const GU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Av(e){return e.replace(/[&<>"']/g,n=>GU[n])}const uc=class uc extends K6{static compare(n,t){const r=uc.order.indexOf(n),i=uc.order.indexOf(t);return r>=0||i>=0?r-i:n===t?0:n<t?-1:1}formatAt(n,t,r,i){if(uc.compare(this.statics.blotName,r)<0&&this.scroll.query(r,Yt.BLOT)){const a=this.isolate(n,t);i&&a.wrap(r,i)}else super.formatAt(n,t,r,i)}optimize(n){if(super.optimize(n),this.parent instanceof uc&&uc.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}};et(uc,"allowedChildren",[uc,_u,rl,Au]),et(uc,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Fc=uc;const Rk=1;class gs extends wg{constructor(){super(...arguments);et(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=M7(this)),this.cache.delta}deleteAt(t,r){super.deleteAt(t,r),this.cache={}}formatAt(t,r,i,a){r<=0||(this.scroll.query(i,Yt.BLOCK)?t+r===this.length()&&this.format(i,a):super.formatAt(t,Math.min(r,this.length()-t-1),i,a),this.cache={})}insertAt(t,r,i){if(i!=null){super.insertAt(t,r,i),this.cache={};return}if(r.length===0)return;const a=r.split(`
`),s=a.shift();s.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});let l=this;a.reduce((u,d)=>(l=l.split(u,!0),l.insertAt(0,d),d.length),t+s.length)}insertBefore(t,r){const{head:i}=this.children;super.insertBefore(t,r),i instanceof _u&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+Rk),this.cache.length}moveChildren(t,r){super.moveChildren(t,r),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(t===0||t>=this.length()-Rk)){const a=this.clone();return t===0?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}const i=super.split(t,r);return this.cache={},i}}gs.blotName="block";gs.tagName="P";gs.defaultChild=_u;gs.allowedChildren=[_u,Fc,rl,Au];class Il extends rl{attach(){super.attach(),this.attributes=new wv(this.domNode)}delta(){return new Ht().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(n,t){const r=this.scroll.query(n,Yt.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(n,t,r,i){this.format(r,i)}insertAt(n,t,r){if(r!=null){super.insertAt(n,t,r);return}const i=t.split(`
`),a=i.pop(),s=i.map(u=>{const d=this.scroll.create(gs.blotName);return d.insertAt(0,u),d}),l=this.split(n);s.forEach(u=>{this.parent.insertBefore(u,l)}),a&&this.parent.insertBefore(this.scroll.create("text",a),l)}}Il.scope=Yt.BLOCK_BLOT;function M7(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.descendants(Fs).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),El(r,{},n)),new Ht).insert(`
`,El(e))}function El(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return e==null||("formats"in e&&typeof e.formats=="function"&&(n={...n,...e.formats()},t&&delete n["code-token"]),e.parent==null||e.parent.statics.blotName==="scroll"||e.parent.statics.scope!==e.statics.scope)?n:El(e.parent,n,t)}const Al=class Al extends rl{static value(){}constructor(n,t,r){super(n,t),this.selection=r,this.textNode=document.createTextNode(Al.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(n,t){if(this.savedLength!==0){super.format(n,t);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==Yt.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=Al.CONTENTS.length,r.optimize(),r.formatAt(i,Al.CONTENTS.length,n,t),this.savedLength=0)}index(n,t){return n===this.textNode?0:super.index(n,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const n=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof Au?this.prev:null,r=t?t.length():0,i=this.next instanceof Au?this.next:null,a=i?i.text:"",{textNode:s}=this,l=s.data.split(Al.CONTENTS).join("");s.data=Al.CONTENTS;let u;if(t)u=t,(l||i)&&(t.insertAt(t.length(),l+a),i&&i.remove());else if(i)u=i,i.insertAt(0,l);else{const d=document.createTextNode(l);u=this.scroll.create(d),this.parent.insertBefore(u,this)}if(this.remove(),n){const d=(b,m)=>t&&b===t.domNode?m:b===s?r+m-1:i&&b===i.domNode?r+l.length+m:null,f=d(n.start.node,n.start.offset),g=d(n.end.node,n.end.offset);if(f!==null&&g!==null)return{startNode:u.domNode,startOffset:f,endNode:u.domNode,endOffset:g}}return null}update(n,t){if(n.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(n){super.optimize(n);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=Al.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}};et(Al,"blotName","cursor"),et(Al,"className","ql-cursor"),et(Al,"tagName","span"),et(Al,"CONTENTS","\uFEFF");let im=Al;var $5={exports:{}},Mk;function QU(){return Mk||(Mk=1,function(e){var n=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function a(u,d,f,g,b){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,g||u,b),x=t?t+d:d;return u._events[x]?u._events[x].fn?u._events[x]=[u._events[x],m]:u._events[x].push(m):(u._events[x]=m,u._eventsCount++),u}function s(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,g;if(this._eventsCount===0)return d;for(g in f=this._events)n.call(f,g)&&d.push(t?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=t?t+d:d,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,m=g.length,x=new Array(m);b<m;b++)x[b]=g[b].fn;return x},l.prototype.listenerCount=function(d){var f=t?t+d:d,g=this._events[f];return g?g.fn?1:g.length:0},l.prototype.emit=function(d,f,g,b,m,x){var y=t?t+d:d;if(!this._events[y])return!1;var A=this._events[y],w=arguments.length,C,N;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),w){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,f),!0;case 3:return A.fn.call(A.context,f,g),!0;case 4:return A.fn.call(A.context,f,g,b),!0;case 5:return A.fn.call(A.context,f,g,b,m),!0;case 6:return A.fn.call(A.context,f,g,b,m,x),!0}for(N=1,C=new Array(w-1);N<w;N++)C[N-1]=arguments[N];A.fn.apply(A.context,C)}else{var R=A.length,F;for(N=0;N<R;N++)switch(A[N].once&&this.removeListener(d,A[N].fn,void 0,!0),w){case 1:A[N].fn.call(A[N].context);break;case 2:A[N].fn.call(A[N].context,f);break;case 3:A[N].fn.call(A[N].context,f,g);break;case 4:A[N].fn.call(A[N].context,f,g,b);break;default:if(!C)for(F=1,C=new Array(w-1);F<w;F++)C[F-1]=arguments[F];A[N].fn.apply(A[N].context,C)}}return!0},l.prototype.on=function(d,f,g){return a(this,d,f,g,!1)},l.prototype.once=function(d,f,g){return a(this,d,f,g,!0)},l.prototype.removeListener=function(d,f,g,b){var m=t?t+d:d;if(!this._events[m])return this;if(!f)return s(this,m),this;var x=this._events[m];if(x.fn)x.fn===f&&(!b||x.once)&&(!g||x.context===g)&&s(this,m);else{for(var y=0,A=[],w=x.length;y<w;y++)(x[y].fn!==f||b&&!x[y].once||g&&x[y].context!==g)&&A.push(x[y]);A.length?this._events[m]=A.length===1?A[0]:A:s(this,m)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=t?t+d:d,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,e.exports=l}($5)),$5.exports}var KU=QU();const XU=ts(KU),yS=new WeakMap,xS=["error","warn","log","info"];let vS="warn";function F7(e){if(vS&&xS.indexOf(e)<=xS.indexOf(vS)){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];console[e](...t)}}function Wd(e){return xS.reduce((n,t)=>(n[t]=F7.bind(console,t,e),n),{})}Wd.level=e=>{vS=e};F7.level=Wd.level;const H5=Wd("quill:events"),ZU=["selectionchange","mousedown","mouseup","click"];ZU.forEach(e=>{document.addEventListener(e,function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const a=yS.get(i);a&&a.emitter&&a.emitter.handleDOM(...t)})})});class Pt extends XU{constructor(){super(),this.domListeners={},this.on("error",H5.error)}emit(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return H5.log.call(H5,...t),super.emit(...t)}handleDOM(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];(this.domListeners[n.type]||[]).forEach(a=>{let{node:s,handler:l}=a;(n.target===s||s.contains(n.target))&&l(n,...r)})}listenDOM(n,t,r){this.domListeners[n]||(this.domListeners[n]=[]),this.domListeners[n].push({node:t,handler:r})}}et(Pt,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),et(Pt,"sources",{API:"api",SILENT:"silent",USER:"user"});const W5=Wd("quill:selection");class hp{constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=n,this.length=t}}class JU{constructor(n,t){this.emitter=t,this.scroll=n,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new hp(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Pt.sources.USER),1)}),this.emitter.on(Pt.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(Pt.events.SCROLL_UPDATE,(i,a)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const s=a.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(s?Pt.sources.SILENT:i)}catch{}})}),this.emitter.on(Pt.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:a,startOffset:s,endNode:l,endOffset:u}=i.range;this.setNativeRange(a,s,l,u),this.update(Pt.sources.SILENT)}}),this.update(Pt.sources.SILENT)}handleComposition(){this.emitter.on(Pt.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Pt.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const n=this.cursor.restore();if(!n)return;setTimeout(()=>{this.setNativeRange(n.startNode,n.startOffset,n.endNode,n.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Pt.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(n,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(n,Yt.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof Fs){const a=i.split(r.start.offset);i.parent.insertBefore(this.cursor,a)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(n,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();n=Math.min(n,r-1),t=Math.min(n+t,r-1)-n;let i,[a,s]=this.scroll.leaf(n);if(a==null)return null;if(t>0&&s===a.length()){const[f]=this.scroll.leaf(n+1);if(f){const[g]=this.scroll.line(n),[b]=this.scroll.line(n+1);g===b&&(a=f,s=0)}}[i,s]=a.position(s,!0);const l=document.createRange();if(t>0)return l.setStart(i,s),[a,s]=this.scroll.leaf(n+t),a==null?null:([i,s]=a.position(s,!0),l.setEnd(i,s),l.getBoundingClientRect());let u="left",d;if(i instanceof Text){if(!i.data.length)return null;s<i.data.length?(l.setStart(i,s),l.setEnd(i,s+1)):(l.setStart(i,s-1),l.setEnd(i,s),u="right"),d=l.getBoundingClientRect()}else{if(!(a.domNode instanceof Element))return null;d=a.domNode.getBoundingClientRect(),s>0&&(u="right")}return{bottom:d.top+d.height,height:d.height,left:d[u],right:d[u],top:d.top,width:0}}getNativeRange(){const n=document.getSelection();if(n==null||n.rangeCount<=0)return null;const t=n.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return W5.info("getNativeRange",r),r}getRange(){const n=this.scroll.domNode;if("isConnected"in n&&!n.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Y5(this.root,document.activeElement)}normalizedToRange(n){const t=[[n.start.node,n.start.offset]];n.native.collapsed||t.push([n.end.node,n.end.offset]);const r=t.map(s=>{const[l,u]=s,d=this.scroll.find(l,!0),f=d.offset(this.scroll);return u===0?f:d instanceof Fs?f+d.index(l,u):f+d.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),a=Math.min(i,...r);return new hp(a,i-a)}normalizeNative(n){if(!Y5(this.root,n.startContainer)||!n.collapsed&&!Y5(this.root,n.endContainer))return null;const t={start:{node:n.startContainer,offset:n.startOffset},end:{node:n.endContainer,offset:n.endOffset},native:n};return[t.start,t.end].forEach(r=>{let{node:i,offset:a}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>a)i=i.childNodes[a],a=0;else if(i.childNodes.length===a)i=i.lastChild,i instanceof Text?a=i.data.length:i.childNodes.length>0?a=i.childNodes.length:a=i.childNodes.length+1;else break;r.node=i,r.offset=a}),t}rangeToNative(n){const t=this.scroll.length(),r=(i,a)=>{i=Math.min(t-1,i);const[s,l]=this.scroll.leaf(i);return s?s.position(l,a):[null,-1]};return[...r(n.index,!1),...r(n.index+n.length,!0)]}setNativeRange(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(W5.info("setNativeRange",n,t,r,i),n!=null&&(this.root.parentNode==null||n.parentNode==null||r.parentNode==null))return;const s=document.getSelection();if(s!=null)if(n!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||a||n!==l.startContainer||t!==l.startOffset||r!==l.endContainer||i!==l.endOffset){n instanceof Element&&n.tagName==="BR"&&(t=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const u=document.createRange();u.setStart(n,t),u.setEnd(r,i),s.removeAllRanges(),s.addRange(u)}}else s.removeAllRanges(),this.root.blur()}setRange(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pt.sources.API;if(typeof t=="string"&&(r=t,t=!1),W5.info("setRange",n),n!=null){const i=this.rangeToNative(n);this.setNativeRange(...i,t)}else this.setNativeRange(null);this.update(r)}update(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pt.sources.USER;const t=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!Mf(t,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const s=this.cursor.restore();s&&this.setNativeRange(s.startNode,s.startOffset,s.endNode,s.endOffset)}const a=[Pt.events.SELECTION_CHANGE,P0(this.lastRange),P0(t),n];this.emitter.emit(Pt.events.EDITOR_CHANGE,...a),n!==Pt.sources.SILENT&&this.emitter.emit(...a)}}}function Y5(e,n){try{n.parentNode}catch{return!1}return e.contains(n)}const e$=/^[ -~]*$/;class t${constructor(n){this.scroll=n,this.delta=this.getDelta()}applyDelta(n){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=Fk(n),i=new Ht;return r$(r.ops.slice()).reduce((s,l)=>{const u=Dl.Op.length(l);let d=l.attributes||{},f=!1,g=!1;if(l.insert!=null){if(i.retain(u),typeof l.insert=="string"){const x=l.insert;g=!x.endsWith(`
`)&&(t<=s||!!this.scroll.descendant(Il,s)[0]),this.scroll.insertAt(s,x);const[y,A]=this.scroll.line(s);let w=Xf({},El(y));if(y instanceof gs){const[C]=y.descendant(Fs,A);C&&(w=Xf(w,El(C)))}d=Dl.AttributeMap.diff(w,d)||{}}else if(typeof l.insert=="object"){const x=Object.keys(l.insert)[0];if(x==null)return s;const y=this.scroll.query(x,Yt.INLINE)!=null;if(y)(t<=s||this.scroll.descendant(Il,s)[0])&&(g=!0);else if(s>0){const[A,w]=this.scroll.descendant(Fs,s-1);A instanceof Au?A.value()[w]!==`
`&&(f=!0):A instanceof rl&&A.statics.scope===Yt.INLINE_BLOT&&(f=!0)}if(this.scroll.insertAt(s,x,l.insert[x]),y){const[A]=this.scroll.descendant(Fs,s);if(A){const w=Xf({},El(A));d=Dl.AttributeMap.diff(w,d)||{}}}}t+=u}else if(i.push(l),l.retain!==null&&typeof l.retain=="object"){const x=Object.keys(l.retain)[0];if(x==null)return s;this.scroll.updateEmbedAt(s,x,l.retain[x])}Object.keys(d).forEach(x=>{this.scroll.formatAt(s,u,x,d[x])});const b=f?1:0,m=g?1:0;return t+=b+m,i.retain(b),i.delete(m),s+u+b+m},0),i.reduce((s,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(s,l.delete),s):s+Dl.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(n,t){return this.scroll.deleteAt(n,t),this.update(new Ht().retain(n).delete(t))}formatLine(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(a=>{this.scroll.lines(n,Math.max(t,1)).forEach(s=>{s.format(a,r[a])})}),this.scroll.optimize();const i=new Ht().retain(n).retain(t,P0(r));return this.update(i)}formatText(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(a=>{this.scroll.formatAt(n,t,a,r[a])});const i=new Ht().retain(n).retain(t,P0(r));return this.update(i)}getContents(n,t){return this.delta.slice(n,n+t)}getDelta(){return this.scroll.lines().reduce((n,t)=>n.concat(t.delta()),new Ht)}getFormat(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];t===0?this.scroll.path(n).forEach(l=>{const[u]=l;u instanceof gs?r.push(u):u instanceof Fs&&i.push(u)}):(r=this.scroll.lines(n,t),i=this.scroll.descendants(Fs,n,t));const[a,s]=[r,i].map(l=>{const u=l.shift();if(u==null)return{};let d=El(u);for(;Object.keys(d).length>0;){const f=l.shift();if(f==null)return d;d=n$(El(f),d)}return d});return{...a,...s}}getHTML(n,t){const[r,i]=this.scroll.line(n);if(r){const a=r.length();return r.length()>=i+t&&!(i===0&&t===a)?Sg(r,i,t,!0):Sg(this.scroll,n,t,!0)}return""}getText(n,t){return this.getContents(n,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(n,t){const r=Fk(t),i=new Ht().retain(n).concat(r);return this.scroll.insertContents(n,r),this.update(i)}insertEmbed(n,t,r){return this.scroll.insertAt(n,t,r),this.update(new Ht().retain(n).insert({[t]:r}))}insertText(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(n,t),Object.keys(r).forEach(i=>{this.scroll.formatAt(n,t.length,i,r[i])}),this.update(new Ht().retain(n).insert(t,P0(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const n=this.scroll.children.head;if((n==null?void 0:n.statics.blotName)!==gs.blotName)return!1;const t=n;return t.children.length>1?!1:t.children.head instanceof _u}removeFormat(n,t){const r=this.getText(n,t),[i,a]=this.scroll.line(n+t);let s=0,l=new Ht;i!=null&&(s=i.length()-a,l=i.delta().slice(a,a+s-1).insert(`
`));const d=this.getContents(n,t+s).diff(new Ht().insert(r).concat(l)),f=new Ht().retain(n).concat(d);return this.applyDelta(f)}update(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(e$)&&this.scroll.find(t[0].target)){const a=this.scroll.find(t[0].target),s=El(a),l=a.offset(this.scroll),u=t[0].oldValue.replace(im.CONTENTS,""),d=new Ht().insert(u),f=new Ht().insert(a.value()),g=r&&{oldRange:Pk(r.oldRange,-l),newRange:Pk(r.newRange,-l)};n=new Ht().retain(l).concat(d.diff(f,g)).reduce((m,x)=>x.insert?m.insert(x.insert,s):m.push(x),new Ht),this.delta=i.compose(n)}else this.delta=this.getDelta(),(!n||!Mf(i.compose(n),this.delta))&&(n=i.diff(this.delta,r));return n}}function O0(e,n,t){if(e.length===0){const[m]=V5(t.pop());return n<=0?`</li></${m}>`:`</li></${m}>${O0([],n-1,t)}`}const[{child:r,offset:i,length:a,indent:s,type:l},...u]=e,[d,f]=V5(l);if(s>n)return t.push(l),s===n+1?`<${d}><li${f}>${Sg(r,i,a)}${O0(u,s,t)}`:`<${d}><li>${O0(e,n+1,t)}`;const g=t[t.length-1];if(s===n&&l===g)return`</li><li${f}>${Sg(r,i,a)}${O0(u,s,t)}`;const[b]=V5(t.pop());return`</li></${b}>${O0(e,n-1,t)}`}function Sg(e,n,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in e&&typeof e.html=="function")return e.html(n,t);if(e instanceof Au)return Av(e.value().slice(n,n+t)).replaceAll(" ","&nbsp;");if(e instanceof vu){if(e.statics.blotName==="list-container"){const d=[];return e.children.forEachAt(n,t,(f,g,b)=>{const m="formats"in f&&typeof f.formats=="function"?f.formats():{};d.push({child:f,offset:g,length:b,indent:m.indent||0,type:m.list})}),O0(d,-1,[])}const i=[];if(e.children.forEachAt(n,t,(d,f,g)=>{i.push(Sg(d,f,g))}),r||e.statics.blotName==="list")return i.join("");const{outerHTML:a,innerHTML:s}=e.domNode,[l,u]=a.split(`>${s}<`);return l==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${u}`:`${l}>${i.join("")}<${u}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function n$(e,n){return Object.keys(n).reduce((t,r)=>{if(e[r]==null)return t;const i=n[r];return i===e[r]?t[r]=i:Array.isArray(i)?i.indexOf(e[r])<0?t[r]=i.concat([e[r]]):t[r]=i:t[r]=[i,e[r]],t},{})}function V5(e){const n=e==="ordered"?"ol":"ul";switch(e){case"checked":return[n,' data-list="checked"'];case"unchecked":return[n,' data-list="unchecked"'];default:return[n,""]}}function Fk(e){return e.reduce((n,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return n.insert(r,t.attributes)}return n.push(t)},new Ht)}function Pk(e,n){let{index:t,length:r}=e;return new hp(t+n,r)}function r$(e){const n=[];return e.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((i,a)=>{a&&n.push({insert:`
`,attributes:t.attributes}),i&&n.push({insert:i,attributes:t.attributes})}):n.push(t)}),n}class ku{constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=n,this.options=t}}et(ku,"DEFAULTS",{});const _y="\uFEFF";class Z6 extends rl{constructor(n,t){super(n,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(_y),this.rightGuard=document.createTextNode(_y),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(n,t){return n===this.leftGuard?0:n===this.rightGuard?1:super.index(n,t)}restore(n){let t=null,r;const i=n.data.split(_y).join("");if(n===this.leftGuard)if(this.prev instanceof Au){const a=this.prev.length();this.prev.insertAt(a,i),t={startNode:this.prev.domNode,startOffset:a+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:i.length};else n===this.rightGuard&&(this.next instanceof Au?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:i.length}));return n.data=_y,t}update(n,t){n.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(t.range=i)}})}}class i${constructor(n,t){et(this,"isComposing",!1);this.scroll=n,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",n=>{this.isComposing||this.handleCompositionStart(n)}),this.scroll.domNode.addEventListener("compositionend",n=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(n)})})}handleCompositionStart(n){const t=n.target instanceof Node?this.scroll.find(n.target,!0):null;t&&!(t instanceof Z6)&&(this.emitter.emit(Pt.events.COMPOSITION_BEFORE_START,n),this.scroll.batchStart(),this.emitter.emit(Pt.events.COMPOSITION_START,n),this.isComposing=!0)}handleCompositionEnd(n){this.emitter.emit(Pt.events.COMPOSITION_BEFORE_END,n),this.scroll.batchEnd(),this.emitter.emit(Pt.events.COMPOSITION_END,n),this.isComposing=!1}}const lg=class lg{constructor(n,t){et(this,"modules",{});this.quill=n,this.options=t}init(){Object.keys(this.options.modules).forEach(n=>{this.modules[n]==null&&this.addModule(n)})}addModule(n){const t=this.quill.constructor.import(`modules/${n}`);return this.modules[n]=new t(this.quill,this.options.modules[n]||{}),this.modules[n]}};et(lg,"DEFAULTS",{modules:{}}),et(lg,"themes",{default:lg});let am=lg;const a$=e=>e.parentElement||e.getRootNode().host||null,s$=e=>{const n=e.getBoundingClientRect(),t="offsetWidth"in e&&Math.abs(n.width)/e.offsetWidth||1,r="offsetHeight"in e&&Math.abs(n.height)/e.offsetHeight||1;return{top:n.top,right:n.left+e.clientWidth*t,bottom:n.top+e.clientHeight*r,left:n.left}},ky=e=>{const n=parseInt(e,10);return Number.isNaN(n)?0:n},zk=(e,n,t,r,i,a)=>e<t&&n>r?0:e<t?-(t-e+i):n>r?n-e>r-t?e+i-t:n-r+a:0,o$=(e,n)=>{var a,s,l;const t=e.ownerDocument;let r=n,i=e;for(;i;){const u=i===t.body,d=u?{top:0,right:((a=window.visualViewport)==null?void 0:a.width)??t.documentElement.clientWidth,bottom:((s=window.visualViewport)==null?void 0:s.height)??t.documentElement.clientHeight,left:0}:s$(i),f=getComputedStyle(i),g=zk(r.left,r.right,d.left,d.right,ky(f.scrollPaddingLeft),ky(f.scrollPaddingRight)),b=zk(r.top,r.bottom,d.top,d.bottom,ky(f.scrollPaddingTop),ky(f.scrollPaddingBottom));if(g||b)if(u)(l=t.defaultView)==null||l.scrollBy(g,b);else{const{scrollLeft:m,scrollTop:x}=i;b&&(i.scrollTop+=b),g&&(i.scrollLeft+=g);const y=i.scrollLeft-m,A=i.scrollTop-x;r={left:r.left-y,top:r.top-A,right:r.right-y,bottom:r.bottom-A}}i=u||f.position==="fixed"?null:a$(i)}},l$=100,u$=["block","break","cursor","inline","scroll","text"],c$=(e,n,t)=>{const r=new rm;return u$.forEach(i=>{const a=n.query(i);a&&r.register(a)}),e.forEach(i=>{let a=n.query(i);a||t.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let s=0;for(;a;)if(r.register(a),a="blotName"in a?a.requiredContainer??null:null,s+=1,s>l$){t.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},q0=Wd("quill"),Ny=new rm;vu.uiClass="ql-ui";const hu=class hu{static debug(n){n===!0&&(n="log"),Wd.level(n)}static find(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return yS.get(n)||Ny.find(n,t)}static import(n){return this.imports[n]==null&&q0.error(`Cannot import ${n}. Are you sure it was registered?`),this.imports[n]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const n=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in n?n.attrName:n.blotName;typeof r=="string"?this.register(`formats/${r}`,n,t):Object.keys(n).forEach(i=>{this.register(i,n[i],t)})}else{const n=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[n]!=null&&!r&&q0.warn(`Overwriting ${n} with`,t),this.imports[n]=t,(n.startsWith("blots/")||n.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&Ny.register(t),typeof t.register=="function"&&t.register(Ny)}}constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=d$(n,t),this.container=this.options.container,this.container==null){q0.error("Invalid Quill container",n);return}this.options.debug&&hu.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",yS.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Pt;const i=X6.blotName,a=this.options.registry.query(i);if(!a||!("blotName"in a))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new a(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new t$(this.scroll),this.selection=new JU(this.scroll,this.emitter),this.composition=new i$(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Pt.events.EDITOR_CHANGE,s=>{s===Pt.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Pt.events.SCROLL_UPDATE,(s,l)=>{const u=this.selection.lastRange,[d]=this.selection.getRange(),f=u&&d?{oldRange:u,newRange:d}:void 0;cu.call(this,()=>this.editor.update(null,l,f),s)}),this.emitter.on(Pt.events.SCROLL_EMBED_UPDATE,(s,l)=>{const u=this.selection.lastRange,[d]=this.selection.getRange(),f=u&&d?{oldRange:u,newRange:d}:void 0;cu.call(this,()=>{const g=new Ht().retain(s.offset(this)).retain({[s.statics.blotName]:l});return this.editor.update(g,[],f)},hu.sources.USER)}),r){const s=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(s)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof n=="string"){const r=n;n=document.createElement("div"),n.classList.add(r)}return this.container.insertBefore(n,t),n}blur(){this.selection.setRange(null)}deleteText(n,t,r){return[n,t,,r]=md(n,t,r),cu.call(this,()=>this.editor.deleteText(n,t),r,n,-1*t)}disable(){this.enable(!1)}editReadOnly(n){this.allowReadOnlyEdits=!0;const t=n();return this.allowReadOnlyEdits=!1,t}enable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(n),this.container.classList.toggle("ql-disabled",!n)}focus(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),n.preventScroll||this.scrollSelectionIntoView()}format(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pt.sources.API;return cu.call(this,()=>{const i=this.getSelection(!0);let a=new Ht;if(i==null)return a;if(this.scroll.query(n,Yt.BLOCK))a=this.editor.formatLine(i.index,i.length,{[n]:t});else{if(i.length===0)return this.selection.format(n,t),a;a=this.editor.formatText(i.index,i.length,{[n]:t})}return this.setSelection(i,Pt.sources.SILENT),a},r)}formatLine(n,t,r,i,a){let s;return[n,t,s,a]=md(n,t,r,i,a),cu.call(this,()=>this.editor.formatLine(n,t,s),a,n,0)}formatText(n,t,r,i,a){let s;return[n,t,s,a]=md(n,t,r,i,a),cu.call(this,()=>this.editor.formatText(n,t,s),a,n,0)}getBounds(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof n=="number"?r=this.selection.getBounds(n,t):r=this.selection.getBounds(n.index,n.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-n;return[n,t]=md(n,t),this.editor.getContents(n,t)}getFormat(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof n=="number"?this.editor.getFormat(n,t):this.editor.getFormat(n.index,n.length)}getIndex(n){return n.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(n){return this.scroll.leaf(n)}getLine(n){return this.scroll.line(n)}getLines(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof n!="number"?this.scroll.lines(n.index,n.length):this.scroll.lines(n,t)}getModule(n){return this.theme.modules[n]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof n=="number"&&(t=t??this.getLength()-n),[n,t]=md(n,t),this.editor.getHTML(n,t)}getText(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof n=="number"&&(t=t??this.getLength()-n),[n,t]=md(n,t),this.editor.getText(n,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(n,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:hu.sources.API;return cu.call(this,()=>this.editor.insertEmbed(n,t,r),i,n)}insertText(n,t,r,i,a){let s;return[n,,s,a]=md(n,0,r,i,a),cu.call(this,()=>this.editor.insertText(n,t,s),a,n,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(n,t,r){return[n,t,,r]=md(n,t,r),cu.call(this,()=>this.editor.removeFormat(n,t),r,n)}scrollRectIntoView(n){o$(this.root,n)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const n=this.selection.lastRange,t=n&&this.selection.getBounds(n.index,n.length);t&&this.scrollRectIntoView(t)}setContents(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pt.sources.API;return cu.call(this,()=>{n=new Ht(n);const r=this.getLength(),i=this.editor.deleteText(0,r),a=this.editor.insertContents(0,n),s=this.editor.deleteText(this.getLength()-1,1);return i.compose(a).compose(s)},t)}setSelection(n,t,r){n==null?this.selection.setRange(null,t||hu.sources.API):([n,t,,r]=md(n,t,r),this.selection.setRange(new hp(Math.max(0,n),t),r),r!==Pt.sources.SILENT&&this.scrollSelectionIntoView())}setText(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pt.sources.API;const r=new Ht().insert(n);return this.setContents(r,t)}update(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pt.sources.USER;const t=this.scroll.update(n);return this.selection.update(n),t}updateContents(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pt.sources.API;return cu.call(this,()=>(n=new Ht(n),this.editor.applyDelta(n)),t,!0)}};et(hu,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Ny,theme:"default"}),et(hu,"events",Pt.events),et(hu,"sources",Pt.sources),et(hu,"version","2.0.3"),et(hu,"imports",{delta:Ht,parchment:$U,"core/module":ku,"core/theme":am});let wt=hu;function qk(e){return typeof e=="string"?document.querySelector(e):e}function G5(e){return Object.entries(e??{}).reduce((n,t)=>{let[r,i]=t;return{...n,[r]:i===!0?{}:i}},{})}function Bk(e){return Object.fromEntries(Object.entries(e).filter(n=>n[1]!==void 0))}function d$(e,n){const t=qk(e);if(!t)throw new Error("Invalid Quill container");const i=!n.theme||n.theme===wt.DEFAULTS.theme?am:wt.import(`themes/${n.theme}`);if(!i)throw new Error(`Invalid theme ${n.theme}. Did you register it?`);const{modules:a,...s}=wt.DEFAULTS,{modules:l,...u}=i.DEFAULTS;let d=G5(n.modules);d!=null&&d.toolbar&&d.toolbar.constructor!==Object&&(d={...d,toolbar:{container:d.toolbar}});const f=Xf({},G5(a),G5(l),d),g={...s,...Bk(u),...Bk(n)};let b=n.registry;return b?n.formats&&q0.warn('Ignoring "formats" option because "registry" is specified'):b=n.formats?c$(n.formats,g.registry,q0):g.registry,{...g,registry:b,container:t,theme:i,modules:Object.entries(f).reduce((m,x)=>{let[y,A]=x;if(!A)return m;const w=wt.import(`modules/${y}`);return w==null?(q0.error(`Cannot load ${y} module. Are you sure you registered it?`),m):{...m,[y]:Xf({},w.DEFAULTS||{},A)}},{}),bounds:qk(g.bounds)}}function cu(e,n,t,r){if(!this.isEnabled()&&n===Pt.sources.USER&&!this.allowReadOnlyEdits)return new Ht;let i=t==null?null:this.getSelection();const a=this.editor.delta,s=e();if(i!=null&&(t===!0&&(t=i.index),r==null?i=Uk(i,s,n):r!==0&&(i=Uk(i,t,r,n)),this.setSelection(i,Pt.sources.SILENT)),s.length()>0){const l=[Pt.events.TEXT_CHANGE,s,a,n];this.emitter.emit(Pt.events.EDITOR_CHANGE,...l),n!==Pt.sources.SILENT&&this.emitter.emit(...l)}return s}function md(e,n,t,r,i){let a={};return typeof e.index=="number"&&typeof e.length=="number"?typeof n!="number"?(i=r,r=t,t=n,n=e.length,e=e.index):(n=e.length,e=e.index):typeof n!="number"&&(i=r,r=t,t=n,n=0),typeof t=="object"?(a=t,i=r):typeof t=="string"&&(r!=null?a[t]=r:i=t),i=i||Pt.sources.API,[e,n,a,i]}function Uk(e,n,t,r){const i=typeof t=="number"?t:0;if(e==null)return null;let a,s;return n&&typeof n.transformPosition=="function"?[a,s]=[e.index,e.index+e.length].map(l=>n.transformPosition(l,r!==Pt.sources.USER)):[a,s]=[e.index,e.index+e.length].map(l=>l<n||l===n&&r===Pt.sources.USER?l:i>=0?l+i:Math.max(n,l+i)),new hp(a,s-a)}class kp extends Sv{}function $k(e){return e instanceof gs||e instanceof Il}function Hk(e){return typeof e.updateContent=="function"}class I0 extends X6{constructor(n,t,r){let{emitter:i}=r;super(n,t),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",a=>this.handleDragStart(a))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const n=this.batch;this.batch=!1,this.update(n)}emitMount(n){this.emitter.emit(Pt.events.SCROLL_BLOT_MOUNT,n)}emitUnmount(n){this.emitter.emit(Pt.events.SCROLL_BLOT_UNMOUNT,n)}emitEmbedUpdate(n,t){this.emitter.emit(Pt.events.SCROLL_EMBED_UPDATE,n,t)}deleteAt(n,t){const[r,i]=this.line(n),[a]=this.line(n+t);if(super.deleteAt(n,t),a!=null&&r!==a&&i>0){if(r instanceof Il||a instanceof Il){this.optimize();return}const s=a.children.head instanceof _u?null:a.children.head;r.moveChildren(a,s),r.remove()}this.optimize()}enable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",n?"true":"false")}formatAt(n,t,r,i){super.formatAt(n,t,r,i),this.optimize()}insertAt(n,t,r){if(n>=this.length())if(r==null||this.scroll.query(t,Yt.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&t.endsWith(`
`)?i.insertAt(0,t.slice(0,-1),r):i.insertAt(0,t,r)}else{const i=this.scroll.create(t,r);this.appendChild(i)}else super.insertAt(n,t,r);this.optimize()}insertBefore(n,t){if(n.statics.scope===Yt.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(n),super.insertBefore(r,t)}else super.insertBefore(n,t)}insertContents(n,t){const r=this.deltaToRenderBlocks(t.concat(new Ht().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const a=r.shift();if(a){const u=a.type==="block"&&(a.delta.length()===0||!this.descendant(Il,n)[0]&&n<this.length()),d=a.type==="block"?a.delta:new Ht().insert({[a.key]:a.value});Q5(this,n,d);const f=a.type==="block"?1:0,g=n+d.length()+f;u&&this.insertAt(g-1,`
`);const b=El(this.line(n)[0]),m=Dl.AttributeMap.diff(b,a.attributes)||{};Object.keys(m).forEach(x=>{this.formatAt(g-1,1,x,m[x])}),n=g}let[s,l]=this.children.find(n);if(r.length&&(s&&(s=s.split(l),l=0),r.forEach(u=>{if(u.type==="block"){const d=this.createBlock(u.attributes,s||void 0);Q5(d,0,u.delta)}else{const d=this.create(u.key,u.value);this.insertBefore(d,s||void 0),Object.keys(u.attributes).forEach(f=>{d.format(f,u.attributes[f])})}})),i.type==="block"&&i.delta.length()){const u=s?s.offset(s.scroll)+l:this.length();Q5(this,u,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(n){const t=this.path(n).pop();if(!t)return[null,-1];const[r,i]=t;return r instanceof Fs?[r,i]:[null,-1]}line(n){return n===this.length()?this.line(n-1):this.descendant($k,n)}lines(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,a,s)=>{let l=[],u=s;return i.children.forEachAt(a,s,(d,f,g)=>{$k(d)?l.push(d):d instanceof Sv&&(l=l.concat(r(d,f,u))),u-=g}),l};return r(this,n,t)}optimize(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(n,t),n.length>0&&this.emitter.emit(Pt.events.SCROLL_OPTIMIZE,n,t))}path(n){return super.path(n).slice(1)}remove(){}update(n){if(this.batch){Array.isArray(n)&&(this.batch=this.batch.concat(n));return}let t=Pt.sources.USER;typeof n=="string"&&(t=n),Array.isArray(n)||(n=this.observer.takeRecords()),n=n.filter(r=>{let{target:i}=r;const a=this.find(i,!0);return a&&!Hk(a)}),n.length>0&&this.emitter.emit(Pt.events.SCROLL_BEFORE_UPDATE,t,n),super.update(n.concat([])),n.length>0&&this.emitter.emit(Pt.events.SCROLL_UPDATE,t,n)}updateEmbedAt(n,t,r){const[i]=this.descendant(a=>a instanceof Il,n);i&&i.statics.blotName===t&&Hk(i)&&i.updateContent(r)}handleDragStart(n){n.preventDefault()}deltaToRenderBlocks(n){const t=[];let r=new Ht;return n.forEach(i=>{const a=i==null?void 0:i.insert;if(a)if(typeof a=="string"){const s=a.split(`
`);s.slice(0,-1).forEach(u=>{r.insert(u,i.attributes),t.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new Ht});const l=s[s.length-1];l&&r.insert(l,i.attributes)}else{const s=Object.keys(a)[0];if(!s)return;this.query(s,Yt.INLINE)?r.push(i):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new Ht,t.push({type:"blockEmbed",key:s,value:a[s],attributes:i.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(n,t){let r;const i={};Object.entries(n).forEach(l=>{let[u,d]=l;this.query(u,Yt.BLOCK&Yt.BLOT)!=null?r=u:i[u]=d});const a=this.create(r||this.statics.defaultChild.blotName,r?n[r]:void 0);this.insertBefore(a,t||void 0);const s=a.length();return Object.entries(i).forEach(l=>{let[u,d]=l;a.formatAt(0,s,u,d)}),a}}et(I0,"blotName","scroll"),et(I0,"className","ql-editor"),et(I0,"tagName","DIV"),et(I0,"defaultChild",gs),et(I0,"allowedChildren",[gs,Il,kp]);function Q5(e,n,t){t.reduce((r,i)=>{const a=Dl.Op.length(i);let s=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const l=i.insert;e.insertAt(r,l);const[u]=e.descendant(Fs,r),d=El(u);s=Dl.AttributeMap.diff(d,s)||{}}else if(typeof i.insert=="object"){const l=Object.keys(i.insert)[0];if(l==null)return r;if(e.insertAt(r,l,i.insert[l]),e.scroll.query(l,Yt.INLINE)!=null){const[d]=e.descendant(Fs,r),f=El(d);s=Dl.AttributeMap.diff(f,s)||{}}}}return Object.keys(s).forEach(l=>{e.formatAt(r,a,l,s[l])}),r+a},n)}const J6={scope:Yt.BLOCK,whitelist:["right","center","justify"]},f$=new Mc("align","align",J6),P7=new Eu("align","ql-align",J6),z7=new fh("align","text-align",J6);class q7 extends fh{value(n){let t=super.value(n);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):t}}const h$=new Eu("color","ql-color",{scope:Yt.INLINE}),eA=new q7("color","color",{scope:Yt.INLINE}),p$=new Eu("background","ql-bg",{scope:Yt.INLINE}),tA=new q7("background","background-color",{scope:Yt.INLINE});class Np extends kp{static create(n){const t=super.create(n);return t.setAttribute("spellcheck","false"),t}code(n,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(n,n+t)}html(n,t){return`<pre>
${Av(this.code(n,t))}
</pre>`}}class Us extends gs{static register(){wt.register(Np)}}et(Us,"TAB","  ");class nA extends Fc{}nA.blotName="code";nA.tagName="CODE";Us.blotName="code-block";Us.className="ql-code-block";Us.tagName="DIV";Np.blotName="code-block-container";Np.className="ql-code-block-container";Np.tagName="DIV";Np.allowedChildren=[Us];Us.allowedChildren=[Au,_u,im];Us.requiredContainer=Np;const rA={scope:Yt.BLOCK,whitelist:["rtl"]},B7=new Mc("direction","dir",rA),U7=new Eu("direction","ql-direction",rA),$7=new fh("direction","direction",rA),H7={scope:Yt.INLINE,whitelist:["serif","monospace"]},W7=new Eu("font","ql-font",H7);class m$ extends fh{value(n){return super.value(n).replace(/["']/g,"")}}const Y7=new m$("font","font-family",H7),V7=new Eu("size","ql-size",{scope:Yt.INLINE,whitelist:["small","large","huge"]}),G7=new fh("size","font-size",{scope:Yt.INLINE,whitelist:["10px","18px","32px"]}),g$=Wd("quill:keyboard"),b$=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Cv extends ku{static match(n,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==n[r]&&t[r]!==null)?!1:t.key===n.key||t.key===n.which}constructor(n,t){super(n,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=x$(n);if(i==null){g$.warn("Attempted to add invalid keyboard binding",i);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(s=>{const l={...i,key:s,...t,...r};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",n=>{if(n.defaultPrevented||n.isComposing||n.keyCode===229&&(n.key==="Enter"||n.key==="Backspace"))return;const i=(this.bindings[n.key]||[]).concat(this.bindings[n.which]||[]).filter(w=>Cv.match(n,w));if(i.length===0)return;const a=wt.find(n.target,!0);if(a&&a.scroll!==this.quill.scroll)return;const s=this.quill.getSelection();if(s==null||!this.quill.hasFocus())return;const[l,u]=this.quill.getLine(s.index),[d,f]=this.quill.getLeaf(s.index),[g,b]=s.length===0?[d,f]:this.quill.getLeaf(s.index+s.length),m=d instanceof Lx?d.value().slice(0,f):"",x=g instanceof Lx?g.value().slice(b):"",y={collapsed:s.length===0,empty:s.length===0&&l.length()<=1,format:this.quill.getFormat(s),line:l,offset:u,prefix:m,suffix:x,event:n};i.some(w=>{if(w.collapsed!=null&&w.collapsed!==y.collapsed||w.empty!=null&&w.empty!==y.empty||w.offset!=null&&w.offset!==y.offset)return!1;if(Array.isArray(w.format)){if(w.format.every(C=>y.format[C]==null))return!1}else if(typeof w.format=="object"&&!Object.keys(w.format).every(C=>w.format[C]===!0?y.format[C]!=null:w.format[C]===!1?y.format[C]==null:Mf(w.format[C],y.format[C])))return!1;return w.prefix!=null&&!w.prefix.test(y.prefix)||w.suffix!=null&&!w.suffix.test(y.suffix)?!1:w.handler.call(this,s,y,w)!==!0})&&n.preventDefault()})}handleBackspace(n,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(n.index===0||this.quill.getLength()<=1)return;let i={};const[a]=this.quill.getLine(n.index);let s=new Ht().retain(n.index-r).delete(r);if(t.offset===0){const[l]=this.quill.getLine(n.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const d=a.formats(),f=this.quill.getFormat(n.index-1,1);if(i=Dl.AttributeMap.diff(d,f)||{},Object.keys(i).length>0){const g=new Ht().retain(n.index+a.length()-2).retain(1,i);s=s.compose(g)}}}this.quill.updateContents(s,wt.sources.USER),this.quill.focus()}handleDelete(n,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(n.index>=this.quill.getLength()-r)return;let i={};const[a]=this.quill.getLine(n.index);let s=new Ht().retain(n.index).delete(r);if(t.offset>=a.length()-1){const[l]=this.quill.getLine(n.index+1);if(l){const u=a.formats(),d=this.quill.getFormat(n.index,1);i=Dl.AttributeMap.diff(u,d)||{},Object.keys(i).length>0&&(s=s.retain(l.length()-1).retain(1,i))}}this.quill.updateContents(s,wt.sources.USER),this.quill.focus()}handleDeleteRange(n){iA({range:n,quill:this.quill}),this.quill.focus()}handleEnter(n,t){const r=Object.keys(t.format).reduce((a,s)=>(this.quill.scroll.query(s,Yt.BLOCK)&&!Array.isArray(t.format[s])&&(a[s]=t.format[s]),a),{}),i=new Ht().retain(n.index).delete(n.length).insert(`
`,r);this.quill.updateContents(i,wt.sources.USER),this.quill.setSelection(n.index+1,wt.sources.SILENT),this.quill.focus()}}const y$={bindings:{bold:K5("bold"),italic:K5("italic"),underline:K5("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,n){return n.collapsed&&n.offset!==0?!0:(this.quill.format("indent","+1",wt.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,n){return n.collapsed&&n.offset!==0?!0:(this.quill.format("indent","-1",wt.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,n){n.format.indent!=null?this.quill.format("indent","-1",wt.sources.USER):n.format.list!=null&&this.quill.format("list",!1,wt.sources.USER)}},"indent code-block":Wk(!0),"outdent code-block":Wk(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,wt.sources.USER)}},tab:{key:"Tab",handler(e,n){if(n.format.table)return!0;this.quill.history.cutoff();const t=new Ht().retain(e.index).delete(e.length).insert("	");return this.quill.updateContents(t,wt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,wt.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,wt.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,n){const t={list:!1};n.format.indent&&(t.indent=!1),this.quill.formatLine(e.index,e.length,t,wt.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[n,t]=this.quill.getLine(e.index),r={...n.formats(),list:"checked"},i=new Ht().retain(e.index).insert(`
`,r).retain(n.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,wt.sources.USER),this.quill.setSelection(e.index+1,wt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,n){const[t,r]=this.quill.getLine(e.index),i=new Ht().retain(e.index).insert(`
`,n.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,wt.sources.USER),this.quill.setSelection(e.index+1,wt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const n=this.quill.getModule("table");if(n){const[t,r,i,a]=n.getTable(e),s=v$(t,r,i,a);if(s==null)return;let l=t.offset();if(s<0){const u=new Ht().retain(l).insert(`
`);this.quill.updateContents(u,wt.sources.USER),this.quill.setSelection(e.index+1,e.length,wt.sources.SILENT)}else if(s>0){l+=t.length();const u=new Ht().retain(l).insert(`
`);this.quill.updateContents(u,wt.sources.USER),this.quill.setSelection(l,wt.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,n){const{event:t,line:r}=n,i=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(i-1,wt.sources.USER):this.quill.setSelection(i+r.length(),wt.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,n){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=n.prefix,[r,i]=this.quill.getLine(e.index);if(i>t)return!0;let a;switch(n.prefix.trim()){case"[]":case"[ ]":a="unchecked";break;case"[x]":a="checked";break;case"-":case"*":a="bullet";break;default:a="ordered"}this.quill.insertText(e.index," ",wt.sources.USER),this.quill.history.cutoff();const s=new Ht().retain(e.index-i).delete(t+1).retain(r.length()-2-i).retain(1,{list:a});return this.quill.updateContents(s,wt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-t,wt.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[n,t]=this.quill.getLine(e.index);let r=2,i=n;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const a=new Ht().retain(e.index+n.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(a,wt.sources.USER),this.quill.setSelection(e.index-1,wt.sources.SILENT),!1}return!0}},"embed left":Ty("ArrowLeft",!1),"embed left shift":Ty("ArrowLeft",!0),"embed right":Ty("ArrowRight",!1),"embed right shift":Ty("ArrowRight",!0),"table down":Yk(!1),"table up":Yk(!0)}};Cv.DEFAULTS=y$;function Wk(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(n,t){let{event:r}=t;const i=this.quill.scroll.query("code-block"),{TAB:a}=i;if(n.length===0&&!r.shiftKey){this.quill.insertText(n.index,a,wt.sources.USER),this.quill.setSelection(n.index+a.length,wt.sources.SILENT);return}const s=n.length===0?this.quill.getLines(n.index,1):this.quill.getLines(n);let{index:l,length:u}=n;s.forEach((d,f)=>{e?(d.insertAt(0,a),f===0?l+=a.length:u+=a.length):d.domNode.textContent.startsWith(a)&&(d.deleteAt(0,a.length),f===0?l-=a.length:u-=a.length)}),this.quill.update(wt.sources.USER),this.quill.setSelection(l,u,wt.sources.SILENT)}}}function Ty(e,n){return{key:e,shiftKey:n,altKey:null,[e==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;e==="ArrowRight"&&(i+=r.length+1);const[a]=this.quill.getLeaf(i);return a instanceof rl?(e==="ArrowLeft"?n?this.quill.setSelection(r.index-1,r.length+1,wt.sources.USER):this.quill.setSelection(r.index-1,wt.sources.USER):n?this.quill.setSelection(r.index,r.length+1,wt.sources.USER):this.quill.setSelection(r.index+r.length+1,wt.sources.USER),!1):!0}}}function K5(e){return{key:e[0],shortKey:!0,handler(n,t){this.quill.format(e,!t.format[e],wt.sources.USER)}}}function Yk(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(n,t){const r=e?"prev":"next",i=t.line,a=i.parent[r];if(a!=null){if(a.statics.blotName==="table-row"){let s=a.children.head,l=i;for(;l.prev!=null;)l=l.prev,s=s.next;const u=s.offset(this.quill.scroll)+Math.min(t.offset,s.length()-1);this.quill.setSelection(u,0,wt.sources.USER)}}else{const s=i.table()[r];s!=null&&(e?this.quill.setSelection(s.offset(this.quill.scroll)+s.length()-1,0,wt.sources.USER):this.quill.setSelection(s.offset(this.quill.scroll),0,wt.sources.USER))}return!1}}}function x$(e){if(typeof e=="string"||typeof e=="number")e={key:e};else if(typeof e=="object")e=P0(e);else return null;return e.shortKey&&(e[b$]=e.shortKey,delete e.shortKey),e}function iA(e){let{quill:n,range:t}=e;const r=n.getLines(t);let i={};if(r.length>1){const a=r[0].formats(),s=r[r.length-1].formats();i=Dl.AttributeMap.diff(s,a)||{}}n.deleteText(t,wt.sources.USER),Object.keys(i).length>0&&n.formatLine(t.index,1,i,wt.sources.USER),n.setSelection(t.index,wt.sources.SILENT)}function v$(e,n,t,r){return n.prev==null&&n.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:n.prev==null?-1:n.next==null?1:null}const w$=/font-weight:\s*normal/,S$=["P","OL","UL"],Vk=e=>e&&S$.includes(e.tagName),A$=e=>{Array.from(e.querySelectorAll("br")).filter(n=>Vk(n.previousElementSibling)&&Vk(n.nextElementSibling)).forEach(n=>{var t;(t=n.parentNode)==null||t.removeChild(n)})},C$=e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter(n=>{var t;return(t=n.getAttribute("style"))==null?void 0:t.match(w$)}).forEach(n=>{var r;const t=e.createDocumentFragment();t.append(...n.childNodes),(r=n.parentNode)==null||r.replaceChild(t,n)})};function E$(e){e.querySelector('[id^="docs-internal-guid-"]')&&(C$(e),A$(e))}const _$=/\bmso-list:[^;]*ignore/i,k$=/\bmso-list:[^;]*\bl(\d+)/i,N$=/\bmso-list:[^;]*\blevel(\d+)/i,T$=(e,n)=>{const t=e.getAttribute("style"),r=t==null?void 0:t.match(k$);if(!r)return null;const i=Number(r[1]),a=t==null?void 0:t.match(N$),s=a?Number(a[1]):1,l=new RegExp(`@list l${i}:level${s}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),u=n.match(l),d=u&&u[1]==="bullet"?"bullet":"ordered";return{id:i,indent:s,type:d,element:e}},j$=e=>{var s,l;const n=Array.from(e.querySelectorAll("[style*=mso-list]")),t=[],r=[];n.forEach(u=>{(u.getAttribute("style")||"").match(_$)?t.push(u):r.push(u)}),t.forEach(u=>{var d;return(d=u.parentNode)==null?void 0:d.removeChild(u)});const i=e.documentElement.innerHTML,a=r.map(u=>T$(u,i)).filter(u=>u);for(;a.length;){const u=[];let d=a.shift();for(;d;)u.push(d),d=a.length&&((s=a[0])==null?void 0:s.element)===d.element.nextElementSibling&&a[0].id===d.id?a.shift():null;const f=document.createElement("ul");u.forEach(m=>{const x=document.createElement("li");x.setAttribute("data-list",m.type),m.indent>1&&x.setAttribute("class",`ql-indent-${m.indent-1}`),x.innerHTML=m.element.innerHTML,f.appendChild(x)});const g=(l=u[0])==null?void 0:l.element,{parentNode:b}=g??{};g&&(b==null||b.replaceChild(f,g)),u.slice(1).forEach(m=>{let{element:x}=m;b==null||b.removeChild(x)})}};function O$(e){e.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&j$(e)}const I$=[O$,E$],D$=e=>{e.documentElement&&I$.forEach(n=>{n(e)})},L$=Wd("quill:clipboard"),R$=[[Node.TEXT_NODE,V$],[Node.TEXT_NODE,Qk],["br",q$],[Node.ELEMENT_NODE,Qk],[Node.ELEMENT_NODE,z$],[Node.ELEMENT_NODE,P$],[Node.ELEMENT_NODE,W$],["li",$$],["ol, ul",H$],["pre",B$],["tr",Y$],["b",X5("bold")],["i",X5("italic")],["strike",X5("strike")],["style",U$]],M$=[f$,B7].reduce((e,n)=>(e[n.keyName]=n,e),{}),Gk=[z7,tA,eA,$7,Y7,G7].reduce((e,n)=>(e[n.keyName]=n,e),{});class Q7 extends ku{constructor(n,t){super(n,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],R$.concat(this.options.matchers??[]).forEach(r=>{let[i,a]=r;this.addMatcher(i,a)})}addMatcher(n,t){this.matchers.push([n,t])}convert(n){let{html:t,text:r}=n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[Us.blotName])return new Ht().insert(r||"",{[Us.blotName]:i[Us.blotName]});if(!t)return new Ht().insert(r||"",i);const a=this.convertHTML(t);return Xg(a,`
`)&&(a.ops[a.ops.length-1].attributes==null||i.table)?a.compose(new Ht().retain(a.length()-1).delete(1)):a}normalizeHTML(n){D$(n)}convertHTML(n){const t=new DOMParser().parseFromString(n,"text/html");this.normalizeHTML(t);const r=t.body,i=new WeakMap,[a,s]=this.prepareMatching(r,i);return aA(this.quill.scroll,r,a,s,i)}dangerouslyPasteHTML(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wt.sources.API;if(typeof n=="string"){const i=this.convert({html:n,text:""});this.quill.setContents(i,t),this.quill.setSelection(0,wt.sources.SILENT)}else{const i=this.convert({html:t,text:""});this.quill.updateContents(new Ht().retain(n).concat(i),r),this.quill.setSelection(n+i.length(),wt.sources.SILENT)}}onCaptureCopy(n){var s,l;let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n.defaultPrevented)return;n.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:a}=this.onCopy(r,t);(s=n.clipboardData)==null||s.setData("text/plain",a),(l=n.clipboardData)==null||l.setData("text/html",i),t&&iA({range:r,quill:this.quill})}normalizeURIList(n){return n.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(n){var s,l,u,d,f;if(n.defaultPrevented||!this.quill.isEnabled())return;n.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=(s=n.clipboardData)==null?void 0:s.getData("text/html");let i=(l=n.clipboardData)==null?void 0:l.getData("text/plain");if(!r&&!i){const g=(u=n.clipboardData)==null?void 0:u.getData("text/uri-list");g&&(i=this.normalizeURIList(g))}const a=Array.from(((d=n.clipboardData)==null?void 0:d.files)||[]);if(!r&&a.length>0){this.quill.uploader.upload(t,a);return}if(r&&a.length>0){const g=new DOMParser().parseFromString(r,"text/html");if(g.body.childElementCount===1&&((f=g.body.firstElementChild)==null?void 0:f.tagName)==="IMG"){this.quill.uploader.upload(t,a);return}}this.onPaste(t,{html:r,text:i})}onCopy(n){const t=this.quill.getText(n);return{html:this.quill.getSemanticHTML(n),text:t}}onPaste(n,t){let{text:r,html:i}=t;const a=this.quill.getFormat(n.index),s=this.convert({text:r,html:i},a);L$.log("onPaste",s,{text:r,html:i});const l=new Ht().retain(n.index).delete(n.length).concat(s);this.quill.updateContents(l,wt.sources.USER),this.quill.setSelection(l.length()-n.length,wt.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(n,t){const r=[],i=[];return this.matchers.forEach(a=>{const[s,l]=a;switch(s){case Node.TEXT_NODE:i.push(l);break;case Node.ELEMENT_NODE:r.push(l);break;default:Array.from(n.querySelectorAll(s)).forEach(u=>{if(t.has(u)){const d=t.get(u);d==null||d.push(l)}else t.set(u,[l])});break}}),[r,i]}}et(Q7,"DEFAULTS",{matchers:[]});function Tp(e,n,t,r){return r.query(n)?e.reduce((i,a)=>{if(!a.insert)return i;if(a.attributes&&a.attributes[n])return i.push(a);const s=t?{[n]:t}:{};return i.insert(a.insert,{...s,...a.attributes})},new Ht):e}function Xg(e,n){let t="";for(let r=e.ops.length-1;r>=0&&t.length<n.length;--r){const i=e.ops[r];if(typeof i.insert!="string")break;t=i.insert+t}return t.slice(-1*n.length)===n}function qf(e,n){if(!(e instanceof Element))return!1;const t=n.query(e);return t&&t.prototype instanceof rl?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}function F$(e,n){return e.previousElementSibling&&e.nextElementSibling&&!qf(e.previousElementSibling,n)&&!qf(e.nextElementSibling,n)}const jy=new WeakMap;function K7(e){return e==null?!1:(jy.has(e)||(e.tagName==="PRE"?jy.set(e,!0):jy.set(e,K7(e.parentNode))),jy.get(e))}function aA(e,n,t,r,i){return n.nodeType===n.TEXT_NODE?r.reduce((a,s)=>s(n,a,e),new Ht):n.nodeType===n.ELEMENT_NODE?Array.from(n.childNodes||[]).reduce((a,s)=>{let l=aA(e,s,t,r,i);return s.nodeType===n.ELEMENT_NODE&&(l=t.reduce((u,d)=>d(s,u,e),l),l=(i.get(s)||[]).reduce((u,d)=>d(s,u,e),l)),a.concat(l)},new Ht):new Ht}function X5(e){return(n,t,r)=>Tp(t,e,!0,r)}function P$(e,n,t){const r=Mc.keys(e),i=Eu.keys(e),a=fh.keys(e),s={};return r.concat(i).concat(a).forEach(l=>{let u=t.query(l,Yt.ATTRIBUTE);u!=null&&(s[u.attrName]=u.value(e),s[u.attrName])||(u=M$[l],u!=null&&(u.attrName===l||u.keyName===l)&&(s[u.attrName]=u.value(e)||void 0),u=Gk[l],u!=null&&(u.attrName===l||u.keyName===l)&&(u=Gk[l],s[u.attrName]=u.value(e)||void 0))}),Object.entries(s).reduce((l,u)=>{let[d,f]=u;return Tp(l,d,f,t)},n)}function z$(e,n,t){const r=t.query(e);if(r==null)return n;if(r.prototype instanceof rl){const i={},a=r.value(e);if(a!=null)return i[r.blotName]=a,new Ht().insert(i,r.formats(e,t))}else if(r.prototype instanceof wg&&!Xg(n,`
`)&&n.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return Tp(n,r.blotName,r.formats(e,t),t);return n}function q$(e,n){return Xg(n,`
`)||n.insert(`
`),n}function B$(e,n,t){const r=t.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(e,t):!0;return Tp(n,"code-block",i,t)}function U$(){return new Ht}function $$(e,n,t){const r=t.query(e);if(r==null||r.blotName!=="list"||!Xg(n,`
`))return n;let i=-1,a=e.parentNode;for(;a!=null;)["OL","UL"].includes(a.tagName)&&(i+=1),a=a.parentNode;return i<=0?n:n.reduce((s,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?s.push(l):s.insert(l.insert,{indent:i,...l.attributes||{}}):s,new Ht)}function H$(e,n,t){const r=e;let i=r.tagName==="OL"?"ordered":"bullet";const a=r.getAttribute("data-checked");return a&&(i=a==="true"?"checked":"unchecked"),Tp(n,"list",i,t)}function Qk(e,n,t){if(!Xg(n,`
`)){if(qf(e,t)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return n.insert(`
`);if(n.length()>0&&e.nextSibling){let r=e.nextSibling;for(;r!=null;){if(qf(r,t))return n.insert(`
`);const i=t.query(r);if(i&&i.prototype instanceof Il)return n.insert(`
`);r=r.firstChild}}}return n}function W$(e,n,t){var a;const r={},i=e.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),((a=i.fontWeight)!=null&&a.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),n=Object.entries(r).reduce((s,l)=>{let[u,d]=l;return Tp(s,u,d,t)},n),parseFloat(i.textIndent||0)>0?new Ht().insert("	").concat(n):n}function Y$(e,n,t){var i,a;const r=((i=e.parentElement)==null?void 0:i.tagName)==="TABLE"?e.parentElement:(a=e.parentElement)==null?void 0:a.parentElement;if(r!=null){const l=Array.from(r.querySelectorAll("tr")).indexOf(e)+1;return Tp(n,"table",l,t)}return n}function V$(e,n,t){var i;let r=e.data;if(((i=e.parentElement)==null?void 0:i.tagName)==="O:P")return n.insert(r.trim());if(!K7(e)){if(r.trim().length===0&&r.includes(`
`)&&!F$(e,t))return n;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(e.previousSibling==null&&e.parentElement!=null&&qf(e.parentElement,t)||e.previousSibling instanceof Element&&qf(e.previousSibling,t))&&(r=r.replace(/^ /,"")),(e.nextSibling==null&&e.parentElement!=null&&qf(e.parentElement,t)||e.nextSibling instanceof Element&&qf(e.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return n.insert(r)}class X7 extends ku{constructor(t,r){super(t,r);et(this,"lastRecorded",0);et(this,"ignoreChange",!1);et(this,"stack",{undo:[],redo:[]});et(this,"currentRange",null);this.quill.on(wt.events.EDITOR_CHANGE,(i,a,s,l)=>{i===wt.events.SELECTION_CHANGE?a&&l!==wt.sources.SILENT&&(this.currentRange=a):i===wt.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===wt.sources.USER?this.record(a,s):this.transform(a)),this.currentRange=wS(this.currentRange,a))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(t,r){if(this.stack[t].length===0)return;const i=this.stack[t].pop();if(!i)return;const a=this.quill.getContents(),s=i.delta.invert(a);this.stack[r].push({delta:s,range:wS(i.range,s)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,wt.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,r){if(t.ops.length===0)return;this.stack.redo=[];let i=t.invert(r),a=this.currentRange;const s=Date.now();if(this.lastRecorded+this.options.delay>s&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(i=i.compose(l.delta),a=l.range)}else this.lastRecorded=s;i.length()!==0&&(this.stack.undo.push({delta:i,range:a}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){Kk(this.stack.undo,t),Kk(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,wt.sources.USER);else{const r=Q$(this.quill.scroll,t.delta);this.quill.setSelection(r,wt.sources.USER)}}}et(X7,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function Kk(e,n){let t=n;for(let r=e.length-1;r>=0;r-=1){const i=e[r];e[r]={delta:t.transform(i.delta,!0),range:i.range&&wS(i.range,t)},t=i.delta.transform(t),e[r].delta.length()===0&&e.splice(r,1)}}function G$(e,n){const t=n.ops[n.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>e.query(r,Yt.BLOCK)!=null):!1}function Q$(e,n){const t=n.reduce((i,a)=>i+(a.delete||0),0);let r=n.length()-t;return G$(e,n)&&(r-=1),r}function wS(e,n){if(!e)return e;const t=n.transformPosition(e.index),r=n.transformPosition(e.index+e.length);return{index:t,length:r-t}}class Z7 extends ku{constructor(n,t){super(n,t),n.root.addEventListener("drop",r=>{var s;r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(l.offsetNode,l.offset),i.setEnd(l.offsetNode,l.offset)}const a=i&&n.selection.normalizeNative(i);if(a){const l=n.selection.normalizedToRange(a);(s=r.dataTransfer)!=null&&s.files&&this.upload(l,r.dataTransfer.files)}})}upload(n,t){const r=[];Array.from(t).forEach(i=>{var a;i&&((a=this.options.mimetypes)!=null&&a.includes(i.type))&&r.push(i)}),r.length>0&&this.options.handler.call(this,n,r)}}Z7.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,n){if(!this.quill.scroll.query("image"))return;const t=n.map(r=>new Promise(i=>{const a=new FileReader;a.onload=()=>{i(a.result)},a.readAsDataURL(r)}));Promise.all(t).then(r=>{const i=r.reduce((a,s)=>a.insert({image:s}),new Ht().retain(e.index).delete(e.length));this.quill.updateContents(i,Pt.sources.USER),this.quill.setSelection(e.index+r.length,Pt.sources.SILENT)})}};const K$=["insertText","insertReplacementText"];class X$ extends ku{constructor(n,t){super(n,t),n.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||n.on(wt.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(n){iA({range:n,quill:this.quill})}replaceText(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n.length===0)return!1;if(t){const r=this.quill.getFormat(n.index,1);this.deleteRange(n),this.quill.updateContents(new Ht().retain(n.index).insert(t,r),wt.sources.USER)}else this.deleteRange(n);return this.quill.setSelection(n.index+t.length,0,wt.sources.SILENT),!0}handleBeforeInput(n){if(this.quill.composition.isComposing||n.defaultPrevented||!K$.includes(n.inputType))return;const t=n.getTargetRanges?n.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=Z$(n);if(r==null)return;const i=this.quill.selection.normalizeNative(t),a=i?this.quill.selection.normalizedToRange(i):null;a&&this.replaceText(a,r)&&n.preventDefault()}handleCompositionStart(){const n=this.quill.getSelection();n&&this.replaceText(n)}}function Z$(e){var n;return typeof e.data=="string"?e.data:(n=e.dataTransfer)!=null&&n.types.includes("text/plain")?e.dataTransfer.getData("text/plain"):null}const J$=/Mac/i.test(navigator.platform),eH=100,tH=e=>!!(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="Home"||J$&&e.key==="a"&&e.ctrlKey===!0);class nH extends ku{constructor(t,r){super(t,r);et(this,"isListening",!1);et(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,r){let{line:i,event:a}=r;if(!(i instanceof vu)||!i.uiNode)return!0;const s=getComputedStyle(i.domNode).direction==="rtl";return s&&a.key!=="ArrowRight"||!s&&a.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(a.shiftKey?1:0),wt.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&tH(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+eH,this.isListening)return;this.isListening=!0;const t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const r=t.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const i=this.quill.scroll.find(r.startContainer);if(!(i instanceof vu)||!i.uiNode)return;const a=document.createRange();a.setStartAfter(i.uiNode),a.setEndAfter(i.uiNode),t.removeAllRanges(),t.addRange(a)}}wt.register({"blots/block":gs,"blots/block/embed":Il,"blots/break":_u,"blots/container":kp,"blots/cursor":im,"blots/embed":Z6,"blots/inline":Fc,"blots/scroll":I0,"blots/text":Au,"modules/clipboard":Q7,"modules/history":X7,"modules/keyboard":Cv,"modules/uploader":Z7,"modules/input":X$,"modules/uiNode":nH});class rH extends Eu{add(n,t){let r=0;if(t==="+1"||t==="-1"){const i=this.value(n)||0;r=t==="+1"?i+1:i-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(n),!0):super.add(n,r.toString())}canAdd(n,t){return super.canAdd(n,t)||super.canAdd(n,parseInt(t,10))}value(n){return parseInt(super.value(n),10)||void 0}}const iH=new rH("indent","ql-indent",{scope:Yt.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class SS extends gs{}et(SS,"blotName","blockquote"),et(SS,"tagName","blockquote");class AS extends gs{static formats(n){return this.tagName.indexOf(n.tagName)+1}}et(AS,"blotName","header"),et(AS,"tagName",["H1","H2","H3","H4","H5","H6"]);class Zg extends kp{}Zg.blotName="list-container";Zg.tagName="OL";class Jg extends gs{static create(n){const t=super.create();return t.setAttribute("data-list",n),t}static formats(n){return n.getAttribute("data-list")||void 0}static register(){wt.register(Zg)}constructor(n,t){super(n,t);const r=t.ownerDocument.createElement("span"),i=a=>{if(!n.isEnabled())return;const s=this.statics.formats(t,n);s==="checked"?(this.format("list","unchecked"),a.preventDefault()):s==="unchecked"&&(this.format("list","checked"),a.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(n,t){n===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(n,t)}}Jg.blotName="list";Jg.tagName="LI";Zg.allowedChildren=[Jg];Jg.requiredContainer=Zg;class Ag extends Fc{static create(){return super.create()}static formats(){return!0}optimize(n){super.optimize(n),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}et(Ag,"blotName","bold"),et(Ag,"tagName",["STRONG","B"]);class CS extends Ag{}et(CS,"blotName","italic"),et(CS,"tagName",["EM","I"]);class Bf extends Fc{static create(n){const t=super.create(n);return t.setAttribute("href",this.sanitize(n)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(n){return n.getAttribute("href")}static sanitize(n){return J7(n,this.PROTOCOL_WHITELIST)?n:this.SANITIZED_URL}format(n,t){n!==this.statics.blotName||!t?super.format(n,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}et(Bf,"blotName","link"),et(Bf,"tagName","A"),et(Bf,"SANITIZED_URL","about:blank"),et(Bf,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function J7(e,n){const t=document.createElement("a");t.href=e;const r=t.href.slice(0,t.href.indexOf(":"));return n.indexOf(r)>-1}class ES extends Fc{static create(n){return n==="super"?document.createElement("sup"):n==="sub"?document.createElement("sub"):super.create(n)}static formats(n){if(n.tagName==="SUB")return"sub";if(n.tagName==="SUP")return"super"}}et(ES,"blotName","script"),et(ES,"tagName",["SUB","SUP"]);class _S extends Ag{}et(_S,"blotName","strike"),et(_S,"tagName",["S","STRIKE"]);class kS extends Fc{}et(kS,"blotName","underline"),et(kS,"tagName","U");class tx extends Z6{static create(n){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(n);return typeof n=="string"&&(window.katex.render(n,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",n)),t}static value(n){return n.getAttribute("data-value")}html(){const{formula:n}=this.value();return`<span>${n}</span>`}}et(tx,"blotName","formula"),et(tx,"className","ql-formula"),et(tx,"tagName","SPAN");const Xk=["alt","height","width"];var Xy;let aH=(Xy=class extends rl{static create(n){const t=super.create(n);return typeof n=="string"&&t.setAttribute("src",this.sanitize(n)),t}static formats(n){return Xk.reduce((t,r)=>(n.hasAttribute(r)&&(t[r]=n.getAttribute(r)),t),{})}static match(n){return/\.(jpe?g|gif|png)$/.test(n)||/^data:image\/.+;base64/.test(n)}static sanitize(n){return J7(n,["http","https","data"])?n:"//:0"}static value(n){return n.getAttribute("src")}format(n,t){Xk.indexOf(n)>-1?t?this.domNode.setAttribute(n,t):this.domNode.removeAttribute(n):super.format(n,t)}},et(Xy,"blotName","image"),et(Xy,"tagName","IMG"),Xy);const Zk=["height","width"];class nx extends Il{static create(n){const t=super.create(n);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(n)),t}static formats(n){return Zk.reduce((t,r)=>(n.hasAttribute(r)&&(t[r]=n.getAttribute(r)),t),{})}static sanitize(n){return Bf.sanitize(n)}static value(n){return n.getAttribute("src")}format(n,t){Zk.indexOf(n)>-1?t?this.domNode.setAttribute(n,t):this.domNode.removeAttribute(n):super.format(n,t)}html(){const{video:n}=this.value();return`<a href="${n}">${n}</a>`}}et(nx,"blotName","video"),et(nx,"className","ql-video"),et(nx,"tagName","IFRAME");const K1=new Eu("code-token","hljs",{scope:Yt.INLINE});class Md extends Fc{static formats(n,t){for(;n!=null&&n!==t.domNode;){if(n.classList&&n.classList.contains(Us.className))return super.formats(n,t);n=n.parentNode}}constructor(n,t,r){super(n,t,r),K1.add(this.domNode,r)}format(n,t){n!==Md.blotName?super.format(n,t):t?K1.add(this.domNode,t):(K1.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),K1.value(this.domNode)||this.unwrap()}}Md.blotName="code-token";Md.className="ql-token";class _l extends Us{static create(n){const t=super.create(n);return typeof n=="string"&&t.setAttribute("data-language",n),t}static formats(n){return n.getAttribute("data-language")||"plain"}static register(){}format(n,t){n===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(n,t)}replaceWith(n,t){return this.formatAt(0,this.length(),Md.blotName,!1),super.replaceWith(n,t)}}class tg extends Np{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(n,t){n===_l.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(n,t)}))}formatAt(n,t,r,i){r===_l.blotName&&(this.forceNext=!0),super.formatAt(n,t,r,i)}highlight(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(s=>s!==this.uiNode).map(s=>s.textContent).join(`
`)}
`,a=_l.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const s=this.children.reduce((u,d)=>u.concat(M7(d,!1)),new Ht),l=n(i,a);s.diff(l).reduce((u,d)=>{let{retain:f,attributes:g}=d;return f?(g&&Object.keys(g).forEach(b=>{[_l.blotName,Md.blotName].includes(b)&&this.formatAt(u,f,b,g[b])}),u+f):u},0)}this.cachedText=i,this.forceNext=!1}}html(n,t){const[r]=this.children.find(n);return`<pre data-language="${r?_l.formats(r.domNode):"plain"}">
${Av(this.code(n,t))}
</pre>`}optimize(n){if(super.optimize(n),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=_l.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}tg.allowedChildren=[_l];_l.requiredContainer=tg;_l.allowedChildren=[Md,im,Au,_u];const sH=(e,n,t)=>{if(typeof e.versionString=="string"){const r=e.versionString.split(".")[0];if(parseInt(r,10)>=11)return e.highlight(t,{language:n}).value}return e.highlight(n,t).value};class eO extends ku{static register(){wt.register(Md,!0),wt.register(_l,!0),wt.register(tg,!0)}constructor(n,t){if(super(n,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:a}=i;return r[a]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(wt.events.SCROLL_BLOT_MOUNT,n=>{if(!(n instanceof tg))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:a}=r;const s=t.ownerDocument.createElement("option");s.textContent=a,s.setAttribute("value",i),t.appendChild(s)}),t.addEventListener("change",()=>{n.format(_l.blotName,t.value),this.quill.root.focus(),this.highlight(n,!0)}),n.uiNode==null&&(n.attachUI(t),n.children.head&&(t.value=_l.formats(n.children.head.domNode)))})}initTimer(){let n=null;this.quill.on(wt.events.SCROLL_OPTIMIZE,()=>{n&&clearTimeout(n),n=setTimeout(()=>{this.highlight(),n=null},this.options.interval)})}highlight(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(wt.sources.USER);const r=this.quill.getSelection();(n==null?this.quill.scroll.descendants(tg):[n]).forEach(a=>{a.highlight(this.highlightBlot,t)}),this.quill.update(wt.sources.SILENT),r!=null&&this.quill.setSelection(r,wt.sources.SILENT)}highlightBlot(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return Av(n).split(`
`).reduce((i,a,s)=>(s!==0&&i.insert(`
`,{[Us.blotName]:t}),i.insert(a)),new Ht);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(Us.className),r.innerHTML=sH(this.options.hljs,t,n),aA(this.quill.scroll,r,[(i,a)=>{const s=K1.value(i);return s?a.compose(new Ht().retain(a.length(),{[Md.blotName]:s})):a}],[(i,a)=>i.data.split(`
`).reduce((s,l,u)=>(u!==0&&s.insert(`
`,{[Us.blotName]:t}),s.insert(l)),a)],new WeakMap)}}eO.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const ug=class ug extends gs{static create(n){const t=super.create();return n?t.setAttribute("data-row",n):t.setAttribute("data-row",sA()),t}static formats(n){if(n.hasAttribute("data-row"))return n.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(n,t){n===ug.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(n,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};et(ug,"blotName","table"),et(ug,"tagName","TD");let yu=ug;class Fd extends kp{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const n=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return n.table===t.table&&n.table===r.table&&n.table===i.table}return!1}optimize(n){super.optimize(n),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),i=t.next.formats();if(r.table!==i.table){const a=this.splitAfter(t);a&&a.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}et(Fd,"blotName","table-row"),et(Fd,"tagName","TR");class Ec extends kp{}et(Ec,"blotName","table-body"),et(Ec,"tagName","TBODY");class sm extends kp{balanceCells(){const n=this.descendants(Fd),t=n.reduce((r,i)=>Math.max(i.children.length,r),0);n.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=yu.formats(r.children.head.domNode));const a=this.scroll.create(yu.blotName,i);r.appendChild(a),a.optimize()})})}cells(n){return this.rows().map(t=>t.children.at(n))}deleteColumn(n){const[t]=this.descendant(Ec);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(n);i!=null&&i.remove()})}insertColumn(n){const[t]=this.descendant(Ec);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(n),a=yu.formats(r.children.head.domNode),s=this.scroll.create(yu.blotName,a);r.insertBefore(s,i)})}insertRow(n){const[t]=this.descendant(Ec);if(t==null||t.children.head==null)return;const r=sA(),i=this.scroll.create(Fd.blotName);t.children.head.children.forEach(()=>{const s=this.scroll.create(yu.blotName,r);i.appendChild(s)});const a=t.children.at(n);t.insertBefore(i,a)}rows(){const n=this.children.head;return n==null?[]:n.children.map(t=>t)}}et(sm,"blotName","table-container"),et(sm,"tagName","TABLE");sm.allowedChildren=[Ec];Ec.requiredContainer=sm;Ec.allowedChildren=[Fd];Fd.requiredContainer=Ec;Fd.allowedChildren=[yu];yu.requiredContainer=Fd;function sA(){return`row-${Math.random().toString(36).slice(2,6)}`}class oH extends ku{static register(){wt.register(yu),wt.register(Fd),wt.register(Ec),wt.register(sm)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(sm).forEach(n=>{n.balanceCells()})}deleteColumn(){const[n,,t]=this.getTable();t!=null&&(n.deleteColumn(t.cellOffset()),this.quill.update(wt.sources.USER))}deleteRow(){const[,n]=this.getTable();n!=null&&(n.remove(),this.quill.update(wt.sources.USER))}deleteTable(){const[n]=this.getTable();if(n==null)return;const t=n.offset();n.remove(),this.quill.update(wt.sources.USER),this.quill.setSelection(t,wt.sources.SILENT)}getTable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(n==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(n.index);if(t==null||t.statics.blotName!==yu.blotName)return[null,null,null,-1];const i=t.parent;return[i.parent.parent,i,t,r]}insertColumn(n){const t=this.quill.getSelection();if(!t)return;const[r,i,a]=this.getTable(t);if(a==null)return;const s=a.cellOffset();r.insertColumn(s+n),this.quill.update(wt.sources.USER);let l=i.rowOffset();n===0&&(l+=1),this.quill.setSelection(t.index+l,t.length,wt.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(n){const t=this.quill.getSelection();if(!t)return;const[r,i,a]=this.getTable(t);if(a==null)return;const s=i.rowOffset();r.insertRow(s+n),this.quill.update(wt.sources.USER),n>0?this.quill.setSelection(t,wt.sources.SILENT):this.quill.setSelection(t.index+i.children.length,t.length,wt.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(n,t){const r=this.quill.getSelection();if(r==null)return;const i=new Array(n).fill(0).reduce(a=>{const s=new Array(t).fill(`
`).join("");return a.insert(s,{table:sA()})},new Ht().retain(r.index));this.quill.updateContents(i,wt.sources.USER),this.quill.setSelection(r.index,wt.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(wt.events.SCROLL_OPTIMIZE,n=>{n.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(wt.events.TEXT_CHANGE,(r,i,a)=>{a===wt.sources.USER&&this.balanceTables()}),!0):!1)})}}const Jk=Wd("quill:toolbar");class oA extends ku{constructor(n,t){var r,i;if(super(n,t),Array.isArray(this.options.container)){const a=document.createElement("div");a.setAttribute("role","toolbar"),lH(a,this.options.container),(i=(r=n.container)==null?void 0:r.parentNode)==null||i.insertBefore(a,n.container),this.container=a}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Jk.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(a=>{var l;const s=(l=this.options.handlers)==null?void 0:l[a];s&&this.addHandler(a,s)}),Array.from(this.container.querySelectorAll("button, select")).forEach(a=>{this.attach(a)}),this.quill.on(wt.events.EDITOR_CHANGE,()=>{const[a]=this.quill.selection.getRange();this.update(a)})}addHandler(n,t){this.handlers[n]=t}attach(n){let t=Array.from(n.classList).find(i=>i.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),n.tagName==="BUTTON"&&n.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){Jk.warn("ignoring attaching to nonexistent format",t,n);return}const r=n.tagName==="SELECT"?"change":"click";n.addEventListener(r,i=>{let a;if(n.tagName==="SELECT"){if(n.selectedIndex<0)return;const l=n.options[n.selectedIndex];l.hasAttribute("selected")?a=!1:a=l.value||!1}else n.classList.contains("ql-active")?a=!1:a=n.value||!n.hasAttribute("value"),i.preventDefault();this.quill.focus();const[s]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,a);else if(this.quill.scroll.query(t).prototype instanceof rl){if(a=prompt(`Enter ${t}`),!a)return;this.quill.updateContents(new Ht().retain(s.index).delete(s.length).insert({[t]:a}),wt.sources.USER)}else this.quill.format(t,a,wt.sources.USER);this.update(s)}),this.controls.push([t,n])}update(n){const t=n==null?{}:this.quill.getFormat(n);this.controls.forEach(r=>{const[i,a]=r;if(a.tagName==="SELECT"){let s=null;if(n==null)s=null;else if(t[i]==null)s=a.querySelector("option[selected]");else if(!Array.isArray(t[i])){let l=t[i];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),s=a.querySelector(`option[value="${l}"]`)}s==null?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(n==null)a.classList.remove("ql-active"),a.setAttribute("aria-pressed","false");else if(a.hasAttribute("value")){const s=t[i],l=s===a.getAttribute("value")||s!=null&&s.toString()===a.getAttribute("value")||s==null&&!a.getAttribute("value");a.classList.toggle("ql-active",l),a.setAttribute("aria-pressed",l.toString())}else{const s=t[i]!=null;a.classList.toggle("ql-active",s),a.setAttribute("aria-pressed",s.toString())}})}}oA.DEFAULTS={};function e8(e,n,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${n}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${n}: ${t}`)):r.setAttribute("aria-label",n),e.appendChild(r)}function lH(e,n){Array.isArray(n[0])||(n=[n]),n.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(i=>{if(typeof i=="string")e8(r,i);else{const a=Object.keys(i)[0],s=i[a];Array.isArray(s)?uH(r,a,s):e8(r,a,s)}}),e.appendChild(r)})}function uH(e,n,t){const r=document.createElement("select");r.classList.add(`ql-${n}`),t.forEach(i=>{const a=document.createElement("option");i!==!1?a.setAttribute("value",String(i)):a.setAttribute("selected","selected"),r.appendChild(a)}),e.appendChild(r)}oA.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(e!=null)if(e.length===0){const n=this.quill.getFormat();Object.keys(n).forEach(t=>{this.quill.scroll.query(t,Yt.INLINE)!=null&&this.quill.format(t,!1,wt.sources.USER)})}else this.quill.removeFormat(e.index,e.length,wt.sources.USER)},direction(e){const{align:n}=this.quill.getFormat();e==="rtl"&&n==null?this.quill.format("align","right",wt.sources.USER):!e&&n==="right"&&this.quill.format("align",!1,wt.sources.USER),this.quill.format("direction",e,wt.sources.USER)},indent(e){const n=this.quill.getSelection(),t=this.quill.getFormat(n),r=parseInt(t.indent||0,10);if(e==="+1"||e==="-1"){let i=e==="+1"?1:-1;t.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,wt.sources.USER)}},link(e){e===!0&&(e=prompt("Enter link URL:")),this.quill.format("link",e,wt.sources.USER)},list(e){const n=this.quill.getSelection(),t=this.quill.getFormat(n);e==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,wt.sources.USER):this.quill.format("list","unchecked",wt.sources.USER):this.quill.format("list",e,wt.sources.USER)}}};const cH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',dH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',fH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',hH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',pH='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',mH='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',gH='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',bH='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',t8='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',yH='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',xH='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',vH='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',wH='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',SH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',AH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',CH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',EH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',_H='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',kH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',NH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',TH='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',jH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',OH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',IH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',DH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',LH='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',RH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',MH='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',FH='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',PH='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',zH='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',qH='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',BH='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Cg={align:{"":cH,center:dH,right:fH,justify:hH},background:pH,blockquote:mH,bold:gH,clean:bH,code:t8,"code-block":t8,color:yH,direction:{"":xH,rtl:vH},formula:wH,header:{1:SH,2:AH,3:CH,4:EH,5:_H,6:kH},italic:NH,image:TH,indent:{"+1":jH,"-1":OH},link:IH,list:{bullet:DH,check:LH,ordered:RH},script:{sub:MH,super:FH},strike:PH,table:zH,underline:qH,video:BH},UH='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let n8=0;function r8(e,n){e.setAttribute(n,`${e.getAttribute(n)!=="true"}`)}class Ev{constructor(n){this.select=n,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),r8(this.label,"aria-expanded"),r8(this.options,"aria-hidden")}buildItem(n){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=n.getAttribute("value");return r&&t.setAttribute("data-value",r),n.textContent&&t.setAttribute("data-label",n.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(t,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),t}buildLabel(){const n=document.createElement("span");return n.classList.add("ql-picker-label"),n.innerHTML=UH,n.tabIndex="0",n.setAttribute("role","button"),n.setAttribute("aria-expanded","false"),this.container.appendChild(n),n}buildOptions(){const n=document.createElement("span");n.classList.add("ql-picker-options"),n.setAttribute("aria-hidden","true"),n.tabIndex="-1",n.id=`ql-picker-options-${n8}`,n8+=1,this.label.setAttribute("aria-controls",n.id),this.options=n,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);n.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(n)}buildPicker(){Array.from(this.select.attributes).forEach(n=>{this.container.setAttribute(n.name,n.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");n!==r&&(r!=null&&r.classList.remove("ql-selected"),n!=null&&(n.classList.add("ql-selected"),this.select.selectedIndex=Array.from(n.parentNode.children).indexOf(n),n.hasAttribute("data-value")?this.label.setAttribute("data-value",n.getAttribute("data-value")):this.label.removeAttribute("data-value"),n.hasAttribute("data-label")?this.label.setAttribute("data-label",n.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let n;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];n=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=n!=null&&n!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class tO extends Ev{constructor(n,t){super(n),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(n){const t=super.buildItem(n);return t.style.backgroundColor=n.getAttribute("value")||"",t}selectItem(n,t){super.selectItem(n,t);const r=this.label.querySelector(".ql-color-label"),i=n&&n.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}}class nO extends Ev{constructor(n,t){super(n),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(n,t){super.selectItem(n,t);const r=n||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const $H=e=>{const{overflowY:n}=getComputedStyle(e,null);return n!=="visible"&&n!=="clip"};class rO{constructor(n,t){this.quill=n,this.boundsContainer=t||document.body,this.root=n.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,$H(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(n){const t=n.left+n.width/2-this.root.offsetWidth/2,r=n.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),a=this.root.getBoundingClientRect();let s=0;if(a.right>i.right&&(s=i.right-a.right,this.root.style.left=`${t+s}px`),a.left<i.left&&(s=i.left-a.left,this.root.style.left=`${t+s}px`),a.bottom>i.bottom){const l=a.bottom-a.top,u=n.bottom-n.top+l;this.root.style.top=`${r-u}px`,this.root.classList.add("ql-flip")}return s}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const HH=[!1,"center","right","justify"],WH=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],YH=[!1,"serif","monospace"],VH=["1","2","3",!1],GH=["small",!1,"large","huge"];class eb extends am{constructor(n,t){super(n,t);const r=i=>{if(!document.body.contains(n.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(a=>{a.container.contains(i.target)||a.close()})};n.emitter.listenDOM("click",document.body,r)}addModule(n){const t=super.addModule(n);return n==="toolbar"&&this.extendToolbar(t),t}buildButtons(n,t){Array.from(n).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(a=>{if(a.startsWith("ql-")&&(a=a.slice(3),t[a]!=null))if(a==="direction")r.innerHTML=t[a][""]+t[a].rtl;else if(typeof t[a]=="string")r.innerHTML=t[a];else{const s=r.value||"";s!=null&&t[a][s]&&(r.innerHTML=t[a][s])}})})}buildPickers(n,t){this.pickers=Array.from(n).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&S1(i,HH),typeof t.align=="object"))return new nO(i,t.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const a=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&S1(i,WH,a==="background"?"#ffffff":"#000000"),new tO(i,t[a])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?S1(i,YH):i.classList.contains("ql-header")?S1(i,VH):i.classList.contains("ql-size")&&S1(i,GH)),new Ev(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(Pt.events.EDITOR_CHANGE,r)}}eb.DEFAULTS=Xf({},am.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");e==null&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",()=>{const n=this.quill.getSelection(!0);this.quill.uploader.upload(n,e.files),e.value=""}),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class iO extends rO{constructor(n,t){super(n,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",n=>{n.key==="Enter"?(this.save(),n.preventDefault()):n.key==="Escape"&&(this.cancel(),n.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:n!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${n}`)||""),this.root.setAttribute("data-mode",n)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:n}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,Pt.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,Pt.sources.USER)),this.quill.root.scrollTop=t;break}case"video":n=QH(n);case"formula":{if(!n)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),n,Pt.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",Pt.sources.USER),this.quill.setSelection(r+2,Pt.sources.USER)}break}}this.textbox.value="",this.hide()}}function QH(e){let n=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return n?`${n[1]||"https"}://www.youtube.com/embed/${n[2]}?showinfo=0`:(n=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${n[1]||"https"}://player.vimeo.com/video/${n[2]}/`:e}function S1(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;n.forEach(r=>{const i=document.createElement("option");r===t?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),e.appendChild(i)})}const KH=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class aO extends iO{constructor(n,t){super(n,t),this.quill.on(Pt.events.EDITOR_CHANGE,(r,i,a,s)=>{if(r===Pt.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&s===Pt.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(i.index,i.length);if(l.length===1){const u=this.quill.getBounds(i);u!=null&&this.position(u)}else{const u=l[l.length-1],d=this.quill.getIndex(u),f=Math.min(u.length()-1,i.index+i.length-d),g=this.quill.getBounds(new hp(d,f));g!=null&&this.position(g)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Pt.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const n=this.quill.getSelection();if(n!=null){const t=this.quill.getBounds(n);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(n){const t=super.position(n),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}et(aO,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class sO extends eb{constructor(n,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=KH),super(n,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(n){this.tooltip=new aO(this.quill,this.options.bounds),n.container!=null&&(this.tooltip.root.appendChild(n.container),this.buildButtons(n.container.querySelectorAll("button"),Cg),this.buildPickers(n.container.querySelectorAll("select"),Cg))}}sO.DEFAULTS=Xf({},eb.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,wt.sources.USER)}}}}});const XH=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class oO extends iO{constructor(){super(...arguments);et(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,Pt.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(Pt.events.SELECTION_CHANGE,(t,r,i)=>{if(t!=null){if(t.length===0&&i===Pt.sources.USER){const[a,s]=this.quill.scroll.descendant(Bf,t.index);if(a!=null){this.linkRange=new hp(t.index-s,a.length());const l=Bf.formats(a.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const u=this.quill.getBounds(this.linkRange);u!=null&&this.position(u);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}et(oO,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class lO extends eb{constructor(n,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=XH),super(n,t),this.quill.container.classList.add("ql-snow")}extendToolbar(n){n.container!=null&&(n.container.classList.add("ql-snow"),this.buildButtons(n.container.querySelectorAll("button"),Cg),this.buildPickers(n.container.querySelectorAll("select"),Cg),this.tooltip=new oO(this.quill,this.options.bounds),n.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{n.handlers.link.call(n,!r.format.link)}))}}lO.DEFAULTS=Xf({},eb.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const n=this.quill.getSelection();if(n==null||n.length===0)return;let t=this.quill.getText(n);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,wt.sources.USER)}}}}});wt.register({"attributors/attribute/direction":B7,"attributors/class/align":P7,"attributors/class/background":p$,"attributors/class/color":h$,"attributors/class/direction":U7,"attributors/class/font":W7,"attributors/class/size":V7,"attributors/style/align":z7,"attributors/style/background":tA,"attributors/style/color":eA,"attributors/style/direction":$7,"attributors/style/font":Y7,"attributors/style/size":G7},!0);wt.register({"formats/align":P7,"formats/direction":U7,"formats/indent":iH,"formats/background":tA,"formats/color":eA,"formats/font":W7,"formats/size":V7,"formats/blockquote":SS,"formats/code-block":Us,"formats/header":AS,"formats/list":Jg,"formats/bold":Ag,"formats/code":nA,"formats/italic":CS,"formats/link":Bf,"formats/script":ES,"formats/strike":_S,"formats/underline":kS,"formats/formula":tx,"formats/image":aH,"formats/video":nx,"modules/syntax":eO,"modules/table":oH,"modules/toolbar":oA,"themes/bubble":sO,"themes/snow":lO,"ui/icons":Cg,"ui/picker":Ev,"ui/icon-picker":nO,"ui/color-picker":tO,"ui/tooltip":rO},!0);class _v extends at.Component{constructor(n){super(n),this.editingAreaRef=Q.createRef(),this.containerRef=Q.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(r,i,a,s)=>{var l,u;r==="text-change"?(l=this.onEditorChangeText)==null||l.call(this,this.editor.root.innerHTML,i,s,this.unprivilegedEditor):r==="selection-change"&&((u=this.onEditorChangeSelection)==null||u.call(this,i,s,this.unprivilegedEditor))};const t=this.isControlled()?n.value:n.defaultValue;this.value=t??""}validateProps(n){if(at.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(at.Children.count(n.children)){const t=at.Children.only(n.children);if((t==null?void 0:t.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(n,t){if(this.validateProps(n),!this.editor||this.state.generation!==t.generation)return!0;if("value"in n){const r=this.getEditorContents(),i=n.value??"";this.isEqualValue(i,r)||this.setEditorContents(this.editor,i)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),[...this.cleanProps,...this.dirtyProps].some(r=>!Mf(n[r],this.props[r]))}shouldComponentRegenerate(n){return this.dirtyProps.some(t=>!Mf(n[t],this.props[t]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(n,t){if(this.editor&&this.shouldComponentRegenerate(n)){const r=this.editor.getContents(),i=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:i},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){const{delta:r,selection:i}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const a=this.editor;a.setContents(r),i8(()=>this.setEditorSelection(a,i))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){var r,i;if(!this.editor)return;this.unhookEditor(this.editor);const n=(r=this.props.modules)==null?void 0:r.toolbar;if(!(typeof n=="object"&&n&&"container"in n&&typeof n.container=="string"||typeof n=="string")){const a=(i=this.containerRef.current)==null?void 0:i.querySelector(".ql-toolbar");a&&a.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(n,t){const r=new wt(n,t);return t.tabIndex!=null&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r}hookEditor(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)}unhookEditor(n){n.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(n){return n&&n.ops}isEqualValue(n,t){return this.isDelta(n)&&this.isDelta(t)?Mf(n.ops,t.ops):Mf(n,t)}setEditorContents(n,t){this.value=t;const r=this.getEditorSelection();typeof t=="string"?n.setContents(n.clipboard.convert({html:t})):n.setContents(t),i8(()=>this.setEditorSelection(n,r))}setEditorSelection(n,t){if(this.selection=t,t){const r=n.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),n.setSelection(t)}}setEditorTabIndex(n,t){var r;(r=n==null?void 0:n.scroll)!=null&&r.domNode&&(n.scroll.domNode.tabIndex=t)}setEditorReadOnly(n,t){t?n.disable():n.enable()}makeUnprivilegedEditor(n){const t=n;return{getHTML:()=>t.root.innerHTML,getSemanticHTML:t.getSemanticHTML.bind(t),getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}}getEditingArea(){const n=this.editingAreaRef.current;if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n}renderEditingArea(){const{children:n,preserveWhitespace:t}=this.props,{generation:r}=this.state,i={key:r,ref:this.editingAreaRef};return at.Children.count(n)?at.cloneElement(at.Children.only(n),i):t?at.createElement("pre",{...i}):at.createElement("div",{...i})}render(){return at.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(n,t,r,i){var s,l;if(!this.editor)return;const a=this.isDelta(this.value)?i.getContents():i.getHTML();a!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=a,(l=(s=this.props).onChange)==null||l.call(s,n,t,r,i))}onEditorChangeSelection(n,t,r){var l,u,d,f,g,b;if(!this.editor)return;const i=this.getEditorSelection(),a=!i&&n,s=i&&!n;Mf(n,i)||(this.selection=n,(u=(l=this.props).onChangeSelection)==null||u.call(l,n,t,r),a?(f=(d=this.props).onFocus)==null||f.call(d,n,t,r):s&&((b=(g=this.props).onBlur)==null||b.call(g,i,t,r)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}_v.displayName="React Quill";_v.Quill=wt;_v.defaultProps={theme:"snow",modules:{},readOnly:!1};function i8(e){Promise.resolve().then(e)}const ZH=({content:e,onChange:n})=>{const t=a=>{n(a)},r={toolbar:[[{header:[1,2,3,!1]}],["bold","italic"],["blockquote",{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},i=["header","bold","italic","blockquote","list","link"];return h.jsx(_v,{value:e,onChange:t,modules:r,formats:i,theme:"snow",placeholder:"Start writing...",style:{backgroundColor:"white",borderRadius:"4px",minHeight:"150px"}})},JH=(e,n={enabled:!0,priority:"low"})=>{const t=Q.useCallback(r=>{!n.enabled||r.length===0||r.forEach((i,a)=>{if(!i||i.startsWith("data:"))return;const s=new Image;"loading"in s&&(s.loading="lazy");const l=n.priority==="low"?a*100:0;setTimeout(()=>{s.src=i,s.onload=()=>{console.log(` Preloaded image: ${i.substring(0,50)}...`)},s.onerror=u=>{console.error(` Failed to preload image: ${i}`,u),console.error("Image details:",{url:i,naturalWidth:s.naturalWidth,naturalHeight:s.naturalHeight,complete:s.complete})}},l)})},[n.enabled,n.priority]);return Q.useEffect(()=>{t(e)},[e,t]),{preloadImages:t}},uO=(e,n,t=!0)=>{const{preloadImages:r}=JH([],{enabled:t,priority:"low"});Q.useEffect(()=>{var s,l;if(!t||!e.length)return;const i=[];if(n>0){const u=e[n-1];u!=null&&u.images&&i.push(...u.images.map(d=>d.url)),(s=u==null?void 0:u.subsections)==null||s.forEach(d=>{var f;d.images&&i.push(...d.images.map(g=>g.url)),(f=d==null?void 0:d.subSubsections)==null||f.forEach(g=>{g.images&&i.push(...g.images.map(b=>b.url))})})}if(n<e.length-1){const u=e[n+1];u!=null&&u.images&&i.push(...u.images.map(d=>d.url)),(l=u==null?void 0:u.subsections)==null||l.forEach(d=>{var f;d.images&&i.push(...d.images.map(g=>g.url)),(f=d==null?void 0:d.subSubsections)==null||f.forEach(g=>{g.images&&i.push(...g.images.map(b=>b.url))})})}const a=Array.from(new Set(i.filter(Boolean)));a.length>0&&(console.log(`Preloading ${a.length} images from adjacent sections`),r(a))},[e,n,t,r])},eW=({value:e,onChange:n,disabled:t=!1})=>{const[r,i]=Q.useState([]),[a,s]=Q.useState(!0),{userDetails:l}=Ai();Q.useEffect(()=>{if(console.log("User Details in CourseDropdown:",l),l!=null&&l.classes){const d=Object.entries(l.classes).filter(([f,g])=>g.isCourseAdmin||l.isSuperAdmin).map(([f,g])=>({id:f,number:g.number,title:g.title}));console.log("Filtered Courses for Dropdown:",d),i(d)}else i([]);s(!1)},[l]);const u=r.some(d=>d.id===e);return a?h.jsx(he,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:h.jsx(hi,{})}):h.jsx(Wt,{select:!0,label:"Select Course",value:u?e:"",onChange:d=>n(d.target.value),fullWidth:!0,disabled:t,sx:{mb:2},error:!u&&e!=="",helperText:!u&&e!==""?"Invalid course selected":"",children:r.length>0?r.map(d=>h.jsxs(Xn,{value:d.id,children:[d.number," - ",d.title]},d.id)):h.jsx(Xn,{disabled:!0,children:"No courses available"})})};function Mt(e){const n=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&n==="[object Date]"?new e.constructor(+e):typeof e=="number"||n==="[object Number]"||typeof e=="string"||n==="[object String]"?new Date(e):new Date(NaN)}function Lr(e,n){return e instanceof Date?new e.constructor(n):new Date(n)}function wu(e,n){const t=Mt(e);return isNaN(n)?Lr(e,NaN):(n&&t.setDate(t.getDate()+n),t)}function Cu(e,n){const t=Mt(e);if(isNaN(n))return Lr(e,NaN);if(!n)return t;const r=t.getDate(),i=Lr(e,t.getTime());i.setMonth(t.getMonth()+n+1,0);const a=i.getDate();return r>=a?i:(t.setFullYear(i.getFullYear(),i.getMonth(),r),t)}function lA(e,n){const t=+Mt(e);return Lr(e,t+n)}const cO=6048e5,tW=864e5,kv=6e4,Nv=36e5,nW=1e3;function rW(e,n){return lA(e,n*Nv)}let iW={};function jp(){return iW}function Pd(e,n){var l,u,d,f;const t=jp(),r=(n==null?void 0:n.weekStartsOn)??((u=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??t.weekStartsOn??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,i=Mt(e),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function om(e){return Pd(e,{weekStartsOn:1})}function dO(e){const n=Mt(e),t=n.getFullYear(),r=Lr(e,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const i=om(r),a=Lr(e,0);a.setFullYear(t,0,4),a.setHours(0,0,0,0);const s=om(a);return n.getTime()>=i.getTime()?t+1:n.getTime()>=s.getTime()?t:t-1}function pp(e){const n=Mt(e);return n.setHours(0,0,0,0),n}function Rx(e){const n=Mt(e),t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),+e-+t}function lm(e,n){const t=pp(e),r=pp(n),i=+t-Rx(t),a=+r-Rx(r);return Math.round((i-a)/tW)}function aW(e){const n=dO(e),t=Lr(e,0);return t.setFullYear(n,0,4),t.setHours(0,0,0,0),om(t)}function NS(e,n){return lA(e,n*kv)}function uA(e,n){const t=n*3;return Cu(e,t)}function sW(e,n){return lA(e,n*1e3)}function Mx(e,n){const t=n*7;return wu(e,t)}function Nd(e,n){return Cu(e,n*12)}function a8(e){let n;return e.forEach(function(t){const r=Mt(t);(n===void 0||n<r||isNaN(Number(r)))&&(n=r)}),n||new Date(NaN)}function s8(e){let n;return e.forEach(t=>{const r=Mt(t);(!n||n>r||isNaN(+r))&&(n=r)}),n||new Date(NaN)}function oW(e,n){const t=pp(e),r=pp(n);return+t==+r}function Td(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Fx(e){if(!Td(e)&&typeof e!="number")return!1;const n=Mt(e);return!isNaN(Number(n))}function Px(e,n){const t=Mt(e),r=Mt(n),i=t.getFullYear()-r.getFullYear(),a=t.getMonth()-r.getMonth();return i*12+a}function np(e){const n=Mt(e);return Math.trunc(n.getMonth()/3)+1}function zx(e,n){const t=Mt(e),r=Mt(n),i=t.getFullYear()-r.getFullYear(),a=np(t)-np(r);return i*4+a}function qx(e,n){const t=Mt(e),r=Mt(n);return t.getFullYear()-r.getFullYear()}function lW(e,n){const t=Mt(e),r=Mt(n),i=o8(t,r),a=Math.abs(lm(t,r));t.setDate(t.getDate()-i*a);const s=+(o8(t,r)===-i),l=i*(a-s);return l===0?0:l}function o8(e,n){const t=e.getFullYear()-n.getFullYear()||e.getMonth()-n.getMonth()||e.getDate()-n.getDate()||e.getHours()-n.getHours()||e.getMinutes()-n.getMinutes()||e.getSeconds()-n.getSeconds()||e.getMilliseconds()-n.getMilliseconds();return t<0?-1:t>0?1:t}function fO(e){const n=Mt(e);return n.setHours(23,59,59,999),n}function hO(e){const n=Mt(e),t=n.getMonth();return n.setFullYear(n.getFullYear(),t+1,0),n.setHours(23,59,59,999),n}function TS(e){const n=Mt(e),t=n.getMonth(),r=t-t%3;return n.setMonth(r,1),n.setHours(0,0,0,0),n}function pO(e){const n=Mt(e);return n.setDate(1),n.setHours(0,0,0,0),n}function mO(e){const n=Mt(e),t=n.getFullYear();return n.setFullYear(t+1,0,0),n.setHours(23,59,59,999),n}function Tv(e){const n=Mt(e),t=Lr(e,0);return t.setFullYear(n.getFullYear(),0,1),t.setHours(0,0,0,0),t}function uW(e,n){var l,u;const t=jp(),r=t.weekStartsOn??((u=(l=t.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,i=Mt(e),a=i.getDay(),s=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const cW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dW=(e,n,t)=>{let r;const i=cW[e];return typeof i=="string"?r=i:n===1?r=i.one:r=i.other.replace("{{count}}",n.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Z5(e){return(n={})=>{const t=n.width?String(n.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const fW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mW={date:Z5({formats:fW,defaultWidth:"full"}),time:Z5({formats:hW,defaultWidth:"full"}),dateTime:Z5({formats:pW,defaultWidth:"full"})},gW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bW=(e,n,t,r)=>gW[e];function A1(e){return(n,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,l=t!=null&&t.width?String(t.width):s;i=e.formattingValues[l]||e.formattingValues[s]}else{const s=e.defaultWidth,l=t!=null&&t.width?String(t.width):e.defaultWidth;i=e.values[l]||e.values[s]}const a=e.argumentCallback?e.argumentCallback(n):n;return i[a]}}const yW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},SW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},AW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},CW=(e,n)=>{const t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},EW={ordinalNumber:CW,era:A1({values:yW,defaultWidth:"wide"}),quarter:A1({values:xW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:A1({values:vW,defaultWidth:"wide"}),day:A1({values:wW,defaultWidth:"wide"}),dayPeriod:A1({values:SW,defaultWidth:"wide",formattingValues:AW,defaultFormattingWidth:"wide"})};function C1(e){return(n,t={})=>{const r=t.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=n.match(i);if(!a)return null;const s=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?kW(l,g=>g.test(s)):_W(l,g=>g.test(s));let d;d=e.valueCallback?e.valueCallback(u):u,d=t.valueCallback?t.valueCallback(d):d;const f=n.slice(s.length);return{value:d,rest:f}}}function _W(e,n){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n(e[t]))return t}function kW(e,n){for(let t=0;t<e.length;t++)if(n(e[t]))return t}function NW(e){return(n,t={})=>{const r=n.match(e.matchPattern);if(!r)return null;const i=r[0],a=n.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=t.valueCallback?t.valueCallback(s):s;const l=n.slice(i.length);return{value:s,rest:l}}}const TW=/^(\d+)(th|st|nd|rd)?/i,jW=/\d+/i,OW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},IW={any:[/^b/i,/^(a|c)/i]},DW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LW={any:[/1/i,/2/i,/3/i,/4/i]},RW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},MW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},FW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},PW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},BW={ordinalNumber:NW({matchPattern:TW,parsePattern:jW,valueCallback:e=>parseInt(e,10)}),era:C1({matchPatterns:OW,defaultMatchWidth:"wide",parsePatterns:IW,defaultParseWidth:"any"}),quarter:C1({matchPatterns:DW,defaultMatchWidth:"wide",parsePatterns:LW,defaultParseWidth:"any",valueCallback:e=>e+1}),month:C1({matchPatterns:RW,defaultMatchWidth:"wide",parsePatterns:MW,defaultParseWidth:"any"}),day:C1({matchPatterns:FW,defaultMatchWidth:"wide",parsePatterns:PW,defaultParseWidth:"any"}),dayPeriod:C1({matchPatterns:zW,defaultMatchWidth:"any",parsePatterns:qW,defaultParseWidth:"any"})},gO={code:"en-US",formatDistance:dW,formatLong:mW,formatRelative:bW,localize:EW,match:BW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function UW(e){const n=Mt(e);return lm(n,Tv(n))+1}function cA(e){const n=Mt(e),t=+om(n)-+aW(n);return Math.round(t/cO)+1}function dA(e,n){var f,g,b,m;const t=Mt(e),r=t.getFullYear(),i=jp(),a=(n==null?void 0:n.firstWeekContainsDate)??((g=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(b=i.locale)==null?void 0:b.options)==null?void 0:m.firstWeekContainsDate)??1,s=Lr(e,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const l=Pd(s,n),u=Lr(e,0);u.setFullYear(r,0,a),u.setHours(0,0,0,0);const d=Pd(u,n);return t.getTime()>=l.getTime()?r+1:t.getTime()>=d.getTime()?r:r-1}function $W(e,n){var l,u,d,f;const t=jp(),r=(n==null?void 0:n.firstWeekContainsDate)??((u=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??t.firstWeekContainsDate??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=dA(e,n),a=Lr(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Pd(a,n)}function bO(e,n){const t=Mt(e),r=+Pd(t,n)-+$W(t,n);return Math.round(r/cO)+1}function Dr(e,n){const t=e<0?"-":"",r=Math.abs(e).toString().padStart(n,"0");return t+r}const jf={y(e,n){const t=e.getFullYear(),r=t>0?t:1-t;return Dr(n==="yy"?r%100:r,n.length)},M(e,n){const t=e.getMonth();return n==="M"?String(t+1):Dr(t+1,2)},d(e,n){return Dr(e.getDate(),n.length)},a(e,n){const t=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,n){return Dr(e.getHours()%12||12,n.length)},H(e,n){return Dr(e.getHours(),n.length)},m(e,n){return Dr(e.getMinutes(),n.length)},s(e,n){return Dr(e.getSeconds(),n.length)},S(e,n){const t=n.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Dr(i,n.length)}},f0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},l8={G:function(e,n,t){const r=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(e,n,t){if(n==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return jf.y(e,n)},Y:function(e,n,t,r){const i=dA(e,r),a=i>0?i:1-i;if(n==="YY"){const s=a%100;return Dr(s,2)}return n==="Yo"?t.ordinalNumber(a,{unit:"year"}):Dr(a,n.length)},R:function(e,n){const t=dO(e);return Dr(t,n.length)},u:function(e,n){const t=e.getFullYear();return Dr(t,n.length)},Q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return Dr(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return Dr(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,t){const r=e.getMonth();switch(n){case"M":case"MM":return jf.M(e,n);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,t){const r=e.getMonth();switch(n){case"L":return String(r+1);case"LL":return Dr(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,t,r){const i=bO(e,r);return n==="wo"?t.ordinalNumber(i,{unit:"week"}):Dr(i,n.length)},I:function(e,n,t){const r=cA(e);return n==="Io"?t.ordinalNumber(r,{unit:"week"}):Dr(r,n.length)},d:function(e,n,t){return n==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):jf.d(e,n)},D:function(e,n,t){const r=UW(e);return n==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Dr(r,n.length)},E:function(e,n,t){const r=e.getDay();switch(n){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,t,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return Dr(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,t,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return Dr(a,n.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,t){const r=e.getDay(),i=r===0?7:r;switch(n){case"i":return String(i);case"ii":return Dr(i,n.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,t){const i=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,t){const r=e.getHours();let i;switch(r===12?i=f0.noon:r===0?i=f0.midnight:i=r/12>=1?"pm":"am",n){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,t){const r=e.getHours();let i;switch(r>=17?i=f0.evening:r>=12?i=f0.afternoon:r>=4?i=f0.morning:i=f0.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,t){if(n==="ho"){let r=e.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return jf.h(e,n)},H:function(e,n,t){return n==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):jf.H(e,n)},K:function(e,n,t){const r=e.getHours()%12;return n==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Dr(r,n.length)},k:function(e,n,t){let r=e.getHours();return r===0&&(r=24),n==="ko"?t.ordinalNumber(r,{unit:"hour"}):Dr(r,n.length)},m:function(e,n,t){return n==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):jf.m(e,n)},s:function(e,n,t){return n==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):jf.s(e,n)},S:function(e,n){return jf.S(e,n)},X:function(e,n,t){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(n){case"X":return c8(r);case"XXXX":case"XX":return Wh(r);case"XXXXX":case"XXX":default:return Wh(r,":")}},x:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"x":return c8(r);case"xxxx":case"xx":return Wh(r);case"xxxxx":case"xxx":default:return Wh(r,":")}},O:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+u8(r,":");case"OOOO":default:return"GMT"+Wh(r,":")}},z:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+u8(r,":");case"zzzz":default:return"GMT"+Wh(r,":")}},t:function(e,n,t){const r=Math.trunc(e.getTime()/1e3);return Dr(r,n.length)},T:function(e,n,t){const r=e.getTime();return Dr(r,n.length)}};function u8(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?t+String(i):t+String(i)+n+Dr(a,2)}function c8(e,n){return e%60===0?(e>0?"-":"+")+Dr(Math.abs(e)/60,2):Wh(e,n)}function Wh(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),i=Dr(Math.trunc(r/60),2),a=Dr(r%60,2);return t+i+n+a}const d8=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},yO=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},HW=(e,n)=>{const t=e.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return d8(e,n);let a;switch(r){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",d8(r,n)).replace("{{time}}",yO(i,n))},Bx={p:yO,P:HW},WW=/^D+$/,YW=/^Y+$/,VW=["D","DD","YY","YYYY"];function xO(e){return WW.test(e)}function vO(e){return YW.test(e)}function jS(e,n,t){const r=GW(e,n,t);if(console.warn(r),VW.includes(e))throw new RangeError(r)}function GW(e,n,t){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const QW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,KW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,XW=/^'([^]*?)'?$/,ZW=/''/g,JW=/[a-zA-Z]/;function f8(e,n,t){var f,g,b,m,x,y,A,w;const r=jp(),i=(t==null?void 0:t.locale)??r.locale??gO,a=(t==null?void 0:t.firstWeekContainsDate)??((g=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(b=r.locale)==null?void 0:b.options)==null?void 0:m.firstWeekContainsDate)??1,s=(t==null?void 0:t.weekStartsOn)??((y=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((w=(A=r.locale)==null?void 0:A.options)==null?void 0:w.weekStartsOn)??0,l=Mt(e);if(!Fx(l))throw new RangeError("Invalid time value");let u=n.match(KW).map(C=>{const N=C[0];if(N==="p"||N==="P"){const R=Bx[N];return R(C,i.formatLong)}return C}).join("").match(QW).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const N=C[0];if(N==="'")return{isToken:!1,value:eY(C)};if(l8[N])return{isToken:!0,value:C};if(N.match(JW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:C}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const d={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return u.map(C=>{if(!C.isToken)return C.value;const N=C.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&vO(N)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&xO(N))&&jS(N,n,String(e));const R=l8[N[0]];return R(l,N,i.localize,d)}).join("")}function eY(e){const n=e.match(XW);return n?n[1].replace(ZW,"'"):e}function h8(e){return Mt(e).getDate()}function tY(e){return Mt(e).getDay()}function nY(e){const n=Mt(e),t=n.getFullYear(),r=n.getMonth(),i=Lr(e,0);return i.setFullYear(t,r+1,0),i.setHours(0,0,0,0),i.getDate()}function rY(){return Object.assign({},jp())}function _c(e){return Mt(e).getHours()}function iY(e){let t=Mt(e).getDay();return t===0&&(t=7),t}function kc(e){return Mt(e).getMinutes()}function to(e){return Mt(e).getMonth()}function jd(e){return Mt(e).getSeconds()}function OS(e){return Mt(e).getTime()}function Fn(e){return Mt(e).getFullYear()}function nh(e,n){const t=Mt(e),r=Mt(n);return t.getTime()>r.getTime()}function mp(e,n){const t=Mt(e),r=Mt(n);return+t<+r}function aY(e,n){const t=Mt(e),r=Mt(n);return+t==+r}function sY(e,n){const t=n instanceof Date?Lr(n,0):new n(0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}const oY=10;class wO{constructor(){et(this,"subPriority",0)}validate(n,t){return!0}}class lY extends wO{constructor(n,t,r,i,a){super(),this.value=n,this.validateValue=t,this.setValue=r,this.priority=i,a&&(this.subPriority=a)}validate(n,t){return this.validateValue(n,this.value,t)}set(n,t,r){return this.setValue(n,t,this.value,r)}}class uY extends wO{constructor(){super(...arguments);et(this,"priority",oY);et(this,"subPriority",-1)}set(t,r){return r.timestampIsSet?t:Lr(t,sY(t,Date))}}let wr=class{run(n,t,r,i){const a=this.parse(n,t,r,i);return a?{setter:new lY(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(n,t,r){return!0}};class cY extends wr{constructor(){super(...arguments);et(this,"priority",140);et(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const ca={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},pc={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function da(e,n){return e&&{value:n(e.value),rest:e.rest}}function Mi(e,n){const t=n.match(e);return t?{value:parseInt(t[0],10),rest:n.slice(t[0].length)}:null}function mc(e,n){const t=n.match(e);if(!t)return null;if(t[0]==="Z")return{value:0,rest:n.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,s=t[5]?parseInt(t[5],10):0;return{value:r*(i*Nv+a*kv+s*nW),rest:n.slice(t[0].length)}}function SO(e){return Mi(ca.anyDigitsSigned,e)}function Zi(e,n){switch(e){case 1:return Mi(ca.singleDigit,n);case 2:return Mi(ca.twoDigits,n);case 3:return Mi(ca.threeDigits,n);case 4:return Mi(ca.fourDigits,n);default:return Mi(new RegExp("^\\d{1,"+e+"}"),n)}}function Ux(e,n){switch(e){case 1:return Mi(ca.singleDigitSigned,n);case 2:return Mi(ca.twoDigitsSigned,n);case 3:return Mi(ca.threeDigitsSigned,n);case 4:return Mi(ca.fourDigitsSigned,n);default:return Mi(new RegExp("^-?\\d{1,"+e+"}"),n)}}function fA(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function AO(e,n){const t=n>0,r=t?n:1-n;let i;if(r<=50)i=e||100;else{const a=r+50,s=Math.trunc(a/100)*100,l=e>=a%100;i=e+s-(l?100:0)}return t?i:1-i}function CO(e){return e%400===0||e%4===0&&e%100!==0}class dY extends wr{constructor(){super(...arguments);et(this,"priority",130);et(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const a=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return da(Zi(4,t),a);case"yo":return da(i.ordinalNumber(t,{unit:"year"}),a);default:return da(Zi(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const a=t.getFullYear();if(i.isTwoDigitYear){const l=AO(i.year,a);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const s=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class fY extends wr{constructor(){super(...arguments);et(this,"priority",130);et(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const a=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return da(Zi(4,t),a);case"Yo":return da(i.ordinalNumber(t,{unit:"year"}),a);default:return da(Zi(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,a){const s=dA(t,a);if(i.isTwoDigitYear){const u=AO(i.year,s);return t.setFullYear(u,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Pd(t,a)}const l=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(l,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Pd(t,a)}}class hY extends wr{constructor(){super(...arguments);et(this,"priority",130);et(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return Ux(r==="R"?4:r.length,t)}set(t,r,i){const a=Lr(t,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),om(a)}}class pY extends wr{constructor(){super(...arguments);et(this,"priority",130);et(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return Ux(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class mY extends wr{constructor(){super(...arguments);et(this,"priority",120);et(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return Zi(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class gY extends wr{constructor(){super(...arguments);et(this,"priority",120);et(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return Zi(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class bY extends wr{constructor(){super(...arguments);et(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);et(this,"priority",110)}parse(t,r,i){const a=s=>s-1;switch(r){case"M":return da(Mi(ca.month,t),a);case"MM":return da(Zi(2,t),a);case"Mo":return da(i.ordinalNumber(t,{unit:"month"}),a);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class yY extends wr{constructor(){super(...arguments);et(this,"priority",110);et(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const a=s=>s-1;switch(r){case"L":return da(Mi(ca.month,t),a);case"LL":return da(Zi(2,t),a);case"Lo":return da(i.ordinalNumber(t,{unit:"month"}),a);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function xY(e,n,t){const r=Mt(e),i=bO(r,t)-n;return r.setDate(r.getDate()-i*7),r}class vY extends wr{constructor(){super(...arguments);et(this,"priority",100);et(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return Mi(ca.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return Zi(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,a){return Pd(xY(t,i,a),a)}}function wY(e,n){const t=Mt(e),r=cA(t)-n;return t.setDate(t.getDate()-r*7),t}class SY extends wr{constructor(){super(...arguments);et(this,"priority",100);et(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return Mi(ca.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return Zi(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return om(wY(t,i))}}const AY=[31,28,31,30,31,30,31,31,30,31,30,31],CY=[31,29,31,30,31,30,31,31,30,31,30,31];class EY extends wr{constructor(){super(...arguments);et(this,"priority",90);et(this,"subPriority",1);et(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return Mi(ca.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return Zi(r.length,t)}}validate(t,r){const i=t.getFullYear(),a=CO(i),s=t.getMonth();return a?r>=1&&r<=CY[s]:r>=1&&r<=AY[s]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class _Y extends wr{constructor(){super(...arguments);et(this,"priority",90);et(this,"subpriority",1);et(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return Mi(ca.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return Zi(r.length,t)}}validate(t,r){const i=t.getFullYear();return CO(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function hA(e,n,t){var g,b,m,x;const r=jp(),i=(t==null?void 0:t.weekStartsOn)??((b=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)??r.weekStartsOn??((x=(m=r.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??0,a=Mt(e),s=a.getDay(),u=(n%7+7)%7,d=7-i,f=n<0||n>6?n-(s+d)%7:(u+d)%7-(s+d)%7;return wu(a,f)}class kY extends wr{constructor(){super(...arguments);et(this,"priority",90);et(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=hA(t,i,a),t.setHours(0,0,0,0),t}}class NY extends wr{constructor(){super(...arguments);et(this,"priority",90);et(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,a){const s=l=>{const u=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+u};switch(r){case"e":case"ee":return da(Zi(r.length,t),s);case"eo":return da(i.ordinalNumber(t,{unit:"day"}),s);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=hA(t,i,a),t.setHours(0,0,0,0),t}}class TY extends wr{constructor(){super(...arguments);et(this,"priority",90);et(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,a){const s=l=>{const u=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+u};switch(r){case"c":case"cc":return da(Zi(r.length,t),s);case"co":return da(i.ordinalNumber(t,{unit:"day"}),s);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=hA(t,i,a),t.setHours(0,0,0,0),t}}function jY(e,n){const t=Mt(e),r=iY(t),i=n-r;return wu(t,i)}class OY extends wr{constructor(){super(...arguments);et(this,"priority",90);et(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const a=s=>s===0?7:s;switch(r){case"i":case"ii":return Zi(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return da(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return da(i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return da(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return da(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=jY(t,i),t.setHours(0,0,0,0),t}}class IY extends wr{constructor(){super(...arguments);et(this,"priority",80);et(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(fA(i),0,0,0),t}}class DY extends wr{constructor(){super(...arguments);et(this,"priority",80);et(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(fA(i),0,0,0),t}}class LY extends wr{constructor(){super(...arguments);et(this,"priority",80);et(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(fA(i),0,0,0),t}}class RY extends wr{constructor(){super(...arguments);et(this,"priority",70);et(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return Mi(ca.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return Zi(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const a=t.getHours()>=12;return a&&i<12?t.setHours(i+12,0,0,0):!a&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class MY extends wr{constructor(){super(...arguments);et(this,"priority",70);et(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return Mi(ca.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return Zi(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class FY extends wr{constructor(){super(...arguments);et(this,"priority",70);et(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return Mi(ca.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return Zi(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class PY extends wr{constructor(){super(...arguments);et(this,"priority",70);et(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return Mi(ca.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return Zi(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const a=i<=24?i%24:i;return t.setHours(a,0,0,0),t}}class zY extends wr{constructor(){super(...arguments);et(this,"priority",60);et(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return Mi(ca.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return Zi(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class qY extends wr{constructor(){super(...arguments);et(this,"priority",50);et(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return Mi(ca.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return Zi(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class BY extends wr{constructor(){super(...arguments);et(this,"priority",30);et(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=a=>Math.trunc(a*Math.pow(10,-r.length+3));return da(Zi(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class UY extends wr{constructor(){super(...arguments);et(this,"priority",10);et(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return mc(pc.basicOptionalMinutes,t);case"XX":return mc(pc.basic,t);case"XXXX":return mc(pc.basicOptionalSeconds,t);case"XXXXX":return mc(pc.extendedOptionalSeconds,t);case"XXX":default:return mc(pc.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Lr(t,t.getTime()-Rx(t)-i)}}class $Y extends wr{constructor(){super(...arguments);et(this,"priority",10);et(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return mc(pc.basicOptionalMinutes,t);case"xx":return mc(pc.basic,t);case"xxxx":return mc(pc.basicOptionalSeconds,t);case"xxxxx":return mc(pc.extendedOptionalSeconds,t);case"xxx":default:return mc(pc.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Lr(t,t.getTime()-Rx(t)-i)}}class HY extends wr{constructor(){super(...arguments);et(this,"priority",40);et(this,"incompatibleTokens","*")}parse(t){return SO(t)}set(t,r,i){return[Lr(t,i*1e3),{timestampIsSet:!0}]}}class WY extends wr{constructor(){super(...arguments);et(this,"priority",20);et(this,"incompatibleTokens","*")}parse(t){return SO(t)}set(t,r,i){return[Lr(t,i),{timestampIsSet:!0}]}}const YY={G:new cY,y:new dY,Y:new fY,R:new hY,u:new pY,Q:new mY,q:new gY,M:new bY,L:new yY,w:new vY,I:new SY,d:new EY,D:new _Y,E:new kY,e:new NY,c:new TY,i:new OY,a:new IY,b:new DY,B:new LY,h:new RY,H:new MY,K:new FY,k:new PY,m:new zY,s:new qY,S:new BY,X:new UY,x:new $Y,t:new HY,T:new WY},VY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QY=/^'([^]*?)'?$/,KY=/''/g,XY=/\S/,ZY=/[a-zA-Z]/;function J5(e,n,t,r){var y,A,w,C,N,R,F,q;const i=rY(),a=(r==null?void 0:r.locale)??i.locale??gO,s=(r==null?void 0:r.firstWeekContainsDate)??((A=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:A.firstWeekContainsDate)??i.firstWeekContainsDate??((C=(w=i.locale)==null?void 0:w.options)==null?void 0:C.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((R=(N=r==null?void 0:r.locale)==null?void 0:N.options)==null?void 0:R.weekStartsOn)??i.weekStartsOn??((q=(F=i.locale)==null?void 0:F.options)==null?void 0:q.weekStartsOn)??0;if(n==="")return e===""?Mt(t):Lr(t,NaN);const u={firstWeekContainsDate:s,weekStartsOn:l,locale:a},d=[new uY],f=n.match(GY).map(k=>{const L=k[0];if(L in Bx){const B=Bx[L];return B(k,a.formatLong)}return k}).join("").match(VY),g=[];for(let k of f){!(r!=null&&r.useAdditionalWeekYearTokens)&&vO(k)&&jS(k,n,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&xO(k)&&jS(k,n,e);const L=k[0],B=YY[L];if(B){const{incompatibleTokens:X}=B;if(Array.isArray(X)){const O=g.find(P=>X.includes(P.token)||P.token===L);if(O)throw new RangeError(`The format string mustn't contain \`${O.fullToken}\` and \`${k}\` at the same time`)}else if(B.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${k}\` and any other token at the same time`);g.push({token:L,fullToken:k});const T=B.run(e,k,a.match,u);if(!T)return Lr(t,NaN);d.push(T.setter),e=T.rest}else{if(L.match(ZY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");if(k==="''"?k="'":L==="'"&&(k=JY(k)),e.indexOf(k)===0)e=e.slice(k.length);else return Lr(t,NaN)}}if(e.length>0&&XY.test(e))return Lr(t,NaN);const b=d.map(k=>k.priority).sort((k,L)=>L-k).filter((k,L,B)=>B.indexOf(k)===L).map(k=>d.filter(L=>L.priority===k).sort((L,B)=>B.subPriority-L.subPriority)).map(k=>k[0]);let m=Mt(t);if(isNaN(m.getTime()))return Lr(t,NaN);const x={};for(const k of b){if(!k.validate(m,u))return Lr(t,NaN);const L=k.set(m,x,u);Array.isArray(L)?(m=L[0],Object.assign(x,L[1])):m=L}return Lr(t,m)}function JY(e){return e.match(QY)[1].replace(KY,"'")}function eV(e,n){const t=Mt(e),r=Mt(n);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function tV(e,n){const t=TS(e),r=TS(n);return+t==+r}function nV(e,n){const t=Mt(e),r=Mt(n);return t.getFullYear()===r.getFullYear()}function Eg(e,n){const t=+Mt(e),[r,i]=[+Mt(n.start),+Mt(n.end)].sort((a,s)=>a-s);return t>=r&&t<=i}function rV(e,n){return wu(e,-1)}function iV(e,n){const r=lV(e);let i;if(r.date){const u=uV(r.date,2);i=cV(u.restDateString,u.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let s=0,l;if(r.time&&(s=dV(r.time),isNaN(s)))return new Date(NaN);if(r.timezone){if(l=fV(r.timezone),isNaN(l))return new Date(NaN)}else{const u=new Date(a+s),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(a+s+l)}const Oy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},aV=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,sV=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,oV=/^([+-])(\d{2})(?::?(\d{2}))?$/;function lV(e){const n={},t=e.split(Oy.dateTimeDelimiter);let r;if(t.length>2)return n;if(/:/.test(t[0])?r=t[0]:(n.date=t[0],r=t[1],Oy.timeZoneDelimiter.test(n.date)&&(n.date=e.split(Oy.timeZoneDelimiter)[0],r=e.substr(n.date.length,e.length))),r){const i=Oy.timezone.exec(r);i?(n.time=r.replace(i[1],""),n.timezone=i[1]):n.time=r}return n}function uV(e,n){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),r=e.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function cV(e,n){if(n===null)return new Date(NaN);const t=e.match(aV);if(!t)return new Date(NaN);const r=!!t[4],i=E1(t[1]),a=E1(t[2])-1,s=E1(t[3]),l=E1(t[4]),u=E1(t[5])-1;if(r)return bV(n,l,u)?hV(n,l,u):new Date(NaN);{const d=new Date(0);return!mV(n,a,s)||!gV(n,i)?new Date(NaN):(d.setUTCFullYear(n,a,Math.max(i,s)),d)}}function E1(e){return e?parseInt(e):1}function dV(e){const n=e.match(sV);if(!n)return NaN;const t=ew(n[1]),r=ew(n[2]),i=ew(n[3]);return yV(t,r,i)?t*Nv+r*kv+i*1e3:NaN}function ew(e){return e&&parseFloat(e.replace(",","."))||0}function fV(e){if(e==="Z")return 0;const n=e.match(oV);if(!n)return 0;const t=n[1]==="+"?-1:1,r=parseInt(n[2]),i=n[3]&&parseInt(n[3])||0;return xV(r,i)?t*(r*Nv+i*kv):NaN}function hV(e,n,t){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,a=(n-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const pV=[31,null,31,30,31,30,31,31,30,31,30,31];function EO(e){return e%400===0||e%4===0&&e%100!==0}function mV(e,n,t){return n>=0&&n<=11&&t>=1&&t<=(pV[n]||(EO(e)?29:28))}function gV(e,n){return n>=1&&n<=(EO(e)?366:365)}function bV(e,n,t){return n>=1&&n<=53&&t>=0&&t<=6}function yV(e,n,t){return e===24?n===0&&t===0:t>=0&&t<60&&n>=0&&n<60&&e>=0&&e<25}function xV(e,n){return n>=0&&n<=59}function $o(e,n){const t=Mt(e),r=t.getFullYear(),i=t.getDate(),a=Lr(e,0);a.setFullYear(r,n,15),a.setHours(0,0,0,0);const s=nY(a);return t.setMonth(n,Math.min(i,s)),t}function vV(e,n){let t=Mt(e);return isNaN(+t)?Lr(e,NaN):(n.year!=null&&t.setFullYear(n.year),n.month!=null&&(t=$o(t,n.month)),n.date!=null&&t.setDate(n.date),n.hours!=null&&t.setHours(n.hours),n.minutes!=null&&t.setMinutes(n.minutes),n.seconds!=null&&t.setSeconds(n.seconds),n.milliseconds!=null&&t.setMilliseconds(n.milliseconds),t)}function rx(e,n){const t=Mt(e);return t.setHours(n),t}function ix(e,n){const t=Mt(e);return t.setMinutes(n),t}function D0(e,n){const t=Mt(e),r=Math.trunc(t.getMonth()/3)+1,i=n-r;return $o(t,t.getMonth()+i*3)}function ax(e,n){const t=Mt(e);return t.setSeconds(n),t}function cc(e,n){const t=Mt(e);return isNaN(+t)?Lr(e,NaN):(t.setFullYear(n),t)}function rp(e,n){return Cu(e,-n)}function _O(e,n){return uA(e,-1)}function p8(e,n){return Mx(e,-1)}function um(e,n){return Nd(e,-n)}function jv(){return typeof window<"u"}function gm(e){return kO(e)?(e.nodeName||"").toLowerCase():"#document"}function Xo(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function Bc(e){var n;return(n=(kO(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function kO(e){return jv()?e instanceof Node||e instanceof Xo(e).Node:!1}function no(e){return jv()?e instanceof Element||e instanceof Xo(e).Element:!1}function Pc(e){return jv()?e instanceof HTMLElement||e instanceof Xo(e).HTMLElement:!1}function m8(e){return!jv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xo(e).ShadowRoot}const wV=new Set(["inline","contents"]);function tb(e){const{overflow:n,overflowX:t,overflowY:r,display:i}=Rl(e);return/auto|scroll|overlay|hidden|clip/.test(n+r+t)&&!wV.has(i)}const SV=new Set(["table","td","th"]);function AV(e){return SV.has(gm(e))}const CV=[":popover-open",":modal"];function Ov(e){return CV.some(n=>{try{return e.matches(n)}catch{return!1}})}const EV=["transform","translate","scale","rotate","perspective"],_V=["transform","translate","scale","rotate","perspective","filter"],kV=["paint","layout","strict","content"];function pA(e){const n=mA(),t=no(e)?Rl(e):e;return EV.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||_V.some(r=>(t.willChange||"").includes(r))||kV.some(r=>(t.contain||"").includes(r))}function NV(e){let n=rh(e);for(;Pc(n)&&!cm(n);){if(pA(n))return n;if(Ov(n))return null;n=rh(n)}return null}function mA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const TV=new Set(["html","body","#document"]);function cm(e){return TV.has(gm(e))}function Rl(e){return Xo(e).getComputedStyle(e)}function Iv(e){return no(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function rh(e){if(gm(e)==="html")return e;const n=e.assignedSlot||e.parentNode||m8(e)&&e.host||Bc(e);return m8(n)?n.host:n}function NO(e){const n=rh(e);return cm(n)?e.ownerDocument?e.ownerDocument.body:e.body:Pc(n)&&tb(n)?n:NO(n)}function _g(e,n,t){var r;n===void 0&&(n=[]),t===void 0&&(t=!0);const i=NO(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),s=Xo(i);if(a){const l=IS(s);return n.concat(s,s.visualViewport||[],tb(i)?i:[],l&&t?_g(l):[])}return n.concat(i,_g(i,[],t))}function IS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const dm=Math.min,ip=Math.max,$x=Math.round,Iy=Math.floor,Nc=e=>({x:e,y:e}),jV={left:"right",right:"left",bottom:"top",top:"bottom"},OV={start:"end",end:"start"};function IV(e,n,t){return ip(e,dm(n,t))}function Dv(e,n){return typeof e=="function"?e(n):e}function fm(e){return e.split("-")[0]}function nb(e){return e.split("-")[1]}function DV(e){return e==="x"?"y":"x"}function gA(e){return e==="y"?"height":"width"}const LV=new Set(["top","bottom"]);function Kh(e){return LV.has(fm(e))?"y":"x"}function bA(e){return DV(Kh(e))}function RV(e,n,t){t===void 0&&(t=!1);const r=nb(e),i=bA(e),a=gA(i);let s=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return n.reference[a]>n.floating[a]&&(s=Hx(s)),[s,Hx(s)]}function MV(e){const n=Hx(e);return[DS(e),n,DS(n)]}function DS(e){return e.replace(/start|end/g,n=>OV[n])}const g8=["left","right"],b8=["right","left"],FV=["top","bottom"],PV=["bottom","top"];function zV(e,n,t){switch(e){case"top":case"bottom":return t?n?b8:g8:n?g8:b8;case"left":case"right":return n?FV:PV;default:return[]}}function qV(e,n,t,r){const i=nb(e);let a=zV(fm(e),t==="start",r);return i&&(a=a.map(s=>s+"-"+i),n&&(a=a.concat(a.map(DS)))),a}function Hx(e){return e.replace(/left|right|bottom|top/g,n=>jV[n])}function BV(e){return{top:0,right:0,bottom:0,left:0,...e}}function TO(e){return typeof e!="number"?BV(e):{top:e,right:e,bottom:e,left:e}}function Wx(e){const{x:n,y:t,width:r,height:i}=e;return{width:r,height:i,top:t,left:n,right:n+r,bottom:t+i,x:n,y:t}}var UV=typeof document<"u",$V=function(){},Yx=UV?Q.useLayoutEffect:$V;const HV={...T6},WV=HV.useInsertionEffect,YV=WV||(e=>e());function VV(e){const n=Q.useRef(()=>{});return YV(()=>{n.current=e}),Q.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.current==null?void 0:n.current(...r)},[])}function y8(e,n,t){let{reference:r,floating:i}=e;const a=Kh(n),s=bA(n),l=gA(s),u=fm(n),d=a==="y",f=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,b=r[l]/2-i[l]/2;let m;switch(u){case"top":m={x:f,y:r.y-i.height};break;case"bottom":m={x:f,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:g};break;case"left":m={x:r.x-i.width,y:g};break;default:m={x:r.x,y:r.y}}switch(nb(n)){case"start":m[s]-=b*(t&&d?-1:1);break;case"end":m[s]+=b*(t&&d?-1:1);break}return m}const GV=async(e,n,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=t,l=a.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(n));let d=await s.getElementRects({reference:e,floating:n,strategy:i}),{x:f,y:g}=y8(d,r,u),b=r,m={},x=0;for(let y=0;y<l.length;y++){const{name:A,fn:w}=l[y],{x:C,y:N,data:R,reset:F}=await w({x:f,y:g,initialPlacement:r,placement:b,strategy:i,middlewareData:m,rects:d,platform:s,elements:{reference:e,floating:n}});f=C??f,g=N??g,m={...m,[A]:{...m[A],...R}},F&&x<=50&&(x++,typeof F=="object"&&(F.placement&&(b=F.placement),F.rects&&(d=F.rects===!0?await s.getElementRects({reference:e,floating:n,strategy:i}):F.rects),{x:f,y:g}=y8(d,b,u)),y=-1)}return{x:f,y:g,placement:b,strategy:i,middlewareData:m}};async function QV(e,n){var t;n===void 0&&(n={});const{x:r,y:i,platform:a,rects:s,elements:l,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:g="floating",altBoundary:b=!1,padding:m=0}=Dv(n,e),x=TO(m),A=l[b?g==="floating"?"reference":"floating":g],w=Wx(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(A)))==null||t?A:A.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:u})),C=g==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),R=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},F=Wx(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:N,strategy:u}):C);return{top:(w.top-F.top+x.top)/R.y,bottom:(F.bottom-w.bottom+x.bottom)/R.y,left:(w.left-F.left+x.left)/R.x,right:(F.right-w.right+x.right)/R.x}}const KV=e=>({name:"arrow",options:e,async fn(n){const{x:t,y:r,placement:i,rects:a,platform:s,elements:l,middlewareData:u}=n,{element:d,padding:f=0}=Dv(e,n)||{};if(d==null)return{};const g=TO(f),b={x:t,y:r},m=bA(i),x=gA(m),y=await s.getDimensions(d),A=m==="y",w=A?"top":"left",C=A?"bottom":"right",N=A?"clientHeight":"clientWidth",R=a.reference[x]+a.reference[m]-b[m]-a.floating[x],F=b[m]-a.reference[m],q=await(s.getOffsetParent==null?void 0:s.getOffsetParent(d));let k=q?q[N]:0;(!k||!await(s.isElement==null?void 0:s.isElement(q)))&&(k=l.floating[N]||a.floating[x]);const L=R/2-F/2,B=k/2-y[x]/2-1,X=dm(g[w],B),T=dm(g[C],B),O=X,P=k-y[x]-T,j=k/2-y[x]/2+L,G=IV(O,j,P),W=!u.arrow&&nb(i)!=null&&j!==G&&a.reference[x]/2-(j<O?X:T)-y[x]/2<0,K=W?j<O?j-O:j-P:0;return{[m]:b[m]+K,data:{[m]:G,centerOffset:j-G-K,...W&&{alignmentOffset:K}},reset:W}}}),XV=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var t,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:l,platform:u,elements:d}=n,{mainAxis:f=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...A}=Dv(e,n);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const w=fm(i),C=Kh(l),N=fm(l)===l,R=await(u.isRTL==null?void 0:u.isRTL(d.floating)),F=b||(N||!y?[Hx(l)]:MV(l)),q=x!=="none";!b&&q&&F.push(...qV(l,y,x,R));const k=[l,...F],L=await QV(n,A),B=[];let X=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&B.push(L[w]),g){const j=RV(i,s,R);B.push(L[j[0]],L[j[1]])}if(X=[...X,{placement:i,overflows:B}],!B.every(j=>j<=0)){var T,O;const j=(((T=a.flip)==null?void 0:T.index)||0)+1,G=k[j];if(G&&(!(g==="alignment"?C!==Kh(G):!1)||X.every(ie=>ie.overflows[0]>0&&Kh(ie.placement)===C)))return{data:{index:j,overflows:X},reset:{placement:G}};let W=(O=X.filter(K=>K.overflows[0]<=0).sort((K,ie)=>K.overflows[1]-ie.overflows[1])[0])==null?void 0:O.placement;if(!W)switch(m){case"bestFit":{var P;const K=(P=X.filter(ie=>{if(q){const ce=Kh(ie.placement);return ce===C||ce==="y"}return!0}).map(ie=>[ie.placement,ie.overflows.filter(ce=>ce>0).reduce((ce,$)=>ce+$,0)]).sort((ie,ce)=>ie[1]-ce[1])[0])==null?void 0:P[0];K&&(W=K);break}case"initialPlacement":W=l;break}if(i!==W)return{reset:{placement:W}}}return{}}}},ZV=new Set(["left","top"]);async function JV(e,n){const{placement:t,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=fm(t),l=nb(t),u=Kh(t)==="y",d=ZV.has(s)?-1:1,f=a&&u?-1:1,g=Dv(n,e);let{mainAxis:b,crossAxis:m,alignmentAxis:x}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),u?{x:m*f,y:b*d}:{x:b*d,y:m*f}}const eG=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var t,r;const{x:i,y:a,placement:s,middlewareData:l}=n,u=await JV(n,e);return s===((t=l.offset)==null?void 0:t.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:a+u.y,data:{...u,placement:s}}}}};function jO(e){const n=Rl(e);let t=parseFloat(n.width)||0,r=parseFloat(n.height)||0;const i=Pc(e),a=i?e.offsetWidth:t,s=i?e.offsetHeight:r,l=$x(t)!==a||$x(r)!==s;return l&&(t=a,r=s),{width:t,height:r,$:l}}function yA(e){return no(e)?e:e.contextElement}function B0(e){const n=yA(e);if(!Pc(n))return Nc(1);const t=n.getBoundingClientRect(),{width:r,height:i,$:a}=jO(n);let s=(a?$x(t.width):t.width)/r,l=(a?$x(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const tG=Nc(0);function OO(e){const n=Xo(e);return!mA()||!n.visualViewport?tG:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function nG(e,n,t){return n===void 0&&(n=!1),!t||n&&t!==Xo(e)?!1:n}function gp(e,n,t,r){n===void 0&&(n=!1),t===void 0&&(t=!1);const i=e.getBoundingClientRect(),a=yA(e);let s=Nc(1);n&&(r?no(r)&&(s=B0(r)):s=B0(e));const l=nG(a,t,r)?OO(a):Nc(0);let u=(i.left+l.x)/s.x,d=(i.top+l.y)/s.y,f=i.width/s.x,g=i.height/s.y;if(a){const b=Xo(a),m=r&&no(r)?Xo(r):r;let x=b,y=IS(x);for(;y&&r&&m!==x;){const A=B0(y),w=y.getBoundingClientRect(),C=Rl(y),N=w.left+(y.clientLeft+parseFloat(C.paddingLeft))*A.x,R=w.top+(y.clientTop+parseFloat(C.paddingTop))*A.y;u*=A.x,d*=A.y,f*=A.x,g*=A.y,u+=N,d+=R,x=Xo(y),y=IS(x)}}return Wx({width:f,height:g,x:u,y:d})}function xA(e,n){const t=Iv(e).scrollLeft;return n?n.left+t:gp(Bc(e)).left+t}function IO(e,n,t){t===void 0&&(t=!1);const r=e.getBoundingClientRect(),i=r.left+n.scrollLeft-(t?0:xA(e,r)),a=r.top+n.scrollTop;return{x:i,y:a}}function rG(e){let{elements:n,rect:t,offsetParent:r,strategy:i}=e;const a=i==="fixed",s=Bc(r),l=n?Ov(n.floating):!1;if(r===s||l&&a)return t;let u={scrollLeft:0,scrollTop:0},d=Nc(1);const f=Nc(0),g=Pc(r);if((g||!g&&!a)&&((gm(r)!=="body"||tb(s))&&(u=Iv(r)),Pc(r))){const m=gp(r);d=B0(r),f.x=m.x+r.clientLeft,f.y=m.y+r.clientTop}const b=s&&!g&&!a?IO(s,u,!0):Nc(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-u.scrollLeft*d.x+f.x+b.x,y:t.y*d.y-u.scrollTop*d.y+f.y+b.y}}function iG(e){return Array.from(e.getClientRects())}function aG(e){const n=Bc(e),t=Iv(e),r=e.ownerDocument.body,i=ip(n.scrollWidth,n.clientWidth,r.scrollWidth,r.clientWidth),a=ip(n.scrollHeight,n.clientHeight,r.scrollHeight,r.clientHeight);let s=-t.scrollLeft+xA(e);const l=-t.scrollTop;return Rl(r).direction==="rtl"&&(s+=ip(n.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:l}}function sG(e,n){const t=Xo(e),r=Bc(e),i=t.visualViewport;let a=r.clientWidth,s=r.clientHeight,l=0,u=0;if(i){a=i.width,s=i.height;const d=mA();(!d||d&&n==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:a,height:s,x:l,y:u}}const oG=new Set(["absolute","fixed"]);function lG(e,n){const t=gp(e,!0,n==="fixed"),r=t.top+e.clientTop,i=t.left+e.clientLeft,a=Pc(e)?B0(e):Nc(1),s=e.clientWidth*a.x,l=e.clientHeight*a.y,u=i*a.x,d=r*a.y;return{width:s,height:l,x:u,y:d}}function x8(e,n,t){let r;if(n==="viewport")r=sG(e,t);else if(n==="document")r=aG(Bc(e));else if(no(n))r=lG(n,t);else{const i=OO(e);r={x:n.x-i.x,y:n.y-i.y,width:n.width,height:n.height}}return Wx(r)}function DO(e,n){const t=rh(e);return t===n||!no(t)||cm(t)?!1:Rl(t).position==="fixed"||DO(t,n)}function uG(e,n){const t=n.get(e);if(t)return t;let r=_g(e,[],!1).filter(l=>no(l)&&gm(l)!=="body"),i=null;const a=Rl(e).position==="fixed";let s=a?rh(e):e;for(;no(s)&&!cm(s);){const l=Rl(s),u=pA(s);!u&&l.position==="fixed"&&(i=null),(a?!u&&!i:!u&&l.position==="static"&&!!i&&oG.has(i.position)||tb(s)&&!u&&DO(e,s))?r=r.filter(f=>f!==s):i=l,s=rh(s)}return n.set(e,r),r}function cG(e){let{element:n,boundary:t,rootBoundary:r,strategy:i}=e;const s=[...t==="clippingAncestors"?Ov(n)?[]:uG(n,this._c):[].concat(t),r],l=s[0],u=s.reduce((d,f)=>{const g=x8(n,f,i);return d.top=ip(g.top,d.top),d.right=dm(g.right,d.right),d.bottom=dm(g.bottom,d.bottom),d.left=ip(g.left,d.left),d},x8(n,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function dG(e){const{width:n,height:t}=jO(e);return{width:n,height:t}}function fG(e,n,t){const r=Pc(n),i=Bc(n),a=t==="fixed",s=gp(e,!0,a,n);let l={scrollLeft:0,scrollTop:0};const u=Nc(0);function d(){u.x=xA(i)}if(r||!r&&!a)if((gm(n)!=="body"||tb(i))&&(l=Iv(n)),r){const m=gp(n,!0,a,n);u.x=m.x+n.clientLeft,u.y=m.y+n.clientTop}else i&&d();a&&!r&&i&&d();const f=i&&!r&&!a?IO(i,l):Nc(0),g=s.left+l.scrollLeft-u.x-f.x,b=s.top+l.scrollTop-u.y-f.y;return{x:g,y:b,width:s.width,height:s.height}}function tw(e){return Rl(e).position==="static"}function v8(e,n){if(!Pc(e)||Rl(e).position==="fixed")return null;if(n)return n(e);let t=e.offsetParent;return Bc(e)===t&&(t=t.ownerDocument.body),t}function LO(e,n){const t=Xo(e);if(Ov(e))return t;if(!Pc(e)){let i=rh(e);for(;i&&!cm(i);){if(no(i)&&!tw(i))return i;i=rh(i)}return t}let r=v8(e,n);for(;r&&AV(r)&&tw(r);)r=v8(r,n);return r&&cm(r)&&tw(r)&&!pA(r)?t:r||NV(e)||t}const hG=async function(e){const n=this.getOffsetParent||LO,t=this.getDimensions,r=await t(e.floating);return{reference:fG(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function pG(e){return Rl(e).direction==="rtl"}const mG={convertOffsetParentRelativeRectToViewportRelativeRect:rG,getDocumentElement:Bc,getClippingRect:cG,getOffsetParent:LO,getElementRects:hG,getClientRects:iG,getDimensions:dG,getScale:B0,isElement:no,isRTL:pG};function RO(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function gG(e,n){let t=null,r;const i=Bc(e);function a(){var l;clearTimeout(r),(l=t)==null||l.disconnect(),t=null}function s(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),a();const d=e.getBoundingClientRect(),{left:f,top:g,width:b,height:m}=d;if(l||n(),!b||!m)return;const x=Iy(g),y=Iy(i.clientWidth-(f+b)),A=Iy(i.clientHeight-(g+m)),w=Iy(f),N={rootMargin:-x+"px "+-y+"px "+-A+"px "+-w+"px",threshold:ip(0,dm(1,u))||1};let R=!0;function F(q){const k=q[0].intersectionRatio;if(k!==u){if(!R)return s();k?s(!1,k):r=setTimeout(()=>{s(!1,1e-7)},1e3)}k===1&&!RO(d,e.getBoundingClientRect())&&s(),R=!1}try{t=new IntersectionObserver(F,{...N,root:i.ownerDocument})}catch{t=new IntersectionObserver(F,N)}t.observe(e)}return s(!0),a}function bG(e,n,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=yA(e),f=i||a?[...d?_g(d):[],..._g(n)]:[];f.forEach(w=>{i&&w.addEventListener("scroll",t,{passive:!0}),a&&w.addEventListener("resize",t)});const g=d&&l?gG(d,t):null;let b=-1,m=null;s&&(m=new ResizeObserver(w=>{let[C]=w;C&&C.target===d&&m&&(m.unobserve(n),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var N;(N=m)==null||N.observe(n)})),t()}),d&&!u&&m.observe(d),m.observe(n));let x,y=u?gp(e):null;u&&A();function A(){const w=gp(e);y&&!RO(y,w)&&t(),y=w,x=requestAnimationFrame(A)}return t(),()=>{var w;f.forEach(C=>{i&&C.removeEventListener("scroll",t),a&&C.removeEventListener("resize",t)}),g==null||g(),(w=m)==null||w.disconnect(),m=null,u&&cancelAnimationFrame(x)}}const yG=eG,xG=XV,w8=KV,vG=(e,n,t)=>{const r=new Map,i={platform:mG,...t},a={...i.platform,_c:r};return GV(e,n,{...i,platform:a})};var wG=typeof document<"u",SG=function(){},sx=wG?Q.useLayoutEffect:SG;function Vx(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let t,r,i;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==n.length)return!1;for(r=t;r--!==0;)if(!Vx(e[r],n[r]))return!1;return!0}if(i=Object.keys(e),t=i.length,t!==Object.keys(n).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(n,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Vx(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}function MO(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function S8(e,n){const t=MO(e);return Math.round(n*t)/t}function nw(e){const n=Q.useRef(e);return sx(()=>{n.current=e}),n}function AG(e){e===void 0&&(e={});const{placement:n="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:l=!0,whileElementsMounted:u,open:d}=e,[f,g]=Q.useState({x:0,y:0,strategy:t,placement:n,middlewareData:{},isPositioned:!1}),[b,m]=Q.useState(r);Vx(b,r)||m(r);const[x,y]=Q.useState(null),[A,w]=Q.useState(null),C=Q.useCallback(ie=>{ie!==q.current&&(q.current=ie,y(ie))},[]),N=Q.useCallback(ie=>{ie!==k.current&&(k.current=ie,w(ie))},[]),R=a||x,F=s||A,q=Q.useRef(null),k=Q.useRef(null),L=Q.useRef(f),B=u!=null,X=nw(u),T=nw(i),O=nw(d),P=Q.useCallback(()=>{if(!q.current||!k.current)return;const ie={placement:n,strategy:t,middleware:b};T.current&&(ie.platform=T.current),vG(q.current,k.current,ie).then(ce=>{const $={...ce,isPositioned:O.current!==!1};j.current&&!Vx(L.current,$)&&(L.current=$,pR.flushSync(()=>{g($)}))})},[b,n,t,T,O]);sx(()=>{d===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,g(ie=>({...ie,isPositioned:!1})))},[d]);const j=Q.useRef(!1);sx(()=>(j.current=!0,()=>{j.current=!1}),[]),sx(()=>{if(R&&(q.current=R),F&&(k.current=F),R&&F){if(X.current)return X.current(R,F,P);P()}},[R,F,P,X,B]);const G=Q.useMemo(()=>({reference:q,floating:k,setReference:C,setFloating:N}),[C,N]),W=Q.useMemo(()=>({reference:R,floating:F}),[R,F]),K=Q.useMemo(()=>{const ie={position:t,left:0,top:0};if(!W.floating)return ie;const ce=S8(W.floating,f.x),$=S8(W.floating,f.y);return l?{...ie,transform:"translate("+ce+"px, "+$+"px)",...MO(W.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ce,top:$}},[t,l,W.floating,f.x,f.y]);return Q.useMemo(()=>({...f,update:P,refs:G,elements:W,floatingStyles:K}),[f,P,G,W,K])}const CG=e=>{function n(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:r,padding:i}=typeof e=="function"?e(t):e;return r&&n(r)?r.current!=null?w8({element:r.current,padding:i}).fn(t):{}:r?w8({element:r,padding:i}).fn(t):{}}}},EG=(e,n)=>({...yG(e),options:[e,n]}),_G=(e,n)=>({...xG(e),options:[e,n]}),kG=(e,n)=>({...CG(e),options:[e,n]}),NG={...T6};let A8=!1,TG=0;const C8=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+TG++;function jG(){const[e,n]=Q.useState(()=>A8?C8():void 0);return Yx(()=>{e==null&&n(C8())},[]),Q.useEffect(()=>{A8=!0},[]),e}const OG=NG.useId,FO=OG||jG,IG=Q.forwardRef(function(n,t){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:a,shift:s}},width:l=14,height:u=7,tipRadius:d=0,strokeWidth:f=0,staticOffset:g,stroke:b,d:m,style:{transform:x,...y}={},...A}=n,w=FO(),[C,N]=Q.useState(!1);if(Yx(()=>{if(!i)return;Rl(i).direction==="rtl"&&N(!0)},[i]),!i)return null;const[R,F]=r.split("-"),q=R==="top"||R==="bottom";let k=g;(q&&s!=null&&s.x||!q&&s!=null&&s.y)&&(k=null);const L=f*2,B=L/2,X=l/2*(d/-8+1),T=u/2*d/4,O=!!m,P=k&&F==="end"?"bottom":"top";let j=k&&F==="end"?"right":"left";k&&C&&(j=F==="end"?"left":"right");const G=(a==null?void 0:a.x)!=null?k||a.x:"",W=(a==null?void 0:a.y)!=null?k||a.y:"",K=m||"M0,0"+(" H"+l)+(" L"+(l-X)+","+(u-T))+(" Q"+l/2+","+u+" "+X+","+(u-T))+" Z",ie={top:O?"rotate(180deg)":"",left:O?"rotate(90deg)":"rotate(-90deg)",bottom:O?"":"rotate(180deg)",right:O?"rotate(-90deg)":"rotate(90deg)"}[R];return h.jsxs("svg",{...A,"aria-hidden":!0,ref:t,width:O?l:l+L,height:l,viewBox:"0 0 "+l+" "+(u>l?u:l),style:{position:"absolute",pointerEvents:"none",[j]:G,[P]:W,[R]:q||O?"100%":"calc(100% - "+L/2+"px)",transform:[ie,x].filter(ce=>!!ce).join(" "),...y},children:[L>0&&h.jsx("path",{clipPath:"url(#"+w+")",fill:"none",stroke:b,strokeWidth:L+(m?0:1),d:K}),h.jsx("path",{stroke:L&&!m?A.fill:"none",d:K}),h.jsx("clipPath",{id:w,children:h.jsx("rect",{x:-B,y:B*(O?-1:1),width:l+L,height:l})})]})});function DG(){const e=new Map;return{emit(n,t){var r;(r=e.get(n))==null||r.forEach(i=>i(t))},on(n,t){e.has(n)||e.set(n,new Set),e.get(n).add(t)},off(n,t){var r;(r=e.get(n))==null||r.delete(t)}}}const LG=Q.createContext(null),RG=Q.createContext(null),MG=()=>{var e;return((e=Q.useContext(LG))==null?void 0:e.id)||null},FG=()=>Q.useContext(RG);function PG(e){const{open:n=!1,onOpenChange:t,elements:r}=e,i=FO(),a=Q.useRef({}),[s]=Q.useState(()=>DG()),l=MG()!=null,[u,d]=Q.useState(r.reference),f=VV((m,x,y)=>{a.current.openEvent=m?x:void 0,s.emit("openchange",{open:m,event:x,reason:y,nested:l}),t==null||t(m,x,y)}),g=Q.useMemo(()=>({setPositionReference:d}),[]),b=Q.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return Q.useMemo(()=>({dataRef:a,open:n,onOpenChange:f,elements:b,events:s,floatingId:i,refs:g}),[n,f,b,s,i,g])}function zG(e){e===void 0&&(e={});const{nodeId:n}=e,t=PG({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||t,i=r.elements,[a,s]=Q.useState(null),[l,u]=Q.useState(null),f=(i==null?void 0:i.domReference)||a,g=Q.useRef(null),b=FG();Yx(()=>{f&&(g.current=f)},[f]);const m=AG({...e,elements:{...i,...l&&{reference:l}}}),x=Q.useCallback(N=>{const R=no(N)?{getBoundingClientRect:()=>N.getBoundingClientRect(),getClientRects:()=>N.getClientRects(),contextElement:N}:N;u(R),m.refs.setReference(R)},[m.refs]),y=Q.useCallback(N=>{(no(N)||N===null)&&(g.current=N,s(N)),(no(m.refs.reference.current)||m.refs.reference.current===null||N!==null&&!no(N))&&m.refs.setReference(N)},[m.refs]),A=Q.useMemo(()=>({...m.refs,setReference:y,setPositionReference:x,domReference:g}),[m.refs,y,x]),w=Q.useMemo(()=>({...m.elements,domReference:f}),[m.elements,f]),C=Q.useMemo(()=>({...m,...r,refs:A,elements:w,nodeId:n}),[m,A,w,n,r]);return Yx(()=>{r.dataRef.current.floatingContext=C;const N=b==null?void 0:b.nodesRef.current.find(R=>R.id===n);N&&(N.context=C)}),Q.useMemo(()=>({...m,context:C,refs:A,elements:w}),[m,A,w,C])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var LS=function(n,t){return LS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},LS(n,t)};function ns(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");LS(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var rr=function(){return rr=Object.assign||function(t){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},rr.apply(this,arguments)};function Sc(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))}var qG=function(e){var n=e.showTimeSelectOnly,t=n===void 0?!1:n,r=e.showTime,i=r===void 0?!1:r,a=e.className,s=e.children,l=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return at.createElement("div",{className:a,role:"dialog","aria-label":l,"aria-modal":"true"},s)},BG=function(e,n){var t=Q.useRef(null),r=Q.useRef(e);r.current=e;var i=Q.useCallback(function(a){var s;t.current&&!t.current.contains(a.target)&&(n&&a.target instanceof HTMLElement&&a.target.classList.contains(n)||(s=r.current)===null||s===void 0||s.call(r,a))},[n]);return Q.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},Lv=function(e){var n=e.children,t=e.onClickOutside,r=e.className,i=e.containerRef,a=e.style,s=e.ignoreClass,l=BG(t,s);return at.createElement("div",{className:r,style:a,ref:function(u){l.current=u,i&&(i.current=u)}},n)},Dt;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Dt||(Dt={}));function PO(){var e=typeof window<"u"?window:globalThis;return e}var rb=12,UG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Rr(e){if(e==null)return new Date;var n=typeof e=="string"?iV(e):Mt(e);return yd(n)?n:new Date}function rw(e,n,t,r,i){var a,s=null,l=ap(t)||ap(ng()),u=!0;if(Array.isArray(n))return n.forEach(function(f){var g=J5(e,f,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(u=yd(g,i)&&e===fi(g,f,t)),yd(g,i)&&u&&(s=g)}),s;if(s=J5(e,n,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)u=yd(s)&&e===fi(s,n,t);else if(!yd(s)){var d=((a=n.match(UG))!==null&&a!==void 0?a:[]).map(function(f){var g=f[0];if(g==="p"||g==="P"){var b=Bx[g];return l?b(f,l.formatLong):g}return f}).join("");e.length>0&&(s=J5(e,d.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),yd(s)||(s=new Date(e))}return yd(s)&&u?s:null}function yd(e,n){return Fx(e)&&!mp(e,n??new Date("1/1/1800"))}function fi(e,n,t){if(t==="en")return f8(e,n,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?ap(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!r&&ng()&&ap(ng())&&(r=ap(ng())),f8(e,n,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Cl(e,n){var t=n.dateFormat,r=n.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return e&&fi(e,i,r)||""}function $G(e,n,t){if(!e)return"";var r=Cl(e,t),i=n?Cl(n,t):"";return"".concat(r," - ").concat(i)}function HG(e,n){if(!(e!=null&&e.length))return"";var t=e[0]?Cl(e[0],n):"";if(e.length===1)return t;if(e.length===2&&e[1]){var r=Cl(e[1],n);return"".concat(t,", ").concat(r)}var i=e.length-1;return"".concat(t," (+").concat(i,")")}function iw(e,n){var t=n.hour,r=t===void 0?0:t,i=n.minute,a=i===void 0?0:i,s=n.second,l=s===void 0?0:s;return rx(ix(ax(e,l),a),r)}function WG(e){return cA(e)}function YG(e,n){return fi(e,"ddd",n)}function ox(e){return pp(e)}function Zf(e,n,t){var r=ap(n||ng());return Pd(e,{locale:r,weekStartsOn:t})}function Od(e){return pO(e)}function X1(e){return Tv(e)}function E8(e){return TS(e)}function _8(){return pp(Rr())}function k8(e){return fO(e)}function VG(e){return uW(e)}function GG(e){return hO(e)}function dc(e,n){return e&&n?nV(e,n):!e&&!n}function eo(e,n){return e&&n?eV(e,n):!e&&!n}function Gx(e,n){return e&&n?tV(e,n):!e&&!n}function Kn(e,n){return e&&n?oW(e,n):!e&&!n}function Xh(e,n){return e&&n?aY(e,n):!e&&!n}function Z1(e,n,t){var r,i=pp(n),a=fO(t);try{r=Eg(e,{start:i,end:a})}catch{r=!1}return r}function ng(){var e=PO();return e.__localeId__}function ap(e){if(typeof e=="string"){var n=PO();return n.__localeData__?n.__localeData__[e]:void 0}else return e}function QG(e,n,t){return n(fi(e,"EEEE",t))}function KG(e,n){return fi(e,"EEEEEE",n)}function XG(e,n){return fi(e,"EEE",n)}function vA(e,n){return fi($o(Rr(),e),"LLLL",n)}function zO(e,n){return fi($o(Rr(),e),"LLL",n)}function ZG(e,n){return fi(D0(Rr(),e),"QQQ",n)}function kl(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.excludeDateIntervals,l=t.includeDates,u=t.includeDateIntervals,d=t.filterDate;return ib(e,{minDate:r,maxDate:i})||a&&a.some(function(f){return f instanceof Date?Kn(e,f):Kn(e,f.date)})||s&&s.some(function(f){var g=f.start,b=f.end;return Eg(e,{start:g,end:b})})||l&&!l.some(function(f){return Kn(e,f)})||u&&!u.some(function(f){var g=f.start,b=f.end;return Eg(e,{start:g,end:b})})||d&&!d(Rr(e))||!1}function wA(e,n){var t=n===void 0?{}:n,r=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(a){var s=a.start,l=a.end;return Eg(e,{start:s,end:l})}):r&&r.some(function(a){var s;return a instanceof Date?Kn(e,a):Kn(e,(s=a.date)!==null&&s!==void 0?s:new Date)})||!1}function qO(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,l=t.filterDate;return ib(e,{minDate:r?pO(r):void 0,maxDate:i?hO(i):void 0})||(a==null?void 0:a.some(function(u){return eo(e,u instanceof Date?u:u.date)}))||s&&!s.some(function(u){return eo(e,u)})||l&&!l(Rr(e))||!1}function Dy(e,n,t,r){var i=Fn(e),a=to(e),s=Fn(n),l=to(n),u=Fn(r);return i===s&&i===u?a<=t&&t<=l:i<s?u===i&&a<=t||u===s&&l>=t||u<s&&u>i:!1}function JG(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates;return ib(e,{minDate:r,maxDate:i})||a&&a.some(function(l){return eo(l instanceof Date?l:l.date,e)})||s&&!s.some(function(l){return eo(l,e)})||!1}function Ly(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,l=t.filterDate;return ib(e,{minDate:r,maxDate:i})||(a==null?void 0:a.some(function(u){return Gx(e,u instanceof Date?u:u.date)}))||s&&!s.some(function(u){return Gx(e,u)})||l&&!l(Rr(e))||!1}function Ry(e,n,t){if(!n||!t||!Fx(n)||!Fx(t))return!1;var r=Fn(n),i=Fn(t);return r<=e&&i>=e}function lx(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,l=t.filterDate,u=new Date(e,0,1);return ib(u,{minDate:r?Tv(r):void 0,maxDate:i?mO(i):void 0})||(a==null?void 0:a.some(function(d){return dc(u,d instanceof Date?d:d.date)}))||s&&!s.some(function(d){return dc(u,d)})||l&&!l(Rr(u))||!1}function My(e,n,t,r){var i=Fn(e),a=np(e),s=Fn(n),l=np(n),u=Fn(r);return i===s&&i===u?a<=t&&t<=l:i<s?u===i&&a<=t||u===s&&l>=t||u<s&&u>i:!1}function ib(e,n){var t,r=n===void 0?{}:n,i=r.minDate,a=r.maxDate;return(t=i&&lm(e,i)<0||a&&lm(e,a)>0)!==null&&t!==void 0?t:!1}function N8(e,n){return n.some(function(t){return _c(t)===_c(e)&&kc(t)===kc(e)&&jd(t)===jd(e)})}function T8(e,n){var t=n===void 0?{}:n,r=t.excludeTimes,i=t.includeTimes,a=t.filterTime;return r&&N8(e,r)||i&&!N8(e,i)||a&&!a(e)||!1}function j8(e,n){var t=n.minTime,r=n.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var i=Rr();i=rx(i,_c(e)),i=ix(i,kc(e)),i=ax(i,jd(e));var a=Rr();a=rx(a,_c(t)),a=ix(a,kc(t)),a=ax(a,jd(t));var s=Rr();s=rx(s,_c(r)),s=ix(s,kc(r)),s=ax(s,jd(r));var l;try{l=!Eg(i,{start:a,end:s})}catch{l=!1}return l}function O8(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=rp(e,1);return r&&Px(r,a)>0||i&&i.every(function(s){return Px(s,a)>0})||!1}function I8(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=Cu(e,1);return r&&Px(a,r)>0||i&&i.every(function(s){return Px(a,s)>0})||!1}function eQ(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=Tv(e),s=_O(a);return r&&zx(r,s)>0||i&&i.every(function(l){return zx(l,s)>0})||!1}function tQ(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=mO(e),s=uA(a,1);return r&&zx(s,r)>0||i&&i.every(function(l){return zx(s,l)>0})||!1}function D8(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=um(e,1);return r&&qx(r,a)>0||i&&i.every(function(s){return qx(s,a)>0})||!1}function nQ(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.yearItemNumber,a=i===void 0?rb:i,s=X1(um(e,a)),l=Uf(s,a).endPeriod,u=r&&Fn(r);return u&&u>l||!1}function L8(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=Nd(e,1);return r&&qx(a,r)>0||i&&i.every(function(s){return qx(a,s)>0})||!1}function rQ(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.yearItemNumber,a=i===void 0?rb:i,s=Nd(e,a),l=Uf(s,a).startPeriod,u=r&&Fn(r);return u&&u<l||!1}function BO(e){var n=e.minDate,t=e.includeDates;if(t&&n){var r=t.filter(function(i){return lm(i,n)>=0});return s8(r)}else return t?s8(t):n}function UO(e){var n=e.maxDate,t=e.includeDates;if(t&&n){var r=t.filter(function(i){return lm(i,n)<=0});return a8(r)}else return t?a8(t):n}function R8(e,n){var t;e===void 0&&(e=[]),n===void 0&&(n="react-datepicker__day--highlighted");for(var r=new Map,i=0,a=e.length;i<a;i++){var s=e[i];if(Td(s)){var l=fi(s,"MM.dd.yyyy"),u=r.get(l)||[];u.includes(n)||(u.push(n),r.set(l,u))}else if(typeof s=="object"){var d=Object.keys(s),f=(t=d[0])!==null&&t!==void 0?t:"",g=s[f];if(typeof f=="string"&&Array.isArray(g))for(var b=0,m=g.length;b<m;b++){var x=g[b];if(x){var l=fi(x,"MM.dd.yyyy"),u=r.get(l)||[];u.includes(f)||(u.push(f),r.set(l,u))}}}}return r}function iQ(e,n){return e.length!==n.length?!1:e.every(function(t,r){return t===n[r]})}function aQ(e,n){e===void 0&&(e=[]),n===void 0&&(n="react-datepicker__day--holidays");var t=new Map;return e.forEach(function(r){var i=r.date,a=r.holidayName;if(Td(i)){var s=fi(i,"MM.dd.yyyy"),l=t.get(s)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===n&&iQ(l.holidayNames,[a]))){l.className=n;var u=l.holidayNames;l.holidayNames=u?Sc(Sc([],u,!0),[a],!1):[a],t.set(s,l)}}}),t}function sQ(e,n,t,r,i){for(var a=i.length,s=[],l=0;l<a;l++){var u=e,d=i[l];d&&(u=rW(u,_c(d)),u=NS(u,kc(d)),u=sW(u,jd(d)));var f=NS(e,(t+1)*r);nh(u,n)&&mp(u,f)&&d!=null&&s.push(d)}return s}function M8(e){return e<10?"0".concat(e):"".concat(e)}function Uf(e,n){n===void 0&&(n=rb);var t=Math.ceil(Fn(e)/n)*n,r=t-(n-1);return{startPeriod:r,endPeriod:t}}function oQ(e){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+t-+n)/36e5)}function F8(e){var n=e.getSeconds(),t=e.getMilliseconds();return Mt(e.getTime()-n*1e3-t)}function lQ(e,n){return F8(e).getTime()===F8(n).getTime()}function P8(e){if(!Td(e))throw new Error("Invalid date");var n=new Date(e);return n.setHours(0,0,0,0),n}function z8(e,n){if(!Td(e)||!Td(n))throw new Error("Invalid date received");var t=P8(e),r=P8(n);return mp(t,r)}function $O(e){return e.key===Dt.Space}var uQ=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;return r.inputRef=at.createRef(),r.onTimeChange=function(i){var a,s;r.setState({time:i});var l=r.props.date,u=l instanceof Date&&!isNaN(+l),d=u?l:new Date;if(i!=null&&i.includes(":")){var f=i.split(":"),g=f[0],b=f[1];d.setHours(Number(g)),d.setMinutes(Number(b))}(s=(a=r.props).onChange)===null||s===void 0||s.call(a,d)},r.renderTimeInput=function(){var i=r.state.time,a=r.props,s=a.date,l=a.timeString,u=a.customTimeInput;return u?Q.cloneElement(u,{date:s,value:i,onChange:r.onTimeChange}):at.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var d;(d=r.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:i,onChange:function(d){r.onTimeChange(d.target.value||l)}})},r.state={time:r.props.timeString},r}return n.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},n.prototype.render=function(){return at.createElement("div",{className:"react-datepicker__input-time-container"},at.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),at.createElement("div",{className:"react-datepicker-time__input-container"},at.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},n}(Q.Component),cQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.dayEl=Q.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var i,a,s=r.key;s===Dt.Space&&(r.preventDefault(),r.key=Dt.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},t.isSameDay=function(r){return Kn(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected),a=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!a},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),kl(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return wA(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Kn(t.props.day,Zf(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&Kn(r,Zf(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,i=r.day,a=r.highlightDates;if(!a)return!1;var s=fi(i,"MM.dd.yyyy");return a.get(s)},t.getHolidaysClass=function(){var r,i=t.props,a=i.day,s=i.holidays;if(!s)return[void 0];var l=fi(a,"MM.dd.yyyy");return s.has(l)?[(r=s.get(l))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:Z1(i,a,s)},t.isInSelectingRange=function(){var r,i=t.props,a=i.day,s=i.selectsStart,l=i.selectsEnd,u=i.selectsRange,d=i.selectsDisabledDaysInRange,f=i.startDate,g=i.endDate,b=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(s||l||u)||!b||!d&&t.isDisabled()?!1:s&&g&&(mp(b,g)||Xh(b,g))?Z1(a,b,g):l&&f&&(nh(b,f)||Xh(b,f))||u&&f&&!g&&(nh(b,f)||Xh(b,f))?Z1(a,f,b):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,s=i.startDate,l=i.selectsStart,u=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return l?Kn(a,u):Kn(a,s)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,s=i.endDate,l=i.selectsEnd,u=i.selectsRange,d=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return l||u?Kn(a,d):Kn(a,s)},t.isRangeStart=function(){var r=t.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:Kn(a,i)},t.isRangeEnd=function(){var r=t.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:Kn(s,i)},t.isWeekend=function(){var r=tY(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===to(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(to(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Rr())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var i=t.props.dayClassName?t.props.dayClassName(r):void 0;return ms("react-datepicker__day",i,"react-datepicker__day--"+YG(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,i=r.day,a=r.ariaLabelPrefixWhenEnabled,s=a===void 0?"Choose":a,l=r.ariaLabelPrefixWhenDisabled,u=l===void 0?"Not available":l,d=t.isDisabled()||t.isExcluded()?u:s;return"".concat(d," ").concat(fi(i,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,i=r.day,a=r.holidays,s=a===void 0?new Map:a,l=r.excludeDates,u=fi(i,"MM.dd.yyyy"),d=[];return s.has(u)&&d.push.apply(d,s.get(u).holidayNames),t.isExcluded()&&d.push(l==null?void 0:l.filter(function(f){return f instanceof Date?Kn(f,i):Kn(f==null?void 0:f.date,i)}).map(function(f){if(!(f instanceof Date))return f==null?void 0:f.message})),d.join(", ")},t.getTabIndex=function(){var r=t.props.selected,i=t.props.preSelection,a=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&Kn(i,r))?0:-1;return a},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(h8(t.props.day),t.props.day):h8(t.props.day)},t.render=function(){return at.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&at.createElement("span",{className:"overlay"},t.getTitle()))},t}return n.prototype.componentDidMount=function(){this.handleFocusDay()},n.prototype.componentDidUpdate=function(){this.handleFocusDay()},n.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},n.prototype.isDayActiveElement=function(){var t,r,i;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},n.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},n}(Q.Component),dQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.weekNumberEl=Q.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var i,a,s=r.key;s===Dt.Space&&(r.preventDefault(),r.key=Dt.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Kn(t.props.date,t.props.selected)&&Kn(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Kn(t.props.date,t.props.selected)&&Kn(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var i=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Kn(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},n.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},n.prototype.render=function(){var t=this.props,r=t.weekNumber,i=t.isWeekDisabled,a=t.ariaLabelPrefix,s=a===void 0?n.defaultProps.ariaLabelPrefix:a,l=t.onClick,u={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!i,"react-datepicker__week-number--selected":!!l&&Kn(this.props.date,this.props.selected)};return at.createElement("div",{ref:this.weekNumberEl,className:ms(u),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},n}(Q.Component),fQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.isDisabled=function(r){return kl(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,i){t.props.onDayClick&&t.props.onDayClick(r,i)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,i,a){for(var s,l,u,d=new Date(r),f=0;f<7;f++){var g=new Date(r);g.setDate(g.getDate()+f);var b=!t.isDisabled(g);if(b){d=g;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(d,i,a),t.props.showWeekPicker&&t.handleDayClick(d,a),((s=t.props.shouldCloseOnSelect)!==null&&s!==void 0?s:n.defaultProps.shouldCloseOnSelect)&&((u=(l=t.props).setOpen)===null||u===void 0||u.call(l,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):WG(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),i=wu(r,6),a=new Date(r);a<=i;){if(!t.isDisabled(a))return!1;a=wu(a,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),i=[],a=t.formatWeekNumber(r);if(t.props.showWeekNumber){var s=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,a):void 0;i.push(at.createElement(dQ,rr({key:"W"},n.defaultProps,t.props,{weekNumber:a,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:s})))}return i.concat([0,1,2,3,4,5,6].map(function(l){var u=wu(r,l);return at.createElement(cQ,rr({},n.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:u.valueOf(),day:u,onClick:t.handleDayClick.bind(t,u),onMouseEnter:t.handleDayMouseEnter.bind(t,u)}))}))},t.startOfWeek=function(){return Zf(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Kn(t.startOfWeek(),t.props.selected)&&Kn(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Kn(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return at.createElement("div",{className:ms(t)},this.renderDays())},n}(Q.Component),_1,hQ=6,U0={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},aw=(_1={},_1[U0.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},_1[U0.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},_1[U0.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},_1),Fy=1;function q8(e,n){return e?U0.FOUR_COLUMNS:n?U0.TWO_COLUMNS:U0.THREE_COLUMNS}var pQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.MONTH_REFS=Sc([],Array(12),!0).map(function(){return Q.createRef()}),t.QUARTER_REFS=Sc([],Array(4),!0).map(function(){return Q.createRef()}),t.isDisabled=function(r){return kl(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return wA(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,i){var a,s;(s=(a=t.props).onDayClick)===null||s===void 0||s.call(a,r,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var i,a;(a=(i=t.props).onDayMouseEnter)===null||a===void 0||a.call(i,r)},t.handleMouseLeave=function(){var r,i;(i=(r=t.props).onMouseLeave)===null||i===void 0||i.call(r)},t.isRangeStartMonth=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:eo($o(a,r),s)},t.isRangeStartQuarter=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:Gx(D0(a,r),s)},t.isRangeEndMonth=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:eo($o(a,r),l)},t.isRangeEndQuarter=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:Gx(D0(a,r),l)},t.isInSelectingRangeMonth=function(r){var i,a=t.props,s=a.day,l=a.selectsStart,u=a.selectsEnd,d=a.selectsRange,f=a.startDate,g=a.endDate,b=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(l||u||d)||!b?!1:l&&g?Dy(b,g,r,s):u&&f||d&&f&&!g?Dy(f,b,r,s):!1},t.isSelectingMonthRangeStart=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var a=t.props,s=a.day,l=a.startDate,u=a.selectsStart,d=$o(s,r),f=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return u?eo(d,f):eo(d,l)},t.isSelectingMonthRangeEnd=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var a=t.props,s=a.day,l=a.endDate,u=a.selectsEnd,d=a.selectsRange,f=$o(s,r),g=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return u||d?eo(f,g):eo(f,l)},t.isInSelectingRangeQuarter=function(r){var i,a=t.props,s=a.day,l=a.selectsStart,u=a.selectsEnd,d=a.selectsRange,f=a.startDate,g=a.endDate,b=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(l||u||d)||!b?!1:l&&g?My(b,g,r,s):u&&f||d&&f&&!g?My(f,b,r,s):!1},t.isWeekInMonth=function(r){var i=t.props.day,a=wu(r,6);return eo(r,i)||eo(a,i)},t.isCurrentMonth=function(r,i){return Fn(r)===Fn(Rr())&&i===to(Rr())},t.isCurrentQuarter=function(r,i){return Fn(r)===Fn(Rr())&&i===np(Rr())},t.isSelectedMonth=function(r,i,a){return to(a)===i&&Fn(r)===Fn(a)},t.isSelectMonthInList=function(r,i,a){return a.some(function(s){return t.isSelectedMonth(r,i,s)})},t.isSelectedQuarter=function(r,i,a){return np(r)===i&&Fn(r)===Fn(a)},t.renderWeeks=function(){for(var r=[],i=t.props.fixedHeight,a=0,s=!1,l=Zf(Od(t.props.day),t.props.locale,t.props.calendarStartDay),u=function(x){return t.props.showWeekPicker?Zf(x,t.props.locale,t.props.calendarStartDay):t.props.preSelection},d=function(x){return t.props.showWeekPicker?Zf(x,t.props.locale,t.props.calendarStartDay):t.props.selected},f=t.props.selected?d(t.props.selected):void 0,g=t.props.preSelection?u(t.props.preSelection):void 0;r.push(at.createElement(fQ,rr({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:a,day:l,month:to(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:f,preSelection:g,showWeekNumber:t.props.showWeekNumbers}))),!s;){a++,l=Mx(l,1);var b=i&&a>=hQ,m=!i&&!t.isWeekInMonth(l);if(b||m)if(t.props.peekNextMonth)s=!0;else break}return r},t.onMonthClick=function(r,i){var a=t.isMonthDisabledForLabelDate(i),s=a.isDisabled,l=a.labelDate;s||t.handleDayClick(Od(l),r)},t.onMonthMouseEnter=function(r){var i=t.isMonthDisabledForLabelDate(r),a=i.isDisabled,s=i.labelDate;a||t.handleDayMouseEnter(Od(s))},t.handleMonthNavigation=function(r,i){var a,s,l,u;(s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,i),(u=(l=t.MONTH_REFS[r])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus()},t.handleKeyboardNavigation=function(r,i,a){var s,l=t.props,u=l.selected,d=l.preSelection,f=l.setPreSelection,g=l.minDate,b=l.maxDate,m=l.showFourColumnMonthYearPicker,x=l.showTwoColumnMonthYearPicker;if(d){var y=q8(m,x),A=t.getVerticalOffset(y),w=(s=aw[y])===null||s===void 0?void 0:s.grid,C=function(k,L,B){var X,T,O=L,P=B;switch(k){case Dt.ArrowRight:O=Cu(L,Fy),P=B===11?0:B+Fy;break;case Dt.ArrowLeft:O=rp(L,Fy),P=B===0?11:B-Fy;break;case Dt.ArrowUp:O=rp(L,A),P=!((X=w==null?void 0:w[0])===null||X===void 0)&&X.includes(B)?B+12-A:B-A;break;case Dt.ArrowDown:O=Cu(L,A),P=!((T=w==null?void 0:w[w.length-1])===null||T===void 0)&&T.includes(B)?B-12+A:B+A;break}return{newCalculatedDate:O,newCalculatedMonth:P}},N=function(k,L,B){for(var X=40,T=k,O=!1,P=0,j=C(T,L,B),G=j.newCalculatedDate,W=j.newCalculatedMonth;!O;){if(P>=X){G=L,W=B;break}if(g&&G<g){T=Dt.ArrowRight;var K=C(T,G,W);G=K.newCalculatedDate,W=K.newCalculatedMonth}if(b&&G>b){T=Dt.ArrowLeft;var K=C(T,G,W);G=K.newCalculatedDate,W=K.newCalculatedMonth}if(JG(G,t.props)){var K=C(T,G,W);G=K.newCalculatedDate,W=K.newCalculatedMonth}else O=!0;P++}return{newCalculatedDate:G,newCalculatedMonth:W}};if(i===Dt.Enter){t.isMonthDisabled(a)||(t.onMonthClick(r,a),f==null||f(u));return}var R=N(i,d,a),F=R.newCalculatedDate,q=R.newCalculatedMonth;switch(i){case Dt.ArrowRight:case Dt.ArrowLeft:case Dt.ArrowUp:case Dt.ArrowDown:t.handleMonthNavigation(q,F);break}}},t.getVerticalOffset=function(r){var i,a;return(a=(i=aw[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&a!==void 0?a:0},t.onMonthKeyDown=function(r,i){var a=t.props,s=a.disabledKeyboardNavigation,l=a.handleOnMonthKeyDown,u=r.key;u!==Dt.Tab&&r.preventDefault(),s||t.handleKeyboardNavigation(r,u,i),l&&l(r)},t.onQuarterClick=function(r,i){var a=D0(t.props.day,i);Ly(a,t.props)||t.handleDayClick(E8(a),r)},t.onQuarterMouseEnter=function(r){var i=D0(t.props.day,r);Ly(i,t.props)||t.handleDayMouseEnter(E8(i))},t.handleQuarterNavigation=function(r,i){var a,s,l,u;t.isDisabled(i)||t.isExcluded(i)||((s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,i),(u=(l=t.QUARTER_REFS[r-1])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus())},t.onQuarterKeyDown=function(r,i){var a,s,l=r.key;if(!t.props.disabledKeyboardNavigation)switch(l){case Dt.Enter:t.onQuarterClick(r,i),(s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,t.props.selected);break;case Dt.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,uA(t.props.preSelection,1));break;case Dt.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,_O(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var i,a=t.props,s=a.day,l=a.minDate,u=a.maxDate,d=a.excludeDates,f=a.includeDates,g=$o(s,r);return{isDisabled:(i=(l||u||d||f)&&qO(g,t.props))!==null&&i!==void 0?i:!1,labelDate:g}},t.isMonthDisabled=function(r){var i=t.isMonthDisabledForLabelDate(r).isDisabled;return i},t.getMonthClassNames=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate,u=i.preSelection,d=i.monthClassName,f=d?d($o(a,r)):void 0,g=t.getSelection();return ms("react-datepicker__month-text","react-datepicker__month-".concat(r),f,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":g?t.isSelectMonthInList(a,r,g):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&u&&t.isSelectedMonth(a,r,u)&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":s&&l?Dy(s,l,r,a):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(a,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=to(t.props.preSelection),a=t.isMonthDisabledForLabelDate(i).isDisabled,s=r===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return s},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=np(t.props.preSelection),a=Ly(t.props.day,t.props),s=r===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return s},t.getAriaLabel=function(r){var i=t.props,a=i.chooseDayAriaLabelPrefix,s=a===void 0?"Choose":a,l=i.disabledDayAriaLabelPrefix,u=l===void 0?"Not available":l,d=i.day,f=i.locale,g=$o(d,r),b=t.isDisabled(g)||t.isExcluded(g)?u:s;return"".concat(b," ").concat(fi(g,"MMMM yyyy",f))},t.getQuarterClassNames=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate,u=i.selected,d=i.minDate,f=i.maxDate,g=i.excludeDates,b=i.includeDates,m=i.filterDate,x=i.preSelection,y=i.disabledKeyboardNavigation,A=(d||f||g||b||m)&&Ly(D0(a,r),t.props);return ms("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":A,"react-datepicker__quarter-text--selected":u?t.isSelectedQuarter(a,r,u):void 0,"react-datepicker__quarter-text--keyboard-selected":!y&&x&&t.isSelectedQuarter(a,r,x)&&!A,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":s&&l?My(s,l,r,a):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r)})},t.getMonthContent=function(r){var i=t.props,a=i.showFullMonthYearPicker,s=i.renderMonthContent,l=i.locale,u=i.day,d=zO(r,l),f=vA(r,l);return s?s(r,d,f,u):a?f:d},t.getQuarterContent=function(r){var i,a=t.props,s=a.renderQuarterContent,l=a.locale,u=ZG(r,l);return(i=s==null?void 0:s(r,u))!==null&&i!==void 0?i:u},t.renderMonths=function(){var r,i=t.props,a=i.showTwoColumnMonthYearPicker,s=i.showFourColumnMonthYearPicker,l=i.day,u=i.selected,d=(r=aw[q8(s,a)])===null||r===void 0?void 0:r.grid;return d==null?void 0:d.map(function(f,g){return at.createElement("div",{className:"react-datepicker__month-wrapper",key:g},f.map(function(b,m){return at.createElement("div",{ref:t.MONTH_REFS[b],key:m,onClick:function(x){t.onMonthClick(x,b)},onKeyDown:function(x){$O(x)&&(x.preventDefault(),x.key=Dt.Enter),t.onMonthKeyDown(x,b)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(b)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(b)}:void 0,tabIndex:Number(t.getTabIndex(b)),className:t.getMonthClassNames(b),"aria-disabled":t.isMonthDisabled(b),role:"option","aria-label":t.getAriaLabel(b),"aria-current":t.isCurrentMonth(l,b)?"date":void 0,"aria-selected":u?t.isSelectedMonth(l,b,u):void 0},t.getMonthContent(b))}))})},t.renderQuarters=function(){var r=t.props,i=r.day,a=r.selected,s=[1,2,3,4];return at.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(l,u){return at.createElement("div",{key:u,ref:t.QUARTER_REFS[u],role:"option",onClick:function(d){t.onQuarterClick(d,l)},onKeyDown:function(d){t.onQuarterKeyDown(d,l)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(l)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(l)}:void 0,className:t.getQuarterClassNames(l),"aria-selected":a?t.isSelectedQuarter(i,l,a):void 0,tabIndex:Number(t.getQuarterTabIndex(l)),"aria-current":t.isCurrentQuarter(i,l)?"date":void 0},t.getQuarterContent(l))}))},t.getClassNames=function(){var r=t.props,i=r.selectingDate,a=r.selectsStart,s=r.selectsEnd,l=r.showMonthYearPicker,u=r.showQuarterYearPicker,d=r.showWeekPicker;return ms("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(a||s)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":u},{"react-datepicker__weekPicker":d})},t}return n.prototype.getSelection=function(){var t=this.props,r=t.selected,i=t.selectedDates,a=t.selectsMultiple;if(a)return i;if(r)return[r]},n.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,i=t.showQuarterYearPicker,a=t.day,s=t.ariaLabelPrefix,l=s===void 0?"Month ":s,u=l?l.trim()+" ":"";return at.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(u).concat(fi(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},n}(Q.Component),mQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,i){return at.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?at.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return n.prototype.render=function(){return at.createElement(Lv,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},n}(Q.Component),gQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(i,a){return at.createElement("option",{key:i,value:a},i)})},t.renderSelectMode=function(r){return at.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,i){return at.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},at.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),at.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(r){return at.createElement(mQ,rr({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var i=t.state.dropdownVisible,a=[t.renderReadView(!i,r)];return i&&a.unshift(t.renderDropdown(r)),a},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return zO(a,t.props.locale)}:function(a){return vA(a,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return at.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},n}(Q.Component);function bQ(e,n){for(var t=[],r=Od(e),i=Od(n);!nh(r,i);)t.push(Rr(r)),r=Cu(r,1);return t}var yQ=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var a=OS(i),s=dc(r.props.date,i)&&eo(r.props.date,i);return at.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:r.onChange.bind(r,a),"aria-selected":s?"true":void 0},s?at.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",fi(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:bQ(r.props.minDate,r.props.maxDate)},r}return n.prototype.render=function(){var t=ms({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return at.createElement(Lv,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(Q.Component),xQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=Od(t.props.minDate),i=Od(t.props.maxDate),a=[];!nh(r,i);){var s=OS(r);a.push(at.createElement("option",{key:s,value:s},fi(r,t.props.dateFormat,t.props.locale))),r=Cu(r,1)}return a},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return at.createElement("select",{value:OS(Od(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var i=fi(t.props.date,t.props.dateFormat,t.props.locale);return at.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},at.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),at.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return at.createElement(yQ,rr({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown();var i=Rr(r);dc(t.props.date,i)&&eo(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return at.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(Q.Component),vQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,a;t.list&&(t.list.scrollTop=(a=t.centerLi&&n.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&a!==void 0?a:0)})},t.handleClick=function(r){var i,a;(t.props.minTime||t.props.maxTime)&&j8(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&T8(r,t.props)||(a=(i=t.props).onChange)===null||a===void 0||a.call(i,r)},t.isSelectedTime=function(r){return t.props.selected&&lQ(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&j8(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&T8(r,t.props)},t.liClasses=function(r){var i,a=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&a.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&a.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(_c(r)*3600+kc(r)*60+jd(r))%(((i=t.props.intervals)!==null&&i!==void 0?i:n.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},t.handleOnKeyDown=function(r,i){var a,s;r.key===Dt.Space&&(r.preventDefault(),r.key=Dt.Enter),(r.key===Dt.ArrowUp||r.key===Dt.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Dt.ArrowDown||r.key===Dt.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Dt.Enter&&t.handleClick(i),(s=(a=t.props).handleOnKeyDown)===null||s===void 0||s.call(a,r)},t.renderTimes=function(){for(var r,i=[],a=typeof t.props.format=="string"?t.props.format:"p",s=(r=t.props.intervals)!==null&&r!==void 0?r:n.defaultProps.intervals,l=t.props.selected||t.props.openToDate||Rr(),u=ox(l),d=t.props.injectTimes&&t.props.injectTimes.sort(function(A,w){return A.getTime()-w.getTime()}),f=60*oQ(l),g=f/s,b=0;b<g;b++){var m=NS(u,b*s);if(i.push(m),d){var x=sQ(u,m,b,s,d);i=i.concat(x)}}var y=i.reduce(function(A,w){return w.getTime()<=l.getTime()?w:A},i[0]);return i.map(function(A){return at.createElement("li",{key:A.valueOf(),onClick:t.handleClick.bind(t,A),className:t.liClasses(A),ref:function(w){A===y&&(t.centerLi=w)},onKeyDown:function(w){t.handleOnKeyDown(w,A)},tabIndex:A===y?0:-1,role:"option","aria-selected":t.isSelectedTime(A)?"true":void 0,"aria-disabled":t.isDisabledTime(A)?"true":void 0},fi(A,a,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?at.createElement(at.Fragment,null):at.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},at.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},n.prototype.render=function(){var t=this,r,i=this.state.height;return at.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:n.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),at.createElement("div",{className:"react-datepicker__time"},at.createElement("div",{className:"react-datepicker__time-box"},at.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){t.list=a},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},n.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},n}(Q.Component),B8=3,wQ=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;return r.YEAR_REFS=Sc([],Array(r.props.yearItemNumber),!0).map(function(){return Q.createRef()}),r.isDisabled=function(i){return kl(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return wA(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var a=function(){var s,l;(l=(s=r.YEAR_REFS[i])===null||s===void 0?void 0:s.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(a)},r.handleYearClick=function(i,a){r.props.onDayClick&&r.props.onDayClick(i,a)},r.handleYearNavigation=function(i,a){var s,l,u,d,f=r.props,g=f.date,b=f.yearItemNumber;if(!(g===void 0||b===void 0)){var m=Uf(g,b).startPeriod;r.isDisabled(a)||r.isExcluded(a)||((l=(s=r.props).setPreSelection)===null||l===void 0||l.call(s,a),i-m<0?r.updateFocusOnPaginate(b-(m-i)):i-m>=b?r.updateFocusOnPaginate(Math.abs(b-(i-m))):(d=(u=r.YEAR_REFS[i-m])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus())}},r.isSameDay=function(i,a){return Kn(i,a)},r.isCurrentYear=function(i){return i===Fn(Rr())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&dc(cc(Rr(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&dc(cc(Rr(),i),r.props.endDate)},r.isInRange=function(i){return Ry(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var a=r.props,s=a.selectsStart,l=a.selectsEnd,u=a.selectsRange,d=a.startDate,f=a.endDate;return!(s||l||u)||!r.selectingDate()?!1:s&&f?Ry(i,r.selectingDate(),f):l&&d||u&&d&&!f?Ry(i,d,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var a;if(!r.isInSelectingRange(i))return!1;var s=r.props,l=s.startDate,u=s.selectsStart,d=cc(Rr(),i);return u?dc(d,(a=r.selectingDate())!==null&&a!==void 0?a:null):dc(d,l??null)},r.isSelectingRangeEnd=function(i){var a;if(!r.isInSelectingRange(i))return!1;var s=r.props,l=s.endDate,u=s.selectsEnd,d=s.selectsRange,f=cc(Rr(),i);return u||d?dc(f,(a=r.selectingDate())!==null&&a!==void 0?a:null):dc(f,l??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var a=r.props,s=a.minDate,l=a.maxDate,u=a.excludeDates,d=a.includeDates,f=a.filterDate,g=X1(cc(r.props.date,i)),b=(s||l||u||d||f)&&lx(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Kn(g,X1(r.props.selected))&&Kn(g,X1(r.props.preSelection))&&!b}},r.onYearClick=function(i,a){var s=r.props.date;s!==void 0&&r.handleYearClick(X1(cc(s,a)),i)},r.onYearKeyDown=function(i,a){var s,l,u=i.key,d=r.props,f=d.date,g=d.yearItemNumber,b=d.handleOnKeyDown;if(u!==Dt.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(u){case Dt.Enter:if(r.props.selected==null)break;r.onYearClick(i,a),(l=(s=r.props).setPreSelection)===null||l===void 0||l.call(s,r.props.selected);break;case Dt.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(a+1,Nd(r.props.preSelection,1));break;case Dt.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(a-1,um(r.props.preSelection,1));break;case Dt.ArrowUp:{if(f===void 0||g===void 0||r.props.preSelection==null)break;var m=Uf(f,g).startPeriod,x=B8,y=a-x;if(y<m){var A=g%x;a>=m&&a<m+A?x=A:x+=A,y=a-x}r.handleYearNavigation(y,um(r.props.preSelection,x));break}case Dt.ArrowDown:{if(f===void 0||g===void 0||r.props.preSelection==null)break;var w=Uf(f,g).endPeriod,x=B8,y=a+x;if(y>w){var A=g%x;a<=w&&a>w-A?x=A:x+=A,y=a+x}r.handleYearNavigation(y,Nd(r.props.preSelection,x));break}}b&&b(i)},r.getYearClassNames=function(i){var a=r.props,s=a.date,l=a.minDate,u=a.maxDate,d=a.selected,f=a.excludeDates,g=a.includeDates,b=a.filterDate,m=a.yearClassName;return ms("react-datepicker__year-text","react-datepicker__year-".concat(i),s?m==null?void 0:m(cc(s,i)):void 0,{"react-datepicker__year-text--selected":d?i===Fn(d):void 0,"react-datepicker__year-text--disabled":(l||u||f||g||b)&&lx(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var a=Fn(r.props.preSelection),s=lx(i,r.props);return i===a&&!s?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return n.prototype.render=function(){var t=this,r=[],i=this.props,a=i.date,s=i.yearItemNumber,l=i.onYearMouseEnter,u=i.onYearMouseLeave;if(a===void 0)return null;for(var d=Uf(a,s),f=d.startPeriod,g=d.endPeriod,b=function(y){r.push(at.createElement("div",{ref:m.YEAR_REFS[y-f],onClick:function(A){t.onYearClick(A,y)},onKeyDown:function(A){$O(A)&&(A.preventDefault(),A.key=Dt.Enter),t.onYearKeyDown(A,y)},tabIndex:Number(m.getYearTabIndex(y)),className:m.getYearClassNames(y),onMouseEnter:m.props.usePointerEvent?void 0:function(A){return l(A,y)},onPointerEnter:m.props.usePointerEvent?function(A){return l(A,y)}:void 0,onMouseLeave:m.props.usePointerEvent?void 0:function(A){return u(A,y)},onPointerLeave:m.props.usePointerEvent?function(A){return u(A,y)}:void 0,key:y,"aria-current":m.isCurrentYear(y)?"date":void 0},m.getYearContent(y)))},m=this,x=f;x<=g;x++)b(x);return at.createElement("div",{className:"react-datepicker__year"},at.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},n}(Q.Component);function SQ(e,n,t,r){for(var i=[],a=0;a<2*n+1;a++){var s=e+n-a,l=!0;t&&(l=Fn(t)<=s),r&&l&&(l=Fn(r)>=s),l&&i.push(s)}return i}var AQ=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;r.renderOptions=function(){var l=r.props.year,u=r.state.yearsList.map(function(g){return at.createElement("div",{className:l===g?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:g,onClick:r.onChange.bind(r,g),"aria-selected":l===g?"true":void 0},l===g?at.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",g)}),d=r.props.minDate?Fn(r.props.minDate):null,f=r.props.maxDate?Fn(r.props.maxDate):null;return(!f||!r.state.yearsList.find(function(g){return g===f}))&&u.unshift(at.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},at.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!r.state.yearsList.find(function(g){return g===d}))&&u.push(at.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},at.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),u},r.onChange=function(l){r.props.onChange(l)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(l){var u=r.state.yearsList.map(function(d){return d+l});r.setState({yearsList:u})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,s=i||(a?10:5);return r.state={yearsList:SQ(r.props.year,s,r.props.minDate,r.props.maxDate)},r.dropdownRef=Q.createRef(),r}return n.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,i=r?r.find(function(a){return a.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},n.prototype.render=function(){var t=ms({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return at.createElement(Lv,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(Q.Component),CQ=function(e){ns(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?Fn(t.props.minDate):1900,i=t.props.maxDate?Fn(t.props.maxDate):2100,a=[],s=r;s<=i;s++)a.push(at.createElement("option",{key:s,value:s},s));return a},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return at.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return at.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},at.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),at.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return at.createElement(AQ,rr({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,i){var a;(a=t.onSelect)===null||a===void 0||a.call(t,r,i),t.setOpen()},t.onSelect=function(r,i){var a,s;(s=(a=t.props).onSelect)===null||s===void 0||s.call(a,r,i)},t.setOpen=function(){var r,i;(i=(r=t.props).setOpen)===null||i===void 0||i.call(r,!0)},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return at.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(Q.Component),EQ=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],_Q=function(e){var n=(e.className||"").split(/\s+/);return EQ.some(function(t){return n.indexOf(t)>=0})},kQ=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var a,s;_Q(i.target)&&((s=(a=r.props).onDropdownFocus)===null||s===void 0||s.call(a,i))},r.getDateInView=function(){var i=r.props,a=i.preSelection,s=i.selected,l=i.openToDate,u=BO(r.props),d=UO(r.props),f=Rr(),g=l||s||a;return g||(u&&mp(f,u)?u:d&&nh(f,d)?d:f)},r.increaseMonth=function(){r.setState(function(i){var a=i.date;return{date:Cu(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var a=i.date;return{date:rp(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,a,s){r.props.onSelect(i,a,s),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,a){r.setState({selectingDate:cc(Rr(),a)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,a)},r.handleYearMouseLeave=function(i,a){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,a)},r.handleYearChange=function(i){var a,s,l,u;(s=(a=r.props).onYearChange)===null||s===void 0||s.call(a,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(u=(l=r.props).setOpen)===null||u===void 0||u.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!kl(i,r.props))return i;for(var a=Od(i),s=GG(i),l=lW(s,a),u=null,d=0;d<=l;d++){var f=wu(a,d);if(!kl(f,r.props)){u=f;break}}return u},r.handleMonthChange=function(i){var a,s,l,u=(a=r.getEnabledPreSelectionDateForMonth(i))!==null&&a!==void 0?a:i;r.handleCustomMonthChange(u),r.props.adjustDateOnChange&&(r.props.onSelect(u),(l=(s=r.props).setOpen)===null||l===void 0||l.call(s,!0)),r.props.setPreSelection&&r.props.setPreSelection(u)},r.handleCustomMonthChange=function(i){var a,s;(s=(a=r.props).onMonthChange)===null||s===void 0||s.call(a,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(a){var s=a.date;return{date:cc(s,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(a){var s=a.date;return{date:$o(s,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(a){var s=a.date;return{date:cc($o(s,to(i)),Fn(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var a=Zf(i,r.props.locale,r.props.calendarStartDay),s=[];return r.props.showWeekNumbers&&s.push(at.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(l){var u=wu(a,l),d=r.formatWeekday(u,r.props.locale),f=r.props.weekDayClassName?r.props.weekDayClassName(u):void 0;return at.createElement("div",{key:l,"aria-label":fi(u,"EEEE",r.props.locale),className:ms("react-datepicker__day-name",f)},d)}))},r.formatWeekday=function(i,a){return r.props.formatWeekDay?QG(i,r.props.formatWeekDay,a):r.props.useWeekdaysShort?XG(i,a):KG(i,a)},r.decreaseYear=function(){r.setState(function(i){var a,s=i.date;return{date:um(s,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:n.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,a,s;if(!r.props.renderCustomHeader){var l=(i=r.props.monthsShown)!==null&&i!==void 0?i:n.defaultProps.monthsShown,u=r.props.showPreviousMonths?l-1:0,d=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:u,f=rp(r.state.date,d),g;switch(!0){case r.props.showMonthYearPicker:g=D8(r.state.date,r.props);break;case r.props.showYearPicker:g=nQ(r.state.date,r.props);break;case r.props.showQuarterYearPicker:g=eQ(r.state.date,r.props);break;default:g=O8(f,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:n.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&g||r.props.showTimeSelectOnly)){var b=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],x=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(x=r.decreaseYear),g&&r.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),x=void 0);var y=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,A=r.props,w=A.previousMonthButtonLabel,C=w===void 0?n.defaultProps.previousMonthButtonLabel:w,N=A.previousYearButtonLabel,R=N===void 0?n.defaultProps.previousYearButtonLabel:N,F=r.props,q=F.previousMonthAriaLabel,k=q===void 0?typeof C=="string"?C:"Previous Month":q,L=F.previousYearAriaLabel,B=L===void 0?typeof R=="string"?R:"Previous Year":L;return at.createElement("button",{type:"button",className:m.join(" "),onClick:x,onKeyDown:r.props.handleOnKeyDown,"aria-label":y?B:k},at.createElement("span",{className:b.join(" ")},y?R:C))}}},r.increaseYear=function(){r.setState(function(i){var a,s=i.date;return{date:Nd(s,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:n.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.showMonthYearPicker:a=L8(r.state.date,r.props);break;case r.props.showYearPicker:a=rQ(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=tQ(r.state.date,r.props);break;default:a=I8(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:n.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var u=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(u=r.increaseYear),a&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),u=void 0);var d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,f=r.props,g=f.nextMonthButtonLabel,b=g===void 0?n.defaultProps.nextMonthButtonLabel:g,m=f.nextYearButtonLabel,x=m===void 0?n.defaultProps.nextYearButtonLabel:m,y=r.props,A=y.nextMonthAriaLabel,w=A===void 0?typeof b=="string"?b:"Next Month":A,C=y.nextYearAriaLabel,N=C===void 0?typeof x=="string"?x:"Next Year":C;return at.createElement("button",{type:"button",className:s.join(" "),onClick:u,onKeyDown:r.props.handleOnKeyDown,"aria-label":d?N:w},at.createElement("span",{className:l.join(" ")},d?x:b))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var a=["react-datepicker__current-month"];return r.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),at.createElement("h2",{className:a.join(" ")},fi(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return at.createElement(CQ,rr({},n.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Fn(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return at.createElement(gQ,rr({},n.defaultProps,r.props,{month:to(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return at.createElement(xQ,rr({},n.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(_8(),i),r.props.setPreSelection&&r.props.setPreSelection(_8())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return at.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var a=i.monthDate,s=i.i;return at.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(a),at.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(s!==0),r.renderMonthYearDropdown(s!==0),r.renderYearDropdown(s!==0)),at.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderCustomHeader=function(i){var a,s,l=i.monthDate,u=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var d=O8(r.state.date,r.props),f=I8(r.state.date,r.props),g=D8(r.state.date,r.props),b=L8(r.state.date,r.props),m=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return at.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(s=(a=r.props).renderCustomHeader)===null||s===void 0?void 0:s.call(a,rr(rr({},r.state),{customHeaderCount:u,monthDate:l,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:d,nextMonthButtonDisabled:f,prevYearButtonDisabled:g,nextYearButtonDisabled:b})),m&&at.createElement("div",{className:"react-datepicker__day-names"},r.header(l)))},r.renderYearHeader=function(i){var a=i.monthDate,s=r.props,l=s.showYearPicker,u=s.yearItemNumber,d=u===void 0?n.defaultProps.yearItemNumber:u,f=Uf(a,d),g=f.startPeriod,b=f.endPeriod;return at.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(g," - ").concat(b):Fn(a))},r.renderHeader=function(i){var a=i.monthDate,s=i.i,l=s===void 0?0:s,u={monthDate:a,i:l};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(u);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(u);default:return r.renderDefaultHeader(u)}},r.renderMonths=function(){var i,a;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var s=[],l=(i=r.props.monthsShown)!==null&&i!==void 0?i:n.defaultProps.monthsShown,u=r.props.showPreviousMonths?l-1:0,d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Nd(r.state.date,u):rp(r.state.date,u),f=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:u,g=0;g<l;++g){var b=g-f+u,m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Nd(d,b):Cu(d,b),x="month-".concat(g),y=g<l-1,A=g>0;s.push(at.createElement("div",{key:x,ref:function(w){r.monthContainer=w??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:m,i:g}),at.createElement(pQ,rr({},n.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:m,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:g,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:A}))))}return s}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return at.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),at.createElement(wQ,rr({},n.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return at.createElement(vQ,rr({},n.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,a=i&&yd(i)&&!!r.props.selected,s=a?"".concat(M8(i.getHours()),":").concat(M8(i.getMinutes())):"";if(r.props.showTimeInput)return at.createElement(uQ,rr({},n.defaultProps,r.props,{date:i,timeString:s,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,a=Uf(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:n.defaultProps.yearItemNumber),s=a.startPeriod,l=a.endPeriod,u;return r.props.showYearPicker?u="".concat(s," - ").concat(l):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?u=Fn(r.state.date):u="".concat(vA(to(r.state.date),r.props.locale)," ").concat(Fn(r.state.date)),at.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&u)},r.renderChildren=function(){if(r.props.children)return at.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=Q.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(n,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:rb}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},n.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!Kn(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!eo(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Kn(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},n.prototype.render=function(){var t=this.props.container||qG;return at.createElement(Lv,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},at.createElement(t,{className:ms("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},n}(Q.Component),NQ=function(e){var n=e.icon,t=e.className,r=t===void 0?"":t,i=e.onClick,a="react-datepicker__calendar-icon";return typeof n=="string"?at.createElement("i",{className:"".concat(a," ").concat(n," ").concat(r),"aria-hidden":"true",onClick:i}):at.isValidElement(n)?at.cloneElement(n,{className:"".concat(n.props.className||""," ").concat(a," ").concat(r),onClick:function(s){typeof n.props.onClick=="function"&&n.props.onClick(s),typeof i=="function"&&i(s)}}):at.createElement("svg",{className:"".concat(a," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},at.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},HO=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return n.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},n.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},n.prototype.render=function(){return mR.createPortal(this.props.children,this.el)},n}(Q.Component),TQ="[tabindex], a, button, input, select, textarea",jQ=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},WO=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(TQ),1,-1).filter(jQ)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=Q.createRef(),r}return n.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:n.defaultProps.enableTabLoop)?at.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},at.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,at.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},n.defaultProps={enableTabLoop:!0},n}(Q.Component);function OQ(e){var n=function(t){var r,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,a=Q.useRef(null),s=zG(rr({open:!i,whileElementsMounted:bG,placement:t.popperPlacement,middleware:Sc([_G({padding:15}),EG(10),kG({element:a})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),l=rr(rr({},t),{hidePopper:i,popperProps:rr(rr({},s),{arrowRef:a})});return at.createElement(e,rr({},l))};return n}var IQ=function(e){ns(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(n,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t=this.props,r=t.className,i=t.wrapperClassName,a=t.hidePopper,s=a===void 0?n.defaultProps.hidePopper:a,l=t.popperComponent,u=t.targetComponent,d=t.enableTabLoop,f=t.popperOnKeyDown,g=t.portalId,b=t.portalHost,m=t.popperProps,x=t.showArrow,y=void 0;if(!s){var A=ms("react-datepicker-popper",r);y=at.createElement(WO,{enableTabLoop:d},at.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:A,"data-placement":m.placement,onKeyDown:f},l,x&&at.createElement(IG,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(y=Q.createElement(this.props.popperContainer,{},y)),g&&!s&&(y=at.createElement(HO,{portalId:g,portalHost:b},y));var w=ms("react-datepicker-wrapper",i);return at.createElement(at.Fragment,null,at.createElement("div",{ref:m.refs.setReference,className:w},u),y)},n}(Q.Component),DQ=OQ(IQ),U8="react-datepicker-ignore-onclickoutside";function LQ(e,n){return e&&n?to(e)!==to(n)||Fn(e)!==Fn(n):e!==n}var sw="Date input not valid.",RQ=function(e){ns(n,e);function n(t){var r=e.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Rr()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(a,s){var l=new Date(s.date);return yd(l)?Sc(Sc([],a,!0),[rr(rr({},s),{date:l})],!1):a},[])},r.calcInitialState=function(){var i,a=r.getPreSelection(),s=BO(r.props),l=UO(r.props),u=s&&mp(a,ox(s))?s:l&&nh(a,k8(l))?l:a;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:u,highlightDates:R8(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(rr(rr({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(rr(rr({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.safeFocus=function(){setTimeout(function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.focus)===null||a===void 0||a.call(i,{preventScroll:!0})},0)},r.safeBlur=function(){setTimeout(function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.blur)===null||a===void 0||a.call(i)},0)},r.setFocus=function(){r.safeFocus()},r.setBlur=function(){r.safeBlur(),r.cancelFocusInput()},r.setOpen=function(i,a){a===void 0&&(a=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:ow},function(){i||r.setState(function(s){return{focused:a?s.focused:!1}},function(){!a&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Td(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var a,s,l=r.state.wasHidden,u=l?r.state.open:!0;l&&r.resetHiddenStatus(),!r.state.preventFocus&&u&&((s=(a=r.props).onFocus)===null||s===void 0||s.call(a,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var a,s;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((s=(a=r.props).onBlur)===null||s===void 0||s.call(a,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var a,s;r.props.inline||r.setOpen(!1),(s=(a=r.props).onClickOutside)===null||s===void 0||s.call(a,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,a,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var u=s[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,s),!u||typeof u.isDefaultPrevented!="function"||u.isDefaultPrevented()))){r.setState({inputValue:(u==null?void 0:u.target)instanceof HTMLInputElement?u.target.value:null,lastPreSelectChange:MQ});var d=r.props,f=d.dateFormat,g=f===void 0?n.defaultProps.dateFormat:f,b=d.strictParsing,m=b===void 0?n.defaultProps.strictParsing:b,x=d.selectsRange,y=d.startDate,A=d.endDate,w=(u==null?void 0:u.target)instanceof HTMLInputElement?u.target.value:"";if(x){var C=w.split("-",2).map(function(X){return X.trim()}),N=C[0],R=C[1],F=rw(N??"",g,r.props.locale,m),q=rw(R??"",g,r.props.locale,m),k=(y==null?void 0:y.getTime())!==(F==null?void 0:F.getTime()),L=(A==null?void 0:A.getTime())!==(q==null?void 0:q.getTime());if(!k&&!L||F&&kl(F,r.props)||q&&kl(q,r.props))return;(a=(i=r.props).onChange)===null||a===void 0||a.call(i,[F,q],u)}else{var B=rw(w,g,r.props.locale,m,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&B&&!Kn(B,r.props.selected)&&(B=vV(r.props.selected,{hours:_c(B),minutes:kc(B),seconds:jd(B)})),(B||!w)&&r.setSelected(B,u,!0)}}},r.handleSelect=function(i,a,s){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(a),r.setSelected(i,a,!1,s),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var l=r.props,u=l.startDate,d=l.endDate;u&&!d&&(r.props.swapRange||!z8(i,u))&&r.setOpen(!1)}},r.setSelected=function(i,a,s,l){var u,d,f=i;if(r.props.showYearPicker){if(f!==null&&lx(Fn(f),r.props))return}else if(r.props.showMonthYearPicker){if(f!==null&&qO(f,r.props))return}else if(f!==null&&kl(f,r.props))return;var g=r.props,b=g.onChange,m=g.selectsRange,x=g.startDate,y=g.endDate,A=g.selectsMultiple,w=g.selectedDates,C=g.minTime,N=g.swapRange;if(!Xh(r.props.selected,f)||r.props.allowSameDay||m||A)if(f!==null&&(r.props.selected&&(!s||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(f=iw(f,{hour:_c(r.props.selected),minute:kc(r.props.selected),second:jd(r.props.selected)})),!s&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&C&&(f=iw(f,{hour:C.getHours(),minute:C.getMinutes(),second:C.getSeconds()})),r.props.inline||r.setState({preSelection:f}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:l})),m){var R=!x&&!y,F=x&&!y,q=x&&y;R?b==null||b([f,null],a):F&&(f===null?b==null||b([null,null],a):z8(f,x)?N?b==null||b([f,x],a):b==null||b([f,null],a):b==null||b([x,f],a)),q&&(b==null||b([f,null],a))}else if(A){if(f!==null)if(!(w!=null&&w.length))b==null||b([f],a);else{var k=w.some(function(B){return Kn(B,f)});if(k){var L=w.filter(function(B){return!Kn(B,f)});b==null||b(L,a)}else b==null||b(Sc(Sc([],w,!0),[f],!1),a)}}else b==null||b(f,a);s||((d=(u=r.props).onSelect)===null||d===void 0||d.call(u,f,a),r.setState({inputValue:null}))},r.setPreSelection=function(i){var a=Td(r.props.minDate),s=Td(r.props.maxDate),l=!0;if(i){var u=ox(i);if(a&&s)l=Z1(i,r.props.minDate,r.props.maxDate);else if(a){var d=ox(r.props.minDate);l=nh(i,d)||Xh(u,d)}else if(s){var f=k8(r.props.maxDate);l=mp(i,f)||Xh(u,f)}}l&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var a,s;if(!(r.props.selectsRange||r.props.selectsMultiple)){var l=r.props.selected?r.props.selected:r.getPreSelection(),u=r.props.selected?i:iw(l,{hour:_c(i),minute:kc(i)});r.setState({preSelection:u}),(s=(a=r.props).onChange)===null||s===void 0||s.call(a,u),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,a;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(a=(i=r.props).onInputClick)===null||a===void 0||a.call(i)},r.onInputKeyDown=function(i){var a,s,l,u,d,f;(s=(a=r.props).onKeyDown)===null||s===void 0||s.call(a,i);var g=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(g===Dt.ArrowDown||g===Dt.ArrowUp||g===Dt.Enter)&&((l=r.onInputClick)===null||l===void 0||l.call(r));return}if(r.state.open){if(g===Dt.ArrowDown||g===Dt.ArrowUp){i.preventDefault();var b=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=((u=r.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(b);m instanceof HTMLElement&&m.focus({preventScroll:!0});return}var x=Rr(r.state.preSelection);g===Dt.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===ow?(r.handleSelect(x,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(x)):r.setOpen(!1)):g===Dt.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):g===Dt.Tab&&r.setOpen(!1),r.inputOk()||(f=(d=r.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:sw})}},r.onPortalKeyDown=function(i){var a=i.key;a===Dt.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var a,s,l,u,d,f,g=r.props,b=g.minDate,m=g.maxDate,x=g.disabledKeyboardNavigation,y=g.showWeekPicker,A=g.shouldCloseOnSelect,w=g.locale,C=g.calendarStartDay,N=g.adjustDateOnChange,R=g.inline;if((s=(a=r.props).onKeyDown)===null||s===void 0||s.call(a,i),!x){var F=i.key,q=i.shiftKey,k=Rr(r.state.preSelection),L=function(G,W){var K=W;switch(G){case Dt.ArrowRight:K=y?Mx(W,1):wu(W,1);break;case Dt.ArrowLeft:K=y?p8(W):rV(W);break;case Dt.ArrowUp:K=p8(W);break;case Dt.ArrowDown:K=Mx(W,1);break;case Dt.PageUp:K=q?um(W,1):rp(W,1);break;case Dt.PageDown:K=q?Nd(W,1):Cu(W,1);break;case Dt.Home:K=Zf(W,w,C);break;case Dt.End:K=VG(W);break}return K},B=function(G,W){for(var K=40,ie=G,ce=!1,$=0,ae=L(G,W);!ce;){if($>=K){ae=W;break}b&&ae<b&&(ie=Dt.ArrowRight,ae=kl(b,r.props)?L(ie,ae):b),m&&ae>m&&(ie=Dt.ArrowLeft,ae=kl(m,r.props)?L(ie,ae):m),kl(ae,r.props)?((ie===Dt.PageUp||ie===Dt.Home)&&(ie=Dt.ArrowRight),(ie===Dt.PageDown||ie===Dt.End)&&(ie=Dt.ArrowLeft),ae=L(ie,ae)):ce=!0,$++}return ae};if(F===Dt.Enter){i.preventDefault(),r.handleSelect(k,i),!A&&r.setPreSelection(k);return}else if(F===Dt.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(u=(l=r.props).onInputError)===null||u===void 0||u.call(l,{code:1,msg:sw});return}var X=null;switch(F){case Dt.ArrowLeft:case Dt.ArrowRight:case Dt.ArrowUp:case Dt.ArrowDown:case Dt.PageUp:case Dt.PageDown:case Dt.Home:case Dt.End:X=B(F,k);break}if(!X){(f=(d=r.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:sw});return}if(i.preventDefault(),r.setState({lastPreSelectChange:ow}),N&&r.setSelected(X),r.setPreSelection(X),R){var T=to(k),O=to(X),P=Fn(k),j=Fn(X);T!==O||P!==j?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var a=i.key;a===Dt.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var a=r.props,s=a.selectsRange,l=a.onChange;s?l==null||l([null,null],i):l==null||l(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,a;return!r.props.inline&&!r.isCalendarOpen()?null:at.createElement(kQ,rr({showMonthYearDropdown:void 0,ref:function(s){r.calendar=s}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:n.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:aQ(r.modifyHolidays()),outsideClickIgnoreClass:U8,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(a=r.props.dropdownMode)!==null&&a!==void 0?a:n.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,a=i.dateFormat,s=a===void 0?n.defaultProps.dateFormat:a,l=i.locale,u=r.props.showTimeInput||r.props.showTimeSelect,d=u?"PPPPp":"PPPP",f;return r.props.selectsRange?f="Selected start date: ".concat(Cl(r.props.startDate,{dateFormat:d,locale:l}),". ").concat(r.props.endDate?"End date: "+Cl(r.props.endDate,{dateFormat:d,locale:l}):""):r.props.showTimeSelectOnly?f="Selected time: ".concat(Cl(r.props.selected,{dateFormat:s,locale:l})):r.props.showYearPicker?f="Selected year: ".concat(Cl(r.props.selected,{dateFormat:"yyyy",locale:l})):r.props.showMonthYearPicker?f="Selected month: ".concat(Cl(r.props.selected,{dateFormat:"MMMM yyyy",locale:l})):r.props.showQuarterYearPicker?f="Selected quarter: ".concat(Cl(r.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):f="Selected date: ".concat(Cl(r.props.selected,{dateFormat:d,locale:l})),at.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},f)},r.renderDateInput=function(){var i,a,s,l=ms(r.props.className,(i={},i[U8]=r.state.open,i)),u=r.props.customInput||at.createElement("input",{type:"text"}),d=r.props.customInputRef||"ref",f=r.props,g=f.dateFormat,b=g===void 0?n.defaultProps.dateFormat:g,m=f.locale,x=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?$G(r.props.startDate,r.props.endDate,{dateFormat:b,locale:m}):r.props.selectsMultiple?HG((s=r.props.selectedDates)!==null&&s!==void 0?s:[],{dateFormat:b,locale:m}):Cl(r.props.selected,{dateFormat:b,locale:m});return Q.cloneElement(u,(a={},a[d]=function(y){r.input=y},a.value=x,a.onBlur=r.handleBlur,a.onChange=r.handleChange,a.onClick=r.onInputClick,a.onFocus=r.handleFocus,a.onKeyDown=r.onInputKeyDown,a.id=r.props.id,a.name=r.props.name,a.form=r.props.form,a.autoFocus=r.props.autoFocus,a.placeholder=r.props.placeholderText,a.disabled=r.props.disabled,a.autoComplete=r.props.autoComplete,a.className=ms(u.props.className,l),a.title=r.props.title,a.readOnly=r.props.readOnly,a.required=r.props.required,a.tabIndex=r.props.tabIndex,a["aria-describedby"]=r.props.ariaDescribedBy,a["aria-invalid"]=r.props.ariaInvalid,a["aria-labelledby"]=r.props.ariaLabelledBy,a["aria-required"]=r.props.ariaRequired,a))},r.renderClearButton=function(){var i=r.props,a=i.isClearable,s=i.disabled,l=i.selected,u=i.startDate,d=i.endDate,f=i.clearButtonTitle,g=i.clearButtonClassName,b=g===void 0?"":g,m=i.ariaLabelClose,x=m===void 0?"Close":m,y=i.selectedDates;return a&&(l!=null||u!=null||d!=null||y!=null&&y.length)?at.createElement("button",{type:"button",className:ms("react-datepicker__close-icon",b,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":x,onClick:r.onClearClick,title:f,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(n,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:rb,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.componentDidUpdate=function(t,r){var i,a,s,l;t.inline&&LQ(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:R8(this.props.highlightDates)}),!r.focused&&!Xh(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((a=(i=this.props).onCalendarOpen)===null||a===void 0||a.call(i)),r.open===!0&&this.state.open===!1&&((l=(s=this.props).onCalendarClose)===null||l===void 0||l.call(s)))},n.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,i=t.icon,a=t.calendarIconClassname,s=t.calendarIconClassName,l=t.toggleCalendarOnIconClick,u=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),at.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&at.createElement(NQ,rr({icon:i,className:ms(s,!s&&a,u&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},n.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?at.createElement(WO,{enableTabLoop:this.props.enableTabLoop},at.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=at.createElement(HO,rr({portalId:this.props.portalId},this.props),r)),at.createElement("div",null,this.renderInputContainer(),r)}return at.createElement(DQ,rr({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},n}(Q.Component),MQ="input",ow="navigate";const FQ=e=>h.jsx(Wt,{...e,sx:{width:"100%","& .MuiOutlinedInput-root":{borderRadius:jt.xl,backgroundColor:ht.palette.background.paper,"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:ht.palette.primary.main},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:ht.palette.primary.main,borderWidth:2}},"& .MuiInputBase-input":{color:ht.palette.text.primary,fontSize:"1rem",padding:"12px 14px"},"& .MuiInputLabel-root":{color:ht.palette.text.secondary,"&.Mui-focused":{color:ht.palette.primary.main}}}}),YO=at.forwardRef((e,n)=>h.jsx(FQ,{...e,inputRef:n,fullWidth:!0}));YO.displayName="CustomInput";const PQ=({value:e,onChange:n})=>{const t=r=>r?r.toLocaleString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return h.jsxs(yn,{elevation:2,sx:{p:3,mb:3,backgroundColor:ht.palette.background.paper,borderRadius:jt.xl,border:`1px solid ${ht.palette.divider}`},children:[h.jsxs(he,{sx:{display:"flex",alignItems:"center",mb:2},children:[h.jsx(J0,{sx:{mr:1,color:ht.palette.primary.main}}),h.jsx(ge,{variant:"h6",sx:{fontWeight:600,color:ht.palette.text.primary},children:"Schedule Publish"})]}),h.jsx(ge,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Choose when you want this material to be automatically published."}),h.jsx(RQ,{selected:e,onChange:r=>n(r),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"MMM d, yyyy h:mm aa",minDate:new Date,customInput:h.jsx(YO,{label:"Select Date & Time"}),placeholderText:"Click to select date and time"}),e&&h.jsx(he,{sx:{mt:2},children:h.jsx(cr,{icon:h.jsx(J0,{}),label:`Scheduled for ${t(e)}`,color:"primary",variant:"outlined",sx:{backgroundColor:ht.palette.primary.light,color:ht.palette.primary.main,borderColor:ht.palette.primary.main}})})]})},zQ=Q.lazy(()=>Li(()=>import("./MaterialImportWrapper-DJ5DZx8J.js"),__vite__mapDeps([3,4,1,5]))),VO=({materialData:e})=>{var nt;const n=ma(),{userDetails:t}=Ai(),r=Zn(),{uploadedFile:i,uploadOriginalFile:a,originalFileUrl:s,originalFileUploadProgress:l}=kd(),[u]=Yg(),d=u.get("course"),f=u.get("mode")||"manual",[g,b]=Q.useState((e==null?void 0:e.course)||d||""),[m,x]=Q.useState((e==null?void 0:e.id)||null),[y,A]=Q.useState((e==null?void 0:e.title)||""),[w,C]=Q.useState((e==null?void 0:e.header)||{title:"Header",content:""}),[N,R]=Q.useState((e==null?void 0:e.footer)||{title:"Footer",content:""}),[F,q]=Q.useState((e==null?void 0:e.sections)||[{id:Ri(),title:"Section 1",content:"",subsections:[],images:[],links:[]}]),[k,L]=Q.useState({sectionIndex:0}),[B,X]=Q.useState(!1),[T,O]=Q.useState(""),[P,j]=Q.useState("success"),[G,W]=Q.useState(!1),[K,ie]=Q.useState(((nt=e==null?void 0:e.scheduledTimestamp)==null?void 0:nt.toDate())||null),[ce,$]=Q.useState(!1),[ae,U]=Q.useState(f),[z,Z]=Q.useState(!1),[ee,oe]=Q.useState(null),[we,xe]=Q.useState(!1),[Ee,De]=Q.useState(null),[Me,We]=Q.useState(!1);uO(F,k.sectionIndex||0,F.length>1),Q.useEffect(()=>{const Pe=ve=>{ve.key==="ArrowLeft"||ve.key};return window.addEventListener("keydown",Pe),()=>window.removeEventListener("keydown",Pe)},[k,F]);const Ye=async(Pe,ve=!1,ke)=>{Pe.preventDefault();try{const je=F.some(ft=>{var Je,Ft;return((Je=ft.images)==null?void 0:Je.some(kt=>kt.url.startsWith("blob:")))||((Ft=ft.subsections)==null?void 0:Ft.some(kt=>{var Vt;return(Vt=kt.images)==null?void 0:Vt.some(Rt=>Rt.url.startsWith("blob:"))}))});if(z&&je){console.log(" Starting AI material creation with image upload...");const ft=await Ma(vn(r,"materials"),{course:g,title:y,header:w,footer:N,sections:[],author:(t==null?void 0:t.uid)||"",timestamp:Yf(),published:!1,scheduledTimestamp:ke?ja.fromDate(ke):null});console.log(" Material created with ID:",ft.id),x(ft.id),console.log(" Starting image upload process...");const Je=await aS(g,(t==null?void 0:t.uid)||"",ft.id,(Vt,Rt)=>{console.log(` Image upload progress: ${Vt}/${Rt}`),oe({completed:Vt,total:Rt})});console.log(" Image upload complete, updating material..."),await Wr(ft,{sections:Je,published:ve,scheduledTimestamp:ke?ja.fromDate(ke):null}),oe(null),Z(!1);const{resetImport:Ft}=kd.getState();Ft(),O(ve?"Material published successfully!":ke?"Material scheduled successfully!":"Material saved successfully!"),j("success"),X(!0),(ve||ke)&&n(`/supplemental-materials?course=${g}`)}else{const ft={course:g,title:y,header:w,footer:N,sections:F,author:(t==null?void 0:t.uid)||"",timestamp:Yf(),published:ve,scheduledTimestamp:ke?ja.fromDate(ke):null,...s&&{originalFile:{url:s}}};if(m)await Wr(bn(r,"materials",m),ft),O(ve?"Material updated and published!":ke?"Material updated and scheduled!":"Material updated successfully!");else{const Je=await Ma(vn(r,"materials"),ft);x(Je.id),O(ve?"Material created and published!":ke?"Material created and scheduled!":"Material created successfully!")}j("success"),X(!0),(ve||ke)&&n(`/supplemental-materials?course=${g}`)}}catch(je){console.error("Error saving material:",je),O("Error saving material. Please try again."),j("error"),X(!0)}},Y=(Pe,ve,ke)=>{L({sectionIndex:typeof Pe=="number"?Pe:void 0,subsectionIndex:ve,subSubsectionIndex:ke,type:typeof Pe=="string"?Pe:void 0})},Se=()=>{var Pe,ve,ke;if(k.type==="header")return w.content;if(k.type==="footer")return N.content;if(k.sectionIndex!==void 0){const je=F[k.sectionIndex];return k.subSubsectionIndex!==void 0?((ve=(Pe=je==null?void 0:je.subsections[k.subsectionIndex])==null?void 0:Pe.subSubsections[k.subSubsectionIndex])==null?void 0:ve.content)||"":k.subsectionIndex!==void 0?((ke=je==null?void 0:je.subsections[k.subsectionIndex])==null?void 0:ke.content)||"":(je==null?void 0:je.content)||""}return""},te=()=>{var Pe,ve,ke;if(k.type==="header")return w.title;if(k.type==="footer")return N.title;if(k.sectionIndex!==void 0){const je=F[k.sectionIndex];return k.subSubsectionIndex!==void 0?((ve=(Pe=je==null?void 0:je.subsections[k.subsectionIndex])==null?void 0:Pe.subSubsections[k.subSubsectionIndex])==null?void 0:ve.title)||"":k.subsectionIndex!==void 0?((ke=je==null?void 0:je.subsections[k.subsectionIndex])==null?void 0:ke.title)||"":(je==null?void 0:je.title)||""}return""},be=Pe=>{k.type==="header"?C(ve=>({...ve,content:Pe})):k.type==="footer"?R(ve=>({...ve,content:Pe})):k.sectionIndex!==void 0&&q(ve=>{const ke=[...ve],je=ke[k.sectionIndex];return k.subSubsectionIndex!==void 0?je.subsections[k.subsectionIndex].subSubsections[k.subSubsectionIndex].content=Pe:k.subsectionIndex!==void 0?je.subsections[k.subsectionIndex].content=Pe:je.content=Pe,ke})},de=Pe=>{ce&&K?Ye(Pe,!1,K):$(!0)},Ae=Pe=>{k.type==="header"?C(ve=>({...ve,title:Pe})):k.type==="footer"?R(ve=>({...ve,title:Pe})):k.sectionIndex!==void 0&&q(ve=>{const ke=[...ve],je=ke[k.sectionIndex];return k.subSubsectionIndex!==void 0?je.subsections[k.subsectionIndex].subSubsections[k.subSubsectionIndex].title=Pe:k.subsectionIndex!==void 0?je.subsections[k.subsectionIndex].title=Pe:je.title=Pe,ke})},Le=()=>{var Pe,ve,ke;if(k.type==="header"||k.type==="footer")return[];if(k.sectionIndex!==void 0){const je=F[k.sectionIndex];return k.subSubsectionIndex!==void 0?((ve=(Pe=je==null?void 0:je.subsections[k.subsectionIndex])==null?void 0:Pe.subSubsections[k.subSubsectionIndex])==null?void 0:ve.images)||[]:k.subsectionIndex!==void 0?((ke=je==null?void 0:je.subsections[k.subsectionIndex])==null?void 0:ke.images)||[]:(je==null?void 0:je.images)||[]}return[]},qe=()=>{var Pe,ve,ke;if(k.type==="header"||k.type==="footer")return[];if(k.sectionIndex!==void 0){const je=F[k.sectionIndex];return k.subSubsectionIndex!==void 0?((ve=(Pe=je==null?void 0:je.subsections[k.subsectionIndex])==null?void 0:Pe.subSubsections[k.subSubsectionIndex])==null?void 0:ve.links)||[]:k.subsectionIndex!==void 0?((ke=je==null?void 0:je.subsections[k.subsectionIndex])==null?void 0:ke.links)||[]:(je==null?void 0:je.links)||[]}return[]},Ne=Pe=>{k.type==="header"||k.type==="footer"||k.sectionIndex!==void 0&&q(ve=>{const ke=[...ve],je=ke[k.sectionIndex];return k.subSubsectionIndex!==void 0?je.subsections[k.subsectionIndex].subSubsections[k.subSubsectionIndex].images=Pe:k.subsectionIndex!==void 0?je.subsections[k.subsectionIndex].images=Pe:je.images=Pe,ke})},Xe=Pe=>{k.type==="header"||k.type==="footer"||k.sectionIndex!==void 0&&q(ve=>{const ke=[...ve],je=ke[k.sectionIndex];return k.subSubsectionIndex!==void 0?je.subsections[k.subsectionIndex].subSubsections[k.subSubsectionIndex].links=Pe:k.subsectionIndex!==void 0?je.subsections[k.subsectionIndex].links=Pe:je.links=Pe,ke})},ut=()=>k.type==="header"?"header":k.type==="footer"?"footer":k.sectionIndex!==void 0?k.subSubsectionIndex!==void 0?`section-${k.sectionIndex}-subsection-${k.subsectionIndex}-subsubsection-${k.subSubsectionIndex}`:k.subsectionIndex!==void 0?`section-${k.sectionIndex}-subsection-${k.subsectionIndex}`:`section-${k.sectionIndex}`:"unknown";return h.jsxs(he,{sx:{display:"flex",flexGrow:1,flexDirection:"column",minHeight:"100vh"},children:[h.jsxs(yn,{elevation:1,sx:{p:3,mb:2,backgroundColor:ht.palette.background.paper,borderRadius:0},children:[h.jsxs(he,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",alignItems:{xs:"stretch",md:"center"},mb:3,gap:2},children:[h.jsx(sP,{courseId:(e==null?void 0:e.course)||g}),h.jsxs(he,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,alignItems:"center",width:{xs:"100%",md:"auto"}},children:[h.jsxs(I6,{value:ae,exclusive:!0,onChange:(Pe,ve)=>ve&&U(ve),size:"small",sx:{backgroundColor:ht.palette.background.paper,borderRadius:jt.xl,width:{xs:"100%",sm:"auto"},"& .MuiToggleButton-root":{borderRadius:jt.xl,textTransform:"none",fontWeight:600,flex:{xs:1,sm:"none"},"&.Mui-selected":{backgroundColor:ht.palette.primary.main,color:ht.palette.primary.contrastText}}},children:[h.jsxs(em,{value:"manual",children:[h.jsx(xu,{sx:{mr:1}}),"Manual"]}),h.jsxs(em,{value:"ai",children:[h.jsx(gR,{sx:{mr:1}}),"AI Import"]})]}),h.jsx(he,{sx:{width:{xs:"100%",sm:"200px",md:"250px"}},children:h.jsx(eW,{value:g,onChange:b,disabled:!!m})})]})]}),h.jsx(Wt,{fullWidth:!0,label:"Material Title",value:y,onChange:Pe=>A(Pe.target.value),variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:jt.xl}}})]}),h.jsxs(he,{sx:{display:"flex",flexGrow:1,minHeight:0},children:[h.jsx(mv,{children:h.jsx(n7,{sections:F,selected:k,onAddSection:()=>{const Pe={id:Ri(),title:`Section ${F.length+1}`,content:"",subsections:[],images:[],links:[]};q(ve=>[...ve,Pe]),L({sectionIndex:F.length})},onAddSubsection:Pe=>{q(ve=>{const ke=[...ve],je=ke[Pe].subsections,ft={id:Ri(),title:`Subsection ${je.length+1}`,content:"",subSubsections:[],images:[],links:[]};return ke[Pe].subsections=[...je,ft],ke})},onAddSubSubsection:(Pe,ve)=>{q(ke=>{const je=[...ke],ft=je[Pe].subsections[ve].subSubsections,Je={id:Ri(),title:`Sub-subsection ${ft.length+1}`,content:"",images:[],links:[]};return je[Pe].subsections[ve].subSubsections=[...ft,Je],je})},onSelectSection:Y,onUpdateSectionTitle:(Pe,ve)=>{q(ke=>{const je=[...ke];return je[Pe].title=ve,je})},onUpdateSubsectionTitle:(Pe,ve,ke)=>{q(je=>{const ft=[...je];return ft[Pe].subsections[ve].title=ke,ft})},onUpdateSubSubsectionTitle:(Pe,ve,ke,je)=>{q(ft=>{const Je=[...ft];return Je[Pe].subsections[ve].subSubsections[ke].title=je,Je})},onDeleteSection:Pe=>{q(ve=>ve.filter((ke,je)=>je!==Pe)),L({sectionIndex:0})},onDeleteSubsection:(Pe,ve)=>{q(ke=>{const je=[...ke];return je[Pe].subsections=je[Pe].subsections.filter((ft,Je)=>Je!==ve),je})},onDeleteSubSubsection:(Pe,ve,ke)=>{q(je=>{const ft=[...je];return ft[Pe].subsections[ve].subSubsections=ft[Pe].subsections[ve].subSubsections.filter((Je,Ft)=>Ft!==ke),ft})},isViewMode:!1})}),h.jsx(he,{sx:{flexGrow:1,p:4,overflow:"auto"},children:ae==="ai"?h.jsx(Q.Suspense,{fallback:h.jsx(hi,{}),children:h.jsx(zQ,{courseId:g,authorId:(t==null?void 0:t.uid)||"",imageUploadProgress:ee,isSaving:we,onMaterialReady:async Pe=>{console.log(" AI Material ready callback triggered:",Pe);try{xe(!0),oe({completed:0,total:1});const ve=Ri(),ke=await aS(g,(t==null?void 0:t.uid)||"",ve,(Je,Ft)=>{console.log(` Image upload progress: ${Je}/${Ft}`),oe({completed:Je,total:Ft})});console.log(" Material with images converted:",ke);const je={...ke,sections:Array.isArray(ke.sections)?ke.sections:[]},ft=await Ma(vn(r,"materials"),{...je,timestamp:Yf(),scheduledTimestamp:null});console.log(" Material saved to Firestore with ID:",ft.id),await Wr(ft,{id:ft.id}),console.log(" Material updated with correct ID:",ft.id),O("AI-imported material saved successfully!"),j("success"),X(!0),Z(!1),kd.getState().resetImport(),U("manual"),xe(!1),oe(null),n(`/edit-material/${ft.id}`)}catch(ve){console.error(" Failed to save AI material:",ve),O("Failed to save AI-imported material. Please try again."),j("error"),X(!0),xe(!1),oe(null)}},onCancel:()=>U("manual"),onError:(Pe,ve)=>{console.error("Material Import Error:",Pe,ve),O(`Import error: ${Pe.message}`),j("error"),X(!0)}})}):h.jsxs(he,{children:[h.jsx(Wt,{fullWidth:!0,label:"Section Title",value:te(),onChange:Pe=>Ae(Pe.target.value),variant:"outlined",sx:{mb:3}}),h.jsx(yn,{elevation:0,sx:{p:3,mb:3,backgroundColor:ht.palette.background.paper,borderRadius:jt.xl,border:`1px solid ${ht.palette.divider}`},children:h.jsx(ZH,{content:Se(),onChange:be})}),k.sectionIndex!==void 0&&h.jsxs(he,{sx:{mb:3},children:[h.jsx(yn,{elevation:0,sx:{p:3,mb:2,backgroundColor:ht.palette.background.paper,borderRadius:jt.xl,border:`1px solid ${ht.palette.divider}`},children:h.jsx(oP,{sectionId:ut(),images:Le(),onImagesChange:Ne})}),h.jsx(yn,{elevation:0,sx:{p:3,backgroundColor:ht.palette.background.paper,borderRadius:jt.xl,border:`1px solid ${ht.palette.divider}`},children:h.jsx(lP,{links:qe(),onLinksChange:Xe})})]}),ce&&h.jsx(he,{sx:{mb:3},children:h.jsx(PQ,{value:K,onChange:ie})}),ee&&h.jsx(he,{sx:{mb:3},children:h.jsxs(yn,{elevation:1,sx:{p:2,backgroundColor:ht.palette.background.paper,borderRadius:jt.xl,border:`1px solid ${ht.palette.divider}`},children:[h.jsxs(ge,{variant:"body2",sx:{mb:1,color:ht.palette.text.secondary},children:["Uploading images... (",ee.completed," of ",ee.total,")"]}),h.jsx(Ko,{variant:"determinate",value:ee.completed/ee.total*100,sx:{borderRadius:jt.xl,height:8,backgroundColor:ht.palette.grey[200],"& .MuiLinearProgress-bar":{borderRadius:jt.xl,backgroundColor:ht.palette.primary.main}}})]})}),h.jsxs(he,{sx:{display:"flex",gap:2,justifyContent:"flex-end",flexWrap:"wrap"},children:[h.jsx(At,{variant:"outlined",onClick:Pe=>Ye(Pe,!1),startIcon:h.jsx(F0,{}),sx:{textTransform:"none"},children:"Save Draft"}),h.jsx(At,{variant:"contained",onClick:Pe=>Ye(Pe,!0),startIcon:h.jsx(bR,{}),sx:{textTransform:"none"},children:"Publish"}),h.jsx(At,{variant:"outlined",onClick:de,startIcon:h.jsx(J0,{}),sx:{textTransform:"none",borderColor:ht.palette.primary.main,color:ht.palette.primary.main,"&:hover":{backgroundColor:ht.palette.primary.main,color:ht.palette.primary.contrastText}},children:"Schedule Publish"})]})]})})]}),h.jsx(nl,{open:B,autoHideDuration:6e3,onClose:()=>X(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:h.jsx(vr,{onClose:()=>X(!1),severity:P,sx:{width:"100%"},children:T})})]})},qQ=()=>{const{id:e}=z6(),n=Zn(),{userDetails:t}=Ai(),[r,i]=Q.useState(null),a=Q.useMemo(()=>t!=null&&t.classes?Object.entries(t.classes).filter(([l,u])=>u.isCourseAdmin).map(([l])=>l):[],[t==null?void 0:t.classes]);Q.useEffect(()=>{e&&(async()=>{try{const u=bn(n,"materials",e),d=await Oa(u);if(d.exists()){const f={id:d.id,...d.data()};console.log("Material data from Firestore:",f),console.log("Sections type:",typeof f.sections),console.log("Sections value:",f.sections),Array.isArray(f.sections)||(console.warn("Sections is not an array, initializing as empty array. Original value:",f.sections),f.sections=[]),f.sections=f.sections.map(g=>({id:g.id||Ri(),title:g.title||"Untitled Section",content:g.content||"",images:Array.isArray(g.images)?g.images.map(m=>({...m,title:m.title||""})):[],links:Array.isArray(g.links)?g.links:[],subsections:Array.isArray(g.subsections)?g.subsections.map(m=>({id:m.id||Ri(),title:m.title||"Untitled Subsection",content:m.content||"",images:Array.isArray(m.images)?m.images.map(x=>({...x,title:x.title||""})):[],links:Array.isArray(m.links)?m.links:[],subSubsections:Array.isArray(m.subSubsections)?m.subSubsections.map(x=>({id:x.id||Ri(),title:x.title||"Untitled Sub-subsection",content:x.content||"",images:Array.isArray(x.images)?x.images.map(y=>({...y,title:y.title||""})):[],links:Array.isArray(x.links)?x.links:[]})):[]})):[]})),f.course=a.includes(f.course)?f.course:a[0]||"",i(f)}}catch(u){console.error("Error fetching material:",u)}})()},[e,n,t,a]);const s=async l=>{try{if(e){const u=bn(n,"materials",e);await Wr(u,{...l})}}catch(u){console.error("Error updating material:",u)}};return r?h.jsx(VO,{materialData:r,onSubmit:s}):h.jsx(he,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:h.jsx(hi,{})})},$8=({children:e,...n})=>h.jsx(he,{...n,sx:{marginBottom:4,textAlign:"center",position:"relative"},children:e}),BQ=({src:e,alt:n,...t})=>h.jsx("img",{src:e,alt:n,...t,style:{maxWidth:"100%",maxHeight:"500px",marginBottom:8,borderRadius:8,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease-in-out",...t.style},onMouseEnter:r=>{r.currentTarget.style.transform="scale(1.02)",r.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.15)"},onMouseLeave:r=>{r.currentTarget.style.transform="scale(1)",r.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"}}),UQ=e=>h.jsx(yR,{...e,sx:{borderRadius:1,marginBottom:1}}),$Q=({src:e,alt:n,title:t})=>{const[r,i]=Q.useState(!1),[a,s]=Q.useState(!1),[l]=Q.useState(0);return Q.useEffect(()=>{i(!1),s(!1);const u=new Image;return u.src=e,u.onload=()=>{console.log(` SmartImage loaded: ${e.substring(0,50)}...`),i(!0)},u.onerror=d=>{console.error(` SmartImage failed to load: ${e}`,d),console.error("Image details:",{src:e,naturalWidth:u.naturalWidth,naturalHeight:u.naturalHeight,complete:u.complete}),console.error("Image load failed. URL accessible via curl but blocked in browser."),console.error("This is likely a Firebase Storage CORS configuration issue."),console.error(`Fix: Configure CORS to allow ${window.location.origin}`),s(!0)},()=>{u.onload=null,u.onerror=null}},[e,l]),a?h.jsxs($8,{children:[h.jsxs(he,{sx:{width:"100%",maxWidth:400,height:200,bgcolor:"#ffebee",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:1,border:"1px dashed #f44336",p:2},children:[h.jsx(ge,{variant:"body2",color:"error",gutterBottom:!0,children:"Image failed to load"}),h.jsx(ge,{variant:"caption",color:"text.secondary",sx:{textAlign:"center",wordBreak:"break-all"},children:t}),h.jsxs(ge,{variant:"caption",color:"text.secondary",sx:{mt:1,fontSize:"0.7rem"},children:["URL: ",e.substring(0,60),"..."]})]}),h.jsx(ge,{variant:"body2",sx:{fontStyle:"italic",mt:1},children:t})]}):h.jsxs($8,{children:[!r&&h.jsx(UQ,{variant:"rectangular",width:"100%",height:300,sx:{maxWidth:400}}),h.jsx(Xw,{in:r,timeout:500,children:h.jsx(he,{sx:{display:r?"block":"none"},children:h.jsx(BQ,{src:e,alt:n,loading:"lazy"})})}),r&&h.jsx(Xw,{in:r,timeout:700,children:h.jsx(ge,{variant:"body2",sx:{fontStyle:"italic",color:"text.secondary"},children:t})})]})},lw=({images:e})=>h.jsx(he,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2},children:e.map((n,t)=>h.jsx($Q,{src:n.url,alt:`Image ${t+1}`,title:n.title,index:t},`${n.url}-${t}`))}),HQ=e=>!e.startsWith("http://")&&!e.startsWith("https://")?`https://${e}`:e,WQ=({links:e})=>e.length===0?null:h.jsxs(he,{sx:{mt:2,width:"50%"},children:[h.jsx(ge,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Links"}),h.jsxs(he,{sx:{display:"flex",mb:1,borderBottom:"1px solid gray"},children:[h.jsx(ge,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"Title"}),h.jsx(ge,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"URL"}),h.jsx(ge,{sx:{flexBasis:"40%",fontWeight:"bold"},children:"Description"})]}),e.map((n,t)=>h.jsx(he,{children:h.jsxs(he,{sx:{display:"flex",alignItems:"center",mb:1,flexWrap:"wrap",borderBottom:"1px solid lightgray"},children:[h.jsx(ge,{sx:{flexBasis:"30%",fontStyle:"italic",wordWrap:"break-word",paddingRight:"8px"},children:n.title}),h.jsx(qg,{sx:{flexBasis:"30%",wordWrap:"break-word",paddingRight:"8px"},href:HQ(n.url),target:"_blank",rel:"noopener",children:n.url}),h.jsx(ge,{sx:{flexBasis:"40%",wordWrap:"break-word"},children:n.description})]})},t))]});var Ps=Uint8Array,Go=Uint16Array,SA=Int32Array,Rv=new Ps([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Mv=new Ps([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),RS=new Ps([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),GO=function(e,n){for(var t=new Go(31),r=0;r<31;++r)t[r]=n+=1<<e[r-1];for(var i=new SA(t[30]),r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)i[a]=a-t[r]<<5|r;return{b:t,r:i}},QO=GO(Rv,2),KO=QO.b,MS=QO.r;KO[28]=258,MS[258]=28;var XO=GO(Mv,0),YQ=XO.b,H8=XO.r,FS=new Go(32768);for(var di=0;di<32768;++di){var Of=(di&43690)>>1|(di&21845)<<1;Of=(Of&52428)>>2|(Of&13107)<<2,Of=(Of&61680)>>4|(Of&3855)<<4,FS[di]=((Of&65280)>>8|(Of&255)<<8)>>1}var Tc=function(e,n,t){for(var r=e.length,i=0,a=new Go(n);i<r;++i)e[i]&&++a[e[i]-1];var s=new Go(n);for(i=1;i<n;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(t){l=new Go(1<<n);var u=15-n;for(i=0;i<r;++i)if(e[i])for(var d=i<<4|e[i],f=n-e[i],g=s[e[i]-1]++<<f,b=g|(1<<f)-1;g<=b;++g)l[FS[g]>>u]=d}else for(l=new Go(r),i=0;i<r;++i)e[i]&&(l[i]=FS[s[e[i]-1]++]>>15-e[i]);return l},ih=new Ps(288);for(var di=0;di<144;++di)ih[di]=8;for(var di=144;di<256;++di)ih[di]=9;for(var di=256;di<280;++di)ih[di]=7;for(var di=280;di<288;++di)ih[di]=8;var kg=new Ps(32);for(var di=0;di<32;++di)kg[di]=5;var VQ=Tc(ih,9,0),GQ=Tc(ih,9,1),QQ=Tc(kg,5,0),KQ=Tc(kg,5,1),uw=function(e){for(var n=e[0],t=1;t<e.length;++t)e[t]>n&&(n=e[t]);return n},du=function(e,n,t){var r=n/8|0;return(e[r]|e[r+1]<<8)>>(n&7)&t},cw=function(e,n){var t=n/8|0;return(e[t]|e[t+1]<<8|e[t+2]<<16)>>(n&7)},AA=function(e){return(e+7)/8|0},ZO=function(e,n,t){return(t==null||t>e.length)&&(t=e.length),new Ps(e.subarray(n,t))},XQ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],pu=function(e,n,t){var r=new Error(n||XQ[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,pu),!t)throw r;return r},ZQ=function(e,n,t,r){var i=e.length,a=0;if(!i||n.f&&!n.l)return t||new Ps(0);var s=!t,l=s||n.i!=2,u=n.i;s&&(t=new Ps(i*3));var d=function(Me){var We=t.length;if(Me>We){var Ye=new Ps(Math.max(We*2,Me));Ye.set(t),t=Ye}},f=n.f||0,g=n.p||0,b=n.b||0,m=n.l,x=n.d,y=n.m,A=n.n,w=i*8;do{if(!m){f=du(e,g,1);var C=du(e,g+1,3);if(g+=3,C)if(C==1)m=GQ,x=KQ,y=9,A=5;else if(C==2){var q=du(e,g,31)+257,k=du(e,g+10,15)+4,L=q+du(e,g+5,31)+1;g+=14;for(var B=new Ps(L),X=new Ps(19),T=0;T<k;++T)X[RS[T]]=du(e,g+T*3,7);g+=k*3;for(var O=uw(X),P=(1<<O)-1,j=Tc(X,O,1),T=0;T<L;){var G=j[du(e,g,P)];g+=G&15;var N=G>>4;if(N<16)B[T++]=N;else{var W=0,K=0;for(N==16?(K=3+du(e,g,3),g+=2,W=B[T-1]):N==17?(K=3+du(e,g,7),g+=3):N==18&&(K=11+du(e,g,127),g+=7);K--;)B[T++]=W}}var ie=B.subarray(0,q),ce=B.subarray(q);y=uw(ie),A=uw(ce),m=Tc(ie,y,1),x=Tc(ce,A,1)}else pu(1);else{var N=AA(g)+4,R=e[N-4]|e[N-3]<<8,F=N+R;if(F>i){u&&pu(0);break}l&&d(b+R),t.set(e.subarray(N,F),b),n.b=b+=R,n.p=g=F*8,n.f=f;continue}if(g>w){u&&pu(0);break}}l&&d(b+131072);for(var $=(1<<y)-1,ae=(1<<A)-1,U=g;;U=g){var W=m[cw(e,g)&$],z=W>>4;if(g+=W&15,g>w){u&&pu(0);break}if(W||pu(2),z<256)t[b++]=z;else if(z==256){U=g,m=null;break}else{var Z=z-254;if(z>264){var T=z-257,ee=Rv[T];Z=du(e,g,(1<<ee)-1)+KO[T],g+=ee}var oe=x[cw(e,g)&ae],we=oe>>4;oe||pu(3),g+=oe&15;var ce=YQ[we];if(we>3){var ee=Mv[we];ce+=cw(e,g)&(1<<ee)-1,g+=ee}if(g>w){u&&pu(0);break}l&&d(b+131072);var xe=b+Z;if(b<ce){var Ee=a-ce,De=Math.min(ce,xe);for(Ee+b<0&&pu(3);b<De;++b)t[b]=r[Ee+b]}for(;b<xe;++b)t[b]=t[b-ce]}}n.l=m,n.p=U,n.b=b,n.f=f,m&&(f=1,n.m=y,n.d=x,n.n=A)}while(!f);return b!=t.length&&s?ZO(t,0,b):t.subarray(0,b)},gd=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>8},k1=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>8,e[r+2]|=t>>16},dw=function(e,n){for(var t=[],r=0;r<e.length;++r)e[r]&&t.push({s:r,f:e[r]});var i=t.length,a=t.slice();if(!i)return{t:eI,l:0};if(i==1){var s=new Ps(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(F,q){return F.f-q.f}),t.push({s:-1,f:25001});var l=t[0],u=t[1],d=0,f=1,g=2;for(t[0]={s:-1,f:l.f+u.f,l,r:u};f!=i-1;)l=t[t[d].f<t[g].f?d++:g++],u=t[d!=f&&t[d].f<t[g].f?d++:g++],t[f++]={s:-1,f:l.f+u.f,l,r:u};for(var b=a[0].s,r=1;r<i;++r)a[r].s>b&&(b=a[r].s);var m=new Go(b+1),x=PS(t[f-1],m,0);if(x>n){var r=0,y=0,A=x-n,w=1<<A;for(a.sort(function(q,k){return m[k.s]-m[q.s]||q.f-k.f});r<i;++r){var C=a[r].s;if(m[C]>n)y+=w-(1<<x-m[C]),m[C]=n;else break}for(y>>=A;y>0;){var N=a[r].s;m[N]<n?y-=1<<n-m[N]++-1:++r}for(;r>=0&&y;--r){var R=a[r].s;m[R]==n&&(--m[R],++y)}x=n}return{t:new Ps(m),l:x}},PS=function(e,n,t){return e.s==-1?Math.max(PS(e.l,n,t+1),PS(e.r,n,t+1)):n[e.s]=t},W8=function(e){for(var n=e.length;n&&!e[--n];);for(var t=new Go(++n),r=0,i=e[0],a=1,s=function(u){t[r++]=u},l=1;l<=n;++l)if(e[l]==i&&l!=n)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[l]}return{c:t.subarray(0,r),n}},N1=function(e,n){for(var t=0,r=0;r<n.length;++r)t+=e[r]*n[r];return t},JO=function(e,n,t){var r=t.length,i=AA(n+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=t[a];return(i+4+r)*8},Y8=function(e,n,t,r,i,a,s,l,u,d,f){gd(n,f++,t),++i[256];for(var g=dw(i,15),b=g.t,m=g.l,x=dw(a,15),y=x.t,A=x.l,w=W8(b),C=w.c,N=w.n,R=W8(y),F=R.c,q=R.n,k=new Go(19),L=0;L<C.length;++L)++k[C[L]&31];for(var L=0;L<F.length;++L)++k[F[L]&31];for(var B=dw(k,7),X=B.t,T=B.l,O=19;O>4&&!X[RS[O-1]];--O);var P=d+5<<3,j=N1(i,ih)+N1(a,kg)+s,G=N1(i,b)+N1(a,y)+s+14+3*O+N1(k,X)+2*k[16]+3*k[17]+7*k[18];if(u>=0&&P<=j&&P<=G)return JO(n,f,e.subarray(u,u+d));var W,K,ie,ce;if(gd(n,f,1+(G<j)),f+=2,G<j){W=Tc(b,m,0),K=b,ie=Tc(y,A,0),ce=y;var $=Tc(X,T,0);gd(n,f,N-257),gd(n,f+5,q-1),gd(n,f+10,O-4),f+=14;for(var L=0;L<O;++L)gd(n,f+3*L,X[RS[L]]);f+=3*O;for(var ae=[C,F],U=0;U<2;++U)for(var z=ae[U],L=0;L<z.length;++L){var Z=z[L]&31;gd(n,f,$[Z]),f+=X[Z],Z>15&&(gd(n,f,z[L]>>5&127),f+=z[L]>>12)}}else W=VQ,K=ih,ie=QQ,ce=kg;for(var L=0;L<l;++L){var ee=r[L];if(ee>255){var Z=ee>>18&31;k1(n,f,W[Z+257]),f+=K[Z+257],Z>7&&(gd(n,f,ee>>23&31),f+=Rv[Z]);var oe=ee&31;k1(n,f,ie[oe]),f+=ce[oe],oe>3&&(k1(n,f,ee>>5&8191),f+=Mv[oe])}else k1(n,f,W[ee]),f+=K[ee]}return k1(n,f,W[256]),f+K[256]},JQ=new SA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),eI=new Ps(0),eK=function(e,n,t,r,i,a){var s=a.z||e.length,l=new Ps(r+s+5*(1+Math.ceil(s/7e3))+i),u=l.subarray(r,l.length-i),d=a.l,f=(a.r||0)&7;if(n){f&&(u[0]=a.r>>3);for(var g=JQ[n-1],b=g>>13,m=g&8191,x=(1<<t)-1,y=a.p||new Go(32768),A=a.h||new Go(x+1),w=Math.ceil(t/3),C=2*w,N=function(Y){return(e[Y]^e[Y+1]<<w^e[Y+2]<<C)&x},R=new SA(25e3),F=new Go(288),q=new Go(32),k=0,L=0,B=a.i||0,X=0,T=a.w||0,O=0;B+2<s;++B){var P=N(B),j=B&32767,G=A[P];if(y[j]=G,A[P]=j,T<=B){var W=s-B;if((k>7e3||X>24576)&&(W>423||!d)){f=Y8(e,u,0,R,F,q,L,X,O,B-O,f),X=k=L=0,O=B;for(var K=0;K<286;++K)F[K]=0;for(var K=0;K<30;++K)q[K]=0}var ie=2,ce=0,$=m,ae=j-G&32767;if(W>2&&P==N(B-ae))for(var U=Math.min(b,W)-1,z=Math.min(32767,B),Z=Math.min(258,W);ae<=z&&--$&&j!=G;){if(e[B+ie]==e[B+ie-ae]){for(var ee=0;ee<Z&&e[B+ee]==e[B+ee-ae];++ee);if(ee>ie){if(ie=ee,ce=ae,ee>U)break;for(var oe=Math.min(ae,ee-2),we=0,K=0;K<oe;++K){var xe=B-ae+K&32767,Ee=y[xe],De=xe-Ee&32767;De>we&&(we=De,G=xe)}}}j=G,G=y[j],ae+=j-G&32767}if(ce){R[X++]=268435456|MS[ie]<<18|H8[ce];var Me=MS[ie]&31,We=H8[ce]&31;L+=Rv[Me]+Mv[We],++F[257+Me],++q[We],T=B+ie,++k}else R[X++]=e[B],++F[e[B]]}}for(B=Math.max(B,T);B<s;++B)R[X++]=e[B],++F[e[B]];f=Y8(e,u,d,R,F,q,L,X,O,B-O,f),d||(a.r=f&7|u[f/8|0]<<3,f-=7,a.h=A,a.p=y,a.i=B,a.w=T)}else{for(var B=a.w||0;B<s+d;B+=65535){var Ye=B+65535;Ye>=s&&(u[f/8|0]=d,Ye=s),f=JO(u,f+1,e.subarray(B,Ye))}a.i=s}return ZO(l,0,r+AA(f)+i)},tI=function(){var e=1,n=0;return{p:function(t){for(var r=e,i=n,a=t.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=r+=t[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,n=i},d:function(){return e%=65521,n%=65521,(e&255)<<24|(e&65280)<<8|(n&255)<<8|n>>8}}},tK=function(e,n,t,r,i){if(!i&&(i={l:1},n.dictionary)){var a=n.dictionary.subarray(-32768),s=new Ps(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return eK(e,n.level==null?6:n.level,n.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+n.mem,t,r,i)},nI=function(e,n,t){for(;t;++n)e[n]=t,t>>>=8},nK=function(e,n){var t=n.level,r=t==0?0:t<6?1:t==9?3:2;if(e[0]=120,e[1]=r<<6|(n.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,n.dictionary){var i=tI();i.p(n.dictionary),nI(e,2,i.d())}},rK=function(e,n){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&pu(6,"invalid zlib data"),(e[1]>>5&1)==1&&pu(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function zS(e,n){n||(n={});var t=tI();t.p(e);var r=tK(e,n,n.dictionary?6:2,4);return nK(r,n),nI(r,r.length-4,t.d()),r}function iK(e,n){return ZQ(e.subarray(rK(e),-4),{i:2},n,n)}var aK=typeof TextDecoder<"u"&&new TextDecoder,sK=0;try{aK.decode(eI,{stream:!0}),sK=1}catch{}var cn=function(){return typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:this}();function fw(){cn.console&&typeof cn.console.log=="function"&&cn.console.log.apply(cn.console,arguments)}var Xr={log:fw,warn:function(e){cn.console&&(typeof cn.console.warn=="function"?cn.console.warn.apply(cn.console,arguments):fw.call(null,arguments))},error:function(e){cn.console&&(typeof cn.console.error=="function"?cn.console.error.apply(cn.console,arguments):fw(e))}};function hw(e,n,t){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Yh(r.response,n,t)},r.onerror=function(){Xr.error("could not download file")},r.send()}function V8(e){var n=new XMLHttpRequest;n.open("HEAD",e,!1);try{n.send()}catch{}return n.status>=200&&n.status<=299}function Py(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var rg,qS,Yh=cn.saveAs||((typeof window>"u"?"undefined":Zr(window))!=="object"||window!==cn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,n,t){var r=cn.URL||cn.webkitURL,i=document.createElement("a");n=n||e.name||"download",i.download=n,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?V8(i.href)?hw(e,n,t):Py(i,i.target="_blank"):Py(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Py(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,t){if(n=n||e.name||"download",typeof e=="string")if(V8(e))hw(e,n,t);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Py(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Zr(a)!=="object"&&(Xr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,t),n)}:function(e,n,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return hw(e,n,t);var i=e.type==="application/octet-stream",a=/constructor/i.test(cn.HTMLElement)||cn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Zr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=s?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},l.readAsDataURL(e)}else{var u=cn.URL||cn.webkitURL,d=u.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function rI(e){var n;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,a=t[r].process,s=i.exec(e);s&&(n=a(s),this.r=n[0],this.g=n[1],this.b=n[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+l+u+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function pw(e,n){var t=e[0],r=e[1],i=e[2],a=e[3];t=Ts(t,r,i,a,n[0],7,-680876936),a=Ts(a,t,r,i,n[1],12,-389564586),i=Ts(i,a,t,r,n[2],17,606105819),r=Ts(r,i,a,t,n[3],22,-1044525330),t=Ts(t,r,i,a,n[4],7,-176418897),a=Ts(a,t,r,i,n[5],12,1200080426),i=Ts(i,a,t,r,n[6],17,-1473231341),r=Ts(r,i,a,t,n[7],22,-45705983),t=Ts(t,r,i,a,n[8],7,1770035416),a=Ts(a,t,r,i,n[9],12,-1958414417),i=Ts(i,a,t,r,n[10],17,-42063),r=Ts(r,i,a,t,n[11],22,-1990404162),t=Ts(t,r,i,a,n[12],7,1804603682),a=Ts(a,t,r,i,n[13],12,-40341101),i=Ts(i,a,t,r,n[14],17,-1502002290),t=js(t,r=Ts(r,i,a,t,n[15],22,1236535329),i,a,n[1],5,-165796510),a=js(a,t,r,i,n[6],9,-1069501632),i=js(i,a,t,r,n[11],14,643717713),r=js(r,i,a,t,n[0],20,-373897302),t=js(t,r,i,a,n[5],5,-701558691),a=js(a,t,r,i,n[10],9,38016083),i=js(i,a,t,r,n[15],14,-660478335),r=js(r,i,a,t,n[4],20,-405537848),t=js(t,r,i,a,n[9],5,568446438),a=js(a,t,r,i,n[14],9,-1019803690),i=js(i,a,t,r,n[3],14,-187363961),r=js(r,i,a,t,n[8],20,1163531501),t=js(t,r,i,a,n[13],5,-1444681467),a=js(a,t,r,i,n[2],9,-51403784),i=js(i,a,t,r,n[7],14,1735328473),t=Os(t,r=js(r,i,a,t,n[12],20,-1926607734),i,a,n[5],4,-378558),a=Os(a,t,r,i,n[8],11,-2022574463),i=Os(i,a,t,r,n[11],16,1839030562),r=Os(r,i,a,t,n[14],23,-35309556),t=Os(t,r,i,a,n[1],4,-1530992060),a=Os(a,t,r,i,n[4],11,1272893353),i=Os(i,a,t,r,n[7],16,-155497632),r=Os(r,i,a,t,n[10],23,-1094730640),t=Os(t,r,i,a,n[13],4,681279174),a=Os(a,t,r,i,n[0],11,-358537222),i=Os(i,a,t,r,n[3],16,-722521979),r=Os(r,i,a,t,n[6],23,76029189),t=Os(t,r,i,a,n[9],4,-640364487),a=Os(a,t,r,i,n[12],11,-421815835),i=Os(i,a,t,r,n[15],16,530742520),t=Is(t,r=Os(r,i,a,t,n[2],23,-995338651),i,a,n[0],6,-198630844),a=Is(a,t,r,i,n[7],10,1126891415),i=Is(i,a,t,r,n[14],15,-1416354905),r=Is(r,i,a,t,n[5],21,-57434055),t=Is(t,r,i,a,n[12],6,1700485571),a=Is(a,t,r,i,n[3],10,-1894986606),i=Is(i,a,t,r,n[10],15,-1051523),r=Is(r,i,a,t,n[1],21,-2054922799),t=Is(t,r,i,a,n[8],6,1873313359),a=Is(a,t,r,i,n[15],10,-30611744),i=Is(i,a,t,r,n[6],15,-1560198380),r=Is(r,i,a,t,n[13],21,1309151649),t=Is(t,r,i,a,n[4],6,-145523070),a=Is(a,t,r,i,n[11],10,-1120210379),i=Is(i,a,t,r,n[2],15,718787259),r=Is(r,i,a,t,n[9],21,-343485551),e[0]=$f(t,e[0]),e[1]=$f(r,e[1]),e[2]=$f(i,e[2]),e[3]=$f(a,e[3])}function Fv(e,n,t,r,i,a){return n=$f($f(n,e),$f(r,a)),$f(n<<i|n>>>32-i,t)}function Ts(e,n,t,r,i,a,s){return Fv(n&t|~n&r,e,n,i,a,s)}function js(e,n,t,r,i,a,s){return Fv(n&r|t&~r,e,n,i,a,s)}function Os(e,n,t,r,i,a,s){return Fv(n^t^r,e,n,i,a,s)}function Is(e,n,t,r,i,a,s){return Fv(t^(n|~r),e,n,i,a,s)}function iI(e){var n,t=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=e.length;n+=64)pw(r,oK(e.substring(n-64,n)));e=e.substring(n-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)i[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(pw(r,i),n=0;n<16;n++)i[n]=0;return i[14]=8*t,pw(r,i),r}function oK(e){var n,t=[];for(n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}rg=cn.atob.bind(cn),qS=cn.btoa.bind(cn);var G8="0123456789abcdef".split("");function lK(e){for(var n="",t=0;t<4;t++)n+=G8[e>>8*t+4&15]+G8[e>>8*t&15];return n}function uK(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function BS(e){return iI(e).map(uK).join("")}var cK=function(e){for(var n=0;n<e.length;n++)e[n]=lK(e[n]);return e.join("")}(iI("hello"))!="5d41402abc4b2a76b9719d911017c592";function $f(e,n){if(cK){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}return e+n&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function US(e,n){var t,r,i,a;if(e!==t){for(var s=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),l=[],u=0;u<256;u++)l[u]=u;var d=0;for(u=0;u<256;u++){var f=l[u];d=(d+f+s.charCodeAt(u))%256,l[u]=l[d],l[d]=f}t=e,r=l}else l=r;var g=n.length,b=0,m=0,x="";for(u=0;u<g;u++)m=(m+(f=l[b=(b+1)%256]))%256,l[b]=l[m],l[m]=f,s=l[(l[b]+l[m])%256],x+=String.fromCharCode(n.charCodeAt(u)^s);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Q8={print:4,modify:8,copy:16,"annot-forms":32};function L0(e,n,t,r){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(Q8.perm!==void 0)throw new Error("Invalid permission: "+l);i+=Q8[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(n+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=BS(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=US(this.encryptionKey,this.padding)}function R0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var n="",t=e.length,r=0;r<t;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?n+="#"+("0"+i.toString(16)).slice(-2):n+=e[r]}return n}function K8(e){if(Zr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var n={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");n.hasOwnProperty(t)||(n[t]={});var a=Math.random().toString(35);return n[t][a]=[r,!!i],a},this.unsubscribe=function(t){for(var r in n)if(n[r][t])return delete n[r][t],Object.keys(n[r]).length===0&&delete n[r],!0;return!1},this.publish=function(t){if(n.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in n[t]){var s=n[t][a];try{s[0].apply(e,r)}catch(l){cn.console&&Xr.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return n}}function Qx(e){if(!(this instanceof Qx))return new Qx(e);var n="opacity,stroke-opacity".split(",");for(var t in e)e.hasOwnProperty(t)&&n.indexOf(t)>=0&&(this[t]=e[t]);this.id="",this.objectNumber=-1}function aI(e,n){this.gState=e,this.matrix=n,this.id="",this.objectNumber=-1}function Vh(e,n,t,r,i){if(!(this instanceof Vh))return new Vh(e,n,t,r,i);this.type=e==="axial"?2:3,this.coords=n,this.colors=t,aI.call(this,r,i)}function M0(e,n,t,r,i){if(!(this instanceof M0))return new M0(e,n,t,r,i);this.boundingBox=e,this.xStep=n,this.yStep=t,this.stream="",this.cloneIndex=0,aI.call(this,r,i)}function on(e){var n,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],l=1,u=16,d="S",f=null;Zr(e=e||{})==="object"&&(t=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(n=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),d=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",t=(""+(t||"P")).toLowerCase();var g=e.putOnlyUsedFonts||!1,b={},m={internal:{},__private__:{}};m.__private__.PubSub=K8;var x="1.3",y=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(D){x=D};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return A};var w=m.__private__.getPageFormat=function(D){return A[D]};i=i||"a4";var C={COMPAT:"compat",ADVANCED:"advanced"},N=C.COMPAT;function R(){this.saveGraphicsState(),te(new Lt(Je,0,0,-Je,0,Ru()*Je).toString()+" cm"),this.setFontSize(this.getFontSize()/Je),d="n",N=C.ADVANCED}function F(){this.restoreGraphicsState(),d="S",N=C.COMPAT}var q=m.__private__.combineFontStyleAndFontWeight=function(D,re){if(D=="bold"&&re=="normal"||D=="bold"&&re==400||D=="normal"&&re=="italic"||D=="bold"&&re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return re&&(D=re==400||re==="normal"?D==="italic"?"italic":"normal":re!=700&&re!=="bold"||D!=="normal"?(re==700?"bold":re)+""+D:"bold"),D};m.advancedAPI=function(D){var re=N===C.COMPAT;return re&&R.call(this),typeof D!="function"||(D(this),re&&F.call(this)),this},m.compatAPI=function(D){var re=N===C.ADVANCED;return re&&F.call(this),typeof D!="function"||(D(this),re&&R.call(this)),this},m.isAdvancedAPI=function(){return N===C.ADVANCED};var k,L=function(D){if(N!==C.ADVANCED)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=m.roundToPrecision=m.__private__.roundToPrecision=function(D,re){var _e=n||re;if(isNaN(D)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(_e).replace(/0+$/,"")};k=m.hpf=m.__private__.hpf=typeof u=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return B(D,u)}:u==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return B(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return B(D,16)};var X=m.f2=m.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return B(D,2)},T=m.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return B(D,3)},O=m.scale=m.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return N===C.COMPAT?D*Je:N===C.ADVANCED?D:void 0},P=function(D){return N===C.COMPAT?Ru()-D:N===C.ADVANCED?D:void 0},j=function(D){return O(P(D))};m.__private__.setPrecision=m.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(n=parseInt(D,10))};var G,W="00000000000000000000000000000000",K=m.__private__.getFileId=function(){return W},ie=m.__private__.setFileId=function(D){return W=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(oi=new L0(f.userPermissions,f.userPassword,f.ownerPassword,W)),W};m.setFileId=function(D){return ie(D),this},m.getFileId=function(){return K()};var ce=m.__private__.convertDateToPDFDate=function(D){var re=D.getTimezoneOffset(),_e=re<0?"+":"-",Re=Math.floor(Math.abs(re/60)),Ve=Math.abs(re%60),dt=[_e,Z(Re),"'",Z(Ve),"'"].join("");return["D:",D.getFullYear(),Z(D.getMonth()+1),Z(D.getDate()),Z(D.getHours()),Z(D.getMinutes()),Z(D.getSeconds()),dt].join("")},$=m.__private__.convertPDFDateToDate=function(D){var re=parseInt(D.substr(2,4),10),_e=parseInt(D.substr(6,2),10)-1,Re=parseInt(D.substr(8,2),10),Ve=parseInt(D.substr(10,2),10),dt=parseInt(D.substr(12,2),10),Ct=parseInt(D.substr(14,2),10);return new Date(re,_e,Re,Ve,dt,Ct,0)},ae=m.__private__.setCreationDate=function(D){var re;if(D===void 0&&(D=new Date),D instanceof Date)re=ce(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");re=D}return G=re},U=m.__private__.getCreationDate=function(D){var re=G;return D==="jsDate"&&(re=$(G)),re};m.setCreationDate=function(D){return ae(D),this},m.getCreationDate=function(D){return U(D)};var z,Z=m.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},ee=m.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},oe=0,we=[],xe=[],Ee=0,De=[],Me=[],We=!1,Ye=xe,Y=function(){oe=0,Ee=0,xe=[],we=[],De=[],Nr=fr(),Ia=fr()};m.__private__.setCustomOutputDestination=function(D){We=!0,Ye=D};var Se=function(D){We||(Ye=D)};m.__private__.resetCustomOutputDestination=function(){We=!1,Ye=xe};var te=m.__private__.out=function(D){return D=D.toString(),Ee+=D.length+1,Ye.push(D),Ye},be=m.__private__.write=function(D){return te(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},de=m.__private__.getArrayBuffer=function(D){for(var re=D.length,_e=new ArrayBuffer(re),Re=new Uint8Array(_e);re--;)Re[re]=D.charCodeAt(re);return _e},Ae=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ae};var Le=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(D){return Le=N===C.ADVANCED?D/Je:D,this};var qe,Ne=m.__private__.getFontSize=m.getFontSize=function(){return N===C.COMPAT?Le:Le*Je},Xe=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(D){return Xe=D,this},m.__private__.getR2L=m.getR2L=function(){return Xe};var ut,nt=m.__private__.setZoomMode=function(D){var re=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))qe=D;else if(isNaN(D)){if(re.indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');qe=D}else qe=parseInt(D,10)};m.__private__.getZoomMode=function(){return qe};var Pe,ve=m.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');ut=D};m.__private__.getPageMode=function(){return ut};var ke=m.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');Pe=D};m.__private__.getLayoutMode=function(){return Pe},m.__private__.setDisplayMode=m.setDisplayMode=function(D,re,_e){return nt(D),ke(re),ve(_e),this};var je={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(D){if(Object.keys(je).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return je[D]},m.__private__.getDocumentProperties=function(){return je},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(D){for(var re in je)je.hasOwnProperty(re)&&D[re]&&(je[re]=D[re]);return this},m.__private__.setDocumentProperty=function(D,re){if(Object.keys(je).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return je[D]=re};var ft,Je,Ft,kt,Vt,Rt={},Zt={},nn=[],ln={},Pn={},zn={},Gr={},ir=null,Rn=0,Gt=[],An=new K8(m),ya=e.hotfixes||[],Sr={},si={},xa=[],Lt=function D(re,_e,Re,Ve,dt,Ct){if(!(this instanceof D))return new D(re,_e,Re,Ve,dt,Ct);isNaN(re)&&(re=1),isNaN(_e)&&(_e=0),isNaN(Re)&&(Re=0),isNaN(Ve)&&(Ve=1),isNaN(dt)&&(dt=0),isNaN(Ct)&&(Ct=0),this._matrix=[re,_e,Re,Ve,dt,Ct]};Object.defineProperty(Lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Lt.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(D)},Lt.prototype.multiply=function(D){var re=D.sx*this.sx+D.shy*this.shx,_e=D.sx*this.shy+D.shy*this.sy,Re=D.shx*this.sx+D.sy*this.shx,Ve=D.shx*this.shy+D.sy*this.sy,dt=D.tx*this.sx+D.ty*this.shx+this.tx,Ct=D.tx*this.shy+D.ty*this.sy+this.ty;return new Lt(re,_e,Re,Ve,dt,Ct)},Lt.prototype.decompose=function(){var D=this.sx,re=this.shy,_e=this.shx,Re=this.sy,Ve=this.tx,dt=this.ty,Ct=Math.sqrt(D*D+re*re),Ot=(D/=Ct)*_e+(re/=Ct)*Re;_e-=D*Ot,Re-=re*Ot;var $t=Math.sqrt(_e*_e+Re*Re);return Ot/=$t,D*(Re/=$t)<re*(_e/=$t)&&(D=-D,re=-re,Ot=-Ot,Ct=-Ct),{scale:new Lt(Ct,0,0,$t,0,0),translate:new Lt(1,0,0,1,Ve,dt),rotate:new Lt(D,re,-re,D,0,0),skew:new Lt(1,0,Ot,1,0,0)}},Lt.prototype.toString=function(D){return this.join(" ")},Lt.prototype.inversed=function(){var D=this.sx,re=this.shy,_e=this.shx,Re=this.sy,Ve=this.tx,dt=this.ty,Ct=1/(D*Re-re*_e),Ot=Re*Ct,$t=-re*Ct,xn=-_e*Ct,fn=D*Ct;return new Lt(Ot,$t,xn,fn,-Ot*Ve-xn*dt,-$t*Ve-fn*dt)},Lt.prototype.applyToPoint=function(D){var re=D.x*this.sx+D.y*this.shx+this.tx,_e=D.x*this.shy+D.y*this.sy+this.ty;return new Qd(re,_e)},Lt.prototype.applyToRectangle=function(D){var re=this.applyToPoint(D),_e=this.applyToPoint(new Qd(D.x+D.w,D.y+D.h));return new gh(re.x,re.y,_e.x-re.x,_e.y-re.y)},Lt.prototype.clone=function(){var D=this.sx,re=this.shy,_e=this.shx,Re=this.sy,Ve=this.tx,dt=this.ty;return new Lt(D,re,_e,Re,Ve,dt)},m.Matrix=Lt;var Hn=m.matrixMult=function(D,re){return re.multiply(D)},ar=new Lt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=ar;var Mr=function(D,re){if(!Pn[D]){var _e=(re instanceof Vh?"Sh":"P")+(Object.keys(ln).length+1).toString(10);re.id=_e,Pn[D]=_e,ln[_e]=re,An.publish("addPattern",re)}};m.ShadingPattern=Vh,m.TilingPattern=M0,m.addShadingPattern=function(D,re){return L("addShadingPattern()"),Mr(D,re),this},m.beginTilingPattern=function(D){L("beginTilingPattern()"),Kd(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},m.endTilingPattern=function(D,re){L("endTilingPattern()"),re.stream=Me[z].join(`
`),Mr(D,re),An.publish("endTilingPattern",re),xa.pop().restore()};var dr=m.__private__.newObject=function(){var D=fr();return $n(D,!0),D},fr=m.__private__.newObjectDeferred=function(){return oe++,we[oe]=function(){return Ee},oe},$n=function(D,re){return re=typeof re=="boolean"&&re,we[D]=Ee,re&&te(D+" 0 obj"),D},bs=m.__private__.newAdditionalObject=function(){var D={objId:fr(),content:""};return De.push(D),D},Nr=fr(),Ia=fr(),Pi=m.__private__.decodeColorString=function(D){var re=D.split(" ");if(re.length!==2||re[1]!=="g"&&re[1]!=="G")re.length===5&&(re[4]==="k"||re[4]==="K")&&(re=[(1-re[0])*(1-re[3]),(1-re[1])*(1-re[3]),(1-re[2])*(1-re[3]),"r"]);else{var _e=parseFloat(re[0]);re=[_e,_e,_e,"r"]}for(var Re="#",Ve=0;Ve<3;Ve++)Re+=("0"+Math.floor(255*parseFloat(re[Ve])).toString(16)).slice(-2);return Re},zi=m.__private__.encodeColorString=function(D){var re;typeof D=="string"&&(D={ch1:D});var _e=D.ch1,Re=D.ch2,Ve=D.ch3,dt=D.ch4,Ct=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var Ot=new rI(_e);if(Ot.ok)_e=Ot.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var $t=parseInt(_e.substr(1),16);_e=$t>>16&255,Re=$t>>8&255,Ve=255&$t}if(Re===void 0||dt===void 0&&_e===Re&&Re===Ve)if(typeof _e=="string")re=_e+" "+Ct[0];else switch(D.precision){case 2:re=X(_e/255)+" "+Ct[0];break;case 3:default:re=T(_e/255)+" "+Ct[0]}else if(dt===void 0||Zr(dt)==="object"){if(dt&&!isNaN(dt.a)&&dt.a===0)return re=["1.","1.","1.",Ct[1]].join(" ");if(typeof _e=="string")re=[_e,Re,Ve,Ct[1]].join(" ");else switch(D.precision){case 2:re=[X(_e/255),X(Re/255),X(Ve/255),Ct[1]].join(" ");break;default:case 3:re=[T(_e/255),T(Re/255),T(Ve/255),Ct[1]].join(" ")}}else if(typeof _e=="string")re=[_e,Re,Ve,dt,Ct[2]].join(" ");else switch(D.precision){case 2:re=[X(_e),X(Re),X(Ve),X(dt),Ct[2]].join(" ");break;case 3:default:re=[T(_e),T(Re),T(Ve),T(dt),Ct[2]].join(" ")}return re},Jn=m.__private__.getFilters=function(){return s},Ci=m.__private__.putStream=function(D){var re=(D=D||{}).data||"",_e=D.filters||Jn(),Re=D.alreadyAppliedFilters||[],Ve=D.addLength1||!1,dt=re.length,Ct=D.objectId,Ot=function(ki){return ki};if(f!==null&&Ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Ot=oi.encryptor(Ct,0));var $t={};_e===!0&&(_e=["FlateEncode"]);var xn=D.additionalKeyValues||[],fn=($t=on.API.processDataByFilters!==void 0?on.API.processDataByFilters(re,_e):{data:re,reverseChain:[]}).reverseChain+(Array.isArray(Re)?Re.join(" "):Re.toString());if($t.data.length!==0&&(xn.push({key:"Length",value:$t.data.length}),Ve===!0&&xn.push({key:"Length1",value:dt})),fn.length!=0)if(fn.split("/").length-1==1)xn.push({key:"Filter",value:fn});else{xn.push({key:"Filter",value:"["+fn+"]"});for(var qn=0;qn<xn.length;qn+=1)if(xn[qn].key==="DecodeParms"){for(var ei=[],li=0;li<$t.reverseChain.split("/").length-1;li+=1)ei.push("null");ei.push(xn[qn].value),xn[qn].value="["+ei.join(" ")+"]"}}te("<<");for(var _i=0;_i<xn.length;_i++)te("/"+xn[_i].key+" "+xn[_i].value);te(">>"),$t.data.length!==0&&(te("stream"),te(Ot($t.data)),te("endstream"))},er=m.__private__.putPage=function(D){var re=D.number,_e=D.data,Re=D.objId,Ve=D.contentsObjId;$n(Re,!0),te("<</Type /Page"),te("/Parent "+D.rootDictionaryObjId+" 0 R"),te("/Resources "+D.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(k(D.mediaBox.bottomLeftX))+" "+parseFloat(k(D.mediaBox.bottomLeftY))+" "+k(D.mediaBox.topRightX)+" "+k(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&te("/CropBox ["+k(D.cropBox.bottomLeftX)+" "+k(D.cropBox.bottomLeftY)+" "+k(D.cropBox.topRightX)+" "+k(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&te("/BleedBox ["+k(D.bleedBox.bottomLeftX)+" "+k(D.bleedBox.bottomLeftY)+" "+k(D.bleedBox.topRightX)+" "+k(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&te("/TrimBox ["+k(D.trimBox.bottomLeftX)+" "+k(D.trimBox.bottomLeftY)+" "+k(D.trimBox.topRightX)+" "+k(D.trimBox.topRightY)+"]"),D.artBox!==null&&te("/ArtBox ["+k(D.artBox.bottomLeftX)+" "+k(D.artBox.bottomLeftY)+" "+k(D.artBox.topRightX)+" "+k(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&te("/UserUnit "+D.userUnit),An.publish("putPage",{objId:Re,pageContext:Gt[re],pageNumber:re,page:_e}),te("/Contents "+Ve+" 0 R"),te(">>"),te("endobj");var dt=_e.join(`
`);return N===C.ADVANCED&&(dt+=`
Q`),$n(Ve,!0),Ci({data:dt,filters:Jn(),objectId:Ve}),te("endobj"),Re},ro=m.__private__.putPages=function(){var D,re,_e=[];for(D=1;D<=Rn;D++)Gt[D].objId=fr(),Gt[D].contentsObjId=fr();for(D=1;D<=Rn;D++)_e.push(er({number:D,data:Me[D],objId:Gt[D].objId,contentsObjId:Gt[D].contentsObjId,mediaBox:Gt[D].mediaBox,cropBox:Gt[D].cropBox,bleedBox:Gt[D].bleedBox,trimBox:Gt[D].trimBox,artBox:Gt[D].artBox,userUnit:Gt[D].userUnit,rootDictionaryObjId:Nr,resourceDictionaryObjId:Ia}));$n(Nr,!0),te("<</Type /Pages");var Re="/Kids [";for(re=0;re<Rn;re++)Re+=_e[re]+" 0 R ";te(Re+"]"),te("/Count "+Rn),te(">>"),te("endobj"),An.publish("postPutPages")},Co=function(D){An.publish("putFont",{font:D,out:te,newObject:dr,putStream:Ci}),D.isAlreadyPutted!==!0&&(D.objectNumber=dr(),te("<<"),te("/Type /Font"),te("/BaseFont /"+R0(D.postScriptName)),te("/Subtype /Type1"),typeof D.encoding=="string"&&te("/Encoding /"+D.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},Fa=function(){for(var D in Rt)Rt.hasOwnProperty(D)&&(g===!1||g===!0&&b.hasOwnProperty(D))&&Co(Rt[D])},Fr=function(D){D.objectNumber=dr();var re=[];re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Form"}),re.push({key:"BBox",value:"["+[k(D.x),k(D.y),k(D.x+D.width),k(D.y+D.height)].join(" ")+"]"}),re.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var _e=D.pages[1].join(`
`);Ci({data:_e,additionalKeyValues:re,objectId:D.objectNumber}),te("endobj")},il=function(){for(var D in Sr)Sr.hasOwnProperty(D)&&Fr(Sr[D])},Ul=function(D,re){var _e,Re=[],Ve=1/(re-1);for(_e=0;_e<1;_e+=Ve)Re.push(_e);if(Re.push(1),D[0].offset!=0){var dt={offset:0,color:D[0].color};D.unshift(dt)}if(D[D.length-1].offset!=1){var Ct={offset:1,color:D[D.length-1].color};D.push(Ct)}for(var Ot="",$t=0,xn=0;xn<Re.length;xn++){for(_e=Re[xn];_e>D[$t+1].offset;)$t++;var fn=D[$t].offset,qn=(_e-fn)/(D[$t+1].offset-fn),ei=D[$t].color,li=D[$t+1].color;Ot+=ee(Math.round((1-qn)*ei[0]+qn*li[0]).toString(16))+ee(Math.round((1-qn)*ei[1]+qn*li[1]).toString(16))+ee(Math.round((1-qn)*ei[2]+qn*li[2]).toString(16))}return Ot.trim()},Iu=function(D,re){re||(re=21);var _e=dr(),Re=Ul(D.colors,re),Ve=[];Ve.push({key:"FunctionType",value:"0"}),Ve.push({key:"Domain",value:"[0.0 1.0]"}),Ve.push({key:"Size",value:"["+re+"]"}),Ve.push({key:"BitsPerSample",value:"8"}),Ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ci({data:Re,additionalKeyValues:Ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),te("endobj"),D.objectNumber=dr(),te("<< /ShadingType "+D.type),te("/ColorSpace /DeviceRGB");var dt="/Coords ["+k(parseFloat(D.coords[0]))+" "+k(parseFloat(D.coords[1]))+" ";D.type===2?dt+=k(parseFloat(D.coords[2]))+" "+k(parseFloat(D.coords[3])):dt+=k(parseFloat(D.coords[2]))+" "+k(parseFloat(D.coords[3]))+" "+k(parseFloat(D.coords[4]))+" "+k(parseFloat(D.coords[5])),te(dt+="]"),D.matrix&&te("/Matrix ["+D.matrix.toString()+"]"),te("/Function "+_e+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},$c=function(D,re){var _e=fr(),Re=dr();re.push({resourcesOid:_e,objectOid:Re}),D.objectNumber=Re;var Ve=[];Ve.push({key:"Type",value:"/Pattern"}),Ve.push({key:"PatternType",value:"1"}),Ve.push({key:"PaintType",value:"1"}),Ve.push({key:"TilingType",value:"1"}),Ve.push({key:"BBox",value:"["+D.boundingBox.map(k).join(" ")+"]"}),Ve.push({key:"XStep",value:k(D.xStep)}),Ve.push({key:"YStep",value:k(D.yStep)}),Ve.push({key:"Resources",value:_e+" 0 R"}),D.matrix&&Ve.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),Ci({data:D.stream,additionalKeyValues:Ve,objectId:D.objectNumber}),te("endobj")},$s=function(D){var re;for(re in ln)ln.hasOwnProperty(re)&&(ln[re]instanceof Vh?Iu(ln[re]):ln[re]instanceof M0&&$c(ln[re],D))},ys=function(D){for(var re in D.objectNumber=dr(),te("<<"),D)switch(re){case"opacity":te("/ca "+X(D[re]));break;case"stroke-opacity":te("/CA "+X(D[re]))}te(">>"),te("endobj")},Pa=function(){var D;for(D in zn)zn.hasOwnProperty(D)&&ys(zn[D])},xs=function(){for(var D in te("/XObject <<"),Sr)Sr.hasOwnProperty(D)&&Sr[D].objectNumber>=0&&te("/"+D+" "+Sr[D].objectNumber+" 0 R");An.publish("putXobjectDict"),te(">>")},rs=function(){oi.oid=dr(),te("<<"),te("/Filter /Standard"),te("/V "+oi.v),te("/R "+oi.r),te("/U <"+oi.toHexString(oi.U)+">"),te("/O <"+oi.toHexString(oi.O)+">"),te("/P "+oi.P),te(">>"),te("endobj")},is=function(){for(var D in te("/Font <<"),Rt)Rt.hasOwnProperty(D)&&(g===!1||g===!0&&b.hasOwnProperty(D))&&te("/"+D+" "+Rt[D].objectNumber+" 0 R");te(">>")},$l=function(){if(Object.keys(ln).length>0){for(var D in te("/Shading <<"),ln)ln.hasOwnProperty(D)&&ln[D]instanceof Vh&&ln[D].objectNumber>=0&&te("/"+D+" "+ln[D].objectNumber+" 0 R");An.publish("putShadingPatternDict"),te(">>")}},io=function(D){if(Object.keys(ln).length>0){for(var re in te("/Pattern <<"),ln)ln.hasOwnProperty(re)&&ln[re]instanceof m.TilingPattern&&ln[re].objectNumber>=0&&ln[re].objectNumber<D&&te("/"+re+" "+ln[re].objectNumber+" 0 R");An.publish("putTilingPatternDict"),te(">>")}},Hc=function(){if(Object.keys(zn).length>0){var D;for(D in te("/ExtGState <<"),zn)zn.hasOwnProperty(D)&&zn[D].objectNumber>=0&&te("/"+D+" "+zn[D].objectNumber+" 0 R");An.publish("putGStateDict"),te(">>")}},Pr=function(D){$n(D.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),is(),$l(),io(D.objectOid),Hc(),xs(),te(">>"),te("endobj")},Ji=function(){var D=[];Fa(),Pa(),il(),$s(D),An.publish("putResources"),D.forEach(Pr),Pr({resourcesOid:Ia,objectOid:Number.MAX_SAFE_INTEGER}),An.publish("postPutResources")},ao=function(){An.publish("putAdditionalObjects");for(var D=0;D<De.length;D++){var re=De[D];$n(re.objId,!0),te(re.content),te("endobj")}An.publish("postPutAdditionalObjects")},al=function(D){Zt[D.fontName]=Zt[D.fontName]||{},Zt[D.fontName][D.fontStyle]=D.id},za=function(D,re,_e,Re,Ve){var dt={id:"F"+(Object.keys(Rt).length+1).toString(10),postScriptName:D,fontName:re,fontStyle:_e,encoding:Re,isStandardFont:Ve||!1,metadata:{}};return An.publish("addFont",{font:dt,instance:this}),Rt[dt.id]=dt,al(dt),dt.id},Hl=function(D){for(var re=0,_e=Ae.length;re<_e;re++){var Re=za.call(this,D[re][0],D[re][1],D[re][2],Ae[re][3],!0);g===!1&&(b[Re]=!0);var Ve=D[re][0].split("-");al({id:Re,fontName:Ve[0],fontStyle:Ve[1]||""})}An.publish("addFonts",{fonts:Rt,dictionary:Zt})},ea=function(D){return D.foo=function(){try{return D.apply(this,arguments)}catch(Re){var re=Re.stack||"";~re.indexOf(" at ")&&(re=re.split(" at ")[1]);var _e="Error in function "+re.split(`
`)[0].split("<")[0]+": "+Re.message;if(!cn.console)throw new Error(_e);cn.console.error(_e,Re),cn.alert&&alert(_e)}},D.foo.bar=D,D.foo},sl=function(D,re){var _e,Re,Ve,dt,Ct,Ot,$t,xn,fn;if(Ve=(re=re||{}).sourceEncoding||"Unicode",Ct=re.outputEncoding,(re.autoencode||Ct)&&Rt[ft].metadata&&Rt[ft].metadata[Ve]&&Rt[ft].metadata[Ve].encoding&&(dt=Rt[ft].metadata[Ve].encoding,!Ct&&Rt[ft].encoding&&(Ct=Rt[ft].encoding),!Ct&&dt.codePages&&(Ct=dt.codePages[0]),typeof Ct=="string"&&(Ct=dt[Ct]),Ct)){for($t=!1,Ot=[],_e=0,Re=D.length;_e<Re;_e++)(xn=Ct[D.charCodeAt(_e)])?Ot.push(String.fromCharCode(xn)):Ot.push(D[_e]),Ot[_e].charCodeAt(0)>>8&&($t=!0);D=Ot.join("")}for(_e=D.length;$t===void 0&&_e!==0;)D.charCodeAt(_e-1)>>8&&($t=!0),_e--;if(!$t)return D;for(Ot=re.noBOM?[]:[254,255],_e=0,Re=D.length;_e<Re;_e++){if((fn=(xn=D.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+D+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ot.push(fn),Ot.push(xn-(fn<<8))}return String.fromCharCode.apply(void 0,Ot)},hr=m.__private__.pdfEscape=m.pdfEscape=function(D,re){return sl(D,re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Eo=m.__private__.beginPage=function(D){Me[++Rn]=[],Gt[Rn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},Hs(Rn),Se(Me[z])},Wl=function(D,re){var _e,Re,Ve;switch(t=re||t,typeof D=="string"&&(_e=w(D.toLowerCase()),Array.isArray(_e)&&(Re=_e[0],Ve=_e[1])),Array.isArray(D)&&(Re=D[0]*Je,Ve=D[1]*Je),isNaN(Re)&&(Re=i[0],Ve=i[1]),(Re>14400||Ve>14400)&&(Xr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Re=Math.min(14400,Re),Ve=Math.min(14400,Ve)),i=[Re,Ve],t.substr(0,1)){case"l":Ve>Re&&(i=[Ve,Re]);break;case"p":Re>Ve&&(i=[Ve,Re])}Eo(i),Bt(lt),te(Cr),dl!==0&&te(dl+" J"),To!==0&&te(To+" j"),An.publish("addPage",{pageNumber:Rn})},_o=function(D){D>0&&D<=Rn&&(Me.splice(D,1),Gt.splice(D,1),Rn--,z>Rn&&(z=Rn),this.setPage(z))},Hs=function(D){D>0&&D<=Rn&&(z=D)},Du=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Me.length-1},Ws=function(D,re,_e){var Re,Ve=void 0;return _e=_e||{},D=D!==void 0?D:Rt[ft].fontName,re=re!==void 0?re:Rt[ft].fontStyle,Re=D.toLowerCase(),Zt[Re]!==void 0&&Zt[Re][re]!==void 0?Ve=Zt[Re][re]:Zt[D]!==void 0&&Zt[D][re]!==void 0?Ve=Zt[D][re]:_e.disableWarning===!1&&Xr.warn("Unable to look up font label for font '"+D+"', '"+re+"'. Refer to getFontList() for available fonts."),Ve||_e.noFallback||(Ve=Zt.times[re])==null&&(Ve=Zt.times.normal),Ve},qi=m.__private__.putInfo=function(){var D=dr(),re=function(Re){return Re};for(var _e in f!==null&&(re=oi.encryptor(D,0)),te("<<"),te("/Producer ("+hr(re("jsPDF "+on.version))+")"),je)je.hasOwnProperty(_e)&&je[_e]&&te("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+hr(re(je[_e]))+")");te("/CreationDate ("+hr(re(G))+")"),te(">>"),te("endobj")},as=m.__private__.putCatalog=function(D){var re=(D=D||{}).rootDictionaryObjId||Nr;switch(dr(),te("<<"),te("/Type /Catalog"),te("/Pages "+re+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+qe;_e.substr(_e.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&te("/OpenAction [3 0 R /XYZ null null "+X(qe)+"]")}switch(Pe||(Pe="continuous"),Pe){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}ut&&te("/PageMode /"+ut),An.publish("putCatalog"),te(">>"),te("endobj")},vs=m.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(oe+1)),te("/Root "+oe+" 0 R"),te("/Info "+(oe-1)+" 0 R"),f!==null&&te("/Encrypt "+oi.oid+" 0 R"),te("/ID [ <"+W+"> <"+W+"> ]"),te(">>")},Lu=m.__private__.putHeader=function(){te("%PDF-"+x),te("%")},qa=m.__private__.putXRef=function(){var D="0000000000";te("xref"),te("0 "+(oe+1)),te("0000000000 65535 f ");for(var re=1;re<=oe;re++)typeof we[re]=="function"?te((D+we[re]()).slice(-10)+" 00000 n "):we[re]!==void 0?te((D+we[re]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},Ys=m.__private__.buildDocument=function(){Y(),Se(xe),An.publish("buildDocument"),Lu(),ro(),ao(),Ji(),f!==null&&rs(),qi(),as();var D=Ee;return qa(),vs(),te("startxref"),te(""+D),te("%%EOF"),Se(Me[z]),xe.join(`
`)},ol=m.__private__.getBlob=function(D){return new Blob([de(D)],{type:"application/pdf"})},Vs=m.output=m.__private__.output=ea(function(D,re){switch(typeof(re=re||{})=="string"?re={filename:re}:re.filename=re.filename||"generated.pdf",D){case void 0:return Ys();case"save":m.save(re.filename);break;case"arraybuffer":return de(Ys());case"blob":return ol(Ys());case"bloburi":case"bloburl":if(cn.URL!==void 0&&typeof cn.URL.createObjectURL=="function")return cn.URL&&cn.URL.createObjectURL(ol(Ys()))||void 0;Xr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",Re=Ys();try{_e=qS(Re)}catch{_e=qS(unescape(encodeURIComponent(Re)))}return"data:application/pdf;filename="+re.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(cn)==="[object Window]"){var Ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",dt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';re.pdfObjectUrl&&(Ve=re.pdfObjectUrl,dt="");var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ve+'"'+dt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(re)+");<\/script></body></html>",Ot=cn.open();return Ot!==null&&Ot.document.write(Ct),Ot}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(cn)==="[object Window]"){var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+re.filename+'" width="500px" height="400px" /></body></html>',xn=cn.open();if(xn!==null){xn.document.write($t);var fn=this;xn.document.documentElement.querySelector("#pdfViewer").onload=function(){xn.document.title=re.filename,xn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(fn.output("bloburl"))}}return xn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(cn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var qn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",re)+'"></iframe></body></html>',ei=cn.open();if(ei!==null&&(ei.document.write(qn),ei.document.title=re.filename),ei||typeof safari>"u")return ei;break;case"datauri":case"dataurl":return cn.document.location.href=this.output("datauristring",re);default:return null}}),ll=function(D){return Array.isArray(ya)===!0&&ya.indexOf(D)>-1};switch(r){case"pt":Je=1;break;case"mm":Je=72/25.4;break;case"cm":Je=72/2.54;break;case"in":Je=72;break;case"px":Je=ll("px_scaling")==1?.75:96/72;break;case"pc":case"em":Je=12;break;case"ex":Je=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Je=r}var oi=null;ae(),ie();var Jr=function(D){return f!==null?oi.encryptor(D,0):function(re){return re}},ws=m.__private__.getPageInfo=m.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Gt[D].objId,pageNumber:D,pageContext:Gt[D]}},tn=m.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var re in Gt)if(Gt[re].objId===D)break;return ws(re)},so=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Gt[z].objId,pageNumber:z,pageContext:Gt[z]}};m.addPage=function(){return Wl.apply(this,arguments),this},m.setPage=function(){return Hs.apply(this,arguments),Se.call(this,Me[z]),this},m.insertPage=function(D){return this.addPage(),this.movePage(z,D),this},m.movePage=function(D,re){var _e,Re;if(D>re){_e=Me[D],Re=Gt[D];for(var Ve=D;Ve>re;Ve--)Me[Ve]=Me[Ve-1],Gt[Ve]=Gt[Ve-1];Me[re]=_e,Gt[re]=Re,this.setPage(re)}else if(D<re){_e=Me[D],Re=Gt[D];for(var dt=D;dt<re;dt++)Me[dt]=Me[dt+1],Gt[dt]=Gt[dt+1];Me[re]=_e,Gt[re]=Re,this.setPage(re)}return this},m.deletePage=function(){return _o.apply(this,arguments),this},m.__private__.text=m.text=function(D,re,_e,Re,Ve){var dt,Ct,Ot,$t,xn,fn,qn,ei,li,_i=(Re=Re||{}).scope||this;if(typeof D=="number"&&typeof re=="number"&&(typeof _e=="string"||Array.isArray(_e))){var ki=_e;_e=re,re=D,D=ki}if(arguments[3]instanceof Lt?(L("The transform parameter of text() with a Matrix value"),li=Ve):(Ot=arguments[4],$t=arguments[5],Zr(qn=arguments[3])==="object"&&qn!==null||(typeof Ot=="string"&&($t=Ot,Ot=null),typeof qn=="string"&&($t=qn,qn=null),typeof qn=="number"&&(Ot=qn,qn=null),Re={flags:qn,angle:Ot,align:$t})),isNaN(re)||isNaN(_e)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return _i;var wa="",jo=!1,Qs=typeof Re.lineHeightFactor=="number"?Re.lineHeightFactor:Oe,Oo=_i.internal.scaleFactor;function xh(Dn){return Dn=Dn.split("	").join(Array(Re.TabLen||9).join(" ")),hr(Dn,qn)}function Yl(Dn){for(var Ln,zr=Dn.concat(),Ni=[],uo=zr.length;uo--;)typeof(Ln=zr.shift())=="string"?Ni.push(Ln):Array.isArray(Dn)&&(Ln.length===1||Ln[1]===void 0&&Ln[2]===void 0)?Ni.push(Ln[0]):Ni.push([Ln[0],Ln[1],Ln[2]]);return Ni}function Vl(Dn,Ln){var zr;if(typeof Dn=="string")zr=Ln(Dn)[0];else if(Array.isArray(Dn)){for(var Ni,uo,Wu=Dn.concat(),Yu=[],Kl=Wu.length;Kl--;)typeof(Ni=Wu.shift())=="string"?Yu.push(Ln(Ni)[0]):Array.isArray(Ni)&&typeof Ni[0]=="string"&&(uo=Ln(Ni[0],Ni[1],Ni[2]),Yu.push([uo[0],uo[1],uo[2]]));zr=Yu}return zr}var Jd=!1,Mu=!0;if(typeof D=="string")Jd=!0;else if(Array.isArray(D)){var ef=D.concat();Ct=[];for(var Yc,ta=ef.length;ta--;)(typeof(Yc=ef.shift())!="string"||Array.isArray(Yc)&&typeof Yc[0]!="string")&&(Mu=!1);Jd=Mu}if(Jd===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var Fu=Le/_i.internal.scaleFactor,Vc=Fu*(Qs-1);switch(Re.baseline){case"bottom":_e-=Vc;break;case"top":_e+=Fu-Vc;break;case"hanging":_e+=Fu-2*Vc;break;case"middle":_e+=Fu/2-Vc}if((fn=Re.maxWidth||0)>0&&(typeof D=="string"?D=_i.splitTextToSize(D,fn):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(Dn,Ln){return Dn.concat(_i.splitTextToSize(Ln,fn))},[]))),dt={text:D,x:re,y:_e,options:Re,mutex:{pdfEscape:hr,activeFontKey:ft,fonts:Rt,activeFontSize:Le}},An.publish("preProcessText",dt),D=dt.text,Ot=(Re=dt.options).angle,!(li instanceof Lt)&&Ot&&typeof Ot=="number"){Ot*=Math.PI/180,Re.rotationDirection===0&&(Ot=-Ot),N===C.ADVANCED&&(Ot=-Ot);var Gc=Math.cos(Ot),tf=Math.sin(Ot);li=new Lt(Gc,tf,-tf,Gc,0,0)}else Ot&&Ot instanceof Lt&&(li=Ot);N!==C.ADVANCED||li||(li=ar),(xn=Re.charSpace||As)!==void 0&&(wa+=k(O(xn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ei=Re.horizontalScale)!==void 0&&(wa+=k(100*ei)+` Tz
`),Re.lang;var Cs=-1,km=Re.renderingMode!==void 0?Re.renderingMode:Re.stroke,vh=_i.internal.getCurrentPageInfo().pageContext;switch(km){case 0:case!1:case"fill":Cs=0;break;case 1:case!0:case"stroke":Cs=1;break;case 2:case"fillThenStroke":Cs=2;break;case 3:case"invisible":Cs=3;break;case 4:case"fillAndAddForClipping":Cs=4;break;case 5:case"strokeAndAddPathForClipping":Cs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Cs=6;break;case 7:case"addToPathForClipping":Cs=7}var Rp=vh.usedRenderingMode!==void 0?vh.usedRenderingMode:-1;Cs!==-1?wa+=Cs+` Tr
`:Rp!==-1&&(wa+=`0 Tr
`),Cs!==-1&&(vh.usedRenderingMode=Cs),$t=Re.align||"left";var lo,Sa=Le*Qs,Pu=_i.internal.pageSize.getWidth(),wh=Rt[ft];xn=Re.charSpace||As,fn=Re.maxWidth||0,qn=Object.assign({autoencode:!0,noBOM:!0},Re.flags);var Gl=[],zu=function(Dn){return _i.getStringUnitWidth(Dn,{font:wh,charSpace:xn,fontSize:Le,doKerning:!1})*Le/Oo};if(Object.prototype.toString.call(D)==="[object Array]"){var ss;Ct=Yl(D),$t!=="left"&&(lo=Ct.map(zu));var La,qu=0;if($t==="right"){re-=lo[0],D=[],ta=Ct.length;for(var Es=0;Es<ta;Es++)Es===0?(La=pn(re),ss=Tr(_e)):(La=O(qu-lo[Es]),ss=-Sa),D.push([Ct[Es],La,ss]),qu=lo[Es]}else if($t==="center"){re-=lo[0]/2,D=[],ta=Ct.length;for(var Io=0;Io<ta;Io++)Io===0?(La=pn(re),ss=Tr(_e)):(La=O((qu-lo[Io])/2),ss=-Sa),D.push([Ct[Io],La,ss]),qu=lo[Io]}else if($t==="left"){D=[],ta=Ct.length;for(var fl=0;fl<ta;fl++)D.push(Ct[fl])}else if($t==="justify"&&wh.encoding==="Identity-H"){D=[],ta=Ct.length,fn=fn!==0?fn:Pu;for(var Do=0,mi=0;mi<ta;mi++)if(ss=mi===0?Tr(_e):-Sa,La=mi===0?pn(re):Do,mi<ta-1){var Lo=O((fn-lo[mi])/(Ct[mi].split(" ").length-1)),Bi=Ct[mi].split(" ");D.push([Bi[0]+" ",La,ss]),Do=0;for(var _s=1;_s<Bi.length;_s++){var Qc=(zu(Bi[_s-1]+" "+Bi[_s])-zu(Bi[_s]))*Oo+Lo;_s==Bi.length-1?D.push([Bi[_s],Qc,0]):D.push([Bi[_s]+" ",Qc,0]),Do-=Qc}}else D.push([Ct[mi],La,ss]);D.push(["",Do,0])}else{if($t!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],ta=Ct.length,fn=fn!==0?fn:Pu,mi=0;mi<ta;mi++)ss=mi===0?Tr(_e):-Sa,La=mi===0?pn(re):0,mi<ta-1?Gl.push(k(O((fn-lo[mi])/(Ct[mi].split(" ").length-1)))):Gl.push(0),D.push([Ct[mi],La,ss])}}var hl=typeof Re.R2L=="boolean"?Re.R2L:Xe;hl===!0&&(D=Vl(D,function(Dn,Ln,zr){return[Dn.split("").reverse().join(""),Ln,zr]})),dt={text:D,x:re,y:_e,options:Re,mutex:{pdfEscape:hr,activeFontKey:ft,fonts:Rt,activeFontSize:Le}},An.publish("postProcessText",dt),D=dt.text,jo=dt.mutex.isHex||!1;var nf=Rt[ft].encoding;nf!=="WinAnsiEncoding"&&nf!=="StandardEncoding"||(D=Vl(D,function(Dn,Ln,zr){return[xh(Dn),Ln,zr]})),Ct=Yl(D),D=[];for(var Bu,Uu,$u,Kc=0,rf=1,Hu=Array.isArray(Ct[0])?rf:Kc,Ql="",Xc=function(Dn,Ln,zr){var Ni="";return zr instanceof Lt?(zr=typeof Re.angle=="number"?Hn(zr,new Lt(1,0,0,1,Dn,Ln)):Hn(new Lt(1,0,0,1,Dn,Ln),zr),N===C.ADVANCED&&(zr=Hn(new Lt(1,0,0,-1,0,0),zr)),Ni=zr.join(" ")+` Tm
`):Ni=k(Dn)+" "+k(Ln)+` Td
`,Ni},gi=0;gi<Ct.length;gi++){switch(Ql="",Hu){case rf:$u=(jo?"<":"(")+Ct[gi][0]+(jo?">":")"),Bu=parseFloat(Ct[gi][1]),Uu=parseFloat(Ct[gi][2]);break;case Kc:$u=(jo?"<":"(")+Ct[gi]+(jo?">":")"),Bu=pn(re),Uu=Tr(_e)}Gl!==void 0&&Gl[gi]!==void 0&&(Ql=Gl[gi]+` Tw
`),gi===0?D.push(Ql+Xc(Bu,Uu,li)+$u):Hu===Kc?D.push(Ql+$u):Hu===rf&&D.push(Ql+Xc(Bu,Uu,li)+$u)}D=Hu===Kc?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var Ks=`BT
/`;return Ks+=ft+" "+Le+` Tf
`,Ks+=k(Le*Qs)+` TL
`,Ks+=Ha+`
`,Ks+=wa,Ks+=D,te(Ks+="ET"),b[ft]=!0,_i};var ul=m.__private__.clip=m.clip=function(D){return te(D==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return ul("evenodd")},m.__private__.discardPath=m.discardPath=function(){return te("n"),this};var Ei=m.__private__.isValidStyle=function(D){var re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(re=!0),re};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(D){return Ei(D)&&(d=D),this};var Ba=m.__private__.getStyle=m.getStyle=function(D){var re=d;switch(D){case"D":case"S":re="S";break;case"F":re="f";break;case"FD":case"DF":re="B";break;case"f":case"f*":case"B":case"B*":re=D}return re},ko=m.close=function(){return te("h"),this};m.stroke=function(){return te("S"),this},m.fill=function(D){return Ua("f",D),this},m.fillEvenOdd=function(D){return Ua("f*",D),this},m.fillStroke=function(D){return Ua("B",D),this},m.fillStrokeEvenOdd=function(D){return Ua("B*",D),this};var Ua=function(D,re){Zr(re)==="object"?No(re,D):te(D)},Da=function(D){D===null||N===C.ADVANCED&&D===void 0||(D=Ba(D),te(D))};function $a(D,re,_e,Re,Ve){var dt=new M0(re||this.boundingBox,_e||this.xStep,Re||this.yStep,this.gState,Ve||this.matrix);dt.stream=this.stream;var Ct=D+"$$"+this.cloneIndex+++"$$";return Mr(Ct,dt),dt}var No=function(D,re){var _e=Pn[D.key],Re=ln[_e];if(Re instanceof Vh)te("q"),te(cl(re)),Re.gState&&m.setGState(Re.gState),te(D.matrix.toString()+" cm"),te("/"+_e+" sh"),te("Q");else if(Re instanceof M0){var Ve=new Lt(1,0,0,-1,0,Ru());D.matrix&&(Ve=Ve.multiply(D.matrix||ar),_e=$a.call(Re,D.key,D.boundingBox,D.xStep,D.yStep,Ve).id),te("q"),te("/Pattern cs"),te("/"+_e+" scn"),Re.gState&&m.setGState(Re.gState),te(re),te("Q")}},cl=function(D){switch(D){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},oo=m.moveTo=function(D,re){return te(k(O(D))+" "+k(j(re))+" m"),this},Ss=m.lineTo=function(D,re){return te(k(O(D))+" "+k(j(re))+" l"),this},H=m.curveTo=function(D,re,_e,Re,Ve,dt){return te([k(O(D)),k(j(re)),k(O(_e)),k(j(Re)),k(O(Ve)),k(j(dt)),"c"].join(" ")),this};m.__private__.line=m.line=function(D,re,_e,Re,Ve){if(isNaN(D)||isNaN(re)||isNaN(_e)||isNaN(Re)||!Ei(Ve))throw new Error("Invalid arguments passed to jsPDF.line");return N===C.COMPAT?this.lines([[_e-D,Re-re]],D,re,[1,1],Ve||"S"):this.lines([[_e-D,Re-re]],D,re,[1,1]).stroke()},m.__private__.lines=m.lines=function(D,re,_e,Re,Ve,dt){var Ct,Ot,$t,xn,fn,qn,ei,li,_i,ki,wa,jo;if(typeof D=="number"&&(jo=_e,_e=re,re=D,D=jo),Re=Re||[1,1],dt=dt||!1,isNaN(re)||isNaN(_e)||!Array.isArray(D)||!Array.isArray(Re)||!Ei(Ve)||typeof dt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(oo(re,_e),Ct=Re[0],Ot=Re[1],xn=D.length,ki=re,wa=_e,$t=0;$t<xn;$t++)(fn=D[$t]).length===2?(ki=fn[0]*Ct+ki,wa=fn[1]*Ot+wa,Ss(ki,wa)):(qn=fn[0]*Ct+ki,ei=fn[1]*Ot+wa,li=fn[2]*Ct+ki,_i=fn[3]*Ot+wa,ki=fn[4]*Ct+ki,wa=fn[5]*Ot+wa,H(qn,ei,li,_i,ki,wa));return dt&&ko(),Da(Ve),this},m.path=function(D){for(var re=0;re<D.length;re++){var _e=D[re],Re=_e.c;switch(_e.op){case"m":oo(Re[0],Re[1]);break;case"l":Ss(Re[0],Re[1]);break;case"c":H.apply(this,Re);break;case"h":ko()}}return this},m.__private__.rect=m.rect=function(D,re,_e,Re,Ve){if(isNaN(D)||isNaN(re)||isNaN(_e)||isNaN(Re)||!Ei(Ve))throw new Error("Invalid arguments passed to jsPDF.rect");return N===C.COMPAT&&(Re=-Re),te([k(O(D)),k(j(re)),k(O(_e)),k(O(Re)),"re"].join(" ")),Da(Ve),this},m.__private__.triangle=m.triangle=function(D,re,_e,Re,Ve,dt,Ct){if(isNaN(D)||isNaN(re)||isNaN(_e)||isNaN(Re)||isNaN(Ve)||isNaN(dt)||!Ei(Ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-D,Re-re],[Ve-_e,dt-Re],[D-Ve,re-dt]],D,re,[1,1],Ct,!0),this},m.__private__.roundedRect=m.roundedRect=function(D,re,_e,Re,Ve,dt,Ct){if(isNaN(D)||isNaN(re)||isNaN(_e)||isNaN(Re)||isNaN(Ve)||isNaN(dt)||!Ei(Ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ot=4/3*(Math.SQRT2-1);return Ve=Math.min(Ve,.5*_e),dt=Math.min(dt,.5*Re),this.lines([[_e-2*Ve,0],[Ve*Ot,0,Ve,dt-dt*Ot,Ve,dt],[0,Re-2*dt],[0,dt*Ot,-Ve*Ot,dt,-Ve,dt],[2*Ve-_e,0],[-Ve*Ot,0,-Ve,-dt*Ot,-Ve,-dt],[0,2*dt-Re],[0,-dt*Ot,Ve*Ot,-dt,Ve,-dt]],D+Ve,re,[1,1],Ct,!0),this},m.__private__.ellipse=m.ellipse=function(D,re,_e,Re,Ve){if(isNaN(D)||isNaN(re)||isNaN(_e)||isNaN(Re)||!Ei(Ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var dt=4/3*(Math.SQRT2-1)*_e,Ct=4/3*(Math.SQRT2-1)*Re;return oo(D+_e,re),H(D+_e,re-Ct,D+dt,re-Re,D,re-Re),H(D-dt,re-Re,D-_e,re-Ct,D-_e,re),H(D-_e,re+Ct,D-dt,re+Re,D,re+Re),H(D+dt,re+Re,D+_e,re+Ct,D+_e,re),Da(Ve),this},m.__private__.circle=m.circle=function(D,re,_e,Re){if(isNaN(D)||isNaN(re)||isNaN(_e)||!Ei(Re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,re,_e,_e,Re)},m.setFont=function(D,re,_e){return _e&&(re=q(re,_e)),ft=Ws(D,re,{disableWarning:!1}),this};var me=m.__private__.getFont=m.getFont=function(){return Rt[Ws.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var D,re,_e={};for(D in Zt)if(Zt.hasOwnProperty(D))for(re in _e[D]=[],Zt[D])Zt[D].hasOwnProperty(re)&&_e[D].push(re);return _e},m.addFont=function(D,re,_e,Re,Ve){var dt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&dt.indexOf(arguments[3])!==-1?Ve=arguments[3]:arguments[3]&&dt.indexOf(arguments[3])==-1&&(_e=q(_e,Re)),Ve=Ve||"Identity-H",za.call(this,D,re,_e,Ve)};var Oe,lt=e.lineWidth||.200025,Jt=m.__private__.getLineWidth=m.getLineWidth=function(){return lt},Bt=m.__private__.setLineWidth=m.setLineWidth=function(D){return lt=D,te(k(O(D))+" w"),this};m.__private__.setLineDash=on.API.setLineDash=on.API.setLineDashPattern=function(D,re){if(D=D||[],re=re||0,isNaN(re)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(_e){return k(O(_e))}).join(" "),re=k(O(re)),te("["+D+"] "+re+" d"),this};var Tn=m.__private__.getLineHeight=m.getLineHeight=function(){return Le*Oe};m.__private__.getLineHeight=m.getLineHeight=function(){return Le*Oe};var Cn=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(Oe=D),this},pr=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Oe};Cn(e.lineHeight);var pn=m.__private__.getHorizontalCoordinate=function(D){return O(D)},Tr=m.__private__.getVerticalCoordinate=function(D){return N===C.ADVANCED?D:Gt[z].mediaBox.topRightY-Gt[z].mediaBox.bottomLeftY-O(D)},va=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(D){return k(pn(D))},Ar=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(D){return k(Tr(D))},Cr=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Pi(Cr)},m.__private__.setStrokeColor=m.setDrawColor=function(D,re,_e,Re){return Cr=zi({ch1:D,ch2:re,ch3:_e,ch4:Re,pdfColorType:"draw",precision:2}),te(Cr),this};var Qr=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Pi(Qr)},m.__private__.setFillColor=m.setFillColor=function(D,re,_e,Re){return Qr=zi({ch1:D,ch2:re,ch3:_e,ch4:Re,pdfColorType:"fill",precision:2}),te(Qr),this};var Ha=e.textColor||"0 g",Gs=m.__private__.getTextColor=m.getTextColor=function(){return Pi(Ha)};m.__private__.setTextColor=m.setTextColor=function(D,re,_e,Re){return Ha=zi({ch1:D,ch2:re,ch3:_e,ch4:Re,pdfColorType:"text",precision:3}),this};var As=e.charSpace,Gd=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(As||0)};m.__private__.setCharSpace=m.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return As=D,this};var dl=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(D){var re=m.CapJoinStyles[D];if(re===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return dl=re,te(re+" J"),this};var To=0;m.__private__.setLineJoin=m.setLineJoin=function(D){var re=m.CapJoinStyles[D];if(re===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return To=re,te(re+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(k(O(D))+" M"),this},m.GState=Qx,m.setGState=function(D){(D=typeof D=="string"?zn[Gr[D]]:Lp(null,D)).equals(ir)||(te("/"+D.id+" gs"),ir=D)};var Lp=function(D,re){if(!D||!Gr[D]){var _e=!1;for(var Re in zn)if(zn.hasOwnProperty(Re)&&zn[Re].equals(re)){_e=!0;break}if(_e)re=zn[Re];else{var Ve="GS"+(Object.keys(zn).length+1).toString(10);zn[Ve]=re,re.id=Ve}return D&&(Gr[D]=re.id),An.publish("addGState",re),re}};m.addGState=function(D,re){return Lp(D,re),this},m.saveGraphicsState=function(){return te("q"),nn.push({key:ft,size:Le,color:Ha}),this},m.restoreGraphicsState=function(){te("Q");var D=nn.pop();return ft=D.key,Le=D.size,Ha=D.color,ir=null,this},m.setCurrentTransformationMatrix=function(D){return te(D.toString()+" cm"),this},m.comment=function(D){return te("#"+D),this};var Qd=function(D,re){var _e=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(dt){isNaN(dt)||(_e=parseFloat(dt))}});var Re=re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Re},set:function(dt){isNaN(dt)||(Re=parseFloat(dt))}});var Ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ve},set:function(dt){Ve=dt.toString()}}),this},gh=function(D,re,_e,Re){Qd.call(this,D,re),this.type="rect";var Ve=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ve},set:function(Ct){isNaN(Ct)||(Ve=parseFloat(Ct))}});var dt=Re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return dt},set:function(Ct){isNaN(Ct)||(dt=parseFloat(Ct))}}),this},bh=function(){this.page=Rn,this.currentPage=z,this.pages=Me.slice(0),this.pagesContext=Gt.slice(0),this.x=Ft,this.y=kt,this.matrix=Vt,this.width=Wc(z),this.height=Ru(z),this.outputDestination=Ye,this.id="",this.objectNumber=-1};bh.prototype.restore=function(){Rn=this.page,z=this.currentPage,Gt=this.pagesContext,Me=this.pages,Ft=this.x,kt=this.y,Vt=this.matrix,Zd(z,this.width),yh(z,this.height),Ye=this.outputDestination};var Kd=function(D,re,_e,Re,Ve){xa.push(new bh),Rn=z=0,Me=[],Ft=D,kt=re,Vt=Ve,Eo([_e,Re])},_m=function(D){if(si[D])xa.pop().restore();else{var re=new bh,_e="Xo"+(Object.keys(Sr).length+1).toString(10);re.id=_e,si[D]=_e,Sr[_e]=re,An.publish("addFormObject",re),xa.pop().restore()}};for(var Xd in m.beginFormObject=function(D,re,_e,Re,Ve){return Kd(D,re,_e,Re,Ve),this},m.endFormObject=function(D){return _m(D),this},m.doFormObject=function(D,re){var _e=Sr[si[D]];return te("q"),te(re.toString()+" cm"),te("/"+_e.id+" Do"),te("Q"),this},m.getFormObject=function(D){var re=Sr[si[D]];return{x:re.x,y:re.y,width:re.width,height:re.height,matrix:re.matrix}},m.save=function(D,re){return D=D||"generated.pdf",(re=re||{}).returnPromise=re.returnPromise||!1,re.returnPromise===!1?(Yh(ol(Ys()),D),typeof Yh.unload=="function"&&cn.setTimeout&&setTimeout(Yh.unload,911),this):new Promise(function(_e,Re){try{var Ve=Yh(ol(Ys()),D);typeof Yh.unload=="function"&&cn.setTimeout&&setTimeout(Yh.unload,911),_e(Ve)}catch(dt){Re(dt.message)}})},on.API)on.API.hasOwnProperty(Xd)&&(Xd==="events"&&on.API.events.length?function(D,re){var _e,Re,Ve;for(Ve=re.length-1;Ve!==-1;Ve--)_e=re[Ve][0],Re=re[Ve][1],D.subscribe.apply(D,[_e].concat(typeof Re=="function"?[Re]:Re))}(An,on.API.events):m[Xd]=on.API[Xd]);var Wc=m.getPageWidth=function(D){return(Gt[D=D||z].mediaBox.topRightX-Gt[D].mediaBox.bottomLeftX)/Je},Zd=m.setPageWidth=function(D,re){Gt[D].mediaBox.topRightX=re*Je+Gt[D].mediaBox.bottomLeftX},Ru=m.getPageHeight=function(D){return(Gt[D=D||z].mediaBox.topRightY-Gt[D].mediaBox.bottomLeftY)/Je},yh=m.setPageHeight=function(D,re){Gt[D].mediaBox.topRightY=re*Je+Gt[D].mediaBox.bottomLeftY};return m.internal={pdfEscape:hr,getStyle:Ba,getFont:me,getFontSize:Ne,getCharSpace:Gd,getTextColor:Gs,getLineHeight:Tn,getLineHeightFactor:pr,getLineWidth:Jt,write:be,getHorizontalCoordinate:pn,getVerticalCoordinate:Tr,getCoordinateString:va,getVerticalCoordinateString:Ar,collections:{},newObject:dr,newAdditionalObject:bs,newObjectDeferred:fr,newObjectDeferredBegin:$n,getFilters:Jn,putStream:Ci,events:An,scaleFactor:Je,pageSize:{getWidth:function(){return Wc(z)},setWidth:function(D){Zd(z,D)},getHeight:function(){return Ru(z)},setHeight:function(D){yh(z,D)}},encryptionOptions:f,encryption:oi,getEncryptor:Jr,output:Vs,getNumberOfPages:Du,pages:Me,out:te,f2:X,f3:T,getPageInfo:ws,getPageInfoByObjId:tn,getCurrentPageInfo:so,getPDFVersion:y,Point:Qd,Rectangle:gh,Matrix:Lt,hasHotfix:ll},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Wc(z)},set:function(D){Zd(z,D)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Ru(z)},set:function(D){yh(z,D)},enumerable:!0,configurable:!0}),Hl.call(m,Ae),ft="F1",Wl(i,t),An.publish("initialized"),m}L0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},L0.prototype.toHexString=function(e){return e.split("").map(function(n){return("0"+(255&n.charCodeAt(0)).toString(16)).slice(-2)}).join("")},L0.prototype.hexToBytes=function(e){for(var n=[],t=0;t<e.length;t+=2)n.push(String.fromCharCode(parseInt(e.substr(t,2),16)));return n.join("")},L0.prototype.processOwnerPassword=function(e,n){return US(BS(n).substr(0,5),e)},L0.prototype.encryptor=function(e,n){var t=BS(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&n,n>>8&255)).substr(0,10);return function(r){return US(t,r)}},Qx.prototype.equals=function(e){var n,t="id,objectNumber,equals";if(!e||Zr(e)!==Zr(this))return!1;var r=0;for(n in this)if(!(t.indexOf(n)>=0)){if(this.hasOwnProperty(n)&&!e.hasOwnProperty(n)||this[n]!==e[n])return!1;r++}for(n in e)e.hasOwnProperty(n)&&t.indexOf(n)<0&&r--;return r===0},on.API={events:[]},on.version="3.0.1";var Qi=on.API,CA=1,Op=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},h0=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Sn=function(e){return e.toFixed(2)},If=function(e){return e.toFixed(5)};Qi.__acroform__={};var Ao=function(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e},X8=function(e){return e*CA},oc=function(e){var n=new oI,t=qt.internal.getHeight(e)||0,r=qt.internal.getWidth(e)||0;return n.BBox=[0,0,Number(Sn(r)),Number(Sn(t))],n},dK=Qi.__acroform__.setBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<n},fK=Qi.__acroform__.clearBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<n)},hK=Qi.__acroform__.getBit=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<n)==0?0:1},oa=Qi.__acroform__.getBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return hK(e,n-1)},la=Qi.__acroform__.setBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return dK(e,n-1)},ua=Qi.__acroform__.clearBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return fK(e,n-1)},pK=Qi.__acroform__.calculateCoordinates=function(e,n){var t=n.internal.getHorizontalCoordinate,r=n.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],l=e[3],u={};return u.lowerLeft_X=t(i)||0,u.lowerLeft_Y=r(a+l)||0,u.upperRight_X=t(i+s)||0,u.upperRight_Y=r(a)||0,[Number(Sn(u.lowerLeft_X)),Number(Sn(u.lowerLeft_Y)),Number(Sn(u.upperRight_X)),Number(Sn(u.upperRight_Y))]},mK=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var n=[],t=e._V||e.DV,r=$S(e,t),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;n.push("/Tx BMC"),n.push("q"),n.push("BT"),n.push(e.scope.__private__.encodeColorString(e.color)),n.push("/"+i+" "+Sn(r.fontSize)+" Tf"),n.push("1 0 0 1 0 0 Tm"),n.push(r.text),n.push("ET"),n.push("Q"),n.push("EMC");var a=oc(e);return a.scope=e.scope,a.stream=n.join(`
`),a}},$S=function(e,n){var t=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(n=(n=n.substr(0,1)=="("?n.substr(1):n).substr(n.length-1)==")"?n.substr(0,n.length-1):n).split(" ");i=e.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var a=t,s=qt.internal.getHeight(e)||0;s=s<0?-s:s;var l=qt.internal.getWidth(e)||0;l=l<0?-l:l;var u=function(T,O,P){if(T+1<i.length){var j=O+" "+i[T+1][0];return zy(j,e,P).width<=l-4}return!1};a++;e:for(;a>0;){n="",a--;var d,f,g=zy("3",e,a).height,b=e.multiline?s-a:(s-g)/2,m=b+=2,x=0,y=0,A=0;if(a<=0){n=`(...) Tj
`,n+="% Width of Text: "+zy(n,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var w="",C=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var R=!1;if(i[N].length!==1&&A!==i[N].length-1){if((g+2)*(C+2)+2>s)continue e;w+=i[N][A],R=!0,y=N,N--}else{w=(w+=i[N][A]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var F=parseInt(N),q=u(F,w,a),k=N>=i.length-1;if(q&&!k){w+=" ",A=0;continue}if(q||k){if(k)y=F;else if(e.multiline&&(g+2)*(C+2)+2>s)continue e}else{if(!e.multiline||(g+2)*(C+2)+2>s)continue e;y=F}}for(var L="",B=x;B<=y;B++){var X=i[B];if(e.multiline){if(B===y){L+=X[A]+" ",A=(A+1)%X.length;continue}if(B===x){L+=X[X.length-1]+" ";continue}}L+=X[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,f=zy(L,e,a).width,e.textAlign){case"right":d=l-f-2;break;case"center":d=(l-f)/2;break;case"left":default:d=2}n+=Sn(d)+" "+Sn(m)+` Td
`,n+="("+Op(L)+`) Tj
`,n+=-Sn(d)+` 0 Td
`,m=-(a+2),f=0,x=R?y:y+1,C++,w=""}break}return r.text=n,r.fontSize=a,r},zy=function(e,n,t){var r=n.scope.internal.getFont(n.fontName,n.fontStyle),i=n.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:n.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},gK={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},bK=function(e,n){var t={type:"reference",object:e};n.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&n.internal.getPageInfo(e.page).pageContext.annotations.push(t)},yK=function(e,n){for(var t in e)if(e.hasOwnProperty(t)){var r=t,i=e[t];n.internal.newObjectDeferredBegin(i.objId,!0),Zr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},xK=function(e,n){if(n.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Nu.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(gK)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");CA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new lI,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&bK(a,t)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(t){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var l=r[s],u=[],d=l.Rect;if(l.Rect&&(l.Rect=pK(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=qt.createDefaultAppearanceStream(l),Zr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=mK(l);u.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var g="";for(var b in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(b)){var m=l.appearanceStreamContent[b];if(g+="/"+b+" ",g+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var s in m)if(m.hasOwnProperty(s)){var x=m[s];typeof x=="function"&&(x=x.call(i,l)),g+="/"+s+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(i,l)),g+="/"+s+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);g+=">>"}u.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:l.objId}),i.internal.out("endobj")}a&&yK(i.internal.acroformPlugin.xForms,i)})(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},sI=Qi.__acroform__.arrayToPdfArray=function(e,n,t){var r=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Zr(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(n!==void 0&&t&&(r=t.internal.getEncryptor(n)),i+="("+Op(r(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},mw=function(e,n,t){var r=function(i){return i};return n!==void 0&&t&&(r=t.internal.getEncryptor(n)),(e=e||"").toString(),e="("+Op(r(e))+")"},Ac=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ac.prototype.toString=function(){return this.objId+" 0 R"},Ac.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ac.prototype.getKeyValueListForStream=function(){var e=[],n=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in n)if(Object.getOwnPropertyDescriptor(this,n[t]).configurable===!1){var r=n[t],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:sI(i,this.objId,this.scope)}):i instanceof Ac?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var oI=function(){Ac.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,n=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Ao(oI,Ac);var lI=function(){Ac.call(this);var e,n=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return n.length>0?n:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return n}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Op(t(e))+")"}},set:function(t){e=t}})};Ao(lI,Ac);var Nu=function e(){Ac.call(this);var n=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');n=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!oa(n,3)},set:function(w){w?this.F=la(n,3):this.F=ua(n,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');t=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Kx)return;a="FieldObject"+e.FieldNum++}var w=function(C){return C};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Op(w(a))+")"},set:function(w){a=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(w){a=w}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(w){u=w}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/CA:d},set:function(w){d=w}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(w){f=w}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Kx||this instanceof sp))return mw(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=w}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Ka?b:mw(b,this.objId,this.scope)},set:function(w){w=w.toString(),b=this instanceof Ka?w:w.substr(0,1)==="("?h0(w.substr(1,w.length-2)):h0(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ka?h0(b.substr(1,b.length-1)):b},set:function(w){w=w.toString(),b=this instanceof Ka?"/"+w:w}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ka?m:mw(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=this instanceof Ka?w:w.substr(0,1)==="("?h0(w.substr(1,w.length-2)):h0(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ka?h0(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof Ka?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(w){w=!!w,y=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(w){x=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,1)},set:function(w){w?this.Ff=la(this.Ff,1):this.Ff=ua(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,2)},set:function(w){w?this.Ff=la(this.Ff,2):this.Ff=ua(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,3)},set:function(w){w?this.Ff=la(this.Ff,3):this.Ff=ua(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');A=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(A){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};Ao(Nu,Ac);var $0=function(){Nu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var n=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return sI(n,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(a,s,l){l||(l=1);for(var u,d=[];u=s.exec(a);)d.push(u[l]);return d}(r,/\((.*?)\)/g)),n=i}}),this.getOptions=function(){return n},this.setOptions=function(t){n=t,this.sort&&n.sort()},this.addOption=function(t){t=(t=t||"").toString(),n.push(t),this.sort&&n.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();n.indexOf(t)!==-1&&(n.splice(n.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,18)},set:function(t){t?this.Ff=la(this.Ff,18):this.Ff=ua(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=la(this.Ff,19):this.Ff=ua(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,20)},set:function(t){t?(this.Ff=la(this.Ff,20),n.sort()):this.Ff=ua(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,22)},set:function(t){t?this.Ff=la(this.Ff,22):this.Ff=ua(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,23)},set:function(t){t?this.Ff=la(this.Ff,23):this.Ff=ua(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,27)},set:function(t){t?this.Ff=la(this.Ff,27):this.Ff=ua(this.Ff,27)}}),this.hasAppearanceStream=!1};Ao($0,Nu);var H0=function(){$0.call(this),this.fontName="helvetica",this.combo=!1};Ao(H0,$0);var W0=function(){H0.call(this),this.combo=!0};Ao(W0,H0);var ux=function(){W0.call(this),this.edit=!0};Ao(ux,W0);var Ka=function(){Nu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,15)},set:function(t){t?this.Ff=la(this.Ff,15):this.Ff=ua(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,16)},set:function(t){t?this.Ff=la(this.Ff,16):this.Ff=ua(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,17)},set:function(t){t?this.Ff=la(this.Ff,17):this.Ff=ua(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,26)},set:function(t){t?this.Ff=la(this.Ff,26):this.Ff=ua(this.Ff,26)}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(n).length!==0){var r,i=[];for(r in i.push("<<"),n)i.push("/"+r+" ("+Op(t(n[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Zr(t)==="object"&&(n=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(t){typeof t=="string"&&(n.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Ao(Ka,Nu);var cx=function(){Ka.call(this),this.pushButton=!0};Ao(cx,Ka);var Y0=function(){Ka.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n!==void 0?n:[]}})};Ao(Y0,Ka);var Kx=function(){var e,n;Nu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(i){n=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+Op(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Zr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=qt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ao(Kx,Nu),Y0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var n in this.Kids)if(this.Kids.hasOwnProperty(n)){var t=this.Kids[n];t.appearanceStreamContent=e.createAppearanceStream(t.optionName),t.caption=e.getCA()}},Y0.prototype.createOption=function(e){var n=new Kx;return n.Parent=this,n.optionName=e,this.Kids.push(n),vK.call(this.scope,n),n};var dx=function(){Ka.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=qt.CheckBox.createAppearanceStream()};Ao(dx,Ka);var sp=function(){Nu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,13)},set:function(n){n?this.Ff=la(this.Ff,13):this.Ff=ua(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,21)},set:function(n){n?this.Ff=la(this.Ff,21):this.Ff=ua(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,23)},set:function(n){n?this.Ff=la(this.Ff,23):this.Ff=ua(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,24)},set:function(n){n?this.Ff=la(this.Ff,24):this.Ff=ua(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,25)},set:function(n){n?this.Ff=la(this.Ff,25):this.Ff=ua(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,26)},set:function(n){n?this.Ff=la(this.Ff,26):this.Ff=ua(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){Number.isInteger(n)&&(e=n)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ao(sp,Nu);var fx=function(){sp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!oa(this.Ff,14)},set:function(e){e?this.Ff=la(this.Ff,14):this.Ff=ua(this.Ff,14)}}),this.password=!0};Ao(fx,sp);var qt={CheckBox:{createAppearanceStream:function(){return{N:{On:qt.CheckBox.YesNormal},D:{On:qt.CheckBox.YesPushDown,Off:qt.CheckBox.OffPushDown}}},YesPushDown:function(e){var n=oc(e);n.scope=e.scope;var t=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=$S(e,e.caption);return t.push("0.749023 g"),t.push("0 0 "+Sn(qt.internal.getWidth(e))+" "+Sn(qt.internal.getHeight(e))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Sn(a.fontSize)+" Tf "+i),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),n.stream=t.join(`
`),n},YesNormal:function(e){var n=oc(e);n.scope=e.scope;var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=qt.internal.getHeight(e),s=qt.internal.getWidth(e),l=$S(e,e.caption);return i.push("1 g"),i.push("0 0 "+Sn(s)+" "+Sn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Sn(s-1)+" "+Sn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Sn(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),n.stream=i.join(`
`),n},OffPushDown:function(e){var n=oc(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Sn(qt.internal.getWidth(e))+" "+Sn(qt.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join(`
`),n}},RadioButton:{Circle:{createAppearanceStream:function(e){var n={D:{Off:qt.RadioButton.Circle.OffPushDown},N:{}};return n.N[e]=qt.RadioButton.Circle.YesNormal,n.D[e]=qt.RadioButton.Circle.YesPushDown,n},getCA:function(){return"l"},YesNormal:function(e){var n=oc(e);n.scope=e.scope;var t=[],r=qt.internal.getWidth(e)<=qt.internal.getHeight(e)?qt.internal.getWidth(e)/4:qt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=qt.internal.Bezier_C,a=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+If(qt.internal.getWidth(e)/2)+" "+If(qt.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n},YesPushDown:function(e){var n=oc(e);n.scope=e.scope;var t=[],r=qt.internal.getWidth(e)<=qt.internal.getHeight(e)?qt.internal.getWidth(e)/4:qt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*qt.internal.Bezier_C).toFixed(5)),s=Number((r*qt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+If(qt.internal.getWidth(e)/2)+" "+If(qt.internal.getHeight(e)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+If(qt.internal.getWidth(e)/2)+" "+If(qt.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n},OffPushDown:function(e){var n=oc(e);n.scope=e.scope;var t=[],r=qt.internal.getWidth(e)<=qt.internal.getHeight(e)?qt.internal.getWidth(e)/4:qt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*qt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+If(qt.internal.getWidth(e)/2)+" "+If(qt.internal.getHeight(e)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n}},Cross:{createAppearanceStream:function(e){var n={D:{Off:qt.RadioButton.Cross.OffPushDown},N:{}};return n.N[e]=qt.RadioButton.Cross.YesNormal,n.D[e]=qt.RadioButton.Cross.YesPushDown,n},getCA:function(){return"8"},YesNormal:function(e){var n=oc(e);n.scope=e.scope;var t=[],r=qt.internal.calculateCross(e);return t.push("q"),t.push("1 1 "+Sn(qt.internal.getWidth(e)-2)+" "+Sn(qt.internal.getHeight(e)-2)+" re"),t.push("W"),t.push("n"),t.push(Sn(r.x1.x)+" "+Sn(r.x1.y)+" m"),t.push(Sn(r.x2.x)+" "+Sn(r.x2.y)+" l"),t.push(Sn(r.x4.x)+" "+Sn(r.x4.y)+" m"),t.push(Sn(r.x3.x)+" "+Sn(r.x3.y)+" l"),t.push("s"),t.push("Q"),n.stream=t.join(`
`),n},YesPushDown:function(e){var n=oc(e);n.scope=e.scope;var t=qt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Sn(qt.internal.getWidth(e))+" "+Sn(qt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Sn(qt.internal.getWidth(e)-2)+" "+Sn(qt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Sn(t.x1.x)+" "+Sn(t.x1.y)+" m"),r.push(Sn(t.x2.x)+" "+Sn(t.x2.y)+" l"),r.push(Sn(t.x4.x)+" "+Sn(t.x4.y)+" m"),r.push(Sn(t.x3.x)+" "+Sn(t.x3.y)+" l"),r.push("s"),r.push("Q"),n.stream=r.join(`
`),n},OffPushDown:function(e){var n=oc(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Sn(qt.internal.getWidth(e))+" "+Sn(qt.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join(`
`),n}}},createDefaultAppearanceStream:function(e){var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,t=e.scope.__private__.encodeColorString(e.color);return"/"+n+" "+e.fontSize+" Tf "+t}};qt.internal={Bezier_C:.551915024494,calculateCross:function(e){var n=qt.internal.getWidth(e),t=qt.internal.getHeight(e),r=Math.min(n,t);return{x1:{x:(n-r)/2,y:(t-r)/2+r},x2:{x:(n-r)/2+r,y:(t-r)/2},x3:{x:(n-r)/2,y:(t-r)/2},x4:{x:(n-r)/2+r,y:(t-r)/2+r}}}},qt.internal.getWidth=function(e){var n=0;return Zr(e)==="object"&&(n=X8(e.Rect[2])),n},qt.internal.getHeight=function(e){var n=0;return Zr(e)==="object"&&(n=X8(e.Rect[3])),n};var vK=Qi.addField=function(e){if(xK(this,e),!(e instanceof Nu))throw new Error("Invalid argument passed to jsPDF.addField.");var n;return(n=e).scope.internal.acroformPlugin.printedOut&&(n.scope.internal.acroformPlugin.printedOut=!1,n.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),n.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(n),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Qi.AcroFormChoiceField=$0,Qi.AcroFormListBox=H0,Qi.AcroFormComboBox=W0,Qi.AcroFormEditBox=ux,Qi.AcroFormButton=Ka,Qi.AcroFormPushButton=cx,Qi.AcroFormRadioButton=Y0,Qi.AcroFormCheckBox=dx,Qi.AcroFormTextField=sp,Qi.AcroFormPasswordField=fx,Qi.AcroFormAppearance=qt,Qi.AcroForm={ChoiceField:$0,ListBox:H0,ComboBox:W0,EditBox:ux,Button:Ka,PushButton:cx,RadioButton:Y0,CheckBox:dx,TextField:sp,PasswordField:fx,Appearance:qt},on.AcroForm={ChoiceField:$0,ListBox:H0,ComboBox:W0,EditBox:ux,Button:Ka,PushButton:cx,RadioButton:Y0,CheckBox:dx,TextField:sp,PasswordField:fx,Appearance:qt};on.AcroForm;function uI(e){return e.reduce(function(n,t,r){return n[t]=r,n},{})}(function(e){e.__addimage__={};var n="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(T,O){var P,j,G,W,K,ie=n;if((O=O||n)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(q(T))for(K in t)for(G=t[K],P=0;P<G.length;P+=1){for(W=!0,j=0;j<G[P].length;j+=1)if(G[P][j]!==void 0&&G[P][j]!==T[j]){W=!1;break}if(W===!0){ie=K;break}}else for(K in t)for(G=t[K],P=0;P<G.length;P+=1){for(W=!0,j=0;j<G[P].length;j+=1)if(G[P][j]!==void 0&&G[P][j]!==T.charCodeAt(j)){W=!1;break}if(W===!0){ie=K;break}}return ie===n&&O!==n&&(ie=O),ie},i=function T(O){for(var P=this.internal.write,j=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:O.width}),W.push({key:"Height",value:O.height}),O.colorSpace===A.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===A.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var K="",ie=0,ce=O.transparency.length;ie<ce;ie++)K+=O.transparency[ie]+" "+O.transparency[ie]+" ";W.push({key:"Mask",value:"["+K+"]"})}O.sMask!==void 0&&W.push({key:"SMask",value:O.objectId+1+" 0 R"});var $=O.filter!==void 0?["/"+O.filter]:void 0;if(j({data:O.data,additionalKeyValues:W,alreadyAppliedFilters:$,objectId:O.objectId}),P("endobj"),"sMask"in O&&O.sMask!==void 0){var ae="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,U={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:ae,data:O.sMask};"filter"in O&&(U.filter=O.filter),T.call(this,U)}if(O.colorSpace===A.INDEXED){var z=this.internal.newObject();j({data:L(new Uint8Array(O.palette)),objectId:z}),P("endobj")}},a=function(){var T=this.internal.collections.addImage_images;for(var O in T)i.call(this,T[O])},s=function(){var T,O=this.internal.collections.addImage_images,P=this.internal.write;for(var j in O)P("/I"+(T=O[j]).index,T.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},u=function(){var T=this.internal.collections.addImage_images;return l.call(this),T},d=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(T){return typeof e["process"+T.toUpperCase()]=="function"},g=function(T){return Zr(T)==="object"&&T.nodeType===1},b=function(T,O){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var P=""+T.getAttribute("src");if(P.indexOf("data:image/")===0)return rg(unescape(P).split("base64,").pop());var j=e.loadFile(P,!0);if(j!==void 0)return j}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var G;switch(O){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;case"JPEG":case"JPG":default:G="image/jpeg"}return rg(T.toDataURL(G,1).split("base64,").pop())}},m=function(T){var O=this.internal.collections.addImage_images;if(O){for(var P in O)if(T===O[P].alias)return O[P]}},x=function(T,O,P){return T||O||(T=-96,O=-96),T<0&&(T=-1*P.width*72/T/this.internal.scaleFactor),O<0&&(O=-1*P.height*72/O/this.internal.scaleFactor),T===0&&(T=O*P.width/P.height),O===0&&(O=T*P.height/P.width),[T,O]},y=function(T,O,P,j,G,W){var K=x.call(this,P,j,G),ie=this.internal.getCoordinateString,ce=this.internal.getVerticalCoordinateString,$=u.call(this);if(P=K[0],j=K[1],$[G.index]=G,W){W*=Math.PI/180;var ae=Math.cos(W),U=Math.sin(W),z=function(ee){return ee.toFixed(4)},Z=[z(ae),z(U),z(-1*U),z(ae),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,ie(T),ce(O+j),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([ie(P),"0","0",ie(j),"0","0","cm"].join(" "))):this.internal.write([ie(P),"0","0",ie(j),ie(T),ce(O+j),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},A=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=e.__addimage__.sHashCode=function(T){var O,P,j=0;if(typeof T=="string")for(P=T.length,O=0;O<P;O++)j=(j<<5)-j+T.charCodeAt(O),j|=0;else if(q(T))for(P=T.byteLength/2,O=0;O<P;O++)j=(j<<5)-j+T[O],j|=0;return j},N=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var O=!0;return T.length===0&&(O=!1),T.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(O=!1),O},R=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var O=T.indexOf(",");return O<0?null:T.substring(0,O).trim().endsWith("base64")?T.substring(O+1):null},F=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(T){return F()&&T instanceof ArrayBuffer};var q=e.__addimage__.isArrayBufferView=function(T){return F()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},k=e.__addimage__.binaryStringToUint8Array=function(T){for(var O=T.length,P=new Uint8Array(O),j=0;j<O;j++)P[j]=T.charCodeAt(j);return P},L=e.__addimage__.arrayBufferToBinaryString=function(T){for(var O="",P=q(T)?T:new Uint8Array(T),j=0;j<P.length;j+=8192)O+=String.fromCharCode.apply(null,P.subarray(j,j+8192));return O};e.addImage=function(){var T,O,P,j,G,W,K,ie,ce;if(typeof arguments[1]=="number"?(O=n,P=arguments[1],j=arguments[2],G=arguments[3],W=arguments[4],K=arguments[5],ie=arguments[6],ce=arguments[7]):(O=arguments[1],P=arguments[2],j=arguments[3],G=arguments[4],W=arguments[5],K=arguments[6],ie=arguments[7],ce=arguments[8]),Zr(T=arguments[0])==="object"&&!g(T)&&"imageData"in T){var $=T;T=$.imageData,O=$.format||O||n,P=$.x||P||0,j=$.y||j||0,G=$.w||$.width||G,W=$.h||$.height||W,K=$.alias||K,ie=$.compression||ie,ce=$.rotation||$.angle||ce}var ae=this.internal.getFilters();if(ie===void 0&&ae.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(P)||isNaN(j))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var U=B.call(this,T,O,K,ie);return y.call(this,P,j,G,W,U,ce),this};var B=function(T,O,P,j){var G,W,K;if(typeof T=="string"&&r(T)===n){T=unescape(T);var ie=X(T,!1);(ie!==""||(ie=e.loadFile(T,!0))!==void 0)&&(T=ie)}if(g(T)&&(T=b(T,O)),O=r(T,O),!f(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((K=P)==null||K.length===0)&&(P=function(ce){return typeof ce=="string"||q(ce)?C(ce):q(ce.data)?C(ce.data):null}(T)),(G=m.call(this,P))||(F()&&(T instanceof Uint8Array||O==="RGBA"||(W=T,T=k(T))),G=this["process"+O.toUpperCase()](T,d.call(this),P,function(ce){return ce&&typeof ce=="string"&&(ce=ce.toUpperCase()),ce in e.image_compression?ce:w.NONE}(j),W)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},X=e.__addimage__.convertBase64ToBinaryString=function(T,O){O=typeof O!="boolean"||O;var P,j="";if(typeof T=="string"){var G;P=(G=R(T))!==null&&G!==void 0?G:T;try{j=rg(P)}catch(W){if(O)throw N(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return j};e.getImageProperties=function(T){var O,P,j="";if(g(T)&&(T=b(T)),typeof T=="string"&&r(T)===n&&((j=X(T,!1))===""&&(j=e.loadFile(T)||""),T=j),P=r(T),!f(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(!F()||T instanceof Uint8Array||(T=k(T)),!(O=this["process"+P.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=P,O}})(on.API),function(e){var n=function(t){if(t!==void 0&&t!="")return!0};on.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(t){for(var r,i,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,f=!1,g=0;g<d.length&&!f;g++)switch((r=d[g]).type){case"link":(n(r.options.url)||n(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var b=0;b<d.length;b++){r=d[b];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(y.objId),C=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+m(w(r.contents))+")",a+=" /Popup "+A.objId+" 0 R",a+=" /P "+u.objId+" 0 R",a+=" /T ("+m(w(C))+") >>",y.content=a;var N=y.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+N,r.open&&(a+=" /Open true"),a+=" >>",A.content=a,this.internal.write(y.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(x(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var F=this.annotations._nameMap[r.options.name];r.options.pageNumber=F.page,r.options.top=F.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var q=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+q+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},e.link=function(t,r,i,a,s){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(t),y:d(r),w:u(t+i),h:d(r+a)},options:s,type:"link"})},e.textWithLink=function(t,r,i,a){var s,l,u=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var f=this.splitTextToSize(t,l).length;s=Math.ceil(d*f)}else l=u,s=d;return this.text(t,r,i,a),i+=.2*d,a.align==="center"&&(r-=u/2),a.align==="right"&&(r-=u),this.link(r,i-d,l,s,a),u},e.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(on.API),function(e){var n={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(y){return n[y.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},l=e.__arabicParser__.isArabicEndLetter=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(y){return s(y)&&i.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length==4},g=e.__arabicParser__.resolveLigatures=function(y){var A=0,w=t,C="",N=0;for(A=0;A<y.length;A+=1)w[y.charCodeAt(A)]!==void 0?(N++,typeof(w=w[y.charCodeAt(A)])=="number"&&(C+=String.fromCharCode(w),w=t,N=0),A===y.length-1&&(w=t,C+=y.charAt(A-(N-1)),A-=N-1,N=0)):(w=t,C+=y.charAt(A-N),A-=N,N=0);return C};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var b=e.__arabicParser__.getCorrectForm=function(y,A,w){return s(y)?a(y)===!1?-1:!d(y)||!s(A)&&!s(w)||!s(w)&&l(A)||l(y)&&!s(A)||l(y)&&u(A)||l(y)&&l(A)?0:f(y)&&s(A)&&!l(A)&&s(w)&&d(w)?3:l(y)||!s(w)?1:2:-1},m=function(y){var A=0,w=0,C=0,N="",R="",F="",q=(y=y||"").split("\\s+"),k=[];for(A=0;A<q.length;A+=1){for(k.push(""),w=0;w<q[A].length;w+=1)N=q[A][w],R=q[A][w-1],F=q[A][w+1],s(N)?(C=b(N,R,F),k[A]+=C!==-1?String.fromCharCode(n[N.charCodeAt(0)][C]):N):k[A]+=N;k[A]=g(k[A])}return k.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var y,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(A)){var C=0;for(w=[],C=0;C<A.length;C+=1)Array.isArray(A[C])?w.push([m(A[C][0]),A[C][1],A[C][2]]):w.push([m(A[C])]);y=w}else y=m(A);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",x])}(on.API),on.API.autoPrint=function(e){var n;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+n+" 0 R")})}return this},function(e){var n=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};n.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},n.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new n,this.canvas.pdf=this}])}(on.API),function(e){var n={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},n),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(y){b=y}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(y){x=y}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,d){r.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),g=d.font||this.getFont(),b=d.scaleFactor||this.internal.scaleFactor,m=0,x=0,y=0,A=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var w=d.maxWidth;w>0?typeof u=="string"?u=this.splitTextToSize(u,w):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(N,R){return N.concat(A.splitTextToSize(R,w))},[])):u=Array.isArray(u)?u:[u];for(var C=0;C<u.length;C++)m<(y=this.getStringUnitWidth(u[C],{font:g})*f)&&(m=y);return m!==0&&(x=u.length),{w:m/=b,h:Math.max((x*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/b,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||n;return this.internal.__cell__.lastCell=new a(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var u;u=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,g=this.internal.__cell__.margins||n,b=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=g.top,m&&b&&(this.printHeaderRow(u.lineNumber,!0),u.y+=b[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};e.table=function(u,d,f,g,b){if(r.call(this),!f)throw new Error("No data for PDF table.");var m,x,y,A,w=[],C=[],N=[],R={},F={},q=[],k=[],L=(b=b||{}).autoSize||!1,B=b.printHeaders!==!1,X=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,T=b.margins||Object.assign({width:this.getPageWidth()},n),O=typeof b.padding=="number"?b.padding:3,P=b.headerBackgroundColor||"#c8c8c8",j=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=j,this.setFontSize(X),g==null)C=w=Object.keys(f[0]),N=w.map(function(){return"left"});else if(Array.isArray(g)&&Zr(g[0])==="object")for(w=g.map(function($){return $.name}),C=g.map(function($){return $.prompt||$.name||""}),N=g.map(function($){return $.align||"left"}),m=0;m<g.length;m+=1)F[g[m].name]=g[m].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(C=w=g,N=w.map(function(){return"left"}));if(L||Array.isArray(g)&&typeof g[0]=="string")for(m=0;m<w.length;m+=1){for(R[A=w[m]]=f.map(function($){return $[A]}),this.setFont(void 0,"bold"),q.push(this.getTextDimensions(C[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=R[A],this.setFont(void 0,"normal"),y=0;y<x.length;y+=1)q.push(this.getTextDimensions(x[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[A]=Math.max.apply(null,q)+O+O,q=[]}if(B){var G={};for(m=0;m<w.length;m+=1)G[w[m]]={},G[w[m]].text=C[m],G[w[m]].align=N[m];var W=l.call(this,G,F);k=w.map(function($){return new a(u,d,F[$],W,G[$].text,void 0,G[$].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var K=g.reduce(function($,ae){return $[ae.name]=ae.align,$},{});for(m=0;m<f.length;m+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:m,data:f[m]},this);var ie=l.call(this,f[m],F);for(y=0;y<w.length;y+=1){var ce=f[m][w[y]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:m,col:y,data:ce},this),s.call(this,new a(u,d,F[w[y]],ie,ce,m+2,K[w[y]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var l=function(u,d){var f=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(u).map(function(m){var x=u[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[m]-f-f)},this).map(function(m){return this.getLineHeightFactor()*m.length*g/b+f+f},this).reduce(function(m,x){return Math.max(m,x)},0)};e.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){f=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,b.push(f)),f.lineNumber=u;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,f),this.setTextColor(x)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),t=!1}}(on.API);var cI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},dI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],HS=uI(dI),fI=[100,200,300,400,500,600,700,800,900],wK=uI(fI);function WS(e){var n=e.family.replace(/"|'/g,"").toLowerCase(),t=function(a){return cI[a=a||"normal"]?a:"normal"}(e.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(a){return typeof HS[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:n,style:t,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:n,style:[i,t,r].join(" ")}}}function Z8(e,n,t,r){var i;for(i=t;i>=0&&i<n.length;i+=r)if(e[n[i]])return e[n[i]];for(i=t;i>=0&&i<n.length;i-=r)if(e[n[i]])return e[n[i]]}var SK={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},J8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function e4(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function AK(e,n,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},SK,t.genericFontFamilies||{}),a=null,s=null,l=0;l<n.length;++l)if(i[(a=WS(n[l])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){s=e[a.family];break}if(!(s=s||e[r]))throw new Error("Could not find a font-family for the rule '"+e4(a)+"' and default family '"+r+"'.");if(s=function(u,d){if(d[u])return d[u];var f=HS[u],g=f<=HS.normal?-1:1,b=Z8(d,dI,f,g);if(!b)throw new Error("Could not find a matching font-stretch value for "+u);return b}(a.stretch,s),s=function(u,d){if(d[u])return d[u];for(var f=cI[u],g=0;g<f.length;++g)if(d[f[g]])return d[f[g]];throw new Error("Could not find a matching font-style for "+u)}(a.style,s),!(s=function(u,d){if(d[u])return d[u];if(u===400&&d[500])return d[500];if(u===500&&d[400])return d[400];var f=wK[u],g=Z8(d,fI,f,u<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+u);return g}(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+e4(a)+"'.");return s}function t4(e){return e.trimLeft()}function CK(e,n){for(var t=0;t<e.length;){if(e.charAt(t)===n)return[e.substring(0,t),e.substring(t+1)];t+=1}return null}function EK(e){var n=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return n===null?null:[n[0],e.substring(n[0].length)]}var qy,n4,r4,gw=["times"];(function(e){var n,t,r,i,a,s,l,u,d,f=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new u,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new s,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new s,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new g(this),n=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,d=new f}]);var g=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=U;Object.defineProperty(this,"pdf",{get:function(){return z}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(Se){Z=!!Se}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(Se){ee=!!Se}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(Se){isNaN(Se)||(oe=Se)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(Se){isNaN(Se)||(we=Se)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Se){var te;typeof Se=="number"?te=[Se,Se,Se,Se]:((te=new Array(4))[0]=Se[0],te[1]=Se.length>=2?Se[1]:te[0],te[2]=Se.length>=3?Se[2]:te[0],te[3]=Se.length>=4?Se[3]:te[1]),d.margin=te}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(Se){xe=Se}});var Ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ee},set:function(Se){Ee=Se}});var De=[];Object.defineProperty(this,"pageBreaks",{get:function(){return De},set:function(Se){De=Se}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Se){Se instanceof f&&(d=Se)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Se){d.path=Se}});var Me=[];Object.defineProperty(this,"ctxStack",{get:function(){return Me},set:function(Se){Me=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var te;te=b(Se),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var te=b(Se);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){["butt","round","square"].indexOf(Se)!==-1&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){["bevel","round","miter"].indexOf(Se)!==-1&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){["right","end","center","left","start"].indexOf(Se)!==-1&&(this.ctx.textAlign=Se)}});var We=null;function Ye(Se,te){if(We===null){var be=function(de){var Ae=[];return Object.keys(de).forEach(function(Le){de[Le].forEach(function(qe){var Ne=null;switch(qe){case"bold":Ne={family:Le,weight:"bold"};break;case"italic":Ne={family:Le,style:"italic"};break;case"bolditalic":Ne={family:Le,weight:"bold",style:"italic"};break;case"":case"normal":Ne={family:Le}}Ne!==null&&(Ne.ref={name:Le,style:qe},Ae.push(Ne))})}),Ae}(Se.getFontList());We=function(de){for(var Ae={},Le=0;Le<de.length;++Le){var qe=WS(de[Le]),Ne=qe.family,Xe=qe.stretch,ut=qe.style,nt=qe.weight;Ae[Ne]=Ae[Ne]||{},Ae[Ne][Xe]=Ae[Ne][Xe]||{},Ae[Ne][Xe][ut]=Ae[Ne][Xe][ut]||{},Ae[Ne][Xe][ut][nt]=qe}return Ae}(be.concat(te))}return We}var Y=null;Object.defineProperty(this,"fontFaces",{get:function(){return Y},set:function(Se){We=null,Y=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var te;if(this.ctx.font=Se,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))!==null){var be=te[1];te[2];var de=te[3],Ae=te[4];te[5];var Le=te[6],qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ae)[2];Ae=Math.floor(qe==="px"?parseFloat(Ae)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(Ae)*this.pdf.getFontSize():parseFloat(Ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ae);var Ne=function(je){var ft,Je,Ft=[],kt=je.trim();if(kt==="")return gw;if(kt in J8)return[J8[kt]];for(;kt!=="";){switch(Je=null,ft=(kt=t4(kt)).charAt(0)){case'"':case"'":Je=CK(kt.substring(1),ft);break;default:Je=EK(kt)}if(Je===null||(Ft.push(Je[0]),(kt=t4(Je[1]))!==""&&kt.charAt(0)!==","))return gw;kt=kt.replace(/^,/,"")}return Ft}(Le);if(this.fontFaces){var Xe=AK(Ye(this.pdf,this.fontFaces),Ne.map(function(je){return{family:je,stretch:"normal",weight:de,style:be}}));this.pdf.setFont(Xe.ref.name,Xe.ref.style)}else{var ut="";(de==="bold"||parseInt(de,10)>=700||be==="bold")&&(ut="bold"),be==="italic"&&(ut+="italic"),ut.length===0&&(ut="normal");for(var nt="",Pe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ve=0;ve<Ne.length;ve++){if(this.pdf.internal.getFont(Ne[ve],ut,{noFallback:!0,disableWarning:!0})!==void 0){nt=Ne[ve];break}if(ut==="bolditalic"&&this.pdf.internal.getFont(Ne[ve],"bold",{noFallback:!0,disableWarning:!0})!==void 0)nt=Ne[ve],ut="bold";else if(this.pdf.internal.getFont(Ne[ve],"normal",{noFallback:!0,disableWarning:!0})!==void 0){nt=Ne[ve],ut="normal";break}}if(nt===""){for(var ke=0;ke<Ne.length;ke++)if(Pe[Ne[ke]]){nt=Pe[Ne[ke]];break}}nt=nt===""?"Times":nt,this.pdf.setFont(nt,ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};g.prototype.setLineDash=function(U){this.lineDash=U},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){R.call(this,"fill",!1)},g.prototype.stroke=function(){R.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(U,z){if(isNaN(U)||isNaN(z))throw Xr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new s(U,z));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(U,z)},g.prototype.closePath=function(){var U=new s(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Zr(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){U=new s(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(U.x,U.y)},g.prototype.lineTo=function(U,z){if(isNaN(U)||isNaN(z))throw Xr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new s(U,z));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(Z.x,Z.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},g.prototype.quadraticCurveTo=function(U,z,Z,ee){if(isNaN(Z)||isNaN(ee)||isNaN(U)||isNaN(z))throw Xr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new s(Z,ee)),we=this.ctx.transform.applyToPoint(new s(U,z));this.path.push({type:"qct",x1:we.x,y1:we.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new s(oe.x,oe.y)},g.prototype.bezierCurveTo=function(U,z,Z,ee,oe,we){if(isNaN(oe)||isNaN(we)||isNaN(U)||isNaN(z)||isNaN(Z)||isNaN(ee))throw Xr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new s(oe,we)),Ee=this.ctx.transform.applyToPoint(new s(U,z)),De=this.ctx.transform.applyToPoint(new s(Z,ee));this.path.push({type:"bct",x1:Ee.x,y1:Ee.y,x2:De.x,y2:De.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new s(xe.x,xe.y)},g.prototype.arc=function(U,z,Z,ee,oe,we){if(isNaN(U)||isNaN(z)||isNaN(Z)||isNaN(ee)||isNaN(oe))throw Xr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new s(U,z));U=xe.x,z=xe.y;var Ee=this.ctx.transform.applyToPoint(new s(0,Z)),De=this.ctx.transform.applyToPoint(new s(0,0));Z=Math.sqrt(Math.pow(Ee.x-De.x,2)+Math.pow(Ee.y-De.y,2))}Math.abs(oe-ee)>=2*Math.PI&&(ee=0,oe=2*Math.PI),this.path.push({type:"arc",x:U,y:z,radius:Z,startAngle:ee,endAngle:oe,counterclockwise:we})},g.prototype.arcTo=function(U,z,Z,ee,oe){throw new Error("arcTo not implemented.")},g.prototype.rect=function(U,z,Z,ee){if(isNaN(U)||isNaN(z)||isNaN(Z)||isNaN(ee))throw Xr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,z),this.lineTo(U+Z,z),this.lineTo(U+Z,z+ee),this.lineTo(U,z+ee),this.lineTo(U,z),this.lineTo(U+Z,z),this.lineTo(U,z)},g.prototype.fillRect=function(U,z,Z,ee){if(isNaN(U)||isNaN(z)||isNaN(Z)||isNaN(ee))throw Xr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,z,Z,ee),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},g.prototype.strokeRect=function(U,z,Z,ee){if(isNaN(U)||isNaN(z)||isNaN(Z)||isNaN(ee))throw Xr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(U,z,Z,ee),this.stroke())},g.prototype.clearRect=function(U,z,Z,ee){if(isNaN(U)||isNaN(z)||isNaN(Z)||isNaN(ee))throw Xr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,z,Z,ee))},g.prototype.save=function(U){U=typeof U!="boolean"||U;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},g.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(z),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(U){var z,Z,ee,oe;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))z=0,Z=0,ee=0,oe=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(we!==null)z=parseInt(we[1]),Z=parseInt(we[2]),ee=parseInt(we[3]),oe=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)z=parseInt(we[1]),Z=parseInt(we[2]),ee=parseInt(we[3]),oe=parseFloat(we[4]);else{if(oe=1,typeof U=="string"&&U.charAt(0)!=="#"){var xe=new rI(U);U=xe.ok?xe.toHex():"#000000"}U.length===4?(z=U.substring(1,2),z+=z,Z=U.substring(2,3),Z+=Z,ee=U.substring(3,4),ee+=ee):(z=U.substring(1,3),Z=U.substring(3,5),ee=U.substring(5,7)),z=parseInt(z,16),Z=parseInt(Z,16),ee=parseInt(ee,16)}}return{r:z,g:Z,b:ee,a:oe,style:U}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(U,z,Z,ee){if(isNaN(z)||isNaN(Z)||typeof U!="string")throw Xr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!m.call(this)){var oe=ie(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;O.call(this,{text:U,x:z,y:Z,scale:we,angle:oe,align:this.textAlign,maxWidth:ee})}},g.prototype.strokeText=function(U,z,Z,ee){if(isNaN(z)||isNaN(Z)||typeof U!="string")throw Xr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){ee=isNaN(ee)?void 0:ee;var oe=ie(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;O.call(this,{text:U,x:z,y:Z,scale:we,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:ee})}},g.prototype.measureText=function(U){if(typeof U!="string")throw Xr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,Z=this.pdf.internal.scaleFactor,ee=z.internal.getFontSize(),oe=z.getStringUnitWidth(U)*ee/z.internal.scaleFactor,we=function(xe){var Ee=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this};return new we({width:oe*=Math.round(96*Z/72*1e4)/1e4})},g.prototype.scale=function(U,z){if(isNaN(U)||isNaN(z))throw Xr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new u(U,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},g.prototype.rotate=function(U){if(isNaN(U))throw Xr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new u(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},g.prototype.translate=function(U,z){if(isNaN(U)||isNaN(z))throw Xr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new u(1,0,0,1,U,z);this.ctx.transform=this.ctx.transform.multiply(Z)},g.prototype.transform=function(U,z,Z,ee,oe,we){if(isNaN(U)||isNaN(z)||isNaN(Z)||isNaN(ee)||isNaN(oe)||isNaN(we))throw Xr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new u(U,z,Z,ee,oe,we);this.ctx.transform=this.ctx.transform.multiply(xe)},g.prototype.setTransform=function(U,z,Z,ee,oe,we){U=isNaN(U)?1:U,z=isNaN(z)?0:z,Z=isNaN(Z)?0:Z,ee=isNaN(ee)?1:ee,oe=isNaN(oe)?0:oe,we=isNaN(we)?0:we,this.ctx.transform=new u(U,z,Z,ee,oe,we)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(U,z,Z,ee,oe,we,xe,Ee,De){var Me=this.pdf.getImageProperties(U),We=1,Ye=1,Y=1,Se=1;ee!==void 0&&Ee!==void 0&&(Y=Ee/ee,Se=De/oe,We=Me.width/ee*Ee/ee,Ye=Me.height/oe*De/oe),we===void 0&&(we=z,xe=Z,z=0,Z=0),ee!==void 0&&Ee===void 0&&(Ee=ee,De=oe),ee===void 0&&Ee===void 0&&(Ee=Me.width,De=Me.height);for(var te,be=this.ctx.transform.decompose(),de=ie(be.rotate.shx),Ae=new u,Le=(Ae=(Ae=(Ae=Ae.multiply(be.translate)).multiply(be.skew)).multiply(be.scale)).applyToRectangle(new l(we-z*Y,xe-Z*Se,ee*We,oe*Ye)),qe=A.call(this,Le),Ne=[],Xe=0;Xe<qe.length;Xe+=1)Ne.indexOf(qe[Xe])===-1&&Ne.push(qe[Xe]);if(N(Ne),this.autoPaging)for(var ut=Ne[0],nt=Ne[Ne.length-1],Pe=ut;Pe<nt+1;Pe++){this.pdf.setPage(Pe);var ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ke=Pe===1?this.posY+this.margin[0]:this.margin[0],je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Je=Pe===1?0:je+(Pe-2)*ft;if(this.ctx.clip_path.length!==0){var Ft=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(te,this.posX+this.margin[3],-Je+ke+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=Ft}var kt=JSON.parse(JSON.stringify(Le));kt=C([kt],this.posX+this.margin[3],-Je+ke+this.ctx.prevPageLastElemOffset)[0];var Vt=(Pe>ut||Pe<nt)&&y.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ve,ft,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",kt.x,kt.y,kt.w,kt.h,null,null,de),Vt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,de)};var A=function(U,z,Z){var ee=[];z=z||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":ee.push(Math.floor((U.y+oe)/Z)+1);break;case"arc":ee.push(Math.floor((U.y+oe-U.radius)/Z)+1),ee.push(Math.floor((U.y+oe+U.radius)/Z)+1);break;case"qct":var we=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);ee.push(Math.floor((we.y+oe)/Z)+1),ee.push(Math.floor((we.y+we.h+oe)/Z)+1);break;case"bct":var xe=$(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);ee.push(Math.floor((xe.y+oe)/Z)+1),ee.push(Math.floor((xe.y+xe.h+oe)/Z)+1);break;case"rect":ee.push(Math.floor((U.y+oe)/Z)+1),ee.push(Math.floor((U.y+U.h+oe)/Z)+1)}for(var Ee=0;Ee<ee.length;Ee+=1)for(;this.pdf.internal.getNumberOfPages()<ee[Ee];)w.call(this);return ee},w=function(){var U=this.fillStyle,z=this.strokeStyle,Z=this.font,ee=this.lineCap,oe=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=z,this.font=Z,this.lineCap=ee,this.lineWidth=oe,this.lineJoin=we},C=function(U,z,Z){for(var ee=0;ee<U.length;ee++)switch(U[ee].type){case"bct":U[ee].x2+=z,U[ee].y2+=Z;case"qct":U[ee].x1+=z,U[ee].y1+=Z;case"mt":case"lt":case"arc":default:U[ee].x+=z,U[ee].y+=Z}return U},N=function(U){return U.sort(function(z,Z){return z-Z})},R=function(U,z){for(var Z,ee,oe=this.fillStyle,we=this.strokeStyle,xe=this.lineCap,Ee=this.lineWidth,De=Math.abs(Ee*this.ctx.transform.scaleX),Me=this.lineJoin,We=JSON.parse(JSON.stringify(this.path)),Ye=JSON.parse(JSON.stringify(this.path)),Y=[],Se=0;Se<Ye.length;Se++)if(Ye[Se].x!==void 0)for(var te=A.call(this,Ye[Se]),be=0;be<te.length;be+=1)Y.indexOf(te[be])===-1&&Y.push(te[be]);for(var de=0;de<Y.length;de++)for(;this.pdf.internal.getNumberOfPages()<Y[de];)w.call(this);if(N(Y),this.autoPaging)for(var Ae=Y[0],Le=Y[Y.length-1],qe=Ae;qe<Le+1;qe++){this.pdf.setPage(qe),this.fillStyle=oe,this.strokeStyle=we,this.lineCap=xe,this.lineWidth=De,this.lineJoin=Me;var Ne=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xe=qe===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pe=qe===1?0:ut+(qe-2)*nt;if(this.ctx.clip_path.length!==0){var ve=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Z,this.posX+this.margin[3],-Pe+Xe+this.ctx.prevPageLastElemOffset),F.call(this,U,!0),this.path=ve}if(ee=JSON.parse(JSON.stringify(We)),this.path=C(ee,this.posX+this.margin[3],-Pe+Xe+this.ctx.prevPageLastElemOffset),z===!1||qe===0){var ke=(qe>Ae||qe<Le)&&y.call(this);ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ne,nt,null).clip().discardPath()),F.call(this,U,z),ke&&this.pdf.restoreGraphicsState()}this.lineWidth=Ee}else this.lineWidth=De,F.call(this,U,z),this.lineWidth=Ee;this.path=We},F=function(U,z){if((U!=="stroke"||z||!x.call(this))&&(U==="stroke"||z||!m.call(this))){for(var Z,ee,oe=[],we=this.path,xe=0;xe<we.length;xe++){var Ee=we[xe];switch(Ee.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:Ee,deltas:[],abs:[]});break;case"lt":var De=oe.length;if(we[xe-1]&&!isNaN(we[xe-1].x)&&(Z=[Ee.x-we[xe-1].x,Ee.y-we[xe-1].y],De>0)){for(;De>=0;De--)if(oe[De-1].close!==!0&&oe[De-1].begin!==!0){oe[De-1].deltas.push(Z),oe[De-1].abs.push(Ee);break}}break;case"bct":Z=[Ee.x1-we[xe-1].x,Ee.y1-we[xe-1].y,Ee.x2-we[xe-1].x,Ee.y2-we[xe-1].y,Ee.x-we[xe-1].x,Ee.y-we[xe-1].y],oe[oe.length-1].deltas.push(Z);break;case"qct":var Me=we[xe-1].x+2/3*(Ee.x1-we[xe-1].x),We=we[xe-1].y+2/3*(Ee.y1-we[xe-1].y),Ye=Ee.x+2/3*(Ee.x1-Ee.x),Y=Ee.y+2/3*(Ee.y1-Ee.y),Se=Ee.x,te=Ee.y;Z=[Me-we[xe-1].x,We-we[xe-1].y,Ye-we[xe-1].x,Y-we[xe-1].y,Se-we[xe-1].x,te-we[xe-1].y],oe[oe.length-1].deltas.push(Z);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(Ee)}}ee=z?null:U==="stroke"?"stroke":"fill";for(var be=!1,de=0;de<oe.length;de++)if(oe[de].arc)for(var Ae=oe[de].abs,Le=0;Le<Ae.length;Le++){var qe=Ae[Le];qe.type==="arc"?L.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,z,!be):P.call(this,qe.x,qe.y),be=!0}else if(oe[de].close===!0)this.pdf.internal.out("h"),be=!1;else if(oe[de].begin!==!0){var Ne=oe[de].start.x,Xe=oe[de].start.y;j.call(this,oe[de].deltas,Ne,Xe),be=!0}ee&&B.call(this,ee),z&&X.call(this)}},q=function(U){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-Z;case"top":return U+z-Z;case"hanging":return U+z-2*Z;case"middle":return U+z/2-Z;case"ideographic":return U;case"alphabetic":default:return U}},k=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(z,Z){this.colorStops.push([z,Z])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(U,z,Z,ee,oe,we,xe,Ee,De){for(var Me=W.call(this,Z,ee,oe,we),We=0;We<Me.length;We++){var Ye=Me[We];We===0&&(De?T.call(this,Ye.x1+U,Ye.y1+z):P.call(this,Ye.x1+U,Ye.y1+z)),G.call(this,U,z,Ye.x2,Ye.y2,Ye.x3,Ye.y3,Ye.x4,Ye.y4)}Ee?X.call(this):B.call(this,xe)},B=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(U,z){this.pdf.internal.out(t(U)+" "+r(z)+" m")},O=function(U){var z;switch(U.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var Z=this.pdf.getTextDimensions(U.text),ee=q.call(this,U.y),oe=k.call(this,ee)-Z.h,we=this.ctx.transform.applyToPoint(new s(U.x,ee)),xe=this.ctx.transform.decompose(),Ee=new u;Ee=(Ee=(Ee=Ee.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var De,Me,We,Ye=this.ctx.transform.applyToRectangle(new l(U.x,ee,Z.w,Z.h)),Y=Ee.applyToRectangle(new l(U.x,oe,Z.w,Z.h)),Se=A.call(this,Y),te=[],be=0;be<Se.length;be+=1)te.indexOf(Se[be])===-1&&te.push(Se[be]);if(N(te),this.autoPaging)for(var de=te[0],Ae=te[te.length-1],Le=de;Le<Ae+1;Le++){this.pdf.setPage(Le);var qe=Le===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[2],ut=Xe-this.margin[0],nt=this.pdf.internal.pageSize.width-this.margin[1],Pe=nt-this.margin[3],ve=Le===1?0:Ne+(Le-2)*ut;if(this.ctx.clip_path.length!==0){var ke=this.path;De=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(De,this.posX+this.margin[3],-1*ve+qe),F.call(this,"fill",!0),this.path=ke}var je=C([JSON.parse(JSON.stringify(Y))],this.posX+this.margin[3],-ve+qe+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*U.scale),We=this.lineWidth,this.lineWidth=We*U.scale);var ft=this.autoPaging!=="text";if(ft||je.y+je.h<=Xe){if(ft||je.y>=qe&&je.x<=nt){var Je=ft?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||nt-je.x)[0],Ft=C([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-ve+qe+this.ctx.prevPageLastElemOffset)[0],kt=ft&&(Le>de||Le<Ae)&&y.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pe,ut,null).clip().discardPath()),this.pdf.text(Je,Ft.x,Ft.y,{angle:U.angle,align:z,renderingMode:U.renderingMode}),kt&&this.pdf.restoreGraphicsState()}}else je.y<Xe&&(this.ctx.prevPageLastElemOffset+=Xe-je.y);U.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=We)}else U.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*U.scale),We=this.lineWidth,this.lineWidth=We*U.scale),this.pdf.text(U.text,we.x+this.posX,we.y+this.posY,{angle:U.angle,align:z,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=We)},P=function(U,z,Z,ee){Z=Z||0,ee=ee||0,this.pdf.internal.out(t(U+Z)+" "+r(z+ee)+" l")},j=function(U,z,Z){return this.pdf.lines(U,z,Z,null,null)},G=function(U,z,Z,ee,oe,we,xe,Ee){this.pdf.internal.out([n(i(Z+U)),n(a(ee+z)),n(i(oe+U)),n(a(we+z)),n(i(xe+U)),n(a(Ee+z)),"c"].join(" "))},W=function(U,z,Z,ee){for(var oe=2*Math.PI,we=Math.PI/2;z>Z;)z-=oe;var xe=Math.abs(Z-z);xe<oe&&ee&&(xe=oe-xe);for(var Ee=[],De=ee?-1:1,Me=z;xe>1e-5;){var We=Me+De*Math.min(xe,we);Ee.push(K.call(this,U,Me,We)),xe-=Math.abs(We-Me),Me=We}return Ee},K=function(U,z,Z){var ee=(Z-z)/2,oe=U*Math.cos(ee),we=U*Math.sin(ee),xe=oe,Ee=-we,De=xe*xe+Ee*Ee,Me=De+xe*oe+Ee*we,We=4/3*(Math.sqrt(2*De*Me)-Me)/(xe*we-Ee*oe),Ye=xe-We*Ee,Y=Ee+We*xe,Se=Ye,te=-Y,be=ee+z,de=Math.cos(be),Ae=Math.sin(be);return{x1:U*Math.cos(z),y1:U*Math.sin(z),x2:Ye*de-Y*Ae,y2:Ye*Ae+Y*de,x3:Se*de-te*Ae,y3:Se*Ae+te*de,x4:U*Math.cos(Z),y4:U*Math.sin(Z)}},ie=function(U){return 180*U/Math.PI},ce=function(U,z,Z,ee,oe,we){var xe=U+.5*(Z-U),Ee=z+.5*(ee-z),De=oe+.5*(Z-oe),Me=we+.5*(ee-we),We=Math.min(U,oe,xe,De),Ye=Math.max(U,oe,xe,De),Y=Math.min(z,we,Ee,Me),Se=Math.max(z,we,Ee,Me);return new l(We,Y,Ye-We,Se-Y)},$=function(U,z,Z,ee,oe,we,xe,Ee){var De,Me,We,Ye,Y,Se,te,be,de,Ae,Le,qe,Ne,Xe,ut=Z-U,nt=ee-z,Pe=oe-Z,ve=we-ee,ke=xe-oe,je=Ee-we;for(Me=0;Me<41;Me++)de=(te=(We=U+(De=Me/40)*ut)+De*((Y=Z+De*Pe)-We))+De*(Y+De*(oe+De*ke-Y)-te),Ae=(be=(Ye=z+De*nt)+De*((Se=ee+De*ve)-Ye))+De*(Se+De*(we+De*je-Se)-be),Me==0?(Le=de,qe=Ae,Ne=de,Xe=Ae):(Le=Math.min(Le,de),qe=Math.min(qe,Ae),Ne=Math.max(Ne,de),Xe=Math.max(Xe,Ae));return new l(Math.round(Le),Math.round(qe),Math.round(Ne-Le),Math.round(Xe-qe))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,z,Z=(U=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:z}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(on.API),function(e){var n=function(a){var s,l,u,d,f,g,b,m,x,y;for(l=[],u=0,d=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;d>u;u+=4)(f=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(g=(f=((f=((f=((f=(f-(y=f%85))/85)-(x=f%85))/85)-(m=f%85))/85)-(b=f%85))/85)%85,l.push(g+33,b+33,m+33,x+33,y+33)):l.push(122);return function(A,w){for(var C=w;C>0;C--)A.pop()}(l,s.length),String.fromCharCode.apply(String,l)+"~>"},t=function(a){var s,l,u,d,f,g=String,b="length",m=255,x="charCodeAt",y="slice",A="replace";for(a[y](-2),a=a[y](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),u=[],d=0,f=(a+=s="uuuuu"[y](a[b]%5||5))[b];f>d;d+=5)l=52200625*(a[x](d)-33)+614125*(a[x](d+1)-33)+7225*(a[x](d+2)-33)+85*(a[x](d+3)-33)+(a[x](d+4)-33),u.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(w,C){for(var N=C;N>0;N--)w.pop()}(u,s[b]),g.fromCharCode.apply(g,u)},r=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var l="",u=0;u<a.length;u+=2)l+=String.fromCharCode("0x"+(a[u]+a[u+1]));return l},i=function(a){for(var s=new Uint8Array(a.length),l=a.length;l--;)s[l]=a.charCodeAt(l);return a=(s=zS(s)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(a,s){var l=0,u=a||"",d=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=n(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(on.API),function(e){e.loadFile=function(n,t,r){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=function(u,d,f){var g=new XMLHttpRequest,b=0,m=function(x){var y=x.length,A=[],w=String.fromCharCode;for(b=0;b<y;b+=1)A.push(w(255&x.charCodeAt(b)));return A.join("")};if(g.open("GET",u,!d),g.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(g.onload=function(){g.status===200?f(m(this.responseText)):f(void 0)}),g.send(null),d&&g.status===200)return m(g.responseText)}(i,a,s)}catch{}return l}(n,t,r)},e.loadImageFile=e.loadFile}(on.API),function(e){function n(){return(cn.html2canvas?Promise.resolve(cn.html2canvas):Li(()=>import("./html2canvas.esm-DadlvMMh.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function t(){return(cn.DOMPurify?Promise.resolve(cn.DOMPurify):Li(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var l=Zr(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(s,l){var u=document.createElement(s);for(var d in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[d]=l.style[d];return u},a=function s(l){var u=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),d=s.convert(Promise.resolve(),u);return d=(d=d.setProgress(1,s,1,[s])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,l){return s.__proto__=l||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(t).then(function(u){return this.set({src:i("div",{innerHTML:s,dompurify:u})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function u(d,f){for(var g=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),b=d.firstChild;b;b=b.nextSibling)f!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||g.appendChild(u(b,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(g.width=d.width,g.height=d.height,g.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(g.value=d.value),g.addEventListener("load",function(){g.scrollTop=d.scrollTop,g.scrollLeft=d.scrollLeft},!0)),g}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(n).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(n).then(function(l){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var b=0;b<d.length;++b){var m=d[b],x=m.src.find(function(y){return y.format==="truetype"});x&&u.addFont(x.url,m.ref.name,m.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(s,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},a.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(s){if(r(s)!=="object")return this;var l=Object.keys(s||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=s[u]};switch(u){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[u]=s[u]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(s,l){return this.then(function(){var u=s in a.template.prop?this.prop[s]:this.opt[s];return l?l(u):u})},a.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},a.prototype.setPageSize=function(s){function l(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(s=s||on.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},a.prototype.setProgress=function(s,l,u,d){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,l,u,d){return this.setProgress(s?this.progress.val+s:null,l||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(s,l){var u=this;return this.thenCore(s,l,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,d),g}).then(d,f).then(function(g){return u.updateProgress(1),g})})},a.prototype.thenCore=function(s,l,u){u=u||Promise.prototype.then,s&&(s=s.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),f=u.call(d,s,l);return a.convert(f,this.__proto__)},a.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},a.prototype.thenList=function(s){var l=this;return s.forEach(function(u){l=l.thenCore(u)}),l},a.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return a.convert(l,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then(function(){throw new Error(s)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,on.getPageSize=function(s,l,u){if(Zr(s)==="object"){var d=s;s=d.orientation,l=d.unit||l,u=d.format||u}l=l||"mm",u=u||"a4",s=(""+(s||"P")).toLowerCase();var f,g=(""+u).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var m,x=0,y=0;if(b.hasOwnProperty(g))x=b[g][1]/f,y=b[g][0]/f;else try{x=u[1],y=u[0]}catch{throw new Error("Invalid format: "+u)}if(s==="p"||s==="portrait")s="p",y>x&&(m=y,y=x,x=m);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",x>y&&(m=y,y=x,x=m)}return{width:y,height:x,unit:l,k:f,orientation:s}},e.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(WS):null;var u=new a(l);return l.worker?u:u.from(s).doCallback()}}(on.API),on.API.addJS=function(e){return r4=e,this.internal.events.subscribe("postPutResources",function(){qy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(qy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){qy!==void 0&&n4!==void 0&&this.internal.out("/Names <</JavaScript "+qy+" 0 R>>")}),this},function(e){var n;e.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],l=r.exec(s);if(l!=null){var u=l[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(a=0;a<d;a++){var g=t.internal.newObject();f.push(g);var b=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<f.length;a++)t.internal.write("(page_"+(a+1)+")"+f[a]+" 0 R");t.internal.write(" ] >>","endobj"),n=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+n+" 0 R"))}]),e.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var u=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(on.API),function(e){var n=[192,193,194,195,196,197,198,199];e.processJPEG=function(t,r,i,a,s,l){var u,d=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(u=function(g){for(var b,m=256*g.charCodeAt(4)+g.charCodeAt(5),x=g.length,y={width:0,height:0,numcomponents:1},A=4;A<x;A+=2){if(A+=m,n.indexOf(g.charCodeAt(A+1))!==-1){b=256*g.charCodeAt(A+5)+g.charCodeAt(A+6),y={width:256*g.charCodeAt(A+7)+g.charCodeAt(A+8),height:b,numcomponents:g.charCodeAt(A+9)};break}m=256*g.charCodeAt(A+2)+g.charCodeAt(A+3)}return y}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:t,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:d,index:r,alias:i}}return f}}(on.API);var p0,By,i4,a4,s4,_K=function(){var e,n,t;function r(a){var s,l,u,d,f,g,b,m,x,y,A,w,C,N;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(s=this.readUInt32(),x=(function(){var R,F;for(F=[],R=0;R<4;++R)F.push(String.fromCharCode(this.data[this.pos++]));return F}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),d=this.readUInt16()||100,g.delay=1e3*f/d,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,s-=4),a=(g!=null?g.data:void 0)||this.imgData,w=0;0<=s?w<s:w>s;0<=s?++w:--w)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((y=u-this.transparency.indexed.length)>0)for(C=0;0<=y?C<y:C>y;0<=y?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":b=(A=this.read(s)).indexOf(0),m=String.fromCharCode.apply(String,A.slice(0,b)),this.text[m]=String.fromCharCode.apply(String,A.slice(b+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var s,l;for(l=[],s=0;0<=a?s<a:s>a;0<=a?++s:--s)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var s=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*s),u=0,d=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function f(g,b,m,x){var y,A,w,C,N,R,F,q,k,L,B,X,T,O,P,j,G,W,K,ie,ce,$=Math.ceil((d.width-g)/m),ae=Math.ceil((d.height-b)/x),U=d.width==$&&d.height==ae;for(O=s*$,X=U?l:new Uint8Array(O*ae),R=a.length,T=0,A=0;T<ae&&u<R;){switch(a[u++]){case 0:for(C=G=0;G<O;C=G+=1)X[A++]=a[u++];break;case 1:for(C=W=0;W<O;C=W+=1)y=a[u++],N=C<s?0:X[A-s],X[A++]=(y+N)%256;break;case 2:for(C=K=0;K<O;C=K+=1)y=a[u++],w=(C-C%s)/s,P=T&&X[(T-1)*O+w*s+C%s],X[A++]=(P+y)%256;break;case 3:for(C=ie=0;ie<O;C=ie+=1)y=a[u++],w=(C-C%s)/s,N=C<s?0:X[A-s],P=T&&X[(T-1)*O+w*s+C%s],X[A++]=(y+Math.floor((N+P)/2))%256;break;case 4:for(C=ce=0;ce<O;C=ce+=1)y=a[u++],w=(C-C%s)/s,N=C<s?0:X[A-s],T===0?P=j=0:(P=X[(T-1)*O+w*s+C%s],j=w&&X[(T-1)*O+(w-1)*s+C%s]),F=N+P-j,q=Math.abs(F-N),L=Math.abs(F-P),B=Math.abs(F-j),k=q<=L&&q<=B?N:L<=B?P:j,X[A++]=(y+k)%256;break;default:throw new Error("Invalid filter algorithm: "+a[u-1])}if(!U){var z=((b+T*x)*d.width+g)*s,Z=T*O;for(C=0;C<$;C+=1){for(var ee=0;ee<s;ee+=1)l[z++]=X[Z++];z+=(m-1)*s}}T++}}return a=iK(a),d.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),l},r.prototype.decodePalette=function(){var a,s,l,u,d,f,g,b,m;for(l=this.palette,f=this.transparency.indexed||[],d=new Uint8Array((f.length||0)+l.length),u=0,a=0,s=g=0,b=l.length;g<b;s=g+=3)d[u++]=l[s],d[u++]=l[s+1],d[u++]=l[s+2],d[u++]=(m=f[a++])!=null?m:255;return d},r.prototype.copyToImageData=function(a,s){var l,u,d,f,g,b,m,x,y,A,w;if(u=this.colors,y=null,l=this.hasAlphaChannel,this.palette.length&&(y=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),u=4,l=!0),x=(d=a.data||a).length,g=y||s,f=b=0,u===1)for(;f<x;)m=y?4*s[f/4]:b,A=g[m++],d[f++]=A,d[f++]=A,d[f++]=A,d[f++]=l?g[m++]:255,b=m;else for(;f<x;)m=y?4*s[f/4]:b,d[f++]=g[m++],d[f++]=g[m++],d[f++]=g[m++],d[f++]=l?g[m++]:255,b=m},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(cn)==="[object Window]"){try{n=cn.document.createElement("canvas"),t=n.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var s;if(i()===!0)return t.width=a.width,t.height=a.height,t.clearRect(0,0,a.width,a.height),t.putImageData(a,0,0),(s=new Image).src=n.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var s,l,u,d,f,g,b,m;if(this.animation){for(m=[],l=f=0,g=(b=this.animation.frames).length;f<g;l=++f)s=b[l],u=a.createImageData(s.width,s.height),d=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(u,d),s.imageData=u,m.push(s.image=e(u));return m}},r.prototype.renderFrame=function(a,s){var l,u,d;return l=(u=this.animation.frames)[s],d=u[s-1],s===0&&a.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?a.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&a.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(a){var s,l,u,d,f,g,b=this;return l=0,g=this.animation,d=g.numFrames,u=g.frames,f=g.numPlays,(s=function(){var m,x;if(m=l++%d,x=u[m],b.renderFrame(a,m),d>1&&l/d<f)return b.animation._timeout=setTimeout(s,x.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var s,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,s=a.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(l=s.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),s.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function kK(e){var n=0;if(e[n++]!==71||e[n++]!==73||e[n++]!==70||e[n++]!==56||(e[n++]+1&253)!=56||e[n++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=e[n++]|e[n++]<<8,r=e[n++]|e[n++]<<8,i=e[n++],a=i>>7,s=1<<(7&i)+1;e[n++],e[n++];var l=null,u=null;a&&(l=n,u=s,n+=3*s);var d=!0,f=[],g=0,b=null,m=0,x=null;for(this.width=t,this.height=r;d&&n<e.length;)switch(e[n++]){case 33:switch(e[n++]){case 255:if(e[n]!==11||e[n+1]==78&&e[n+2]==69&&e[n+3]==84&&e[n+4]==83&&e[n+5]==67&&e[n+6]==65&&e[n+7]==80&&e[n+8]==69&&e[n+9]==50&&e[n+10]==46&&e[n+11]==48&&e[n+12]==3&&e[n+13]==1&&e[n+16]==0)n+=14,x=e[n++]|e[n++]<<8,n++;else for(n+=12;;){if(!((T=e[n++])>=0))throw Error("Invalid block size");if(T===0)break;n+=T}break;case 249:if(e[n++]!==4||e[n+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[n++];g=e[n++]|e[n++]<<8,b=e[n++],(1&y)==0&&(b=null),m=y>>2&7,n++;break;case 254:for(;;){if(!((T=e[n++])>=0))throw Error("Invalid block size");if(T===0)break;n+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[n-1].toString(16))}break;case 44:var A=e[n++]|e[n++]<<8,w=e[n++]|e[n++]<<8,C=e[n++]|e[n++]<<8,N=e[n++]|e[n++]<<8,R=e[n++],F=R>>6&1,q=1<<(7&R)+1,k=l,L=u,B=!1;R>>7&&(B=!0,k=n,L=q,n+=3*q);var X=n;for(n++;;){var T;if(!((T=e[n++])>=0))throw Error("Invalid block size");if(T===0)break;n+=T}f.push({x:A,y:w,width:C,height:N,has_local_palette:B,palette_offset:k,palette_size:L,data_offset:X,data_length:n-X,transparent_index:b,interlaced:!!F,delay:g,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[n-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return x},this.frameInfo=function(O){if(O<0||O>=f.length)throw new Error("Frame index out of range.");return f[O]},this.decodeAndBlitFrameBGRA=function(O,P){var j=this.frameInfo(O),G=j.width*j.height,W=new Uint8Array(G);o4(e,j.data_offset,W,G);var K=j.palette_offset,ie=j.transparent_index;ie===null&&(ie=256);var ce=j.width,$=t-ce,ae=ce,U=4*(j.y*t+j.x),z=4*((j.y+j.height)*t+j.x),Z=U,ee=4*$;j.interlaced===!0&&(ee+=4*t*7);for(var oe=8,we=0,xe=W.length;we<xe;++we){var Ee=W[we];if(ae===0&&(ae=ce,(Z+=ee)>=z&&(ee=4*$+4*t*(oe-1),Z=U+(ce+$)*(oe<<1),oe>>=1)),Ee===ie)Z+=4;else{var De=e[K+3*Ee],Me=e[K+3*Ee+1],We=e[K+3*Ee+2];P[Z++]=We,P[Z++]=Me,P[Z++]=De,P[Z++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(O,P){var j=this.frameInfo(O),G=j.width*j.height,W=new Uint8Array(G);o4(e,j.data_offset,W,G);var K=j.palette_offset,ie=j.transparent_index;ie===null&&(ie=256);var ce=j.width,$=t-ce,ae=ce,U=4*(j.y*t+j.x),z=4*((j.y+j.height)*t+j.x),Z=U,ee=4*$;j.interlaced===!0&&(ee+=4*t*7);for(var oe=8,we=0,xe=W.length;we<xe;++we){var Ee=W[we];if(ae===0&&(ae=ce,(Z+=ee)>=z&&(ee=4*$+4*t*(oe-1),Z=U+(ce+$)*(oe<<1),oe>>=1)),Ee===ie)Z+=4;else{var De=e[K+3*Ee],Me=e[K+3*Ee+1],We=e[K+3*Ee+2];P[Z++]=De,P[Z++]=Me,P[Z++]=We,P[Z++]=255}--ae}}}function o4(e,n,t,r){for(var i=e[n++],a=1<<i,s=a+1,l=s+1,u=i+1,d=(1<<u)-1,f=0,g=0,b=0,m=e[n++],x=new Int32Array(4096),y=null;;){for(;f<16&&m!==0;)g|=e[n++]<<f,f+=8,m===1?m=e[n++]:--m;if(f<u)break;var A=g&d;if(g>>=u,f-=u,A!==a){if(A===s)break;for(var w=A<l?A:y,C=0,N=w;N>a;)N=x[N]>>8,++C;var R=N;if(b+C+(w!==A?1:0)>r)return void Xr.log("Warning, gif stream longer than expected.");t[b++]=R;var F=b+=C;for(w!==A&&(t[b++]=R),N=w;C--;)N=x[N],t[--F]=255&N,N>>=8;y!==null&&l<4096&&(x[l++]=y<<8|R,l>=d+1&&u<12&&(++u,d=d<<1|1)),y=A}else l=s+1,d=(1<<(u=i+1))-1,y=null}return b!==r&&Xr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function bw(e){var n,t,r,i,a,s=Math.floor,l=new Array(64),u=new Array(64),d=new Array(64),f=new Array(64),g=new Array(65535),b=new Array(65535),m=new Array(64),x=new Array(64),y=[],A=0,w=7,C=new Array(64),N=new Array(64),R=new Array(64),F=new Array(256),q=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(U,z){for(var Z=0,ee=0,oe=new Array,we=1;we<=16;we++){for(var xe=1;xe<=U[we];xe++)oe[z[ee]]=[],oe[z[ee]][0]=Z,oe[z[ee]][1]=we,ee++,Z++;Z*=2}return oe}function K(U){for(var z=U[0],Z=U[1]-1;Z>=0;)z&1<<Z&&(A|=1<<w),Z--,--w<0&&(A==255?(ie(255),ie(0)):ie(A),w=7,A=0)}function ie(U){y.push(U)}function ce(U){ie(U>>8&255),ie(255&U)}function $(U,z,Z,ee,oe){for(var we,xe=oe[0],Ee=oe[240],De=function(Ae,Le){var qe,Ne,Xe,ut,nt,Pe,ve,ke,je,ft,Je=0;for(je=0;je<8;++je){qe=Ae[Je],Ne=Ae[Je+1],Xe=Ae[Je+2],ut=Ae[Je+3],nt=Ae[Je+4],Pe=Ae[Je+5],ve=Ae[Je+6];var Ft=qe+(ke=Ae[Je+7]),kt=qe-ke,Vt=Ne+ve,Rt=Ne-ve,Zt=Xe+Pe,nn=Xe-Pe,ln=ut+nt,Pn=ut-nt,zn=Ft+ln,Gr=Ft-ln,ir=Vt+Zt,Rn=Vt-Zt;Ae[Je]=zn+ir,Ae[Je+4]=zn-ir;var Gt=.707106781*(Rn+Gr);Ae[Je+2]=Gr+Gt,Ae[Je+6]=Gr-Gt;var An=.382683433*((zn=Pn+nn)-(Rn=Rt+kt)),ya=.5411961*zn+An,Sr=1.306562965*Rn+An,si=.707106781*(ir=nn+Rt),xa=kt+si,Lt=kt-si;Ae[Je+5]=Lt+ya,Ae[Je+3]=Lt-ya,Ae[Je+1]=xa+Sr,Ae[Je+7]=xa-Sr,Je+=8}for(Je=0,je=0;je<8;++je){qe=Ae[Je],Ne=Ae[Je+8],Xe=Ae[Je+16],ut=Ae[Je+24],nt=Ae[Je+32],Pe=Ae[Je+40],ve=Ae[Je+48];var Hn=qe+(ke=Ae[Je+56]),ar=qe-ke,Mr=Ne+ve,dr=Ne-ve,fr=Xe+Pe,$n=Xe-Pe,bs=ut+nt,Nr=ut-nt,Ia=Hn+bs,Pi=Hn-bs,zi=Mr+fr,Jn=Mr-fr;Ae[Je]=Ia+zi,Ae[Je+32]=Ia-zi;var Ci=.707106781*(Jn+Pi);Ae[Je+16]=Pi+Ci,Ae[Je+48]=Pi-Ci;var er=.382683433*((Ia=Nr+$n)-(Jn=dr+ar)),ro=.5411961*Ia+er,Co=1.306562965*Jn+er,Fa=.707106781*(zi=$n+dr),Fr=ar+Fa,il=ar-Fa;Ae[Je+40]=il+ro,Ae[Je+24]=il-ro,Ae[Je+8]=Fr+Co,Ae[Je+56]=Fr-Co,Je++}for(je=0;je<64;++je)ft=Ae[je]*Le[je],m[je]=ft>0?ft+.5|0:ft-.5|0;return m}(U,z),Me=0;Me<64;++Me)x[k[Me]]=De[Me];var We=x[0]-Z;Z=x[0],We==0?K(ee[0]):(K(ee[b[we=32767+We]]),K(g[we]));for(var Ye=63;Ye>0&&x[Ye]==0;)Ye--;if(Ye==0)return K(xe),Z;for(var Y,Se=1;Se<=Ye;){for(var te=Se;x[Se]==0&&Se<=Ye;)++Se;var be=Se-te;if(be>=16){Y=be>>4;for(var de=1;de<=Y;++de)K(Ee);be&=15}we=32767+x[Se],K(oe[(be<<4)+b[we]]),K(g[we]),Se++}return Ye!=63&&K(xe),Z}function ae(U){U=Math.min(Math.max(U,1),100),a!=U&&(function(z){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var oe=s((Z[ee]*z+50)/100);oe=Math.min(Math.max(oe,1),255),l[k[ee]]=oe}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var Ee=s((we[xe]*z+50)/100);Ee=Math.min(Math.max(Ee,1),255),u[k[xe]]=Ee}for(var De=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Me=0,We=0;We<8;We++)for(var Ye=0;Ye<8;Ye++)d[Me]=1/(l[k[Me]]*De[We]*De[Ye]*8),f[Me]=1/(u[k[Me]]*De[We]*De[Ye]*8),Me++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),a=U)}this.encode=function(U,z){z&&ae(z),y=new Array,A=0,w=7,ce(65496),ce(65504),ce(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),ce(1),ce(1),ie(0),ie(0),function(){ce(65499),ce(132),ie(0);for(var Ne=0;Ne<64;Ne++)ie(l[Ne]);ie(1);for(var Xe=0;Xe<64;Xe++)ie(u[Xe])}(),function(Ne,Xe){ce(65472),ce(17),ie(8),ce(Xe),ce(Ne),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)}(U.width,U.height),function(){ce(65476),ce(418),ie(0);for(var Ne=0;Ne<16;Ne++)ie(L[Ne+1]);for(var Xe=0;Xe<=11;Xe++)ie(B[Xe]);ie(16);for(var ut=0;ut<16;ut++)ie(X[ut+1]);for(var nt=0;nt<=161;nt++)ie(T[nt]);ie(1);for(var Pe=0;Pe<16;Pe++)ie(O[Pe+1]);for(var ve=0;ve<=11;ve++)ie(P[ve]);ie(17);for(var ke=0;ke<16;ke++)ie(j[ke+1]);for(var je=0;je<=161;je++)ie(G[je])}(),ce(65498),ce(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var Z=0,ee=0,oe=0;A=0,w=7,this.encode.displayName="_encode_";for(var we,xe,Ee,De,Me,We,Ye,Y,Se,te=U.data,be=U.width,de=U.height,Ae=4*be,Le=0;Le<de;){for(we=0;we<Ae;){for(Me=Ae*Le+we,Ye=-1,Y=0,Se=0;Se<64;Se++)We=Me+(Y=Se>>3)*Ae+(Ye=4*(7&Se)),Le+Y>=de&&(We-=Ae*(Le+1+Y-de)),we+Ye>=Ae&&(We-=we+Ye-Ae+4),xe=te[We++],Ee=te[We++],De=te[We++],C[Se]=(q[xe]+q[Ee+256>>0]+q[De+512>>0]>>16)-128,N[Se]=(q[xe+768>>0]+q[Ee+1024>>0]+q[De+1280>>0]>>16)-128,R[Se]=(q[xe+1280>>0]+q[Ee+1536>>0]+q[De+1792>>0]>>16)-128;Z=$(C,d,Z,n,r),ee=$(N,f,ee,t,i),oe=$(R,f,oe,t,i),we+=32}Le+=8}if(w>=0){var qe=[];qe[1]=w+1,qe[0]=(1<<w+1)-1,K(qe)}return ce(65497),new Uint8Array(y)},e=e||50,function(){for(var U=String.fromCharCode,z=0;z<256;z++)F[z]=U(z)}(),n=W(L,B),t=W(O,P),r=W(X,T),i=W(j,G),function(){for(var U=1,z=2,Z=1;Z<=15;Z++){for(var ee=U;ee<z;ee++)b[32767+ee]=Z,g[32767+ee]=[],g[32767+ee][1]=Z,g[32767+ee][0]=ee;for(var oe=-(z-1);oe<=-U;oe++)b[32767+oe]=Z,g[32767+oe]=[],g[32767+oe][1]=Z,g[32767+oe][0]=z-1+oe;U<<=1,z<<=1}}(),function(){for(var U=0;U<256;U++)q[U]=19595*U,q[U+256>>0]=38470*U,q[U+512>>0]=7471*U+32768,q[U+768>>0]=-11059*U,q[U+1024>>0]=-21709*U,q[U+1280>>0]=32768*U+8421375,q[U+1536>>0]=-27439*U,q[U+1792>>0]=-5329*U}(),ae(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function fu(e,n){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!n,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function l4(e){function n(L){if(!L)throw Error("assert :P")}function t(L,B,X){for(var T=0;4>T;T++)if(L[B+T]!=X.charCodeAt(T))return!0;return!1}function r(L,B,X,T,O){for(var P=0;P<O;P++)L[B+P]=X[T+P]}function i(L,B,X,T){for(var O=0;O<T;O++)L[B+O]=X}function a(L){return new Int32Array(L)}function s(L,B){for(var X=[],T=0;T<L;T++)X.push(new B);return X}function l(L,B){var X=[];return function T(O,P,j){for(var G=j[P],W=0;W<G&&(O.push(j.length>P+1?[]:new B),!(j.length<P+1));W++)T(O[W],P+1,j)}(X,0,L),X}var u=function(){var L=this;function B(S,_){for(var M=1<<_-1>>>0;S&M;)M>>>=1;return M?(S&M-1)+M:S}function X(S,_,M,V,ne){n(!(V%M));do S[_+(V-=M)]=ne;while(0<V)}function T(S,_,M,V,ne){if(n(2328>=ne),512>=ne)var le=a(512);else if((le=a(ne))==null)return 0;return function(ue,fe,ye,Ce,Fe,Ke){var Ge,$e,xt=fe,it=1<<ye,ze=a(16),Ue=a(16);for(n(Fe!=0),n(Ce!=null),n(ue!=null),n(0<ye),$e=0;$e<Fe;++$e){if(15<Ce[$e])return 0;++ze[Ce[$e]]}if(ze[0]==Fe)return 0;for(Ue[1]=0,Ge=1;15>Ge;++Ge){if(ze[Ge]>1<<Ge)return 0;Ue[Ge+1]=Ue[Ge]+ze[Ge]}for($e=0;$e<Fe;++$e)Ge=Ce[$e],0<Ce[$e]&&(Ke[Ue[Ge]++]=$e);if(Ue[15]==1)return(Ce=new O).g=0,Ce.value=Ke[0],X(ue,xt,1,it,Ce),it;var pt,vt=-1,gt=it-1,It=0,Nt=1,Qt=1,Tt=1<<ye;for($e=0,Ge=1,Fe=2;Ge<=ye;++Ge,Fe<<=1){if(Nt+=Qt<<=1,0>(Qt-=ze[Ge]))return 0;for(;0<ze[Ge];--ze[Ge])(Ce=new O).g=Ge,Ce.value=Ke[$e++],X(ue,xt+It,Fe,Tt,Ce),It=B(It,Ge)}for(Ge=ye+1,Fe=2;15>=Ge;++Ge,Fe<<=1){if(Nt+=Qt<<=1,0>(Qt-=ze[Ge]))return 0;for(;0<ze[Ge];--ze[Ge]){if(Ce=new O,(It&gt)!=vt){for(xt+=Tt,pt=1<<(vt=Ge)-ye;15>vt&&!(0>=(pt-=ze[vt]));)++vt,pt<<=1;it+=Tt=1<<(pt=vt-ye),ue[fe+(vt=It&gt)].g=pt+ye,ue[fe+vt].value=xt-fe-vt}Ce.g=Ge-ye,Ce.value=Ke[$e++],X(ue,xt+(It>>ye),Fe,Tt,Ce),It=B(It,Ge)}}return Nt!=2*Ue[15]-1?0:it}(S,_,M,V,ne,le)}function O(){this.value=this.g=0}function P(){this.value=this.g=0}function j(){this.G=s(5,O),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ta,P)}function G(S,_,M,V){n(S!=null),n(_!=null),n(2147483648>V),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=_,S.pa=M,S.Jd=_,S.Yc=M+V,S.Zc=4<=V?M+V-4+1:M,we(S)}function W(S,_){for(var M=0;0<_--;)M|=Ee(S,128)<<_;return M}function K(S,_){var M=W(S,_);return xe(S)?-M:M}function ie(S,_,M,V){var ne,le=0;for(n(S!=null),n(_!=null),n(4294967288>V),S.Sb=V,S.Ra=0,S.u=0,S.h=0,4<V&&(V=4),ne=0;ne<V;++ne)le+=_[M+ne]<<8*ne;S.Ra=le,S.bb=V,S.oa=_,S.pa=M}function ce(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<Gc-8>>>0,++S.bb,S.u-=8;Z(S)&&(S.h=1,S.u=0)}function $(S,_){if(n(0<=_),!S.h&&_<=Vc){var M=z(S)&Fu[_];return S.u+=_,ce(S),M}return S.h=1,S.u=0}function ae(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(S){return S.Ra>>>(S.u&Gc-1)>>>0}function Z(S){return n(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>Gc}function ee(S,_){S.u=_,S.h=Z(S)}function oe(S){S.u>=tf&&(n(S.u>=tf),ce(S))}function we(S){n(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(n(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function xe(S){return W(S,1)}function Ee(S,_){var M=S.Ca;0>S.b&&we(S);var V=S.b,ne=M*_>>>8,le=(S.I>>>V>ne)+0;for(le?(M-=ne,S.I-=ne+1<<V>>>0):M=ne+1,V=M,ne=0;256<=V;)ne+=8,V>>=8;return V=7^ne+Cs[V],S.b-=V,S.Ca=(M<<V)-1,le}function De(S,_,M){S[_+0]=M>>24&255,S[_+1]=M>>16&255,S[_+2]=M>>8&255,S[_+3]=M>>0&255}function Me(S,_){return S[_+0]<<0|S[_+1]<<8}function We(S,_){return Me(S,_)|S[_+2]<<16}function Ye(S,_){return Me(S,_)|Me(S,_+2)<<16}function Y(S,_){var M=1<<_;return n(S!=null),n(0<_),S.X=a(M),S.X==null?0:(S.Mb=32-_,S.Xa=_,1)}function Se(S,_){n(S!=null),n(_!=null),n(S.Xa==_.Xa),r(_.X,0,S.X,0,1<<_.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function be(S,_,M,V){n(M!=null),n(V!=null);var ne=M[0],le=V[0];return ne==0&&(ne=(S*le+_/2)/_),le==0&&(le=(_*ne+S/2)/S),0>=ne||0>=le?0:(M[0]=ne,V[0]=le,1)}function de(S,_){return S+(1<<_)-1>>>_}function Ae(S,_){return((4278255360&S)+(4278255360&_)>>>0&4278255360)+((16711935&S)+(16711935&_)>>>0&16711935)>>>0}function Le(S,_){L[_]=function(M,V,ne,le,ue,fe,ye){var Ce;for(Ce=0;Ce<ue;++Ce){var Fe=L[S](fe[ye+Ce-1],ne,le+Ce);fe[ye+Ce]=Ae(M[V+Ce],Fe)}}}function qe(){this.ud=this.hd=this.jd=0}function Ne(S,_){return((4278124286&(S^_))>>>1)+(S&_)>>>0}function Xe(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function ut(S,_){return Xe(S+(S-_+.5>>1))}function nt(S,_,M){return Math.abs(_-M)-Math.abs(S-M)}function Pe(S,_,M,V,ne,le,ue){for(V=le[ue-1],M=0;M<ne;++M)le[ue+M]=V=Ae(S[_+M],V)}function ve(S,_,M,V,ne){var le;for(le=0;le<M;++le){var ue=S[_+le],fe=ue>>8&255,ye=16711935&(ye=(ye=16711935&ue)+((fe<<16)+fe));V[ne+le]=(4278255360&ue)+ye>>>0}}function ke(S,_){_.jd=S>>0&255,_.hd=S>>8&255,_.ud=S>>16&255}function je(S,_,M,V,ne,le){var ue;for(ue=0;ue<V;++ue){var fe=_[M+ue],ye=fe>>>8,Ce=fe,Fe=255&(Fe=(Fe=fe>>>16)+((S.jd<<24>>24)*(ye<<24>>24)>>>5));Ce=255&(Ce=(Ce=Ce+((S.hd<<24>>24)*(ye<<24>>24)>>>5))+((S.ud<<24>>24)*(Fe<<24>>24)>>>5)),ne[le+ue]=(4278255360&fe)+(Fe<<16)+Ce}}function ft(S,_,M,V,ne){L[_]=function(le,ue,fe,ye,Ce,Fe,Ke,Ge,$e){for(ye=Ke;ye<Ge;++ye)for(Ke=0;Ke<$e;++Ke)Ce[Fe++]=ne(fe[V(le[ue++])])},L[S]=function(le,ue,fe,ye,Ce,Fe,Ke){var Ge=8>>le.b,$e=le.Ea,xt=le.K[0],it=le.w;if(8>Ge)for(le=(1<<le.b)-1,it=(1<<Ge)-1;ue<fe;++ue){var ze,Ue=0;for(ze=0;ze<$e;++ze)ze&le||(Ue=V(ye[Ce++])),Fe[Ke++]=ne(xt[Ue&it]),Ue>>=Ge}else L["VP8LMapColor"+M](ye,Ce,xt,it,Fe,Ke,ue,fe,$e)}}function Je(S,_,M,V,ne){for(M=_+M;_<M;){var le=S[_++];V[ne++]=le>>16&255,V[ne++]=le>>8&255,V[ne++]=le>>0&255}}function Ft(S,_,M,V,ne){for(M=_+M;_<M;){var le=S[_++];V[ne++]=le>>16&255,V[ne++]=le>>8&255,V[ne++]=le>>0&255,V[ne++]=le>>24&255}}function kt(S,_,M,V,ne){for(M=_+M;_<M;){var le=(ue=S[_++])>>16&240|ue>>12&15,ue=ue>>0&240|ue>>28&15;V[ne++]=le,V[ne++]=ue}}function Vt(S,_,M,V,ne){for(M=_+M;_<M;){var le=(ue=S[_++])>>16&248|ue>>13&7,ue=ue>>5&224|ue>>3&31;V[ne++]=le,V[ne++]=ue}}function Rt(S,_,M,V,ne){for(M=_+M;_<M;){var le=S[_++];V[ne++]=le>>0&255,V[ne++]=le>>8&255,V[ne++]=le>>16&255}}function Zt(S,_,M,V,ne,le){if(le==0)for(M=_+M;_<M;)De(V,((le=S[_++])[0]>>24|le[1]>>8&65280|le[2]<<8&16711680|le[3]<<24)>>>0),ne+=32;else r(V,ne,S,_,M)}function nn(S,_){L[_][0]=L[S+"0"],L[_][1]=L[S+"1"],L[_][2]=L[S+"2"],L[_][3]=L[S+"3"],L[_][4]=L[S+"4"],L[_][5]=L[S+"5"],L[_][6]=L[S+"6"],L[_][7]=L[S+"7"],L[_][8]=L[S+"8"],L[_][9]=L[S+"9"],L[_][10]=L[S+"10"],L[_][11]=L[S+"11"],L[_][12]=L[S+"12"],L[_][13]=L[S+"13"],L[_][14]=L[S+"0"],L[_][15]=L[S+"0"]}function ln(S){return S==Ah||S==Vu||S==Zl||S==sf}function Pn(){this.eb=[],this.size=this.A=this.fb=0}function zn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Gr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Pn,this.f.kb=new zn,this.sd=null}function ir(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Rn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Gt(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function An(S,_){var M=S.T,V=_.ba.f.RGBA,ne=V.eb,le=V.fb+S.ka*V.A,ue=Ca[_.ba.S],fe=S.y,ye=S.O,Ce=S.f,Fe=S.N,Ke=S.ea,Ge=S.W,$e=_.cc,xt=_.dc,it=_.Mc,ze=_.Nc,Ue=S.ka,pt=S.ka+S.T,vt=S.U,gt=vt+1>>1;for(Ue==0?ue(fe,ye,null,null,Ce,Fe,Ke,Ge,Ce,Fe,Ke,Ge,ne,le,null,null,vt):(ue(_.ec,_.fc,fe,ye,$e,xt,it,ze,Ce,Fe,Ke,Ge,ne,le-V.A,ne,le,vt),++M);Ue+2<pt;Ue+=2)$e=Ce,xt=Fe,it=Ke,ze=Ge,Fe+=S.Rc,Ge+=S.Rc,le+=2*V.A,ue(fe,(ye+=2*S.fa)-S.fa,fe,ye,$e,xt,it,ze,Ce,Fe,Ke,Ge,ne,le-V.A,ne,le,vt);return ye+=S.fa,S.j+pt<S.o?(r(_.ec,_.fc,fe,ye,vt),r(_.cc,_.dc,Ce,Fe,gt),r(_.Mc,_.Nc,Ke,Ge,gt),M--):1&pt||ue(fe,ye,null,null,Ce,Fe,Ke,Ge,Ce,Fe,Ke,Ge,ne,le+V.A,null,null,vt),M}function ya(S,_,M){var V=S.F,ne=[S.J];if(V!=null){var le=S.U,ue=_.ba.S,fe=ue==Jc||ue==Zl;_=_.ba.f.RGBA;var ye=[0],Ce=S.ka;ye[0]=S.T,S.Kb&&(Ce==0?--ye[0]:(--Ce,ne[0]-=S.width),S.j+S.ka+S.T==S.o&&(ye[0]=S.o-S.j-Ce));var Fe=_.eb;Ce=_.fb+Ce*_.A,S=Ln(V,ne[0],S.width,le,ye,Fe,Ce+(fe?0:3),_.A),n(M==ye),S&&ln(ue)&&Ks(Fe,Ce,fe,le,ye,_.A)}return 0}function Sr(S){var _=S.ma,M=_.ba.S,V=11>M,ne=M==af||M==Sh||M==Jc||M==Xl||M==12||ln(M);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Mu(_.Oa,S,ne?11:12))return 0;if(ne&&ln(M)&&Ct(),S.da)alert("todo:use_scaling");else{if(V){if(_.Ib=Gt,S.Kb){if(M=S.U+1>>1,_.memory=a(S.U+2*M),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+S.U,_.Mc=_.cc,_.Nc=_.dc+M,_.Ib=An,Ct()}}else alert("todo:EmitYUV");ne&&(_.Jb=ya,V&&Ve())}if(V&&!Cb){for(S=0;256>S;++S)C2[S]=89858*(S-128)+ra>>yl,_h[S]=-22014*(S-128)+ra,Tm[S]=-45773*(S-128),ia[S]=113618*(S-128)+ra>>yl;for(S=Ku;S<Up;++S)_=76283*(S-16)+ra>>yl,kh[S-Ku]=Qs(_,255),jm[S-Ku]=Qs(_+8>>4,15);Cb=1}return 1}function si(S){var _=S.ma,M=S.U,V=S.T;return n(!(1&S.ka)),0>=M||0>=V?0:(M=_.Ib(S,_),_.Jb!=null&&_.Jb(S,_,M),_.Dc+=M,1)}function xa(S){S.ma.memory=null}function Lt(S,_,M,V){return $(S,8)!=47?0:(_[0]=$(S,14)+1,M[0]=$(S,14)+1,V[0]=$(S,1),$(S,3)!=0?0:!S.h)}function Hn(S,_){if(4>S)return S+1;var M=S-2>>1;return(2+(1&S)<<M)+$(_,M)+1}function ar(S,_){return 120<_?_-120:1<=(M=((M=eu[_-1])>>4)*S+(8-(15&M)))?M:1;var M}function Mr(S,_,M){var V=z(M),ne=S[_+=255&V].g-8;return 0<ne&&(ee(M,M.u+8),V=z(M),_+=S[_].value,_+=V&(1<<ne)-1),ee(M,M.u+S[_].g),S[_].value}function dr(S,_,M){return M.g+=S.g,M.value+=S.value<<_>>>0,n(8>=M.g),S.g}function fr(S,_,M){var V=S.xc;return n((_=V==0?0:S.vc[S.md*(M>>V)+(_>>V)])<S.Wb),S.Ya[_]}function $n(S,_,M,V){var ne=S.ab,le=S.c*_,ue=S.C;_=ue+_;var fe=M,ye=V;for(V=S.Ta,M=S.Ua;0<ne--;){var Ce=S.gc[ne],Fe=ue,Ke=_,Ge=fe,$e=ye,xt=(ye=V,fe=M,Ce.Ea);switch(n(Fe<Ke),n(Ke<=Ce.nc),Ce.hc){case 2:Rp(Ge,$e,(Ke-Fe)*xt,ye,fe);break;case 0:var it=Fe,ze=Ke,Ue=ye,pt=fe,vt=(Tt=Ce).Ea;it==0&&(km(Ge,$e,null,null,1,Ue,pt),Pe(Ge,$e+1,0,0,vt-1,Ue,pt+1),$e+=vt,pt+=vt,++it);for(var gt=1<<Tt.b,It=gt-1,Nt=de(vt,Tt.b),Qt=Tt.K,Tt=Tt.w+(it>>Tt.b)*Nt;it<ze;){var Yn=Qt,sr=Tt,In=1;for(vh(Ge,$e,Ue,pt-vt,1,Ue,pt);In<vt;){var jn=(In&~It)+gt;jn>vt&&(jn=vt),(0,Gl[Yn[sr++]>>8&15])(Ge,$e+ +In,Ue,pt+In-vt,jn-In,Ue,pt+In),In=jn}$e+=vt,pt+=vt,++it&It||(Tt+=Nt)}Ke!=Ce.nc&&r(ye,fe-xt,ye,fe+(Ke-Fe-1)*xt,xt);break;case 1:for(xt=Ge,ze=$e,vt=(Ge=Ce.Ea)-(pt=Ge&~(Ue=($e=1<<Ce.b)-1)),it=de(Ge,Ce.b),gt=Ce.K,Ce=Ce.w+(Fe>>Ce.b)*it;Fe<Ke;){for(It=gt,Nt=Ce,Qt=new qe,Tt=ze+pt,Yn=ze+Ge;ze<Tt;)ke(It[Nt++],Qt),zu(Qt,xt,ze,$e,ye,fe),ze+=$e,fe+=$e;ze<Yn&&(ke(It[Nt++],Qt),zu(Qt,xt,ze,vt,ye,fe),ze+=vt,fe+=vt),++Fe&Ue||(Ce+=it)}break;case 3:if(Ge==ye&&$e==fe&&0<Ce.b){for(ze=ye,Ge=xt=fe+(Ke-Fe)*xt-(pt=(Ke-Fe)*de(Ce.Ea,Ce.b)),$e=ye,Ue=fe,it=[],pt=(vt=pt)-1;0<=pt;--pt)it[pt]=$e[Ue+pt];for(pt=vt-1;0<=pt;--pt)ze[Ge+pt]=it[pt];lo(Ce,Fe,Ke,ye,xt,ye,fe)}else lo(Ce,Fe,Ke,Ge,$e,ye,fe)}fe=V,ye=M}ye!=M&&r(V,M,fe,ye,le)}function bs(S,_){var M=S.V,V=S.Ba+S.c*S.C,ne=_-S.C;if(n(_<=S.l.o),n(16>=ne),0<ne){var le=S.l,ue=S.Ta,fe=S.Ua,ye=le.width;if($n(S,ne,M,V),ne=fe=[fe],n((M=S.C)<(V=_)),n(le.v<le.va),V>le.o&&(V=le.o),M<le.j){var Ce=le.j-M;M=le.j,ne[0]+=Ce*ye}if(M>=V?M=0:(ne[0]+=4*le.v,le.ka=M-le.j,le.U=le.va-le.v,le.T=V-M,M=1),M){if(fe=fe[0],11>(M=S.ca).S){var Fe=M.f.RGBA,Ke=(V=M.S,ne=le.U,le=le.T,Ce=Fe.eb,Fe.A),Ge=le;for(Fe=Fe.fb+S.Ma*Fe.A;0<Ge--;){var $e=ue,xt=fe,it=ne,ze=Ce,Ue=Fe;switch(V){case Wa:ss($e,xt,it,ze,Ue);break;case af:La($e,xt,it,ze,Ue);break;case Ah:La($e,xt,it,ze,Ue),Ks(ze,Ue,0,it,1,0);break;case pl:Io($e,xt,it,ze,Ue);break;case Sh:Zt($e,xt,it,ze,Ue,1);break;case Vu:Zt($e,xt,it,ze,Ue,1),Ks(ze,Ue,0,it,1,0);break;case Jc:Zt($e,xt,it,ze,Ue,0);break;case Zl:Zt($e,xt,it,ze,Ue,0),Ks(ze,Ue,1,it,1,0);break;case Xl:qu($e,xt,it,ze,Ue);break;case sf:qu($e,xt,it,ze,Ue),Dn(ze,Ue,it,1,0);break;case Fp:Es($e,xt,it,ze,Ue);break;default:n(0)}fe+=ye,Fe+=Ke}S.Ma+=le}else alert("todo:EmitRescaledRowsYUVA");n(S.Ma<=M.height)}}S.C=_,n(S.C<=S.i)}function Nr(S){var _;if(0<S.ua)return 0;for(_=0;_<S.Wb;++_){var M=S.Ya[_].G,V=S.Ya[_].H;if(0<M[1][V[1]+0].g||0<M[2][V[2]+0].g||0<M[3][V[3]+0].g)return 0}return 1}function Ia(S,_,M,V,ne,le){if(S.Z!=0){var ue=S.qd,fe=S.rd;for(n(gl[S.Z]!=null);_<M;++_)gl[S.Z](ue,fe,V,ne,V,ne,le),ue=V,fe=ne,ne+=le;S.qd=ue,S.rd=fe}}function Pi(S,_){var M=S.l.ma,V=M.Z==0||M.Z==1?S.l.j:S.C;if(V=S.C<V?V:S.C,n(_<=S.l.o),_>V){var ne=S.l.width,le=M.ca,ue=M.tb+ne*V,fe=S.V,ye=S.Ba+S.c*V,Ce=S.gc;n(S.ab==1),n(Ce[0].hc==3),Pu(Ce[0],V,_,fe,ye,le,ue),Ia(M,V,_,le,ue,ne)}S.C=S.Ma=_}function zi(S,_,M,V,ne,le,ue){var fe=S.$/V,ye=S.$%V,Ce=S.m,Fe=S.s,Ke=M+S.$,Ge=Ke;ne=M+V*ne;var $e=M+V*le,xt=280+Fe.ua,it=S.Pb?fe:16777216,ze=0<Fe.ua?Fe.Wa:null,Ue=Fe.wc,pt=Ke<$e?fr(Fe,ye,fe):null;n(S.C<le),n($e<=ne);var vt=!1;e:for(;;){for(;vt||Ke<$e;){var gt=0;if(fe>=it){var It=Ke-M;n((it=S).Pb),it.wd=it.m,it.xd=It,0<it.s.ua&&Se(it.s.Wa,it.s.vb),it=fe+wb}if(ye&Ue||(pt=fr(Fe,ye,fe)),n(pt!=null),pt.Qb&&(_[Ke]=pt.qb,vt=!0),!vt)if(oe(Ce),pt.jc){gt=Ce,It=_;var Nt=Ke,Qt=pt.pd[z(gt)&ta-1];n(pt.jc),256>Qt.g?(ee(gt,gt.u+Qt.g),It[Nt]=Qt.value,gt=0):(ee(gt,gt.u+Qt.g-256),n(256<=Qt.value),gt=Qt.value),gt==0&&(vt=!0)}else gt=Mr(pt.G[0],pt.H[0],Ce);if(Ce.h)break;if(vt||256>gt){if(!vt)if(pt.nd)_[Ke]=(pt.qb|gt<<8)>>>0;else{if(oe(Ce),vt=Mr(pt.G[1],pt.H[1],Ce),oe(Ce),It=Mr(pt.G[2],pt.H[2],Ce),Nt=Mr(pt.G[3],pt.H[3],Ce),Ce.h)break;_[Ke]=(Nt<<24|vt<<16|gt<<8|It)>>>0}if(vt=!1,++Ke,++ye>=V&&(ye=0,++fe,ue!=null&&fe<=le&&!(fe%16)&&ue(S,fe),ze!=null))for(;Ge<Ke;)gt=_[Ge++],ze.X[(506832829*gt&4294967295)>>>ze.Mb]=gt}else if(280>gt){if(gt=Hn(gt-256,Ce),It=Mr(pt.G[4],pt.H[4],Ce),oe(Ce),It=ar(V,It=Hn(It,Ce)),Ce.h)break;if(Ke-M<It||ne-Ke<gt)break e;for(Nt=0;Nt<gt;++Nt)_[Ke+Nt]=_[Ke+Nt-It];for(Ke+=gt,ye+=gt;ye>=V;)ye-=V,++fe,ue!=null&&fe<=le&&!(fe%16)&&ue(S,fe);if(n(Ke<=ne),ye&Ue&&(pt=fr(Fe,ye,fe)),ze!=null)for(;Ge<Ke;)gt=_[Ge++],ze.X[(506832829*gt&4294967295)>>>ze.Mb]=gt}else{if(!(gt<xt))break e;for(vt=gt-280,n(ze!=null);Ge<Ke;)gt=_[Ge++],ze.X[(506832829*gt&4294967295)>>>ze.Mb]=gt;gt=Ke,n(!(vt>>>(It=ze).Xa)),_[gt]=It.X[vt],vt=!0}vt||n(Ce.h==Z(Ce))}if(S.Pb&&Ce.h&&Ke<ne)n(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&Se(S.s.vb,S.s.Wa);else{if(Ce.h)break e;ue!=null&&ue(S,fe>le?le:fe),S.a=0,S.$=Ke-M}return 1}return S.a=3,0}function Jn(S){n(S!=null),S.vc=null,S.yc=null,S.Ya=null;var _=S.Wa;_!=null&&(_.X=null),S.vb=null,n(S!=null)}function Ci(){var S=new _m;return S==null?null:(S.a=0,S.xb=of,nn("Predictor","VP8LPredictors"),nn("Predictor","VP8LPredictors_C"),nn("PredictorAdd","VP8LPredictorsAdd"),nn("PredictorAdd","VP8LPredictorsAdd_C"),Rp=ve,zu=je,ss=Je,La=Ft,qu=kt,Es=Vt,Io=Rt,L.VP8LMapColor32b=Sa,L.VP8LMapColor8b=wh,S)}function er(S,_,M,V,ne){var le=1,ue=[S],fe=[_],ye=V.m,Ce=V.s,Fe=null,Ke=0;e:for(;;){if(M)for(;le&&$(ye,1);){var Ge=ue,$e=fe,xt=V,it=1,ze=xt.m,Ue=xt.gc[xt.ab],pt=$(ze,2);if(xt.Oc&1<<pt)le=0;else{switch(xt.Oc|=1<<pt,Ue.hc=pt,Ue.Ea=Ge[0],Ue.nc=$e[0],Ue.K=[null],++xt.ab,n(4>=xt.ab),pt){case 0:case 1:Ue.b=$(ze,3)+2,it=er(de(Ue.Ea,Ue.b),de(Ue.nc,Ue.b),0,xt,Ue.K),Ue.K=Ue.K[0];break;case 3:var vt,gt=$(ze,8)+1,It=16<gt?0:4<gt?1:2<gt?2:3;if(Ge[0]=de(Ue.Ea,It),Ue.b=It,vt=it=er(gt,1,0,xt,Ue.K)){var Nt,Qt=gt,Tt=Ue,Yn=1<<(8>>Tt.b),sr=a(Yn);if(sr==null)vt=0;else{var In=Tt.K[0],jn=Tt.w;for(sr[0]=Tt.K[0][0],Nt=1;Nt<1*Qt;++Nt)sr[Nt]=Ae(In[jn+Nt],sr[Nt-1]);for(;Nt<4*Yn;++Nt)sr[Nt]=0;Tt.K[0]=null,Tt.K[0]=sr,vt=1}}it=vt;break;case 2:break;default:n(0)}le=it}}if(ue=ue[0],fe=fe[0],le&&$(ye,1)&&!(le=1<=(Ke=$(ye,4))&&11>=Ke)){V.a=3;break e}var Er;if(Er=le)t:{var or,mn,jr,en=V,un=ue,Wn=fe,Vn=Ke,Ea=M,aa=en.m,Ti=en.s,ji=[null],Ui=1,ho=0,lr=td[Vn];n:for(;;){if(Ea&&$(aa,1)){var $i=$(aa,3)+2,Ro=de(un,$i),Xu=de(Wn,$i),id=Ro*Xu;if(!er(Ro,Xu,0,en,ji))break n;for(ji=ji[0],Ti.xc=$i,or=0;or<id;++or){var Zu=ji[or]>>8&65535;ji[or]=Zu,Zu>=Ui&&(Ui=Zu+1)}}if(aa.h)break n;for(mn=0;5>mn;++mn){var ti=Xs[mn];!mn&&0<Vn&&(ti+=1<<Vn),ho<ti&&(ho=ti)}var Nh=s(Ui*lr,O),$p=Ui,ls=s($p,j);if(ls==null)var ui=null;else n(65536>=$p),ui=ls;var ad=a(ho);if(ui==null||ad==null||Nh==null){en.a=1;break n}var Ju=Nh;for(or=jr=0;or<Ui;++or){var ks=ui[or],ec=ks.G,Ns=ks.H,Th=0,uf=1,Hp=0;for(mn=0;5>mn;++mn){ti=Xs[mn],ec[mn]=Ju,Ns[mn]=jr,!mn&&0<Vn&&(ti+=1<<Vn);i:{var jh,Wp=ti,Oh=en,cf=ad,kb=Ju,Nb=jr,Ih=0,iu=Oh.m,_2=$(iu,1);if(i(cf,0,0,Wp),_2){var Tb=$(iu,1)+1,jb=$(iu,1),Om=$(iu,jb==0?1:8);cf[Om]=1,Tb==2&&(cf[Om=$(iu,8)]=1);var df=1}else{var Im=a(19),Dm=$(iu,4)+4;if(19<Dm){Oh.a=3;var Dh=0;break i}for(jh=0;jh<Dm;++jh)Im[Jl[jh]]=$(iu,3);var Yp=void 0,ff=void 0,Ob=Oh,Ib=Im,au=Wp,Lh=cf,Vp=0,Mo=Ob.m,hf=8,Lm=s(128,O);r:for(;T(Lm,0,7,Ib,19);){if($(Mo,1)){var Db=2+2*$(Mo,3);if((Yp=2+$(Mo,Db))>au)break r}else Yp=au;for(ff=0;ff<au&&Yp--;){oe(Mo);var Rm=Lm[0+(127&z(Mo))];ee(Mo,Mo.u+Rm.g);var sd=Rm.value;if(16>sd)Lh[ff++]=sd,sd!=0&&(hf=sd);else{var Lb=sd==16,Mm=sd-16,Fm=fo[Mm],Pm=$(Mo,Pp[Mm])+Fm;if(ff+Pm>au)break r;for(var Rb=Lb?hf:0;0<Pm--;)Lh[ff++]=Rb}}Vp=1;break r}Vp||(Ob.a=3),df=Vp}(df=df&&!iu.h)&&(Ih=T(kb,Nb,8,cf,Wp)),df&&Ih!=0?Dh=Ih:(Oh.a=3,Dh=0)}if(Dh==0)break n;if(uf&&ed[mn]==1&&(uf=Ju[jr].g==0),Th+=Ju[jr].g,jr+=Dh,3>=mn){var od,Gp=ad[0];for(od=1;od<ti;++od)ad[od]>Gp&&(Gp=ad[od]);Hp+=Gp}}if(ks.nd=uf,ks.Qb=0,uf&&(ks.qb=(ec[3][Ns[3]+0].value<<24|ec[1][Ns[1]+0].value<<16|ec[2][Ns[2]+0].value)>>>0,Th==0&&256>ec[0][Ns[0]+0].value&&(ks.Qb=1,ks.qb+=ec[0][Ns[0]+0].value<<8)),ks.jc=!ks.Qb&&6>Hp,ks.jc){var Rh,su=ks;for(Rh=0;Rh<ta;++Rh){var xl=Rh,ou=su.pd[xl],Mh=su.G[0][su.H[0]+xl];256<=Mh.value?(ou.g=Mh.g+256,ou.value=Mh.value):(ou.g=0,ou.value=0,xl>>=dr(Mh,8,ou),xl>>=dr(su.G[1][su.H[1]+xl],16,ou),xl>>=dr(su.G[2][su.H[2]+xl],0,ou),dr(su.G[3][su.H[3]+xl],24,ou))}}}Ti.vc=ji,Ti.Wb=Ui,Ti.Ya=ui,Ti.yc=Nh,Er=1;break t}Er=0}if(!(le=Er)){V.a=3;break e}if(0<Ke){if(Ce.ua=1<<Ke,!Y(Ce.Wa,Ke)){V.a=1,le=0;break e}}else Ce.ua=0;var Fh=V,zm=ue,Mb=fe,qm=Fh.s,Bm=qm.xc;if(Fh.c=zm,Fh.i=Mb,qm.md=de(zm,Bm),qm.wc=Bm==0?-1:(1<<Bm)-1,M){V.xb=Ab;break e}if((Fe=a(ue*fe))==null){V.a=1,le=0;break e}le=(le=zi(V,Fe,0,ue,fe,fe,null))&&!ye.h;break e}return le?(ne!=null?ne[0]=Fe:(n(Fe==null),n(M)),V.$=0,M||Jn(Ce)):Jn(Ce),le}function ro(S,_){var M=S.c*S.i,V=M+_+16*_;return n(S.c<=_),S.V=a(V),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+M+_,1)}function Co(S,_){var M=S.C,V=_-M,ne=S.V,le=S.Ba+S.c*M;for(n(_<=S.l.o);0<V;){var ue=16<V?16:V,fe=S.l.ma,ye=S.l.width,Ce=ye*ue,Fe=fe.ca,Ke=fe.tb+ye*M,Ge=S.Ta,$e=S.Ua;$n(S,ue,ne,le),zr(Ge,$e,Fe,Ke,Ce),Ia(fe,M,M+ue,Fe,Ke,ye),V-=ue,ne+=ue*S.c,M+=ue}n(M==_),S.C=S.Ma=_}function Fa(){this.ub=this.yd=this.td=this.Rb=0}function Fr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function il(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Ul(){this.Yb=function(){var S=[];return function _(M,V,ne){for(var le=ne[V],ue=0;ue<le&&(M.push(ne.length>V+1?[]:0),!(ne.length<V+1));ue++)_(M[ue],V+1,ne)}(S,0,[3,11]),S}()}function Iu(){this.jb=a(3),this.Wc=l([4,8],Ul),this.Xc=l([4,17],Ul)}function $c(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function $s(){this.ld=this.La=this.dd=this.tc=0}function ys(){this.Na=this.la=0}function Pa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xs(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function rs(){this.uc=this.M=this.Nb=0,this.wa=Array(new $s),this.Y=0,this.ya=Array(new xs),this.aa=0,this.l=new io}function is(){this.y=a(16),this.f=a(8),this.ea=a(8)}function $l(){this.cb=this.a=0,this.sc="",this.m=new ae,this.Od=new Fa,this.Kc=new Fr,this.ed=new $c,this.Qa=new il,this.Ic=this.$c=this.Aa=0,this.D=new rs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,ae),this.ia=0,this.pb=s(4,Pa),this.Pa=new Iu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new is),this.Hd=0,this.rb=Array(new ys),this.sb=0,this.wa=Array(new $s),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xs),this.L=this.aa=0,this.gd=l([4,2],$s),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function io(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Hc(){var S=new $l;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,na||(na=al)),S}function Pr(S,_,M){return S.a==0&&(S.a=_,S.sc=M,S.cb=0),0}function Ji(S,_,M){return 3<=M&&S[_+0]==157&&S[_+1]==1&&S[_+2]==42}function ao(S,_){if(S==null)return 0;if(S.a=0,S.sc="OK",_==null)return Pr(S,2,"null VP8Io passed to VP8GetHeaders()");var M=_.data,V=_.w,ne=_.ha;if(4>ne)return Pr(S,7,"Truncated header.");var le=M[V+0]|M[V+1]<<8|M[V+2]<<16,ue=S.Od;if(ue.Rb=!(1&le),ue.td=le>>1&7,ue.yd=le>>4&1,ue.ub=le>>5,3<ue.td)return Pr(S,3,"Incorrect keyframe parameters.");if(!ue.yd)return Pr(S,4,"Frame not displayable.");V+=3,ne-=3;var fe=S.Kc;if(ue.Rb){if(7>ne)return Pr(S,7,"cannot parse picture header");if(!Ji(M,V,ne))return Pr(S,3,"Bad code word");fe.c=16383&(M[V+4]<<8|M[V+3]),fe.Td=M[V+4]>>6,fe.i=16383&(M[V+6]<<8|M[V+5]),fe.Ud=M[V+6]>>6,V+=7,ne-=7,S.za=fe.c+15>>4,S.Ub=fe.i+15>>4,_.width=fe.c,_.height=fe.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((le=S.Pa).jb,0,255,le.jb.length),n((le=S.Qa)!=null),le.Cb=0,le.Bb=0,le.Fb=1,i(le.Zb,0,0,le.Zb.length),i(le.Lb,0,0,le.Lb)}if(ue.ub>ne)return Pr(S,7,"bad partition length");G(le=S.m,M,V,ue.ub),V+=ue.ub,ne-=ue.ub,ue.Rb&&(fe.Ld=xe(le),fe.Kd=xe(le)),fe=S.Qa;var ye,Ce=S.Pa;if(n(le!=null),n(fe!=null),fe.Cb=xe(le),fe.Cb){if(fe.Bb=xe(le),xe(le)){for(fe.Fb=xe(le),ye=0;4>ye;++ye)fe.Zb[ye]=xe(le)?K(le,7):0;for(ye=0;4>ye;++ye)fe.Lb[ye]=xe(le)?K(le,6):0}if(fe.Bb)for(ye=0;3>ye;++ye)Ce.jb[ye]=xe(le)?W(le,8):255}else fe.Bb=0;if(le.Ka)return Pr(S,3,"cannot parse segment header");if((fe=S.ed).zd=xe(le),fe.Tb=W(le,6),fe.wb=W(le,3),fe.Pc=xe(le),fe.Pc&&xe(le)){for(Ce=0;4>Ce;++Ce)xe(le)&&(fe.vd[Ce]=K(le,6));for(Ce=0;4>Ce;++Ce)xe(le)&&(fe.od[Ce]=K(le,6))}if(S.L=fe.Tb==0?0:fe.zd?1:2,le.Ka)return Pr(S,3,"cannot parse filter header");var Fe=ne;if(ne=ye=V,V=ye+Fe,fe=Fe,S.Xb=(1<<W(S.m,2))-1,Fe<3*(Ce=S.Xb))M=7;else{for(ye+=3*Ce,fe-=3*Ce,Fe=0;Fe<Ce;++Fe){var Ke=M[ne+0]|M[ne+1]<<8|M[ne+2]<<16;Ke>fe&&(Ke=fe),G(S.Jc[+Fe],M,ye,Ke),ye+=Ke,fe-=Ke,ne+=3}G(S.Jc[+Ce],M,ye,fe),M=ye<V?0:5}if(M!=0)return Pr(S,M,"cannot parse partitions");for(M=W(ye=S.m,7),ne=xe(ye)?K(ye,4):0,V=xe(ye)?K(ye,4):0,fe=xe(ye)?K(ye,4):0,Ce=xe(ye)?K(ye,4):0,ye=xe(ye)?K(ye,4):0,Fe=S.Qa,Ke=0;4>Ke;++Ke){if(Fe.Cb){var Ge=Fe.Zb[Ke];Fe.Fb||(Ge+=M)}else{if(0<Ke){S.pb[Ke]=S.pb[0];continue}Ge=M}var $e=S.pb[Ke];$e.Sc[0]=Ch[Qs(Ge+ne,127)],$e.Sc[1]=Eh[Qs(Ge+0,127)],$e.Eb[0]=2*Ch[Qs(Ge+V,127)],$e.Eb[1]=101581*Eh[Qs(Ge+fe,127)]>>16,8>$e.Eb[1]&&($e.Eb[1]=8),$e.Qc[0]=Ch[Qs(Ge+Ce,117)],$e.Qc[1]=Eh[Qs(Ge+ye,127)],$e.lc=Ge+ye}if(!ue.Rb)return Pr(S,4,"Not a key frame.");for(xe(le),ue=S.Pa,M=0;4>M;++M){for(ne=0;8>ne;++ne)for(V=0;3>V;++V)for(fe=0;11>fe;++fe)Ce=Ee(le,nd[M][ne][V][fe])?W(le,8):ml[M][ne][V][fe],ue.Wc[M][ne].Yb[V][fe]=Ce;for(ne=0;17>ne;++ne)ue.Xc[M][ne]=ue.Wc[M][Sb[ne]]}return S.kc=xe(le),S.kc&&(S.Bd=W(le,8)),S.cb=1}function al(S,_,M,V,ne,le,ue){var fe=_[ne].Yb[M];for(M=0;16>ne;++ne){if(!Ee(S,fe[M+0]))return ne;for(;!Ee(S,fe[M+1]);)if(fe=_[++ne].Yb[0],M=0,ne==16)return 16;var ye=_[ne+1].Yb;if(Ee(S,fe[M+2])){var Ce=S,Fe=0;if(Ee(Ce,(Ge=fe)[(Ke=M)+3]))if(Ee(Ce,Ge[Ke+6])){for(fe=0,Ke=2*(Fe=Ee(Ce,Ge[Ke+8]))+(Ge=Ee(Ce,Ge[Ke+9+Fe])),Fe=0,Ge=bi[Ke];Ge[fe];++fe)Fe+=Fe+Ee(Ce,Ge[fe]);Fe+=3+(8<<Ke)}else Ee(Ce,Ge[Ke+7])?(Fe=7+2*Ee(Ce,165),Fe+=Ee(Ce,145)):Fe=5+Ee(Ce,159);else Fe=Ee(Ce,Ge[Ke+4])?3+Ee(Ce,Ge[Ke+5]):2;fe=ye[2]}else Fe=1,fe=ye[1];ye=ue+tr[ne],0>(Ce=S).b&&we(Ce);var Ke,Ge=Ce.b,$e=(Ke=Ce.Ca>>1)-(Ce.I>>Ge)>>31;--Ce.b,Ce.Ca+=$e,Ce.Ca|=1,Ce.I-=(Ke+1&$e)<<Ge,le[ye]=((Fe^$e)-$e)*V[(0<ne)+0]}return 16}function za(S){var _=S.rb[S.sb-1];_.la=0,_.Na=0,i(S.zc,0,0,S.zc.length),S.ja=0}function Hl(S,_){if(S==null)return 0;if(_==null)return Pr(S,2,"NULL VP8Io parameter in VP8Decode().");if(!S.cb&&!ao(S,_))return 0;if(n(S.cb),_.ac==null||_.ac(_)){_.ob&&(S.L=0);var M=ru[S.L];if(S.L==2?(S.yb=0,S.zb=0):(S.yb=_.v-M>>4,S.zb=_.j-M>>4,0>S.yb&&(S.yb=0),0>S.zb&&(S.zb=0)),S.Va=_.o+15+M>>4,S.Hb=_.va+15+M>>4,S.Hb>S.za&&(S.Hb=S.za),S.Va>S.Ub&&(S.Va=S.Ub),0<S.L){var V=S.ed;for(M=0;4>M;++M){var ne;if(S.Qa.Cb){var le=S.Qa.Lb[M];S.Qa.Fb||(le+=V.Tb)}else le=V.Tb;for(ne=0;1>=ne;++ne){var ue=S.gd[M][ne],fe=le;if(V.Pc&&(fe+=V.vd[0],ne&&(fe+=V.od[0])),0<(fe=0>fe?0:63<fe?63:fe)){var ye=fe;0<V.wb&&(ye=4<V.wb?ye>>2:ye>>1)>9-V.wb&&(ye=9-V.wb),1>ye&&(ye=1),ue.dd=ye,ue.tc=2*fe+ye,ue.ld=40<=fe?2:15<=fe?1:0}else ue.tc=0;ue.La=ne}}}M=0}else Pr(S,6,"Frame setup failed"),M=S.a;if(M=M==0){if(M){S.$c=0,0<S.Aa||(S.Ic=Eb);e:{M=S.Ic,V=4*(ye=S.za);var Ce=32*ye,Fe=ye+1,Ke=0<S.L?ye*(0<S.Aa?2:1):0,Ge=(S.Aa==2?2:1)*ye;if((ue=V+832+(ne=3*(16*M+ru[S.L])/2*Ce)+(le=S.Fa!=null&&0<S.Fa.length?S.Kc.c*S.Kc.i:0))!=ue)M=0;else{if(ue>S.Vb){if(S.Vb=0,S.Ec=a(ue),S.Fc=0,S.Ec==null){M=Pr(S,1,"no memory during frame initialization.");break e}S.Vb=ue}ue=S.Ec,fe=S.Fc,S.Ac=ue,S.Bc=fe,fe+=V,S.Gd=s(Ce,is),S.Hd=0,S.rb=s(Fe+1,ys),S.sb=1,S.wa=Ke?s(Ke,$s):null,S.Y=0,S.D.Nb=0,S.D.wa=S.wa,S.D.Y=S.Y,0<S.Aa&&(S.D.Y+=ye),n(!0),S.oc=ue,S.pc=fe,fe+=832,S.ya=s(Ge,xs),S.aa=0,S.D.ya=S.ya,S.D.aa=S.aa,S.Aa==2&&(S.D.aa+=ye),S.R=16*ye,S.B=8*ye,ye=(Ce=ru[S.L])*S.R,Ce=Ce/2*S.B,S.sa=ue,S.ta=fe+ye,S.qa=S.sa,S.ra=S.ta+16*M*S.R+Ce,S.Ha=S.qa,S.Ia=S.ra+8*M*S.B+Ce,S.$c=0,fe+=ne,S.mb=le?ue:null,S.nb=le?fe:null,n(fe+le<=S.Fc+S.Vb),za(S),i(S.Ac,S.Bc,0,V),M=1}}if(M){if(_.ka=0,_.y=S.sa,_.O=S.ta,_.f=S.qa,_.N=S.ra,_.ea=S.Ha,_.Vd=S.Ia,_.fa=S.R,_.Rc=S.B,_.F=null,_.J=0,!Kl){for(M=-255;255>=M;++M)Ni[255+M]=0>M?-M:M;for(M=-1020;1020>=M;++M)uo[1020+M]=-128>M?-128:127<M?127:M;for(M=-112;112>=M;++M)Wu[112+M]=-16>M?-16:15<M?15:M;for(M=-255;510>=M;++M)Yu[255+M]=0>M?0:255<M?255:M;Kl=1}fl=qi,Do=_o,Lo=Hs,Bi=Du,_s=Ws,mi=Wl,Qc=Qr,hl=Ha,nf=Gd,Bu=dl,Uu=Gs,$u=As,Kc=To,rf=Lp,Hu=pr,Ql=pn,Xc=Tr,gi=va,os[0]=Ei,os[1]=vs,os[2]=so,os[3]=ul,os[4]=Ba,os[5]=Ua,os[6]=ko,os[7]=Da,os[8]=No,os[9]=$a,tu[0]=ll,tu[1]=qa,tu[2]=Ys,tu[3]=ol,tu[4]=oi,tu[5]=Jr,tu[6]=ws,Zs[0]=H,Zs[1]=Lu,Zs[2]=cl,Zs[3]=oo,Zs[4]=Oe,Zs[5]=me,Zs[6]=lt,M=1}else M=0}M&&(M=function($e,xt){for($e.M=0;$e.M<$e.Va;++$e.M){var it,ze=$e.Jc[$e.M&$e.Xb],Ue=$e.m,pt=$e;for(it=0;it<pt.za;++it){var vt=Ue,gt=pt,It=gt.Ac,Nt=gt.Bc+4*it,Qt=gt.zc,Tt=gt.ya[gt.aa+it];if(gt.Qa.Bb?Tt.$b=Ee(vt,gt.Pa.jb[0])?2+Ee(vt,gt.Pa.jb[2]):Ee(vt,gt.Pa.jb[1]):Tt.$b=0,gt.kc&&(Tt.Ad=Ee(vt,gt.Bd)),Tt.Za=!Ee(vt,145)+0,Tt.Za){var Yn=Tt.Ob,sr=0;for(gt=0;4>gt;++gt){var In,jn=Qt[0+gt];for(In=0;4>In;++In){jn=Nm[It[Nt+In]][jn];for(var Er=Gu[Ee(vt,jn[0])];0<Er;)Er=Gu[2*Er+Ee(vt,jn[Er])];jn=-Er,It[Nt+In]=jn}r(Yn,sr,It,Nt,4),sr+=4,Qt[0+gt]=jn}}else jn=Ee(vt,156)?Ee(vt,128)?1:3:Ee(vt,163)?2:0,Tt.Ob[0]=jn,i(It,Nt,jn,4),i(Qt,0,jn,4);Tt.Dd=Ee(vt,142)?Ee(vt,114)?Ee(vt,183)?1:3:2:0}if(pt.m.Ka)return Pr($e,7,"Premature end-of-partition0 encountered.");for(;$e.ja<$e.za;++$e.ja){if(pt=ze,vt=(Ue=$e).rb[Ue.sb-1],It=Ue.rb[Ue.sb+Ue.ja],it=Ue.ya[Ue.aa+Ue.ja],Nt=Ue.kc?it.Ad:0)vt.la=It.la=0,it.Za||(vt.Na=It.Na=0),it.Hc=0,it.Gc=0,it.ia=0;else{var or,mn;if(vt=It,It=pt,Nt=Ue.Pa.Xc,Qt=Ue.ya[Ue.aa+Ue.ja],Tt=Ue.pb[Qt.$b],gt=Qt.ad,Yn=0,sr=Ue.rb[Ue.sb-1],jn=In=0,i(gt,Yn,0,384),Qt.Za)var jr=0,en=Nt[3];else{Er=a(16);var un=vt.Na+sr.Na;if(un=na(It,Nt[1],un,Tt.Eb,0,Er,0),vt.Na=sr.Na=(0<un)+0,1<un)fl(Er,0,gt,Yn);else{var Wn=Er[0]+3>>3;for(Er=0;256>Er;Er+=16)gt[Yn+Er]=Wn}jr=1,en=Nt[0]}var Vn=15&vt.la,Ea=15&sr.la;for(Er=0;4>Er;++Er){var aa=1&Ea;for(Wn=mn=0;4>Wn;++Wn)Vn=Vn>>1|(aa=(un=na(It,en,un=aa+(1&Vn),Tt.Sc,jr,gt,Yn))>jr)<<7,mn=mn<<2|(3<un?3:1<un?2:gt[Yn+0]!=0),Yn+=16;Vn>>=4,Ea=Ea>>1|aa<<7,In=(In<<8|mn)>>>0}for(en=Vn,jr=Ea>>4,or=0;4>or;or+=2){for(mn=0,Vn=vt.la>>4+or,Ea=sr.la>>4+or,Er=0;2>Er;++Er){for(aa=1&Ea,Wn=0;2>Wn;++Wn)un=aa+(1&Vn),Vn=Vn>>1|(aa=0<(un=na(It,Nt[2],un,Tt.Qc,0,gt,Yn)))<<3,mn=mn<<2|(3<un?3:1<un?2:gt[Yn+0]!=0),Yn+=16;Vn>>=2,Ea=Ea>>1|aa<<5}jn|=mn<<4*or,en|=Vn<<4<<or,jr|=(240&Ea)<<or}vt.la=en,sr.la=jr,Qt.Hc=In,Qt.Gc=jn,Qt.ia=43690&jn?0:Tt.ia,Nt=!(In|jn)}if(0<Ue.L&&(Ue.wa[Ue.Y+Ue.ja]=Ue.gd[it.$b][it.Za],Ue.wa[Ue.Y+Ue.ja].La|=!Nt),pt.Ka)return Pr($e,7,"Premature end-of-file encountered.")}if(za($e),Ue=xt,pt=1,it=(ze=$e).D,vt=0<ze.L&&ze.M>=ze.zb&&ze.M<=ze.Va,ze.Aa==0)e:{if(it.M=ze.M,it.uc=vt,Vl(ze,it),pt=1,it=(mn=ze.D).Nb,vt=(jn=ru[ze.L])*ze.R,It=jn/2*ze.B,Er=16*it*ze.R,Wn=8*it*ze.B,Nt=ze.sa,Qt=ze.ta-vt+Er,Tt=ze.qa,gt=ze.ra-It+Wn,Yn=ze.Ha,sr=ze.Ia-It+Wn,Ea=(Vn=mn.M)==0,In=Vn>=ze.Va-1,ze.Aa==2&&Vl(ze,mn),mn.uc)for(aa=(un=ze).D.M,n(un.D.uc),mn=un.yb;mn<un.Hb;++mn){jr=mn,en=aa;var Ti=(ji=(ti=un).D).Nb;or=ti.R;var ji=ji.wa[ji.Y+jr],Ui=ti.sa,ho=ti.ta+16*Ti*or+16*jr,lr=ji.dd,$i=ji.tc;if($i!=0)if(n(3<=$i),ti.L==1)0<jr&&Ql(Ui,ho,or,$i+4),ji.La&&gi(Ui,ho,or,$i),0<en&&Hu(Ui,ho,or,$i+4),ji.La&&Xc(Ui,ho,or,$i);else{var Ro=ti.B,Xu=ti.qa,id=ti.ra+8*Ti*Ro+8*jr,Zu=ti.Ha,ti=ti.Ia+8*Ti*Ro+8*jr;Ti=ji.ld,0<jr&&(hl(Ui,ho,or,$i+4,lr,Ti),Bu(Xu,id,Zu,ti,Ro,$i+4,lr,Ti)),ji.La&&($u(Ui,ho,or,$i,lr,Ti),rf(Xu,id,Zu,ti,Ro,$i,lr,Ti)),0<en&&(Qc(Ui,ho,or,$i+4,lr,Ti),nf(Xu,id,Zu,ti,Ro,$i+4,lr,Ti)),ji.La&&(Uu(Ui,ho,or,$i,lr,Ti),Kc(Xu,id,Zu,ti,Ro,$i,lr,Ti))}}if(ze.ia&&alert("todo:DitherRow"),Ue.put!=null){if(mn=16*Vn,Vn=16*(Vn+1),Ea?(Ue.y=ze.sa,Ue.O=ze.ta+Er,Ue.f=ze.qa,Ue.N=ze.ra+Wn,Ue.ea=ze.Ha,Ue.W=ze.Ia+Wn):(mn-=jn,Ue.y=Nt,Ue.O=Qt,Ue.f=Tt,Ue.N=gt,Ue.ea=Yn,Ue.W=sr),In||(Vn-=jn),Vn>Ue.o&&(Vn=Ue.o),Ue.F=null,Ue.J=null,ze.Fa!=null&&0<ze.Fa.length&&mn<Vn&&(Ue.J=yh(ze,Ue,mn,Vn-mn),Ue.F=ze.mb,Ue.F==null&&Ue.F.length==0)){pt=Pr(ze,3,"Could not decode alpha data.");break e}mn<Ue.j&&(jn=Ue.j-mn,mn=Ue.j,n(!(1&jn)),Ue.O+=ze.R*jn,Ue.N+=ze.B*(jn>>1),Ue.W+=ze.B*(jn>>1),Ue.F!=null&&(Ue.J+=Ue.width*jn)),mn<Vn&&(Ue.O+=Ue.v,Ue.N+=Ue.v>>1,Ue.W+=Ue.v>>1,Ue.F!=null&&(Ue.J+=Ue.v),Ue.ka=mn-Ue.j,Ue.U=Ue.va-Ue.v,Ue.T=Vn-mn,pt=Ue.put(Ue))}it+1!=ze.Ic||In||(r(ze.sa,ze.ta-vt,Nt,Qt+16*ze.R,vt),r(ze.qa,ze.ra-It,Tt,gt+8*ze.B,It),r(ze.Ha,ze.Ia-It,Yn,sr+8*ze.B,It))}if(!pt)return Pr($e,6,"Output aborted.")}return 1}(S,_)),_.bc!=null&&_.bc(_),M&=1}return M?(S.cb=0,M):0}function ea(S,_,M,V,ne){ne=S[_+M+32*V]+(ne>>3),S[_+M+32*V]=-256&ne?0>ne?0:255:ne}function sl(S,_,M,V,ne,le){ea(S,_,0,M,V+ne),ea(S,_,1,M,V+le),ea(S,_,2,M,V-le),ea(S,_,3,M,V-ne)}function hr(S){return(20091*S>>16)+S}function Eo(S,_,M,V){var ne,le=0,ue=a(16);for(ne=0;4>ne;++ne){var fe=S[_+0]+S[_+8],ye=S[_+0]-S[_+8],Ce=(35468*S[_+4]>>16)-hr(S[_+12]),Fe=hr(S[_+4])+(35468*S[_+12]>>16);ue[le+0]=fe+Fe,ue[le+1]=ye+Ce,ue[le+2]=ye-Ce,ue[le+3]=fe-Fe,le+=4,_++}for(ne=le=0;4>ne;++ne)fe=(S=ue[le+0]+4)+ue[le+8],ye=S-ue[le+8],Ce=(35468*ue[le+4]>>16)-hr(ue[le+12]),ea(M,V,0,0,fe+(Fe=hr(ue[le+4])+(35468*ue[le+12]>>16))),ea(M,V,1,0,ye+Ce),ea(M,V,2,0,ye-Ce),ea(M,V,3,0,fe-Fe),le++,V+=32}function Wl(S,_,M,V){var ne=S[_+0]+4,le=35468*S[_+4]>>16,ue=hr(S[_+4]),fe=35468*S[_+1]>>16;sl(M,V,0,ne+ue,S=hr(S[_+1]),fe),sl(M,V,1,ne+le,S,fe),sl(M,V,2,ne-le,S,fe),sl(M,V,3,ne-ue,S,fe)}function _o(S,_,M,V,ne){Eo(S,_,M,V),ne&&Eo(S,_+16,M,V+4)}function Hs(S,_,M,V){Do(S,_+0,M,V,1),Do(S,_+32,M,V+128,1)}function Du(S,_,M,V){var ne;for(S=S[_+0]+4,ne=0;4>ne;++ne)for(_=0;4>_;++_)ea(M,V,_,ne,S)}function Ws(S,_,M,V){S[_+0]&&Bi(S,_+0,M,V),S[_+16]&&Bi(S,_+16,M,V+4),S[_+32]&&Bi(S,_+32,M,V+128),S[_+48]&&Bi(S,_+48,M,V+128+4)}function qi(S,_,M,V){var ne,le=a(16);for(ne=0;4>ne;++ne){var ue=S[_+0+ne]+S[_+12+ne],fe=S[_+4+ne]+S[_+8+ne],ye=S[_+4+ne]-S[_+8+ne],Ce=S[_+0+ne]-S[_+12+ne];le[0+ne]=ue+fe,le[8+ne]=ue-fe,le[4+ne]=Ce+ye,le[12+ne]=Ce-ye}for(ne=0;4>ne;++ne)ue=(S=le[0+4*ne]+3)+le[3+4*ne],fe=le[1+4*ne]+le[2+4*ne],ye=le[1+4*ne]-le[2+4*ne],Ce=S-le[3+4*ne],M[V+0]=ue+fe>>3,M[V+16]=Ce+ye>>3,M[V+32]=ue-fe>>3,M[V+48]=Ce-ye>>3,V+=64}function as(S,_,M){var V,ne=_-32,le=Aa,ue=255-S[ne-1];for(V=0;V<M;++V){var fe,ye=le,Ce=ue+S[_-1];for(fe=0;fe<M;++fe)S[_+fe]=ye[Ce+S[ne+fe]];_+=32}}function vs(S,_){as(S,_,4)}function Lu(S,_){as(S,_,8)}function qa(S,_){as(S,_,16)}function Ys(S,_){var M;for(M=0;16>M;++M)r(S,_+32*M,S,_-32,16)}function ol(S,_){var M;for(M=16;0<M;--M)i(S,_,S[_-1],16),_+=32}function Vs(S,_,M){var V;for(V=0;16>V;++V)i(_,M+32*V,S,16)}function ll(S,_){var M,V=16;for(M=0;16>M;++M)V+=S[_-1+32*M]+S[_+M-32];Vs(V>>5,S,_)}function oi(S,_){var M,V=8;for(M=0;16>M;++M)V+=S[_-1+32*M];Vs(V>>4,S,_)}function Jr(S,_){var M,V=8;for(M=0;16>M;++M)V+=S[_+M-32];Vs(V>>4,S,_)}function ws(S,_){Vs(128,S,_)}function tn(S,_,M){return S+2*_+M+2>>2}function so(S,_){var M,V=_-32;for(V=new Uint8Array([tn(S[V-1],S[V+0],S[V+1]),tn(S[V+0],S[V+1],S[V+2]),tn(S[V+1],S[V+2],S[V+3]),tn(S[V+2],S[V+3],S[V+4])]),M=0;4>M;++M)r(S,_+32*M,V,0,V.length)}function ul(S,_){var M=S[_-1],V=S[_-1+32],ne=S[_-1+64],le=S[_-1+96];De(S,_+0,16843009*tn(S[_-1-32],M,V)),De(S,_+32,16843009*tn(M,V,ne)),De(S,_+64,16843009*tn(V,ne,le)),De(S,_+96,16843009*tn(ne,le,le))}function Ei(S,_){var M,V=4;for(M=0;4>M;++M)V+=S[_+M-32]+S[_-1+32*M];for(V>>=3,M=0;4>M;++M)i(S,_+32*M,V,4)}function Ba(S,_){var M=S[_-1+0],V=S[_-1+32],ne=S[_-1+64],le=S[_-1-32],ue=S[_+0-32],fe=S[_+1-32],ye=S[_+2-32],Ce=S[_+3-32];S[_+0+96]=tn(V,ne,S[_-1+96]),S[_+1+96]=S[_+0+64]=tn(M,V,ne),S[_+2+96]=S[_+1+64]=S[_+0+32]=tn(le,M,V),S[_+3+96]=S[_+2+64]=S[_+1+32]=S[_+0+0]=tn(ue,le,M),S[_+3+64]=S[_+2+32]=S[_+1+0]=tn(fe,ue,le),S[_+3+32]=S[_+2+0]=tn(ye,fe,ue),S[_+3+0]=tn(Ce,ye,fe)}function ko(S,_){var M=S[_+1-32],V=S[_+2-32],ne=S[_+3-32],le=S[_+4-32],ue=S[_+5-32],fe=S[_+6-32],ye=S[_+7-32];S[_+0+0]=tn(S[_+0-32],M,V),S[_+1+0]=S[_+0+32]=tn(M,V,ne),S[_+2+0]=S[_+1+32]=S[_+0+64]=tn(V,ne,le),S[_+3+0]=S[_+2+32]=S[_+1+64]=S[_+0+96]=tn(ne,le,ue),S[_+3+32]=S[_+2+64]=S[_+1+96]=tn(le,ue,fe),S[_+3+64]=S[_+2+96]=tn(ue,fe,ye),S[_+3+96]=tn(fe,ye,ye)}function Ua(S,_){var M=S[_-1+0],V=S[_-1+32],ne=S[_-1+64],le=S[_-1-32],ue=S[_+0-32],fe=S[_+1-32],ye=S[_+2-32],Ce=S[_+3-32];S[_+0+0]=S[_+1+64]=le+ue+1>>1,S[_+1+0]=S[_+2+64]=ue+fe+1>>1,S[_+2+0]=S[_+3+64]=fe+ye+1>>1,S[_+3+0]=ye+Ce+1>>1,S[_+0+96]=tn(ne,V,M),S[_+0+64]=tn(V,M,le),S[_+0+32]=S[_+1+96]=tn(M,le,ue),S[_+1+32]=S[_+2+96]=tn(le,ue,fe),S[_+2+32]=S[_+3+96]=tn(ue,fe,ye),S[_+3+32]=tn(fe,ye,Ce)}function Da(S,_){var M=S[_+0-32],V=S[_+1-32],ne=S[_+2-32],le=S[_+3-32],ue=S[_+4-32],fe=S[_+5-32],ye=S[_+6-32],Ce=S[_+7-32];S[_+0+0]=M+V+1>>1,S[_+1+0]=S[_+0+64]=V+ne+1>>1,S[_+2+0]=S[_+1+64]=ne+le+1>>1,S[_+3+0]=S[_+2+64]=le+ue+1>>1,S[_+0+32]=tn(M,V,ne),S[_+1+32]=S[_+0+96]=tn(V,ne,le),S[_+2+32]=S[_+1+96]=tn(ne,le,ue),S[_+3+32]=S[_+2+96]=tn(le,ue,fe),S[_+3+64]=tn(ue,fe,ye),S[_+3+96]=tn(fe,ye,Ce)}function $a(S,_){var M=S[_-1+0],V=S[_-1+32],ne=S[_-1+64],le=S[_-1+96];S[_+0+0]=M+V+1>>1,S[_+2+0]=S[_+0+32]=V+ne+1>>1,S[_+2+32]=S[_+0+64]=ne+le+1>>1,S[_+1+0]=tn(M,V,ne),S[_+3+0]=S[_+1+32]=tn(V,ne,le),S[_+3+32]=S[_+1+64]=tn(ne,le,le),S[_+3+64]=S[_+2+64]=S[_+0+96]=S[_+1+96]=S[_+2+96]=S[_+3+96]=le}function No(S,_){var M=S[_-1+0],V=S[_-1+32],ne=S[_-1+64],le=S[_-1+96],ue=S[_-1-32],fe=S[_+0-32],ye=S[_+1-32],Ce=S[_+2-32];S[_+0+0]=S[_+2+32]=M+ue+1>>1,S[_+0+32]=S[_+2+64]=V+M+1>>1,S[_+0+64]=S[_+2+96]=ne+V+1>>1,S[_+0+96]=le+ne+1>>1,S[_+3+0]=tn(fe,ye,Ce),S[_+2+0]=tn(ue,fe,ye),S[_+1+0]=S[_+3+32]=tn(M,ue,fe),S[_+1+32]=S[_+3+64]=tn(V,M,ue),S[_+1+64]=S[_+3+96]=tn(ne,V,M),S[_+1+96]=tn(le,ne,V)}function cl(S,_){var M;for(M=0;8>M;++M)r(S,_+32*M,S,_-32,8)}function oo(S,_){var M;for(M=0;8>M;++M)i(S,_,S[_-1],8),_+=32}function Ss(S,_,M){var V;for(V=0;8>V;++V)i(_,M+32*V,S,8)}function H(S,_){var M,V=8;for(M=0;8>M;++M)V+=S[_+M-32]+S[_-1+32*M];Ss(V>>4,S,_)}function me(S,_){var M,V=4;for(M=0;8>M;++M)V+=S[_+M-32];Ss(V>>3,S,_)}function Oe(S,_){var M,V=4;for(M=0;8>M;++M)V+=S[_-1+32*M];Ss(V>>3,S,_)}function lt(S,_){Ss(128,S,_)}function Jt(S,_,M){var V=S[_-M],ne=S[_+0],le=3*(ne-V)+Mp[1020+S[_-2*M]-S[_+M]],ue=Zc[112+(le+4>>3)];S[_-M]=Aa[255+V+Zc[112+(le+3>>3)]],S[_+0]=Aa[255+ne-ue]}function Bt(S,_,M,V){var ne=S[_+0],le=S[_+M];return co[255+S[_-2*M]-S[_-M]]>V||co[255+le-ne]>V}function Tn(S,_,M,V){return 4*co[255+S[_-M]-S[_+0]]+co[255+S[_-2*M]-S[_+M]]<=V}function Cn(S,_,M,V,ne){var le=S[_-3*M],ue=S[_-2*M],fe=S[_-M],ye=S[_+0],Ce=S[_+M],Fe=S[_+2*M],Ke=S[_+3*M];return 4*co[255+fe-ye]+co[255+ue-Ce]>V?0:co[255+S[_-4*M]-le]<=ne&&co[255+le-ue]<=ne&&co[255+ue-fe]<=ne&&co[255+Ke-Fe]<=ne&&co[255+Fe-Ce]<=ne&&co[255+Ce-ye]<=ne}function pr(S,_,M,V){var ne=2*V+1;for(V=0;16>V;++V)Tn(S,_+V,M,ne)&&Jt(S,_+V,M)}function pn(S,_,M,V){var ne=2*V+1;for(V=0;16>V;++V)Tn(S,_+V*M,1,ne)&&Jt(S,_+V*M,1)}function Tr(S,_,M,V){var ne;for(ne=3;0<ne;--ne)pr(S,_+=4*M,M,V)}function va(S,_,M,V){var ne;for(ne=3;0<ne;--ne)pn(S,_+=4,M,V)}function Ar(S,_,M,V,ne,le,ue,fe){for(le=2*le+1;0<ne--;){if(Cn(S,_,M,le,ue))if(Bt(S,_,M,fe))Jt(S,_,M);else{var ye=S,Ce=_,Fe=M,Ke=ye[Ce-2*Fe],Ge=ye[Ce-Fe],$e=ye[Ce+0],xt=ye[Ce+Fe],it=ye[Ce+2*Fe],ze=27*(pt=Mp[1020+3*($e-Ge)+Mp[1020+Ke-xt]])+63>>7,Ue=18*pt+63>>7,pt=9*pt+63>>7;ye[Ce-3*Fe]=Aa[255+ye[Ce-3*Fe]+pt],ye[Ce-2*Fe]=Aa[255+Ke+Ue],ye[Ce-Fe]=Aa[255+Ge+ze],ye[Ce+0]=Aa[255+$e-ze],ye[Ce+Fe]=Aa[255+xt-Ue],ye[Ce+2*Fe]=Aa[255+it-pt]}_+=V}}function Cr(S,_,M,V,ne,le,ue,fe){for(le=2*le+1;0<ne--;){if(Cn(S,_,M,le,ue))if(Bt(S,_,M,fe))Jt(S,_,M);else{var ye=S,Ce=_,Fe=M,Ke=ye[Ce-Fe],Ge=ye[Ce+0],$e=ye[Ce+Fe],xt=Zc[112+((it=3*(Ge-Ke))+4>>3)],it=Zc[112+(it+3>>3)],ze=xt+1>>1;ye[Ce-2*Fe]=Aa[255+ye[Ce-2*Fe]+ze],ye[Ce-Fe]=Aa[255+Ke+it],ye[Ce+0]=Aa[255+Ge-xt],ye[Ce+Fe]=Aa[255+$e-ze]}_+=V}}function Qr(S,_,M,V,ne,le){Ar(S,_,M,1,16,V,ne,le)}function Ha(S,_,M,V,ne,le){Ar(S,_,1,M,16,V,ne,le)}function Gs(S,_,M,V,ne,le){var ue;for(ue=3;0<ue;--ue)Cr(S,_+=4*M,M,1,16,V,ne,le)}function As(S,_,M,V,ne,le){var ue;for(ue=3;0<ue;--ue)Cr(S,_+=4,1,M,16,V,ne,le)}function Gd(S,_,M,V,ne,le,ue,fe){Ar(S,_,ne,1,8,le,ue,fe),Ar(M,V,ne,1,8,le,ue,fe)}function dl(S,_,M,V,ne,le,ue,fe){Ar(S,_,1,ne,8,le,ue,fe),Ar(M,V,1,ne,8,le,ue,fe)}function To(S,_,M,V,ne,le,ue,fe){Cr(S,_+4*ne,ne,1,8,le,ue,fe),Cr(M,V+4*ne,ne,1,8,le,ue,fe)}function Lp(S,_,M,V,ne,le,ue,fe){Cr(S,_+4,1,ne,8,le,ue,fe),Cr(M,V+4,1,ne,8,le,ue,fe)}function Qd(){this.ba=new Gr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Rn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function gh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function bh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Kd(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new j,this.yc=new O}function _m(){this.xb=this.a=0,this.l=new io,this.ca=new Gr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Kd,this.ab=0,this.gc=s(4,bh),this.Oc=0}function Xd(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new io,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Wc(S,_,M,V,ne,le,ue){for(S=S==null?0:S[_+0],_=0;_<ue;++_)ne[le+_]=S+M[V+_]&255,S=ne[le+_]}function Zd(S,_,M,V,ne,le,ue){var fe;if(S==null)Wc(null,null,M,V,ne,le,ue);else for(fe=0;fe<ue;++fe)ne[le+fe]=S[_+fe]+M[V+fe]&255}function Ru(S,_,M,V,ne,le,ue){if(S==null)Wc(null,null,M,V,ne,le,ue);else{var fe,ye=S[_+0],Ce=ye,Fe=ye;for(fe=0;fe<ue;++fe)Ce=Fe+(ye=S[_+fe])-Ce,Fe=M[V+fe]+(-256&Ce?0>Ce?0:255:Ce)&255,Ce=ye,ne[le+fe]=Fe}}function yh(S,_,M,V){var ne=_.width,le=_.o;if(n(S!=null&&_!=null),0>M||0>=V||M+V>le)return null;if(!S.Cc){if(S.ga==null){var ue;if(S.ga=new Xd,(ue=S.ga==null)||(ue=_.width*_.o,n(S.Gb.length==0),S.Gb=a(ue),S.Uc=0,S.Gb==null?ue=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,ue=1),ue=!ue),!ue){ue=S.ga;var fe=S.Fa,ye=S.P,Ce=S.qc,Fe=S.mb,Ke=S.nb,Ge=ye+1,$e=Ce-1,xt=ue.l;if(n(fe!=null&&Fe!=null&&_!=null),gl[0]=null,gl[1]=Wc,gl[2]=Zd,gl[3]=Ru,ue.ca=Fe,ue.tb=Ke,ue.c=_.width,ue.i=_.height,n(0<ue.c&&0<ue.i),1>=Ce)_=0;else if(ue.$a=fe[ye+0]>>0&3,ue.Z=fe[ye+0]>>2&3,ue.Lc=fe[ye+0]>>4&3,ye=fe[ye+0]>>6&3,0>ue.$a||1<ue.$a||4<=ue.Z||1<ue.Lc||ye)_=0;else if(xt.put=si,xt.ac=Sr,xt.bc=xa,xt.ma=ue,xt.width=_.width,xt.height=_.height,xt.Da=_.Da,xt.v=_.v,xt.va=_.va,xt.j=_.j,xt.o=_.o,ue.$a)e:{n(ue.$a==1),_=Ci();t:for(;;){if(_==null){_=0;break e}if(n(ue!=null),ue.mc=_,_.c=ue.c,_.i=ue.i,_.l=ue.l,_.l.ma=ue,_.l.width=ue.c,_.l.height=ue.i,_.a=0,ie(_.m,fe,Ge,$e),!er(ue.c,ue.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Nr(_.s)?(ue.ic=1,fe=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(fe),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(ue.ic=0,_=ro(_,ue.c)),!_))break t;_=1;break e}ue.mc=null,_=0}else _=$e>=ue.c*ue.i;ue=!_}if(ue)return null;S.ga.Lc!=1?S.Ga=0:V=le-M}n(S.ga!=null),n(M+V<=le);e:{if(_=(fe=S.ga).c,le=fe.l.o,fe.$a==0){if(Ge=S.rc,$e=S.Vc,xt=S.Fa,ye=S.P+1+M*_,Ce=S.mb,Fe=S.nb+M*_,n(ye<=S.P+S.qc),fe.Z!=0)for(n(gl[fe.Z]!=null),ue=0;ue<V;++ue)gl[fe.Z](Ge,$e,xt,ye,Ce,Fe,_),Ge=Ce,$e=Fe,Fe+=_,ye+=_;else for(ue=0;ue<V;++ue)r(Ce,Fe,xt,ye,_),Ge=Ce,$e=Fe,Fe+=_,ye+=_;S.rc=Ge,S.Vc=$e}else{if(n(fe.mc!=null),_=M+V,n((ue=fe.mc)!=null),n(_<=ue.i),ue.C>=_)_=1;else if(fe.ic||Ve(),fe.ic){fe=ue.V,Ge=ue.Ba,$e=ue.c;var it=ue.i,ze=(xt=1,ye=ue.$/$e,Ce=ue.$%$e,Fe=ue.m,Ke=ue.s,ue.$),Ue=$e*it,pt=$e*_,vt=Ke.wc,gt=ze<pt?fr(Ke,Ce,ye):null;n(ze<=Ue),n(_<=it),n(Nr(Ke));t:for(;;){for(;!Fe.h&&ze<pt;){if(Ce&vt||(gt=fr(Ke,Ce,ye)),n(gt!=null),oe(Fe),256>(it=Mr(gt.G[0],gt.H[0],Fe)))fe[Ge+ze]=it,++ze,++Ce>=$e&&(Ce=0,++ye<=_&&!(ye%16)&&Pi(ue,ye));else{if(!(280>it)){xt=0;break t}it=Hn(it-256,Fe);var It,Nt=Mr(gt.G[4],gt.H[4],Fe);if(oe(Fe),!(ze>=(Nt=ar($e,Nt=Hn(Nt,Fe)))&&Ue-ze>=it)){xt=0;break t}for(It=0;It<it;++It)fe[Ge+ze+It]=fe[Ge+ze+It-Nt];for(ze+=it,Ce+=it;Ce>=$e;)Ce-=$e,++ye<=_&&!(ye%16)&&Pi(ue,ye);ze<pt&&Ce&vt&&(gt=fr(Ke,Ce,ye))}n(Fe.h==Z(Fe))}Pi(ue,ye>_?_:ye);break t}!xt||Fe.h&&ze<Ue?(xt=0,ue.a=Fe.h?5:3):ue.$=ze,_=xt}else _=zi(ue,ue.V,ue.Ba,ue.c,ue.i,_,Co);if(!_){V=0;break e}}M+V>=le&&(S.Cc=1),V=1}if(!V)return null;if(S.Cc&&((V=S.ga)!=null&&(V.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+M*ne}function D(S,_,M,V,ne,le){for(;0<ne--;){var ue,fe=S,ye=_+(M?1:0),Ce=S,Fe=_+(M?0:3);for(ue=0;ue<V;++ue){var Ke=Ce[Fe+4*ue];Ke!=255&&(Ke*=32897,fe[ye+4*ue+0]=fe[ye+4*ue+0]*Ke>>23,fe[ye+4*ue+1]=fe[ye+4*ue+1]*Ke>>23,fe[ye+4*ue+2]=fe[ye+4*ue+2]*Ke>>23)}_+=le}}function re(S,_,M,V,ne){for(;0<V--;){var le;for(le=0;le<M;++le){var ue=S[_+2*le+0],fe=15&(Ce=S[_+2*le+1]),ye=4369*fe,Ce=(240&Ce|Ce>>4)*ye>>16;S[_+2*le+0]=(240&ue|ue>>4)*ye>>16&240|(15&ue|ue<<4)*ye>>16>>4&15,S[_+2*le+1]=240&Ce|fe}_+=ne}}function _e(S,_,M,V,ne,le,ue,fe){var ye,Ce,Fe=255;for(Ce=0;Ce<ne;++Ce){for(ye=0;ye<V;++ye){var Ke=S[_+ye];le[ue+4*ye]=Ke,Fe&=Ke}_+=M,ue+=fe}return Fe!=255}function Re(S,_,M,V,ne){var le;for(le=0;le<ne;++le)M[V+le]=S[_+le]>>8}function Ve(){Ks=D,Dn=re,Ln=_e,zr=Re}function dt(S,_,M){L[S]=function(V,ne,le,ue,fe,ye,Ce,Fe,Ke,Ge,$e,xt,it,ze,Ue,pt,vt){var gt,It=vt-1>>1,Nt=fe[ye+0]|Ce[Fe+0]<<16,Qt=Ke[Ge+0]|$e[xt+0]<<16;n(V!=null);var Tt=3*Nt+Qt+131074>>2;for(_(V[ne+0],255&Tt,Tt>>16,it,ze),le!=null&&(Tt=3*Qt+Nt+131074>>2,_(le[ue+0],255&Tt,Tt>>16,Ue,pt)),gt=1;gt<=It;++gt){var Yn=fe[ye+gt]|Ce[Fe+gt]<<16,sr=Ke[Ge+gt]|$e[xt+gt]<<16,In=Nt+Yn+Qt+sr+524296,jn=In+2*(Yn+Qt)>>3;Tt=jn+Nt>>1,Nt=(In=In+2*(Nt+sr)>>3)+Yn>>1,_(V[ne+2*gt-1],255&Tt,Tt>>16,it,ze+(2*gt-1)*M),_(V[ne+2*gt-0],255&Nt,Nt>>16,it,ze+(2*gt-0)*M),le!=null&&(Tt=In+Qt>>1,Nt=jn+sr>>1,_(le[ue+2*gt-1],255&Tt,Tt>>16,Ue,pt+(2*gt-1)*M),_(le[ue+2*gt+0],255&Nt,Nt>>16,Ue,pt+(2*gt+0)*M)),Nt=Yn,Qt=sr}1&vt||(Tt=3*Nt+Qt+131074>>2,_(V[ne+vt-1],255&Tt,Tt>>16,it,ze+(vt-1)*M),le!=null&&(Tt=3*Qt+Nt+131074>>2,_(le[ue+vt-1],255&Tt,Tt>>16,Ue,pt+(vt-1)*M)))}}function Ct(){Ca[Wa]=nu,Ca[af]=bl,Ca[pl]=Qu,Ca[Sh]=zp,Ca[Jc]=qp,Ca[Xl]=lf,Ca[Fp]=Bp,Ca[Ah]=bl,Ca[Vu]=zp,Ca[Zl]=qp,Ca[sf]=lf}function Ot(S){return S&-16384?0>S?0:255:S>>A2}function $t(S,_){return Ot((19077*S>>8)+(26149*_>>8)-14234)}function xn(S,_,M){return Ot((19077*S>>8)-(6419*_>>8)-(13320*M>>8)+8708)}function fn(S,_){return Ot((19077*S>>8)+(33050*_>>8)-17685)}function qn(S,_,M,V,ne){V[ne+0]=$t(S,M),V[ne+1]=xn(S,_,M),V[ne+2]=fn(S,_)}function ei(S,_,M,V,ne){V[ne+0]=fn(S,_),V[ne+1]=xn(S,_,M),V[ne+2]=$t(S,M)}function li(S,_,M,V,ne){var le=xn(S,_,M);_=le<<3&224|fn(S,_)>>3,V[ne+0]=248&$t(S,M)|le>>5,V[ne+1]=_}function _i(S,_,M,V,ne){var le=240&fn(S,_)|15;V[ne+0]=240&$t(S,M)|xn(S,_,M)>>4,V[ne+1]=le}function ki(S,_,M,V,ne){V[ne+0]=255,qn(S,_,M,V,ne+1)}function wa(S,_,M,V,ne){ei(S,_,M,V,ne),V[ne+3]=255}function jo(S,_,M,V,ne){qn(S,_,M,V,ne),V[ne+3]=255}function Qs(S,_){return 0>S?0:S>_?_:S}function Oo(S,_,M){L[S]=function(V,ne,le,ue,fe,ye,Ce,Fe,Ke){for(var Ge=Fe+(-2&Ke)*M;Fe!=Ge;)_(V[ne+0],le[ue+0],fe[ye+0],Ce,Fe),_(V[ne+1],le[ue+0],fe[ye+0],Ce,Fe+M),ne+=2,++ue,++ye,Fe+=2*M;1&Ke&&_(V[ne+0],le[ue+0],fe[ye+0],Ce,Fe)}}function xh(S,_,M){return M==0?S==0?_==0?6:5:_==0?4:0:M}function Yl(S,_,M,V,ne){switch(S>>>30){case 3:Do(_,M,V,ne,0);break;case 2:mi(_,M,V,ne);break;case 1:Bi(_,M,V,ne)}}function Vl(S,_){var M,V,ne=_.M,le=_.Nb,ue=S.oc,fe=S.pc+40,ye=S.oc,Ce=S.pc+584,Fe=S.oc,Ke=S.pc+600;for(M=0;16>M;++M)ue[fe+32*M-1]=129;for(M=0;8>M;++M)ye[Ce+32*M-1]=129,Fe[Ke+32*M-1]=129;for(0<ne?ue[fe-1-32]=ye[Ce-1-32]=Fe[Ke-1-32]=129:(i(ue,fe-32-1,127,21),i(ye,Ce-32-1,127,9),i(Fe,Ke-32-1,127,9)),V=0;V<S.za;++V){var Ge=_.ya[_.aa+V];if(0<V){for(M=-1;16>M;++M)r(ue,fe+32*M-4,ue,fe+32*M+12,4);for(M=-1;8>M;++M)r(ye,Ce+32*M-4,ye,Ce+32*M+4,4),r(Fe,Ke+32*M-4,Fe,Ke+32*M+4,4)}var $e=S.Gd,xt=S.Hd+V,it=Ge.ad,ze=Ge.Hc;if(0<ne&&(r(ue,fe-32,$e[xt].y,0,16),r(ye,Ce-32,$e[xt].f,0,8),r(Fe,Ke-32,$e[xt].ea,0,8)),Ge.Za){var Ue=ue,pt=fe-32+16;for(0<ne&&(V>=S.za-1?i(Ue,pt,$e[xt].y[15],4):r(Ue,pt,$e[xt+1].y,0,4)),M=0;4>M;M++)Ue[pt+128+M]=Ue[pt+256+M]=Ue[pt+384+M]=Ue[pt+0+M];for(M=0;16>M;++M,ze<<=2)Ue=ue,pt=fe+rd[M],os[Ge.Ob[M]](Ue,pt),Yl(ze,it,16*+M,Ue,pt)}else if(Ue=xh(V,ne,Ge.Ob[0]),tu[Ue](ue,fe),ze!=0)for(M=0;16>M;++M,ze<<=2)Yl(ze,it,16*+M,ue,fe+rd[M]);for(M=Ge.Gc,Ue=xh(V,ne,Ge.Dd),Zs[Ue](ye,Ce),Zs[Ue](Fe,Ke),ze=it,Ue=ye,pt=Ce,255&(Ge=M>>0)&&(170&Ge?Lo(ze,256,Ue,pt):_s(ze,256,Ue,pt)),Ge=Fe,ze=Ke,255&(M>>=8)&&(170&M?Lo(it,320,Ge,ze):_s(it,320,Ge,ze)),ne<S.Ub-1&&(r($e[xt].y,0,ue,fe+480,16),r($e[xt].f,0,ye,Ce+224,8),r($e[xt].ea,0,Fe,Ke+224,8)),M=8*le*S.B,$e=S.sa,xt=S.ta+16*V+16*le*S.R,it=S.qa,Ge=S.ra+8*V+M,ze=S.Ha,Ue=S.Ia+8*V+M,M=0;16>M;++M)r($e,xt+M*S.R,ue,fe+32*M,16);for(M=0;8>M;++M)r(it,Ge+M*S.B,ye,Ce+32*M,8),r(ze,Ue+M*S.B,Fe,Ke+32*M,8)}}function Jd(S,_,M,V,ne,le,ue,fe,ye){var Ce=[0],Fe=[0],Ke=0,Ge=ye!=null?ye.kd:0,$e=ye??new gh;if(S==null||12>M)return 7;$e.data=S,$e.w=_,$e.ha=M,_=[_],M=[M],$e.gb=[$e.gb];e:{var xt=_,it=M,ze=$e.gb;if(n(S!=null),n(it!=null),n(ze!=null),ze[0]=0,12<=it[0]&&!t(S,xt[0],"RIFF")){if(t(S,xt[0]+8,"WEBP")){ze=3;break e}var Ue=Ye(S,xt[0]+4);if(12>Ue||4294967286<Ue){ze=3;break e}if(Ge&&Ue>it[0]-8){ze=7;break e}ze[0]=Ue,xt[0]+=12,it[0]-=12}ze=0}if(ze!=0)return ze;for(Ue=0<$e.gb[0],M=M[0];;){e:{var pt=S;it=_,ze=M;var vt=Ce,gt=Fe,It=xt=[0];if((Tt=Ke=[Ke])[0]=0,8>ze[0])ze=7;else{if(!t(pt,it[0],"VP8X")){if(Ye(pt,it[0]+4)!=10){ze=3;break e}if(18>ze[0]){ze=7;break e}var Nt=Ye(pt,it[0]+8),Qt=1+We(pt,it[0]+12);if(2147483648<=Qt*(pt=1+We(pt,it[0]+15))){ze=3;break e}It!=null&&(It[0]=Nt),vt!=null&&(vt[0]=Qt),gt!=null&&(gt[0]=pt),it[0]+=18,ze[0]-=18,Tt[0]=1}ze=0}}if(Ke=Ke[0],xt=xt[0],ze!=0)return ze;if(it=!!(2&xt),!Ue&&Ke)return 3;if(le!=null&&(le[0]=!!(16&xt)),ue!=null&&(ue[0]=it),fe!=null&&(fe[0]=0),ue=Ce[0],xt=Fe[0],Ke&&it&&ye==null){ze=0;break}if(4>M){ze=7;break}if(Ue&&Ke||!Ue&&!Ke&&!t(S,_[0],"ALPH")){M=[M],$e.na=[$e.na],$e.P=[$e.P],$e.Sa=[$e.Sa];e:{Nt=S,ze=_,Ue=M;var Tt=$e.gb;vt=$e.na,gt=$e.P,It=$e.Sa,Qt=22,n(Nt!=null),n(Ue!=null),pt=ze[0];var Yn=Ue[0];for(n(vt!=null),n(It!=null),vt[0]=null,gt[0]=null,It[0]=0;;){if(ze[0]=pt,Ue[0]=Yn,8>Yn){ze=7;break e}var sr=Ye(Nt,pt+4);if(4294967286<sr){ze=3;break e}var In=8+sr+1&-2;if(Qt+=In,0<Tt&&Qt>Tt){ze=3;break e}if(!t(Nt,pt,"VP8 ")||!t(Nt,pt,"VP8L")){ze=0;break e}if(Yn[0]<In){ze=7;break e}t(Nt,pt,"ALPH")||(vt[0]=Nt,gt[0]=pt+8,It[0]=sr),pt+=In,Yn-=In}}if(M=M[0],$e.na=$e.na[0],$e.P=$e.P[0],$e.Sa=$e.Sa[0],ze!=0)break}M=[M],$e.Ja=[$e.Ja],$e.xa=[$e.xa];e:if(Tt=S,ze=_,Ue=M,vt=$e.gb[0],gt=$e.Ja,It=$e.xa,Nt=ze[0],pt=!t(Tt,Nt,"VP8 "),Qt=!t(Tt,Nt,"VP8L"),n(Tt!=null),n(Ue!=null),n(gt!=null),n(It!=null),8>Ue[0])ze=7;else{if(pt||Qt){if(Tt=Ye(Tt,Nt+4),12<=vt&&Tt>vt-12){ze=3;break e}if(Ge&&Tt>Ue[0]-8){ze=7;break e}gt[0]=Tt,ze[0]+=8,Ue[0]-=8,It[0]=Qt}else It[0]=5<=Ue[0]&&Tt[Nt+0]==47&&!(Tt[Nt+4]>>5),gt[0]=Ue[0];ze=0}if(M=M[0],$e.Ja=$e.Ja[0],$e.xa=$e.xa[0],_=_[0],ze!=0)break;if(4294967286<$e.Ja)return 3;if(fe==null||it||(fe[0]=$e.xa?2:1),ue=[ue],xt=[xt],$e.xa){if(5>M){ze=7;break}fe=ue,Ge=xt,it=le,S==null||5>M?S=0:5<=M&&S[_+0]==47&&!(S[_+4]>>5)?(Ue=[0],Tt=[0],vt=[0],ie(gt=new U,S,_,M),Lt(gt,Ue,Tt,vt)?(fe!=null&&(fe[0]=Ue[0]),Ge!=null&&(Ge[0]=Tt[0]),it!=null&&(it[0]=vt[0]),S=1):S=0):S=0}else{if(10>M){ze=7;break}fe=xt,S==null||10>M||!Ji(S,_+3,M-3)?S=0:(Ge=S[_+0]|S[_+1]<<8|S[_+2]<<16,it=16383&(S[_+7]<<8|S[_+6]),S=16383&(S[_+9]<<8|S[_+8]),1&Ge||3<(Ge>>1&7)||!(Ge>>4&1)||Ge>>5>=$e.Ja||!it||!S?S=0:(ue&&(ue[0]=it),fe&&(fe[0]=S),S=1))}if(!S||(ue=ue[0],xt=xt[0],Ke&&(Ce[0]!=ue||Fe[0]!=xt)))return 3;ye!=null&&(ye[0]=$e,ye.offset=_-ye.w,n(4294967286>_-ye.w),n(ye.offset==ye.ha-M));break}return ze==0||ze==7&&Ke&&ye==null?(le!=null&&(le[0]|=$e.na!=null&&0<$e.na.length),V!=null&&(V[0]=ue),ne!=null&&(ne[0]=xt),0):ze}function Mu(S,_,M){var V=_.width,ne=_.height,le=0,ue=0,fe=V,ye=ne;if(_.Da=S!=null&&0<S.Da,_.Da&&(fe=S.cd,ye=S.bd,le=S.v,ue=S.j,11>M||(le&=-2,ue&=-2),0>le||0>ue||0>=fe||0>=ye||le+fe>V||ue+ye>ne))return 0;if(_.v=le,_.j=ue,_.va=le+fe,_.o=ue+ye,_.U=fe,_.T=ye,_.da=S!=null&&0<S.da,_.da){if(!be(fe,ye,M=[S.ib],le=[S.hb]))return 0;_.ib=M[0],_.hb=le[0]}return _.ob=S!=null&&S.ob,_.Kb=S==null||!S.Sd,_.da&&(_.ob=_.ib<3*V/4&&_.hb<3*ne/4,_.Kb=0),1}function ef(S){if(S==null)return 2;if(11>S.S){var _=S.f.RGBA;_.fb+=(S.height-1)*_.A,_.A=-_.A}else _=S.f.kb,S=S.height,_.O+=(S-1)*_.fa,_.fa=-_.fa,_.N+=(S-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(S-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(S-1)*_.lb,_.lb=-_.lb);return 0}function Yc(S,_,M,V){if(V==null||0>=S||0>=_)return 2;if(M!=null){if(M.Da){var ne=M.cd,le=M.bd,ue=-2&M.v,fe=-2&M.j;if(0>ue||0>fe||0>=ne||0>=le||ue+ne>S||fe+le>_)return 2;S=ne,_=le}if(M.da){if(!be(S,_,ne=[M.ib],le=[M.hb]))return 2;S=ne[0],_=le[0]}}V.width=S,V.height=_;e:{var ye=V.width,Ce=V.height;if(S=V.S,0>=ye||0>=Ce||!(S>=Wa&&13>S))S=2;else{if(0>=V.Rd&&V.sd==null){ue=le=ne=_=0;var Fe=(fe=ye*_b[S])*Ce;if(11>S||(le=(Ce+1)/2*(_=(ye+1)/2),S==12&&(ue=(ne=ye)*Ce)),(Ce=a(Fe+2*le+ue))==null){S=1;break e}V.sd=Ce,11>S?((ye=V.f.RGBA).eb=Ce,ye.fb=0,ye.A=fe,ye.size=Fe):((ye=V.f.kb).y=Ce,ye.O=0,ye.fa=fe,ye.Fd=Fe,ye.f=Ce,ye.N=0+Fe,ye.Ab=_,ye.Cd=le,ye.ea=Ce,ye.W=0+Fe+le,ye.Db=_,ye.Ed=le,S==12&&(ye.F=Ce,ye.J=0+Fe+2*le),ye.Tc=ue,ye.lb=ne)}if(_=1,ne=V.S,le=V.width,ue=V.height,ne>=Wa&&13>ne)if(11>ne)S=V.f.RGBA,_&=(fe=Math.abs(S.A))*(ue-1)+le<=S.size,_&=fe>=le*_b[ne],_&=S.eb!=null;else{S=V.f.kb,fe=(le+1)/2,Fe=(ue+1)/2,ye=Math.abs(S.fa),Ce=Math.abs(S.Ab);var Ke=Math.abs(S.Db),Ge=Math.abs(S.lb),$e=Ge*(ue-1)+le;_&=ye*(ue-1)+le<=S.Fd,_&=Ce*(Fe-1)+fe<=S.Cd,_=(_&=Ke*(Fe-1)+fe<=S.Ed)&ye>=le&Ce>=fe&Ke>=fe,_&=S.y!=null,_&=S.f!=null,_&=S.ea!=null,ne==12&&(_&=Ge>=le,_&=$e<=S.Tc,_&=S.F!=null)}else _=0;S=_?0:2}}return S!=0||M!=null&&M.fd&&(S=ef(V)),S}var ta=64,Fu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Vc=24,Gc=32,tf=8,Cs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Le("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(S){return S},L.Predictor2=function(S,_,M){return _[M+0]},L.Predictor3=function(S,_,M){return _[M+1]},L.Predictor4=function(S,_,M){return _[M-1]},L.Predictor5=function(S,_,M){return Ne(Ne(S,_[M+1]),_[M+0])},L.Predictor6=function(S,_,M){return Ne(S,_[M-1])},L.Predictor7=function(S,_,M){return Ne(S,_[M+0])},L.Predictor8=function(S,_,M){return Ne(_[M-1],_[M+0])},L.Predictor9=function(S,_,M){return Ne(_[M+0],_[M+1])},L.Predictor10=function(S,_,M){return Ne(Ne(S,_[M-1]),Ne(_[M+0],_[M+1]))},L.Predictor11=function(S,_,M){var V=_[M+0];return 0>=nt(V>>24&255,S>>24&255,(_=_[M-1])>>24&255)+nt(V>>16&255,S>>16&255,_>>16&255)+nt(V>>8&255,S>>8&255,_>>8&255)+nt(255&V,255&S,255&_)?V:S},L.Predictor12=function(S,_,M){var V=_[M+0];return(Xe((S>>24&255)+(V>>24&255)-((_=_[M-1])>>24&255))<<24|Xe((S>>16&255)+(V>>16&255)-(_>>16&255))<<16|Xe((S>>8&255)+(V>>8&255)-(_>>8&255))<<8|Xe((255&S)+(255&V)-(255&_)))>>>0},L.Predictor13=function(S,_,M){var V=_[M-1];return(ut((S=Ne(S,_[M+0]))>>24&255,V>>24&255)<<24|ut(S>>16&255,V>>16&255)<<16|ut(S>>8&255,V>>8&255)<<8|ut(S>>0&255,V>>0&255))>>>0};var km=L.PredictorAdd0;L.PredictorAdd1=Pe,Le("Predictor2","PredictorAdd2"),Le("Predictor3","PredictorAdd3"),Le("Predictor4","PredictorAdd4"),Le("Predictor5","PredictorAdd5"),Le("Predictor6","PredictorAdd6"),Le("Predictor7","PredictorAdd7"),Le("Predictor8","PredictorAdd8"),Le("Predictor9","PredictorAdd9"),Le("Predictor10","PredictorAdd10"),Le("Predictor11","PredictorAdd11"),Le("Predictor12","PredictorAdd12"),Le("Predictor13","PredictorAdd13");var vh=L.PredictorAdd2;ft("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var Rp,lo=L.ColorIndexInverseTransform,Sa=L.MapARGB,Pu=L.VP8LColorIndexInverseTransformAlpha,wh=L.MapAlpha,Gl=L.VP8LPredictorsAdd=[];Gl.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var zu,ss,La,qu,Es,Io,fl,Do,mi,Lo,Bi,_s,Qc,hl,nf,Bu,Uu,$u,Kc,rf,Hu,Ql,Xc,gi,Ks,Dn,Ln,zr,Ni=a(511),uo=a(2041),Wu=a(225),Yu=a(767),Kl=0,Mp=uo,Zc=Wu,Aa=Yu,co=Ni,Wa=0,af=1,pl=2,Sh=3,Jc=4,Xl=5,Fp=6,Ah=7,Vu=8,Zl=9,sf=10,Pp=[2,3,7],fo=[3,3,11],Xs=[280,256,256,256,40],ed=[0,1,1,1,0],Jl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],eu=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],td=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],wb=8,Ch=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Eh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],na=null,bi=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],tr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Gu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ml=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Nm=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],nd=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Sb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],tu=[],os=[],Zs=[],Ab=1,of=2,gl=[],Ca=[];dt("UpsampleRgbLinePair",qn,3),dt("UpsampleBgrLinePair",ei,3),dt("UpsampleRgbaLinePair",jo,4),dt("UpsampleBgraLinePair",wa,4),dt("UpsampleArgbLinePair",ki,4),dt("UpsampleRgba4444LinePair",_i,2),dt("UpsampleRgb565LinePair",li,2);var nu=L.UpsampleRgbLinePair,Qu=L.UpsampleBgrLinePair,bl=L.UpsampleRgbaLinePair,zp=L.UpsampleBgraLinePair,qp=L.UpsampleArgbLinePair,lf=L.UpsampleRgba4444LinePair,Bp=L.UpsampleRgb565LinePair,yl=16,ra=1<<yl-1,Ku=-227,Up=482,A2=6,Cb=0,C2=a(256),ia=a(256),Tm=a(256),_h=a(256),kh=a(Up-Ku),jm=a(Up-Ku);Oo("YuvToRgbRow",qn,3),Oo("YuvToBgrRow",ei,3),Oo("YuvToRgbaRow",jo,4),Oo("YuvToBgraRow",wa,4),Oo("YuvToArgbRow",ki,4),Oo("YuvToRgba4444Row",_i,2),Oo("YuvToRgb565Row",li,2);var rd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ru=[0,2,8],E2=[8,7,6,4,4,2,2,2,1,1,1,1],Eb=1;this.WebPDecodeRGBA=function(S,_,M,V,ne){var le=af,ue=new Qd,fe=new Gr;ue.ba=fe,fe.S=le,fe.width=[fe.width],fe.height=[fe.height];var ye=fe.width,Ce=fe.height,Fe=new ir;if(Fe==null||S==null)var Ke=2;else n(Fe!=null),Ke=Jd(S,_,M,Fe.width,Fe.height,Fe.Pd,Fe.Qd,Fe.format,null);if(Ke!=0?ye=0:(ye!=null&&(ye[0]=Fe.width[0]),Ce!=null&&(Ce[0]=Fe.height[0]),ye=1),ye){fe.width=fe.width[0],fe.height=fe.height[0],V!=null&&(V[0]=fe.width),ne!=null&&(ne[0]=fe.height);e:{if(V=new io,(ne=new gh).data=S,ne.w=_,ne.ha=M,ne.kd=1,_=[0],n(ne!=null),((S=Jd(ne.data,ne.w,ne.ha,null,null,null,_,null,ne))==0||S==7)&&_[0]&&(S=4),(_=S)==0){if(n(ue!=null),V.data=ne.data,V.w=ne.w+ne.offset,V.ha=ne.ha-ne.offset,V.put=si,V.ac=Sr,V.bc=xa,V.ma=ue,ne.xa){if((S=Ci())==null){ue=1;break e}if(function(Ge,$e){var xt=[0],it=[0],ze=[0];t:for(;;){if(Ge==null)return 0;if($e==null)return Ge.a=2,0;if(Ge.l=$e,Ge.a=0,ie(Ge.m,$e.data,$e.w,$e.ha),!Lt(Ge.m,xt,it,ze)){Ge.a=3;break t}if(Ge.xb=of,$e.width=xt[0],$e.height=it[0],!er(xt[0],it[0],1,Ge,null))break t;return 1}return n(Ge.a!=0),0}(S,V)){if(V=(_=Yc(V.width,V.height,ue.Oa,ue.ba))==0){t:{V=S;n:for(;;){if(V==null){V=0;break t}if(n(V.s.yc!=null),n(V.s.Ya!=null),n(0<V.s.Wb),n((M=V.l)!=null),n((ne=M.ma)!=null),V.xb!=0){if(V.ca=ne.ba,V.tb=ne.tb,n(V.ca!=null),!Mu(ne.Oa,M,Sh)){V.a=2;break n}if(!ro(V,M.width)||M.da)break n;if((M.da||ln(V.ca.S))&&Ve(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),V.ca.f.kb.F!=null&&Ve()),V.Pb&&0<V.s.ua&&V.s.vb.X==null&&!Y(V.s.vb,V.s.Wa.Xa)){V.a=1;break n}V.xb=0}if(!zi(V,V.V,V.Ba,V.c,V.i,M.o,bs))break n;ne.Dc=V.Ma,V=1;break t}n(V.a!=0),V=0}V=!V}V&&(_=S.a)}else _=S.a}else{if((S=new Hc)==null){ue=1;break e}if(S.Fa=ne.na,S.P=ne.P,S.qc=ne.Sa,ao(S,V)){if((_=Yc(V.width,V.height,ue.Oa,ue.ba))==0){if(S.Aa=0,M=ue.Oa,n((ne=S)!=null),M!=null){if(0<(ye=0>(ye=M.Md)?0:100<ye?255:255*ye/100)){for(Ce=Fe=0;4>Ce;++Ce)12>(Ke=ne.pb[Ce]).lc&&(Ke.ia=ye*E2[0>Ke.lc?0:Ke.lc]>>3),Fe|=Ke.ia;Fe&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=M.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}Hl(S,V)||(_=S.a)}}else _=S.a}_==0&&ue.Oa!=null&&ue.Oa.fd&&(_=ef(ue.ba))}ue=_}le=ue!=0?null:11>le?fe.f.RGBA.eb:fe.f.kb.y}else le=null;return le};var _b=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(L,B){for(var X="",T=0;T<4;T++)X+=String.fromCharCode(L[B++]);return X}function f(L,B){return(L[B+0]<<0|L[B+1]<<8|L[B+2]<<16)>>>0}function g(L,B){return(L[B+0]<<0|L[B+1]<<8|L[B+2]<<16|L[B+3]<<24)>>>0}new u;var b=[0],m=[0],x=[],y=new u,A=e,w=function(L,B){var X={},T=0,O=!1,P=0,j=0;if(X.frames=[],!function(z,Z,ee,oe){for(var we=0;we<oe;we++)if(z[Z+we]!=ee.charCodeAt(we))return!0;return!1}(L,B,"RIFF",4)){for(g(L,B+=4),B+=8;B<L.length;){var G=d(L,B),W=g(L,B+=4);B+=4;var K=W+(1&W);switch(G){case"VP8 ":case"VP8L":X.frames[T]===void 0&&(X.frames[T]={}),($=X.frames[T]).src_off=O?j:B-8,$.src_size=P+W+8,T++,O&&(O=!1,P=0,j=0);break;case"VP8X":($=X.header={}).feature_flags=L[B];var ie=B+4;$.canvas_width=1+f(L,ie),ie+=3,$.canvas_height=1+f(L,ie),ie+=3;break;case"ALPH":O=!0,P=K+8,j=B-8;break;case"ANIM":($=X.header).bgcolor=g(L,B),ie=B+4,$.loop_count=(ae=L)[(U=ie)+0]<<0|ae[U+1]<<8,ie+=2;break;case"ANMF":var ce,$;($=X.frames[T]={}).offset_x=2*f(L,B),B+=3,$.offset_y=2*f(L,B),B+=3,$.width=1+f(L,B),B+=3,$.height=1+f(L,B),B+=3,$.duration=f(L,B),B+=3,ce=L[B++],$.dispose=1&ce,$.blend=ce>>1&1}G!="ANMF"&&(B+=K)}var ae,U;return X}}(A,0);w.response=A,w.rgbaoutput=!0,w.dataurl=!1;var C=w.header?w.header:null,N=w.frames?w.frames:null;if(C){C.loop_counter=C.loop_count,b=[C.canvas_height],m=[C.canvas_width];for(var R=0;R<N.length&&N[R].blend!=0;R++);}var F=N[0],q=y.WebPDecodeRGBA(A,F.src_off,F.src_size,m,b);F.rgba=q,F.imgwidth=m[0],F.imgheight=b[0];for(var k=0;k<m[0]*b[0]*4;k++)x[k]=q[k];return this.width=m,this.height=b,this.data=x,this}(function(e){var n=function(){return typeof zS=="function"},t=function(b,m,x,y){var A=4,w=s;switch(y){case e.image_compression.FAST:A=1,w=a;break;case e.image_compression.MEDIUM:A=6,w=l;break;case e.image_compression.SLOW:A=9,w=u}b=r(b,m,x,w);var C=zS(b,{level:A});return e.__addimage__.arrayBufferToBinaryString(C)},r=function(b,m,x,y){for(var A,w,C,N=b.length/m,R=new Uint8Array(b.length+N),F=f(),q=0;q<N;q+=1){if(C=q*m,A=b.subarray(C,C+m),y)R.set(y(A,x,w),C+q);else{for(var k,L=F.length,B=[];k<L;k+=1)B[k]=F[k](A,x,w);var X=g(B.concat());R.set(B[X],C+q)}w=A}return R},i=function(b){var m=Array.apply([],b);return m.unshift(0),m},a=function(b,m){var x,y=[],A=b.length;y[0]=1;for(var w=0;w<A;w+=1)x=b[w-m]||0,y[w+1]=b[w]-x+256&255;return y},s=function(b,m,x){var y,A=[],w=b.length;A[0]=2;for(var C=0;C<w;C+=1)y=x&&x[C]||0,A[C+1]=b[C]-y+256&255;return A},l=function(b,m,x){var y,A,w=[],C=b.length;w[0]=3;for(var N=0;N<C;N+=1)y=b[N-m]||0,A=x&&x[N]||0,w[N+1]=b[N]+256-(y+A>>>1)&255;return w},u=function(b,m,x){var y,A,w,C,N=[],R=b.length;N[0]=4;for(var F=0;F<R;F+=1)y=b[F-m]||0,A=x&&x[F]||0,w=x&&x[F-m]||0,C=d(y,A,w),N[F+1]=b[F]-C+256&255;return N},d=function(b,m,x){if(b===m&&m===x)return b;var y=Math.abs(m-x),A=Math.abs(b-x),w=Math.abs(b+m-x-x);return y<=A&&y<=w?b:A<=w?m:x},f=function(){return[i,a,s,l,u]},g=function(b){var m=b.map(function(x){return x.reduce(function(y,A){return y+Math.abs(A)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(b,m,x,y){var A,w,C,N,R,F,q,k,L,B,X,T,O,P,j,G=this.decode.FLATE_DECODE,W="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(C=new _K(b)).imgData,w=C.bits,A=C.colorSpace,R=C.colors,[4,6].indexOf(C.colorType)!==-1){if(C.bits===8){L=(k=C.pixelBitlength==32?new Uint32Array(C.decodePixels().buffer):C.pixelBitlength==16?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,X=new Uint8Array(L*C.colors),B=new Uint8Array(L);var K,ie=C.pixelBitlength-C.bits;for(P=0,j=0;P<L;P++){for(O=k[P],K=0;K<ie;)X[j++]=O>>>K&255,K+=C.bits;B[P]=O>>>K&255}}if(C.bits===16){L=(k=new Uint32Array(C.decodePixels().buffer)).length,X=new Uint8Array(L*(32/C.pixelBitlength)*C.colors),B=new Uint8Array(L*(32/C.pixelBitlength)),T=C.colors>1,P=0,j=0;for(var ce=0;P<L;)O=k[P++],X[j++]=O>>>0&255,T&&(X[j++]=O>>>16&255,O=k[P++],X[j++]=O>>>0&255),B[ce++]=O>>>16&255;w=8}y!==e.image_compression.NONE&&n()?(b=t(X,C.width*C.colors,C.colors,y),q=t(B,C.width,1,y)):(b=X,q=B,G=void 0)}if(C.colorType===3&&(A=this.color_spaces.INDEXED,F=C.palette,C.transparency.indexed)){var $=C.transparency.indexed,ae=0;for(P=0,L=$.length;P<L;++P)ae+=$[P];if((ae/=255)===L-1&&$.indexOf(0)!==-1)N=[$.indexOf(0)];else if(ae!==L){for(k=C.decodePixels(),B=new Uint8Array(k.length),P=0,L=k.length;P<L;P++)B[P]=$[k[P]];q=t(B,C.width,1)}}var U=function(z){var Z;switch(z){case e.image_compression.FAST:Z=11;break;case e.image_compression.MEDIUM:Z=13;break;case e.image_compression.SLOW:Z=14;break;default:Z=12}return Z}(y);return G===this.decode.FLATE_DECODE&&(W="/Predictor "+U+" "),W+="/Colors "+R+" /BitsPerComponent "+w+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(q&&this.__addimage__.isArrayBuffer(q)||this.__addimage__.isArrayBufferView(q))&&(q=this.__addimage__.arrayBufferToBinaryString(q)),{alias:x,data:b,index:m,filter:G,decodeParameters:W,transparency:N,palette:F,sMask:q,predictor:U,width:C.width,height:C.height,bitsPerComponent:w,colorSpace:A}}}})(on.API),function(e){e.processGIF89A=function(n,t,r,i){var a=new kK(n),s=a.width,l=a.height,u=[];a.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:s,height:l},f=new bw(100).encode(d,100);return e.processJPEG.call(this,f,t,r,i)},e.processGIF87A=e.processGIF89A}(on.API),fu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var n=0;n<e;n++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[n]={red:i,green:r,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fu.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,n=this.width*this.height*4;this.data=new Uint8Array(n),this[e]()}catch(t){Xr.log("bit decode error:"+t)}},fu.prototype.bit1=function(){var e,n=Math.ceil(this.width/8),t=n%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<n;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var u=this.palette[a>>7-l&1];this.data[s+4*l]=u.blue,this.data[s+4*l+1]=u.green,this.data[s+4*l+2]=u.red,this.data[s+4*l+3]=255}t!==0&&(this.pos+=4-t)}},fu.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),n=e%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,l=a>>4,u=15&a,d=this.palette[l];if(this.data[s]=d.blue,this.data[s+1]=d.green,this.data[s+2]=d.red,this.data[s+3]=255,2*i+1>=this.width)break;d=this.palette[u],this.data[s+4]=d.blue,this.data[s+4+1]=d.green,this.data[s+4+2]=d.red,this.data[s+4+3]=255}n!==0&&(this.pos+=4-n)}},fu.prototype.bit8=function(){for(var e=this.width%4,n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},fu.prototype.bit15=function(){for(var e=this.width%3,n=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&n)/n*255|0,l=(a>>5&n)/n*255|0,u=(a>>10&n)/n*255|0,d=a>>15?255:0,f=r*this.width*4+4*i;this.data[f]=u,this.data[f+1]=l,this.data[f+2]=s,this.data[f+3]=d}this.pos+=e}},fu.prototype.bit16=function(){for(var e=this.width%3,n=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&n)/n*255|0,u=(s>>5&t)/t*255|0,d=(s>>11)/n*255|0,f=i*this.width*4+4*a;this.data[f]=d,this.data[f+1]=u,this.data[f+2]=l,this.data[f+3]=255}this.pos+=e}},fu.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*t;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},fu.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*t;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=s}},fu.prototype.getData=function(){return this.data},function(e){e.processBMP=function(n,t,r,i){var a=new fu(n,!1),s=a.width,l=a.height,u={data:a.getData(),width:s,height:l},d=new bw(100).encode(u,100);return e.processJPEG.call(this,d,t,r,i)}}(on.API),l4.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(n,t,r,i){var a=new l4(n),s=a.width,l=a.height,u={data:a.getData(),width:s,height:l},d=new bw(100).encode(u,100);return e.processJPEG.call(this,d,t,r,i)}}(on.API),on.API.processRGBA=function(e,n,t){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,u=0,d=0;d<i;d+=4){var f=r[d],g=r[d+1],b=r[d+2],m=r[d+3];a[l++]=f,a[l++]=g,a[l++]=b,s[u++]=m}var x=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:x,index:n,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},on.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},p0=on.API,By=p0.getCharWidthsArray=function(e,n){var t,r,i=(n=n||{}).font||this.internal.getFont(),a=n.fontSize||this.internal.getFontSize(),s=n.charSpace||this.internal.getCharSpace(),l=n.widths?n.widths:i.metadata.Unicode.widths,u=l.fof?l.fof:1,d=n.kerning?n.kerning:i.metadata.Unicode.kerning,f=d.fof?d.fof:1,g=n.doKerning!==!1,b=0,m=e.length,x=0,y=l[0]||u,A=[];for(t=0;t<m;t++)r=e.charCodeAt(t),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(b=g&&Zr(d[r])==="object"&&!isNaN(parseInt(d[r][x],10))?d[r][x]/f:0,A.push((l[r]||y)/u+b)),x=r;return A},i4=p0.getStringUnitWidth=function(e,n){var t=(n=n||{}).fontSize||this.internal.getFontSize(),r=n.font||this.internal.getFont(),i=n.charSpace||this.internal.getCharSpace();return p0.processArabic&&(e=p0.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,t,i)/t:By.apply(this,arguments).reduce(function(a,s){return a+s},0)},a4=function(e,n,t,r){for(var i=[],a=0,s=e.length,l=0;a!==s&&l+n[a]<t;)l+=n[a],a++;i.push(e.slice(0,a));var u=a;for(l=0;a!==s;)l+n[a]>r&&(i.push(e.slice(u,a)),l=0,u=a),l+=n[a],a++;return u!==a&&i.push(e.slice(u,a)),i},s4=function(e,n,t){t||(t={});var r,i,a,s,l,u,d,f=[],g=[f],b=t.textIndent||0,m=0,x=0,y=e.split(" "),A=By.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?y[0].length+2:t.lineIndent||0){var w=Array(u).join(" "),C=[];y.map(function(R){(R=R.split(/\s*\n/)).length>1?C=C.concat(R.map(function(F,q){return(q&&F.length?`
`:"")+F})):C.push(R[0])}),y=C,u=i4.apply(this,[w,t])}for(a=0,s=y.length;a<s;a++){var N=0;if(r=y[a],u&&r[0]==`
`&&(r=r.substr(1),N=1),b+m+(x=(i=By.apply(this,[r,t])).reduce(function(R,F){return R+F},0))>n||N){if(x>n){for(l=a4.apply(this,[r,i,n-(b+m),n]),f.push(l.shift()),f=[l.pop()];l.length;)g.push([l.shift()]);x=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(R,F){return R+F},0)}else f=[r];g.push(f),b=x+u,m=A}else f.push(r),b+=m+x,m=A}return d=u?function(R,F){return(F?w:"")+R.join(" ")}:function(R){return R.join(" ")},g.map(d)},p0.splitTextToSize=function(e,n,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var g=this.internal.getFont(f.fontName,f.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*n/i;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=t.lineIndent;var l,u,d=[];for(l=0,u=r.length;l<u;l++)d=d.concat(s4.apply(this,[r[l],s,a]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var n="klmnopqrstuvwxyz",t={},r={},i=0;i<n.length;i++)t[n[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=n[i];var a=function(g){return"0x"+parseInt(g,10).toString(16)},s=e.__fontmetrics__.compress=function(g){var b,m,x,y,A=["{"];for(var w in g){if(b=g[w],isNaN(parseInt(w,10))?m="'"+w+"'":(w=parseInt(w,10),m=(m=a(w).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof b=="number")b<0?(x=a(b).slice(3),y="-"):(x=a(b).slice(2),y=""),x=y+x.slice(0,-1)+r[x.slice(-1)];else{if(Zr(b)!=="object")throw new Error("Don't know what to do with value type "+Zr(b)+".");x=s(b)}A.push(m+x)}return A.push("}"),A.join("")},l=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,m,x,y,A={},w=1,C=A,N=[],R="",F="",q=g.length-1,k=1;k<q;k+=1)(y=g[k])=="'"?b?(x=b.join(""),b=void 0):b=[]:b?b.push(y):y=="{"?(N.push([C,x]),C={},x=void 0):y=="}"?((m=N.pop())[0][m[1]]=C,x=void 0,C=m[0]):y=="-"?w=-1:x===void 0?t.hasOwnProperty(y)?(R+=t[y],x=parseInt(R,16)*w,w=1,R=""):R+=y:t.hasOwnProperty(y)?(F+=t[y],C[x]=parseInt(F,16)*w,w=1,x=void 0,F=""):F+=y;return A},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var b=g.font,m=f.Unicode[b.postScriptName];m&&(b.metadata.Unicode={},b.metadata.Unicode.widths=m.widths,b.metadata.Unicode.kerning=m.kerning);var x=d.Unicode[b.postScriptName];x&&(b.metadata.Unicode.encoding=x,b.encoding=x.codePages[0])}])}(on.API),function(e){var n=function(t){for(var r=t.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=t.charCodeAt(a);return i};e.API.events.push(["addFont",function(t){var r=void 0,i=t.font,a=t.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?n(l):n(rg(l)),s.metadata=e.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(on),function(e){function n(){return(cn.canvg?Promise.resolve(cn.canvg):Li(()=>import("./index.es-Ce_0uW-S.js"),__vite__mapDeps([6,4,1]))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}on.API.addSvgAsImage=function(t,r,i,a,s,l,u,d){if(isNaN(r)||isNaN(i))throw Xr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Xr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=a,f.height=s;var g=f.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,f.width,f.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return n().then(function(x){return x.fromString(g,t,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(b)}).then(function(){m.addImage(f.toDataURL("image/jpeg",1),r,i,a,s,u,d)})}}(),on.API.putTotalPages=function(e){var n,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(n=new RegExp(e,"g"),t=this.internal.getNumberOfPages()):(n=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(n,t);return this},on.API.viewerPreferences=function(e,n){var t;e=e||{},n=n||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),u=[],d=0,f=0,g=0;function b(x,y){var A,w=!1;for(A=0;A<x.length;A+=1)x[A]===y&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,e==="reset"||n===!0){var m=l.length;for(g=0;g<m;g+=1)t[l[g]].value=t[l[g]].defaultValue,t[l[g]].explicitSet=!1}if(Zr(e)==="object"){for(i in e)if(a=e[i],b(l,i)&&a!==void 0){if(t[i].type==="boolean"&&typeof a=="boolean")t[i].value=a;else if(t[i].type==="name"&&b(t[i].valueSet,a))t[i].value=a;else if(t[i].type==="integer"&&Number.isInteger(a))t[i].value=a;else if(t[i].type==="array"){for(d=0;d<a.length;d+=1)if(r=!0,a[d].length===1&&typeof a[d][0]=="number")u.push(String(a[d]-1));else if(a[d].length>1){for(f=0;f<a[d].length;f+=1)typeof a[d][f]!="number"&&(r=!1);r===!0&&u.push([a[d][0]-1,a[d][1]-1].join(" "))}t[i].value="["+u.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,y=[];for(x in t)t[x].explicitSet===!0&&(t[x].type==="name"?y.push("/"+x+" /"+t[x].value):y.push("/"+x+" "+t[x].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(e){var n=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+s.length+l.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+l+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",n)),this}}(on.API),function(e){var n=e.API,t=n.pdfEscape16=function(a,s){for(var l,u=s.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],g=0,b=a.length;g<b;++g){if(l=s.metadata.characterToGlyph(a.charCodeAt(g)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(g),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(d[4-l.length],l)}return f.join("")},r=function(a){var s,l,u,d,f,g,b;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],g=0,b=(l=Object.keys(a).sort(function(m,x){return m-x})).length;g<b;g++)s=l[g],u.length>=100&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(d=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),u.push("<"+s+"><"+d+">"));return u.length&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};n.events.push(["putFont",function(a){(function(s){var l=s.font,u=s.out,d=s.newObject,f=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var g=l.metadata.Unicode.widths,b=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",x=0;x<b.length;x++)m+=String.fromCharCode(b[x]);var y=d();f({data:m,addLength1:!0,objectId:y}),u("endobj");var A=d();f({data:r(l.metadata.toUnicode),addLength1:!0,objectId:A}),u("endobj");var w=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+R0(l.fontName)),u("/FontFile2 "+y+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var C=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+R0(l.fontName)),u("/FontDescriptor "+w+" 0 R"),u("/W "+e.API.PDFObject.convert(g)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+A+" 0 R"),u("/BaseFont /"+R0(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+C+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(a)}]),n.events.push(["putFont",function(a){(function(s){var l=s.font,u=s.out,d=s.newObject,f=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var g=l.metadata.rawData,b="",m=0;m<g.length;m++)b+=String.fromCharCode(g[m]);var x=d();f({data:b,addLength1:!0,objectId:x}),u("endobj");var y=d();f({data:r(l.metadata.toUnicode),addLength1:!0,objectId:y}),u("endobj");var A=d();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+x+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+R0(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=d();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+R0(l.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,l=a.text||"",u=a.x,d=a.y,f=a.options||{},g=a.mutex||{},b=g.pdfEscape,m=g.activeFontKey,x=g.fonts,y=m,A="",w=0,C="",N=x[y].encoding;if(x[y].encoding!=="Identity-H")return{text:l,x:u,y:d,options:f,mutex:g};for(C=l,y=m,Array.isArray(l)&&(C=l[0]),w=0;w<C.length;w+=1)x[y].metadata.hasOwnProperty("cmap")&&(s=x[y].metadata.cmap.unicode.codeMap[C[w].charCodeAt(0)]),s||C[w].charCodeAt(0)<256&&x[y].metadata.hasOwnProperty("Unicode")?A+=C[w]:A+="";var R="";return parseInt(y.slice(1))<14||N==="WinAnsiEncoding"?R=b(A,y).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(R=t(A,x[y])),g.isHex=!0,{text:R,x:u,y:d,options:f,mutex:g}};n.events.push(["postProcessText",function(a){var s=a.text||"",l=[],u={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var d=0;for(d=0;d<s.length;d+=1)Array.isArray(s[d])&&s[d].length===3?l.push([i(Object.assign({},u,{text:s[d][0]})).text,s[d][1],s[d][2]]):l.push(i(Object.assign({},u,{text:s[d]})).text);a.text=l}else a.text=i(Object.assign({},u,{text:s})).text}])}(on),function(e){var n=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(t){return n.call(this),this.internal.vFS[t]!==void 0},e.addFileToVFS=function(t,r){return n.call(this),this.internal.vFS[t]=r,this},e.getFileFromVFS=function(t){return n.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(on.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,s,l,u,d,f,g=n,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,N=0;this.__bidiEngine__={};var R=function(T){var O=T.charCodeAt(),P=O>>8,j=y[P];return j!==void 0?g[256*j+(255&O)]:P===252||P===253?"AL":w.test(P)?"L":P===8?"R":"N"},F=function(T){for(var O,P=0;P<T.length;P++){if((O=R(T.charAt(P)))==="L")return!1;if(O==="R")return!0}return!1},q=function(T,O,P,j){var G,W,K,ie,ce=O[j];switch(ce){case"L":case"R":C=!1;break;case"N":case"AN":break;case"EN":C&&(ce="AN");break;case"AL":C=!0,ce="R";break;case"WS":ce="N";break;case"CS":j<1||j+1>=O.length||(G=P[j-1])!=="EN"&&G!=="AN"||(W=O[j+1])!=="EN"&&W!=="AN"?ce="N":C&&(W="AN"),ce=W===G?W:"N";break;case"ES":ce=(G=j>0?P[j-1]:"B")==="EN"&&j+1<O.length&&O[j+1]==="EN"?"EN":"N";break;case"ET":if(j>0&&P[j-1]==="EN"){ce="EN";break}if(C){ce="N";break}for(K=j+1,ie=O.length;K<ie&&O[K]==="ET";)K++;ce=K<ie&&O[K]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(ie=O.length,K=j+1;K<ie&&O[K]==="NSM";)K++;if(K<ie){var $=T[j],ae=$>=1425&&$<=2303||$===64286;if(G=O[K],ae&&(G==="R"||G==="AL")){ce="R";break}}}ce=j<1||(G=O[j-1])==="B"?"N":P[j-1];break;case"B":C=!1,i=!0,ce=N;break;case"S":a=!0,ce="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"BN":ce="N"}return ce},k=function(T,O,P){var j=T.split("");return P&&L(j,P,{hiLevel:N}),j.reverse(),O&&O.reverse(),j.join("")},L=function(T,O,P){var j,G,W,K,ie,ce=-1,$=T.length,ae=0,U=[],z=N?m:b,Z=[];for(C=!1,i=!1,a=!1,G=0;G<$;G++)Z[G]=R(T[G]);for(W=0;W<$;W++){if(ie=ae,U[W]=q(T,Z,U,W),j=240&(ae=z[ie][x[U[W]]]),ae&=15,O[W]=K=z[ae][5],j>0)if(j===16){for(G=ce;G<W;G++)O[G]=1;ce=-1}else ce=-1;if(z[ae][6])ce===-1&&(ce=W);else if(ce>-1){for(G=ce;G<W;G++)O[G]=K;ce=-1}Z[W]==="B"&&(O[W]=0),P.hiLevel|=K}a&&function(ee,oe,we){for(var xe=0;xe<we;xe++)if(ee[xe]==="S"){oe[xe]=N;for(var Ee=xe-1;Ee>=0&&ee[Ee]==="WS";Ee--)oe[Ee]=N}}(Z,O,$)},B=function(T,O,P,j,G){if(!(G.hiLevel<T)){if(T===1&&N===1&&!i)return O.reverse(),void(P&&P.reverse());for(var W,K,ie,ce,$=O.length,ae=0;ae<$;){if(j[ae]>=T){for(ie=ae+1;ie<$&&j[ie]>=T;)ie++;for(ce=ae,K=ie-1;ce<K;ce++,K--)W=O[ce],O[ce]=O[K],O[K]=W,P&&(W=P[ce],P[ce]=P[K],P[K]=W);ae=ie}ae++}}},X=function(T,O,P){var j=T.split(""),G={hiLevel:N};return P||(P=[]),L(j,P,G),function(W,K,ie){if(ie.hiLevel!==0&&f)for(var ce,$=0;$<W.length;$++)K[$]===1&&(ce=A.indexOf(W[$]))>=0&&(W[$]=A[ce+1])}(j,P,G),B(2,j,O,P,G),B(1,j,O,P,G),j.join("")};return this.__bidiEngine__.doBidiReorder=function(T,O,P){if(function(G,W){if(W)for(var K=0;K<G.length;K++)W[K]=K;l===void 0&&(l=F(G)),d===void 0&&(d=F(G))}(T,O),s||!u||d)if(s&&u&&l^d)N=l?1:0,T=k(T,O,P);else if(!s&&u&&d)N=l?1:0,T=X(T,O,P),T=k(T,O);else if(!s||l||u||d){if(s&&!u&&l^d)T=k(T,O),l?(N=0,T=X(T,O,P)):(N=1,T=X(T,O,P),T=k(T,O));else if(s&&l&&!u&&d)N=1,T=X(T,O,P),T=k(T,O);else if(!s&&!u&&l^d){var j=f;l?(N=1,T=X(T,O,P),N=0,f=!1,T=X(T,O,P),f=j):(N=0,T=X(T,O,P),T=k(T,O),N=1,f=!1,T=X(T,O,P),f=j,T=k(T,O))}}else N=0,T=X(T,O,P);else N=l?1:0,T=X(T,O,P);return T},this.__bidiEngine__.setOptions=function(T){T&&(s=T.isInputVisual,u=T.isOutputVisual,l=T.isInputRtl,d=T.isOutputRtl,f=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var n=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([t.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([t.doBidiReorder(i[l])]);r.text=s}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(on),on.API.TTFFont=function(){function e(n){var t;if(this.rawData=n,t=this.contents=new ah(n),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new UK(this),this.registerTTF()}return e.open=function(n){return new e(n)},e.prototype.parse=function(){return this.directory=new NK(this.contents),this.head=new jK(this),this.name=new RK(this),this.cmap=new hI(this),this.toUnicode={},this.hhea=new OK(this),this.maxp=new MK(this),this.hmtx=new FK(this),this.post=new DK(this),this.os2=new IK(this),this.loca=new BK(this),this.glyf=new PK(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var n,t,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,u,d;for(d=[],s=0,l=(u=this.bbox).length;s<l;s++)n=u[s],d.push(Math.round(n*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(n){var t;return((t=this.cmap.unicode)!=null?t.codeMap[n]:void 0)||0},e.prototype.widthOfGlyph=function(n){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(n).advance*t},e.prototype.widthOfString=function(n,t,r){var i,a,s,l;for(s=0,a=0,l=(n=""+n).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=n.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return s*(t/1e3)},e.prototype.lineHeight=function(n,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*n},e}();var Tu,ah=function(){function e(n){this.data=n??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(n){return this.data[this.pos++]=n},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(n){return this.writeByte(n>>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt32=function(){var n;return(n=this.readUInt32())>=2147483648?n-4294967296:n},e.prototype.writeInt32=function(n){return n<0&&(n+=4294967296),this.writeUInt32(n)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(n){return this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt16=function(){var n;return(n=this.readUInt16())>=32768?n-65536:n},e.prototype.writeInt16=function(n){return n<0&&(n+=65536),this.writeUInt16(n)},e.prototype.readString=function(n){var t,r;for(r=[],t=0;0<=n?t<n:t>n;t=0<=n?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(n){var t,r,i;for(i=[],t=0,r=n.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(n.charCodeAt(t)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(n){return this.writeInt16(n)},e.prototype.readLongLong=function(){var n,t,r,i,a,s,l,u;return n=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),u=this.readByte(),128&n?-1*(72057594037927940*(255^n)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^u)+1):72057594037927940*n+281474976710656*t+1099511627776*r+4294967296*i+16777216*a+65536*s+256*l+u},e.prototype.writeLongLong=function(n){var t,r;return t=Math.floor(n/4294967296),r=4294967295&n,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(n){return this.writeInt32(n)},e.prototype.read=function(n){var t,r;for(t=[],r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)t.push(this.readByte());return t},e.prototype.write=function(n){var t,r,i,a;for(a=[],r=0,i=n.length;r<i;r++)t=n[r],a.push(this.writeByte(t));return a},e}(),NK=function(){var e;function n(t){var r,i,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return n.prototype.encode=function(t){var r,i,a,s,l,u,d,f,g,b,m,x,y;for(y in m=Object.keys(t).length,u=Math.log(2),g=16*Math.floor(Math.log(m)/u),s=Math.floor(g/u),f=16*m-g,(i=new ah).writeInt(this.scalarType),i.writeShort(m),i.writeShort(g),i.writeShort(s),i.writeShort(f),a=16*m,d=i.pos+a,l=null,x=[],t)for(b=t[y],i.writeString(y),i.writeInt(e(b)),i.writeInt(d),i.writeInt(b.length),x=x.concat(b),y==="head"&&(l=d),d+=b.length;d%4;)x.push(0),d++;return i.write(x),r=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(r),i.data},e=function(t){var r,i,a,s;for(t=pI.call(t);t.length%4;)t.push(0);for(a=new ah(t),i=0,r=0,s=t.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},n}(),TK={}.hasOwnProperty,Uc=function(e,n){for(var t in n)TK.call(n,t)&&(e[t]=n[t]);function r(){this.constructor=e}return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Tu=function(){function e(n){var t;this.file=n,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var jK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Uc(n,Tu),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var r;return(r=new ah).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},n}(),u4=function(){function e(n,t){var r,i,a,s,l,u,d,f,g,b,m,x,y,A,w,C,N;switch(this.platformID=n.readUInt16(),this.encodingID=n.readShort(),this.offset=t+n.readInt(),g=n.pos,n.pos=this.offset,this.format=n.readUInt16(),this.length=n.readUInt16(),this.language=n.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=n.readByte();break;case 4:for(m=n.readUInt16(),b=m/2,n.pos+=6,a=function(){var R,F;for(F=[],u=R=0;0<=b?R<b:R>b;u=0<=b?++R:--R)F.push(n.readUInt16());return F}(),n.pos+=2,y=function(){var R,F;for(F=[],u=R=0;0<=b?R<b:R>b;u=0<=b?++R:--R)F.push(n.readUInt16());return F}(),d=function(){var R,F;for(F=[],u=R=0;0<=b?R<b:R>b;u=0<=b?++R:--R)F.push(n.readUInt16());return F}(),f=function(){var R,F;for(F=[],u=R=0;0<=b?R<b:R>b;u=0<=b?++R:--R)F.push(n.readUInt16());return F}(),i=(this.length-n.pos+this.offset)/2,l=function(){var R,F;for(F=[],u=R=0;0<=i?R<i:R>i;u=0<=i?++R:--R)F.push(n.readUInt16());return F}(),u=w=0,N=a.length;w<N;u=++w)for(A=a[u],r=C=x=y[u];x<=A?C<=A:C>=A;r=x<=A?++C:--C)f[u]===0?s=r+d[u]:(s=l[f[u]/2+(r-x)-(b-u)]||0)!==0&&(s+=d[u]),this.codeMap[r]=65535&s}n.pos=g}return e.encode=function(n,t){var r,i,a,s,l,u,d,f,g,b,m,x,y,A,w,C,N,R,F,q,k,L,B,X,T,O,P,j,G,W,K,ie,ce,$,ae,U,z,Z,ee,oe,we,xe,Ee,De,Me,We;switch(j=new ah,s=Object.keys(n).sort(function(Ye,Y){return Ye-Y}),t){case"macroman":for(y=0,A=function(){var Ye=[];for(x=0;x<256;++x)Ye.push(0);return Ye}(),C={0:0},a={},G=0,ce=s.length;G<ce;G++)C[Ee=n[i=s[G]]]==null&&(C[Ee]=++y),a[i]={old:n[i],new:C[n[i]]},A[i]=C[n[i]];return j.writeUInt16(1),j.writeUInt16(0),j.writeUInt32(12),j.writeUInt16(0),j.writeUInt16(262),j.writeUInt16(0),j.write(A),{charMap:a,subtable:j.data,maxGlyphID:y+1};case"unicode":for(O=[],g=[],N=0,C={},r={},w=d=null,W=0,$=s.length;W<$;W++)C[F=n[i=s[W]]]==null&&(C[F]=++N),r[i]={old:F,new:C[F]},l=C[F]-i,w!=null&&l===d||(w&&g.push(w),O.push(i),d=l),w=i;for(w&&g.push(w),g.push(65535),O.push(65535),X=2*(B=O.length),L=2*Math.pow(Math.log(B)/Math.LN2,2),b=Math.log(L/2)/Math.LN2,k=2*B-L,u=[],q=[],m=[],x=K=0,ae=O.length;K<ae;x=++K){if(T=O[x],f=g[x],T===65535){u.push(0),q.push(0);break}if(T-(P=r[T].new)>=32768)for(u.push(0),q.push(2*(m.length+B-x)),i=ie=T;T<=f?ie<=f:ie>=f;i=T<=f?++ie:--ie)m.push(r[i].new);else u.push(P-T),q.push(0)}for(j.writeUInt16(3),j.writeUInt16(1),j.writeUInt32(12),j.writeUInt16(4),j.writeUInt16(16+8*B+2*m.length),j.writeUInt16(0),j.writeUInt16(X),j.writeUInt16(L),j.writeUInt16(b),j.writeUInt16(k),we=0,U=g.length;we<U;we++)i=g[we],j.writeUInt16(i);for(j.writeUInt16(0),xe=0,z=O.length;xe<z;xe++)i=O[xe],j.writeUInt16(i);for(De=0,Z=u.length;De<Z;De++)l=u[De],j.writeUInt16(l);for(Me=0,ee=q.length;Me<ee;Me++)R=q[Me],j.writeUInt16(R);for(We=0,oe=m.length;We<oe;We++)y=m[We],j.writeUInt16(y);return{charMap:r,subtable:j.data,maxGlyphID:N+1}}},e}(),hI=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Uc(n,Tu),n.prototype.tag="cmap",n.prototype.parse=function(t){var r,i,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new u4(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},n.encode=function(t,r){var i,a;return r==null&&(r="macroman"),i=u4.encode(t,r),(a=new ah).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},n}(),OK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Uc(n,Tu),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n}(),IK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Uc(n,Tu),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n}(),DK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Uc(n,Tu),n.prototype.tag="post",n.prototype.parse=function(t){var r,i,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var s;for(i=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var l,u,d;for(d=[],s=l=0,u=this.file.maxp.numGlyphs;0<=u?l<u:l>u;s=0<=u?++l:--l)d.push(t.readUInt32());return d}).call(this)}},n}(),LK=function(e,n){this.raw=e,this.length=e.length,this.platformID=n.platformID,this.encodingID=n.encodingID,this.languageID=n.languageID},RK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Uc(n,Tu),n.prototype.tag="name",n.prototype.parse=function(t){var r,i,a,s,l,u,d,f,g,b,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),u=t.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(d={},s=g=0,b=i.length;g<b;s=++g)a=i[s],t.pos=a.offset,f=t.readString(a.length),l=new LK(f,a),d[m=a.nameID]==null&&(d[m]=[]),d[a.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},n}(),MK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Uc(n,Tu),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n}(),FK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Uc(n,Tu),n.prototype.tag="hmtx",n.prototype.parse=function(t){var r,i,a,s,l,u,d;for(t.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,g;for(g=[],r=f=0;0<=a?f<a:f>a;r=0<=a?++f:--f)g.push(t.readInt16());return g}(),this.widths=(function(){var f,g,b,m;for(m=[],f=0,g=(b=this.metrics).length;f<g;f++)s=b[f],m.push(s.advance);return m}).call(this),i=this.widths[this.widths.length-1],d=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)d.push(this.widths.push(i));return d},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n}(),pI=[].slice,PK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Uc(n,Tu),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var r,i,a,s,l,u,d,f,g,b;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(t),(a=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,l=(u=new ah(r.read(a))).readShort(),f=u.readShort(),b=u.readShort(),d=u.readShort(),g=u.readShort(),this.cache[t]=l===-1?new qK(u,f,b,d,g):new zK(u,l,f,b,d,g),this.cache[t]))},n.prototype.encode=function(t,r,i){var a,s,l,u,d;for(l=[],s=[],u=0,d=r.length;u<d;u++)a=t[r[u]],s.push(l.length),a&&(l=l.concat(a.encode(i)));return s.push(l.length),{table:l,offsets:s}},n}(),zK=function(){function e(n,t,r,i,a,s){this.raw=n,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),qK=function(){function e(n,t,r,i,a){var s,l;for(this.raw=n,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return e.prototype.encode=function(){var n,t,r;for(t=new ah(pI.call(this.raw.data)),n=0,r=this.glyphIDs.length;n<r;++n)t.pos=this.glyphOffsets[n];return t.data},e}(),BK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Uc(n,Tu),n.prototype.tag="loca",n.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=4)s.push(t.readUInt32());return s}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),a=0,s=0,l=0;l<i.length;++l)if(i[l]=a,s<r.length&&r[s]==l){++s,i[l]=a;var u=this.offsets[l],d=this.offsets[l+1]-u;d>0&&(a+=d)}for(var f=new Array(4*i.length),g=0;g<i.length;++g)f[4*g+3]=255&i[g],f[4*g+2]=(65280&i[g])>>8,f[4*g+1]=(16711680&i[g])>>16,f[4*g]=(4278190080&i[g])>>24;return f},n}(),UK=function(){function e(n){this.font=n,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var n,t,r,i,a;for(t in i=this.font.cmap.tables[0].codeMap,n={},a=this.subset)r=a[t],n[t]=i[r];return n},e.prototype.glyphsFor=function(n){var t,r,i,a,s,l,u;for(i={},s=0,l=n.length;s<l;s++)i[a=n[s]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(r=i[a])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(a in u=this.glyphsFor(t))r=u[a],i[a]=r;return i},e.prototype.encode=function(n,t){var r,i,a,s,l,u,d,f,g,b,m,x,y,A,w;for(i in r=hI.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(n),m={0:0},w=r.charMap)m[(u=w[i]).old]=u.new;for(x in b=r.maxGlyphID,s)x in m||(m[x]=b++);return f=function(C){var N,R;for(N in R={},C)R[C[N]]=N;return R}(m),g=Object.keys(f).sort(function(C,N){return C-N}),y=function(){var C,N,R;for(R=[],C=0,N=g.length;C<N;C++)l=g[C],R.push(f[l]);return R}(),a=this.font.glyf.encode(s,y,m),d=this.font.loca.encode(a.offsets,y),A={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},e}();on.API.PDFObject=function(){var e;function n(){}return e=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},n.convert=function(t){var r,i,a,s;if(Array.isArray(t))return"["+function(){var l,u,d;for(d=[],l=0,u=t.length;l<u;l++)r=t[l],d.push(n.convert(r));return d}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+e(t.getUTCFullYear(),4)+e(t.getUTCMonth(),2)+e(t.getUTCDate(),2)+e(t.getUTCHours(),2)+e(t.getUTCMinutes(),2)+e(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in a=["<<"],t)s=t[i],a.push("/"+i+" "+n.convert(s));return a.push(">>"),a.join(`
`)}return""+t},n}();const $K=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),HK=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var yw;const WK=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),c4=(yw=String.fromCodePoint)!==null&&yw!==void 0?yw:function(e){let n="";return e>65535&&(e-=65536,n+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),n+=String.fromCharCode(e),n};function YK(e){var n;return e>=55296&&e<=57343||e>1114111?65533:(n=WK.get(e))!==null&&n!==void 0?n:e}var Ja;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Ja||(Ja={}));const VK=32;var Hf;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Hf||(Hf={}));function YS(e){return e>=Ja.ZERO&&e<=Ja.NINE}function GK(e){return e>=Ja.UPPER_A&&e<=Ja.UPPER_F||e>=Ja.LOWER_A&&e<=Ja.LOWER_F}function QK(e){return e>=Ja.UPPER_A&&e<=Ja.UPPER_Z||e>=Ja.LOWER_A&&e<=Ja.LOWER_Z||YS(e)}function KK(e){return e===Ja.EQUALS||QK(e)}var Qa;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Qa||(Qa={}));var gc;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(gc||(gc={}));class XK{constructor(n,t,r){this.decodeTree=n,this.emitCodePoint=t,this.errors=r,this.state=Qa.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=gc.Strict}startEntity(n){this.decodeMode=n,this.state=Qa.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(n,t){switch(this.state){case Qa.EntityStart:return n.charCodeAt(t)===Ja.NUM?(this.state=Qa.NumericStart,this.consumed+=1,this.stateNumericStart(n,t+1)):(this.state=Qa.NamedEntity,this.stateNamedEntity(n,t));case Qa.NumericStart:return this.stateNumericStart(n,t);case Qa.NumericDecimal:return this.stateNumericDecimal(n,t);case Qa.NumericHex:return this.stateNumericHex(n,t);case Qa.NamedEntity:return this.stateNamedEntity(n,t)}}stateNumericStart(n,t){return t>=n.length?-1:(n.charCodeAt(t)|VK)===Ja.LOWER_X?(this.state=Qa.NumericHex,this.consumed+=1,this.stateNumericHex(n,t+1)):(this.state=Qa.NumericDecimal,this.stateNumericDecimal(n,t))}addToNumericResult(n,t,r,i){if(t!==r){const a=r-t;this.result=this.result*Math.pow(i,a)+Number.parseInt(n.substr(t,a),i),this.consumed+=a}}stateNumericHex(n,t){const r=t;for(;t<n.length;){const i=n.charCodeAt(t);if(YS(i)||GK(i))t+=1;else return this.addToNumericResult(n,r,t,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(n,r,t,16),-1}stateNumericDecimal(n,t){const r=t;for(;t<n.length;){const i=n.charCodeAt(t);if(YS(i))t+=1;else return this.addToNumericResult(n,r,t,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(n,r,t,10),-1}emitNumericEntity(n,t){var r;if(this.consumed<=t)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(n===Ja.SEMI)this.consumed+=1;else if(this.decodeMode===gc.Strict)return 0;return this.emitCodePoint(YK(this.result),this.consumed),this.errors&&(n!==Ja.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(n,t){const{decodeTree:r}=this;let i=r[this.treeIndex],a=(i&Hf.VALUE_LENGTH)>>14;for(;t<n.length;t++,this.excess++){const s=n.charCodeAt(t);if(this.treeIndex=ZK(r,i,this.treeIndex+Math.max(1,a),s),this.treeIndex<0)return this.result===0||this.decodeMode===gc.Attribute&&(a===0||KK(s))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],a=(i&Hf.VALUE_LENGTH)>>14,a!==0){if(s===Ja.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==gc.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var n;const{result:t,decodeTree:r}=this,i=(r[t]&Hf.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,i,this.consumed),(n=this.errors)===null||n===void 0||n.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(n,t,r){const{decodeTree:i}=this;return this.emitCodePoint(t===1?i[n]&~Hf.VALUE_LENGTH:i[n+1],r),t===3&&this.emitCodePoint(i[n+2],r),r}end(){var n;switch(this.state){case Qa.NamedEntity:return this.result!==0&&(this.decodeMode!==gc.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Qa.NumericDecimal:return this.emitNumericEntity(0,2);case Qa.NumericHex:return this.emitNumericEntity(0,3);case Qa.NumericStart:return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Qa.EntityStart:return 0}}}function ZK(e,n,t,r){const i=(n&Hf.BRANCH_LENGTH)>>7,a=n&Hf.JUMP_TABLE;if(i===0)return a!==0&&r===a?t:-1;if(a){const u=r-a;return u<0||u>=i?-1:e[t+u]-1}let s=t,l=s+i-1;for(;s<=l;){const u=s+l>>>1,d=e[u];if(d<r)s=u+1;else if(d>r)l=u-1;else return e[u+i]}return-1}var an;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(an||(an={}));var Et;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(Et||(Et={}));function bd(e){return e===an.Space||e===an.NewLine||e===an.Tab||e===an.FormFeed||e===an.CarriageReturn}function Uy(e){return e===an.Slash||e===an.Gt||bd(e)}function JK(e){return e>=an.LowerA&&e<=an.LowerZ||e>=an.UpperA&&e<=an.UpperZ}var bc;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(bc||(bc={}));const _a={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};class eX{constructor({xmlMode:n=!1,decodeEntities:t=!0},r){this.cbs=r,this.state=Et.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=Et.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=n,this.decodeEntities=t,this.entityDecoder=new XK(n?HK:$K,(i,a)=>this.emitCodePoint(i,a))}reset(){this.state=Et.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Et.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(n){this.offset+=this.buffer.length,this.buffer=n,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(n){n===an.Lt||!this.decodeEntities&&this.fastForwardTo(an.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=Et.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&n===an.Amp&&this.startEntity()}stateSpecialStartSequence(n){const t=this.sequenceIndex===this.currentSequence.length;if(!(t?Uy(n):(n|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!t){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=Et.InTagName,this.stateInTagName(n)}stateInSpecialTag(n){if(this.sequenceIndex===this.currentSequence.length){if(n===an.Gt||bd(n)){const t=this.index-this.currentSequence.length;if(this.sectionStart<t){const r=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=r}this.isSpecial=!1,this.sectionStart=t+2,this.stateInClosingTagName(n);return}this.sequenceIndex=0}(n|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===_a.TitleEnd?this.decodeEntities&&n===an.Amp&&this.startEntity():this.fastForwardTo(an.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(n===an.Lt)}stateCDATASequence(n){n===_a.Cdata[this.sequenceIndex]?++this.sequenceIndex===_a.Cdata.length&&(this.state=Et.InCommentLike,this.currentSequence=_a.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=Et.InDeclaration,this.stateInDeclaration(n))}fastForwardTo(n){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===n)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(n){n===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===_a.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=Et.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):n!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(n){return this.xmlMode?!Uy(n):JK(n)}startSpecial(n,t){this.isSpecial=!0,this.currentSequence=n,this.sequenceIndex=t,this.state=Et.SpecialStartSequence}stateBeforeTagName(n){if(n===an.ExclamationMark)this.state=Et.BeforeDeclaration,this.sectionStart=this.index+1;else if(n===an.Questionmark)this.state=Et.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(n)){const t=n|32;this.sectionStart=this.index,this.xmlMode?this.state=Et.InTagName:t===_a.ScriptEnd[2]?this.state=Et.BeforeSpecialS:t===_a.TitleEnd[2]||t===_a.XmpEnd[2]?this.state=Et.BeforeSpecialT:this.state=Et.InTagName}else n===an.Slash?this.state=Et.BeforeClosingTagName:(this.state=Et.Text,this.stateText(n))}stateInTagName(n){Uy(n)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(n))}stateBeforeClosingTagName(n){bd(n)||(n===an.Gt?this.state=Et.Text:(this.state=this.isTagStartChar(n)?Et.InClosingTagName:Et.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(n){(n===an.Gt||bd(n))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=Et.AfterClosingTagName,this.stateAfterClosingTagName(n))}stateAfterClosingTagName(n){(n===an.Gt||this.fastForwardTo(an.Gt))&&(this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(n){n===an.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=Et.InSpecialTag,this.sequenceIndex=0):this.state=Et.Text,this.sectionStart=this.index+1):n===an.Slash?this.state=Et.InSelfClosingTag:bd(n)||(this.state=Et.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(n){n===an.Gt?(this.cbs.onselfclosingtag(this.index),this.state=Et.Text,this.sectionStart=this.index+1,this.isSpecial=!1):bd(n)||(this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(n))}stateInAttributeName(n){(n===an.Eq||Uy(n))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=Et.AfterAttributeName,this.stateAfterAttributeName(n))}stateAfterAttributeName(n){n===an.Eq?this.state=Et.BeforeAttributeValue:n===an.Slash||n===an.Gt?(this.cbs.onattribend(bc.NoValue,this.sectionStart),this.sectionStart=-1,this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(n)):bd(n)||(this.cbs.onattribend(bc.NoValue,this.sectionStart),this.state=Et.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(n){n===an.DoubleQuote?(this.state=Et.InAttributeValueDq,this.sectionStart=this.index+1):n===an.SingleQuote?(this.state=Et.InAttributeValueSq,this.sectionStart=this.index+1):bd(n)||(this.sectionStart=this.index,this.state=Et.InAttributeValueNq,this.stateInAttributeValueNoQuotes(n))}handleInAttributeValue(n,t){n===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===an.DoubleQuote?bc.Double:bc.Single,this.index+1),this.state=Et.BeforeAttributeName):this.decodeEntities&&n===an.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(n){this.handleInAttributeValue(n,an.DoubleQuote)}stateInAttributeValueSingleQuotes(n){this.handleInAttributeValue(n,an.SingleQuote)}stateInAttributeValueNoQuotes(n){bd(n)||n===an.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(bc.Unquoted,this.index),this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(n)):this.decodeEntities&&n===an.Amp&&this.startEntity()}stateBeforeDeclaration(n){n===an.OpeningSquareBracket?(this.state=Et.CDATASequence,this.sequenceIndex=0):this.state=n===an.Dash?Et.BeforeComment:Et.InDeclaration}stateInDeclaration(n){(n===an.Gt||this.fastForwardTo(an.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=Et.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(n){(n===an.Gt||this.fastForwardTo(an.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeComment(n){n===an.Dash?(this.state=Et.InCommentLike,this.currentSequence=_a.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=Et.InDeclaration}stateInSpecialComment(n){(n===an.Gt||this.fastForwardTo(an.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(n){const t=n|32;t===_a.ScriptEnd[3]?this.startSpecial(_a.ScriptEnd,4):t===_a.StyleEnd[3]?this.startSpecial(_a.StyleEnd,4):(this.state=Et.InTagName,this.stateInTagName(n))}stateBeforeSpecialT(n){switch(n|32){case _a.TitleEnd[3]:{this.startSpecial(_a.TitleEnd,4);break}case _a.TextareaEnd[3]:{this.startSpecial(_a.TextareaEnd,4);break}case _a.XmpEnd[3]:{this.startSpecial(_a.XmpEnd,4);break}default:this.state=Et.InTagName,this.stateInTagName(n)}}startEntity(){this.baseState=this.state,this.state=Et.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?gc.Strict:this.baseState===Et.Text||this.baseState===Et.InSpecialTag?gc.Legacy:gc.Attribute)}stateInEntity(){const n=this.entityDecoder.write(this.buffer,this.index-this.offset);n>=0?(this.state=this.baseState,n===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===Et.Text||this.state===Et.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===Et.InAttributeValueDq||this.state===Et.InAttributeValueSq||this.state===Et.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const n=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case Et.Text:{this.stateText(n);break}case Et.SpecialStartSequence:{this.stateSpecialStartSequence(n);break}case Et.InSpecialTag:{this.stateInSpecialTag(n);break}case Et.CDATASequence:{this.stateCDATASequence(n);break}case Et.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(n);break}case Et.InAttributeName:{this.stateInAttributeName(n);break}case Et.InCommentLike:{this.stateInCommentLike(n);break}case Et.InSpecialComment:{this.stateInSpecialComment(n);break}case Et.BeforeAttributeName:{this.stateBeforeAttributeName(n);break}case Et.InTagName:{this.stateInTagName(n);break}case Et.InClosingTagName:{this.stateInClosingTagName(n);break}case Et.BeforeTagName:{this.stateBeforeTagName(n);break}case Et.AfterAttributeName:{this.stateAfterAttributeName(n);break}case Et.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(n);break}case Et.BeforeAttributeValue:{this.stateBeforeAttributeValue(n);break}case Et.BeforeClosingTagName:{this.stateBeforeClosingTagName(n);break}case Et.AfterClosingTagName:{this.stateAfterClosingTagName(n);break}case Et.BeforeSpecialS:{this.stateBeforeSpecialS(n);break}case Et.BeforeSpecialT:{this.stateBeforeSpecialT(n);break}case Et.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(n);break}case Et.InSelfClosingTag:{this.stateInSelfClosingTag(n);break}case Et.InDeclaration:{this.stateInDeclaration(n);break}case Et.BeforeDeclaration:{this.stateBeforeDeclaration(n);break}case Et.BeforeComment:{this.stateBeforeComment(n);break}case Et.InProcessingInstruction:{this.stateInProcessingInstruction(n);break}case Et.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===Et.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const n=this.buffer.length+this.offset;this.sectionStart>=n||(this.state===Et.InCommentLike?this.currentSequence===_a.CdataEnd?this.cbs.oncdata(this.sectionStart,n,0):this.cbs.oncomment(this.sectionStart,n,0):this.state===Et.InTagName||this.state===Et.BeforeAttributeName||this.state===Et.BeforeAttributeValue||this.state===Et.AfterAttributeName||this.state===Et.InAttributeName||this.state===Et.InAttributeValueSq||this.state===Et.InAttributeValueDq||this.state===Et.InAttributeValueNq||this.state===Et.InClosingTagName||this.cbs.ontext(this.sectionStart,n))}emitCodePoint(n,t){this.baseState!==Et.Text&&this.baseState!==Et.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.onattribentity(n)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.ontextentity(n,this.sectionStart))}}const m0=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Ur=new Set(["p"]),d4=new Set(["thead","tbody"]),f4=new Set(["dd","dt"]),h4=new Set(["rt","rp"]),tX=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Ur],["h1",Ur],["h2",Ur],["h3",Ur],["h4",Ur],["h5",Ur],["h6",Ur],["select",m0],["input",m0],["output",m0],["button",m0],["datalist",m0],["textarea",m0],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",f4],["dt",f4],["address",Ur],["article",Ur],["aside",Ur],["blockquote",Ur],["details",Ur],["div",Ur],["dl",Ur],["fieldset",Ur],["figcaption",Ur],["figure",Ur],["footer",Ur],["form",Ur],["header",Ur],["hr",Ur],["main",Ur],["nav",Ur],["ol",Ur],["pre",Ur],["section",Ur],["table",Ur],["ul",Ur],["rt",h4],["rp",h4],["tbody",d4],["tfoot",d4]]),nX=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),p4=new Set(["math","svg"]),m4=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),rX=/\s|\//;class iX{constructor(n,t={}){var r,i,a,s,l,u;this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=n??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=t.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(i=t.lowerCaseAttributeNames)!==null&&i!==void 0?i:this.htmlMode,this.recognizeSelfClosing=(a=t.recognizeSelfClosing)!==null&&a!==void 0?a:!this.htmlMode,this.tokenizer=new((s=t.Tokenizer)!==null&&s!==void 0?s:eX)(this.options,this),this.foreignContext=[!this.htmlMode],(u=(l=this.cbs).onparserinit)===null||u===void 0||u.call(l,this)}ontext(n,t){var r,i;const a=this.getSlice(n,t);this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,a),this.startIndex=t}ontextentity(n,t){var r,i;this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,c4(n)),this.startIndex=t}isVoidElement(n){return this.htmlMode&&nX.has(n)}onopentagname(n,t){this.endIndex=t;let r=this.getSlice(n,t);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(n){var t,r,i,a;this.openTagStart=this.startIndex,this.tagname=n;const s=this.htmlMode&&tX.get(n);if(s)for(;this.stack.length>0&&s.has(this.stack[0]);){const l=this.stack.shift();(r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,l,!0)}this.isVoidElement(n)||(this.stack.unshift(n),this.htmlMode&&(p4.has(n)?this.foreignContext.unshift(!0):m4.has(n)&&this.foreignContext.unshift(!1))),(a=(i=this.cbs).onopentagname)===null||a===void 0||a.call(i,n),this.cbs.onopentag&&(this.attribs={})}endOpenTag(n){var t,r;this.startIndex=this.openTagStart,this.attribs&&((r=(t=this.cbs).onopentag)===null||r===void 0||r.call(t,this.tagname,this.attribs,n),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(n){this.endIndex=n,this.endOpenTag(!1),this.startIndex=n+1}onclosetag(n,t){var r,i,a,s,l,u,d,f;this.endIndex=t;let g=this.getSlice(n,t);if(this.lowerCaseTagNames&&(g=g.toLowerCase()),this.htmlMode&&(p4.has(g)||m4.has(g))&&this.foreignContext.shift(),this.isVoidElement(g))this.htmlMode&&g==="br"&&((s=(a=this.cbs).onopentagname)===null||s===void 0||s.call(a,"br"),(u=(l=this.cbs).onopentag)===null||u===void 0||u.call(l,"br",{},!0),(f=(d=this.cbs).onclosetag)===null||f===void 0||f.call(d,"br",!1));else{const b=this.stack.indexOf(g);if(b!==-1)for(let m=0;m<=b;m++){const x=this.stack.shift();(i=(r=this.cbs).onclosetag)===null||i===void 0||i.call(r,x,m!==b)}else this.htmlMode&&g==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1}onselfclosingtag(n){this.endIndex=n,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=n+1):this.onopentagend(n)}closeCurrentTag(n){var t,r;const i=this.tagname;this.endOpenTag(n),this.stack[0]===i&&((r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,i,!n),this.stack.shift())}onattribname(n,t){this.startIndex=n;const r=this.getSlice(n,t);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(n,t){this.attribvalue+=this.getSlice(n,t)}onattribentity(n){this.attribvalue+=c4(n)}onattribend(n,t){var r,i;this.endIndex=t,(i=(r=this.cbs).onattribute)===null||i===void 0||i.call(r,this.attribname,this.attribvalue,n===bc.Double?'"':n===bc.Single?"'":n===bc.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(n){const t=n.search(rX);let r=t<0?n:n.substr(0,t);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(n,t){this.endIndex=t;const r=this.getSlice(n,t);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${i}`,`!${r}`)}this.startIndex=t+1}onprocessinginstruction(n,t){this.endIndex=t;const r=this.getSlice(n,t);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${i}`,`?${r}`)}this.startIndex=t+1}oncomment(n,t,r){var i,a,s,l;this.endIndex=t,(a=(i=this.cbs).oncomment)===null||a===void 0||a.call(i,this.getSlice(n,t-r)),(l=(s=this.cbs).oncommentend)===null||l===void 0||l.call(s),this.startIndex=t+1}oncdata(n,t,r){var i,a,s,l,u,d,f,g,b,m;this.endIndex=t;const x=this.getSlice(n,t-r);!this.htmlMode||this.options.recognizeCDATA?((a=(i=this.cbs).oncdatastart)===null||a===void 0||a.call(i),(l=(s=this.cbs).ontext)===null||l===void 0||l.call(s,x),(d=(u=this.cbs).oncdataend)===null||d===void 0||d.call(u)):((g=(f=this.cbs).oncomment)===null||g===void 0||g.call(f,`[CDATA[${x}]]`),(m=(b=this.cbs).oncommentend)===null||m===void 0||m.call(b)),this.startIndex=t+1}onend(){var n,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(t=(n=this.cbs).onend)===null||t===void 0||t.call(n)}reset(){var n,t,r,i;(t=(n=this.cbs).onreset)===null||t===void 0||t.call(n),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(r=this.cbs).onparserinit)===null||i===void 0||i.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(n){this.reset(),this.end(n)}getSlice(n,t){for(;n-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(n-this.bufferOffset,t-this.bufferOffset);for(;t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,t-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(n){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".write() after done!"));return}this.buffers.push(n),this.tokenizer.running&&(this.tokenizer.write(n),this.writeIndex++)}end(n){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".end() after done!"));return}n&&this.write(n),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(n){this.write(n)}done(n){this.end(n)}}var kr;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(kr||(kr={}));function hx(e){return e.type===kr.Tag||e.type===kr.Script||e.type===kr.Style}kr.Root;kr.Text;kr.Directive;kr.Comment;kr.Script;kr.Style;kr.Tag;kr.CDATA;kr.Doctype;let mI=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(n){this.parent=n}get previousSibling(){return this.prev}set previousSibling(n){this.prev=n}get nextSibling(){return this.next}set nextSibling(n){this.next=n}cloneNode(n=!1){return AI(this,n)}};class EA extends mI{constructor(n){super(),this.data=n}get nodeValue(){return this.data}set nodeValue(n){this.data=n}}let VS=class extends EA{constructor(){super(...arguments),this.type=kr.Text}get nodeType(){return 3}};class gI extends EA{constructor(){super(...arguments),this.type=kr.Comment}get nodeType(){return 8}}class bI extends EA{constructor(n,t){super(t),this.name=n,this.type=kr.Directive}get nodeType(){return 1}}class _A extends mI{constructor(n){super(),this.children=n}get firstChild(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(n){this.children=n}}class yI extends _A{constructor(){super(...arguments),this.type=kr.CDATA}get nodeType(){return 4}}class GS extends _A{constructor(){super(...arguments),this.type=kr.Root}get nodeType(){return 9}}let xI=class extends _A{constructor(n,t,r=[],i=n==="script"?kr.Script:n==="style"?kr.Style:kr.Tag){super(r),this.name=n,this.attribs=t,this.type=i}get nodeType(){return 1}get tagName(){return this.name}set tagName(n){this.name=n}get attributes(){return Object.keys(this.attribs).map(n=>{var t,r;return{name:n,value:this.attribs[n],namespace:(t=this["x-attribsNamespace"])===null||t===void 0?void 0:t[n],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[n]}})}};function vI(e){return hx(e)}function wI(e){return e.type===kr.CDATA}function SI(e){return e.type===kr.Text}function aX(e){return e.type===kr.Comment}function sX(e){return e.type===kr.Directive}function oX(e){return e.type===kr.Root}function AI(e,n=!1){let t;if(SI(e))t=new VS(e.data);else if(aX(e))t=new gI(e.data);else if(vI(e)){const r=n?xw(e.children):[],i=new xI(e.name,{...e.attribs},r);r.forEach(a=>a.parent=i),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]={...e["x-attribsPrefix"]}),t=i}else if(wI(e)){const r=n?xw(e.children):[],i=new yI(r);r.forEach(a=>a.parent=i),t=i}else if(oX(e)){const r=n?xw(e.children):[],i=new GS(r);r.forEach(a=>a.parent=i),e["x-mode"]&&(i["x-mode"]=e["x-mode"]),t=i}else if(sX(e)){const r=new bI(e.name,e.data);e["x-name"]!=null&&(r["x-name"]=e["x-name"],r["x-publicId"]=e["x-publicId"],r["x-systemId"]=e["x-systemId"]),t=r}else throw new Error(`Not implemented yet: ${e.type}`);return t.startIndex=e.startIndex,t.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(t.sourceCodeLocation=e.sourceCodeLocation),t}function xw(e){const n=e.map(t=>AI(t,!0));for(let t=1;t<n.length;t++)n[t].prev=n[t-1],n[t-1].next=n[t];return n}const g4={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class lX{constructor(n,t,r){this.dom=[],this.root=new GS(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof t=="function"&&(r=t,t=g4),typeof n=="object"&&(t=n,n=void 0),this.callback=n??null,this.options=t??g4,this.elementCB=r??null}onparserinit(n){this.parser=n}onreset(){this.dom=[],this.root=new GS(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(n){this.handleCallback(n)}onclosetag(){this.lastNode=null;const n=this.tagStack.pop();this.options.withEndIndices&&(n.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(n)}onopentag(n,t){const r=this.options.xmlMode?kr.Tag:void 0,i=new xI(n,t,void 0,r);this.addNode(i),this.tagStack.push(i)}ontext(n){const{lastNode:t}=this;if(t&&t.type===kr.Text)t.data+=n,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{const r=new VS(n);this.addNode(r),this.lastNode=r}}oncomment(n){if(this.lastNode&&this.lastNode.type===kr.Comment){this.lastNode.data+=n;return}const t=new gI(n);this.addNode(t),this.lastNode=t}oncommentend(){this.lastNode=null}oncdatastart(){const n=new VS(""),t=new yI([n]);this.addNode(t),n.parent=t,this.lastNode=n}oncdataend(){this.lastNode=null}onprocessinginstruction(n,t){const r=new bI(n,t);this.addNode(r)}handleCallback(n){if(typeof this.callback=="function")this.callback(n,this.dom);else if(n)throw n}addNode(n){const t=this.tagStack[this.tagStack.length-1],r=t.children[t.children.length-1];this.options.withStartIndices&&(n.startIndex=this.parser.startIndex),this.options.withEndIndices&&(n.endIndex=this.parser.endIndex),t.children.push(n),r&&(n.prev=r,r.next=n),n.parent=t,this.lastNode=null}}function xd(e){return Array.isArray(e)?e.map(xd).join(""):vI(e)?e.name==="br"?`
`:xd(e.children):wI(e)?xd(e.children):SI(e)?e.data:""}function uX(e,n){const t=new lX(void 0,n);return new iX(t,n).end(e),t.root}const cX=async(e,n)=>{var m,x,y,A,w,C,N,R;if(!e)return;const t=new on("p","mm","a4",!0);let r=10;const i=297,a=F=>{r+F*6>i-20&&(t.addPage(),r=10)},s=e.sections.length+e.sections.reduce((F,q)=>F+q.subsections.length,0)+e.sections.reduce((F,q)=>F+q.subsections.reduce((k,L)=>k+L.subSubsections.length,0),0)+e.sections.reduce((F,q)=>{var k;return F+(((k=q.images)==null?void 0:k.length)||0)+q.subsections.reduce((L,B)=>{var X;return L+(((X=B.images)==null?void 0:X.length)||0)+B.subSubsections.reduce((T,O)=>{var P;return T+(((P=O.images)==null?void 0:P.length)||0)},0)},0)},0);let l=0;const u=()=>{l+=1,n(Math.round(l/s*100))},d=async(F,q=150,k=150)=>new Promise(L=>{const B=new Image;B.crossOrigin="anonymous",B.src=F.url,B.onload=()=>{const X=B.width/B.height;let T=q,O=k;X>1?O=q/X:T=k*X,a(O+15);const P=(210-T)/2;if(t.addImage(B,"JPEG",P,r,T,O),r+=O+5,F.title){t.setFont("helvetica","italic"),t.setFontSize(10);const G=(210-t.getTextWidth(F.title))/2;t.text(F.title,G,r),t.setFont("helvetica","normal"),r+=6}u(),L()},B.onerror=()=>{console.warn(`Image failed to load: ${F.url}`),u(),L()}}),f=(F,q=10,k=12)=>{var X;const L=uX(F),B=(T,O=0,P=!1)=>{var j,G,W,K,ie,ce,$;if(T){if(hx(T)){const ae=T,U=ae.name.toLowerCase();switch(U){case"p":r+=6,(j=ae.children)==null||j.forEach(z=>B(z,O)),r+=6;break;case"br":r+=6;break;case"strong":case"b":case"i":case"em":t.setFont("helvetica",U==="strong"||U==="b"?"bold":"italic"),(G=ae.children)==null||G.forEach(z=>B(z,O)),t.setFont("helvetica","normal");break;case"ul":case"ol":r+=4,(W=ae.children)==null||W.forEach(z=>B(z,O+1,!0));break;case"li":{const z=O===1?"-":"--";let Z="";(K=ae.children)==null||K.forEach(ee=>{if(hx(ee)){const oe=ee;oe.name==="strong"||oe.name==="b"?(t.setFont("helvetica","bold"),Z+=` ${xd(oe)}`,t.setFont("helvetica","normal")):oe.name!=="ul"&&oe.name!=="ol"&&(Z+=` ${xd(oe)}`)}else ee.type==="text"&&"data"in ee&&(Z+=` ${ee.data.trim()}`)}),Z=Z.trim(),Z&&(O===0?g(`${z} ${Z}`,q,k+2,!0):g(`${z} ${Z}`,q+O*8,k),r+=6),(ie=ae.children)==null||ie.forEach(ee=>{if(hx(ee)){const oe=ee;["ul","ol"].includes(oe.name)&&B(oe,O+1,!0)}});break}case"a":(ce=ae.attribs)!=null&&ce.href&&b(xd(ae),ae.attribs.href);break;case"h1":g(xd(ae),q,20,!0),r+=8;break;case"h2":g(xd(ae),q,18,!0),r+=8;break;case"h3":g(xd(ae),q,16,!0),r+=6;break;default:($=ae.children)==null||$.forEach(z=>B(z,O))}}else if(T.type==="text"&&"data"in T){const ae=T.data.trim();ae&&g(ae,q+O*8,k)}}};(X=L.children)==null||X.forEach(T=>B(T))},g=(F,q,k=12,L=!1,B=[0,0,0],X=!1,T=200)=>{if(!F)return;t.setFontSize(k),t.setTextColor(B[0],B[1],B[2]),t.setFont("helvetica",L?X?"bolditalic":"bold":X?"italic":"normal"),t.splitTextToSize(F,T-q).forEach(P=>{a(1),t.text(P,q,r),r+=6})},b=(F,q)=>{a(1),t.setTextColor(10,104,71),t.textWithLink(F,10,r,{url:q}),r+=6};(m=e.header)!=null&&m.content&&(g("Header:",10,12,!0),f(e.header.content),r+=5),e.title&&(g(e.title,10,18,!0,[10,104,71]),r+=5);for(const F of e.sections){if(g(F.title,10,16,!0),f(F.content),(x=F.images)!=null&&x.length)for(const q of F.images)await d(q);u();for(const q of F.subsections){if(g(q.title,12,14,!0),f(q.content,12),(y=q.images)!=null&&y.length)for(const k of q.images)await d(k);u();for(const k of q.subSubsections){if(g(k.title,14,12,!0),f(k.content,14),(A=k.images)!=null&&A.length)for(const L of k.images)await d(L);u(),(w=k.links)!=null&&w.length&&(g("Links:",14,12,!0),k.links.forEach(L=>b(L.title,L.url)))}(C=q.links)!=null&&C.length&&(g("Links:",12,12,!0),q.links.forEach(k=>b(k.title,k.url)))}(N=F.links)!=null&&N.length&&(g("Links:",10,12,!0),F.links.forEach(q=>b(q.title,q.url))),r+=5}(R=e.footer)!=null&&R.content&&(g("Footer:",10,12,!0),f(e.footer.content)),t.save(`${e.title||"Material"}.pdf`),n(100)},dX=()=>{var R,F,q,k,L,B,X,T,O,P,j,G,W,K,ie,ce,$,ae,U,z,Z,ee,oe,we,xe,Ee,De,Me,We,Ye,Y,Se,te,be,de,Ae,Le,qe,Ne,Xe,ut,nt;const{id:e}=z6(),[n,t]=Yg(),r=Zn(),[i,a]=Q.useState(null),[s,l]=Q.useState({sectionIndex:0}),[u,d]=Q.useState(null),[f,g]=Q.useState(0),[b,m]=Q.useState(!0);uO((i==null?void 0:i.sections)||[],s.sectionIndex||0,!!i),Q.useEffect(()=>{g(Pe=>Pe+1)},[s]);const x=async()=>{if(i!=null&&i.originalFile)try{console.log(" Starting original file download:",i.originalFile.name);const Pe=document.createElement("a");Pe.href=i.originalFile.url,Pe.download=i.originalFile.name,Pe.target="_blank",document.body.appendChild(Pe),Pe.click(),document.body.removeChild(Pe),console.log(" Original file download initiated")}catch(Pe){console.error(" Original file download failed:",Pe)}};Q.useEffect(()=>{e&&(async()=>{var ve,ke;try{m(!0);const je=bn(r,"materials",e),ft=await Oa(je);if(ft.exists()){const Je={id:ft.id,...ft.data()};console.log("Material data from Firestore:",Je),console.log("Sections type:",typeof Je.sections),console.log("Sections value:",Je.sections),Array.isArray(Je.sections)||(console.warn("Sections is not an array, initializing as empty array. Original value:",Je.sections),Je.sections=[]),Je.sections=Je.sections.map(Ft=>({id:Ft.id||Ri(),title:Ft.title||"Untitled Section",content:Ft.content||"",images:Array.isArray(Ft.images)?Ft.images.map(Vt=>({...Vt,title:Vt.title||""})):[],links:Array.isArray(Ft.links)?Ft.links:[],subsections:Array.isArray(Ft.subsections)?Ft.subsections.map(Vt=>({id:Vt.id||Ri(),title:Vt.title||"Untitled Subsection",content:Vt.content||"",images:Array.isArray(Vt.images)?Vt.images.map(Rt=>({...Rt,title:Rt.title||""})):[],links:Array.isArray(Vt.links)?Vt.links:[],subSubsections:Array.isArray(Vt.subSubsections)?Vt.subSubsections.map(Rt=>({id:Rt.id||Ri(),title:Rt.title||"Untitled Sub-subsection",content:Rt.content||"",images:Array.isArray(Rt.images)?Rt.images.map(Zt=>({...Zt,title:Zt.title||""})):[],links:Array.isArray(Rt.links)?Rt.links:[]})):[]})):[]})),console.log("Loaded material from database:",{title:Je.title,sectionsCount:((ve=Je.sections)==null?void 0:ve.length)||0,sectionsWithImages:((ke=Je.sections)==null?void 0:ke.filter(Ft=>{var kt;return((kt=Ft.images)==null?void 0:kt.length)>0}).length)||0}),a(Je)}}catch(je){console.error("Error fetching material:",je)}finally{m(!1)}})()},[e,r]),Q.useEffect(()=>{e&&n.get("material")!==e&&(console.log(" Updating URL: Adding material ID to query parameters:",e),t(Pe=>{const ve=new URLSearchParams(Pe);return ve.set("material",e),ve},{replace:!0}))},[e,n,t]);const y=(Pe,ve,ke)=>{l({sectionIndex:typeof Pe=="number"?Pe:void 0,subsectionIndex:ve,subSubsectionIndex:ke,type:typeof Pe=="string"?Pe:void 0})},A=Pe=>{var Je,Ft,kt,Vt,Rt,Zt,nn,ln,Pn,zn,Gr,ir,Rn,Gt,An,ya,Sr,si,xa,Lt,Hn,ar,Mr,dr,fr,$n,bs;const{sectionIndex:ve,subsectionIndex:ke,subSubsectionIndex:je,type:ft}=s;if(Pe==="prev")if(je!==void 0&&je>0)l({sectionIndex:ve,subsectionIndex:ke,subSubsectionIndex:je-1});else if(je!==void 0&&je===0)l({sectionIndex:ve,subsectionIndex:ke});else if(ke!==void 0&&ke>0)l({sectionIndex:ve,subsectionIndex:ke-1});else if(ke!==void 0&&ke===0)l({sectionIndex:ve});else if(ve>0){const Nr=i==null?void 0:i.sections[ve-1];l({sectionIndex:ve-1,subsectionIndex:(Je=Nr==null?void 0:Nr.subsections)!=null&&Je.length?Nr.subsections.length-1:void 0,subSubsectionIndex:(Ft=Nr==null?void 0:Nr.subsections)!=null&&Ft.length?((Vt=(kt=Nr.subsections[Nr.subsections.length-1])==null?void 0:kt.subSubsections)==null?void 0:Vt.length)-1:void 0})}else ft==="footer"?l({sectionIndex:((i==null?void 0:i.sections.length)??1)-1,type:"footer"}):ve===void 0&&ft==="header"&&l({sectionIndex:((i==null?void 0:i.sections.length)??1)-1});else Pe==="next"&&(je===void 0&&ke!==void 0&&((ln=(nn=(Zt=(Rt=i==null?void 0:i.sections[ve??0])==null?void 0:Rt.subsections)==null?void 0:Zt[ke])==null?void 0:nn.subSubsections)!=null&&ln.length)?l({sectionIndex:ve,subsectionIndex:ke,subSubsectionIndex:0}):je!==void 0&&je<(((ir=(Gr=(zn=(Pn=i==null?void 0:i.sections[ve??0])==null?void 0:Pn.subsections)==null?void 0:zn[ke??0])==null?void 0:Gr.subSubsections)==null?void 0:ir.length)??1)-1?l({sectionIndex:ve,subsectionIndex:ke,subSubsectionIndex:je+1}):je!==void 0&&je===(((ya=(An=(Gt=(Rn=i==null?void 0:i.sections[ve??0])==null?void 0:Rn.subsections)==null?void 0:Gt[ke??0])==null?void 0:An.subSubsections)==null?void 0:ya.length)??1)-1&&(ke??0)<(((si=(Sr=i==null?void 0:i.sections[ve??0])==null?void 0:Sr.subsections)==null?void 0:si.length)??1)-1?l({sectionIndex:ve,subsectionIndex:(ke??0)+1}):ke===void 0&&((Lt=(xa=i==null?void 0:i.sections[ve??0])==null?void 0:xa.subsections)!=null&&Lt.length)?l({sectionIndex:ve,subsectionIndex:0}):ke!==void 0&&ke<(((ar=(Hn=i==null?void 0:i.sections[ve??0])==null?void 0:Hn.subsections)==null?void 0:ar.length)??1)-1?l({sectionIndex:ve,subsectionIndex:ke+1}):ke!==void 0&&ke===(((dr=(Mr=i==null?void 0:i.sections[ve??0])==null?void 0:Mr.subsections)==null?void 0:dr.length)??1)-1&&(ve??0)<(((fr=i==null?void 0:i.sections)==null?void 0:fr.length)??1)-1?l({sectionIndex:(ve??0)+1}):(ve??0)<((($n=i==null?void 0:i.sections)==null?void 0:$n.length)??1)-1?l({sectionIndex:(ve??0)+1}):ve===(((bs=i==null?void 0:i.sections)==null?void 0:bs.length)??1)-1&&ke===void 0&&l({sectionIndex:void 0,type:"footer"}))};if(b)return h.jsx(he,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:h.jsx(hi,{size:60,sx:{color:ht.palette.primary.main}})});if(!i)return h.jsx(D6,{maxWidth:"md",children:h.jsxs(he,{sx:{textAlign:"center",py:8,px:4,backgroundColor:ht.palette.background.paper,borderRadius:jt["2xl"],border:`1px solid ${ht.palette.divider}`},children:[h.jsx(ge,{variant:"h5",sx:{fontFamily:ht.typography.h5.fontFamily,fontWeight:ht.typography.h5.fontWeight,color:ht.palette.text.secondary,mb:2},children:"Material Not Found"}),h.jsx(ge,{variant:"body1",sx:{color:ht.palette.text.secondary},children:"The requested material could not be found or you don't have permission to view it."})]})});const w=s.type==="header"||s.type==="footer"?"":s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((q=(F=(R=i.sections[s.sectionIndex])==null?void 0:R.subsections[s.subsectionIndex])==null?void 0:F.subSubsections[s.subSubsectionIndex])==null?void 0:q.content)||"":s.subsectionIndex!==void 0?((L=(k=i.sections[s.sectionIndex])==null?void 0:k.subsections[s.subsectionIndex])==null?void 0:L.content)||"":((B=i.sections[s.sectionIndex])==null?void 0:B.content)||"":"",C=s.type==="header"||s.type==="footer"?"":s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((O=(T=(X=i.sections[s.sectionIndex])==null?void 0:X.subsections[s.subsectionIndex])==null?void 0:T.subSubsections[s.subSubsectionIndex])==null?void 0:O.title)||"":s.subsectionIndex!==void 0?((j=(P=i.sections[s.sectionIndex])==null?void 0:P.subsections[s.subsectionIndex])==null?void 0:j.title)||"":((G=i.sections[s.sectionIndex])==null?void 0:G.title)||"":"",N=s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((ie=(K=(W=i.sections[s.sectionIndex])==null?void 0:W.subsections[s.subsectionIndex])==null?void 0:K.subSubsections[s.subSubsectionIndex])==null?void 0:ie.links)||[]:s.subsectionIndex!==void 0?(($=(ce=i.sections[s.sectionIndex])==null?void 0:ce.subsections[s.subsectionIndex])==null?void 0:$.links)||[]:((ae=i.sections[s.sectionIndex])==null?void 0:ae.links)||[]:[];return h.jsxs(he,{sx:{display:"flex",flexGrow:1,flexDirection:"column",minHeight:"100vh"},children:[h.jsxs(yn,{elevation:1,sx:{p:3,mb:2,backgroundColor:ht.palette.background.paper,borderRadius:0},children:[h.jsx(he,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center"},children:h.jsxs(he,{sx:{display:"flex",gap:2,alignItems:"center"},children:[h.jsx(cr,{label:i.published?"Published":i.scheduledTimestamp?"Scheduled":"Draft",color:i.published?"success":i.scheduledTimestamp?"info":"warning",variant:"outlined",sx:{fontWeight:600}}),h.jsxs(he,{sx:{display:"flex",gap:1},children:[(i==null?void 0:i.originalFile)&&h.jsx(Si,{title:`Download original file: ${i.originalFile.name}`,arrow:!0,children:h.jsx(At,{variant:"outlined",startIcon:h.jsx(xR,{}),endIcon:h.jsx(t_,{}),onClick:x,sx:{borderRadius:"12px",textTransform:"none",fontWeight:600},children:"PPTX"})}),h.jsx(At,{variant:"outlined",startIcon:h.jsx(kx,{}),endIcon:h.jsx(t_,{}),onClick:async()=>{i&&(d(0),await cX(i,d),d(null))},disabled:u!==null,sx:{borderRadius:"12px",textTransform:"none",fontWeight:600},children:u!==null?"Generating...":"PDF"})]})]})}),u!==null&&h.jsx(he,{sx:{width:"100%",mt:2},children:h.jsx(Ko,{variant:"determinate",value:u,sx:{borderRadius:jt.xl,height:8}})})]}),h.jsxs(he,{sx:{display:"flex",flexGrow:1,minHeight:0},children:[h.jsx(mv,{children:h.jsx(n7,{sections:i.sections,selected:s,onAddSection:()=>{},onAddSubsection:()=>{},onAddSubSubsection:()=>{},onSelectSection:y,onUpdateSectionTitle:()=>{},onUpdateSubsectionTitle:()=>{},onUpdateSubSubsectionTitle:()=>{},onDeleteSection:()=>{},onDeleteSubsection:()=>{},onDeleteSubSubsection:()=>{},isViewMode:!0})}),h.jsxs(he,{sx:{flexGrow:1,p:4,overflow:"auto"},children:[h.jsx(yn,{elevation:0,sx:{p:3,mb:3,backgroundColor:ht.palette.background.paper,borderRadius:jt.xl,border:`1px solid ${ht.palette.divider}`},children:h.jsx(ge,{dangerouslySetInnerHTML:{__html:i.header.content.replace(/\n/g,"<br />")},sx:{fontFamily:ht.typography.body1.fontFamily,color:ht.palette.text.secondary,lineHeight:1.6}})}),h.jsx(ge,{variant:"h3",align:"center",sx:{fontFamily:ht.typography.h3.fontFamily,fontWeight:ht.typography.h3.fontWeight,color:ht.palette.text.primary,mb:4},children:i.title}),C&&h.jsx(ge,{variant:"h4",align:"center",sx:{fontFamily:ht.typography.h4.fontFamily,fontWeight:ht.typography.h4.fontWeight,color:ht.palette.text.primary,mb:4},children:C}),s.type!=="header"&&s.type!=="footer"&&h.jsx(Xw,{in:!0,timeout:400,children:h.jsxs(he,{children:[h.jsxs(yn,{elevation:0,sx:{p:4,mb:3,backgroundColor:ht.palette.background.paper,borderRadius:jt.xl,border:`1px solid ${ht.palette.divider}`},children:[h.jsx(ge,{dangerouslySetInnerHTML:{__html:w.replace(/\n/g,"<br />")},sx:{fontFamily:ht.typography.body1.fontFamily,color:ht.palette.text.primary,lineHeight:1.7,"& p":{mb:2}}}),h.jsx(he,{sx:{mt:3},children:s.sectionIndex!==void 0&&h.jsx(h.Fragment,{children:s.subSubsectionIndex!==void 0?(((we=(oe=(ee=(Z=(z=(U=i.sections[s.sectionIndex])==null?void 0:U.subsections)==null?void 0:z[s.subsectionIndex])==null?void 0:Z.subSubsections)==null?void 0:ee[s.subSubsectionIndex])==null?void 0:oe.images)==null?void 0:we.length)||0)>0&&h.jsx(lw,{images:((We=(Me=(De=(Ee=(xe=i.sections[s.sectionIndex])==null?void 0:xe.subsections)==null?void 0:Ee[s.subsectionIndex])==null?void 0:De.subSubsections)==null?void 0:Me[s.subSubsectionIndex])==null?void 0:We.images)||[]}):s.subsectionIndex!==void 0?(((te=(Se=(Y=(Ye=i.sections[s.sectionIndex])==null?void 0:Ye.subsections)==null?void 0:Y[s.subsectionIndex])==null?void 0:Se.images)==null?void 0:te.length)||0)>0&&h.jsx(lw,{images:((Ae=(de=(be=i.sections[s.sectionIndex])==null?void 0:be.subsections)==null?void 0:de[s.subsectionIndex])==null?void 0:Ae.images)||[]}):(((qe=(Le=i.sections[s.sectionIndex])==null?void 0:Le.images)==null?void 0:qe.length)||0)>0&&h.jsx(lw,{images:((Ne=i.sections[s.sectionIndex])==null?void 0:Ne.images)||[]})})})]}),N.length>0&&h.jsx(WQ,{links:N})]})},f),h.jsxs(he,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[h.jsx(Si,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:h.jsx("span",{children:h.jsx(On,{onClick:()=>A("prev"),disabled:s.sectionIndex===0&&s.subsectionIndex===void 0&&s.type==="header",sx:{backgroundColor:ht.palette.primary.main,color:ht.palette.primary.contrastText,"&:hover":{backgroundColor:ht.palette.primary.dark},"&:disabled":{backgroundColor:ht.palette.action.disabled,color:ht.palette.action.disabled}},children:h.jsx(vR,{})})})}),h.jsx(Si,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:h.jsx("span",{children:h.jsx(On,{onClick:()=>A("next"),disabled:s.sectionIndex===(((Xe=i.sections)==null?void 0:Xe.length)??1)-1&&(s.subsectionIndex===void 0||s.subsectionIndex===(((nt=(ut=i.sections[s.sectionIndex])==null?void 0:ut.subsections)==null?void 0:nt.length)??1)-1)&&s.type==="footer",sx:{backgroundColor:ht.palette.primary.main,color:ht.palette.primary.contrastText,"&:hover":{backgroundColor:ht.palette.primary.dark},"&:disabled":{backgroundColor:ht.palette.action.disabled,color:ht.palette.action.disabled}},children:h.jsx(wR,{})})})})]}),h.jsx(yn,{elevation:0,sx:{p:3,mt:4,backgroundColor:ht.palette.background.paper,borderRadius:jt.xl,border:`1px solid ${ht.palette.divider}`},children:h.jsx(ge,{dangerouslySetInnerHTML:{__html:i.footer.content.replace(/\n/g,"<br />")},sx:{fontFamily:ht.typography.body1.fontFamily,color:ht.palette.text.secondary,lineHeight:1.6}})})]})]})]})},CI=({value:e,onChange:n})=>{const[t,r]=Q.useState([]),{userDetails:i}=Ai();return Q.useEffect(()=>{if(i!=null&&i.classes){const a=Object.entries(i.classes).filter(([s,l])=>l.isCourseAdmin||i.isSuperAdmin).map(([s,l])=>({id:s,number:l.number,title:l.title}));r(a)}else r([])},[i]),h.jsxs(Su,{fullWidth:!0,sx:{mb:2},children:[h.jsx(Lc,{id:"course-selector-label",children:"Course"}),h.jsx(Ll,{labelId:"course-selector-label",value:e,onChange:a=>n(a.target.value),label:"Course",children:t.length>0?t.map(a=>h.jsx(Xn,{value:a.id,children:`${a.number} - ${a.title}`},a.id)):h.jsx(Xn,{disabled:!0,children:"No courses available"})}),!e&&h.jsx(SR,{children:"Please select a course"})]})},fX=()=>{const[e,n]=Q.useState(""),[t,r]=Q.useState(""),[i,a]=Q.useState([{title:"",url:""}]),[s,l]=Q.useState(""),u=ma(),d=Zn(),f=async()=>{if(!s){alert("Please select a course to post the message.");return}try{await Ma(vn(d,"messages"),{title:e,description:t,links:i,course:s,postedOn:Yf(),isPinned:!1}),u("/")}catch(x){console.error("Error adding message: ",x)}},g=()=>u("/"),b=(x,y,A)=>{const w=[...i];w[x][y]=A,a(w)},m=()=>a([...i,{title:"",url:""}]);return h.jsx(D6,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:h.jsxs(yn,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[h.jsx(ge,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Add New Message"}),h.jsx(es,{sx:{mb:3,backgroundColor:"#DADADA"}}),h.jsxs(he,{sx:{mt:4},children:[h.jsx(CI,{value:s,onChange:l}),h.jsx(Wt,{label:"Subject",fullWidth:!0,value:e,onChange:x=>n(x.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),h.jsx(Wt,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:t,onChange:x=>r(x.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),h.jsx(ge,{variant:"h6",sx:{mb:2},children:""}),i.map((x,y)=>h.jsxs(he,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[h.jsx(Wt,{label:`URL Title ${y+1}`,fullWidth:!0,value:x.title,onChange:A=>b(y,"title",A.target.value),sx:{mb:1}}),h.jsx(Wt,{label:`URL Link ${y+1}`,fullWidth:!0,value:x.url,onChange:A=>b(y,"url",A.target.value)})]},y)),h.jsx(At,{variant:"outlined",onClick:m,startIcon:h.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),h.jsx(es,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),h.jsxs(he,{sx:{display:"flex",justifyContent:"space-between"},children:[h.jsx(At,{variant:"outlined",onClick:g,className:"cancel-button",children:"Cancel"}),h.jsx(At,{variant:"outlined",onClick:f,className:"save-button",children:"Save"})]})]})]})})},hX=()=>{const{id:e}=z6(),[n,t]=Q.useState(""),[r,i]=Q.useState(""),[a,s]=Q.useState([{title:"",url:""}]),[l,u]=Q.useState(""),d=ma(),f=Zn();Q.useEffect(()=>{(async()=>{try{const A=bn(f,"messages",e),w=await Oa(A);if(w.exists()){const C=w.data();t(C.title),i(C.description),s(C.links||[{title:"",url:""}]),u(C.course||"")}}catch(A){console.error("Error fetching message: ",A)}})()},[f,e]);const g=async()=>{try{if(!l){alert("Please select a valid course to update the message.");return}const y=bn(f,"messages",e);await Wr(y,{title:n,description:r,links:a,course:l,lastUpdatedOn:Yf()}),d("/")}catch(y){console.error("Error editing message: ",y)}},b=()=>d("/"),m=(y,A,w)=>{const C=[...a];C[y][A]=w,s(C)},x=()=>s([...a,{title:"",url:""}]);return h.jsx(D6,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:h.jsxs(yn,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[h.jsx(ge,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Edit Message"}),h.jsx(es,{sx:{mb:3,backgroundColor:"#DADADA"}}),h.jsxs(he,{sx:{mt:4},children:[h.jsx(CI,{value:l,onChange:u}),h.jsx(Wt,{label:"Subject",fullWidth:!0,value:n,onChange:y=>t(y.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),h.jsx(Wt,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:r,onChange:y=>i(y.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),h.jsx(ge,{variant:"h6",sx:{mb:2},children:""}),a.map((y,A)=>h.jsxs(he,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[h.jsx(Wt,{label:`URL Title ${A+1}`,fullWidth:!0,value:y.title,onChange:w=>m(A,"title",w.target.value),sx:{mb:1}}),h.jsx(Wt,{label:`URL Link ${A+1}`,fullWidth:!0,value:y.url,onChange:w=>m(A,"url",w.target.value)})]},A)),h.jsx(At,{variant:"outlined",onClick:x,startIcon:h.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),h.jsx(es,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),h.jsxs(he,{sx:{display:"flex",justifyContent:"space-between"},children:[h.jsx(At,{variant:"outlined",onClick:b,className:"cancel-button",children:"Cancel"}),h.jsx(At,{variant:"outlined",onClick:g,className:"save-button",children:"Save"})]})]})]})})},pX=({users:e,loading:n=!1})=>{const t=a=>a.isSuperAdmin?"superAdmin":a.isAdmin?"educator":"student",r=a=>{if(!a||Object.keys(a).length===0)return h.jsx(he,{sx:{fontStyle:"italic",color:se.text.disabled},children:"None"});const s=Object.entries(a);return h.jsx(he,{sx:{display:"flex",flexDirection:"column",gap:st[1]},children:s.map(([l,u])=>h.jsx(Sp,{courseId:l,courseNumber:u.number,courseTitle:u.title,variant:"link",maxTitleLength:999},l))})},i=[{id:"id",label:"User ID",width:"25%",render:(a,s)=>h.jsx(ch,{userId:a,userType:t(s)})},{id:"isAdmin",label:"Status",width:"15%",render:(a,s)=>h.jsx(Bj,{status:t(s)})},{id:"lastLogin",label:"Last Login",width:"20%",render:a=>h.jsx(Ap,{date:a,format:"full"})},{id:"classes",label:"Courses",width:"40%",render:a=>r(a)}];return h.jsx(uh,{data:e,columns:i,loading:n,emptyMessage:"No users found.",showRowNumbers:!0})},mX=({userId:e,onUserDeleted:n})=>{const[t,r]=Q.useState(!1),[i,a]=Q.useState(!1),s=Zn(),l=()=>{r(!0)},u=()=>{r(!1)},d=async()=>{a(!0);try{const f=bn(s,"users",e);await R6(f),n(!0)}catch(f){console.error("Error deleting user:",f),n(!1)}a(!1),r(!1)};return h.jsxs(h.Fragment,{children:[h.jsx(At,{variant:"text",color:"error",onClick:l,children:"Delete User Account"}),h.jsxs(Ki,{open:t,onClose:u,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[h.jsx(fa,{id:"alert-dialog-title",children:"Confirm Deletion"}),h.jsx(Xi,{children:h.jsx(Ml,{id:"alert-dialog-description",children:"Are you sure you want to delete this user account? This action cannot be undone."})}),h.jsxs(ha,{children:[h.jsx(At,{onClick:u,color:"primary",disabled:i,children:"Cancel"}),h.jsx(At,{onClick:d,color:"error",autoFocus:!0,disabled:i,children:i?h.jsx(hi,{size:24}):"Delete"})]})]})]})},gX=({userId:e,userClasses:n,courses:t,onCourseAssigned:r})=>{const[i,a]=Q.useState(""),[s,l]=Q.useState(!1),[u,d]=Q.useState(!1),[f,g]=Q.useState(""),[b,m]=Q.useState(!1),[x,y]=Q.useState(!1),[A,w]=Q.useState(!1),[C,N]=Q.useState(!1),R=Zn(),F=async()=>{if(!e||!i){g("Please enter a User ID and select a course."),w(!1),m(!0);return}d(!0);try{const B=bn(R,"users",e),X=t.find(T=>T.id===i);if(X){const T=bn(R,"courses",i),O=await Oa(T),P=O.exists()?O.data():null,j=(P==null?void 0:P.courseCreatedAt)||(P==null?void 0:P.createdAt)||(P==null?void 0:P.timestamp)||new Date;await Wr(B,{[`classes.${i}`]:{number:X.number,title:X.title,isCourseAdmin:s,courseCreatedAt:j,enrolledAt:new Date}}),g(`Course ${X.title} assigned successfully to user ${e}${s?" as Course Admin.":"."}`),r(i,{number:X.number,title:X.title,isCourseAdmin:s}),N(!0),setTimeout(()=>N(!1),1e3),y(!1),a(""),l(!1),w(!0)}else g("Selected course not found."),w(!1)}catch(B){console.error("Error assigning course:",B),g("Error assigning course."),w(!1)}d(!1),m(!0)},q=()=>{m(!1)},k=()=>y(!0),L=()=>y(!1);return h.jsxs(h.Fragment,{children:[h.jsxs(he,{sx:{display:"flex",alignItems:"center",mt:2,p:2,borderRadius:2,transition:"background-color 0.3s ease",backgroundColor:C?"#e8f5e8":"transparent",border:C?"2px solid #4caf50":"2px solid transparent"},children:[h.jsx(ge,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Courses:"}),h.jsx(he,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:n&&Object.keys(n).length>0?Object.values(n).map((B,X)=>h.jsx(cr,{label:`${B.isCourseAdmin?"[Course Admin] ":""}${B.number} - ${B.title}`,style:{backgroundColor:B.isCourseAdmin?"#ffcccb":"#d4edda",color:B.isCourseAdmin?"#b71c1c":"#155724",margin:"4px"}},X)):h.jsx(ge,{children:"No courses assigned."})}),h.jsxs(Su,{sx:{minWidth:200,mr:2},children:[h.jsx(Lc,{children:"Course"}),h.jsx(Ll,{value:i,onChange:B=>a(B.target.value),children:t.map(B=>h.jsx(Xn,{value:B.id,children:`${B.number} - ${B.title}`},B.id))})]}),h.jsxs(Su,{sx:{mr:2},children:[h.jsx(Lc,{children:"Role"}),h.jsxs(Ll,{value:s?"admin":"student",onChange:B=>l(B.target.value==="admin"),children:[h.jsx(Xn,{value:"admin",children:"Course Admin"}),h.jsx(Xn,{value:"student",children:"Student"})]})]}),h.jsx(At,{variant:"contained",color:"primary",onClick:k,disabled:u||!i,children:u?h.jsx(hi,{size:24}):"Assign Course"})]}),h.jsx(nl,{open:b,autoHideDuration:6e3,onClose:q,children:h.jsx(vr,{onClose:q,severity:A?"success":"error",children:f})}),h.jsxs(Ki,{open:x,onClose:L,"aria-labelledby":"assign-dialog-title",children:[h.jsx(fa,{id:"assign-dialog-title",children:"Assign Course"}),h.jsx(Xi,{children:h.jsxs(Ml,{children:["Are you sure you want to assign the course ",i," to this user",s?" as a Course Admin?":"?"]})}),h.jsxs(ha,{children:[h.jsx(At,{onClick:L,color:"primary",children:"Cancel"}),h.jsx(At,{onClick:F,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},bX=()=>{const[e,n]=Q.useState(""),[t,r]=Q.useState(!1),[i,a]=Q.useState(!1),[s,l]=Q.useState(void 0),[u,d]=Q.useState(!1),[f,g]=Q.useState(""),[b,m]=Q.useState(!1),[x,y]=Q.useState(!1),[A,w]=Q.useState(!1),[C,N]=Q.useState([]),[R,F]=Q.useState(""),[q,k]=Q.useState([]),L=Zn(),[B,X]=Q.useState("");ma(),Q.useEffect(()=>{(async()=>{try{const Z=vn(L,"courses"),oe=(await pi(Z)).docs.map(we=>({id:we.id,number:we.data().number,title:we.data().title}));k(oe)}catch(Z){console.error("Error fetching courses:",Z)}})()},[L]);const T=async()=>{if(e){d(!0),a(!1);try{const z=bn(L,"users",e),Z=await Oa(z);if(Z.exists()){const ee=Z.data();r(ee.isAdmin),l(ee.classes),a(!0)}else g("User not found."),m(!0)}catch(z){console.error("Error fetching user:",z),g("Error fetching user."),m(!0)}d(!1)}},O=Q.useCallback(async()=>{d(!0);try{const z=vn(L,"users"),ee=(await pi(z)).docs.map(oe=>({id:oe.id,...oe.data()}));N(ee)}catch(z){console.error("Error fetching users:",z),g("Error fetching users."),m(!0)}d(!1)},[L]);Q.useEffect(()=>{O()},[O]);const P=async()=>{try{const z=bn(L,"users",e);await Wr(z,{isAdmin:A}),g(`User ${A?"granted":"revoked"} admin privileges successfully.`),r(A);const Z=C.map(ee=>ee.id===e?{...ee,isAdmin:A}:ee);N(Z)}catch(z){console.error("Error updating user:",z),g("Error updating user.")}m(!0),y(!1)},j=z=>{z.preventDefault(),i?(w(!t),y(!0)):(g("User not found."),m(!0))},G=()=>{m(!1)},W=()=>{y(!1)},K=z=>{F(z.target.value)},ie=z=>R?z.classes&&R in z.classes:!0,ce=z=>B==="superAdmin"?z.isSuperAdmin:B==="educator"?z.isAdmin&&!z.isSuperAdmin:B==="student"?!z.isAdmin&&!z.isSuperAdmin:!0,$=z=>z.filter(Z=>ie(Z)&&ce(Z)),ae=z=>{z?(g("User account deleted successfully."),a(!1),n(""),O()):g("Error deleting user account."),m(!0)},U=(z,Z)=>{l(ee=>({...ee,[z]:Z}))};return h.jsxs(he,{sx:{padding:3},children:[h.jsx(Fl,{title:"User Management"}),h.jsx(ge,{variant:"body1",gutterBottom:!0,children:"Use this page to view and manage user permissions. Enter the User ID to grant or revoke admin privileges, or delete user account."}),h.jsx(he,{sx:{display:"flex",justifyContent:"flex-start"},children:h.jsxs("form",{onSubmit:j,children:[h.jsx(Wt,{label:"User ID",value:e,onChange:z=>n(z.target.value),fullWidth:!0,required:!0,margin:"normal",onKeyPress:z=>{z.key==="Enter"&&(T(),z.preventDefault())},sx:{minWidth:"300px"}}),u?h.jsx(hi,{}):i&&h.jsxs(yn,{variant:"outlined",sx:{padding:2,borderRadius:"15px",mb:1},children:[h.jsxs(he,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #e0e0e0",padding:"16px",borderRadius:"8px",backgroundColor:"#f9f9f9",mb:2},children:[h.jsxs(he,{sx:{display:"flex",alignItems:"center"},children:[h.jsx(ge,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Status:"}),h.jsx(cr,{label:t?"Educator (Admin)":"Student (Non-Admin)",color:t?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",backgroundColor:t?"#1976d2":"#e0e0e0",color:t?"#fff":"#000"}})]}),h.jsx(At,{type:"submit",variant:"contained",color:t?"secondary":"primary",sx:{padding:"8px 16px",textTransform:"none",fontSize:"0.9rem",borderRadius:"8px",fontWeight:"bold",boxShadow:"none","&:hover":{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.2)"}},children:t?"Revoke Educator Access":"Grant Educator Access"})]}),h.jsx(gX,{userId:e,userClasses:s,courses:q,onCourseAssigned:U}),h.jsx(mX,{userId:e,onUserDeleted:ae})]})]})}),h.jsx(ge,{variant:"h5",component:"h2",gutterBottom:!0,children:"Current Users"}),h.jsxs(Su,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[h.jsx(Lc,{children:"Filter by Course"}),h.jsxs(Ll,{value:R,onChange:K,children:[h.jsx(Xn,{value:"",children:"All Courses"}),q.map(z=>h.jsx(Xn,{value:z.id,children:z.number},z.id))]})]}),h.jsxs(Su,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[h.jsx(Lc,{children:"User Status"}),h.jsxs(Ll,{value:B,onChange:z=>X(z.target.value),children:[h.jsx(Xn,{value:"",children:"All Statuses"}),h.jsx(Xn,{value:"superAdmin",children:"Super Admin"}),h.jsx(Xn,{value:"educator",children:"Educator"}),h.jsx(Xn,{value:"student",children:"Student"})]})]}),h.jsx(pX,{users:$(C)}),h.jsxs(Ki,{open:x,onClose:W,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[h.jsx(fa,{id:"alert-dialog-title",children:t?"Revoke Admin Privileges":"Grant Admin Privileges"}),h.jsx(Xi,{children:h.jsxs(Ml,{id:"alert-dialog-description",children:["Are you sure you want to ",t?"revoke":"grant"," admin privileges for this user?"]})}),h.jsxs(ha,{children:[h.jsx(At,{onClick:W,color:"primary",children:"Cancel"}),h.jsx(At,{onClick:P,color:"primary",autoFocus:!0,children:"Confirm"})]})]}),h.jsx(nl,{open:b,autoHideDuration:6e3,onClose:G,children:h.jsx(vr,{onClose:G,severity:"info",children:f})})]})},yX=({onCourseAdded:e})=>{const[n,t]=Q.useState(""),{userDetails:r,setUserDetails:i}=Ai(),a=Zn(),s=u=>{t(u.target.value)},l=async()=>{try{const f=(await pi(vn(a,"courses"))).docs.map(g=>({id:g.id,passcode:g.data().passcode,number:g.data().number,title:g.data().title})).find(g=>g.passcode===n);if(f){if(r)if((r.classes||{})[f.id])e(`Course access for ${f.number} is already added to your account!`,"info");else{const b=bn(a,"users",r.uid),m=bn(a,"courses",f.id),x=await Oa(m),y=x.exists()?x.data():null,A=(y==null?void 0:y.courseCreatedAt)||(y==null?void 0:y.createdAt)||(y==null?void 0:y.timestamp)||new Date;await Wr(b,{[`classes.${f.id}`]:{number:f.number,title:f.title,isCourseAdmin:!1,courseCreatedAt:A,enrolledAt:new Date}});const w=await Oa(b);if(w.exists()){const C=w.data();i({...C,uid:r.uid})}e(`Course access for ${f.number} added to your account successfully!`,"success"),t("")}}else e("Invalid passcode. Course not found.","error")}catch(u){console.error("Error updating document: ",u),e("Error adding course access to your account.","error")}};return h.jsx("div",{children:h.jsxs(yt,{container:!0,spacing:2,sx:{maxWidth:"50%"},children:[h.jsx(yt,{item:!0,xs:10,children:h.jsx(Wt,{label:"Enter Course Passcode",value:n,onChange:s,fullWidth:!0,sx:{mb:2}})}),h.jsx(yt,{item:!0,xs:2,sx:{display:"flex",alignItems:"center"},children:h.jsx(At,{variant:"contained",onClick:l,children:"Add Course"})})]})})};var T1={},b4;function xX(){if(b4)return T1;b4=1;var e=Bd();Object.defineProperty(T1,"__esModule",{value:!0}),T1.default=void 0;var n=e($d()),t=Ud();return T1.default=(0,n.default)((0,t.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),T1}var vX=xX();const wX=ts(vX),SX=({userDetails:e})=>{const n=()=>e.isSuperAdmin?"superAdmin":e.isAdmin?"educator":"student",t=()=>n(),r=()=>e!=null&&e.classes?h.jsx(he,{sx:{border:`1px solid ${se.neutral[200]}`,borderRadius:jt.md,overflow:"hidden"},children:Object.entries(e.classes).map(([i,a],s)=>h.jsxs(he,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:st[3],backgroundColor:s%2===0?se.background.primary:se.neutral[50],borderBottom:s<Object.keys(e.classes).length-1?`1px solid ${se.neutral[200]}`:"none","&:hover":{backgroundColor:se.primary[50]}},children:[h.jsx(he,{sx:{flex:1},children:h.jsx(Sp,{courseId:i,courseNumber:a.number,courseTitle:a.title,variant:"link",maxTitleLength:30})}),a.isCourseAdmin&&h.jsx(he,{sx:{ml:st[2],px:st[2],py:st[1],backgroundColor:se.success[100],color:se.success[700],borderRadius:jt.sm,fontSize:Ie.fontSize.xs,fontWeight:Ie.fontWeight.semibold,fontFamily:Ie.fontFamily.secondary},children:"Admin"})]},i))}):h.jsx(he,{sx:{p:st[3],textAlign:"center",backgroundColor:se.neutral[50],borderRadius:jt.md,border:`1px solid ${se.neutral[200]}`},children:h.jsx(ge,{variant:"body2",sx:{color:se.text.secondary,fontStyle:"italic",fontFamily:Ie.fontFamily.secondary},children:"No courses enrolled"})});return h.jsxs(yn,{elevation:0,sx:{padding:st[6],borderRadius:jt.xl,backgroundColor:se.background.primary,border:`1px solid ${se.neutral[200]}`,boxShadow:Ut.lg,maxWidth:"600px",margin:"auto",transition:"all 0.2s ease","&:hover":{boxShadow:Ut.xl,transform:"translateY(-2px)"}},children:[h.jsx(he,{sx:{display:"flex",justifyContent:"center",mb:st[4]},children:h.jsx(AR,{sx:{width:80,height:80,bgcolor:se.primary[500],border:`3px solid ${se.primary[100]}`,boxShadow:Ut.md},children:h.jsx(wX,{sx:{fontSize:48,color:se.text.inverse}})})}),h.jsxs(he,{sx:{display:"flex",flexDirection:"column",gap:st[4]},children:[h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:st[3]},children:[h.jsx(ge,{sx:{fontWeight:Ie.fontWeight.semibold,fontFamily:Ie.fontFamily.secondary,color:se.text.primary,minWidth:"100px"},children:"User ID:"}),h.jsx(ch,{userId:e.uid,userType:n(),maxLength:999})]}),h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:st[3]},children:[h.jsx(ge,{sx:{fontWeight:Ie.fontWeight.semibold,fontFamily:Ie.fontFamily.secondary,color:se.text.primary,minWidth:"100px"},children:"Status:"}),h.jsx(Bj,{status:t(),size:"medium"})]}),h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:st[3]},children:[h.jsx(ge,{sx:{fontWeight:Ie.fontWeight.semibold,fontFamily:Ie.fontFamily.secondary,color:se.text.primary,minWidth:"100px"},children:"Last Login:"}),h.jsx(ge,{variant:"body2",sx:{fontFamily:"monospace",fontSize:Ie.fontSize.sm,color:se.text.secondary,backgroundColor:se.neutral[100],padding:`${st[2]} ${st[3]}`,borderRadius:jt.md,border:`1px solid ${se.neutral[300]}`},children:Wj(e.lastLogin)})]})]}),h.jsx(es,{sx:{my:st[4],borderColor:se.neutral[200]}}),h.jsxs(he,{children:[h.jsx(ge,{sx:{fontWeight:Ie.fontWeight.semibold,fontFamily:Ie.fontFamily.secondary,color:se.text.primary,mb:st[3],fontSize:Ie.fontSize.lg},children:"Enrolled Courses:"}),r()]})]})},AX=()=>{const{userDetails:e,setUserDetails:n}=Ai(),[t,r]=Q.useState(!1),[i,a]=Q.useState(!1),[s,l]=Q.useState(!1),[u,d]=Q.useState(""),[f,g]=Q.useState("success"),b=ma(),m=Zn(),x=()=>{e!=null&&e.isAdmin||b("/request-educator-permissions")},y=(N,R)=>{l(!0),d(N),g(R),R==="success"&&e&&(async()=>{const q=bn(m,"users",e.uid),k=await Oa(q);if(k.exists()){const L=k.data();n({...L,uid:e.uid})}})()},A=()=>{r(!t)},w=()=>{a(!i)},C=()=>{l(!1)};return h.jsxs(he,{sx:{minHeight:"100vh",backgroundColor:se.background.secondary,padding:st[4]},children:[h.jsx(Fl,{title:"My Account",subtitle:"Manage your account settings, course enrollments, and permissions"}),e&&h.jsx(he,{sx:{mb:st[6]},children:h.jsx(SX,{userDetails:e})}),!(e!=null&&e.isAdmin)&&h.jsxs(he,{sx:{mb:st[4],p:st[4],backgroundColor:se.background.primary,borderRadius:jt.lg,border:`1px solid ${se.neutral[200]}`,boxShadow:Ut.sm},children:[h.jsx(Ed,{control:h.jsx(_d,{checked:t,onChange:A,sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:se.primary[600]},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:se.primary[600]}}}),label:h.jsx(ge,{sx:{fontFamily:Ie.fontFamily.secondary,fontWeight:Ie.fontWeight.semibold,color:se.text.primary},children:"Enroll in a Course (As a Student)"})}),t&&h.jsxs(he,{sx:{mt:st[3]},children:[h.jsx(ge,{variant:"body1",sx:{mb:st[3],color:se.text.secondary,fontFamily:Ie.fontFamily.secondary},children:"Use the area below to add a course access to your account."}),h.jsx(yX,{onCourseAdded:y})]})]}),h.jsxs(he,{sx:{mb:st[4],p:st[4],backgroundColor:se.background.primary,borderRadius:jt.lg,border:`1px solid ${se.neutral[200]}`,boxShadow:Ut.sm},children:[h.jsx(Ed,{control:h.jsx(_d,{checked:i,onChange:w,sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:se.primary[600]},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:se.primary[600]}}}),label:h.jsx(ge,{sx:{fontFamily:Ie.fontFamily.secondary,fontWeight:Ie.fontWeight.semibold,color:se.text.primary},children:"Advanced"})}),i&&h.jsx(he,{sx:{mt:st[3]},children:h.jsx(At,{variant:e!=null&&e.isAdmin?"outlined":"contained",onClick:x,disabled:e==null?void 0:e.isAdmin,sx:{fontFamily:Ie.fontFamily.secondary,fontWeight:Ie.fontWeight.medium,borderRadius:jt.md,textTransform:"none",px:st[4],py:st[2],...e!=null&&e.isAdmin?{borderColor:se.success[500],color:se.success[700],backgroundColor:se.success[50],"&:hover":{backgroundColor:se.success[100]}}:{backgroundColor:se.primary[600],color:se.text.inverse,"&:hover":{backgroundColor:se.primary[700]}}},children:e!=null&&e.isAdmin?h.jsxs(ge,{sx:{fontFamily:Ie.fontFamily.secondary,fontWeight:Ie.fontWeight.medium,display:"flex",alignItems:"center",gap:st[2]},children:[h.jsx("span",{children:""}),"Educator Account Approved"]}):"Request Educator Permissions"})})]}),h.jsx(nl,{open:s,autoHideDuration:6e3,onClose:C,children:h.jsx(vr,{onClose:C,severity:f,sx:{width:"100%",fontFamily:Ie.fontFamily.secondary},children:u})})]})},CX=({selectedCourse:e,selectedCourseDetails:n,onStudentChange:t})=>{const[r,i]=Q.useState(""),[a,s]=Q.useState(!1),[l,u]=Q.useState(""),[d,f]=Q.useState(!1),[g,b]=Q.useState(!1),m=Zn(),x=async()=>{if(!r||!e){u("Please enter a Student ID and select a course."),f(!0);return}s(!0);try{const C=bn(m,"users",r),N=await Oa(C);if(N.exists()){const F=N.data().classes||{};e in F?b(!0):(u(`Student ${r} is not enrolled in course ${(n==null?void 0:n.number)||e}, cannot remove.`),f(!0))}else u(`Student ${r} does not exist.`),f(!0)}catch(C){console.error("Error checking student course:",C),u("Error checking student course."),f(!0)}s(!1)},y=async()=>{s(!0);try{const C=bn(m,"users",r);await Wr(C,{[`classes.${e}`]:d3()}),u(`Student ${r} removed from course ${(n==null?void 0:n.number)||e}.`),i(""),t()}catch(C){console.error("Error updating student course:",C),u("Error updating student course.")}s(!1),f(!0),b(!1)},A=()=>{f(!1)},w=()=>{b(!1)};return h.jsxs(he,{sx:{mt:4},children:[h.jsxs(ge,{variant:"h6",component:"h2",children:["Remove Students from ",n?`${n.number}`:e]}),h.jsxs(he,{sx:{display:"flex",alignItems:"center",mt:2},children:[h.jsx(Wt,{label:"Student ID",value:r,onChange:C=>i(C.target.value),fullWidth:!0,required:!0,margin:"normal",sx:{mr:2}}),h.jsx(At,{variant:"contained",color:"primary",onClick:x,disabled:a,children:a?h.jsx(hi,{size:24}):"Remove"})]}),h.jsx(nl,{open:d,autoHideDuration:6e3,onClose:A,children:h.jsx(vr,{onClose:A,severity:"info",children:l})}),h.jsxs(Ki,{open:g,onClose:w,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[h.jsx(fa,{id:"confirm-dialog-title",children:"Confirm Removal"}),h.jsx(Xi,{children:h.jsx(Ml,{id:"confirm-dialog-description",children:"Are you sure you want to remove the student from the course? This action cannot be undone."})}),h.jsxs(ha,{children:[h.jsx(At,{onClick:w,color:"primary",children:"Cancel"}),h.jsx(At,{onClick:y,color:"secondary",autoFocus:!0,children:"Confirm"})]})]})]})},EX=e=>e?typeof e=="object"&&"toDate"in e?e.toDate().toLocaleString():typeof e=="object"&&"seconds"in e?new Date(e.seconds*1e3).toLocaleString():"N/A":"No data available",qhe=e=>e?typeof e=="object"&&"toDate"in e?e.toDate():typeof e=="object"&&"seconds"in e?new Date(e.seconds*1e3):null:null,_X=({students:e,selectedCourse:n})=>{const t=()=>{if(e.length>0){const r=["User ID","Courses","Last Login"],i=e.map(d=>[`"${d.id||d.uid}"`,`"${d.classes?Object.values(d.classes).map(f=>`${f.number} - ${f.title}`).join(", "):"None"}"`,`"${EX(d.lastLogin)}"`]),a=[r.join(","),...i.map(d=>d.join(","))].join(`
`),s=new Blob([a],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(s),u=document.createElement("a");u.href=l,u.setAttribute("download",`${n}_students.csv`),document.body.appendChild(u),u.click(),document.body.removeChild(u)}};return h.jsx(he,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:h.jsx(At,{variant:"contained",color:"primary",onClick:t,disabled:e.length===0,sx:{background:"linear-gradient(45deg, #3f51b5 30%, #1e88e5 90%)",borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"white",padding:"0 30px",fontSize:"16px",fontWeight:"bold",textTransform:"none","&:hover":{background:"linear-gradient(45deg, #1e88e5 30%, #3f51b5 90%)",boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)"}},children:"Export as CSV"})})},kX=({students:e,loading:n=!1})=>{const t=[{id:"uid",label:"Student ID",width:"60%",render:r=>h.jsx(ch,{userId:r,userType:"student"})},{id:"lastLogin",label:"Last Login",width:"40%",render:r=>h.jsx(Ap,{date:r,format:"full"})}];return h.jsx(uh,{data:e,columns:t,loading:n,emptyMessage:"No students are currently enrolled in this course.",showRowNumbers:!0})},NX=({userClasses:e,selectedCourse:n,onCourseChange:t})=>h.jsx(he,{sx:{mb:3},children:h.jsxs(Su,{fullWidth:!0,variant:"outlined",children:[h.jsx(Lc,{id:"course-selector-label",children:"Select a Course"}),h.jsx(Ll,{"aria-label":"Select a course",labelId:"course-selector-label",value:n,onChange:r=>t(r.target.value),label:"Select a Course",children:Object.entries(e).map(([r,i])=>h.jsx(Xn,{value:r,children:`${i.number} - ${i.title}`},r))})]})}),TX=({selectedCourse:e,selectedCourseDetails:n,onCourseUpdate:t})=>{const[r,i]=Q.useState(!1),[a,s]=Q.useState(""),[l,u]=Q.useState(""),d=Zn(),{userDetails:f,refreshUserDetails:g}=Ai(),b=()=>{n&&(s(n.number||""),u(n.title||"")),i(!0)},m=()=>{i(!1),x()},x=()=>{s(""),u("")},y=async()=>{if(!e||!(f!=null&&f.uid)){console.error("Selected course or user details are missing.");return}try{const A=bn(d,"courses",e);await Wr(A,{number:a,title:l});const w=bn(d,"users",f.uid),C=await Oa(w);if(C.exists()){const N=C.data();if(N.classes&&N.classes[e]){const R=N.classes[e],F={...N.classes,[e]:{...R,number:a,title:l}};await Wr(w,{classes:F})}}await g(),t(),m()}catch(A){console.error("Error updating course:",A)}};return h.jsxs(he,{sx:{mt:2},children:[h.jsx(At,{variant:"outlined",onClick:b,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#4CAF50",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#388E3C",transform:"scale(1.03)"}},children:"Edit Course Details"}),h.jsxs(Ki,{open:r,onClose:m,children:[h.jsx(fa,{children:"Edit Course Details"}),h.jsxs(Xi,{children:[h.jsx(Wt,{label:"Course Number",value:a,onChange:A=>s(A.target.value),fullWidth:!0,sx:{mb:2}}),h.jsx(Wt,{label:"Course Title",value:l,onChange:A=>u(A.target.value),fullWidth:!0})]}),h.jsxs(ha,{children:[h.jsx(At,{onClick:m,children:"Cancel"}),h.jsx(At,{onClick:y,variant:"contained",color:"primary",disabled:!a||!l,children:"Save"})]})]})]})},jX=({selectedCourse:e,onInfoUpdate:n})=>{var P,j,G,W,K,ie,ce,$,ae,U,z,Z,ee;const[t,r]=Q.useState(!1),[i,a]=Q.useState(!1),[s,l]=Q.useState(null),[u,d]=Q.useState({}),[f,g]=Q.useState("contact"),b=Zn();Q.useEffect(()=>{t&&e&&m()},[t,e]);const m=async()=>{try{a(!0);const oe=bn(b,"courses",e),we=await Oa(oe);if(we.exists()){const xe=we.data();d(xe.additionalInfo||{})}}catch(oe){console.error("Error fetching course info:",oe),l("Failed to load course information")}finally{a(!1)}},x=()=>{r(!0),l(null)},y=()=>{r(!1),l(null)},A=async()=>{try{a(!0);const oe=bn(b,"courses",e);await Wr(oe,{additionalInfo:{...u,lastUpdated:new Date}}),n(),y()}catch(oe){console.error("Error updating course info:",oe),l("Failed to save course information")}finally{a(!1)}},w=(oe,we)=>{d(xe=>({...xe,contactInfo:{...xe.contactInfo,[oe]:we}}))},C=(oe,we)=>{d(xe=>({...xe,policies:{...xe.policies,[oe]:we}}))},N=()=>{d(oe=>({...oe,textbooks:[...oe.textbooks||[],{title:"",author:"",edition:"",isbn:"",required:!0}]}))},R=(oe,we,xe)=>{d(Ee=>{var De;return{...Ee,textbooks:(De=Ee.textbooks)==null?void 0:De.map((Me,We)=>We===oe?{...Me,[we]:xe}:Me)}})},F=oe=>{d(we=>{var xe;return{...we,textbooks:(xe=we.textbooks)==null?void 0:xe.filter((Ee,De)=>De!==oe)}})},q=()=>{d(oe=>({...oe,gradingPolicy:[...oe.gradingPolicy||[],{component:"",percentage:0,description:""}]}))},k=(oe,we,xe)=>{d(Ee=>{var De;return{...Ee,gradingPolicy:(De=Ee.gradingPolicy)==null?void 0:De.map((Me,We)=>We===oe?{...Me,[we]:xe}:Me)}})},L=oe=>{d(we=>{var xe;return{...we,gradingPolicy:(xe=we.gradingPolicy)==null?void 0:xe.filter((Ee,De)=>De!==oe)}})},B=(oe,we)=>{d(xe=>{var Ee;return{...xe,[oe]:{...xe[oe],[we]:[...((Ee=xe[oe])==null?void 0:Ee[we])||[],""]}}})},X=(oe,we,xe,Ee)=>{d(De=>{var Me;return{...De,[oe]:{...De[oe],[we]:(((Me=De[oe])==null?void 0:Me[we])||[]).map((We,Ye)=>Ye===xe?Ee:We)}}})},T=(oe,we,xe)=>{d(Ee=>{var De;return{...Ee,[oe]:{...Ee[oe],[we]:(((De=Ee[oe])==null?void 0:De[we])||[]).filter((Me,We)=>We!==xe)}}})},O=oe=>(we,xe)=>{g(xe?oe:!1)};return h.jsxs(he,{sx:{mt:2},children:[h.jsx(At,{variant:"outlined",onClick:x,startIcon:h.jsx(xu,{}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#2196F3",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#1976D2",transform:"scale(1.03)"}},children:"Edit Additional Info"}),h.jsxs(Ki,{open:t,onClose:y,maxWidth:"md",fullWidth:!0,children:[h.jsx(fa,{children:h.jsx(ge,{variant:"h5",children:"Edit Additional Course Information"})}),h.jsxs(Xi,{sx:{minHeight:"500px"},children:[s&&h.jsx(vr,{severity:"error",sx:{mb:2},children:s}),h.jsxs(Sd,{expanded:f==="contact",onChange:O("contact"),children:[h.jsx(Ad,{expandIcon:h.jsx(Wo,{}),children:h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(CR,{color:"primary"}),h.jsx(ge,{variant:"h6",children:"Contact Information"})]})}),h.jsx(Cd,{children:h.jsxs(yt,{container:!0,spacing:2,children:[h.jsx(yt,{item:!0,xs:12,md:6,children:h.jsx(Wt,{label:"Email",fullWidth:!0,value:((P=u.contactInfo)==null?void 0:P.email)||"",onChange:oe=>w("email",oe.target.value)})}),h.jsx(yt,{item:!0,xs:12,md:6,children:h.jsx(Wt,{label:"Phone",fullWidth:!0,value:((j=u.contactInfo)==null?void 0:j.phone)||"",onChange:oe=>w("phone",oe.target.value)})}),h.jsx(yt,{item:!0,xs:12,md:6,children:h.jsx(Wt,{label:"Office",fullWidth:!0,value:((G=u.contactInfo)==null?void 0:G.office)||"",onChange:oe=>w("office",oe.target.value)})}),h.jsx(yt,{item:!0,xs:12,md:6,children:h.jsx(Wt,{label:"Office Hours",fullWidth:!0,value:((W=u.contactInfo)==null?void 0:W.officeHours)||"",onChange:oe=>w("officeHours",oe.target.value)})}),h.jsx(yt,{item:!0,xs:12,children:h.jsx(Wt,{label:"Website",fullWidth:!0,value:((K=u.contactInfo)==null?void 0:K.website)||"",onChange:oe=>w("website",oe.target.value)})})]})})]}),h.jsxs(Sd,{expanded:f==="textbooks",onChange:O("textbooks"),children:[h.jsx(Ad,{expandIcon:h.jsx(Wo,{}),children:h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(ER,{color:"primary"}),h.jsx(ge,{variant:"h6",children:"Textbooks & Resources"})]})}),h.jsxs(Cd,{children:[h.jsx(he,{sx:{mb:2},children:h.jsx(At,{startIcon:h.jsx(bu,{}),onClick:N,variant:"outlined",children:"Add Textbook"})}),(ie=u.textbooks)==null?void 0:ie.map((oe,we)=>h.jsx(he,{sx:{mb:3,p:2,border:"1px solid #ddd",borderRadius:1},children:h.jsxs(yt,{container:!0,spacing:2,children:[h.jsx(yt,{item:!0,xs:12,children:h.jsx(Wt,{label:"Title",fullWidth:!0,value:oe.title,onChange:xe=>R(we,"title",xe.target.value)})}),h.jsx(yt,{item:!0,xs:12,md:4,children:h.jsx(Wt,{label:"Author",fullWidth:!0,value:oe.author||"",onChange:xe=>R(we,"author",xe.target.value)})}),h.jsx(yt,{item:!0,xs:12,md:4,children:h.jsx(Wt,{label:"Edition",fullWidth:!0,value:oe.edition||"",onChange:xe=>R(we,"edition",xe.target.value)})}),h.jsx(yt,{item:!0,xs:12,md:4,children:h.jsx(Wt,{label:"ISBN",fullWidth:!0,value:oe.isbn||"",onChange:xe=>R(we,"isbn",xe.target.value)})}),h.jsx(yt,{item:!0,xs:12,children:h.jsxs(he,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsx(Ed,{control:h.jsx(_d,{checked:oe.required,onChange:xe=>R(we,"required",xe.target.checked)}),label:"Required"}),h.jsx(On,{onClick:()=>F(we),color:"error",children:h.jsx(wd,{})})]})})]})},we))]})]}),h.jsxs(Sd,{expanded:f==="grading",onChange:O("grading"),children:[h.jsx(Ad,{expandIcon:h.jsx(Wo,{}),children:h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(_R,{color:"primary"}),h.jsx(ge,{variant:"h6",children:"Grading Policy"})]})}),h.jsxs(Cd,{children:[h.jsx(he,{sx:{mb:2},children:h.jsx(At,{startIcon:h.jsx(bu,{}),onClick:q,variant:"outlined",children:"Add Grading Component"})}),(ce=u.gradingPolicy)==null?void 0:ce.map((oe,we)=>h.jsx(he,{sx:{mb:2,p:2,border:"1px solid #ddd",borderRadius:1},children:h.jsxs(yt,{container:!0,spacing:2,children:[h.jsx(yt,{item:!0,xs:12,md:4,children:h.jsx(Wt,{label:"Component",fullWidth:!0,value:oe.component,onChange:xe=>k(we,"component",xe.target.value)})}),h.jsx(yt,{item:!0,xs:12,md:3,children:h.jsx(Wt,{label:"Percentage",type:"number",fullWidth:!0,value:oe.percentage,onChange:xe=>k(we,"percentage",parseInt(xe.target.value)||0),inputProps:{min:0,max:100}})}),h.jsx(yt,{item:!0,xs:12,md:4,children:h.jsx(Wt,{label:"Description",fullWidth:!0,value:oe.description||"",onChange:xe=>k(we,"description",xe.target.value)})}),h.jsx(yt,{item:!0,xs:12,md:1,children:h.jsx(On,{onClick:()=>L(we),color:"error",children:h.jsx(wd,{})})})]})},we))]})]}),h.jsxs(Sd,{expanded:f==="policies",onChange:O("policies"),children:[h.jsx(Ad,{expandIcon:h.jsx(Wo,{}),children:h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(kR,{color:"primary"}),h.jsx(ge,{variant:"h6",children:"Course Policies"})]})}),h.jsx(Cd,{children:h.jsx(yt,{container:!0,spacing:2,children:[{key:"attendance",label:"Attendance Policy"},{key:"lateWork",label:"Late Work Policy"},{key:"academicIntegrity",label:"Academic Integrity"},{key:"accommodations",label:"Accommodations"},{key:"communication",label:"Communication Policy"},{key:"safety",label:"Safety Policy"},{key:"groupWork",label:"Group Work Policy"},{key:"makeupPolicy",label:"Make-up Policy"}].map(({key:oe,label:we})=>{var xe;return h.jsx(yt,{item:!0,xs:12,children:h.jsx(Wt,{label:we,multiline:!0,rows:3,fullWidth:!0,value:((xe=u.policies)==null?void 0:xe[oe])||"",onChange:Ee=>C(oe,Ee.target.value)})},oe)})})})]}),h.jsxs(Sd,{expanded:f==="lab",onChange:O("lab"),children:[h.jsx(Ad,{expandIcon:h.jsx(Wo,{}),children:h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(j6,{color:"primary"}),h.jsx(ge,{variant:"h6",children:"Laboratory Information"})]})}),h.jsx(Cd,{children:h.jsxs(yt,{container:!0,spacing:3,children:[h.jsxs(yt,{item:!0,xs:12,children:[h.jsx(ge,{variant:"subtitle2",sx:{mb:1},children:"Safety Requirements"}),h.jsx(he,{sx:{mb:2},children:h.jsx(At,{startIcon:h.jsx(bu,{}),onClick:()=>B("labSpecific","safetyRequirements"),size:"small",variant:"outlined",children:"Add Safety Requirement"})}),(ae=($=u.labSpecific)==null?void 0:$.safetyRequirements)==null?void 0:ae.map((oe,we)=>h.jsxs(he,{sx:{display:"flex",gap:1,mb:1},children:[h.jsx(Wt,{fullWidth:!0,size:"small",value:oe,onChange:xe=>X("labSpecific","safetyRequirements",we,xe.target.value),placeholder:"Safety requirement"}),h.jsx(On,{onClick:()=>T("labSpecific","safetyRequirements",we),color:"error",size:"small",children:h.jsx(wd,{})})]},we))]}),h.jsxs(yt,{item:!0,xs:12,md:6,children:[h.jsx(ge,{variant:"subtitle2",sx:{mb:1},children:"Required Equipment"}),h.jsx(he,{sx:{mb:2},children:h.jsx(At,{startIcon:h.jsx(bu,{}),onClick:()=>B("labSpecific","requiredEquipment"),size:"small",variant:"outlined",children:"Add Equipment"})}),(z=(U=u.labSpecific)==null?void 0:U.requiredEquipment)==null?void 0:z.map((oe,we)=>h.jsxs(he,{sx:{display:"flex",gap:1,mb:1},children:[h.jsx(Wt,{fullWidth:!0,size:"small",value:oe,onChange:xe=>X("labSpecific","requiredEquipment",we,xe.target.value),placeholder:"Equipment item"}),h.jsx(On,{onClick:()=>T("labSpecific","requiredEquipment",we),color:"error",size:"small",children:h.jsx(wd,{})})]},we))]}),h.jsxs(yt,{item:!0,xs:12,md:6,children:[h.jsx(ge,{variant:"subtitle2",sx:{mb:1},children:"Dress Code"}),h.jsx(he,{sx:{mb:2},children:h.jsx(At,{startIcon:h.jsx(bu,{}),onClick:()=>B("labSpecific","dresscode"),size:"small",variant:"outlined",children:"Add Dress Code Item"})}),(ee=(Z=u.labSpecific)==null?void 0:Z.dresscode)==null?void 0:ee.map((oe,we)=>h.jsxs(he,{sx:{display:"flex",gap:1,mb:1},children:[h.jsx(Wt,{fullWidth:!0,size:"small",value:oe,onChange:xe=>X("labSpecific","dresscode",we,xe.target.value),placeholder:"Dress code requirement"}),h.jsx(On,{onClick:()=>T("labSpecific","dresscode",we),color:"error",size:"small",children:h.jsx(wd,{})})]},we))]})]})})]})]}),h.jsxs(ha,{children:[h.jsx(At,{onClick:y,children:"Cancel"}),h.jsx(At,{onClick:A,variant:"contained",disabled:i,children:i?"Saving...":"Save Changes"})]})]})]})},OX=async(e,n,t)=>{const r=vp(),i=e.name.split(".").pop()||"txt",a=`${e.name.replace(/\.[^/.]+$/,"")}_${Ri()}.${i}`,s=`syllabi/${n}/${a}`,l=vc(r,s);try{const u=await Vf(l,e),d=await Gf(u.ref),f={originalFilename:e.name,fileSize:e.size,fileType:e.type||"application/octet-stream",uploadedAt:new Date,uploadedBy:n,courseId:t};return console.log(`Successfully uploaded syllabus file: ${a}`,{size:e.size,type:e.type,url:d}),{url:d,path:u.ref.fullPath,metadata:f}}catch(u){throw console.error("Failed to upload syllabus file:",u),new Error(`Failed to upload syllabus file: ${u instanceof Error?u.message:"Unknown error"}`)}},y4=e=>{switch(e.toLowerCase()){case"application/pdf":return"PDF Document";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return"Word Document";case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return"PowerPoint Presentation";case"text/plain":return"Text File";default:return"Document"}},x4=e=>{if(e===0)return"0 Bytes";const n=1024,t=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,r)).toFixed(2))+" "+t[r]},IX=({courseId:e})=>{const[n,t]=Q.useState(null),[r,i]=Q.useState(!0),[a,s]=Q.useState(null),[l,u]=Q.useState(!1),d=Zn();Q.useEffect(()=>{e&&(async()=>{try{i(!0);const m=bn(d,"courses",e),x=await Oa(m);if(x.exists()){const y=x.data();t(y.syllabusFile||null)}else s("Course not found")}catch(m){console.error("Error fetching syllabus file:",m),s("Failed to load syllabus file information")}finally{i(!1)}})()},[e,d]);const f=()=>{n!=null&&n.url&&window.open(n.url,"_blank")},g=()=>{u(!0)};return r?h.jsx(he,{sx:{display:"flex",justifyContent:"center",p:2},children:h.jsx(hi,{size:24})}):a?h.jsx(vr,{severity:"error",sx:{mb:2},children:a}):n?h.jsxs(yn,{sx:{p:3,mb:3,backgroundColor:"info.50"},children:[h.jsxs(ge,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[h.jsx(kx,{color:"primary"}),"Original Syllabus Document"]}),h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[h.jsx(ge,{variant:"body1",sx:{flexGrow:1},children:h.jsx("strong",{children:n.metadata.originalFilename})}),h.jsxs(ge,{variant:"body2",color:"text.secondary",children:[y4(n.metadata.fileType),"  ",x4(n.metadata.fileSize)]})]}),h.jsxs(ge,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Uploaded: ",new Date(n.metadata.uploadedAt).toLocaleDateString()]}),h.jsxs(he,{sx:{display:"flex",gap:2},children:[h.jsx(At,{variant:"outlined",startIcon:h.jsx(L6,{}),onClick:g,size:"small",children:"View Details"}),h.jsx(At,{variant:"contained",startIcon:h.jsx(fg,{}),onClick:f,size:"small",children:"Download"})]}),h.jsxs(Ki,{open:l,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[h.jsxs(fa,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(kx,{}),"Syllabus File Details"]}),h.jsx(Xi,{children:h.jsxs(he,{sx:{mb:2},children:[h.jsx(ge,{variant:"body2",color:"text.secondary",children:h.jsx("strong",{children:"Filename:"})}),h.jsx(ge,{variant:"body1",sx:{mb:2},children:n.metadata.originalFilename}),h.jsx(ge,{variant:"body2",color:"text.secondary",children:h.jsx("strong",{children:"File Type:"})}),h.jsx(ge,{variant:"body1",sx:{mb:2},children:y4(n.metadata.fileType)}),h.jsx(ge,{variant:"body2",color:"text.secondary",children:h.jsx("strong",{children:"File Size:"})}),h.jsx(ge,{variant:"body1",sx:{mb:2},children:x4(n.metadata.fileSize)}),h.jsx(ge,{variant:"body2",color:"text.secondary",children:h.jsx("strong",{children:"Uploaded:"})}),h.jsx(ge,{variant:"body1",sx:{mb:2},children:new Date(n.metadata.uploadedAt).toLocaleString()}),h.jsx(ge,{variant:"body2",color:"text.secondary",children:h.jsx("strong",{children:"Storage Path:"})}),h.jsx(ge,{variant:"body2",sx:{fontFamily:"monospace",backgroundColor:"grey.100",p:1,borderRadius:1},children:n.path})]})}),h.jsxs(ha,{children:[h.jsx(At,{onClick:()=>u(!1),children:"Close"}),h.jsx(At,{onClick:f,variant:"contained",startIcon:h.jsx(fg,{}),children:"Download File"})]})]})]}):null},DX=({selectedCourse:e,onCourseDelete:n})=>{const[t,r]=Q.useState(!1),i=Zn(),{refreshUserDetails:a}=Ai(),s=()=>r(!0),l=()=>r(!1),u=async()=>{if(e)try{const d=M6(i),f=bn(i,"courses",e);d.delete(f);const g=vn(i,"users");(await pi(g)).forEach(m=>{const x=bn(i,"users",m.id),y=m.data().classes||{};y&&y[e]&&(delete y[e],d.update(x,{classes:y}))}),await d.commit(),await a(),n(),l()}catch(d){console.error("Error deleting course:",d)}};return h.jsxs(he,{sx:{mt:2},children:[h.jsx(At,{variant:"contained",onClick:s,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#F44336",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#D32F2F",transform:"scale(1.03)"}},children:"Delete Course"}),h.jsxs(Ki,{open:t,onClose:l,children:[h.jsx(fa,{children:"Confirm Delete"}),h.jsx(Xi,{children:h.jsx(Ml,{children:"Are you sure you want to delete this course? This action cannot be undone."})}),h.jsxs(ha,{children:[h.jsx(At,{onClick:l,children:"Cancel"}),h.jsx(At,{onClick:u,variant:"contained",color:"error",children:"Delete"})]})]})]})},LX=({text:e,tooltipText:n="Click to Copy",successText:t="Copied!"})=>{const[r,i]=Q.useState(!1),a=()=>{navigator.clipboard.writeText(e).then(()=>{i(!0),setTimeout(()=>i(!1),2e3)}).catch(s=>console.error("Could not copy text: ",s))};return h.jsx(Si,{title:r?t:n,enterDelay:300,leaveDelay:200,children:h.jsx(cr,{label:e,variant:"outlined",onClick:a,sx:{borderRadius:"15px",fontSize:"16px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",fontFamily:"Gabarito, sans-serif"}})})},RX=()=>{const{userDetails:e}=Ai(),[n,t]=Q.useState(""),[r,i]=Q.useState([]),[a,s]=Q.useState(null),[l,u]=Q.useState(!1),[d,f]=Q.useState(""),[g,b]=Q.useState("success"),m=Zn();Q.useEffect(()=>{(async()=>{if(e!=null&&e.isAdmin){const w=tl(vn(m,"courses"),wi("courseAdmin","array-contains",e.uid)),N=(await pi(w)).docs.map(R=>({id:R.id,number:R.data().number,title:R.data().title,passcode:R.data().passcode}));i(N)}})()},[m,e]);const x=A=>{const w=A.target.value;t(w);const C=r.find(N=>N.id===w);C?(s(C.passcode),f(`Passcode for course "${C.number} - ${C.title}" retrieved successfully.`),b("success"),u(!0)):(s(null),f("Course not found."),b("error"),u(!0))},y=()=>{u(!1)};return h.jsxs(he,{sx:{mt:4},children:[h.jsx(ge,{variant:"subtitle1",component:"h2",sx:{mb:2},children:"Retrieve Course Passcode"}),h.jsx(yt,{container:!0,spacing:2,sx:{maxWidth:"75%"},children:h.jsxs(yt,{item:!0,xs:12,sx:{display:"flex",alignItems:"center"},children:[h.jsx(Wt,{select:!0,label:"Select Course Number",value:n,onChange:x,fullWidth:!0,sx:{mb:2,mr:2},children:r.map(A=>h.jsx(Xn,{value:A.id,children:`${A.number} - ${A.title}`},A.id))}),a&&h.jsxs(he,{sx:{display:"flex",alignItems:"center",ml:2},children:[h.jsx(ge,{variant:"body1",sx:{mr:1},children:"Passcode:"}),h.jsx(LX,{text:`${a}`})]})]})}),h.jsx(nl,{open:l,autoHideDuration:6e3,onClose:y,children:h.jsx(vr,{onClose:y,severity:g,sx:{width:"100%"},children:d})})]})},MX=()=>{const{userDetails:e}=Ai(),[n,t]=Q.useState([]),[r,i]=Q.useState(""),[a,s]=Q.useState(!1),[l,u]=Q.useState(!1),[d,f]=Q.useState(!1),g=Zn(),b=ma(),x=e!=null&&e.classes?Object.entries(e.classes).filter(([N,R])=>R.isCourseAdmin).reduce((N,[R,F])=>({...N,[R]:F}),{}):{};Q.useEffect(()=>{x[r]||i(Object.keys(x)[0]||"")},[x,r]),Q.useEffect(()=>{(async()=>{if(r)try{const R=tl(vn(g,"users"),wi("isAdmin","==",!1)),k=(await pi(R)).docs.map(L=>({uid:L.id,...L.data()})).filter(L=>L.classes&&L.classes[r]);t(k)}catch(R){console.error("Error fetching students:",R)}})()},[r,g]);const y=N=>{i(N)},A=()=>{b("/request-new-course")},w=x[r];w&&`${w.number}${w.title}`;const C=!!(r&&w);return h.jsxs(he,{className:"profile-container",sx:{p:4},children:[h.jsx(Fl,{title:"Course Management"}),h.jsxs(he,{sx:{mb:4,p:3,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[h.jsx(ge,{variant:"h6",sx:{fontFamily:"Staatliches, sans-serif",mb:2,color:"#0B53C0"},children:"Select a Course"}),Object.keys(x).length>0?h.jsx(NX,{userClasses:x,selectedCourse:r,onCourseChange:y}):h.jsx(ge,{variant:"body1",sx:{color:"#9E9E9E"},children:"No courses available for selection."})]}),h.jsx(he,{children:C&&h.jsxs(h.Fragment,{children:[h.jsx(IX,{courseId:r}),h.jsxs(he,{sx:{flex:2,display:"flex",justifyContent:"flex-end",gap:2},children:[h.jsx(TX,{selectedCourse:r,selectedCourseDetails:w,onCourseUpdate:()=>{}}),h.jsx(jX,{selectedCourse:r,onInfoUpdate:()=>{}}),h.jsx(DX,{selectedCourse:r,onCourseDelete:()=>i("")})]})]})}),C&&h.jsxs(yn,{elevation:0,sx:{p:st[6],mb:st[6],borderRadius:jt.xl,backgroundColor:se.background.secondary,border:`1px solid ${se.neutral[200]}`},children:[h.jsx(ge,{variant:"h5",component:"h2",sx:{fontFamily:Ie.fontFamily.display,fontWeight:Ie.fontWeight.bold,mb:st[4],color:se.primary[500]},children:"Students Enrolled in Course"}),h.jsx(he,{sx:{mb:st[4]},children:h.jsx(kX,{students:n,loading:!1})}),n.length>0&&h.jsx(_X,{students:n,selectedCourse:r}),n.length>0&&h.jsxs(yn,{sx:{mt:4,p:3,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[h.jsx(Ed,{control:h.jsx(_d,{checked:d,onChange:()=>f(N=>!N)}),label:"Remove Student(s) from the Course"}),d&&h.jsx(CX,{selectedCourse:r,selectedCourseDetails:w,onStudentChange:()=>{}})]})]}),h.jsxs(he,{sx:{display:"flex",gap:4,mb:4},children:[h.jsxs(he,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[h.jsx(Ed,{control:h.jsx(_d,{checked:l,onChange:()=>u(N=>!N)}),label:"Retrieve Course Passcode"}),l&&h.jsx(he,{sx:{mt:2},children:h.jsx(RX,{})})]}),h.jsxs(he,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[h.jsx(Ed,{control:h.jsx(_d,{checked:a,onChange:()=>s(N=>!N)}),label:"Request Creating a New Course"}),a&&h.jsx(he,{sx:{mt:2},children:h.jsx(At,{variant:"contained",onClick:A,sx:{backgroundColor:"#4CAF50",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",textTransform:"none","&:hover":{backgroundColor:"#388E3C"}},children:"Request New Course"})})]})]})]})};class FX{constructor(n){et(this,"genAI");et(this,"model");this.genAI=new Xj(n),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.1,topK:1,topP:.8,maxOutputTokens:16384}})}async processSyllabusText(n,t,r){return n.length>3e4?(console.log("Large document detected, using chunked processing"),this.processLargeDocument(n,t,r)):this.processSingleDocument(n,t,r)}async processSingleDocument(n,t,r){const i=this.buildSyllabusAnalysisPrompt(n,t);try{const l=(await(await this.model.generateContent(i)).response).text();if(!l||l.trim().length===0)throw new Error("Empty response from AI service");const u=l.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();let d;try{d=JSON.parse(u)}catch(f){throw console.error("JSON parsing failed:",f),console.error("Raw response text:",l),console.error("Cleaned text:",u),new Error("AI response format invalid - unable to parse JSON")}if(!d||typeof d!="object")throw new Error("AI response is not a valid object");return d.courseInfo||(console.warn("Missing courseInfo in AI response, using defaults"),d.courseInfo={}),this.validateAndSanitizeResponse(d)}catch(a){if(console.error("Gemini API Error:",a),a instanceof Error){if(a.message.includes("AI response")||a.message.includes("JSON parsing"))throw a;if(a.message.includes("API key"))throw new Error("Invalid or missing Gemini API key. Please check your environment configuration.");if(a.message.includes("quota")||a.message.includes("rate limit"))throw new Error("API rate limit exceeded. Please try again later.")}throw new Error(`Failed to process syllabus with AI: ${a instanceof Error?a.message:"Unknown error"}`)}}async processLargeDocument(n,t,r){const a=this.chunkText(n,35e3);console.log(`Processing ${a.length} chunks for large document`);const s=await this.processSingleDocument(a[0],t,r),l=await Promise.allSettled(a.slice(1).map(u=>this.processChunkForDetails(u,t)));return this.mergeChunkedResults(s,l)}chunkText(n,t){const r=[],i=n.split(`
`);let a="";const s=["schedule","session","unit","week","topic","assignment","objective","learning outcome","reading","textbook","prerequisite"];for(let l=0;l<i.length;l++){const u=i[l],d=i[l+1]||"",f=s.some(g=>u.toLowerCase().includes(g)||d.toLowerCase().includes(g));a.length+u.length>t&&a.length>0&&(f||a.length>t*.8)?(r.push(a.trim()),a=u):a+=`
`+u}return a.trim()&&r.push(a.trim()),r}async processChunkForDetails(n,t){const r=`
Extract additional course details from this syllabus section. Focus heavily on:
- ALL schedule items, sessions, units, weeks, and topics
- Session numbers, titles, and descriptions
- Learning outcomes for each session
- Reading assignments and resources
- Assignment details and due dates
- Any additional objectives or policies

IMPORTANT: Extract ALL schedule/session information - do not limit the number of items.
Convert session numbers to week numbers (Session 1 = Week 1, etc.).

Return JSON with only the fields you can extract from this section:
${n}
`;try{const l=(await(await this.model.generateContent(r)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(l)}catch(i){return console.warn("Failed to process chunk:",i),{}}}mergeChunkedResults(n,t){const r={...n};return t.forEach(i=>{if(i.status==="fulfilled"&&i.value){const a=i.value;if(a.learningObjectives&&(r.learningObjectives=[...r.learningObjectives,...a.learningObjectives]),a.schedule){const s=new Set(r.schedule.map(u=>`${u.week}-${u.topic}`)),l=a.schedule.filter(u=>!s.has(`${u.week}-${u.topic}`));r.schedule=[...r.schedule,...l]}a.assignments&&(r.assignments=[...r.assignments,...a.assignments]),a.prerequisites&&(r.prerequisites=[...r.prerequisites,...a.prerequisites]),a.contactInfo&&(r.contactInfo={...r.contactInfo,...a.contactInfo}),a.policies&&(r.policies={...r.policies,...a.policies}),a.additionalResources&&(r.additionalResources={...r.additionalResources,...a.additionalResources})}}),r.learningObjectives=[...new Set(r.learningObjectives)],r.prerequisites=[...new Set(r.prerequisites)],r.schedule=r.schedule.sort((i,a)=>i.week-a.week),r}buildSyllabusAnalysisPrompt(n,t){return`
You are an expert educational content analyzer. Analyze the following course syllabus and extract structured information in JSON format.

IMPORTANT INSTRUCTIONS:
1. Return ONLY valid JSON - no markdown, no explanations, no additional text
2. If information is not available, use null or empty arrays/objects
3. Be thorough but accurate - don't invent information
4. For percentages in grading, ensure they are numbers (not strings)
5. For week numbers, ensure they are integers
6. Extract all learning objectives, even if they're not numbered
7. Look for course schedules in various formats (weekly, by date, by topic, by session/unit)
8. IMPORTANT: Extract ALL schedule items, sessions, units, and topics - do not limit to just a few weeks
9. For session-based schedules, convert sessions to week numbers (e.g., Session 1 = Week 1)
10. LABORATORY COURSES: Pay special attention to safety requirements, lab equipment, dress codes, group work policies, and experiment-based schedules
11. Identify course type: determine if this is a lecture, lab, seminar, or hybrid course based on content

Required JSON structure:
{
  "courseInfo": {
    "title": "string",
    "number": "string (e.g., CS 350, BIOL 301, CHEM 315)",
    "description": "string",
    "instructor": "string or null",
    "department": "string or null",
    "institution": "string or null",
    "credits": "number or null",
    "meetingTimes": "string or null (include lab times if applicable)",
    "semester": "string or null",
    "year": "string or null",
    "courseType": "lecture|lab|seminar|hybrid",
    "location": "string or null (lab room, classroom, etc.)"
  },
  "learningObjectives": [
    "string (each objective as separate item)"
  ],
  "schedule": [
    {
      "week": "number",
      "topic": "string",
      "description": "string or null",
      "readings": ["string"] or null,
      "assignments": ["string"] or null,
      "dueDate": "string or null",
      "notes": "string or null",
      "experimentType": "string or null (for lab courses)",
      "equipmentNeeded": ["string"] or null
    }
  ],
  "prerequisites": [
    "string (each prerequisite course/requirement)"
  ],
  "textbooks": [
    {
      "title": "string",
      "author": "string or null",
      "edition": "string or null",
      "isbn": "string or null",
      "required": "boolean"
    }
  ],
  "gradingPolicy": [
    {
      "component": "string (e.g., Exams, Homework, Projects)",
      "percentage": "number (e.g., 40, not '40%')",
      "description": "string or null"
    }
  ],
  "assignments": [
    {
      "name": "string",
      "description": "string",
      "type": "string (exam|project|homework|quiz|presentation|lab_report|lab_practical)",
      "dueDate": "string or null",
      "points": "number or null",
      "weight": "number or null (for weighted assignments)"
    }
  ],
  "policies": {
    "attendance": "string or null",
    "lateWork": "string or null",
    "academicIntegrity": "string or null",
    "accommodations": "string or null",
    "communication": "string or null",
    "safety": "string or null (lab safety requirements)",
    "groupWork": "string or null (partner/group work policies)",
    "makeupPolicy": "string or null (make-up lab/exam policies)"
  },
  "contactInfo": {
    "email": "string or null",
    "phone": "string or null",
    "office": "string or null",
    "officeHours": "string or null",
    "website": "string or null"
  },
  "additionalResources": {
    "software": ["string"] or null,
    "equipment": ["string"] or null,
    "websites": ["string"] or null,
    "tutoring": "string or null",
    "learningPlatform": "string or null (Moodle, Blackboard, etc.)"
  },
  "labSpecific": {
    "safetyRequirements": ["string"] or null,
    "requiredEquipment": ["string"] or null,
    "dresscode": ["string"] or null,
    "notebookRequirements": "string or null",
    "groupWorkStructure": "string or null",
    "makeupPolicy": "string or null"
  }
}

${t?`File name: ${t}`:""}

Syllabus content to analyze:
${n}
`}validateAndSanitizeResponse(n){var r,i,a,s,l,u,d,f,g,b,m,x,y,A;const t={courseInfo:{title:"Course Title",number:"COURSE 101",description:"Course description not available"},learningObjectives:[],schedule:[],prerequisites:[],textbooks:[],gradingPolicy:[],assignments:[],policies:{},contactInfo:{},additionalResources:{}};try{return{courseInfo:{...t.courseInfo,...n.courseInfo},learningObjectives:Array.isArray(n.learningObjectives)?n.learningObjectives:[],schedule:Array.isArray(n.schedule)?n.schedule.map((C,N)=>({week:typeof C.week=="number"?C.week:N+1,topic:C.topic||`Week ${N+1} Topic`,description:C.description||null,readings:Array.isArray(C.readings)?C.readings:null,assignments:Array.isArray(C.assignments)?C.assignments:null,dueDate:C.dueDate||null,notes:C.notes||null})):[],prerequisites:Array.isArray(n.prerequisites)?n.prerequisites:[],textbooks:Array.isArray(n.textbooks)?n.textbooks.map(C=>({title:C.title||"Unknown Textbook",author:C.author||null,edition:C.edition||null,isbn:C.isbn||null,required:typeof C.required=="boolean"?C.required:!0})):[],gradingPolicy:Array.isArray(n.gradingPolicy)?n.gradingPolicy.map(C=>({component:C.component||"Unknown Component",percentage:typeof C.percentage=="number"?C.percentage:0,description:C.description||null})):[],assignments:Array.isArray(n.assignments)?n.assignments.map(C=>({name:C.name||"Assignment",description:C.description||"",type:C.type||"homework",dueDate:C.dueDate||null,points:typeof C.points=="number"?C.points:null})):[],policies:{attendance:((r=n.policies)==null?void 0:r.attendance)||null,lateWork:((i=n.policies)==null?void 0:i.lateWork)||null,academicIntegrity:((a=n.policies)==null?void 0:a.academicIntegrity)||null,accommodations:((s=n.policies)==null?void 0:s.accommodations)||null,communication:((l=n.policies)==null?void 0:l.communication)||null},contactInfo:{email:((u=n.contactInfo)==null?void 0:u.email)||null,phone:((d=n.contactInfo)==null?void 0:d.phone)||null,office:((f=n.contactInfo)==null?void 0:f.office)||null,officeHours:((g=n.contactInfo)==null?void 0:g.officeHours)||null,website:((b=n.contactInfo)==null?void 0:b.website)||null},additionalResources:{software:Array.isArray((m=n.additionalResources)==null?void 0:m.software)?n.additionalResources.software:null,equipment:Array.isArray((x=n.additionalResources)==null?void 0:x.equipment)?n.additionalResources.equipment:null,websites:Array.isArray((y=n.additionalResources)==null?void 0:y.websites)?n.additionalResources.websites:null,tutoring:((A=n.additionalResources)==null?void 0:A.tutoring)||null}}}catch(w){return console.error("Error validating AI response:",w),t}}async generateCourseMaterials(n,t){const r=`
Based on the following course information, generate detailed course materials in JSON format.

CRITICAL REQUIREMENTS:
1. Return ONLY valid JSON - absolutely NO explanatory text, comments, or additional content
2. Do not add any text before or after the JSON array
3. Do not include comments like "// ..." in the JSON
4. Generate materials for ALL available weeks/sessions from the course information

Create materials for:
1. Course Overview (with detailed description, objectives, and policies)  
2. Weekly/session materials for ALL weeks found in the schedule
3. Assignment descriptions where applicable

Course Information:
${JSON.stringify(n,null,2)}

Generate materials for ${(t==null?void 0:t.includeWeeks)||n.schedule.length} weeks/sessions.

Return ONLY a JSON array of materials with this structure:
[
  {
    "id": "unique-id",
    "title": "Material Title",
    "type": "overview|weekly|assignment|resource",
    "header": {"title": "string", "content": "string"},
    "sections": [
      {
        "id": "section-id",
        "title": "Section Title",
        "content": "HTML formatted content",
        "subsections": [
          {
            "id": "subsection-id",
            "title": "Subsection Title",
            "content": "HTML formatted content"
          }
        ]
      }
    ],
    "footer": {"title": "string", "content": "string"},
    "published": false,
    "scheduledTimestamp": "ISO date string or null"
  }
]
`;try{const s=(await(await this.model.generateContent(r)).response).text();if(!s||s.trim().length===0)return console.warn("Empty response from AI service for material generation"),[];let l=s.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();const u=l.lastIndexOf("]");u!==-1&&(l=l.substring(0,u+1));let d;try{d=JSON.parse(l)}catch(f){return console.error("JSON parsing failed for material generation:",f),console.error("Raw response text:",s),console.error("Cleaned text:",l),console.warn("Falling back to empty materials array"),[]}return Array.isArray(d)?d:(console.warn("AI response is not an array, wrapping in array:",d),d?[d]:[])}catch(i){return console.error("Error generating materials:",i),[]}}}let $y=null;const v4=e=>{const n="AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8";if(!$y&&n&&($y=new FX(n)),!$y)throw new Error("Gemini service not initialized. Please configure VITE_GEMINI_API_KEY environment variable.");return $y},Uh=()=>Math.random().toString(36).substr(2,9),PX=e=>e.length?`<ul>${e.map(t=>`<li>${t}</li>`).join("")}</ul>`:"<p>No objectives specified</p>",zX=e=>e.length?`<ul>${e.map(t=>`<li>${t}</li>`).join("")}</ul>`:"<p>No readings assigned</p>",Ip=wp()(Gg(bv((e,n)=>({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null,setUploadedFile:t=>e({uploadedFile:t}),setUploadProgress:t=>e({uploadProgress:t}),setExtractedText:t=>e({extractedText:t}),setStoredSyllabusFile:t=>e({storedSyllabusFile:t}),setAIExtractedInfo:t=>e({aiExtractedInfo:t}),setUseAIProcessing:t=>e({useAIProcessing:t}),setParsedCourseInfo:t=>e({parsedCourseInfo:t}),setGeneratedMaterials:t=>e({generatedMaterials:t}),setCurrentStep:t=>e({currentStep:t}),setIsProcessing:t=>e({isProcessing:t}),setError:t=>e({error:t}),setProcessingProgress:t=>e({processingProgress:t}),uploadSyllabus:async(t,r)=>{const i=e7(t);if(!i.isValid){e({error:i.error,currentStep:"upload"});return}const a=JF(t);e({uploadedFile:t,uploadProgress:0,error:null,extractionMetadata:{fileName:t.name,fileSize:t.size,fileType:t7(t),estimatedProcessingTime:a},processingProgress:{stage:"uploading",percentage:0,currentOperation:"Preparing file for processing..."}});try{for(let s=0;s<=100;s+=20)e({uploadProgress:s,processingProgress:{stage:"uploading",percentage:s,currentOperation:s===100?"Upload complete, starting text extraction...":`Uploading file... ${s}%`}}),await new Promise(l=>setTimeout(l,100));if(e({currentStep:"processing",isProcessing:!0,processingProgress:{stage:"extracting",percentage:0,currentOperation:"Extracting text from document..."}}),await n().extractTextFromFile(),r)try{e({processingProgress:{stage:"uploading",percentage:90,currentOperation:"Storing syllabus file..."}});const s=await OX(t,r);e({storedSyllabusFile:s}),console.log("Syllabus file stored successfully:",s.url)}catch(s){console.warn("Failed to store syllabus file, continuing with processing:",s)}e({processingProgress:{stage:"analyzing",percentage:0,currentOperation:n().useAIProcessing?"Analyzing syllabus with AI...":"Parsing syllabus content..."}}),await n().parseSyllabus()}catch(s){e({error:s instanceof Error?s.message:"Failed to upload file",currentStep:"upload"})}},extractTextFromFile:async()=>{const{uploadedFile:t}=n();if(!t){e({error:"No file uploaded"});return}e({isProcessing:!0,error:null});try{const r=await Jj(t);e({extractedText:r.text,extractionMetadata:{...n().extractionMetadata,...r.metadata},isProcessing:!1})}catch(r){e({error:r.message||"Failed to extract text from file",isProcessing:!1})}},parseSyllabus:async()=>{const{extractedText:t,uploadedFile:r,useAIProcessing:i}=n();if(!t){e({error:"No text to parse"});return}e({isProcessing:!0,error:null});try{let a;if(i)try{e({processingProgress:{stage:"analyzing",percentage:25,currentOperation:"Sending syllabus to AI for analysis..."}});const l=await v4().processSyllabusText(t,r==null?void 0:r.name);e({processingProgress:{stage:"analyzing",percentage:75,currentOperation:"Processing AI analysis results..."}}),e({aiExtractedInfo:l}),a={suggestedTitle:l.courseInfo.title||"Course Title",suggestedNumber:l.courseInfo.number||"COURSE 101",suggestedDescription:l.courseInfo.description||"Course description not available",objectives:l.learningObjectives.length>0?l.learningObjectives:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:l.schedule.map(u=>({week:u.week,topic:u.topic,description:u.description,readings:u.readings||[],assignments:u.assignments||[],date:u.dueDate?new Date(u.dueDate):void 0})),prerequisites:l.prerequisites,textbook:l.textbooks.length>0?l.textbooks[0].title:"",grading:l.gradingPolicy.map(u=>`${u.component}: ${u.percentage}%`).join(", "),instructor:l.courseInfo.instructor,department:l.courseInfo.department,institution:l.courseInfo.institution,credits:l.courseInfo.credits,semester:l.courseInfo.semester,year:l.courseInfo.year,contactInfo:l.contactInfo,policies:l.policies,textbooks:l.textbooks,gradingComponents:l.gradingPolicy,assignments:l.assignments}}catch(s){console.warn("AI processing failed, falling back to pattern-based parsing:",s),e({error:`AI analysis failed: ${s instanceof Error?s.message:"Unknown error"}. Using pattern-based parsing instead.`,processingProgress:{stage:"analyzing",percentage:50,currentOperation:"AI failed, using pattern-based parsing..."}}),a=await n().fallbackParsing(t)}else a=await n().fallbackParsing(t);e({parsedCourseInfo:a}),e({processingProgress:{stage:"generating",percentage:0,currentOperation:"Generating course materials..."}}),await n().generateMaterials()}catch(a){e({error:a instanceof Error?a.message:"Failed to parse syllabus",isProcessing:!1})}},fallbackParsing:async t=>{var g,b;const r=t.split(`
`).filter(m=>m.trim()),i=r.find(m=>{const x=m.toLowerCase();return(x.includes("course")||x.includes("class"))&&(x.includes("title")||x.includes("name")||m.includes(":"))}),a=r.find(m=>{const x=m.toLowerCase();return x.includes("description")||x.includes("overview")||x.includes("about this course")}),s=r.find(m=>/[A-Z]{2,4}\s*\d{3,4}/.test(m)||m.toLowerCase().includes("course number")),l=r.findIndex(m=>{const x=m.toLowerCase();return x.includes("objective")||x.includes("learning outcome")||x.includes("goals")||x.includes("by the end of this course")}),u=[];if(l!==-1)for(let m=l+1;m<r.length&&m<l+15;m++){const x=r[m].trim();x&&(x.startsWith("-")||x.startsWith("")||x.match(/^\d+\./)||x.startsWith("*"))?u.push(x.replace(/^[-\d.*]\s*/,"")):x&&u.length===0&&u.push(x)}const d=[];for(let m=1;m<=16;m++){const x=new RegExp(`week\\s*${m}|${m}\\s*week`,"i"),y=r.find(A=>x.test(A));if(y){const A=y.replace(/week\s*\d+:?\s*/i,"").trim()||`Week ${m} Topic`;d.push({week:m,topic:A,description:`Content and activities for week ${m}`,readings:[],assignments:[]})}else d.push({week:m,topic:`Week ${m} Topic`,description:`Content for week ${m}`,readings:[],assignments:[]})}let f="COURSE 101";if(s){const m=s.match(/[A-Z]{2,4}\s*\d{3,4}/);m&&(f=m[0])}return{suggestedTitle:i&&((g=i.split(":").slice(-1)[0])==null?void 0:g.trim())||"Course Title",suggestedNumber:f,suggestedDescription:a&&((b=a.split(":").slice(-1)[0])==null?void 0:b.trim())||t.substring(0,300)+"...",objectives:u.length>0?u:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:d.slice(0,15),prerequisites:[],textbook:"",grading:""}},generateMaterials:async()=>{const{parsedCourseInfo:t,aiExtractedInfo:r,useAIProcessing:i}=n();if(!t){e({error:"No parsed course info available"});return}e({isProcessing:!0,error:null});try{let a=[];if(i&&r)try{const l=await v4().generateCourseMaterials(r,{includeWeeks:r.schedule.length,materialTypes:["overview","weekly","assignment"]});l&&l.length>0?a=l.map(u=>({id:u.id||Uh(),title:u.title||"Generated Material",header:u.header||{title:"Header",content:`<p>${u.title||"Material"}</p>`},footer:u.footer||{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:u.sections||[],published:u.published||!1,scheduledTimestamp:u.scheduledTimestamp?new Date(u.scheduledTimestamp):void 0})):(console.warn("AI material generation returned empty results, using fallback"),a=n().generateFallbackMaterials(t))}catch(s){console.warn("AI material generation failed, using fallback:",s),e({error:`AI material generation failed: ${s instanceof Error?s.message:"Unknown error"}. Using fallback material generation instead.`,processingProgress:{stage:"generating",percentage:75,currentOperation:"AI material generation failed, using fallback..."}}),a=n().generateFallbackMaterials(t)}else a=n().generateFallbackMaterials(t);e({generatedMaterials:a,isProcessing:!1,currentStep:"review",processingProgress:{stage:"complete",percentage:100,currentOperation:"Processing complete! Review your course materials below."}})}catch(a){e({error:a instanceof Error?a.message:"Failed to generate materials",isProcessing:!1})}},generateFallbackMaterials:t=>{const r=[];return r.push({id:Uh(),title:`${t.suggestedNumber} - Course Overview`,header:{title:"Course Overview",content:`<p>${t.suggestedTitle}</p>`},footer:{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:[{id:Uh(),title:"Course Description",content:`<p>${t.suggestedDescription}</p>`,subsections:[],images:[],links:[]},{id:Uh(),title:"Learning Objectives",content:PX(t.objectives),subsections:[],images:[],links:[]}],published:!1}),t.schedule.slice(0,6).forEach(i=>{r.push({id:Uh(),title:`Week ${i.week}: ${i.topic}`,header:{title:`Week ${i.week}`,content:`<p>${i.topic}</p>`},footer:{title:"Footer",content:"<p>Review materials before next class</p>"},sections:[{id:Uh(),title:"Overview",content:`<p>${i.description||`Topics and activities for week ${i.week}`}</p>`,subsections:i.readings&&i.readings.length>0?[{id:Uh(),title:"Required Readings",content:zX(i.readings),subSubsections:[],images:[],links:[]}]:[],images:[],links:[]}],published:!1,scheduledTimestamp:i.date})}),r},editMaterial:(t,r)=>{const{generatedMaterials:i}=n(),a=[...i];a[t]={...a[t],...r},e({generatedMaterials:a})},editCourseInfo:t=>{const{parsedCourseInfo:r}=n();r&&e({parsedCourseInfo:{...r,...t}})},reset:()=>e({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null})}),{name:"syllabus-store",partialize:e=>({extractedText:e.extractedText,extractionMetadata:e.extractionMetadata,storedSyllabusFile:e.storedSyllabusFile,aiExtractedInfo:e.aiExtractedInfo,useAIProcessing:e.useAIProcessing,parsedCourseInfo:e.parsedCourseInfo,generatedMaterials:e.generatedMaterials,currentStep:e.currentStep})}))),j1={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"ce5f7921-a3a0-4ea7-b95f-10fe41becda5",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},O1={GEMINI_API_KEY:"VITE_GEMINI_API_KEY",ENABLE_AI_PROCESSING:"VITE_ENABLE_AI_PROCESSING",MAX_RETRIES:"VITE_AI_MAX_RETRIES",TIMEOUT:"VITE_AI_TIMEOUT",FALLBACK_TO_PATTERN:"VITE_AI_FALLBACK_TO_PATTERN"},qX=()=>({geminiApiKey:j1[O1.GEMINI_API_KEY],enableAIProcessing:j1[O1.ENABLE_AI_PROCESSING]!=="false",maxRetries:parseInt(j1[O1.MAX_RETRIES]||"3",10),timeout:parseInt(j1[O1.TIMEOUT]||"30000",10),fallbackToPatternParsing:j1[O1.FALLBACK_TO_PATTERN]!=="false"}),EI=e=>{const n=[];return e.enableAIProcessing&&!e.geminiApiKey&&n.push("Gemini API key is required when AI processing is enabled"),(e.maxRetries<0||e.maxRetries>10)&&n.push("Max retries must be between 0 and 10"),(e.timeout<1e3||e.timeout>12e4)&&n.push("Timeout must be between 1 second and 2 minutes"),{isValid:n.length===0,errors:n}},_I=()=>{const e=qX(),n=EI(e);return{config:e,...n}},w4=({onUploadComplete:e,apiKey:n,educatorUid:t})=>{const{uploadedFile:r,uploadProgress:i,error:a,isProcessing:s,useAIProcessing:l,processingProgress:u,uploadSyllabus:d,setUploadedFile:f,setError:g}=Ip(),[b,m]=Q.useState(!1),x=Q.useMemo(()=>["text/plain","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],[]),y=Q.useMemo(()=>[".txt",".pdf",".docx"],[]),A=Q.useCallback(async L=>{const X=(T=>{if(!x.includes(T.type))return`Unsupported file type. Please upload ${y.join(", ")} files.`;const O=10*1024*1024;return T.size>O?"File size too large. Please upload files smaller than 10MB.":null})(L);if(X){g(X);return}try{await d(L,t),e==null||e(L)}catch(T){console.error("Upload error:",T)}},[d,e,g,x,y,n,t]),w=Q.useCallback(L=>{L.preventDefault(),m(!1);const B=Array.from(L.dataTransfer.files);B.length>0&&A(B[0])},[A]),C=Q.useCallback(L=>{L.preventDefault(),m(!0)},[]),N=Q.useCallback(L=>{L.preventDefault(),m(!1)},[]),R=Q.useCallback(L=>{const B=L.target.files;B&&B.length>0&&A(B[0]),L.target.value=""},[A]),F=Q.useCallback(()=>{f(null),g(null)},[f,g]),q=L=>{if(L===0)return"0 Bytes";const B=1024,X=["Bytes","KB","MB","GB"],T=Math.floor(Math.log(L)/Math.log(B));return parseFloat((L/Math.pow(B,T)).toFixed(2))+" "+X[T]},k=()=>h.jsx(TR,{color:"primary"});return h.jsxs(he,{sx:{width:"100%",maxWidth:600,mx:"auto"},children:[!r&&h.jsxs(yn,{sx:{p:4,border:"2px dashed",borderColor:b?"primary.main":"grey.300",backgroundColor:b?"primary.50":"background.paper",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center","&:hover":{borderColor:"primary.main",backgroundColor:"primary.50"}},onDragOver:C,onDragLeave:N,onDrop:w,onClick:()=>{var L;return(L=document.getElementById("syllabus-file-input"))==null?void 0:L.click()},children:[h.jsx(NR,{sx:{fontSize:48,color:b?"primary.main":"grey.400",mb:2}}),h.jsx(ge,{variant:"h6",gutterBottom:!0,children:"Upload Your Syllabus"}),h.jsx(ge,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Drag and drop your syllabus file here, or click to browse"}),h.jsx(he,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center"},children:y.map(L=>h.jsx(cr,{label:L.toUpperCase(),size:"small",variant:"outlined",color:"primary"},L))}),h.jsx(ge,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"Maximum file size: 10MB"}),h.jsx("input",{id:"syllabus-file-input",type:"file",accept:x.join(","),onChange:R,style:{display:"none"}})]}),r&&h.jsxs(yn,{sx:{p:3,mb:2},children:[h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:2},children:[k(),h.jsxs(he,{sx:{flexGrow:1},children:[h.jsx(ge,{variant:"subtitle1",sx:{fontWeight:500},children:r.name}),h.jsx(ge,{variant:"body2",color:"text.secondary",children:q(r.size)})]}),!s&&h.jsx(On,{onClick:F,color:"error",size:"small",children:h.jsx(wd,{})})]}),i>0&&i<100&&h.jsxs(he,{sx:{mt:2},children:[h.jsx(Ko,{variant:"determinate",value:i,sx:{height:6,borderRadius:3}}),h.jsxs(ge,{variant:"caption",sx:{mt:1,display:"block"},children:["Uploading... ",i,"%"]})]}),s&&h.jsx(he,{sx:{mt:2},children:u?h.jsxs(h.Fragment,{children:[h.jsxs(he,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[h.jsx(cr,{label:u.stage.charAt(0).toUpperCase()+u.stage.slice(1),size:"small",color:"primary",variant:"outlined"}),h.jsxs(ge,{variant:"caption",color:"text.secondary",children:[u.percentage,"%"]})]}),h.jsx(Ko,{variant:"determinate",value:u.percentage,sx:{height:6,borderRadius:3,mb:1}}),h.jsx(ge,{variant:"caption",sx:{display:"block",color:"text.secondary"},children:u.currentOperation})]}):h.jsxs(h.Fragment,{children:[h.jsx(Ko,{sx:{height:6,borderRadius:3}}),h.jsx(ge,{variant:"caption",sx:{mt:1,display:"block"},children:l?"AI is analyzing your syllabus...":"Processing syllabus..."})]})})]}),a&&h.jsx(vr,{severity:"error",sx:{mt:2},onClose:()=>g(null),children:a}),h.jsxs(yn,{sx:{p:2,mt:2,backgroundColor:"info.50"},children:[h.jsx(ge,{variant:"body2",color:"info.main",sx:{fontWeight:500,mb:1},children:" Tips for best results:"}),h.jsxs(ge,{variant:"body2",color:"text.secondary",component:"ul",sx:{m:0,pl:2},children:[h.jsx("li",{children:"Include course objectives and weekly schedule"}),h.jsx("li",{children:"List reading assignments and materials"}),h.jsx("li",{children:"Text files (.txt) work best for parsing"}),h.jsx("li",{children:"Ensure text is well-structured with clear headings"})]})]})]})},BX=({onContinue:e})=>{var C;const{parsedCourseInfo:n,editCourseInfo:t,error:r,isProcessing:i,currentStep:a}=Ip(),[s,l]=Q.useState(!1),[u,d]=Q.useState(null);if(!n)return h.jsx(vr,{severity:"warning",children:"No course information available. Please upload and process a syllabus first."});if(i||a==="processing")return h.jsx(vr,{severity:"info",children:h.jsx(ge,{variant:"body2",children:" Processing complete! Preparing course information for review..."})});const f=()=>{d({...n}),l(!0)},g=()=>{u&&(t(u),l(!1),d(null))},b=()=>{l(!1),d(null)},m=()=>{u&&d({...u,objectives:[...u.objectives,"New objective"]})},x=N=>{if(u){const R=u.objectives.filter((F,q)=>q!==N);d({...u,objectives:R})}},y=(N,R)=>{if(u){const F=[...u.objectives];F[N]=R,d({...u,objectives:F})}},A=(N,R,F)=>{if(u){const q=[...u.schedule];q[N]={...q[N],[R]:F},d({...u,schedule:q})}},w=s?u:n;return w?h.jsx(he,{sx:{maxWidth:800,mx:"auto"},children:h.jsxs(yn,{sx:{p:3},children:[h.jsxs(he,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[h.jsx(ge,{variant:"h5",component:"h2",children:"Course Information Preview"}),s?h.jsxs(he,{sx:{display:"flex",gap:1},children:[h.jsx(At,{startIcon:h.jsx(F0,{}),onClick:g,variant:"contained",color:"primary",children:"Save"}),h.jsx(At,{startIcon:h.jsx(O6,{}),onClick:b,variant:"outlined",children:"Cancel"})]}):h.jsx(At,{startIcon:h.jsx(xu,{}),onClick:f,variant:"outlined",children:"Edit Details"})]}),r&&h.jsx(vr,{severity:"error",sx:{mb:3},children:r}),h.jsxs(yt,{container:!0,spacing:3,children:[h.jsx(yt,{item:!0,xs:12,md:6,children:h.jsx(Wt,{fullWidth:!0,label:"Course Number",value:w.suggestedNumber,onChange:N=>s&&u&&d({...u,suggestedNumber:N.target.value}),disabled:!s,variant:s?"outlined":"filled"})}),h.jsx(yt,{item:!0,xs:12,md:6,children:h.jsx(Wt,{fullWidth:!0,label:"Course Title",value:w.suggestedTitle,onChange:N=>s&&u&&d({...u,suggestedTitle:N.target.value}),disabled:!s,variant:s?"outlined":"filled"})}),h.jsx(yt,{item:!0,xs:12,children:h.jsx(Wt,{fullWidth:!0,multiline:!0,rows:4,label:"Course Description",value:w.suggestedDescription,onChange:N=>s&&u&&d({...u,suggestedDescription:N.target.value}),disabled:!s,variant:s?"outlined":"filled"})})]}),h.jsx(es,{sx:{my:3}}),h.jsxs(he,{sx:{mb:3},children:[h.jsxs(he,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[h.jsxs(ge,{variant:"h6",children:["Learning Objectives (",w.objectives.length,")"]}),s&&h.jsx(On,{onClick:m,color:"primary",children:h.jsx(bu,{})})]}),h.jsx(he,{sx:{display:"flex",flexDirection:"column",gap:2},children:w.objectives.map((N,R)=>h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsxs(ge,{variant:"body2",sx:{minWidth:24,color:"text.secondary"},children:[R+1,"."]}),s?h.jsxs(h.Fragment,{children:[h.jsx(Wt,{fullWidth:!0,multiline:!0,value:N,onChange:F=>y(R,F.target.value),size:"small"}),h.jsx(On,{onClick:()=>x(R),color:"error",size:"small",children:h.jsx(wd,{})})]}):h.jsx(ge,{variant:"body2",children:N})]},R))})]}),h.jsx(es,{sx:{my:3}}),h.jsxs(Sd,{children:[h.jsx(Ad,{expandIcon:h.jsx(Wo,{}),children:h.jsxs(ge,{variant:"h6",children:["Course Schedule (",w.schedule.length," weeks)"]})}),h.jsx(Cd,{children:h.jsx(he,{sx:{display:"flex",flexDirection:"column",gap:2},children:w.schedule.map((N,R)=>h.jsx(yn,{sx:{p:2,backgroundColor:"grey.50"},children:h.jsxs(yt,{container:!0,spacing:2,alignItems:"center",children:[h.jsx(yt,{item:!0,xs:12,sm:1,children:h.jsx(cr,{label:`W${N.week}`,size:"small",color:"primary"})}),h.jsx(yt,{item:!0,xs:12,sm:5,children:s?h.jsx(Wt,{fullWidth:!0,size:"small",label:"Topic",value:N.topic,onChange:F=>A(R,"topic",F.target.value)}):h.jsx(ge,{variant:"body2",sx:{fontWeight:500},children:N.topic})}),h.jsx(yt,{item:!0,xs:12,sm:6,children:s?h.jsx(Wt,{fullWidth:!0,size:"small",label:"Description",value:N.description||"",onChange:F=>A(R,"description",F.target.value)}):h.jsx(ge,{variant:"body2",color:"text.secondary",children:N.description||"No description"})})]})},R))})})]}),(((C=w.prerequisites)==null?void 0:C.length)||w.textbook||w.grading)&&h.jsxs(h.Fragment,{children:[h.jsx(es,{sx:{my:3}}),h.jsx(ge,{variant:"h6",sx:{mb:2},children:"Additional Information"}),h.jsxs(yt,{container:!0,spacing:2,children:[w.prerequisites&&w.prerequisites.length>0&&h.jsxs(yt,{item:!0,xs:12,md:4,children:[h.jsx(ge,{variant:"subtitle2",sx:{mb:1},children:"Prerequisites:"}),h.jsx(ge,{variant:"body2",color:"text.secondary",children:w.prerequisites.join(", ")})]}),w.textbook&&h.jsxs(yt,{item:!0,xs:12,md:4,children:[h.jsx(ge,{variant:"subtitle2",sx:{mb:1},children:"Textbook:"}),h.jsx(ge,{variant:"body2",color:"text.secondary",children:w.textbook})]}),w.grading&&h.jsxs(yt,{item:!0,xs:12,md:4,children:[h.jsx(ge,{variant:"subtitle2",sx:{mb:1},children:"Grading:"}),h.jsx(ge,{variant:"body2",color:"text.secondary",children:w.grading})]})]})]}),e&&h.jsx(he,{sx:{mt:4,textAlign:"right"},children:h.jsx(At,{variant:"contained",color:"primary",size:"large",onClick:e,disabled:s,children:"Continue to Materials Preview"})})]})}):null},UX=({onContinue:e,onBack:n})=>{const{generatedMaterials:t,editMaterial:r,error:i}=Ip(),[a,s]=Q.useState(null),[l,u]=Q.useState(null);if(!t.length)return h.jsx(vr,{severity:"warning",children:"No materials generated. Please go back and process a syllabus first."});const d=w=>{s({index:w,material:{...t[w]}})},f=()=>{a&&(r(a.index,a.material),s(null))},g=()=>{s(null)},b=w=>{u(w)},m=w=>{const C=t[w];r(w,{published:!C.published})},x=(w,C=150)=>{const N=w.replace(/<[^>]*>/g,"");return N.length>C?N.substring(0,C)+"...":N},y=w=>w.toLowerCase().includes("overview")?h.jsx(Dd,{color:"primary"}):w.toLowerCase().includes("week")?h.jsx(J0,{color:"secondary"}):h.jsx(Dd,{color:"action"}),A=t.filter(w=>w.published).length;return h.jsxs(he,{sx:{maxWidth:1e3,mx:"auto"},children:[h.jsxs(yn,{sx:{p:3,mb:3},children:[h.jsxs(he,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[h.jsx(ge,{variant:"h5",component:"h2",children:"Generated Course Materials"}),h.jsx(cr,{label:`${A}/${t.length} will be published`,color:"primary",variant:"outlined"})]}),h.jsx(ge,{variant:"body2",color:"text.secondary",children:"Review and customize the course materials generated from your syllabus. You can edit content, toggle publication status, and organize materials before creating your course."}),i&&h.jsx(vr,{severity:"error",sx:{mt:2},children:i})]}),h.jsx(yt,{container:!0,spacing:3,children:t.map((w,C)=>h.jsx(yt,{item:!0,xs:12,md:6,lg:4,children:h.jsxs(Xa,{sx:{height:"100%",display:"flex",flexDirection:"column",border:w.published?"2px solid":"1px solid",borderColor:w.published?"success.main":"divider"},children:[h.jsxs(Za,{sx:{flexGrow:1},children:[h.jsxs(he,{sx:{display:"flex",alignItems:"flex-start",gap:1,mb:2},children:[y(w.title),h.jsxs(he,{sx:{flexGrow:1},children:[h.jsx(ge,{variant:"h6",component:"h3",sx:{fontSize:"1rem",lineHeight:1.3,mb:1},children:w.title}),h.jsxs(he,{sx:{display:"flex",gap:1,alignItems:"center"},children:[h.jsx(Ed,{control:h.jsx(_d,{checked:w.published,onChange:()=>m(C),size:"small"}),label:h.jsx(ge,{variant:"caption",children:w.published?"Publish":"Draft"}),sx:{mr:0}}),w.scheduledTimestamp&&h.jsx(cr,{label:"Scheduled",size:"small",variant:"outlined",color:"info"})]})]})]}),h.jsxs(ge,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[h.jsx("strong",{children:"Sections:"})," ",w.sections.length]}),w.sections[0]&&h.jsxs(he,{sx:{mb:2},children:[h.jsx(ge,{variant:"subtitle2",sx:{mb:1},children:w.sections[0].title}),h.jsx(ge,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.85rem",fontStyle:"italic"},children:x(w.sections[0].content)})]})]}),h.jsxs(aj,{children:[h.jsx(At,{size:"small",startIcon:h.jsx(L6,{}),onClick:()=>b(w),children:"Preview"}),h.jsx(At,{size:"small",startIcon:h.jsx(xu,{}),onClick:()=>d(C),children:"Edit"})]})]})},w.id))}),h.jsxs(he,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[n&&h.jsx(At,{variant:"outlined",onClick:n,size:"large",children:"Back to Course Info"}),e&&h.jsxs(At,{variant:"contained",color:"primary",onClick:e,size:"large",disabled:A===0,children:["Create Course with ",A," Materials"]})]}),h.jsxs(Ki,{open:a!==null,onClose:g,maxWidth:"md",fullWidth:!0,children:[h.jsxs(fa,{children:["Edit Material: ",a==null?void 0:a.material.title]}),h.jsx(Xi,{children:a&&h.jsxs(he,{sx:{pt:1},children:[h.jsx(Wt,{fullWidth:!0,label:"Material Title",value:a.material.title,onChange:w=>s({...a,material:{...a.material,title:w.target.value}}),sx:{mb:3}}),h.jsx(ge,{variant:"h6",sx:{mb:2},children:"Header"}),h.jsx(Wt,{fullWidth:!0,label:"Header Title",value:a.material.header.title,onChange:w=>s({...a,material:{...a.material,header:{...a.material.header,title:w.target.value}}}),sx:{mb:2}}),h.jsx(Wt,{fullWidth:!0,multiline:!0,rows:2,label:"Header Content",value:a.material.header.content,onChange:w=>s({...a,material:{...a.material,header:{...a.material.header,content:w.target.value}}}),sx:{mb:3}}),h.jsx(ge,{variant:"h6",sx:{mb:2},children:"Sections"}),a.material.sections.map((w,C)=>h.jsxs(Sd,{sx:{mb:2},children:[h.jsx(Ad,{expandIcon:h.jsx(Wo,{}),children:h.jsx(ge,{children:w.title})}),h.jsxs(Cd,{children:[h.jsx(Wt,{fullWidth:!0,label:"Section Title",value:w.title,onChange:N=>{const R=[...a.material.sections];R[C]={...R[C],title:N.target.value},s({...a,material:{...a.material,sections:R}})},sx:{mb:2}}),h.jsx(Wt,{fullWidth:!0,multiline:!0,rows:4,label:"Section Content",value:w.content,onChange:N=>{const R=[...a.material.sections];R[C]={...R[C],content:N.target.value},s({...a,material:{...a.material,sections:R}})}})]})]},w.id))]})}),h.jsxs(ha,{children:[h.jsx(At,{onClick:g,children:"Cancel"}),h.jsx(At,{onClick:f,variant:"contained",children:"Save Changes"})]})]}),h.jsxs(Ki,{open:l!==null,onClose:()=>u(null),maxWidth:"md",fullWidth:!0,children:[h.jsx(fa,{children:l==null?void 0:l.title}),h.jsx(Xi,{children:l&&h.jsxs(he,{sx:{pt:1},children:[h.jsxs(yn,{sx:{p:2,mb:3,backgroundColor:"primary.50"},children:[h.jsx(ge,{variant:"h6",color:"primary",children:l.header.title}),h.jsx(ge,{variant:"body2",sx:{mt:1},children:l.header.content.replace(/<[^>]*>/g,"")})]}),l.sections.map(w=>h.jsxs(he,{sx:{mb:3},children:[h.jsx(ge,{variant:"h6",sx:{mb:2},children:w.title}),h.jsx(ge,{variant:"body1",sx:{mb:2},children:w.content.replace(/<[^>]*>/g,"")}),w.subsections.map(C=>h.jsxs(he,{sx:{ml:2,mb:2},children:[h.jsx(ge,{variant:"subtitle1",sx:{mb:1},children:C.title}),h.jsx(ge,{variant:"body2",color:"text.secondary",children:C.content.replace(/<[^>]*>/g,"")})]},C.id))]},w.id)),h.jsx(yn,{sx:{p:2,backgroundColor:"grey.50"},children:h.jsx(ge,{variant:"body2",color:"text.secondary",children:l.footer.content.replace(/<[^>]*>/g,"")})})]})}),h.jsx(ha,{children:h.jsx(At,{onClick:()=>u(null),children:"Close"})})]})]})},$X=({onConfigChange:e,compact:n=!1})=>{const{useAIProcessing:t,setUseAIProcessing:r}=Ip(),[i,a]=Q.useState(null);Q.useEffect(()=>{const{config:f,isValid:g,errors:b}=_I();a({config:f,isValid:g,errors:b})},[]);const s=f=>{if(r(f),i){const g={...i.config,enableAIProcessing:f},b=EI(g);a({config:g,...b}),e==null||e(g)}},l=()=>i?i.isValid&&t?h.jsx(Bg,{color:"success"}):!i.isValid&&t?h.jsx(OR,{color:"error"}):h.jsx(Nx,{color:"action"}):h.jsx(Nx,{color:"action"}),u=()=>t?i?i.isValid?"AI processing ready - enhanced syllabus analysis enabled":`Configuration issues: ${i.errors.join(", ")}`:"Loading configuration...":"AI processing disabled - using pattern-based parsing",d=()=>t?i?i.isValid?"success":"error":"info":"warning";return n?h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:2},children:[l(),h.jsx(Ed,{control:h.jsx(_d,{checked:t,onChange:f=>s(f.target.checked),size:"small"}),label:"AI Processing"}),h.jsx(Si,{title:u(),children:h.jsx(jR,{fontSize:"small",color:"action"})})]}):h.jsx(yn,{sx:{p:2,mb:2},children:h.jsxs(Sd,{children:[h.jsx(Ad,{expandIcon:h.jsx(Wo,{}),children:h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[l(),h.jsxs(he,{sx:{flexGrow:1},children:[h.jsx(ge,{variant:"subtitle1",sx:{fontWeight:500},children:"AI-Powered Processing Settings"}),h.jsx(ge,{variant:"caption",color:"text.secondary",children:u()})]}),h.jsx(cr,{label:t?"Enabled":"Disabled",color:t?"success":"default",size:"small"})]})}),h.jsx(Cd,{children:h.jsxs(yt,{container:!0,spacing:3,children:[h.jsx(yt,{item:!0,xs:12,children:h.jsx(Ed,{control:h.jsx(_d,{checked:t,onChange:f=>s(f.target.checked)}),label:h.jsxs(he,{children:[h.jsx(ge,{variant:"body2",sx:{fontWeight:500},children:"Enable AI-Powered Analysis"}),h.jsx(ge,{variant:"caption",color:"text.secondary",children:"Use Google Gemini to extract structured information from syllabi"})]})})}),t&&h.jsx(yt,{item:!0,xs:12,children:h.jsxs(yn,{sx:{p:2,backgroundColor:i!=null&&i.isValid?"success.50":"error.50",border:"1px solid",borderColor:i!=null&&i.isValid?"success.200":"error.200"},children:[h.jsx(ge,{variant:"subtitle2",sx:{mb:1,color:i!=null&&i.isValid?"success.main":"error.main"},children:i!=null&&i.isValid?" API Configuration":" API Configuration"}),h.jsx(ge,{variant:"body2",color:"text.secondary",children:i!=null&&i.isValid?"Gemini API key is configured and ready for use.":"Gemini API key is required. Please add VITE_GEMINI_API_KEY to your environment variables."})]})}),h.jsx(yt,{item:!0,xs:12,children:h.jsxs(vr,{severity:d(),sx:{mb:2},children:[h.jsx(ge,{variant:"body2",children:u()}),(i==null?void 0:i.errors)&&i.errors.length>0&&h.jsx(he,{sx:{mt:1},children:i.errors.map((f,g)=>h.jsxs(ge,{variant:"caption",display:"block",children:[" ",f]},g))})]})}),t&&(i==null?void 0:i.isValid)&&h.jsx(yt,{item:!0,xs:12,children:h.jsxs(yn,{sx:{p:2,backgroundColor:"primary.50",border:"1px solid",borderColor:"primary.200"},children:[h.jsx(ge,{variant:"subtitle2",sx:{mb:1,color:"primary.main"},children:" Enhanced Features with AI:"}),h.jsxs(yt,{container:!0,spacing:1,children:[h.jsxs(yt,{item:!0,xs:12,sm:6,children:[h.jsx(ge,{variant:"caption",display:"block",children:" Intelligent course information extraction"}),h.jsx(ge,{variant:"caption",display:"block",children:" Automatic learning objectives identification"}),h.jsx(ge,{variant:"caption",display:"block",children:" Smart schedule parsing and organization"})]}),h.jsxs(yt,{item:!0,xs:12,sm:6,children:[h.jsx(ge,{variant:"caption",display:"block",children:" Grading policy analysis"}),h.jsx(ge,{variant:"caption",display:"block",children:" Assignment and due date extraction"}),h.jsx(ge,{variant:"caption",display:"block",children:" Enhanced material generation"})]})]})]})}),!t&&h.jsx(yt,{item:!0,xs:12,children:h.jsxs(yn,{sx:{p:2,backgroundColor:"warning.50",border:"1px solid",borderColor:"warning.200"},children:[h.jsx(ge,{variant:"subtitle2",sx:{mb:1,color:"warning.main"},children:" Pattern-Based Processing:"}),h.jsx(ge,{variant:"caption",color:"text.secondary",children:"Using traditional text parsing methods. Results may be less accurate than AI processing. Enable AI processing for better extraction accuracy."})]})})]})})]})})},kI=({onComplete:e,onCancel:n,educatorUid:t})=>{const{currentStep:r,setCurrentStep:i,parsedCourseInfo:a,generatedMaterials:s,isProcessing:l,error:u,useAIProcessing:d,processingProgress:f,reset:g}=Ip(),[b,m]=Q.useState(null);at.useEffect(()=>{const{config:q}=_I();m(q)},[]);const x=[{label:"Upload Syllabus",description:"Upload your syllabus document"},{label:"Review Course Info",description:"Verify and edit course information"},{label:"Review Materials",description:"Customize generated course materials"}],y=()=>{switch(r){case"upload":case"processing":return 0;case"review":return 1;case"editing":return 2;case"complete":return 2;default:return 0}},A=()=>{i("editing")},w=()=>{i("review")},C=()=>{if(a&&s.length>0){const q=s.filter(k=>k.published);e==null||e({courseInfo:a,materials:q})}},N=()=>{g(),n==null||n()},R=q=>{m(q)},F=()=>{switch(r){case"upload":case"processing":return h.jsx(w4,{onUploadComplete:()=>{},educatorUid:t});case"review":return h.jsx(BX,{onContinue:A});case"editing":case"complete":return h.jsx(UX,{onContinue:C,onBack:w});default:return h.jsx(w4,{onUploadComplete:()=>{},educatorUid:t})}};return h.jsxs(he,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:3},children:[h.jsxs(yn,{sx:{p:3,mb:4},children:[h.jsx(ge,{variant:"h4",component:"h1",gutterBottom:!0,children:"Import Course from Syllabus"}),h.jsx(ge,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Upload your syllabus document and we'll automatically create a course structure with organized materials based on your content."}),h.jsx(IR,{activeStep:y(),alternativeLabel:!0,children:x.map(q=>h.jsx(DR,{children:h.jsxs(LR,{children:[h.jsx(ge,{variant:"body2",sx:{fontWeight:500},children:q.label}),h.jsx(ge,{variant:"caption",color:"text.secondary",children:q.description})]})},q.label))})]}),r==="upload"&&h.jsx($X,{onConfigChange:R,compact:!1}),u&&h.jsx(vr,{severity:"error",sx:{mb:3},onClose:()=>{},children:u}),l&&h.jsx(vr,{severity:"info",sx:{mb:3},children:h.jsx(ge,{variant:"body2",children:d?" AI is analyzing your syllabus for enhanced data extraction... This usually takes 10-30 seconds.":" Processing your syllabus with pattern-based analysis... This usually takes a moment."})}),h.jsx(he,{sx:{minHeight:400},children:F()}),r!=="upload"&&n&&h.jsx(he,{sx:{display:"flex",justifyContent:"center",mt:3},children:h.jsx(At,{variant:"outlined",color:"secondary",onClick:N,size:"small",children:"Cancel & Return to Manual Entry"})})]})},Xx=e=>{if(e==null)return null;if(e instanceof Date)return e;if(Array.isArray(e))return e.map(Xx).filter(n=>n!=null);if(typeof e=="object"){const n={};return Object.keys(e).forEach(t=>{const r=e[t];if(r!==void 0){const i=Xx(r);i!=null&&(n[t]=i)}}),n}return e},HX=()=>{const{userDetails:e}=Ai(),n=ma(),t=Zn(),[r,i]=Q.useState(""),[a,s]=Q.useState(""),[l,u]=Q.useState(""),[d,f]=Q.useState(""),[g,b]=Q.useState(""),[m,x]=Q.useState(""),[y,A]=Q.useState(""),[w,C]=Q.useState("primary"),[N,R]=Q.useState("manual"),{parsedCourseInfo:F,generatedMaterials:q,reset:k,currentStep:L}=Ip(),[B,X]=Q.useState(!1),[T,O]=Q.useState(!1),[P,j]=Q.useState("");Q.useEffect(()=>{(N==="manual"||w==="co-instructor")&&k()},[N,w,k]),Q.useEffect(()=>{w==="primary"&&N==="syllabus"&&F&&(b(F.suggestedNumber||""),x(F.suggestedTitle||""),A(F.suggestedDescription||""))},[w,N,F]);const G=Z=>ee=>{Z(ee.target.value)},W=Z=>{const ee=Z.target.value;C(ee),ee==="co-instructor"&&(R("manual"),b(""),x(""),A(""))},K=(Z,ee)=>{ee!==null&&(R(ee),ee==="syllabus"&&(b(""),x(""),A("")))},ie=()=>{if(!r||!a||!l||!d||!g||!m)return"Please fill in all required fields.";if(w==="primary"){if(N==="manual"&&!y)return"Please provide a course description.";if(N==="syllabus"){if(!F)return"Please complete the syllabus import process first.";if(!y)return"Please ensure course description is properly filled from your syllabus."}}return null},ce=Z=>{console.log("Syllabus import completed for educator request:",Z)},$=async()=>{const Z=ie();if(Z){j(Z),O(!0);return}X(!0);try{const ee={uid:(e==null?void 0:e.uid)||"",firstName:r||"",lastName:a||"",institution:l||"",email:d||"",courseNumber:g||"",courseTitle:m||"",courseDescription:w==="primary"?y||"":"CO-INSTRUCTOR REQUEST",requestType:w||"primary",status:"pending",timestamp:new Date,syllabusImported:!1};if(w==="primary"&&N==="syllabus"&&F&&q.length>0){const Ee={parsedCourseInfo:F,generatedMaterials:q.filter(Me=>Me.published)},De=Xx(Ee);ee.syllabusImported=!0,ee.syllabusData=De}const oe=Xx(ee);console.log("Submitting clean educator request document:",oe);const we=await Ma(vn(t,"educatorRequests"),oe),xe={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Educator Request Submitted${w==="primary"&&N==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new educator request has been submitted:</p>
            <p><strong>Name:</strong> ${r} ${a}</p>
            <p><strong>Email:</strong> ${d}</p>
            <p><strong>Institution:</strong> ${l}</p>
            <p><strong>Course:</strong> ${g} - ${m}</p>
            <p><strong>Request Type:</strong> ${w}</p>
            ${w==="primary"?`<p><strong>Course Creation Method:</strong> ${N==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>`:""}
            ${w==="primary"&&N==="syllabus"&&q.length>0?`<p><strong>Generated Materials:</strong> ${q.filter(Ee=>Ee.published).length} materials ready for publication</p>`:""}
            <p><strong>Description:</strong> ${y}</p>
            <p><strong>Request ID:</strong> ${we.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/educator-requests">
            Click here to review the request.
            </a></p>
          `}};await Ma(vn(t,"mail"),xe),j(w==="primary"&&N==="syllabus"&&q.length>0?`Your educator request has been submitted for review with ${q.filter(Ee=>Ee.published).length} auto-generated course materials.`:"Your request has been submitted for review."),i(""),s(""),u(""),f(""),b(""),x(""),A(""),C("primary"),R("manual"),N==="syllabus"&&k(),O(!0),setTimeout(()=>{n("/my-profile")},3e3)}catch(ee){console.error("Error submitting request: ",ee),ee instanceof Error&&console.error("Error details:",{message:ee.message,name:ee.name,stack:ee.stack}),j("Error submitting your request. Please try again."),O(!0)}finally{X(!1)}},ae=()=>{O(!1)},U=w==="primary"&&N==="syllabus"&&L!=="upload"&&!F,z=w==="primary"&&N==="syllabus"&&(L==="review"||L==="editing"||L==="complete")&&F;return h.jsxs(B6,{title:"Request Educator Permissions",subtitle:"Request permissions to create courses or join existing courses as a co-instructor.",children:[h.jsx(Qf,{title:"Request Type",description:"Select the type of educator permissions you are requesting.",children:h.jsxs(nS,{label:"Request Type",value:w,onChange:W,required:!0,disabled:B,helperText:"Choose whether you want to create a new course or join an existing one",children:[h.jsx(Xn,{value:"primary",children:"I am a primary course instructor, I want to create a new course"}),h.jsx(Xn,{value:"co-instructor",children:"I am a co-instructor, I want to be added to an existing course"})]})}),h.jsxs(Qf,{title:"Personal Information",description:"Provide your contact and institutional details.",showDivider:!0,children:[h.jsxs(yt,{container:!0,spacing:3,children:[h.jsx(yt,{item:!0,xs:12,md:6,children:h.jsx(mu,{label:"First Name",value:r,onChange:G(i),required:!0,disabled:B,placeholder:"John"})}),h.jsx(yt,{item:!0,xs:12,md:6,children:h.jsx(mu,{label:"Last Name",value:a,onChange:G(s),required:!0,disabled:B,placeholder:"Doe"})})]}),h.jsxs(yt,{container:!0,spacing:3,children:[h.jsx(yt,{item:!0,xs:12,md:6,children:h.jsx(mu,{label:"Institution Affiliation",value:l,onChange:G(u),required:!0,disabled:B,placeholder:"University Name",helperText:"The name of your educational institution"})}),h.jsx(yt,{item:!0,xs:12,md:6,children:h.jsx(mu,{label:"Institutional Email",type:"email",value:d,onChange:G(f),required:!0,disabled:B,placeholder:"name@institution.edu",helperText:"Please use your institutional email to confirm your affiliation"})})]})]}),h.jsxs(Qf,{title:w==="primary"?"New Course Details":"Existing Course Details",description:w==="primary"?"Provide details for the course you want to create.":"Provide details about the existing course you want to join.",showDivider:!0,children:[w==="primary"&&h.jsxs(yn,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[h.jsxs(I6,{value:N,exclusive:!0,onChange:K,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[h.jsxs(em,{value:"manual","aria-label":"manual entry",children:[h.jsx(xu,{sx:{mr:1}}),"Manual Entry"]}),h.jsxs(em,{value:"syllabus","aria-label":"syllabus import",children:[h.jsx(sj,{sx:{mr:1}}),"Import from Syllabus"]})]}),h.jsx(yn,{sx:{p:2,backgroundColor:"primary.50",border:"1px solid",borderColor:"primary.200",fontFamily:Ie.fontFamily.primary,fontSize:Ie.fontSize.sm,color:se.text.secondary},children:N==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),w==="primary"&&N==="syllabus"&&h.jsx(kI,{onComplete:ce,onCancel:()=>R("manual")}),(w==="co-instructor"||w==="primary"&&N==="manual")&&h.jsxs(h.Fragment,{children:[h.jsxs(yt,{container:!0,spacing:3,children:[h.jsx(yt,{item:!0,xs:12,md:3,children:h.jsx(mu,{label:"Course Number",value:g,onChange:G(b),required:!0,disabled:B,placeholder:"e.g., BIOL301",helperText:"Enter the official course number or code"})}),h.jsx(yt,{item:!0,xs:12,md:9,children:h.jsx(mu,{label:"Course Title",value:m,onChange:G(x),required:!0,disabled:B,placeholder:"e.g., Biotech Research Methods",helperText:"Enter the full course title"})})]}),w==="primary"&&h.jsx(mu,{label:"Course Description",value:y,onChange:G(A),required:!0,disabled:B,multiline:!0,rows:4,placeholder:"A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",helperText:"Describe the course content, objectives, and learning outcomes"})]})]}),(w==="co-instructor"||w==="primary"&&N==="manual"||z)&&h.jsxs(U6,{align:"space-between",children:[h.jsx(tm,{variant:"text",onClick:()=>n("/my-profile"),disabled:B,children:"Cancel"}),h.jsx(tm,{variant:"primary",onClick:$,disabled:B||U,loading:B,children:w==="primary"&&N==="syllabus"&&q.length>0?`Submit with ${q.filter(Z=>Z.published).length} Materials`:"Submit"})]}),h.jsxs(Ki,{open:T,onClose:ae,children:[h.jsx(fa,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(Bg,{sx:{color:"green",fontSize:50,marginRight:1}})}),h.jsx(Xi,{children:h.jsx(Ml,{sx:{textAlign:"center"},children:P})}),h.jsx(ha,{children:h.jsx(At,{onClick:ae,color:"primary",autoFocus:!0,children:"Close"})})]})]})},WX=({requests:e,loading:n=!1,onApprove:t,onDeny:r})=>{const i=s=>{switch(s.toLowerCase()){case"approved":return"success";case"pending":return"warning";case"denied":return"error";default:return"default"}},a=[{id:"firstName",label:"Name",width:"15%",render:(s,l)=>h.jsx(Rs,{text:`${s} ${l.lastName}`,weight:"semibold"})},{id:"uid",label:"User ID",width:"15%",render:s=>h.jsx(ch,{userId:s,userType:"student"})},{id:"institution",label:"Institution",width:"15%",render:s=>h.jsx(Rs,{text:s,maxLength:30})},{id:"email",label:"Email",width:"15%",render:s=>h.jsx(Rs,{text:s,maxLength:30,variant:"monospace"})},{id:"courseNumber",label:"Course",width:"15%",render:(s,l)=>h.jsx(Sp,{courseId:l.courseId||"",courseNumber:s,courseTitle:l.courseTitle,variant:"link",maxTitleLength:30})},{id:"timestamp",label:"Submitted",width:"12%",render:s=>h.jsx(Ap,{date:new Date(s.seconds*1e3),format:"full"})},{id:"status",label:"Status",width:"8%",render:s=>h.jsx(gv,{label:s,status:i(s)})},{id:"actions",label:"Actions",width:"10%",align:"center",render:(s,l)=>{const u=l.status==="pending";return h.jsx(Vg,{actions:[{icon:Ld.add,tooltip:u?"Approve Request":"Already processed",onClick:()=>t(l.id),disabled:!u,color:se.success,hoverColor:se.success+"20"},{icon:Ld.delete,tooltip:u?"Deny Request":"Already processed",onClick:()=>r(l.id),disabled:!u,color:se.error,hoverColor:se.error+"20"}]})}}];return h.jsx(uh,{data:e,columns:a,loading:n,emptyMessage:"No educator permission requests found.",maxHeight:"600px",stickyHeader:!0})},YX=()=>{const[e,n]=Q.useState([]),[t,r]=Q.useState([]),[i,a]=Q.useState(""),[s,l]=Q.useState(!1),[u,d]=Q.useState(""),[f,g]=Q.useState("success"),[b,m]=Q.useState(!1),[x,y]=Q.useState(null),[A,w]=Q.useState(null),[C,N]=Q.useState(null),R=Zn();ma(),Q.useEffect(()=>{(async()=>{const P=(await pi(vn(R,"educatorRequests"))).docs.map(W=>({id:W.id,...W.data()})),G=(await pi(vn(R,"courses"))).docs.map(W=>({id:W.id,...W.data()}));n(P),r(G)})()},[R]);function F(){const T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let O="";for(let P=0;P<28;P++)O+=T.charAt(Math.floor(Math.random()*T.length));return O}const q=async()=>{var T,O;if(!(!A||!C)){if(!C.courseNumber||!C.courseTitle){d("Course number or title is missing. Cannot approve request."),g("error"),l(!0);return}if(C.requestType==="co-instructor"&&!i){d("Please select a course for the co-instructor request."),g("error"),l(!0);return}if(C.status!=="pending"){d("This request has already been processed."),g("warning"),l(!0);return}try{const P=bn(R,"users",C.uid);if(C.requestType==="primary"){const j=F(),G=await Ma(vn(R,"courses"),{number:C.courseNumber,title:C.courseTitle,passcode:j,courseAdmin:[C.uid],createdAt:new Date,courseCreatedAt:new Date}),W=await Oa(P),K=W.exists()?((T=W.data())==null?void 0:T.classes)||{}:{};await Wr(P,{isAdmin:!0,classes:{...K,[G.id]:{number:C.courseNumber,title:C.courseTitle,isCourseAdmin:!0,courseCreatedAt:new Date,enrolledAt:new Date}}}),await Wr(bn(R,"educatorRequests",A),{status:"approved",courseId:G.id,passcode:j})}else if(C.requestType==="co-instructor"){if(!i){d("Please select a course for the co-instructor request."),g("error"),l(!0);return}const j=bn(R,"courses",i);await Wr(j,{courseAdmin:f3(C.uid)});const G=await Oa(P),W=G.exists()?((O=G.data())==null?void 0:O.classes)||{}:{};await Wr(P,{isAdmin:!0,classes:{...W,[i]:{number:C.courseNumber,title:C.courseTitle,isCourseAdmin:!0,courseCreatedAt:new Date,enrolledAt:new Date}}}),await Wr(bn(R,"educatorRequests",A),{status:"approved",courseId:i})}d("Request approved, and user promoted to educator."),g("success"),n(j=>j.map(G=>G.id===A?{...G,status:"approved"}:G))}catch(P){console.error("Error approving request: ",P),d("Error approving the request. Please try again."),g("error")}l(!0),B()}},k=async()=>{if(A){try{await Wr(bn(R,"educatorRequests",A),{status:"denied"}),d("Request denied."),g("success"),n(e.map(T=>T.id===A?{...T,status:"denied"}:T))}catch(T){console.error("Error denying request: ",T),d("Error denying the request. Please try again."),g("error")}l(!0),B()}},L=(T,O,P)=>{y(T),w(O),N(P),a(""),m(!0)},B=()=>{m(!1),y(null),w(null),N(null)},X=()=>{l(!1)};return h.jsxs(he,{sx:{p:st[6],backgroundColor:se.background.primary,minHeight:"100vh"},children:[h.jsx(Fl,{title:"Educator Permission Requests"}),h.jsx(ge,{variant:"body1",sx:{mb:st[4],color:se.text.secondary},children:"Review and manage educator permission requests from users seeking to become course instructors."}),h.jsx(WX,{requests:e,loading:!1,onApprove:T=>{const O=e.find(P=>P.id===T);O&&L("approve",T,O)},onDeny:T=>L("deny",T,null)}),h.jsx(nl,{open:s,autoHideDuration:6e3,onClose:X,children:h.jsx(vr,{onClose:X,severity:f,sx:{width:"100%"},children:u})}),h.jsxs(Ki,{open:b,onClose:B,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",children:[h.jsx(fa,{id:"confirmation-dialog-title",children:x==="approve"?"Confirm Approval":"Confirm Denial"}),h.jsxs(Xi,{children:[h.jsxs(Ml,{id:"confirmation-dialog-description",children:["Are you sure you want to ",x," this request for ",C==null?void 0:C.firstName," ",C==null?void 0:C.lastName,"?"]}),x==="approve"&&(C==null?void 0:C.requestType)==="co-instructor"&&h.jsxs(he,{sx:{mt:2},children:[h.jsx(ge,{children:"Select Course:"}),h.jsx(Ll,{fullWidth:!0,value:i,onChange:T=>a(T.target.value),children:t.map(T=>h.jsx(Xn,{value:T.id,children:`${T.number} - ${T.title}`},T.id))})]})]}),h.jsxs(ha,{children:[h.jsx(At,{onClick:B,color:"primary",children:"Cancel"}),h.jsx(At,{onClick:x==="approve"?q:k,color:"primary",variant:"contained",autoFocus:!0,disabled:(C==null?void 0:C.requestType)==="co-instructor"&&!i,children:"Confirm"})]})]})]})},Zx=e=>{if(e==null)return null;if(e instanceof Date)return e;if(Array.isArray(e))return e.map(Zx).filter(n=>n!=null);if(typeof e=="object"){const n={};return Object.keys(e).forEach(t=>{const r=e[t];if(r!==void 0){const i=Zx(r);i!=null&&(n[t]=i)}}),n}return e},VX=()=>{const{userDetails:e}=Ai(),n=ma(),t=Zn(),[r,i]=Q.useState("manual"),[a,s]=Q.useState(""),[l,u]=Q.useState(""),[d,f]=Q.useState(""),{parsedCourseInfo:g,generatedMaterials:b,aiExtractedInfo:m,storedSyllabusFile:x,reset:y,currentStep:A}=Ip(),[w,C]=Q.useState(!1),[N,R]=Q.useState(!1),[F,q]=Q.useState("");Q.useEffect(()=>{r==="manual"&&y()},[r,y]),Q.useEffect(()=>{r==="syllabus"&&g&&(s(g.suggestedNumber||""),u(g.suggestedTitle||""),f(g.suggestedDescription||""))},[r,g]);const k=G=>W=>{G(W.target.value)},L=(G,W)=>{W!==null&&(i(W),W==="syllabus"&&(s(""),u(""),f("")))},B=()=>{if(r==="manual"){if(!a||!l||!d)return"Please fill in all required fields."}else if(r==="syllabus"){if(!g)return"Please complete the syllabus import process first.";if(!a||!l||!d)return"Please ensure course information is properly filled from your syllabus."}return null},X=G=>{console.log("Syllabus import completed:",G),T()},T=async()=>{const G=B();if(G){q(G),R(!0);return}C(!0);try{const W={uid:(e==null?void 0:e.uid)||"",courseNumber:a||"",courseTitle:l||"",courseDescription:d||"",status:"pending",timestamp:new Date,syllabusImported:!1};if(r==="syllabus"&&g&&b.length>0){const $={parsedCourseInfo:g,generatedMaterials:b.filter(U=>U.published),additionalInfo:m?{contactInfo:m.contactInfo,policies:m.policies,additionalResources:m.additionalResources,labSpecific:m.labSpecific,textbooks:m.textbooks,gradingPolicy:m.gradingPolicy,assignments:m.assignments,prerequisites:m.prerequisites}:null,syllabusFile:x?{url:x.url,path:x.path,metadata:x.metadata}:null},ae=Zx($);W.syllabusImported=!0,W.syllabusData=ae}const K=Zx(W);console.log("Submitting clean request document:",K);const ie=await Ma(vn(t,"courseRequests"),K),ce={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Course Request Submitted${r==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new course request has been submitted:</p>
            <p><strong>Educator ID:</strong> ${(e==null?void 0:e.uid)||"Unknown"}</p>
            <p><strong>Course:</strong> ${a} - ${l}</p>
            <p><strong>Description:</strong> ${d}</p>
            <p><strong>Creation Method:</strong> ${r==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>
            ${r==="syllabus"&&b.length>0?`<p><strong>Generated Materials:</strong> ${b.filter($=>$.published).length} materials ready for publication</p>`:""}
            <p><strong>Request ID:</strong> ${ie.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/course-requests">
            Click here to review the request.
            </a></p>
          `}};await Ma(vn(t,"mail"),ce),q(r==="syllabus"?`Your course request has been submitted for review with ${b.filter($=>$.published).length} auto-generated materials.`:"Your course request has been submitted for review."),s(""),u(""),f(""),r==="syllabus"&&y(),R(!0),setTimeout(()=>{n("/course-management")},3e3)}catch(W){console.error("Error submitting course request: ",W),W instanceof Error&&console.error("Error details:",{message:W.message,name:W.name,stack:W.stack}),q("Error submitting your course request. Please try again."),R(!0)}finally{C(!1)}},O=()=>{R(!1)},P=r==="syllabus"&&A!=="upload"&&!g,j=r==="syllabus"&&(A==="review"||A==="editing"||A==="complete")&&g;return h.jsxs(B6,{title:"Request New Course",subtitle:"Create a new course by entering course information manually or importing from a syllabus document.",children:[h.jsx(Qf,{title:"Course Creation Method",description:"Choose how you would like to create your course.",children:h.jsxs(yn,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[h.jsxs(I6,{value:r,exclusive:!0,onChange:L,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[h.jsxs(em,{value:"manual","aria-label":"manual entry",children:[h.jsx(xu,{sx:{mr:1}}),"Manual Entry"]}),h.jsxs(em,{value:"syllabus","aria-label":"syllabus import",children:[h.jsx(sj,{sx:{mr:1}}),"Import from Syllabus"]})]}),h.jsx(yn,{sx:{p:2,backgroundColor:"primary.50",border:"1px solid",borderColor:"primary.200",fontFamily:Ie.fontFamily.primary,fontSize:Ie.fontSize.sm,color:se.text.secondary},children:r==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]})}),r==="syllabus"&&h.jsx(Qf,{title:"Syllabus Import",description:"Upload your syllabus document to automatically extract course information.",showDivider:!0,children:h.jsx(kI,{onComplete:X,onCancel:()=>i("manual"),educatorUid:e==null?void 0:e.uid})}),r==="manual"&&h.jsxs(Qf,{title:"Course Information",description:"Provide the basic details for your course.",showDivider:!0,children:[h.jsxs(yt,{container:!0,spacing:3,children:[h.jsx(yt,{item:!0,xs:12,md:4,children:h.jsx(mu,{label:"Course Number",value:a,onChange:k(s),required:!0,disabled:w,placeholder:"e.g., BIOL301",helperText:"Enter the official course number or code"})}),h.jsx(yt,{item:!0,xs:12,md:8,children:h.jsx(mu,{label:"Course Title",value:l,onChange:k(u),required:!0,disabled:w,placeholder:"e.g., Biotech Research Methods",helperText:"Enter the full course title"})})]}),h.jsx(mu,{label:"Course Description",value:d,onChange:k(f),required:!0,disabled:w,multiline:!0,rows:4,placeholder:"A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",helperText:"Describe the course content, objectives, and learning outcomes"})]}),(r==="manual"||j)&&h.jsxs(U6,{align:"space-between",children:[h.jsx(tm,{variant:"text",onClick:()=>n("/course-management"),disabled:w,children:"Cancel"}),h.jsx(tm,{variant:"primary",onClick:T,disabled:w||P,loading:w,children:r==="syllabus"&&b.length>0?`Submit Request with ${b.filter(G=>G.published).length} Materials`:"Submit"})]}),h.jsxs(Ki,{open:N,onClose:O,children:[h.jsx(fa,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(Bg,{sx:{color:"green",fontSize:50,marginRight:1}})}),h.jsx(Xi,{children:h.jsx(Ml,{sx:{textAlign:"center"},children:F})}),h.jsx(ha,{children:h.jsx(At,{onClick:O,color:"primary",autoFocus:!0,children:"Close"})})]})]})},GX=({requests:e,loading:n=!1,onApprove:t,onDeny:r,onViewSyllabus:i})=>{const a=u=>{switch(u.toLowerCase()){case"approved":return"success";case"pending":return"warning";case"denied":return"error";default:return"default"}},s=u=>u.syllabusImported?"Syllabus Import":"Manual Creation",l=[{id:"uid",label:"Educator ID",width:"15%",render:u=>h.jsx(ch,{userId:u,userType:"educator"})},{id:"courseNumber",label:"Course",width:"25%",render:(u,d)=>h.jsx(Sp,{courseId:d.id||"",courseNumber:u,courseTitle:d.courseTitle,variant:"link",maxTitleLength:35})},{id:"courseDescription",label:"Description",width:"20%",render:u=>h.jsx(Rs,{text:u,maxLength:60,variant:"secondary"})},{id:"syllabusImported",label:"Creation Method",width:"12%",render:(u,d)=>h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Rs,{text:s(d)}),u&&i&&h.jsx(Si,{title:"View Syllabus Data",children:h.jsx(On,{size:"small",onClick:()=>i(d),sx:{color:se.primary[600],"&:hover":{backgroundColor:se.primary[100]}},children:h.jsx(kx,{fontSize:"small"})})})]})},{id:"timestamp",label:"Submitted",width:"10%",render:u=>h.jsx(Ap,{date:new Date(u.seconds*1e3),format:"full"})},{id:"status",label:"Status",width:"8%",render:u=>h.jsx(gv,{label:u,status:a(u)})},{id:"actions",label:"Actions",width:"10%",align:"center",render:(u,d)=>{const f=d.status==="pending";return h.jsx(Vg,{actions:[{icon:Ld.add,tooltip:f?"Approve Request":"Already processed",onClick:()=>t(d.id),disabled:!f,color:se.success,hoverColor:se.success+"20"},{icon:Ld.delete,tooltip:f?"Deny Request":"Already processed",onClick:()=>r(d.id),disabled:!f,color:se.error,hoverColor:se.error+"20"}]})}}];return h.jsx(uh,{data:e,columns:l,loading:n,emptyMessage:"No course creation requests found.",stickyHeader:!1})},QX=()=>{var k,L,B,X;const[e,n]=Q.useState([]),[t,r]=Q.useState(!1),[i,a]=Q.useState(""),[s,l]=Q.useState("success"),[u,d]=Q.useState(!1),[f,g]=Q.useState(null),[b,m]=Q.useState(null),[x,y]=Q.useState(null),A=Zn();Q.useEffect(()=>{(async()=>{try{const P=(await pi(vn(A,"courseRequests"))).docs.map(j=>({id:j.id,...j.data()}));P.sort((j,G)=>j.status==="pending"&&G.status!=="pending"||j.status==="approved"&&G.status==="denied"?-1:j.status==="denied"&&G.status==="approved"?1:0),n(P)}catch(O){console.error("Error fetching course requests: ",O)}})()},[A]);function w(){const T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let O="";for(let P=0;P<28;P++)O+=T.charAt(Math.floor(Math.random()*T.length));return O}const C=async()=>{var T,O,P,j;if(!(!b||!x)){try{const G=w(),W={number:x.courseNumber,title:x.courseTitle,description:x.courseDescription,passcode:G,courseAdmin:[x.uid],createdAt:new Date,courseCreatedAt:new Date};if(x.syllabusImported&&((T=x.syllabusData)!=null&&T.additionalInfo)){const z=x.syllabusData.additionalInfo;W.additionalInfo={contactInfo:z.contactInfo||{},policies:z.policies||{},additionalResources:z.additionalResources||{},labSpecific:z.labSpecific||{},textbooks:z.textbooks||[],gradingPolicy:z.gradingPolicy||[],assignments:z.assignments||[],prerequisites:z.prerequisites||[],lastUpdated:new Date}}x.syllabusImported&&((O=x.syllabusData)!=null&&O.syllabusFile)&&(W.syllabusFile=x.syllabusData.syllabusFile);const K=await Ma(vn(A,"courses"),W),ie=bn(A,"users",x.uid),ce=await Oa(ie),$=ce.exists()?((P=ce.data())==null?void 0:P.classes)||{}:{};await Wr(ie,{classes:{...$,[K.id]:{number:x.courseNumber,title:x.courseTitle,isCourseAdmin:!0,courseCreatedAt:new Date,enrolledAt:new Date}}});let ae=0;if(x.syllabusImported&&((j=x.syllabusData)!=null&&j.generatedMaterials)){const z=M6(A);x.syllabusData.generatedMaterials.forEach(Z=>{const ee=bn(vn(A,"materials")),oe={title:Z.title||"Untitled Material",header:Z.header||{title:"",content:""},footer:Z.footer||{title:"",content:""},sections:(Z.sections||[]).map(we=>({...we,images:we.images||[],links:we.links||[],subsections:(we.subsections||[]).map(xe=>({...xe,images:xe.images||[],links:xe.links||[],subSubsections:(xe.subSubsections||[]).map(Ee=>({...Ee,images:Ee.images||[],links:Ee.links||[]}))}))})),published:!0,course:K.id,author:x.uid,timestamp:ja.now(),createdAt:new Date,updatedAt:new Date};Z.scheduledTimestamp&&(oe.scheduledTimestamp=ja.fromDate(Z.scheduledTimestamp)),z.set(ee,oe),ae++}),await z.commit(),console.log(`Created ${ae} materials from syllabus`)}await Wr(bn(A,"courseRequests",b),{status:"approved",courseId:K.id,passcode:G});const U={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"Your Course Request Has Been Approved",html:`
            <p>Your course request has been approved:</p>
            <p><strong>Course:</strong> ${x.courseNumber} - ${x.courseTitle}</p>
            <p><strong>Passcode:</strong> ${G}</p>
            ${x.syllabusImported&&ae>0?`<p><strong>Materials Created:</strong> ${ae} materials have been automatically added to your course from your syllabus import.</p>`:""}
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/supplemental-materials">
            Click here to view your course.
            </a></p>
          `}};await Ma(vn(A,"mail"),U),a(`Course request approved, course added${ae>0?` with ${ae} materials`:""}.`),l("success"),n(z=>z.map(Z=>Z.id===b?{...Z,status:"approved"}:Z))}catch(G){console.error("Error approving request: ",G),a("Error approving the request. Please try again."),l("error")}r(!0),F()}},N=async()=>{if(b){try{await Wr(bn(A,"courseRequests",b),{status:"denied"}),a("Course request denied."),l("success"),n(e.map(T=>T.id===b?{...T,status:"denied"}:T))}catch(T){console.error("Error denying request: ",T),a("Error denying the request. Please try again."),l("error")}r(!0),F()}},R=(T,O,P)=>{g(T),m(O),y(P),d(!0)},F=()=>{d(!1),g(null),m(null),y(null)},q=()=>{r(!1)};return h.jsxs(he,{sx:{p:st[6],backgroundColor:se.background.primary,minHeight:"100vh"},children:[h.jsx(Fl,{title:"Course Creation Requests"}),h.jsx(ge,{variant:"body1",sx:{mb:st[4],color:se.text.secondary},children:"Review and approve course creation requests from educators."}),h.jsx(GX,{requests:e,loading:!1,onApprove:T=>{const O=e.find(P=>P.id===T);O&&R("approve",T,O)},onDeny:T=>{const O=e.find(P=>P.id===T);O&&R("deny",T,O)},onViewSyllabus:T=>{var O;(O=T.syllabusData)!=null&&O.syllabusFile&&typeof T.syllabusData.syllabusFile=="object"&&T.syllabusData.syllabusFile!==null&&"url"in T.syllabusData.syllabusFile&&window.open(T.syllabusData.syllabusFile.url,"_blank")}}),h.jsxs(Ki,{open:u,onClose:F,children:[h.jsx(fa,{children:f==="approve"?"Approve Course Request":"Deny Course Request"}),h.jsx(Xi,{children:h.jsx(Ml,{children:f==="approve"?h.jsxs(h.Fragment,{children:["Are you sure you want to approve this course request?",(x==null?void 0:x.syllabusImported)&&h.jsxs(he,{sx:{mt:2,p:2,backgroundColor:"#ECF4FE",borderRadius:1},children:[h.jsx(ge,{variant:"body2",sx:{fontWeight:"bold"},children:" Syllabus Import Detected"}),h.jsxs(ge,{variant:"body2",children:["This request includes ",((L=(k=x==null?void 0:x.syllabusData)==null?void 0:k.generatedMaterials)==null?void 0:L.length)||0," auto-generated materials that will be added to the course."]}),((B=x==null?void 0:x.syllabusData)==null?void 0:B.syllabusFile)&&h.jsxs(he,{sx:{mt:1},children:[h.jsxs(ge,{variant:"body2",sx:{mb:1},children:[h.jsx("strong",{children:"Syllabus File:"})," ",x.syllabusData.syllabusFile.metadata.originalFilename," ","(",(x.syllabusData.syllabusFile.metadata.fileSize/1024/1024).toFixed(2)," MB)"]}),h.jsx(At,{size:"small",variant:"outlined",startIcon:h.jsx(fg,{}),onClick:()=>{var T;(T=x.syllabusData)!=null&&T.syllabusFile&&"url"in x.syllabusData.syllabusFile&&window.open(x.syllabusData.syllabusFile.url,"_blank")},sx:{mt:.5},children:"View/Download Syllabus"})]}),((X=x==null?void 0:x.syllabusData)==null?void 0:X.additionalInfo)&&h.jsxs(ge,{variant:"body2",sx:{mt:1},children:[h.jsx("strong",{children:"Additional Info:"})," Contact info, policies, textbooks, and other course details extracted"]})]})]}):"Are you sure you want to deny this course request?"})}),h.jsxs(ha,{children:[h.jsx(At,{onClick:F,color:"primary",children:"Cancel"}),h.jsx(At,{onClick:f==="approve"?C:N,color:f==="approve"?"success":"error",variant:"contained",children:f==="approve"?"Approve":"Deny"})]})]}),h.jsx(nl,{open:t,autoHideDuration:6e3,onClose:q,children:h.jsx(vr,{onClose:q,severity:s,sx:{width:"100%"},children:i})})]})},KX=({courses:e,loading:n=!1,onAddSuperAdmin:t,onDeleteCourse:r,userUid:i})=>{const a=u=>!!i&&u.courseAdmin.includes(i),s=u=>u.length===0?h.jsx(Rs,{text:"No admins assigned",variant:"secondary"}):h.jsx(he,{sx:{display:"flex",flexDirection:"column",gap:st[1]},children:u.map((d,f)=>h.jsx(ch,{userId:d,userType:"educator"},f))}),l=[{id:"number",label:"Course",width:"35%",render:(u,d)=>{const f=a(d);return h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:st[2]},children:[h.jsx(Sp,{courseId:d.id,courseNumber:u,courseTitle:d.title,variant:"link",maxTitleLength:999}),f&&h.jsx(cr,{label:"ADMIN",size:"small",sx:{backgroundColor:se.success,color:se.text.inverse,fontSize:Ie.fontSize.xs,fontWeight:Ie.fontWeight.bold,height:"20px"}})]})}},{id:"id",label:"Course ID",width:"20%",render:u=>h.jsx($j,{courseId:u})},{id:"courseAdmin",label:"Course Admins",width:"25%",render:u=>s(u)},{id:"actions",label:"Actions",width:"15%",align:"center",render:(u,d)=>{const f=a(d);return h.jsx(Vg,{actions:[{icon:Ld.add,tooltip:f?"Already an instructor":"Add yourself as an instructor",onClick:()=>t(d.id),disabled:f,color:se.success,hoverColor:se.success+"20"},{icon:Ld.delete,tooltip:f?"Delete this course":"You are not authorized to delete this course",onClick:()=>r(d.id),disabled:!f,color:se.error,hoverColor:se.error+"20"}]})}}];return h.jsx(uh,{data:e,columns:l,loading:n,emptyMessage:"No courses found.",stickyHeader:!1,showRowNumbers:!0})},XX=()=>{const e=Zn(),{userDetails:n}=Ai(),[t,r]=Q.useState([]),[i,a]=Q.useState(!0),[s,l]=Q.useState(!1),[u,d]=Q.useState(""),[f,g]=Q.useState("info"),[b,m]=Q.useState(!1),[x,y]=Q.useState(""),[A,w]=Q.useState("");ma(),Q.useEffect(()=>{(async()=>{a(!0);try{const X=(await pi(vn(e,"courses"))).docs.map(T=>{const O=T.data();return{id:T.id,title:O.title||"Untitled",number:O.number||"N/A",courseAdmin:O.courseAdmin||[]}});r(X)}catch(B){console.error("Error fetching courses: ",B)}finally{a(!1)}})()},[e]);const C=async L=>{if(!n){F("User details are not available.","error");return}const B=t.find(X=>X.id===L);if(B&&n)try{if(B.courseAdmin.includes(n.uid)){F("You are already an admin for this course.","warning");return}const X=bn(e,"courses",L),T=[...B.courseAdmin,n.uid];await Wr(X,{courseAdmin:T});const O=await Oa(X),P=O.exists()?O.data():null,j=(P==null?void 0:P.courseCreatedAt)||(P==null?void 0:P.createdAt)||(P==null?void 0:P.timestamp)||new Date,G=bn(e,"users",n.uid);await Wr(G,{[`classes.${L}`]:{number:B.number,title:B.title,isCourseAdmin:!0,courseCreatedAt:j,enrolledAt:new Date}}),r(t.map(W=>W.id===L?{...W,courseAdmin:T}:W)),F("You have been successfully added as an admin to this course.","success")}catch(X){console.error("Error adding super-admin to course: ",X),F("Failed to add admin to course.","error")}},N=L=>{w(L),m(!0)},R=async()=>{if(n&&x===n.uid){const L=t.find(B=>B.id===A);if(L&&L.courseAdmin.includes(n.uid))try{await R6(bn(e,"courses",A));const B=await pi(vn(e,"users")),X=M6(e);B.forEach(T=>{const O=bn(e,"users",T.id),j={...T.data().classes};delete j[A],X.update(O,{classes:j})}),await X.commit(),r(t.filter(T=>T.id!==A)),F("Course deleted successfully.","success")}catch(B){console.error("Error deleting course: ",B),F("Failed to delete course.","error")}finally{m(!1),y("")}else F("You are not authorized to delete this course.","warning"),m(!1)}else F("User ID does not match. Please try again.","error")},F=(L,B)=>{d(L),g(B),l(!0)},q=(L,B)=>{B!=="clickaway"&&l(!1)},k=()=>{m(!1),y("")};return h.jsxs(he,{sx:{p:st[6],backgroundColor:se.background.primary,minHeight:"100vh"},children:[h.jsx(Fl,{title:"Super Admin Course Management"}),h.jsx(ge,{variant:"body1",sx:{mb:st[4],color:se.text.secondary},children:"Manage all courses in the system. Add yourself as an instructor or delete courses you manage."}),h.jsx(KX,{courses:t,loading:i,onAddSuperAdmin:C,onDeleteCourse:N,userUid:n==null?void 0:n.uid}),h.jsx(nl,{open:s,autoHideDuration:6e3,onClose:q,children:h.jsx(vr,{onClose:q,severity:f,sx:{width:"100%"},children:u})}),h.jsxs(Ki,{open:b,onClose:k,children:[h.jsx(fa,{children:"Confirm Delete"}),h.jsxs(Xi,{children:[h.jsx(Ml,{children:"To confirm the deletion of this course, please enter your User ID:"}),h.jsx(Wt,{autoFocus:!0,margin:"dense",id:"userId",label:"User ID",type:"text",fullWidth:!0,variant:"outlined",value:x,onChange:L=>y(L.target.value)})]}),h.jsxs(ha,{children:[h.jsx(At,{onClick:k,color:"primary",children:"Cancel"}),h.jsx(At,{onClick:R,color:"primary",children:"Confirm"})]})]})]})},ZX=({requests:e,loading:n=!1})=>{const t=i=>{switch(i.toLowerCase()){case"approved":return"success";case"pending":return"warning";case"denied":return"error";default:return"default"}},r=[{id:"title",label:"Title",width:"25%",render:i=>h.jsx(Rs,{text:i,maxLength:50,weight:"semibold"})},{id:"courseNumber",label:"Course",width:"20%",render:(i,a)=>h.jsx(Sp,{courseId:a.courseId||"",courseNumber:i,courseTitle:a.courseTitle,variant:"link",maxTitleLength:30})},{id:"materialTitle",label:"Material",width:"20%",render:(i,a)=>i&&a.materialId?h.jsx(qj,{materialId:a.materialId,materialTitle:i,variant:"link",maxTitleLength:999}):h.jsx(Rs,{text:"N/A",variant:"secondary"})},{id:"timestamp",label:"Submitted",width:"15%",render:i=>h.jsx(Ap,{date:new Date(i),format:"full"})},{id:"status",label:"Status",width:"10%",render:i=>h.jsx(gv,{label:i,status:t(i)})},{id:"files",label:"Files",width:"10%",render:i=>h.jsxs(he,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[i&&i.length>0?i.slice(0,2).map((a,s)=>h.jsxs(qg,{href:a,target:"_blank",rel:"noopener noreferrer",sx:{fontSize:"0.75rem",color:se.primary[600],textDecoration:"none","&:hover":{textDecoration:"underline"}},children:["File ",s+1]},s)):h.jsx(Rs,{text:"No files",variant:"secondary"}),i&&i.length>2&&h.jsx(Rs,{text:`+${i.length-2} more`,variant:"secondary"})]})}];return h.jsx(uh,{data:e,columns:r,loading:n,emptyMessage:"No chatbot requests found. Submit your first request to get started!",maxHeight:"600px",stickyHeader:!0})},JX=()=>{const{userDetails:e}=Ai(),[n,t]=Q.useState([]),[r,i]=Q.useState(!0);return Q.useEffect(()=>{(async()=>{if(!(e!=null&&e.uid))return;const s=Zn(),l=vn(s,"chatbotRequests"),u=tl(l,wi("educatorId","==",e.uid));try{const f=(await pi(u)).docs.map(g=>({id:g.id,...g.data()}));t(f)}catch(d){console.error("Error fetching chatbot requests:",d)}finally{i(!1)}})()},[e==null?void 0:e.uid]),r?h.jsx(he,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:h.jsx(hi,{})}):n.length===0?h.jsx(ge,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):h.jsxs(he,{sx:{mt:st[6]},children:[h.jsx(ge,{variant:"h5",sx:{mb:st[4],fontFamily:Ie.fontFamily.display,fontWeight:Ie.fontWeight.bold,color:se.primary[500]},children:"Your Chatbot Requests"}),h.jsx(ZX,{requests:n,loading:r})]})},eZ=()=>{const e=ma();return h.jsxs(he,{className:"profile-container",sx:{p:4},children:[h.jsx(Fl,{title:"Chatbot Management"}),h.jsx(ge,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Manage your chatbots or create new chatbot requests."}),h.jsx(At,{variant:"contained",onClick:()=>e("/request-chatbot"),sx:{mt:2},className:"submit-button",children:"Request a New Chatbot"}),h.jsx(JX,{})]})},tZ=({folderPath:e,onUploadComplete:n})=>{const[t,r]=Q.useState(!1),[i,a]=Q.useState([]),[s,l]=Q.useState(null),u=5*1024*1024,d=[".pdf",".ppt",".pptx",".doc",".docx",".txt"],f=async g=>{if(!g.target.files)return;const b=Array.from(g.target.files),m=vp(),x=[];r(!0),l(null);try{for(const y of b){const A=y.name.slice(y.name.lastIndexOf(".")).toLowerCase();if(!d.includes(A)){l(`File ${y.name} is not a supported format.`);continue}if(y.size>u){l(`File ${y.name} exceeds the 5 MB limit and cannot be uploaded.`);continue}const w=vc(m,`${e}/files/${y.name}`);await Vf(w,y);const C=await Gf(w);x.push(C)}a(y=>[...y,...b]),n(x)}catch(y){console.error("Error uploading files:",y),l("Failed to upload files. Please try again.")}finally{r(!1)}};return h.jsxs(he,{children:[h.jsx("input",{type:"file",accept:".pdf,.ppt,.pptx,.doc,.docx,.txt",multiple:!0,onChange:f,style:{display:"none"},id:"file-upload"}),h.jsx("label",{htmlFor:"file-upload",children:h.jsx(At,{variant:"contained",component:"span",disabled:t,startIcon:t?h.jsx(hi,{size:20}):null,children:t?"Uploading...":"Select and Upload Files"})}),s&&h.jsx(vr,{severity:"error",sx:{mt:2},children:s}),h.jsx(he,{sx:{marginTop:2},children:i.map((g,b)=>h.jsx(ge,{children:g.name},b))})]})},nZ=wp()(Gg((e,n)=>({materials:[],selectedCourse:null,loading:!1,error:null,isEditing:!1,selectedMaterial:null,setMaterials:t=>e({materials:t}),addMaterial:t=>e(r=>({materials:[...r.materials,t]})),updateMaterial:(t,r)=>e(i=>({materials:i.materials.map(a=>a.id===t?{...a,...r}:a)})),deleteMaterial:t=>e(r=>({materials:r.materials.filter(i=>i.id!==t)})),setSelectedCourse:t=>e({selectedCourse:t}),setLoading:t=>e({loading:t}),setError:t=>e({error:t}),setIsEditing:t=>e({isEditing:t}),setSelectedMaterial:t=>e({selectedMaterial:t}),fetchMaterials:async t=>{e({loading:!0,error:null});try{const{db:r}=await Li(async()=>{const{db:f}=await Promise.resolve().then(()=>tp);return{db:f}},void 0),{collection:i,query:a,where:s,onSnapshot:l,orderBy:u}=await Li(async()=>{const{collection:f,query:g,where:b,onSnapshot:m,orderBy:x}=await import("./firebase-CTJJwFJC.js").then(y=>y.B);return{collection:f,query:g,where:b,onSnapshot:m,orderBy:x}},[]),d=a(i(r,"materials"),s("course","==",t),u("timestamp","desc"));return new Promise(f=>{l(d,g=>{const b=g.docs.map(m=>({id:m.id,...m.data()}));e({materials:b,loading:!1}),f(void 0)})})}catch(r){e({error:r instanceof Error?r.message:"Failed to fetch materials",loading:!1})}},publishMaterial:async t=>{try{const{db:r}=await Li(async()=>{const{db:s}=await Promise.resolve().then(()=>tp);return{db:s}},void 0),{doc:i,updateDoc:a}=await Li(async()=>{const{doc:s,updateDoc:l}=await import("./firebase-CTJJwFJC.js").then(u=>u.B);return{doc:s,updateDoc:l}},[]);await a(i(r,"materials",t),{published:!0}),n().updateMaterial(t,{published:!0})}catch{e({error:"Failed to publish material"})}},unpublishMaterial:async t=>{try{const{db:r}=await Li(async()=>{const{db:s}=await Promise.resolve().then(()=>tp);return{db:s}},void 0),{doc:i,updateDoc:a}=await Li(async()=>{const{doc:s,updateDoc:l}=await import("./firebase-CTJJwFJC.js").then(u=>u.B);return{doc:s,updateDoc:l}},[]);await a(i(r,"materials",t),{published:!1}),n().updateMaterial(t,{published:!1})}catch{e({error:"Failed to unpublish material"})}}}))),rZ=()=>{const{userDetails:e}=Ai(),n=ma(),t=Zn(),[r,i]=Q.useState(""),[a,s]=Q.useState(""),[l,u]=Q.useState(""),[d,f]=Q.useState([]),[g,b]=Q.useState(!1),[m,x]=Q.useState(""),[y,A]=Q.useState("success"),{materials:w,loading:C,error:N,fetchMaterials:R}=nZ();Q.useEffect(()=>{u(""),a&&R(a)},[a,R]);const F=B=>{f(X=>[...X,...B])},q=async()=>{var j;if(!r||!a||!l||d.length===0){x("Please fill all required fields and upload at least one file."),A("error"),b(!0);return}const B=(j=e==null?void 0:e.classes)==null?void 0:j[a];if(!B||!B.isCourseAdmin){x("You are not authorized to request a chatbot for this course."),A("error"),b(!0);return}const X=(B==null?void 0:B.number)??"N/A",T=(B==null?void 0:B.title)??"Untitled Course",O=w.find(G=>G.id===l);if(!O){x("Selected material details could not be found."),A("error"),b(!0);return}const{title:P}=O;try{const G=await Ma(vn(t,"chatbotRequests"),{educatorId:e==null?void 0:e.uid,courseId:a,courseNumber:X,courseTitle:T,materialId:l,materialTitle:P,title:r,files:d,status:"pending",timestamp:new Date().toISOString()});await Ma(vn(t,"mail"),{to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"New Chatbot Request Submitted",html:`
            <p>A new chatbot request has been submitted:</p>
            <p><strong>Title:</strong> ${r}</p>
            <p><strong>Educator ID:</strong> ${e==null?void 0:e.uid}</p>
            <p><strong>Course:</strong> ${X} - ${T}</p>
            <p><strong>Material:</strong> ${P}</p>
            <p><strong>Request ID:</strong> ${G.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/super-admin-chatbot-requests">
            Click here to review the request.
            </a></p>
          `}}),x("Chatbot request submitted successfully!"),A("success"),b(!0),setTimeout(()=>n("/chatbot-management"),1500)}catch(G){console.error("Error submitting chatbot request:",G),x("Failed to submit the chatbot request. Please try again."),A("error"),b(!0)}},k=()=>{n("/chatbot-management")},L=()=>{b(!1)};return h.jsxs(B6,{title:"Create a Chatbot",subtitle:"Fill out the form below to request a chatbot. Please upload all related materials for the chatbot's knowledge base.",children:[h.jsxs(Qf,{title:"Basic Information",description:"Provide the basic details for your chatbot request.",children:[h.jsx(mu,{label:"Chatbot Title",value:r,onChange:B=>i(B.target.value),required:!0,placeholder:"Enter a descriptive title for your chatbot",helperText:"Choose a clear, descriptive name that reflects the chatbot's purpose"}),h.jsxs(yt,{container:!0,spacing:3,children:[h.jsx(yt,{item:!0,xs:12,md:3,children:h.jsx(nS,{label:"Course",value:a,onChange:B=>s(B.target.value),required:!0,helperText:"Only courses where you are an admin are available for chatbot requests.",children:Object.keys((e==null?void 0:e.classes)||{}).filter(B=>{var X,T;return(T=(X=e==null?void 0:e.classes)==null?void 0:X[B])==null?void 0:T.isCourseAdmin}).map(B=>{var X,T;return h.jsx(Xn,{value:B,children:((T=(X=e==null?void 0:e.classes)==null?void 0:X[B])==null?void 0:T.title)||"Untitled Course"},B)})})}),h.jsx(yt,{item:!0,xs:12,md:9,children:h.jsx(nS,{label:"Material",value:l,onChange:B=>u(B.target.value),required:!0,disabled:!a||C,helperText:a?N||(C?"Loading materials...":w.length===0?"No materials available for this course.":"Select the primary material for your chatbot"):"Please select a course first.",children:a?C?h.jsxs(Xn,{disabled:!0,children:[h.jsx(hi,{size:20,sx:{marginRight:2}}),"Loading..."]}):w.length===0?h.jsx(Xn,{disabled:!0,children:"No materials found"}):w.map(B=>h.jsx(Xn,{value:B.id,children:B.title},B.id)):h.jsx(Xn,{disabled:!0,children:"Please select a course first"})})})]})]}),h.jsx(Qf,{title:"Additional Materials",description:"Upload additional files to enhance your chatbot's knowledge base. Supported formats: PDF, PPT, DOC/DOCX, TXT.",showDivider:!0,children:h.jsx(tZ,{folderPath:`chatbotRequests/${e==null?void 0:e.uid}`,onUploadComplete:F})}),h.jsxs(U6,{align:"space-between",children:[h.jsx(tm,{variant:"text",onClick:k,children:"Cancel"}),h.jsx(tm,{variant:"primary",onClick:q,disabled:!r||!a||!l||d.length===0,children:"Submit"})]}),h.jsx(nl,{open:g,autoHideDuration:6e3,onClose:L,children:h.jsx(vr,{severity:y,onClose:L,children:m})})]})},iZ=({conversations:e,loading:n=!1,onViewHistory:t,onDeleteConversation:r,loadingMap:i})=>{const a=[{id:"id",label:"Conversation ID",width:"25%",render:s=>h.jsx(HM,{conversationId:s})},{id:"userId",label:"User ID",width:"25%",render:s=>h.jsx(ch,{userId:s,userType:"student"})},{id:"chatbotId",label:"Chatbot ID",width:"25%",render:s=>h.jsx(Uj,{chatbotId:s})},{id:"startedAt",label:"Started At",width:"15%",render:s=>h.jsx(Ap,{date:new Date(s),format:"full"})},{id:"actions",label:"Actions",width:"10%",align:"center",render:(s,l)=>{const u=i[l.id];return h.jsx(Vg,{actions:[{icon:Ld.view,tooltip:u?"Loading...":"View Conversation History",onClick:()=>t(l.chatbotId,l.id,{userId:l.userId,startedAt:l.startedAt}),disabled:u,color:se.primary[600],hoverColor:se.primary[100]},{icon:Ld.delete,tooltip:u?"Loading...":"Delete Conversation",onClick:()=>r(l.id),disabled:u,color:se.error,hoverColor:se.error+"20"}]})}}];return h.jsx(uh,{data:e,columns:a,loading:n,emptyMessage:"No conversations available to display.",stickyHeader:!1,showRowNumbers:!0})};function NI(e,n){return function(){return e.apply(n,arguments)}}const{toString:aZ}=Object.prototype,{getPrototypeOf:kA}=Object,{iterator:Pv,toStringTag:TI}=Symbol,zv=(e=>n=>{const t=aZ.call(n);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ju=e=>(e=e.toLowerCase(),n=>zv(n)===e),qv=e=>n=>typeof n===e,{isArray:bm}=Array,Ng=qv("undefined");function sZ(e){return e!==null&&!Ng(e)&&e.constructor!==null&&!Ng(e.constructor)&&bo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const jI=ju("ArrayBuffer");function oZ(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&jI(e.buffer),n}const lZ=qv("string"),bo=qv("function"),OI=qv("number"),Bv=e=>e!==null&&typeof e=="object",uZ=e=>e===!0||e===!1,px=e=>{if(zv(e)!=="object")return!1;const n=kA(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(TI in e)&&!(Pv in e)},cZ=ju("Date"),dZ=ju("File"),fZ=ju("Blob"),hZ=ju("FileList"),pZ=e=>Bv(e)&&bo(e.pipe),mZ=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||bo(e.append)&&((n=zv(e))==="formdata"||n==="object"&&bo(e.toString)&&e.toString()==="[object FormData]"))},gZ=ju("URLSearchParams"),[bZ,yZ,xZ,vZ]=["ReadableStream","Request","Response","Headers"].map(ju),wZ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ab(e,n,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),bm(e))for(r=0,i=e.length;r<i;r++)n.call(null,e[r],r,e);else{const a=t?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let l;for(r=0;r<s;r++)l=a[r],n.call(null,e[l],l,e)}}function II(e,n){n=n.toLowerCase();const t=Object.keys(e);let r=t.length,i;for(;r-- >0;)if(i=t[r],n===i.toLowerCase())return i;return null}const Zh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,DI=e=>!Ng(e)&&e!==Zh;function QS(){const{caseless:e}=DI(this)&&this||{},n={},t=(r,i)=>{const a=e&&II(n,i)||i;px(n[a])&&px(r)?n[a]=QS(n[a],r):px(r)?n[a]=QS({},r):bm(r)?n[a]=r.slice():n[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&ab(arguments[r],t);return n}const SZ=(e,n,t,{allOwnKeys:r}={})=>(ab(n,(i,a)=>{t&&bo(i)?e[a]=NI(i,t):e[a]=i},{allOwnKeys:r}),e),AZ=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),CZ=(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},EZ=(e,n,t,r)=>{let i,a,s;const l={};if(n=n||{},e==null)return n;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!r||r(s,e,n))&&!l[s]&&(n[s]=e[s],l[s]=!0);e=t!==!1&&kA(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},_Z=(e,n,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return r!==-1&&r===t},kZ=e=>{if(!e)return null;if(bm(e))return e;let n=e.length;if(!OI(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},NZ=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&kA(Uint8Array)),TZ=(e,n)=>{const r=(e&&e[Pv]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;n.call(e,a[0],a[1])}},jZ=(e,n)=>{let t;const r=[];for(;(t=e.exec(n))!==null;)r.push(t);return r},OZ=ju("HTMLFormElement"),IZ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),S4=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),DZ=ju("RegExp"),LI=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};ab(t,(i,a)=>{let s;(s=n(i,a,e))!==!1&&(r[a]=s||i)}),Object.defineProperties(e,r)},LZ=e=>{LI(e,(n,t)=>{if(bo(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=e[t];if(bo(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},RZ=(e,n)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return bm(e)?r(e):r(String(e).split(n)),t},MZ=()=>{},FZ=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function PZ(e){return!!(e&&bo(e.append)&&e[TI]==="FormData"&&e[Pv])}const zZ=e=>{const n=new Array(10),t=(r,i)=>{if(Bv(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[i]=r;const a=bm(r)?[]:{};return ab(r,(s,l)=>{const u=t(s,i+1);!Ng(u)&&(a[l]=u)}),n[i]=void 0,a}}return r};return t(e,0)},qZ=ju("AsyncFunction"),BZ=e=>e&&(Bv(e)||bo(e))&&bo(e.then)&&bo(e.catch),RI=((e,n)=>e?setImmediate:n?((t,r)=>(Zh.addEventListener("message",({source:i,data:a})=>{i===Zh&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Zh.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",bo(Zh.postMessage)),UZ=typeof queueMicrotask<"u"?queueMicrotask.bind(Zh):typeof process<"u"&&process.nextTick||RI,$Z=e=>e!=null&&bo(e[Pv]),ot={isArray:bm,isArrayBuffer:jI,isBuffer:sZ,isFormData:mZ,isArrayBufferView:oZ,isString:lZ,isNumber:OI,isBoolean:uZ,isObject:Bv,isPlainObject:px,isReadableStream:bZ,isRequest:yZ,isResponse:xZ,isHeaders:vZ,isUndefined:Ng,isDate:cZ,isFile:dZ,isBlob:fZ,isRegExp:DZ,isFunction:bo,isStream:pZ,isURLSearchParams:gZ,isTypedArray:NZ,isFileList:hZ,forEach:ab,merge:QS,extend:SZ,trim:wZ,stripBOM:AZ,inherits:CZ,toFlatObject:EZ,kindOf:zv,kindOfTest:ju,endsWith:_Z,toArray:kZ,forEachEntry:TZ,matchAll:jZ,isHTMLForm:OZ,hasOwnProperty:S4,hasOwnProp:S4,reduceDescriptors:LI,freezeMethods:LZ,toObjectSet:RZ,toCamelCase:IZ,noop:MZ,toFiniteNumber:FZ,findKey:II,global:Zh,isContextDefined:DI,isSpecCompliantForm:PZ,toJSONObject:zZ,isAsyncFn:qZ,isThenable:BZ,setImmediate:RI,asap:UZ,isIterable:$Z};function kn(e,n,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ot.inherits(kn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ot.toJSONObject(this.config),code:this.code,status:this.status}}});const MI=kn.prototype,FI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{FI[e]={value:e}});Object.defineProperties(kn,FI);Object.defineProperty(MI,"isAxiosError",{value:!0});kn.from=(e,n,t,r,i,a)=>{const s=Object.create(MI);return ot.toFlatObject(e,s,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),kn.call(s,e.message,n,t,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const HZ=null;function KS(e){return ot.isPlainObject(e)||ot.isArray(e)}function PI(e){return ot.endsWith(e,"[]")?e.slice(0,-2):e}function A4(e,n,t){return e?e.concat(n).map(function(i,a){return i=PI(i),!t&&a?"["+i+"]":i}).join(t?".":""):n}function WZ(e){return ot.isArray(e)&&!e.some(KS)}const YZ=ot.toFlatObject(ot,{},null,function(n){return/^is[A-Z]/.test(n)});function Uv(e,n,t){if(!ot.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,t=ot.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,A){return!ot.isUndefined(A[y])});const r=t.metaTokens,i=t.visitor||f,a=t.dots,s=t.indexes,u=(t.Blob||typeof Blob<"u"&&Blob)&&ot.isSpecCompliantForm(n);if(!ot.isFunction(i))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(ot.isDate(x))return x.toISOString();if(ot.isBoolean(x))return x.toString();if(!u&&ot.isBlob(x))throw new kn("Blob is not supported. Use a Buffer instead.");return ot.isArrayBuffer(x)||ot.isTypedArray(x)?u&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function f(x,y,A){let w=x;if(x&&!A&&typeof x=="object"){if(ot.endsWith(y,"{}"))y=r?y:y.slice(0,-2),x=JSON.stringify(x);else if(ot.isArray(x)&&WZ(x)||(ot.isFileList(x)||ot.endsWith(y,"[]"))&&(w=ot.toArray(x)))return y=PI(y),w.forEach(function(N,R){!(ot.isUndefined(N)||N===null)&&n.append(s===!0?A4([y],R,a):s===null?y:y+"[]",d(N))}),!1}return KS(x)?!0:(n.append(A4(A,y,a),d(x)),!1)}const g=[],b=Object.assign(YZ,{defaultVisitor:f,convertValue:d,isVisitable:KS});function m(x,y){if(!ot.isUndefined(x)){if(g.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));g.push(x),ot.forEach(x,function(w,C){(!(ot.isUndefined(w)||w===null)&&i.call(n,w,ot.isString(C)?C.trim():C,y,b))===!0&&m(w,y?y.concat(C):[C])}),g.pop()}}if(!ot.isObject(e))throw new TypeError("data must be an object");return m(e),n}function C4(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function NA(e,n){this._pairs=[],e&&Uv(e,this,n)}const zI=NA.prototype;zI.append=function(n,t){this._pairs.push([n,t])};zI.toString=function(n){const t=n?function(r){return n.call(this,r,C4)}:C4;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function VZ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qI(e,n,t){if(!n)return e;const r=t&&t.encode||VZ;ot.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(n,t):a=ot.isURLSearchParams(n)?n.toString():new NA(n,t).toString(r),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class E4{constructor(){this.handlers=[]}use(n,t,r){return this.handlers.push({fulfilled:n,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ot.forEach(this.handlers,function(r){r!==null&&n(r)})}}const BI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},GZ=typeof URLSearchParams<"u"?URLSearchParams:NA,QZ=typeof FormData<"u"?FormData:null,KZ=typeof Blob<"u"?Blob:null,XZ={isBrowser:!0,classes:{URLSearchParams:GZ,FormData:QZ,Blob:KZ},protocols:["http","https","file","blob","url","data"]},TA=typeof window<"u"&&typeof document<"u",XS=typeof navigator=="object"&&navigator||void 0,ZZ=TA&&(!XS||["ReactNative","NativeScript","NS"].indexOf(XS.product)<0),JZ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",eJ=TA&&window.location.href||"http://localhost",tJ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:TA,hasStandardBrowserEnv:ZZ,hasStandardBrowserWebWorkerEnv:JZ,navigator:XS,origin:eJ},Symbol.toStringTag,{value:"Module"})),zs={...tJ,...XZ};function nJ(e,n){return Uv(e,new zs.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,a){return zs.isNode&&ot.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},n))}function rJ(e){return ot.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function iJ(e){const n={},t=Object.keys(e);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],n[a]=e[a];return n}function UI(e){function n(t,r,i,a){let s=t[a++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),u=a>=t.length;return s=!s&&ot.isArray(i)?i.length:s,u?(ot.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!ot.isObject(i[s]))&&(i[s]=[]),n(t,r,i[s],a)&&ot.isArray(i[s])&&(i[s]=iJ(i[s])),!l)}if(ot.isFormData(e)&&ot.isFunction(e.entries)){const t={};return ot.forEachEntry(e,(r,i)=>{n(rJ(r),i,t,0)}),t}return null}function aJ(e,n,t){if(ot.isString(e))try{return(n||JSON.parse)(e),ot.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(e)}const sb={transitional:BI,adapter:["xhr","http","fetch"],transformRequest:[function(n,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=ot.isObject(n);if(a&&ot.isHTMLForm(n)&&(n=new FormData(n)),ot.isFormData(n))return i?JSON.stringify(UI(n)):n;if(ot.isArrayBuffer(n)||ot.isBuffer(n)||ot.isStream(n)||ot.isFile(n)||ot.isBlob(n)||ot.isReadableStream(n))return n;if(ot.isArrayBufferView(n))return n.buffer;if(ot.isURLSearchParams(n))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return nJ(n,this.formSerializer).toString();if((l=ot.isFileList(n))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Uv(l?{"files[]":n}:n,u&&new u,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),aJ(n)):n}],transformResponse:[function(n){const t=this.transitional||sb.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(ot.isResponse(n)||ot.isReadableStream(n))return n;if(n&&ot.isString(n)&&(r&&!this.responseType||i)){const s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(n)}catch(l){if(s)throw l.name==="SyntaxError"?kn.from(l,kn.ERR_BAD_RESPONSE,this,null,this.response):l}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zs.classes.FormData,Blob:zs.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ot.forEach(["delete","get","head","post","put","patch"],e=>{sb.headers[e]={}});const sJ=ot.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oJ=e=>{const n={};let t,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),t=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!t||n[t]&&sJ[t])&&(t==="set-cookie"?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n},_4=Symbol("internals");function I1(e){return e&&String(e).trim().toLowerCase()}function mx(e){return e===!1||e==null?e:ot.isArray(e)?e.map(mx):String(e)}function lJ(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}const uJ=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function vw(e,n,t,r,i){if(ot.isFunction(r))return r.call(this,n,t);if(i&&(n=t),!!ot.isString(n)){if(ot.isString(r))return n.indexOf(r)!==-1;if(ot.isRegExp(r))return r.test(n)}}function cJ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,r)=>t.toUpperCase()+r)}function dJ(e,n){const t=ot.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(i,a,s){return this[r].call(this,n,i,a,s)},configurable:!0})})}let yo=class{constructor(n){n&&this.set(n)}set(n,t,r){const i=this;function a(l,u,d){const f=I1(u);if(!f)throw new Error("header name must be a non-empty string");const g=ot.findKey(i,f);(!g||i[g]===void 0||d===!0||d===void 0&&i[g]!==!1)&&(i[g||u]=mx(l))}const s=(l,u)=>ot.forEach(l,(d,f)=>a(d,f,u));if(ot.isPlainObject(n)||n instanceof this.constructor)s(n,t);else if(ot.isString(n)&&(n=n.trim())&&!uJ(n))s(oJ(n),t);else if(ot.isObject(n)&&ot.isIterable(n)){let l={},u,d;for(const f of n){if(!ot.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[d=f[0]]=(u=l[d])?ot.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}s(l,t)}else n!=null&&a(t,n,r);return this}get(n,t){if(n=I1(n),n){const r=ot.findKey(this,n);if(r){const i=this[r];if(!t)return i;if(t===!0)return lJ(i);if(ot.isFunction(t))return t.call(this,i,r);if(ot.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=I1(n),n){const r=ot.findKey(this,n);return!!(r&&this[r]!==void 0&&(!t||vw(this,this[r],r,t)))}return!1}delete(n,t){const r=this;let i=!1;function a(s){if(s=I1(s),s){const l=ot.findKey(r,s);l&&(!t||vw(r,r[l],l,t))&&(delete r[l],i=!0)}}return ot.isArray(n)?n.forEach(a):a(n),i}clear(n){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!n||vw(this,this[a],a,n,!0))&&(delete this[a],i=!0)}return i}normalize(n){const t=this,r={};return ot.forEach(this,(i,a)=>{const s=ot.findKey(r,a);if(s){t[s]=mx(i),delete t[a];return}const l=n?cJ(a):String(a).trim();l!==a&&delete t[a],t[l]=mx(i),r[l]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return ot.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=n&&ot.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const r=new this(n);return t.forEach(i=>r.set(i)),r}static accessor(n){const r=(this[_4]=this[_4]={accessors:{}}).accessors,i=this.prototype;function a(s){const l=I1(s);r[l]||(dJ(i,s),r[l]=!0)}return ot.isArray(n)?n.forEach(a):a(n),this}};yo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ot.reduceDescriptors(yo.prototype,({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[t]=r}}});ot.freezeMethods(yo);function ww(e,n){const t=this||sb,r=n||t,i=yo.from(r.headers);let a=r.data;return ot.forEach(e,function(l){a=l.call(t,a,i.normalize(),n?n.status:void 0)}),i.normalize(),a}function $I(e){return!!(e&&e.__CANCEL__)}function ym(e,n,t){kn.call(this,e??"canceled",kn.ERR_CANCELED,n,t),this.name="CanceledError"}ot.inherits(ym,kn,{__CANCEL__:!0});function HI(e,n,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?e(t):n(new kn("Request failed with status code "+t.status,[kn.ERR_BAD_REQUEST,kn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function fJ(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function hJ(e,n){e=e||10;const t=new Array(e),r=new Array(e);let i=0,a=0,s;return n=n!==void 0?n:1e3,function(u){const d=Date.now(),f=r[a];s||(s=d),t[i]=u,r[i]=d;let g=a,b=0;for(;g!==i;)b+=t[g++],g=g%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),d-s<n)return;const m=f&&d-f;return m?Math.round(b*1e3/m):void 0}}function pJ(e,n){let t=0,r=1e3/n,i,a;const s=(d,f=Date.now())=>{t=f,i=null,a&&(clearTimeout(a),a=null),e.apply(null,d)};return[(...d)=>{const f=Date.now(),g=f-t;g>=r?s(d,f):(i=d,a||(a=setTimeout(()=>{a=null,s(i)},r-g)))},()=>i&&s(i)]}const Jx=(e,n,t=3)=>{let r=0;const i=hJ(50,250);return pJ(a=>{const s=a.loaded,l=a.lengthComputable?a.total:void 0,u=s-r,d=i(u),f=s<=l;r=s;const g={loaded:s,total:l,progress:l?s/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&f?(l-s)/d:void 0,event:a,lengthComputable:l!=null,[n?"download":"upload"]:!0};e(g)},t)},k4=(e,n)=>{const t=e!=null;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},N4=e=>(...n)=>ot.asap(()=>e(...n)),mJ=zs.hasStandardBrowserEnv?((e,n)=>t=>(t=new URL(t,zs.origin),e.protocol===t.protocol&&e.host===t.host&&(n||e.port===t.port)))(new URL(zs.origin),zs.navigator&&/(msie|trident)/i.test(zs.navigator.userAgent)):()=>!0,gJ=zs.hasStandardBrowserEnv?{write(e,n,t,r,i,a){const s=[e+"="+encodeURIComponent(n)];ot.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),ot.isString(r)&&s.push("path="+r),ot.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function bJ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function yJ(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function WI(e,n,t){let r=!bJ(n);return e&&(r||t==!1)?yJ(e,n):n}const T4=e=>e instanceof yo?{...e}:e;function bp(e,n){n=n||{};const t={};function r(d,f,g,b){return ot.isPlainObject(d)&&ot.isPlainObject(f)?ot.merge.call({caseless:b},d,f):ot.isPlainObject(f)?ot.merge({},f):ot.isArray(f)?f.slice():f}function i(d,f,g,b){if(ot.isUndefined(f)){if(!ot.isUndefined(d))return r(void 0,d,g,b)}else return r(d,f,g,b)}function a(d,f){if(!ot.isUndefined(f))return r(void 0,f)}function s(d,f){if(ot.isUndefined(f)){if(!ot.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function l(d,f,g){if(g in n)return r(d,f);if(g in e)return r(void 0,d)}const u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(d,f,g)=>i(T4(d),T4(f),g,!0)};return ot.forEach(Object.keys(Object.assign({},e,n)),function(f){const g=u[f]||i,b=g(e[f],n[f],f);ot.isUndefined(b)&&g!==l||(t[f]=b)}),t}const YI=e=>{const n=bp({},e);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=n;n.headers=s=yo.from(s),n.url=qI(WI(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(ot.isFormData(t)){if(zs.hasStandardBrowserEnv||zs.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((u=s.getContentType())!==!1){const[d,...f]=u?u.split(";").map(g=>g.trim()).filter(Boolean):[];s.setContentType([d||"multipart/form-data",...f].join("; "))}}if(zs.hasStandardBrowserEnv&&(r&&ot.isFunction(r)&&(r=r(n)),r||r!==!1&&mJ(n.url))){const d=i&&a&&gJ.read(a);d&&s.set(i,d)}return n},xJ=typeof XMLHttpRequest<"u",vJ=xJ&&function(e){return new Promise(function(t,r){const i=YI(e);let a=i.data;const s=yo.from(i.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=i,f,g,b,m,x;function y(){m&&m(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let A=new XMLHttpRequest;A.open(i.method.toUpperCase(),i.url,!0),A.timeout=i.timeout;function w(){if(!A)return;const N=yo.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),F={data:!l||l==="text"||l==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:N,config:e,request:A};HI(function(k){t(k),y()},function(k){r(k),y()},F),A=null}"onloadend"in A?A.onloadend=w:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(w)},A.onabort=function(){A&&(r(new kn("Request aborted",kn.ECONNABORTED,e,A)),A=null)},A.onerror=function(){r(new kn("Network Error",kn.ERR_NETWORK,e,A)),A=null},A.ontimeout=function(){let R=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const F=i.transitional||BI;i.timeoutErrorMessage&&(R=i.timeoutErrorMessage),r(new kn(R,F.clarifyTimeoutError?kn.ETIMEDOUT:kn.ECONNABORTED,e,A)),A=null},a===void 0&&s.setContentType(null),"setRequestHeader"in A&&ot.forEach(s.toJSON(),function(R,F){A.setRequestHeader(F,R)}),ot.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),l&&l!=="json"&&(A.responseType=i.responseType),d&&([b,x]=Jx(d,!0),A.addEventListener("progress",b)),u&&A.upload&&([g,m]=Jx(u),A.upload.addEventListener("progress",g),A.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(f=N=>{A&&(r(!N||N.type?new ym(null,e,A):N),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const C=fJ(i.url);if(C&&zs.protocols.indexOf(C)===-1){r(new kn("Unsupported protocol "+C+":",kn.ERR_BAD_REQUEST,e));return}A.send(a||null)})},wJ=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let r=new AbortController,i;const a=function(d){if(!i){i=!0,l();const f=d instanceof Error?d:this.reason;r.abort(f instanceof kn?f:new ym(f instanceof Error?f.message:f))}};let s=n&&setTimeout(()=>{s=null,a(new kn(`timeout ${n} of ms exceeded`,kn.ETIMEDOUT))},n);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:u}=r;return u.unsubscribe=()=>ot.asap(l),u}},SJ=function*(e,n){let t=e.byteLength;if(t<n){yield e;return}let r=0,i;for(;r<t;)i=r+n,yield e.slice(r,i),r=i},AJ=async function*(e,n){for await(const t of CJ(e))yield*SJ(t,n)},CJ=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:t,value:r}=await n.read();if(t)break;yield r}}finally{await n.cancel()}},j4=(e,n,t,r)=>{const i=AJ(e,n);let a=0,s,l=u=>{s||(s=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:d,value:f}=await i.next();if(d){l(),u.close();return}let g=f.byteLength;if(t){let b=a+=g;t(b)}u.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},$v=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",VI=$v&&typeof ReadableStream=="function",EJ=$v&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),GI=(e,...n)=>{try{return!!e(...n)}catch{return!1}},_J=VI&&GI(()=>{let e=!1;const n=new Request(zs.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),O4=64*1024,ZS=VI&&GI(()=>ot.isReadableStream(new Response("").body)),ev={stream:ZS&&(e=>e.body)};$v&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!ev[n]&&(ev[n]=ot.isFunction(e[n])?t=>t[n]():(t,r)=>{throw new kn(`Response type '${n}' is not supported`,kn.ERR_NOT_SUPPORT,r)})})})(new Response);const kJ=async e=>{if(e==null)return 0;if(ot.isBlob(e))return e.size;if(ot.isSpecCompliantForm(e))return(await new Request(zs.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ot.isArrayBufferView(e)||ot.isArrayBuffer(e))return e.byteLength;if(ot.isURLSearchParams(e)&&(e=e+""),ot.isString(e))return(await EJ(e)).byteLength},NJ=async(e,n)=>{const t=ot.toFiniteNumber(e.getContentLength());return t??kJ(n)},TJ=$v&&(async e=>{let{url:n,method:t,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:l,onUploadProgress:u,responseType:d,headers:f,withCredentials:g="same-origin",fetchOptions:b}=YI(e);d=d?(d+"").toLowerCase():"text";let m=wJ([i,a&&a.toAbortSignal()],s),x;const y=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let A;try{if(u&&_J&&t!=="get"&&t!=="head"&&(A=await NJ(f,r))!==0){let F=new Request(n,{method:"POST",body:r,duplex:"half"}),q;if(ot.isFormData(r)&&(q=F.headers.get("content-type"))&&f.setContentType(q),F.body){const[k,L]=k4(A,Jx(N4(u)));r=j4(F.body,O4,k,L)}}ot.isString(g)||(g=g?"include":"omit");const w="credentials"in Request.prototype;x=new Request(n,{...b,signal:m,method:t.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:w?g:void 0});let C=await fetch(x,b);const N=ZS&&(d==="stream"||d==="response");if(ZS&&(l||N&&y)){const F={};["status","statusText","headers"].forEach(B=>{F[B]=C[B]});const q=ot.toFiniteNumber(C.headers.get("content-length")),[k,L]=l&&k4(q,Jx(N4(l),!0))||[];C=new Response(j4(C.body,O4,k,()=>{L&&L(),y&&y()}),F)}d=d||"text";let R=await ev[ot.findKey(ev,d)||"text"](C,e);return!N&&y&&y(),await new Promise((F,q)=>{HI(F,q,{data:R,headers:yo.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:x})})}catch(w){throw y&&y(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new kn("Network Error",kn.ERR_NETWORK,e,x),{cause:w.cause||w}):kn.from(w,w&&w.code,e,x)}}),JS={http:HZ,xhr:vJ,fetch:TJ};ot.forEach(JS,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const I4=e=>`- ${e}`,jJ=e=>ot.isFunction(e)||e===null||e===!1,QI={getAdapter:e=>{e=ot.isArray(e)?e:[e];const{length:n}=e;let t,r;const i={};for(let a=0;a<n;a++){t=e[a];let s;if(r=t,!jJ(t)&&(r=JS[(s=String(t)).toLowerCase()],r===void 0))throw new kn(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){const a=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=n?a.length>1?`since :
`+a.map(I4).join(`
`):" "+I4(a[0]):"as no adapter specified";throw new kn("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:JS};function Sw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ym(null,e)}function D4(e){return Sw(e),e.headers=yo.from(e.headers),e.data=ww.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),QI.getAdapter(e.adapter||sb.adapter)(e).then(function(r){return Sw(e),r.data=ww.call(e,e.transformResponse,r),r.headers=yo.from(r.headers),r},function(r){return $I(r)||(Sw(e),r&&r.response&&(r.response.data=ww.call(e,e.transformResponse,r.response),r.response.headers=yo.from(r.response.headers))),Promise.reject(r)})}const KI="1.10.0",Hv={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{Hv[e]=function(r){return typeof r===e||"a"+(n<1?"n ":" ")+e}});const L4={};Hv.transitional=function(n,t,r){function i(a,s){return"[Axios v"+KI+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,l)=>{if(n===!1)throw new kn(i(s," has been removed"+(t?" in "+t:"")),kn.ERR_DEPRECATED);return t&&!L4[s]&&(L4[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),n?n(a,s,l):!0}};Hv.spelling=function(n){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${n}`),!0)};function OJ(e,n,t){if(typeof e!="object")throw new kn("options must be an object",kn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=n[a];if(s){const l=e[a],u=l===void 0||s(l,a,e);if(u!==!0)throw new kn("option "+a+" must be "+u,kn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new kn("Unknown option "+a,kn.ERR_BAD_OPTION)}}const gx={assertOptions:OJ,validators:Hv},ac=gx.validators;let op=class{constructor(n){this.defaults=n||{},this.interceptors={request:new E4,response:new E4}}async request(n,t){try{return await this._request(n,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=bp(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&gx.assertOptions(r,{silentJSONParsing:ac.transitional(ac.boolean),forcedJSONParsing:ac.transitional(ac.boolean),clarifyTimeoutError:ac.transitional(ac.boolean)},!1),i!=null&&(ot.isFunction(i)?t.paramsSerializer={serialize:i}:gx.assertOptions(i,{encode:ac.function,serialize:ac.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),gx.assertOptions(t,{baseUrl:ac.spelling("baseURL"),withXsrfToken:ac.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&ot.merge(a.common,a[t.method]);a&&ot.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),t.headers=yo.concat(s,a);const l=[];let u=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(t)===!1||(u=u&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const d=[];this.interceptors.response.forEach(function(y){d.push(y.fulfilled,y.rejected)});let f,g=0,b;if(!u){const x=[D4.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,d),b=x.length,f=Promise.resolve(t);g<b;)f=f.then(x[g++],x[g++]);return f}b=l.length;let m=t;for(g=0;g<b;){const x=l[g++],y=l[g++];try{m=x(m)}catch(A){y.call(this,A);break}}try{f=D4.call(this,m)}catch(x){return Promise.reject(x)}for(g=0,b=d.length;g<b;)f=f.then(d[g++],d[g++]);return f}getUri(n){n=bp(this.defaults,n);const t=WI(n.baseURL,n.url,n.allowAbsoluteUrls);return qI(t,n.params,n.paramsSerializer)}};ot.forEach(["delete","get","head","options"],function(n){op.prototype[n]=function(t,r){return this.request(bp(r||{},{method:n,url:t,data:(r||{}).data}))}});ot.forEach(["post","put","patch"],function(n){function t(r){return function(a,s,l){return this.request(bp(l||{},{method:n,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}op.prototype[n]=t(),op.prototype[n+"Form"]=t(!0)});let IJ=class XI{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(l=>{r.subscribe(l),a=l}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},n(function(a,s,l){r.reason||(r.reason=new ym(a,s,l),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const n=new AbortController,t=r=>{n.abort(r)};return this.subscribe(t),n.signal.unsubscribe=()=>this.unsubscribe(t),n.signal}static source(){let n;return{token:new XI(function(i){n=i}),cancel:n}}};function DJ(e){return function(t){return e.apply(null,t)}}function LJ(e){return ot.isObject(e)&&e.isAxiosError===!0}const e6={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(e6).forEach(([e,n])=>{e6[n]=e});function ZI(e){const n=new op(e),t=NI(op.prototype.request,n);return ot.extend(t,op.prototype,n,{allOwnKeys:!0}),ot.extend(t,n,null,{allOwnKeys:!0}),t.create=function(i){return ZI(bp(e,i))},t}const pa=ZI(sb);pa.Axios=op;pa.CanceledError=ym;pa.CancelToken=IJ;pa.isCancel=$I;pa.VERSION=KI;pa.toFormData=Uv;pa.AxiosError=kn;pa.Cancel=pa.CanceledError;pa.all=function(n){return Promise.all(n)};pa.spread=DJ;pa.isAxiosError=LJ;pa.mergeConfig=bp;pa.AxiosHeaders=yo;pa.formToJSON=e=>UI(ot.isHTMLForm(e)?new FormData(e):e);pa.getAdapter=QI.getAdapter;pa.HttpStatusCode=e6;pa.default=pa;const{Axios:$he,AxiosError:Hhe,CanceledError:Whe,isCancel:Yhe,CancelToken:Vhe,VERSION:Ghe,all:Qhe,Cancel:Khe,isAxiosError:Xhe,spread:Zhe,toFormData:Jhe,AxiosHeaders:epe,HttpStatusCode:tpe,formToJSON:npe,getAdapter:rpe,mergeConfig:ipe}=pa;function Hy(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Aw={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var R4;function RJ(){return R4||(R4=1,function(e,n){(function(t){e.exports=t()})(function(){return function t(r,i,a){function s(d,f){if(!i[d]){if(!r[d]){var g=typeof Hy=="function"&&Hy;if(!f&&g)return g(d,!0);if(l)return l(d,!0);var b=new Error("Cannot find module '"+d+"'");throw b.code="MODULE_NOT_FOUND",b}var m=i[d]={exports:{}};r[d][0].call(m.exports,function(x){var y=r[d][1][x];return s(y||x)},m,m.exports,t,r,i,a)}return i[d].exports}for(var l=typeof Hy=="function"&&Hy,u=0;u<a.length;u++)s(a[u]);return s}({1:[function(t,r,i){var a=t("./utils"),s=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var d,f,g,b,m,x,y,A=[],w=0,C=u.length,N=C,R=a.getTypeOf(u)!=="string";w<u.length;)N=C-w,g=R?(d=u[w++],f=w<C?u[w++]:0,w<C?u[w++]:0):(d=u.charCodeAt(w++),f=w<C?u.charCodeAt(w++):0,w<C?u.charCodeAt(w++):0),b=d>>2,m=(3&d)<<4|f>>4,x=1<N?(15&f)<<2|g>>6:64,y=2<N?63&g:64,A.push(l.charAt(b)+l.charAt(m)+l.charAt(x)+l.charAt(y));return A.join("")},i.decode=function(u){var d,f,g,b,m,x,y=0,A=0,w="data:";if(u.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var C,N=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===l.charAt(64)&&N--,u.charAt(u.length-2)===l.charAt(64)&&N--,N%1!=0)throw new Error("Invalid base64 input, bad content length.");for(C=s.uint8array?new Uint8Array(0|N):new Array(0|N);y<u.length;)d=l.indexOf(u.charAt(y++))<<2|(b=l.indexOf(u.charAt(y++)))>>4,f=(15&b)<<4|(m=l.indexOf(u.charAt(y++)))>>2,g=(3&m)<<6|(x=l.indexOf(u.charAt(y++))),C[A++]=d,m!==64&&(C[A++]=f),x!==64&&(C[A++]=g);return C}},{"./support":30,"./utils":32}],2:[function(t,r,i){var a=t("./external"),s=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function d(f,g,b,m,x){this.compressedSize=f,this.uncompressedSize=g,this.crc32=b,this.compression=m,this.compressedContent=x}d.prototype={getContentWorker:function(){var f=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),g=this;return f.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(f,g,b){return f.pipe(new l).pipe(new u("uncompressedSize")).pipe(g.compressWorker(b)).pipe(new u("compressedSize")).withStreamInfo("compression",g)},r.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var a=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var a=t("./utils"),s=function(){for(var l,u=[],d=0;d<256;d++){l=d;for(var f=0;f<8;f++)l=1&l?3988292384^l>>>1:l>>>1;u[d]=l}return u}();r.exports=function(l,u){return l!==void 0&&l.length?a.getTypeOf(l)!=="string"?function(d,f,g,b){var m=s,x=b+g;d^=-1;for(var y=b;y<x;y++)d=d>>>8^m[255&(d^f[y])];return-1^d}(0|u,l,l.length,0):function(d,f,g,b){var m=s,x=b+g;d^=-1;for(var y=b;y<x;y++)d=d>>>8^m[255&(d^f.charCodeAt(y))];return-1^d}(0|u,l,l.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var a=null;a=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:a}},{lie:37}],7:[function(t,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=t("pako"),l=t("./utils"),u=t("./stream/GenericWorker"),d=a?"uint8array":"array";function f(g,b){u.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=b,this.meta={}}i.magic="\b\0",l.inherits(f,u),f.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(d,g.data),!1)},f.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(b){g.push({data:b,meta:g.meta})}},i.compressWorker=function(g){return new f("Deflate",g)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function a(m,x){var y,A="";for(y=0;y<x;y++)A+=String.fromCharCode(255&m),m>>>=8;return A}function s(m,x,y,A,w,C){var N,R,F=m.file,q=m.compression,k=C!==d.utf8encode,L=l.transformTo("string",C(F.name)),B=l.transformTo("string",d.utf8encode(F.name)),X=F.comment,T=l.transformTo("string",C(X)),O=l.transformTo("string",d.utf8encode(X)),P=B.length!==F.name.length,j=O.length!==X.length,G="",W="",K="",ie=F.dir,ce=F.date,$={crc32:0,compressedSize:0,uncompressedSize:0};x&&!y||($.crc32=m.crc32,$.compressedSize=m.compressedSize,$.uncompressedSize=m.uncompressedSize);var ae=0;x&&(ae|=8),k||!P&&!j||(ae|=2048);var U=0,z=0;ie&&(U|=16),w==="UNIX"?(z=798,U|=function(ee,oe){var we=ee;return ee||(we=oe?16893:33204),(65535&we)<<16}(F.unixPermissions,ie)):(z=20,U|=function(ee){return 63&(ee||0)}(F.dosPermissions)),N=ce.getUTCHours(),N<<=6,N|=ce.getUTCMinutes(),N<<=5,N|=ce.getUTCSeconds()/2,R=ce.getUTCFullYear()-1980,R<<=4,R|=ce.getUTCMonth()+1,R<<=5,R|=ce.getUTCDate(),P&&(W=a(1,1)+a(f(L),4)+B,G+="up"+a(W.length,2)+W),j&&(K=a(1,1)+a(f(T),4)+O,G+="uc"+a(K.length,2)+K);var Z="";return Z+=`
\0`,Z+=a(ae,2),Z+=q.magic,Z+=a(N,2),Z+=a(R,2),Z+=a($.crc32,4),Z+=a($.compressedSize,4),Z+=a($.uncompressedSize,4),Z+=a(L.length,2),Z+=a(G.length,2),{fileRecord:g.LOCAL_FILE_HEADER+Z+L+G,dirRecord:g.CENTRAL_FILE_HEADER+a(z,2)+Z+a(T.length,2)+"\0\0\0\0"+a(U,4)+a(A,4)+L+G+T}}var l=t("../utils"),u=t("../stream/GenericWorker"),d=t("../utf8"),f=t("../crc32"),g=t("../signature");function b(m,x,y,A){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=y,this.encodeFileName=A,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(b,u),b.prototype.push=function(m){var x=m.meta.percent||0,y=this.entriesCount,A=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,u.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:y?(x+100*(y-A-1))/y:100}}))},b.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var x=this.streamFiles&&!m.file.dir;if(x){var y=s(m,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(m){this.accumulate=!1;var x=this.streamFiles&&!m.file.dir,y=s(m,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),x)this.push({data:function(A){return g.DATA_DESCRIPTOR+a(A.crc32,4)+a(A.compressedSize,4)+a(A.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var m=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var y=this.bytesWritten-m,A=function(w,C,N,R,F){var q=l.transformTo("string",F(R));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(w,2)+a(w,2)+a(C,4)+a(N,4)+a(q.length,2)+q}(this.dirRecords.length,y,m,this.zipComment,this.encodeFileName);this.push({data:A,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(m){this._sources.push(m);var x=this;return m.on("data",function(y){x.processChunk(y)}),m.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),m.on("error",function(y){x.error(y)}),this},b.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(m){var x=this._sources;if(!u.prototype.error.call(this,m))return!1;for(var y=0;y<x.length;y++)try{x[y].error(m)}catch{}return!0},b.prototype.lock=function(){u.prototype.lock.call(this);for(var m=this._sources,x=0;x<m.length;x++)m[x].lock()},r.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var a=t("../compressions"),s=t("./ZipFileWorker");i.generateWorker=function(l,u,d){var f=new s(u.streamFiles,d,u.platform,u.encodeFileName),g=0;try{l.forEach(function(b,m){g++;var x=function(C,N){var R=C||N,F=a[R];if(!F)throw new Error(R+" is not a valid compression method !");return F}(m.options.compression,u.compression),y=m.options.compressionOptions||u.compressionOptions||{},A=m.dir,w=m.date;m._compressWorker(x,y).withStreamInfo("file",{name:b,dir:A,date:w,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(f)}),f.entriesCount=g}catch(b){f.error(b)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var l in this)typeof this[l]!="function"&&(s[l]=this[l]);return s}}(a.prototype=t("./object")).loadAsync=t("./load"),a.support=t("./support"),a.defaults=t("./defaults"),a.version="3.10.1",a.loadAsync=function(s,l){return new a().loadAsync(s,l)},a.external=t("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var a=t("./utils"),s=t("./external"),l=t("./utf8"),u=t("./zipEntries"),d=t("./stream/Crc32Probe"),f=t("./nodejsUtils");function g(b){return new s.Promise(function(m,x){var y=b.decompressed.getContentWorker().pipe(new d);y.on("error",function(A){x(A)}).on("end",function(){y.streamInfo.crc32!==b.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(b,m){var x=this;return m=a.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),f.isNode&&f.isStream(b)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",b,!0,m.optimizedBinaryString,m.base64).then(function(y){var A=new u(m);return A.load(y),A}).then(function(y){var A=[s.Promise.resolve(y)],w=y.files;if(m.checkCRC32)for(var C=0;C<w.length;C++)A.push(g(w[C]));return s.Promise.all(A)}).then(function(y){for(var A=y.shift(),w=A.files,C=0;C<w.length;C++){var N=w[C],R=N.fileNameStr,F=a.resolve(N.fileNameStr);x.file(F,N.decompressed,{binary:!0,optimizedBinaryString:!0,date:N.date,dir:N.dir,comment:N.fileCommentStr.length?N.fileCommentStr:null,unixPermissions:N.unixPermissions,dosPermissions:N.dosPermissions,createFolders:m.createFolders}),N.dir||(x.file(F).unsafeOriginalName=R)}return A.zipComment.length&&(x.comment=A.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var a=t("../utils"),s=t("../stream/GenericWorker");function l(u,d){s.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(d)}a.inherits(l,s),l.prototype._bindStream=function(u){var d=this;(this._stream=u).pause(),u.on("data",function(f){d.push({data:f,meta:{percent:0}})}).on("error",function(f){d.isPaused?this.generatedError=f:d.error(f)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},l.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var a=t("readable-stream").Readable;function s(l,u,d){a.call(this,u),this._helper=l;var f=this;l.on("data",function(g,b){f.push(g)||f._helper.pause(),d&&d(b)}).on("error",function(g){f.emit("error",g)}).on("end",function(){f.push(null)})}t("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(t,r,i){function a(F,q,k){var L,B=l.getTypeOf(q),X=l.extend(k||{},f);X.date=X.date||new Date,X.compression!==null&&(X.compression=X.compression.toUpperCase()),typeof X.unixPermissions=="string"&&(X.unixPermissions=parseInt(X.unixPermissions,8)),X.unixPermissions&&16384&X.unixPermissions&&(X.dir=!0),X.dosPermissions&&16&X.dosPermissions&&(X.dir=!0),X.dir&&(F=w(F)),X.createFolders&&(L=A(F))&&C.call(this,L,!0);var T=B==="string"&&X.binary===!1&&X.base64===!1;k&&k.binary!==void 0||(X.binary=!T),(q instanceof g&&q.uncompressedSize===0||X.dir||!q||q.length===0)&&(X.base64=!1,X.binary=!0,q="",X.compression="STORE",B="string");var O=null;O=q instanceof g||q instanceof u?q:x.isNode&&x.isStream(q)?new y(F,q):l.prepareContent(F,q,X.binary,X.optimizedBinaryString,X.base64);var P=new b(F,O,X);this.files[F]=P}var s=t("./utf8"),l=t("./utils"),u=t("./stream/GenericWorker"),d=t("./stream/StreamHelper"),f=t("./defaults"),g=t("./compressedObject"),b=t("./zipObject"),m=t("./generate"),x=t("./nodejsUtils"),y=t("./nodejs/NodejsStreamInputAdapter"),A=function(F){F.slice(-1)==="/"&&(F=F.substring(0,F.length-1));var q=F.lastIndexOf("/");return 0<q?F.substring(0,q):""},w=function(F){return F.slice(-1)!=="/"&&(F+="/"),F},C=function(F,q){return q=q!==void 0?q:f.createFolders,F=w(F),this.files[F]||a.call(this,F,null,{dir:!0,createFolders:q}),this.files[F]};function N(F){return Object.prototype.toString.call(F)==="[object RegExp]"}var R={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(F){var q,k,L;for(q in this.files)L=this.files[q],(k=q.slice(this.root.length,q.length))&&q.slice(0,this.root.length)===this.root&&F(k,L)},filter:function(F){var q=[];return this.forEach(function(k,L){F(k,L)&&q.push(L)}),q},file:function(F,q,k){if(arguments.length!==1)return F=this.root+F,a.call(this,F,q,k),this;if(N(F)){var L=F;return this.filter(function(X,T){return!T.dir&&L.test(X)})}var B=this.files[this.root+F];return B&&!B.dir?B:null},folder:function(F){if(!F)return this;if(N(F))return this.filter(function(B,X){return X.dir&&F.test(B)});var q=this.root+F,k=C.call(this,q),L=this.clone();return L.root=k.name,L},remove:function(F){F=this.root+F;var q=this.files[F];if(q||(F.slice(-1)!=="/"&&(F+="/"),q=this.files[F]),q&&!q.dir)delete this.files[F];else for(var k=this.filter(function(B,X){return X.name.slice(0,F.length)===F}),L=0;L<k.length;L++)delete this.files[k[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(F){var q,k={};try{if((k=l.extend(F||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),k.type==="binarystring"&&(k.type="string"),!k.type)throw new Error("No output type specified.");l.checkSupport(k.type),k.platform!=="darwin"&&k.platform!=="freebsd"&&k.platform!=="linux"&&k.platform!=="sunos"||(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var L=k.comment||this.comment||"";q=m.generateWorker(this,k,L)}catch(B){(q=new u("error")).error(B)}return new d(q,k.type||"string",k.mimeType)},generateAsync:function(F,q){return this.generateInternalStream(F).accumulate(q)},generateNodeStream:function(F,q){return(F=F||{}).type||(F.type="nodebuffer"),this.generateInternalStream(F).toNodejsStream(q)}};r.exports=R},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var a=t("./DataReader");function s(l){a.call(this,l);for(var u=0;u<this.data.length;u++)l[u]=255&l[u]}t("../utils").inherits(s,a),s.prototype.byteAt=function(l){return this.data[this.zero+l]},s.prototype.lastIndexOfSignature=function(l){for(var u=l.charCodeAt(0),d=l.charCodeAt(1),f=l.charCodeAt(2),g=l.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===u&&this.data[b+1]===d&&this.data[b+2]===f&&this.data[b+3]===g)return b-this.zero;return-1},s.prototype.readAndCheckSignature=function(l){var u=l.charCodeAt(0),d=l.charCodeAt(1),f=l.charCodeAt(2),g=l.charCodeAt(3),b=this.readData(4);return u===b[0]&&d===b[1]&&f===b[2]&&g===b[3]},s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var a=t("../utils");function s(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var u,d=0;for(this.checkOffset(l),u=this.index+l-1;u>=this.index;u--)d=(d<<8)+this.byteAt(u);return this.index+=l,d},readString:function(l){return a.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=s},{"../utils":32}],19:[function(t,r,i){var a=t("./Uint8ArrayReader");function s(l){a.call(this,l)}t("../utils").inherits(s,a),s.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var a=t("./DataReader");function s(l){a.call(this,l)}t("../utils").inherits(s,a),s.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},s.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},s.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},s.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var a=t("./ArrayReader");function s(l){a.call(this,l)}t("../utils").inherits(s,a),s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var a=t("../utils"),s=t("../support"),l=t("./ArrayReader"),u=t("./StringReader"),d=t("./NodeBufferReader"),f=t("./Uint8ArrayReader");r.exports=function(g){var b=a.getTypeOf(g);return a.checkSupport(b),b!=="string"||s.uint8array?b==="nodebuffer"?new d(g):s.uint8array?new f(a.transformTo("uint8array",g)):new l(a.transformTo("array",g)):new u(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var a=t("./GenericWorker"),s=t("../utils");function l(u){a.call(this,"ConvertWorker to "+u),this.destType=u}s.inherits(l,a),l.prototype.processChunk=function(u){this.push({data:s.transformTo(this.destType,u.data),meta:u.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var a=t("./GenericWorker"),s=t("../crc32");function l(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,a),l.prototype.processChunk=function(u){this.streamInfo.crc32=s(u.data,this.streamInfo.crc32||0),this.push(u)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var a=t("../utils"),s=t("./GenericWorker");function l(u){s.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}a.inherits(l,s),l.prototype.processChunk=function(u){if(u){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+u.data.length}s.prototype.processChunk.call(this,u)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var a=t("../utils"),s=t("./GenericWorker");function l(u){s.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(f){d.dataIsReady=!0,d.data=f,d.max=f&&f.length||0,d.type=a.getTypeOf(f),d.isPaused||d._tickAndRepeat()},function(f){d.error(f)})}a.inherits(l,s),l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,d);break;case"uint8array":u=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":u=this.data.slice(this.index,d)}return this.index=d,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,l){return this._listeners[s].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,l){if(this._listeners[s])for(var u=0;u<this._listeners[s].length;u++)this._listeners[s][u].call(this,l)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var l=this;return s.on("data",function(u){l.processChunk(u)}),s.on("end",function(){l.end()}),s.on("error",function(u){l.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,l){return this.extraStreamInfo[s]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(t,r,i){var a=t("../utils"),s=t("./ConvertWorker"),l=t("./GenericWorker"),u=t("../base64"),d=t("../support"),f=t("../external"),g=null;if(d.nodestream)try{g=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(x,y){return new f.Promise(function(A,w){var C=[],N=x._internalType,R=x._outputType,F=x._mimeType;x.on("data",function(q,k){C.push(q),y&&y(k)}).on("error",function(q){C=[],w(q)}).on("end",function(){try{var q=function(k,L,B){switch(k){case"blob":return a.newBlob(a.transformTo("arraybuffer",L),B);case"base64":return u.encode(L);default:return a.transformTo(k,L)}}(R,function(k,L){var B,X=0,T=null,O=0;for(B=0;B<L.length;B++)O+=L[B].length;switch(k){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(T=new Uint8Array(O),B=0;B<L.length;B++)T.set(L[B],X),X+=L[B].length;return T;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+k+"'")}}(N,C),F);A(q)}catch(k){w(k)}C=[]}).resume()})}function m(x,y,A){var w=y;switch(y){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=y,this._mimeType=A,a.checkSupport(w),this._worker=x.pipe(new s(w)),x.lock()}catch(C){this._worker=new l("error"),this._worker.error(C)}}m.prototype={accumulate:function(x){return b(this,x)},on:function(x,y){var A=this;return x==="data"?this._worker.on(x,function(w){y.call(A,w.data,w.meta)}):this._worker.on(x,function(){a.delay(y,arguments,A)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},x)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var a=t("./utils"),s=t("./support"),l=t("./nodejsUtils"),u=t("./stream/GenericWorker"),d=new Array(256),f=0;f<256;f++)d[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;d[254]=d[254]=1;function g(){u.call(this,"utf-8 decode"),this.leftOver=null}function b(){u.call(this,"utf-8 encode")}i.utf8encode=function(m){return s.nodebuffer?l.newBufferFrom(m,"utf-8"):function(x){var y,A,w,C,N,R=x.length,F=0;for(C=0;C<R;C++)(64512&(A=x.charCodeAt(C)))==55296&&C+1<R&&(64512&(w=x.charCodeAt(C+1)))==56320&&(A=65536+(A-55296<<10)+(w-56320),C++),F+=A<128?1:A<2048?2:A<65536?3:4;for(y=s.uint8array?new Uint8Array(F):new Array(F),C=N=0;N<F;C++)(64512&(A=x.charCodeAt(C)))==55296&&C+1<R&&(64512&(w=x.charCodeAt(C+1)))==56320&&(A=65536+(A-55296<<10)+(w-56320),C++),A<128?y[N++]=A:(A<2048?y[N++]=192|A>>>6:(A<65536?y[N++]=224|A>>>12:(y[N++]=240|A>>>18,y[N++]=128|A>>>12&63),y[N++]=128|A>>>6&63),y[N++]=128|63&A);return y}(m)},i.utf8decode=function(m){return s.nodebuffer?a.transformTo("nodebuffer",m).toString("utf-8"):function(x){var y,A,w,C,N=x.length,R=new Array(2*N);for(y=A=0;y<N;)if((w=x[y++])<128)R[A++]=w;else if(4<(C=d[w]))R[A++]=65533,y+=C-1;else{for(w&=C===2?31:C===3?15:7;1<C&&y<N;)w=w<<6|63&x[y++],C--;1<C?R[A++]=65533:w<65536?R[A++]=w:(w-=65536,R[A++]=55296|w>>10&1023,R[A++]=56320|1023&w)}return R.length!==A&&(R.subarray?R=R.subarray(0,A):R.length=A),a.applyFromCharCode(R)}(m=a.transformTo(s.uint8array?"uint8array":"array",m))},a.inherits(g,u),g.prototype.processChunk=function(m){var x=a.transformTo(s.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var y=x;(x=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),x.set(y,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var A=function(C,N){var R;for((N=N||C.length)>C.length&&(N=C.length),R=N-1;0<=R&&(192&C[R])==128;)R--;return R<0||R===0?N:R+d[C[R]]>N?R:N}(x),w=x;A!==x.length&&(s.uint8array?(w=x.subarray(0,A),this.leftOver=x.subarray(A,x.length)):(w=x.slice(0,A),this.leftOver=x.slice(A,x.length))),this.push({data:i.utf8decode(w),meta:m.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=g,a.inherits(b,u),b.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var a=t("./support"),s=t("./base64"),l=t("./nodejsUtils"),u=t("./external");function d(y){return y}function f(y,A){for(var w=0;w<y.length;++w)A[w]=255&y.charCodeAt(w);return A}t("setimmediate"),i.newBlob=function(y,A){i.checkSupport("blob");try{return new Blob([y],{type:A})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(y),w.getBlob(A)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(y,A,w){var C=[],N=0,R=y.length;if(R<=w)return String.fromCharCode.apply(null,y);for(;N<R;)A==="array"||A==="nodebuffer"?C.push(String.fromCharCode.apply(null,y.slice(N,Math.min(N+w,R)))):C.push(String.fromCharCode.apply(null,y.subarray(N,Math.min(N+w,R)))),N+=w;return C.join("")},stringifyByChar:function(y){for(var A="",w=0;w<y.length;w++)A+=String.fromCharCode(y[w]);return A},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function b(y){var A=65536,w=i.getTypeOf(y),C=!0;if(w==="uint8array"?C=g.applyCanBeUsed.uint8array:w==="nodebuffer"&&(C=g.applyCanBeUsed.nodebuffer),C)for(;1<A;)try{return g.stringifyByChunk(y,w,A)}catch{A=Math.floor(A/2)}return g.stringifyByChar(y)}function m(y,A){for(var w=0;w<y.length;w++)A[w]=y[w];return A}i.applyFromCharCode=b;var x={};x.string={string:d,array:function(y){return f(y,new Array(y.length))},arraybuffer:function(y){return x.string.uint8array(y).buffer},uint8array:function(y){return f(y,new Uint8Array(y.length))},nodebuffer:function(y){return f(y,l.allocBuffer(y.length))}},x.array={string:b,array:d,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(y)}},x.arraybuffer={string:function(y){return b(new Uint8Array(y))},array:function(y){return m(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:d,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(new Uint8Array(y))}},x.uint8array={string:b,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:d,nodebuffer:function(y){return l.newBufferFrom(y)}},x.nodebuffer={string:b,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return x.nodebuffer.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:d},i.transformTo=function(y,A){if(A=A||"",!y)return A;i.checkSupport(y);var w=i.getTypeOf(A);return x[w][y](A)},i.resolve=function(y){for(var A=y.split("/"),w=[],C=0;C<A.length;C++){var N=A[C];N==="."||N===""&&C!==0&&C!==A.length-1||(N===".."?w.pop():w.push(N))}return w.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":a.nodebuffer&&l.isBuffer(y)?"nodebuffer":a.uint8array&&y instanceof Uint8Array?"uint8array":a.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!a[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var A,w,C="";for(w=0;w<(y||"").length;w++)C+="\\x"+((A=y.charCodeAt(w))<16?"0":"")+A.toString(16).toUpperCase();return C},i.delay=function(y,A,w){setImmediate(function(){y.apply(w||null,A||[])})},i.inherits=function(y,A){function w(){}w.prototype=A.prototype,y.prototype=new w},i.extend=function(){var y,A,w={};for(y=0;y<arguments.length;y++)for(A in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],A)&&w[A]===void 0&&(w[A]=arguments[y][A]);return w},i.prepareContent=function(y,A,w,C,N){return u.Promise.resolve(A).then(function(R){return a.blob&&(R instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(R))!==-1)&&typeof FileReader<"u"?new u.Promise(function(F,q){var k=new FileReader;k.onload=function(L){F(L.target.result)},k.onerror=function(L){q(L.target.error)},k.readAsArrayBuffer(R)}):R}).then(function(R){var F=i.getTypeOf(R);return F?(F==="arraybuffer"?R=i.transformTo("uint8array",R):F==="string"&&(N?R=s.decode(R):w&&C!==!0&&(R=function(q){return f(q,a.uint8array?new Uint8Array(q.length):new Array(q.length))}(R))),R):u.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var a=t("./reader/readerFor"),s=t("./utils"),l=t("./signature"),u=t("./zipEntry"),d=t("./support");function f(g){this.files=[],this.loadOptions=g}f.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(b)+", expected "+s.pretty(g)+")")}},isSignature:function(g,b){var m=this.reader.index;this.reader.setIndex(g);var x=this.reader.readString(4)===b;return this.reader.setIndex(m),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),b=d.uint8array?"uint8array":"array",m=s.transformTo(b,g);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,b,m,x=this.zip64EndOfCentralSize-44;0<x;)g=this.reader.readInt(2),b=this.reader.readInt(4),m=this.reader.readData(b),this.zip64ExtensibleData[g]={id:g,length:b,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,b;for(g=0;g<this.files.length;g++)b=this.files[g],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(g=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var b=g;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var x=b-m;if(0<x)this.isSignature(b,l.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(g){this.reader=a(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var a=t("./reader/readerFor"),s=t("./utils"),l=t("./compressedObject"),u=t("./crc32"),d=t("./utf8"),f=t("./compressions"),g=t("./support");function b(m,x){this.options=m,this.loadOptions=x}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var x,y;if(m.skip(22),this.fileNameLength=m.readInt(2),y=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(A){for(var w in f)if(Object.prototype.hasOwnProperty.call(f,w)&&f[w].magic===A)return f[w];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,x,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var x=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(x),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var x,y,A,w=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<w;)x=m.readInt(2),y=m.readInt(2),A=m.readData(y),this.extraFields[x]={id:x,length:y,value:A};m.setIndex(w)},handleUTF8:function(){var m=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var y=s.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var A=this.findExtraFieldUnicodeComment();if(A!==null)this.fileCommentStr=A;else{var w=s.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var x=a(m.value);return x.readInt(1)!==1||u(this.fileName)!==x.readInt(4)?null:d.utf8decode(x.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var x=a(m.value);return x.readInt(1)!==1||u(this.fileComment)!==x.readInt(4)?null:d.utf8decode(x.readData(m.length-5))}return null}},r.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function a(x,y,A){this.name=x,this.dir=A.dir,this.date=A.date,this.comment=A.comment,this.unixPermissions=A.unixPermissions,this.dosPermissions=A.dosPermissions,this._data=y,this._dataBinary=A.binary,this.options={compression:A.compression,compressionOptions:A.compressionOptions}}var s=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),u=t("./utf8"),d=t("./compressedObject"),f=t("./stream/GenericWorker");a.prototype={internalStream:function(x){var y=null,A="string";try{if(!x)throw new Error("No output type specified.");var w=(A=x.toLowerCase())==="string"||A==="text";A!=="binarystring"&&A!=="text"||(A="string"),y=this._decompressWorker();var C=!this._dataBinary;C&&!w&&(y=y.pipe(new u.Utf8EncodeWorker)),!C&&w&&(y=y.pipe(new u.Utf8DecodeWorker))}catch(N){(y=new f("error")).error(N)}return new s(y,A,"")},async:function(x,y){return this.internalStream(x).accumulate(y)},nodeStream:function(x,y){return this.internalStream(x||"nodebuffer").toNodejsStream(y)},_compressWorker:function(x,y){if(this._data instanceof d&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var A=this._decompressWorker();return this._dataBinary||(A=A.pipe(new u.Utf8EncodeWorker)),d.createWorkerFrom(A,x,y)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof f?this._data:new l(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<g.length;m++)a.prototype[g[m]]=b;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(a){var s,l,u=a.MutationObserver||a.WebKitMutationObserver;if(u){var d=0,f=new u(x),g=a.document.createTextNode("");f.observe(g,{characterData:!0}),s=function(){g.data=d=++d%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var y=a.document.createElement("script");y.onreadystatechange=function(){x(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},a.document.documentElement.appendChild(y)}:function(){setTimeout(x,0)};else{var b=new a.MessageChannel;b.port1.onmessage=x,s=function(){b.port2.postMessage(0)}}var m=[];function x(){var y,A;l=!0;for(var w=m.length;w;){for(A=m,m=[],y=-1;++y<w;)A[y]();w=m.length}l=!1}r.exports=function(y){m.push(y)!==1||l||s()}}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var a=t("immediate");function s(){}var l={},u=["REJECTED"],d=["FULFILLED"],f=["PENDING"];function g(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,w!==s&&y(this,w)}function b(w,C,N){this.promise=w,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}function m(w,C,N){a(function(){var R;try{R=C(N)}catch(F){return l.reject(w,F)}R===w?l.reject(w,new TypeError("Cannot resolve promise with itself")):l.resolve(w,R)})}function x(w){var C=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof C=="function")return function(){C.apply(w,arguments)}}function y(w,C){var N=!1;function R(k){N||(N=!0,l.reject(w,k))}function F(k){N||(N=!0,l.resolve(w,k))}var q=A(function(){C(F,R)});q.status==="error"&&R(q.value)}function A(w,C){var N={};try{N.value=w(C),N.status="success"}catch(R){N.status="error",N.value=R}return N}(r.exports=g).prototype.finally=function(w){if(typeof w!="function")return this;var C=this.constructor;return this.then(function(N){return C.resolve(w()).then(function(){return N})},function(N){return C.resolve(w()).then(function(){throw N})})},g.prototype.catch=function(w){return this.then(null,w)},g.prototype.then=function(w,C){if(typeof w!="function"&&this.state===d||typeof C!="function"&&this.state===u)return this;var N=new this.constructor(s);return this.state!==f?m(N,this.state===d?w:C,this.outcome):this.queue.push(new b(N,w,C)),N},b.prototype.callFulfilled=function(w){l.resolve(this.promise,w)},b.prototype.otherCallFulfilled=function(w){m(this.promise,this.onFulfilled,w)},b.prototype.callRejected=function(w){l.reject(this.promise,w)},b.prototype.otherCallRejected=function(w){m(this.promise,this.onRejected,w)},l.resolve=function(w,C){var N=A(x,C);if(N.status==="error")return l.reject(w,N.value);var R=N.value;if(R)y(w,R);else{w.state=d,w.outcome=C;for(var F=-1,q=w.queue.length;++F<q;)w.queue[F].callFulfilled(C)}return w},l.reject=function(w,C){w.state=u,w.outcome=C;for(var N=-1,R=w.queue.length;++N<R;)w.queue[N].callRejected(C);return w},g.resolve=function(w){return w instanceof this?w:l.resolve(new this(s),w)},g.reject=function(w){var C=new this(s);return l.reject(C,w)},g.all=function(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=w.length,R=!1;if(!N)return this.resolve([]);for(var F=new Array(N),q=0,k=-1,L=new this(s);++k<N;)B(w[k],k);return L;function B(X,T){C.resolve(X).then(function(O){F[T]=O,++q!==N||R||(R=!0,l.resolve(L,F))},function(O){R||(R=!0,l.reject(L,O))})}},g.race=function(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=w.length,R=!1;if(!N)return this.resolve([]);for(var F=-1,q=new this(s);++F<N;)k=w[F],C.resolve(k).then(function(L){R||(R=!0,l.resolve(q,L))},function(L){R||(R=!0,l.reject(q,L))});var k;return q}},{immediate:36}],38:[function(t,r,i){var a={};(0,t("./lib/utils/common").assign)(a,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var a=t("./zlib/deflate"),s=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/messages"),d=t("./zlib/zstream"),f=Object.prototype.toString,g=0,b=-1,m=0,x=8;function y(w){if(!(this instanceof y))return new y(w);this.options=s.assign({level:b,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},w||{});var C=this.options;C.raw&&0<C.windowBits?C.windowBits=-C.windowBits:C.gzip&&0<C.windowBits&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var N=a.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(N!==g)throw new Error(u[N]);if(C.header&&a.deflateSetHeader(this.strm,C.header),C.dictionary){var R;if(R=typeof C.dictionary=="string"?l.string2buf(C.dictionary):f.call(C.dictionary)==="[object ArrayBuffer]"?new Uint8Array(C.dictionary):C.dictionary,(N=a.deflateSetDictionary(this.strm,R))!==g)throw new Error(u[N]);this._dict_set=!0}}function A(w,C){var N=new y(C);if(N.push(w,!0),N.err)throw N.msg||u[N.err];return N.result}y.prototype.push=function(w,C){var N,R,F=this.strm,q=this.options.chunkSize;if(this.ended)return!1;R=C===~~C?C:C===!0?4:0,typeof w=="string"?F.input=l.string2buf(w):f.call(w)==="[object ArrayBuffer]"?F.input=new Uint8Array(w):F.input=w,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new s.Buf8(q),F.next_out=0,F.avail_out=q),(N=a.deflate(F,R))!==1&&N!==g)return this.onEnd(N),!(this.ended=!0);F.avail_out!==0&&(F.avail_in!==0||R!==4&&R!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(s.shrinkBuf(F.output,F.next_out))):this.onData(s.shrinkBuf(F.output,F.next_out)))}while((0<F.avail_in||F.avail_out===0)&&N!==1);return R===4?(N=a.deflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===g):R!==2||(this.onEnd(g),!(F.avail_out=0))},y.prototype.onData=function(w){this.chunks.push(w)},y.prototype.onEnd=function(w){w===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Deflate=y,i.deflate=A,i.deflateRaw=function(w,C){return(C=C||{}).raw=!0,A(w,C)},i.gzip=function(w,C){return(C=C||{}).gzip=!0,A(w,C)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var a=t("./zlib/inflate"),s=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/constants"),d=t("./zlib/messages"),f=t("./zlib/zstream"),g=t("./zlib/gzheader"),b=Object.prototype.toString;function m(y){if(!(this instanceof m))return new m(y);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},y||{});var A=this.options;A.raw&&0<=A.windowBits&&A.windowBits<16&&(A.windowBits=-A.windowBits,A.windowBits===0&&(A.windowBits=-15)),!(0<=A.windowBits&&A.windowBits<16)||y&&y.windowBits||(A.windowBits+=32),15<A.windowBits&&A.windowBits<48&&(15&A.windowBits)==0&&(A.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var w=a.inflateInit2(this.strm,A.windowBits);if(w!==u.Z_OK)throw new Error(d[w]);this.header=new g,a.inflateGetHeader(this.strm,this.header)}function x(y,A){var w=new m(A);if(w.push(y,!0),w.err)throw w.msg||d[w.err];return w.result}m.prototype.push=function(y,A){var w,C,N,R,F,q,k=this.strm,L=this.options.chunkSize,B=this.options.dictionary,X=!1;if(this.ended)return!1;C=A===~~A?A:A===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof y=="string"?k.input=l.binstring2buf(y):b.call(y)==="[object ArrayBuffer]"?k.input=new Uint8Array(y):k.input=y,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new s.Buf8(L),k.next_out=0,k.avail_out=L),(w=a.inflate(k,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&B&&(q=typeof B=="string"?l.string2buf(B):b.call(B)==="[object ArrayBuffer]"?new Uint8Array(B):B,w=a.inflateSetDictionary(this.strm,q)),w===u.Z_BUF_ERROR&&X===!0&&(w=u.Z_OK,X=!1),w!==u.Z_STREAM_END&&w!==u.Z_OK)return this.onEnd(w),!(this.ended=!0);k.next_out&&(k.avail_out!==0&&w!==u.Z_STREAM_END&&(k.avail_in!==0||C!==u.Z_FINISH&&C!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(N=l.utf8border(k.output,k.next_out),R=k.next_out-N,F=l.buf2string(k.output,N),k.next_out=R,k.avail_out=L-R,R&&s.arraySet(k.output,k.output,N,R,0),this.onData(F)):this.onData(s.shrinkBuf(k.output,k.next_out)))),k.avail_in===0&&k.avail_out===0&&(X=!0)}while((0<k.avail_in||k.avail_out===0)&&w!==u.Z_STREAM_END);return w===u.Z_STREAM_END&&(C=u.Z_FINISH),C===u.Z_FINISH?(w=a.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===u.Z_OK):C!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(k.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=m,i.inflate=x,i.inflateRaw=function(y,A){return(A=A||{}).raw=!0,x(y,A)},i.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var f=d.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var g in f)f.hasOwnProperty(g)&&(u[g]=f[g])}}return u},i.shrinkBuf=function(u,d){return u.length===d?u:u.subarray?u.subarray(0,d):(u.length=d,u)};var s={arraySet:function(u,d,f,g,b){if(d.subarray&&u.subarray)u.set(d.subarray(f,f+g),b);else for(var m=0;m<g;m++)u[b+m]=d[f+m]},flattenChunks:function(u){var d,f,g,b,m,x;for(d=g=0,f=u.length;d<f;d++)g+=u[d].length;for(x=new Uint8Array(g),d=b=0,f=u.length;d<f;d++)m=u[d],x.set(m,b),b+=m.length;return x}},l={arraySet:function(u,d,f,g,b){for(var m=0;m<g;m++)u[b+m]=d[f+m]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(a)},{}],42:[function(t,r,i){var a=t("./common"),s=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var u=new a.Buf8(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function f(g,b){if(b<65537&&(g.subarray&&l||!g.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(g,b));for(var m="",x=0;x<b;x++)m+=String.fromCharCode(g[x]);return m}u[254]=u[254]=1,i.string2buf=function(g){var b,m,x,y,A,w=g.length,C=0;for(y=0;y<w;y++)(64512&(m=g.charCodeAt(y)))==55296&&y+1<w&&(64512&(x=g.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(x-56320),y++),C+=m<128?1:m<2048?2:m<65536?3:4;for(b=new a.Buf8(C),y=A=0;A<C;y++)(64512&(m=g.charCodeAt(y)))==55296&&y+1<w&&(64512&(x=g.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(x-56320),y++),m<128?b[A++]=m:(m<2048?b[A++]=192|m>>>6:(m<65536?b[A++]=224|m>>>12:(b[A++]=240|m>>>18,b[A++]=128|m>>>12&63),b[A++]=128|m>>>6&63),b[A++]=128|63&m);return b},i.buf2binstring=function(g){return f(g,g.length)},i.binstring2buf=function(g){for(var b=new a.Buf8(g.length),m=0,x=b.length;m<x;m++)b[m]=g.charCodeAt(m);return b},i.buf2string=function(g,b){var m,x,y,A,w=b||g.length,C=new Array(2*w);for(m=x=0;m<w;)if((y=g[m++])<128)C[x++]=y;else if(4<(A=u[y]))C[x++]=65533,m+=A-1;else{for(y&=A===2?31:A===3?15:7;1<A&&m<w;)y=y<<6|63&g[m++],A--;1<A?C[x++]=65533:y<65536?C[x++]=y:(y-=65536,C[x++]=55296|y>>10&1023,C[x++]=56320|1023&y)}return f(C,x)},i.utf8border=function(g,b){var m;for((b=b||g.length)>g.length&&(b=g.length),m=b-1;0<=m&&(192&g[m])==128;)m--;return m<0||m===0?b:m+u[g[m]]>b?m:b}},{"./common":41}],43:[function(t,r,i){r.exports=function(a,s,l,u){for(var d=65535&a|0,f=a>>>16&65535|0,g=0;l!==0;){for(l-=g=2e3<l?2e3:l;f=f+(d=d+s[u++]|0)|0,--g;);d%=65521,f%=65521}return d|f<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var a=function(){for(var s,l=[],u=0;u<256;u++){s=u;for(var d=0;d<8;d++)s=1&s?3988292384^s>>>1:s>>>1;l[u]=s}return l}();r.exports=function(s,l,u,d){var f=a,g=d+u;s^=-1;for(var b=d;b<g;b++)s=s>>>8^f[255&(s^l[b])];return-1^s}},{}],46:[function(t,r,i){var a,s=t("../utils/common"),l=t("./trees"),u=t("./adler32"),d=t("./crc32"),f=t("./messages"),g=0,b=4,m=0,x=-2,y=-1,A=4,w=2,C=8,N=9,R=286,F=30,q=19,k=2*R+1,L=15,B=3,X=258,T=X+B+1,O=42,P=113,j=1,G=2,W=3,K=4;function ie(Y,Se){return Y.msg=f[Se],Se}function ce(Y){return(Y<<1)-(4<Y?9:0)}function $(Y){for(var Se=Y.length;0<=--Se;)Y[Se]=0}function ae(Y){var Se=Y.state,te=Se.pending;te>Y.avail_out&&(te=Y.avail_out),te!==0&&(s.arraySet(Y.output,Se.pending_buf,Se.pending_out,te,Y.next_out),Y.next_out+=te,Se.pending_out+=te,Y.total_out+=te,Y.avail_out-=te,Se.pending-=te,Se.pending===0&&(Se.pending_out=0))}function U(Y,Se){l._tr_flush_block(Y,0<=Y.block_start?Y.block_start:-1,Y.strstart-Y.block_start,Se),Y.block_start=Y.strstart,ae(Y.strm)}function z(Y,Se){Y.pending_buf[Y.pending++]=Se}function Z(Y,Se){Y.pending_buf[Y.pending++]=Se>>>8&255,Y.pending_buf[Y.pending++]=255&Se}function ee(Y,Se){var te,be,de=Y.max_chain_length,Ae=Y.strstart,Le=Y.prev_length,qe=Y.nice_match,Ne=Y.strstart>Y.w_size-T?Y.strstart-(Y.w_size-T):0,Xe=Y.window,ut=Y.w_mask,nt=Y.prev,Pe=Y.strstart+X,ve=Xe[Ae+Le-1],ke=Xe[Ae+Le];Y.prev_length>=Y.good_match&&(de>>=2),qe>Y.lookahead&&(qe=Y.lookahead);do if(Xe[(te=Se)+Le]===ke&&Xe[te+Le-1]===ve&&Xe[te]===Xe[Ae]&&Xe[++te]===Xe[Ae+1]){Ae+=2,te++;do;while(Xe[++Ae]===Xe[++te]&&Xe[++Ae]===Xe[++te]&&Xe[++Ae]===Xe[++te]&&Xe[++Ae]===Xe[++te]&&Xe[++Ae]===Xe[++te]&&Xe[++Ae]===Xe[++te]&&Xe[++Ae]===Xe[++te]&&Xe[++Ae]===Xe[++te]&&Ae<Pe);if(be=X-(Pe-Ae),Ae=Pe-X,Le<be){if(Y.match_start=Se,qe<=(Le=be))break;ve=Xe[Ae+Le-1],ke=Xe[Ae+Le]}}while((Se=nt[Se&ut])>Ne&&--de!=0);return Le<=Y.lookahead?Le:Y.lookahead}function oe(Y){var Se,te,be,de,Ae,Le,qe,Ne,Xe,ut,nt=Y.w_size;do{if(de=Y.window_size-Y.lookahead-Y.strstart,Y.strstart>=nt+(nt-T)){for(s.arraySet(Y.window,Y.window,nt,nt,0),Y.match_start-=nt,Y.strstart-=nt,Y.block_start-=nt,Se=te=Y.hash_size;be=Y.head[--Se],Y.head[Se]=nt<=be?be-nt:0,--te;);for(Se=te=nt;be=Y.prev[--Se],Y.prev[Se]=nt<=be?be-nt:0,--te;);de+=nt}if(Y.strm.avail_in===0)break;if(Le=Y.strm,qe=Y.window,Ne=Y.strstart+Y.lookahead,Xe=de,ut=void 0,ut=Le.avail_in,Xe<ut&&(ut=Xe),te=ut===0?0:(Le.avail_in-=ut,s.arraySet(qe,Le.input,Le.next_in,ut,Ne),Le.state.wrap===1?Le.adler=u(Le.adler,qe,ut,Ne):Le.state.wrap===2&&(Le.adler=d(Le.adler,qe,ut,Ne)),Le.next_in+=ut,Le.total_in+=ut,ut),Y.lookahead+=te,Y.lookahead+Y.insert>=B)for(Ae=Y.strstart-Y.insert,Y.ins_h=Y.window[Ae],Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Ae+1])&Y.hash_mask;Y.insert&&(Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Ae+B-1])&Y.hash_mask,Y.prev[Ae&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Ae,Ae++,Y.insert--,!(Y.lookahead+Y.insert<B)););}while(Y.lookahead<T&&Y.strm.avail_in!==0)}function we(Y,Se){for(var te,be;;){if(Y.lookahead<T){if(oe(Y),Y.lookahead<T&&Se===g)return j;if(Y.lookahead===0)break}if(te=0,Y.lookahead>=B&&(Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Y.strstart+B-1])&Y.hash_mask,te=Y.prev[Y.strstart&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Y.strstart),te!==0&&Y.strstart-te<=Y.w_size-T&&(Y.match_length=ee(Y,te)),Y.match_length>=B)if(be=l._tr_tally(Y,Y.strstart-Y.match_start,Y.match_length-B),Y.lookahead-=Y.match_length,Y.match_length<=Y.max_lazy_match&&Y.lookahead>=B){for(Y.match_length--;Y.strstart++,Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Y.strstart+B-1])&Y.hash_mask,te=Y.prev[Y.strstart&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Y.strstart,--Y.match_length!=0;);Y.strstart++}else Y.strstart+=Y.match_length,Y.match_length=0,Y.ins_h=Y.window[Y.strstart],Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Y.strstart+1])&Y.hash_mask;else be=l._tr_tally(Y,0,Y.window[Y.strstart]),Y.lookahead--,Y.strstart++;if(be&&(U(Y,!1),Y.strm.avail_out===0))return j}return Y.insert=Y.strstart<B-1?Y.strstart:B-1,Se===b?(U(Y,!0),Y.strm.avail_out===0?W:K):Y.last_lit&&(U(Y,!1),Y.strm.avail_out===0)?j:G}function xe(Y,Se){for(var te,be,de;;){if(Y.lookahead<T){if(oe(Y),Y.lookahead<T&&Se===g)return j;if(Y.lookahead===0)break}if(te=0,Y.lookahead>=B&&(Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Y.strstart+B-1])&Y.hash_mask,te=Y.prev[Y.strstart&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Y.strstart),Y.prev_length=Y.match_length,Y.prev_match=Y.match_start,Y.match_length=B-1,te!==0&&Y.prev_length<Y.max_lazy_match&&Y.strstart-te<=Y.w_size-T&&(Y.match_length=ee(Y,te),Y.match_length<=5&&(Y.strategy===1||Y.match_length===B&&4096<Y.strstart-Y.match_start)&&(Y.match_length=B-1)),Y.prev_length>=B&&Y.match_length<=Y.prev_length){for(de=Y.strstart+Y.lookahead-B,be=l._tr_tally(Y,Y.strstart-1-Y.prev_match,Y.prev_length-B),Y.lookahead-=Y.prev_length-1,Y.prev_length-=2;++Y.strstart<=de&&(Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Y.strstart+B-1])&Y.hash_mask,te=Y.prev[Y.strstart&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Y.strstart),--Y.prev_length!=0;);if(Y.match_available=0,Y.match_length=B-1,Y.strstart++,be&&(U(Y,!1),Y.strm.avail_out===0))return j}else if(Y.match_available){if((be=l._tr_tally(Y,0,Y.window[Y.strstart-1]))&&U(Y,!1),Y.strstart++,Y.lookahead--,Y.strm.avail_out===0)return j}else Y.match_available=1,Y.strstart++,Y.lookahead--}return Y.match_available&&(be=l._tr_tally(Y,0,Y.window[Y.strstart-1]),Y.match_available=0),Y.insert=Y.strstart<B-1?Y.strstart:B-1,Se===b?(U(Y,!0),Y.strm.avail_out===0?W:K):Y.last_lit&&(U(Y,!1),Y.strm.avail_out===0)?j:G}function Ee(Y,Se,te,be,de){this.good_length=Y,this.max_lazy=Se,this.nice_length=te,this.max_chain=be,this.func=de}function De(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*k),this.dyn_dtree=new s.Buf16(2*(2*F+1)),this.bl_tree=new s.Buf16(2*(2*q+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(L+1),this.heap=new s.Buf16(2*R+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*R+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Me(Y){var Se;return Y&&Y.state?(Y.total_in=Y.total_out=0,Y.data_type=w,(Se=Y.state).pending=0,Se.pending_out=0,Se.wrap<0&&(Se.wrap=-Se.wrap),Se.status=Se.wrap?O:P,Y.adler=Se.wrap===2?0:1,Se.last_flush=g,l._tr_init(Se),m):ie(Y,x)}function We(Y){var Se=Me(Y);return Se===m&&function(te){te.window_size=2*te.w_size,$(te.head),te.max_lazy_match=a[te.level].max_lazy,te.good_match=a[te.level].good_length,te.nice_match=a[te.level].nice_length,te.max_chain_length=a[te.level].max_chain,te.strstart=0,te.block_start=0,te.lookahead=0,te.insert=0,te.match_length=te.prev_length=B-1,te.match_available=0,te.ins_h=0}(Y.state),Se}function Ye(Y,Se,te,be,de,Ae){if(!Y)return x;var Le=1;if(Se===y&&(Se=6),be<0?(Le=0,be=-be):15<be&&(Le=2,be-=16),de<1||N<de||te!==C||be<8||15<be||Se<0||9<Se||Ae<0||A<Ae)return ie(Y,x);be===8&&(be=9);var qe=new De;return(Y.state=qe).strm=Y,qe.wrap=Le,qe.gzhead=null,qe.w_bits=be,qe.w_size=1<<qe.w_bits,qe.w_mask=qe.w_size-1,qe.hash_bits=de+7,qe.hash_size=1<<qe.hash_bits,qe.hash_mask=qe.hash_size-1,qe.hash_shift=~~((qe.hash_bits+B-1)/B),qe.window=new s.Buf8(2*qe.w_size),qe.head=new s.Buf16(qe.hash_size),qe.prev=new s.Buf16(qe.w_size),qe.lit_bufsize=1<<de+6,qe.pending_buf_size=4*qe.lit_bufsize,qe.pending_buf=new s.Buf8(qe.pending_buf_size),qe.d_buf=1*qe.lit_bufsize,qe.l_buf=3*qe.lit_bufsize,qe.level=Se,qe.strategy=Ae,qe.method=te,We(Y)}a=[new Ee(0,0,0,0,function(Y,Se){var te=65535;for(te>Y.pending_buf_size-5&&(te=Y.pending_buf_size-5);;){if(Y.lookahead<=1){if(oe(Y),Y.lookahead===0&&Se===g)return j;if(Y.lookahead===0)break}Y.strstart+=Y.lookahead,Y.lookahead=0;var be=Y.block_start+te;if((Y.strstart===0||Y.strstart>=be)&&(Y.lookahead=Y.strstart-be,Y.strstart=be,U(Y,!1),Y.strm.avail_out===0)||Y.strstart-Y.block_start>=Y.w_size-T&&(U(Y,!1),Y.strm.avail_out===0))return j}return Y.insert=0,Se===b?(U(Y,!0),Y.strm.avail_out===0?W:K):(Y.strstart>Y.block_start&&(U(Y,!1),Y.strm.avail_out),j)}),new Ee(4,4,8,4,we),new Ee(4,5,16,8,we),new Ee(4,6,32,32,we),new Ee(4,4,16,16,xe),new Ee(8,16,32,32,xe),new Ee(8,16,128,128,xe),new Ee(8,32,128,256,xe),new Ee(32,128,258,1024,xe),new Ee(32,258,258,4096,xe)],i.deflateInit=function(Y,Se){return Ye(Y,Se,C,15,8,0)},i.deflateInit2=Ye,i.deflateReset=We,i.deflateResetKeep=Me,i.deflateSetHeader=function(Y,Se){return Y&&Y.state?Y.state.wrap!==2?x:(Y.state.gzhead=Se,m):x},i.deflate=function(Y,Se){var te,be,de,Ae;if(!Y||!Y.state||5<Se||Se<0)return Y?ie(Y,x):x;if(be=Y.state,!Y.output||!Y.input&&Y.avail_in!==0||be.status===666&&Se!==b)return ie(Y,Y.avail_out===0?-5:x);if(be.strm=Y,te=be.last_flush,be.last_flush=Se,be.status===O)if(be.wrap===2)Y.adler=0,z(be,31),z(be,139),z(be,8),be.gzhead?(z(be,(be.gzhead.text?1:0)+(be.gzhead.hcrc?2:0)+(be.gzhead.extra?4:0)+(be.gzhead.name?8:0)+(be.gzhead.comment?16:0)),z(be,255&be.gzhead.time),z(be,be.gzhead.time>>8&255),z(be,be.gzhead.time>>16&255),z(be,be.gzhead.time>>24&255),z(be,be.level===9?2:2<=be.strategy||be.level<2?4:0),z(be,255&be.gzhead.os),be.gzhead.extra&&be.gzhead.extra.length&&(z(be,255&be.gzhead.extra.length),z(be,be.gzhead.extra.length>>8&255)),be.gzhead.hcrc&&(Y.adler=d(Y.adler,be.pending_buf,be.pending,0)),be.gzindex=0,be.status=69):(z(be,0),z(be,0),z(be,0),z(be,0),z(be,0),z(be,be.level===9?2:2<=be.strategy||be.level<2?4:0),z(be,3),be.status=P);else{var Le=C+(be.w_bits-8<<4)<<8;Le|=(2<=be.strategy||be.level<2?0:be.level<6?1:be.level===6?2:3)<<6,be.strstart!==0&&(Le|=32),Le+=31-Le%31,be.status=P,Z(be,Le),be.strstart!==0&&(Z(be,Y.adler>>>16),Z(be,65535&Y.adler)),Y.adler=1}if(be.status===69)if(be.gzhead.extra){for(de=be.pending;be.gzindex<(65535&be.gzhead.extra.length)&&(be.pending!==be.pending_buf_size||(be.gzhead.hcrc&&be.pending>de&&(Y.adler=d(Y.adler,be.pending_buf,be.pending-de,de)),ae(Y),de=be.pending,be.pending!==be.pending_buf_size));)z(be,255&be.gzhead.extra[be.gzindex]),be.gzindex++;be.gzhead.hcrc&&be.pending>de&&(Y.adler=d(Y.adler,be.pending_buf,be.pending-de,de)),be.gzindex===be.gzhead.extra.length&&(be.gzindex=0,be.status=73)}else be.status=73;if(be.status===73)if(be.gzhead.name){de=be.pending;do{if(be.pending===be.pending_buf_size&&(be.gzhead.hcrc&&be.pending>de&&(Y.adler=d(Y.adler,be.pending_buf,be.pending-de,de)),ae(Y),de=be.pending,be.pending===be.pending_buf_size)){Ae=1;break}Ae=be.gzindex<be.gzhead.name.length?255&be.gzhead.name.charCodeAt(be.gzindex++):0,z(be,Ae)}while(Ae!==0);be.gzhead.hcrc&&be.pending>de&&(Y.adler=d(Y.adler,be.pending_buf,be.pending-de,de)),Ae===0&&(be.gzindex=0,be.status=91)}else be.status=91;if(be.status===91)if(be.gzhead.comment){de=be.pending;do{if(be.pending===be.pending_buf_size&&(be.gzhead.hcrc&&be.pending>de&&(Y.adler=d(Y.adler,be.pending_buf,be.pending-de,de)),ae(Y),de=be.pending,be.pending===be.pending_buf_size)){Ae=1;break}Ae=be.gzindex<be.gzhead.comment.length?255&be.gzhead.comment.charCodeAt(be.gzindex++):0,z(be,Ae)}while(Ae!==0);be.gzhead.hcrc&&be.pending>de&&(Y.adler=d(Y.adler,be.pending_buf,be.pending-de,de)),Ae===0&&(be.status=103)}else be.status=103;if(be.status===103&&(be.gzhead.hcrc?(be.pending+2>be.pending_buf_size&&ae(Y),be.pending+2<=be.pending_buf_size&&(z(be,255&Y.adler),z(be,Y.adler>>8&255),Y.adler=0,be.status=P)):be.status=P),be.pending!==0){if(ae(Y),Y.avail_out===0)return be.last_flush=-1,m}else if(Y.avail_in===0&&ce(Se)<=ce(te)&&Se!==b)return ie(Y,-5);if(be.status===666&&Y.avail_in!==0)return ie(Y,-5);if(Y.avail_in!==0||be.lookahead!==0||Se!==g&&be.status!==666){var qe=be.strategy===2?function(Ne,Xe){for(var ut;;){if(Ne.lookahead===0&&(oe(Ne),Ne.lookahead===0)){if(Xe===g)return j;break}if(Ne.match_length=0,ut=l._tr_tally(Ne,0,Ne.window[Ne.strstart]),Ne.lookahead--,Ne.strstart++,ut&&(U(Ne,!1),Ne.strm.avail_out===0))return j}return Ne.insert=0,Xe===b?(U(Ne,!0),Ne.strm.avail_out===0?W:K):Ne.last_lit&&(U(Ne,!1),Ne.strm.avail_out===0)?j:G}(be,Se):be.strategy===3?function(Ne,Xe){for(var ut,nt,Pe,ve,ke=Ne.window;;){if(Ne.lookahead<=X){if(oe(Ne),Ne.lookahead<=X&&Xe===g)return j;if(Ne.lookahead===0)break}if(Ne.match_length=0,Ne.lookahead>=B&&0<Ne.strstart&&(nt=ke[Pe=Ne.strstart-1])===ke[++Pe]&&nt===ke[++Pe]&&nt===ke[++Pe]){ve=Ne.strstart+X;do;while(nt===ke[++Pe]&&nt===ke[++Pe]&&nt===ke[++Pe]&&nt===ke[++Pe]&&nt===ke[++Pe]&&nt===ke[++Pe]&&nt===ke[++Pe]&&nt===ke[++Pe]&&Pe<ve);Ne.match_length=X-(ve-Pe),Ne.match_length>Ne.lookahead&&(Ne.match_length=Ne.lookahead)}if(Ne.match_length>=B?(ut=l._tr_tally(Ne,1,Ne.match_length-B),Ne.lookahead-=Ne.match_length,Ne.strstart+=Ne.match_length,Ne.match_length=0):(ut=l._tr_tally(Ne,0,Ne.window[Ne.strstart]),Ne.lookahead--,Ne.strstart++),ut&&(U(Ne,!1),Ne.strm.avail_out===0))return j}return Ne.insert=0,Xe===b?(U(Ne,!0),Ne.strm.avail_out===0?W:K):Ne.last_lit&&(U(Ne,!1),Ne.strm.avail_out===0)?j:G}(be,Se):a[be.level].func(be,Se);if(qe!==W&&qe!==K||(be.status=666),qe===j||qe===W)return Y.avail_out===0&&(be.last_flush=-1),m;if(qe===G&&(Se===1?l._tr_align(be):Se!==5&&(l._tr_stored_block(be,0,0,!1),Se===3&&($(be.head),be.lookahead===0&&(be.strstart=0,be.block_start=0,be.insert=0))),ae(Y),Y.avail_out===0))return be.last_flush=-1,m}return Se!==b?m:be.wrap<=0?1:(be.wrap===2?(z(be,255&Y.adler),z(be,Y.adler>>8&255),z(be,Y.adler>>16&255),z(be,Y.adler>>24&255),z(be,255&Y.total_in),z(be,Y.total_in>>8&255),z(be,Y.total_in>>16&255),z(be,Y.total_in>>24&255)):(Z(be,Y.adler>>>16),Z(be,65535&Y.adler)),ae(Y),0<be.wrap&&(be.wrap=-be.wrap),be.pending!==0?m:1)},i.deflateEnd=function(Y){var Se;return Y&&Y.state?(Se=Y.state.status)!==O&&Se!==69&&Se!==73&&Se!==91&&Se!==103&&Se!==P&&Se!==666?ie(Y,x):(Y.state=null,Se===P?ie(Y,-3):m):x},i.deflateSetDictionary=function(Y,Se){var te,be,de,Ae,Le,qe,Ne,Xe,ut=Se.length;if(!Y||!Y.state||(Ae=(te=Y.state).wrap)===2||Ae===1&&te.status!==O||te.lookahead)return x;for(Ae===1&&(Y.adler=u(Y.adler,Se,ut,0)),te.wrap=0,ut>=te.w_size&&(Ae===0&&($(te.head),te.strstart=0,te.block_start=0,te.insert=0),Xe=new s.Buf8(te.w_size),s.arraySet(Xe,Se,ut-te.w_size,te.w_size,0),Se=Xe,ut=te.w_size),Le=Y.avail_in,qe=Y.next_in,Ne=Y.input,Y.avail_in=ut,Y.next_in=0,Y.input=Se,oe(te);te.lookahead>=B;){for(be=te.strstart,de=te.lookahead-(B-1);te.ins_h=(te.ins_h<<te.hash_shift^te.window[be+B-1])&te.hash_mask,te.prev[be&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=be,be++,--de;);te.strstart=be,te.lookahead=B-1,oe(te)}return te.strstart+=te.lookahead,te.block_start=te.strstart,te.insert=te.lookahead,te.lookahead=0,te.match_length=te.prev_length=B-1,te.match_available=0,Y.next_in=qe,Y.input=Ne,Y.avail_in=Le,te.wrap=Ae,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(a,s){var l,u,d,f,g,b,m,x,y,A,w,C,N,R,F,q,k,L,B,X,T,O,P,j,G;l=a.state,u=a.next_in,j=a.input,d=u+(a.avail_in-5),f=a.next_out,G=a.output,g=f-(s-a.avail_out),b=f+(a.avail_out-257),m=l.dmax,x=l.wsize,y=l.whave,A=l.wnext,w=l.window,C=l.hold,N=l.bits,R=l.lencode,F=l.distcode,q=(1<<l.lenbits)-1,k=(1<<l.distbits)-1;e:do{N<15&&(C+=j[u++]<<N,N+=8,C+=j[u++]<<N,N+=8),L=R[C&q];t:for(;;){if(C>>>=B=L>>>24,N-=B,(B=L>>>16&255)===0)G[f++]=65535&L;else{if(!(16&B)){if((64&B)==0){L=R[(65535&L)+(C&(1<<B)-1)];continue t}if(32&B){l.mode=12;break e}a.msg="invalid literal/length code",l.mode=30;break e}X=65535&L,(B&=15)&&(N<B&&(C+=j[u++]<<N,N+=8),X+=C&(1<<B)-1,C>>>=B,N-=B),N<15&&(C+=j[u++]<<N,N+=8,C+=j[u++]<<N,N+=8),L=F[C&k];n:for(;;){if(C>>>=B=L>>>24,N-=B,!(16&(B=L>>>16&255))){if((64&B)==0){L=F[(65535&L)+(C&(1<<B)-1)];continue n}a.msg="invalid distance code",l.mode=30;break e}if(T=65535&L,N<(B&=15)&&(C+=j[u++]<<N,(N+=8)<B&&(C+=j[u++]<<N,N+=8)),m<(T+=C&(1<<B)-1)){a.msg="invalid distance too far back",l.mode=30;break e}if(C>>>=B,N-=B,(B=f-g)<T){if(y<(B=T-B)&&l.sane){a.msg="invalid distance too far back",l.mode=30;break e}if(P=w,(O=0)===A){if(O+=x-B,B<X){for(X-=B;G[f++]=w[O++],--B;);O=f-T,P=G}}else if(A<B){if(O+=x+A-B,(B-=A)<X){for(X-=B;G[f++]=w[O++],--B;);if(O=0,A<X){for(X-=B=A;G[f++]=w[O++],--B;);O=f-T,P=G}}}else if(O+=A-B,B<X){for(X-=B;G[f++]=w[O++],--B;);O=f-T,P=G}for(;2<X;)G[f++]=P[O++],G[f++]=P[O++],G[f++]=P[O++],X-=3;X&&(G[f++]=P[O++],1<X&&(G[f++]=P[O++]))}else{for(O=f-T;G[f++]=G[O++],G[f++]=G[O++],G[f++]=G[O++],2<(X-=3););X&&(G[f++]=G[O++],1<X&&(G[f++]=G[O++]))}break}}break}}while(u<d&&f<b);u-=X=N>>3,C&=(1<<(N-=X<<3))-1,a.next_in=u,a.next_out=f,a.avail_in=u<d?d-u+5:5-(u-d),a.avail_out=f<b?b-f+257:257-(f-b),l.hold=C,l.bits=N}},{}],49:[function(t,r,i){var a=t("../utils/common"),s=t("./adler32"),l=t("./crc32"),u=t("./inffast"),d=t("./inftrees"),f=1,g=2,b=0,m=-2,x=1,y=852,A=592;function w(O){return(O>>>24&255)+(O>>>8&65280)+((65280&O)<<8)+((255&O)<<24)}function C(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function N(O){var P;return O&&O.state?(P=O.state,O.total_in=O.total_out=P.total=0,O.msg="",P.wrap&&(O.adler=1&P.wrap),P.mode=x,P.last=0,P.havedict=0,P.dmax=32768,P.head=null,P.hold=0,P.bits=0,P.lencode=P.lendyn=new a.Buf32(y),P.distcode=P.distdyn=new a.Buf32(A),P.sane=1,P.back=-1,b):m}function R(O){var P;return O&&O.state?((P=O.state).wsize=0,P.whave=0,P.wnext=0,N(O)):m}function F(O,P){var j,G;return O&&O.state?(G=O.state,P<0?(j=0,P=-P):(j=1+(P>>4),P<48&&(P&=15)),P&&(P<8||15<P)?m:(G.window!==null&&G.wbits!==P&&(G.window=null),G.wrap=j,G.wbits=P,R(O))):m}function q(O,P){var j,G;return O?(G=new C,(O.state=G).window=null,(j=F(O,P))!==b&&(O.state=null),j):m}var k,L,B=!0;function X(O){if(B){var P;for(k=new a.Buf32(512),L=new a.Buf32(32),P=0;P<144;)O.lens[P++]=8;for(;P<256;)O.lens[P++]=9;for(;P<280;)O.lens[P++]=7;for(;P<288;)O.lens[P++]=8;for(d(f,O.lens,0,288,k,0,O.work,{bits:9}),P=0;P<32;)O.lens[P++]=5;d(g,O.lens,0,32,L,0,O.work,{bits:5}),B=!1}O.lencode=k,O.lenbits=9,O.distcode=L,O.distbits=5}function T(O,P,j,G){var W,K=O.state;return K.window===null&&(K.wsize=1<<K.wbits,K.wnext=0,K.whave=0,K.window=new a.Buf8(K.wsize)),G>=K.wsize?(a.arraySet(K.window,P,j-K.wsize,K.wsize,0),K.wnext=0,K.whave=K.wsize):(G<(W=K.wsize-K.wnext)&&(W=G),a.arraySet(K.window,P,j-G,W,K.wnext),(G-=W)?(a.arraySet(K.window,P,j-G,G,0),K.wnext=G,K.whave=K.wsize):(K.wnext+=W,K.wnext===K.wsize&&(K.wnext=0),K.whave<K.wsize&&(K.whave+=W))),0}i.inflateReset=R,i.inflateReset2=F,i.inflateResetKeep=N,i.inflateInit=function(O){return q(O,15)},i.inflateInit2=q,i.inflate=function(O,P){var j,G,W,K,ie,ce,$,ae,U,z,Z,ee,oe,we,xe,Ee,De,Me,We,Ye,Y,Se,te,be,de=0,Ae=new a.Buf8(4),Le=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return m;(j=O.state).mode===12&&(j.mode=13),ie=O.next_out,W=O.output,$=O.avail_out,K=O.next_in,G=O.input,ce=O.avail_in,ae=j.hold,U=j.bits,z=ce,Z=$,Se=b;e:for(;;)switch(j.mode){case x:if(j.wrap===0){j.mode=13;break}for(;U<16;){if(ce===0)break e;ce--,ae+=G[K++]<<U,U+=8}if(2&j.wrap&&ae===35615){Ae[j.check=0]=255&ae,Ae[1]=ae>>>8&255,j.check=l(j.check,Ae,2,0),U=ae=0,j.mode=2;break}if(j.flags=0,j.head&&(j.head.done=!1),!(1&j.wrap)||(((255&ae)<<8)+(ae>>8))%31){O.msg="incorrect header check",j.mode=30;break}if((15&ae)!=8){O.msg="unknown compression method",j.mode=30;break}if(U-=4,Y=8+(15&(ae>>>=4)),j.wbits===0)j.wbits=Y;else if(Y>j.wbits){O.msg="invalid window size",j.mode=30;break}j.dmax=1<<Y,O.adler=j.check=1,j.mode=512&ae?10:12,U=ae=0;break;case 2:for(;U<16;){if(ce===0)break e;ce--,ae+=G[K++]<<U,U+=8}if(j.flags=ae,(255&j.flags)!=8){O.msg="unknown compression method",j.mode=30;break}if(57344&j.flags){O.msg="unknown header flags set",j.mode=30;break}j.head&&(j.head.text=ae>>8&1),512&j.flags&&(Ae[0]=255&ae,Ae[1]=ae>>>8&255,j.check=l(j.check,Ae,2,0)),U=ae=0,j.mode=3;case 3:for(;U<32;){if(ce===0)break e;ce--,ae+=G[K++]<<U,U+=8}j.head&&(j.head.time=ae),512&j.flags&&(Ae[0]=255&ae,Ae[1]=ae>>>8&255,Ae[2]=ae>>>16&255,Ae[3]=ae>>>24&255,j.check=l(j.check,Ae,4,0)),U=ae=0,j.mode=4;case 4:for(;U<16;){if(ce===0)break e;ce--,ae+=G[K++]<<U,U+=8}j.head&&(j.head.xflags=255&ae,j.head.os=ae>>8),512&j.flags&&(Ae[0]=255&ae,Ae[1]=ae>>>8&255,j.check=l(j.check,Ae,2,0)),U=ae=0,j.mode=5;case 5:if(1024&j.flags){for(;U<16;){if(ce===0)break e;ce--,ae+=G[K++]<<U,U+=8}j.length=ae,j.head&&(j.head.extra_len=ae),512&j.flags&&(Ae[0]=255&ae,Ae[1]=ae>>>8&255,j.check=l(j.check,Ae,2,0)),U=ae=0}else j.head&&(j.head.extra=null);j.mode=6;case 6:if(1024&j.flags&&(ce<(ee=j.length)&&(ee=ce),ee&&(j.head&&(Y=j.head.extra_len-j.length,j.head.extra||(j.head.extra=new Array(j.head.extra_len)),a.arraySet(j.head.extra,G,K,ee,Y)),512&j.flags&&(j.check=l(j.check,G,ee,K)),ce-=ee,K+=ee,j.length-=ee),j.length))break e;j.length=0,j.mode=7;case 7:if(2048&j.flags){if(ce===0)break e;for(ee=0;Y=G[K+ee++],j.head&&Y&&j.length<65536&&(j.head.name+=String.fromCharCode(Y)),Y&&ee<ce;);if(512&j.flags&&(j.check=l(j.check,G,ee,K)),ce-=ee,K+=ee,Y)break e}else j.head&&(j.head.name=null);j.length=0,j.mode=8;case 8:if(4096&j.flags){if(ce===0)break e;for(ee=0;Y=G[K+ee++],j.head&&Y&&j.length<65536&&(j.head.comment+=String.fromCharCode(Y)),Y&&ee<ce;);if(512&j.flags&&(j.check=l(j.check,G,ee,K)),ce-=ee,K+=ee,Y)break e}else j.head&&(j.head.comment=null);j.mode=9;case 9:if(512&j.flags){for(;U<16;){if(ce===0)break e;ce--,ae+=G[K++]<<U,U+=8}if(ae!==(65535&j.check)){O.msg="header crc mismatch",j.mode=30;break}U=ae=0}j.head&&(j.head.hcrc=j.flags>>9&1,j.head.done=!0),O.adler=j.check=0,j.mode=12;break;case 10:for(;U<32;){if(ce===0)break e;ce--,ae+=G[K++]<<U,U+=8}O.adler=j.check=w(ae),U=ae=0,j.mode=11;case 11:if(j.havedict===0)return O.next_out=ie,O.avail_out=$,O.next_in=K,O.avail_in=ce,j.hold=ae,j.bits=U,2;O.adler=j.check=1,j.mode=12;case 12:if(P===5||P===6)break e;case 13:if(j.last){ae>>>=7&U,U-=7&U,j.mode=27;break}for(;U<3;){if(ce===0)break e;ce--,ae+=G[K++]<<U,U+=8}switch(j.last=1&ae,U-=1,3&(ae>>>=1)){case 0:j.mode=14;break;case 1:if(X(j),j.mode=20,P!==6)break;ae>>>=2,U-=2;break e;case 2:j.mode=17;break;case 3:O.msg="invalid block type",j.mode=30}ae>>>=2,U-=2;break;case 14:for(ae>>>=7&U,U-=7&U;U<32;){if(ce===0)break e;ce--,ae+=G[K++]<<U,U+=8}if((65535&ae)!=(ae>>>16^65535)){O.msg="invalid stored block lengths",j.mode=30;break}if(j.length=65535&ae,U=ae=0,j.mode=15,P===6)break e;case 15:j.mode=16;case 16:if(ee=j.length){if(ce<ee&&(ee=ce),$<ee&&(ee=$),ee===0)break e;a.arraySet(W,G,K,ee,ie),ce-=ee,K+=ee,$-=ee,ie+=ee,j.length-=ee;break}j.mode=12;break;case 17:for(;U<14;){if(ce===0)break e;ce--,ae+=G[K++]<<U,U+=8}if(j.nlen=257+(31&ae),ae>>>=5,U-=5,j.ndist=1+(31&ae),ae>>>=5,U-=5,j.ncode=4+(15&ae),ae>>>=4,U-=4,286<j.nlen||30<j.ndist){O.msg="too many length or distance symbols",j.mode=30;break}j.have=0,j.mode=18;case 18:for(;j.have<j.ncode;){for(;U<3;){if(ce===0)break e;ce--,ae+=G[K++]<<U,U+=8}j.lens[Le[j.have++]]=7&ae,ae>>>=3,U-=3}for(;j.have<19;)j.lens[Le[j.have++]]=0;if(j.lencode=j.lendyn,j.lenbits=7,te={bits:j.lenbits},Se=d(0,j.lens,0,19,j.lencode,0,j.work,te),j.lenbits=te.bits,Se){O.msg="invalid code lengths set",j.mode=30;break}j.have=0,j.mode=19;case 19:for(;j.have<j.nlen+j.ndist;){for(;Ee=(de=j.lencode[ae&(1<<j.lenbits)-1])>>>16&255,De=65535&de,!((xe=de>>>24)<=U);){if(ce===0)break e;ce--,ae+=G[K++]<<U,U+=8}if(De<16)ae>>>=xe,U-=xe,j.lens[j.have++]=De;else{if(De===16){for(be=xe+2;U<be;){if(ce===0)break e;ce--,ae+=G[K++]<<U,U+=8}if(ae>>>=xe,U-=xe,j.have===0){O.msg="invalid bit length repeat",j.mode=30;break}Y=j.lens[j.have-1],ee=3+(3&ae),ae>>>=2,U-=2}else if(De===17){for(be=xe+3;U<be;){if(ce===0)break e;ce--,ae+=G[K++]<<U,U+=8}U-=xe,Y=0,ee=3+(7&(ae>>>=xe)),ae>>>=3,U-=3}else{for(be=xe+7;U<be;){if(ce===0)break e;ce--,ae+=G[K++]<<U,U+=8}U-=xe,Y=0,ee=11+(127&(ae>>>=xe)),ae>>>=7,U-=7}if(j.have+ee>j.nlen+j.ndist){O.msg="invalid bit length repeat",j.mode=30;break}for(;ee--;)j.lens[j.have++]=Y}}if(j.mode===30)break;if(j.lens[256]===0){O.msg="invalid code -- missing end-of-block",j.mode=30;break}if(j.lenbits=9,te={bits:j.lenbits},Se=d(f,j.lens,0,j.nlen,j.lencode,0,j.work,te),j.lenbits=te.bits,Se){O.msg="invalid literal/lengths set",j.mode=30;break}if(j.distbits=6,j.distcode=j.distdyn,te={bits:j.distbits},Se=d(g,j.lens,j.nlen,j.ndist,j.distcode,0,j.work,te),j.distbits=te.bits,Se){O.msg="invalid distances set",j.mode=30;break}if(j.mode=20,P===6)break e;case 20:j.mode=21;case 21:if(6<=ce&&258<=$){O.next_out=ie,O.avail_out=$,O.next_in=K,O.avail_in=ce,j.hold=ae,j.bits=U,u(O,Z),ie=O.next_out,W=O.output,$=O.avail_out,K=O.next_in,G=O.input,ce=O.avail_in,ae=j.hold,U=j.bits,j.mode===12&&(j.back=-1);break}for(j.back=0;Ee=(de=j.lencode[ae&(1<<j.lenbits)-1])>>>16&255,De=65535&de,!((xe=de>>>24)<=U);){if(ce===0)break e;ce--,ae+=G[K++]<<U,U+=8}if(Ee&&(240&Ee)==0){for(Me=xe,We=Ee,Ye=De;Ee=(de=j.lencode[Ye+((ae&(1<<Me+We)-1)>>Me)])>>>16&255,De=65535&de,!(Me+(xe=de>>>24)<=U);){if(ce===0)break e;ce--,ae+=G[K++]<<U,U+=8}ae>>>=Me,U-=Me,j.back+=Me}if(ae>>>=xe,U-=xe,j.back+=xe,j.length=De,Ee===0){j.mode=26;break}if(32&Ee){j.back=-1,j.mode=12;break}if(64&Ee){O.msg="invalid literal/length code",j.mode=30;break}j.extra=15&Ee,j.mode=22;case 22:if(j.extra){for(be=j.extra;U<be;){if(ce===0)break e;ce--,ae+=G[K++]<<U,U+=8}j.length+=ae&(1<<j.extra)-1,ae>>>=j.extra,U-=j.extra,j.back+=j.extra}j.was=j.length,j.mode=23;case 23:for(;Ee=(de=j.distcode[ae&(1<<j.distbits)-1])>>>16&255,De=65535&de,!((xe=de>>>24)<=U);){if(ce===0)break e;ce--,ae+=G[K++]<<U,U+=8}if((240&Ee)==0){for(Me=xe,We=Ee,Ye=De;Ee=(de=j.distcode[Ye+((ae&(1<<Me+We)-1)>>Me)])>>>16&255,De=65535&de,!(Me+(xe=de>>>24)<=U);){if(ce===0)break e;ce--,ae+=G[K++]<<U,U+=8}ae>>>=Me,U-=Me,j.back+=Me}if(ae>>>=xe,U-=xe,j.back+=xe,64&Ee){O.msg="invalid distance code",j.mode=30;break}j.offset=De,j.extra=15&Ee,j.mode=24;case 24:if(j.extra){for(be=j.extra;U<be;){if(ce===0)break e;ce--,ae+=G[K++]<<U,U+=8}j.offset+=ae&(1<<j.extra)-1,ae>>>=j.extra,U-=j.extra,j.back+=j.extra}if(j.offset>j.dmax){O.msg="invalid distance too far back",j.mode=30;break}j.mode=25;case 25:if($===0)break e;if(ee=Z-$,j.offset>ee){if((ee=j.offset-ee)>j.whave&&j.sane){O.msg="invalid distance too far back",j.mode=30;break}oe=ee>j.wnext?(ee-=j.wnext,j.wsize-ee):j.wnext-ee,ee>j.length&&(ee=j.length),we=j.window}else we=W,oe=ie-j.offset,ee=j.length;for($<ee&&(ee=$),$-=ee,j.length-=ee;W[ie++]=we[oe++],--ee;);j.length===0&&(j.mode=21);break;case 26:if($===0)break e;W[ie++]=j.length,$--,j.mode=21;break;case 27:if(j.wrap){for(;U<32;){if(ce===0)break e;ce--,ae|=G[K++]<<U,U+=8}if(Z-=$,O.total_out+=Z,j.total+=Z,Z&&(O.adler=j.check=j.flags?l(j.check,W,Z,ie-Z):s(j.check,W,Z,ie-Z)),Z=$,(j.flags?ae:w(ae))!==j.check){O.msg="incorrect data check",j.mode=30;break}U=ae=0}j.mode=28;case 28:if(j.wrap&&j.flags){for(;U<32;){if(ce===0)break e;ce--,ae+=G[K++]<<U,U+=8}if(ae!==(4294967295&j.total)){O.msg="incorrect length check",j.mode=30;break}U=ae=0}j.mode=29;case 29:Se=1;break e;case 30:Se=-3;break e;case 31:return-4;case 32:default:return m}return O.next_out=ie,O.avail_out=$,O.next_in=K,O.avail_in=ce,j.hold=ae,j.bits=U,(j.wsize||Z!==O.avail_out&&j.mode<30&&(j.mode<27||P!==4))&&T(O,O.output,O.next_out,Z-O.avail_out)?(j.mode=31,-4):(z-=O.avail_in,Z-=O.avail_out,O.total_in+=z,O.total_out+=Z,j.total+=Z,j.wrap&&Z&&(O.adler=j.check=j.flags?l(j.check,W,Z,O.next_out-Z):s(j.check,W,Z,O.next_out-Z)),O.data_type=j.bits+(j.last?64:0)+(j.mode===12?128:0)+(j.mode===20||j.mode===15?256:0),(z==0&&Z===0||P===4)&&Se===b&&(Se=-5),Se)},i.inflateEnd=function(O){if(!O||!O.state)return m;var P=O.state;return P.window&&(P.window=null),O.state=null,b},i.inflateGetHeader=function(O,P){var j;return O&&O.state?(2&(j=O.state).wrap)==0?m:((j.head=P).done=!1,b):m},i.inflateSetDictionary=function(O,P){var j,G=P.length;return O&&O.state?(j=O.state).wrap!==0&&j.mode!==11?m:j.mode===11&&s(1,P,G,0)!==j.check?-3:T(O,P,G,G)?(j.mode=31,-4):(j.havedict=1,b):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var a=t("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(f,g,b,m,x,y,A,w){var C,N,R,F,q,k,L,B,X,T=w.bits,O=0,P=0,j=0,G=0,W=0,K=0,ie=0,ce=0,$=0,ae=0,U=null,z=0,Z=new a.Buf16(16),ee=new a.Buf16(16),oe=null,we=0;for(O=0;O<=15;O++)Z[O]=0;for(P=0;P<m;P++)Z[g[b+P]]++;for(W=T,G=15;1<=G&&Z[G]===0;G--);if(G<W&&(W=G),G===0)return x[y++]=20971520,x[y++]=20971520,w.bits=1,0;for(j=1;j<G&&Z[j]===0;j++);for(W<j&&(W=j),O=ce=1;O<=15;O++)if(ce<<=1,(ce-=Z[O])<0)return-1;if(0<ce&&(f===0||G!==1))return-1;for(ee[1]=0,O=1;O<15;O++)ee[O+1]=ee[O]+Z[O];for(P=0;P<m;P++)g[b+P]!==0&&(A[ee[g[b+P]]++]=P);if(k=f===0?(U=oe=A,19):f===1?(U=s,z-=257,oe=l,we-=257,256):(U=u,oe=d,-1),O=j,q=y,ie=P=ae=0,R=-1,F=($=1<<(K=W))-1,f===1&&852<$||f===2&&592<$)return 1;for(;;){for(L=O-ie,X=A[P]<k?(B=0,A[P]):A[P]>k?(B=oe[we+A[P]],U[z+A[P]]):(B=96,0),C=1<<O-ie,j=N=1<<K;x[q+(ae>>ie)+(N-=C)]=L<<24|B<<16|X|0,N!==0;);for(C=1<<O-1;ae&C;)C>>=1;if(C!==0?(ae&=C-1,ae+=C):ae=0,P++,--Z[O]==0){if(O===G)break;O=g[b+A[P]]}if(W<O&&(ae&F)!==R){for(ie===0&&(ie=W),q+=j,ce=1<<(K=O-ie);K+ie<G&&!((ce-=Z[K+ie])<=0);)K++,ce<<=1;if($+=1<<K,f===1&&852<$||f===2&&592<$)return 1;x[R=ae&F]=W<<24|K<<16|q-y|0}}return ae!==0&&(x[q+ae]=O-ie<<24|64<<16|0),w.bits=W,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var a=t("../utils/common"),s=0,l=1;function u(de){for(var Ae=de.length;0<=--Ae;)de[Ae]=0}var d=0,f=29,g=256,b=g+1+f,m=30,x=19,y=2*b+1,A=15,w=16,C=7,N=256,R=16,F=17,q=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=new Array(2*(b+2));u(T);var O=new Array(2*m);u(O);var P=new Array(512);u(P);var j=new Array(256);u(j);var G=new Array(f);u(G);var W,K,ie,ce=new Array(m);function $(de,Ae,Le,qe,Ne){this.static_tree=de,this.extra_bits=Ae,this.extra_base=Le,this.elems=qe,this.max_length=Ne,this.has_stree=de&&de.length}function ae(de,Ae){this.dyn_tree=de,this.max_code=0,this.stat_desc=Ae}function U(de){return de<256?P[de]:P[256+(de>>>7)]}function z(de,Ae){de.pending_buf[de.pending++]=255&Ae,de.pending_buf[de.pending++]=Ae>>>8&255}function Z(de,Ae,Le){de.bi_valid>w-Le?(de.bi_buf|=Ae<<de.bi_valid&65535,z(de,de.bi_buf),de.bi_buf=Ae>>w-de.bi_valid,de.bi_valid+=Le-w):(de.bi_buf|=Ae<<de.bi_valid&65535,de.bi_valid+=Le)}function ee(de,Ae,Le){Z(de,Le[2*Ae],Le[2*Ae+1])}function oe(de,Ae){for(var Le=0;Le|=1&de,de>>>=1,Le<<=1,0<--Ae;);return Le>>>1}function we(de,Ae,Le){var qe,Ne,Xe=new Array(A+1),ut=0;for(qe=1;qe<=A;qe++)Xe[qe]=ut=ut+Le[qe-1]<<1;for(Ne=0;Ne<=Ae;Ne++){var nt=de[2*Ne+1];nt!==0&&(de[2*Ne]=oe(Xe[nt]++,nt))}}function xe(de){var Ae;for(Ae=0;Ae<b;Ae++)de.dyn_ltree[2*Ae]=0;for(Ae=0;Ae<m;Ae++)de.dyn_dtree[2*Ae]=0;for(Ae=0;Ae<x;Ae++)de.bl_tree[2*Ae]=0;de.dyn_ltree[2*N]=1,de.opt_len=de.static_len=0,de.last_lit=de.matches=0}function Ee(de){8<de.bi_valid?z(de,de.bi_buf):0<de.bi_valid&&(de.pending_buf[de.pending++]=de.bi_buf),de.bi_buf=0,de.bi_valid=0}function De(de,Ae,Le,qe){var Ne=2*Ae,Xe=2*Le;return de[Ne]<de[Xe]||de[Ne]===de[Xe]&&qe[Ae]<=qe[Le]}function Me(de,Ae,Le){for(var qe=de.heap[Le],Ne=Le<<1;Ne<=de.heap_len&&(Ne<de.heap_len&&De(Ae,de.heap[Ne+1],de.heap[Ne],de.depth)&&Ne++,!De(Ae,qe,de.heap[Ne],de.depth));)de.heap[Le]=de.heap[Ne],Le=Ne,Ne<<=1;de.heap[Le]=qe}function We(de,Ae,Le){var qe,Ne,Xe,ut,nt=0;if(de.last_lit!==0)for(;qe=de.pending_buf[de.d_buf+2*nt]<<8|de.pending_buf[de.d_buf+2*nt+1],Ne=de.pending_buf[de.l_buf+nt],nt++,qe===0?ee(de,Ne,Ae):(ee(de,(Xe=j[Ne])+g+1,Ae),(ut=k[Xe])!==0&&Z(de,Ne-=G[Xe],ut),ee(de,Xe=U(--qe),Le),(ut=L[Xe])!==0&&Z(de,qe-=ce[Xe],ut)),nt<de.last_lit;);ee(de,N,Ae)}function Ye(de,Ae){var Le,qe,Ne,Xe=Ae.dyn_tree,ut=Ae.stat_desc.static_tree,nt=Ae.stat_desc.has_stree,Pe=Ae.stat_desc.elems,ve=-1;for(de.heap_len=0,de.heap_max=y,Le=0;Le<Pe;Le++)Xe[2*Le]!==0?(de.heap[++de.heap_len]=ve=Le,de.depth[Le]=0):Xe[2*Le+1]=0;for(;de.heap_len<2;)Xe[2*(Ne=de.heap[++de.heap_len]=ve<2?++ve:0)]=1,de.depth[Ne]=0,de.opt_len--,nt&&(de.static_len-=ut[2*Ne+1]);for(Ae.max_code=ve,Le=de.heap_len>>1;1<=Le;Le--)Me(de,Xe,Le);for(Ne=Pe;Le=de.heap[1],de.heap[1]=de.heap[de.heap_len--],Me(de,Xe,1),qe=de.heap[1],de.heap[--de.heap_max]=Le,de.heap[--de.heap_max]=qe,Xe[2*Ne]=Xe[2*Le]+Xe[2*qe],de.depth[Ne]=(de.depth[Le]>=de.depth[qe]?de.depth[Le]:de.depth[qe])+1,Xe[2*Le+1]=Xe[2*qe+1]=Ne,de.heap[1]=Ne++,Me(de,Xe,1),2<=de.heap_len;);de.heap[--de.heap_max]=de.heap[1],function(ke,je){var ft,Je,Ft,kt,Vt,Rt,Zt=je.dyn_tree,nn=je.max_code,ln=je.stat_desc.static_tree,Pn=je.stat_desc.has_stree,zn=je.stat_desc.extra_bits,Gr=je.stat_desc.extra_base,ir=je.stat_desc.max_length,Rn=0;for(kt=0;kt<=A;kt++)ke.bl_count[kt]=0;for(Zt[2*ke.heap[ke.heap_max]+1]=0,ft=ke.heap_max+1;ft<y;ft++)ir<(kt=Zt[2*Zt[2*(Je=ke.heap[ft])+1]+1]+1)&&(kt=ir,Rn++),Zt[2*Je+1]=kt,nn<Je||(ke.bl_count[kt]++,Vt=0,Gr<=Je&&(Vt=zn[Je-Gr]),Rt=Zt[2*Je],ke.opt_len+=Rt*(kt+Vt),Pn&&(ke.static_len+=Rt*(ln[2*Je+1]+Vt)));if(Rn!==0){do{for(kt=ir-1;ke.bl_count[kt]===0;)kt--;ke.bl_count[kt]--,ke.bl_count[kt+1]+=2,ke.bl_count[ir]--,Rn-=2}while(0<Rn);for(kt=ir;kt!==0;kt--)for(Je=ke.bl_count[kt];Je!==0;)nn<(Ft=ke.heap[--ft])||(Zt[2*Ft+1]!==kt&&(ke.opt_len+=(kt-Zt[2*Ft+1])*Zt[2*Ft],Zt[2*Ft+1]=kt),Je--)}}(de,Ae),we(Xe,ve,de.bl_count)}function Y(de,Ae,Le){var qe,Ne,Xe=-1,ut=Ae[1],nt=0,Pe=7,ve=4;for(ut===0&&(Pe=138,ve=3),Ae[2*(Le+1)+1]=65535,qe=0;qe<=Le;qe++)Ne=ut,ut=Ae[2*(qe+1)+1],++nt<Pe&&Ne===ut||(nt<ve?de.bl_tree[2*Ne]+=nt:Ne!==0?(Ne!==Xe&&de.bl_tree[2*Ne]++,de.bl_tree[2*R]++):nt<=10?de.bl_tree[2*F]++:de.bl_tree[2*q]++,Xe=Ne,ve=(nt=0)===ut?(Pe=138,3):Ne===ut?(Pe=6,3):(Pe=7,4))}function Se(de,Ae,Le){var qe,Ne,Xe=-1,ut=Ae[1],nt=0,Pe=7,ve=4;for(ut===0&&(Pe=138,ve=3),qe=0;qe<=Le;qe++)if(Ne=ut,ut=Ae[2*(qe+1)+1],!(++nt<Pe&&Ne===ut)){if(nt<ve)for(;ee(de,Ne,de.bl_tree),--nt!=0;);else Ne!==0?(Ne!==Xe&&(ee(de,Ne,de.bl_tree),nt--),ee(de,R,de.bl_tree),Z(de,nt-3,2)):nt<=10?(ee(de,F,de.bl_tree),Z(de,nt-3,3)):(ee(de,q,de.bl_tree),Z(de,nt-11,7));Xe=Ne,ve=(nt=0)===ut?(Pe=138,3):Ne===ut?(Pe=6,3):(Pe=7,4)}}u(ce);var te=!1;function be(de,Ae,Le,qe){Z(de,(d<<1)+(qe?1:0),3),function(Ne,Xe,ut,nt){Ee(Ne),z(Ne,ut),z(Ne,~ut),a.arraySet(Ne.pending_buf,Ne.window,Xe,ut,Ne.pending),Ne.pending+=ut}(de,Ae,Le)}i._tr_init=function(de){te||(function(){var Ae,Le,qe,Ne,Xe,ut=new Array(A+1);for(Ne=qe=0;Ne<f-1;Ne++)for(G[Ne]=qe,Ae=0;Ae<1<<k[Ne];Ae++)j[qe++]=Ne;for(j[qe-1]=Ne,Ne=Xe=0;Ne<16;Ne++)for(ce[Ne]=Xe,Ae=0;Ae<1<<L[Ne];Ae++)P[Xe++]=Ne;for(Xe>>=7;Ne<m;Ne++)for(ce[Ne]=Xe<<7,Ae=0;Ae<1<<L[Ne]-7;Ae++)P[256+Xe++]=Ne;for(Le=0;Le<=A;Le++)ut[Le]=0;for(Ae=0;Ae<=143;)T[2*Ae+1]=8,Ae++,ut[8]++;for(;Ae<=255;)T[2*Ae+1]=9,Ae++,ut[9]++;for(;Ae<=279;)T[2*Ae+1]=7,Ae++,ut[7]++;for(;Ae<=287;)T[2*Ae+1]=8,Ae++,ut[8]++;for(we(T,b+1,ut),Ae=0;Ae<m;Ae++)O[2*Ae+1]=5,O[2*Ae]=oe(Ae,5);W=new $(T,k,g+1,b,A),K=new $(O,L,0,m,A),ie=new $(new Array(0),B,0,x,C)}(),te=!0),de.l_desc=new ae(de.dyn_ltree,W),de.d_desc=new ae(de.dyn_dtree,K),de.bl_desc=new ae(de.bl_tree,ie),de.bi_buf=0,de.bi_valid=0,xe(de)},i._tr_stored_block=be,i._tr_flush_block=function(de,Ae,Le,qe){var Ne,Xe,ut=0;0<de.level?(de.strm.data_type===2&&(de.strm.data_type=function(nt){var Pe,ve=4093624447;for(Pe=0;Pe<=31;Pe++,ve>>>=1)if(1&ve&&nt.dyn_ltree[2*Pe]!==0)return s;if(nt.dyn_ltree[18]!==0||nt.dyn_ltree[20]!==0||nt.dyn_ltree[26]!==0)return l;for(Pe=32;Pe<g;Pe++)if(nt.dyn_ltree[2*Pe]!==0)return l;return s}(de)),Ye(de,de.l_desc),Ye(de,de.d_desc),ut=function(nt){var Pe;for(Y(nt,nt.dyn_ltree,nt.l_desc.max_code),Y(nt,nt.dyn_dtree,nt.d_desc.max_code),Ye(nt,nt.bl_desc),Pe=x-1;3<=Pe&&nt.bl_tree[2*X[Pe]+1]===0;Pe--);return nt.opt_len+=3*(Pe+1)+5+5+4,Pe}(de),Ne=de.opt_len+3+7>>>3,(Xe=de.static_len+3+7>>>3)<=Ne&&(Ne=Xe)):Ne=Xe=Le+5,Le+4<=Ne&&Ae!==-1?be(de,Ae,Le,qe):de.strategy===4||Xe===Ne?(Z(de,2+(qe?1:0),3),We(de,T,O)):(Z(de,4+(qe?1:0),3),function(nt,Pe,ve,ke){var je;for(Z(nt,Pe-257,5),Z(nt,ve-1,5),Z(nt,ke-4,4),je=0;je<ke;je++)Z(nt,nt.bl_tree[2*X[je]+1],3);Se(nt,nt.dyn_ltree,Pe-1),Se(nt,nt.dyn_dtree,ve-1)}(de,de.l_desc.max_code+1,de.d_desc.max_code+1,ut+1),We(de,de.dyn_ltree,de.dyn_dtree)),xe(de),qe&&Ee(de)},i._tr_tally=function(de,Ae,Le){return de.pending_buf[de.d_buf+2*de.last_lit]=Ae>>>8&255,de.pending_buf[de.d_buf+2*de.last_lit+1]=255&Ae,de.pending_buf[de.l_buf+de.last_lit]=255&Le,de.last_lit++,Ae===0?de.dyn_ltree[2*Le]++:(de.matches++,Ae--,de.dyn_ltree[2*(j[Le]+g+1)]++,de.dyn_dtree[2*U(Ae)]++),de.last_lit===de.lit_bufsize-1},i._tr_align=function(de){Z(de,2,3),ee(de,N,T),function(Ae){Ae.bi_valid===16?(z(Ae,Ae.bi_buf),Ae.bi_buf=0,Ae.bi_valid=0):8<=Ae.bi_valid&&(Ae.pending_buf[Ae.pending++]=255&Ae.bi_buf,Ae.bi_buf>>=8,Ae.bi_valid-=8)}(de)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(a){(function(s,l){if(!s.setImmediate){var u,d,f,g,b=1,m={},x=!1,y=s.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(s);A=A&&A.setTimeout?A:s,u={}.toString.call(s.process)==="[object process]"?function(R){process.nextTick(function(){C(R)})}:function(){if(s.postMessage&&!s.importScripts){var R=!0,F=s.onmessage;return s.onmessage=function(){R=!1},s.postMessage("","*"),s.onmessage=F,R}}()?(g="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",N,!1):s.attachEvent("onmessage",N),function(R){s.postMessage(g+R,"*")}):s.MessageChannel?((f=new MessageChannel).port1.onmessage=function(R){C(R.data)},function(R){f.port2.postMessage(R)}):y&&"onreadystatechange"in y.createElement("script")?(d=y.documentElement,function(R){var F=y.createElement("script");F.onreadystatechange=function(){C(R),F.onreadystatechange=null,d.removeChild(F),F=null},d.appendChild(F)}):function(R){setTimeout(C,0,R)},A.setImmediate=function(R){typeof R!="function"&&(R=new Function(""+R));for(var F=new Array(arguments.length-1),q=0;q<F.length;q++)F[q]=arguments[q+1];var k={callback:R,args:F};return m[b]=k,u(b),b++},A.clearImmediate=w}function w(R){delete m[R]}function C(R){if(x)setTimeout(C,0,R);else{var F=m[R];if(F){x=!0;try{(function(q){var k=q.callback,L=q.args;switch(L.length){case 0:k();break;case 1:k(L[0]);break;case 2:k(L[0],L[1]);break;case 3:k(L[0],L[1],L[2]);break;default:k.apply(l,L)}})(F)}finally{w(R),x=!1}}}}function N(R){R.source===s&&typeof R.data=="string"&&R.data.indexOf(g)===0&&C(+R.data.slice(g.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Aw)),Aw.exports}var MJ=RJ();const FJ=ts(MJ),PJ=async(e,n,t)=>{const r=new FJ,i=["timestamp,question,answer"];n.forEach(({timestamp:u,question:d,answer:f})=>{i.push(`"${new Date(u).toLocaleString()}","${d.replace(/"/g,'""')}","${f.replace(/"/g,'""')}"`)}),r.file(`${e}.csv`,i.join(`
`)),r.file(`${e}_metadata.json`,JSON.stringify(t,null,4));const a=await r.generateAsync({type:"blob"}),s=URL.createObjectURL(a),l=document.createElement("a");l.href=s,l.download=`${e}.zip`,document.body.appendChild(l),l.click(),document.body.removeChild(l)},zJ=up(he)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"600px",maxHeight:"80vh",overflowY:"auto",backgroundColor:"#fff",borderRadius:"10px",boxShadow:"0px 5px 15px rgba(0,0,0,0.2)",padding:"20px"}),qJ=up(he)({marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"}),BJ=({open:e,onClose:n,conversationHistory:t,conversationId:r,conversationHistoryError:i,chatbotDetails:a,userId:s,startedAt:l})=>{const u=async()=>{const d={conversationId:r,userId:s,chatbotId:a.chatbotId,chatbotTitle:a.chatbotTitle,startedAt:new Date(l).toLocaleString(),courseTitle:a.courseTitle,courseId:a.courseId,materialTitle:a.materialTitle,materialId:a.materialId,materialLink:a.materialLink,chatbotCreatedBy:a.chatbotCreatedBy,chatbotCreatedAt:new Date(a.chatbotCreatedAt).toLocaleString()};await PJ(r,t,d)};return h.jsx(Tx,{open:e,onClose:n,children:h.jsxs(zJ,{children:[h.jsxs(qJ,{children:[h.jsxs(ge,{variant:"h6",children:["Conversation History for ",r]}),h.jsx(Si,{title:"Download ZIP",children:h.jsx(On,{onClick:u,"aria-label":"Download as ZIP",children:h.jsx(nF,{})})})]}),i&&h.jsx(ge,{color:"error",sx:{marginBottom:"20px"},children:i}),t.length===0?h.jsx(ge,{children:"No messages found in this conversation."}):h.jsx(zf,{children:t.map((d,f)=>h.jsx(vd,{sx:{padding:"10px 0"},children:h.jsx(Ol,{primary:`Q: ${d.question}`,secondary:`A: ${d.answer} (${new Date(d.timestamp).toLocaleString()})`})},f))}),h.jsx(At,{variant:"contained",onClick:n,style:{marginTop:"20px",backgroundColor:"#000",color:"#fff"},children:"Close"})]})})},UJ=({totalItems:e,itemsPerPage:n,currentPage:t,onPageChange:r})=>{const i=Math.ceil(e/n),a=()=>{t>1&&r(t-1)},s=()=>{t<i&&r(t+1)};return h.jsxs(he,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:3},children:[h.jsx(At,{variant:"outlined",disabled:t===1,onClick:a,children:"Previous"}),h.jsxs(ge,{variant:"body1",children:["Page ",t," of ",i]}),h.jsx(At,{variant:"outlined",disabled:t===i,onClick:s,children:"Next"})]})},$J=({chatbotId:e})=>{const n=Zn(),[t,r]=Q.useState(null),[i,a]=Q.useState(!0),[s,l]=Q.useState(null);if(Q.useEffect(()=>{e!=="All"&&(async()=>{a(!0),l(null);try{const C=tl(vn(n,"chatbots"),wi("chatbotId","==",e)),N=await pi(C);N.empty?l("Chatbot details not found!"):r(N.docs[0].data())}catch(C){console.error("Error fetching chatbot details:",C),l("Failed to fetch chatbot details.")}finally{a(!1)}})()},[n,e]),i)return h.jsx(he,{sx:{mt:3},children:h.jsx(hi,{})});if(s)return h.jsx(ge,{variant:"body1",color:"error",sx:{mt:3},children:s});if(!t)return null;const{title:u="N/A",courseId:d,createdBy:f="Unknown",timestamp:g,material:b}=t,m=(d==null?void 0:d.title)||"N/A",x=(b==null?void 0:b.title)||"N/A",y=(b==null?void 0:b.id)||"N/A",A=`https://institute-for-future-intelligence.github.io/nexlab/view-material/${y}`;return h.jsxs(he,{sx:{mt:3,p:2,border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:[h.jsx(ge,{variant:"h6",children:"Chatbot Details"}),h.jsxs(ge,{variant:"body1",children:[h.jsx("strong",{children:"Title:"})," ",u]}),h.jsxs(ge,{variant:"body1",children:[h.jsx("strong",{children:"Course:"})," ",m]}),h.jsxs(ge,{variant:"body1",children:[h.jsx("strong",{children:"Material:"})," ",y!=="N/A"?h.jsx(qg,{href:A,target:"_blank",rel:"noopener noreferrer",children:x}):x]}),h.jsx(es,{sx:{my:2}}),h.jsxs(ge,{variant:"body1",children:[h.jsx("strong",{children:"Created By:"})," ",f]}),h.jsxs(ge,{variant:"body1",children:[h.jsx("strong",{children:"Created At:"})," ",g?new Date(g).toLocaleString():"N/A"]})]})},M4=up(At)({width:100,height:40,display:"flex",alignItems:"center",justifyContent:"center"}),HJ=({open:e,onClose:n,onConfirm:t,conversationId:r,deleting:i})=>h.jsxs(Ki,{open:e,onClose:n,children:[h.jsx(fa,{children:"Confirm Deletion"}),h.jsx(Xi,{children:h.jsxs(Ml,{children:["Are you sure you want to delete the conversation with ID: ",h.jsx("strong",{children:r}),"? This action cannot be undone."]})}),h.jsxs(ha,{children:[h.jsx(M4,{onClick:n,color:"primary",variant:"outlined",children:"Cancel"}),h.jsx(M4,{onClick:t,color:"error",disabled:i,children:i?h.jsx(hi,{size:20,color:"inherit"}):"Delete"})]})]}),WJ=()=>{const e=Zn(),[n,t]=Q.useState([]),[r,i]=Q.useState([]),[a,s]=Q.useState(1),[l]=Q.useState(10),[u,d]=Q.useState(!0),[f,g]=Q.useState(null),[b,m]=Q.useState([]),[x,y]=Q.useState(null),[A,w]=Q.useState(!1),[C,N]=Q.useState(null),[R,F]=Q.useState({}),q="https://rag-flask-api.onrender.com",[k,L]=Q.useState([]),[B,X]=Q.useState([]),[T,O]=Q.useState("All"),[P,j]=Q.useState("All"),[G,W]=Q.useState(null),[K,ie]=Q.useState(null),[ce,$]=Q.useState(!1),[ae,U]=Q.useState(null),[z,Z]=Q.useState(!1),[ee,oe]=Q.useState({open:!1,message:"",type:"success"}),we=()=>{oe(te=>({...te,open:!1}))};Q.useEffect(()=>{(async()=>{try{const de=(await pi(vn(e,"conversations"))).docs.map(qe=>({id:qe.id,...qe.data()}));t(de);const Ae=Array.from(new Set(de.map(qe=>qe.chatbotId)));L(de.length>0?["All",...Ae]:[]);const Le=Array.from(new Set(de.map(qe=>qe.userId)));X(de.length>0?["All",...Le]:[]),i(de)}catch(be){console.error("Error fetching chatbot conversations:",be),g("Failed to load conversations. Please try again later.")}finally{d(!1)}})()},[e]);const xe=(te,be)=>{te==="chatbot"?O(be):j(be);const de=te==="chatbot"?be:T,Ae=te==="user"?be:P;let Le=n;de!=="All"&&(Le=Le.filter(qe=>qe.chatbotId===de)),Ae!=="All"&&(Le=Le.filter(qe=>qe.userId===Ae)),i(Le),de==="All"&&Ae==="All"&&i(n),s(1)},Ee=async(te,be,de,Ae)=>{var Le,qe,Ne,Xe,ut;F(nt=>({...nt,[be]:!0})),y(null);try{const nt=await pa.get(`${q}/conversations/${te}/${be}`);m(nt.data);const ke=(await(async()=>{try{const je=new Map;return(await pi(vn(e,"chatbots"))).forEach(Je=>{je.set(Je.data().chatbotId,Je.data())}),je}catch(je){return console.error("Error fetching chatbots:",je),new Map}})()).get(te);W(ke?{chatbotId:te,chatbotTitle:ke.title||"N/A",courseTitle:((Le=ke.courseId)==null?void 0:Le.title)||"N/A",courseId:((qe=ke.courseId)==null?void 0:qe.id)||"N/A",materialTitle:((Ne=ke.material)==null?void 0:Ne.title)||"N/A",materialId:((Xe=ke.material)==null?void 0:Xe.id)||"N/A",materialLink:`https://institute-for-future-intelligence.github.io/nexlab/view-material/${((ut=ke.material)==null?void 0:ut.id)||""}`,chatbotCreatedBy:ke.createdBy||"Unknown",chatbotCreatedAt:ke.timestamp||"N/A"}:null),ie({userId:de,startedAt:Ae}),N({chatbotId:te,conversationId:be}),w(!0)}catch(nt){console.error("Error fetching conversation or chatbot details:",nt),y("Failed to fetch conversation history or chatbot details.")}finally{F(nt=>({...nt,[be]:!1}))}},De=a*l,Me=De-l,We=r.slice(Me,De);if(u)return h.jsx(he,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:h.jsx(hi,{})});if(f)return h.jsx(he,{sx:{textAlign:"center",mt:4},children:h.jsx(ge,{variant:"h6",color:"error",children:f})});const Ye=te=>{U(te),$(!0)},Y=()=>{$(!1),U(null)},Se=async()=>{if(ae){Z(!0);try{await R6(bn(e,"conversations",ae)),t(te=>te.filter(be=>be.id!==ae)),i(te=>te.filter(be=>be.id!==ae)),oe({open:!0,message:"Conversation deleted successfully.",type:"success"}),Y()}catch(te){console.error("Error deleting conversation:",te),oe({open:!0,message:"Failed to delete the conversation. Please try again.",type:"error"})}finally{Z(!1),Y()}}};return h.jsxs(he,{className:"profile-container",sx:{p:4},children:[h.jsx(Fl,{title:"Chatbot Conversations"}),h.jsxs(he,{sx:{display:"flex",gap:2,mb:3},children:[h.jsxs(Su,{sx:{minWidth:200},children:[h.jsx(Lc,{id:"filter-chatbot-id",children:"Filter by Chatbot ID"}),h.jsx(Ll,{labelId:"filter-chatbot-id",value:T,onChange:te=>xe("chatbot",te.target.value),children:k.length>0?k.map(te=>h.jsx(Xn,{value:te,children:te},te)):h.jsx(Xn,{value:"",disabled:!0,children:"No Chatbots Available"})})]}),h.jsxs(Su,{sx:{minWidth:200},children:[h.jsx(Lc,{id:"filter-user-id",children:"Filter by User ID"}),h.jsx(Ll,{labelId:"filter-user-id",value:P,onChange:te=>xe("user",te.target.value),children:B.map(te=>h.jsx(Xn,{value:te,children:te},te))})]})]}),T!=="All"&&h.jsx($J,{chatbotId:T}),h.jsxs(he,{className:"profile-container",sx:{p:4},children:[h.jsx(iZ,{conversations:We,onViewHistory:(te,be,de)=>Ee(te,be,de.userId,de.startedAt),onDeleteConversation:Ye,loadingMap:R,loading:u}),h.jsx(HJ,{open:ce,onClose:Y,onConfirm:Se,conversationId:ae||"",deleting:z})]}),h.jsx(UJ,{totalItems:r.length,itemsPerPage:l,currentPage:a,onPageChange:s}),C&&G&&K&&h.jsx(BJ,{open:A,onClose:()=>{w(!1),N(null)},conversationHistory:b,conversationId:C.conversationId,conversationHistoryError:x,chatbotDetails:G,userId:K.userId,startedAt:K.startedAt}),h.jsx(nl,{open:ee.open,autoHideDuration:3e3,onClose:we,message:ee.message,anchorOrigin:{vertical:"top",horizontal:"center"},ContentProps:{style:{backgroundColor:ee.type==="success"?"#4caf50":"#f44336"}}})]})},YJ=({requests:e,loading:n=!1,onApprove:t,chatbotIdMap:r,onChatbotIdChange:i})=>{const[a,s]=Q.useState(0),[l,u]=Q.useState(10),d=A=>{switch(A.toLowerCase()){case"approved":return"success";case"pending":return"warning";case"denied":return"error";default:return"default"}},f=A=>A.charAt(0).toUpperCase()+A.slice(1),g=(A,w)=>A==="approved"?"Approved":A==="denied"?"Denied":"Enter ID",b=[{id:"title",label:"Title",width:"15%",render:A=>h.jsx(Rs,{text:A,maxLength:999,weight:"semibold"})},{id:"courseNumber",label:"Course",width:"18%",render:(A,w)=>h.jsxs(he,{sx:{display:"flex",flexDirection:"column",gap:st[1]},children:[h.jsx(Sp,{courseId:w.courseId,courseNumber:A,courseTitle:w.courseTitle,variant:"link",maxTitleLength:999}),h.jsx($j,{courseId:w.courseId})]})},{id:"materialTitle",label:"Material",width:"15%",render:(A,w)=>h.jsxs(he,{sx:{display:"flex",flexDirection:"column",gap:st[1]},children:[A&&w.materialId?h.jsx(qj,{materialId:w.materialId,materialTitle:A,variant:"link",maxTitleLength:999}):h.jsx(Rs,{text:"N/A",variant:"secondary"}),w.materialId&&h.jsx(WM,{materialId:w.materialId})]})},{id:"educatorId",label:"Educator",width:"12%",render:A=>h.jsx(ch,{userId:A,userType:"educator"})},{id:"timestamp",label:"Submitted",width:"10%",render:A=>h.jsx(Ap,{date:new Date(A),format:"full"})},{id:"status",label:"Status",width:"8%",render:A=>h.jsx(gv,{label:f(A),status:d(A)})},{id:"files",label:"Files",width:"8%",render:A=>h.jsxs(he,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[A&&A.length>0?A.slice(0,2).map((w,C)=>h.jsxs(qg,{href:w,target:"_blank",rel:"noopener noreferrer",sx:{fontSize:"0.7rem",color:se.primary[600],textDecoration:"none","&:hover":{textDecoration:"underline"}},children:["File ",C+1]},C)):h.jsx(Rs,{text:"No files",variant:"secondary"}),A&&A.length>2&&h.jsx(Rs,{text:`+${A.length-2}`,variant:"secondary"})]})},{id:"chatbotId",label:"Chatbot ID",width:"12%",render:(A,w)=>w.status==="pending"?h.jsx(Wt,{size:"small",variant:"outlined",placeholder:"Enter ID",value:r[w.id]||"",onChange:N=>i(w.id,N.target.value),sx:{width:"100%","& .MuiOutlinedInput-root":{fontSize:Ie.fontSize.xs,height:"32px",fontFamily:"monospace"}}}):A?h.jsx(Uj,{chatbotId:A}):h.jsx(Rs,{text:"Not assigned",variant:"secondary"})},{id:"actions",label:"Action",width:"8%",align:"center",render:(A,w)=>{var R;const C=w.status==="pending",N=(R=r[w.id])==null?void 0:R.trim();return C?h.jsx(Vg,{actions:[{icon:Ld.add,tooltip:N?"Approve Request":"Enter Chatbot ID first",onClick:()=>t(w.id,r[w.id]),disabled:!N,color:se.success,hoverColor:se.success+"20"}]}):h.jsx(Rs,{text:g(w.status),variant:"secondary",weight:"medium"})}}],m=(A,w)=>{s(w)},x=A=>{u(parseInt(A.target.value,10)),s(0)},y=e.slice(a*l,a*l+l);return h.jsxs(he,{children:[h.jsx(uh,{data:y,columns:b,loading:n,emptyMessage:"No chatbot requests found.",stickyHeader:!1}),e.length>0&&h.jsx(yn,{elevation:0,sx:{borderRadius:0,borderTop:`1px solid ${se.neutral[200]}`},children:h.jsx(RR,{rowsPerPageOptions:[5,10,25,50],component:"div",count:e.length,rowsPerPage:l,page:a,onPageChange:m,onRowsPerPageChange:x,sx:{"& .MuiTablePagination-toolbar":{paddingLeft:st[4],paddingRight:st[4]},"& .MuiTablePagination-selectLabel, & .MuiTablePagination-displayedRows":{color:se.text.secondary,fontSize:Ie.fontSize.sm}}})})]})},VJ=()=>{const[e,n]=Q.useState([]),[t,r]=Q.useState(!0),[i,a]=Q.useState({}),[s,l]=Q.useState(!1),[u,d]=Q.useState(""),[f,g]=Q.useState("success");Q.useEffect(()=>{(async()=>{const A=Zn(),w=vn(A,"chatbotRequests");try{const N=(await pi(w)).docs.map(R=>({id:R.id,...R.data()}));n(N)}catch(C){console.error("Error fetching chatbot requests:",C)}finally{r(!1)}})()},[]);const b=async y=>{const A=i[y];if(!A){d("Please assign a Chatbot ID before approving the request."),g("error"),l(!0);return}try{const w=Zn(),C=bn(w,"chatbotRequests",y),N=await Oa(C);if(!N.exists()){d("Request not found. Please refresh the page."),g("error"),l(!0);return}const R=N.data();if(R.status!=="pending"){d("This request has already been processed."),g("warning"),l(!0);return}await Wr(C,{status:"approved",chatbotId:A});const F={chatbotId:A,title:R.title,courseId:{id:R.courseId,number:R.courseNumber,title:R.courseTitle},material:{id:R.materialId||null,title:R.materialTitle||"N/A"},createdBy:R.educatorId,files:R.files,timestamp:new Date().toISOString()};await Ma(vn(w,"chatbots"),F),n(q=>q.map(k=>k.id===y?{...k,status:"approved",chatbotId:A}:k)),d("Chatbot request approved and chatbot created successfully!"),g("success"),l(!0)}catch(w){console.error("Error approving chatbot request or creating chatbot:",w),d("Failed to approve the request and create the chatbot. Please try again."),g("error"),l(!0)}},m=()=>{l(!1)},x=(y,A)=>{a(w=>({...w,[y]:A}))};return t?h.jsx(he,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:h.jsx(hi,{})}):e.length===0?h.jsx(ge,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):h.jsxs(he,{sx:{p:st[6],backgroundColor:se.background.primary,minHeight:"100vh"},children:[h.jsx(Fl,{title:"Chatbot Requests Management"}),h.jsx(ge,{variant:"body1",sx:{mb:st[4],color:se.text.secondary},children:"Manage chatbot requests submitted by educators. Approve requests and assign Chatbot IDs."}),h.jsx(YJ,{requests:e,loading:t,onApprove:b,chatbotIdMap:i,onChatbotIdChange:x}),h.jsx(nl,{open:s,autoHideDuration:6e3,onClose:m,children:h.jsx(vr,{onClose:m,severity:f,sx:{width:"100%"},children:u})})]})},Tg=Zn(),jg={CHATBOTS:"chatbots",QUIZ_SESSIONS:"quizSessions",QUIZ_EVENTS:"quizEvents",USERS:"users"},GJ=async()=>{var e,n,t,r;try{console.log(" Loading chatbots with quiz information...");const i=tl(vn(Tg,jg.CHATBOTS),hv("timestamp","desc")),a=await pi(i),s=[];for(const l of a.docs){const u=l.data(),d={chatbotId:u.chatbotId,title:u.title||"Untitled Chatbot",materialTitle:((e=u.material)==null?void 0:e.title)||"Unknown Material",materialId:((n=u.material)==null?void 0:n.id)||"",courseId:((t=u.courseId)==null?void 0:t.id)||"",courseTitle:((r=u.courseId)==null?void 0:r.title)||"Unknown Course",createdBy:u.createdBy||"",timestamp:u.timestamp||new Date().toISOString(),quizId:null,hasQuiz:!0};s.push(d)}for(const l of s)try{const u=tl(vn(Tg,jg.QUIZ_SESSIONS),wi("chatbotId","==",l.chatbotId),pv(1)),d=await pi(u);if(!d.empty){const f=d.docs[0].data();l.quizId=f.quizId||null}}catch(u){console.warn(` Could not fetch quiz ID for chatbot ${l.chatbotId}:`,u),l.quizId=null}return console.log(` Loaded ${s.length} chatbots with quiz information`),s}catch(i){throw console.error(" Error loading chatbots with quizzes:",i),i}},QJ=async(e={},n=100,t)=>{var r,i;try{console.log(" Loading enhanced quiz sessions with filters:",e);const a=vn(Tg,jg.QUIZ_SESSIONS),s=[];e.chatbotId&&s.push(wi("chatbotId","==",e.chatbotId)),e.difficulty&&e.difficulty!=="all"&&s.push(wi("difficulty","==",e.difficulty)),e.completionStatus&&e.completionStatus!=="all"&&s.push(wi("completed","==",e.completionStatus==="completed")),e.userId&&s.push(wi("userId","==",e.userId)),e.dateRange&&(s.push(wi("startedAt",">=",ja.fromDate(new Date(e.dateRange.start)))),s.push(wi("startedAt","<=",ja.fromDate(new Date(e.dateRange.end))))),s.push(hv("startedAt","desc")),s.push(pv(n));const l=tl(a,...s),u=await pi(l),d=[],f=new Map;for(const m of u.docs){const x=m.data();let y=f.get(x.userId);if(!y){const R=x.userId.length>12?`${x.userId.substring(0,8)}...${x.userId.slice(-4)}`:x.userId.substring(0,12);y={email:R,displayName:`User ${R}`},f.set(x.userId,y)}let A,w;if(x.startedAt&&x.submittedAt){const R=x.startedAt.toMillis(),F=x.submittedAt.toMillis(),q=Math.round((F-R)/1e3),k=Math.floor(q/60),L=q%60;A=q,w=`${k}m ${L}s`}const C=Object.keys(x.finalAnswers||{}).length,N={id:m.id,quizId:x.quizId,chatbotId:x.chatbotId,userId:x.userId,userEmail:y.email,userName:y.displayName,difficulty:x.difficulty,startedAt:x.startedAt.toDate().toISOString(),submittedAt:(r=x.submittedAt)==null?void 0:r.toDate().toISOString(),closedAt:(i=x.closedAt)==null?void 0:i.toDate().toISOString(),completed:x.completed,answers:x.finalAnswers||{},summary:x.summary,questionsAttempted:C,timeSpent:A,timeSpentFormatted:w};d.push(N)}const g=u.docs.length===n,b=u.docs.length>0?u.docs[u.docs.length-1]:void 0;return console.log(` Loaded ${d.length} enhanced quiz sessions`),{sessions:d,hasMore:g,lastDoc:b}}catch(a){throw console.error(" Error loading enhanced quiz sessions:",a),a}},KJ=async e=>{var n;try{console.log(" Loading quiz pool for quiz:",e);const t=tl(vn(Tg,jg.QUIZ_SESSIONS),wi("quizId","==",e),hv("startedAt","desc"),pv(50)),r=await pi(t),i=new Set,a=new Map;for(const g of r.docs){const b=g.data();(n=b.summary)!=null&&n.items&&Object.keys(b.summary.items).forEach(m=>{i.add(m)}),b.finalAnswers&&Object.entries(b.finalAnswers).forEach(([m,x])=>{i.add(m),a.has(m)||a.set(m,x)})}const s=Array.from(i).map(g=>{const b=a.get(g)||"",m=b.length>0?`Question about: ${b.split(" ").slice(0,10).join(" ")}${b.split(" ").length>10?"...":""}`:"Question text not available";return{questionId:g,question:m,category:"Biology Fundamentals",difficulty:"medium",maxScore:100}}),l=s.length>0?s:[{questionId:"no-sessions-found",question:"No quiz sessions found for this quiz ID. Question IDs will appear here once students take quizzes.",category:"Biology Fundamentals",difficulty:"medium",maxScore:100}],u={},d={easy:0,medium:0,hard:0};l.forEach(g=>{u[g.category]=(u[g.category]||0)+1,d[g.difficulty]=(d[g.difficulty]||0)+1});const f={quizId:e,chatbotId:e,questions:l,categoryCounts:u,difficultyBreakdown:d,totalQuestions:l.length,lastUpdated:new Date().toISOString()};return console.log(` Loaded quiz pool with ${l.length} real question IDs from ${r.docs.length} sessions`),f}catch(t){throw console.error(" Error loading quiz pool:",t),t}},XJ=e=>{try{console.log(" Generating quiz analytics from",e.length,"sessions");const n=e.filter(f=>f.completed&&f.summary),t=e.length,r=t>0?n.length/t*100:0,i=n.length>0?n.reduce((f,g)=>{var b;return f+(((b=g.summary)==null?void 0:b.percent)||0)},0)/n.length:0,a=e.filter(f=>f.timeSpent).length>0?Math.round(e.filter(f=>f.timeSpent).reduce((f,g)=>f+(g.timeSpent||0),0)/e.filter(f=>f.timeSpent).length):0,s={easy:0,medium:0,hard:0};e.forEach(f=>{s[f.difficulty]=(s[f.difficulty]||0)+1});const l={};n.forEach(f=>{var g;(g=f.summary)!=null&&g.items&&Object.values(f.summary.items).forEach(b=>{const m="Mixed Questions";l[m]||(l[m]={averageScore:0,totalAttempts:0,successRate:0}),l[m].totalAttempts+=1,l[m].averageScore+=b.score,b.verdict==="correct"&&(l[m].successRate+=1)})}),Object.keys(l).forEach(f=>{const g=l[f];g.totalAttempts>0&&(g.averageScore=g.averageScore/g.totalAttempts,g.successRate=g.successRate/g.totalAttempts*100)});const u={daily:{},weekly:{},monthly:{}};e.forEach(f=>{const g=new Date(f.startedAt),b=g.toISOString().split("T")[0],m=`${g.getFullYear()}-W${Math.ceil(g.getDate()/7)}`,x=`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}`;u.daily[b]=(u.daily[b]||0)+1,u.weekly[m]=(u.weekly[m]||0)+1,u.monthly[x]=(u.monthly[x]||0)+1});const d={totalSessions:t,completionRate:r,averageScore:i,averageTimeSpent:a,difficultyDistribution:s,categoryPerformance:l,timeBasedStats:u};return console.log(" Generated quiz analytics:",d),d}catch(n){throw console.error(" Error generating quiz analytics:",n),n}},ZJ=async e=>{var n;try{console.log(" Exporting quiz session data for:",e);const t=await Oa(bn(Tg,jg.QUIZ_SESSIONS,e));if(!t.exists())throw new Error("Quiz session not found");const r=t.data(),i={sessionId:e,quizId:r.quizId,chatbotId:r.chatbotId,userId:r.userId,difficulty:r.difficulty,startedAt:r.startedAt.toDate().toISOString(),submittedAt:(n=r.submittedAt)==null?void 0:n.toDate().toISOString(),completed:r.completed,answers:r.finalAnswers||{},summary:r.summary,exportedAt:new Date().toISOString()},a=JSON.stringify(i,null,2),s=new Blob([a],{type:"application/json"});return console.log(" Quiz session data exported successfully"),s}catch(t){throw console.error(" Error exporting quiz session data:",t),t}},F4={difficulty:"all",completionStatus:"all"},JI=wp()(Gg(bv((e,n)=>({courses:[],selectedCourse:null,chatbotsWithQuizzes:[],filteredChatbots:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,filters:F4,selectedSession:null,loadChatbotsWithQuizzes:async()=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading chatbots with quizzes...");const t=await GJ(),r=new Map;t.forEach(a=>{r.has(a.courseId)||r.set(a.courseId,{courseId:a.courseId,courseTitle:a.courseTitle,chatbotCount:0,quizCount:0});const s=r.get(a.courseId);s.chatbotCount++,a.quizId&&s.quizCount++});const i=Array.from(r.values()).sort((a,s)=>a.courseTitle.localeCompare(s.courseTitle));e({chatbotsWithQuizzes:t,courses:i,filteredChatbots:t,loading:!1}),console.log(` Loaded ${t.length} chatbots with quiz information from ${i.length} courses`)}catch(t){console.error(" Failed to load chatbots with quizzes:",t),e({error:t instanceof Error?t.message:"Failed to load chatbots",loading:!1})}},selectCourse:t=>{console.log(" Quiz Management Store: Selecting course:",t==null?void 0:t.courseId);const{chatbotsWithQuizzes:r}=n(),i=t?r.filter(a=>a.courseId===t.courseId):r;e({selectedCourse:t,filteredChatbots:i,selectedChatbot:null,selectedSession:null,quizSessions:[]})},selectChatbot:t=>{console.log(" Quiz Management Store: Selecting chatbot:",t==null?void 0:t.chatbotId),e({selectedChatbot:t,selectedSession:null,filters:{...n().filters,chatbotId:t==null?void 0:t.chatbotId}}),t&&n().loadQuizSessions(t.chatbotId)},loadQuizSessions:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading quiz sessions for chatbot:",t);const r=n().filters,i=t?{...r,chatbotId:t}:r,a=await QJ(i);e({quizSessions:a.sessions,loading:!1}),n().generateAnalytics(),console.log(` Loaded ${a.sessions.length} enhanced quiz sessions`)}catch(r){console.error(" Failed to load quiz sessions:",r),e({error:r instanceof Error?r.message:"Failed to load quiz sessions",loading:!1})}},loadQuizPool:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading quiz pool for:",t);const r=await KJ(t);e(i=>({quizPools:{...i.quizPools,[t]:r},loading:!1})),console.log(` Loaded quiz pool with ${r.totalQuestions} questions`)}catch(r){console.error(" Failed to load quiz pool:",r),e({error:r instanceof Error?r.message:"Failed to load quiz pool",loading:!1})}},updateFilters:t=>{const r={...n().filters,...t};console.log(" Quiz Management Store: Updating filters:",r),e({filters:r}),n().loadQuizSessions(r.chatbotId)},selectSession:t=>{console.log(" Quiz Management Store: Selecting session:",t==null?void 0:t.id),e({selectedSession:t})},generateAnalytics:()=>{try{const{quizSessions:t}=n();console.log(" Quiz Management Store: Generating analytics from",t.length,"sessions");const r=XJ(t);e({analytics:r}),console.log(" Generated quiz analytics successfully")}catch(t){console.error(" Failed to generate analytics:",t),e({error:t instanceof Error?t.message:"Failed to generate analytics"})}},exportSessionData:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Exporting session data for:",t);const r=await ZJ(t),i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=`quiz-session-${t}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i),e({loading:!1}),console.log(" Quiz session data exported successfully")}catch(r){console.error(" Failed to export session data:",r),e({error:r instanceof Error?r.message:"Failed to export session data",loading:!1})}},clearError:()=>{e({error:null})},reset:()=>{console.log(" Quiz Management Store: Resetting store state"),e({chatbotsWithQuizzes:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,filters:F4,selectedSession:null})}}),{name:"quiz-management-store",partialize:e=>({filters:e.filters,selectedChatbot:e.selectedChatbot}),merge:(e,n)=>({...n,...e||{},courses:[],selectedCourse:null,chatbotsWithQuizzes:[],filteredChatbots:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,selectedSession:null})}),{name:"quiz-management-store"})),JJ=({courses:e,selectedCourse:n,onSelect:t,loading:r=!1})=>h.jsx(he,{children:h.jsx(oj,{value:n,onChange:(i,a)=>t(a),options:e,getOptionLabel:i=>i.courseTitle,loading:r,renderInput:i=>h.jsx(Wt,{...i,label:"Select Course",placeholder:"Choose a course to filter materials...",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, sans-serif","& fieldset":{borderColor:"#CDDAFF",borderWidth:2},"&:hover fieldset":{borderColor:"#0B53C0"},"&.Mui-focused fieldset":{borderColor:"#0B53C0",borderWidth:2}},"& .MuiInputLabel-root":{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",fontWeight:"bold","&.Mui-focused":{color:"#0B53C0"}}},InputProps:{...i.InputProps,endAdornment:h.jsxs(h.Fragment,{children:[r?h.jsx(hi,{color:"inherit",size:20}):null,i.InputProps.endAdornment]})}}),renderOption:(i,a)=>{const{...s}=i;return h.jsx(he,{component:"li",...s,sx:{"&:hover":{backgroundColor:"#F0F4FF !important"}},children:h.jsxs(he,{sx:{display:"flex",alignItems:"center",width:"100%",p:2},children:[h.jsx(Dd,{sx:{mr:2,flexShrink:0,color:"#0B53C0",fontSize:28}}),h.jsxs(he,{sx:{flex:1,minWidth:0},children:[h.jsx(ge,{variant:"subtitle1",noWrap:!0,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#0B53C0",fontWeight:"bold"},children:a.courseTitle}),h.jsxs(ge,{variant:"body2",sx:{fontFamily:"Gabarito, sans-serif",color:"#666666",display:"flex",alignItems:"center",mt:.5},children:[h.jsx(Rc,{sx:{fontSize:14,mr:.5}}),a.chatbotCount," material",a.chatbotCount!==1?"s":"","  ",a.quizCount," quiz",a.quizCount!==1?"zes":""," available"]})]}),h.jsxs(he,{sx:{ml:2,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:.5},children:[h.jsx(cr,{label:`${a.chatbotCount} Material${a.chatbotCount!==1?"s":""}`,size:"small",sx:{backgroundColor:"#CDDAFF",color:"#0B53C0",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}}),a.quizCount>0&&h.jsx(cr,{label:`${a.quizCount} Quiz${a.quizCount!==1?"zes":""}`,size:"small",sx:{backgroundColor:"#C8E6C9",color:"#2E7D32",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}})]})]})},a.courseId)},PaperComponent:i=>h.jsx(yn,{...i,sx:{mt:1,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #CDDAFF",backgroundColor:"#FFFFFF"}}),isOptionEqualToValue:(i,a)=>i.courseId===a.courseId,noOptionsText:r?"Loading courses...":"No courses found.",clearOnBlur:!0,selectOnFocus:!0})}),eee=({chatbots:e,selectedChatbot:n,onSelect:t,loading:r=!1})=>h.jsxs(he,{children:[h.jsx(oj,{value:n,onChange:(i,a)=>t(a),options:e,getOptionLabel:i=>i.title,loading:r,renderInput:i=>h.jsx(Wt,{...i,label:"Select Chatbot & Material",placeholder:"Choose a chatbot to view its quiz data...",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, sans-serif","& fieldset":{borderColor:"#CDDAFF",borderWidth:2},"&:hover fieldset":{borderColor:"#0B53C0"},"&.Mui-focused fieldset":{borderColor:"#0B53C0",borderWidth:2}},"& .MuiInputLabel-root":{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",fontWeight:"bold","&.Mui-focused":{color:"#0B53C0"}}},InputProps:{...i.InputProps,endAdornment:h.jsxs(h.Fragment,{children:[r?h.jsx(hi,{color:"inherit",size:20}):null,i.InputProps.endAdornment]})}}),renderOption:(i,a)=>{const{...s}=i;return h.jsx(he,{component:"li",...s,sx:{"&:hover":{backgroundColor:"#F0F4FF !important"}},children:h.jsxs(he,{sx:{display:"flex",alignItems:"center",width:"100%",p:2},children:[h.jsx(Rc,{sx:{mr:2,flexShrink:0,color:"#0B53C0",fontSize:28}}),h.jsxs(he,{sx:{flex:1,minWidth:0},children:[h.jsx(ge,{variant:"subtitle1",noWrap:!0,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#0B53C0",fontWeight:"bold"},children:a.title}),h.jsxs(ge,{variant:"body2",noWrap:!0,sx:{fontFamily:"Gabarito, sans-serif",color:"#666666",display:"flex",alignItems:"center",mt:.5},children:[h.jsx(MR,{sx:{fontSize:14,mr:.5}}),a.materialTitle]}),h.jsxs(ge,{variant:"caption",noWrap:!0,sx:{fontFamily:"Gabarito, sans-serif",color:"#888888",display:"flex",alignItems:"center",mt:.25},children:[h.jsx(Dd,{sx:{fontSize:12,mr:.5}}),a.courseTitle]})]}),h.jsxs(he,{sx:{ml:2,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:.5},children:[a.quizId&&h.jsx(cr,{label:"Quiz Available",size:"small",sx:{backgroundColor:"#C8E6C9",color:"#2E7D32",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}}),h.jsxs(ge,{variant:"caption",sx:{fontFamily:"monospace",color:a.quizId?"#0B53C0":"#888888",fontSize:"0.7rem",backgroundColor:a.quizId?"#F0F4FF":"#F5F5F5",padding:"2px 6px",borderRadius:"4px",border:`1px solid ${a.quizId?"#CDDAFF":"#E0E0E0"}`},children:["Quiz: ",a.quizId?a.quizId.substring(0,8)+"...":"N/A"]}),h.jsxs(ge,{variant:"caption",sx:{fontFamily:"monospace",color:"#888888",fontSize:"0.65rem"},children:["ChatBot: ",a.chatbotId.substring(0,8),"..."]})]})]})},a.chatbotId)},PaperComponent:i=>h.jsx(yn,{...i,sx:{mt:1,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #CDDAFF",backgroundColor:"#FFFFFF"}}),isOptionEqualToValue:(i,a)=>i.chatbotId===a.chatbotId,noOptionsText:r?"Loading chatbots...":"No chatbots found. Create a chatbot first to see quiz data.",clearOnBlur:!0,handleHomeEndKeys:!0}),e.length===0&&!r&&h.jsx(he,{sx:{mt:2,p:2,bgcolor:"info.light",borderRadius:1},children:h.jsxs(ge,{variant:"body2",color:"info.contrastText",children:[h.jsx("strong",{children:"No chatbots available."})," You need to create chatbots first before you can manage quiz sessions. Each chatbot automatically has an associated quiz with predefined questions."]})})]}),tee=({sessions:e,loading:n=!1,onViewDetails:t,onExportSession:r})=>{const i=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),a=l=>{switch(l){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},s=l=>l>=80?"success":l>=60?"warning":"error";return n?h.jsxs(he,{sx:{width:"100%",mt:2},children:[h.jsx(Ko,{}),h.jsx(ge,{variant:"body2",sx:{mt:1,textAlign:"center"},children:"Loading quiz sessions..."})]}):e.length===0?h.jsxs(he,{sx:{textAlign:"center",py:8},children:[h.jsx(Rc,{sx:{fontSize:64,color:"text.secondary",mb:2}}),h.jsx(ge,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No quiz sessions found"}),h.jsx(ge,{variant:"body2",color:"text.secondary",children:"No quiz sessions have been completed for this chatbot yet. Students need to take quizzes to see data here."})]}):h.jsx(uv,{component:yn,variant:"outlined",children:h.jsxs(cv,{children:[h.jsx(dv,{children:h.jsxs(xc,{children:[h.jsx(_n,{children:h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Rc,{fontSize:"small"}),"Session ID"]})}),h.jsx(_n,{children:h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(lj,{fontSize:"small"}),"User ID"]})}),h.jsx(_n,{children:h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(FR,{fontSize:"small"}),"Date & Time"]})}),h.jsx(_n,{children:"Difficulty"}),h.jsx(_n,{children:"Status"}),h.jsx(_n,{align:"center",children:"Questions"}),h.jsx(_n,{align:"center",children:"Time Spent"}),h.jsx(_n,{align:"center",children:"Score"}),h.jsx(_n,{align:"center",children:"Performance"}),h.jsx(_n,{align:"center",children:"Actions"})]})}),h.jsx(fv,{children:e.map(l=>h.jsxs(xc,{hover:!0,children:[h.jsx(_n,{children:h.jsx(ge,{variant:"body2",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:l.id})}),h.jsx(_n,{children:h.jsx(ge,{variant:"body2",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:l.userId})}),h.jsx(_n,{children:h.jsxs(he,{children:[h.jsx(ge,{variant:"body2",children:i(l.startedAt)}),l.submittedAt&&h.jsxs(ge,{variant:"caption",color:"text.secondary",children:["Submitted: ",i(l.submittedAt)]})]})}),h.jsx(_n,{children:h.jsx(cr,{label:l.difficulty.charAt(0).toUpperCase()+l.difficulty.slice(1),color:a(l.difficulty),size:"small"})}),h.jsx(_n,{children:h.jsx(cr,{label:l.completed?"Completed":"In Progress",color:l.completed?"success":"warning",size:"small",variant:l.completed?"filled":"outlined"})}),h.jsxs(_n,{align:"center",children:[h.jsx(ge,{variant:"body2",fontWeight:"medium",children:l.questionsAttempted}),h.jsx(ge,{variant:"caption",color:"text.secondary",children:"attempted"})]}),h.jsx(_n,{align:"center",children:l.timeSpentFormatted?h.jsxs(he,{children:[h.jsx(ge,{variant:"body2",fontWeight:"medium",children:l.timeSpentFormatted}),h.jsx(ge,{variant:"caption",color:"text.secondary",children:"duration"})]}):h.jsx(ge,{variant:"body2",color:"text.secondary",children:"-"})}),h.jsx(_n,{align:"center",children:l.summary?h.jsxs(he,{children:[h.jsxs(ge,{variant:"body2",fontWeight:"bold",children:[l.summary.total_score,"/",l.summary.total_max]}),h.jsx(ge,{variant:"caption",color:"text.secondary",children:"points"})]}):h.jsx(ge,{variant:"body2",color:"text.secondary",children:"-"})}),h.jsx(_n,{align:"center",children:l.summary?h.jsx(cr,{label:`${Math.round(l.summary.percent)}%`,color:s(l.summary.percent),size:"small"}):h.jsx(ge,{variant:"body2",color:"text.secondary",children:"-"})}),h.jsx(_n,{align:"center",children:h.jsxs(Zw,{direction:"row",spacing:1,justifyContent:"center",children:[h.jsx(Si,{title:"View Details",children:h.jsx(On,{size:"small",onClick:()=>t(l),color:"primary",children:h.jsx(L6,{fontSize:"small"})})}),h.jsx(Si,{title:"Export Data",children:h.jsx(On,{size:"small",onClick:()=>r(l.id),color:"secondary",children:h.jsx(fg,{fontSize:"small"})})})]})})]},l.id))})]})})},nee=({analytics:e})=>{const n=i=>{switch(i){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},t=i=>i>=70?"success":i>=50?"warning":"error",r=i=>{if(i===0)return"0s";const a=Math.floor(i/60),s=i%60;return a===0?`${s}s`:s===0?`${a}m`:`${a}m ${s}s`};return h.jsx(Xa,{sx:{mb:4,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:h.jsxs(Za,{sx:{p:3},children:[h.jsxs(ge,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[h.jsx(PR,{color:"primary"}),"Quiz Analytics & Insights"]}),h.jsxs(yt,{container:!0,spacing:3,sx:{mb:4},children:[h.jsx(yt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(he,{sx:{textAlign:"center",p:2,bgcolor:"#CDDAFF",borderRadius:2,border:"1px solid #0B53C0"},children:[h.jsx(Rc,{sx:{fontSize:40,color:"#0B53C0",mb:1}}),h.jsx(ge,{variant:"h4",sx:{color:"#0B53C0",fontFamily:"Staatliches, sans-serif"},children:e.totalSessions}),h.jsx(ge,{variant:"body2",sx:{color:"#0B53C0",fontFamily:"Gabarito, sans-serif"},children:"Total Sessions"})]})}),h.jsx(yt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(he,{sx:{textAlign:"center",p:2,bgcolor:"#C8E6C9",borderRadius:2,border:"1px solid #2E7D32"},children:[h.jsx(Bg,{sx:{fontSize:40,color:"#2E7D32",mb:1}}),h.jsxs(ge,{variant:"h4",sx:{color:"#2E7D32",fontFamily:"Staatliches, sans-serif"},children:[Math.round(e.completionRate),"%"]}),h.jsx(ge,{variant:"body2",sx:{color:"#2E7D32",fontFamily:"Gabarito, sans-serif"},children:"Completion Rate"})]})}),h.jsx(yt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(he,{sx:{textAlign:"center",p:2,bgcolor:"#E3F2FD",borderRadius:2,border:"1px solid #1565C0"},children:[h.jsx(uj,{sx:{fontSize:40,color:"#1565C0",mb:1}}),h.jsxs(ge,{variant:"h4",sx:{color:"#1565C0",fontFamily:"Staatliches, sans-serif"},children:[Math.round(e.averageScore),"%"]}),h.jsx(ge,{variant:"body2",sx:{color:"#1565C0",fontFamily:"Gabarito, sans-serif"},children:"Average Score"})]})}),h.jsx(yt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(he,{sx:{textAlign:"center",p:2,bgcolor:"#FFF3E0",borderRadius:2,border:"1px solid #F57C00"},children:[h.jsx(J0,{sx:{fontSize:40,color:"#F57C00",mb:1}}),h.jsx(ge,{variant:"h4",sx:{color:"#F57C00",fontFamily:"Staatliches, sans-serif"},children:r(e.averageTimeSpent)}),h.jsx(ge,{variant:"body2",sx:{color:"#F57C00",fontFamily:"Gabarito, sans-serif"},children:"Avg. Time Spent"})]})})]}),h.jsx(es,{sx:{my:3}}),h.jsxs(yt,{container:!0,spacing:4,children:[h.jsxs(yt,{item:!0,xs:12,md:6,children:[h.jsxs(ge,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Rc,{color:"primary"}),"Difficulty Distribution"]}),h.jsx(he,{sx:{mt:2},children:Object.entries(e.difficultyDistribution).map(([i,a])=>{const s=e.totalSessions>0?a/e.totalSessions*100:0;return h.jsxs(he,{sx:{mb:2},children:[h.jsxs(he,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(cr,{label:i.charAt(0).toUpperCase()+i.slice(1),color:n(i),size:"small"}),h.jsxs(ge,{variant:"body2",children:[a," sessions"]})]}),h.jsxs(ge,{variant:"body2",color:"text.secondary",children:[Math.round(s),"%"]})]}),h.jsx(Ko,{variant:"determinate",value:s,color:n(i),sx:{height:8,borderRadius:4}})]},i)})})]}),h.jsxs(yt,{item:!0,xs:12,md:6,children:[h.jsxs(ge,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Dd,{color:"primary"}),"Bloom's Taxonomy Performance"]}),h.jsx(he,{sx:{mt:2},children:Object.entries(e.categoryPerformance).map(([i,a])=>h.jsxs(he,{sx:{mb:2},children:[h.jsxs(he,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[h.jsxs(he,{children:[h.jsx(ge,{variant:"body2",fontWeight:"medium",children:i}),h.jsxs(ge,{variant:"caption",color:"text.secondary",children:[a.totalAttempts," attempts"]})]}),h.jsxs(he,{sx:{textAlign:"right"},children:[h.jsxs(ge,{variant:"body2",fontWeight:"medium",children:[Math.round(a.averageScore),"%"]}),h.jsx(cr,{label:`${a.successRate}% success`,color:t(a.successRate),size:"small",variant:"outlined"})]})]}),h.jsx(Ko,{variant:"determinate",value:a.successRate,color:t(a.successRate),sx:{height:6,borderRadius:3}})]},i))})]})]})]})})},ree=({quizId:e,open:n,onClose:t})=>{const{quizPools:r,loading:i}=JI(),a=r[e],s=u=>({Remember:"success",Understand:"info",Apply:"primary",Analyze:"warning",Evaluate:"error",Create:"secondary"})[u]||"primary",l=u=>{const d=["Remember","Understand","Apply","Analyze","Evaluate","Create"],f=u.split("").reduce((g,b)=>g+b.charCodeAt(0),0);return d[f%d.length]};return i?h.jsx(Ki,{open:n,onClose:t,maxWidth:"md",fullWidth:!0,children:h.jsx(Xi,{children:h.jsxs(he,{sx:{display:"flex",flexDirection:"column",alignItems:"center",py:4},children:[h.jsx(Ko,{sx:{width:"100%",mb:2}}),h.jsx(ge,{variant:"body1",children:"Loading quiz questions..."})]})})}):a?h.jsxs(Ki,{open:n,onClose:t,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{minHeight:"80vh"}},children:[h.jsx(fa,{children:h.jsxs(he,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs(he,{children:[h.jsx(ge,{variant:"h5",component:"div",children:"Quiz Question Pool"}),h.jsxs(ge,{variant:"body2",color:"text.secondary",children:["Quiz ID: ",e.substring(0,16),"..."]})]}),h.jsx(On,{onClick:t,edge:"end",children:h.jsx(Jw,{})})]})}),h.jsxs(Xi,{dividers:!0,children:[h.jsx(Xa,{sx:{mb:3},children:h.jsxs(Za,{children:[h.jsxs(ge,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(uj,{color:"primary"}),"Pool Statistics"]}),h.jsxs(yt,{container:!0,spacing:3,children:[h.jsx(yt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(he,{sx:{textAlign:"center",p:2,bgcolor:"primary.light",borderRadius:1},children:[h.jsx(ge,{variant:"h4",color:"primary.contrastText",children:a.totalQuestions}),h.jsx(ge,{variant:"body2",color:"primary.contrastText",children:"Total Questions"})]})}),h.jsx(yt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(he,{sx:{textAlign:"center",p:2,bgcolor:"success.light",borderRadius:1},children:[h.jsx(ge,{variant:"h4",color:"success.contrastText",children:a.difficultyBreakdown.easy||0}),h.jsx(ge,{variant:"body2",color:"success.contrastText",children:"Easy Questions"})]})}),h.jsx(yt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(he,{sx:{textAlign:"center",p:2,bgcolor:"warning.light",borderRadius:1},children:[h.jsx(ge,{variant:"h4",color:"warning.contrastText",children:a.difficultyBreakdown.medium||0}),h.jsx(ge,{variant:"body2",color:"warning.contrastText",children:"Medium Questions"})]})}),h.jsx(yt,{item:!0,xs:12,sm:6,md:3,children:h.jsxs(he,{sx:{textAlign:"center",p:2,bgcolor:"error.light",borderRadius:1},children:[h.jsx(ge,{variant:"h4",color:"error.contrastText",children:a.difficultyBreakdown.hard||0}),h.jsx(ge,{variant:"body2",color:"error.contrastText",children:"Hard Questions"})]})})]})]})}),h.jsx(Xa,{sx:{mb:3},children:h.jsxs(Za,{children:[h.jsxs(ge,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(zR,{color:"primary"}),"Bloom's Taxonomy Categories"]}),h.jsx(yt,{container:!0,spacing:2,children:Object.entries(a.categoryCounts).map(([u,d])=>{const f=d/a.totalQuestions*100;return h.jsx(yt,{item:!0,xs:12,sm:6,md:4,children:h.jsxs(he,{sx:{p:2,border:"1px solid",borderColor:"grey.300",borderRadius:1},children:[h.jsxs(he,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[h.jsx(cr,{label:u,color:s(u),size:"small"}),h.jsxs(ge,{variant:"body2",fontWeight:"bold",children:[d," questions"]})]}),h.jsx(Ko,{variant:"determinate",value:f,color:s(u),sx:{height:6,borderRadius:3}}),h.jsxs(ge,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:[Math.round(f),"% of total"]})]})},u)})})]})}),h.jsx(Xa,{children:h.jsxs(Za,{children:[h.jsxs(ge,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(cj,{color:"primary"}),"Quiz Questions"]}),h.jsx(ge,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"All available question IDs from the quiz pool. Questions are categorized using Bloom's taxonomy levels and automatically selected based on quiz difficulty mode."}),h.jsx(uv,{component:yn,variant:"outlined",children:h.jsxs(cv,{children:[h.jsx(dv,{children:h.jsxs(xc,{children:[h.jsx(_n,{children:"Question ID"}),h.jsx(_n,{children:"Question"}),h.jsx(_n,{align:"center",children:"Bloom's Taxonomy Category"})]})}),h.jsx(fv,{children:a.questions.map((u,d)=>{const f=l(u.category);return h.jsxs(xc,{hover:!0,children:[h.jsx(_n,{children:h.jsx(ge,{variant:"body2",fontFamily:"monospace",children:u.questionId})}),h.jsx(_n,{children:h.jsx(ge,{variant:"body2",sx:{maxWidth:400},children:u.question.length>120?`${u.question.substring(0,120)}...`:u.question})}),h.jsx(_n,{align:"center",children:h.jsx(cr,{label:f,color:s(f),size:"small"})})]},u.questionId)})})]})})]})}),h.jsx(es,{sx:{my:3}}),h.jsxs(he,{sx:{p:2,bgcolor:"info.light",borderRadius:1},children:[h.jsxs(ge,{variant:"body2",color:"info.contrastText",children:[h.jsx("strong",{children:"Quiz Question Pool:"})," This shows the available questions that can be selected for quizzes. When students take a quiz, questions are automatically chosen from this pool based on the selected difficulty mode: Easy (~5 questions), Medium (~8 questions), Hard (~10 questions)."]}),h.jsxs(ge,{variant:"caption",color:"info.contrastText",sx:{mt:1,display:"block"},children:[h.jsx("strong",{children:"Note:"})," This is placeholder data for demonstration. Actual questions will be loaded from the quiz API."]})]})]}),h.jsx(ha,{children:h.jsx(At,{onClick:t,variant:"contained",children:"Close"})})]}):h.jsxs(Ki,{open:n,onClose:t,maxWidth:"md",fullWidth:!0,children:[h.jsx(fa,{children:h.jsxs(he,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsx(ge,{variant:"h6",children:"Quiz Pool"}),h.jsx(On,{onClick:t,edge:"end",children:h.jsx(Jw,{})})]})}),h.jsx(Xi,{children:h.jsxs(he,{sx:{textAlign:"center",py:4},children:[h.jsx(ge,{variant:"h6",color:"text.secondary",children:"Quiz pool not found"}),h.jsxs(ge,{variant:"body2",color:"text.secondary",children:["Unable to load questions for quiz ID: ",e]})]})}),h.jsx(ha,{children:h.jsx(At,{onClick:t,children:"Close"})})]})},iee=({session:e,open:n,onClose:t})=>{const r=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),i=u=>{switch(u){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},a=u=>u==="correct"?"success":"error",s=u=>{const d=e.answers[u];if(!d)return"Question text not available";const f=d.split(" ");return f.length>15?`Question about: ${f.slice(0,15).join(" ")}...`:`Question about: ${d.substring(0,100)}${d.length>100?"...":""}`},l=()=>{const u={sessionId:e.id,quizId:e.quizId,chatbotId:e.chatbotId,student:{userId:e.userId,name:e.userName,email:e.userEmail},quiz:{difficulty:e.difficulty,startedAt:e.startedAt,submittedAt:e.submittedAt,completed:e.completed,timeSpent:e.timeSpent},answers:e.answers,summary:e.summary,exportedAt:new Date().toISOString()},d=JSON.stringify(u,null,2),f=new Blob([d],{type:"application/json"}),g=URL.createObjectURL(f),b=document.createElement("a");b.href=g,b.download=`quiz-session-${e.id}.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(g)};return h.jsxs(Ki,{open:n,onClose:t,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{minHeight:"80vh"}},children:[h.jsx(fa,{children:h.jsxs(he,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs(he,{children:[h.jsx(ge,{variant:"h5",component:"div",children:"Quiz Session Details"}),h.jsxs(ge,{variant:"body2",color:"text.secondary",children:["Session ID: ",e.id]})]}),h.jsx(On,{onClick:t,edge:"end",children:h.jsx(Jw,{})})]})}),h.jsxs(Xi,{dividers:!0,children:[h.jsx(Xa,{sx:{mb:3},children:h.jsxs(Za,{children:[h.jsxs(ge,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(lj,{color:"primary"}),"User Information"]}),h.jsx(yt,{container:!0,spacing:2,children:h.jsxs(yt,{item:!0,xs:12,children:[h.jsx(ge,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),h.jsx(ge,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all"},children:e.userId})]})})]})}),h.jsx(Xa,{sx:{mb:3},children:h.jsxs(Za,{children:[h.jsxs(ge,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(Rc,{color:"primary"}),"Quiz Information"]}),h.jsxs(yt,{container:!0,spacing:2,children:[h.jsxs(yt,{item:!0,xs:12,md:6,children:[h.jsx(ge,{variant:"subtitle2",color:"text.secondary",children:"Quiz ID"}),h.jsx(ge,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:e.quizId})]}),h.jsxs(yt,{item:!0,xs:12,md:6,children:[h.jsx(ge,{variant:"subtitle2",color:"text.secondary",children:"Chatbot ID"}),h.jsx(ge,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:e.chatbotId})]}),h.jsxs(yt,{item:!0,xs:12,md:6,children:[h.jsx(ge,{variant:"subtitle2",color:"text.secondary",children:"Difficulty"}),h.jsx(cr,{label:e.difficulty.charAt(0).toUpperCase()+e.difficulty.slice(1),color:i(e.difficulty),size:"small"})]}),h.jsxs(yt,{item:!0,xs:12,md:6,children:[h.jsx(ge,{variant:"subtitle2",color:"text.secondary",children:"Status"}),h.jsx(cr,{label:e.completed?"Completed":"In Progress",color:e.completed?"success":"warning",size:"small"})]}),h.jsxs(yt,{item:!0,xs:12,md:6,children:[h.jsx(ge,{variant:"subtitle2",color:"text.secondary",children:"Questions Attempted"}),h.jsxs(ge,{variant:"body1",children:[e.questionsAttempted," questions answered"]})]}),h.jsxs(yt,{item:!0,xs:12,md:6,children:[h.jsx(ge,{variant:"subtitle2",color:"text.secondary",children:"Quiz Mode"}),h.jsx(ge,{variant:"body1",children:e.difficulty==="easy"?"~5 questions (Remember/Understand focus)":e.difficulty==="medium"?"~8 questions (Mixed difficulty)":"~10 questions (Analyze/Evaluate focus)"})]})]})]})}),h.jsx(Xa,{sx:{mb:3},children:h.jsxs(Za,{children:[h.jsxs(ge,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsx(J0,{color:"primary"}),"Session Timeline"]}),h.jsxs(yt,{container:!0,spacing:2,children:[h.jsxs(yt,{item:!0,xs:12,md:4,children:[h.jsx(ge,{variant:"subtitle2",color:"text.secondary",children:"Started At"}),h.jsx(ge,{variant:"body1",children:r(e.startedAt)})]}),e.submittedAt&&h.jsxs(yt,{item:!0,xs:12,md:4,children:[h.jsx(ge,{variant:"subtitle2",color:"text.secondary",children:"Submitted At"}),h.jsx(ge,{variant:"body1",children:r(e.submittedAt)})]}),e.timeSpentFormatted&&h.jsxs(yt,{item:!0,xs:12,md:4,children:[h.jsx(ge,{variant:"subtitle2",color:"text.secondary",children:"Time Spent"}),h.jsx(ge,{variant:"body1",children:e.timeSpentFormatted})]})]})]})}),e.summary&&h.jsx(Xa,{sx:{mb:3},children:h.jsxs(Za,{children:[h.jsx(ge,{variant:"h6",gutterBottom:!0,children:"Quiz Results"}),h.jsxs(yt,{container:!0,spacing:2,sx:{mb:3},children:[h.jsx(yt,{item:!0,xs:12,md:4,children:h.jsxs(he,{sx:{textAlign:"center",p:2,bgcolor:"primary.light",borderRadius:1},children:[h.jsx(ge,{variant:"h4",color:"primary.contrastText",children:e.summary.total_score}),h.jsx(ge,{variant:"body2",color:"primary.contrastText",children:"Total Score"})]})}),h.jsx(yt,{item:!0,xs:12,md:4,children:h.jsxs(he,{sx:{textAlign:"center",p:2,bgcolor:"info.light",borderRadius:1},children:[h.jsx(ge,{variant:"h4",color:"info.contrastText",children:e.summary.total_max}),h.jsx(ge,{variant:"body2",color:"info.contrastText",children:"Maximum Score"})]})}),h.jsx(yt,{item:!0,xs:12,md:4,children:h.jsxs(he,{sx:{textAlign:"center",p:2,bgcolor:"success.light",borderRadius:1},children:[h.jsxs(ge,{variant:"h4",color:"success.contrastText",children:[Math.round(e.summary.percent),"%"]}),h.jsx(ge,{variant:"body2",color:"success.contrastText",children:"Percentage"})]})})]}),h.jsx(es,{sx:{my:2}}),h.jsx(ge,{variant:"h6",gutterBottom:!0,children:"Question Results"}),h.jsx(uv,{component:yn,variant:"outlined",children:h.jsxs(cv,{size:"small",children:[h.jsx(dv,{children:h.jsxs(xc,{children:[h.jsx(_n,{children:"Question"}),h.jsx(_n,{align:"center",children:"Score"}),h.jsx(_n,{align:"center",children:"Max Score"}),h.jsx(_n,{align:"center",children:"Verdict"}),h.jsx(_n,{children:"Reasoning"})]})}),h.jsx(fv,{children:Object.entries(e.summary.items).map(([u,d])=>h.jsxs(xc,{children:[h.jsxs(_n,{children:[h.jsx(ge,{variant:"body2",sx:{mb:1},children:s(u)}),h.jsxs(ge,{variant:"caption",color:"text.secondary",fontFamily:"monospace",children:["ID: ",u]})]}),h.jsx(_n,{align:"center",children:h.jsx(ge,{variant:"body2",fontWeight:"bold",children:d.score})}),h.jsx(_n,{align:"center",children:h.jsx(ge,{variant:"body2",children:d.max_score})}),h.jsx(_n,{align:"center",children:(()=>{let f;return d.verdict==="correct"?f="correct":d.verdict==="incorrect"?f="incorrect":f=d.score>=d.max_score*.7?"correct":"incorrect",h.jsx(cr,{label:f,color:a(f),size:"small",icon:f==="correct"?h.jsx(Bg,{}):h.jsx(O6,{})})})()}),h.jsx(_n,{children:h.jsx(ge,{variant:"body2",children:d.reasoning||"No reasoning provided"})})]},u))})]})})]})}),Object.keys(e.answers).length>0&&h.jsx(Xa,{children:h.jsxs(Za,{children:[h.jsx(ge,{variant:"h6",gutterBottom:!0,children:"User Answers"}),Object.entries(e.answers).map(([u,d],f)=>h.jsxs(Sd,{children:[h.jsx(Ad,{expandIcon:h.jsx(Wo,{}),children:h.jsxs(ge,{variant:"subtitle1",children:["Question ",f+1," (",u,")"]})}),h.jsx(Cd,{children:h.jsx(he,{sx:{p:2,bgcolor:"grey.50",borderRadius:1},children:h.jsx(ge,{variant:"body1",sx:{whiteSpace:"pre-wrap"},children:d})})})]},u))]})})]}),h.jsxs(ha,{children:[h.jsx(At,{startIcon:h.jsx(fg,{}),onClick:l,variant:"outlined",children:"Export Session Data"}),h.jsx(At,{onClick:t,variant:"contained",children:"Close"})]})]})},aee=()=>{ma();const{userDetails:e}=Ai(),{courses:n,selectedCourse:t,chatbotsWithQuizzes:r,filteredChatbots:i,selectedChatbot:a,quizSessions:s,analytics:l,loading:u,error:d,filters:f,selectedSession:g,loadChatbotsWithQuizzes:b,selectCourse:m,selectChatbot:x,loadQuizSessions:y,loadQuizPool:A,updateFilters:w,selectSession:C,exportSessionData:N,clearError:R}=JI(),[F,q]=Q.useState(!1),[k,L]=Q.useState(!1),[B,X]=Q.useState("");Q.useEffect(()=>{console.log(" Enhanced Quiz Management Page: Initializing..."),b()},[b]);const T=$=>{m($),$&&console.log(" Selected course:",$.courseTitle,"with",$.chatbotCount,"chatbots")},O=$=>{x($),$&&console.log(" Selected chatbot:",$.title,"with quiz ID:",$.quizId)},P=$=>{C($),q(!0)},j=async $=>{await A($),L(!0)},G=()=>{b(),a&&y(a.chatbotId)},W=async $=>{await N($)},K=$=>{w({difficulty:$})},ie=$=>{w({completionStatus:$})},ce=$=>{X($),w({userId:$||void 0})};return u&&r.length===0?h.jsxs(he,{sx:{width:"100%",mt:2},children:[h.jsx(Ko,{}),h.jsx(ge,{variant:"body2",sx:{mt:1,textAlign:"center"},children:"Loading quiz management data..."})]}):h.jsxs(he,{className:"profile-container",children:[h.jsx(Fl,{title:"Quiz Management"}),h.jsx(he,{sx:{mb:4},children:h.jsx(he,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:h.jsx(he,{children:h.jsx(Zw,{direction:"row",spacing:2,children:h.jsx(Si,{title:"Refresh Data",children:h.jsx("span",{children:h.jsx(On,{onClick:G,disabled:u,children:h.jsx(nj,{})})})})})})})}),d&&h.jsx(vr,{severity:"error",sx:{mb:3},onClose:R,children:d}),h.jsx(Xa,{sx:{mb:4,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:h.jsxs(Za,{sx:{p:3},children:[h.jsxs(ge,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[h.jsx(Dd,{color:"primary"}),"Course & Quiz Selection"]}),h.jsx(ge,{variant:"body2",sx:{mb:3,fontFamily:"Gabarito, sans-serif",color:"#666666"},children:"First select a course to filter materials, then choose a specific chatbot to view its quiz sessions and manage quiz data."}),h.jsx(he,{sx:{mb:3},children:h.jsx(JJ,{courses:n,selectedCourse:t,onSelect:T,loading:u})}),h.jsx(he,{children:h.jsx(eee,{chatbots:i,selectedChatbot:a,onSelect:O,loading:u})}),a&&h.jsxs(he,{sx:{mt:3,p:2,bgcolor:"#F0F4FF",borderRadius:2,border:"1px solid #CDDAFF"},children:[h.jsxs(yt,{container:!0,spacing:2,children:[h.jsxs(yt,{item:!0,xs:12,md:6,children:[h.jsx(ge,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Material"}),h.jsx(ge,{variant:"body1",sx:{fontFamily:"Gabarito, sans-serif"},children:a.materialTitle})]}),h.jsxs(yt,{item:!0,xs:12,md:3,children:[h.jsx(ge,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Course"}),h.jsx(ge,{variant:"body1",sx:{fontFamily:"Gabarito, sans-serif"},children:a.courseTitle})]}),h.jsxs(yt,{item:!0,xs:12,md:3,children:[h.jsx(ge,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Quiz ID"}),h.jsx(ge,{variant:"body1",fontFamily:"monospace",sx:{fontSize:"0.875rem",wordBreak:"break-all",lineHeight:1.2},children:a.quizId||"No Quiz ID Available"})]})]}),h.jsxs(he,{sx:{mt:2,display:"flex",gap:2},children:[h.jsx(At,{variant:"outlined",startIcon:h.jsx(cj,{}),onClick:()=>a.quizId&&j(a.quizId),size:"small",sx:{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",borderColor:"#0B53C0","&:hover":{backgroundColor:"#0B53C0",color:"#FFFFFF"}},children:"View Quiz Questions"}),h.jsx(n_,{badgeContent:s.length,color:"primary",children:h.jsx(At,{variant:"outlined",size:"small",sx:{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",borderColor:"#0B53C0"},children:"Quiz Sessions"})})]})]})]})}),l&&h.jsx(nee,{analytics:l}),a&&h.jsx(Xa,{sx:{backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:h.jsxs(Za,{sx:{p:3},children:[h.jsxs(he,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[h.jsxs(ge,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[h.jsx(Rc,{color:"primary"}),"Quiz Sessions",h.jsx(n_,{badgeContent:s.length,color:"primary",sx:{ml:1}})]}),h.jsxs(Zw,{direction:"row",spacing:2,alignItems:"center",flexWrap:"wrap",children:[h.jsx(Wt,{size:"small",label:"Filter by User ID",placeholder:"Enter user ID...",value:B,onChange:$=>ce($.target.value),sx:{minWidth:200}}),h.jsxs(Su,{size:"small",sx:{minWidth:120},children:[h.jsx(Lc,{children:"Difficulty"}),h.jsxs(Ll,{value:f.difficulty||"all",label:"Difficulty",onChange:$=>K($.target.value),children:[h.jsx(Xn,{value:"all",children:"All Levels"}),h.jsx(Xn,{value:"easy",children:"Easy"}),h.jsx(Xn,{value:"medium",children:"Medium"}),h.jsx(Xn,{value:"hard",children:"Hard"})]})]}),h.jsxs(Su,{size:"small",sx:{minWidth:120},children:[h.jsx(Lc,{children:"Status"}),h.jsxs(Ll,{value:f.completionStatus||"all",label:"Status",onChange:$=>ie($.target.value),children:[h.jsx(Xn,{value:"all",children:"All Sessions"}),h.jsx(Xn,{value:"completed",children:"Completed"}),h.jsx(Xn,{value:"incomplete",children:"In Progress"})]})]})]})]}),h.jsx(tee,{sessions:s,loading:u,onViewDetails:P,onExportSession:W})]})}),g&&h.jsx(iee,{session:g,open:F,onClose:()=>q(!1)}),(a==null?void 0:a.quizId)&&h.jsx(ree,{quizId:a.quizId,open:k,onClose:()=>L(!1)})]})},see=Q.lazy(()=>Li(()=>import("./index-CFo5ghDC.js"),__vite__mapDeps([7,4,1,5]))),oee=Q.lazy(()=>Li(()=>import("./index-6h6aRmBT.js"),__vite__mapDeps([8,4,1,5,9,10]))),lee=Q.lazy(()=>Li(()=>import("./SupplementalMaterials-CVy4Ok8e.js"),__vite__mapDeps([11,4,1,5]))),uee=Q.lazy(()=>Li(()=>import("./MessagesPage-B7GVek-w.js"),__vite__mapDeps([12,4,1,5,9]))),Wy=({element:e})=>h.jsx(Pj,{children:h.jsx(Js,{element:e})}),cee=({element:e})=>h.jsx(mv,{children:e}),dee=(e,n)=>[{path:"/",element:e?h.jsx(Pj,{children:h.jsx(rF,{})}):h.jsx(cee,{element:h.jsx(see,{})})},{path:"/messages",element:h.jsx(Wy,{element:uee})},{path:"/laboratory-notebooks",element:h.jsx(Wy,{element:oee})},{path:"/supplemental-materials",element:h.jsx(Wy,{element:lee})},{path:"/my-profile",element:h.jsx(Wy,{element:AX})},{path:"/add-material",element:h.jsx(Js,{element:VO})},{path:"/edit-material/:id",element:h.jsx(Js,{element:qQ})},{path:"/view-material/:id",element:h.jsx(Js,{element:dX})},{path:"/add-message",element:h.jsx(Js,{element:fX})},{path:"/edit-message/:id",element:h.jsx(Js,{element:hX})},{path:"/chatbot-management",element:h.jsx(Js,{element:eZ})},{path:"/course-management",element:h.jsx(Js,{element:MX})},{path:"/request-chatbot",element:h.jsx(Js,{element:rZ})},{path:"/quiz-management",element:h.jsx(Js,{element:aee})},{path:"/request-educator-permissions",element:h.jsx(Js,{element:HX})},{path:"/educator-requests",element:h.jsx(Js,{element:YX})},{path:"/request-new-course",element:h.jsx(VX,{})},{path:"/course-requests",element:h.jsx(QX,{})},{path:"/super-admin-course-management",element:h.jsx(XX,{})},{path:"/super-admin-chatbot-requests",element:h.jsx(Js,{element:VJ})},...n?[{path:"/user-management",element:h.jsx(Js,{element:bX})},{path:"/chatbot-conversations",element:h.jsx(Js,{element:WJ})}]:[],{path:"*",element:h.jsx(Dj,{to:"/"})}],fee=rj(zj()),hee=wp()(bv((e,n)=>({isOpen:!0,isMobile:!1,messagesExpanded:!1,setOpen:t=>e({isOpen:t}),setMobile:t=>e({isMobile:t}),toggleMessages:()=>e(t=>({messagesExpanded:!t.messagesExpanded})),toggleSidebar:()=>e(t=>({isOpen:!t.isOpen}))}),{name:"nexlab-sidebar-storage",partialize:e=>({isOpen:e.isOpen,messagesExpanded:e.messagesExpanded})})),pee=()=>{const e=xp(),n=Id(e.breakpoints.down("md"));return{...hee(),isMobile:n}},mee=({children:e})=>{const n=ma(),t=Wg(),{userDetails:r,isSuperAdmin:i}=Ai(),{isOpen:a,isMobile:s,messagesExpanded:l,setOpen:u,toggleMessages:d,toggleSidebar:f}=pee(),g=C=>{n(C),s&&u(!1)},b=C=>t.pathname===C,m=[{title:"Home",icon:h.jsx(qR,{}),path:"/",roles:["student","educator","superadmin"],color:se.primary[500]},{title:"My Account",icon:h.jsx(Kw,{}),path:"/my-profile",roles:["student","educator","superadmin"],color:se.primary[500]},{title:"Messages",icon:h.jsx(ij,{}),path:"/messages",roles:["student","educator","superadmin"],expandable:!0,color:se.info},{title:"Course Materials",icon:h.jsx(Dd,{}),path:"/supplemental-materials",roles:["student","educator","superadmin"],color:se.warning},{title:"Laboratory Notebook",icon:h.jsx(j6,{}),path:"/laboratory-notebooks",roles:["student","educator","superadmin"],disabled:r&&!r.isAdmin&&(!r.classes||Object.keys(r.classes).length===0),color:se.secondary[500]}],x=[{title:"Course Management",icon:h.jsx(Nx,{}),path:"/course-management",roles:["educator","superadmin"],color:se.primary[600]},{title:"Chatbot Management",icon:h.jsx(r_,{}),path:"/chatbot-management",roles:["educator","superadmin"],color:se.secondary[600]},{title:"Quiz Management",icon:h.jsx(Rc,{}),path:"/quiz-management",roles:["educator","superadmin"],color:se.warning},{title:"Request Chatbot",icon:h.jsx(r_,{}),path:"/request-chatbot",roles:["educator","superadmin"],color:se.info}],y=[{title:"User Management",icon:h.jsx(WR,{}),path:"/user-management",roles:["superadmin"],color:se.error},{title:"Educator Requests",icon:h.jsx(i_,{}),path:"/educator-requests",roles:["superadmin"],color:se.info},{title:"Course Requests",icon:h.jsx(Nx,{}),path:"/course-requests",roles:["superadmin"],color:se.primary[600]},{title:"Super Admin Chatbot Requests",icon:h.jsx(i_,{}),path:"/super-admin-chatbot-requests",roles:["superadmin"],color:se.warning},{title:"Chatbot Conversations",icon:h.jsx(dj,{}),path:"/chatbot-conversations",roles:["superadmin"],color:se.primary[700]},{title:"Super Admin Course Management",icon:h.jsx(YR,{}),path:"/super-admin-course-management",roles:["superadmin"],color:se.secondary[700]}],A=C=>{const N=b(C.path),R=i?"superadmin":r!=null&&r.isAdmin?"educator":"student";if(!C.roles.includes(R))return null;const q=h.jsxs(d1,{onClick:()=>{C.expandable&&a?d():g(C.path)},disabled:C.disabled,sx:{minHeight:56,justifyContent:a?"initial":"center",px:a?3:2,mx:1,borderRadius:jt.lg,backgroundColor:N?C.color:"transparent",color:N?se.text.inverse:se.text.primary,fontFamily:Ie.fontFamily.display,fontWeight:N?Ie.fontWeight.bold:Ie.fontWeight.medium,fontSize:Ie.fontSize.lg,transition:"all 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94)",boxShadow:N?Ut.sm:"none","&:hover":{backgroundColor:N?C.color:se.neutral[100],transform:"translateY(-1px)",boxShadow:N?Ut.md:Ut.sm},"&:disabled":{opacity:.5,cursor:"not-allowed"}},children:[h.jsx(Zy,{sx:{minWidth:0,mr:a?2:"auto",justifyContent:"center",color:N?se.text.inverse:C.color,transition:"all 300ms cubic-bezier(0.25, 0.46, 0.45, 0.94)"},children:C.icon}),a&&h.jsx(Ol,{primary:C.title,sx:{opacity:a?1:0,transform:a?"translateX(0)":"translateX(-20px)",transition:"opacity 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94)","& .MuiListItemText-primary":{fontSize:Ie.fontSize.lg,fontWeight:N?Ie.fontWeight.bold:Ie.fontWeight.medium,fontFamily:Ie.fontFamily.display}}}),C.expandable&&a&&h.jsx(he,{sx:{ml:"auto"},children:l?h.jsx(dg,{}):h.jsx(Wo,{})})]});return C.disabled&&a?h.jsx(Si,{title:"Enroll in a course to access this feature",placement:"right",children:h.jsx("span",{children:q})}):q},w=h.jsxs(he,{sx:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:se.background.secondary,borderRight:`1px solid ${se.neutral[200]}`},children:[h.jsxs(he,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:a?3:2,minHeight:80,backgroundColor:se.background.primary,borderBottom:`1px solid ${se.neutral[200]}`,boxShadow:Ut.sm},children:[a&&h.jsx(he,{sx:{display:"flex",alignItems:"center",gap:2,flex:1},children:h.jsx(he,{sx:{flex:1}})}),h.jsx(On,{onClick:f,sx:{backgroundColor:se.primary[100],color:se.primary[600],"&:hover":{backgroundColor:se.primary[200],transform:"scale(1.08) rotate(5deg)",boxShadow:Ut.md},"&:active":{transform:"scale(0.95)"},transition:"all 250ms cubic-bezier(0.34, 1.56, 0.64, 1)",borderRadius:jt.lg,zIndex:1001},children:a?h.jsx(BR,{}):h.jsx(UR,{})})]}),h.jsxs(he,{sx:{flexGrow:1,overflow:"auto",py:2,"&::-webkit-scrollbar":{width:a?"8px":"6px",transition:"width 300ms ease"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:a?se.neutral[300]:se.neutral[200],borderRadius:"4px",transition:"background 300ms ease","&:hover":{background:a?se.neutral[400]:se.neutral[300]}},"&::-webkit-scrollbar-thumb:hover":{background:a?se.neutral[400]:se.neutral[300]},scrollbarWidth:"thin",scrollbarColor:`${a?se.neutral[300]:se.neutral[200]} transparent`},children:[h.jsx(zf,{sx:{px:1},children:m.map((C,N)=>h.jsxs(vd,{disablePadding:!0,sx:{display:"block",mb:.5},children:[A(C),C.expandable&&a&&h.jsx(cg,{in:l,timeout:"auto",unmountOnExit:!0,children:h.jsxs(zf,{component:"div",disablePadding:!0,sx:{mt:1},children:[h.jsx(d1,{sx:{pl:6,mx:1,borderRadius:jt.lg,backgroundColor:se.neutral[50],"&:hover":{backgroundColor:se.neutral[100]}},onClick:()=>g("/messages"),children:h.jsx(Ol,{primary:"View Messages",sx:{"& .MuiListItemText-primary":{fontSize:Ie.fontSize.sm,fontFamily:Ie.fontFamily.secondary}}})}),h.jsx(d1,{sx:{pl:6,mx:1,borderRadius:jt.lg,backgroundColor:se.neutral[50],"&:hover":{backgroundColor:se.neutral[100]}},onClick:()=>g("/add-message"),children:h.jsx(Ol,{primary:"Add Message",sx:{"& .MuiListItemText-primary":{fontSize:Ie.fontSize.sm,fontFamily:Ie.fontFamily.secondary}}})})]})})]},N))}),(r==null?void 0:r.isAdmin)&&h.jsxs(h.Fragment,{children:[h.jsx(es,{sx:{my:3,mx:2,borderColor:se.neutral[200]}}),h.jsx(he,{sx:{px:3,py:1},children:a&&h.jsx(ge,{variant:"caption",sx:{fontFamily:Ie.fontFamily.display,fontWeight:Ie.fontWeight.bold,color:se.warning,fontSize:Ie.fontSize.xs,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Educator Tools"})}),h.jsx(zf,{sx:{px:1},children:x.map((C,N)=>h.jsx(vd,{disablePadding:!0,sx:{display:"block",mb:.5},children:A(C)},`educator-${N}`))})]}),i&&h.jsxs(h.Fragment,{children:[h.jsx(es,{sx:{my:3,mx:2,borderColor:se.neutral[200]}}),h.jsx(he,{sx:{px:3,py:1},children:a&&h.jsx(ge,{variant:"caption",sx:{fontFamily:Ie.fontFamily.display,fontWeight:Ie.fontWeight.bold,color:se.error,fontSize:Ie.fontSize.xs,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Super Admin Tools"})}),h.jsx(zf,{sx:{px:1},children:y.map((C,N)=>h.jsx(vd,{disablePadding:!0,sx:{display:"block",mb:.5},children:A(C)},`superadmin-${N}`))})]}),h.jsxs(he,{sx:{mt:"auto",p:2,borderTop:`1px solid ${se.neutral[200]}`,backgroundColor:se.background.primary},children:[h.jsx(he,{sx:{mb:2},children:h.jsxs(d1,{onClick:()=>{window.open("https://help.waveshi.org","_blank","noopener,noreferrer")},sx:{borderRadius:jt.lg,backgroundColor:se.secondary[50],color:se.secondary[700],fontFamily:Ie.fontFamily.display,fontWeight:Ie.fontWeight.medium,fontSize:Ie.fontSize.lg,"&:hover":{backgroundColor:se.secondary[100],transform:"translateY(-1px)",boxShadow:Ut.sm},transition:wc.transitions.normal},children:[h.jsx(Zy,{sx:{color:se.secondary[600]},children:h.jsx($R,{})}),a&&h.jsx(Ol,{primary:"Provide Feedback",sx:{"& .MuiListItemText-primary":{fontSize:Ie.fontSize.lg,fontWeight:Ie.fontWeight.medium,fontFamily:Ie.fontFamily.display}}})]})}),h.jsxs(d1,{onClick:async()=>{try{await Lj.signOut()}catch(C){console.error("Logout failed:",C)}},sx:{borderRadius:jt.lg,backgroundColor:se.error+"20",color:se.error,fontFamily:Ie.fontFamily.display,fontWeight:Ie.fontWeight.medium,fontSize:Ie.fontSize.lg,"&:hover":{backgroundColor:se.error+"30",transform:"translateY(-1px)",boxShadow:Ut.sm},transition:wc.transitions.normal},children:[h.jsx(Zy,{sx:{color:se.error},children:h.jsx(HR,{})}),a&&h.jsx(Ol,{primary:"Logout",sx:{"& .MuiListItemText-primary":{fontSize:Ie.fontSize.lg,fontWeight:Ie.fontWeight.medium,fontFamily:Ie.fontFamily.display}}})]})]})]})]});return h.jsxs(he,{sx:{display:"flex",height:"100%",width:"100%"},children:[h.jsx(he,{sx:{width:a?320:100,height:"100%",flexShrink:0,transition:"width 400ms cubic-bezier(0.25, 0.46, 0.45, 0.94), box-shadow 300ms ease-out",backgroundColor:se.primary[100],borderRight:`1px solid ${se.primary[200]}`,boxShadow:a?Ut.xl:Ut.md,overflow:"hidden",position:"relative",zIndex:1e3,"&::-webkit-scrollbar":{width:a?"8px":"6px",transition:"width 300ms ease"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:a?se.neutral[300]:se.neutral[200],borderRadius:"4px",transition:"background 300ms ease","&:hover":{background:a?se.neutral[400]:se.neutral[300]}},scrollbarWidth:"thin",scrollbarColor:`${a?se.neutral[300]:se.neutral[200]} transparent`},children:w}),h.jsx(he,{sx:{flexGrow:1,height:"100%",backgroundColor:"#F0F4FF",overflow:"auto",transition:"margin-left 400ms cubic-bezier(0.25, 0.46, 0.45, 0.94)"},children:e})]})},gee=()=>h.jsx(he,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",padding:st[4],backgroundColor:se.primary[100],borderBottom:`1px solid ${se.primary[200]}`,boxShadow:Ut.sm,height:"12.5vh",minHeight:90},children:h.jsxs(he,{sx:{display:"flex",alignItems:"center",gap:st[4],width:"100%"},children:[h.jsx("img",{src:"/nexlab/nexlab-logo.png",alt:"NexLab Logo",style:{height:85,borderRadius:jt.lg}}),h.jsx(he,{className:"divider",sx:{height:"85px",borderLeft:`2px solid ${se.primary[500]}`,marginRight:st[5]}}),h.jsx(ge,{variant:"h4",component:"p",sx:{color:se.primary[700],fontFamily:Ie.fontFamily.secondary,fontSize:Ie.fontSize["2xl"],fontWeight:Ie.fontWeight.normal,whiteSpace:"nowrap",flex:1},children:"Next-Generation Experiments and Learning for Advanced Biotech"})]})}),bee=()=>h.jsxs(he,{sx:{backgroundColor:se.primary[100],borderTop:`1px solid ${se.primary[200]}`,height:"10vh",minHeight:70,display:"flex",flexDirection:"column",justifyContent:"center"},children:[h.jsx(es,{}),h.jsxs(he,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flex:1,px:st[4],gap:st[4]},children:[h.jsx(he,{sx:{flex:.25,display:"flex",justifyContent:"center"},children:h.jsx("img",{src:"/nexlab/FooterLogoLong.png",alt:"Partner Logos",style:{height:60,borderRadius:jt.lg,border:`1px solid ${se.primary[700]}`,opacity:.8}})}),h.jsx(he,{className:"divider",sx:{height:"60px",borderLeft:`2px solid ${se.primary[500]}`,opacity:.8}}),h.jsx(he,{sx:{flex:.4},children:h.jsx(ge,{variant:"body2",sx:{color:se.primary[700],fontFamily:Ie.fontFamily.secondary,fontSize:Ie.fontSize.sm,lineHeight:1.4,opacity:.8},children:"This project is supported by the National Science Foundation (NSF) under grant number #2300976. Any opinions, findings, and conclusions or recommendations expressed in this material, however, are those of the authors and do not necessarily reflect the views of NSF."})}),h.jsx(he,{className:"divider",sx:{height:"60px",borderLeft:`2px solid ${se.primary[500]}`,opacity:.8}}),h.jsxs(he,{sx:{flex:.1},children:[h.jsx(ge,{variant:"body2",sx:{color:se.primary[700],fontFamily:Ie.fontFamily.secondary,fontSize:Ie.fontSize.sm,lineHeight:1.4,opacity:.8,mb:1},children:"Legal:"}),h.jsxs(ge,{variant:"body2",sx:{color:se.primary[700],fontFamily:Ie.fontFamily.secondary,fontSize:Ie.fontSize.sm,lineHeight:1.4,opacity:.8},children:[h.jsx("a",{href:"https://intofuture.org/nexlab-privacy.html",target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline",opacity:.8},children:"Privacy Policy"}),"  ",h.jsx("a",{href:"https://intofuture.org/nexlab-terms.html",target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline",opacity:.8},children:"Terms of Service"})]})]}),h.jsx(he,{className:"divider",sx:{height:"60px",borderLeft:`2px solid ${se.primary[500]}`,opacity:.8}}),h.jsx(he,{sx:{flex:.25},children:h.jsx(ge,{variant:"body2",sx:{color:se.primary[700],fontFamily:Ie.fontFamily.secondary,fontSize:Ie.fontSize.sm,lineHeight:1.4,opacity:.8},children:" 2025 Institute for Future Intelligence and Kapi'olani Community College Antibody Engineering & Research Projects."})})]})]}),P4=["http","https","mailto","tel"];function yee(e){const n=(e||"").trim(),t=n.charAt(0);if(t==="#"||t==="/")return n;const r=n.indexOf(":");if(r===-1)return n;let i=-1;for(;++i<P4.length;){const a=P4[i];if(r===a.length&&n.slice(0,a.length).toLowerCase()===a)return n}return i=n.indexOf("?"),i!==-1&&r>i||(i=n.indexOf("#"),i!==-1&&r>i)?n:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Cw,z4;function xee(){return z4||(z4=1,Cw=function(n){return n!=null&&n.constructor!=null&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}),Cw}var vee=xee();const eD=ts(vee);function ig(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?q4(e.position):"start"in e||"end"in e?q4(e):"line"in e||"column"in e?t6(e):""}function t6(e){return B4(e&&e.line)+":"+B4(e&&e.column)}function q4(e){return t6(e&&e.start)+"-"+t6(e&&e.end)}function B4(e){return e&&typeof e=="number"?e:1}class Pl extends Error{constructor(n,t,r){const i=[null,null];let a={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof t=="string"&&(r=t,t=void 0),typeof r=="string"){const s=r.indexOf(":");s===-1?i[1]=r:(i[0]=r.slice(0,s),i[1]=r.slice(s+1))}t&&("type"in t||"position"in t?t.position&&(a=t.position):"start"in t||"end"in t?a=t:("line"in t||"column"in t)&&(a.start=t)),this.name=ig(t)||"1:1",this.message=typeof n=="object"?n.message:n,this.stack="",typeof n=="object"&&n.stack&&(this.stack=n.stack),this.reason=this.message,this.fatal,this.line=a.start.line,this.column=a.start.column,this.position=a,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}Pl.prototype.file="";Pl.prototype.name="";Pl.prototype.reason="";Pl.prototype.message="";Pl.prototype.stack="";Pl.prototype.fatal=null;Pl.prototype.column=null;Pl.prototype.line=null;Pl.prototype.source=null;Pl.prototype.ruleId=null;Pl.prototype.position=null;const lc={basename:wee,dirname:See,extname:Aee,join:Cee,sep:"/"};function wee(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');ob(e);let t=0,r=-1,i=e.length,a;if(n===void 0||n.length===0||n.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(a){t=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(t,r)}if(n===e)return"";let s=-1,l=n.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(a){t=i+1;break}}else s<0&&(a=!0,s=i+1),l>-1&&(e.charCodeAt(i)===n.charCodeAt(l--)?l<0&&(r=i):(l=-1,r=s));return t===r?r=s:r<0&&(r=e.length),e.slice(t,r)}function See(e){if(ob(e),e.length===0)return".";let n=-1,t=e.length,r;for(;--t;)if(e.charCodeAt(t)===47){if(r){n=t;break}}else r||(r=!0);return n<0?e.charCodeAt(0)===47?"/":".":n===1&&e.charCodeAt(0)===47?"//":e.slice(0,n)}function Aee(e){ob(e);let n=e.length,t=-1,r=0,i=-1,a=0,s;for(;n--;){const l=e.charCodeAt(n);if(l===47){if(s){r=n+1;break}continue}t<0&&(s=!0,t=n+1),l===46?i<0?i=n:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||t<0||a===0||a===1&&i===t-1&&i===r+1?"":e.slice(i,t)}function Cee(...e){let n=-1,t;for(;++n<e.length;)ob(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":Eee(t)}function Eee(e){ob(e);const n=e.charCodeAt(0)===47;let t=_ee(e,!n);return t.length===0&&!n&&(t="."),t.length>0&&e.charCodeAt(e.length-1)===47&&(t+="/"),n?"/"+t:t}function _ee(e,n){let t="",r=0,i=-1,a=0,s=-1,l,u;for(;++s<=e.length;){if(s<e.length)l=e.charCodeAt(s);else{if(l===47)break;l=47}if(l===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(u=t.lastIndexOf("/"),u!==t.length-1){u<0?(t="",r=0):(t=t.slice(0,u),r=t.length-1-t.lastIndexOf("/")),i=s,a=0;continue}}else if(t.length>0){t="",r=0,i=s,a=0;continue}}n&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+e.slice(i+1,s):t=e.slice(i+1,s),r=s-i-1;i=s,a=0}else l===46&&a>-1?a++:a=-1}return t}function ob(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const kee={cwd:Nee};function Nee(){return"/"}function n6(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function Tee(e){if(typeof e=="string")e=new URL(e);else if(!n6(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return jee(e)}function jee(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const n=e.pathname;let t=-1;for(;++t<n.length;)if(n.charCodeAt(t)===37&&n.charCodeAt(t+1)===50){const r=n.charCodeAt(t+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(n)}const Ew=["history","path","basename","stem","extname","dirname"];class tD{constructor(n){let t;n?typeof n=="string"||Oee(n)?t={value:n}:n6(n)?t={path:n}:t=n:t={},this.data={},this.messages=[],this.history=[],this.cwd=kee.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<Ew.length;){const a=Ew[r];a in t&&t[a]!==void 0&&t[a]!==null&&(this[a]=a==="history"?[...t[a]]:t[a])}let i;for(i in t)Ew.includes(i)||(this[i]=t[i])}get path(){return this.history[this.history.length-1]}set path(n){n6(n)&&(n=Tee(n)),kw(n,"path"),this.path!==n&&this.history.push(n)}get dirname(){return typeof this.path=="string"?lc.dirname(this.path):void 0}set dirname(n){U4(this.basename,"dirname"),this.path=lc.join(n||"",this.basename)}get basename(){return typeof this.path=="string"?lc.basename(this.path):void 0}set basename(n){kw(n,"basename"),_w(n,"basename"),this.path=lc.join(this.dirname||"",n)}get extname(){return typeof this.path=="string"?lc.extname(this.path):void 0}set extname(n){if(_w(n,"extname"),U4(this.dirname,"extname"),n){if(n.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=lc.join(this.dirname,this.stem+(n||""))}get stem(){return typeof this.path=="string"?lc.basename(this.path,this.extname):void 0}set stem(n){kw(n,"stem"),_w(n,"stem"),this.path=lc.join(this.dirname||"",n+(this.extname||""))}toString(n){return(this.value||"").toString(n||void 0)}message(n,t,r){const i=new Pl(n,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(n,t,r){const i=this.message(n,t,r);return i.fatal=null,i}fail(n,t,r){const i=this.message(n,t,r);throw i.fatal=!0,i}}function _w(e,n){if(e&&e.includes(lc.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+lc.sep+"`")}function kw(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function U4(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function Oee(e){return eD(e)}function $4(e){if(e)throw e}var Nw,H4;function Iee(){if(H4)return Nw;H4=1;var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):n.call(d)==="[object Array]"},a=function(d){if(!d||n.call(d)!=="[object Object]")return!1;var f=e.call(d,"constructor"),g=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!f&&!g)return!1;var b;for(b in d);return typeof b>"u"||e.call(d,b)},s=function(d,f){t&&f.name==="__proto__"?t(d,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):d[f.name]=f.newValue},l=function(d,f){if(f==="__proto__")if(e.call(d,f)){if(r)return r(d,f).value}else return;return d[f]};return Nw=function u(){var d,f,g,b,m,x,y=arguments[0],A=1,w=arguments.length,C=!1;for(typeof y=="boolean"&&(C=y,y=arguments[1]||{},A=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});A<w;++A)if(d=arguments[A],d!=null)for(f in d)g=l(y,f),b=l(d,f),y!==b&&(C&&b&&(a(b)||(m=i(b)))?(m?(m=!1,x=g&&i(g)?g:[]):x=g&&a(g)?g:{},s(y,{name:f,newValue:u(C,x,b)})):typeof b<"u"&&s(y,{name:f,newValue:b}));return y},Nw}var Dee=Iee();const W4=ts(Dee);function r6(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Lee(){const e=[],n={run:t,use:r};return n;function t(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...i);function l(u,...d){const f=e[++a];let g=-1;if(u){s(u);return}for(;++g<i.length;)(d[g]===null||d[g]===void 0)&&(d[g]=i[g]);i=d,f?Ree(f,l)(...d):s(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),n}}function Ree(e,n){let t;return r;function r(...s){const l=e.length>s.length;let u;l&&s.push(i);try{u=e.apply(this,s)}catch(d){const f=d;if(l&&t)throw f;return i(f)}l||(u&&u.then&&typeof u.then=="function"?u.then(a,i):u instanceof Error?i(u):a(u))}function i(s,...l){t||(t=!0,n(s,...l))}function a(s){i(null,s)}}const Mee=rD().freeze(),nD={}.hasOwnProperty;function rD(){const e=Lee(),n=[];let t={},r,i=-1;return a.data=s,a.Parser=void 0,a.Compiler=void 0,a.freeze=l,a.attachers=n,a.use=u,a.parse=d,a.stringify=f,a.run=g,a.runSync=b,a.process=m,a.processSync=x,a;function a(){const y=rD();let A=-1;for(;++A<n.length;)y.use(...n[A]);return y.data(W4(!0,{},t)),y}function s(y,A){return typeof y=="string"?arguments.length===2?(Ow("data",r),t[y]=A,a):nD.call(t,y)&&t[y]||null:y?(Ow("data",r),t=y,a):t}function l(){if(r)return a;for(;++i<n.length;){const[y,...A]=n[i];if(A[0]===!1)continue;A[0]===!0&&(A[0]=void 0);const w=y.call(a,...A);typeof w=="function"&&e.use(w)}return r=!0,i=Number.POSITIVE_INFINITY,a}function u(y,...A){let w;if(Ow("use",r),y!=null)if(typeof y=="function")F(y,...A);else if(typeof y=="object")Array.isArray(y)?R(y):N(y);else throw new TypeError("Expected usable value, not `"+y+"`");return w&&(t.settings=Object.assign(t.settings||{},w)),a;function C(q){if(typeof q=="function")F(q);else if(typeof q=="object")if(Array.isArray(q)){const[k,...L]=q;F(k,...L)}else N(q);else throw new TypeError("Expected usable value, not `"+q+"`")}function N(q){R(q.plugins),q.settings&&(w=Object.assign(w||{},q.settings))}function R(q){let k=-1;if(q!=null)if(Array.isArray(q))for(;++k<q.length;){const L=q[k];C(L)}else throw new TypeError("Expected a list of plugins, not `"+q+"`")}function F(q,k){let L=-1,B;for(;++L<n.length;)if(n[L][0]===q){B=n[L];break}B?(r6(B[1])&&r6(k)&&(k=W4(!0,B[1],k)),B[1]=k):n.push([...arguments])}}function d(y){a.freeze();const A=D1(y),w=a.Parser;return Tw("parse",w),Y4(w,"parse")?new w(String(A),A).parse():w(String(A),A)}function f(y,A){a.freeze();const w=D1(A),C=a.Compiler;return jw("stringify",C),V4(y),Y4(C,"compile")?new C(y,w).compile():C(y,w)}function g(y,A,w){if(V4(y),a.freeze(),!w&&typeof A=="function"&&(w=A,A=void 0),!w)return new Promise(C);C(null,w);function C(N,R){e.run(y,D1(A),F);function F(q,k,L){k=k||y,q?R(q):N?N(k):w(null,k,L)}}}function b(y,A){let w,C;return a.run(y,A,N),G4("runSync","run",C),w;function N(R,F){$4(R),w=F,C=!0}}function m(y,A){if(a.freeze(),Tw("process",a.Parser),jw("process",a.Compiler),!A)return new Promise(w);w(null,A);function w(C,N){const R=D1(y);a.run(a.parse(R),R,(q,k,L)=>{if(q||!k||!L)F(q);else{const B=a.stringify(k,L);B==null||(zee(B)?L.value=B:L.result=B),F(q,L)}});function F(q,k){q||!k?N(q):C?C(k):A(null,k)}}}function x(y){let A;a.freeze(),Tw("processSync",a.Parser),jw("processSync",a.Compiler);const w=D1(y);return a.process(w,C),G4("processSync","process",A),w;function C(N){A=!0,$4(N)}}}function Y4(e,n){return typeof e=="function"&&e.prototype&&(Fee(e.prototype)||n in e.prototype)}function Fee(e){let n;for(n in e)if(nD.call(e,n))return!0;return!1}function Tw(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function jw(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function Ow(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function V4(e){if(!r6(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function G4(e,n,t){if(!t)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function D1(e){return Pee(e)?e:new tD(e)}function Pee(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function zee(e){return typeof e=="string"||eD(e)}const qee={};function Bee(e,n){const t=qee,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return iD(e,r,i)}function iD(e,n,t){if(Uee(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Q4(e.children,n,t)}return Array.isArray(e)?Q4(e,n,t):""}function Q4(e,n,t){const r=[];let i=-1;for(;++i<e.length;)r[i]=iD(e[i],n,t);return r.join("")}function Uee(e){return!!(e&&typeof e=="object")}function zc(e,n,t,r){const i=e.length;let a=0,s;if(n<0?n=-n>i?0:i+n:n=n>i?i:n,t=t>0?t:0,r.length<1e4)s=Array.from(r),s.unshift(n,t),e.splice(...s);else for(t&&e.splice(n,t);a<r.length;)s=r.slice(a,a+1e4),s.unshift(n,0),e.splice(...s),a+=1e4,n+=1e4}function Nl(e,n){return e.length>0?(zc(e,e.length,0,n),e):n}const K4={}.hasOwnProperty;function $ee(e){const n={};let t=-1;for(;++t<e.length;)Hee(n,e[t]);return n}function Hee(e,n){let t;for(t in n){const i=(K4.call(e,t)?e[t]:void 0)||(e[t]={}),a=n[t];let s;if(a)for(s in a){K4.call(i,s)||(i[s]=[]);const l=a[s];Wee(i[s],Array.isArray(l)?l:l?[l]:[])}}}function Wee(e,n){let t=-1;const r=[];for(;++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);zc(e,0,0,r)}const Yee=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,yc=hh(/[A-Za-z]/),Qo=hh(/[\dA-Za-z]/),Vee=hh(/[#-'*+\--9=?A-Z^-~]/);function i6(e){return e!==null&&(e<32||e===127)}const a6=hh(/\d/),Gee=hh(/[\dA-Fa-f]/),Qee=hh(/[!-/:-@[-`{-~]/);function hn(e){return e!==null&&e<-2}function xo(e){return e!==null&&(e<0||e===32)}function xr(e){return e===-2||e===-1||e===32}const Kee=hh(Yee),Xee=hh(/\s/);function hh(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function ai(e,n,t,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(u){return xr(u)?(e.enter(t),l(u)):n(u)}function l(u){return xr(u)&&a++<i?(e.consume(u),l):(e.exit(t),n(u))}}const Zee={tokenize:Jee};function Jee(e){const n=e.attempt(this.parser.constructs.contentInitial,r,i);let t;return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),ai(e,n,"linePrefix")}function i(l){return e.enter("paragraph"),a(l)}function a(l){const u=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=u),t=u,s(l)}function s(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return hn(l)?(e.consume(l),e.exit("chunkText"),a):(e.consume(l),s)}}const ete={tokenize:tte},X4={tokenize:nte};function tte(e){const n=this,t=[];let r=0,i,a,s;return l;function l(N){if(r<t.length){const R=t[r];return n.containerState=R[1],e.attempt(R[0].continuation,u,d)(N)}return d(N)}function u(N){if(r++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,i&&C();const R=n.events.length;let F=R,q;for(;F--;)if(n.events[F][0]==="exit"&&n.events[F][1].type==="chunkFlow"){q=n.events[F][1].end;break}w(r);let k=R;for(;k<n.events.length;)n.events[k][1].end=Object.assign({},q),k++;return zc(n.events,F+1,0,n.events.slice(R)),n.events.length=k,d(N)}return l(N)}function d(N){if(r===t.length){if(!i)return b(N);if(i.currentConstruct&&i.currentConstruct.concrete)return x(N);n.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(X4,f,g)(N)}function f(N){return i&&C(),w(r),b(N)}function g(N){return n.parser.lazy[n.now().line]=r!==t.length,s=n.now().offset,x(N)}function b(N){return n.containerState={},e.attempt(X4,m,x)(N)}function m(N){return r++,t.push([n.currentConstruct,n.containerState]),b(N)}function x(N){if(N===null){i&&C(),w(0),e.consume(N);return}return i=i||n.parser.flow(n.now()),e.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),y(N)}function y(N){if(N===null){A(e.exit("chunkFlow"),!0),w(0),e.consume(N);return}return hn(N)?(e.consume(N),A(e.exit("chunkFlow")),r=0,n.interrupt=void 0,l):(e.consume(N),y)}function A(N,R){const F=n.sliceStream(N);if(R&&F.push(null),N.previous=a,a&&(a.next=N),a=N,i.defineSkip(N.start),i.write(F),n.parser.lazy[N.start.line]){let q=i.events.length;for(;q--;)if(i.events[q][1].start.offset<s&&(!i.events[q][1].end||i.events[q][1].end.offset>s))return;const k=n.events.length;let L=k,B,X;for(;L--;)if(n.events[L][0]==="exit"&&n.events[L][1].type==="chunkFlow"){if(B){X=n.events[L][1].end;break}B=!0}for(w(r),q=k;q<n.events.length;)n.events[q][1].end=Object.assign({},X),q++;zc(n.events,L+1,0,n.events.slice(k)),n.events.length=q}}function w(N){let R=t.length;for(;R-- >N;){const F=t[R];n.containerState=F[1],F[0].exit.call(n,e)}t.length=N}function C(){i.write([null]),a=void 0,i=void 0,n.containerState._closeFlow=void 0}}function nte(e,n,t){return ai(e,e.attempt(this.parser.constructs.document,n,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Z4(e){if(e===null||xo(e)||Xee(e))return 1;if(Kee(e))return 2}function jA(e,n,t){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(n=a(n,t),r.push(a))}return n}const s6={name:"attention",tokenize:ite,resolveAll:rte};function rte(e,n){let t=-1,r,i,a,s,l,u,d,f;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(r=t;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&n.sliceSerialize(e[r][1]).charCodeAt(0)===n.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[r][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;const g=Object.assign({},e[r][1].end),b=Object.assign({},e[t][1].start);J4(g,-u),J4(b,u),s={type:u>1?"strongSequence":"emphasisSequence",start:g,end:Object.assign({},e[r][1].end)},l={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[t][1].start),end:b},a={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[t][1].start)},i={type:u>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},l.end)},e[r][1].end=Object.assign({},s.start),e[t][1].start=Object.assign({},l.end),d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=Nl(d,[["enter",e[r][1],n],["exit",e[r][1],n]])),d=Nl(d,[["enter",i,n],["enter",s,n],["exit",s,n],["enter",a,n]]),d=Nl(d,jA(n.parser.constructs.insideSpan.null,e.slice(r+1,t),n)),d=Nl(d,[["exit",a,n],["enter",l,n],["exit",l,n],["exit",i,n]]),e[t][1].end.offset-e[t][1].start.offset?(f=2,d=Nl(d,[["enter",e[t][1],n],["exit",e[t][1],n]])):f=0,zc(e,r-1,t-r+3,d),t=r+d.length-f-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function ite(e,n){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Z4(r);let a;return s;function s(u){return a=u,e.enter("attentionSequence"),l(u)}function l(u){if(u===a)return e.consume(u),l;const d=e.exit("attentionSequence"),f=Z4(u),g=!f||f===2&&i||t.includes(u),b=!i||i===2&&f||t.includes(r);return d._open=!!(a===42?g:g&&(i||!b)),d._close=!!(a===42?b:b&&(f||!g)),n(u)}}function J4(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const ate={name:"autolink",tokenize:ste};function ste(e,n,t){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return yc(m)?(e.consume(m),s):d(m)}function s(m){return m===43||m===45||m===46||Qo(m)?(r=1,l(m)):d(m)}function l(m){return m===58?(e.consume(m),r=0,u):(m===43||m===45||m===46||Qo(m))&&r++<32?(e.consume(m),l):(r=0,d(m))}function u(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),n):m===null||m===32||m===60||i6(m)?t(m):(e.consume(m),u)}function d(m){return m===64?(e.consume(m),f):Vee(m)?(e.consume(m),d):t(m)}function f(m){return Qo(m)?g(m):t(m)}function g(m){return m===46?(e.consume(m),r=0,f):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),n):b(m)}function b(m){if((m===45||Qo(m))&&r++<63){const x=m===45?b:g;return e.consume(m),x}return t(m)}}const Wv={tokenize:ote,partial:!0};function ote(e,n,t){return r;function r(a){return xr(a)?ai(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||hn(a)?n(a):t(a)}}const aD={name:"blockQuote",tokenize:lte,continuation:{tokenize:ute},exit:cte};function lte(e,n,t){const r=this;return i;function i(s){if(s===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return t(s)}function a(s){return xr(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(s))}}function ute(e,n,t){const r=this;return i;function i(s){return xr(s)?ai(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(aD,n,t)(s)}}function cte(e){e.exit("blockQuote")}const sD={name:"characterEscape",tokenize:dte};function dte(e,n,t){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return Qee(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):t(a)}}const eN=document.createElement("i");function OA(e){const n="&"+e+";";eN.innerHTML=n;const t=eN.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===n?!1:t}const oD={name:"characterReference",tokenize:fte};function fte(e,n,t){const r=this;let i=0,a,s;return l;function l(g){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),u}function u(g){return g===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(g),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),a=31,s=Qo,f(g))}function d(g){return g===88||g===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(g),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=Gee,f):(e.enter("characterReferenceValue"),a=7,s=a6,f(g))}function f(g){if(g===59&&i){const b=e.exit("characterReferenceValue");return s===Qo&&!OA(r.sliceSerialize(b))?t(g):(e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return s(g)&&i++<a?(e.consume(g),f):t(g)}}const tN={tokenize:pte,partial:!0},nN={name:"codeFenced",tokenize:hte,concrete:!0};function hte(e,n,t){const r=this,i={tokenize:F,partial:!0};let a=0,s=0,l;return u;function u(q){return d(q)}function d(q){const k=r.events[r.events.length-1];return a=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,l=q,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(q)}function f(q){return q===l?(s++,e.consume(q),f):s<3?t(q):(e.exit("codeFencedFenceSequence"),xr(q)?ai(e,g,"whitespace")(q):g(q))}function g(q){return q===null||hn(q)?(e.exit("codeFencedFence"),r.interrupt?n(q):e.check(tN,y,R)(q)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),b(q))}function b(q){return q===null||hn(q)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),g(q)):xr(q)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ai(e,m,"whitespace")(q)):q===96&&q===l?t(q):(e.consume(q),b)}function m(q){return q===null||hn(q)?g(q):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(q))}function x(q){return q===null||hn(q)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),g(q)):q===96&&q===l?t(q):(e.consume(q),x)}function y(q){return e.attempt(i,R,A)(q)}function A(q){return e.enter("lineEnding"),e.consume(q),e.exit("lineEnding"),w}function w(q){return a>0&&xr(q)?ai(e,C,"linePrefix",a+1)(q):C(q)}function C(q){return q===null||hn(q)?e.check(tN,y,R)(q):(e.enter("codeFlowValue"),N(q))}function N(q){return q===null||hn(q)?(e.exit("codeFlowValue"),C(q)):(e.consume(q),N)}function R(q){return e.exit("codeFenced"),n(q)}function F(q,k,L){let B=0;return X;function X(G){return q.enter("lineEnding"),q.consume(G),q.exit("lineEnding"),T}function T(G){return q.enter("codeFencedFence"),xr(G)?ai(q,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):O(G)}function O(G){return G===l?(q.enter("codeFencedFenceSequence"),P(G)):L(G)}function P(G){return G===l?(B++,q.consume(G),P):B>=s?(q.exit("codeFencedFenceSequence"),xr(G)?ai(q,j,"whitespace")(G):j(G)):L(G)}function j(G){return G===null||hn(G)?(q.exit("codeFencedFence"),k(G)):L(G)}}}function pte(e,n,t){const r=this;return i;function i(s){return s===null?t(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?t(s):n(s)}}const Iw={name:"codeIndented",tokenize:gte},mte={tokenize:bte,partial:!0};function gte(e,n,t){const r=this;return i;function i(d){return e.enter("codeIndented"),ai(e,a,"linePrefix",5)(d)}function a(d){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?s(d):t(d)}function s(d){return d===null?u(d):hn(d)?e.attempt(mte,s,u)(d):(e.enter("codeFlowValue"),l(d))}function l(d){return d===null||hn(d)?(e.exit("codeFlowValue"),s(d)):(e.consume(d),l)}function u(d){return e.exit("codeIndented"),n(d)}}function bte(e,n,t){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?t(s):hn(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):ai(e,a,"linePrefix",5)(s)}function a(s){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?n(s):hn(s)?i(s):t(s)}}const yte={name:"codeText",tokenize:wte,resolve:xte,previous:vte};function xte(e){let n=e.length-4,t=3,r,i;if((e[t][1].type==="lineEnding"||e[t][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(r=t;++r<n;)if(e[r][1].type==="codeTextData"){e[t][1].type="codeTextPadding",e[n][1].type="codeTextPadding",t+=2,n-=2;break}}for(r=t-1,n++;++r<=n;)i===void 0?r!==n&&e[r][1].type!=="lineEnding"&&(i=r):(r===n||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),n-=r-i-2,r=i+2),i=void 0);return e}function vte(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function wte(e,n,t){let r=0,i,a;return s;function s(g){return e.enter("codeText"),e.enter("codeTextSequence"),l(g)}function l(g){return g===96?(e.consume(g),r++,l):(e.exit("codeTextSequence"),u(g))}function u(g){return g===null?t(g):g===32?(e.enter("space"),e.consume(g),e.exit("space"),u):g===96?(a=e.enter("codeTextSequence"),i=0,f(g)):hn(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),u):(e.enter("codeTextData"),d(g))}function d(g){return g===null||g===32||g===96||hn(g)?(e.exit("codeTextData"),u(g)):(e.consume(g),d)}function f(g){return g===96?(e.consume(g),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),n(g)):(a.type="codeTextData",d(g))}}function lD(e){const n={};let t=-1,r,i,a,s,l,u,d;for(;++t<e.length;){for(;t in n;)t=n[t];if(r=e[t],t&&r[1].type==="chunkFlow"&&e[t-1][1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,a=0,a<u.length&&u[a][1].type==="lineEndingBlank"&&(a+=2),a<u.length&&u[a][1].type==="content"))for(;++a<u.length&&u[a][1].type!=="content";)u[a][1].type==="chunkText"&&(u[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(n,Ste(e,t)),t=n[t],d=!0);else if(r[1]._container){for(a=t,i=void 0;a--&&(s=e[a],s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},e[i][1].start),l=e.slice(i,t),l.unshift(r),zc(e,i,t-i+1,l))}}return!d}function Ste(e,n){const t=e[n][1],r=e[n][2];let i=n-1;const a=[],s=t._tokenizer||r.parser[t.contentType](t.start),l=s.events,u=[],d={};let f,g,b=-1,m=t,x=0,y=0;const A=[y];for(;m;){for(;e[++i][1]!==m;);a.push(i),m._tokenizer||(f=r.sliceStream(m),m.next||f.push(null),g&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(f),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),g=m,m=m.next}for(m=t;++b<l.length;)l[b][0]==="exit"&&l[b-1][0]==="enter"&&l[b][1].type===l[b-1][1].type&&l[b][1].start.line!==l[b][1].end.line&&(y=b+1,A.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):A.pop(),b=A.length;b--;){const w=l.slice(A[b],A[b+1]),C=a.pop();u.unshift([C,C+w.length-1]),zc(e,C,2,w)}for(b=-1;++b<u.length;)d[x+u[b][0]]=x+u[b][1],x+=u[b][1]-u[b][0]-1;return d}const Ate={tokenize:_te,resolve:Ete},Cte={tokenize:kte,partial:!0};function Ete(e){return lD(e),e}function _te(e,n){let t;return r;function r(l){return e.enter("content"),t=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):hn(l)?e.check(Cte,s,a)(l):(e.consume(l),i)}function a(l){return e.exit("chunkContent"),e.exit("content"),n(l)}function s(l){return e.consume(l),e.exit("chunkContent"),t.next=e.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function kte(e,n,t){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),ai(e,a,"linePrefix")}function a(s){if(s===null||hn(s))return t(s);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?n(s):e.interrupt(r.parser.constructs.flow,t,n)(s)}}function uD(e,n,t,r,i,a,s,l,u){const d=u||Number.POSITIVE_INFINITY;let f=0;return g;function g(w){return w===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(w),e.exit(a),b):w===null||w===32||w===41||i6(w)?t(w):(e.enter(r),e.enter(s),e.enter(l),e.enter("chunkString",{contentType:"string"}),y(w))}function b(w){return w===62?(e.enter(a),e.consume(w),e.exit(a),e.exit(i),e.exit(r),n):(e.enter(l),e.enter("chunkString",{contentType:"string"}),m(w))}function m(w){return w===62?(e.exit("chunkString"),e.exit(l),b(w)):w===null||w===60||hn(w)?t(w):(e.consume(w),w===92?x:m)}function x(w){return w===60||w===62||w===92?(e.consume(w),m):m(w)}function y(w){return!f&&(w===null||w===41||xo(w))?(e.exit("chunkString"),e.exit(l),e.exit(s),e.exit(r),n(w)):f<d&&w===40?(e.consume(w),f++,y):w===41?(e.consume(w),f--,y):w===null||w===32||w===40||i6(w)?t(w):(e.consume(w),w===92?A:y)}function A(w){return w===40||w===41||w===92?(e.consume(w),y):y(w)}}function cD(e,n,t,r,i,a){const s=this;let l=0,u;return d;function d(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),f}function f(m){return l>999||m===null||m===91||m===93&&!u||m===94&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?t(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),n):hn(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),g(m))}function g(m){return m===null||m===91||m===93||hn(m)||l++>999?(e.exit("chunkString"),f(m)):(e.consume(m),u||(u=!xr(m)),m===92?b:g)}function b(m){return m===91||m===92||m===93?(e.consume(m),l++,g):g(m)}}function dD(e,n,t,r,i,a){let s;return l;function l(b){return b===34||b===39||b===40?(e.enter(r),e.enter(i),e.consume(b),e.exit(i),s=b===40?41:b,u):t(b)}function u(b){return b===s?(e.enter(i),e.consume(b),e.exit(i),e.exit(r),n):(e.enter(a),d(b))}function d(b){return b===s?(e.exit(a),u(s)):b===null?t(b):hn(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),ai(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(b))}function f(b){return b===s||b===null||hn(b)?(e.exit("chunkString"),d(b)):(e.consume(b),b===92?g:f)}function g(b){return b===s||b===92?(e.consume(b),f):f(b)}}function ag(e,n){let t;return r;function r(i){return hn(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t=!0,r):xr(i)?ai(e,r,t?"linePrefix":"lineSuffix")(i):n(i)}}function V0(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Nte={name:"definition",tokenize:jte},Tte={tokenize:Ote,partial:!0};function jte(e,n,t){const r=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return cD.call(r,e,l,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function l(m){return i=V0(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),u):t(m)}function u(m){return xo(m)?ag(e,d)(m):d(m)}function d(m){return uD(e,f,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function f(m){return e.attempt(Tte,g,g)(m)}function g(m){return xr(m)?ai(e,b,"whitespace")(m):b(m)}function b(m){return m===null||hn(m)?(e.exit("definition"),r.parser.defined.push(i),n(m)):t(m)}}function Ote(e,n,t){return r;function r(l){return xo(l)?ag(e,i)(l):t(l)}function i(l){return dD(e,a,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return xr(l)?ai(e,s,"whitespace")(l):s(l)}function s(l){return l===null||hn(l)?n(l):t(l)}}const Ite={name:"hardBreakEscape",tokenize:Dte};function Dte(e,n,t){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return hn(a)?(e.exit("hardBreakEscape"),n(a)):t(a)}}const Lte={name:"headingAtx",tokenize:Mte,resolve:Rte};function Rte(e,n){let t=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),t-2>r&&e[t][1].type==="whitespace"&&(t-=2),e[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&e[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[t][1].end},a={type:"chunkText",start:e[r][1].start,end:e[t][1].end,contentType:"text"},zc(e,r,t-r+1,[["enter",i,n],["enter",a,n],["exit",a,n],["exit",i,n]])),e}function Mte(e,n,t){let r=0;return i;function i(f){return e.enter("atxHeading"),a(f)}function a(f){return e.enter("atxHeadingSequence"),s(f)}function s(f){return f===35&&r++<6?(e.consume(f),s):f===null||xo(f)?(e.exit("atxHeadingSequence"),l(f)):t(f)}function l(f){return f===35?(e.enter("atxHeadingSequence"),u(f)):f===null||hn(f)?(e.exit("atxHeading"),n(f)):xr(f)?ai(e,l,"whitespace")(f):(e.enter("atxHeadingText"),d(f))}function u(f){return f===35?(e.consume(f),u):(e.exit("atxHeadingSequence"),l(f))}function d(f){return f===null||f===35||xo(f)?(e.exit("atxHeadingText"),l(f)):(e.consume(f),d)}}const Fte=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],rN=["pre","script","style","textarea"],Pte={name:"htmlFlow",tokenize:Ute,resolveTo:Bte,concrete:!0},zte={tokenize:Hte,partial:!0},qte={tokenize:$te,partial:!0};function Bte(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function Ute(e,n,t){const r=this;let i,a,s,l,u;return d;function d(z){return f(z)}function f(z){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(z),g}function g(z){return z===33?(e.consume(z),b):z===47?(e.consume(z),a=!0,y):z===63?(e.consume(z),i=3,r.interrupt?n:$):yc(z)?(e.consume(z),s=String.fromCharCode(z),A):t(z)}function b(z){return z===45?(e.consume(z),i=2,m):z===91?(e.consume(z),i=5,l=0,x):yc(z)?(e.consume(z),i=4,r.interrupt?n:$):t(z)}function m(z){return z===45?(e.consume(z),r.interrupt?n:$):t(z)}function x(z){const Z="CDATA[";return z===Z.charCodeAt(l++)?(e.consume(z),l===Z.length?r.interrupt?n:O:x):t(z)}function y(z){return yc(z)?(e.consume(z),s=String.fromCharCode(z),A):t(z)}function A(z){if(z===null||z===47||z===62||xo(z)){const Z=z===47,ee=s.toLowerCase();return!Z&&!a&&rN.includes(ee)?(i=1,r.interrupt?n(z):O(z)):Fte.includes(s.toLowerCase())?(i=6,Z?(e.consume(z),w):r.interrupt?n(z):O(z)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(z):a?C(z):N(z))}return z===45||Qo(z)?(e.consume(z),s+=String.fromCharCode(z),A):t(z)}function w(z){return z===62?(e.consume(z),r.interrupt?n:O):t(z)}function C(z){return xr(z)?(e.consume(z),C):X(z)}function N(z){return z===47?(e.consume(z),X):z===58||z===95||yc(z)?(e.consume(z),R):xr(z)?(e.consume(z),N):X(z)}function R(z){return z===45||z===46||z===58||z===95||Qo(z)?(e.consume(z),R):F(z)}function F(z){return z===61?(e.consume(z),q):xr(z)?(e.consume(z),F):N(z)}function q(z){return z===null||z===60||z===61||z===62||z===96?t(z):z===34||z===39?(e.consume(z),u=z,k):xr(z)?(e.consume(z),q):L(z)}function k(z){return z===u?(e.consume(z),u=null,B):z===null||hn(z)?t(z):(e.consume(z),k)}function L(z){return z===null||z===34||z===39||z===47||z===60||z===61||z===62||z===96||xo(z)?F(z):(e.consume(z),L)}function B(z){return z===47||z===62||xr(z)?N(z):t(z)}function X(z){return z===62?(e.consume(z),T):t(z)}function T(z){return z===null||hn(z)?O(z):xr(z)?(e.consume(z),T):t(z)}function O(z){return z===45&&i===2?(e.consume(z),W):z===60&&i===1?(e.consume(z),K):z===62&&i===4?(e.consume(z),ae):z===63&&i===3?(e.consume(z),$):z===93&&i===5?(e.consume(z),ce):hn(z)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(zte,U,P)(z)):z===null||hn(z)?(e.exit("htmlFlowData"),P(z)):(e.consume(z),O)}function P(z){return e.check(qte,j,U)(z)}function j(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),G}function G(z){return z===null||hn(z)?P(z):(e.enter("htmlFlowData"),O(z))}function W(z){return z===45?(e.consume(z),$):O(z)}function K(z){return z===47?(e.consume(z),s="",ie):O(z)}function ie(z){if(z===62){const Z=s.toLowerCase();return rN.includes(Z)?(e.consume(z),ae):O(z)}return yc(z)&&s.length<8?(e.consume(z),s+=String.fromCharCode(z),ie):O(z)}function ce(z){return z===93?(e.consume(z),$):O(z)}function $(z){return z===62?(e.consume(z),ae):z===45&&i===2?(e.consume(z),$):O(z)}function ae(z){return z===null||hn(z)?(e.exit("htmlFlowData"),U(z)):(e.consume(z),ae)}function U(z){return e.exit("htmlFlow"),n(z)}}function $te(e,n,t){const r=this;return i;function i(s){return hn(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):t(s)}function a(s){return r.parser.lazy[r.now().line]?t(s):n(s)}}function Hte(e,n,t){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Wv,n,t)}}const Wte={name:"htmlText",tokenize:Yte};function Yte(e,n,t){const r=this;let i,a,s;return l;function l($){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume($),u}function u($){return $===33?(e.consume($),d):$===47?(e.consume($),F):$===63?(e.consume($),N):yc($)?(e.consume($),L):t($)}function d($){return $===45?(e.consume($),f):$===91?(e.consume($),a=0,x):yc($)?(e.consume($),C):t($)}function f($){return $===45?(e.consume($),m):t($)}function g($){return $===null?t($):$===45?(e.consume($),b):hn($)?(s=g,K($)):(e.consume($),g)}function b($){return $===45?(e.consume($),m):g($)}function m($){return $===62?W($):$===45?b($):g($)}function x($){const ae="CDATA[";return $===ae.charCodeAt(a++)?(e.consume($),a===ae.length?y:x):t($)}function y($){return $===null?t($):$===93?(e.consume($),A):hn($)?(s=y,K($)):(e.consume($),y)}function A($){return $===93?(e.consume($),w):y($)}function w($){return $===62?W($):$===93?(e.consume($),w):y($)}function C($){return $===null||$===62?W($):hn($)?(s=C,K($)):(e.consume($),C)}function N($){return $===null?t($):$===63?(e.consume($),R):hn($)?(s=N,K($)):(e.consume($),N)}function R($){return $===62?W($):N($)}function F($){return yc($)?(e.consume($),q):t($)}function q($){return $===45||Qo($)?(e.consume($),q):k($)}function k($){return hn($)?(s=k,K($)):xr($)?(e.consume($),k):W($)}function L($){return $===45||Qo($)?(e.consume($),L):$===47||$===62||xo($)?B($):t($)}function B($){return $===47?(e.consume($),W):$===58||$===95||yc($)?(e.consume($),X):hn($)?(s=B,K($)):xr($)?(e.consume($),B):W($)}function X($){return $===45||$===46||$===58||$===95||Qo($)?(e.consume($),X):T($)}function T($){return $===61?(e.consume($),O):hn($)?(s=T,K($)):xr($)?(e.consume($),T):B($)}function O($){return $===null||$===60||$===61||$===62||$===96?t($):$===34||$===39?(e.consume($),i=$,P):hn($)?(s=O,K($)):xr($)?(e.consume($),O):(e.consume($),j)}function P($){return $===i?(e.consume($),i=void 0,G):$===null?t($):hn($)?(s=P,K($)):(e.consume($),P)}function j($){return $===null||$===34||$===39||$===60||$===61||$===96?t($):$===47||$===62||xo($)?B($):(e.consume($),j)}function G($){return $===47||$===62||xo($)?B($):t($)}function W($){return $===62?(e.consume($),e.exit("htmlTextData"),e.exit("htmlText"),n):t($)}function K($){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),ie}function ie($){return xr($)?ai(e,ce,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):ce($)}function ce($){return e.enter("htmlTextData"),s($)}}const IA={name:"labelEnd",tokenize:Zte,resolveTo:Xte,resolveAll:Kte},Vte={tokenize:Jte},Gte={tokenize:ene},Qte={tokenize:tne};function Kte(e){let n=-1;for(;++n<e.length;){const t=e[n][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(e.splice(n+1,t.type==="labelImage"?4:2),t.type="data",n++)}return e}function Xte(e,n){let t=e.length,r=0,i,a,s,l;for(;t--;)if(i=e[t][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=t);const u={type:e[a][1].type==="labelLink"?"link":"image",start:Object.assign({},e[a][1].start),end:Object.assign({},e[e.length-1][1].end)},d={type:"label",start:Object.assign({},e[a][1].start),end:Object.assign({},e[s][1].end)},f={type:"labelText",start:Object.assign({},e[a+r+2][1].end),end:Object.assign({},e[s-2][1].start)};return l=[["enter",u,n],["enter",d,n]],l=Nl(l,e.slice(a+1,a+r+3)),l=Nl(l,[["enter",f,n]]),l=Nl(l,jA(n.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),n)),l=Nl(l,[["exit",f,n],e[s-2],e[s-1],["exit",d,n]]),l=Nl(l,e.slice(s+1)),l=Nl(l,[["exit",u,n]]),zc(e,a,e.length,l),e}function Zte(e,n,t){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return l;function l(b){return a?a._inactive?g(b):(s=r.parser.defined.includes(V0(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(b),e.exit("labelMarker"),e.exit("labelEnd"),u):t(b)}function u(b){return b===40?e.attempt(Vte,f,s?f:g)(b):b===91?e.attempt(Gte,f,s?d:g)(b):s?f(b):g(b)}function d(b){return e.attempt(Qte,f,g)(b)}function f(b){return n(b)}function g(b){return a._balanced=!0,t(b)}}function Jte(e,n,t){return r;function r(g){return e.enter("resource"),e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),i}function i(g){return xo(g)?ag(e,a)(g):a(g)}function a(g){return g===41?f(g):uD(e,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function s(g){return xo(g)?ag(e,u)(g):f(g)}function l(g){return t(g)}function u(g){return g===34||g===39||g===40?dD(e,d,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):f(g)}function d(g){return xo(g)?ag(e,f)(g):f(g)}function f(g){return g===41?(e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),e.exit("resource"),n):t(g)}}function ene(e,n,t){const r=this;return i;function i(l){return cD.call(r,e,a,s,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(V0(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?n(l):t(l)}function s(l){return t(l)}}function tne(e,n,t){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),n):t(a)}}const nne={name:"labelStartImage",tokenize:rne,resolveAll:IA.resolveAll};function rne(e,n,t){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),a}function a(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),s):t(l)}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(l):n(l)}}const ine={name:"labelStartLink",tokenize:ane,resolveAll:IA.resolveAll};function ane(e,n,t){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(s):n(s)}}const Dw={name:"lineEnding",tokenize:sne};function sne(e,n){return t;function t(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ai(e,n,"linePrefix")}}const bx={name:"thematicBreak",tokenize:one};function one(e,n,t){let r=0,i;return a;function a(d){return e.enter("thematicBreak"),s(d)}function s(d){return i=d,l(d)}function l(d){return d===i?(e.enter("thematicBreakSequence"),u(d)):r>=3&&(d===null||hn(d))?(e.exit("thematicBreak"),n(d)):t(d)}function u(d){return d===i?(e.consume(d),r++,u):(e.exit("thematicBreakSequence"),xr(d)?ai(e,l,"whitespace")(d):l(d))}}const go={name:"list",tokenize:cne,continuation:{tokenize:dne},exit:hne},lne={tokenize:pne,partial:!0},une={tokenize:fne,partial:!0};function cne(e,n,t){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return l;function l(m){const x=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:a6(m)){if(r.containerState.type||(r.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(bx,t,d)(m):d(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(m)}return t(m)}function u(m){return a6(m)&&++s<10?(e.consume(m),u):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),d(m)):t(m)}function d(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Wv,r.interrupt?t:f,e.attempt(lne,b,g))}function f(m){return r.containerState.initialBlankLine=!0,a++,b(m)}function g(m){return xr(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),b):t(m)}function b(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(m)}}function dne(e,n,t){const r=this;return r.containerState._closeFlow=void 0,e.check(Wv,i,a);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ai(e,n,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!xr(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(une,n,s)(l))}function s(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,ai(e,e.attempt(go,n,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function fne(e,n,t){const r=this;return ai(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?n(a):t(a)}}function hne(e){e.exit(this.containerState.type)}function pne(e,n,t){const r=this;return ai(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!xr(a)&&s&&s[1].type==="listItemPrefixWhitespace"?n(a):t(a)}}const iN={name:"setextUnderline",tokenize:gne,resolveTo:mne};function mne(e,n){let t=e.length,r,i,a;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type==="content"){r=t;break}e[t][1].type==="paragraph"&&(i=t)}else e[t][1].type==="content"&&e.splice(t,1),!a&&e[t][1].type==="definition"&&(a=t);const s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,n]),e.splice(a+1,0,["exit",e[r][1],n]),e[r][1].end=Object.assign({},e[a][1].end)):e[r][1]=s,e.push(["exit",s,n]),e}function gne(e,n,t){const r=this;let i;return a;function a(d){let f=r.events.length,g;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){g=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(e.enter("setextHeadingLine"),i=d,s(d)):t(d)}function s(d){return e.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(e.consume(d),l):(e.exit("setextHeadingLineSequence"),xr(d)?ai(e,u,"lineSuffix")(d):u(d))}function u(d){return d===null||hn(d)?(e.exit("setextHeadingLine"),n(d)):t(d)}}const bne={tokenize:yne};function yne(e){const n=this,t=e.attempt(Wv,r,e.attempt(this.parser.constructs.flowInitial,i,ai(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Ate,i)),"linePrefix")));return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),n.currentConstruct=void 0,t}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n.currentConstruct=void 0,t}}const xne={resolveAll:hD()},vne=fD("string"),wne=fD("text");function fD(e){return{tokenize:n,resolveAll:hD(e==="text"?Sne:void 0)};function n(t){const r=this,i=this.parser.constructs[e],a=t.attempt(i,s,l);return s;function s(f){return d(f)?a(f):l(f)}function l(f){if(f===null){t.consume(f);return}return t.enter("data"),t.consume(f),u}function u(f){return d(f)?(t.exit("data"),a(f)):(t.consume(f),u)}function d(f){if(f===null)return!0;const g=i[f];let b=-1;if(g)for(;++b<g.length;){const m=g[b];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function hD(e){return n;function n(t,r){let i=-1,a;for(;++i<=t.length;)a===void 0?t[i]&&t[i][1].type==="data"&&(a=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==a+2&&(t[a][1].end=t[i-1][1].end,t.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(t,r):t}}function Sne(e,n){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type==="lineEnding")&&e[t-1][1].type==="data"){const r=e[t-1][1],i=n.sliceStream(r);let a=i.length,s=-1,l=0,u;for(;a--;){const d=i[a];if(typeof d=="string"){for(s=d.length;d.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(d===-2)u=!0,l++;else if(d!==-1){a++;break}}if(l){const d={type:t===e.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},d.start),r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(t,0,["enter",d,n],["exit",d,n]),t+=2)}t++}return e}function Ane(e,n,t){let r=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let s=[],l=[];const u={consume:C,enter:N,exit:R,attempt:k(F),check:k(q),interrupt:k(q,{interrupt:!0})},d={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:m,sliceSerialize:b,now:x,defineSkip:y,write:g};let f=n.tokenize.call(d,u);return n.resolveAll&&a.push(n),d;function g(T){return s=Nl(s,T),A(),s[s.length-1]!==null?[]:(L(n,0),d.events=jA(a,d.events,d),d.events)}function b(T,O){return Ene(m(T),O)}function m(T){return Cne(s,T)}function x(){const{line:T,column:O,offset:P,_index:j,_bufferIndex:G}=r;return{line:T,column:O,offset:P,_index:j,_bufferIndex:G}}function y(T){i[T.line]=T.column,X()}function A(){let T;for(;r._index<s.length;){const O=s[r._index];if(typeof O=="string")for(T=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===T&&r._bufferIndex<O.length;)w(O.charCodeAt(r._bufferIndex));else w(O)}}function w(T){f=f(T)}function C(T){hn(T)?(r.line++,r.column=1,r.offset+=T===-3?2:1,X()):T!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=T}function N(T,O){const P=O||{};return P.type=T,P.start=x(),d.events.push(["enter",P,d]),l.push(P),P}function R(T){const O=l.pop();return O.end=x(),d.events.push(["exit",O,d]),O}function F(T,O){L(T,O.from)}function q(T,O){O.restore()}function k(T,O){return P;function P(j,G,W){let K,ie,ce,$;return Array.isArray(j)?U(j):"tokenize"in j?U([j]):ae(j);function ae(oe){return we;function we(xe){const Ee=xe!==null&&oe[xe],De=xe!==null&&oe.null,Me=[...Array.isArray(Ee)?Ee:Ee?[Ee]:[],...Array.isArray(De)?De:De?[De]:[]];return U(Me)(xe)}}function U(oe){return K=oe,ie=0,oe.length===0?W:z(oe[ie])}function z(oe){return we;function we(xe){return $=B(),ce=oe,oe.partial||(d.currentConstruct=oe),oe.name&&d.parser.constructs.disable.null.includes(oe.name)?ee():oe.tokenize.call(O?Object.assign(Object.create(d),O):d,u,Z,ee)(xe)}}function Z(oe){return T(ce,$),G}function ee(oe){return $.restore(),++ie<K.length?z(K[ie]):W}}}function L(T,O){T.resolveAll&&!a.includes(T)&&a.push(T),T.resolve&&zc(d.events,O,d.events.length-O,T.resolve(d.events.slice(O),d)),T.resolveTo&&(d.events=T.resolveTo(d.events,d))}function B(){const T=x(),O=d.previous,P=d.currentConstruct,j=d.events.length,G=Array.from(l);return{restore:W,from:j};function W(){r=T,d.previous=O,d.currentConstruct=P,d.events.length=j,l=G,X()}}function X(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Cne(e,n){const t=n.start._index,r=n.start._bufferIndex,i=n.end._index,a=n.end._bufferIndex;let s;if(t===i)s=[e[t].slice(r,a)];else{if(s=e.slice(t,i),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function Ene(e,n){let t=-1;const r=[];let i;for(;++t<e.length;){const a=e[t];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=n?" ":"	";break}case-1:{if(!n&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}const _ne={42:go,43:go,45:go,48:go,49:go,50:go,51:go,52:go,53:go,54:go,55:go,56:go,57:go,62:aD},kne={91:Nte},Nne={[-2]:Iw,[-1]:Iw,32:Iw},Tne={35:Lte,42:bx,45:[iN,bx],60:Pte,61:iN,95:bx,96:nN,126:nN},jne={38:oD,92:sD},One={[-5]:Dw,[-4]:Dw,[-3]:Dw,33:nne,38:oD,42:s6,60:[ate,Wte],91:ine,92:[Ite,sD],93:IA,95:s6,96:yte},Ine={null:[s6,xne]},Dne={null:[42,95]},Lne={null:[]},Rne=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Dne,contentInitial:kne,disable:Lne,document:_ne,flow:Tne,flowInitial:Nne,insideSpan:Ine,string:jne,text:One},Symbol.toStringTag,{value:"Module"}));function Mne(e){const t=$ee([Rne,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:t,content:i(Zee),document:i(ete),flow:i(bne),string:i(vne),text:i(wne)};return r;function i(a){return s;function s(l){return Ane(r,a,l)}}}const aN=/[\0\t\n\r]/g;function Fne(){let e=1,n="",t=!0,r;return i;function i(a,s,l){const u=[];let d,f,g,b,m;for(a=n+a.toString(s),g=0,n="",t&&(a.charCodeAt(0)===65279&&g++,t=void 0);g<a.length;){if(aN.lastIndex=g,d=aN.exec(a),b=d&&d.index!==void 0?d.index:a.length,m=a.charCodeAt(b),!d){n=a.slice(g);break}if(m===10&&g===b&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),g<b&&(u.push(a.slice(g,b)),e+=b-g),m){case 0:{u.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,u.push(-2);e++<f;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}g=b+1}return l&&(r&&u.push(-5),n&&u.push(n),u.push(null)),u}}function Pne(e){for(;!lD(e););return e}function pD(e,n){const t=Number.parseInt(e,n);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCharCode(t)}const zne=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function qne(e){return e.replace(zne,Bne)}function Bne(e,n,t){if(n)return n;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),a=i===120||i===88;return pD(t.slice(a?2:1),a?16:10)}return OA(t)||e}const mD={}.hasOwnProperty,Une=function(e,n,t){return typeof n!="string"&&(t=n,n=void 0),$ne(t)(Pne(Mne(t).document().write(Fne()(e,n,!0))))};function $ne(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Le),autolinkProtocol:T,autolinkEmail:T,atxHeading:l(te),blockQuote:l(Me),characterEscape:T,characterReference:T,codeFenced:l(We),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(We,u),codeText:l(Ye,u),codeTextData:T,data:T,codeFlowValue:T,definition:l(Y),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(Se),hardBreakEscape:l(be),hardBreakTrailing:l(be),htmlFlow:l(de,u),htmlFlowData:T,htmlText:l(de,u),htmlTextData:T,image:l(Ae),label:u,link:l(Le),listItem:l(Ne),listItemValue:x,listOrdered:l(qe,m),listUnordered:l(qe),paragraph:l(Xe),reference:ee,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(te),strong:l(ut),thematicBreak:l(Pe)},exit:{atxHeading:f(),atxHeadingSequence:k,autolink:f(),autolinkEmail:De,autolinkProtocol:Ee,blockQuote:f(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:we,characterReferenceMarkerNumeric:we,characterReferenceValue:xe,codeFenced:f(C),codeFencedFence:w,codeFencedFenceInfo:y,codeFencedFenceMeta:A,codeFlowValue:O,codeIndented:f(N),codeText:f(K),codeTextData:O,data:O,definition:f(),definitionDestinationString:q,definitionLabelString:R,definitionTitleString:F,emphasis:f(),hardBreakEscape:f(j),hardBreakTrailing:f(j),htmlFlow:f(G),htmlFlowData:O,htmlText:f(W),htmlTextData:O,image:f(ce),label:ae,labelText:$,lineEnding:P,link:f(ie),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:oe,resourceDestinationString:U,resourceTitleString:z,resource:Z,setextHeading:f(X),setextHeadingLineSequence:B,setextHeadingText:L,strong:f(),thematicBreak:f()}};gD(n,(e||{}).mdastExtensions||[]);const t={};return r;function r(ve){let ke={type:"root",children:[]};const je={stack:[ke],tokenStack:[],config:n,enter:d,exit:g,buffer:u,resume:b,setData:a,getData:s},ft=[];let Je=-1;for(;++Je<ve.length;)if(ve[Je][1].type==="listOrdered"||ve[Je][1].type==="listUnordered")if(ve[Je][0]==="enter")ft.push(Je);else{const Ft=ft.pop();Je=i(ve,Ft,Je)}for(Je=-1;++Je<ve.length;){const Ft=n[ve[Je][0]];mD.call(Ft,ve[Je][1].type)&&Ft[ve[Je][1].type].call(Object.assign({sliceSerialize:ve[Je][2].sliceSerialize},je),ve[Je][1])}if(je.tokenStack.length>0){const Ft=je.tokenStack[je.tokenStack.length-1];(Ft[1]||sN).call(je,void 0,Ft[0])}for(ke.position={start:Df(ve.length>0?ve[0][1].start:{line:1,column:1,offset:0}),end:Df(ve.length>0?ve[ve.length-2][1].end:{line:1,column:1,offset:0})},Je=-1;++Je<n.transforms.length;)ke=n.transforms[Je](ke)||ke;return ke}function i(ve,ke,je){let ft=ke-1,Je=-1,Ft=!1,kt,Vt,Rt,Zt;for(;++ft<=je;){const nn=ve[ft];if(nn[1].type==="listUnordered"||nn[1].type==="listOrdered"||nn[1].type==="blockQuote"?(nn[0]==="enter"?Je++:Je--,Zt=void 0):nn[1].type==="lineEndingBlank"?nn[0]==="enter"&&(kt&&!Zt&&!Je&&!Rt&&(Rt=ft),Zt=void 0):nn[1].type==="linePrefix"||nn[1].type==="listItemValue"||nn[1].type==="listItemMarker"||nn[1].type==="listItemPrefix"||nn[1].type==="listItemPrefixWhitespace"||(Zt=void 0),!Je&&nn[0]==="enter"&&nn[1].type==="listItemPrefix"||Je===-1&&nn[0]==="exit"&&(nn[1].type==="listUnordered"||nn[1].type==="listOrdered")){if(kt){let ln=ft;for(Vt=void 0;ln--;){const Pn=ve[ln];if(Pn[1].type==="lineEnding"||Pn[1].type==="lineEndingBlank"){if(Pn[0]==="exit")continue;Vt&&(ve[Vt][1].type="lineEndingBlank",Ft=!0),Pn[1].type="lineEnding",Vt=ln}else if(!(Pn[1].type==="linePrefix"||Pn[1].type==="blockQuotePrefix"||Pn[1].type==="blockQuotePrefixWhitespace"||Pn[1].type==="blockQuoteMarker"||Pn[1].type==="listItemIndent"))break}Rt&&(!Vt||Rt<Vt)&&(kt._spread=!0),kt.end=Object.assign({},Vt?ve[Vt][1].start:nn[1].end),ve.splice(Vt||ft,0,["exit",kt,nn[2]]),ft++,je++}nn[1].type==="listItemPrefix"&&(kt={type:"listItem",_spread:!1,start:Object.assign({},nn[1].start),end:void 0},ve.splice(ft,0,["enter",kt,nn[2]]),ft++,je++,Rt=void 0,Zt=!0)}}return ve[ke][1]._spread=Ft,je}function a(ve,ke){t[ve]=ke}function s(ve){return t[ve]}function l(ve,ke){return je;function je(ft){d.call(this,ve(ft),ft),ke&&ke.call(this,ft)}}function u(){this.stack.push({type:"fragment",children:[]})}function d(ve,ke,je){return this.stack[this.stack.length-1].children.push(ve),this.stack.push(ve),this.tokenStack.push([ke,je]),ve.position={start:Df(ke.start)},ve}function f(ve){return ke;function ke(je){ve&&ve.call(this,je),g.call(this,je)}}function g(ve,ke){const je=this.stack.pop(),ft=this.tokenStack.pop();if(ft)ft[0].type!==ve.type&&(ke?ke.call(this,ve,ft[0]):(ft[1]||sN).call(this,ve,ft[0]));else throw new Error("Cannot close `"+ve.type+"` ("+ig({start:ve.start,end:ve.end})+"): its not open");return je.position.end=Df(ve.end),je}function b(){return Bee(this.stack.pop())}function m(){a("expectingFirstListItemValue",!0)}function x(ve){if(s("expectingFirstListItemValue")){const ke=this.stack[this.stack.length-2];ke.start=Number.parseInt(this.sliceSerialize(ve),10),a("expectingFirstListItemValue")}}function y(){const ve=this.resume(),ke=this.stack[this.stack.length-1];ke.lang=ve}function A(){const ve=this.resume(),ke=this.stack[this.stack.length-1];ke.meta=ve}function w(){s("flowCodeInside")||(this.buffer(),a("flowCodeInside",!0))}function C(){const ve=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ve.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),a("flowCodeInside")}function N(){const ve=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ve.replace(/(\r?\n|\r)$/g,"")}function R(ve){const ke=this.resume(),je=this.stack[this.stack.length-1];je.label=ke,je.identifier=V0(this.sliceSerialize(ve)).toLowerCase()}function F(){const ve=this.resume(),ke=this.stack[this.stack.length-1];ke.title=ve}function q(){const ve=this.resume(),ke=this.stack[this.stack.length-1];ke.url=ve}function k(ve){const ke=this.stack[this.stack.length-1];if(!ke.depth){const je=this.sliceSerialize(ve).length;ke.depth=je}}function L(){a("setextHeadingSlurpLineEnding",!0)}function B(ve){const ke=this.stack[this.stack.length-1];ke.depth=this.sliceSerialize(ve).charCodeAt(0)===61?1:2}function X(){a("setextHeadingSlurpLineEnding")}function T(ve){const ke=this.stack[this.stack.length-1];let je=ke.children[ke.children.length-1];(!je||je.type!=="text")&&(je=nt(),je.position={start:Df(ve.start)},ke.children.push(je)),this.stack.push(je)}function O(ve){const ke=this.stack.pop();ke.value+=this.sliceSerialize(ve),ke.position.end=Df(ve.end)}function P(ve){const ke=this.stack[this.stack.length-1];if(s("atHardBreak")){const je=ke.children[ke.children.length-1];je.position.end=Df(ve.end),a("atHardBreak");return}!s("setextHeadingSlurpLineEnding")&&n.canContainEols.includes(ke.type)&&(T.call(this,ve),O.call(this,ve))}function j(){a("atHardBreak",!0)}function G(){const ve=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ve}function W(){const ve=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ve}function K(){const ve=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ve}function ie(){const ve=this.stack[this.stack.length-1];if(s("inReference")){const ke=s("referenceType")||"shortcut";ve.type+="Reference",ve.referenceType=ke,delete ve.url,delete ve.title}else delete ve.identifier,delete ve.label;a("referenceType")}function ce(){const ve=this.stack[this.stack.length-1];if(s("inReference")){const ke=s("referenceType")||"shortcut";ve.type+="Reference",ve.referenceType=ke,delete ve.url,delete ve.title}else delete ve.identifier,delete ve.label;a("referenceType")}function $(ve){const ke=this.sliceSerialize(ve),je=this.stack[this.stack.length-2];je.label=qne(ke),je.identifier=V0(ke).toLowerCase()}function ae(){const ve=this.stack[this.stack.length-1],ke=this.resume(),je=this.stack[this.stack.length-1];if(a("inReference",!0),je.type==="link"){const ft=ve.children;je.children=ft}else je.alt=ke}function U(){const ve=this.resume(),ke=this.stack[this.stack.length-1];ke.url=ve}function z(){const ve=this.resume(),ke=this.stack[this.stack.length-1];ke.title=ve}function Z(){a("inReference")}function ee(){a("referenceType","collapsed")}function oe(ve){const ke=this.resume(),je=this.stack[this.stack.length-1];je.label=ke,je.identifier=V0(this.sliceSerialize(ve)).toLowerCase(),a("referenceType","full")}function we(ve){a("characterReferenceType",ve.type)}function xe(ve){const ke=this.sliceSerialize(ve),je=s("characterReferenceType");let ft;je?(ft=pD(ke,je==="characterReferenceMarkerNumeric"?10:16),a("characterReferenceType")):ft=OA(ke);const Je=this.stack.pop();Je.value+=ft,Je.position.end=Df(ve.end)}function Ee(ve){O.call(this,ve);const ke=this.stack[this.stack.length-1];ke.url=this.sliceSerialize(ve)}function De(ve){O.call(this,ve);const ke=this.stack[this.stack.length-1];ke.url="mailto:"+this.sliceSerialize(ve)}function Me(){return{type:"blockquote",children:[]}}function We(){return{type:"code",lang:null,meta:null,value:""}}function Ye(){return{type:"inlineCode",value:""}}function Y(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Se(){return{type:"emphasis",children:[]}}function te(){return{type:"heading",depth:void 0,children:[]}}function be(){return{type:"break"}}function de(){return{type:"html",value:""}}function Ae(){return{type:"image",title:null,url:"",alt:null}}function Le(){return{type:"link",title:null,url:"",children:[]}}function qe(ve){return{type:"list",ordered:ve.type==="listOrdered",start:null,spread:ve._spread,children:[]}}function Ne(ve){return{type:"listItem",spread:ve._spread,checked:null,children:[]}}function Xe(){return{type:"paragraph",children:[]}}function ut(){return{type:"strong",children:[]}}function nt(){return{type:"text",value:""}}function Pe(){return{type:"thematicBreak"}}}function Df(e){return{line:e.line,column:e.column,offset:e.offset}}function gD(e,n){let t=-1;for(;++t<n.length;){const r=n[t];Array.isArray(r)?gD(e,r):Hne(e,r)}}function Hne(e,n){let t;for(t in n)if(mD.call(n,t)){if(t==="canContainEols"){const r=n[t];r&&e[t].push(...r)}else if(t==="transforms"){const r=n[t];r&&e[t].push(...r)}else if(t==="enter"||t==="exit"){const r=n[t];r&&Object.assign(e[t],r)}}}function sN(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+ig({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+ig({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+ig({start:n.start,end:n.end})+") is still open")}function Wne(e){Object.assign(this,{Parser:t=>{const r=this.data("settings");return Une(t,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function Yne(e,n){const t={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,t),e.applyData(n,t)}function Vne(e,n){const t={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,t),[e.applyData(n,t),{type:"text",value:`
`}]}function Gne(e,n){const t=n.value?n.value+`
`:"",r=n.lang?n.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return n.meta&&(a.data={meta:n.meta}),e.patch(n,a),a=e.applyData(n,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(n,a),a}function Qne(e,n){const t={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function Kne(e,n){const t={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function xm(e){const n=[];let t=-1,r=0,i=0;for(;++t<e.length;){const a=e.charCodeAt(t);let s="";if(a===37&&Qo(e.charCodeAt(t+1))&&Qo(e.charCodeAt(t+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const l=e.charCodeAt(t+1);a<56320&&l>56319&&l<57344?(s=String.fromCharCode(a,l),i=1):s=""}else s=String.fromCharCode(a);s&&(n.push(e.slice(r,t),encodeURIComponent(s)),r=t+i+1,s=""),i&&(t+=i,i=0)}return n.join("")+e.slice(r)}function bD(e,n){const t=String(n.identifier).toUpperCase(),r=xm(t.toLowerCase()),i=e.footnoteOrder.indexOf(t);let a;i===-1?(e.footnoteOrder.push(t),e.footnoteCounts[t]=1,a=e.footnoteOrder.length):(e.footnoteCounts[t]++,a=i+1);const s=e.footnoteCounts[t],l={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(n,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(n,u),e.applyData(n,u)}function Xne(e,n){const t=e.footnoteById;let r=1;for(;r in t;)r++;const i=String(r);return t[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:n.children}],position:n.position},bD(e,{type:"footnoteReference",identifier:i,position:n.position})}function Zne(e,n){const t={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function Jne(e,n){if(e.dangerous){const t={type:"raw",value:n.value};return e.patch(n,t),e.applyData(n,t)}return null}function yD(e,n){const t=n.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return{type:"text",value:"!["+n.alt+r};const i=e.all(n),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function ere(e,n){const t=e.definition(n.identifier);if(!t)return yD(e,n);const r={src:xm(t.url||""),alt:n.alt};t.title!==null&&t.title!==void 0&&(r.title=t.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(n,i),e.applyData(n,i)}function tre(e,n){const t={src:xm(n.url)};n.alt!==null&&n.alt!==void 0&&(t.alt=n.alt),n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"img",properties:t,children:[]};return e.patch(n,r),e.applyData(n,r)}function nre(e,n){const t={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return e.patch(n,r),e.applyData(n,r)}function rre(e,n){const t=e.definition(n.identifier);if(!t)return yD(e,n);const r={href:xm(t.url||"")};t.title!==null&&t.title!==void 0&&(r.title=t.title);const i={type:"element",tagName:"a",properties:r,children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function ire(e,n){const t={href:xm(n.url)};n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"a",properties:t,children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function are(e,n,t){const r=e.all(n),i=t?sre(t):xD(n),a={},s=[];if(typeof n.checked=="boolean"){const f=r[0];let g;f&&f.type==="element"&&f.tagName==="p"?g=f:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const f=r[l];(i||l!==0||f.type!=="element"||f.tagName!=="p")&&s.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?s.push(...f.children):s.push(f)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:s};return e.patch(n,d),e.applyData(n,d)}function sre(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const t=e.children;let r=-1;for(;!n&&++r<t.length;)n=xD(t[r])}return n}function xD(e){const n=e.spread;return n??e.children.length>1}function ore(e,n){const t={},r=e.all(n);let i=-1;for(typeof n.start=="number"&&n.start!==1&&(t.start=n.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const a={type:"element",tagName:n.ordered?"ol":"ul",properties:t,children:e.wrap(r,!0)};return e.patch(n,a),e.applyData(n,a)}function lre(e,n){const t={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function ure(e,n){const t={type:"root",children:e.wrap(e.all(n))};return e.patch(n,t),e.applyData(n,t)}function cre(e,n){const t={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const DA=vD("start"),LA=vD("end");function dre(e){return{start:DA(e),end:LA(e)}}function vD(e){return n;function n(t){const r=t&&t.position&&t.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function fre(e,n){const t=e.all(n),r=t.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(n.children[0],s),i.push(s)}if(t.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(t,!0)},l=DA(n.children[1]),u=LA(n.children[n.children.length-1]);l.line&&u.line&&(s.position={start:l,end:u}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(n,a),e.applyData(n,a)}function hre(e,n,t){const r=t?t.children:void 0,a=(r?r.indexOf(n):1)===0?"th":"td",s=t&&t.type==="table"?t.align:void 0,l=s?s.length:n.children.length;let u=-1;const d=[];for(;++u<l;){const g=n.children[u],b={},m=s?s[u]:void 0;m&&(b.align=m);let x={type:"element",tagName:a,properties:b,children:[]};g&&(x.children=e.all(g),e.patch(g,x),x=e.applyData(n,x)),d.push(x)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(n,f),e.applyData(n,f)}function pre(e,n){const t={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const oN=9,lN=32;function mre(e){const n=String(e),t=/\r?\n|\r/g;let r=t.exec(n),i=0;const a=[];for(;r;)a.push(uN(n.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=t.exec(n);return a.push(uN(n.slice(i),i>0,!1)),a.join("")}function uN(e,n,t){let r=0,i=e.length;if(n){let a=e.codePointAt(r);for(;a===oN||a===lN;)r++,a=e.codePointAt(r)}if(t){let a=e.codePointAt(i-1);for(;a===oN||a===lN;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function gre(e,n){const t={type:"text",value:mre(String(n.value))};return e.patch(n,t),e.applyData(n,t)}function bre(e,n){const t={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,t),e.applyData(n,t)}const yre={blockquote:Yne,break:Vne,code:Gne,delete:Qne,emphasis:Kne,footnoteReference:bD,footnote:Xne,heading:Zne,html:Jne,imageReference:ere,image:tre,inlineCode:nre,linkReference:rre,link:ire,listItem:are,list:ore,paragraph:lre,root:ure,strong:cre,table:fre,tableCell:pre,tableRow:hre,text:gre,thematicBreak:bre,toml:Yy,yaml:Yy,definition:Yy,footnoteDefinition:Yy};function Yy(){return null}const wD=function(e){if(e==null)return Sre;if(typeof e=="string")return wre(e);if(typeof e=="object")return Array.isArray(e)?xre(e):vre(e);if(typeof e=="function")return Yv(e);throw new Error("Expected function, string, or object as test")};function xre(e){const n=[];let t=-1;for(;++t<e.length;)n[t]=wD(e[t]);return Yv(r);function r(...i){let a=-1;for(;++a<n.length;)if(n[a].call(this,...i))return!0;return!1}}function vre(e){return Yv(n);function n(t){let r;for(r in e)if(t[r]!==e[r])return!1;return!0}}function wre(e){return Yv(n);function n(t){return t&&t.type===e}}function Yv(e){return n;function n(t,...r){return!!(t&&typeof t=="object"&&"type"in t&&e.call(this,t,...r))}}function Sre(){return!0}const Are=!0,cN=!1,Cre="skip",Ere=function(e,n,t,r){typeof n=="function"&&typeof t!="function"&&(r=t,t=n,n=null);const i=wD(n),a=r?-1:1;s(e,void 0,[])();function s(l,u,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const b=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(l.type+(b?"<"+b+">":""))+")"})}return g;function g(){let b=[],m,x,y;if((!n||i(l,u,d[d.length-1]||null))&&(b=_re(t(l,d)),b[0]===cN))return b;if(l.children&&b[0]!==Cre)for(x=(r?l.children.length:-1)+a,y=d.concat(l);x>-1&&x<l.children.length;){if(m=s(l.children[x],x,y)(),m[0]===cN)return m;x=typeof m[1]=="number"?m[1]:x+a}return b}}};function _re(e){return Array.isArray(e)?e:typeof e=="number"?[Are,e]:[e]}const RA=function(e,n,t,r){typeof n=="function"&&typeof t!="function"&&(r=t,t=n,n=null),Ere(e,n,i,r);function i(a,s){const l=s[s.length-1];return t(a,l?l.children.indexOf(a):null,l)}};function kre(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const dN={}.hasOwnProperty;function Nre(e){const n=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return RA(e,"definition",r=>{const i=fN(r.identifier);i&&!dN.call(n,i)&&(n[i]=r)}),t;function t(r){const i=fN(r);return i&&dN.call(n,i)?n[i]:null}}function fN(e){return String(e||"").toUpperCase()}const tv={}.hasOwnProperty;function Tre(e,n){const t=n||{},r=t.allowDangerousHtml||!1,i={};return s.dangerous=r,s.clobberPrefix=t.clobberPrefix===void 0||t.clobberPrefix===null?"user-content-":t.clobberPrefix,s.footnoteLabel=t.footnoteLabel||"Footnotes",s.footnoteLabelTagName=t.footnoteLabelTagName||"h2",s.footnoteLabelProperties=t.footnoteLabelProperties||{className:["sr-only"]},s.footnoteBackLabel=t.footnoteBackLabel||"Back to content",s.unknownHandler=t.unknownHandler,s.passThrough=t.passThrough,s.handlers={...yre,...t.handlers},s.definition=Nre(e),s.footnoteById=i,s.footnoteOrder=[],s.footnoteCounts={},s.patch=jre,s.applyData=Ore,s.one=l,s.all=u,s.wrap=Dre,s.augment=a,RA(e,"footnoteDefinition",d=>{const f=String(d.identifier).toUpperCase();tv.call(i,f)||(i[f]=d)}),s;function a(d,f){if(d&&"data"in d&&d.data){const g=d.data;g.hName&&(f.type!=="element"&&(f={type:"element",tagName:"",properties:{},children:[]}),f.tagName=g.hName),f.type==="element"&&g.hProperties&&(f.properties={...f.properties,...g.hProperties}),"children"in f&&f.children&&g.hChildren&&(f.children=g.hChildren)}if(d){const g="type"in d?d:{position:d};kre(g)||(f.position={start:DA(g),end:LA(g)})}return f}function s(d,f,g,b){return Array.isArray(g)&&(b=g,g={}),a(d,{type:"element",tagName:f,properties:g||{},children:b||[]})}function l(d,f){return SD(s,d,f)}function u(d){return MA(s,d)}}function jre(e,n){e.position&&(n.position=dre(e))}function Ore(e,n){let t=n;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;typeof r=="string"&&(t.type==="element"?t.tagName=r:t={type:"element",tagName:r,properties:{},children:[]}),t.type==="element"&&a&&(t.properties={...t.properties,...a}),"children"in t&&t.children&&i!==null&&i!==void 0&&(t.children=i)}return t}function SD(e,n,t){const r=n&&n.type;if(!r)throw new Error("Expected node, got `"+n+"`");return tv.call(e.handlers,r)?e.handlers[r](e,n,t):e.passThrough&&e.passThrough.includes(r)?"children"in n?{...n,children:MA(e,n)}:n:e.unknownHandler?e.unknownHandler(e,n,t):Ire(e,n)}function MA(e,n){const t=[];if("children"in n){const r=n.children;let i=-1;for(;++i<r.length;){const a=SD(e,r[i],n);if(a){if(i&&r[i-1].type==="break"&&(!Array.isArray(a)&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,"")),!Array.isArray(a)&&a.type==="element")){const s=a.children[0];s&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,""))}Array.isArray(a)?t.push(...a):t.push(a)}}}return t}function Ire(e,n){const t=n.data||{},r="value"in n&&!(tv.call(t,"hProperties")||tv.call(t,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:MA(e,n)};return e.patch(n,r),e.applyData(n,r)}function Dre(e,n){const t=[];let r=-1;for(n&&t.push({type:"text",value:`
`});++r<e.length;)r&&t.push({type:"text",value:`
`}),t.push(e[r]);return n&&e.length>0&&t.push({type:"text",value:`
`}),t}function Lre(e){const n=[];let t=-1;for(;++t<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[t]];if(!r)continue;const i=e.all(r),a=String(r.identifier).toUpperCase(),s=xm(a.toLowerCase());let l=0;const u=[];for(;++l<=e.footnoteCounts[a];){const g={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+s+(l>1?"-"+l:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};l>1&&g.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(l)}]}),u.length>0&&u.push({type:"text",value:" "}),u.push(g)}const d=i[i.length-1];if(d&&d.type==="element"&&d.tagName==="p"){const g=d.children[d.children.length-1];g&&g.type==="text"?g.value+=" ":d.children.push({type:"text",value:" "}),d.children.push(...u)}else i.push(...u);const f={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+s},children:e.wrap(i,!0)};e.patch(r,f),n.push(f)}if(n.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(n,!0)},{type:"text",value:`
`}]}}function AD(e,n){const t=Tre(e,n),r=t.one(e,null),i=Lre(t);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const Rre=function(e,n){return e&&"run"in e?Mre(e,n):Fre(e||n)};function Mre(e,n){return(t,r,i)=>{e.run(AD(t,n),r,a=>{i(a)})}}function Fre(e){return n=>AD(n,e)}class lb{constructor(n,t,r){this.property=n,this.normal=t,r&&(this.space=r)}}lb.prototype.property={};lb.prototype.normal={};lb.prototype.space=null;function CD(e,n){const t={},r={};let i=-1;for(;++i<e.length;)Object.assign(t,e[i].property),Object.assign(r,e[i].normal);return new lb(t,r,n)}function o6(e){return e.toLowerCase()}class zl{constructor(n,t){this.property=n,this.attribute=t}}zl.prototype.space=null;zl.prototype.boolean=!1;zl.prototype.booleanish=!1;zl.prototype.overloadedBoolean=!1;zl.prototype.number=!1;zl.prototype.commaSeparated=!1;zl.prototype.spaceSeparated=!1;zl.prototype.commaOrSpaceSeparated=!1;zl.prototype.mustUseProperty=!1;zl.prototype.defined=!1;let Pre=0;const En=Dp(),ka=Dp(),ED=Dp(),_t=Dp(),ii=Dp(),G0=Dp(),Uo=Dp();function Dp(){return 2**++Pre}const l6=Object.freeze(Object.defineProperty({__proto__:null,boolean:En,booleanish:ka,commaOrSpaceSeparated:Uo,commaSeparated:G0,number:_t,overloadedBoolean:ED,spaceSeparated:ii},Symbol.toStringTag,{value:"Module"})),Lw=Object.keys(l6);class FA extends zl{constructor(n,t,r,i){let a=-1;if(super(n,t),hN(this,"space",i),typeof r=="number")for(;++a<Lw.length;){const s=Lw[a];hN(this,Lw[a],(r&l6[s])===l6[s])}}}FA.prototype.defined=!0;function hN(e,n,t){t&&(e[n]=t)}const zre={}.hasOwnProperty;function vm(e){const n={},t={};let r;for(r in e.properties)if(zre.call(e.properties,r)){const i=e.properties[r],a=new FA(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),n[r]=a,t[o6(r)]=r,t[o6(a.attribute)]=r}return new lb(n,t,e.space)}const _D=vm({space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),kD=vm({space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function ND(e,n){return n in e?e[n]:n}function TD(e,n){return ND(e,n.toLowerCase())}const jD=vm({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:TD,properties:{xmlns:null,xmlnsXLink:null}}),OD=vm({transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ka,ariaAutoComplete:null,ariaBusy:ka,ariaChecked:ka,ariaColCount:_t,ariaColIndex:_t,ariaColSpan:_t,ariaControls:ii,ariaCurrent:null,ariaDescribedBy:ii,ariaDetails:null,ariaDisabled:ka,ariaDropEffect:ii,ariaErrorMessage:null,ariaExpanded:ka,ariaFlowTo:ii,ariaGrabbed:ka,ariaHasPopup:null,ariaHidden:ka,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ii,ariaLevel:_t,ariaLive:null,ariaModal:ka,ariaMultiLine:ka,ariaMultiSelectable:ka,ariaOrientation:null,ariaOwns:ii,ariaPlaceholder:null,ariaPosInSet:_t,ariaPressed:ka,ariaReadOnly:ka,ariaRelevant:null,ariaRequired:ka,ariaRoleDescription:ii,ariaRowCount:_t,ariaRowIndex:_t,ariaRowSpan:_t,ariaSelected:ka,ariaSetSize:_t,ariaSort:null,ariaValueMax:_t,ariaValueMin:_t,ariaValueNow:_t,ariaValueText:null,role:null}}),qre=vm({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:TD,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:G0,acceptCharset:ii,accessKey:ii,action:null,allow:null,allowFullScreen:En,allowPaymentRequest:En,allowUserMedia:En,alt:null,as:null,async:En,autoCapitalize:null,autoComplete:ii,autoFocus:En,autoPlay:En,blocking:ii,capture:null,charSet:null,checked:En,cite:null,className:ii,cols:_t,colSpan:null,content:null,contentEditable:ka,controls:En,controlsList:ii,coords:_t|G0,crossOrigin:null,data:null,dateTime:null,decoding:null,default:En,defer:En,dir:null,dirName:null,disabled:En,download:ED,draggable:ka,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:En,formTarget:null,headers:ii,height:_t,hidden:En,high:_t,href:null,hrefLang:null,htmlFor:ii,httpEquiv:ii,id:null,imageSizes:null,imageSrcSet:null,inert:En,inputMode:null,integrity:null,is:null,isMap:En,itemId:null,itemProp:ii,itemRef:ii,itemScope:En,itemType:ii,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:En,low:_t,manifest:null,max:null,maxLength:_t,media:null,method:null,min:null,minLength:_t,multiple:En,muted:En,name:null,nonce:null,noModule:En,noValidate:En,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:En,optimum:_t,pattern:null,ping:ii,placeholder:null,playsInline:En,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:En,referrerPolicy:null,rel:ii,required:En,reversed:En,rows:_t,rowSpan:_t,sandbox:ii,scope:null,scoped:En,seamless:En,selected:En,shadowRootClonable:En,shadowRootDelegatesFocus:En,shadowRootMode:null,shape:null,size:_t,sizes:null,slot:null,span:_t,spellCheck:ka,src:null,srcDoc:null,srcLang:null,srcSet:null,start:_t,step:null,style:null,tabIndex:_t,target:null,title:null,translate:null,type:null,typeMustMatch:En,useMap:null,value:ka,width:_t,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ii,axis:null,background:null,bgColor:null,border:_t,borderColor:null,bottomMargin:_t,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:En,declare:En,event:null,face:null,frame:null,frameBorder:null,hSpace:_t,leftMargin:_t,link:null,longDesc:null,lowSrc:null,marginHeight:_t,marginWidth:_t,noResize:En,noHref:En,noShade:En,noWrap:En,object:null,profile:null,prompt:null,rev:null,rightMargin:_t,rules:null,scheme:null,scrolling:ka,standby:null,summary:null,text:null,topMargin:_t,valueType:null,version:null,vAlign:null,vLink:null,vSpace:_t,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:En,disableRemotePlayback:En,prefix:null,property:null,results:_t,security:null,unselectable:null}}),Bre=vm({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:ND,properties:{about:Uo,accentHeight:_t,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:_t,amplitude:_t,arabicForm:null,ascent:_t,attributeName:null,attributeType:null,azimuth:_t,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:_t,by:null,calcMode:null,capHeight:_t,className:ii,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:_t,diffuseConstant:_t,direction:null,display:null,dur:null,divisor:_t,dominantBaseline:null,download:En,dx:null,dy:null,edgeMode:null,editable:null,elevation:_t,enableBackground:null,end:null,event:null,exponent:_t,externalResourcesRequired:null,fill:null,fillOpacity:_t,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:G0,g2:G0,glyphName:G0,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:_t,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:_t,horizOriginX:_t,horizOriginY:_t,id:null,ideographic:_t,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:_t,k:_t,k1:_t,k2:_t,k3:_t,k4:_t,kernelMatrix:Uo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:_t,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:_t,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:_t,overlineThickness:_t,paintOrder:null,panose1:null,path:null,pathLength:_t,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ii,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:_t,pointsAtY:_t,pointsAtZ:_t,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Uo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Uo,rev:Uo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Uo,requiredFeatures:Uo,requiredFonts:Uo,requiredFormats:Uo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:_t,specularExponent:_t,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:_t,strikethroughThickness:_t,string:null,stroke:null,strokeDashArray:Uo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:_t,strokeOpacity:_t,strokeWidth:null,style:null,surfaceScale:_t,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Uo,tabIndex:_t,tableValues:null,target:null,targetX:_t,targetY:_t,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Uo,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:_t,underlineThickness:_t,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:_t,values:null,vAlphabetic:_t,vMathematical:_t,vectorEffect:null,vHanging:_t,vIdeographic:_t,version:null,vertAdvY:_t,vertOriginX:_t,vertOriginY:_t,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:_t,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Ure=/^data[-\w.:]+$/i,pN=/-[a-z]/g,$re=/[A-Z]/g;function Hre(e,n){const t=o6(n);let r=n,i=zl;if(t in e.normal)return e.property[e.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&Ure.test(n)){if(n.charAt(4)==="-"){const a=n.slice(5).replace(pN,Yre);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=n.slice(4);if(!pN.test(a)){let s=a.replace($re,Wre);s.charAt(0)!=="-"&&(s="-"+s),n="data"+s}}i=FA}return new i(r,n)}function Wre(e){return"-"+e.toLowerCase()}function Yre(e){return e.charAt(1).toUpperCase()}const mN={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Vre=CD([kD,_D,jD,OD,qre],"html"),Gre=CD([kD,_D,jD,OD,Bre],"svg");function Qre(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return n=>{RA(n,"element",(t,r,i)=>{const a=i;let s;if(e.allowedElements?s=!e.allowedElements.includes(t.tagName):e.disallowedElements&&(s=e.disallowedElements.includes(t.tagName)),!s&&e.allowElement&&typeof r=="number"&&(s=!e.allowElement(t,r,a)),s&&typeof r=="number")return e.unwrapDisallowed&&t.children?a.children.splice(r,1,...t.children):a.children.splice(r,1),r})}}var Rw={exports:{}},_r={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gN;function Kre(){if(gN)return _r;gN=1;var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function y(A){if(typeof A=="object"&&A!==null){var w=A.$$typeof;switch(w){case e:switch(A=A.type,A){case t:case i:case r:case d:case f:return A;default:switch(A=A&&A.$$typeof,A){case l:case s:case u:case b:case g:case a:return A;default:return w}}case n:return w}}}return _r.ContextConsumer=s,_r.ContextProvider=a,_r.Element=e,_r.ForwardRef=u,_r.Fragment=t,_r.Lazy=b,_r.Memo=g,_r.Portal=n,_r.Profiler=i,_r.StrictMode=r,_r.Suspense=d,_r.SuspenseList=f,_r.isAsyncMode=function(){return!1},_r.isConcurrentMode=function(){return!1},_r.isContextConsumer=function(A){return y(A)===s},_r.isContextProvider=function(A){return y(A)===a},_r.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},_r.isForwardRef=function(A){return y(A)===u},_r.isFragment=function(A){return y(A)===t},_r.isLazy=function(A){return y(A)===b},_r.isMemo=function(A){return y(A)===g},_r.isPortal=function(A){return y(A)===n},_r.isProfiler=function(A){return y(A)===i},_r.isStrictMode=function(A){return y(A)===r},_r.isSuspense=function(A){return y(A)===d},_r.isSuspenseList=function(A){return y(A)===f},_r.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===t||A===i||A===r||A===d||A===f||A===m||typeof A=="object"&&A!==null&&(A.$$typeof===b||A.$$typeof===g||A.$$typeof===a||A.$$typeof===s||A.$$typeof===u||A.$$typeof===x||A.getModuleId!==void 0)},_r.typeOf=y,_r}var bN;function Xre(){return bN||(bN=1,Rw.exports=Kre()),Rw.exports}var Zre=Xre();const Jre=ts(Zre);function eie(e){const n=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof n=="string"&&n.replace(/[ \t\n\f\r]/g,"")===""}function tie(e){return e.join(" ").trim()}function nie(e,n){const t={};return(e[e.length-1]===""?[...e,""]:e).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}var Vy={exports:{}},Mw,yN;function rie(){if(yN)return Mw;yN=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,t=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,l=/^\s+|\s+$/g,u=`
`,d="/",f="*",g="",b="comment",m="declaration";Mw=function(y,A){if(typeof y!="string")throw new TypeError("First argument must be a string");if(!y)return[];A=A||{};var w=1,C=1;function N(P){var j=P.match(n);j&&(w+=j.length);var G=P.lastIndexOf(u);C=~G?P.length-G:C+P.length}function R(){var P={line:w,column:C};return function(j){return j.position=new F(P),L(),j}}function F(P){this.start=P,this.end={line:w,column:C},this.source=A.source}F.prototype.content=y;function q(P){var j=new Error(A.source+":"+w+":"+C+": "+P);if(j.reason=P,j.filename=A.source,j.line=w,j.column=C,j.source=y,!A.silent)throw j}function k(P){var j=P.exec(y);if(j){var G=j[0];return N(G),y=y.slice(G.length),j}}function L(){k(t)}function B(P){var j;for(P=P||[];j=X();)j!==!1&&P.push(j);return P}function X(){var P=R();if(!(d!=y.charAt(0)||f!=y.charAt(1))){for(var j=2;g!=y.charAt(j)&&(f!=y.charAt(j)||d!=y.charAt(j+1));)++j;if(j+=2,g===y.charAt(j-1))return q("End of comment missing");var G=y.slice(2,j-2);return C+=2,N(G),y=y.slice(j),C+=2,P({type:b,comment:G})}}function T(){var P=R(),j=k(r);if(j){if(X(),!k(i))return q("property missing ':'");var G=k(a),W=P({type:m,property:x(j[0].replace(e,g)),value:G?x(G[0].replace(e,g)):g});return k(s),W}}function O(){var P=[];B(P);for(var j;j=T();)j!==!1&&(P.push(j),B(P));return P}return L(),O()};function x(y){return y?y.replace(l,g):g}return Mw}var xN;function iie(){if(xN)return Vy.exports;xN=1;var e=rie();function n(t,r){var i=null;if(!t||typeof t!="string")return i;for(var a,s=e(t),l=typeof r=="function",u,d,f=0,g=s.length;f<g;f++)a=s[f],u=a.property,d=a.value,l?r(u,d,a):d&&(i||(i={}),i[u]=d);return i}return Vy.exports=n,Vy.exports.default=n,Vy.exports}var aie=iie();const sie=ts(aie),u6={}.hasOwnProperty,oie=new Set(["table","thead","tbody","tfoot","tr"]);function ID(e,n){const t=[];let r=-1,i;for(;++r<n.children.length;)i=n.children[r],i.type==="element"?t.push(lie(e,i,r,n)):i.type==="text"?(n.type!=="element"||!oie.has(n.tagName)||!eie(i))&&t.push(i.value):i.type==="raw"&&!e.options.skipHtml&&t.push(i.value);return t}function lie(e,n,t,r){const i=e.options,a=i.transformLinkUri===void 0?yee:i.transformLinkUri,s=e.schema,l=n.tagName,u={};let d=s,f;if(s.space==="html"&&l==="svg"&&(d=Gre,e.schema=d),n.properties)for(f in n.properties)u6.call(n.properties,f)&&cie(u,f,n.properties[f],e);(l==="ol"||l==="ul")&&e.listDepth++;const g=ID(e,n);(l==="ol"||l==="ul")&&e.listDepth--,e.schema=s;const b=n.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},m=i.components&&u6.call(i.components,l)?i.components[l]:l,x=typeof m=="string"||m===at.Fragment;if(!Jre.isValidElementType(m))throw new TypeError(`Component for name \`${l}\` not defined or is not renderable`);if(u.key=t,l==="a"&&i.linkTarget&&(u.target=typeof i.linkTarget=="function"?i.linkTarget(String(u.href||""),n.children,typeof u.title=="string"?u.title:null):i.linkTarget),l==="a"&&a&&(u.href=a(String(u.href||""),n.children,typeof u.title=="string"?u.title:null)),!x&&l==="code"&&r.type==="element"&&r.tagName!=="pre"&&(u.inline=!0),!x&&(l==="h1"||l==="h2"||l==="h3"||l==="h4"||l==="h5"||l==="h6")&&(u.level=Number.parseInt(l.charAt(1),10)),l==="img"&&i.transformImageUri&&(u.src=i.transformImageUri(String(u.src||""),String(u.alt||""),typeof u.title=="string"?u.title:null)),!x&&l==="li"&&r.type==="element"){const y=uie(n);u.checked=y&&y.properties?!!y.properties.checked:null,u.index=Fw(r,n),u.ordered=r.tagName==="ol"}return!x&&(l==="ol"||l==="ul")&&(u.ordered=l==="ol",u.depth=e.listDepth),(l==="td"||l==="th")&&(u.align&&(u.style||(u.style={}),u.style.textAlign=u.align,delete u.align),x||(u.isHeader=l==="th")),!x&&l==="tr"&&r.type==="element"&&(u.isHeader=r.tagName==="thead"),i.sourcePos&&(u["data-sourcepos"]=hie(b)),!x&&i.rawSourcePos&&(u.sourcePosition=n.position),!x&&i.includeElementIndex&&(u.index=Fw(r,n),u.siblingCount=Fw(r)),x||(u.node=n),g.length>0?at.createElement(m,u,g):at.createElement(m,u)}function uie(e){let n=-1;for(;++n<e.children.length;){const t=e.children[n];if(t.type==="element"&&t.tagName==="input")return t}return null}function Fw(e,n){let t=-1,r=0;for(;++t<e.children.length&&e.children[t]!==n;)e.children[t].type==="element"&&r++;return r}function cie(e,n,t,r){const i=Hre(r.schema,n);let a=t;a==null||a!==a||(Array.isArray(a)&&(a=i.commaSeparated?nie(a):tie(a)),i.property==="style"&&typeof a=="string"&&(a=die(a)),i.space&&i.property?e[u6.call(mN,i.property)?mN[i.property]:i.property]=a:i.attribute&&(e[i.attribute]=a))}function die(e){const n={};try{sie(e,t)}catch{}return n;function t(r,i){const a=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;n[a.replace(/-([a-z])/g,fie)]=i}}function fie(e,n){return n.toUpperCase()}function hie(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const vN={}.hasOwnProperty,pie="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Gy={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function PA(e){for(const a in Gy)if(vN.call(Gy,a)&&vN.call(e,a)){const s=Gy[a];console.warn(`[react-markdown] Warning: please ${s.to?`use \`${s.to}\` instead of`:"remove"} \`${a}\` (see <${pie}#${s.id}> for more info)`),delete Gy[a]}const n=Mee().use(Wne).use(e.remarkPlugins||[]).use(Rre,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(Qre,e),t=new tD;typeof e.children=="string"?t.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=n.runSync(n.parse(t),t);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=at.createElement(at.Fragment,{},ID({options:e,schema:Vre,listDepth:0},r));return e.className&&(i=at.createElement("div",{className:e.className},i)),i}PA.propTypes={children:wn.string,className:wn.string,allowElement:wn.func,allowedElements:wn.arrayOf(wn.string),disallowedElements:wn.arrayOf(wn.string),unwrapDisallowed:wn.bool,remarkPlugins:wn.arrayOf(wn.oneOfType([wn.object,wn.func,wn.arrayOf(wn.oneOfType([wn.bool,wn.string,wn.object,wn.func,wn.arrayOf(wn.any)]))])),rehypePlugins:wn.arrayOf(wn.oneOfType([wn.object,wn.func,wn.arrayOf(wn.oneOfType([wn.bool,wn.string,wn.object,wn.func,wn.arrayOf(wn.any)]))])),sourcePos:wn.bool,rawSourcePos:wn.bool,skipHtml:wn.bool,includeElementIndex:wn.bool,transformLinkUri:wn.oneOfType([wn.func,wn.bool]),linkTarget:wn.oneOfType([wn.func,wn.string]),transformImageUri:wn.func,components:wn.object};function zA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Yd(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var wN={exports:{}},L1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SN;function mie(){if(SN)return L1;SN=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return L1.Fragment=n,L1.jsx=t,L1.jsxs=t,L1}var AN;function qA(){return AN||(AN=1,wN.exports=mie()),wN.exports}var gn=qA(),R1={},CN={exports:{}},EN;function Vv(){return EN||(EN=1,function(e){function n(t){return t&&t.__esModule?t:{default:t}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(CN)),CN.exports}var _N={};function Yr(){return Yr=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Yr.apply(null,arguments)}function Ff(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function DD(e){if(Q.isValidElement(e)||!Ff(e))return e;const n={};return Object.keys(e).forEach(t=>{n[t]=DD(e[t])}),n}function jc(e,n,t={clone:!0}){const r=t.clone?Yr({},e):e;return Ff(e)&&Ff(n)&&Object.keys(n).forEach(i=>{Q.isValidElement(n[i])?r[i]=n[i]:Ff(n[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Ff(e[i])?r[i]=jc(e[i],n[i],t):t.clone?r[i]=Ff(n[i])?DD(n[i]):n[i]:r[i]=n[i]}),r}const gie=Object.freeze(Object.defineProperty({__proto__:null,default:jc,isPlainObject:Ff},Symbol.toStringTag,{value:"Module"}));function Og(e){let n="https://mui.com/production-error/?code="+e;for(let t=1;t<arguments.length;t+=1)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+e+"; visit "+n+" for the full message."}const bie=Object.freeze(Object.defineProperty({__proto__:null,default:Og},Symbol.toStringTag,{value:"Module"}));var kN={exports:{}},$r={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NN;function yie(){if(NN)return $r;NN=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),m=Symbol.for("react.client.reference");function x(y){if(typeof y=="object"&&y!==null){var A=y.$$typeof;switch(A){case e:switch(y=y.type,y){case t:case i:case r:case u:case d:return y;default:switch(y=y&&y.$$typeof,y){case s:case l:case g:case f:return y;case a:return y;default:return A}}case n:return A}}}return $r.ContextConsumer=a,$r.ContextProvider=s,$r.Element=e,$r.ForwardRef=l,$r.Fragment=t,$r.Lazy=g,$r.Memo=f,$r.Portal=n,$r.Profiler=i,$r.StrictMode=r,$r.Suspense=u,$r.SuspenseList=d,$r.isContextConsumer=function(y){return x(y)===a},$r.isContextProvider=function(y){return x(y)===s},$r.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},$r.isForwardRef=function(y){return x(y)===l},$r.isFragment=function(y){return x(y)===t},$r.isLazy=function(y){return x(y)===g},$r.isMemo=function(y){return x(y)===f},$r.isPortal=function(y){return x(y)===n},$r.isProfiler=function(y){return x(y)===i},$r.isStrictMode=function(y){return x(y)===r},$r.isSuspense=function(y){return x(y)===u},$r.isSuspenseList=function(y){return x(y)===d},$r.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===i||y===r||y===u||y===d||y===b||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===f||y.$$typeof===s||y.$$typeof===a||y.$$typeof===l||y.$$typeof===m||y.getModuleId!==void 0)},$r.typeOf=x,$r}var TN;function xie(){return TN||(TN=1,kN.exports=yie()),kN.exports}var jN=xie();const vie=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function LD(e){const n=`${e}`.match(vie);return n&&n[1]||""}function RD(e,n=""){return e.displayName||e.name||LD(e)||n}function ON(e,n,t){const r=RD(n);return e.displayName||(r!==""?`${t}(${r})`:t)}function wie(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return RD(e,"Component");if(typeof e=="object")switch(e.$$typeof){case jN.ForwardRef:return ON(e,e.render,"ForwardRef");case jN.Memo:return ON(e,e.type,"memo");default:return}}}const Sie=Object.freeze(Object.defineProperty({__proto__:null,default:wie,getFunctionName:LD},Symbol.toStringTag,{value:"Module"}));function sh(e){if(typeof e!="string")throw new Error(Og(7));return e.charAt(0).toUpperCase()+e.slice(1)}const Aie=Object.freeze(Object.defineProperty({__proto__:null,default:sh},Symbol.toStringTag,{value:"Module"}));function Cie(...e){return e.reduce((n,t)=>t==null?n:function(...r){n.apply(this,r),t.apply(this,r)},()=>{})}function Eie(e,n=166){let t;function r(...i){const a=()=>{e.apply(this,i)};clearTimeout(t),t=setTimeout(a,n)}return r.clear=()=>{clearTimeout(t)},r}function _ie(e,n){return()=>null}function kie(e,n){var t,r;return Q.isValidElement(e)&&n.indexOf((t=e.type.muiName)!=null?t:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function MD(e){return e&&e.ownerDocument||document}function Nie(e){return MD(e).defaultView||window}function Tie(e,n){return()=>null}function FD(e,n){typeof e=="function"?e(n):e&&(e.current=n)}const PD=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;let IN=0;function jie(e){const[n,t]=Q.useState(e),r=e||n;return Q.useEffect(()=>{n==null&&(IN+=1,t(`mui-${IN}`))},[n]),r}const DN=Q.useId;function Oie(e){if(DN!==void 0){const n=DN();return e??n}return jie(e)}function Iie(e,n,t,r,i){return null}function Die({controlled:e,default:n,name:t,state:r="value"}){const{current:i}=Q.useRef(e!==void 0),[a,s]=Q.useState(n),l=i?e:a,u=Q.useCallback(d=>{i||s(d)},[]);return[l,u]}function Lie(e){const n=Q.useRef(e);return PD(()=>{n.current=e}),Q.useRef((...t)=>(0,n.current)(...t)).current}function Rie(...e){return Q.useMemo(()=>e.every(n=>n==null)?null:n=>{e.forEach(t=>{FD(t,n)})},e)}let Mie=class zD{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new zD}start(n,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},n)}},Gv=!0,c6=!1;const Fie=new Mie,Pie={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function zie(e){const{type:n,tagName:t}=e;return!!(t==="INPUT"&&Pie[n]&&!e.readOnly||t==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function qie(e){e.metaKey||e.altKey||e.ctrlKey||(Gv=!0)}function Pw(){Gv=!1}function Bie(){this.visibilityState==="hidden"&&c6&&(Gv=!0)}function Uie(e){e.addEventListener("keydown",qie,!0),e.addEventListener("mousedown",Pw,!0),e.addEventListener("pointerdown",Pw,!0),e.addEventListener("touchstart",Pw,!0),e.addEventListener("visibilitychange",Bie,!0)}function $ie(e){const{target:n}=e;try{return n.matches(":focus-visible")}catch{}return Gv||zie(n)}function Hie(){const e=Q.useCallback(i=>{i!=null&&Uie(i.ownerDocument)},[]),n=Q.useRef(!1);function t(){return n.current?(c6=!0,Fie.start(100,()=>{c6=!1}),n.current=!1,!0):!1}function r(i){return $ie(i)?(n.current=!0,!0):!1}return{isFocusVisibleRef:n,onFocus:r,onBlur:t,ref:e}}function d6(e,n){const t=Yr({},n);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=Yr({},e[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},a=n[r];t[r]={},!a||!Object.keys(a)?t[r]=i:!i||!Object.keys(i)?t[r]=a:(t[r]=Yr({},a),Object.keys(i).forEach(s=>{t[r][s]=d6(i[s],a[s])}))}else t[r]===void 0&&(t[r]=e[r])}),t}function Wie(e,n,t=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((a,s)=>{if(s){const l=n(s);l!==""&&a.push(l),t&&t[s]&&a.push(t[s])}return a},[]).join(" ")}),r}const LN=e=>e,Yie=()=>{let e=LN;return{configure(n){e=n},generate(n){return e(n)},reset(){e=LN}}},qD=Yie(),Vie={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function BD(e,n,t="Mui"){const r=Vie[n];return r?`${t}-${r}`:`${qD.generate(e)}-${n}`}function Gie(e,n,t="Mui"){const r={};return n.forEach(i=>{r[i]=BD(e,i,t)}),r}function Qie(e,n=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(n,Math.min(e,t))}const Kie=Object.freeze(Object.defineProperty({__proto__:null,default:Qie},Symbol.toStringTag,{value:"Module"}));function ph(e,n){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.includes(r))continue;t[r]=e[r]}return t}function UD(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(t=UD(e[n]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Xie(){for(var e,n,t=0,r="",i=arguments.length;t<i;t++)(e=arguments[t])&&(n=UD(e))&&(r&&(r+=" "),r+=n);return r}const Zie=Q.createContext(void 0);function Jie(e){const{theme:n,name:t,props:r}=e;if(!n||!n.components||!n.components[t])return r;const i=n.components[t];return i.defaultProps?d6(i.defaultProps,r):!i.styleOverrides&&!i.variants?d6(i,r):r}function eae({props:e,name:n}){const t=Q.useContext(Zie);return Jie({props:e,name:n,theme:{components:t}})}function tae(e){return eae(e)}var $h={},RN={exports:{}},MN;function nae(){return MN||(MN=1,function(e){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)({}).hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(RN)),RN.exports}var FN={exports:{}},PN;function rae(){return PN||(PN=1,function(e){function n(t,r){if(t==null)return{};var i={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.includes(a))continue;i[a]=t[a]}return i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(FN)),FN.exports}function iae(e){if(e.sheet)return e.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===e)return document.styleSheets[n]}function aae(e){var n=document.createElement("style");return n.setAttribute("data-emotion",e.key),e.nonce!==void 0&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var sae=function(){function e(t){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var n=e.prototype;return n.hydrate=function(t){t.forEach(this._insertTag)},n.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(aae(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=iae(r);try{i.insertRule(t,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(t));this.ctr++},n.flush=function(){this.tags.forEach(function(t){var r;return(r=t.parentNode)==null?void 0:r.removeChild(t)}),this.tags=[],this.ctr=0},e}(),Ds="-ms-",nv="-moz-",mr="-webkit-",$D="comm",BA="rule",UA="decl",oae="@import",HD="@keyframes",lae="@layer",uae=Math.abs,Qv=String.fromCharCode,cae=Object.assign;function dae(e,n){return hs(e,0)^45?(((n<<2^hs(e,0))<<2^hs(e,1))<<2^hs(e,2))<<2^hs(e,3):0}function WD(e){return e.trim()}function fae(e,n){return(e=n.exec(e))?e[0]:e}function br(e,n,t){return e.replace(n,t)}function f6(e,n){return e.indexOf(n)}function hs(e,n){return e.charCodeAt(n)|0}function Ig(e,n,t){return e.slice(n,t)}function fc(e){return e.length}function $A(e){return e.length}function Qy(e,n){return n.push(e),e}function hae(e,n){return e.map(n).join("")}var Kv=1,hm=1,YD=0,wo=0,Na=0,wm="";function Xv(e,n,t,r,i,a,s){return{value:e,root:n,parent:t,type:r,props:i,children:a,line:Kv,column:hm,length:s,return:""}}function M1(e,n){return cae(Xv("",null,null,"",null,null,0),e,{length:-e.length},n)}function pae(){return Na}function mae(){return Na=wo>0?hs(wm,--wo):0,hm--,Na===10&&(hm=1,Kv--),Na}function Zo(){return Na=wo<YD?hs(wm,wo++):0,hm++,Na===10&&(hm=1,Kv++),Na}function Oc(){return hs(wm,wo)}function yx(){return wo}function ub(e,n){return Ig(wm,e,n)}function Dg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function VD(e){return Kv=hm=1,YD=fc(wm=e),wo=0,[]}function GD(e){return wm="",e}function xx(e){return WD(ub(wo-1,h6(e===91?e+2:e===40?e+1:e)))}function gae(e){for(;(Na=Oc())&&Na<33;)Zo();return Dg(e)>2||Dg(Na)>3?"":" "}function bae(e,n){for(;--n&&Zo()&&!(Na<48||Na>102||Na>57&&Na<65||Na>70&&Na<97););return ub(e,yx()+(n<6&&Oc()==32&&Zo()==32))}function h6(e){for(;Zo();)switch(Na){case e:return wo;case 34:case 39:e!==34&&e!==39&&h6(Na);break;case 40:e===41&&h6(e);break;case 92:Zo();break}return wo}function yae(e,n){for(;Zo()&&e+Na!==57&&!(e+Na===84&&Oc()===47););return"/*"+ub(n,wo-1)+"*"+Qv(e===47?e:Zo())}function xae(e){for(;!Dg(Oc());)Zo();return ub(e,wo)}function vae(e){return GD(vx("",null,null,null,[""],e=VD(e),0,[0],e))}function vx(e,n,t,r,i,a,s,l,u){for(var d=0,f=0,g=s,b=0,m=0,x=0,y=1,A=1,w=1,C=0,N="",R=i,F=a,q=r,k=N;A;)switch(x=C,C=Zo()){case 40:if(x!=108&&hs(k,g-1)==58){f6(k+=br(xx(C),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:k+=xx(C);break;case 9:case 10:case 13:case 32:k+=gae(x);break;case 92:k+=bae(yx()-1,7);continue;case 47:switch(Oc()){case 42:case 47:Qy(wae(yae(Zo(),yx()),n,t),u);break;default:k+="/"}break;case 123*y:l[d++]=fc(k)*w;case 125*y:case 59:case 0:switch(C){case 0:case 125:A=0;case 59+f:w==-1&&(k=br(k,/\f/g,"")),m>0&&fc(k)-g&&Qy(m>32?qN(k+";",r,t,g-1):qN(br(k," ","")+";",r,t,g-2),u);break;case 59:k+=";";default:if(Qy(q=zN(k,n,t,d,f,i,l,N,R=[],F=[],g),a),C===123)if(f===0)vx(k,n,q,q,R,a,g,l,F);else switch(b===99&&hs(k,3)===110?100:b){case 100:case 108:case 109:case 115:vx(e,q,q,r&&Qy(zN(e,q,q,0,0,i,l,N,i,R=[],g),F),i,F,g,l,r?R:F);break;default:vx(k,q,q,q,[""],F,0,l,F)}}d=f=m=0,y=w=1,N=k="",g=s;break;case 58:g=1+fc(k),m=x;default:if(y<1){if(C==123)--y;else if(C==125&&y++==0&&mae()==125)continue}switch(k+=Qv(C),C*y){case 38:w=f>0?1:(k+="\f",-1);break;case 44:l[d++]=(fc(k)-1)*w,w=1;break;case 64:Oc()===45&&(k+=xx(Zo())),b=Oc(),f=g=fc(N=k+=xae(yx())),C++;break;case 45:x===45&&fc(k)==2&&(y=0)}}return a}function zN(e,n,t,r,i,a,s,l,u,d,f){for(var g=i-1,b=i===0?a:[""],m=$A(b),x=0,y=0,A=0;x<r;++x)for(var w=0,C=Ig(e,g+1,g=uae(y=s[x])),N=e;w<m;++w)(N=WD(y>0?b[w]+" "+C:br(C,/&\f/g,b[w])))&&(u[A++]=N);return Xv(e,n,t,i===0?BA:l,u,d,f)}function wae(e,n,t){return Xv(e,n,t,$D,Qv(pae()),Ig(e,2,-2),0)}function qN(e,n,t,r){return Xv(e,n,t,UA,Ig(e,0,r),Ig(e,r+1,-1),r)}function Q0(e,n){for(var t="",r=$A(e),i=0;i<r;i++)t+=n(e[i],i,e,n)||"";return t}function Sae(e,n,t,r){switch(e.type){case lae:if(e.children.length)break;case oae:case UA:return e.return=e.return||e.value;case $D:return"";case HD:return e.return=e.value+"{"+Q0(e.children,r)+"}";case BA:e.value=e.props.join(",")}return fc(t=Q0(e.children,r))?e.return=e.value+"{"+t+"}":""}function Aae(e){var n=$A(e);return function(t,r,i,a){for(var s="",l=0;l<n;l++)s+=e[l](t,r,i,a)||"";return s}}function Cae(e){return function(n){n.root||(n=n.return)&&e(n)}}var Eae=function(e,n,t){for(var r=0,i=0;r=i,i=Oc(),r===38&&i===12&&(n[t]=1),!Dg(i);)Zo();return ub(e,wo)},_ae=function(e,n){var t=-1,r=44;do switch(Dg(r)){case 0:r===38&&Oc()===12&&(n[t]=1),e[t]+=Eae(wo-1,n,t);break;case 2:e[t]+=xx(r);break;case 4:if(r===44){e[++t]=Oc()===58?"&\f":"",n[t]=e[t].length;break}default:e[t]+=Qv(r)}while(r=Zo());return e},kae=function(e,n){return GD(_ae(VD(e),n))},BN=new WeakMap,Nae=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,t=e.parent,r=e.column===t.column&&e.line===t.line;t.type!=="rule";)if(t=t.parent,!t)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!BN.get(t))&&!r){BN.set(e,!0);for(var i=[],a=kae(n,i),s=t.props,l=0,u=0;l<a.length;l++)for(var d=0;d<s.length;d++,u++)e.props[u]=i[l]?a[l].replace(/&\f/g,s[d]):s[d]+" "+a[l]}}},Tae=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function QD(e,n){switch(dae(e,n)){case 5103:return mr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return mr+e+nv+e+Ds+e+e;case 6828:case 4268:return mr+e+Ds+e+e;case 6165:return mr+e+Ds+"flex-"+e+e;case 5187:return mr+e+br(e,/(\w+).+(:[^]+)/,mr+"box-$1$2"+Ds+"flex-$1$2")+e;case 5443:return mr+e+Ds+"flex-item-"+br(e,/flex-|-self/,"")+e;case 4675:return mr+e+Ds+"flex-line-pack"+br(e,/align-content|flex-|-self/,"")+e;case 5548:return mr+e+Ds+br(e,"shrink","negative")+e;case 5292:return mr+e+Ds+br(e,"basis","preferred-size")+e;case 6060:return mr+"box-"+br(e,"-grow","")+mr+e+Ds+br(e,"grow","positive")+e;case 4554:return mr+br(e,/([^-])(transform)/g,"$1"+mr+"$2")+e;case 6187:return br(br(br(e,/(zoom-|grab)/,mr+"$1"),/(image-set)/,mr+"$1"),e,"")+e;case 5495:case 3959:return br(e,/(image-set\([^]*)/,mr+"$1$`$1");case 4968:return br(br(e,/(.+:)(flex-)?(.*)/,mr+"box-pack:$3"+Ds+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mr+e+e;case 4095:case 3583:case 4068:case 2532:return br(e,/(.+)-inline(.+)/,mr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(fc(e)-1-n>6)switch(hs(e,n+1)){case 109:if(hs(e,n+4)!==45)break;case 102:return br(e,/(.+:)(.+)-([^]+)/,"$1"+mr+"$2-$3$1"+nv+(hs(e,n+3)==108?"$3":"$2-$3"))+e;case 115:return~f6(e,"stretch")?QD(br(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(hs(e,n+1)!==115)break;case 6444:switch(hs(e,fc(e)-3-(~f6(e,"!important")&&10))){case 107:return br(e,":",":"+mr)+e;case 101:return br(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mr+(hs(e,14)===45?"inline-":"")+"box$3$1"+mr+"$2$3$1"+Ds+"$2box$3")+e}break;case 5936:switch(hs(e,n+11)){case 114:return mr+e+Ds+br(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return mr+e+Ds+br(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return mr+e+Ds+br(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return mr+e+Ds+e+e}return e}var jae=function(e,n,t,r){if(e.length>-1&&!e.return)switch(e.type){case UA:e.return=QD(e.value,e.length);break;case HD:return Q0([M1(e,{value:br(e.value,"@","@"+mr)})],r);case BA:if(e.length)return hae(e.props,function(i){switch(fae(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Q0([M1(e,{props:[br(i,/:(read-\w+)/,":"+nv+"$1")]})],r);case"::placeholder":return Q0([M1(e,{props:[br(i,/:(plac\w+)/,":"+mr+"input-$1")]}),M1(e,{props:[br(i,/:(plac\w+)/,":"+nv+"$1")]}),M1(e,{props:[br(i,/:(plac\w+)/,Ds+"input-$1")]})],r)}return""})}},Oae=[jae],Iae=function(e){var n=e.key;if(n==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(x){var y=x.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var r=e.stylisPlugins||Oae,i={},a,s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var y=x.getAttribute("data-emotion").split(" "),A=1;A<y.length;A++)i[y[A]]=!0;s.push(x)});var l,u=[Nae,Tae];{var d,f=[Sae,Cae(function(x){d.insert(x)})],g=Aae(u.concat(r,f)),b=function(x){return Q0(vae(x),g)};l=function(x,y,A,w){d=A,b(x?x+"{"+y.styles+"}":y.styles),w&&(m.inserted[y.name]=!0)}}var m={key:n,sheet:new sae({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return m.sheet.hydrate(s),m};let p6;typeof document=="object"&&(p6=Iae({key:"css",prepend:!0}));function Dae(e){const{injectFirst:n,children:t}=e;return n&&p6?gn.jsx(gj,{value:p6,children:t}):t}function Lae(e){return e==null||Object.keys(e).length===0}function Rae(e){const{styles:n,defaultTheme:t={}}=e,r=typeof n=="function"?i=>n(Lae(i)?t:i):n;return gn.jsx(bj,{styles:r})}/**
 * @mui/styled-engine v5.16.12
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Mae(e,n){return mj(e,n)}const Fae=(e,n)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=n(e.__emotion_styles))},Pae=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Rae,StyledEngineProvider:Dae,ThemeContext:pj,css:hj,default:Mae,internal_processStyles:Fae,keyframes:fj},Symbol.toStringTag,{value:"Module"})),zae=Yd(Pae),qae=Yd(gie),Bae=Yd(Aie),Uae=Yd(Sie),$ae=["values","unit","step"],Hae=e=>{const n=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return n.sort((t,r)=>t.val-r.val),n.reduce((t,r)=>Yr({},t,{[r.key]:r.val}),{})};function KD(e){const{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=e,i=ph(e,$ae),a=Hae(n),s=Object.keys(a);function l(b){return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t})`}function u(b){return`@media (max-width:${(typeof n[b]=="number"?n[b]:b)-r/100}${t})`}function d(b,m){const x=s.indexOf(m);return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t}) and (max-width:${(x!==-1&&typeof n[s[x]]=="number"?n[s[x]]:m)-r/100}${t})`}function f(b){return s.indexOf(b)+1<s.length?d(b,s[s.indexOf(b)+1]):l(b)}function g(b){const m=s.indexOf(b);return m===0?l(s[1]):m===s.length-1?u(s[m]):d(b,s[s.indexOf(b)+1]).replace("@media","@media not all and")}return Yr({keys:s,values:a,up:l,down:u,between:d,only:f,not:g,unit:t},i)}const Wae={borderRadius:4};function sg(e,n){return n?jc(e,n,{clone:!1}):e}const HA={xs:0,sm:600,md:900,lg:1200,xl:1536},UN={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${HA[e]}px)`};function zd(e,n,t){const r=e.theme||{};if(Array.isArray(n)){const i=r.breakpoints||UN;return n.reduce((a,s,l)=>(a[i.up(i.keys[l])]=t(n[l]),a),{})}if(typeof n=="object"){const i=r.breakpoints||UN;return Object.keys(n).reduce((a,s)=>{if(Object.keys(i.values||HA).indexOf(s)!==-1){const l=i.up(s);a[l]=t(n[s],s)}else{const l=s;a[l]=n[l]}return a},{})}return t(n)}function Yae(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((t,r)=>{const i=e.up(r);return t[i]={},t},{}))||{}}function Vae(e,n){return e.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},n)}function Zv(e,n,t=!0){if(!n||typeof n!="string")return null;if(e&&e.vars&&t){const r=`vars.${n}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(r!=null)return r}return n.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function rv(e,n,t,r=t){let i;return typeof e=="function"?i=e(t):Array.isArray(e)?i=e[t]||r:i=Zv(e,t)||r,n&&(i=n(i,r,e)),i}function ga(e){const{prop:n,cssProperty:t=e.prop,themeKey:r,transform:i}=e,a=s=>{if(s[n]==null)return null;const l=s[n],u=s.theme,d=Zv(u,r)||{};return zd(s,l,f=>{let g=rv(d,i,f);return f===g&&typeof f=="string"&&(g=rv(d,i,`${n}${f==="default"?"":sh(f)}`,f)),t===!1?g:{[t]:g}})};return a.propTypes={},a.filterProps=[n],a}function Gae(e){const n={};return t=>(n[t]===void 0&&(n[t]=e(t)),n[t])}const Qae={m:"margin",p:"padding"},Kae={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},$N={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Xae=Gae(e=>{if(e.length>2)if($N[e])e=$N[e];else return[e];const[n,t]=e.split(""),r=Qae[n],i=Kae[t]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),WA=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],YA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...WA,...YA];function cb(e,n,t,r){var i;const a=(i=Zv(e,n,!1))!=null?i:t;return typeof a=="number"?s=>typeof s=="string"?s:a*s:Array.isArray(a)?s=>typeof s=="string"?s:a[s]:typeof a=="function"?a:()=>{}}function XD(e){return cb(e,"spacing",8)}function db(e,n){if(typeof n=="string"||n==null)return n;const t=Math.abs(n),r=e(t);return n>=0?r:typeof r=="number"?-r:`-${r}`}function Zae(e,n){return t=>e.reduce((r,i)=>(r[i]=db(n,t),r),{})}function Jae(e,n,t,r){if(n.indexOf(t)===-1)return null;const i=Xae(t),a=Zae(i,r),s=e[t];return zd(e,s,a)}function ZD(e,n){const t=XD(e.theme);return Object.keys(e).map(r=>Jae(e,n,r,t)).reduce(sg,{})}function Wi(e){return ZD(e,WA)}Wi.propTypes={};Wi.filterProps=WA;function Yi(e){return ZD(e,YA)}Yi.propTypes={};Yi.filterProps=YA;function ese(e=8){if(e.mui)return e;const n=XD({spacing:e}),t=(...r)=>(r.length===0?[1]:r).map(i=>{const a=n(i);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function Jv(...e){const n=e.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),t=r=>Object.keys(r).reduce((i,a)=>n[a]?sg(i,n[a](r)):i,{});return t.propTypes={},t.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Tl(e){return typeof e!="number"?e:`${e}px solid`}function ql(e,n){return ga({prop:e,themeKey:"borders",transform:n})}const tse=ql("border",Tl),nse=ql("borderTop",Tl),rse=ql("borderRight",Tl),ise=ql("borderBottom",Tl),ase=ql("borderLeft",Tl),sse=ql("borderColor"),ose=ql("borderTopColor"),lse=ql("borderRightColor"),use=ql("borderBottomColor"),cse=ql("borderLeftColor"),dse=ql("outline",Tl),fse=ql("outlineColor"),e2=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const n=cb(e.theme,"shape.borderRadius",4),t=r=>({borderRadius:db(n,r)});return zd(e,e.borderRadius,t)}return null};e2.propTypes={};e2.filterProps=["borderRadius"];Jv(tse,nse,rse,ise,ase,sse,ose,lse,use,cse,e2,dse,fse);const t2=e=>{if(e.gap!==void 0&&e.gap!==null){const n=cb(e.theme,"spacing",8),t=r=>({gap:db(n,r)});return zd(e,e.gap,t)}return null};t2.propTypes={};t2.filterProps=["gap"];const n2=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const n=cb(e.theme,"spacing",8),t=r=>({columnGap:db(n,r)});return zd(e,e.columnGap,t)}return null};n2.propTypes={};n2.filterProps=["columnGap"];const r2=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const n=cb(e.theme,"spacing",8),t=r=>({rowGap:db(n,r)});return zd(e,e.rowGap,t)}return null};r2.propTypes={};r2.filterProps=["rowGap"];const hse=ga({prop:"gridColumn"}),pse=ga({prop:"gridRow"}),mse=ga({prop:"gridAutoFlow"}),gse=ga({prop:"gridAutoColumns"}),bse=ga({prop:"gridAutoRows"}),yse=ga({prop:"gridTemplateColumns"}),xse=ga({prop:"gridTemplateRows"}),vse=ga({prop:"gridTemplateAreas"}),wse=ga({prop:"gridArea"});Jv(t2,n2,r2,hse,pse,mse,gse,bse,yse,xse,vse,wse);function K0(e,n){return n==="grey"?n:e}const Sse=ga({prop:"color",themeKey:"palette",transform:K0}),Ase=ga({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:K0}),Cse=ga({prop:"backgroundColor",themeKey:"palette",transform:K0});Jv(Sse,Ase,Cse);function Yo(e){return e<=1&&e!==0?`${e*100}%`:e}const Ese=ga({prop:"width",transform:Yo}),VA=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const n=t=>{var r,i;const a=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||HA[t];return a?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Yo(t)}};return zd(e,e.maxWidth,n)}return null};VA.filterProps=["maxWidth"];const _se=ga({prop:"minWidth",transform:Yo}),kse=ga({prop:"height",transform:Yo}),Nse=ga({prop:"maxHeight",transform:Yo}),Tse=ga({prop:"minHeight",transform:Yo});ga({prop:"size",cssProperty:"width",transform:Yo});ga({prop:"size",cssProperty:"height",transform:Yo});const jse=ga({prop:"boxSizing"});Jv(Ese,VA,_se,kse,Nse,Tse,jse);const fb={border:{themeKey:"borders",transform:Tl},borderTop:{themeKey:"borders",transform:Tl},borderRight:{themeKey:"borders",transform:Tl},borderBottom:{themeKey:"borders",transform:Tl},borderLeft:{themeKey:"borders",transform:Tl},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Tl},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:e2},color:{themeKey:"palette",transform:K0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:K0},backgroundColor:{themeKey:"palette",transform:K0},p:{style:Yi},pt:{style:Yi},pr:{style:Yi},pb:{style:Yi},pl:{style:Yi},px:{style:Yi},py:{style:Yi},padding:{style:Yi},paddingTop:{style:Yi},paddingRight:{style:Yi},paddingBottom:{style:Yi},paddingLeft:{style:Yi},paddingX:{style:Yi},paddingY:{style:Yi},paddingInline:{style:Yi},paddingInlineStart:{style:Yi},paddingInlineEnd:{style:Yi},paddingBlock:{style:Yi},paddingBlockStart:{style:Yi},paddingBlockEnd:{style:Yi},m:{style:Wi},mt:{style:Wi},mr:{style:Wi},mb:{style:Wi},ml:{style:Wi},mx:{style:Wi},my:{style:Wi},margin:{style:Wi},marginTop:{style:Wi},marginRight:{style:Wi},marginBottom:{style:Wi},marginLeft:{style:Wi},marginX:{style:Wi},marginY:{style:Wi},marginInline:{style:Wi},marginInlineStart:{style:Wi},marginInlineEnd:{style:Wi},marginBlock:{style:Wi},marginBlockStart:{style:Wi},marginBlockEnd:{style:Wi},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:t2},rowGap:{style:r2},columnGap:{style:n2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Yo},maxWidth:{style:VA},minWidth:{transform:Yo},height:{transform:Yo},maxHeight:{transform:Yo},minHeight:{transform:Yo},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Ose(...e){const n=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(n);return e.every(r=>t.size===Object.keys(r).length)}function Ise(e,n){return typeof e=="function"?e(n):e}function JD(){function e(t,r,i,a){const s={[t]:r,theme:i},l=a[t];if(!l)return{[t]:r};const{cssProperty:u=t,themeKey:d,transform:f,style:g}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const b=Zv(i,d)||{};return g?g(s):zd(s,r,m=>{let x=rv(b,f,m);return m===x&&typeof m=="string"&&(x=rv(b,f,`${t}${m==="default"?"":sh(m)}`,m)),u===!1?x:{[u]:x}})}function n(t){var r;const{sx:i,theme:a={}}=t||{};if(!i)return null;const s=(r=a.unstable_sxConfig)!=null?r:fb;function l(u){let d=u;if(typeof u=="function")d=u(a);else if(typeof u!="object")return u;if(!d)return null;const f=Yae(a.breakpoints),g=Object.keys(f);let b=f;return Object.keys(d).forEach(m=>{const x=Ise(d[m],a);if(x!=null)if(typeof x=="object")if(s[m])b=sg(b,e(m,x,a,s));else{const y=zd({theme:a},x,A=>({[m]:A}));Ose(y,x)?b[m]=n({sx:x,theme:a}):b=sg(b,y)}else b=sg(b,e(m,x,a,s))}),Vae(g,b)}return Array.isArray(i)?i.map(l):l(i)}return n}const i2=JD();i2.filterProps=["sx"];function eL(e,n){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:n}:t.palette.mode===e?n:{}}const Dse=["breakpoints","palette","spacing","shape"];function tL(e={},...n){const{breakpoints:t={},palette:r={},spacing:i,shape:a={}}=e,s=ph(e,Dse),l=KD(t),u=ese(i);let d=jc({breakpoints:l,direction:"ltr",components:{},palette:Yr({mode:"light"},r),spacing:u,shape:Yr({},Wae,a)},s);return d.applyStyles=eL,d=n.reduce((f,g)=>jc(f,g),d),d.unstable_sxConfig=Yr({},fb,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(f){return i2({sx:f,theme:this})},d}const Lse=Object.freeze(Object.defineProperty({__proto__:null,default:tL,private_createBreakpoints:KD,unstable_applyStyles:eL},Symbol.toStringTag,{value:"Module"})),Rse=Yd(Lse),Mse=["sx"],Fse=e=>{var n,t;const r={systemProps:{},otherProps:{}},i=(n=e==null||(t=e.theme)==null?void 0:t.unstable_sxConfig)!=null?n:fb;return Object.keys(e).forEach(a=>{i[a]?r.systemProps[a]=e[a]:r.otherProps[a]=e[a]}),r};function Pse(e){const{sx:n}=e,t=ph(e,Mse),{systemProps:r,otherProps:i}=Fse(t);let a;return Array.isArray(n)?a=[r,...n]:typeof n=="function"?a=(...s)=>{const l=n(...s);return Ff(l)?Yr({},r,l):r}:a=Yr({},r,n),Yr({},i,{sx:a})}const zse=Object.freeze(Object.defineProperty({__proto__:null,default:i2,extendSxProp:Pse,unstable_createStyleFunctionSx:JD,unstable_defaultSxConfig:fb},Symbol.toStringTag,{value:"Module"})),qse=Yd(zse);var HN;function Bse(){if(HN)return $h;HN=1;var e=Vv();Object.defineProperty($h,"__esModule",{value:!0}),$h.default=R,$h.shouldForwardProp=x,$h.systemDefaultTheme=void 0;var n=e(nae()),t=e(rae()),r=g(zae),i=qae;e(Bae),e(Uae);var a=e(Rse),s=e(qse);const l=["ownerState"],u=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function f(F){if(typeof WeakMap!="function")return null;var q=new WeakMap,k=new WeakMap;return(f=function(L){return L?k:q})(F)}function g(F,q){if(F&&F.__esModule)return F;if(F===null||typeof F!="object"&&typeof F!="function")return{default:F};var k=f(q);if(k&&k.has(F))return k.get(F);var L={__proto__:null},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var X in F)if(X!=="default"&&Object.prototype.hasOwnProperty.call(F,X)){var T=B?Object.getOwnPropertyDescriptor(F,X):null;T&&(T.get||T.set)?Object.defineProperty(L,X,T):L[X]=F[X]}return L.default=F,k&&k.set(F,L),L}function b(F){return Object.keys(F).length===0}function m(F){return typeof F=="string"&&F.charCodeAt(0)>96}function x(F){return F!=="ownerState"&&F!=="theme"&&F!=="sx"&&F!=="as"}const y=$h.systemDefaultTheme=(0,a.default)(),A=F=>F&&F.charAt(0).toLowerCase()+F.slice(1);function w({defaultTheme:F,theme:q,themeId:k}){return b(q)?F:q[k]||q}function C(F){return F?(q,k)=>k[F]:null}function N(F,q){let{ownerState:k}=q,L=(0,t.default)(q,l);const B=typeof F=="function"?F((0,n.default)({ownerState:k},L)):F;if(Array.isArray(B))return B.flatMap(X=>N(X,(0,n.default)({ownerState:k},L)));if(B&&typeof B=="object"&&Array.isArray(B.variants)){const{variants:X=[]}=B;let T=(0,t.default)(B,u);return X.forEach(O=>{let P=!0;typeof O.props=="function"?P=O.props((0,n.default)({ownerState:k},L,k)):Object.keys(O.props).forEach(j=>{(k==null?void 0:k[j])!==O.props[j]&&L[j]!==O.props[j]&&(P=!1)}),P&&(Array.isArray(T)||(T=[T]),T.push(typeof O.style=="function"?O.style((0,n.default)({ownerState:k},L,k)):O.style))}),T}return B}function R(F={}){const{themeId:q,defaultTheme:k=y,rootShouldForwardProp:L=x,slotShouldForwardProp:B=x}=F,X=T=>(0,s.default)((0,n.default)({},T,{theme:w((0,n.default)({},T,{defaultTheme:k,themeId:q}))}));return X.__mui_systemSx=!0,(T,O={})=>{(0,r.internal_processStyles)(T,oe=>oe.filter(we=>!(we!=null&&we.__mui_systemSx)));const{name:P,slot:j,skipVariantsResolver:G,skipSx:W,overridesResolver:K=C(A(j))}=O,ie=(0,t.default)(O,d),ce=G!==void 0?G:j&&j!=="Root"&&j!=="root"||!1,$=W||!1;let ae,U=x;j==="Root"||j==="root"?U=L:j?U=B:m(T)&&(U=void 0);const z=(0,r.default)(T,(0,n.default)({shouldForwardProp:U,label:ae},ie)),Z=oe=>typeof oe=="function"&&oe.__emotion_real!==oe||(0,i.isPlainObject)(oe)?we=>N(oe,(0,n.default)({},we,{theme:w({theme:we.theme,defaultTheme:k,themeId:q})})):oe,ee=(oe,...we)=>{let xe=Z(oe);const Ee=we?we.map(Z):[];P&&K&&Ee.push(We=>{const Ye=w((0,n.default)({},We,{defaultTheme:k,themeId:q}));if(!Ye.components||!Ye.components[P]||!Ye.components[P].styleOverrides)return null;const Y=Ye.components[P].styleOverrides,Se={};return Object.entries(Y).forEach(([te,be])=>{Se[te]=N(be,(0,n.default)({},We,{theme:Ye}))}),K(We,Se)}),P&&!ce&&Ee.push(We=>{var Ye;const Y=w((0,n.default)({},We,{defaultTheme:k,themeId:q})),Se=Y==null||(Ye=Y.components)==null||(Ye=Ye[P])==null?void 0:Ye.variants;return N({variants:Se},(0,n.default)({},We,{theme:Y}))}),$||Ee.push(X);const De=Ee.length-we.length;if(Array.isArray(oe)&&De>0){const We=new Array(De).fill("");xe=[...oe,...We],xe.raw=[...oe.raw,...We]}const Me=z(xe,...Ee);return T.muiName&&(Me.muiName=T.muiName),Me};return z.withConfig&&(ee.withConfig=z.withConfig),ee}}return $h}var Use=Bse();const $se=zA(Use);function Hse(e,n){return Yr({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},n)}var Ii={};const Wse=Yd(bie),Yse=Yd(Kie);var WN;function Vse(){if(WN)return Ii;WN=1;var e=Vv();Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.alpha=x,Ii.blend=q,Ii.colorChannel=void 0,Ii.darken=A,Ii.decomposeColor=s,Ii.emphasize=R,Ii.getContrastRatio=m,Ii.getLuminance=b,Ii.hexToRgb=i,Ii.hslToRgb=g,Ii.lighten=C,Ii.private_safeAlpha=y,Ii.private_safeColorChannel=void 0,Ii.private_safeDarken=w,Ii.private_safeEmphasize=F,Ii.private_safeLighten=N,Ii.recomposeColor=d,Ii.rgbToHex=f;var n=e(Wse),t=e(Yse);function r(k,L=0,B=1){return(0,t.default)(k,L,B)}function i(k){k=k.slice(1);const L=new RegExp(`.{1,${k.length>=6?2:1}}`,"g");let B=k.match(L);return B&&B[0].length===1&&(B=B.map(X=>X+X)),B?`rgb${B.length===4?"a":""}(${B.map((X,T)=>T<3?parseInt(X,16):Math.round(parseInt(X,16)/255*1e3)/1e3).join(", ")})`:""}function a(k){const L=k.toString(16);return L.length===1?`0${L}`:L}function s(k){if(k.type)return k;if(k.charAt(0)==="#")return s(i(k));const L=k.indexOf("("),B=k.substring(0,L);if(["rgb","rgba","hsl","hsla","color"].indexOf(B)===-1)throw new Error((0,n.default)(9,k));let X=k.substring(L+1,k.length-1),T;if(B==="color"){if(X=X.split(" "),T=X.shift(),X.length===4&&X[3].charAt(0)==="/"&&(X[3]=X[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(T)===-1)throw new Error((0,n.default)(10,T))}else X=X.split(",");return X=X.map(O=>parseFloat(O)),{type:B,values:X,colorSpace:T}}const l=k=>{const L=s(k);return L.values.slice(0,3).map((B,X)=>L.type.indexOf("hsl")!==-1&&X!==0?`${B}%`:B).join(" ")};Ii.colorChannel=l;const u=(k,L)=>{try{return l(k)}catch{return k}};Ii.private_safeColorChannel=u;function d(k){const{type:L,colorSpace:B}=k;let{values:X}=k;return L.indexOf("rgb")!==-1?X=X.map((T,O)=>O<3?parseInt(T,10):T):L.indexOf("hsl")!==-1&&(X[1]=`${X[1]}%`,X[2]=`${X[2]}%`),L.indexOf("color")!==-1?X=`${B} ${X.join(" ")}`:X=`${X.join(", ")}`,`${L}(${X})`}function f(k){if(k.indexOf("#")===0)return k;const{values:L}=s(k);return`#${L.map((B,X)=>a(X===3?Math.round(255*B):B)).join("")}`}function g(k){k=s(k);const{values:L}=k,B=L[0],X=L[1]/100,T=L[2]/100,O=X*Math.min(T,1-T),P=(W,K=(W+B/30)%12)=>T-O*Math.max(Math.min(K-3,9-K,1),-1);let j="rgb";const G=[Math.round(P(0)*255),Math.round(P(8)*255),Math.round(P(4)*255)];return k.type==="hsla"&&(j+="a",G.push(L[3])),d({type:j,values:G})}function b(k){k=s(k);let L=k.type==="hsl"||k.type==="hsla"?s(g(k)).values:k.values;return L=L.map(B=>(k.type!=="color"&&(B/=255),B<=.03928?B/12.92:((B+.055)/1.055)**2.4)),Number((.2126*L[0]+.7152*L[1]+.0722*L[2]).toFixed(3))}function m(k,L){const B=b(k),X=b(L);return(Math.max(B,X)+.05)/(Math.min(B,X)+.05)}function x(k,L){return k=s(k),L=r(L),(k.type==="rgb"||k.type==="hsl")&&(k.type+="a"),k.type==="color"?k.values[3]=`/${L}`:k.values[3]=L,d(k)}function y(k,L,B){try{return x(k,L)}catch{return k}}function A(k,L){if(k=s(k),L=r(L),k.type.indexOf("hsl")!==-1)k.values[2]*=1-L;else if(k.type.indexOf("rgb")!==-1||k.type.indexOf("color")!==-1)for(let B=0;B<3;B+=1)k.values[B]*=1-L;return d(k)}function w(k,L,B){try{return A(k,L)}catch{return k}}function C(k,L){if(k=s(k),L=r(L),k.type.indexOf("hsl")!==-1)k.values[2]+=(100-k.values[2])*L;else if(k.type.indexOf("rgb")!==-1)for(let B=0;B<3;B+=1)k.values[B]+=(255-k.values[B])*L;else if(k.type.indexOf("color")!==-1)for(let B=0;B<3;B+=1)k.values[B]+=(1-k.values[B])*L;return d(k)}function N(k,L,B){try{return C(k,L)}catch{return k}}function R(k,L=.15){return b(k)>.5?A(k,L):C(k,L)}function F(k,L,B){try{return R(k,L)}catch{return k}}function q(k,L,B,X=1){const T=(G,W)=>Math.round((G**(1/X)*(1-B)+W**(1/X)*B)**X),O=s(k),P=s(L),j=[T(O.values[0],P.values[0]),T(O.values[1],P.values[1]),T(O.values[2],P.values[2])];return d({type:"rgb",values:j})}return Ii}var m6=Vse();const Lg={black:"#000",white:"#fff"},Gse={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},g0={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},b0={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},F1={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},y0={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},x0={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},v0={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Qse=["mode","contrastThreshold","tonalOffset"],YN={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Lg.white,default:Lg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},zw={text:{primary:Lg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Lg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function VN(e,n,t,r){const i=r.light||r,a=r.dark||r*1.5;e[n]||(e.hasOwnProperty(t)?e[n]=e[t]:n==="light"?e.light=m6.lighten(e.main,i):n==="dark"&&(e.dark=m6.darken(e.main,a)))}function Kse(e="light"){return e==="dark"?{main:y0[200],light:y0[50],dark:y0[400]}:{main:y0[700],light:y0[400],dark:y0[800]}}function Xse(e="light"){return e==="dark"?{main:g0[200],light:g0[50],dark:g0[400]}:{main:g0[500],light:g0[300],dark:g0[700]}}function Zse(e="light"){return e==="dark"?{main:b0[500],light:b0[300],dark:b0[700]}:{main:b0[700],light:b0[400],dark:b0[800]}}function Jse(e="light"){return e==="dark"?{main:x0[400],light:x0[300],dark:x0[700]}:{main:x0[700],light:x0[500],dark:x0[900]}}function eoe(e="light"){return e==="dark"?{main:v0[400],light:v0[300],dark:v0[700]}:{main:v0[800],light:v0[500],dark:v0[900]}}function toe(e="light"){return e==="dark"?{main:F1[400],light:F1[300],dark:F1[700]}:{main:"#ed6c02",light:F1[500],dark:F1[900]}}function noe(e){const{mode:n="light",contrastThreshold:t=3,tonalOffset:r=.2}=e,i=ph(e,Qse),a=e.primary||Kse(n),s=e.secondary||Xse(n),l=e.error||Zse(n),u=e.info||Jse(n),d=e.success||eoe(n),f=e.warning||toe(n);function g(x){return m6.getContrastRatio(x,zw.text.primary)>=t?zw.text.primary:YN.text.primary}const b=({color:x,name:y,mainShade:A=500,lightShade:w=300,darkShade:C=700})=>{if(x=Yr({},x),!x.main&&x[A]&&(x.main=x[A]),!x.hasOwnProperty("main"))throw new Error(Og(11,y?` (${y})`:"",A));if(typeof x.main!="string")throw new Error(Og(12,y?` (${y})`:"",JSON.stringify(x.main)));return VN(x,"light",w,r),VN(x,"dark",C,r),x.contrastText||(x.contrastText=g(x.main)),x},m={dark:zw,light:YN};return jc(Yr({common:Yr({},Lg),mode:n,primary:b({color:a,name:"primary"}),secondary:b({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:l,name:"error"}),warning:b({color:f,name:"warning"}),info:b({color:u,name:"info"}),success:b({color:d,name:"success"}),grey:Gse,contrastThreshold:t,getContrastText:g,augmentColor:b,tonalOffset:r},m[n]),i)}const roe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function ioe(e){return Math.round(e*1e5)/1e5}const GN={textTransform:"uppercase"},QN='"Roboto", "Helvetica", "Arial", sans-serif';function aoe(e,n){const t=typeof n=="function"?n(e):n,{fontFamily:r=QN,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:d=16,allVariants:f,pxToRem:g}=t,b=ph(t,roe),m=i/14,x=g||(w=>`${w/d*m}rem`),y=(w,C,N,R,F)=>Yr({fontFamily:r,fontWeight:w,fontSize:x(C),lineHeight:N},r===QN?{letterSpacing:`${ioe(R/C)}em`}:{},F,f),A={h1:y(a,96,1.167,-1.5),h2:y(a,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(l,14,1.75,.4,GN),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,GN),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return jc(Yr({htmlFontSize:d,pxToRem:x,fontFamily:r,fontSize:i,fontWeightLight:a,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:u},A),b,{clone:!1})}const soe=.2,ooe=.14,loe=.12;function xi(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${soe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${ooe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${loe})`].join(",")}const uoe=["none",xi(0,2,1,-1,0,1,1,0,0,1,3,0),xi(0,3,1,-2,0,2,2,0,0,1,5,0),xi(0,3,3,-2,0,3,4,0,0,1,8,0),xi(0,2,4,-1,0,4,5,0,0,1,10,0),xi(0,3,5,-1,0,5,8,0,0,1,14,0),xi(0,3,5,-1,0,6,10,0,0,1,18,0),xi(0,4,5,-2,0,7,10,1,0,2,16,1),xi(0,5,5,-3,0,8,10,1,0,3,14,2),xi(0,5,6,-3,0,9,12,1,0,3,16,2),xi(0,6,6,-3,0,10,14,1,0,4,18,3),xi(0,6,7,-4,0,11,15,1,0,4,20,3),xi(0,7,8,-4,0,12,17,2,0,5,22,4),xi(0,7,8,-4,0,13,19,2,0,5,24,4),xi(0,7,9,-4,0,14,21,2,0,5,26,4),xi(0,8,9,-5,0,15,22,2,0,6,28,5),xi(0,8,10,-5,0,16,24,2,0,6,30,5),xi(0,8,11,-5,0,17,26,2,0,6,32,5),xi(0,9,11,-5,0,18,28,2,0,7,34,6),xi(0,9,12,-6,0,19,29,2,0,7,36,6),xi(0,10,13,-6,0,20,31,3,0,8,38,7),xi(0,10,13,-6,0,21,33,3,0,8,40,7),xi(0,10,14,-6,0,22,35,3,0,8,42,7),xi(0,11,14,-7,0,23,36,3,0,9,44,8),xi(0,11,15,-7,0,24,38,3,0,9,46,8)],coe=["duration","easing","delay"],doe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},foe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function KN(e){return`${Math.round(e)}ms`}function hoe(e){if(!e)return 0;const n=e/36;return Math.round((4+15*n**.25+n/5)*10)}function poe(e){const n=Yr({},doe,e.easing),t=Yr({},foe,e.duration);return Yr({getAutoHeightDuration:hoe,create:(r=["all"],i={})=>{const{duration:a=t.standard,easing:s=n.easeInOut,delay:l=0}=i;return ph(i,coe),(Array.isArray(r)?r:[r]).map(u=>`${u} ${typeof a=="string"?a:KN(a)} ${s} ${typeof l=="string"?l:KN(l)}`).join(",")}},e,{easing:n,duration:t})}const moe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},goe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function boe(e={},...n){const{mixins:t={},palette:r={},transitions:i={},typography:a={}}=e,s=ph(e,goe);if(e.vars)throw new Error(Og(18));const l=noe(r),u=tL(e);let d=jc(u,{mixins:Hse(u.breakpoints,t),palette:l,shadows:uoe.slice(),typography:aoe(l,a),transitions:poe(i),zIndex:Yr({},moe)});return d=jc(d,s),d=n.reduce((f,g)=>jc(f,g),d),d.unstable_sxConfig=Yr({},fb,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(f){return i2({sx:f,theme:this})},d}const yoe=boe(),xoe="$$material";function voe(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const woe=e=>voe(e)&&e!=="classes",Soe=$se({themeId:xoe,defaultTheme:yoe,rootShouldForwardProp:woe});function Aoe(e){return BD("MuiSvgIcon",e)}Gie("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Coe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Eoe=e=>{const{color:n,fontSize:t,classes:r}=e,i={root:["root",n!=="inherit"&&`color${sh(n)}`,`fontSize${sh(t)}`]};return Wie(i,Aoe,r)},_oe=Soe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.color!=="inherit"&&n[`color${sh(t.color)}`],n[`fontSize${sh(t.fontSize)}`]]}})(({theme:e,ownerState:n})=>{var t,r,i,a,s,l,u,d,f,g,b,m,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=e.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((a=e.typography)==null||(s=a.pxToRem)==null?void 0:s.call(a,20))||"1.25rem",medium:((l=e.typography)==null||(u=l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem",large:((d=e.typography)==null||(f=d.pxToRem)==null?void 0:f.call(d,35))||"2.1875rem"}[n.fontSize],color:(g=(b=(e.vars||e).palette)==null||(b=b[n.color])==null?void 0:b.main)!=null?g:{action:(m=(e.vars||e).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(x=(e.vars||e).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[n.color]}}),g6=Q.forwardRef(function(e,n){const t=tae({props:e,name:"MuiSvgIcon"}),{children:r,className:i,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:f,viewBox:g="0 0 24 24"}=t,b=ph(t,Coe),m=Q.isValidElement(r)&&r.type==="svg",x=Yr({},t,{color:a,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:g,hasSvgAsChild:m}),y={};d||(y.viewBox=g);const A=Eoe(x);return gn.jsxs(_oe,Yr({as:s,className:Xie(A.root,i),focusable:"false",color:u,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n},y,b,m&&r.props,{ownerState:x,children:[m?r.props.children:r,f?gn.jsx("title",{children:f}):null]}))});g6.muiName="SvgIcon";function koe(e,n){function t(r,i){return gn.jsx(g6,Yr({"data-testid":`${n}Icon`,ref:i},r,{children:e}))}return t.muiName=g6.muiName,Q.memo(Q.forwardRef(t))}const Noe={configure:e=>{qD.configure(e)}},Toe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:sh,createChainedFunction:Cie,createSvgIcon:koe,debounce:Eie,deprecatedPropType:_ie,isMuiElement:kie,ownerDocument:MD,ownerWindow:Nie,requirePropFactory:Tie,setRef:FD,unstable_ClassNameGenerator:Noe,unstable_useEnhancedEffect:PD,unstable_useId:Oie,unsupportedProp:Iie,useControlled:Die,useEventCallback:Lie,useForkRef:Rie,useIsFocusVisible:Hie},Symbol.toStringTag,{value:"Module"})),joe=Yd(Toe);var XN;function nL(){return XN||(XN=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=joe}(_N)),_N}var ZN;function Ooe(){if(ZN)return R1;ZN=1;var e=Vv();Object.defineProperty(R1,"__esModule",{value:!0}),R1.default=void 0;var n=e(nL()),t=qA();return R1.default=(0,n.default)((0,t.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat"),R1}var Ioe=Ooe();const Doe=zA(Ioe),qw={chatToggleButton:{position:"fixed",bottom:20,right:20,bgcolor:"#CDDAFF",color:"white",width:60,height:60,borderRadius:"50%",boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.3)","&:hover":{bgcolor:"#0B53C0"},transition:"background-color 0.3s, transform 0.3s","&:active":{transform:"scale(0.95)"}},chatContainer:(e,n)=>({position:"fixed",bottom:e?0:20,right:e?0:20,width:e?"80%":n?"60%":650,height:e?"50%":n?"55%":700,padding:e?1:2,display:"flex",flexDirection:"column",borderRadius:e?0:"16px",backgroundColor:"#F0F4FF",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)"}),chatHeader:{fontFamily:"Staatliches, Arial, sans-serif",fontWeight:"bold",color:"black",fontSize:"1.25rem"},chatMessageInput:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif",borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}},chatMessageBox:{maxWidth:"70%",borderRadius:"15px",padding:1,paddingX:2,boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)","&.user":{bgcolor:"#f0f0f0",color:"#555",alignSelf:"flex-end"},"&.bot":{bgcolor:"#CDDAFF",color:"black",alignSelf:"flex-start","&:hover":{bgcolor:"#0B53C0",color:"white"}}},chatButtons:{backgroundColor:"#CDDAFF",color:"black",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",color:"white"}}},Loe=({responses:e})=>gn.jsx(he,{sx:{flexGrow:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:2,padding:2,backgroundColor:"transparent"},children:e.length>0?e.map((n,t)=>gn.jsxs(he,{sx:{display:"flex",flexDirection:"column",alignItems:n.question?"flex-end":"flex-start"},children:[n.question&&gn.jsx(he,{sx:{maxWidth:"70%",bgcolor:"#f0f0f0",color:"#555",borderRadius:"15px",p:1,px:2,mb:2,alignSelf:"flex-end",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)"},children:gn.jsx(ge,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"#555"},children:n.question})}),(n.answer||n.text)&&gn.jsx(he,{sx:{maxWidth:"70%",bgcolor:"#CDDAFF",color:"black",borderRadius:"15px",p:1,px:2,alignSelf:"flex-start",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",mb:.3,"&:hover":{bgcolor:"#0B53C0",color:"white"}},children:gn.jsx(ge,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"inherit",transition:"color 0.3s ease"},children:gn.jsx(PA,{children:n.answer||n.text})})})]},t)):gn.jsx(ge,{variant:"body2",sx:{textAlign:"center",color:"#6c757d",fontFamily:"Gabarito, Arial, sans-serif"},children:"No messages yet. Start the conversation!"})}),Roe=({onSendMessage:e,onStartConversation:n,onEndConversation:t,conversationId:r})=>{const[i,a]=Q.useState(""),s=()=>{i.trim()&&(e(i),a(""))},l=()=>{r||n()},u=()=>{r&&t()};return gn.jsxs(he,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[gn.jsxs(he,{sx:{display:"flex",gap:1},children:[gn.jsx(Wt,{variant:"outlined",placeholder:"Type your message...",fullWidth:!0,size:"small",value:i,onChange:d=>a(d.target.value),onKeyDown:d=>{d.key==="Enter"&&s()},sx:{"& .MuiOutlinedInput-root":{borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}}}),gn.jsx(At,{variant:"contained",onClick:s,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"Send"})]}),r?gn.jsx(At,{variant:"outlined",onClick:u,sx:{color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none",borderColor:"#CDDAFF","&:hover":{borderColor:"#0B53C0",color:"#0B53C0"}},children:"END CONVERSATION"}):gn.jsx(At,{variant:"contained",onClick:l,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"START CONVERSATION"})]})};var P1={},JN;function Moe(){if(JN)return P1;JN=1;var e=Vv();Object.defineProperty(P1,"__esModule",{value:!0}),P1.default=void 0;var n=e(nL()),t=qA();return P1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),P1}var Foe=Moe();const Poe=zA(Foe);function rL(e,n){return function(){return e.apply(n,arguments)}}const{toString:zoe}=Object.prototype,{getPrototypeOf:GA}=Object,a2=(e=>n=>{const t=zoe.call(n);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ou=e=>(e=e.toLowerCase(),n=>a2(n)===e),s2=e=>n=>typeof n===e,{isArray:Sm}=Array,Rg=s2("undefined");function qoe(e){return e!==null&&!Rg(e)&&e.constructor!==null&&!Rg(e.constructor)&&Jo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const iL=Ou("ArrayBuffer");function Boe(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&iL(e.buffer),n}const Uoe=s2("string"),Jo=s2("function"),aL=s2("number"),o2=e=>e!==null&&typeof e=="object",$oe=e=>e===!0||e===!1,wx=e=>{if(a2(e)!=="object")return!1;const n=GA(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Hoe=Ou("Date"),Woe=Ou("File"),Yoe=Ou("Blob"),Voe=Ou("FileList"),Goe=e=>o2(e)&&Jo(e.pipe),Qoe=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||Jo(e.append)&&((n=a2(e))==="formdata"||n==="object"&&Jo(e.toString)&&e.toString()==="[object FormData]"))},Koe=Ou("URLSearchParams"),[Xoe,Zoe,Joe,ele]=["ReadableStream","Request","Response","Headers"].map(Ou),tle=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hb(e,n,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Sm(e))for(r=0,i=e.length;r<i;r++)n.call(null,e[r],r,e);else{const a=t?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let l;for(r=0;r<s;r++)l=a[r],n.call(null,e[l],l,e)}}function sL(e,n){n=n.toLowerCase();const t=Object.keys(e);let r=t.length,i;for(;r-- >0;)if(i=t[r],n===i.toLowerCase())return i;return null}const Jh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,oL=e=>!Rg(e)&&e!==Jh;function b6(){const{caseless:e}=oL(this)&&this||{},n={},t=(r,i)=>{const a=e&&sL(n,i)||i;wx(n[a])&&wx(r)?n[a]=b6(n[a],r):wx(r)?n[a]=b6({},r):Sm(r)?n[a]=r.slice():n[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&hb(arguments[r],t);return n}const nle=(e,n,t,{allOwnKeys:r}={})=>(hb(n,(i,a)=>{t&&Jo(i)?e[a]=rL(i,t):e[a]=i},{allOwnKeys:r}),e),rle=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ile=(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},ale=(e,n,t,r)=>{let i,a,s;const l={};if(n=n||{},e==null)return n;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!r||r(s,e,n))&&!l[s]&&(n[s]=e[s],l[s]=!0);e=t!==!1&&GA(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},sle=(e,n,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return r!==-1&&r===t},ole=e=>{if(!e)return null;if(Sm(e))return e;let n=e.length;if(!aL(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},lle=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&GA(Uint8Array)),ule=(e,n)=>{const t=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=t.next())&&!r.done;){const i=r.value;n.call(e,i[0],i[1])}},cle=(e,n)=>{let t;const r=[];for(;(t=e.exec(n))!==null;)r.push(t);return r},dle=Ou("HTMLFormElement"),fle=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,t,r){return t.toUpperCase()+r}),eT=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),hle=Ou("RegExp"),lL=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};hb(t,(i,a)=>{let s;(s=n(i,a,e))!==!1&&(r[a]=s||i)}),Object.defineProperties(e,r)},ple=e=>{lL(e,(n,t)=>{if(Jo(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=e[t];if(Jo(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},mle=(e,n)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return Sm(e)?r(e):r(String(e).split(n)),t},gle=()=>{},ble=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n,Bw="abcdefghijklmnopqrstuvwxyz",tT="0123456789",uL={DIGIT:tT,ALPHA:Bw,ALPHA_DIGIT:Bw+Bw.toUpperCase()+tT},yle=(e=16,n=uL.ALPHA_DIGIT)=>{let t="";const{length:r}=n;for(;e--;)t+=n[Math.random()*r|0];return t};function xle(e){return!!(e&&Jo(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const vle=e=>{const n=new Array(10),t=(r,i)=>{if(o2(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[i]=r;const a=Sm(r)?[]:{};return hb(r,(s,l)=>{const u=t(s,i+1);!Rg(u)&&(a[l]=u)}),n[i]=void 0,a}}return r};return t(e,0)},wle=Ou("AsyncFunction"),Sle=e=>e&&(o2(e)||Jo(e))&&Jo(e.then)&&Jo(e.catch),cL=((e,n)=>e?setImmediate:n?((t,r)=>(Jh.addEventListener("message",({source:i,data:a})=>{i===Jh&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Jh.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Jo(Jh.postMessage)),Ale=typeof queueMicrotask<"u"?queueMicrotask.bind(Jh):typeof process<"u"&&process.nextTick||cL,ct={isArray:Sm,isArrayBuffer:iL,isBuffer:qoe,isFormData:Qoe,isArrayBufferView:Boe,isString:Uoe,isNumber:aL,isBoolean:$oe,isObject:o2,isPlainObject:wx,isReadableStream:Xoe,isRequest:Zoe,isResponse:Joe,isHeaders:ele,isUndefined:Rg,isDate:Hoe,isFile:Woe,isBlob:Yoe,isRegExp:hle,isFunction:Jo,isStream:Goe,isURLSearchParams:Koe,isTypedArray:lle,isFileList:Voe,forEach:hb,merge:b6,extend:nle,trim:tle,stripBOM:rle,inherits:ile,toFlatObject:ale,kindOf:a2,kindOfTest:Ou,endsWith:sle,toArray:ole,forEachEntry:ule,matchAll:cle,isHTMLForm:dle,hasOwnProperty:eT,hasOwnProp:eT,reduceDescriptors:lL,freezeMethods:ple,toObjectSet:mle,toCamelCase:fle,noop:gle,toFiniteNumber:ble,findKey:sL,global:Jh,isContextDefined:oL,ALPHABET:uL,generateString:yle,isSpecCompliantForm:xle,toJSONObject:vle,isAsyncFn:wle,isThenable:Sle,setImmediate:cL,asap:Ale};function Nn(e,n,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ct.inherits(Nn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ct.toJSONObject(this.config),code:this.code,status:this.status}}});const dL=Nn.prototype,fL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{fL[e]={value:e}});Object.defineProperties(Nn,fL);Object.defineProperty(dL,"isAxiosError",{value:!0});Nn.from=(e,n,t,r,i,a)=>{const s=Object.create(dL);return ct.toFlatObject(e,s,function(l){return l!==Error.prototype},l=>l!=="isAxiosError"),Nn.call(s,e.message,n,t,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const Cle=null;function y6(e){return ct.isPlainObject(e)||ct.isArray(e)}function hL(e){return ct.endsWith(e,"[]")?e.slice(0,-2):e}function nT(e,n,t){return e?e.concat(n).map(function(r,i){return r=hL(r),!t&&i?"["+r+"]":r}).join(t?".":""):n}function Ele(e){return ct.isArray(e)&&!e.some(y6)}const _le=ct.toFlatObject(ct,{},null,function(e){return/^is[A-Z]/.test(e)});function l2(e,n,t){if(!ct.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,t=ct.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,x){return!ct.isUndefined(x[m])});const r=t.metaTokens,i=t.visitor||d,a=t.dots,s=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&ct.isSpecCompliantForm(n);if(!ct.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(ct.isDate(m))return m.toISOString();if(!l&&ct.isBlob(m))throw new Nn("Blob is not supported. Use a Buffer instead.");return ct.isArrayBuffer(m)||ct.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,x,y){let A=m;if(m&&!y&&typeof m=="object"){if(ct.endsWith(x,"{}"))x=r?x:x.slice(0,-2),m=JSON.stringify(m);else if(ct.isArray(m)&&Ele(m)||(ct.isFileList(m)||ct.endsWith(x,"[]"))&&(A=ct.toArray(m)))return x=hL(x),A.forEach(function(w,C){!(ct.isUndefined(w)||w===null)&&n.append(s===!0?nT([x],C,a):s===null?x:x+"[]",u(w))}),!1}return y6(m)?!0:(n.append(nT(y,x,a),u(m)),!1)}const f=[],g=Object.assign(_le,{defaultVisitor:d,convertValue:u,isVisitable:y6});function b(m,x){if(!ct.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(m),ct.forEach(m,function(y,A){(!(ct.isUndefined(y)||y===null)&&i.call(n,y,ct.isString(A)?A.trim():A,x,g))===!0&&b(y,x?x.concat(A):[A])}),f.pop()}}if(!ct.isObject(e))throw new TypeError("data must be an object");return b(e),n}function rT(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(t){return n[t]})}function QA(e,n){this._pairs=[],e&&l2(e,this,n)}const pL=QA.prototype;pL.append=function(e,n){this._pairs.push([e,n])};pL.toString=function(e){const n=e?function(t){return e.call(this,t,rT)}:rT;return this._pairs.map(function(t){return n(t[0])+"="+n(t[1])},"").join("&")};function kle(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mL(e,n,t){if(!n)return e;const r=t&&t.encode||kle;ct.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(n,t):a=ct.isURLSearchParams(n)?n.toString():new QA(n,t).toString(r),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}let iT=class{constructor(){this.handlers=[]}use(n,t,r){return this.handlers.push({fulfilled:n,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ct.forEach(this.handlers,function(t){t!==null&&n(t)})}};const gL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Nle=typeof URLSearchParams<"u"?URLSearchParams:QA,Tle=typeof FormData<"u"?FormData:null,jle=typeof Blob<"u"?Blob:null,Ole={isBrowser:!0,classes:{URLSearchParams:Nle,FormData:Tle,Blob:jle},protocols:["http","https","file","blob","url","data"]},KA=typeof window<"u"&&typeof document<"u",x6=typeof navigator=="object"&&navigator||void 0,Ile=KA&&(!x6||["ReactNative","NativeScript","NS"].indexOf(x6.product)<0),Dle=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Lle=KA&&window.location.href||"http://localhost",Rle=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:KA,hasStandardBrowserEnv:Ile,hasStandardBrowserWebWorkerEnv:Dle,navigator:x6,origin:Lle},Symbol.toStringTag,{value:"Module"})),qs={...Rle,...Ole};function Mle(e,n){return l2(e,new qs.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,a){return qs.isNode&&ct.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},n))}function Fle(e){return ct.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function Ple(e){const n={},t=Object.keys(e);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],n[a]=e[a];return n}function bL(e){function n(t,r,i,a){let s=t[a++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),u=a>=t.length;return s=!s&&ct.isArray(i)?i.length:s,u?(ct.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!ct.isObject(i[s]))&&(i[s]=[]),n(t,r,i[s],a)&&ct.isArray(i[s])&&(i[s]=Ple(i[s])),!l)}if(ct.isFormData(e)&&ct.isFunction(e.entries)){const t={};return ct.forEachEntry(e,(r,i)=>{n(Fle(r),i,t,0)}),t}return null}function zle(e,n,t){if(ct.isString(e))try{return(n||JSON.parse)(e),ct.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const pb={transitional:gL,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const t=n.getContentType()||"",r=t.indexOf("application/json")>-1,i=ct.isObject(e);if(i&&ct.isHTMLForm(e)&&(e=new FormData(e)),ct.isFormData(e))return r?JSON.stringify(bL(e)):e;if(ct.isArrayBuffer(e)||ct.isBuffer(e)||ct.isStream(e)||ct.isFile(e)||ct.isBlob(e)||ct.isReadableStream(e))return e;if(ct.isArrayBufferView(e))return e.buffer;if(ct.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(t.indexOf("application/x-www-form-urlencoded")>-1)return Mle(e,this.formSerializer).toString();if((a=ct.isFileList(e))||t.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return l2(a?{"files[]":e}:e,s&&new s,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),zle(e)):e}],transformResponse:[function(e){const n=this.transitional||pb.transitional,t=n&&n.forcedJSONParsing,r=this.responseType==="json";if(ct.isResponse(e)||ct.isReadableStream(e))return e;if(e&&ct.isString(e)&&(t&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?Nn.from(a,Nn.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qs.classes.FormData,Blob:qs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ct.forEach(["delete","get","head","post","put","patch"],e=>{pb.headers[e]={}});const qle=ct.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ble=e=>{const n={};let t,r,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!t||n[t]&&qle[t])&&(t==="set-cookie"?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n},aT=Symbol("internals");function z1(e){return e&&String(e).trim().toLowerCase()}function Sx(e){return e===!1||e==null?e:ct.isArray(e)?e.map(Sx):String(e)}function Ule(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}const $le=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Uw(e,n,t,r,i){if(ct.isFunction(r))return r.call(this,n,t);if(i&&(n=t),!!ct.isString(n)){if(ct.isString(r))return n.indexOf(r)!==-1;if(ct.isRegExp(r))return r.test(n)}}function Hle(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,r)=>t.toUpperCase()+r)}function Wle(e,n){const t=ct.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(i,a,s){return this[r].call(this,n,i,a,s)},configurable:!0})})}class vo{constructor(n){n&&this.set(n)}set(n,t,r){const i=this;function a(l,u,d){const f=z1(u);if(!f)throw new Error("header name must be a non-empty string");const g=ct.findKey(i,f);(!g||i[g]===void 0||d===!0||d===void 0&&i[g]!==!1)&&(i[g||u]=Sx(l))}const s=(l,u)=>ct.forEach(l,(d,f)=>a(d,f,u));if(ct.isPlainObject(n)||n instanceof this.constructor)s(n,t);else if(ct.isString(n)&&(n=n.trim())&&!$le(n))s(Ble(n),t);else if(ct.isHeaders(n))for(const[l,u]of n.entries())a(u,l,r);else n!=null&&a(t,n,r);return this}get(n,t){if(n=z1(n),n){const r=ct.findKey(this,n);if(r){const i=this[r];if(!t)return i;if(t===!0)return Ule(i);if(ct.isFunction(t))return t.call(this,i,r);if(ct.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=z1(n),n){const r=ct.findKey(this,n);return!!(r&&this[r]!==void 0&&(!t||Uw(this,this[r],r,t)))}return!1}delete(n,t){const r=this;let i=!1;function a(s){if(s=z1(s),s){const l=ct.findKey(r,s);l&&(!t||Uw(r,r[l],l,t))&&(delete r[l],i=!0)}}return ct.isArray(n)?n.forEach(a):a(n),i}clear(n){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!n||Uw(this,this[a],a,n,!0))&&(delete this[a],i=!0)}return i}normalize(n){const t=this,r={};return ct.forEach(this,(i,a)=>{const s=ct.findKey(r,a);if(s){t[s]=Sx(i),delete t[a];return}const l=n?Hle(a):String(a).trim();l!==a&&delete t[a],t[l]=Sx(i),r[l]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return ct.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=n&&ct.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const r=new this(n);return t.forEach(i=>r.set(i)),r}static accessor(n){const t=(this[aT]=this[aT]={accessors:{}}).accessors,r=this.prototype;function i(a){const s=z1(a);t[s]||(Wle(r,a),t[s]=!0)}return ct.isArray(n)?n.forEach(i):i(n),this}}vo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ct.reduceDescriptors(vo.prototype,({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[t]=r}}});ct.freezeMethods(vo);function $w(e,n){const t=this||pb,r=n||t,i=vo.from(r.headers);let a=r.data;return ct.forEach(e,function(s){a=s.call(t,a,i.normalize(),n?n.status:void 0)}),i.normalize(),a}function yL(e){return!!(e&&e.__CANCEL__)}function Am(e,n,t){Nn.call(this,e??"canceled",Nn.ERR_CANCELED,n,t),this.name="CanceledError"}ct.inherits(Am,Nn,{__CANCEL__:!0});function xL(e,n,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?e(t):n(new Nn("Request failed with status code "+t.status,[Nn.ERR_BAD_REQUEST,Nn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Yle(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function Vle(e,n){e=e||10;const t=new Array(e),r=new Array(e);let i=0,a=0,s;return n=n!==void 0?n:1e3,function(l){const u=Date.now(),d=r[a];s||(s=u),t[i]=l,r[i]=u;let f=a,g=0;for(;f!==i;)g+=t[f++],f=f%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),u-s<n)return;const b=d&&u-d;return b?Math.round(g*1e3/b):void 0}}function Gle(e,n){let t=0,r=1e3/n,i,a;const s=(l,u=Date.now())=>{t=u,i=null,a&&(clearTimeout(a),a=null),e.apply(null,l)};return[(...l)=>{const u=Date.now(),d=u-t;d>=r?s(l,u):(i=l,a||(a=setTimeout(()=>{a=null,s(i)},r-d)))},()=>i&&s(i)]}const iv=(e,n,t=3)=>{let r=0;const i=Vle(50,250);return Gle(a=>{const s=a.loaded,l=a.lengthComputable?a.total:void 0,u=s-r,d=i(u),f=s<=l;r=s;const g={loaded:s,total:l,progress:l?s/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&f?(l-s)/d:void 0,event:a,lengthComputable:l!=null,[n?"download":"upload"]:!0};e(g)},t)},sT=(e,n)=>{const t=e!=null;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},oT=e=>(...n)=>ct.asap(()=>e(...n)),Qle=qs.hasStandardBrowserEnv?((e,n)=>t=>(t=new URL(t,qs.origin),e.protocol===t.protocol&&e.host===t.host&&(n||e.port===t.port)))(new URL(qs.origin),qs.navigator&&/(msie|trident)/i.test(qs.navigator.userAgent)):()=>!0,Kle=qs.hasStandardBrowserEnv?{write(e,n,t,r,i,a){const s=[e+"="+encodeURIComponent(n)];ct.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),ct.isString(r)&&s.push("path="+r),ct.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Xle(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Zle(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function vL(e,n){return e&&!Xle(n)?Zle(e,n):n}const lT=e=>e instanceof vo?{...e}:e;function yp(e,n){n=n||{};const t={};function r(d,f,g,b){return ct.isPlainObject(d)&&ct.isPlainObject(f)?ct.merge.call({caseless:b},d,f):ct.isPlainObject(f)?ct.merge({},f):ct.isArray(f)?f.slice():f}function i(d,f,g,b){if(ct.isUndefined(f)){if(!ct.isUndefined(d))return r(void 0,d,g,b)}else return r(d,f,g,b)}function a(d,f){if(!ct.isUndefined(f))return r(void 0,f)}function s(d,f){if(ct.isUndefined(f)){if(!ct.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function l(d,f,g){if(g in n)return r(d,f);if(g in e)return r(void 0,d)}const u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(d,f,g)=>i(lT(d),lT(f),g,!0)};return ct.forEach(Object.keys(Object.assign({},e,n)),function(d){const f=u[d]||i,g=f(e[d],n[d],d);ct.isUndefined(g)&&f!==l||(t[d]=g)}),t}const wL=e=>{const n=yp({},e);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=n;n.headers=s=vo.from(s),n.url=mL(vL(n.baseURL,n.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(ct.isFormData(t)){if(qs.hasStandardBrowserEnv||qs.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((u=s.getContentType())!==!1){const[d,...f]=u?u.split(";").map(g=>g.trim()).filter(Boolean):[];s.setContentType([d||"multipart/form-data",...f].join("; "))}}if(qs.hasStandardBrowserEnv&&(r&&ct.isFunction(r)&&(r=r(n)),r||r!==!1&&Qle(n.url))){const d=i&&a&&Kle.read(a);d&&s.set(i,d)}return n},Jle=typeof XMLHttpRequest<"u",eue=Jle&&function(e){return new Promise(function(n,t){const r=wL(e);let i=r.data;const a=vo.from(r.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:u}=r,d,f,g,b,m;function x(){b&&b(),m&&m(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout;function A(){if(!y)return;const C=vo.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),N={data:!s||s==="text"||s==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:C,config:e,request:y};xL(function(R){n(R),x()},function(R){t(R),x()},N),y=null}"onloadend"in y?y.onloadend=A:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(A)},y.onabort=function(){y&&(t(new Nn("Request aborted",Nn.ECONNABORTED,e,y)),y=null)},y.onerror=function(){t(new Nn("Network Error",Nn.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let C=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const N=r.transitional||gL;r.timeoutErrorMessage&&(C=r.timeoutErrorMessage),t(new Nn(C,N.clarifyTimeoutError?Nn.ETIMEDOUT:Nn.ECONNABORTED,e,y)),y=null},i===void 0&&a.setContentType(null),"setRequestHeader"in y&&ct.forEach(a.toJSON(),function(C,N){y.setRequestHeader(N,C)}),ct.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),s&&s!=="json"&&(y.responseType=r.responseType),u&&([g,m]=iv(u,!0),y.addEventListener("progress",g)),l&&y.upload&&([f,b]=iv(l),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",b)),(r.cancelToken||r.signal)&&(d=C=>{y&&(t(!C||C.type?new Am(null,e,y):C),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const w=Yle(r.url);if(w&&qs.protocols.indexOf(w)===-1){t(new Nn("Unsupported protocol "+w+":",Nn.ERR_BAD_REQUEST,e));return}y.send(i||null)})},tue=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let r=new AbortController,i;const a=function(d){if(!i){i=!0,l();const f=d instanceof Error?d:this.reason;r.abort(f instanceof Nn?f:new Am(f instanceof Error?f.message:f))}};let s=n&&setTimeout(()=>{s=null,a(new Nn(`timeout ${n} of ms exceeded`,Nn.ETIMEDOUT))},n);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:u}=r;return u.unsubscribe=()=>ct.asap(l),u}},nue=function*(e,n){let t=e.byteLength;if(t<n){yield e;return}let r=0,i;for(;r<t;)i=r+n,yield e.slice(r,i),r=i},rue=async function*(e,n){for await(const t of iue(e))yield*nue(t,n)},iue=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:t,value:r}=await n.read();if(t)break;yield r}}finally{await n.cancel()}},uT=(e,n,t,r)=>{const i=rue(e,n);let a=0,s,l=u=>{s||(s=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:d,value:f}=await i.next();if(d){l(),u.close();return}let g=f.byteLength;if(t){let b=a+=g;t(b)}u.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},u2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",SL=u2&&typeof ReadableStream=="function",aue=u2&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),AL=(e,...n)=>{try{return!!e(...n)}catch{return!1}},sue=SL&&AL(()=>{let e=!1;const n=new Request(qs.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),cT=64*1024,v6=SL&&AL(()=>ct.isReadableStream(new Response("").body)),av={stream:v6&&(e=>e.body)};u2&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!av[n]&&(av[n]=ct.isFunction(e[n])?t=>t[n]():(t,r)=>{throw new Nn(`Response type '${n}' is not supported`,Nn.ERR_NOT_SUPPORT,r)})})})(new Response);const oue=async e=>{if(e==null)return 0;if(ct.isBlob(e))return e.size;if(ct.isSpecCompliantForm(e))return(await new Request(qs.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ct.isArrayBufferView(e)||ct.isArrayBuffer(e))return e.byteLength;if(ct.isURLSearchParams(e)&&(e=e+""),ct.isString(e))return(await aue(e)).byteLength},lue=async(e,n)=>ct.toFiniteNumber(e.getContentLength())??oue(n),uue=u2&&(async e=>{let{url:n,method:t,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:l,onUploadProgress:u,responseType:d,headers:f,withCredentials:g="same-origin",fetchOptions:b}=wL(e);d=d?(d+"").toLowerCase():"text";let m=tue([i,a&&a.toAbortSignal()],s),x;const y=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let A;try{if(u&&sue&&t!=="get"&&t!=="head"&&(A=await lue(f,r))!==0){let F=new Request(n,{method:"POST",body:r,duplex:"half"}),q;if(ct.isFormData(r)&&(q=F.headers.get("content-type"))&&f.setContentType(q),F.body){const[k,L]=sT(A,iv(oT(u)));r=uT(F.body,cT,k,L)}}ct.isString(g)||(g=g?"include":"omit");const w="credentials"in Request.prototype;x=new Request(n,{...b,signal:m,method:t.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:w?g:void 0});let C=await fetch(x);const N=v6&&(d==="stream"||d==="response");if(v6&&(l||N&&y)){const F={};["status","statusText","headers"].forEach(B=>{F[B]=C[B]});const q=ct.toFiniteNumber(C.headers.get("content-length")),[k,L]=l&&sT(q,iv(oT(l),!0))||[];C=new Response(uT(C.body,cT,k,()=>{L&&L(),y&&y()}),F)}d=d||"text";let R=await av[ct.findKey(av,d)||"text"](C,e);return!N&&y&&y(),await new Promise((F,q)=>{xL(F,q,{data:R,headers:vo.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:x})})}catch(w){throw y&&y(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new Nn("Network Error",Nn.ERR_NETWORK,e,x),{cause:w.cause||w}):Nn.from(w,w&&w.code,e,x)}}),w6={http:Cle,xhr:eue,fetch:uue};ct.forEach(w6,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const dT=e=>`- ${e}`,cue=e=>ct.isFunction(e)||e===null||e===!1,CL={getAdapter:e=>{e=ct.isArray(e)?e:[e];const{length:n}=e;let t,r;const i={};for(let a=0;a<n;a++){t=e[a];let s;if(r=t,!cue(t)&&(r=w6[(s=String(t)).toLowerCase()],r===void 0))throw new Nn(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){const a=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=n?a.length>1?`since :
`+a.map(dT).join(`
`):" "+dT(a[0]):"as no adapter specified";throw new Nn("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:w6};function Hw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Am(null,e)}function fT(e){return Hw(e),e.headers=vo.from(e.headers),e.data=$w.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),CL.getAdapter(e.adapter||pb.adapter)(e).then(function(n){return Hw(e),n.data=$w.call(e,e.transformResponse,n),n.headers=vo.from(n.headers),n},function(n){return yL(n)||(Hw(e),n&&n.response&&(n.response.data=$w.call(e,e.transformResponse,n.response),n.response.headers=vo.from(n.response.headers))),Promise.reject(n)})}const EL="1.7.9",c2={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{c2[e]=function(t){return typeof t===e||"a"+(n<1?"n ":" ")+e}});const hT={};c2.transitional=function(e,n,t){function r(i,a){return"[Axios v"+EL+"] Transitional option '"+i+"'"+a+(t?". "+t:"")}return(i,a,s)=>{if(e===!1)throw new Nn(r(a," has been removed"+(n?" in "+n:"")),Nn.ERR_DEPRECATED);return n&&!hT[a]&&(hT[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,s):!0}};c2.spelling=function(e){return(n,t)=>(console.warn(`${t} is likely a misspelling of ${e}`),!0)};function due(e,n,t){if(typeof e!="object")throw new Nn("options must be an object",Nn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=n[a];if(s){const l=e[a],u=l===void 0||s(l,a,e);if(u!==!0)throw new Nn("option "+a+" must be "+u,Nn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Nn("Unknown option "+a,Nn.ERR_BAD_OPTION)}}const Ax={assertOptions:due,validators:c2},sc=Ax.validators;let lp=class{constructor(n){this.defaults=n,this.interceptors={request:new iT,response:new iT}}async request(n,t){try{return await this._request(n,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=yp(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&Ax.assertOptions(r,{silentJSONParsing:sc.transitional(sc.boolean),forcedJSONParsing:sc.transitional(sc.boolean),clarifyTimeoutError:sc.transitional(sc.boolean)},!1),i!=null&&(ct.isFunction(i)?t.paramsSerializer={serialize:i}:Ax.assertOptions(i,{encode:sc.function,serialize:sc.function},!0)),Ax.assertOptions(t,{baseUrl:sc.spelling("baseURL"),withXsrfToken:sc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&ct.merge(a.common,a[t.method]);a&&ct.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),t.headers=vo.concat(s,a);const l=[];let u=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(u=u&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let f,g=0,b;if(!u){const x=[fT.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,d),b=x.length,f=Promise.resolve(t);g<b;)f=f.then(x[g++],x[g++]);return f}b=l.length;let m=t;for(g=0;g<b;){const x=l[g++],y=l[g++];try{m=x(m)}catch(A){y.call(this,A);break}}try{f=fT.call(this,m)}catch(x){return Promise.reject(x)}for(g=0,b=d.length;g<b;)f=f.then(d[g++],d[g++]);return f}getUri(n){n=yp(this.defaults,n);const t=vL(n.baseURL,n.url);return mL(t,n.params,n.paramsSerializer)}};ct.forEach(["delete","get","head","options"],function(e){lp.prototype[e]=function(n,t){return this.request(yp(t||{},{method:e,url:n,data:(t||{}).data}))}});ct.forEach(["post","put","patch"],function(e){function n(t){return function(r,i,a){return this.request(yp(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}lp.prototype[e]=n(),lp.prototype[e+"Form"]=n(!0)});let fue=class _L{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(l=>{r.subscribe(l),a=l}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},n(function(i,a,s){r.reason||(r.reason=new Am(i,a,s),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const n=new AbortController,t=r=>{n.abort(r)};return this.subscribe(t),n.signal.unsubscribe=()=>this.unsubscribe(t),n.signal}static source(){let n;return{token:new _L(function(t){n=t}),cancel:n}}};function hue(e){return function(n){return e.apply(null,n)}}function pue(e){return ct.isObject(e)&&e.isAxiosError===!0}const S6={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(S6).forEach(([e,n])=>{S6[n]=e});function kL(e){const n=new lp(e),t=rL(lp.prototype.request,n);return ct.extend(t,lp.prototype,n,{allOwnKeys:!0}),ct.extend(t,n,null,{allOwnKeys:!0}),t.create=function(r){return kL(yp(e,r))},t}const Fi=kL(pb);Fi.Axios=lp;Fi.CanceledError=Am;Fi.CancelToken=fue;Fi.isCancel=yL;Fi.VERSION=EL;Fi.toFormData=l2;Fi.AxiosError=Nn;Fi.Cancel=Fi.CanceledError;Fi.all=function(e){return Promise.all(e)};Fi.spread=hue;Fi.isAxiosError=pue;Fi.mergeConfig=yp;Fi.AxiosHeaders=vo;Fi.formToJSON=e=>bL(ct.isHTMLForm(e)?new FormData(e):e);Fi.getAdapter=CL.getAdapter;Fi.HttpStatusCode=S6;Fi.default=Fi;const mue=async e=>{const n=new FormData;n.append("chatbot_id",e);try{const t=await Fi.post("https://rag-flask-api.onrender.com/start_conversation",n,{headers:{"Content-Type":"multipart/form-data"}}),{conversation_id:r,intro_message:i}=t.data;if(!r)throw new Error("Failed to retrieve conversation ID from server.");return{conversationId:r,introMessage:i}}catch(t){throw console.error("Error starting conversation:",t),t}},gue=async(e,n,t)=>{const r=new FormData;r.append("chatbot_id",e),r.append("conversation_id",n),r.append("question",t);try{return(await Fi.post("https://rag-flask-api.onrender.com/ask",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(i){throw console.error("Error sending message:",i),i}},bue=async(e,n)=>{const t=new FormData;t.append("chatbot_id",e),t.append("conversation_id",n);try{await Fi.post("https://rag-flask-api.onrender.com/end_conversation",t,{headers:{"Content-Type":"multipart/form-data"}})}catch(r){throw console.error("Error ending conversation:",r),r}},yue=async e=>{try{const n=await Fi.get(`https://rag-flask-api.onrender.com/summary/${e}`);if(n.status===200&&n.data.summary)return n.data.summary;throw new Error("Summary not found for this chatbot.")}catch(n){throw console.error("Error fetching summary:",n),n}},xue=({chatbotId:e,open:n,onClose:t})=>{const[r,i]=Q.useState(null),[a,s]=Q.useState(!1),[l,u]=Q.useState(null),d=async()=>{s(!0),u(null);try{const f=await yue(e);i(f)}catch(f){u(f.message||"Failed to fetch summary. Please try again.")}finally{s(!1)}};return Q.useEffect(()=>{n&&d()},[n]),gn.jsx(Tx,{open:n,onClose:t,"aria-labelledby":"summary-modal-title","aria-describedby":"summary-modal-description",children:gn.jsxs(he,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:600,bgcolor:"background.paper",borderRadius:4,boxShadow:24,p:4},children:[gn.jsxs(he,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[gn.jsx(ge,{id:"summary-modal-title",variant:"h6",component:"h2",children:"Document Summary"}),gn.jsx(On,{onClick:t,children:gn.jsx(Poe,{})})]}),a?gn.jsx(he,{sx:{display:"flex",justifyContent:"center",my:4},children:gn.jsx(hi,{})}):l?gn.jsx(ge,{color:"error",children:l}):gn.jsx(he,{sx:{maxHeight:300,overflowY:"auto",padding:2,border:"1px solid #ddd",borderRadius:2,backgroundColor:"#f9f9f9"},children:gn.jsx(PA,{children:r})}),gn.jsx(At,{variant:"contained",sx:{mt:2},onClick:t,fullWidth:!0,children:"Close"})]})})},vue=Q.forwardRef(({chatbotId:e,onConversationStart:n},t)=>{const[r,i]=Q.useState(!1),[a,s]=Q.useState(()=>{const q=localStorage.getItem("responses");return q?JSON.parse(q):[]}),[l,u]=Q.useState(()=>localStorage.getItem("conversationId")||null),[d,f]=Q.useState(!1),[g,b]=Q.useState(null),[m,x]=Q.useState(!1),y=Id("(max-width:600px)"),A=Id("(min-width:601px) and (max-width:960px)"),w=Q.useRef(null);Q.useEffect(()=>{typeof n=="function"&&l&&n(l)},[l,n]),Q.useEffect(()=>{w.current&&w.current.scrollIntoView({behavior:"smooth"})},[a]);const C=async()=>{i(q=>!q),!r&&!l&&!d&&N()},N=async()=>{if(!l){f(!0),b(null);try{const q=await mue(e),{conversationId:k,introMessage:L}=q;u(k),localStorage.setItem("conversationId",k),s(B=>{const X=[...B,{id:"intro",sender:"chatbot",text:L}];return localStorage.setItem("responses",JSON.stringify(X)),X})}catch(q){console.error("Error starting conversation:",q),b("Failed to start a conversation. Please try again.")}finally{f(!1)}}},R=async(q,k=l)=>{f(!0),b(null);try{const L=await gue(e,k,q);s(B=>{const X=[...B,{question:q,answer:L.answer}];return localStorage.setItem("responses",JSON.stringify(X)),X})}catch(L){console.error("Error sending message:",L),b("Failed to send the message. Please try again.")}finally{f(!1)}},F=async()=>{f(!0),b(null);try{l&&await bue(e,l),u(null),s([]),localStorage.removeItem("conversationId"),localStorage.removeItem("responses")}catch(q){console.error("Error ending conversation:",q),b("Failed to end the conversation. Please try again.")}finally{f(!1)}};return Q.useImperativeHandle(t,()=>({endConversation:F})),gn.jsx(gn.Fragment,{children:r?gn.jsxs(yn,{elevation:3,sx:qw.chatContainer(y,A),children:[gn.jsxs(he,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[gn.jsx(ge,{sx:qw.chatHeader,children:"PAT (Personalized Academic Tutor)"}),gn.jsx(On,{onClick:C,sx:{color:"black"},children:"X"})]}),gn.jsx(Loe,{responses:a}),gn.jsx("div",{ref:w}),d&&gn.jsx(Ko,{sx:{position:"absolute",top:0,left:0,width:"100%"}}),g&&gn.jsx(ge,{color:"error",children:g}),gn.jsx(Roe,{onSendMessage:R,onStartConversation:N,onEndConversation:F,conversationId:l}),gn.jsx(At,{variant:"outlined",onClick:()=>x(!0),sx:{mt:2},children:"View Summary"}),gn.jsx(xue,{chatbotId:e,open:m,onClose:()=>x(!1)})]}):gn.jsx(On,{onClick:C,sx:qw.chatToggleButton,children:gn.jsx(Doe,{fontSize:"large"})})})});class wue extends Q.Component{constructor(n){super(n),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(n){console.error("Error caught by ErrorBoundary:",n)}render(){return this.state.hasError?h.jsx("h2",{children:"Something went wrong while loading the Chatbot."}):this.props.children}}const NL=Q.forwardRef(({chatbotId:e},n)=>{const{userDetails:t}=Ai(),r=Q.useRef(null),[i,a]=Q.useState(!1),s=async l=>{if(console.log(` Chatbot started. Chatbot ID: ${e}, Conversation ID: ${l}`),t!=null&&t.uid)try{await yj(bn(Rj,"conversations",l),{conversationId:l,chatbotId:e,userId:t.uid,startedAt:new Date().toISOString()},{merge:!0}),console.log("Conversation saved to Firestore")}catch(u){console.error("Failed to save conversation:",u)}};return Q.useImperativeHandle(n,()=>({endConversation:()=>{r.current&&(console.log("Ending chatbot conversation..."),r.current.endConversation())}})),h.jsx(he,{sx:{position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-end"},children:h.jsxs(he,{sx:{background:i?"rgba(255, 255, 255, 0.95)":"#0B53C0",borderRadius:4,boxShadow:i?"0 8px 32px rgba(0, 0, 0, 0.12)":"0 2px 8px rgba(0, 0, 0, 0.15)",overflow:"hidden",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:i?"1px solid #e0e0e0":"none",minWidth:i?400:"auto",maxWidth:i?450:"auto"},children:[h.jsxs(At,{variant:"text",onClick:()=>a(!i),sx:{background:i?"#0B53C0 !important":"transparent !important",backgroundColor:i?"#0B53C0 !important":"transparent !important",color:"white !important",px:2.5,py:1.5,borderRadius:i?"16px 16px 0 0":"12px",textTransform:"none",display:"flex",alignItems:"center",gap:1.5,minWidth:"auto",width:"100%",justifyContent:"flex-start","&:hover":{background:"#064a9e !important",backgroundColor:"#064a9e !important",boxShadow:i?"none":"0px 4px 12px rgba(11, 83, 192, 0.3)"},"&:active":{background:"#064a9e !important",backgroundColor:"#064a9e !important"},"&:focus":{background:i?"#0B53C0 !important":"#064a9e !important",backgroundColor:i?"#0B53C0 !important":"#064a9e !important"},"&.Mui-focusVisible":{background:i?"#0B53C0 !important":"#064a9e !important",backgroundColor:i?"#0B53C0 !important":"#064a9e !important"},transition:"all 0.2s ease-in-out"},children:[h.jsx(dj,{sx:{fontSize:"1.5rem",color:"white !important"}}),h.jsxs(he,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",lineHeight:1,flex:1},children:[h.jsx(ge,{variant:"body1",sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",fontWeight:"bold",mb:0,lineHeight:1.1,color:"white !important"},children:"Chat with PAT"}),h.jsx(ge,{variant:"caption",sx:{fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",opacity:.9,lineHeight:1,mt:.2,color:"white !important"},children:"AI Tutor"})]}),i?h.jsx(dg,{sx:{fontSize:"1.2rem",color:"white !important"}}):h.jsx(Wo,{sx:{fontSize:"1.2rem",color:"white !important"}})]}),h.jsx(cg,{in:i,timeout:300,easing:{enter:"cubic-bezier(0.4, 0, 0.2, 1)",exit:"cubic-bezier(0.4, 0, 0.6, 1)"},children:h.jsx(he,{sx:{background:"white",borderRadius:"0 0 16px 16px",overflow:"hidden"},children:h.jsx(wue,{children:h.jsx(vue,{ref:r,chatbotId:e,onConversationStart:s})})})})]})})});NL.displayName="ChatbotWrapper";const q1="ce5f7921-a3a0-4ea7-b95f-10fe41becda5",Sue=()=>{const[e,n]=Q.useState(q1),[t]=Yg(),r=Q.useRef(null);return Q.useEffect(()=>{const i=t.get("material");if(!i){e!==q1&&n(q1);return}(async()=>{var f;console.log("Fetching chatbot ID for material:",i);const s=Zn(),l=vn(s,"chatbots"),u=tl(l,wi("material.id","==",i)),d=await pi(u);if(d.empty)console.log(` No chatbot found for material ${i}, using default:`,q1),n(q1);else{const g=d.docs[0].data();console.log(` Found chatbot for material ${i}:`,g.chatbotId),g.chatbotId!==e&&((f=r.current)==null||f.endConversation()),n(g.chatbotId)}})()},[t,e]),h.jsx(he,{sx:{position:"fixed",bottom:16,right:16,zIndex:1100},children:h.jsx(NL,{ref:r,chatbotId:e})})};function mb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Vd(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var pT={exports:{}},B1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT;function Aue(){if(mT)return B1;mT=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return B1.Fragment=n,B1.jsx=t,B1.jsxs=t,B1}var gT;function gb(){return gT||(gT=1,pT.exports=Aue()),pT.exports}var Kt=gb(),U1={},bT={exports:{}},yT;function Cm(){return yT||(yT=1,function(e){function n(t){return t&&t.__esModule?t:{default:t}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(bT)),bT.exports}var xT={};function Vr(){return Vr=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Vr.apply(null,arguments)}function Pf(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function TL(e){if(Q.isValidElement(e)||!Pf(e))return e;const n={};return Object.keys(e).forEach(t=>{n[t]=TL(e[t])}),n}function Ic(e,n,t={clone:!0}){const r=t.clone?Vr({},e):e;return Pf(e)&&Pf(n)&&Object.keys(n).forEach(i=>{Q.isValidElement(n[i])?r[i]=n[i]:Pf(n[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Pf(e[i])?r[i]=Ic(e[i],n[i],t):t.clone?r[i]=Pf(n[i])?TL(n[i]):n[i]:r[i]=n[i]}),r}const Cue=Object.freeze(Object.defineProperty({__proto__:null,default:Ic,isPlainObject:Pf},Symbol.toStringTag,{value:"Module"}));function Mg(e){let n="https://mui.com/production-error/?code="+e;for(let t=1;t<arguments.length;t+=1)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+e+"; visit "+n+" for the full message."}const Eue=Object.freeze(Object.defineProperty({__proto__:null,default:Mg},Symbol.toStringTag,{value:"Module"}));var vT={exports:{}},Hr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function _ue(){if(wT)return Hr;wT=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function x(y){if(typeof y=="object"&&y!==null){var A=y.$$typeof;switch(A){case e:switch(y=y.type,y){case t:case i:case r:case u:case d:case b:return y;default:switch(y=y&&y.$$typeof,y){case s:case l:case g:case f:return y;case a:return y;default:return A}}case n:return A}}}return Hr.ContextConsumer=a,Hr.ContextProvider=s,Hr.Element=e,Hr.ForwardRef=l,Hr.Fragment=t,Hr.Lazy=g,Hr.Memo=f,Hr.Portal=n,Hr.Profiler=i,Hr.StrictMode=r,Hr.Suspense=u,Hr.SuspenseList=d,Hr.isContextConsumer=function(y){return x(y)===a},Hr.isContextProvider=function(y){return x(y)===s},Hr.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Hr.isForwardRef=function(y){return x(y)===l},Hr.isFragment=function(y){return x(y)===t},Hr.isLazy=function(y){return x(y)===g},Hr.isMemo=function(y){return x(y)===f},Hr.isPortal=function(y){return x(y)===n},Hr.isProfiler=function(y){return x(y)===i},Hr.isStrictMode=function(y){return x(y)===r},Hr.isSuspense=function(y){return x(y)===u},Hr.isSuspenseList=function(y){return x(y)===d},Hr.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===i||y===r||y===u||y===d||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===f||y.$$typeof===s||y.$$typeof===a||y.$$typeof===l||y.$$typeof===m||y.getModuleId!==void 0)},Hr.typeOf=x,Hr}var ST;function kue(){return ST||(ST=1,vT.exports=_ue()),vT.exports}var AT=kue();const Nue=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function jL(e){const n=`${e}`.match(Nue);return n&&n[1]||""}function OL(e,n=""){return e.displayName||e.name||jL(e)||n}function CT(e,n,t){const r=OL(n);return e.displayName||(r!==""?`${t}(${r})`:t)}function Tue(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return OL(e,"Component");if(typeof e=="object")switch(e.$$typeof){case AT.ForwardRef:return CT(e,e.render,"ForwardRef");case AT.Memo:return CT(e,e.type,"memo");default:return}}}const jue=Object.freeze(Object.defineProperty({__proto__:null,default:Tue,getFunctionName:jL},Symbol.toStringTag,{value:"Module"}));function oh(e){if(typeof e!="string")throw new Error(Mg(7));return e.charAt(0).toUpperCase()+e.slice(1)}const Oue=Object.freeze(Object.defineProperty({__proto__:null,default:oh},Symbol.toStringTag,{value:"Module"}));function Iue(...e){return e.reduce((n,t)=>t==null?n:function(...r){n.apply(this,r),t.apply(this,r)},()=>{})}function Due(e,n=166){let t;function r(...i){const a=()=>{e.apply(this,i)};clearTimeout(t),t=setTimeout(a,n)}return r.clear=()=>{clearTimeout(t)},r}function Lue(e,n){return()=>null}function Rue(e,n){var t,r;return Q.isValidElement(e)&&n.indexOf((t=e.type.muiName)!=null?t:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function IL(e){return e&&e.ownerDocument||document}function Mue(e){return IL(e).defaultView||window}function Fue(e,n){return()=>null}function DL(e,n){typeof e=="function"?e(n):e&&(e.current=n)}const LL=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;let ET=0;function Pue(e){const[n,t]=Q.useState(e),r=e||n;return Q.useEffect(()=>{n==null&&(ET+=1,t(`mui-${ET}`))},[n]),r}const _T=Q.useId;function zue(e){if(_T!==void 0){const n=_T();return e??n}return Pue(e)}function que(e,n,t,r,i){return null}function Bue({controlled:e,default:n,name:t,state:r="value"}){const{current:i}=Q.useRef(e!==void 0),[a,s]=Q.useState(n),l=i?e:a,u=Q.useCallback(d=>{i||s(d)},[]);return[l,u]}function Uue(e){const n=Q.useRef(e);return LL(()=>{n.current=e}),Q.useRef((...t)=>(0,n.current)(...t)).current}function $ue(...e){return Q.useMemo(()=>e.every(n=>n==null)?null:n=>{e.forEach(t=>{DL(t,n)})},e)}class XA{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new XA}start(n,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},n)}}let d2=!0,A6=!1;const Hue=new XA,Wue={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Yue(e){const{type:n,tagName:t}=e;return!!(t==="INPUT"&&Wue[n]&&!e.readOnly||t==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function Vue(e){e.metaKey||e.altKey||e.ctrlKey||(d2=!0)}function Ww(){d2=!1}function Gue(){this.visibilityState==="hidden"&&A6&&(d2=!0)}function Que(e){e.addEventListener("keydown",Vue,!0),e.addEventListener("mousedown",Ww,!0),e.addEventListener("pointerdown",Ww,!0),e.addEventListener("touchstart",Ww,!0),e.addEventListener("visibilitychange",Gue,!0)}function Kue(e){const{target:n}=e;try{return n.matches(":focus-visible")}catch{}return d2||Yue(n)}function Xue(){const e=Q.useCallback(i=>{i!=null&&Que(i.ownerDocument)},[]),n=Q.useRef(!1);function t(){return n.current?(A6=!0,Hue.start(100,()=>{A6=!1}),n.current=!1,!0):!1}function r(i){return Kue(i)?(n.current=!0,!0):!1}return{isFocusVisibleRef:n,onFocus:r,onBlur:t,ref:e}}function C6(e,n){const t=Vr({},n);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=Vr({},e[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},a=n[r];t[r]={},!a||!Object.keys(a)?t[r]=i:!i||!Object.keys(i)?t[r]=a:(t[r]=Vr({},a),Object.keys(i).forEach(s=>{t[r][s]=C6(i[s],a[s])}))}else t[r]===void 0&&(t[r]=e[r])}),t}function Zue(e,n,t=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((a,s)=>{if(s){const l=n(s);l!==""&&a.push(l),t&&t[s]&&a.push(t[s])}return a},[]).join(" ")}),r}const kT=e=>e,Jue=()=>{let e=kT;return{configure(n){e=n},generate(n){return e(n)},reset(){e=kT}}},RL=Jue(),ece={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ML(e,n,t="Mui"){const r=ece[n];return r?`${t}-${r}`:`${RL.generate(e)}-${n}`}function tce(e,n,t="Mui"){const r={};return n.forEach(i=>{r[i]=ML(e,i,t)}),r}function nce(e,n=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(n,Math.min(e,t))}const rce=Object.freeze(Object.defineProperty({__proto__:null,default:nce},Symbol.toStringTag,{value:"Module"}));function mh(e,n){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;t[r]=e[r]}return t}function FL(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(t=FL(e[n]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function ice(){for(var e,n,t=0,r="",i=arguments.length;t<i;t++)(e=arguments[t])&&(n=FL(e))&&(r&&(r+=" "),r+=n);return r}const ace=Q.createContext(void 0);function sce(e){const{theme:n,name:t,props:r}=e;if(!n||!n.components||!n.components[t])return r;const i=n.components[t];return i.defaultProps?C6(i.defaultProps,r):!i.styleOverrides&&!i.variants?C6(i,r):r}function oce({props:e,name:n}){const t=Q.useContext(ace);return sce({props:e,name:n,theme:{components:t}})}function lce(e){return oce(e)}var Hh={},NT={exports:{}},TT;function uce(){return TT||(TT=1,function(e){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)({}).hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(NT)),NT.exports}var jT={exports:{}},OT;function cce(){return OT||(OT=1,function(e){function n(t,r){if(t==null)return{};var i={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;i[a]=t[a]}return i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(jT)),jT.exports}function dce(e){for(var n=0,t,r=0,i=e.length;i>=4;++r,i-=4)t=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,n=(t&65535)*1540483477+((t>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(i){case 3:n^=(e.charCodeAt(r+2)&255)<<16;case 2:n^=(e.charCodeAt(r+1)&255)<<8;case 1:n^=e.charCodeAt(r)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}var fce={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function hce(e){var n=Object.create(null);return function(t){return n[t]===void 0&&(n[t]=e(t)),n[t]}}var pce=/[A-Z]|^ms/g,mce=/_EMO_([^_]+?)_([^]*?)_EMO_/g,PL=function(e){return e.charCodeAt(1)===45},IT=function(e){return e!=null&&typeof e!="boolean"},Yw=hce(function(e){return PL(e)?e:e.replace(pce,"-$&").toLowerCase()}),DT=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(mce,function(t,r,i){return Wf={name:r,styles:i,next:Wf},r})}return fce[e]!==1&&!PL(e)&&typeof n=="number"&&n!==0?n+"px":n};function sv(e,n,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Wf={name:i.name,styles:i.styles,next:Wf},i.name;var a=t;if(a.styles!==void 0){var s=a.next;if(s!==void 0)for(;s!==void 0;)Wf={name:s.name,styles:s.styles,next:Wf},s=s.next;var l=a.styles+";";return l}return gce(e,n,t)}}var u=t;return u}function gce(e,n,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=sv(e,n,t[i])+";";else for(var a in t){var s=t[a];if(typeof s!="object"){var l=s;IT(l)&&(r+=Yw(a)+":"+DT(a,l)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&n==null)for(var u=0;u<s.length;u++)IT(s[u])&&(r+=Yw(a)+":"+DT(a,s[u])+";");else{var d=sv(e,n,s);switch(a){case"animation":case"animationName":{r+=Yw(a)+":"+d+";";break}default:r+=a+"{"+d+"}"}}}return r}var LT=/label:\s*([^\s;{]+)\s*(;|$)/g,Wf;function bce(e,n,t){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Wf=void 0;var a=e[0];if(a==null||a.raw===void 0)r=!1,i+=sv(t,n,a);else{var s=a;i+=s[0]}for(var l=1;l<e.length;l++)if(i+=sv(t,n,e[l]),r){var u=a;i+=u[l]}LT.lastIndex=0;for(var d="",f;(f=LT.exec(i))!==null;)d+="-"+f[1];var g=dce(i)+d;return{name:g,styles:i,next:Wf}}function yce(e){if(e.sheet)return e.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===e)return document.styleSheets[n]}function xce(e){var n=document.createElement("style");return n.setAttribute("data-emotion",e.key),e.nonce!==void 0&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var vce=function(){function e(t){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var n=e.prototype;return n.hydrate=function(t){t.forEach(this._insertTag)},n.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(xce(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=yce(r);try{i.insertRule(t,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(t));this.ctr++},n.flush=function(){this.tags.forEach(function(t){var r;return(r=t.parentNode)==null?void 0:r.removeChild(t)}),this.tags=[],this.ctr=0},e}(),Ls="-ms-",ov="-moz-",gr="-webkit-",zL="comm",ZA="rule",JA="decl",wce="@import",qL="@keyframes",Sce="@layer",Ace=Math.abs,f2=String.fromCharCode,Cce=Object.assign;function Ece(e,n){return ps(e,0)^45?(((n<<2^ps(e,0))<<2^ps(e,1))<<2^ps(e,2))<<2^ps(e,3):0}function BL(e){return e.trim()}function _ce(e,n){return(e=n.exec(e))?e[0]:e}function yr(e,n,t){return e.replace(n,t)}function E6(e,n){return e.indexOf(n)}function ps(e,n){return e.charCodeAt(n)|0}function Fg(e,n,t){return e.slice(n,t)}function hc(e){return e.length}function eC(e){return e.length}function Ky(e,n){return n.push(e),e}function kce(e,n){return e.map(n).join("")}var h2=1,pm=1,UL=0,So=0,Ta=0,Em="";function p2(e,n,t,r,i,a,s){return{value:e,root:n,parent:t,type:r,props:i,children:a,line:h2,column:pm,length:s,return:""}}function $1(e,n){return Cce(p2("",null,null,"",null,null,0),e,{length:-e.length},n)}function Nce(){return Ta}function Tce(){return Ta=So>0?ps(Em,--So):0,pm--,Ta===10&&(pm=1,h2--),Ta}function el(){return Ta=So<UL?ps(Em,So++):0,pm++,Ta===10&&(pm=1,h2++),Ta}function Dc(){return ps(Em,So)}function Cx(){return So}function bb(e,n){return Fg(Em,e,n)}function Pg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $L(e){return h2=pm=1,UL=hc(Em=e),So=0,[]}function HL(e){return Em="",e}function Ex(e){return BL(bb(So-1,_6(e===91?e+2:e===40?e+1:e)))}function jce(e){for(;(Ta=Dc())&&Ta<33;)el();return Pg(e)>2||Pg(Ta)>3?"":" "}function Oce(e,n){for(;--n&&el()&&!(Ta<48||Ta>102||Ta>57&&Ta<65||Ta>70&&Ta<97););return bb(e,Cx()+(n<6&&Dc()==32&&el()==32))}function _6(e){for(;el();)switch(Ta){case e:return So;case 34:case 39:e!==34&&e!==39&&_6(Ta);break;case 40:e===41&&_6(e);break;case 92:el();break}return So}function Ice(e,n){for(;el()&&e+Ta!==57&&!(e+Ta===84&&Dc()===47););return"/*"+bb(n,So-1)+"*"+f2(e===47?e:el())}function Dce(e){for(;!Pg(Dc());)el();return bb(e,So)}function Lce(e){return HL(_x("",null,null,null,[""],e=$L(e),0,[0],e))}function _x(e,n,t,r,i,a,s,l,u){for(var d=0,f=0,g=s,b=0,m=0,x=0,y=1,A=1,w=1,C=0,N="",R=i,F=a,q=r,k=N;A;)switch(x=C,C=el()){case 40:if(x!=108&&ps(k,g-1)==58){E6(k+=yr(Ex(C),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:k+=Ex(C);break;case 9:case 10:case 13:case 32:k+=jce(x);break;case 92:k+=Oce(Cx()-1,7);continue;case 47:switch(Dc()){case 42:case 47:Ky(Rce(Ice(el(),Cx()),n,t),u);break;default:k+="/"}break;case 123*y:l[d++]=hc(k)*w;case 125*y:case 59:case 0:switch(C){case 0:case 125:A=0;case 59+f:w==-1&&(k=yr(k,/\f/g,"")),m>0&&hc(k)-g&&Ky(m>32?MT(k+";",r,t,g-1):MT(yr(k," ","")+";",r,t,g-2),u);break;case 59:k+=";";default:if(Ky(q=RT(k,n,t,d,f,i,l,N,R=[],F=[],g),a),C===123)if(f===0)_x(k,n,q,q,R,a,g,l,F);else switch(b===99&&ps(k,3)===110?100:b){case 100:case 108:case 109:case 115:_x(e,q,q,r&&Ky(RT(e,q,q,0,0,i,l,N,i,R=[],g),F),i,F,g,l,r?R:F);break;default:_x(k,q,q,q,[""],F,0,l,F)}}d=f=m=0,y=w=1,N=k="",g=s;break;case 58:g=1+hc(k),m=x;default:if(y<1){if(C==123)--y;else if(C==125&&y++==0&&Tce()==125)continue}switch(k+=f2(C),C*y){case 38:w=f>0?1:(k+="\f",-1);break;case 44:l[d++]=(hc(k)-1)*w,w=1;break;case 64:Dc()===45&&(k+=Ex(el())),b=Dc(),f=g=hc(N=k+=Dce(Cx())),C++;break;case 45:x===45&&hc(k)==2&&(y=0)}}return a}function RT(e,n,t,r,i,a,s,l,u,d,f){for(var g=i-1,b=i===0?a:[""],m=eC(b),x=0,y=0,A=0;x<r;++x)for(var w=0,C=Fg(e,g+1,g=Ace(y=s[x])),N=e;w<m;++w)(N=BL(y>0?b[w]+" "+C:yr(C,/&\f/g,b[w])))&&(u[A++]=N);return p2(e,n,t,i===0?ZA:l,u,d,f)}function Rce(e,n,t){return p2(e,n,t,zL,f2(Nce()),Fg(e,2,-2),0)}function MT(e,n,t,r){return p2(e,n,t,JA,Fg(e,0,r),Fg(e,r+1,-1),r)}function X0(e,n){for(var t="",r=eC(e),i=0;i<r;i++)t+=n(e[i],i,e,n)||"";return t}function Mce(e,n,t,r){switch(e.type){case Sce:if(e.children.length)break;case wce:case JA:return e.return=e.return||e.value;case zL:return"";case qL:return e.return=e.value+"{"+X0(e.children,r)+"}";case ZA:e.value=e.props.join(",")}return hc(t=X0(e.children,r))?e.return=e.value+"{"+t+"}":""}function Fce(e){var n=eC(e);return function(t,r,i,a){for(var s="",l=0;l<n;l++)s+=e[l](t,r,i,a)||"";return s}}function Pce(e){return function(n){n.root||(n=n.return)&&e(n)}}var zce=function(e,n,t){for(var r=0,i=0;r=i,i=Dc(),r===38&&i===12&&(n[t]=1),!Pg(i);)el();return bb(e,So)},qce=function(e,n){var t=-1,r=44;do switch(Pg(r)){case 0:r===38&&Dc()===12&&(n[t]=1),e[t]+=zce(So-1,n,t);break;case 2:e[t]+=Ex(r);break;case 4:if(r===44){e[++t]=Dc()===58?"&\f":"",n[t]=e[t].length;break}default:e[t]+=f2(r)}while(r=el());return e},Bce=function(e,n){return HL(qce($L(e),n))},FT=new WeakMap,Uce=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,t=e.parent,r=e.column===t.column&&e.line===t.line;t.type!=="rule";)if(t=t.parent,!t)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!FT.get(t))&&!r){FT.set(e,!0);for(var i=[],a=Bce(n,i),s=t.props,l=0,u=0;l<a.length;l++)for(var d=0;d<s.length;d++,u++)e.props[u]=i[l]?a[l].replace(/&\f/g,s[d]):s[d]+" "+a[l]}}},$ce=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function WL(e,n){switch(Ece(e,n)){case 5103:return gr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return gr+e+ov+e+Ls+e+e;case 6828:case 4268:return gr+e+Ls+e+e;case 6165:return gr+e+Ls+"flex-"+e+e;case 5187:return gr+e+yr(e,/(\w+).+(:[^]+)/,gr+"box-$1$2"+Ls+"flex-$1$2")+e;case 5443:return gr+e+Ls+"flex-item-"+yr(e,/flex-|-self/,"")+e;case 4675:return gr+e+Ls+"flex-line-pack"+yr(e,/align-content|flex-|-self/,"")+e;case 5548:return gr+e+Ls+yr(e,"shrink","negative")+e;case 5292:return gr+e+Ls+yr(e,"basis","preferred-size")+e;case 6060:return gr+"box-"+yr(e,"-grow","")+gr+e+Ls+yr(e,"grow","positive")+e;case 4554:return gr+yr(e,/([^-])(transform)/g,"$1"+gr+"$2")+e;case 6187:return yr(yr(yr(e,/(zoom-|grab)/,gr+"$1"),/(image-set)/,gr+"$1"),e,"")+e;case 5495:case 3959:return yr(e,/(image-set\([^]*)/,gr+"$1$`$1");case 4968:return yr(yr(e,/(.+:)(flex-)?(.*)/,gr+"box-pack:$3"+Ls+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+gr+e+e;case 4095:case 3583:case 4068:case 2532:return yr(e,/(.+)-inline(.+)/,gr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(hc(e)-1-n>6)switch(ps(e,n+1)){case 109:if(ps(e,n+4)!==45)break;case 102:return yr(e,/(.+:)(.+)-([^]+)/,"$1"+gr+"$2-$3$1"+ov+(ps(e,n+3)==108?"$3":"$2-$3"))+e;case 115:return~E6(e,"stretch")?WL(yr(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(ps(e,n+1)!==115)break;case 6444:switch(ps(e,hc(e)-3-(~E6(e,"!important")&&10))){case 107:return yr(e,":",":"+gr)+e;case 101:return yr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+gr+(ps(e,14)===45?"inline-":"")+"box$3$1"+gr+"$2$3$1"+Ls+"$2box$3")+e}break;case 5936:switch(ps(e,n+11)){case 114:return gr+e+Ls+yr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return gr+e+Ls+yr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return gr+e+Ls+yr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return gr+e+Ls+e+e}return e}var Hce=function(e,n,t,r){if(e.length>-1&&!e.return)switch(e.type){case JA:e.return=WL(e.value,e.length);break;case qL:return X0([$1(e,{value:yr(e.value,"@","@"+gr)})],r);case ZA:if(e.length)return kce(e.props,function(i){switch(_ce(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return X0([$1(e,{props:[yr(i,/:(read-\w+)/,":"+ov+"$1")]})],r);case"::placeholder":return X0([$1(e,{props:[yr(i,/:(plac\w+)/,":"+gr+"input-$1")]}),$1(e,{props:[yr(i,/:(plac\w+)/,":"+ov+"$1")]}),$1(e,{props:[yr(i,/:(plac\w+)/,Ls+"input-$1")]})],r)}return""})}},Wce=[Hce],Yce=function(e){var n=e.key;if(n==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(x){var y=x.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var r=e.stylisPlugins||Wce,i={},a,s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var y=x.getAttribute("data-emotion").split(" "),A=1;A<y.length;A++)i[y[A]]=!0;s.push(x)});var l,u=[Uce,$ce];{var d,f=[Mce,Pce(function(x){d.insert(x)})],g=Fce(u.concat(r,f)),b=function(x){return X0(Lce(x),g)};l=function(x,y,A,w){d=A,b(x?x+"{"+y.styles+"}":y.styles),w&&(m.inserted[y.name]=!0)}}var m={key:n,sheet:new vce({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return m.sheet.hydrate(s),m};function Vce(e,n){const t=Yce({key:"css",prepend:e});if(n){const r=t.insert;t.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return t}const Vw=new Map;function Gce(e){const{injectFirst:n,enableCssLayer:t,children:r}=e,i=Q.useMemo(()=>{const a=`${n}-${t}`;if(typeof document=="object"&&Vw.has(a))return Vw.get(a);const s=Vce(n,t);return Vw.set(a,s),s},[n,t]);return n||t?Kt.jsx(gj,{value:i,children:r}):r}function Qce(e){return e==null||Object.keys(e).length===0}function Kce(e){const{styles:n,defaultTheme:t={}}=e,r=typeof n=="function"?i=>n(Qce(i)?t:i):n;return Kt.jsx(bj,{styles:r})}/**
 * @mui/styled-engine v5.18.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Xce(e,n){return mj(e,n)}const Zce=(e,n)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=n(e.__emotion_styles))},PT=[];function Jce(e){return PT[0]=e,bce(PT)}const ede=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Kce,StyledEngineProvider:Gce,ThemeContext:pj,css:hj,default:Xce,internal_processStyles:Zce,internal_serializeStyles:Jce,keyframes:fj},Symbol.toStringTag,{value:"Module"})),tde=Vd(ede),nde=Vd(Cue),rde=Vd(Oue),ide=Vd(jue),ade=["values","unit","step"],sde=e=>{const n=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return n.sort((t,r)=>t.val-r.val),n.reduce((t,r)=>Vr({},t,{[r.key]:r.val}),{})};function YL(e){const{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=e,i=mh(e,ade),a=sde(n),s=Object.keys(a);function l(b){return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t})`}function u(b){return`@media (max-width:${(typeof n[b]=="number"?n[b]:b)-r/100}${t})`}function d(b,m){const x=s.indexOf(m);return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t}) and (max-width:${(x!==-1&&typeof n[s[x]]=="number"?n[s[x]]:m)-r/100}${t})`}function f(b){return s.indexOf(b)+1<s.length?d(b,s[s.indexOf(b)+1]):l(b)}function g(b){const m=s.indexOf(b);return m===0?l(s[1]):m===s.length-1?u(s[m]):d(b,s[s.indexOf(b)+1]).replace("@media","@media not all and")}return Vr({keys:s,values:a,up:l,down:u,between:d,only:f,not:g,unit:t},i)}const ode={borderRadius:4};function og(e,n){return n?Ic(e,n,{clone:!1}):e}const tC={xs:0,sm:600,md:900,lg:1200,xl:1536},zT={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${tC[e]}px)`};function qd(e,n,t){const r=e.theme||{};if(Array.isArray(n)){const i=r.breakpoints||zT;return n.reduce((a,s,l)=>(a[i.up(i.keys[l])]=t(n[l]),a),{})}if(typeof n=="object"){const i=r.breakpoints||zT;return Object.keys(n).reduce((a,s)=>{if(Object.keys(i.values||tC).indexOf(s)!==-1){const l=i.up(s);a[l]=t(n[s],s)}else{const l=s;a[l]=n[l]}return a},{})}return t(n)}function lde(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((t,r)=>{const i=e.up(r);return t[i]={},t},{}))||{}}function qT(e,n){return e.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},n)}function m2(e,n,t=!0){if(!n||typeof n!="string")return null;if(e&&e.vars&&t){const r=`vars.${n}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(r!=null)return r}return n.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function lv(e,n,t,r=t){let i;return typeof e=="function"?i=e(t):Array.isArray(e)?i=e[t]||r:i=m2(e,t)||r,n&&(i=n(i,r,e)),i}function ba(e){const{prop:n,cssProperty:t=e.prop,themeKey:r,transform:i}=e,a=s=>{if(s[n]==null)return null;const l=s[n],u=s.theme,d=m2(u,r)||{};return qd(s,l,f=>{let g=lv(d,i,f);return f===g&&typeof f=="string"&&(g=lv(d,i,`${n}${f==="default"?"":oh(f)}`,f)),t===!1?g:{[t]:g}})};return a.propTypes={},a.filterProps=[n],a}function ude(e){const n={};return t=>(n[t]===void 0&&(n[t]=e(t)),n[t])}const cde={m:"margin",p:"padding"},dde={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},BT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},fde=ude(e=>{if(e.length>2)if(BT[e])e=BT[e];else return[e];const[n,t]=e.split(""),r=cde[n],i=dde[t]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),nC=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],rC=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...nC,...rC];function yb(e,n,t,r){var i;const a=(i=m2(e,n,!1))!=null?i:t;return typeof a=="number"?s=>typeof s=="string"?s:a*s:Array.isArray(a)?s=>typeof s=="string"?s:a[s]:typeof a=="function"?a:()=>{}}function VL(e){return yb(e,"spacing",8)}function xb(e,n){if(typeof n=="string"||n==null)return n;const t=Math.abs(n),r=e(t);return n>=0?r:typeof r=="number"?-r:`-${r}`}function hde(e,n){return t=>e.reduce((r,i)=>(r[i]=xb(n,t),r),{})}function pde(e,n,t,r){if(n.indexOf(t)===-1)return null;const i=fde(t),a=hde(i,r),s=e[t];return qd(e,s,a)}function GL(e,n){const t=VL(e.theme);return Object.keys(e).map(r=>pde(e,n,r,t)).reduce(og,{})}function Vi(e){return GL(e,nC)}Vi.propTypes={};Vi.filterProps=nC;function Gi(e){return GL(e,rC)}Gi.propTypes={};Gi.filterProps=rC;function mde(e=8){if(e.mui)return e;const n=VL({spacing:e}),t=(...r)=>(r.length===0?[1]:r).map(i=>{const a=n(i);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function g2(...e){const n=e.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),t=r=>Object.keys(r).reduce((i,a)=>n[a]?og(i,n[a](r)):i,{});return t.propTypes={},t.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),t}function jl(e){return typeof e!="number"?e:`${e}px solid`}function Bl(e,n){return ba({prop:e,themeKey:"borders",transform:n})}const gde=Bl("border",jl),bde=Bl("borderTop",jl),yde=Bl("borderRight",jl),xde=Bl("borderBottom",jl),vde=Bl("borderLeft",jl),wde=Bl("borderColor"),Sde=Bl("borderTopColor"),Ade=Bl("borderRightColor"),Cde=Bl("borderBottomColor"),Ede=Bl("borderLeftColor"),_de=Bl("outline",jl),kde=Bl("outlineColor"),b2=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const n=yb(e.theme,"shape.borderRadius",4),t=r=>({borderRadius:xb(n,r)});return qd(e,e.borderRadius,t)}return null};b2.propTypes={};b2.filterProps=["borderRadius"];g2(gde,bde,yde,xde,vde,wde,Sde,Ade,Cde,Ede,b2,_de,kde);const y2=e=>{if(e.gap!==void 0&&e.gap!==null){const n=yb(e.theme,"spacing",8),t=r=>({gap:xb(n,r)});return qd(e,e.gap,t)}return null};y2.propTypes={};y2.filterProps=["gap"];const x2=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const n=yb(e.theme,"spacing",8),t=r=>({columnGap:xb(n,r)});return qd(e,e.columnGap,t)}return null};x2.propTypes={};x2.filterProps=["columnGap"];const v2=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const n=yb(e.theme,"spacing",8),t=r=>({rowGap:xb(n,r)});return qd(e,e.rowGap,t)}return null};v2.propTypes={};v2.filterProps=["rowGap"];const Nde=ba({prop:"gridColumn"}),Tde=ba({prop:"gridRow"}),jde=ba({prop:"gridAutoFlow"}),Ode=ba({prop:"gridAutoColumns"}),Ide=ba({prop:"gridAutoRows"}),Dde=ba({prop:"gridTemplateColumns"}),Lde=ba({prop:"gridTemplateRows"}),Rde=ba({prop:"gridTemplateAreas"}),Mde=ba({prop:"gridArea"});g2(y2,x2,v2,Nde,Tde,jde,Ode,Ide,Dde,Lde,Rde,Mde);function Z0(e,n){return n==="grey"?n:e}const Fde=ba({prop:"color",themeKey:"palette",transform:Z0}),Pde=ba({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Z0}),zde=ba({prop:"backgroundColor",themeKey:"palette",transform:Z0});g2(Fde,Pde,zde);function Vo(e){return e<=1&&e!==0?`${e*100}%`:e}const qde=ba({prop:"width",transform:Vo}),iC=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const n=t=>{var r,i;const a=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||tC[t];return a?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Vo(t)}};return qd(e,e.maxWidth,n)}return null};iC.filterProps=["maxWidth"];const Bde=ba({prop:"minWidth",transform:Vo}),Ude=ba({prop:"height",transform:Vo}),$de=ba({prop:"maxHeight",transform:Vo}),Hde=ba({prop:"minHeight",transform:Vo});ba({prop:"size",cssProperty:"width",transform:Vo});ba({prop:"size",cssProperty:"height",transform:Vo});const Wde=ba({prop:"boxSizing"});g2(qde,iC,Bde,Ude,$de,Hde,Wde);const vb={border:{themeKey:"borders",transform:jl},borderTop:{themeKey:"borders",transform:jl},borderRight:{themeKey:"borders",transform:jl},borderBottom:{themeKey:"borders",transform:jl},borderLeft:{themeKey:"borders",transform:jl},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:jl},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:b2},color:{themeKey:"palette",transform:Z0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Z0},backgroundColor:{themeKey:"palette",transform:Z0},p:{style:Gi},pt:{style:Gi},pr:{style:Gi},pb:{style:Gi},pl:{style:Gi},px:{style:Gi},py:{style:Gi},padding:{style:Gi},paddingTop:{style:Gi},paddingRight:{style:Gi},paddingBottom:{style:Gi},paddingLeft:{style:Gi},paddingX:{style:Gi},paddingY:{style:Gi},paddingInline:{style:Gi},paddingInlineStart:{style:Gi},paddingInlineEnd:{style:Gi},paddingBlock:{style:Gi},paddingBlockStart:{style:Gi},paddingBlockEnd:{style:Gi},m:{style:Vi},mt:{style:Vi},mr:{style:Vi},mb:{style:Vi},ml:{style:Vi},mx:{style:Vi},my:{style:Vi},margin:{style:Vi},marginTop:{style:Vi},marginRight:{style:Vi},marginBottom:{style:Vi},marginLeft:{style:Vi},marginX:{style:Vi},marginY:{style:Vi},marginInline:{style:Vi},marginInlineStart:{style:Vi},marginInlineEnd:{style:Vi},marginBlock:{style:Vi},marginBlockStart:{style:Vi},marginBlockEnd:{style:Vi},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:y2},rowGap:{style:v2},columnGap:{style:x2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Vo},maxWidth:{style:iC},minWidth:{transform:Vo},height:{transform:Vo},maxHeight:{transform:Vo},minHeight:{transform:Vo},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Yde(...e){const n=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(n);return e.every(r=>t.size===Object.keys(r).length)}function Vde(e,n){return typeof e=="function"?e(n):e}function QL(){function e(t,r,i,a){const s={[t]:r,theme:i},l=a[t];if(!l)return{[t]:r};const{cssProperty:u=t,themeKey:d,transform:f,style:g}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const b=m2(i,d)||{};return g?g(s):qd(s,r,m=>{let x=lv(b,f,m);return m===x&&typeof m=="string"&&(x=lv(b,f,`${t}${m==="default"?"":oh(m)}`,m)),u===!1?x:{[u]:x}})}function n(t){var r;const{sx:i,theme:a={},nested:s}=t||{};if(!i)return null;const l=(r=a.unstable_sxConfig)!=null?r:vb;function u(d){let f=d;if(typeof d=="function")f=d(a);else if(typeof d!="object")return d;if(!f)return null;const g=lde(a.breakpoints),b=Object.keys(g);let m=g;return Object.keys(f).forEach(x=>{const y=Vde(f[x],a);if(y!=null)if(typeof y=="object")if(l[x])m=og(m,e(x,y,a,l));else{const A=qd({theme:a},y,w=>({[x]:w}));Yde(A,y)?m[x]=n({sx:y,theme:a,nested:!0}):m=og(m,A)}else m=og(m,e(x,y,a,l))}),!s&&a.modularCssLayers?{"@layer sx":qT(b,m)}:qT(b,m)}return Array.isArray(i)?i.map(u):u(i)}return n}const w2=QL();w2.filterProps=["sx"];function KL(e,n){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:n}:t.palette.mode===e?n:{}}const Gde=["breakpoints","palette","spacing","shape"];function XL(e={},...n){const{breakpoints:t={},palette:r={},spacing:i,shape:a={}}=e,s=mh(e,Gde),l=YL(t),u=mde(i);let d=Ic({breakpoints:l,direction:"ltr",components:{},palette:Vr({mode:"light"},r),spacing:u,shape:Vr({},ode,a)},s);return d.applyStyles=KL,d=n.reduce((f,g)=>Ic(f,g),d),d.unstable_sxConfig=Vr({},vb,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(f){return w2({sx:f,theme:this})},d}const Qde=Object.freeze(Object.defineProperty({__proto__:null,default:XL,private_createBreakpoints:YL,unstable_applyStyles:KL},Symbol.toStringTag,{value:"Module"})),Kde=Vd(Qde),Xde=["sx"],Zde=e=>{var n,t;const r={systemProps:{},otherProps:{}},i=(n=e==null||(t=e.theme)==null?void 0:t.unstable_sxConfig)!=null?n:vb;return Object.keys(e).forEach(a=>{i[a]?r.systemProps[a]=e[a]:r.otherProps[a]=e[a]}),r};function Jde(e){const{sx:n}=e,t=mh(e,Xde),{systemProps:r,otherProps:i}=Zde(t);let a;return Array.isArray(n)?a=[r,...n]:typeof n=="function"?a=(...s)=>{const l=n(...s);return Pf(l)?Vr({},r,l):r}:a=Vr({},r,n),Vr({},i,{sx:a})}const efe=Object.freeze(Object.defineProperty({__proto__:null,default:w2,extendSxProp:Jde,unstable_createStyleFunctionSx:QL,unstable_defaultSxConfig:vb},Symbol.toStringTag,{value:"Module"})),tfe=Vd(efe);var UT;function nfe(){if(UT)return Hh;UT=1;var e=Cm();Object.defineProperty(Hh,"__esModule",{value:!0}),Hh.default=F,Hh.shouldForwardProp=x,Hh.systemDefaultTheme=void 0;var n=e(uce()),t=e(cce()),r=g(tde),i=nde;e(rde),e(ide);var a=e(Kde),s=e(tfe);const l=["ownerState"],u=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function f(q){if(typeof WeakMap!="function")return null;var k=new WeakMap,L=new WeakMap;return(f=function(B){return B?L:k})(q)}function g(q,k){if(q&&q.__esModule)return q;if(q===null||typeof q!="object"&&typeof q!="function")return{default:q};var L=f(k);if(L&&L.has(q))return L.get(q);var B={__proto__:null},X=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in q)if(T!=="default"&&Object.prototype.hasOwnProperty.call(q,T)){var O=X?Object.getOwnPropertyDescriptor(q,T):null;O&&(O.get||O.set)?Object.defineProperty(B,T,O):B[T]=q[T]}return B.default=q,L&&L.set(q,B),B}function b(q){return Object.keys(q).length===0}function m(q){return typeof q=="string"&&q.charCodeAt(0)>96}function x(q){return q!=="ownerState"&&q!=="theme"&&q!=="sx"&&q!=="as"}function y(q,k){return k&&q&&typeof q=="object"&&q.styles&&!q.styles.startsWith("@layer")&&(q.styles=`@layer ${k}{${String(q.styles)}}`),q}const A=Hh.systemDefaultTheme=(0,a.default)(),w=q=>q&&q.charAt(0).toLowerCase()+q.slice(1);function C({defaultTheme:q,theme:k,themeId:L}){return b(k)?q:k[L]||k}function N(q){return q?(k,L)=>L[q]:null}function R(q,k,L){let{ownerState:B}=k,X=(0,t.default)(k,l);const T=typeof q=="function"?q((0,n.default)({ownerState:B},X)):q;if(Array.isArray(T))return T.flatMap(O=>R(O,(0,n.default)({ownerState:B},X),L));if(T&&typeof T=="object"&&Array.isArray(T.variants)){const{variants:O=[]}=T;let P=(0,t.default)(T,u);return O.forEach(j=>{let G=!0;if(typeof j.props=="function"?G=j.props((0,n.default)({ownerState:B},X,B)):Object.keys(j.props).forEach(W=>{(B==null?void 0:B[W])!==j.props[W]&&X[W]!==j.props[W]&&(G=!1)}),G){Array.isArray(P)||(P=[P]);const W=typeof j.style=="function"?j.style((0,n.default)({ownerState:B},X,B)):j.style;P.push(L?y((0,r.internal_serializeStyles)(W),L):W)}}),P}return L?y((0,r.internal_serializeStyles)(T),L):T}function F(q={}){const{themeId:k,defaultTheme:L=A,rootShouldForwardProp:B=x,slotShouldForwardProp:X=x}=q,T=O=>(0,s.default)((0,n.default)({},O,{theme:C((0,n.default)({},O,{defaultTheme:L,themeId:k}))}));return T.__mui_systemSx=!0,(O,P={})=>{(0,r.internal_processStyles)(O,xe=>xe.filter(Ee=>!(Ee!=null&&Ee.__mui_systemSx)));const{name:j,slot:G,skipVariantsResolver:W,skipSx:K,overridesResolver:ie=N(w(G))}=P,ce=(0,t.default)(P,d),$=j&&j.startsWith("Mui")||G?"components":"custom",ae=W!==void 0?W:G&&G!=="Root"&&G!=="root"||!1,U=K||!1;let z,Z=x;G==="Root"||G==="root"?Z=B:G?Z=X:m(O)&&(Z=void 0);const ee=(0,r.default)(O,(0,n.default)({shouldForwardProp:Z,label:z},ce)),oe=xe=>typeof xe=="function"&&xe.__emotion_real!==xe||(0,i.isPlainObject)(xe)?Ee=>{const De=C({theme:Ee.theme,defaultTheme:L,themeId:k});return R(xe,(0,n.default)({},Ee,{theme:De}),De.modularCssLayers?$:void 0)}:xe,we=(xe,...Ee)=>{let De=oe(xe);const Me=Ee?Ee.map(oe):[];j&&ie&&Me.push(Y=>{const Se=C((0,n.default)({},Y,{defaultTheme:L,themeId:k}));if(!Se.components||!Se.components[j]||!Se.components[j].styleOverrides)return null;const te=Se.components[j].styleOverrides,be={};return Object.entries(te).forEach(([de,Ae])=>{be[de]=R(Ae,(0,n.default)({},Y,{theme:Se}),Se.modularCssLayers?"theme":void 0)}),ie(Y,be)}),j&&!ae&&Me.push(Y=>{var Se;const te=C((0,n.default)({},Y,{defaultTheme:L,themeId:k})),be=te==null||(Se=te.components)==null||(Se=Se[j])==null?void 0:Se.variants;return R({variants:be},(0,n.default)({},Y,{theme:te}),te.modularCssLayers?"theme":void 0)}),U||Me.push(T);const We=Me.length-Ee.length;if(Array.isArray(xe)&&We>0){const Y=new Array(We).fill("");De=[...xe,...Y],De.raw=[...xe.raw,...Y]}const Ye=ee(De,...Me);return O.muiName&&(Ye.muiName=O.muiName),Ye};return ee.withConfig&&(we.withConfig=ee.withConfig),we}}return Hh}var rfe=nfe();const ife=mb(rfe);function afe(e,n){return Vr({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},n)}var Di={};const sfe=Vd(Eue),ofe=Vd(rce);var $T;function lfe(){if($T)return Di;$T=1;var e=Cm();Object.defineProperty(Di,"__esModule",{value:!0}),Di.alpha=x,Di.blend=q,Di.colorChannel=void 0,Di.darken=A,Di.decomposeColor=s,Di.emphasize=R,Di.getContrastRatio=m,Di.getLuminance=b,Di.hexToRgb=i,Di.hslToRgb=g,Di.lighten=C,Di.private_safeAlpha=y,Di.private_safeColorChannel=void 0,Di.private_safeDarken=w,Di.private_safeEmphasize=F,Di.private_safeLighten=N,Di.recomposeColor=d,Di.rgbToHex=f;var n=e(sfe),t=e(ofe);function r(k,L=0,B=1){return(0,t.default)(k,L,B)}function i(k){k=k.slice(1);const L=new RegExp(`.{1,${k.length>=6?2:1}}`,"g");let B=k.match(L);return B&&B[0].length===1&&(B=B.map(X=>X+X)),B?`rgb${B.length===4?"a":""}(${B.map((X,T)=>T<3?parseInt(X,16):Math.round(parseInt(X,16)/255*1e3)/1e3).join(", ")})`:""}function a(k){const L=k.toString(16);return L.length===1?`0${L}`:L}function s(k){if(k.type)return k;if(k.charAt(0)==="#")return s(i(k));const L=k.indexOf("("),B=k.substring(0,L);if(["rgb","rgba","hsl","hsla","color"].indexOf(B)===-1)throw new Error((0,n.default)(9,k));let X=k.substring(L+1,k.length-1),T;if(B==="color"){if(X=X.split(" "),T=X.shift(),X.length===4&&X[3].charAt(0)==="/"&&(X[3]=X[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(T)===-1)throw new Error((0,n.default)(10,T))}else X=X.split(",");return X=X.map(O=>parseFloat(O)),{type:B,values:X,colorSpace:T}}const l=k=>{const L=s(k);return L.values.slice(0,3).map((B,X)=>L.type.indexOf("hsl")!==-1&&X!==0?`${B}%`:B).join(" ")};Di.colorChannel=l;const u=(k,L)=>{try{return l(k)}catch{return k}};Di.private_safeColorChannel=u;function d(k){const{type:L,colorSpace:B}=k;let{values:X}=k;return L.indexOf("rgb")!==-1?X=X.map((T,O)=>O<3?parseInt(T,10):T):L.indexOf("hsl")!==-1&&(X[1]=`${X[1]}%`,X[2]=`${X[2]}%`),L.indexOf("color")!==-1?X=`${B} ${X.join(" ")}`:X=`${X.join(", ")}`,`${L}(${X})`}function f(k){if(k.indexOf("#")===0)return k;const{values:L}=s(k);return`#${L.map((B,X)=>a(X===3?Math.round(255*B):B)).join("")}`}function g(k){k=s(k);const{values:L}=k,B=L[0],X=L[1]/100,T=L[2]/100,O=X*Math.min(T,1-T),P=(W,K=(W+B/30)%12)=>T-O*Math.max(Math.min(K-3,9-K,1),-1);let j="rgb";const G=[Math.round(P(0)*255),Math.round(P(8)*255),Math.round(P(4)*255)];return k.type==="hsla"&&(j+="a",G.push(L[3])),d({type:j,values:G})}function b(k){k=s(k);let L=k.type==="hsl"||k.type==="hsla"?s(g(k)).values:k.values;return L=L.map(B=>(k.type!=="color"&&(B/=255),B<=.03928?B/12.92:((B+.055)/1.055)**2.4)),Number((.2126*L[0]+.7152*L[1]+.0722*L[2]).toFixed(3))}function m(k,L){const B=b(k),X=b(L);return(Math.max(B,X)+.05)/(Math.min(B,X)+.05)}function x(k,L){return k=s(k),L=r(L),(k.type==="rgb"||k.type==="hsl")&&(k.type+="a"),k.type==="color"?k.values[3]=`/${L}`:k.values[3]=L,d(k)}function y(k,L,B){try{return x(k,L)}catch{return k}}function A(k,L){if(k=s(k),L=r(L),k.type.indexOf("hsl")!==-1)k.values[2]*=1-L;else if(k.type.indexOf("rgb")!==-1||k.type.indexOf("color")!==-1)for(let B=0;B<3;B+=1)k.values[B]*=1-L;return d(k)}function w(k,L,B){try{return A(k,L)}catch{return k}}function C(k,L){if(k=s(k),L=r(L),k.type.indexOf("hsl")!==-1)k.values[2]+=(100-k.values[2])*L;else if(k.type.indexOf("rgb")!==-1)for(let B=0;B<3;B+=1)k.values[B]+=(255-k.values[B])*L;else if(k.type.indexOf("color")!==-1)for(let B=0;B<3;B+=1)k.values[B]+=(1-k.values[B])*L;return d(k)}function N(k,L,B){try{return C(k,L)}catch{return k}}function R(k,L=.15){return b(k)>.5?A(k,L):C(k,L)}function F(k,L,B){try{return R(k,L)}catch{return k}}function q(k,L,B,X=1){const T=(G,W)=>Math.round((G**(1/X)*(1-B)+W**(1/X)*B)**X),O=s(k),P=s(L),j=[T(O.values[0],P.values[0]),T(O.values[1],P.values[1]),T(O.values[2],P.values[2])];return d({type:"rgb",values:j})}return Di}var k6=lfe();const zg={black:"#000",white:"#fff"},ufe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},w0={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},S0={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},H1={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},A0={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},C0={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},E0={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},cfe=["mode","contrastThreshold","tonalOffset"],HT={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:zg.white,default:zg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Gw={text:{primary:zg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:zg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function WT(e,n,t,r){const i=r.light||r,a=r.dark||r*1.5;e[n]||(e.hasOwnProperty(t)?e[n]=e[t]:n==="light"?e.light=k6.lighten(e.main,i):n==="dark"&&(e.dark=k6.darken(e.main,a)))}function dfe(e="light"){return e==="dark"?{main:A0[200],light:A0[50],dark:A0[400]}:{main:A0[700],light:A0[400],dark:A0[800]}}function ffe(e="light"){return e==="dark"?{main:w0[200],light:w0[50],dark:w0[400]}:{main:w0[500],light:w0[300],dark:w0[700]}}function hfe(e="light"){return e==="dark"?{main:S0[500],light:S0[300],dark:S0[700]}:{main:S0[700],light:S0[400],dark:S0[800]}}function pfe(e="light"){return e==="dark"?{main:C0[400],light:C0[300],dark:C0[700]}:{main:C0[700],light:C0[500],dark:C0[900]}}function mfe(e="light"){return e==="dark"?{main:E0[400],light:E0[300],dark:E0[700]}:{main:E0[800],light:E0[500],dark:E0[900]}}function gfe(e="light"){return e==="dark"?{main:H1[400],light:H1[300],dark:H1[700]}:{main:"#ed6c02",light:H1[500],dark:H1[900]}}function bfe(e){const{mode:n="light",contrastThreshold:t=3,tonalOffset:r=.2}=e,i=mh(e,cfe),a=e.primary||dfe(n),s=e.secondary||ffe(n),l=e.error||hfe(n),u=e.info||pfe(n),d=e.success||mfe(n),f=e.warning||gfe(n);function g(x){return k6.getContrastRatio(x,Gw.text.primary)>=t?Gw.text.primary:HT.text.primary}const b=({color:x,name:y,mainShade:A=500,lightShade:w=300,darkShade:C=700})=>{if(x=Vr({},x),!x.main&&x[A]&&(x.main=x[A]),!x.hasOwnProperty("main"))throw new Error(Mg(11,y?` (${y})`:"",A));if(typeof x.main!="string")throw new Error(Mg(12,y?` (${y})`:"",JSON.stringify(x.main)));return WT(x,"light",w,r),WT(x,"dark",C,r),x.contrastText||(x.contrastText=g(x.main)),x},m={dark:Gw,light:HT};return Ic(Vr({common:Vr({},zg),mode:n,primary:b({color:a,name:"primary"}),secondary:b({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:l,name:"error"}),warning:b({color:f,name:"warning"}),info:b({color:u,name:"info"}),success:b({color:d,name:"success"}),grey:ufe,contrastThreshold:t,getContrastText:g,augmentColor:b,tonalOffset:r},m[n]),i)}const yfe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function xfe(e){return Math.round(e*1e5)/1e5}const YT={textTransform:"uppercase"},VT='"Roboto", "Helvetica", "Arial", sans-serif';function vfe(e,n){const t=typeof n=="function"?n(e):n,{fontFamily:r=VT,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:d=16,allVariants:f,pxToRem:g}=t,b=mh(t,yfe),m=i/14,x=g||(w=>`${w/d*m}rem`),y=(w,C,N,R,F)=>Vr({fontFamily:r,fontWeight:w,fontSize:x(C),lineHeight:N},r===VT?{letterSpacing:`${xfe(R/C)}em`}:{},F,f),A={h1:y(a,96,1.167,-1.5),h2:y(a,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(l,14,1.75,.4,YT),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,YT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ic(Vr({htmlFontSize:d,pxToRem:x,fontFamily:r,fontSize:i,fontWeightLight:a,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:u},A),b,{clone:!1})}const wfe=.2,Sfe=.14,Afe=.12;function vi(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${wfe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Sfe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Afe})`].join(",")}const Cfe=["none",vi(0,2,1,-1,0,1,1,0,0,1,3,0),vi(0,3,1,-2,0,2,2,0,0,1,5,0),vi(0,3,3,-2,0,3,4,0,0,1,8,0),vi(0,2,4,-1,0,4,5,0,0,1,10,0),vi(0,3,5,-1,0,5,8,0,0,1,14,0),vi(0,3,5,-1,0,6,10,0,0,1,18,0),vi(0,4,5,-2,0,7,10,1,0,2,16,1),vi(0,5,5,-3,0,8,10,1,0,3,14,2),vi(0,5,6,-3,0,9,12,1,0,3,16,2),vi(0,6,6,-3,0,10,14,1,0,4,18,3),vi(0,6,7,-4,0,11,15,1,0,4,20,3),vi(0,7,8,-4,0,12,17,2,0,5,22,4),vi(0,7,8,-4,0,13,19,2,0,5,24,4),vi(0,7,9,-4,0,14,21,2,0,5,26,4),vi(0,8,9,-5,0,15,22,2,0,6,28,5),vi(0,8,10,-5,0,16,24,2,0,6,30,5),vi(0,8,11,-5,0,17,26,2,0,6,32,5),vi(0,9,11,-5,0,18,28,2,0,7,34,6),vi(0,9,12,-6,0,19,29,2,0,7,36,6),vi(0,10,13,-6,0,20,31,3,0,8,38,7),vi(0,10,13,-6,0,21,33,3,0,8,40,7),vi(0,10,14,-6,0,22,35,3,0,8,42,7),vi(0,11,14,-7,0,23,36,3,0,9,44,8),vi(0,11,15,-7,0,24,38,3,0,9,46,8)],Efe=["duration","easing","delay"],_fe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},kfe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function GT(e){return`${Math.round(e)}ms`}function Nfe(e){if(!e)return 0;const n=e/36;return Math.round((4+15*n**.25+n/5)*10)}function Tfe(e){const n=Vr({},_fe,e.easing),t=Vr({},kfe,e.duration);return Vr({getAutoHeightDuration:Nfe,create:(r=["all"],i={})=>{const{duration:a=t.standard,easing:s=n.easeInOut,delay:l=0}=i;return mh(i,Efe),(Array.isArray(r)?r:[r]).map(u=>`${u} ${typeof a=="string"?a:GT(a)} ${s} ${typeof l=="string"?l:GT(l)}`).join(",")}},e,{easing:n,duration:t})}const jfe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Ofe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ife(e={},...n){const{mixins:t={},palette:r={},transitions:i={},typography:a={}}=e,s=mh(e,Ofe);if(e.vars&&e.generateCssVars===void 0)throw new Error(Mg(18));const l=bfe(r),u=XL(e);let d=Ic(u,{mixins:afe(u.breakpoints,t),palette:l,shadows:Cfe.slice(),typography:vfe(l,a),transitions:Tfe(i),zIndex:Vr({},jfe)});return d=Ic(d,s),d=n.reduce((f,g)=>Ic(f,g),d),d.unstable_sxConfig=Vr({},vb,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(f){return w2({sx:f,theme:this})},d}const Dfe=Ife(),Lfe="$$material";function Rfe(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Mfe=e=>Rfe(e)&&e!=="classes",Ffe=ife({themeId:Lfe,defaultTheme:Dfe,rootShouldForwardProp:Mfe});function Pfe(e){return ML("MuiSvgIcon",e)}tce("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const zfe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],qfe=e=>{const{color:n,fontSize:t,classes:r}=e,i={root:["root",n!=="inherit"&&`color${oh(n)}`,`fontSize${oh(t)}`]};return Zue(i,Pfe,r)},Bfe=Ffe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.color!=="inherit"&&n[`color${oh(t.color)}`],n[`fontSize${oh(t.fontSize)}`]]}})(({theme:e,ownerState:n})=>{var t,r,i,a,s,l,u,d,f,g,b,m,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=e.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((a=e.typography)==null||(s=a.pxToRem)==null?void 0:s.call(a,20))||"1.25rem",medium:((l=e.typography)==null||(u=l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem",large:((d=e.typography)==null||(f=d.pxToRem)==null?void 0:f.call(d,35))||"2.1875rem"}[n.fontSize],color:(g=(b=(e.vars||e).palette)==null||(b=b[n.color])==null?void 0:b.main)!=null?g:{action:(m=(e.vars||e).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(x=(e.vars||e).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[n.color]}}),N6=Q.forwardRef(function(e,n){const t=lce({props:e,name:"MuiSvgIcon"}),{children:r,className:i,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:f,viewBox:g="0 0 24 24"}=t,b=mh(t,zfe),m=Q.isValidElement(r)&&r.type==="svg",x=Vr({},t,{color:a,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:g,hasSvgAsChild:m}),y={};d||(y.viewBox=g);const A=qfe(x);return Kt.jsxs(Bfe,Vr({as:s,className:ice(A.root,i),focusable:"false",color:u,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n},y,b,m&&r.props,{ownerState:x,children:[m?r.props.children:r,f?Kt.jsx("title",{children:f}):null]}))});N6.muiName="SvgIcon";function Ufe(e,n){function t(r,i){return Kt.jsx(N6,Vr({"data-testid":`${n}Icon`,ref:i},r,{children:e}))}return t.muiName=N6.muiName,Q.memo(Q.forwardRef(t))}const $fe={configure:e=>{RL.configure(e)}},Hfe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:oh,createChainedFunction:Iue,createSvgIcon:Ufe,debounce:Due,deprecatedPropType:Lue,isMuiElement:Rue,ownerDocument:IL,ownerWindow:Mue,requirePropFactory:Fue,setRef:DL,unstable_ClassNameGenerator:$fe,unstable_useEnhancedEffect:LL,unstable_useId:zue,unsupportedProp:que,useControlled:Bue,useEventCallback:Uue,useForkRef:$ue,useIsFocusVisible:Xue},Symbol.toStringTag,{value:"Module"})),Wfe=Vd(Hfe);var QT;function S2(){return QT||(QT=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=Wfe}(xT)),xT}var KT;function Yfe(){if(KT)return U1;KT=1;var e=Cm();Object.defineProperty(U1,"__esModule",{value:!0}),U1.default=void 0;var n=e(S2()),t=gb();return U1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),U1}var Vfe=Yfe();const XT=mb(Vfe);var W1={},ZT;function Gfe(){if(ZT)return W1;ZT=1;var e=Cm();Object.defineProperty(W1,"__esModule",{value:!0}),W1.default=void 0;var n=e(S2()),t=gb();return W1.default=(0,n.default)((0,t.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),W1}var Qfe=Gfe();const Kfe=mb(Qfe);var Y1={},JT;function Xfe(){if(JT)return Y1;JT=1;var e=Cm();Object.defineProperty(Y1,"__esModule",{value:!0}),Y1.default=void 0;var n=e(S2()),t=gb();return Y1.default=(0,n.default)((0,t.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),Y1}var Zfe=Xfe();const Jfe=mb(Zfe);var V1={},ej;function ehe(){if(ej)return V1;ej=1;var e=Cm();Object.defineProperty(V1,"__esModule",{value:!0}),V1.default=void 0;var n=e(S2()),t=gb();return V1.default=(0,n.default)((0,t.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),V1}var the=ehe();const nhe=mb(the),nr={primary:"#0B53C0",primaryLight:"#CDDAFF",background:"#F0F4FF",white:"#FFFFFF",text:"#000000",success:"#4caf50",error:"#f44336",disabled:"#ccc"},Qn={modal:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"95%",sm:"80%",md:700},maxHeight:"90vh",bgcolor:nr.background,borderRadius:"16px",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)",p:3,outline:"none",overflow:"hidden",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,pb:2,borderBottom:`2px solid ${nr.primaryLight}`},title:{fontFamily:"Staatliches, Arial, sans-serif",fontSize:{xs:"1.5rem",sm:"2rem"},color:nr.text},closeButton:{color:nr.text,"&:hover":{bgcolor:nr.primaryLight}},progressBar:{height:8,borderRadius:4,bgcolor:nr.disabled,mb:3,"& .MuiLinearProgress-bar":{bgcolor:nr.primary,borderRadius:4}},questionCard:{bgcolor:nr.white,borderRadius:"12px",p:3,mb:3,minHeight:200,boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)"},questionText:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1.1rem",color:nr.text,mb:3},categoryBadge:{display:"inline-block",px:2,py:.5,bgcolor:nr.primaryLight,color:nr.text,borderRadius:"20px",fontSize:"0.85rem",fontFamily:"Gabarito, Arial, sans-serif",mb:2},answerInput:{width:"100%","& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif","& fieldset":{borderColor:nr.disabled},"&:hover fieldset":{borderColor:nr.primary},"&.Mui-focused fieldset":{borderColor:nr.primary}}},navigationDots:{display:"flex",justifyContent:"center",gap:1,my:2},dot:{width:12,height:12,borderRadius:"50%",border:"none",cursor:"pointer",transition:"all 0.3s","&:hover":{transform:"scale(1.2)"}},dotStates:{unanswered:{bgcolor:nr.disabled},answered:{bgcolor:nr.primaryLight},current:{bgcolor:nr.primary,transform:"scale(1.3)"}},navigationButtons:{display:"flex",justifyContent:"space-between",gap:2,mt:2},button:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",py:1,px:3,borderRadius:"20px",textTransform:"none"},primaryButton:{bgcolor:nr.primaryLight,color:nr.text,"&:hover":{bgcolor:nr.primary,color:nr.white}},secondaryButton:{bgcolor:nr.white,color:nr.text,border:`2px solid ${nr.primaryLight}`,"&:hover":{bgcolor:nr.primaryLight}},submitButton:{bgcolor:nr.success,color:nr.white,"&:hover":{bgcolor:"#388e3c"}},resultsContainer:{flex:1,overflowY:"auto",px:2},scoreCard:{bgcolor:nr.white,borderRadius:"12px",p:3,mb:3,textAlign:"center",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)"},scoreText:{fontSize:"3rem",fontFamily:"Staatliches, sans-serif",color:nr.primary},feedbackCard:{bgcolor:nr.white,borderRadius:"8px",p:2,mb:2,border:`1px solid ${nr.disabled}`},correctAnswer:{borderLeft:`4px solid ${nr.success}`},incorrectAnswer:{borderLeft:`4px solid ${nr.error}`}},ZL="https://rag-flask-api.onrender.com",rhe=async e=>{if(!(e!=null&&e.trim()))throw new Error("Chatbot ID is required");try{const n=await fetch(`${ZL}/get_quiz?chatbot_id=${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json"}}),t=await n.json();if(!n.ok||!t.success)throw new Error(t.error||"Failed to fetch quiz");return{quizId:t.quiz_id,questions:t.questions||[]}}catch(n){throw console.error("Error fetching quiz:",n),n}},ihe=async(e,n,t)=>{if(!e||!n||!t||Object.keys(t).length===0)throw new Error("Invalid quiz submission");try{const r=await fetch(`${ZL}/grade_quiz`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatbot_id:e,quiz_id:n,answers:t})}),i=await r.json();if(!r.ok||!i.success)throw new Error(i.error||"Quiz grading failed");return i.summary}catch(r){throw console.error("Error grading quiz:",r),r}},ahe=(e,n)=>{if(e)try{const t=`quiz_progress_${e}`;localStorage.setItem(t,JSON.stringify({answers:n,timestamp:new Date().toISOString()}))}catch(t){console.error("Failed to save progress:",t)}},she=e=>{if(!e)return null;try{const n=`quiz_progress_${e}`,t=localStorage.getItem(n);if(!t)return null;const r=JSON.parse(t),i=new Date(r.timestamp);return(new Date-i)/(1e3*60*60)>24?(localStorage.removeItem(n),null):r.answers}catch(n){return console.error("Failed to load progress:",n),null}},Qw=e=>{if(e)try{const n=`quiz_progress_${e}`;localStorage.removeItem(n)}catch(n){console.error("Failed to clear progress:",n)}},ohe=e=>{const n=((e==null?void 0:e.bloom_level)||(e==null?void 0:e.bloomLevel)||"").toString().toLowerCase();return n==="remember"||n==="understand"?"lower":n==="apply"?"middle":n==="analyze"||n==="evaluate"||n==="create"?"upper":"lower"},lhe=e=>e==="easy"?5:e==="hard"?10:8,uhe=(e,n)=>{const t=[],r=[],i=[];e.forEach(d=>{const f=ohe(d);f==="lower"?t.push(d):f==="middle"?r.push(d):i.push(d)});const a=d=>{const f=[...d];for(let g=f.length-1;g>0;g-=1){const b=Math.floor(Math.random()*(g+1));[f[g],f[b]]=[f[b],f[g]]}return f},s=lhe(n);let l=[];if(n==="easy"){const d=a(t),f=a(r),g=a(i);l=[...d.slice(0,s)],l.length<s&&(l=[...l,...f.slice(0,s-l.length)]),l.length<s&&(l=[...l,...g.slice(0,s-l.length)])}else if(n==="medium"){const d=a(r),f=a(t),g=a(i);l=[...d.slice(0,s)],l.length<s&&(l=[...l,...f.slice(0,s-l.length)]),l.length<s&&(l=[...l,...g.slice(0,s-l.length)])}else{const d=a(i),f=a(r),g=a(t);l=[...d.slice(0,s)],l.length<s&&(l=[...l,...f.slice(0,s-l.length)]),l.length<s&&(l=[...l,...g.slice(0,s-l.length)])}const u=Math.min(s,l.length);return{selected:l.slice(0,u),selection:{mode:n,target:s,finalCount:u},totalAvailable:{lower:t.length,middle:r.length,upper:i.length}}},che=Q.forwardRef(({chatbotId:e,open:n,onClose:t,difficulty:r="medium",onQuizStart:i,onQuizProgress:a,onAnswerChange:s,onQuizSubmit:l,onQuizClose:u,onError:d},f)=>{const[g,b]=Q.useState(null),[m,x]=Q.useState([]),[y,A]=Q.useState(null),[w,C]=Q.useState(0),[N,R]=Q.useState({}),[F,q]=Q.useState(!0),[k,L]=Q.useState(!1),[B,X]=Q.useState(""),[T,O]=Q.useState(!1),[P,j]=Q.useState(null),G=Q.useRef(null),W=Q.useRef(null);Q.useEffect(()=>{n&&e&&K()},[n,e,r]),Q.useEffect(()=>{if(W.current&&Object.keys(N).length>0){ahe(W.current,N);const De=m.length,Me=De>0?Object.keys(N).length/De*100:0;a==null||a({quizId:g==null?void 0:g.quizId,answers:N,percentComplete:Me,selection:y||void 0})}},[N,W.current,m.length]);const K=async()=>{q(!0),X(""),O(!1),j(null),C(0),R({}),x([]),A(null),G.current=new Date;try{const De=await rhe(e),{selected:Me,selection:We,totalAvailable:Ye}=uhe((De==null?void 0:De.questions)||[],r);b(De),x(Me),A(We);const Y=`${De.quizId}::${r}`;W.current=Y;const Se=she(Y);Se&&R(Se),i==null||i({quizId:De.quizId,chatbotId:e,startedAt:G.current,selection:We,totalAvailable:Ye})}catch(De){const Me=(De==null?void 0:De.message)||"Failed to load quiz";X(Me),d==null||d(De,"load")}finally{q(!1)}},ie=m[w],ce=m.length||0,$=ce>0?(w+1)/ce*100:0,ae=De=>{if(!ie)return;const Me={...N,[ie.id]:De};R(Me),s==null||s({quizId:g==null?void 0:g.quizId,questionId:ie.id,value:De,answers:Me})},U=()=>{w<ce-1&&C(De=>De+1)},z=()=>{w>0&&C(De=>De-1)},Z=De=>C(De),ee=async()=>{if(!g)return;const De=m.filter(Me=>!N[Me.id]);if(De.length>0){X(`Please answer all questions (${De.length} remaining)`);return}L(!0),X("");try{const Me=new Date,We={};m.forEach(Y=>{We[Y.id]=N[Y.id]});const Ye=await ihe(e,g.quizId,We);j(Ye),O(!0),W.current&&Qw(W.current),l==null||l({quizId:g.quizId,chatbotId:e,startedAt:G.current,submittedAt:Me,answers:We,summary:Ye,selection:y||void 0})}catch(Me){const We=`Failed to submit quiz: ${(Me==null?void 0:Me.message)||""}`.trim();X(We),d==null||d(Me,"submit")}finally{L(!1)}},oe=()=>{W.current&&Qw(W.current),u==null||u({quizId:g==null?void 0:g.quizId,chatbotId:e,answers:N,summary:P,completed:T,closedAt:new Date,selection:y||void 0}),t()},we=(De,Me)=>{const We=Me===w,Ye=!!N[De];return{isCurrent:We,hasAnswer:Ye}},xe=()=>{const De=(ie==null?void 0:ie.answer_type)||"text",Me=N[ie==null?void 0:ie.id]||"";return Kt.jsx(Wt,{multiline:De==="long_answer",rows:De==="long_answer"?6:1,value:Me,onChange:We=>ae(We.target.value),placeholder:"Enter your answer here...",sx:Qn.answerInput,disabled:k})};if(Q.useImperativeHandle(f,()=>({reloadQuiz:K,clearProgress:()=>W.current&&Qw(W.current),submit:ee,getAnswers:()=>N,getSummary:()=>P,close:oe})),T&&P){const De=(()=>{const We=P==null?void 0:P.percent;if(typeof We=="number"&&Number.isFinite(We))return Math.round(We);const Ye=P==null?void 0:P.score;if(typeof Ye=="number"&&Number.isFinite(Ye))return Math.round(Ye);const Y=Number(P==null?void 0:P.total_score)||0,Se=Number(P==null?void 0:P.total_max)||0;return Se>0?Math.round(Y/Se*100):0})(),Me=P.items||P.questions||{};return Kt.jsx(Tx,{open:n,onClose:oe,children:Kt.jsxs(he,{sx:Qn.modal,children:[Kt.jsxs(he,{sx:Qn.header,children:[Kt.jsx(ge,{sx:Qn.title,children:"Quiz Results"}),Kt.jsx(On,{onClick:oe,sx:Qn.closeButton,children:Kt.jsx(XT,{})})]}),Kt.jsxs(he,{sx:Qn.resultsContainer,children:[Kt.jsxs(he,{sx:Qn.scoreCard,children:[Kt.jsxs(ge,{sx:Qn.scoreText,children:[De,"%"]}),Kt.jsx(ge,{variant:"h6",sx:{fontFamily:"Gabarito"},children:"Final Score"}),P.total_score!==void 0&&Kt.jsxs(ge,{variant:"body2",sx:{mt:1},children:[P.total_score," / ",P.total_max," points"]})]}),P.feedback&&Kt.jsx(vr,{severity:"info",sx:{mb:2},children:P.feedback}),!!m.length&&!!Object.keys(Me).length&&Kt.jsxs(he,{children:[Kt.jsx(ge,{variant:"h6",sx:{mb:2,fontFamily:"Staatliches"},children:"Question Breakdown"}),m.map(We=>{const Ye=Me[We.id]||{},Y=Ye.score??0,Se=Ye.verdict==="correct"||Y>=70||Ye.passed===!0;return Kt.jsxs(he,{sx:{...Qn.feedbackCard,...Se?Qn.correctAnswer:Qn.incorrectAnswer},children:[Kt.jsxs(ge,{variant:"body2",sx:{mb:1},children:["Q: ",(We==null?void 0:We.question)||"Question not found"]}),Kt.jsxs(ge,{variant:"caption",color:"textSecondary",children:["Your answer: ",N[We.id]]}),Ye.score!==void 0&&Kt.jsxs(ge,{variant:"caption",display:"block",sx:{mt:1},children:["Score: ",Y,"/",Ye.max_score||100]}),(Ye.feedback||Ye.reasoning)&&Kt.jsx(ge,{variant:"caption",display:"block",sx:{mt:1},children:Ye.feedback||Ye.reasoning})]},We.id)})]})]}),Kt.jsx(At,{fullWidth:!0,variant:"contained",onClick:oe,sx:{...Qn.button,...Qn.primaryButton,mt:2},children:"Close"})]})})}const Ee=y&&y.finalCount<y.target;return Kt.jsx(Tx,{open:n,onClose:oe,children:Kt.jsxs(he,{sx:Qn.modal,children:[Kt.jsxs(he,{sx:Qn.header,children:[Kt.jsx(ge,{sx:Qn.title,children:"Quiz"}),Kt.jsx(On,{onClick:oe,sx:Qn.closeButton,children:Kt.jsx(XT,{})})]}),y&&Kt.jsx(he,{sx:{mb:1},children:Kt.jsx(cr,{label:`Mode: ${y.mode}  ${y.finalCount} Qs`,size:"small",sx:Qn.categoryBadge})}),Ee&&Kt.jsxs(vr,{severity:"info",sx:{mb:2},children:["Not enough questions available for ",y.mode,". Showing"," ",y.finalCount," instead of ",y.target,"."]}),F?Kt.jsx(he,{sx:{display:"flex",justifyContent:"center",py:5},children:Kt.jsx(hi,{})}):B&&!g?Kt.jsx(vr,{severity:"error",children:B}):g&&ie?Kt.jsxs(Kt.Fragment,{children:[Kt.jsx(Ko,{variant:"determinate",value:$,sx:Qn.progressBar}),Kt.jsxs(he,{sx:Qn.questionCard,children:[Kt.jsxs(he,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[Kt.jsxs(ge,{variant:"h6",sx:{fontFamily:"Staatliches"},children:["Question ",w+1," of ",ce]}),ie.category&&Kt.jsx(cr,{label:ie.category,size:"small",sx:Qn.categoryBadge})]}),Kt.jsx(ge,{sx:Qn.questionText,children:ie.question}),xe()]}),B&&Kt.jsx(vr,{severity:"error",sx:{mb:2},children:B}),Kt.jsx(he,{sx:Qn.navigationDots,children:m.map((De,Me)=>{const{isCurrent:We,hasAnswer:Ye}=we(De.id,Me);return Kt.jsx(he,{component:"button",onClick:()=>Z(Me),title:Ye?"Answered":"Unanswered",sx:{...Qn.dot,...Ye&&!We&&Qn.dotStates.answered,...!Ye&&!We&&Qn.dotStates.unanswered,...We&&Qn.dotStates.current}},De.id)})}),Kt.jsxs(he,{sx:Qn.navigationButtons,children:[Kt.jsx(At,{startIcon:Kt.jsx(Kfe,{}),onClick:z,disabled:w===0,sx:{...Qn.button,...Qn.secondaryButton},children:"Previous"}),w===ce-1?Kt.jsx(At,{onClick:ee,disabled:k,endIcon:Kt.jsx(nhe,{}),sx:{...Qn.button,...Qn.submitButton},children:k?Kt.jsx(hi,{size:20}):"Submit Quiz"}):Kt.jsx(At,{endIcon:Kt.jsx(Jfe,{}),onClick:U,sx:{...Qn.button,...Qn.primaryButton},children:"Next"})]})]}):Kt.jsx(vr,{severity:"info",children:"No quiz available"})]})})}),tj={totalQuizzes:0,completedQuizzes:0,averageScore:0,difficultyBreakdown:{easy:0,medium:0,hard:0}},JL=wp()(Gg(bv((e,n)=>({currentSession:null,sessions:[],statistics:tj,isModalOpen:!1,currentChatbotId:null,currentDifficulty:"medium",loading:!1,error:null,isQuizActive:!1,currentAnswers:{},lastSummary:null,openQuizModal:(t,r="medium")=>{e({isModalOpen:!0,currentChatbotId:t,currentDifficulty:r,error:null})},closeQuizModal:()=>{e({isModalOpen:!1,error:null})},setDifficulty:t=>{e({currentDifficulty:t})},setLoading:t=>{e({loading:t})},setError:t=>{e({error:t})},startQuiz:t=>{const r={id:`session_${Date.now()}`,quizId:t.quizId,chatbotId:t.chatbotId,userId:"",difficulty:t.selection.mode,startedAt:t.startedAt,completed:!1,answers:{}};e({currentSession:r,isQuizActive:!0,currentAnswers:{},lastSummary:null,error:null})},updateAnswers:t=>{const{currentSession:r}=n();if(!r)return;const i={...t.answers};e({currentAnswers:i,currentSession:{...r,answers:i}})},submitQuiz:t=>{console.log(" Quiz Store: Quiz submitted. Data should be saved by quiz modal API:",t),e({lastSummary:t.summary,isQuizActive:!1})},closeQuiz:t=>{console.log(" Quiz Store: Quiz closed. Data handled by quiz modal API:",t),e({currentSession:null,isQuizActive:!1,isModalOpen:!1,currentAnswers:{},lastSummary:t.completed?t.summary:null})},addSession:t=>{e(r=>({sessions:[...r.sessions,t]}))},updateSession:(t,r)=>{e(i=>{var a;return{sessions:i.sessions.map(s=>s.id===t?{...s,...r}:s),currentSession:((a=i.currentSession)==null?void 0:a.id)===t?{...i.currentSession,...r}:i.currentSession}})},deleteSession:t=>{e(r=>({sessions:r.sessions.filter(i=>i.id!==t)}))},clearCurrentSession:()=>{e({currentSession:null,isQuizActive:!1,currentAnswers:{},lastSummary:null})},updateStatistics:()=>{const{sessions:t}=n(),r=t.filter(l=>l.completed),i=r.reduce((l,u)=>{var d;return l+(((d=u.summary)==null?void 0:d.percent)||0)},0),a=t.reduce((l,u)=>({...l,[u.difficulty]:l[u.difficulty]+1}),{easy:0,medium:0,hard:0}),s={totalQuizzes:t.length,completedQuizzes:r.length,averageScore:r.length>0?i/r.length:0,difficultyBreakdown:a,lastQuizDate:t.length>0?t[t.length-1].startedAt:void 0};e({statistics:s})},saveSessionToFirestore:async t=>{try{const{db:r}=await Li(async()=>{const{db:s}=await Promise.resolve().then(()=>tp);return{db:s}},void 0),{doc:i,setDoc:a}=await Li(async()=>{const{doc:s,setDoc:l}=await import("./firebase-CTJJwFJC.js").then(u=>u.B);return{doc:s,setDoc:l}},[]);await a(i(r,"quizSessions",t.id),{...t,timestamp:new Date().toISOString()}),console.log("Quiz session saved to Firestore:",t.id)}catch(r){console.error("Failed to save quiz session:",r),e({error:"Failed to save quiz session"})}},fetchUserSessions:async t=>{try{e({loading:!0,error:null});const{db:r}=await Li(async()=>{const{db:b}=await Promise.resolve().then(()=>tp);return{db:b}},void 0),{collection:i,query:a,where:s,getDocs:l,orderBy:u}=await Li(async()=>{const{collection:b,query:m,where:x,getDocs:y,orderBy:A}=await import("./firebase-CTJJwFJC.js").then(w=>w.B);return{collection:b,query:m,where:x,getDocs:y,orderBy:A}},[]),d=a(i(r,"quizSessions"),s("userId","==",t),u("startedAt","desc")),g=(await l(d)).docs.map(b=>({id:b.id,...b.data()}));e({sessions:g,loading:!1}),n().updateStatistics()}catch(r){r instanceof Error&&r.message.includes("permissions")?(console.warn("User does not have permission to access quiz sessions"),e({sessions:[],loading:!1,error:null})):(console.error("Failed to fetch quiz sessions:",r),e({error:"Failed to fetch quiz sessions",loading:!1}))}},reset:()=>{e({currentSession:null,sessions:[],statistics:tj,isModalOpen:!1,currentChatbotId:null,currentDifficulty:"medium",loading:!1,error:null,isQuizActive:!1,currentAnswers:{},lastSummary:null})}}),{name:"quiz-store",partialize:e=>({currentDifficulty:e.currentDifficulty}),merge:(e,n)=>({...n,...e||{},currentDifficulty:(e==null?void 0:e.currentDifficulty)||"medium"})}),{name:"quiz-store"})),Jf=Zn(),eh={QUIZ_SESSIONS:"quizSessions",QUIZ_EVENTS:"quizEvents"},dhe=async(e,n)=>{try{const t=ja.now(),r=ja.fromDate(new Date(e.startedAt)),i=5*1e3,a=ja.fromMillis(r.toMillis()-i),s=ja.fromMillis(r.toMillis()+i),l=tl(vn(Jf,eh.QUIZ_SESSIONS),wi("quizId","==",e.quizId),wi("userId","==",n),wi("startedAt",">=",a),wi("startedAt","<=",s),pv(1)),u=await pi(l);if(!u.empty){console.log(" Quiz session with same start time already exists, skipping duplicate:",{quizId:e.quizId,startedAt:e.startedAt,userId:n.substring(0,8)+"...",existingSessionId:u.docs[0].id});return}const d={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,startedAt:ja.fromDate(new Date(e.startedAt)),completed:!1,difficulty:e.selection.mode,selection:{mode:e.selection.mode,target:e.selection.target,finalCount:e.selection.finalCount},createdAt:t,updatedAt:t},f={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_started",timestamp:t,data:e,createdAt:t};await Promise.all([Ma(vn(Jf,eh.QUIZ_SESSIONS),d),Ma(vn(Jf,eh.QUIZ_EVENTS),f)]),console.log(" Quiz start event saved to Firestore:",{quizId:e.quizId,difficulty:e.selection.mode,userId:n.substring(0,8)+"..."})}catch(t){throw console.error(" Error saving quiz start event:",t),t}},fhe=async(e,n)=>{try{const t=ja.now(),r={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"answer_changed",timestamp:t,data:{quizId:e.quizId,chatbotId:e.chatbotId,questionId:e.questionId,value:e.value,answers:e.answers},createdAt:t};await Ma(vn(Jf,eh.QUIZ_EVENTS),r),console.log(" Answer change event saved to Firestore:",{quizId:e.quizId,questionId:e.questionId,userId:n.substring(0,8)+"..."})}catch(t){console.error(" Error saving answer change event:",t)}},hhe=async(e,n)=>{try{const t=ja.now(),r=ja.fromMillis(t.toMillis()-3600*1e3),i=tl(vn(Jf,eh.QUIZ_SESSIONS),wi("quizId","==",e.quizId),wi("userId","==",n),wi("completed","==",!1),wi("createdAt",">=",r),hv("createdAt","desc")),a=await pi(i);if(a.empty)throw console.error(" No incomplete session found for quiz submission - this should not happen!",{quizId:e.quizId,userId:n.substring(0,8)+"...",submittedAt:e.submittedAt}),new Error("No matching quiz session found for submission");{const l=a.docs[0],u=l.ref,d=l.data(),f={submittedAt:ja.fromDate(new Date(e.submittedAt)),completed:!0,finalAnswers:e.answers,summary:e.summary,updatedAt:t};await Wr(u,f),console.log(" Updated quiz session:",{quizId:e.quizId,difficulty:d.difficulty,score:`${e.summary.total_score}/${e.summary.total_max}`,userId:n.substring(0,8)+"..."})}const s={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_submitted",timestamp:t,data:e,createdAt:t};await Ma(vn(Jf,eh.QUIZ_EVENTS),s),console.log(" Quiz submission saved to Firestore:",{quizId:e.quizId,score:`${e.summary.total_score}/${e.summary.total_max} (${e.summary.percent}%)`})}catch(t){throw console.error(" Error saving quiz submission:",t),t}},phe=async(e,n)=>{try{const t=ja.now(),r=tl(vn(Jf,eh.QUIZ_SESSIONS),wi("quizId","==",e.quizId),wi("userId","==",n)),i=await pi(r);if(!i.empty){const l=i.docs[0].ref,u={closedAt:ja.fromDate(new Date(e.closedAt)),updatedAt:t};e.completed&&e.summary&&(u.completed=!0,u.finalAnswers=e.answers,u.summary=e.summary),await Wr(l,u)}const a={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_closed",timestamp:t,data:e,createdAt:t};await Ma(vn(Jf,eh.QUIZ_EVENTS),a),console.log(" Quiz close event saved to Firestore:",{quizId:e.quizId,completed:e.completed})}catch(t){throw console.error(" Error saving quiz close event:",t),t}},e9=Q.forwardRef(({chatbotId:e,difficulty:n,open:t,onClose:r,eventHandlers:i},a)=>{const{userDetails:s}=Ai(),l=Q.useRef(null),{startQuiz:u,updateAnswers:d,submitQuiz:f,closeQuiz:g,setError:b}=JL(),m=Q.useCallback(C=>{console.log("Quiz started:",C),u(C),s!=null&&s.uid&&dhe(C,s.uid).catch(N=>{console.error("Failed to save quiz start event:",N)}),i!=null&&i.onQuizStart&&i.onQuizStart(C)},[s==null?void 0:s.uid,u,i]),x=Q.useCallback(C=>{if(console.log("Answer changed:",C),d(C),s!=null&&s.uid){const N={...C,chatbotId:C.chatbotId||e};fhe(N,s.uid).catch(R=>{console.warn("Failed to save answer change event:",R)})}i!=null&&i.onAnswerChange&&i.onAnswerChange(C)},[d,i,s==null?void 0:s.uid,e]),y=Q.useCallback(C=>{console.log("Quiz submitted:",C),f(C),s!=null&&s.uid&&hhe(C,s.uid).catch(N=>{console.error("Failed to save quiz submission event:",N)}),i!=null&&i.onQuizSubmit&&i.onQuizSubmit(C)},[f,i,s==null?void 0:s.uid]),A=Q.useCallback(C=>{console.log("Quiz closed:",C),g(C),s!=null&&s.uid&&phe(C,s.uid).catch(N=>{console.error("Failed to save quiz close event:",N)}),i!=null&&i.onQuizClose&&i.onQuizClose(C)},[g,i,s==null?void 0:s.uid]),w=Q.useCallback((C,N)=>{console.error("Error in",N,C),b(`Quiz ${N} failed: ${C.message}`),i!=null&&i.onError&&i.onError(C,N)},[b,i]);return Q.useImperativeHandle(a,()=>({reloadQuiz:()=>{l.current&&l.current.reloadQuiz()},clearProgress:()=>{l.current&&l.current.clearProgress()},submit:()=>{l.current&&l.current.submit()},getAnswers:()=>l.current?l.current.getAnswers():{},getSummary:()=>l.current?l.current.getSummary():null,close:()=>{l.current&&l.current.close(),r()}})),h.jsx(che,{ref:l,chatbotId:e,open:t,onClose:r,difficulty:n,onQuizStart:m,onAnswerChange:x,onQuizSubmit:y,onQuizClose:A,onError:w})});e9.displayName="QuizWrapper";const mhe=({onStartQuiz:e,disabled:n=!1})=>{const[t,r]=Q.useState(null),i=!!t,a=d=>{r(d.currentTarget)},s=()=>{r(null)},l=d=>{e(d),s()},u=[{value:"easy",description:"~5 questions",icon:h.jsx(Dd,{color:"success"}),color:"success"},{value:"medium",description:"~8 questions",icon:h.jsx(GR,{color:"warning"}),color:"warning"},{value:"hard",description:"Up to 10 questions",icon:h.jsx(QR,{color:"error"}),color:"error"}];return h.jsxs(h.Fragment,{children:[h.jsx(At,{variant:"contained",onClick:a,disabled:n,startIcon:i?h.jsx(dg,{}):h.jsx(Rc,{}),sx:{background:"#0B53C0",color:"white",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",fontWeight:"bold",px:3,py:1.5,borderRadius:"12px",textTransform:"none","&:hover":{background:"#064a9e",boxShadow:"0px 4px 12px rgba(11, 83, 192, 0.3)"},"&:disabled":{background:"#ccc",color:"#999"},boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",transition:"all 0.2s ease-in-out"},children:"Start Quiz"}),h.jsxs(VR,{anchorEl:t,open:i,onClose:s,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"},PaperProps:{sx:{minWidth:300,borderRadius:2,border:"1px solid #e0e0e0",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)","& .MuiMenuItem-root":{py:1.5,px:2,borderRadius:1,mx:1,mb:.5,"&:hover":{backgroundColor:"#f5f5f5",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},"&:last-child":{mb:1}}}},children:[h.jsx(he,{sx:{px:2,py:1.5,borderBottom:"1px solid #e0e0e0",backgroundColor:"#CDDAFF"},children:h.jsx(ge,{variant:"subtitle1",sx:{fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.1rem",textAlign:"center"},children:"Select Quiz Difficulty"})}),u.map(d=>h.jsxs(Xn,{onClick:()=>l(d.value),children:[h.jsx(Zy,{sx:{minWidth:40},children:d.icon}),h.jsx(Ol,{primary:h.jsx(ge,{variant:"body1",sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#333",fontWeight:"bold"},children:d.value.charAt(0).toUpperCase()+d.value.slice(1)}),secondary:h.jsx(ge,{variant:"body2",sx:{fontFamily:"Gabarito, sans-serif",color:"#666",fontSize:"0.875rem"},children:d.description})})]},d.value))]})]})},_0="ce5f7921-a3a0-4ea7-b95f-10fe41becda5",ghe=({defaultDifficulty:e="medium",position:n="fixed"})=>{const{userDetails:t}=Ai(),[r]=Yg(),i=Q.useRef(null),{isModalOpen:a,currentChatbotId:s,currentDifficulty:l,statistics:u,openQuizModal:d,closeQuizModal:f,setDifficulty:g,fetchUserSessions:b,setError:m}=JL(),[x,y]=at.useState(_0);Q.useEffect(()=>{const R=r.get("material");if(!R){x!==_0&&y(_0);return}(async()=>{try{console.log(" Fetching chatbot ID for quiz material:",R);const q=Zn(),k=vn(q,"chatbots"),L=tl(k,wi("material.id","==",R)),B=await pi(L);if(B.empty)console.log(` No chatbot found for material ${R}, using default for quiz:`,_0),y(_0);else{const X=B.docs[0].data();console.log(` Found chatbot for quiz material ${R}:`,X.chatbotId),y(X.chatbotId)}}catch(q){console.error("Failed to fetch chatbot for quiz:",q),m("Failed to load quiz for this material"),y(_0)}})()},[r,x,m]),Q.useEffect(()=>{t!=null&&t.uid&&(t.isAdmin||t.isSuperAdmin)&&b(t.uid)},[t==null?void 0:t.uid,t==null?void 0:t.isAdmin,t==null?void 0:t.isSuperAdmin,b]),Q.useEffect(()=>{g(e)},[e,g]);const A=Q.useCallback(R=>{x?d(x,R):m("No chatbot available for quiz")},[x,d,m]),w=Q.useCallback(()=>{f()},[f]);if(!(t!=null&&t.uid)||!r.get("material"))return null;const N=n==="fixed"?{position:"fixed",bottom:120,right:16,zIndex:1e3}:{position:"relative"};return h.jsxs(h.Fragment,{children:[h.jsx(he,{sx:N,children:h.jsx(mhe,{onStartQuiz:A,disabled:!x})}),a&&s&&h.jsx(e9,{ref:i,chatbotId:s,difficulty:l,open:a,onClose:w,eventHandlers:{onQuizStart:R=>{},onQuizSubmit:R=>{},onError:(R,F)=>{console.error("Quiz error:",F,R)}}})]})},bhe=({children:e})=>h.jsxs(he,{sx:{display:"flex",flexDirection:"column",height:"100vh",backgroundColor:se.background.primary,overflow:"hidden"},children:[h.jsx(he,{component:"header",sx:{height:"12.5vh",minHeight:90,zIndex:1100,flexShrink:0},children:h.jsx(gee,{})}),h.jsx(he,{component:"main",sx:{height:"77.5vh",display:"flex",flexGrow:1,overflow:"hidden"},children:h.jsx(mee,{children:e})}),h.jsx(he,{component:"footer",sx:{height:"10vh",minHeight:70,flexShrink:0},children:h.jsx(bee,{})}),h.jsx(Sue,{}),h.jsx(ghe,{}),h.jsx(BM,{})]}),yhe=()=>{const{userDetails:e,isSuperAdmin:n}=Ai(),t=dee(e,n),r=V3(t);return e!=null&&e.uid?h.jsx(bhe,{children:r}):r},xhe=()=>{const{userDetails:e,loading:n}=Ai();if(n)return h.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:h.jsx(hi,{})});const t="/nexlab";return e!=null&&e.uid,h.jsxs(KR,{theme:fee,children:[h.jsx(XR,{}),h.jsx(dM,{basename:t,future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:h.jsx(Q.Suspense,{fallback:h.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:h.jsx(hi,{})}),children:h.jsx(yhe,{})})})]})},vhe=document.getElementById("root"),whe=y3.createRoot(vhe);whe.render(h.jsx(yM,{children:h.jsx(xhe,{})}));export{nP as A,rP as B,Sp as C,bee as D,e7 as E,t7 as F,iP as G,tp as H,The as I,Fl as P,_v as R,KM as V,Li as _,Ut as a,jt as b,se as c,wc as d,Lj as e,ch as f,Hj as g,DM as h,Rj as i,ht as j,ma as k,qhe as l,y4 as m,x4 as n,Yg as o,qM as p,khe as q,$d as r,st as s,Ie as t,Ai as u,wp as v,Gg as w,bv as x,EX as y,RJ as z};
